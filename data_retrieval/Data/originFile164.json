{"items":[{"tags":["java","list"],"answers":[{"tags":[],"owner":{"account_id":11188,"reputation":75684,"user_id":21441,"accept_rate":100,"display_name":"Mark Elliot"},"down_vote_count":1,"up_vote_count":56,"is_accepted":true,"score":55,"last_activity_date":1356841724,"creation_date":1295830185,"answer_id":4777636,"question_id":4777622,"body_markdown":"You can use the `Entry&lt;U,V&gt;` class that `HashMap` uses but you&#39;ll be stuck with its semantics of `getKey` and `getValue`:\r\n\r\n    List&lt;Entry&lt;Float,Short&gt;&gt; pairList = //...\r\n\r\nMy preference would be to create your own simple `Pair` class:\r\n\r\n    public class Pair&lt;L,R&gt; {\r\n        private L l;\r\n        private R r;\r\n        public Pair(L l, R r){\r\n            this.l = l;\r\n            this.r = r;\r\n        }\r\n        public L getL(){ return l; }\r\n        public R getR(){ return r; }\r\n        public void setL(L l){ this.l = l; }\r\n        public void setR(R r){ this.r = r; }\r\n    }\r\n\r\nThen of course make a `List` using this new class, e.g.:\r\n\r\n    List&lt;Pair&lt;Float,Short&gt;&gt; pairList = new ArrayList&lt;Pair&lt;Float,Short&gt;&gt;();\r\n\r\nYou can also always make a `List`s of `List`s, but it becomes difficult to enforce sizing (that you have only pairs) and you would be required, as with arrays, to have consistent typing.","title":"Creating a list of pairs in java","body":"<p>You can use the <code>Entry&lt;U,V&gt;</code> class that <code>HashMap</code> uses but you'll be stuck with its semantics of <code>getKey</code> and <code>getValue</code>:</p>\n\n<pre><code>List&lt;Entry&lt;Float,Short&gt;&gt; pairList = //...\n</code></pre>\n\n<p>My preference would be to create your own simple <code>Pair</code> class:</p>\n\n<pre><code>public class Pair&lt;L,R&gt; {\n    private L l;\n    private R r;\n    public Pair(L l, R r){\n        this.l = l;\n        this.r = r;\n    }\n    public L getL(){ return l; }\n    public R getR(){ return r; }\n    public void setL(L l){ this.l = l; }\n    public void setR(R r){ this.r = r; }\n}\n</code></pre>\n\n<p>Then of course make a <code>List</code> using this new class, e.g.:</p>\n\n<pre><code>List&lt;Pair&lt;Float,Short&gt;&gt; pairList = new ArrayList&lt;Pair&lt;Float,Short&gt;&gt;();\n</code></pre>\n\n<p>You can also always make a <code>List</code>s of <code>List</code>s, but it becomes difficult to enforce sizing (that you have only pairs) and you would be required, as with arrays, to have consistent typing.</p>\n"},{"tags":[],"owner":{"account_id":116580,"reputation":118703,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1295830363,"creation_date":1295830363,"answer_id":4777648,"question_id":4777622,"body_markdown":"Use a List of custom class instances.  The custom class is some sort of Pair or Coordinate or whatever.  Then just\r\n\r\n\r\n    List&lt;Coordinate&gt; = new YourFavoriteListImplHere&lt;Coordinate&gt;()\r\n\r\n\r\nThis approach has the advantage that it makes satisfying this requirement &quot;perform simple math (like multiplying the pair together to return a single float, etc)&quot; clean, because your custom class can have methods for whatever maths you need to do...","title":"Creating a list of pairs in java","body":"<p>Use a List of custom class instances.  The custom class is some sort of Pair or Coordinate or whatever.  Then just</p>\n\n<pre><code>List&lt;Coordinate&gt; = new YourFavoriteListImplHere&lt;Coordinate&gt;()\n</code></pre>\n\n<p>This approach has the advantage that it makes satisfying this requirement \"perform simple math (like multiplying the pair together to return a single float, etc)\" clean, because your custom class can have methods for whatever maths you need to do...</p>\n"},{"tags":[],"owner":{"account_id":286561,"reputation":1474,"user_id":585882,"accept_rate":83,"display_name":"Shezan Baig"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1295830508,"creation_date":1295830508,"answer_id":4777658,"question_id":4777622,"body_markdown":"Sounds like you need to create your own pair class (see [discussion here][1]).  Then make a List of that pair class you created\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/156275/what-is-the-equivalent-of-the-c-pairl-r-in-java","title":"Creating a list of pairs in java","body":"<p>Sounds like you need to create your own pair class (see <a href=\"https://stackoverflow.com/questions/156275/what-is-the-equivalent-of-the-c-pairl-r-in-java\">discussion here</a>).  Then make a List of that pair class you created</p>\n"},{"tags":[],"owner":{"account_id":33407,"reputation":876,"user_id":93508,"display_name":"gbvb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1295830512,"creation_date":1295830512,"answer_id":4777659,"question_id":4777622,"body_markdown":"Similar to what Mark E has proposed, you have to come up with your own. Just to help you a bit, there is a neat article http://gleichmann.wordpress.com/2008/01/15/building-your-own-literals-in-java-tuples-and-maps/ which gives you a really neat way of creating tuples and maps that might be something you might want to consider.","title":"Creating a list of pairs in java","body":"<p>Similar to what Mark E has proposed, you have to come up with your own. Just to help you a bit, there is a neat article <a href=\"http://gleichmann.wordpress.com/2008/01/15/building-your-own-literals-in-java-tuples-and-maps/\" rel=\"nofollow\">http://gleichmann.wordpress.com/2008/01/15/building-your-own-literals-in-java-tuples-and-maps/</a> which gives you a really neat way of creating tuples and maps that might be something you might want to consider.</p>\n"},{"tags":[],"owner":{"account_id":215614,"reputation":1334,"user_id":470365,"display_name":"Alpedar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1295872274,"creation_date":1295872274,"answer_id":4781976,"question_id":4777622,"body_markdown":"If you want multiplicities, you can put it in map that maps pair to ammount.\r\nThis way there will only be one pair of given values, but it can represent multiple occurances.\r\n\r\nThen if you have lot of repeatet values and want to perform some operation on all values, you can save lot of computations.\r\n","title":"Creating a list of pairs in java","body":"<p>If you want multiplicities, you can put it in map that maps pair to ammount.\nThis way there will only be one pair of given values, but it can represent multiple occurances.</p>\n\n<p>Then if you have lot of repeatet values and want to perform some operation on all values, you can save lot of computations.</p>\n"},{"tags":[],"owner":{"account_id":18687,"reputation":1624,"user_id":43046,"accept_rate":65,"display_name":"andresp"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1303558841,"creation_date":1303558841,"answer_id":5763971,"question_id":4777622,"body_markdown":"just fixing some small mistakes in Mark Elliot&#39;s code:\r\n\r\n    public class Pair&lt;L,R&gt; {\r\n        private L l;\r\n        private R r;\r\n        public Pair(L l, R r){\r\n            this.l = l;\r\n            this.r = r;\r\n        }\r\n        public L getL(){ return l; }\r\n        public R getR(){ return r; }\r\n        public void setL(L l){ this.l = l; }\r\n        public void setR(R r){ this.r = r; }\r\n    }","title":"Creating a list of pairs in java","body":"<p>just fixing some small mistakes in Mark Elliot's code:</p>\n\n<pre><code>public class Pair&lt;L,R&gt; {\n    private L l;\n    private R r;\n    public Pair(L l, R r){\n        this.l = l;\n        this.r = r;\n    }\n    public L getL(){ return l; }\n    public R getR(){ return r; }\n    public void setL(L l){ this.l = l; }\n    public void setR(R r){ this.r = r; }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7862449,"reputation":80,"user_id":5942384,"display_name":"BruceRV"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1581531030,"creation_date":1581531030,"answer_id":60194601,"question_id":4777622,"body_markdown":"Similar to what Mark E has proposed, but no need to recreate the wheel, if you don&#39;t mind relying on 3rd party libs.\r\n\r\nApache Commons has tuples already defined:\r\n\r\n    org.apache.commons.lang3.tuple.Pair&lt;L,R&gt;\r\n\r\nApache Commons is so pervasive, I typically already have it in my projects, anyway.\r\n[https://mvnrepository.com/artifact/org.apache.commons/commons-lang3][1]\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.commons/commons-lang3","title":"Creating a list of pairs in java","body":"<p>Similar to what Mark E has proposed, but no need to recreate the wheel, if you don't mind relying on 3rd party libs.</p>\n\n<p>Apache Commons has tuples already defined:</p>\n\n<pre><code>org.apache.commons.lang3.tuple.Pair&lt;L,R&gt;\n</code></pre>\n\n<p>Apache Commons is so pervasive, I typically already have it in my projects, anyway.\n<a href=\"https://mvnrepository.com/artifact/org.apache.commons/commons-lang3\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.commons/commons-lang3</a></p>\n"},{"tags":[],"owner":{"account_id":2280476,"reputation":247,"user_id":2005683,"display_name":"Jovo Skorupan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663851944,"creation_date":1663851944,"answer_id":73815194,"question_id":4777622,"body_markdown":"although HashMap does not allowed duplicated keys it can be used in this way: \r\n`Map&lt;String, List&lt;String&gt;&gt; mapWithDuplicates = new Map&lt;String, List&lt;String&gt;&gt;();`","title":"Creating a list of pairs in java","body":"<p>although HashMap does not allowed duplicated keys it can be used in this way:\n<code>Map&lt;String, List&lt;String&gt;&gt; mapWithDuplicates = new Map&lt;String, List&lt;String&gt;&gt;();</code></p>\n"},{"tags":[],"owner":{"account_id":57693,"reputation":1274,"user_id":172836,"display_name":"Julian Hyde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694394077,"creation_date":1694393285,"answer_id":77078377,"question_id":4777622,"body_markdown":"Implementing a list of pairs using an `ArrayList` that contains *n* `Map.Entry` objects for a list of size *n* seems to me wasteful in both time and space.\r\n\r\nSo I created my own `PairList&lt;L, R&gt;` class that implements `List&lt;Map.Entry&lt;L, R&gt;&gt;` and stores the *n* entries in a backing list of size *2 * n*:\r\n```\r\ninterface PairList&lt;L, R&gt; extends List&lt;Map.Entry&lt;L, R&gt;&gt; {\r\n  static &lt;L, R&gt; PairList&lt;L, R&gt; of(); // creates empty mutable list\r\n  boolean add(int index, L l, R r); // adds a pair\r\n  boolean addAll(PairList&lt;L, R&gt; list); // adds all pairs in another list\r\n  Map.Entry&lt;L, R&gt; set(int i, L l, R r); // updates pair i\r\n  void forEach(BiConsumer&lt;L, R&gt; consumer); // iterates over pairs\r\n  L left(int i); // returns the left part of pair i\r\n  R right(int i); // returns the right part of pair i\r\n  List&lt;L&gt; leftList(); // returns the left slice\r\n  List&lt;R&gt; rightList(); // returns the right slice\r\n  List&lt;T&gt; transform(BiFunction&lt;L, R, T&gt; f); // applies a mapping function\r\n  ImmutablePairList&lt;L, R&gt; immutable(); // returns an immutable copy\r\n}\r\n```\r\n\r\nThe list contains the key of the first pair, the value of the first pair, the key of the second pair, and so forth. There are no `Map.Entry` objects.\r\n\r\nIf you wish to iterate over the list using a `for` loop or the `iterator()` method, the `Map.Entry` objects are created on the fly. But the `forEach(BiConsmer&lt;L, R&gt; consumer)` method performs [internal iteration][1], calling your consumer once for each pair. This is more efficient, because no `Map.Entry` objects are ever created.\r\n\r\nIn the following example, we create and populate a list, and iterate over it using internal and exterior iteration:\r\n```\r\nPairList&lt;String, Integer&gt; nameYears = PairList.of();\r\nnameYears.add(&quot;Paul&quot;, 1942);\r\nnameYears.add(&quot;John&quot;, 1940);\r\nnameYears.add(&quot;Ringo&quot;, 1940);\r\nnameYears.add(&quot;George&quot;, 1943);\r\n\r\n// Exterior iteration\r\nfor (Map.Entry&lt;String, Integer&gt; pair: nameYears) {\r\n  println(pair.getKey() + &quot; was born in &quot; + pair.getValue());\r\n}\r\n\r\n// Internal iteration\r\nnameYears.forEach((name, year) -&gt; {\r\n    println(name + &quot; was born in &quot; + year);\r\n  });\r\n```\r\n\r\nThere&#39;s also an immutable version, as follows:\r\n```\r\ninterface ImmutablePairList&lt;L, R&gt; extends PairList&lt;L, R&gt; {\r\n  static &lt;L, R&gt; ImmutablePairList&lt;L, R&gt; copyOf(Iterable&lt;Map.Entry&lt;L, R&gt; iterable);\r\n  static &lt;L, R&gt; ImmutablePairList&lt;L, R&gt; of(); // empty immutable list\r\n  static &lt;L, R&gt; ImmutablePairList&lt;L, R&gt; of(L l, R r, Object ... rest); // list with 1 or more pairs\r\n}\r\n```\r\nBecause it never needs to be resized,`ImmutablePairList` uses an even more efficient backing store than a mutable `PairList`: an `Object[]` of size *2 * n* holds the pairs.\r\n\r\nYou can find the implementation in my Morel project: [interface PairList][2]; feel free to copy it into your own code.\r\n\r\n\r\n  [1]: https://wiki.c2.com/?InternalIterator\r\n  [2]: https://github.com/hydromatic/morel/blob/main/src/main/java/net/hydromatic/morel/util/PairList.java#L46","title":"Creating a list of pairs in java","body":"<p>Implementing a list of pairs using an <code>ArrayList</code> that contains <em>n</em> <code>Map.Entry</code> objects for a list of size <em>n</em> seems to me wasteful in both time and space.</p>\n<p>So I created my own <code>PairList&lt;L, R&gt;</code> class that implements <code>List&lt;Map.Entry&lt;L, R&gt;&gt;</code> and stores the <em>n</em> entries in a backing list of size <em>2 * n</em>:</p>\n<pre><code>interface PairList&lt;L, R&gt; extends List&lt;Map.Entry&lt;L, R&gt;&gt; {\n  static &lt;L, R&gt; PairList&lt;L, R&gt; of(); // creates empty mutable list\n  boolean add(int index, L l, R r); // adds a pair\n  boolean addAll(PairList&lt;L, R&gt; list); // adds all pairs in another list\n  Map.Entry&lt;L, R&gt; set(int i, L l, R r); // updates pair i\n  void forEach(BiConsumer&lt;L, R&gt; consumer); // iterates over pairs\n  L left(int i); // returns the left part of pair i\n  R right(int i); // returns the right part of pair i\n  List&lt;L&gt; leftList(); // returns the left slice\n  List&lt;R&gt; rightList(); // returns the right slice\n  List&lt;T&gt; transform(BiFunction&lt;L, R, T&gt; f); // applies a mapping function\n  ImmutablePairList&lt;L, R&gt; immutable(); // returns an immutable copy\n}\n</code></pre>\n<p>The list contains the key of the first pair, the value of the first pair, the key of the second pair, and so forth. There are no <code>Map.Entry</code> objects.</p>\n<p>If you wish to iterate over the list using a <code>for</code> loop or the <code>iterator()</code> method, the <code>Map.Entry</code> objects are created on the fly. But the <code>forEach(BiConsmer&lt;L, R&gt; consumer)</code> method performs <a href=\"https://wiki.c2.com/?InternalIterator\" rel=\"nofollow noreferrer\">internal iteration</a>, calling your consumer once for each pair. This is more efficient, because no <code>Map.Entry</code> objects are ever created.</p>\n<p>In the following example, we create and populate a list, and iterate over it using internal and exterior iteration:</p>\n<pre><code>PairList&lt;String, Integer&gt; nameYears = PairList.of();\nnameYears.add(&quot;Paul&quot;, 1942);\nnameYears.add(&quot;John&quot;, 1940);\nnameYears.add(&quot;Ringo&quot;, 1940);\nnameYears.add(&quot;George&quot;, 1943);\n\n// Exterior iteration\nfor (Map.Entry&lt;String, Integer&gt; pair: nameYears) {\n  println(pair.getKey() + &quot; was born in &quot; + pair.getValue());\n}\n\n// Internal iteration\nnameYears.forEach((name, year) -&gt; {\n    println(name + &quot; was born in &quot; + year);\n  });\n</code></pre>\n<p>There's also an immutable version, as follows:</p>\n<pre><code>interface ImmutablePairList&lt;L, R&gt; extends PairList&lt;L, R&gt; {\n  static &lt;L, R&gt; ImmutablePairList&lt;L, R&gt; copyOf(Iterable&lt;Map.Entry&lt;L, R&gt; iterable);\n  static &lt;L, R&gt; ImmutablePairList&lt;L, R&gt; of(); // empty immutable list\n  static &lt;L, R&gt; ImmutablePairList&lt;L, R&gt; of(L l, R r, Object ... rest); // list with 1 or more pairs\n}\n</code></pre>\n<p>Because it never needs to be resized,<code>ImmutablePairList</code> uses an even more efficient backing store than a mutable <code>PairList</code>: an <code>Object[]</code> of size <em>2 * n</em> holds the pairs.</p>\n<p>You can find the implementation in my Morel project: <a href=\"https://github.com/hydromatic/morel/blob/main/src/main/java/net/hydromatic/morel/util/PairList.java#L46\" rel=\"nofollow noreferrer\">interface PairList</a>; feel free to copy it into your own code.</p>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695611262,"creation_date":1695611262,"answer_id":77169730,"question_id":4777622,"body_markdown":"If you&#39;re open to using a third-party library, [Eclipse Collections][1] has support for primitive pairs and primitive collections. This can reduce the amount of boxing required instead of using `Float` and `Short` wrapper objects, if that is a concern.\r\n\r\n    @Test\r\n    public void floatShortPairs() \r\n    {\r\n        MutableList&lt;FloatShortPair&gt; pairs = Lists.mutable.of(\r\n                PrimitiveTuples.pair(10.0f, (short) 10),\r\n                PrimitiveTuples.pair(5.0f, (short) 5),\r\n                PrimitiveTuples.pair(10.0f, (short) 5),\r\n                PrimitiveTuples.pair(5.0f, (short) 10));\r\n    \r\n        FloatList floatList = pairs.collectFloat(pair -&gt; pair.getOne() * pair.getTwo());\r\n        DoubleList doubleList = pairs.collectDouble(pair -&gt; pair.getOne() * pair.getTwo());\r\n    \r\n        FloatList expectedFloats = FloatLists.mutable.of(100.0f, 25.0f, 50.0f, 50.0f);\r\n        Assertions.assertEquals(expectedFloats, floatList);\r\n    \r\n        DoubleList expectedDoubles = DoubleLists.mutable.of(100.0, 25.0, 50.0, 50.0);\r\n        Assertions.assertEquals(expectedDoubles, doubleList);\r\n    }\r\n\r\nThe `PrimitiveTuples` factory can create all combinations of primitive to primitive pairs. The `MutableList` interface has eager operations available directly on the collection to convert to other Object collections or primitive collections. These methods are prefixed with `collect`. `MutableList` extends the `java.util.List` interface.\r\n\r\nNote: I am a committer for Eclipse Collections\r\n\r\n\r\n  [1]: https://github.com/eclipse/eclipse-collections","title":"Creating a list of pairs in java","body":"<p>If you're open to using a third-party library, <a href=\"https://github.com/eclipse/eclipse-collections\" rel=\"nofollow noreferrer\">Eclipse Collections</a> has support for primitive pairs and primitive collections. This can reduce the amount of boxing required instead of using <code>Float</code> and <code>Short</code> wrapper objects, if that is a concern.</p>\n<pre><code>@Test\npublic void floatShortPairs() \n{\n    MutableList&lt;FloatShortPair&gt; pairs = Lists.mutable.of(\n            PrimitiveTuples.pair(10.0f, (short) 10),\n            PrimitiveTuples.pair(5.0f, (short) 5),\n            PrimitiveTuples.pair(10.0f, (short) 5),\n            PrimitiveTuples.pair(5.0f, (short) 10));\n\n    FloatList floatList = pairs.collectFloat(pair -&gt; pair.getOne() * pair.getTwo());\n    DoubleList doubleList = pairs.collectDouble(pair -&gt; pair.getOne() * pair.getTwo());\n\n    FloatList expectedFloats = FloatLists.mutable.of(100.0f, 25.0f, 50.0f, 50.0f);\n    Assertions.assertEquals(expectedFloats, floatList);\n\n    DoubleList expectedDoubles = DoubleLists.mutable.of(100.0, 25.0, 50.0, 50.0);\n    Assertions.assertEquals(expectedDoubles, doubleList);\n}\n</code></pre>\n<p>The <code>PrimitiveTuples</code> factory can create all combinations of primitive to primitive pairs. The <code>MutableList</code> interface has eager operations available directly on the collection to convert to other Object collections or primitive collections. These methods are prefixed with <code>collect</code>. <code>MutableList</code> extends the <code>java.util.List</code> interface.</p>\n<p>Note: I am a committer for Eclipse Collections</p>\n"},{"tags":[],"owner":{"account_id":29525884,"reputation":44,"user_id":22627515,"display_name":"Tiranya Nirmani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695612727,"creation_date":1695612727,"answer_id":77169784,"question_id":4777622,"body_markdown":"For a non-ordered list of pairs where you need to perform simple math operations on the pairs, a suitable class to use would be an ArrayList of a custom Pair class. \r\nyou can try this code : \r\n\r\n    public class Pair {\r\n        private float floatValue;\r\n        private short shortValue;\r\n    \r\n        public Pair(float floatValue, short shortValue) {\r\n            this.floatValue = floatValue;\r\n            this.shortValue = shortValue;\r\n        }\r\n    \r\n        public float getFloatValue() {\r\n            return floatValue;\r\n        }\r\n    \r\n        public short getShortValue() {\r\n            return shortValue;\r\n        }\r\n    \r\n        public float multiply() {\r\n            return floatValue * shortValue;\r\n        }\r\n    }\r\n\r\nIn this code, we have a Pair class that holds a float value and a short value. It has a constructor to initialize the pair, getter methods to access the values, and a multiply method to perform the multiplication operation.\r\n\r\n","title":"Creating a list of pairs in java","body":"<p>For a non-ordered list of pairs where you need to perform simple math operations on the pairs, a suitable class to use would be an ArrayList of a custom Pair class.\nyou can try this code :</p>\n<pre><code>public class Pair {\n    private float floatValue;\n    private short shortValue;\n\n    public Pair(float floatValue, short shortValue) {\n        this.floatValue = floatValue;\n        this.shortValue = shortValue;\n    }\n\n    public float getFloatValue() {\n        return floatValue;\n    }\n\n    public short getShortValue() {\n        return shortValue;\n    }\n\n    public float multiply() {\n        return floatValue * shortValue;\n    }\n}\n</code></pre>\n<p>In this code, we have a Pair class that holds a float value and a short value. It has a constructor to initialize the pair, getter methods to access the values, and a multiply method to perform the multiplication operation.</p>\n"}],"owner":{"account_id":279757,"reputation":617,"user_id":575095,"accept_rate":100,"display_name":"V1rtua1An0ma1y"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161124,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":4777636,"answer_count":11,"score":37,"last_activity_date":1695612727,"creation_date":1295829955,"question_id":4777622,"body_markdown":"Which class would work best for a non-ordered list of pairs? I&#39;ll be taking a bunch of (float,short) pairs and will need to be able to perform simple math (like multiplying the pair together to return a single float, etc). List only takes one argument, and HashMap won&#39;t allow duplicates (as far as I know). Any thoughts?","title":"Creating a list of pairs in java","body":"<p>Which class would work best for a non-ordered list of pairs? I'll be taking a bunch of (float,short) pairs and will need to be able to perform simple math (like multiplying the pair together to return a single float, etc). List only takes one argument, and HashMap won't allow duplicates (as far as I know). Any thoughts?</p>\n"},{"tags":["java","spring","jdbc","spring-jdbc"],"answers":[{"tags":[],"owner":{"account_id":1545748,"reputation":2904,"user_id":1439333,"accept_rate":70,"display_name":"Vishnudev K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423747360,"creation_date":1423747360,"answer_id":28478562,"question_id":28478419,"body_markdown":"See the example of how to set auto commit false \r\n\r\n    &lt;bean id=&quot;database&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;\r\n    &lt;property name=&quot;dataSource&quot;&gt;\r\n        &lt;bean class=&quot;org.apache.commons.dbcp.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n            ...\r\n            &lt;property name=&quot;defaultAutoCommit&quot; value=&quot;false&quot; /&gt;\r\n            ...\r\n        &lt;/bean&gt;\r\n    &lt;/property&gt;\r\n&lt;/bean&gt;\r\nref:\r\nhttps://stackoverflow.com/questions/10746377/spring-3-1-jdbctemplate-auto-commit-to-false\r\n\r\nYou can also try the annotation based connection transaction management ?  \r\nhttps://stackoverflow.com/questions/9649318/how-can-i-config-to-turn-off-autocommit-in-spring-jdbc  \r\n","title":"Spring Jdbc template setAutocommit(false)","body":"<p>See the example of how to set auto commit false </p>\n\n<pre><code>&lt;bean id=\"database\" class=\"org.springframework.jdbc.core.JdbcTemplate\"&gt;\n&lt;property name=\"dataSource\"&gt;\n    &lt;bean class=\"org.apache.commons.dbcp.BasicDataSource\" destroy-method=\"close\"&gt;\n        ...\n        &lt;property name=\"defaultAutoCommit\" value=\"false\" /&gt;\n        ...\n    &lt;/bean&gt;\n&lt;/property&gt;\n</code></pre>\n\n<p>\nref:\n<a href=\"https://stackoverflow.com/questions/10746377/spring-3-1-jdbctemplate-auto-commit-to-false\">spring 3.1: jdbcTemplate auto commit to false.</a></p>\n\n<p>You can also try the annotation based connection transaction management ?<br>\n<a href=\"https://stackoverflow.com/questions/9649318/how-can-i-config-to-turn-off-autocommit-in-spring-jdbc\">How can I config to turn off autocommit in Spring + JDBC?</a>  </p>\n"}],"owner":{"account_id":4267706,"reputation":1261,"user_id":3490411,"accept_rate":40,"display_name":"nmkkannan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695611231,"creation_date":1423746901,"question_id":28478419,"body_markdown":"I want insert multiple rows in db table.\r\nI am using **SpringJdbc**.\r\nHow can i **manage transaction in SpringJdbc connection.**\r\nMy code is:\r\n\r\n    @Override\r\n\t@Transactional(propagation = Propagation.REQUIRED, isolation = Isolation.READ_COMMITTED)\r\n\tpublic int addUserRelationshipMapping(final ArrayList&lt;UserDO&gt; userDOs, final long userId) throws UserDataException {\r\n\t\tfinal JdbcTemplate jd = this.getJdbctemplate();\r\n\t\ttry {\r\n\t\t\tjd.getDataSource().getConnection().setAutoCommit(false);\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tint totalAdded = 0;\r\n\t\ttry {\r\n\t\t\tint[] isAdded = jd.batchUpdate(ADD_USER_RELATION_MAPPING, new BatchPreparedStatementSetter() {\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void setValues(PreparedStatement ps, int i) throws SQLException {\r\n\t\t\t\t\tfinal long userRelationId = jd.queryForObject(USER_RELATION_KEY, Long.class);\r\n\t\t\t\t\tUserDO userDO = userDOs.get(i);\r\n\t\t\t\t\t\tps.setLong(1, userRelationId);\r\n\t\t\t\t\t\tps.setLong(2, userId);\r\n\t\t\t\t\t\tps.setLong(3, userDO.getprimaryUserId());\r\n\t\t\t\t\t\tps.setInt(4, 1);\r\n\t\t\t\t\t\tps.setInt(5, 0);\r\n\t\t\t\t\t\tjd.getDataSource().getConnection().commit();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic int getBatchSize() {\r\n\t\t\t\t\treturn userDOs.size();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\ttotalAdded = isAdded.length;\r\n\t\t} catch (DuplicateKeyException dExp) {\r\n\t\t\tlog.info(&quot;error for duplicate key exception &quot;,dExp);\r\n\t\t\tlog.error(dExp);\r\n\r\n\t\t} catch (DataAccessException dExp) {\r\n\t\t\tthrow new UserDataException(&quot;error while adding user relation for userId is&quot; + userId, dExp);\r\n\t\t}\r\n\t\treturn totalAdded;\r\n\t}\r\n\r\nIn this code userRelationId return always old values not updated table values.\r\nSo will use database connection commit.\r\n\r\nSOF question:[https://stackoverflow.com/questions/9322673/java-mysql-jdbc-query-is-returning-stale-data-from-cached-connection][1]\r\n\r\nI got error message:\r\n\r\nCaused by: java.sql.SQLException: **Can&#39;t call commit when autocommit=true**\r\n\r\nSo i need help for this.\r\nAdvance thanks.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9322673/java-mysql-jdbc-query-is-returning-stale-data-from-cached-connection","title":"Spring Jdbc template setAutocommit(false)","body":"<p>I want insert multiple rows in db table.\nI am using <strong>SpringJdbc</strong>.\nHow can i <strong>manage transaction in SpringJdbc connection.</strong>\nMy code is:</p>\n\n<pre><code>@Override\n@Transactional(propagation = Propagation.REQUIRED, isolation = Isolation.READ_COMMITTED)\npublic int addUserRelationshipMapping(final ArrayList&lt;UserDO&gt; userDOs, final long userId) throws UserDataException {\n    final JdbcTemplate jd = this.getJdbctemplate();\n    try {\n        jd.getDataSource().getConnection().setAutoCommit(false);\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n    int totalAdded = 0;\n    try {\n        int[] isAdded = jd.batchUpdate(ADD_USER_RELATION_MAPPING, new BatchPreparedStatementSetter() {\n\n            @Override\n            public void setValues(PreparedStatement ps, int i) throws SQLException {\n                final long userRelationId = jd.queryForObject(USER_RELATION_KEY, Long.class);\n                UserDO userDO = userDOs.get(i);\n                    ps.setLong(1, userRelationId);\n                    ps.setLong(2, userId);\n                    ps.setLong(3, userDO.getprimaryUserId());\n                    ps.setInt(4, 1);\n                    ps.setInt(5, 0);\n                    jd.getDataSource().getConnection().commit();\n            }\n\n            @Override\n            public int getBatchSize() {\n                return userDOs.size();\n            }\n        });\n        totalAdded = isAdded.length;\n    } catch (DuplicateKeyException dExp) {\n        log.info(\"error for duplicate key exception \",dExp);\n        log.error(dExp);\n\n    } catch (DataAccessException dExp) {\n        throw new UserDataException(\"error while adding user relation for userId is\" + userId, dExp);\n    }\n    return totalAdded;\n}\n</code></pre>\n\n<p>In this code userRelationId return always old values not updated table values.\nSo will use database connection commit.</p>\n\n<p>SOF question:<a href=\"https://stackoverflow.com/questions/9322673/java-mysql-jdbc-query-is-returning-stale-data-from-cached-connection\">Java MYSQL/JDBC query is returning stale data from cached Connection</a></p>\n\n<p>I got error message:</p>\n\n<p>Caused by: java.sql.SQLException: <strong>Can't call commit when autocommit=true</strong></p>\n\n<p>So i need help for this.\nAdvance thanks.</p>\n"},{"tags":["java","mysql","spring","jpa"],"comments":[{"owner":{"account_id":1225662,"reputation":12141,"user_id":1191247,"accept_rate":75,"display_name":"user1191247"},"score":0,"creation_date":1695642536,"post_id":77169679,"comment_id":136047328,"body_markdown":"Does this answer your question? [Updating a ManyToMany relationship to include a new field](https://stackoverflow.com/questions/55091537/updating-a-manytomany-relationship-to-include-a-new-field)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/55091537/updating-a-manytomany-relationship-to-include-a-new-field\">Updating a ManyToMany relationship to include a new field</a>"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1695653407,"post_id":77169679,"comment_id":136049795,"body_markdown":"Check out the error and the issue a bit more - it isn&#39;t saying you can&#39;t map it this way. It is complaining about what you are passing in. If you pass in a Product list with duplicate entries - make sure they are the same instance. Say you have productA added to the basket, and add it a second time. You&#39;ve got in your list productA and productA&#39;. They may have the same data, but productA != productA&#39; references. Check out how you are building these entities and fix that (JSON deserialization maybe?)","body":"Check out the error and the issue a bit more - it isn&#39;t saying you can&#39;t map it this way. It is complaining about what you are passing in. If you pass in a Product list with duplicate entries - make sure they are the same instance. Say you have productA added to the basket, and add it a second time. You&#39;ve got in your list productA and productA&#39;. They may have the same data, but productA != productA&#39; references. Check out how you are building these entities and fix that (JSON deserialization maybe?)"}],"owner":{"account_id":23828419,"reputation":85,"user_id":20534244,"display_name":"Artem Dubenko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695610129,"creation_date":1695610129,"question_id":77169679,"body_markdown":"I&#39;m writing my intrenet store.\r\nI have a relationship @ManyToMany(Basket - Product)\r\n\r\n    @ManyToMany(cascade = CascadeType.ALL)\r\n    @JoinTable(\r\n            name = &quot;currently_basket&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;basket_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;product_id&quot;))\r\n    private List&lt;Product&gt; productList;\r\n\r\n\r\n\r\n\r\n    @ManyToMany(mappedBy = &quot;productList&quot;)\r\n    private List&lt;Basket&gt; basketList;\r\n\r\nUser can add several identical products to the cart (they have the same id).\r\n\r\n\r\nIf I am now trying to add the same item to the same cart, I am getting \r\n\r\n    java.lang.IllegalStateException: Multiple representations of the same entity [ua.com.alevel.persistence.entity.Product#1] are being merged. Detached: [ua.com.alevel.persistence.entity.Product@2544c382]; Detached: [ua.com.alevel.persistence.entity.Product@68fc1ff6]\r\n\r\nSo my question is, how can I add a new quantity column to the @ManyToMany relationship?\r\n","title":"Repeated entries in relation to ManyToMany","body":"<p>I'm writing my intrenet store.\nI have a relationship @ManyToMany(Basket - Product)</p>\n<pre><code>@ManyToMany(cascade = CascadeType.ALL)\n@JoinTable(\n        name = &quot;currently_basket&quot;,\n        joinColumns = @JoinColumn(name = &quot;basket_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;product_id&quot;))\nprivate List&lt;Product&gt; productList;\n\n\n\n\n@ManyToMany(mappedBy = &quot;productList&quot;)\nprivate List&lt;Basket&gt; basketList;\n</code></pre>\n<p>User can add several identical products to the cart (they have the same id).</p>\n<p>If I am now trying to add the same item to the same cart, I am getting</p>\n<pre><code>java.lang.IllegalStateException: Multiple representations of the same entity [ua.com.alevel.persistence.entity.Product#1] are being merged. Detached: [ua.com.alevel.persistence.entity.Product@2544c382]; Detached: [ua.com.alevel.persistence.entity.Product@68fc1ff6]\n</code></pre>\n<p>So my question is, how can I add a new quantity column to the @ManyToMany relationship?</p>\n"},{"tags":["java","jdbc","classloader","h2"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1350408174,"post_id":12920151,"comment_id":17506046,"body_markdown":"Is the JAR file for H2 in your classpath?","body":"Is the JAR file for H2 in your classpath?"},{"owner":{"account_id":1945482,"reputation":141,"user_id":1750737,"display_name":"Contex"},"score":0,"creation_date":1350412037,"post_id":12920151,"comment_id":17507722,"body_markdown":"I do not wish to add the driver to my classpath, which is why I&#39;m downloading the jar instead and then try to load it, that is what I need a solution for.","body":"I do not wish to add the driver to my classpath, which is why I&#39;m downloading the jar instead and then try to load it, that is what I need a solution for."},{"owner":{"account_id":9943,"reputation":28522,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":0,"creation_date":1350413375,"post_id":12920151,"comment_id":17508402,"body_markdown":"Why do you not want to add it to classpath?","body":"Why do you not want to add it to classpath?"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1350413924,"post_id":12920151,"comment_id":17508636,"body_markdown":"You have to add the JAR file to the classpath. This does NOT necessarily mean changing the global CLASSPATH environment variable. There are several other ways to do it.","body":"You have to add the JAR file to the classpath. This does NOT necessarily mean changing the global CLASSPATH environment variable. There are several other ways to do it."}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306133,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350408194,"creation_date":1350408194,"answer_id":12920182,"question_id":12920151,"body_markdown":"Add the H2 JAR to your CLASSPATH.\r\n\r\nNo suitable driver usually means that the URL syntax is incorrect.  Check to make sure yours complies.\r\n\r\nhttp://www.h2database.com/html/faq.html\r\n","title":"Java: No suitable driver found for jdbc:h2","body":"<p>Add the H2 JAR to your CLASSPATH.</p>\n\n<p>No suitable driver usually means that the URL syntax is incorrect.  Check to make sure yours complies.</p>\n\n<p><a href=\"http://www.h2database.com/html/faq.html\" rel=\"nofollow\">http://www.h2database.com/html/faq.html</a></p>\n"},{"tags":[],"owner":{"account_id":1794557,"reputation":904,"user_id":1634249,"display_name":"Afforess"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1350413151,"creation_date":1350413151,"answer_id":12921420,"question_id":12920151,"body_markdown":"According to the Oracle docs: http://docs.oracle.com/cd/E19501-01/819-3659/beadf/index.html\r\n\r\nClassloaders delegate classloading to child classloaders, searching for the class on the classpath. However, the URLClassloader you used to load your library is not visible to the system or bootstrap hierarchy, so it can not find the class (despite it being loaded, albeit in another castl...classloader).\r\n\r\nThe easiest solution is to replace your system classloader with a URLClassloader and use addUrl(...path...) to load your library, as this answer suggests: https://stackoverflow.com/questions/60764/how-should-i-load-jars-dynamically-at-runtime","title":"Java: No suitable driver found for jdbc:h2","body":"<p>According to the Oracle docs: <a href=\"http://docs.oracle.com/cd/E19501-01/819-3659/beadf/index.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/cd/E19501-01/819-3659/beadf/index.html</a></p>\n\n<p>Classloaders delegate classloading to child classloaders, searching for the class on the classpath. However, the URLClassloader you used to load your library is not visible to the system or bootstrap hierarchy, so it can not find the class (despite it being loaded, albeit in another castl...classloader).</p>\n\n<p>The easiest solution is to replace your system classloader with a URLClassloader and use addUrl(...path...) to load your library, as this answer suggests: <a href=\"https://stackoverflow.com/questions/60764/how-should-i-load-jars-dynamically-at-runtime\">How should I load Jars dynamically at runtime?</a></p>\n"},{"tags":[],"owner":{"account_id":1945787,"reputation":19,"user_id":1750979,"display_name":"nicephotog"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557074714,"creation_date":1350413192,"answer_id":12921429,"question_id":12920151,"body_markdown":"You must add **the exact** `org.h2.Driver` \\*.jar file name to the classpath of the application.\n\n**Example**: `/home/applications/games/minecraft/drivers/jdbcH2driver.jar`\n\n  So decide where the driver will always be in your application and find the application home folder path to construct it completely when an application using it is ever installed.\n\nAlso, it probably does not operate because during download from the net it can take time and after must be copied into the &quot;correct folder for the classpath of the application&quot; to be able to use it and with the correct .jar name(as in the above paragraph).\nTo successfully download the &quot;query and application-operation should be put in a thread&quot; to prevent overun to the next line of instructions.\n\nSensibly, on application start you would check the .jar was present and download it if it was not present and installed while issueing a warning to the user to download it if the .jar was not present.","title":"Java: No suitable driver found for jdbc:h2","body":"<p>You must add <strong>the exact</strong> <code>org.h2.Driver</code> *.jar file name to the classpath of the application.</p>\n<p><strong>Example</strong>: <code>/home/applications/games/minecraft/drivers/jdbcH2driver.jar</code></p>\n<p>So decide where the driver will always be in your application and find the application home folder path to construct it completely when an application using it is ever installed.</p>\n<p>Also, it probably does not operate because during download from the net it can take time and after must be copied into the &quot;correct folder for the classpath of the application&quot; to be able to use it and with the correct .jar name(as in the above paragraph).\nTo successfully download the &quot;query and application-operation should be put in a thread&quot; to prevent overun to the next line of instructions.</p>\n<p>Sensibly, on application start you would check the .jar was present and download it if it was not present and installed while issueing a warning to the user to download it if the .jar was not present.</p>\n"},{"tags":[],"owner":{"account_id":410277,"reputation":24594,"user_id":782034,"accept_rate":72,"display_name":"Nick Grealy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416459120,"creation_date":1416459120,"answer_id":27032014,"question_id":12920151,"body_markdown":"For me, I got this error using `groovy` and `grapes` for dependency resolution.\n\n### The solution: \n\nYou need to tell grapes to use the systemClassLoader. e.g.\n\n    @GrabConfig(systemClassLoader=true)","title":"Java: No suitable driver found for jdbc:h2","body":"<p>For me, I got this error using <code>groovy</code> and <code>grapes</code> for dependency resolution.</p>\n<h3>The solution:</h3>\n<p>You need to tell grapes to use the systemClassLoader. e.g.</p>\n<pre><code>@GrabConfig(systemClassLoader=true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5500024,"reputation":11,"user_id":4369646,"display_name":"dafali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418808788,"creation_date":1418808788,"answer_id":27522305,"question_id":12920151,"body_markdown":"Hibernate properties set\r\n    url value to:\r\n    &lt;property name=&quot;url&quot;&gt;\r\n\t\t\t&lt;value&gt;jdbc:h2:mem:test;DB_CLOSE_DELAY=-1&lt;/value&gt;\r\n\t\t&lt;/property&gt;\r\n\r\ndriverClassName:\r\n\r\n    &lt;property name=&quot;driverClassName&quot;&gt;\r\n    &lt;value&gt;org.hibernate.dialect.H2Dialect&lt;/value&gt;\r\n&lt;/property&gt;\r\n\r\nAdd H2 driver to pom:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.166&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Java: No suitable driver found for jdbc:h2","body":"<p>Hibernate properties set\n    url value to:\n    \n            jdbc:h2:mem:test;DB_CLOSE_DELAY=-1\n        </p>\n\n<p>driverClassName:</p>\n\n<pre><code>&lt;property name=\"driverClassName\"&gt;\n&lt;value&gt;org.hibernate.dialect.H2Dialect&lt;/value&gt;\n</code></pre>\n\n<p></p>\n\n<p>Add H2 driver to pom:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;version&gt;1.3.166&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4705473,"reputation":148,"user_id":3807764,"display_name":"Erik_A"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1480950415,"creation_date":1480950415,"answer_id":40977290,"question_id":12920151,"body_markdown":"I had the same problem. The h2 driver was configured in the pom.xml with \t\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.4.193&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBecause I&#39;m using Java 6 in my project (don&#39;t ask why ;-)) but the h2-1.4.193.jar from the Maven Repository depends on Java 7, this driver version could not be used.\r\n\r\nChanging the pom.xml to use h2-1.4.190.jar solved the problem for me.\r\n\r\nSee also [issue #300][1] in the h2database git project.\r\n\r\n\r\n  [1]: https://github.com/h2database/h2database/issues/300","title":"Java: No suitable driver found for jdbc:h2","body":"<p>I had the same problem. The h2 driver was configured in the pom.xml with    </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n    &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;version&gt;1.4.193&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Because I'm using Java 6 in my project (don't ask why ;-)) but the h2-1.4.193.jar from the Maven Repository depends on Java 7, this driver version could not be used.</p>\n\n<p>Changing the pom.xml to use h2-1.4.190.jar solved the problem for me.</p>\n\n<p>See also <a href=\"https://github.com/h2database/h2database/issues/300\" rel=\"nofollow noreferrer\">issue #300</a> in the h2database git project.</p>\n"},{"tags":[],"owner":{"account_id":1482474,"reputation":7545,"user_id":1652451,"display_name":"PbxMan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614344187,"creation_date":1614344187,"answer_id":66386222,"question_id":12920151,"body_markdown":"In my case the error was in the maven scope\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.200&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\nOnce you remove it or change it to a visible scope it worked","title":"Java: No suitable driver found for jdbc:h2","body":"<p>In my case the error was in the maven scope</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;version&gt;1.4.200&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Once you remove it or change it to a visible scope it worked</p>\n"},{"tags":[],"owner":{"account_id":6441295,"reputation":189,"user_id":4991236,"display_name":"Viktor Sirotin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620221476,"creation_date":1620221476,"answer_id":67402326,"question_id":12920151,"body_markdown":"I have had the same problem in my Kotlin project. \r\nI have added in bild.gradle.kts \r\n\r\n    dependencies {\r\n        implementation(&quot;com.h2database:h2:1.4.199&quot;)\r\n    ..\r\n    }\r\n\r\nand after that in IntelliJ File-&gt;Invalidate Cache.\r\n","title":"Java: No suitable driver found for jdbc:h2","body":"<p>I have had the same problem in my Kotlin project.\nI have added in bild.gradle.kts</p>\n<pre><code>dependencies {\n    implementation(&quot;com.h2database:h2:1.4.199&quot;)\n..\n}\n</code></pre>\n<p>and after that in IntelliJ File-&gt;Invalidate Cache.</p>\n"}],"owner":{"account_id":1945482,"reputation":141,"user_id":1750737,"display_name":"Contex"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43145,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"accepted_answer_id":12921420,"answer_count":8,"score":13,"last_activity_date":1695609820,"creation_date":1350408032,"question_id":12920151,"body_markdown":"I&#39;m having an issue with some of my code, I&#39;ve searched and tried everything I know of, without any luck.\r\n\r\n----------\r\n\r\n**Scenario:**\r\n\r\n - Application checks if JDBC driver exists, in this case, the H2 driver (org.h2.Driver).\r\n - If it doesn&#39;t exist, the application downloads the JDBC driver and adds it to a ClassLoader like so: (**note**: storageDataManager is a class of mine I use for SQL methods)\r\n\r\n           File h2Driver = new File(directory.toString() + File.separator + &quot;lib&quot; + File.separator + &quot;h2.jar&quot;);\r\n           if (h2Driver.exists()) {\r\n               URL[] url = new URL[0];\r\n               try {\r\n                   url = new URL[]{h2Driver.toURI().toURL()};\r\n                   storageDataManager.setClassLoader(new URLClassLoader(url));\r\n               } catch (MalformedURLException ignore) {}\r\n            }\r\n\r\n----------\r\n\r\nWhen the storageDataManager runs the first query, it tries to connect with the specified driver, and if it does have a ClassLoader, it uses ClassLoader instead:\r\n\r\n\tif (getClassLoader() != null) {\r\n\t\tgetLogging().debug(&quot;Loading custom class loader for H2 driver: &quot; + getClassLoader().toString());\r\n\t\tDriver driver = (Driver) Class.forName(&quot;org.h2.Driver&quot;, true, getClassLoader()).newInstance();\r\n\t\tgetLogging().debug(&quot;Loaded H2 driver: &quot; + driver.toString() + &quot; - &quot; + driver.getMinorVersion() + &quot; - &quot; + driver.getMajorVersion());\r\n\t\tDriverManager.registerDriver(driver);\r\n\t} else {\r\n\t\tgetLogging().debug(&quot;Loading H2 driver.&quot;);\r\n\t\tClass.forName(&quot;org.h2.Driver&quot;);\r\n\t}\r\n\toutputDrivers();\r\n\tthis.con = DriverManager.getConnection(this.url, this.username, this.password);\r\n\tbreak;\r\n\r\nWhen I run the application I get this error: \r\n\r\n&quot;*No suitable driver found for jdbc:h2:plugins\\Odin\\data\\OdinStorage;AUTO_RECONNECT=TRUE*&quot;\r\n\r\nHere&#39;s the full log:\r\n\r\n    [Debug] Loading custom class loader for H2 driver: java.net.URLClassLoader@3bf3d5f4\r\n    [Debug] Loaded H2 driver: org.h2.Driver@67257ce8 - 3 - 1\r\n    [Debug] Checking DriverManager drivers.\r\n    [Debug] Found driver #1: sun.jdbc.odbc.JdbcOdbcDriver\r\n    [Debug] Found driver #2: com.mysql.jdbc.Driver\r\n    [Debug] Found 2 drivers in DriverManager.\r\n    --------------------------- STACKTRACE ERROR ---------------------------\r\n    Class name: java.sql.DriverManager\r\n    Error message: No suitable driver found for jdbc:h2:plugins\\Odin\\data\\OdinStorage;AUTO_RECONNECT=TRUE\r\n    Error cause: null\r\n    File name: null\r\n    Function name: getConnection\r\n    Error line: -1\r\n    --------------------------- STACKTRACE START ---------------------------\r\n    java.sql.DriverManager.getConnection(Unknown Source)\r\n    java.sql.DriverManager.getConnection(Unknown Source)\r\n    com.craftfire.commons.managers.DataManager.connect(DataManager.java:756)\r\n    com.craftfire.commons.managers.DataManager.executeQuery(DataManager.java:526)\r\n    com.craftfire.odin.managers.StorageManager.checkInventoryDatabase(StorageManager.java:65)\r\n    com.craftfire.odin.managers.StorageManager.checkDatabases(StorageManager.java:56)\r\n    com.craftfire.odin.managers.StorageManager.&lt;init&gt;(StorageManager.java:34)\r\n    com.craftfire.odin.managers.OdinManager.loadDatabases(OdinManager.java:206)\r\n    com.craftfire.odin.managers.OdinManager.init(OdinManager.java:75)\r\n    com.craftfire.odin.layer.bukkit.Odin.onEnable(Odin.java:63)\r\n    org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:217)\r\n    org.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader.java:374)\r\n    org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:381)\r\n    org.bukkit.craftbukkit.CraftServer.loadPlugin(CraftServer.java:266)\r\n    org.bukkit.craftbukkit.CraftServer.enablePlugins(CraftServer.java:248)\r\n    org.bukkit.craftbukkit.CraftServer.&lt;init&gt;(CraftServer.java:200)\r\n    net.minecraft.server.ServerConfigurationManagerAbstract.&lt;init&gt;(ServerConfigurationManagerAbstract.java:50)\r\n    net.minecraft.server.ServerConfigurationManager.&lt;init&gt;(SourceFile:11)\r\n    net.minecraft.server.DedicatedServer.init(DedicatedServer.java:105)\r\n    net.minecraft.server.MinecraftServer.run(MinecraftServer.java:377)\r\n    net.minecraft.server.ThreadServerApplication.run(SourceFile:539)\r\n    ---------------------------- STACKTRACE END ----------------------------\r\n\r\nMy question is then, why doesn&#39;t the driver show up in the DriverManager.getDrivers()?\r\n\r\n**Note:** I do not wish to add the library to the CLASSPATH, which is why I need to find a solution to the issue I described above.\r\n\r\nAnd how can I solve this issue? I simply need to load the H2 JDB driver from a jar.\r\n\r\nI have also tried this:\r\n\r\n - Not use DriverManager.registerDriver(Driver), but use Class.forName(&quot;org.h2.Driver&quot;, true, getClassLoader()) instead, I&#39;ve also tried with .newInstance(), neither has worked.\r\n\r\nCould anyone provide me with a solution to this?\r\n\r\nThanks!","title":"Java: No suitable driver found for jdbc:h2","body":"<p>I'm having an issue with some of my code, I've searched and tried everything I know of, without any luck.</p>\n\n<hr>\n\n<p><strong>Scenario:</strong></p>\n\n<ul>\n<li>Application checks if JDBC driver exists, in this case, the H2 driver (org.h2.Driver).</li>\n<li><p>If it doesn't exist, the application downloads the JDBC driver and adds it to a ClassLoader like so: (<strong>note</strong>: storageDataManager is a class of mine I use for SQL methods)</p>\n\n<pre><code>   File h2Driver = new File(directory.toString() + File.separator + \"lib\" + File.separator + \"h2.jar\");\n   if (h2Driver.exists()) {\n       URL[] url = new URL[0];\n       try {\n           url = new URL[]{h2Driver.toURI().toURL()};\n           storageDataManager.setClassLoader(new URLClassLoader(url));\n       } catch (MalformedURLException ignore) {}\n    }\n</code></pre></li>\n</ul>\n\n<hr>\n\n<p>When the storageDataManager runs the first query, it tries to connect with the specified driver, and if it does have a ClassLoader, it uses ClassLoader instead:</p>\n\n<pre><code>if (getClassLoader() != null) {\n    getLogging().debug(\"Loading custom class loader for H2 driver: \" + getClassLoader().toString());\n    Driver driver = (Driver) Class.forName(\"org.h2.Driver\", true, getClassLoader()).newInstance();\n    getLogging().debug(\"Loaded H2 driver: \" + driver.toString() + \" - \" + driver.getMinorVersion() + \" - \" + driver.getMajorVersion());\n    DriverManager.registerDriver(driver);\n} else {\n    getLogging().debug(\"Loading H2 driver.\");\n    Class.forName(\"org.h2.Driver\");\n}\noutputDrivers();\nthis.con = DriverManager.getConnection(this.url, this.username, this.password);\nbreak;\n</code></pre>\n\n<p>When I run the application I get this error: </p>\n\n<p>\"*No suitable driver found for jdbc:h2:plugins\\Odin\\data\\OdinStorage;AUTO_RECONNECT=TRUE*\"</p>\n\n<p>Here's the full log:</p>\n\n<pre><code>[Debug] Loading custom class loader for H2 driver: java.net.URLClassLoader@3bf3d5f4\n[Debug] Loaded H2 driver: org.h2.Driver@67257ce8 - 3 - 1\n[Debug] Checking DriverManager drivers.\n[Debug] Found driver #1: sun.jdbc.odbc.JdbcOdbcDriver\n[Debug] Found driver #2: com.mysql.jdbc.Driver\n[Debug] Found 2 drivers in DriverManager.\n--------------------------- STACKTRACE ERROR ---------------------------\nClass name: java.sql.DriverManager\nError message: No suitable driver found for jdbc:h2:plugins\\Odin\\data\\OdinStorage;AUTO_RECONNECT=TRUE\nError cause: null\nFile name: null\nFunction name: getConnection\nError line: -1\n--------------------------- STACKTRACE START ---------------------------\njava.sql.DriverManager.getConnection(Unknown Source)\njava.sql.DriverManager.getConnection(Unknown Source)\ncom.craftfire.commons.managers.DataManager.connect(DataManager.java:756)\ncom.craftfire.commons.managers.DataManager.executeQuery(DataManager.java:526)\ncom.craftfire.odin.managers.StorageManager.checkInventoryDatabase(StorageManager.java:65)\ncom.craftfire.odin.managers.StorageManager.checkDatabases(StorageManager.java:56)\ncom.craftfire.odin.managers.StorageManager.&lt;init&gt;(StorageManager.java:34)\ncom.craftfire.odin.managers.OdinManager.loadDatabases(OdinManager.java:206)\ncom.craftfire.odin.managers.OdinManager.init(OdinManager.java:75)\ncom.craftfire.odin.layer.bukkit.Odin.onEnable(Odin.java:63)\norg.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:217)\norg.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader.java:374)\norg.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:381)\norg.bukkit.craftbukkit.CraftServer.loadPlugin(CraftServer.java:266)\norg.bukkit.craftbukkit.CraftServer.enablePlugins(CraftServer.java:248)\norg.bukkit.craftbukkit.CraftServer.&lt;init&gt;(CraftServer.java:200)\nnet.minecraft.server.ServerConfigurationManagerAbstract.&lt;init&gt;(ServerConfigurationManagerAbstract.java:50)\nnet.minecraft.server.ServerConfigurationManager.&lt;init&gt;(SourceFile:11)\nnet.minecraft.server.DedicatedServer.init(DedicatedServer.java:105)\nnet.minecraft.server.MinecraftServer.run(MinecraftServer.java:377)\nnet.minecraft.server.ThreadServerApplication.run(SourceFile:539)\n---------------------------- STACKTRACE END ----------------------------\n</code></pre>\n\n<p>My question is then, why doesn't the driver show up in the DriverManager.getDrivers()?</p>\n\n<p><strong>Note:</strong> I do not wish to add the library to the CLASSPATH, which is why I need to find a solution to the issue I described above.</p>\n\n<p>And how can I solve this issue? I simply need to load the H2 JDB driver from a jar.</p>\n\n<p>I have also tried this:</p>\n\n<ul>\n<li>Not use DriverManager.registerDriver(Driver), but use Class.forName(\"org.h2.Driver\", true, getClassLoader()) instead, I've also tried with .newInstance(), neither has worked.</li>\n</ul>\n\n<p>Could anyone provide me with a solution to this?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","function-call"],"comments":[{"owner":{"account_id":53576,"reputation":75610,"user_id":160206,"accept_rate":80,"display_name":"Bj&#246;rn Pollex"},"score":2,"creation_date":1305625683,"post_id":6029012,"comment_id":6970954,"body_markdown":"Judging from the answers so far, I guess the question is ambiguous. Can you provide an example in C or C++ of what you are trying to achieve?","body":"Judging from the answers so far, I guess the question is ambiguous. Can you provide an example in C or C++ of what you are trying to achieve?"},{"owner":{"account_id":337549,"reputation":1511,"user_id":665884,"accept_rate":88,"display_name":"Shashi Bhushan"},"score":0,"creation_date":1305629515,"post_id":6029012,"comment_id":6971925,"body_markdown":"Take the example of  swapping of  two numbers....as given by Stephen C....Is it possible in Java???","body":"Take the example of  swapping of  two numbers....as given by Stephen C....Is it possible in Java???"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":1,"creation_date":1305629989,"post_id":6029012,"comment_id":6972028,"body_markdown":"see this previous answer of mine: http://stackoverflow.com/questions/3624525/how-to-write-a-basic-swap-function-in-java/3624554#3624554","body":"see this previous answer of mine: <a href=\"http://stackoverflow.com/questions/3624525/how-to-write-a-basic-swap-function-in-java/3624554#3624554\" title=\"how to write a basic swap function in java\">stackoverflow.com/questions/3624525/&hellip;</a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1626589072,"post_id":6029012,"comment_id":120930047,"body_markdown":"I have attempted to resolve the ambiguity by making the question about BOTH classical pass-by-reference AND passing function pointers (which is *actually* passing references by value).","body":"I have attempted to resolve the ambiguity by making the question about BOTH classical pass-by-reference AND passing function pointers (which is <i>actually</i> passing references by value)."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1695605091,"post_id":6029012,"comment_id":136042222,"body_markdown":"@StephenC Passing to a C++ function that has declared parameters of reference type is as &quot;classical pass-by-reference&quot; as it gets (one of *very few* ways to do it with languages in common use today; the only other example I can think of is `ref` and `out` parameters in C#, which can also impose restrictions on the caller). C++ reference &quot;types&quot; are weird in that one uses the normal variable-declaration syntax, and can even e.g. declare a struct member of a reference type, but it doesn&#39;t create &quot;objects&quot; in the storage-allocation sense.","body":"@StephenC Passing to a C++ function that has declared parameters of reference type is as &quot;classical pass-by-reference&quot; as it gets (one of <i>very few</i> ways to do it with languages in common use today; the only other example I can think of is <code>ref</code> and <code>out</code> parameters in C#, which can also impose restrictions on the caller). C++ reference &quot;types&quot; are weird in that one uses the normal variable-declaration syntax, and can even e.g. declare a struct member of a reference type, but it doesn&#39;t create &quot;objects&quot; in the storage-allocation sense."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1695605392,"post_id":6029012,"comment_id":136042243,"body_markdown":"I don&#39;t think most people would understand &quot;call a function by reference&quot; to mean &quot;pass a function by reference as a higher-order function, and then call it&quot; - although English certainly *permits* that interpretation, it doesn&#39;t seem to me like a plausible interpretation of OP&#39;s original question per its exact original wording.","body":"I don&#39;t think most people would understand &quot;call a function by reference&quot; to mean &quot;pass a function by reference as a higher-order function, and then call it&quot; - although English certainly <i>permits</i> that interpretation, it doesn&#39;t seem to me like a plausible interpretation of OP&#39;s original question per its exact original wording."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1695608058,"post_id":6029012,"comment_id":136042462,"body_markdown":"@KarlKnechtel - it really doesn&#39;t matter any more.  I have stated what I think the OP meant when he asked this 2 years ago.  And answered (2 years ago) on that basis.  The OP never bothered to clarify.  Feel free to ignore the part of my answer that you think addresses an incorrect interpretation of his question.","body":"@KarlKnechtel - it really doesn&#39;t matter any more.  I have stated what I think the OP meant when he asked this 2 years ago.  And answered (2 years ago) on that basis.  The OP never bothered to clarify.  Feel free to ignore the part of my answer that you think addresses an incorrect interpretation of his question."}],"answers":[{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1305626458,"creation_date":1305625475,"answer_id":6029042,"question_id":6029012,"body_markdown":"Real pass-by-reference is impossible in Java. Java passes everything by value, including references. But you can simulate it with container Objects. \r\n\r\nUse any of these as a method parameter:\r\n\r\n - an array\r\n - a Collection\r\n - an AtomicXYZ class\r\n\r\nAnd if you change its contents in a method, the changed contents will be available to the calling context.\r\n\r\n\r\n----------\r\n\r\n\r\nOops, you apparently mean calling a method by reference. This is also not possible in Java, as methods are no first-level citizens in Java. [This may change in JDK 8][1], but for the time being, you will have to use interfaces to work around this limitation.\r\n\r\n    public interface Foo{\r\n        void doSomeThing();\r\n    }\r\n    \r\n    public class SomeFoo implements Foo{\r\n        public void doSomeThing(){\r\n           System.out.println(&quot;foo&quot;);\r\n        }\r\n    }\r\n    \r\n    public class OtherFoo implements Foo{\r\n        public void doSomeThing(){\r\n           System.out.println(&quot;bar&quot;);\r\n        }\r\n    }\r\n\r\nUse `Foo` in your code, so you can easily substitute `SomeFoo` with `OtherFoo`.\r\n\r\n\r\n  [1]: http://cr.openjdk.java.net/~briangoetz/lambda/lambda-state-3.html &quot;but not to the extent a C++ programmer would expect!&quot;","title":"How to do &quot;call by reference&quot; in Java?","body":"<p>Real pass-by-reference is impossible in Java. Java passes everything by value, including references. But you can simulate it with container Objects. </p>\n\n<p>Use any of these as a method parameter:</p>\n\n<ul>\n<li>an array</li>\n<li>a Collection</li>\n<li>an AtomicXYZ class</li>\n</ul>\n\n<p>And if you change its contents in a method, the changed contents will be available to the calling context.</p>\n\n<hr>\n\n<p>Oops, you apparently mean calling a method by reference. This is also not possible in Java, as methods are no first-level citizens in Java. <a href=\"http://cr.openjdk.java.net/~briangoetz/lambda/lambda-state-3.html\" rel=\"noreferrer\" title=\"but not to the extent a C++ programmer would expect!\">This may change in JDK 8</a>, but for the time being, you will have to use interfaces to work around this limitation.</p>\n\n<pre><code>public interface Foo{\n    void doSomeThing();\n}\n\npublic class SomeFoo implements Foo{\n    public void doSomeThing(){\n       System.out.println(\"foo\");\n    }\n}\n\npublic class OtherFoo implements Foo{\n    public void doSomeThing(){\n       System.out.println(\"bar\");\n    }\n}\n</code></pre>\n\n<p>Use <code>Foo</code> in your code, so you can easily substitute <code>SomeFoo</code> with <code>OtherFoo</code>.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1305625556,"creation_date":1305625556,"answer_id":6029056,"question_id":6029012,"body_markdown":"The best way is to use an interface which performs the action.\r\n\r\n    // Pass a Runnable which calls the task() method\r\n    executor.submit(new Runnable() {\r\n        public void run() {\r\n            task();\r\n        }\r\n    });\r\n\r\n    public void task() { }\r\n     \r\n\r\n---\r\n\r\nYou can use reflections to call any method\r\n\r\n    Method method = MyClass.class.getMethod(&quot;methodToCall&quot;, ParameterType.class);\r\n    result = method.invoke(object, args);\r\n\r\n","title":"How to do &quot;call by reference&quot; in Java?","body":"<p>The best way is to use an interface which performs the action.</p>\n\n<pre><code>// Pass a Runnable which calls the task() method\nexecutor.submit(new Runnable() {\n    public void run() {\n        task();\n    }\n});\n\npublic void task() { }\n</code></pre>\n\n<hr>\n\n<p>You can use reflections to call any method</p>\n\n<pre><code>Method method = MyClass.class.getMethod(\"methodToCall\", ParameterType.class);\nresult = method.invoke(object, args);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":217320,"reputation":42820,"user_id":473070,"accept_rate":82,"display_name":"Vladimir Ivanov"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1305626157,"creation_date":1305625577,"answer_id":6029060,"question_id":6029012,"body_markdown":"Usually in java this is solved by using interfaces:\r\n\r\n    Collections.sort(list, new Comparator() {\r\n    \r\n      @Override\r\n      public int compareTo(Object o1, Object o2) {\r\n      /// code\r\n      }\r\n    \r\n    });","title":"How to do &quot;call by reference&quot; in Java?","body":"<p>Usually in java this is solved by using interfaces:</p>\n\n<pre><code>Collections.sort(list, new Comparator() {\n\n  @Override\n  public int compareTo(Object o1, Object o2) {\n  /// code\n  }\n\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":106339,"reputation":1012,"user_id":283315,"accept_rate":40,"display_name":"Trung"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1305626051,"creation_date":1305626051,"answer_id":6029132,"question_id":6029012,"body_markdown":"In Java, except for primitives, passing Object to a method/function is always by reference.\r\nSee [Oli Charlesworth&#39;s answer](https://stackoverflow.com/questions/6029012/how-to-do-call-by-reference-in-java/6029052#6029052) for the example.\r\n\r\nFor primitive types, you can wrap it using array:\r\nFor example:\r\n\r\n    public void foo(int[] in){\r\n      in[0] = 2;\r\n    }\r\n    \r\n    int[] byRef = new int[1];\r\n    byRef[0] = 1;\r\n    foo(byRef);\r\n    // ==&gt; byRef[0] == 2.\r\n\r\n\r\n","title":"How to do &quot;call by reference&quot; in Java?","body":"<p>In Java, except for primitives, passing Object to a method/function is always by reference.\nSee <a href=\"https://stackoverflow.com/questions/6029012/how-to-do-call-by-reference-in-java/6029052#6029052\">Oli Charlesworth's answer</a> for the example.</p>\n\n<p>For primitive types, you can wrap it using array:\nFor example:</p>\n\n<pre><code>public void foo(int[] in){\n  in[0] = 2;\n}\n\nint[] byRef = new int[1];\nbyRef[0] = 1;\nfoo(byRef);\n// ==&gt; byRef[0] == 2.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1695609486,"creation_date":1305626858,"answer_id":6029275,"question_id":6029012,"body_markdown":"&gt; 1) How to do call by reference in Java?\r\n\r\nYou cannot do &quot;call by reference&quot; in Java.  Period.  Nothing even comes close.  And passing a reference by value in a function&lt;sup&gt;1&lt;/sup&gt; call is NOT the same as &quot;call by reference&quot;.  The correct term for that is &quot;call by value&quot;.\r\n\r\n(Real &quot;call by reference&quot; allows you to do this kind of thing:\r\n\r\n    void swap(ref int i, ref int j) { int tmp = *i; *i = *j; *j = tmp }\r\n    \r\n    int a = 1;\r\n    int b = 2;\r\n    swap(a, b);\r\n    print(&quot;a is %s, b is %s\\n&quot;, a, b);  // -&gt; &quot;a = 2, b = 1&quot;\r\n\r\nYou simply can&#39;t do that in Java.)\r\n\r\n--------\r\n\r\n&gt; 2) Since Java doesn&#39;t support pointers ...\r\n\r\nWhile this is technically true, it would not be an impediment to what you are trying to do.  \r\n\r\nJava **does** support *references*, which are like pointers in the most important respects.  The difference is that you can&#39;t treat references as memory addresses by doing arithmetic on them, converting them to and from integer types and so on.  \r\n\r\nFurthermore, you can&#39;t create a reference to a variable in Java. because that concept does not exist in Java or the JVM architecture.  This is what makes *real* &quot;call by reference&quot; impossible in Java.\r\n\r\n--------\r\n\r\n&gt; ... how is it possible to call a function by reference in Java like we do in C and C++??\r\n\r\nThis part of your question is ambiguous.  If you are asking (again) if you can do &quot;call by reference&quot; in Java, the answer is (again) &quot;It is not possible&quot;; see above.\r\n\r\nIf you are actually talking about calls that involve references to functions (or function pointers in C / C++ parlance) ...\r\n\r\n***Important note:** this is NOT &quot;call by reference&quot;.  It is calling *via* a reference to a function&lt;sup&gt;2&lt;/sup&gt;.  Once you have figured out what function is called, normal Java &quot;call by value&quot; semantics apply.  And the same goes for the case where you pass a function reference as an argument to another function call: the reference is passed by value.*\r\n\r\nPrior to Java 8, references to functions were not supported as values.  So you could not pass them as arguments, and you could not assign them to variables.   However, you *could* define a class with one instance method, and use an instance of the class instead of a function reference.  Other Answers give examples of this approach.\r\n\r\nFrom Java 8 onwards, method references are supported using `::` syntax.  There are 4 kinds of method reference:\r\n\r\n  - Reference to a static method: `ContainingClass::staticMethodName`\r\n  - Reference to an instance method of a particular object:  \t`containingObject::instanceMethodName`\r\n  - Reference to an instance method of an arbitrary object of a particular type: `ContainingType::methodName`\r\n  - Reference to a constructor: `ClassName::new`\r\n\r\nMethod and constructor references (and lambdas) are passed by value, just like everything else in Java.\r\n\r\n--------------\r\n\r\n&lt;sup&gt;1 - To simplify, I am using &quot;function&quot; as a shorthand for &quot;method&quot; or &quot;constructor&quot; or &quot;lambda&quot; in the Java context.&lt;br&gt;\r\n2 - From a pedagogical perspective, it is unfortunate that C and C++ use the `&amp;` symbol for both call-by-reference and for denoting function pointers.  However, from a language design perspective, I don&#39;t disagree with that design choice.&lt;/sup&gt;\r\n\r\n    ","title":"How to do &quot;call by reference&quot; in Java?","body":"<blockquote>\n<ol>\n<li>How to do call by reference in Java?</li>\n</ol>\n</blockquote>\n<p>You cannot do &quot;call by reference&quot; in Java.  Period.  Nothing even comes close.  And passing a reference by value in a function<sup>1</sup> call is NOT the same as &quot;call by reference&quot;.  The correct term for that is &quot;call by value&quot;.</p>\n<p>(Real &quot;call by reference&quot; allows you to do this kind of thing:</p>\n<pre><code>void swap(ref int i, ref int j) { int tmp = *i; *i = *j; *j = tmp }\n\nint a = 1;\nint b = 2;\nswap(a, b);\nprint(&quot;a is %s, b is %s\\n&quot;, a, b);  // -&gt; &quot;a = 2, b = 1&quot;\n</code></pre>\n<p>You simply can't do that in Java.)</p>\n<hr />\n<blockquote>\n<ol start=\"2\">\n<li>Since Java doesn't support pointers ...</li>\n</ol>\n</blockquote>\n<p>While this is technically true, it would not be an impediment to what you are trying to do.</p>\n<p>Java <strong>does</strong> support <em>references</em>, which are like pointers in the most important respects.  The difference is that you can't treat references as memory addresses by doing arithmetic on them, converting them to and from integer types and so on.</p>\n<p>Furthermore, you can't create a reference to a variable in Java. because that concept does not exist in Java or the JVM architecture.  This is what makes <em>real</em> &quot;call by reference&quot; impossible in Java.</p>\n<hr />\n<blockquote>\n<p>... how is it possible to call a function by reference in Java like we do in C and C++??</p>\n</blockquote>\n<p>This part of your question is ambiguous.  If you are asking (again) if you can do &quot;call by reference&quot; in Java, the answer is (again) &quot;It is not possible&quot;; see above.</p>\n<p>If you are actually talking about calls that involve references to functions (or function pointers in C / C++ parlance) ...</p>\n<p><em><strong>Important note:</strong> this is NOT &quot;call by reference&quot;.  It is calling <em>via</em> a reference to a function<sup>2</sup>.  Once you have figured out what function is called, normal Java &quot;call by value&quot; semantics apply.  And the same goes for the case where you pass a function reference as an argument to another function call: the reference is passed by value.</em></p>\n<p>Prior to Java 8, references to functions were not supported as values.  So you could not pass them as arguments, and you could not assign them to variables.   However, you <em>could</em> define a class with one instance method, and use an instance of the class instead of a function reference.  Other Answers give examples of this approach.</p>\n<p>From Java 8 onwards, method references are supported using <code>::</code> syntax.  There are 4 kinds of method reference:</p>\n<ul>\n<li>Reference to a static method: <code>ContainingClass::staticMethodName</code></li>\n<li>Reference to an instance method of a particular object:     <code>containingObject::instanceMethodName</code></li>\n<li>Reference to an instance method of an arbitrary object of a particular type: <code>ContainingType::methodName</code></li>\n<li>Reference to a constructor: <code>ClassName::new</code></li>\n</ul>\n<p>Method and constructor references (and lambdas) are passed by value, just like everything else in Java.</p>\n<hr />\n<p><sup>1 - To simplify, I am using &quot;function&quot; as a shorthand for &quot;method&quot; or &quot;constructor&quot; or &quot;lambda&quot; in the Java context.<br>\n2 - From a pedagogical perspective, it is unfortunate that C and C++ use the <code>&amp;</code> symbol for both call-by-reference and for denoting function pointers.  However, from a language design perspective, I don't disagree with that design choice.</sup></p>\n"},{"tags":[],"owner":{"account_id":1768130,"reputation":13,"user_id":1613488,"display_name":"Swetha D Murthy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1347284139,"creation_date":1347284139,"answer_id":12352889,"question_id":6029012,"body_markdown":"\r\nhttp://www.javaworld.com/javaqa/2000-05/03-qa-0526-pass.html\r\n\r\nJava does manipulate objects by reference, and all object variables are references. However, Java doesn&#39;t pass method arguments by reference; it passes them by value.\r\n\r\n\r\n","title":"How to do &quot;call by reference&quot; in Java?","body":"<p><a href=\"http://www.javaworld.com/javaqa/2000-05/03-qa-0526-pass.html\" rel=\"nofollow\">http://www.javaworld.com/javaqa/2000-05/03-qa-0526-pass.html</a></p>\n\n<p>Java does manipulate objects by reference, and all object variables are references. However, Java doesn't pass method arguments by reference; it passes them by value.</p>\n"},{"tags":[],"owner":{"account_id":231117,"reputation":8541,"user_id":495157,"accept_rate":40,"display_name":"JGFMK"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1430057612,"creation_date":1378918664,"answer_id":18747086,"question_id":6029012,"body_markdown":"    package jgf;\r\n    \r\n    public class TestJavaParams {\r\n    \r\n     public static void main(String[] args) {\r\n    \tint[] counter1 = new int[1];\r\n    \tcounter1[0] = 0;\r\n    \tSystem.out.println(counter1[0]);\r\n    \tdoAdd1(counter1);\r\n    \tSystem.out.println(counter1[0]);\r\n    \tint counter2 = 0;\r\n    \tSystem.out.println(counter2);\r\n    \tdoAdd2(counter2);\r\n    \tSystem.out.println(counter2);\t\r\n      }\r\n    \r\n      public static void doAdd1(int[] counter1) {\r\n    \tcounter1[0] += 1;\r\n      }\r\n    \r\n      public static void doAdd2(int counter2) {\r\n    \tcounter2 += 1;\r\n      }\r\n    }\r\nOutput would be:\r\n\r\n    0\r\n    1\r\n    0\r\n    0\r\n\r\n","title":"How to do &quot;call by reference&quot; in Java?","body":"<pre><code>package jgf;\n\npublic class TestJavaParams {\n\n public static void main(String[] args) {\n    int[] counter1 = new int[1];\n    counter1[0] = 0;\n    System.out.println(counter1[0]);\n    doAdd1(counter1);\n    System.out.println(counter1[0]);\n    int counter2 = 0;\n    System.out.println(counter2);\n    doAdd2(counter2);\n    System.out.println(counter2);   \n  }\n\n  public static void doAdd1(int[] counter1) {\n    counter1[0] += 1;\n  }\n\n  public static void doAdd2(int counter2) {\n    counter2 += 1;\n  }\n}\n</code></pre>\n\n<p>Output would be:</p>\n\n<pre><code>0\n1\n0\n0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3987185,"reputation":11,"user_id":3449128,"display_name":"user3449128"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395475171,"creation_date":1395475171,"answer_id":22575051,"question_id":6029012,"body_markdown":"Java allows only call by value. However, references to objects can be transferred to the called function using call by value. These references if used to manipulate the data of the object in the called function, this change will be visible in the calling function also. We can not do pointer arithmetic on the references as we do with pointers but references can point to the data of the object using period operator which functions as &#39;*&#39; operator in C/C++. ","title":"How to do &quot;call by reference&quot; in Java?","body":"<p>Java allows only call by value. However, references to objects can be transferred to the called function using call by value. These references if used to manipulate the data of the object in the called function, this change will be visible in the calling function also. We can not do pointer arithmetic on the references as we do with pointers but references can point to the data of the object using period operator which functions as '*' operator in C/C++. </p>\n"},{"tags":[],"owner":{"account_id":2063263,"reputation":65,"user_id":1839363,"display_name":"Dave Black"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408534107,"creation_date":1408534107,"answer_id":25403533,"question_id":6029012,"body_markdown":"From Java The Complete Reference by Herbert Shildt 9th edition: &quot;When you pass an object to a method, the situation  changes dramatically, because objects are passed by what is effectively call-by-reference.  Keep in mind that when you create a variable of a class type, you are only creating a reference to an object.  Thus, when you pass this reference to a method, the parameter that receives it will refer to the same object as that referred to by theargument.  This effectively means that objects act as if they are passed to methods by use of call-by-referen ce.  Changes to the object inside the method do affect the object used as an argument.&quot;\r\n\r\n    package objectpassing;\r\n    \r\n    public class PassObjectTest {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tObj1 o1 = new Obj1(9);\r\n    \t\tSystem.out.println(o1.getA());\r\n    \t\to1.setA(3);\r\n    \t\tSystem.out.println(o1.getA());\r\n    \t\tSystem.out.println(sendObj1(o1).getA());\r\n    \t\tSystem.out.println(o1.getA());\r\n    \t}\r\n    \t\r\n    public static Obj1 sendObj1(Obj1 o)\r\n    {\r\n    \to.setA(2);\r\n    \treturn o;\r\n    }\r\n    \r\n    \r\n    }\r\n    \r\n    class Obj1\r\n    {\r\n    \tprivate int a;\r\n    \t\r\n    \tObj1(int num)\r\n    \t{\r\n    \t\ta=num;\r\n    \t}\r\n    \t\r\n    \tvoid setA(int setnum)\r\n    \t{\r\n    \t\ta=setnum;\r\n    \t}\r\n    \t\r\n    \tint getA()\r\n    \t{\r\n    \t\treturn a;\r\n    \t}\r\n    }\r\n\r\nOP: \r\n9\r\n3\r\n2\r\n2\r\n\r\nFInal call to getA() shows original object field &#39;a&#39; was changed in the call to method public static Obj1 sendObj1(Obj1 o). ","title":"How to do &quot;call by reference&quot; in Java?","body":"<p>From Java The Complete Reference by Herbert Shildt 9th edition: \"When you pass an object to a method, the situation  changes dramatically, because objects are passed by what is effectively call-by-reference.  Keep in mind that when you create a variable of a class type, you are only creating a reference to an object.  Thus, when you pass this reference to a method, the parameter that receives it will refer to the same object as that referred to by theargument.  This effectively means that objects act as if they are passed to methods by use of call-by-referen ce.  Changes to the object inside the method do affect the object used as an argument.\"</p>\n\n<pre><code>package objectpassing;\n\npublic class PassObjectTest {\n\n    public static void main(String[] args) {\n        Obj1 o1 = new Obj1(9);\n        System.out.println(o1.getA());\n        o1.setA(3);\n        System.out.println(o1.getA());\n        System.out.println(sendObj1(o1).getA());\n        System.out.println(o1.getA());\n    }\n\npublic static Obj1 sendObj1(Obj1 o)\n{\n    o.setA(2);\n    return o;\n}\n\n\n}\n\nclass Obj1\n{\n    private int a;\n\n    Obj1(int num)\n    {\n        a=num;\n    }\n\n    void setA(int setnum)\n    {\n        a=setnum;\n    }\n\n    int getA()\n    {\n        return a;\n    }\n}\n</code></pre>\n\n<p>OP: \n9\n3\n2\n2</p>\n\n<p>FInal call to getA() shows original object field 'a' was changed in the call to method public static Obj1 sendObj1(Obj1 o). </p>\n"},{"tags":[],"owner":{"account_id":9862974,"reputation":400,"user_id":7305307,"display_name":"Yash Bansal"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1481868318,"creation_date":1481868318,"answer_id":41178192,"question_id":6029012,"body_markdown":"JAVA does allow internal reference using objects.\r\nWhen one write this assignment\r\nObj o1 = new Obj();\r\nObj o2=o1;\r\nWhat does it do, that both o1 and o2 points to the same address.\r\nManipulating any object&#39;s space, will reflect in the other&#39;s also.\r\n\r\nSo to do this, as mentioned above you can either use Array, Collections","title":"How to do &quot;call by reference&quot; in Java?","body":"<p>JAVA does allow internal reference using objects.\nWhen one write this assignment\nObj o1 = new Obj();\nObj o2=o1;\nWhat does it do, that both o1 and o2 points to the same address.\nManipulating any object's space, will reflect in the other's also.</p>\n\n<p>So to do this, as mentioned above you can either use Array, Collections</p>\n"},{"tags":[],"owner":{"account_id":14717860,"reputation":1,"user_id":10629339,"display_name":"Vignesh kanna"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1574766966,"creation_date":1574766966,"answer_id":59049711,"question_id":6029012,"body_markdown":"Yes, you can implement Call by Reference in another way by &quot;**Pass by Reference**&quot;.\r\n\r\n - You should pass the reference object of a class created.\r\n - Then you can manipulate the object&#39;s data by member function (.), which will be reflected in original data.\r\n\r\nIn below code the original data --&gt; x is manipulated by passing the reference object.\r\n\r\n    public class Method_Call {\r\n\tstatic int x=50;\r\n\tpublic void change(Method_Call obj) {\r\n\t\tobj.x = 100;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tMethod_Call obj = new Method_Call();\r\n\t\tSystem.out.println(x);\r\n\t\tobj.change(obj);\r\n\t\tSystem.out.println(x);\r\n\r\n\t}\r\n\r\n}\r\n\r\nOutput:\r\n50\r\n100\r\n","title":"How to do &quot;call by reference&quot; in Java?","body":"<p>Yes, you can implement Call by Reference in another way by \"<strong>Pass by Reference</strong>\".</p>\n\n<ul>\n<li>You should pass the reference object of a class created.</li>\n<li>Then you can manipulate the object's data by member function (.), which will be reflected in original data.</li>\n</ul>\n\n<p>In below code the original data --> x is manipulated by passing the reference object.</p>\n\n<pre><code>public class Method_Call {\nstatic int x=50;\npublic void change(Method_Call obj) {\n    obj.x = 100;\n}\n\npublic static void main(String[] args) {\n\n    Method_Call obj = new Method_Call();\n    System.out.println(x);\n    obj.change(obj);\n    System.out.println(x);\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Output:\n50\n100</p>\n"},{"tags":[],"owner":{"account_id":18883799,"reputation":1,"user_id":13775677,"display_name":"Gaurav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592578225,"creation_date":1592572345,"answer_id":62471076,"question_id":6029012,"body_markdown":"You cannot do call by reference in Java. Period. Nothing even comes close. And passing a reference by value is NOT the same as call by reference.\r\n\r\nI used an array to do this...&lt;br&gt;\r\n\r\n```java\r\n    package method;\r\n    \r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class InterChange {\r\n\r\n\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tScanner sc=new Scanner(System.in);\r\n\r\n\t\tint a[]=new int[2];\r\n\r\n     \tSystem.out.println(&quot;Enter two values&quot;);\r\n\r\n\t\tfor(int i=0;i&lt;2;i++) {\r\n\r\n\t\t\ta[i]=sc.nextInt();\r\n\t\t}\r\n\r\n\r\n\r\n\t\t\r\n\t\thange(a);\r\n\r\n\t\tfor(int i=0;i&lt;2;i++) {\r\n\r\n\t\t\tSystem.out.println(a[i]);\r\n\t\t}\r\n\t\t\r\n\r\n\t}\r\n\r\n\r\n\r\n\t\r\n\t static int hange(int b[])\r\n\t{\r\n\t\tint temp;\r\n\r\n\t\ttemp=b[0];\r\n\t\tb[0]=b[1];\r\n\t\tb[1]=temp;\r\n\t\treturn b[0]&amp;b[1];\r\n\t\t\r\n\t}\r\n\r\n\t}\r\n```","title":"How to do &quot;call by reference&quot; in Java?","body":"<p>You cannot do call by reference in Java. Period. Nothing even comes close. And passing a reference by value is NOT the same as call by reference.</p>\n\n<p>I used an array to do this...<br></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    package method;\n\n\n    import java.util.Scanner;\n\n    public class InterChange {\n\n\n\n        public static void main(String[] args) {\n\n        Scanner sc=new Scanner(System.in);\n\n        int a[]=new int[2];\n\n        System.out.println(\"Enter two values\");\n\n        for(int i=0;i&lt;2;i++) {\n\n            a[i]=sc.nextInt();\n        }\n\n\n\n\n        hange(a);\n\n        for(int i=0;i&lt;2;i++) {\n\n            System.out.println(a[i]);\n        }\n\n\n    }\n\n\n\n\n     static int hange(int b[])\n    {\n        int temp;\n\n        temp=b[0];\n        b[0]=b[1];\n        b[1]=temp;\n        return b[0]&amp;b[1];\n\n    }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":337549,"reputation":1511,"user_id":665884,"accept_rate":88,"display_name":"Shashi Bhushan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102340,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":6029042,"answer_count":12,"score":35,"last_activity_date":1695609486,"creation_date":1305625358,"question_id":6029012,"body_markdown":"1.  How to do &quot;call by reference&quot; in Java?  (Assume that we are using that term in the same way that it has been used in peer-reviewed CS literature since the 1960&#39;s; see [this Wikipedia page][1] for a simple explanation.)\r\n\r\n2.  Since Java doesn&#39;t support pointers, how is it possible to call a function by reference in Java like we do in C and C++??\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Evaluation_strategy#Call_by_reference","title":"How to do &quot;call by reference&quot; in Java?","body":"<ol>\n<li><p>How to do &quot;call by reference&quot; in Java?  (Assume that we are using that term in the same way that it has been used in peer-reviewed CS literature since the 1960's; see <a href=\"https://en.wikipedia.org/wiki/Evaluation_strategy#Call_by_reference\" rel=\"noreferrer\">this Wikipedia page</a> for a simple explanation.)</p>\n</li>\n<li><p>Since Java doesn't support pointers, how is it possible to call a function by reference in Java like we do in C and C++??</p>\n</li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2132213,"reputation":11287,"user_id":1892802,"accept_rate":100,"display_name":"ug_"},"score":0,"creation_date":1420603601,"post_id":27812213,"comment_id":44032046,"body_markdown":"You might try removing all the code except for the `Tie` method and add a comment at the top saying something like `/** Board[][] char filled array with either &#39;X&#39;, &#39;O&#39; or &#39;-&#39;. returns true if the game is a tie, false if its not */`","body":"You might try removing all the code except for the <code>Tie</code> method and add a comment at the top saying something like <code>&#47;** Board[][] char filled array with either &#39;X&#39;, &#39;O&#39; or &#39;-&#39;. returns true if the game is a tie, false if its not *&#47;</code>"},{"owner":{"account_id":5504491,"reputation":88,"user_id":4372747,"accept_rate":38,"display_name":"Alex Montague"},"score":0,"creation_date":1420603739,"post_id":27812213,"comment_id":44032072,"body_markdown":"Uhh, that&#39;s just commenting and will not really help me that much, but thanks!","body":"Uhh, that&#39;s just commenting and will not really help me that much, but thanks!"},{"owner":{"account_id":2132213,"reputation":11287,"user_id":1892802,"accept_rate":100,"display_name":"ug_"},"score":1,"creation_date":1420603864,"post_id":27812213,"comment_id":44032095,"body_markdown":"yes, that is why its a comment and not an answer. It would help others who would like to awnser your question to see the problem more easily therefore you will be much more likely to get help.","body":"yes, that is why its a comment and not an answer. It would help others who would like to awnser your question to see the problem more easily therefore you will be much more likely to get help."},{"owner":{"account_id":5340307,"reputation":1973,"user_id":4257674,"display_name":"frasnian"},"score":1,"creation_date":1420604408,"post_id":27812213,"comment_id":44032185,"body_markdown":"OP: @ug_&#39;s comment is actually quite helpful, it you listen to what he/she is saying.  Your only question appears to be this: &quot;just need to know how to determine a tie&quot;.  So, if all of your (other) &quot;code [is] working great,&quot; the real question you have is much more limited in scope.  More people would be willing to help with your current *specific* issue if they don&#39;t have to wade through a bunch of essentially extraneous/irrelevant code.  Asking better questions leads to better answers.  In this particular case a more specific question is probably better.","body":"OP: @ug_&#39;s comment is actually quite helpful, it you listen to what he/she is saying.  Your only question appears to be this: &quot;just need to know how to determine a tie&quot;.  So, if all of your (other) &quot;code [is] working great,&quot; the real question you have is much more limited in scope.  More people would be willing to help with your current <i>specific</i> issue if they don&#39;t have to wade through a bunch of essentially extraneous/irrelevant code.  Asking better questions leads to better answers.  In this particular case a more specific question is probably better."},{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1420604661,"post_id":27812213,"comment_id":44032235,"body_markdown":"each character has an unique integer equivalent. So every time a player wins, the row or column contains X X X or O O O. if you add these, a unique number is obtained. So you can check if all the boxes are filled and if non of the row and column give that unique value(X+X+X or O+O+O) then you know that the game is tied.","body":"each character has an unique integer equivalent. So every time a player wins, the row or column contains X X X or O O O. if you add these, a unique number is obtained. So you can check if all the boxes are filled and if non of the row and column give that unique value(X+X+X or O+O+O) then you know that the game is tied."},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1420605745,"post_id":27812213,"comment_id":44032474,"body_markdown":"This test: `Board [row] [column] == &#39;X&#39; &amp;&amp; Board [row] [column] == &#39;O&#39;` makes no sense, because it can never be true.  You&#39;re testing whether the same square on the board is both `X` and `O`, and of course it can&#39;t be both.","body":"This test: <code>Board [row] [column] == &#39;X&#39; &amp;&amp; Board [row] [column] == &#39;O&#39;</code> makes no sense, because it can never be true.  You&#39;re testing whether the same square on the board is both <code>X</code> and <code>O</code>, and of course it can&#39;t be both."},{"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":0,"creation_date":1420605910,"post_id":27812213,"comment_id":44032514,"body_markdown":"@ajb absolutely agree with you. Even I was confused what is happening.","body":"@ajb absolutely agree with you. Even I was confused what is happening."},{"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":0,"creation_date":1420606036,"post_id":27812213,"comment_id":44032547,"body_markdown":"This also looks similar `http://stackoverflow.com/questions/4198955/how-to-find-the-winner-of-a-tic-tac-toe-game-of-any-size`","body":"This also looks similar <code>http:&#47;&#47;stackoverflow.com&#47;questions&#47;4198955&#47;how-to-find-the-w&zwnj;&#8203;inner-of-a-tic-tac-t&zwnj;&#8203;oe-game-of-any-size</code>"}],"answers":[{"tags":[],"owner":{"account_id":5340307,"reputation":1973,"user_id":4257674,"display_name":"frasnian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1420605787,"creation_date":1420605359,"answer_id":27812457,"question_id":27812213,"body_markdown":"Check for a win before checking for a tie.  Then, all you really need is a simple &quot;BoardFull&quot; method - by definition a full board without a win is a draw.  Assume that you have a sentinel character (let&#39;s say `&#39;.&#39;`) to mark spaces that have not had an &#39;X&#39; or &#39;O&#39; move yet:\r\n\r\n    public static bool BoardFull(char [] [] Board)\r\n    {\r\n        for (int row = 0; row &lt; 3; ++row) \r\n        {\r\n            for (int column = 0; column &lt; 3; ++column) \r\n            {\r\n                if (Board [row] [column] == &#39;.&#39;)\r\n                {\r\n                    // a move still exists - board is not full\r\n                    return false;\r\n                }\r\n            }  \r\n        }\r\n        return true;\r\n     }\r\n\r\nThen, it&#39;s basically (pseudo-code follows):\r\n\r\n    if (!HaveWin(board))\r\n    {\r\n        if (BoardFull(board))\r\n        {\r\n            System.out.println (&quot;It is a tie. Cats game!&quot;) ;\r\n            GameOver = true ;    \r\n        }\r\n    }\r\n\r\n","title":"Java - Determining a tie in tic tac toe?","body":"<p>Check for a win before checking for a tie.  Then, all you really need is a simple \"BoardFull\" method - by definition a full board without a win is a draw.  Assume that you have a sentinel character (let's say <code>'.'</code>) to mark spaces that have not had an 'X' or 'O' move yet:</p>\n\n<pre><code>public static bool BoardFull(char [] [] Board)\n{\n    for (int row = 0; row &lt; 3; ++row) \n    {\n        for (int column = 0; column &lt; 3; ++column) \n        {\n            if (Board [row] [column] == '.')\n            {\n                // a move still exists - board is not full\n                return false;\n            }\n        }  \n    }\n    return true;\n }\n</code></pre>\n\n<p>Then, it's basically (pseudo-code follows):</p>\n\n<pre><code>if (!HaveWin(board))\n{\n    if (BoardFull(board))\n    {\n        System.out.println (\"It is a tie. Cats game!\") ;\n        GameOver = true ;    \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2915411,"reputation":13804,"user_id":2498729,"accept_rate":69,"display_name":"But I&#39;m Not A Wrapper Class"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1420606422,"creation_date":1420605639,"answer_id":27812491,"question_id":27812213,"body_markdown":"Check all the possible rows/columns/diagonals a player can score and keep track of the X and O score. Then compare the two to determine a tie.\r\n\r\n    public static void Tie (char [] [] Board)\r\n    {\r\n        //do a check to make sure the Board is 3x3\r\n        //if not, return/throw an error\r\n    \r\n        //keep track of score\r\n        int xScore = 0;\r\n        int oScore = 0;\r\n    \r\n        //horizontal and vertical checks\r\n        for(int i = 0; i &lt; Board.length; i++){\r\n            if(Board[i][0] == &#39;X&#39; &amp;&amp;   Board[i][1] == &#39;X&#39; &amp;&amp; Board[i][2] == &#39;X&#39;){\r\n                xScore++;\r\n            }\r\n    \r\n            if(Board[0][i] == &#39;X&#39; &amp;&amp;   Board[1][i] == &#39;X&#39; &amp;&amp; Board[2][i] == &#39;X&#39;){\r\n                xScore++;\r\n            }\r\n    \r\n            if(Board[i][0] == &#39;O&#39; &amp;&amp;   Board[i][1] == &#39;O&#39; &amp;&amp; Board[i][2] == &#39;O&#39;){\r\n                oScore++;\r\n            }\r\n    \r\n            if(Board[0][i] == &#39;O&#39; &amp;&amp;   Board[1][i] == &#39;O&#39; &amp;&amp; Board[2][i] == &#39;O&#39;){\r\n                oScore++;\r\n            }\r\n        }\r\n      \r\n        //diagonal checks\r\n        if(Board[0][0] == &#39;X&#39; &amp;&amp;   Board[1][1] == &#39;X&#39; &amp;&amp; Board[2][2] == &#39;X&#39;){\r\n            xScore++;\r\n        }\r\n        if(Board[0][2] == &#39;X&#39; &amp;&amp;   Board[1][1] == &#39;X&#39; &amp;&amp; Board[2][0] == &#39;X&#39;){\r\n            xScore++;\r\n        }\r\n        if(Board[0][0] == &#39;O&#39; &amp;&amp;   Board[1][1] == &#39;O&#39; &amp;&amp; Board[2][2] == &#39;O&#39;){\r\n            oScore++;\r\n        }\r\n        if(Board[0][2] == &#39;O&#39; &amp;&amp;   Board[1][1] == &#39;O&#39; &amp;&amp; Board[2][0] == &#39;O&#39;){\r\n            oScore++;\r\n        }\r\n\r\n        if(xScore == 0 &amp;&amp; oScore == 0){\r\n            System.out.println (&quot;It is a tie. Cats game!&quot;) ;\r\n            GameOver = true ;\r\n        }else{\r\n            //do other stuff\r\n        }\r\n    }\r\n\r\n**NOTE**: I haven&#39;t actually tested this pseudo code out, but you should get the idea","title":"Java - Determining a tie in tic tac toe?","body":"<p>Check all the possible rows/columns/diagonals a player can score and keep track of the X and O score. Then compare the two to determine a tie.</p>\n\n<pre><code>public static void Tie (char [] [] Board)\n{\n    //do a check to make sure the Board is 3x3\n    //if not, return/throw an error\n\n    //keep track of score\n    int xScore = 0;\n    int oScore = 0;\n\n    //horizontal and vertical checks\n    for(int i = 0; i &lt; Board.length; i++){\n        if(Board[i][0] == 'X' &amp;&amp;   Board[i][1] == 'X' &amp;&amp; Board[i][2] == 'X'){\n            xScore++;\n        }\n\n        if(Board[0][i] == 'X' &amp;&amp;   Board[1][i] == 'X' &amp;&amp; Board[2][i] == 'X'){\n            xScore++;\n        }\n\n        if(Board[i][0] == 'O' &amp;&amp;   Board[i][1] == 'O' &amp;&amp; Board[i][2] == 'O'){\n            oScore++;\n        }\n\n        if(Board[0][i] == 'O' &amp;&amp;   Board[1][i] == 'O' &amp;&amp; Board[2][i] == 'O'){\n            oScore++;\n        }\n    }\n\n    //diagonal checks\n    if(Board[0][0] == 'X' &amp;&amp;   Board[1][1] == 'X' &amp;&amp; Board[2][2] == 'X'){\n        xScore++;\n    }\n    if(Board[0][2] == 'X' &amp;&amp;   Board[1][1] == 'X' &amp;&amp; Board[2][0] == 'X'){\n        xScore++;\n    }\n    if(Board[0][0] == 'O' &amp;&amp;   Board[1][1] == 'O' &amp;&amp; Board[2][2] == 'O'){\n        oScore++;\n    }\n    if(Board[0][2] == 'O' &amp;&amp;   Board[1][1] == 'O' &amp;&amp; Board[2][0] == 'O'){\n        oScore++;\n    }\n\n    if(xScore == 0 &amp;&amp; oScore == 0){\n        System.out.println (\"It is a tie. Cats game!\") ;\n        GameOver = true ;\n    }else{\n        //do other stuff\n    }\n}\n</code></pre>\n\n<p><strong>NOTE</strong>: I haven't actually tested this pseudo code out, but you should get the idea</p>\n"},{"tags":[],"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1420606247,"creation_date":1420606247,"answer_id":27812579,"question_id":27812213,"body_markdown":"To do the best at avoiding duplicated code, I&#39;d define a method like this:\r\n\r\n    boolean checkLine(char[][] board, int startRow, int startCol, int rowDiff, int colDiff) {\r\n        ...\r\n    }\r\n\r\nwhich checks to see if `board[startRow][startCol]`, `board[startRow+rowDiff][startCol+colDiff]`, and `board[startRow+2*rowDiff][startCol+2*colDiff]` are all the same (and are either `X` or `O`).  You should be able to see that all 8 lines (3 rows, 3 columns, 2 diagonals) can be tested using the right values for the parameters (possibly negative).  Then call this method up to 8 times; if any of them return `true`, the game is a win for one player; if none of them return `true`, and there are no empty spaces on the board, the game is a tie.  (An improvement might be to make the result type `char` instead of `boolean`, and have the method return `X` or `O` if the three cells are all the same, or something else if they&#39;re not.  That way, the method would tell you who won if a player won.)","title":"Java - Determining a tie in tic tac toe?","body":"<p>To do the best at avoiding duplicated code, I'd define a method like this:</p>\n\n<pre><code>boolean checkLine(char[][] board, int startRow, int startCol, int rowDiff, int colDiff) {\n    ...\n}\n</code></pre>\n\n<p>which checks to see if <code>board[startRow][startCol]</code>, <code>board[startRow+rowDiff][startCol+colDiff]</code>, and <code>board[startRow+2*rowDiff][startCol+2*colDiff]</code> are all the same (and are either <code>X</code> or <code>O</code>).  You should be able to see that all 8 lines (3 rows, 3 columns, 2 diagonals) can be tested using the right values for the parameters (possibly negative).  Then call this method up to 8 times; if any of them return <code>true</code>, the game is a win for one player; if none of them return <code>true</code>, and there are no empty spaces on the board, the game is a tie.  (An improvement might be to make the result type <code>char</code> instead of <code>boolean</code>, and have the method return <code>X</code> or <code>O</code> if the three cells are all the same, or something else if they're not.  That way, the method would tell you who won if a player won.)</p>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1420606891,"creation_date":1420606891,"answer_id":27812688,"question_id":27812213,"body_markdown":"The following link may help. This algorithm is about tic-tac-toe game played between computer and human. And for tie it makes use of similar algorithm as suggested by @frasnian.\r\n\r\n\r\nhttp://www.cs.colostate.edu/~cs160/.Fall14/examples/TicTacToe.html\r\n\r\n    ` // Game status\r\n        private eStatus status() {\r\n    \r\n            // Check tie\r\n            boolean tieGame = true;\r\n            for (int row = 0; row &lt;= 2; ++row)\r\n                for (int col = 0; col &lt;= 2; ++col)\r\n                        if (board[row][col] == &#39;-&#39;)\r\n                            tieGame = false;\r\n            // Tie game\r\n            if (tieGame)\r\n                return eStatus.TIE_GAME;\r\n            \r\n            // Player wins\r\n            else if (runOfThree(&#39;O&#39;))\r\n                return eStatus.PLAYER_WINS;\r\n    \r\n            // Computer wins\r\n            else if (runOfThree(&#39;X&#39;))\r\n                return eStatus.COMPUTER_WINS;\r\n    \r\n            return eStatus.IN_PROGRESS;\r\n        }`","title":"Java - Determining a tie in tic tac toe?","body":"<p>The following link may help. This algorithm is about tic-tac-toe game played between computer and human. And for tie it makes use of similar algorithm as suggested by @frasnian.</p>\n\n<p><a href=\"http://www.cs.colostate.edu/~cs160/.Fall14/examples/TicTacToe.html\" rel=\"nofollow\">http://www.cs.colostate.edu/~cs160/.Fall14/examples/TicTacToe.html</a></p>\n\n<pre><code>` // Game status\n    private eStatus status() {\n\n        // Check tie\n        boolean tieGame = true;\n        for (int row = 0; row &lt;= 2; ++row)\n            for (int col = 0; col &lt;= 2; ++col)\n                    if (board[row][col] == '-')\n                        tieGame = false;\n        // Tie game\n        if (tieGame)\n            return eStatus.TIE_GAME;\n\n        // Player wins\n        else if (runOfThree('O'))\n            return eStatus.PLAYER_WINS;\n\n        // Computer wins\n        else if (runOfThree('X'))\n            return eStatus.COMPUTER_WINS;\n\n        return eStatus.IN_PROGRESS;\n    }`\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19074270,"reputation":1,"user_id":13927849,"display_name":"Oblivion"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594717185,"creation_date":1594717185,"answer_id":62891539,"question_id":27812213,"body_markdown":"I have finally found the solution! :O \r\nHere it is, for both win/tie. Do note though that this is just coming from an amateur coder. Hope it helps though. :) \r\n\r\n\tstatic int winOrTie() {\r\n\t\t//TODO Determine whether X or O won or there is a tie\r\n\t\tif (gameboard[0][0] + gameboard[0][1] + gameboard[0][2] == 3*NOUGHT)\r\n\t\t\t{return NOUGHT;}\r\n\t\tif (gameboard[1][0] + gameboard[1][1] + gameboard[1][2] == 3*NOUGHT)\r\n\t\t\t{return NOUGHT;}\r\n\t\tif (gameboard[2][0] + gameboard[2][1] + gameboard[2][2] == 3*NOUGHT)\r\n\t\t\t{return NOUGHT;}\r\n\t\t\r\n\t\tif (gameboard[0][0] + gameboard[1][0] + gameboard[2][0] == 3*NOUGHT)\r\n\t\t\t{return NOUGHT;}\r\n\t\tif (gameboard[0][1] + gameboard[1][1] + gameboard[2][1] == 3*NOUGHT)\r\n\t\t\t{return NOUGHT;}\r\n\t\tif (gameboard[0][2] + gameboard[1][2] + gameboard[2][2] == 3*NOUGHT)\r\n\t\t\t{return NOUGHT;}\r\n\t\tif (gameboard[0][0] + gameboard[1][1] + gameboard[2][2] == 3*NOUGHT)\r\n\t\t\t{return NOUGHT;}\r\n\t\tif (gameboard[0][2] + gameboard[1][1] + gameboard[2][0] == 3*NOUGHT)\r\n\t\t\t{return NOUGHT;}\r\n\t\t\r\n\t\tif (gameboard[0][0] + gameboard[0][1] + gameboard[0][2] == 3*CROSS)\r\n\t\t\t{return CROSS;}\r\n\t\tif (gameboard[1][0] + gameboard[1][1] + gameboard[1][2] == 3*CROSS)\r\n\t\t\t{return CROSS;}\r\n\t\tif (gameboard[2][0] + gameboard[2][1] + gameboard[2][2] == 3*CROSS)\r\n\t\t\t{return CROSS;}\r\n\t\t\r\n\t\tif (gameboard[0][0] + gameboard[1][0] + gameboard[2][0] == 3*CROSS)\r\n\t\t\t{return CROSS;}\r\n\t\tif (gameboard[0][1] + gameboard[1][1] + gameboard[2][1] == 3*CROSS)\r\n\t\t\t{return CROSS;}\r\n\t\tif (gameboard[0][2] + gameboard[1][2] + gameboard[2][2] == 3*CROSS)\r\n\t\t\t{return CROSS;}\r\n\t\tif (gameboard[0][0] + gameboard[1][1] + gameboard[2][2] == 3*CROSS)\r\n\t\t\t{return CROSS;}\r\n\t\tif (gameboard[0][2] + gameboard[1][1] + gameboard[2][0] == 3*CROSS)\r\n\t\t\t{return CROSS;}\r\n\t\t\r\n\t\tif (gameboard[2][2] + gameboard[1][2] + gameboard[1][1] + gameboard[0][1] + gameboard[2][0] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[0][0] + gameboard[1][0] + gameboard[1][1] + gameboard[2][1] +  gameboard[0][2] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[0][2] + gameboard[1][2] + gameboard[1][1] + gameboard[2][1] + gameboard[0][0] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[2][0] + gameboard[2][1] + gameboard[1][1] + gameboard[1][2] + gameboard[0][0] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[0][0] + gameboard[0][1] + gameboard[1][1] + gameboard[1][2] + gameboard[2][0] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[2][0] + gameboard[1][0] + gameboard[1][1] + gameboard[0][1] + gameboard[2][2] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[0][2] + gameboard[0][1] + gameboard[1][1] + gameboard[1][0] + gameboard[2][2] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[2][2] + gameboard[2][1] + gameboard[1][1] + gameboard[1][0] + gameboard[0][2] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif(gameboard[0][2] + gameboard[0][1] + gameboard[1][2] + gameboard[2][1] +  gameboard[1][0] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif(gameboard[0][0] + gameboard[1][0] + gameboard[0][1] + gameboard[2][1] +  gameboard[1][2] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif(gameboard[2][0] + gameboard[1][0] + gameboard[2][1] + gameboard[0][1] +  gameboard[1][2] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif(gameboard[2][2] + gameboard[1][2] + gameboard[2][1] + gameboard[0][1] +  gameboard[1][0] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[0][2] + gameboard[0][1] + gameboard[1][2] + gameboard[1][0] + gameboard[2][0] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[0][2] + gameboard[0][1] + gameboard[2][1] + gameboard[2][0] + gameboard[2][1] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[0][0] + gameboard[0][1] + gameboard[1][0] + gameboard[2][1] + gameboard[2][2] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[0][0] + gameboard[0][1] + gameboard[1][0] + gameboard[1][2] + gameboard[2][2] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[2][2] + gameboard[2][1] + gameboard[1][2] + gameboard[1][0] + gameboard[0][0] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[2][2] + gameboard[2][1] + gameboard[1][2] + gameboard[0][1] + gameboard[0][0] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[2][0] + gameboard[2][1] + gameboard[1][0] + gameboard[0][1] + gameboard[0][2] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[2][0] + gameboard[2][1] + gameboard[1][0] + gameboard[1][2] + gameboard[2][2] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[2][0] + gameboard[1][0] + gameboard[2][1] + gameboard[0][2] + gameboard[0][1] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[2][0] + gameboard[1][0] + gameboard[2][1] + gameboard[1][2] + gameboard[0][2] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[0][0] + gameboard[0][2] + gameboard[1][2] + gameboard[2][0] + gameboard[2][1] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[2][2] + gameboard[0][1] + gameboard[0][2] + gameboard[1][0] + gameboard[2][0] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[0][2] + gameboard[1][0] + gameboard[0][0] + gameboard[2][2] + gameboard[2][1] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[2][0] + gameboard[2][2] + gameboard[1][2] + gameboard[0][0] + gameboard[0][1] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[0][0] + gameboard[0][1] + gameboard[2][0] + gameboard[2][1] + gameboard[1][2] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[2][0] + gameboard[1][0] + gameboard[2][2] + gameboard[1][2] + gameboard[0][1] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[0][1] + gameboard[0][2] + gameboard[2][1] + gameboard[2][2] + gameboard[1][0] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[0][0] + gameboard[1][0] + gameboard[0][2] + gameboard[1][2] + gameboard[2][1] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\r\n\r\n\t\treturn -2;\r\n\t}","title":"Java - Determining a tie in tic tac toe?","body":"<p>I have finally found the solution! :O\nHere it is, for both win/tie. Do note though that this is just coming from an amateur coder. Hope it helps though. :)</p>\n<pre><code>static int winOrTie() {\n    //TODO Determine whether X or O won or there is a tie\n    if (gameboard[0][0] + gameboard[0][1] + gameboard[0][2] == 3*NOUGHT)\n        {return NOUGHT;}\n    if (gameboard[1][0] + gameboard[1][1] + gameboard[1][2] == 3*NOUGHT)\n        {return NOUGHT;}\n    if (gameboard[2][0] + gameboard[2][1] + gameboard[2][2] == 3*NOUGHT)\n        {return NOUGHT;}\n    \n    if (gameboard[0][0] + gameboard[1][0] + gameboard[2][0] == 3*NOUGHT)\n        {return NOUGHT;}\n    if (gameboard[0][1] + gameboard[1][1] + gameboard[2][1] == 3*NOUGHT)\n        {return NOUGHT;}\n    if (gameboard[0][2] + gameboard[1][2] + gameboard[2][2] == 3*NOUGHT)\n        {return NOUGHT;}\n    if (gameboard[0][0] + gameboard[1][1] + gameboard[2][2] == 3*NOUGHT)\n        {return NOUGHT;}\n    if (gameboard[0][2] + gameboard[1][1] + gameboard[2][0] == 3*NOUGHT)\n        {return NOUGHT;}\n    \n    if (gameboard[0][0] + gameboard[0][1] + gameboard[0][2] == 3*CROSS)\n        {return CROSS;}\n    if (gameboard[1][0] + gameboard[1][1] + gameboard[1][2] == 3*CROSS)\n        {return CROSS;}\n    if (gameboard[2][0] + gameboard[2][1] + gameboard[2][2] == 3*CROSS)\n        {return CROSS;}\n    \n    if (gameboard[0][0] + gameboard[1][0] + gameboard[2][0] == 3*CROSS)\n        {return CROSS;}\n    if (gameboard[0][1] + gameboard[1][1] + gameboard[2][1] == 3*CROSS)\n        {return CROSS;}\n    if (gameboard[0][2] + gameboard[1][2] + gameboard[2][2] == 3*CROSS)\n        {return CROSS;}\n    if (gameboard[0][0] + gameboard[1][1] + gameboard[2][2] == 3*CROSS)\n        {return CROSS;}\n    if (gameboard[0][2] + gameboard[1][1] + gameboard[2][0] == 3*CROSS)\n        {return CROSS;}\n    \n    if (gameboard[2][2] + gameboard[1][2] + gameboard[1][1] + gameboard[0][1] + gameboard[2][0] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[0][0] + gameboard[1][0] + gameboard[1][1] + gameboard[2][1] +  gameboard[0][2] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[0][2] + gameboard[1][2] + gameboard[1][1] + gameboard[2][1] + gameboard[0][0] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[2][0] + gameboard[2][1] + gameboard[1][1] + gameboard[1][2] + gameboard[0][0] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[0][0] + gameboard[0][1] + gameboard[1][1] + gameboard[1][2] + gameboard[2][0] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[2][0] + gameboard[1][0] + gameboard[1][1] + gameboard[0][1] + gameboard[2][2] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[0][2] + gameboard[0][1] + gameboard[1][1] + gameboard[1][0] + gameboard[2][2] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[2][2] + gameboard[2][1] + gameboard[1][1] + gameboard[1][0] + gameboard[0][2] == 5*NOUGHT)\n        {return 0;}\n    if(gameboard[0][2] + gameboard[0][1] + gameboard[1][2] + gameboard[2][1] +  gameboard[1][0] == 5*NOUGHT)\n        {return 0;}\n    if(gameboard[0][0] + gameboard[1][0] + gameboard[0][1] + gameboard[2][1] +  gameboard[1][2] == 5*NOUGHT)\n        {return 0;}\n    if(gameboard[2][0] + gameboard[1][0] + gameboard[2][1] + gameboard[0][1] +  gameboard[1][2] == 5*NOUGHT)\n        {return 0;}\n    if(gameboard[2][2] + gameboard[1][2] + gameboard[2][1] + gameboard[0][1] +  gameboard[1][0] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[0][2] + gameboard[0][1] + gameboard[1][2] + gameboard[1][0] + gameboard[2][0] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[0][2] + gameboard[0][1] + gameboard[2][1] + gameboard[2][0] + gameboard[2][1] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[0][0] + gameboard[0][1] + gameboard[1][0] + gameboard[2][1] + gameboard[2][2] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[0][0] + gameboard[0][1] + gameboard[1][0] + gameboard[1][2] + gameboard[2][2] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[2][2] + gameboard[2][1] + gameboard[1][2] + gameboard[1][0] + gameboard[0][0] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[2][2] + gameboard[2][1] + gameboard[1][2] + gameboard[0][1] + gameboard[0][0] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[2][0] + gameboard[2][1] + gameboard[1][0] + gameboard[0][1] + gameboard[0][2] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[2][0] + gameboard[2][1] + gameboard[1][0] + gameboard[1][2] + gameboard[2][2] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[2][0] + gameboard[1][0] + gameboard[2][1] + gameboard[0][2] + gameboard[0][1] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[2][0] + gameboard[1][0] + gameboard[2][1] + gameboard[1][2] + gameboard[0][2] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[0][0] + gameboard[0][2] + gameboard[1][2] + gameboard[2][0] + gameboard[2][1] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[2][2] + gameboard[0][1] + gameboard[0][2] + gameboard[1][0] + gameboard[2][0] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[0][2] + gameboard[1][0] + gameboard[0][0] + gameboard[2][2] + gameboard[2][1] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[2][0] + gameboard[2][2] + gameboard[1][2] + gameboard[0][0] + gameboard[0][1] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[0][0] + gameboard[0][1] + gameboard[2][0] + gameboard[2][1] + gameboard[1][2] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[2][0] + gameboard[1][0] + gameboard[2][2] + gameboard[1][2] + gameboard[0][1] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[0][1] + gameboard[0][2] + gameboard[2][1] + gameboard[2][2] + gameboard[1][0] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[0][0] + gameboard[1][0] + gameboard[0][2] + gameboard[1][2] + gameboard[2][1] == 5*NOUGHT)\n        {return 0;}\n\n\n    return -2;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28366703,"reputation":11,"user_id":21695899,"display_name":"Edouard Gotthardt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682052694,"creation_date":1682052694,"answer_id":76069992,"question_id":27812213,"body_markdown":"This is how I went about checking for a tie for the project that I just had to do. Keep in mind I&#39;m a first year CS student, yet all of my tests seemed to work rather well.\r\n\r\n     public boolean checkTie() {\r\n        int blanks = 0;\r\n        int xChance = 0,\r\n            xCount = 0;\r\n        int oChance = 0,    // How many points on the board O could win (Same above for X&#39;s) \r\n            oCount = 0;     // Number of O&#39;s in a row or column given the loop iteration (&quot;)\r\n        int blankCount = 0;\r\n\r\n        // Counts how many blank spaces are left on the game board\r\n        // This takes place of keeping track of who is playing since\r\n        // X is hardcoded to always go first and therefor will always\r\n        // have 5 moves while O will only ever have 4. We use this information\r\n        // to tell us who is playing based on the number of blank spaces left\r\n        // i.e. if only 1 blank left then it&#39;s X&#39;s turn &amp; 2 = O&#39;s turn.\r\n        for (int i = 0; i &lt; 3; i ++) {\r\n            for (char[] row : board) {\r\n                if (row[i] == &#39; &#39;) {\r\n                    blanks++;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (blanks &lt;= 3) {\r\n\r\n            // Check&#39;s downward slope diagonal if there is a blank, X, or O\r\n            // in each respective space. If so then the count is incremented\r\n            // by how many for each matching variable. If the count meets the \r\n            // right condition then the player is given a chance to win.\r\n            for (int i = 0; i &lt; 3; i++) {\r\n                if (board[i][i] == &#39;X&#39;) {\r\n                    xCount++;\r\n                }\r\n                if (board[i][i] == &#39;O&#39;) {\r\n                    oCount++;\r\n                }\r\n                if (board[i][i] == &#39; &#39;) {\r\n                    blankCount++;\r\n                }\r\n                if ((xCount == 2) &amp;&amp; (blankCount == 1) &amp;&amp; (blanks &gt;= 1)) {\r\n                    xChance++; // COULD WIN\r\n                }\r\n                if ((oCount == 2) &amp;&amp; (blankCount == 1) &amp;&amp; (blanks &gt;= 2)) {\r\n                    oChance++; // COULD WIN\r\n                }\r\n                // Resets the count so that the next row has a fresh count.\r\n                if (i &gt;= 2) {\r\n                    xCount = 0;\r\n                    oCount = 0;\r\n                    blankCount = 0;\r\n                }\r\n            }\r\n\r\n            // Checks the upward slope diagonal if there is a blank, X, or O\r\n            // in each respective space. I wasn&#39;t too sure how to loop through this \r\n            // So i just manually/hard coded the checks.\r\n            // As with all other row/col/upslope checks at the end I reset the count\r\n            // to get ready for the next loop check.\r\n            if (board[0][2] == &#39;X&#39;) {\r\n                xCount++;\r\n            }\r\n            if (board[0][2] == &#39;O&#39;) {\r\n                oCount++;\r\n            }\r\n            if (board[0][2] == &#39; &#39;) {\r\n                blankCount++;\r\n            }\r\n            if (board[1][1] == &#39;X&#39;) {\r\n                xCount++;\r\n            }\r\n            if (board[1][1] == &#39;O&#39;) {\r\n                oCount++;\r\n            }\r\n            if (board[1][1] == &#39; &#39;) {\r\n                blankCount++;\r\n            }\r\n            if (board[2][0] == &#39;X&#39;) {\r\n                xCount++;\r\n            }\r\n            if (board[2][0] == &#39;O&#39;) {\r\n                oCount++;\r\n            }\r\n            if (board[2][0] == &#39; &#39;) {\r\n                blankCount++;\r\n            }\r\n            if ((xCount == 2) &amp;&amp; (blankCount == 1) &amp;&amp; (blanks &gt;= 1)) {\r\n                xChance++; // COULD WIN\r\n            }\r\n            if ((oCount == 2) &amp;&amp; (blankCount == 1) &amp;&amp; (blanks &gt;= 2)) {\r\n                oChance++; // COULD WIN\r\n            }\r\n            xCount = 0;\r\n            oCount = 0;\r\n            blankCount = 0;\r\n\r\n\r\n            // Check the rows to see what is in each space\r\n            // If X increment that row&#39;s count of X&#39;s and same if O\r\n            // After each incrementing the values are compared to see\r\n            // if X or O has 2 spots held alongside a blank space,\r\n            // if so then the player is given a &quot;chance to win&quot; meaning that the game\r\n            // will go on if the number of blanks(turns left) allows\r\n            // for that player to go again.\r\n            // The loop ends by reseting the counts of X&#39;s and O&#39;s so \r\n            // that the next row count will be &#39;fresh&#39;\r\n            for (char[] row : board) {\r\n                for (int i = 0; i &lt; 3; i++) {\r\n                    if (row[i] == &#39;X&#39;) {\r\n                        xCount++;\r\n                    }\r\n                    if (row[i] == &#39;O&#39;) {\r\n                        oCount ++;\r\n                    }\r\n                    if (row[i] == &#39; &#39;) {\r\n                        blankCount++;\r\n                    }\r\n                    if ((xCount == 2) &amp;&amp; (blankCount == 1) &amp;&amp; (blanks &gt;= 1)) {\r\n                        xChance++; // COULD WIN\r\n                    }\r\n                    if ((oCount == 2) &amp;&amp; (blankCount == 1) &amp;&amp; (blanks &gt;= 2)) {\r\n                        oChance++; // COULD WIN\r\n                    }\r\n                    // Resets the count so that the next row has a fresh count.\r\n                    if (i &gt;= 2) {\r\n                        xCount = 0;\r\n                        oCount = 0;\r\n                        blankCount = 0;\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Does that same thing as the loop that checks for the \r\n            // rows yet does this for the columns where i is the fixed position\r\n            // for the column (only changing to the next column once check from \r\n            // top to bottom by the inner for loop) \r\n            for (int i = 0; i &lt; 3; i ++) {\r\n\r\n                for (int space = 0; space &lt; 3; space++) {\r\n                    if (board[space][i] == &#39;X&#39;) {\r\n                        xCount++;\r\n                    }\r\n                    if (board[space][i] == &#39;O&#39;) {\r\n                        oCount++;\r\n                    }\r\n                    if (board[space][i] == &#39; &#39;) {\r\n                        blankCount++;\r\n                    }\r\n                    if(xCount == 2 &amp;&amp; blankCount == 1) {\r\n                        xChance++;\r\n                    }\r\n                    if (oCount == 2 &amp;&amp; blankCount == 1) {\r\n                        oChance++;\r\n                    }\r\n                    // Resets the count so that the next column has a fresh count.\r\n                    if (space &gt;= 2) {\r\n                    xCount = 0;\r\n                    oCount = 0;\r\n                    blankCount = 0;\r\n                    }\r\n                }\r\n            }\r\n\r\n            // If it&#39;s the last turn and X has no chance to win then \r\n            // returns true which will equal a tie.\r\n            if (blanks &lt;= 1 &amp;&amp; xChance == 0) {\r\n                return true;\r\n            }\r\n\r\n            // If either player has a chance to win then the number of chances\r\n            // will reset to 0 for the next time the method is called\r\n            // and then false will be returned telling the game to continue.\r\n            if ((oChance &gt; 0 &amp;&amp; blanks &gt;= 2) || (xChance &gt; 0 &amp;&amp; blanks &gt;= 1)) {\r\n                xChance = 0;\r\n                oChance = 0;\r\n                return false;\r\n            }\r\n            else {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }","title":"Java - Determining a tie in tic tac toe?","body":"<p>This is how I went about checking for a tie for the project that I just had to do. Keep in mind I'm a first year CS student, yet all of my tests seemed to work rather well.</p>\n<pre><code> public boolean checkTie() {\n    int blanks = 0;\n    int xChance = 0,\n        xCount = 0;\n    int oChance = 0,    // How many points on the board O could win (Same above for X's) \n        oCount = 0;     // Number of O's in a row or column given the loop iteration (&quot;)\n    int blankCount = 0;\n\n    // Counts how many blank spaces are left on the game board\n    // This takes place of keeping track of who is playing since\n    // X is hardcoded to always go first and therefor will always\n    // have 5 moves while O will only ever have 4. We use this information\n    // to tell us who is playing based on the number of blank spaces left\n    // i.e. if only 1 blank left then it's X's turn &amp; 2 = O's turn.\n    for (int i = 0; i &lt; 3; i ++) {\n        for (char[] row : board) {\n            if (row[i] == ' ') {\n                blanks++;\n            }\n        }\n    }\n\n    if (blanks &lt;= 3) {\n\n        // Check's downward slope diagonal if there is a blank, X, or O\n        // in each respective space. If so then the count is incremented\n        // by how many for each matching variable. If the count meets the \n        // right condition then the player is given a chance to win.\n        for (int i = 0; i &lt; 3; i++) {\n            if (board[i][i] == 'X') {\n                xCount++;\n            }\n            if (board[i][i] == 'O') {\n                oCount++;\n            }\n            if (board[i][i] == ' ') {\n                blankCount++;\n            }\n            if ((xCount == 2) &amp;&amp; (blankCount == 1) &amp;&amp; (blanks &gt;= 1)) {\n                xChance++; // COULD WIN\n            }\n            if ((oCount == 2) &amp;&amp; (blankCount == 1) &amp;&amp; (blanks &gt;= 2)) {\n                oChance++; // COULD WIN\n            }\n            // Resets the count so that the next row has a fresh count.\n            if (i &gt;= 2) {\n                xCount = 0;\n                oCount = 0;\n                blankCount = 0;\n            }\n        }\n\n        // Checks the upward slope diagonal if there is a blank, X, or O\n        // in each respective space. I wasn't too sure how to loop through this \n        // So i just manually/hard coded the checks.\n        // As with all other row/col/upslope checks at the end I reset the count\n        // to get ready for the next loop check.\n        if (board[0][2] == 'X') {\n            xCount++;\n        }\n        if (board[0][2] == 'O') {\n            oCount++;\n        }\n        if (board[0][2] == ' ') {\n            blankCount++;\n        }\n        if (board[1][1] == 'X') {\n            xCount++;\n        }\n        if (board[1][1] == 'O') {\n            oCount++;\n        }\n        if (board[1][1] == ' ') {\n            blankCount++;\n        }\n        if (board[2][0] == 'X') {\n            xCount++;\n        }\n        if (board[2][0] == 'O') {\n            oCount++;\n        }\n        if (board[2][0] == ' ') {\n            blankCount++;\n        }\n        if ((xCount == 2) &amp;&amp; (blankCount == 1) &amp;&amp; (blanks &gt;= 1)) {\n            xChance++; // COULD WIN\n        }\n        if ((oCount == 2) &amp;&amp; (blankCount == 1) &amp;&amp; (blanks &gt;= 2)) {\n            oChance++; // COULD WIN\n        }\n        xCount = 0;\n        oCount = 0;\n        blankCount = 0;\n\n\n        // Check the rows to see what is in each space\n        // If X increment that row's count of X's and same if O\n        // After each incrementing the values are compared to see\n        // if X or O has 2 spots held alongside a blank space,\n        // if so then the player is given a &quot;chance to win&quot; meaning that the game\n        // will go on if the number of blanks(turns left) allows\n        // for that player to go again.\n        // The loop ends by reseting the counts of X's and O's so \n        // that the next row count will be 'fresh'\n        for (char[] row : board) {\n            for (int i = 0; i &lt; 3; i++) {\n                if (row[i] == 'X') {\n                    xCount++;\n                }\n                if (row[i] == 'O') {\n                    oCount ++;\n                }\n                if (row[i] == ' ') {\n                    blankCount++;\n                }\n                if ((xCount == 2) &amp;&amp; (blankCount == 1) &amp;&amp; (blanks &gt;= 1)) {\n                    xChance++; // COULD WIN\n                }\n                if ((oCount == 2) &amp;&amp; (blankCount == 1) &amp;&amp; (blanks &gt;= 2)) {\n                    oChance++; // COULD WIN\n                }\n                // Resets the count so that the next row has a fresh count.\n                if (i &gt;= 2) {\n                    xCount = 0;\n                    oCount = 0;\n                    blankCount = 0;\n                }\n            }\n        }\n\n        // Does that same thing as the loop that checks for the \n        // rows yet does this for the columns where i is the fixed position\n        // for the column (only changing to the next column once check from \n        // top to bottom by the inner for loop) \n        for (int i = 0; i &lt; 3; i ++) {\n\n            for (int space = 0; space &lt; 3; space++) {\n                if (board[space][i] == 'X') {\n                    xCount++;\n                }\n                if (board[space][i] == 'O') {\n                    oCount++;\n                }\n                if (board[space][i] == ' ') {\n                    blankCount++;\n                }\n                if(xCount == 2 &amp;&amp; blankCount == 1) {\n                    xChance++;\n                }\n                if (oCount == 2 &amp;&amp; blankCount == 1) {\n                    oChance++;\n                }\n                // Resets the count so that the next column has a fresh count.\n                if (space &gt;= 2) {\n                xCount = 0;\n                oCount = 0;\n                blankCount = 0;\n                }\n            }\n        }\n\n        // If it's the last turn and X has no chance to win then \n        // returns true which will equal a tie.\n        if (blanks &lt;= 1 &amp;&amp; xChance == 0) {\n            return true;\n        }\n\n        // If either player has a chance to win then the number of chances\n        // will reset to 0 for the next time the method is called\n        // and then false will be returned telling the game to continue.\n        if ((oChance &gt; 0 &amp;&amp; blanks &gt;= 2) || (xChance &gt; 0 &amp;&amp; blanks &gt;= 1)) {\n            xChance = 0;\n            oChance = 0;\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29525866,"reputation":1,"user_id":22627502,"display_name":"Jesus Garcia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695609481,"creation_date":1695609481,"answer_id":77169650,"question_id":27812213,"body_markdown":"Im kind of late to the party here but why not just make a variable that keeps track of the number of moves? Set it to 0 at the beginning and every time a move is made (whether an X or O is placed), increment it by 1. Then once it gets to 9 you can display your tie message. This is a lot simpler than checking every single slot. ","title":"Java - Determining a tie in tic tac toe?","body":"<p>Im kind of late to the party here but why not just make a variable that keeps track of the number of moves? Set it to 0 at the beginning and every time a move is made (whether an X or O is placed), increment it by 1. Then once it gets to 9 you can display your tie message. This is a lot simpler than checking every single slot.</p>\n"}],"owner":{"account_id":5504491,"reputation":88,"user_id":4372747,"accept_rate":38,"display_name":"Alex Montague"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7527,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":27812457,"answer_count":7,"score":1,"last_activity_date":1695609481,"creation_date":1420603253,"question_id":27812213,"body_markdown":"I have my code working great, just need to know how to determine a tie. It is difficult because I am working with chars to fill the spaces on my tic tac toe board, and am not sure of a way to check if every square has either an &#39;X&#39; or an &#39;O&#39; and if all the squares do, make it a tie. \r\n\r\nThis is my code so far:\r\n\r\nThanks!\r\n\r\n\r\n    /** Board[][] char filled array with either &#39;X&#39;, &#39;O&#39; or &#39;-&#39;. \r\n    returns true if the game is a tie, false if its not */\r\n   \r\n         public static void Tie (char [] [] Board)        //Tie Method\r\n         {\r\n                 for (int row = 0; row &lt; 3; row = row + 1) \r\n            {\r\n                for (int column = 0; column &lt; 3; column = column + 1) \r\n                {\r\n                    if (Board [row] [column] == &#39;X&#39; &amp;&amp; Board [row] [column] == &#39;O&#39;) \r\n                    {\r\n                        System.out.println (&quot;It is a tie. Cats game!&quot;) ;\r\n                        GameOver = true ;\r\n                    }\r\n                }  \r\n            }\r\n         }   \r\n","title":"Java - Determining a tie in tic tac toe?","body":"<p>I have my code working great, just need to know how to determine a tie. It is difficult because I am working with chars to fill the spaces on my tic tac toe board, and am not sure of a way to check if every square has either an 'X' or an 'O' and if all the squares do, make it a tie. </p>\n\n<p>This is my code so far:</p>\n\n<p>Thanks!</p>\n\n<pre><code>/** Board[][] char filled array with either 'X', 'O' or '-'. \nreturns true if the game is a tie, false if its not */\n\n     public static void Tie (char [] [] Board)        //Tie Method\n     {\n             for (int row = 0; row &lt; 3; row = row + 1) \n        {\n            for (int column = 0; column &lt; 3; column = column + 1) \n            {\n                if (Board [row] [column] == 'X' &amp;&amp; Board [row] [column] == 'O') \n                {\n                    System.out.println (\"It is a tie. Cats game!\") ;\n                    GameOver = true ;\n                }\n            }  \n        }\n     }   \n</code></pre>\n"},{"tags":["java","swing","jframe","jpanel","jbutton"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1695604417,"post_id":77169438,"comment_id":136042158,"body_markdown":"Start by not doing `frame.setLayout(null);` - see [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) for more details","body":"Start by not doing <code>frame.setLayout(null);</code> - see <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> for more details"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695606268,"creation_date":1695606268,"answer_id":77169528,"question_id":77169438,"body_markdown":"Start by taking the time to read through and explore [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html)\r\n\r\nBeware, the following is not the &quot;simplest&quot; solution, but is among the most flexible.  You could also make use of a combination of `BorderLayout` and `GridLayout` to achieve something simular.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.Action;\r\n    import static javax.swing.Action.NAME;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.border.CompoundBorder;\r\n    import javax.swing.border.EmptyBorder;\r\n    import javax.swing.border.LineBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) throws CloneNotSupportedException {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new CalculatorPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class CalculatorPane extends JPanel {\r\n            public enum CalculatorAction {\r\n                DIVIDE, MULTIPLY, SUBTRACT, ADD, EQUALS;\r\n\r\n                public String getText() {\r\n                    switch (this) {\r\n                        case DIVIDE: return &quot;/&quot;;\r\n                        case MULTIPLY: return &quot;x&quot;;\r\n                        case SUBTRACT: return &quot;-&quot;;\r\n                        case ADD: return &quot;+&quot;;\r\n                        case EQUALS: return &quot;=&quot;;\r\n                    }\r\n                    return null;\r\n                }\r\n            }\r\n\r\n            public CalculatorPane() {\r\n                setBackground(Color.GRAY);\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 2;\r\n                gbc.fill = GridBagConstraints.BOTH;\r\n                gbc.weightx = 1;\r\n                gbc.weighty = 1;\r\n\r\n                int[][] values = new int[][] {\r\n                    { 7, 8, 9 },\r\n                    { 4, 5, 6 },\r\n                    { 1, 2, 3 },\r\n                };\r\n                for (int row = 0; row &lt; values.length; row++) {\r\n                    gbc.gridx = 0;\r\n                    for (int col = 0; col &lt; values[row].length; col++) {\r\n                        add(makeNumericButton(values[row][col]), gbc);\r\n                        gbc.gridx++;\r\n                    }\r\n                    gbc.gridy++;\r\n                }\r\n                gbc.gridx = 0;\r\n                gbc.gridwidth = 3;\r\n                add(makeNumericButton(0), gbc);\r\n\r\n                gbc.gridx = 3;\r\n                gbc.gridy = 1;\r\n\r\n                add(makeActionButton(CalculatorAction.DIVIDE), gbc);\r\n\r\n                gbc.gridy++;\r\n                add(makeActionButton(CalculatorAction.MULTIPLY), gbc);\r\n\r\n                gbc.gridy++;\r\n                add(makeActionButton(CalculatorAction.SUBTRACT), gbc);\r\n\r\n                gbc.gridy++;\r\n                add(makeActionButton(CalculatorAction.ADD), gbc);\r\n\r\n                gbc.gridy++;\r\n                add(makeActionButton(CalculatorAction.EQUALS), gbc);\r\n\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n\r\n                JTextField field = new JTextField(5);\r\n                field.setBackground(Color.DARK_GRAY);\r\n                field.setForeground(Color.WHITE);\r\n                field.setBorder(null);\r\n                field.setHorizontalAlignment(JTextField.TRAILING);\r\n                field.setFont(field.getFont().deriveFont(48f));\r\n                add(field, gbc);\r\n            }\r\n\r\n            protected JButton makeButton(Action action) {\r\n                JButton button = new JButton(action);\r\n                button.setContentAreaFilled(false);\r\n                button.setOpaque(true);\r\n                button.setBorder(new CompoundBorder(new LineBorder(Color.BLACK), new EmptyBorder(16, 16, 16, 16)));\r\n                return button;\r\n            }\r\n\r\n            protected JButton makeNumericButton(int value) {\r\n                JButton button = makeButton(new NumericAction(value));\r\n                button.setBackground(Color.DARK_GRAY);\r\n                button.setForeground(Color.WHITE);\r\n                button.setBorder(new CompoundBorder(new LineBorder(Color.BLACK), new EmptyBorder(16, 16, 16, 16)));\r\n                return button;\r\n            }\r\n\r\n            protected JButton makeActionButton(CalculatorAction value) {\r\n                JButton button = makeButton(new OperationAction(value));\r\n                button.setBackground(Color.ORANGE);\r\n                button.setForeground(Color.WHITE);\r\n                button.setBorder(new CompoundBorder(new LineBorder(Color.BLACK), new EmptyBorder(16, 16, 16, 16)));\r\n                return button;\r\n            }\r\n\r\n            protected class NumericAction extends AbstractAction {\r\n                private int value;\r\n\r\n                public NumericAction(int value) {\r\n                    this.value = value;\r\n                    putValue(NAME, Integer.toString(value));\r\n                }\r\n\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                }\r\n            }\r\n\r\n            protected class OperationAction extends AbstractAction {\r\n                private CalculatorAction value;\r\n\r\n                public OperationAction(CalculatorAction value) {\r\n                    this.value = value;\r\n                    putValue(NAME, value.getText());\r\n                }\r\n\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I87fs.png","title":"How do I make it so that my Jbuttons / Jpanels resizes with the JFrame?","body":"<p>Start by taking the time to read through and explore <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a></p>\n<p>Beware, the following is not the &quot;simplest&quot; solution, but is among the most flexible.  You could also make use of a combination of <code>BorderLayout</code> and <code>GridLayout</code> to achieve something simular.</p>\n<p><a href=\"https://i.stack.imgur.com/I87fs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I87fs.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport javax.swing.AbstractAction;\nimport javax.swing.Action;\nimport static javax.swing.Action.NAME;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.border.CompoundBorder;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.border.LineBorder;\n\npublic class Main {\n    public static void main(String[] args) throws CloneNotSupportedException {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new CalculatorPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class CalculatorPane extends JPanel {\n        public enum CalculatorAction {\n            DIVIDE, MULTIPLY, SUBTRACT, ADD, EQUALS;\n\n            public String getText() {\n                switch (this) {\n                    case DIVIDE: return &quot;/&quot;;\n                    case MULTIPLY: return &quot;x&quot;;\n                    case SUBTRACT: return &quot;-&quot;;\n                    case ADD: return &quot;+&quot;;\n                    case EQUALS: return &quot;=&quot;;\n                }\n                return null;\n            }\n        }\n\n        public CalculatorPane() {\n            setBackground(Color.GRAY);\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 2;\n            gbc.fill = GridBagConstraints.BOTH;\n            gbc.weightx = 1;\n            gbc.weighty = 1;\n\n            int[][] values = new int[][] {\n                { 7, 8, 9 },\n                { 4, 5, 6 },\n                { 1, 2, 3 },\n            };\n            for (int row = 0; row &lt; values.length; row++) {\n                gbc.gridx = 0;\n                for (int col = 0; col &lt; values[row].length; col++) {\n                    add(makeNumericButton(values[row][col]), gbc);\n                    gbc.gridx++;\n                }\n                gbc.gridy++;\n            }\n            gbc.gridx = 0;\n            gbc.gridwidth = 3;\n            add(makeNumericButton(0), gbc);\n\n            gbc.gridx = 3;\n            gbc.gridy = 1;\n\n            add(makeActionButton(CalculatorAction.DIVIDE), gbc);\n\n            gbc.gridy++;\n            add(makeActionButton(CalculatorAction.MULTIPLY), gbc);\n\n            gbc.gridy++;\n            add(makeActionButton(CalculatorAction.SUBTRACT), gbc);\n\n            gbc.gridy++;\n            add(makeActionButton(CalculatorAction.ADD), gbc);\n\n            gbc.gridy++;\n            add(makeActionButton(CalculatorAction.EQUALS), gbc);\n\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n\n            JTextField field = new JTextField(5);\n            field.setBackground(Color.DARK_GRAY);\n            field.setForeground(Color.WHITE);\n            field.setBorder(null);\n            field.setHorizontalAlignment(JTextField.TRAILING);\n            field.setFont(field.getFont().deriveFont(48f));\n            add(field, gbc);\n        }\n\n        protected JButton makeButton(Action action) {\n            JButton button = new JButton(action);\n            button.setContentAreaFilled(false);\n            button.setOpaque(true);\n            button.setBorder(new CompoundBorder(new LineBorder(Color.BLACK), new EmptyBorder(16, 16, 16, 16)));\n            return button;\n        }\n\n        protected JButton makeNumericButton(int value) {\n            JButton button = makeButton(new NumericAction(value));\n            button.setBackground(Color.DARK_GRAY);\n            button.setForeground(Color.WHITE);\n            button.setBorder(new CompoundBorder(new LineBorder(Color.BLACK), new EmptyBorder(16, 16, 16, 16)));\n            return button;\n        }\n\n        protected JButton makeActionButton(CalculatorAction value) {\n            JButton button = makeButton(new OperationAction(value));\n            button.setBackground(Color.ORANGE);\n            button.setForeground(Color.WHITE);\n            button.setBorder(new CompoundBorder(new LineBorder(Color.BLACK), new EmptyBorder(16, 16, 16, 16)));\n            return button;\n        }\n\n        protected class NumericAction extends AbstractAction {\n            private int value;\n\n            public NumericAction(int value) {\n                this.value = value;\n                putValue(NAME, Integer.toString(value));\n            }\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n            }\n        }\n\n        protected class OperationAction extends AbstractAction {\n            private CalculatorAction value;\n\n            public OperationAction(CalculatorAction value) {\n                this.value = value;\n                putValue(NAME, value.getText());\n            }\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29525489,"reputation":23,"user_id":22627218,"display_name":"Sajal "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1695609141,"creation_date":1695603371,"question_id":77169438,"body_markdown":"I made this calculator program on Java and I wanted to add one more touch to it. What I want the program to do is to rezise the JButtons / JPanels with the JFrame. Meaning when a user stretches out the JPanel or full screens, I want the button to appropriately resize with the JFrame. \r\n\r\n\r\n    public class Calculator implements ActionListener {\r\n    \r\n    \tJFrame frame; \r\n    \tJTextField textfield; \r\n    \tJButton[] numberButtons = new JButton[10];\r\n    \tJButton[] functionButtons = new JButton[14];\r\n    \tJButton addButton,subButton,mulButton,divButton; \r\n    \tJButton decButton,equButton,delButton,clrButton,negButton;\r\n    \tJButton perButton,absButton,piButton,sqrButton,srootButton;\r\n    \tJPanel panel; \r\n    \t\r\n    \tFont myFont = new Font (&quot;Helvetica&quot;,Font.BOLD,30);  \r\n    \t\r\n    \tdouble num1,num2,result = 0; \r\n    \tchar operator;\r\n    \tint height = 620;\r\n    \tint width = 520;\r\n    \t\r\n    \tCalculator(){\r\n    \t\t  \r\n    \t\tframe = new JFrame(&quot;Calculator&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.setSize(width, height);\r\n            frame.setLayout(null);\r\n    \t\t\r\n    \t\ttextfield = new JTextField();\r\n    \t\ttextfield.setBounds(50, 25, 400, 60);\r\n    \t\ttextfield.setFont(myFont);\r\n    \t\ttextfield.setEditable(false);\r\n    \t\ttextfield.setBorder(null);\t\t\r\n    \t\t\r\n    \t\taddButton = new JButton(add); \r\n    \t\taddButton.setBackground(functionColor);\r\n    \t\t\r\n    \t\r\n    \t\tsubButton = new JButton(sub);\r\n    \t\tsubButton.setBackground(functionColor);\r\n    \t\t\r\n    \t\tmulButton = new JButton(mul);\r\n    \t\tmulButton.setBackground(functionColor);\r\n    \t\t\r\n    \t\tdivButton = new JButton(div);\r\n    \t\tdivButton.setBackground(functionColor);\r\n    \t\t\r\n    \t\tequButton = new JButton(equ); \r\n    \t\tequButton.setBackground(functionColor);\r\n    \t\t\r\n    \t\t\r\n    \t\tdecButton = new JButton(&quot;.&quot;); \r\n    \t\tdecButton.setBackground (numberColor);\r\n    \t\tdecButton.setForeground (Color.WHITE);\r\n    \t\t\r\n    \t\t\r\n    \t\tclrButton = new JButton(&quot;AC&quot;);\r\n    \t\tclrButton.setBackground (top);\r\n    \t\tclrButton.setForeground (Color.BLACK);\r\n    \t\t\r\n    \t\t\r\n    \t\tnegButton = new JButton(&quot;+/-&quot;);\r\n    \t\tnegButton.setBackground (top);\r\n    \t\tnegButton.setForeground (Color.BLACK);\r\n    \t\t\r\n    \t\t\r\n     \r\n    \t\tdelButton = new JButton (delete);\r\n    \t\tdelButton.setBackground (top);\r\n    \t\tdelButton.setForeground (Color.BLACK);\r\n    \t\t\r\n    \t\t\r\n    \t\tperButton = new JButton (&quot;%&quot;);\r\n    \t\tperButton.setBackground (top);\r\n    \t\tperButton.setForeground (Color.BLACK);\r\n    \t\t\r\n    \t\tabsButton = new JButton (&quot;|x|&quot;);\r\n    \t\tabsButton.setBackground (top);\r\n    \t\tabsButton.setForeground (Color.BLACK);\r\n    \t\t\r\n    \t\tpiButton = new JButton (&quot;&#120645;&quot;);\r\n    \t\tpiButton.setBackground (top);\r\n    \t\tpiButton.setForeground (Color.BLACK);\r\n    \t\t\r\n    \t\tsqrButton = new JButton (&quot;x&#178;&quot;);\r\n    \t\tsqrButton.setBackground (top);\r\n    \t\tsqrButton.setForeground (Color.BLACK);\r\n    \t\t\r\n    \t\tsrootButton = new JButton (&quot;x&quot;);\r\n    \t\tsrootButton.setBackground (top);\r\n    \t\tsrootButton.setForeground (Color.BLACK);\r\n    \t\t\r\n    \t\t\r\n    \t\tfunctionButtons[0] = addButton;\r\n    \t\tfunctionButtons[1] = subButton;\r\n    \t\tfunctionButtons[2] = mulButton;\r\n    \t\tfunctionButtons[3] = divButton;\r\n    \t\tfunctionButtons[4] = decButton;\r\n    \t\tfunctionButtons[5] = equButton;\r\n    \t\tfunctionButtons[6] = delButton;\r\n    \t\tfunctionButtons[7] = clrButton;\r\n    \t\tfunctionButtons[8] = negButton;\r\n    \t\tfunctionButtons[9] = perButton;\r\n    \t\tfunctionButtons[10]= piButton;\r\n    \t\tfunctionButtons[11]= absButton;\r\n    \t\tfunctionButtons[12]= sqrButton;\r\n    \t\tfunctionButtons[13]= srootButton;\r\n    \t\t\r\n    \t\t\r\n    \t\tfor(int i = 0; i &lt; 14; i++) {\r\n    \t\t\tfunctionButtons[i].addActionListener(this);\r\n    \t\t\tfunctionButtons[i].setFont(myFont);\r\n    \t\t\tfunctionButtons[i].setFocusable(false);\r\n    \t\t}\r\n    \t\t\r\n    \t\tfor (int i = 0; i &lt; 10; i++) {\r\n    \t\t\tnumberButtons[i] = new JButton(String.valueOf(i));\r\n    \t\t\tnumberButtons[i].addActionListener(this);\r\n    \t\t\tnumberButtons[i].setFont(myFont);\r\n    \t\t\tnumberButtons[i].setFocusable(false);\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tJPanel secPan = new JPanel();\r\n    \t\tsecPan.setBounds(50,160,400,50);\r\n    \t\tsecPan.setLayout(new GridLayout(1,4,10,10));\r\n    \t\tsecPan.add(piButton);\r\n    \t\tsecPan.add(perButton);\r\n    \t\tsecPan.add(sqrButton);\r\n    \t\tsecPan.add(srootButton);\r\n    \t\tframe.add(secPan);\r\n    \t\tframe.setVisible(true);\r\n    \t\t\r\n    \t\tJPanel topPan = new JPanel();\r\n    \t\ttopPan.setBounds(50,100,400,50);\r\n    \t\ttopPan.setLayout(new GridLayout(1,4,10,10));\r\n    \t\ttopPan.add(negButton);\r\n    \t\ttopPan.add(absButton);\r\n    \t\ttopPan.add(clrButton);\r\n    \t\ttopPan.add(delButton);\r\n    \t\tframe.add(topPan);\r\n    \t\tframe.setVisible(true);\r\n    \t\t\r\n    \t\t\r\n    \t\tpanel = new JPanel();\r\n    \t\tpanel.setBounds(50, 220, 400, 300);\r\n    \t\tpanel.setLayout(new GridLayout(4,4,10,10));\r\n    \t\tpanel.add(numberButtons[7]);\r\n    \t\tpanel.add(numberButtons[8]);\r\n    \t\tpanel.add(numberButtons[9]);\r\n    \t\tpanel.add(mulButton);\r\n    \t\tpanel.add(numberButtons[4]);\r\n    \t\tpanel.add(numberButtons[5]);\r\n    \t\tpanel.add(numberButtons[6]);\r\n    \t\tpanel.add(subButton);\r\n    \t\tpanel.add(numberButtons[1]);\r\n    \t\tpanel.add(numberButtons[2]);\r\n    \t\tpanel.add(numberButtons[3]);\r\n    \t\tpanel.add(addButton);\r\n    \t\tpanel.add(numberButtons[0]);\r\n    \t\tpanel.add(decButton);\r\n                    panel.add(equButton);\r\n    \t\tpanel.add(divButton);\r\n    \t\t\r\n    \t\tfor (int i = 0; i &lt; numberButtons.length; i++) {\r\n    \t\tnumberButtons[i].setBackground(numberColor);\r\n    \t\tnumberButtons[i].setForeground(Color.WHITE);\r\n    \t\t}\r\n    \t\tframe.add(panel);\r\n    \t\tframe.add(textfield);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \r\n    }","title":"How do I make it so that my Jbuttons / Jpanels resizes with the JFrame?","body":"<p>I made this calculator program on Java and I wanted to add one more touch to it. What I want the program to do is to rezise the JButtons / JPanels with the JFrame. Meaning when a user stretches out the JPanel or full screens, I want the button to appropriately resize with the JFrame.</p>\n<pre><code>public class Calculator implements ActionListener {\n\n    JFrame frame; \n    JTextField textfield; \n    JButton[] numberButtons = new JButton[10];\n    JButton[] functionButtons = new JButton[14];\n    JButton addButton,subButton,mulButton,divButton; \n    JButton decButton,equButton,delButton,clrButton,negButton;\n    JButton perButton,absButton,piButton,sqrButton,srootButton;\n    JPanel panel; \n    \n    Font myFont = new Font (&quot;Helvetica&quot;,Font.BOLD,30);  \n    \n    double num1,num2,result = 0; \n    char operator;\n    int height = 620;\n    int width = 520;\n    \n    Calculator(){\n          \n        frame = new JFrame(&quot;Calculator&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(width, height);\n        frame.setLayout(null);\n        \n        textfield = new JTextField();\n        textfield.setBounds(50, 25, 400, 60);\n        textfield.setFont(myFont);\n        textfield.setEditable(false);\n        textfield.setBorder(null);      \n        \n        addButton = new JButton(add); \n        addButton.setBackground(functionColor);\n        \n    \n        subButton = new JButton(sub);\n        subButton.setBackground(functionColor);\n        \n        mulButton = new JButton(mul);\n        mulButton.setBackground(functionColor);\n        \n        divButton = new JButton(div);\n        divButton.setBackground(functionColor);\n        \n        equButton = new JButton(equ); \n        equButton.setBackground(functionColor);\n        \n        \n        decButton = new JButton(&quot;.&quot;); \n        decButton.setBackground (numberColor);\n        decButton.setForeground (Color.WHITE);\n        \n        \n        clrButton = new JButton(&quot;AC&quot;);\n        clrButton.setBackground (top);\n        clrButton.setForeground (Color.BLACK);\n        \n        \n        negButton = new JButton(&quot;+/-&quot;);\n        negButton.setBackground (top);\n        negButton.setForeground (Color.BLACK);\n        \n        \n \n        delButton = new JButton (delete);\n        delButton.setBackground (top);\n        delButton.setForeground (Color.BLACK);\n        \n        \n        perButton = new JButton (&quot;%&quot;);\n        perButton.setBackground (top);\n        perButton.setForeground (Color.BLACK);\n        \n        absButton = new JButton (&quot;|x|&quot;);\n        absButton.setBackground (top);\n        absButton.setForeground (Color.BLACK);\n        \n        piButton = new JButton (&quot;&quot;);\n        piButton.setBackground (top);\n        piButton.setForeground (Color.BLACK);\n        \n        sqrButton = new JButton (&quot;x&quot;);\n        sqrButton.setBackground (top);\n        sqrButton.setForeground (Color.BLACK);\n        \n        srootButton = new JButton (&quot;x&quot;);\n        srootButton.setBackground (top);\n        srootButton.setForeground (Color.BLACK);\n        \n        \n        functionButtons[0] = addButton;\n        functionButtons[1] = subButton;\n        functionButtons[2] = mulButton;\n        functionButtons[3] = divButton;\n        functionButtons[4] = decButton;\n        functionButtons[5] = equButton;\n        functionButtons[6] = delButton;\n        functionButtons[7] = clrButton;\n        functionButtons[8] = negButton;\n        functionButtons[9] = perButton;\n        functionButtons[10]= piButton;\n        functionButtons[11]= absButton;\n        functionButtons[12]= sqrButton;\n        functionButtons[13]= srootButton;\n        \n        \n        for(int i = 0; i &lt; 14; i++) {\n            functionButtons[i].addActionListener(this);\n            functionButtons[i].setFont(myFont);\n            functionButtons[i].setFocusable(false);\n        }\n        \n        for (int i = 0; i &lt; 10; i++) {\n            numberButtons[i] = new JButton(String.valueOf(i));\n            numberButtons[i].addActionListener(this);\n            numberButtons[i].setFont(myFont);\n            numberButtons[i].setFocusable(false);   \n        }\n        \n        JPanel secPan = new JPanel();\n        secPan.setBounds(50,160,400,50);\n        secPan.setLayout(new GridLayout(1,4,10,10));\n        secPan.add(piButton);\n        secPan.add(perButton);\n        secPan.add(sqrButton);\n        secPan.add(srootButton);\n        frame.add(secPan);\n        frame.setVisible(true);\n        \n        JPanel topPan = new JPanel();\n        topPan.setBounds(50,100,400,50);\n        topPan.setLayout(new GridLayout(1,4,10,10));\n        topPan.add(negButton);\n        topPan.add(absButton);\n        topPan.add(clrButton);\n        topPan.add(delButton);\n        frame.add(topPan);\n        frame.setVisible(true);\n        \n        \n        panel = new JPanel();\n        panel.setBounds(50, 220, 400, 300);\n        panel.setLayout(new GridLayout(4,4,10,10));\n        panel.add(numberButtons[7]);\n        panel.add(numberButtons[8]);\n        panel.add(numberButtons[9]);\n        panel.add(mulButton);\n        panel.add(numberButtons[4]);\n        panel.add(numberButtons[5]);\n        panel.add(numberButtons[6]);\n        panel.add(subButton);\n        panel.add(numberButtons[1]);\n        panel.add(numberButtons[2]);\n        panel.add(numberButtons[3]);\n        panel.add(addButton);\n        panel.add(numberButtons[0]);\n        panel.add(decButton);\n                panel.add(equButton);\n        panel.add(divButton);\n        \n        for (int i = 0; i &lt; numberButtons.length; i++) {\n        numberButtons[i].setBackground(numberColor);\n        numberButtons[i].setForeground(Color.WHITE);\n        }\n        frame.add(panel);\n        frame.add(textfield);\n        frame.setVisible(true);\n    }\n    \n\n}\n</code></pre>\n"},{"tags":["java","multithreading","java.util.concurrent"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1684233191,"post_id":76189571,"comment_id":134484485,"body_markdown":"Thats not foreseen and its not clear what you hope to gain from that.","body":"Thats not foreseen and its not clear what you hope to gain from that."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":3,"creation_date":1694795368,"post_id":76189571,"comment_id":135942786,"body_markdown":"This would be desired, in conjunction with https://stackoverflow.com/q/21163108 , because we may want to have thousands and thousands of threads running at the same time. One of my particular processing use cases may have most of those threads blocked with I/O at any given time. Wouldn&#39;t native threads have a needless overhead? Wouldn&#39;t it be a benefit in this scenario to use the elegant model of `stream.parallel().` implemented using virtual threads? Or is there something that would prevent `stream.parallel().` from utilizing so many threads?","body":"This would be desired, in conjunction with <a href=\"https://stackoverflow.com/q/21163108\">stackoverflow.com/q/21163108</a> , because we may want to have thousands and thousands of threads running at the same time. One of my particular processing use cases may have most of those threads blocked with I/O at any given time. Wouldn&#39;t native threads have a needless overhead? Wouldn&#39;t it be a benefit in this scenario to use the elegant model of <code>stream.parallel().</code> implemented using virtual threads? Or is there something that would prevent <code>stream.parallel().</code> from utilizing so many threads?"}],"owner":{"account_id":5091045,"reputation":1252,"user_id":4084107,"accept_rate":30,"display_name":"Warren Nocos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1695608721,"creation_date":1683385242,"question_id":76189571,"body_markdown":"I&#39;m experimenting with Java virtual threads and wonder if it&#39;s possible to run parallel `Stream`s with virtual threads. By default, parallel streams are run on the common `ForkJoinPool`, but one could use a custom thread pool by calling a `Stream`&#39;s terminal operation on the worker thread of another `ForkJoinPool`. But as of JDK 20, `ForkJoinPool` can only manage threads of `ForkJoinWorkerThread` instances. \r\n\r\nIs there a `VirtualThread` equivalent for `ForkJoinWorkerThread`? Or is there an alternative way to run tasks in a work-stealing manner using virtual threads? ","title":"Parallel Stream with virtual threads: Java VirtualThread equivalent for ForkJoinWorkerThread","body":"<p>I'm experimenting with Java virtual threads and wonder if it's possible to run parallel <code>Stream</code>s with virtual threads. By default, parallel streams are run on the common <code>ForkJoinPool</code>, but one could use a custom thread pool by calling a <code>Stream</code>'s terminal operation on the worker thread of another <code>ForkJoinPool</code>. But as of JDK 20, <code>ForkJoinPool</code> can only manage threads of <code>ForkJoinWorkerThread</code> instances.</p>\n<p>Is there a <code>VirtualThread</code> equivalent for <code>ForkJoinWorkerThread</code>? Or is there an alternative way to run tasks in a work-stealing manner using virtual threads?</p>\n"},{"tags":["java","sockets","nio"],"answers":[{"tags":[],"owner":{"account_id":2527969,"reputation":216,"user_id":2196913,"accept_rate":50,"display_name":"NewGuyInJava"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1431541454,"creation_date":1431541454,"answer_id":30222535,"question_id":30222302,"body_markdown":"Don&#39;t have enough rep for comments so posting as answer. I am no expert but I believe you will have to use a PrintWriter on sockets output stream to pass the text back and forth. Here thisClient is a socket.\r\n\r\n    writer = new PrintWriter(thisClient.getOutputStream());\r\n    System.out.println(&quot;Transmitting&quot;);\r\n    writer.println(msg);\r\n    writer.flush();","title":"SocketChannel sockets not reading data","body":"<p>Don't have enough rep for comments so posting as answer. I am no expert but I believe you will have to use a PrintWriter on sockets output stream to pass the text back and forth. Here thisClient is a socket.</p>\n\n<pre><code>writer = new PrintWriter(thisClient.getOutputStream());\nSystem.out.println(\"Transmitting\");\nwriter.println(msg);\nwriter.flush();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":37327,"reputation":82714,"user_id":106671,"display_name":"Nikolai Fetissov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695608382,"creation_date":1431542118,"answer_id":30222730,"question_id":30222302,"body_markdown":"This is not how IO multiplexing is supposed to work.\r\n\r\nOnce a connection is accepted and marked non-blocking, add it to the same selector with `OP_READ`. Check for readable event in the loop, read from the socket. You don&#39;t need threads for this.\r\n\r\nAlternatively, if you want to go with threads, don&#39;t set accepted client connection as non-blocking, just do regular reads from it in the dedicated thread.\r\n\r\n&lt;h3&gt;Edit 0:&lt;/h3&gt;\r\nThe best advise I can offer is to go over some good Java NIO tutorial. There many on the Intenet, but you can start here:\r\n\r\n  - http://docs.oracle.com/javase/1.5.0/docs/guide/nio/example/index.html\r\n  - http://tutorials.jenkov.com/java-nio/index.html","title":"SocketChannel sockets not reading data","body":"<p>This is not how IO multiplexing is supposed to work.</p>\n<p>Once a connection is accepted and marked non-blocking, add it to the same selector with <code>OP_READ</code>. Check for readable event in the loop, read from the socket. You don't need threads for this.</p>\n<p>Alternatively, if you want to go with threads, don't set accepted client connection as non-blocking, just do regular reads from it in the dedicated thread.</p>\n<h3>Edit 0:</h3>\nThe best advise I can offer is to go over some good Java NIO tutorial. There many on the Intenet, but you can start here:\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/nio/example/index.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/1.5.0/docs/guide/nio/example/index.html</a></li>\n<li><a href=\"http://tutorials.jenkov.com/java-nio/index.html\" rel=\"nofollow noreferrer\">http://tutorials.jenkov.com/java-nio/index.html</a></li>\n</ul>\n"}],"owner":{"account_id":1040774,"reputation":407,"user_id":1046844,"accept_rate":53,"display_name":"Richard Chase"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1043,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":30222730,"answer_count":2,"score":1,"last_activity_date":1695608382,"creation_date":1431540581,"question_id":30222302,"body_markdown":"Here is my code. From the TestServer, I&#39;m trying to send data through an outputstream and have it received from the test client. I&#39;m using a SocketChannel because I need the client to listen on 3 ports at the same time. At the moment, i&#39;m only trying to read from one socket. However it doesnt seem to be receiving any data from the server. For the run method of KBThread, if I uncomment the nodata println, that will execute over and over.\r\n\r\nTestServer.java\r\n\r\n\r\n\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.event.KeyListener;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseListener;\r\n    import java.awt.event.MouseMotionListener;\r\n    import java.io.DataOutputStream;\r\n    import java.io.IOException;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    import java.util.ArrayList;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.swing.*;\r\n    \r\n    \r\n    public class TestServer extends JPanel implements KeyListener, MouseListener, MouseMotionListener {\r\n        \r\n        private final int MAX_CLIENTS = 8;\r\n        \r\n        JPanel listenerPanel = new JPanel();\r\n        JFrame listenerFrame = new JFrame();\r\n        \r\n        static DataOutputStream kbOut;\r\n        static DataOutputStream mOut;\r\n        static Socket dataSocket;\r\n        \r\n        public TestServer() {\r\n            this.setFocusable(true);\r\n            listenerPanel.addKeyListener(this);\r\n            listenerPanel.addMouseMotionListener(this);\r\n            \r\n            listenerFrame.add(listenerPanel);\r\n            listenerFrame.setSize(1376,808); // 10 more x, 40 more y.\r\n            listenerFrame.setVisible(true);\r\n            listenerFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            \r\n            listenerPanel.requestFocusInWindow();\r\n       \r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            \r\n            new TestServer().startServer();\r\n        }\r\n        \r\n        public void startServer() {\r\n            \r\n            final ExecutorService clientProcessingPool = Executors.newFixedThreadPool(MAX_CLIENTS);\r\n            \r\n            Runnable serverTask = () -&gt; {\r\n                try {\r\n                    ServerSocket serverSocket = new ServerSocket(1111);\r\n                    System.out.println(&quot;Waiting for clients.&quot;);\r\n                    while (true) {\r\n                        Socket clientSocket = serverSocket.accept();\r\n                        clientProcessingPool.submit(new ClientTask(clientSocket));\r\n                    }\r\n                } catch (IOException ex) {\r\n                    System.err.println(&quot;Error with client socket.&quot;);\r\n                }\r\n            };\r\n            \r\n            Thread serverThread = new Thread(serverTask);\r\n            serverThread.start();\r\n        }\r\n        \r\n        private class ClientTask implements Runnable {\r\n            private final Socket clientSocket;\r\n            \r\n            private ClientTask(Socket clientSocket) {\r\n                this.clientSocket = clientSocket;\r\n            }\r\n            \r\n            @Override\r\n            public void run() {\r\n                \r\n                try {\r\n                    String clientIP = clientSocket.getInetAddress().getHostAddress();\r\n                    System.out.println(&quot;Client connected from &quot; + clientIP);\r\n                    \r\n                    Socket kbSocket = new Socket(clientIP, 1112);\r\n                    System.out.println(&quot;Keyboard socket connected to &quot; + clientIP);\r\n                    kbOut = new DataOutputStream(kbSocket.getOutputStream());\r\n                    \r\n                    Socket mSocket = new Socket(clientIP, 1113);\r\n                    System.out.println(&quot;Mouse socket connected to &quot; + clientIP);\r\n                    mOut = new DataOutputStream(mSocket.getOutputStream());\r\n                    \r\n                    //new TestServer().startKBServer(clientIP);\r\n                    //new TestServer().startMServer(clientIP);\r\n                    \r\n                    try {\r\n                        clientSocket.close();\r\n                    } catch (IOException ex) {\r\n                    }\r\n                } catch (IOException ex) {\r\n                    Logger.getLogger(TestServer.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n            }\r\n        }\r\n        \r\n        public void startKBServer(String clientAddress) {\r\n            \r\n            Runnable kbTask = () -&gt; {\r\n                try {\r\n                    Socket kbSocket = new Socket(clientAddress, 1112);\r\n                    System.out.println(&quot;Keyboard socket connected to &quot; + clientAddress);\r\n                    new KBTask(kbSocket);\r\n                    \r\n                } catch (IOException ex) {\r\n                    System.out.println(&quot;Error Calling Back &quot; + clientAddress);\r\n                }\r\n            };\r\n            \r\n            Thread kbThread = new Thread(kbTask);\r\n            kbThread.start();\r\n        }\r\n        \r\n        private class KBTask implements Runnable {\r\n            private final Socket kbSocket;\r\n            \r\n            private KBTask(Socket kbSocket) {\r\n                this.kbSocket = kbSocket;\r\n            }\r\n            \r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    kbOut = new DataOutputStream(kbSocket.getOutputStream());\r\n                } catch (IOException ex) {\r\n                    Logger.getLogger(TestServer.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n            }\r\n        }\r\n        \r\n        @Override\r\n        public void keyPressed(KeyEvent ke) {\r\n            try {\r\n                int key = ke.getKeyCode();\r\n    \r\n                System.out.println(&quot;Key Pressed: &quot; + key);\r\n                \r\n                kbOut.writeInt(key);\r\n                kbOut.flush();\r\n                \r\n            } catch (IOException ex) {\r\n                System.out.println(&quot;Error writing key data to server&quot;);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void keyReleased(KeyEvent ke) {\r\n            try {\r\n                int key = ke.getKeyCode();\r\n                \r\n                System.out.println(&quot;Key Pressed: &quot; + -key);\r\n                \r\n                kbOut.writeInt(-key);\r\n                kbOut.flush();\r\n                \r\n            } catch (IOException ex) {\r\n                System.out.println(&quot;Error writing -key data to server&quot;);\r\n            }\r\n        }\r\n        \r\n            @Override\r\n        public void mouseMoved(MouseEvent me) {\r\n            try {\r\n                int mouseX = me.getX();\r\n                int mouseY = me.getY();\r\n                \r\n                if (mOut != null) {\r\n                    mOut.writeInt(mouseX);\r\n                    mOut.writeInt(mouseY);\r\n                    mOut.flush();\r\n                    System.out.println(&quot;Mouse Moved To: &quot; + mouseX + &quot;,&quot; + mouseY);\r\n                }\r\n                \r\n                \r\n            } catch (IOException | NullPointerException ex) {\r\n                System.out.println(&quot;Error writing mouse data to server&quot;);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void mouseClicked(MouseEvent me) {\r\n      \r\n        }\r\n    \r\n        @Override\r\n        public void mousePressed(MouseEvent me) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void mouseReleased(MouseEvent me) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void mouseEntered(MouseEvent me) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void mouseExited(MouseEvent me) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void mouseDragged(MouseEvent me) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void keyTyped(KeyEvent ke) {\r\n    \r\n        }\r\n    }\r\n\r\nTestClient.java\r\n\r\n    import java.awt.AWTException;\r\n    import java.awt.Robot;\r\n    import java.io.BufferedReader;\r\n    import java.io.DataInputStream;\r\n    import java.io.DataOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.net.ConnectException;\r\n    import java.net.InetSocketAddress;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.channels.SelectionKey;\r\n    import java.nio.channels.Selector;\r\n    import java.nio.channels.ServerSocketChannel;\r\n    import java.nio.channels.SocketChannel;\r\n    import java.util.Iterator;\r\n    import java.util.Set;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    \r\n    \r\n    public class TestClient {\r\n        \r\n        private final static String SERVER_IP = &quot;192.168.0.50&quot;;\r\n        \r\n        JPanel clientPanel = new JPanel();\r\n        JFrame clientFrame = new JFrame();\r\n        \r\n        public void setupGUI() {\r\n            \r\n            clientFrame.add(clientPanel);\r\n            clientFrame.setSize(200,200);\r\n            clientFrame.setVisible(true);\r\n            clientFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            \r\n            clientPanel.requestFocusInWindow();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            \r\n            try {\r\n                new TestClient().setupGUI();\r\n                \r\n                Robot keyRobot = new Robot();\r\n                \r\n                Socket firstSocket = new Socket(SERVER_IP, 1111);\r\n                System.out.println(&quot;Connected to Commander. Address sent. Waiting for callback.&quot;);\r\n                firstSocket.close();\r\n                \r\n                Selector selector = Selector.open();\r\n                \r\n                int ports[] = new int[] { 1112, 1113 };\r\n                \r\n                for (int port : ports) {\r\n                    ServerSocketChannel serverChannel = ServerSocketChannel.open();\r\n                    serverChannel.configureBlocking(false);\r\n                    serverChannel.socket().bind(new InetSocketAddress(port));\r\n                    serverChannel.register(selector, SelectionKey.OP_ACCEPT);\r\n                }\r\n                \r\n                while (true) {\r\n                    // After the 2 accept methods fire, it stops here and program doesnt continue.\r\n                    selector.select();\r\n                    Set setKeys = selector.selectedKeys();\r\n                    Iterator selectedKeys = setKeys.iterator();\r\n                    \r\n                    \r\n                    while (selectedKeys.hasNext()) {\r\n                        SelectionKey selectedKey = (SelectionKey) selectedKeys.next();\r\n                        if (selectedKey.isAcceptable()) {\r\n                            SocketChannel socketChannel = ((ServerSocketChannel) selectedKey.channel()).accept();\r\n                            socketChannel.configureBlocking(false);\r\n                            \r\n                            switch (socketChannel.socket().getLocalPort()) {\r\n                                case 1112:\r\n                                    System.out.println(&quot;Keyboard socket open.&quot;);\r\n                                    Runnable kbr = new KBThread(socketChannel.socket());\r\n                                    new Thread(kbr).start();\r\n                                    break;\r\n                                \r\n                                case 1113:\r\n                                    System.out.println(&quot;Mouse socket open.&quot;);\r\n                                    break;\r\n                            }\r\n                        }\r\n                        selectedKeys.remove();\r\n                    }\r\n                    \r\n                    \r\n                }\r\n                \r\n                } catch (ConnectException ece) {\r\n                System.out.println(&quot;Failed to connect to server: &quot; + SERVER_IP);\r\n            } catch (IOException | AWTException eio) {\r\n                Logger.getLogger(TestClient.class.getName()).log(Level.SEVERE, null, eio);\r\n            }\r\n        }\r\n        \r\n        private static class KBThread implements Runnable {\r\n            private final Socket kbSocket;\r\n            private int dataID = 0;\r\n            \r\n            private KBThread(Socket kbSocket) {\r\n                this.kbSocket = kbSocket;\r\n            }\r\n            \r\n            @Override\r\n            public void run() {\r\n    \r\n                try {\r\n                    DataInputStream kbDis = new DataInputStream(kbSocket.getInputStream());\r\n                    while (true) {\r\n                        try {\r\n                            \r\n                            \r\n                            if (kbDis.available() &gt; 0) {\r\n                                dataID = kbDis.readInt();\r\n                                System.out.println(dataID);\r\n                            }\r\n                            //else System.out.println(&quot;noData&quot;);\r\n                        } catch (IOException ex) {\r\n                            Logger.getLogger(TestClient.class.getName()).log(Level.SEVERE, null, ex);\r\n                        }\r\n                    }\r\n                } catch (IOException ex) {\r\n                    Logger.getLogger(TestClient.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n            }\r\n        }\r\n    }","title":"SocketChannel sockets not reading data","body":"<p>Here is my code. From the TestServer, I'm trying to send data through an outputstream and have it received from the test client. I'm using a SocketChannel because I need the client to listen on 3 ports at the same time. At the moment, i'm only trying to read from one socket. However it doesnt seem to be receiving any data from the server. For the run method of KBThread, if I uncomment the nodata println, that will execute over and over.</p>\n\n<p>TestServer.java</p>\n\n<pre><code>import java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseMotionListener;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.ArrayList;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.swing.*;\n\n\npublic class TestServer extends JPanel implements KeyListener, MouseListener, MouseMotionListener {\n\n    private final int MAX_CLIENTS = 8;\n\n    JPanel listenerPanel = new JPanel();\n    JFrame listenerFrame = new JFrame();\n\n    static DataOutputStream kbOut;\n    static DataOutputStream mOut;\n    static Socket dataSocket;\n\n    public TestServer() {\n        this.setFocusable(true);\n        listenerPanel.addKeyListener(this);\n        listenerPanel.addMouseMotionListener(this);\n\n        listenerFrame.add(listenerPanel);\n        listenerFrame.setSize(1376,808); // 10 more x, 40 more y.\n        listenerFrame.setVisible(true);\n        listenerFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        listenerPanel.requestFocusInWindow();\n\n    }\n\n    public static void main(String[] args) {\n\n        new TestServer().startServer();\n    }\n\n    public void startServer() {\n\n        final ExecutorService clientProcessingPool = Executors.newFixedThreadPool(MAX_CLIENTS);\n\n        Runnable serverTask = () -&gt; {\n            try {\n                ServerSocket serverSocket = new ServerSocket(1111);\n                System.out.println(\"Waiting for clients.\");\n                while (true) {\n                    Socket clientSocket = serverSocket.accept();\n                    clientProcessingPool.submit(new ClientTask(clientSocket));\n                }\n            } catch (IOException ex) {\n                System.err.println(\"Error with client socket.\");\n            }\n        };\n\n        Thread serverThread = new Thread(serverTask);\n        serverThread.start();\n    }\n\n    private class ClientTask implements Runnable {\n        private final Socket clientSocket;\n\n        private ClientTask(Socket clientSocket) {\n            this.clientSocket = clientSocket;\n        }\n\n        @Override\n        public void run() {\n\n            try {\n                String clientIP = clientSocket.getInetAddress().getHostAddress();\n                System.out.println(\"Client connected from \" + clientIP);\n\n                Socket kbSocket = new Socket(clientIP, 1112);\n                System.out.println(\"Keyboard socket connected to \" + clientIP);\n                kbOut = new DataOutputStream(kbSocket.getOutputStream());\n\n                Socket mSocket = new Socket(clientIP, 1113);\n                System.out.println(\"Mouse socket connected to \" + clientIP);\n                mOut = new DataOutputStream(mSocket.getOutputStream());\n\n                //new TestServer().startKBServer(clientIP);\n                //new TestServer().startMServer(clientIP);\n\n                try {\n                    clientSocket.close();\n                } catch (IOException ex) {\n                }\n            } catch (IOException ex) {\n                Logger.getLogger(TestServer.class.getName()).log(Level.SEVERE, null, ex);\n            }\n        }\n    }\n\n    public void startKBServer(String clientAddress) {\n\n        Runnable kbTask = () -&gt; {\n            try {\n                Socket kbSocket = new Socket(clientAddress, 1112);\n                System.out.println(\"Keyboard socket connected to \" + clientAddress);\n                new KBTask(kbSocket);\n\n            } catch (IOException ex) {\n                System.out.println(\"Error Calling Back \" + clientAddress);\n            }\n        };\n\n        Thread kbThread = new Thread(kbTask);\n        kbThread.start();\n    }\n\n    private class KBTask implements Runnable {\n        private final Socket kbSocket;\n\n        private KBTask(Socket kbSocket) {\n            this.kbSocket = kbSocket;\n        }\n\n        @Override\n        public void run() {\n            try {\n                kbOut = new DataOutputStream(kbSocket.getOutputStream());\n            } catch (IOException ex) {\n                Logger.getLogger(TestServer.class.getName()).log(Level.SEVERE, null, ex);\n            }\n        }\n    }\n\n    @Override\n    public void keyPressed(KeyEvent ke) {\n        try {\n            int key = ke.getKeyCode();\n\n            System.out.println(\"Key Pressed: \" + key);\n\n            kbOut.writeInt(key);\n            kbOut.flush();\n\n        } catch (IOException ex) {\n            System.out.println(\"Error writing key data to server\");\n        }\n    }\n\n    @Override\n    public void keyReleased(KeyEvent ke) {\n        try {\n            int key = ke.getKeyCode();\n\n            System.out.println(\"Key Pressed: \" + -key);\n\n            kbOut.writeInt(-key);\n            kbOut.flush();\n\n        } catch (IOException ex) {\n            System.out.println(\"Error writing -key data to server\");\n        }\n    }\n\n        @Override\n    public void mouseMoved(MouseEvent me) {\n        try {\n            int mouseX = me.getX();\n            int mouseY = me.getY();\n\n            if (mOut != null) {\n                mOut.writeInt(mouseX);\n                mOut.writeInt(mouseY);\n                mOut.flush();\n                System.out.println(\"Mouse Moved To: \" + mouseX + \",\" + mouseY);\n            }\n\n\n        } catch (IOException | NullPointerException ex) {\n            System.out.println(\"Error writing mouse data to server\");\n        }\n    }\n\n    @Override\n    public void mouseClicked(MouseEvent me) {\n\n    }\n\n    @Override\n    public void mousePressed(MouseEvent me) {\n\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent me) {\n\n    }\n\n    @Override\n    public void mouseEntered(MouseEvent me) {\n\n    }\n\n    @Override\n    public void mouseExited(MouseEvent me) {\n\n    }\n\n    @Override\n    public void mouseDragged(MouseEvent me) {\n\n    }\n\n    @Override\n    public void keyTyped(KeyEvent ke) {\n\n    }\n}\n</code></pre>\n\n<p>TestClient.java</p>\n\n<pre><code>import java.awt.AWTException;\nimport java.awt.Robot;\nimport java.io.BufferedReader;\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.ConnectException;\nimport java.net.InetSocketAddress;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.SelectionKey;\nimport java.nio.channels.Selector;\nimport java.nio.channels.ServerSocketChannel;\nimport java.nio.channels.SocketChannel;\nimport java.util.Iterator;\nimport java.util.Set;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\n\npublic class TestClient {\n\n    private final static String SERVER_IP = \"192.168.0.50\";\n\n    JPanel clientPanel = new JPanel();\n    JFrame clientFrame = new JFrame();\n\n    public void setupGUI() {\n\n        clientFrame.add(clientPanel);\n        clientFrame.setSize(200,200);\n        clientFrame.setVisible(true);\n        clientFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        clientPanel.requestFocusInWindow();\n    }\n\n    public static void main(String[] args) {\n\n        try {\n            new TestClient().setupGUI();\n\n            Robot keyRobot = new Robot();\n\n            Socket firstSocket = new Socket(SERVER_IP, 1111);\n            System.out.println(\"Connected to Commander. Address sent. Waiting for callback.\");\n            firstSocket.close();\n\n            Selector selector = Selector.open();\n\n            int ports[] = new int[] { 1112, 1113 };\n\n            for (int port : ports) {\n                ServerSocketChannel serverChannel = ServerSocketChannel.open();\n                serverChannel.configureBlocking(false);\n                serverChannel.socket().bind(new InetSocketAddress(port));\n                serverChannel.register(selector, SelectionKey.OP_ACCEPT);\n            }\n\n            while (true) {\n                // After the 2 accept methods fire, it stops here and program doesnt continue.\n                selector.select();\n                Set setKeys = selector.selectedKeys();\n                Iterator selectedKeys = setKeys.iterator();\n\n\n                while (selectedKeys.hasNext()) {\n                    SelectionKey selectedKey = (SelectionKey) selectedKeys.next();\n                    if (selectedKey.isAcceptable()) {\n                        SocketChannel socketChannel = ((ServerSocketChannel) selectedKey.channel()).accept();\n                        socketChannel.configureBlocking(false);\n\n                        switch (socketChannel.socket().getLocalPort()) {\n                            case 1112:\n                                System.out.println(\"Keyboard socket open.\");\n                                Runnable kbr = new KBThread(socketChannel.socket());\n                                new Thread(kbr).start();\n                                break;\n\n                            case 1113:\n                                System.out.println(\"Mouse socket open.\");\n                                break;\n                        }\n                    }\n                    selectedKeys.remove();\n                }\n\n\n            }\n\n            } catch (ConnectException ece) {\n            System.out.println(\"Failed to connect to server: \" + SERVER_IP);\n        } catch (IOException | AWTException eio) {\n            Logger.getLogger(TestClient.class.getName()).log(Level.SEVERE, null, eio);\n        }\n    }\n\n    private static class KBThread implements Runnable {\n        private final Socket kbSocket;\n        private int dataID = 0;\n\n        private KBThread(Socket kbSocket) {\n            this.kbSocket = kbSocket;\n        }\n\n        @Override\n        public void run() {\n\n            try {\n                DataInputStream kbDis = new DataInputStream(kbSocket.getInputStream());\n                while (true) {\n                    try {\n\n\n                        if (kbDis.available() &gt; 0) {\n                            dataID = kbDis.readInt();\n                            System.out.println(dataID);\n                        }\n                        //else System.out.println(\"noData\");\n                    } catch (IOException ex) {\n                        Logger.getLogger(TestClient.class.getName()).log(Level.SEVERE, null, ex);\n                    }\n                }\n            } catch (IOException ex) {\n                Logger.getLogger(TestClient.class.getName()).log(Level.SEVERE, null, ex);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","sockets","nio","socketchannel"],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695607780,"creation_date":1289352250,"answer_id":4140432,"question_id":4139300,"body_markdown":"If `bytesRead &lt; 0` you should close the channel, or at least deregister `OP_READ`. Otherwise you will keep getting `OP_READ` over and over again to tell you about the EOS.\r\n\r\nYou shouldn&#39;t allocate your `ByteBuffer` once per read. Allocating `ByteBuffer`s is an expensive operation. At least allocate it once per entry to the read method. Better still, allocate one per channel when you accept it. You can keep it as, or via, the key attachment so you don&#39;t lose it, and so it disappears when you cancel the key or close the channel.","title":"SocketChannel fires isReadable() but nothing to read","body":"<p>If <code>bytesRead &lt; 0</code> you should close the channel, or at least deregister <code>OP_READ</code>. Otherwise you will keep getting <code>OP_READ</code> over and over again to tell you about the EOS.</p>\n<p>You shouldn't allocate your <code>ByteBuffer</code> once per read. Allocating <code>ByteBuffer</code>s is an expensive operation. At least allocate it once per entry to the read method. Better still, allocate one per channel when you accept it. You can keep it as, or via, the key attachment so you don't lose it, and so it disappears when you cancel the key or close the channel.</p>\n"},{"tags":[],"owner":{"account_id":939902,"reputation":352,"user_id":968152,"display_name":"Eugene Chung"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1399862475,"creation_date":1399862475,"answer_id":23600277,"question_id":4139300,"body_markdown":"The SelectionKey which has been read all should be removed from the set returned by Selector.\r\n\r\nI think this article would help you understand.\r\n\r\nhttps://stackoverflow.com/questions/7132057/why-the-key-should-be-removed-in-selector-selectedkeys-iterator-in-java-ni","title":"SocketChannel fires isReadable() but nothing to read","body":"<p>The SelectionKey which has been read all should be removed from the set returned by Selector.</p>\n\n<p>I think this article would help you understand.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/7132057/why-the-key-should-be-removed-in-selector-selectedkeys-iterator-in-java-ni\">Why the key should be removed in `selector.selectedKeys().iterator()` in java nio?</a></p>\n"}],"owner":{"account_id":229628,"reputation":313,"user_id":492704,"accept_rate":100,"display_name":"Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2912,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":4140432,"answer_count":2,"score":4,"last_activity_date":1695607780,"creation_date":1289341444,"question_id":4139300,"body_markdown":"I have got a new problem with my Android app. The `SocketChannel` tells me that it `isReadable()` but there is nothing to read.\r\n\r\n    while(running)\r\n        {\r\n            int readyChannels = 0;\r\n            try {\r\n                readyChannels = selector.select();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            \r\n            if(readyChannels == 0) continue;\r\n            \r\n            Set&lt;SelectionKey&gt; selectedKeys = selector.selectedKeys();\r\n            Iterator&lt;SelectionKey&gt; keyIterator = selectedKeys.iterator();\r\n            \r\n            while(keyIterator.hasNext())\r\n            {\r\n                SelectionKey key1 = keyIterator.next();\r\n                \r\n                if(key1.isReadable())\r\n                {\r\n                    publishProgress(1);\r\n                }\r\n                \r\n                else if(key1.isWritable())\r\n                {\r\n                    publishProgress(2);\r\n                }\r\n                \r\n                else if(!key1.isValid())\r\n                {\r\n                    Log.e(&quot;State&quot;, &quot;progress error&quot;);\r\n                    publishProgress(3);\r\n                }\r\n            }\r\n        }\r\n\r\nI call the needed functions in `onProgressUpdate`. It is a `WebSocket` app so I need to send and receive a handshake. Sending and receiving the handshake works with this while loop. First the `SelectionKey.isWriteable()` and the handshake is sent then the `SelectionKey.isReadable()` and the handshake is read. But then `SelectionKey.isReadable()` is still true. Now the normal read function (not the `readHandshake`) function is called. But there is nothing to read. Here is the code of my read function:\r\n\r\n    public byte[] read(int nBytes)\r\n    {\r\n        Log.e(&quot;State&quot;, &quot;public byte[] read(int nBytes) start&quot;);\r\n        \r\n        byte[] resultData = new byte[1024];\r\n        ByteBuffer data = ByteBuffer.wrap(resultData);\r\n        int remainingBytes = nBytes;\r\n        \r\n        while(remainingBytes &gt;= 0)\r\n        {\r\n            ByteBuffer buffer = ByteBuffer.allocate(1024);\r\n            int bytesRead = 0;\r\n            try {\r\n                bytesRead = channel.read(buffer);\r\n            } catch (IOException e) {\r\n                Log.e(&quot;ERROR&quot;, &quot;channel read&quot;);\r\n            }\r\n            \r\n            if(bytesRead &lt; 0)\r\n            {\r\n                sockState = WebSocketState.WebSocketErrorOccurred;\r\n            }\r\n            \r\n            else\r\n            {\r\n                remainingBytes = remainingBytes - bytesRead;\r\n                data.put(buffer.array(), 0, bytesRead);\r\n            }\r\n        }\r\n        \r\n        Log.e(&quot;State&quot;, &quot;public byte[] read(int nBytes) done&quot;);\r\n        \r\n        return resultData;\r\n    }\r\n\r\nNow it gets stuck in an endless while loop. remainingBytes never gets &lt; 0 because there is nothing to read and bytesRead stays 0.\r\n\r\nMy question is why is isReadable true when there is nothing to read?","title":"SocketChannel fires isReadable() but nothing to read","body":"<p>I have got a new problem with my Android app. The <code>SocketChannel</code> tells me that it <code>isReadable()</code> but there is nothing to read.</p>\n\n<pre><code>while(running)\n    {\n        int readyChannels = 0;\n        try {\n            readyChannels = selector.select();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        if(readyChannels == 0) continue;\n\n        Set&lt;SelectionKey&gt; selectedKeys = selector.selectedKeys();\n        Iterator&lt;SelectionKey&gt; keyIterator = selectedKeys.iterator();\n\n        while(keyIterator.hasNext())\n        {\n            SelectionKey key1 = keyIterator.next();\n\n            if(key1.isReadable())\n            {\n                publishProgress(1);\n            }\n\n            else if(key1.isWritable())\n            {\n                publishProgress(2);\n            }\n\n            else if(!key1.isValid())\n            {\n                Log.e(\"State\", \"progress error\");\n                publishProgress(3);\n            }\n        }\n    }\n</code></pre>\n\n<p>I call the needed functions in <code>onProgressUpdate</code>. It is a <code>WebSocket</code> app so I need to send and receive a handshake. Sending and receiving the handshake works with this while loop. First the <code>SelectionKey.isWriteable()</code> and the handshake is sent then the <code>SelectionKey.isReadable()</code> and the handshake is read. But then <code>SelectionKey.isReadable()</code> is still true. Now the normal read function (not the <code>readHandshake</code>) function is called. But there is nothing to read. Here is the code of my read function:</p>\n\n<pre><code>public byte[] read(int nBytes)\n{\n    Log.e(\"State\", \"public byte[] read(int nBytes) start\");\n\n    byte[] resultData = new byte[1024];\n    ByteBuffer data = ByteBuffer.wrap(resultData);\n    int remainingBytes = nBytes;\n\n    while(remainingBytes &gt;= 0)\n    {\n        ByteBuffer buffer = ByteBuffer.allocate(1024);\n        int bytesRead = 0;\n        try {\n            bytesRead = channel.read(buffer);\n        } catch (IOException e) {\n            Log.e(\"ERROR\", \"channel read\");\n        }\n\n        if(bytesRead &lt; 0)\n        {\n            sockState = WebSocketState.WebSocketErrorOccurred;\n        }\n\n        else\n        {\n            remainingBytes = remainingBytes - bytesRead;\n            data.put(buffer.array(), 0, bytesRead);\n        }\n    }\n\n    Log.e(\"State\", \"public byte[] read(int nBytes) done\");\n\n    return resultData;\n}\n</code></pre>\n\n<p>Now it gets stuck in an endless while loop. remainingBytes never gets &lt; 0 because there is nothing to read and bytesRead stays 0.</p>\n\n<p>My question is why is isReadable true when there is nothing to read?</p>\n"},{"tags":["java","android","sockets","nio"],"comments":[{"owner":{"account_id":90221,"reputation":80129,"user_id":248432,"accept_rate":85,"display_name":"Peter Knego"},"score":0,"creation_date":1288736852,"post_id":4081594,"comment_id":4389981,"body_markdown":"Do you have this problem on both emulator and devices?","body":"Do you have this problem on both emulator and devices?"}],"answers":[{"tags":[],"owner":{"account_id":90221,"reputation":80129,"user_id":248432,"accept_rate":85,"display_name":"Peter Knego"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1288736989,"creation_date":1288736989,"answer_id":4082674,"question_id":4081594,"body_markdown":"Emulator sits behind a virtual router. You need to configure [Network Redirections][1] (port forwarding) to make a certain port on emulator visible to the outside network (including your computer).\r\n\r\n\r\n  [1]: http://developer.android.com/guide/developing/tools/emulator.html#redirections","title":"SocketChannel is not ready","body":"<p>Emulator sits behind a virtual router. You need to configure <a href=\"http://developer.android.com/guide/developing/tools/emulator.html#redirections\" rel=\"nofollow\">Network Redirections</a> (port forwarding) to make a certain port on emulator visible to the outside network (including your computer).</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695607664,"creation_date":1288740130,"answer_id":4082982,"question_id":4081594,"body_markdown":"There are several issues with this NIO code.\r\n\r\n1. Instead of connecting and then spinning around `finishConnect()`, possibly forever, you should connect before going into non-blocking mode. At the moment you&#39;re just burning the CPU, flattening the battery, etc.\r\n\r\n2. You should only register `OP_WRITE` when you have something to write. It is normally &#39;ready&#39;, so if you register the channel for it permanently your selection loop will just spin. The only time `OP_WRITE` isn&#39;t ready is when you have filled the socket send buffer.","title":"SocketChannel is not ready","body":"<p>There are several issues with this NIO code.</p>\n<ol>\n<li><p>Instead of connecting and then spinning around <code>finishConnect()</code>, possibly forever, you should connect before going into non-blocking mode. At the moment you're just burning the CPU, flattening the battery, etc.</p>\n</li>\n<li><p>You should only register <code>OP_WRITE</code> when you have something to write. It is normally 'ready', so if you register the channel for it permanently your selection loop will just spin. The only time <code>OP_WRITE</code> isn't ready is when you have filled the socket send buffer.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":229628,"reputation":313,"user_id":492704,"accept_rate":100,"display_name":"Martin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1619,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":4082674,"answer_count":2,"score":1,"last_activity_date":1695607664,"creation_date":1288727795,"question_id":4081594,"body_markdown":"again i have got a problem with socket programming in Android. My Problem is Selector.select() returns zero that there are no SocketChannels ready for writing. And again the same code works in normal Java but does not work in Android. Here is my code:\r\n\r\n    package com.test;\r\n    \r\n    import java.io.IOException;\r\n    import java.net.InetSocketAddress;\r\n    import java.net.SocketAddress;\r\n    import java.nio.channels.ClosedChannelException;\r\n    import java.nio.channels.Selector;\r\n    import java.nio.channels.SocketChannel;\r\n    \r\n    import android.app.Activity;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    \r\n    public class WebSocketTest extends Activity {\r\n        /** Called when the activity is first created. */\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.main);\r\n            \r\n      SocketChannel channel = null;\r\n            \r\n            SocketAddress socketAdress = new InetSocketAddress(&quot;10.0.0.1&quot;, 8787);\r\n      \r\n      try {\r\n       channel = SocketChannel.open();\r\n      } catch (IOException e) {\r\n       Log.e(&quot;ERROR&quot;, &quot;channel open&quot;);\r\n      }\r\n      \r\n      try {\r\n       channel.configureBlocking(false);\r\n      } catch (IOException e1) {\r\n       Log.e(&quot;ERROR&quot;, &quot;channel blocking&quot;);\r\n      }\r\n      \r\n      try {\r\n       channel.connect(socketAdress);\r\n      } catch (IOException e) {\r\n       Log.e(&quot;ERROR&quot;, &quot;channel connect&quot;);\r\n      }\r\n      \r\n      try {\r\n       while(!channel.finishConnect())\r\n       {\r\n        \r\n       }\r\n      } catch (IOException e1) {\r\n       Log.e(&quot;ERROR&quot;, &quot;channel finishConnect&quot;);\r\n      }\r\n      \r\n      \r\n      Selector selector = null;\r\n      try {\r\n       selector = Selector.open();\r\n      } catch (IOException e) {\r\n       Log.e(&quot;ERROR&quot;, &quot;selector open&quot;);\r\n      }\r\n      try {\r\n       channel.register(selector, channel.validOps());\r\n      } catch (ClosedChannelException e) {\r\n       Log.e(&quot;ERROR&quot;, &quot;channel register&quot;);\r\n      }\r\n      \r\n      boolean i = true;\r\n      \r\n      while(i)\r\n      {\r\n       int readyChannels = 0;\r\n       try {\r\n        readyChannels = selector.select();\r\n       } catch (IOException e) {\r\n        Log.e(&quot;ERROR&quot;, &quot;selector select&quot;);\r\n       }\r\n       \r\n       if(readyChannels &gt; 0)\r\n       {\r\n        i = false;\r\n       }\r\n      }\r\n        }\r\n    }\r\n\r\nIn Java readyChannels = 1. In Android it is 0.\r\nCan anyone help me?","title":"SocketChannel is not ready","body":"<p>again i have got a problem with socket programming in Android. My Problem is Selector.select() returns zero that there are no SocketChannels ready for writing. And again the same code works in normal Java but does not work in Android. Here is my code:</p>\n\n<pre><code>package com.test;\n\nimport java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.net.SocketAddress;\nimport java.nio.channels.ClosedChannelException;\nimport java.nio.channels.Selector;\nimport java.nio.channels.SocketChannel;\n\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.util.Log;\n\npublic class WebSocketTest extends Activity {\n    /** Called when the activity is first created. */\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n\n  SocketChannel channel = null;\n\n        SocketAddress socketAdress = new InetSocketAddress(\"10.0.0.1\", 8787);\n\n  try {\n   channel = SocketChannel.open();\n  } catch (IOException e) {\n   Log.e(\"ERROR\", \"channel open\");\n  }\n\n  try {\n   channel.configureBlocking(false);\n  } catch (IOException e1) {\n   Log.e(\"ERROR\", \"channel blocking\");\n  }\n\n  try {\n   channel.connect(socketAdress);\n  } catch (IOException e) {\n   Log.e(\"ERROR\", \"channel connect\");\n  }\n\n  try {\n   while(!channel.finishConnect())\n   {\n\n   }\n  } catch (IOException e1) {\n   Log.e(\"ERROR\", \"channel finishConnect\");\n  }\n\n\n  Selector selector = null;\n  try {\n   selector = Selector.open();\n  } catch (IOException e) {\n   Log.e(\"ERROR\", \"selector open\");\n  }\n  try {\n   channel.register(selector, channel.validOps());\n  } catch (ClosedChannelException e) {\n   Log.e(\"ERROR\", \"channel register\");\n  }\n\n  boolean i = true;\n\n  while(i)\n  {\n   int readyChannels = 0;\n   try {\n    readyChannels = selector.select();\n   } catch (IOException e) {\n    Log.e(\"ERROR\", \"selector select\");\n   }\n\n   if(readyChannels &gt; 0)\n   {\n    i = false;\n   }\n  }\n    }\n}\n</code></pre>\n\n<p>In Java readyChannels = 1. In Android it is 0.\nCan anyone help me?</p>\n"},{"tags":["java","sockets","nio"],"answers":[{"tags":[],"owner":{"account_id":39617,"reputation":6179,"user_id":114340,"display_name":"AngerClown"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695607350,"creation_date":1247933439,"answer_id":1147908,"question_id":1147873,"body_markdown":"Prior to Java NIO, you *had* to use one Thread per socket to get good performance. This is a problem for all socket based applications, not just Java. Support for non-blocking IO was added to all operating systems to overcome this. The Java NIO implementation is based on `Selectors`.\r\n\r\nSee [*Java NIO* by Ron Hitchens][1] and this [On Java][2] article to get started. Note however, that this is a complex topic and it still brings some multithreading issues into your code. Google &quot;non blocking NIO&quot; for more information.\r\n\r\n\r\n[1]: http://javanio.info/\r\n[2]: http://onjava.com/pub/a/onjava/2002/09/04/nio.html","title":"Java NIO Threading issue with SocketChannel.write()","body":"<p>Prior to Java NIO, you <em>had</em> to use one Thread per socket to get good performance. This is a problem for all socket based applications, not just Java. Support for non-blocking IO was added to all operating systems to overcome this. The Java NIO implementation is based on <code>Selectors</code>.</p>\n<p>See <a href=\"http://javanio.info/\" rel=\"nofollow noreferrer\"><em>Java NIO</em> by Ron Hitchens</a> and this <a href=\"http://onjava.com/pub/a/onjava/2002/09/04/nio.html\" rel=\"nofollow noreferrer\">On Java</a> article to get started. Note however, that this is a complex topic and it still brings some multithreading issues into your code. Google &quot;non blocking NIO&quot; for more information.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1247933784,"creation_date":1247933784,"answer_id":1147930,"question_id":1147873,"body_markdown":"You don&#39;t need the sleep() as the write will either return immediately or block.\r\nYou could have an executor which you pass the write to if it doesn&#39;t write the first time.\r\nAnother option is to have a small pool of thread to perform the writes.\r\n\r\nHowever, the best option for you may be to use a Selector (as has been suggested) so you know when a socket is ready to perform another write.","title":"Java NIO Threading issue with SocketChannel.write()","body":"<p>You don't need the sleep() as the write will either return immediately or block.\nYou could have an executor which you pass the write to if it doesn't write the first time.\nAnother option is to have a small pool of thread to perform the writes.</p>\n\n<p>However, the best option for you may be to use a Selector (as has been suggested) so you know when a socket is ready to perform another write.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1247937747,"creation_date":1247937747,"answer_id":1148061,"question_id":1147873,"body_markdown":"For hundreds of connections, you probably don&#39;t need to bother with NIO. Good old fashioned blocking sockets and threads will do you.\r\n\r\nWith NIO, you can register interest in `OP_WRITE` for the selection key, and you will get notified when there is room to write more data.","title":"Java NIO Threading issue with SocketChannel.write()","body":"<p>For hundreds of connections, you probably don't need to bother with NIO. Good old fashioned blocking sockets and threads will do you.</p>\n\n<p>With NIO, you can register interest in <code>OP_WRITE</code> for the selection key, and you will get notified when there is room to write more data.</p>\n"},{"tags":[],"owner":{"account_id":43373,"reputation":224943,"user_id":126769,"accept_rate":94,"display_name":"nos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1247939057,"creation_date":1247939057,"answer_id":1148113,"question_id":1147873,"body_markdown":"There are a few things you need to do, assuming you already have a loop using \r\nSelector.select(); to determine which sockets are ready for I/O.\r\n\r\n - Set the socket channel to non-blocking after you&#39;ve created it, sc.configureBlocking(false);\r\n - Write (possibly parts of) the buffer and check if there&#39;s anything left. The buffer itself takes care of current position and how much is left. \r\n\r\nSomething like \r\n\r\n    sc.write(bb);\r\n    if(sc.remaining() == 0)\r\n       //we&#39;re done with this buffer, remove it from the select set if there&#39;s nothing else to send.\r\n    else\r\n        //do other stuff/return to select loop\r\n\r\n\r\n - Get rid of your while loop that sleeps","title":"Java NIO Threading issue with SocketChannel.write()","body":"<p>There are a few things you need to do, assuming you already have a loop using \nSelector.select(); to determine which sockets are ready for I/O.</p>\n\n<ul>\n<li>Set the socket channel to non-blocking after you've created it, sc.configureBlocking(false);</li>\n<li>Write (possibly parts of) the buffer and check if there's anything left. The buffer itself takes care of current position and how much is left. </li>\n</ul>\n\n<p>Something like </p>\n\n<pre><code>sc.write(bb);\nif(sc.remaining() == 0)\n   //we're done with this buffer, remove it from the select set if there's nothing else to send.\nelse\n    //do other stuff/return to select loop\n</code></pre>\n\n<ul>\n<li>Get rid of your while loop that sleeps</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":46091,"reputation":3194,"user_id":136087,"accept_rate":50,"display_name":"EdH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695607414,"creation_date":1247939079,"answer_id":1148115,"question_id":1147873,"body_markdown":"I am facing some of the same issues right now:&lt;br&gt;\r\n- If you have a small amount of connections, but with large transfers, I would just create a threadpool, and let the writes block for the writer threads.&lt;br&gt;\r\n- If you have a lot of connections then you could use full Java NIO, and register OP_WRITE on your accept()ed sockets, and then wait for the selector to come in.\r\n\r\nThe [Ron Hitchens *Java NIO*](http://javanio.info/) book has all this.&lt;br&gt;\r\nAlso:\r\n[http://www.exampledepot.com/egs/java.nio/NbServer.html?l=rel][1]\r\n\r\nSome research online has led me to believe NIO is pretty overkill unless you have a lot of incoming connections. Otherwise, if its just a few large transfers - then just use a write thread. It will probably have quicker response. A number of people have issues with NIO not repsonding as quick as they want. Since your write thread is on its own blocking it wont hurt you.\r\n\r\n\r\n  [1]: http://www.exampledepot.com/egs/java.nio/NbServer.html?l=rel","title":"Java NIO Threading issue with SocketChannel.write()","body":"<p>I am facing some of the same issues right now:<br></p>\n<ul>\n<li>If you have a small amount of connections, but with large transfers, I would just create a threadpool, and let the writes block for the writer threads.<br></li>\n<li>If you have a lot of connections then you could use full Java NIO, and register OP_WRITE on your accept()ed sockets, and then wait for the selector to come in.</li>\n</ul>\n<p>The <a href=\"http://javanio.info/\" rel=\"nofollow noreferrer\">Ron Hitchens <em>Java NIO</em></a> book has all this.<br>\nAlso:\n<a href=\"http://www.exampledepot.com/egs/java.nio/NbServer.html?l=rel\" rel=\"nofollow noreferrer\">http://www.exampledepot.com/egs/java.nio/NbServer.html?l=rel</a></p>\n<p>Some research online has led me to believe NIO is pretty overkill unless you have a lot of incoming connections. Otherwise, if its just a few large transfers - then just use a write thread. It will probably have quicker response. A number of people have issues with NIO not repsonding as quick as they want. Since your write thread is on its own blocking it wont hurt you.</p>\n"},{"tags":[],"owner":{"account_id":105065,"reputation":927,"user_id":280568,"accept_rate":75,"display_name":"geme_hendrix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1267044000,"creation_date":1267044000,"answer_id":2329325,"question_id":1147873,"body_markdown":"The more I read about Java NIO, the more it gives me the willies. Anyway, I think this article answers your problem...\r\n\r\nhttp://weblogs.java.net/blog/2006/05/30/tricks-and-tips-nio-part-i-why-you-must-handle-opwrite\r\n\r\nIt sounds like this guy has a more elegant solution than the sleep loop. \r\n\r\nAlso I&#39;m fast coming to the conclusion that using Java NIO by itself is too dangerous. Where I can, I think I&#39;ll probably use Apache MINA which provides a nice abstraction above Java NIO and its little &#39;surprises&#39;.","title":"Java NIO Threading issue with SocketChannel.write()","body":"<p>The more I read about Java NIO, the more it gives me the willies. Anyway, I think this article answers your problem...</p>\n\n<p><a href=\"http://weblogs.java.net/blog/2006/05/30/tricks-and-tips-nio-part-i-why-you-must-handle-opwrite\" rel=\"nofollow noreferrer\">http://weblogs.java.net/blog/2006/05/30/tricks-and-tips-nio-part-i-why-you-must-handle-opwrite</a></p>\n\n<p>It sounds like this guy has a more elegant solution than the sleep loop. </p>\n\n<p>Also I'm fast coming to the conclusion that using Java NIO by itself is too dangerous. Where I can, I think I'll probably use Apache MINA which provides a nice abstraction above Java NIO and its little 'surprises'.</p>\n"}],"owner":{"account_id":23825,"reputation":19875,"user_id":60006,"accept_rate":65,"display_name":"DivideByHero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10624,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":6,"score":3,"last_activity_date":1695607414,"creation_date":1247932553,"question_id":1147873,"body_markdown":"Sometimes, while sending a large amount of data via SocketChannel.write(), the underlying TCP buffer gets filled up, and I have to continually re-try the write() until the data is all sent.\r\n\r\nSo, I might have something like this:\r\n\r\n    public void send(ByteBuffer bb, SocketChannel sc){\r\n       sc.write(bb);\r\n       while (bb.remaining()&gt;0){\r\n          Thread.sleep(10);\r\n          sc.write(bb);          \r\n       }\r\n    }\r\n\r\nThe problem is that the occasional issue with a large ByteBuffer and an overflowing underlying TCP buffer means that this call to send() will block for an unexpected amount of time.  In my project, there are hundreds of clients connected simultaneously, and one delay caused by one socket connection can bring the whole system to a crawl until this one delay with one SocketChannel is resolved.  When a delay occurs, it can cause a chain reaction of slowing down in other areas of the project, and having low latency is important.\r\n\r\nI need a solution that will take care of this TCP buffer overflow issue transparently and without causing everything to block when multiple calls to SocketChannel.write() are needed.  I have considered putting send() into a separate class extending Thread so it runs as its own thread and does not block the calling code.  However, I am concerned about the overhead necessary in creating a thread for EACH socket connection I am maintaining, especially when 99% of the time, SocketChannel.write() succeeds on the first try, meaning there&#39;s no need for the thread to be there.  (In other words, putting send() in a separate thread is really only needed if the while() loop is used -- only in cases where there is a buffer issue, perhaps 1% of the time)  If there is a buffer issue only 1% of the time, I don&#39;t need the overhead of a thread for the other 99% of calls to send().\r\n\r\nI hope that makes sense... I could really use some suggestions.  Thanks!\r\n\r\n","title":"Java NIO Threading issue with SocketChannel.write()","body":"<p>Sometimes, while sending a large amount of data via SocketChannel.write(), the underlying TCP buffer gets filled up, and I have to continually re-try the write() until the data is all sent.</p>\n\n<p>So, I might have something like this:</p>\n\n<pre><code>public void send(ByteBuffer bb, SocketChannel sc){\n   sc.write(bb);\n   while (bb.remaining()&gt;0){\n      Thread.sleep(10);\n      sc.write(bb);          \n   }\n}\n</code></pre>\n\n<p>The problem is that the occasional issue with a large ByteBuffer and an overflowing underlying TCP buffer means that this call to send() will block for an unexpected amount of time.  In my project, there are hundreds of clients connected simultaneously, and one delay caused by one socket connection can bring the whole system to a crawl until this one delay with one SocketChannel is resolved.  When a delay occurs, it can cause a chain reaction of slowing down in other areas of the project, and having low latency is important.</p>\n\n<p>I need a solution that will take care of this TCP buffer overflow issue transparently and without causing everything to block when multiple calls to SocketChannel.write() are needed.  I have considered putting send() into a separate class extending Thread so it runs as its own thread and does not block the calling code.  However, I am concerned about the overhead necessary in creating a thread for EACH socket connection I am maintaining, especially when 99% of the time, SocketChannel.write() succeeds on the first try, meaning there's no need for the thread to be there.  (In other words, putting send() in a separate thread is really only needed if the while() loop is used -- only in cases where there is a buffer issue, perhaps 1% of the time)  If there is a buffer issue only 1% of the time, I don't need the overhead of a thread for the other 99% of calls to send().</p>\n\n<p>I hope that makes sense... I could really use some suggestions.  Thanks!</p>\n"},{"tags":["java","spring-boot","rest","pact"],"answers":[{"tags":[],"owner":{"account_id":991358,"reputation":3832,"user_id":1008568,"display_name":"Matthew Fellows"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695607316,"creation_date":1695607316,"answer_id":77169569,"question_id":77161717,"body_markdown":"JSON does not have a type for byte arrays, so there is no way we can know how it is encoded. My guess is that it would be encoded as something like `base64` into a `string` type. We don&#39;t have matchers for such types, but you could consider raising a feature request. \r\n\r\nIf you must check the type, my suggestion would be to use a provider state and ensure a small `byte[]` is sent as it will need to be a byte by byte comparison.","title":"How to verify field of type byte array (byte[]) through pact jvm?","body":"<p>JSON does not have a type for byte arrays, so there is no way we can know how it is encoded. My guess is that it would be encoded as something like <code>base64</code> into a <code>string</code> type. We don't have matchers for such types, but you could consider raising a feature request.</p>\n<p>If you must check the type, my suggestion would be to use a provider state and ensure a small <code>byte[]</code> is sent as it will need to be a byte by byte comparison.</p>\n"}],"owner":{"account_id":13823033,"reputation":23,"user_id":9978033,"display_name":"bugdebug"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695607316,"creation_date":1695445253,"question_id":77161717,"body_markdown":"I am currently writing contract tests for rest services using Pact jvm. One of the field in the response body in both consumer and provider is of type byte[] (byte array). I don&#39;t see any matcher for such field. How can we verify such fields?\r\n\r\n\r\n    class MediaResponse{\r\n    private long mediaId;\r\n    private String mediaName;\r\n    private byte[] media;\r\n    private String mediaLink;\r\n    private boolean isStreamable;\r\n    } \r\n\r\n","title":"How to verify field of type byte array (byte[]) through pact jvm?","body":"<p>I am currently writing contract tests for rest services using Pact jvm. One of the field in the response body in both consumer and provider is of type byte[] (byte array). I don't see any matcher for such field. How can we verify such fields?</p>\n<pre><code>class MediaResponse{\nprivate long mediaId;\nprivate String mediaName;\nprivate byte[] media;\nprivate String mediaLink;\nprivate boolean isStreamable;\n} \n</code></pre>\n"},{"tags":["java","arrays","integer","frequency"],"comments":[{"owner":{"account_id":2247970,"reputation":7110,"user_id":1980909,"accept_rate":100,"display_name":"Adrian Leonhard"},"score":0,"creation_date":1425265369,"post_id":28802038,"comment_id":45877844,"body_markdown":"As it is, you&#39;re only counting 1s...","body":"As it is, you&#39;re only counting 1s..."},{"owner":{"account_id":2247970,"reputation":7110,"user_id":1980909,"accept_rate":100,"display_name":"Adrian Leonhard"},"score":1,"creation_date":1425267393,"post_id":28802038,"comment_id":45878277,"body_markdown":"The problem is your output. You should do that in a separate loop.","body":"The problem is your output. You should do that in a separate loop."},{"owner":{"account_id":5868891,"reputation":11,"user_id":4621816,"display_name":"Bryce Turner"},"score":0,"creation_date":1425267724,"post_id":28802038,"comment_id":45878371,"body_markdown":"I created another loop for the output and get a similar result. I think the freq values aren&#39;t being incremented correctly, or aren&#39;t changing at all.","body":"I created another loop for the output and get a similar result. I think the freq values aren&#39;t being incremented correctly, or aren&#39;t changing at all."}],"answers":[{"tags":[],"owner":{"account_id":5154164,"reputation":893,"user_id":4127827,"display_name":"Andrew Alderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425266124,"creation_date":1425266124,"answer_id":28802166,"question_id":28802038,"body_markdown":"As Adrian pointed out you&#39;re currently only counting ones. I would be a bit tricky and instead of doing a check on each one, simply using the random integer to select the correct element for increment\r\n\r\n    for (int i=0; i&lt;randoms.length; i++){\r\n        freq[randoms[i]-1] += 1; \r\n     } ","title":"Java: Creating a frequency table for integers randomly generated and placed in an array","body":"<p>As Adrian pointed out you're currently only counting ones. I would be a bit tricky and instead of doing a check on each one, simply using the random integer to select the correct element for increment</p>\n\n<pre><code>for (int i=0; i&lt;randoms.length; i++){\n    freq[randoms[i]-1] += 1; \n } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5868891,"reputation":11,"user_id":4621816,"display_name":"Bryce Turner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425268562,"creation_date":1425268562,"answer_id":28802483,"question_id":28802038,"body_markdown":"Thanks for the help! After looking at the code long enough I realized that in my output i was using\r\n\r\n    for (int i=0; i&lt;randoms.length; i++){\r\n          System.out.println(randoms[i] + &quot; appeared &quot; + freq[i] + &quot; times&quot;);\r\nWhen I should have used \r\n\r\n    for (int i=0; i&lt;randoms.length; i++){\r\n          System.out.println(randoms[i] + &quot; appeared &quot; + freq[randoms[i]] + &quot; times&quot;);","title":"Java: Creating a frequency table for integers randomly generated and placed in an array","body":"<p>Thanks for the help! After looking at the code long enough I realized that in my output i was using</p>\n\n<pre><code>for (int i=0; i&lt;randoms.length; i++){\n      System.out.println(randoms[i] + \" appeared \" + freq[i] + \" times\");\n</code></pre>\n\n<p>When I should have used </p>\n\n<pre><code>for (int i=0; i&lt;randoms.length; i++){\n      System.out.println(randoms[i] + \" appeared \" + freq[randoms[i]] + \" times\");\n</code></pre>\n"}],"owner":{"account_id":5868891,"reputation":11,"user_id":4621816,"display_name":"Bryce Turner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8208,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1695607310,"creation_date":1425265136,"question_id":28802038,"body_markdown":"Thanks everybody! I cleaned up the code to the best of my knowledge and decided to paste the completed code along with a sample output for other students to see and if they choose to use parts of the code.\r\n\r\n    public class Arrays {\r\n      public static void main(String args[]) {\r\n        //Assigning the array length according to the user&#39;s input\r\n        int N = Integer.parseInt(args[0]);\r\n        int randoms[] = new int[N];\r\n        //Filling the array with random integer values\r\n        System.out.println(&quot;The numbers generated are: &quot;);\r\n        for (int i=0; i&lt;randoms.length; i++) {\r\n          randoms[i] = (int) (Math.random()*10 + 1);\r\n          System.out.print(randoms[i] + &quot; &quot;);\r\n        }\r\n        double sum = 0.0;\r\n        for (int i=0; i&lt;randoms.length; i++) {\r\n          sum += randoms[i];\r\n        }\r\n        System.out.println(&quot;\\nThe average of the values is &quot; + (sum/N));\r\n        int freq[] = new int[11];\r\n        for (int i=0; i&lt;randoms.length; i++){\r\n          freq[randoms[i]] += 1; \r\n        } \r\n        System.out.println(&quot;Number\\tFreq&quot;);\r\n        for (int i=1; i&lt;freq.length; i++){\r\n          System.out.println(i + &quot;\\t&quot; + freq[i]);\r\n        }\r\n      }\r\n    }\r\n\r\n \r\n\r\nSample Output:\r\n\r\n    &gt; java Arrays 15\r\n    The numbers generated are: \r\n    4 8 1 10 6 7 8 4 6 6 3 4 4 5 8 \r\n    The average of the values is 5.6\r\n    Number\tFreq\r\n    1\t    1\r\n    2\t    0\r\n    3\t    1\r\n    4\t    4\r\n    5\t    1\r\n    6\t    3\r\n    7\t    1\r\n    8\t    3\r\n    9\t    0\r\n    10\t    1\r\n\r\n","title":"Java: Creating a frequency table for integers randomly generated and placed in an array","body":"<p>Thanks everybody! I cleaned up the code to the best of my knowledge and decided to paste the completed code along with a sample output for other students to see and if they choose to use parts of the code.</p>\n\n<pre><code>public class Arrays {\n  public static void main(String args[]) {\n    //Assigning the array length according to the user's input\n    int N = Integer.parseInt(args[0]);\n    int randoms[] = new int[N];\n    //Filling the array with random integer values\n    System.out.println(\"The numbers generated are: \");\n    for (int i=0; i&lt;randoms.length; i++) {\n      randoms[i] = (int) (Math.random()*10 + 1);\n      System.out.print(randoms[i] + \" \");\n    }\n    double sum = 0.0;\n    for (int i=0; i&lt;randoms.length; i++) {\n      sum += randoms[i];\n    }\n    System.out.println(\"\\nThe average of the values is \" + (sum/N));\n    int freq[] = new int[11];\n    for (int i=0; i&lt;randoms.length; i++){\n      freq[randoms[i]] += 1; \n    } \n    System.out.println(\"Number\\tFreq\");\n    for (int i=1; i&lt;freq.length; i++){\n      System.out.println(i + \"\\t\" + freq[i]);\n    }\n  }\n}\n</code></pre>\n\n<p>Sample Output:</p>\n\n<pre><code>&gt; java Arrays 15\nThe numbers generated are: \n4 8 1 10 6 7 8 4 6 6 3 4 4 5 8 \nThe average of the values is 5.6\nNumber  Freq\n1       1\n2       0\n3       1\n4       4\n5       1\n6       3\n7       1\n8       3\n9       0\n10      1\n</code></pre>\n"},{"tags":["java","groovy","spock"],"comments":[{"owner":{"account_id":688414,"reputation":82638,"user_id":542270,"accept_rate":86,"display_name":"Opal"},"score":0,"creation_date":1465982004,"post_id":37830936,"comment_id":63123790,"body_markdown":"It&#39;s rather not possible. Can you prepare a SSCCE?","body":"It&#39;s rather not possible. Can you prepare a SSCCE?"}],"answers":[{"tags":[],"owner":{"account_id":4097938,"reputation":3833,"user_id":3364192,"accept_rate":53,"display_name":"user3364192"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1465998751,"creation_date":1465998751,"answer_id":37837499,"question_id":37830936,"body_markdown":"Turns out you can. You have to wrap helper method call with interaction:\r\n\r\n    then:\r\n        interaction {\r\n             helperMethod()\r\n        }\r\nand then you can put interactions in a helper method like that:\r\n\r\n    def helperMethod() {\r\n        1 * someObj.getInt() &gt;&gt; 2\r\n    }\r\n\r\nI did it other way around (wrapped helper method body in interaction), that&#39;s why it did not work","title":"Spock - extracting interactions to method","body":"<p>Turns out you can. You have to wrap helper method call with interaction:</p>\n\n<pre><code>then:\n    interaction {\n         helperMethod()\n    }\n</code></pre>\n\n<p>and then you can put interactions in a helper method like that:</p>\n\n<pre><code>def helperMethod() {\n    1 * someObj.getInt() &gt;&gt; 2\n}\n</code></pre>\n\n<p>I did it other way around (wrapped helper method body in interaction), that's why it did not work</p>\n"}],"owner":{"account_id":4097938,"reputation":3833,"user_id":3364192,"accept_rate":53,"display_name":"user3364192"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1785,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":1,"score":12,"last_activity_date":1695606306,"creation_date":1465981658,"question_id":37830936,"body_markdown":"The spock documentation points out that you can extract assertions of `then` block to other method and add `assert` keyword before each assertion. \r\n\r\nI would also like to **extract interactions to helper method**. \r\nI tried wrapping interactions with `interaction` closure block but that did not work.\r\n\r\nIs it possible? If it is how to achieve it?","title":"Spock - extracting interactions to method","body":"<p>The spock documentation points out that you can extract assertions of <code>then</code> block to other method and add <code>assert</code> keyword before each assertion. </p>\n\n<p>I would also like to <strong>extract interactions to helper method</strong>. \nI tried wrapping interactions with <code>interaction</code> closure block but that did not work.</p>\n\n<p>Is it possible? If it is how to achieve it?</p>\n"},{"tags":["java","networking","nio"],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695606235,"creation_date":1272365069,"answer_id":2720466,"question_id":2719482,"body_markdown":"TCP/IP is a streaming protocol. There is no guarantee anywhere at any level that the data you send won&#39;t be broken up into single-byte segments, or anything in between that and a single segment as you wrote it.\r\n\r\nYour expectations are misplaced.\r\n\r\nRe your EDIT, `write(`) will return zero when the socket send buffer fills. When you get that, register the channel for `OP_WRITE` and stop the write loop. When you get `OP_WRITE`, deregister it (very important) and continue writing. If `write()` returns zero again, repeat.","title":"Java NIO SocketChannel writing problem","body":"<p>TCP/IP is a streaming protocol. There is no guarantee anywhere at any level that the data you send won't be broken up into single-byte segments, or anything in between that and a single segment as you wrote it.</p>\n<p>Your expectations are misplaced.</p>\n<p>Re your EDIT, <code>write(</code>) will return zero when the socket send buffer fills. When you get that, register the channel for <code>OP_WRITE</code> and stop the write loop. When you get <code>OP_WRITE</code>, deregister it (very important) and continue writing. If <code>write()</code> returns zero again, repeat.</p>\n"},{"tags":[],"owner":{"account_id":214164,"reputation":1318,"user_id":467969,"accept_rate":71,"display_name":"Buchi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1308077164,"creation_date":1308077164,"answer_id":6348442,"question_id":2719482,"body_markdown":"While using TCP, we can write over sender side socket channel only until the socket buffers are filled up and not after that. So, in case the receiver is slow in consuming the data, sender side socket buffers fill up and as you mentioned, write() might return zero.\r\n\r\nIn any case, when there is some data to be sent on the sender side, we should register the SocketChannel with the selector with OP_WRITE as the interested operation and when selector returns the SelectionKey, check key.isWritable() and try writing on that channel.  As mentioned by Nilesh above, don&#39;t forget to unregister the OP_WRITE bit with the selector after writing the complete data.","title":"Java NIO SocketChannel writing problem","body":"<p>While using TCP, we can write over sender side socket channel only until the socket buffers are filled up and not after that. So, in case the receiver is slow in consuming the data, sender side socket buffers fill up and as you mentioned, write() might return zero.</p>\n\n<p>In any case, when there is some data to be sent on the sender side, we should register the SocketChannel with the selector with OP_WRITE as the interested operation and when selector returns the SelectionKey, check key.isWritable() and try writing on that channel.  As mentioned by Nilesh above, don't forget to unregister the OP_WRITE bit with the selector after writing the complete data.</p>\n"}],"owner":{"account_id":38928,"reputation":557,"user_id":112066,"accept_rate":47,"display_name":"Nilesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3663,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1695606235,"creation_date":1272353938,"question_id":2719482,"body_markdown":"I am using Java NIO&#39;s SocketChannel to write : `int n = socketChannel.write(byteBuffer);` Most of the times the data is sent in one or two parts; i.e. if the data could not be sent in one attemmpt, remaining data is retried.\r\n\r\nThe issue here is, sometimes, the data is not being sent completely in one attempt, rest of the data when tried to send multiple times, it occurs that even after trying several times, not a single character is being written to channel, finally after some time the remaning data is sent. This data may not be large, could be approx 2000 characters.\r\n\r\nWhat could be the cause of such behaviour? Could external factors such as RAM, OS, etc cause the hindarance?\r\n\r\nPlease help me solve this issue. If any other information is required please let me know.\r\nThanks\r\n\r\n**EDIT:** \r\n\r\nIs there a way in NIO SocketChannel, to check, if the channel could be provided with data to write before actual writing. The intention here is, after attempting to write complete data, if some data hasn&#39;t been written on channel, before writing the remaining data can we check if the SocketChannel can take any more data; so instead of attempting multiple times fruitlessly, the thread responsible for writing this data could wait or do something else.","title":"Java NIO SocketChannel writing problem","body":"<p>I am using Java NIO's SocketChannel to write : <code>int n = socketChannel.write(byteBuffer);</code> Most of the times the data is sent in one or two parts; i.e. if the data could not be sent in one attemmpt, remaining data is retried.</p>\n\n<p>The issue here is, sometimes, the data is not being sent completely in one attempt, rest of the data when tried to send multiple times, it occurs that even after trying several times, not a single character is being written to channel, finally after some time the remaning data is sent. This data may not be large, could be approx 2000 characters.</p>\n\n<p>What could be the cause of such behaviour? Could external factors such as RAM, OS, etc cause the hindarance?</p>\n\n<p>Please help me solve this issue. If any other information is required please let me know.\nThanks</p>\n\n<p><strong>EDIT:</strong> </p>\n\n<p>Is there a way in NIO SocketChannel, to check, if the channel could be provided with data to write before actual writing. The intention here is, after attempting to write complete data, if some data hasn't been written on channel, before writing the remaining data can we check if the SocketChannel can take any more data; so instead of attempting multiple times fruitlessly, the thread responsible for writing this data could wait or do something else.</p>\n"},{"tags":["java","double","precision","bigdecimal","zero"],"answers":[{"tags":[],"owner":{"account_id":473751,"reputation":19104,"user_id":883033,"accept_rate":63,"display_name":"Chandra Sekhar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333451657,"creation_date":1333451300,"answer_id":9992031,"question_id":9992006,"body_markdown":"    new Double(0.0).equals(0); //false\r\n\r\nas the argument you passed is integer. and the **equels()** in **Double** class checks whether the argument is od instance **Double** or not using **instance of** operator.\r\n\r\nThe **Double**&#39;s **equals()** method. \r\n\r\n    if (!(argument instanceof Double))\r\n      return false;\r\n\r\nThe argument you passed is **integer**, which is not instance of **Double**, so it returns false.","title":"Equals operator for zeros (BigDecimal / Double) in Java","body":"<pre><code>new Double(0.0).equals(0); //false\n</code></pre>\n\n<p>as the argument you passed is integer. and the <strong>equels()</strong> in <strong>Double</strong> class checks whether the argument is od instance <strong>Double</strong> or not using <strong>instance of</strong> operator.</p>\n\n<p>The <strong>Double</strong>'s <strong>equals()</strong> method. </p>\n\n<pre><code>if (!(argument instanceof Double))\n  return false;\n</code></pre>\n\n<p>The argument you passed is <strong>integer</strong>, which is not instance of <strong>Double</strong>, so it returns false.</p>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":71,"is_accepted":true,"score":71,"last_activity_date":1695606016,"creation_date":1333451343,"answer_id":9992044,"question_id":9992006,"body_markdown":"BigDecimal &#39;equals&#39; compares the value and the scale. If you only want to compare values (0 == 0.0) you should use compareTo:\r\n\r\n    BigDecimal.ZERO.compareTo(BigDecimal.valueOf(0.0)) == 0 //true\r\n    BigDecimal.ZERO.compareTo(BigDecimal.valueOf(0)) == 0 //true\r\n\r\nSee the [javadoc][1].\r\n\r\nAs for the Double comparison, as explained by other answers, you are comparing a Double with an Integer in `new Double(0.0).equals(0)`, which returns `false` because the objects have different types. For reference, the [code for the equals method in JDK 7][2] is:\r\n\r\n    public boolean equals(Object obj) {\r\n        return (obj instanceof Double)\r\n               &amp;&amp; (doubleToLongBits(((Double)obj).value) ==\r\n                      doubleToLongBits(value));\r\n    }\r\n\r\nIn your case, `(obj instanceof Double)` is false.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#equals%28java.lang.Object%29\r\n  [2]: http://www.docjar.com/html/api/java/lang/Double.java.html#731\r\n","title":"Equals operator for zeros (BigDecimal / Double) in Java","body":"<p>BigDecimal 'equals' compares the value and the scale. If you only want to compare values (0 == 0.0) you should use compareTo:</p>\n<pre><code>BigDecimal.ZERO.compareTo(BigDecimal.valueOf(0.0)) == 0 //true\nBigDecimal.ZERO.compareTo(BigDecimal.valueOf(0)) == 0 //true\n</code></pre>\n<p>See the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#equals%28java.lang.Object%29\" rel=\"nofollow noreferrer\">javadoc</a>.</p>\n<p>As for the Double comparison, as explained by other answers, you are comparing a Double with an Integer in <code>new Double(0.0).equals(0)</code>, which returns <code>false</code> because the objects have different types. For reference, the <a href=\"http://www.docjar.com/html/api/java/lang/Double.java.html#731\" rel=\"nofollow noreferrer\">code for the equals method in JDK 7</a> is:</p>\n<pre><code>public boolean equals(Object obj) {\n    return (obj instanceof Double)\n           &amp;&amp; (doubleToLongBits(((Double)obj).value) ==\n                  doubleToLongBits(value));\n}\n</code></pre>\n<p>In your case, <code>(obj instanceof Double)</code> is false.</p>\n"},{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1333451707,"creation_date":1333451369,"answer_id":9992051,"question_id":9992006,"body_markdown":"1. The 0 in your first expression is interpreted as an `int`, which may be autoboxed into an `Integer`, but not to a `Double`. So the type of the two is different, hence they are not equal. OTOH `0.0` is a `double`, which is autoboxed into a `Double`, so the two operands are deemed equal.\r\n\r\n2. BigDecimals also contain a scale (i.e. number of digits to the right of the decimal separator dot). `BigDecimal.ZERO` has the value of &quot;0&quot;, so its scale is 0. Hence it is not equal to &quot;0.0&quot;, whose scale is 1.  \r\nIf you want to compare values, use [`BigDecimal.compareTo`][1]:\r\n\r\n        BigDecimal.ZERO.compareTo(BigDecimal.valueOf(0.0)) == 0\r\n        BigDecimal.ZERO.compareTo(BigDecimal.valueOf(0)) == 0\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/math/BigDecimal.html#compareTo%28java.math.BigDecimal%29","title":"Equals operator for zeros (BigDecimal / Double) in Java","body":"<ol>\n<li><p>The 0 in your first expression is interpreted as an <code>int</code>, which may be autoboxed into an <code>Integer</code>, but not to a <code>Double</code>. So the type of the two is different, hence they are not equal. OTOH <code>0.0</code> is a <code>double</code>, which is autoboxed into a <code>Double</code>, so the two operands are deemed equal.</p></li>\n<li><p>BigDecimals also contain a scale (i.e. number of digits to the right of the decimal separator dot). <code>BigDecimal.ZERO</code> has the value of \"0\", so its scale is 0. Hence it is not equal to \"0.0\", whose scale is 1.<br>\nIf you want to compare values, use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/math/BigDecimal.html#compareTo%28java.math.BigDecimal%29\" rel=\"noreferrer\"><code>BigDecimal.compareTo</code></a>:</p>\n\n<pre><code>BigDecimal.ZERO.compareTo(BigDecimal.valueOf(0.0)) == 0\nBigDecimal.ZERO.compareTo(BigDecimal.valueOf(0)) == 0\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333451428,"creation_date":1333451428,"answer_id":9992067,"question_id":9992006,"body_markdown":"new Double(0.0).equals(0) is actually boxed as something like this:\r\n\r\n    new Double(0.0).equals(Integer.valueOf(0))\r\n\r\nDouble.equals(...) will never return true unless given another Double instance. ","title":"Equals operator for zeros (BigDecimal / Double) in Java","body":"<p>new Double(0.0).equals(0) is actually boxed as something like this:</p>\n\n<pre><code>new Double(0.0).equals(Integer.valueOf(0))\n</code></pre>\n\n<p>Double.equals(...) will never return true unless given another Double instance. </p>\n"},{"tags":[],"owner":{"account_id":1362699,"reputation":63,"user_id":1299756,"display_name":"TheOutsider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333451995,"creation_date":1333451995,"answer_id":9992193,"question_id":9992006,"body_markdown":"    new Double(0.0).equals(0)\r\nThis line compares a double value of 0 (which is not exact zero) with integer of 0.\r\n\r\n    BigDecimal.ZERO.equals(BigDecimal.valueOf(0.0))\r\nBigDecimal will compare the scale length in the equals operation.","title":"Equals operator for zeros (BigDecimal / Double) in Java","body":"<pre><code>new Double(0.0).equals(0)\n</code></pre>\n\n<p>This line compares a double value of 0 (which is not exact zero) with integer of 0.</p>\n\n<pre><code>BigDecimal.ZERO.equals(BigDecimal.valueOf(0.0))\n</code></pre>\n\n<p>BigDecimal will compare the scale length in the equals operation.</p>\n"},{"tags":[],"owner":{"account_id":1015562,"reputation":415,"user_id":1027186,"display_name":"Anish Dasappan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333452381,"creation_date":1333452381,"answer_id":9992290,"question_id":9992006,"body_markdown":"For performance considerations BigDecimal, BigInteger caches small values \r\n0 to 15 in case of BigDecimal (without fractions)\r\n\r\nBigDecimal.ZERO  will be \tnew BigDecimal(BigInteger.ZERO, 0,  0, 1)\r\n&amp; valueOf method typically picks up from cache for 0 to 15 :)","title":"Equals operator for zeros (BigDecimal / Double) in Java","body":"<p>For performance considerations BigDecimal, BigInteger caches small values \n0 to 15 in case of BigDecimal (without fractions)</p>\n\n<p>BigDecimal.ZERO  will be    new BigDecimal(BigInteger.ZERO, 0,  0, 1)\n&amp; valueOf method typically picks up from cache for 0 to 15 :)</p>\n"},{"tags":[],"owner":{"account_id":1118323,"reputation":113,"user_id":1107154,"accept_rate":0,"display_name":"Agassis"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1344351332,"creation_date":1344351332,"answer_id":11848665,"question_id":9992006,"body_markdown":"    please try doublevalue instead of compareto if you feel is not as beautiful and readable as or simply need an alternative like below:\r\n    \r\n    BigDecimal a = new BigDecimal(&quot;0.00&quot;);\r\n    BigDecimal b = new BigDecimal(&quot;0.0&quot;);\r\n    BigDecimal c = new BigDecimal(&quot;0&quot;);\r\n    \r\n    if(a.doubleValue()==BigDecimal.ZERO.doubleValue()) {\r\n    System.out.println(&quot;a equals&quot;);\r\n    }\r\n    \r\n    if(b.doubleValue()==BigDecimal.ZERO.doubleValue()) {\r\n    System.out.println(&quot;b equals&quot;);\r\n    }\r\n    \r\n    if(c.doubleValue()==BigDecimal.ZERO.doubleValue()) {\r\n    System.out.println(&quot;c equals&quot;);\r\n    } ","title":"Equals operator for zeros (BigDecimal / Double) in Java","body":"<pre><code>please try doublevalue instead of compareto if you feel is not as beautiful and readable as or simply need an alternative like below:\n\nBigDecimal a = new BigDecimal(\"0.00\");\nBigDecimal b = new BigDecimal(\"0.0\");\nBigDecimal c = new BigDecimal(\"0\");\n\nif(a.doubleValue()==BigDecimal.ZERO.doubleValue()) {\nSystem.out.println(\"a equals\");\n}\n\nif(b.doubleValue()==BigDecimal.ZERO.doubleValue()) {\nSystem.out.println(\"b equals\");\n}\n\nif(c.doubleValue()==BigDecimal.ZERO.doubleValue()) {\nSystem.out.println(\"c equals\");\n} \n</code></pre>\n"}],"owner":{"account_id":122546,"reputation":7175,"user_id":316419,"accept_rate":72,"display_name":"Manish Mulani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45056,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":9992044,"answer_count":7,"score":43,"last_activity_date":1695606016,"creation_date":1333451204,"question_id":9992006,"body_markdown":"A few interesting observations w.r.t equals operator on 0 and 0.0\r\n\r\n1. `new Double(0.0).equals(0)` returns false, while `new Double(0.0).equals(0.0)` returns true.\r\n\r\n2. `BigDecimal.ZERO.equals(BigDecimal.valueOf(0.0))` returns false, while `BigDecimal.ZERO.equals(BigDecimal.valueOf(0))` returns true.\r\n\r\nLooks like the string comparison is being done in both the cases. Could anyone throw some light on this.\r\n\r\nThanks.","title":"Equals operator for zeros (BigDecimal / Double) in Java","body":"<p>A few interesting observations w.r.t equals operator on 0 and 0.0</p>\n\n<ol>\n<li><p><code>new Double(0.0).equals(0)</code> returns false, while <code>new Double(0.0).equals(0.0)</code> returns true.</p></li>\n<li><p><code>BigDecimal.ZERO.equals(BigDecimal.valueOf(0.0))</code> returns false, while <code>BigDecimal.ZERO.equals(BigDecimal.valueOf(0))</code> returns true.</p></li>\n</ol>\n\n<p>Looks like the string comparison is being done in both the cases. Could anyone throw some light on this.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","design-patterns","state-pattern"],"answers":[{"tags":[],"owner":{"account_id":1197108,"reputation":1883,"user_id":1168577,"accept_rate":75,"display_name":"user1168577"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1358753798,"creation_date":1358753798,"answer_id":14434233,"question_id":14434187,"body_markdown":"From the GOF Design Patterns book (This is there in the Implementation section):\r\n\r\n*1. Who defines the state transitions? The State pattern does not specify which participant defines the criteria for state transitions. If the criteria are fixed,then they can be implemented entirely in the Context. It is generally more flexible and appropriate, however, to let the State subclasses themselves specify their successor state and when to make the transition. This requires adding an interface to the Context that lets State objects set the Context&#39;s current state explicitly.*\r\n\r\n*Decentralizing the transition logic in this way makes it easy to modify or extend the logic by defining new State subclasses. A disadvantage of decentralization is that one State subclass will have knowledge of at least one other, which introduces implementation dependencies between subclasses.*","title":"Who defines state transitions in the state pattern?","body":"<p>From the GOF Design Patterns book (This is there in the Implementation section):</p>\n\n<p><em>1. Who defines the state transitions? The State pattern does not specify which participant defines the criteria for state transitions. If the criteria are fixed,then they can be implemented entirely in the Context. It is generally more flexible and appropriate, however, to let the State subclasses themselves specify their successor state and when to make the transition. This requires adding an interface to the Context that lets State objects set the Context's current state explicitly.</em></p>\n\n<p><em>Decentralizing the transition logic in this way makes it easy to modify or extend the logic by defining new State subclasses. A disadvantage of decentralization is that one State subclass will have knowledge of at least one other, which introduces implementation dependencies between subclasses.</em></p>\n"},{"tags":[],"owner":{"account_id":2255493,"reputation":933,"user_id":1986769,"display_name":"ShazSimple"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1373347326,"creation_date":1373347326,"answer_id":17540524,"question_id":14434187,"body_markdown":"May be a relatively concrete example can clarify. I hope I am understanding it correctly\r\n\r\nSuppose a washing machine has two states (ON, Off). Following GoF vocabulary:\r\n\r\n+ Context =&gt; WashingMachine\r\n+ State =&gt; WashingMachineState\r\n+ Concrete states =&gt; StateOn, StateOff\r\n\r\nFor state transition, via state subclasses (in our case StateOn and StateOff) we need to have a method to change state Context:\r\n\r\n    class WashingMachine {\r\n       WashingMachineState state;\r\n       ...\r\n       protected void setState(WashingMachineState newState) {\r\n          state = newState;\r\n       }\r\n       \r\n       someMethod () {\r\n          ...\r\n          state.pushStartButton(this);\r\n          ...\r\n       }\r\n    }\r\n    abstract class WashingMachineState {\r\n       protected void run();\r\n       protected void pushStartButton(WashingMachine wm);\r\n    }\r\n    class StateOn extends WashingMachineState {\r\n       ...\r\n       void pushStartButton(WashingMachine wm) {\r\n          wm.setState(new StateOff())\r\n       }\r\n    }\r\n    \r\n    class StateOff extends WashingMachineState {\r\n       ...\r\n       void pushStartButton(WashingMachine wm) {\r\n          wm.setState(new StateOn())\r\n       }\r\n    }\r\n\r\nJust keep in mind there are several ways to implement it, creativity helps!\r\n    ","title":"Who defines state transitions in the state pattern?","body":"<p>May be a relatively concrete example can clarify. I hope I am understanding it correctly</p>\n\n<p>Suppose a washing machine has two states (ON, Off). Following GoF vocabulary:</p>\n\n<ul>\n<li>Context => WashingMachine</li>\n<li>State => WashingMachineState</li>\n<li>Concrete states => StateOn, StateOff</li>\n</ul>\n\n<p>For state transition, via state subclasses (in our case StateOn and StateOff) we need to have a method to change state Context:</p>\n\n<pre><code>class WashingMachine {\n   WashingMachineState state;\n   ...\n   protected void setState(WashingMachineState newState) {\n      state = newState;\n   }\n\n   someMethod () {\n      ...\n      state.pushStartButton(this);\n      ...\n   }\n}\nabstract class WashingMachineState {\n   protected void run();\n   protected void pushStartButton(WashingMachine wm);\n}\nclass StateOn extends WashingMachineState {\n   ...\n   void pushStartButton(WashingMachine wm) {\n      wm.setState(new StateOff())\n   }\n}\n\nclass StateOff extends WashingMachineState {\n   ...\n   void pushStartButton(WashingMachine wm) {\n      wm.setState(new StateOn())\n   }\n}\n</code></pre>\n\n<p>Just keep in mind there are several ways to implement it, creativity helps!</p>\n"},{"tags":[],"owner":{"account_id":7191255,"reputation":226,"user_id":5491493,"display_name":"moth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695604808,"creation_date":1695604808,"answer_id":77169482,"question_id":14434187,"body_markdown":"A pattern that I enjoy for state transitions is using separate classes for each transition between two states.\r\n\r\nThis allows the states to be responsible only for what happens when this state is entered, is executing, and is exited, but separate code controls transitions from one state to another. This allows more specificity when a complex action needs to occur only on one transition to another.","title":"Who defines state transitions in the state pattern?","body":"<p>A pattern that I enjoy for state transitions is using separate classes for each transition between two states.</p>\n<p>This allows the states to be responsible only for what happens when this state is entered, is executing, and is exited, but separate code controls transitions from one state to another. This allows more specificity when a complex action needs to occur only on one transition to another.</p>\n"}],"owner":{"account_id":1658137,"reputation":26719,"user_id":1527084,"accept_rate":81,"display_name":"Geek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3684,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":14434233,"answer_count":3,"score":17,"last_activity_date":1695604808,"creation_date":1358753610,"question_id":14434187,"body_markdown":"I understand that the `State pattern` can be used to model objects that changes behavior depending on the state and the various states that the `Context` can have is encapsulated in concrete classes that represent a `State` interface . What I am not clear is how the state transitions happen in this pattern . Do the individual `states` know and decide who follows them or is it the `Context` that decides which state it will get next ?","title":"Who defines state transitions in the state pattern?","body":"<p>I understand that the <code>State pattern</code> can be used to model objects that changes behavior depending on the state and the various states that the <code>Context</code> can have is encapsulated in concrete classes that represent a <code>State</code> interface . What I am not clear is how the state transitions happen in this pattern . Do the individual <code>states</code> know and decide who follows them or is it the <code>Context</code> that decides which state it will get next ?</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":22436273,"reputation":88,"user_id":16641483,"display_name":"Lofri97"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695604451,"creation_date":1695604451,"answer_id":77169473,"question_id":77169399,"body_markdown":"Because `@Value` works in spring managed bean, Declared only `@Entity` might not works what you want.\r\n\r\nHow about using like this?\r\n\r\n```java\r\n@Component\r\nclass SomeConfig {\r\n  @Value(&quot;${SomeVal}&quot;)\r\n  public String val;\r\n}\r\n\r\n@Entity\r\nclass YourEntity {\r\n  @Column(name = &quot;column&quot;, columnDefinition = &quot;double&quot;)\r\n  @NonNull\r\n  private Double column = SomeConfig.val;\r\n}\r\n```\r\n\r\nAlthough the constraints of the DB do not change, but programmatically, the default values can be determined through external settings!","title":"Setting Default Values for JPA Column Via Enviromental Variable (Spring Boot)","body":"<p>Because <code>@Value</code> works in spring managed bean, Declared only <code>@Entity</code> might not works what you want.</p>\n<p>How about using like this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\nclass SomeConfig {\n  @Value(&quot;${SomeVal}&quot;)\n  public String val;\n}\n\n@Entity\nclass YourEntity {\n  @Column(name = &quot;column&quot;, columnDefinition = &quot;double&quot;)\n  @NonNull\n  private Double column = SomeConfig.val;\n}\n</code></pre>\n<p>Although the constraints of the DB do not change, but programmatically, the default values can be determined through external settings!</p>\n"}],"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77169473,"answer_count":1,"score":0,"last_activity_date":1695604451,"creation_date":1695602198,"question_id":77169399,"body_markdown":"I have an entity class where I want to set the default value for a column. I tried this:\r\n\r\n    @Column(name = &quot;column&quot;, columnDefinition = &quot;double&quot;)\r\n    @Value(&quot;#{new Double(&#39;${env.var:-0.25}&#39;)}&quot;)\r\n    @NonNull\r\n    private Double column;\r\n\r\nNow, we cannot use @Value to set a value in the entity class. I saw some stackoverflow answers like this:\r\n\r\nhttps://stackoverflow.com/questions/197045/setting-default-values-for-columns-in-jpa\r\n\r\nwhere you set a default in the column definition, but there is no way to default and inject a env value like @Value does. Is there anything I can do to achieve this?\r\n\r\nThanks","title":"Setting Default Values for JPA Column Via Enviromental Variable (Spring Boot)","body":"<p>I have an entity class where I want to set the default value for a column. I tried this:</p>\n<pre><code>@Column(name = &quot;column&quot;, columnDefinition = &quot;double&quot;)\n@Value(&quot;#{new Double('${env.var:-0.25}')}&quot;)\n@NonNull\nprivate Double column;\n</code></pre>\n<p>Now, we cannot use @Value to set a value in the entity class. I saw some stackoverflow answers like this:</p>\n<p><a href=\"https://stackoverflow.com/questions/197045/setting-default-values-for-columns-in-jpa\">Setting default values for columns in JPA</a></p>\n<p>where you set a default in the column definition, but there is no way to default and inject a env value like @Value does. Is there anything I can do to achieve this?</p>\n<p>Thanks</p>\n"},{"tags":["java","inheritance","overloading"],"comments":[{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":1,"creation_date":1555053462,"post_id":55646387,"comment_id":97982089,"body_markdown":"Did you tried to call `Child c = new Child(); c.add(1); c.add(1L);` ? You already have everything to discover the answer yourself. And then, do the same with `Parent p = new Child(); p.add(1); p.add(1L);`","body":"Did you tried to call <code>Child c = new Child(); c.add(1); c.add(1L);</code> ? You already have everything to discover the answer yourself. And then, do the same with <code>Parent p = new Child(); p.add(1); p.add(1L);</code>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1555053504,"post_id":55646387,"comment_id":97982108,"body_markdown":"Yes, this is overloading.","body":"Yes, this is overloading."}],"answers":[{"tags":[],"owner":{"account_id":920761,"reputation":557,"user_id":952507,"accept_rate":5,"display_name":"Suseendran P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555053835,"creation_date":1555053835,"answer_id":55646484,"question_id":55646387,"body_markdown":"Yes. While extending any class, internally it means all accessible behaviour of the parent class will be present or inherited in child class. i.e, so in your case same name with different argument is overloading.","title":"Is overloading in inheritance class possible in Java?","body":"<p>Yes. While extending any class, internally it means all accessible behaviour of the parent class will be present or inherited in child class. i.e, so in your case same name with different argument is overloading.</p>\n"},{"tags":[],"owner":{"account_id":12274705,"reputation":2049,"user_id":8958938,"display_name":"Jamith NImantha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555062740,"creation_date":1555062740,"answer_id":55648990,"question_id":55646387,"body_markdown":"Yes of course, overloading in inheritance class is possible in Java. Java compiler detect that add method has multiple implementations. so according to the parameter java compiler will determines which method has to be executed.\r\n\r\n    class Parent {\r\n        public void add(int a) {\r\n            System.out.println(&quot;I am parent &quot; + a);\r\n        }\r\n    }\r\n    \r\n    class Child extends Parent {\r\n        public void add(long a) {\r\n            System.out.println(&quot;I am child.&quot;);\r\n        }\r\n    }\r\n    class Demo{\r\n    \tpublic static void main(String args[]){\r\n    \r\n    \tChild child = new Child();\r\n    \tchild.add(1); // prints &quot;I am parent 1&quot;\r\n    \tchild.add(1L); // prints &quot;I am child.&quot;\r\n    \r\n    \t}\r\n    }","title":"Is overloading in inheritance class possible in Java?","body":"<p>Yes of course, overloading in inheritance class is possible in Java. Java compiler detect that add method has multiple implementations. so according to the parameter java compiler will determines which method has to be executed.</p>\n\n<pre><code>class Parent {\n    public void add(int a) {\n        System.out.println(\"I am parent \" + a);\n    }\n}\n\nclass Child extends Parent {\n    public void add(long a) {\n        System.out.println(\"I am child.\");\n    }\n}\nclass Demo{\n    public static void main(String args[]){\n\n    Child child = new Child();\n    child.add(1); // prints \"I am parent 1\"\n    child.add(1L); // prints \"I am child.\"\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26601211,"reputation":17,"user_id":20222832,"display_name":"Siva_Dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666268093,"creation_date":1666000930,"answer_id":74095567,"question_id":55646387,"body_markdown":"Yes, In java allow overloading concept which means you can declare different method with Same name and different parameter .In your case You are extending the parent class ,which means all the property of parent class available in child class(child).\r\n        \r\nIts a overloading:\r\n    \r\n    Child c = new Child(); \r\n    c.add(1);//it will call the parent method\r\n    c.add(1L);//It will call the child method","title":"Is overloading in inheritance class possible in Java?","body":"<p>Yes, In java allow overloading concept which means you can declare different method with Same name and different parameter .In your case You are extending the parent class ,which means all the property of parent class available in child class(child).</p>\n<p>Its a overloading:</p>\n<pre><code>Child c = new Child(); \nc.add(1);//it will call the parent method\nc.add(1L);//It will call the child method\n</code></pre>\n"}],"owner":{"account_id":7032012,"reputation":31,"user_id":5387353,"display_name":"Nilesh Ghadge"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1898,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1695603748,"creation_date":1555053387,"question_id":55646387,"body_markdown":"Is overloading in inheritance class possible in Java? Parent class and Child class contain the same method name, but different parameters. Is this overloading?\r\n\r\n```java\r\nclass Parent {\r\n\tpublic void add(int a) {\r\n\t\tSystem.out.println(&quot;I am parent&quot; + a);\r\n\t}\r\n}\r\n\r\nclass Child extends Parent {\r\n\tpublic void add(long a) {\r\n\t\tSystem.out.println(&quot;I am child.&quot;);\r\n\t}\r\n}\r\n```","title":"Is overloading in inheritance class possible in Java?","body":"<p>Is overloading in inheritance class possible in Java? Parent class and Child class contain the same method name, but different parameters. Is this overloading?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class Parent {\n    public void add(int a) {\n        System.out.println(\"I am parent\" + a);\n    }\n}\n\nclass Child extends Parent {\n    public void add(long a) {\n        System.out.println(\"I am child.\");\n    }\n}\n</code></pre>\n"},{"tags":["java","lambda","reflection","pax-exam","junit5-extension-model"],"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1695334236,"post_id":77153674,"comment_id":136014420,"body_markdown":"Correct the code in the block &quot;simplest implemenation&quot; so that it will compile, and we can discuss further ","body":"Correct the code in the block &quot;simplest implemenation&quot; so that it will compile, and we can discuss further "},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1695336828,"post_id":77153674,"comment_id":136014666,"body_markdown":"So you want to write an implementation of WorkValidator.checkWork that will decide what action to take based on the generic parameter of the Worker argument?  Like, do one thing if the argument is `Worker&lt;String&gt;` and do another thing if the argument is `Worker&lt;Integer&gt;`?","body":"So you want to write an implementation of WorkValidator.checkWork that will decide what action to take based on the generic parameter of the Worker argument?  Like, do one thing if the argument is <code>Worker&lt;String&gt;</code> and do another thing if the argument is <code>Worker&lt;Integer&gt;</code>?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1695339029,"post_id":77153674,"comment_id":136014875,"body_markdown":"The situation you&#39;re describing typically requires a different abstraction, and a different ordering of the data.  Can you provide more information regarding the application here, what is its purpose?","body":"The situation you&#39;re describing typically requires a different abstraction, and a different ordering of the data.  Can you provide more information regarding the application here, what is its purpose?"},{"owner":{"account_id":29504082,"reputation":1,"user_id":22610461,"display_name":"William Denton"},"score":0,"creation_date":1695410618,"post_id":77153674,"comment_id":136025864,"body_markdown":"Restructured the question and its sample code. Also discussed what I am actually trying to do -- create a Remote Launcher for JUnit5","body":"Restructured the question and its sample code. Also discussed what I am actually trying to do -- create a Remote Launcher for JUnit5"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1695448558,"post_id":77153674,"comment_id":136028787,"body_markdown":"`if (invocation.returnType = Line)`  Not possible.  Sorry, there is just no way to do this.  That information exists only at compile-time.  I realize you dont control the signature of the `intercept` method, but somehow, your own code will have to require more information (specifically, a Class object) before creating an Interceptor, in order to know what that return type will be.","body":"<code>if (invocation.returnType = Line)</code>  Not possible.  Sorry, there is just no way to do this.  That information exists only at compile-time.  I realize you dont control the signature of the <code>intercept</code> method, but somehow, your own code will have to require more information (specifically, a Class object) before creating an Interceptor, in order to know what that return type will be."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1695580461,"post_id":77153674,"comment_id":136040148,"body_markdown":"Note that `gtype.getClass()` does not do what you want at all.  It returns the class of the gtype reflection object itself, not the Class which is the methods generic return type.  You may be able to get results from something like `if (gtype instanceof Class&lt;?&gt; cls) { String gtname = cls.getName(); /* etc. */ }`","body":"Note that <code>gtype.getClass()</code> does not do what you want at all.  It returns the class of the gtype reflection object itself, not the Class which is the methods generic return type.  You may be able to get results from something like <code>if (gtype instanceof Class&lt;?&gt; cls) { String gtname = cls.getName(); &#47;* etc. *&#47; }</code>"}],"answers":[{"tags":[],"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695346756,"creation_date":1695346756,"answer_id":77154451,"question_id":77153674,"body_markdown":"You can make the interface use a type parameter just like how Lists work in Java.\r\n\r\n    interface WorkValidator&lt;T&gt; {\r\n        T checkWork (Worker&lt;T&gt; worker);\r\n    \r\n        interface Worker&lt;T&gt; {\r\n            T doWork();\r\n        }\r\n    }\r\n\r\nThen your implementations can be specific implementations such as a string worker like so:\r\n\r\n    class StringWorkValidator implements WorkValidator&lt;String&gt; {\r\n        @Override \r\n        public String checkWork (Worker&lt;String&gt; worker) {\r\n            return worker.doWork();\r\n        }\r\n    }\r\n    . . .\r\n    StringWorkValidator myValidator = new StringWorkValidator();\r\n    . . .\r\n    String finishedWork = myValidator.checkWork( () -&gt; someWorker.work(p1, p2, etc) );","title":"Need to find return type method&#39;s lambda function parameter","body":"<p>You can make the interface use a type parameter just like how Lists work in Java.</p>\n<pre><code>interface WorkValidator&lt;T&gt; {\n    T checkWork (Worker&lt;T&gt; worker);\n\n    interface Worker&lt;T&gt; {\n        T doWork();\n    }\n}\n</code></pre>\n<p>Then your implementations can be specific implementations such as a string worker like so:</p>\n<pre><code>class StringWorkValidator implements WorkValidator&lt;String&gt; {\n    @Override \n    public String checkWork (Worker&lt;String&gt; worker) {\n        return worker.doWork();\n    }\n}\n. . .\nStringWorkValidator myValidator = new StringWorkValidator();\n. . .\nString finishedWork = myValidator.checkWork( () -&gt; someWorker.work(p1, p2, etc) );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29504082,"reputation":1,"user_id":22610461,"display_name":"William Denton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695602584,"creation_date":1695602584,"answer_id":77169416,"question_id":77153674,"body_markdown":"Thankyou everyone for providing great feedback on my question. I am sorry if I was not completely clear in details of my problem.\r\n\r\nVGR&#39;s comments corroborated what I was afraid of... that there isn&#39;t yet any way to do exactly what I have hoped for. Maybe a future Java release will allow this sort of deep reflection at runtime.\r\n\r\nAnyway, the best solution I could come up with was to go ahead and call `invocation.proceed()` then use old-school Class.isAssignableFrom() to examine its result. Then return a replacement object instead. This would look like this...\r\n```\r\nreturn new Interceptor() {\r\n    @Override\r\n    &lt;T&gt; T intercept (Invocation&lt;T&gt; invocation) {\r\n        T result = invocation.proceed();\r\n        if (result != null &amp;&amp; Line.class.isAssignableFrom(result.getClass()) {\r\n            result = new MyLine((Line) result); // maybe MyLine needs to delegate actions\r\n        }\r\n        return result;\r\n    };\r\n```\r\nOf course, this assumes there aren&#39;t any undesirable side effects of calling the lambda but replacing its results with your own.","title":"Need to find return type method&#39;s lambda function parameter","body":"<p>Thankyou everyone for providing great feedback on my question. I am sorry if I was not completely clear in details of my problem.</p>\n<p>VGR's comments corroborated what I was afraid of... that there isn't yet any way to do exactly what I have hoped for. Maybe a future Java release will allow this sort of deep reflection at runtime.</p>\n<p>Anyway, the best solution I could come up with was to go ahead and call <code>invocation.proceed()</code> then use old-school Class.isAssignableFrom() to examine its result. Then return a replacement object instead. This would look like this...</p>\n<pre><code>return new Interceptor() {\n    @Override\n    &lt;T&gt; T intercept (Invocation&lt;T&gt; invocation) {\n        T result = invocation.proceed();\n        if (result != null &amp;&amp; Line.class.isAssignableFrom(result.getClass()) {\n            result = new MyLine((Line) result); // maybe MyLine needs to delegate actions\n        }\n        return result;\n    };\n</code></pre>\n<p>Of course, this assumes there aren't any undesirable side effects of calling the lambda but replacing its results with your own.</p>\n"}],"owner":{"account_id":29504082,"reputation":1,"user_id":22610461,"display_name":"William Denton"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695602584,"creation_date":1695330818,"question_id":77153674,"body_markdown":"(Note.. I have restructured the example to more closely match the use case I am working on)\r\n\r\nI have the following interface defined:\r\n```\r\npublic interface Interceptor {\r\n    &lt;T&gt; T intercept (Invocation&lt;T&gt; invocation);\r\n\r\n    interface Invocation&lt;T&gt; {\r\n        T proceed();\r\n    }\r\n}\r\n```\r\nThis simplest implementation of this would be something like:\r\n```\r\nclass TestInterceptor {\r\n    static class Line {int x1, y1, z1, x2, y2, z2;}\r\n    static class Color {int r, g, b;}\r\n    static class Renderer {\r\n        Interceptor interceptor;\r\n        Renderer (Interceptor interceptor) {this.interceptor = interceptor;}\r\n        void draw (Supplier&lt;Line&gt; lineSource, Supplier&lt;Color&gt; colorSource) {\r\n            Line thisLine = interceptor.intercept(lineSource::get);\r\n            Color thisColor = interceptor.intercept(colorSource::get);\r\n            // do the drawing\r\n        }\r\n    }\r\n    void drawSomething () {\r\n        Renderer render = new Renderer(getInterceptor());\r\n        render.draw( () -&gt; createLine(), () -&gt; createColor() );\r\n    }\r\n    Line createLine () {return new Line(/*something*/);}\r\n    Color createColor () {return new Color(/*something*/);}\r\n    Interceptor getInterceptor () {\r\n        return new Interceptor() {\r\n            @Override\r\n            &lt;T&gt; T intercept (Invocation&lt;T&gt; invocation) {\r\n                /* would like to do this:\r\n                if (invocation.returnType = Line) {\r\n                   return new MyLIne();\r\n                } else {\r\n                   return invocation.proceed();\r\n                } */\r\n               return invocation.proceed();\r\n             }\r\n         }\r\n     }\r\n}\r\n```\r\nNotice the comment in `getInterceptor()` that I would like to take different actions (including not calling the lambda) based on what the lambda is going to return. I have tried everything I can think of to get the actual type behind the parameterized type `T` but keep drawing a blank. Can anyone help me out here?\r\n\r\nHere are some of the things I&#39;ve tried\r\n```\r\nClass&lt;?&gt; wclass = interceptor.getClass();\r\nMethod method = wclass.getMethod(&quot;proceed&quot;, new Class&lt;?&gt;[]{});\r\nClass&lt;?&gt; rtype = method.getReturnType(); //getName() always returns &quot;java.lang.Object&quot;\r\nType gtype = method.getGenericReturnType();\r\nClass&lt;?&gt; gtclass = gtype.getClass(); //getName() always returns &quot;java.lang.Class&quot;\r\nString gtname = gtype.getTypeName()); //always returns &quot;java.lang.Object&quot;\r\n```\r\nI am actually trying to create a &quot;Remote Launcher&quot; for JUnit5 so I can use Maven SureFire to run tests in a separatly launched and configured OSGi &quot;container&quot; (way overloaded term but don&#39;t get me started). Except for the `getInterceptor()` method, all of the sample code above is a simplification of existing Junit5 code and not anything I can change. \r\n\r\n(Ideally, I would integrate the new Remote Launcher into PaxExam which seems to have stagnated.)\r\n","title":"Need to find return type method&#39;s lambda function parameter","body":"<p>(Note.. I have restructured the example to more closely match the use case I am working on)</p>\n<p>I have the following interface defined:</p>\n<pre><code>public interface Interceptor {\n    &lt;T&gt; T intercept (Invocation&lt;T&gt; invocation);\n\n    interface Invocation&lt;T&gt; {\n        T proceed();\n    }\n}\n</code></pre>\n<p>This simplest implementation of this would be something like:</p>\n<pre><code>class TestInterceptor {\n    static class Line {int x1, y1, z1, x2, y2, z2;}\n    static class Color {int r, g, b;}\n    static class Renderer {\n        Interceptor interceptor;\n        Renderer (Interceptor interceptor) {this.interceptor = interceptor;}\n        void draw (Supplier&lt;Line&gt; lineSource, Supplier&lt;Color&gt; colorSource) {\n            Line thisLine = interceptor.intercept(lineSource::get);\n            Color thisColor = interceptor.intercept(colorSource::get);\n            // do the drawing\n        }\n    }\n    void drawSomething () {\n        Renderer render = new Renderer(getInterceptor());\n        render.draw( () -&gt; createLine(), () -&gt; createColor() );\n    }\n    Line createLine () {return new Line(/*something*/);}\n    Color createColor () {return new Color(/*something*/);}\n    Interceptor getInterceptor () {\n        return new Interceptor() {\n            @Override\n            &lt;T&gt; T intercept (Invocation&lt;T&gt; invocation) {\n                /* would like to do this:\n                if (invocation.returnType = Line) {\n                   return new MyLIne();\n                } else {\n                   return invocation.proceed();\n                } */\n               return invocation.proceed();\n             }\n         }\n     }\n}\n</code></pre>\n<p>Notice the comment in <code>getInterceptor()</code> that I would like to take different actions (including not calling the lambda) based on what the lambda is going to return. I have tried everything I can think of to get the actual type behind the parameterized type <code>T</code> but keep drawing a blank. Can anyone help me out here?</p>\n<p>Here are some of the things I've tried</p>\n<pre><code>Class&lt;?&gt; wclass = interceptor.getClass();\nMethod method = wclass.getMethod(&quot;proceed&quot;, new Class&lt;?&gt;[]{});\nClass&lt;?&gt; rtype = method.getReturnType(); //getName() always returns &quot;java.lang.Object&quot;\nType gtype = method.getGenericReturnType();\nClass&lt;?&gt; gtclass = gtype.getClass(); //getName() always returns &quot;java.lang.Class&quot;\nString gtname = gtype.getTypeName()); //always returns &quot;java.lang.Object&quot;\n</code></pre>\n<p>I am actually trying to create a &quot;Remote Launcher&quot; for JUnit5 so I can use Maven SureFire to run tests in a separatly launched and configured OSGi &quot;container&quot; (way overloaded term but don't get me started). Except for the <code>getInterceptor()</code> method, all of the sample code above is a simplification of existing Junit5 code and not anything I can change.</p>\n<p>(Ideally, I would integrate the new Remote Launcher into PaxExam which seems to have stagnated.)</p>\n"},{"tags":["java","nullpointerexception","wait","distributed"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1695599670,"post_id":77169233,"comment_id":136041777,"body_markdown":"It should be either `synchronized (lock) { lock.wait() ...}` or `synchronized (this) { wait(); ...}`, but that will cause a different exception, not a `NullPointerException`. Please clarify. Post the stack trace. Edit it into your question.","body":"It should be either <code>synchronized (lock) { lock.wait() ...}</code> or <code>synchronized (this) { wait(); ...}</code>, but that will cause a different exception, not a <code>NullPointerException</code>. Please clarify. Post the stack trace. Edit it into your question."},{"owner":{"account_id":6208638,"reputation":33,"user_id":4835669,"display_name":"Nehemiah Newell"},"score":0,"creation_date":1695600607,"post_id":77169233,"comment_id":136041864,"body_markdown":"java.lang.NullPointerException: Cannot invoke &quot;buffers.ResponseProtos$Response.getMessage()&quot; because &quot;response&quot; is null","body":"java.lang.NullPointerException: Cannot invoke &quot;buffers.ResponseProtos$Response.getMessage()&quot; because &quot;response&quot; is null"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1695604560,"post_id":77169233,"comment_id":136042171,"body_markdown":"You need to put the full stack trace into your question, not just the exception message.","body":"You need to put the full stack trace into your question, not just the exception message."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1695613175,"post_id":77169233,"comment_id":136042879,"body_markdown":"*&quot;On the server side, it gets this error instead ....&quot;* -  That is a different bug in your code.  Now you should search for Q&amp;As involving &gt;that&lt; error message.   (Hint: you are calling `notifyAll` on the wrong object.  If you are synchronizing on `lock`, you should use that object as the target for `wait` and `notify` / `notifyAll` calls ... while you are holding the mutex for `lock`.  This is explained in the javadocs for `java.lang.Object` ... and tutorials, books, etc.)","body":"<i>&quot;On the server side, it gets this error instead ....&quot;</i> -  That is a different bug in your code.  Now you should search for Q&amp;As involving &gt;that&lt; error message.   (Hint: you are calling <code>notifyAll</code> on the wrong object.  If you are synchronizing on <code>lock</code>, you should use that object as the target for <code>wait</code> and <code>notify</code> / <code>notifyAll</code> calls ... while you are holding the mutex for <code>lock</code>.  This is explained in the javadocs for <code>java.lang.Object</code> ... and tutorials, books, etc.)"}],"owner":{"account_id":6208638,"reputation":33,"user_id":4835669,"display_name":"Nehemiah Newell"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1695599692,"answer_count":0,"score":0,"last_activity_date":1695601871,"creation_date":1695596273,"question_id":77169233,"body_markdown":"I&#39;m working on a school project, and the task is to learn to create very *very* basic nodes for a &#39;distributed network&#39; (it doesn&#39;t really deserve to be called that). Right now though, I can&#39;t make my &quot;nodes&quot; wait, because when I do, they immediately throw an error. It doesn&#39;t crash the server (threads can fail without damaging anything), but I can&#39;t pass anything to a &quot;node&quot; if the moment I ask it to wait it crashes.\r\n\r\nRight now, this is the part of the server-side code that tells it to wait.\r\n\r\n```\r\nwhile (node == 1)\r\n            {\r\n                synchronized (lock) {\r\n                    try {\r\n                        wait(); // thread dies as client crashes here.\r\n                        System.out.println(&quot;I waited.&quot;);\r\n                        node = 2;\r\n                    } catch (InterruptedException e) {\r\n                        Thread.currentThread().interrupt();\r\n                        System.err.println(&quot;This is a thread error.&quot;);\r\n                    }\r\n                }\r\n                System.out.println(&quot;And the Wait Ended.&quot;);\r\n                response = Response.newBuilder()\r\n                        .setResponseType(Response.ResponseType.REPLY)\r\n                        .setMessage(&quot;You waited.&quot;)\r\n                        .build();\r\n            }\r\n ```\r\n(Yes, the while loop isn&#39;t doing anything right now. I want to get the wait behavior working before doing more code)\r\n\r\nThis is the part of the server-side code that would end the wait is here (I don&#39;t think this part matters, because it throws *before* this code is reached, but this part of the code runs fine.\r\n\r\n```\r\n                        response = Response.newBuilder()\r\n                                .setResponseType(Response.ResponseType.REPLY)\r\n                                .setMessage(op.getUnencoded())\r\n                                .build();\r\n                        synchronized (lock) {\r\n                            notifyAll();\r\n                        }\r\n                        quit = true;\r\n                        System.out.println(&quot;Echoed&quot;);\r\n                        break;\r\n```\r\n\r\nAnd the &quot;node&quot; looks like this.\r\n\r\n```\r\n        try {\r\n            // connect to the server\r\n            serverSock = new Socket(host, port);\r\n\r\n            // write to the server\r\n            out = serverSock.getOutputStream();\r\n            in = serverSock.getInputStream();\r\n\r\n            op.writeDelimitedTo(out);\r\n\r\n            // read from the server\r\n            response = Response.parseDelimitedFrom(in);\r\n\r\n            // print the server response. \r\n            System.out.println(response.getMessage());\r\n            // wait on the server\r\n            response = Response.parseDelimitedFrom(in); /// it seems to die here.\r\n            System.out.println(response.getMessage());\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            if (in != null)   in.close();\r\n            if (out != null)  out.close();\r\n            if (serverSock != null) serverSock.close();\r\n        }\r\n```\r\n\r\nWhat&#39;s more annoying was that it didn&#39;t throw an exception back when I had the monitor set up wrong. It waited forever, but the thread waited fine. Switch to monitoring a &#39;lock&#39; rather than having the whole method synchronized (which didn&#39;t work because each thread was a new object and new monitor, I think?) made this problem start. I can&#39;t figure out what I&#39;m doing wrong here, and the lecture doesn&#39;t talk about wait at all (maybe I was supposed to do busy waiting or something? That sounds terrible).\r\n\r\nedit:\r\nThis is the full error.\r\n```java.lang.NullPointerException: Cannot invoke &quot;buffers.ResponseProtos$Response.getMessage()&quot; because &quot;response&quot; is null```\r\n\r\nEdit:\r\nIt&#39;s unclear why putting a thread into &#39;wait&#39; is causing the null point error exception, not what a null point exception is. \r\n\r\nedit: On the server side, it gets this error instead.\r\n```\r\njava.lang.IllegalMonitorStateException: current thread is not owner\r\n        at java.base/java.lang.Object.notifyAll(Native Method)\r\n        at server.Server.run(Server.java:72)\r\n```\r\n\r\n","title":"I get a java.lang.NullPointerException when the server waits","body":"<p>I'm working on a school project, and the task is to learn to create very <em>very</em> basic nodes for a 'distributed network' (it doesn't really deserve to be called that). Right now though, I can't make my &quot;nodes&quot; wait, because when I do, they immediately throw an error. It doesn't crash the server (threads can fail without damaging anything), but I can't pass anything to a &quot;node&quot; if the moment I ask it to wait it crashes.</p>\n<p>Right now, this is the part of the server-side code that tells it to wait.</p>\n<pre><code>while (node == 1)\n            {\n                synchronized (lock) {\n                    try {\n                        wait(); // thread dies as client crashes here.\n                        System.out.println(&quot;I waited.&quot;);\n                        node = 2;\n                    } catch (InterruptedException e) {\n                        Thread.currentThread().interrupt();\n                        System.err.println(&quot;This is a thread error.&quot;);\n                    }\n                }\n                System.out.println(&quot;And the Wait Ended.&quot;);\n                response = Response.newBuilder()\n                        .setResponseType(Response.ResponseType.REPLY)\n                        .setMessage(&quot;You waited.&quot;)\n                        .build();\n            }\n</code></pre>\n<p>(Yes, the while loop isn't doing anything right now. I want to get the wait behavior working before doing more code)</p>\n<p>This is the part of the server-side code that would end the wait is here (I don't think this part matters, because it throws <em>before</em> this code is reached, but this part of the code runs fine.</p>\n<pre><code>                        response = Response.newBuilder()\n                                .setResponseType(Response.ResponseType.REPLY)\n                                .setMessage(op.getUnencoded())\n                                .build();\n                        synchronized (lock) {\n                            notifyAll();\n                        }\n                        quit = true;\n                        System.out.println(&quot;Echoed&quot;);\n                        break;\n</code></pre>\n<p>And the &quot;node&quot; looks like this.</p>\n<pre><code>        try {\n            // connect to the server\n            serverSock = new Socket(host, port);\n\n            // write to the server\n            out = serverSock.getOutputStream();\n            in = serverSock.getInputStream();\n\n            op.writeDelimitedTo(out);\n\n            // read from the server\n            response = Response.parseDelimitedFrom(in);\n\n            // print the server response. \n            System.out.println(response.getMessage());\n            // wait on the server\n            response = Response.parseDelimitedFrom(in); /// it seems to die here.\n            System.out.println(response.getMessage());\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            if (in != null)   in.close();\n            if (out != null)  out.close();\n            if (serverSock != null) serverSock.close();\n        }\n</code></pre>\n<p>What's more annoying was that it didn't throw an exception back when I had the monitor set up wrong. It waited forever, but the thread waited fine. Switch to monitoring a 'lock' rather than having the whole method synchronized (which didn't work because each thread was a new object and new monitor, I think?) made this problem start. I can't figure out what I'm doing wrong here, and the lecture doesn't talk about wait at all (maybe I was supposed to do busy waiting or something? That sounds terrible).</p>\n<p>edit:\nThis is the full error.\n<code>java.lang.NullPointerException: Cannot invoke &quot;buffers.ResponseProtos$Response.getMessage()&quot; because &quot;response&quot; is null</code></p>\n<p>Edit:\nIt's unclear why putting a thread into 'wait' is causing the null point error exception, not what a null point exception is.</p>\n<p>edit: On the server side, it gets this error instead.</p>\n<pre><code>java.lang.IllegalMonitorStateException: current thread is not owner\n        at java.base/java.lang.Object.notifyAll(Native Method)\n        at server.Server.run(Server.java:72)\n</code></pre>\n"},{"tags":["java","android","cryptography"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1695587905,"post_id":77168317,"comment_id":136040938,"body_markdown":"If you use a recent Java 8/11/17 version Unlimited Strepth Policy is no longer a topic. BTW the common way nowadays is to ship the application with an integrated JRE version then you as the developer has control over all JRE details.","body":"If you use a recent Java 8/11/17 version Unlimited Strepth Policy is no longer a topic. BTW the common way nowadays is to ship the application with an integrated JRE version then you as the developer has control over all JRE details."}],"owner":{"account_id":319201,"reputation":156,"user_id":636840,"display_name":"Eric Bergman-Terrell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1695597048,"creation_date":1695578419,"question_id":77168317,"body_markdown":"I am upgrading the encryption used by a Java desktop app and an Android app. Both read and write the same encrypted documents, so file compatibility is required.\r\n\r\nBoth apps currently use AES in ECB mode, with 128-bit keys. I plan to update both to use AES in CBC mode, with 256-bit keys. Additionally I plan to adopt a better password-to-key generation mechanism.\r\n\r\nMy concern is the key length. Are there users around the world who cannot conveniently find and download a Java 17 JDK that allows cryptography with AES and 256-bit keys? Do some Android device vendors provide Android versions that don&#39;t allow 256-bit keys? My app&#39;s Android minSdkVersion is 26.\r\n\r\nAs I understand it: \r\n\r\n* Older versions of the Oracle Java JDK required all users to download and install an &quot;Unlimited Policy addon&quot; in order to use keys longer than 128 bits. \r\n\r\n* The Oracle Java 17 JDK does support 256-bit keys, for all users located everywhere. It may be illegal for users to use 256-bit keys in some countries, but the JDK allows them.\r\n\r\nIs my understanding 100% correct? I do not want to update both apps, release them, and find out that users in various countries cannot use 256-bit encryption/decryption keys.\r\n\r\nhttps://github.com/EricTerrell/Vault3.Desktop (Desktop app)\r\n\r\nhttps://github.com/EricTerrell/Vault3.Android (Android app)\r\n","title":"Java 17 JDK &amp; Android Encryption Key Length Restrictions Around the World?","body":"<p>I am upgrading the encryption used by a Java desktop app and an Android app. Both read and write the same encrypted documents, so file compatibility is required.</p>\n<p>Both apps currently use AES in ECB mode, with 128-bit keys. I plan to update both to use AES in CBC mode, with 256-bit keys. Additionally I plan to adopt a better password-to-key generation mechanism.</p>\n<p>My concern is the key length. Are there users around the world who cannot conveniently find and download a Java 17 JDK that allows cryptography with AES and 256-bit keys? Do some Android device vendors provide Android versions that don't allow 256-bit keys? My app's Android minSdkVersion is 26.</p>\n<p>As I understand it:</p>\n<ul>\n<li><p>Older versions of the Oracle Java JDK required all users to download and install an &quot;Unlimited Policy addon&quot; in order to use keys longer than 128 bits.</p>\n</li>\n<li><p>The Oracle Java 17 JDK does support 256-bit keys, for all users located everywhere. It may be illegal for users to use 256-bit keys in some countries, but the JDK allows them.</p>\n</li>\n</ul>\n<p>Is my understanding 100% correct? I do not want to update both apps, release them, and find out that users in various countries cannot use 256-bit encryption/decryption keys.</p>\n<p><a href=\"https://github.com/EricTerrell/Vault3.Desktop\" rel=\"nofollow noreferrer\">https://github.com/EricTerrell/Vault3.Desktop</a> (Desktop app)</p>\n<p><a href=\"https://github.com/EricTerrell/Vault3.Android\" rel=\"nofollow noreferrer\">https://github.com/EricTerrell/Vault3.Android</a> (Android app)</p>\n"},{"tags":["java","certificate","weblogic"],"answers":[{"tags":[],"owner":{"account_id":15806821,"reputation":39,"user_id":11410015,"display_name":"The real Van Gogh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639416039,"creation_date":1639416039,"answer_id":70338542,"question_id":70258359,"body_markdown":"You will have to find the location of your certificates first or your certificates are located in your keystore. If so, you can display content of your keystore and check which certificates you have. \r\n\r\nDo you use Weblogic in combination with OSB? If yes, then the keystore is propably configured in your Enterprise Manager. If not, then your keystore is configured on Weblogic level which can be found at servers -&gt; keystores tab\r\n\r\nI don&#39;t know if this is the solution but let&#39;s try it out.","title":"Getting &quot;PKIX path validation failed: java.security.cert.CertPathValidatorException: timestamp check failed&quot; error on WEBLOGIC","body":"<p>You will have to find the location of your certificates first or your certificates are located in your keystore. If so, you can display content of your keystore and check which certificates you have.</p>\n<p>Do you use Weblogic in combination with OSB? If yes, then the keystore is propably configured in your Enterprise Manager. If not, then your keystore is configured on Weblogic level which can be found at servers -&gt; keystores tab</p>\n<p>I don't know if this is the solution but let's try it out.</p>\n"}],"owner":{"account_id":10927319,"reputation":19,"user_id":8265500,"display_name":"Mick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10611,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695596795,"creation_date":1638872276,"question_id":70258359,"body_markdown":"After applying the latest Windows Updates I&#39;m getting an:\r\n\r\n&gt; Error 500--Internal Server Error \r\n\r\ntrying to access my URL using HTTP (not HTTPS!) protocol.\r\n\r\nLooking in Weblogic logs, I found this error:\r\n&gt;ServletContext@199346236[app:analytics module:analytics path:/analytics spec-version:2.5 version:11.1.1]] Root cause of ServletException.\r\njavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: **PKIX path validation failed: java.security.cert.CertPathValidatorException: timestamp check failed**\r\n\r\nHow can I solve this issue?\r\n\r\nI don&#39;t know where I can find this expired certificate and if this is the real problem because I&#39;m not using an HTTPS protocol trying to access my site.","title":"Getting &quot;PKIX path validation failed: java.security.cert.CertPathValidatorException: timestamp check failed&quot; error on WEBLOGIC","body":"<p>After applying the latest Windows Updates I'm getting an:</p>\n<blockquote>\n<p>Error 500--Internal Server Error</p>\n</blockquote>\n<p>trying to access my URL using HTTP (not HTTPS!) protocol.</p>\n<p>Looking in Weblogic logs, I found this error:</p>\n<blockquote>\n<p>ServletContext@199346236[app:analytics module:analytics path:/analytics spec-version:2.5 version:11.1.1]] Root cause of ServletException.\njavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: <strong>PKIX path validation failed: java.security.cert.CertPathValidatorException: timestamp check failed</strong></p>\n</blockquote>\n<p>How can I solve this issue?</p>\n<p>I don't know where I can find this expired certificate and if this is the real problem because I'm not using an HTTPS protocol trying to access my site.</p>\n"},{"tags":["java","mysql","gradle","spring-data-jpa"],"comments":[{"owner":{"account_id":1203347,"reputation":2104,"user_id":1173560,"display_name":"K.C."},"score":0,"creation_date":1452264966,"post_id":33709849,"comment_id":57105036,"body_markdown":"Possible duplicate of [Spring Boot - Cannot determine embedded database driver class for database type NONE](http://stackoverflow.com/questions/24074749/spring-boot-cannot-determine-embedded-database-driver-class-for-database-type)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/24074749/spring-boot-cannot-determine-embedded-database-driver-class-for-database-type\">Spring Boot - Cannot determine embedded database driver class for database type NONE</a>"}],"answers":[{"tags":[],"owner":{"account_id":5221196,"reputation":29,"user_id":4174608,"display_name":"Daniel Burrell"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1447534859,"creation_date":1447515531,"answer_id":33710091,"question_id":33709849,"body_markdown":"Spring boot is unable to determine which driver to use. You need to specify the following property somewhere:\r\nspring.datasource.driverClassName\r\nThere are other properties which you will need to specify, check the documentation.\r\n","title":"BeanCreationException: Cannot determine embedded database driver class for database type NONE","body":"<p>Spring boot is unable to determine which driver to use. You need to specify the following property somewhere:\nspring.datasource.driverClassName\nThere are other properties which you will need to specify, check the documentation.</p>\n"},{"tags":[],"owner":{"account_id":9293393,"reputation":1,"user_id":6901147,"display_name":"Ishan Joshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503817015,"creation_date":1503815830,"answer_id":45902314,"question_id":33709849,"body_markdown":"I Faced the same Problem, I solved it by simply adding an eclipselink-javax.persistence-2.0 jar in the classpath of my project.\r\nyou can download it from the link given below.\r\nor simply add the add the following dependency\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n[Jar download Link][1]\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.eclipse.persistence/javax.persistence/2.0.0","title":"BeanCreationException: Cannot determine embedded database driver class for database type NONE","body":"<p>I Faced the same Problem, I solved it by simply adding an eclipselink-javax.persistence-2.0 jar in the classpath of my project.\nyou can download it from the link given below.\nor simply add the add the following dependency</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n&lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\n&lt;version&gt;2.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><a href=\"https://mvnrepository.com/artifact/org.eclipse.persistence/javax.persistence/2.0.0\" rel=\"nofollow noreferrer\">Jar download Link</a></p>\n"},{"tags":[],"owner":{"account_id":12173205,"reputation":101,"user_id":8887170,"display_name":"Aleksander Ndoci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640703575,"creation_date":1640703575,"answer_id":70508804,"question_id":33709849,"body_markdown":"You either need to disable (exclude) DataSourceAutoConfiguration or delete your class PersistenceJPAConfig configuration for the datasource and configure it using application.properties.\r\n\r\nA good example in spring docs: https://spring.io/guides/gs/accessing-data-mysql/","title":"BeanCreationException: Cannot determine embedded database driver class for database type NONE","body":"<p>You either need to disable (exclude) DataSourceAutoConfiguration or delete your class PersistenceJPAConfig configuration for the datasource and configure it using application.properties.</p>\n<p>A good example in spring docs: <a href=\"https://spring.io/guides/gs/accessing-data-mysql/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/accessing-data-mysql/</a></p>\n"}],"owner":{"account_id":5412090,"reputation":311,"user_id":4308508,"accept_rate":70,"display_name":"Mathias Mahlknecht"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21050,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":3,"score":12,"last_activity_date":1695596795,"creation_date":1447514060,"question_id":33709849,"body_markdown":"I&#39;m trying to run my program, I always get this exception:\r\n\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Cannot determine embedded database driver class for database type NONE. If you want an embedded database please put a supported one on the classpath.\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.getDriverClassName(DataSourceProperties.java:137)\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$NonEmbeddedConfiguration.dataSource(DataSourceAutoConfiguration.java:117)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162)\r\n\t... 45 more\r\n\r\nI&#39;m importing all dependencies via gradle:\r\n\r\n    buildscript {\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:1.2.7.RELEASE&quot;)\r\n    }\r\n    }\r\n    \r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    apply plugin: &#39;idea&#39;\r\n    apply plugin: &#39;spring-boot&#39;\r\n    \r\n    jar {\r\n    baseName = &#39;flatify-backend-service&#39;\r\n    version =  &#39;0.1.0&#39;\r\n    }\r\n\r\n    repositories {\r\n    mavenCentral()\r\n    }\r\n\r\n    sourceCompatibility = 1.8\r\n    targetCompatibility = 1.8\r\n\r\n    dependencies {\r\n    compile(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n    compile &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    compile &#39;org.hibernate:hibernate-core:4.3.6.Final&#39;\r\n    compile &#39;javax.servlet:javax.servlet-api:3.1.0&#39;\r\n    compile &#39;org.javassist:javassist:3.15.0-GA&#39;\r\n    compile &#39;mysql:mysql-connector-java:5.1.31&#39;\r\n    compile &#39;commons-dbcp:commons-dbcp:1.4&#39;\r\n    testCompile(&quot;junit:junit&quot;)\r\n    testCompile(&quot;org.springframework:spring-test&quot;)\r\n    }\r\n\r\n    task wrapper(type: Wrapper) {\r\n    gradleVersion = &#39;2.5&#39;\r\n    }\r\n\r\nAs you can see I&#39;m adding the mysql-connector isn&#39;t that what&#39;s supposed to add the driver classes to my project?\r\nAm I missing something?\r\n\r\nI only added to last exception, because all others are caused by this one.\r\nIf you need any other details please let my know.\r\n\r\nThanks\r\n\r\nMy Config class:\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    public class PersistenceJPAConfig {\r\n\r\n    @Bean\r\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n        LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\r\n        em.setDataSource(dataSource());\r\n        em.setPackagesToScan(new String[] { &quot;at.flatify.persistance.entity&quot; });\r\n\r\n        JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n        em.setJpaVendorAdapter(vendorAdapter);\r\n        em.setJpaProperties(additionalProperties());\r\n\r\n        return em;\r\n    }\r\n\r\n   \r\n    @Bean(destroyMethod = &quot;close&quot;)\r\n    public DataSource dataSource() {\r\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n        dataSource.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;);\r\n        dataSource.setUrl(&quot;jdbc:mysql://localhost:3306/flatify&quot;);\r\n        dataSource.setUsername(&quot;user&quot;);\r\n        dataSource.setPassword(&quot;password&quot;);\r\n\r\n        return dataSource;\r\n    }\r\n\r\n    @Bean\r\n    public PlatformTransactionManager transactionManager(EntityManagerFactory emf){\r\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n        transactionManager.setEntityManagerFactory(emf);\r\n\r\n        return transactionManager;\r\n    }\r\n\r\n    @Bean\r\n    public PersistenceExceptionTranslationPostProcessor exceptionTranslation(){\r\n        return new PersistenceExceptionTranslationPostProcessor();\r\n    }\r\n\r\n    Properties additionalProperties() {\r\n        Properties properties = new Properties();\r\n        properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;create-drop&quot;);\r\n        properties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQL5Dialect&quot;);\r\n        return properties;\r\n    }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"BeanCreationException: Cannot determine embedded database driver class for database type NONE","body":"<p>I'm trying to run my program, I always get this exception:</p>\n\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Cannot determine embedded database driver class for database type NONE. If you want an embedded database please put a supported one on the classpath.\nat org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.getDriverClassName(DataSourceProperties.java:137)\nat org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$NonEmbeddedConfiguration.dataSource(DataSourceAutoConfiguration.java:117)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:497)\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162)\n... 45 more\n</code></pre>\n\n<p>I'm importing all dependencies via gradle:</p>\n\n<pre><code>buildscript {\nrepositories {\n    mavenCentral()\n}\ndependencies {\n    classpath(\"org.springframework.boot:spring-boot-gradle-plugin:1.2.7.RELEASE\")\n}\n}\n\napply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'idea'\napply plugin: 'spring-boot'\n\njar {\nbaseName = 'flatify-backend-service'\nversion =  '0.1.0'\n}\n\nrepositories {\nmavenCentral()\n}\n\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\ndependencies {\ncompile(\"org.springframework.boot:spring-boot-starter-web\")\ncompile 'org.springframework.boot:spring-boot-starter-data-jpa'\ncompile 'org.hibernate:hibernate-core:4.3.6.Final'\ncompile 'javax.servlet:javax.servlet-api:3.1.0'\ncompile 'org.javassist:javassist:3.15.0-GA'\ncompile 'mysql:mysql-connector-java:5.1.31'\ncompile 'commons-dbcp:commons-dbcp:1.4'\ntestCompile(\"junit:junit\")\ntestCompile(\"org.springframework:spring-test\")\n}\n\ntask wrapper(type: Wrapper) {\ngradleVersion = '2.5'\n}\n</code></pre>\n\n<p>As you can see I'm adding the mysql-connector isn't that what's supposed to add the driver classes to my project?\nAm I missing something?</p>\n\n<p>I only added to last exception, because all others are caused by this one.\nIf you need any other details please let my know.</p>\n\n<p>Thanks</p>\n\n<p>My Config class:</p>\n\n<pre><code>@Configuration\n@EnableTransactionManagement\npublic class PersistenceJPAConfig {\n\n@Bean\npublic LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n    LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\n    em.setDataSource(dataSource());\n    em.setPackagesToScan(new String[] { \"at.flatify.persistance.entity\" });\n\n    JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n    em.setJpaVendorAdapter(vendorAdapter);\n    em.setJpaProperties(additionalProperties());\n\n    return em;\n}\n\n\n@Bean(destroyMethod = \"close\")\npublic DataSource dataSource() {\n    DriverManagerDataSource dataSource = new DriverManagerDataSource();\n    dataSource.setDriverClassName(\"com.mysql.jdbc.Driver\");\n    dataSource.setUrl(\"jdbc:mysql://localhost:3306/flatify\");\n    dataSource.setUsername(\"user\");\n    dataSource.setPassword(\"password\");\n\n    return dataSource;\n}\n\n@Bean\npublic PlatformTransactionManager transactionManager(EntityManagerFactory emf){\n    JpaTransactionManager transactionManager = new JpaTransactionManager();\n    transactionManager.setEntityManagerFactory(emf);\n\n    return transactionManager;\n}\n\n@Bean\npublic PersistenceExceptionTranslationPostProcessor exceptionTranslation(){\n    return new PersistenceExceptionTranslationPostProcessor();\n}\n\nProperties additionalProperties() {\n    Properties properties = new Properties();\n    properties.setProperty(\"hibernate.hbm2ddl.auto\", \"create-drop\");\n    properties.setProperty(\"hibernate.dialect\", \"org.hibernate.dialect.MySQL5Dialect\");\n    return properties;\n}\n\n}\n</code></pre>\n"},{"tags":["java","kotlin","generics"],"comments":[{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1695584802,"post_id":77167829,"comment_id":136040580,"body_markdown":"Is there maybe an alternative function `bar()` which is not reified, but instead receives a `KClass`/`Class`?","body":"Is there maybe an alternative function <code>bar()</code> which is not reified, but instead receives a <code>KClass</code>/<code>Class</code>?"}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695591887,"creation_date":1695591887,"answer_id":77169050,"question_id":77167829,"body_markdown":"You can&#39;t. `reified` parameters are always `inline` as well, which allows the compiler to pass the *literal* class argument to the function. That&#39;s why you can do `T::class` on `reified` parameters.\r\n\r\nSo you cannot pass an &quot;unspecified&quot; `T` to a `reified` function. Only literals that the compiler can inline.","title":"Kotlin: how to call a inline generic method with the type parameter of the class","body":"<p>You can't. <code>reified</code> parameters are always <code>inline</code> as well, which allows the compiler to pass the <em>literal</em> class argument to the function. That's why you can do <code>T::class</code> on <code>reified</code> parameters.</p>\n<p>So you cannot pass an &quot;unspecified&quot; <code>T</code> to a <code>reified</code> function. Only literals that the compiler can inline.</p>\n"},{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695593534,"creation_date":1695593534,"answer_id":77169129,"question_id":77167829,"body_markdown":"&gt; o.bar&lt;T&gt;() //&lt;-- Compilation error here: Cannot use T as a reified type parameter\r\n\r\nthis error indicates that T is not reified type, meaning its type will be erased at runtime. Other.bar requires reified types because it will be inlined with it. There are not much you can do, only workaround I can suggest is below manual calling Other.bar with each known type used with Test class.\r\n\r\n\r\n    //you need to provide the type parameter to the function call\r\n    class Test&lt;T&gt;(private val clazz: Class&lt;T&gt;) {\r\n    \r\n        //this is a workaround function, it will allow for inlining with\r\n        //specified type - making it possible to use reified type in a call to Other.bar()\r\n        private inline fun &lt;reified U&gt; funnyBar(o: Other) {\r\n            o.bar&lt;U&gt;()\r\n        }\r\n    \r\n        fun foo() {\r\n            val o = Other()\r\n    \r\n            //ugly but works, you will need to add each type used\r\n            //with test in below when statement.\r\n            when (clazz) {\r\n                String::class.java -&gt; funnyBar&lt;String&gt;(o)\r\n                Int::class.java -&gt; funnyBar&lt;Int&gt;(o)\r\n                //...\r\n                else -&gt; throw IllegalArgumentException(&quot;add new type&quot;)\r\n            }\r\n        }\r\n    }\r\n    \r\n\r\n    //other stays unchanged\r\n    class Other {\r\n        inline fun &lt;reified K&gt; bar() {\r\n            val list = listOf&lt;K&gt;()\r\n        }\r\n    }\r\n    \r\n    fun main(args: Array&lt;String&gt;) {\r\n        val test = Test(String::class.java)\r\n        test.foo()\r\n    \r\n        val test2 = Test(Int::class.java)\r\n        test2.foo()\r\n    }\r\n\r\nyou can find more on reified types here : https://kotlinlang.org/docs/inline-functions.html#reified-type-parameters","title":"Kotlin: how to call a inline generic method with the type parameter of the class","body":"<blockquote>\n<p>o.bar() //&lt;-- Compilation error here: Cannot use T as a reified type parameter</p>\n</blockquote>\n<p>this error indicates that T is not reified type, meaning its type will be erased at runtime. Other.bar requires reified types because it will be inlined with it. There are not much you can do, only workaround I can suggest is below manual calling Other.bar with each known type used with Test class.</p>\n<pre><code>//you need to provide the type parameter to the function call\nclass Test&lt;T&gt;(private val clazz: Class&lt;T&gt;) {\n\n    //this is a workaround function, it will allow for inlining with\n    //specified type - making it possible to use reified type in a call to Other.bar()\n    private inline fun &lt;reified U&gt; funnyBar(o: Other) {\n        o.bar&lt;U&gt;()\n    }\n\n    fun foo() {\n        val o = Other()\n\n        //ugly but works, you will need to add each type used\n        //with test in below when statement.\n        when (clazz) {\n            String::class.java -&gt; funnyBar&lt;String&gt;(o)\n            Int::class.java -&gt; funnyBar&lt;Int&gt;(o)\n            //...\n            else -&gt; throw IllegalArgumentException(&quot;add new type&quot;)\n        }\n    }\n}\n\n\n//other stays unchanged\nclass Other {\n    inline fun &lt;reified K&gt; bar() {\n        val list = listOf&lt;K&gt;()\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val test = Test(String::class.java)\n    test.foo()\n\n    val test2 = Test(Int::class.java)\n    test2.foo()\n}\n</code></pre>\n<p>you can find more on reified types here : <a href=\"https://kotlinlang.org/docs/inline-functions.html#reified-type-parameters\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/inline-functions.html#reified-type-parameters</a></p>\n"}],"owner":{"account_id":184925,"reputation":2421,"user_id":421309,"accept_rate":71,"display_name":"sujith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695593534,"creation_date":1695570655,"question_id":77167829,"body_markdown":"I am trying to call an inline generic function \r\n\r\n```\r\nclass Test&lt;T&gt; {\r\n\r\n    fun foo() {\r\n        val o = Other()\r\n        o.bar&lt;T&gt;() //&lt;-- Compilation error here: Cannot use T as a reified type parameter\r\n    }\r\n}\r\n\r\nclass Other {\r\n    inline fun &lt;reified K&gt; bar() {\r\n        val list = listOf&lt;K&gt;()\r\n    }\r\n}\r\n\r\n```\r\n\r\nHere class `Other` is a library class I cannot control. Please let me know how to call the method bar() with generic type parameter from the `Test` class.","title":"Kotlin: how to call a inline generic method with the type parameter of the class","body":"<p>I am trying to call an inline generic function</p>\n<pre><code>class Test&lt;T&gt; {\n\n    fun foo() {\n        val o = Other()\n        o.bar&lt;T&gt;() //&lt;-- Compilation error here: Cannot use T as a reified type parameter\n    }\n}\n\nclass Other {\n    inline fun &lt;reified K&gt; bar() {\n        val list = listOf&lt;K&gt;()\n    }\n}\n\n</code></pre>\n<p>Here class <code>Other</code> is a library class I cannot control. Please let me know how to call the method bar() with generic type parameter from the <code>Test</code> class.</p>\n"},{"tags":["java","android","java-native-interface"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1695584405,"post_id":77168650,"comment_id":136040543,"body_markdown":"In terms of &quot;pull a single emoji from the OS set&quot;, what exactly is &quot;the OS set&quot;? In terms of &quot;render it to an image&quot;, what exactly are you looking for in terms of output? (PNG? `Bitmap`? something else?)","body":"In terms of &quot;pull a single emoji from the OS set&quot;, what exactly is &quot;the OS set&quot;? In terms of &quot;render it to an image&quot;, what exactly are you looking for in terms of output? (PNG? <code>Bitmap</code>? something else?)"},{"owner":{"account_id":1050965,"reputation":2101,"user_id":1054922,"accept_rate":62,"display_name":"user1054922"},"score":0,"creation_date":1695592487,"post_id":77168650,"comment_id":136041302,"body_markdown":"32-bit RGBA raw data, to be precise. But I imagine that I can find other information to convert to what I need once I get it rendered to an image of SOME kind.","body":"32-bit RGBA raw data, to be precise. But I imagine that I can find other information to convert to what I need once I get it rendered to an image of SOME kind."}],"answers":[{"tags":[],"owner":{"account_id":3660223,"reputation":6093,"user_id":3050249,"display_name":"Miha_x64"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695593484,"creation_date":1695593484,"answer_id":77169124,"question_id":77168650,"body_markdown":"1. Create a `Bitmap` (for 32-bit use `ARGB_8888` Config)\r\n2. Wrap it in `Canvas`\r\n3. Create `Paint` with the desired `Typeface` and `textSize`\r\n4. draw text on `Canvas` (`drawText()` function&#39;s y-coordinate is glyph baseline)\r\n5. read `Bitmap` contents (`getPixels()` or `copyPixelsToBuffer()`)","title":"Draw emoji to image in Android","body":"<ol>\n<li>Create a <code>Bitmap</code> (for 32-bit use <code>ARGB_8888</code> Config)</li>\n<li>Wrap it in <code>Canvas</code></li>\n<li>Create <code>Paint</code> with the desired <code>Typeface</code> and <code>textSize</code></li>\n<li>draw text on <code>Canvas</code> (<code>drawText()</code> function's y-coordinate is glyph baseline)</li>\n<li>read <code>Bitmap</code> contents (<code>getPixels()</code> or <code>copyPixelsToBuffer()</code>)</li>\n</ol>\n"}],"owner":{"account_id":1050965,"reputation":2101,"user_id":1054922,"accept_rate":62,"display_name":"user1054922"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695593484,"creation_date":1695584097,"question_id":77168650,"body_markdown":"I have a custom glyph rendering system in my UI. I need to be able to pull a single emoji from the Operating System&#39;s set and render it to an image in memory (i.e., 128x128 RGBA) for export to this glyph rendering system. I&#39;ve been able to find examples of this on iOS (and it works great when hooked up!), but how would this be done in Android Java? If there&#39;s a C/C++ JNI implementation that&#39;d be even better, but I imagine there isn&#39;t an API for this in the JNI Android libraries.\r\n\r\nI imagine I would need to DrawStringToRect() of some kind?\r\n\r\nAnd yes, I know it&#39;s horribly inefficient to use a single image per emoji. Emoji use is infrequent and not a hot path for this.","title":"Draw emoji to image in Android","body":"<p>I have a custom glyph rendering system in my UI. I need to be able to pull a single emoji from the Operating System's set and render it to an image in memory (i.e., 128x128 RGBA) for export to this glyph rendering system. I've been able to find examples of this on iOS (and it works great when hooked up!), but how would this be done in Android Java? If there's a C/C++ JNI implementation that'd be even better, but I imagine there isn't an API for this in the JNI Android libraries.</p>\n<p>I imagine I would need to DrawStringToRect() of some kind?</p>\n<p>And yes, I know it's horribly inefficient to use a single image per emoji. Emoji use is infrequent and not a hot path for this.</p>\n"},{"tags":["java","concurrency","memory-visibility"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1695590599,"post_id":77168973,"comment_id":136041149,"body_markdown":"Only the value, in this case a reference to an array, of the final field is fixed. The *contents* of the thing being referenced is not fixed.","body":"Only the value, in this case a reference to an array, of the final field is fixed. The <i>contents</i> of the thing being referenced is not fixed."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695590949,"post_id":77168973,"comment_id":136041192,"body_markdown":"@Bohemian But in this specific case, for `final` variables, yes, they are.","body":"@Bohemian But in this specific case, for <code>final</code> variables, yes, they are."},{"owner":{"account_id":29075771,"reputation":43,"user_id":22272977,"display_name":" "},"score":0,"creation_date":1695591045,"post_id":77168973,"comment_id":136041199,"body_markdown":"@rzwitserloot Does it mean that in first example we are guaranteed to see 4?","body":"@rzwitserloot Does it mean that in first example we are guaranteed to see 4?"},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695591792,"post_id":77168973,"comment_id":136041258,"body_markdown":"No, as `y` isn&#39;t `final`.","body":"No, as <code>y</code> isn&#39;t <code>final</code>."},{"owner":{"account_id":29075771,"reputation":43,"user_id":22272977,"display_name":" "},"score":0,"creation_date":1695592209,"post_id":77168973,"comment_id":136041286,"body_markdown":"@rzwitserloot Hmm, and if writing to arrays element is reordered with reference publishing by JIT or CPU? Can they do this?","body":"@rzwitserloot Hmm, and if writing to arrays element is reordered with reference publishing by JIT or CPU? Can they do this?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1695616258,"post_id":77168973,"comment_id":136043111,"body_markdown":"Immediately under [that code example in the JLS](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#d5e38815) is the text One thread might execute the method `writer` and another might execute the method `reader`.  That special circumstance is entirely the point of the example.","body":"Immediately under <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#d5e38815\" rel=\"nofollow noreferrer\">that code example in the JLS</a> is the text One thread might execute the method <code>writer</code> and another might execute the method <code>reader</code>.  That special circumstance is entirely the point of the example."}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1695593192,"creation_date":1695592565,"answer_id":77169088,"question_id":77168973,"body_markdown":"&gt; The JLS states that there is no guarantee that we will see `4` in reading `f.y`.\r\n\r\nYes, if one thread invokes `FinalFieldExample.reader()` and another invokes `FinalFieldExample.writer()`, with nothing to establish a happens-before relationship between these, then the program is not properly synchronized, and its behavior is undefined.  In particular, it is possible for the thread invoking `reader()` to observe a partially-initialized state of  `FinalFieldExample.f`.\r\n\r\n&gt; &gt;It will also see versions of any object or array referenced by those final fields that are at least as up-to-date as the final fields are.\r\n&gt;\r\n&gt; I don&#39;t understand this.\r\n\r\nA field whose type is a reference type -- a class, interface, or array type -- stores a *reference* to an object (or `null`), not the object itself.  The spec is saying that all writes to the referenced object that happened before the assignment of the final field&#39;s value will be visible to any thread that observes the field&#39;s (initialized) value.\r\n\r\n&gt; Imagine that we have the following code:\r\n&gt; \r\n&gt;     public FinalFieldExample() {\r\n&gt;             ar = new int[n]; // ar is final var\r\n&gt;             ar[0] = 1;\r\n&gt;         } \r\n&gt; \r\n&gt; Does it mean that we have guarantee that other thread will read array\r\n&gt; with 1 at first position?\r\n\r\nNo.  The assignment to `ar[0]` happens *after* the assignment to final variable `ar`.  It is not guaranteed that a thread that can observe the object in a partially-initialized state must read `1` from `ar[0]`.\r\n\r\n&gt;  Does freeze action happen at the end of constructor(during reference publication) or after each write to a final field?\r\n\r\nThe term &quot;freeze&quot; in this context refers to visibility guarantees related to the completion of the constructor.  That has nothing to do with the fact that the constructor can assign each otherwise uninitialized final field only once, or with the other visibility guarantee you asked about.","title":"When does freeze action happen in java constructor?","body":"<blockquote>\n<p>The JLS states that there is no guarantee that we will see <code>4</code> in reading <code>f.y</code>.</p>\n</blockquote>\n<p>Yes, if one thread invokes <code>FinalFieldExample.reader()</code> and another invokes <code>FinalFieldExample.writer()</code>, with nothing to establish a happens-before relationship between these, then the program is not properly synchronized, and its behavior is undefined.  In particular, it is possible for the thread invoking <code>reader()</code> to observe a partially-initialized state of  <code>FinalFieldExample.f</code>.</p>\n<blockquote>\n<blockquote>\n<p>It will also see versions of any object or array referenced by those final fields that are at least as up-to-date as the final fields are.</p>\n</blockquote>\n<p>I don't understand this.</p>\n</blockquote>\n<p>A field whose type is a reference type -- a class, interface, or array type -- stores a <em>reference</em> to an object (or <code>null</code>), not the object itself.  The spec is saying that all writes to the referenced object that happened before the assignment of the final field's value will be visible to any thread that observes the field's (initialized) value.</p>\n<blockquote>\n<p>Imagine that we have the following code:</p>\n<pre><code>public FinalFieldExample() {\n        ar = new int[n]; // ar is final var\n        ar[0] = 1;\n    } \n</code></pre>\n<p>Does it mean that we have guarantee that other thread will read array\nwith 1 at first position?</p>\n</blockquote>\n<p>No.  The assignment to <code>ar[0]</code> happens <em>after</em> the assignment to final variable <code>ar</code>.  It is not guaranteed that a thread that can observe the object in a partially-initialized state must read <code>1</code> from <code>ar[0]</code>.</p>\n<blockquote>\n<p>Does freeze action happen at the end of constructor(during reference publication) or after each write to a final field?</p>\n</blockquote>\n<p>The term &quot;freeze&quot; in this context refers to visibility guarantees related to the completion of the constructor.  That has nothing to do with the fact that the constructor can assign each otherwise uninitialized final field only once, or with the other visibility guarantee you asked about.</p>\n"}],"owner":{"account_id":29075771,"reputation":43,"user_id":22272977,"display_name":" "},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77169088,"answer_count":1,"score":3,"last_activity_date":1695593192,"creation_date":1695590223,"question_id":77168973,"body_markdown":"I am confused about final field semantics in java. I&#39;ve read 17.5 paragraph jls and found this example: \r\n\r\n```\r\nclass FinalFieldExample { \r\n    final int x;\r\n    int y; \r\n    static FinalFieldExample f;\r\n\r\n    public FinalFieldExample() {\r\n        x = 3; \r\n        y = 4; \r\n    } \r\n\r\n    static void writer() {\r\n        f = new FinalFieldExample();\r\n    } \r\n\r\n    static void reader() {\r\n        if (f != null) {\r\n            int i = f.x;  // guaranteed to see 3  \r\n            int j = f.y;  // could see 0\r\n        } \r\n    } \r\n}\r\n```\r\n\r\nThe JLS states that there is no guarantee that we will see `4` in reading `f.y`. And it also says next: \r\n\r\n&gt; It will also see versions of any object or array referenced by those final fields that are at least as up-to-date as the final fields are.\r\n\r\nI don&#39;t understand this.\r\nImagine that we have the following code:\r\n\r\n```\r\npublic FinalFieldExample() {\r\n        ar = new int[n]; // ar is final var\r\n        ar[0] = 1;\r\n    } \r\n```\r\nDoes it mean that we have guarantee that other thread will read array with 1 at first position?\r\nI heard yes. \r\nAnd I&#39;ve read that `freeze action` happens when we write to a final variable, but why we can read array with correct elements? (I found out it in [this article](https://dzone.com/articles/final-keyword-and-jvm-memory-impact).) Writing to final field happens before writing to array&#39;s first element.\r\n\r\nAnd if it is true, why in first example(with `x` and `y`) we don&#39;t have guarantees to see 4 in y?\r\n\r\nAnd my final question is:\r\nDoes freeze action happen at the end of constructor(during reference publication) or after each write to a final field?\r\n\r\n\r\nI&#39;ve read this [article ](https://shipilev.net/blog/2014/all-fields-are-final/) but didn&#39;t find example with 1 final and 1 non final writes in constructor. Alexey says that synthetic freeze happens at the end of constructor. Does it mean that we will see correct values in reading from non final variables initialized in constructor? Is writing to final variable enough to see writes to other non final variable?","title":"When does freeze action happen in java constructor?","body":"<p>I am confused about final field semantics in java. I've read 17.5 paragraph jls and found this example:</p>\n<pre><code>class FinalFieldExample { \n    final int x;\n    int y; \n    static FinalFieldExample f;\n\n    public FinalFieldExample() {\n        x = 3; \n        y = 4; \n    } \n\n    static void writer() {\n        f = new FinalFieldExample();\n    } \n\n    static void reader() {\n        if (f != null) {\n            int i = f.x;  // guaranteed to see 3  \n            int j = f.y;  // could see 0\n        } \n    } \n}\n</code></pre>\n<p>The JLS states that there is no guarantee that we will see <code>4</code> in reading <code>f.y</code>. And it also says next:</p>\n<blockquote>\n<p>It will also see versions of any object or array referenced by those final fields that are at least as up-to-date as the final fields are.</p>\n</blockquote>\n<p>I don't understand this.\nImagine that we have the following code:</p>\n<pre><code>public FinalFieldExample() {\n        ar = new int[n]; // ar is final var\n        ar[0] = 1;\n    } \n</code></pre>\n<p>Does it mean that we have guarantee that other thread will read array with 1 at first position?\nI heard yes.\nAnd I've read that <code>freeze action</code> happens when we write to a final variable, but why we can read array with correct elements? (I found out it in <a href=\"https://dzone.com/articles/final-keyword-and-jvm-memory-impact\" rel=\"nofollow noreferrer\">this article</a>.) Writing to final field happens before writing to array's first element.</p>\n<p>And if it is true, why in first example(with <code>x</code> and <code>y</code>) we don't have guarantees to see 4 in y?</p>\n<p>And my final question is:\nDoes freeze action happen at the end of constructor(during reference publication) or after each write to a final field?</p>\n<p>I've read this <a href=\"https://shipilev.net/blog/2014/all-fields-are-final/\" rel=\"nofollow noreferrer\">article </a> but didn't find example with 1 final and 1 non final writes in constructor. Alexey says that synthetic freeze happens at the end of constructor. Does it mean that we will see correct values in reading from non final variables initialized in constructor? Is writing to final variable enough to see writes to other non final variable?</p>\n"},{"tags":["java","gradle","antlr"],"comments":[{"owner":{"account_id":44195,"reputation":269033,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1522015889,"post_id":49481491,"comment_id":85965811,"body_markdown":"The snippet you&#39;re quoting is specifically meant to represent how to customise Gradle for a non-standard layout.","body":"The snippet you&#39;re quoting is specifically meant to represent how to customise Gradle for a non-standard layout."},{"owner":{"account_id":3715594,"reputation":166,"user_id":3091893,"display_name":"C2H6O"},"score":0,"creation_date":1522017274,"post_id":49481491,"comment_id":85966173,"body_markdown":"Do you know where I can find more info about this? It would never occur to me to either add &quot;/main&quot; after &quot;generated-src/antlr&quot; or to have antlr and main swap positions like that in the path.","body":"Do you know where I can find more info about this? It would never occur to me to either add &quot;/main&quot; after &quot;generated-src/antlr&quot; or to have antlr and main swap positions like that in the path."}],"answers":[{"tags":[],"owner":{"account_id":9949,"reputation":13854,"user_id":18591,"display_name":"Louis Jacomet"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1522070935,"creation_date":1522070935,"answer_id":49492652,"question_id":49481491,"body_markdown":"The [Gradle Java plugin convention][1] is to place source sets file as follows: `src/&lt;sourceSetName&gt;/&lt;type&gt;`\r\n\r\nThat means `src/main/java` for the main Java files of a module, `src/test/groovy` for the Groovy test files, etc ...\r\n\r\nAs you can see from the example I gave, that convention is also respected by other plugins, Groovy, Scala, Kotlin, ...\r\n\r\nNote that in the project above, locating the generated files inside the `build` directory would be better aligned with Gradle conventions as it would alleviate the need for modifying the `clean` task.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/java_plugin.html#sec:java_project_layout","title":"Gradle srcDirs path","body":"<p>The <a href=\"https://docs.gradle.org/current/userguide/java_plugin.html#sec:java_project_layout\" rel=\"nofollow noreferrer\">Gradle Java plugin convention</a> is to place source sets file as follows: <code>src/&lt;sourceSetName&gt;/&lt;type&gt;</code></p>\n\n<p>That means <code>src/main/java</code> for the main Java files of a module, <code>src/test/groovy</code> for the Groovy test files, etc ...</p>\n\n<p>As you can see from the example I gave, that convention is also respected by other plugins, Groovy, Scala, Kotlin, ...</p>\n\n<p>Note that in the project above, locating the generated files inside the <code>build</code> directory would be better aligned with Gradle conventions as it would alleviate the need for modifying the <code>clean</code> task.</p>\n"}],"owner":{"account_id":3715594,"reputation":166,"user_id":3091893,"display_name":"C2H6O"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695592835,"creation_date":1522015757,"question_id":49481491,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\nWhy is the path for sourceSets.generated.java.srcDirs &quot;generated-src/antlr/main&quot; and not &quot;generated-src/antlr&quot;?\r\n\r\nFrom the [documentation][2], it seems that the standard way of declaring a srcDir is to exclude the sourceSet name, for example:\r\n\r\n    sourceSets {\r\n        main {\r\n            java {\r\n                srcDirs = [&#39;src/java&#39;]\r\n            }\r\n            resources {\r\n                srcDirs = [&#39;src/resources&#39;]\r\n            }\r\n        }\r\n    }\r\n\r\nAny help is greatly appreciated.\r\n\r\nCheers.\r\n\r\n  [1]: https://i.stack.imgur.com/FzrBY.png\r\n  [2]: https://docs.gradle.org/current/userguide/java_plugin.html","title":"Gradle srcDirs path","body":"<p><a href=\"https://i.stack.imgur.com/FzrBY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FzrBY.png\" alt=\"enter image description here\"></a></p>\n\n<p>Why is the path for sourceSets.generated.java.srcDirs \"generated-src/antlr/main\" and not \"generated-src/antlr\"?</p>\n\n<p>From the <a href=\"https://docs.gradle.org/current/userguide/java_plugin.html\" rel=\"nofollow noreferrer\">documentation</a>, it seems that the standard way of declaring a srcDir is to exclude the sourceSet name, for example:</p>\n\n<pre><code>sourceSets {\n    main {\n        java {\n            srcDirs = ['src/java']\n        }\n        resources {\n            srcDirs = ['src/resources']\n        }\n    }\n}\n</code></pre>\n\n<p>Any help is greatly appreciated.</p>\n\n<p>Cheers.</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":2889245,"reputation":3533,"user_id":2478398,"display_name":"BeUndead"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1503104112,"creation_date":1503104112,"answer_id":45766678,"question_id":45766627,"body_markdown":"The `idea64.exe.vmoptions` defines the java options which IntelliJ itself launches with; not what a given run configuration will launch with.\r\n\r\nOnce you&#39;ve launched your program (via the little play icon next to your `main` method), it should appear in the run configurations drop down at the top.  If you go edit this, and add `-ea` to the VM Options field, you can then run it with assertions enabled.","title":"Why doesn&#39;t my assert doesn&#39;t work in IntelliJ?","body":"<p>The <code>idea64.exe.vmoptions</code> defines the java options which IntelliJ itself launches with; not what a given run configuration will launch with.</p>\n\n<p>Once you've launched your program (via the little play icon next to your <code>main</code> method), it should appear in the run configurations drop down at the top.  If you go edit this, and add <code>-ea</code> to the VM Options field, you can then run it with assertions enabled.</p>\n"},{"tags":[],"owner":{"account_id":6361823,"reputation":43,"user_id":4937095,"display_name":"giyoon21c"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1577836485,"creation_date":1577836485,"answer_id":59549204,"question_id":45766627,"body_markdown":"For Intellij 19.2 community version, I found the VM option to add -ea \r\nvia going to top menu and following Run -&gt; Edit Configurations... -&gt; VM options:\r\n","title":"Why doesn&#39;t my assert doesn&#39;t work in IntelliJ?","body":"<p>For Intellij 19.2 community version, I found the VM option to add -ea \nvia going to top menu and following Run -> Edit Configurations... -> VM options:</p>\n"},{"tags":[],"owner":{"account_id":28187622,"reputation":1,"user_id":21543542,"display_name":"Pavel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680986727,"creation_date":1680359179,"answer_id":75906823,"question_id":45766627,"body_markdown":"Add the following arguments to the VM Options field: `-enableassertions` OR `-ea`\r\n\r\nHow to do this using the local file:\r\nGo to Run | Edit Configurations | Modify options | add VM options | filed VM options\r\n\r\nAlternatives:\r\n1. Go to File | Settings | Build, Execution, Deployment | Build Tools | Maven | Runner | filed VM options\r\n2. Or check out this article on Advanced configurations: https://www.jetbrains.com/help/idea/tuning-the-ide.html?ysclid=lfy23e1f1778689033","title":"Why doesn&#39;t my assert doesn&#39;t work in IntelliJ?","body":"<p>Add the following arguments to the VM Options field: <code>-enableassertions</code> OR <code>-ea</code></p>\n<p>How to do this using the local file:\nGo to Run | Edit Configurations | Modify options | add VM options | filed VM options</p>\n<p>Alternatives:</p>\n<ol>\n<li>Go to File | Settings | Build, Execution, Deployment | Build Tools | Maven | Runner | filed VM options</li>\n<li>Or check out this article on Advanced configurations: <a href=\"https://www.jetbrains.com/help/idea/tuning-the-ide.html?ysclid=lfy23e1f1778689033\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/tuning-the-ide.html?ysclid=lfy23e1f1778689033</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5714780,"reputation":5395,"user_id":4515438,"accept_rate":0,"display_name":"Vahe Gharibyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685306013,"creation_date":1685306013,"answer_id":76353489,"question_id":45766627,"body_markdown":"Follow this step for enabling assertions in intellige ide.\r\n\r\n 1. Run/Debug configurations\r\n 2. Modify options\r\n 3. Add VM options  \r\n\r\nThen add `-enableassertions` or `-ea`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gDHoo.png","title":"Why doesn&#39;t my assert doesn&#39;t work in IntelliJ?","body":"<p>Follow this step for enabling assertions in intellige ide.</p>\n<ol>\n<li>Run/Debug configurations</li>\n<li>Modify options</li>\n<li>Add VM options</li>\n</ol>\n<p>Then add <code>-enableassertions</code> or <code>-ea</code></p>\n<p><a href=\"https://i.stack.imgur.com/gDHoo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gDHoo.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":20196349,"reputation":31,"user_id":14813211,"display_name":"notPlancha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695590237,"creation_date":1695590237,"answer_id":77168975,"question_id":45766627,"body_markdown":"I was having the same issue and none of the previous solutions were helping. \r\n\r\nTurns out that was because of how my project was setup. If it&#39;s running &quot;Current File&quot; as the configuration, it will quickly get the kotlin template to run the current file.\r\n\r\nSo if that&#39;s the case, Edit Configurations -&gt; Edit configuration templates (bottom left) -&gt; Kotlin -&gt; add -ea as a VM option","title":"Why doesn&#39;t my assert doesn&#39;t work in IntelliJ?","body":"<p>I was having the same issue and none of the previous solutions were helping.</p>\n<p>Turns out that was because of how my project was setup. If it's running &quot;Current File&quot; as the configuration, it will quickly get the kotlin template to run the current file.</p>\n<p>So if that's the case, Edit Configurations -&gt; Edit configuration templates (bottom left) -&gt; Kotlin -&gt; add -ea as a VM option</p>\n"}],"owner":{"account_id":357630,"reputation":10123,"user_id":697911,"accept_rate":53,"display_name":"user697911"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2980,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":45766678,"answer_count":5,"score":6,"last_activity_date":1695590237,"creation_date":1503103460,"question_id":45766627,"body_markdown":"In my Custom VM options in My IntelliJ, I have &quot;-ea&quot; in my idea64.exe.vmoptions. But why doesn&#39;t this report assertion error:\r\n\r\n    int a = 1;\r\n    int b = 2;\r\n    assert(a==b)\r\n\r\n","title":"Why doesn&#39;t my assert doesn&#39;t work in IntelliJ?","body":"<p>In my Custom VM options in My IntelliJ, I have \"-ea\" in my idea64.exe.vmoptions. But why doesn't this report assertion error:</p>\n\n<pre><code>int a = 1;\nint b = 2;\nassert(a==b)\n</code></pre>\n"},{"tags":["java","android","kotlin","kotlin-coroutines"],"answers":[{"tags":[],"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695590199,"creation_date":1695590199,"answer_id":77168972,"question_id":77168931,"body_markdown":"If we run two tasks, each of them in a separate thread, then whenever we have to switch execution from one task to the other, we have to switch CPU to execute another thread, which is a heavy operation. If we run two tasks using coroutines, we can switch between them by reusing the same thread and only switching its coroutine. This is much lighter. Most probably this is what resources you mentioned meant.\r\n\r\nAnother, and maybe even more important difference is in memory consumption. We can easily launch even a million of coroutines and they will be just fine. Trying to do the same with threads will most probably results in an out-of-memory error.","title":"Why kotlin coroutines don&#39;t require thread context switching","body":"<p>If we run two tasks, each of them in a separate thread, then whenever we have to switch execution from one task to the other, we have to switch CPU to execute another thread, which is a heavy operation. If we run two tasks using coroutines, we can switch between them by reusing the same thread and only switching its coroutine. This is much lighter. Most probably this is what resources you mentioned meant.</p>\n<p>Another, and maybe even more important difference is in memory consumption. We can easily launch even a million of coroutines and they will be just fine. Trying to do the same with threads will most probably results in an out-of-memory error.</p>\n"}],"owner":{"account_id":19119627,"reputation":41,"user_id":13963856,"display_name":"senior salaga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695590199,"creation_date":1695589422,"question_id":77168931,"body_markdown":"Many resources indicate that the kotlin coroutines are lightweight because they do not require switching the context of threads.\r\n\r\nAs you know, coroutines work on a thread pool, then why can&#39;t these threads have context switching? If there are more threads involved than processor cores?\r\n\r\nPlease help me figure this out","title":"Why kotlin coroutines don&#39;t require thread context switching","body":"<p>Many resources indicate that the kotlin coroutines are lightweight because they do not require switching the context of threads.</p>\n<p>As you know, coroutines work on a thread pool, then why can't these threads have context switching? If there are more threads involved than processor cores?</p>\n<p>Please help me figure this out</p>\n"},{"tags":["java","spring-boot","authentication","token","refresh-token"],"owner":{"account_id":19600097,"reputation":1,"user_id":14345150,"display_name":"Jean Fernandine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695589971,"creation_date":1695585853,"question_id":77168750,"body_markdown":"I am implementing the AuthorizationGrantType as shown in the code and passing the grand_type, username and password parameters in the body, but the refresh_token is not being displayed. I believe there is something missing in my configuration. I&#39;m using spring boot 3.1.1\r\n\r\n````\r\n@Bean\r\n    public RegisteredClientRepository registeredClientRepository() {\r\n        // @formatter:off\r\n        RegisteredClient registeredClient = RegisteredClient\r\n                .withId(UUID.randomUUID().toString())\r\n                .clientId(clientId)\r\n                .clientSecret(passwordEncoder.encode(clientSecret))\r\n                .scope(&quot;message.read&quot;)\r\n                .scope(&quot;message.write&quot;)\r\n                .scope(OidcScopes.OPENID)\r\n                .scope(OidcScopes.PROFILE)\r\n                .authorizationGrantType(AuthorizationGrantType.PASSWORD)\r\n                .authorizationGrantType(AuthorizationGrantType.REFRESH_TOKEN)\r\n                .tokenSettings(tokenSettings())\r\n                .clientSettings(clientSettings())\r\n                .build();\r\n        // @formatter:on\r\n\r\n        return new InMemoryRegisteredClientRepository(registeredClient);\r\n    }\r\n@Bean\r\n    UserDetailsService users() {\r\n        UserDetails user = User.withDefaultPasswordEncoder()\r\n                .username(&quot;admin&quot;)\r\n                .password(&quot;password&quot;)\r\n                .build();\r\n        return new InMemoryUserDetailsManager(user);\r\n    }\r\n\r\n@Bean\r\n    public TokenSettings tokenSettings() {\r\n        // @formatter:off\r\n        return TokenSettings.builder()\r\n                .accessTokenFormat(OAuth2TokenFormat.SELF_CONTAINED)\r\n                .accessTokenTimeToLive(Duration.ofDays(jwtDuration))\r\n                .refreshTokenTimeToLive(Duration.ofDays(45))\r\n                .build();\r\n        // @formatter:on\r\n    }\r\n\r\n   @Bean\r\n    public ClientSettings clientSettings() {\r\n        return ClientSettings.builder().build();\r\n    }\r\n@Bean\r\n    public OAuth2TokenGenerator&lt;? extends OAuth2Token&gt; tokenGenerator() {\r\n        NimbusJwtEncoder jwtEncoder = new NimbusJwtEncoder(jwkSource());\r\n        JwtGenerator jwtGenerator = new JwtGenerator(jwtEncoder);\r\n        jwtGenerator.setJwtCustomizer(tokenCustomizer());\r\n        OAuth2AccessTokenGenerator accessTokenGenerator = new OAuth2AccessTokenGenerator();\r\n        return new DelegatingOAuth2TokenGenerator(jwtGenerator, accessTokenGenerator);\r\n    }\r\n````\r\nThe authentication response is\r\n\r\n````\r\n{\r\n    &quot;access_token&quot;: &quot;eyJraWQiOiI1NWFhZjI3NS1lNDJhLTRkZmItYmNmOS02N2ZhYThjMjFhMzEiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzNTI2IiwiYXVkIjoiMzUyNiIsIm5iZiI6MTY5NTU4NTUwNCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwIiwiZXhwIjoxNjk4MTc3NTA0LCJpYXQiOjE2OTU1ODU1MDQsImF1dGhvcml0aWVzIjpbIlJPTEVfQ0xJRU5UIiwiUk9MRV9BRE1JTiJdLCJ1c2VybmFtZSI6Im1hcmlhQGdtYWlsLmNvbSJ9.fd08AvMCokiE7bFPaTStPSwGFC9L1qvuR0mDDe0FjkEv-7BwUZoUyj1F6zzYraR8nEjQDpYemVnVxyqTMQGBqetzg7sE6EiOm6GN3EV-Ymvu3Qi0Po4FGcbw46WHh1Qhi_ogbOWiGu9WqgBykK4fRMAR3ZtKJiLNuC-sYB91ctRghjuhxGUThdzoyySiKRrURTQs1yqR6FAgReQwm_iVNPl3IsJt4hlk_hajuavEJgGhwQ5AjHzx05Ik3YuKpknH9ZzYd8IQate9FV4twIkG5rUxp88i2LBkS-VPxKIxiutJm0fMSIbubpH9U-PDEOVEeSc2VXoOJxJhDq48ZgsMQg&quot;,\r\n    &quot;token_type&quot;: &quot;Bearer&quot;,\r\n    &quot;expires_in&quot;: 2592000\r\n````\r\nThanks!","title":"Refresh token is not being displayed in the client console","body":"<p>I am implementing the AuthorizationGrantType as shown in the code and passing the grand_type, username and password parameters in the body, but the refresh_token is not being displayed. I believe there is something missing in my configuration. I'm using spring boot 3.1.1</p>\n<pre><code>@Bean\n    public RegisteredClientRepository registeredClientRepository() {\n        // @formatter:off\n        RegisteredClient registeredClient = RegisteredClient\n                .withId(UUID.randomUUID().toString())\n                .clientId(clientId)\n                .clientSecret(passwordEncoder.encode(clientSecret))\n                .scope(&quot;message.read&quot;)\n                .scope(&quot;message.write&quot;)\n                .scope(OidcScopes.OPENID)\n                .scope(OidcScopes.PROFILE)\n                .authorizationGrantType(AuthorizationGrantType.PASSWORD)\n                .authorizationGrantType(AuthorizationGrantType.REFRESH_TOKEN)\n                .tokenSettings(tokenSettings())\n                .clientSettings(clientSettings())\n                .build();\n        // @formatter:on\n\n        return new InMemoryRegisteredClientRepository(registeredClient);\n    }\n@Bean\n    UserDetailsService users() {\n        UserDetails user = User.withDefaultPasswordEncoder()\n                .username(&quot;admin&quot;)\n                .password(&quot;password&quot;)\n                .build();\n        return new InMemoryUserDetailsManager(user);\n    }\n\n@Bean\n    public TokenSettings tokenSettings() {\n        // @formatter:off\n        return TokenSettings.builder()\n                .accessTokenFormat(OAuth2TokenFormat.SELF_CONTAINED)\n                .accessTokenTimeToLive(Duration.ofDays(jwtDuration))\n                .refreshTokenTimeToLive(Duration.ofDays(45))\n                .build();\n        // @formatter:on\n    }\n\n   @Bean\n    public ClientSettings clientSettings() {\n        return ClientSettings.builder().build();\n    }\n@Bean\n    public OAuth2TokenGenerator&lt;? extends OAuth2Token&gt; tokenGenerator() {\n        NimbusJwtEncoder jwtEncoder = new NimbusJwtEncoder(jwkSource());\n        JwtGenerator jwtGenerator = new JwtGenerator(jwtEncoder);\n        jwtGenerator.setJwtCustomizer(tokenCustomizer());\n        OAuth2AccessTokenGenerator accessTokenGenerator = new OAuth2AccessTokenGenerator();\n        return new DelegatingOAuth2TokenGenerator(jwtGenerator, accessTokenGenerator);\n    }\n</code></pre>\n<p>The authentication response is</p>\n<pre><code>{\n    &quot;access_token&quot;: &quot;eyJraWQiOiI1NWFhZjI3NS1lNDJhLTRkZmItYmNmOS02N2ZhYThjMjFhMzEiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzNTI2IiwiYXVkIjoiMzUyNiIsIm5iZiI6MTY5NTU4NTUwNCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwIiwiZXhwIjoxNjk4MTc3NTA0LCJpYXQiOjE2OTU1ODU1MDQsImF1dGhvcml0aWVzIjpbIlJPTEVfQ0xJRU5UIiwiUk9MRV9BRE1JTiJdLCJ1c2VybmFtZSI6Im1hcmlhQGdtYWlsLmNvbSJ9.fd08AvMCokiE7bFPaTStPSwGFC9L1qvuR0mDDe0FjkEv-7BwUZoUyj1F6zzYraR8nEjQDpYemVnVxyqTMQGBqetzg7sE6EiOm6GN3EV-Ymvu3Qi0Po4FGcbw46WHh1Qhi_ogbOWiGu9WqgBykK4fRMAR3ZtKJiLNuC-sYB91ctRghjuhxGUThdzoyySiKRrURTQs1yqR6FAgReQwm_iVNPl3IsJt4hlk_hajuavEJgGhwQ5AjHzx05Ik3YuKpknH9ZzYd8IQate9FV4twIkG5rUxp88i2LBkS-VPxKIxiutJm0fMSIbubpH9U-PDEOVEeSc2VXoOJxJhDq48ZgsMQg&quot;,\n    &quot;token_type&quot;: &quot;Bearer&quot;,\n    &quot;expires_in&quot;: 2592000\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","junit"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1695505523,"post_id":77161593,"comment_id":136034107,"body_markdown":"What result are you getting? And what is your question please be specific","body":"What result are you getting? And what is your question please be specific"}],"answers":[{"tags":[],"owner":{"account_id":11803185,"reputation":592,"user_id":8636342,"display_name":"Jeet Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695442318,"creation_date":1695442318,"answer_id":77161627,"question_id":77161593,"body_markdown":"In your code, the `doOnNext` operator is used for side effects, and it doesn&#39;t affect the test assertion. The `assertNotNull` call is not part of the reactive flow, so it doesn&#39;t get executed during the execution of the reactive stream.\r\n\r\nTo properly test the behavior of your `addVan` method, you should use a testing framework designed for reactive code, such as Project Reactor&#39;s `StepVerifier`. Here&#39;s how you can modify your test to use `StepVerifier`:\r\n\r\n```java\r\nimport reactor.test.StepVerifier;\r\n\r\n@SpringBootTest\r\npublic class ABCTests {\r\n\r\n    @Autowired\r\n    private VDao vDao;\r\n\r\n    @Test\r\n    public void addDummyVan() {\r\n        Mono&lt;Van&gt; vmono = Mono.just(createDummyVan());\r\n        \r\n        StepVerifier.create(vDao.addVan(vmono))\r\n            .expectNextMatches(v -&gt; v.getId() != null)\r\n            .verifyComplete();\r\n    }\r\n}\r\n```\r\n\r\nIn this modified test:\r\n\r\n1. We use `StepVerifier.create` to create a verifier for the reactive stream returned by `vDao.addVan(vmono)`.\r\n\r\n2. We use `expectNextMatches` to expect that the next element emitted by the stream (`v`) satisfies the condition that `v.getId()` is not null.\r\n\r\n3. We use `verifyComplete` to ensure that the stream completes successfully after emitting the expected element.\r\n\r\nWith this approach, the test will fail if the `addVan` method doesn&#39;t properly set the `id` field in the `Van` object before emitting it in the reactive stream. This allows you to test the behavior of your reactive code accurately.","title":"java springboot reactive assertNotNull doesn&#39;t work in Mono.doOnNext","body":"<p>In your code, the <code>doOnNext</code> operator is used for side effects, and it doesn't affect the test assertion. The <code>assertNotNull</code> call is not part of the reactive flow, so it doesn't get executed during the execution of the reactive stream.</p>\n<p>To properly test the behavior of your <code>addVan</code> method, you should use a testing framework designed for reactive code, such as Project Reactor's <code>StepVerifier</code>. Here's how you can modify your test to use <code>StepVerifier</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import reactor.test.StepVerifier;\n\n@SpringBootTest\npublic class ABCTests {\n\n    @Autowired\n    private VDao vDao;\n\n    @Test\n    public void addDummyVan() {\n        Mono&lt;Van&gt; vmono = Mono.just(createDummyVan());\n        \n        StepVerifier.create(vDao.addVan(vmono))\n            .expectNextMatches(v -&gt; v.getId() != null)\n            .verifyComplete();\n    }\n}\n</code></pre>\n<p>In this modified test:</p>\n<ol>\n<li><p>We use <code>StepVerifier.create</code> to create a verifier for the reactive stream returned by <code>vDao.addVan(vmono)</code>.</p>\n</li>\n<li><p>We use <code>expectNextMatches</code> to expect that the next element emitted by the stream (<code>v</code>) satisfies the condition that <code>v.getId()</code> is not null.</p>\n</li>\n<li><p>We use <code>verifyComplete</code> to ensure that the stream completes successfully after emitting the expected element.</p>\n</li>\n</ol>\n<p>With this approach, the test will fail if the <code>addVan</code> method doesn't properly set the <code>id</code> field in the <code>Van</code> object before emitting it in the reactive stream. This allows you to test the behavior of your reactive code accurately.</p>\n"}],"owner":{"account_id":29513834,"reputation":1,"user_id":22618246,"display_name":"Zbrplayz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695589891,"creation_date":1695441274,"question_id":77161593,"body_markdown":"I&#39;m trying to do unit test case here is my function..\r\n\r\n```java\r\n    @SpringBootTest\r\n    public class ABCTests{\r\n\r\n    @Autowired\r\n    private VDao vDao;\r\n    \r\n    @Test\r\n    public void addDummyVan() {\r\n        Mono&lt;Van&gt; vmono = Mono.just(createDummyVan());\r\n        vDao.addVan(vmono).doOnNext(v-&gt; assertNotNull(v.getId()));\r\n      }\r\n    }\r\n```\r\n\r\nTo test this. In `vDao.addVan` function, I&#39;m returning `Mono&lt;Van&gt;` where in van object keeping id value as null intentionally. But test case is still not failing. ","title":"java springboot reactive assertNotNull doesn&#39;t work in Mono.doOnNext","body":"<p>I'm trying to do unit test case here is my function..</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @SpringBootTest\n    public class ABCTests{\n\n    @Autowired\n    private VDao vDao;\n    \n    @Test\n    public void addDummyVan() {\n        Mono&lt;Van&gt; vmono = Mono.just(createDummyVan());\n        vDao.addVan(vmono).doOnNext(v-&gt; assertNotNull(v.getId()));\n      }\n    }\n</code></pre>\n<p>To test this. In <code>vDao.addVan</code> function, I'm returning <code>Mono&lt;Van&gt;</code> where in van object keeping id value as null intentionally. But test case is still not failing.</p>\n"},{"tags":["java","macos","osx-lion"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1328954653,"post_id":9239287,"comment_id":11637970,"body_markdown":"What is it you are trying to achieve?  Why use OS specific classes in an X-platform language?","body":"What is it you are trying to achieve?  Why use OS specific classes in an X-platform language?"},{"owner":{"account_id":1200685,"reputation":463,"user_id":1171415,"accept_rate":100,"display_name":"igor-so"},"score":1,"creation_date":1329226401,"post_id":9239287,"comment_id":11696328,"body_markdown":"This is a MacOS application. I need the classes for better integration with Mac OS.","body":"This is a MacOS application. I need the classes for better integration with Mac OS."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1329226962,"post_id":9239287,"comment_id":11696531,"body_markdown":"I did a quick check when you first mentioned it and it seems Java Web Start can do at least some of what the `ApplicationListener` can achieve.  Further, JWS can do it X-plat.","body":"I did a quick check when you first mentioned it and it seems Java Web Start can do at least some of what the <code>ApplicationListener</code> can achieve.  Further, JWS can do it X-plat."}],"answers":[{"tags":[],"owner":{"account_id":78133,"reputation":1090,"user_id":222564,"accept_rate":40,"display_name":"AaronJ"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1695589597,"creation_date":1421936222,"answer_id":28090946,"question_id":9239287,"body_markdown":"&gt; Please migrate to using the com.apple.eawt.Application.set*Handler() APIs if you want to hook into Open, Preferences, About, Quit menu items / events.\r\n\r\nFrom https://web.archive.org/web/20141020092159/http://lists.apple.com/archives/java-dev/2012/Jan/msg00101.html\r\n\r\nThe full response is\r\n\r\n&gt; As the deprecator of these APIs, I think I&#39;m qualified to answer this:\r\n&gt; \r\n&gt; Please migrate to using the com.apple.eawt.Application.set*Handler()\r\n&gt; APIs if you want to hook into Open, Preferences, About, Quit menu\r\n&gt; items / events. The full JavaDocs are in the appledocs.jar in the Java\r\n&gt; Developer Package&#39;s JDK at\r\n&gt; &lt;developer.apple.com/downloads/index.action?name=Java Developer&gt;, as\r\n&gt; well as a somewhat staler copy at\r\n&gt; [ ... broken link ...].\r\n&gt; \r\n&gt; Most people usually just want to implement the setQuitHandler() or use\r\n&gt; setQuitStrategy(), and maybe want setPreferencesHandler(). The old\r\n&gt; style ApplicationListener was a terrible interface, because it cross\r\n&gt; cut too many disparate concepts and forced an application to listen to\r\n&gt; all of them, and allowed multiple listeners to be notified about\r\n&gt; things that should only be handled by a single agent.\r\n&gt; \r\n&gt; Regards, Mike Swingler Java Engineering","title":"What is the alternative for deprecated com.apple.eawt.ApplicationListener","body":"<blockquote>\n<p>Please migrate to using the com.apple.eawt.Application.set*Handler() APIs if you want to hook into Open, Preferences, About, Quit menu items / events.</p>\n</blockquote>\n<p>From <a href=\"https://web.archive.org/web/20141020092159/http://lists.apple.com/archives/java-dev/2012/Jan/msg00101.html\" rel=\"nofollow noreferrer\">https://web.archive.org/web/20141020092159/http://lists.apple.com/archives/java-dev/2012/Jan/msg00101.html</a></p>\n<p>The full response is</p>\n<blockquote>\n<p>As the deprecator of these APIs, I think I'm qualified to answer this:</p>\n<p>Please migrate to using the com.apple.eawt.Application.set*Handler()\nAPIs if you want to hook into Open, Preferences, About, Quit menu\nitems / events. The full JavaDocs are in the appledocs.jar in the Java\nDeveloper Package's JDK at\n&lt;developer.apple.com/downloads/index.action?name=Java Developer&gt;, as\nwell as a somewhat staler copy at\n[ ... broken link ...].</p>\n<p>Most people usually just want to implement the setQuitHandler() or use\nsetQuitStrategy(), and maybe want setPreferencesHandler(). The old\nstyle ApplicationListener was a terrible interface, because it cross\ncut too many disparate concepts and forced an application to listen to\nall of them, and allowed multiple listeners to be notified about\nthings that should only be handled by a single agent.</p>\n<p>Regards, Mike Swingler Java Engineering</p>\n</blockquote>\n"}],"owner":{"account_id":1200685,"reputation":463,"user_id":1171415,"accept_rate":100,"display_name":"igor-so"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2959,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":28090946,"answer_count":1,"score":5,"last_activity_date":1695589597,"creation_date":1328954040,"question_id":9239287,"body_markdown":"ApplicationListener class in Apple&#39;s Java is deprecated. What is the alternative?\r\n\r\npackage: com.apple.eawt","title":"What is the alternative for deprecated com.apple.eawt.ApplicationListener","body":"<p>ApplicationListener class in Apple's Java is deprecated. What is the alternative?</p>\n\n<p>package: com.apple.eawt</p>\n"},{"tags":["java","bash"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":4,"creation_date":1509326801,"post_id":47006966,"comment_id":80960599,"body_markdown":"You should fix that syntax error on the line 1... Hint: Wherever you copied `(...)` from, it was not meant to be literal","body":"You should fix that syntax error on the line 1... Hint: Wherever you copied <code>(...)</code> from, it was not meant to be literal"},{"owner":{"account_id":2922622,"reputation":1030,"user_id":2504569,"accept_rate":20,"display_name":"Lucky Rana"},"score":1,"creation_date":1576208413,"post_id":47006966,"comment_id":104832959,"body_markdown":"export JAVA_HOME=$PATH:/usr/libexec/java_home worked for me","body":"export JAVA_HOME=$PATH:/usr/libexec/java_home worked for me"}],"answers":[{"tags":[],"owner":{"account_id":1452502,"reputation":923,"user_id":1368994,"display_name":"pradosh nair"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1595082676,"creation_date":1509328427,"answer_id":47007152,"question_id":47006966,"body_markdown":"Statement `export JAVA_HOME=$(/usr/libexec/java_home)` seems correct; bash would have evaluated the information within $() and returned a  blank if . \r\n\r\nLooks like a syntax error caused the error not to execute, leaving JAVA_HOME empty.\r\n\r\nThe usage of $() is discussed in this link. https://stackoverflow.com/questions/27472540/difference-between-and-in-bash-scripting.","title":"Mac echo $JAVA_HOME return blank","body":"<p>Statement <code>export JAVA_HOME=$(/usr/libexec/java_home)</code> seems correct; bash would have evaluated the information within $() and returned a  blank if .</p>\n<p>Looks like a syntax error caused the error not to execute, leaving JAVA_HOME empty.</p>\n<p>The usage of $() is discussed in this link. <a href=\"https://stackoverflow.com/questions/27472540/difference-between-and-in-bash-scripting\">Difference between ${} and $() in Bash</a>.</p>\n"},{"tags":[],"owner":{"account_id":1231743,"reputation":3244,"user_id":1196170,"accept_rate":48,"display_name":"jprism"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1509330028,"creation_date":1509330028,"answer_id":47007295,"question_id":47006966,"body_markdown":"$(str) where str should be a command. In your case, $(/usr/libexec/java_home) will return nothing. \r\nJust use \r\n\r\n    export JAVA_HOME=/usr/libexec/java_home ","title":"Mac echo $JAVA_HOME return blank","body":"<p>$(str) where str should be a command. In your case, $(/usr/libexec/java_home) will return nothing. \nJust use </p>\n\n<pre><code>export JAVA_HOME=/usr/libexec/java_home \n</code></pre>\n"},{"tags":[],"owner":{"account_id":8123020,"reputation":841,"user_id":6174065,"accept_rate":50,"display_name":"Capfer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1618643639,"creation_date":1618643639,"answer_id":67135660,"question_id":47006966,"body_markdown":"I have just run into this issue after installing Amazon Corretto jdk15. But, in my case, I just closed and reopened the terminal and everything worked, that is, by running \r\n\r\necho $JAVA_HOME\r\n\r\nIt prints out to the console: \r\n\r\n/Users/username/.sdkman/candidates/java/current. ","title":"Mac echo $JAVA_HOME return blank","body":"<p>I have just run into this issue after installing Amazon Corretto jdk15. But, in my case, I just closed and reopened the terminal and everything worked, that is, by running</p>\n<p>echo $JAVA_HOME</p>\n<p>It prints out to the console:</p>\n<p>/Users/username/.sdkman/candidates/java/current.</p>\n"},{"tags":[],"owner":{"account_id":21953309,"reputation":39,"user_id":16232228,"display_name":"Arsh_arshu"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1623790534,"creation_date":1623752742,"answer_id":67984496,"question_id":47006966,"body_markdown":"- Create a *.zshrc* file on your terminal\r\n\r\n      touch ~/.zshrc\r\n\r\n- now click *go -&gt; home -&gt; press shift+command+.* \r\n- You can now see the hidden files. Open *.zshrc* file and type:\r\n\r\n      export JAVA_HOME=$(/usr/libexec/java_home)\r\n      export PATH=/opt/homebrew/bin:$PATH","title":"Mac echo $JAVA_HOME return blank","body":"<ul>\n<li><p>Create a <em>.zshrc</em> file on your terminal</p>\n<pre><code>touch ~/.zshrc\n</code></pre>\n</li>\n<li><p>now click <em>go -&gt; home -&gt; press shift+command+.</em></p>\n</li>\n<li><p>You can now see the hidden files. Open <em>.zshrc</em> file and type:</p>\n<pre><code>export JAVA_HOME=$(/usr/libexec/java_home)\nexport PATH=/opt/homebrew/bin:$PATH\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16383558,"reputation":793,"user_id":11834297,"display_name":"sweetnandha cse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695589567,"creation_date":1695589567,"answer_id":77168937,"question_id":47006966,"body_markdown":"i have tired lot but i am getting same issue. while run echo $JAVA_HOME showing empty.\r\n\r\nafter research added one more path for set JAVA_HOME..\r\n\r\n    export JAVA_HOME=$(/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home)\r\n\r\nlike this. After removing above line its working fine for me.","title":"Mac echo $JAVA_HOME return blank","body":"<p>i have tired lot but i am getting same issue. while run echo $JAVA_HOME showing empty.</p>\n<p>after research added one more path for set JAVA_HOME..</p>\n<pre><code>export JAVA_HOME=$(/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home)\n</code></pre>\n<p>like this. After removing above line its working fine for me.</p>\n"}],"owner":{"account_id":1024518,"reputation":349,"user_id":1034127,"accept_rate":64,"display_name":"user1034127"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24776,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":5,"score":9,"last_activity_date":1695589567,"creation_date":1509326539,"question_id":47006966,"body_markdown":"I don&#39;t know why echo $JAVA_HOME return blank \r\n\r\nAbdelmajids-iMac:~ majid$ vi .profile\r\n\r\n    export PATH=/usr/local/bin:(...)\r\n    [[ -s &quot;$HOME/.rvm/scripts/rvm&quot; ]] &amp;&amp; source &quot;$HOME/.rvm/scripts/rvm&quot; # Load \r\n    RVM into a shell session *as a function*\r\n    export JAVA_HOME=$(/usr/libexec/java_home)\r\n    ~                                                                                                    \r\n\r\n    ~      \r\n\r\n\r\n    Abdelmajids-iMac:~ majid$ /usr/libexec/java_home\r\n    /Library/Java/JavaVirtualMachines/jdk1.8.0_151.jdk/Contents/Home\r\n    Abdelmajids-iMac:~ majid$ vi .bash_profile\r\n    Abdelmajids-iMac:~ majid$ source .bash_profile\r\n    -bash: .bash_profile: line 1: syntax error near unexpected token `(&#39;\r\n    -bash: .bash_profile: line 1: `export PATH=/usr/local/bin:(...)&#39;\r\n    Abdelmajids-iMac:~ majid$ echo  $JAVA_HOME\r\n    \r\n    Abdelmajids-iMac:~ majid$ ","title":"Mac echo $JAVA_HOME return blank","body":"<p>I don't know why echo $JAVA_HOME return blank </p>\n\n<p>Abdelmajids-iMac:~ majid$ vi .profile</p>\n\n<pre><code>export PATH=/usr/local/bin:(...)\n[[ -s \"$HOME/.rvm/scripts/rvm\" ]] &amp;&amp; source \"$HOME/.rvm/scripts/rvm\" # Load \nRVM into a shell session *as a function*\nexport JAVA_HOME=$(/usr/libexec/java_home)\n~                                                                                                    \n\n~      \n\n\nAbdelmajids-iMac:~ majid$ /usr/libexec/java_home\n/Library/Java/JavaVirtualMachines/jdk1.8.0_151.jdk/Contents/Home\nAbdelmajids-iMac:~ majid$ vi .bash_profile\nAbdelmajids-iMac:~ majid$ source .bash_profile\n-bash: .bash_profile: line 1: syntax error near unexpected token `('\n-bash: .bash_profile: line 1: `export PATH=/usr/local/bin:(...)'\nAbdelmajids-iMac:~ majid$ echo  $JAVA_HOME\n\nAbdelmajids-iMac:~ majid$ \n</code></pre>\n"},{"tags":["java","spring","maven","openapi-generator"],"comments":[{"owner":{"account_id":135407,"reputation":10653,"user_id":338249,"accept_rate":100,"display_name":"rjdkolb"},"score":0,"creation_date":1613575328,"post_id":62603923,"comment_id":117117682,"body_markdown":"related: https://github.com/OpenAPITools/openapi-generator/issues/5690","body":"related: <a href=\"https://github.com/OpenAPITools/openapi-generator/issues/5690\" rel=\"nofollow noreferrer\">github.com/OpenAPITools/openapi-generator/issues/5690</a>"}],"answers":[{"tags":[],"owner":{"account_id":8780998,"reputation":61,"user_id":6564625,"display_name":"Jfranky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593273319,"creation_date":1593273319,"answer_id":62612237,"question_id":62603923,"body_markdown":"I found out the problem, I can&#39;t heritage the dependecy of effective pom.xml of open API plugin, I had to add manually the dependecy, someone has better suggestion for this workaround","title":"Open Api Generator plugin does not work with Maven","body":"<p>I found out the problem, I can't heritage the dependecy of effective pom.xml of open API plugin, I had to add manually the dependecy, someone has better suggestion for this workaround</p>\n"}],"owner":{"account_id":8780998,"reputation":61,"user_id":6564625,"display_name":"Jfranky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13142,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1695589305,"creation_date":1593212096,"question_id":62603923,"body_markdown":"I am trying to generate Apis with openapi generator just when i run mvn compile seems like doesn&#39;t find any depenncy like jacks httprequest and so, i add the details down \r\ni added the plugin: \r\n \r\n\r\n    &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;!-- RELEASE_VERSION --&gt;\r\n                    &lt;version&gt;4.3.1&lt;/version&gt;\r\n                    &lt;!-- /RELEASE_VERSION --&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;generate&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;inputSpec&gt;${project.basedir}/src/main/resources/player.yml&lt;/inputSpec&gt;\r\n                                &lt;generatorName&gt;java&lt;/generatorName&gt;\r\n                                &lt;configOptions&gt;\r\n                                    &lt;sourceFolder&gt;src/gen/java/main&lt;/sourceFolder&gt;\r\n                                &lt;/configOptions&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\nwith this file player.yml:\r\n\r\n    openapi: 3.0.1\r\n    info:\r\n      title: Swagger Petstore\r\n      description: &#39;This is a sample server Petstore server.  You can find out more about     Swagger\r\n        at [http://swagger.io](http://swagger.io) or on [irc.freenode.net, #swagger](http://swagger.io/irc/).      For\r\n        this sample, you can use the api key `special-key` to test the authorization     filters.&#39;\r\n      termsOfService: http://swagger.io/terms/\r\n      contact:\r\n        email: apiteam@swagger.io\r\n      license:\r\n        name: Apache 2.0\r\n        url: http://www.apache.org/licenses/LICENSE-2.0.html\r\n      version: 1.0.0\r\n    externalDocs:\r\n      description: Find out more about Swagger\r\n      url: http://swagger.io\r\n    servers:\r\n      - url: https://petstore.swagger.io/v2\r\n      - url: http://petstore.swagger.io/v2\r\n    tags:\r\n      - name: pet\r\n        description: Everything about your Pets\r\n        externalDocs:\r\n          description: Find out more\r\n          url: http://swagger.io\r\n      - name: store\r\n        description: Access to Petstore orders\r\n      - name: user\r\n        description: Operations about user\r\n        externalDocs:\r\n          description: Find out more about our store\r\n          url: http://swagger.io\r\n    paths:\r\n      /cssl/player/{uuid}:\r\n        get:\r\n          tags:\r\n            - store\r\n          summary: Find purchase order by ID\r\n          description: For valid response try integer IDs with value &gt;= 1 and &lt;= 10.         Other\r\n            values will generated exceptions\r\n          operationId: getOrderById\r\n          parameters:\r\n            - name: uuid\r\n              in: path\r\n              description: ID of pet that needs to be fetched\r\n              required: true\r\n              schema:\r\n                maximum: 10.0\r\n                minimum: 1.0\r\n                type: integer\r\n                format: int64\r\n          responses:\r\n            200:\r\n              description: successful operation\r\n              content:\r\n                application/xml:\r\n                  schema:\r\n                    $ref: &#39;#/components/schemas/Player&#39;\r\n                application/json:\r\n                  schema:\r\n                    $ref: &#39;#/components/schemas/Player&#39;\r\n            400:\r\n              description: Invalid ID supplied\r\n              content: {}\r\n            404:\r\n              description: Order not found\r\n              content: {}\r\n        delete:\r\n          tags:\r\n            - store\r\n          summary: Delete purchase order by ID\r\n          description: For valid response try integer IDs with positive integer value.         Negative\r\n            or non-integer values will generate API errors\r\n          operationId: deleteOrder\r\n          parameters:\r\n            - name: uuid\r\n              in: path\r\n              description: ID of the order that needs to be deleted\r\n              required: true\r\n              schema:\r\n                minimum: 1.0\r\n                type: integer\r\n                format: int64\r\n          responses:\r\n            400:\r\n              description: Invalid ID supplied\r\n              content: {}\r\n            404:\r\n              description: Order not found\r\n              content: {}\r\n    components:\r\n      schemas:\r\n        Player:\r\n          type: object\r\n          properties:\r\n            uuid:\r\n              type: integer\r\n              format: int64\r\n            slName:\r\n              type: integer\r\n              format: int64\r\n            slLastname:\r\n              type: integer\r\n              format: int32\r\n\r\njust when i try to compile it doesn&#39;t find the dependencies givings errors like: \r\n\r\n       [DEBUG] incrementalBuildHelper#beforeRebuildExecution\r\n    [INFO] Compiling 33 source files to /home/francescolombardi/IdeaProjects/core-comunicator/target/classes\r\n    [DEBUG] incrementalBuildHelper#afterRebuildExecution\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] COMPILATION ERROR : \r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] /home/francescolombardi/IdeaProjects/core-comunicator/target/generated-sources/openapi/src/gen/java/main/org/openapitools/client/ApiClient.java:[17,29] package okhttp3.internal.http does not exist\r\n    [ERROR] /home/francescolombardi/IdeaProjects/core-comunicator/target/generated-sources/openapi/src/gen/java/main/org/openapitools/client/ApiClient.java:[18,28] package okhttp3.internal.tls does not exist\r\n    [ERROR] /home/francescolombardi/IdeaProjects/core-comunicator/target/generated-sources/openapi/src/gen/java/main/org/openapitools/client/ApiClient.java:[19,23] package okhttp3.logging does not exist\r\n    [ERROR] /home/francescolombardi/IdeaProjects/core-comunicator/target/generated-sources/openapi/src/gen/java/main/org/openapitools/client/ApiClient.java:[20,46] package okhttp3.logging.HttpLoggingInterceptor does not exist\r\n    [ERROR] /home/francescolombardi/IdeaProjects/core-comunicator/target/generated-sources/openapi/src/gen/java/main/org/openapitools/client/ApiClient.java:[21,12] package okio does not exist\r\n    [ERROR] /home/francescolombardi/IdeaProjects/core-comunicator/target/generated-sources/openapi/src/gen/java/main/org/openapitools/client/ApiClient.java:[22,12] package okio does not exist\r\n    [ERROR] /home/francescolombardi/IdeaProjects/core-comunicator/target/generated-sources/openapi/src/gen/java/main/org/openapitools/client/ApiClient.java:[74,13] cannot find symbol\r\n      symbol:   class OkHttpClient\r\n      location: class org.openapitools.client.ApiClient\r\n\r\n\r\nmy pom is: \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.cssl&lt;/groupId&gt;\r\n        &lt;artifactId&gt;core-comunicator&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;core-comunicator&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;14&lt;/java.version&gt;\r\n            &lt;openapi-generator-version&gt;4.3.1&lt;/openapi-generator-version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.4.18.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                &lt;version&gt;42.2.14&lt;/version&gt;\r\n    \r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;4.3.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.12&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.17&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.openapitools/openapi-generator --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;openapi-generator&lt;/artifactId&gt;\r\n                &lt;version&gt;4.3.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;spring-milestones&lt;/id&gt;\r\n                &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n                &lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n        &lt;build&gt;\r\n    \r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;!-- RELEASE_VERSION --&gt;\r\n                    &lt;version&gt;4.3.1&lt;/version&gt;\r\n                    &lt;!-- /RELEASE_VERSION --&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;generate&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;inputSpec&gt;${project.basedir}/src/main/resources/player.yml&lt;/inputSpec&gt;\r\n                                &lt;generatorName&gt;java&lt;/generatorName&gt;\r\n                                &lt;configOptions&gt;\r\n                                    &lt;sourceFolder&gt;src/gen/java/main&lt;/sourceFolder&gt;\r\n                                &lt;/configOptions&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;pluginRepositories&gt;\r\n            &lt;pluginRepository&gt;\r\n                &lt;id&gt;spring-milestones&lt;/id&gt;\r\n                &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n            &lt;/pluginRepository&gt;\r\n            &lt;pluginRepository&gt;\r\n                &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n                &lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/pluginRepository&gt;\r\n        &lt;/pluginRepositories&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"Open Api Generator plugin does not work with Maven","body":"<p>I am trying to generate Apis with openapi generator just when i run mvn compile seems like doesn't find any depenncy like jacks httprequest and so, i add the details down\ni added the plugin:</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n                &lt;!-- RELEASE_VERSION --&gt;\n                &lt;version&gt;4.3.1&lt;/version&gt;\n                &lt;!-- /RELEASE_VERSION --&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;inputSpec&gt;${project.basedir}/src/main/resources/player.yml&lt;/inputSpec&gt;\n                            &lt;generatorName&gt;java&lt;/generatorName&gt;\n                            &lt;configOptions&gt;\n                                &lt;sourceFolder&gt;src/gen/java/main&lt;/sourceFolder&gt;\n                            &lt;/configOptions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>with this file player.yml:</p>\n<pre><code>openapi: 3.0.1\ninfo:\n  title: Swagger Petstore\n  description: 'This is a sample server Petstore server.  You can find out more about     Swagger\n    at [http://swagger.io](http://swagger.io) or on [irc.freenode.net, #swagger](http://swagger.io/irc/).      For\n    this sample, you can use the api key `special-key` to test the authorization     filters.'\n  termsOfService: http://swagger.io/terms/\n  contact:\n    email: apiteam@swagger.io\n  license:\n    name: Apache 2.0\n    url: http://www.apache.org/licenses/LICENSE-2.0.html\n  version: 1.0.0\nexternalDocs:\n  description: Find out more about Swagger\n  url: http://swagger.io\nservers:\n  - url: https://petstore.swagger.io/v2\n  - url: http://petstore.swagger.io/v2\ntags:\n  - name: pet\n    description: Everything about your Pets\n    externalDocs:\n      description: Find out more\n      url: http://swagger.io\n  - name: store\n    description: Access to Petstore orders\n  - name: user\n    description: Operations about user\n    externalDocs:\n      description: Find out more about our store\n      url: http://swagger.io\npaths:\n  /cssl/player/{uuid}:\n    get:\n      tags:\n        - store\n      summary: Find purchase order by ID\n      description: For valid response try integer IDs with value &gt;= 1 and &lt;= 10.         Other\n        values will generated exceptions\n      operationId: getOrderById\n      parameters:\n        - name: uuid\n          in: path\n          description: ID of pet that needs to be fetched\n          required: true\n          schema:\n            maximum: 10.0\n            minimum: 1.0\n            type: integer\n            format: int64\n      responses:\n        200:\n          description: successful operation\n          content:\n            application/xml:\n              schema:\n                $ref: '#/components/schemas/Player'\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Player'\n        400:\n          description: Invalid ID supplied\n          content: {}\n        404:\n          description: Order not found\n          content: {}\n    delete:\n      tags:\n        - store\n      summary: Delete purchase order by ID\n      description: For valid response try integer IDs with positive integer value.         Negative\n        or non-integer values will generate API errors\n      operationId: deleteOrder\n      parameters:\n        - name: uuid\n          in: path\n          description: ID of the order that needs to be deleted\n          required: true\n          schema:\n            minimum: 1.0\n            type: integer\n            format: int64\n      responses:\n        400:\n          description: Invalid ID supplied\n          content: {}\n        404:\n          description: Order not found\n          content: {}\ncomponents:\n  schemas:\n    Player:\n      type: object\n      properties:\n        uuid:\n          type: integer\n          format: int64\n        slName:\n          type: integer\n          format: int64\n        slLastname:\n          type: integer\n          format: int32\n</code></pre>\n<p>just when i try to compile it doesn't find the dependencies givings errors like:</p>\n<pre><code>   [DEBUG] incrementalBuildHelper#beforeRebuildExecution\n[INFO] Compiling 33 source files to /home/francescolombardi/IdeaProjects/core-comunicator/target/classes\n[DEBUG] incrementalBuildHelper#afterRebuildExecution\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] /home/francescolombardi/IdeaProjects/core-comunicator/target/generated-sources/openapi/src/gen/java/main/org/openapitools/client/ApiClient.java:[17,29] package okhttp3.internal.http does not exist\n[ERROR] /home/francescolombardi/IdeaProjects/core-comunicator/target/generated-sources/openapi/src/gen/java/main/org/openapitools/client/ApiClient.java:[18,28] package okhttp3.internal.tls does not exist\n[ERROR] /home/francescolombardi/IdeaProjects/core-comunicator/target/generated-sources/openapi/src/gen/java/main/org/openapitools/client/ApiClient.java:[19,23] package okhttp3.logging does not exist\n[ERROR] /home/francescolombardi/IdeaProjects/core-comunicator/target/generated-sources/openapi/src/gen/java/main/org/openapitools/client/ApiClient.java:[20,46] package okhttp3.logging.HttpLoggingInterceptor does not exist\n[ERROR] /home/francescolombardi/IdeaProjects/core-comunicator/target/generated-sources/openapi/src/gen/java/main/org/openapitools/client/ApiClient.java:[21,12] package okio does not exist\n[ERROR] /home/francescolombardi/IdeaProjects/core-comunicator/target/generated-sources/openapi/src/gen/java/main/org/openapitools/client/ApiClient.java:[22,12] package okio does not exist\n[ERROR] /home/francescolombardi/IdeaProjects/core-comunicator/target/generated-sources/openapi/src/gen/java/main/org/openapitools/client/ApiClient.java:[74,13] cannot find symbol\n  symbol:   class OkHttpClient\n  location: class org.openapitools.client.ApiClient\n</code></pre>\n<p>my pom is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.cssl&lt;/groupId&gt;\n    &lt;artifactId&gt;core-comunicator&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;core-comunicator&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;14&lt;/java.version&gt;\n        &lt;openapi-generator-version&gt;4.3.1&lt;/openapi-generator-version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.4.18.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.2.14&lt;/version&gt;\n\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n            &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;4.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.12&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.openapitools/openapi-generator --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n            &lt;artifactId&gt;openapi-generator&lt;/artifactId&gt;\n            &lt;version&gt;4.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n    &lt;/dependencies&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;build&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n                &lt;!-- RELEASE_VERSION --&gt;\n                &lt;version&gt;4.3.1&lt;/version&gt;\n                &lt;!-- /RELEASE_VERSION --&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;inputSpec&gt;${project.basedir}/src/main/resources/player.yml&lt;/inputSpec&gt;\n                            &lt;generatorName&gt;java&lt;/generatorName&gt;\n                            &lt;configOptions&gt;\n                                &lt;sourceFolder&gt;src/gen/java/main&lt;/sourceFolder&gt;\n                            &lt;/configOptions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","web-services","rest"],"comments":[{"owner":{"account_id":1399324,"reputation":430,"user_id":1328393,"accept_rate":50,"display_name":"VaroX"},"score":0,"creation_date":1387534474,"post_id":14741133,"comment_id":31005154,"body_markdown":"I know it&#180;s late... but have you tried to remove the  **uc.setRequestProperty( &quot;Accept&quot;, &quot;text/xml&quot; );** line??","body":"I know it&#180;s late... but have you tried to remove the  <b>uc.setRequestProperty( &quot;Accept&quot;, &quot;text/xml&quot; );</b> line??"}],"answers":[{"tags":[],"owner":{"account_id":1238054,"reputation":4963,"user_id":1201235,"accept_rate":42,"display_name":"EdH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360195384,"creation_date":1360195384,"answer_id":14741282,"question_id":14741133,"body_markdown":"You don&#39;t need to roll your own.\r\n\r\n - If you want to write something, you can use Jersey, which has existing classes to act as Rest Clients (https://stackoverflow.com/questions/221442/rest-clients-for-java)\r\n - There are plenty of apps which exercise rest apis which you can use if you don&#39;t want to write something.  Google turns up plenty (like http://code.google.com/p/rest-client/)","title":"how to connect to REST web service from Java application","body":"<p>You don't need to roll your own.</p>\n\n<ul>\n<li>If you want to write something, you can use Jersey, which has existing classes to act as Rest Clients (<a href=\"https://stackoverflow.com/questions/221442/rest-clients-for-java\">Rest clients for Java?</a>)</li>\n<li>There are plenty of apps which exercise rest apis which you can use if you don't want to write something.  Google turns up plenty (like <a href=\"http://code.google.com/p/rest-client/\" rel=\"nofollow noreferrer\">http://code.google.com/p/rest-client/</a>)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458868543,"creation_date":1458868543,"answer_id":36212618,"question_id":14741133,"body_markdown":"You&#39;re using a DER file as your key store which is not supported by [Java \r\nCrypto][1] normally.  Use the keytool to create a JKS or some other supported keystore and then refer to it.\r\n\r\n[1]: http://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#KeyStore","title":"how to connect to REST web service from Java application","body":"<p>You're using a DER file as your key store which is not supported by <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#KeyStore\" rel=\"nofollow\">Java \nCrypto</a> normally.  Use the keytool to create a JKS or some other supported keystore and then refer to it.</p>\n"},{"tags":[],"owner":{"account_id":15529386,"reputation":56,"user_id":11203345,"display_name":"Carsten Spr&#228;ner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567584718,"creation_date":1567584718,"answer_id":57784137,"question_id":14741133,"body_markdown":"AMong all the frameworks for REST-Clients... did you try OpenFeign? It&#39;s a components from the NetFlix stack. Easy to use and fits into all the other \r\ncomponents of NetFlix.\r\n\r\nGive it a try: https://github.com/OpenFeign/feign\r\n","title":"how to connect to REST web service from Java application","body":"<p>AMong all the frameworks for REST-Clients... did you try OpenFeign? It's a components from the NetFlix stack. Easy to use and fits into all the other \ncomponents of NetFlix.</p>\n\n<p>Give it a try: <a href=\"https://github.com/OpenFeign/feign\" rel=\"nofollow noreferrer\">https://github.com/OpenFeign/feign</a></p>\n"}],"owner":{"account_id":2316883,"reputation":41,"user_id":2033733,"display_name":"dhananjay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1695589305,"creation_date":1360194666,"question_id":14741133,"body_markdown":"I have to test the EPA&#39;s Data Exchange Web Services. Since it is difficult to create 100 accounts, buildings, energy usage distributions, etc. I want to automate the process. I searched for code examples to do a simple GET. The best one I found was at http://pic.dhe.ibm.com/infocenter/tivihelp/v10r1/index.jsp?topic=%2Fcom.ibm.taddm.doc_7.2%2FSDKDevGuide%2Ft_cmdbsdk_restapi_java.html.  I modified this for my purposes.\r\n\r\n\r\n1. With the certificate, it is throwing an error at that line\r\n2. Without the certificate (commented out), the connection is timing out and throwing the exception at getResponseCode().\r\n\r\nI&#39;m not sure:\r\n\r\n1. What is the correct way of submitting a certificate\r\n2. If I am sending the credentials correctly\r\n3. If my code is incomplete, and therefore, the application is unable to get the response code\r\n4. I should be using Eclipse EE (with Web Tools Platform) and create Project &gt; Web Application, instead of Eclipse Juno (without WTP)\r\n\r\nThank you in advance.\r\n\r\n\r\n\r\n        package Package1;\r\n    \r\n    import java.io.*;\r\n    import java.util.*;\r\n    import java.lang.StringBuffer;\r\n    import java.net.*;\r\n    import java.net.HttpURLConnection;\r\n    import javax.net.ssl.HttpsURLConnection;\r\n    \r\n    public class Class1 {\r\n    \r\n    \t\t\r\n    \tpublic static void main (String args[]){\r\n    \r\n    \t\ttry{\t\t\t\r\n    \t\t\r\n    \t\t// set this property to the location of the cert file\r\n             System.setProperty(&quot;javax.net.ssl.trustStore&quot;,&quot;C:/Documents and Settings/bhattdr/Desktop/-.energystar.gov.der&quot;);\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\tString username = &quot;yy777PPP&quot;;\r\n    \t\tString password = &quot;yy777PPP&quot;;\r\n    \t\tString userpass = &quot;&quot;;\r\n    \t\t\t\t\r\n    \t\tURL url = new URL(&quot;https://portfoliomanager.energystar.gov/wstest/account&quot;);\r\n    //\t\tURLConnection uc = url.openConnection();\r\n            HttpsURLConnection uc = (HttpsURLConnection) url.openConnection();\r\n    \t\t\r\n    \t\tuserpass = username + &quot;:&quot; + password;\r\n    \t\tString basicAuth = &quot;Basic &quot; + javax.xml.bind.DatatypeConverter.printBase64Binary(userpass.getBytes());\r\n    \t\r\n    \t\tSystem.out.println(&quot;sending request...&quot;);\r\n    \t\t\r\n    \t\tuc.setRequestMethod(&quot;GET&quot;);\r\n            uc.setAllowUserInteraction(false);\r\n            uc.setDoOutput(true);\r\n            uc.setRequestProperty( &quot;Content-type&quot;, &quot;text/xml&quot; );\r\n            uc.setRequestProperty( &quot;Accept&quot;, &quot;text/xml&quot; );\r\n    \r\n    \t\tuc.setRequestProperty (&quot;Authorization&quot;, basicAuth);\r\n    \r\n    \t\tSystem.out.println(uc.getRequestProperties());\r\n    \r\n    \t\t              \r\n    //        uc.setRequestProperty( &quot;authorization&quot;, &quot;Basic &quot; + encode(&quot;administrator:collation&quot;));\r\n    \t\r\n    //        Map headerFields = uc.getHeaderFields();\r\n    //        System.out.println(&quot;header fields are: &quot; + headerFields);\r\n    \r\n    \t\t\r\n            int rspCode = uc.getResponseCode();\r\n    \r\n            if (rspCode == 200) {\r\n                InputStream is = uc.getInputStream();\r\n                InputStreamReader isr = new InputStreamReader(is);\r\n                BufferedReader br = new BufferedReader(isr);\r\n            \r\n                String nextLine = br.readLine();\r\n                while (nextLine != null) {\r\n                    System.out.println(nextLine);\r\n                    nextLine = br.readLine();\r\n                }\r\n    \r\n            }\r\n    \t\t}\r\n            \r\n    \t\tcatch(IOException e) { \r\n            \te.printStackTrace();\r\n            }\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\n","title":"how to connect to REST web service from Java application","body":"<p>I have to test the EPA's Data Exchange Web Services. Since it is difficult to create 100 accounts, buildings, energy usage distributions, etc. I want to automate the process. I searched for code examples to do a simple GET. The best one I found was at <a href=\"http://pic.dhe.ibm.com/infocenter/tivihelp/v10r1/index.jsp?topic=%2Fcom.ibm.taddm.doc_7.2%2FSDKDevGuide%2Ft_cmdbsdk_restapi_java.html\" rel=\"nofollow\">http://pic.dhe.ibm.com/infocenter/tivihelp/v10r1/index.jsp?topic=%2Fcom.ibm.taddm.doc_7.2%2FSDKDevGuide%2Ft_cmdbsdk_restapi_java.html</a>.  I modified this for my purposes.</p>\n\n<ol>\n<li>With the certificate, it is throwing an error at that line</li>\n<li>Without the certificate (commented out), the connection is timing out and throwing the exception at getResponseCode().</li>\n</ol>\n\n<p>I'm not sure:</p>\n\n<ol>\n<li>What is the correct way of submitting a certificate</li>\n<li>If I am sending the credentials correctly</li>\n<li>If my code is incomplete, and therefore, the application is unable to get the response code</li>\n<li>I should be using Eclipse EE (with Web Tools Platform) and create Project > Web Application, instead of Eclipse Juno (without WTP)</li>\n</ol>\n\n<p>Thank you in advance.</p>\n\n<pre><code>    package Package1;\n\nimport java.io.*;\nimport java.util.*;\nimport java.lang.StringBuffer;\nimport java.net.*;\nimport java.net.HttpURLConnection;\nimport javax.net.ssl.HttpsURLConnection;\n\npublic class Class1 {\n\n\n    public static void main (String args[]){\n\n        try{            \n\n        // set this property to the location of the cert file\n         System.setProperty(\"javax.net.ssl.trustStore\",\"C:/Documents and Settings/bhattdr/Desktop/-.energystar.gov.der\");   \n\n\n        String username = \"yy777PPP\";\n        String password = \"yy777PPP\";\n        String userpass = \"\";\n\n        URL url = new URL(\"https://portfoliomanager.energystar.gov/wstest/account\");\n//      URLConnection uc = url.openConnection();\n        HttpsURLConnection uc = (HttpsURLConnection) url.openConnection();\n\n        userpass = username + \":\" + password;\n        String basicAuth = \"Basic \" + javax.xml.bind.DatatypeConverter.printBase64Binary(userpass.getBytes());\n\n        System.out.println(\"sending request...\");\n\n        uc.setRequestMethod(\"GET\");\n        uc.setAllowUserInteraction(false);\n        uc.setDoOutput(true);\n        uc.setRequestProperty( \"Content-type\", \"text/xml\" );\n        uc.setRequestProperty( \"Accept\", \"text/xml\" );\n\n        uc.setRequestProperty (\"Authorization\", basicAuth);\n\n        System.out.println(uc.getRequestProperties());\n\n\n//        uc.setRequestProperty( \"authorization\", \"Basic \" + encode(\"administrator:collation\"));\n\n//        Map headerFields = uc.getHeaderFields();\n//        System.out.println(\"header fields are: \" + headerFields);\n\n\n        int rspCode = uc.getResponseCode();\n\n        if (rspCode == 200) {\n            InputStream is = uc.getInputStream();\n            InputStreamReader isr = new InputStreamReader(is);\n            BufferedReader br = new BufferedReader(isr);\n\n            String nextLine = br.readLine();\n            while (nextLine != null) {\n                System.out.println(nextLine);\n                nextLine = br.readLine();\n            }\n\n        }\n        }\n\n        catch(IOException e) { \n            e.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","annotation-processing"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1695605476,"post_id":77168919,"comment_id":136042252,"body_markdown":"The documentation for the whole interface explains this pretty clearly: &quot;This information may be used in an incremental environment to determine the need to rerun processors or remove generated files. Non-incremental environments may ignore the originating element information.&quot;","body":"The documentation for the whole interface explains this pretty clearly: &quot;This information may be used in an incremental environment to determine the need to rerun processors or remove generated files. Non-incremental environments may ignore the originating element information.&quot;"},{"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1695609656,"post_id":77168919,"comment_id":136042590,"body_markdown":"Diving into the source, it looks like that is originatingElements is passed, then it will try to make the created resource a sibling of the first element in the array. Specifically when trying to call [JavaFileManager.getFileForOutput](https://docs.oracle.com/en/java/javase/17/docs/api/java.compiler/javax/tools/JavaFileManager.html#getFileForOutput(javax.tools.JavaFileManager.Location,java.lang.String,java.lang.String,javax.tools.FileObject)) it will try to convert that first element to use as the sibling argument.","body":"Diving into the source, it looks like that is originatingElements is passed, then it will try to make the created resource a sibling of the first element in the array. Specifically when trying to call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.compiler/javax/tools/JavaFileManager.html#getFileForOutput(javax.tools.JavaFileManager.Location,java.lang.String,java.lang.String,javax.tools.FileObject)\" rel=\"nofollow noreferrer\">JavaFileManager.getFileForOutput</a> it will try to convert that first element to use as the sibling argument."}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695589149,"creation_date":1695589149,"question_id":77168919,"body_markdown":"Several Java annotation processing methods for creating files, such as [`createResouce()`][1], refer to &quot;originating elements&quot;:\r\n\r\n&gt; `originatingElements` - class or interface or package or module elements causally associated with the creation of this file, may be elided or `null`\r\n\r\nCan someone provide more clarity on what this means and in what circumstances I would want to provide an &quot;originating element&quot; when creating a file?\r\n\r\nIs this an existing element (such as the element that originally had the annotation being processed) for which I am creating the new file? But then how would the `originatingElements` be used? What difference would it make if I indicate them or not?\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.compiler/javax/annotation/processing/Filer.html#createResource(javax.tools.JavaFileManager.Location,java.lang.CharSequence,java.lang.CharSequence,javax.lang.model.element.Element...)","title":"Purpose of &quot;originating elements&quot; in Java annotation processing","body":"<p>Several Java annotation processing methods for creating files, such as <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.compiler/javax/annotation/processing/Filer.html#createResource(javax.tools.JavaFileManager.Location,java.lang.CharSequence,java.lang.CharSequence,javax.lang.model.element.Element...)\" rel=\"nofollow noreferrer\"><code>createResouce()</code></a>, refer to &quot;originating elements&quot;:</p>\n<blockquote>\n<p><code>originatingElements</code> - class or interface or package or module elements causally associated with the creation of this file, may be elided or <code>null</code></p>\n</blockquote>\n<p>Can someone provide more clarity on what this means and in what circumstances I would want to provide an &quot;originating element&quot; when creating a file?</p>\n<p>Is this an existing element (such as the element that originally had the annotation being processed) for which I am creating the new file? But then how would the <code>originatingElements</code> be used? What difference would it make if I indicate them or not?</p>\n"},{"tags":["java","xml","dom","xstream"],"owner":{"account_id":7895702,"reputation":1,"user_id":5964433,"display_name":"shwetabh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695588848,"creation_date":1695588780,"question_id":77168906,"body_markdown":"I have used xstream api to unmarshall the xml message and code is always failing \r\n# \r\n# **Code block:**\r\n\r\n```\r\n        XStream xStream=new XStream();\r\n        xStream.processAnnotations(ProjectDescription.class);\r\n        xStream.processAnnotations(Projects.class);\r\n        xStream.ignoreUnknownElements();\r\n        System.out.println(&quot;Unmarshalling begins...&quot;);\r\n        ProjectDescription appDesp = (ProjectDescription)         xStream.fromXML(&quot;checkxml.xml&quot;);\r\n```\r\n\r\n# **Entity class**\r\n**\r\nProjectDescription.class:**\r\n```\r\n\r\n@XStreamAlias(&quot;projectDescription&quot;)\r\npublic class ProjectDescription {\r\n    @XStreamAlias(&quot;name&quot;)\r\n    private String name;\r\n\r\n    @XStreamAlias(&quot;comment&quot;)\r\n    private String comment;\r\n\r\n    @XStreamImplicit\r\n    private List&lt;Projects&gt; projects = new ArrayList&lt;Projects&gt; ();\r\n\r\n\r\n\r\n\r\n}\r\n\r\n```\r\n**Project.class:**\r\n\r\n```\r\n@XStreamAlias(&quot;projects&quot;)\r\npublic class Projects {\r\n     @XStreamImplicit\r\n     private List&lt;String&gt; project= new ArrayList&lt;String&gt;();\r\n\r\n\r\n}\r\n```\r\n**Sample XML:**\r\n\r\n```\r\n&lt;projectDescription&gt;\r\n\t&lt;name&gt;SimpleApp&lt;/name&gt;\r\n\t&lt;comment&gt;&lt;/comment&gt;\r\n\t&lt;projects&gt;\r\n\t\t&lt;project&gt;Sampleshare&lt;/project&gt;\r\n\t\t&lt;project&gt;Sampleshare2&lt;/project&gt;\r\n\t\t&lt;project&gt;Samplestatic&lt;/project&gt;\r\n\t&lt;/projects&gt;\r\n&lt;/projectDescription&gt;\r\n```\r\n\r\nIt is erroring out with message:\r\n&gt; Caused by: org.xmlpull.v1.XmlPullParserException: only whitespace content allowed before start tag and not C (position: START_DOCUMENT seen C... @1:2) \r\n\r\nCan somebody guide me whereI am going wrong?\r\n\r\n\r\nI have tried both DOM parser and XStream api but same sample message stated above is working for DOM and not XStream.","title":"xstream api in java throwing error in xml parsing","body":"<p>I have used xstream api to unmarshall the xml message and code is always failing</p>\n<h1></h1>\n<h1><strong>Code block:</strong></h1>\n<pre><code>        XStream xStream=new XStream();\n        xStream.processAnnotations(ProjectDescription.class);\n        xStream.processAnnotations(Projects.class);\n        xStream.ignoreUnknownElements();\n        System.out.println(&quot;Unmarshalling begins...&quot;);\n        ProjectDescription appDesp = (ProjectDescription)         xStream.fromXML(&quot;checkxml.xml&quot;);\n</code></pre>\n<h1><strong>Entity class</strong></h1>\n<p>**\nProjectDescription.class:**</p>\n<pre><code>\n@XStreamAlias(&quot;projectDescription&quot;)\npublic class ProjectDescription {\n    @XStreamAlias(&quot;name&quot;)\n    private String name;\n\n    @XStreamAlias(&quot;comment&quot;)\n    private String comment;\n\n    @XStreamImplicit\n    private List&lt;Projects&gt; projects = new ArrayList&lt;Projects&gt; ();\n\n\n\n\n}\n\n</code></pre>\n<p><strong>Project.class:</strong></p>\n<pre><code>@XStreamAlias(&quot;projects&quot;)\npublic class Projects {\n     @XStreamImplicit\n     private List&lt;String&gt; project= new ArrayList&lt;String&gt;();\n\n\n}\n</code></pre>\n<p><strong>Sample XML:</strong></p>\n<pre><code>&lt;projectDescription&gt;\n    &lt;name&gt;SimpleApp&lt;/name&gt;\n    &lt;comment&gt;&lt;/comment&gt;\n    &lt;projects&gt;\n        &lt;project&gt;Sampleshare&lt;/project&gt;\n        &lt;project&gt;Sampleshare2&lt;/project&gt;\n        &lt;project&gt;Samplestatic&lt;/project&gt;\n    &lt;/projects&gt;\n&lt;/projectDescription&gt;\n</code></pre>\n<p>It is erroring out with message:</p>\n<blockquote>\n<p>Caused by: org.xmlpull.v1.XmlPullParserException: only whitespace content allowed before start tag and not C (position: START_DOCUMENT seen C... @1:2)</p>\n</blockquote>\n<p>Can somebody guide me whereI am going wrong?</p>\n<p>I have tried both DOM parser and XStream api but same sample message stated above is working for DOM and not XStream.</p>\n"},{"tags":["java","android-studio","bluetooth","thermal-printer"],"answers":[{"tags":[],"owner":{"account_id":19975371,"reputation":23,"user_id":14639838,"display_name":"Eder Alexis Pirsch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695588806,"creation_date":1695588806,"answer_id":77168909,"question_id":77168173,"body_markdown":"I resolved this issue making a split in the bitmap image and then adding the individual print commands per each one split\r\n\r\nhere is the split image:\r\n\r\n        public static ArrayList&lt;Bitmap&gt; splitBitmap(Bitmap image){\r\n        try{\r\n            ArrayList&lt;Bitmap&gt; listImages = new ArrayList&lt;Bitmap&gt;();\r\n\r\n            double splits = (double) image.getHeight() / (double) 255;\r\n            int splitInt = (int) Math.ceil((double) image.getHeight() / (double) 255);\r\n\r\n            for(int i = 0; i &lt; splitInt; i++){\r\n                if(i == (splitInt - 1)){\r\n                    Bitmap bm1 = Bitmap.createBitmap(image, 0, (255 * i), image.getWidth(), (image.getHeight() - (255 * i)));\r\n                    listImages.add(bm1);\r\n                }\r\n                else{\r\n                    Bitmap bm1 = Bitmap.createBitmap(image, 0, (255 * i), image.getWidth(), 255);\r\n                    listImages.add(bm1);\r\n                }\r\n            }\r\n            return listImages;\r\n        }\r\n        catch (Exception ex){\r\n            System.out.println(&quot;split: &quot;+ex.getMessage());\r\n        }\r\n        return null;\r\n    }\r\n\r\nand here is the method that create every print command in a list:\r\n\r\n    public static byte[] decodeBitmapBig(ArrayList&lt;Bitmap&gt; bmp){\r\n        List&lt;String&gt; commandList = new ArrayList&lt;String&gt;();\r\n        for (int z = 0 ; z &lt; bmp.size() ; z++){\r\n\r\n            int bmpWidth = bmp.get(z).getWidth();\r\n            int bmpHeight = bmp.get(z).getHeight();\r\n\r\n            List&lt;String&gt; list = new ArrayList&lt;String&gt;(); //binaryString list\r\n            StringBuffer sb;\r\n\r\n\r\n            int bitLen = bmpWidth / 8;\r\n            int zeroCount = bmpWidth % 8;\r\n\r\n            String zeroStr = &quot;&quot;;\r\n            if (zeroCount &gt; 0) {\r\n                bitLen = bmpWidth / 8 + 1;\r\n                for (int i = 0; i &lt; (8 - zeroCount); i++) {\r\n                    zeroStr = zeroStr + &quot;0&quot;;\r\n                }\r\n            }\r\n\r\n            for (int i = 0; i &lt; bmpHeight; i++) {\r\n                sb = new StringBuffer();\r\n                for (int j = 0; j &lt; bmpWidth; j++) {\r\n                    int color = bmp.get(z).getPixel(j, i);\r\n\r\n                    int r = (color &gt;&gt; 16) &amp; 0xff;\r\n                    int g = (color &gt;&gt; 8) &amp; 0xff;\r\n                    int b = color &amp; 0xff;\r\n\r\n                    // if color close to whitebit=&#39;0&#39;, else bit=&#39;1&#39;\r\n                    if (r &gt; 160 &amp;&amp; g &gt; 160 &amp;&amp; b &gt; 160)\r\n                        sb.append(&quot;0&quot;);\r\n                    else\r\n                        sb.append(&quot;1&quot;);\r\n                }\r\n                if (zeroCount &gt; 0) {\r\n                    sb.append(zeroStr);\r\n                }\r\n                list.add(sb.toString());\r\n            }\r\n\r\n            List&lt;String&gt; bmpHexList = binaryListToHexStringList(list);\r\n            String commandHexString = &quot;1D763000&quot;;\r\n            String widthHexString = Integer\r\n                    .toHexString(bmpWidth % 8 == 0 ? bmpWidth / 8\r\n                            : (bmpWidth / 8 + 1));\r\n\r\n            if (widthHexString.length() &gt; 2) {\r\n                Log.e(&quot;decodeBitmap error&quot;, &quot; width is too large&quot;);\r\n                return null;\r\n            } else if (widthHexString.length() == 1) {\r\n                widthHexString = &quot;0&quot; + widthHexString;\r\n            }\r\n            widthHexString = widthHexString + &quot;00&quot;;\r\n\r\n            String heightHexString = Integer.toHexString(bmpHeight);\r\n            if (heightHexString.length() &gt; 2) {\r\n                System.out.println(&quot;heightHexString.length(): &quot;+heightHexString.length()+&quot; heightHexString: &quot;+heightHexString);\r\n                Log.e(&quot;decodeBitmap error&quot;, &quot; height is too large&quot;);\r\n                return null;\r\n            } else if (heightHexString.length() == 1) {\r\n                heightHexString = &quot;0&quot; + heightHexString;\r\n            }\r\n            heightHexString = heightHexString + &quot;00&quot;;\r\n\r\n\r\n            System.out.println(&quot;commandHexString+widthHexString+heightHexString&quot;+ commandHexString+widthHexString+heightHexString);\r\n            commandList.add(commandHexString+widthHexString+heightHexString);\r\n            commandList.addAll(bmpHexList);\r\n        }\r\n        return hexList2Byte(commandList);\r\n    }","title":"Print Bitmap with height greater than 255 in thermal printer","body":"<p>I resolved this issue making a split in the bitmap image and then adding the individual print commands per each one split</p>\n<p>here is the split image:</p>\n<pre><code>    public static ArrayList&lt;Bitmap&gt; splitBitmap(Bitmap image){\n    try{\n        ArrayList&lt;Bitmap&gt; listImages = new ArrayList&lt;Bitmap&gt;();\n\n        double splits = (double) image.getHeight() / (double) 255;\n        int splitInt = (int) Math.ceil((double) image.getHeight() / (double) 255);\n\n        for(int i = 0; i &lt; splitInt; i++){\n            if(i == (splitInt - 1)){\n                Bitmap bm1 = Bitmap.createBitmap(image, 0, (255 * i), image.getWidth(), (image.getHeight() - (255 * i)));\n                listImages.add(bm1);\n            }\n            else{\n                Bitmap bm1 = Bitmap.createBitmap(image, 0, (255 * i), image.getWidth(), 255);\n                listImages.add(bm1);\n            }\n        }\n        return listImages;\n    }\n    catch (Exception ex){\n        System.out.println(&quot;split: &quot;+ex.getMessage());\n    }\n    return null;\n}\n</code></pre>\n<p>and here is the method that create every print command in a list:</p>\n<pre><code>public static byte[] decodeBitmapBig(ArrayList&lt;Bitmap&gt; bmp){\n    List&lt;String&gt; commandList = new ArrayList&lt;String&gt;();\n    for (int z = 0 ; z &lt; bmp.size() ; z++){\n\n        int bmpWidth = bmp.get(z).getWidth();\n        int bmpHeight = bmp.get(z).getHeight();\n\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;(); //binaryString list\n        StringBuffer sb;\n\n\n        int bitLen = bmpWidth / 8;\n        int zeroCount = bmpWidth % 8;\n\n        String zeroStr = &quot;&quot;;\n        if (zeroCount &gt; 0) {\n            bitLen = bmpWidth / 8 + 1;\n            for (int i = 0; i &lt; (8 - zeroCount); i++) {\n                zeroStr = zeroStr + &quot;0&quot;;\n            }\n        }\n\n        for (int i = 0; i &lt; bmpHeight; i++) {\n            sb = new StringBuffer();\n            for (int j = 0; j &lt; bmpWidth; j++) {\n                int color = bmp.get(z).getPixel(j, i);\n\n                int r = (color &gt;&gt; 16) &amp; 0xff;\n                int g = (color &gt;&gt; 8) &amp; 0xff;\n                int b = color &amp; 0xff;\n\n                // if color close to whitebit='0', else bit='1'\n                if (r &gt; 160 &amp;&amp; g &gt; 160 &amp;&amp; b &gt; 160)\n                    sb.append(&quot;0&quot;);\n                else\n                    sb.append(&quot;1&quot;);\n            }\n            if (zeroCount &gt; 0) {\n                sb.append(zeroStr);\n            }\n            list.add(sb.toString());\n        }\n\n        List&lt;String&gt; bmpHexList = binaryListToHexStringList(list);\n        String commandHexString = &quot;1D763000&quot;;\n        String widthHexString = Integer\n                .toHexString(bmpWidth % 8 == 0 ? bmpWidth / 8\n                        : (bmpWidth / 8 + 1));\n\n        if (widthHexString.length() &gt; 2) {\n            Log.e(&quot;decodeBitmap error&quot;, &quot; width is too large&quot;);\n            return null;\n        } else if (widthHexString.length() == 1) {\n            widthHexString = &quot;0&quot; + widthHexString;\n        }\n        widthHexString = widthHexString + &quot;00&quot;;\n\n        String heightHexString = Integer.toHexString(bmpHeight);\n        if (heightHexString.length() &gt; 2) {\n            System.out.println(&quot;heightHexString.length(): &quot;+heightHexString.length()+&quot; heightHexString: &quot;+heightHexString);\n            Log.e(&quot;decodeBitmap error&quot;, &quot; height is too large&quot;);\n            return null;\n        } else if (heightHexString.length() == 1) {\n            heightHexString = &quot;0&quot; + heightHexString;\n        }\n        heightHexString = heightHexString + &quot;00&quot;;\n\n\n        System.out.println(&quot;commandHexString+widthHexString+heightHexString&quot;+ commandHexString+widthHexString+heightHexString);\n        commandList.add(commandHexString+widthHexString+heightHexString);\n        commandList.addAll(bmpHexList);\n    }\n    return hexList2Byte(commandList);\n}\n</code></pre>\n"}],"owner":{"account_id":19975371,"reputation":23,"user_id":14639838,"display_name":"Eder Alexis Pirsch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695588806,"creation_date":1695576106,"question_id":77168173,"body_markdown":"i am trying to print a bitmap with **height supperior to 255 px** and the funcion that transform bitmap to bit array is not prepared to that heigths. when i tried to change the if for more heigth the printer sendme a empty label.\r\n\r\nhere is the &quot;if&quot; of heigh&#39;s: \r\n```\r\nString heightHexString = Integer.toHexString(bmpHeight);\r\n        if (heightHexString.length() &gt; 2) {\r\n            System.out.println(&quot;heightHexString.length(): &quot;+heightHexString.length()+&quot; heightHexString: &quot;+heightHexString);\r\n            Log.e(&quot;decodeBitmap error&quot;, &quot; height is too large&quot;);\r\n            return null;\r\n        } else if (heightHexString.length() == 1) {\r\n            heightHexString = &quot;0&quot; + heightHexString;\r\n        }\r\n        heightHexString = heightHexString + &quot;00&quot;;\r\n\r\n```\r\n\r\nthere is my full class:\r\n\r\n\r\n```\r\npackage pirsch.dev.masaprisaapp.Utilities;\r\n\r\nimport android.graphics.Bitmap;\r\nimport android.util.Log;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n/**\r\n * Created by imrankst1221@gmail.com\r\n *\r\n */\r\n\r\npublic class Utils {\r\n    // UNICODE 0x23 = #\r\n    public static final byte[] UNICODE_TEXT = new byte[] {0x23, 0x23, 0x23,\r\n            0x23, 0x23, 0x23,0x23, 0x23, 0x23,0x23, 0x23, 0x23,0x23, 0x23, 0x23,\r\n            0x23, 0x23, 0x23,0x23, 0x23, 0x23,0x23, 0x23, 0x23,0x23, 0x23, 0x23,\r\n            0x23, 0x23, 0x23};\r\n\r\n    private static String hexStr = &quot;0123456789ABCDEF&quot;;\r\n    private static String[] binaryArray = { &quot;0000&quot;, &quot;0001&quot;, &quot;0010&quot;, &quot;0011&quot;,\r\n            &quot;0100&quot;, &quot;0101&quot;, &quot;0110&quot;, &quot;0111&quot;, &quot;1000&quot;, &quot;1001&quot;, &quot;1010&quot;, &quot;1011&quot;,\r\n            &quot;1100&quot;, &quot;1101&quot;, &quot;1110&quot;, &quot;1111&quot; };\r\n\r\n    public static byte[] decodeBitmap(Bitmap bmp){\r\n        int bmpWidth = bmp.getWidth();\r\n        int bmpHeight = bmp.getHeight();\r\n\r\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;(); //binaryString list\r\n        StringBuffer sb;\r\n\r\n\r\n        int bitLen = bmpWidth / 8;\r\n        int zeroCount = bmpWidth % 8;\r\n\r\n        String zeroStr = &quot;&quot;;\r\n        if (zeroCount &gt; 0) {\r\n            bitLen = bmpWidth / 8 + 1;\r\n            for (int i = 0; i &lt; (8 - zeroCount); i++) {\r\n                zeroStr = zeroStr + &quot;0&quot;;\r\n            }\r\n        }\r\n\r\n        for (int i = 0; i &lt; bmpHeight; i++) {\r\n            sb = new StringBuffer();\r\n            for (int j = 0; j &lt; bmpWidth; j++) {\r\n                int color = bmp.getPixel(j, i);\r\n\r\n                int r = (color &gt;&gt; 16) &amp; 0xff;\r\n                int g = (color &gt;&gt; 8) &amp; 0xff;\r\n                int b = color &amp; 0xff;\r\n\r\n                // if color close to whitebit=&#39;0&#39;, else bit=&#39;1&#39;\r\n                if (r &gt; 160 &amp;&amp; g &gt; 160 &amp;&amp; b &gt; 160)\r\n                    sb.append(&quot;0&quot;);\r\n                else\r\n                    sb.append(&quot;1&quot;);\r\n            }\r\n            if (zeroCount &gt; 0) {\r\n                sb.append(zeroStr);\r\n            }\r\n            list.add(sb.toString());\r\n        }\r\n\r\n        List&lt;String&gt; bmpHexList = binaryListToHexStringList(list);\r\n        String commandHexString = &quot;1D763000&quot;;\r\n        String widthHexString = Integer\r\n                .toHexString(bmpWidth % 8 == 0 ? bmpWidth / 8\r\n                        : (bmpWidth / 8 + 1));\r\n\r\n        if (widthHexString.length() &gt; 2) {\r\n            Log.e(&quot;decodeBitmap error&quot;, &quot; width is too large&quot;);\r\n            return null;\r\n        } else if (widthHexString.length() == 1) {\r\n            widthHexString = &quot;0&quot; + widthHexString;\r\n        }\r\n        widthHexString = widthHexString + &quot;00&quot;;\r\n\r\n        String heightHexString = Integer.toHexString(bmpHeight);\r\n        if (heightHexString.length() &gt; 2) {\r\n            System.out.println(&quot;heightHexString.length(): &quot;+heightHexString.length()+&quot; heightHexString: &quot;+heightHexString);\r\n            Log.e(&quot;decodeBitmap error&quot;, &quot; height is too large&quot;);\r\n            return null;\r\n        } else if (heightHexString.length() == 1) {\r\n            heightHexString = &quot;0&quot; + heightHexString;\r\n        }\r\n        heightHexString = heightHexString + &quot;00&quot;;\r\n\r\n        List&lt;String&gt; commandList = new ArrayList&lt;String&gt;();\r\n        System.out.println(&quot;commandHexString+widthHexString+heightHexString&quot;+ commandHexString+widthHexString+heightHexString);\r\n        commandList.add(commandHexString+widthHexString+heightHexString);\r\n        commandList.addAll(bmpHexList);\r\n\r\n        return hexList2Byte(commandList);\r\n    }\r\n\r\n    \r\n\r\n    public static byte[] BitmapToByteArray(Bitmap bmp){\r\n        ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n        bmp.compress(Bitmap.CompressFormat.JPEG,100,stream);\r\n        byte[] byteArray = stream.toByteArray();\r\n\r\n        return byteArray;\r\n    }\r\n\r\n    public static List&lt;String&gt; binaryListToHexStringList(List&lt;String&gt; list) {\r\n        List&lt;String&gt; hexList = new ArrayList&lt;String&gt;();\r\n        for (String binaryStr : list) {\r\n            StringBuffer sb = new StringBuffer();\r\n            for (int i = 0; i &lt; binaryStr.length(); i += 8) {\r\n                String str = binaryStr.substring(i, i + 8);\r\n\r\n                String hexString = myBinaryStrToHexString(str);\r\n                sb.append(hexString);\r\n            }\r\n            hexList.add(sb.toString());\r\n        }\r\n        return hexList;\r\n\r\n    }\r\n\r\n    public static String myBinaryStrToHexString(String binaryStr) {\r\n        String hex = &quot;&quot;;\r\n        String f4 = binaryStr.substring(0, 4);\r\n        String b4 = binaryStr.substring(4, 8);\r\n        for (int i = 0; i &lt; binaryArray.length; i++) {\r\n            if (f4.equals(binaryArray[i]))\r\n                hex += hexStr.substring(i, i + 1);\r\n        }\r\n        for (int i = 0; i &lt; binaryArray.length; i++) {\r\n            if (b4.equals(binaryArray[i]))\r\n                hex += hexStr.substring(i, i + 1);\r\n        }\r\n\r\n        return hex;\r\n    }\r\n\r\n    public static byte[] hexList2Byte(List&lt;String&gt; list) {\r\n        List&lt;byte[]&gt; commandList = new ArrayList&lt;byte[]&gt;();\r\n\r\n        for (String hexStr : list) {\r\n            commandList.add(hexStringToBytes(hexStr));\r\n        }\r\n        byte[] bytes = sysCopy(commandList);\r\n        return bytes;\r\n    }\r\n\r\n    public static byte[] hexStringToBytes(String hexString) {\r\n        if (hexString == null || hexString.equals(&quot;&quot;)) {\r\n            return null;\r\n        }\r\n        hexString = hexString.toUpperCase();\r\n        int length = hexString.length() / 2;\r\n        char[] hexChars = hexString.toCharArray();\r\n        byte[] d = new byte[length];\r\n        for (int i = 0; i &lt; length; i++) {\r\n            int pos = i * 2;\r\n            d[i] = (byte) (charToByte(hexChars[pos]) &lt;&lt; 4 | charToByte(hexChars[pos + 1]));\r\n        }\r\n        return d;\r\n    }\r\n\r\n    public static byte[] sysCopy(List&lt;byte[]&gt; srcArrays) {\r\n        int len = 0;\r\n        for (byte[] srcArray : srcArrays) {\r\n            len += srcArray.length;\r\n        }\r\n        byte[] destArray = new byte[len];\r\n        int destLen = 0;\r\n        for (byte[] srcArray : srcArrays) {\r\n            System.arraycopy(srcArray, 0, destArray, destLen, srcArray.length);\r\n            destLen += srcArray.length;\r\n        }\r\n        return destArray;\r\n    }\r\n\r\n    private static byte charToByte(char c) {\r\n        return (byte) &quot;0123456789ABCDEF&quot;.indexOf(c);\r\n    }\r\n}\r\n\r\n```\r\nhere is the lines to send print:\r\n\r\n```\r\n    public void printPhotoLabel(Bitmap bitmap,byte[] arrrayImage) {\r\n        System.out.println(&quot;Poller width: &quot;+bitmap.getWidth()+&quot; height: &quot;+bitmap.getHeight());\r\n        Bitmap rescaled = Bitmap.createScaledBitmap(bitmap,125,205,true);\r\n        try {\r\n            if(rescaled!=null){\r\n\r\n                byte[] command = Utils.decodeBitmapBig(rescaled);\r\n                outputStream.write(PrinterCommands.ESC_ALIGN_LEFT);\r\n                outputStream.write(command);\r\n            }else{\r\n                System.out.println(&quot;Print Photo error, the file isn&#39;t exists&quot;);\r\n            }\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;image resource: &quot;+e.getMessage());\r\n        }\r\n    }\r\n```\r\n\r\ni want to **print scaled bitmap to double** than image below:\r\n[![enter image description here](https://i.stack.imgur.com/MVHQh.jpg)](https://i.stack.imgur.com/MVHQh.jpg)\r\n\r\nthe printer is very skinny because of that i want to print rotated image:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/LoXCZ.jpg)](https://i.stack.imgur.com/LoXCZ.jpg)\r\n\r\n\r\n1. i tried to print a bitmap image as a **byte array** in a **thermal printer** by **outputStream**.\r\n2. i expect **print a byte array** image with a good heigth for a label.\r\n3. when the height if more** bigger than 255** the function not work like i wish","title":"Print Bitmap with height greater than 255 in thermal printer","body":"<p>i am trying to print a bitmap with <strong>height supperior to 255 px</strong> and the funcion that transform bitmap to bit array is not prepared to that heigths. when i tried to change the if for more heigth the printer sendme a empty label.</p>\n<p>here is the &quot;if&quot; of heigh's:</p>\n<pre><code>String heightHexString = Integer.toHexString(bmpHeight);\n        if (heightHexString.length() &gt; 2) {\n            System.out.println(&quot;heightHexString.length(): &quot;+heightHexString.length()+&quot; heightHexString: &quot;+heightHexString);\n            Log.e(&quot;decodeBitmap error&quot;, &quot; height is too large&quot;);\n            return null;\n        } else if (heightHexString.length() == 1) {\n            heightHexString = &quot;0&quot; + heightHexString;\n        }\n        heightHexString = heightHexString + &quot;00&quot;;\n\n</code></pre>\n<p>there is my full class:</p>\n<pre><code>package pirsch.dev.masaprisaapp.Utilities;\n\nimport android.graphics.Bitmap;\nimport android.util.Log;\n\nimport java.io.ByteArrayOutputStream;\nimport java.util.ArrayList;\nimport java.util.List;\n\n/**\n * Created by imrankst1221@gmail.com\n *\n */\n\npublic class Utils {\n    // UNICODE 0x23 = #\n    public static final byte[] UNICODE_TEXT = new byte[] {0x23, 0x23, 0x23,\n            0x23, 0x23, 0x23,0x23, 0x23, 0x23,0x23, 0x23, 0x23,0x23, 0x23, 0x23,\n            0x23, 0x23, 0x23,0x23, 0x23, 0x23,0x23, 0x23, 0x23,0x23, 0x23, 0x23,\n            0x23, 0x23, 0x23};\n\n    private static String hexStr = &quot;0123456789ABCDEF&quot;;\n    private static String[] binaryArray = { &quot;0000&quot;, &quot;0001&quot;, &quot;0010&quot;, &quot;0011&quot;,\n            &quot;0100&quot;, &quot;0101&quot;, &quot;0110&quot;, &quot;0111&quot;, &quot;1000&quot;, &quot;1001&quot;, &quot;1010&quot;, &quot;1011&quot;,\n            &quot;1100&quot;, &quot;1101&quot;, &quot;1110&quot;, &quot;1111&quot; };\n\n    public static byte[] decodeBitmap(Bitmap bmp){\n        int bmpWidth = bmp.getWidth();\n        int bmpHeight = bmp.getHeight();\n\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;(); //binaryString list\n        StringBuffer sb;\n\n\n        int bitLen = bmpWidth / 8;\n        int zeroCount = bmpWidth % 8;\n\n        String zeroStr = &quot;&quot;;\n        if (zeroCount &gt; 0) {\n            bitLen = bmpWidth / 8 + 1;\n            for (int i = 0; i &lt; (8 - zeroCount); i++) {\n                zeroStr = zeroStr + &quot;0&quot;;\n            }\n        }\n\n        for (int i = 0; i &lt; bmpHeight; i++) {\n            sb = new StringBuffer();\n            for (int j = 0; j &lt; bmpWidth; j++) {\n                int color = bmp.getPixel(j, i);\n\n                int r = (color &gt;&gt; 16) &amp; 0xff;\n                int g = (color &gt;&gt; 8) &amp; 0xff;\n                int b = color &amp; 0xff;\n\n                // if color close to whitebit='0', else bit='1'\n                if (r &gt; 160 &amp;&amp; g &gt; 160 &amp;&amp; b &gt; 160)\n                    sb.append(&quot;0&quot;);\n                else\n                    sb.append(&quot;1&quot;);\n            }\n            if (zeroCount &gt; 0) {\n                sb.append(zeroStr);\n            }\n            list.add(sb.toString());\n        }\n\n        List&lt;String&gt; bmpHexList = binaryListToHexStringList(list);\n        String commandHexString = &quot;1D763000&quot;;\n        String widthHexString = Integer\n                .toHexString(bmpWidth % 8 == 0 ? bmpWidth / 8\n                        : (bmpWidth / 8 + 1));\n\n        if (widthHexString.length() &gt; 2) {\n            Log.e(&quot;decodeBitmap error&quot;, &quot; width is too large&quot;);\n            return null;\n        } else if (widthHexString.length() == 1) {\n            widthHexString = &quot;0&quot; + widthHexString;\n        }\n        widthHexString = widthHexString + &quot;00&quot;;\n\n        String heightHexString = Integer.toHexString(bmpHeight);\n        if (heightHexString.length() &gt; 2) {\n            System.out.println(&quot;heightHexString.length(): &quot;+heightHexString.length()+&quot; heightHexString: &quot;+heightHexString);\n            Log.e(&quot;decodeBitmap error&quot;, &quot; height is too large&quot;);\n            return null;\n        } else if (heightHexString.length() == 1) {\n            heightHexString = &quot;0&quot; + heightHexString;\n        }\n        heightHexString = heightHexString + &quot;00&quot;;\n\n        List&lt;String&gt; commandList = new ArrayList&lt;String&gt;();\n        System.out.println(&quot;commandHexString+widthHexString+heightHexString&quot;+ commandHexString+widthHexString+heightHexString);\n        commandList.add(commandHexString+widthHexString+heightHexString);\n        commandList.addAll(bmpHexList);\n\n        return hexList2Byte(commandList);\n    }\n\n    \n\n    public static byte[] BitmapToByteArray(Bitmap bmp){\n        ByteArrayOutputStream stream = new ByteArrayOutputStream();\n        bmp.compress(Bitmap.CompressFormat.JPEG,100,stream);\n        byte[] byteArray = stream.toByteArray();\n\n        return byteArray;\n    }\n\n    public static List&lt;String&gt; binaryListToHexStringList(List&lt;String&gt; list) {\n        List&lt;String&gt; hexList = new ArrayList&lt;String&gt;();\n        for (String binaryStr : list) {\n            StringBuffer sb = new StringBuffer();\n            for (int i = 0; i &lt; binaryStr.length(); i += 8) {\n                String str = binaryStr.substring(i, i + 8);\n\n                String hexString = myBinaryStrToHexString(str);\n                sb.append(hexString);\n            }\n            hexList.add(sb.toString());\n        }\n        return hexList;\n\n    }\n\n    public static String myBinaryStrToHexString(String binaryStr) {\n        String hex = &quot;&quot;;\n        String f4 = binaryStr.substring(0, 4);\n        String b4 = binaryStr.substring(4, 8);\n        for (int i = 0; i &lt; binaryArray.length; i++) {\n            if (f4.equals(binaryArray[i]))\n                hex += hexStr.substring(i, i + 1);\n        }\n        for (int i = 0; i &lt; binaryArray.length; i++) {\n            if (b4.equals(binaryArray[i]))\n                hex += hexStr.substring(i, i + 1);\n        }\n\n        return hex;\n    }\n\n    public static byte[] hexList2Byte(List&lt;String&gt; list) {\n        List&lt;byte[]&gt; commandList = new ArrayList&lt;byte[]&gt;();\n\n        for (String hexStr : list) {\n            commandList.add(hexStringToBytes(hexStr));\n        }\n        byte[] bytes = sysCopy(commandList);\n        return bytes;\n    }\n\n    public static byte[] hexStringToBytes(String hexString) {\n        if (hexString == null || hexString.equals(&quot;&quot;)) {\n            return null;\n        }\n        hexString = hexString.toUpperCase();\n        int length = hexString.length() / 2;\n        char[] hexChars = hexString.toCharArray();\n        byte[] d = new byte[length];\n        for (int i = 0; i &lt; length; i++) {\n            int pos = i * 2;\n            d[i] = (byte) (charToByte(hexChars[pos]) &lt;&lt; 4 | charToByte(hexChars[pos + 1]));\n        }\n        return d;\n    }\n\n    public static byte[] sysCopy(List&lt;byte[]&gt; srcArrays) {\n        int len = 0;\n        for (byte[] srcArray : srcArrays) {\n            len += srcArray.length;\n        }\n        byte[] destArray = new byte[len];\n        int destLen = 0;\n        for (byte[] srcArray : srcArrays) {\n            System.arraycopy(srcArray, 0, destArray, destLen, srcArray.length);\n            destLen += srcArray.length;\n        }\n        return destArray;\n    }\n\n    private static byte charToByte(char c) {\n        return (byte) &quot;0123456789ABCDEF&quot;.indexOf(c);\n    }\n}\n\n</code></pre>\n<p>here is the lines to send print:</p>\n<pre><code>    public void printPhotoLabel(Bitmap bitmap,byte[] arrrayImage) {\n        System.out.println(&quot;Poller width: &quot;+bitmap.getWidth()+&quot; height: &quot;+bitmap.getHeight());\n        Bitmap rescaled = Bitmap.createScaledBitmap(bitmap,125,205,true);\n        try {\n            if(rescaled!=null){\n\n                byte[] command = Utils.decodeBitmapBig(rescaled);\n                outputStream.write(PrinterCommands.ESC_ALIGN_LEFT);\n                outputStream.write(command);\n            }else{\n                System.out.println(&quot;Print Photo error, the file isn't exists&quot;);\n            }\n        } catch (Exception e) {\n            System.out.println(&quot;image resource: &quot;+e.getMessage());\n        }\n    }\n</code></pre>\n<p>i want to <strong>print scaled bitmap to double</strong> than image below:\n<a href=\"https://i.stack.imgur.com/MVHQh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MVHQh.jpg\" alt=\"enter image description here\" /></a></p>\n<p>the printer is very skinny because of that i want to print rotated image:</p>\n<p><a href=\"https://i.stack.imgur.com/LoXCZ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LoXCZ.jpg\" alt=\"enter image description here\" /></a></p>\n<ol>\n<li>i tried to print a bitmap image as a <strong>byte array</strong> in a <strong>thermal printer</strong> by <strong>outputStream</strong>.</li>\n<li>i expect <strong>print a byte array</strong> image with a good heigth for a label.</li>\n<li>when the height if more** bigger than 255** the function not work like i wish</li>\n</ol>\n"},{"tags":["java","spring-boot","spring-mvc","spring-boot-test"],"comments":[{"owner":{"account_id":2966530,"reputation":871,"user_id":2519566,"display_name":"Frank W"},"score":0,"creation_date":1695590378,"post_id":77168886,"comment_id":136041133,"body_markdown":"What version of Spring/Spring Boot are you using?","body":"What version of Spring/Spring Boot are you using?"},{"owner":{"account_id":3428378,"reputation":337,"user_id":2873514,"accept_rate":75,"display_name":"soso"},"score":0,"creation_date":1695591230,"post_id":77168886,"comment_id":136041218,"body_markdown":"I am using spring-boot v2.5.15","body":"I am using spring-boot v2.5.15"},{"owner":{"account_id":2966530,"reputation":871,"user_id":2519566,"display_name":"Frank W"},"score":2,"creation_date":1695597322,"post_id":77168886,"comment_id":136041609,"body_markdown":"On the GitHub repo they suggest Spring Boot 2 users to use 0.27.0, whereas for Spring Boot 3 they recommend &gt;= 0.28.0 which was published earlier this year.\n\nDid you check if your problem-spring-web is still compatible with your Spring Boot version?","body":"On the GitHub repo they suggest Spring Boot 2 users to use 0.27.0, whereas for Spring Boot 3 they recommend &gt;= 0.28.0 which was published earlier this year.  Did you check if your problem-spring-web is still compatible with your Spring Boot version?"},{"owner":{"account_id":3428378,"reputation":337,"user_id":2873514,"accept_rate":75,"display_name":"soso"},"score":0,"creation_date":1695624292,"post_id":77168886,"comment_id":136043898,"body_markdown":"@FrankW You are right, my bad it is mentioned in here https://github.com/zalando/problem-spring-web#:~:text=Spring%205%20(or%20Spring%20Boot%202)%20users%20may%20use%20version%200.27.0","body":"@FrankW You are right, my bad it is mentioned in here <a href=\"https://github.com/zalando/problem-spring-web#:~:text=Spring%205%20(or%20Spring%20Boot%202)%20users%20may%20use%20version%200.27.0\" rel=\"nofollow noreferrer\">github.com/zalando/&hellip;</a>"},{"owner":{"account_id":2966530,"reputation":871,"user_id":2519566,"display_name":"Frank W"},"score":0,"creation_date":1695647299,"post_id":77168886,"comment_id":136048315,"body_markdown":"did that resolve it for you though?","body":"did that resolve it for you though?"},{"owner":{"account_id":3428378,"reputation":337,"user_id":2873514,"accept_rate":75,"display_name":"soso"},"score":1,"creation_date":1695656353,"post_id":77168886,"comment_id":136050452,"body_markdown":"@FrankW Yes, using version 0.27.0 works since I was using spring-boot v2.5.15","body":"@FrankW Yes, using version 0.27.0 works since I was using spring-boot v2.5.15"}],"owner":{"account_id":3428378,"reputation":337,"user_id":2873514,"accept_rate":75,"display_name":"soso"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695588347,"creation_date":1695588347,"question_id":77168886,"body_markdown":"I am working on a Spring Boot project where I am using the **problem-spring-web** dependency for exception handling.\r\n\r\nHere is my **ControllerAdvice**:\r\n```\r\npackage com.example.demo.error;\r\n\r\n//... other imports ...\r\n\r\n@ControllerAdvice\r\npublic class SpringBootProblemHandling implements ProblemHandling {\r\n\r\n    // ... class content ...\r\n\r\n    @ExceptionHandler\r\n    public ResponseEntity&lt;Problem&gt; handleGenericException(\r\n          Exception exception,\r\n          NativeWebRequest request) {\r\n        \r\n        //... method implementation ...\r\n    }\r\n}\r\n\r\n```\r\nI also have a corresponding test class:\r\n```\r\npackage com.example.demo.error;\r\n\r\n//... other imports ...\r\n\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic class SpringBootProblemHandlingTest {\r\n\r\n    private SpringBootProblemHandling problemHandling = new SpringBootProblemHandling();\r\n\r\n    private ServletWebRequest request = new ServletWebRequest(new MockHttpServletRequest());\r\n\r\n    @Test\r\n    public void handleGenericException() {\r\n        ResponseEntity&lt;Problem&gt; problemRE = problemHandling.handleGenericException(new Exception(), request);\r\n\r\n        assertEquals(INTERNAL_SERVER_ERROR, problemRE.getStatusCode());\r\n    }\r\n}\r\n```\r\n\r\nWhen using the dependency *org.zalando:problem-spring-web:0.27.0*, the test runs with no problem, but when I change the *problem-spring-web* version to ***0.29.1***, I get the following exception:\r\n```\r\njava.lang.NoClassDefFoundError: org/springframework/http/HttpStatusCode\r\n\r\n```\r\nThis error occurs at the line where the **SpringBootProblemHandling** object is created in the test class:\r\n```\r\nprivate SpringBootProblemHandling problemHandling = new SpringBootProblemHandling();\r\n\r\n```\r\nI have checked: \r\n1. if there is any breaking change in the release notes between the two versions but couldnt find any information related to this issue.\r\n2. tried not to instantiate **SpringBootProblemHandling** directly using the new keyword, instead to use auto wire but this also did not help","title":"java: NoClassDefFoundError when upgrading problem-spring-web dependency from v0.27.0 to v0.29.1 in Spring Boot Application","body":"<p>I am working on a Spring Boot project where I am using the <strong>problem-spring-web</strong> dependency for exception handling.</p>\n<p>Here is my <strong>ControllerAdvice</strong>:</p>\n<pre><code>package com.example.demo.error;\n\n//... other imports ...\n\n@ControllerAdvice\npublic class SpringBootProblemHandling implements ProblemHandling {\n\n    // ... class content ...\n\n    @ExceptionHandler\n    public ResponseEntity&lt;Problem&gt; handleGenericException(\n          Exception exception,\n          NativeWebRequest request) {\n        \n        //... method implementation ...\n    }\n}\n\n</code></pre>\n<p>I also have a corresponding test class:</p>\n<pre><code>package com.example.demo.error;\n\n//... other imports ...\n\n@ActiveProfiles(&quot;test&quot;)\npublic class SpringBootProblemHandlingTest {\n\n    private SpringBootProblemHandling problemHandling = new SpringBootProblemHandling();\n\n    private ServletWebRequest request = new ServletWebRequest(new MockHttpServletRequest());\n\n    @Test\n    public void handleGenericException() {\n        ResponseEntity&lt;Problem&gt; problemRE = problemHandling.handleGenericException(new Exception(), request);\n\n        assertEquals(INTERNAL_SERVER_ERROR, problemRE.getStatusCode());\n    }\n}\n</code></pre>\n<p>When using the dependency <em>org.zalando:problem-spring-web:0.27.0</em>, the test runs with no problem, but when I change the <em>problem-spring-web</em> version to <em><strong>0.29.1</strong></em>, I get the following exception:</p>\n<pre><code>java.lang.NoClassDefFoundError: org/springframework/http/HttpStatusCode\n\n</code></pre>\n<p>This error occurs at the line where the <strong>SpringBootProblemHandling</strong> object is created in the test class:</p>\n<pre><code>private SpringBootProblemHandling problemHandling = new SpringBootProblemHandling();\n\n</code></pre>\n<p>I have checked:</p>\n<ol>\n<li>if there is any breaking change in the release notes between the two versions but couldnt find any information related to this issue.</li>\n<li>tried not to instantiate <strong>SpringBootProblemHandling</strong> directly using the new keyword, instead to use auto wire but this also did not help</li>\n</ol>\n"},{"tags":["java","design-patterns","model-view-controller","javafx"],"comments":[{"owner":{"account_id":6360938,"reputation":1153,"user_id":4936458,"accept_rate":75,"display_name":"Steven Van Impe"},"score":0,"creation_date":1433064160,"post_id":30554694,"comment_id":49183379,"body_markdown":"How are you loading MyView? Are you building it in code, or loading from FXML?","body":"How are you loading MyView? Are you building it in code, or loading from FXML?"},{"owner":{"display_name":"user2022068"},"score":0,"creation_date":1433065008,"post_id":30554694,"comment_id":49183579,"body_markdown":"@Steven Van Impe I build it from code","body":"@Steven Van Impe I build it from code"}],"answers":[{"tags":[],"owner":{"account_id":6251497,"reputation":3397,"user_id":4861405,"display_name":"AlmasB"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1433239108,"creation_date":1433068311,"answer_id":30556388,"question_id":30554694,"body_markdown":"JavaFX has been designed to work with the MVC pattern. Hence it is much easier to use MVC than MVP. In MVP **Presenter** is responsible for formatting the data to be displayed. In JavaFX, it is done automatically by **View**. Here&#39;s a quick overview of JavaFX MVC:\r\n\r\n**Model** - the domain data / data structure that you work with in your application (e.g. Person, Employer, Coursework, etc)\r\n\r\n**View** - the UI definition of the application and its Model. The preferred way of creating a view is via an `FXML` file, which is essentially the **View** in JavaFX MVC.\r\n\r\n**Controller** - the bridge between **Model** and **View**. The code is typically isolated in `XController` class (where X is the name of the `FXML` **View**). The instance of **Controller** is automatically injected by `FXMLLoader` or can be done manually in case you require a custom **Controller**. The `Controller` class will have access to UI (**View**) elements in order to be able to manipulate different properties and also the **Model**, so that it can perform operations based on the UI (**View**) input.\r\n\r\nTo sum up, in JavaFX you don&#39;t need to have class `View`, the **View** definition should be entirely in the `FXML` file. All UI elements should be injected with `@FXML` into your `Controller` class. If you absolutely have to use MVP, then AWT/Swing or MVP4j - http://www.findbestopensource.com/product/mvp4j might be a better option.\r\n\r\nFor more detailed explanation please have a look at the official Oracle tutorial for JavaFX: http://docs.oracle.com/javase/8/javafx/get-started-tutorial/jfx-overview.htm\r\n\r\nIf you require help building UI using `FXML`: http://docs.oracle.com/javase/8/javafx/api/javafx/fxml/doc-files/introduction_to_fxml.html\r\n\r\nThis tutorial covers basics of MVC in JavaFX and how each component communicates with others: http://code.makery.ch/library/javafx-8-tutorial/part1/","title":"MVP, JavaFx and components references","body":"<p>JavaFX has been designed to work with the MVC pattern. Hence it is much easier to use MVC than MVP. In MVP <strong>Presenter</strong> is responsible for formatting the data to be displayed. In JavaFX, it is done automatically by <strong>View</strong>. Here's a quick overview of JavaFX MVC:</p>\n\n<p><strong>Model</strong> - the domain data / data structure that you work with in your application (e.g. Person, Employer, Coursework, etc)</p>\n\n<p><strong>View</strong> - the UI definition of the application and its Model. The preferred way of creating a view is via an <code>FXML</code> file, which is essentially the <strong>View</strong> in JavaFX MVC.</p>\n\n<p><strong>Controller</strong> - the bridge between <strong>Model</strong> and <strong>View</strong>. The code is typically isolated in <code>XController</code> class (where X is the name of the <code>FXML</code> <strong>View</strong>). The instance of <strong>Controller</strong> is automatically injected by <code>FXMLLoader</code> or can be done manually in case you require a custom <strong>Controller</strong>. The <code>Controller</code> class will have access to UI (<strong>View</strong>) elements in order to be able to manipulate different properties and also the <strong>Model</strong>, so that it can perform operations based on the UI (<strong>View</strong>) input.</p>\n\n<p>To sum up, in JavaFX you don't need to have class <code>View</code>, the <strong>View</strong> definition should be entirely in the <code>FXML</code> file. All UI elements should be injected with <code>@FXML</code> into your <code>Controller</code> class. If you absolutely have to use MVP, then AWT/Swing or MVP4j - <a href=\"http://www.findbestopensource.com/product/mvp4j\" rel=\"noreferrer\">http://www.findbestopensource.com/product/mvp4j</a> might be a better option.</p>\n\n<p>For more detailed explanation please have a look at the official Oracle tutorial for JavaFX: <a href=\"http://docs.oracle.com/javase/8/javafx/get-started-tutorial/jfx-overview.htm\" rel=\"noreferrer\">http://docs.oracle.com/javase/8/javafx/get-started-tutorial/jfx-overview.htm</a></p>\n\n<p>If you require help building UI using <code>FXML</code>: <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/fxml/doc-files/introduction_to_fxml.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/8/javafx/api/javafx/fxml/doc-files/introduction_to_fxml.html</a></p>\n\n<p>This tutorial covers basics of MVC in JavaFX and how each component communicates with others: <a href=\"http://code.makery.ch/library/javafx-8-tutorial/part1/\" rel=\"noreferrer\">http://code.makery.ch/library/javafx-8-tutorial/part1/</a></p>\n"},{"tags":[],"owner":{"account_id":1880818,"reputation":425,"user_id":1701070,"display_name":"Giuseppe Giacoppo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1491045446,"creation_date":1491045446,"answer_id":43156145,"question_id":30554694,"body_markdown":"As an Android developer, I always use MVP pattern in my applications. MVC compared to MVP seems so old to me, so when I started working on a new Java app, I felt a little bit lost. &lt;br/&gt;\r\n##Here there is my solution:##\r\n\r\n###Initial steps###\r\n - In `fxml` files create the UI, **without** specifying a controller, because you don&#39;t need one.&lt;br&gt; \r\n - Create the Java interfaces (IView, IPresenter and so on..)\r\n \r\n - Implement the IPresenter `interface` in the Presenter `class`, as you would do normally (do http requests, query a DB..)\r\n\r\nNow the interesting part: \r\n###Adapting your view to MVP pattern###\r\nLet&#39;s see some code:\r\n\r\n - Create your GUI (for example a Main GUI) and implement your View `interface`\r\n\r\n          public class MainGUI extends Application implements MainContract.View {\r\n\r\n          public static void main(String... args) {\r\n              launch(args);\r\n          }\r\n\r\n          @Override\r\n          public void start(Stage primaryStage) throws IOException {\r\n              //here we will load fxml or create the ui programmatically\r\n          }\r\n\r\n          //method from view interface\r\n          @Override\r\n          public void onServerResponse(String message) throws IOException {\r\n              //update the view\r\n          }\r\n\r\nNow the last step:\r\n###Communicating with the presenter###\r\n\r\n - To do this, we first create an istance of our presenter:\r\n\r\n        private MainContract.Presenter presenter;\r\n    \r\n        public MainGUI() {\r\n            presenter = new MainPresenter(this);\r\n        }\r\n`this` is, of course, the `MainContract.View` implemented in the **MainGUI** `class`&lt;br/&gt;&lt;br/&gt;\r\n\r\n - Now we have to get a reference to the view components\r\n\r\n        private ComboBox&lt;Double&gt; mySimpleList;\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) throws IOException {\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;layout_main.fxml&quot;));\r\n            Parent root = loader.load();\r\n            mySimpleList= (ComboBox&lt;Double&gt;) loader.getNamespace().get(&quot;mysimplelist_id&quot;);\r\n    \r\n        ...\r\n    \r\n            primaryStage.setScene(new Scene(root, -1, -1));\r\n            primaryStage.show();\r\n\r\n\r\nI prefer using `fxml` files instead of creating the ui by code, but the logic behind is identical.&lt;br/&gt;\r\n\r\n - Set the items\r\n\r\n        ...\r\n        mySimpleList.setItems(ValuesFactory.getMyValues());\r\n\r\n - And the listener\r\n\r\n        ...\r\n        mySimpleList.valueProperty().addListener(simpleListListener);\r\n\r\n&lt;br&gt;\r\nWhat is `simpleListListener`?&lt;br&gt;\r\n\r\nA simple `ChangeListener`, **where we finally call a presenter method**\r\n\r\n        simpleListListener = (ChangeListener&lt;Double&gt;) \r\n        (observable, oldValue, newValue) -&gt; presenter.doTheLogic(newValue);\r\n\r\n\r\nThis is an easy scenario, but in principle this is how we can use MVP Pattern with JavaFX. I also understand that it isn&#39;t the definitive solution, so I hope that one day there will be more docs where I can learn more about this argument!\r\n&lt;br/&gt;Let me know if I wasn&#39;t clear in some part of the code","title":"MVP, JavaFx and components references","body":"<p>As an Android developer, I always use MVP pattern in my applications. MVC compared to MVP seems so old to me, so when I started working on a new Java app, I felt a little bit lost. <br/></p>\n\n<h2>Here there is my solution:</h2>\n\n<h3>Initial steps</h3>\n\n<ul>\n<li>In <code>fxml</code> files create the UI, <strong>without</strong> specifying a controller, because you don't need one.<br> </li>\n<li><p>Create the Java interfaces (IView, IPresenter and so on..)</p></li>\n<li><p>Implement the IPresenter <code>interface</code> in the Presenter <code>class</code>, as you would do normally (do http requests, query a DB..)</p></li>\n</ul>\n\n<p>Now the interesting part: </p>\n\n<h3>Adapting your view to MVP pattern</h3>\n\n<p>Let's see some code:</p>\n\n<ul>\n<li><p>Create your GUI (for example a Main GUI) and implement your View <code>interface</code></p>\n\n<pre><code>  public class MainGUI extends Application implements MainContract.View {\n\n  public static void main(String... args) {\n      launch(args);\n  }\n\n  @Override\n  public void start(Stage primaryStage) throws IOException {\n      //here we will load fxml or create the ui programmatically\n  }\n\n  //method from view interface\n  @Override\n  public void onServerResponse(String message) throws IOException {\n      //update the view\n  }\n</code></pre></li>\n</ul>\n\n<p>Now the last step:</p>\n\n<h3>Communicating with the presenter</h3>\n\n<ul>\n<li><p>To do this, we first create an istance of our presenter:</p>\n\n<pre><code>private MainContract.Presenter presenter;\n\npublic MainGUI() {\n    presenter = new MainPresenter(this);\n}\n</code></pre>\n\n<p><code>this</code> is, of course, the <code>MainContract.View</code> implemented in the <strong>MainGUI</strong> <code>class</code><br/><br/></p></li>\n<li><p>Now we have to get a reference to the view components</p>\n\n<pre><code>private ComboBox&lt;Double&gt; mySimpleList;\n\n@Override\npublic void start(Stage primaryStage) throws IOException {\n    FXMLLoader loader = new FXMLLoader(getClass().getResource(\"layout_main.fxml\"));\n    Parent root = loader.load();\n    mySimpleList= (ComboBox&lt;Double&gt;) loader.getNamespace().get(\"mysimplelist_id\");\n\n...\n\n    primaryStage.setScene(new Scene(root, -1, -1));\n    primaryStage.show();\n</code></pre></li>\n</ul>\n\n<p>I prefer using <code>fxml</code> files instead of creating the ui by code, but the logic behind is identical.<br/></p>\n\n<ul>\n<li><p>Set the items</p>\n\n<pre><code>...\nmySimpleList.setItems(ValuesFactory.getMyValues());\n</code></pre></li>\n<li><p>And the listener</p>\n\n<pre><code>...\nmySimpleList.valueProperty().addListener(simpleListListener);\n</code></pre></li>\n</ul>\n\n<p><br>\nWhat is <code>simpleListListener</code>?<br></p>\n\n<p>A simple <code>ChangeListener</code>, <strong>where we finally call a presenter method</strong></p>\n\n<pre><code>    simpleListListener = (ChangeListener&lt;Double&gt;) \n    (observable, oldValue, newValue) -&gt; presenter.doTheLogic(newValue);\n</code></pre>\n\n<p>This is an easy scenario, but in principle this is how we can use MVP Pattern with JavaFX. I also understand that it isn't the definitive solution, so I hope that one day there will be more docs where I can learn more about this argument!\n<br/>Let me know if I wasn't clear in some part of the code</p>\n"},{"tags":[],"owner":{"account_id":29178657,"reputation":1,"user_id":22353401,"display_name":"Kostiantyn Perehuda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695585917,"creation_date":1695505541,"answer_id":77165027,"question_id":30554694,"body_markdown":"I know this question is very old, but I still decided to write my answer here.\r\n\r\nI will start by saying that despite being advertised as following MVC pattern, **JavaFX/FXML really follows MVP pattern by default**.\r\n\r\nThere are several good articles about MVC vs MVP ([Baeldung - MVC vs MVP][1], [GeeksForGeeks - MVC, MVP, MVVM][2]). Here I will point key main differences.\r\n\r\n**MVC pattern**\r\n - In MVC pattern the Controller is the entry point to the application. User Events are caught and handled by the controller. Take as an example a Spring MVC web app. The entry point to the application is the HTTP request handling performed by the controller. Sure, the user needs to click a button in the view in order for the HTTP request to be sent, but the button click isn&#39;t what triggers the backend server to act. It is the HTTP request sent by your browser as a result of your button click that triggers the web server to act. In fact, the user could&#39;ve sent the same request by curl command for example. The view isn&#39;t needed to drive the interaction, it&#39;s not the entry point.\r\n - There is a Many-to-Many relationship between Controllers and Views. Triggering one controller action may result in different views being shown to the user depending on the state of the system. The Controller has a power to decide what view to show to the user. Coming back to the web app example, the controller might decide to respond differently to the same request sent by users with different access rights, and show different views as a result. In addition, the same view can be shown as a response to different requests (e.g. redirect). \r\n - In traditional MVC pattern, the Model and the View are coupled and can talk directly to each other. The View uses the propetries of the model to display. We don&#39;t see this thing often in modern web apps nowadays, especially when we refer to the model as the business logic side of our application. We can see Spring MVC using the concept of the &#39;Model&#39; (which is really just a Map of key-value pairs) to pass the data between the Controller and the View. We can inject an instance of a Model (here I mean `org.springframework.ui.Model` to be extra clear, please don&#39;t consufe this with MVC Model) into the controller and use it to pass data returned by service/application layer (MVC Model) into the view. We can also pass the instance of the Model (`org.springframework.ui.Model`) object directly into service layer by the means of method arguments, or ThreadLocals, or by some other way, and achieve &#39;True MVC&#39;. But people don&#39;t usually do it, because it couples Application Logic (MVC Model) and the View (this is the drawback of MVC that MVP attempts to solve).\r\n\r\n**MVP pattern**\r\n - In MVP Pattern the View is the entry point to the application. User input is handled by the view, the view then forwards these user events to the presenter by calling its methods. This is what we see In JavaFX. When user clicks a button in the view, the click event is handled directly by the button in the view (scene graph). We can wire a callback and make the button node call some method of the Presenter (FxController) associated with the View.\r\n - There is a One-to-One mapping between the View and the Presenter. In JavaFX we can only set one controller for the specific Parent Node. \r\n - In MVP the View and the Model are decoupled and the data can only be passed between them through a mediator/presenter. This is what happens in JavaFX/FXML. FxController can access the view and update the scene graph, we can inject nodes from the scene graph generated by parsing fxml into the FxController. And we usually don&#39;t expose JavaFX scene graph to our core application directly, we do it via FxController.\r\n\r\nOverall, JavaFX/FXML is very flexible. It has poverful event handling and data binding functionalities, so you can go fully event driven and end up with MVVM (one might argue that JavaFX/FXML follows MVVM by default). Or you can be more traditional and end up with MVP, you can also start exposing your JavaFX data bindings into the core app and end up with a blend of MVC and MVP, but traditioanlly JavaFX/FXML follows MVP. Just because JavaFX uses the word &quot;Controller&quot; doesn&#39;t mean it follows MVC. The same is true for Angular framework, for example. Angular follows MVVM, but it uses the term &quot;Controller&quot; to refer to the ViewModel.\r\n\r\nAnd one last thing, it&#39;s not mandatory to have ViewInterface in your app for it to follow MVP;)\r\n\r\n\r\n  [1]: https://www.baeldung.com/mvc-vs-mvp-pattern\r\n  [2]: https://www.geeksforgeeks.org/difference-between-mvc-mvp-and-mvvm-architecture-pattern-in-android/","title":"MVP, JavaFx and components references","body":"<p>I know this question is very old, but I still decided to write my answer here.</p>\n<p>I will start by saying that despite being advertised as following MVC pattern, <strong>JavaFX/FXML really follows MVP pattern by default</strong>.</p>\n<p>There are several good articles about MVC vs MVP (<a href=\"https://www.baeldung.com/mvc-vs-mvp-pattern\" rel=\"nofollow noreferrer\">Baeldung - MVC vs MVP</a>, <a href=\"https://www.geeksforgeeks.org/difference-between-mvc-mvp-and-mvvm-architecture-pattern-in-android/\" rel=\"nofollow noreferrer\">GeeksForGeeks - MVC, MVP, MVVM</a>). Here I will point key main differences.</p>\n<p><strong>MVC pattern</strong></p>\n<ul>\n<li>In MVC pattern the Controller is the entry point to the application. User Events are caught and handled by the controller. Take as an example a Spring MVC web app. The entry point to the application is the HTTP request handling performed by the controller. Sure, the user needs to click a button in the view in order for the HTTP request to be sent, but the button click isn't what triggers the backend server to act. It is the HTTP request sent by your browser as a result of your button click that triggers the web server to act. In fact, the user could've sent the same request by curl command for example. The view isn't needed to drive the interaction, it's not the entry point.</li>\n<li>There is a Many-to-Many relationship between Controllers and Views. Triggering one controller action may result in different views being shown to the user depending on the state of the system. The Controller has a power to decide what view to show to the user. Coming back to the web app example, the controller might decide to respond differently to the same request sent by users with different access rights, and show different views as a result. In addition, the same view can be shown as a response to different requests (e.g. redirect).</li>\n<li>In traditional MVC pattern, the Model and the View are coupled and can talk directly to each other. The View uses the propetries of the model to display. We don't see this thing often in modern web apps nowadays, especially when we refer to the model as the business logic side of our application. We can see Spring MVC using the concept of the 'Model' (which is really just a Map of key-value pairs) to pass the data between the Controller and the View. We can inject an instance of a Model (here I mean <code>org.springframework.ui.Model</code> to be extra clear, please don't consufe this with MVC Model) into the controller and use it to pass data returned by service/application layer (MVC Model) into the view. We can also pass the instance of the Model (<code>org.springframework.ui.Model</code>) object directly into service layer by the means of method arguments, or ThreadLocals, or by some other way, and achieve 'True MVC'. But people don't usually do it, because it couples Application Logic (MVC Model) and the View (this is the drawback of MVC that MVP attempts to solve).</li>\n</ul>\n<p><strong>MVP pattern</strong></p>\n<ul>\n<li>In MVP Pattern the View is the entry point to the application. User input is handled by the view, the view then forwards these user events to the presenter by calling its methods. This is what we see In JavaFX. When user clicks a button in the view, the click event is handled directly by the button in the view (scene graph). We can wire a callback and make the button node call some method of the Presenter (FxController) associated with the View.</li>\n<li>There is a One-to-One mapping between the View and the Presenter. In JavaFX we can only set one controller for the specific Parent Node.</li>\n<li>In MVP the View and the Model are decoupled and the data can only be passed between them through a mediator/presenter. This is what happens in JavaFX/FXML. FxController can access the view and update the scene graph, we can inject nodes from the scene graph generated by parsing fxml into the FxController. And we usually don't expose JavaFX scene graph to our core application directly, we do it via FxController.</li>\n</ul>\n<p>Overall, JavaFX/FXML is very flexible. It has poverful event handling and data binding functionalities, so you can go fully event driven and end up with MVVM (one might argue that JavaFX/FXML follows MVVM by default). Or you can be more traditional and end up with MVP, you can also start exposing your JavaFX data bindings into the core app and end up with a blend of MVC and MVP, but traditioanlly JavaFX/FXML follows MVP. Just because JavaFX uses the word &quot;Controller&quot; doesn't mean it follows MVC. The same is true for Angular framework, for example. Angular follows MVVM, but it uses the term &quot;Controller&quot; to refer to the ViewModel.</p>\n<p>And one last thing, it's not mandatory to have ViewInterface in your app for it to follow MVP;)</p>\n"}],"owner":{"display_name":"user2022068"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8697,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":30556388,"answer_count":3,"score":4,"last_activity_date":1695585917,"creation_date":1433055186,"question_id":30554694,"body_markdown":"I&#39;ve studied all popular GUI patterns - MVP,MVC,MVVM and finally I decided to implement MVP (Supervising Controller). So I have the following OBJECTS(!). `Stage&lt;-View&lt;-&gt;Model`. It&#39;s important Stage!=View, it is another object. Between view and model data binding. Besides I have a presenter(controller) which handles all events and works with view and model, so `View&lt;-ViewInterface&lt;-Controller-&gt;Model`.\r\nThe problem is now how to get references to labels, textAreas etc in view. Javafx allows to use @FXML annotation to inject these components to controller. However, using MVP I need these components in View, as all logic for view is in View and I don&#39;t need them in controller. The only solution I know is:\r\n\r\n    public class MyView{\r\n     private Button button;\r\n     public MyView(){\r\n      ...\r\n      button=(Button) root.lookup(&quot;#myButton&quot;);\r\n     }\r\n    }\r\n\r\nThat is to get references by their ID. However I don&#39;t like it. Or I do something wrong or I understand something wrong but I think a better solution exist. Please, help me to find it.","title":"MVP, JavaFx and components references","body":"<p>I've studied all popular GUI patterns - MVP,MVC,MVVM and finally I decided to implement MVP (Supervising Controller). So I have the following OBJECTS(!). <code>Stage&lt;-View&lt;-&gt;Model</code>. It's important Stage!=View, it is another object. Between view and model data binding. Besides I have a presenter(controller) which handles all events and works with view and model, so <code>View&lt;-ViewInterface&lt;-Controller-&gt;Model</code>.\nThe problem is now how to get references to labels, textAreas etc in view. Javafx allows to use @FXML annotation to inject these components to controller. However, using MVP I need these components in View, as all logic for view is in View and I don't need them in controller. The only solution I know is:</p>\n\n<pre><code>public class MyView{\n private Button button;\n public MyView(){\n  ...\n  button=(Button) root.lookup(\"#myButton\");\n }\n}\n</code></pre>\n\n<p>That is to get references by their ID. However I don't like it. Or I do something wrong or I understand something wrong but I think a better solution exist. Please, help me to find it.</p>\n"},{"tags":["java","android","classcastexception"],"answers":[{"tags":[],"owner":{"account_id":27166627,"reputation":9,"user_id":20704049,"display_name":"Mst. Anjuara Begum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695585342,"creation_date":1695585342,"answer_id":77168719,"question_id":77168677,"body_markdown":"    import com.google.android.play.core.tasks.OnCompleteListener;\r\n    import com.google.android.play.core.tasks.Task;\r\n    import com.google.android.play.core.review.ReviewInfo;\r\n    import com.google.android.play.core.review.ReviewManager;\r\n    import com.google.android.play.core.review.ReviewManagerFactory;\r\n    import com.google.android.play.core.review.ReviewRequest;\r\n    import com.google.android.play.core.tasks.Task;\r\n    import com.google.android.play.core.tasks.TaskCompletionSource;\r\n    \r\n    public class InAppReviewExample {\r\n    \r\n        public void requestInAppReview() {\r\n            ReviewManager reviewManager = ReviewManagerFactory.create(context);\r\n    \r\n            // Create a ReviewRequest instance.\r\n            ReviewRequest reviewRequest = reviewManager.requestReviewFlow();\r\n    \r\n            // Use a TaskCompletionSource to handle the result.\r\n            TaskCompletionSource&lt;ReviewInfo&gt; taskCompletionSource = new TaskCompletionSource&lt;&gt;();\r\n    \r\n            // Handle the Task using an OnCompleteListener.\r\n            reviewRequest.addOnCompleteListener(new OnCompleteListener&lt;ReviewInfo&gt;() {\r\n                @Override\r\n                public void onComplete(Task&lt;ReviewInfo&gt; task) {\r\n                    try {\r\n                        if (task.isSuccessful()) {\r\n                            // Get the ReviewInfo object.\r\n                            ReviewInfo reviewInfo = task.getResult();\r\n                            \r\n                            // Use the ReviewInfo object to launch the in-app review flow.\r\n                            Task&lt;Void&gt; flowTask = reviewManager.launchReviewFlow(context, reviewInfo);\r\n                            flowTask.addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                @Override\r\n                                public void onComplete(Task&lt;Void&gt; task) {\r\n                                    if (task.isSuccessful()) {\r\n                                        // In-app review flow launched successfully.\r\n                                    } else {\r\n                                        // In-app review flow failed to launch.\r\n                                    }\r\n                                }\r\n                            });\r\n                        } else {\r\n                            // There was an error getting the ReviewInfo.\r\n                            Exception exception = task.getException();\r\n                            if (exception instanceof ClassCastException) {\r\n                                // Handle the ClassCastException here.\r\n                                // Example: Log an error message or perform necessary actions.\r\n                            }\r\n                        }\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n    \r\n            // You can also handle the task using await() or continueWith() if needed.\r\n            // taskCompletionSource.setResult(reviewInfo); // Set the result when available.\r\n        }\r\n    }\r\n\r\n","title":"Google Play In-App Reviews API java.lang.ClassCastException","body":"<pre><code>import com.google.android.play.core.tasks.OnCompleteListener;\nimport com.google.android.play.core.tasks.Task;\nimport com.google.android.play.core.review.ReviewInfo;\nimport com.google.android.play.core.review.ReviewManager;\nimport com.google.android.play.core.review.ReviewManagerFactory;\nimport com.google.android.play.core.review.ReviewRequest;\nimport com.google.android.play.core.tasks.Task;\nimport com.google.android.play.core.tasks.TaskCompletionSource;\n\npublic class InAppReviewExample {\n\n    public void requestInAppReview() {\n        ReviewManager reviewManager = ReviewManagerFactory.create(context);\n\n        // Create a ReviewRequest instance.\n        ReviewRequest reviewRequest = reviewManager.requestReviewFlow();\n\n        // Use a TaskCompletionSource to handle the result.\n        TaskCompletionSource&lt;ReviewInfo&gt; taskCompletionSource = new TaskCompletionSource&lt;&gt;();\n\n        // Handle the Task using an OnCompleteListener.\n        reviewRequest.addOnCompleteListener(new OnCompleteListener&lt;ReviewInfo&gt;() {\n            @Override\n            public void onComplete(Task&lt;ReviewInfo&gt; task) {\n                try {\n                    if (task.isSuccessful()) {\n                        // Get the ReviewInfo object.\n                        ReviewInfo reviewInfo = task.getResult();\n                        \n                        // Use the ReviewInfo object to launch the in-app review flow.\n                        Task&lt;Void&gt; flowTask = reviewManager.launchReviewFlow(context, reviewInfo);\n                        flowTask.addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                            @Override\n                            public void onComplete(Task&lt;Void&gt; task) {\n                                if (task.isSuccessful()) {\n                                    // In-app review flow launched successfully.\n                                } else {\n                                    // In-app review flow failed to launch.\n                                }\n                            }\n                        });\n                    } else {\n                        // There was an error getting the ReviewInfo.\n                        Exception exception = task.getException();\n                        if (exception instanceof ClassCastException) {\n                            // Handle the ClassCastException here.\n                            // Example: Log an error message or perform necessary actions.\n                        }\n                    }\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n\n        // You can also handle the task using await() or continueWith() if needed.\n        // taskCompletionSource.setResult(reviewInfo); // Set the result when available.\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11503634,"reputation":3724,"user_id":8430649,"display_name":"S-Sh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1695585719,"creation_date":1695585719,"answer_id":77168742,"question_id":77168677,"body_markdown":"It&#39;s a bad practice to perform downcasting without either checking type first or handling the cast error properly.\r\nThe exception in the case of failure in the completion Listener of the task can be caused by different reasons, not necessary some ReviewException problem. So, check it first:\r\n```\r\n if (task.isSuccessful()) {\r\n                // We can get the ReviewInfo object\r\n                ReviewInfo reviewInfo = task.getResult();\r\n                Task&lt;Void&gt; flow = manager.launchReviewFlow(this, reviewInfo);\r\n                flow.addOnCompleteListener(task1 -&gt; {\r\n                    // The flow has finished. The API does not indicate whether the user\r\n                    // reviewed or not, or even whether the review dialog was shown. Thus, no\r\n                    // matter the result, we continue our app flow.\r\n                });\r\n            } else {\r\n                // There was some problem, log or handle the error code.\r\n                Exception exception = task.getException();\r\n                if (exception instanceof ReviewException) {\r\n                    // It&#39;s safe to downcast now\r\n                    @ReviewErrorCode int reviewErrorCode = ((ReviewException)    task.getException()).getErrorCode();\r\n                } else {\r\n                     // some other error\r\n                }\r\n            }\r\n```\r\n","title":"Google Play In-App Reviews API java.lang.ClassCastException","body":"<p>It's a bad practice to perform downcasting without either checking type first or handling the cast error properly.\nThe exception in the case of failure in the completion Listener of the task can be caused by different reasons, not necessary some ReviewException problem. So, check it first:</p>\n<pre><code> if (task.isSuccessful()) {\n                // We can get the ReviewInfo object\n                ReviewInfo reviewInfo = task.getResult();\n                Task&lt;Void&gt; flow = manager.launchReviewFlow(this, reviewInfo);\n                flow.addOnCompleteListener(task1 -&gt; {\n                    // The flow has finished. The API does not indicate whether the user\n                    // reviewed or not, or even whether the review dialog was shown. Thus, no\n                    // matter the result, we continue our app flow.\n                });\n            } else {\n                // There was some problem, log or handle the error code.\n                Exception exception = task.getException();\n                if (exception instanceof ReviewException) {\n                    // It's safe to downcast now\n                    @ReviewErrorCode int reviewErrorCode = ((ReviewException)    task.getException()).getErrorCode();\n                } else {\n                     // some other error\n                }\n            }\n</code></pre>\n"}],"owner":{"account_id":14068837,"reputation":23,"user_id":10162907,"display_name":"mohammed said"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77168742,"answer_count":2,"score":2,"last_activity_date":1695585719,"creation_date":1695584531,"question_id":77168677,"body_markdown":"After implementing google play In-App reviews API in my app i keep getting ClassCastException crash in firebase.\r\n\r\n    Fatal Exception: java.lang.ClassCastException: android.os.RemoteException cannot be cast to y4.a\r\n       at .MainActivity.lambda$review_dialog$3(MainActivity.java:31)\r\n       at com.google.android.gms.tasks.zzi.run(zzi.java:21)\r\n       at android.os.Handler.handleCallback(Handler.java:938)\r\n       at android.os.Handler.dispatchMessage(Handler.java:99)\r\n       at android.os.Looper.loopOnce(Looper.java:201)\r\n       at android.os.Looper.loop(Looper.java:288)\r\n       at android.app.ActivityThread.main(ActivityThread.java:7886)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:568)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1045)\r\n\r\n```\r\npublic void review_dialog(){\r\n        Task&lt;ReviewInfo&gt; request = manager.requestReviewFlow();\r\n        request.addOnCompleteListener(task -&gt; {\r\n            if (task.isSuccessful()) {\r\n                // We can get the ReviewInfo object\r\n                ReviewInfo reviewInfo = task.getResult();\r\n                Task&lt;Void&gt; flow = manager.launchReviewFlow(this, reviewInfo);\r\n                flow.addOnCompleteListener(task1 -&gt; {\r\n                    // The flow has finished. The API does not indicate whether the user\r\n                    // reviewed or not, or even whether the review dialog was shown. Thus, no\r\n                    // matter the result, we continue our app flow.\r\n                });\r\n            } else {\r\n                // There was some problem, log or handle the error code.\r\n                @ReviewErrorCode int reviewErrorCode = ((ReviewException)    task.getException()).getErrorCode();\r\n            }\r\n        });\r\n\r\n\r\n\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\n\r\nis the problem in (ReviewException) casting?","title":"Google Play In-App Reviews API java.lang.ClassCastException","body":"<p>After implementing google play In-App reviews API in my app i keep getting ClassCastException crash in firebase.</p>\n<pre><code>Fatal Exception: java.lang.ClassCastException: android.os.RemoteException cannot be cast to y4.a\n   at .MainActivity.lambda$review_dialog$3(MainActivity.java:31)\n   at com.google.android.gms.tasks.zzi.run(zzi.java:21)\n   at android.os.Handler.handleCallback(Handler.java:938)\n   at android.os.Handler.dispatchMessage(Handler.java:99)\n   at android.os.Looper.loopOnce(Looper.java:201)\n   at android.os.Looper.loop(Looper.java:288)\n   at android.app.ActivityThread.main(ActivityThread.java:7886)\n   at java.lang.reflect.Method.invoke(Method.java)\n   at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:568)\n   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1045)\n</code></pre>\n<pre><code>public void review_dialog(){\n        Task&lt;ReviewInfo&gt; request = manager.requestReviewFlow();\n        request.addOnCompleteListener(task -&gt; {\n            if (task.isSuccessful()) {\n                // We can get the ReviewInfo object\n                ReviewInfo reviewInfo = task.getResult();\n                Task&lt;Void&gt; flow = manager.launchReviewFlow(this, reviewInfo);\n                flow.addOnCompleteListener(task1 -&gt; {\n                    // The flow has finished. The API does not indicate whether the user\n                    // reviewed or not, or even whether the review dialog was shown. Thus, no\n                    // matter the result, we continue our app flow.\n                });\n            } else {\n                // There was some problem, log or handle the error code.\n                @ReviewErrorCode int reviewErrorCode = ((ReviewException)    task.getException()).getErrorCode();\n            }\n        });\n\n\n\n    }\n</code></pre>\n<p>is the problem in (ReviewException) casting?</p>\n"},{"tags":["java","loops","java.util.scanner"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1695586082,"post_id":77168725,"comment_id":136040749,"body_markdown":"Are you closing a Scanner instance somewhere else in your code, an instance that is based on System.in? If you do this, then the System.in stream is closed and cannot be re-opened and this exception will be thrown. The solution is to not close this type of Scanner, and also to not re-create an instance, but rather to share the same instance to where it is needed. Please see this question: [java.util.NoSuchElementException - Scanner reading user input](https://stackoverflow.com/questions/13042008/java-util-nosuchelementexception-scanner-reading-user-input), for more on this.","body":"Are you closing a Scanner instance somewhere else in your code, an instance that is based on System.in? If you do this, then the System.in stream is closed and cannot be re-opened and this exception will be thrown. The solution is to not close this type of Scanner, and also to not re-create an instance, but rather to share the same instance to where it is needed. Please see this question: <a href=\"https://stackoverflow.com/questions/13042008/java-util-nosuchelementexception-scanner-reading-user-input\">java.util.NoSuchElementException - Scanner reading user input</a>, for more on this."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1695586426,"post_id":77168725,"comment_id":136040781,"body_markdown":"We&#39;ll need to see the code you haven&#39;t shown us, and also please show us what input you give the program, and its full output","body":"We&#39;ll need to see the code you haven&#39;t shown us, and also please show us what input you give the program, and its full output"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1695586851,"post_id":77168725,"comment_id":136040832,"body_markdown":"Yes, that&#39;s got to be the problem as you&#39;re not seeing an IllegalStateException nor an InputMismatchException. You are closing a Scanner instance based on System.in before calling this method. The solution is: don&#39;t do this. Again, create a single Scanner instance based on System.in that is used throughout the program, and pass it to where it is needed, such as via a method argument.","body":"Yes, that&#39;s got to be the problem as you&#39;re not seeing an IllegalStateException nor an InputMismatchException. You are closing a Scanner instance based on System.in before calling this method. The solution is: don&#39;t do this. Again, create a single Scanner instance based on System.in that is used throughout the program, and pass it to where it is needed, such as via a method argument."},{"owner":{"account_id":18737525,"reputation":25,"user_id":13661540,"display_name":"Gyro"},"score":1,"creation_date":1695586976,"post_id":77168725,"comment_id":136040843,"body_markdown":"@HovercraftFullOfEels This was the problem! I had created a new Scanner object in the addNewBike() method and closed it at the end, which was the method I was using to test the menu. Thank you, I had completely ignored that as a point of error!","body":"@HovercraftFullOfEels This was the problem! I had created a new Scanner object in the addNewBike() method and closed it at the end, which was the method I was using to test the menu. Thank you, I had completely ignored that as a point of error!"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1695587082,"post_id":77168725,"comment_id":136040852,"body_markdown":"You&#39;re welcome, but having said that, you will want to improve your Google search skills on this. You must have been searching on Scanner problems but seem to have left out the text &quot;NoSuchElementException&quot; from your searches, and that is the key. In the future, you will *always* want to search on the specific exception type.","body":"You&#39;re welcome, but having said that, you will want to improve your Google search skills on this. You must have been searching on Scanner problems but seem to have left out the text &quot;NoSuchElementException&quot; from your searches, and that is the key. In the future, you will <i>always</i> want to search on the specific exception type."},{"owner":{"account_id":18737525,"reputation":25,"user_id":13661540,"display_name":"Gyro"},"score":1,"creation_date":1695587455,"post_id":77168725,"comment_id":136040899,"body_markdown":"@HovercraftFullOfEels Definitely noted!","body":"@HovercraftFullOfEels Definitely noted!"}],"owner":{"account_id":18737525,"reputation":25,"user_id":13661540,"display_name":"Gyro"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695586785,"answer_count":0,"score":0,"last_activity_date":1695585460,"creation_date":1695585460,"question_id":77168725,"body_markdown":"I&#39;m creating a simple main menu for my program which asks for users to input an integer between 1 and 6, does the corresponding option using a switch statement and then should loop back to the main menu (unless the user chose to exit). However, I keep getting a NoSuchElementException when the program loops back to the beginning after displaying the options, without letting me input another option. \r\n\r\nI&#39;ve searched online for answers and none of them have seemed to work for me. Most answers talk about the input stream needing to be cleared and using `input.nextLine()` after `input.nextInt`, which seemed to have fixed the problem for others. Or just using `input.nextLine()` and converting it into an integer. Both of these have not worked for me.\r\n\r\nHere&#39;s my code:\r\n```\r\npublic static void displayMainMenu() {\r\n        Scanner input = new Scanner(System.in);\r\n        int option = 0;\r\n\r\n        while(true) {\r\n            System.out.println(&quot;Bike Registry&quot;);\r\n            System.out.println(&quot;\\nMain Menu&quot;);\r\n            System.out.println(&quot;1. List All Bikes&quot;);\r\n            System.out.println(&quot;2. Add a New Bike&quot;);\r\n            System.out.println(&quot;3. Delete a Bike&quot;);\r\n            System.out.println(&quot;4. Change a Bike Attribute&quot;);\r\n            System.out.println(&quot;5. DEBUG: Dump objects (toString)&quot;);\r\n            System.out.println(&quot;6. Exit&quot;);\r\n            \r\n            option = input.nextInt();\r\n            input.nextLine(); \r\n\r\n            switch(option) {\r\n                case 1:\r\n                    displayAllBikes();\r\n                    break;\r\n                case 2:\r\n                    addNewBike();\r\n                    break;\r\n                case 3:\r\n                    deleteBike();\r\n                    break;\r\n                case 4:\r\n                    alterBike();\r\n                    break;\r\n                case 5:\r\n                    dumpBikes();\r\n                    break;\r\n                case 6:\r\n                    System.out.println(&quot;Have a nice day!&quot;);\r\n                    System.exit(0);\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;This is not a valid option! Please select from the menu!&quot;);\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nAnd this is the error I&#39;m getting:\r\n\r\n```\r\nException in thread &quot;main&quot; java.util.NoSuchElementException\r\n        at java.base/java.util.Scanner.throwFor(Scanner.java:937)\r\n        at java.base/java.util.Scanner.next(Scanner.java:1594)\r\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\r\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\r\n        at ca.sfu.cmpt213.Bike.BikeMethods.displayMainMenu(BikeMethods.java:21)\r\n        at ca.sfu.cmpt213.Main.main(Main.java:7)\r\n```","title":"Using a Scanner object in a while loop for a menu gives a NoSuchElementException","body":"<p>I'm creating a simple main menu for my program which asks for users to input an integer between 1 and 6, does the corresponding option using a switch statement and then should loop back to the main menu (unless the user chose to exit). However, I keep getting a NoSuchElementException when the program loops back to the beginning after displaying the options, without letting me input another option.</p>\n<p>I've searched online for answers and none of them have seemed to work for me. Most answers talk about the input stream needing to be cleared and using <code>input.nextLine()</code> after <code>input.nextInt</code>, which seemed to have fixed the problem for others. Or just using <code>input.nextLine()</code> and converting it into an integer. Both of these have not worked for me.</p>\n<p>Here's my code:</p>\n<pre><code>public static void displayMainMenu() {\n        Scanner input = new Scanner(System.in);\n        int option = 0;\n\n        while(true) {\n            System.out.println(&quot;Bike Registry&quot;);\n            System.out.println(&quot;\\nMain Menu&quot;);\n            System.out.println(&quot;1. List All Bikes&quot;);\n            System.out.println(&quot;2. Add a New Bike&quot;);\n            System.out.println(&quot;3. Delete a Bike&quot;);\n            System.out.println(&quot;4. Change a Bike Attribute&quot;);\n            System.out.println(&quot;5. DEBUG: Dump objects (toString)&quot;);\n            System.out.println(&quot;6. Exit&quot;);\n            \n            option = input.nextInt();\n            input.nextLine(); \n\n            switch(option) {\n                case 1:\n                    displayAllBikes();\n                    break;\n                case 2:\n                    addNewBike();\n                    break;\n                case 3:\n                    deleteBike();\n                    break;\n                case 4:\n                    alterBike();\n                    break;\n                case 5:\n                    dumpBikes();\n                    break;\n                case 6:\n                    System.out.println(&quot;Have a nice day!&quot;);\n                    System.exit(0);\n                    break;\n                default:\n                    System.out.println(&quot;This is not a valid option! Please select from the menu!&quot;);\n                    break;\n            }\n        }\n    }\n</code></pre>\n<p>And this is the error I'm getting:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.NoSuchElementException\n        at java.base/java.util.Scanner.throwFor(Scanner.java:937)\n        at java.base/java.util.Scanner.next(Scanner.java:1594)\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\n        at ca.sfu.cmpt213.Bike.BikeMethods.displayMainMenu(BikeMethods.java:21)\n        at ca.sfu.cmpt213.Main.main(Main.java:7)\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695611319,"post_id":77168670,"comment_id":136042723,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29524442,"reputation":1,"user_id":22626453,"display_name":"Joshua Whittington"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695584425,"creation_date":1695584425,"question_id":77168670,"body_markdown":"I&#39;m currently working on a Spring project with my team for my bootcamp capstone and we&#39;ve been running into an issue with build paths differing between branches. I believe this has to do with the recent update to Spring Boot (3.1.4) when most of the project was written on 3.1.3. We can get around this using the Language supporter from Red Hat (It&#39;ll throw a message when we try to change branches, saying &#39;build path has changed, would you like to synchronize classpath?&#39; or something similar) but we&#39;re concerned that when we start to merge our branches back to main that everything will break.\r\n\r\nWhenever we tried to swap between 3.1.3 and 3.1.4 in the pom.xml, it didn&#39;t fix the issue.","title":"Spring Boot mismatch version/build path","body":"<p>I'm currently working on a Spring project with my team for my bootcamp capstone and we've been running into an issue with build paths differing between branches. I believe this has to do with the recent update to Spring Boot (3.1.4) when most of the project was written on 3.1.3. We can get around this using the Language supporter from Red Hat (It'll throw a message when we try to change branches, saying 'build path has changed, would you like to synchronize classpath?' or something similar) but we're concerned that when we start to merge our branches back to main that everything will break.</p>\n<p>Whenever we tried to swap between 3.1.3 and 3.1.4 in the pom.xml, it didn't fix the issue.</p>\n"},{"tags":["java","spring-boot","openapi","swagger-codegen"],"owner":{"account_id":14809303,"reputation":75,"user_id":10695430,"display_name":"Panicking Developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695583780,"creation_date":1695583780,"question_id":77168622,"body_markdown":"A bit of context. In my system ServiceB calls ServiceA. The ServiceA provides a Swagger/OpenAPI definition, which ServiceB uses to generate its client code.   \r\n\r\nServiceA requires some custom header parameters that are added to GroupedOpenAPI by addOperationCustomizer method. \r\n\r\n\r\n```\r\n@Bean\r\npublic GroupedOpenApi opeApiDefinitionBuilder() {\r\n    return GroupedOpenApi.builder()\r\n        .addOperationCustomizer(zzzHeaderParameterAdder)\r\n        .addOperationCustomizer(yyyHeaderParameterAdder)\r\n        .addOperationCustomizer(xxxHeaderParameterAdder)\r\n        .build();\r\n\t\t}\r\n \r\n// where xxxHeaderParameterAdder and others are an instance of\r\n\r\n@Component\r\npublic class YYYHeaderParameterAdder implements OperationCustomizer {\r\n\r\n  @Override\r\n  public Operation customize(Operation operation, HandlerMethod handlerMethod) {\r\n\r\n    Parameter extraParam = new Parameter()\r\n        .in(ParameterIn.HEADER.toString())\r\n        .name(&quot;parameterXXX&quot;)\r\n        .schema(new Schema().type(&quot;string&quot;))\r\n        .required(Boolean.TRUE);\r\n\r\n    operation.addParametersItem(extraParam);\r\n\r\n    return operation;\r\n  }\r\n}\r\n```\r\n\r\nwhen Spring Boot 2 with springdoc-openapi-ui was used, then the genreated swagger definition contains defined parameter added in the revers order of operation registration (Query comes from endpoind definition). \r\n\r\n\r\n```\r\n        &quot;parameters&quot; : [\r\n          {\r\n            &quot;name&quot; : &quot;id&quot;,\r\n            &quot;in&quot; : &quot;query&quot;,\r\n            &quot;required&quot; : true,\r\n            &quot;schema&quot; : {\r\n              &quot;type&quot; : &quot;string&quot;\r\n            },\r\n          },\r\n          {\r\n            &quot;name&quot; : &quot;parameterXXX&quot;,\r\n            &quot;in&quot; : &quot;header&quot;,\r\n            &quot;required&quot; : true,\r\n            &quot;schema&quot; : {\r\n              &quot;type&quot; : &quot;string&quot;\r\n            }\r\n          },\r\n          {\r\n            &quot;name&quot; : &quot;parameterYYY&quot;,\r\n            &quot;in&quot; : &quot;header&quot;,\r\n            &quot;required&quot; : true,\r\n            &quot;schema&quot; : {\r\n              &quot;type&quot; : &quot;string&quot;\r\n            }\r\n          },\r\n          {\r\n            &quot;name&quot; : &quot;parameterZZZ&quot;,\r\n            &quot;in&quot; : &quot;header&quot;,\r\n            &quot;required&quot; : false,\r\n            &quot;schema&quot; : {\r\n              &quot;type&quot; : &quot;string&quot;\r\n            }\r\n          }\r\n```\r\n\r\nso gernerated client code looks this way:\r\n\r\n\r\n```\r\ngetWhatever(String id, String parameterXXX, String parameterYYY, String parameterZZZ) { body here}\r\n```\r\n\r\nafter upgrading to Spring Boot 3 and switching to springdoc-openapi-starter-webmvc-ui the order of parameters is reversed\r\n\r\n```\r\n        &quot;parameters&quot; : [\r\n          {\r\n            &quot;name&quot; : &quot;id&quot;,\r\n            &quot;in&quot; : &quot;query&quot;,\r\n            &quot;required&quot; : true,\r\n            &quot;schema&quot; : {\r\n              &quot;type&quot; : &quot;string&quot;\r\n            },\r\n          },\r\n          {\r\n            &quot;name&quot; : &quot;parameterZZZ&quot;,\r\n            &quot;in&quot; : &quot;header&quot;,\r\n            &quot;required&quot; : false,\r\n            &quot;schema&quot; : {\r\n              &quot;type&quot; : &quot;string&quot;\r\n            }\r\n          },\r\n          {\r\n            &quot;name&quot; : &quot;parameterYYY&quot;,\r\n            &quot;in&quot; : &quot;header&quot;,\r\n            &quot;required&quot; : true,\r\n            &quot;schema&quot; : {\r\n              &quot;type&quot; : &quot;string&quot;\r\n            }\r\n          },\r\n          {\r\n            &quot;name&quot; : &quot;parameterXXX&quot;,\r\n            &quot;in&quot; : &quot;header&quot;,\r\n            &quot;required&quot; : true,\r\n            &quot;schema&quot; : {\r\n              &quot;type&quot; : &quot;string&quot;\r\n            }\r\n          }\r\n```\r\n\r\nwhat results in different client code\r\n\r\n```\r\ngetWhatever(String id, String parameterZZZ, String parameterYYY, String parameterXXX) { body here}\r\n\r\n```\r\n\r\nto summ up\r\n\r\n```\r\n// new client generated code\r\ngetWhatever(String id, String parameterZZZ, String parameterYYY, String parameterXXX) { body here}\r\n// old client generated code\r\ngetWhatever(String id, String parameterXXX, String parameterYYY, String parameterZZZ) { body here}\r\n\r\n```\r\n\r\ncompiler cannot detect this error because all parameters are strings.\r\n\r\n\r\nThe io.swagger.v3.oas.models.Operation class has no property that allows to manipulate the order of operations. How to deal with this problem? ","title":"Order of parameters in a method generated from Swagger/OpenAPI definition","body":"<p>A bit of context. In my system ServiceB calls ServiceA. The ServiceA provides a Swagger/OpenAPI definition, which ServiceB uses to generate its client code.</p>\n<p>ServiceA requires some custom header parameters that are added to GroupedOpenAPI by addOperationCustomizer method.</p>\n<pre><code>@Bean\npublic GroupedOpenApi opeApiDefinitionBuilder() {\n    return GroupedOpenApi.builder()\n        .addOperationCustomizer(zzzHeaderParameterAdder)\n        .addOperationCustomizer(yyyHeaderParameterAdder)\n        .addOperationCustomizer(xxxHeaderParameterAdder)\n        .build();\n        }\n \n// where xxxHeaderParameterAdder and others are an instance of\n\n@Component\npublic class YYYHeaderParameterAdder implements OperationCustomizer {\n\n  @Override\n  public Operation customize(Operation operation, HandlerMethod handlerMethod) {\n\n    Parameter extraParam = new Parameter()\n        .in(ParameterIn.HEADER.toString())\n        .name(&quot;parameterXXX&quot;)\n        .schema(new Schema().type(&quot;string&quot;))\n        .required(Boolean.TRUE);\n\n    operation.addParametersItem(extraParam);\n\n    return operation;\n  }\n}\n</code></pre>\n<p>when Spring Boot 2 with springdoc-openapi-ui was used, then the genreated swagger definition contains defined parameter added in the revers order of operation registration (Query comes from endpoind definition).</p>\n<pre><code>        &quot;parameters&quot; : [\n          {\n            &quot;name&quot; : &quot;id&quot;,\n            &quot;in&quot; : &quot;query&quot;,\n            &quot;required&quot; : true,\n            &quot;schema&quot; : {\n              &quot;type&quot; : &quot;string&quot;\n            },\n          },\n          {\n            &quot;name&quot; : &quot;parameterXXX&quot;,\n            &quot;in&quot; : &quot;header&quot;,\n            &quot;required&quot; : true,\n            &quot;schema&quot; : {\n              &quot;type&quot; : &quot;string&quot;\n            }\n          },\n          {\n            &quot;name&quot; : &quot;parameterYYY&quot;,\n            &quot;in&quot; : &quot;header&quot;,\n            &quot;required&quot; : true,\n            &quot;schema&quot; : {\n              &quot;type&quot; : &quot;string&quot;\n            }\n          },\n          {\n            &quot;name&quot; : &quot;parameterZZZ&quot;,\n            &quot;in&quot; : &quot;header&quot;,\n            &quot;required&quot; : false,\n            &quot;schema&quot; : {\n              &quot;type&quot; : &quot;string&quot;\n            }\n          }\n</code></pre>\n<p>so gernerated client code looks this way:</p>\n<pre><code>getWhatever(String id, String parameterXXX, String parameterYYY, String parameterZZZ) { body here}\n</code></pre>\n<p>after upgrading to Spring Boot 3 and switching to springdoc-openapi-starter-webmvc-ui the order of parameters is reversed</p>\n<pre><code>        &quot;parameters&quot; : [\n          {\n            &quot;name&quot; : &quot;id&quot;,\n            &quot;in&quot; : &quot;query&quot;,\n            &quot;required&quot; : true,\n            &quot;schema&quot; : {\n              &quot;type&quot; : &quot;string&quot;\n            },\n          },\n          {\n            &quot;name&quot; : &quot;parameterZZZ&quot;,\n            &quot;in&quot; : &quot;header&quot;,\n            &quot;required&quot; : false,\n            &quot;schema&quot; : {\n              &quot;type&quot; : &quot;string&quot;\n            }\n          },\n          {\n            &quot;name&quot; : &quot;parameterYYY&quot;,\n            &quot;in&quot; : &quot;header&quot;,\n            &quot;required&quot; : true,\n            &quot;schema&quot; : {\n              &quot;type&quot; : &quot;string&quot;\n            }\n          },\n          {\n            &quot;name&quot; : &quot;parameterXXX&quot;,\n            &quot;in&quot; : &quot;header&quot;,\n            &quot;required&quot; : true,\n            &quot;schema&quot; : {\n              &quot;type&quot; : &quot;string&quot;\n            }\n          }\n</code></pre>\n<p>what results in different client code</p>\n<pre><code>getWhatever(String id, String parameterZZZ, String parameterYYY, String parameterXXX) { body here}\n\n</code></pre>\n<p>to summ up</p>\n<pre><code>// new client generated code\ngetWhatever(String id, String parameterZZZ, String parameterYYY, String parameterXXX) { body here}\n// old client generated code\ngetWhatever(String id, String parameterXXX, String parameterYYY, String parameterZZZ) { body here}\n\n</code></pre>\n<p>compiler cannot detect this error because all parameters are strings.</p>\n<p>The io.swagger.v3.oas.models.Operation class has no property that allows to manipulate the order of operations. How to deal with this problem?</p>\n"},{"tags":["java","concurrency","vert.x"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1695599793,"post_id":77168600,"comment_id":136041787,"body_markdown":"Shutdown hooks must execute quickly and not engage in blocking actions such as network I/IO. See the documentation. You can&#39;t do this.","body":"Shutdown hooks must execute quickly and not engage in blocking actions such as network I/IO. See the documentation. You can&#39;t do this."},{"owner":{"account_id":11899514,"reputation":59,"user_id":8707914,"display_name":"fragilepriCe"},"score":0,"creation_date":1695620945,"post_id":77168600,"comment_id":136043461,"body_markdown":"is there any way to achieve this in vert.x aside from using shutdown hooks","body":"is there any way to achieve this in vert.x aside from using shutdown hooks"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1695629404,"post_id":77168600,"comment_id":136044752,"body_markdown":"Log as you go. Why do you have pending log messages at shutdown? Design error there.","body":"Log as you go. Why do you have pending log messages at shutdown? Design error there."}],"owner":{"account_id":11899514,"reputation":59,"user_id":8707914,"display_name":"fragilepriCe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695583303,"creation_date":1695583303,"question_id":77168600,"body_markdown":"We have a vert.x java application wherein we need to log some information when it is shutdown. However, when pressing CTRL+C or when java application is shut down, only &quot;Shutting down...&quot; is the only one printed. \r\n\r\n```\r\n  Runtime.getRuntime().addShutdownHook(new Thread(serviceStatusLogger::log));\r\n\r\n   final Vertx vertx = Vertx.vertx();\r\n        final HttpServer server = vertx.createHttpServer();\r\n\r\n        final Router router = Router.router(Vertx.vertx());\r\n        final Route route = router.route(HttpMethod.GET, &quot;/health&quot;);\r\n\r\n        route.handler(request -&gt; {\r\n            final HttpServerResponse response = request.response();\r\n            response.putHeader(&quot;content-type&quot;, &quot;text/plain&quot;);\r\n            response.end(makeResponse());\r\n        });\r\n\r\n        server.requestHandler(router).listen(8085);\r\n```\r\n\r\nThe ServiceStatusLogger class contains all data that needs to be logged. How do I ensure that all the loggers here printed when program is shut down?\r\n```\r\npublic class ServiceStatusLogger {\r\n    private static final Logger LOG = Logger.getLogger(ServiceStatusLogger.class.getName());\r\n\r\n    private final DefaultMessageResolver defaultMessageResolver;\r\n    private final WebhookResponseRepository webhookResponseRepository;\r\n\r\n    public ServiceStatusLogger(final DefaultMessageResolver defaultMessageResolver,\r\n                               final WebhookResponseRepository webhookResponseRepository) {\r\n        this.defaultMessageResolver = defaultMessageResolver;\r\n        this.webhookResponseRepository = webhookResponseRepository;\r\n    }\r\n\r\n\r\n    public void log(){\r\n\r\n        LOG.info(&quot;Shutting down...&quot;);\r\n        LOG.info(&quot;Last processed webhook response log id: &quot; + webhookResponseRepository\r\n                .getLastWebhookResponseLog()\r\n                .getId());\r\n        LOG.info(&quot;Total number of webhooks processed in this job execution: &quot;\r\n                + defaultMessageResolver.getWebhooksProcessed());\r\n    }\r\n}\r\n```","title":"Add shutdown hook does not log all data","body":"<p>We have a vert.x java application wherein we need to log some information when it is shutdown. However, when pressing CTRL+C or when java application is shut down, only &quot;Shutting down...&quot; is the only one printed.</p>\n<pre><code>  Runtime.getRuntime().addShutdownHook(new Thread(serviceStatusLogger::log));\n\n   final Vertx vertx = Vertx.vertx();\n        final HttpServer server = vertx.createHttpServer();\n\n        final Router router = Router.router(Vertx.vertx());\n        final Route route = router.route(HttpMethod.GET, &quot;/health&quot;);\n\n        route.handler(request -&gt; {\n            final HttpServerResponse response = request.response();\n            response.putHeader(&quot;content-type&quot;, &quot;text/plain&quot;);\n            response.end(makeResponse());\n        });\n\n        server.requestHandler(router).listen(8085);\n</code></pre>\n<p>The ServiceStatusLogger class contains all data that needs to be logged. How do I ensure that all the loggers here printed when program is shut down?</p>\n<pre><code>public class ServiceStatusLogger {\n    private static final Logger LOG = Logger.getLogger(ServiceStatusLogger.class.getName());\n\n    private final DefaultMessageResolver defaultMessageResolver;\n    private final WebhookResponseRepository webhookResponseRepository;\n\n    public ServiceStatusLogger(final DefaultMessageResolver defaultMessageResolver,\n                               final WebhookResponseRepository webhookResponseRepository) {\n        this.defaultMessageResolver = defaultMessageResolver;\n        this.webhookResponseRepository = webhookResponseRepository;\n    }\n\n\n    public void log(){\n\n        LOG.info(&quot;Shutting down...&quot;);\n        LOG.info(&quot;Last processed webhook response log id: &quot; + webhookResponseRepository\n                .getLastWebhookResponseLog()\n                .getId());\n        LOG.info(&quot;Total number of webhooks processed in this job execution: &quot;\n                + defaultMessageResolver.getWebhooksProcessed());\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","proxy"],"comments":[{"owner":{"account_id":2673698,"reputation":128,"user_id":2310536,"accept_rate":62,"display_name":"Zeeshan Ali"},"score":0,"creation_date":1699885797,"post_id":77164193,"comment_id":136583506,"body_markdown":"I am facing same. @DimaTverdoy did you find any solution?","body":"I am facing same. @DimaTverdoy did you find any solution?"}],"owner":{"account_id":17905174,"reputation":11,"user_id":22621270,"display_name":"DimaTverdoy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695582604,"creation_date":1695490084,"question_id":77164193,"body_markdown":"I need to use Selenium with http proxy with authorization\r\n\r\nI&#39;m trying to use the arguments:\r\n```java\r\n\r\nChromeOptions options = new ChromeOptions();\r\noptions.addArguments(&quot;proxy-server=&#39;http://user:pass@1.1.1.1:8989&#39;&quot;);\r\n\r\nWebDriver driver = new ChromeDriver(options);\r\n```\r\n\r\nBut I get an error in the browser `ERR_NO_SUPPORTED_PROXIES`.\r\n\r\nThen I tried to use the object `Proxy`:\r\n```java\r\nChromeOptions options = new ChromeOptions();\r\n\r\nProxy proxyOption = new Proxy();\r\nproxyOption.setHttpProxy(&quot;1.1.1.1:8989&quot;);\r\noptions.setProxy(proxyOption);\r\n\r\nWebDriver driver = new ChromeDriver(options);\r\n```\r\n\r\nThe browser worked without error but did not use a proxy","title":"How to use proxy in selenium chrome","body":"<p>I need to use Selenium with http proxy with authorization</p>\n<p>I'm trying to use the arguments:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;proxy-server='http://user:pass@1.1.1.1:8989'&quot;);\n\nWebDriver driver = new ChromeDriver(options);\n</code></pre>\n<p>But I get an error in the browser <code>ERR_NO_SUPPORTED_PROXIES</code>.</p>\n<p>Then I tried to use the object <code>Proxy</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ChromeOptions options = new ChromeOptions();\n\nProxy proxyOption = new Proxy();\nproxyOption.setHttpProxy(&quot;1.1.1.1:8989&quot;);\noptions.setProxy(proxyOption);\n\nWebDriver driver = new ChromeDriver(options);\n</code></pre>\n<p>The browser worked without error but did not use a proxy</p>\n"},{"tags":["java","keycloak"],"comments":[{"owner":{"account_id":4077251,"reputation":26290,"user_id":3348604,"display_name":"Jan Garaj"},"score":0,"creation_date":1599130662,"post_id":63721080,"comment_id":112681519,"body_markdown":"Try to use `admin-cli` client and user with proper `realm-management` roles. Also check Keycloak server logs - you may find there more details about reason for `HTTP 400 Bad Request` error.","body":"Try to use <code>admin-cli</code> client and user with proper <code>realm-management</code> roles. Also check Keycloak server logs - you may find there more details about reason for <code>HTTP 400 Bad Request</code> error."}],"answers":[{"tags":[],"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1601359941,"creation_date":1599133015,"answer_id":63722834,"question_id":63721080,"body_markdown":"Although Keycloak automatically creates a `master` realm, with several client IDs, and you can automate setting up an admin user, its seems you can not use those with the Java admin client. You must instead create (or import) a realm and client ID, which you can then indicate when you create the `Keycloak` instance. Keycloak will not then complain about a *Bad Request*.","title":"Keycloak admin client responds with Bad Request to attempt to list realms","body":"<p>Although Keycloak automatically creates a <code>master</code> realm, with several client IDs, and you can automate setting up an admin user, its seems you can not use those with the Java admin client. You must instead create (or import) a realm and client ID, which you can then indicate when you create the <code>Keycloak</code> instance. Keycloak will not then complain about a <em>Bad Request</em>.</p>\n"},{"tags":[],"owner":{"account_id":6716499,"reputation":21,"user_id":5178187,"display_name":"Prominence"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695582473,"creation_date":1695204393,"answer_id":77141369,"question_id":63721080,"body_markdown":"Also, it is important to have the same **keycloak-admin-client** and **keycloak** version.\r\n\r\nMy problem was that I had `Keycloak 22.0.0` and `org.keycloak:keycloak-admin-client:22.0.3`. That&#39;s why I&#39;ve got `400 Bad Request`.","title":"Keycloak admin client responds with Bad Request to attempt to list realms","body":"<p>Also, it is important to have the same <strong>keycloak-admin-client</strong> and <strong>keycloak</strong> version.</p>\n<p>My problem was that I had <code>Keycloak 22.0.0</code> and <code>org.keycloak:keycloak-admin-client:22.0.3</code>. That's why I've got <code>400 Bad Request</code>.</p>\n"}],"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11346,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":63722834,"answer_count":2,"score":4,"last_activity_date":1695582473,"creation_date":1599126621,"question_id":63721080,"body_markdown":"I am attempting a simple test of the health of a fresh instance of Keycloak (running in a Docker container, it so happens), by trying to list the realms using the Java admin client as the admin user. But this repeatedly fails due to an *HTTP 400 Bad Request*, apparently when the client is attempting to get an access token. How must I configure Keycloak, or the admin client, to do this simple query?\r\n\r\nThe stack-trace of the failure is thus:\r\n```\r\njava.lang.AssertionError: Able to list realms\r\n\tat [MyClass].listRealms([MyClass].java:69)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\r\n\t[junit stack-trace]\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:542)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:770)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\nCaused by: javax.ws.rs.ProcessingException: javax.ws.rs.BadRequestException: HTTP 400 Bad Request\r\n\tat org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.filterRequest(ClientInvocation.java:603)\r\n\tat org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:440)\r\n\tat org.jboss.resteasy.client.jaxrs.internal.proxy.ClientInvoker.invokeSync(ClientInvoker.java:149)\r\n\tat org.jboss.resteasy.client.jaxrs.internal.proxy.ClientInvoker.invoke(ClientInvoker.java:112)\r\n\tat org.jboss.resteasy.client.jaxrs.internal.proxy.ClientProxy.invoke(ClientProxy.java:76)\r\n\tat com.sun.proxy.$Proxy45.findAll(Unknown Source)\r\n\tat [MyClass].listRealms([MyClass].java:67)\r\n\t... 67 more\r\nCaused by: javax.ws.rs.BadRequestException: HTTP 400 Bad Request\r\n\tat org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.handleErrorStatus(ClientInvocation.java:219)\r\n\tat org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.extractResult(ClientInvocation.java:195)\r\n\tat org.jboss.resteasy.client.jaxrs.internal.proxy.extractors.BodyEntityExtractor.extractEntity(BodyEntityExtractor.java:62)\r\n\tat org.jboss.resteasy.client.jaxrs.internal.proxy.ClientInvoker.invokeSync(ClientInvoker.java:151)\r\n\tat org.jboss.resteasy.client.jaxrs.internal.proxy.ClientInvoker.invoke(ClientInvoker.java:112)\r\n\tat org.jboss.resteasy.client.jaxrs.internal.proxy.ClientProxy.invoke(ClientProxy.java:76)\r\n\tat com.sun.proxy.$Proxy43.grantToken(Unknown Source)\r\n\tat org.keycloak.admin.client.token.TokenManager.grantToken(TokenManager.java:90)\r\n\tat org.keycloak.admin.client.token.TokenManager.getAccessToken(TokenManager.java:70)\r\n\tat org.keycloak.admin.client.token.TokenManager.getAccessTokenString(TokenManager.java:65)\r\n\tat org.keycloak.admin.client.resource.BearerAuthFilter.filter(BearerAuthFilter.java:52)\r\n\tat org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.filterRequest(ClientInvocation.java:590)\r\n\t... 73 more\r\n```\r\n\r\nThe crucial code doing the query is this:\r\n\r\n```\r\n   public void listRealms() {\r\n      try (var keycloak = container.getKeycloakInstance()) {\r\n         final List&lt;RealmRepresentation&gt; realms;\r\n         try {\r\n            realms = keycloak.realms().findAll();\r\n         } catch (final Exception e) {// provide better diagnostics\r\n            throw new AssertionError(&quot;Able to list realms&quot;, e);\r\n         }\r\n         assertThat(realms, not(empty()));\r\n      }\r\n   }\r\n```\r\nwith the `Keycloak` instance created thus:\r\n```\r\n   private static final String ADMIN_USER = &quot;admin&quot;;\r\n   private static final String ADMIN_PASSWORD = &quot;letmein&quot;;\r\n   private static final String ADMIN_REALM = &quot;master&quot;;\r\n   private static final String ADMIN_CLIENT_ID = null;\r\n...\r\n   public Keycloak getKeycloakInstance() {\r\n      return Keycloak.getInstance(getUri().toASCIIString(), ADMIN_REALM,\r\n               ADMIN_USER, ADMIN_PASSWORD, ADMIN_CLIENT_ID);\r\n   }\r\n```\r\n---\r\nThat test failure happens to be when running the test in Eclipse. But the problem also occurs when I run the test using Maven (that is, using the `maven-failsafe-plugin`).\r\n\r\nThe same failure mode (*HTTP 400 Bad Request* ) also occurs if I\r\n* use a non existent client ID, rather than a null client ID (I would expect *HTTP 404 Not Found* in that case)\r\n* use the wrong password (I would expect *HTTP 401 Unauthorized* or *HTTP 403 Forbidden* in that case)\r\n\r\nThe URL I am using seems to be correct, because if I deliberately use an incorrect URL path I get the expected *HTTP 404 Not Found* failure mode, and if I deliberately use an incorrect host name I get the expected `UnknownHostException`.\r\n\r\nThis problem occurs with Key cloak version `11.0.2` (the current version at the time of writing) and also occurred with version `11.0.0`.","title":"Keycloak admin client responds with Bad Request to attempt to list realms","body":"<p>I am attempting a simple test of the health of a fresh instance of Keycloak (running in a Docker container, it so happens), by trying to list the realms using the Java admin client as the admin user. But this repeatedly fails due to an <em>HTTP 400 Bad Request</em>, apparently when the client is attempting to get an access token. How must I configure Keycloak, or the admin client, to do this simple query?</p>\n<p>The stack-trace of the failure is thus:</p>\n<pre><code>java.lang.AssertionError: Able to list realms\n    at [MyClass].listRealms([MyClass].java:69)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\n    [junit stack-trace]\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:542)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:770)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\nCaused by: javax.ws.rs.ProcessingException: javax.ws.rs.BadRequestException: HTTP 400 Bad Request\n    at org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.filterRequest(ClientInvocation.java:603)\n    at org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:440)\n    at org.jboss.resteasy.client.jaxrs.internal.proxy.ClientInvoker.invokeSync(ClientInvoker.java:149)\n    at org.jboss.resteasy.client.jaxrs.internal.proxy.ClientInvoker.invoke(ClientInvoker.java:112)\n    at org.jboss.resteasy.client.jaxrs.internal.proxy.ClientProxy.invoke(ClientProxy.java:76)\n    at com.sun.proxy.$Proxy45.findAll(Unknown Source)\n    at [MyClass].listRealms([MyClass].java:67)\n    ... 67 more\nCaused by: javax.ws.rs.BadRequestException: HTTP 400 Bad Request\n    at org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.handleErrorStatus(ClientInvocation.java:219)\n    at org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.extractResult(ClientInvocation.java:195)\n    at org.jboss.resteasy.client.jaxrs.internal.proxy.extractors.BodyEntityExtractor.extractEntity(BodyEntityExtractor.java:62)\n    at org.jboss.resteasy.client.jaxrs.internal.proxy.ClientInvoker.invokeSync(ClientInvoker.java:151)\n    at org.jboss.resteasy.client.jaxrs.internal.proxy.ClientInvoker.invoke(ClientInvoker.java:112)\n    at org.jboss.resteasy.client.jaxrs.internal.proxy.ClientProxy.invoke(ClientProxy.java:76)\n    at com.sun.proxy.$Proxy43.grantToken(Unknown Source)\n    at org.keycloak.admin.client.token.TokenManager.grantToken(TokenManager.java:90)\n    at org.keycloak.admin.client.token.TokenManager.getAccessToken(TokenManager.java:70)\n    at org.keycloak.admin.client.token.TokenManager.getAccessTokenString(TokenManager.java:65)\n    at org.keycloak.admin.client.resource.BearerAuthFilter.filter(BearerAuthFilter.java:52)\n    at org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.filterRequest(ClientInvocation.java:590)\n    ... 73 more\n</code></pre>\n<p>The crucial code doing the query is this:</p>\n<pre><code>   public void listRealms() {\n      try (var keycloak = container.getKeycloakInstance()) {\n         final List&lt;RealmRepresentation&gt; realms;\n         try {\n            realms = keycloak.realms().findAll();\n         } catch (final Exception e) {// provide better diagnostics\n            throw new AssertionError(&quot;Able to list realms&quot;, e);\n         }\n         assertThat(realms, not(empty()));\n      }\n   }\n</code></pre>\n<p>with the <code>Keycloak</code> instance created thus:</p>\n<pre><code>   private static final String ADMIN_USER = &quot;admin&quot;;\n   private static final String ADMIN_PASSWORD = &quot;letmein&quot;;\n   private static final String ADMIN_REALM = &quot;master&quot;;\n   private static final String ADMIN_CLIENT_ID = null;\n...\n   public Keycloak getKeycloakInstance() {\n      return Keycloak.getInstance(getUri().toASCIIString(), ADMIN_REALM,\n               ADMIN_USER, ADMIN_PASSWORD, ADMIN_CLIENT_ID);\n   }\n</code></pre>\n<hr />\n<p>That test failure happens to be when running the test in Eclipse. But the problem also occurs when I run the test using Maven (that is, using the <code>maven-failsafe-plugin</code>).</p>\n<p>The same failure mode (<em>HTTP 400 Bad Request</em> ) also occurs if I</p>\n<ul>\n<li>use a non existent client ID, rather than a null client ID (I would expect <em>HTTP 404 Not Found</em> in that case)</li>\n<li>use the wrong password (I would expect <em>HTTP 401 Unauthorized</em> or <em>HTTP 403 Forbidden</em> in that case)</li>\n</ul>\n<p>The URL I am using seems to be correct, because if I deliberately use an incorrect URL path I get the expected <em>HTTP 404 Not Found</em> failure mode, and if I deliberately use an incorrect host name I get the expected <code>UnknownHostException</code>.</p>\n<p>This problem occurs with Key cloak version <code>11.0.2</code> (the current version at the time of writing) and also occurred with version <code>11.0.0</code>.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":18161375,"reputation":21,"user_id":13212706,"display_name":"ezedin"},"score":0,"creation_date":1585928689,"post_id":61015361,"comment_id":107946102,"body_markdown":"it works, thank you Chris","body":"it works, thank you Chris"}],"answers":[{"tags":[],"owner":{"account_id":4940551,"reputation":499,"user_id":3977363,"display_name":"The.Laughing.Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585928555,"creation_date":1585928555,"answer_id":61015507,"question_id":61015361,"body_markdown":"You have your mapping set as a URL path variable\r\n\r\n    @GetMapping(&quot;/user/id/{id}&quot;)\r\n\r\nbut the URL you tried has a query parameter: ?id=13 \r\n\r\nTry using: http://localhost:8080/api/user/id/13\r\n\r\nHere is a good comparison of the two on [stackoverflow][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11552248/when-to-use-queryparam-vs-pathparam","title":"The given id must not be null!; nested exception is java.lang.IllegalArgumentException","body":"<p>You have your mapping set as a URL path variable</p>\n\n<pre><code>@GetMapping(\"/user/id/{id}\")\n</code></pre>\n\n<p>but the URL you tried has a query parameter: ?id=13 </p>\n\n<p>Try using: <a href=\"http://localhost:8080/api/user/id/13\" rel=\"nofollow noreferrer\">http://localhost:8080/api/user/id/13</a></p>\n\n<p>Here is a good comparison of the two on <a href=\"https://stackoverflow.com/questions/11552248/when-to-use-queryparam-vs-pathparam\">stackoverflow</a></p>\n"},{"tags":[],"owner":{"account_id":1789130,"reputation":859,"user_id":1629924,"accept_rate":50,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585928558,"creation_date":1585928558,"answer_id":61015509,"question_id":61015361,"body_markdown":"The URL is incorrect. You have set it up as a path variable in your code. In which case, instead of hitting localhost:8080/api/user/id/?id=13 in postman, you should hit localhost:8080/api/user/id/3 instead,\r\n\r\n\r\nBut if you were following REST standards, a better URL would look like this (no need to have the &quot;id&quot; in the URL). localhost:8080/api/user/3","title":"The given id must not be null!; nested exception is java.lang.IllegalArgumentException","body":"<p>The URL is incorrect. You have set it up as a path variable in your code. In which case, instead of hitting localhost:8080/api/user/id/?id=13 in postman, you should hit localhost:8080/api/user/id/3 instead,</p>\n\n<p>But if you were following REST standards, a better URL would look like this (no need to have the \"id\" in the URL). localhost:8080/api/user/3</p>\n"}],"owner":{"account_id":18161375,"reputation":21,"user_id":13212706,"display_name":"ezedin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9414,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1695582335,"creation_date":1585928106,"question_id":61015361,"body_markdown":"i&#39;m creating a simple crud with spring boot. All function well but I have a little problem with the method findOne(Long id)&lt;br&gt;\r\nin postman when i put this url : *http://localhost:8080/api/user/id/?id=13* , i get this exception : \r\n\r\n \r\n\r\n*&quot;**error**&quot;: &quot;Internal Server Error&quot;,&lt;br&gt;\r\n &quot;**exception**&quot;: &quot;org.springframework.dao.InvalidDataAccessApiUsageException&quot;,&lt;br&gt;\r\n &quot;**message**&quot;: &quot;The given id must not be null!; nested exception is* *java.lang.IllegalArgumentException: The given id must not be null!&quot;,*\r\n\r\nhere is my code :&lt;br&gt;\r\n**Repository**&lt;br&gt;\r\n\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;Utilisateur, Long&gt; {\r\n    }\r\n\r\n&lt;br&gt;\r\n\r\n**Service**&lt;br&gt;\r\n\r\n    public interface UserService {\r\n    \r\n    \tUtilisateur save(Utilisateur utilisateur);\r\n    \tList&lt;Utilisateur&gt; findAll();\r\n    \tUtilisateur findOne(Long id);\r\n    }\r\n**ServiceImpl**\r\n\r\n    @Service\r\n    public class UserServiceImpl implements UserService{\r\n    \t@Autowired\r\n    \tUserRepository userRepository;\r\n    \t\r\n    \r\n    \tpublic UserServiceImpl() {\r\n    \t}\r\n    \t\r\n    \tpublic UserServiceImpl(UserRepository userRepository) {\r\n    \t\tthis.userRepository = userRepository;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic Utilisateur save(Utilisateur utilisateur) {\r\n    \t\treturn userRepository.save(utilisateur);\r\n    \t}\r\n    \r\n    \t\r\n    \r\n    \r\n    \t@Override\r\n    \tpublic List&lt;Utilisateur&gt; findAll() {\r\n    \t\treturn userRepository.findAll();\r\n    \t}\r\n    \r\n    \tpublic Utilisateur findOne(Long id) {\r\n    \t\treturn userRepository.findOne(id);\r\n    \t}\r\n    }\r\n**Controller**\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    @CrossOrigin(origins=&quot;http://localhost:4200&quot;,allowedHeaders=&quot;*&quot;) \r\n    public class UserController {\r\n    \t@Autowired\r\n    \tprivate UserService userService; \r\n    \t\r\n    \tpublic UserController(UserService userService) {\r\n    \t\tthis.userService = userService;\r\n    \t}\r\n    \t\r\n    \tpublic UserController() {\r\n    \t\tsuper();\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \t@GetMapping(&quot;/users&quot;)\r\n    \tpublic List&lt;Utilisateur&gt; getUsers() {\r\n    \t\treturn userService.findAll();\r\n    \t}\r\n    \r\n    \t@GetMapping(&quot;/user/id/{id}&quot;)\r\n    \tpublic ResponseEntity&lt;Utilisateur&gt; getUser(@PathVariable Long id) {\r\n    \t\tUtilisateur utilisateur = userService.findOne(id);\r\n    \t\treturn ResponseEntity.ok().body(utilisateur);\r\n    \t}\r\n    \t\r\n    \r\n    \t  \r\n    \t/*  \r\n    \t@DeleteMapping(&quot;/user/{id}&quot;)\r\n    \tpublic Boolean deleteUser(@PathVariable Long id) {\r\n    \t\t userRepository.delete(id);\r\n    \t\t return true;\r\n    \t} */\r\n    \t@PostMapping(&quot;/user&quot;)\r\n    \tpublic ResponseEntity&lt;Utilisateur&gt; saveUser(@RequestBody Utilisateur utilisateur) throws URISyntaxException {\r\n    \t\tUtilisateur result = userService.save(utilisateur);  \r\n    \t\treturn ResponseEntity.created(new URI(&quot;/api/user/&quot; + result.getId()))\r\n    \t\t        .body(result);\r\n    \t}\r\n    \t\r\n    \r\n    \t\r\n    \t@PutMapping(&quot;/user&quot;)\r\n    \tpublic ResponseEntity&lt;Utilisateur&gt; updateUser(@RequestBody Utilisateur utilisateur) throws URISyntaxException  {\r\n    \t\tUtilisateur result = userService.save(utilisateur);\r\n    \t\treturn ResponseEntity.ok().body(result);\r\n    \t}\r\n    }\r\n\r\n","title":"The given id must not be null!; nested exception is java.lang.IllegalArgumentException","body":"<p>i'm creating a simple crud with spring boot. All function well but I have a little problem with the method findOne(Long id)<br>\nin postman when i put this url : <em><a href=\"http://localhost:8080/api/user/id/?id=13\" rel=\"nofollow noreferrer\">http://localhost:8080/api/user/id/?id=13</a></em> , i get this exception : </p>\n\n<p><em>\"<strong>error</strong>\": \"Internal Server Error\",<br>\n \"<strong>exception</strong>\": \"org.springframework.dao.InvalidDataAccessApiUsageException\",<br>\n \"<strong>message</strong>\": \"The given id must not be null!; nested exception is</em> <em>java.lang.IllegalArgumentException: The given id must not be null!\",</em></p>\n\n<p>here is my code :<br>\n<strong>Repository</strong><br></p>\n\n<pre><code>@SuppressWarnings(\"unused\")\n@Repository\npublic interface UserRepository extends JpaRepository&lt;Utilisateur, Long&gt; {\n}\n</code></pre>\n\n<p><br></p>\n\n<p><strong>Service</strong><br></p>\n\n<pre><code>public interface UserService {\n\n    Utilisateur save(Utilisateur utilisateur);\n    List&lt;Utilisateur&gt; findAll();\n    Utilisateur findOne(Long id);\n}\n</code></pre>\n\n<p><strong>ServiceImpl</strong></p>\n\n<pre><code>@Service\npublic class UserServiceImpl implements UserService{\n    @Autowired\n    UserRepository userRepository;\n\n\n    public UserServiceImpl() {\n    }\n\n    public UserServiceImpl(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n    @Override\n    public Utilisateur save(Utilisateur utilisateur) {\n        return userRepository.save(utilisateur);\n    }\n\n\n\n\n    @Override\n    public List&lt;Utilisateur&gt; findAll() {\n        return userRepository.findAll();\n    }\n\n    public Utilisateur findOne(Long id) {\n        return userRepository.findOne(id);\n    }\n}\n</code></pre>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api\")\n@CrossOrigin(origins=\"http://localhost:4200\",allowedHeaders=\"*\") \npublic class UserController {\n    @Autowired\n    private UserService userService; \n\n    public UserController(UserService userService) {\n        this.userService = userService;\n    }\n\n    public UserController() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n    @GetMapping(\"/users\")\n    public List&lt;Utilisateur&gt; getUsers() {\n        return userService.findAll();\n    }\n\n    @GetMapping(\"/user/id/{id}\")\n    public ResponseEntity&lt;Utilisateur&gt; getUser(@PathVariable Long id) {\n        Utilisateur utilisateur = userService.findOne(id);\n        return ResponseEntity.ok().body(utilisateur);\n    }\n\n\n\n    /*  \n    @DeleteMapping(\"/user/{id}\")\n    public Boolean deleteUser(@PathVariable Long id) {\n         userRepository.delete(id);\n         return true;\n    } */\n    @PostMapping(\"/user\")\n    public ResponseEntity&lt;Utilisateur&gt; saveUser(@RequestBody Utilisateur utilisateur) throws URISyntaxException {\n        Utilisateur result = userService.save(utilisateur);  \n        return ResponseEntity.created(new URI(\"/api/user/\" + result.getId()))\n                .body(result);\n    }\n\n\n\n    @PutMapping(\"/user\")\n    public ResponseEntity&lt;Utilisateur&gt; updateUser(@RequestBody Utilisateur utilisateur) throws URISyntaxException  {\n        Utilisateur result = userService.save(utilisateur);\n        return ResponseEntity.ok().body(result);\n    }\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","heap-size"],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1491657411,"creation_date":1491657411,"answer_id":43294589,"question_id":43294333,"body_markdown":"Change your project JSDK to 64-bit version, you are building and running with 32-bit JDK right now which cannot allocate more than 2GB RAM on Windows. Because of the other JVM requirements, the real maximum heap size for the 32-bit JVM is usually between 512m and 1024m.\r\n\r\nYou can find more details in [IntelliJ IDEA FAQ](https://intellij-support.jetbrains.com/hc/articles/207241105) and in [this answer](https://stackoverflow.com/a/13489882/104891).","title":"IntelliJ IDEA: Abnormal build process termination after heap size change","body":"<p>Change your project JSDK to 64-bit version, you are building and running with 32-bit JDK right now which cannot allocate more than 2GB RAM on Windows. Because of the other JVM requirements, the real maximum heap size for the 32-bit JVM is usually between 512m and 1024m.</p>\n\n<p>You can find more details in <a href=\"https://intellij-support.jetbrains.com/hc/articles/207241105\" rel=\"noreferrer\">IntelliJ IDEA FAQ</a> and in <a href=\"https://stackoverflow.com/a/13489882/104891\">this answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":3081999,"reputation":2709,"user_id":2610010,"accept_rate":76,"display_name":"Ameer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528865749,"creation_date":1528865749,"answer_id":50829310,"question_id":43294333,"body_markdown":"I was also having same problem. In my case Android Support was not enabled (File&gt;&gt; Settings&gt;&gt; Android Support). Once I enabled and restarted Android Studio everything worked well.\r\n","title":"IntelliJ IDEA: Abnormal build process termination after heap size change","body":"<p>I was also having same problem. In my case Android Support was not enabled (File>> Settings>> Android Support). Once I enabled and restarted Android Studio everything worked well.</p>\n"},{"tags":[],"owner":{"account_id":4910538,"reputation":552,"user_id":3955956,"display_name":"Roshan Halwai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589871120,"creation_date":1589871120,"answer_id":61884881,"question_id":43294333,"body_markdown":"I am using Windows x64 bit machine. I was facing similar kind of problem. What I would suggests is first create a simple java application and I try executing it, if you see that the problem persists then try uninstalling the existing JDK and reinstall from this [link][1].\r\n\r\nElse, if your test application seems to work fine, then there is some issue with your project JDK path or module settings. Try reimporting the project and check if the JDK path is provided correctly\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/","title":"IntelliJ IDEA: Abnormal build process termination after heap size change","body":"<p>I am using Windows x64 bit machine. I was facing similar kind of problem. What I would suggests is first create a simple java application and I try executing it, if you see that the problem persists then try uninstalling the existing JDK and reinstall from this <a href=\"https://www.oracle.com/java/technologies/\" rel=\"nofollow noreferrer\">link</a>.</p>\n\n<p>Else, if your test application seems to work fine, then there is some issue with your project JDK path or module settings. Try reimporting the project and check if the JDK path is provided correctly</p>\n"},{"tags":[],"owner":{"account_id":29524271,"reputation":1,"user_id":22626318,"display_name":"Kamil Huseynov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695581661,"creation_date":1695581661,"answer_id":77168512,"question_id":43294333,"body_markdown":"File-&gt;Project structure-&gt;on SDK field change jdk version to higher","title":"IntelliJ IDEA: Abnormal build process termination after heap size change","body":"<p>File-&gt;Project structure-&gt;on SDK field change jdk version to higher</p>\n"}],"owner":{"account_id":6445979,"reputation":171,"user_id":4994474,"display_name":"John Mellor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27409,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":43294589,"answer_count":4,"score":5,"last_activity_date":1695581661,"creation_date":1491656008,"question_id":43294333,"body_markdown":"I&#39;ve been trying to allocate 256MB array, which produced Java heap space exception. I&#39;ve tried [this solution](https://stackoverflow.com/a/17221838) and it didn&#39;t help. So I&#39;ve been looking for another similar problems and found [this](https://stackoverflow.com/a/36518169). However, after raising the heap size above 1377MB i get this error:\r\n\r\n&gt; Error:Abnormal build process termination:  &quot;C:\\Program Files\r\n&gt; (x86)\\Java\\jdk1.8.0_91\\bin\\java&quot; -Xmx1377m -Djava.awt.headless=true\r\n&gt; -Djava.endorsed.dirs=\\&quot;\\&quot; -Djdt.compiler.useSingleThread=true -Dpreload.project.path=C:/Users/JohnDoe/Documents/CacheTest -Dpreload.config.path=C:/Users/JohnDoe/.IntelliJIdea2016.1/config/options\r\n&gt; -Dcompile.parallel=false -Drebuild.on.dependency.change=true -Djava.net.preferIPv4Stack=true -Dio.netty.initialSeedUniquifier=-2473188797876308560 -Dfile.encoding=windows-1250 -Djps.file.types.component.name=FileTypeManager -Duser.language=en -Duser.country=US -Didea.paths.selector=IntelliJIdea2016.1 &quot;-Didea.home.path=C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA\r\n&gt; 2016.1.1&quot; -Didea.config.path=C:\\Users\\JohnDoe\\.IntelliJIdea2016.1\\config -Didea.plugins.path=C:\\Users\\JohnDoe\\.IntelliJIdea2016.1\\config\\plugins\r\n&gt; -Djps.log.dir=C:/Users/JohnDoe/.IntelliJIdea2016.1/system/log/build-log\r\n&gt; -Djava.io.tmpdir=C:/Users/JohnDoe/.IntelliJIdea2016.1/system/compile-server/_temp_\r\n&gt; -Dkotlin.daemon.enabled -Dkotlin.daemon.client.alive.path=\\&quot;C:\\Users\\JOHNDO~1\\AppData\\Local\\Temp\\kotlin-idea-1150430122745838-is-running\\&quot;\r\n&gt; -classpath &quot;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/jps-launcher.jar;C:/Program Files (x86)/Java/jdk1.8.0_91/lib/tools.jar;C:/Program Files\r\n&gt; (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/lib/optimizedFileManager.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/ecj-4.5.2.jar&quot;\r\n&gt; org.jetbrains.jps.cmdline.Launcher &quot;C:/Program Files\r\n&gt; (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/resources_en.jar;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/lib/oromatcher.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/protobuf-2.5.0.jar;C:/Program Files\r\n&gt; (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/jsr166e.jar;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/lib/asm-all.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/util.jar;C:/Program Files (x86)/JetBrains/IntelliJ\r\n&gt; IDEA 2016.1.1/lib/javac2.jar;C:/Program Files (x86)/JetBrains/IntelliJ\r\n&gt; IDEA 2016.1.1/lib/annotations.jar;C:/Program Files\r\n&gt; (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/jna-platform.jar;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/lib/nanoxml-2.2.3.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/jps-builders.jar;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/lib/trove4j.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/rt/jps-plugin-system.jar;C:/Program Files\r\n&gt; (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/jps-model.jar;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/lib/forms_rt.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/jna.jar;C:/Program Files (x86)/JetBrains/IntelliJ\r\n&gt; IDEA 2016.1.1/lib/idea_rt.jar;C:/Program Files\r\n&gt; (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/lib/netty-all-4.1.0.Beta8.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/lib/jgoodies-forms.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/jdom.jar;C:/Program Files\r\n&gt; (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/log4j.jar;C:/Program Files\r\n&gt; (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/lib/picocontainer.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/lib/snappy-in-java-0.3.1.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/openapi.jar;;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/commons-io-1.4.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle-base-services-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle-base-services-groovy-2.9.jar;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle-cli-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle-core-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle-messaging-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle-model-core-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle-model-groovy-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle-native-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle-resources-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle-tooling-api-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle-tooling-extension-api.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle-tooling-extension-impl.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle-wrapper-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/guava-jdk5-17.0.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/jna-3.2.7.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/jsr305-1.3.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/kryo-2.22.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/minlog-1.2.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/native-platform-0.10.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/native-platform-freebsd-amd64-0.10.jar;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/native-platform-freebsd-i386-0.10.jar;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/native-platform-linux-amd64-0.10.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/native-platform-linux-i386-0.10.jar;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/native-platform-osx-amd64-0.10.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/native-platform-osx-i386-0.10.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/native-platform-windows-amd64-0.10.jar;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/native-platform-windows-i386-0.10.jar;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/objenesis-1.2.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/reflectasm-1.07.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/resources_en.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/gson-2.5.jar;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/ant/lib/ant-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/devkit/lib/devkit-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/uiDesigner/lib/jps/ui-designer-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/IntelliLang/lib/intellilang-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/Groovy/lib/groovy-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/Groovy/lib/groovy-rt-constants.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/eclipse/lib/eclipse-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/eclipse/lib/common-eclipse-util.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/maven/lib/maven-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/maven/lib/maven3/lib/plexus-utils-2.0.6.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/osmorc/lib/osmorc-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/osmorc/lib/bndlib-3.0.0.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/osmorc/lib/bndlib-plugins-3.0.0.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/osmorc/lib/plexus-utils-3.0.10.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/osmorc/lib/bundlor-all.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/aspectj/lib/aspectj-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/flex/lib/flex-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/flex/lib/flex-shared.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/JavaEE/lib/jps/javaee-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/JavaEE/lib/jps/jpa-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/weblogicIntegration/lib/jps/weblogic-jps-plugin.jar;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/dmServer/lib/dmServer-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/GwtStudio/lib/gwt-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/GoogleAppEngine/lib/google-app-engine-jps-plugin.jar;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/GoogleAppEngine/lib/appEngine-runtime.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/Grails/lib/grails-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/Grails/lib/grails-compiler-patch.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/android/lib/jps/android-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/android/lib/jps/android-gradle-jps.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/android/lib/android-common.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/android/lib/android-rt.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/android/lib/sdk-common.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/android/lib/sdklib.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/android/lib/common.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/android/lib/jarutils.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/android/lib/layoutlib-api.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/android/lib/manifest-merger.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/Kotlin/lib/jps/kotlin-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/Kotlin/lib/kotlin-runtime.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/Kotlin/lib/kotlin-reflect.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/Kotlin/lib/kotlin-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/Kotlin/lib/kotlin-android-extensions-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/Kotlin/lib/kotlin-android-extensions-compiler-plugin.jar;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/javaFX/lib/javaFX-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/javaFX/lib/common-javaFX-plugin.jar&quot; org.jetbrains.jps.cmdline.BuildMain 127.0.0.1 60896\r\n&gt; 96c068b6-4d3b-4924-a696-9af1caab47b3\r\n&gt; C:/Users/JohnDoe/.IntelliJIdea2016.1/system/compile-server\r\n\r\nI&#39;ve found many answers to such problem, but all of them are telling me to downgrade my NVIDIA driver which I&#39;m not able to do and which doesn&#39;t make sense to me at all. What I&#39;m looking for is the some sort of explanation why this is happening and what could I do to solve it. \r\n\r\nNote: I&#39;m using x64 IDEA. ","title":"IntelliJ IDEA: Abnormal build process termination after heap size change","body":"<p>I've been trying to allocate 256MB array, which produced Java heap space exception. I've tried <a href=\"https://stackoverflow.com/a/17221838\">this solution</a> and it didn't help. So I've been looking for another similar problems and found <a href=\"https://stackoverflow.com/a/36518169\">this</a>. However, after raising the heap size above 1377MB i get this error:</p>\n\n<blockquote>\n  <p>Error:Abnormal build process termination:  \"C:\\Program Files\n  (x86)\\Java\\jdk1.8.0_91\\bin\\java\" -Xmx1377m -Djava.awt.headless=true\n  -Djava.endorsed.dirs=\\\"\\\" -Djdt.compiler.useSingleThread=true -Dpreload.project.path=C:/Users/JohnDoe/Documents/CacheTest -Dpreload.config.path=C:/Users/JohnDoe/.IntelliJIdea2016.1/config/options\n  -Dcompile.parallel=false -Drebuild.on.dependency.change=true -Djava.net.preferIPv4Stack=true -Dio.netty.initialSeedUniquifier=-2473188797876308560 -Dfile.encoding=windows-1250 -Djps.file.types.component.name=FileTypeManager -Duser.language=en -Duser.country=US -Didea.paths.selector=IntelliJIdea2016.1 \"-Didea.home.path=C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA\n  2016.1.1\" -Didea.config.path=C:\\Users\\JohnDoe.IntelliJIdea2016.1\\config -Didea.plugins.path=C:\\Users\\JohnDoe.IntelliJIdea2016.1\\config\\plugins\n  -Djps.log.dir=C:/Users/JohnDoe/.IntelliJIdea2016.1/system/log/build-log\n  -Djava.io.tmpdir=C:/Users/JohnDoe/.IntelliJIdea2016.1/system/compile-server/<em>temp</em>\n  -Dkotlin.daemon.enabled -Dkotlin.daemon.client.alive.path=\\\"C:\\Users\\JOHNDO~1\\AppData\\Local\\Temp\\kotlin-idea-1150430122745838-is-running\\\"\n  -classpath \"C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/jps-launcher.jar;C:/Program Files (x86)/Java/jdk1.8.0_91/lib/tools.jar;C:/Program Files\n  (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/lib/optimizedFileManager.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/ecj-4.5.2.jar\"\n  org.jetbrains.jps.cmdline.Launcher \"C:/Program Files\n  (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/resources_en.jar;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/lib/oromatcher.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/protobuf-2.5.0.jar;C:/Program Files\n  (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/jsr166e.jar;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/lib/asm-all.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/util.jar;C:/Program Files (x86)/JetBrains/IntelliJ\n  IDEA 2016.1.1/lib/javac2.jar;C:/Program Files (x86)/JetBrains/IntelliJ\n  IDEA 2016.1.1/lib/annotations.jar;C:/Program Files\n  (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/jna-platform.jar;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/lib/nanoxml-2.2.3.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/jps-builders.jar;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/lib/trove4j.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/rt/jps-plugin-system.jar;C:/Program Files\n  (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/jps-model.jar;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/lib/forms_rt.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/jna.jar;C:/Program Files (x86)/JetBrains/IntelliJ\n  IDEA 2016.1.1/lib/idea_rt.jar;C:/Program Files\n  (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/lib/netty-all-4.1.0.Beta8.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/lib/jgoodies-forms.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/jdom.jar;C:/Program Files\n  (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/log4j.jar;C:/Program Files\n  (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/lib/picocontainer.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/lib/snappy-in-java-0.3.1.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/openapi.jar;;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/commons-io-1.4.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle-base-services-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle-base-services-groovy-2.9.jar;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle-cli-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle-core-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle-messaging-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle-model-core-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle-model-groovy-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle-native-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle-resources-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle-tooling-api-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle-tooling-extension-api.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle-tooling-extension-impl.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle-wrapper-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/guava-jdk5-17.0.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/jna-3.2.7.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/jsr305-1.3.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/kryo-2.22.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/minlog-1.2.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/native-platform-0.10.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/native-platform-freebsd-amd64-0.10.jar;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/native-platform-freebsd-i386-0.10.jar;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/native-platform-linux-amd64-0.10.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/native-platform-linux-i386-0.10.jar;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/native-platform-osx-amd64-0.10.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/native-platform-osx-i386-0.10.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/native-platform-windows-amd64-0.10.jar;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/native-platform-windows-i386-0.10.jar;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/objenesis-1.2.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/reflectasm-1.07.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/resources_en.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/gson-2.5.jar;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/ant/lib/ant-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/devkit/lib/devkit-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/uiDesigner/lib/jps/ui-designer-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/IntelliLang/lib/intellilang-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/Groovy/lib/groovy-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/Groovy/lib/groovy-rt-constants.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/eclipse/lib/eclipse-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/eclipse/lib/common-eclipse-util.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/maven/lib/maven-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/maven/lib/maven3/lib/plexus-utils-2.0.6.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/osmorc/lib/osmorc-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/osmorc/lib/bndlib-3.0.0.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/osmorc/lib/bndlib-plugins-3.0.0.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/osmorc/lib/plexus-utils-3.0.10.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/osmorc/lib/bundlor-all.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/aspectj/lib/aspectj-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/flex/lib/flex-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/flex/lib/flex-shared.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/JavaEE/lib/jps/javaee-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/JavaEE/lib/jps/jpa-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/weblogicIntegration/lib/jps/weblogic-jps-plugin.jar;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/dmServer/lib/dmServer-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/GwtStudio/lib/gwt-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/GoogleAppEngine/lib/google-app-engine-jps-plugin.jar;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/GoogleAppEngine/lib/appEngine-runtime.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/Grails/lib/grails-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/Grails/lib/grails-compiler-patch.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/android/lib/jps/android-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/android/lib/jps/android-gradle-jps.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/android/lib/android-common.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/android/lib/android-rt.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/android/lib/sdk-common.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/android/lib/sdklib.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/android/lib/common.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/android/lib/jarutils.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/android/lib/layoutlib-api.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/android/lib/manifest-merger.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/Kotlin/lib/jps/kotlin-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/Kotlin/lib/kotlin-runtime.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/Kotlin/lib/kotlin-reflect.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/Kotlin/lib/kotlin-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/Kotlin/lib/kotlin-android-extensions-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/Kotlin/lib/kotlin-android-extensions-compiler-plugin.jar;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/javaFX/lib/javaFX-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/javaFX/lib/common-javaFX-plugin.jar\" org.jetbrains.jps.cmdline.BuildMain 127.0.0.1 60896\n  96c068b6-4d3b-4924-a696-9af1caab47b3\n  C:/Users/JohnDoe/.IntelliJIdea2016.1/system/compile-server</p>\n</blockquote>\n\n<p>I've found many answers to such problem, but all of them are telling me to downgrade my NVIDIA driver which I'm not able to do and which doesn't make sense to me at all. What I'm looking for is the some sort of explanation why this is happening and what could I do to solve it. </p>\n\n<p>Note: I'm using x64 IDEA. </p>\n"},{"tags":["java","list","oop","interface"],"comments":[{"owner":{"account_id":3883582,"reputation":32684,"user_id":3215527,"accept_rate":40,"display_name":"wero"},"score":1,"creation_date":1466252431,"post_id":37896843,"comment_id":63247076,"body_markdown":"how often would you use it?","body":"how often would you use it?"},{"owner":{"account_id":1116463,"reputation":45729,"user_id":1272683,"accept_rate":81,"display_name":"Hanfei Sun"},"score":0,"creation_date":1466252654,"post_id":37896843,"comment_id":63247131,"body_markdown":"@wero not very often honestly..","body":"@wero not very often honestly.."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1466252654,"post_id":37896843,"comment_id":63247132,"body_markdown":"i guess the fact that it exists on Collections means that it wasn&#39;t forgotten. Probably the makers of the collection interfaces simply tried to keep those interfaces as &quot;light&quot; as possible.","body":"i guess the fact that it exists on Collections means that it wasn&#39;t forgotten. Probably the makers of the collection interfaces simply tried to keep those interfaces as &quot;light&quot; as possible."},{"owner":{"account_id":3883582,"reputation":32684,"user_id":3215527,"accept_rate":40,"display_name":"wero"},"score":0,"creation_date":1466253441,"post_id":37896843,"comment_id":63247338,"body_markdown":"@hanfeisun since `Collection.reverse` was introduced at the same time than `List` itself (JDK 1.2) it was most likely intention of the designers to not include it in the `List` interface but rather provide a helper method only.","body":"@hanfeisun since <code>Collection.reverse</code> was introduced at the same time than <code>List</code> itself (JDK 1.2) it was most likely intention of the designers to not include it in the <code>List</code> interface but rather provide a helper method only."},{"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"score":0,"creation_date":1466257365,"post_id":37896843,"comment_id":63248474,"body_markdown":"This is a special case of the question http://stackoverflow.com/q/3089284/3182664 (one could instantiate the same question with `fill`, `shuffle` and other static methods...)","body":"This is a special case of the question <a href=\"http://stackoverflow.com/q/3089284/3182664\">stackoverflow.com/q/3089284/3182664</a> (one could instantiate the same question with <code>fill</code>, <code>shuffle</code> and other static methods...)"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":2,"up_vote_count":13,"is_accepted":true,"score":11,"last_activity_date":1617980090,"creation_date":1466252975,"answer_id":37896956,"question_id":37896843,"body_markdown":"&gt; Why is there no `List.reverse()` method in Java?\r\n\r\nBecause there is a `Collections.reverse(List)` method instead.  \r\n\r\nBecause the API designers figured it was a bad idea to force *every* `List` implementation&lt;sup&gt;1&lt;/sup&gt; to implement a method that wasn&#39;t used 99.9% of the time&lt;sup&gt;2&lt;/sup&gt;.  This could be addressed by making the method &quot;optional&quot;, but that has downsides too; e.g. runtime exceptions.\r\n\r\nBecause for some kinds of list (stream wrappers / adapters for example) implementing in-place reverse would be problematic.  It changes the memory usage characteristics of the list by requiring it to be reified.\r\n\r\nAlso note that the generic implementation ([source code][1]) of `reverse()` that is provided by `Collection` uses `set` to swap elements.  It is close to optimal for the standard list types.\r\n\r\n--------------\r\n\r\n@shmosel comments:\r\n\r\n&gt; I assume OP is asking why it wasn&#39;t added as a default method, as List.sort() was.\r\n\r\nGood point.  Possibly the 99.9% argument applies. Bear in mind that this would only help people with a codebase that is built using a Java 8 or later compilers, etc.\r\n\r\n--------------\r\n\r\n&lt;sup&gt;1 - This includes implementations in your codebase and 3rd-party libraries.&lt;/sup&gt;\r\n\r\n&lt;sup&gt;2 - 86% of statistics are made up for theatrical effect :-) &lt;/sup&gt;\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/Collections.java#Collections.reverse%28java.util.List%29","title":"Why is there no &quot;List.reverse()&quot; method in Java?","body":"<blockquote>\n<p>Why is there no <code>List.reverse()</code> method in Java?</p>\n</blockquote>\n<p>Because there is a <code>Collections.reverse(List)</code> method instead.</p>\n<p>Because the API designers figured it was a bad idea to force <em>every</em> <code>List</code> implementation<sup>1</sup> to implement a method that wasn't used 99.9% of the time<sup>2</sup>.  This could be addressed by making the method &quot;optional&quot;, but that has downsides too; e.g. runtime exceptions.</p>\n<p>Because for some kinds of list (stream wrappers / adapters for example) implementing in-place reverse would be problematic.  It changes the memory usage characteristics of the list by requiring it to be reified.</p>\n<p>Also note that the generic implementation (<a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/Collections.java#Collections.reverse%28java.util.List%29\" rel=\"nofollow noreferrer\">source code</a>) of <code>reverse()</code> that is provided by <code>Collection</code> uses <code>set</code> to swap elements.  It is close to optimal for the standard list types.</p>\n<hr />\n<p>@shmosel comments:</p>\n<blockquote>\n<p>I assume OP is asking why it wasn't added as a default method, as List.sort() was.</p>\n</blockquote>\n<p>Good point.  Possibly the 99.9% argument applies. Bear in mind that this would only help people with a codebase that is built using a Java 8 or later compilers, etc.</p>\n<hr />\n<p><sup>1 - This includes implementations in your codebase and 3rd-party libraries.</sup></p>\n<p><sup>2 - 86% of statistics are made up for theatrical effect :-) </sup></p>\n"},{"tags":[],"owner":{"account_id":5426896,"reputation":58746,"user_id":4318868,"display_name":"Slava Vedenin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1466253439,"creation_date":1466253057,"answer_id":37896973,"question_id":37896843,"body_markdown":"If you need `list.reverse()` you need to use [Eclipse Collections][1], when you can use just `list.reverseThis()`, see [this][2]. In JDK list, a lot of method (like sort, max, min) does not be added.  \r\n\r\nIt&#39;s two different ways of API design:\r\n\r\n 1. A lot of method in Collection -&gt; rich collection -&gt; Eclipse\r\n    Collections, **drawback**: a lot of rarely used method in List,\r\n 2. Only most used method and Utility class -&gt; JDK\r\n        collection, **drawback**: need to use Utility class like Collections, \r\n\r\n  [1]: https://www.eclipse.org/collections/\r\n  [2]: https://www.eclipse.org/collections/javadoc/7.1.0/org/eclipse/collections/api/list/MutableList.html","title":"Why is there no &quot;List.reverse()&quot; method in Java?","body":"<p>If you need <code>list.reverse()</code> you need to use <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow\">Eclipse Collections</a>, when you can use just <code>list.reverseThis()</code>, see <a href=\"https://www.eclipse.org/collections/javadoc/7.1.0/org/eclipse/collections/api/list/MutableList.html\" rel=\"nofollow\">this</a>. In JDK list, a lot of method (like sort, max, min) does not be added.  </p>\n\n<p>It's two different ways of API design:</p>\n\n<ol>\n<li>A lot of method in Collection -> rich collection -> Eclipse\nCollections, <strong>drawback</strong>: a lot of rarely used method in List,</li>\n<li>Only most used method and Utility class -> JDK\n    collection, <strong>drawback</strong>: need to use Utility class like Collections, </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3016236,"reputation":15507,"user_id":4969827,"display_name":"Sergey Shustikov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1466257351,"creation_date":1466253091,"answer_id":37896978,"question_id":37896843,"body_markdown":"Because `Collection` is an utilitarian class, that actually based on one of [SOLID][1] principle : &lt;br&gt;**S - Single Responsibility Principle**\r\n\r\n&gt; This principle states that if we have **2 reasons** to change for a class, we have to split the functionality in two classes.\r\n\r\n\r\n\r\nYou have a class that play a some role, and if you need to manipulate of inner data you need to create some subsidiary class, that will plays another role.\r\n\r\n  [1]: https://scotch.io/bar-talk/s-o-l-i-d-the-first-five-principles-of-object-oriented-design","title":"Why is there no &quot;List.reverse()&quot; method in Java?","body":"<p>Because <code>Collection</code> is an utilitarian class, that actually based on one of <a href=\"https://scotch.io/bar-talk/s-o-l-i-d-the-first-five-principles-of-object-oriented-design\" rel=\"nofollow\">SOLID</a> principle : <br><strong>S - Single Responsibility Principle</strong></p>\n\n<blockquote>\n  <p>This principle states that if we have <strong>2 reasons</strong> to change for a class, we have to split the functionality in two classes.</p>\n</blockquote>\n\n<p>You have a class that play a some role, and if you need to manipulate of inner data you need to create some subsidiary class, that will plays another role.</p>\n"},{"tags":[],"owner":{"account_id":6517130,"reputation":13016,"user_id":5044950,"accept_rate":83,"display_name":"Sam Estep"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1466253124,"creation_date":1466253124,"answer_id":37896986,"question_id":37896843,"body_markdown":"For the same reason that [`fill`][fill] and [`rotate`][rotate] and [`shuffle`][shuffle] and [`swap`][swap] and infinitely more possible list functions aren&#39;t declared in the `List` interface. They&#39;re not *part* of the &quot;list&quot; abstraction; rather, they can be implemented *on top of* that abstraction.\r\n\r\nOnce a `List` implements the methods already in the `List` interface, a `reverse` function can be written on top of the `List` abstraction without any knowledge of a particular `List` implementation. Therefore, it would be pointless to force every class implementing `List` to provide a custom implementation of `reverse` (and `fill`, `rotate`, `shuffle`, `swap`, etc.).\r\n\r\n[fill]: https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#fill-java.util.List-T-\r\n[rotate]: https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#rotate-java.util.List-int-\r\n[shuffle]: https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#shuffle-java.util.List-\r\n[swap]: https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#swap-java.util.List-int-int-","title":"Why is there no &quot;List.reverse()&quot; method in Java?","body":"<p>For the same reason that <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#fill-java.util.List-T-\"><code>fill</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#rotate-java.util.List-int-\"><code>rotate</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#shuffle-java.util.List-\"><code>shuffle</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#swap-java.util.List-int-int-\"><code>swap</code></a> and infinitely more possible list functions aren't declared in the <code>List</code> interface. They're not <em>part</em> of the \"list\" abstraction; rather, they can be implemented <em>on top of</em> that abstraction.</p>\n\n<p>Once a <code>List</code> implements the methods already in the <code>List</code> interface, a <code>reverse</code> function can be written on top of the <code>List</code> abstraction without any knowledge of a particular <code>List</code> implementation. Therefore, it would be pointless to force every class implementing <code>List</code> to provide a custom implementation of <code>reverse</code> (and <code>fill</code>, <code>rotate</code>, <code>shuffle</code>, <code>swap</code>, etc.).</p>\n"},{"tags":[],"owner":{"account_id":8143083,"reputation":680,"user_id":6132556,"display_name":"Rishi Goel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466254703,"creation_date":1466254703,"answer_id":37897228,"question_id":37896843,"body_markdown":"Reverse is defined in Collections (with an extra (s)). This is not a part of collection hierarchy, rather it has been given as a part of utility class which can be used for different Lists.  \r\n\r\nReversing a list is not a key part of defining a list , so its kept out of interface and given separately.  If defined in the interface, everyone will have to implement it, which may not be suitable for all. \r\n\r\nThe makers of collection could have build this in List hierarchy as well, ( Since most list derivations have an abstract class in between, they could have put it in any abstract class in between). However, to simplify everyone&#39;s life it makes sense to keep it in single utility class so that we don&#39;t have to figure out which class to look for all collection related utility functions.\r\n","title":"Why is there no &quot;List.reverse()&quot; method in Java?","body":"<p>Reverse is defined in Collections (with an extra (s)). This is not a part of collection hierarchy, rather it has been given as a part of utility class which can be used for different Lists.  </p>\n\n<p>Reversing a list is not a key part of defining a list , so its kept out of interface and given separately.  If defined in the interface, everyone will have to implement it, which may not be suitable for all. </p>\n\n<p>The makers of collection could have build this in List hierarchy as well, ( Since most list derivations have an abstract class in between, they could have put it in any abstract class in between). However, to simplify everyone's life it makes sense to keep it in single utility class so that we don't have to figure out which class to look for all collection related utility functions.</p>\n"},{"tags":[],"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1466257304,"creation_date":1466257304,"answer_id":37897638,"question_id":37896843,"body_markdown":"&lt;sub&gt;Note: This question is a very specific case of [&quot;Why does the Collections class contain standalone (static) methods, instead of them being added to the List interface?&quot;][1] - one could even consider is as a duplicate. Beyond that, arguing about the reasoning behind the decision for each individual method is reading tea leaves, and nobody can tell &quot;*the* reason&quot; for the design decision for the particular case of the `reverse` method (until, maybe Josh Bloch posts an answer here). Interestingly, this is a point that is not covered in the [Java Collections API Design FAQ][2]...&lt;/sub&gt;\r\n\r\n\r\n----------\r\n\r\n\r\nSome of the other answers seem convincing at the first glance, but raise other questions. Particularly, some of them don&#39;t give a reason for the design decision at all. Even if there are other ways to emulate the behavior of a certain method, or when a method is not used &quot;99.9% of all time&quot;, it can still make sense to include it in the interface. \r\n\r\n\r\n----------\r\n\r\n\r\nLooking at the `List` interface, you will notice that you can basically implement **all** methods based on two others:\r\n\r\n* `T get(int index)`\r\n* `int size()` \r\n\r\n(For a mutable list, you also need `set`). These are exactly the ones that are still abstract in `AbstractList`. So all other methods are rather &quot;convenience&quot; methods that can be implemented canonically, based on these two methods. In this regard, I think that [the answer Sam Estep][3] contains an important point: One could argue to implement dozens of other methods. And there would certainly be **good** reasons to do so. Having a look at the actual implementation of `Collections#reverse(List)`:\r\n\r\n    public static void reverse(List&lt;?&gt; list) {\r\n        int size = list.size();\r\n        if (size &lt; REVERSE_THRESHOLD || list instanceof RandomAccess) {\r\n            for (int i=0, mid=size&gt;&gt;1, j=size-1; i&lt;mid; i++, j--)\r\n                swap(list, i, j);\r\n        } else {\r\n            ListIterator fwd = list.listIterator();\r\n            ListIterator rev = list.listIterator(size);\r\n            for (int i=0, mid=list.size()&gt;&gt;1; i&lt;mid; i++) {\r\n                Object tmp = fwd.next();\r\n                fwd.set(rev.previous());\r\n                rev.set(tmp);\r\n            }\r\n        }\r\n    }\r\n\r\nWhat is this `REVERSE_THRESHOLD` and `RandomAccess` thing there? Seriously, if I felt the necessity to introduce a tagging interface like `RandomAccess`, I would **strongly** question my design. Whenever you have a method like\r\n\r\n    void doSomethingWith(Type x) {\r\n        if (x instanceof Special) doSomethingSpecial((Special)x);\r\n        else doSomethingNormal(x);\r\n    }\r\n\r\nthen this is a **strong** sign that this should actually be a polymorphic method, which should be implemented accordingly for the `Special` type. \r\n\r\n\r\n----------\r\n\r\nSo yes, it have been justified to pull the `reverse` method into the interface, to allow a polymorphic implementation. The same applies to `fill` `rotate`, `shuffle`, `swap`, `sort` and others. Similarly, one could have introduced a static method like \r\n\r\n    Collections.containsAll(containing, others);\r\n\r\nthat offers what is now done with the `Collection#containsAll` method. But in general: The designers chose a particular set of methods that they found suitable. One of the reasonings behind leaving out certain methods may be given by one of the bottom lines of [the talk about &quot;How to Design a Good API &amp; Why it Matters&quot; by Joshua Bloch][4], one of the core designers of the Java Collections API:\r\n\r\n## When in doubt, leave it out ##\r\n\r\nInterestingly, of all the methods for which a polymorphic implementation (via a method in the `List` interface) could have been reasonable, **one** actually found its way into the interface, using a Java 8 `default` method:[`List#sort()`][5]. Maybe others, like `reverse`, will be added later...\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3089284/why-does-the-collections-class-contain-standalone-static-methods-instead-of-t\r\n  [2]: https://docs.oracle.com/javase/8/docs/technotes/guides/collections/designfaq.html\r\n  [3]: https://stackoverflow.com/a/37896986/3182664\r\n  [4]: https://www.infoq.com/presentations/effective-api-design\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/List.html#sort-java.util.Comparator-","title":"Why is there no &quot;List.reverse()&quot; method in Java?","body":"<p><sub>Note: This question is a very specific case of <a href=\"https://stackoverflow.com/questions/3089284/why-does-the-collections-class-contain-standalone-static-methods-instead-of-t\">\"Why does the Collections class contain standalone (static) methods, instead of them being added to the List interface?\"</a> - one could even consider is as a duplicate. Beyond that, arguing about the reasoning behind the decision for each individual method is reading tea leaves, and nobody can tell \"<em>the</em> reason\" for the design decision for the particular case of the <code>reverse</code> method (until, maybe Josh Bloch posts an answer here). Interestingly, this is a point that is not covered in the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/collections/designfaq.html\" rel=\"nofollow noreferrer\">Java Collections API Design FAQ</a>...</sub></p>\n\n<hr>\n\n<p>Some of the other answers seem convincing at the first glance, but raise other questions. Particularly, some of them don't give a reason for the design decision at all. Even if there are other ways to emulate the behavior of a certain method, or when a method is not used \"99.9% of all time\", it can still make sense to include it in the interface. </p>\n\n<hr>\n\n<p>Looking at the <code>List</code> interface, you will notice that you can basically implement <strong>all</strong> methods based on two others:</p>\n\n<ul>\n<li><code>T get(int index)</code></li>\n<li><code>int size()</code> </li>\n</ul>\n\n<p>(For a mutable list, you also need <code>set</code>). These are exactly the ones that are still abstract in <code>AbstractList</code>. So all other methods are rather \"convenience\" methods that can be implemented canonically, based on these two methods. In this regard, I think that <a href=\"https://stackoverflow.com/a/37896986/3182664\">the answer Sam Estep</a> contains an important point: One could argue to implement dozens of other methods. And there would certainly be <strong>good</strong> reasons to do so. Having a look at the actual implementation of <code>Collections#reverse(List)</code>:</p>\n\n<pre><code>public static void reverse(List&lt;?&gt; list) {\n    int size = list.size();\n    if (size &lt; REVERSE_THRESHOLD || list instanceof RandomAccess) {\n        for (int i=0, mid=size&gt;&gt;1, j=size-1; i&lt;mid; i++, j--)\n            swap(list, i, j);\n    } else {\n        ListIterator fwd = list.listIterator();\n        ListIterator rev = list.listIterator(size);\n        for (int i=0, mid=list.size()&gt;&gt;1; i&lt;mid; i++) {\n            Object tmp = fwd.next();\n            fwd.set(rev.previous());\n            rev.set(tmp);\n        }\n    }\n}\n</code></pre>\n\n<p>What is this <code>REVERSE_THRESHOLD</code> and <code>RandomAccess</code> thing there? Seriously, if I felt the necessity to introduce a tagging interface like <code>RandomAccess</code>, I would <strong>strongly</strong> question my design. Whenever you have a method like</p>\n\n<pre><code>void doSomethingWith(Type x) {\n    if (x instanceof Special) doSomethingSpecial((Special)x);\n    else doSomethingNormal(x);\n}\n</code></pre>\n\n<p>then this is a <strong>strong</strong> sign that this should actually be a polymorphic method, which should be implemented accordingly for the <code>Special</code> type. </p>\n\n<hr>\n\n<p>So yes, it have been justified to pull the <code>reverse</code> method into the interface, to allow a polymorphic implementation. The same applies to <code>fill</code> <code>rotate</code>, <code>shuffle</code>, <code>swap</code>, <code>sort</code> and others. Similarly, one could have introduced a static method like </p>\n\n<pre><code>Collections.containsAll(containing, others);\n</code></pre>\n\n<p>that offers what is now done with the <code>Collection#containsAll</code> method. But in general: The designers chose a particular set of methods that they found suitable. One of the reasonings behind leaving out certain methods may be given by one of the bottom lines of <a href=\"https://www.infoq.com/presentations/effective-api-design\" rel=\"nofollow noreferrer\">the talk about \"How to Design a Good API &amp; Why it Matters\" by Joshua Bloch</a>, one of the core designers of the Java Collections API:</p>\n\n<h2>When in doubt, leave it out</h2>\n\n<p>Interestingly, of all the methods for which a polymorphic implementation (via a method in the <code>List</code> interface) could have been reasonable, <strong>one</strong> actually found its way into the interface, using a Java 8 <code>default</code> method:<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#sort-java.util.Comparator-\" rel=\"nofollow noreferrer\"><code>List#sort()</code></a>. Maybe others, like <code>reverse</code>, will be added later...</p>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695579793,"creation_date":1693177796,"answer_id":76989272,"question_id":37896843,"body_markdown":"I believe the `why` question has already been answered, but here is a catch - [`List.reversed`][1] is going to be available since Java 21 (release date 19th September 2023):\r\n```\r\nSystem.out.println(List.of(1, 2, 3).reversed()); // [3, 2, 1]\r\n```\r\n**Note:** It returns a reverse-ordered [view][2] of this collection.\r\n\r\nAdditional details in [JEP 431: Sequenced Collections][3].\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#reversed()\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html#view\r\n  [3]: https://openjdk.org/jeps/431","title":"Why is there no &quot;List.reverse()&quot; method in Java?","body":"<p>I believe the <code>why</code> question has already been answered, but here is a catch - <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#reversed()\" rel=\"nofollow noreferrer\"><code>List.reversed</code></a> is going to be available since Java 21 (release date 19th September 2023):</p>\n<pre><code>System.out.println(List.of(1, 2, 3).reversed()); // [3, 2, 1]\n</code></pre>\n<p><strong>Note:</strong> It returns a reverse-ordered <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html#view\" rel=\"nofollow noreferrer\">view</a> of this collection.</p>\n<p>Additional details in <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\">JEP 431: Sequenced Collections</a>.</p>\n"}],"owner":{"account_id":1116463,"reputation":45729,"user_id":1272683,"accept_rate":81,"display_name":"Hanfei Sun"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3223,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":37896956,"answer_count":7,"score":15,"last_activity_date":1695579793,"creation_date":1466252344,"question_id":37896843,"body_markdown":"In Java, to reverse elements in a List, I need to use:\r\n\r\n    Collections.reverse(list)\r\n\r\nI was just wondering why Java doesn&#39;t implement the reverse method within the `List` interface so that I could do the in-place reverse like this:\r\n\r\n    list.reverse()\r\n\r\nDoes anyone have any ideas about this?","title":"Why is there no &quot;List.reverse()&quot; method in Java?","body":"<p>In Java, to reverse elements in a List, I need to use:</p>\n\n<pre><code>Collections.reverse(list)\n</code></pre>\n\n<p>I was just wondering why Java doesn't implement the reverse method within the <code>List</code> interface so that I could do the in-place reverse like this:</p>\n\n<pre><code>list.reverse()\n</code></pre>\n\n<p>Does anyone have any ideas about this?</p>\n"},{"tags":["java","list","sorting"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1693610326,"post_id":2503363,"comment_id":135788307,"body_markdown":"Update: In Java 21+, use `getFirst` as shown in [this Answer](https://stackoverflow.com/a/76989307/642706).","body":"Update: In Java 21+, use <code>getFirst</code> as shown in <a href=\"https://stackoverflow.com/a/76989307/642706\">this Answer</a>."}],"answers":[{"tags":[],"owner":{"account_id":20130,"reputation":279845,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"down_vote_count":1,"up_vote_count":92,"is_accepted":true,"score":91,"last_activity_date":1269376543,"creation_date":1269376231,"answer_id":2503368,"question_id":2503363,"body_markdown":"    playersList.get(0)\r\n\r\nJava has limited operator polymorphism.  So you use the `get()` method on `List` objects, not the array index operator (`[]`)","title":"How can I get a first element from a sorted list?","body":"<pre><code>playersList.get(0)\n</code></pre>\n\n<p>Java has limited operator polymorphism.  So you use the <code>get()</code> method on <code>List</code> objects, not the array index operator (<code>[]</code>)</p>\n"},{"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1269377220,"creation_date":1269376243,"answer_id":2503371,"question_id":2503363,"body_markdown":"You have to access lists a little differently than arrays in Java.  See the [javadocs][1] for the `List` interface for more information.\r\n\r\n    playersList.get(0)\r\n\r\n\r\nHowever if you want to find the smallest element in `playersList`, you shouldn&#39;t sort it and then get the first element.  This runs very slowly compared to just searching once through the list to find the smallest element.\r\n\r\nFor example:\r\n\r\n    int smallestIndex = 0;\r\n    for (int i = 1; i &lt; playersList.size(); i++) {\r\n        if (playersList.get(i) &lt; playersList.get(smallestIndex))\r\n            smallestIndex = i;\r\n    }\r\n    \r\n    playersList.get(smallestIndex);\r\n\r\nThe above code will find the smallest element in `O(n)` instead of `O(n log n)` time.\r\n\r\n[1]: http://java.sun.com/javase/6/docs/api/java/util/List.html","title":"How can I get a first element from a sorted list?","body":"<p>You have to access lists a little differently than arrays in Java.  See the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/List.html\" rel=\"noreferrer\">javadocs</a> for the <code>List</code> interface for more information.</p>\n\n<pre><code>playersList.get(0)\n</code></pre>\n\n<p>However if you want to find the smallest element in <code>playersList</code>, you shouldn't sort it and then get the first element.  This runs very slowly compared to just searching once through the list to find the smallest element.</p>\n\n<p>For example:</p>\n\n<pre><code>int smallestIndex = 0;\nfor (int i = 1; i &lt; playersList.size(); i++) {\n    if (playersList.get(i) &lt; playersList.get(smallestIndex))\n        smallestIndex = i;\n}\n\nplayersList.get(smallestIndex);\n</code></pre>\n\n<p>The above code will find the smallest element in <code>O(n)</code> instead of <code>O(n log n)</code> time.</p>\n"},{"tags":[],"owner":{"account_id":62440,"reputation":23185,"user_id":185541,"display_name":"rsp"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1269376647,"creation_date":1269376647,"answer_id":2503420,"question_id":2503363,"body_markdown":"That depends on what type your list is, for `ArrayList` use:\r\n\r\n    list.get(0);\r\n\r\nfor `LinkedList` use:\r\n\r\n    list.getFirst();\r\n\r\nif you like the `array` approach:\r\n\r\n    list.toArray()[0];\r\n\r\n","title":"How can I get a first element from a sorted list?","body":"<p>That depends on what type your list is, for <code>ArrayList</code> use:</p>\n\n<pre><code>list.get(0);\n</code></pre>\n\n<p>for <code>LinkedList</code> use:</p>\n\n<pre><code>list.getFirst();\n</code></pre>\n\n<p>if you like the <code>array</code> approach:</p>\n\n<pre><code>list.toArray()[0];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343794892,"creation_date":1269377739,"answer_id":2503558,"question_id":2503363,"body_markdown":"[Matthew&#39;s answer][1] is correct:\r\n\r\n    list.get(0);\r\n\r\nTo do what you tried:\r\n\r\n    list[0];\r\n\r\n you&#39;ll have to wait until [Java 7 is released:][2]\r\n\r\n![devoxx conference][3]\r\n\r\nHere&#39;s an interesting [presentation][4] by Mark Reinhold about Java 7 \r\n\r\n&lt;sub&gt;It looks like parleys site is currently down, try later :( &lt;/sub&gt;\r\n\r\n  [1]: https://stackoverflow.com/questions/2503363/how-can-i-get-a-first-element-from-a-sorted-list/2503368#2503368\r\n  [2]: http://blogs.oracle.com/darcy/entry/project_coin_final_five\r\n  [3]: http://img718.imageshack.us/img718/11/capturadepantalla201003cg.png\r\n  [4]: http://www.parleys.com/d/1568","title":"How can I get a first element from a sorted list?","body":"<p><a href=\"https://stackoverflow.com/questions/2503363/how-can-i-get-a-first-element-from-a-sorted-list/2503368#2503368\">Matthew's answer</a> is correct:</p>\n\n<pre><code>list.get(0);\n</code></pre>\n\n<p>To do what you tried:</p>\n\n<pre><code>list[0];\n</code></pre>\n\n<p>you'll have to wait until <a href=\"http://blogs.oracle.com/darcy/entry/project_coin_final_five\" rel=\"nofollow noreferrer\">Java 7 is released:</a></p>\n\n<p><a href=\"http://img718.imageshack.us/img718/11/capturadepantalla201003cg.png\" rel=\"nofollow noreferrer\">devoxx conference http://img718.imageshack.us/img718/11/capturadepantalla201003cg.png</a></p>\n\n<p>Here's an interesting <a href=\"http://www.parleys.com/d/1568\" rel=\"nofollow noreferrer\">presentation</a> by Mark Reinhold about Java 7 </p>\n\n<p><sub>It looks like parleys site is currently down, try later :( </sub></p>\n"},{"tags":[],"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1269378365,"creation_date":1269378365,"answer_id":2503629,"question_id":2503363,"body_markdown":"If your collection is not a `List` (and thus you can&#39;t use `get(int index)`), then you can use the iterator:\r\n\r\n    Iterator iter = collection.iterator();\r\n    if (iter.hasNext()) {\r\n        Object first = iter.next();\r\n    }","title":"How can I get a first element from a sorted list?","body":"<p>If your collection is not a <code>List</code> (and thus you can't use <code>get(int index)</code>), then you can use the iterator:</p>\n\n<pre><code>Iterator iter = collection.iterator();\nif (iter.hasNext()) {\n    Object first = iter.next();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1269379936,"creation_date":1269379936,"answer_id":2503784,"question_id":2503363,"body_markdown":"If you just want to get the minimum of a list, instead of sorting it and then getting the first element (`O(N log N)`), you can use do it in linear time using `min`:\r\n\r\n    &lt;T extends Object &amp; Comparable&lt;? super T&gt;&gt; T min(Collection&lt;? extends T&gt; coll)\r\n\r\nThat looks gnarly at first, but looking at your previous questions, you have a `List&lt;String&gt;`. In short: `min` works on it.\r\n\r\nFor the long answer: all that `super` and `extends` stuff in the generic type constraints is what Josh Bloch calls the PECS principle (usually presented next to a picture of Arnold -- I&#39;M NOT KIDDING!)\r\n\r\n&gt; Producer Extends, Consumer Super\r\n\r\nIt essentially makes generics more powerful, since the constraints are more flexible while still preserving type safety (see: [what is the difference between super and extends in Java Generics](https://stackoverflow.com/questions/1910892/what-is-the-difference-between-super-and-extends-in-java-generics))","title":"How can I get a first element from a sorted list?","body":"<p>If you just want to get the minimum of a list, instead of sorting it and then getting the first element (<code>O(N log N)</code>), you can use do it in linear time using <code>min</code>:</p>\n\n<pre><code>&lt;T extends Object &amp; Comparable&lt;? super T&gt;&gt; T min(Collection&lt;? extends T&gt; coll)\n</code></pre>\n\n<p>That looks gnarly at first, but looking at your previous questions, you have a <code>List&lt;String&gt;</code>. In short: <code>min</code> works on it.</p>\n\n<p>For the long answer: all that <code>super</code> and <code>extends</code> stuff in the generic type constraints is what Josh Bloch calls the PECS principle (usually presented next to a picture of Arnold -- I'M NOT KIDDING!)</p>\n\n<blockquote>\n  <p>Producer Extends, Consumer Super</p>\n</blockquote>\n\n<p>It essentially makes generics more powerful, since the constraints are more flexible while still preserving type safety (see: <a href=\"https://stackoverflow.com/questions/1910892/what-is-the-difference-between-super-and-extends-in-java-generics\">what is the difference between super and extends in Java Generics</a>)</p>\n"},{"tags":[],"owner":{"account_id":1507404,"reputation":9607,"user_id":1410465,"accept_rate":87,"display_name":"svarog"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1470415402,"creation_date":1470415402,"answer_id":38794120,"question_id":2503363,"body_markdown":"Using Java 8 streams, you can turn your list into a stream and get the first item in a list using the `.findFirst()` method.\r\n\r\n    List&lt;String&gt; stringsList = Arrays.asList(&quot;zordon&quot;, &quot;alpha&quot;, &quot;tommy&quot;);\r\n    Optional&lt;String&gt; optional = stringsList.stream().findFirst();\r\n    optional.get(); // &quot;zordon&quot;\r\n\r\nThe `.findFirst()` method will return an [Optional][1] that may or may not contain a string value (it may not contain a value if the `stringsList` is empty).\r\n\r\nThen to unwrap the item from the Optional use the `.get()` method.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html","title":"How can I get a first element from a sorted list?","body":"<p>Using Java 8 streams, you can turn your list into a stream and get the first item in a list using the <code>.findFirst()</code> method.</p>\n\n<pre><code>List&lt;String&gt; stringsList = Arrays.asList(\"zordon\", \"alpha\", \"tommy\");\nOptional&lt;String&gt; optional = stringsList.stream().findFirst();\noptional.get(); // \"zordon\"\n</code></pre>\n\n<p>The <code>.findFirst()</code> method will return an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow\">Optional</a> that may or may not contain a string value (it may not contain a value if the <code>stringsList</code> is empty).</p>\n\n<p>Then to unwrap the item from the Optional use the <code>.get()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":3352883,"reputation":1066,"user_id":2816548,"display_name":"Mikro Koder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525610384,"creation_date":1525610384,"answer_id":50199799,"question_id":2503363,"body_markdown":"        public class Main {\r\n    \t\r\n    \tpublic static List&lt;String&gt; list = new ArrayList();\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n  \t\t\r\n    \t\tList&lt;Integer&gt; l = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\tl.add(222);\r\n    \t\tl.add(100);\r\n    \t\tl.add(45);\r\n    \t\tl.add(415);\r\n    \t\tl.add(311);\r\n    \t\t\r\n    \t\tl.sort(null);\r\n    \t\tSystem.out.println(l.get(0));\r\n    \t}\r\n    }\r\n    \t\r\n\r\n\r\n\r\nwithout l.sort(null) returned 222\r\n\r\nwith l.sort(null) returned 45","title":"How can I get a first element from a sorted list?","body":"<pre><code>    public class Main {\n\n    public static List&lt;String&gt; list = new ArrayList();\n\n    public static void main(String[] args) {\n\n        List&lt;Integer&gt; l = new ArrayList&lt;&gt;();\n\n        l.add(222);\n        l.add(100);\n        l.add(45);\n        l.add(415);\n        l.add(311);\n\n        l.sort(null);\n        System.out.println(l.get(0));\n    }\n}\n</code></pre>\n\n<p>without l.sort(null) returned 222</p>\n\n<p>with l.sort(null) returned 45</p>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695579747,"creation_date":1693178618,"answer_id":76989307,"question_id":2503363,"body_markdown":"Since Java 21, simply using [`List.getFirst`][1]:\r\n```\r\nSystem.out.println(playersList.getFirst());\r\n```\r\n**Note:** Throws `NoSuchElementException` if the list is empty.\r\n\r\nAdditional details in [JEP 431: Sequenced Collections][2].\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#getFirst()\r\n  [2]: https://openjdk.org/jeps/431","title":"How can I get a first element from a sorted list?","body":"<p>Since Java 21, simply using <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#getFirst()\" rel=\"nofollow noreferrer\"><code>List.getFirst</code></a>:</p>\n<pre><code>System.out.println(playersList.getFirst());\n</code></pre>\n<p><strong>Note:</strong> Throws <code>NoSuchElementException</code> if the list is empty.</p>\n<p>Additional details in <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\">JEP 431: Sequenced Collections</a>.</p>\n"}],"owner":{"account_id":88863,"reputation":126149,"user_id":245549,"accept_rate":66,"display_name":"Roman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139178,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":2503368,"answer_count":9,"score":32,"last_activity_date":1695579747,"creation_date":1269376183,"question_id":2503363,"body_markdown":"I used `Collections.sort(playersList);` to sort a `List`. So, I think `playersList` is sorted now. But how can I get the first element of the list? `playersList[0]` does not work.","title":"How can I get a first element from a sorted list?","body":"<p>I used <code>Collections.sort(playersList);</code> to sort a <code>List</code>. So, I think <code>playersList</code> is sorted now. But how can I get the first element of the list? <code>playersList[0]</code> does not work.</p>\n"},{"tags":["java","data-structures","arraylist"],"comments":[{"owner":{"account_id":44195,"reputation":269033,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1370618927,"post_id":16987727,"comment_id":24541013,"body_markdown":"There is also `remove(int)`...","body":"There is also <code>remove(int)</code>..."},{"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"score":27,"creation_date":1370618942,"post_id":16987727,"comment_id":24541019,"body_markdown":"`list.remove(list.size()-1)` !!!","body":"<code>list.remove(list.size()-1)</code> !!!"},{"owner":{"account_id":948306,"reputation":2363,"user_id":975066,"display_name":"Justin Jasmann"},"score":2,"creation_date":1370619008,"post_id":16987727,"comment_id":24541062,"body_markdown":"Would a stack be a better solution here?","body":"Would a stack be a better solution here?"},{"owner":{"account_id":2048321,"reputation":17928,"user_id":1827903,"accept_rate":84,"display_name":"Zim-Zam O&#39;Pootertoot"},"score":6,"creation_date":1370619063,"post_id":16987727,"comment_id":24541101,"body_markdown":"Removing the last element is a constant time operation since no elements needed to be shifted to the left","body":"Removing the last element is a constant time operation since no elements needed to be shifted to the left"},{"owner":{"account_id":97652,"reputation":11676,"user_id":264775,"accept_rate":86,"display_name":"thegrinner"},"score":0,"creation_date":1370619350,"post_id":16987727,"comment_id":24541260,"body_markdown":"Continuing from @Zim-ZamO&#39;Pootertoot comment, remember that [big-O](http://en.wikipedia.org/wiki/Big_O_notation#Family_of_Bachmann.E2.80.93Landau_notations) represents the *upper* bound, better known as the worst case.","body":"Continuing from @Zim-ZamO&#39;Pootertoot comment, remember that <a href=\"http://en.wikipedia.org/wiki/Big_O_notation#Family_of_Bachmann.E2.80.93Landau_notations\" rel=\"nofollow noreferrer\">big-O</a> represents the <i>upper</i> bound, better known as the worst case."},{"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"score":0,"creation_date":1370619665,"post_id":16987727,"comment_id":24541465,"body_markdown":"First things first, if you are attempting to remove an element based on position (last) do not use the `remove` element that searches the list and might remove from any position.","body":"First things first, if you are attempting to remove an element based on position (last) do not use the <code>remove</code> element that searches the list and might remove from any position."},{"owner":{"account_id":1254274,"reputation":10027,"user_id":1214089,"accept_rate":100,"display_name":"Fritz"},"score":2,"creation_date":1370620065,"post_id":16987727,"comment_id":24541710,"body_markdown":"@TheNewIdiot You should have posted that as an answer... D:","body":"@TheNewIdiot You should have posted that as an answer... D:"},{"owner":{"account_id":44195,"reputation":269033,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":1,"creation_date":1370620933,"post_id":16987727,"comment_id":24542177,"body_markdown":"@thegrinner: &quot;big-o&quot; != &quot;worst-case&quot;.","body":"@thegrinner: &quot;big-o&quot; != &quot;worst-case&quot;."},{"owner":{"account_id":1833467,"reputation":7501,"user_id":1664315,"accept_rate":59,"display_name":"Arian"},"score":0,"creation_date":1370621021,"post_id":16987727,"comment_id":24542212,"body_markdown":"@TheNewIdiot I know how the syntax looks like , the question (Which is answered by Wchargin), is about the time complexity ! not the syntax","body":"@TheNewIdiot I know how the syntax looks like , the question (Which is answered by Wchargin), is about the time complexity ! not the syntax"},{"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"score":1,"creation_date":1370621141,"post_id":16987727,"comment_id":24542270,"body_markdown":"@Arian Hosseinzadeh , Ok if you knew the syntax then probably I assume that you would have gone through its implementation code-wise before asking this here , if not , then it is a bad question showing no effort on your part :)","body":"@Arian Hosseinzadeh , Ok if you knew the syntax then probably I assume that you would have gone through its implementation code-wise before asking this here , if not , then it is a bad question showing no effort on your part :)"},{"owner":{"account_id":1833467,"reputation":7501,"user_id":1664315,"accept_rate":59,"display_name":"Arian"},"score":0,"creation_date":1370622018,"post_id":16987727,"comment_id":24542675,"body_markdown":"@TheNewIdiot : if you look at the answer , you see that they say remove(int index) takes O(n) time , this was the effort I made :)\n\nhttp://stackoverflow.com/questions/6540511/time-complexity-for-java-arraylist","body":"@TheNewIdiot : if you look at the answer , you see that they say remove(int index) takes O(n) time , this was the effort I made :)  <a href=\"http://stackoverflow.com/questions/6540511/time-complexity-for-java-arraylist\" title=\"time complexity for java arraylist\">stackoverflow.com/questions/6540511/&hellip;</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1693182475,"post_id":16987727,"comment_id":135722151,"body_markdown":"@thegrinner No it doesn&#39;t. It represents the average. Consider a hash lookup: *O(1)* on average, but worst case *O(N).* QuikSort: *O(N*log(N))* on average, worst case *O(N^2).*","body":"@thegrinner No it doesn&#39;t. It represents the average. Consider a hash lookup: <i>O(1)</i> on average, but worst case <i>O(N).</i> QuikSort: <i>O(N</i>log(N))* on average, worst case <i>O(N^2).</i>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1693182559,"post_id":16987727,"comment_id":135722156,"body_markdown":"@JohnB He isn&#39;t using a searching `remove()`.","body":"@JohnB He isn&#39;t using a searching <code>remove()</code>."}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":94,"is_accepted":true,"score":94,"last_activity_date":1370621315,"creation_date":1370618971,"answer_id":16987769,"question_id":16987727,"body_markdown":"See [the documentation for `ArrayList#remove(int)`](http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#remove%28int%29), as in the following syntax:\r\n\r\n    list.remove(list.size() - 1)\r\n\r\nHere is how it&#39;s implemented. `elementData` does a lookup on the backing array (so it can cut it loose from the array), which should be constant time (since the JVM knows the size of an object reference and the number of entries it can calculate the offset), and `numMoved` is `0` for this case:\r\n\r\n    public E remove(int index) {\r\n        rangeCheck(index); // throws an exception if out of bounds\r\n\r\n        modCount++;        // each time a structural change happens\r\n                           // used for ConcurrentModificationExceptions\r\n        \r\n        E oldValue = elementData(index);\r\n\r\n        int numMoved = size - index - 1;\r\n        if (numMoved &gt; 0)\r\n            System.arraycopy(elementData, index+1, elementData, index,\r\n                             numMoved);\r\n        elementData[--size] = null; // Let gc do its work\r\n\r\n        return oldValue;\r\n    }\r\n\r\n","title":"Removing last object of ArrayList in Java","body":"<p>See <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#remove%28int%29\" rel=\"noreferrer\">the documentation for <code>ArrayList#remove(int)</code></a>, as in the following syntax:</p>\n\n<pre><code>list.remove(list.size() - 1)\n</code></pre>\n\n<p>Here is how it's implemented. <code>elementData</code> does a lookup on the backing array (so it can cut it loose from the array), which should be constant time (since the JVM knows the size of an object reference and the number of entries it can calculate the offset), and <code>numMoved</code> is <code>0</code> for this case:</p>\n\n<pre><code>public E remove(int index) {\n    rangeCheck(index); // throws an exception if out of bounds\n\n    modCount++;        // each time a structural change happens\n                       // used for ConcurrentModificationExceptions\n\n    E oldValue = elementData(index);\n\n    int numMoved = size - index - 1;\n    if (numMoved &gt; 0)\n        System.arraycopy(elementData, index+1, elementData, index,\n                         numMoved);\n    elementData[--size] = null; // Let gc do its work\n\n    return oldValue;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7113112,"reputation":1881,"user_id":5440323,"display_name":"Deva"},"down_vote_count":5,"up_vote_count":3,"is_accepted":false,"score":-2,"last_activity_date":1548321920,"creation_date":1548321920,"answer_id":54343205,"question_id":16987727,"body_markdown":"Just simply use.\r\n\r\n    arraylist.remove(arraylist.size() - 1)\r\n\r\n","title":"Removing last object of ArrayList in Java","body":"<p>Just simply use.</p>\n\n<pre><code>arraylist.remove(arraylist.size() - 1)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1695579685,"creation_date":1693209494,"answer_id":76990941,"question_id":16987727,"body_markdown":"Since Java 21, simply using [`List.removeLast`][1], for example:\r\n```\r\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;(List.of(1, 2, 3));\r\n\r\nSystem.out.println(list.removeLast()); // 3 - removes and returns the last element\r\n```\r\n**Note:** if the list is not empty, the implementation of `List.removeLast` returns the result of calling `remove(size() - 1)`. Otherwise, it throws `NoSuchElementException`.\r\n\r\nThe time complexity of removing the last element from `ArrayList` is O(1) - it is just decrementing the size of the list by 1 under the hood.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#removeLast()","title":"Removing last object of ArrayList in Java","body":"<p>Since Java 21, simply using <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#removeLast()\" rel=\"nofollow noreferrer\"><code>List.removeLast</code></a>, for example:</p>\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;(List.of(1, 2, 3));\n\nSystem.out.println(list.removeLast()); // 3 - removes and returns the last element\n</code></pre>\n<p><strong>Note:</strong> if the list is not empty, the implementation of <code>List.removeLast</code> returns the result of calling <code>remove(size() - 1)</code>. Otherwise, it throws <code>NoSuchElementException</code>.</p>\n<p>The time complexity of removing the last element from <code>ArrayList</code> is O(1) - it is just decrementing the size of the list by 1 under the hood.</p>\n"}],"owner":{"account_id":1833467,"reputation":7501,"user_id":1664315,"accept_rate":59,"display_name":"Arian"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81641,"favorite_count":0,"down_vote_count":1,"up_vote_count":57,"accepted_answer_id":16987769,"answer_count":3,"score":56,"last_activity_date":1695579685,"creation_date":1370618843,"question_id":16987727,"body_markdown":"I want to remove the last object from an `ArrayList` quickly.\r\n\r\nI know that `remove(Object O)` takes `O(n)` in an `ArrayList`, but I wonder if it is possible to do this in constant time since I just want to remove the **last** object?","title":"Removing last object of ArrayList in Java","body":"<p>I want to remove the last object from an <code>ArrayList</code> quickly.</p>\n\n<p>I know that <code>remove(Object O)</code> takes <code>O(n)</code> in an <code>ArrayList</code>, but I wonder if it is possible to do this in constant time since I just want to remove the <strong>last</strong> object?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2560357,"reputation":1425,"user_id":2221461,"accept_rate":84,"display_name":"RaptorDotCpp"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1591040282,"creation_date":1378979273,"answer_id":18760887,"question_id":18760832,"body_markdown":"You can use the method `descendingIterator()` to get an iterator that iterates the `ArrayDeque&lt;T&gt;` in reverse.\r\n\r\n    Iterator&lt;T&gt; it = arrayDeque.descendingIterator();\r\n    while(it.hasNext()) {\r\n        // do something with it.next()\r\n    }","title":"How can i iterate a ArrayDeque in reverse?","body":"<p>You can use the method <code>descendingIterator()</code> to get an iterator that iterates the <code>ArrayDeque&lt;T&gt;</code> in reverse.</p>\n\n<pre><code>Iterator&lt;T&gt; it = arrayDeque.descendingIterator();\nwhile(it.hasNext()) {\n    // do something with it.next()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1598231,"reputation":712,"user_id":1479833,"accept_rate":50,"display_name":"Siddh"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1378979950,"creation_date":1378979950,"answer_id":18761148,"question_id":18760832,"body_markdown":"Try this out\r\n\r\nThe elements will be returned in reverse order from last to first.\r\n\r\n    import java.util.*;\r\n    import java.lang.*;\r\n    import java.io.*;\r\n\r\n    /* Name of the class has to be &quot;Main&quot; only if the class is public. */\r\n\r\n    class List {\r\n       public static void main(String[] args) {\r\n          // creating a TreeSet \r\n          TreeSet &lt;Integer&gt;treeadd = new TreeSet&lt;Integer&gt;();\r\n     \r\n          // adding in the tree set\r\n          treeadd.add(1);\r\n          treeadd.add(13);\r\n          treeadd.add(17);\r\n          treeadd.add(2);\r\n     \r\n          // create descending iterator\r\n          Iterator iterator;\r\n          iterator = treeadd.descendingIterator();\r\n     \r\n          // displaying the Tree set data\r\n          System.out.println(&quot;Descending order: &quot;);     \r\n          while (iterator.hasNext()){\r\n              System.out.println(iterator.next() + &quot; &quot;);\r\n          }\r\n       }    \r\n    } ","title":"How can i iterate a ArrayDeque in reverse?","body":"<p>Try this out</p>\n\n<p>The elements will be returned in reverse order from last to first.</p>\n\n<pre><code>import java.util.*;\nimport java.lang.*;\nimport java.io.*;\n\n/* Name of the class has to be \"Main\" only if the class is public. */\n\nclass List {\n   public static void main(String[] args) {\n      // creating a TreeSet \n      TreeSet &lt;Integer&gt;treeadd = new TreeSet&lt;Integer&gt;();\n\n      // adding in the tree set\n      treeadd.add(1);\n      treeadd.add(13);\n      treeadd.add(17);\n      treeadd.add(2);\n\n      // create descending iterator\n      Iterator iterator;\n      iterator = treeadd.descendingIterator();\n\n      // displaying the Tree set data\n      System.out.println(\"Descending order: \");     \n      while (iterator.hasNext()){\n          System.out.println(iterator.next() + \" \");\n      }\n   }    \n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695579636,"creation_date":1693251424,"answer_id":76995594,"question_id":18760832,"body_markdown":"Since Java 21, simply using [`Deque.reversed`][1]:\r\n```\r\nfor (int i : arrayDeque.reversed()) {}\r\n```\r\n**Note:** It returns a reverse-ordered [view][2] of this collection.\r\n\r\nAdditional details in [JEP 431: Sequenced Collections][3].\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Deque.html#reversed()\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html#view\r\n  [3]: https://openjdk.org/jeps/431","title":"How can i iterate a ArrayDeque in reverse?","body":"<p>Since Java 21, simply using <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Deque.html#reversed()\" rel=\"nofollow noreferrer\"><code>Deque.reversed</code></a>:</p>\n<pre><code>for (int i : arrayDeque.reversed()) {}\n</code></pre>\n<p><strong>Note:</strong> It returns a reverse-ordered <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html#view\" rel=\"nofollow noreferrer\">view</a> of this collection.</p>\n<p>Additional details in <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\">JEP 431: Sequenced Collections</a>.</p>\n"}],"owner":{"account_id":1047191,"reputation":2895,"user_id":1051956,"accept_rate":100,"display_name":"CodingHero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10729,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":18760887,"answer_count":3,"score":15,"last_activity_date":1695579636,"creation_date":1378979170,"question_id":18760832,"body_markdown":"How can i iterate a ArrayDeque in reverse?\r\n\r\nI would normally do this for an array but it&#39;s not indexable.\r\n\r\n    for (int i = delegate.size() - 1; i &gt;= 0; i--) {}\r\n\r\nthanks\r\n","title":"How can i iterate a ArrayDeque in reverse?","body":"<p>How can i iterate a ArrayDeque in reverse?</p>\n\n<p>I would normally do this for an array but it's not indexable.</p>\n\n<pre><code>for (int i = delegate.size() - 1; i &gt;= 0; i--) {}\n</code></pre>\n\n<p>thanks</p>\n"},{"tags":["java","collections","linked-list","iterator","listiterator"],"comments":[{"owner":{"account_id":1976031,"reputation":26059,"user_id":1773798,"accept_rate":75,"display_name":"Renaud Pacalet"},"score":0,"creation_date":1442124114,"post_id":32546617,"comment_id":52950042,"body_markdown":"Are you sure you start iterating from the last list element?","body":"Are you sure you start iterating from the last list element?"}],"answers":[{"tags":[],"owner":{"account_id":6944544,"reputation":336,"user_id":5329565,"display_name":"tph"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1541669064,"creation_date":1442123542,"answer_id":32546768,"question_id":32546617,"body_markdown":"I think you want a [`descendingIterator`](http://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html#descendingIterator()).\r\n\r\n    Iterator lit = obj.descendingIterator();\r\n    System.out.println(&quot;Backward Iterations&quot;);\r\n    while(lit.hasNext()){\r\n      System.out.println(lit.next());\r\n    }\r\n\r\n","title":"How to iterate a LinkedList elements in reverse order?","body":"<p>I think you want a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html#descendingIterator()\" rel=\"noreferrer\"><code>descendingIterator</code></a>.</p>\n\n<pre><code>Iterator lit = obj.descendingIterator();\nSystem.out.println(\"Backward Iterations\");\nwhile(lit.hasNext()){\n  System.out.println(lit.next());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4934454,"reputation":37277,"user_id":3973077,"accept_rate":77,"display_name":"Paul Boddington"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1442123550,"creation_date":1442123550,"answer_id":32546771,"question_id":32546617,"body_markdown":"You can do it, but you need to use the method `listIterator(int index)` to specify that you want to start at the end of the `List`.\r\n\r\n    LinkedList&lt;String&gt; obj = new LinkedList&lt;String&gt;();\r\n\r\n    obj.add(&quot;vino&quot;);\r\n    obj.add(&quot;ajith&quot;);\r\n    obj.add(&quot;praveen&quot;);\r\n    obj.add(&quot;naveen&quot;);\r\n\r\n    ListIterator&lt;String&gt; it = obj.listIterator(obj.size());\r\n    while (it.hasPrevious())\r\n        System.out.println(it.previous());","title":"How to iterate a LinkedList elements in reverse order?","body":"<p>You can do it, but you need to use the method <code>listIterator(int index)</code> to specify that you want to start at the end of the <code>List</code>.</p>\n\n<pre><code>LinkedList&lt;String&gt; obj = new LinkedList&lt;String&gt;();\n\nobj.add(\"vino\");\nobj.add(\"ajith\");\nobj.add(\"praveen\");\nobj.add(\"naveen\");\n\nListIterator&lt;String&gt; it = obj.listIterator(obj.size());\nwhile (it.hasPrevious())\n    System.out.println(it.previous());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695579499,"creation_date":1693608809,"answer_id":77026307,"question_id":32546617,"body_markdown":"Starting from Java 21, simply using [`LinkedList.reversed`][1]:\r\n```\r\nLinkedList&lt;String&gt; list = new LinkedList&lt;&gt;(List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;));\r\nfor (String s : list.reversed()) {\r\n  System.out.println(s);\r\n}\r\n```\r\n**Note:** It returns a reverse-ordered [view][2] of this collection.\r\n\r\nAdditional details in [JEP 431: Sequenced Collections][3].\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/LinkedList.html#reversed()\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html#view\r\n  [3]: https://openjdk.org/jeps/431","title":"How to iterate a LinkedList elements in reverse order?","body":"<p>Starting from Java 21, simply using <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/LinkedList.html#reversed()\" rel=\"nofollow noreferrer\"><code>LinkedList.reversed</code></a>:</p>\n<pre><code>LinkedList&lt;String&gt; list = new LinkedList&lt;&gt;(List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;));\nfor (String s : list.reversed()) {\n  System.out.println(s);\n}\n</code></pre>\n<p><strong>Note:</strong> It returns a reverse-ordered <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html#view\" rel=\"nofollow noreferrer\">view</a> of this collection.</p>\n<p>Additional details in <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\">JEP 431: Sequenced Collections</a>.</p>\n"}],"owner":{"account_id":5849135,"reputation":9316,"user_id":4608334,"accept_rate":100,"display_name":"Vinoth Vino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21919,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":32546768,"answer_count":3,"score":17,"last_activity_date":1695579499,"creation_date":1442121993,"question_id":32546617,"body_markdown":"I m new to Java Collections and my doubt is why can&#39;t i traverse a element in linkedlist in backward directions.Below I&#39;ll explain what i did and please clarify my doubts.\r\n\r\n1. I&#39;ve created interface **iterator** for forward iterations and **listiterator** for backward iterations. Why backward iterations are not working ?\r\n2. Can&#39;t i use **iterator** and **listiterator** interface in the same program to traverse a set of elements in forward and backward iterations ?\r\n\r\n Code Snippet :  \r\n\r\n        import java.util.*;\r\n        class NewClass{\r\n        public static void main(String args[]){\r\n          LinkedList&lt;String&gt; obj = new LinkedList&lt;String&gt;();\r\n         \r\n           obj.add(&quot;vino&quot;);\r\n           obj.add(&quot;ajith&quot;);\r\n           obj.add(&quot;praveen&quot;);\r\n           obj.add(&quot;naveen&quot;);\r\n         \r\n           System.out.println(obj);\r\n         \r\n           System.out.println(&quot;For loop &quot;);\r\n           //using for loop\r\n           for(int count=0; count &lt; obj.size(); count++){\r\n             System.out.println(obj.get(count));\r\n           }\r\n          System.out.println(&quot;For each loop &quot;);\r\n\r\n          //using foreach loop\r\n          for(String s:obj){\r\n             System.out.println(s);\r\n          }\r\n          System.out.println(&quot;Whileloop &quot;);\r\n\r\n          //using whileloop\r\n          int count=0;\r\n          while(obj.size() &gt; count){\r\n              System.out.println(obj.get(count));\r\n            count++;\r\n          }\r\n          System.out.println(&quot;Forward Iterations &quot;);\r\n          //using iterator \r\n          Iterator it = obj.iterator();\r\n          while(it.hasNext()){\r\n             System.out.println(it.next());\r\n          }\r\n          ListIterator lit = obj.listIterator();\r\n          System.out.println(&quot;Backward Iterations&quot;);\r\n           while(lit.hasPrevious()){\r\n            System.out.println(lit.previous());\r\n              }\r\n            }\r\n         }\r\n**Output**\r\n  \r\n\r\n        [vino, ajith, praveen, naveen]\r\n         For loop \r\n         vino\r\n         ajith\r\n         praveen\r\n         naveen\r\n        For each loop \r\n         vino\r\n         ajith\r\n         praveen\r\n         naveen\r\n        Whileloop \r\n         vino\r\n         ajith\r\n         praveen\r\n         naveen\r\n        Forward Iterations \r\n         vino\r\n         ajith\r\n         praveen\r\n         naveen\r\n         Backward Iterations\r\n\r\n\r\nWhere is the output for Backward Iterations? Please anyone help me.Thanks in advance","title":"How to iterate a LinkedList elements in reverse order?","body":"<p>I m new to Java Collections and my doubt is why can't i traverse a element in linkedlist in backward directions.Below I'll explain what i did and please clarify my doubts.</p>\n\n<ol>\n<li>I've created interface <strong>iterator</strong> for forward iterations and <strong>listiterator</strong> for backward iterations. Why backward iterations are not working ?</li>\n<li><p>Can't i use <strong>iterator</strong> and <strong>listiterator</strong> interface in the same program to traverse a set of elements in forward and backward iterations ?</p>\n\n<p>Code Snippet :  </p>\n\n<pre><code>import java.util.*;\nclass NewClass{\npublic static void main(String args[]){\n  LinkedList&lt;String&gt; obj = new LinkedList&lt;String&gt;();\n\n   obj.add(\"vino\");\n   obj.add(\"ajith\");\n   obj.add(\"praveen\");\n   obj.add(\"naveen\");\n\n   System.out.println(obj);\n\n   System.out.println(\"For loop \");\n   //using for loop\n   for(int count=0; count &lt; obj.size(); count++){\n     System.out.println(obj.get(count));\n   }\n  System.out.println(\"For each loop \");\n\n  //using foreach loop\n  for(String s:obj){\n     System.out.println(s);\n  }\n  System.out.println(\"Whileloop \");\n\n  //using whileloop\n  int count=0;\n  while(obj.size() &gt; count){\n      System.out.println(obj.get(count));\n    count++;\n  }\n  System.out.println(\"Forward Iterations \");\n  //using iterator \n  Iterator it = obj.iterator();\n  while(it.hasNext()){\n     System.out.println(it.next());\n  }\n  ListIterator lit = obj.listIterator();\n  System.out.println(\"Backward Iterations\");\n   while(lit.hasPrevious()){\n    System.out.println(lit.previous());\n      }\n    }\n }\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>[vino, ajith, praveen, naveen]\n For loop \n vino\n ajith\n praveen\n naveen\nFor each loop \n vino\n ajith\n praveen\n naveen\nWhileloop \n vino\n ajith\n praveen\n naveen\nForward Iterations \n vino\n ajith\n praveen\n naveen\n Backward Iterations\n</code></pre></li>\n</ol>\n\n<p>Where is the output for Backward Iterations? Please anyone help me.Thanks in advance</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":44494,"reputation":18176,"user_id":130640,"accept_rate":91,"display_name":"Imagist"},"score":48,"creation_date":1249508358,"post_id":1235179,"comment_id":1061761,"body_markdown":"I understand that for loops can cause some real issues.  But you shouldn&#39;t try to avoid for loops &quot;at all costs&quot; because if it costs you readability, maintainability, and speed, you&#39;re being counterproductive.  This is one of those cases.","body":"I understand that for loops can cause some real issues.  But you shouldn&#39;t try to avoid for loops &quot;at all costs&quot; because if it costs you readability, maintainability, and speed, you&#39;re being counterproductive.  This is one of those cases."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1249513272,"post_id":1235179,"comment_id":1062127,"body_markdown":"With those concerns, consider having exhaustive unittests for your code.  This allows you to just show the unit test when documentation is needed.","body":"With those concerns, consider having exhaustive unittests for your code.  This allows you to just show the unit test when documentation is needed."},{"owner":{"account_id":11354,"reputation":27694,"user_id":21838,"accept_rate":82,"display_name":"Pyrolistical"},"score":10,"creation_date":1249515633,"post_id":1235179,"comment_id":1062269,"body_markdown":"&quot;They add to the number of lines of code even if they are tucked away in another function&quot;...wow, just wow.  Big-O, not LoC","body":"&quot;They add to the number of lines of code even if they are tucked away in another function&quot;...wow, just wow.  Big-O, not LoC"},{"owner":{"account_id":28001,"reputation":16459,"user_id":74359,"accept_rate":100,"display_name":"Ethan Heilman"},"score":8,"creation_date":1249518589,"post_id":1235179,"comment_id":1062381,"body_markdown":"@imagist I&#39;m avoiding for loops in situations where it costs me readability, and maintainability. I consider speed as the least important issue here (a non-issue in fact). I think for loops are overused and I am trying to learn to only use for loops when they are necessary and not as a default solution.","body":"@imagist I&#39;m avoiding for loops in situations where it costs me readability, and maintainability. I consider speed as the least important issue here (a non-issue in fact). I think for loops are overused and I am trying to learn to only use for loops when they are necessary and not as a default solution."},{"owner":{"account_id":28001,"reputation":16459,"user_id":74359,"accept_rate":100,"display_name":"Ethan Heilman"},"score":4,"creation_date":1249519890,"post_id":1235179,"comment_id":1062445,"body_markdown":"@Pyrolistical I&#39;m not claiming performance or asymptotic benefits. Rather saying that by writing less code, and using library functions rather than reinventing the wheel I reduce the bug surface area(Lines of Code) while increasing readability. Both good things I&#39;m sure you&#39;ll agree.","body":"@Pyrolistical I&#39;m not claiming performance or asymptotic benefits. Rather saying that by writing less code, and using library functions rather than reinventing the wheel I reduce the bug surface area(Lines of Code) while increasing readability. Both good things I&#39;m sure you&#39;ll agree."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1249553035,"post_id":1235179,"comment_id":1063929,"body_markdown":"@e5: Those are good things, but they don&#39;t always follow from using library functions. What people are saying to you is that inappropriate use of library functions (e.g. &quot;avoiding loops at all costs&quot;) can decrease readability, increase bug surface area [*], and make your application catastrophically slower. [ Libraries can have bugs too!]","body":"@e5: Those are good things, but they don&#39;t always follow from using library functions. What people are saying to you is that inappropriate use of library functions (e.g. &quot;avoiding loops at all costs&quot;) can decrease readability, increase bug surface area [*], and make your application catastrophically slower. [ Libraries can have bugs too!]"},{"owner":{"account_id":28001,"reputation":16459,"user_id":74359,"accept_rate":100,"display_name":"Ethan Heilman"},"score":1,"creation_date":1249568957,"post_id":1235179,"comment_id":1065229,"body_markdown":"@Stephen C , Oh certainly, I completely agree with thing you just said! When I say &quot;avoid loops at all costs&quot;, I&#39;m exaggerating my position a bit for dramatic effect. For loops are necessary and good, but I do see an overuse of them in my code and others. I am merely trying to improve my style.","body":"@Stephen C , Oh certainly, I completely agree with thing you just said! When I say &quot;avoid loops at all costs&quot;, I&#39;m exaggerating my position a bit for dramatic effect. For loops are necessary and good, but I do see an overuse of them in my code and others. I am merely trying to improve my style."},{"owner":{"account_id":387776,"reputation":7533,"user_id":746336,"accept_rate":56,"display_name":"AgostinoX"},"score":4,"creation_date":1316638911,"post_id":1235179,"comment_id":9089984,"body_markdown":"@e5;sorry for posting years later.I find this question so appropriate. If inserted in a method, arguments should be tested (times&gt;=0), errors thrown etc.This adds robustness but also lines of code to read. Repeating a string is something unambiguous.Who reads the code knows exactly what a string.repeat does, even without a line of comment or javadoc.If we use a stable library, is reasonable to think that a so-simple function has no bugs,YET introduces some form of &quot;robustness&quot; check that we even need to worry about.If i could ask 10 improvements, this (kind of) things would be one.","body":"@e5;sorry for posting years later.I find this question so appropriate. If inserted in a method, arguments should be tested (times&gt;=0), errors thrown etc.This adds robustness but also lines of code to read. Repeating a string is something unambiguous.Who reads the code knows exactly what a string.repeat does, even without a line of comment or javadoc.If we use a stable library, is reasonable to think that a so-simple function has no bugs,YET introduces some form of &quot;robustness&quot; check that we even need to worry about.If i could ask 10 improvements, this (kind of) things would be one."},{"owner":{"account_id":28001,"reputation":16459,"user_id":74359,"accept_rate":100,"display_name":"Ethan Heilman"},"score":2,"creation_date":1316640664,"post_id":1235179,"comment_id":9090452,"body_markdown":"@AgostinoX Looking back at this question I realize one more problem with for loops. They specify the order in which actions must be performed when most of the time the engineer only wants to perform some action on every element in a list (regardless of order). This order dependency makes it much harder for compilers to parallelize code. I think the python map function has the right of it: http://docs.python.org/library/functions.html#map","body":"@AgostinoX Looking back at this question I realize one more problem with for loops. They specify the order in which actions must be performed when most of the time the engineer only wants to perform some action on every element in a list (regardless of order). This order dependency makes it much harder for compilers to parallelize code. I think the python map function has the right of it: <a href=\"http://docs.python.org/library/functions.html#map\" rel=\"nofollow noreferrer\">docs.python.org/library/functions.html#map</a>"},{"owner":{"account_id":28001,"reputation":16459,"user_id":74359,"accept_rate":100,"display_name":"Ethan Heilman"},"score":0,"creation_date":1316640926,"post_id":1235179,"comment_id":9090518,"body_markdown":"@AgostinoX Raises pitchfork in total agreement. &quot;Death to the for loop, long live readability&quot;!","body":"@AgostinoX Raises pitchfork in total agreement. &quot;Death to the for loop, long live readability&quot;!"},{"owner":{"account_id":387776,"reputation":7533,"user_id":746336,"accept_rate":56,"display_name":"AgostinoX"},"score":1,"creation_date":1316641486,"post_id":1235179,"comment_id":9090663,"body_markdown":"@e5:another good reason to avoid loops is that java has already introduced iterators with the sole scope of alleviate the loops declaration.There has been such an heavy effort to that purpose.Improving the String API a bit would allow for the complete elimination of &quot;obvious&quot; loops from code at a very low cost.And a much greater (yet understimated) benefit.The time it takes to understand the simplest loop is much greater than the time spent in reading &quot;repeat&quot; word. String[] x = {&quot;think?&quot;, &quot;you&quot;, &quot;dont&quot;};\n        for (int i=x.length-1;i&gt;=0;i--) {\n            System.out.println(x[i]);\n        }","body":"@e5:another good reason to avoid loops is that java has already introduced iterators with the sole scope of alleviate the loops declaration.There has been such an heavy effort to that purpose.Improving the String API a bit would allow for the complete elimination of &quot;obvious&quot; loops from code at a very low cost.And a much greater (yet understimated) benefit.The time it takes to understand the simplest loop is much greater than the time spent in reading &quot;repeat&quot; word. String[] x = {&quot;think?&quot;, &quot;you&quot;, &quot;dont&quot;};         for (int i=x.length-1;i&gt;=0;i--) {             System.out.println(x[i]);         }"},{"owner":{"account_id":387776,"reputation":7533,"user_id":746336,"accept_rate":56,"display_name":"AgostinoX"},"score":1,"creation_date":1316641909,"post_id":1235179,"comment_id":9090766,"body_markdown":"@e5: the order question is correct but I think that you cannot turn a procedural language into a declarative one &quot;just in case&quot;. I don&#39;t know if you feel so relaxed when iterating collection items and deleting some of them because &quot;you only want to perform an action on each element&quot; leaving to the library implementation &quot;not to do a mess&quot;. Perhaps you would study the API more in deep. If you had not time, you probably choose a fail-proof procedural approach like a downto-removal :-)","body":"@e5: the order question is correct but I think that you cannot turn a procedural language into a declarative one &quot;just in case&quot;. I don&#39;t know if you feel so relaxed when iterating collection items and deleting some of them because &quot;you only want to perform an action on each element&quot; leaving to the library implementation &quot;not to do a mess&quot;. Perhaps you would study the API more in deep. If you had not time, you probably choose a fail-proof procedural approach like a downto-removal :-)"},{"owner":{"account_id":387776,"reputation":7533,"user_id":746336,"accept_rate":56,"display_name":"AgostinoX"},"score":1,"creation_date":1316643044,"post_id":1235179,"comment_id":9091019,"body_markdown":"@e5: however, i think that several of these reasons are pretty &quot;strict&quot;. perhaps enough to start a JCP request. wouldn&#39;t it be wonderful?","body":"@e5: however, i think that several of these reasons are pretty &quot;strict&quot;. perhaps enough to start a JCP request. wouldn&#39;t it be wonderful?"},{"owner":{"account_id":2229398,"reputation":45955,"user_id":1967396,"accept_rate":100,"display_name":"Floris"},"score":1,"creation_date":1398312282,"post_id":1235179,"comment_id":35593781,"body_markdown":"&quot;Clever&quot; code should be avoided. `for` loops should not. Make the code do what it looks like, and use many lines if needed. Your compiler will make it all small and clever - out of sight.","body":"&quot;Clever&quot; code should be avoided. <code>for</code> loops should not. Make the code do what it looks like, and use many lines if needed. Your compiler will make it all small and clever - out of sight."},{"owner":{"account_id":28001,"reputation":16459,"user_id":74359,"accept_rate":100,"display_name":"Ethan Heilman"},"score":3,"creation_date":1398350877,"post_id":1235179,"comment_id":35616956,"body_markdown":"@Floris &quot;Clever&quot; code __should__ be avoided, I agree. But for-loops are &quot;clever&quot; code you have just become used to them. Consider that the for-loop relies on a mathematical relationship between how we store strings in arrays (a fairly arbitrary, machine dependent choice) and a periodically increasing integer. Before you disagree try explaining how you would &#39;repeat a string using for-loops&#39; to a non-programmer.","body":"@Floris &quot;Clever&quot; code <b>should</b> be avoided, I agree. But for-loops are &quot;clever&quot; code you have just become used to them. Consider that the for-loop relies on a mathematical relationship between how we store strings in arrays (a fairly arbitrary, machine dependent choice) and a periodically increasing integer. Before you disagree try explaining how you would &#39;repeat a string using for-loops&#39; to a non-programmer."},{"owner":{"account_id":2229398,"reputation":45955,"user_id":1967396,"accept_rate":100,"display_name":"Floris"},"score":2,"creation_date":1398353065,"post_id":1235179,"comment_id":35618650,"body_markdown":"@EthanHeilman here goes: &quot;we store the string as a list of characters, each in a numbered box. If I need a string that is 100 long, I first put a character in box 1, then box 2, all the way until I get to box 100. Then I stop adding characters. &quot; That seems to describe the for loop quite well. I decided not to explain the &quot;zero offset&quot; since that is irrelevant to the explanation to the non-programmer.","body":"@EthanHeilman here goes: &quot;we store the string as a list of characters, each in a numbered box. If I need a string that is 100 long, I first put a character in box 1, then box 2, all the way until I get to box 100. Then I stop adding characters. &quot; That seems to describe the for loop quite well. I decided not to explain the &quot;zero offset&quot; since that is irrelevant to the explanation to the non-programmer."},{"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"score":1,"creation_date":1519979524,"post_id":1235179,"comment_id":85135671,"body_markdown":"If you&#39;re on Java 11, you can use `String::repeat` - see [this answer](https://stackoverflow.com/a/49065337/2525313).","body":"If you&#39;re on Java 11, you can use <code>String::repeat</code> - see <a href=\"https://stackoverflow.com/a/49065337/2525313\">this answer</a>."},{"owner":{"account_id":4974350,"reputation":3936,"user_id":4001177,"display_name":"Golden Lion"},"score":1,"creation_date":1627398019,"post_id":1235179,"comment_id":121142808,"body_markdown":"repeats = &quot;abc&quot; * 3  Python is much more condensed than java","body":"repeats = &quot;abc&quot; * 3  Python is much more condensed than java"}],"answers":[{"tags":[],"owner":{"account_id":44712,"reputation":99786,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"down_vote_count":5,"up_vote_count":328,"is_accepted":false,"score":323,"last_activity_date":1377502442,"creation_date":1249499794,"answer_id":1235184,"question_id":1235179,"body_markdown":"[Commons Lang StringUtils.repeat()][1]\r\n\r\nUsage:\r\n\r\n    String str = &quot;abc&quot;;\r\n    String repeated = StringUtils.repeat(str, 3);\r\n    \r\n    repeated.equals(&quot;abcabcabc&quot;);\r\n\r\n [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringUtils.html#repeat(java.lang.String,%20int)","title":"Simple way to repeat a string","body":"<p><a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringUtils.html#repeat(java.lang.String,%20int)\" rel=\"noreferrer\">Commons Lang StringUtils.repeat()</a></p>\n\n<p>Usage:</p>\n\n<pre><code>String str = \"abc\";\nString repeated = StringUtils.repeat(str, 3);\n\nrepeated.equals(\"abcabcabc\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7727,"reputation":7891,"user_id":13491,"accept_rate":100,"display_name":"WolfmanDragon"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1249500075,"creation_date":1249500075,"answer_id":1235204,"question_id":1235179,"body_markdown":"If you are worried about performance, just use a StringBuilder inside the loop and do a .toString() on exit of the Loop. Heck, write your own Util Class and reuse it. 5 Lines of code max.","title":"Simple way to repeat a string","body":"<p>If you are worried about performance, just use a StringBuilder inside the loop and do a .toString() on exit of the Loop. Heck, write your own Util Class and reuse it. 5 Lines of code max.</p>\n"},{"tags":[],"owner":{"account_id":11354,"reputation":27694,"user_id":21838,"accept_rate":82,"display_name":"Pyrolistical"},"down_vote_count":3,"up_vote_count":24,"is_accepted":false,"score":21,"last_activity_date":1415981429,"creation_date":1249500208,"answer_id":1235213,"question_id":1235179,"body_markdown":"This contains less characters than your question\r\n\r\n    public static String repeat(String s, int n) {\r\n        if(s == null) {\r\n            return null;\r\n        }\r\n        final StringBuilder sb = new StringBuilder(s.length() * n);\r\n        for(int i = 0; i &lt; n; i++) {\r\n            sb.append(s);\r\n        }\r\n        return sb.toString();\r\n    }","title":"Simple way to repeat a string","body":"<p>This contains less characters than your question</p>\n\n<pre><code>public static String repeat(String s, int n) {\n    if(s == null) {\n        return null;\n    }\n    final StringBuilder sb = new StringBuilder(s.length() * n);\n    for(int i = 0; i &lt; n; i++) {\n        sb.append(s);\n    }\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":3,"up_vote_count":9,"is_accepted":false,"score":6,"last_activity_date":1265041220,"creation_date":1249501990,"answer_id":1235384,"question_id":1235179,"body_markdown":"using only JRE classes ([System.arraycopy][1]) and **trying to minimize** the number of temp objects you can write something like:\r\n\r\n    public static String repeat(String toRepeat, int times) {\r\n        if (toRepeat == null) {\r\n            toRepeat = &quot;&quot;;\r\n        }\r\n\r\n        if (times &lt; 0) {\r\n            times = 0;\r\n        }\r\n\r\n        final int length = toRepeat.length();\r\n        final int total = length * times;\r\n        final char[] src = toRepeat.toCharArray();\r\n        char[] dst = new char[total];\r\n        \r\n        for (int i = 0; i &lt; total; i += length) {\r\n            System.arraycopy(src, 0, dst, i, length);\r\n        }\r\n\r\n        return String.copyValueOf(dst);\r\n    }\r\n\r\n**EDIT**\r\n\r\nand without loops you can try with:\r\n\r\n    public static String repeat2(String toRepeat, int times) {\r\n        if (toRepeat == null) {\r\n            toRepeat = &quot;&quot;;\r\n        }\r\n\r\n        if (times &lt; 0) {\r\n            times = 0;\r\n        }\r\n\r\n        String[] copies = new String[times];\r\n        Arrays.fill(copies, toRepeat);\r\n        return Arrays.toString(copies).\r\n                  replace(&quot;[&quot;, &quot;&quot;).\r\n                  replace(&quot;]&quot;, &quot;&quot;).\r\n                  replaceAll(&quot;, &quot;, &quot;&quot;);\r\n    }\r\n\r\n**EDIT 2**\r\n\r\nusing [Collections][2] is even shorter:\r\n\r\n    public static String repeat3(String toRepeat, int times) {\r\n        return Collections.nCopies(times, toRepeat).\r\n               toString().\r\n               replace(&quot;[&quot;, &quot;&quot;).\r\n               replace(&quot;]&quot;, &quot;&quot;).\r\n               replaceAll(&quot;, &quot;, &quot;&quot;);\r\n    }\r\n\r\nhowever I still like the first version.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/System.html#arraycopy\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/Collections.html","title":"Simple way to repeat a string","body":"<p>using only JRE classes (<a href=\"http://java.sun.com/javase/6/docs/api/java/lang/System.html#arraycopy\" rel=\"nofollow noreferrer\">System.arraycopy</a>) and <strong>trying to minimize</strong> the number of temp objects you can write something like:</p>\n\n<pre><code>public static String repeat(String toRepeat, int times) {\n    if (toRepeat == null) {\n        toRepeat = \"\";\n    }\n\n    if (times &lt; 0) {\n        times = 0;\n    }\n\n    final int length = toRepeat.length();\n    final int total = length * times;\n    final char[] src = toRepeat.toCharArray();\n    char[] dst = new char[total];\n\n    for (int i = 0; i &lt; total; i += length) {\n        System.arraycopy(src, 0, dst, i, length);\n    }\n\n    return String.copyValueOf(dst);\n}\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>and without loops you can try with:</p>\n\n<pre><code>public static String repeat2(String toRepeat, int times) {\n    if (toRepeat == null) {\n        toRepeat = \"\";\n    }\n\n    if (times &lt; 0) {\n        times = 0;\n    }\n\n    String[] copies = new String[times];\n    Arrays.fill(copies, toRepeat);\n    return Arrays.toString(copies).\n              replace(\"[\", \"\").\n              replace(\"]\", \"\").\n              replaceAll(\", \", \"\");\n}\n</code></pre>\n\n<p><strong>EDIT 2</strong></p>\n\n<p>using <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Collections.html\" rel=\"nofollow noreferrer\">Collections</a> is even shorter:</p>\n\n<pre><code>public static String repeat3(String toRepeat, int times) {\n    return Collections.nCopies(times, toRepeat).\n           toString().\n           replace(\"[\", \"\").\n           replace(\"]\", \"\").\n           replaceAll(\", \", \"\");\n}\n</code></pre>\n\n<p>however I still like the first version.</p>\n"},{"tags":[],"owner":{"account_id":44494,"reputation":18176,"user_id":130640,"accept_rate":91,"display_name":"Imagist"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1249510906,"creation_date":1249507886,"answer_id":1235877,"question_id":1235179,"body_markdown":"Despite your desire not to use loops, I think you should use a loop.\r\n\r\n    String repeatString(String s, int repetitions)\r\n    {\r\n        if(repetitions &lt; 0) throw SomeException();\r\n\r\n        else if(s == null) return null;\r\n\r\n        StringBuilder stringBuilder = new StringBuilder(s.length() * repetitions);\r\n\r\n        for(int i = 0; i &lt; repetitions; i++)\r\n            stringBuilder.append(s);\r\n\r\n        return stringBuilder.toString();\r\n    }\r\n\r\nYour reasons for not using a for loop are not good ones.  In response to your criticisms:\r\n\r\n 1. Whatever solution you use will almost certainly be longer than this.  Using a pre-built function only tucks it under more covers.\r\n 2. Someone reading your code will have to figure out what you&#39;re doing in that non-for-loop.  Given that a for-loop is the idiomatic way to do this, it would be much easier to figure out if you did it with a for loop. \r\n 3. Yes someone might add something clever, but by avoiding a for loop *you **are** doing something clever*.  That&#39;s like shooting yourself in the foot intentionally to avoid shooting yourself in the foot by accident.\r\n 4. Off-by-one errors are also mind-numbingly easy to catch with a single test.  Given that you should be testing your code, an off-by-one error should be easy to fix and catch.  And it&#39;s worth noting: the code above does not contain an off-by-one error.  For loops are equally easy to get right.\r\n 5. So don&#39;t reuse variables.  That&#39;s not the for-loop&#39;s fault.\r\n 6. Again, so does whatever solution you use.  And as I noted before; a bug hunter will probably be expecting you to do this with a for loop, so they&#39;ll have an easier time finding it if you use a for loop.","title":"Simple way to repeat a string","body":"<p>Despite your desire not to use loops, I think you should use a loop.</p>\n\n<pre><code>String repeatString(String s, int repetitions)\n{\n    if(repetitions &lt; 0) throw SomeException();\n\n    else if(s == null) return null;\n\n    StringBuilder stringBuilder = new StringBuilder(s.length() * repetitions);\n\n    for(int i = 0; i &lt; repetitions; i++)\n        stringBuilder.append(s);\n\n    return stringBuilder.toString();\n}\n</code></pre>\n\n<p>Your reasons for not using a for loop are not good ones.  In response to your criticisms:</p>\n\n<ol>\n<li>Whatever solution you use will almost certainly be longer than this.  Using a pre-built function only tucks it under more covers.</li>\n<li>Someone reading your code will have to figure out what you're doing in that non-for-loop.  Given that a for-loop is the idiomatic way to do this, it would be much easier to figure out if you did it with a for loop. </li>\n<li>Yes someone might add something clever, but by avoiding a for loop <em>you <strong>are</strong> doing something clever</em>.  That's like shooting yourself in the foot intentionally to avoid shooting yourself in the foot by accident.</li>\n<li>Off-by-one errors are also mind-numbingly easy to catch with a single test.  Given that you should be testing your code, an off-by-one error should be easy to fix and catch.  And it's worth noting: the code above does not contain an off-by-one error.  For loops are equally easy to get right.</li>\n<li>So don't reuse variables.  That's not the for-loop's fault.</li>\n<li>Again, so does whatever solution you use.  And as I noted before; a bug hunter will probably be expecting you to do this with a for loop, so they'll have an easier time finding it if you use a for loop.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":37416,"reputation":74513,"user_id":106979,"accept_rate":82,"display_name":"fortran"},"down_vote_count":3,"up_vote_count":36,"is_accepted":false,"score":33,"last_activity_date":1249561251,"creation_date":1249517249,"answer_id":1236367,"question_id":1235179,"body_markdown":"So you want to avoid loops?\r\n\r\nHere you have it:\r\n\r\n    public static String repeat(String s, int times) {\r\n        if (times &lt;= 0) return &quot;&quot;;\r\n        else return s + repeat(s, times-1);\r\n    }\r\n\r\n(of course I know this is ugly and inefficient, but it doesn&#39;t have loops :-p)\r\n\r\nYou want it simpler and prettier? use jython:\r\n\r\n    s * 3\r\n\r\n**Edit**: let&#39;s optimize it a little bit :-D\r\n\r\n    public static String repeat(String s, int times) {\r\n       if (times &lt;= 0) return &quot;&quot;;\r\n       else if (times % 2 == 0) return repeat(s+s, times/2);\r\n       else return s + repeat(s+s, times/2);\r\n    }\r\n\r\n**Edit2**: I&#39;ve done a quick and dirty benchmark for the 4 main alternatives, but I don&#39;t have time to run it several times to get the means and plot the times for several inputs... So here&#39;s the code if anybody wants to try it:\r\n\r\n    public class Repeat {\r\n        public static void main(String[] args)  {\r\n            int n = Integer.parseInt(args[0]);\r\n            String s = args[1];\r\n            int l = s.length();\r\n            long start, end;\r\n    \r\n            start = System.currentTimeMillis();\r\n            for (int i = 0; i &lt; n; i++) {\r\n                if(repeatLog2(s,i).length()!=i*l) throw new RuntimeException();\r\n            }\r\n            end = System.currentTimeMillis();\r\n            System.out.println(&quot;RecLog2Concat: &quot; + (end-start) + &quot;ms&quot;);\r\n                    \r\n            start = System.currentTimeMillis();\r\n            for (int i = 0; i &lt; n; i++) {\r\n                if(repeatR(s,i).length()!=i*l) throw new RuntimeException();\r\n            }               \r\n            end = System.currentTimeMillis();\r\n            System.out.println(&quot;RecLinConcat: &quot; + (end-start) + &quot;ms&quot;);\r\n                    \r\n            start = System.currentTimeMillis();\r\n            for (int i = 0; i &lt; n; i++) {\r\n                if(repeatIc(s,i).length()!=i*l) throw new RuntimeException();\r\n            }\r\n            end = System.currentTimeMillis();\r\n            System.out.println(&quot;IterConcat: &quot; + (end-start) + &quot;ms&quot;);\r\n    \r\n            start = System.currentTimeMillis();\r\n            for (int i = 0; i &lt; n; i++) {\r\n                if(repeatSb(s,i).length()!=i*l) throw new RuntimeException();\r\n            }\r\n            end = System.currentTimeMillis();\r\n            System.out.println(&quot;IterStrB: &quot; + (end-start) + &quot;ms&quot;);\r\n        }\r\n    \r\n        public static String repeatLog2(String s, int times) {\r\n            if (times &lt;= 0) {\r\n                return &quot;&quot;;\r\n            }\r\n            else if (times % 2 == 0) {\r\n                return repeatLog2(s+s, times/2);\r\n            }\r\n            else {\r\n               return s + repeatLog2(s+s, times/2);\r\n            }\r\n        }\r\n    \r\n        public static String repeatR(String s, int times) {\r\n            if (times &lt;= 0) {\r\n                return &quot;&quot;;\r\n            }\r\n            else {\r\n                return s + repeatR(s, times-1);\r\n            }\r\n        }\r\n    \r\n        public static String repeatIc(String s, int times) {\r\n            String tmp = &quot;&quot;;\r\n            for (int i = 0; i &lt; times; i++) {\r\n                tmp += s;\r\n            }\r\n            return tmp;\r\n        }\r\n    \r\n        public static String repeatSb(String s, int n) {\r\n            final StringBuilder sb = new StringBuilder();\r\n            for(int i = 0; i &lt; n; i++) {\r\n                sb.append(s);\r\n            }\r\n            return sb.toString();\r\n        }\r\n    }\r\n\r\nIt takes 2 arguments, the first is the number of iterations (each function run with repeat times arg from 1..n) and the second is the string to repeat.\r\n\r\nSo far, a quick inspection of the times running with different inputs leaves the ranking something like this (better to worse):\r\n\r\n 1. Iterative StringBuilder append (1x).\r\n 2. Recursive concatenation log2 invocations (~3x).\r\n 3. Recursive concatenation linear invocations (~30x).\r\n 4. Iterative concatenation linear (~45x).\r\n\r\nI wouldn&#39;t ever guessed that the recursive function was faster than the `for` loop :-o\r\n\r\nHave fun(ctional xD).","title":"Simple way to repeat a string","body":"<p>So you want to avoid loops?</p>\n\n<p>Here you have it:</p>\n\n<pre><code>public static String repeat(String s, int times) {\n    if (times &lt;= 0) return \"\";\n    else return s + repeat(s, times-1);\n}\n</code></pre>\n\n<p>(of course I know this is ugly and inefficient, but it doesn't have loops :-p)</p>\n\n<p>You want it simpler and prettier? use jython:</p>\n\n<pre><code>s * 3\n</code></pre>\n\n<p><strong>Edit</strong>: let's optimize it a little bit :-D</p>\n\n<pre><code>public static String repeat(String s, int times) {\n   if (times &lt;= 0) return \"\";\n   else if (times % 2 == 0) return repeat(s+s, times/2);\n   else return s + repeat(s+s, times/2);\n}\n</code></pre>\n\n<p><strong>Edit2</strong>: I've done a quick and dirty benchmark for the 4 main alternatives, but I don't have time to run it several times to get the means and plot the times for several inputs... So here's the code if anybody wants to try it:</p>\n\n<pre><code>public class Repeat {\n    public static void main(String[] args)  {\n        int n = Integer.parseInt(args[0]);\n        String s = args[1];\n        int l = s.length();\n        long start, end;\n\n        start = System.currentTimeMillis();\n        for (int i = 0; i &lt; n; i++) {\n            if(repeatLog2(s,i).length()!=i*l) throw new RuntimeException();\n        }\n        end = System.currentTimeMillis();\n        System.out.println(\"RecLog2Concat: \" + (end-start) + \"ms\");\n\n        start = System.currentTimeMillis();\n        for (int i = 0; i &lt; n; i++) {\n            if(repeatR(s,i).length()!=i*l) throw new RuntimeException();\n        }               \n        end = System.currentTimeMillis();\n        System.out.println(\"RecLinConcat: \" + (end-start) + \"ms\");\n\n        start = System.currentTimeMillis();\n        for (int i = 0; i &lt; n; i++) {\n            if(repeatIc(s,i).length()!=i*l) throw new RuntimeException();\n        }\n        end = System.currentTimeMillis();\n        System.out.println(\"IterConcat: \" + (end-start) + \"ms\");\n\n        start = System.currentTimeMillis();\n        for (int i = 0; i &lt; n; i++) {\n            if(repeatSb(s,i).length()!=i*l) throw new RuntimeException();\n        }\n        end = System.currentTimeMillis();\n        System.out.println(\"IterStrB: \" + (end-start) + \"ms\");\n    }\n\n    public static String repeatLog2(String s, int times) {\n        if (times &lt;= 0) {\n            return \"\";\n        }\n        else if (times % 2 == 0) {\n            return repeatLog2(s+s, times/2);\n        }\n        else {\n           return s + repeatLog2(s+s, times/2);\n        }\n    }\n\n    public static String repeatR(String s, int times) {\n        if (times &lt;= 0) {\n            return \"\";\n        }\n        else {\n            return s + repeatR(s, times-1);\n        }\n    }\n\n    public static String repeatIc(String s, int times) {\n        String tmp = \"\";\n        for (int i = 0; i &lt; times; i++) {\n            tmp += s;\n        }\n        return tmp;\n    }\n\n    public static String repeatSb(String s, int n) {\n        final StringBuilder sb = new StringBuilder();\n        for(int i = 0; i &lt; n; i++) {\n            sb.append(s);\n        }\n        return sb.toString();\n    }\n}\n</code></pre>\n\n<p>It takes 2 arguments, the first is the number of iterations (each function run with repeat times arg from 1..n) and the second is the string to repeat.</p>\n\n<p>So far, a quick inspection of the times running with different inputs leaves the ranking something like this (better to worse):</p>\n\n<ol>\n<li>Iterative StringBuilder append (1x).</li>\n<li>Recursive concatenation log2 invocations (~3x).</li>\n<li>Recursive concatenation linear invocations (~30x).</li>\n<li>Iterative concatenation linear (~45x).</li>\n</ol>\n\n<p>I wouldn't ever guessed that the recursive function was faster than the <code>for</code> loop :-o</p>\n\n<p>Have fun(ctional xD).</p>\n"},{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1249531048,"creation_date":1249531048,"answer_id":1236887,"question_id":1235179,"body_markdown":"based on [fortran&#39;s answer][1], this is a recusive version that uses a StringBuilder:\r\n\r\n    public static void repeat(StringBuilder stringBuilder, String s, int times) {\r\n        if (times &gt; 0) {\r\n            repeat(stringBuilder.append(s), s, times - 1);\r\n        }\r\n    }\r\n\r\n    public static String repeat(String s, int times) {\r\n        StringBuilder stringBuilder = new StringBuilder(s.length() * times);\r\n        repeat(stringBuilder, s, times);\r\n        return stringBuilder.toString();\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1235179/simple-way-to-repeat-a-string-in-java/1236367#1236367","title":"Simple way to repeat a string","body":"<p>based on <a href=\"https://stackoverflow.com/questions/1235179/simple-way-to-repeat-a-string-in-java/1236367#1236367\">fortran's answer</a>, this is a recusive version that uses a StringBuilder:</p>\n\n<pre><code>public static void repeat(StringBuilder stringBuilder, String s, int times) {\n    if (times &gt; 0) {\n        repeat(stringBuilder.append(s), s, times - 1);\n    }\n}\n\npublic static String repeat(String s, int times) {\n    StringBuilder stringBuilder = new StringBuilder(s.length() * times);\n    repeat(stringBuilder, s, times);\n    return stringBuilder.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5401,"reputation":25013,"user_id":8677,"accept_rate":78,"display_name":"I. J. Kennedy"},"down_vote_count":8,"up_vote_count":112,"is_accepted":false,"score":104,"last_activity_date":1446226450,"creation_date":1250964306,"answer_id":1316608,"question_id":1235179,"body_markdown":"Here&#39;s a way to do it using only standard String functions and no explicit loops:\r\n\r\n    // create a string made up of  n  copies of  s\r\n    repeated = String.format(String.format(&quot;%%%ds&quot;, n), &quot; &quot;).replace(&quot; &quot;,s);\r\n\r\n","title":"Simple way to repeat a string","body":"<p>Here's a way to do it using only standard String functions and no explicit loops:</p>\n\n<pre><code>// create a string made up of  n  copies of  s\nrepeated = String.format(String.format(\"%%%ds\", n), \" \").replace(\" \",s);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1265040088,"creation_date":1265040088,"answer_id":2178032,"question_id":1235179,"body_markdown":"using [Dollar][1] is simple as typing:\r\n\r\n    @Test\r\n    public void repeatString() {\r\n        String string = &quot;abc&quot;;\r\n        assertThat($(string).repeat(3).toString(), is(&quot;abcabcabc&quot;));\r\n    }\r\n\r\nPS: **repeat** works also for array, List, Set, etc\r\n\r\n\r\n  [1]: http://bitbucket.org/dfa/dollar/","title":"Simple way to repeat a string","body":"<p>using <a href=\"http://bitbucket.org/dfa/dollar/\" rel=\"noreferrer\">Dollar</a> is simple as typing:</p>\n\n<pre><code>@Test\npublic void repeatString() {\n    String string = \"abc\";\n    assertThat($(string).repeat(3).toString(), is(\"abcabcabc\"));\n}\n</code></pre>\n\n<p>PS: <strong>repeat</strong> works also for array, List, Set, etc</p>\n"},{"tags":[],"owner":{"account_id":35892,"reputation":30826,"user_id":102008,"accept_rate":37,"display_name":"user102008"},"down_vote_count":6,"up_vote_count":1015,"is_accepted":false,"score":1009,"last_activity_date":1448042102,"creation_date":1296858849,"answer_id":4903603,"question_id":1235179,"body_markdown":"Here is the shortest version (Java 1.5+ required):\r\n\r\n    repeated = new String(new char[n]).replace(&quot;\\0&quot;, s);\r\n\r\nWhere `n` is the number of times you want to repeat the string and `s` is the string to repeat.\r\n\r\nNo imports or libraries needed.","title":"Simple way to repeat a string","body":"<p>Here is the shortest version (Java 1.5+ required):</p>\n\n<pre><code>repeated = new String(new char[n]).replace(\"\\0\", s);\n</code></pre>\n\n<p>Where <code>n</code> is the number of times you want to repeat the string and <code>s</code> is the string to repeat.</p>\n\n<p>No imports or libraries needed.</p>\n"},{"tags":[],"owner":{"account_id":201896,"reputation":57765,"user_id":448625,"accept_rate":96,"display_name":"Caner"},"down_vote_count":1,"up_vote_count":557,"is_accepted":false,"score":556,"last_activity_date":1677120446,"creation_date":1311851156,"answer_id":6857936,"question_id":1235179,"body_markdown":"If you are using **Java &lt;= 7**, this is as &quot;concise&quot; as it gets:\r\n\r\n    // create a string made up of n copies of string s\r\n    String.format(&quot;%0&quot; + n + &quot;d&quot;, 0).replace(&quot;0&quot;, s);\r\n\r\n\r\nIn **Java 8** and above there is a more readable way:\r\n\r\n    // create a string made up of n copies of string s\r\n    String.join(&quot;&quot;, Collections.nCopies(n, s));\r\n\r\n\r\nFinally, for **Java 11** and above, there is a new `repeat(int count)` method specifically for this purpose([link][1])\r\n\r\n\r\n    &quot;abc&quot;.repeat(12);\r\n\r\nAlternatively, if your project uses java libraries there are more options.\r\n\r\nFor **[Apache Commons][2]**:\r\n\r\n    StringUtils.repeat(&quot;abc&quot;, 12);\r\n\r\nFor **[Google Guava][3]**:\r\n\r\n    Strings.repeat(&quot;abc&quot;, 12);\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#repeat(int)\r\n  [2]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html\r\n  [3]: https://guava.dev/releases/20.0/api/docs/com/google/common/base/Strings.html#repeat-java.lang.String-int-","title":"Simple way to repeat a string","body":"<p>If you are using <strong>Java &lt;= 7</strong>, this is as &quot;concise&quot; as it gets:</p>\n<pre><code>// create a string made up of n copies of string s\nString.format(&quot;%0&quot; + n + &quot;d&quot;, 0).replace(&quot;0&quot;, s);\n</code></pre>\n<p>In <strong>Java 8</strong> and above there is a more readable way:</p>\n<pre><code>// create a string made up of n copies of string s\nString.join(&quot;&quot;, Collections.nCopies(n, s));\n</code></pre>\n<p>Finally, for <strong>Java 11</strong> and above, there is a new <code>repeat(int count)</code> method specifically for this purpose(<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#repeat(int)\" rel=\"noreferrer\">link</a>)</p>\n<pre><code>&quot;abc&quot;.repeat(12);\n</code></pre>\n<p>Alternatively, if your project uses java libraries there are more options.</p>\n<p>For <strong><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html\" rel=\"noreferrer\">Apache Commons</a></strong>:</p>\n<pre><code>StringUtils.repeat(&quot;abc&quot;, 12);\n</code></pre>\n<p>For <strong><a href=\"https://guava.dev/releases/20.0/api/docs/com/google/common/base/Strings.html#repeat-java.lang.String-int-\" rel=\"noreferrer\">Google Guava</a></strong>:</p>\n<pre><code>Strings.repeat(&quot;abc&quot;, 12);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":477449,"reputation":1055,"user_id":888958,"accept_rate":93,"display_name":"alexmherrmann"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1313038704,"creation_date":1313020505,"answer_id":7019357,"question_id":1235179,"body_markdown":"here is the latest Stringutils.java [StringUtils.java][1]\r\n\r\n\t    public static String repeat(String str, int repeat) {\r\n\t\t// Performance tuned for 2.0 (JDK1.4)\r\n\r\n\t\tif (str == null) {\r\n\t\t    return null;\r\n\t\t}\r\n\t\tif (repeat &lt;= 0) {\r\n\t\t    return EMPTY;\r\n\t\t}\r\n\t\tint inputLength = str.length();\r\n\t\tif (repeat == 1 || inputLength == 0) {\r\n\t\t    return str;\r\n\t\t}\r\n\t\tif (inputLength == 1 &amp;&amp; repeat &lt;= PAD_LIMIT) {\r\n\t\t    return repeat(str.charAt(0), repeat);\r\n\t\t}\r\n\r\n\t\tint outputLength = inputLength * repeat;\r\n\t\tswitch (inputLength) {\r\n\t\t    case 1 :\r\n\t\t        return repeat(str.charAt(0), repeat);\r\n\t\t    case 2 :\r\n\t\t        char ch0 = str.charAt(0);\r\n\t\t        char ch1 = str.charAt(1);\r\n\t\t        char[] output2 = new char[outputLength];\r\n\t\t        for (int i = repeat * 2 - 2; i &gt;= 0; i--, i--) {\r\n\t\t            output2[i] = ch0;\r\n\t\t            output2[i + 1] = ch1;\r\n\t\t        }\r\n\t\t        return new String(output2);\r\n\t\t    default :\r\n\t\t        StringBuilder buf = new StringBuilder(outputLength);\r\n\t\t        for (int i = 0; i &lt; repeat; i++) {\r\n\t\t            buf.append(str);\r\n\t\t        }\r\n\t\t        return buf.toString();\r\n\t\t}\r\n\t    }\r\n\r\n\r\nit doesn&#39;t even need to be this big, can be made into this, and can be copied and pasted \r\ninto a utility class in your project.\r\n\r\n\t    public static String repeat(String str, int num) {\r\n\t\tint len = num * str.length();\r\n\t\tStringBuilder sb = new StringBuilder(len);\r\n\t\tfor (int i = 0; i &lt; times; i++) {\r\n\t\t    sb.append(str);\r\n\t\t}\r\n\t\treturn sb.toString();\r\n\t    }\r\n\r\nSo e5, I think the best way to do this would be to simply use the above mentioned code,or any of the answers here. but commons lang is just too big if it&#39;s a small project\r\n\r\n\r\n[1]: http://svn.apache.org/viewvc/commons/proper/lang/trunk/src/main/java/org/apache/commons/lang3/StringUtils.java\r\n","title":"Simple way to repeat a string","body":"<p>here is the latest Stringutils.java <a href=\"http://svn.apache.org/viewvc/commons/proper/lang/trunk/src/main/java/org/apache/commons/lang3/StringUtils.java\" rel=\"nofollow\">StringUtils.java</a></p>\n\n<pre><code>    public static String repeat(String str, int repeat) {\n    // Performance tuned for 2.0 (JDK1.4)\n\n    if (str == null) {\n        return null;\n    }\n    if (repeat &lt;= 0) {\n        return EMPTY;\n    }\n    int inputLength = str.length();\n    if (repeat == 1 || inputLength == 0) {\n        return str;\n    }\n    if (inputLength == 1 &amp;&amp; repeat &lt;= PAD_LIMIT) {\n        return repeat(str.charAt(0), repeat);\n    }\n\n    int outputLength = inputLength * repeat;\n    switch (inputLength) {\n        case 1 :\n            return repeat(str.charAt(0), repeat);\n        case 2 :\n            char ch0 = str.charAt(0);\n            char ch1 = str.charAt(1);\n            char[] output2 = new char[outputLength];\n            for (int i = repeat * 2 - 2; i &gt;= 0; i--, i--) {\n                output2[i] = ch0;\n                output2[i + 1] = ch1;\n            }\n            return new String(output2);\n        default :\n            StringBuilder buf = new StringBuilder(outputLength);\n            for (int i = 0; i &lt; repeat; i++) {\n                buf.append(str);\n            }\n            return buf.toString();\n    }\n    }\n</code></pre>\n\n<p>it doesn't even need to be this big, can be made into this, and can be copied and pasted \ninto a utility class in your project.</p>\n\n<pre><code>    public static String repeat(String str, int num) {\n    int len = num * str.length();\n    StringBuilder sb = new StringBuilder(len);\n    for (int i = 0; i &lt; times; i++) {\n        sb.append(str);\n    }\n    return sb.toString();\n    }\n</code></pre>\n\n<p>So e5, I think the best way to do this would be to simply use the above mentioned code,or any of the answers here. but commons lang is just too big if it's a small project</p>\n"},{"tags":[],"owner":{"account_id":12634,"reputation":20863,"user_id":24998,"accept_rate":100,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":88,"is_accepted":false,"score":88,"last_activity_date":1337556809,"creation_date":1337556809,"answer_id":10678095,"question_id":1235179,"body_markdown":"If you&#39;re like me and want to use Google Guava and not Apache Commons. You can use the [repeat][1] method in the Guava Strings class.\r\n\r\n    Strings.repeat(&quot;-&quot;, 60);\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Strings.html#repeat%28java.lang.String,%20int%29","title":"Simple way to repeat a string","body":"<p>If you're like me and want to use Google Guava and not Apache Commons. You can use the <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Strings.html#repeat%28java.lang.String,%20int%29\">repeat</a> method in the Guava Strings class.</p>\n\n<pre><code>Strings.repeat(\"-\", 60);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2119000,"reputation":71,"user_id":1882685,"display_name":"Bob"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1354804924,"creation_date":1354804924,"answer_id":13745970,"question_id":1235179,"body_markdown":"I wanted a function to create a comma-delimited list of question marks for JDBC purposes, and found this post. So, I decided to take two variants and see which one performed better. After 1 million iterations, the garden-variety StringBuilder took 2 seconds (fun1), and the cryptic supposedly more optimal version (fun2) took 30 seconds. What&#39;s the point of being cryptic again?\r\n\r\n    private static String fun1(int size) {\r\n        StringBuilder sb = new StringBuilder(size * 2);\r\n        for (int i = 0; i &lt; size; i++) {\r\n            sb.append(&quot;,?&quot;);\r\n        }\r\n        return sb.substring(1);\r\n    }\r\n    \r\n    private static String fun2(int size) {\r\n        return new String(new char[size]).replaceAll(&quot;\\0&quot;, &quot;,?&quot;).substring(1);\r\n    }\r\n    ","title":"Simple way to repeat a string","body":"<p>I wanted a function to create a comma-delimited list of question marks for JDBC purposes, and found this post. So, I decided to take two variants and see which one performed better. After 1 million iterations, the garden-variety StringBuilder took 2 seconds (fun1), and the cryptic supposedly more optimal version (fun2) took 30 seconds. What's the point of being cryptic again?</p>\n\n<pre><code>private static String fun1(int size) {\n    StringBuilder sb = new StringBuilder(size * 2);\n    for (int i = 0; i &lt; size; i++) {\n        sb.append(\",?\");\n    }\n    return sb.substring(1);\n}\n\nprivate static String fun2(int size) {\n    return new String(new char[size]).replaceAll(\"\\0\", \",?\").substring(1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":954960,"reputation":13272,"user_id":980442,"accept_rate":25,"display_name":"Daniel De Le&#243;n"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1364950580,"creation_date":1364937659,"answer_id":15774621,"question_id":1235179,"body_markdown":"I really enjoy this question. There is a lot of knowledge and styles. So I can&#39;t leave it without show my rock and roll  ;)\r\n\r\n    {\r\n        String string = repeat(&quot;1234567890&quot;, 4);\r\n        System.out.println(string);\r\n        System.out.println(&quot;=======&quot;);\r\n        repeatWithoutCopySample(string, 100000);\r\n        System.out.println(string);// This take time, try it without printing\r\n        System.out.println(string.length());\r\n    }\r\n\r\n    /**\r\n     * The core of the task.\r\n     */\r\n    @SuppressWarnings(&quot;AssignmentToMethodParameter&quot;)\r\n    public static char[] repeat(char[] sample, int times) {\r\n        char[] r = new char[sample.length * times];\r\n        while (--times &gt; -1) {\r\n            System.arraycopy(sample, 0, r, times * sample.length, sample.length);\r\n        }\r\n        return r;\r\n    }\r\n\r\n    /**\r\n     * Java classic style.\r\n     */\r\n    public static String repeat(String sample, int times) {\r\n        return new String(repeat(sample.toCharArray(), times));\r\n    }\r\n\r\n    /**\r\n     * Java extreme memory style.\r\n     */\r\n    @SuppressWarnings(&quot;UseSpecificCatch&quot;)\r\n    public static void repeatWithoutCopySample(String sample, int times) {\r\n        try {\r\n            Field valueStringField = String.class.getDeclaredField(&quot;value&quot;);\r\n            valueStringField.setAccessible(true);\r\n            valueStringField.set(sample, repeat((char[]) valueStringField.get(sample), times));\r\n        } catch (Exception ex) {\r\n            throw new RuntimeException(ex);\r\n        }\r\n    }\r\n\r\nDo you like it?","title":"Simple way to repeat a string","body":"<p>I really enjoy this question. There is a lot of knowledge and styles. So I can't leave it without show my rock and roll  ;)</p>\n\n<pre><code>{\n    String string = repeat(\"1234567890\", 4);\n    System.out.println(string);\n    System.out.println(\"=======\");\n    repeatWithoutCopySample(string, 100000);\n    System.out.println(string);// This take time, try it without printing\n    System.out.println(string.length());\n}\n\n/**\n * The core of the task.\n */\n@SuppressWarnings(\"AssignmentToMethodParameter\")\npublic static char[] repeat(char[] sample, int times) {\n    char[] r = new char[sample.length * times];\n    while (--times &gt; -1) {\n        System.arraycopy(sample, 0, r, times * sample.length, sample.length);\n    }\n    return r;\n}\n\n/**\n * Java classic style.\n */\npublic static String repeat(String sample, int times) {\n    return new String(repeat(sample.toCharArray(), times));\n}\n\n/**\n * Java extreme memory style.\n */\n@SuppressWarnings(\"UseSpecificCatch\")\npublic static void repeatWithoutCopySample(String sample, int times) {\n    try {\n        Field valueStringField = String.class.getDeclaredField(\"value\");\n        valueStringField.setAccessible(true);\n        valueStringField.set(sample, repeat((char[]) valueStringField.get(sample), times));\n    } catch (Exception ex) {\n        throw new RuntimeException(ex);\n    }\n}\n</code></pre>\n\n<p>Do you like it?</p>\n"},{"tags":[],"owner":{"account_id":1077683,"reputation":362,"user_id":1326308,"accept_rate":100,"display_name":"falcon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1370005502,"creation_date":1370003871,"answer_id":16857487,"question_id":1235179,"body_markdown":"    public static String repeat(String str, int times) {\r\n        int length = str.length();\r\n        int size = length * times;\r\n        char[] c = new char[size];\r\n        for (int i = 0; i &lt; size; i++) {\r\n            c[i] = str.charAt(i % length);\r\n        }\r\n        return new String(c);\r\n    }\r\n","title":"Simple way to repeat a string","body":"<pre><code>public static String repeat(String str, int times) {\n    int length = str.length();\n    int size = length * times;\n    char[] c = new char[size];\n    for (int i = 0; i &lt; size; i++) {\n        c[i] = str.charAt(i % length);\n    }\n    return new String(c);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":116244,"reputation":11051,"user_id":304894,"accept_rate":71,"display_name":"Codler"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1372160966,"creation_date":1372160966,"answer_id":17296521,"question_id":1235179,"body_markdown":"Simple loop\r\n\r\n    public static String repeat(String string, int times) {\r\n    \tStringBuilder out = new StringBuilder();\r\n    \twhile (times-- &gt; 0) {\r\n    \t\tout.append(string);\r\n    \t}\r\n    \treturn out.toString();\r\n    }","title":"Simple way to repeat a string","body":"<p>Simple loop</p>\n\n<pre><code>public static String repeat(String string, int times) {\n    StringBuilder out = new StringBuilder();\n    while (times-- &gt; 0) {\n        out.append(string);\n    }\n    return out.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user2591957"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1384352722,"creation_date":1384352722,"answer_id":19956236,"question_id":1235179,"body_markdown":"Try this out:    \r\n\r\n    public static char[] myABCs = {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;};\r\n    public static int numInput;\r\n    static Scanner in = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) {\r\n        System.out.print(&quot;Enter Number of Times to repeat: &quot;);\r\n        numInput = in.nextInt();\r\n        repeatArray(numInput);\r\n    }\r\n\r\n    public static int repeatArray(int y) {\r\n        for (int a = 0; a &lt; y; a++) {\r\n            for (int b = 0; b &lt; myABCs.length; b++) {\r\n                System.out.print(myABCs[b]);                \r\n            }\r\n            System.out.print(&quot; &quot;);\r\n        }\r\n        return y;\r\n    }","title":"Simple way to repeat a string","body":"<p>Try this out:    </p>\n\n<pre><code>public static char[] myABCs = {'a', 'b', 'c'};\npublic static int numInput;\nstatic Scanner in = new Scanner(System.in);\n\npublic static void main(String[] args) {\n    System.out.print(\"Enter Number of Times to repeat: \");\n    numInput = in.nextInt();\n    repeatArray(numInput);\n}\n\npublic static int repeatArray(int y) {\n    for (int a = 0; a &lt; y; a++) {\n        for (int b = 0; b &lt; myABCs.length; b++) {\n            System.out.print(myABCs[b]);                \n        }\n        System.out.print(\" \");\n    }\n    return y;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"down_vote_count":0,"up_vote_count":151,"is_accepted":false,"score":151,"last_activity_date":1432230804,"creation_date":1406247473,"answer_id":24946101,"question_id":1235179,"body_markdown":"Java 8&#39;s [`String.join`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.Iterable-) provides a tidy way to do this in conjunction with [`Collections.nCopies`](https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#nCopies-int-T-):\r\n\r\n\t// say hello 100 times\r\n\tSystem.out.println(String.join(&quot;&quot;, Collections.nCopies(100, &quot;hello&quot;)));\r\n","title":"Simple way to repeat a string","body":"<p>Java 8's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.Iterable-\"><code>String.join</code></a> provides a tidy way to do this in conjunction with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#nCopies-int-T-\"><code>Collections.nCopies</code></a>:</p>\n\n<pre><code>// say hello 100 times\nSystem.out.println(String.join(\"\", Collections.nCopies(100, \"hello\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8670,"reputation":74291,"user_id":15721,"accept_rate":74,"display_name":"Will"},"down_vote_count":8,"up_vote_count":5,"is_accepted":false,"score":-3,"last_activity_date":1412861029,"creation_date":1412861029,"answer_id":26279577,"question_id":1235179,"body_markdown":"    repeated = str + str + str;\r\n\r\nSometimes simple is best.  Everyone reading the code can see what&#39;s happening.\r\n\r\nAnd the compiler will do the fancy stuff with [`StringBuilder`][1] behind the scenes for you.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html","title":"Simple way to repeat a string","body":"<pre><code>repeated = str + str + str;\n</code></pre>\n\n<p>Sometimes simple is best.  Everyone reading the code can see what's happening.</p>\n\n<p>And the compiler will do the fancy stuff with <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html\" rel=\"nofollow\"><code>StringBuilder</code></a> behind the scenes for you.</p>\n"},{"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"down_vote_count":1,"up_vote_count":56,"is_accepted":false,"score":55,"last_activity_date":1423501801,"creation_date":1419862561,"answer_id":27690536,"question_id":1235179,"body_markdown":"With [tag:java-8], you can also use `Stream.generate`.\r\n\r\n    import static java.util.stream.Collectors.joining;\r\n    ...\r\n    String repeated = Stream.generate(() -&gt; &quot;abc&quot;).limit(3).collect(joining()); //&quot;abcabcabc&quot;\r\n\r\nand you can wrap it in a simple utility method if needed:\r\n\r\n    public static String repeat(String str, int times) {\r\n       return Stream.generate(() -&gt; str).limit(times).collect(joining());\r\n    }","title":"Simple way to repeat a string","body":"<p>With <a href=\"/questions/tagged/java-8\" class=\"post-tag\" title=\"show questions tagged 'java-8'\" rel=\"tag\">java-8</a>, you can also use <code>Stream.generate</code>.</p>\n\n<pre><code>import static java.util.stream.Collectors.joining;\n...\nString repeated = Stream.generate(() -&gt; \"abc\").limit(3).collect(joining()); //\"abcabcabc\"\n</code></pre>\n\n<p>and you can wrap it in a simple utility method if needed:</p>\n\n<pre><code>public static String repeat(String str, int times) {\n   return Stream.generate(() -&gt; str).limit(times).collect(joining());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10839766,"reputation":5282,"user_id":8200485,"accept_rate":82,"display_name":"hyper-neutrino"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1433723505,"creation_date":1433723505,"answer_id":30699840,"question_id":1235179,"body_markdown":"Using recursion, you can do the following (using ternary operators, one line max):\r\n\r\n    public static final String repeat(String string, long number) {\r\n        return number == 1 ? string : (number % 2 == 0 ? repeat(string + string, number / 2) : string + repeat(string + string, (number - 1) / 2));\r\n    }\r\n\r\nI know, it&#39;s ugly and probably not efficient, but it&#39;s one line!","title":"Simple way to repeat a string","body":"<p>Using recursion, you can do the following (using ternary operators, one line max):</p>\n\n<pre><code>public static final String repeat(String string, long number) {\n    return number == 1 ? string : (number % 2 == 0 ? repeat(string + string, number / 2) : string + repeat(string + string, (number - 1) / 2));\n}\n</code></pre>\n\n<p>I know, it's ugly and probably not efficient, but it's one line!</p>\n"},{"tags":[],"owner":{"account_id":2412824,"reputation":79,"user_id":2107549,"display_name":"Maciej Schuttkowski"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1438879701,"creation_date":1438879701,"answer_id":31861436,"question_id":1235179,"body_markdown":"&lt;h1&gt;OOP Solution&lt;/h1&gt;\r\nNearly every answer proposes a static function as a solution, but thinking Object-Oriented (for reusability-purposes and clarity) I came up with a Solution via Delegation through the CharSequence-Interface (which also opens up usability on mutable CharSequence-Classes).\r\n\r\nThe following Class can be used either with or without Separator-String/CharSequence and each call to &quot;toString()&quot; builds the final repeated String.\r\nThe Input/Separator are not only limited to String-Class, but can be every Class which implements CharSequence (e.g. StringBuilder, StringBuffer, etc)!\r\n\r\n&lt;h1&gt;Source-Code:&lt;/h1&gt;\r\n    /**\r\n     * Helper-Class for Repeating Strings and other CharSequence-Implementations\r\n     * @author Maciej Schuttkowski\r\n     */\r\n    public class RepeatingCharSequence implements CharSequence {\r\n\t    final int count;\r\n    \tCharSequence internalCharSeq = &quot;&quot;;\r\n\t    CharSequence separator = &quot;&quot;;\r\n    \t/**\r\n\t     * CONSTRUCTOR - RepeatingCharSequence\r\n    \t * @param input CharSequence to repeat\r\n\t     * @param count Repeat-Count\r\n\t     */\r\n    \tpublic RepeatingCharSequence(CharSequence input, int count) {\r\n\t    \tif(count &lt; 0)\r\n\t\t    \tthrow new IllegalArgumentException(&quot;Can not repeat String \\&quot;&quot;+input+&quot;\\&quot; less than 0 times! count=&quot;+count);\r\n    \t\tif(count &gt; 0)\r\n\t\t\t    internalCharSeq = input;\r\n\t\t    this.count = count;\r\n\t    }\r\n    \t/**\r\n    \t * CONSTRUCTOR - Strings.RepeatingCharSequence\r\n    \t * @param input CharSequence to repeat\r\n    \t * @param count Repeat-Count\r\n    \t * @param separator Separator-Sequence to use\r\n\t     */\r\n    \tpublic RepeatingCharSequence(CharSequence input, int count, CharSequence separator) {\r\n\t\t    this(input, count);\r\n\t    \tthis.separator = separator;\r\n    \t}\r\n\t\r\n\t    @Override\r\n    \tpublic CharSequence subSequence(int start, int end) {\r\n\t\t    checkBounds(start);\r\n\t    \tcheckBounds(end);\r\n    \t\tint subLen = end - start;\r\n\t\t    if (subLen &lt; 0) {\r\n\t    \t\tthrow new IndexOutOfBoundsException(&quot;Illegal subSequence-Length: &quot;+subLen);\r\n    \t\t}\r\n\t\t\treturn (start == 0 &amp;&amp; end == length()) ? this\r\n\t\t\t\t\t\t: toString().substring(start, subLen);\r\n\t    }\r\n    \t@Override\r\n\t    public int length() {\r\n\t\t\t//We return the total length of our CharSequences with the separator 1 time less than amount of repeats:\r\n\t\t\treturn count &lt; 1 ? 0\r\n\t\t\t\t\t: ( (internalCharSeq.length()*count) + (separator.length()*(count-1)));\r\n\t    }\r\n    \t@Override\r\n\t    public char charAt(int index) {\r\n    \t\tfinal int internalIndex = internalIndex(index);\r\n    \t\t//Delegate to Separator-CharSequence or Input-CharSequence depending on internal index:\r\n    \t\tif(internalIndex &gt; internalCharSeq.length()-1) {\r\n\t\t\t    return separator.charAt(internalIndex-internalCharSeq.length());\r\n\t\t    }\r\n\t    \treturn internalCharSeq.charAt(internalIndex);\r\n    \t}\r\n\t    @Override\r\n    \tpublic String toString() {\r\n\t\t\treturn count &lt; 1 ? &quot;&quot;\r\n\t\t\t\t\t: new StringBuilder(this).toString();\r\n\t    }\r\n\t\r\n    \tprivate void checkBounds(int index) {\r\n\t    \tif(index &lt; 0 || index &gt;= length())\r\n    \t\t\tthrow new IndexOutOfBoundsException(&quot;Index out of Bounds: &quot;+index);\r\n    \t}\r\n\t    private int internalIndex(int index) {\r\n    \t\t// We need to add 1 Separator-Length to total length before dividing,\r\n\t\t\t// as we subtracted one Separator-Length in &quot;length()&quot;\r\n\t\t    return index % ((length()+separator.length())/count);\r\n\t    }\r\n    }\r\n\r\n\r\n&lt;h1&gt;Usage-Example:&lt;/h1&gt;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t//String input = &quot;12345&quot;;\r\n\t\t//StringBuffer input = new StringBuffer(&quot;12345&quot;);\r\n\t\tStringBuilder input = new StringBuilder(&quot;123&quot;);\r\n\t\t//String separator = &quot;&lt;=&gt;&quot;;\r\n\t\tStringBuilder separator = new StringBuilder(&quot;&lt;=&quot;);//.append(&#39;&gt;&#39;);\r\n\t\tint repeatCount = 2;\r\n\t\t\r\n\t\tCharSequence repSeq = new RepeatingCharSequence(input, repeatCount, separator);\r\n\t\tString repStr = repSeq.toString();\r\n\r\n\t\tSystem.out.println(&quot;Repeat=&quot;+repeatCount+&quot;\\tSeparator=&quot;+separator+&quot;\\tInput=&quot;+input+&quot;\\tLength=&quot;+input.length());\r\n\t\tSystem.out.println(&quot;CharSeq:\\tLength=&quot;+repSeq.length()+&quot;\\tVal=&quot;+repSeq);\r\n\t\tSystem.out.println(&quot;String :\\tLength=&quot;+repStr.length()+&quot;\\tVal=&quot;+repStr);\r\n\t\t\r\n\t\t//Here comes the Magic with a StringBuilder as Input, as you can append to the String-Builder\r\n\t\t//and at the same Time your Repeating-Sequence&#39;s toString()-Method returns the updated String :)\r\n\t\tinput.append(&quot;ff&quot;);\r\n\t\tSystem.out.println(repSeq);\r\n\t\t//Same can be done with the Separator:\r\n\t\tseparator.append(&quot;===&quot;).append(&#39;&gt;&#39;);\r\n\t\tSystem.out.println(repSeq);\r\n\t}\r\n\r\n&lt;h1&gt;Example-Output:&lt;/h1&gt;\r\n\r\n\tRepeat=2\tSeparator=&lt;=\tInput=123\tLength=3\r\n\tCharSeq:\tLength=8\tVal=123&lt;=123\r\n\tString :\tLength=8\tVal=123&lt;=123\r\n\t123ff&lt;=123ff\r\n\t123ff&lt;====&gt;123ff","title":"Simple way to repeat a string","body":"<h1>OOP Solution</h1>\n\n<p>Nearly every answer proposes a static function as a solution, but thinking Object-Oriented (for reusability-purposes and clarity) I came up with a Solution via Delegation through the CharSequence-Interface (which also opens up usability on mutable CharSequence-Classes).</p>\n\n<p>The following Class can be used either with or without Separator-String/CharSequence and each call to \"toString()\" builds the final repeated String.\nThe Input/Separator are not only limited to String-Class, but can be every Class which implements CharSequence (e.g. StringBuilder, StringBuffer, etc)!</p>\n\n<h1>Source-Code:</h1>\n\n<pre><code>/**\n * Helper-Class for Repeating Strings and other CharSequence-Implementations\n * @author Maciej Schuttkowski\n */\npublic class RepeatingCharSequence implements CharSequence {\n    final int count;\n    CharSequence internalCharSeq = \"\";\n    CharSequence separator = \"\";\n    /**\n     * CONSTRUCTOR - RepeatingCharSequence\n     * @param input CharSequence to repeat\n     * @param count Repeat-Count\n     */\n    public RepeatingCharSequence(CharSequence input, int count) {\n        if(count &lt; 0)\n            throw new IllegalArgumentException(\"Can not repeat String \\\"\"+input+\"\\\" less than 0 times! count=\"+count);\n        if(count &gt; 0)\n            internalCharSeq = input;\n        this.count = count;\n    }\n    /**\n     * CONSTRUCTOR - Strings.RepeatingCharSequence\n     * @param input CharSequence to repeat\n     * @param count Repeat-Count\n     * @param separator Separator-Sequence to use\n     */\n    public RepeatingCharSequence(CharSequence input, int count, CharSequence separator) {\n        this(input, count);\n        this.separator = separator;\n    }\n\n    @Override\n    public CharSequence subSequence(int start, int end) {\n        checkBounds(start);\n        checkBounds(end);\n        int subLen = end - start;\n        if (subLen &lt; 0) {\n            throw new IndexOutOfBoundsException(\"Illegal subSequence-Length: \"+subLen);\n        }\n        return (start == 0 &amp;&amp; end == length()) ? this\n                    : toString().substring(start, subLen);\n    }\n    @Override\n    public int length() {\n        //We return the total length of our CharSequences with the separator 1 time less than amount of repeats:\n        return count &lt; 1 ? 0\n                : ( (internalCharSeq.length()*count) + (separator.length()*(count-1)));\n    }\n    @Override\n    public char charAt(int index) {\n        final int internalIndex = internalIndex(index);\n        //Delegate to Separator-CharSequence or Input-CharSequence depending on internal index:\n        if(internalIndex &gt; internalCharSeq.length()-1) {\n            return separator.charAt(internalIndex-internalCharSeq.length());\n        }\n        return internalCharSeq.charAt(internalIndex);\n    }\n    @Override\n    public String toString() {\n        return count &lt; 1 ? \"\"\n                : new StringBuilder(this).toString();\n    }\n\n    private void checkBounds(int index) {\n        if(index &lt; 0 || index &gt;= length())\n            throw new IndexOutOfBoundsException(\"Index out of Bounds: \"+index);\n    }\n    private int internalIndex(int index) {\n        // We need to add 1 Separator-Length to total length before dividing,\n        // as we subtracted one Separator-Length in \"length()\"\n        return index % ((length()+separator.length())/count);\n    }\n}\n</code></pre>\n\n<h1>Usage-Example:</h1>\n\n<pre><code>public static void main(String[] args) {\n    //String input = \"12345\";\n    //StringBuffer input = new StringBuffer(\"12345\");\n    StringBuilder input = new StringBuilder(\"123\");\n    //String separator = \"&lt;=&gt;\";\n    StringBuilder separator = new StringBuilder(\"&lt;=\");//.append('&gt;');\n    int repeatCount = 2;\n\n    CharSequence repSeq = new RepeatingCharSequence(input, repeatCount, separator);\n    String repStr = repSeq.toString();\n\n    System.out.println(\"Repeat=\"+repeatCount+\"\\tSeparator=\"+separator+\"\\tInput=\"+input+\"\\tLength=\"+input.length());\n    System.out.println(\"CharSeq:\\tLength=\"+repSeq.length()+\"\\tVal=\"+repSeq);\n    System.out.println(\"String :\\tLength=\"+repStr.length()+\"\\tVal=\"+repStr);\n\n    //Here comes the Magic with a StringBuilder as Input, as you can append to the String-Builder\n    //and at the same Time your Repeating-Sequence's toString()-Method returns the updated String :)\n    input.append(\"ff\");\n    System.out.println(repSeq);\n    //Same can be done with the Separator:\n    separator.append(\"===\").append('&gt;');\n    System.out.println(repSeq);\n}\n</code></pre>\n\n<h1>Example-Output:</h1>\n\n<pre><code>Repeat=2    Separator=&lt;=    Input=123   Length=3\nCharSeq:    Length=8    Val=123&lt;=123\nString :    Length=8    Val=123&lt;=123\n123ff&lt;=123ff\n123ff&lt;====&gt;123ff\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4006168,"reputation":179,"user_id":3300768,"display_name":"niczm25"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1452158131,"creation_date":1452158131,"answer_id":34651237,"question_id":1235179,"body_markdown":"I created a recursive method that do the same thing you want.. feel free to use this...\r\n \r\n    \r\n    public String repeat(String str, int count) {\r\n    \treturn count &gt; 0 ?  repeat(str, count -1) + str: &quot;&quot;;\r\n    }\r\n\r\ni have the same answer on [Can I multiply strings in java to repeat sequences?][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2255500/can-i-multiply-strings-in-java-to-repeat-sequences","title":"Simple way to repeat a string","body":"<p>I created a recursive method that do the same thing you want.. feel free to use this...</p>\n\n<pre><code>public String repeat(String str, int count) {\n    return count &gt; 0 ?  repeat(str, count -1) + str: \"\";\n}\n</code></pre>\n\n<p>i have the same answer on <a href=\"https://stackoverflow.com/questions/2255500/can-i-multiply-strings-in-java-to-repeat-sequences\">Can I multiply strings in java to repeat sequences?</a></p>\n"},{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1474447214,"creation_date":1460927103,"answer_id":36682223,"question_id":1235179,"body_markdown":"for the sake of readability and portability:\r\n\r\n    public String repeat(String str, int count){\r\n        if(count &lt;= 0) {return &quot;&quot;;}\r\n\t\treturn new String(new char[count]).replace(&quot;\\0&quot;, str);\r\n\t}","title":"Simple way to repeat a string","body":"<p>for the sake of readability and portability:</p>\n\n<pre><code>public String repeat(String str, int count){\n    if(count &lt;= 0) {return \"\";}\n    return new String(new char[count]).replace(\"\\0\", str);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":135952,"reputation":1812,"user_id":339146,"accept_rate":75,"display_name":"Panayotis"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1495150135,"creation_date":1495150135,"answer_id":44059249,"question_id":1235179,"body_markdown":"If speed is your concern, then you should use as less memory copying as possible. Thus it is required to work with arrays of chars.\r\n\r\n    public static String repeatString(String what, int howmany) {\r\n        char[] pattern = what.toCharArray();\r\n        char[] res = new char[howmany * pattern.length];\r\n        int length = pattern.length;\r\n        for (int i = 0; i &lt; howmany; i++)\r\n            System.arraycopy(pattern, 0, res, i * length, length);\r\n        return new String(res);\r\n    }\r\n\r\nTo test speed, a similar optimal method using StirngBuilder is like this:\r\n\r\n    public static String repeatStringSB(String what, int howmany) {\r\n        StringBuilder out = new StringBuilder(what.length() * howmany);\r\n        for (int i = 0; i &lt; howmany; i++)\r\n            out.append(what);\r\n        return out.toString();\r\n    }\r\n\r\nand the code to test it:\r\n\r\n    public static void main(String... args) {\r\n        String res;\r\n        long time;\r\n\r\n        for (int j = 0; j &lt; 1000; j++) {\r\n            res = repeatString(&quot;123&quot;, 100000);\r\n            res = repeatStringSB(&quot;123&quot;, 100000);\r\n        }\r\n\r\n        time = System.nanoTime();\r\n        res = repeatString(&quot;123&quot;, 1000000);\r\n        time = System.nanoTime() - time;\r\n        System.out.println(&quot;elapsed repeatString: &quot; + time);\r\n\r\n        time = System.nanoTime();\r\n        res = repeatStringSB(&quot;123&quot;, 1000000);\r\n        time = System.nanoTime() - time;\r\n        System.out.println(&quot;elapsed repeatStringSB: &quot; + time);\r\n\r\n    }\r\n\r\nAnd here the run results from my system:\r\n\r\n    elapsed repeatString: 6006571\r\n    elapsed repeatStringSB: 9064937\r\n\r\nNote that the test for loop is to kick in JIT and have optimal results.","title":"Simple way to repeat a string","body":"<p>If speed is your concern, then you should use as less memory copying as possible. Thus it is required to work with arrays of chars.</p>\n\n<pre><code>public static String repeatString(String what, int howmany) {\n    char[] pattern = what.toCharArray();\n    char[] res = new char[howmany * pattern.length];\n    int length = pattern.length;\n    for (int i = 0; i &lt; howmany; i++)\n        System.arraycopy(pattern, 0, res, i * length, length);\n    return new String(res);\n}\n</code></pre>\n\n<p>To test speed, a similar optimal method using StirngBuilder is like this:</p>\n\n<pre><code>public static String repeatStringSB(String what, int howmany) {\n    StringBuilder out = new StringBuilder(what.length() * howmany);\n    for (int i = 0; i &lt; howmany; i++)\n        out.append(what);\n    return out.toString();\n}\n</code></pre>\n\n<p>and the code to test it:</p>\n\n<pre><code>public static void main(String... args) {\n    String res;\n    long time;\n\n    for (int j = 0; j &lt; 1000; j++) {\n        res = repeatString(\"123\", 100000);\n        res = repeatStringSB(\"123\", 100000);\n    }\n\n    time = System.nanoTime();\n    res = repeatString(\"123\", 1000000);\n    time = System.nanoTime() - time;\n    System.out.println(\"elapsed repeatString: \" + time);\n\n    time = System.nanoTime();\n    res = repeatStringSB(\"123\", 1000000);\n    time = System.nanoTime() - time;\n    System.out.println(\"elapsed repeatStringSB: \" + time);\n\n}\n</code></pre>\n\n<p>And here the run results from my system:</p>\n\n<pre><code>elapsed repeatString: 6006571\nelapsed repeatStringSB: 9064937\n</code></pre>\n\n<p>Note that the test for loop is to kick in JIT and have optimal results.</p>\n"},{"tags":[],"owner":{"account_id":10394667,"reputation":2778,"user_id":7664765,"display_name":"Simon"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1507813127,"creation_date":1507813127,"answer_id":46710252,"question_id":1235179,"body_markdown":"Not the shortest, but *(i think)* the fastest way is to use the StringBuilder:\r\n\r\n     /**\r\n       * Repeat a String as many times you need.\r\n       *\r\n       * @param i - Number of Repeating the String.\r\n       * @param s - The String wich you want repeated.\r\n       * @return The string n - times.\r\n       */\r\n      public static String repeate(int i, String s) {\r\n        StringBuilder sb = new StringBuilder();\r\n        for (int j = 0; j &lt; i; j++)\r\n          sb.append(s);\r\n        return sb.toString();\r\n      }","title":"Simple way to repeat a string","body":"<p>Not the shortest, but <em>(i think)</em> the fastest way is to use the StringBuilder:</p>\n\n<pre><code> /**\n   * Repeat a String as many times you need.\n   *\n   * @param i - Number of Repeating the String.\n   * @param s - The String wich you want repeated.\n   * @return The string n - times.\n   */\n  public static String repeate(int i, String s) {\n    StringBuilder sb = new StringBuilder();\n    for (int j = 0; j &lt; i; j++)\n      sb.append(s);\n    return sb.toString();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"down_vote_count":2,"up_vote_count":397,"is_accepted":true,"score":395,"last_activity_date":1615287429,"creation_date":1519979461,"answer_id":49065337,"question_id":1235179,"body_markdown":"# `String::repeat`\r\n\r\n    &quot;. &quot;.repeat(7)  // Seven period-with-space pairs: . . . . . . . \r\n\r\n[New in Java 11](https://bugs.openjdk.java.net/browse/JDK-8197594) is the method [`String::repeat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#repeat(int)) that does exactly what you asked for:\r\n\r\n    String str = &quot;abc&quot;;\r\n    String repeated = str.repeat(3);\r\n    repeated.equals(&quot;abcabcabc&quot;);\r\n\r\nIts [Javadoc](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#repeat(int)) says:\r\n\r\n\r\n    /**\r\n     * Returns a string whose value is the concatenation of this\r\n     * string repeated {@code count} times.\r\n     * &lt;p&gt;\r\n     * If this string is empty or count is zero then the empty\r\n     * string is returned.\r\n     *\r\n     * @param count number of times to repeat\r\n     *\r\n     * @return A string composed of this string repeated\r\n     * {@code count} times or the empty string if this\r\n     * string is empty or count is zero\r\n     *\r\n     * @throws IllegalArgumentException if the {@code count} is\r\n     * negative.\r\n     *\r\n     * @since 11\r\n     */ ","title":"Simple way to repeat a string","body":"<h1><code>String::repeat</code></h1>\n<pre><code>&quot;. &quot;.repeat(7)  // Seven period-with-space pairs: . . . . . . . \n</code></pre>\n<p><a href=\"https://bugs.openjdk.java.net/browse/JDK-8197594\" rel=\"noreferrer\">New in Java 11</a> is the method <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#repeat(int)\" rel=\"noreferrer\"><code>String::repeat</code></a> that does exactly what you asked for:</p>\n<pre><code>String str = &quot;abc&quot;;\nString repeated = str.repeat(3);\nrepeated.equals(&quot;abcabcabc&quot;);\n</code></pre>\n<p>Its <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#repeat(int)\" rel=\"noreferrer\">Javadoc</a> says:</p>\n<pre><code>/**\n * Returns a string whose value is the concatenation of this\n * string repeated {@code count} times.\n * &lt;p&gt;\n * If this string is empty or count is zero then the empty\n * string is returned.\n *\n * @param count number of times to repeat\n *\n * @return A string composed of this string repeated\n * {@code count} times or the empty string if this\n * string is empty or count is zero\n *\n * @throws IllegalArgumentException if the {@code count} is\n * negative.\n *\n * @since 11\n */ \n</code></pre>\n"},{"tags":[],"owner":{"account_id":16277175,"reputation":36,"user_id":11754064,"display_name":"Syed Salman Hassan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1565366616,"creation_date":1565366616,"answer_id":57433699,"question_id":1235179,"body_markdown":" \r\n\r\n    public static String rep(int a,String k)\r\n    \r\n           {\r\n               if(a&lt;=0)\r\n                    return &quot;&quot;;\r\n               else \r\n               {a--;\r\n                   return k+rep(a,k);\r\n           }\r\n\r\nYou can use this recursive method for you desired goal.","title":"Simple way to repeat a string","body":"<pre><code>public static String rep(int a,String k)\n\n       {\n           if(a&lt;=0)\n                return \"\";\n           else \n           {a--;\n               return k+rep(a,k);\n       }\n</code></pre>\n\n<p>You can use this recursive method for you desired goal.</p>\n"},{"tags":[],"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1571939454,"creation_date":1571939454,"answer_id":58546732,"question_id":1235179,"body_markdown":"_a straightforward one-line solution:_&lt;br /&gt;\r\nrequires Java&amp;nbsp;8\r\n\r\n    Collections.nCopies( 3, &quot;abc&quot; ).stream().collect( Collectors.joining() );","title":"Simple way to repeat a string","body":"<p><em>a straightforward one-line solution:</em><br />\nrequires Java&nbsp;8</p>\n\n<pre><code>Collections.nCopies( 3, \"abc\" ).stream().collect( Collectors.joining() );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1841986,"reputation":580,"user_id":1671221,"display_name":"Manikandan Periyasamy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587209967,"creation_date":1587209967,"answer_id":61288489,"question_id":1235179,"body_markdown":"Consolidated for quick reference:\r\n\r\n    public class StringRepeat {\r\n\r\n\t// Java 11 has built-in method - str.repeat(3);\r\n\t// Apache - StringUtils.repeat(3);\r\n\t// Google - Strings.repeat(&quot;&quot;,n);\r\n\t// System.arraycopy\r\n\r\n\tstatic String repeat_StringBuilderAppend(String str, int n) {\r\n\r\n\t\tif (str == null || str.isEmpty())\r\n\t\t\treturn str;\r\n\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tfor (int i = 0; i &lt; n; i++) {\r\n\t\t\tsb.append(str);\r\n\t\t}\r\n\t\treturn sb.toString();\r\n\t}\r\n\r\n\tstatic String repeat_ArraysFill(String str, int n) {\r\n\t\tString[] strs = new String[n];\r\n\t\tArrays.fill(strs, str);\r\n\t\treturn Arrays.toString(strs).replaceAll(&quot;\\\\[|\\\\]|,| &quot;, &quot;&quot;);\r\n\t}\r\n\r\n\tstatic String repeat_Recursion(String str, int n) {\r\n\t\tif (n &lt;= 0)\r\n\t\t\treturn &quot;&quot;;\r\n\t\telse\r\n\t\t\treturn str + repeat_Recursion(str, n - 1);\r\n\t}\r\n\r\n\tstatic String repeat_format1(String str, int n) {\r\n\t\treturn String.format(String.format(&quot;%%%ds&quot;, n), &quot; &quot;).replace(&quot; &quot;, str);\r\n\t}\r\n\r\n\tstatic String repeat_format2(String str, int n) {\r\n\t\treturn new String(new char[n]).replace(&quot;\\0&quot;, str);\r\n\t}\r\n\r\n\tstatic String repeat_format3(String str, int n) {\r\n\t\treturn String.format(&quot;%0&quot; + n + &quot;d&quot;, 0).replace(&quot;0&quot;, str);\r\n\t}\r\n\r\n\tstatic String repeat_join(String str, int n) {\r\n\t\treturn String.join(&quot;&quot;, Collections.nCopies(n, str));\r\n\t}\r\n\r\n\tstatic String repeat_stream(String str, int n) {\r\n\t\treturn Stream.generate(() -&gt; str).limit(n).collect(Collectors.joining());\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(repeat_StringBuilderAppend(&quot;Mani&quot;, 3));\r\n\t\tSystem.out.println(repeat_ArraysFill(&quot;Mani&quot;, 3));\r\n\t\tSystem.out.println(repeat_Recursion(&quot;Mani&quot;, 3));\r\n\t\tSystem.out.println(repeat_format1(&quot;Mani&quot;, 3));\r\n\t\tSystem.out.println(repeat_format2(&quot;Mani&quot;, 3));\r\n\t\tSystem.out.println(repeat_format3(&quot;Mani&quot;, 3));\r\n\t\tSystem.out.println(repeat_join(&quot;Mani&quot;, 3));\r\n\t\tSystem.out.println(repeat_stream(&quot;Mani&quot;, 3));\r\n\r\n\t}\r\n}","title":"Simple way to repeat a string","body":"<p>Consolidated for quick reference:</p>\n\n<pre><code>public class StringRepeat {\n\n// Java 11 has built-in method - str.repeat(3);\n// Apache - StringUtils.repeat(3);\n// Google - Strings.repeat(\"\",n);\n// System.arraycopy\n\nstatic String repeat_StringBuilderAppend(String str, int n) {\n\n    if (str == null || str.isEmpty())\n        return str;\n\n    StringBuilder sb = new StringBuilder();\n    for (int i = 0; i &lt; n; i++) {\n        sb.append(str);\n    }\n    return sb.toString();\n}\n\nstatic String repeat_ArraysFill(String str, int n) {\n    String[] strs = new String[n];\n    Arrays.fill(strs, str);\n    return Arrays.toString(strs).replaceAll(\"\\\\[|\\\\]|,| \", \"\");\n}\n\nstatic String repeat_Recursion(String str, int n) {\n    if (n &lt;= 0)\n        return \"\";\n    else\n        return str + repeat_Recursion(str, n - 1);\n}\n\nstatic String repeat_format1(String str, int n) {\n    return String.format(String.format(\"%%%ds\", n), \" \").replace(\" \", str);\n}\n\nstatic String repeat_format2(String str, int n) {\n    return new String(new char[n]).replace(\"\\0\", str);\n}\n\nstatic String repeat_format3(String str, int n) {\n    return String.format(\"%0\" + n + \"d\", 0).replace(\"0\", str);\n}\n\nstatic String repeat_join(String str, int n) {\n    return String.join(\"\", Collections.nCopies(n, str));\n}\n\nstatic String repeat_stream(String str, int n) {\n    return Stream.generate(() -&gt; str).limit(n).collect(Collectors.joining());\n}\n\npublic static void main(String[] args) {\n    System.out.println(repeat_StringBuilderAppend(\"Mani\", 3));\n    System.out.println(repeat_ArraysFill(\"Mani\", 3));\n    System.out.println(repeat_Recursion(\"Mani\", 3));\n    System.out.println(repeat_format1(\"Mani\", 3));\n    System.out.println(repeat_format2(\"Mani\", 3));\n    System.out.println(repeat_format3(\"Mani\", 3));\n    System.out.println(repeat_join(\"Mani\", 3));\n    System.out.println(repeat_stream(\"Mani\", 3));\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":13546471,"reputation":3498,"user_id":9772691,"display_name":"John McClane"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589829931,"creation_date":1589829414,"answer_id":61877322,"question_id":1235179,"body_markdown":"If you only know the **length** of the output string (and it may be not divisible by the length of the input string), then use this method:\r\n\r\n\tstatic String repeat(String s, int length) {\r\n\t\treturn s.length() &gt;= length ? s.substring(0, length) : repeat(s + s, length);\r\n\t}\r\n\r\nUsage demo:\r\n\r\n\tfor (int i = 0; i &lt; 50; i++)\r\n\t\tSystem.out.println(repeat(&quot;_/\\\\&quot;, i));\r\n\r\nDon&#39;t use with empty `s` and `length` &gt; 0, since it&#39;s impossible to get the desired result in this case.\r\n","title":"Simple way to repeat a string","body":"<p>If you only know the <strong>length</strong> of the output string (and it may be not divisible by the length of the input string), then use this method:</p>\n\n<pre><code>static String repeat(String s, int length) {\n    return s.length() &gt;= length ? s.substring(0, length) : repeat(s + s, length);\n}\n</code></pre>\n\n<p>Usage demo:</p>\n\n<pre><code>for (int i = 0; i &lt; 50; i++)\n    System.out.println(repeat(\"_/\\\\\", i));\n</code></pre>\n\n<p>Don't use with empty <code>s</code> and <code>length</code> > 0, since it's impossible to get the desired result in this case.</p>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695579393,"creation_date":1694121325,"answer_id":77062890,"question_id":1235179,"body_markdown":"Seeing a number of StringBuilder related answers, I believe it&#39;s also worth mentioning that there are new [`StringBuilder.repeat`][1] and [`StringBuffer.repeat`][2] methods added in Java 21 to simplify the appending of multiple copies of *characters* or *strings*:\r\n```\r\nSystem.out.println(new StringBuilder().repeat(&#39;A&#39;, 10)); // AAAAAAAAAA\r\n\r\nSystem.out.println(new StringBuilder().repeat(&quot;A1&quot;, 2)); // A1A1\r\n```\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuilder.html#repeat(java.lang.CharSequence,int)\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuffer.html#repeat(java.lang.CharSequence,int)","title":"Simple way to repeat a string","body":"<p>Seeing a number of StringBuilder related answers, I believe it's also worth mentioning that there are new <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuilder.html#repeat(java.lang.CharSequence,int)\" rel=\"nofollow noreferrer\"><code>StringBuilder.repeat</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuffer.html#repeat(java.lang.CharSequence,int)\" rel=\"nofollow noreferrer\"><code>StringBuffer.repeat</code></a> methods added in Java 21 to simplify the appending of multiple copies of <em>characters</em> or <em>strings</em>:</p>\n<pre><code>System.out.println(new StringBuilder().repeat('A', 10)); // AAAAAAAAAA\n\nSystem.out.println(new StringBuilder().repeat(&quot;A1&quot;, 2)); // A1A1\n</code></pre>\n"}],"owner":{"account_id":28001,"reputation":16459,"user_id":74359,"accept_rate":100,"display_name":"Ethan Heilman"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":790023,"favorite_count":0,"down_vote_count":6,"up_vote_count":789,"accepted_answer_id":49065337,"answer_count":33,"score":783,"last_activity_date":1695579393,"creation_date":1249499678,"question_id":1235179,"body_markdown":"I&#39;m looking for a simple commons method or operator that allows me to repeat some string *n* times. I know I could write this using a for loop, but I wish to avoid for loops whenever necessary and a simple direct method should exist somewhere.\r\n\r\n    String str = &quot;abc&quot;;\r\n    String repeated = str.repeat(3);\r\n    \r\n    repeated.equals(&quot;abcabcabc&quot;);\r\n\r\n**Related to:**\r\n\r\n[repeat string javascript][1] \r\n[Create NSString by repeating another string a given number of times][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/202605/repeat-string-javascript\r\n  [2]: https://stackoverflow.com/questions/260945/create-nsstring-by-repeating-another-string-a-given-number-of-times\r\n\r\n**Edited**\r\n\r\nI try to avoid for loops when they are not completely necessary because:\r\n\r\n1. They add to the number of lines of code even if they are tucked away in another function.\r\n\r\n2. Someone reading my code has to figure out what I am doing in that for loop. Even if it is commented and has meaningful variables names, they still have to make sure it is not doing anything &quot;clever&quot;.\r\n\r\n3. Programmers love to put clever things in for loops, even if I write it to &quot;only do what it is intended to do&quot;, that does not preclude someone coming along and adding some additional clever &quot;fix&quot;.\r\n\r\n3. They are very often easy to get wrong. For loops involving indexes tend to generate off by one bugs.\r\n\r\n4. For loops often reuse the same variables, increasing the chance of really hard to find scoping bugs.\r\n\r\n5. For loops increase the number of places a bug hunter has to look.\r\n","title":"Simple way to repeat a string","body":"<p>I'm looking for a simple commons method or operator that allows me to repeat some string <em>n</em> times. I know I could write this using a for loop, but I wish to avoid for loops whenever necessary and a simple direct method should exist somewhere.</p>\n<pre><code>String str = &quot;abc&quot;;\nString repeated = str.repeat(3);\n\nrepeated.equals(&quot;abcabcabc&quot;);\n</code></pre>\n<p><strong>Related to:</strong></p>\n<p><a href=\"https://stackoverflow.com/questions/202605/repeat-string-javascript\">repeat string javascript</a>\n<a href=\"https://stackoverflow.com/questions/260945/create-nsstring-by-repeating-another-string-a-given-number-of-times\">Create NSString by repeating another string a given number of times</a></p>\n<p><strong>Edited</strong></p>\n<p>I try to avoid for loops when they are not completely necessary because:</p>\n<ol>\n<li><p>They add to the number of lines of code even if they are tucked away in another function.</p>\n</li>\n<li><p>Someone reading my code has to figure out what I am doing in that for loop. Even if it is commented and has meaningful variables names, they still have to make sure it is not doing anything &quot;clever&quot;.</p>\n</li>\n<li><p>Programmers love to put clever things in for loops, even if I write it to &quot;only do what it is intended to do&quot;, that does not preclude someone coming along and adding some additional clever &quot;fix&quot;.</p>\n</li>\n<li><p>They are very often easy to get wrong. For loops involving indexes tend to generate off by one bugs.</p>\n</li>\n<li><p>For loops often reuse the same variables, increasing the chance of really hard to find scoping bugs.</p>\n</li>\n<li><p>For loops increase the number of places a bug hunter has to look.</p>\n</li>\n</ol>\n"},{"tags":["java","volatile"],"comments":[{"owner":{"account_id":90221,"reputation":80129,"user_id":248432,"accept_rate":85,"display_name":"Peter Knego"},"score":2,"creation_date":1299100910,"post_id":5173614,"comment_id":5811360,"body_markdown":"http://jeremymanson.blogspot.com/2009/06/volatile-arrays-in-java.html","body":"<a href=\"http://jeremymanson.blogspot.com/2009/06/volatile-arrays-in-java.html\" rel=\"nofollow noreferrer\">jeremymanson.blogspot.com/2009/06/volatile-arrays-in-java.ht&zwnj;&#8203;ml</a>"}],"answers":[{"tags":[],"owner":{"account_id":316400,"reputation":1793,"user_id":632568,"accept_rate":86,"display_name":"nicolaas"},"down_vote_count":1,"up_vote_count":25,"is_accepted":true,"score":24,"last_activity_date":1563869936,"creation_date":1299100889,"answer_id":5173642,"question_id":5173614,"body_markdown":"Declaring an array volatile does **not** give volatile access to its fields. You&#39;re declaring the reference itself volatile, not its elements.  \r\nIn other words, you&#39;re declaring a **volatile set** of elements, not a **set of volatile elements**.\r\n\r\nThe solution here is to use `AtomicIntegerArray` in case you want to use integers. Another way (but kinda ugly) is to rewrite the reference to the array every time you edit a field. \r\n\r\nYou do that by:\r\n\r\n    arr = arr; \r\n\r\n(as I said... ugly)","title":"Java volatile array?","body":"<p>Declaring an array volatile does <strong>not</strong> give volatile access to its fields. You're declaring the reference itself volatile, not its elements.<br>\nIn other words, you're declaring a <strong>volatile set</strong> of elements, not a <strong>set of volatile elements</strong>.</p>\n\n<p>The solution here is to use <code>AtomicIntegerArray</code> in case you want to use integers. Another way (but kinda ugly) is to rewrite the reference to the array every time you edit a field. </p>\n\n<p>You do that by:</p>\n\n<pre><code>arr = arr; \n</code></pre>\n\n<p>(as I said... ugly)</p>\n"},{"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1299101736,"creation_date":1299101736,"answer_id":5173805,"question_id":5173614,"body_markdown":"AtomicLongArray, AtomicIntegerArray, AtomicReferenceArray (java.util.concurrent.atomic).","title":"Java volatile array?","body":"<p>AtomicLongArray, AtomicIntegerArray, AtomicReferenceArray (java.util.concurrent.atomic).</p>\n"},{"tags":[],"owner":{"account_id":5621250,"reputation":521,"user_id":4451012,"display_name":"markus"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1616944703,"creation_date":1503499684,"answer_id":45842998,"question_id":5173614,"body_markdown":"EDIT:\r\nArrays are objects in java. If you make the reference to that object volatile, makes it visible to other threads if you exchange the reference to the array.\r\nHowever this does not hold for the array values themselves.\r\n\r\nGetting a better understanding of the java memory model, there is actually a possibility to get around it without an Atomic*Array. Using the happened-before relationship for volatile reads and normal writes makes it possible:\r\n\r\nIf thread A writes some non-volatile stuff and a volatile variable *after* that, thread B is guaranteed to see the changes of the non-volatile stuff as well, but only if thread B reads the volatile variable first.\r\nsee also:\r\nhttps://stackoverflow.com/questions/17108541/happens-before-relationships-with-volatile-fields-and-synchronized-blocks-in-jav\r\n\r\nFor arrays, this means:\r\nAfter you write to the array, write to some volatile status variable (make sure the write actually changes the volatile status variable!)\r\nWhen you read from the array, read the volatile status variable first, and then access the array. \r\nThe volatile read should make all other writes visible as well, as long as they happened before.\r\n\r\n\r\nOLD:\r\nwriting the self reference &lt;code&gt;arr=arr&lt;/code&gt; wouldn&#39;t actually help.\r\n\r\nYou write the address of the array &lt;code&gt;arr&lt;/code&gt;, not the value of the field &lt;code&gt;arr[i]&lt;/code&gt;. So you still gain no volatile properties for &lt;code&gt;arr[i]&lt;/code&gt; (which you want), but only for the storage address &lt;code&gt;arr&lt;/code&gt;. \r\n\r\nThe previously mentioned blogpost of Jeremy Manson explains it in detail:\r\nhttp://jeremymanson.blogspot.com/2009/06/volatile-arrays-in-java.html\r\n\r\nHis best solution is to use Atomic*Arrays, namely the AtomicReferenceArray for generic types (there also exist special forms for basic types). I can&#39;t imagine that this is particularly efficient, especially as it gains you more properties that you need (atomicity &gt;&gt; volatile).\r\n\r\nAn alternative may be pointered structures where the containers use volatile pointer fields. Also not that efficient ...\r\n","title":"Java volatile array?","body":"<p>EDIT:\nArrays are objects in java. If you make the reference to that object volatile, makes it visible to other threads if you exchange the reference to the array.\nHowever this does not hold for the array values themselves.</p>\n<p>Getting a better understanding of the java memory model, there is actually a possibility to get around it without an Atomic*Array. Using the happened-before relationship for volatile reads and normal writes makes it possible:</p>\n<p>If thread A writes some non-volatile stuff and a volatile variable <em>after</em> that, thread B is guaranteed to see the changes of the non-volatile stuff as well, but only if thread B reads the volatile variable first.\nsee also:\n<a href=\"https://stackoverflow.com/questions/17108541/happens-before-relationships-with-volatile-fields-and-synchronized-blocks-in-jav\">Happens-before relationships with volatile fields and synchronized blocks in Java - and their impact on non-volatile variables?</a></p>\n<p>For arrays, this means:\nAfter you write to the array, write to some volatile status variable (make sure the write actually changes the volatile status variable!)\nWhen you read from the array, read the volatile status variable first, and then access the array.\nThe volatile read should make all other writes visible as well, as long as they happened before.</p>\n<p>OLD:\nwriting the self reference <code>arr=arr</code> wouldn't actually help.</p>\n<p>You write the address of the array <code>arr</code>, not the value of the field <code>arr[i]</code>. So you still gain no volatile properties for <code>arr[i]</code> (which you want), but only for the storage address <code>arr</code>.</p>\n<p>The previously mentioned blogpost of Jeremy Manson explains it in detail:\n<a href=\"http://jeremymanson.blogspot.com/2009/06/volatile-arrays-in-java.html\" rel=\"noreferrer\">http://jeremymanson.blogspot.com/2009/06/volatile-arrays-in-java.html</a></p>\n<p>His best solution is to use Atomic*Arrays, namely the AtomicReferenceArray for generic types (there also exist special forms for basic types). I can't imagine that this is particularly efficient, especially as it gains you more properties that you need (atomicity &gt;&gt; volatile).</p>\n<p>An alternative may be pointered structures where the containers use volatile pointer fields. Also not that efficient ...</p>\n"},{"tags":[],"owner":{"account_id":46863,"reputation":13123,"user_id":138606,"accept_rate":64,"display_name":"gotch4"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1551864836,"creation_date":1551864836,"answer_id":55019734,"question_id":5173614,"body_markdown":"How about this:\r\n\r\n    static class Cell&lt;T&gt; {\r\n            volatile T elem;\r\n        }\r\n    \r\n    private Cell&lt;T&gt;[] alloc(int size){\r\n            Cell&lt;T&gt;[] cells = (Cell&lt;T&gt;[]) (new Cell[size]);\r\n            return cells;\r\n        }\r\n    \r\n     volatile Cell&lt;T&gt;[] arr;\r\n     Cell&lt;T&gt;[] newarr = alloc(16);\r\n     for (int i = 0; i &lt; newarr.length; i++) {\r\n          newarr[i] = new Cell&lt;&gt;();\r\n     }\r\n     arr = newarr;\r\n        \r\n\r\nthe cells make the content volatile too. also I assign the new array to the volatile one only after pre allocating the cells... there&#39;s the trade off of the Cell extra memory, but it&#39;s manageable","title":"Java volatile array?","body":"<p>How about this:</p>\n\n<pre><code>static class Cell&lt;T&gt; {\n        volatile T elem;\n    }\n\nprivate Cell&lt;T&gt;[] alloc(int size){\n        Cell&lt;T&gt;[] cells = (Cell&lt;T&gt;[]) (new Cell[size]);\n        return cells;\n    }\n\n volatile Cell&lt;T&gt;[] arr;\n Cell&lt;T&gt;[] newarr = alloc(16);\n for (int i = 0; i &lt; newarr.length; i++) {\n      newarr[i] = new Cell&lt;&gt;();\n }\n arr = newarr;\n</code></pre>\n\n<p>the cells make the content volatile too. also I assign the new array to the volatile one only after pre allocating the cells... there's the trade off of the Cell extra memory, but it's manageable</p>\n"},{"tags":[],"owner":{"account_id":4576229,"reputation":1231,"user_id":3714601,"accept_rate":43,"display_name":"user3714601"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695579185,"creation_date":1695579185,"answer_id":77168373,"question_id":5173614,"body_markdown":"Java9 introduced a generic approach to deal with volatile arrays: [VarHandle][1], allowing atomic operations on any type of array.\r\n\r\nHere is a self-descriptive example from the doc:\r\n\r\n    String[] sa = ...\r\n    VarHandle avh = MethodHandles.arrayElementVarHandle(String[].class);\r\n    boolean r = avh.compareAndSet(sa, 10, &quot;expected&quot;, &quot;new&quot;);\r\n\r\nMight worth to note as well, that atomic types from &quot;concurrent&quot; package (like AtomicInteger, AtomicIntegerArray, AtomicReference, etc.) since Java9 are using VarHandle instead of Unsafe to implement platform-dependent operations like &quot;CompareAndSet&quot;.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase%2F9%2Fdocs%2Fapi%2F%2F/java/lang/invoke/VarHandle.html","title":"Java volatile array?","body":"<p>Java9 introduced a generic approach to deal with volatile arrays: <a href=\"https://docs.oracle.com/javase%2F9%2Fdocs%2Fapi%2F%2F/java/lang/invoke/VarHandle.html\" rel=\"nofollow noreferrer\">VarHandle</a>, allowing atomic operations on any type of array.</p>\n<p>Here is a self-descriptive example from the doc:</p>\n<pre><code>String[] sa = ...\nVarHandle avh = MethodHandles.arrayElementVarHandle(String[].class);\nboolean r = avh.compareAndSet(sa, 10, &quot;expected&quot;, &quot;new&quot;);\n</code></pre>\n<p>Might worth to note as well, that atomic types from &quot;concurrent&quot; package (like AtomicInteger, AtomicIntegerArray, AtomicReference, etc.) since Java9 are using VarHandle instead of Unsafe to implement platform-dependent operations like &quot;CompareAndSet&quot;.</p>\n"}],"owner":{"account_id":716297,"reputation":535,"user_id":641975,"display_name":"Michael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12363,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":5173642,"answer_count":5,"score":26,"last_activity_date":1695579185,"creation_date":1299100744,"question_id":5173614,"body_markdown":"How do I make an array volatile? Because as I&#39;ve come to understand, it&#39;s unsafe to make an array volatile?","title":"Java volatile array?","body":"<p>How do I make an array volatile? Because as I've come to understand, it's unsafe to make an array volatile?</p>\n"},{"tags":["java","spring-boot","spring-cache","ehcache-3","spring-boot-3"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695578587,"creation_date":1695578587,"answer_id":77168332,"question_id":77163129,"body_markdown":"Spring integrates with the EHCache3 through the JSR-107 JCache API which I quote from [this][1] :\r\n\r\n&gt; Ehcache 3.x is fully JSR-107 compliant and no dedicated support is required for it. See JSR-107 Cache for details.\r\n\r\nIn term of springboot , you can customize the underlying \r\n `javax.cache.CacheManager` by defining a `JCacheManagerCustomizer` bean. In this customiser , you can then refer to this Ehcache3 [documentation][2] for how to configure `javax.cache.cacheManager` using Ehcache configuration. \r\n\r\n\r\nSo for your the cache configuration you shown , you should define the following `JCacheManagerCustomizer` bean instead : \r\n\r\n``` java\r\n@Bean\r\npublic JCacheManagerCustomizer jCacheManagerCustomizer() {\r\n    return jcacheManager -&gt; {\r\n        CacheConfiguration&lt;Integer, Double&gt; ehCacheConfig = CacheConfigurationBuilder\r\n                .newCacheConfigurationBuilder(Integer.class, Double.class, ResourcePoolsBuilder\r\n                        .heap(100)\r\n                        .offheap(10, MemoryUnit.MB))\r\n                .withExpiry(ExpiryPolicyBuilder.timeToLiveExpiration(Duration.ofMinutes(10)))\r\n                .build();\r\n\r\n       jcacheManager.createCache(&quot;demoCache&quot;,\r\n                Eh107Configuration.fromEhcacheCacheConfiguration(ehCacheConfig));\r\n    };\r\n}\r\n```\r\n\r\nwhich cache the result of the following method :\r\n\r\n``` java\r\n@Cacheable(value = &quot;demoCache&quot;)\r\npublic double demo(Integer int) {\r\n       return 52;\r\n }\r\n```\r\n\r\n*Note: I modify your demo function argument type a bit for better demonstrate my solution &#39;s idea.* \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/reference/integration/cache/store-configuration.html#cache-store-configuration-eviction\r\n  [2]: https://www.ehcache.org/documentation/3.3/107.html#cache-level-configuration","title":"EHCache 3 not able to enable caching. Getting exception if I used configuration without xml","body":"<p>Spring integrates with the EHCache3 through the JSR-107 JCache API which I quote from <a href=\"https://docs.spring.io/spring-framework/reference/integration/cache/store-configuration.html#cache-store-configuration-eviction\" rel=\"nofollow noreferrer\">this</a> :</p>\n<blockquote>\n<p>Ehcache 3.x is fully JSR-107 compliant and no dedicated support is required for it. See JSR-107 Cache for details.</p>\n</blockquote>\n<p>In term of springboot , you can customize the underlying\n<code>javax.cache.CacheManager</code> by defining a <code>JCacheManagerCustomizer</code> bean. In this customiser , you can then refer to this Ehcache3 <a href=\"https://www.ehcache.org/documentation/3.3/107.html#cache-level-configuration\" rel=\"nofollow noreferrer\">documentation</a> for how to configure <code>javax.cache.cacheManager</code> using Ehcache configuration.</p>\n<p>So for your the cache configuration you shown , you should define the following <code>JCacheManagerCustomizer</code> bean instead :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic JCacheManagerCustomizer jCacheManagerCustomizer() {\n    return jcacheManager -&gt; {\n        CacheConfiguration&lt;Integer, Double&gt; ehCacheConfig = CacheConfigurationBuilder\n                .newCacheConfigurationBuilder(Integer.class, Double.class, ResourcePoolsBuilder\n                        .heap(100)\n                        .offheap(10, MemoryUnit.MB))\n                .withExpiry(ExpiryPolicyBuilder.timeToLiveExpiration(Duration.ofMinutes(10)))\n                .build();\n\n       jcacheManager.createCache(&quot;demoCache&quot;,\n                Eh107Configuration.fromEhcacheCacheConfiguration(ehCacheConfig));\n    };\n}\n</code></pre>\n<p>which cache the result of the following method :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Cacheable(value = &quot;demoCache&quot;)\npublic double demo(Integer int) {\n       return 52;\n }\n</code></pre>\n<p><em>Note: I modify your demo function argument type a bit for better demonstrate my solution 's idea.</em></p>\n"}],"owner":{"account_id":5672211,"reputation":4278,"user_id":4969916,"accept_rate":35,"display_name":"Shiladittya Chakraborty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695578786,"creation_date":1695473674,"question_id":77163129,"body_markdown":"I am trying to implement EHCache 3 with spring boot 3 without xml configuration. I did below configuration for EHCache 3\r\n\r\n        @Bean\r\n    \tpublic CacheManager getCacheManager() {\r\n    \t\tCacheManager cacheManager = CacheManagerBuilder.newCacheManagerBuilder().build(true);\r\n    \t\tCacheConfiguration&lt;Integer, Double&gt; configuration = CacheConfigurationBuilder\r\n    \t\t\t\t.newCacheConfigurationBuilder(Integer.class, Double.class, ResourcePoolsBuilder\r\n    \t\t\t\t\t\t.heap(100)\r\n    \t\t\t\t\t\t.offheap(10, MemoryUnit.MB))\r\n    \t\t\t\t.withExpiry(ExpiryPolicyBuilder.timeToLiveExpiration(Duration.ofMinutes(10)))\r\n    \t\t\t\t.build();\r\n    \t\t\r\n    \t\t Cache&lt;Integer, Double&gt; cache = cacheManager.createCache(&quot;demoCache&quot;, configuration);\r\n    \t\t \r\n    \t\t cache.put(1, 7d);\r\n    \t      Double value = cache.get(1);\r\n    \t      \r\n    \t      System.out.println(&quot;Cachce value::&quot;+value);\r\n    \r\n    //\t\t String vaule = cache.get(&quot;pow_cache&quot;);\r\n    \r\n    \t\t return cacheManager;\r\n    \t}\r\n\r\nFrom service side method call is below\r\n\r\n   \r\n\r\n    @Cacheable(value = &quot;demoCache&quot;)\r\n    \tpublic double demo() {\r\n    \t\treturn 52;\r\n    \t}\r\n\r\nIf try to call this service getting below exception\r\n\r\n\r\n    java.lang.IllegalArgumentException: Cannot find cache named &#39;demoCache&#39; for Builder[public double com.jts.ehcach.service.CalculationService.demo()] caches=[demoCache] | key=&#39;&#39; | keyGenerator=&#39;&#39; | cacheManager=&#39;&#39; | cacheResolver=&#39;&#39; | condition=&#39;&#39; | unless=&#39;&#39; | sync=&#39;false&#39;\r\n    \tat org.springframework.cache.interceptor.AbstractCacheResolver.resolveCaches(AbstractCacheResolver.java:92) ~[spring-context-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.cache.interceptor.CacheAspectSupport.getCaches(CacheAspectSupport.java:270) ~[spring-context-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.cache.interceptor.CacheAspectSupport$CacheOperationContext.&lt;init&gt;(CacheAspectSupport.java:775) ~[spring-context-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.cache.interceptor.CacheAspectSupport.getOperationContext(CacheAspectSupport.java:283) ~[spring-context-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.cache.interceptor.CacheAspectSupport$CacheOperationContexts.&lt;init&gt;(CacheAspectSupport.java:666) ~[spring-context-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:363) ~[spring-context-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64) ~[spring-context-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765) ~[spring-aop-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717) ~[spring-aop-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat com.jts.ehcach.service.CalculationService$$SpringCGLIB$$0.demo(&lt;generated&gt;) ~[classes/:na]\r\n    \tat com.jts.ehcach.controller.CalculationRestController.areaOfCircle(CalculationRestController.java:26) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:253) ~[spring-web-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181) ~[spring-web-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:918) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1086) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat jakarta.servlet.http.HttpServlet\r\n\r\n\r\nNot able to understand why I am getting this not found caching name. Can someone please help me on this? \r\n\r\n","title":"EHCache 3 not able to enable caching. Getting exception if I used configuration without xml","body":"<p>I am trying to implement EHCache 3 with spring boot 3 without xml configuration. I did below configuration for EHCache 3</p>\n<pre><code>    @Bean\n    public CacheManager getCacheManager() {\n        CacheManager cacheManager = CacheManagerBuilder.newCacheManagerBuilder().build(true);\n        CacheConfiguration&lt;Integer, Double&gt; configuration = CacheConfigurationBuilder\n                .newCacheConfigurationBuilder(Integer.class, Double.class, ResourcePoolsBuilder\n                        .heap(100)\n                        .offheap(10, MemoryUnit.MB))\n                .withExpiry(ExpiryPolicyBuilder.timeToLiveExpiration(Duration.ofMinutes(10)))\n                .build();\n        \n         Cache&lt;Integer, Double&gt; cache = cacheManager.createCache(&quot;demoCache&quot;, configuration);\n         \n         cache.put(1, 7d);\n          Double value = cache.get(1);\n          \n          System.out.println(&quot;Cachce value::&quot;+value);\n\n//       String vaule = cache.get(&quot;pow_cache&quot;);\n\n         return cacheManager;\n    }\n</code></pre>\n<p>From service side method call is below</p>\n<pre><code>@Cacheable(value = &quot;demoCache&quot;)\n    public double demo() {\n        return 52;\n    }\n</code></pre>\n<p>If try to call this service getting below exception</p>\n<pre><code>java.lang.IllegalArgumentException: Cannot find cache named 'demoCache' for Builder[public double com.jts.ehcach.service.CalculationService.demo()] caches=[demoCache] | key='' | keyGenerator='' | cacheManager='' | cacheResolver='' | condition='' | unless='' | sync='false'\n    at org.springframework.cache.interceptor.AbstractCacheResolver.resolveCaches(AbstractCacheResolver.java:92) ~[spring-context-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.cache.interceptor.CacheAspectSupport.getCaches(CacheAspectSupport.java:270) ~[spring-context-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.cache.interceptor.CacheAspectSupport$CacheOperationContext.&lt;init&gt;(CacheAspectSupport.java:775) ~[spring-context-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.cache.interceptor.CacheAspectSupport.getOperationContext(CacheAspectSupport.java:283) ~[spring-context-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.cache.interceptor.CacheAspectSupport$CacheOperationContexts.&lt;init&gt;(CacheAspectSupport.java:666) ~[spring-context-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:363) ~[spring-context-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64) ~[spring-context-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765) ~[spring-aop-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717) ~[spring-aop-6.1.0-M5.jar:6.1.0-M5]\n    at com.jts.ehcach.service.CalculationService$$SpringCGLIB$$0.demo(&lt;generated&gt;) ~[classes/:na]\n    at com.jts.ehcach.controller.CalculationRestController.areaOfCircle(CalculationRestController.java:26) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:253) ~[spring-web-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181) ~[spring-web-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:918) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1086) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\n    at jakarta.servlet.http.HttpServlet\n</code></pre>\n<p>Not able to understand why I am getting this not found caching name. Can someone please help me on this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":6,"creation_date":1531257233,"post_id":51273951,"comment_id":89526127,"body_markdown":"Regardless of operator precedence, expressions are evaluated from left to right.","body":"Regardless of operator precedence, expressions are evaluated from left to right."},{"owner":{"account_id":2510288,"reputation":413,"user_id":2182934,"accept_rate":90,"display_name":"krishna"},"score":0,"creation_date":1531257547,"post_id":51273951,"comment_id":89526258,"body_markdown":"@BoristheSpider Okay. How I should demonstrate associativity of ++ and -- is right to left.","body":"@BoristheSpider Okay. How I should demonstrate associativity of ++ and -- is right to left."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":5,"creation_date":1531257676,"post_id":51273951,"comment_id":89526315,"body_markdown":"@krishna they are unary operators; they don&#39;t have left or right associativity.","body":"@krishna they are unary operators; they don&#39;t have left or right associativity."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1531257911,"post_id":51273951,"comment_id":89526398,"body_markdown":"Can you clarify what you mean by &quot;has associativity right to left&quot; in your question?  I can&#39;t tell what this would mean for `++` and `--`.  In this example, you get the results that you do because the addends are evaluated left to right - that is, `++i` is evaluated _before_ `--i` on the `x` line, and `i++` is evaluated _before_ `i--` on the `y` line.","body":"Can you clarify what you mean by &quot;has associativity right to left&quot; in your question?  I can&#39;t tell what this would mean for <code>++</code> and <code>--</code>.  In this example, you get the results that you do because the addends are evaluated left to right - that is, <code>++i</code> is evaluated <i>before</i> <code>--i</code> on the <code>x</code> line, and <code>i++</code> is evaluated <i>before</i> <code>i--</code> on the <code>y</code> line."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1531257992,"post_id":51273951,"comment_id":89526432,"body_markdown":"Note that `++i + i--` would be 12, and `i++ + --i` would be 10.","body":"Note that <code>++i + i--</code> would be 12, and <code>i++ + --i</code> would be 10."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1531258220,"post_id":51273951,"comment_id":89526514,"body_markdown":"And `i+++++i` will result in a compilation error, while [`int i = 4; System.out.println(i++ + ++i);` will print `10`](https://ideone.com/EiSor5).","body":"And <code>i+++++i</code> will result in a compilation error, while <a href=\"https://ideone.com/EiSor5\" rel=\"nofollow noreferrer\"><code>int i = 4; System.out.println(i++ + ++i);</code> will print <code>10</code></a>."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1531258509,"post_id":51273951,"comment_id":89526621,"body_markdown":"The fundamental issue is that the statement _&quot;Operator precedence of ++ and -- is higher ...&quot;_ ignores the fact that there are TWO `++` and TWO `--` operators with very different semantics.  In addition, the postfix versions have higher precedence than the unary versions.","body":"The fundamental issue is that the statement <i>&quot;Operator precedence of ++ and -- is higher ...&quot;</i> ignores the fact that there are TWO <code>++</code> and TWO <code>--</code> operators with very different semantics.  In addition, the postfix versions have higher precedence than the unary versions."}],"answers":[{"tags":[],"owner":{"account_id":947871,"reputation":64267,"user_id":974731,"display_name":"cybersam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1531260306,"creation_date":1531258450,"answer_id":51274206,"question_id":51273951,"body_markdown":"Associativity dictates how operators with the [same precedence](https://introcs.cs.princeton.edu/java/11precedence/) are parsed.\r\n\r\nFor example, the Unary Minus (`- ...`) and Unary Bitwise NOT (`~ ...`) operators have the same precedence and have `right-to-left` associativity. Therefore:\r\n\r\n    int i = ~-1; // == 0\r\n    int j = -~1; // == 2","title":"Why operator precedence and associativity for increment and decrement in java not working properly?","body":"<p>Associativity dictates how operators with the <a href=\"https://introcs.cs.princeton.edu/java/11precedence/\" rel=\"nofollow noreferrer\">same precedence</a> are parsed.</p>\n\n<p>For example, the Unary Minus (<code>- ...</code>) and Unary Bitwise NOT (<code>~ ...</code>) operators have the same precedence and have <code>right-to-left</code> associativity. Therefore:</p>\n\n<pre><code>int i = ~-1; // == 0\nint j = -~1; // == 2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1888343,"reputation":176597,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1531258583,"creation_date":1531258583,"answer_id":51274243,"question_id":51273951,"body_markdown":"[Section 15.7 of the JLS][1] is clear on this:\n\n&gt; The Java programming language guarantees that the operands of operators appear to be evaluated in a specific evaluation order, namely, from left to right.\n&gt;\n&gt; _It is recommended that code not rely crucially on this specification. Code is usually clearer when each expression contains at most one side effect, as its outermost operation, and when code does not depend on exactly which exception arises as a consequence of the left-to-right evaluation of expressions._\n\nWhenever assignment operators and other binary operators are mixed in with increment or decrement operators, evaluating the expression is _not_ intuitive, and one should never write such confusing code.\n\nEven if the increment and decrement unary operators are right-to-left associative, the values of an expression are evaluated left-to-right.\n\n    int x = ++i + --i;\n\nHere, `++i` increments `i` to `6` and returns `6`, then `--i` decrements `i` to `5` and returns `5`, and the sum of 6 and 5 is 11.\n\n    int y = i++ + i--;\n\nHere, `i++` returns `5` and increments `i` to `6`, then `i--` returns `6` and decrements `i` to `5`, and the sum of 5 and 6 is 11.\n\nWith these expressions, the right-to-left associativity does not figure into the order of operations, because associativity only controls which operations are executed first among operators of the _same_ precedence.  You have a `+` operator of lower precedence between them, so the associativity doesn&#39;t matter here.\n\n[1]: https://docs.oracle.com/javase/specs/jls/se9/html/jls-15.html#jls-15.7\n\n","title":"Why operator precedence and associativity for increment and decrement in java not working properly?","body":"<p><a href=\"https://docs.oracle.com/javase/specs/jls/se9/html/jls-15.html#jls-15.7\" rel=\"nofollow noreferrer\">Section 15.7 of the JLS</a> is clear on this:</p>\n<blockquote>\n<p>The Java programming language guarantees that the operands of operators appear to be evaluated in a specific evaluation order, namely, from left to right.</p>\n<p><em>It is recommended that code not rely crucially on this specification. Code is usually clearer when each expression contains at most one side effect, as its outermost operation, and when code does not depend on exactly which exception arises as a consequence of the left-to-right evaluation of expressions.</em></p>\n</blockquote>\n<p>Whenever assignment operators and other binary operators are mixed in with increment or decrement operators, evaluating the expression is <em>not</em> intuitive, and one should never write such confusing code.</p>\n<p>Even if the increment and decrement unary operators are right-to-left associative, the values of an expression are evaluated left-to-right.</p>\n<pre><code>int x = ++i + --i;\n</code></pre>\n<p>Here, <code>++i</code> increments <code>i</code> to <code>6</code> and returns <code>6</code>, then <code>--i</code> decrements <code>i</code> to <code>5</code> and returns <code>5</code>, and the sum of 6 and 5 is 11.</p>\n<pre><code>int y = i++ + i--;\n</code></pre>\n<p>Here, <code>i++</code> returns <code>5</code> and increments <code>i</code> to <code>6</code>, then <code>i--</code> returns <code>6</code> and decrements <code>i</code> to <code>5</code>, and the sum of 5 and 6 is 11.</p>\n<p>With these expressions, the right-to-left associativity does not figure into the order of operations, because associativity only controls which operations are executed first among operators of the <em>same</em> precedence.  You have a <code>+</code> operator of lower precedence between them, so the associativity doesn't matter here.</p>\n"},{"tags":[],"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1531258942,"creation_date":1531258942,"answer_id":51274300,"question_id":51273951,"body_markdown":"Let&#39;s translate this:\r\n\r\n    int i = 5;\r\n    int x = ++i + --i;\r\n    int y = i++ + i--;\r\n    System.out.println(&quot;x=&quot; + x);\r\n    System.out.println(&quot;y=&quot; + y);\r\n\r\nInto (step by step):\r\n\r\n    int i = 5;\r\n    int x = ++i + --i;\r\n    //       ^\r\n    //   (i = i + 1) + --i\r\n    //   (i = 5 + 1) + --i  \r\n    //   (i = 6)     + --i\r\n    //                   ^\r\n    //        6      + (i = i - 1)\r\n    //        6      + (i = 6 - 1)\r\n    //        6      + (i = 5)\r\n    //        6      + 5\r\n    // x = 11\r\n    int y = i++ + i--;\r\n    //       ^\r\n    //    (i = 5) + i--\r\n    //         5  + i--\r\n    //     i = i + 1 // post evaluation, after i was evaluated to 5, now i increments its value and it is 6\r\n    //         5 + (i = 6)\r\n    //         5 + 6\r\n    // y = 11\r\n    //     i = i - 1 // post evaluation, after i was evaluated to 6, now i decrements its value and it is 5\r\n    System.out.println(&quot;x=&quot; + x); // x=11\r\n    System.out.println(&quot;y=&quot; + y); // y=11","title":"Why operator precedence and associativity for increment and decrement in java not working properly?","body":"<p>Let's translate this:</p>\n\n<pre><code>int i = 5;\nint x = ++i + --i;\nint y = i++ + i--;\nSystem.out.println(\"x=\" + x);\nSystem.out.println(\"y=\" + y);\n</code></pre>\n\n<p>Into (step by step):</p>\n\n<pre><code>int i = 5;\nint x = ++i + --i;\n//       ^\n//   (i = i + 1) + --i\n//   (i = 5 + 1) + --i  \n//   (i = 6)     + --i\n//                   ^\n//        6      + (i = i - 1)\n//        6      + (i = 6 - 1)\n//        6      + (i = 5)\n//        6      + 5\n// x = 11\nint y = i++ + i--;\n//       ^\n//    (i = 5) + i--\n//         5  + i--\n//     i = i + 1 // post evaluation, after i was evaluated to 5, now i increments its value and it is 6\n//         5 + (i = 6)\n//         5 + 6\n// y = 11\n//     i = i - 1 // post evaluation, after i was evaluated to 6, now i decrements its value and it is 5\nSystem.out.println(\"x=\" + x); // x=11\nSystem.out.println(\"y=\" + y); // y=11\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22780815,"reputation":23,"user_id":16936777,"display_name":"Bogdan Anton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695578309,"creation_date":1695578309,"answer_id":77168308,"question_id":51273951,"body_markdown":"Coming back to this quite old question just for clarification regarding the associativity as it follows:\r\n\r\n    int x = 1;\r\n    int z = -++x; // z will end up being -2\r\n\r\nThis happens due to the &quot;Right to Left&quot; associativity of Unary Operators. Also, if the precedence is the same, the result will rely on their associativity. \r\nBy the book, if two operators have the same precedence indeed they will have the same kind of associativity.\r\n\r\n\r\n\r\n","title":"Why operator precedence and associativity for increment and decrement in java not working properly?","body":"<p>Coming back to this quite old question just for clarification regarding the associativity as it follows:</p>\n<pre><code>int x = 1;\nint z = -++x; // z will end up being -2\n</code></pre>\n<p>This happens due to the &quot;Right to Left&quot; associativity of Unary Operators. Also, if the precedence is the same, the result will rely on their associativity.\nBy the book, if two operators have the same precedence indeed they will have the same kind of associativity.</p>\n"}],"owner":{"account_id":2510288,"reputation":413,"user_id":2182934,"accept_rate":90,"display_name":"krishna"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":631,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":51274300,"answer_count":4,"score":1,"last_activity_date":1695578309,"creation_date":1531257118,"question_id":51273951,"body_markdown":"Operator precedence of ++ and -- is higher than + and has associativity right to left. So I think output of x should be (++i+4 then 5+4) 9 and output of y should be (i+++5 then 5+5) 10. For both it print 11 as output.\r\n    \r\n    class First {\r\n        public static void main(String[] args) {\r\n    \t    int i = 5;\r\n    \t    int x = ++i + --i;\r\n    \t    int y = i++ + i--;\r\n    \t    System.out.println(&quot;x=&quot;+x);\r\n    \t    System.out.println(&quot;y=&quot;+y);\r\n        }\r\n    } ","title":"Why operator precedence and associativity for increment and decrement in java not working properly?","body":"<p>Operator precedence of ++ and -- is higher than + and has associativity right to left. So I think output of x should be (++i+4 then 5+4) 9 and output of y should be (i+++5 then 5+5) 10. For both it print 11 as output.</p>\n\n<pre><code>class First {\n    public static void main(String[] args) {\n        int i = 5;\n        int x = ++i + --i;\n        int y = i++ + i--;\n        System.out.println(\"x=\"+x);\n        System.out.println(\"y=\"+y);\n    }\n} \n</code></pre>\n"},{"tags":["java","object","vector","casting","integer"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695577875,"creation_date":1695441775,"answer_id":77161606,"question_id":77161581,"body_markdown":"# tl;dr\r\n\r\nCast `Object` object to `Integer` object. Then let auto-boxing implicitly change `Integer` object to `int` primitive. \r\n\r\n    int d = ( Integer ) vector.get(i);  // Cast `Object` to `Integer`, then implicit auto-boxing to `int`. \r\n\r\nEven better, revise your code:\r\n\r\n```java\r\nSequencedCollection &lt; Integer &gt; inputs = List.of ( 1 , 2 , 5 , 6 );\r\nfor ( Integer input : inputs )\r\n{\r\n    if ( input % 2 != 0 )\r\n    {\r\n        System.out.println ( input );  // Print odd numbers.\r\n    }\r\n}\r\n```\r\n\r\n## Auto-boxing\r\n\r\nYou said:\r\n\r\n&gt;I tried using cast e.i. (int)\r\n\r\nCollections such as `Vector` hold objects, not primitives. When you add a primitive literal such as `1` or `5` to such a collection, Java automatically converts these `int` values into objects of the wrapper class `Integer`. This conversion is known as [auto-boxing][1]. \r\n\r\nIn other words, your code:\r\n\r\n    vector.add(2);\r\n\r\n is equivalent to a call to [`Integer.valueOf`][2], returning a `Integer` object:\r\n\r\n    vector.add( Integer.valueOf( 1 ) );  // Making an `Integer` object from a primitive `int`. \r\n\r\nYour call `vector.get(i)` returns an object, not a primitive. So your cast `(int)` makes no sense. Casting does not work across the chasm between primitives and objects. Crossing that chasm is the work of boxing. \r\n\r\n## Cast\r\n\r\nAs discussed above, you actually put `Integer` objects into your `Vector`. But you declared the `Vector` as holding objects of the superclass [`Object`][3]. When retrieving, you get `Object` objects rather than `Integer` objects. \r\n\r\nYou must cast from `Object` to the concrete class `Integer`. \r\n\r\n    Integer d = (Integer) vector.get(i) ;\r\n\r\nAs discussed above, this cast `(Integer)` is *not* the same as your cast attempt `(int)`. \r\n\r\n## Declare specific type\r\n\r\nBut this is a fix to your less than optimal code. If your collection holds `Integer` objects, say so. \r\n\r\nYou need not repeat the `Integer` type on the right side of the assignment; the compiler can infer that fact from the left side.\r\n\r\n    Vector &lt; Integer &gt; vector = new Vector &lt;&gt; ( );\r\n\r\nAfter specifying the more concrete type, we no longer need that cast.\r\n\r\n    Integer d = inputs.get ( i );  // Retrieving an `Integer` object from a known list of `Integer` objects. So no cast needed.\r\n\r\n## Avoid `Vector` class\r\n\r\nAnother problem: [`Vector`][4] is an old class from the earliest versions of Java, before the [Java Collections Framework][5] was built. That class is now legacy, as noted in its Javadoc. \r\n\r\n## `SequencedCollection` &amp; `ArrayList`\r\n\r\nInstead, use a [`SequencedCollection`][6] implementation such as [`ArrayList`][7].\r\n\r\nBy the way, use more descriptive names for your variables. Good names makes your code easier to read and more [self-documenting][8]. So something like `inputs` rather than `vector`. \r\n\r\n    SequencedCollection &lt; Integer &gt; inputs = new ArrayList&lt;&gt;() ;\r\n\r\n## `List.of` \r\n\r\nRather than call `add` multiple times, use the [`List.of`][9] feature for more compact code.\r\n\r\n    SequencedCollection &lt; Integer &gt; inputs = List.of ( 1 , 2 , 5 , 6 );\r\n\r\nThe `List` object returned by `List.of` is [unmodifiable][10], not allowing additions or deletions. That works in your situation. \r\n\r\n## Enhanced `for` loop\r\n\r\nTo simply loop through a collection, you can use the enhanced `for` loop.\r\n\r\n    for ( Integer input : inputs )\r\n\r\nSo now our code looks like this:\r\n\r\n```java\r\npackage work.basil.example;\r\n\r\nimport java.util.List;\r\nimport java.util.SequencedCollection;\r\n\r\npublic class Nums\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        SequencedCollection &lt; Integer &gt; inputs = List.of ( 1 , 2 , 5 , 6 );\r\n        System.out.println ( &quot;Inputs: &quot; + inputs );\r\n        for ( Integer input : inputs )\r\n        {\r\n            if ( input % 2 == 0 )\r\n            {\r\n                System.out.println ( input );\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nResults:\r\n\r\n&gt;Inputs: [1, 2, 5, 6]\r\n&gt;\r\n&gt;2\r\n&gt;\r\n&gt;6\r\n\r\n\r\n## `!` means *not*\r\n\r\nYou said:\r\n\r\n&gt;I want is to print out only the odd number \r\n\r\nFlip the logic of your `if` test by applying `!`.\r\n\r\n\r\n    if ( ! ( input % 2 == 0 ) ) {  odd number  }\r\n\r\nOr, more simply, use `!=` for &quot;not equals&quot;:\r\n\r\n    if ( input % 2 != 0 )\r\n\r\n\r\n----------\r\n\r\nYou seem to be working from a *very* old tutorial. I strongly recommend using more recent learning materials. \r\n\r\nYou might start with the free-of-cost [*Java Tutorials*][11] by Oracle.com. These are from the Java 8 era, so a bit out-of-date but still valid overall.\r\n\r\nAlso, I highly recommend [*Head First Java, 3rd Edition*][12] by Kathy Sierra, Bert Bates, Trisha Gee.\r\n\r\n\r\n----------\r\n\r\n\r\n## Streams\r\n\r\nEventually you may learn to use streams.\r\n\r\nLike this:\r\n\r\n```java\r\nList\r\n        .of ( 1 , 2 , 5 , 6 )\r\n        .stream ( )\r\n        .filter ( input -&gt; input % 2 == 0 )\r\n        .forEach ( System.out :: println );\r\n``` \r\n\r\nOr, this:\r\n\r\n```java\r\nSequencedCollection &lt; Integer &gt; inputs =\r\n        Stream\r\n                .of ( 1 , 2 , 5 , 6 )\r\n                .filter (\r\n                        ( Integer integer ) -&gt; integer % 2 == 0\r\n                )\r\n                .toList ( );\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Boxing_(computer_science)#Autoboxing\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html#valueOf(int)\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html\r\n  [4]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Vector.html\r\n  [5]: https://en.wikipedia.org/wiki/Java_collections_framework\r\n  [6]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedCollection.html\r\n  [7]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ArrayList.html\r\n  [8]: https://en.wikipedia.org/wiki/Self-documenting_code\r\n  [9]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#of(E,E,E,E)\r\n  [10]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#unmodifiable\r\n  [11]: https://docs.oracle.com/javase/tutorial/\r\n  [12]: https://www.oreilly.com/library/view/head-first-java/9781492091646/","title":"How do I convert the numbers in my Vector&lt;Object&gt; into int?","body":"<h1>tl;dr</h1>\n<p>Cast <code>Object</code> object to <code>Integer</code> object. Then let auto-boxing implicitly change <code>Integer</code> object to <code>int</code> primitive.</p>\n<pre><code>int d = ( Integer ) vector.get(i);  // Cast `Object` to `Integer`, then implicit auto-boxing to `int`. \n</code></pre>\n<p>Even better, revise your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SequencedCollection &lt; Integer &gt; inputs = List.of ( 1 , 2 , 5 , 6 );\nfor ( Integer input : inputs )\n{\n    if ( input % 2 != 0 )\n    {\n        System.out.println ( input );  // Print odd numbers.\n    }\n}\n</code></pre>\n<h2>Auto-boxing</h2>\n<p>You said:</p>\n<blockquote>\n<p>I tried using cast e.i. (int)</p>\n</blockquote>\n<p>Collections such as <code>Vector</code> hold objects, not primitives. When you add a primitive literal such as <code>1</code> or <code>5</code> to such a collection, Java automatically converts these <code>int</code> values into objects of the wrapper class <code>Integer</code>. This conversion is known as <a href=\"https://en.wikipedia.org/wiki/Boxing_(computer_science)#Autoboxing\" rel=\"nofollow noreferrer\">auto-boxing</a>.</p>\n<p>In other words, your code:</p>\n<pre><code>vector.add(2);\n</code></pre>\n<p> is equivalent to a call to <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html#valueOf(int)\" rel=\"nofollow noreferrer\"><code>Integer.valueOf</code></a>, returning a <code>Integer</code> object:</p>\n<pre><code>vector.add( Integer.valueOf( 1 ) );  // Making an `Integer` object from a primitive `int`. \n</code></pre>\n<p>Your call <code>vector.get(i)</code> returns an object, not a primitive. So your cast <code>(int)</code> makes no sense. Casting does not work across the chasm between primitives and objects. Crossing that chasm is the work of boxing.</p>\n<h2>Cast</h2>\n<p>As discussed above, you actually put <code>Integer</code> objects into your <code>Vector</code>. But you declared the <code>Vector</code> as holding objects of the superclass <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html\" rel=\"nofollow noreferrer\"><code>Object</code></a>. When retrieving, you get <code>Object</code> objects rather than <code>Integer</code> objects.</p>\n<p>You must cast from <code>Object</code> to the concrete class <code>Integer</code>.</p>\n<pre><code>Integer d = (Integer) vector.get(i) ;\n</code></pre>\n<p>As discussed above, this cast <code>(Integer)</code> is <em>not</em> the same as your cast attempt <code>(int)</code>.</p>\n<h2>Declare specific type</h2>\n<p>But this is a fix to your less than optimal code. If your collection holds <code>Integer</code> objects, say so.</p>\n<p>You need not repeat the <code>Integer</code> type on the right side of the assignment; the compiler can infer that fact from the left side.</p>\n<pre><code>Vector &lt; Integer &gt; vector = new Vector &lt;&gt; ( );\n</code></pre>\n<p>After specifying the more concrete type, we no longer need that cast.</p>\n<pre><code>Integer d = inputs.get ( i );  // Retrieving an `Integer` object from a known list of `Integer` objects. So no cast needed.\n</code></pre>\n<h2>Avoid <code>Vector</code> class</h2>\n<p>Another problem: <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Vector.html\" rel=\"nofollow noreferrer\"><code>Vector</code></a> is an old class from the earliest versions of Java, before the <a href=\"https://en.wikipedia.org/wiki/Java_collections_framework\" rel=\"nofollow noreferrer\">Java Collections Framework</a> was built. That class is now legacy, as noted in its Javadoc.</p>\n<h2><code>SequencedCollection</code> &amp; <code>ArrayList</code></h2>\n<p>Instead, use a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedCollection.html\" rel=\"nofollow noreferrer\"><code>SequencedCollection</code></a> implementation such as <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ArrayList.html\" rel=\"nofollow noreferrer\"><code>ArrayList</code></a>.</p>\n<p>By the way, use more descriptive names for your variables. Good names makes your code easier to read and more <a href=\"https://en.wikipedia.org/wiki/Self-documenting_code\" rel=\"nofollow noreferrer\">self-documenting</a>. So something like <code>inputs</code> rather than <code>vector</code>.</p>\n<pre><code>SequencedCollection &lt; Integer &gt; inputs = new ArrayList&lt;&gt;() ;\n</code></pre>\n<h2><code>List.of</code></h2>\n<p>Rather than call <code>add</code> multiple times, use the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#of(E,E,E,E)\" rel=\"nofollow noreferrer\"><code>List.of</code></a> feature for more compact code.</p>\n<pre><code>SequencedCollection &lt; Integer &gt; inputs = List.of ( 1 , 2 , 5 , 6 );\n</code></pre>\n<p>The <code>List</code> object returned by <code>List.of</code> is <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#unmodifiable\" rel=\"nofollow noreferrer\">unmodifiable</a>, not allowing additions or deletions. That works in your situation.</p>\n<h2>Enhanced <code>for</code> loop</h2>\n<p>To simply loop through a collection, you can use the enhanced <code>for</code> loop.</p>\n<pre><code>for ( Integer input : inputs )\n</code></pre>\n<p>So now our code looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example;\n\nimport java.util.List;\nimport java.util.SequencedCollection;\n\npublic class Nums\n{\n    public static void main ( String[] args )\n    {\n        SequencedCollection &lt; Integer &gt; inputs = List.of ( 1 , 2 , 5 , 6 );\n        System.out.println ( &quot;Inputs: &quot; + inputs );\n        for ( Integer input : inputs )\n        {\n            if ( input % 2 == 0 )\n            {\n                System.out.println ( input );\n            }\n        }\n    }\n}\n</code></pre>\n<p>Results:</p>\n<blockquote>\n<p>Inputs: [1, 2, 5, 6]</p>\n<p>2</p>\n<p>6</p>\n</blockquote>\n<h2><code>!</code> means <em>not</em></h2>\n<p>You said:</p>\n<blockquote>\n<p>I want is to print out only the odd number</p>\n</blockquote>\n<p>Flip the logic of your <code>if</code> test by applying <code>!</code>.</p>\n<pre><code>if ( ! ( input % 2 == 0 ) ) {  odd number  }\n</code></pre>\n<p>Or, more simply, use <code>!=</code> for &quot;not equals&quot;:</p>\n<pre><code>if ( input % 2 != 0 )\n</code></pre>\n<hr />\n<p>You seem to be working from a <em>very</em> old tutorial. I strongly recommend using more recent learning materials.</p>\n<p>You might start with the free-of-cost <a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\"><em>Java Tutorials</em></a> by Oracle.com. These are from the Java 8 era, so a bit out-of-date but still valid overall.</p>\n<p>Also, I highly recommend <a href=\"https://www.oreilly.com/library/view/head-first-java/9781492091646/\" rel=\"nofollow noreferrer\"><em>Head First Java, 3rd Edition</em></a> by Kathy Sierra, Bert Bates, Trisha Gee.</p>\n<hr />\n<h2>Streams</h2>\n<p>Eventually you may learn to use streams.</p>\n<p>Like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List\n        .of ( 1 , 2 , 5 , 6 )\n        .stream ( )\n        .filter ( input -&gt; input % 2 == 0 )\n        .forEach ( System.out :: println );\n</code></pre>\n<p>Or, this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SequencedCollection &lt; Integer &gt; inputs =\n        Stream\n                .of ( 1 , 2 , 5 , 6 )\n                .filter (\n                        ( Integer integer ) -&gt; integer % 2 == 0\n                )\n                .toList ( );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29514035,"reputation":34,"user_id":22618406,"display_name":"MH BIPUL"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1695445010,"creation_date":1695445010,"answer_id":77161710,"question_id":77161581,"body_markdown":"In Java, you are trying to cast `Object` elements directly to `int`, which will result in a compilation error. To achieve your goal of printing only the odd numbers in the vector, you need to perform the following steps:\r\n\r\n1. Iterate through the `Vector&lt;Object&gt;`.\r\n2. Check if each element is an instance of `Integer`.\r\n3. If it&#39;s an `Integer`, cast it to `int` and then check if it&#39;s odd.\r\n\r\nHere&#39;s a modified version of your code that accomplishes this:\r\n\r\n```java\r\nimport java.util.Vector;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Vector&lt;Object&gt; vector = new Vector&lt;Object&gt;();\r\n        vector.add(1);\r\n        vector.add(2);\r\n        vector.add(5);\r\n        vector.add(6);\r\n        \r\n        System.out.println(&quot;\\nThe Vector is: &quot; + vector);\r\n        \r\n        for (int i = 0; i &lt; vector.size(); i++) {\r\n            Object obj = vector.get(i);\r\n            if (obj instanceof Integer) {\r\n                int d = (int) obj;\r\n                if (d % 2 != 0) {\r\n                    System.out.println(d);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIn this code, we use the `instanceof` operator to check if an element is an instance of `Integer`. If it is, we cast it to `int` and then check if it&#39;s an odd number before printing it. This way, you will only print the odd numbers from your vector.","title":"How do I convert the numbers in my Vector&lt;Object&gt; into int?","body":"<p>In Java, you are trying to cast <code>Object</code> elements directly to <code>int</code>, which will result in a compilation error. To achieve your goal of printing only the odd numbers in the vector, you need to perform the following steps:</p>\n<ol>\n<li>Iterate through the <code>Vector&lt;Object&gt;</code>.</li>\n<li>Check if each element is an instance of <code>Integer</code>.</li>\n<li>If it's an <code>Integer</code>, cast it to <code>int</code> and then check if it's odd.</li>\n</ol>\n<p>Here's a modified version of your code that accomplishes this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Vector;\n\npublic class Main {\n    public static void main(String[] args) {\n        Vector&lt;Object&gt; vector = new Vector&lt;Object&gt;();\n        vector.add(1);\n        vector.add(2);\n        vector.add(5);\n        vector.add(6);\n        \n        System.out.println(&quot;\\nThe Vector is: &quot; + vector);\n        \n        for (int i = 0; i &lt; vector.size(); i++) {\n            Object obj = vector.get(i);\n            if (obj instanceof Integer) {\n                int d = (int) obj;\n                if (d % 2 != 0) {\n                    System.out.println(d);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>In this code, we use the <code>instanceof</code> operator to check if an element is an instance of <code>Integer</code>. If it is, we cast it to <code>int</code> and then check if it's an odd number before printing it. This way, you will only print the odd numbers from your vector.</p>\n"}],"owner":{"account_id":24907233,"reputation":43,"user_id":18777160,"display_name":"edgeworth miles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77161710,"answer_count":2,"score":3,"last_activity_date":1695577875,"creation_date":1695441034,"question_id":77161581,"body_markdown":"How do I convert the numbers in my vector&lt;Object&gt; into int? I&#39;m trying the numbers in my object array into int values for my if statenebt, but I can&#39;t find a way to do so. Can anyone help tell me what I would need to do?\r\n\r\n```\r\nprivate static void test() {\r\n\tVector&lt;Object&gt; vector = new Vector&lt;Object&gt;();\r\n\tvector.add(1);\r\n        vector.add(2);\r\n        vector.add(5);\r\n        vector.add(6);\r\n        System.out.println(&quot;\\nThe Vector is: &quot; + vector);\r\n        for (int i = 0; i &lt; vector.size(); i++)\r\n        {      \r\n          int d = vector.get(i);\r\n          if(d%2 == 0) \r\n          {\r\n        \t  System.out.println(d);\r\n             \r\n          }\r\n}\r\n```\r\n\r\nI tried using cast, i.e., `(int)`, but it didn&#39;t work. The result I want is to print out only the odd numbers in the vector.","title":"How do I convert the numbers in my Vector&lt;Object&gt; into int?","body":"<p>How do I convert the numbers in my vector into int? I'm trying the numbers in my object array into int values for my if statenebt, but I can't find a way to do so. Can anyone help tell me what I would need to do?</p>\n<pre><code>private static void test() {\n    Vector&lt;Object&gt; vector = new Vector&lt;Object&gt;();\n    vector.add(1);\n        vector.add(2);\n        vector.add(5);\n        vector.add(6);\n        System.out.println(&quot;\\nThe Vector is: &quot; + vector);\n        for (int i = 0; i &lt; vector.size(); i++)\n        {      \n          int d = vector.get(i);\n          if(d%2 == 0) \n          {\n              System.out.println(d);\n             \n          }\n}\n</code></pre>\n<p>I tried using cast, i.e., <code>(int)</code>, but it didn't work. The result I want is to print out only the odd numbers in the vector.</p>\n"},{"tags":["javascript","java","android","react-native"],"owner":{"account_id":6334872,"reputation":798,"user_id":4918598,"accept_rate":79,"display_name":"0x01Brain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695577605,"creation_date":1695577160,"question_id":77168233,"body_markdown":"I am trying to add device admin features in React Native app. I created a simple native module which have the following react method which is called from JS stack:\r\n\r\n    @ReactMethod\r\n    public void requestAdmin(Promise promise) {\r\n        ComponentName deviceAdminComponentName = new ComponentName(context, SecureDeviceAdminReciever.class);\r\n        if(!isDeviceAdmin(context, deviceAdminComponentName)) {\r\n            context.runOnUiQueueThread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    requestAdminIntent();\r\n                    promise.resolve(true);\r\n                }\r\n            });\r\n    \r\n        }\r\n    }\r\n    \r\n    public void requestAdminIntent() {\r\n        ReactApplicationContext context = getReactApplicationContext();\r\n        Intent intent = new Intent(context.getCurrentActivity().getApplicationContext(), DeviceAdminRequestActivity.class);\r\n        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n        context.runOnUiQueueThread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                context.startActivityForResult(intent, DeviceAdminRequestActivity.REQUEST_DEVICE_ADMIN_PERMISSIONS,null);\r\n            }\r\n        });\r\n    \r\n    }\r\n\r\nIn the above code I am calling a custom activity which I had to create since `DeviceAdminAdd` activity will not work with with flag `Intent.FLAG_ACTIVITY_NEW_TASK` after revising code here and react-native requires it:\r\n\r\nhttps://android.googlesource.com/platform/packages/apps/Settings/+/marshmallow-dev/src/com/android/settings/DeviceAdminAdd.java\r\n\r\nSo inside the custom activity inside `onCreate`, I have the following implementation to execute `DevicePolicyManager.ACTION_ADD_DEVICE_ADMIN` intent:\r\n\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.M)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        DevicePolicyManager devicePolicyManager = (android.app.admin.DevicePolicyManager) getSystemService(Context.DEVICE_POLICY_SERVICE);\r\n        ComponentName deviceAdminComponentName = null;\r\n        deviceAdminComponentName = new ComponentName(getApplicationContext(), SecureDeviceAdminReciever.class);\r\n        Intent intent = new Intent(DevicePolicyManager.ACTION_ADD_DEVICE_ADMIN);\r\n        intent.putExtra(DevicePolicyManager.EXTRA_DEVICE_ADMIN, deviceAdminComponentName);\r\n        intent.putExtra(DevicePolicyManager.EXTRA_ADD_EXPLANATION, &quot;Note: The permissions granted by you is used for applying the anti-theft features.&quot;);\r\n        startActivity(intent);\r\n        Log.d(&quot;Device Admin Request&quot;, &quot;Requested to start action add device admin ... &quot;);\r\n    }\r\n\r\nMy policies xml file `@xml/device_admin_policies.xml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;device-admin&gt;\r\n        &lt;uses-policies&gt;\r\n            &lt;disable-camera /&gt;\r\n            &lt;limit-password /&gt;\r\n            &lt;watch-login /&gt;\r\n            &lt;reset-password /&gt;\r\n            &lt;force-lock /&gt;\r\n            &lt;wipe-data /&gt;\r\n            &lt;expire-password /&gt;\r\n            &lt;encrypted-storage /&gt;\r\n        &lt;/uses-policies&gt;\r\n    &lt;/device-admin&gt;\r\n\r\nAnd manifest:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    \r\n        &lt;uses-feature\r\n            android:name=&quot;android.hardware.camera&quot;\r\n            android:required=&quot;true&quot; /&gt;\r\n\r\n        &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n\r\n\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_DEVICE_ADMIN&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.BIND_DEVICE_ADMIN&quot;\r\n            tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:name=&quot;.MainApplication&quot;\r\n            android:allowBackup=&quot;false&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n            &lt;activity\r\n                android:name=&quot;.activities.DeviceAdminRequestActivity&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:permission=&quot;android.permission.BIND_DEVICE_ADMIN&quot;/&gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenLayout|screenSize|smallestScreenSize|uiMode&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:label=&quot;@string/app_name&quot;\r\n                android:launchMode=&quot;singleTask&quot;\r\n                android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n    \r\n            &lt;receiver\r\n                android:name=&quot;.PowerStateReceiver&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.ACTION_SHUTDOWN&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/receiver&gt;\r\n            &lt;receiver\r\n                android:name=&quot;.SecureAdminReciever&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:label=&quot;@string/app_name&quot;\r\n                android:permission=&quot;android.permission.BIND_DEVICE_ADMIN&quot;&gt;\r\n                &lt;meta-data\r\n                    android:name=&quot;android.app.device_admin&quot;\r\n                    android:resource=&quot;@xml/device_admin_policies&quot; /&gt;\r\n    \r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                    &lt;action android:name=&quot;android.app.admin.DEVICE_ADMIN_ENABLED&quot; /&gt;\r\n                    &lt;action android:name=&quot;android.app.admin.DEVICE_ADMIN_DISABLED&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/receiver&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nNow the issue I am having is that I am getting a blank activity to show up but its not showing up the device admin dialog to activate device admin for app. I set a breakpoint at `startActivity(intent)` line inside `onCreate()` for debugging it turns out that it executes `startActivity(intent)` and right after that it shows a blank activity but not device admin dialog. I will appreciate anyone who can help or have idea why this is happening.","title":"Request device admin permissions from user via React Native app native module?","body":"<p>I am trying to add device admin features in React Native app. I created a simple native module which have the following react method which is called from JS stack:</p>\n<pre><code>@ReactMethod\npublic void requestAdmin(Promise promise) {\n    ComponentName deviceAdminComponentName = new ComponentName(context, SecureDeviceAdminReciever.class);\n    if(!isDeviceAdmin(context, deviceAdminComponentName)) {\n        context.runOnUiQueueThread(new Runnable() {\n            @Override\n            public void run() {\n                requestAdminIntent();\n                promise.resolve(true);\n            }\n        });\n\n    }\n}\n\npublic void requestAdminIntent() {\n    ReactApplicationContext context = getReactApplicationContext();\n    Intent intent = new Intent(context.getCurrentActivity().getApplicationContext(), DeviceAdminRequestActivity.class);\n    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n    context.runOnUiQueueThread(new Runnable() {\n        @Override\n        public void run() {\n            context.startActivityForResult(intent, DeviceAdminRequestActivity.REQUEST_DEVICE_ADMIN_PERMISSIONS,null);\n        }\n    });\n\n}\n</code></pre>\n<p>In the above code I am calling a custom activity which I had to create since <code>DeviceAdminAdd</code> activity will not work with with flag <code>Intent.FLAG_ACTIVITY_NEW_TASK</code> after revising code here and react-native requires it:</p>\n<p><a href=\"https://android.googlesource.com/platform/packages/apps/Settings/+/marshmallow-dev/src/com/android/settings/DeviceAdminAdd.java\" rel=\"nofollow noreferrer\">https://android.googlesource.com/platform/packages/apps/Settings/+/marshmallow-dev/src/com/android/settings/DeviceAdminAdd.java</a></p>\n<p>So inside the custom activity inside <code>onCreate</code>, I have the following implementation to execute <code>DevicePolicyManager.ACTION_ADD_DEVICE_ADMIN</code> intent:</p>\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.M)\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    DevicePolicyManager devicePolicyManager = (android.app.admin.DevicePolicyManager) getSystemService(Context.DEVICE_POLICY_SERVICE);\n    ComponentName deviceAdminComponentName = null;\n    deviceAdminComponentName = new ComponentName(getApplicationContext(), SecureDeviceAdminReciever.class);\n    Intent intent = new Intent(DevicePolicyManager.ACTION_ADD_DEVICE_ADMIN);\n    intent.putExtra(DevicePolicyManager.EXTRA_DEVICE_ADMIN, deviceAdminComponentName);\n    intent.putExtra(DevicePolicyManager.EXTRA_ADD_EXPLANATION, &quot;Note: The permissions granted by you is used for applying the anti-theft features.&quot;);\n    startActivity(intent);\n    Log.d(&quot;Device Admin Request&quot;, &quot;Requested to start action add device admin ... &quot;);\n}\n</code></pre>\n<p>My policies xml file <code>@xml/device_admin_policies.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;device-admin&gt;\n    &lt;uses-policies&gt;\n        &lt;disable-camera /&gt;\n        &lt;limit-password /&gt;\n        &lt;watch-login /&gt;\n        &lt;reset-password /&gt;\n        &lt;force-lock /&gt;\n        &lt;wipe-data /&gt;\n        &lt;expire-password /&gt;\n        &lt;encrypted-storage /&gt;\n    &lt;/uses-policies&gt;\n&lt;/device-admin&gt;\n</code></pre>\n<p>And manifest:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-feature\n        android:name=&quot;android.hardware.camera&quot;\n        android:required=&quot;true&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n\n\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_DEVICE_ADMIN&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BIND_DEVICE_ADMIN&quot;\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\n\n    &lt;application\n        android:name=&quot;.MainApplication&quot;\n        android:allowBackup=&quot;false&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n        &lt;activity\n            android:name=&quot;.activities.DeviceAdminRequestActivity&quot;\n            android:exported=&quot;true&quot;\n            android:permission=&quot;android.permission.BIND_DEVICE_ADMIN&quot;/&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenLayout|screenSize|smallestScreenSize|uiMode&quot;\n            android:exported=&quot;true&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:launchMode=&quot;singleTask&quot;\n            android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;receiver\n            android:name=&quot;.PowerStateReceiver&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.ACTION_SHUTDOWN&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n        &lt;receiver\n            android:name=&quot;.SecureAdminReciever&quot;\n            android:exported=&quot;true&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:permission=&quot;android.permission.BIND_DEVICE_ADMIN&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.app.device_admin&quot;\n                android:resource=&quot;@xml/device_admin_policies&quot; /&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n                &lt;action android:name=&quot;android.app.admin.DEVICE_ADMIN_ENABLED&quot; /&gt;\n                &lt;action android:name=&quot;android.app.admin.DEVICE_ADMIN_DISABLED&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>Now the issue I am having is that I am getting a blank activity to show up but its not showing up the device admin dialog to activate device admin for app. I set a breakpoint at <code>startActivity(intent)</code> line inside <code>onCreate()</code> for debugging it turns out that it executes <code>startActivity(intent)</code> and right after that it shows a blank activity but not device admin dialog. I will appreciate anyone who can help or have idea why this is happening.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":1432415,"reputation":10687,"user_id":1354537,"accept_rate":83,"display_name":"Marged"},"score":1,"creation_date":1433951769,"post_id":30761253,"comment_id":49575541,"body_markdown":"Is this class in the correct package and thus can be found ? I made this mistake some months ago ... Would it be sufficient to set the password to a known value (I assume not ...) ?","body":"Is this class in the correct package and thus can be found ? I made this mistake some months ago ... Would it be sufficient to set the password to a known value (I assume not ...) ?"},{"owner":{"account_id":1432415,"reputation":10687,"user_id":1354537,"accept_rate":83,"display_name":"Marged"},"score":0,"creation_date":1433951845,"post_id":30761253,"comment_id":49575602,"body_markdown":"Perhaps you have a similar problem like I had. I was lucky and Mr. Syer gave me the answer ;-) http://stackoverflow.com/questions/27981681/which-annotation-shall-i-use-to-keep-spring-boot-from-securing-my-controller-whe","body":"Perhaps you have a similar problem like I had. I was lucky and Mr. Syer gave me the answer ;-) <a href=\"http://stackoverflow.com/questions/27981681/which-annotation-shall-i-use-to-keep-spring-boot-from-securing-my-controller-whe\" title=\"which annotation shall i use to keep spring boot from securing my controller whe\">stackoverflow.com/questions/27981681/&hellip;</a>"},{"owner":{"account_id":1920479,"reputation":7969,"user_id":1732123,"accept_rate":89,"display_name":"Carlos Alberto"},"score":0,"creation_date":1433955868,"post_id":30761253,"comment_id":49578173,"body_markdown":"There&#39;s another config class which import this security config @Import({  CustomSecurityConfig .class }). This class is scanned by Spring Boot, what I noticed in another case related to CAS security, Spring Boot only removed this message when I did   @Inject\n    public void configureGlobal(final AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {","body":"There&#39;s another config class which import this security config @Import({  CustomSecurityConfig .class }). This class is scanned by Spring Boot, what I noticed in another case related to CAS security, Spring Boot only removed this message when I did   @Inject     public void configureGlobal(final AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {"},{"owner":{"account_id":1920479,"reputation":7969,"user_id":1732123,"accept_rate":89,"display_name":"Carlos Alberto"},"score":3,"creation_date":1433956029,"post_id":30761253,"comment_id":49578276,"body_markdown":"I tried adding security.basic.enabled=false and nothing has changed.","body":"I tried adding security.basic.enabled=false and nothing has changed."},{"owner":{"account_id":434040,"reputation":17358,"user_id":819742,"accept_rate":69,"display_name":"randominstanceOfLivingThing"},"score":0,"creation_date":1433958474,"post_id":30761253,"comment_id":49579782,"body_markdown":"Did you check- http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-security.html","body":"Did you check- <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-security.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":1920479,"reputation":7969,"user_id":1732123,"accept_rate":89,"display_name":"Carlos Alberto"},"score":0,"creation_date":1433959145,"post_id":30761253,"comment_id":49580221,"body_markdown":"Yes, read but I did not found a solution for my issue.. do you have any idea what I missing?","body":"Yes, read but I did not found a solution for my issue.. do you have any idea what I missing?"},{"owner":{"account_id":14192811,"reputation":348,"user_id":10252907,"display_name":"Nguy&#234;n Ng&#244; Duy"},"score":1,"creation_date":1606356761,"post_id":30761253,"comment_id":114942520,"body_markdown":"Right answer is: wrong package. This bug raise when you copy folder and paste to you project. You can refactor folder to right package and done.","body":"Right answer is: wrong package. This bug raise when you copy folder and paste to you project. You can refactor folder to right package and done."}],"answers":[{"tags":[],"owner":{"account_id":434040,"reputation":17358,"user_id":819742,"accept_rate":69,"display_name":"randominstanceOfLivingThing"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1433959734,"creation_date":1433959199,"answer_id":30763890,"question_id":30761253,"body_markdown":"Look up: http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-security.html\r\n \r\nFrom [AuthenticationManagerConfiguration.java][1] looking at code, I see below. Also the in-memory configuration is a fallback if no authentication manager is provided as per [Javadoc][2]. Your earlier attempt of Injecting the Authentication Manager would work because you will no longer be using the In-memory authentication and this class will be out of picture.\r\n\r\n    @Override\r\n\t\tpublic void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\t\tif (auth.isConfigured()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tUser user = this.securityProperties.getUser();\r\n\t\t\tif (user.isDefaultPassword()) {\r\n\t\t\t\tlogger.info(&quot;\\n\\nUsing default security password: &quot; + user.getPassword()\r\n\t\t\t\t\t\t+ &quot;\\n&quot;);\r\n\t\t\t}\r\n\t\t\tSet&lt;String&gt; roles = new LinkedHashSet&lt;String&gt;(user.getRole());\r\n\t\t\twithUser(user.getName()).password(user.getPassword()).roles(\r\n\t\t\t\t\troles.toArray(new String[roles.size()]));\r\n\t\t\tsetField(auth, &quot;defaultUserDetailsService&quot;, getUserDetailsService());\r\n\t\t\tsuper.configure(auth);\r\n\t\t}\r\n\r\nIf you use inmemory authentication which is default, customize your logger configuration for org.springframework.boot.autoconfigure.security.AuthenticationManagerConfiguration and remove this message.\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/master/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/AuthenticationManagerConfiguration.java \r\n  [2]: http://docs.spring.io/autorepo/docs/spring-boot/1.3.0.BUILD-SNAPSHOT/api/org/springframework/boot/autoconfigure/security/AuthenticationManagerConfiguration.html","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>Look up: <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-security.html\" rel=\"nofollow\">http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-security.html</a></p>\n\n<p>From <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/AuthenticationManagerConfiguration.java\" rel=\"nofollow\">AuthenticationManagerConfiguration.java</a> looking at code, I see below. Also the in-memory configuration is a fallback if no authentication manager is provided as per <a href=\"http://docs.spring.io/autorepo/docs/spring-boot/1.3.0.BUILD-SNAPSHOT/api/org/springframework/boot/autoconfigure/security/AuthenticationManagerConfiguration.html\" rel=\"nofollow\">Javadoc</a>. Your earlier attempt of Injecting the Authentication Manager would work because you will no longer be using the In-memory authentication and this class will be out of picture.</p>\n\n<pre><code>@Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        if (auth.isConfigured()) {\n            return;\n        }\n        User user = this.securityProperties.getUser();\n        if (user.isDefaultPassword()) {\n            logger.info(\"\\n\\nUsing default security password: \" + user.getPassword()\n                    + \"\\n\");\n        }\n        Set&lt;String&gt; roles = new LinkedHashSet&lt;String&gt;(user.getRole());\n        withUser(user.getName()).password(user.getPassword()).roles(\n                roles.toArray(new String[roles.size()]));\n        setField(auth, \"defaultUserDetailsService\", getUserDetailsService());\n        super.configure(auth);\n    }\n</code></pre>\n\n<p>If you use inmemory authentication which is default, customize your logger configuration for org.springframework.boot.autoconfigure.security.AuthenticationManagerConfiguration and remove this message.</p>\n"},{"tags":[],"owner":{"account_id":1920479,"reputation":7969,"user_id":1732123,"accept_rate":89,"display_name":"Carlos Alberto"},"down_vote_count":13,"up_vote_count":97,"is_accepted":true,"score":84,"last_activity_date":1433973410,"creation_date":1433973410,"answer_id":30768011,"question_id":30761253,"body_markdown":"I found out a solution about excluding **SecurityAutoConfiguration** class.\r\n\r\nExample:\r\n\r\n    @SpringBootApplication(exclude = {SecurityAutoConfiguration.class })\r\n    public class ReportApplication {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            SpringApplication.run(MyApplication.class, args);\r\n        }\r\n    }","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>I found out a solution about excluding <strong>SecurityAutoConfiguration</strong> class.</p>\n\n<p>Example:</p>\n\n<pre><code>@SpringBootApplication(exclude = {SecurityAutoConfiguration.class })\npublic class ReportApplication {\n\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(MyApplication.class, args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"down_vote_count":8,"up_vote_count":46,"is_accepted":false,"score":38,"last_activity_date":1473500554,"creation_date":1473500554,"answer_id":39424761,"question_id":30761253,"body_markdown":"Adding following in `application.properties` worked for me,\r\n\r\n\r\n    security.basic.enabled=false\r\n\r\nRemember to restart the application and check in the console.","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>Adding following in <code>application.properties</code> worked for me,</p>\n\n<pre><code>security.basic.enabled=false\n</code></pre>\n\n<p>Remember to restart the application and check in the console.</p>\n"},{"tags":[],"owner":{"account_id":483757,"reputation":505,"user_id":899009,"display_name":"Stefan"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1539524147,"creation_date":1485361487,"answer_id":41856630,"question_id":30761253,"body_markdown":"Although it works, the current solution is a little overkill as noted in some comments. So here is an alternative that works for me, using the latest Spring Boot (1.4.3).\r\n\r\nThe default security password is configured inside Spring Boot&#39;s [AuthenticationManagerConfiguration][1] class. This class has a conditional annotation to prevent from loading if a AuthenticationManager Bean is already defined.\r\n\r\nThe folllowing code works to prevent execution of the code inside AuthenticationManagerConfiguration because we define our current  AuthenticationManager as a bean.\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class MyCustomSecurityConfig extends WebSecurityConfigurerAdapter{\r\n\r\n    [...]\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder authManager) throws Exception {\r\n        // This is the code you usually have to configure your authentication manager.\r\n        // This configuration will be used by authenticationManagerBean() below.\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        // ALTHOUGH THIS SEEMS LIKE USELESS CODE,\r\n        // IT&#39;S REQUIRED TO PREVENT SPRING BOOT AUTO-CONFIGURATION\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.5.x/api/org/springframework/boot/autoconfigure/security/AuthenticationManagerConfiguration.html","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>Although it works, the current solution is a little overkill as noted in some comments. So here is an alternative that works for me, using the latest Spring Boot (1.4.3).</p>\n\n<p>The default security password is configured inside Spring Boot's <a href=\"https://docs.spring.io/spring-boot/docs/1.5.x/api/org/springframework/boot/autoconfigure/security/AuthenticationManagerConfiguration.html\" rel=\"noreferrer\">AuthenticationManagerConfiguration</a> class. This class has a conditional annotation to prevent from loading if a AuthenticationManager Bean is already defined.</p>\n\n<p>The folllowing code works to prevent execution of the code inside AuthenticationManagerConfiguration because we define our current  AuthenticationManager as a bean.</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class MyCustomSecurityConfig extends WebSecurityConfigurerAdapter{\n\n[...]\n\n@Override\nprotected void configure(AuthenticationManagerBuilder authManager) throws Exception {\n    // This is the code you usually have to configure your authentication manager.\n    // This configuration will be used by authenticationManagerBean() below.\n}\n\n@Bean\npublic AuthenticationManager authenticationManagerBean() throws Exception {\n    // ALTHOUGH THIS SEEMS LIKE USELESS CODE,\n    // IT'S REQUIRED TO PREVENT SPRING BOOT AUTO-CONFIGURATION\n    return super.authenticationManagerBean();\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8832743,"reputation":109,"user_id":6598390,"display_name":"Sasidhar"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1496153338,"creation_date":1496153338,"answer_id":44264584,"question_id":30761253,"body_markdown":"When spring boot is used we should exclude the SecurityAutoConfiguration.class both in application class and  where exactly you are configuring the security like below.\r\n\r\nThen only we can avoid the default security password.\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import org.springframework.security.oauth2.config.annotation.web.configuration.EnableResourceServer;\r\n    \r\n    @SpringBootApplication(exclude = {SecurityAutoConfiguration.class })\r\n    @EnableJpaRepositories\r\n    @EnableResourceServer\r\n    public class Application {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    }\r\n\r\n---------------------------------------------------------------\r\n\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    \r\n        @Configuration\r\n        @EnableWebSecurity\r\n        @EnableAutoConfiguration(exclude = { \r\n                org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration.class \r\n            })\r\n        public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n        \r\n        \t@Override\r\n        \tprotected void configure(HttpSecurity httpSecurity) throws Exception {\r\n        \t\thttpSecurity.authorizeRequests().anyRequest().authenticated();\r\n        \t\thttpSecurity.headers().cacheControl();\r\n        \t}\r\n        }","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>When spring boot is used we should exclude the SecurityAutoConfiguration.class both in application class and  where exactly you are configuring the security like below.</p>\n\n<p>Then only we can avoid the default security password.</p>\n\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.security.oauth2.config.annotation.web.configuration.EnableResourceServer;\n\n@SpringBootApplication(exclude = {SecurityAutoConfiguration.class })\n@EnableJpaRepositories\n@EnableResourceServer\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n\n    @Configuration\n    @EnableWebSecurity\n    @EnableAutoConfiguration(exclude = { \n            org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration.class \n        })\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n        @Override\n        protected void configure(HttpSecurity httpSecurity) throws Exception {\n            httpSecurity.authorizeRequests().anyRequest().authenticated();\n            httpSecurity.headers().cacheControl();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3918707,"reputation":707,"user_id":3241877,"display_name":"Volodymyr Perebykivskyi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522139349,"creation_date":1522139349,"answer_id":49507924,"question_id":30761253,"body_markdown":"Check documentation for *org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration* there are conditions when autoconfig will be halt.\r\n\r\nIn my case I forgot to define my custom *AuthenticationProvider* as **bean**.\r\n\r\n    @Configuration\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.authenticationProvider(getAuthenticationProvider());\r\n        }\r\n    \r\n        @Bean\r\n        AuthenticationProvider getAuthenticationProvider() {\r\n            return new CustomAuthenticationProvider(adminService, onlyCorporateEmail);\r\n        }\r\n    }","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>Check documentation for <em>org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration</em> there are conditions when autoconfig will be halt.</p>\n\n<p>In my case I forgot to define my custom <em>AuthenticationProvider</em> as <strong>bean</strong>.</p>\n\n<pre><code>@Configuration\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(getAuthenticationProvider());\n    }\n\n    @Bean\n    AuthenticationProvider getAuthenticationProvider() {\n        return new CustomAuthenticationProvider(adminService, onlyCorporateEmail);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":201308,"reputation":1020,"user_id":447672,"display_name":"adlerer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523027111,"creation_date":1523027111,"answer_id":49695759,"question_id":30761253,"body_markdown":"It didn&#39;t work for me when I excluded SecurityAutoConfiguration using @SpringBootApplication annotation, but did work when I excluded it in @EnableAutoConfiguration:\r\n\r\n    @EnableAutoConfiguration(exclude = { SecurityAutoConfiguration.class })","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>It didn't work for me when I excluded SecurityAutoConfiguration using @SpringBootApplication annotation, but did work when I excluded it in @EnableAutoConfiguration:</p>\n\n<pre><code>@EnableAutoConfiguration(exclude = { SecurityAutoConfiguration.class })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1230894,"reputation":2364,"user_id":1195507,"accept_rate":100,"display_name":"rvazquezglez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531975369,"creation_date":1531975369,"answer_id":51414492,"question_id":30761253,"body_markdown":"If you are using Spring Boot version &gt;= 2.0 try setting this bean in your configuration:\r\n\r\n\r\n    @Bean\r\n    public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\r\n        http.authorizeExchange().anyExchange().permitAll();\r\n        return http.build();\r\n    }\r\n\r\n\r\nReference: https://stackoverflow.com/a/47292134/1195507","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>If you are using Spring Boot version >= 2.0 try setting this bean in your configuration:</p>\n\n<pre><code>@Bean\npublic SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\n    http.authorizeExchange().anyExchange().permitAll();\n    return http.build();\n}\n</code></pre>\n\n<p>Reference: <a href=\"https://stackoverflow.com/a/47292134/1195507\">https://stackoverflow.com/a/47292134/1195507</a></p>\n"},{"tags":[],"owner":{"account_id":1390639,"reputation":23879,"user_id":1321564,"accept_rate":71,"display_name":"Benjamin M"},"down_vote_count":0,"up_vote_count":76,"is_accepted":false,"score":76,"last_activity_date":1534853143,"creation_date":1534853143,"answer_id":51948296,"question_id":30761253,"body_markdown":"Using Spring Boot 2.0.4 I came across the same issue.\r\n\r\nExcluding `SecurityAutoConfiguration.class` did destroy my application.\r\n\r\nNow I&#39;m using `@SpringBootApplication(exclude= {UserDetailsServiceAutoConfiguration.class})`\r\n\r\nWorks fine with `@EnableResourceServer` and JWT `:)` ","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>Using Spring Boot 2.0.4 I came across the same issue.</p>\n\n<p>Excluding <code>SecurityAutoConfiguration.class</code> did destroy my application.</p>\n\n<p>Now I'm using <code>@SpringBootApplication(exclude= {UserDetailsServiceAutoConfiguration.class})</code></p>\n\n<p>Works fine with <code>@EnableResourceServer</code> and JWT <code>:)</code> </p>\n"},{"tags":[],"owner":{"account_id":8669829,"reputation":105,"user_id":6489113,"display_name":"KHAN"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1549104463,"creation_date":1549067182,"answer_id":54488801,"question_id":30761253,"body_markdown":"If you are declaring your configs in a separate package,\r\nmake sure you add component scan like this :      \r\n\r\n   \r\n    @SpringBootApplication\r\n    @ComponentScan(&quot;com.mycompany.MY_OTHER_PACKAGE.account.config&quot;)\r\n    \r\n        public class MyApplication {\r\n        \r\n        \tpublic static void main(String[] args) {\r\n        \t\tSpringApplication.run(MyApplication.class, args);\r\n        \t}\r\n        \t\r\n        \t\r\n        \r\n        }\r\n\r\nYou may also need to add  @component annotation in the config class like so :\r\n\r\n      @Component\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n        \r\n    \t@Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                .authorizeRequests()\r\n\r\n    .....\r\n      \r\n\r\n\r\n2. Also clear browser cache and run spring boot app in incognito mode\r\n\r\n","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>If you are declaring your configs in a separate package,\nmake sure you add component scan like this :      </p>\n\n<pre><code>@SpringBootApplication\n@ComponentScan(\"com.mycompany.MY_OTHER_PACKAGE.account.config\")\n\n    public class MyApplication {\n\n        public static void main(String[] args) {\n            SpringApplication.run(MyApplication.class, args);\n        }\n\n\n\n    }\n</code></pre>\n\n<p>You may also need to add  @component annotation in the config class like so :</p>\n\n<pre><code>  @Component\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .authorizeRequests()\n\n.....\n</code></pre>\n\n<ol start=\"2\">\n<li>Also clear browser cache and run spring boot app in incognito mode</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3612161,"reputation":3430,"user_id":3012916,"display_name":"nekperu15739"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550575103,"creation_date":1550575103,"answer_id":54765062,"question_id":30761253,"body_markdown":"On spring boot 2 with webflux you need to define a ***ReactiveAuthenticationManager***","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>On spring boot 2 with webflux you need to define a <strong><em>ReactiveAuthenticationManager</em></strong></p>\n"},{"tags":[],"owner":{"account_id":6906319,"reputation":199,"user_id":5304063,"display_name":"WaBayang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559749657,"creation_date":1559749657,"answer_id":56463921,"question_id":30761253,"body_markdown":"It is also possible to just turn off logging for that specific class in properties : \r\n\r\n`logging.level.org.springframework.boot.autoconfigure.security.AuthenticationManagerConfiguration=WARN`\r\n","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>It is also possible to just turn off logging for that specific class in properties : </p>\n\n<p><code>logging.level.org.springframework.boot.autoconfigure.security.AuthenticationManagerConfiguration=WARN</code></p>\n"},{"tags":[],"owner":{"display_name":"user11814208"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1564050077,"creation_date":1564050077,"answer_id":57199686,"question_id":30761253,"body_markdown":"Just use the rows below:\r\n\r\n    spring.security.user.name=XXX\r\n    spring.security.user.password=XXX\r\n\r\nto set the default security user name and password\r\nat your `application.properties` (name might differ) within the context of the Spring Application.\r\n\r\nTo avoid default configuration (as a part of autoconfiguration of the SpringBoot) at all - use the approach mentioned in Answers earlier:\r\n\r\n    @SpringBootApplication(exclude = {SecurityAutoConfiguration.class })\r\n\r\nor\r\n\r\n    @EnableAutoConfiguration(exclude = { SecurityAutoConfiguration.class })\r\n\r\n","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>Just use the rows below:</p>\n\n<pre><code>spring.security.user.name=XXX\nspring.security.user.password=XXX\n</code></pre>\n\n<p>to set the default security user name and password\nat your <code>application.properties</code> (name might differ) within the context of the Spring Application.</p>\n\n<p>To avoid default configuration (as a part of autoconfiguration of the SpringBoot) at all - use the approach mentioned in Answers earlier:</p>\n\n<pre><code>@SpringBootApplication(exclude = {SecurityAutoConfiguration.class })\n</code></pre>\n\n<p>or</p>\n\n<pre><code>@EnableAutoConfiguration(exclude = { SecurityAutoConfiguration.class })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3056739,"reputation":435,"user_id":2590174,"display_name":"alexkov"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1565036382,"creation_date":1565036382,"answer_id":57365595,"question_id":30761253,"body_markdown":"For Reactive Stack (Spring Webflux, Netty) you either need to exclude ReactiveUserDetailsServiceAutoConfiguration.class\r\n\r\n    @SpringBootApplication(exclude = {ReactiveUserDetailsServiceAutoConfiguration.class})\r\n\r\n\r\nOr define ReactiveAuthenticationManager bean (there are different implementations, here is the JWT one example)\r\n\r\n    @Bean\r\n    public ReactiveJwtDecoder jwtDecoder() {\r\n        return new NimbusReactiveJwtDecoder(keySourceUrl);\r\n    }\r\n    @Bean\r\n    public ReactiveAuthenticationManager authenticationManager() {\r\n        return new JwtReactiveAuthenticationManager(jwtDecoder());\r\n    }\r\n\r\n","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>For Reactive Stack (Spring Webflux, Netty) you either need to exclude ReactiveUserDetailsServiceAutoConfiguration.class</p>\n\n<pre><code>@SpringBootApplication(exclude = {ReactiveUserDetailsServiceAutoConfiguration.class})\n</code></pre>\n\n<p>Or define ReactiveAuthenticationManager bean (there are different implementations, here is the JWT one example)</p>\n\n<pre><code>@Bean\npublic ReactiveJwtDecoder jwtDecoder() {\n    return new NimbusReactiveJwtDecoder(keySourceUrl);\n}\n@Bean\npublic ReactiveAuthenticationManager authenticationManager() {\n    return new JwtReactiveAuthenticationManager(jwtDecoder());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5721327,"reputation":470,"user_id":4519671,"accept_rate":50,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1580972303,"creation_date":1580972303,"answer_id":60089310,"question_id":30761253,"body_markdown":"I came across the same problem and adding this line to my application.properties solved the issue.\r\n\r\n    spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration\r\n\r\nIt&#39;s one of the Spring&#39;s Automatic stuffs which you exclude it like excluding other stuffs such as actuators. I recommend looking at this [link][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>I came across the same problem and adding this line to my application.properties solved the issue.</p>\n\n<pre><code>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration\n</code></pre>\n\n<p>It's one of the Spring's Automatic stuffs which you exclude it like excluding other stuffs such as actuators. I recommend looking at this <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html\" rel=\"nofollow noreferrer\">link</a></p>\n"},{"tags":[],"owner":{"account_id":5702783,"reputation":686,"user_id":4507281,"display_name":"Dawid wito-Maniakowski"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1654418856,"creation_date":1582189092,"answer_id":60316114,"question_id":30761253,"body_markdown":"To remove the default user you need to configure authentication manager with no users for example:\r\n\r\n\r\n    @configuration\r\n    class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.inMemoryAuthentication();\r\n        }\r\n    }\r\n\r\nthis will remove default password message and default user because in that case you are configuring InMemoryAuthentication and you will not specify any user in next steps\r\n\r\n ","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>To remove the default user you need to configure authentication manager with no users for example:</p>\n<pre><code>@configuration\nclass WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.inMemoryAuthentication();\n    }\n}\n</code></pre>\n<p>this will remove default password message and default user because in that case you are configuring InMemoryAuthentication and you will not specify any user in next steps</p>\n"},{"tags":[],"owner":{"account_id":17998803,"reputation":59,"user_id":13081179,"display_name":"mguser"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1597837661,"creation_date":1597837661,"answer_id":63486321,"question_id":30761253,"body_markdown":"In a Spring Boot 2 application you can either exclude the service configuration from autoconfiguration:\r\n\r\n```\r\nspring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration\r\n```\r\n\r\nor if you just want to hide the message in the logs you can simply change the log level:\r\n\r\n```\r\nlogging.level.org.springframework.boot.autoconfigure.security=WARN\r\n```\r\n\r\nFurther information can be found here: https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/boot-features-security.html\r\n\r\n\r\n ","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>In a Spring Boot 2 application you can either exclude the service configuration from autoconfiguration:</p>\n<pre><code>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration\n</code></pre>\n<p>or if you just want to hide the message in the logs you can simply change the log level:</p>\n<pre><code>logging.level.org.springframework.boot.autoconfigure.security=WARN\n</code></pre>\n<p>Further information can be found here: <a href=\"https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/boot-features-security.html\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/boot-features-security.html</a></p>\n"},{"tags":[],"owner":{"account_id":3679486,"reputation":27,"user_id":3064731,"display_name":"Jerry Shang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601204341,"creation_date":1601204341,"answer_id":64087688,"question_id":30761253,"body_markdown":"If you have enabled **actuator** feature (spring-boot-starter-actuator), additional exclude should be added in application.yml:\r\n\r\n    spring:\r\n      autoconfigure:\r\n        exclude: org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration,org.springframework.boot.actuate.autoconfigure.security.servlet.ManagementWebSecurityAutoConfiguration\r\n\r\n\r\nTested in Spring Boot version 2.3.4.RELEASE.","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>If you have enabled <strong>actuator</strong> feature (spring-boot-starter-actuator), additional exclude should be added in application.yml:</p>\n<pre><code>spring:\n  autoconfigure:\n    exclude: org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration,org.springframework.boot.actuate.autoconfigure.security.servlet.ManagementWebSecurityAutoConfiguration\n</code></pre>\n<p>Tested in Spring Boot version 2.3.4.RELEASE.</p>\n"},{"tags":[],"owner":{"account_id":12669307,"reputation":245,"user_id":9207380,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1612834487,"creation_date":1612834487,"answer_id":66111770,"question_id":30761253,"body_markdown":"You only need to exclude UserDetailsServiceAutoConfiguration.\r\n\r\n\r\n    spring:\r\n      autoconfigure:\r\n        exclude: org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>You only need to exclude UserDetailsServiceAutoConfiguration.</p>\n<pre><code>spring:\n  autoconfigure:\n    exclude: org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8405935,"reputation":11,"user_id":6309431,"display_name":"Suresh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614500810,"creation_date":1614488289,"answer_id":66405965,"question_id":30761253,"body_markdown":"Just Adding below property to application.properties\r\n\r\n```\r\nspring.security.user.name=xyz\r\nspring.security.user.password=xxxxxxx\r\n```","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>Just Adding below property to application.properties</p>\n<pre><code>spring.security.user.name=xyz\nspring.security.user.password=xxxxxxx\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15883660,"reputation":1271,"user_id":11460723,"display_name":"Amrut Prabhu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1629220523,"creation_date":1629220523,"answer_id":68821510,"question_id":30761253,"body_markdown":"If you use Spring Security with spring cloud gateway, you can exclude the `ReactiveUserDetailsServiceAutoConfiguration.class`.\r\n\r\nLike this \r\n```java\r\n@SpringBootApplication(exclude = ReactiveUserDetailsServiceAutoConfiguration.class)\r\npublic class SpringClientApplication {\r\n\r\n```","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>If you use Spring Security with spring cloud gateway, you can exclude the <code>ReactiveUserDetailsServiceAutoConfiguration.class</code>.</p>\n<p>Like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication(exclude = ReactiveUserDetailsServiceAutoConfiguration.class)\npublic class SpringClientApplication {\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13507264,"reputation":283,"user_id":9744855,"display_name":"Nisarg Bhagavantanavar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648717620,"creation_date":1648709742,"answer_id":71688133,"question_id":30761253,"body_markdown":"Password generation is done by \r\n\r\n\r\n    @Configuration(\r\n        proxyBeanMethods = false\r\n    )\r\n    @ConditionalOnClass({AuthenticationManager.class})\r\n    @ConditionalOnBean({ObjectPostProcessor.class})\r\n    @ConditionalOnMissingBean(\r\n        value = {AuthenticationManager.class, AuthenticationProvider.class, UserDetailsService.class},\r\n        type = {&quot;org.springframework.security.oauth2.jwt.JwtDecoder&quot;, &quot;org.springframework.security.oauth2.server.resource.introspection.OpaqueTokenIntrospector&quot;, &quot;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&quot;}\r\n    )\r\n    public class UserDetailsServiceAutoConfiguration {\r\n\r\n\r\nif following beans are missing(JwtDecoder,OpaqueTokenIntrospector,ClientRegistrationRepository) - then we see password generation been invoked\r\n\r\n\r\nso in our case also we came across this issue then we \r\n\r\n    @SpringBootApplication(exclude = {FlywayAutoConfiguration.class, UserDetailsServiceAutoConfiguration.class})\r\n\r\n \r\n\r\nAdded UserDetailsServiceAutoConfiguration.class to exclusion then we did not see the password generation in logs","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>Password generation is done by</p>\n<pre><code>@Configuration(\n    proxyBeanMethods = false\n)\n@ConditionalOnClass({AuthenticationManager.class})\n@ConditionalOnBean({ObjectPostProcessor.class})\n@ConditionalOnMissingBean(\n    value = {AuthenticationManager.class, AuthenticationProvider.class, UserDetailsService.class},\n    type = {&quot;org.springframework.security.oauth2.jwt.JwtDecoder&quot;, &quot;org.springframework.security.oauth2.server.resource.introspection.OpaqueTokenIntrospector&quot;, &quot;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&quot;}\n)\npublic class UserDetailsServiceAutoConfiguration {\n</code></pre>\n<p>if following beans are missing(JwtDecoder,OpaqueTokenIntrospector,ClientRegistrationRepository) - then we see password generation been invoked</p>\n<p>so in our case also we came across this issue then we</p>\n<pre><code>@SpringBootApplication(exclude = {FlywayAutoConfiguration.class, UserDetailsServiceAutoConfiguration.class})\n</code></pre>\n<p>Added UserDetailsServiceAutoConfiguration.class to exclusion then we did not see the password generation in logs</p>\n"},{"tags":[],"owner":{"account_id":13657476,"reputation":890,"user_id":9853555,"display_name":"Nikhil Kamani"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1652965136,"creation_date":1652965136,"answer_id":72305018,"question_id":30761253,"body_markdown":"We should exclude UserDetailsServiceAutoConfiguration.class from spring boot autoconfiguration to fix this \r\n\r\nexample:\r\n\r\n    @SpringBootApplication(exclude = {UserDetailsServiceAutoConfiguration.class })\r\n    public class MyClass {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MyClass.class, args);\r\n    }\r\n","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>We should exclude UserDetailsServiceAutoConfiguration.class from spring boot autoconfiguration to fix this</p>\n<p>example:</p>\n<pre><code>@SpringBootApplication(exclude = {UserDetailsServiceAutoConfiguration.class })\npublic class MyClass {\n\npublic static void main(String[] args) {\n    SpringApplication.run(MyClass.class, args);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1654081185,"creation_date":1654081185,"answer_id":72460696,"question_id":30761253,"body_markdown":"So most of the answers to this question recommend either:\r\n\r\n - excluding some auto-configuration\r\n - setting up a user and/or password\r\n\r\nHowever excluding auto-configuration is hardly ever the answer. And if your application does not have any users the second solution is not great either.\r\n\r\nInstead we should work with Spring Boot.\r\n\r\nThe log message is generated by `UserDetailsServiceAutoConfiguration` to let us know Spring Boot put in a sensible default. And looking at the source and documentation for `UserDetailsServiceAutoConfiguration` we see:\r\n\r\n```java\r\n/**\r\n * {@link EnableAutoConfiguration Auto-configuration} for a Spring Security in-memory\r\n * {@link AuthenticationManager}. Adds an {@link InMemoryUserDetailsManager} with a\r\n * default user and generated password. This can be disabled by providing a bean of type\r\n * {@link AuthenticationManager}, {@link AuthenticationProvider} or\r\n * {@link UserDetailsService}.\r\n *\r\n * @author Dave Syer\r\n * @author Rob Winch\r\n * @author Madhura Bhave\r\n * @since 2.0.0\r\n */\r\n@Configuration(proxyBeanMethods = false)\r\n@ConditionalOnClass(AuthenticationManager.class)\r\n@ConditionalOnBean(ObjectPostProcessor.class)\r\n@ConditionalOnMissingBean(\r\n\t\tvalue = { AuthenticationManager.class, AuthenticationProvider.class, UserDetailsService.class,\r\n\t\t\t\tAuthenticationManagerResolver.class },\r\n\t\ttype = { &quot;org.springframework.security.oauth2.jwt.JwtDecoder&quot;,\r\n\t\t\t\t&quot;org.springframework.security.oauth2.server.resource.introspection.OpaqueTokenIntrospector&quot;,\r\n\t\t\t\t&quot;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&quot; })\r\npublic class UserDetailsServiceAutoConfiguration {\r\n```\r\n\r\nWe can see that the `UserDetailsServiceAutoConfiguration` is disabled when any of these beans are provided: `AuthenticationManager`, `AuthenticationProvider`, `UserDetailsService`, or ` AuthenticationManagerResolver`. \r\n\r\nThis means that when tell Spring Boot how we want to authenticate our users, Spring Boot will not auto-configure a sensible default. Since we don&#39;t want to authenticate any users we can provide:\r\n\r\n```java\r\n@Configuration\r\npublic class ApplicationConfiguration {\r\n\r\n    @Bean\r\n    public AuthenticationManager noopAuthenticationManager() {\r\n        return authentication -&gt; {\r\n            throw new AuthenticationServiceException(&quot;Authentication is disabled&quot;);\r\n        };\r\n    }\r\n}\r\n```\r\n","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>So most of the answers to this question recommend either:</p>\n<ul>\n<li>excluding some auto-configuration</li>\n<li>setting up a user and/or password</li>\n</ul>\n<p>However excluding auto-configuration is hardly ever the answer. And if your application does not have any users the second solution is not great either.</p>\n<p>Instead we should work with Spring Boot.</p>\n<p>The log message is generated by <code>UserDetailsServiceAutoConfiguration</code> to let us know Spring Boot put in a sensible default. And looking at the source and documentation for <code>UserDetailsServiceAutoConfiguration</code> we see:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * {@link EnableAutoConfiguration Auto-configuration} for a Spring Security in-memory\n * {@link AuthenticationManager}. Adds an {@link InMemoryUserDetailsManager} with a\n * default user and generated password. This can be disabled by providing a bean of type\n * {@link AuthenticationManager}, {@link AuthenticationProvider} or\n * {@link UserDetailsService}.\n *\n * @author Dave Syer\n * @author Rob Winch\n * @author Madhura Bhave\n * @since 2.0.0\n */\n@Configuration(proxyBeanMethods = false)\n@ConditionalOnClass(AuthenticationManager.class)\n@ConditionalOnBean(ObjectPostProcessor.class)\n@ConditionalOnMissingBean(\n        value = { AuthenticationManager.class, AuthenticationProvider.class, UserDetailsService.class,\n                AuthenticationManagerResolver.class },\n        type = { &quot;org.springframework.security.oauth2.jwt.JwtDecoder&quot;,\n                &quot;org.springframework.security.oauth2.server.resource.introspection.OpaqueTokenIntrospector&quot;,\n                &quot;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&quot; })\npublic class UserDetailsServiceAutoConfiguration {\n</code></pre>\n<p>We can see that the <code>UserDetailsServiceAutoConfiguration</code> is disabled when any of these beans are provided: <code>AuthenticationManager</code>, <code>AuthenticationProvider</code>, <code>UserDetailsService</code>, or <code> AuthenticationManagerResolver</code>.</p>\n<p>This means that when tell Spring Boot how we want to authenticate our users, Spring Boot will not auto-configure a sensible default. Since we don't want to authenticate any users we can provide:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class ApplicationConfiguration {\n\n    @Bean\n    public AuthenticationManager noopAuthenticationManager() {\n        return authentication -&gt; {\n            throw new AuthenticationServiceException(&quot;Authentication is disabled&quot;);\n        };\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1680859321,"creation_date":1680859321,"answer_id":75957153,"question_id":30761253,"body_markdown":"A lot of answers here are actually trying to work against Spring Boot instead of working *with* the framework.\r\n\r\nIf you don&#39;t have any local users - because for example authentication is managed exclusively with JWT tokens - just tell Spring Boot so.\r\n\r\nDeclare an empty `UserDetailsService` as part of your `SecurityConfiguration` instead of trying to exclude parts of the auto configuration, or setting an unnecessary default user/password in `application.properties`:\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\nclass SecurityConfiguration {\r\n\r\n   @Bean\r\n   UserDetailsService emptyDetailsService() {\r\n       return username -&gt; { throw new UsernameNotFoundException(&quot;no local users, only JWT tokens allowed&quot;); };\r\n   }\r\n\r\n   // rest of your security config\r\n\r\n}\r\n```","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>A lot of answers here are actually trying to work against Spring Boot instead of working <em>with</em> the framework.</p>\n<p>If you don't have any local users - because for example authentication is managed exclusively with JWT tokens - just tell Spring Boot so.</p>\n<p>Declare an empty <code>UserDetailsService</code> as part of your <code>SecurityConfiguration</code> instead of trying to exclude parts of the auto configuration, or setting an unnecessary default user/password in <code>application.properties</code>:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\nclass SecurityConfiguration {\n\n   @Bean\n   UserDetailsService emptyDetailsService() {\n       return username -&gt; { throw new UsernameNotFoundException(&quot;no local users, only JWT tokens allowed&quot;); };\n   }\n\n   // rest of your security config\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4277860,"reputation":1575,"user_id":3498071,"accept_rate":36,"display_name":"Ali-Alrabi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684832233,"creation_date":1684832233,"answer_id":76312935,"question_id":30761253,"body_markdown":"If you did not implement UserDetailsService interface, you need to exclude SecurityAutoConfiguration\r\n\r\n\r\nImplement UserDetailsService interface\r\n\r\n    @Component\r\n    public class UserDetailsServiceImpl implements UserDetailsService{\r\n\r\n\t@Override\r\n\tpublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\nExclude SecurityAutoConfiguration\r\n\r\n\r\n    @SpringBootApplication(exclude = {SecurityAutoConfiguration.class })\r\n","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>If you did not implement UserDetailsService interface, you need to exclude SecurityAutoConfiguration</p>\n<p>Implement UserDetailsService interface</p>\n<pre><code>@Component\npublic class UserDetailsServiceImpl implements UserDetailsService{\n\n@Override\npublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n    // TODO Auto-generated method stub\n    return null;\n}\n</code></pre>\n<p>Exclude SecurityAutoConfiguration</p>\n<pre><code>@SpringBootApplication(exclude = {SecurityAutoConfiguration.class })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7953735,"reputation":828,"user_id":6003769,"display_name":"Roger Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695577081,"creation_date":1695577081,"answer_id":77168225,"question_id":30761253,"body_markdown":"This thread covers historic versions of Spring Boot, but sadly is the first place that Google wants to take anyone if they want to try and disable the default user/password screen as they develop code. Ideas posted so far may work in part, but are also likely to be tripped up by the fact that more people are likely to be using spring-boot-starter-actuator that also expected the security sub-system to be working.\r\n\r\nBelow is a simple code example that enables permitAll access on any URL requested, with a link to the published blog post that covers the new interface. I hope this saves someone just half the time I have wasted today just trying to view the output of an endpoint.\r\n\r\n    package com.example.demo;\r\n\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n\r\n    // Using Spring Security to disable the default user/password request screen\r\n    //\r\n    // based on the info posted here for code using spring security 5.7 or  higher\r\n    //\r\n    // https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\r\n    //\r\n\r\n    @Configuration\r\n    public class DisableDefaultAuthenticationManager\r\n    {\r\n       @Bean\r\n       public SecurityFilterChain filterChain(HttpSecurity http) throws Exception\r\n       {\r\n          http.authorizeHttpRequests((authz) -&gt; authz.anyRequest().permitAll()); \r\n          return http.build();\r\n       }\r\n}","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>This thread covers historic versions of Spring Boot, but sadly is the first place that Google wants to take anyone if they want to try and disable the default user/password screen as they develop code. Ideas posted so far may work in part, but are also likely to be tripped up by the fact that more people are likely to be using spring-boot-starter-actuator that also expected the security sub-system to be working.</p>\n<p>Below is a simple code example that enables permitAll access on any URL requested, with a link to the published blog post that covers the new interface. I hope this saves someone just half the time I have wasted today just trying to view the output of an endpoint.</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\n\n// Using Spring Security to disable the default user/password request screen\n//\n// based on the info posted here for code using spring security 5.7 or  higher\n//\n// https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\n//\n\n@Configuration\npublic class DisableDefaultAuthenticationManager\n{\n   @Bean\n   public SecurityFilterChain filterChain(HttpSecurity http) throws Exception\n   {\n      http.authorizeHttpRequests((authz) -&gt; authz.anyRequest().permitAll()); \n      return http.build();\n   }\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":1920479,"reputation":7969,"user_id":1732123,"accept_rate":89,"display_name":"Carlos Alberto"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221072,"favorite_count":0,"down_vote_count":0,"up_vote_count":126,"accepted_answer_id":30768011,"answer_count":27,"score":126,"last_activity_date":1695577081,"creation_date":1433951333,"question_id":30761253,"body_markdown":"I added one custom Security Config in my application on Spring Boot, but the message about &quot;Using default security password&quot; is still there in LOG file.\r\n\r\nIs there any to remove it? I do not need this default password. It seems Spring Boot is not recognizing my security policy.\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class CustomSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        private final String uri = &quot;/custom/*&quot;;\r\n    \r\n        @Override\r\n        public void configure(final HttpSecurity http) throws Exception {\r\n            http.csrf().disable();\r\n            http.headers().httpStrictTransportSecurity().disable();\r\n            http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n    \r\n            // Authorize sub-folders permissions\r\n            http.antMatcher(uri).authorizeRequests().anyRequest().permitAll();\r\n        }\r\n    }\r\n\r\n","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>I added one custom Security Config in my application on Spring Boot, but the message about \"Using default security password\" is still there in LOG file.</p>\n\n<p>Is there any to remove it? I do not need this default password. It seems Spring Boot is not recognizing my security policy.</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class CustomSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private final String uri = \"/custom/*\";\n\n    @Override\n    public void configure(final HttpSecurity http) throws Exception {\n        http.csrf().disable();\n        http.headers().httpStrictTransportSecurity().disable();\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        // Authorize sub-folders permissions\n        http.antMatcher(uri).authorizeRequests().anyRequest().permitAll();\n    }\n}\n</code></pre>\n"},{"tags":["java","google-cloud-platform","google-cloud-dataflow","apache-beam"],"answers":[{"tags":[],"owner":{"account_id":22414770,"reputation":668,"user_id":16622985,"display_name":"CaptainNabla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695576172,"creation_date":1695576172,"answer_id":77168178,"question_id":77164430,"body_markdown":"You are trying to use a [schema transform][1]. Such a built-in transform can only be used if all PCollections involved have an associated schema.\r\n\r\nSince I have only worked with the Python SDK I cannot tell you how to define a Beam schema in Java, but you can check the [programming guide][2] for the syntax/definition.\r\n\r\n\r\n  [1]: https://beam.apache.org/documentation/programming-guide/#662-schema-transforms\r\n  [2]: https://beam.apache.org/documentation/programming-guide/#schemas","title":"Cannot call getSchema when there is no schema when join two Pcollections","body":"<p>You are trying to use a <a href=\"https://beam.apache.org/documentation/programming-guide/#662-schema-transforms\" rel=\"nofollow noreferrer\">schema transform</a>. Such a built-in transform can only be used if all PCollections involved have an associated schema.</p>\n<p>Since I have only worked with the Python SDK I cannot tell you how to define a Beam schema in Java, but you can check the <a href=\"https://beam.apache.org/documentation/programming-guide/#schemas\" rel=\"nofollow noreferrer\">programming guide</a> for the syntax/definition.</p>\n"}],"owner":{"account_id":7555053,"reputation":49,"user_id":5735042,"accept_rate":0,"display_name":"DiR95"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695576172,"creation_date":1695493986,"question_id":77164430,"body_markdown":"I hope all is good for you.\r\n\r\nI have two PCollection and I want to apply a leftOuterJoin but when I do this apply, I have this error and I don&#39;t understand why : **java.lang.IllegalStateException: Cannot call getSchema when there is no schema**\r\n\r\n\r\n```\r\nfinal PCollection&lt;ClassA&gt; classA = BigQueryReader.getClassA(pipeline, configuration.getBigQueryOptions());\r\nfinal PCollection&lt;ClassB&gt; classB = BigQueryReader.getClassB(pipeline, configuration.getBigQueryOptions());\r\n\r\nfinal PCollection&lt;Row&gt; join = classA\r\n                .apply(&quot;Apply Join&quot;,\r\n                        Join.&lt;ClassA, ClassB&gt;leftOuterJoin(classB).using(&quot;id1&quot;, &quot;id2&quot;));\r\n\r\n```\r\n\r\nSomeone can help to understand why this error happens.\r\n\r\nThanks a lot.","title":"Cannot call getSchema when there is no schema when join two Pcollections","body":"<p>I hope all is good for you.</p>\n<p>I have two PCollection and I want to apply a leftOuterJoin but when I do this apply, I have this error and I don't understand why : <strong>java.lang.IllegalStateException: Cannot call getSchema when there is no schema</strong></p>\n<pre><code>final PCollection&lt;ClassA&gt; classA = BigQueryReader.getClassA(pipeline, configuration.getBigQueryOptions());\nfinal PCollection&lt;ClassB&gt; classB = BigQueryReader.getClassB(pipeline, configuration.getBigQueryOptions());\n\nfinal PCollection&lt;Row&gt; join = classA\n                .apply(&quot;Apply Join&quot;,\n                        Join.&lt;ClassA, ClassB&gt;leftOuterJoin(classB).using(&quot;id1&quot;, &quot;id2&quot;));\n\n</code></pre>\n<p>Someone can help to understand why this error happens.</p>\n<p>Thanks a lot.</p>\n"},{"tags":["java","eclipse","facebook","facebook-graph-api","facebook-access-token"],"answers":[{"tags":[],"owner":{"account_id":394854,"reputation":73205,"user_id":757508,"display_name":"andyrandy"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1416228193,"creation_date":1416228193,"answer_id":26973013,"question_id":26972729,"body_markdown":"This article in the Facebook docs explains everything you need to know about Access Tokens: https://developers.facebook.com/docs/facebook-login/access-tokens/\r\n\r\nAn App Access Token can be used without User authorization, for every other Token you need authorization: https://developers.facebook.com/docs/facebook-login/v2.2\r\n\r\nI suggest trying one of the third party SDKs for Java: https://developers.facebook.com/docs/other-sdks\r\n\r\nApp Access Tokens are valid forever, Extended Page Tokens too. User Tokens can only be extended to 60 days max, by default they are valid for only 2 hours.","title":"Get facebook access token with java code","body":"<p>This article in the Facebook docs explains everything you need to know about Access Tokens: <a href=\"https://developers.facebook.com/docs/facebook-login/access-tokens/\" rel=\"nofollow\">https://developers.facebook.com/docs/facebook-login/access-tokens/</a></p>\n\n<p>An App Access Token can be used without User authorization, for every other Token you need authorization: <a href=\"https://developers.facebook.com/docs/facebook-login/v2.2\" rel=\"nofollow\">https://developers.facebook.com/docs/facebook-login/v2.2</a></p>\n\n<p>I suggest trying one of the third party SDKs for Java: <a href=\"https://developers.facebook.com/docs/other-sdks\" rel=\"nofollow\">https://developers.facebook.com/docs/other-sdks</a></p>\n\n<p>App Access Tokens are valid forever, Extended Page Tokens too. User Tokens can only be extended to 60 days max, by default they are valid for only 2 hours.</p>\n"}],"owner":{"account_id":4371356,"reputation":31,"user_id":3565671,"accept_rate":25,"display_name":"user3565671"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8063,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695575220,"creation_date":1416227264,"question_id":26972729,"body_markdown":"I have 2 questions:  \r\n\r\n- 1. I am trying to get access token through java code and not through Facebook developers site.\r\nDoes anyone have idea how can I do it?  \r\n\r\n- 2. is it possible to get longer access token that expires after more than 1 hour ?\r\n\r\nI read about some options but not something that is possible to me as simple user in Facebook.\r\n","title":"Get facebook access token with java code","body":"<p>I have 2 questions:  </p>\n\n<ul>\n<li><ol>\n<li>I am trying to get access token through java code and not through Facebook developers site.\nDoes anyone have idea how can I do it?  </li>\n</ol></li>\n<li><ol start=\"2\">\n<li>is it possible to get longer access token that expires after more than 1 hour ?</li>\n</ol></li>\n</ul>\n\n<p>I read about some options but not something that is possible to me as simple user in Facebook.</p>\n"},{"tags":["java","swing","oop","jdbc","jtable"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1695574663,"post_id":77168067,"comment_id":136039544,"body_markdown":"That&#39;s a lot of code to go through. Consider working on isolating the code that causes the bug by creating a [mre] and then posting it here. This is not your entire program, but rather a small representative program that compiles for us, runs for us, and demonstrates the problem for us. The link will explain the details and how and why it is useful for both you and us. Best of luck.","body":"That&#39;s a lot of code to go through. Consider working on isolating the code that causes the bug by creating a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and then posting it here. This is not your entire program, but rather a small representative program that compiles for us, runs for us, and demonstrates the problem for us. The link will explain the details and how and why it is useful for both you and us. Best of luck."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1695590948,"post_id":77168067,"comment_id":136041191,"body_markdown":"You do `DatabaseConnector databaseConnector = new DatabaseConnector(sqlQuery);` and then you do `new DatabaseConnector(&quot;select * from stafflist&quot;, staffTable);` which if I&#39;m be honest, doesn&#39;t make any sense, why do you need a new instance of `DatabaseConnector` to do both those calls.  `if (DatabaseConnector.loginChecker(loginTextField.getText())) {` seems like an anti pattern to me, an instance of `DatabaseConnector` should have been passed to your `StaffLibraryTable` class - AKA dependency injection","body":"You do <code>DatabaseConnector databaseConnector = new DatabaseConnector(sqlQuery);</code> and then you do <code>new DatabaseConnector(&quot;select * from stafflist&quot;, staffTable);</code> which if I&#39;m be honest, doesn&#39;t make any sense, why do you need a new instance of <code>DatabaseConnector</code> to do both those calls.  <code>if (DatabaseConnector.loginChecker(loginTextField.getText())) {</code> seems like an anti pattern to me, an instance of <code>DatabaseConnector</code> should have been passed to your <code>StaffLibraryTable</code> class - AKA dependency injection"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1695591204,"post_id":77168067,"comment_id":136041217,"body_markdown":"Your `DatabaseConnector` class is badly implemented.  First, it should be self contained.  That is, you should pass the credentials via the constructor and the `Connection` should be created or an exception thrown.  If it&#39;s created successfully, then it should be assumed to be in a valid state.  I might also consider using a shutdown hook to close it. You should not be passing in the `JTable` or `TableModel`, instead the instance of `DatabaseConnector` should be passing back an appropriate DTO (ie an object representation of the data), which the caller would then decide what to do with.","body":"Your <code>DatabaseConnector</code> class is badly implemented.  First, it should be self contained.  That is, you should pass the credentials via the constructor and the <code>Connection</code> should be created or an exception thrown.  If it&#39;s created successfully, then it should be assumed to be in a valid state.  I might also consider using a shutdown hook to close it. You should not be passing in the <code>JTable</code> or <code>TableModel</code>, instead the instance of <code>DatabaseConnector</code> should be passing back an appropriate DTO (ie an object representation of the data), which the caller would then decide what to do with."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1695591231,"post_id":77168067,"comment_id":136041219,"body_markdown":"And don&#39;t consume the exceptions, re-throw them - it&#39;s the responsibility of the caller to determine what to do with the errors","body":"And don&#39;t consume the exceptions, re-throw them - it&#39;s the responsibility of the caller to determine what to do with the errors"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1695591341,"post_id":77168067,"comment_id":136041222,"body_markdown":"I would check to see if &quot;auto commit&quot; is enabled or not.  Also, your current workflow will ruin your `TableSorter` once the table model is updated","body":"I would check to see if &quot;auto commit&quot; is enabled or not.  Also, your current workflow will ruin your <code>TableSorter</code> once the table model is updated"}],"answers":[{"tags":[],"owner":{"account_id":2609531,"reputation":1,"user_id":4520292,"display_name":"Arist&#243;teles Machado"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695575037,"creation_date":1695575037,"answer_id":77168105,"question_id":77168067,"body_markdown":"In a method actionPerformed, maybe you forget to fetch results on the database, or nothing change when the session closed.\r\n\r\n\r\n    public DatabaseConnector(String sqlQuery) {\r\n            this();\r\n            try {\r\n                this.preparedStatement = connection.prepareStatement(sqlQuery);\r\n                this.preparedStatement.executeUpdate();\r\n\r\nMaybe you need a line with:\r\n\r\n    this.preparedStatement.commit();\r\n\r\nSee also:\r\nhttps://stackoverflow.com/questions/40785714/what-is-the-best-way-to-rollback-a-statement-execution-failure-in-java-8\r\n","title":"Table is not fetched from mysql database to JTable in Java Swing","body":"<p>In a method actionPerformed, maybe you forget to fetch results on the database, or nothing change when the session closed.</p>\n<pre><code>public DatabaseConnector(String sqlQuery) {\n        this();\n        try {\n            this.preparedStatement = connection.prepareStatement(sqlQuery);\n            this.preparedStatement.executeUpdate();\n</code></pre>\n<p>Maybe you need a line with:</p>\n<pre><code>this.preparedStatement.commit();\n</code></pre>\n<p>See also:\n<a href=\"https://stackoverflow.com/questions/40785714/what-is-the-best-way-to-rollback-a-statement-execution-failure-in-java-8\">What is the best way to rollback() a statement execution failure in Java 8?</a></p>\n"}],"owner":{"account_id":29522941,"reputation":1,"user_id":22625271,"display_name":"Przemysaw Poskrobko"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695575037,"creation_date":1695574451,"question_id":77168067,"body_markdown":"I created a DataConnector Class which connect my program to database. Then I created default constructor DataConnector(), which would be a common part for other parametrized constructor. So I used parametrized constructor databaseConnector(String sqlQuery, JTable table) to fetch a table from mysql database to my program (to class StaffLibraryTable). The problem is when I run program the database is fetched but the second time after adding sth to table a new row doesn&#39;t apear on the screen but there is a new one in database. This is my Class DatabaseConnector:\r\n\r\n```\r\npackage LibraryFiles;\r\n\r\n\r\nimport net.proteanit.sql.DbUtils;\r\nimport javax.swing.*;\r\nimport javax.swing.table.TableModel;\r\nimport java.sql.*;\r\npublic class DatabaseConnector {\r\n    String url = &quot;jdbc:mysql://localhost:3306/librarytest&quot;;\r\n    String uname = &quot;root&quot;;\r\n    String password = &quot;&quot;;\r\n    Connection connection;\r\n    Statement statement;\r\n    PreparedStatement preparedStatement;\r\n    ResultSet resultSet;\r\n    TableModel tableModel;\r\n\r\n    public DatabaseConnector(){\r\n        try {\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            this.connection = DriverManager.getConnection(url, uname, password);\r\n            this.statement = connection.createStatement();\r\n        } catch (ClassNotFoundException | SQLException e) {\r\n            System.out.println(&quot;error in DatabaseConnector()- first part&quot;);\r\n            System.out.println(e.getMessage());\r\n\r\n        }\r\n    }\r\n    public DatabaseConnector(String sqlQuery) {\r\n        this();\r\n        try {\r\n            this.preparedStatement = connection.prepareStatement(sqlQuery);\r\n            this.preparedStatement.executeUpdate();\r\n        } catch (SQLException e) {\r\n            System.out.println(&quot;error in DatabaseConnector(String sqlQuery)-first part&quot;);\r\n            System.out.println(e.getMessage());\r\n            System.out.println(e.getErrorCode());\r\n        } finally {\r\n            try {\r\n                if (this.connection != null) {\r\n                    this.connection.close();\r\n                    this.statement.close();\r\n                }\r\n            } catch (SQLException e) {\r\n                System.out.println(&quot;error in DatabaseConnector(String sqlQuery)- second part&quot;);\r\n                System.out.println(e.getMessage());\r\n            }\r\n        }\r\n\r\n    }\r\n    public DatabaseConnector(String sqlQuery, TableModel tableModel) {\r\n        this();\r\n        try{\r\n            resultSet = statement.executeQuery(sqlQuery);\r\n            this.tableModel = tableModel;\r\n        } catch (SQLException e) {\r\n                System.out.println(&quot;error in DatabaseConnector(String sqlQuery, TableModel      tableModel)- first part&quot;);\r\n            System.out.println(e.getMessage());\r\n        } finally {\r\n            try {\r\n                if (this.connection != null) {\r\n                    this.connection.close();\r\n                    this.statement.close();\r\n                }\r\n            } catch (SQLException e) {\r\n                System.out.println(&quot;error in DatabaseConnector(String sqlQuery, TableModel tableModel)- second part&quot;);\r\n                System.out.println(e.getMessage());\r\n            }\r\n        }\r\n    }\r\n    public static  TableModel generateTableModelStaffTable(){\r\n        TableModel tableModel1 = null;\r\n        DatabaseConnector databaseConnector = new DatabaseConnector(&quot;select * from stafflist&quot;, tableModel1);\r\n        return tableModel1;\r\n    }\r\n\r\n\r\n    public DatabaseConnector(String sqlQuery, JTable table) {\r\n        try{\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            connection = DriverManager.getConnection(url, uname, password);\r\n            statement = connection.createStatement();\r\n            resultSet = statement.executeQuery(sqlQuery);\r\n            if (!resultSet.next()) System.out.println(&quot;result set is empty&quot;);\r\n            tableModel = DbUtils.resultSetToTableModel(resultSet);\r\n            table.setModel(tableModel);\r\n        } catch (ClassNotFoundException | SQLException e) {\r\n            System.out.println(&quot;error in DatabaseConnector(String sqlQuery, JTable table) - first part&quot;);\r\n            System.out.println(e.getMessage());\r\n        } finally {\r\n            try {\r\n                if (this.connection != null) {\r\n                    this.connection.close();\r\n                    this.statement.close();\r\n                }\r\n            } catch (SQLException e) {\r\n                System.out.println(&quot;error in DatabaseConnector(String sqlQuery, JTable table) - second part&quot;);\r\n                System.out.println(e.getMessage());\r\n            }\r\n        }\r\n    }\r\n    static boolean loginChecker (String providedLoggin){\r\n        boolean wynik = true;\r\n        try {\r\n            DatabaseConnector databaseConnector = new DatabaseConnector();\r\n            String sqlQuery = String.format(&quot;select * from loggintable where login = &#39;%s&#39;&quot;, providedLoggin);\r\n            databaseConnector.resultSet = databaseConnector.statement.executeQuery(sqlQuery);\r\n            if(databaseConnector.resultSet.next()) wynik = false;\r\n        } catch (SQLException e) {\r\n            System.out.println(&quot;error in LoginChecker&quot;);\r\n            System.out.println(e.getMessage());\r\n        }\r\n        return wynik;\r\n    }\r\n    static boolean logginService(String providedLoggin,String providedPassword){\r\n        boolean isValidPassword = false;\r\n        DatabaseConnector databaseConnector = new DatabaseConnector();\r\n        try {\r\n            String sqlQuery = String.format(&quot;select * from loggintable where login = &#39;%s&#39; AND password = &#39;%s&#39;&quot;, providedLoggin, providedPassword);\r\n            databaseConnector.resultSet = databaseConnector.statement.executeQuery(sqlQuery);\r\n            if(databaseConnector.resultSet.next()) {\r\n                isValidPassword = true;\r\n            }\r\n            else{\r\n                JOptionPane.showMessageDialog(null, &quot;Zy login lub haso&quot;);\r\n                isValidPassword = false;\r\n            }\r\n        } catch (SQLException e) {\r\n            System.out.println(&quot;error in LoginService&quot;);\r\n            System.out.println(e.getMessage());\r\n        }finally {\r\n            try {\r\n                if (databaseConnector.connection != null) {\r\n                    databaseConnector.connection.close();\r\n                    databaseConnector.statement.close();\r\n                }\r\n            } catch (SQLException e) {\r\n                System.out.println(&quot;error in DatabaseConnector(String sqlQuery, JTable table) - second part&quot;);\r\n                System.out.println(e.getMessage());\r\n            }\r\n        }\r\n        return isValidPassword;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd this is a class where I create a DatabaseConnector object to update myJTable :\r\n\r\n```\r\nPackage LibraryFiles;\r\n\r\n\r\nimport javax.swing.*;\r\nimport javax.swing.event.DocumentEvent;\r\nimport javax.swing.event.DocumentListener;\r\nimport javax.swing.table.TableModel;\r\nimport javax.swing.table.TableRowSorter;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\n\r\npublic class StaffLibraryTable {\r\n    private JPanel mainPanel, leftBottomPanel, rightPanel, leftPanel;\r\n    private JTable staffTable;\r\n    private JTextField idWorkerTextField, nameTextField, surnameTextField, addressTextField, postcodeTextField, cityTextField, searchTextField, loginTextField;\r\n    private JButton addButton, updateButton, deleteButton, clearButton;\r\n    private JPasswordField passwordTextField;\r\n\r\n    private JScrollPane scrolPane;\r\n    private JComboBox statusComboBox;\r\n    private JLabel searchLabel,loginLabel, passwordLabel;\r\n\r\n    public StaffLibraryTable() {\r\n        JFrame frame = new JFrame(&quot;Staff&quot;);\r\n        frame.setContentPane(mainPanel);\r\n        frame.setVisible(true);\r\n        frame.setSize(900,800);\r\n        new DatabaseConnector(&quot;select * from stafflist&quot;, staffTable);\r\n        frame.pack();\r\n        TableRowSorter rowSorter = new TableRowSorter(staffTable.getModel());\r\n        staffTable.setRowSorter(rowSorter);\r\n\r\n        searchTextField.getDocument().addDocumentListener(new DocumentListener() {\r\n            @Override\r\n            public void insertUpdate(DocumentEvent e) {\r\n                String text = searchTextField.getText();\r\n                if(!text.trim().equals(0)){\r\n                    rowSorter.setRowFilter(RowFilter.regexFilter(String.format(&quot;.*^%s.*$&quot;,text)));\r\n                }\r\n            }\r\n            @Override\r\n            public void removeUpdate(DocumentEvent e) {\r\n                String text = searchTextField.getText();\r\n                if(!text.trim().equals(0)){\r\n                    rowSorter.setRowFilter(RowFilter.regexFilter(String.format(&quot;.*^%s.*$&quot;,text)));\r\n                }\r\n            }\r\n            @Override\r\n            public void changedUpdate(DocumentEvent e) {\r\n            }\r\n        });\r\n        staffTable.addMouseListener(new MouseAdapter() {\r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {\r\n                int selectedRow = staffTable.getSelectedRow();\r\n                TableModel tableModel = staffTable.getModel();\r\n                nameTextField.setText((String) tableModel.getValueAt(selectedRow,1));\r\n                surnameTextField.setText((String) tableModel.getValueAt(selectedRow,2));\r\n                addressTextField.setText((String) tableModel.getValueAt(selectedRow,3));\r\n                postcodeTextField.setText((String) tableModel.getValueAt(selectedRow,4));\r\n                cityTextField.setText((String) tableModel.getValueAt(selectedRow,5));\r\n                loginTextField.setText((String) tableModel.getValueAt(selectedRow,6));\r\n            }\r\n        });\r\n\r\n        addButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n\r\n                if (DatabaseConnector.loginChecker(loginTextField.getText())) {\r\n                    if (idWorkerTextField.getText().equals(null) | idWorkerTextField.getText().equals(&quot;&quot;)){\r\n                        String name = nameTextField.getText();\r\n                        String surname = surnameTextField.getText();\r\n                        String address = addressTextField.getText();\r\n                        String postcode = postcodeTextField.getText();\r\n                        String city = cityTextField.getText();\r\n                        String login = loginTextField.getText();\r\n                        String status = statusComboBox.getSelectedItem().toString();\r\n\r\n                        String sqlQuery = String.format(&quot;insert into stafflist&quot; +\r\n                                &quot;(`name`, `surname`, `address`, `postcode`, `city`,`login`) VALUES (&#39;%s&#39;, &#39;%s&#39;, &#39;%s&#39;, &#39;%s&#39;, &#39;%s&#39;, &#39;%s&#39;)&quot;, name, surname, address, postcode,\r\n                                city, login);\r\n                        DatabaseConnector databaseConnector = new DatabaseConnector(sqlQuery);\r\n                        JOptionPane.showMessageDialog(null, &quot;Dodano pracownika&quot;);\r\n                        idWorkerTextField.setText(&quot;&quot;);\r\n                        nameTextField.setText(&quot;&quot;);\r\n                        surnameTextField.setText(&quot;&quot;);\r\n                        addressTextField.setText(&quot;&quot;);\r\n                        postcodeTextField.setText(&quot;&quot;);\r\n                        cityTextField.setText(&quot;&quot;);\r\n                        loginTextField.setText(&quot;&quot;);\r\n                        nameTextField.requestFocus();\r\n                        new DatabaseConnector(&quot;select * from stafflist&quot;, staffTable);\r\n                    }\r\n                    else{\r\n                        JOptionPane.showMessageDialog(null, &quot;Wcinij przycisk Clear  przygotowa miejsce na nowy wpis&quot;);\r\n                    }\r\n                } else {\r\n                    JOptionPane.showMessageDialog(null, &quot;Podany login jest ju zajty&quot;);\r\n\r\n                }\r\n            }\r\n        });\r\n        clearButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                idWorkerTextField.setText(&quot;&quot;);\r\n                nameTextField.setText(&quot;&quot;);\r\n                surnameTextField.setText(&quot;&quot;);\r\n                addressTextField.setText(&quot;&quot;);\r\n                postcodeTextField.setText(&quot;&quot;);\r\n                cityTextField.setText(&quot;&quot;);\r\n                loginTextField.setText(&quot;&quot;);\r\n                nameTextField.requestFocus();\r\n            }\r\n        });\r\n        addButton.addMouseListener(new MouseAdapter() {\r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {\r\n\r\n            }\r\n        });\r\n    }\r\n        public static void main (String[]args){\r\n            new StaffLibraryTable();\r\n        }\r\n```\r\n\r\nI expected my program to add new row to JTable directly after hitting a button &quot;add&quot;, so I can see a change in JTable which is on the screen. I used Intelij to do this program. Any ideas to solve this? thank You in advance","title":"Table is not fetched from mysql database to JTable in Java Swing","body":"<p>I created a DataConnector Class which connect my program to database. Then I created default constructor DataConnector(), which would be a common part for other parametrized constructor. So I used parametrized constructor databaseConnector(String sqlQuery, JTable table) to fetch a table from mysql database to my program (to class StaffLibraryTable). The problem is when I run program the database is fetched but the second time after adding sth to table a new row doesn't apear on the screen but there is a new one in database. This is my Class DatabaseConnector:</p>\n<pre><code>package LibraryFiles;\n\n\nimport net.proteanit.sql.DbUtils;\nimport javax.swing.*;\nimport javax.swing.table.TableModel;\nimport java.sql.*;\npublic class DatabaseConnector {\n    String url = &quot;jdbc:mysql://localhost:3306/librarytest&quot;;\n    String uname = &quot;root&quot;;\n    String password = &quot;&quot;;\n    Connection connection;\n    Statement statement;\n    PreparedStatement preparedStatement;\n    ResultSet resultSet;\n    TableModel tableModel;\n\n    public DatabaseConnector(){\n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            this.connection = DriverManager.getConnection(url, uname, password);\n            this.statement = connection.createStatement();\n        } catch (ClassNotFoundException | SQLException e) {\n            System.out.println(&quot;error in DatabaseConnector()- first part&quot;);\n            System.out.println(e.getMessage());\n\n        }\n    }\n    public DatabaseConnector(String sqlQuery) {\n        this();\n        try {\n            this.preparedStatement = connection.prepareStatement(sqlQuery);\n            this.preparedStatement.executeUpdate();\n        } catch (SQLException e) {\n            System.out.println(&quot;error in DatabaseConnector(String sqlQuery)-first part&quot;);\n            System.out.println(e.getMessage());\n            System.out.println(e.getErrorCode());\n        } finally {\n            try {\n                if (this.connection != null) {\n                    this.connection.close();\n                    this.statement.close();\n                }\n            } catch (SQLException e) {\n                System.out.println(&quot;error in DatabaseConnector(String sqlQuery)- second part&quot;);\n                System.out.println(e.getMessage());\n            }\n        }\n\n    }\n    public DatabaseConnector(String sqlQuery, TableModel tableModel) {\n        this();\n        try{\n            resultSet = statement.executeQuery(sqlQuery);\n            this.tableModel = tableModel;\n        } catch (SQLException e) {\n                System.out.println(&quot;error in DatabaseConnector(String sqlQuery, TableModel      tableModel)- first part&quot;);\n            System.out.println(e.getMessage());\n        } finally {\n            try {\n                if (this.connection != null) {\n                    this.connection.close();\n                    this.statement.close();\n                }\n            } catch (SQLException e) {\n                System.out.println(&quot;error in DatabaseConnector(String sqlQuery, TableModel tableModel)- second part&quot;);\n                System.out.println(e.getMessage());\n            }\n        }\n    }\n    public static  TableModel generateTableModelStaffTable(){\n        TableModel tableModel1 = null;\n        DatabaseConnector databaseConnector = new DatabaseConnector(&quot;select * from stafflist&quot;, tableModel1);\n        return tableModel1;\n    }\n\n\n    public DatabaseConnector(String sqlQuery, JTable table) {\n        try{\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            connection = DriverManager.getConnection(url, uname, password);\n            statement = connection.createStatement();\n            resultSet = statement.executeQuery(sqlQuery);\n            if (!resultSet.next()) System.out.println(&quot;result set is empty&quot;);\n            tableModel = DbUtils.resultSetToTableModel(resultSet);\n            table.setModel(tableModel);\n        } catch (ClassNotFoundException | SQLException e) {\n            System.out.println(&quot;error in DatabaseConnector(String sqlQuery, JTable table) - first part&quot;);\n            System.out.println(e.getMessage());\n        } finally {\n            try {\n                if (this.connection != null) {\n                    this.connection.close();\n                    this.statement.close();\n                }\n            } catch (SQLException e) {\n                System.out.println(&quot;error in DatabaseConnector(String sqlQuery, JTable table) - second part&quot;);\n                System.out.println(e.getMessage());\n            }\n        }\n    }\n    static boolean loginChecker (String providedLoggin){\n        boolean wynik = true;\n        try {\n            DatabaseConnector databaseConnector = new DatabaseConnector();\n            String sqlQuery = String.format(&quot;select * from loggintable where login = '%s'&quot;, providedLoggin);\n            databaseConnector.resultSet = databaseConnector.statement.executeQuery(sqlQuery);\n            if(databaseConnector.resultSet.next()) wynik = false;\n        } catch (SQLException e) {\n            System.out.println(&quot;error in LoginChecker&quot;);\n            System.out.println(e.getMessage());\n        }\n        return wynik;\n    }\n    static boolean logginService(String providedLoggin,String providedPassword){\n        boolean isValidPassword = false;\n        DatabaseConnector databaseConnector = new DatabaseConnector();\n        try {\n            String sqlQuery = String.format(&quot;select * from loggintable where login = '%s' AND password = '%s'&quot;, providedLoggin, providedPassword);\n            databaseConnector.resultSet = databaseConnector.statement.executeQuery(sqlQuery);\n            if(databaseConnector.resultSet.next()) {\n                isValidPassword = true;\n            }\n            else{\n                JOptionPane.showMessageDialog(null, &quot;Zy login lub haso&quot;);\n                isValidPassword = false;\n            }\n        } catch (SQLException e) {\n            System.out.println(&quot;error in LoginService&quot;);\n            System.out.println(e.getMessage());\n        }finally {\n            try {\n                if (databaseConnector.connection != null) {\n                    databaseConnector.connection.close();\n                    databaseConnector.statement.close();\n                }\n            } catch (SQLException e) {\n                System.out.println(&quot;error in DatabaseConnector(String sqlQuery, JTable table) - second part&quot;);\n                System.out.println(e.getMessage());\n            }\n        }\n        return isValidPassword;\n    }\n\n}\n</code></pre>\n<p>And this is a class where I create a DatabaseConnector object to update myJTable :</p>\n<pre><code>Package LibraryFiles;\n\n\nimport javax.swing.*;\nimport javax.swing.event.DocumentEvent;\nimport javax.swing.event.DocumentListener;\nimport javax.swing.table.TableModel;\nimport javax.swing.table.TableRowSorter;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\n\npublic class StaffLibraryTable {\n    private JPanel mainPanel, leftBottomPanel, rightPanel, leftPanel;\n    private JTable staffTable;\n    private JTextField idWorkerTextField, nameTextField, surnameTextField, addressTextField, postcodeTextField, cityTextField, searchTextField, loginTextField;\n    private JButton addButton, updateButton, deleteButton, clearButton;\n    private JPasswordField passwordTextField;\n\n    private JScrollPane scrolPane;\n    private JComboBox statusComboBox;\n    private JLabel searchLabel,loginLabel, passwordLabel;\n\n    public StaffLibraryTable() {\n        JFrame frame = new JFrame(&quot;Staff&quot;);\n        frame.setContentPane(mainPanel);\n        frame.setVisible(true);\n        frame.setSize(900,800);\n        new DatabaseConnector(&quot;select * from stafflist&quot;, staffTable);\n        frame.pack();\n        TableRowSorter rowSorter = new TableRowSorter(staffTable.getModel());\n        staffTable.setRowSorter(rowSorter);\n\n        searchTextField.getDocument().addDocumentListener(new DocumentListener() {\n            @Override\n            public void insertUpdate(DocumentEvent e) {\n                String text = searchTextField.getText();\n                if(!text.trim().equals(0)){\n                    rowSorter.setRowFilter(RowFilter.regexFilter(String.format(&quot;.*^%s.*$&quot;,text)));\n                }\n            }\n            @Override\n            public void removeUpdate(DocumentEvent e) {\n                String text = searchTextField.getText();\n                if(!text.trim().equals(0)){\n                    rowSorter.setRowFilter(RowFilter.regexFilter(String.format(&quot;.*^%s.*$&quot;,text)));\n                }\n            }\n            @Override\n            public void changedUpdate(DocumentEvent e) {\n            }\n        });\n        staffTable.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                int selectedRow = staffTable.getSelectedRow();\n                TableModel tableModel = staffTable.getModel();\n                nameTextField.setText((String) tableModel.getValueAt(selectedRow,1));\n                surnameTextField.setText((String) tableModel.getValueAt(selectedRow,2));\n                addressTextField.setText((String) tableModel.getValueAt(selectedRow,3));\n                postcodeTextField.setText((String) tableModel.getValueAt(selectedRow,4));\n                cityTextField.setText((String) tableModel.getValueAt(selectedRow,5));\n                loginTextField.setText((String) tableModel.getValueAt(selectedRow,6));\n            }\n        });\n\n        addButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n\n                if (DatabaseConnector.loginChecker(loginTextField.getText())) {\n                    if (idWorkerTextField.getText().equals(null) | idWorkerTextField.getText().equals(&quot;&quot;)){\n                        String name = nameTextField.getText();\n                        String surname = surnameTextField.getText();\n                        String address = addressTextField.getText();\n                        String postcode = postcodeTextField.getText();\n                        String city = cityTextField.getText();\n                        String login = loginTextField.getText();\n                        String status = statusComboBox.getSelectedItem().toString();\n\n                        String sqlQuery = String.format(&quot;insert into stafflist&quot; +\n                                &quot;(`name`, `surname`, `address`, `postcode`, `city`,`login`) VALUES ('%s', '%s', '%s', '%s', '%s', '%s')&quot;, name, surname, address, postcode,\n                                city, login);\n                        DatabaseConnector databaseConnector = new DatabaseConnector(sqlQuery);\n                        JOptionPane.showMessageDialog(null, &quot;Dodano pracownika&quot;);\n                        idWorkerTextField.setText(&quot;&quot;);\n                        nameTextField.setText(&quot;&quot;);\n                        surnameTextField.setText(&quot;&quot;);\n                        addressTextField.setText(&quot;&quot;);\n                        postcodeTextField.setText(&quot;&quot;);\n                        cityTextField.setText(&quot;&quot;);\n                        loginTextField.setText(&quot;&quot;);\n                        nameTextField.requestFocus();\n                        new DatabaseConnector(&quot;select * from stafflist&quot;, staffTable);\n                    }\n                    else{\n                        JOptionPane.showMessageDialog(null, &quot;Wcinij przycisk Clear  przygotowa miejsce na nowy wpis&quot;);\n                    }\n                } else {\n                    JOptionPane.showMessageDialog(null, &quot;Podany login jest ju zajty&quot;);\n\n                }\n            }\n        });\n        clearButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                idWorkerTextField.setText(&quot;&quot;);\n                nameTextField.setText(&quot;&quot;);\n                surnameTextField.setText(&quot;&quot;);\n                addressTextField.setText(&quot;&quot;);\n                postcodeTextField.setText(&quot;&quot;);\n                cityTextField.setText(&quot;&quot;);\n                loginTextField.setText(&quot;&quot;);\n                nameTextField.requestFocus();\n            }\n        });\n        addButton.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n\n            }\n        });\n    }\n        public static void main (String[]args){\n            new StaffLibraryTable();\n        }\n</code></pre>\n<p>I expected my program to add new row to JTable directly after hitting a button &quot;add&quot;, so I can see a change in JTable which is on the screen. I used Intelij to do this program. Any ideas to solve this? thank You in advance</p>\n"},{"tags":["java","spring","spring-boot","yaml","config"],"comments":[{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1688958234,"post_id":76648307,"comment_id":135139637,"body_markdown":"Just a design advice (if possible in your case): use keys without special chars, maybe something like `fruits-and-vegetables`. And although string literals may be better supported in yml than in properties, often it&#39;s better to enquote them as well.","body":"Just a design advice (if possible in your case): use keys without special chars, maybe something like <code>fruits-and-vegetables</code>. And although string literals may be better supported in yml than in properties, often it&#39;s better to enquote them as well."},{"owner":{"account_id":19936439,"reputation":19,"user_id":14609002,"display_name":"Trex"},"score":0,"creation_date":1689000043,"post_id":76648307,"comment_id":135147421,"body_markdown":"@Slevin i know this, but unfortunately i need this exact naming conventions so i was looking around to know if there is any encoding for application.yml files or any conventions","body":"@Slevin i know this, but unfortunately i need this exact naming conventions so i was looking around to know if there is any encoding for application.yml files or any conventions"}],"answers":[{"tags":[],"owner":{"account_id":4417671,"reputation":89,"user_id":3598740,"accept_rate":83,"display_name":"Axtract"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695574759,"creation_date":1695574759,"answer_id":77168088,"question_id":76648307,"body_markdown":"I&#39;ve done some research on this for you. There is a variety of solutions to your question. \r\n\r\nYou can quote the entier key, by enclosing it in single or double quotes: \r\n\r\n`&#39;citrus: fruits &amp; vegetables&#39;: something&#39;`\r\n\r\nOr you can use square brackets, as you have said in your question: \r\n\r\n`[citrus: fruits &amp; vegetables]: something`\r\n\r\nUsing quotes is more common, and widely recognised. It ensures the entire string is treated as the key without any special processing of the characters within it. ","title":"Is there any need of encoding for the keys in application.yml","body":"<p>I've done some research on this for you. There is a variety of solutions to your question.</p>\n<p>You can quote the entier key, by enclosing it in single or double quotes:</p>\n<p><code>'citrus: fruits &amp; vegetables': something'</code></p>\n<p>Or you can use square brackets, as you have said in your question:</p>\n<p><code>[citrus: fruits &amp; vegetables]: something</code></p>\n<p>Using quotes is more common, and widely recognised. It ensures the entire string is treated as the key without any special processing of the characters within it.</p>\n"}],"owner":{"account_id":19936439,"reputation":19,"user_id":14609002,"display_name":"Trex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1695574759,"creation_date":1688917951,"question_id":76648307,"body_markdown":"I need to have a compound name as a key in my application.yml. For example: \r\n\r\ncitrus:\r\n   fruits &amp; vegetables: something\r\n\r\nAnd I need to know if it needs any specific encoding or it will work by simply &#39;fruits &amp; vegetables&#39; or I need to escaped the &amp; because fruits &amp; vegetables does not work. \r\n\r\nI found the solution, you must see what spring boot version you use for me it worked to use &quot;[fruits &amp; vegetables]&quot;\r\n","title":"Is there any need of encoding for the keys in application.yml","body":"<p>I need to have a compound name as a key in my application.yml. For example:</p>\n<p>citrus:\nfruits &amp; vegetables: something</p>\n<p>And I need to know if it needs any specific encoding or it will work by simply 'fruits &amp; vegetables' or I need to escaped the &amp; because fruits &amp; vegetables does not work.</p>\n<p>I found the solution, you must see what spring boot version you use for me it worked to use &quot;[fruits &amp; vegetables]&quot;</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","aop"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1695574722,"post_id":77168061,"comment_id":136039552,"body_markdown":"u haven&#39;t said what exactly is lacking in the AOP approach? What criteria would allow for &quot;genericity&quot; that you are looking for? Every single possible mutation point in the whole application is a tall order, perhaps start with satisfying a specific use case and add as your requirements grow?","body":"u haven&#39;t said what exactly is lacking in the AOP approach? What criteria would allow for &quot;genericity&quot; that you are looking for? Every single possible mutation point in the whole application is a tall order, perhaps start with satisfying a specific use case and add as your requirements grow?"},{"owner":{"account_id":11297354,"reputation":173,"user_id":8284457,"display_name":"Sangeetharaj"},"score":0,"creation_date":1695796213,"post_id":77168061,"comment_id":136070352,"body_markdown":"If you are looking for JPA to update only modified field of an entity, try @DynamicUpdate(true). This will generate update query for only modified fields","body":"If you are looking for JPA to update only modified field of an entity, try @DynamicUpdate(true). This will generate update query for only modified fields"}],"owner":{"account_id":19936439,"reputation":19,"user_id":14609002,"display_name":"Trex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695574615,"creation_date":1695574289,"question_id":77168061,"body_markdown":"I was looking around to find what it is the best solution regarding observing changes of the fields of an entity. I want something generic and maybe to be used in other application in the future ( i was thinking of building a lib).\r\nSome of the solution i found were:\r\n\r\n- AOP:\r\n```java\r\n@Aspect\r\npublic class AuditAnnotationAspect {\r\n\r\n        @Autowired\r\n        private EntityManager entityManager;\r\n    \r\n        @Before(&quot;execution(* com.publicis.sapient.engagement.app.repository.RoleRepository.save(..)) &amp;&amp; args(newRole)&quot;)\r\n        public void before(Role newRole) {\r\n            Role currentRole = entityManager.find(Role.class, newRole.getId());\r\n        }\r\n\r\n}\r\n```\r\n- Field Listener:\r\n  https://stackoverflow.com/questions/16955588/java-object-changed-fields-listener-design-pattern\r\n\r\n- Hibernate Envers\r\n\r\n- Hibernate Interceptors\r\n\r\nBut none of them seem to give me the genericity i am looking for, maybe there are still ideas that i have not found.","title":"What is the most generic solution to look after changes of the fields of an entity in Java?","body":"<p>I was looking around to find what it is the best solution regarding observing changes of the fields of an entity. I want something generic and maybe to be used in other application in the future ( i was thinking of building a lib).\nSome of the solution i found were:</p>\n<ul>\n<li>AOP:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\npublic class AuditAnnotationAspect {\n\n        @Autowired\n        private EntityManager entityManager;\n    \n        @Before(&quot;execution(* com.publicis.sapient.engagement.app.repository.RoleRepository.save(..)) &amp;&amp; args(newRole)&quot;)\n        public void before(Role newRole) {\n            Role currentRole = entityManager.find(Role.class, newRole.getId());\n        }\n\n}\n</code></pre>\n<ul>\n<li><p>Field Listener:\n<a href=\"https://stackoverflow.com/questions/16955588/java-object-changed-fields-listener-design-pattern\">Java object, changed fields listener, design-pattern</a></p>\n</li>\n<li><p>Hibernate Envers</p>\n</li>\n<li><p>Hibernate Interceptors</p>\n</li>\n</ul>\n<p>But none of them seem to give me the genericity i am looking for, maybe there are still ideas that i have not found.</p>\n"},{"tags":["java","windows","command"],"comments":[{"owner":{"account_id":86297,"reputation":23984,"user_id":240078,"accept_rate":58,"display_name":"Vikdor"},"score":1,"creation_date":1351994384,"post_id":13215348,"comment_id":17996655,"body_markdown":"http://support.microsoft.com/kb/110930","body":"<a href=\"http://support.microsoft.com/kb/110930\" rel=\"nofollow noreferrer\">support.microsoft.com/kb/110930</a>"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1351994564,"post_id":13215348,"comment_id":17996693,"body_markdown":"*&quot;i have googled my heart out!&quot;* Better to mention 1) What search terms were used. 2) Some of the top links found on those terms. 3) Why they did not suit the need.","body":"<i>&quot;i have googled my heart out!&quot;</i> Better to mention 1) What search terms were used. 2) Some of the top links found on those terms. 3) Why they did not suit the need."}],"answers":[{"tags":[],"owner":{"account_id":1968345,"reputation":3866,"user_id":1767992,"display_name":"thedayofcondor"},"down_vote_count":1,"up_vote_count":35,"is_accepted":true,"score":34,"last_activity_date":1351994816,"creation_date":1351994816,"answer_id":13215395,"question_id":13215348,"body_markdown":"Use:\r\n\r\n    java -jar class.jar &lt;someFile.file&gt; 2&gt;&gt; log.txt\r\n\r\nThe 2 redirects the error stream.","title":"How to output java -jar errors to a text/log file?","body":"<p>Use:</p>\n\n<pre><code>java -jar class.jar &lt;someFile.file&gt; 2&gt;&gt; log.txt\n</code></pre>\n\n<p>The 2 redirects the error stream.</p>\n"},{"tags":[],"owner":{"account_id":1202807,"reputation":1243,"user_id":1173113,"accept_rate":71,"display_name":"Waqas Memon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1386142118,"creation_date":1386142118,"answer_id":20369518,"question_id":13215348,"body_markdown":"or you can use bat file to easily direct all output to a text file \r\nin command prompt \r\n\r\nC:\\&gt; something.bat &gt; console_output.txt","title":"How to output java -jar errors to a text/log file?","body":"<p>or you can use bat file to easily direct all output to a text file \nin command prompt </p>\n\n<p>C:> something.bat > console_output.txt</p>\n"},{"tags":[],"owner":{"account_id":5566746,"reputation":149,"user_id":4413747,"accept_rate":0,"display_name":"Yasin Fatullayev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695574573,"creation_date":1695574573,"answer_id":77168075,"question_id":13215348,"body_markdown":"Try to do it like this to running it background   \r\n\r\n    javaw -jar yourjarfile.jar &gt;&gt;yourlogfile.txt 2&gt;&amp;1\r\n\r\nTry the one below if you want to run it on cmd session. \r\n\r\n    java -jar yourjarfile.jar &gt;&gt;yourlogfile.txt 2&gt;&amp;1\r\n\r\n","title":"How to output java -jar errors to a text/log file?","body":"<p>Try to do it like this to running it background</p>\n<pre><code>javaw -jar yourjarfile.jar &gt;&gt;yourlogfile.txt 2&gt;&amp;1\n</code></pre>\n<p>Try the one below if you want to run it on cmd session.</p>\n<pre><code>java -jar yourjarfile.jar &gt;&gt;yourlogfile.txt 2&gt;&amp;1\n</code></pre>\n"}],"owner":{"account_id":1310284,"reputation":1766,"user_id":1258407,"accept_rate":59,"display_name":"Seth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44266,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"accepted_answer_id":13215395,"answer_count":3,"score":14,"last_activity_date":1695574573,"creation_date":1351994275,"question_id":13215348,"body_markdown":"i have googled my heart out! I am trying to figure out how to output any errors a java class might give when executing java from the Windows command line. \r\n\r\nFor instance\r\n\r\n    java -jar class.jar &lt;someFile.file&gt;\r\n\r\nif that line throws any errors, i want them to be stored into a text file for later reviewing. \r\n\r\nI tried\r\n\r\n    java -jar class.jar &lt;someFile.file&gt; &gt;&gt; log.txt\r\n\r\nBut despite throwing errors the log.txt file is empty.\r\n\r\nThanks all!","title":"How to output java -jar errors to a text/log file?","body":"<p>i have googled my heart out! I am trying to figure out how to output any errors a java class might give when executing java from the Windows command line. </p>\n\n<p>For instance</p>\n\n<pre><code>java -jar class.jar &lt;someFile.file&gt;\n</code></pre>\n\n<p>if that line throws any errors, i want them to be stored into a text file for later reviewing. </p>\n\n<p>I tried</p>\n\n<pre><code>java -jar class.jar &lt;someFile.file&gt; &gt;&gt; log.txt\n</code></pre>\n\n<p>But despite throwing errors the log.txt file is empty.</p>\n\n<p>Thanks all!</p>\n"},{"tags":["java","spring-boot","docker","microservices","netflix-eureka"],"owner":{"account_id":24477341,"reputation":1,"user_id":18396236,"display_name":"Abhay Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695574125,"creation_date":1695574009,"question_id":77168036,"body_markdown":"I have a sales-order-service which makes call to item-service, I am using resttemplate to make the call and the url is `http://item-service/item?name=` but i am getting the following error: \r\n\r\n```\r\n2023-09-23 18:47:31 2023-09-23 13:17:31.244  WARN 1 --- [io-9003-exec-10] .c.RetryAwareServiceInstanceListSupplier : No instances found after removing previously used service instance from the search ([EurekaServiceInstance@46d0eb66 instance = InstanceInfo [instanceId = 8425295e5cad:item-service:9001, appName = ITEM-SERVICE, hostName = localhost, status = UP, ipAddr = 172.18.0.5, port = 9001, securePort = 443, dataCenterInfo = com.netflix.appinfo.MyDataCenterInfo@258b098e]). Returning all found instances.\r\n2023-09-23 18:47:31 2023-09-23 13:17:31.259 ERROR 1 --- [io-9003-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://item-service/item&quot;: Connection refused; nested exception is java.net.ConnectException: Connection refused] with root cause\r\n2023-09-23 18:47:31 \r\n2023-09-23 18:47:31 java.net.ConnectException: Connection refused\r\n2023-09-23 18:47:31     at java.base/sun.nio.ch.Net.connect0(Native Method) ~[na:na]\r\n2023-09-23 18:47:31     at java.base/sun.nio.ch.Net.connect(Net.java:579) ~[na:na]\r\n2023-09-23 18:47:31     at java.base/sun.nio.ch.Net.connect(Net.java:568) ~[na:na]\r\n2023-09-23 18:47:31     at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593) ~[na:na]\r\n2023-09-23 18:47:31     at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]\r\n2023-09-23 18:47:31     at java.base/java.net.Socket.connect(Socket.java:583) ~[na:na]\r\n2023-09-23 18:47:31     at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:183) ~[na:na]\r\n2023-09-23 18:47:31     at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:533) ~[na:na]\r\n2023-09-23 18:47:31     at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:638) ~[na:na]\r\n2023-09-23 18:47:31     at java.base/sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:281) ~[na:na]\r\n2023-09-23 18:47:31     at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386) ~[na:na]\r\n2023-09-23 18:47:31     at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408) ~[na:na]\r\n2023-09-23 18:47:31     at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1309) ~[na:na]\r\n2023-09-23 18:47:31     at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242) ~[na:na]\r\n2023-09-23 18:47:31     at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128) ~[na:na]\r\n```\r\n\r\nFYI I am only getting this error when running services on docker, but when i am running them without it this error does not occur. sales order and item service instances both are registered with eureka \r\n\r\nI have tried changing the name of docker container as it was same as the application name to which i am making the call thinking it might be causing some conflict but that also didn&#39;t work.","title":"Eureka error: No instances found after removing previously used service instance from the search","body":"<p>I have a sales-order-service which makes call to item-service, I am using resttemplate to make the call and the url is <code>http://item-service/item?name=</code> but i am getting the following error:</p>\n<pre><code>2023-09-23 18:47:31 2023-09-23 13:17:31.244  WARN 1 --- [io-9003-exec-10] .c.RetryAwareServiceInstanceListSupplier : No instances found after removing previously used service instance from the search ([EurekaServiceInstance@46d0eb66 instance = InstanceInfo [instanceId = 8425295e5cad:item-service:9001, appName = ITEM-SERVICE, hostName = localhost, status = UP, ipAddr = 172.18.0.5, port = 9001, securePort = 443, dataCenterInfo = com.netflix.appinfo.MyDataCenterInfo@258b098e]). Returning all found instances.\n2023-09-23 18:47:31 2023-09-23 13:17:31.259 ERROR 1 --- [io-9003-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://item-service/item&quot;: Connection refused; nested exception is java.net.ConnectException: Connection refused] with root cause\n2023-09-23 18:47:31 \n2023-09-23 18:47:31 java.net.ConnectException: Connection refused\n2023-09-23 18:47:31     at java.base/sun.nio.ch.Net.connect0(Native Method) ~[na:na]\n2023-09-23 18:47:31     at java.base/sun.nio.ch.Net.connect(Net.java:579) ~[na:na]\n2023-09-23 18:47:31     at java.base/sun.nio.ch.Net.connect(Net.java:568) ~[na:na]\n2023-09-23 18:47:31     at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593) ~[na:na]\n2023-09-23 18:47:31     at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]\n2023-09-23 18:47:31     at java.base/java.net.Socket.connect(Socket.java:583) ~[na:na]\n2023-09-23 18:47:31     at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:183) ~[na:na]\n2023-09-23 18:47:31     at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:533) ~[na:na]\n2023-09-23 18:47:31     at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:638) ~[na:na]\n2023-09-23 18:47:31     at java.base/sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:281) ~[na:na]\n2023-09-23 18:47:31     at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386) ~[na:na]\n2023-09-23 18:47:31     at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408) ~[na:na]\n2023-09-23 18:47:31     at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1309) ~[na:na]\n2023-09-23 18:47:31     at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242) ~[na:na]\n2023-09-23 18:47:31     at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128) ~[na:na]\n</code></pre>\n<p>FYI I am only getting this error when running services on docker, but when i am running them without it this error does not occur. sales order and item service instances both are registered with eureka</p>\n<p>I have tried changing the name of docker container as it was same as the application name to which i am making the call thinking it might be causing some conflict but that also didn't work.</p>\n"},{"tags":["java","mysql","multithreading","jdbc","locking"],"comments":[{"owner":{"account_id":1912742,"reputation":15070,"user_id":1726083,"display_name":"erik258"},"score":0,"creation_date":1695426203,"post_id":77161101,"comment_id":136027643,"body_markdown":"It&#39;s in the question&#39;s code, @JimGarrison (though you have to scroll right to see it).","body":"It&#39;s in the question&#39;s code, @JimGarrison (though you have to scroll right to see it)."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695428573,"creation_date":1695428573,"answer_id":77161226,"question_id":77161101,"body_markdown":"Fundamentally your idea just will not work. You&#39;re using &#39;it is locked&#39; as a flag to communicate between threads. The message you are sending with it, is &quot;this one is taken. Skip it; find something that isn&#39;t taken yet&quot;.\r\n\r\nGenerally locks are not so well defined unless you &#39;lock in&#39; (heh) which database engine you&#39;re using, which transaction level you pick, and for some DB engines, which table engine is used. In other words, any attempt to use locks as a message bus like this requires a ton of comments stating that it flat out will just do bizarre things and not work properly unless you use just the right DB engine in the exact right configuration. That&#39;s &quot;fragile code&quot; and pretty much never worth doing.\r\n\r\nMore specifically, __locks aren&#39;t forever__. What if one thread locks a row, processes it, __and unlocks it__ because it&#39;s done, and then the next thread grabs the first unlocked row and re-processes one that is already processed? Surely that&#39;s not your intent.\r\n\r\nPerhaps you think this doesn&#39;t matter: Your intent is that any thread that &#39;grabs hold of a row&#39; acquires a lock on it and will not relinquish it for a very long time indeed. It&#39;ll be processing that row this side of forever.\r\n\r\nBut then this is also a very very bad idea: This is simply not what locks are for. As developers we make it a habit to at least consider using things for purposes they weren&#39;t designed for, but you shouldn&#39;t resort to such acts unless there&#39;s a pressing reason to resort to hackery (which is generally what that term is taken to mean for developers: Using things in ways they were never designed for. Not malicious intent to do stuff that you aren&#39;t authorized to do; it&#39;s simply that pretty much by definition if you&#39;re granting yourself access to places you shouldn&#39;t, you&#39;re hacking by definition. But the term is broader than that).\r\n\r\nThere are good reasons for that. For example, in this case, DBs are not designed with the thought that locks are used as flags and therefore are held for excessively long swaths of time. It means by definition that the transaction is open for ages (once you shut down a transaction all locks it holds are auto-closed). Both &#39;really long lived transactions&#39; and &#39;really long lived locks&#39; tend to play havoc on DB performance. You&#39;re __far__ better off using an actual flag, or a counter, or creative solutions such as hash bucketing.\r\n\r\n## An actual flag\r\n\r\nInstead of using locks as a flag to indicate a row is &#39;taken&#39; use... an actual flag. Make a db column of type BOOLEAN (if your DB engine supports it. Enum, or if you have to, the smallest numeric value, otherwise). Use the usual transactional safety mechanisms (preferably, serializable transaction isolation level and retry mechanics. Proper DB abstractions such as JDBI and JOOQ make this easy), so that any given thread attempts to set the flag from false to true, and such a thread continues only if it has ascertained that it was the one that actually performed the modification. This thread is now free to relinquish the transaction, there is no further lock, and this thread can return without that inherently implying the row is &#39;open for processing again&#39; - because that boolean column is still `true`. If you want that row to be re-available for other threads to work on, set it to false - make it explicit.\r\n\r\n## Via separate table\r\n\r\nPerhaps you are not in the position to modify the table. No problem - tables always have a unique identifier (and if somehow they don&#39;t, there&#39;s the DB engine&#39;s unique identifier, such as OID in postgres as an example, there&#39;s always a way) - so make a new table with just 2 columns: That identifier, and that boolean flag. You can even `DROP` the table once processing is complete if you don&#39;t want it to stick around.\r\n\r\n## Using DB intrinsics\r\n\r\nVarious DBs have separate lock or sequencing primitives. I doubt they are a good fit here but they might be. Check your DB engine&#39;s documentation - this tends to be well off the beaten path as far as standardized SQL syntax is concerned\r\n\r\n## hash bucketing\r\n\r\nYet another option is to find some unique property amongst all potential rows (for example, the unique ID column) and then design the following algorithm:\r\n\r\nI launch X threads; each thread gets a &#39;mod&#39; field, which is 0...X (if I launch 5 threads, the first one has `mod = 0`, the second has `mod = 1`,.., the 5th has `mod = 4`. They also all know X (each thread has `procLen = 5`).\r\n\r\nEach thread instantly, without establishing any locks or even establishing a DB connection in the first place, inherently claims rows: It does that by stating that any given thread only processes those rows whose unique modifier, possibly hashed if needed (it&#39;d be needed if the unique input isn&#39;t uniformly distributed, or isn&#39;t a simple number) for which the following is true:\r\n\r\n```\r\nuniqueId % procLen = mod\r\n```\r\n\r\nIn other words, if you have 5 threads and are using the UNID as unique source, the first thread only takes rows with UNID 0, 5, 10, 15, 20, etc. The second one only 1,6,11,16,21, the third only 2,7,12,17,22, and so forth. DBs can generally give you the proper rows fairly quickly (UNID columns get indices by default for example). And there is no need to lock anything: Once all threads have processed their domains, you know every row has been processed. And if the size of the work to be done is generally equal (it takes about as long to process any row; contrast to a system where processing a row might take 5 seconds, or it might take 5 hours, depending on what&#39;s in it - then this is potentially problematic), you are unlikely to need a rebalancing function. Rebalancing is what you need to do when 4 of the 5 threads have processed all their rows but the 5th thread still has, say, 20 to go through: It would want to assign some of the work to the threads that are twiddling their thumbs. You don&#39;t need it, if the unique ID is uniformly distributed and time taken per row is essentially equal.\r\n","title":"Java multiple reads on same SQL table","body":"<p>Fundamentally your idea just will not work. You're using 'it is locked' as a flag to communicate between threads. The message you are sending with it, is &quot;this one is taken. Skip it; find something that isn't taken yet&quot;.</p>\n<p>Generally locks are not so well defined unless you 'lock in' (heh) which database engine you're using, which transaction level you pick, and for some DB engines, which table engine is used. In other words, any attempt to use locks as a message bus like this requires a ton of comments stating that it flat out will just do bizarre things and not work properly unless you use just the right DB engine in the exact right configuration. That's &quot;fragile code&quot; and pretty much never worth doing.</p>\n<p>More specifically, <strong>locks aren't forever</strong>. What if one thread locks a row, processes it, <strong>and unlocks it</strong> because it's done, and then the next thread grabs the first unlocked row and re-processes one that is already processed? Surely that's not your intent.</p>\n<p>Perhaps you think this doesn't matter: Your intent is that any thread that 'grabs hold of a row' acquires a lock on it and will not relinquish it for a very long time indeed. It'll be processing that row this side of forever.</p>\n<p>But then this is also a very very bad idea: This is simply not what locks are for. As developers we make it a habit to at least consider using things for purposes they weren't designed for, but you shouldn't resort to such acts unless there's a pressing reason to resort to hackery (which is generally what that term is taken to mean for developers: Using things in ways they were never designed for. Not malicious intent to do stuff that you aren't authorized to do; it's simply that pretty much by definition if you're granting yourself access to places you shouldn't, you're hacking by definition. But the term is broader than that).</p>\n<p>There are good reasons for that. For example, in this case, DBs are not designed with the thought that locks are used as flags and therefore are held for excessively long swaths of time. It means by definition that the transaction is open for ages (once you shut down a transaction all locks it holds are auto-closed). Both 'really long lived transactions' and 'really long lived locks' tend to play havoc on DB performance. You're <strong>far</strong> better off using an actual flag, or a counter, or creative solutions such as hash bucketing.</p>\n<h2>An actual flag</h2>\n<p>Instead of using locks as a flag to indicate a row is 'taken' use... an actual flag. Make a db column of type BOOLEAN (if your DB engine supports it. Enum, or if you have to, the smallest numeric value, otherwise). Use the usual transactional safety mechanisms (preferably, serializable transaction isolation level and retry mechanics. Proper DB abstractions such as JDBI and JOOQ make this easy), so that any given thread attempts to set the flag from false to true, and such a thread continues only if it has ascertained that it was the one that actually performed the modification. This thread is now free to relinquish the transaction, there is no further lock, and this thread can return without that inherently implying the row is 'open for processing again' - because that boolean column is still <code>true</code>. If you want that row to be re-available for other threads to work on, set it to false - make it explicit.</p>\n<h2>Via separate table</h2>\n<p>Perhaps you are not in the position to modify the table. No problem - tables always have a unique identifier (and if somehow they don't, there's the DB engine's unique identifier, such as OID in postgres as an example, there's always a way) - so make a new table with just 2 columns: That identifier, and that boolean flag. You can even <code>DROP</code> the table once processing is complete if you don't want it to stick around.</p>\n<h2>Using DB intrinsics</h2>\n<p>Various DBs have separate lock or sequencing primitives. I doubt they are a good fit here but they might be. Check your DB engine's documentation - this tends to be well off the beaten path as far as standardized SQL syntax is concerned</p>\n<h2>hash bucketing</h2>\n<p>Yet another option is to find some unique property amongst all potential rows (for example, the unique ID column) and then design the following algorithm:</p>\n<p>I launch X threads; each thread gets a 'mod' field, which is 0...X (if I launch 5 threads, the first one has <code>mod = 0</code>, the second has <code>mod = 1</code>,.., the 5th has <code>mod = 4</code>. They also all know X (each thread has <code>procLen = 5</code>).</p>\n<p>Each thread instantly, without establishing any locks or even establishing a DB connection in the first place, inherently claims rows: It does that by stating that any given thread only processes those rows whose unique modifier, possibly hashed if needed (it'd be needed if the unique input isn't uniformly distributed, or isn't a simple number) for which the following is true:</p>\n<pre><code>uniqueId % procLen = mod\n</code></pre>\n<p>In other words, if you have 5 threads and are using the UNID as unique source, the first thread only takes rows with UNID 0, 5, 10, 15, 20, etc. The second one only 1,6,11,16,21, the third only 2,7,12,17,22, and so forth. DBs can generally give you the proper rows fairly quickly (UNID columns get indices by default for example). And there is no need to lock anything: Once all threads have processed their domains, you know every row has been processed. And if the size of the work to be done is generally equal (it takes about as long to process any row; contrast to a system where processing a row might take 5 seconds, or it might take 5 hours, depending on what's in it - then this is potentially problematic), you are unlikely to need a rebalancing function. Rebalancing is what you need to do when 4 of the 5 threads have processed all their rows but the 5th thread still has, say, 20 to go through: It would want to assign some of the work to the threads that are twiddling their thumbs. You don't need it, if the unique ID is uniformly distributed and time taken per row is essentially equal.</p>\n"},{"tags":[],"owner":{"account_id":3042393,"reputation":643,"user_id":2579066,"accept_rate":50,"display_name":"Marvin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695573893,"creation_date":1695573893,"answer_id":77168027,"question_id":77161101,"body_markdown":"You should try with manual transaction like:\r\n\r\n\tc.setAutoCommit(false);\r\n\tc.setTransactionIsolation(Connection.TRANSACTION_READ_COMMITTED);\r\n\tStatement sth = c.createStatement(ResultSet.TYPE_FORWARD_ONLY, ResultSet.CONCUR_UPDATABLE) ;\r\n\tsth.execute(&quot;BEGIN&quot;);\r\n\tResultSet rst = sth.executeQuery(&quot;SELECT * FROM test WHERE flag!=&#39;Y&#39; LIMIT 1 FOR UPDATE SKIP LOCKED&quot;) ;\r\n\tLong id = null ;\r\n\tif (rst.next()) {\r\n\t\tid = rst.getLong(&quot;id&quot;) ;\r\n\t\trst.updateString(&quot;flag&quot;, &quot;Y&quot;);\r\n\t\trst.updateRow();\r\n\t}\r\n\tsth.execute(&quot;COMMIT&quot;);\r\n\treturn id ;","title":"Java multiple reads on same SQL table","body":"<p>You should try with manual transaction like:</p>\n<pre><code>c.setAutoCommit(false);\nc.setTransactionIsolation(Connection.TRANSACTION_READ_COMMITTED);\nStatement sth = c.createStatement(ResultSet.TYPE_FORWARD_ONLY, ResultSet.CONCUR_UPDATABLE) ;\nsth.execute(&quot;BEGIN&quot;);\nResultSet rst = sth.executeQuery(&quot;SELECT * FROM test WHERE flag!='Y' LIMIT 1 FOR UPDATE SKIP LOCKED&quot;) ;\nLong id = null ;\nif (rst.next()) {\n    id = rst.getLong(&quot;id&quot;) ;\n    rst.updateString(&quot;flag&quot;, &quot;Y&quot;);\n    rst.updateRow();\n}\nsth.execute(&quot;COMMIT&quot;);\nreturn id ;\n</code></pre>\n"}],"owner":{"account_id":1899102,"reputation":45,"user_id":1715364,"accept_rate":50,"display_name":"WonderMouse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77168027,"answer_count":2,"score":0,"last_activity_date":1695573893,"creation_date":1695425214,"question_id":77161101,"body_markdown":"I want to migrate my app to clusters so I have to \r\ndeal with mysql locking.\r\nFor this post, I have simple table with &#39;id&#39; and &#39;flag&#39; whether is \r\nrecord updated or not. \r\nThere are 3 threads reading table of 5 records. What I want to achieve is\r\nthat each thread reads only record not being read by other thread.\r\n(Note that threads are only for testing as in real life, there will be separate\r\nprocess/apps to doing this).\r\n\r\nWhat I&#39;ve read about Mysql locking is that is should disable autoCommit\r\nand SELECT record with LOCK.\r\n\r\nHere is my example code for thread read:\r\n\r\n    public Long read(Connection c) throws Exception {\r\n        c.setAutoCommit(false);\r\n        c.setTransactionIsolation(Connection.TRANSACTION_READ_COMMITTED);\r\n        PreparedStatement sth = c.prepareStatement(&quot;SELECT * FROM test WHERE flag!=&#39;Y&#39; LIMIT 1 FOR UPDATE SKIP LOCKED&quot;) ;\r\n        ResultSet rst = sth.executeQuery() ;\r\n        Long id = null ;\r\n        if (rst.next()) {\r\n            id = rst.getLong(&quot;id&quot;);\r\n            sth = c.prepareStatement(&quot;UPDATE test SET FLAG=&#39;Y&#39; WHERE id=&quot; + id) ;\r\n            sth.executeUpdate();\r\n            System.out.println(getName() + &quot;: Commited id &quot; + id);\r\n        }\r\n        c.commit();\r\n        sth.close();\r\n        return id ;\r\n    }\r\n\r\nWhen running test with 3 threads the output is:\r\n\r\n    LockThread#2: Commited id 1\r\n    LockThread#2: Commited id 2\r\n    LockThread#3: Commited id 1\r\n    LockThread#2: Commited id 3\r\n    LockThread#1: Commited id 1\r\n    LockThread#1: Commited id 4\r\n    LockThread#3: Commited id 4\r\n    LockThread#2: Commited id 4\r\n    LockThread#3: Commited id 5\r\n    LockThread#2: Commited id 5\r\n    LockThread#1: Commited id 5\r\n\r\nSo the same record is not read only by one thread.\r\nIs there any other trick to make an SQL transaction in Java.\r\nHow can I lock record upon retrieval, so next thread will read next non-locked record.\r\n\r\n","title":"Java multiple reads on same SQL table","body":"<p>I want to migrate my app to clusters so I have to\ndeal with mysql locking.\nFor this post, I have simple table with 'id' and 'flag' whether is\nrecord updated or not.\nThere are 3 threads reading table of 5 records. What I want to achieve is\nthat each thread reads only record not being read by other thread.\n(Note that threads are only for testing as in real life, there will be separate\nprocess/apps to doing this).</p>\n<p>What I've read about Mysql locking is that is should disable autoCommit\nand SELECT record with LOCK.</p>\n<p>Here is my example code for thread read:</p>\n<pre><code>public Long read(Connection c) throws Exception {\n    c.setAutoCommit(false);\n    c.setTransactionIsolation(Connection.TRANSACTION_READ_COMMITTED);\n    PreparedStatement sth = c.prepareStatement(&quot;SELECT * FROM test WHERE flag!='Y' LIMIT 1 FOR UPDATE SKIP LOCKED&quot;) ;\n    ResultSet rst = sth.executeQuery() ;\n    Long id = null ;\n    if (rst.next()) {\n        id = rst.getLong(&quot;id&quot;);\n        sth = c.prepareStatement(&quot;UPDATE test SET FLAG='Y' WHERE id=&quot; + id) ;\n        sth.executeUpdate();\n        System.out.println(getName() + &quot;: Commited id &quot; + id);\n    }\n    c.commit();\n    sth.close();\n    return id ;\n}\n</code></pre>\n<p>When running test with 3 threads the output is:</p>\n<pre><code>LockThread#2: Commited id 1\nLockThread#2: Commited id 2\nLockThread#3: Commited id 1\nLockThread#2: Commited id 3\nLockThread#1: Commited id 1\nLockThread#1: Commited id 4\nLockThread#3: Commited id 4\nLockThread#2: Commited id 4\nLockThread#3: Commited id 5\nLockThread#2: Commited id 5\nLockThread#1: Commited id 5\n</code></pre>\n<p>So the same record is not read only by one thread.\nIs there any other trick to make an SQL transaction in Java.\nHow can I lock record upon retrieval, so next thread will read next non-locked record.</p>\n"},{"tags":["java","kotlin","android-layout","inheritance","android-viewbinding"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1695526846,"post_id":77165161,"comment_id":136035399,"body_markdown":"After inflating the binding, you can add `binding.root` to a ViewGroup from the superclasss layout. But I think BaseActivities should be avoided. Composition over inheritance! You can do basically the same thing with a utility function and maybe `&lt;include&gt;` layouts.","body":"After inflating the binding, you can add <code>binding.root</code> to a ViewGroup from the superclasss layout. But I think BaseActivities should be avoided. Composition over inheritance! You can do basically the same thing with a utility function and maybe <code>&lt;include&gt;</code> layouts."}],"answers":[{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695572250,"creation_date":1695572250,"answer_id":77167932,"question_id":77165161,"body_markdown":"You can inflate the binding object in the `BaseActivity` and expose methods to child activities to get the binding object.\r\n\r\n    public abstract class BaseActivity extends AppCompatActivity {\r\n    \r\n        //base binding\r\n        private BaseScreenBinding baseBinding;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState); // always call base methods, your code didnt have those calls.\r\n    \r\n            baseBinding = BaseScreenBinding.inflate(getLayoutInflater());\r\n            setContentView(baseBinding.getRoot());\r\n    \r\n            //your existing code to inflate child content\r\n            View mFormView = baseBinding.pnContent;\r\n            if (getContentAreaLayoutId() != 0) {\r\n                LayoutInflater inflater = LayoutInflater.from(this);\r\n                View contentLayout = inflater.inflate(getContentAreaLayoutId(), (ViewGroup) mFormView, false);\r\n                ((ViewGroup) mFormView).addView(contentLayout, 0);\r\n            }\r\n        }\r\n        \r\n        protected BaseScreenBinding getBaseBinding() {\r\n            return baseBinding;\r\n        }\r\n    \r\n        protected abstract int getContentAreaLayoutId();\r\n    }\r\n\r\nyou can now use ViewBinding in your child activity, your layout was inflated  by BaseActivity, in child you will bind to it.\r\n\r\n    class ChildActivity : BaseActivity() {\r\n    \r\n        private lateinit var binding: StandardContentSettingsBinding\r\n    \r\n        override fun getContentAreaLayoutId(): Int = R.layout.standard_content_settings\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n    \r\n            // Layout was inflated in BaseActivity, so now only bind to it.\r\n            binding = StandardContentSettingsBinding.bind(getBaseBinding().pnContent)\r\n    \r\n            //This should work now\r\n            binding.edURL.setText(&quot;test&quot;)\r\n        }\r\n    }\r\n\r\nIn the child activity, calling `StandardContentSettingsBinding.bind(View)`, is different from `inflate()`, as it doesn&#39;t create a new view hierarchy but instead uses the existing one, which is what you want in this case.\r\n\r\nsome references:\r\nhttps://developer.android.com/topic/libraries/data-binding/generated-binding\r\n\r\n\r\n\r\n","title":"ViewBinding with dynamically added content","body":"<p>You can inflate the binding object in the <code>BaseActivity</code> and expose methods to child activities to get the binding object.</p>\n<pre><code>public abstract class BaseActivity extends AppCompatActivity {\n\n    //base binding\n    private BaseScreenBinding baseBinding;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState); // always call base methods, your code didnt have those calls.\n\n        baseBinding = BaseScreenBinding.inflate(getLayoutInflater());\n        setContentView(baseBinding.getRoot());\n\n        //your existing code to inflate child content\n        View mFormView = baseBinding.pnContent;\n        if (getContentAreaLayoutId() != 0) {\n            LayoutInflater inflater = LayoutInflater.from(this);\n            View contentLayout = inflater.inflate(getContentAreaLayoutId(), (ViewGroup) mFormView, false);\n            ((ViewGroup) mFormView).addView(contentLayout, 0);\n        }\n    }\n    \n    protected BaseScreenBinding getBaseBinding() {\n        return baseBinding;\n    }\n\n    protected abstract int getContentAreaLayoutId();\n}\n</code></pre>\n<p>you can now use ViewBinding in your child activity, your layout was inflated  by BaseActivity, in child you will bind to it.</p>\n<pre><code>class ChildActivity : BaseActivity() {\n\n    private lateinit var binding: StandardContentSettingsBinding\n\n    override fun getContentAreaLayoutId(): Int = R.layout.standard_content_settings\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        // Layout was inflated in BaseActivity, so now only bind to it.\n        binding = StandardContentSettingsBinding.bind(getBaseBinding().pnContent)\n\n        //This should work now\n        binding.edURL.setText(&quot;test&quot;)\n    }\n}\n</code></pre>\n<p>In the child activity, calling <code>StandardContentSettingsBinding.bind(View)</code>, is different from <code>inflate()</code>, as it doesn't create a new view hierarchy but instead uses the existing one, which is what you want in this case.</p>\n<p>some references:\n<a href=\"https://developer.android.com/topic/libraries/data-binding/generated-binding\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/data-binding/generated-binding</a></p>\n"}],"owner":{"account_id":2403408,"reputation":1317,"user_id":2100558,"accept_rate":51,"display_name":"Sk1X1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77167932,"answer_count":1,"score":0,"last_activity_date":1695572250,"creation_date":1695508817,"question_id":77165161,"body_markdown":"I have base activity implementing some features for every screen of my app. Every child activity then overrides method with its XML layout.\r\n\r\n**BaseActivity**\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        setContentView(R.layout.base_screen);\r\n        View mFormView = findViewById(R.id.pnContent);\r\n        if (getContentAreaLayoutId() != 0) {\r\n            LayoutInflater inflater = LayoutInflater.from(this);\r\n            View contentLayout = inflater.inflate(getContentAreaLayoutId(), (ViewGroup) mFormView, false);\r\n            ((ViewGroup) mFormView).addView(contentLayout, 0);\r\n        }\r\n    }\r\n\r\n**ChildActivity**\r\n\r\n    override fun getContentAreaLayoutId(): Int = R.layout.standard_content_settings\r\n\r\nNow I would like to use view binding in my child activities. I was thinking about something like this:\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        val binding = StandardContentSettingsBinding.inflate(layoutInflater)\r\n    }\r\n\r\nBut when I used binding (`binding.edURL.setText(&quot;test&quot;)`), view does not change and stays empty. I guess I&#39;m using view binding wrong and have to inflate it with another way?","title":"ViewBinding with dynamically added content","body":"<p>I have base activity implementing some features for every screen of my app. Every child activity then overrides method with its XML layout.</p>\n<p><strong>BaseActivity</strong></p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    setContentView(R.layout.base_screen);\n    View mFormView = findViewById(R.id.pnContent);\n    if (getContentAreaLayoutId() != 0) {\n        LayoutInflater inflater = LayoutInflater.from(this);\n        View contentLayout = inflater.inflate(getContentAreaLayoutId(), (ViewGroup) mFormView, false);\n        ((ViewGroup) mFormView).addView(contentLayout, 0);\n    }\n}\n</code></pre>\n<p><strong>ChildActivity</strong></p>\n<pre><code>override fun getContentAreaLayoutId(): Int = R.layout.standard_content_settings\n</code></pre>\n<p>Now I would like to use view binding in my child activities. I was thinking about something like this:</p>\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    val binding = StandardContentSettingsBinding.inflate(layoutInflater)\n}\n</code></pre>\n<p>But when I used binding (<code>binding.edURL.setText(&quot;test&quot;)</code>), view does not change and stays empty. I guess I'm using view binding wrong and have to inflate it with another way?</p>\n"},{"tags":["java","eclipse","minecraft-forge"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1682442139,"post_id":76103721,"comment_id":134215277,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":3,"creation_date":1682443100,"post_id":76103721,"comment_id":134215475,"body_markdown":"ChatGPT is not a programming tool and cannot be relied on to give accurate information.","body":"ChatGPT is not a programming tool and cannot be relied on to give accurate information."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1682443238,"post_id":76103721,"comment_id":134215513,"body_markdown":"The log clearly shows you are using Java 17.0.6 which does not allow the change the modlauncher is trying to make","body":"The log clearly shows you are using Java 17.0.6 which does not allow the change the modlauncher is trying to make"}],"answers":[{"tags":[],"owner":{"account_id":8860436,"reputation":45945,"user_id":7509065,"display_name":"Joseph Sible-Reinstate Monica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682567492,"creation_date":1682567492,"answer_id":76116611,"question_id":76103721,"body_markdown":"&gt; `java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.jar.JarVerifier java.util.jar.Manifest.jv accessible: module java.base does not &quot;opens java.util.jar&quot; to unnamed module @5f683daf`\r\n\r\n&gt; the version is right, JRE 1.8.\r\n\r\nThat line of your error implies that you&#39;re not actually on JRE 1.8. Modules and opens didn&#39;t even exist as concepts then. If you actually switch to JRE 1.8, then that error will go away.","title":"Error Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError while doing a Minecraft mod","body":"<blockquote>\n<p><code>java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.jar.JarVerifier java.util.jar.Manifest.jv accessible: module java.base does not &quot;opens java.util.jar&quot; to unnamed module @5f683daf</code></p>\n</blockquote>\n<blockquote>\n<p>the version is right, JRE 1.8.</p>\n</blockquote>\n<p>That line of your error implies that you're not actually on JRE 1.8. Modules and opens didn't even exist as concepts then. If you actually switch to JRE 1.8, then that error will go away.</p>\n"}],"owner":{"account_id":28414303,"reputation":3,"user_id":21737282,"display_name":"Fenl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":673,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76116611,"answer_count":1,"score":-2,"last_activity_date":1695571518,"creation_date":1682442103,"question_id":76103721,"body_markdown":"so, I am following a Minecraft modding tutorial in 1.16, I use Eclipse and 1.16.4 mdk, everything was going great until I try to launch the game, it keeps getting an error, here is the console : \r\n```none\r\n2023-04-25 18:39:51,378 main WARN Advanced terminal features are not available in this environment\r\n[18:39:51] [main/INFO] [cp.mo.mo.Launcher/MODLAUNCHER]: ModLauncher running: args [--gameDir, ., --launchTarget, fmluserdevclient, --fml.mcpVersion, 20201102.104115, --fml.mcVersion, 1.16.4, --fml.forgeGroup, net.minecraftforge, --fml.forgeVersion, 35.1.4, --version, MOD_DEV, --assetIndex, 1.16, --assetsDir, C:\\Users\\codic\\.gradle\\caches\\forge_gradle\\assets, --username, Dev, --accessToken, , --userProperties, {}]\r\n[18:39:51] [main/INFO] [cp.mo.mo.Launcher/MODLAUNCHER]: ModLauncher 8.0.6+85+master.325de55 starting: java version 17.0.6 by Eclipse Adoptium\r\n[18:39:51] [main/DEBUG] [cp.mo.mo.LaunchServiceHandler/MODLAUNCHER]: Found launch services [minecraft,fmldevdata,fmldevclient,fmldevserver,fmluserdevserver,fmluserdevdata,testharness,fmlclient,fmluserdevclient,fmlserver]\r\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n\tat cpw.mods.modlauncher.Launcher.lambda$new$6(Launcher.java:55)\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)\r\n\tat cpw.mods.modlauncher.api.TypesafeMap.computeIfAbsent(TypesafeMap.java:52)\r\n\tat cpw.mods.modlauncher.api.TypesafeMap.computeIfAbsent(TypesafeMap.java:47)\r\n\tat cpw.mods.modlauncher.Environment.computePropertyIfAbsent(Environment.java:62)\r\n\tat cpw.mods.modlauncher.Launcher.&lt;init&gt;(Launcher.java:55)\r\n\tat cpw.mods.modlauncher.Launcher.main(Launcher.java:66)\r\n\tat net.minecraftforge.userdev.LaunchTesting.main(LaunchTesting.java:105)\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.jar.JarVerifier java.util.jar.Manifest.jv accessible: module java.base does not &quot;opens java.util.jar&quot; to unnamed module @5f683daf\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\r\n\tat cpw.mods.modlauncher.SecureJarHandler.&lt;clinit&gt;(SecureJarHandler.java:48)\r\n\t... 8 more\r\n```\r\n\r\n\r\nI tried using ChatGPT to fix that but it says that it is a Java compatibility issue, which after I checked several times is not, the version is right, JRE 1.8.","title":"Error Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError while doing a Minecraft mod","body":"<p>so, I am following a Minecraft modding tutorial in 1.16, I use Eclipse and 1.16.4 mdk, everything was going great until I try to launch the game, it keeps getting an error, here is the console :</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-04-25 18:39:51,378 main WARN Advanced terminal features are not available in this environment\n[18:39:51] [main/INFO] [cp.mo.mo.Launcher/MODLAUNCHER]: ModLauncher running: args [--gameDir, ., --launchTarget, fmluserdevclient, --fml.mcpVersion, 20201102.104115, --fml.mcVersion, 1.16.4, --fml.forgeGroup, net.minecraftforge, --fml.forgeVersion, 35.1.4, --version, MOD_DEV, --assetIndex, 1.16, --assetsDir, C:\\Users\\codic\\.gradle\\caches\\forge_gradle\\assets, --username, Dev, --accessToken, , --userProperties, {}]\n[18:39:51] [main/INFO] [cp.mo.mo.Launcher/MODLAUNCHER]: ModLauncher 8.0.6+85+master.325de55 starting: java version 17.0.6 by Eclipse Adoptium\n[18:39:51] [main/DEBUG] [cp.mo.mo.LaunchServiceHandler/MODLAUNCHER]: Found launch services [minecraft,fmldevdata,fmldevclient,fmldevserver,fmluserdevserver,fmluserdevdata,testharness,fmlclient,fmluserdevclient,fmlserver]\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\n    at cpw.mods.modlauncher.Launcher.lambda$new$6(Launcher.java:55)\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)\n    at cpw.mods.modlauncher.api.TypesafeMap.computeIfAbsent(TypesafeMap.java:52)\n    at cpw.mods.modlauncher.api.TypesafeMap.computeIfAbsent(TypesafeMap.java:47)\n    at cpw.mods.modlauncher.Environment.computePropertyIfAbsent(Environment.java:62)\n    at cpw.mods.modlauncher.Launcher.&lt;init&gt;(Launcher.java:55)\n    at cpw.mods.modlauncher.Launcher.main(Launcher.java:66)\n    at net.minecraftforge.userdev.LaunchTesting.main(LaunchTesting.java:105)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.jar.JarVerifier java.util.jar.Manifest.jv accessible: module java.base does not &quot;opens java.util.jar&quot; to unnamed module @5f683daf\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\n    at cpw.mods.modlauncher.SecureJarHandler.&lt;clinit&gt;(SecureJarHandler.java:48)\n    ... 8 more\n</code></pre>\n<p>I tried using ChatGPT to fix that but it says that it is a Java compatibility issue, which after I checked several times is not, the version is right, JRE 1.8.</p>\n"},{"tags":["java","xml","kotlin","jackson"],"answers":[{"tags":[],"owner":{"account_id":53930,"reputation":513,"user_id":161281,"display_name":"galuszkak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1598193766,"creation_date":1598173249,"answer_id":63545168,"question_id":63539315,"body_markdown":"The problem mentioned here is described in this Github issue:\r\nhttps://github.com/FasterXML/jackson-dataformat-xml/issues/187\r\n\r\nBasically what is happening is that Jackson is translating XML tree structure in JsonNode data model and this will not work as it&#39;s not supported.\r\n\r\nThere is 2 options described in that Github issue:\r\n * Fully transform this XML to JSON (answer from @cawena on Github)\r\n * Or if you know your data structure to just use answer from p0sitron which is:\r\n\r\nCode:\r\n\r\n    List&lt;List&lt;JsonNode&gt;&gt; elA = xmlMapper.readValue(xml, new TypeReference&lt;List&lt;List&lt;JsonNode&gt;&gt;&gt;() { });\r\n    assertEquals(3, elA.get(0).size());","title":"Using Jackson to parse XML with repeated element","body":"<p>The problem mentioned here is described in this Github issue:\n<a href=\"https://github.com/FasterXML/jackson-dataformat-xml/issues/187\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-dataformat-xml/issues/187</a></p>\n<p>Basically what is happening is that Jackson is translating XML tree structure in JsonNode data model and this will not work as it's not supported.</p>\n<p>There is 2 options described in that Github issue:</p>\n<ul>\n<li>Fully transform this XML to JSON (answer from @cawena on Github)</li>\n<li>Or if you know your data structure to just use answer from p0sitron which is:</li>\n</ul>\n<p>Code:</p>\n<pre><code>List&lt;List&lt;JsonNode&gt;&gt; elA = xmlMapper.readValue(xml, new TypeReference&lt;List&lt;List&lt;JsonNode&gt;&gt;&gt;() { });\nassertEquals(3, elA.get(0).size());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1117052,"reputation":1,"user_id":1106159,"display_name":"Ashish Sadhwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695570858,"creation_date":1695570858,"answer_id":77167843,"question_id":63539315,"body_markdown":"After a lot of research, I finally figured a solution.\r\n\r\nI was using `jackson-dataformat-xml:2.15.2` library.\r\n\r\nHere is a piece of XML I tried to parse (a PersonList XML),\r\n```XML\r\n...\r\n   &lt;DESIGNATION&gt;\r\n      &lt;VALUE&gt;General Manager&lt;/VALUE&gt;\r\n      &lt;VALUE&gt;Regional Office&lt;/VALUE&gt;\r\n      &lt;VALUE&gt;Interior Monastery&lt;/VALUE&gt;\r\n   &lt;/DESIGNATION&gt;\r\n...\r\n```\r\n\r\nHere is the corresponding data class in Kotlin (for `Designation` &amp; `Value`),\r\n```Kotlin\r\n//Inside PersonList data class constructor\r\n...\r\n   @JacksonXmlElementWrapper(localName = &quot;DESIGNATION&quot;)\r\n   @JacksonXmlProperty(localName = &quot;DESIGNATION&quot;)\r\n   val designation: List&lt;Value&gt;,\r\n...\r\n...) {  //Inside PersonList data class body\r\n      ...\r\n         @JacksonXmlRootElement(localName = &quot;VALUE&quot;)\r\n         data class Value (\r\n            val value: String?\r\n         )\r\n      ...\r\n     }\r\n...\r\n```\r\n\r\nHere is the corresponding Kotlin code for parsing (the PersonList XML),\r\n```Kotlin\r\n...\r\n   val xmlString = response.body!!.string()\r\n   //Parse XML String\r\n   val xmlMapper: ObjectMapper = XmlMapper.builder()\r\n      .disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES)\r\n      .build()\r\n   val personList = xmlMapper.readValue(xmlString, PersonList::class.java)\r\n...\r\n```\r\nVoil&#224;, it works!!","title":"Using Jackson to parse XML with repeated element","body":"<p>After a lot of research, I finally figured a solution.</p>\n<p>I was using <code>jackson-dataformat-xml:2.15.2</code> library.</p>\n<p>Here is a piece of XML I tried to parse (a PersonList XML),</p>\n<pre><code>...\n   &lt;DESIGNATION&gt;\n      &lt;VALUE&gt;General Manager&lt;/VALUE&gt;\n      &lt;VALUE&gt;Regional Office&lt;/VALUE&gt;\n      &lt;VALUE&gt;Interior Monastery&lt;/VALUE&gt;\n   &lt;/DESIGNATION&gt;\n...\n</code></pre>\n<p>Here is the corresponding data class in Kotlin (for <code>Designation</code> &amp; <code>Value</code>),</p>\n<pre><code>//Inside PersonList data class constructor\n...\n   @JacksonXmlElementWrapper(localName = &quot;DESIGNATION&quot;)\n   @JacksonXmlProperty(localName = &quot;DESIGNATION&quot;)\n   val designation: List&lt;Value&gt;,\n...\n...) {  //Inside PersonList data class body\n      ...\n         @JacksonXmlRootElement(localName = &quot;VALUE&quot;)\n         data class Value (\n            val value: String?\n         )\n      ...\n     }\n...\n</code></pre>\n<p>Here is the corresponding Kotlin code for parsing (the PersonList XML),</p>\n<pre><code>...\n   val xmlString = response.body!!.string()\n   //Parse XML String\n   val xmlMapper: ObjectMapper = XmlMapper.builder()\n      .disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES)\n      .build()\n   val personList = xmlMapper.readValue(xmlString, PersonList::class.java)\n...\n</code></pre>\n<p>Voil, it works!!</p>\n"}],"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1181,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":63545168,"answer_count":2,"score":1,"last_activity_date":1695570858,"creation_date":1598118558,"question_id":63539315,"body_markdown":" I am looking for a simple way to parse an XML structure with a repeated element using Jackson. Here is a simplified example:\r\n\r\n ```\r\n&lt;root&gt;\r\n    &lt;a&gt;\r\n        &lt;x&gt;\r\n            &lt;b&gt;some content&lt;/b&gt;\r\n            &lt;c&gt;some content&lt;/c&gt;\r\n        &lt;/x&gt;\r\n        &lt;x&gt;\r\n            &lt;b&gt;some content&lt;/b&gt;\r\n            &lt;c&gt;some content&lt;/c&gt;\r\n        &lt;/x&gt;    \r\n        ...\r\n        &lt;x&gt;\r\n            &lt;b&gt;some content&lt;/b&gt;\r\n            &lt;c&gt;some content&lt;/c&gt;\r\n        &lt;/x&gt;\r\n    &lt;/a&gt;\r\n\r\n    ... some other content ...\r\n &lt;/root&gt;\r\n ```\r\n\r\n I would like to collect all the `x` elements in a list or array The problem is that when using something like:\r\n ```\r\n XmlMapper().readTree(xml).get(&quot;a&quot;).fields()\r\n ```\r\n the result contains only the last instance of `x` so it looks like some map key gets overwritten. There is a solution using `JsonParser` \r\n e.g.: `XmlMapper().createParser(xml)` but it&#39;s a bit icky.\r\n\r\n Is there a better way?\r\n\r\n**Edit**\r\n\r\nThe way I read the &quot;Known Limitations&quot; section in the [README][1] , XML seems to be a second class citizen in Jackson. I accept @galuszkak &#39;s answer as it is what it is , but to my mind when a developer invokes `XmlMapper().readTree(xml)` they do not expect XML processing to be shoehorned into JSON processing model with the limitations that come with that approach.  \r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-dataformat-xml/blob/master/README.md#known-limitations","title":"Using Jackson to parse XML with repeated element","body":"<p>I am looking for a simple way to parse an XML structure with a repeated element using Jackson. Here is a simplified example:</p>\n<pre><code>&lt;root&gt;\n   &lt;a&gt;\n       &lt;x&gt;\n           &lt;b&gt;some content&lt;/b&gt;\n           &lt;c&gt;some content&lt;/c&gt;\n       &lt;/x&gt;\n       &lt;x&gt;\n           &lt;b&gt;some content&lt;/b&gt;\n           &lt;c&gt;some content&lt;/c&gt;\n       &lt;/x&gt;    \n       ...\n       &lt;x&gt;\n           &lt;b&gt;some content&lt;/b&gt;\n           &lt;c&gt;some content&lt;/c&gt;\n       &lt;/x&gt;\n   &lt;/a&gt;\n\n   ... some other content ...\n&lt;/root&gt;\n</code></pre>\n<p>I would like to collect all the <code>x</code> elements in a list or array The problem is that when using something like:</p>\n<pre><code>XmlMapper().readTree(xml).get(&quot;a&quot;).fields()\n</code></pre>\n<p>the result contains only the last instance of <code>x</code> so it looks like some map key gets overwritten. There is a solution using <code>JsonParser</code>\ne.g.: <code>XmlMapper().createParser(xml)</code> but it's a bit icky.</p>\n<p>Is there a better way?</p>\n<p><strong>Edit</strong></p>\n<p>The way I read the &quot;Known Limitations&quot; section in the <a href=\"https://github.com/FasterXML/jackson-dataformat-xml/blob/master/README.md#known-limitations\" rel=\"nofollow noreferrer\">README</a> , XML seems to be a second class citizen in Jackson. I accept @galuszkak 's answer as it is what it is , but to my mind when a developer invokes <code>XmlMapper().readTree(xml)</code> they do not expect XML processing to be shoehorned into JSON processing model with the limitations that come with that approach.</p>\n"},{"tags":["java","heapsort"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1694970547,"post_id":77122861,"comment_id":135958395,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":2,"creation_date":1694970817,"post_id":77122861,"comment_id":135958434,"body_markdown":"Are you aware that creating a max heap and sorting an array are two different things? Your heaps look correct, at least from the sample output you have provided.","body":"Are you aware that creating a max heap and sorting an array are two different things? Your heaps look correct, at least from the sample output you have provided."},{"owner":{"account_id":27939097,"reputation":25,"user_id":21335467,"display_name":"Anuj Garg"},"score":0,"creation_date":1695449433,"post_id":77122861,"comment_id":136028832,"body_markdown":"i am but i am still trying to do both at once, still thank u for pointing it out","body":"i am but i am still trying to do both at once, still thank u for pointing it out"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694984763,"creation_date":1694984763,"answer_id":77123614,"question_id":77122861,"body_markdown":"&gt; Now, the array is still not sorted correctly.\r\n\r\nA heap is *not* a sorted array, nor is heapsort a matter of just building a heap.\r\n\r\nThis also means you cannot have both `getMin` and `getMax` functions. You can only get the &quot;top&quot; of the heap as a reliable value. The last value in the array is not guaranteed to be the other extreme. For the same reason you cannot have both `delMin` and `delMax` functions, only a `delTop` function, like this:\r\n\r\n```\r\n    public void delTop() {\r\n        if (isEmpty()) {\r\n            throw new IllegalStateException(&quot;No Data Available to delete&quot;);\r\n        }\r\n        swap(0, --size);\r\n        sink(0);\r\n    }\r\n```\r\n\r\nHeapsort consists of building a heap, **and then** repeatedly deleting the top from a heap that reduces in size and putting the extracted values in a sorted partition (at the end).\r\n\r\n### Bugs\r\n\r\nAside from the above remarks, there is one mistake in this part of the `sink` function:\r\n\r\n```\r\n        if (left &lt; size &amp;&amp; compare(heap[position], heap[left]) &lt; 0) {\r\n            largest = left;\r\n        }\r\n        if (right &lt; size &amp;&amp; compare(heap[position], heap[right]) &lt; 0) {\r\n            largest = right;\r\n        }\r\n```\r\n\r\nThe second `if` condition compares the entry at `position` with the one at `right`, but it should compare the entry at `largest`. So correct to:\r\n\r\n```\r\n        if (left &lt; size &amp;&amp; compare(heap[position], heap[left]) &lt; 0) {\r\n            largest = left;\r\n        }\r\n        if (right &lt; size &amp;&amp; compare(heap[largest], heap[right]) &lt; 0) {\r\n            largest = right;\r\n        }\r\n```\r\n\r\nThere is also an issue in the functions `size()` and `isFull()` as they work with `size - 1`, while they should use `size` instead. Here is the correction to both functions:\r\n\r\n```\r\n    public int size() {\r\n        return size;\r\n    }\r\n    \r\n    public boolean isFull() {\r\n        return size == capacity;\r\n    }\r\n```\r\n\r\n### Implement Heapsort\r\n\r\nTo implement heapsort, you could add this method:\r\n\r\n```\r\n    public void sort() {\r\n        // HeapSort algorithm:\r\n        int origSize = size;\r\n        while (size &gt; 1) {\r\n            delTop();\r\n        }\r\n        size = origSize;\r\n        // Reverse, so it also is in line with heap property\r\n        for (int i = 0, j = size - 1; i &lt; j; i++, j--) {\r\n            swap(i, j);\r\n        }            \r\n    }\r\n```\r\n\r\nCall this  `sort` method in your main function:\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        MyHeap minHeap = new MyHeap(10, true);\r\n        minHeap.insert(70);\r\n        minHeap.insert(20);\r\n        minHeap.insert(90);\r\n        minHeap.insert(60);\r\n        minHeap.insert(40);\r\n        minHeap.insert(10);\r\n        minHeap.insert(50);\r\n        minHeap.insert(30);\r\n        minHeap.insert(80);\r\n        minHeap.insert(100);\r\n        minHeap.sort();\r\n        System.out.println(&quot;Min Heap: &quot; + minHeap);\r\n    \r\n        MyHeap maxHeap = new MyHeap(10, false);\r\n        maxHeap.insert(70);\r\n        maxHeap.insert(20);\r\n        maxHeap.insert(90);\r\n        maxHeap.insert(60);\r\n        maxHeap.insert(40);\r\n        maxHeap.insert(10);\r\n        maxHeap.insert(50);\r\n        maxHeap.insert(30);\r\n        maxHeap.insert(80);\r\n        maxHeap.insert(100);\r\n        minHeap.sort();\r\n        System.out.println(&quot;Max Heap: &quot; + maxHeap);\r\n    }\r\n```\r\n\r\nNow it will print out the values in their sorted order.","title":"Implementing Heap Sort from Scratch","body":"<blockquote>\n<p>Now, the array is still not sorted correctly.</p>\n</blockquote>\n<p>A heap is <em>not</em> a sorted array, nor is heapsort a matter of just building a heap.</p>\n<p>This also means you cannot have both <code>getMin</code> and <code>getMax</code> functions. You can only get the &quot;top&quot; of the heap as a reliable value. The last value in the array is not guaranteed to be the other extreme. For the same reason you cannot have both <code>delMin</code> and <code>delMax</code> functions, only a <code>delTop</code> function, like this:</p>\n<pre><code>    public void delTop() {\n        if (isEmpty()) {\n            throw new IllegalStateException(&quot;No Data Available to delete&quot;);\n        }\n        swap(0, --size);\n        sink(0);\n    }\n</code></pre>\n<p>Heapsort consists of building a heap, <strong>and then</strong> repeatedly deleting the top from a heap that reduces in size and putting the extracted values in a sorted partition (at the end).</p>\n<h3>Bugs</h3>\n<p>Aside from the above remarks, there is one mistake in this part of the <code>sink</code> function:</p>\n<pre><code>        if (left &lt; size &amp;&amp; compare(heap[position], heap[left]) &lt; 0) {\n            largest = left;\n        }\n        if (right &lt; size &amp;&amp; compare(heap[position], heap[right]) &lt; 0) {\n            largest = right;\n        }\n</code></pre>\n<p>The second <code>if</code> condition compares the entry at <code>position</code> with the one at <code>right</code>, but it should compare the entry at <code>largest</code>. So correct to:</p>\n<pre><code>        if (left &lt; size &amp;&amp; compare(heap[position], heap[left]) &lt; 0) {\n            largest = left;\n        }\n        if (right &lt; size &amp;&amp; compare(heap[largest], heap[right]) &lt; 0) {\n            largest = right;\n        }\n</code></pre>\n<p>There is also an issue in the functions <code>size()</code> and <code>isFull()</code> as they work with <code>size - 1</code>, while they should use <code>size</code> instead. Here is the correction to both functions:</p>\n<pre><code>    public int size() {\n        return size;\n    }\n    \n    public boolean isFull() {\n        return size == capacity;\n    }\n</code></pre>\n<h3>Implement Heapsort</h3>\n<p>To implement heapsort, you could add this method:</p>\n<pre><code>    public void sort() {\n        // HeapSort algorithm:\n        int origSize = size;\n        while (size &gt; 1) {\n            delTop();\n        }\n        size = origSize;\n        // Reverse, so it also is in line with heap property\n        for (int i = 0, j = size - 1; i &lt; j; i++, j--) {\n            swap(i, j);\n        }            \n    }\n</code></pre>\n<p>Call this  <code>sort</code> method in your main function:</p>\n<pre><code>    public static void main(String[] args) {\n        MyHeap minHeap = new MyHeap(10, true);\n        minHeap.insert(70);\n        minHeap.insert(20);\n        minHeap.insert(90);\n        minHeap.insert(60);\n        minHeap.insert(40);\n        minHeap.insert(10);\n        minHeap.insert(50);\n        minHeap.insert(30);\n        minHeap.insert(80);\n        minHeap.insert(100);\n        minHeap.sort();\n        System.out.println(&quot;Min Heap: &quot; + minHeap);\n    \n        MyHeap maxHeap = new MyHeap(10, false);\n        maxHeap.insert(70);\n        maxHeap.insert(20);\n        maxHeap.insert(90);\n        maxHeap.insert(60);\n        maxHeap.insert(40);\n        maxHeap.insert(10);\n        maxHeap.insert(50);\n        maxHeap.insert(30);\n        maxHeap.insert(80);\n        maxHeap.insert(100);\n        minHeap.sort();\n        System.out.println(&quot;Max Heap: &quot; + maxHeap);\n    }\n</code></pre>\n<p>Now it will print out the values in their sorted order.</p>\n"}],"owner":{"account_id":27939097,"reputation":25,"user_id":21335467,"display_name":"Anuj Garg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77123614,"answer_count":1,"score":-1,"last_activity_date":1695570658,"creation_date":1694970483,"question_id":77122861,"body_markdown":"```\r\nimport java.util.Arrays;\r\n\r\nimport javax.management.RuntimeErrorException;\r\n\r\npublic class MyHeap {\r\n\r\npublic static void main(String args) {\r\n        MyHeap minHeap = new MyHeap(10, true);\r\n        minHeap.insert(70);\r\n        minHeap.insert(20);\r\n        minHeap.insert(90);\r\n        minHeap.insert(60);\r\n        minHeap.insert(40);\r\n        minHeap.insert(10);\r\n        minHeap.insert(50);\r\n        minHeap.insert(30);\r\n        minHeap.insert(80);\r\n        minHeap.insert(100);\r\n\r\n        System.out.println(&quot;Min Heap: &quot; + Arrays.toString(minHeap.heap));\r\n    \r\n        MyHeap maxHeap = new MyHeap(10, false);\r\n        maxHeap.insert(70);\r\n        maxHeap.insert(20);\r\n        maxHeap.insert(90);\r\n        maxHeap.insert(60);\r\n        maxHeap.insert(40);\r\n        maxHeap.insert(10);\r\n        maxHeap.insert(50);\r\n        maxHeap.insert(30);\r\n        maxHeap.insert(80);\r\n        maxHeap.insert(100);\r\n    \r\n        System.out.println(&quot;Max Heap: &quot; + Arrays.toString(maxHeap.heap));\r\n    }\r\n    \r\n    private int[] heap;\r\n    private int size = 0;\r\n    private int capacity;\r\n    private boolean reverse;// true if min heap\r\n    \r\n    public MyHeap(int capacity) {\r\n        this.capacity = capacity;\r\n        heap = new int[capacity];\r\n        // max heap by default\r\n        this.reverse = false;\r\n    }\r\n    \r\n    public MyHeap(int capacity, boolean reverse) {\r\n        this.capacity = capacity;\r\n        heap = new int[capacity];\r\n        this.reverse = reverse;\r\n    }\r\n    \r\n    private int compare(int a, int b) {\r\n        if (reverse)\r\n            return b - a;\r\n        return a - b;\r\n    }\r\n    \r\n    public void insert(int key) {\r\n        if (isFull()) {\r\n            throw new IndexOutOfBoundsException(&quot;Out of given capacity&quot;);\r\n        }\r\n        heap[size] = key;\r\n        swim(size++);\r\n    }\r\n    \r\n    // private void rightshift(int parent, int position) {\r\n    // for (int i = position; i &gt; parent; i--) {\r\n    // if (compare(heap[i], heap[i - 1]) &gt; 0)\r\n    // swap(i, i - 1);\r\n    // }\r\n    // }\r\n    \r\n    private void swim(int position) {\r\n        int parent = (position) / 2;\r\n        if (position &gt; 0 &amp;&amp; compare(heap[parent], heap[position]) &lt; 0) {\r\n            swap(parent, position);\r\n            // rightshift(parent, position);\r\n            swim(parent);\r\n        }\r\n    }\r\n    \r\n    private void sink(int position) {\r\n        int left = position * 2 + 1;\r\n        int right = position * 2 + 2;\r\n        int largest = position;\r\n        if (left &lt; size &amp;&amp; compare(heap[position], heap[left]) &lt; 0) {\r\n            largest = left;\r\n        }\r\n        if (right &lt; size &amp;&amp; compare(heap[position], heap[right]) &lt; 0) {\r\n            largest = right;\r\n        }\r\n        if (largest != position) {\r\n            swap(largest, position);\r\n            sink(largest);\r\n        }\r\n    \r\n    }\r\n    \r\n    public int getMin() {\r\n        if (isEmpty()) {\r\n            throw new IllegalStateException(&quot;No Data available&quot;);\r\n        }\r\n        if (reverse) {\r\n            return heap[size - 1];\r\n        }\r\n        return heap[0];\r\n    }\r\n    \r\n    public int getMax() {\r\n        if (isEmpty()) {\r\n            throw new IllegalStateException(&quot;No Data available&quot;);\r\n        }\r\n        if (reverse) {\r\n            return heap[0];\r\n        }\r\n        return heap[size - 1];\r\n    }\r\n    \r\n    public void delTop() {\r\n        if (isEmpty()) {\r\n            throw new IllegalStateException(&quot;No Data Available to delete&quot;);\r\n        }\r\n        swap(0, size - 1);\r\n        size--;\r\n        sink(0);\r\n    }\r\n    \r\n    public void delMin() {\r\n        if (isEmpty()) {\r\n            throw new IllegalStateException(&quot;No Data Available to delete&quot;);\r\n        }\r\n        if (reverse) {\r\n            throw new RuntimeErrorException(null, &quot;You Initialized a Min heap&quot;);\r\n        }\r\n        swap(getMin(), 0);\r\n        size--;\r\n        sink(0);\r\n    }\r\n    \r\n    public void delMax() {\r\n        if (isEmpty()) {\r\n            throw new IllegalStateException(&quot;No Data Available to delete&quot;);\r\n        }\r\n        if (!reverse) {\r\n            throw new RuntimeErrorException(null, &quot;You Initialized a Max heap&quot;);\r\n        }\r\n        swap(getMax(), 0);\r\n        size--;\r\n        sink(0);\r\n    }\r\n    \r\n    public int size() {\r\n        return size - 1;\r\n    }\r\n    \r\n    public boolean isFull() {\r\n        return size - 1 == capacity;\r\n    }\r\n    \r\n    public boolean isEmpty() {\r\n        return size == 0;\r\n    }\r\n    \r\n    private void swap(int i, int j) {\r\n        int temp = heap[i];\r\n        heap[i] = heap[j];\r\n        heap[j] = temp;\r\n    }\r\n    \r\n    @Override\r\n    public String toString() {\r\n        int[] items = Arrays.copyOf(heap, size);\r\n        return Arrays.toString(items);\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\nOutput:\r\n\r\nMin Heap: 10, 20, 40, 30, 80, 60, 70, 50, 90, 100\r\n\r\nMax Heap: 100, 90, 80, 60, 70, 10, 50, 30, 20, 40\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nProblem Description:\r\n\r\nI&#39;m working on implementing a min-heap and max-heap in Java, but I&#39;m encountering issues with sorting the array correctly. Let me explain the problem through an example:\r\n\r\nLet&#39;s say we have an array arr initialized as follows: {0, 0, 0} (max heap).\r\n\r\nWe insert 70, and arr becomes {70, 0, 0}. No further changes will be done.\r\nWe insert 50, and arr becomes {70, 50, 0}. No further changes will be done.\r\nWe insert 80, and arr becomes {70, 50, 80}. Here, 80 is greater than its parent (70), so we swap them. After this swap, arr becomes {80, 50, 70}.\r\nNow, the array is still not sorted correctly. I attempted to solve this issue by introducing a rightshift function, but it didn&#39;t work as expected.\r\n\r\nWhat I&#39;ve Tried:\r\n\r\nI have already implemented the basic structure of the min-heap and max-heap, but I believe the issues are primarily related to the swim, sink, and rightshift functions.\r\n\r\nI have made changes to the code, including adjusting the compare function and modifying the swim and sink functions. However, the array is still not sorted as expected.\r\n\r\nQuestion:\r\n\r\nI need help fixing the sink, swim, and rightshift functions or any other necessary changes to ensure that the array is correctly sorted for both min-heap and max-heap implementations. Can you please review my code and provide guidance on what needs to be changed to achieve this?","title":"Implementing Heap Sort from Scratch","body":"<pre><code>import java.util.Arrays;\n\nimport javax.management.RuntimeErrorException;\n\npublic class MyHeap {\n\npublic static void main(String args) {\n        MyHeap minHeap = new MyHeap(10, true);\n        minHeap.insert(70);\n        minHeap.insert(20);\n        minHeap.insert(90);\n        minHeap.insert(60);\n        minHeap.insert(40);\n        minHeap.insert(10);\n        minHeap.insert(50);\n        minHeap.insert(30);\n        minHeap.insert(80);\n        minHeap.insert(100);\n\n        System.out.println(&quot;Min Heap: &quot; + Arrays.toString(minHeap.heap));\n    \n        MyHeap maxHeap = new MyHeap(10, false);\n        maxHeap.insert(70);\n        maxHeap.insert(20);\n        maxHeap.insert(90);\n        maxHeap.insert(60);\n        maxHeap.insert(40);\n        maxHeap.insert(10);\n        maxHeap.insert(50);\n        maxHeap.insert(30);\n        maxHeap.insert(80);\n        maxHeap.insert(100);\n    \n        System.out.println(&quot;Max Heap: &quot; + Arrays.toString(maxHeap.heap));\n    }\n    \n    private int[] heap;\n    private int size = 0;\n    private int capacity;\n    private boolean reverse;// true if min heap\n    \n    public MyHeap(int capacity) {\n        this.capacity = capacity;\n        heap = new int[capacity];\n        // max heap by default\n        this.reverse = false;\n    }\n    \n    public MyHeap(int capacity, boolean reverse) {\n        this.capacity = capacity;\n        heap = new int[capacity];\n        this.reverse = reverse;\n    }\n    \n    private int compare(int a, int b) {\n        if (reverse)\n            return b - a;\n        return a - b;\n    }\n    \n    public void insert(int key) {\n        if (isFull()) {\n            throw new IndexOutOfBoundsException(&quot;Out of given capacity&quot;);\n        }\n        heap[size] = key;\n        swim(size++);\n    }\n    \n    // private void rightshift(int parent, int position) {\n    // for (int i = position; i &gt; parent; i--) {\n    // if (compare(heap[i], heap[i - 1]) &gt; 0)\n    // swap(i, i - 1);\n    // }\n    // }\n    \n    private void swim(int position) {\n        int parent = (position) / 2;\n        if (position &gt; 0 &amp;&amp; compare(heap[parent], heap[position]) &lt; 0) {\n            swap(parent, position);\n            // rightshift(parent, position);\n            swim(parent);\n        }\n    }\n    \n    private void sink(int position) {\n        int left = position * 2 + 1;\n        int right = position * 2 + 2;\n        int largest = position;\n        if (left &lt; size &amp;&amp; compare(heap[position], heap[left]) &lt; 0) {\n            largest = left;\n        }\n        if (right &lt; size &amp;&amp; compare(heap[position], heap[right]) &lt; 0) {\n            largest = right;\n        }\n        if (largest != position) {\n            swap(largest, position);\n            sink(largest);\n        }\n    \n    }\n    \n    public int getMin() {\n        if (isEmpty()) {\n            throw new IllegalStateException(&quot;No Data available&quot;);\n        }\n        if (reverse) {\n            return heap[size - 1];\n        }\n        return heap[0];\n    }\n    \n    public int getMax() {\n        if (isEmpty()) {\n            throw new IllegalStateException(&quot;No Data available&quot;);\n        }\n        if (reverse) {\n            return heap[0];\n        }\n        return heap[size - 1];\n    }\n    \n    public void delTop() {\n        if (isEmpty()) {\n            throw new IllegalStateException(&quot;No Data Available to delete&quot;);\n        }\n        swap(0, size - 1);\n        size--;\n        sink(0);\n    }\n    \n    public void delMin() {\n        if (isEmpty()) {\n            throw new IllegalStateException(&quot;No Data Available to delete&quot;);\n        }\n        if (reverse) {\n            throw new RuntimeErrorException(null, &quot;You Initialized a Min heap&quot;);\n        }\n        swap(getMin(), 0);\n        size--;\n        sink(0);\n    }\n    \n    public void delMax() {\n        if (isEmpty()) {\n            throw new IllegalStateException(&quot;No Data Available to delete&quot;);\n        }\n        if (!reverse) {\n            throw new RuntimeErrorException(null, &quot;You Initialized a Max heap&quot;);\n        }\n        swap(getMax(), 0);\n        size--;\n        sink(0);\n    }\n    \n    public int size() {\n        return size - 1;\n    }\n    \n    public boolean isFull() {\n        return size - 1 == capacity;\n    }\n    \n    public boolean isEmpty() {\n        return size == 0;\n    }\n    \n    private void swap(int i, int j) {\n        int temp = heap[i];\n        heap[i] = heap[j];\n        heap[j] = temp;\n    }\n    \n    @Override\n    public String toString() {\n        int[] items = Arrays.copyOf(heap, size);\n        return Arrays.toString(items);\n    }\n\n}\n\n\n</code></pre>\n<p>Output:</p>\n<p>Min Heap: 10, 20, 40, 30, 80, 60, 70, 50, 90, 100</p>\n<p>Max Heap: 100, 90, 80, 60, 70, 10, 50, 30, 20, 40</p>\n<p>Problem Description:</p>\n<p>I'm working on implementing a min-heap and max-heap in Java, but I'm encountering issues with sorting the array correctly. Let me explain the problem through an example:</p>\n<p>Let's say we have an array arr initialized as follows: {0, 0, 0} (max heap).</p>\n<p>We insert 70, and arr becomes {70, 0, 0}. No further changes will be done.\nWe insert 50, and arr becomes {70, 50, 0}. No further changes will be done.\nWe insert 80, and arr becomes {70, 50, 80}. Here, 80 is greater than its parent (70), so we swap them. After this swap, arr becomes {80, 50, 70}.\nNow, the array is still not sorted correctly. I attempted to solve this issue by introducing a rightshift function, but it didn't work as expected.</p>\n<p>What I've Tried:</p>\n<p>I have already implemented the basic structure of the min-heap and max-heap, but I believe the issues are primarily related to the swim, sink, and rightshift functions.</p>\n<p>I have made changes to the code, including adjusting the compare function and modifying the swim and sink functions. However, the array is still not sorted as expected.</p>\n<p>Question:</p>\n<p>I need help fixing the sink, swim, and rightshift functions or any other necessary changes to ensure that the array is correctly sorted for both min-heap and max-heap implementations. Can you please review my code and provide guidance on what needs to be changed to achieve this?</p>\n"},{"tags":["java","bukkit","spigot"],"answers":[{"tags":[],"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695570444,"creation_date":1695570444,"answer_id":77167818,"question_id":77167790,"body_markdown":"I have zero experience with bukkit or spigot from a developer point of view, but given my Java experience: You&#39;re defining your `ArrayList` non-`static`, that means that it most likely isn&#39;t unique throughout the server and means that every instance of your class might have its own `ArrayList`. Your approach would only work if your `Game` class is a singleton. \r\n\r\nYou can circumvent this by making the reference to the List `static` and also use a thread-safe list, like the [CopyOnWriteArrayList][1]. \r\n\r\nSo something like:\r\n\r\n    private static List&lt;Player&gt; gammaList = new CopyOnWriteArrayList&lt;&gt;();\r\n\r\nshould work.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CopyOnWriteArrayList.html","title":"Bukkit Java - ArrayList is not working in Event","body":"<p>I have zero experience with bukkit or spigot from a developer point of view, but given my Java experience: You're defining your <code>ArrayList</code> non-<code>static</code>, that means that it most likely isn't unique throughout the server and means that every instance of your class might have its own <code>ArrayList</code>. Your approach would only work if your <code>Game</code> class is a singleton.</p>\n<p>You can circumvent this by making the reference to the List <code>static</code> and also use a thread-safe list, like the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CopyOnWriteArrayList.html\" rel=\"nofollow noreferrer\">CopyOnWriteArrayList</a>.</p>\n<p>So something like:</p>\n<pre><code>private static List&lt;Player&gt; gammaList = new CopyOnWriteArrayList&lt;&gt;();\n</code></pre>\n<p>should work.</p>\n"}],"owner":{"account_id":29523220,"reputation":3,"user_id":22625487,"display_name":"KrzychuVelde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77167818,"answer_count":1,"score":0,"last_activity_date":1695570444,"creation_date":1695570026,"question_id":77167790,"body_markdown":"I want to make a plugin which gives a player night vision efect after typing a command and it is working but i also want to add if player is on this arraylist its giving an efect after dying, but it looks like after EventHandler its not loading players from arraylist.\r\n\r\n```\r\npublic class Gamma implements CommandExecutor, Listener {\r\n\r\n    private ArrayList&lt;Player&gt; gammaList = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    public boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\r\n        Player player = (Player) sender;\r\n        PotionEffect potionEffect = player.getPotionEffect(PotionEffectType.NIGHT_VISION);\r\n        if (gammaList.contains(player)) {\r\n            gammaList.remove(player);\r\n            player.sendMessage(ChatColor.GREEN + &quot;Pomyslnie&quot; + ChatColor.RED + &quot; usunieto&quot; + ChatColor.GREEN + &quot; efekt gammy!&quot;);\r\n            player.removePotionEffect(PotionEffectType.NIGHT_VISION);\r\n        } else if (!gammaList.contains(player)) {\r\n            gammaList.add(player);\r\n            player.sendMessage(ChatColor.GREEN + &quot;Pomyslnie&quot; + ChatColor.DARK_GREEN + &quot; nadano&quot; + ChatColor.GREEN + &quot; efekt gammy!&quot;);\r\n            player.addPotionEffect(new PotionEffect(PotionEffectType.NIGHT_VISION, Integer.MAX_VALUE, 1));\r\n        }\r\n        return true;\r\n    }\r\n    @EventHandler\r\n    public void onPlayerDie(EntityResurrectEvent event) {\r\n        \r\n        Player player = (Player) event.getEntity();\r\n        if (gammaList.contains(player)) {\r\n            player.addPotionEffect(new PotionEffect(PotionEffectType.NIGHT_VISION, Integer.MAX_VALUE, 1));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nSb know what should I change in this code?","title":"Bukkit Java - ArrayList is not working in Event","body":"<p>I want to make a plugin which gives a player night vision efect after typing a command and it is working but i also want to add if player is on this arraylist its giving an efect after dying, but it looks like after EventHandler its not loading players from arraylist.</p>\n<pre><code>public class Gamma implements CommandExecutor, Listener {\n\n    private ArrayList&lt;Player&gt; gammaList = new ArrayList&lt;&gt;();\n\n    @Override\n    public boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\n        Player player = (Player) sender;\n        PotionEffect potionEffect = player.getPotionEffect(PotionEffectType.NIGHT_VISION);\n        if (gammaList.contains(player)) {\n            gammaList.remove(player);\n            player.sendMessage(ChatColor.GREEN + &quot;Pomyslnie&quot; + ChatColor.RED + &quot; usunieto&quot; + ChatColor.GREEN + &quot; efekt gammy!&quot;);\n            player.removePotionEffect(PotionEffectType.NIGHT_VISION);\n        } else if (!gammaList.contains(player)) {\n            gammaList.add(player);\n            player.sendMessage(ChatColor.GREEN + &quot;Pomyslnie&quot; + ChatColor.DARK_GREEN + &quot; nadano&quot; + ChatColor.GREEN + &quot; efekt gammy!&quot;);\n            player.addPotionEffect(new PotionEffect(PotionEffectType.NIGHT_VISION, Integer.MAX_VALUE, 1));\n        }\n        return true;\n    }\n    @EventHandler\n    public void onPlayerDie(EntityResurrectEvent event) {\n        \n        Player player = (Player) event.getEntity();\n        if (gammaList.contains(player)) {\n            player.addPotionEffect(new PotionEffect(PotionEffectType.NIGHT_VISION, Integer.MAX_VALUE, 1));\n        }\n    }\n}\n</code></pre>\n<p>Sb know what should I change in this code?</p>\n"},{"tags":["java","spring","jpa","spring-transactions","spring-orm"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1695374368,"post_id":77156325,"comment_id":136018780,"body_markdown":"Maybe don&#39;t close the `EntityManager` before the transaction can be committed","body":"Maybe don&#39;t close the <code>EntityManager</code> before the transaction can be committed"},{"owner":{"account_id":3253983,"reputation":1481,"user_id":2743585,"display_name":"wi2ard"},"score":0,"creation_date":1695374829,"post_id":77156325,"comment_id":136018885,"body_markdown":"How are you calling the save() method? (And btw, don&#39;t do `em.close` in your method; you even don&#39;t always need `em.persist`, entities instantiated in an active transaction are persisted automatically when the transaction ends)","body":"How are you calling the save() method? (And btw, don&#39;t do <code>em.close</code> in your method; you even don&#39;t always need <code>em.persist</code>, entities instantiated in an active transaction are persisted automatically when the transaction ends)"},{"owner":{"account_id":8565752,"reputation":615,"user_id":6418277,"accept_rate":81,"display_name":"Gaetan L."},"score":0,"creation_date":1695375106,"post_id":77156325,"comment_id":136018968,"body_markdown":"@Jorn sorry, I copy pasted before I removed the .close() but I did and it still doesn&#39;t work.","body":"@Jorn sorry, I copy pasted before I removed the .close() but I did and it still doesn&#39;t work."},{"owner":{"account_id":8565752,"reputation":615,"user_id":6418277,"accept_rate":81,"display_name":"Gaetan L."},"score":0,"creation_date":1695375975,"post_id":77156325,"comment_id":136019179,"body_markdown":"@wi2ard I added the Main class from which I call save. Yes I removed the .close(). Should I use something else instead of persist() ?","body":"@wi2ard I added the Main class from which I call save. Yes I removed the .close(). Should I use something else instead of persist() ?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1695395439,"post_id":77156325,"comment_id":136023198,"body_markdown":"This ONLY works when you manage transactions yourself because you are using a local EntityManager context. By calling pu.getEntityManager();, it is not managed by the container - you can check this out by using the isJoinedToTransaction() to see if it is within an active JTA transaction. If it is hooked into Spring&#39;s config correctly, you can also call joinTransaction() to have it register with the active JTA transaction, but you are likely better off letting Spring inject your EntityManager context directly.","body":"This ONLY works when you manage transactions yourself because you are using a local EntityManager context. By calling pu.getEntityManager();, it is not managed by the container - you can check this out by using the isJoinedToTransaction() to see if it is within an active JTA transaction. If it is hooked into Spring&#39;s config correctly, you can also call joinTransaction() to have it register with the active JTA transaction, but you are likely better off letting Spring inject your EntityManager context directly."},{"owner":{"account_id":8565752,"reputation":615,"user_id":6418277,"accept_rate":81,"display_name":"Gaetan L."},"score":0,"creation_date":1695556372,"post_id":77156325,"comment_id":136037594,"body_markdown":"@Chris I removed my PersistenceUtil entirely, and added an Autowired private EntityManager em; in my repository, but still nothing gets saved in the db if I don&#39;t use begin/commit.","body":"@Chris I removed my PersistenceUtil entirely, and added an Autowired private EntityManager em; in my repository, but still nothing gets saved in the db if I don&#39;t use begin/commit."}],"answers":[{"tags":[],"owner":{"account_id":3253983,"reputation":1481,"user_id":2743585,"display_name":"wi2ard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695387562,"creation_date":1695379743,"answer_id":77156952,"question_id":77156325,"body_markdown":"Check [this guide][1] for an in-depth and clear explanation about Spring transactionality:\r\n\r\n&gt; Your UserService *(ne. in your example using main it is CrudRepository)* gets proxied on the fly, and the proxy manages transactions for you. But it is not the proxy itself handling all this transactional state (open, commit, close), the proxy delegates that work to a transaction manager.\r\n\r\n  You should instantiate the transaction manager bean, use for eg. JpaTransactionManager to reuse your entityManagerFactory.\r\n\r\nI see you have some logging framework put in place so you can [enable logging of the transaction handling][2] to better understand what&#39;s going on.\r\n\r\n*Edit after comment*: \r\n\r\n&gt; When I use my other save method with begin and commit instead of Transactional it logs them properly\r\n\r\nYou could look at your flushing. Because you&#39;re using the default flushing strategy, [Jpa will only flush when needed][3] - that is when a new query is made that needs up to date records\r\n\r\n\r\n  [1]: https://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth\r\n  [2]: https://stackoverflow.com/questions/1965454/showing-a-spring-transaction-in-log\r\n  [3]: https://www.baeldung.com/spring-jpa-flush","title":"EntityManager.persist() not working with @Transactional","body":"<p>Check <a href=\"https://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth\" rel=\"nofollow noreferrer\">this guide</a> for an in-depth and clear explanation about Spring transactionality:</p>\n<blockquote>\n<p>Your UserService <em>(ne. in your example using main it is CrudRepository)</em> gets proxied on the fly, and the proxy manages transactions for you. But it is not the proxy itself handling all this transactional state (open, commit, close), the proxy delegates that work to a transaction manager.</p>\n</blockquote>\n<p>You should instantiate the transaction manager bean, use for eg. JpaTransactionManager to reuse your entityManagerFactory.</p>\n<p>I see you have some logging framework put in place so you can <a href=\"https://stackoverflow.com/questions/1965454/showing-a-spring-transaction-in-log\">enable logging of the transaction handling</a> to better understand what's going on.</p>\n<p><em>Edit after comment</em>:</p>\n<blockquote>\n<p>When I use my other save method with begin and commit instead of Transactional it logs them properly</p>\n</blockquote>\n<p>You could look at your flushing. Because you're using the default flushing strategy, <a href=\"https://www.baeldung.com/spring-jpa-flush\" rel=\"nofollow noreferrer\">Jpa will only flush when needed</a> - that is when a new query is made that needs up to date records</p>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695565757,"creation_date":1695561245,"answer_id":77167247,"question_id":77156325,"body_markdown":"It is because in your not working example,  the `entityManager` that you used to persist the entity is not the same `entityManager` instance that is used to begin the transaction.\r\n\r\nThe aspect that is backing the `@Transactional` will automatically create an `entityManager` and start the transaction on it before it actually executing the `@Transactional` method . You can think that the following codes actually executes behind the scene in this transactional aspect before it really executes the `@Transactional` method : \r\n\r\n``` java\r\nEntityManager em = entityManagerFactory.createEntityManager();\r\nem.getTransaction().begin();\r\n```\r\n\r\nIn your `@Transactional` method , you need to use the `@PersistenceContext` to access the `entityManager` instance that is created in the transactional aspect , but not creating another new `entityManager` by yourself which you never start any transaction on it and hence the entity your persist with it will never get commit. \r\n\r\nCodewise , you have to do something likes : \r\n\r\n``` java\r\n@Repository\r\npublic class SomeRepository {\r\n\r\n    @PersistenceContext\r\n\tprivate EntityManager em;\r\n\t\r\n\t@Transactional\r\n\tpublic &lt;S extends Message&gt; S save(S entity) {;\r\n\t    em.persist(entity);\r\n\t    return entity;\r\n\t}\r\n}\r\n```\r\n\r\n\r\n----------\r\nBut before making `@PersistenceContext` can correctly inject the `entityManager` , you have to first integrate spring with hibernate correctly first by defining `EntityManagerFactory` as a spring bean. The recommend option is use `LocalContainerEntityManagerFactoryBean`   (See [this][1] for details). \r\n\r\nA quick getting started example for you is :\r\n\r\n``` java\r\n@Bean\r\npublic LocalContainerEntityManagerFactoryBean localContainerEntityManagerFactoryBean(DataSource ds) {\r\n\t  LocalContainerEntityManagerFactoryBean factory = new LocalContainerEntityManagerFactoryBean();\r\n\t  factory.setDataSource(ds);\r\n\t  factory.setPersistenceProviderClass(HibernatePersistenceProvider.class);\r\n\r\n      // configure your factory here ..\r\n\t  return factory;\r\n}\r\n\r\n```\r\n\r\nAnd your `JpaTransactionManager` just need to be defined as :\r\n\r\n\r\n``` java\r\n@Bean\r\npublic PlatformTransactionManager txManager() {\r\n        return new JpaTransactionManager();\r\n}\r\n```\r\n\r\nIt will retrieve `EntityManagerFactory` from the spring context (i.e the one that is created by the `LocalContainerEntityManagerFactoryBean`) and to use it. But not using the one that is not managed by Spring. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/reference/data-access/orm/jpa.html#orm-jpa-setup-lcemfb","title":"EntityManager.persist() not working with @Transactional","body":"<p>It is because in your not working example,  the <code>entityManager</code> that you used to persist the entity is not the same <code>entityManager</code> instance that is used to begin the transaction.</p>\n<p>The aspect that is backing the <code>@Transactional</code> will automatically create an <code>entityManager</code> and start the transaction on it before it actually executing the <code>@Transactional</code> method . You can think that the following codes actually executes behind the scene in this transactional aspect before it really executes the <code>@Transactional</code> method :</p>\n<pre class=\"lang-java prettyprint-override\"><code>EntityManager em = entityManagerFactory.createEntityManager();\nem.getTransaction().begin();\n</code></pre>\n<p>In your <code>@Transactional</code> method , you need to use the <code>@PersistenceContext</code> to access the <code>entityManager</code> instance that is created in the transactional aspect , but not creating another new <code>entityManager</code> by yourself which you never start any transaction on it and hence the entity your persist with it will never get commit.</p>\n<p>Codewise , you have to do something likes :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic class SomeRepository {\n\n    @PersistenceContext\n    private EntityManager em;\n    \n    @Transactional\n    public &lt;S extends Message&gt; S save(S entity) {;\n        em.persist(entity);\n        return entity;\n    }\n}\n</code></pre>\n<hr />\n<p>But before making <code>@PersistenceContext</code> can correctly inject the <code>entityManager</code> , you have to first integrate spring with hibernate correctly first by defining <code>EntityManagerFactory</code> as a spring bean. The recommend option is use <code>LocalContainerEntityManagerFactoryBean</code>   (See <a href=\"https://docs.spring.io/spring-framework/reference/data-access/orm/jpa.html#orm-jpa-setup-lcemfb\" rel=\"nofollow noreferrer\">this</a> for details).</p>\n<p>A quick getting started example for you is :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic LocalContainerEntityManagerFactoryBean localContainerEntityManagerFactoryBean(DataSource ds) {\n      LocalContainerEntityManagerFactoryBean factory = new LocalContainerEntityManagerFactoryBean();\n      factory.setDataSource(ds);\n      factory.setPersistenceProviderClass(HibernatePersistenceProvider.class);\n\n      // configure your factory here ..\n      return factory;\n}\n\n</code></pre>\n<p>And your <code>JpaTransactionManager</code> just need to be defined as :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic PlatformTransactionManager txManager() {\n        return new JpaTransactionManager();\n}\n</code></pre>\n<p>It will retrieve <code>EntityManagerFactory</code> from the spring context (i.e the one that is created by the <code>LocalContainerEntityManagerFactoryBean</code>) and to use it. But not using the one that is not managed by Spring.</p>\n"},{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695570420,"creation_date":1695568895,"answer_id":77167713,"question_id":77156325,"body_markdown":"I finally made your code working on my local by fixing your code. :)\r\n\r\n Now, it&#39;s persisting the data in the database. I have used mysql database for testing.\r\n\r\nFor testing, **hibernate.cfg.xml:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    \r\n    &lt;hibernate-configuration&gt;\r\n    \t&lt;session-factory&gt;\r\n    \t\t&lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/test&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connection.password&quot;&gt;Anish@123&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;create-drop&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\r\n    \t\t&lt;mapping class=&quot;com.example.demo.Message&quot;/&gt;\r\n    \t&lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\nRemove `@EnableTransactionManagement` from the **MessageRepository** class, put `@Transactional(transactionManager=&quot;txManager&quot;)` on the `save` method and put `@PersistenceContext` on the entityManager instead of `@Autowired`:\r\n\r\n    package com.example.demo;\r\n    \r\n    import jakarta.persistence.EntityManager;\r\n    import jakarta.persistence.NoResultException;\r\n    import jakarta.persistence.PersistenceContext;\r\n    import jakarta.persistence.criteria.CriteriaBuilder;\r\n    import jakarta.persistence.criteria.CriteriaQuery;\r\n    import jakarta.persistence.criteria.Root;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.data.repository.CrudRepository;\r\n    import org.springframework.lang.NonNull;\r\n    import org.springframework.stereotype.Repository;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    \r\n    @Repository\r\n    public class MessageRepository implements CrudRepository&lt;Message, Long&gt; {\r\n    \r\n    \t@PersistenceContext\r\n    \tprivate EntityManager em;\r\n    \r\n    \tprivate final static Logger logger = LoggerFactory.getLogger(MessageRepository.class);\r\n    \r\n    \t@Transactional(transactionManager = &quot;txManager&quot;)\r\n    \t@Override\r\n    \tpublic @NonNull &lt;S extends Message&gt; S save(@NonNull S message) {\r\n    \t\t//em.getTransaction().begin();\r\n    \t\tem.persist(message);\r\n    \t\t//em.getTransaction().commit();\r\n    \t\treturn message;\r\n    \t}\r\n    \r\n         ....\r\n    }\r\n\r\nAdd `@EnableTransactionManagement` on the **PersistenceUtil** and `@Bean` over the **EntityManagerFactory** so that Spring is able to find the bean and inject in **EntityManager** via `@PersistenceContext`:\r\n\r\n    package com.example.demo;\r\n    \r\n    import jakarta.annotation.PreDestroy;\r\n    import jakarta.persistence.EntityManager;\r\n    import jakarta.persistence.EntityManagerFactory;\r\n    import org.hibernate.boot.MetadataSources;\r\n    import org.hibernate.boot.registry.StandardServiceRegistry;\r\n    import org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.orm.jpa.JpaTransactionManager;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.transaction.PlatformTransactionManager;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n    \r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @Service\r\n    public class PersistenceUtil {\r\n        final static Logger logger = LoggerFactory.getLogger(PersistenceUtil.class);\r\n    \r\n    \tprivate static EntityManagerFactory emf = null;\r\n    \r\n        @Bean\r\n        public PlatformTransactionManager txManager() {\r\n            return new JpaTransactionManager(getEntityManagerFactory());\r\n        }\r\n    \r\n        @Bean\r\n        public EntityManagerFactory getEntityManagerFactory() {\r\n            if (emf == null) {\r\n                synchronized (EntityManagerFactory.class) {\r\n                    if (emf == null) {\r\n                \t\tfinal StandardServiceRegistry sr = new StandardServiceRegistryBuilder()\r\n                \t\t\t\t.configure() // Configures setting from hibernate.cfg.xml\r\n                \t\t\t\t.build();\r\n                \t\ttry {\r\n                \t\t\temf = new MetadataSources(sr).buildMetadata().buildSessionFactory();\r\n                \t\t}\r\n                \t\tcatch (Exception e) {\r\n                \t\t\tStandardServiceRegistryBuilder.destroy(sr);\r\n                \t\t\tthrow e;\r\n                \t\t}\r\n                    }\r\n                }\r\n            }\r\n            return emf;\r\n        }\r\n    \r\n        @PreDestroy\r\n        public static void closeEntityManagerFactory() {\r\n        \tSystem.out.println(&quot;PersistenceUtil.closeEntityManagerFactory()&quot;);\r\n            if (emf != null) {\r\n                emf.close();\r\n            }\r\n        }\r\n    \r\n        @Bean\r\n        public EntityManager getEntityManager() {\r\n            return getEntityManagerFactory().createEntityManager();\r\n        }\r\n    }\r\n\r\n**TestSpringApplication**:\r\n\r\n    @Configuration\r\n    @ComponentScan\r\n    public class TestSpringApplication {\r\n    \t@Autowired\r\n    \tprivate ApplicationContext context;\r\n    \r\n    \t@Autowired\r\n    \tprivate CrudRepository&lt;Message, Long&gt; messageRepository;\r\n    \r\n    \tfinal static Logger logger = LoggerFactory.getLogger(TestSpringApplication.class);\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tApplicationContext ctx = new AnnotationConfigApplicationContext(TestSpringApplication.class);\r\n    \t\tTestSpringApplication app = ctx.getBean(TestSpringApplication.class);\r\n    \t\tapp.run(args);\r\n    \t}\r\n    \r\n    \tpublic void run(String... args) {\r\n    \t\t// SAVE\r\n    \t\tlogger.debug(&quot;saving message 1/one...&quot;);\r\n    \t\tMessage messageOne = messageRepository.save(new Message(&quot;Message one&quot;));\r\n    \r\n    \t\tlogger.debug(&quot;saving message 2/two...&quot;);\r\n    \t\tMessage messageTwo = messageRepository.save(new Message(&quot;Message two&quot;));\r\n    \t\tprintAllMessages();\r\n    \r\n    \r\n    \t\t// SAVE ALL\r\n    \t\tlogger.debug(&quot;saving message 2/two...&quot;);\r\n    \t\tMessage messageThree = new Message(&quot;Message three&quot;);\r\n    \t\tMessage messageFour = new Message(&quot;Message four&quot;);\r\n    \t\tMessage messageFive = new Message(&quot;Message five&quot;);\r\n    \t\tMessage messageSix = new Message(&quot;Message six&quot;);\r\n    \t\tMessage messageSeven = new Message(&quot;Message seven&quot;);\r\n    \t\tMessage messageEight = new Message(&quot;Message eight&quot;);\r\n    \t\tList&lt;Message&gt; messages = Arrays.asList(messageThree, messageFour, messageFive, messageSix, messageSeven, messageEight);\r\n    \t\tmessageRepository.saveAll(messages);\r\n    \r\n    \t\t// FIND ALL\r\n    \t\tprintAllMessages();\r\n    \t}\r\n    \r\n    \tprivate void printAllMessages() {\r\n    \t\tlogger.debug(&quot;finding all messages...&quot;);\r\n    \t\tmessageRepository.findAll().forEach(m -&gt; {\r\n    \t\t\tlogger.debug(&quot;Message: &quot; + m.toString());\r\n    \t\t});\r\n    \t}\r\n    }\r\n     \r\n\r\nSuccessful data persistence with the screenshot:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2rppA.png","title":"EntityManager.persist() not working with @Transactional","body":"<p>I finally made your code working on my local by fixing your code. :)</p>\n<p>Now, it's persisting the data in the database. I have used mysql database for testing.</p>\n<p>For testing, <strong>hibernate.cfg.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/test&lt;/property&gt;\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\n        &lt;property name=&quot;connection.password&quot;&gt;Anish@123&lt;/property&gt;\n        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;create-drop&lt;/property&gt;\n        &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\n        &lt;mapping class=&quot;com.example.demo.Message&quot;/&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>Remove <code>@EnableTransactionManagement</code> from the <strong>MessageRepository</strong> class, put <code>@Transactional(transactionManager=&quot;txManager&quot;)</code> on the <code>save</code> method and put <code>@PersistenceContext</code> on the entityManager instead of <code>@Autowired</code>:</p>\n<pre><code>package com.example.demo;\n\nimport jakarta.persistence.EntityManager;\nimport jakarta.persistence.NoResultException;\nimport jakarta.persistence.PersistenceContext;\nimport jakarta.persistence.criteria.CriteriaBuilder;\nimport jakarta.persistence.criteria.CriteriaQuery;\nimport jakarta.persistence.criteria.Root;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.lang.NonNull;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\n\n@Repository\npublic class MessageRepository implements CrudRepository&lt;Message, Long&gt; {\n\n    @PersistenceContext\n    private EntityManager em;\n\n    private final static Logger logger = LoggerFactory.getLogger(MessageRepository.class);\n\n    @Transactional(transactionManager = &quot;txManager&quot;)\n    @Override\n    public @NonNull &lt;S extends Message&gt; S save(@NonNull S message) {\n        //em.getTransaction().begin();\n        em.persist(message);\n        //em.getTransaction().commit();\n        return message;\n    }\n\n     ....\n}\n</code></pre>\n<p>Add <code>@EnableTransactionManagement</code> on the <strong>PersistenceUtil</strong> and <code>@Bean</code> over the <strong>EntityManagerFactory</strong> so that Spring is able to find the bean and inject in <strong>EntityManager</strong> via <code>@PersistenceContext</code>:</p>\n<pre><code>package com.example.demo;\n\nimport jakarta.annotation.PreDestroy;\nimport jakarta.persistence.EntityManager;\nimport jakarta.persistence.EntityManagerFactory;\nimport org.hibernate.boot.MetadataSources;\nimport org.hibernate.boot.registry.StandardServiceRegistry;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.PlatformTransactionManager;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\n@Configuration\n@EnableTransactionManagement\n@Service\npublic class PersistenceUtil {\n    final static Logger logger = LoggerFactory.getLogger(PersistenceUtil.class);\n\n    private static EntityManagerFactory emf = null;\n\n    @Bean\n    public PlatformTransactionManager txManager() {\n        return new JpaTransactionManager(getEntityManagerFactory());\n    }\n\n    @Bean\n    public EntityManagerFactory getEntityManagerFactory() {\n        if (emf == null) {\n            synchronized (EntityManagerFactory.class) {\n                if (emf == null) {\n                    final StandardServiceRegistry sr = new StandardServiceRegistryBuilder()\n                            .configure() // Configures setting from hibernate.cfg.xml\n                            .build();\n                    try {\n                        emf = new MetadataSources(sr).buildMetadata().buildSessionFactory();\n                    }\n                    catch (Exception e) {\n                        StandardServiceRegistryBuilder.destroy(sr);\n                        throw e;\n                    }\n                }\n            }\n        }\n        return emf;\n    }\n\n    @PreDestroy\n    public static void closeEntityManagerFactory() {\n        System.out.println(&quot;PersistenceUtil.closeEntityManagerFactory()&quot;);\n        if (emf != null) {\n            emf.close();\n        }\n    }\n\n    @Bean\n    public EntityManager getEntityManager() {\n        return getEntityManagerFactory().createEntityManager();\n    }\n}\n</code></pre>\n<p><strong>TestSpringApplication</strong>:</p>\n<pre><code>@Configuration\n@ComponentScan\npublic class TestSpringApplication {\n    @Autowired\n    private ApplicationContext context;\n\n    @Autowired\n    private CrudRepository&lt;Message, Long&gt; messageRepository;\n\n    final static Logger logger = LoggerFactory.getLogger(TestSpringApplication.class);\n\n    public static void main(String[] args) {\n        ApplicationContext ctx = new AnnotationConfigApplicationContext(TestSpringApplication.class);\n        TestSpringApplication app = ctx.getBean(TestSpringApplication.class);\n        app.run(args);\n    }\n\n    public void run(String... args) {\n        // SAVE\n        logger.debug(&quot;saving message 1/one...&quot;);\n        Message messageOne = messageRepository.save(new Message(&quot;Message one&quot;));\n\n        logger.debug(&quot;saving message 2/two...&quot;);\n        Message messageTwo = messageRepository.save(new Message(&quot;Message two&quot;));\n        printAllMessages();\n\n\n        // SAVE ALL\n        logger.debug(&quot;saving message 2/two...&quot;);\n        Message messageThree = new Message(&quot;Message three&quot;);\n        Message messageFour = new Message(&quot;Message four&quot;);\n        Message messageFive = new Message(&quot;Message five&quot;);\n        Message messageSix = new Message(&quot;Message six&quot;);\n        Message messageSeven = new Message(&quot;Message seven&quot;);\n        Message messageEight = new Message(&quot;Message eight&quot;);\n        List&lt;Message&gt; messages = Arrays.asList(messageThree, messageFour, messageFive, messageSix, messageSeven, messageEight);\n        messageRepository.saveAll(messages);\n\n        // FIND ALL\n        printAllMessages();\n    }\n\n    private void printAllMessages() {\n        logger.debug(&quot;finding all messages...&quot;);\n        messageRepository.findAll().forEach(m -&gt; {\n            logger.debug(&quot;Message: &quot; + m.toString());\n        });\n    }\n}\n \n</code></pre>\n<p>Successful data persistence with the screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/2rppA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2rppA.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8565752,"reputation":615,"user_id":6418277,"accept_rate":81,"display_name":"Gaetan L."},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":573,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77167713,"answer_count":3,"score":0,"last_activity_date":1695570420,"creation_date":1695374282,"question_id":77156325,"body_markdown":"I&#39;m trying to learn how to use the @Transactional annotation in Spring (I&#39;m not using Spring Boot). But when I swich from my - working - method using begin() and commit() ton the one with @Transactional, my entities aren&#39;t persisted. Can you help me understand what I&#39;m doing wrong?\r\n\r\nWithout transactional/working method:\r\n\r\n    public &lt;S extends Message&gt; S save(S entity) {\r\n        EntityManager em = pu.getEntityManager();\r\n        try {\r\n            logger.debug(&quot;Trying to save &quot; + ((Message) entity).toString());\r\n            em.getTransaction().begin();\r\n            em.persist(entity);\r\n            em.getTransaction().commit();\r\n            logger.debug(&quot;MessageRepository.save() - after .commit()&quot;);\r\n        }\r\n        catch (PersistenceException e) {\r\n            logger.error(&quot;Entity already exists&quot;);\r\n            e.printStackTrace();\r\n        }\r\n        finally {\r\n            System.out.println();\r\n            em.close();\r\n        }\r\n\r\n        return entity;\r\n    }\r\n\r\nWith @Transactional/not working:\r\n\r\n    @Transactional\r\n    @Override\r\n    public &lt;S extends Message&gt; S save(S entity) {\r\n        EntityManager em = pu.getEntityManager();\r\n        em.persist(entity);\r\n\t\treturn entity;\r\n    }\r\n\r\nAnd here is my PersustanceUtil (pu) class:\r\n\r\n    package com.cypherf.repository;\r\n    import jakarta.persistence.EntityManager;\r\n    import jakarta.persistence.EntityManagerFactory;\r\n    import jakarta.annotation.PreDestroy;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.boot.MetadataSources;\r\n    import org.hibernate.boot.registry.StandardServiceRegistry;\r\n    import org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.orm.hibernate5.HibernateTransactionManager;\r\n    import org.springframework.orm.jpa.JpaTransactionManager;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.transaction.PlatformTransactionManager;\r\n\r\n    import javax.sql.DataSource;\r\n\r\n    @Configuration\r\n    @Service\r\n    public class PersistenceUtil {\r\n        private static EntityManagerFactory emf = null;\r\n\r\n        @Bean\r\n        public PlatformTransactionManager txManager() {\r\n            return new JpaTransactionManager(getEntityManagerFactory());\r\n        }\r\n\r\n        /**\r\n         * Creates entity manager factory as singleton instance and returns it\r\n         *\r\n         * @return the EntityManagerFactory\r\n         */\r\n        public EntityManagerFactory getEntityManagerFactory() {\r\n            if (emf == null) {\r\n                synchronized (EntityManagerFactory.class) {\r\n                    if (emf == null) {\r\n                        final StandardServiceRegistry sr = new StandardServiceRegistryBuilder()\r\n                                .configure() // Configures setting from hibernate.cfg.xml\r\n                                .build();\r\n                        try {\r\n                            emf = new MetadataSources(sr).buildMetadata().buildSessionFactory();\r\n                        }\r\n                        catch (Exception e) {\r\n                            StandardServiceRegistryBuilder.destroy(sr);\r\n                            throw e;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return emf;\r\n        }\r\n\r\n        /**\r\n         * Closes the entity manager factory\r\n         */\r\n        @PreDestroy\r\n        public static void closeEntityManagerFactory() {\r\n            System.out.println(&quot;PersistenceUtil.closeEntityManagerFactory()&quot;);\r\n            if (emf != null) {\r\n                System.out.println(&quot;Closing emf&quot;);\r\n                emf.close();\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Returns a new EntityManager instance\r\n         *\r\n         * @return the new EntityManager instance\r\n         */\r\n        public EntityManager getEntityManager() {\r\n            return getEntityManagerFactory().createEntityManager();\r\n        }\r\n    }\r\n\r\nMain class:\r\n\r\n    package com.cypherf;\r\n    import com.cypherf.model.Message;\r\n    import com.cypherf.repository.MessageRepository;\r\n    import com.cypherf.service.MessageService;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.data.repository.CrudRepository;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n\r\n    @Configuration\r\n    @ComponentScan\r\n    @EnableTransactionManagement\r\n    public class TestSpringApplication {\r\n        @Autowired\r\n        private ApplicationContext context;\r\n\r\n        @Autowired\r\n        private CrudRepository&lt;Message, Long&gt; messageRepository;\r\n\r\n        @Autowired\r\n        private MessageService messageService;\r\n\r\n        final static Logger logger = LoggerFactory.getLogger(TestSpringApplication.class);\r\n\r\n        public static void main(String[] args) {\r\n            ApplicationContext ctx = new AnnotationConfigApplicationContext(TestSpringApplication.class);\r\n            TestSpringApplication app = ctx.getBean(TestSpringApplication.class);\r\n            logger.info(&quot;Running app...&quot;);\r\n            app.run(args);\r\n            //TestSpringApplication app = context.getBean(TestSpringApplication.class);\r\n            //TestSpringApplication app = new TestSpringApplication();\r\n            //app.run(args);\r\n\r\n        }\r\n\r\n        public void run(String... args) {\r\n            messageRepository.save(new Message(&quot;Message one&quot;));\r\n            messageRepository.save(new Message(&quot;Message two&quot;));\r\n            messageService.printAllMessages();\r\n\r\n            messageRepository.save(new Message(&quot;Message two&quot;));\r\n            messageService.printAllMessages();\r\n\r\n    //        System.out.println(&quot;BEANS:&quot;);\r\n    //        List&lt;String&gt; beans = Arrays.asList(context.getBeanDefinitionNames());\r\n    //        beans.forEach(bean -&gt; System.out.println(bean));\r\n        }\r\n    }\r\n\r\nHere is the output:\r\n\r\n    [...]\r\n    2419 [main] DEBUG org.hibernate.event.internal.EntityCopyObserverFactoryInitiator  - Configured EntityCopyObserver strategy: disallow\r\n    2518 [main] DEBUG org.hibernate.boot.internal.ClassLoaderAccessImpl  - Not known whether passed class name [com.cypherf.model.Message] is safe\r\n    2518 [main] DEBUG org.hibernate.boot.internal.ClassLoaderAccessImpl  - No temp ClassLoader provided; using live ClassLoader for loading potentially unsafe class : com.cypherf.model.Message\r\n    2790 [main] DEBUG org.hibernate.bytecode.internal.bytebuddy.BytecodeProviderImpl  - HHH000513: Unable to create the ReflectionOptimizer for [com.cypherf.model.Message]: private accessor [text]\r\n    2853 [main] DEBUG org.hibernate.orm.model.mapping.creation  - Starting post-init callbacks\r\n    2853 [main] DEBUG org.hibernate.orm.model.mapping.creation  - Starting PostInitCallbackEntry : Entity(com.cypherf.model.Message) `staticFetchableList` generator\r\n    2853 [main] DEBUG org.hibernate.orm.model.mapping.creation  - Starting PostInitCallbackEntry : Entity(com.cypherf.model.Message) `sqmMultiTableInsertStrategy` interpretation\r\n    2946 [main] DEBUG org.hibernate.persister.entity.AbstractEntityPersister  - Static SQL for entity: com.cypherf.model.Message\r\n    2946 [main] DEBUG org.hibernate.persister.entity.AbstractEntityPersister  -  Version select: select id from Message where id=?\r\n    2946 [main] DEBUG org.hibernate.persister.entity.AbstractEntityPersister  -  Insert (0): insert into Message (text,id) values (?,?)\r\n    2946 [main] DEBUG org.hibernate.persister.entity.AbstractEntityPersister  -  Update (0): update Message set text=? where id=?\r\n    2946 [main] DEBUG org.hibernate.persister.entity.AbstractEntityPersister  -  Delete (0): delete from Message where id=?\r\n    2962 [main] DEBUG org.hibernate.orm.sql.ast.create  - Created new SQL alias : m1_0\r\n    2962 [main] DEBUG org.hibernate.orm.sql.ast.create  - Registration of TableGroup [StandardTableGroup(com.cypherf.model.Message)] with identifierForTableGroup [com.cypherf.model.Message] for NavigablePath [com.cypherf.model.Message] \r\n    2993 [main] DEBUG org.hibernate.orm.results.graph.AST  - DomainResult Graph:\r\n     \\-EntityResultImpl [com.cypherf.model.Message]\r\n     |  \\-BasicFetch [com.cypherf.model.Message.text]\r\n\r\n    2993 [main] DEBUG org.hibernate.orm.sql.ast.tree  - SQL AST Tree:\r\n        SelectStatement {\r\n          FromClause {\r\n            StandardTableGroup (m1 : com.cypherf.model.Message) {\r\n              primaryTableReference : Message as m1_0\r\n            }\r\n          }\r\n        }\r\n\r\n    3040 [main] DEBUG org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator  - No JtaPlatform was specified, checking resolver\r\n    3040 [main] DEBUG org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformResolverInitiator  - No JtaPlatformResolver was specified, using default [org.hibernate.engine.transaction.jta.platform.internal.StandardJtaPlatformResolver]\r\n    3056 [main] DEBUG org.hibernate.engine.transaction.jta.platform.internal.StandardJtaPlatformResolver  - Could not resolve JtaPlatform, using default [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    3056 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator  - HHH000489: No JTA platform available (set &#39;hibernate.transaction.jta.platform&#39; to enable JTA platform integration)\r\n    3056 [main] DEBUG org.hibernate.type.spi.TypeConfiguration$Scope  - Scoping TypeConfiguration [org.hibernate.type.spi.TypeConfiguration@4d27d9d] to SessionFactoryImplementor [org.hibernate.internal.SessionFactoryImpl@3a209918]\r\n    3056 [main] DEBUG org.hibernate.query.named.NamedObjectRepository  - Checking 0 named HQL queries\r\n    3056 [main] DEBUG org.hibernate.query.named.NamedObjectRepository  - Checking 0 named SQL queries\r\n    3071 [main] DEBUG org.hibernate.SQL  - \r\n        drop table if exists Message cascade \r\n    Hibernate: \r\n        drop table if exists Message cascade \r\n    3087 [main] INFO  org.hibernate.orm.connections.access  - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@5170bc02] for (non-JTA) DDL execution was not in auto-commit mode; the Connection &#39;local transaction&#39; will be committed and the Connection will be set into auto-commit mode.\r\n    3088 [main] DEBUG org.hibernate.SQL  - \r\n        drop sequence if exists Message_SEQ\r\n    Hibernate: \r\n        drop sequence if exists Message_SEQ\r\n    3088 [main] DEBUG org.hibernate.SQL  - \r\n        create sequence Message_SEQ start with 1 increment by 50\r\n    Hibernate: \r\n        create sequence Message_SEQ start with 1 increment by 50\r\n    3088 [main] INFO  org.hibernate.orm.connections.access  - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@4601047] for (non-JTA) DDL execution was not in auto-commit mode; the Connection &#39;local transaction&#39; will be committed and the Connection will be set into auto-commit mode.\r\n    3103 [main] DEBUG org.hibernate.SQL  - \r\n        create table Message (\r\n            id bigint not null,\r\n            text varchar(255) unique,\r\n            primary key (id)\r\n        )\r\n    Hibernate: \r\n        create table Message (\r\n            id bigint not null,\r\n            text varchar(255) unique,\r\n            primary key (id)\r\n        )\r\n    3119 [main] DEBUG org.hibernate.internal.SessionFactoryRegistry  - Initializing SessionFactoryRegistry : org.hibernate.internal.SessionFactoryRegistry@40dd552c\r\n    3119 [main] DEBUG org.hibernate.internal.SessionFactoryRegistry  - Registering SessionFactory: 0c3c67af-87cc-4b0a-bfd9-a5e6498e66fc (&lt;unnamed&gt;)\r\n    3119 [main] DEBUG org.hibernate.internal.SessionFactoryRegistry  - Not binding SessionFactory to JNDI, no JNDI name configured\r\n    3119 [main] DEBUG org.hibernate.internal.SessionFactoryImpl  - Instantiated SessionFactory\r\n    3176 [main] DEBUG org.hibernate.stat.internal.StatisticsInitiator  - Statistics initialized [enabled=false]\r\n    3333 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory  - Creating shared instance of singleton bean &#39;messageService&#39;\r\n    3333 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory  - Creating shared instance of singleton bean &#39;txManager&#39;\r\n    3402 [main] INFO  com.cypherf.TestSpringApplication  - Running app...\r\n    3409 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Creating new transaction with name [com.cypherf.repository.MessageRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT\r\n    3409 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Opened new EntityManager [SessionImpl(1809269661&lt;open&gt;)] for JPA transaction\r\n    3409 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - On TransactionImpl creation, JpaCompliance#isJpaTransactionComplianceEnabled == false\r\n    3409 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - begin\r\n    3409 [main] DEBUG com.cypherf.repository.MessageRepository  - Trying to save Message [id: 0; text:&quot;Message one&quot;]\r\n    3425 [main] DEBUG org.hibernate.SQL  - \r\n        select\r\n            next value for Message_SEQ\r\n    Hibernate: \r\n        select\r\n            next value for Message_SEQ\r\n    3425 [main] DEBUG org.hibernate.id.enhanced.SequenceStructure  - Sequence value obtained: 1\r\n    3440 [main] DEBUG org.hibernate.event.internal.AbstractSaveEventListener  - Generated identifier: 1, using strategy: org.hibernate.id.enhanced.SequenceStyleGenerator\r\n    3440 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Initiating transaction commit\r\n    3440 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Committing JPA transaction on EntityManager [SessionImpl(1809269661&lt;open&gt;)]\r\n    3440 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - committing\r\n    3456 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\r\n    3456 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\r\n    3456 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Closing JPA EntityManager [SessionImpl(1809269661&lt;open&gt;)] after transaction\r\n    3456 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Creating new transaction with name [com.cypherf.repository.MessageRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT\r\n    3456 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Opened new EntityManager [SessionImpl(1553616699&lt;open&gt;)] for JPA transaction\r\n    3456 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - On TransactionImpl creation, JpaCompliance#isJpaTransactionComplianceEnabled == false\r\n    3456 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - begin\r\n    3456 [main] DEBUG com.cypherf.repository.MessageRepository  - Trying to save Message [id: 0; text:&quot;Message two&quot;]\r\n    3456 [main] DEBUG org.hibernate.SQL  - \r\n        select\r\n            next value for Message_SEQ\r\n    Hibernate: \r\n        select\r\n            next value for Message_SEQ\r\n    3456 [main] DEBUG org.hibernate.id.enhanced.SequenceStructure  - Sequence value obtained: 51\r\n    3456 [main] DEBUG org.hibernate.event.internal.AbstractSaveEventListener  - Generated identifier: 2, using strategy: org.hibernate.id.enhanced.SequenceStyleGenerator\r\n    3456 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Initiating transaction commit\r\n    3456 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Committing JPA transaction on EntityManager [SessionImpl(1553616699&lt;open&gt;)]\r\n    3456 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - committing\r\n    3456 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\r\n    3456 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\r\n    3456 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Closing JPA EntityManager [SessionImpl(1553616699&lt;open&gt;)] after transaction\r\n    3456 [main] INFO  com.cypherf.service.MessageService  - MessageService.printAllMessages()\r\n    3456 [main] DEBUG org.hibernate.orm.query.hql  - HQL : from Message\r\n    3724 [main] DEBUG org.hibernate.orm.query.sqm.ast  - SqmStatement Tree :\r\n        -&gt; [select]\r\n          -&gt; [query-spec]\r\n            -&gt; [select]\r\n              -&gt; [selection]\r\n                -&gt; [root] - `com.cypherf.model.Message(136820536837300)`\r\n                &lt;- [root] - `com.cypherf.model.Message(136820536837300)`\r\n              &lt;- [selection]\r\n            &lt;- [select]\r\n            -&gt; [from]\r\n              -&gt; [root] - `com.cypherf.model.Message(136820536837300)`\r\n              &lt;- [root] - `com.cypherf.model.Message(136820536837300)`\r\n            &lt;- [from]\r\n          &lt;- [query-spec]\r\n        &lt;- [select]\r\n\r\n    3771 [main] DEBUG org.hibernate.orm.sql.ast.create  - Created new SQL alias : m1_0\r\n    3771 [main] DEBUG org.hibernate.orm.sql.ast.create  - Registration of TableGroup [StandardTableGroup(com.cypherf.model.Message(136820536837300))] with identifierForTableGroup [com.cypherf.model.Message] for NavigablePath [com.cypherf.model.Message] \r\n    3787 [main] DEBUG org.hibernate.orm.results.graph.AST  - DomainResult Graph:\r\n     \\-EntityResultImpl [com.cypherf.model.Message(136820536837300)]\r\n     |  \\-BasicFetch [com.cypherf.model.Message(136820536837300).text]\r\n\r\n    3787 [main] DEBUG org.hibernate.orm.sql.ast.tree  - SQL AST Tree:\r\n        SelectStatement {\r\n          FromClause {\r\n            StandardTableGroup (m1 : com.cypherf.model.Message(136820536837300)) {\r\n              primaryTableReference : Message as m1_0\r\n            }\r\n          }\r\n        }\r\n\r\n    3803 [main] DEBUG org.hibernate.orm.sql.exec  - Skipping reading Query result cache data: cache-enabled = false, cache-mode = NORMAL\r\n    3819 [main] DEBUG org.hibernate.orm.results  - Initializer list\r\n    3819 [main] DEBUG org.hibernate.orm.results  -     com.cypherf.model.Message(136820536837300) -&gt; EntityResultInitializer(com.cypherf.model.Message(136820536837300))@107577149 (SingleTableEntityPersister(com.cypherf.model.Message))\r\n    3819 [main] DEBUG org.hibernate.SQL  - \r\n        select\r\n            m1_0.id,\r\n            m1_0.text \r\n        from\r\n            Message m1_0\r\n    Hibernate: \r\n        select\r\n            m1_0.id,\r\n            m1_0.text \r\n        from\r\n            Message m1_0\r\n    3819 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\r\n    3819 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\r\n    3819 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Creating new transaction with name [com.cypherf.repository.MessageRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT\r\n    3819 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Opened new EntityManager [SessionImpl(225465790&lt;open&gt;)] for JPA transaction\r\n    3819 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - On TransactionImpl creation, JpaCompliance#isJpaTransactionComplianceEnabled == false\r\n    3819 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - begin\r\n    3819 [main] DEBUG com.cypherf.repository.MessageRepository  - Trying to save Message [id: 0; text:&quot;Message two&quot;]\r\n    3834 [main] DEBUG org.hibernate.event.internal.AbstractSaveEventListener  - Generated identifier: 3, using strategy: org.hibernate.id.enhanced.SequenceStyleGenerator\r\n    3834 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Initiating transaction commit\r\n    3834 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Committing JPA transaction on EntityManager [SessionImpl(225465790&lt;open&gt;)]\r\n    3834 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - committing\r\n    3834 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\r\n    3834 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\r\n    3834 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Closing JPA EntityManager [SessionImpl(225465790&lt;open&gt;)] after transaction\r\n    3834 [main] INFO  com.cypherf.service.MessageService  - MessageService.printAllMessages()\r\n    3834 [main] DEBUG org.hibernate.orm.sql.exec  - Skipping reading Query result cache data: cache-enabled = false, cache-mode = NORMAL\r\n    3834 [main] DEBUG org.hibernate.orm.results  - Initializer list\r\n    3834 [main] DEBUG org.hibernate.orm.results  -     com.cypherf.model.Message(136820536837300) -&gt; EntityResultInitializer(com.cypherf.model.Message(136820536837300))@1174086484 (SingleTableEntityPersister(com.cypherf.model.Message))\r\n    3834 [main] DEBUG org.hibernate.SQL  - \r\n        select\r\n            m1_0.id,\r\n            m1_0.text \r\n        from\r\n            Message m1_0\r\n    Hibernate: \r\n        select\r\n            m1_0.id,\r\n            m1_0.text \r\n        from\r\n            Message m1_0\r\n    3834 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\r\n    3834 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\r\n\r\n    Deprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\r\n\r\n    You can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n\r\n    For more on this, please refer to https://docs.gradle.org/8.3/userguide/command_line_interface.html#sec:command_line_warnings in the Gradle documentation.\r\n\r\n    BUILD SUCCESSFUL in 5s\r\n    3 actionable tasks: 2 executed, 1 up-to-date\r\n    13:29:27: Execution finished &#39;:TestSpringApplication.main()&#39;.\r\n","title":"EntityManager.persist() not working with @Transactional","body":"<p>I'm trying to learn how to use the @Transactional annotation in Spring (I'm not using Spring Boot). But when I swich from my - working - method using begin() and commit() ton the one with @Transactional, my entities aren't persisted. Can you help me understand what I'm doing wrong?</p>\n<p>Without transactional/working method:</p>\n<pre><code>public &lt;S extends Message&gt; S save(S entity) {\n    EntityManager em = pu.getEntityManager();\n    try {\n        logger.debug(&quot;Trying to save &quot; + ((Message) entity).toString());\n        em.getTransaction().begin();\n        em.persist(entity);\n        em.getTransaction().commit();\n        logger.debug(&quot;MessageRepository.save() - after .commit()&quot;);\n    }\n    catch (PersistenceException e) {\n        logger.error(&quot;Entity already exists&quot;);\n        e.printStackTrace();\n    }\n    finally {\n        System.out.println();\n        em.close();\n    }\n\n    return entity;\n}\n</code></pre>\n<p>With @Transactional/not working:</p>\n<pre><code>@Transactional\n@Override\npublic &lt;S extends Message&gt; S save(S entity) {\n    EntityManager em = pu.getEntityManager();\n    em.persist(entity);\n    return entity;\n}\n</code></pre>\n<p>And here is my PersustanceUtil (pu) class:</p>\n<pre><code>package com.cypherf.repository;\nimport jakarta.persistence.EntityManager;\nimport jakarta.persistence.EntityManagerFactory;\nimport jakarta.annotation.PreDestroy;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.boot.MetadataSources;\nimport org.hibernate.boot.registry.StandardServiceRegistry;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.orm.hibernate5.HibernateTransactionManager;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.PlatformTransactionManager;\n\nimport javax.sql.DataSource;\n\n@Configuration\n@Service\npublic class PersistenceUtil {\n    private static EntityManagerFactory emf = null;\n\n    @Bean\n    public PlatformTransactionManager txManager() {\n        return new JpaTransactionManager(getEntityManagerFactory());\n    }\n\n    /**\n     * Creates entity manager factory as singleton instance and returns it\n     *\n     * @return the EntityManagerFactory\n     */\n    public EntityManagerFactory getEntityManagerFactory() {\n        if (emf == null) {\n            synchronized (EntityManagerFactory.class) {\n                if (emf == null) {\n                    final StandardServiceRegistry sr = new StandardServiceRegistryBuilder()\n                            .configure() // Configures setting from hibernate.cfg.xml\n                            .build();\n                    try {\n                        emf = new MetadataSources(sr).buildMetadata().buildSessionFactory();\n                    }\n                    catch (Exception e) {\n                        StandardServiceRegistryBuilder.destroy(sr);\n                        throw e;\n                    }\n                }\n            }\n        }\n        return emf;\n    }\n\n    /**\n     * Closes the entity manager factory\n     */\n    @PreDestroy\n    public static void closeEntityManagerFactory() {\n        System.out.println(&quot;PersistenceUtil.closeEntityManagerFactory()&quot;);\n        if (emf != null) {\n            System.out.println(&quot;Closing emf&quot;);\n            emf.close();\n        }\n    }\n\n    /**\n     * Returns a new EntityManager instance\n     *\n     * @return the new EntityManager instance\n     */\n    public EntityManager getEntityManager() {\n        return getEntityManagerFactory().createEntityManager();\n    }\n}\n</code></pre>\n<p>Main class:</p>\n<pre><code>package com.cypherf;\nimport com.cypherf.model.Message;\nimport com.cypherf.repository.MessageRepository;\nimport com.cypherf.service.MessageService;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\n@Configuration\n@ComponentScan\n@EnableTransactionManagement\npublic class TestSpringApplication {\n    @Autowired\n    private ApplicationContext context;\n\n    @Autowired\n    private CrudRepository&lt;Message, Long&gt; messageRepository;\n\n    @Autowired\n    private MessageService messageService;\n\n    final static Logger logger = LoggerFactory.getLogger(TestSpringApplication.class);\n\n    public static void main(String[] args) {\n        ApplicationContext ctx = new AnnotationConfigApplicationContext(TestSpringApplication.class);\n        TestSpringApplication app = ctx.getBean(TestSpringApplication.class);\n        logger.info(&quot;Running app...&quot;);\n        app.run(args);\n        //TestSpringApplication app = context.getBean(TestSpringApplication.class);\n        //TestSpringApplication app = new TestSpringApplication();\n        //app.run(args);\n\n    }\n\n    public void run(String... args) {\n        messageRepository.save(new Message(&quot;Message one&quot;));\n        messageRepository.save(new Message(&quot;Message two&quot;));\n        messageService.printAllMessages();\n\n        messageRepository.save(new Message(&quot;Message two&quot;));\n        messageService.printAllMessages();\n\n//        System.out.println(&quot;BEANS:&quot;);\n//        List&lt;String&gt; beans = Arrays.asList(context.getBeanDefinitionNames());\n//        beans.forEach(bean -&gt; System.out.println(bean));\n    }\n}\n</code></pre>\n<p>Here is the output:</p>\n<pre><code>[...]\n2419 [main] DEBUG org.hibernate.event.internal.EntityCopyObserverFactoryInitiator  - Configured EntityCopyObserver strategy: disallow\n2518 [main] DEBUG org.hibernate.boot.internal.ClassLoaderAccessImpl  - Not known whether passed class name [com.cypherf.model.Message] is safe\n2518 [main] DEBUG org.hibernate.boot.internal.ClassLoaderAccessImpl  - No temp ClassLoader provided; using live ClassLoader for loading potentially unsafe class : com.cypherf.model.Message\n2790 [main] DEBUG org.hibernate.bytecode.internal.bytebuddy.BytecodeProviderImpl  - HHH000513: Unable to create the ReflectionOptimizer for [com.cypherf.model.Message]: private accessor [text]\n2853 [main] DEBUG org.hibernate.orm.model.mapping.creation  - Starting post-init callbacks\n2853 [main] DEBUG org.hibernate.orm.model.mapping.creation  - Starting PostInitCallbackEntry : Entity(com.cypherf.model.Message) `staticFetchableList` generator\n2853 [main] DEBUG org.hibernate.orm.model.mapping.creation  - Starting PostInitCallbackEntry : Entity(com.cypherf.model.Message) `sqmMultiTableInsertStrategy` interpretation\n2946 [main] DEBUG org.hibernate.persister.entity.AbstractEntityPersister  - Static SQL for entity: com.cypherf.model.Message\n2946 [main] DEBUG org.hibernate.persister.entity.AbstractEntityPersister  -  Version select: select id from Message where id=?\n2946 [main] DEBUG org.hibernate.persister.entity.AbstractEntityPersister  -  Insert (0): insert into Message (text,id) values (?,?)\n2946 [main] DEBUG org.hibernate.persister.entity.AbstractEntityPersister  -  Update (0): update Message set text=? where id=?\n2946 [main] DEBUG org.hibernate.persister.entity.AbstractEntityPersister  -  Delete (0): delete from Message where id=?\n2962 [main] DEBUG org.hibernate.orm.sql.ast.create  - Created new SQL alias : m1_0\n2962 [main] DEBUG org.hibernate.orm.sql.ast.create  - Registration of TableGroup [StandardTableGroup(com.cypherf.model.Message)] with identifierForTableGroup [com.cypherf.model.Message] for NavigablePath [com.cypherf.model.Message] \n2993 [main] DEBUG org.hibernate.orm.results.graph.AST  - DomainResult Graph:\n \\-EntityResultImpl [com.cypherf.model.Message]\n |  \\-BasicFetch [com.cypherf.model.Message.text]\n\n2993 [main] DEBUG org.hibernate.orm.sql.ast.tree  - SQL AST Tree:\n    SelectStatement {\n      FromClause {\n        StandardTableGroup (m1 : com.cypherf.model.Message) {\n          primaryTableReference : Message as m1_0\n        }\n      }\n    }\n\n3040 [main] DEBUG org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator  - No JtaPlatform was specified, checking resolver\n3040 [main] DEBUG org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformResolverInitiator  - No JtaPlatformResolver was specified, using default [org.hibernate.engine.transaction.jta.platform.internal.StandardJtaPlatformResolver]\n3056 [main] DEBUG org.hibernate.engine.transaction.jta.platform.internal.StandardJtaPlatformResolver  - Could not resolve JtaPlatform, using default [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n3056 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator  - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)\n3056 [main] DEBUG org.hibernate.type.spi.TypeConfiguration$Scope  - Scoping TypeConfiguration [org.hibernate.type.spi.TypeConfiguration@4d27d9d] to SessionFactoryImplementor [org.hibernate.internal.SessionFactoryImpl@3a209918]\n3056 [main] DEBUG org.hibernate.query.named.NamedObjectRepository  - Checking 0 named HQL queries\n3056 [main] DEBUG org.hibernate.query.named.NamedObjectRepository  - Checking 0 named SQL queries\n3071 [main] DEBUG org.hibernate.SQL  - \n    drop table if exists Message cascade \nHibernate: \n    drop table if exists Message cascade \n3087 [main] INFO  org.hibernate.orm.connections.access  - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@5170bc02] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.\n3088 [main] DEBUG org.hibernate.SQL  - \n    drop sequence if exists Message_SEQ\nHibernate: \n    drop sequence if exists Message_SEQ\n3088 [main] DEBUG org.hibernate.SQL  - \n    create sequence Message_SEQ start with 1 increment by 50\nHibernate: \n    create sequence Message_SEQ start with 1 increment by 50\n3088 [main] INFO  org.hibernate.orm.connections.access  - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@4601047] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.\n3103 [main] DEBUG org.hibernate.SQL  - \n    create table Message (\n        id bigint not null,\n        text varchar(255) unique,\n        primary key (id)\n    )\nHibernate: \n    create table Message (\n        id bigint not null,\n        text varchar(255) unique,\n        primary key (id)\n    )\n3119 [main] DEBUG org.hibernate.internal.SessionFactoryRegistry  - Initializing SessionFactoryRegistry : org.hibernate.internal.SessionFactoryRegistry@40dd552c\n3119 [main] DEBUG org.hibernate.internal.SessionFactoryRegistry  - Registering SessionFactory: 0c3c67af-87cc-4b0a-bfd9-a5e6498e66fc (&lt;unnamed&gt;)\n3119 [main] DEBUG org.hibernate.internal.SessionFactoryRegistry  - Not binding SessionFactory to JNDI, no JNDI name configured\n3119 [main] DEBUG org.hibernate.internal.SessionFactoryImpl  - Instantiated SessionFactory\n3176 [main] DEBUG org.hibernate.stat.internal.StatisticsInitiator  - Statistics initialized [enabled=false]\n3333 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory  - Creating shared instance of singleton bean 'messageService'\n3333 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory  - Creating shared instance of singleton bean 'txManager'\n3402 [main] INFO  com.cypherf.TestSpringApplication  - Running app...\n3409 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Creating new transaction with name [com.cypherf.repository.MessageRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT\n3409 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Opened new EntityManager [SessionImpl(1809269661&lt;open&gt;)] for JPA transaction\n3409 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - On TransactionImpl creation, JpaCompliance#isJpaTransactionComplianceEnabled == false\n3409 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - begin\n3409 [main] DEBUG com.cypherf.repository.MessageRepository  - Trying to save Message [id: 0; text:&quot;Message one&quot;]\n3425 [main] DEBUG org.hibernate.SQL  - \n    select\n        next value for Message_SEQ\nHibernate: \n    select\n        next value for Message_SEQ\n3425 [main] DEBUG org.hibernate.id.enhanced.SequenceStructure  - Sequence value obtained: 1\n3440 [main] DEBUG org.hibernate.event.internal.AbstractSaveEventListener  - Generated identifier: 1, using strategy: org.hibernate.id.enhanced.SequenceStyleGenerator\n3440 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Initiating transaction commit\n3440 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Committing JPA transaction on EntityManager [SessionImpl(1809269661&lt;open&gt;)]\n3440 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - committing\n3456 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\n3456 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\n3456 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Closing JPA EntityManager [SessionImpl(1809269661&lt;open&gt;)] after transaction\n3456 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Creating new transaction with name [com.cypherf.repository.MessageRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT\n3456 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Opened new EntityManager [SessionImpl(1553616699&lt;open&gt;)] for JPA transaction\n3456 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - On TransactionImpl creation, JpaCompliance#isJpaTransactionComplianceEnabled == false\n3456 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - begin\n3456 [main] DEBUG com.cypherf.repository.MessageRepository  - Trying to save Message [id: 0; text:&quot;Message two&quot;]\n3456 [main] DEBUG org.hibernate.SQL  - \n    select\n        next value for Message_SEQ\nHibernate: \n    select\n        next value for Message_SEQ\n3456 [main] DEBUG org.hibernate.id.enhanced.SequenceStructure  - Sequence value obtained: 51\n3456 [main] DEBUG org.hibernate.event.internal.AbstractSaveEventListener  - Generated identifier: 2, using strategy: org.hibernate.id.enhanced.SequenceStyleGenerator\n3456 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Initiating transaction commit\n3456 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Committing JPA transaction on EntityManager [SessionImpl(1553616699&lt;open&gt;)]\n3456 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - committing\n3456 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\n3456 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\n3456 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Closing JPA EntityManager [SessionImpl(1553616699&lt;open&gt;)] after transaction\n3456 [main] INFO  com.cypherf.service.MessageService  - MessageService.printAllMessages()\n3456 [main] DEBUG org.hibernate.orm.query.hql  - HQL : from Message\n3724 [main] DEBUG org.hibernate.orm.query.sqm.ast  - SqmStatement Tree :\n    -&gt; [select]\n      -&gt; [query-spec]\n        -&gt; [select]\n          -&gt; [selection]\n            -&gt; [root] - `com.cypherf.model.Message(136820536837300)`\n            &lt;- [root] - `com.cypherf.model.Message(136820536837300)`\n          &lt;- [selection]\n        &lt;- [select]\n        -&gt; [from]\n          -&gt; [root] - `com.cypherf.model.Message(136820536837300)`\n          &lt;- [root] - `com.cypherf.model.Message(136820536837300)`\n        &lt;- [from]\n      &lt;- [query-spec]\n    &lt;- [select]\n\n3771 [main] DEBUG org.hibernate.orm.sql.ast.create  - Created new SQL alias : m1_0\n3771 [main] DEBUG org.hibernate.orm.sql.ast.create  - Registration of TableGroup [StandardTableGroup(com.cypherf.model.Message(136820536837300))] with identifierForTableGroup [com.cypherf.model.Message] for NavigablePath [com.cypherf.model.Message] \n3787 [main] DEBUG org.hibernate.orm.results.graph.AST  - DomainResult Graph:\n \\-EntityResultImpl [com.cypherf.model.Message(136820536837300)]\n |  \\-BasicFetch [com.cypherf.model.Message(136820536837300).text]\n\n3787 [main] DEBUG org.hibernate.orm.sql.ast.tree  - SQL AST Tree:\n    SelectStatement {\n      FromClause {\n        StandardTableGroup (m1 : com.cypherf.model.Message(136820536837300)) {\n          primaryTableReference : Message as m1_0\n        }\n      }\n    }\n\n3803 [main] DEBUG org.hibernate.orm.sql.exec  - Skipping reading Query result cache data: cache-enabled = false, cache-mode = NORMAL\n3819 [main] DEBUG org.hibernate.orm.results  - Initializer list\n3819 [main] DEBUG org.hibernate.orm.results  -     com.cypherf.model.Message(136820536837300) -&gt; EntityResultInitializer(com.cypherf.model.Message(136820536837300))@107577149 (SingleTableEntityPersister(com.cypherf.model.Message))\n3819 [main] DEBUG org.hibernate.SQL  - \n    select\n        m1_0.id,\n        m1_0.text \n    from\n        Message m1_0\nHibernate: \n    select\n        m1_0.id,\n        m1_0.text \n    from\n        Message m1_0\n3819 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\n3819 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\n3819 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Creating new transaction with name [com.cypherf.repository.MessageRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT\n3819 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Opened new EntityManager [SessionImpl(225465790&lt;open&gt;)] for JPA transaction\n3819 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - On TransactionImpl creation, JpaCompliance#isJpaTransactionComplianceEnabled == false\n3819 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - begin\n3819 [main] DEBUG com.cypherf.repository.MessageRepository  - Trying to save Message [id: 0; text:&quot;Message two&quot;]\n3834 [main] DEBUG org.hibernate.event.internal.AbstractSaveEventListener  - Generated identifier: 3, using strategy: org.hibernate.id.enhanced.SequenceStyleGenerator\n3834 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Initiating transaction commit\n3834 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Committing JPA transaction on EntityManager [SessionImpl(225465790&lt;open&gt;)]\n3834 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - committing\n3834 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\n3834 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\n3834 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Closing JPA EntityManager [SessionImpl(225465790&lt;open&gt;)] after transaction\n3834 [main] INFO  com.cypherf.service.MessageService  - MessageService.printAllMessages()\n3834 [main] DEBUG org.hibernate.orm.sql.exec  - Skipping reading Query result cache data: cache-enabled = false, cache-mode = NORMAL\n3834 [main] DEBUG org.hibernate.orm.results  - Initializer list\n3834 [main] DEBUG org.hibernate.orm.results  -     com.cypherf.model.Message(136820536837300) -&gt; EntityResultInitializer(com.cypherf.model.Message(136820536837300))@1174086484 (SingleTableEntityPersister(com.cypherf.model.Message))\n3834 [main] DEBUG org.hibernate.SQL  - \n    select\n        m1_0.id,\n        m1_0.text \n    from\n        Message m1_0\nHibernate: \n    select\n        m1_0.id,\n        m1_0.text \n    from\n        Message m1_0\n3834 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\n3834 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\n\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n\nFor more on this, please refer to https://docs.gradle.org/8.3/userguide/command_line_interface.html#sec:command_line_warnings in the Gradle documentation.\n\nBUILD SUCCESSFUL in 5s\n3 actionable tasks: 2 executed, 1 up-to-date\n13:29:27: Execution finished ':TestSpringApplication.main()'.\n</code></pre>\n"},{"tags":["java","telegram","hmacsha256"],"answers":[{"tags":[],"owner":{"account_id":102531,"reputation":126,"user_id":275173,"accept_rate":17,"display_name":"Jamon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695570336,"creation_date":1695570336,"answer_id":77167813,"question_id":77167326,"body_markdown":"In the end, I solved the problem myself)\r\n\r\nSolution:\r\n\r\n        String botTokenData = &quot;WebAppData&quot;;\r\n        byte[] hmacSecret = new HmacUtils(HmacAlgorithms.HMAC_SHA_256, botTokenData).hmac(botToken);\r\n\r\n        String calculatedHash = new HmacUtils(HmacAlgorithms.HMAC_SHA_256, hmacSecret).hmacHex(dataCheckString);\r\n    \r\n","title":"Auth data validation for Telegram WebApp HMAC-SHA256 in Java","body":"<p>In the end, I solved the problem myself)</p>\n<p>Solution:</p>\n<pre><code>    String botTokenData = &quot;WebAppData&quot;;\n    byte[] hmacSecret = new HmacUtils(HmacAlgorithms.HMAC_SHA_256, botTokenData).hmac(botToken);\n\n    String calculatedHash = new HmacUtils(HmacAlgorithms.HMAC_SHA_256, hmacSecret).hmacHex(dataCheckString);\n</code></pre>\n"}],"owner":{"account_id":102531,"reputation":126,"user_id":275173,"accept_rate":17,"display_name":"Jamon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77167813,"answer_count":1,"score":0,"last_activity_date":1695570336,"creation_date":1695562755,"question_id":77167326,"body_markdown":"I&#39;m trying to write auth data validation for the Telegram web app (HMAC-SHA256), according to this question:\r\n[https://stackoverflow.com/questions/72879544/data-validating-from-telegram-web-app-and-cryptojs][1]\r\n\r\nI wrote the code in Java:\r\n\r\n     @Test\r\n    public void hmacTest() {\r\n        String initData = &quot;[initData]&quot;;\r\n        List&lt;NameValuePair&gt; params = URLEncodedUtils.parse(initData, Charset.forName(&quot;UTF-8&quot;));\r\n\r\n        List&lt;NameValuePair&gt; preparedData = new java.util.ArrayList&lt;&gt;(params\r\n                .stream()\r\n                .filter(e -&gt; !e.getName().equals(&quot;hash&quot;))\r\n                .toList());\r\n\r\n        preparedData\r\n                .sort(Comparator.comparing(NameValuePair::getName));\r\n\r\n        String dataCheckString = String.join(&quot;\\n&quot;, preparedData\r\n                .stream()\r\n                .map(e -&gt; e.getName() + &quot;=&quot; + e.getValue())\r\n                .toList());\r\n        \r\n        String botToken = &quot;[botToken]&quot;;\r\n        String botTokenData = &quot;WebAppData&quot;;\r\n        String hmacSecret = new HmacUtils(HmacAlgorithms.HMAC_SHA_256, botToken).hmacHex(botTokenData);\r\n\r\n        String calculatedHash = new HmacUtils(HmacAlgorithms.HMAC_SHA_256, hmacSecret).hmacHex(dataCheckString);\r\n        String presentedHash = params.get(3).getValue();\r\n        \r\n        boolean result = calculatedHash.equals(presentedHash);\r\n    }\r\n\r\nHowever, hash matching fails. Could you please help with the code - what am I doing wrong?\r\n\r\nThanks!\r\n\r\n  [1]: https://stackoverflow.com/questions/72879544/data-validating-from-telegram-web-app-and-cryptojs","title":"Auth data validation for Telegram WebApp HMAC-SHA256 in Java","body":"<p>I'm trying to write auth data validation for the Telegram web app (HMAC-SHA256), according to this question:\n<a href=\"https://stackoverflow.com/questions/72879544/data-validating-from-telegram-web-app-and-cryptojs\">Data validating from Telegram Web App and CryptoJS</a></p>\n<p>I wrote the code in Java:</p>\n<pre><code> @Test\npublic void hmacTest() {\n    String initData = &quot;[initData]&quot;;\n    List&lt;NameValuePair&gt; params = URLEncodedUtils.parse(initData, Charset.forName(&quot;UTF-8&quot;));\n\n    List&lt;NameValuePair&gt; preparedData = new java.util.ArrayList&lt;&gt;(params\n            .stream()\n            .filter(e -&gt; !e.getName().equals(&quot;hash&quot;))\n            .toList());\n\n    preparedData\n            .sort(Comparator.comparing(NameValuePair::getName));\n\n    String dataCheckString = String.join(&quot;\\n&quot;, preparedData\n            .stream()\n            .map(e -&gt; e.getName() + &quot;=&quot; + e.getValue())\n            .toList());\n    \n    String botToken = &quot;[botToken]&quot;;\n    String botTokenData = &quot;WebAppData&quot;;\n    String hmacSecret = new HmacUtils(HmacAlgorithms.HMAC_SHA_256, botToken).hmacHex(botTokenData);\n\n    String calculatedHash = new HmacUtils(HmacAlgorithms.HMAC_SHA_256, hmacSecret).hmacHex(dataCheckString);\n    String presentedHash = params.get(3).getValue();\n    \n    boolean result = calculatedHash.equals(presentedHash);\n}\n</code></pre>\n<p>However, hash matching fails. Could you please help with the code - what am I doing wrong?</p>\n<p>Thanks!</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695611254,"post_id":77167806,"comment_id":136042716,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29523192,"reputation":1,"user_id":22625465,"display_name":"Anders Anderson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695570204,"creation_date":1695570204,"question_id":77167806,"body_markdown":"I made an android app a while back which is being used at work for reporting potential hazards.\r\nIt just takes text and an optional image and mails it with JavaMail API to a number of recipients.\r\nWe basically only use two phones right now since private phones are not allowed, so the app has been installed and updated by manually download the .apk file and install it.\r\n\r\nBut now to the question, is there some way I could send updates to an app that has not been published in the play store? It would make things easier to not have to do it manually.\r\n\r\nI tried using firebase but this meant that the user had to check for updates. I would rather have a prompt.","title":"Can I send updates to an unpublished app?","body":"<p>I made an android app a while back which is being used at work for reporting potential hazards.\nIt just takes text and an optional image and mails it with JavaMail API to a number of recipients.\nWe basically only use two phones right now since private phones are not allowed, so the app has been installed and updated by manually download the .apk file and install it.</p>\n<p>But now to the question, is there some way I could send updates to an app that has not been published in the play store? It would make things easier to not have to do it manually.</p>\n<p>I tried using firebase but this meant that the user had to check for updates. I would rather have a prompt.</p>\n"},{"tags":["java","android","kotlin","retrofit","retrofit2"],"comments":[{"owner":{"account_id":21390158,"reputation":801,"user_id":15754377,"display_name":"Vivek Gupta"},"score":0,"creation_date":1695026961,"post_id":77123697,"comment_id":135964089,"body_markdown":"Annotations generates code for you. We programmers are lazy by default and always find way to create thing quickly. You annotate your method with predefined  annotations which compiler can understand and generate code for us. Try learning before retrofit how Android api call was made using http client.","body":"Annotations generates code for you. We programmers are lazy by default and always find way to create thing quickly. You annotate your method with predefined  annotations which compiler can understand and generate code for us. Try learning before retrofit how Android api call was made using http client."},{"owner":{"account_id":26052081,"reputation":3,"user_id":19755094,"display_name":"1Sayd"},"score":0,"creation_date":1695030079,"post_id":77123697,"comment_id":135964716,"body_markdown":"I understand it at a high level of abstract but I want to go deeper. I tried to find where is actually programmed &quot;code generation&quot; for us.\n\nThanks I will try to google how how Android api calls was made using http client","body":"I understand it at a high level of abstract but I want to go deeper. I tried to find where is actually programmed &quot;code generation&quot; for us.  Thanks I will try to google how how Android api calls was made using http client"}],"answers":[{"tags":[],"owner":{"account_id":24303543,"reputation":876,"user_id":21163959,"display_name":"ObscureCookie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695569963,"creation_date":1695569963,"answer_id":77167784,"question_id":77123697,"body_markdown":"Retrofit2 uses a [dynamic proxy][1] to make an interface implementation instead of the code generation.\r\nIt parses your methods with the refletion, makes `SeriveMethod` of methods and caches them into `serviceMethodCache`.\r\n\r\nWhen you invoke a method of your interface, a created `ServiceMethod` will be invoked instead.\r\n\r\n  [1]: https://www.baeldung.com/java-dynamic-proxies","title":"How is Retrofit 2 processing the functions annotations from the API service interface passed to retrofit.create()?","body":"<p>Retrofit2 uses a <a href=\"https://www.baeldung.com/java-dynamic-proxies\" rel=\"nofollow noreferrer\">dynamic proxy</a> to make an interface implementation instead of the code generation.\nIt parses your methods with the refletion, makes <code>SeriveMethod</code> of methods and caches them into <code>serviceMethodCache</code>.</p>\n<p>When you invoke a method of your interface, a created <code>ServiceMethod</code> will be invoked instead.</p>\n"}],"owner":{"account_id":26052081,"reputation":3,"user_id":19755094,"display_name":"1Sayd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77167784,"answer_count":1,"score":0,"last_activity_date":1695569963,"creation_date":1694986630,"question_id":77123697,"body_markdown":"I&#39;m new to programming in Java and try to understand how annotations works in big libraries.\r\n\r\nCan someone show me code snippet in which retrofit is actually processing the functions annotations from the API service interface that I pass as the argument to retrofit.create method and change its behavior based on this? I mean: @GET, @POST etc\r\n\r\nI created the interface Giphy Api Service with next function:\r\n\r\n``` kotlin\r\n@GET(&quot;gifs/search&quot;)\r\n    fun getSearchedGifs(\r\n        @Query(&quot;q&quot;) searchTerm: String,\r\n        @Query(&quot;limit&quot;) limit: Int = 50,\r\n        @Query(&quot;offset&quot;) offset: Int = 0,\r\n        @Query(&quot;rating&quot;) rating: String = &quot;g&quot;,\r\n        @Query(&quot;lang&quot;) lang: String = &quot;en&quot;,\r\n        @Query(&quot;bundle&quot;) bundle: String = &quot;messaging_non_clips&quot;,\r\n        @Query(&quot;api_key&quot;) apiKey: String = &quot;my api key&quot;\r\n    ): Call&lt;DataResult&gt;\r\n```\r\n\r\nthis function have @GET(&quot;gifs/search&quot;) which represent the HTTP GET request.\r\n\r\nThen I use this interface to create instance of retrofit object in the next code:\r\n\r\n``` kotlin\r\nval retroService = retrofit.create(GiphyApiService::class.java)\r\n```\r\n\r\nI checked retrofit.create() method and all file, but do not find answer to my question","title":"How is Retrofit 2 processing the functions annotations from the API service interface passed to retrofit.create()?","body":"<p>I'm new to programming in Java and try to understand how annotations works in big libraries.</p>\n<p>Can someone show me code snippet in which retrofit is actually processing the functions annotations from the API service interface that I pass as the argument to retrofit.create method and change its behavior based on this? I mean: @GET, @POST etc</p>\n<p>I created the interface Giphy Api Service with next function:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@GET(&quot;gifs/search&quot;)\n    fun getSearchedGifs(\n        @Query(&quot;q&quot;) searchTerm: String,\n        @Query(&quot;limit&quot;) limit: Int = 50,\n        @Query(&quot;offset&quot;) offset: Int = 0,\n        @Query(&quot;rating&quot;) rating: String = &quot;g&quot;,\n        @Query(&quot;lang&quot;) lang: String = &quot;en&quot;,\n        @Query(&quot;bundle&quot;) bundle: String = &quot;messaging_non_clips&quot;,\n        @Query(&quot;api_key&quot;) apiKey: String = &quot;my api key&quot;\n    ): Call&lt;DataResult&gt;\n</code></pre>\n<p>this function have @GET(&quot;gifs/search&quot;) which represent the HTTP GET request.</p>\n<p>Then I use this interface to create instance of retrofit object in the next code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val retroService = retrofit.create(GiphyApiService::class.java)\n</code></pre>\n<p>I checked retrofit.create() method and all file, but do not find answer to my question</p>\n"},{"tags":["java","scala","rdf","jena","owl"],"comments":[{"owner":{"account_id":7263460,"reputation":61,"user_id":5539191,"display_name":"dilo00o"},"score":1,"creation_date":1464376551,"post_id":34415334,"comment_id":62477959,"body_markdown":"I managed to solve this problem by separating the RDF/XML parser and the rest of the code.\n**Step 1** parse rdf/xml to n-triple/n-quad\n**Step 2** parse n-triple with Spark and dump result as vertex&amp;edge object files","body":"I managed to solve this problem by separating the RDF/XML parser and the rest of the code. <b>Step 1</b> parse rdf/xml to n-triple/n-quad <b>Step 2</b> parse n-triple with Spark and dump result as vertex&amp;edge object files"}],"owner":{"account_id":7263460,"reputation":61,"user_id":5539191,"display_name":"dilo00o"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":820,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":0,"score":6,"last_activity_date":1695569650,"creation_date":1450785153,"question_id":34415334,"body_markdown":"i am trying to build a graph based view of uniprot data using Spark (GraphX) by leveraging the owl/RDF format. I am trying to parse the data  using apache jena, but I can&#39;t wrap my head around the structure of the rdf file. To better illustrate, here&#39;s an example of the type of file I&#39;m trying to process.\r\nhttp://pastebin.com/iSeGs0RZ\r\n\r\n\r\nFor my needs, i have to store/manipulate for instance        \r\n    &lt;rdfs:seeAlso rdf:resource=&quot;http://purl.uniprot.org/string/9606.ENSP00000418960&quot;/&gt;\r\nBy that I need to save the token &quot;seeAlso&quot; and the ?predicate? &quot;http://purl.uniprot.org/string/9606.ENSP00000418960&quot;\r\nwhile trying to load a model in java/scala print(model) displays most of the information but I can&#39;t find a way to extract everything from the file. \r\n\r\nThis is what i&#39;m using to read in the model:\r\n\r\n    object runner {\r\n      val inputFileName = &quot;dataset/test2.xml&quot;\r\n  \r\n      def main(args: Array[String]) {\r\n        val model = ModelFactory.createDefaultModel()\r\n  \r\n        // use the FileManager to find the input file\r\n        val in = FileManager.get().open(inputFileName)\r\n        if (in == null) {\r\n          throw new IllegalArgumentException(\r\n            &quot;File: &quot; + inputFileName + &quot; not found&quot;)\r\n        }\r\n        model.read(in, &quot;RDF/XML&quot;)\r\n        val items = model.listObjects()\r\n        var count = 0\r\n        while (items.hasNext) {\r\n          count += 1\r\n          val node = items.next()\r\n          println(node)\r\n          println(&quot;\\n\\n&quot;)\r\n        }\r\n        println(count)\r\n      }\r\n    }\r\n\r\n","title":"Read ontology into GraphX from rdf model","body":"<p>i am trying to build a graph based view of uniprot data using Spark (GraphX) by leveraging the owl/RDF format. I am trying to parse the data  using apache jena, but I can't wrap my head around the structure of the rdf file. To better illustrate, here's an example of the type of file I'm trying to process.\n<a href=\"http://pastebin.com/iSeGs0RZ\" rel=\"nofollow noreferrer\">http://pastebin.com/iSeGs0RZ</a></p>\n<p>For my needs, i have to store/manipulate for instance<br />\n&lt;rdfs:seeAlso rdf:resource=&quot;http://purl.uniprot.org/string/9606.ENSP00000418960&quot;/&gt;\nBy that I need to save the token &quot;seeAlso&quot; and the ?predicate? &quot;http://purl.uniprot.org/string/9606.ENSP00000418960&quot;\nwhile trying to load a model in java/scala print(model) displays most of the information but I can't find a way to extract everything from the file.</p>\n<p>This is what i'm using to read in the model:</p>\n<pre><code>object runner {\n  val inputFileName = &quot;dataset/test2.xml&quot;\n\n  def main(args: Array[String]) {\n    val model = ModelFactory.createDefaultModel()\n\n    // use the FileManager to find the input file\n    val in = FileManager.get().open(inputFileName)\n    if (in == null) {\n      throw new IllegalArgumentException(\n        &quot;File: &quot; + inputFileName + &quot; not found&quot;)\n    }\n    model.read(in, &quot;RDF/XML&quot;)\n    val items = model.listObjects()\n    var count = 0\n    while (items.hasNext) {\n      count += 1\n      val node = items.next()\n      println(node)\n      println(&quot;\\n\\n&quot;)\n    }\n    println(count)\n  }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22439733,"reputation":53,"user_id":16644458,"display_name":"Vincent A. Cicirello"},"score":1,"creation_date":1695590701,"post_id":77167718,"comment_id":136041164,"body_markdown":"I&#39;m not familiar with the unirest library, so I took a look at [its GitHub repo](https://github.com/Kong/unirest-java). From looking at unirest&#39;s source code, it doesn&#39;t look like it defines a JPMS module. So you can use the unirest library only from the classpath and not from the modulepath. That `requires` statement you have in your `module-info.java` won&#39;t work.","body":"I&#39;m not familiar with the unirest library, so I took a look at <a href=\"https://github.com/Kong/unirest-java\" rel=\"nofollow noreferrer\">its GitHub repo</a>. From looking at unirest&#39;s source code, it doesn&#39;t look like it defines a JPMS module. So you can use the unirest library only from the classpath and not from the modulepath. That <code>requires</code> statement you have in your <code>module-info.java</code> won&#39;t work."},{"owner":{"account_id":17199885,"reputation":1,"user_id":12451856,"display_name":"Francesco Marzo"},"score":0,"creation_date":1695667308,"post_id":77167718,"comment_id":136052414,"body_markdown":"Okay I got it. But issue now is, if I don&#39;t add that requirement, i&#39;ll not be able to import function in application side.","body":"Okay I got it. But issue now is, if I don&#39;t add that requirement, i&#39;ll not be able to import function in application side."},{"owner":{"account_id":22439733,"reputation":53,"user_id":16644458,"display_name":"Vincent A. Cicirello"},"score":0,"creation_date":1695833878,"post_id":77167718,"comment_id":136077994,"body_markdown":"Perhaps [this stackoverflow question](https://stackoverflow.com/questions/38269630/is-it-possible-to-use-dependencies-without-module-info-class-in-a-java-9-module) and its [associated answer](https://stackoverflow.com/a/38274483/16644458) might help. That question and answer doesn&#39;t involve Gradle specifically, but otherwise deals with how to depend upon a library that doesn&#39;t have a `module-info.java`.  You can do so with [automatic modules](http://openjdk.java.net/projects/jigsaw/spec/sotms/#automatic-modules). There should be a way to handle that in Gradle.","body":"Perhaps <a href=\"https://stackoverflow.com/questions/38269630/is-it-possible-to-use-dependencies-without-module-info-class-in-a-java-9-module\">this stackoverflow question</a> and its <a href=\"https://stackoverflow.com/a/38274483/16644458\">associated answer</a> might help. That question and answer doesn&#39;t involve Gradle specifically, but otherwise deals with how to depend upon a library that doesn&#39;t have a <code>module-info.java</code>.  You can do so with <a href=\"http://openjdk.java.net/projects/jigsaw/spec/sotms/#automatic-modules\" rel=\"nofollow noreferrer\">automatic modules</a>. There should be a way to handle that in Gradle."},{"owner":{"account_id":22439733,"reputation":53,"user_id":16644458,"display_name":"Vincent A. Cicirello"},"score":0,"creation_date":1695834134,"post_id":77167718,"comment_id":136078040,"body_markdown":"After my previous comment, I found an example on gradle.org with an example of [Building Java Modules with Legacy Libraries](https://docs.gradle.org/current/samples/sample_java_modules_with_transform.html) that might help you.","body":"After my previous comment, I found an example on gradle.org with an example of <a href=\"https://docs.gradle.org/current/samples/sample_java_modules_with_transform.html\" rel=\"nofollow noreferrer\">Building Java Modules with Legacy Libraries</a> that might help you."}],"owner":{"account_id":17199885,"reputation":1,"user_id":12451856,"display_name":"Francesco Marzo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695569360,"creation_date":1695569027,"question_id":77167718,"body_markdown":"To explain the problem which I&#39;m facing, I&#39;ll explain it with a new project.\r\n\r\nTools and setup:\r\n\r\n- IntelliJ 2022.2.1\r\n- JavaFX project \r\n- Gradle based\r\n- &quot;Unirest&quot; as external library\r\n\r\nCreated a new project and added the following dependency:\r\n\r\n    dependencies {\r\n\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\r\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\r\n    \r\n    // https://mvnrepository.com/artifact/com.konghq/unirest-java\r\n    implementation group: &#39;com.konghq&#39;, name: &#39;unirest-java&#39;, version: &#39;3.14.5&#39;}\r\n\r\nAfter the Gradle&#39;s sync, I can see the library which has been added to this list:\r\n\r\n[External libraries][1]\r\n\r\nNow, in order to use the API, I need to update `module-info.java` as it follows:\r\n\r\n    module com.example.restfx {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires unirest.java;\r\n\r\n    opens com.example.restfx to javafx.fxml, unirest.java;\r\n    exports com.example.restfx;}\r\n\r\nNow, I actually call whatever function of this library in my application.\r\n\r\n    public class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load(), 320, 240);\r\n        stage.setTitle(&quot;Hello!&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n\r\n        Unirest.get(&quot;...&quot;);\r\n\r\n\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n\r\n\r\nAfter launching the app this error appears.\r\n\r\n&gt; Task :HelloApplication.main() FAILED\r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Module unirest.java not found, required by com.example.restfx\r\nExecution failed for task &#39;:HelloApplication.main()&#39;.\r\nProcess &#39;command &#39;C:/Program Files/Java/jdk-17/bin/java.exe&#39;&#39; finished with non-zero exit value 1\r\n\r\n\r\nI want to highlight the fact that this error will show up only if the project is created with JavaFX option. That means, a `module.info.java` file will be created, leading to this issue.\r\n\r\nActually if I create the same project, without using JavaFX, every external library works correctly.\r\nSeems something related to that file, but I cannot figure it out what it is.\r\nHope you can help me.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SIrgJ.png","title":"Issue with module-info.java and each external library","body":"<p>To explain the problem which I'm facing, I'll explain it with a new project.</p>\n<p>Tools and setup:</p>\n<ul>\n<li>IntelliJ 2022.2.1</li>\n<li>JavaFX project</li>\n<li>Gradle based</li>\n<li>&quot;Unirest&quot; as external library</li>\n</ul>\n<p>Created a new project and added the following dependency:</p>\n<pre><code>dependencies {\n\ntestImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\ntestRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\n\n// https://mvnrepository.com/artifact/com.konghq/unirest-java\nimplementation group: 'com.konghq', name: 'unirest-java', version: '3.14.5'}\n</code></pre>\n<p>After the Gradle's sync, I can see the library which has been added to this list:</p>\n<p><a href=\"https://i.stack.imgur.com/SIrgJ.png\" rel=\"nofollow noreferrer\">External libraries</a></p>\n<p>Now, in order to use the API, I need to update <code>module-info.java</code> as it follows:</p>\n<pre><code>module com.example.restfx {\nrequires javafx.controls;\nrequires javafx.fxml;\nrequires unirest.java;\n\nopens com.example.restfx to javafx.fxml, unirest.java;\nexports com.example.restfx;}\n</code></pre>\n<p>Now, I actually call whatever function of this library in my application.</p>\n<pre><code>public class HelloApplication extends Application {\n@Override\npublic void start(Stage stage) throws IOException {\n    FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n    Scene scene = new Scene(fxmlLoader.load(), 320, 240);\n    stage.setTitle(&quot;Hello!&quot;);\n    stage.setScene(scene);\n    stage.show();\n\n    Unirest.get(&quot;...&quot;);\n\n\n\n}\n\npublic static void main(String[] args) {\n    launch();\n}\n</code></pre>\n<p>}</p>\n<p>After launching the app this error appears.</p>\n<blockquote>\n<p>Task :HelloApplication.main() FAILED\nError occurred during initialization of boot layer\njava.lang.module.FindException: Module unirest.java not found, required by com.example.restfx\nExecution failed for task ':HelloApplication.main()'.\nProcess 'command 'C:/Program Files/Java/jdk-17/bin/java.exe'' finished with non-zero exit value 1</p>\n</blockquote>\n<p>I want to highlight the fact that this error will show up only if the project is created with JavaFX option. That means, a <code>module.info.java</code> file will be created, leading to this issue.</p>\n<p>Actually if I create the same project, without using JavaFX, every external library works correctly.\nSeems something related to that file, but I cannot figure it out what it is.\nHope you can help me.</p>\n"},{"tags":["java","arrays","xslt","saxon"],"comments":[{"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"score":0,"creation_date":1695564970,"post_id":77167409,"comment_id":136038440,"body_markdown":"This is somewhat confusing because the input array is already an array of strings - so what&#39;s the point of this exercise? The term &quot;objects&quot; is also too vague.","body":"This is somewhat confusing because the input array is already an array of strings - so what&#39;s the point of this exercise? The term &quot;objects&quot; is also too vague."},{"owner":{"account_id":146954,"reputation":725,"user_id":357739,"accept_rate":47,"display_name":"technocrat"},"score":0,"creation_date":1695566522,"post_id":77167409,"comment_id":136038573,"body_markdown":"I have updated the question with kind of array I&#39;m passing as input to iterate and create myArray of specific values i.e. names in this case. Thanks","body":"I have updated the question with kind of array I&#39;m passing as input to iterate and create myArray of specific values i.e. names in this case. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695568464,"creation_date":1695564694,"answer_id":77167452,"question_id":77167409,"body_markdown":"Use XPath 3.1, don&#39;t think in procedural terms like iteration, then you can just do e.g.\r\n\r\n    &lt;xsl:variable name=&quot;inputArray&quot; select=&quot;array{&#39;John&#39;, &#39;Peter&#39;}&quot;/&gt;\r\n    &lt;xsl:variable name=&quot;myArray&quot; select=&quot;array{ $inputArray?* }&quot;/&gt;\r\n\r\nWe could also spell that out with `fold-left`, or, if you really wanted to &quot;iterate&quot;, `xsl:iterate`, but I don&#39;t see any need for this.\r\n\r\nThe [whole stylesheet][1] could be e.g.\r\n\r\n    &lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n        version=&quot;3.0&quot;&gt;\r\n      \r\n        &lt;xsl:output method=&quot;text&quot;/&gt;\r\n        &lt;xsl:template name=&quot;test&quot; match=&quot;/&quot;&gt;\r\n            \r\n          &lt;xsl:variable name=&quot;inputArray&quot; select=&quot;array{&#39;John&#39;, &#39;Peter&#39;}&quot;/&gt;\r\n          &lt;xsl:variable name=&quot;myArray&quot; select=&quot;array{ $inputArray?* }&quot;/&gt;\r\n          \r\n          &lt;xsl:value-of select=&quot;$myArray?* ! (&#39;Person name is: &#39; || .)&quot; separator=&quot;&amp;#10;&quot;/&gt;\r\n          \r\n        &lt;/xsl:template&gt;\r\n        \r\n    &lt;/xsl:stylesheet&gt;\r\n\r\n\r\nFor processing the map, you still can use XPath 3.1 to construct the array based on the properties:\r\n\r\n    &lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n        version=&quot;3.0&quot;&gt;\r\n      \r\n        &lt;xsl:output method=&quot;text&quot;/&gt;\r\n        &lt;xsl:template name=&quot;test&quot; match=&quot;/&quot;&gt;\r\n            \r\n          &lt;xsl:variable name=&quot;inputObject&quot; select=&#39;map {&quot;persons&quot;: [map {\r\n                        &quot;name&quot;: &quot;John&quot;,\r\n                        &quot;age&quot;: 33,\r\n                        &quot;residence&quot;:&quot;Permanent&quot; \r\n                        }, map {\r\n                        \r\n                        &quot;name&quot;: &quot;Peter&quot;,\r\n                        &quot;age&quot;: 36,\r\n                        &quot;residence&quot;:&quot;Temporary&quot;\r\n                            }\r\n                ]\r\n        }&#39;/&gt;\r\n          &lt;xsl:variable name=&quot;myArray&quot; select=&quot;array{ $inputObject?persons?*?name }&quot;/&gt;\r\n          \r\n          &lt;xsl:value-of select=&quot;$myArray?* ! (&#39;Person name is: &#39; || .)&quot; separator=&quot;&amp;#10;&quot;/&gt;\r\n          \r\n        &lt;/xsl:template&gt;\r\n        \r\n    &lt;/xsl:stylesheet&gt;\r\n\r\n\r\n  [1]: https://martin-honnen.github.io/xslt3fiddle/?xslt=%3Cxsl%3Astylesheet%20xmlns%3Axsl%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2FXSL%2FTransform%22%0D%0A%20%20%20%20version%3D%223.0%22%3E%0D%0A%20%20%0D%0A%20%20%20%20%3Cxsl%3Aoutput%20method%3D%22text%22%2F%3E%0D%0A%20%20%20%20%3Cxsl%3Atemplate%20name%3D%22test%22%20match%3D%22%2F%22%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%3Cxsl%3Avariable%20name%3D%22inputArray%22%20select%3D%22array%7B%27John%27%2C%20%27Peter%27%7D%22%2F%3E%0D%0A%20%20%20%20%20%20%3Cxsl%3Avariable%20name%3D%22myArray%22%20select%3D%22array%7B%20%24inputArray%3F*%20%7D%22%2F%3E%0D%0A%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%3Cxsl%3Avalue-of%20select%3D%22%24myArray%3F*%20%21%20%28%27Person%20name%20is%3A%20%27%20%7C%7C%20.%29%22%20separator%3D%22%26%2310%3B%22%2F%3E%0D%0A%20%20%20%20%20%20%0D%0A%20%20%20%20%3C%2Fxsl%3Atemplate%3E%0D%0A%20%20%20%20%0D%0A%3C%2Fxsl%3Astylesheet%3E&amp;input=%3Ctest%2F%3E&amp;input-type=XML","title":"XSLT create new array iterating over an existing array","body":"<p>Use XPath 3.1, don't think in procedural terms like iteration, then you can just do e.g.</p>\n<pre><code>&lt;xsl:variable name=&quot;inputArray&quot; select=&quot;array{'John', 'Peter'}&quot;/&gt;\n&lt;xsl:variable name=&quot;myArray&quot; select=&quot;array{ $inputArray?* }&quot;/&gt;\n</code></pre>\n<p>We could also spell that out with <code>fold-left</code>, or, if you really wanted to &quot;iterate&quot;, <code>xsl:iterate</code>, but I don't see any need for this.</p>\n<p>The <a href=\"https://martin-honnen.github.io/xslt3fiddle/?xslt=%3Cxsl%3Astylesheet%20xmlns%3Axsl%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2FXSL%2FTransform%22%0D%0A%20%20%20%20version%3D%223.0%22%3E%0D%0A%20%20%0D%0A%20%20%20%20%3Cxsl%3Aoutput%20method%3D%22text%22%2F%3E%0D%0A%20%20%20%20%3Cxsl%3Atemplate%20name%3D%22test%22%20match%3D%22%2F%22%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%3Cxsl%3Avariable%20name%3D%22inputArray%22%20select%3D%22array%7B%27John%27%2C%20%27Peter%27%7D%22%2F%3E%0D%0A%20%20%20%20%20%20%3Cxsl%3Avariable%20name%3D%22myArray%22%20select%3D%22array%7B%20%24inputArray%3F*%20%7D%22%2F%3E%0D%0A%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%3Cxsl%3Avalue-of%20select%3D%22%24myArray%3F*%20%21%20%28%27Person%20name%20is%3A%20%27%20%7C%7C%20.%29%22%20separator%3D%22%26%2310%3B%22%2F%3E%0D%0A%20%20%20%20%20%20%0D%0A%20%20%20%20%3C%2Fxsl%3Atemplate%3E%0D%0A%20%20%20%20%0D%0A%3C%2Fxsl%3Astylesheet%3E&amp;input=%3Ctest%2F%3E&amp;input-type=XML\" rel=\"nofollow noreferrer\">whole stylesheet</a> could be e.g.</p>\n<pre><code>&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n    version=&quot;3.0&quot;&gt;\n  \n    &lt;xsl:output method=&quot;text&quot;/&gt;\n    &lt;xsl:template name=&quot;test&quot; match=&quot;/&quot;&gt;\n        \n      &lt;xsl:variable name=&quot;inputArray&quot; select=&quot;array{'John', 'Peter'}&quot;/&gt;\n      &lt;xsl:variable name=&quot;myArray&quot; select=&quot;array{ $inputArray?* }&quot;/&gt;\n      \n      &lt;xsl:value-of select=&quot;$myArray?* ! ('Person name is: ' || .)&quot; separator=&quot;&amp;#10;&quot;/&gt;\n      \n    &lt;/xsl:template&gt;\n    \n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>For processing the map, you still can use XPath 3.1 to construct the array based on the properties:</p>\n<pre><code>&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n    version=&quot;3.0&quot;&gt;\n  \n    &lt;xsl:output method=&quot;text&quot;/&gt;\n    &lt;xsl:template name=&quot;test&quot; match=&quot;/&quot;&gt;\n        \n      &lt;xsl:variable name=&quot;inputObject&quot; select='map {&quot;persons&quot;: [map {\n                    &quot;name&quot;: &quot;John&quot;,\n                    &quot;age&quot;: 33,\n                    &quot;residence&quot;:&quot;Permanent&quot; \n                    }, map {\n                    \n                    &quot;name&quot;: &quot;Peter&quot;,\n                    &quot;age&quot;: 36,\n                    &quot;residence&quot;:&quot;Temporary&quot;\n                        }\n            ]\n    }'/&gt;\n      &lt;xsl:variable name=&quot;myArray&quot; select=&quot;array{ $inputObject?persons?*?name }&quot;/&gt;\n      \n      &lt;xsl:value-of select=&quot;$myArray?* ! ('Person name is: ' || .)&quot; separator=&quot;&amp;#10;&quot;/&gt;\n      \n    &lt;/xsl:template&gt;\n    \n&lt;/xsl:stylesheet&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695568238,"creation_date":1695568238,"answer_id":77167670,"question_id":77167409,"body_markdown":"Given this input variable:\r\n\r\n    &lt;xsl:variable name=&quot;input-map&quot; select=&quot;\r\n    \tmap {&#39;persons&#39;: \r\n    \t\t[ \r\n    \t\tmap {\r\n    \t\t\t&#39;name&#39;: &#39;John&#39;,\r\n    \t\t\t&#39;age&#39;: 33,\r\n    \t\t\t&#39;residence&#39;:&#39;Permanent&#39; \r\n    \t\t\t}, \r\n    \t\tmap {\r\n    \t\t\t&#39;name&#39;: &#39;Peter&#39;,\r\n    \t\t\t&#39;age&#39;: 36,\r\n    \t\t\t&#39;residence&#39;:&#39;Temporary&#39;\r\n    \t\t\t}\r\n    \t\t]\r\n    \t}&quot;/&gt;\r\n\r\nyou can create an array of names using:\r\n\r\n    &lt;xsl:variable name=&quot;myArray&quot; select=&quot;array{$input-map?persons?*?name}&quot;/&gt;\r\n","title":"XSLT create new array iterating over an existing array","body":"<p>Given this input variable:</p>\n<pre><code>&lt;xsl:variable name=&quot;input-map&quot; select=&quot;\n    map {'persons': \n        [ \n        map {\n            'name': 'John',\n            'age': 33,\n            'residence':'Permanent' \n            }, \n        map {\n            'name': 'Peter',\n            'age': 36,\n            'residence':'Temporary'\n            }\n        ]\n    }&quot;/&gt;\n</code></pre>\n<p>you can create an array of names using:</p>\n<pre><code>&lt;xsl:variable name=&quot;myArray&quot; select=&quot;array{$input-map?persons?*?name}&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":146954,"reputation":725,"user_id":357739,"accept_rate":47,"display_name":"technocrat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77167670,"answer_count":2,"score":0,"last_activity_date":1695568464,"creation_date":1695563974,"question_id":77167409,"body_markdown":"I am trying to collect strings of my interest by iterating over an array of objects and create a new array. I would use this new array later in my transformation to generate the output.\r\n\r\nBelow is my code: \r\n\r\n        &lt;xsl:stylesheet\r\n        \txmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n        \txmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n        \txmlns:fn=&quot;http://www.w3.org/2005/xpath-functions&quot;\r\n        \txmlns:map=&quot;http://www.w3.org/2005/xpath-functions/map&quot;\r\n        \txmlns:array=&quot;http://www.w3.org/2005/xpath-functions/array&quot;\r\n        \tversion=&quot;3.0&quot;&gt;\r\n        \t&lt;xsl:output method=&quot;text&quot;/&gt;\r\n        \t&lt;xsl:strip-space elements=&quot;*&quot; /&gt;\r\n        \t&lt;xsl:template name=&quot;test&quot; match=&quot;/&quot;&gt;\r\n        \t\t&lt;xsl:param name=&quot;data&quot; select=&quot;data&quot;&gt;&lt;/xsl:param&gt;\r\n        \t\t&lt;xsl:variable name=&quot;myData&quot; select=&quot;$data&quot; /&gt;\r\n        \r\n              &lt;xsl:variable name=&quot;inputArray&quot; select=&quot;array{&#39;John&#39;, &#39;Peter&#39;}&quot;/&gt;\r\n               &lt;xsl:variable name=&quot;myArray&quot; select=&quot;array{}&quot;/&gt;\r\n              \r\n                &lt;xsl:for-each select=&quot;1 to array:size($inputArray)&quot;&gt;\r\n                &lt;xsl:variable name=&quot;personName&quot; select=&quot;array:get($inputArray, .)&quot; /&gt;\r\n                &lt;xsl:value-of select=&quot;$personName&quot; /&gt;\r\n                 &lt;xsl:variable name=&quot;myArray&quot; select=&quot;array:append($myArray, personName)&quot; /&gt;\r\n                &lt;/xsl:for-each&gt;\r\n        &lt;!--       &lt;xsl:variable name=&quot;myArray&quot; select=&quot;array:append($myArray, &#39;John&#39;)&quot; /&gt;\r\n              &lt;xsl:variable name=&quot;myArray&quot; select=&quot;array:append($myArray, &#39;Peter&#39;)&quot; /&gt; --&gt;\r\n              \r\n              &lt;xsl:for-each select=&quot;1 to array:size($myArray)&quot;&gt;\r\n              &lt;xsl:value-of select=&quot;test&quot; /&gt;\r\n        \t\t&lt;xsl:text&gt;Person name is : &lt;/xsl:text&gt;\r\n        \t\t&lt;xsl:value-of select=&quot;array:get($myArray,.)&quot; /&gt;\r\n        \t&lt;/xsl:for-each&gt;\r\n        \t&lt;/xsl:template&gt;\r\n        &lt;/xsl:stylesheet&gt;\r\n\r\nThis doesn&#39;t append the values into myArray and doesn&#39;t even enter the for-each block to output the &quot;test&quot; string.\r\n\r\nThe source for input array is the array of objects as below:\r\n\r\n      map {&quot;persons&quot;: [map {\r\n                        &quot;name&quot;: &quot;John&quot;,\r\n                        &quot;age&quot;: 33,\r\n                        &quot;residence&quot;:&quot;Permanent&quot; \r\n    \t\t\t\t\t}, map {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t&quot;name&quot;: &quot;Peter&quot;,\r\n                        &quot;age&quot;: 36,\r\n                        &quot;residence&quot;:&quot;Temporary&quot;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t]\r\n    \t}\r\n\r\nI would be reading this array using map:get($persons) iterate and collect the names into myArray. ","title":"XSLT create new array iterating over an existing array","body":"<p>I am trying to collect strings of my interest by iterating over an array of objects and create a new array. I would use this new array later in my transformation to generate the output.</p>\n<p>Below is my code:</p>\n<pre><code>    &lt;xsl:stylesheet\n        xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n        xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n        xmlns:fn=&quot;http://www.w3.org/2005/xpath-functions&quot;\n        xmlns:map=&quot;http://www.w3.org/2005/xpath-functions/map&quot;\n        xmlns:array=&quot;http://www.w3.org/2005/xpath-functions/array&quot;\n        version=&quot;3.0&quot;&gt;\n        &lt;xsl:output method=&quot;text&quot;/&gt;\n        &lt;xsl:strip-space elements=&quot;*&quot; /&gt;\n        &lt;xsl:template name=&quot;test&quot; match=&quot;/&quot;&gt;\n            &lt;xsl:param name=&quot;data&quot; select=&quot;data&quot;&gt;&lt;/xsl:param&gt;\n            &lt;xsl:variable name=&quot;myData&quot; select=&quot;$data&quot; /&gt;\n    \n          &lt;xsl:variable name=&quot;inputArray&quot; select=&quot;array{'John', 'Peter'}&quot;/&gt;\n           &lt;xsl:variable name=&quot;myArray&quot; select=&quot;array{}&quot;/&gt;\n          \n            &lt;xsl:for-each select=&quot;1 to array:size($inputArray)&quot;&gt;\n            &lt;xsl:variable name=&quot;personName&quot; select=&quot;array:get($inputArray, .)&quot; /&gt;\n            &lt;xsl:value-of select=&quot;$personName&quot; /&gt;\n             &lt;xsl:variable name=&quot;myArray&quot; select=&quot;array:append($myArray, personName)&quot; /&gt;\n            &lt;/xsl:for-each&gt;\n    &lt;!--       &lt;xsl:variable name=&quot;myArray&quot; select=&quot;array:append($myArray, 'John')&quot; /&gt;\n          &lt;xsl:variable name=&quot;myArray&quot; select=&quot;array:append($myArray, 'Peter')&quot; /&gt; --&gt;\n          \n          &lt;xsl:for-each select=&quot;1 to array:size($myArray)&quot;&gt;\n          &lt;xsl:value-of select=&quot;test&quot; /&gt;\n            &lt;xsl:text&gt;Person name is : &lt;/xsl:text&gt;\n            &lt;xsl:value-of select=&quot;array:get($myArray,.)&quot; /&gt;\n        &lt;/xsl:for-each&gt;\n        &lt;/xsl:template&gt;\n    &lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>This doesn't append the values into myArray and doesn't even enter the for-each block to output the &quot;test&quot; string.</p>\n<p>The source for input array is the array of objects as below:</p>\n<pre><code>  map {&quot;persons&quot;: [map {\n                    &quot;name&quot;: &quot;John&quot;,\n                    &quot;age&quot;: 33,\n                    &quot;residence&quot;:&quot;Permanent&quot; \n                    }, map {\n                    \n                    &quot;name&quot;: &quot;Peter&quot;,\n                    &quot;age&quot;: 36,\n                    &quot;residence&quot;:&quot;Temporary&quot;\n                        }\n            ]\n    }\n</code></pre>\n<p>I would be reading this array using map:get($persons) iterate and collect the names into myArray.</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":6951263,"reputation":1203,"user_id":5333814,"accept_rate":64,"display_name":"Ricardo Silveira"},"score":0,"creation_date":1470910896,"post_id":38893486,"comment_id":65146647,"body_markdown":"driver.findElement() will return another webelement, from that element you could simply make another query to find by tag name (in this case, span).","body":"driver.findElement() will return another webelement, from that element you could simply make another query to find by tag name (in this case, span)."},{"owner":{"account_id":8505572,"reputation":4153,"user_id":6377281,"display_name":"lauda"},"score":1,"creation_date":1470912873,"post_id":38893486,"comment_id":65147895,"body_markdown":"remove /span from your xpath","body":"remove /span from your xpath"}],"answers":[{"tags":[],"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470910755,"creation_date":1470910755,"answer_id":38893593,"question_id":38893486,"body_markdown":"The text is in the `&lt;h2&gt;` tag, not the `&lt;span&gt;` tag. Try\r\n\r\n    driver.findElement(By.xpath(&quot;.//*[@id=&#39;iselmf-folder-detail&#39;]/h2&quot;)).getText();","title":"How to get text from span in selenium","body":"<p>The text is in the <code>&lt;h2&gt;</code> tag, not the <code>&lt;span&gt;</code> tag. Try</p>\n\n<pre><code>driver.findElement(By.xpath(\".//*[@id='iselmf-folder-detail']/h2\")).getText();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7758676,"reputation":287,"user_id":5872115,"display_name":"Moser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470992694,"creation_date":1470923116,"answer_id":38898150,"question_id":38893486,"body_markdown":"Look at the HTML tags \r\n\r\n    &lt;span&gt;Folder:&lt;/span&gt;\r\n\r\nThe /span indicates that this is the end of the span, so if you&#39;re using the span as the identifier then it will only return folder. \r\n\r\nThe parent element of the span is the h2 tag. So to get everything between h2 and /h2 tags you need to do this - \r\n\r\n    driver.findElement(By.xpath(&quot;.//*[@id=&#39;iselmf-folder-detail&#39;]/h2&quot;)).getText();","title":"How to get text from span in selenium","body":"<p>Look at the HTML tags </p>\n\n<pre><code>&lt;span&gt;Folder:&lt;/span&gt;\n</code></pre>\n\n<p>The /span indicates that this is the end of the span, so if you're using the span as the identifier then it will only return folder. </p>\n\n<p>The parent element of the span is the h2 tag. So to get everything between h2 and /h2 tags you need to do this - </p>\n\n<pre><code>driver.findElement(By.xpath(\".//*[@id='iselmf-folder-detail']/h2\")).getText();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1657972,"reputation":106,"user_id":1526958,"accept_rate":0,"display_name":"ahly212"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470967042,"creation_date":1470967042,"answer_id":38908689,"question_id":38893486,"body_markdown":"Two ways to do this,\r\n\r\n1) `driver.findElement(By.xpath(&quot;.//*[@id=&#39;iselmf-folder-detail&#39;]/h2&quot;)).getText();`\r\n\r\n2) Get the text from both and then concatenate it, something like\r\n\r\n    String firstblock = driver.findElement(By.xpath(&quot;.//*[@id=&#39;iselmf-folder-detail&#39;]/h2&quot;)).getText();\r\n    String secondblock = driver.findElement(By.xpath(&quot;.//*[@id=&#39;iselmf-folder-detail&#39;]/h2/span&quot;)).getText(); \r\n    String finaltext= firstblock+secondblock;\r\n\r\n","title":"How to get text from span in selenium","body":"<p>Two ways to do this,</p>\n\n<p>1) <code>driver.findElement(By.xpath(\".//*[@id='iselmf-folder-detail']/h2\")).getText();</code></p>\n\n<p>2) Get the text from both and then concatenate it, something like</p>\n\n<pre><code>String firstblock = driver.findElement(By.xpath(\".//*[@id='iselmf-folder-detail']/h2\")).getText();\nString secondblock = driver.findElement(By.xpath(\".//*[@id='iselmf-folder-detail']/h2/span\")).getText(); \nString finaltext= firstblock+secondblock;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20334652,"reputation":1,"user_id":14915703,"display_name":"Nadia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640194353,"creation_date":1640183934,"answer_id":70450741,"question_id":38893486,"body_markdown":"I had quite similar issue when getting the text from `span` attribute. The solution was to use `.getAttribute(&quot;value&quot;)` like this:\r\n```js\r\ndriver.findElement(By.xpath(&quot;.//*[@id=&#39;iselmf-folder-detail&#39;]/h2/span&quot;)).getAttribute(&quot;value&quot;);\r\n\r\n**String org.openqa.selenium.WebElement.getAttribute(String name)**\r\n```","title":"How to get text from span in selenium","body":"<p>I had quite similar issue when getting the text from <code>span</code> attribute. The solution was to use <code>.getAttribute(&quot;value&quot;)</code> like this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>driver.findElement(By.xpath(&quot;.//*[@id='iselmf-folder-detail']/h2/span&quot;)).getAttribute(&quot;value&quot;);\n\n**String org.openqa.selenium.WebElement.getAttribute(String name)**\n</code></pre>\n"}],"owner":{"account_id":8993039,"reputation":1,"user_id":6704337,"display_name":"MaheshG"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10975,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1695567860,"creation_date":1470910470,"question_id":38893486,"body_markdown":"i want to get text All New Products and Launches i am trying this \r\n    \r\n    driver.findElement(By.xpath(&quot;.//*[@id=&#39;iselmf-folder-detail&#39;]/h2/span&quot;)).getText();\r\nbut it is printing Folder\r\n\t\r\n    &lt;h2 class=&quot;iselmf-h2-icon&quot;&gt;\r\n    &lt;span&gt;Folder:&lt;/span&gt;\r\n    All New Products and Launches\r\n    &lt;/h2&gt;\r\n\r\n","title":"How to get text from span in selenium","body":"<p>i want to get text All New Products and Launches i am trying this </p>\n\n<pre><code>driver.findElement(By.xpath(\".//*[@id='iselmf-folder-detail']/h2/span\")).getText();\n</code></pre>\n\n<p>but it is printing Folder</p>\n\n<pre><code>&lt;h2 class=\"iselmf-h2-icon\"&gt;\n&lt;span&gt;Folder:&lt;/span&gt;\nAll New Products and Launches\n&lt;/h2&gt;\n</code></pre>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1627039497,"post_id":68498343,"comment_id":121056940,"body_markdown":"The word &#39;between&#39; makes no sense here. Do you mean &quot;how can I get all files under /opt?&quot;?","body":"The word &#39;between&#39; makes no sense here. Do you mean &quot;how can I get all files under /opt?&quot;?"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1627039631,"post_id":68498343,"comment_id":121056975,"body_markdown":"or get all parent folders of a given file?","body":"or get all parent folders of a given file?"},{"owner":{"account_id":13352626,"reputation":335,"user_id":9637371,"display_name":"Bestows In Constructing"},"score":0,"creation_date":1627039828,"post_id":68498343,"comment_id":121057038,"body_markdown":"@G00SE \n\n I need all parent files of first file until i reach the second file","body":"@G00SE    I need all parent files of first file until i reach the second file"}],"answers":[{"tags":[],"owner":{"account_id":9444927,"reputation":1735,"user_id":7024049,"display_name":"pcsutar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627042463,"creation_date":1627042063,"answer_id":68498943,"question_id":68498343,"body_markdown":"Try below solution:\r\n\r\n```\r\nimport java.io.File;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Solution {\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        String strPath1 = &quot;/opt/tmp/some_dir_1/some_dir_2/file_1.txt&quot;;\r\n        String strPath2 = &quot;/opt&quot;;\r\n\r\n        Path path1 = Paths.get(strPath1);\r\n        Path path2 = Paths.get(strPath2);\r\n\r\n        List&lt;String&gt; inbetweenPaths = new ArrayList&lt;&gt;();\r\n        List&lt;File&gt; inbetweenFiles = new ArrayList&lt;&gt;();\r\n\r\n        if(path1.toFile().exists() &amp;&amp; path1.startsWith(path2)) {\r\n        \tPath tempPath = path1;\r\n        \twhile(!tempPath.getParent().equals(path2)) {\r\n        \t\ttempPath = tempPath.getParent();\r\n        \t\tinbetweenPaths.add(tempPath.toString());\r\n        \t\tinbetweenFiles.add(tempPath.toFile());\r\n        \t}\r\n        }\r\n\r\n\r\n        System.out.println(inbetweenPaths);\r\n        System.out.println(inbetweenFiles);\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```\r\n[/opt/tmp/some_dir_1/some_dir_2, /opt/tmp/some_dir_1, /opt/tmp]\r\n[/opt/tmp/some_dir_1/some_dir_2, /opt/tmp/some_dir_1, /opt/tmp]\r\n```\r\n\r\n\r\n","title":"How to get file sequence between two file paths","body":"<p>Try below solution:</p>\n<pre><code>import java.io.File;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Solution {\n\n    public static void main(String[] args)\n    {\n        String strPath1 = &quot;/opt/tmp/some_dir_1/some_dir_2/file_1.txt&quot;;\n        String strPath2 = &quot;/opt&quot;;\n\n        Path path1 = Paths.get(strPath1);\n        Path path2 = Paths.get(strPath2);\n\n        List&lt;String&gt; inbetweenPaths = new ArrayList&lt;&gt;();\n        List&lt;File&gt; inbetweenFiles = new ArrayList&lt;&gt;();\n\n        if(path1.toFile().exists() &amp;&amp; path1.startsWith(path2)) {\n            Path tempPath = path1;\n            while(!tempPath.getParent().equals(path2)) {\n                tempPath = tempPath.getParent();\n                inbetweenPaths.add(tempPath.toString());\n                inbetweenFiles.add(tempPath.toFile());\n            }\n        }\n\n\n        System.out.println(inbetweenPaths);\n        System.out.println(inbetweenFiles);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>[/opt/tmp/some_dir_1/some_dir_2, /opt/tmp/some_dir_1, /opt/tmp]\n[/opt/tmp/some_dir_1/some_dir_2, /opt/tmp/some_dir_1, /opt/tmp]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627042122,"creation_date":1627042122,"answer_id":68498961,"question_id":68498343,"body_markdown":"This is classic looping style\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    List&lt;File&gt; files = new ArrayList&lt;&gt;();\r\n    Path path1 = Path.of(&quot;/home/test/folder&quot;);\r\n    Path path2 = Path.of(&quot;/home&quot;);\r\n    if(!path1.startsWith(path2)){\r\n        System.err.println(&quot;Path2 has to be a parent of path1&quot;);\r\n        System.exit(-1);\r\n    }\r\n    while(!path1.equals(path2)){\r\n        files.add(path1.toFile());\r\n        path1 = path1.getParent();\r\n    }\r\n    System.out.println(files);\r\n}\r\n```","title":"How to get file sequence between two file paths","body":"<p>This is classic looping style</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    List&lt;File&gt; files = new ArrayList&lt;&gt;();\n    Path path1 = Path.of(&quot;/home/test/folder&quot;);\n    Path path2 = Path.of(&quot;/home&quot;);\n    if(!path1.startsWith(path2)){\n        System.err.println(&quot;Path2 has to be a parent of path1&quot;);\n        System.exit(-1);\n    }\n    while(!path1.equals(path2)){\n        files.add(path1.toFile());\n        path1 = path1.getParent();\n    }\n    System.out.println(files);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13935919,"reputation":721,"user_id":16496244,"display_name":"Harsh Kasodariya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627044898,"creation_date":1627044898,"answer_id":68499544,"question_id":68498343,"body_markdown":"Use absolute path to avoid null value from ```getParent``` in case the path provided is not absolute and has no parents **e.g.** ```/some_dir_1```.\r\n```java\r\npublic static void main(String args[]) {\r\n\r\n        Path childPath = Paths.get(&quot;/opt/tmp/some_dir_1/some_dir_2/file_1.txt&quot;).toAbsolutePath();\r\n        Path parentPath = Paths.get(&quot;/opt&quot;).toAbsolutePath();\r\n        List&lt;String&gt; parents = new ArrayList&lt;String&gt;();\r\n\r\n        // Checks if parentPath is indeed a parent of childPath\r\n        if(childPath.startsWith(parentPath)){\r\n\r\n            // Loop until parent of childPath and parentPath are equal\r\n            while(!childPath.getParent().equals(parentPath)) {\r\n                parents.add(childPath.getParent().toString());\r\n                childPath = childPath.getParent();\r\n            }\r\n        }\r\n        else {\r\n            // throw Exception or set parent to empty array here\r\n            System.out.println(&quot;ERR: parentPath must be a parent of childPath&quot;);\r\n            return;\r\n        }\r\n        \r\n        // Prints the output\r\n        for(String p : parents) {\r\n            System.out.println(p);\r\n        }\r\n    }\r\n```\r\n\r\n**Output:**\r\n```\r\n/opt/tmp/some_dir_1/some_dir_2\r\n/opt/tmp/some_dir_1\r\n/opt/tmp\r\n```","title":"How to get file sequence between two file paths","body":"<p>Use absolute path to avoid null value from <code>getParent</code> in case the path provided is not absolute and has no parents <strong>e.g.</strong> <code>/some_dir_1</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String args[]) {\n\n        Path childPath = Paths.get(&quot;/opt/tmp/some_dir_1/some_dir_2/file_1.txt&quot;).toAbsolutePath();\n        Path parentPath = Paths.get(&quot;/opt&quot;).toAbsolutePath();\n        List&lt;String&gt; parents = new ArrayList&lt;String&gt;();\n\n        // Checks if parentPath is indeed a parent of childPath\n        if(childPath.startsWith(parentPath)){\n\n            // Loop until parent of childPath and parentPath are equal\n            while(!childPath.getParent().equals(parentPath)) {\n                parents.add(childPath.getParent().toString());\n                childPath = childPath.getParent();\n            }\n        }\n        else {\n            // throw Exception or set parent to empty array here\n            System.out.println(&quot;ERR: parentPath must be a parent of childPath&quot;);\n            return;\n        }\n        \n        // Prints the output\n        for(String p : parents) {\n            System.out.println(p);\n        }\n    }\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>/opt/tmp/some_dir_1/some_dir_2\n/opt/tmp/some_dir_1\n/opt/tmp\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695567431,"creation_date":1695567431,"answer_id":77167619,"question_id":68498343,"body_markdown":"Reading the details of paths between directories is easily done by iterating from the parents of the path in a stream: \r\n\r\n    Path from = Path.of(&quot;/opt&quot;);\r\n    Path   to = Path.of(&quot;/opt/tmp/some_dir_1/some_dir_2/file_1.txt&quot;);\r\n    List&lt;Path&gt; items = Stream.iterate(to.getParent(), Objects::nonNull, Path::getParent)\r\n                             .takeWhile(Predicate.not(from::equals)).toList();\r\n    System.out.println(items);\r\n\r\n    // Prints:\r\n    [/opt/tmp/some_dir_1/some_dir_2, /opt/tmp/some_dir_1, /opt/tmp]\r\n\r\nYou can map back the items as String (with `.map(Path::toString)`) or reverse the list as needed.","title":"How to get file sequence between two file paths","body":"<p>Reading the details of paths between directories is easily done by iterating from the parents of the path in a stream:</p>\n<pre><code>Path from = Path.of(&quot;/opt&quot;);\nPath   to = Path.of(&quot;/opt/tmp/some_dir_1/some_dir_2/file_1.txt&quot;);\nList&lt;Path&gt; items = Stream.iterate(to.getParent(), Objects::nonNull, Path::getParent)\n                         .takeWhile(Predicate.not(from::equals)).toList();\nSystem.out.println(items);\n\n// Prints:\n[/opt/tmp/some_dir_1/some_dir_2, /opt/tmp/some_dir_1, /opt/tmp]\n</code></pre>\n<p>You can map back the items as String (with <code>.map(Path::toString)</code>) or reverse the list as needed.</p>\n"}],"owner":{"account_id":13352626,"reputation":335,"user_id":9637371,"display_name":"Bestows In Constructing"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1695567431,"creation_date":1627039133,"question_id":68498343,"body_markdown":"I got two files:\r\n\r\nThe first:\r\n\r\n    /opt/tmp/some_dir_1/some_dir_2/file_1.txt\r\n\r\nand the second:\r\n\r\n    /opt/\r\n\r\nIs there a pretty way in java to get files between them?\r\n\r\nIn result i need such a `List&lt;File&gt;`:\r\n\r\n    /opt/tmp/\r\n    /opt/tmp/some_dir_1/\r\n    /opt/tmp/some_dir_1/some_dir_2/\r\n\r\nor a `List&lt;String&gt;`:\r\n\r\n    /tmp/\r\n    /some_dir_1/\r\n    /some_dir_2/\r\n\r\nif files not inside each other, there can be some exception or `Collection.emptyList()` in result\r\n\r\nThanks!","title":"How to get file sequence between two file paths","body":"<p>I got two files:</p>\n<p>The first:</p>\n<pre><code>/opt/tmp/some_dir_1/some_dir_2/file_1.txt\n</code></pre>\n<p>and the second:</p>\n<pre><code>/opt/\n</code></pre>\n<p>Is there a pretty way in java to get files between them?</p>\n<p>In result i need such a <code>List&lt;File&gt;</code>:</p>\n<pre><code>/opt/tmp/\n/opt/tmp/some_dir_1/\n/opt/tmp/some_dir_1/some_dir_2/\n</code></pre>\n<p>or a <code>List&lt;String&gt;</code>:</p>\n<pre><code>/tmp/\n/some_dir_1/\n/some_dir_2/\n</code></pre>\n<p>if files not inside each other, there can be some exception or <code>Collection.emptyList()</code> in result</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring","spring-mvc","spring-data","spring-data-rest"],"comments":[{"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"score":4,"creation_date":1471603555,"post_id":39036771,"comment_id":65423644,"body_markdown":"I&#39;m not sure but I guess you can use `Page.map` without lambda expressions. Just pass an instance of `Converter&lt;? super T, ? extends S&gt;`","body":"I&#39;m not sure but I guess you can use <code>Page.map</code> without lambda expressions. Just pass an instance of <code>Converter&lt;? super T, ? extends S&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"down_vote_count":1,"up_vote_count":101,"is_accepted":true,"score":100,"last_activity_date":1471604179,"creation_date":1471604179,"answer_id":39037297,"question_id":39036771,"body_markdown":"You can still use the `Page.map` without lambda expressions:\r\n\r\n    Page&lt;ObjectEntity&gt; entities = objectEntityRepository.findAll(pageable);\r\n    Page&lt;ObjectDto&gt; dtoPage = entities.map(new Converter&lt;ObjectEntity, ObjectDto&gt;() {\r\n        @Override\r\n        public ObjectDto convert(ObjectEntity entity) {\r\n            ObjectDto dto = new ObjectDto();\r\n            // Conversion logic\r\n\r\n            return dto;\r\n        }\r\n    });","title":"How to map Page&lt;ObjectEntity&gt; to Page&lt;ObjectDTO&gt; in spring-data-rest","body":"<p>You can still use the <code>Page.map</code> without lambda expressions:</p>\n\n<pre><code>Page&lt;ObjectEntity&gt; entities = objectEntityRepository.findAll(pageable);\nPage&lt;ObjectDto&gt; dtoPage = entities.map(new Converter&lt;ObjectEntity, ObjectDto&gt;() {\n    @Override\n    public ObjectDto convert(ObjectEntity entity) {\n        ObjectDto dto = new ObjectDto();\n        // Conversion logic\n\n        return dto;\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7509953,"reputation":22160,"user_id":5705247,"accept_rate":27,"display_name":"Tuomas Toivonen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1471604236,"creation_date":1471604236,"answer_id":39037315,"question_id":39036771,"body_markdown":"Here is my solution, thanks to @Ali Dehghani\r\n\r\n    private Page&lt;ObjectDTO&gt; mapEntityPageIntoDTOPage(Page&lt;ObjectEntity&gt; objectEntityPage) {\r\n    \t\treturn objectEntityPage.map(new Converter&lt;ObjectEntity, ObjectDTO&gt;() {\r\n    \t\t\tpublic ObjectDTO convert(ObjectEntity objectEntity) {\r\n    \t\t\t\treturn new ObjectDTO(objectEntity, httpSession);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t});\r\n    \t}","title":"How to map Page&lt;ObjectEntity&gt; to Page&lt;ObjectDTO&gt; in spring-data-rest","body":"<p>Here is my solution, thanks to @Ali Dehghani</p>\n\n<pre><code>private Page&lt;ObjectDTO&gt; mapEntityPageIntoDTOPage(Page&lt;ObjectEntity&gt; objectEntityPage) {\n        return objectEntityPage.map(new Converter&lt;ObjectEntity, ObjectDTO&gt;() {\n            public ObjectDTO convert(ObjectEntity objectEntity) {\n                return new ObjectDTO(objectEntity, httpSession);\n            }\n\n        });\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":346385,"reputation":5794,"user_id":679879,"accept_rate":90,"display_name":"Mustafa"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1580861360,"creation_date":1515668017,"answer_id":48205368,"question_id":39036771,"body_markdown":"And in java8:\r\n\r\n    Page&lt;ObjectDto&gt; entities = \r\n     objectEntityRepository.findAll(pageable)\r\n     .map(ObjectDto::fromEntity);\r\n\r\nWhere fromEntity is a static method on ObjectDto that contains the conversion logic.","title":"How to map Page&lt;ObjectEntity&gt; to Page&lt;ObjectDTO&gt; in spring-data-rest","body":"<p>And in java8:</p>\n\n<pre><code>Page&lt;ObjectDto&gt; entities = \n objectEntityRepository.findAll(pageable)\n .map(ObjectDto::fromEntity);\n</code></pre>\n\n<p>Where fromEntity is a static method on ObjectDto that contains the conversion logic.</p>\n"},{"tags":[],"owner":{"account_id":88559,"reputation":2849,"user_id":244847,"accept_rate":86,"display_name":"JayL"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1518800833,"creation_date":1518800833,"answer_id":48831688,"question_id":39036771,"body_markdown":"In Spring Data 2, the Page map method takes a Function instead of a Converter, but it still works basically the same as @Ali Dehghani described.\r\n\r\nUsing Function:\r\n\r\n    \r\n    Page&lt;ObjectEntity&gt; entities = objectEntityRepository.findAll(pageable);\r\n    Page&lt;ObjectDto&gt; dtoPage = entities.map(new Function&lt;ObjectEntity, ObjectDto&gt;() {\r\n        @Override\r\n        public ObjectDto apply(ObjectEntity entity) {\r\n            ObjectDto dto = new ObjectDto();\r\n            // Conversion logic\r\n\r\n            return dto;\r\n        }\r\n    });","title":"How to map Page&lt;ObjectEntity&gt; to Page&lt;ObjectDTO&gt; in spring-data-rest","body":"<p>In Spring Data 2, the Page map method takes a Function instead of a Converter, but it still works basically the same as @Ali Dehghani described.</p>\n\n<p>Using Function:</p>\n\n<pre><code>Page&lt;ObjectEntity&gt; entities = objectEntityRepository.findAll(pageable);\nPage&lt;ObjectDto&gt; dtoPage = entities.map(new Function&lt;ObjectEntity, ObjectDto&gt;() {\n    @Override\n    public ObjectDto apply(ObjectEntity entity) {\n        ObjectDto dto = new ObjectDto();\n        // Conversion logic\n\n        return dto;\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8136721,"reputation":350,"user_id":6128119,"display_name":"Peter Mutisya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522157942,"creation_date":1522157942,"answer_id":49514464,"question_id":39036771,"body_markdown":"At the end, you will not return the Page to the users, but a list of ObjectDTO, with the Page details at the header, so this would be my solution.\n\n## **ObjectService**\n\n    public Page&lt;ObjectEntity&gt; findAll (Pageable pageable){\n      //logic goes here.\n      Page&lt;ObjectEntity&gt; page = objectRepository.findAll(pageable);\n      return page;\n    } \n\n\n## ObjectResource / rest (the exposed endpoint)\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;ObjectDTO&gt;&gt; findAll (Pageable pageable){\n      Page&lt;ObjectEntity&gt; page = objectServiceService.findAll(pageable);\n\n      HttpHeaders headers = PaginationUtil.generatePaginationHttpHeaders(page, &quot;your-endpoint-here&quot;);\n\n      return new ResponseEntity&lt;&gt;(objectMapper.toDto(page.getContent()), headers, HttpStatus.OK);\n    }\n\nThe reason for using this is so that you don&#39;t need to duplicate the page details for ObjectEntity and DTO. It is key to note that a page contains the following:\n\n - page number \n - pageSize \n - numberOfElements\n - content\n\nThe **content** is the list of objects returned, and is the only thing that needs to be mapped to DTO.\n","title":"How to map Page&lt;ObjectEntity&gt; to Page&lt;ObjectDTO&gt; in spring-data-rest","body":"<p>At the end, you will not return the Page to the users, but a list of ObjectDTO, with the Page details at the header, so this would be my solution.</p>\n<h2><strong>ObjectService</strong></h2>\n<pre><code>public Page&lt;ObjectEntity&gt; findAll (Pageable pageable){\n  //logic goes here.\n  Page&lt;ObjectEntity&gt; page = objectRepository.findAll(pageable);\n  return page;\n} \n</code></pre>\n<h2>ObjectResource / rest (the exposed endpoint)</h2>\n<pre><code>@GetMapping\npublic ResponseEntity&lt;List&lt;ObjectDTO&gt;&gt; findAll (Pageable pageable){\n  Page&lt;ObjectEntity&gt; page = objectServiceService.findAll(pageable);\n\n  HttpHeaders headers = PaginationUtil.generatePaginationHttpHeaders(page, &quot;your-endpoint-here&quot;);\n\n  return new ResponseEntity&lt;&gt;(objectMapper.toDto(page.getContent()), headers, HttpStatus.OK);\n}\n</code></pre>\n<p>The reason for using this is so that you don't need to duplicate the page details for ObjectEntity and DTO. It is key to note that a page contains the following:</p>\n<ul>\n<li>page number</li>\n<li>pageSize</li>\n<li>numberOfElements</li>\n<li>content</li>\n</ul>\n<p>The <strong>content</strong> is the list of objects returned, and is the only thing that needs to be mapped to DTO.</p>\n"},{"tags":[],"owner":{"account_id":8302665,"reputation":500,"user_id":6240833,"display_name":"Ilias Mentz"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1534929609,"creation_date":1534929609,"answer_id":51963589,"question_id":39036771,"body_markdown":"You can use Page.map by simply doing this:\r\n\r\n    \r\n\tpublic Page&lt;ObjectDto&gt; toPageObjectDto(Page&lt;Object&gt; objects) {\r\n\t\tPage&lt;ObjectDto&gt; dtos  = objects.map(this::convertToObjectDto);\r\n\t\treturn dtos;\r\n\t}\r\n\t\r\n\tprivate ObjectDto convertToObjectDto(Object o) {\r\n\t\tObjectDto dto = new ObjectDto();\r\n\t\t//conversion here\r\n\t\treturn dto;\r\n\t}","title":"How to map Page&lt;ObjectEntity&gt; to Page&lt;ObjectDTO&gt; in spring-data-rest","body":"<p>You can use Page.map by simply doing this:</p>\n\n<pre><code>public Page&lt;ObjectDto&gt; toPageObjectDto(Page&lt;Object&gt; objects) {\n    Page&lt;ObjectDto&gt; dtos  = objects.map(this::convertToObjectDto);\n    return dtos;\n}\n\nprivate ObjectDto convertToObjectDto(Object o) {\n    ObjectDto dto = new ObjectDto();\n    //conversion here\n    return dto;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1927748,"reputation":3317,"user_id":1737813,"display_name":"Bosko Mijin"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1673259187,"creation_date":1584209253,"answer_id":60685819,"question_id":39036771,"body_markdown":"I have created a solution with model mapper, generics and lambdas for common usage, and it is used on a daily basis on several projects.\r\n\r\n    /**\r\n     * Maps the Page {@code entities} of &lt;code&gt;T&lt;/code&gt; type which have to be mapped as input to {@code dtoClass} Page\r\n     * of mapped object with &lt;code&gt;D&lt;/code&gt; type.\r\n     *\r\n     * @param &lt;D&gt; - type of objects in result page\r\n     * @param &lt;T&gt; - type of entity in &lt;code&gt;entityPage&lt;/code&gt;\r\n     * @param entities - page of entities that needs to be mapped\r\n     * @param dtoClass - class of result page element\r\n     * @return page - mapped page with objects of type &lt;code&gt;D&lt;/code&gt;.\r\n     * @NB &lt;code&gt;dtoClass&lt;/code&gt; must has NoArgsConstructor!\r\n     */\r\n    public &lt;D, T&gt; Page&lt;D&gt; mapEntityPageIntoDtoPage(Page&lt;T&gt; entities, Class&lt;D&gt; dtoClass) {\r\n        return entities.map(objectEntity -&gt; modelMapper.map(objectEntity, dtoClass));\r\n    } \r\n\r\nThis is exactly the case which you need (and I think common case for a wide range of other cases).\r\n\r\nYou already have the data obtained from repository (same is with service) on this way:\r\n\r\n    Page&lt;ObjectEntity&gt; entities = objectEntityRepository.findAll(pageable);\r\n\r\nEverything what you need for conversion is to call this method on this way:\r\n\r\n    Page&lt;ObjectDto&gt; dtoPage = mapEntityPageIntoDtoPage(entities, ObjectDto.class);\r\n\r\n@Tip: You can use this method from util class, and it can be reused for all entity/dto in Page conversions on services and controllers according to your architecture.\r\n\r\nExample:\r\n\r\n    Page&lt;ObjectDto&gt; dtoPage = mapperUtil.mapEntityPageIntoDtoPage(entities, ObjectDto.class);\r\n\r\n\r\n\r\n\r\n","title":"How to map Page&lt;ObjectEntity&gt; to Page&lt;ObjectDTO&gt; in spring-data-rest","body":"<p>I have created a solution with model mapper, generics and lambdas for common usage, and it is used on a daily basis on several projects.</p>\n<pre><code>/**\n * Maps the Page {@code entities} of &lt;code&gt;T&lt;/code&gt; type which have to be mapped as input to {@code dtoClass} Page\n * of mapped object with &lt;code&gt;D&lt;/code&gt; type.\n *\n * @param &lt;D&gt; - type of objects in result page\n * @param &lt;T&gt; - type of entity in &lt;code&gt;entityPage&lt;/code&gt;\n * @param entities - page of entities that needs to be mapped\n * @param dtoClass - class of result page element\n * @return page - mapped page with objects of type &lt;code&gt;D&lt;/code&gt;.\n * @NB &lt;code&gt;dtoClass&lt;/code&gt; must has NoArgsConstructor!\n */\npublic &lt;D, T&gt; Page&lt;D&gt; mapEntityPageIntoDtoPage(Page&lt;T&gt; entities, Class&lt;D&gt; dtoClass) {\n    return entities.map(objectEntity -&gt; modelMapper.map(objectEntity, dtoClass));\n} \n</code></pre>\n<p>This is exactly the case which you need (and I think common case for a wide range of other cases).</p>\n<p>You already have the data obtained from repository (same is with service) on this way:</p>\n<pre><code>Page&lt;ObjectEntity&gt; entities = objectEntityRepository.findAll(pageable);\n</code></pre>\n<p>Everything what you need for conversion is to call this method on this way:</p>\n<pre><code>Page&lt;ObjectDto&gt; dtoPage = mapEntityPageIntoDtoPage(entities, ObjectDto.class);\n</code></pre>\n<p>@Tip: You can use this method from util class, and it can be reused for all entity/dto in Page conversions on services and controllers according to your architecture.</p>\n<p>Example:</p>\n<pre><code>Page&lt;ObjectDto&gt; dtoPage = mapperUtil.mapEntityPageIntoDtoPage(entities, ObjectDto.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7859927,"reputation":2613,"user_id":5940649,"accept_rate":75,"display_name":"Evol Rof"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1588438638,"creation_date":1588438638,"answer_id":61563123,"question_id":39036771,"body_markdown":"use lambda expression is more convenient\r\n\r\n```\r\nPage&lt;ObjectDto&gt; dto=objectRepository.findAll(pageable).map((object -&gt; DozerBeanMapperBuilder.buildDefault().map(object, ObjectDto.class)));\r\n```","title":"How to map Page&lt;ObjectEntity&gt; to Page&lt;ObjectDTO&gt; in spring-data-rest","body":"<p>use lambda expression is more convenient</p>\n\n<pre><code>Page&lt;ObjectDto&gt; dto=objectRepository.findAll(pageable).map((object -&gt; DozerBeanMapperBuilder.buildDefault().map(object, ObjectDto.class)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18665731,"reputation":21,"user_id":13605750,"display_name":"Biswajit Dutta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1590297691,"creation_date":1590295656,"answer_id":61981761,"question_id":39036771,"body_markdown":"This works correctly in Spring 2.0 -\r\n\r\n```java\r\n@Override\r\npublic Page&lt;BookDto&gt; getBooksByAuthor(String authorId, Pageable pageable) {\r\n\t\tPage&lt;BookEntity&gt; bookEntity = iBookRepository.findByAuthorId(authorId, pageable);\r\n\t\treturn bookEntity.map(new Function&lt;BookEntity, BookDto&gt;() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic BookDto apply(BookEntity t) {\r\n\t\t\t\treturn new ModelMapper().map(t, BookDto.class);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t});\r\n\t}\r\n```\r\nThe converter is no longer supported in Page type for Spring 2.0. Also, the Function should be used from java.util.function.Function.","title":"How to map Page&lt;ObjectEntity&gt; to Page&lt;ObjectDTO&gt; in spring-data-rest","body":"<p>This works correctly in Spring 2.0 -</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic Page&lt;BookDto&gt; getBooksByAuthor(String authorId, Pageable pageable) {\n        Page&lt;BookEntity&gt; bookEntity = iBookRepository.findByAuthorId(authorId, pageable);\n        return bookEntity.map(new Function&lt;BookEntity, BookDto&gt;() {\n\n            @Override\n            public BookDto apply(BookEntity t) {\n                return new ModelMapper().map(t, BookDto.class);\n            }\n\n        });\n    }\n</code></pre>\n\n<p>The converter is no longer supported in Page type for Spring 2.0. Also, the Function should be used from java.util.function.Function.</p>\n"},{"tags":[],"owner":{"account_id":14472970,"reputation":1136,"user_id":10454340,"display_name":"Vikash Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1627985145,"creation_date":1627985145,"answer_id":68634119,"question_id":39036771,"body_markdown":"Using Java 8 Lambda ,It worked for me. The answer is already given above,I am just simplifying.\r\n\r\n    Page&lt;EmployeeEntity&gt; employeeEntityPage = employeeService.findEmployeeEntities();\r\n    \r\n\r\n    Page&lt;EmployeeDto&gt; employeeDtoPage = employeeEntityPage.map(entity -&gt; {\r\n            EmployeeDto dto = employeeService.employeEntityToDto(entity);\r\n            return dto;\r\n        });\r\n\r\n\r\n**Here employeeEntityToDto() is a method to convert Entities to Dtos**\r\n\r\n    public EmployeeDto employeeEntityToDto(EmployeeEntity entity){\r\n        EmployeeDto employeeDto =  new EmployeeDto();\r\n        employeeDto.setId(entity.getId());\r\n        employeeDto.setName(entity.getName());\r\n        return employeeDto;\r\n    }","title":"How to map Page&lt;ObjectEntity&gt; to Page&lt;ObjectDTO&gt; in spring-data-rest","body":"<p>Using Java 8 Lambda ,It worked for me. The answer is already given above,I am just simplifying.</p>\n<pre><code>Page&lt;EmployeeEntity&gt; employeeEntityPage = employeeService.findEmployeeEntities();\n\n\nPage&lt;EmployeeDto&gt; employeeDtoPage = employeeEntityPage.map(entity -&gt; {\n        EmployeeDto dto = employeeService.employeEntityToDto(entity);\n        return dto;\n    });\n</code></pre>\n<p><strong>Here employeeEntityToDto() is a method to convert Entities to Dtos</strong></p>\n<pre><code>public EmployeeDto employeeEntityToDto(EmployeeEntity entity){\n    EmployeeDto employeeDto =  new EmployeeDto();\n    employeeDto.setId(entity.getId());\n    employeeDto.setName(entity.getName());\n    return employeeDto;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10775305,"reputation":668,"user_id":7927573,"display_name":"Oguzhan Cevik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648319961,"creation_date":1648319961,"answer_id":71630820,"question_id":39036771,"body_markdown":"    Page&lt;Order&gt; persistedOrderPage = orderQueryRepository.search();\r\n\r\n    Page&lt;OrderDTO&gt; orderPage = persistedOrderPage.map(persistedOrder -&gt; {\r\n        OrderDTO order = mapper.toOrderDTO(persistedOrder);\r\n        // do another action\r\n        return order;\r\n    });","title":"How to map Page&lt;ObjectEntity&gt; to Page&lt;ObjectDTO&gt; in spring-data-rest","body":"<pre><code>Page&lt;Order&gt; persistedOrderPage = orderQueryRepository.search();\n\nPage&lt;OrderDTO&gt; orderPage = persistedOrderPage.map(persistedOrder -&gt; {\n    OrderDTO order = mapper.toOrderDTO(persistedOrder);\n    // do another action\n    return order;\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9509803,"reputation":101,"user_id":7068092,"display_name":"ahmet aslan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674942577,"creation_date":1674942577,"answer_id":75271142,"question_id":39036771,"body_markdown":"I&#39;ve used Lambda with [ModelMapper][1]\r\n\r\n        Page&lt;ObjectEntity&gt; pageEntity = objectRepository.findAll(pageable);\r\n        Page&lt;ObjectDto&gt; pageDto = pageEntity.map(objectEntity -&gt; modelMapper.map(objectEntity, ObjectDto.class));\r\n\r\n\r\n  [1]: https://modelmapper.org/","title":"How to map Page&lt;ObjectEntity&gt; to Page&lt;ObjectDTO&gt; in spring-data-rest","body":"<p>I've used Lambda with <a href=\"https://modelmapper.org/\" rel=\"nofollow noreferrer\">ModelMapper</a></p>\n<pre><code>    Page&lt;ObjectEntity&gt; pageEntity = objectRepository.findAll(pageable);\n    Page&lt;ObjectDto&gt; pageDto = pageEntity.map(objectEntity -&gt; modelMapper.map(objectEntity, ObjectDto.class));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21846020,"reputation":101,"user_id":16138851,"display_name":"sachintha dilshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682857530,"creation_date":1682857530,"answer_id":76141252,"question_id":39036771,"body_markdown":"Try this code\r\n\r\n**SERVICE**\r\n\r\n    Pageable pageable = PageRequest.of(page - 1, size);\r\n    Page&lt;ContentResDTO&gt; resDTOPage = contentRepository.findAllBy(contentID, userId, pageable);\r\n\r\n**REPOSITORY**\r\n\r\n    @Query(&quot;SELECT new com.example.demo.dto.content.ContentResDTO(t, COUNT(DISTINCT c.cmtID), COUNT(DISTINCT r.rctId)) &quot; +\r\n                &quot;FROM TMnTrContent t LEFT JOIN TMnTrComment c ON t.cntID = c.content.cntID LEFT JOIN TMnTrReact r ON t.cntID = r.content.cntID &quot; +\r\n                &quot; WHERE (:cntId IS NULL OR (:cntId IS NOT NULL AND t.cntID = :cntId)) AND &quot; +\r\n                &quot; (:userId IS NULL OR (:userId IS NOT NULL AND t.user.userId = :userId)) &quot; +\r\n                &quot; GROUP BY t.cntID&quot;)\r\n        Page&lt;ContentResDTO&gt; findAllBy(@Param(&quot;cntId&quot;) Long cntId,\r\n                                      @Param(&quot;userId&quot;) Long userId,\r\n                                      Pageable pageable);\r\n\r\n**DTO**\r\n\r\n    @Getter\r\n    @Setter\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class ContentResDTO {\r\n        private long id;\r\n        private long userId;\r\n        private String type;\r\n        private String description;\r\n        private int version;\r\n        private Date createdDate;\r\n        private Date modifyDate;\r\n        private int commentCount;\r\n        private int reactCount;\r\n    \r\n        public ContentResDTO(TMnTrContent content, long commentCount, long reactCount) {\r\n            this.id = content.getCntID();\r\n            this.userId = content.getUser().getUserId();\r\n            this.type = content.getCntType();\r\n            this.description = content.getCntDescription();\r\n            this.version = content.getVersion();\r\n            this.createdDate = content.getCreateDate();\r\n            this.modifyDate = content.getModifyDate();\r\n            this.commentCount = (int) commentCount;\r\n            this.reactCount = (int) reactCount;\r\n        }\r\n    \r\n    }","title":"How to map Page&lt;ObjectEntity&gt; to Page&lt;ObjectDTO&gt; in spring-data-rest","body":"<p>Try this code</p>\n<p><strong>SERVICE</strong></p>\n<pre><code>Pageable pageable = PageRequest.of(page - 1, size);\nPage&lt;ContentResDTO&gt; resDTOPage = contentRepository.findAllBy(contentID, userId, pageable);\n</code></pre>\n<p><strong>REPOSITORY</strong></p>\n<pre><code>@Query(&quot;SELECT new com.example.demo.dto.content.ContentResDTO(t, COUNT(DISTINCT c.cmtID), COUNT(DISTINCT r.rctId)) &quot; +\n            &quot;FROM TMnTrContent t LEFT JOIN TMnTrComment c ON t.cntID = c.content.cntID LEFT JOIN TMnTrReact r ON t.cntID = r.content.cntID &quot; +\n            &quot; WHERE (:cntId IS NULL OR (:cntId IS NOT NULL AND t.cntID = :cntId)) AND &quot; +\n            &quot; (:userId IS NULL OR (:userId IS NOT NULL AND t.user.userId = :userId)) &quot; +\n            &quot; GROUP BY t.cntID&quot;)\n    Page&lt;ContentResDTO&gt; findAllBy(@Param(&quot;cntId&quot;) Long cntId,\n                                  @Param(&quot;userId&quot;) Long userId,\n                                  Pageable pageable);\n</code></pre>\n<p><strong>DTO</strong></p>\n<pre><code>@Getter\n@Setter\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class ContentResDTO {\n    private long id;\n    private long userId;\n    private String type;\n    private String description;\n    private int version;\n    private Date createdDate;\n    private Date modifyDate;\n    private int commentCount;\n    private int reactCount;\n\n    public ContentResDTO(TMnTrContent content, long commentCount, long reactCount) {\n        this.id = content.getCntID();\n        this.userId = content.getUser().getUserId();\n        this.type = content.getCntType();\n        this.description = content.getCntDescription();\n        this.version = content.getVersion();\n        this.createdDate = content.getCreateDate();\n        this.modifyDate = content.getModifyDate();\n        this.commentCount = (int) commentCount;\n        this.reactCount = (int) reactCount;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23969310,"reputation":61,"user_id":18528693,"display_name":"Anton Podolskyy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695566768,"creation_date":1695566768,"answer_id":77167573,"question_id":39036771,"body_markdown":"Here is option, if you also need to get totalElements, totalPages from origin\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class CreditIssuedMapper {\r\n\r\n    public static CreditIssuedDto toCreditIssuedDto(CreditIssued creditIssued){\r\n\r\n        CreditIssuedDto c = new CreditIssuedDto();\r\n\r\n        c.setId(creditIssued.getId());\r\n\r\n        c.setClientId(creditIssued.getClientData().getId());\r\n        c.setClientName(creditIssued.getClientData().getClientName());\r\n        c.setClientSurname(creditIssued.getClientData().getClientSurname());\r\n        c.setClientMiddlename(creditIssued.getClientData().getClientMiddlename());\r\n\r\n        c.setManagerId(creditIssued.getManagerData().getId());\r\n        c.setManagerName(creditIssued.getManagerData().getManagerName());\r\n        c.setManagerSurname(creditIssued.getManagerData().getManagerSurname());\r\n        c.setManagerMiddlename(creditIssued.getManagerData().getManagerMiddlename());\r\n\r\n        c.setCreditIssuedBody(creditIssued.getCreditBody());\r\n        c.setCreditIssuedLeft(creditIssued.getCreditLeft());\r\n        c.setCreditIssuedFine(creditIssued.getCreditFine());\r\n        c.setCreditIssuedMonthlyPayment(creditIssued.getCreditMonthlyPayment());\r\n        c.setCreditIssuedDate(creditIssued.getCreditIssuedDate());\r\n        c.setCreditIssuedNextPayment(creditIssued.getCreditNextPayment());\r\n        c.setCreditIssuedExpDate(creditIssued.getCreditExpDate());\r\n\r\n        c.setCreditOfferId(creditIssued.getCreditOfferId().getId());\r\n        c.setCreditOfferName(creditIssued.getCreditOfferId().getCreditName());\r\n        c.setCreditOfferInterest(creditIssued.getCreditOfferId().getCreditInterest());\r\n        c.setCreditOfferFine(creditIssued.getCreditOfferId().getCreditFine());\r\n        c.setCreditOfferCurrency(creditIssued.getCreditOfferId().getCurrencyData().getCurrencyName());\r\n\r\n        return c;\r\n\r\n    }\r\n\r\n    public Page&lt;CreditIssuedDto&gt; creditIssuedDto (Page&lt;CreditIssued&gt; creditIssued){\r\n\r\n        List&lt;CreditIssuedDto&gt; creditIssuedDto = creditIssued\r\n                .stream()\r\n                .map(CreditIssuedMapper::toCreditIssuedDto)\r\n                .collect(Collectors.toList());\r\n\r\n        long totalElements = creditIssued.getTotalElements();\r\n        int totalPages = creditIssued.getTotalPages();\r\n\r\n        return new PageImpl&lt;&gt;(creditIssuedDto, PageRequest.of(creditIssued.getNumber(), creditIssued.getSize()), totalElements);\r\n    }\r\n    }","title":"How to map Page&lt;ObjectEntity&gt; to Page&lt;ObjectDTO&gt; in spring-data-rest","body":"<p>Here is option, if you also need to get totalElements, totalPages from origin</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class CreditIssuedMapper {\n\npublic static CreditIssuedDto toCreditIssuedDto(CreditIssued creditIssued){\n\n    CreditIssuedDto c = new CreditIssuedDto();\n\n    c.setId(creditIssued.getId());\n\n    c.setClientId(creditIssued.getClientData().getId());\n    c.setClientName(creditIssued.getClientData().getClientName());\n    c.setClientSurname(creditIssued.getClientData().getClientSurname());\n    c.setClientMiddlename(creditIssued.getClientData().getClientMiddlename());\n\n    c.setManagerId(creditIssued.getManagerData().getId());\n    c.setManagerName(creditIssued.getManagerData().getManagerName());\n    c.setManagerSurname(creditIssued.getManagerData().getManagerSurname());\n    c.setManagerMiddlename(creditIssued.getManagerData().getManagerMiddlename());\n\n    c.setCreditIssuedBody(creditIssued.getCreditBody());\n    c.setCreditIssuedLeft(creditIssued.getCreditLeft());\n    c.setCreditIssuedFine(creditIssued.getCreditFine());\n    c.setCreditIssuedMonthlyPayment(creditIssued.getCreditMonthlyPayment());\n    c.setCreditIssuedDate(creditIssued.getCreditIssuedDate());\n    c.setCreditIssuedNextPayment(creditIssued.getCreditNextPayment());\n    c.setCreditIssuedExpDate(creditIssued.getCreditExpDate());\n\n    c.setCreditOfferId(creditIssued.getCreditOfferId().getId());\n    c.setCreditOfferName(creditIssued.getCreditOfferId().getCreditName());\n    c.setCreditOfferInterest(creditIssued.getCreditOfferId().getCreditInterest());\n    c.setCreditOfferFine(creditIssued.getCreditOfferId().getCreditFine());\n    c.setCreditOfferCurrency(creditIssued.getCreditOfferId().getCurrencyData().getCurrencyName());\n\n    return c;\n\n}\n\npublic Page&lt;CreditIssuedDto&gt; creditIssuedDto (Page&lt;CreditIssued&gt; creditIssued){\n\n    List&lt;CreditIssuedDto&gt; creditIssuedDto = creditIssued\n            .stream()\n            .map(CreditIssuedMapper::toCreditIssuedDto)\n            .collect(Collectors.toList());\n\n    long totalElements = creditIssued.getTotalElements();\n    int totalPages = creditIssued.getTotalPages();\n\n    return new PageImpl&lt;&gt;(creditIssuedDto, PageRequest.of(creditIssued.getNumber(), creditIssued.getSize()), totalElements);\n}\n}\n</code></pre>\n"}],"owner":{"account_id":7509953,"reputation":22160,"user_id":5705247,"accept_rate":27,"display_name":"Tuomas Toivonen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84283,"favorite_count":0,"down_vote_count":0,"up_vote_count":85,"accepted_answer_id":39037297,"answer_count":14,"score":85,"last_activity_date":1695566768,"creation_date":1471602656,"question_id":39036771,"body_markdown":"When I hit the database with `PagingAndSortingRepository.findAll(Pageable)` I get `Page&lt;ObjectEntity&gt;`. However, I want to expose DTO&#39;s to the client and not entities. I can create DTO just by injecting entity into it&#39;s constructor, but how do I map the entities in Page object to DTO&#39;s? According to spring documentation, Page provides read-only operations.\r\n\r\nAlso, Page.map is not possibility, as we don&#39;t have support for java 8. How to create the new Page with mapped objects manually?","title":"How to map Page&lt;ObjectEntity&gt; to Page&lt;ObjectDTO&gt; in spring-data-rest","body":"<p>When I hit the database with <code>PagingAndSortingRepository.findAll(Pageable)</code> I get <code>Page&lt;ObjectEntity&gt;</code>. However, I want to expose DTO's to the client and not entities. I can create DTO just by injecting entity into it's constructor, but how do I map the entities in Page object to DTO's? According to spring documentation, Page provides read-only operations.</p>\n\n<p>Also, Page.map is not possibility, as we don't have support for java 8. How to create the new Page with mapped objects manually?</p>\n"},{"tags":["java","android","bluetooth","android-bluetooth","aide"],"answers":[{"tags":[],"owner":{"account_id":18702501,"reputation":23,"user_id":13634409,"display_name":"Hatem Darwish"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695565129,"creation_date":1695564685,"answer_id":77167449,"question_id":77164729,"body_markdown":"To find out the battery level of the left and right earbuds in Android using Java, you need to use the Bluetooth Low Energy (BLE) protocol, since most modern wireless earbuds communicate their battery information over BLE.\r\nHere is a general overview of the steps you need to follow:\r\nEnsure that you have the necessary permissions in your AndroidManifest.xml\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BATTERY_STATS&quot;/&gt;\r\n\r\n\r\n\r\nthen you need to get reference to the BluetoothAdapter and discovery a bluetooth device .\r\n\r\n    BluetoothAdapter bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n\r\n    Set&lt;BluetoothDevice&gt; pairedDevices = bluetoothAdapter.getBondedDevices();\r\n    \r\n    for (BluetoothDevice device : pairedDevices) {\r\n        // Check if the device name or address matches your earbuds\r\n        if (device.getName().equals(&quot;YourBlutoothDeviceName&quot;) || device.getAddress().equals(&quot;LeftEarbudMACAddress&quot;)) {\r\n            // You found the left earbud, proceed to get its battery level.\r\n            // Repeat this for the right earbud if needed.\r\n        }\r\n    }\r\n\r\nthen to determine the battery level, you need to connect the headset and then query the Bluetooth GATT battery service.\r\n\r\n\r\n    BluetoothGatt gatt = device.connectGatt(context, false, gattCallback);\r\n    \r\n    // Define a BluetoothGattCallback to handle GATT events\r\n    BluetoothGattCallback gattCallback = new BluetoothGattCallback() {\r\n        @Override\r\n        public void onConnectionStateChange(BluetoothGatt gatt, int status, int newState) {\r\n            if (newState == BluetoothProfile.STATE_CONNECTED) {\r\n                // Once connected, discover services\r\n                gatt.discoverServices();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onServicesDiscovered(BluetoothGatt gatt, int status) {\r\n            if (status == BluetoothGatt.GATT_SUCCESS) {\r\n                // Find the Battery Service\r\n                BluetoothGattService batteryService = gatt.getService(UUID.fromString(&quot;0000180f-0000-1000-8000-00805f9b34fb&quot;));\r\n    \r\n                if (batteryService != null) {\r\n                    // Find the Battery Level Characteristic\r\n                    BluetoothGattCharacteristic batteryLevelCharacteristic = batteryService.getCharacteristic(UUID.fromString(&quot;00002a19-0000-1000-8000-00805f9b34fb&quot;));\r\n    \r\n                    if (batteryLevelCharacteristic != null) {\r\n                        // Read the battery level\r\n                        gatt.readCharacteristic(batteryLevelCharacteristic);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onCharacteristicRead(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\r\n            if (status == BluetoothGatt.GATT_SUCCESS) {\r\n                // Extract the battery level value from the characteristic\r\n                int batteryLevel = characteristic.getIntValue(BluetoothGattCharacteristic.FORMAT_UINT8, 0);\r\n                // Handle the battery level value (e.g., display it in your UI)\r\n            }\r\n            // Disconnect the GATT connection when you&#39;re done\r\n            gatt.disconnect();\r\n        }\r\n    };\r\n\r\nReferences \r\nhttps://developer.android.com/guide/topics/connectivity/bluetooth/ble-overview\r\n\r\nhttps://stackoverflow.com/questions/35728193/android-and-bluetooth-low-energy-ble\r\n","title":"How to get battery level of left and right earbuds in android","body":"<p>To find out the battery level of the left and right earbuds in Android using Java, you need to use the Bluetooth Low Energy (BLE) protocol, since most modern wireless earbuds communicate their battery information over BLE.\nHere is a general overview of the steps you need to follow:\nEnsure that you have the necessary permissions in your AndroidManifest.xml</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.BATTERY_STATS&quot;/&gt;\n</code></pre>\n<p>then you need to get reference to the BluetoothAdapter and discovery a bluetooth device .</p>\n<pre><code>BluetoothAdapter bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n\nSet&lt;BluetoothDevice&gt; pairedDevices = bluetoothAdapter.getBondedDevices();\n\nfor (BluetoothDevice device : pairedDevices) {\n    // Check if the device name or address matches your earbuds\n    if (device.getName().equals(&quot;YourBlutoothDeviceName&quot;) || device.getAddress().equals(&quot;LeftEarbudMACAddress&quot;)) {\n        // You found the left earbud, proceed to get its battery level.\n        // Repeat this for the right earbud if needed.\n    }\n}\n</code></pre>\n<p>then to determine the battery level, you need to connect the headset and then query the Bluetooth GATT battery service.</p>\n<pre><code>BluetoothGatt gatt = device.connectGatt(context, false, gattCallback);\n\n// Define a BluetoothGattCallback to handle GATT events\nBluetoothGattCallback gattCallback = new BluetoothGattCallback() {\n    @Override\n    public void onConnectionStateChange(BluetoothGatt gatt, int status, int newState) {\n        if (newState == BluetoothProfile.STATE_CONNECTED) {\n            // Once connected, discover services\n            gatt.discoverServices();\n        }\n    }\n\n    @Override\n    public void onServicesDiscovered(BluetoothGatt gatt, int status) {\n        if (status == BluetoothGatt.GATT_SUCCESS) {\n            // Find the Battery Service\n            BluetoothGattService batteryService = gatt.getService(UUID.fromString(&quot;0000180f-0000-1000-8000-00805f9b34fb&quot;));\n\n            if (batteryService != null) {\n                // Find the Battery Level Characteristic\n                BluetoothGattCharacteristic batteryLevelCharacteristic = batteryService.getCharacteristic(UUID.fromString(&quot;00002a19-0000-1000-8000-00805f9b34fb&quot;));\n\n                if (batteryLevelCharacteristic != null) {\n                    // Read the battery level\n                    gatt.readCharacteristic(batteryLevelCharacteristic);\n                }\n            }\n        }\n    }\n\n    @Override\n    public void onCharacteristicRead(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\n        if (status == BluetoothGatt.GATT_SUCCESS) {\n            // Extract the battery level value from the characteristic\n            int batteryLevel = characteristic.getIntValue(BluetoothGattCharacteristic.FORMAT_UINT8, 0);\n            // Handle the battery level value (e.g., display it in your UI)\n        }\n        // Disconnect the GATT connection when you're done\n        gatt.disconnect();\n    }\n};\n</code></pre>\n<p>References\n<a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth/ble-overview\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/connectivity/bluetooth/ble-overview</a></p>\n<p><a href=\"https://stackoverflow.com/questions/35728193/android-and-bluetooth-low-energy-ble\">Android and Bluetooth Low Energy (BLE)</a></p>\n"}],"owner":{"account_id":16010202,"reputation":249,"user_id":11554604,"display_name":"S Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695565129,"creation_date":1695499652,"question_id":77164729,"body_markdown":"I want to create a app that display&#39;s Battery levels of left and right earbuds in android using Java\r\nI have tried that code \r\n\r\n    BluetoothDevice device = bluetoothAdapter.getRemoteDevice(deviceAddress);\r\n    Method m = device.getClass().getMethod(&quot;getBatteryLevel&quot;);\r\n    int batteryLevel = m.invoke(device);\r\n\r\nBut in this Mathod i can get always only a single Battery Level not Both and i don&#39;t know how to get both battery levels, so i need your help to get battery level of left and right earbuds in android.","title":"How to get battery level of left and right earbuds in android","body":"<p>I want to create a app that display's Battery levels of left and right earbuds in android using Java\nI have tried that code</p>\n<pre><code>BluetoothDevice device = bluetoothAdapter.getRemoteDevice(deviceAddress);\nMethod m = device.getClass().getMethod(&quot;getBatteryLevel&quot;);\nint batteryLevel = m.invoke(device);\n</code></pre>\n<p>But in this Mathod i can get always only a single Battery Level not Both and i don't know how to get both battery levels, so i need your help to get battery level of left and right earbuds in android.</p>\n"},{"tags":["java","path","nio"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1638724760,"post_id":70236679,"comment_id":124158696,"body_markdown":"A path is just that: a path. We can use [`Files::exists`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#exists(java.nio.file.Path,java.nio.file.LinkOption...)) and/or [`Files:notExists`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#notExists(java.nio.file.Path,java.nio.file.LinkOption...)) to check whether a file exists under the given `Path`.","body":"A path is just that: a path. We can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#exists(java.nio.file.Path,java.nio.file.LinkOption...)\" rel=\"nofollow noreferrer\"><code>Files::exists</code></a> and/or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#notExists(java.nio.file.Path,java.nio.file.LinkOption...)\" rel=\"nofollow noreferrer\"><code>Files:notExists</code></a> to check whether a file exists under the given <code>Path</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1638725104,"post_id":70236679,"comment_id":124158801,"body_markdown":"For completeness sake: A directory is considered a file in this context.","body":"For completeness sake: A directory is considered a file in this context."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1638726228,"post_id":70236679,"comment_id":124159110,"body_markdown":"Your question is unclear.  What would be its purpose?   Would this precede a write  operation?  Please provide some use cases.","body":"Your question is unclear.  What would be its purpose?   Would this precede a write  operation?  Please provide some use cases."},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1638729162,"post_id":70236679,"comment_id":124159882,"body_markdown":"If something is a valid path, there is no guarantee it did not exist in the past or won&#39;t exist in the future. The only thing you can do is check if a path doesn&#39;t exist right now. What are you trying to achieve? This sounds like X-Y problem.","body":"If something is a valid path, there is no guarantee it did not exist in the past or won&#39;t exist in the future. The only thing you can do is check if a path doesn&#39;t exist right now. What are you trying to achieve? This sounds like X-Y problem."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695564946,"creation_date":1638739745,"answer_id":70238710,"question_id":70236679,"body_markdown":"Create a temporary directory for the test, then any file path under that directory won&#39;t exist - use that for your tests.\r\n\r\nIf you use JUNIT5 have a look at [@TempDir][1] which sets up a new empty directory for a test case. [Example here][2].\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-built-in-extensions-TempDirectory\r\n  [2]: https://stackoverflow.com/questions/66686024/junit5-create-temp-file/66760781#66760781","title":"How to create a Path to a non existent file","body":"<p>Create a temporary directory for the test, then any file path under that directory won't exist - use that for your tests.</p>\n<p>If you use JUNIT5 have a look at <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-built-in-extensions-TempDirectory\" rel=\"nofollow noreferrer\">@TempDir</a> which sets up a new empty directory for a test case. <a href=\"https://stackoverflow.com/questions/66686024/junit5-create-temp-file/66760781#66760781\">Example here</a>.</p>\n"},{"tags":[],"owner":{"account_id":85548,"reputation":7632,"user_id":238421,"accept_rate":100,"display_name":"Danilo Piazzalunga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638739787,"creation_date":1638739787,"answer_id":70238717,"question_id":70236679,"body_markdown":"I found a possible solution:\r\n\r\n1. [Create a new, temporary file][1].\r\n2. [Immediately delete it][2].\r\n\r\nI would not use this if security depended on it but, for testing purposes, I believe this almost guarantees that the file does not exist.\r\n\r\n    Path path = Files.createTempFile(null, null);\r\n    Files.delete(path);\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#createTempFile(java.lang.String,java.lang.String,java.nio.file.attribute.FileAttribute...)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#delete(java.nio.file.Path)","title":"How to create a Path to a non existent file","body":"<p>I found a possible solution:</p>\n<ol>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#createTempFile(java.lang.String,java.lang.String,java.nio.file.attribute.FileAttribute...)\" rel=\"nofollow noreferrer\">Create a new, temporary file</a>.</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#delete(java.nio.file.Path)\" rel=\"nofollow noreferrer\">Immediately delete it</a>.</li>\n</ol>\n<p>I would not use this if security depended on it but, for testing purposes, I believe this almost guarantees that the file does not exist.</p>\n<pre><code>Path path = Files.createTempFile(null, null);\nFiles.delete(path);\n</code></pre>\n"}],"owner":{"account_id":85548,"reputation":7632,"user_id":238421,"accept_rate":100,"display_name":"Danilo Piazzalunga"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":845,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70238710,"answer_count":2,"score":-1,"last_activity_date":1695564946,"creation_date":1638724615,"question_id":70236679,"body_markdown":"How can I create a [`Path`][1] to a file which is guaranteed not to exist?\r\n\r\nI thought about using an [&quot;impossible&quot;][2] path name, such as:\r\n\r\n    Path path = Path.of(&quot;/nonexistent&quot;);\r\n\r\nBut somebody could create such a file, making my code fail.\r\n\r\n**Update**\r\n\r\nI have written a method which accepts a `Path` and then tries to read from the underlying file, and now I am writing a unit test to make sure I have correctly handled non existing files.\r\n\r\nI wish to make my unit test robusts, without risking random failures.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Path.html\r\n  [2]: https://unix.stackexchange.com/q/75135/41094","title":"How to create a Path to a non existent file","body":"<p>How can I create a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Path.html\" rel=\"nofollow noreferrer\"><code>Path</code></a> to a file which is guaranteed not to exist?</p>\n<p>I thought about using an <a href=\"https://unix.stackexchange.com/q/75135/41094\">&quot;impossible&quot;</a> path name, such as:</p>\n<pre><code>Path path = Path.of(&quot;/nonexistent&quot;);\n</code></pre>\n<p>But somebody could create such a file, making my code fail.</p>\n<p><strong>Update</strong></p>\n<p>I have written a method which accepts a <code>Path</code> and then tries to read from the underlying file, and now I am writing a unit test to make sure I have correctly handled non existing files.</p>\n<p>I wish to make my unit test robusts, without risking random failures.</p>\n"},{"tags":["java","android","date","calendar","sharedpreferences"],"answers":[{"tags":[],"owner":{"account_id":1142837,"reputation":13532,"user_id":1126273,"accept_rate":81,"display_name":"Bal&#225;zs &#201;des"},"down_vote_count":0,"up_vote_count":171,"is_accepted":false,"score":171,"last_activity_date":1489700264,"creation_date":1347227885,"answer_id":12343346,"question_id":12343014,"body_markdown":"To save and load accurate date, you could use the `long` (number) representation of a `Date` object.\r\n\r\n**Example:**\r\n\r\n    //getting the current time in milliseconds, and creating a Date object from it:\r\n    Date date = new Date(System.currentTimeMillis()); //or simply new Date();\r\n\r\n    //converting it back to a milliseconds representation:\r\n    long millis = date.getTime();\r\n\r\nYou can use this to save or retrieve `Date`/`Time` data from `SharedPreferences` like this\r\n\r\n**Save:**\r\n\r\n    SharedPreferences prefs = ...;\r\n    prefs.edit().putLong(&quot;time&quot;, date.getTime()).apply();\r\n\r\n**Read it back:**\r\n\r\n    Date myDate = new Date(prefs.getLong(&quot;time&quot;, 0));\r\n\r\n**Edit**\r\n\r\nIf you want to store the `TimeZone` additionaly, you could write some helper method for that purpose, something like this (I have not tested them, feel free to correct it, if something is wrong):\r\n\r\n\tpublic static Date getDate(final SharedPreferences prefs, final String key, final Date defValue) {\r\n\t\tif (!prefs.contains(key + &quot;_value&quot;) || !prefs.contains(key + &quot;_zone&quot;)) {\r\n\t\t\treturn defValue;\r\n\t\t}\r\n\t\tCalendar calendar = Calendar.getInstance();\r\n\t\tcalendar.setTimeInMillis(prefs.getLong(key + &quot;_value&quot;, 0));\r\n\t\tcalendar.setTimeZone(TimeZone.getTimeZone(prefs.getString(key + &quot;_zone&quot;, TimeZone.getDefault().getID())));\r\n\t\treturn calendar.getTime();\r\n\t}\r\n\r\n\tpublic static void putDate(final SharedPreferences prefs, final String key, final Date date, final TimeZone zone) {\r\n\t\tprefs.edit().putLong(key + &quot;_value&quot;, date.getTime()).apply();\r\n\t\tprefs.edit().putString(key + &quot;_zone&quot;, zone.getID()).apply();\r\n\t}","title":"How to save and retrieve Date in SharedPreferences","body":"<p>To save and load accurate date, you could use the <code>long</code> (number) representation of a <code>Date</code> object.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>//getting the current time in milliseconds, and creating a Date object from it:\nDate date = new Date(System.currentTimeMillis()); //or simply new Date();\n\n//converting it back to a milliseconds representation:\nlong millis = date.getTime();\n</code></pre>\n\n<p>You can use this to save or retrieve <code>Date</code>/<code>Time</code> data from <code>SharedPreferences</code> like this</p>\n\n<p><strong>Save:</strong></p>\n\n<pre><code>SharedPreferences prefs = ...;\nprefs.edit().putLong(\"time\", date.getTime()).apply();\n</code></pre>\n\n<p><strong>Read it back:</strong></p>\n\n<pre><code>Date myDate = new Date(prefs.getLong(\"time\", 0));\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>If you want to store the <code>TimeZone</code> additionaly, you could write some helper method for that purpose, something like this (I have not tested them, feel free to correct it, if something is wrong):</p>\n\n<pre><code>public static Date getDate(final SharedPreferences prefs, final String key, final Date defValue) {\n    if (!prefs.contains(key + \"_value\") || !prefs.contains(key + \"_zone\")) {\n        return defValue;\n    }\n    Calendar calendar = Calendar.getInstance();\n    calendar.setTimeInMillis(prefs.getLong(key + \"_value\", 0));\n    calendar.setTimeZone(TimeZone.getTimeZone(prefs.getString(key + \"_zone\", TimeZone.getDefault().getID())));\n    return calendar.getTime();\n}\n\npublic static void putDate(final SharedPreferences prefs, final String key, final Date date, final TimeZone zone) {\n    prefs.edit().putLong(key + \"_value\", date.getTime()).apply();\n    prefs.edit().putString(key + \"_zone\", zone.getID()).apply();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10557666,"reputation":123,"user_id":7778290,"display_name":"Fanny BATCHO"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1695564466,"creation_date":1538746734,"answer_id":52666937,"question_id":12343014,"body_markdown":"You can do this:\r\n\r\n    SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(getActivity());\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss&quot;, Locale.US);\r\n\r\nTo save a date:\r\n\r\n    preferences .edit().putString(&quot;mydate&quot;, sdf.format(date)).apply();\r\n\r\nTo retrieve:\r\n\r\n \r\n\r\n     try{\r\n          Date date = sdf.parse(preferences.getString(&quot;myDate&quot;, &quot;defaultValue&quot;));\r\n        } catch(ParseException e){\r\n            e.printStackTrace();\r\n        }\r\n\r\nHope it help.\r\n\r\n\r\n\r\n\r\n","title":"How to save and retrieve Date in SharedPreferences","body":"<p>You can do this:</p>\n<pre><code>SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(getActivity());\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss&quot;, Locale.US);\n</code></pre>\n<p>To save a date:</p>\n<pre><code>preferences .edit().putString(&quot;mydate&quot;, sdf.format(date)).apply();\n</code></pre>\n<p>To retrieve:</p>\n<pre><code> try{\n      Date date = sdf.parse(preferences.getString(&quot;myDate&quot;, &quot;defaultValue&quot;));\n    } catch(ParseException e){\n        e.printStackTrace();\n    }\n</code></pre>\n<p>Hope it help.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1538772774,"creation_date":1538772011,"answer_id":52673028,"question_id":12343014,"body_markdown":"# tl;dr\r\n\r\nThe modern approach uses *java.time* classes and [ISO 8601][1] strings.\r\n\r\nReading.\r\n\r\n    Instant                             // Represent a moment in UTC with a resolution of nanoseconds.\r\n    .ofEpochMilli( \r\n        Long.getLong( incomingText )  \r\n    )                                   // Returns a `Instant` object.\r\n    .atZone(                            // Adjust from UTC to some time zone. Same moment, same point on the timeline, different wall-clock time.\r\n        ZoneId.of( &quot;Europe/Paris&quot; ) \r\n    )                                   // Returns a `ZonedDateTime` object.\r\n\r\nWriting.\r\n\r\n    ZonedDateTime\r\n    .of(\r\n        LocalDate.of( 2018 , Month.JANUARY , 23 ) ,\r\n        LocalTime.of( 15 , 35 ) ,\r\n        ZoneId.of( &quot;Europe/Paris&quot; ) \r\n    )                                   // Returns a `ZonedDateTime` object.\r\n    .toInstant()                        // Returns an `Instant`. Adjust from a time zone to UTC. Same moment, same point on the timeline, different wall-clock time.\r\n    .toEpochMilli()                     // Returns a `long` integer number primitive. Any microseconds or nanoseconds are ignored, of course.\r\n\r\n\r\nIf your alarm manager has not yet been modernized to handle *java.time* objects, convert between legacy &amp; modern classes using new methods added to the old classes.\r\n\r\n    java.util.Date d = java.util.Date.from( instant ) ;\r\n\r\nand\r\n\r\n    Instant instant = d.toInstant() ;\r\n\r\n\r\n# java.time\r\n\r\nThe troublesome old date-time classes were supplanted by the *java.time* classes.\r\n\r\nFor a moment in UTC, with a resolution of nanoseconds, use `Instant`.\r\n\r\n    Instant instant = Instant.now() ;  // Capture the current moment in UTC.\r\n\r\nYou want only milliseconds for your needs, so truncate any microseconds &amp; nanoseconds.\r\n\r\n    Instant instant = Instant.now().truncatedTo( ChronoUnit.MILLIS ) ;\r\n\r\nTo determine a moment by date and time-of-day requires a time zone. A time zone is crucial in determining a date. For any given moment, the date varies around the globe by zone. For example, a few minutes after midnight in [Paris France](https://en.wikipedia.org/wiki/Europe/Paris) is a new day while still yesterday in [Montr&#233;al Qu&#233;bec](https://en.wikipedia.org/wiki/America/Montreal).\r\n\r\nIf no time zone is specified, the JVM implicitly applies its current default time zone. That default may [change at any moment](https://docs.oracle.com/javase/10/docs/api/java/util/TimeZone.html#getDefault()) during runtime(!), so your results may vary. Better to specify your [desired/expected time zone][2] explicitly as an argument.\r\n\r\nSpecify a [proper time zone name](https://en.wikipedia.org/wiki/List_of_tz_zones_by_name) in the format of `continent/region`, such as [`America/Montreal`](https://en.wikipedia.org/wiki/America/Montreal), [`Africa/Casablanca`](https://en.wikipedia.org/wiki/Africa/Casablanca), or `Pacific/Auckland`. Never use the 3-4 letter abbreviation such as `EST` or `IST` as they are *not* true time zones, not standardized, and not even unique(!). \r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Montreal&quot; ) ;  \r\n    LocalDate today = LocalDate.now( z ) ;\r\n\r\nIf you want to use the JVMs current default time zone, ask for it and pass as an argument. If omitted, the JVMs current default is applied implicitly. Better to be explicit, as the default may be changed at any moment *during runtime* by any code in any thread of any app within the JVM.\r\n\r\n    ZoneId z = ZoneId.systemDefault() ;  // Get JVMs current default time zone.\r\n\r\n\r\nOr specify a date. You may set the month by a number, with sane numbering 1-12 for January-December. \r\n\r\n    LocalDate ld = LocalDate.of( 1986 , 2 , 23 ) ;  // Years use sane direct numbering (1986 means year 1986). Months use sane numbering, 1-12 for January-December.\r\n\r\nOr, better, use the [`Month`](https://docs.oracle.com/javase/10/docs/api/java/time/Month.html) enum objects pre-defined, one for each month of the year. Tip: Use these `Month` objects throughout your codebase rather than a mere integer number to make your code more self-documenting, ensure valid values, and provide [type-safety](https://en.wikipedia.org/wiki/Type_safety).\r\n\r\n    LocalDate ld = LocalDate.of( 1986 , Month.FEBRUARY , 23 ) ;\r\n\r\nCombine with a time-of-day, a `LocalTime`.\r\n\r\n    LocalTime lt = LocalTime.of( 14 , 0 ) ;\r\n\r\nWrap it all together as a `ZonedDateTime` object.\r\n\r\n    ZonedDateTime zdt = ZonedDateTime.of( ld , lt , z ) ;\r\n\r\nAdjust to UTC by extracting a `Instant`.\r\n\r\n    Instant instant = zdt.toInstant() ;\r\n\r\nExtract your desired count-of-milliseconds since the epoch reference of first moment of 1970 in UTC. Again, be aware that any micros/nanos in your  `Instant` will be ignored when extracting milliseconds.\r\n\r\n    long milliseconds = instant.toEpochMilli() ;  // Be aware of potential data loss, ignoring any microseconds or nanoseconds. \r\n\r\nRead those milliseconds back from storage as text using the [`Long`][2] class.\r\n\r\n    long milliseconds = Long.getLong( incomingText ) ;\r\n    Instant instant = Instant.ofEpochMilli( milliseconds ) ;\r\n\r\nTo see that moment through the lens of the wall-clock time used by the people of a particular region (a time zone), apply a `ZoneId` to get a `ZonedDateTime`.\r\n\r\n    ZoneId z = ZoneId.of( &quot;Africa/Tunis&quot; ) ;\r\n    ZonedDateTime zdt = instant.atZone( z ) ;\r\n\r\nTo generate text representing that value, use `DateTimeFormatter.ofLocalizedDateTime` to automatically localize.\r\n\r\nTip: Consider writing your date-time values to storage in standard [ISO 8601][1] format rather than as a count-of-milliseconds. The milliseconds cannot be read meaningfully by humans, making debugging &amp; monitoring tricky. \r\n\r\n    String output = instant.toString() ; \r\n\r\n&gt;2018-10-05T20:28:48.584Z\r\n\r\n    Instant instant = Instant.parse( 2018-10-05T20:28:48.584Z ) ;\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Most of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [2]: https://docs.oracle.com/javase/10/docs/api/java/lang/Long.html","title":"How to save and retrieve Date in SharedPreferences","body":"<h1>tl;dr</h1>\n\n<p>The modern approach uses <em>java.time</em> classes and <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> strings.</p>\n\n<p>Reading.</p>\n\n<pre><code>Instant                             // Represent a moment in UTC with a resolution of nanoseconds.\n.ofEpochMilli( \n    Long.getLong( incomingText )  \n)                                   // Returns a `Instant` object.\n.atZone(                            // Adjust from UTC to some time zone. Same moment, same point on the timeline, different wall-clock time.\n    ZoneId.of( \"Europe/Paris\" ) \n)                                   // Returns a `ZonedDateTime` object.\n</code></pre>\n\n<p>Writing.</p>\n\n<pre><code>ZonedDateTime\n.of(\n    LocalDate.of( 2018 , Month.JANUARY , 23 ) ,\n    LocalTime.of( 15 , 35 ) ,\n    ZoneId.of( \"Europe/Paris\" ) \n)                                   // Returns a `ZonedDateTime` object.\n.toInstant()                        // Returns an `Instant`. Adjust from a time zone to UTC. Same moment, same point on the timeline, different wall-clock time.\n.toEpochMilli()                     // Returns a `long` integer number primitive. Any microseconds or nanoseconds are ignored, of course.\n</code></pre>\n\n<p>If your alarm manager has not yet been modernized to handle <em>java.time</em> objects, convert between legacy &amp; modern classes using new methods added to the old classes.</p>\n\n<pre><code>java.util.Date d = java.util.Date.from( instant ) ;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Instant instant = d.toInstant() ;\n</code></pre>\n\n<h1>java.time</h1>\n\n<p>The troublesome old date-time classes were supplanted by the <em>java.time</em> classes.</p>\n\n<p>For a moment in UTC, with a resolution of nanoseconds, use <code>Instant</code>.</p>\n\n<pre><code>Instant instant = Instant.now() ;  // Capture the current moment in UTC.\n</code></pre>\n\n<p>You want only milliseconds for your needs, so truncate any microseconds &amp; nanoseconds.</p>\n\n<pre><code>Instant instant = Instant.now().truncatedTo( ChronoUnit.MILLIS ) ;\n</code></pre>\n\n<p>To determine a moment by date and time-of-day requires a time zone. A time zone is crucial in determining a date. For any given moment, the date varies around the globe by zone. For example, a few minutes after midnight in <a href=\"https://en.wikipedia.org/wiki/Europe/Paris\" rel=\"nofollow noreferrer\">Paris France</a> is a new day while still yesterday in <a href=\"https://en.wikipedia.org/wiki/America/Montreal\" rel=\"nofollow noreferrer\">Montral Qubec</a>.</p>\n\n<p>If no time zone is specified, the JVM implicitly applies its current default time zone. That default may <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/TimeZone.html#getDefault()\" rel=\"nofollow noreferrer\">change at any moment</a> during runtime(!), so your results may vary. Better to specify your <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/Long.html\" rel=\"nofollow noreferrer\">desired/expected time zone</a> explicitly as an argument.</p>\n\n<p>Specify a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_zones_by_name\" rel=\"nofollow noreferrer\">proper time zone name</a> in the format of <code>continent/region</code>, such as <a href=\"https://en.wikipedia.org/wiki/America/Montreal\" rel=\"nofollow noreferrer\"><code>America/Montreal</code></a>, <a href=\"https://en.wikipedia.org/wiki/Africa/Casablanca\" rel=\"nofollow noreferrer\"><code>Africa/Casablanca</code></a>, or <code>Pacific/Auckland</code>. Never use the 3-4 letter abbreviation such as <code>EST</code> or <code>IST</code> as they are <em>not</em> true time zones, not standardized, and not even unique(!). </p>\n\n<pre><code>ZoneId z = ZoneId.of( \"America/Montreal\" ) ;  \nLocalDate today = LocalDate.now( z ) ;\n</code></pre>\n\n<p>If you want to use the JVMs current default time zone, ask for it and pass as an argument. If omitted, the JVMs current default is applied implicitly. Better to be explicit, as the default may be changed at any moment <em>during runtime</em> by any code in any thread of any app within the JVM.</p>\n\n<pre><code>ZoneId z = ZoneId.systemDefault() ;  // Get JVMs current default time zone.\n</code></pre>\n\n<p>Or specify a date. You may set the month by a number, with sane numbering 1-12 for January-December. </p>\n\n<pre><code>LocalDate ld = LocalDate.of( 1986 , 2 , 23 ) ;  // Years use sane direct numbering (1986 means year 1986). Months use sane numbering, 1-12 for January-December.\n</code></pre>\n\n<p>Or, better, use the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/Month.html\" rel=\"nofollow noreferrer\"><code>Month</code></a> enum objects pre-defined, one for each month of the year. Tip: Use these <code>Month</code> objects throughout your codebase rather than a mere integer number to make your code more self-documenting, ensure valid values, and provide <a href=\"https://en.wikipedia.org/wiki/Type_safety\" rel=\"nofollow noreferrer\">type-safety</a>.</p>\n\n<pre><code>LocalDate ld = LocalDate.of( 1986 , Month.FEBRUARY , 23 ) ;\n</code></pre>\n\n<p>Combine with a time-of-day, a <code>LocalTime</code>.</p>\n\n<pre><code>LocalTime lt = LocalTime.of( 14 , 0 ) ;\n</code></pre>\n\n<p>Wrap it all together as a <code>ZonedDateTime</code> object.</p>\n\n<pre><code>ZonedDateTime zdt = ZonedDateTime.of( ld , lt , z ) ;\n</code></pre>\n\n<p>Adjust to UTC by extracting a <code>Instant</code>.</p>\n\n<pre><code>Instant instant = zdt.toInstant() ;\n</code></pre>\n\n<p>Extract your desired count-of-milliseconds since the epoch reference of first moment of 1970 in UTC. Again, be aware that any micros/nanos in your  <code>Instant</code> will be ignored when extracting milliseconds.</p>\n\n<pre><code>long milliseconds = instant.toEpochMilli() ;  // Be aware of potential data loss, ignoring any microseconds or nanoseconds. \n</code></pre>\n\n<p>Read those milliseconds back from storage as text using the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/Long.html\" rel=\"nofollow noreferrer\"><code>Long</code></a> class.</p>\n\n<pre><code>long milliseconds = Long.getLong( incomingText ) ;\nInstant instant = Instant.ofEpochMilli( milliseconds ) ;\n</code></pre>\n\n<p>To see that moment through the lens of the wall-clock time used by the people of a particular region (a time zone), apply a <code>ZoneId</code> to get a <code>ZonedDateTime</code>.</p>\n\n<pre><code>ZoneId z = ZoneId.of( \"Africa/Tunis\" ) ;\nZonedDateTime zdt = instant.atZone( z ) ;\n</code></pre>\n\n<p>To generate text representing that value, use <code>DateTimeFormatter.ofLocalizedDateTime</code> to automatically localize.</p>\n\n<p>Tip: Consider writing your date-time values to storage in standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format rather than as a count-of-milliseconds. The milliseconds cannot be read meaningfully by humans, making debugging &amp; monitoring tricky. </p>\n\n<pre><code>String output = instant.toString() ; \n</code></pre>\n\n<blockquote>\n  <p>2018-10-05T20:28:48.584Z</p>\n</blockquote>\n\n<pre><code>Instant instant = Instant.parse( 2018-10-05T20:28:48.584Z ) ;\n</code></pre>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"nofollow noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n\n<ul>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Most of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"}],"owner":{"account_id":1544203,"reputation":1407,"user_id":1438132,"accept_rate":78,"display_name":"Isuru Madusanka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49491,"favorite_count":0,"down_vote_count":0,"up_vote_count":72,"answer_count":3,"score":72,"last_activity_date":1695564466,"creation_date":1347225044,"question_id":12343014,"body_markdown":"I need to save a few dates in `SharedPreferences` in android and retrieve it. I am building reminder app using `AlarmManager` and I need to save list of future dates. It must be able to retrieve as milliseconds. First I thought to calculate time between today now time and future time and store in shared preference. But that method is not working since I need to use it for `AlarmManager`. ","title":"How to save and retrieve Date in SharedPreferences","body":"<p>I need to save a few dates in <code>SharedPreferences</code> in android and retrieve it. I am building reminder app using <code>AlarmManager</code> and I need to save list of future dates. It must be able to retrieve as milliseconds. First I thought to calculate time between today now time and future time and store in shared preference. But that method is not working since I need to use it for <code>AlarmManager</code>. </p>\n"},{"tags":["java","spring","google-app-engine"],"owner":{"account_id":20889,"reputation":15799,"user_id":50335,"accept_rate":84,"display_name":"Ariel Malka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695563322,"creation_date":1695561078,"question_id":77167235,"body_markdown":"I want to use a Google Cloud Datastore in my Spring application. I have followed the instructions from [this tutorial][1].\r\n\r\nI have the following repository:\r\n```\r\npublic interface LevelRepository extends DatastoreRepository&lt;Level, Long&gt; {\r\n    ...\r\n}\r\n```\r\nWith the following in a controller:\r\n```\r\n@Controller\r\npublic class LevelController {\r\n    @Autowired\r\n    LevelRepository levelRepository;\r\n    ...\r\n}\r\n```\r\nAnd the following in pom.xml:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-gcp-starter-data-datastore&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nThe problem is that the application fails at init with the following:\r\n```\r\nField levelRepository in com.xxx.yyy.LevelController required a bean of type &#39;com.xxx.yyy.LevelRepository&#39; that could not be found.\r\nThe injection point has the following annotations:\r\n@org.springframework.beans.factory.annotation.Autowired(required=true)\r\nAction:\r\nConsider defining a bean of type &#39;com.xxx.yyy.LevelRepository&#39; in your configuration.\r\n```\r\n\r\n  [1]: https://codelabs.developers.google.com/codelabs/cloud-spring-datastore#0","title":"Spring application on Google App Engine fails to initiate due to Cloud Datastore misconfiguration","body":"<p>I want to use a Google Cloud Datastore in my Spring application. I have followed the instructions from <a href=\"https://codelabs.developers.google.com/codelabs/cloud-spring-datastore#0\" rel=\"nofollow noreferrer\">this tutorial</a>.</p>\n<p>I have the following repository:</p>\n<pre><code>public interface LevelRepository extends DatastoreRepository&lt;Level, Long&gt; {\n    ...\n}\n</code></pre>\n<p>With the following in a controller:</p>\n<pre><code>@Controller\npublic class LevelController {\n    @Autowired\n    LevelRepository levelRepository;\n    ...\n}\n</code></pre>\n<p>And the following in pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-gcp-starter-data-datastore&lt;/artifactId&gt;\n    &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The problem is that the application fails at init with the following:</p>\n<pre><code>Field levelRepository in com.xxx.yyy.LevelController required a bean of type 'com.xxx.yyy.LevelRepository' that could not be found.\nThe injection point has the following annotations:\n@org.springframework.beans.factory.annotation.Autowired(required=true)\nAction:\nConsider defining a bean of type 'com.xxx.yyy.LevelRepository' in your configuration.\n</code></pre>\n"},{"tags":["java","node.js","button","web-applications","node-red"],"comments":[{"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":1,"creation_date":1695491816,"post_id":77162521,"comment_id":136032829,"body_markdown":"What problem are you actually trying to solve here? Is this a single instance of Node-RED or are you trying to run multiple instances for different users? The question is currently both far too broad, you need to be a lot more specific if we are going to be able to help.","body":"What problem are you actually trying to solve here? Is this a single instance of Node-RED or are you trying to run multiple instances for different users? The question is currently both far too broad, you need to be a lot more specific if we are going to be able to help."}],"answers":[{"tags":[],"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695562949,"creation_date":1695562949,"answer_id":77167338,"question_id":77162521,"body_markdown":"OK, this is not a simple task.\r\n\r\nRunning multiple instances of Node-RED for different users requires a framework to configure and totally and start separate Node-RED while maintaining separation between them.\r\n\r\nI would setup up an instance of [FlowFuse][1] and use the [API][2] to spin up instances and setup the user (probably using SSO).\r\n\r\nThe only bit that is currently missing from the API would be a way of injecting the flow into the instance (it could be done with a little Database work), but support for things like that is on the list to be added soon.\r\n\r\nYou can then either redirect the user to the Node-RED editor or embed the editor in your web app in an iframe.\r\n\r\nFull disclosure I work for FlowFuse.\r\n\r\n\r\n  [1]: https://flowfuse.com/\r\n  [2]: https://flowfuse.com/docs/api/","title":"Opening Node-RED editor page from Java web application","body":"<p>OK, this is not a simple task.</p>\n<p>Running multiple instances of Node-RED for different users requires a framework to configure and totally and start separate Node-RED while maintaining separation between them.</p>\n<p>I would setup up an instance of <a href=\"https://flowfuse.com/\" rel=\"nofollow noreferrer\">FlowFuse</a> and use the <a href=\"https://flowfuse.com/docs/api/\" rel=\"nofollow noreferrer\">API</a> to spin up instances and setup the user (probably using SSO).</p>\n<p>The only bit that is currently missing from the API would be a way of injecting the flow into the instance (it could be done with a little Database work), but support for things like that is on the list to be added soon.</p>\n<p>You can then either redirect the user to the Node-RED editor or embed the editor in your web app in an iframe.</p>\n<p>Full disclosure I work for FlowFuse.</p>\n"}],"owner":{"account_id":21767614,"reputation":25,"user_id":16071248,"display_name":"Gio Formichella"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695562949,"creation_date":1695463385,"question_id":77162521,"body_markdown":"I would like to have a button(html) in my Java web application that once clicked it opens up the Node-RED editor page. I&#39;ve tried using https://nodered.org/docs/user-guide/runtime/embedding to no success, I don&#39;t know how to make the page appear (It&#39;s my first time working on a project like this).\r\n\r\nI also would like the editor to already contain a flow generated dynamically: the application has an XML of a tree and for every node of the tree the flow will contain a function node connected to the parent and the child nodes.\r\n\r\nHow should I go about it ? Is there an API to create the flow given the structure in XML/JSON ?\r\n\r\nEDIT: Giving more context: I&#39;m trying to run multiple instances for different users. I would like the users, once chosen the tree structure, to be able to press the &quot;export to node red&quot; button and open up the Node-RED editor and have a flow of function nodes inside with same structure as the tree and with predetermined JavaScript code inside. To give and example, given the xml of a tree with just a root node and two children I would like this to be the result of the button press:[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QNYjP.png","title":"Opening Node-RED editor page from Java web application","body":"<p>I would like to have a button(html) in my Java web application that once clicked it opens up the Node-RED editor page. I've tried using <a href=\"https://nodered.org/docs/user-guide/runtime/embedding\" rel=\"nofollow noreferrer\">https://nodered.org/docs/user-guide/runtime/embedding</a> to no success, I don't know how to make the page appear (It's my first time working on a project like this).</p>\n<p>I also would like the editor to already contain a flow generated dynamically: the application has an XML of a tree and for every node of the tree the flow will contain a function node connected to the parent and the child nodes.</p>\n<p>How should I go about it ? Is there an API to create the flow given the structure in XML/JSON ?</p>\n<p>EDIT: Giving more context: I'm trying to run multiple instances for different users. I would like the users, once chosen the tree structure, to be able to press the &quot;export to node red&quot; button and open up the Node-RED editor and have a flow of function nodes inside with same structure as the tree and with predetermined JavaScript code inside. To give and example, given the xml of a tree with just a root node and two children I would like this to be the result of the button press:<a href=\"https://i.stack.imgur.com/QNYjP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QNYjP.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","rabbitmq","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":9582301,"reputation":13,"user_id":7116391,"display_name":"Maro Majkl Ors&#225;k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695562738,"creation_date":1695562738,"answer_id":77167325,"question_id":77166940,"body_markdown":"You&#39;re experiencing a common challenge when writing integration tests: tests interfere with each other due to shared state. The shared state, in this case, might be RabbitMQ&#39;s message queues, databases, or caches. When you run your tests individually, the shared state from the first test does not affect the second. However, when you run them together, the leftover state from the first test might interfere with the second. \r\n\r\nSo I think there are a few tips on how to resolve your issue:\r\n\r\n1. **Reset State**: Ensure a clean state before each test, like resetting RabbitMQ queues.\r\n2. **Fresh RabbitMQ Instance**: Use TestContainers to start a fresh RabbitMQ instance for each test.\r\n3. Wait for Asynchronous Operations: RabbitMQ is asynchronous. Implement retry logic to wait for messages, rather than just expecting immediate availability.\r\n4. **Check Test Setup**: Ensure there&#39;s no setup inconsistency like naming errors.\r\n5. **Test Scoping**: Narrow down the Spring context for your tests using annotations like @WebFluxTest or @DataJpaTest.\r\n6. **Use @DirtiesContext**: Resets the Spring context after each test to ensure no lingering state.\r\n\r\nNote, for the following questions you ask please add an environment you are testing on (i.e., architecture, operating system and framework version). So that other people could reproduce your issue and help you immediately.","title":"Getting null from DB while running integration test using TestContainer","body":"<p>You're experiencing a common challenge when writing integration tests: tests interfere with each other due to shared state. The shared state, in this case, might be RabbitMQ's message queues, databases, or caches. When you run your tests individually, the shared state from the first test does not affect the second. However, when you run them together, the leftover state from the first test might interfere with the second.</p>\n<p>So I think there are a few tips on how to resolve your issue:</p>\n<ol>\n<li><strong>Reset State</strong>: Ensure a clean state before each test, like resetting RabbitMQ queues.</li>\n<li><strong>Fresh RabbitMQ Instance</strong>: Use TestContainers to start a fresh RabbitMQ instance for each test.</li>\n<li>Wait for Asynchronous Operations: RabbitMQ is asynchronous. Implement retry logic to wait for messages, rather than just expecting immediate availability.</li>\n<li><strong>Check Test Setup</strong>: Ensure there's no setup inconsistency like naming errors.</li>\n<li><strong>Test Scoping</strong>: Narrow down the Spring context for your tests using annotations like @WebFluxTest or @DataJpaTest.</li>\n<li><strong>Use @DirtiesContext</strong>: Resets the Spring context after each test to ensure no lingering state.</li>\n</ol>\n<p>Note, for the following questions you ask please add an environment you are testing on (i.e., architecture, operating system and framework version). So that other people could reproduce your issue and help you immediately.</p>\n"}],"owner":{"account_id":16805722,"reputation":29,"user_id":12149963,"display_name":"Ashish Kumar Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695562738,"creation_date":1695555779,"question_id":77166940,"body_markdown":"I am learning Java, Spring and I came across the TestContainers library for writing (unit/integration) tests. I tried to write a sample application, made a RabbitMQ producer, consumer, then I wrote a test case for it as below: \r\n\r\n```\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\npublic class SampleITTest extends AbstractTestcontainers {\r\n    @Autowired\r\n    private WebTestClient webTestClient;\r\n\r\n    private static final String QUEUE_URI = &quot;/api/v1/queue&quot;;\r\n    private final RabbitTemplate producerWithRoutingKey;\r\n    @Autowired\r\n    public RabbitMQIntegrationTest(RabbitTemplate producerWithRoutingKey) {\r\n        this.producerWithRoutingKey = producerWithRoutingKey;\r\n    }\r\n\r\n    @Test\r\n    void pushMessageToRabbitWhenHitEndPoint() {\r\n        webTestClient.get()\r\n                .uri(QUEUE_URI + &quot;/send&quot;)\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .exchange()\r\n                .expectStatus()\r\n                .isOk();\r\n\r\n        List&lt;QueueMessage&gt; messages = webTestClient.get()\r\n                .uri(QUEUE_URI)\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .exchange()\r\n                .expectStatus()\r\n                .isOk()\r\n                .expectBodyList(new ParameterizedTypeReference&lt;QueueMessage&gt;() {\r\n                })\r\n                .returnResult()\r\n                .getResponseBody();\r\n\r\n        assertThat(messages).isNotEmpty();\r\n    }\r\n\r\n    @Test\r\n    void shouldGiveMessageWhenStoredMessageInDBThroughRabbitMQ() {\r\n        String title = &quot;Sending Message To Queue&quot;;\r\n        String description = &quot;We are testing the testContainer&quot;;\r\n\r\n        SendMessage message = new SendMessage(title, description);\r\n\r\n        producerWithRoutingKey\r\n                .convertAndSend(&quot;testContainerExchange&quot;, &quot;routing-key&quot;, message);\r\n\r\n        List&lt;QueueMessage&gt; listMessages = webTestClient.get()\r\n                .uri(QUEUE_URI)\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .exchange()\r\n                .expectStatus()\r\n                .isOk()\r\n                .expectBodyList(new ParameterizedTypeReference&lt;QueueMessage&gt;() {\r\n                })\r\n                .returnResult()\r\n                .getResponseBody();\r\n\r\n        QueueMessage actualMessage = listMessages.stream()\r\n                        .filter(m -&gt; m.getTitle().equals(message.title()))\r\n                        .findFirst()\r\n                        .orElseThrow();\r\n\r\n        assertThat(actualMessage.getTitle()).isEqualTo(message.title());\r\n        assertThat(actualMessage.getDescription()).isEqualTo(message.description());\r\n    }\r\n}\r\n```\r\n\r\nWhen I run both the test separately, they work fine as I get a pass, but when I run all the tests, then in the second test shouldGiveMessageWhenStoredMessageInDBThroughRabbitMQ(), I get listMessage as null. \r\n\r\nI am not sure why I am getting this behaviour and how can I fix it?","title":"Getting null from DB while running integration test using TestContainer","body":"<p>I am learning Java, Spring and I came across the TestContainers library for writing (unit/integration) tests. I tried to write a sample application, made a RabbitMQ producer, consumer, then I wrote a test case for it as below:</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class SampleITTest extends AbstractTestcontainers {\n    @Autowired\n    private WebTestClient webTestClient;\n\n    private static final String QUEUE_URI = &quot;/api/v1/queue&quot;;\n    private final RabbitTemplate producerWithRoutingKey;\n    @Autowired\n    public RabbitMQIntegrationTest(RabbitTemplate producerWithRoutingKey) {\n        this.producerWithRoutingKey = producerWithRoutingKey;\n    }\n\n    @Test\n    void pushMessageToRabbitWhenHitEndPoint() {\n        webTestClient.get()\n                .uri(QUEUE_URI + &quot;/send&quot;)\n                .accept(MediaType.APPLICATION_JSON)\n                .exchange()\n                .expectStatus()\n                .isOk();\n\n        List&lt;QueueMessage&gt; messages = webTestClient.get()\n                .uri(QUEUE_URI)\n                .accept(MediaType.APPLICATION_JSON)\n                .exchange()\n                .expectStatus()\n                .isOk()\n                .expectBodyList(new ParameterizedTypeReference&lt;QueueMessage&gt;() {\n                })\n                .returnResult()\n                .getResponseBody();\n\n        assertThat(messages).isNotEmpty();\n    }\n\n    @Test\n    void shouldGiveMessageWhenStoredMessageInDBThroughRabbitMQ() {\n        String title = &quot;Sending Message To Queue&quot;;\n        String description = &quot;We are testing the testContainer&quot;;\n\n        SendMessage message = new SendMessage(title, description);\n\n        producerWithRoutingKey\n                .convertAndSend(&quot;testContainerExchange&quot;, &quot;routing-key&quot;, message);\n\n        List&lt;QueueMessage&gt; listMessages = webTestClient.get()\n                .uri(QUEUE_URI)\n                .accept(MediaType.APPLICATION_JSON)\n                .exchange()\n                .expectStatus()\n                .isOk()\n                .expectBodyList(new ParameterizedTypeReference&lt;QueueMessage&gt;() {\n                })\n                .returnResult()\n                .getResponseBody();\n\n        QueueMessage actualMessage = listMessages.stream()\n                        .filter(m -&gt; m.getTitle().equals(message.title()))\n                        .findFirst()\n                        .orElseThrow();\n\n        assertThat(actualMessage.getTitle()).isEqualTo(message.title());\n        assertThat(actualMessage.getDescription()).isEqualTo(message.description());\n    }\n}\n</code></pre>\n<p>When I run both the test separately, they work fine as I get a pass, but when I run all the tests, then in the second test shouldGiveMessageWhenStoredMessageInDBThroughRabbitMQ(), I get listMessage as null.</p>\n<p>I am not sure why I am getting this behaviour and how can I fix it?</p>\n"},{"tags":["java","spring-data-jpa","jpql","spring-boot-3"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1691478946,"post_id":76857226,"comment_id":135493307,"body_markdown":"Can you show your `Object`? I assume you are not referring to `java.lang.Object` but something else you just called `Object` in your question for demonstration. Maybe try removing the brackets around `:referenceNumbers`.","body":"Can you show your <code>Object</code>? I assume you are not referring to <code>java.lang.Object</code> but something else you just called <code>Object</code> in your question for demonstration. Maybe try removing the brackets around <code>:referenceNumbers</code>."},{"owner":{"account_id":28626192,"reputation":1,"user_id":21918139,"display_name":"Jakub K"},"score":0,"creation_date":1691480087,"post_id":76857226,"comment_id":135493500,"body_markdown":"It doesn&#39;t compile without    &#39;:&#39;","body":"It doesn&#39;t compile without    &#39;:&#39;"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1691480322,"post_id":76857226,"comment_id":135493547,"body_markdown":"I am not talking about the colon but the parenthesis around it.","body":"I am not talking about the colon but the parenthesis around it."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1691480447,"post_id":76857226,"comment_id":135493581,"body_markdown":"Does it work if you don&#39;t have the `IS NULL` check? Does that effect the exception?","body":"Does it work if you don&#39;t have the <code>IS NULL</code> check? Does that effect the exception?"},{"owner":{"account_id":28626192,"reputation":1,"user_id":21918139,"display_name":"Jakub K"},"score":0,"creation_date":1691481636,"post_id":76857226,"comment_id":135493818,"body_markdown":"IN (:referenceNumbers) - &gt; IN :referenceNumbers doesn&#39;t make any difference but \nwithout  IS NULL it&#39;s working :)","body":"IN (:referenceNumbers) - &gt; IN :referenceNumbers doesn&#39;t make any difference but  without  IS NULL it&#39;s working :)"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1691481831,"post_id":76857226,"comment_id":135493877,"body_markdown":"Does the exception also occur with the `IS NULL` but without the `IN`?","body":"Does the exception also occur with the <code>IS NULL</code> but without the <code>IN</code>?"}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691493592,"creation_date":1691482145,"answer_id":76857629,"question_id":76857226,"body_markdown":"It seems like the `(:referenceNumbers) IS NULL` is the problem.\r\nYou can split the query method in two methods, one with custom logic for handling that:\r\n\r\n```java\r\n@Query(&quot;SELECT o FROM Storage o WHERE o.status = &#39;SUCCESS&#39; &quot; +\r\n&quot; AND (:ignoreReferenceNumbers OR o.referenceNumber IN (:referenceNumbers)) &quot; +&quot;...&quot;)\r\nPage&lt;Storage&gt; findObjectInternal(ObjectFilter filter, Set&lt;String&gt; referenceNumbers, boolean ignoreReferenceNumbers, Iterable&lt;Long&gt; systemIdsPageable pageable);\r\n\r\ndefault Page&lt;Storage&gt; findObject(ObjectFilter filter, Set&lt;String&gt; referenceNumbers, Iterable&lt;Long&gt; systemIds,Pageable pageable){\r\n    if(referenceNumbers==null){\r\n        return findObjectInternal(filter, Collections.emptyList(), true, systemIds, pageable);\r\n    }\r\n    return findObjectInternal(filter, referenceNumbers, false, systemIds, pageable);\r\n}\r\n```\r\n\r\nor use two (overloaded) `default` methods:\r\n```java\r\n@Query(&quot;SELECT o FROM Storage o WHERE o.status = &#39;SUCCESS&#39; &quot; +\r\n&quot; AND (:ignoreReferenceNumbers OR o.referenceNumber IN (:referenceNumbers)) &quot; +&quot;...&quot;)\r\nPage&lt;Storage&gt; findObjectInternal(ObjectFilter filter, Set&lt;String&gt; referenceNumbers, boolean ignoreReferenceNumbers, Iterable&lt;Long&gt; systemIdsPageable pageable);\r\n\r\ndefault Page&lt;Storage&gt; findObject(ObjectFilter filter, Set&lt;String&gt; referenceNumbers, Iterable&lt;Long&gt; systemIds,Pageable pageable){\r\n    return findObjectInternal(filter, referenceNumbers, false, systemIds, pageable);\r\n}\r\n\r\ndefault Page&lt;Storage&gt; findObject(ObjectFilter filter, Iterable&lt;Long&gt; systemIds,Pageable pageable){\r\n    return findObjectInternal(filter, Collections.emptyList(), true, systemIds, pageable);\r\n}\r\n```\r\nand always call the corresponding default method instead of using a `null` argument.\r\nAs [mentioned by the OP in the comments](https://stackoverflow.com/questions/76857226/unknown-wrap-conversion-requested-java-util-immutablecollectionsset12-to-java/76857629?noredirect=1#comment135495943_76857629), it is also possible like this:\r\n```java\r\n@Query(&quot;SELECT o FROM Storage o WHERE o.status = &#39;SUCCESS&#39; &quot; +\r\n&quot; AND (coalesce(:#{#referenceNumbers}, null) IS NULL OR o.referenceNumber IN (:referenceNumbers)) &quot; +&quot;...&quot;)\r\nPage&lt;Storage&gt; findObject(ObjectFilter filter, Set&lt;String&gt; referenceNumbers, Iterable&lt;Long&gt; systemIds,Pageable pageable);\r\n```","title":"Unknown wrap conversion requested: java.util.ImmutableCollections$Set12 to java.lang.String","body":"<p>It seems like the <code>(:referenceNumbers) IS NULL</code> is the problem.\nYou can split the query method in two methods, one with custom logic for handling that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;SELECT o FROM Storage o WHERE o.status = 'SUCCESS' &quot; +\n&quot; AND (:ignoreReferenceNumbers OR o.referenceNumber IN (:referenceNumbers)) &quot; +&quot;...&quot;)\nPage&lt;Storage&gt; findObjectInternal(ObjectFilter filter, Set&lt;String&gt; referenceNumbers, boolean ignoreReferenceNumbers, Iterable&lt;Long&gt; systemIdsPageable pageable);\n\ndefault Page&lt;Storage&gt; findObject(ObjectFilter filter, Set&lt;String&gt; referenceNumbers, Iterable&lt;Long&gt; systemIds,Pageable pageable){\n    if(referenceNumbers==null){\n        return findObjectInternal(filter, Collections.emptyList(), true, systemIds, pageable);\n    }\n    return findObjectInternal(filter, referenceNumbers, false, systemIds, pageable);\n}\n</code></pre>\n<p>or use two (overloaded) <code>default</code> methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;SELECT o FROM Storage o WHERE o.status = 'SUCCESS' &quot; +\n&quot; AND (:ignoreReferenceNumbers OR o.referenceNumber IN (:referenceNumbers)) &quot; +&quot;...&quot;)\nPage&lt;Storage&gt; findObjectInternal(ObjectFilter filter, Set&lt;String&gt; referenceNumbers, boolean ignoreReferenceNumbers, Iterable&lt;Long&gt; systemIdsPageable pageable);\n\ndefault Page&lt;Storage&gt; findObject(ObjectFilter filter, Set&lt;String&gt; referenceNumbers, Iterable&lt;Long&gt; systemIds,Pageable pageable){\n    return findObjectInternal(filter, referenceNumbers, false, systemIds, pageable);\n}\n\ndefault Page&lt;Storage&gt; findObject(ObjectFilter filter, Iterable&lt;Long&gt; systemIds,Pageable pageable){\n    return findObjectInternal(filter, Collections.emptyList(), true, systemIds, pageable);\n}\n</code></pre>\n<p>and always call the corresponding default method instead of using a <code>null</code> argument.\nAs <a href=\"https://stackoverflow.com/questions/76857226/unknown-wrap-conversion-requested-java-util-immutablecollectionsset12-to-java/76857629?noredirect=1#comment135495943_76857629\">mentioned by the OP in the comments</a>, it is also possible like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;SELECT o FROM Storage o WHERE o.status = 'SUCCESS' &quot; +\n&quot; AND (coalesce(:#{#referenceNumbers}, null) IS NULL OR o.referenceNumber IN (:referenceNumbers)) &quot; +&quot;...&quot;)\nPage&lt;Storage&gt; findObject(ObjectFilter filter, Set&lt;String&gt; referenceNumbers, Iterable&lt;Long&gt; systemIds,Pageable pageable);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19020551,"reputation":1,"user_id":13884718,"display_name":"Ari Susanto Lie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695562628,"creation_date":1695191326,"answer_id":77139804,"question_id":76857226,"body_markdown":"I faced this issue too, but I did an in-depth check and this error triggers because when for example `:listName` is `null`, Spring JPA `@Query` detects this and automatically converts that parameter into `String`.\r\n\r\nTo prevent that happening i have used this approach like example below using `Coalesce`: \r\n\r\n    select u from product u where  (Coalesce(:listProductName) is null or u.productName in :listProductName)\r\n\r\nHopefully, this approach can helpful.","title":"Unknown wrap conversion requested: java.util.ImmutableCollections$Set12 to java.lang.String","body":"<p>I faced this issue too, but I did an in-depth check and this error triggers because when for example <code>:listName</code> is <code>null</code>, Spring JPA <code>@Query</code> detects this and automatically converts that parameter into <code>String</code>.</p>\n<p>To prevent that happening i have used this approach like example below using <code>Coalesce</code>:</p>\n<pre><code>select u from product u where  (Coalesce(:listProductName) is null or u.productName in :listProductName)\n</code></pre>\n<p>Hopefully, this approach can helpful.</p>\n"}],"owner":{"account_id":28626192,"reputation":1,"user_id":21918139,"display_name":"Jakub K"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695562628,"creation_date":1691478736,"question_id":76857226,"body_markdown":"After migration from spring-data-jpa 2.7.1 to 3.1.2 (SpringBoot 3.1.2 migration) in method:\r\n\r\n```java\r\n@Query(&quot;&quot;&quot;\r\n    SELECT o\r\n    FROM Storage o\r\n    WHERE o.status = &#39;SUCCESS&#39;\r\n    AND (\r\n        (:referenceNumbers) IS NULL\r\n        OR o.referenceNumber IN (:referenceNumbers)\r\n    )\r\n    ...\r\n&quot;&quot;&quot;)\r\nPage&lt;Storage&gt; findObject(ObjectFilter filter, Set&lt;String&gt; referenceNumbers, Iterable&lt;Long&gt; systemIds, Pageable pageable);\r\n```\r\n\r\n```java\r\n@Entity\r\n@Getter\r\n@Setter\r\n@RequiredArgsConstructor\r\n@EqualsAndHashCode\r\n@Accessors(chain = true)\r\nclass Storage {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String referenceNumber;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private Status status;\r\n}\r\n```\r\n\r\nI&#39;m getting: \r\n\r\n&gt; org.springframework.orm.jpa.JpaSystemException: Unknown wrap conversion requested: java.util.**ImmutableCollections$Set12 to java.lang.String :** `org.hibernate.type.descriptor.java.StringJavaType` (java.lang.String)\r\n\r\n\r\nSeems like `IN` method is not able to handle Collection anymore \r\n\r\nI was trying to find documentation for JPQL `IN` method but could not find anything relevant.\r\n\r\nFor Spring Data JPA 2.7.1, this method was working perfectly fine.\r\n\r\nI tried to find documentation for the `IN` method for Spring Data JPA 3.1.2, because I have many similar methods in project and my app might be working with many databases (PostgreSQL, Oracle).\r\n","title":"Unknown wrap conversion requested: java.util.ImmutableCollections$Set12 to java.lang.String","body":"<p>After migration from spring-data-jpa 2.7.1 to 3.1.2 (SpringBoot 3.1.2 migration) in method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;&quot;&quot;\n    SELECT o\n    FROM Storage o\n    WHERE o.status = 'SUCCESS'\n    AND (\n        (:referenceNumbers) IS NULL\n        OR o.referenceNumber IN (:referenceNumbers)\n    )\n    ...\n&quot;&quot;&quot;)\nPage&lt;Storage&gt; findObject(ObjectFilter filter, Set&lt;String&gt; referenceNumbers, Iterable&lt;Long&gt; systemIds, Pageable pageable);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\n@RequiredArgsConstructor\n@EqualsAndHashCode\n@Accessors(chain = true)\nclass Storage {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String referenceNumber;\n\n    @Enumerated(EnumType.STRING)\n    private Status status;\n}\n</code></pre>\n<p>I'm getting:</p>\n<blockquote>\n<p>org.springframework.orm.jpa.JpaSystemException: Unknown wrap conversion requested: java.util.<strong>ImmutableCollections$Set12 to java.lang.String :</strong> <code>org.hibernate.type.descriptor.java.StringJavaType</code> (java.lang.String)</p>\n</blockquote>\n<p>Seems like <code>IN</code> method is not able to handle Collection anymore</p>\n<p>I was trying to find documentation for JPQL <code>IN</code> method but could not find anything relevant.</p>\n<p>For Spring Data JPA 2.7.1, this method was working perfectly fine.</p>\n<p>I tried to find documentation for the <code>IN</code> method for Spring Data JPA 3.1.2, because I have many similar methods in project and my app might be working with many databases (PostgreSQL, Oracle).</p>\n"},{"tags":["java","eclipse","maven-2","osgi","bundle"],"comments":[{"owner":{"account_id":6017,"reputation":12512,"user_id":9950,"accept_rate":67,"display_name":"Peter Kahn"},"score":1,"creation_date":1341338512,"post_id":1084866,"comment_id":14903154,"body_markdown":"Important safety tip. Maven command line detects cycles within one reactor. If the cycle would only be exposed by activating a profile then your command line build will not report an error while your eclipse build may. If you try to debug this be sure to activate all the profiles to include all your modules (e.g., mvn -Pcore,buildtools dependency:tree) otherwise you may miss the problem.","body":"Important safety tip. Maven command line detects cycles within one reactor. If the cycle would only be exposed by activating a profile then your command line build will not report an error while your eclipse build may. If you try to debug this be sure to activate all the profiles to include all your modules (e.g., mvn -Pcore,buildtools dependency:tree) otherwise you may miss the problem."},{"owner":{"account_id":379606,"reputation":5664,"user_id":733092,"accept_rate":86,"display_name":"Noumenon"},"score":0,"creation_date":1578181995,"post_id":1084866,"comment_id":105356688,"body_markdown":"Links are broken (and they were both the same anyway).","body":"Links are broken (and they were both the same anyway)."}],"answers":[{"tags":[],"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1246879884,"creation_date":1246830943,"answer_id":1084902,"question_id":1084866,"body_markdown":"When I&#39;ve had these problems it always has been a true cycle in the dependencies expressed in Manifest.mf\r\n\r\nSo open the manifest of the project in question, on the Dependencies Tab, look at the &quot;Required Plugins&quot; entry. Then follow from there to the next project(s), and repeat eventually the cycle will become clear.\r\n\r\nYou can simpify this task somewhat by using the Dependency Analysis links in the bottom right corner of the  Dependencies Tab, this has cycle detection and easier navigation depdendencies.\r\n\r\nI also don&#39;t know why Maven is more tolerant,","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>When I've had these problems it always has been a true cycle in the dependencies expressed in Manifest.mf</p>\n\n<p>So open the manifest of the project in question, on the Dependencies Tab, look at the \"Required Plugins\" entry. Then follow from there to the next project(s), and repeat eventually the cycle will become clear.</p>\n\n<p>You can simpify this task somewhat by using the Dependency Analysis links in the bottom right corner of the  Dependencies Tab, this has cycle detection and easier navigation depdendencies.</p>\n\n<p>I also don't know why Maven is more tolerant,</p>\n"},{"tags":[],"owner":{"account_id":42418,"reputation":83388,"user_id":123582,"accept_rate":56,"display_name":"Rich Seller"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1246911441,"creation_date":1246911441,"answer_id":1089021,"question_id":1084866,"body_markdown":"Maven *will* fail the build if it detects a cycle, as the dependencies must be a tree. \r\n\r\nYou may find that you have additional declarations in the manifest.mf over those defined in the pom.xml. any extra declaration could introduce a cycle that wouldn&#39;t be apparent to Maven. ","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>Maven <em>will</em> fail the build if it detects a cycle, as the dependencies must be a tree. </p>\n\n<p>You may find that you have additional declarations in the manifest.mf over those defined in the pom.xml. any extra declaration could introduce a cycle that wouldn't be apparent to Maven. </p>\n"},{"tags":[],"owner":{"account_id":44790,"reputation":5396,"user_id":131652,"accept_rate":75,"display_name":"SteveD"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1246968385,"creation_date":1246968385,"answer_id":1091939,"question_id":1084866,"body_markdown":"In simple terms, a cycle is when bundle A depends on bundle B which depends on bundle A.  If this is source code, then there&#39;s no way of building the bundles seperately in one pass.\r\n\r\nSince the problem only shows in Eclipse, it may be a binary circular dependency as opposed \r\nto a source code circular dependency.\r\n\r\nThere is support for binary cycles in recent versions of Eclipse: [Eclipsesource Blog][1]\r\n\r\nIf the cycle is in your code, then I suggest refactoring the code by breaking out some of the code to a 3rd bundle to remove the circular dependency.\r\n\r\nAnd watch out if you are using OSGi fragments (a common pattern for unit testing) as it is very easy to introduce cycles.\r\n\r\nEclipse&#39;s manifest editor does have functionality on the &quot;Dependencies&quot; tab for looking for cycles (you need to click on &quot;Dependency Analysis&quot;), but I&#39;ve never seen it show a cycle even when Eclipse has a big red X telling me there&#39;s a cycle!\r\n\r\n\r\n  [1]: http://eclipsesource.com/blogs/2008/10/28/tip-pde-build-and-binary-cycles/","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>In simple terms, a cycle is when bundle A depends on bundle B which depends on bundle A.  If this is source code, then there's no way of building the bundles seperately in one pass.</p>\n\n<p>Since the problem only shows in Eclipse, it may be a binary circular dependency as opposed \nto a source code circular dependency.</p>\n\n<p>There is support for binary cycles in recent versions of Eclipse: <a href=\"http://eclipsesource.com/blogs/2008/10/28/tip-pde-build-and-binary-cycles/\" rel=\"nofollow noreferrer\">Eclipsesource Blog</a></p>\n\n<p>If the cycle is in your code, then I suggest refactoring the code by breaking out some of the code to a 3rd bundle to remove the circular dependency.</p>\n\n<p>And watch out if you are using OSGi fragments (a common pattern for unit testing) as it is very easy to introduce cycles.</p>\n\n<p>Eclipse's manifest editor does have functionality on the \"Dependencies\" tab for looking for cycles (you need to click on \"Dependency Analysis\"), but I've never seen it show a cycle even when Eclipse has a big red X telling me there's a cycle!</p>\n"},{"tags":[],"owner":{"account_id":44499,"reputation":23474,"user_id":130659,"accept_rate":100,"display_name":"AlBlue"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1248730188,"creation_date":1248730188,"answer_id":1190748,"question_id":1084866,"body_markdown":"As well as the Require-Bundle form of dependency management (most similar to Maven&#39;s pom dependencies), it&#39;s also possible to have Import-Package dependencies. It&#39;s much easier to introduce circular dependencies with Import-Package than Require-Bundle, but YMMV.\r\n\r\nAlso, Eclipse projects have a &#39;project references&#39; which says which other projects it depends on. Eclipse uses this at a high level to decide what projects to build, and in which order, so it&#39;s quite possible that your Manifest.MF lists everything correctly but the project references are out of whack. Right click on a project and then go to properties - you&#39;ll see which projects you depend on. If you&#39;re a text kind of person, open up the .project files and see which ones you depend on there - it&#39;s probable that a project cyclic link is being defined at that level instead (often caused when you have an A-B dependency and then flipped from B-A but without updating the .project references).","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>As well as the Require-Bundle form of dependency management (most similar to Maven's pom dependencies), it's also possible to have Import-Package dependencies. It's much easier to introduce circular dependencies with Import-Package than Require-Bundle, but YMMV.</p>\n\n<p>Also, Eclipse projects have a 'project references' which says which other projects it depends on. Eclipse uses this at a high level to decide what projects to build, and in which order, so it's quite possible that your Manifest.MF lists everything correctly but the project references are out of whack. Right click on a project and then go to properties - you'll see which projects you depend on. If you're a text kind of person, open up the .project files and see which ones you depend on there - it's probable that a project cyclic link is being defined at that level instead (often caused when you have an A-B dependency and then flipped from B-A but without updating the .project references).</p>\n"},{"tags":[],"owner":{"account_id":40443,"reputation":1902,"user_id":117220,"accept_rate":67,"display_name":"Petr Gladkikh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1284479459,"creation_date":1284479459,"answer_id":3710545,"question_id":1084866,"body_markdown":"I faced similar problem a while ago and decided to write Eclipse plug-in that shows complete build path dependency tree of a Java project (although not in graphic mode - result is written into file). The plug-in&#39;s sources are here http://github.com/PetrGlad/dependency-tree","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>I faced similar problem a while ago and decided to write Eclipse plug-in that shows complete build path dependency tree of a Java project (although not in graphic mode - result is written into file). The plug-in's sources are here <a href=\"http://github.com/PetrGlad/dependency-tree\" rel=\"nofollow noreferrer\">http://github.com/PetrGlad/dependency-tree</a></p>\n"},{"tags":[],"owner":{"account_id":691308,"reputation":151,"user_id":552676,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1460385294,"creation_date":1293128129,"answer_id":4521334,"question_id":1084866,"body_markdown":"When we have multiple projects in workspace, we have to set the references between the projects, not among the projects. If P1 references P2, P2 references P3, and P3 reference back to P1. That will cause a cycle. \r\n\r\nThe Solution is to draw a Diagram of the reference between projects in workspace. Check the Java Build Path of each of the projects to see the Tab of the Projects window. Take out the Project that are refering back to the main project, e.g. P3 references P1, in this example above.\r\n\r\nDetailed operation is to select P3 project in RAD OR eclipse, right click on the project and choose the properties option, it brings up a new window for properties of P3. Click on the &quot;Java Build Path&quot; section, Choose the &quot;Projects&quot; option Tab. You can see the P3 has referenced P1 in the field. Select the P1 reference, click &quot;Remove&quot; button on the right side of the window. Then, click okay. The IDE will start to reset the path automatically.\r\n\r\nDone.\r\n\r\nKeep find all of the mis-referenced reference in every each projects until you have the right references to each of the projects in your Diagram. Good Luck!\r\n","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>When we have multiple projects in workspace, we have to set the references between the projects, not among the projects. If P1 references P2, P2 references P3, and P3 reference back to P1. That will cause a cycle. </p>\n\n<p>The Solution is to draw a Diagram of the reference between projects in workspace. Check the Java Build Path of each of the projects to see the Tab of the Projects window. Take out the Project that are refering back to the main project, e.g. P3 references P1, in this example above.</p>\n\n<p>Detailed operation is to select P3 project in RAD OR eclipse, right click on the project and choose the properties option, it brings up a new window for properties of P3. Click on the \"Java Build Path\" section, Choose the \"Projects\" option Tab. You can see the P3 has referenced P1 in the field. Select the P1 reference, click \"Remove\" button on the right side of the window. Then, click okay. The IDE will start to reset the path automatically.</p>\n\n<p>Done.</p>\n\n<p>Keep find all of the mis-referenced reference in every each projects until you have the right references to each of the projects in your Diagram. Good Luck!</p>\n"},{"tags":[],"owner":{"account_id":135100,"reputation":91,"user_id":337695,"display_name":"garrett.patterson"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1326484411,"creation_date":1326484411,"answer_id":8856446,"question_id":1084866,"body_markdown":"I had this due to one project referencing another.\r\n\r\n1. Remove reference from project A to project B\r\n2. Try running stuff, it will break\r\n3. Re-add reference\r\n4. Clean/Clean and build\r\n5. Back in business","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>I had this due to one project referencing another.</p>\n\n<ol>\n<li>Remove reference from project A to project B</li>\n<li>Try running stuff, it will break</li>\n<li>Re-add reference</li>\n<li>Clean/Clean and build</li>\n<li>Back in business</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1501338,"reputation":63,"user_id":1405870,"display_name":"Ryan Zoerner"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1386111852,"creation_date":1354311892,"answer_id":13653649,"question_id":1084866,"body_markdown":"### Problem\r\nI have an old project that tests two different implementations of a Dictionary interface. One is an unsorted ArrayList and the other is a HashTable. The two implementations are timed, so that a comparison can be made. You can choose which data structure from the command line args. Now.. I have another data structure which is a tree structure. I want to test the time of it, in order to compare it to the HashTable. So.. In the new dataStructure project, I need to implement the Dictionary interface. In the Dictionary project, I need to be able to add code specific to my new dataStructure project. There is a circular dependency. This means that when Eclipse goes to find out which projects are dependent on project A, then it finds project B. When it needs to find out the sub-dependencies of the dependent projects, it finds A, which is again, dependent on B. There is no tree, rather a graph with a cycle.\r\n \r\n\r\n### Solution\r\nWhen you go to configure your build path, instead of entering dependent projects (&#39;projects&#39; tab), go to the Libraries tab. Click the &#39;Add Class Folder...&#39; button (assuming that your referenced projects are in your workspace), and select the class folder. Mine is &lt;projectName&gt;\\target. Select this as a library folder. Do this in project A, to reference project B. Do this in project B to reference project A. Make sure that you don&#39;t reference &lt;projectName&gt;\\target\\projectNameFolder or you won&#39;t have a matching import. Now you won&#39;t have to remove a dependency and then reset it, in order to force a rebuild. \r\n \r\n \r\nUse class libraries instead of project references.","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<h3>Problem</h3>\n\n<p>I have an old project that tests two different implementations of a Dictionary interface. One is an unsorted ArrayList and the other is a HashTable. The two implementations are timed, so that a comparison can be made. You can choose which data structure from the command line args. Now.. I have another data structure which is a tree structure. I want to test the time of it, in order to compare it to the HashTable. So.. In the new dataStructure project, I need to implement the Dictionary interface. In the Dictionary project, I need to be able to add code specific to my new dataStructure project. There is a circular dependency. This means that when Eclipse goes to find out which projects are dependent on project A, then it finds project B. When it needs to find out the sub-dependencies of the dependent projects, it finds A, which is again, dependent on B. There is no tree, rather a graph with a cycle.</p>\n\n<h3>Solution</h3>\n\n<p>When you go to configure your build path, instead of entering dependent projects ('projects' tab), go to the Libraries tab. Click the 'Add Class Folder...' button (assuming that your referenced projects are in your workspace), and select the class folder. Mine is \\target. Select this as a library folder. Do this in project A, to reference project B. Do this in project B to reference project A. Make sure that you don't reference \\target\\projectNameFolder or you won't have a matching import. Now you won't have to remove a dependency and then reset it, in order to force a rebuild. </p>\n\n<p>Use class libraries instead of project references.</p>\n"},{"tags":[],"owner":{"account_id":3047619,"reputation":1071,"user_id":2582855,"display_name":"user2582855"},"down_vote_count":0,"up_vote_count":107,"is_accepted":false,"score":107,"last_activity_date":1456500740,"creation_date":1373878924,"answer_id":17650402,"question_id":1084866,"body_markdown":"Mark circular dependencies as &quot;Warning&quot; in Eclipse tool to avoid &quot;A CYCLE WAS DETECTED IN THE BUILD PATH&quot; error.\r\n\r\nIn Eclipse go to:\r\n\r\nWindows -&gt; Preferences -&gt; Java-&gt; Compiler -&gt; Building -&gt; Circular Dependencies\r\n\r\n","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>Mark circular dependencies as \"Warning\" in Eclipse tool to avoid \"A CYCLE WAS DETECTED IN THE BUILD PATH\" error.</p>\n\n<p>In Eclipse go to:</p>\n\n<p>Windows -> Preferences -> Java-> Compiler -> Building -> Circular Dependencies</p>\n"},{"tags":[],"owner":{"account_id":3099162,"reputation":1,"user_id":2623740,"display_name":"sjchoudary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1374860009,"creation_date":1374860009,"answer_id":17887536,"question_id":1084866,"body_markdown":"Try to delete references and add it back, some times eclipse behave weird because until and unless you fix that error it wont allow you refresh. so try to delete all dependencies project and add it back\r\nClean and build ","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>Try to delete references and add it back, some times eclipse behave weird because until and unless you fix that error it wont allow you refresh. so try to delete all dependencies project and add it back\nClean and build </p>\n"},{"tags":[],"owner":{"account_id":3910216,"reputation":1,"user_id":3235783,"display_name":"user3235783"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390672424,"creation_date":1390672424,"answer_id":21354092,"question_id":1084866,"body_markdown":"Just restarting Eclipse fixed the issue in my project","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>Just restarting Eclipse fixed the issue in my project</p>\n"},{"tags":[],"owner":{"account_id":1686527,"reputation":14163,"user_id":1549700,"accept_rate":84,"display_name":"Machado"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415635056,"creation_date":1415635056,"answer_id":26847738,"question_id":1084866,"body_markdown":"Although &quot;Mark Circular Dependencies&quot; enables you to compile the code, it may lead to a slower environment and future issues.\r\n\r\nThat&#39;s happening because at some point Eclipse has lost it&#39;s directions on your build path.\r\n\r\n1 - Remove the project and it&#39;s references from the workspace.\r\n2 - Import it back again.\r\n3 - Check the references.\r\n\r\nIt is the best solution.","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>Although \"Mark Circular Dependencies\" enables you to compile the code, it may lead to a slower environment and future issues.</p>\n\n<p>That's happening because at some point Eclipse has lost it's directions on your build path.</p>\n\n<p>1 - Remove the project and it's references from the workspace.\n2 - Import it back again.\n3 - Check the references.</p>\n\n<p>It is the best solution.</p>\n"},{"tags":[],"owner":{"account_id":2887765,"reputation":913,"user_id":2477203,"accept_rate":17,"display_name":"MansoorShaikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491307077,"creation_date":1491307077,"answer_id":43206591,"question_id":1084866,"body_markdown":"I faced this same problem today. The error was apt. By mistake, I added cyclic dependency. A was dependent on B. In my case, by mistake, apart from adding B as dependent to A. I added A as dependent to B too. It was a foolish mistake.","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>I faced this same problem today. The error was apt. By mistake, I added cyclic dependency. A was dependent on B. In my case, by mistake, apart from adding B as dependent to A. I added A as dependent to B too. It was a foolish mistake.</p>\n"},{"tags":[],"owner":{"account_id":11055725,"reputation":1,"user_id":8118600,"display_name":"Rain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496803058,"creation_date":1496746263,"answer_id":44388007,"question_id":1084866,"body_markdown":"I have this problem,too.I just disable Workspace resolution,and then all was right.[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mdFIw.png","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>I have this problem,too.I just disable Workspace resolution,and then all was right.<a href=\"https://i.stack.imgur.com/mdFIw.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":8315755,"reputation":449,"user_id":6249116,"accept_rate":10,"display_name":"Camilo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511538790,"creation_date":1511538790,"answer_id":47476596,"question_id":1084866,"body_markdown":"This could happen when you have several projects that include each other in JAR form.\r\nWhat I did was remove all libraries and project dependencies on buildpath, for all projects. Then, one at a time, I added the project dependencies on the Project Tab, but only the ones needed.\r\nThis is because you can add a project which in turn has itself referenced or another project which is referencing some other project with this self-referencing issue.\r\n\r\nThis resolved my issue.","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>This could happen when you have several projects that include each other in JAR form.\nWhat I did was remove all libraries and project dependencies on buildpath, for all projects. Then, one at a time, I added the project dependencies on the Project Tab, but only the ones needed.\nThis is because you can add a project which in turn has itself referenced or another project which is referencing some other project with this self-referencing issue.</p>\n\n<p>This resolved my issue.</p>\n"},{"tags":[],"owner":{"account_id":11331381,"reputation":176,"user_id":8308815,"display_name":"Sambuccid"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1553232891,"creation_date":1527847426,"answer_id":50640983,"question_id":1084866,"body_markdown":"Sometimes marking as Warning \r\n\r\n&gt; Windows -&gt; Preferences -&gt; Java-&gt; Compiler -&gt; Building -&gt; Circular Dependencies\r\n\r\ndoesn&#39;t solve the problem because eclipse don&#39;t compile the projects that have another project in the dependencies that isn&#39;t compiled.\r\n\r\nSo to solve this problem you can try forcing Eclipse to compile every class that it be able to.\r\n\r\nTo make this just:\r\n\r\n1. Deselect\r\n\r\n&gt; Windows -&gt; Preferences -&gt; Java-&gt; Compiler -&gt; Building -&gt; Abort build when build path error occur\r\n\r\n2. Clean and rebuild all project\r\n\r\n&gt; Project -&gt; Clean...\r\n\r\n3. Reselect:\r\n\r\n&gt; Windows -&gt; Preferences -&gt; Java-&gt; Compiler -&gt; Building -&gt; Abort build when build path error occur\r\n\r\nIf you have the Automatic Build selected then you will not need to do this every time that you change the code\r\n\r\n","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>Sometimes marking as Warning </p>\n\n<blockquote>\n  <p>Windows -> Preferences -> Java-> Compiler -> Building -> Circular Dependencies</p>\n</blockquote>\n\n<p>doesn't solve the problem because eclipse don't compile the projects that have another project in the dependencies that isn't compiled.</p>\n\n<p>So to solve this problem you can try forcing Eclipse to compile every class that it be able to.</p>\n\n<p>To make this just:</p>\n\n<ol>\n<li>Deselect</li>\n</ol>\n\n<blockquote>\n  <p>Windows -> Preferences -> Java-> Compiler -> Building -> Abort build when build path error occur</p>\n</blockquote>\n\n<ol start=\"2\">\n<li>Clean and rebuild all project</li>\n</ol>\n\n<blockquote>\n  <p>Project -> Clean...</p>\n</blockquote>\n\n<ol start=\"3\">\n<li>Reselect:</li>\n</ol>\n\n<blockquote>\n  <p>Windows -> Preferences -> Java-> Compiler -> Building -> Abort build when build path error occur</p>\n</blockquote>\n\n<p>If you have the Automatic Build selected then you will not need to do this every time that you change the code</p>\n"},{"tags":[],"owner":{"account_id":263212,"reputation":24964,"user_id":548637,"accept_rate":75,"display_name":"vogella"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585220175,"creation_date":1585220175,"answer_id":60865656,"question_id":1084866,"body_markdown":"Eclipse had a bug which reported more cycles than necessary. This has been fixed with the 2019-12 release. See https://bugs.eclipse.org/bugs/show_bug.cgi?id=551105","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>Eclipse had a bug which reported more cycles than necessary. This has been fixed with the 2019-12 release. See <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=551105\" rel=\"nofollow noreferrer\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=551105</a></p>\n"},{"tags":[],"owner":{"account_id":29508451,"reputation":1,"user_id":22614000,"display_name":"SaiKumar Meda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695562482,"creation_date":1695562482,"answer_id":77167315,"question_id":1084866,"body_markdown":"- Navigate to the &quot;Window&quot; menu &gt; Preferences &gt; Java &gt; Compiler &gt; Building &gt; Circular Dependencies.\r\n\r\n- Change the circular dependencies setting to &quot;Warning.&quot;\r\n\r\n- It will add circular dependencies to your project depending on the need change the setting.\r\n\r\n  Thank you\r\n\r\n","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<ul>\n<li><p>Navigate to the &quot;Window&quot; menu &gt; Preferences &gt; Java &gt; Compiler &gt; Building &gt; Circular Dependencies.</p>\n</li>\n<li><p>Change the circular dependencies setting to &quot;Warning.&quot;</p>\n</li>\n<li><p>It will add circular dependencies to your project depending on the need change the setting.</p>\n<p>Thank you</p>\n</li>\n</ul>\n"}],"owner":{"account_id":700,"reputation":16953,"user_id":917,"accept_rate":44,"display_name":"Mauli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164403,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"answer_count":18,"score":57,"last_activity_date":1695562482,"creation_date":1246829827,"question_id":1084866,"body_markdown":"I&#39;m in the process of converting my projects to OSGI bundles using maven and eclipse. Maven builds the stuff just fine, only I get the above error now within Eclipse. How can I find out which project causes this? Is there a special view or something? How can this happen, I would expect that maven can detect cyclic dependencies as well?\r\n\r\n**Update**\r\n\r\nOk, I found something \r\n&lt;a href=&quot;http://www.eclipsezone.com/eclipse/forums/t71727.html&quot;&gt;here&lt;/a&gt;\r\nand\r\n&lt;a href=&quot;http://www.eclipsezone.com/eclipse/forums/t71727.html&quot;&gt;here&lt;/a&gt;\r\n\r\nCould this be caused by the felix maven-bundle-plugin which does for each export also an import?","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>I'm in the process of converting my projects to OSGI bundles using maven and eclipse. Maven builds the stuff just fine, only I get the above error now within Eclipse. How can I find out which project causes this? Is there a special view or something? How can this happen, I would expect that maven can detect cyclic dependencies as well?</p>\n\n<p><strong>Update</strong></p>\n\n<p>Ok, I found something \n<a href=\"http://www.eclipsezone.com/eclipse/forums/t71727.html\" rel=\"noreferrer\">here</a>\nand\n<a href=\"http://www.eclipsezone.com/eclipse/forums/t71727.html\" rel=\"noreferrer\">here</a></p>\n\n<p>Could this be caused by the felix maven-bundle-plugin which does for each export also an import?</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","spring-kafka"],"comments":[{"owner":{"account_id":249943,"reputation":335,"user_id":526330,"accept_rate":80,"display_name":"Mario"},"score":1,"creation_date":1519110752,"post_id":48879578,"comment_id":84763281,"body_markdown":"yeah, I believe I can solve my problem by implementing  ConsumerAwareRebalanceListener.","body":"yeah, I believe I can solve my problem by implementing  ConsumerAwareRebalanceListener."},{"owner":{"account_id":249943,"reputation":335,"user_id":526330,"accept_rate":80,"display_name":"Mario"},"score":0,"creation_date":1606394932,"post_id":48879578,"comment_id":114954375,"body_markdown":"And how to do this with kafka streams? :))","body":"And how to do this with kafka streams? :))"}],"answers":[{"tags":[],"owner":{"account_id":1880239,"reputation":927,"user_id":1700614,"display_name":"z0mb1ek"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1536699801,"creation_date":1536699801,"answer_id":52284186,"question_id":48879578,"body_markdown":"Yes, you can do:\r\n\r\n    @Bean\r\n    public ConsumerAwareRebalanceListener rebalanceListener() {\r\n        return new ConsumerAwareRebalanceListener() { \r\n            @Override\r\n            public void onPartitionsAssigned(Consumer&lt;?, ?&gt; consumer, Collection&lt;TopicPartition&gt; partitions) {\r\n               // here partitions\r\n            }\r\n        };\r\n    }\r\n\r\nAnd then add it, for example, to ConcurrentKafkaListenerContainerFactory\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; kafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n     \r\n        ContainerProperties props = factory.getContainerProperties();\r\n        props.setConsumerRebalanceListener(rebalanceListener());\r\n\r\n        return factory;\r\n    }","title":"Spring Kafka get assigned partitions","body":"<p>Yes, you can do:</p>\n\n<pre><code>@Bean\npublic ConsumerAwareRebalanceListener rebalanceListener() {\n    return new ConsumerAwareRebalanceListener() { \n        @Override\n        public void onPartitionsAssigned(Consumer&lt;?, ?&gt; consumer, Collection&lt;TopicPartition&gt; partitions) {\n           // here partitions\n        }\n    };\n}\n</code></pre>\n\n<p>And then add it, for example, to ConcurrentKafkaListenerContainerFactory</p>\n\n<pre><code>@Bean\npublic ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; kafkaListenerContainerFactory() {\n    ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n\n    ContainerProperties props = factory.getContainerProperties();\n    props.setConsumerRebalanceListener(rebalanceListener());\n\n    return factory;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":249943,"reputation":335,"user_id":526330,"accept_rate":80,"display_name":"Mario"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536820267,"creation_date":1536820267,"answer_id":52307808,"question_id":48879578,"body_markdown":"I did it in different way by using `KafkaListenerEndpointRegistry`\r\n\r\n    for (MessageListenerContainer messageListenerContainer : kafkaListenerEndpointRegistry.getListenerContainers()) {\r\n                List&lt;KafkaMessageListenerContainer&gt; containers = ((ConcurrentMessageListenerContainer) messageListenerContainer).getContainers();\r\n\r\n                List&lt;TopicPartition&gt; topicPartitions = (List&lt;TopicPartition&gt;) containers.stream().flatMap(kafkaMessageListenerContainer -&gt;\r\n                                kafkaMessageListenerContainer.getAssignedPartitions().stream()).collect(Collectors.toList());\r\n\r\n                partitions.addAll(topicPartitions.stream().map(TopicPartition::partition).collect(Collectors.toList()));\r\n    }","title":"Spring Kafka get assigned partitions","body":"<p>I did it in different way by using <code>KafkaListenerEndpointRegistry</code></p>\n\n<pre><code>for (MessageListenerContainer messageListenerContainer : kafkaListenerEndpointRegistry.getListenerContainers()) {\n            List&lt;KafkaMessageListenerContainer&gt; containers = ((ConcurrentMessageListenerContainer) messageListenerContainer).getContainers();\n\n            List&lt;TopicPartition&gt; topicPartitions = (List&lt;TopicPartition&gt;) containers.stream().flatMap(kafkaMessageListenerContainer -&gt;\n                            kafkaMessageListenerContainer.getAssignedPartitions().stream()).collect(Collectors.toList());\n\n            partitions.addAll(topicPartitions.stream().map(TopicPartition::partition).collect(Collectors.toList()));\n}\n</code></pre>\n"}],"owner":{"account_id":249943,"reputation":335,"user_id":526330,"accept_rate":80,"display_name":"Mario"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4469,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1695562039,"creation_date":1519110247,"question_id":48879578,"body_markdown":"I know I can find out from which partition record comes in, but I wonder is any way to dynamically get which partitions are assigned for consumers at specific moment? Maybe I need to implement some listener to detect and follow up partitions assignation info?\r\n\r\nI am using `spring-kafka 1.3.2` with `ConcurrentKafkaListenerContainerFactory` and `@KafkaListener`.","title":"Spring Kafka get assigned partitions","body":"<p>I know I can find out from which partition record comes in, but I wonder is any way to dynamically get which partitions are assigned for consumers at specific moment? Maybe I need to implement some listener to detect and follow up partitions assignation info?</p>\n\n<p>I am using <code>spring-kafka 1.3.2</code> with <code>ConcurrentKafkaListenerContainerFactory</code> and <code>@KafkaListener</code>.</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1543502073,"creation_date":1543502073,"answer_id":53541369,"question_id":53538212,"body_markdown":"Consider to use this method on the `ConcurrentKafkaListenerContainerFactory`:\r\n\r\n    /**\r\n\t * Obtain the properties template for this factory - set properties as needed\r\n\t * and they will be copied to a final properties instance for the endpoint.\r\n\t * @return the properties.\r\n\t */\r\n\tpublic ContainerProperties getContainerProperties() {\r\n\r\nThis is where you can add your `ConsumerRebalanceListener`. You `@Autowired` an auto-configured `ConcurrentKafkaListenerContainerFactory` and perform the mentioned injection:\r\n\r\n    @Autowired\r\n    private ConcurrentKafkaListenerContainerFactory containerFactory;\r\n    \r\n    @PostConstruct\r\n    public void init() {\r\n        this.containerFactory.getContainerProperties()\r\n                .setConsumerRebalanceListener(myConsumerRebalanceListener());\r\n    }\r\n    \r\n    @Bean\r\n    public ConsumerRebalanceListener myConsumerRebalanceListener() {\r\n        return new ConsumerRebalanceListener() {\r\n            ...\r\n        };\r\n    }\r\n\r\n","title":"Adding ConsumerRebalanceListener to the ConcurrentKafkaListenerContainerFactory","body":"<p>Consider to use this method on the <code>ConcurrentKafkaListenerContainerFactory</code>:</p>\n\n<pre><code>/**\n * Obtain the properties template for this factory - set properties as needed\n * and they will be copied to a final properties instance for the endpoint.\n * @return the properties.\n */\npublic ContainerProperties getContainerProperties() {\n</code></pre>\n\n<p>This is where you can add your <code>ConsumerRebalanceListener</code>. You <code>@Autowired</code> an auto-configured <code>ConcurrentKafkaListenerContainerFactory</code> and perform the mentioned injection:</p>\n\n<pre><code>@Autowired\nprivate ConcurrentKafkaListenerContainerFactory containerFactory;\n\n@PostConstruct\npublic void init() {\n    this.containerFactory.getContainerProperties()\n            .setConsumerRebalanceListener(myConsumerRebalanceListener());\n}\n\n@Bean\npublic ConsumerRebalanceListener myConsumerRebalanceListener() {\n    return new ConsumerRebalanceListener() {\n        ...\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":971950,"reputation":83,"user_id":3779469,"display_name":"Neil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2333,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":53541369,"answer_count":1,"score":4,"last_activity_date":1695562024,"creation_date":1543491568,"question_id":53538212,"body_markdown":"In a Spring Boot application I&#39;m using a class annotated with @KafkaListener as a message listener. I want to add a ConsumerRebalanceLister to my application to manage cached data on a rebalance.\r\n\r\nHow do I add a ConsumerRebalanceListener to a ConcurrentKafkaListenerContainerFactory. The [documentation][1] says that it should be set on a ContainerProperties object. It&#39;s not clear how to access that object in order to set it. Additionally, it looks like the [ConcurrentKafkaListenerContainerFactory][2] throws away the rebalance listener since it creates a new ContainerProperties object when creating a listener container instance.\r\n\r\nI feel like I&#39;m missing something really obvious here, before [this commit][3] there was a method to simply set the rebalance listener directly on the ConcurrentKafkaListenerContainerFactory.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-kafka/reference/htmlsingle/#rebalance-listeners\r\n  [2]: https://github.com/spring-projects/spring-kafka/blob/v2.1.10.RELEASE/spring-kafka/src/main/java/org/springframework/kafka/config/ConcurrentKafkaListenerContainerFactory.java\r\n  [3]: https://github.com/neilg/spring-kafka/commit/31541fe58e8b1265728301106027b250657aaeb2","title":"Adding ConsumerRebalanceListener to the ConcurrentKafkaListenerContainerFactory","body":"<p>In a Spring Boot application I'm using a class annotated with @KafkaListener as a message listener. I want to add a ConsumerRebalanceLister to my application to manage cached data on a rebalance.</p>\n\n<p>How do I add a ConsumerRebalanceListener to a ConcurrentKafkaListenerContainerFactory. The <a href=\"https://docs.spring.io/spring-kafka/reference/htmlsingle/#rebalance-listeners\" rel=\"nofollow noreferrer\">documentation</a> says that it should be set on a ContainerProperties object. It's not clear how to access that object in order to set it. Additionally, it looks like the <a href=\"https://github.com/spring-projects/spring-kafka/blob/v2.1.10.RELEASE/spring-kafka/src/main/java/org/springframework/kafka/config/ConcurrentKafkaListenerContainerFactory.java\" rel=\"nofollow noreferrer\">ConcurrentKafkaListenerContainerFactory</a> throws away the rebalance listener since it creates a new ContainerProperties object when creating a listener container instance.</p>\n\n<p>I feel like I'm missing something really obvious here, before <a href=\"https://github.com/neilg/spring-kafka/commit/31541fe58e8b1265728301106027b250657aaeb2\" rel=\"nofollow noreferrer\">this commit</a> there was a method to simply set the rebalance listener directly on the ConcurrentKafkaListenerContainerFactory.</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1695561792,"post_id":77164947,"comment_id":136038123,"body_markdown":"Please clarify &quot;other consumers&quot;. Are they all unique consumer groups? If so, you&#39;ll get messages 1-3 again as well, assuming auto.offset.reset=earliest","body":"Please clarify &quot;other consumers&quot;. Are they all unique consumer groups? If so, you&#39;ll get messages 1-3 again as well, assuming auto.offset.reset=earliest"},{"owner":{"account_id":25771,"reputation":21236,"user_id":66519,"accept_rate":99,"display_name":"ojblass"},"score":0,"creation_date":1695589686,"post_id":77164947,"comment_id":136041084,"body_markdown":"In theory I will have a many consumer part of the same consumer group.  Looking at this value I do have kafka.consumer.auto-offset-reset=earliest in my config.  But the important thing is that if other consumers are in the same group they will get the nacked messages and I won&#39;t get redelivery?","body":"In theory I will have a many consumer part of the same consumer group.  Looking at this value I do have kafka.consumer.auto-offset-reset=earliest in my config.  But the important thing is that if other consumers are in the same group they will get the nacked messages and I won&#39;t get redelivery?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1695647838,"post_id":77164947,"comment_id":136048459,"body_markdown":"Consumers in the same group cannot be assigned the same partitions. Anything being acked/nacked is specific to one partition. If your consumer group rebalances, then `auto.offset.reset` property is used to determine offset position, and it defaults to end of every partition, maybe causing you to skip processing data previously sent... If you set to earliest, then you should expect it to reprocess nacked (aka uncommitted) offsets","body":"Consumers in the same group cannot be assigned the same partitions. Anything being acked/nacked is specific to one partition. If your consumer group rebalances, then <code>auto.offset.reset</code> property is used to determine offset position, and it defaults to end of every partition, maybe causing you to skip processing data previously sent... If you set to earliest, then you should expect it to reprocess nacked (aka uncommitted) offsets"}],"owner":{"account_id":25771,"reputation":21236,"user_id":66519,"accept_rate":99,"display_name":"ojblass"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695561733,"creation_date":1695503815,"question_id":77164947,"body_markdown":"I have a producer and a consumer.  I have the consumer set up to create threads for the first three messages and return an \r\n\r\n    acknowledge.nack(6000L);\r\n\r\nfor messages 4, 5, 6, 7, etc.  My understanding and observation is that those messages are redelivered.  My test system only has one consumer. \r\n\r\nMy question is pretty basic but foundational.  If I have other consumers will they get a chance to pick up the &#39;nacked&#39; messages or will it only be redelivered back to this exact consumer.  I apologize is this is obvious but I am completely new to this technology.","title":"Kafka nack() can another consumer pick it up or will it be returned to the same server?","body":"<p>I have a producer and a consumer.  I have the consumer set up to create threads for the first three messages and return an</p>\n<pre><code>acknowledge.nack(6000L);\n</code></pre>\n<p>for messages 4, 5, 6, 7, etc.  My understanding and observation is that those messages are redelivered.  My test system only has one consumer.</p>\n<p>My question is pretty basic but foundational.  If I have other consumers will they get a chance to pick up the 'nacked' messages or will it only be redelivered back to this exact consumer.  I apologize is this is obvious but I am completely new to this technology.</p>\n"},{"tags":["java","javascript","regex"],"comments":[{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":1,"creation_date":1309950993,"post_id":6595477,"comment_id":7781072,"body_markdown":"Not seeing much point to the first example, as it&#39;s equivalent to `[def]`. Am I missing something? The second one makes sense (and is cool).","body":"Not seeing much point to the first example, as it&#39;s equivalent to <code>[def]</code>. Am I missing something? The second one makes sense (and is cool)."},{"owner":{"account_id":4895,"reputation":136019,"user_id":7586,"accept_rate":83,"display_name":"Kobi"},"score":1,"creation_date":1309951317,"post_id":6595477,"comment_id":7781150,"body_markdown":"It wouldn&#39;t be much use anyway because JavaScript has limited shorthand character classes, and no Unicode support. I guess it *might* be useful for Unicode ranges, but it doesn&#39;t save much typing. What exactly do you need?","body":"It wouldn&#39;t be much use anyway because JavaScript has limited shorthand character classes, and no Unicode support. I guess it <i>might</i> be useful for Unicode ranges, but it doesn&#39;t save much typing. What exactly do you need?"},{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":1,"creation_date":1309953314,"post_id":6595477,"comment_id":7781673,"body_markdown":"@Kobi: What do you mean &quot;no Unicode support&quot;? JavaScript uses Unicode natively (UTF-16, specifically) and supports Unicode escape sequences in regular expressions, including within character classes.","body":"@Kobi: What do you mean &quot;no Unicode support&quot;? JavaScript uses Unicode natively (UTF-16, specifically) and supports Unicode escape sequences in regular expressions, including within character classes."},{"owner":{"account_id":4895,"reputation":136019,"user_id":7586,"accept_rate":83,"display_name":"Kobi"},"score":1,"creation_date":1309953582,"post_id":6595477,"comment_id":7781749,"body_markdown":"@TJ - I meant JavaScript&#39;s regular expressions, not JavaScript as a whole. It can&#39;t make `&#39;&#39;.match(/\\w+/)` match (i.e. no `/u` flag), and doesn&#39;t have `\\p{L}` shorthand character classes. You can define them yourself, of course, but that isn&#39;t fun.","body":"@TJ - I meant JavaScript&#39;s regular expressions, not JavaScript as a whole. It can&#39;t make <code>&#39;&#39;.match(&#47;\\w+&#47;)</code> match (i.e. no <code>&#47;u</code> flag), and doesn&#39;t have <code>\\p{L}</code> shorthand character classes. You can define them yourself, of course, but that isn&#39;t fun."},{"owner":{"account_id":10809,"reputation":97278,"user_id":20578,"accept_rate":91,"display_name":"Paul D. Waite"},"score":0,"creation_date":1309958112,"post_id":6595477,"comment_id":7783202,"body_markdown":"@T.J.: I know what you mean about the first example - I guess they didn&#39;t want to distract us with usefulness?","body":"@T.J.: I know what you mean about the first example - I guess they didn&#39;t want to distract us with usefulness?"},{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1309959328,"post_id":6595477,"comment_id":7783608,"body_markdown":"@Kobi: I was talking about regular expressions. It&#39;s true that the definition of `\\w` is English-centric (which is odd, the definition of `\\s` isn&#39;t, it includes all Unicode &quot;space separator&quot; characters, though implementations sometimes get that wrong). But because `\\w` is defined in a simplistic way (and one I really hope they fix in v6), that doesn&#39;t mean there&#39;s &quot;no Unicode support.&quot;","body":"@Kobi: I was talking about regular expressions. It&#39;s true that the definition of <code>\\w</code> is English-centric (which is odd, the definition of <code>\\s</code> isn&#39;t, it includes all Unicode &quot;space separator&quot; characters, though implementations sometimes get that wrong). But because <code>\\w</code> is defined in a simplistic way (and one I really hope they fix in v6), that doesn&#39;t mean there&#39;s &quot;no Unicode support.&quot;"},{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1309959873,"post_id":6595477,"comment_id":7783813,"body_markdown":"@Kobi: Actually, I shouldn&#39;t even call the `\\w` definition English-centric, as it breaks on lots of English words (mostly ones we&#39;ve adopted from other languages, but long enough ago to be really English now), like &quot;na&#239;ve&quot;.","body":"@Kobi: Actually, I shouldn&#39;t even call the <code>\\w</code> definition English-centric, as it breaks on lots of English words (mostly ones we&#39;ve adopted from other languages, but long enough ago to be really English now), like &quot;na&#239;ve&quot;."}],"answers":[{"tags":[],"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1309957308,"creation_date":1309951038,"answer_id":6595515,"question_id":6595477,"body_markdown":"&gt; Is there an equivalent in JavaScript?\r\n\r\nSimple answer: no, there&#39;s not. It is specific Java syntax.\r\n\r\nSee: [Regular Expressions Cookbook][1] by Jan Goyvaerts and Steven Levithan. Here&#39;s [a sneak-peek to the relevant section][2].\r\n\r\nProbably needless to say, but the following JavaScript code: \r\n\r\n    if(s.match(/^[a-z]$/) &amp;&amp; s.match(/[^bc]/)) { ... }\r\n\r\nwould do the same as the Java code:\r\n\r\n    if(s.matches(&quot;[a-z&amp;&amp;[^bc]]&quot;)) { ... }\r\n\r\n  [1]: http://oreilly.com/catalog/9780596520694\r\n  [2]: http://books.google.com/books?id=yY_EsWFMj-QC&amp;pg=PA33&amp;lpg=PA33&amp;dq=java%20%22character%20class%22%20intersection&amp;source=bl&amp;ots=dDHdsT41UF&amp;sig=2Y9zXezzVXNOS-i2NGIiv1K-TGc&amp;hl=en&amp;ei=EUgUTvDcFIOBOq6VoKYL&amp;sa=X&amp;oi=book_result&amp;ct=result&amp;resnum=6&amp;ved=0CEwQ6AEwBQ#v=onepage&amp;q=java%20%22character%20class%22%20intersection&amp;f=false","title":"Is there a JavaScript regex equivalent to the intersection (&amp;&amp;) operator in Java regexes?","body":"<blockquote>\n  <p>Is there an equivalent in JavaScript?</p>\n</blockquote>\n\n<p>Simple answer: no, there's not. It is specific Java syntax.</p>\n\n<p>See: <a href=\"http://oreilly.com/catalog/9780596520694\" rel=\"noreferrer\">Regular Expressions Cookbook</a> by Jan Goyvaerts and Steven Levithan. Here's <a href=\"http://books.google.com/books?id=yY_EsWFMj-QC&amp;pg=PA33&amp;lpg=PA33&amp;dq=java%20%22character%20class%22%20intersection&amp;source=bl&amp;ots=dDHdsT41UF&amp;sig=2Y9zXezzVXNOS-i2NGIiv1K-TGc&amp;hl=en&amp;ei=EUgUTvDcFIOBOq6VoKYL&amp;sa=X&amp;oi=book_result&amp;ct=result&amp;resnum=6&amp;ved=0CEwQ6AEwBQ#v=onepage&amp;q=java%20%22character%20class%22%20intersection&amp;f=false\" rel=\"noreferrer\">a sneak-peek to the relevant section</a>.</p>\n\n<p>Probably needless to say, but the following JavaScript code: </p>\n\n<pre><code>if(s.match(/^[a-z]$/) &amp;&amp; s.match(/[^bc]/)) { ... }\n</code></pre>\n\n<p>would do the same as the Java code:</p>\n\n<pre><code>if(s.matches(\"[a-z&amp;&amp;[^bc]]\")) { ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10809,"reputation":97278,"user_id":20578,"accept_rate":91,"display_name":"Paul D. Waite"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1385978194,"creation_date":1310380234,"answer_id":6648807,"question_id":6595477,"body_markdown":"You can get the same result as the Java regexes in JavaScript by writing out the character classes longhand, e.g.\r\n\r\n    Java           JavaScript   English\r\n    ------------   ----------   -------\r\n    [a-z&amp;&amp;[def]]   [def]        d, e, or f\r\n    [a-z&amp;&amp;[^bc]]   [ad-z]       a through z, except for b and c\r\n\r\nIts just a bit more verbose/obscure in some circumstances, e.g.\r\n\r\n    Java               JavaScript\r\n    ----------------   -----------\r\n    [A-Z&amp;&amp;[^QVX]]      [A-PR-UWYZ]\r\n    [A-Z&amp;&amp;[^CIKMOV]]   [ABD-HJLNP-UW-Z]","title":"Is there a JavaScript regex equivalent to the intersection (&amp;&amp;) operator in Java regexes?","body":"<p>You can get the same result as the Java regexes in JavaScript by writing out the character classes longhand, e.g.</p>\n\n<pre><code>Java           JavaScript   English\n------------   ----------   -------\n[a-z&amp;&amp;[def]]   [def]        d, e, or f\n[a-z&amp;&amp;[^bc]]   [ad-z]       a through z, except for b and c\n</code></pre>\n\n<p>Its just a bit more verbose/obscure in some circumstances, e.g.</p>\n\n<pre><code>Java               JavaScript\n----------------   -----------\n[A-Z&amp;&amp;[^QVX]]      [A-PR-UWYZ]\n[A-Z&amp;&amp;[^CIKMOV]]   [ABD-HJLNP-UW-Z]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1412353427,"creation_date":1412353427,"answer_id":26182882,"question_id":6595477,"body_markdown":"As others have said, there isn&#39;t an equivalent, but you can achieve the effect of `&amp;&amp;` using a look-ahead. The transformation is:\r\n\r\n    [classA&amp;&amp;classB]\r\n\r\nbecomes:\r\n\r\n    (?=classA)classB\r\n\r\nFor instance, this in Java:\r\n\r\n    [a-z&amp;&amp;[^bc]]\r\n\r\nhas the same behavior as this:\r\n\r\n    (?=[a-z])[^bc]\r\n\r\nwhich is fully supported in JavaScript. I don&#39;t know the relative performance of the two forms (in engines like Java and Ruby that support both).\r\n\r\nSince the `&amp;&amp;` operator is commutative, you can always use either side for the (positive or negative) look-ahead part.\r\n\r\nIntersection of a class with a negated class can also be implemented with negative look-ahead. So the example above could also have been transformed to:\r\n\r\n    (?![bc])[a-z]","title":"Is there a JavaScript regex equivalent to the intersection (&amp;&amp;) operator in Java regexes?","body":"<p>As others have said, there isn't an equivalent, but you can achieve the effect of <code>&amp;&amp;</code> using a look-ahead. The transformation is:</p>\n\n<pre><code>[classA&amp;&amp;classB]\n</code></pre>\n\n<p>becomes:</p>\n\n<pre><code>(?=classA)classB\n</code></pre>\n\n<p>For instance, this in Java:</p>\n\n<pre><code>[a-z&amp;&amp;[^bc]]\n</code></pre>\n\n<p>has the same behavior as this:</p>\n\n<pre><code>(?=[a-z])[^bc]\n</code></pre>\n\n<p>which is fully supported in JavaScript. I don't know the relative performance of the two forms (in engines like Java and Ruby that support both).</p>\n\n<p>Since the <code>&amp;&amp;</code> operator is commutative, you can always use either side for the (positive or negative) look-ahead part.</p>\n\n<p>Intersection of a class with a negated class can also be implemented with negative look-ahead. So the example above could also have been transformed to:</p>\n\n<pre><code>(?![bc])[a-z]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27900922,"reputation":5928,"user_id":21305238,"display_name":"InSync"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695561124,"creation_date":1695561124,"answer_id":77167237,"question_id":6595477,"body_markdown":"## 2023 answer: Yes, there is.\r\n\r\nWith [the `v` flag][1]:\r\n\r\n```none\r\n[[a-z]&amp;&amp;[def]]\r\n[[a-z]&amp;&amp;[^bc]]\r\n```\r\n\r\nTry them [on regex101.com][2].\r\n\r\nYou can also do subtraction: `[[a-z]--[bc]]`. More information can be found [on MDN][3].\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/unicodeSets\r\n  [2]: https://regex101.com/r/xdSyvR/1\r\n  [3]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Character_class#v-mode_character_class","title":"Is there a JavaScript regex equivalent to the intersection (&amp;&amp;) operator in Java regexes?","body":"<h2>2023 answer: Yes, there is.</h2>\n<p>With <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/unicodeSets\" rel=\"nofollow noreferrer\">the <code>v</code> flag</a>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[[a-z]&amp;&amp;[def]]\n[[a-z]&amp;&amp;[^bc]]\n</code></pre>\n<p>Try them <a href=\"https://regex101.com/r/xdSyvR/1\" rel=\"nofollow noreferrer\">on regex101.com</a>.</p>\n<p>You can also do subtraction: <code>[[a-z]--[bc]]</code>. More information can be found <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Character_class#v-mode_character_class\" rel=\"nofollow noreferrer\">on MDN</a>.</p>\n"}],"owner":{"account_id":10809,"reputation":97278,"user_id":20578,"accept_rate":91,"display_name":"Paul D. Waite"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2168,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"closed_date":1697837931,"accepted_answer_id":6595515,"answer_count":4,"score":10,"last_activity_date":1695561124,"creation_date":1309950821,"question_id":6595477,"body_markdown":"In Java regexes, you can use the intersection operator `&amp;&amp;` in character classes to define them succinctly, e.g.\r\n\r\n    [a-z&amp;&amp;[def]]\t// d, e, or f\r\n    [a-z&amp;&amp;[^bc]]\t// a through z, except for b and c\r\n\r\nIs there an equivalent in JavaScript?","title":"Is there a JavaScript regex equivalent to the intersection (&amp;&amp;) operator in Java regexes?","body":"<p>In Java regexes, you can use the intersection operator <code>&amp;&amp;</code> in character classes to define them succinctly, e.g.</p>\n\n<pre><code>[a-z&amp;&amp;[def]]    // d, e, or f\n[a-z&amp;&amp;[^bc]]    // a through z, except for b and c\n</code></pre>\n\n<p>Is there an equivalent in JavaScript?</p>\n"},{"tags":["java","apache-zookeeper"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679060251,"creation_date":1679059950,"answer_id":75768195,"question_id":75763673,"body_markdown":"Kafka does not support Java 19. The latest known working version for Kafka is 17. The Zookeeper documentation doesn&#39;t mention anything above JDK 12.\r\n\r\nIn any case, the error is suggesting you&#39;ve not exported `JAVA_HOME` variable on your machine, or if you have, then it&#39;s pointed at the wrong location since it should otherwise fallback to running `java` directly, as you&#39;ve shown\r\n\r\nYou also don&#39;t need sudo to run Kafka or Zookeeper ","title":"&quot;Unable to locate a Java Runtime&quot; while starting kafka and zookeeper service","body":"<p>Kafka does not support Java 19. The latest known working version for Kafka is 17. The Zookeeper documentation doesn't mention anything above JDK 12.</p>\n<p>In any case, the error is suggesting you've not exported <code>JAVA_HOME</code> variable on your machine, or if you have, then it's pointed at the wrong location since it should otherwise fallback to running <code>java</code> directly, as you've shown</p>\n<p>You also don't need sudo to run Kafka or Zookeeper</p>\n"}],"owner":{"account_id":27664970,"reputation":13,"user_id":21117000,"display_name":"coderllawliet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75768195,"answer_count":1,"score":-1,"last_activity_date":1695559551,"creation_date":1679025914,"question_id":75763673,"body_markdown":"I am trying to run Kafka and Zookeeper services locally on MacOS; so I am following these steps : https://kafka.apache.org/quickstart \r\n\r\nBut when I am entering this command `sudo bin/zookeeper-server-start.sh config/zookeeper.properties` ; it is throwing this error -&gt;\r\n```\r\nThe operation couldnt be completed. Unable to locate a Java Runtime.\r\nPlease visit http://www.java.com for information on installing Java.\r\n```\r\n\r\nBut I have java installed locally.\r\n```\r\n(base) sourav.kumar@PFIN-BLR-1RC9W kafka_2.13-3.4.0 % which java\r\n/usr/bin/java\r\n(base) sourav.kumar@PFIN-BLR-1RC9W kafka_2.13-3.4.0 % which javac\r\n/usr/bin/javac\r\n(base) sourav.kumar@PFIN-BLR-1RC9W kafka_2.13-3.4.0 % java -version\r\nopenjdk version &quot;19.0.2&quot; 2023-01-17\r\nOpenJDK Runtime Environment (build 19.0.2+7-44)\r\nOpenJDK 64-Bit Server VM (build 19.0.2+7-44, mixed mode, sharing)\r\n(base) sourav.kumar@PFIN-BLR-1RC9W kafka_2.13-3.4.0 % /usr/bin/java -version\r\nopenjdk version &quot;19.0.2&quot; 2023-01-17\r\nOpenJDK Runtime Environment (build 19.0.2+7-44)\r\nOpenJDK 64-Bit Server VM (build 19.0.2+7-44, mixed mode, sharing)\r\n(base) sourav.kumar@PFIN-BLR-1RC9W kafka_2.13-3.4.0 % javac -version\r\njavac 19.0.2\r\n```\r\n","title":"&quot;Unable to locate a Java Runtime&quot; while starting kafka and zookeeper service","body":"<p>I am trying to run Kafka and Zookeeper services locally on MacOS; so I am following these steps : <a href=\"https://kafka.apache.org/quickstart\" rel=\"nofollow noreferrer\">https://kafka.apache.org/quickstart</a></p>\n<p>But when I am entering this command <code>sudo bin/zookeeper-server-start.sh config/zookeeper.properties</code> ; it is throwing this error -&gt;</p>\n<pre><code>The operation couldnt be completed. Unable to locate a Java Runtime.\nPlease visit http://www.java.com for information on installing Java.\n</code></pre>\n<p>But I have java installed locally.</p>\n<pre><code>(base) sourav.kumar@PFIN-BLR-1RC9W kafka_2.13-3.4.0 % which java\n/usr/bin/java\n(base) sourav.kumar@PFIN-BLR-1RC9W kafka_2.13-3.4.0 % which javac\n/usr/bin/javac\n(base) sourav.kumar@PFIN-BLR-1RC9W kafka_2.13-3.4.0 % java -version\nopenjdk version &quot;19.0.2&quot; 2023-01-17\nOpenJDK Runtime Environment (build 19.0.2+7-44)\nOpenJDK 64-Bit Server VM (build 19.0.2+7-44, mixed mode, sharing)\n(base) sourav.kumar@PFIN-BLR-1RC9W kafka_2.13-3.4.0 % /usr/bin/java -version\nopenjdk version &quot;19.0.2&quot; 2023-01-17\nOpenJDK Runtime Environment (build 19.0.2+7-44)\nOpenJDK 64-Bit Server VM (build 19.0.2+7-44, mixed mode, sharing)\n(base) sourav.kumar@PFIN-BLR-1RC9W kafka_2.13-3.4.0 % javac -version\njavac 19.0.2\n</code></pre>\n"},{"tags":["java","byte","javac","unsigned-integer"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":0,"creation_date":1672142830,"post_id":74929039,"comment_id":132228037,"body_markdown":"Try what happens when you don&#39;t do the masking and think about why this happens.","body":"Try what happens when you don&#39;t do the masking and think about why this happens."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1672145109,"post_id":74929039,"comment_id":132228600,"body_markdown":"No, masking does nothing to affect byte values.  It only affects ints.","body":"No, masking does nothing to affect byte values.  It only affects ints."},{"owner":{"account_id":14035647,"reputation":851,"user_id":10138416,"display_name":"linker"},"score":0,"creation_date":1672263737,"post_id":74929039,"comment_id":132255766,"body_markdown":"@tkausl since you missed the point, have a look at the accepted answer, you may want to think about why this happened.","body":"@tkausl since you missed the point, have a look at the accepted answer, you may want to think about why this happened."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1695559237,"creation_date":1672151314,"answer_id":74930548,"question_id":74929039,"body_markdown":"&gt;     byte signed  = -1;// -&gt; 0b11111111\r\n\r\nCorrect.\r\n\r\n&gt;     int unsigned = signed &amp; 0xFF;// -&gt; 0b11111111 &amp; 0b11111111\r\n\r\nThis is not correct.  There are 3 steps.\r\n\r\n1.  The value of `signed` is converted (sign-extended) to an `int`; i.e. `0b11111111` becomes `0b11111111111111111111111111111111` (= 0xFFFFFFFF)\r\n\r\n2.  The `0b11111111111111111111111111111111` (= `0xFFFFFFFF`) is ANDed with `0b00000000000000000000000011111111` (= `0x000000FF`) to give `0b00000000000000000000000011111111` (= `0x000000FF`)`\r\n\r\n3. `0b00000000000000000000000011111111` (= `0x000000FF`) is assigned to `unsigned`.\r\n\r\n(Note: it is important to write this out in full so that you understand what happens.)\r\n\r\n&gt;     byte resigned = (byte) unsigned;\r\n\r\nThere are two steps here too.\r\n\r\n1. The cast `(byte)` converts `0b00000000000000000000000011111111` (= `0x000000FF`)\r\n to `0b11111111` (= `0xFF`) i.e. it converts the `int` to a `byte`.\r\n\r\n2. Then the byte `0b11111111` (= `0xFF`) is assigned to `resigned`.\r\n\r\n---------------------------\r\n\r\n&gt;  So it seems nothing really happens to the actual signed value for the unsigned int to be possible.\r\n\r\nBut something did happen!  The `&amp;` operator started with the sign-extended value `0b11111111111111111111111111111111`  (which represents -1) and converted it to `0b00000000000000000000000011111111` (which represents 255).\r\n\r\nAnd you can *verify* that something happened by running this:\r\n\r\n      byte signed  = -1; // -&gt; 0b11111111\r\n      int x = signed;\r\n      System.out.println(&quot;x: &quot; + x); // prints -1 \r\n\r\nThe fact that you ended up with the same value as you started with doesn&#39;t mean that nothing happened.  Something did happen.  You converted the `byte` value `-1` to the `int` value `255`, and then you converted it back to the byte `-1`.\r\n\r\nYou can also verify this by reading the relevant sections of the Java Language Specification.   (Let me know if you need the references.)\r\n\r\n-------------------------\r\n\r\n&gt; Does masking actually do anything to the (byte) value of an integer or its just a way to flag how javac should treat the integer?\r\n\r\nMasking really did something.\r\n\r\n-------------------------\r\n\r\nIf you were to look at the bytecodes produced by the `javac` compiler you would see codes to do the `byte` to `int` conversion, the masking and the assignment.  Then in the other direction, you would see a bytecode to do an `int` to `byte` conversion.\r\n\r\nHowever, that is an implementation detail.","title":"How does masking work with int/Integer in java?","body":"<blockquote>\n<pre><code>byte signed  = -1;// -&gt; 0b11111111\n</code></pre>\n</blockquote>\n<p>Correct.</p>\n<blockquote>\n<pre><code>int unsigned = signed &amp; 0xFF;// -&gt; 0b11111111 &amp; 0b11111111\n</code></pre>\n</blockquote>\n<p>This is not correct.  There are 3 steps.</p>\n<ol>\n<li><p>The value of <code>signed</code> is converted (sign-extended) to an <code>int</code>; i.e. <code>0b11111111</code> becomes <code>0b11111111111111111111111111111111</code> (= 0xFFFFFFFF)</p>\n</li>\n<li><p>The <code>0b11111111111111111111111111111111</code> (= <code>0xFFFFFFFF</code>) is ANDed with <code>0b00000000000000000000000011111111</code> (= <code>0x000000FF</code>) to give <code>0b00000000000000000000000011111111</code> (= <code>0x000000FF</code>)`</p>\n</li>\n<li><p><code>0b00000000000000000000000011111111</code> (= <code>0x000000FF</code>) is assigned to <code>unsigned</code>.</p>\n</li>\n</ol>\n<p>(Note: it is important to write this out in full so that you understand what happens.)</p>\n<blockquote>\n<pre><code>byte resigned = (byte) unsigned;\n</code></pre>\n</blockquote>\n<p>There are two steps here too.</p>\n<ol>\n<li><p>The cast <code>(byte)</code> converts <code>0b00000000000000000000000011111111</code> (= <code>0x000000FF</code>)\nto <code>0b11111111</code> (= <code>0xFF</code>) i.e. it converts the <code>int</code> to a <code>byte</code>.</p>\n</li>\n<li><p>Then the byte <code>0b11111111</code> (= <code>0xFF</code>) is assigned to <code>resigned</code>.</p>\n</li>\n</ol>\n<hr />\n<blockquote>\n<p>So it seems nothing really happens to the actual signed value for the unsigned int to be possible.</p>\n</blockquote>\n<p>But something did happen!  The <code>&amp;</code> operator started with the sign-extended value <code>0b11111111111111111111111111111111</code>  (which represents -1) and converted it to <code>0b00000000000000000000000011111111</code> (which represents 255).</p>\n<p>And you can <em>verify</em> that something happened by running this:</p>\n<pre><code>  byte signed  = -1; // -&gt; 0b11111111\n  int x = signed;\n  System.out.println(&quot;x: &quot; + x); // prints -1 \n</code></pre>\n<p>The fact that you ended up with the same value as you started with doesn't mean that nothing happened.  Something did happen.  You converted the <code>byte</code> value <code>-1</code> to the <code>int</code> value <code>255</code>, and then you converted it back to the byte <code>-1</code>.</p>\n<p>You can also verify this by reading the relevant sections of the Java Language Specification.   (Let me know if you need the references.)</p>\n<hr />\n<blockquote>\n<p>Does masking actually do anything to the (byte) value of an integer or its just a way to flag how javac should treat the integer?</p>\n</blockquote>\n<p>Masking really did something.</p>\n<hr />\n<p>If you were to look at the bytecodes produced by the <code>javac</code> compiler you would see codes to do the <code>byte</code> to <code>int</code> conversion, the masking and the assignment.  Then in the other direction, you would see a bytecode to do an <code>int</code> to <code>byte</code> conversion.</p>\n<p>However, that is an implementation detail.</p>\n"}],"owner":{"account_id":14035647,"reputation":851,"user_id":10138416,"display_name":"linker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74930548,"answer_count":1,"score":0,"last_activity_date":1695559237,"creation_date":1672142669,"question_id":74929039,"body_markdown":"Since bytes are signed in java, in order to obtain unsigned integer values we mask with 0xFF asper:\r\n\r\n    byte signed  = -1;// -&gt; 0b11111111\r\n    int unsigned = signed &amp; 0xFF;// -&gt; 0b11111111 &amp; 0b11111111\r\n    System.out.println(unsigned: +unsigned);//prints 255 instead of -1 since we masked earlier\r\n\r\nBut when the unsigned `int` is casted to a byte it seems nothing happens to it really i.e.\r\n\r\n    byte resigned = (byte) unsigned;\r\n    System.out.println(resigned: +resigned);//same value as earlier signed = -1\r\n\r\nTaking a closer look at the initial operation \r\n\r\n    int unsigned = signed &amp; 0xFF;// the result of 0b11111111 &amp; 0b11111111 is actually = 0b11111111 \r\n\r\nEven if the value of signed were something else say we had\r\n\r\n    byte  signed  = -44;// -&gt; 0b11010100\r\n    int  unsigned = signed &amp; 0xFF;// the result of 0b11010100 &amp; 0b11111111 is still actually = 0b11010100 \r\n    byte resigned = (byte) unsigned;\r\n    System.out.println(resigned: +resigned);//same value as signed = -44\r\n\r\nSo it seems nothing really happens to the actual signed value for the unsigned `int` to be possible.\r\n\r\nDoes masking actually do anything to the (byte) value of an integer or its just a way to flag how `javac` should treat the integer?\r\n\r\n","title":"How does masking work with int/Integer in java?","body":"<p>Since bytes are signed in java, in order to obtain unsigned integer values we mask with 0xFF asper:</p>\n<pre><code>byte signed  = -1;// -&gt; 0b11111111\nint unsigned = signed &amp; 0xFF;// -&gt; 0b11111111 &amp; 0b11111111\nSystem.out.println(unsigned: +unsigned);//prints 255 instead of -1 since we masked earlier\n</code></pre>\n<p>But when the unsigned <code>int</code> is casted to a byte it seems nothing happens to it really i.e.</p>\n<pre><code>byte resigned = (byte) unsigned;\nSystem.out.println(resigned: +resigned);//same value as earlier signed = -1\n</code></pre>\n<p>Taking a closer look at the initial operation</p>\n<pre><code>int unsigned = signed &amp; 0xFF;// the result of 0b11111111 &amp; 0b11111111 is actually = 0b11111111 \n</code></pre>\n<p>Even if the value of signed were something else say we had</p>\n<pre><code>byte  signed  = -44;// -&gt; 0b11010100\nint  unsigned = signed &amp; 0xFF;// the result of 0b11010100 &amp; 0b11111111 is still actually = 0b11010100 \nbyte resigned = (byte) unsigned;\nSystem.out.println(resigned: +resigned);//same value as signed = -44\n</code></pre>\n<p>So it seems nothing really happens to the actual signed value for the unsigned <code>int</code> to be possible.</p>\n<p>Does masking actually do anything to the (byte) value of an integer or its just a way to flag how <code>javac</code> should treat the integer?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9828,"page":164,"page_size":100}
