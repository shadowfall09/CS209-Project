{"items":[{"tags":["java","android","android-camera2"],"comments":[{"owner":{"account_id":3477457,"reputation":675,"user_id":2910319,"accept_rate":20,"display_name":"kfir"},"score":0,"creation_date":1683643764,"post_id":76099365,"comment_id":134396208,"body_markdown":"I think you are missing the high speed session concept. for example use &quot;CameraConstrainedHighSpeedCaptureSession&quot; and not &quot;createCaptureSession&quot;. as explained here https://github.com/android/camera-samples/blob/main/Camera2SlowMotion/app/src/main/java/com/example/android/camera2/slowmo/fragments/CameraFragment.kt   take into consideration -&gt; most Samsung devices do not support more then 30 FPS. you can check by your self on &quot;Samsung developer lab&quot;","body":"I think you are missing the high speed session concept. for example use &quot;CameraConstrainedHighSpeedCaptureSession&quot; and not &quot;createCaptureSession&quot;. as explained here <a href=\"https://github.com/android/camera-samples/blob/main/Camera2SlowMotion/app/src/main/java/com/example/android/camera2/slowmo/fragments/CameraFragment.kt\" rel=\"nofollow noreferrer\">github.com/android/camera-samples/blob/main/Camera2SlowMotio&zwnj;&#8203;n/&hellip;</a>   take into consideration -&gt; most Samsung devices do not support more then 30 FPS. you can check by your self on &quot;Samsung developer lab&quot;"}],"owner":{"account_id":28395058,"reputation":1,"user_id":21720249,"display_name":"J S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682413365,"creation_date":1682413365,"question_id":76099365,"body_markdown":"```\r\nprivate void setupCamera(int width, int height) {\r\n        CameraManager cameraManager = (CameraManager) getContext().getSystemService(Context.CAMERA_SERVICE);\r\n\r\n        try {\r\n            for (String cameraId : cameraManager.getCameraIdList()) {\r\n                CameraCharacteristics cameraCharacteristics = cameraManager.getCameraCharacteristics(cameraId);\r\n                if (cameraCharacteristics.get(CameraCharacteristics.LENS_FACING) == CameraCharacteristics.LENS_FACING_FRONT) {\r\n                    continue;\r\n                }\r\n\r\n                int[] capabilities = cameraCharacteristics.get(CameraCharacteristics.REQUEST_AVAILABLE_CAPABILITIES);\r\n                List&lt;Integer&gt; list = Arrays.stream(capabilities).boxed().collect(Collectors.toList());\r\n                if (!list.contains(CameraCharacteristics.REQUEST_AVAILABLE_CAPABILITIES_CONSTRAINED_HIGH_SPEED_VIDEO)) {\r\n                    continue;\r\n                }\r\n\r\n                // choose optimal size\r\n                StreamConfigurationMap streamConfigurationMap = cameraCharacteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\r\n                previewSize = streamConfigurationMap.getOutputSizes(SurfaceTexture.class)[0];\r\n                for(Size option : streamConfigurationMap.getOutputSizes(SurfaceTexture.class)) {\r\n                    int areaCurrent = Math.abs((previewSize.getWidth() * previewSize.getHeight()) - (MAX_PREVIEW_WIDTH * MAX_PREVIEW_HEIGHT));\r\n                    int areaNext = Math.abs((option.getWidth() * option.getHeight()) - (MAX_PREVIEW_WIDTH * MAX_PREVIEW_HEIGHT));\r\n\r\n                    if (areaCurrent &gt; areaNext) {\r\n                        previewSize = option;\r\n                    }\r\n                }\r\n\r\n                maxFps = streamConfigurationMap.getHighSpeedVideoFpsRanges()[0];\r\n                for (Range&lt;Integer&gt; option : streamConfigurationMap.getHighSpeedVideoFpsRanges()) {\r\n                   int areaCurrent = Math.abs((maxFps.getLower() * maxFps.getUpper()) - (MAX_VIDEO_LOWER_FPS * MAX_VIDEO_UPPER_FPS));\r\n                   int areaNext = Math.abs((option.getLower() * option.getUpper()) - (MAX_VIDEO_LOWER_FPS * MAX_VIDEO_UPPER_FPS));\r\n\r\n                   if(areaCurrent &gt; areaNext) {\r\n                       maxFps = option;\r\n                   }\r\n                }\r\n\r\n                videoSize = streamConfigurationMap.getHighSpeedVideoSizesFor(maxFps)[0];\r\n                for(Size option : streamConfigurationMap.getOutputSizes(MediaRecorder.class)) {\r\n                    int areaCurrent = Math.abs((videoSize.getWidth() * videoSize.getHeight()) - (MAX_VIDEO_WIDTH * MAX_VIDEO_HEIGHT));\r\n                    int areaNext = Math.abs((option.getWidth() * option.getHeight()) - (MAX_VIDEO_WIDTH * MAX_VIDEO_HEIGHT));\r\n\r\n                    if (areaCurrent &gt; areaNext) {\r\n                        videoSize = option;\r\n                    }\r\n                }\r\n\r\n                int orientation = getResources().getConfiguration().orientation;\r\n                if (orientation == Configuration.ORIENTATION_LANDSCAPE) {\r\n                    textureView.setAspectRatio(previewSize.getWidth(), previewSize.getHeight());\r\n                } else {\r\n                    textureView.setAspectRatio(previewSize.getHeight(), previewSize.getWidth());\r\n                }\r\n\r\n                this.cameraId = cameraId;\r\n                return;\r\n            }\r\n        } catch (CameraAccessException e) {\r\n            Log.e(&quot;CameraAccessException&quot;,e.toString());\r\n        }\r\n    }\r\n```\r\n\r\n```\r\nprivate void startPreview() {\r\n        try {\r\n            if(highSpeedCaptureSession != null) {\r\n                highSpeedCaptureSession.abortCaptures();\r\n                highSpeedCaptureSession.close();\r\n                highSpeedCaptureSession = null;\r\n            }\r\n\r\n            SurfaceTexture surfaceTexture = textureView.getSurfaceTexture();\r\n            surfaceTexture.setDefaultBufferSize(previewSize.getWidth(), previewSize.getHeight());\r\n            Surface previewSurface = new Surface(surfaceTexture);\r\n\r\n            CaptureRequest.Builder captureRequestBuilder = camera.createCaptureRequest(CameraDevice.TEMPLATE_PREVIEW);\r\n            captureRequestBuilder.set(CaptureRequest.CONTROL_AE_TARGET_FPS_RANGE, maxFps);\r\n            captureRequestBuilder.set(CaptureRequest.CONTROL_MODE, CameraMetadata.CONTROL_MODE_AUTO);\r\n            captureRequestBuilder.set(CaptureRequest.CONTROL_AE_MODE, CameraMetadata.CONTROL_AE_MODE_ON);\r\n            captureRequestBuilder.set(CaptureRequest.CONTROL_AE_LOCK, true);\r\n            captureRequestBuilder.set(CaptureRequest.CONTROL_AE_EXPOSURE_COMPENSATION, 0);\r\n            captureRequestBuilder.set(CaptureRequest.CONTROL_AF_MODE, CameraMetadata.CONTROL_AF_MODE_CONTINUOUS_VIDEO);\r\n            captureRequestBuilder.set(CaptureRequest.CONTROL_AWB_MODE, CameraMetadata.CONTROL_AWB_MODE_AUTO);\r\n            captureRequestBuilder.addTarget(previewSurface);\r\n\r\n            camera.createCaptureSession(Arrays.asList(previewSurface),\r\n                    new CameraCaptureSession.StateCallback() {\r\n                        @Override\r\n                        public void onConfigured(@NonNull CameraCaptureSession cameraCaptureSession) {\r\n                            if(camera == null) {\r\n                                return;\r\n                            }\r\n                            try {\r\n                                previewSession = cameraCaptureSession;\r\n                                cameraCaptureSession.setRepeatingRequest(captureRequestBuilder.build(), null, backgroundHandler);\r\n                            } catch (CameraAccessException e) {\r\n                                Log.e(&quot;CameraAccessException&quot;,e.toString());\r\n                            }\r\n                        }\r\n\r\n                        @Override\r\n                        public void onConfigureFailed(@NonNull CameraCaptureSession cameraCaptureSession) {\r\n                            Toast.makeText(getContext(), &quot;Unable to setup camera preview&quot;, Toast.LENGTH_SHORT);\r\n                        }\r\n                    }, null);\r\n        } catch (CameraAccessException e) {\r\n            Log.e(&quot;CameraAccessException&quot;,e.toString());\r\n        }\r\n    }\r\n```\r\n\r\n```\r\n    private void setupMediaRecorder() throws IOException {\r\n        mediaRecorder.setVideoSource(MediaRecorder.VideoSource.SURFACE);\r\n        mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);\r\n        mediaRecorder.setOutputFile(videoFileName);\r\n        mediaRecorder.setVideoEncodingBitRate(100000);\r\n        mediaRecorder.setVideoFrameRate(240);\r\n        mediaRecorder.setVideoSize(videoSize.getWidth(), videoSize.getHeight());\r\n        mediaRecorder.setVideoEncoder(MediaRecorder.VideoEncoder.H264);\r\n        mediaRecorder.setOrientationHint(90);\r\n        mediaRecorder.setCaptureRate(240);\r\n        mediaRecorder.prepare();\r\n    }\r\n```\r\n\r\nWhen I set captureRequestBuilder.set(CaptureRequest.CONTROL_AE_TARGET_FPS_RANGE, maxFps) in the camera2 api and run cameraCaptureSession.setRepeatingRequest, the camera turns on in about 5 seconds.\r\n\r\nAnd if you record a video at 240fps, it will be recorded in frames below 240fps, just like 100fps.\r\n\r\nThe maxFps is 240, and I see that the camera supports 240Fps.\r\nThe camera size is 1920\\*1080. The camera size also supports 240 fps.\r\n\r\nWhat if you want the camera to turn on right away?\r\nHelp me!!","title":"When I set captureRequestBuilder.set(CaptureRequest.CONTROL_AE_TARGET_FPS_RANGE, maxFps) in the camera2 api , the camera turns on late","body":"<pre><code>private void setupCamera(int width, int height) {\n        CameraManager cameraManager = (CameraManager) getContext().getSystemService(Context.CAMERA_SERVICE);\n\n        try {\n            for (String cameraId : cameraManager.getCameraIdList()) {\n                CameraCharacteristics cameraCharacteristics = cameraManager.getCameraCharacteristics(cameraId);\n                if (cameraCharacteristics.get(CameraCharacteristics.LENS_FACING) == CameraCharacteristics.LENS_FACING_FRONT) {\n                    continue;\n                }\n\n                int[] capabilities = cameraCharacteristics.get(CameraCharacteristics.REQUEST_AVAILABLE_CAPABILITIES);\n                List&lt;Integer&gt; list = Arrays.stream(capabilities).boxed().collect(Collectors.toList());\n                if (!list.contains(CameraCharacteristics.REQUEST_AVAILABLE_CAPABILITIES_CONSTRAINED_HIGH_SPEED_VIDEO)) {\n                    continue;\n                }\n\n                // choose optimal size\n                StreamConfigurationMap streamConfigurationMap = cameraCharacteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\n                previewSize = streamConfigurationMap.getOutputSizes(SurfaceTexture.class)[0];\n                for(Size option : streamConfigurationMap.getOutputSizes(SurfaceTexture.class)) {\n                    int areaCurrent = Math.abs((previewSize.getWidth() * previewSize.getHeight()) - (MAX_PREVIEW_WIDTH * MAX_PREVIEW_HEIGHT));\n                    int areaNext = Math.abs((option.getWidth() * option.getHeight()) - (MAX_PREVIEW_WIDTH * MAX_PREVIEW_HEIGHT));\n\n                    if (areaCurrent &gt; areaNext) {\n                        previewSize = option;\n                    }\n                }\n\n                maxFps = streamConfigurationMap.getHighSpeedVideoFpsRanges()[0];\n                for (Range&lt;Integer&gt; option : streamConfigurationMap.getHighSpeedVideoFpsRanges()) {\n                   int areaCurrent = Math.abs((maxFps.getLower() * maxFps.getUpper()) - (MAX_VIDEO_LOWER_FPS * MAX_VIDEO_UPPER_FPS));\n                   int areaNext = Math.abs((option.getLower() * option.getUpper()) - (MAX_VIDEO_LOWER_FPS * MAX_VIDEO_UPPER_FPS));\n\n                   if(areaCurrent &gt; areaNext) {\n                       maxFps = option;\n                   }\n                }\n\n                videoSize = streamConfigurationMap.getHighSpeedVideoSizesFor(maxFps)[0];\n                for(Size option : streamConfigurationMap.getOutputSizes(MediaRecorder.class)) {\n                    int areaCurrent = Math.abs((videoSize.getWidth() * videoSize.getHeight()) - (MAX_VIDEO_WIDTH * MAX_VIDEO_HEIGHT));\n                    int areaNext = Math.abs((option.getWidth() * option.getHeight()) - (MAX_VIDEO_WIDTH * MAX_VIDEO_HEIGHT));\n\n                    if (areaCurrent &gt; areaNext) {\n                        videoSize = option;\n                    }\n                }\n\n                int orientation = getResources().getConfiguration().orientation;\n                if (orientation == Configuration.ORIENTATION_LANDSCAPE) {\n                    textureView.setAspectRatio(previewSize.getWidth(), previewSize.getHeight());\n                } else {\n                    textureView.setAspectRatio(previewSize.getHeight(), previewSize.getWidth());\n                }\n\n                this.cameraId = cameraId;\n                return;\n            }\n        } catch (CameraAccessException e) {\n            Log.e(&quot;CameraAccessException&quot;,e.toString());\n        }\n    }\n</code></pre>\n<pre><code>private void startPreview() {\n        try {\n            if(highSpeedCaptureSession != null) {\n                highSpeedCaptureSession.abortCaptures();\n                highSpeedCaptureSession.close();\n                highSpeedCaptureSession = null;\n            }\n\n            SurfaceTexture surfaceTexture = textureView.getSurfaceTexture();\n            surfaceTexture.setDefaultBufferSize(previewSize.getWidth(), previewSize.getHeight());\n            Surface previewSurface = new Surface(surfaceTexture);\n\n            CaptureRequest.Builder captureRequestBuilder = camera.createCaptureRequest(CameraDevice.TEMPLATE_PREVIEW);\n            captureRequestBuilder.set(CaptureRequest.CONTROL_AE_TARGET_FPS_RANGE, maxFps);\n            captureRequestBuilder.set(CaptureRequest.CONTROL_MODE, CameraMetadata.CONTROL_MODE_AUTO);\n            captureRequestBuilder.set(CaptureRequest.CONTROL_AE_MODE, CameraMetadata.CONTROL_AE_MODE_ON);\n            captureRequestBuilder.set(CaptureRequest.CONTROL_AE_LOCK, true);\n            captureRequestBuilder.set(CaptureRequest.CONTROL_AE_EXPOSURE_COMPENSATION, 0);\n            captureRequestBuilder.set(CaptureRequest.CONTROL_AF_MODE, CameraMetadata.CONTROL_AF_MODE_CONTINUOUS_VIDEO);\n            captureRequestBuilder.set(CaptureRequest.CONTROL_AWB_MODE, CameraMetadata.CONTROL_AWB_MODE_AUTO);\n            captureRequestBuilder.addTarget(previewSurface);\n\n            camera.createCaptureSession(Arrays.asList(previewSurface),\n                    new CameraCaptureSession.StateCallback() {\n                        @Override\n                        public void onConfigured(@NonNull CameraCaptureSession cameraCaptureSession) {\n                            if(camera == null) {\n                                return;\n                            }\n                            try {\n                                previewSession = cameraCaptureSession;\n                                cameraCaptureSession.setRepeatingRequest(captureRequestBuilder.build(), null, backgroundHandler);\n                            } catch (CameraAccessException e) {\n                                Log.e(&quot;CameraAccessException&quot;,e.toString());\n                            }\n                        }\n\n                        @Override\n                        public void onConfigureFailed(@NonNull CameraCaptureSession cameraCaptureSession) {\n                            Toast.makeText(getContext(), &quot;Unable to setup camera preview&quot;, Toast.LENGTH_SHORT);\n                        }\n                    }, null);\n        } catch (CameraAccessException e) {\n            Log.e(&quot;CameraAccessException&quot;,e.toString());\n        }\n    }\n</code></pre>\n<pre><code>    private void setupMediaRecorder() throws IOException {\n        mediaRecorder.setVideoSource(MediaRecorder.VideoSource.SURFACE);\n        mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);\n        mediaRecorder.setOutputFile(videoFileName);\n        mediaRecorder.setVideoEncodingBitRate(100000);\n        mediaRecorder.setVideoFrameRate(240);\n        mediaRecorder.setVideoSize(videoSize.getWidth(), videoSize.getHeight());\n        mediaRecorder.setVideoEncoder(MediaRecorder.VideoEncoder.H264);\n        mediaRecorder.setOrientationHint(90);\n        mediaRecorder.setCaptureRate(240);\n        mediaRecorder.prepare();\n    }\n</code></pre>\n<p>When I set captureRequestBuilder.set(CaptureRequest.CONTROL_AE_TARGET_FPS_RANGE, maxFps) in the camera2 api and run cameraCaptureSession.setRepeatingRequest, the camera turns on in about 5 seconds.</p>\n<p>And if you record a video at 240fps, it will be recorded in frames below 240fps, just like 100fps.</p>\n<p>The maxFps is 240, and I see that the camera supports 240Fps.\nThe camera size is 1920*1080. The camera size also supports 240 fps.</p>\n<p>What if you want the camera to turn on right away?\nHelp me!!</p>\n"},{"tags":["java","android","kotlin","android-9.0-pie","android-network-security-config"],"answers":[{"tags":[],"owner":{"account_id":8964121,"reputation":12195,"user_id":6740698,"display_name":"Xenolion"},"down_vote_count":0,"up_vote_count":417,"is_accepted":true,"score":417,"last_activity_date":1583471142,"creation_date":1534538687,"answer_id":51902630,"question_id":51902629,"body_markdown":"The easy way to implement this is to use this attribute to your `AndroidManifest.xml` where you allow all `http` for all requests:\r\n\r\n    &lt;application android:usesCleartextTraffic=&quot;true&quot;&gt;\r\n    &lt;/application&gt;\r\n\r\nBut in case you want some **more configurations** for different links for instance, allowing `http` for some domains but not other domains you must provide `res/xml/networkSecurityConfig.xml` file.\r\n\r\nTo do this in Android 9 Pie you will have to set a `networkSecurityConfig` in your Manifest `application` tag like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest ... &gt;\r\n        &lt;application android:networkSecurityConfig=&quot;@xml/network_security_config&quot;&gt;\r\n        \r\n\r\n\r\n\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\nThen in your `xml` folder you now have to create a file named `network_security_config` just like the way you have named it in the Manifest and from there the content of your file should be like this to enable all requests without encryptions:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;network-security-config&gt;\r\n        &lt;base-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n            &lt;trust-anchors&gt;\r\n                &lt;certificates src=&quot;system&quot; /&gt;\r\n            &lt;/trust-anchors&gt;\r\n        &lt;/base-config&gt;\r\n    &lt;/network-security-config&gt;\r\nFrom there you are good to go. Now your app will make requests for all types of connections. For additional information on this topic [read here][1].\r\n\r\n\r\n  [1]: https://developer.android.com/training/articles/security-config","title":"How to allow all Network connection types HTTP and HTTPS in Android (9) Pie?","body":"<p>The easy way to implement this is to use this attribute to your <code>AndroidManifest.xml</code> where you allow all <code>http</code> for all requests:</p>\n\n<pre><code>&lt;application android:usesCleartextTraffic=\"true\"&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>But in case you want some <strong>more configurations</strong> for different links for instance, allowing <code>http</code> for some domains but not other domains you must provide <code>res/xml/networkSecurityConfig.xml</code> file.</p>\n\n<p>To do this in Android 9 Pie you will have to set a <code>networkSecurityConfig</code> in your Manifest <code>application</code> tag like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest ... &gt;\n    &lt;application android:networkSecurityConfig=\"@xml/network_security_config\"&gt;\n\n\n\n\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>Then in your <code>xml</code> folder you now have to create a file named <code>network_security_config</code> just like the way you have named it in the Manifest and from there the content of your file should be like this to enable all requests without encryptions:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;network-security-config&gt;\n    &lt;base-config cleartextTrafficPermitted=\"true\"&gt;\n        &lt;trust-anchors&gt;\n            &lt;certificates src=\"system\" /&gt;\n        &lt;/trust-anchors&gt;\n    &lt;/base-config&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n\n<p>From there you are good to go. Now your app will make requests for all types of connections. For additional information on this topic <a href=\"https://developer.android.com/training/articles/security-config\" rel=\"noreferrer\">read here</a>.</p>\n"},{"tags":[],"owner":{"account_id":12850900,"reputation":141,"user_id":9295847,"display_name":"Kaviyarasu Duraisamy"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1556104592,"creation_date":1556098954,"answer_id":55827042,"question_id":51902629,"body_markdown":"For `React Native` applications while running in debug add the `xml block` mentioned by @Xenolion to `react_native_config.xml` located in `&lt;project&gt;/android/app/src/debug/res/xml`\r\n\r\nSimilar to the following snippet:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;network-security-config&gt;\r\n        &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n            &lt;domain includeSubdomains=&quot;false&quot;&gt;localhost&lt;/domain&gt;\r\n            &lt;domain includeSubdomains=&quot;false&quot;&gt;10.0.2.2&lt;/domain&gt;\r\n            &lt;domain includeSubdomains=&quot;false&quot;&gt;10.0.3.2&lt;/domain&gt;\r\n        &lt;/domain-config&gt;\r\n        &lt;base-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n            &lt;trust-anchors&gt;\r\n                &lt;certificates src=&quot;system&quot; /&gt;\r\n            &lt;/trust-anchors&gt;\r\n        &lt;/base-config&gt;\r\n    &lt;/network-security-config&gt;","title":"How to allow all Network connection types HTTP and HTTPS in Android (9) Pie?","body":"<p>For <code>React Native</code> applications while running in debug add the <code>xml block</code> mentioned by @Xenolion to <code>react_native_config.xml</code> located in <code>&lt;project&gt;/android/app/src/debug/res/xml</code></p>\n\n<p>Similar to the following snippet:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;network-security-config&gt;\n    &lt;domain-config cleartextTrafficPermitted=\"true\"&gt;\n        &lt;domain includeSubdomains=\"false\"&gt;localhost&lt;/domain&gt;\n        &lt;domain includeSubdomains=\"false\"&gt;10.0.2.2&lt;/domain&gt;\n        &lt;domain includeSubdomains=\"false\"&gt;10.0.3.2&lt;/domain&gt;\n    &lt;/domain-config&gt;\n    &lt;base-config cleartextTrafficPermitted=\"true\"&gt;\n        &lt;trust-anchors&gt;\n            &lt;certificates src=\"system\" /&gt;\n        &lt;/trust-anchors&gt;\n    &lt;/base-config&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8306874,"reputation":4849,"user_id":6243553,"accept_rate":67,"display_name":"HarshitMadhav"},"down_vote_count":3,"up_vote_count":58,"is_accepted":false,"score":55,"last_activity_date":1582805205,"creation_date":1556123282,"answer_id":55834683,"question_id":51902629,"body_markdown":"The **FULLY WORKING SOLUTION** for both **`Android`** or **`React-native`** users facing this issue just add this \r\n`android:usesCleartextTraffic=&quot;true&quot;`\r\n in **AndroidManifest.xml** file like this:\r\n\r\n    android:usesCleartextTraffic=&quot;true&quot;\r\n    tools:ignore=&quot;GoogleAppIndexingWarning&quot;&gt;\r\n    &lt;uses-library\r\n        android:name=&quot;org.apache.http.legacy&quot;\r\n        android:required=&quot;false&quot; /&gt;\r\n\r\nin between `&lt;application&gt;`.. `&lt;/application&gt;` tag like this:\r\n\r\n    &lt;application\r\n          android:name=&quot;.MainApplication&quot;\r\n          android:label=&quot;@string/app_name&quot;\r\n          android:icon=&quot;@mipmap/ic_launcher&quot;\r\n          android:allowBackup=&quot;false&quot;\r\n          android:theme=&quot;@style/AppTheme&quot;\r\n            android:usesCleartextTraffic=&quot;true&quot;\r\n            tools:ignore=&quot;GoogleAppIndexingWarning&quot;&gt;\r\n            &lt;uses-library\r\n                android:name=&quot;org.apache.http.legacy&quot;\r\n                android:required=&quot;false&quot; /&gt;\r\n          &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:label=&quot;@string/app_name&quot;/&gt;\r\n     &lt;/application&gt;\r\n\r\n","title":"How to allow all Network connection types HTTP and HTTPS in Android (9) Pie?","body":"<p>The <strong>FULLY WORKING SOLUTION</strong> for both <strong><code>Android</code></strong> or <strong><code>React-native</code></strong> users facing this issue just add this \n<code>android:usesCleartextTraffic=\"true\"</code>\n in <strong>AndroidManifest.xml</strong> file like this:</p>\n\n<pre><code>android:usesCleartextTraffic=\"true\"\ntools:ignore=\"GoogleAppIndexingWarning\"&gt;\n&lt;uses-library\n    android:name=\"org.apache.http.legacy\"\n    android:required=\"false\" /&gt;\n</code></pre>\n\n<p>in between <code>&lt;application&gt;</code>.. <code>&lt;/application&gt;</code> tag like this:</p>\n\n<pre><code>&lt;application\n      android:name=\".MainApplication\"\n      android:label=\"@string/app_name\"\n      android:icon=\"@mipmap/ic_launcher\"\n      android:allowBackup=\"false\"\n      android:theme=\"@style/AppTheme\"\n        android:usesCleartextTraffic=\"true\"\n        tools:ignore=\"GoogleAppIndexingWarning\"&gt;\n        &lt;uses-library\n            android:name=\"org.apache.http.legacy\"\n            android:required=\"false\" /&gt;\n      &lt;activity\n        android:name=\".MainActivity\"\n        android:label=\"@string/app_name\"/&gt;\n &lt;/application&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15373734,"reputation":1,"user_id":11091094,"display_name":"user11091094"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557153527,"creation_date":1557151619,"answer_id":56006858,"question_id":51902629,"body_markdown":"You may check if you are sending clearText through HTTP\r\nFix : https://medium.com/@son.rommer/fix-cleartext-traffic-error-in-android-9-pie-2f4e9e2235e6\r\n &lt;br /&gt; OR &lt;br /&gt;\r\nIn the Case of  Apache HTTP client deprecation  (From Google ) :\r\nWith Android 6.0, we removed support for the Apache HTTP client. Beginning with Android 9, that library is removed from the bootclasspath and is not available to apps by default.\r\nTo continue using the Apache HTTP client, apps that target Android 9 and above can add the following to their AndroidManifest.xml:\r\n\r\n&lt;uses-library android:name=&quot;org.apache.http.legacy&quot; android:required=&quot;false&quot;/&gt;\r\n\r\nSource \r\nhttps://developer.android.com/about/versions/pie/android-9.0-changes-28","title":"How to allow all Network connection types HTTP and HTTPS in Android (9) Pie?","body":"<p>You may check if you are sending clearText through HTTP\nFix : <a href=\"https://medium.com/@son.rommer/fix-cleartext-traffic-error-in-android-9-pie-2f4e9e2235e6\" rel=\"nofollow noreferrer\">https://medium.com/@son.rommer/fix-cleartext-traffic-error-in-android-9-pie-2f4e9e2235e6</a>\n <br /> OR <br />\nIn the Case of  Apache HTTP client deprecation  (From Google ) :\nWith Android 6.0, we removed support for the Apache HTTP client. Beginning with Android 9, that library is removed from the bootclasspath and is not available to apps by default.\nTo continue using the Apache HTTP client, apps that target Android 9 and above can add the following to their AndroidManifest.xml:</p>\n\n<p></p>\n\n<p>Source \n<a href=\"https://developer.android.com/about/versions/pie/android-9.0-changes-28\" rel=\"nofollow noreferrer\">https://developer.android.com/about/versions/pie/android-9.0-changes-28</a></p>\n"},{"tags":[],"owner":{"account_id":8644462,"reputation":1764,"user_id":6472077,"accept_rate":25,"display_name":"Asif Patel"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1558525666,"creation_date":1558432835,"answer_id":56235810,"question_id":51902629,"body_markdown":"Just set `usesCleartextTraffic` flag in the application tag of `AndroidManifest.xml` file.\r\nNo need to create config file for Android.\r\n\r\n\r\n     &lt;application\r\n       android:usesCleartextTraffic=&quot;true&quot;\r\n       .\r\n       .\r\n       .&gt;","title":"How to allow all Network connection types HTTP and HTTPS in Android (9) Pie?","body":"<p>Just set <code>usesCleartextTraffic</code> flag in the application tag of <code>AndroidManifest.xml</code> file.\nNo need to create config file for Android.</p>\n\n<pre><code> &lt;application\n   android:usesCleartextTraffic=\"true\"\n   .\n   .\n   .&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11136625,"reputation":1097,"user_id":8174825,"display_name":"Mehul Solanki"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1558524041,"creation_date":1558524041,"answer_id":56255702,"question_id":51902629,"body_markdown":"A simple way is set `android:usesCleartextTraffic=&quot;true&quot;` on you `AndroidManifest.xml` \r\n\r\n    android:usesCleartextTraffic=&quot;true&quot;\r\n\r\nYour `AndroidManifest.xml` look like \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest package=&quot;com.dww.drmanar&quot;&gt;\r\n       &lt;application\r\n           android:icon=&quot;@mipmap/ic_launcher&quot;\r\n           android:label=&quot;@string/app_name&quot;\r\n           android:usesCleartextTraffic=&quot;true&quot;\r\n           android:theme=&quot;@style/AppTheme&quot;\r\n           tools:targetApi=&quot;m&quot;&gt;\r\n           &lt;activity\r\n                android:name=&quot;.activity.SplashActivity&quot;\r\n                android:theme=&quot;@style/FullscreenTheme&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n           &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\nI hope this will help you.","title":"How to allow all Network connection types HTTP and HTTPS in Android (9) Pie?","body":"<p>A simple way is set <code>android:usesCleartextTraffic=\"true\"</code> on you <code>AndroidManifest.xml</code> </p>\n\n<pre><code>android:usesCleartextTraffic=\"true\"\n</code></pre>\n\n<p>Your <code>AndroidManifest.xml</code> look like </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest package=\"com.dww.drmanar\"&gt;\n   &lt;application\n       android:icon=\"@mipmap/ic_launcher\"\n       android:label=\"@string/app_name\"\n       android:usesCleartextTraffic=\"true\"\n       android:theme=\"@style/AppTheme\"\n       tools:targetApi=\"m\"&gt;\n       &lt;activity\n            android:name=\".activity.SplashActivity\"\n            android:theme=\"@style/FullscreenTheme\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n       &lt;/activity&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>I hope this will help you.</p>\n"},{"tags":[],"owner":{"account_id":2934584,"reputation":9741,"user_id":2513873,"accept_rate":100,"display_name":"Arshid KV"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1571561130,"creation_date":1571561130,"answer_id":58471337,"question_id":51902629,"body_markdown":"**Easy Way**\r\n\r\nAdd `usesCleartextTraffic` to **AndroidManifest.xml** \r\n\r\n    &lt;application\r\n    ...\r\n    android:usesCleartextTraffic=&quot;true&quot;\r\n    ...&gt;\r\n\r\nIndicates whether the app intends to use cleartext network traffic, such as cleartext HTTP. The default value for apps that target API **level 27** or lower is &quot;true&quot;. Apps that target API **level 28** or higher default to &quot;false&quot;.","title":"How to allow all Network connection types HTTP and HTTPS in Android (9) Pie?","body":"<p><strong>Easy Way</strong></p>\n\n<p>Add <code>usesCleartextTraffic</code> to <strong>AndroidManifest.xml</strong> </p>\n\n<pre><code>&lt;application\n...\nandroid:usesCleartextTraffic=\"true\"\n...&gt;\n</code></pre>\n\n<p>Indicates whether the app intends to use cleartext network traffic, such as cleartext HTTP. The default value for apps that target API <strong>level 27</strong> or lower is \"true\". Apps that target API <strong>level 28</strong> or higher default to \"false\".</p>\n"},{"tags":[],"owner":{"account_id":12405324,"reputation":700,"user_id":9040561,"display_name":"Sandy Veliz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1573569773,"creation_date":1573569773,"answer_id":58820940,"question_id":51902629,"body_markdown":"i got the same problem and i notice that my security config has diferent TAGS like the @Xenolion answer says\r\n\r\n    &lt;network-security-config&gt;\r\n        &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n            &lt;domain includeSubdomains=&quot;true&quot;&gt;localhost&lt;/domain&gt;\r\n        &lt;/domain-config&gt;\r\n    &lt;/network-security-config&gt;\r\n\r\nso i change the TAGS &quot;domain-config&quot; for &quot;base-config&quot; and works, like this:\r\n\r\n    &lt;network-security-config&gt;\r\n        &lt;base-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n            &lt;domain includeSubdomains=&quot;true&quot;&gt;localhost&lt;/domain&gt;\r\n        &lt;/base-config&gt;\r\n    &lt;/network-security-config&gt;","title":"How to allow all Network connection types HTTP and HTTPS in Android (9) Pie?","body":"<p>i got the same problem and i notice that my security config has diferent TAGS like the @Xenolion answer says</p>\n\n<pre><code>&lt;network-security-config&gt;\n    &lt;domain-config cleartextTrafficPermitted=\"true\"&gt;\n        &lt;domain includeSubdomains=\"true\"&gt;localhost&lt;/domain&gt;\n    &lt;/domain-config&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n\n<p>so i change the TAGS \"domain-config\" for \"base-config\" and works, like this:</p>\n\n<pre><code>&lt;network-security-config&gt;\n    &lt;base-config cleartextTrafficPermitted=\"true\"&gt;\n        &lt;domain includeSubdomains=\"true\"&gt;localhost&lt;/domain&gt;\n    &lt;/base-config&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18321921,"reputation":1557,"user_id":13342499,"display_name":"Vishal Pawar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620223014,"creation_date":1620222343,"answer_id":67402569,"question_id":51902629,"body_markdown":"This worked for me,\r\n\r\nadd this xml file to:\r\n**andriod/app/src/main/res/xml/network_security_config.xml**\r\n\r\n**network_security_config.xml**\r\n```\r\nxml/network_security_config.xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;network-security-config&gt;\r\n    &lt;base-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n        &lt;trust-anchors&gt;\r\n            &lt;certificates src=&quot;system&quot; /&gt;\r\n        &lt;/trust-anchors&gt;\r\n    &lt;/base-config&gt;\r\n    &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n        &lt;domain includeSubdomains=&quot;true&quot;&gt;your_domain1&lt;/domain&gt;\r\n    &lt;/domain-config&gt;\r\n    &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n        &lt;domain includeSubdomains=&quot;true&quot;&gt;your_domain2&lt;/domain&gt;\r\n    &lt;/domain-config&gt;\r\n&lt;/network-security-config&gt;\r\n```\r\n\r\nthen add this code to **AndroidMenifest.xml**\r\n```\r\n&lt;application\r\n\t...\r\n      android:usesCleartextTraffic=&quot;true&quot;\r\n      android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\r\n    ...\r\n      &gt;\r\n      &lt;!-- for http support--&gt;\r\n      &lt;uses-library android:name=&quot;org.apache.http.legacy&quot; android:required=&quot;false&quot;/&gt;\r\n      ...\r\n&lt;/application&gt;\r\n        \r\n```","title":"How to allow all Network connection types HTTP and HTTPS in Android (9) Pie?","body":"<p>This worked for me,</p>\n<p>add this xml file to:\n<strong>andriod/app/src/main/res/xml/network_security_config.xml</strong></p>\n<p><strong>network_security_config.xml</strong></p>\n<pre><code>xml/network_security_config.xml\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;network-security-config&gt;\n    &lt;base-config cleartextTrafficPermitted=&quot;true&quot;&gt;\n        &lt;trust-anchors&gt;\n            &lt;certificates src=&quot;system&quot; /&gt;\n        &lt;/trust-anchors&gt;\n    &lt;/base-config&gt;\n    &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\n        &lt;domain includeSubdomains=&quot;true&quot;&gt;your_domain1&lt;/domain&gt;\n    &lt;/domain-config&gt;\n    &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\n        &lt;domain includeSubdomains=&quot;true&quot;&gt;your_domain2&lt;/domain&gt;\n    &lt;/domain-config&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n<p>then add this code to <strong>AndroidMenifest.xml</strong></p>\n<pre><code>&lt;application\n    ...\n      android:usesCleartextTraffic=&quot;true&quot;\n      android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\n    ...\n      &gt;\n      &lt;!-- for http support--&gt;\n      &lt;uses-library android:name=&quot;org.apache.http.legacy&quot; android:required=&quot;false&quot;/&gt;\n      ...\n&lt;/application&gt;\n        \n</code></pre>\n"},{"tags":[],"owner":{"account_id":8871799,"reputation":89,"user_id":6625307,"display_name":"Vikrant Singh Rawat"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1682413356,"creation_date":1682351078,"answer_id":76093707,"question_id":51902629,"body_markdown":"Add usesCleartextTraffic to AndroidManifest.xml\r\n\r\ne.g.\r\n\r\n    &lt;application\r\n    ...\r\n    android:usesCleartextTraffic=&quot;true&quot;\r\n    ...&gt;\r\n\r\nin \r\n\r\n  \r\n\r\n    &lt;application\r\n        android: allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;AndroidLearning&quot;\r\n        android: supportsRtl=&quot;true&quot;\r\n        android:UsesCleartextTraffic=&quot;true&quot; &lt;-----\r\n        android: theme=&quot;@style/Theme.AndroidLearning&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n        android:name=&quot; MainActivity&quot;\r\n        android:exported=&quot;true&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android. intent.action.MAIN&quot; /&gt;\r\n        ‹catedorv android:name=&quot;android.intent.catedorv.LAUNCHFR&quot; /&gt;","title":"How to allow all Network connection types HTTP and HTTPS in Android (9) Pie?","body":"<p>Add usesCleartextTraffic to AndroidManifest.xml</p>\n<p>e.g.</p>\n<pre><code>&lt;application\n...\nandroid:usesCleartextTraffic=&quot;true&quot;\n...&gt;\n</code></pre>\n<p>in</p>\n<pre><code>&lt;application\n    android: allowBackup=&quot;true&quot;\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;AndroidLearning&quot;\n    android: supportsRtl=&quot;true&quot;\n    android:UsesCleartextTraffic=&quot;true&quot; &lt;-----\n    android: theme=&quot;@style/Theme.AndroidLearning&quot;\n    tools:targetApi=&quot;31&quot;&gt;\n    &lt;activity\n    android:name=&quot; MainActivity&quot;\n    android:exported=&quot;true&quot;&gt;\n    &lt;intent-filter&gt;\n    &lt;action android:name=&quot;android. intent.action.MAIN&quot; /&gt;\n    ‹catedorv android:name=&quot;android.intent.catedorv.LAUNCHFR&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":8964121,"reputation":12195,"user_id":6740698,"display_name":"Xenolion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231601,"favorite_count":0,"down_vote_count":0,"up_vote_count":218,"accepted_answer_id":51902630,"answer_count":10,"score":218,"last_activity_date":1682413356,"creation_date":1534538687,"question_id":51902629,"body_markdown":"From Android 9 Pie now, requests without encryption will never work. And by default, the System will expect you to use TLS by default.[You can read this feature here][1] So if you only make requests via HTTPS you are safe. But what about apps that make requests through different sites, for instance, browser-like apps.\r\n\r\nHow can I enable requests to all types of connections HTTP and HTTPS in Android 9 Pie?\r\n\r\n\r\n  [1]: https://android-developers.googleblog.com/2018/08/introducing-android-9-pie.html","title":"How to allow all Network connection types HTTP and HTTPS in Android (9) Pie?","body":"<p>From Android 9 Pie now, requests without encryption will never work. And by default, the System will expect you to use TLS by default.<a href=\"https://android-developers.googleblog.com/2018/08/introducing-android-9-pie.html\" rel=\"noreferrer\">You can read this feature here</a> So if you only make requests via HTTPS you are safe. But what about apps that make requests through different sites, for instance, browser-like apps.</p>\n\n<p>How can I enable requests to all types of connections HTTP and HTTPS in Android 9 Pie?</p>\n"},{"tags":["java","android","exception","android-recyclerview","runtime-error"],"comments":[{"owner":{"account_id":5849714,"reputation":86,"user_id":5362509,"display_name":"Lakshmi"},"score":0,"creation_date":1682360965,"post_id":76094678,"comment_id":134199901,"body_markdown":"Everything looks alright. Try uninstalling the app and installing it again after u have made the change.LayoutInflater.from(context).inflate(R.layout.item,parent);\n\nto View v = LayoutInflater.from(context).inflate(R.layout.item,parent,false);","body":"Everything looks alright. Try uninstalling the app and installing it again after u have made the change.LayoutInflater.from(context).inflate(R.layout.item,pa&zwnj;&#8203;rent);  to View v = LayoutInflater.from(context).inflate(R.layout.item,parent,fa&zwnj;&#8203;lse);"}],"answers":[{"tags":[],"owner":{"account_id":10426166,"reputation":267,"user_id":7687372,"display_name":"MexiCano"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682368137,"creation_date":1682368137,"answer_id":76095855,"question_id":76094678,"body_markdown":"\r\n\r\nDeclare:\r\n    lateinit var  context: Context\r\n\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\r\n            val layoutInflater = LayoutInflater.from(parent.context)\r\n            return ViewHolder(layoutInflater.inflate(R.layout.item, parent, false))\r\n        }\r\n\r\n\r\nIts Work for me!\r\n \r\n","title":"ViewHolder views must not be attached when created. Inflator error","body":"<p>Declare:\nlateinit var  context: Context</p>\n<pre><code>override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        val layoutInflater = LayoutInflater.from(parent.context)\n        return ViewHolder(layoutInflater.inflate(R.layout.item, parent, false))\n    }\n</code></pre>\n<p>Its Work for me!</p>\n"},{"tags":[],"owner":{"account_id":15361500,"reputation":281,"user_id":11082213,"display_name":"Nrohpos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682413330,"creation_date":1682413330,"answer_id":76099352,"question_id":76094678,"body_markdown":"You may not set the context for your adapter that case you the error:\r\n\r\n&gt;  LayoutInflater.from(context).......\r\n\r\n**For Activity**\r\n\r\n     MyAdapter myAdapter = new MyAdapter(userList, this); \r\n\r\n\r\n**For Fragment**\r\n\r\n        MyAdapter myAdapter = new MyAdapter(userList, requireContext()); \r\n\r\nBut that&#39;s not the best practice\r\n\r\nHere with **simple** and **shorter**\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n           return new MyViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.item, parent, false));\r\n    }\r\n\r\n","title":"ViewHolder views must not be attached when created. Inflator error","body":"<p>You may not set the context for your adapter that case you the error:</p>\n<blockquote>\n<p>LayoutInflater.from(context).......</p>\n</blockquote>\n<p><strong>For Activity</strong></p>\n<pre><code> MyAdapter myAdapter = new MyAdapter(userList, this); \n</code></pre>\n<p><strong>For Fragment</strong></p>\n<pre><code>    MyAdapter myAdapter = new MyAdapter(userList, requireContext()); \n</code></pre>\n<p>But that's not the best practice</p>\n<p>Here with <strong>simple</strong> and <strong>shorter</strong></p>\n<pre><code>@NonNull\n@Override\npublic MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n       return new MyViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.item, parent, false));\n}\n</code></pre>\n"}],"owner":{"account_id":28403227,"reputation":1,"user_id":21727717,"display_name":"Samarth Adat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682413330,"creation_date":1682358240,"question_id":76094678,"body_markdown":"This is my code of RecyclerView for Booking History and Im getting &quot;java.lang.IllegalStateException: ViewHolder views must not be attached when created. Ensure that you are not passing &#39;true&#39; to the attachToRoot parameter of LayoutInflater.inflate(..., boolean attachToRoot)&quot; exception.\r\n```\r\npackage com.example.bookinghistory;\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\r\n\r\n    Context context;\r\n    ArrayList&lt;User&gt; list;\r\n\r\n    public MyAdapter(Context context, ArrayList&lt;User&gt; list) {\r\n        this.context = context;\r\n        this.list = list;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(context).inflate(R.layout.item,parent,false);\r\n        return new MyViewHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        User user = list.get(position);\r\n        holder.Name.setText(user.getName());\r\n        holder.Surname.setText(user.getSurname());\r\n        holder.Date.setText(user.getDate());\r\n        holder.Contact.setText(user.getContact());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return list.size();\r\n    }\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        TextView Name, Surname, Date, Contact;\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            Name = itemView.findViewById(R.id.tvname);\r\n            Surname = itemView.findViewById(R.id.tvsurname);\r\n            Date = itemView.findViewById(R.id.tvdate);\r\n            Contact = itemView.findViewById(R.id.tvcontact);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nChanged\r\nView v = LayoutInflater.from(context).inflate(R.layout.item,parent);\r\n\r\nto\r\nView v = LayoutInflater.from(context).inflate(R.layout.item,parent,false);\r\n\r\nBut still it didnt work.","title":"ViewHolder views must not be attached when created. Inflator error","body":"<p>This is my code of RecyclerView for Booking History and Im getting &quot;java.lang.IllegalStateException: ViewHolder views must not be attached when created. Ensure that you are not passing 'true' to the attachToRoot parameter of LayoutInflater.inflate(..., boolean attachToRoot)&quot; exception.</p>\n<pre><code>package com.example.bookinghistory;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\n\n    Context context;\n    ArrayList&lt;User&gt; list;\n\n    public MyAdapter(Context context, ArrayList&lt;User&gt; list) {\n        this.context = context;\n        this.list = list;\n    }\n\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(context).inflate(R.layout.item,parent,false);\n        return new MyViewHolder(v);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n        User user = list.get(position);\n        holder.Name.setText(user.getName());\n        holder.Surname.setText(user.getSurname());\n        holder.Date.setText(user.getDate());\n        holder.Contact.setText(user.getContact());\n    }\n\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n\n    public static class MyViewHolder extends RecyclerView.ViewHolder{\n\n        TextView Name, Surname, Date, Contact;\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            Name = itemView.findViewById(R.id.tvname);\n            Surname = itemView.findViewById(R.id.tvsurname);\n            Date = itemView.findViewById(R.id.tvdate);\n            Contact = itemView.findViewById(R.id.tvcontact);\n        }\n    }\n}\n\n</code></pre>\n<p>Changed\nView v = LayoutInflater.from(context).inflate(R.layout.item,parent);</p>\n<p>to\nView v = LayoutInflater.from(context).inflate(R.layout.item,parent,false);</p>\n<p>But still it didnt work.</p>\n"},{"tags":["java","testcontainers"],"owner":{"account_id":3717953,"reputation":253,"user_id":3093641,"accept_rate":25,"display_name":"javanoob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682413301,"creation_date":1682411066,"question_id":76099055,"body_markdown":"I am using Testcontainers on a private registry and whenever it has problems with permissions or can&#39;t find an image it is retrying very aggressively and thereby the used useraccount always gets disabled.\r\n\r\nIn the [documentation][1] I only found the following: \r\n\r\n&gt; Customizing image pull behaviour\\\r\n&gt; pull.pause.timeout = 30 By default Testcontainers will abort the pull of an image if the pull appears stalled (no data transferred) for longer than this duration (in seconds).\r\n\r\nIs there a way to prevent these aggressive retries whenever it doesn&#39;t find an image or can&#39;t authenticate?\r\n\r\n\r\n  [1]: https://www.testcontainers.org/features/configuration/#customizing-image-pull-behaviour","title":"Testcontainers image pull behaviour is too aggressive in private registries","body":"<p>I am using Testcontainers on a private registry and whenever it has problems with permissions or can't find an image it is retrying very aggressively and thereby the used useraccount always gets disabled.</p>\n<p>In the <a href=\"https://www.testcontainers.org/features/configuration/#customizing-image-pull-behaviour\" rel=\"nofollow noreferrer\">documentation</a> I only found the following:</p>\n<blockquote>\n<p>Customizing image pull behaviour<br />\npull.pause.timeout = 30 By default Testcontainers will abort the pull of an image if the pull appears stalled (no data transferred) for longer than this duration (in seconds).</p>\n</blockquote>\n<p>Is there a way to prevent these aggressive retries whenever it doesn't find an image or can't authenticate?</p>\n"},{"tags":["java","go","nginx","hbase","apache-phoenix"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1682432869,"post_id":76097349,"comment_id":134212595,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":1453052,"reputation":6792,"user_id":1369400,"display_name":"Zeke Lu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682413167,"creation_date":1682413167,"answer_id":76099332,"question_id":76097349,"body_markdown":"I guess the reason is that the Avatica Go client does not support cookies. We can provide our own `baseClient` that supports cookies to the connector. See the demo below:\r\n\r\n**Note**: I don&#39;t have the environment to test the implementation. Please let me know if it does not work and I will look into it. Thank you!\r\n\r\n```go\r\npackage main\r\n\r\nimport (\r\n\t&quot;context&quot;\r\n\t&quot;database/sql&quot;\r\n\t&quot;database/sql/driver&quot;\r\n\t&quot;fmt&quot;\r\n\t&quot;net&quot;\r\n\t&quot;net/http&quot;\r\n\t&quot;net/http/cookiejar&quot;\r\n\t&quot;runtime&quot;\r\n\t&quot;time&quot;\r\n\r\n\tavatica &quot;github.com/apache/calcite-avatica-go/v5&quot;\r\n\t&quot;golang.org/x/net/publicsuffix&quot;\r\n)\r\n\r\nfunc init() {\r\n\tsql.Register(&quot;sticky-avatica&quot;, &amp;StickyDriver{})\r\n}\r\n\r\ntype StickyDriver struct{}\r\n\r\nfunc (d *StickyDriver) Open(dsn string) (driver.Conn, error) {\r\n\tjar, err := cookiejar.New(&amp;cookiejar.Options{PublicSuffixList: publicsuffix.List})\r\n\tif err != nil {\r\n\t\treturn nil, err\r\n\t}\r\n\r\n\t// Create our own baseClient that supports cookies.\r\n\tbaseClient := &amp;http.Client{\r\n\t\tTransport: &amp;http.Transport{\r\n\t\t\tProxy: http.ProxyFromEnvironment,\r\n\t\t\tDialContext: (&amp;net.Dialer{\r\n\t\t\t\tTimeout:   30 * time.Second,\r\n\t\t\t\tKeepAlive: 30 * time.Second,\r\n\t\t\t}).DialContext,\r\n\t\t\tMaxIdleConns:          100,\r\n\t\t\tIdleConnTimeout:       90 * time.Second,\r\n\t\t\tTLSHandshakeTimeout:   10 * time.Second,\r\n\t\t\tExpectContinueTimeout: 1 * time.Second,\r\n\t\t\tMaxIdleConnsPerHost:   runtime.GOMAXPROCS(0) + 1,\r\n\t\t},\r\n\t\tJar: jar,\r\n\t}\r\n\r\n\t// Since we create our own baseClient, the auth method provided in the DSN\r\n\t// string is not applied. If this is needed, set it manually. See:\r\n\t// https://github.com/apache/calcite-avatica-go/blob/ed4c274f52a98593e6c99de0d7a88802d4a92cb6/http_client.go#L72-L85\r\n\r\n\tconnector := avatica.NewConnector(dsn).(*avatica.Connector)\r\n\r\n\t// Provide our own baseClient to the connector.\r\n\tconnector.Client = baseClient\r\n\r\n\treturn connector.Connect(context.TODO())\r\n}\r\n\r\nfunc main() {\r\n\tdb, err := sql.Open(&quot;sticky-avatica&quot;, &quot;http://192.168.3.236:8766&quot;)\r\n\tif err != nil {\r\n\t\tpanic(err)\r\n\t}\r\n\trows, err := db.Query(&quot;SELECT COUNT(*) FROM test.test1&quot;)\r\n\tif err != nil {\r\n\t\tpanic(err)\r\n\t}\r\n\tdefer rows.Close()\r\n\r\n\tfmt.Printf(&quot;%v\\n&quot;, rows)\r\n}\r\n```","title":"avatica-go client read Phoenix Query Server:[driver: bad connection]","body":"<p>I guess the reason is that the Avatica Go client does not support cookies. We can provide our own <code>baseClient</code> that supports cookies to the connector. See the demo below:</p>\n<p><strong>Note</strong>: I don't have the environment to test the implementation. Please let me know if it does not work and I will look into it. Thank you!</p>\n<pre class=\"lang-golang prettyprint-override\"><code>package main\n\nimport (\n    &quot;context&quot;\n    &quot;database/sql&quot;\n    &quot;database/sql/driver&quot;\n    &quot;fmt&quot;\n    &quot;net&quot;\n    &quot;net/http&quot;\n    &quot;net/http/cookiejar&quot;\n    &quot;runtime&quot;\n    &quot;time&quot;\n\n    avatica &quot;github.com/apache/calcite-avatica-go/v5&quot;\n    &quot;golang.org/x/net/publicsuffix&quot;\n)\n\nfunc init() {\n    sql.Register(&quot;sticky-avatica&quot;, &amp;StickyDriver{})\n}\n\ntype StickyDriver struct{}\n\nfunc (d *StickyDriver) Open(dsn string) (driver.Conn, error) {\n    jar, err := cookiejar.New(&amp;cookiejar.Options{PublicSuffixList: publicsuffix.List})\n    if err != nil {\n        return nil, err\n    }\n\n    // Create our own baseClient that supports cookies.\n    baseClient := &amp;http.Client{\n        Transport: &amp;http.Transport{\n            Proxy: http.ProxyFromEnvironment,\n            DialContext: (&amp;net.Dialer{\n                Timeout:   30 * time.Second,\n                KeepAlive: 30 * time.Second,\n            }).DialContext,\n            MaxIdleConns:          100,\n            IdleConnTimeout:       90 * time.Second,\n            TLSHandshakeTimeout:   10 * time.Second,\n            ExpectContinueTimeout: 1 * time.Second,\n            MaxIdleConnsPerHost:   runtime.GOMAXPROCS(0) + 1,\n        },\n        Jar: jar,\n    }\n\n    // Since we create our own baseClient, the auth method provided in the DSN\n    // string is not applied. If this is needed, set it manually. See:\n    // https://github.com/apache/calcite-avatica-go/blob/ed4c274f52a98593e6c99de0d7a88802d4a92cb6/http_client.go#L72-L85\n\n    connector := avatica.NewConnector(dsn).(*avatica.Connector)\n\n    // Provide our own baseClient to the connector.\n    connector.Client = baseClient\n\n    return connector.Connect(context.TODO())\n}\n\nfunc main() {\n    db, err := sql.Open(&quot;sticky-avatica&quot;, &quot;http://192.168.3.236:8766&quot;)\n    if err != nil {\n        panic(err)\n    }\n    rows, err := db.Query(&quot;SELECT COUNT(*) FROM test.test1&quot;)\n    if err != nil {\n        panic(err)\n    }\n    defer rows.Close()\n\n    fmt.Printf(&quot;%v\\n&quot;, rows)\n}\n</code></pre>\n"}],"owner":{"account_id":28406619,"reputation":11,"user_id":21730562,"display_name":"kaber"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1682413167,"creation_date":1682391050,"question_id":76097349,"body_markdown":"Hbase 2.0.0v\r\nPhoenix 5.0.0v\r\nAvatica-go-client 5.2.0v\r\nNginx 1.8.1 with sticky module\r\n\r\n3 Regionserver,3 Query Server , Nginx configed stick load balance for 3Query server\r\n\r\nnginx conf\r\nnginx in 192.168.3.236\r\n```\r\nupstream phoenix_balance {\r\n        sticky expires=1m;\r\n        server 192.168.3.190:8765;\r\n        server 192.168.3.236:8765;\r\n        server 192.168.3.165:8765;\r\n    }\r\n\r\nserver {\r\n\r\n        listen 8766;\r\n        server_name localhost;\r\n        location / {\r\n                proxy_pass http://phoenix_balance/;\r\n        }\r\n    }\r\n\r\n```\r\nwhen i use Java to Read PQS its ok(connect one PQS, connect load balance url),\r\n\r\n```\r\nClass.forName(&quot;org.apache.phoenix.queryserver.client.Driver&quot;);\r\nString url = &quot;jdbc:phoenix:thin:url=http://192.168.3.236:8766;serialization=PROTOBUF&quot;;\r\nconn = DriverManager.getConnection(url, prop);\r\n```\r\ni use `go` to connect one PQS its ok,connect to load balance url its failed,\r\ncode from [avatica-go-client-reference](https://calcite.apache.org/avatica/docs/go_client_reference.html)\r\n\r\n```\r\ndb, err := sql.Open(&quot;avatica&quot;, &quot;http://192.168.3.236:8765&quot;) //ok\r\ndb, err := sql.Open(&quot;avatica&quot;, &quot;http://192.168.3.236:8766&quot;) // faield ,driver:bad connection\r\nrows, err := db.Query(&quot;SELECT COUNT(*) FROM test.test1&quot;)\r\n```\r\n\r\nIs there a problem with my nginx configuration?\r\n\r\n\r\n\r\nI really hope someone can answer this question for me","title":"avatica-go client read Phoenix Query Server:[driver: bad connection]","body":"<p>Hbase 2.0.0v\nPhoenix 5.0.0v\nAvatica-go-client 5.2.0v\nNginx 1.8.1 with sticky module</p>\n<p>3 Regionserver,3 Query Server , Nginx configed stick load balance for 3Query server</p>\n<p>nginx conf\nnginx in 192.168.3.236</p>\n<pre><code>upstream phoenix_balance {\n        sticky expires=1m;\n        server 192.168.3.190:8765;\n        server 192.168.3.236:8765;\n        server 192.168.3.165:8765;\n    }\n\nserver {\n\n        listen 8766;\n        server_name localhost;\n        location / {\n                proxy_pass http://phoenix_balance/;\n        }\n    }\n\n</code></pre>\n<p>when i use Java to Read PQS its ok(connect one PQS, connect load balance url),</p>\n<pre><code>Class.forName(&quot;org.apache.phoenix.queryserver.client.Driver&quot;);\nString url = &quot;jdbc:phoenix:thin:url=http://192.168.3.236:8766;serialization=PROTOBUF&quot;;\nconn = DriverManager.getConnection(url, prop);\n</code></pre>\n<p>i use <code>go</code> to connect one PQS its ok,connect to load balance url its failed,\ncode from <a href=\"https://calcite.apache.org/avatica/docs/go_client_reference.html\" rel=\"nofollow noreferrer\">avatica-go-client-reference</a></p>\n<pre><code>db, err := sql.Open(&quot;avatica&quot;, &quot;http://192.168.3.236:8765&quot;) //ok\ndb, err := sql.Open(&quot;avatica&quot;, &quot;http://192.168.3.236:8766&quot;) // faield ,driver:bad connection\nrows, err := db.Query(&quot;SELECT COUNT(*) FROM test.test1&quot;)\n</code></pre>\n<p>Is there a problem with my nginx configuration?</p>\n<p>I really hope someone can answer this question for me</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jackson"],"owner":{"account_id":12174925,"reputation":314,"user_id":8888293,"display_name":"Nate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682413099,"creation_date":1682411276,"question_id":76099088,"body_markdown":"I have an entity called &quot;Group&quot; that has a one-to-one relationship with a different entity called &quot;Server&quot;\r\n\r\n```\r\n@Data\r\n@Entity\r\n@Table(name=&quot;groups&quot;)\r\npublic class Group {\r\n    @Id\r\n    @Column(name=&quot;group_id&quot;)\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    private Integer groupId;\r\n\r\n    @Column(name=&quot;group_name&quot;)\r\n    private String groupName;\r\n    \r\n    @OneToOne(cascade=CascadeType.ALL)\r\n    @JoinColumn(name=&quot;server_id&quot;, referencedColumnName=&quot;discord_id&quot;)\r\n    private Server serverId;\r\n\r\n... (Code shortened)...\r\n```\r\n\r\n\r\n```\r\n@Data\r\n@Entity\r\n@Table(name=&quot;servers&quot;)\r\npublic class Server {\r\n    @Id\r\n    @Column(name=&quot;discord_id&quot;)\r\n    private long discordId;\r\n\r\n... (Code shortened)...\r\n```\r\n\r\nWhenever I make a POST request to my group controller to make a new Group where the RequestBody contains the actual Group and a valid foreign key, I keep getting this error:\r\n\r\n&gt; JSON parse error: Cannot construct instance of &#39;...Server&#39; (although\r\n&gt; at least one Creator exists): no long/Long-argument\r\n&gt; constructor/factory method to deserialize from Number value\r\n&gt; (984309670376267837)\r\n\r\nThe controller looks like this:\r\n\r\n```\r\n@PostMapping(&quot;/groups&quot;)\r\npublic Group generateNewGroup(@RequestBody Group group) {\r\n    group.setGroupId(0);\r\n\r\n    Group dbGroup = this.groupService.generateNewGroup(group);\r\n\r\n    return dbGroup;\r\n}\r\n```\r\n\r\nHow I can elegantly deserialize this JSON request body and link it to a Server entity that already exists in the Database through its foreign key?","title":"Deserialize JSON request body to existing database item with foreign key","body":"<p>I have an entity called &quot;Group&quot; that has a one-to-one relationship with a different entity called &quot;Server&quot;</p>\n<pre><code>@Data\n@Entity\n@Table(name=&quot;groups&quot;)\npublic class Group {\n    @Id\n    @Column(name=&quot;group_id&quot;)\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Integer groupId;\n\n    @Column(name=&quot;group_name&quot;)\n    private String groupName;\n    \n    @OneToOne(cascade=CascadeType.ALL)\n    @JoinColumn(name=&quot;server_id&quot;, referencedColumnName=&quot;discord_id&quot;)\n    private Server serverId;\n\n... (Code shortened)...\n</code></pre>\n<pre><code>@Data\n@Entity\n@Table(name=&quot;servers&quot;)\npublic class Server {\n    @Id\n    @Column(name=&quot;discord_id&quot;)\n    private long discordId;\n\n... (Code shortened)...\n</code></pre>\n<p>Whenever I make a POST request to my group controller to make a new Group where the RequestBody contains the actual Group and a valid foreign key, I keep getting this error:</p>\n<blockquote>\n<p>JSON parse error: Cannot construct instance of '...Server' (although\nat least one Creator exists): no long/Long-argument\nconstructor/factory method to deserialize from Number value\n(984309670376267837)</p>\n</blockquote>\n<p>The controller looks like this:</p>\n<pre><code>@PostMapping(&quot;/groups&quot;)\npublic Group generateNewGroup(@RequestBody Group group) {\n    group.setGroupId(0);\n\n    Group dbGroup = this.groupService.generateNewGroup(group);\n\n    return dbGroup;\n}\n</code></pre>\n<p>How I can elegantly deserialize this JSON request body and link it to a Server entity that already exists in the Database through its foreign key?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":1,"creation_date":1682409424,"post_id":76098682,"comment_id":134206361,"body_markdown":"It&#39;s quite unclear. What is the expected output? Do you really want to create a LinkedHashMap or just to sort that list by multiple criteria? Currently you are not sorting anything just group by position and age.","body":"It&#39;s quite unclear. What is the expected output? Do you really want to create a LinkedHashMap or just to sort that list by multiple criteria? Currently you are not sorting anything just group by position and age."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1682409705,"post_id":76098682,"comment_id":134206435,"body_markdown":"You could use `workers.stream().sorted(Comparator.comparing(Worker::position).thenComparingInt(Worker::age)).toList()`.","body":"You could use <code>workers.stream().sorted(Comparator.comparing(Worker::positio&zwnj;&#8203;n).thenComparingInt(&zwnj;&#8203;Worker::age)).toList&zwnj;&#8203;()</code>."},{"owner":{"account_id":28092974,"reputation":21,"user_id":21462180,"display_name":"Kto Tam"},"score":0,"creation_date":1682409756,"post_id":76098682,"comment_id":134206445,"body_markdown":"I&#39;m confused myself. I thought that grouping by age would be sorting. I wanted to get the result so that the linkedhashmap would be grouped by profession and sorted by age","body":"I&#39;m confused myself. I thought that grouping by age would be sorting. I wanted to get the result so that the linkedhashmap would be grouped by profession and sorted by age"},{"owner":{"account_id":13995207,"reputation":494,"user_id":10108192,"display_name":"Yang Hanlin"},"score":1,"creation_date":1682409812,"post_id":76098682,"comment_id":134206456,"body_markdown":"If you just want to replace the default `HashMap` with `LinkedHashMap`, you can use the 3-arg version of `Collectors::groupingBy`: `workers.stream() .collect(Collectors.groupingBy(worker::position, LinkedHashMap::new, Collectors.groupingBy(worker::age, LinkedHashMap::new, Collectors.toList())))`. But it will not give you a map where keys are sorted.","body":"If you just want to replace the default <code>HashMap</code> with <code>LinkedHashMap</code>, you can use the 3-arg version of <code>Collectors::groupingBy</code>: <code>workers.stream() .collect(Collectors.groupingBy(worker::position, LinkedHashMap::new, Collectors.groupingBy(worker::age, LinkedHashMap::new, Collectors.toList())))</code>. But it will not give you a map where keys are sorted."},{"owner":{"account_id":28092974,"reputation":21,"user_id":21462180,"display_name":"Kto Tam"},"score":0,"creation_date":1682409942,"post_id":76098682,"comment_id":134206479,"body_markdown":"@MC Emperor i need result put in linkedHashMap&lt;String, Map&lt;Integer, List&lt;Worker&gt;&gt;&gt;","body":"@MC Emperor i need result put in linkedHashMap&lt;String, Map&lt;Integer, List&lt;Worker&gt;&gt;&gt;"},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1682410367,"post_id":76098682,"comment_id":134206589,"body_markdown":"@KtoTam based on your comment please update the question with the desired output","body":"@KtoTam based on your comment please update the question with the desired output"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1682417026,"post_id":76098682,"comment_id":134208189,"body_markdown":"Grouping is not the same as sorting. Grouping is putting all items in specific buckets based on some property of each item. This has little to do with sorting, which is the *order* in which the items are observed.","body":"Grouping is not the same as sorting. Grouping is putting all items in specific buckets based on some property of each item. This has little to do with sorting, which is the <i>order</i> in which the items are observed."}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682410987,"creation_date":1682410987,"answer_id":76099042,"question_id":76098682,"body_markdown":"If I understood correctly from the comments, you need the list to be \r\n\r\n - grouped by profession, \r\n - sorted by age\r\n - collected into a LinkedHashMap \r\n\r\nIf this is the case, you can try something like this: \r\n\r\n    Map&lt;String, List&lt;Worker&gt;&gt; groupedByProfession = workers.stream()\r\n            .sorted(Comparator.comparingInt(Worker::getAge))\r\n            .collect(Collectors.groupingBy(\r\n                Worker::getPosition, \r\n                LinkedHashMap::new, \r\n                Collectors.toList()\r\n             ));","title":"how to get a LinkedHashMap from the list using stream api","body":"<p>If I understood correctly from the comments, you need the list to be</p>\n<ul>\n<li>grouped by profession,</li>\n<li>sorted by age</li>\n<li>collected into a LinkedHashMap</li>\n</ul>\n<p>If this is the case, you can try something like this:</p>\n<pre><code>Map&lt;String, List&lt;Worker&gt;&gt; groupedByProfession = workers.stream()\n        .sorted(Comparator.comparingInt(Worker::getAge))\n        .collect(Collectors.groupingBy(\n            Worker::getPosition, \n            LinkedHashMap::new, \n            Collectors.toList()\n         ));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9978708,"reputation":267,"user_id":7382342,"display_name":"Hardik Uchdadiya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682413084,"creation_date":1682412209,"answer_id":76099200,"question_id":76098682,"body_markdown":"You need to do something like this\r\n\r\n```\r\nMap&lt;String, Map&lt;Integer, List&lt;Worker&gt;&gt;&gt; collect = workers.stream()\r\n        .collect(Collectors.groupingBy(Worker::getPosition, \r\n                Collectors.groupingBy(Worker::getAge, TreeMap::new, Collectors.toList())));\r\n```\r\n","title":"how to get a LinkedHashMap from the list using stream api","body":"<p>You need to do something like this</p>\n<pre><code>Map&lt;String, Map&lt;Integer, List&lt;Worker&gt;&gt;&gt; collect = workers.stream()\n        .collect(Collectors.groupingBy(Worker::getPosition, \n                Collectors.groupingBy(Worker::getAge, TreeMap::new, Collectors.toList())));\n</code></pre>\n"}],"owner":{"account_id":28092974,"reputation":21,"user_id":21462180,"display_name":"Kto Tam"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682413084,"creation_date":1682408224,"question_id":76098682,"body_markdown":"I need to grouped the list by position and sorted by age and into a `LinkedHashMap`.\r\n\r\nIf I put it into a `HashMap`, the result will not be sorted. I can&#39;t figure out how to create `LinkedHashMap&lt;String, Map&lt;Integer, List&lt;Worker&gt;&gt;&gt;`.\r\n I wanted to get the result so that the linkedhashmap would be grouped by profession and sorted by age\r\n\r\n```java\r\nclass Worker {\r\n\r\n    String name;\r\n    int age;\r\n    int salary;\r\n    String position;\r\n\r\n    public Worker(String name, int age, int salary, String position) {\r\n        this.name = name;\r\n        this.age = age;\r\n        this.salary = salary;\r\n        this.position = position;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        List&lt;Worker&gt; workers = new ArrayList&lt;&gt;(List.of(\r\n                new Worker(&quot;Ann&quot;, 50, 15000, &quot;doctor&quot;),\r\n                new Worker(&quot;Kate&quot;, 15, 1500, &quot;doctor&quot;),\r\n                new Worker(&quot;Mike&quot;, 23, 12333, &quot;nurse&quot;),\r\n                new Worker(&quot;Mike&quot;, 63, 12333, &quot;nurse&quot;)));\r\n\r\n        Map&lt;String, Map&lt;Integer, List&lt;Worker&gt;&gt;&gt; collect = workers.stream()\r\n                .collect(Collectors.groupingBy(Worker::position,\r\n                        Collectors.groupingBy(Worker::age)));\r\n    }\r\n}\r\n```\r\n","title":"how to get a LinkedHashMap from the list using stream api","body":"<p>I need to grouped the list by position and sorted by age and into a <code>LinkedHashMap</code>.</p>\n<p>If I put it into a <code>HashMap</code>, the result will not be sorted. I can't figure out how to create <code>LinkedHashMap&lt;String, Map&lt;Integer, List&lt;Worker&gt;&gt;&gt;</code>.\nI wanted to get the result so that the linkedhashmap would be grouped by profession and sorted by age</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Worker {\n\n    String name;\n    int age;\n    int salary;\n    String position;\n\n    public Worker(String name, int age, int salary, String position) {\n        this.name = name;\n        this.age = age;\n        this.salary = salary;\n        this.position = position;\n    }\n\n    public static void main(String[] args) {\n\n        List&lt;Worker&gt; workers = new ArrayList&lt;&gt;(List.of(\n                new Worker(&quot;Ann&quot;, 50, 15000, &quot;doctor&quot;),\n                new Worker(&quot;Kate&quot;, 15, 1500, &quot;doctor&quot;),\n                new Worker(&quot;Mike&quot;, 23, 12333, &quot;nurse&quot;),\n                new Worker(&quot;Mike&quot;, 63, 12333, &quot;nurse&quot;)));\n\n        Map&lt;String, Map&lt;Integer, List&lt;Worker&gt;&gt;&gt; collect = workers.stream()\n                .collect(Collectors.groupingBy(Worker::position,\n                        Collectors.groupingBy(Worker::age)));\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","dependency-injection"],"comments":[{"owner":{"account_id":6634565,"reputation":617,"user_id":5122077,"accept_rate":56,"display_name":"JavaLearner1"},"score":0,"creation_date":1682413244,"post_id":76098665,"comment_id":134207269,"body_markdown":"can you try with @Qualifier annotation?","body":"can you try with @Qualifier annotation?"}],"answers":[{"tags":[],"owner":{"account_id":9978708,"reputation":267,"user_id":7382342,"display_name":"Hardik Uchdadiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682413011,"creation_date":1682413011,"answer_id":76099312,"question_id":76098665,"body_markdown":"If you want to run all the services, then you need to inject collection of services, try something like this\r\n\r\n```\r\nCollection&lt;ApiService&lt;?&gt;&gt; apiServices;\r\n```\r\nand then loop through the collection of apiService method for each apiService in the collection to get your snaps","title":"How to inject correct implementation of interface depends on specific bean?","body":"<p>If you want to run all the services, then you need to inject collection of services, try something like this</p>\n<pre><code>Collection&lt;ApiService&lt;?&gt;&gt; apiServices;\n</code></pre>\n<p>and then loop through the collection of apiService method for each apiService in the collection to get your snaps</p>\n"}],"owner":{"account_id":25902085,"reputation":35,"user_id":19627792,"display_name":"VegetaSan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682413011,"creation_date":1682408108,"question_id":76098665,"body_markdown":"I&#39;m struggling with creation of architecture that will support various implementation of this interface:\r\n\r\n        public interface ApiService&lt;T extends BasicDevice&gt; {\r\n    \r\n        byte[] getDeviceSnap(T basicDevice);\r\n    }\r\n\r\nGeneric of this interface should always extend BasicDevice:\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\n    public abstract class BasicDevice {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;ID&quot;, nullable = false)\r\n        private Integer id;\r\n    \r\n        @Column(name = &quot;DEVICE_ID&quot;)\r\n        private String deviceId;\r\n    \r\n        @Column(name = &quot;VEHICLE_ID&quot;)\r\n        private int vehicleId;\r\n    \r\n    }\r\nThe ApiService can have multiple implementation, two for example:\r\n\r\n    @Service\r\n    public class ImouService implements ApiService&lt;ImouDevice&gt; {\r\n   \r\n    \r\n        @Override\r\n        public byte[] getDeviceSnap(ImouDevice imouDevice) {\r\n            //some implementation\r\n            return new byte[0];\r\n        }\r\nAnd second:\r\n\r\n    @Service\r\n    public class DahuaService implements ApiService&lt;DahuaDevice&gt; {\r\n    \r\n        @Override\r\n        public byte[] getDeviceSnap(DahuaDevice device) {\r\n             //some implementation\r\n            return new byte[0];\r\n        }\r\n    }\r\nThis two implementation have their own generics that are extending from BasicDevice but with their uniq fields, like this:\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @ToString\r\n    public class DahuaDevice extends BasicDevice {\r\n    \r\n        @Column(name = &quot;HOST_NAME&quot;)\r\n        private String hostname;\r\n    \r\n    }\r\nAnd the problem itself, in code below I retrieving from DB list of beans that extending from BasicDevice, like ImouDevice and DahuaDevice, then I trying to call method for each bean from list, but for that I need injection of apiService with its correct implementation, meaning imouService for ImouDevice, dahuaService for DahuaDevice, etc.But it doesn&#39;t know which implementation to use and throws exception - Parameter 2 of constructor in ScheduleTask required a single bean, but 2 were found - dahuaService,imouService\r\n\r\n    public class ScheduleTask {\r\n    \r\n        private static final Logger log = LogManager.getLogger(ScheduleTask.class);\r\n        private final DeviceVehicleRepository deviceVehicleRepository;\r\n        private final UrlDeviceBeanRepository urlDeviceBeanRepository;\r\n        private final ApiService apiService;\r\n        private final S3Service service;\r\n        private final CacheManager cacheManager;\r\n    \r\n        public ScheduleTask(DeviceVehicleRepository deviceVehicleRepository, UrlDeviceBeanRepository urlDeviceBeanRepository,\r\n                             ApiService apiService, S3Service service, CacheManager cacheManager) {\r\n            this.deviceVehicleRepository = deviceVehicleRepository;\r\n            this.urlDeviceBeanRepository = urlDeviceBeanRepository;\r\n            this.apiService = apiService;\r\n            this.service = service;\r\n            this.cacheManager = cacheManager;\r\n        }\r\n    \r\n        @Scheduled(cron = &quot;0 0/1 * * * ?&quot;)//every minute\r\n        public void getSnaps() {\r\n            Long timestamp = Instant.now().getEpochSecond();\r\n            log.info(&quot;Started scheduled task to get snapshots&quot;);\r\n            List&lt;BasicDevice&gt; allVehiclesWithDevices = (List&lt;BasicDevice&gt;) deviceVehicleRepository.findAll();\r\n            allVehiclesWithDevices.parallelStream().forEach(basicDevice -&gt;\r\n            {\r\n                byte[] contentBytes = apiService.getDeviceSnap(basicDevice);//here it doesn&#39;t which implementation to use\r\n                if (contentBytes.length &gt; 0) {\r\n                    urlDeviceBeanRepository.save(new UrlDeviceBean(contentBytes,\r\n                            basicDevice.getVehicleId(), timestamp));\r\n                }\r\n            });\r\n        }\r\nHow to always inject correct implementation depends on bean type?","title":"How to inject correct implementation of interface depends on specific bean?","body":"<p>I'm struggling with creation of architecture that will support various implementation of this interface:</p>\n<pre><code>    public interface ApiService&lt;T extends BasicDevice&gt; {\n\n    byte[] getDeviceSnap(T basicDevice);\n}\n</code></pre>\n<p>Generic of this interface should always extend BasicDevice:</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@ToString\n@NoArgsConstructor\n@AllArgsConstructor\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\npublic abstract class BasicDevice {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;ID&quot;, nullable = false)\n    private Integer id;\n\n    @Column(name = &quot;DEVICE_ID&quot;)\n    private String deviceId;\n\n    @Column(name = &quot;VEHICLE_ID&quot;)\n    private int vehicleId;\n\n}\n</code></pre>\n<p>The ApiService can have multiple implementation, two for example:</p>\n<pre><code>@Service\npublic class ImouService implements ApiService&lt;ImouDevice&gt; {\n\n\n    @Override\n    public byte[] getDeviceSnap(ImouDevice imouDevice) {\n        //some implementation\n        return new byte[0];\n    }\n</code></pre>\n<p>And second:</p>\n<pre><code>@Service\npublic class DahuaService implements ApiService&lt;DahuaDevice&gt; {\n\n    @Override\n    public byte[] getDeviceSnap(DahuaDevice device) {\n         //some implementation\n        return new byte[0];\n    }\n}\n</code></pre>\n<p>This two implementation have their own generics that are extending from BasicDevice but with their uniq fields, like this:</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString\npublic class DahuaDevice extends BasicDevice {\n\n    @Column(name = &quot;HOST_NAME&quot;)\n    private String hostname;\n\n}\n</code></pre>\n<p>And the problem itself, in code below I retrieving from DB list of beans that extending from BasicDevice, like ImouDevice and DahuaDevice, then I trying to call method for each bean from list, but for that I need injection of apiService with its correct implementation, meaning imouService for ImouDevice, dahuaService for DahuaDevice, etc.But it doesn't know which implementation to use and throws exception - Parameter 2 of constructor in ScheduleTask required a single bean, but 2 were found - dahuaService,imouService</p>\n<pre><code>public class ScheduleTask {\n\n    private static final Logger log = LogManager.getLogger(ScheduleTask.class);\n    private final DeviceVehicleRepository deviceVehicleRepository;\n    private final UrlDeviceBeanRepository urlDeviceBeanRepository;\n    private final ApiService apiService;\n    private final S3Service service;\n    private final CacheManager cacheManager;\n\n    public ScheduleTask(DeviceVehicleRepository deviceVehicleRepository, UrlDeviceBeanRepository urlDeviceBeanRepository,\n                         ApiService apiService, S3Service service, CacheManager cacheManager) {\n        this.deviceVehicleRepository = deviceVehicleRepository;\n        this.urlDeviceBeanRepository = urlDeviceBeanRepository;\n        this.apiService = apiService;\n        this.service = service;\n        this.cacheManager = cacheManager;\n    }\n\n    @Scheduled(cron = &quot;0 0/1 * * * ?&quot;)//every minute\n    public void getSnaps() {\n        Long timestamp = Instant.now().getEpochSecond();\n        log.info(&quot;Started scheduled task to get snapshots&quot;);\n        List&lt;BasicDevice&gt; allVehiclesWithDevices = (List&lt;BasicDevice&gt;) deviceVehicleRepository.findAll();\n        allVehiclesWithDevices.parallelStream().forEach(basicDevice -&gt;\n        {\n            byte[] contentBytes = apiService.getDeviceSnap(basicDevice);//here it doesn't which implementation to use\n            if (contentBytes.length &gt; 0) {\n                urlDeviceBeanRepository.save(new UrlDeviceBean(contentBytes,\n                        basicDevice.getVehicleId(), timestamp));\n            }\n        });\n    }\n</code></pre>\n<p>How to always inject correct implementation depends on bean type?</p>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1682420670,"post_id":76099263,"comment_id":134208959,"body_markdown":"Do you really want all images in the resources of the page? Or do you want all images actually used on the page?","body":"Do you really want all images in the resources of the page? Or do you want all images actually used on the page?"},{"owner":{"account_id":10982715,"reputation":11,"user_id":8069334,"display_name":"Giovanni De Maio Langella"},"score":0,"creation_date":1682421411,"post_id":76099263,"comment_id":134209140,"body_markdown":"i want all the images used on that specific PDF page.","body":"i want all the images used on that specific PDF page."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1682424522,"post_id":76099263,"comment_id":134209915,"body_markdown":"*&quot;all the images used on that specific PDF page&quot;* - The PDFBox example `PrintImageLocations` should show how to retrieve them.","body":"<i>&quot;all the images used on that specific PDF page&quot;</i> - The PDFBox example <code>PrintImageLocations</code> should show how to retrieve them."}],"owner":{"account_id":10982715,"reputation":11,"user_id":8069334,"display_name":"Giovanni De Maio Langella"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682412891,"creation_date":1682412685,"question_id":76099263,"body_markdown":"I am a little bit stuck with my code. I have to extract all the images from a PDF page for comparison. I retrieve the current page, and then I get the resources, then I don&#39;t know how to retrieve all the images on that page.\r\n\r\n```\r\nPDPage page = (PDPage)this.document.getDocumentCatalog().getPages().get(i);\r\nPDResources resources = page.getResources();\r\n```\r\nI have seen that PDFBox has changed slightly in the last versions, and now I am confused.\r\n\t\t\t\r\n","title":"How to get all the images in a PDPage?","body":"<p>I am a little bit stuck with my code. I have to extract all the images from a PDF page for comparison. I retrieve the current page, and then I get the resources, then I don't know how to retrieve all the images on that page.</p>\n<pre><code>PDPage page = (PDPage)this.document.getDocumentCatalog().getPages().get(i);\nPDResources resources = page.getResources();\n</code></pre>\n<p>I have seen that PDFBox has changed slightly in the last versions, and now I am confused.</p>\n"},{"tags":["java","sql","jtable","jlabel","jcheckbox"],"comments":[{"owner":{"account_id":6740011,"reputation":46650,"user_id":5193536,"display_name":"nbk"},"score":1,"creation_date":1682407848,"post_id":76098603,"comment_id":134205994,"body_markdown":"please read https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-on-so-when-asking-a-question and https://stackoverflow.com/help/minimal-reproducible-example and edit your question","body":"please read <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-on-so-when-asking-a-question\" title=\"why not upload images of code on so when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a> and edit your question"}],"owner":{"account_id":26658970,"reputation":1,"user_id":20272087,"display_name":"Aravind S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682412748,"creation_date":1682407736,"question_id":76098603,"body_markdown":"i have try to display the lower value of item qty in jlabel after checkbox selected in jtable which is already populated by sql query and by clicking the jbutton these value will display in jlabel.\r\n\r\ni have try to list the selected item for display the lower item qty in jlabel .\r\n\r\n```\r\nprivate void ButtonbtActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        try {\r\n            PreparedStatement ps = DataBase.mycon().prepareStatement(&quot;select (sum(`Item Available Qty`)/Qty) as available,&quot;\r\n                    + &quot;`Check` from a where `Part No` is not null and `Check` !=&#39;1&#39;&quot; \r\n                    +&quot;group by `Part No` order by (sum(`Item Available Qty`)/Qty) limit 1&quot;);\r\n            ResultSet rs = ps.executeQuery();\r\n            while (rs.next()) {\r\n                String product = rs.getString(&quot;available&quot;);\r\n                BOMProductsL.setText(product);\r\n            }\r\n            ps.close();\r\n            DataBase.mycon().close();\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n            JOptionPane.showMessageDialog(null, &quot;Product loading error&quot;);\r\n        }\r\n    } \r\n```\r\nExpected Output by clicking in button\r\n\r\n[Expected output](https://i.stack.imgur.com/CCkFf.jpg)\r\n\r\nOutput i get by clicking in button\r\n\r\n[output i get](https://i.stack.imgur.com/hDhYH.jpg)","title":"how to use check box in jtable with the help of sql query to display values in jlabel after button is clicked","body":"<p>i have try to display the lower value of item qty in jlabel after checkbox selected in jtable which is already populated by sql query and by clicking the jbutton these value will display in jlabel.</p>\n<p>i have try to list the selected item for display the lower item qty in jlabel .</p>\n<pre><code>private void ButtonbtActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        try {\n            PreparedStatement ps = DataBase.mycon().prepareStatement(&quot;select (sum(`Item Available Qty`)/Qty) as available,&quot;\n                    + &quot;`Check` from a where `Part No` is not null and `Check` !='1'&quot; \n                    +&quot;group by `Part No` order by (sum(`Item Available Qty`)/Qty) limit 1&quot;);\n            ResultSet rs = ps.executeQuery();\n            while (rs.next()) {\n                String product = rs.getString(&quot;available&quot;);\n                BOMProductsL.setText(product);\n            }\n            ps.close();\n            DataBase.mycon().close();\n        } catch (SQLException e) {\n            e.printStackTrace();\n            JOptionPane.showMessageDialog(null, &quot;Product loading error&quot;);\n        }\n    } \n</code></pre>\n<p>Expected Output by clicking in button</p>\n<p><a href=\"https://i.stack.imgur.com/CCkFf.jpg\" rel=\"nofollow noreferrer\">Expected output</a></p>\n<p>Output i get by clicking in button</p>\n<p><a href=\"https://i.stack.imgur.com/hDhYH.jpg\" rel=\"nofollow noreferrer\">output i get</a></p>\n"},{"tags":["java","postgresql","jvm-crash"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1682056030,"post_id":76069719,"comment_id":134158533,"body_markdown":"https://stackoverflow.com/questions/5539923/agent-error-invalid-event-type-when-testing-an-eclipse-plugin *might* help.","body":"<a href=\"https://stackoverflow.com/questions/5539923/agent-error-invalid-event-type-when-testing-an-eclipse-plugin\" title=\"agent error invalid event type when testing an eclipse plugin\">stackoverflow.com/questions/5539923/&hellip;</a> <i>might</i> help."},{"owner":{"account_id":8128600,"reputation":61,"user_id":6122625,"display_name":"mello_yello"},"score":0,"creation_date":1682081471,"post_id":76069719,"comment_id":134163740,"body_markdown":"omg...i&#39;ve read that exact question no less than 15 times _*wishing*_ my solution could be so easy but knowing it couldn&#39;t be...we&#39;d never call thread.stop in a webapp and they had an eclipse plugin.\n\nbut since you took the time to link it, I figured I should double check....yep...that was exactly the problem.  They tried postgres 20 yrs ago and the drivers didn&#39;t support timeouts...so there was a thread monitoring the timing and after it was done it called .stop()\n\nproblem solved!  thanks so much for poking me to validate one more time!","body":"omg...i&#39;ve read that exact question no less than 15 times <i>*wishing*</i> my solution could be so easy but knowing it couldn&#39;t be...we&#39;d never call thread.stop in a webapp and they had an eclipse plugin.  but since you took the time to link it, I figured I should double check....yep...that was exactly the problem.  They tried postgres 20 yrs ago and the drivers didn&#39;t support timeouts...so there was a thread monitoring the timing and after it was done it called .stop()  problem solved!  thanks so much for poking me to validate one more time!"}],"answers":[{"tags":[],"owner":{"account_id":8128600,"reputation":61,"user_id":6122625,"display_name":"mello_yello"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682412022,"creation_date":1682081686,"answer_id":76073371,"question_id":76069719,"body_markdown":"Do not use `Thread.stop()` and sometimes you need to really validate your assumptions of what is possible in your complicated code base.","title":"How to troubleshoot Java JDWP fatal errors","body":"<p>Do not use <code>Thread.stop()</code> and sometimes you need to really validate your assumptions of what is possible in your complicated code base.</p>\n"}],"owner":{"account_id":8128600,"reputation":61,"user_id":6122625,"display_name":"mello_yello"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682412022,"creation_date":1682048294,"question_id":76069719,"body_markdown":"I have a large legacy webapp that runs on java11/oracle/tomcat 9.  We&#39;re exploring the feasibility of transitioning to postgres.  I&#39;m running locally on my laptop (windows 11 enterprise), intellij+tomcat, postgres on docker.  When using intellij to start tomcat WITHOUT connecting the debugger there&#39;s no problems.  If I start tomcat with the debugger to investigate something, the tomcat jvm intermittently dies (always dies...just dies at different steps each time within 3-5 min of using the app). Basically all I have is knowing it doesn&#39;t happen with oracle and this fatal dump:\r\n\r\n(this line from redhat 11, other jdk11 versions had &#39;.../eventHelper.c:883&#39;):\r\n\r\nFATAL ERROR in native method: JDWP ExceptionOccurred, jvmtiError=AGENT_ERROR_INVALID_EVENT_TYPE(204)\r\nJDWP exit error AGENT_ERROR_INVALID_EVENT_TYPE(204): ExceptionOccurred [c:\\cygwin64\\tmp\\ojdkbuild\\lookaside\\java-11-openjdk\\src\\jdk.jdwp.agent\\share\\native\\libjdwp\\eventHelper.c:883]\r\n\r\nVM args for debugger:\r\n-agentlib:jdwp=transport=dt_socket,address=127.0.0.1:58021,suspend=y,server=n -Dspring.profiles.active=local -Xms2048m -Xmx8128m -XX:ReservedCodeCacheSize=2048m\r\n\r\nI&#39;ve tried different vendors for open jdk (redhat, amazon, etc), different postgres drivers versions (currently using 42.5.2), different versions of jdk11, different versions of intellij (2022 versions up to 2023.1)...all have it happen.  I dont see any kind of hs_err_&lt;pid&gt;.log\r\n\r\nAny suggestions on where to look or something that would help me get more info?","title":"How to troubleshoot Java JDWP fatal errors","body":"<p>I have a large legacy webapp that runs on java11/oracle/tomcat 9.  We're exploring the feasibility of transitioning to postgres.  I'm running locally on my laptop (windows 11 enterprise), intellij+tomcat, postgres on docker.  When using intellij to start tomcat WITHOUT connecting the debugger there's no problems.  If I start tomcat with the debugger to investigate something, the tomcat jvm intermittently dies (always dies...just dies at different steps each time within 3-5 min of using the app). Basically all I have is knowing it doesn't happen with oracle and this fatal dump:</p>\n<p>(this line from redhat 11, other jdk11 versions had '.../eventHelper.c:883'):</p>\n<p>FATAL ERROR in native method: JDWP ExceptionOccurred, jvmtiError=AGENT_ERROR_INVALID_EVENT_TYPE(204)\nJDWP exit error AGENT_ERROR_INVALID_EVENT_TYPE(204): ExceptionOccurred [c:\\cygwin64\\tmp\\ojdkbuild\\lookaside\\java-11-openjdk\\src\\jdk.jdwp.agent\\share\\native\\libjdwp\\eventHelper.c:883]</p>\n<p>VM args for debugger:\n-agentlib:jdwp=transport=dt_socket,address=127.0.0.1:58021,suspend=y,server=n -Dspring.profiles.active=local -Xms2048m -Xmx8128m -XX:ReservedCodeCacheSize=2048m</p>\n<p>I've tried different vendors for open jdk (redhat, amazon, etc), different postgres drivers versions (currently using 42.5.2), different versions of jdk11, different versions of intellij (2022 versions up to 2023.1)...all have it happen.  I dont see any kind of hs_err_.log</p>\n<p>Any suggestions on where to look or something that would help me get more info?</p>\n"},{"tags":["java","amazon-dynamodb"],"comments":[{"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"score":0,"creation_date":1682412974,"post_id":76099146,"comment_id":134207197,"body_markdown":"Are you trying this against DynamoDB Local?","body":"Are you trying this against DynamoDB Local?"},{"owner":{"account_id":1212720,"reputation":87,"user_id":1180969,"accept_rate":20,"display_name":"user1180969"},"score":0,"creation_date":1682441536,"post_id":76099146,"comment_id":134215123,"body_markdown":"Yes, it&#39;s dynamodb local","body":"Yes, it&#39;s dynamodb local"},{"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"score":0,"creation_date":1682444390,"post_id":76099146,"comment_id":134215756,"body_markdown":"Curious if you tried the same request against the original DynamoDB?","body":"Curious if you tried the same request against the original DynamoDB?"}],"owner":{"account_id":1212720,"reputation":87,"user_id":1180969,"accept_rate":20,"display_name":"user1180969"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682411818,"creation_date":1682411818,"question_id":76099146,"body_markdown":"What could be wrong with below code? Error thrown when executing `dynamoDbClient.executeStatement(request)`\r\n\r\nTried several ways to find the issue :(\r\n\r\nError: software.amazon.awssdk.services.dynamodb.model.DynamoDbException: An unknown operation was requested. (Service: DynamoDb, Status Code: 400, Request ID: c20c2e4e-a2b9-4d9e-9405-c9f3a2505900)\r\n\r\n\r\n&gt;     String sqlStatement = &quot;SELECT * FROM policies WHERE pk=?&quot;;\r\n&gt;     List&lt;AttributeValue&gt; parameters = new ArrayList&lt;&gt;();\r\n&gt;     AttributeValue att1 = AttributeValue.builder()\r\n&gt;                     .s(policyIds.stream().findFirst().get())\r\n&gt;                     .build();\r\n&gt;     parameters.add(att1);\r\n&gt;     ExecuteStatementRequest request = ExecuteStatementRequest.builder().statement(sqlStatement).parameters(att1).build();\r\n&gt;     ExecuteStatementResponse response = dynamoDbClient.executeStatement(request);\r\n\r\nReference: https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/example_dynamodb_BatchExecuteStatement_section.html\r\n        \r\n","title":"Dynamodbclient unknown exception","body":"<p>What could be wrong with below code? Error thrown when executing <code>dynamoDbClient.executeStatement(request)</code></p>\n<p>Tried several ways to find the issue :(</p>\n<p>Error: software.amazon.awssdk.services.dynamodb.model.DynamoDbException: An unknown operation was requested. (Service: DynamoDb, Status Code: 400, Request ID: c20c2e4e-a2b9-4d9e-9405-c9f3a2505900)</p>\n<blockquote>\n<pre><code>String sqlStatement = &quot;SELECT * FROM policies WHERE pk=?&quot;;\nList&lt;AttributeValue&gt; parameters = new ArrayList&lt;&gt;();\nAttributeValue att1 = AttributeValue.builder()\n                .s(policyIds.stream().findFirst().get())\n                .build();\nparameters.add(att1);\nExecuteStatementRequest request = ExecuteStatementRequest.builder().statement(sqlStatement).parameters(att1).build();\nExecuteStatementResponse response = dynamoDbClient.executeStatement(request);\n</code></pre>\n</blockquote>\n<p>Reference: <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/example_dynamodb_BatchExecuteStatement_section.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/example_dynamodb_BatchExecuteStatement_section.html</a></p>\n"},{"tags":["java","maven","cucumber","junit5","allure"],"answers":[{"tags":[],"owner":{"account_id":28230808,"reputation":23,"user_id":21580069,"display_name":"Corentin CANIN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682411633,"creation_date":1682411633,"answer_id":76099126,"question_id":76073748,"body_markdown":"Worked around this problem by creating two maven profiles, each only launching either API or UI tests by excluding the others. Also moved allure-junit5 dependency to the API profile so it wouldn&#39;t try to generate results for UI tests.\r\n\r\nThen I just run the profiles one after the other like this :\r\n\r\n    mvn clean\r\n    mvn package -Papi-tests\r\n    mvn package -Pui-tests\r\n\r\nBoth profiles generate allure results in the same folder so when I generate the reports all results are used and I get a pretty report for both UI and API with no duplicate. Here is the result : \r\n\r\n[![enter image description here][1]][1]\r\n\r\nand here is the resulting pom.xml :\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;project&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.plugin.version&gt;3.11.0&lt;/maven.compiler.plugin.version&gt;\r\n\r\n        &lt;allure-junit5.version&gt;2.21.0&lt;/allure-junit5.version&gt;\r\n        &lt;allure-cucumber7-jvm.version&gt;2.21.0&lt;/allure-cucumber7-jvm.version&gt;\r\n        &lt;assertj-core.version&gt;3.24.2&lt;/assertj-core.version&gt;\r\n        &lt;maven.surefire.plugin.version&gt;3.0.0&lt;/maven.surefire.plugin.version&gt;\r\n        &lt;log4j.version&gt;2.20.0&lt;/log4j.version&gt;\r\n        &lt;slf4j.version&gt;2.0.7&lt;/slf4j.version&gt;\r\n\r\n        &lt;rest-assured.version&gt;5.3.0&lt;/rest-assured.version&gt;\r\n        &lt;slf4j-log4j12.version&gt;2.0.7&lt;/slf4j-log4j12.version&gt;\r\n        &lt;aspectj.version&gt;1.9.19&lt;/aspectj.version&gt;\r\n        &lt;jackson.version&gt;2.14.2&lt;/jackson.version&gt;\r\n        &lt;lombok.version&gt;1.18.26&lt;/lombok.version&gt;\r\n\r\n        &lt;selenium.version&gt;4.8.3&lt;/selenium.version&gt;\r\n        &lt;webdrivermanager.version&gt;5.3.2&lt;/webdrivermanager.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;7.11.2&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;5.9.2&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- Rest Assured dependency | For API Testing --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;${rest-assured.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--Junit\r\n        Dependencies | For Test execution--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--Cucumber\r\n        Dependencies | For Test execution--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--WebDriver\r\n        Dependency | For UI testing--&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;${webdrivermanager.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--Allure\r\n        Dependency | For Reporting--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-cucumber7-jvm&lt;/artifactId&gt;\r\n            &lt;version&gt;${allure-cucumber7-jvm.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;${allure-junit5.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${assertj-core.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--Log4J\r\n        Dependency | For Logging--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;ui-tests&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;!-- display active profile in compile phase --&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-help-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.4.0&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;show-profiles&lt;/id&gt;\r\n                                &lt;phase&gt;compile&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;active-profiles&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;**/payment/zppapi/*.java&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                            &lt;systemProperties&gt;\r\n                                &lt;property&gt;\r\n                                    &lt;name&gt;allure.results.directory&lt;/name&gt;\r\n                                    &lt;value&gt;target/allure-results&lt;/value&gt;\r\n                                &lt;/property&gt;\r\n                            &lt;/systemProperties&gt;\r\n                            &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n                            &lt;argLine&gt;\r\n                                -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\r\n                                -Dcucumber.options=&quot;--plugin\r\n                                io.qameta.allure.cucumber7jvm.AllureCucumber7Jvm&quot;\r\n                            &lt;/argLine&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;dependencies&gt;\r\n                            &lt;dependency&gt;\r\n                                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                                &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n                            &lt;/dependency&gt;\r\n                        &lt;/dependencies&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.21.0&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;reportVersion&gt;2.21.0&lt;/reportVersion&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;api-tests&lt;/id&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;allure-junit5&lt;/artifactId&gt;\r\n                    &lt;version&gt;${allure-junit5.version}&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;!-- display active profile in compile phase --&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-help-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.4.0&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;show-profiles&lt;/id&gt;\r\n                                &lt;phase&gt;compile&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;active-profiles&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;**/RunCucumberTest.java&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                            &lt;systemProperties&gt;\r\n                                &lt;property&gt;\r\n                                    &lt;name&gt;allure.results.directory&lt;/name&gt;\r\n                                    &lt;value&gt;target/allure-results&lt;/value&gt;\r\n                                &lt;/property&gt;\r\n                            &lt;/systemProperties&gt;\r\n                            &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n                            &lt;argLine&gt;\r\n                                -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\r\n                            &lt;/argLine&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;dependencies&gt;\r\n                            &lt;dependency&gt;\r\n                                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                                &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n                            &lt;/dependency&gt;\r\n                        &lt;/dependencies&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.21.0&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;reportVersion&gt;2.21.0&lt;/reportVersion&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nPlease note that I am very new to maven so my pom.xml can probably be improved.\r\n\r\n  [1]: https://i.stack.imgur.com/qxZkd.png","title":"How to prevent allure-junit5 from generating reports for Cucumber7 tests?","body":"<p>Worked around this problem by creating two maven profiles, each only launching either API or UI tests by excluding the others. Also moved allure-junit5 dependency to the API profile so it wouldn't try to generate results for UI tests.</p>\n<p>Then I just run the profiles one after the other like this :</p>\n<pre><code>mvn clean\nmvn package -Papi-tests\nmvn package -Pui-tests\n</code></pre>\n<p>Both profiles generate allure results in the same folder so when I generate the reports all results are used and I get a pretty report for both UI and API with no duplicate. Here is the result :</p>\n<p><a href=\"https://i.stack.imgur.com/qxZkd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qxZkd.png\" alt=\"enter image description here\" /></a></p>\n<p>and here is the resulting pom.xml :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;project&lt;/artifactId&gt;\n    &lt;version&gt;2.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.plugin.version&gt;3.11.0&lt;/maven.compiler.plugin.version&gt;\n\n        &lt;allure-junit5.version&gt;2.21.0&lt;/allure-junit5.version&gt;\n        &lt;allure-cucumber7-jvm.version&gt;2.21.0&lt;/allure-cucumber7-jvm.version&gt;\n        &lt;assertj-core.version&gt;3.24.2&lt;/assertj-core.version&gt;\n        &lt;maven.surefire.plugin.version&gt;3.0.0&lt;/maven.surefire.plugin.version&gt;\n        &lt;log4j.version&gt;2.20.0&lt;/log4j.version&gt;\n        &lt;slf4j.version&gt;2.0.7&lt;/slf4j.version&gt;\n\n        &lt;rest-assured.version&gt;5.3.0&lt;/rest-assured.version&gt;\n        &lt;slf4j-log4j12.version&gt;2.0.7&lt;/slf4j-log4j12.version&gt;\n        &lt;aspectj.version&gt;1.9.19&lt;/aspectj.version&gt;\n        &lt;jackson.version&gt;2.14.2&lt;/jackson.version&gt;\n        &lt;lombok.version&gt;1.18.26&lt;/lombok.version&gt;\n\n        &lt;selenium.version&gt;4.8.3&lt;/selenium.version&gt;\n        &lt;webdrivermanager.version&gt;5.3.2&lt;/webdrivermanager.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n                &lt;artifactId&gt;cucumber-bom&lt;/artifactId&gt;\n                &lt;version&gt;7.11.2&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.junit&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\n                &lt;version&gt;5.9.2&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Rest Assured dependency | For API Testing --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;${rest-assured.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--Junit\n        Dependencies | For Test execution--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!--Cucumber\n        Dependencies | For Test execution--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--WebDriver\n        Dependency | For UI testing--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;${webdrivermanager.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;!--Allure\n        Dependency | For Reporting--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-cucumber7-jvm&lt;/artifactId&gt;\n            &lt;version&gt;${allure-cucumber7-jvm.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;${allure-junit5.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n            &lt;version&gt;${assertj-core.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--Log4J\n        Dependency | For Logging--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;ui-tests&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;!-- display active profile in compile phase --&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-help-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.4.0&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;show-profiles&lt;/id&gt;\n                                &lt;phase&gt;compile&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;active-profiles&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;**/payment/zppapi/*.java&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                            &lt;systemProperties&gt;\n                                &lt;property&gt;\n                                    &lt;name&gt;allure.results.directory&lt;/name&gt;\n                                    &lt;value&gt;target/allure-results&lt;/value&gt;\n                                &lt;/property&gt;\n                            &lt;/systemProperties&gt;\n                            &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n                            &lt;argLine&gt;\n                                -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\n                                -Dcucumber.options=&quot;--plugin\n                                io.qameta.allure.cucumber7jvm.AllureCucumber7Jvm&quot;\n                            &lt;/argLine&gt;\n                        &lt;/configuration&gt;\n                        &lt;dependencies&gt;\n                            &lt;dependency&gt;\n                                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                                &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                                &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                            &lt;/dependency&gt;\n                        &lt;/dependencies&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n                        &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\n                        &lt;version&gt;2.21.0&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;reportVersion&gt;2.21.0&lt;/reportVersion&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;api-tests&lt;/id&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n                    &lt;artifactId&gt;allure-junit5&lt;/artifactId&gt;\n                    &lt;version&gt;${allure-junit5.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;!-- display active profile in compile phase --&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-help-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.4.0&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;show-profiles&lt;/id&gt;\n                                &lt;phase&gt;compile&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;active-profiles&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;**/RunCucumberTest.java&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                            &lt;systemProperties&gt;\n                                &lt;property&gt;\n                                    &lt;name&gt;allure.results.directory&lt;/name&gt;\n                                    &lt;value&gt;target/allure-results&lt;/value&gt;\n                                &lt;/property&gt;\n                            &lt;/systemProperties&gt;\n                            &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n                            &lt;argLine&gt;\n                                -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\n                            &lt;/argLine&gt;\n                        &lt;/configuration&gt;\n                        &lt;dependencies&gt;\n                            &lt;dependency&gt;\n                                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                                &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                                &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                            &lt;/dependency&gt;\n                        &lt;/dependencies&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n                        &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\n                        &lt;version&gt;2.21.0&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;reportVersion&gt;2.21.0&lt;/reportVersion&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Please note that I am very new to maven so my pom.xml can probably be improved.</p>\n"}],"owner":{"account_id":28230808,"reputation":23,"user_id":21580069,"display_name":"Corentin CANIN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76099126,"answer_count":1,"score":1,"last_activity_date":1682411633,"creation_date":1682084464,"question_id":76073748,"body_markdown":"I have a project with UI tests in Cucumber7 running with JUnit5 and API tests in plain JUnit.\r\n\r\nSo I need the dependencies `allure-junit5` and `allure-cucumber7-jvm` in order to generate reports for plain JUnit tests and for Cucumber tests. But because the Cucumber tests run with JUnit, their reports are generated by both dependencies and I can get rid of neither because they are essential to generating reports for half of the tests.\r\n\r\nIs there a way to prevent `allure-junit5` from generating reports for Cucumber tests? Or maybe a way to merge duplicates?\r\n\r\nHere is my pom.xml :\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;project&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.plugin.version&gt;3.11.0&lt;/maven.compiler.plugin.version&gt;\r\n\r\n        &lt;allure-junit5.version&gt;2.21.0&lt;/allure-junit5.version&gt;\r\n        &lt;allure-cucumber7-jvm.version&gt;2.21.0&lt;/allure-cucumber7-jvm.version&gt;\r\n        &lt;assertj-core.version&gt;3.24.2&lt;/assertj-core.version&gt;\r\n        &lt;maven.surefire.plugin.version&gt;3.0.0&lt;/maven.surefire.plugin.version&gt;\r\n        &lt;log4j.version&gt;2.20.0&lt;/log4j.version&gt;\r\n        &lt;slf4j.version&gt;2.0.7&lt;/slf4j.version&gt;\r\n\r\n        &lt;rest-assured.version&gt;5.3.0&lt;/rest-assured.version&gt;\r\n        &lt;slf4j-log4j12.version&gt;2.0.7&lt;/slf4j-log4j12.version&gt;\r\n        &lt;aspectj.version&gt;1.9.19&lt;/aspectj.version&gt;\r\n        &lt;jackson.version&gt;2.14.2&lt;/jackson.version&gt;\r\n        &lt;lombok.version&gt;1.18.26&lt;/lombok.version&gt;\r\n\r\n        &lt;selenium.version&gt;4.8.3&lt;/selenium.version&gt;\r\n        &lt;webdrivermanager.version&gt;5.3.2&lt;/webdrivermanager.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;7.11.2&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;5.9.2&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- Rest Assured dependency | For API Testing --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;${rest-assured.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--Junit\r\n        Dependencies | For Test execution--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--Cucumber\r\n        Dependencies | For Test execution--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--WebDriver\r\n        Dependency | For UI testing--&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;${webdrivermanager.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--Allure\r\n        Dependency | For Reporting--&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-cucumber7-jvm&lt;/artifactId&gt;\r\n            &lt;version&gt;${allure-cucumber7-jvm.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-junit5&lt;/artifactId&gt;\r\n            &lt;version&gt;${allure-junit5.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;${allure-junit5.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${assertj-core.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--Log4J\r\n        Dependency | For Logging--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;systemProperties&gt;\r\n                        &lt;property&gt;\r\n                           &lt;name&gt;allure.results.directory&lt;/name&gt;\r\n                           &lt;value&gt;target/allure-results&lt;/value&gt;\r\n                         &lt;/property&gt;\r\n                     &lt;/systemProperties&gt;\r\n                    &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n                    &lt;argLine&gt;\r\n                        -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot; -Dcucumber.options=&quot;--plugin io.qameta.allure.cucumber5jvm.AllureCucumber5Jvm&quot;\r\n                        -Dcucumber.options=&quot;--plugin io.qameta.allure.cucumber7jvm.AllureCucumber7Jvm&quot;\r\n                    &lt;/argLine&gt;\r\n                    &lt;systemPropertyVariables&gt;\r\n                        &lt;property&gt;\r\n                            &lt;name&gt;junit.jupiter.extensions.autodetection.enabled&lt;/name&gt;\r\n                            &lt;value&gt;true&lt;/value&gt;\r\n                        &lt;/property&gt;\r\n                    &lt;/systemPropertyVariables&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\r\n                &lt;version&gt;2.21.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;reportVersion&gt;2.21.0&lt;/reportVersion&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n```\r\nMy RunCucumberTest class :\r\n```\r\npackage com.example.ui.web;\r\n\r\nimport org.junit.platform.suite.api.ConfigurationParameter;\r\nimport org.junit.platform.suite.api.IncludeEngines;\r\nimport org.junit.platform.suite.api.SelectClasspathResource;\r\nimport org.junit.platform.suite.api.Suite;\r\n\r\nimport static io.cucumber.junit.platform.engine.Constants.PLUGIN_PROPERTY_NAME;\r\nimport static io.cucumber.junit.platform.engine.Constants.GLUE_PROPERTY_NAME;\r\nimport static io.cucumber.junit.platform.engine.Constants.PLUGIN_PUBLISH_QUIET_PROPERTY_NAME;\r\n\r\n@Suite\r\n@IncludeEngines(&quot;cucumber&quot;)\r\n@SelectClasspathResource(&quot;com/example/ui/web&quot;)\r\n@ConfigurationParameter(key = PLUGIN_PROPERTY_NAME, value = &quot;pretty,io.qameta.allure.cucumber7jvm.AllureCucumber7Jvm&quot;)\r\n@ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;com.example&quot;)\r\n@ConfigurationParameter(key = PLUGIN_PUBLISH_QUIET_PROPERTY_NAME, value = &quot;true&quot;)\r\npublic class RunCucumberTest {\r\n}\r\n\r\n```\r\nAnd this is what my current reports look like :\r\n\r\n[Allure report](https://i.stack.imgur.com/2dEgg.png)\r\n\r\nThe duplicates are underlined. The bottom ones are generated by `allure-junit5` and are less complete.","title":"How to prevent allure-junit5 from generating reports for Cucumber7 tests?","body":"<p>I have a project with UI tests in Cucumber7 running with JUnit5 and API tests in plain JUnit.</p>\n<p>So I need the dependencies <code>allure-junit5</code> and <code>allure-cucumber7-jvm</code> in order to generate reports for plain JUnit tests and for Cucumber tests. But because the Cucumber tests run with JUnit, their reports are generated by both dependencies and I can get rid of neither because they are essential to generating reports for half of the tests.</p>\n<p>Is there a way to prevent <code>allure-junit5</code> from generating reports for Cucumber tests? Or maybe a way to merge duplicates?</p>\n<p>Here is my pom.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;project&lt;/artifactId&gt;\n    &lt;version&gt;2.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.plugin.version&gt;3.11.0&lt;/maven.compiler.plugin.version&gt;\n\n        &lt;allure-junit5.version&gt;2.21.0&lt;/allure-junit5.version&gt;\n        &lt;allure-cucumber7-jvm.version&gt;2.21.0&lt;/allure-cucumber7-jvm.version&gt;\n        &lt;assertj-core.version&gt;3.24.2&lt;/assertj-core.version&gt;\n        &lt;maven.surefire.plugin.version&gt;3.0.0&lt;/maven.surefire.plugin.version&gt;\n        &lt;log4j.version&gt;2.20.0&lt;/log4j.version&gt;\n        &lt;slf4j.version&gt;2.0.7&lt;/slf4j.version&gt;\n\n        &lt;rest-assured.version&gt;5.3.0&lt;/rest-assured.version&gt;\n        &lt;slf4j-log4j12.version&gt;2.0.7&lt;/slf4j-log4j12.version&gt;\n        &lt;aspectj.version&gt;1.9.19&lt;/aspectj.version&gt;\n        &lt;jackson.version&gt;2.14.2&lt;/jackson.version&gt;\n        &lt;lombok.version&gt;1.18.26&lt;/lombok.version&gt;\n\n        &lt;selenium.version&gt;4.8.3&lt;/selenium.version&gt;\n        &lt;webdrivermanager.version&gt;5.3.2&lt;/webdrivermanager.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n                &lt;artifactId&gt;cucumber-bom&lt;/artifactId&gt;\n                &lt;version&gt;7.11.2&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.junit&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\n                &lt;version&gt;5.9.2&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Rest Assured dependency | For API Testing --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;${rest-assured.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--Junit\n        Dependencies | For Test execution--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!--Cucumber\n        Dependencies | For Test execution--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--WebDriver\n        Dependency | For UI testing--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;${webdrivermanager.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;!--Allure\n        Dependency | For Reporting--&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-cucumber7-jvm&lt;/artifactId&gt;\n            &lt;version&gt;${allure-cucumber7-jvm.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-junit5&lt;/artifactId&gt;\n            &lt;version&gt;${allure-junit5.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;${allure-junit5.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n            &lt;version&gt;${assertj-core.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--Log4J\n        Dependency | For Logging--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;systemProperties&gt;\n                        &lt;property&gt;\n                           &lt;name&gt;allure.results.directory&lt;/name&gt;\n                           &lt;value&gt;target/allure-results&lt;/value&gt;\n                         &lt;/property&gt;\n                     &lt;/systemProperties&gt;\n                    &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n                    &lt;argLine&gt;\n                        -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot; -Dcucumber.options=&quot;--plugin io.qameta.allure.cucumber5jvm.AllureCucumber5Jvm&quot;\n                        -Dcucumber.options=&quot;--plugin io.qameta.allure.cucumber7jvm.AllureCucumber7Jvm&quot;\n                    &lt;/argLine&gt;\n                    &lt;systemPropertyVariables&gt;\n                        &lt;property&gt;\n                            &lt;name&gt;junit.jupiter.extensions.autodetection.enabled&lt;/name&gt;\n                            &lt;value&gt;true&lt;/value&gt;\n                        &lt;/property&gt;\n                    &lt;/systemPropertyVariables&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n                &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\n                &lt;version&gt;2.21.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;reportVersion&gt;2.21.0&lt;/reportVersion&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p>My RunCucumberTest class :</p>\n<pre><code>package com.example.ui.web;\n\nimport org.junit.platform.suite.api.ConfigurationParameter;\nimport org.junit.platform.suite.api.IncludeEngines;\nimport org.junit.platform.suite.api.SelectClasspathResource;\nimport org.junit.platform.suite.api.Suite;\n\nimport static io.cucumber.junit.platform.engine.Constants.PLUGIN_PROPERTY_NAME;\nimport static io.cucumber.junit.platform.engine.Constants.GLUE_PROPERTY_NAME;\nimport static io.cucumber.junit.platform.engine.Constants.PLUGIN_PUBLISH_QUIET_PROPERTY_NAME;\n\n@Suite\n@IncludeEngines(&quot;cucumber&quot;)\n@SelectClasspathResource(&quot;com/example/ui/web&quot;)\n@ConfigurationParameter(key = PLUGIN_PROPERTY_NAME, value = &quot;pretty,io.qameta.allure.cucumber7jvm.AllureCucumber7Jvm&quot;)\n@ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;com.example&quot;)\n@ConfigurationParameter(key = PLUGIN_PUBLISH_QUIET_PROPERTY_NAME, value = &quot;true&quot;)\npublic class RunCucumberTest {\n}\n\n</code></pre>\n<p>And this is what my current reports look like :</p>\n<p><a href=\"https://i.stack.imgur.com/2dEgg.png\" rel=\"nofollow noreferrer\">Allure report</a></p>\n<p>The duplicates are underlined. The bottom ones are generated by <code>allure-junit5</code> and are less complete.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":3803841,"reputation":1575,"user_id":3156757,"display_name":"Yuriy Gyerts"},"score":0,"creation_date":1682408269,"post_id":76098629,"comment_id":134206097,"body_markdown":"Please add several examples like, input line -&gt; expected result","body":"Please add several examples like, input line -&gt; expected result"},{"owner":{"account_id":9729662,"reputation":75,"user_id":7215182,"display_name":"J. Doe"},"score":0,"creation_date":1682408279,"post_id":76098629,"comment_id":134206102,"body_markdown":"This is how resulting string looks like after using simple `replace`\nLorem ipsum dolor sit amet, consectetur adipiscing elit. /nSuspendisse eleifend fringilla ante, eleifend facilisis ne/nque egestas id. Sed ac placerat est, at elementum felis. Donec in /nquam et dolor dictum dignissim ut a quam. Vestibulum id sapien lacus. Donec gr/navida fermentum leo nec pharetra. Suspendisse vitae tempus nulla, et dignissim sem. Vivamus i/npsum massa, aliquet sed finibus in, ullamcorper vel ipsum. Integer porttitor justo id ligula/n pulvinar consequat. D/nonec nunc arcu, feugiat at hendrerit interdum,","body":"This is how resulting string looks like after using simple <code>replace</code> Lorem ipsum dolor sit amet, consectetur adipiscing elit. /nSuspendisse eleifend fringilla ante, eleifend facilisis ne/nque egestas id. Sed ac placerat est, at elementum felis. Donec in /nquam et dolor dictum dignissim ut a quam. Vestibulum id sapien lacus. Donec gr/navida fermentum leo nec pharetra. Suspendisse vitae tempus nulla, et dignissim sem. Vivamus i/npsum massa, aliquet sed finibus in, ullamcorper vel ipsum. Integer porttitor justo id ligula/n pulvinar consequat. D/nonec nunc arcu, feugiat at hendrerit interdum,"},{"owner":{"account_id":9729662,"reputation":75,"user_id":7215182,"display_name":"J. Doe"},"score":0,"creation_date":1682408350,"post_id":76098629,"comment_id":134206121,"body_markdown":"Desired output:\nLorem ipsum dolor sit amet\n\n, consectetur adipiscing elit. Proin et metus eget massa facilisis\n ultricies sit amet sit amet mi. Donec in hendrerit \n\njusto. Ut ut enim vehicu\nla metus ullamcorper lacinia sit amet fe\n\nugiat sem. Vivamus t\nempor eros consequat felis tempus tincidunt. Nullam h\n\nendrerit orci dictum dolor volutpat, in maximus lorem imperdiet. Aliquam tristique nunc nec tellus pretium luctus. Nulla suscipit non magna ac bibendum. D","body":"Desired output: Lorem ipsum dolor sit amet  , consectetur adipiscing elit. Proin et metus eget massa facilisis  ultricies sit amet sit amet mi. Donec in hendrerit   justo. Ut ut enim vehicu la metus ullamcorper lacinia sit amet fe  ugiat sem. Vivamus t empor eros consequat felis tempus tincidunt. Nullam h  endrerit orci dictum dolor volutpat, in maximus lorem imperdiet. Aliquam tristique nunc nec tellus pretium luctus. Nulla suscipit non magna ac bibendum. D"},{"owner":{"account_id":9729662,"reputation":75,"user_id":7215182,"display_name":"J. Doe"},"score":0,"creation_date":1682408427,"post_id":76098629,"comment_id":134206143,"body_markdown":"Well it doesnt show new lines in this comment section here but I need a text that doesn&#39;t have backslash symbols but still has all special symbols like \\n \\r etc. So normal  text but all visible backslashes are replaced with forward slashes","body":"Well it doesnt show new lines in this comment section here but I need a text that doesn&#39;t have backslash symbols but still has all special symbols like \\n \\r etc. So normal  text but all visible backslashes are replaced with forward slashes"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1682409160,"post_id":76098629,"comment_id":134206301,"body_markdown":"Here is an example https://ideone.com/HJEYPt where the &quot;\\n&quot; is not changed. Can you edit your question to include the actual code that produces the errors?","body":"Here is an example <a href=\"https://ideone.com/HJEYPt\" rel=\"nofollow noreferrer\">ideone.com/HJEYPt</a> where the &quot;\\n&quot; is not changed. Can you edit your question to include the actual code that produces the errors?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1682409304,"post_id":76098629,"comment_id":134206338,"body_markdown":"Take a look here. https://stackoverflow.com/help/minimal-reproducible-example","body":"Take a look here. <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":9729662,"reputation":75,"user_id":7215182,"display_name":"J. Doe"},"score":0,"creation_date":1682409649,"post_id":76098629,"comment_id":134206424,"body_markdown":"@matt I look here https://ideone.com/HJEYPt and this is exactly my code. `replace(&quot;\\\\&quot;, &quot;/&quot;)` results in broken new line characters","body":"@matt I look here <a href=\"https://ideone.com/HJEYPt\" rel=\"nofollow noreferrer\">ideone.com/HJEYPt</a> and this is exactly my code. <code>replace(&quot;\\\\&quot;, &quot;&#47;&quot;)</code> results in broken new line characters"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1682409720,"post_id":76098629,"comment_id":134206438,"body_markdown":"Why? What are these backslashes and where do they come from?","body":"Why? What are these backslashes and where do they come from?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1682409981,"post_id":76098629,"comment_id":134206486,"body_markdown":"@J.Doe In the example I pasted, it works fine. The `\\n` does not get broken into two characters with the first one being replaced. It absolutely does not be come &quot;/n&quot; if I use `replace(&quot;\\\\&quot;, &quot;/&quot;);` You need to create a complete compilable example because the behavior you&#39;re witnessing doesn&#39;t happen, so it is probably something else.","body":"@J.Doe In the example I pasted, it works fine. The <code>\\n</code> does not get broken into two characters with the first one being replaced. It absolutely does not be come &quot;/n&quot; if I use <code>replace(&quot;\\\\&quot;, &quot;&#47;&quot;);</code> You need to create a complete compilable example because the behavior you&#39;re witnessing doesn&#39;t happen, so it is probably something else."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1682410156,"post_id":76098629,"comment_id":134206524,"body_markdown":"What it sounds like is you have `String s = &quot;broken\\\\nlines&quot;;`. Then it *is not a newline character* but two characters &quot;\\&quot; and &quot;n&quot;. You could `string.replace(&quot;\\\\n&quot;, &quot;\\n&quot;);` and get new lines instead of having two characters that *look like* a newline character. How are you getting the string?","body":"What it sounds like is you have <code>String s = &quot;broken\\\\nlines&quot;;</code>. Then it <i>is not a newline character</i> but two characters &quot;\\&quot; and &quot;n&quot;. You could <code>string.replace(&quot;\\\\n&quot;, &quot;\\n&quot;);</code> and get new lines instead of having two characters that <i>look like</i> a newline character. How are you getting the string?"},{"owner":{"account_id":9729662,"reputation":75,"user_id":7215182,"display_name":"J. Doe"},"score":0,"creation_date":1682410493,"post_id":76098629,"comment_id":134206619,"body_markdown":"@matt string comes from a web form (JavaScript). Also I updated my question with an actual code piece from my app","body":"@matt string comes from a web form (JavaScript). Also I updated my question with an actual code piece from my app"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1682411379,"post_id":76098629,"comment_id":134206826,"body_markdown":"You can check out this quesiton. https://stackoverflow.com/questions/3537706/how-to-unescape-a-java-string-literal-in-java Which version of java are you using?","body":"You can check out this quesiton. <a href=\"https://stackoverflow.com/questions/3537706/how-to-unescape-a-java-string-literal-in-java\" title=\"how to unescape a java string literal in java\">stackoverflow.com/questions/3537706/&hellip;</a> Which version of java are you using?"},{"owner":{"account_id":9729662,"reputation":75,"user_id":7215182,"display_name":"J. Doe"},"score":0,"creation_date":1682411708,"post_id":76098629,"comment_id":134206904,"body_markdown":"@matt Unfortunately I&#39;m not allowed to modify the core of this app. Existing JSON structure has to stay. Updated question with example/desired string. Java version is 17. Javax Servlet version is 2.4","body":"@matt Unfortunately I&#39;m not allowed to modify the core of this app. Existing JSON structure has to stay. Updated question with example/desired string. Java version is 17. Javax Servlet version is 2.4"},{"owner":{"account_id":9729662,"reputation":75,"user_id":7215182,"display_name":"J. Doe"},"score":0,"creation_date":1682412000,"post_id":76098629,"comment_id":134206965,"body_markdown":"@matt Actual string data comes from a web request. Declaration is `        paramMap = req.getParameterMap();\n        for (Map.Entry&lt;String, String[]&gt; item : paramMap.entrySet()) {\n            for (int i = 0; i &lt; item.getValue().length; i++) {\n                String logString;\n                logString = &quot;[&quot; + item.getKey() + &quot;:&quot; + item.getValue()[i] + &quot;](&quot; + i + &quot;)&quot;;\n                log.info(logString);\n            }\n        }`\nMaybe I can replace backslash here?","body":"@matt Actual string data comes from a web request. Declaration is `        paramMap = req.getParameterMap();         for (Map.Entry&lt;String, String[]&gt; item : paramMap.entrySet()) {             for (int i = 0; i &lt; item.getValue().length; i++) {                 String logString;                 logString = &quot;[&quot; + item.getKey() + &quot;:&quot; + item.getValue()[i] + &quot;](&quot; + i + &quot;)&quot;;                 log.info(logString);             }         }` Maybe I can replace backslash here?"},{"owner":{"account_id":9729662,"reputation":75,"user_id":7215182,"display_name":"J. Doe"},"score":0,"creation_date":1682412371,"post_id":76098629,"comment_id":134207062,"body_markdown":"@matt Are you sure about `translateEscapes`? Doesn&#39;t work for me: `Cannot resolve method &#39;translateEscapes&#39; in &#39;String&#39;`","body":"@matt Are you sure about <code>translateEscapes</code>? Doesn&#39;t work for me: <code>Cannot resolve method &#39;translateEscapes&#39; in &#39;String&#39;</code>"},{"owner":{"account_id":9729662,"reputation":75,"user_id":7215182,"display_name":"J. Doe"},"score":0,"creation_date":1682413348,"post_id":76098629,"comment_id":134207295,"body_markdown":"not really sure I understand this right. I need to call `translateEscapes()` on my string variable is this correct? like `someString.translateEscapes()`. Or is it like `var newString = String.translateEscapes(oldString)` ?","body":"not really sure I understand this right. I need to call <code>translateEscapes()</code> on my string variable is this correct? like <code>someString.translateEscapes()</code>. Or is it like <code>var newString = String.translateEscapes(oldString)</code> ?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1682413528,"post_id":76098629,"comment_id":134207332,"body_markdown":"The latter, String is immutable. When you call methods that change the String it returns a new one.","body":"The latter, String is immutable. When you call methods that change the String it returns a new one."},{"owner":{"account_id":9729662,"reputation":75,"user_id":7215182,"display_name":"J. Doe"},"score":0,"creation_date":1682414248,"post_id":76098629,"comment_id":134207515,"body_markdown":"@matt It didn&#39;t work : `[ERROR]   symbol:   method translateEscapes()\n[ERROR]   location: class java.lang.String`","body":"@matt It didn&#39;t work : <code>[ERROR]   symbol:   method translateEscapes() [ERROR]   location: class java.lang.String</code>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1682414347,"post_id":76098629,"comment_id":134207537,"body_markdown":"Sounds like you&#39;re not using jdk 17 to run your servlet.","body":"Sounds like you&#39;re not using jdk 17 to run your servlet."},{"owner":{"account_id":9729662,"reputation":75,"user_id":7215182,"display_name":"J. Doe"},"score":0,"creation_date":1682414632,"post_id":76098629,"comment_id":134207611,"body_markdown":"@matt how do I know which version am I using? I didn&#39;t design this app. Also is there a solution to my problem if it really isn&#39;t jdk 17?","body":"@matt how do I know which version am I using? I didn&#39;t design this app. Also is there a solution to my problem if it really isn&#39;t jdk 17?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1682415113,"post_id":76098629,"comment_id":134207720,"body_markdown":"I meantioned above, replace the escaped characters with their actual characters. ie. `s = s.replace(&quot;\\\\n&quot;, &quot;\\n&quot;);` do that first","body":"I meantioned above, replace the escaped characters with their actual characters. ie. <code>s = s.replace(&quot;\\\\n&quot;, &quot;\\n&quot;);</code> do that first"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1682725942,"post_id":76098629,"comment_id":134266139,"body_markdown":"You may want to create a few objects or records allowing you to build the structure you need, and then simply just serialize it to JSON.  Your current approach is brittle and hard to maintain and debug.","body":"You may want to create a few objects or records allowing you to build the structure you need, and then simply just serialize it to JSON.  Your current approach is brittle and hard to maintain and debug."}],"answers":[{"tags":[],"owner":{"account_id":22384219,"reputation":108,"user_id":16597286,"display_name":"Windir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682408866,"creation_date":1682408866,"answer_id":76098754,"question_id":76098629,"body_markdown":"    somestring.replaceAll(&quot;\\\\\\\\(?!n)&quot;, &quot;/&quot;);","title":"How to replace backslash but not backslash + n (\\n) in Java?","body":"<pre><code>somestring.replaceAll(&quot;\\\\\\\\(?!n)&quot;, &quot;/&quot;);\n</code></pre>\n"}],"owner":{"account_id":9729662,"reputation":75,"user_id":7215182,"display_name":"J. Doe"},"comment_count":22,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1682409531,"accepted_answer_id":76098754,"answer_count":1,"score":-2,"last_activity_date":1682411563,"creation_date":1682407881,"question_id":76098629,"body_markdown":"Hello I need help replacing &quot;\\\\&quot; character with &quot;/&quot; character in Java.\r\nThis is my code:\r\n\r\n            json = &quot;{\\&quot;fields\\&quot;: {&quot; +\r\n                    &quot;                    \\&quot;project\\&quot;:&quot; +\r\n                    &quot;                            {&quot; +\r\n                    &quot;                                    \\&quot;key\\&quot;: \\&quot;key\\&quot;&quot; +\r\n                    &quot;                            },&quot; +\r\n                    &quot;                    \\&quot;summary\\&quot;: \\&quot;&quot; + paramMap.get(&quot;summary&quot;)[0] + &quot;\\&quot;,&quot; +\r\n                    &quot;                    \\&quot;description\\&quot;: \\&quot;&quot; + paramMap.get(&quot;description&quot;)[0].replaceAll(&quot;[\\r]{1}&quot;, &quot;&quot;).replaceAll(&quot;\\n&quot;,&quot;\\\\\\\\n&quot;).replace(&#39;\\\\&#39;, &#39;/&#39;)+ &quot;\\&quot;,&quot; +\r\n                    &quot;                   \\&quot;reporter\\&quot;: {&quot; +\r\n                    &quot;                           \\&quot;name\\&quot;: \\&quot;&quot; + reporter.getName() + &quot;\\&quot;&quot; +\r\n                    &quot;        },&quot;+\r\n                    &quot;                    \\&quot;issuetype\\&quot;: {&quot; +\r\n                    &quot;                            \\&quot;id\\&quot;: \\&quot;000000\\&quot;&quot; +\r\n                    &quot;                    },&quot; +\r\n                    something.toString() +\r\n                    somethingelse.toString() +\r\n            &quot;   }&quot; +\r\n                    &quot;}&quot;;\r\n\r\nThis is a mess and I need this JSON not to have backslashes in my text (description). so I added `replace(&#39;\\\\&#39;, &#39;/&#39;)` there\r\n\r\nUnfortunately this turns all new line symbols (&quot;\\\\n&quot;) into &quot;/n&quot;.\r\nI need to avoid this and also keep the original code\r\nIs there a better way to replace &quot;\\&quot; in Java OR to exclude &quot;\\n&quot; from replacement?\r\nThanks\r\n\r\n**Example stirng**:\r\n\r\nLorem ip\\sum dolor sit amet , \r\n\r\nconsectetur adipiscing elit. Proin et metus eget massa facilisis ultricies sit amet sit amet mi. Donec in hendrerit justo. Ut ut \r\n\r\nenim vehicu la metus ullamcorper lacinia sit amet fe ugiat sem. Vivamus t empor eros consequat felis tempus tincidunt. Nullam h endrerit orci dictum dolor volutpat, in maximus lorem imperdiet. Aliquam\r\n\r\n tristique nunc nec tellus pretium luctus. Nulla suscipit non magna ac bibendum. \r\n\r\n\r\n\r\n\r\n**Desired output**:\r\n\r\nLorem ip/sum dolor sit amet , \r\n\r\nconsectetur adipiscing elit. Proin et metus eget massa facilisis ultricies sit amet sit amet mi. Donec in hendrerit justo. Ut ut \r\n\r\nenim vehicu la metus ullamcorper lacinia sit amet fe ugiat sem. Vivamus t empor eros consequat felis tempus tincidunt. Nullam h endrerit orci dictum dolor volutpat, in maximus lorem imperdiet. Aliquam\r\n\r\n tristique nunc nec tellus pretium luctus. Nulla suscipit non magna ac bibendum.\r\n\r\n\r\n\r\n**Actual output**:\r\n\r\nLorem ip/sum dolor sit amet , /nconsectetur adipiscing elit. Proin et metus eget massa facilisis ultricies sit amet sit amet mi. Donec in hendrerit justo. Ut ut /nenim vehicu la metus ullamcorper lacinia sit amet fe ugiat sem. Vivamus t empor eros consequat felis tempus tincidunt. Nullam h endrerit orci dictum dolor volutpat, in maximus lorem imperdiet. Aliquam /ntristique nunc nec tellus pretium luctus. Nulla suscipit non magna ac bibendum.","title":"How to replace backslash but not backslash + n (\\n) in Java?","body":"<p>Hello I need help replacing &quot;\\&quot; character with &quot;/&quot; character in Java.\nThis is my code:</p>\n<pre><code>        json = &quot;{\\&quot;fields\\&quot;: {&quot; +\n                &quot;                    \\&quot;project\\&quot;:&quot; +\n                &quot;                            {&quot; +\n                &quot;                                    \\&quot;key\\&quot;: \\&quot;key\\&quot;&quot; +\n                &quot;                            },&quot; +\n                &quot;                    \\&quot;summary\\&quot;: \\&quot;&quot; + paramMap.get(&quot;summary&quot;)[0] + &quot;\\&quot;,&quot; +\n                &quot;                    \\&quot;description\\&quot;: \\&quot;&quot; + paramMap.get(&quot;description&quot;)[0].replaceAll(&quot;[\\r]{1}&quot;, &quot;&quot;).replaceAll(&quot;\\n&quot;,&quot;\\\\\\\\n&quot;).replace('\\\\', '/')+ &quot;\\&quot;,&quot; +\n                &quot;                   \\&quot;reporter\\&quot;: {&quot; +\n                &quot;                           \\&quot;name\\&quot;: \\&quot;&quot; + reporter.getName() + &quot;\\&quot;&quot; +\n                &quot;        },&quot;+\n                &quot;                    \\&quot;issuetype\\&quot;: {&quot; +\n                &quot;                            \\&quot;id\\&quot;: \\&quot;000000\\&quot;&quot; +\n                &quot;                    },&quot; +\n                something.toString() +\n                somethingelse.toString() +\n        &quot;   }&quot; +\n                &quot;}&quot;;\n</code></pre>\n<p>This is a mess and I need this JSON not to have backslashes in my text (description). so I added <code>replace('\\\\', '/')</code> there</p>\n<p>Unfortunately this turns all new line symbols (&quot;\\n&quot;) into &quot;/n&quot;.\nI need to avoid this and also keep the original code\nIs there a better way to replace &quot;&quot; in Java OR to exclude &quot;\\n&quot; from replacement?\nThanks</p>\n<p><strong>Example stirng</strong>:</p>\n<p>Lorem ip\\sum dolor sit amet ,</p>\n<p>consectetur adipiscing elit. Proin et metus eget massa facilisis ultricies sit amet sit amet mi. Donec in hendrerit justo. Ut ut</p>\n<p>enim vehicu la metus ullamcorper lacinia sit amet fe ugiat sem. Vivamus t empor eros consequat felis tempus tincidunt. Nullam h endrerit orci dictum dolor volutpat, in maximus lorem imperdiet. Aliquam</p>\n<p>tristique nunc nec tellus pretium luctus. Nulla suscipit non magna ac bibendum.</p>\n<p><strong>Desired output</strong>:</p>\n<p>Lorem ip/sum dolor sit amet ,</p>\n<p>consectetur adipiscing elit. Proin et metus eget massa facilisis ultricies sit amet sit amet mi. Donec in hendrerit justo. Ut ut</p>\n<p>enim vehicu la metus ullamcorper lacinia sit amet fe ugiat sem. Vivamus t empor eros consequat felis tempus tincidunt. Nullam h endrerit orci dictum dolor volutpat, in maximus lorem imperdiet. Aliquam</p>\n<p>tristique nunc nec tellus pretium luctus. Nulla suscipit non magna ac bibendum.</p>\n<p><strong>Actual output</strong>:</p>\n<p>Lorem ip/sum dolor sit amet , /nconsectetur adipiscing elit. Proin et metus eget massa facilisis ultricies sit amet sit amet mi. Donec in hendrerit justo. Ut ut /nenim vehicu la metus ullamcorper lacinia sit amet fe ugiat sem. Vivamus t empor eros consequat felis tempus tincidunt. Nullam h endrerit orci dictum dolor volutpat, in maximus lorem imperdiet. Aliquam /ntristique nunc nec tellus pretium luctus. Nulla suscipit non magna ac bibendum.</p>\n"},{"tags":["java","spring-boot","containers","testcontainers","testcontainers-junit5"],"answers":[{"tags":[],"owner":{"account_id":14182472,"reputation":198,"user_id":10245558,"display_name":"Roland"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682410193,"creation_date":1682410193,"answer_id":76098941,"question_id":76093643,"body_markdown":"It&#39;s possible that the issue is related to the Docker image hello-world. This image is a very basic image used for testing whether Docker is properly installed and running on a system. It does not have a command that can be run within a container, so it is possible that the failure is occurring because the container cannot start up successfully.\r\n\r\ntry for example:\r\n\r\n\r\n` private final static DockerImageName postgres= DockerImageName.parse(&quot;postgres:latest&quot;)`;\r\n\r\nalso do add `@TestContainers` on the test level (for a better practice)\r\n","title":"Testcontainer ContainerLaunchException: Container startup failed","body":"<p>It's possible that the issue is related to the Docker image hello-world. This image is a very basic image used for testing whether Docker is properly installed and running on a system. It does not have a command that can be run within a container, so it is possible that the failure is occurring because the container cannot start up successfully.</p>\n<p>try for example:</p>\n<p><code> private final static DockerImageName postgres= DockerImageName.parse(&quot;postgres:latest&quot;)</code>;</p>\n<p>also do add <code>@TestContainers</code> on the test level (for a better practice)</p>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4569,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76098941,"answer_count":1,"score":1,"last_activity_date":1682410193,"creation_date":1682350694,"question_id":76093643,"body_markdown":"```\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.testcontainers.containers.GenericContainer;\r\nimport org.testcontainers.junit.jupiter.Container;\r\nimport org.testcontainers.utility.DockerImageName;\r\n\r\n@Slf4j\r\npublic class HelloTest\r\n{\r\n   private final static DockerImageName helloWorld = DockerImageName.parse(&quot;hello-world:latest&quot;);\r\n\r\n   @Container\r\n   private static GenericContainer container = new GenericContainer(helloWorld);\r\n\r\n   @Test\r\n   void test()\r\n   {\r\n      log.warn(&quot;Hello ....&quot;);\r\n\r\n      container.start();\r\n   }\r\n}\r\n```\r\n\r\nMy dependencies:\r\n```\r\ntestImplementation &quot;org.springframework.boot:spring-boot-starter-test:2.6.6&quot;\r\ntestImplementation &quot;org.testcontainers:testcontainers:1.17.6&quot;\r\n```\r\n\r\nMy error:\r\n\r\n```\r\nContainer startup failed\r\norg.testcontainers.containers.ContainerLaunchException: Container startup failed\r\n\tat app//org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:349)\r\n\tat app//org.testcontainers.containers.GenericContainer.start(GenericContainer.java:322)\r\n\tat app//de.sick.agency.ordermanagementservice.application.HelloTest.test(HelloTest.java:23)\r\n\tat java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.2/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.2/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.2/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.2/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n\tat java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.2/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.2/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: org.rnorth.ducttape.RetryCountExceededException: Retry limit hit with exception\r\n\tat app//org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:88)\r\n\tat app//org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:334)\r\n\t... 85 more\r\nCaused by: org.testcontainers.containers.ContainerLaunchException: Could not create/start container\r\n\tat app//org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:542)\r\n\tat app//org.testcontainers.containers.GenericContainer.lambda$doStart$0(GenericContainer.java:344)\r\n\tat app//org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:81)\r\n\t... 86 more\r\nCaused by: org.rnorth.ducttape.TimeoutException: Timeout waiting for result with exception\r\n\tat app//org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:54)\r\n\tat app//org.rnorth.ducttape.unreliables.Unreliables.retryUntilTrue(Unreliables.java:100)\r\n\tat app//org.testcontainers.containers.startupcheck.StartupCheckStrategy.waitUntilStartupSuccessful(StartupCheckStrategy.java:43)\r\n\tat app//org.testcontainers.containers.startupcheck.StartupCheckStrategy.waitUntilStartupSuccessful(StartupCheckStrategy.java:38)\r\n\tat app//org.testcontainers.containers.startupcheck.IsRunningStartupCheckStrategy.waitUntilStartupSuccessful(IsRunningStartupCheckStrategy.java:21)\r\n\tat app//org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:477)\r\n\t... 88 more\r\nCaused by: java.lang.RuntimeException: Not ready yet\r\n\tat org.rnorth.ducttape.unreliables.Unreliables.lambda$retryUntilTrue$1(Unreliables.java:102)\r\n\tat org.rnorth.ducttape.unreliables.Unreliables.lambda$retryUntilSuccess$0(Unreliables.java:43)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n\r\n```","title":"Testcontainer ContainerLaunchException: Container startup failed","body":"<pre><code>import lombok.extern.slf4j.Slf4j;\nimport org.junit.jupiter.api.Test;\nimport org.testcontainers.containers.GenericContainer;\nimport org.testcontainers.junit.jupiter.Container;\nimport org.testcontainers.utility.DockerImageName;\n\n@Slf4j\npublic class HelloTest\n{\n   private final static DockerImageName helloWorld = DockerImageName.parse(&quot;hello-world:latest&quot;);\n\n   @Container\n   private static GenericContainer container = new GenericContainer(helloWorld);\n\n   @Test\n   void test()\n   {\n      log.warn(&quot;Hello ....&quot;);\n\n      container.start();\n   }\n}\n</code></pre>\n<p>My dependencies:</p>\n<pre><code>testImplementation &quot;org.springframework.boot:spring-boot-starter-test:2.6.6&quot;\ntestImplementation &quot;org.testcontainers:testcontainers:1.17.6&quot;\n</code></pre>\n<p>My error:</p>\n<pre><code>Container startup failed\norg.testcontainers.containers.ContainerLaunchException: Container startup failed\n    at app//org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:349)\n    at app//org.testcontainers.containers.GenericContainer.start(GenericContainer.java:322)\n    at app//de.sick.agency.ordermanagementservice.application.HelloTest.test(HelloTest.java:23)\n    at java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.2/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.2/java.lang.reflect.Method.invoke(Method.java:568)\n    at app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.2/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.2/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.2/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.2/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: org.rnorth.ducttape.RetryCountExceededException: Retry limit hit with exception\n    at app//org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:88)\n    at app//org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:334)\n    ... 85 more\nCaused by: org.testcontainers.containers.ContainerLaunchException: Could not create/start container\n    at app//org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:542)\n    at app//org.testcontainers.containers.GenericContainer.lambda$doStart$0(GenericContainer.java:344)\n    at app//org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:81)\n    ... 86 more\nCaused by: org.rnorth.ducttape.TimeoutException: Timeout waiting for result with exception\n    at app//org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:54)\n    at app//org.rnorth.ducttape.unreliables.Unreliables.retryUntilTrue(Unreliables.java:100)\n    at app//org.testcontainers.containers.startupcheck.StartupCheckStrategy.waitUntilStartupSuccessful(StartupCheckStrategy.java:43)\n    at app//org.testcontainers.containers.startupcheck.StartupCheckStrategy.waitUntilStartupSuccessful(StartupCheckStrategy.java:38)\n    at app//org.testcontainers.containers.startupcheck.IsRunningStartupCheckStrategy.waitUntilStartupSuccessful(IsRunningStartupCheckStrategy.java:21)\n    at app//org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:477)\n    ... 88 more\nCaused by: java.lang.RuntimeException: Not ready yet\n    at org.rnorth.ducttape.unreliables.Unreliables.lambda$retryUntilTrue$1(Unreliables.java:102)\n    at org.rnorth.ducttape.unreliables.Unreliables.lambda$retryUntilSuccess$0(Unreliables.java:43)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\n\n</code></pre>\n"},{"tags":["java","sql","spring","jpa","jpql"],"answers":[{"tags":[],"owner":{"account_id":9411646,"reputation":67,"user_id":6997851,"display_name":"Creed21"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682409966,"creation_date":1682409966,"answer_id":76098905,"question_id":75254362,"body_markdown":"You are getting ERROR: more than one row returned by a subquery used as an expression\r\nbecause as you said there are many rows with the same messageUUID, thus when you use &quot;=&quot; sign query expects exactly 1 value to be returned, and in your case there are 2,3,... values for one entity -&gt; more than row returned (which messageUUID do you really want against given metaPropeties ?)\r\n\r\nTry something like this:\r\n\r\n    @Query(&quot;select event.id from EventLogDb event where event.metaProperties IN :messageUUID and event.metaProperties in :message&quot;)\r\n\r\n***NOTE*** - IN operator should not be used if you have NULL values\r\n\r\nOr check (restructure) DB model\r\n\r\n\r\nMaybe this can help: https://stackoverflow.com/questions/28171474/solution-to-subquery-returns-more-than-1-row-error\r\n  ","title":"How to write spring JPA Query from map(key, value) when there is a duplicated value","body":"<p>You are getting ERROR: more than one row returned by a subquery used as an expression\nbecause as you said there are many rows with the same messageUUID, thus when you use &quot;=&quot; sign query expects exactly 1 value to be returned, and in your case there are 2,3,... values for one entity -&gt; more than row returned (which messageUUID do you really want against given metaPropeties ?)</p>\n<p>Try something like this:</p>\n<pre><code>@Query(&quot;select event.id from EventLogDb event where event.metaProperties IN :messageUUID and event.metaProperties in :message&quot;)\n</code></pre>\n<p><em><strong>NOTE</strong></em> - IN operator should not be used if you have NULL values</p>\n<p>Or check (restructure) DB model</p>\n<p>Maybe this can help: <a href=\"https://stackoverflow.com/questions/28171474/solution-to-subquery-returns-more-than-1-row-error\">Solution to &quot;subquery returns more than 1 row&quot; error</a></p>\n"}],"owner":{"account_id":19742037,"reputation":602,"user_id":14455278,"display_name":"FilipA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682409966,"creation_date":1674796977,"question_id":75254362,"body_markdown":"I want to get event id&#39;s for events with property `messageUUID` equal to passed value from function.\r\n`metaProperties` is a hashmap with keys: \r\n\r\n    &quot;messageId&quot;\r\n    &quot;messageType&quot;\r\n    &quot;messageUUID&quot;\r\n\r\nand many events will have the same `messageId` as `messageUUID` values, and when I try to Query for events where key is `messageUUID` and value of it is equal to the one I&#39;m searching for - it gives error\r\n\r\n      @Query(&quot;select event.id from EventLogDb event where (key(event.metaProperties) = &#39;messageUUID&#39; and :message in VALUE(event.metaProperties))&quot;)\r\n      Slice&lt;EventLogDb&gt; findAllByMessage(\r\n              String message, Pageable pageable);\r\n\r\n    ERROR: more than one row returned by a subquery used as an expression\r\n\r\n\r\nSo as far as I understand - it&#39;s because `:message in VALUE(event.metaProperties)` gives two results - for keys called `messageId` and `messageUUID`, as they have the same values.\r\n\r\nHow should I correct this Query to get it working properly?","title":"How to write spring JPA Query from map(key, value) when there is a duplicated value","body":"<p>I want to get event id's for events with property <code>messageUUID</code> equal to passed value from function.\n<code>metaProperties</code> is a hashmap with keys:</p>\n<pre><code>&quot;messageId&quot;\n&quot;messageType&quot;\n&quot;messageUUID&quot;\n</code></pre>\n<p>and many events will have the same <code>messageId</code> as <code>messageUUID</code> values, and when I try to Query for events where key is <code>messageUUID</code> and value of it is equal to the one I'm searching for - it gives error</p>\n<pre><code>  @Query(&quot;select event.id from EventLogDb event where (key(event.metaProperties) = 'messageUUID' and :message in VALUE(event.metaProperties))&quot;)\n  Slice&lt;EventLogDb&gt; findAllByMessage(\n          String message, Pageable pageable);\n\nERROR: more than one row returned by a subquery used as an expression\n</code></pre>\n<p>So as far as I understand - it's because <code>:message in VALUE(event.metaProperties)</code> gives two results - for keys called <code>messageId</code> and <code>messageUUID</code>, as they have the same values.</p>\n<p>How should I correct this Query to get it working properly?</p>\n"},{"tags":["java","bash","ubuntu","path"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1682425711,"post_id":76098356,"comment_id":134210248,"body_markdown":"Why do you think you will gain from having multiple JDKs in your path?  The *best* case is that the one appearing earliest is always used, but if that one happened to be missing some tools then you might effectively have a mixture of tools from different JDKs.  You can have multiple JDKs, but they should not all be in your path.","body":"Why do you think you will gain from having multiple JDKs in your path?  The <i>best</i> case is that the one appearing earliest is always used, but if that one happened to be missing some tools then you might effectively have a mixture of tools from different JDKs.  You can have multiple JDKs, but they should not all be in your path."},{"owner":{"account_id":22249835,"reputation":1973,"user_id":16482938,"display_name":"j_b"},"score":0,"creation_date":1682431184,"post_id":76098356,"comment_id":134212052,"body_markdown":"You might have a look at [asdf](https://asdf-vm.com) or [sdkman](https://sdkman.io) for managing multiple java versions.","body":"You might have a look at <a href=\"https://asdf-vm.com\" rel=\"nofollow noreferrer\">asdf</a> or <a href=\"https://sdkman.io\" rel=\"nofollow noreferrer\">sdkman</a> for managing multiple java versions."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1682467124,"post_id":76098356,"comment_id":134219700,"body_markdown":"Maven does not require JDK 11. Java 8 should work.","body":"Maven does not require JDK 11. Java 8 should work."},{"owner":{"account_id":19978615,"reputation":101,"user_id":14642313,"display_name":"rebel_codeaz"},"score":0,"creation_date":1685963831,"post_id":76098356,"comment_id":134729479,"body_markdown":"@JohnBollinger I don&#39;t intend to have multiple jdks in same path but I should be able to switch between java versions. Since I am not able to access the alternatives option which comes when we install by sudo apt-get","body":"@JohnBollinger I don&#39;t intend to have multiple jdks in same path but I should be able to switch between java versions. Since I am not able to access the alternatives option which comes when we install by sudo apt-get"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1685967642,"post_id":76098356,"comment_id":134730340,"body_markdown":"@rebel_codeaz, clearly, you already know how to set up your shell configuration to configure a JDK.  I don&#39;t see what prevents you from changing that to support a different JDK, or changing it back when you want the first.  Thus, if having two configured at the same time is not your objective, then I don&#39;t understand what you are asking.","body":"@rebel_codeaz, clearly, you already know how to set up your shell configuration to configure a JDK.  I don&#39;t see what prevents you from changing that to support a different JDK, or changing it back when you want the first.  Thus, if having two configured at the same time is not your objective, then I don&#39;t understand what you are asking."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1685967691,"post_id":76098356,"comment_id":134730353,"body_markdown":"However, @rebel_codeaz, the alternatives system can be used with software from any source.  You seem to be used to software installed from DEBs doing the setup for you (which indeed can be an advantage of installing from packages) but you can use the alternatives CLI to do the same yourself.  Consult [the manual](https://linux.die.net/man/8/alternatives).","body":"However, @rebel_codeaz, the alternatives system can be used with software from any source.  You seem to be used to software installed from DEBs doing the setup for you (which indeed can be an advantage of installing from packages) but you can use the alternatives CLI to do the same yourself.  Consult <a href=\"https://linux.die.net/man/8/alternatives\" rel=\"nofollow noreferrer\">the manual</a>."}],"owner":{"account_id":19978615,"reputation":101,"user_id":14642313,"display_name":"rebel_codeaz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682409643,"creation_date":1682405732,"question_id":76098356,"body_markdown":"I am installing java 8 and java 11 on my linux machine which has ubuntu 20.04 installed.\r\nSince the command `sudo apt install openjdk-11-jdk` gives the following error: \r\n\r\n&gt;  403  Forbidden [IP: 91.189.91.38 80]\r\nGet:11 http://archive.ubuntu.com/ubuntu jammy/universe amd64 libcommons-io-java all 2.11.0-2 [297 kB]\r\nGet:24 http://archive.ubuntu.com/ubuntu jammy/universe amd64 libmaven-resolver-java all 1.4.2-3build1 [555 kB]\r\nFetched 9,419 kB in 42s (226 kB/s)                                             \r\nE: Failed to fetch http://archive.ubuntu.com/ubuntu/pool/main/o/openjdk-lts/openjdk-11-jre-headless_11.0.18%2b10-0ubuntu1%7e22.04_amd64.deb  403  Forbidden [IP: 91.189.91.38 80]\r\nE: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?\r\n\r\nSo, I installed it by downloading the JDK package from Oracle and then manually creating /usr/java and setting path manually.\r\n\r\nThis was okay when I had one java version. Now, if I install another how do I add it with the path in .bashrc file?\r\nMy .bashrc file looks like this: \r\n```\r\nJAVA_HOME=/java/jdk1.8.0_351/\r\nexport PATH=&quot;$PATH:/usr/java/jdk1.8.0_351/bin&quot;\r\n```\r\nI was trying to install maven that required installing jdk 11.\r\nPlease tell me how to do it.","title":"Add multiple jdks in path of .bashrc file on ubuntu","body":"<p>I am installing java 8 and java 11 on my linux machine which has ubuntu 20.04 installed.\nSince the command <code>sudo apt install openjdk-11-jdk</code> gives the following error:</p>\n<blockquote>\n<p>403  Forbidden [IP: 91.189.91.38 80]\nGet:11 <a href=\"http://archive.ubuntu.com/ubuntu\" rel=\"nofollow noreferrer\">http://archive.ubuntu.com/ubuntu</a> jammy/universe amd64 libcommons-io-java all 2.11.0-2 [297 kB]\nGet:24 <a href=\"http://archive.ubuntu.com/ubuntu\" rel=\"nofollow noreferrer\">http://archive.ubuntu.com/ubuntu</a> jammy/universe amd64 libmaven-resolver-java all 1.4.2-3build1 [555 kB]\nFetched 9,419 kB in 42s (226 kB/s)<br />\nE: Failed to fetch <a href=\"http://archive.ubuntu.com/ubuntu/pool/main/o/openjdk-lts/openjdk-11-jre-headless_11.0.18%2b10-0ubuntu1%7e22.04_amd64.deb\" rel=\"nofollow noreferrer\">http://archive.ubuntu.com/ubuntu/pool/main/o/openjdk-lts/openjdk-11-jre-headless_11.0.18%2b10-0ubuntu1%7e22.04_amd64.deb</a>  403  Forbidden [IP: 91.189.91.38 80]\nE: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?</p>\n</blockquote>\n<p>So, I installed it by downloading the JDK package from Oracle and then manually creating /usr/java and setting path manually.</p>\n<p>This was okay when I had one java version. Now, if I install another how do I add it with the path in .bashrc file?\nMy .bashrc file looks like this:</p>\n<pre><code>JAVA_HOME=/java/jdk1.8.0_351/\nexport PATH=&quot;$PATH:/usr/java/jdk1.8.0_351/bin&quot;\n</code></pre>\n<p>I was trying to install maven that required installing jdk 11.\nPlease tell me how to do it.</p>\n"},{"tags":["java","android","google-nearby","google-nearby-connections"],"owner":{"account_id":20350103,"reputation":1,"user_id":14926962,"display_name":"Krishalika Rathnayake"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682409630,"creation_date":1682409630,"question_id":76098863,"body_markdown":"&quot;I am developing an Android app in Java and I need to implement a feature where the app checks if the Nearby Share option on the user&#39;s device is turned on. When the user clicks a button, a toast message should appear indicating whether Nearby Share is enabled or not. How can I implement this functionality?&quot;\r\n\r\n\r\nI tried below code segment\r\n\r\n    private boolean isNearbyShareEnabled() {\r\n        ContentResolver contentResolver = getContext().getContentResolver();\r\n        int value = Settings.Secure.getInt(contentResolver, &quot;nearby_sharing_state&quot;, -1);\r\n        return value == 2;\r\n    }\r\nUsed this code segment inside my Adapter class","title":"How to check if Nearby Share is enabled on an Android device in Java","body":"<p>&quot;I am developing an Android app in Java and I need to implement a feature where the app checks if the Nearby Share option on the user's device is turned on. When the user clicks a button, a toast message should appear indicating whether Nearby Share is enabled or not. How can I implement this functionality?&quot;</p>\n<p>I tried below code segment</p>\n<pre><code>private boolean isNearbyShareEnabled() {\n    ContentResolver contentResolver = getContext().getContentResolver();\n    int value = Settings.Secure.getInt(contentResolver, &quot;nearby_sharing_state&quot;, -1);\n    return value == 2;\n}\n</code></pre>\n<p>Used this code segment inside my Adapter class</p>\n"},{"tags":["java","console"],"comments":[{"owner":{"account_id":35012,"reputation":32108,"user_id":99024,"accept_rate":47,"display_name":"Vanuan"},"score":1,"creation_date":1296677263,"post_id":2979383,"comment_id":5426129,"body_markdown":"http://stackoverflow.com/questions/606086/how-do-you-clear-the-java-console","body":"<a href=\"http://stackoverflow.com/questions/606086/how-do-you-clear-the-java-console\" title=\"how do you clear the java console\">stackoverflow.com/questions/606086/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1227750,"reputation":899,"user_id":1192999,"display_name":"blackl&#248;tus"},"down_vote_count":12,"up_vote_count":32,"is_accepted":false,"score":20,"last_activity_date":1353770616,"creation_date":1353770616,"answer_id":13542582,"question_id":2979383,"body_markdown":"A way to get this can be print multiple end of lines (&quot;\\n&quot;) and simulate the clear screen. At the end clear, at most in the unix shell, not removes the previous content, only moves it up and if you make scroll down can see the previous content.\r\n\r\nHere is a sample code:\r\n\r\n    for (int i = 0; i &lt; 50; ++i) System.out.println();","title":"How to clear the console using Java?","body":"<p>A way to get this can be print multiple end of lines (\"\\n\") and simulate the clear screen. At the end clear, at most in the unix shell, not removes the previous content, only moves it up and if you make scroll down can see the previous content.</p>\n\n<p>Here is a sample code:</p>\n\n<pre><code>for (int i = 0; i &lt; 50; ++i) System.out.println();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":248187,"reputation":22658,"user_id":523391,"display_name":"prunge"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1680179815,"creation_date":1358560257,"answer_id":14410352,"question_id":2979383,"body_markdown":"If you want a more system independent way of doing this, you can use the [JLine][1] library and [`ConsoleReader.clearScreen()`][2].  Prudent checking of whether [JLine and ANSI is supported][3] in the current environment is probably worth doing too.\r\n\r\nSomething like the following code worked for me:\r\n\r\n    import jline.console.ConsoleReader;\r\n    \r\n    public class JLineTest\r\n    {\r\n        public static void main(String... args)\r\n        throws Exception\r\n        {\r\n            ConsoleReader r = new ConsoleReader();\r\n            \r\n            while (true)\r\n            {\r\n                r.println(&quot;Good morning&quot;);\r\n                r.flush();\r\n                \r\n                String input = r.readLine(&quot;prompt&gt;&quot;);\r\n                \r\n                if (&quot;clear&quot;.equals(input))\r\n                    r.clearScreen();\r\n                else if (&quot;exit&quot;.equals(input))\r\n                    return;\r\n                else\r\n                    System.out.println(&quot;You typed &#39;&quot; + input + &quot;&#39;.&quot;);\r\n                \r\n            }\r\n        }\r\n    }\r\n\r\nWhen running this, if you type &#39;clear&#39; at the prompt it will clear the screen.  Make sure you run it from a proper terminal/console and not in Eclipse.\r\n\r\n\r\n  [1]: https://github.com/jline/jline2\r\n  [2]: http://jline.sourceforge.net/javadoc/jline/ConsoleReader.html#clearScreen%28%29\r\n  [3]: http://jline.sourceforge.net/javadoc/jline/Terminal.html#isANSISupported%28%29","title":"How to clear the console using Java?","body":"<p>If you want a more system independent way of doing this, you can use the <a href=\"https://github.com/jline/jline2\" rel=\"nofollow noreferrer\">JLine</a> library and <a href=\"http://jline.sourceforge.net/javadoc/jline/ConsoleReader.html#clearScreen%28%29\" rel=\"nofollow noreferrer\"><code>ConsoleReader.clearScreen()</code></a>.  Prudent checking of whether <a href=\"http://jline.sourceforge.net/javadoc/jline/Terminal.html#isANSISupported%28%29\" rel=\"nofollow noreferrer\">JLine and ANSI is supported</a> in the current environment is probably worth doing too.</p>\n<p>Something like the following code worked for me:</p>\n<pre><code>import jline.console.ConsoleReader;\n\npublic class JLineTest\n{\n    public static void main(String... args)\n    throws Exception\n    {\n        ConsoleReader r = new ConsoleReader();\n        \n        while (true)\n        {\n            r.println(&quot;Good morning&quot;);\n            r.flush();\n            \n            String input = r.readLine(&quot;prompt&gt;&quot;);\n            \n            if (&quot;clear&quot;.equals(input))\n                r.clearScreen();\n            else if (&quot;exit&quot;.equals(input))\n                return;\n            else\n                System.out.println(&quot;You typed '&quot; + input + &quot;'.&quot;);\n            \n        }\n    }\n}\n</code></pre>\n<p>When running this, if you type 'clear' at the prompt it will clear the screen.  Make sure you run it from a proper terminal/console and not in Eclipse.</p>\n"},{"tags":[],"owner":{"account_id":2877675,"reputation":783,"user_id":2469257,"display_name":"Dyndrilliac"},"down_vote_count":45,"up_vote_count":70,"is_accepted":false,"score":25,"last_activity_date":1652016970,"creation_date":1370819097,"answer_id":17015039,"question_id":2979383,"body_markdown":"This is how I would handle it. This method will work for the Windows OS case and the Linux/Unix OS case (which means it also works for Mac OS X).\r\n\r\n\tpublic final static void clearConsole()\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tfinal String os = System.getProperty(&quot;os.name&quot;);\r\n\t\t\t\r\n\t\t\tif (os.contains(&quot;Windows&quot;))\r\n\t\t\t{\r\n\t\t\t\tRuntime.getRuntime().exec(&quot;cls&quot;);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tRuntime.getRuntime().exec(&quot;clear&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (final Exception e)\r\n\t\t{\r\n\t\t\t//  Handle any exceptions.\r\n\t\t}\r\n\t}\r\n\r\n⚠️ Note that this method generally **will not** clear the console if you are running inside an IDE.","title":"How to clear the console using Java?","body":"<p>This is how I would handle it. This method will work for the Windows OS case and the Linux/Unix OS case (which means it also works for Mac OS X).</p>\n<pre><code>public final static void clearConsole()\n{\n    try\n    {\n        final String os = System.getProperty(&quot;os.name&quot;);\n        \n        if (os.contains(&quot;Windows&quot;))\n        {\n            Runtime.getRuntime().exec(&quot;cls&quot;);\n        }\n        else\n        {\n            Runtime.getRuntime().exec(&quot;clear&quot;);\n        }\n    }\n    catch (final Exception e)\n    {\n        //  Handle any exceptions.\n    }\n}\n</code></pre>\n<p>⚠️ Note that this method generally <strong>will not</strong> clear the console if you are running inside an IDE.</p>\n"},{"tags":[],"owner":{"account_id":4486178,"reputation":113,"user_id":3648739,"display_name":"user3648739"},"down_vote_count":4,"up_vote_count":12,"is_accepted":false,"score":8,"last_activity_date":1680179803,"creation_date":1402767359,"answer_id":24222551,"question_id":2979383,"body_markdown":"`Runtime.getRuntime().exec(cls)` did NOT work on Windows XP. This did -\r\n\r\n    for(int clear = 0; clear &lt; 1000; clear++)\r\n    {\r\n         System.out.println(&quot;\\b&quot;) ;\r\n    }\r\n\r\nHope this is useful","title":"How to clear the console using Java?","body":"<p><code>Runtime.getRuntime().exec(cls)</code> did NOT work on Windows XP. This did -</p>\n<pre><code>for(int clear = 0; clear &lt; 1000; clear++)\n{\n     System.out.println(&quot;\\b&quot;) ;\n}\n</code></pre>\n<p>Hope this is useful</p>\n"},{"tags":[],"owner":{"account_id":2169264,"reputation":97,"user_id":1921692,"accept_rate":75,"display_name":"Denny"},"down_vote_count":6,"up_vote_count":4,"is_accepted":false,"score":-2,"last_activity_date":1412095622,"creation_date":1412095622,"answer_id":26125995,"question_id":2979383,"body_markdown":"\r\nYou need to use JNI. \r\n\r\nFirst of all use create a .dll using visual studio, that call system(&quot;cls&quot;). \r\nAfter that use JNI to use this DDL. \r\n\r\nI found this article that is nice: \r\n\r\nhttp://www.planet-source-code.com/vb/scripts/ShowCode.asp?txtCodeId=5170&amp;lngWId=2","title":"How to clear the console using Java?","body":"<p>You need to use JNI. </p>\n\n<p>First of all use create a .dll using visual studio, that call system(\"cls\"). \nAfter that use JNI to use this DDL. </p>\n\n<p>I found this article that is nice: </p>\n\n<p><a href=\"http://www.planet-source-code.com/vb/scripts/ShowCode.asp?txtCodeId=5170&amp;lngWId=2\" rel=\"nofollow\">http://www.planet-source-code.com/vb/scripts/ShowCode.asp?txtCodeId=5170&amp;lngWId=2</a></p>\n"},{"tags":[],"owner":{"account_id":5599902,"reputation":113,"user_id":4436471,"display_name":"Epic"},"down_vote_count":5,"up_vote_count":5,"is_accepted":false,"score":0,"last_activity_date":1420866594,"creation_date":1420866594,"answer_id":27873070,"question_id":2979383,"body_markdown":"You can use an emulation of `cls` with \r\n    `for (int i = 0; i &lt; 50; ++i) System.out.println();`","title":"How to clear the console using Java?","body":"<p>You can use an emulation of <code>cls</code> with \n    <code>for (int i = 0; i &lt; 50; ++i) System.out.println();</code></p>\n"},{"tags":[],"owner":{"account_id":6871153,"reputation":1591,"user_id":5281441,"display_name":"satish"},"down_vote_count":1,"up_vote_count":132,"is_accepted":false,"score":131,"last_activity_date":1652017137,"creation_date":1440933565,"answer_id":32295974,"question_id":2979383,"body_markdown":"You can use following code to clear command line console:\r\n\r\n    public static void clearScreen() {  \r\n        System.out.print(&quot;\\033[H\\033[2J&quot;);  \r\n        System.out.flush();  \r\n    }  \r\n\r\nCaveats:\r\n\r\n- This **will** work on terminals that support ANSI escape codes\r\n- It will **not** work on Windows&#39; CMD\r\n- It will **not** work in the IDE&#39;s terminal\r\n\r\nFor further reading [visit this][1]\r\n\r\n\r\n  [1]: http://techno-terminal.blogspot.in/2014/12/clear-command-line-console-and-bold.html","title":"How to clear the console using Java?","body":"<p>You can use following code to clear command line console:</p>\n<pre><code>public static void clearScreen() {  \n    System.out.print(&quot;\\033[H\\033[2J&quot;);  \n    System.out.flush();  \n}  \n</code></pre>\n<p>Caveats:</p>\n<ul>\n<li>This <strong>will</strong> work on terminals that support ANSI escape codes</li>\n<li>It will <strong>not</strong> work on Windows' CMD</li>\n<li>It will <strong>not</strong> work in the IDE's terminal</li>\n</ul>\n<p>For further reading <a href=\"http://techno-terminal.blogspot.in/2014/12/clear-command-line-console-and-bold.html\" rel=\"noreferrer\">visit this</a></p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":2,"up_vote_count":131,"is_accepted":false,"score":129,"last_activity_date":1457845404,"creation_date":1445985631,"answer_id":33379766,"question_id":2979383,"body_markdown":"Since there are several answers here showing non-working code for Windows, here is a clarification:\r\n\r\n    Runtime.getRuntime().exec(&quot;cls&quot;);\r\n\r\nThis command does *not* work, for two reasons:\r\n\r\n 1. There is no executable named `cls.exe` or `cls.com` in a standard Windows installation that could be invoked via `Runtime.exec`, as the well-known command `cls` is builtin to Windows’ command line interpreter.\r\n\r\n 2. When launching a new process via `Runtime.exec`, the standard output gets redirected to a pipe which the initiating Java process can read. But when the output of the `cls` command gets redirected, it doesn’t clear the console.\r\n\r\nTo solve this problem, we have to invoke the command line interpreter (`cmd`) and tell it to execute a command (`/c cls`) which allows invoking builtin commands. Further we have to directly connect its output channel to the Java process’ output channel, which works starting with Java&#160;7, using `inheritIO()`:\r\n\r\n    import java.io.IOException;\r\n    \r\n    public class CLS {\r\n        public static void main(String... arg) throws IOException, InterruptedException {\r\n            new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, &quot;cls&quot;).inheritIO().start().waitFor();\r\n        }\r\n    }\r\nNow when the Java process is connected to a console, i.e. has been started from a command line without output redirection, it will clear the console.\r\n\r\n","title":"How to clear the console using Java?","body":"<p>Since there are several answers here showing non-working code for Windows, here is a clarification:</p>\n\n<pre><code>Runtime.getRuntime().exec(\"cls\");\n</code></pre>\n\n<p>This command does <em>not</em> work, for two reasons:</p>\n\n<ol>\n<li><p>There is no executable named <code>cls.exe</code> or <code>cls.com</code> in a standard Windows installation that could be invoked via <code>Runtime.exec</code>, as the well-known command <code>cls</code> is builtin to Windows’ command line interpreter.</p></li>\n<li><p>When launching a new process via <code>Runtime.exec</code>, the standard output gets redirected to a pipe which the initiating Java process can read. But when the output of the <code>cls</code> command gets redirected, it doesn’t clear the console.</p></li>\n</ol>\n\n<p>To solve this problem, we have to invoke the command line interpreter (<code>cmd</code>) and tell it to execute a command (<code>/c cls</code>) which allows invoking builtin commands. Further we have to directly connect its output channel to the Java process’ output channel, which works starting with Java 7, using <code>inheritIO()</code>:</p>\n\n<pre><code>import java.io.IOException;\n\npublic class CLS {\n    public static void main(String... arg) throws IOException, InterruptedException {\n        new ProcessBuilder(\"cmd\", \"/c\", \"cls\").inheritIO().start().waitFor();\n    }\n}\n</code></pre>\n\n<p>Now when the Java process is connected to a console, i.e. has been started from a command line without output redirection, it will clear the console.</p>\n"},{"tags":[],"owner":{"account_id":7380481,"reputation":85,"user_id":5617363,"accept_rate":100,"display_name":"Abhigyan Singh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1507718755,"creation_date":1459578366,"answer_id":36369966,"question_id":2979383,"body_markdown":"This will work if you are doing this in Bluej or any other similar software.\r\n\r\n    System.out.print(&#39;\\u000C&#39;);","title":"How to clear the console using Java?","body":"<p>This will work if you are doing this in Bluej or any other similar software.</p>\n\n<pre><code>System.out.print('\\u000C');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6502783,"reputation":3432,"user_id":5032898,"accept_rate":50,"display_name":"Abhishek Kashyap"},"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1514695535,"creation_date":1468472685,"answer_id":38365871,"question_id":2979383,"body_markdown":"Create a method in your class like this: [as [@Holger][1] said [here][2].]\r\n\r\n    public static void clrscr(){\r\n        //Clears Screen in java\r\n        try {\r\n            if (System.getProperty(&quot;os.name&quot;).contains(&quot;Windows&quot;))\r\n                new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, &quot;cls&quot;).inheritIO().start().waitFor();\r\n            else\r\n                Runtime.getRuntime().exec(&quot;clear&quot;);\r\n        } catch (IOException | InterruptedException ex) {}\r\n    }\r\n\r\nThis works for windows at least, I have not checked for Linux so far. If anyone checks it for Linux please let me know if it works (or not).\r\n\r\nAs an alternate method is to write this code in `clrscr()`:\r\n\r\n    for(int i = 0; i &lt; 80*300; i++) // Default Height of cmd is 300 and Default width is 80\r\n        System.out.print(&quot;\\b&quot;); // Prints a backspace\r\nI will not recommend you to use this method.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2711488/holger\r\n  [2]: https://stackoverflow.com/questions/2979383/java-clear-the-console/33379766#33379766","title":"How to clear the console using Java?","body":"<p>Create a method in your class like this: [as <a href=\"https://stackoverflow.com/users/2711488/holger\">@Holger</a> said <a href=\"https://stackoverflow.com/questions/2979383/java-clear-the-console/33379766#33379766\">here</a>.]</p>\n\n<pre><code>public static void clrscr(){\n    //Clears Screen in java\n    try {\n        if (System.getProperty(\"os.name\").contains(\"Windows\"))\n            new ProcessBuilder(\"cmd\", \"/c\", \"cls\").inheritIO().start().waitFor();\n        else\n            Runtime.getRuntime().exec(\"clear\");\n    } catch (IOException | InterruptedException ex) {}\n}\n</code></pre>\n\n<p>This works for windows at least, I have not checked for Linux so far. If anyone checks it for Linux please let me know if it works (or not).</p>\n\n<p>As an alternate method is to write this code in <code>clrscr()</code>:</p>\n\n<pre><code>for(int i = 0; i &lt; 80*300; i++) // Default Height of cmd is 300 and Default width is 80\n    System.out.print(\"\\b\"); // Prints a backspace\n</code></pre>\n\n<p>I will not recommend you to use this method.</p>\n"},{"tags":[],"owner":{"account_id":4844563,"reputation":603,"user_id":3908580,"accept_rate":28,"display_name":"Bhuvanesh Waran"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1476442109,"creation_date":1476441769,"answer_id":40041221,"question_id":2979383,"body_markdown":"Try the following :\r\n\r\n    System.out.print(&quot;\\033\\143&quot;);\r\n\r\nThis will work fine in Linux environment","title":"How to clear the console using Java?","body":"<p>Try the following :</p>\n\n<pre><code>System.out.print(\"\\033\\143\");\n</code></pre>\n\n<p>This will work fine in Linux environment</p>\n"},{"tags":[],"owner":{"account_id":16925760,"reputation":1326,"user_id":12241397,"display_name":"Gr&#233;gori Fernandes de Lima"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1594646525,"creation_date":1594646525,"answer_id":62876778,"question_id":2979383,"body_markdown":"You need to use control characters as backslash (\\b) and carriage return (\\r). It come disabled by default, but the Console view can interpret these controls. \r\n\r\n **Windows&gt;Preferences** and **Run/Debug &gt; Console** and select **Interpret ASCII control characteres** to enabled it\r\n\r\n[![Console preferences in Eclipse][2]][2]\r\n\r\n\r\nAfter these configurations, you can manage your console with control characters like:\r\n\r\n\\t - tab.\r\n\r\n\\b - backspace (a step backward in the text or deletion of a single character).\r\n\r\n\\n - new line.\r\n\r\n\\r - carriage return. ()\r\n\r\n\\f - form feed.\r\n\r\n[![eclipse console clear animation][1]][1]\r\n\r\nMore information at: https://www.eclipse.org/eclipse/news/4.14/platform.php\r\n\r\n  [2]: https://i.stack.imgur.com/Rzfxi.png\r\n  [1]: https://i.stack.imgur.com/o5Lzr.gif","title":"How to clear the console using Java?","body":"<p>You need to use control characters as backslash (\\b) and carriage return (\\r). It come disabled by default, but the Console view can interpret these controls.</p>\n<p><strong>Windows&gt;Preferences</strong> and <strong>Run/Debug &gt; Console</strong> and select <strong>Interpret ASCII control characteres</strong> to enabled it</p>\n<p><a href=\"https://i.stack.imgur.com/Rzfxi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rzfxi.png\" alt=\"Console preferences in Eclipse\" /></a></p>\n<p>After these configurations, you can manage your console with control characters like:</p>\n<p>\\t - tab.</p>\n<p>\\b - backspace (a step backward in the text or deletion of a single character).</p>\n<p>\\n - new line.</p>\n<p>\\r - carriage return. ()</p>\n<p>\\f - form feed.</p>\n<p><a href=\"https://i.stack.imgur.com/o5Lzr.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o5Lzr.gif\" alt=\"eclipse console clear animation\" /></a></p>\n<p>More information at: <a href=\"https://www.eclipse.org/eclipse/news/4.14/platform.php\" rel=\"nofollow noreferrer\">https://www.eclipse.org/eclipse/news/4.14/platform.php</a></p>\n"},{"tags":[],"owner":{"account_id":14352030,"reputation":710,"user_id":10367178,"display_name":"Md Adilur Rashid"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1607018018,"creation_date":1598549338,"answer_id":63621310,"question_id":2979383,"body_markdown":"Try this: only works on console, not in NetBeans integrated console.\r\n```\r\npublic static void cls(){\r\n    try {\r\n\r\n     if (System.getProperty(&quot;os.name&quot;).contains(&quot;Windows&quot;))\r\n         new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, \r\n                  &quot;cls&quot;).inheritIO().start().waitFor();\r\n     else\r\n         Runtime.getRuntime().exec(&quot;clear&quot;);\r\n    } catch (IOException | InterruptedException ex) {}\r\n}\r\n```\r\n","title":"How to clear the console using Java?","body":"<p>Try this: only works on console, not in NetBeans integrated console.</p>\n<pre><code>public static void cls(){\n    try {\n\n     if (System.getProperty(&quot;os.name&quot;).contains(&quot;Windows&quot;))\n         new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, \n                  &quot;cls&quot;).inheritIO().start().waitFor();\n     else\n         Runtime.getRuntime().exec(&quot;clear&quot;);\n    } catch (IOException | InterruptedException ex) {}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11065212,"reputation":825,"user_id":8125224,"display_name":"Muhammed G&#252;l"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1600907892,"creation_date":1600907892,"answer_id":64038023,"question_id":2979383,"body_markdown":"By combining all the given answers, this method should work on all environments:\r\n\r\n    public static void clearConsole() {\r\n        try {\r\n            if (System.getProperty(&quot;os.name&quot;).contains(&quot;Windows&quot;)) {\r\n                new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, &quot;cls&quot;).inheritIO().start().waitFor();\r\n            }\r\n            else {\r\n                System.out.print(&quot;\\033\\143&quot;);\r\n            }\r\n        } catch (IOException | InterruptedException ex) {}\r\n    }","title":"How to clear the console using Java?","body":"<p>By combining all the given answers, this method should work on all environments:</p>\n<pre><code>public static void clearConsole() {\n    try {\n        if (System.getProperty(&quot;os.name&quot;).contains(&quot;Windows&quot;)) {\n            new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, &quot;cls&quot;).inheritIO().start().waitFor();\n        }\n        else {\n            System.out.print(&quot;\\033\\143&quot;);\n        }\n    } catch (IOException | InterruptedException ex) {}\n}\n</code></pre>\n"}],"owner":{"account_id":113464,"reputation":1983,"user_id":298812,"accept_rate":57,"display_name":"sadia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":859803,"favorite_count":0,"down_vote_count":2,"up_vote_count":183,"answer_count":14,"score":181,"last_activity_date":1682409470,"creation_date":1275718475,"question_id":2979383,"body_markdown":"Can any body please tell me what code is used for clear the screen in Java?\r\n\r\nFor example, in C++:\r\n\r\n    system(&quot;CLS&quot;);\r\n\r\nWhat code is used in Java to clear the screen?\r\n","title":"How to clear the console using Java?","body":"<p>Can any body please tell me what code is used for clear the screen in Java?</p>\n<p>For example, in C++:</p>\n<pre><code>system(&quot;CLS&quot;);\n</code></pre>\n<p>What code is used in Java to clear the screen?</p>\n"},{"tags":["java","lambda","method-reference"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1682407257,"post_id":76098398,"comment_id":134205868,"body_markdown":"https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html#apply-T-","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html#apply-T-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/function/&hellip;</a>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1682407808,"post_id":76098398,"comment_id":134205985,"body_markdown":"`Function.apply()` is non-`static` 1-parameter method, so it needs an instance to run; but `Function::apply` is not providing such instance, so needs an additional argument when called, meaning it is equivalent to a 2-parameter function (first argument will be `this`) || `BiFunction&lt;T, U, R&gt; function = Function::apply` ~= `(T t, U u) -&gt; t.apply(u)` returning type `R` ( if I am correct, in this specific case: `(Consumer&lt;String&gt; t, String u) -&gt; t.apply(s)` )","body":"<code>Function.apply()</code> is non-<code>static</code> 1-parameter method, so it needs an instance to run; but <code>Function::apply</code> is not providing such instance, so needs an additional argument when called, meaning it is equivalent to a 2-parameter function (first argument will be <code>this</code>) || <code>BiFunction&lt;T, U, R&gt; function = Function::apply</code> ~= <code>(T t, U u) -&gt; t.apply(u)</code> returning type <code>R</code> ( if I am correct, in this specific case: <code>(Consumer&lt;String&gt; t, String u) -&gt; t.apply(s)</code> )"}],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682407849,"creation_date":1682407849,"answer_id":76098623,"question_id":76098398,"body_markdown":"`Function::apply` is a method reference that refers to the apply method of the Function interface in the line `Seq s1 = seq.zip(split, Function::apply)`. It serves as the second argument to the zip method, which requires a `BiFunction` functional interface and anticipates one that accepts two arguments of types `T` and `U` and returns a result of type `R`.\r\n\r\nIn this instance, `T` is an `UnaryOperator&lt;String&gt;` (from `Seq&lt;UnaryOperator&lt;String&gt;&gt; seq)`, `U` is a String (from `List&lt;String&gt; split`), and `R` is a String when the zip method is executed. Because `String::apply` has the same signature as the apply method of the Function interface, which accepts a single argument of type String and returns a String, it is used as a reference to the `Function::apply` method.\r\n\r\nThe seq sequence of functions will be applied to each element of the split list by the zip method as iterates over the split list&#39;s elements. The apply method of the Function interface will be used to apply each `UnaryOperator&lt;String&gt;` in seq to the corresponding String element in the split.","title":"Function::apply when BiFunction&lt;T, U, R&gt; is required","body":"<p><code>Function::apply</code> is a method reference that refers to the apply method of the Function interface in the line <code>Seq s1 = seq.zip(split, Function::apply)</code>. It serves as the second argument to the zip method, which requires a <code>BiFunction</code> functional interface and anticipates one that accepts two arguments of types <code>T</code> and <code>U</code> and returns a result of type <code>R</code>.</p>\n<p>In this instance, <code>T</code> is an <code>UnaryOperator&lt;String&gt;</code> (from <code>Seq&lt;UnaryOperator&lt;String&gt;&gt; seq)</code>, <code>U</code> is a String (from <code>List&lt;String&gt; split</code>), and <code>R</code> is a String when the zip method is executed. Because <code>String::apply</code> has the same signature as the apply method of the Function interface, which accepts a single argument of type String and returns a String, it is used as a reference to the <code>Function::apply</code> method.</p>\n<p>The seq sequence of functions will be applied to each element of the split list by the zip method as iterates over the split list's elements. The apply method of the Function interface will be used to apply each <code>UnaryOperator&lt;String&gt;</code> in seq to the corresponding String element in the split.</p>\n"},{"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1682408849,"creation_date":1682408045,"answer_id":76098657,"question_id":76098398,"body_markdown":"## Non-static method reference ##\r\n\r\nThis is indeed an interesting one, as it uses one of the _special rules_ that method references allow for.\r\n\r\nQuick example, suppose you demand a `Function&lt;String, Integer&gt;`, then one could write `String::length`, eventhough this method has a different signature. The requested signature is:\r\n\r\n```java\r\nInteger apply(String x) { ... }\r\n```\r\n\r\nbut we supplied a method that only has `int length()`, so no `String` argument at all. However, that method is non-static and operates on instances of `String`. So Java can assume you meant to call that method on that instance, and by that deduce the first parameter to the method. I.e. `s -&gt; s.length()`.\r\n\r\n\r\n----------\r\n## Generic details ##\r\n\r\nThe same is happening in your setup. First of all, you have to understand what the generics for your requested `BiFunction&lt;T, U, R&gt;` resolve to. They are:\r\n\r\n* `T`: `UnaryOperator&lt;String&gt;`\r\n* `U`: `String`\r\n* `R`: `Consumer&lt;T&gt;`, so `Consumer&lt;UnaryOperator&lt;String&gt;&gt;`\r\n\r\nQuite complex, but okay.\r\n\r\n## Actual signature ##\r\n\r\nNow, the requested signature is:\r\n\r\n```java\r\nConsumer&lt;UnaryOperator&lt;String&gt;&gt; apply(UnaryOperator&lt;String&gt; t, String u)\r\n```\r\nWhen you give your method reference `Function::apply`, whose signature is:\r\n\r\n```java\r\nR apply(T t)\r\n```\r\n\r\nso, in this case:\r\n\r\n```java\r\nConsumer&lt;UnaryOperator&lt;String&gt;&gt; apply(String u)\r\n```\r\n\r\nThen, the first argument from the required signature (`UnaryOperator&lt;String&gt; t`) is again deducted from the fact that `Function::apply` is a non-static method that operates on the `Function` instance, which happens to be compatible with `UnaryOperator&lt;String&gt;`, since `UnaryOperator extends Function`.\r\n\r\n## Implementation ##\r\n\r\nSo `Function::apply` essentially is the same as implementing your `BiFunction` as:\r\n\r\n```java\r\nConsumer&lt;UnaryOperator&lt;String&gt;&gt; apply(UnaryOperator&lt;String&gt; t, String u) {\r\n  return t.apply(u);\r\n}\r\n```\r\nTaking the function from the first argument and applying it to the second, returning the result.","title":"Function::apply when BiFunction&lt;T, U, R&gt; is required","body":"<h2>Non-static method reference</h2>\n<p>This is indeed an interesting one, as it uses one of the <em>special rules</em> that method references allow for.</p>\n<p>Quick example, suppose you demand a <code>Function&lt;String, Integer&gt;</code>, then one could write <code>String::length</code>, eventhough this method has a different signature. The requested signature is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer apply(String x) { ... }\n</code></pre>\n<p>but we supplied a method that only has <code>int length()</code>, so no <code>String</code> argument at all. However, that method is non-static and operates on instances of <code>String</code>. So Java can assume you meant to call that method on that instance, and by that deduce the first parameter to the method. I.e. <code>s -&gt; s.length()</code>.</p>\n<hr />\n<h2>Generic details</h2>\n<p>The same is happening in your setup. First of all, you have to understand what the generics for your requested <code>BiFunction&lt;T, U, R&gt;</code> resolve to. They are:</p>\n<ul>\n<li><code>T</code>: <code>UnaryOperator&lt;String&gt;</code></li>\n<li><code>U</code>: <code>String</code></li>\n<li><code>R</code>: <code>Consumer&lt;T&gt;</code>, so <code>Consumer&lt;UnaryOperator&lt;String&gt;&gt;</code></li>\n</ul>\n<p>Quite complex, but okay.</p>\n<h2>Actual signature</h2>\n<p>Now, the requested signature is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Consumer&lt;UnaryOperator&lt;String&gt;&gt; apply(UnaryOperator&lt;String&gt; t, String u)\n</code></pre>\n<p>When you give your method reference <code>Function::apply</code>, whose signature is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>R apply(T t)\n</code></pre>\n<p>so, in this case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Consumer&lt;UnaryOperator&lt;String&gt;&gt; apply(String u)\n</code></pre>\n<p>Then, the first argument from the required signature (<code>UnaryOperator&lt;String&gt; t</code>) is again deducted from the fact that <code>Function::apply</code> is a non-static method that operates on the <code>Function</code> instance, which happens to be compatible with <code>UnaryOperator&lt;String&gt;</code>, since <code>UnaryOperator extends Function</code>.</p>\n<h2>Implementation</h2>\n<p>So <code>Function::apply</code> essentially is the same as implementing your <code>BiFunction</code> as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Consumer&lt;UnaryOperator&lt;String&gt;&gt; apply(UnaryOperator&lt;String&gt; t, String u) {\n  return t.apply(u);\n}\n</code></pre>\n<p>Taking the function from the first argument and applying it to the second, returning the result.</p>\n"}],"owner":{"account_id":21185494,"reputation":33,"user_id":15578940,"display_name":"Osiris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76098657,"answer_count":2,"score":3,"last_activity_date":1682408893,"creation_date":1682406035,"question_id":76098398,"body_markdown":"I am confused about the following line:\r\n\r\n```java\r\nSeq&lt;String&gt; s1 = seq.zip(split, Function::apply);\r\n```\r\n\r\nIn this snippet:\r\n\r\n```\r\nstatic String underscoreToCamel(String str) {\r\n        UnaryOperator&lt;String&gt; capitalize = s -&gt; s.substring(0, 1).toUpperCase() + s.substring(1).toLowerCase();\r\n        \r\n        Seq&lt;UnaryOperator&lt;String&gt;&gt; seq = c -&gt; {\r\n            c.accept(String::toLowerCase);\r\n            while (true) {\r\n                c.accept(capitalize);\r\n            }\r\n        };\r\n        List&lt;String&gt; split = Arrays.asList(str.split(&quot;_&quot;));\r\n        Seq&lt;String&gt; s1 = seq.zip(split, Function::apply);\r\n        String a = s1.join(&quot;&quot;);\r\n        return a;\r\n    }\r\n\r\npublic interface Seq&lt;T&gt; {\r\n        void consume(Consumer&lt;T&gt; consumer);\r\n\r\n        static &lt;T&gt; Seq&lt;T&gt; unit(T t) {\r\n            return consumer -&gt; consumer.accept(t);\r\n        }\r\n\r\n        default &lt;E&gt; Seq&lt;E&gt; map(Function&lt;T, E&gt; function) {\r\n            return consumer -&gt; consume(t -&gt; consumer.accept(function.apply(t)));\r\n        }\r\n\r\n        default &lt;E&gt; Seq&lt;E&gt; flatMap(Function&lt;T, Seq&lt;E&gt;&gt; function) {\r\n            return consumer -&gt; consume(t -&gt; function.apply(t).consume(consumer));\r\n        }\r\n\r\n\r\n        default String join(String sep) {\r\n            StringJoiner joiner = new StringJoiner(sep);\r\n            consume(t -&gt; joiner.add(t.toString()));\r\n            return joiner.toString();\r\n        }\r\n\r\n        static &lt;T&gt; T stop() {\r\n            throw StopException.INSTANCE;\r\n        }\r\n\r\n        default void consumeTillStop(Consumer&lt;T&gt; consumer) {\r\n            try {\r\n                consume(consumer);\r\n            } catch (StopException ignore) {}\r\n        }\r\n\r\n        default &lt;U, R&gt; Seq&lt;R&gt; zip(Iterable&lt;U&gt; iterable, BiFunction&lt;T, U, R&gt; function) {\r\n            return c -&gt; {\r\n                Iterator&lt;U&gt; iterator = iterable.iterator();\r\n                consumeTillStop(t -&gt; {\r\n                    if (iterator.hasNext()) {\r\n                        c.accept(function.apply(t, iterator.next()));\r\n                    } else {\r\n                        stop();\r\n                    }\r\n                });\r\n            };\r\n        }\r\n\r\n    }\r\n\r\n```\r\n\r\nI do understand that `Function::apply` is a **method reference** and that the method wants a `BiFunction&lt;T, U, R&gt;`. But I do not get how this is compatible.\r\n\r\nWhat exactly does it resolve to? Why can I supply `Function::apply` in this case?","title":"Function::apply when BiFunction&lt;T, U, R&gt; is required","body":"<p>I am confused about the following line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Seq&lt;String&gt; s1 = seq.zip(split, Function::apply);\n</code></pre>\n<p>In this snippet:</p>\n<pre><code>static String underscoreToCamel(String str) {\n        UnaryOperator&lt;String&gt; capitalize = s -&gt; s.substring(0, 1).toUpperCase() + s.substring(1).toLowerCase();\n        \n        Seq&lt;UnaryOperator&lt;String&gt;&gt; seq = c -&gt; {\n            c.accept(String::toLowerCase);\n            while (true) {\n                c.accept(capitalize);\n            }\n        };\n        List&lt;String&gt; split = Arrays.asList(str.split(&quot;_&quot;));\n        Seq&lt;String&gt; s1 = seq.zip(split, Function::apply);\n        String a = s1.join(&quot;&quot;);\n        return a;\n    }\n\npublic interface Seq&lt;T&gt; {\n        void consume(Consumer&lt;T&gt; consumer);\n\n        static &lt;T&gt; Seq&lt;T&gt; unit(T t) {\n            return consumer -&gt; consumer.accept(t);\n        }\n\n        default &lt;E&gt; Seq&lt;E&gt; map(Function&lt;T, E&gt; function) {\n            return consumer -&gt; consume(t -&gt; consumer.accept(function.apply(t)));\n        }\n\n        default &lt;E&gt; Seq&lt;E&gt; flatMap(Function&lt;T, Seq&lt;E&gt;&gt; function) {\n            return consumer -&gt; consume(t -&gt; function.apply(t).consume(consumer));\n        }\n\n\n        default String join(String sep) {\n            StringJoiner joiner = new StringJoiner(sep);\n            consume(t -&gt; joiner.add(t.toString()));\n            return joiner.toString();\n        }\n\n        static &lt;T&gt; T stop() {\n            throw StopException.INSTANCE;\n        }\n\n        default void consumeTillStop(Consumer&lt;T&gt; consumer) {\n            try {\n                consume(consumer);\n            } catch (StopException ignore) {}\n        }\n\n        default &lt;U, R&gt; Seq&lt;R&gt; zip(Iterable&lt;U&gt; iterable, BiFunction&lt;T, U, R&gt; function) {\n            return c -&gt; {\n                Iterator&lt;U&gt; iterator = iterable.iterator();\n                consumeTillStop(t -&gt; {\n                    if (iterator.hasNext()) {\n                        c.accept(function.apply(t, iterator.next()));\n                    } else {\n                        stop();\n                    }\n                });\n            };\n        }\n\n    }\n\n</code></pre>\n<p>I do understand that <code>Function::apply</code> is a <strong>method reference</strong> and that the method wants a <code>BiFunction&lt;T, U, R&gt;</code>. But I do not get how this is compatible.</p>\n<p>What exactly does it resolve to? Why can I supply <code>Function::apply</code> in this case?</p>\n"},{"tags":["java","mysql","hibernate"],"answers":[{"tags":[],"owner":{"account_id":46080,"reputation":4169,"user_id":136054,"accept_rate":67,"display_name":"nayakam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423099067,"creation_date":1423094013,"answer_id":28333812,"question_id":28333168,"body_markdown":"When memory usage exceeds beyond Xmx configuration.  JVM may try to collect garbage to free up enough memory and garbage collector is taking an excessive amount of time.we get out of memory exception &quot;`java.lang.OutOfMemoryError: GC overhead limit exceeded.`&quot;.You have to increase the (Xmx) maximum amount of JVM memory or just remove the JVM flag to use default allocation. (Assumed you have enough physical memory)\r\n\r\n[Java HotSpot VM Options][1]\r\n\r\n[Troubleshooting Memory Leaks][2]\r\n\r\n\r\n\r\n\r\n    C:\\&gt;java -X\r\n       \r\n        -Xms&lt;size&gt;        set initial Java heap size\r\n        -Xmx&lt;size&gt;        set maximum Java heap size\r\n      \r\n    The -X options are non-standard and subject to change without notice.\r\n\r\n\r\nAs this is small set of data (7500) mysql JDBC driver should be able to handle this. Note that last batch of records will not be cleared from session. Even though from http://dev.mysql.com/doc/connector-j/en/connector-j-reference-implementation-notes.html in ResultSet Section :\r\n   \r\n\r\n&gt;    By default, ResultSets are completely retrieved and stored in\r\n&gt; memory.In most cases this is the most efficient way to operate and,\r\n&gt; due to the design of the MySQL network protocol, is easier to\r\n&gt; implement. If you are working with ResultSets that have a large number\r\n&gt; of rows or large values and cannot allocate heap space in your JVM for\r\n&gt; the memory required, you can tell the driver to stream the results\r\n&gt; back one row at a time.\r\n\r\nYou have to check hibernate and JDBC drive versions.\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/memleaks.html","title":"Hibernate ScrollableResults OutOfMemory","body":"<p>When memory usage exceeds beyond Xmx configuration.  JVM may try to collect garbage to free up enough memory and garbage collector is taking an excessive amount of time.we get out of memory exception \"<code>java.lang.OutOfMemoryError: GC overhead limit exceeded.</code>\".You have to increase the (Xmx) maximum amount of JVM memory or just remove the JVM flag to use default allocation. (Assumed you have enough physical memory)</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html\" rel=\"nofollow\">Java HotSpot VM Options</a></p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/memleaks.html\" rel=\"nofollow\">Troubleshooting Memory Leaks</a></p>\n\n<pre><code>C:\\&gt;java -X\n\n    -Xms&lt;size&gt;        set initial Java heap size\n    -Xmx&lt;size&gt;        set maximum Java heap size\n\nThe -X options are non-standard and subject to change without notice.\n</code></pre>\n\n<p>As this is small set of data (7500) mysql JDBC driver should be able to handle this. Note that last batch of records will not be cleared from session. Even though from <a href=\"http://dev.mysql.com/doc/connector-j/en/connector-j-reference-implementation-notes.html\" rel=\"nofollow\">http://dev.mysql.com/doc/connector-j/en/connector-j-reference-implementation-notes.html</a> in ResultSet Section :</p>\n\n<blockquote>\n  <p>By default, ResultSets are completely retrieved and stored in\n  memory.In most cases this is the most efficient way to operate and,\n  due to the design of the MySQL network protocol, is easier to\n  implement. If you are working with ResultSets that have a large number\n  of rows or large values and cannot allocate heap space in your JVM for\n  the memory required, you can tell the driver to stream the results\n  back one row at a time.</p>\n</blockquote>\n\n<p>You have to check hibernate and JDBC drive versions.</p>\n"},{"tags":[],"owner":{"account_id":11195840,"reputation":1,"user_id":8214494,"display_name":"Bhavesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682408560,"creation_date":1682408560,"answer_id":76098720,"question_id":28333168,"body_markdown":"Hope this helps somebody.\r\n\r\nWhat helped me:\r\n\r\n```\r\nScrollableResults&lt;T&gt; results = session.createQuery(criteriaQuery).setFetchSize(100).setCacheMode(CacheMode.IGNORE).scroll(ScrollMode.FORWARD_ONLY);\r\n\r\n```","title":"Hibernate ScrollableResults OutOfMemory","body":"<p>Hope this helps somebody.</p>\n<p>What helped me:</p>\n<pre><code>ScrollableResults&lt;T&gt; results = session.createQuery(criteriaQuery).setFetchSize(100).setCacheMode(CacheMode.IGNORE).scroll(ScrollMode.FORWARD_ONLY);\n\n</code></pre>\n"}],"owner":{"account_id":3101748,"reputation":4719,"user_id":2625691,"accept_rate":35,"display_name":"idmitriev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1606,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1682408560,"creation_date":1423090594,"question_id":28333168,"body_markdown":"I have 7500 rows in Table User in MySQL db,VM option : -Xmx8m and some code below :\r\n\r\n    Query query = session.createQuery(&quot;select u from User u&quot;);\r\n            ScrollableResults resultSet = query.setFetchSize(Integer.MIN_VALUE).setReadOnly(true).scroll(ScrollMode.FORWARD_ONLY);\r\n    \r\n            int i = 0;\r\n            while (resultSet.next()) {\r\n                User o = (User) resultSet.get(0);   \r\n                System.out.println(o.getId());    \r\n                i++;\r\n                if (i % 50 == 0) {\r\n                    session.clear();\r\n                }\r\n            }\r\n            resultSet.close();\r\n\r\nBut unfortunately I have this output in my console :\r\n...\r\n5745\r\nException in thread &quot;main&quot; java.lang.OutOfMemoryError: GC overhead limit exceeded.\r\n\r\nBut I do not understand why?? Integer.MIN_VALUE - serves as a signal to the driver to stream result sets row-by-row. Maybe I have a problem cause ScrollableResults stored in memory and 8m of heap is not enough ??\r\n","title":"Hibernate ScrollableResults OutOfMemory","body":"<p>I have 7500 rows in Table User in MySQL db,VM option : -Xmx8m and some code below :</p>\n\n<pre><code>Query query = session.createQuery(\"select u from User u\");\n        ScrollableResults resultSet = query.setFetchSize(Integer.MIN_VALUE).setReadOnly(true).scroll(ScrollMode.FORWARD_ONLY);\n\n        int i = 0;\n        while (resultSet.next()) {\n            User o = (User) resultSet.get(0);   \n            System.out.println(o.getId());    \n            i++;\n            if (i % 50 == 0) {\n                session.clear();\n            }\n        }\n        resultSet.close();\n</code></pre>\n\n<p>But unfortunately I have this output in my console :\n...\n5745\nException in thread \"main\" java.lang.OutOfMemoryError: GC overhead limit exceeded.</p>\n\n<p>But I do not understand why?? Integer.MIN_VALUE - serves as a signal to the driver to stream result sets row-by-row. Maybe I have a problem cause ScrollableResults stored in memory and 8m of heap is not enough ??</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":2,"creation_date":1682382731,"post_id":76096921,"comment_id":134203273,"body_markdown":"Well, what did you try?   This isn&#39;t a code-writing service.","body":"Well, what did you try?   This isn&#39;t a code-writing service."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1682386070,"post_id":76096921,"comment_id":134203586,"body_markdown":"Please don&#39;t use salutations or thanks in questions.","body":"Please don&#39;t use salutations or thanks in questions."},{"owner":{"account_id":3764278,"reputation":1175,"user_id":3128213,"display_name":"George Lords of Castle"},"score":0,"creation_date":1682386288,"post_id":76096921,"comment_id":134203601,"body_markdown":"@aled I have just removed!","body":"@aled I have just removed!"}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682408357,"creation_date":1682408357,"answer_id":76098698,"question_id":76096921,"body_markdown":"The fact that you ask the question shows that you have shown little effort in reading the documentation. If you would you would have noticed the [`initialize`][1] method. This method is invoked **before** the call to `isValid` and receives the current annotation. With this you thus can configure the validator for that specific annotation. \r\n\r\n```java\r\npublic class IntegerValueAmongValidator implements ConstraintValidator&lt;IntegerValueAmong, Integer&gt; {\r\n\r\n  private List&lt;Integer&gt; allowedValues = Collections.emptyList();\r\n\r\n  @Overide\r\n  public void initialize(IntegerValueAmong annot) {\r\n    allowedValues =  IntStream.of(annot.value()).boxed().collect(Collectors.toList());\r\n  }\r\n\r\n  @Override\r\n  public boolean isValid(Integer integer, ConstraintValidatorContext constraintValidatorContext) {\r\n    return integer != null &amp;&amp; allowedValues.contains(integer);\r\n  }\r\n}\r\n```\r\n\r\n[1]: https://docs.oracle.com/javaee/7/api/javax/validation/ConstraintValidator.html#initialize-A-","title":"How to create in Java a validator to check that an integer is among a list of specific supplied values","body":"<p>The fact that you ask the question shows that you have shown little effort in reading the documentation. If you would you would have noticed the <a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/ConstraintValidator.html#initialize-A-\" rel=\"nofollow noreferrer\"><code>initialize</code></a> method. This method is invoked <strong>before</strong> the call to <code>isValid</code> and receives the current annotation. With this you thus can configure the validator for that specific annotation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class IntegerValueAmongValidator implements ConstraintValidator&lt;IntegerValueAmong, Integer&gt; {\n\n  private List&lt;Integer&gt; allowedValues = Collections.emptyList();\n\n  @Overide\n  public void initialize(IntegerValueAmong annot) {\n    allowedValues =  IntStream.of(annot.value()).boxed().collect(Collectors.toList());\n  }\n\n  @Override\n  public boolean isValid(Integer integer, ConstraintValidatorContext constraintValidatorContext) {\n    return integer != null &amp;&amp; allowedValues.contains(integer);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":3764278,"reputation":1175,"user_id":3128213,"display_name":"George Lords of Castle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76098698,"answer_count":1,"score":2,"last_activity_date":1682408357,"creation_date":1682382156,"question_id":76096921,"body_markdown":"I need to use javax.valitation to create a validator for an integer field.\r\nThat integer field has to be a value among a provided list of values (i.e. 5, 10 or 15) to pass the validation.\r\n\r\nIn particular, my field is:\r\n\r\n    @IntegerValueAmong({5, 10, 15})\r\n    private Integer myNumber;\r\n\r\nThe IntegerValueAmong annotation is defined as:\r\n\r\n    @Target({ElementType.METHOD, ElementType.FIELD, ElementType.ANNOTATION_TYPE, ElementType.CONSTRUCTOR, ElementType.PARAMETER})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Documented\r\n    @Constraint(validatedBy = IntegerValueAmongValidator.class)\r\n    public @interface IntegerValueAmong {\r\n      String message() default &quot;Value must an integer value among&quot;;\r\n      Class&lt;?&gt;[] groups() default {};\r\n      Class&lt;? extends Payload&gt;[] payload() default {};\r\n      int[] value() default {};\r\n    }\r\n\r\nAnd the IntegerValueAmongValidator I have tried to do is:\r\n\r\n    public class IntegerValueAmongValidator implements ConstraintValidator&lt;IntegerValueAmong, Integer&gt; {\r\n      @Override\r\n      public boolean isValid(Integer integer, ConstraintValidatorContext constraintValidatorContext) {\r\n          return integer == 5 || integer == 10 || integer == 15;\r\n      }\r\n    }\r\n\r\nBut I don&#39;t want to have 5, 10 and 15 as hardcoded values and I would like to access to the array passed to the IntegerValueAmong annotation put on the field.\r\n\r\n","title":"How to create in Java a validator to check that an integer is among a list of specific supplied values","body":"<p>I need to use javax.valitation to create a validator for an integer field.\nThat integer field has to be a value among a provided list of values (i.e. 5, 10 or 15) to pass the validation.</p>\n<p>In particular, my field is:</p>\n<pre><code>@IntegerValueAmong({5, 10, 15})\nprivate Integer myNumber;\n</code></pre>\n<p>The IntegerValueAmong annotation is defined as:</p>\n<pre><code>@Target({ElementType.METHOD, ElementType.FIELD, ElementType.ANNOTATION_TYPE, ElementType.CONSTRUCTOR, ElementType.PARAMETER})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Constraint(validatedBy = IntegerValueAmongValidator.class)\npublic @interface IntegerValueAmong {\n  String message() default &quot;Value must an integer value among&quot;;\n  Class&lt;?&gt;[] groups() default {};\n  Class&lt;? extends Payload&gt;[] payload() default {};\n  int[] value() default {};\n}\n</code></pre>\n<p>And the IntegerValueAmongValidator I have tried to do is:</p>\n<pre><code>public class IntegerValueAmongValidator implements ConstraintValidator&lt;IntegerValueAmong, Integer&gt; {\n  @Override\n  public boolean isValid(Integer integer, ConstraintValidatorContext constraintValidatorContext) {\n      return integer == 5 || integer == 10 || integer == 15;\n  }\n}\n</code></pre>\n<p>But I don't want to have 5, 10 and 15 as hardcoded values and I would like to access to the array passed to the IntegerValueAmong annotation put on the field.</p>\n"},{"tags":["java","data-structures","binary-tree"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1682409963,"post_id":76098564,"comment_id":134206483,"body_markdown":"NB You don&#39;t need both `BinaryTree` and a separate `TreeNode` class. A binary tree node is already a binary tree, by definition.","body":"NB You don&#39;t need both <code>BinaryTree</code> and a separate <code>TreeNode</code> class. A binary tree node is already a binary tree, by definition."}],"answers":[{"tags":[],"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225;š Z&#225;lusk&#253;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682408167,"creation_date":1682407919,"answer_id":76098643,"question_id":76098564,"body_markdown":"Your declaration of tree does not match your picture, I guess you wanted to type \r\n\r\n```java\r\nTreeNode level_2_right = binaryTree.createRightChild(level_1_left, 5);\r\n```\r\n\r\nOtherwise the program seems correct (except that small improvements are possible - unnecessary constructor or assignments etc... it&#39;s usually good practice to declare `TreeNode` as immutable with children passed in constructor, which better visualizes tree structure using `new TreeNode(1,new TreeNode(2,new TreeNode(4)...),new TreeNode(3))`, ideally with proper indentation).","title":"Pre-Order Traversal in Binary Tree not able to understand","body":"<p>Your declaration of tree does not match your picture, I guess you wanted to type</p>\n<pre class=\"lang-java prettyprint-override\"><code>TreeNode level_2_right = binaryTree.createRightChild(level_1_left, 5);\n</code></pre>\n<p>Otherwise the program seems correct (except that small improvements are possible - unnecessary constructor or assignments etc... it's usually good practice to declare <code>TreeNode</code> as immutable with children passed in constructor, which better visualizes tree structure using <code>new TreeNode(1,new TreeNode(2,new TreeNode(4)...),new TreeNode(3))</code>, ideally with proper indentation).</p>\n"}],"owner":{"account_id":5556344,"reputation":417,"user_id":4407572,"accept_rate":89,"display_name":"Sandeep Roy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76098643,"answer_count":1,"score":0,"last_activity_date":1682408167,"creation_date":1682407438,"question_id":76098564,"body_markdown":"So, I&#39;m trying to create binary tree using static data.\r\n\r\nlike below -\r\n\r\n```\r\n        (1)\r\n        / \\\r\n       /   \\\r\n     (2)   (3)\r\n     / \\\r\n    /   \\\r\n  (4)   (5)\r\n          \\\r\n           \\\r\n           (6)\r\n``` \r\n\r\nHere is the TreeNode.java\r\n\r\n```\r\npackage sandeep.topics.binaryTree;\r\n\r\npublic class TreeNode {\r\n\tint value;\r\n\tTreeNode left, right;\r\n\t\r\n\tpublic TreeNode(int value) {\r\n\t\tthis.value = value;\r\n\t\tleft = null;\r\n\t\tright = null;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n&amp; the BinaryTree.java\r\n\r\n```\r\n\r\npackage sandeep.topics.binaryTrees;\r\n\r\npublic class BinaryTree {\r\n\tstatic TreeNode root;\r\n\tpublic BinaryTree() {\r\n\t\t\r\n\t}\r\n\tpublic BinaryTree(int value) {\r\n\t\troot = new TreeNode(value);\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\tBinaryTree binaryTree = new BinaryTree();\r\n\t\t// level 0\r\n\t\tbinaryTree.root = new TreeNode(1);\r\n\t\t\r\n\t\t// level 1\r\n\t    TreeNode level_1_left = binaryTree.createLeftChild(root, 2);\r\n\t    TreeNode level_1_right = binaryTree.createRightChild(root, 3);\r\n\t\t\r\n\t\t// level 2\r\n\t    TreeNode level_2_left = binaryTree.createLeftChild(level_1_left, 4);\r\n\t    TreeNode level_2_right = binaryTree.createRightChild(level_1_right, 5);\r\n\t    \r\n\t    // level 3\r\n\t    TreeNode level_3_right =  binaryTree.createRightChild(level_2_right, 6);\r\n\t\t\r\n\t\t\r\n\t\tprintTree(root, &quot;root&quot;, 1);\r\n\t}\r\n\tprivate static TreeNode createLeftChild(TreeNode root, int value) {\r\n\t\troot.left = new TreeNode(value);\r\n\t\treturn root.left;\r\n\t}\r\n\t\r\n\tprivate static TreeNode createRightChild(TreeNode root, int value) {\r\n\t\troot.right = new TreeNode(value);\r\n\t\treturn root.right;\r\n\t}\r\n\tprivate static void printTree(TreeNode root, String type, int level) {\r\n\t\tif(root == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tSystem.out.println(root.value + &quot; : &quot; + type + &quot; : &quot; + level);\r\n\t\tprintTree(root.left, &quot;left&quot;, level+1);\r\n\t\tprintTree(root.right, &quot;right&quot;, level+1);\r\n\t}\r\n}\r\n\r\n```\r\n\r\nVery simple code that can create root, children as per level and print them. \r\n\r\nOutput shown as - \r\n\r\n```\r\n(Columns; 1st- node value, 2nd - node type &amp; 3rd - level)\r\n\r\n\r\n1 : root : 1\r\n2 : left : 2\r\n4 : left : 3\r\n3 : right : 2\r\n5 : right : 3\r\n6 : right : 4\r\n```\r\nShows - 1 2 4 3 5 6.\r\n\r\nBut I think, the correct pre-order traversal should be 1 2 4 5 6 3.\r\n\r\nNot sure, what am i doing wrong though! ","title":"Pre-Order Traversal in Binary Tree not able to understand","body":"<p>So, I'm trying to create binary tree using static data.</p>\n<p>like below -</p>\n<pre><code>        (1)\n        / \\\n       /   \\\n     (2)   (3)\n     / \\\n    /   \\\n  (4)   (5)\n          \\\n           \\\n           (6)\n</code></pre>\n<p>Here is the TreeNode.java</p>\n<pre><code>package sandeep.topics.binaryTree;\n\npublic class TreeNode {\n    int value;\n    TreeNode left, right;\n    \n    public TreeNode(int value) {\n        this.value = value;\n        left = null;\n        right = null;\n    }\n}\n\n</code></pre>\n<p>&amp; the BinaryTree.java</p>\n<pre><code>\npackage sandeep.topics.binaryTrees;\n\npublic class BinaryTree {\n    static TreeNode root;\n    public BinaryTree() {\n        \n    }\n    public BinaryTree(int value) {\n        root = new TreeNode(value);\n    }\n    public static void main(String[] args) {\n        BinaryTree binaryTree = new BinaryTree();\n        // level 0\n        binaryTree.root = new TreeNode(1);\n        \n        // level 1\n        TreeNode level_1_left = binaryTree.createLeftChild(root, 2);\n        TreeNode level_1_right = binaryTree.createRightChild(root, 3);\n        \n        // level 2\n        TreeNode level_2_left = binaryTree.createLeftChild(level_1_left, 4);\n        TreeNode level_2_right = binaryTree.createRightChild(level_1_right, 5);\n        \n        // level 3\n        TreeNode level_3_right =  binaryTree.createRightChild(level_2_right, 6);\n        \n        \n        printTree(root, &quot;root&quot;, 1);\n    }\n    private static TreeNode createLeftChild(TreeNode root, int value) {\n        root.left = new TreeNode(value);\n        return root.left;\n    }\n    \n    private static TreeNode createRightChild(TreeNode root, int value) {\n        root.right = new TreeNode(value);\n        return root.right;\n    }\n    private static void printTree(TreeNode root, String type, int level) {\n        if(root == null) {\n            return;\n        }\n        System.out.println(root.value + &quot; : &quot; + type + &quot; : &quot; + level);\n        printTree(root.left, &quot;left&quot;, level+1);\n        printTree(root.right, &quot;right&quot;, level+1);\n    }\n}\n\n</code></pre>\n<p>Very simple code that can create root, children as per level and print them.</p>\n<p>Output shown as -</p>\n<pre><code>(Columns; 1st- node value, 2nd - node type &amp; 3rd - level)\n\n\n1 : root : 1\n2 : left : 2\n4 : left : 3\n3 : right : 2\n5 : right : 3\n6 : right : 4\n</code></pre>\n<p>Shows - 1 2 4 3 5 6.</p>\n<p>But I think, the correct pre-order traversal should be 1 2 4 5 6 3.</p>\n<p>Not sure, what am i doing wrong though!</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","webdriverwait","javascriptexecutor"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":1,"creation_date":1682405187,"post_id":76098140,"comment_id":134205477,"body_markdown":"Click the `label` instead of the `div` or `input` .","body":"Click the <code>label</code> instead of the <code>div</code> or <code>input</code> ."},{"owner":{"account_id":27122938,"reputation":23,"user_id":20666408,"display_name":"Rohit Mathur"},"score":0,"creation_date":1682405324,"post_id":76098140,"comment_id":134205501,"body_markdown":"tried with label as well but still not worked. for lable I user driver.findElement(By.xpath(&quot;//label[@for=newsletter&#39;].click();","body":"tried with label as well but still not worked. for lable I user driver.findElement(By.xpath(&quot;//label[@for=newsletter&#39;].click&zwnj;&#8203;();"},{"owner":{"account_id":27122938,"reputation":23,"user_id":20666408,"display_name":"Rohit Mathur"},"score":0,"creation_date":1682406539,"post_id":76098140,"comment_id":134205727,"body_markdown":"I have added error message as well.","body":"I have added error message as well."},{"owner":{"account_id":27122938,"reputation":23,"user_id":20666408,"display_name":"Rohit Mathur"},"score":0,"creation_date":1682407419,"post_id":76098140,"comment_id":134205897,"body_markdown":"This one is solved. Tried with jsexecutor scroll down and it is solved. Thank you for looking into it. :)","body":"This one is solved. Tried with jsexecutor scroll down and it is solved. Thank you for looking into it. :)"},{"owner":{"account_id":16840055,"reputation":300,"user_id":12175652,"display_name":"Rolandas Ulevicius"},"score":0,"creation_date":1682411307,"post_id":76098140,"comment_id":134206810,"body_markdown":"its in an iframe. next time post more of the HTML not just the element.","body":"its in an iframe. next time post more of the HTML not just the element."}],"answers":[{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682407815,"creation_date":1682407815,"answer_id":76098617,"question_id":76098140,"body_markdown":"It&#39;s very wierd that the `label` can not be located.\r\n\r\nI&#39;ve managed to make the click while iterating all labels.\r\n\r\n**Code example:**\r\n\r\n    package tests;\r\n    \r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.List;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    \r\n    import selenium.ChromeDriverSetup;\r\n    \r\n    public class AutomationexerciseRegister extends ChromeDriverSetup {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tWebDriver driver = startChromeDriver();\r\n    \t\tdriver.get(&quot;http://automationexercise.com&quot;);\r\n            driver.findElement(By.xpath(&quot;//div[@class=&#39;shop-menu pull-right&#39;]/ul/li[4]/a&quot;)).click();\r\n            \r\n            String userName = &quot;testuser_&quot; + timestampOfPattern(&quot;yyyyMMdd_HHmmss&quot;);\r\n            String email = userName + &quot;@mailinator.com&quot;;\r\n            WebElement inputName = driver.findElement(By.name(&quot;name&quot;));\r\n            inputName.click();\r\n            inputName.sendKeys(userName);\r\n            \r\n            \r\n            WebElement inputEmail = driver.findElements(By.name(&quot;email&quot;)).get(1);\r\n            inputEmail.click();\r\n            inputEmail.sendKeys(email);\r\n            driver.findElement(By.xpath(&quot;//form[@action=&#39;/signup&#39;]/button&quot;)).click();\r\n            \r\n            \r\n            List&lt;WebElement&gt; labels = driver.findElements(By.tagName(&quot;label&quot;));\r\n            clickLabelFor(labels, &quot;newsletter&quot;);\r\n            clickLabelFor(labels, &quot;optin&quot;);\r\n           \r\n            driver.quit(); // breakpoint here to see the checkboxes\r\n    \r\n    \t}\r\n    \t\r\n    \tpublic static String timestampOfPattern(String pattern) {\r\n    \t\tLocalDateTime now = LocalDateTime.now();\r\n    \t\tDateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(pattern);\r\n    \t\treturn now.format(dateTimeFormatter);\r\n    \t}\r\n    \t\r\n    \tpublic static void clickLabelFor(List&lt;WebElement&gt; labels, String attrFor) {\r\n            for (WebElement label: labels) {\r\n            \tString forValue = label.getAttribute(&quot;for&quot;);\r\n            \tif (forValue != null) {\r\n                \tif (forValue.equals(attrFor)) {\r\n                \t\tlabel.click();\r\n                \t\tbreak;\r\n                \t}\r\n            \t}\r\n            }\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Checkbox is not selected in selenium java. Tried everything but nothing worked","body":"<p>It's very wierd that the <code>label</code> can not be located.</p>\n<p>I've managed to make the click while iterating all labels.</p>\n<p><strong>Code example:</strong></p>\n<pre><code>package tests;\n\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.List;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\n\nimport selenium.ChromeDriverSetup;\n\npublic class AutomationexerciseRegister extends ChromeDriverSetup {\n\n    public static void main(String[] args) {\n        \n        WebDriver driver = startChromeDriver();\n        driver.get(&quot;http://automationexercise.com&quot;);\n        driver.findElement(By.xpath(&quot;//div[@class='shop-menu pull-right']/ul/li[4]/a&quot;)).click();\n        \n        String userName = &quot;testuser_&quot; + timestampOfPattern(&quot;yyyyMMdd_HHmmss&quot;);\n        String email = userName + &quot;@mailinator.com&quot;;\n        WebElement inputName = driver.findElement(By.name(&quot;name&quot;));\n        inputName.click();\n        inputName.sendKeys(userName);\n        \n        \n        WebElement inputEmail = driver.findElements(By.name(&quot;email&quot;)).get(1);\n        inputEmail.click();\n        inputEmail.sendKeys(email);\n        driver.findElement(By.xpath(&quot;//form[@action='/signup']/button&quot;)).click();\n        \n        \n        List&lt;WebElement&gt; labels = driver.findElements(By.tagName(&quot;label&quot;));\n        clickLabelFor(labels, &quot;newsletter&quot;);\n        clickLabelFor(labels, &quot;optin&quot;);\n       \n        driver.quit(); // breakpoint here to see the checkboxes\n\n    }\n    \n    public static String timestampOfPattern(String pattern) {\n        LocalDateTime now = LocalDateTime.now();\n        DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(pattern);\n        return now.format(dateTimeFormatter);\n    }\n    \n    public static void clickLabelFor(List&lt;WebElement&gt; labels, String attrFor) {\n        for (WebElement label: labels) {\n            String forValue = label.getAttribute(&quot;for&quot;);\n            if (forValue != null) {\n                if (forValue.equals(attrFor)) {\n                    label.click();\n                    break;\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":27122938,"reputation":23,"user_id":20666408,"display_name":"Rohit Mathur"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682407815,"creation_date":1682403760,"question_id":76098140,"body_markdown":"I&#39;m trying to fill in registration page for this the user will first be on the sign up page where they have to enter name and email address and then click on Signup button. This will navigate to the registration page where user will have to enter all the details. On registration page the checkboxes are not clickable.\r\nKindly help me with this.\r\nThis is POM class   \r\n      \r\n    \r\n    public class RegisterNewUserPom {\r\n    \t\r\n    \tprivate WebDriver driver;\r\n    \tprivate By newName= By.name(&quot;name&quot;);\r\n    \tprivate By newEmail= By.xpath(&quot;//form[@action=&#39;/signup&#39;]/input[3]&quot;);\r\n    \tprivate By signup=By.xpath(&quot;//form[@action=&#39;/signup&#39;]/button&quot;);\r\n    \tprivate By title=By.id(&quot;id_gender1&quot;);\r\n    \tprivate By password=By.id(&quot;password&quot;);\r\n    \tprivate By days=By.id(&quot;days&quot;);\r\n    \tprivate By month=By.id(&quot;months&quot;);\r\n    \tprivate By year=By.id(&quot;years&quot;);\r\n    \tprivate By newsLetter=By.id(&quot;newsletter&quot;);\r\n    \tprivate By optional=By.xpath(&quot;optin&quot;);\r\n    \tprivate By firstName=By.id(&quot;first_name&quot;);\r\n    \tprivate By lastName=By.id(&quot;last_name&quot;);\r\n    \tprivate By company=By.id(&quot;company&quot;);\r\n    \tprivate By address1=By.id(&quot;address1&quot;);\r\n    \tprivate By address2= By.id(&quot;address2&quot;);\r\n    \tprivate By country=By.id(&quot;country&quot;);\r\n    \tprivate By state=By.id(&quot;state&quot;);\r\n    \tprivate By city= By.id(&quot;city&quot;);\r\n    \tprivate By zipcode= By.id(&quot;zipcode&quot;);\r\n    \tprivate By mobileNumber=By.id(&quot;mobile_number&quot;);\r\n    \r\n    \t\r\n    \tpublic RegisterNewUserPom(WebDriver driver) {\r\n    \t\tthis.driver=driver;\r\n    \t}\r\n    \t\r\n    \tpublic void EnterNewName(String name) {\r\n    \t\tdriver.findElement(newName).sendKeys(name);\r\n    \t}\r\n    \tpublic void EnterNewEmail(String email) {\r\n    \t\tdriver.findElement(newEmail).sendKeys(email);\r\n    \t\t\r\n    \t}\r\n    \tpublic void ClickSignUpButton() {\r\n    \t\tActions actions=new Actions(driver);\r\n    \t\tactions.moveToElement(driver.findElement(signup)).click().build().perform();\r\n    \t}\r\n    \t\r\n    \tpublic void SelectTitle() {\r\n    \t\tdriver.findElement(title).click();\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic void EnterPassword(String passWord) {\r\n    \t\tdriver.findElement(password).sendKeys(passWord);\r\n    \t}\r\n    \tpublic void SelectDay() {\r\n    \t\tWebElement day=driver.findElement(days);\r\n    \t\tSelect select=new Select(day);\r\n    \t\tselect.selectByValue(&quot;2&quot;);\r\n    \t}\r\n    \tpublic void SelectMonth() {\r\n    \t\tWebElement months=driver.findElement(month);\r\n    \t\tSelect select=new Select(months);\r\n    \t\tselect.selectByVisibleText(&quot;June&quot;);\r\n    \t}\r\n    \tpublic void SelectYear() {\r\n    \t\tWebElement years=driver.findElement(year);\r\n    \t\tSelect select=new Select(years);\r\n    \t\tselect.selectByValue(&quot;1992&quot;);\r\n    \t}\r\n    \t\r\n    \tpublic void SelectCheckbox() {\r\n    \t\tdriver.findElement(newsLetter).click();\r\n    \t\tdriver.findElement(optional).click();\r\n    \t}\r\n    \t\r\n    \tpublic void EnterAddress(String add1, String add2) {\r\n    \t\tdriver.findElement(address1).sendKeys(add1);\r\n    \t\tdriver.findElement(address2).sendKeys(add2);\r\n    \t\t\r\n    \t}\r\n    \tpublic void SelectCountry() {\r\n    \t\tWebElement countries=driver.findElement(country);\r\n    \t\tSelect select=new Select(countries);\r\n    \t\tselect.selectByValue(&quot;India&quot;);\r\n    \t}\r\n    \tpublic void EnterFirstName(String fname) {\r\n    \t\tdriver.findElement(firstName).sendKeys(fname);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic void EnterLastName(String lname) {\r\n    \t\tdriver.findElement(lastName).sendKeys(lname);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic void EnterCompanyName(String cname) {\r\n    \t\tdriver.findElement(company).sendKeys(cname);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic void EnterCity(String cityName) {\r\n    \t\tdriver.findElement(city).sendKeys(cityName);\r\n    \t}\r\n    \tpublic void EnterState(String stateName) {\r\n    \t\tdriver.findElement(state).sendKeys(stateName);\r\n    \t}\r\n    \t\r\n    \tpublic void EnterZipCode(int zip) {\r\n    \t\tString zipString= Integer.toString(zip);\r\n    \t\tdriver.findElement(zipcode).sendKeys(zipString);\r\n    \t}\r\n    \t\r\n    \tpublic void EnterMobileNumber(int mnumber) {\r\n    \t\tString mobile= Integer.toString(mnumber);\r\n    \t\tdriver.findElement(mobileNumber).sendKeys(mobile);\r\n    \t}\r\n    \tpublic void RegisterUser(String name, String email) {\r\n    \t\tEnterNewName(name);\r\n    \t\tEnterNewEmail(email);\r\n    \t\tClickSignUpButton();\t\t\r\n    \t}\r\n    \tpublic void EnterUserDetail(String pass, String fname, String lname,\r\n    \t\t\tString companyName, String address1, String address2,\r\n    \t\t\tString state, String city, int zipcode, int  mobile) {\r\n    \t\tSelectTitle();\r\n    \t\tEnterPassword(pass);\r\n    \t\tSelectDay();\r\n    \t\tSelectMonth();\r\n    \t\tSelectYear();\r\n    \t\tSelectCheckbox();\r\n    \t\tEnterFirstName(fname);\r\n    \t\tEnterLastName(lname);\r\n    \t\tEnterCompanyName(companyName);\r\n    \t\tEnterAddress(address1, address2);\r\n    \t\tSelectCountry();\r\n    \t\tEnterState(state);\r\n    \t\tEnterCity(city);\r\n    \t\tEnterZipCode(zipcode);\r\n    \t\tEnterMobileNumber(mobile);\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    }\r\nThis is Test class\r\n\r\n    public class RegisterTest {\r\n    \tWebDriver driver;\r\n    \tLoginPOM loginPom;\r\n    \tRegisterNewUserPom registernewuser;\r\n    \tRandom randomGenerator = new Random();  \r\n    \tint randomInt = randomGenerator.nextInt(1000);  \r\n    \t\r\n    \t@BeforeMethod\r\n    \tpublic void setup() {\r\n    \t\tdriver= new ChromeDriver();\r\n    \t\tdriver.get(&quot;http://automationexercise.com&quot;);\r\n    \t\tdriver.findElement(By.xpath(&quot;//div[@class=&#39;shop-menu pull-right&#39;]/ul/li[4]/a&quot;)).click();\r\n    \t\tregisternewuser= new RegisterNewUserPom(driver);\t\t\r\n    \t}\r\n    \t@Test\r\n    \tpublic void RegisterNewUser() {\r\n    \t\tString randomEmail=&quot;username&quot;+ randomInt +&quot;@testpractice.com&quot;;\r\n    \t\tregisternewuser.RegisterUser(&quot;Rohit&quot;, randomEmail);\r\n    \t}\r\n    \t\r\n    \t@AfterTest\r\n    \tpublic void EnterDetailsInForm() {\r\n    \t\tString password=&quot;Test@123&quot;;\r\n    \t\tString fname=&quot;Rohit&quot;;\r\n    \t\tString lname= &quot;Tester&quot;;\r\n    \t\tString company=&quot;test company&quot;;\r\n    \t\tString add1=&quot;hello&quot;;\r\n    \t\tString add2=&quot;hello2222&quot;;\r\n    \t\tString state=&quot;myState&quot;;\r\n    \t\tString city=&quot;dream city&quot;;\r\n    \t\tint zipcode=1234;\r\n    \t\tint mnumber=1234567890;\r\n    \t\tregisternewuser.EnterUserDetail(password, fname, lname, company, add1, add2, state, city, zipcode, mnumber);\r\n    \t}\r\n    }\r\n\r\nThis is HTML code for checkboxes\r\n\r\n    &lt;div class=&quot;checker&quot; id=&quot;uniform-newsletter&quot;&gt;&lt;span class=&quot;&quot;&gt;&lt;input type=&quot;checkbox&quot; name=&quot;newsletter&quot; id=&quot;newsletter&quot; value=&quot;1&quot;&gt;&lt;/span&gt;&lt;/div&gt;\r\n\r\n    &lt;label for=&quot;newsletter&quot;&gt;Sign up for our newsletter!&lt;/label&gt;\r\n\r\n&lt;/div&gt;\r\n\r\n&lt;div class=&quot;checkbox&quot;&gt;\r\n\r\n    &lt;div class=&quot;checker&quot; id=&quot;uniform-optin&quot;&gt;&lt;span&gt;&lt;input type=&quot;checkbox&quot; name=&quot;optin&quot; id=&quot;optin&quot; value=&quot;1&quot;&gt;&lt;/span&gt;&lt;/div&gt;\r\n\r\n    &lt;label for=&quot;optin&quot;&gt;Receive special offers from our partners!&lt;/label&gt;\r\n\r\n&lt;/div&gt;\r\n\r\nThis is the code which I&#39;m trying to run but everytime I run this code then on the register page the checkbox are not clickable and I get error for element click intercepted. I tried with all the possible method like js executor, actions, webdriver wait but nothing works. Please let me know how to click the checkbox\r\n\r\nI have tried with webdriver wait on the checkbox till element to be clickable, tried with jsexecutor as well and actions as well but nothing worked. And I don&#39;t know why it is not clickable even though id id is given.\r\n\r\nError message when tried all the possible ways:\r\n\r\n    org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;label for=&quot;newsletter&quot;&gt;...&lt;/label&gt; is not clickable at point (222, 658). Other element would receive the click: &lt;iframe id=&quot;aswift_6&quot; name=&quot;aswift_6&quot; style=&quot;width: 1005px !important; height: 124px !important; display: block; margin: 0px auto;&quot; sandbox=&quot;allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation&quot; width=&quot;1005&quot; height=&quot;124&quot; frameborder=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; vspace=&quot;0&quot; hspace=&quot;0&quot; allowtransparency=&quot;true&quot; scrolling=&quot;no&quot; src=&quot;https://googleads.g.doubleclick.net/pagead/html/r20230420/r20110914/zrt_lookup.html?fsb=1#RS-1-&amp;amp;adk=1812271801&amp;amp;client=ca-pub-1677597403311019&amp;amp;fa=1&amp;amp;ifi=7&amp;amp;uci=a!7&amp;amp;btvi=4&amp;amp;xpc=5L11JsaZOU&amp;amp;p=https%3A//automationexercise.com&quot; data-google-container-id=&quot;a!7&quot; data-google-query-id=&quot;CPiC_bC8xP4CFVVkYAodURkGgw&quot; data-load-complete=&quot;true&quot;&gt;&lt;/iframe&gt;\r\n","title":"Checkbox is not selected in selenium java. Tried everything but nothing worked","body":"<p>I'm trying to fill in registration page for this the user will first be on the sign up page where they have to enter name and email address and then click on Signup button. This will navigate to the registration page where user will have to enter all the details. On registration page the checkboxes are not clickable.\nKindly help me with this.\nThis is POM class</p>\n<pre><code>public class RegisterNewUserPom {\n    \n    private WebDriver driver;\n    private By newName= By.name(&quot;name&quot;);\n    private By newEmail= By.xpath(&quot;//form[@action='/signup']/input[3]&quot;);\n    private By signup=By.xpath(&quot;//form[@action='/signup']/button&quot;);\n    private By title=By.id(&quot;id_gender1&quot;);\n    private By password=By.id(&quot;password&quot;);\n    private By days=By.id(&quot;days&quot;);\n    private By month=By.id(&quot;months&quot;);\n    private By year=By.id(&quot;years&quot;);\n    private By newsLetter=By.id(&quot;newsletter&quot;);\n    private By optional=By.xpath(&quot;optin&quot;);\n    private By firstName=By.id(&quot;first_name&quot;);\n    private By lastName=By.id(&quot;last_name&quot;);\n    private By company=By.id(&quot;company&quot;);\n    private By address1=By.id(&quot;address1&quot;);\n    private By address2= By.id(&quot;address2&quot;);\n    private By country=By.id(&quot;country&quot;);\n    private By state=By.id(&quot;state&quot;);\n    private By city= By.id(&quot;city&quot;);\n    private By zipcode= By.id(&quot;zipcode&quot;);\n    private By mobileNumber=By.id(&quot;mobile_number&quot;);\n\n    \n    public RegisterNewUserPom(WebDriver driver) {\n        this.driver=driver;\n    }\n    \n    public void EnterNewName(String name) {\n        driver.findElement(newName).sendKeys(name);\n    }\n    public void EnterNewEmail(String email) {\n        driver.findElement(newEmail).sendKeys(email);\n        \n    }\n    public void ClickSignUpButton() {\n        Actions actions=new Actions(driver);\n        actions.moveToElement(driver.findElement(signup)).click().build().perform();\n    }\n    \n    public void SelectTitle() {\n        driver.findElement(title).click();\n        \n    }\n    \n    public void EnterPassword(String passWord) {\n        driver.findElement(password).sendKeys(passWord);\n    }\n    public void SelectDay() {\n        WebElement day=driver.findElement(days);\n        Select select=new Select(day);\n        select.selectByValue(&quot;2&quot;);\n    }\n    public void SelectMonth() {\n        WebElement months=driver.findElement(month);\n        Select select=new Select(months);\n        select.selectByVisibleText(&quot;June&quot;);\n    }\n    public void SelectYear() {\n        WebElement years=driver.findElement(year);\n        Select select=new Select(years);\n        select.selectByValue(&quot;1992&quot;);\n    }\n    \n    public void SelectCheckbox() {\n        driver.findElement(newsLetter).click();\n        driver.findElement(optional).click();\n    }\n    \n    public void EnterAddress(String add1, String add2) {\n        driver.findElement(address1).sendKeys(add1);\n        driver.findElement(address2).sendKeys(add2);\n        \n    }\n    public void SelectCountry() {\n        WebElement countries=driver.findElement(country);\n        Select select=new Select(countries);\n        select.selectByValue(&quot;India&quot;);\n    }\n    public void EnterFirstName(String fname) {\n        driver.findElement(firstName).sendKeys(fname);\n        \n    }\n    \n    public void EnterLastName(String lname) {\n        driver.findElement(lastName).sendKeys(lname);\n        \n    }\n    \n    public void EnterCompanyName(String cname) {\n        driver.findElement(company).sendKeys(cname);\n        \n    }\n    \n    public void EnterCity(String cityName) {\n        driver.findElement(city).sendKeys(cityName);\n    }\n    public void EnterState(String stateName) {\n        driver.findElement(state).sendKeys(stateName);\n    }\n    \n    public void EnterZipCode(int zip) {\n        String zipString= Integer.toString(zip);\n        driver.findElement(zipcode).sendKeys(zipString);\n    }\n    \n    public void EnterMobileNumber(int mnumber) {\n        String mobile= Integer.toString(mnumber);\n        driver.findElement(mobileNumber).sendKeys(mobile);\n    }\n    public void RegisterUser(String name, String email) {\n        EnterNewName(name);\n        EnterNewEmail(email);\n        ClickSignUpButton();        \n    }\n    public void EnterUserDetail(String pass, String fname, String lname,\n            String companyName, String address1, String address2,\n            String state, String city, int zipcode, int  mobile) {\n        SelectTitle();\n        EnterPassword(pass);\n        SelectDay();\n        SelectMonth();\n        SelectYear();\n        SelectCheckbox();\n        EnterFirstName(fname);\n        EnterLastName(lname);\n        EnterCompanyName(companyName);\n        EnterAddress(address1, address2);\n        SelectCountry();\n        EnterState(state);\n        EnterCity(city);\n        EnterZipCode(zipcode);\n        EnterMobileNumber(mobile);\n        \n        \n        \n    }\n}\n</code></pre>\n<p>This is Test class</p>\n<pre><code>public class RegisterTest {\n    WebDriver driver;\n    LoginPOM loginPom;\n    RegisterNewUserPom registernewuser;\n    Random randomGenerator = new Random();  \n    int randomInt = randomGenerator.nextInt(1000);  \n    \n    @BeforeMethod\n    public void setup() {\n        driver= new ChromeDriver();\n        driver.get(&quot;http://automationexercise.com&quot;);\n        driver.findElement(By.xpath(&quot;//div[@class='shop-menu pull-right']/ul/li[4]/a&quot;)).click();\n        registernewuser= new RegisterNewUserPom(driver);        \n    }\n    @Test\n    public void RegisterNewUser() {\n        String randomEmail=&quot;username&quot;+ randomInt +&quot;@testpractice.com&quot;;\n        registernewuser.RegisterUser(&quot;Rohit&quot;, randomEmail);\n    }\n    \n    @AfterTest\n    public void EnterDetailsInForm() {\n        String password=&quot;Test@123&quot;;\n        String fname=&quot;Rohit&quot;;\n        String lname= &quot;Tester&quot;;\n        String company=&quot;test company&quot;;\n        String add1=&quot;hello&quot;;\n        String add2=&quot;hello2222&quot;;\n        String state=&quot;myState&quot;;\n        String city=&quot;dream city&quot;;\n        int zipcode=1234;\n        int mnumber=1234567890;\n        registernewuser.EnterUserDetail(password, fname, lname, company, add1, add2, state, city, zipcode, mnumber);\n    }\n}\n</code></pre>\n<p>This is HTML code for checkboxes</p>\n<pre><code>&lt;div class=&quot;checker&quot; id=&quot;uniform-newsletter&quot;&gt;&lt;span class=&quot;&quot;&gt;&lt;input type=&quot;checkbox&quot; name=&quot;newsletter&quot; id=&quot;newsletter&quot; value=&quot;1&quot;&gt;&lt;/span&gt;&lt;/div&gt;\n\n&lt;label for=&quot;newsletter&quot;&gt;Sign up for our newsletter!&lt;/label&gt;\n</code></pre>\n\n\n<pre><code>&lt;div class=&quot;checker&quot; id=&quot;uniform-optin&quot;&gt;&lt;span&gt;&lt;input type=&quot;checkbox&quot; name=&quot;optin&quot; id=&quot;optin&quot; value=&quot;1&quot;&gt;&lt;/span&gt;&lt;/div&gt;\n\n&lt;label for=&quot;optin&quot;&gt;Receive special offers from our partners!&lt;/label&gt;\n</code></pre>\n\n<p>This is the code which I'm trying to run but everytime I run this code then on the register page the checkbox are not clickable and I get error for element click intercepted. I tried with all the possible method like js executor, actions, webdriver wait but nothing works. Please let me know how to click the checkbox</p>\n<p>I have tried with webdriver wait on the checkbox till element to be clickable, tried with jsexecutor as well and actions as well but nothing worked. And I don't know why it is not clickable even though id id is given.</p>\n<p>Error message when tried all the possible ways:</p>\n<pre><code>org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;label for=&quot;newsletter&quot;&gt;...&lt;/label&gt; is not clickable at point (222, 658). Other element would receive the click: &lt;iframe id=&quot;aswift_6&quot; name=&quot;aswift_6&quot; style=&quot;width: 1005px !important; height: 124px !important; display: block; margin: 0px auto;&quot; sandbox=&quot;allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation&quot; width=&quot;1005&quot; height=&quot;124&quot; frameborder=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; vspace=&quot;0&quot; hspace=&quot;0&quot; allowtransparency=&quot;true&quot; scrolling=&quot;no&quot; src=&quot;https://googleads.g.doubleclick.net/pagead/html/r20230420/r20110914/zrt_lookup.html?fsb=1#RS-1-&amp;amp;adk=1812271801&amp;amp;client=ca-pub-1677597403311019&amp;amp;fa=1&amp;amp;ifi=7&amp;amp;uci=a!7&amp;amp;btvi=4&amp;amp;xpc=5L11JsaZOU&amp;amp;p=https%3A//automationexercise.com&quot; data-google-container-id=&quot;a!7&quot; data-google-query-id=&quot;CPiC_bC8xP4CFVVkYAodURkGgw&quot; data-load-complete=&quot;true&quot;&gt;&lt;/iframe&gt;\n</code></pre>\n"},{"tags":["java","spring-webflux","reactive-programming","project-reactor","reactive"],"owner":{"account_id":9160569,"reputation":61,"user_id":6812019,"display_name":"Jayesslee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682407646,"creation_date":1682393984,"question_id":76097505,"body_markdown":"The 2 overloads of this methods:\r\n[![enter image description here][1]][1]\r\n\r\n    public final &lt;U&gt; Flux&lt;T&gt; sampleTimeout(Function&lt;? super T,? extends Publisher&lt;U&gt;&gt; throttlerFactory)\r\n\r\nand\r\n\r\n    public final &lt;U&gt; Flux&lt;T&gt; sampleTimeout(Function&lt;? super T,? extends Publisher&lt;U&gt;&gt; throttlerFactory,\r\n                                           int maxConcurrency)\r\n\r\n[https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html][3]\r\n\r\nAny one can help me to understand these 2 methods? I have understood sample with Duration, but I don&#39;t quite understand sampleTimeout().\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V8V4R.png\r\n  [2]: https://i.stack.imgur.com/XgYWm.png\r\n  [3]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html","title":"What is the difference between Flux.sample(with Duration) and Flux.sampleTimeout()?","body":"<p>The 2 overloads of this methods:\n<a href=\"https://i.stack.imgur.com/V8V4R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V8V4R.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public final &lt;U&gt; Flux&lt;T&gt; sampleTimeout(Function&lt;? super T,? extends Publisher&lt;U&gt;&gt; throttlerFactory)\n</code></pre>\n<p>and</p>\n<pre><code>public final &lt;U&gt; Flux&lt;T&gt; sampleTimeout(Function&lt;? super T,? extends Publisher&lt;U&gt;&gt; throttlerFactory,\n                                       int maxConcurrency)\n</code></pre>\n<p><a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html</a></p>\n<p>Any one can help me to understand these 2 methods? I have understood sample with Duration, but I don't quite understand sampleTimeout().</p>\n"},{"tags":["java","android-webview"],"answers":[{"tags":[],"owner":{"account_id":26036898,"reputation":11,"user_id":19742242,"display_name":"Jeyson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681740895,"creation_date":1681740895,"answer_id":76036116,"question_id":76035813,"body_markdown":"Are you sure you enabled JavaScript?\r\n\r\n    getSettings().setJavaScriptEnabled(true);\r\n\r\nAlso try visiting &lt;a href=&quot;https://www.digitalocean.com/community/tutorials/android-webview-example-tutorial&quot;&gt;this site&lt;/a&gt;. They have some useful information on Android WebView.\r\n","title":"How to get a javascript function&#39;s return value from android webview to application - Java","body":"<p>Are you sure you enabled JavaScript?</p>\n<pre><code>getSettings().setJavaScriptEnabled(true);\n</code></pre>\n<p>Also try visiting <a href=\"https://www.digitalocean.com/community/tutorials/android-webview-example-tutorial\" rel=\"nofollow noreferrer\">this site</a>. They have some useful information on Android WebView.</p>\n"},{"tags":[],"owner":{"account_id":3801000,"reputation":624,"user_id":3154666,"accept_rate":75,"display_name":"Introspective"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681878483,"creation_date":1681844812,"answer_id":76048239,"question_id":76035813,"body_markdown":"The prototype of WebView&#39;s [loadUrl()][1] is:\r\n\r\n```\r\npublic void loadUrl(String url)\r\n```\r\n\r\nAs such, `loadUrl()` will never return anything, certainly not the filename as you expect.\r\n\r\nInstead, you can use the `evaluateJavascript()` method of the WebView:\r\n\r\n - Create a JavaScript interface in your Java application by extending the WebViewClient class and overriding its `onPageFinished()` method. In there, inject JavaScript into the WebView and get its return value:\r\n\r\n```\r\nwebView.setWebViewClient(new WebViewClient() {\r\n    @Override\r\n    public void onPageFinished(WebView view, String url) {\r\n        webView.evaluateJavascript(&quot;yourJavaScriptFunction()&quot;, new ValueCallback&lt;String&gt;() {\r\n            @Override\r\n            public void onReceiveValue(String value) {\r\n                // value is the return value of your JavaScript function\r\n            }\r\n        });\r\n    }\r\n});\r\n```\r\n\r\n - In your JavaScript function, make sure to return a value:\r\n```\r\nfunction yourJavaScriptFunction() {\r\n    return &quot;hello world&quot;;\r\n}\r\n```\r\n - Once the WebView has finished loading the page, the `onReceiveValue()` method of the `ValueCallback` interface will be called, and you can get the return value of your JavaScript function from the value parameter.\r\n\r\n**Note**: `evaluateJavascript()` is only available on Android 4.4 (API level 19) and above. If you&#39;re targeting an earlier version of Android, you&#39;ll need to use the `loadUrl()` method to execute your JavaScript and get its return value.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/webkit/WebView#loadUrl(java.lang.String)","title":"How to get a javascript function&#39;s return value from android webview to application - Java","body":"<p>The prototype of WebView's <a href=\"https://developer.android.com/reference/android/webkit/WebView#loadUrl(java.lang.String)\" rel=\"nofollow noreferrer\">loadUrl()</a> is:</p>\n<pre><code>public void loadUrl(String url)\n</code></pre>\n<p>As such, <code>loadUrl()</code> will never return anything, certainly not the filename as you expect.</p>\n<p>Instead, you can use the <code>evaluateJavascript()</code> method of the WebView:</p>\n<ul>\n<li>Create a JavaScript interface in your Java application by extending the WebViewClient class and overriding its <code>onPageFinished()</code> method. In there, inject JavaScript into the WebView and get its return value:</li>\n</ul>\n<pre><code>webView.setWebViewClient(new WebViewClient() {\n    @Override\n    public void onPageFinished(WebView view, String url) {\n        webView.evaluateJavascript(&quot;yourJavaScriptFunction()&quot;, new ValueCallback&lt;String&gt;() {\n            @Override\n            public void onReceiveValue(String value) {\n                // value is the return value of your JavaScript function\n            }\n        });\n    }\n});\n</code></pre>\n<ul>\n<li>In your JavaScript function, make sure to return a value:</li>\n</ul>\n<pre><code>function yourJavaScriptFunction() {\n    return &quot;hello world&quot;;\n}\n</code></pre>\n<ul>\n<li>Once the WebView has finished loading the page, the <code>onReceiveValue()</code> method of the <code>ValueCallback</code> interface will be called, and you can get the return value of your JavaScript function from the value parameter.</li>\n</ul>\n<p><strong>Note</strong>: <code>evaluateJavascript()</code> is only available on Android 4.4 (API level 19) and above. If you're targeting an earlier version of Android, you'll need to use the <code>loadUrl()</code> method to execute your JavaScript and get its return value.</p>\n"},{"tags":[],"owner":{"account_id":26845241,"reputation":512,"user_id":21598034,"display_name":"ADasGH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682407590,"creation_date":1682366391,"answer_id":76095649,"question_id":76035813,"body_markdown":"So this is what worked for me after experimenting with the answer by @Introspective; I am posting here because any future visitors may find it helpful.\r\nInstead of `onPageFinished()`, I put `evaluateJavascript()` inside download listener. A JsonReader was required as the result is a JSON value.\r\n```\r\nMyWebView.setDownloadListener((url, userAgent, contentDisposition, mimeType, contentLength) -&gt; {\r\n    if (url.startsWith(&quot;data:&quot;)) {\r\n       MyWebView.evaluateJavascript(&quot;returnfileName()&quot;, string -&gt; {\r\n           JsonReader jsonReader = new JsonReader(new StringReader(string));\r\n           jsonReader.setLenient(true);//this is needed because I am returning  a single value\r\n    if(jsonReader.peek() != JsonToken.NULL) {\r\n           String fileName = jsonReader.nextString();\r\n           //Now I can use the String fileName as I wish.\r\n           //Rest of the code\r\n   }\r\n}\r\n```\r\nJavascript function returnFileName()\r\n```\r\nfunction returnfileName(){\r\n  var fileName;\r\n  if (document.getElementById(&quot;id of input field&quot;).value===&quot;&quot;){ \r\n  fileName = &quot;Default file name in case user didn&#39;t enter any filename&quot;;\r\n  }\r\n  else{\r\n  fileName = document.getElementById(&quot;id of input field&quot;).value;}\r\n  }\r\n  return fileName;\r\n}\r\n```\r\nSince `evaluateJavascript()` is a void, I had to put rest of the code to download the file inside the `evaluateJavascript()` itself, because otherwise String fileName will not be accessible for them (void doesn&#39;t have a return value).","title":"How to get a javascript function&#39;s return value from android webview to application - Java","body":"<p>So this is what worked for me after experimenting with the answer by @Introspective; I am posting here because any future visitors may find it helpful.\nInstead of <code>onPageFinished()</code>, I put <code>evaluateJavascript()</code> inside download listener. A JsonReader was required as the result is a JSON value.</p>\n<pre><code>MyWebView.setDownloadListener((url, userAgent, contentDisposition, mimeType, contentLength) -&gt; {\n    if (url.startsWith(&quot;data:&quot;)) {\n       MyWebView.evaluateJavascript(&quot;returnfileName()&quot;, string -&gt; {\n           JsonReader jsonReader = new JsonReader(new StringReader(string));\n           jsonReader.setLenient(true);//this is needed because I am returning  a single value\n    if(jsonReader.peek() != JsonToken.NULL) {\n           String fileName = jsonReader.nextString();\n           //Now I can use the String fileName as I wish.\n           //Rest of the code\n   }\n}\n</code></pre>\n<p>Javascript function returnFileName()</p>\n<pre><code>function returnfileName(){\n  var fileName;\n  if (document.getElementById(&quot;id of input field&quot;).value===&quot;&quot;){ \n  fileName = &quot;Default file name in case user didn't enter any filename&quot;;\n  }\n  else{\n  fileName = document.getElementById(&quot;id of input field&quot;).value;}\n  }\n  return fileName;\n}\n</code></pre>\n<p>Since <code>evaluateJavascript()</code> is a void, I had to put rest of the code to download the file inside the <code>evaluateJavascript()</code> itself, because otherwise String fileName will not be accessible for them (void doesn't have a return value).</p>\n"}],"owner":{"account_id":26845241,"reputation":512,"user_id":21598034,"display_name":"ADasGH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":521,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76095649,"answer_count":3,"score":1,"last_activity_date":1682407590,"creation_date":1681738955,"question_id":76035813,"body_markdown":"I want to get the return value of a javascript function inside Android webview to be made accessible to the android application and get it converted to a string.\r\n\r\nSo I put this code:\r\n\r\n```\r\nString fileName = MyWebView.loadUrl(&quot;javascript:android.onData(returnFileName())&quot;);\r\n```\r\n\r\nBut then it shows this error: Incompatible types. Found: &#39;void&#39;, required: &#39;java.lang.String&#39;.\r\n\r\nHow to fix this?\r\n\r\nEdit:\r\nActually I have an input field where the user can enter the name of a file generated as base64(data:)(which was actually a blob but I converted it). On Firefox and Chrome the downloaded file have the name user entered (I used a.download=document.getElementById.value for that) but on webview while downloading(by setting Download listener) the file I had to process the (data:) to a working URI. Now I would like to add the name entered by User to the downloaded file. For that I need to get the value of input field inside webview to Android application.\r\n\r\nThanks in advance.","title":"How to get a javascript function&#39;s return value from android webview to application - Java","body":"<p>I want to get the return value of a javascript function inside Android webview to be made accessible to the android application and get it converted to a string.</p>\n<p>So I put this code:</p>\n<pre><code>String fileName = MyWebView.loadUrl(&quot;javascript:android.onData(returnFileName())&quot;);\n</code></pre>\n<p>But then it shows this error: Incompatible types. Found: 'void', required: 'java.lang.String'.</p>\n<p>How to fix this?</p>\n<p>Edit:\nActually I have an input field where the user can enter the name of a file generated as base64(data:)(which was actually a blob but I converted it). On Firefox and Chrome the downloaded file have the name user entered (I used a.download=document.getElementById.value for that) but on webview while downloading(by setting Download listener) the file I had to process the (data:) to a working URI. Now I would like to add the name entered by User to the downloaded file. For that I need to get the value of input field inside webview to Android application.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1682294664,"post_id":76087734,"comment_id":134188063,"body_markdown":"See if [this question](https://stackoverflow.com/questions/6147884/onactivityresult-is-not-being-called-in-fragment) helps. Also you should use the [results api](https://developer.android.com/training/basics/intents/result) instead.","body":"See if <a href=\"https://stackoverflow.com/questions/6147884/onactivityresult-is-not-being-called-in-fragment\">this question</a> helps. Also you should use the <a href=\"https://developer.android.com/training/basics/intents/result\" rel=\"nofollow noreferrer\">results api</a> instead."},{"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"score":0,"creation_date":1682295186,"post_id":76087734,"comment_id":134188101,"body_markdown":"The answer to the post dominicoder suggested is outdated. startActivityForResult is deprecated. Instead you should be registerforactivityresult. https://stackoverflow.com/questions/6147884/onactivityresult-is-not-being-called-in-fragment","body":"The answer to the post dominicoder suggested is outdated. startActivityForResult is deprecated. Instead you should be registerforactivityresult. <a href=\"https://stackoverflow.com/questions/6147884/onactivityresult-is-not-being-called-in-fragment\" title=\"onactivityresult is not being called in fragment\">stackoverflow.com/questions/6147884/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5849714,"reputation":86,"user_id":5362509,"display_name":"Lakshmi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682407288,"creation_date":1682407288,"answer_id":76098545,"question_id":76087734,"body_markdown":"This will work. Make changes according to this.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    ActivityResultLauncher&lt;Intent&gt; launcher;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Button btn = findViewById(R.id.button);\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n                intent.setType(&quot;*/*&quot;);\r\n                launcher.launch(intent);\r\n            }\r\n        });\r\n\r\n        launcher = registerForActivityResult(\r\n                        new ActivityResultContracts.StartActivityForResult(),\r\n                        new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                            @Override\r\n                            public void onActivityResult(ActivityResult result) {\r\n                                if(result.getResultCode() == Activity.RESULT_OK) {\r\n                                        Intent data = result.getData();\r\n                                        Uri uri = data.getData();\r\n                                        String path = uri.getPath();\r\n                                        Log.d(&quot;file&quot;, path);\r\n                                }\r\n                            }\r\n                        }\r\n        );\r\n   }\r\n}\r\n\r\nBasically, I have used ActivityResultLauncher and registerForActivityResult() instead if the deprecated startActivityForResult(). And it works fine and I get the path of the file that I choose from the device.","title":"onActivityResult does not return file path in a fragment class","body":"<p>This will work. Make changes according to this.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nActivityResultLauncher&lt;Intent&gt; launcher;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    Button btn = findViewById(R.id.button);\n    btn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n            intent.setType(&quot;*/*&quot;);\n            launcher.launch(intent);\n        }\n    });\n\n    launcher = registerForActivityResult(\n                    new ActivityResultContracts.StartActivityForResult(),\n                    new ActivityResultCallback&lt;ActivityResult&gt;() {\n                        @Override\n                        public void onActivityResult(ActivityResult result) {\n                            if(result.getResultCode() == Activity.RESULT_OK) {\n                                    Intent data = result.getData();\n                                    Uri uri = data.getData();\n                                    String path = uri.getPath();\n                                    Log.d(&quot;file&quot;, path);\n                            }\n                        }\n                    }\n    );\n</code></pre>\n<p>}\n}</p>\n<p>Basically, I have used ActivityResultLauncher and registerForActivityResult() instead if the deprecated startActivityForResult(). And it works fine and I get the path of the file that I choose from the device.</p>\n"}],"owner":{"account_id":25797107,"reputation":11,"user_id":19540102,"display_name":"user19540102"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1682407288,"creation_date":1682292284,"question_id":76087734,"body_markdown":"I am trying to get a file that I selected from my android device, I start the intent where I can select my files when a specific button is clicked in my popup window (the pasirinktiFaila button), then I try to look what was selected through Log.d(), but it shows me no results. \r\n\r\nHere is my fragment class called KorepetitoriuiPatvirtintiMokiniai, it has the onActivityResult method.\r\n\r\n    public class KorepetitoriuiPatvirtintiMokiniai extends Fragment {\r\n    \r\n        private RecyclerView recyclerView;\r\n        private ArrayList&lt;KorepetitoriuiPatvirtintasMokinysKortele&gt; arrayList;\r\n        private KorepetitoriuiPatvirtintiMokiniaiCardAdapter adapter;\r\n        private TextView emptyRecycler;\r\n    \r\n        public KorepetitoriuiPatvirtintiMokiniai() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n        public static KorepetitoriuiPatvirtintiMokiniai newInstance() {\r\n            KorepetitoriuiPatvirtintiMokiniai fragment = new KorepetitoriuiPatvirtintiMokiniai();\r\n            Bundle args = new Bundle();\r\n            fragment.setArguments(args);\r\n            return fragment;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            View view = inflater.inflate(R.layout.fragment_korepetitoriui_patvirtinti_mokiniai, container, false);\r\n    \r\n            recyclerView = view.findViewById(R.id.recyclerKorepetitoriuiPatvirtintiMokiniai);\r\n            recyclerView.setHasFixedSize(true);\r\n            recyclerView.setLayoutManager(new LinearLayoutManager(this.getContext()));\r\n            emptyRecycler = view.findViewById(R.id.neraMokiniuKorepetitoriui);\r\n    \r\n            arrayList = new ArrayList&lt;KorepetitoriuiPatvirtintasMokinysKortele&gt;();\r\n    \r\n            GautiPatvirtintusMokiniusTask task = new GautiPatvirtintusMokiniusTask(prisijungti.currentKorepetitorius.getId());\r\n            task.execute();\r\n    \r\n            return view;\r\n        }\r\n    \r\n        @Override\r\n        public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            if(requestCode == 1 &amp;&amp; resultCode == Activity.RESULT_OK) {\r\n                Uri uri = data.getData();\r\n                String path = uri.getPath();\r\n                Log.d(&quot;file&quot;, path);\r\n            }\r\n        }\r\n    \r\n        public class GautiPatvirtintusMokiniusTask extends AsyncTask&lt;Void, Void, Void&gt; {\r\n            private int korepetitoriausId;\r\n    \r\n            public GautiPatvirtintusMokiniusTask(int korepetitoriausId) {\r\n                this.korepetitoriausId = korepetitoriausId;\r\n            }\r\n    \r\n            @Override\r\n            protected Void doInBackground(Void... voids) {\r\n                try {\r\n                    URL url = new URL(&quot;http://192.168.0.104/PHPscriptai/gautiKorepetitoriuiPatvirtintusMokinius.php?korepetitoriaus_id=&quot; + korepetitoriausId);\r\n                    HttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n                    conn.setRequestMethod(&quot;GET&quot;);\r\n                    conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n    \r\n                    BufferedReader br = new BufferedReader(new InputStreamReader((conn.getInputStream())));\r\n                    StringBuilder sb = new StringBuilder();\r\n                    String output;\r\n                    while ((output = br.readLine()) != null) {\r\n                        sb.append(output);\r\n                    }\r\n                    conn.disconnect();\r\n    \r\n                    String jsonString = sb.toString();\r\n                    JSONArray jsonArray = new JSONArray(jsonString);\r\n                    for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n                        JSONObject obj = jsonArray.getJSONObject(i);\r\n                        String vardasMokinio = obj.getString(&quot;pilnas_mokinio_vardas&quot;);\r\n                        int mokinioId = obj.getInt(&quot;mokinio_id&quot;);\r\n    \r\n                        arrayList.add(new KorepetitoriuiPatvirtintasMokinysKortele(vardasMokinio, mokinioId));\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            protected void onPostExecute(Void result) {\r\n                if (arrayList.isEmpty()) {\r\n                    emptyRecycler.setVisibility(View.VISIBLE);\r\n                    recyclerView.setVisibility(View.GONE);\r\n                } else {\r\n                    emptyRecycler.setVisibility(View.GONE);\r\n                    recyclerView.setVisibility(View.VISIBLE);\r\n                    adapter = new KorepetitoriuiPatvirtintiMokiniaiCardAdapter(arrayList, getContext());\r\n                    recyclerView.setAdapter(adapter);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nMy adapter class:\r\n\r\n    public class KorepetitoriuiPatvirtintiMokiniaiCardAdapter extends RecyclerView.Adapter&lt;KorepetitoriuiPatvirtintiMokiniaiCardHolder&gt; {\r\n    \r\n        private ArrayList&lt;KorepetitoriuiPatvirtintasMokinysKortele&gt; list;\r\n        private Context context;\r\n        private Dialog popup;\r\n    \r\n        public KorepetitoriuiPatvirtintiMokiniaiCardAdapter(ArrayList&lt;KorepetitoriuiPatvirtintasMokinysKortele&gt; list, Context context) {\r\n            this.list = list;\r\n            this.context = context;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public KorepetitoriuiPatvirtintiMokiniaiCardHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.korepetitoriaus_mokinys_item, parent, false);\r\n    \r\n            return new KorepetitoriuiPatvirtintiMokiniaiCardHolder(view);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull KorepetitoriuiPatvirtintiMokiniaiCardHolder holder, int position) {\r\n            KorepetitoriuiPatvirtintasMokinysKortele sarasas = list.get(position);\r\n            popup = new Dialog(context);\r\n    \r\n            KorepetitoriuiPatvirtintiMokiniaiCardHolder.mokinioVardas.setText(sarasas.getVardasMokinio());\r\n    \r\n            KorepetitoriuiPatvirtintiMokiniaiCardHolder.parasyti.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Intent intent = new Intent(context, susirasyti.class);\r\n                    intent.putExtra(&quot;dabartinis_id&quot;, prisijungti.currentKorepetitorius.getId());\r\n                    intent.putExtra(&quot;gavejas_id&quot;, sarasas.getMokinioId());\r\n                    context.startActivity(intent);\r\n                }\r\n            });\r\n    \r\n            KorepetitoriuiPatvirtintiMokiniaiCardHolder.pridetiMedziaga.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    View popupView = LayoutInflater.from(context).inflate(R.layout.popup_pasirinkti_faila, null);\r\n    \r\n                    Button pasirinktiFaila = popupView.findViewById(R.id.pasirinktiFailaButton);\r\n                    Button uzdaryti = popupView.findViewById(R.id.uzdarytiIkeltiLanga);\r\n                    EditText pavadinimas = popupView.findViewById(R.id.pavadinimasPopup);\r\n                    Button ikeltiFaila = popupView.findViewById(R.id.ikeltiFaila);\r\n    \r\n                    pasirinktiFaila.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n                            Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n                            intent.setType(&quot;*/*&quot;);\r\n                            ((Activity) context).startActivityForResult(intent, 1);\r\n                        }\r\n                    });\r\n    \r\n                    ikeltiFaila.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n                            // TODO\r\n                            // upload the file\r\n                        }\r\n                    });\r\n    \r\n                    uzdaryti.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n                            popup.dismiss();\r\n                        }\r\n                    });\r\n    \r\n                    popup = new Dialog(context);\r\n                    popup.setContentView(popupView);\r\n                    popup.show();\r\n                }\r\n            });\r\n        }\r\n        \r\n        @Override\r\n        public int getItemCount() {\r\n            return list.size();\r\n        }\r\n    }\r\n\r\nMy card holder class:\r\n\r\n    public class KorepetitoriuiPatvirtintiMokiniaiCardHolder extends RecyclerView.ViewHolder{\r\n        \r\n            public static TextView mokinioVardas;\r\n            public static Button parasyti, pridetiMedziaga;\r\n        \r\n            public KorepetitoriuiPatvirtintiMokiniaiCardHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n        \r\n                mokinioVardas = itemView.findViewById(R.id.vardasKorteleMokinioPatvirtintas);\r\n                parasyti = itemView.findViewById(R.id.korepetitoriusParasyti);\r\n                pridetiMedziaga = itemView.findViewById(R.id.korepetitoriusPridetiMedziaga);\r\n            }\r\n        }\r\n\r\nAm I doing something wrong?\r\n\r\n\r\nTried to get a file from my android device through a button click in my android app, and check if the selected file was actually selected by logging, got no results.","title":"onActivityResult does not return file path in a fragment class","body":"<p>I am trying to get a file that I selected from my android device, I start the intent where I can select my files when a specific button is clicked in my popup window (the pasirinktiFaila button), then I try to look what was selected through Log.d(), but it shows me no results.</p>\n<p>Here is my fragment class called KorepetitoriuiPatvirtintiMokiniai, it has the onActivityResult method.</p>\n<pre><code>public class KorepetitoriuiPatvirtintiMokiniai extends Fragment {\n\n    private RecyclerView recyclerView;\n    private ArrayList&lt;KorepetitoriuiPatvirtintasMokinysKortele&gt; arrayList;\n    private KorepetitoriuiPatvirtintiMokiniaiCardAdapter adapter;\n    private TextView emptyRecycler;\n\n    public KorepetitoriuiPatvirtintiMokiniai() {\n        // Required empty public constructor\n    }\n\n    public static KorepetitoriuiPatvirtintiMokiniai newInstance() {\n        KorepetitoriuiPatvirtintiMokiniai fragment = new KorepetitoriuiPatvirtintiMokiniai();\n        Bundle args = new Bundle();\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_korepetitoriui_patvirtinti_mokiniai, container, false);\n\n        recyclerView = view.findViewById(R.id.recyclerKorepetitoriuiPatvirtintiMokiniai);\n        recyclerView.setHasFixedSize(true);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this.getContext()));\n        emptyRecycler = view.findViewById(R.id.neraMokiniuKorepetitoriui);\n\n        arrayList = new ArrayList&lt;KorepetitoriuiPatvirtintasMokinysKortele&gt;();\n\n        GautiPatvirtintusMokiniusTask task = new GautiPatvirtintusMokiniusTask(prisijungti.currentKorepetitorius.getId());\n        task.execute();\n\n        return view;\n    }\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if(requestCode == 1 &amp;&amp; resultCode == Activity.RESULT_OK) {\n            Uri uri = data.getData();\n            String path = uri.getPath();\n            Log.d(&quot;file&quot;, path);\n        }\n    }\n\n    public class GautiPatvirtintusMokiniusTask extends AsyncTask&lt;Void, Void, Void&gt; {\n        private int korepetitoriausId;\n\n        public GautiPatvirtintusMokiniusTask(int korepetitoriausId) {\n            this.korepetitoriausId = korepetitoriausId;\n        }\n\n        @Override\n        protected Void doInBackground(Void... voids) {\n            try {\n                URL url = new URL(&quot;http://192.168.0.104/PHPscriptai/gautiKorepetitoriuiPatvirtintusMokinius.php?korepetitoriaus_id=&quot; + korepetitoriausId);\n                HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n                conn.setRequestMethod(&quot;GET&quot;);\n                conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n\n                BufferedReader br = new BufferedReader(new InputStreamReader((conn.getInputStream())));\n                StringBuilder sb = new StringBuilder();\n                String output;\n                while ((output = br.readLine()) != null) {\n                    sb.append(output);\n                }\n                conn.disconnect();\n\n                String jsonString = sb.toString();\n                JSONArray jsonArray = new JSONArray(jsonString);\n                for (int i = 0; i &lt; jsonArray.length(); i++) {\n                    JSONObject obj = jsonArray.getJSONObject(i);\n                    String vardasMokinio = obj.getString(&quot;pilnas_mokinio_vardas&quot;);\n                    int mokinioId = obj.getInt(&quot;mokinio_id&quot;);\n\n                    arrayList.add(new KorepetitoriuiPatvirtintasMokinysKortele(vardasMokinio, mokinioId));\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            return null;\n        }\n\n        @Override\n        protected void onPostExecute(Void result) {\n            if (arrayList.isEmpty()) {\n                emptyRecycler.setVisibility(View.VISIBLE);\n                recyclerView.setVisibility(View.GONE);\n            } else {\n                emptyRecycler.setVisibility(View.GONE);\n                recyclerView.setVisibility(View.VISIBLE);\n                adapter = new KorepetitoriuiPatvirtintiMokiniaiCardAdapter(arrayList, getContext());\n                recyclerView.setAdapter(adapter);\n            }\n        }\n    }\n}\n</code></pre>\n<p>My adapter class:</p>\n<pre><code>public class KorepetitoriuiPatvirtintiMokiniaiCardAdapter extends RecyclerView.Adapter&lt;KorepetitoriuiPatvirtintiMokiniaiCardHolder&gt; {\n\n    private ArrayList&lt;KorepetitoriuiPatvirtintasMokinysKortele&gt; list;\n    private Context context;\n    private Dialog popup;\n\n    public KorepetitoriuiPatvirtintiMokiniaiCardAdapter(ArrayList&lt;KorepetitoriuiPatvirtintasMokinysKortele&gt; list, Context context) {\n        this.list = list;\n        this.context = context;\n    }\n\n    @NonNull\n    @Override\n    public KorepetitoriuiPatvirtintiMokiniaiCardHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.korepetitoriaus_mokinys_item, parent, false);\n\n        return new KorepetitoriuiPatvirtintiMokiniaiCardHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull KorepetitoriuiPatvirtintiMokiniaiCardHolder holder, int position) {\n        KorepetitoriuiPatvirtintasMokinysKortele sarasas = list.get(position);\n        popup = new Dialog(context);\n\n        KorepetitoriuiPatvirtintiMokiniaiCardHolder.mokinioVardas.setText(sarasas.getVardasMokinio());\n\n        KorepetitoriuiPatvirtintiMokiniaiCardHolder.parasyti.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(context, susirasyti.class);\n                intent.putExtra(&quot;dabartinis_id&quot;, prisijungti.currentKorepetitorius.getId());\n                intent.putExtra(&quot;gavejas_id&quot;, sarasas.getMokinioId());\n                context.startActivity(intent);\n            }\n        });\n\n        KorepetitoriuiPatvirtintiMokiniaiCardHolder.pridetiMedziaga.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                View popupView = LayoutInflater.from(context).inflate(R.layout.popup_pasirinkti_faila, null);\n\n                Button pasirinktiFaila = popupView.findViewById(R.id.pasirinktiFailaButton);\n                Button uzdaryti = popupView.findViewById(R.id.uzdarytiIkeltiLanga);\n                EditText pavadinimas = popupView.findViewById(R.id.pavadinimasPopup);\n                Button ikeltiFaila = popupView.findViewById(R.id.ikeltiFaila);\n\n                pasirinktiFaila.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n                        intent.setType(&quot;*/*&quot;);\n                        ((Activity) context).startActivityForResult(intent, 1);\n                    }\n                });\n\n                ikeltiFaila.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                        // TODO\n                        // upload the file\n                    }\n                });\n\n                uzdaryti.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                        popup.dismiss();\n                    }\n                });\n\n                popup = new Dialog(context);\n                popup.setContentView(popupView);\n                popup.show();\n            }\n        });\n    }\n    \n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n}\n</code></pre>\n<p>My card holder class:</p>\n<pre><code>public class KorepetitoriuiPatvirtintiMokiniaiCardHolder extends RecyclerView.ViewHolder{\n    \n        public static TextView mokinioVardas;\n        public static Button parasyti, pridetiMedziaga;\n    \n        public KorepetitoriuiPatvirtintiMokiniaiCardHolder(@NonNull View itemView) {\n            super(itemView);\n    \n            mokinioVardas = itemView.findViewById(R.id.vardasKorteleMokinioPatvirtintas);\n            parasyti = itemView.findViewById(R.id.korepetitoriusParasyti);\n            pridetiMedziaga = itemView.findViewById(R.id.korepetitoriusPridetiMedziaga);\n        }\n    }\n</code></pre>\n<p>Am I doing something wrong?</p>\n<p>Tried to get a file from my android device through a button click in my android app, and check if the selected file was actually selected by logging, got no results.</p>\n"},{"tags":["java","amazon-web-services","google-cloud-platform","hsm","jca"],"comments":[{"owner":{"account_id":1497894,"reputation":1018,"user_id":1403418,"display_name":"Dan"},"score":0,"creation_date":1542730785,"post_id":53394842,"comment_id":93669712,"body_markdown":"Looking at the sample code - it uses BC for verification and a proprietary client for getting the keys and signing.  Doesn&#39;t seem to use JCA but uses a web API - KMS.   You could wrap it up in your own JCA extension :)  https://cloud.google.com/kms/docs/reference/libraries#client-libraries-usage-java","body":"Looking at the sample code - it uses BC for verification and a proprietary client for getting the keys and signing.  Doesn&#39;t seem to use JCA but uses a web API - KMS.   You could wrap it up in your own JCA extension :)  <a href=\"https://cloud.google.com/kms/docs/reference/libraries#client-libraries-usage-java\" rel=\"nofollow noreferrer\">cloud.google.com/kms/docs/reference/&hellip;</a>"},{"owner":{"account_id":4713284,"reputation":145,"user_id":3813183,"display_name":"Suchak Jani"},"score":0,"creation_date":1542789434,"post_id":53394842,"comment_id":93690848,"body_markdown":"Dan, Thanks for looking into it. Cool, so will use AWS or wrap in my own JCA as suggested. I guess i should be grateful for having HSM&#39;s in the cloud, would save so much lead time for performing early application behaviour tests. Was wondering if anyone who works for Google could comment. JCA being a standard, would it on the Google Cloud&#39;s current or future Roadmap somewhere ? Again Dan, thank you!","body":"Dan, Thanks for looking into it. Cool, so will use AWS or wrap in my own JCA as suggested. I guess i should be grateful for having HSM&#39;s in the cloud, would save so much lead time for performing early application behaviour tests. Was wondering if anyone who works for Google could comment. JCA being a standard, would it on the Google Cloud&#39;s current or future Roadmap somewhere ? Again Dan, thank you!"}],"answers":[{"tags":[],"owner":{"account_id":1746243,"reputation":788,"user_id":1596398,"accept_rate":58,"display_name":"Hmmmmm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557387896,"creation_date":1557387896,"answer_id":56054525,"question_id":53394842,"body_markdown":"I am not sure what the exact question is but it looks like you want to write code that signs data using a private key from an HSM and have that work on AWS and Google Cloud. The steps to do that are:\r\n\r\n 1. Load the provider\r\n 2. Open the keystore\r\n 3. Retrieve the private key\r\n 4. Initialize a signing object with the private key (and update it with the data to sign)\r\n 5. Sign\r\n\r\nStep 1 can be done programmatically (via *Security.addProvider*, as you have written in your question) or statically in the java.security file. If you want your code to be agnostic to the cloud platform it is running on, you may want to consider doing this statically (although it is also possible to do it programmatically and keep things platform agnostic).\r\n\r\nThe rest of the steps just require pretty standard JCE code. Below is an example:\r\n\r\n    KeyStore keyStore = KeyStore.getInstance(&quot;type&quot;, &quot;provider name&quot;);\r\n    PrivateKey privKey = (PrivateKey) keyStore.getKey(&quot;alias&quot;, null);\r\n    Signature sig = Signature.getInstance(&quot;transformation&quot;, &quot;provider name&quot;);\r\n    sig.initSign(privKey);\r\n    sig.update(dataToSign);\r\n    byte[] signature = sig.sign();\r\n\r\nYou may want to read the provider name and keystore type from a (secured) configuration file, so those aren&#39;t hard-coded. After you get that working you&#39;ll want to look at how often you go to the keystore to retrieve key objects and possibly consider caching them because keystore retrievals *can* be expensive, depending on the HSM and provider library being used. That is going a bit beyond the scope of this question, or at least what I am interpreting the question to be, so I will stop there. Hope that helps.\r\n","title":"Google Cloud HSM as a provider for encryption","body":"<p>I am not sure what the exact question is but it looks like you want to write code that signs data using a private key from an HSM and have that work on AWS and Google Cloud. The steps to do that are:</p>\n\n<ol>\n<li>Load the provider</li>\n<li>Open the keystore</li>\n<li>Retrieve the private key</li>\n<li>Initialize a signing object with the private key (and update it with the data to sign)</li>\n<li>Sign</li>\n</ol>\n\n<p>Step 1 can be done programmatically (via <em>Security.addProvider</em>, as you have written in your question) or statically in the java.security file. If you want your code to be agnostic to the cloud platform it is running on, you may want to consider doing this statically (although it is also possible to do it programmatically and keep things platform agnostic).</p>\n\n<p>The rest of the steps just require pretty standard JCE code. Below is an example:</p>\n\n<pre><code>KeyStore keyStore = KeyStore.getInstance(\"type\", \"provider name\");\nPrivateKey privKey = (PrivateKey) keyStore.getKey(\"alias\", null);\nSignature sig = Signature.getInstance(\"transformation\", \"provider name\");\nsig.initSign(privKey);\nsig.update(dataToSign);\nbyte[] signature = sig.sign();\n</code></pre>\n\n<p>You may want to read the provider name and keystore type from a (secured) configuration file, so those aren't hard-coded. After you get that working you'll want to look at how often you go to the keystore to retrieve key objects and possibly consider caching them because keystore retrievals <em>can</em> be expensive, depending on the HSM and provider library being used. That is going a bit beyond the scope of this question, or at least what I am interpreting the question to be, so I will stop there. Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682407274,"creation_date":1682407274,"answer_id":76098542,"question_id":53394842,"body_markdown":"I&#39;ve implemented a JCA provider for Google Cloud HSM (as well as Azure Key Vault and AWS KMS) as part of the [Jsign][1] project. It performs direct API calls and doesn&#39;t rely on the gcloud CLI or the Google Cloud SDK. Usage looks like this:\r\n\r\n\tString keyring = &quot;projects/first-rain-123/locations/global/keyRings/mykeyring&quot;;\r\n\tSigningService service = new GoogleCloudSigningService(keyring, token, null);\r\n\tProvider provider = new SigningServiceJcaProvider(service);\r\n\t\r\n\tKeyStore keystore = KeyStore.getInstance(&quot;GOOGLECLOUD&quot;, provider);\r\n\tkeystore.load(null, &quot;&quot;.toCharArray());\r\n\t\r\n\tPrivateKey key = (PrivateKey) keystore.getKey(alias, null);\r\n\t\r\n\tSignature sig = Signature.getInstance(&quot;SHA256withRSA&quot;, provider);\r\n\tsig.initSign(key);\r\n\tsig.update(data);\r\n\tbyte[] signature = sig.sign();\r\n\r\n  [1]: https://ebourg.github.io/jsign/","title":"Google Cloud HSM as a provider for encryption","body":"<p>I've implemented a JCA provider for Google Cloud HSM (as well as Azure Key Vault and AWS KMS) as part of the <a href=\"https://ebourg.github.io/jsign/\" rel=\"nofollow noreferrer\">Jsign</a> project. It performs direct API calls and doesn't rely on the gcloud CLI or the Google Cloud SDK. Usage looks like this:</p>\n<pre><code>String keyring = &quot;projects/first-rain-123/locations/global/keyRings/mykeyring&quot;;\nSigningService service = new GoogleCloudSigningService(keyring, token, null);\nProvider provider = new SigningServiceJcaProvider(service);\n\nKeyStore keystore = KeyStore.getInstance(&quot;GOOGLECLOUD&quot;, provider);\nkeystore.load(null, &quot;&quot;.toCharArray());\n\nPrivateKey key = (PrivateKey) keystore.getKey(alias, null);\n\nSignature sig = Signature.getInstance(&quot;SHA256withRSA&quot;, provider);\nsig.initSign(key);\nsig.update(data);\nbyte[] signature = sig.sign();\n</code></pre>\n"}],"owner":{"account_id":4713284,"reputation":145,"user_id":3813183,"display_name":"Suchak Jani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1177,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1682407274,"creation_date":1542722883,"question_id":53394842,"body_markdown":"AWS seems to allow us to have the AWS Cloud HSM as a provider, See [here][1] and [here][2]\r\n\r\n    Security.addProvider(new com.cavium.provider.CaviumProvider())\r\n\r\nIn the samples from GKE however we seem to only have bouncy castle as a provider. See [here][3]\r\n\r\n    Security.addProvider(new BouncyCastleProvider());\r\n\r\nMaybe i am missing something fundamental.\r\n\r\nWould like to do a initsign as below JCA API\r\n\r\nhttps://docs.oracle.com/javase/10/docs/api/java/security/Signature.html#initSign(java.security.PrivateKey)\r\n\r\n  [1]: https://github.com/aws-samples/aws-cloudhsm-jce-examples/blob/master/src/main/java/com/amazonaws/cloudhsm/examples/AESGCMEncryptDecryptRunner.java\r\n  [2]: https://github.com/awsdocs/aws-cloudhsm-user-guide/blob/master/doc_source/use-cavium-provider.md\r\n  [3]: https://github.com/GoogleCloudPlatform/java-docs-samples/blob/master/kms/src/main/java/com/example/Asymmetric.java","title":"Google Cloud HSM as a provider for encryption","body":"<p>AWS seems to allow us to have the AWS Cloud HSM as a provider, See <a href=\"https://github.com/aws-samples/aws-cloudhsm-jce-examples/blob/master/src/main/java/com/amazonaws/cloudhsm/examples/AESGCMEncryptDecryptRunner.java\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://github.com/awsdocs/aws-cloudhsm-user-guide/blob/master/doc_source/use-cavium-provider.md\" rel=\"nofollow noreferrer\">here</a></p>\n\n<pre><code>Security.addProvider(new com.cavium.provider.CaviumProvider())\n</code></pre>\n\n<p>In the samples from GKE however we seem to only have bouncy castle as a provider. See <a href=\"https://github.com/GoogleCloudPlatform/java-docs-samples/blob/master/kms/src/main/java/com/example/Asymmetric.java\" rel=\"nofollow noreferrer\">here</a></p>\n\n<pre><code>Security.addProvider(new BouncyCastleProvider());\n</code></pre>\n\n<p>Maybe i am missing something fundamental.</p>\n\n<p>Would like to do a initsign as below JCA API</p>\n\n<p><a href=\"https://docs.oracle.com/javase/10/docs/api/java/security/Signature.html#initSign(java.security.PrivateKey)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/10/docs/api/java/security/Signature.html#initSign(java.security.PrivateKey)</a></p>\n"},{"tags":["java","spring-boot","vaadin"],"comments":[{"owner":{"account_id":295383,"reputation":4686,"user_id":599765,"accept_rate":22,"display_name":"Andr&#233; Schild"},"score":0,"creation_date":1682403566,"post_id":76097992,"comment_id":134205248,"body_markdown":"You need to enable server push, so the server can send updates to the ui, even when no usr interaction is done","body":"You need to enable server push, so the server can send updates to the ui, even when no usr interaction is done"},{"owner":{"account_id":2759852,"reputation":7920,"user_id":2376954,"display_name":"Leif &#197;strand"},"score":0,"creation_date":1682408700,"post_id":76097992,"comment_id":134206206,"body_markdown":"Unrelated remark: There&#39;s probably no need to do `refreshAll` after `setItems` since the component is already refreshing all items based on the first call. Reloading the page after all of that is also redundant, but I assume that&#39;s just a relic of you debugging attempts.","body":"Unrelated remark: There&#39;s probably no need to do <code>refreshAll</code> after <code>setItems</code> since the component is already refreshing all items based on the first call. Reloading the page after all of that is also redundant, but I assume that&#39;s just a relic of you debugging attempts."},{"owner":{"account_id":20213995,"reputation":15,"user_id":14825393,"display_name":"Алексей Шерстобитов"},"score":0,"creation_date":1682409382,"post_id":76097992,"comment_id":134206353,"body_markdown":"Thanks, Andre! @Push annotation helped!","body":"Thanks, Andre! @Push annotation helped!"}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682406948,"creation_date":1682406948,"answer_id":76098500,"question_id":76097992,"body_markdown":"You must enable push: \r\n\r\n    @Push\r\n    public class Application implements AppShellConfigurator {\r\n      ...\r\n    }\r\n\r\nRead more about push here: https://vaadin.com/docs/latest/advanced/server-push","title":"update a grid form another thread vaadin","body":"<p>You must enable push:</p>\n<pre><code>@Push\npublic class Application implements AppShellConfigurator {\n  ...\n}\n</code></pre>\n<p>Read more about push here: <a href=\"https://vaadin.com/docs/latest/advanced/server-push\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/advanced/server-push</a></p>\n"}],"owner":{"account_id":20213995,"reputation":15,"user_id":14825393,"display_name":"Алексей Шерстобитов"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76098500,"answer_count":1,"score":0,"last_activity_date":1682406948,"creation_date":1682402312,"question_id":76097992,"body_markdown":"I try to update the grid vaadin from another thread but a new data have shown only when I ping some component on UI.\r\n\r\n   \r\n\r\nI want to display data in the grid when a thread get a result from bd\r\n\r\n\r\n```\r\n  CURRENT = UI.getCurrent();\r\n        taskSlaService.getFilterAsync(pointId, dictValueIds)\r\n                .thenAcceptAsync(entities -&gt; {\r\n\r\n                    log.info(&quot;entities {}&quot;, entities);\r\n\r\n                    if (entities.isEmpty()) {\r\n                        log.info(&quot;entities is empty =====&gt; {}&quot;, entities);\r\n                    }\r\n\r\n                    if (CURRENT != null) {\r\n                        CURRENT.access(() -&gt; {\r\n                            log.info(&quot;========&gt; UI isn&#39;t null&quot;);\r\n                            grid.setItems(entities);\r\n                            grid.getDataProvider().refreshAll();\r\n                            log.info(&quot;entities in UI.getCurrent().access =====&gt; {}&quot;, entities);\r\n                            log.info(Thread.currentThread().getName());\r\n                            CURRENT.getPage().reload();\r\n                        });\r\n```\r\n","title":"update a grid form another thread vaadin","body":"<p>I try to update the grid vaadin from another thread but a new data have shown only when I ping some component on UI.</p>\n<p>I want to display data in the grid when a thread get a result from bd</p>\n<pre><code>  CURRENT = UI.getCurrent();\n        taskSlaService.getFilterAsync(pointId, dictValueIds)\n                .thenAcceptAsync(entities -&gt; {\n\n                    log.info(&quot;entities {}&quot;, entities);\n\n                    if (entities.isEmpty()) {\n                        log.info(&quot;entities is empty =====&gt; {}&quot;, entities);\n                    }\n\n                    if (CURRENT != null) {\n                        CURRENT.access(() -&gt; {\n                            log.info(&quot;========&gt; UI isn't null&quot;);\n                            grid.setItems(entities);\n                            grid.getDataProvider().refreshAll();\n                            log.info(&quot;entities in UI.getCurrent().access =====&gt; {}&quot;, entities);\n                            log.info(Thread.currentThread().getName());\n                            CURRENT.getPage().reload();\n                        });\n</code></pre>\n"},{"tags":["java","postgresql","composite-types"],"answers":[{"tags":[],"owner":{"account_id":7501749,"reputation":1523,"user_id":5699807,"accept_rate":100,"display_name":"Priyank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682406939,"creation_date":1682406939,"answer_id":76098499,"question_id":76098362,"body_markdown":"The answer depends on which encoding you are using for your characters (and which characters `getSomeChar` can return). From this [doc][1] , some encodings, like utf-8, expect to have upto char(4) allocated to store a single character. Changing to `CHAR(4)` should cover all possible encodings:\r\n \r\n\r\n    CREATE TYPE my_type AS (\r\n    my_id INT4\r\n    , my_other_id INT4\r\n    , some_varchar VARCHAR(32)\r\n    , is_true BOOL\r\n    , some_char CHAR(4)\r\n)\r\n\r\n  [1]: https://www.postgresql.org/docs/current/multibyte.html","title":"Unable to insert composite type via Java client to postgresql database: &quot;value too long for type character(1)&quot;","body":"<p>The answer depends on which encoding you are using for your characters (and which characters <code>getSomeChar</code> can return). From this <a href=\"https://www.postgresql.org/docs/current/multibyte.html\" rel=\"nofollow noreferrer\">doc</a> , some encodings, like utf-8, expect to have upto char(4) allocated to store a single character. Changing to <code>CHAR(4)</code> should cover all possible encodings:</p>\n<pre><code>CREATE TYPE my_type AS (\nmy_id INT4\n, my_other_id INT4\n, some_varchar VARCHAR(32)\n, is_true BOOL\n, some_char CHAR(4)\n</code></pre>\n<p>)</p>\n"}],"owner":{"account_id":147146,"reputation":2754,"user_id":358070,"accept_rate":62,"display_name":"peteisace"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76098499,"answer_count":1,"score":1,"last_activity_date":1682406939,"creation_date":1682405765,"question_id":76098362,"body_markdown":"None of the existing answers seem to help the specific problem, which is - i have a table with a column of a composite type:\r\n\r\n```\r\nCREATE TYPE my_type AS (\r\n    my_id INT4\r\n    , my_other_id INT4\r\n    , some_varchar VARCHAR(32)\r\n    , is_true BOOL\r\n    , some_char CHAR(1)\r\n)\r\n```\r\nwhich is used in the table:\r\n\r\n```\r\nCREATE TABLE the_table\r\n(\r\n    id UUID\r\n    , url VARCHAR(32)\r\n    , name VARCHAR(32)\r\n    , my_types _my_type NULL\r\n)\r\n```\r\n\r\nAnd through java:\r\n\r\n```\r\nfinal String SQL = &quot;&quot;&quot;\r\nINSERT INTO the_table(\r\n    id\r\n    , url\r\n    , name\r\n    , my_types\r\n)\r\nVALUES (\r\n    ?\r\n    , ?\r\n    , ?\r\n    , ?\r\n)\r\n&quot;&quot;&quot;\r\n\r\n// some stuff - like get connection\r\nvar statement = c.prepareStatement(SQL);\r\nstatement.setObject(1, model.getId());\r\nstatement.setObject(2, model.getUrl());\r\nstatement.setObject(3, model.getName());\r\nstatement.setObject(4, c.createArrayOf(&quot;my_type&quot;, model.getMyTypes());\r\n\r\n// where the implementation of MyType::toString() is:\r\n@Override\r\npublic String toString() {\r\n    return String.format(&quot;(%d, %d, &#39;%s&#39;, %b, &#39;%c&#39;),\r\n        this.getId(), \r\n        this.getOtherId(),\r\n        this.getName(),\r\n        this.getIsTrue(),\r\n        this.getSomeChar());\r\n```\r\n\r\nPROBLEM: I cannot avoid getting the error: &quot;Value too long for type character(1)&quot; - even though getSomeChar() is definitely a single character. The only way I can get it to run without erroring is to do change the toString() to: \r\n```\r\nreturn String.format(&quot;(%d, %d, &#39;%s&#39;, %b, \\&quot;\\&quot;)\r\n```\r\nwhich of course doesn&#39;t do what i want it to do (the char is null), but it does prove it is at least possible to persist this composite type in this manner. i don&#39;t know what i am doing wrong, or why it despises my attempt to push a single character. \r\n    ","title":"Unable to insert composite type via Java client to postgresql database: &quot;value too long for type character(1)&quot;","body":"<p>None of the existing answers seem to help the specific problem, which is - i have a table with a column of a composite type:</p>\n<pre><code>CREATE TYPE my_type AS (\n    my_id INT4\n    , my_other_id INT4\n    , some_varchar VARCHAR(32)\n    , is_true BOOL\n    , some_char CHAR(1)\n)\n</code></pre>\n<p>which is used in the table:</p>\n<pre><code>CREATE TABLE the_table\n(\n    id UUID\n    , url VARCHAR(32)\n    , name VARCHAR(32)\n    , my_types _my_type NULL\n)\n</code></pre>\n<p>And through java:</p>\n<pre><code>final String SQL = &quot;&quot;&quot;\nINSERT INTO the_table(\n    id\n    , url\n    , name\n    , my_types\n)\nVALUES (\n    ?\n    , ?\n    , ?\n    , ?\n)\n&quot;&quot;&quot;\n\n// some stuff - like get connection\nvar statement = c.prepareStatement(SQL);\nstatement.setObject(1, model.getId());\nstatement.setObject(2, model.getUrl());\nstatement.setObject(3, model.getName());\nstatement.setObject(4, c.createArrayOf(&quot;my_type&quot;, model.getMyTypes());\n\n// where the implementation of MyType::toString() is:\n@Override\npublic String toString() {\n    return String.format(&quot;(%d, %d, '%s', %b, '%c'),\n        this.getId(), \n        this.getOtherId(),\n        this.getName(),\n        this.getIsTrue(),\n        this.getSomeChar());\n</code></pre>\n<p>PROBLEM: I cannot avoid getting the error: &quot;Value too long for type character(1)&quot; - even though getSomeChar() is definitely a single character. The only way I can get it to run without erroring is to do change the toString() to:</p>\n<pre><code>return String.format(&quot;(%d, %d, '%s', %b, \\&quot;\\&quot;)\n</code></pre>\n<p>which of course doesn't do what i want it to do (the char is null), but it does prove it is at least possible to persist this composite type in this manner. i don't know what i am doing wrong, or why it despises my attempt to push a single character.</p>\n"},{"tags":["java","classloader"],"comments":[{"owner":{"account_id":125342,"reputation":4097,"user_id":321061,"accept_rate":67,"display_name":"Justin"},"score":0,"creation_date":1274337801,"post_id":2871502,"comment_id":2917203,"body_markdown":"Your question&#39;s title is completely different to what you ask in the body of the question.","body":"Your question&#39;s title is completely different to what you ask in the body of the question."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1274422754,"post_id":2871502,"comment_id":2926514,"body_markdown":"Each ClassLoader can have its own copy of a class, each static block is executed once per class and so you can have it executed once per classloader which loads it.","body":"Each ClassLoader can have its own copy of a class, each static block is executed once per class and so you can have it executed once per classloader which loads it."}],"answers":[{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1274354692,"creation_date":1274337673,"answer_id":2871506,"question_id":2871502,"body_markdown":"The Java Language Specification speaks of the mechanism of loading, unloading, and reloading of classes in great details.\n\n### [JLS 12.2 Loading of Classes and Interfaces](http://java.sun.com/docs/books/jls/third_edition/html/execution.html#12.2.)\n\n&gt; _Loading_ refers to the process of finding the _binary_ form of a `class` or `interface` type with a particular name, perhaps by computing it on the fly, but more typically by retrieving a binary representation previously computed from source code by a compiler, and constructing, from that binary form, a `Class` object to represent the class or interface.\n&gt;\n&gt; The precise semantics of loading are given in chapter 5 of The Java Virtual Machine Specification (whenever we refer to the Java virtual machine specification in this book, we mean the second edition, as amended by JSR 924). Here we present an overview of the process from the viewpoint of the Java programming language.\n&gt;\n&gt; The binary format of a class or interface is normally the class file format described in The Java Virtual Machine Specification cited above, but other formats are possible, provided they meet the requirements specified in &#167;13.1. The method `defineClass` of `class ClassLoader` may be used to construct `Class` objects from binary representations in the class file format.\n\nUnder certain circumstances, it is possible to unload classes and interfaces, which may cause an unpreventable reload.\n\n### [12.7 Unloading of Classes and Interfaces](http://java.sun.com/docs/books/jls/third_edition/html/execution.html#12.7)\n\n&gt; An implementation of the Java programming language may unload classes. A class or interface may be unloaded if and only if its defining class loader may be reclaimed by the garbage collector as discussed in &#167;12.6. Classes and interfaces loaded by the bootstrap loader may not be unloaded.\n&gt;\n&gt; Class unloading is an optimization that helps reduce memory use. **Obviously, the semantics of a program should not depend on whether and how a system chooses to implement an optimization such as class unloading.** To do otherwise would compromise the portability of programs. Consequently, whether a class or interface has been unloaded or not should be transparent to a program.\n&gt;\n&gt; However, if a class or interface C was unloaded while its defining loader was potentially reachable, then C might be reloaded. One could never ensure that this would not happen.\n\nIn fact, it went to address your specific concerns:\n\n&gt; Reloading may not be transparent if, for example, the class has:\n&gt;\n&gt; * Static variables (whose state would be lost).\n&gt; * **Static initializers (which may have side effects).**\n&gt; * Native methods (which may retain static state). \n&gt;\n&gt; Furthermore the hash value of the Class object is dependent on its identity. Therefore it is, in general, impossible to reload a class or interface in a completely transparent manner.\n&gt;\n&gt; Since we can never guarantee that unloading a class or interface whose loader is potentially reachable will not cause reloading, and reloading is never transparent, but unloading must be transparent, it follows that one must not unload a class or interface while its loader is potentially reachable. A similar line of reasoning can be used to deduce that classes and interfaces loaded by the bootstrap loader can never be unloaded.\n&gt;\n&gt; One must also argue why it is safe to unload a class C if its defining class loader can be reclaimed. If the defining loader can be reclaimed, then there can never be any live references to it (this includes references that are not live, but might be resurrected by finalizers). This, in turn, can only be true if there are can never be any live references to any of the classes defined by that loader, including C, either from their instances or from code.\n&gt;\n&gt; Class unloading is an optimization that is only significant for applications that load large numbers of classes and that stop using most of those classes after some time. A prime example of such an application is a web browser, but there are others. A characteristic of such applications is that they manage classes through explicit use of class loaders. As a result, the policy outlined above works well for them.\n&gt;\n&gt; Strictly speaking, it is not essential that the issue of class unloading be discussed by this specification, as class unloading is merely an optimization. However, the issue is very subtle, and so it is mentioned here by way of clarification. ","title":"Is there any way static block is executed more than once? if so then how?","body":"<p>The Java Language Specification speaks of the mechanism of loading, unloading, and reloading of classes in great details.</p>\n<h3><a href=\"http://java.sun.com/docs/books/jls/third_edition/html/execution.html#12.2.\" rel=\"nofollow noreferrer\">JLS 12.2 Loading of Classes and Interfaces</a></h3>\n<blockquote>\n<p><em>Loading</em> refers to the process of finding the <em>binary</em> form of a <code>class</code> or <code>interface</code> type with a particular name, perhaps by computing it on the fly, but more typically by retrieving a binary representation previously computed from source code by a compiler, and constructing, from that binary form, a <code>Class</code> object to represent the class or interface.</p>\n<p>The precise semantics of loading are given in chapter 5 of The Java Virtual Machine Specification (whenever we refer to the Java virtual machine specification in this book, we mean the second edition, as amended by JSR 924). Here we present an overview of the process from the viewpoint of the Java programming language.</p>\n<p>The binary format of a class or interface is normally the class file format described in The Java Virtual Machine Specification cited above, but other formats are possible, provided they meet the requirements specified in §13.1. The method <code>defineClass</code> of <code>class ClassLoader</code> may be used to construct <code>Class</code> objects from binary representations in the class file format.</p>\n</blockquote>\n<p>Under certain circumstances, it is possible to unload classes and interfaces, which may cause an unpreventable reload.</p>\n<h3><a href=\"http://java.sun.com/docs/books/jls/third_edition/html/execution.html#12.7\" rel=\"nofollow noreferrer\">12.7 Unloading of Classes and Interfaces</a></h3>\n<blockquote>\n<p>An implementation of the Java programming language may unload classes. A class or interface may be unloaded if and only if its defining class loader may be reclaimed by the garbage collector as discussed in §12.6. Classes and interfaces loaded by the bootstrap loader may not be unloaded.</p>\n<p>Class unloading is an optimization that helps reduce memory use. <strong>Obviously, the semantics of a program should not depend on whether and how a system chooses to implement an optimization such as class unloading.</strong> To do otherwise would compromise the portability of programs. Consequently, whether a class or interface has been unloaded or not should be transparent to a program.</p>\n<p>However, if a class or interface C was unloaded while its defining loader was potentially reachable, then C might be reloaded. One could never ensure that this would not happen.</p>\n</blockquote>\n<p>In fact, it went to address your specific concerns:</p>\n<blockquote>\n<p>Reloading may not be transparent if, for example, the class has:</p>\n<ul>\n<li>Static variables (whose state would be lost).</li>\n<li><strong>Static initializers (which may have side effects).</strong></li>\n<li>Native methods (which may retain static state).</li>\n</ul>\n<p>Furthermore the hash value of the Class object is dependent on its identity. Therefore it is, in general, impossible to reload a class or interface in a completely transparent manner.</p>\n<p>Since we can never guarantee that unloading a class or interface whose loader is potentially reachable will not cause reloading, and reloading is never transparent, but unloading must be transparent, it follows that one must not unload a class or interface while its loader is potentially reachable. A similar line of reasoning can be used to deduce that classes and interfaces loaded by the bootstrap loader can never be unloaded.</p>\n<p>One must also argue why it is safe to unload a class C if its defining class loader can be reclaimed. If the defining loader can be reclaimed, then there can never be any live references to it (this includes references that are not live, but might be resurrected by finalizers). This, in turn, can only be true if there are can never be any live references to any of the classes defined by that loader, including C, either from their instances or from code.</p>\n<p>Class unloading is an optimization that is only significant for applications that load large numbers of classes and that stop using most of those classes after some time. A prime example of such an application is a web browser, but there are others. A characteristic of such applications is that they manage classes through explicit use of class loaders. As a result, the policy outlined above works well for them.</p>\n<p>Strictly speaking, it is not essential that the issue of class unloading be discussed by this specification, as class unloading is merely an optimization. However, the issue is very subtle, and so it is mentioned here by way of clarification.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1274337755,"creation_date":1274337755,"answer_id":2871518,"question_id":2871502,"body_markdown":"To my knowledge the JVM will never *reload* a class per se; once a class is loaded it stays loaded forever.  Class definitions are held in the &quot;PermGen&quot; memory pool for this reason.\r\n\r\nHowever, it is possible for your class&#39; bytecode to be loaded by multiple classloaders, and each time this happens the static block will be executed again as this is a new class.  Each class is only visible within the scope of its own classloader, whereas typically any classloader can see your bytecode if it&#39;s on the classpath, so this is a possible (if undesirable) situation.","title":"Is there any way static block is executed more than once? if so then how?","body":"<p>To my knowledge the JVM will never <em>reload</em> a class per se; once a class is loaded it stays loaded forever.  Class definitions are held in the \"PermGen\" memory pool for this reason.</p>\n\n<p>However, it is possible for your class' bytecode to be loaded by multiple classloaders, and each time this happens the static block will be executed again as this is a new class.  Each class is only visible within the scope of its own classloader, whereas typically any classloader can see your bytecode if it's on the classpath, so this is a possible (if undesirable) situation.</p>\n"},{"tags":[],"owner":{"account_id":57077,"reputation":39235,"user_id":170974,"accept_rate":70,"display_name":"tangens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1274337780,"creation_date":1274337780,"answer_id":2871520,"question_id":2871502,"body_markdown":"I you explicitly use a new [`ClassLoader`][1] to load the class again, the static block for this class will be executed again.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/ClassLoader.html","title":"Is there any way static block is executed more than once? if so then how?","body":"<p>I you explicitly use a new <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/ClassLoader.html\" rel=\"nofollow noreferrer\"><code>ClassLoader</code></a> to load the class again, the static block for this class will be executed again.</p>\n"},{"tags":[],"owner":{"account_id":23503,"reputation":28545,"user_id":58956,"accept_rate":91,"display_name":"gustafc"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1682406818,"creation_date":1274338087,"answer_id":2871547,"question_id":2871502,"body_markdown":"Classes can be unloaded if the `ClassLoader` loading them becomes unreachable: https://docs.oracle.com/javase/specs/jls/se17/html/jls-12.html#jls-12.7\r\n\r\n&gt; A class or interface may be unloaded if and only if its defining class loader may be reclaimed by the garbage collector as discussed in &#167;12.6. \r\n\r\nThen, if the class needs using again, it will obviously be loaded again. And in fact, several classloaders can load the same class separately, in parallell.","title":"Is there any way static block is executed more than once? if so then how?","body":"<p>Classes can be unloaded if the <code>ClassLoader</code> loading them becomes unreachable: <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-12.html#jls-12.7\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se17/html/jls-12.html#jls-12.7</a></p>\n<blockquote>\n<p>A class or interface may be unloaded if and only if its defining class loader may be reclaimed by the garbage collector as discussed in §12.6.</p>\n</blockquote>\n<p>Then, if the class needs using again, it will obviously be loaded again. And in fact, several classloaders can load the same class separately, in parallell.</p>\n"},{"tags":[],"owner":{"account_id":139984,"reputation":31,"user_id":345960,"display_name":"prabhudev mathapati"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1276018637,"creation_date":1274352947,"answer_id":2873021,"question_id":2871502,"body_markdown":"Static block is executed ONE AND ONLY ONCE per classloader when the class is gets loaded.\r\nThe sequence of static block execution as per its occurance, see the sample code below and its output.\r\nStatic code is at class level and not at instance level per ClassLoader instantiating this class.\r\nNote: For brevity, I had not invoked method and its output here.\r\n\r\npublic class StaticTest {\r\n\r\n    \r\n     // 1st Static block invoked first.\r\n    static{\r\n        System.out.println(&quot;hello...1&quot;);\r\n    }\r\n\r\n    // 2nd Static block, invoked after 1st static block above.\r\n    static{\r\n        System.out.println(&quot;hello...2&quot;);\r\n    }\r\n\r\n\r\n    public static void Staticmeth() {\r\n         System.out.println(&quot;hello...3&quot;);\r\n    }\r\n    \r\n    public static void main(String ag[]){\r\n        \r\n    }\r\n}\r\n\r\noutput of program:-\r\n\r\nhello...1\r\n\r\nhello...2\r\n\r\n","title":"Is there any way static block is executed more than once? if so then how?","body":"<p>Static block is executed ONE AND ONLY ONCE per classloader when the class is gets loaded.\nThe sequence of static block execution as per its occurance, see the sample code below and its output.\nStatic code is at class level and not at instance level per ClassLoader instantiating this class.\nNote: For brevity, I had not invoked method and its output here.</p>\n\n<p>public class StaticTest {</p>\n\n<pre><code> // 1st Static block invoked first.\nstatic{\n    System.out.println(\"hello...1\");\n}\n\n// 2nd Static block, invoked after 1st static block above.\nstatic{\n    System.out.println(\"hello...2\");\n}\n\n\npublic static void Staticmeth() {\n     System.out.println(\"hello...3\");\n}\n\npublic static void main(String ag[]){\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>output of program:-</p>\n\n<p>hello...1</p>\n\n<p>hello...2</p>\n"},{"tags":[],"owner":{"account_id":48020,"reputation":33723,"user_id":142446,"display_name":"Brett Kail"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1274422071,"creation_date":1274422071,"answer_id":2879893,"question_id":2871502,"body_markdown":"Andrzej Doyle answered your specific question.  However:\r\n\r\n&gt; My Understanding Static block is\r\n&gt; executed during class loading\r\n\r\nTo be clear, *loading* and *initialization* are distinct phases; a class can be loaded without being initialized.  The [Java Virtual Machine Specification][1] specifies the three conditions that will cause a class to be initialized: an instance is created, a static method is invoked, or a non-constant static field is used or assigned.\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jvms/second_edition/html/Concepts.doc.html#19075","title":"Is there any way static block is executed more than once? if so then how?","body":"<p>Andrzej Doyle answered your specific question.  However:</p>\n\n<blockquote>\n  <p>My Understanding Static block is\n  executed during class loading</p>\n</blockquote>\n\n<p>To be clear, <em>loading</em> and <em>initialization</em> are distinct phases; a class can be loaded without being initialized.  The <a href=\"http://java.sun.com/docs/books/jvms/second_edition/html/Concepts.doc.html#19075\" rel=\"nofollow noreferrer\">Java Virtual Machine Specification</a> specifies the three conditions that will cause a class to be initialized: an instance is created, a static method is invoked, or a non-constant static field is used or assigned.</p>\n"}],"owner":{"account_id":129315,"reputation":625,"user_id":327813,"accept_rate":56,"display_name":"learner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7047,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":6,"score":8,"last_activity_date":1682406818,"creation_date":1274337550,"question_id":2871502,"body_markdown":"My Understanding\r\nStatic block is executed during class loading, If a class is already loaded then there is no way to load the class other than class reloading\r\n\r\nDoubt/Question\r\n1) Is there any time JVM reloads the class? \r\n\r\nMy Understanding\r\nIn Class Loading JVM loads bytecode of the Java file, so it can not keep all thousands classes bytecode in memory, so it might be discarding the rarely used code and reloading it again when it is necessary and during reload JVM is not initializing static variables and blocks again(may be using some tracking mechanism)\r\n\r\nDoubt/Question  \r\n2) If my above understanding is incorrect then please correct me\r\n\r\n","title":"Is there any way static block is executed more than once? if so then how?","body":"<p>My Understanding\nStatic block is executed during class loading, If a class is already loaded then there is no way to load the class other than class reloading</p>\n\n<p>Doubt/Question\n1) Is there any time JVM reloads the class? </p>\n\n<p>My Understanding\nIn Class Loading JVM loads bytecode of the Java file, so it can not keep all thousands classes bytecode in memory, so it might be discarding the rarely used code and reloading it again when it is necessary and during reload JVM is not initializing static variables and blocks again(may be using some tracking mechanism)</p>\n\n<p>Doubt/Question<br>\n2) If my above understanding is incorrect then please correct me</p>\n"},{"tags":["java","spring","spring-boot","spring-restdocs"],"comments":[{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":0,"creation_date":1649775157,"post_id":71844508,"comment_id":126958504,"body_markdown":"I think you want to generate java docs like these\nhttps://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/properties/ConfigurationProperties.html\n\nplz correct me if wrong","body":"I think you want to generate java docs like these <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/properties/ConfigurationProperties.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/api/org/springframew&zwnj;&#8203;ork/&hellip;</a>  plz correct me if wrong"},{"owner":{"account_id":6155088,"reputation":226,"user_id":4798347,"display_name":"Zephyr"},"score":0,"creation_date":1649775301,"post_id":71844508,"comment_id":126958574,"body_markdown":"I think they&#39;re more looking for documentation like this: https://docs.spring.io/spring-boot/docs/2.6.6/reference/html/application-properties.html#appendix.application-properties","body":"I think they&#39;re more looking for documentation like this: <a href=\"https://docs.spring.io/spring-boot/docs/2.6.6/reference/html/application-properties.html#appendix.application-properties\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/2.6.6/reference/html/&hellip;</a>"},{"owner":{"account_id":5156292,"reputation":341,"user_id":4129450,"accept_rate":0,"display_name":"Luca"},"score":0,"creation_date":1649778005,"post_id":71844508,"comment_id":126959711,"body_markdown":"Yes, I was thinking to something more like to what say Zephyr","body":"Yes, I was thinking to something more like to what say Zephyr"}],"answers":[{"tags":[],"owner":{"account_id":24762987,"reputation":60,"user_id":18647144,"display_name":"James S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649775281,"creation_date":1649775281,"answer_id":71844876,"question_id":71844508,"body_markdown":"The Spring Boot Actuator will show your properties but the default output is JSON. You should be able to add custom code to produce the output you want.","title":"Spring boot document configuration properties","body":"<p>The Spring Boot Actuator will show your properties but the default output is JSON. You should be able to add custom code to produce the output you want.</p>\n"},{"tags":[],"owner":{"account_id":11950526,"reputation":53,"user_id":8744317,"display_name":"N&#225;ndor Holozsny&#225;k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682406633,"creation_date":1682406633,"answer_id":76098461,"question_id":71844508,"body_markdown":"A few months ago this project was created and this is what you are looking forward, it can generate AsciiDoc, Markdown, HTML or XML documentation from your spring-configuration-metadata.json that is being built by the `spring-boot-configuration-processor dependency.\r\n\r\nGive it a try, it has Maven and Gradle plugin as well, feel free to open issues if you encounter some bugs :)\r\n\r\nhttps://github.com/rodnansol/spring-configuration-property-documenter","title":"Spring boot document configuration properties","body":"<p>A few months ago this project was created and this is what you are looking forward, it can generate AsciiDoc, Markdown, HTML or XML documentation from your spring-configuration-metadata.json that is being built by the `spring-boot-configuration-processor dependency.</p>\n<p>Give it a try, it has Maven and Gradle plugin as well, feel free to open issues if you encounter some bugs :)</p>\n<p><a href=\"https://github.com/rodnansol/spring-configuration-property-documenter\" rel=\"nofollow noreferrer\">https://github.com/rodnansol/spring-configuration-property-documenter</a></p>\n"}],"owner":{"account_id":5156292,"reputation":341,"user_id":4129450,"accept_rate":0,"display_name":"Luca"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1682406633,"creation_date":1649773837,"question_id":71844508,"body_markdown":"I&#39;m trying to automatically document my configuration properties in order to create a html like the one on spring boot appendix for it&#39;s configuration.\r\nI see that I can enable configuration metadata here\r\nhttps://docs.spring.io/spring-boot/docs/2.6.6/reference/html/configuration-metadata.html\r\nbut what i want is to create a html page like we can do with spring rest docs for the api. \r\nIs there a way to achieve this using spring or have I to do it manually (maybe starting from the metadata)?","title":"Spring boot document configuration properties","body":"<p>I'm trying to automatically document my configuration properties in order to create a html like the one on spring boot appendix for it's configuration.\nI see that I can enable configuration metadata here\n<a href=\"https://docs.spring.io/spring-boot/docs/2.6.6/reference/html/configuration-metadata.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.6.6/reference/html/configuration-metadata.html</a>\nbut what i want is to create a html page like we can do with spring rest docs for the api.\nIs there a way to achieve this using spring or have I to do it manually (maybe starting from the metadata)?</p>\n"},{"tags":["java","change-password","sap-basis","bapi","jco"],"comments":[{"owner":{"account_id":1838761,"reputation":5041,"user_id":1779281,"accept_rate":87,"display_name":"Eduardo Copat"},"score":0,"creation_date":1395429467,"post_id":22530044,"comment_id":34350791,"body_markdown":"possible duplicate of [how to reset password in SAP using BAPI\\_USER\\_CHANGE?](http://stackoverflow.com/questions/22532803/how-to-reset-password-in-sap-using-bapi-user-change)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/22532803/how-to-reset-password-in-sap-using-bapi-user-change\">how to reset password in SAP using BAPI_USER_CHANGE?</a>"},{"owner":{"account_id":323466,"reputation":14771,"user_id":643500,"display_name":"Sully"},"score":0,"creation_date":1395650497,"post_id":22530044,"comment_id":34416900,"body_markdown":"You have asked the same question twice.  Please, delete the other question.","body":"You have asked the same question twice.  Please, delete the other question."}],"answers":[{"tags":[],"owner":{"account_id":1315737,"reputation":916,"user_id":1262667,"accept_rate":94,"display_name":"WiredCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395313024,"creation_date":1395313024,"answer_id":22530782,"question_id":22530044,"body_markdown":"Try using BAPIPWD or PASSWORD-BAPIPWD instead of PASSWORD, and just in case make sure the password is all caps","title":"how to reset password in SAP system using BAPI?","body":"<p>Try using BAPIPWD or PASSWORD-BAPIPWD instead of PASSWORD, and just in case make sure the password is all caps</p>\n"},{"tags":[],"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1395314549,"creation_date":1395314549,"answer_id":22531424,"question_id":22530044,"body_markdown":"The parameter `PASSWORD` is typed as `BAPIPWD` which is a structure what in turn contains only a single field named `BAPIPWD`. Therefore, you need to access the structure approximately like this:\r\n\r\n    JCO.Structure sPassword = userChangeInput.getStructure(&quot;PASSWORD&quot;);\r\n    sPassword.setValue(newPassword, &quot;BAPIPWD&quot;);","title":"how to reset password in SAP system using BAPI?","body":"<p>The parameter <code>PASSWORD</code> is typed as <code>BAPIPWD</code> which is a structure what in turn contains only a single field named <code>BAPIPWD</code>. Therefore, you need to access the structure approximately like this:</p>\n\n<pre><code>JCO.Structure sPassword = userChangeInput.getStructure(\"PASSWORD\");\nsPassword.setValue(newPassword, \"BAPIPWD\");\n</code></pre>\n"}],"owner":{"account_id":3188752,"reputation":79,"user_id":2693636,"display_name":"MNW"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682406258,"creation_date":1395311300,"question_id":22530044,"body_markdown":"I am trying to reset password for SAP system using BAPI but I am getting error\r\n&gt; password is not type of field input\r\n\r\nI am posting my code below.\r\n\r\n`getRandomString()` is a user-defined function.  I have copied this code from Internet and I am unaware about this.\r\n\r\n`String newPassword = getRandomString();` here it is giving error because `getRandomString()` is a user-defined function and I am unaware about this. \r\n\r\nIs there any role of this while resetting password or can I directly use `String newpassword=&quot; &quot;;`?\r\n\r\n    String newPassword = getRandomString();\r\n    \r\n    try{\r\n          JCO.Function bapiUserChange = repository.getFunctionTemplate(&quot;BAPI_USER_CHANGE&quot;).getFunction();\r\n          if(bapiUserChange != null){\r\n               JCO.ParameterList userChangeInput = bapiUserChange.getImportParameterList();\r\n               \r\n               JCO.Structure sPassword = userChangeInput.getStructure(&quot;PASSWORD&quot;);\r\n               \r\n               //sPassword.setValue(newPassword, ????) //what do I assign it to?\r\n               \r\n               userChangeInput.setValue(userId, &quot;USERNAME&quot;);\r\n               userChangeInput.setValue(newPassword, &quot;PASSWORD&quot;);  // this gives an error\r\n               userChangeInput.setValue(&quot;X&quot;,&quot;PASSWORDX&quot;); //I know &quot;X&quot; is true, this will give an error too I believe\r\n               \r\n               mConnection.execute(bapiUserChange);\r\n               \r\n               //send E-mail\r\n               boolean emailSent = sendEmail(userId, newPassword, &quot;XXX200&quot;);\r\n               msgMgr.reportSuccess(&quot;Password Reset Done&quot;);     \r\n               \r\n               if(mConnection != null){\r\n                    mConnection.disconnect();\r\n               }\r\n                         \r\n          }\r\n    }catch(Exception e){\r\n         msgMgr.reportException(&quot;Could not change password &quot; + e.getMessage(),true);\r\n    }\r\n\r\n---\r\n","title":"how to reset password in SAP system using BAPI?","body":"<p>I am trying to reset password for SAP system using BAPI but I am getting error</p>\n<blockquote>\n<p>password is not type of field input</p>\n</blockquote>\n<p>I am posting my code below.</p>\n<p><code>getRandomString()</code> is a user-defined function.  I have copied this code from Internet and I am unaware about this.</p>\n<p><code>String newPassword = getRandomString();</code> here it is giving error because <code>getRandomString()</code> is a user-defined function and I am unaware about this.</p>\n<p>Is there any role of this while resetting password or can I directly use <code>String newpassword=&quot; &quot;;</code>?</p>\n<pre><code>String newPassword = getRandomString();\n\ntry{\n      JCO.Function bapiUserChange = repository.getFunctionTemplate(&quot;BAPI_USER_CHANGE&quot;).getFunction();\n      if(bapiUserChange != null){\n           JCO.ParameterList userChangeInput = bapiUserChange.getImportParameterList();\n           \n           JCO.Structure sPassword = userChangeInput.getStructure(&quot;PASSWORD&quot;);\n           \n           //sPassword.setValue(newPassword, ????) //what do I assign it to?\n           \n           userChangeInput.setValue(userId, &quot;USERNAME&quot;);\n           userChangeInput.setValue(newPassword, &quot;PASSWORD&quot;);  // this gives an error\n           userChangeInput.setValue(&quot;X&quot;,&quot;PASSWORDX&quot;); //I know &quot;X&quot; is true, this will give an error too I believe\n           \n           mConnection.execute(bapiUserChange);\n           \n           //send E-mail\n           boolean emailSent = sendEmail(userId, newPassword, &quot;XXX200&quot;);\n           msgMgr.reportSuccess(&quot;Password Reset Done&quot;);     \n           \n           if(mConnection != null){\n                mConnection.disconnect();\n           }\n                     \n      }\n}catch(Exception e){\n     msgMgr.reportException(&quot;Could not change password &quot; + e.getMessage(),true);\n}\n</code></pre>\n<hr />\n"},{"tags":["java","prometheus","open-telemetry","otlp-grpc","otel"],"comments":[{"owner":{"account_id":3053597,"reputation":580,"user_id":2587704,"accept_rate":50,"display_name":"JackB"},"score":0,"creation_date":1682536164,"post_id":76098185,"comment_id":134233416,"body_markdown":"It sounds like you&#39;re using the otel java agent, but also maybe adding your own custom instrumentation. How are you configuring the SDK? You should use the env vars / system properties [documented here](https://github.com/open-telemetry/opentelemetry-java/tree/main/sdk-extensions/autoconfigure). Minimally, you&#39;ll want to configure `OTEL_SERVICE_NAME` and set `OTEL_EXPORTER_OTLP_ENDPOINT` to collector&#39;s OTLP endpoint. You&#39;ll also want to ensure that your custom instrumentation uses the same `OpenTelemetry` instance as the otel agent by calling `GlobalOpenTelemetry.get()`.","body":"It sounds like you&#39;re using the otel java agent, but also maybe adding your own custom instrumentation. How are you configuring the SDK? You should use the env vars / system properties <a href=\"https://github.com/open-telemetry/opentelemetry-java/tree/main/sdk-extensions/autoconfigure\" rel=\"nofollow noreferrer\">documented here</a>. Minimally, you&#39;ll want to configure <code>OTEL_SERVICE_NAME</code> and set <code>OTEL_EXPORTER_OTLP_ENDPOINT</code> to collector&#39;s OTLP endpoint. You&#39;ll also want to ensure that your custom instrumentation uses the same <code>OpenTelemetry</code> instance as the otel agent by calling <code>GlobalOpenTelemetry.get()</code>."}],"owner":{"account_id":28401522,"reputation":1,"user_id":21726275,"display_name":"Tanya Itoria"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682406157,"creation_date":1682404306,"question_id":76098185,"body_markdown":"I am using opentelemetry to send metrics to prometheus and I am using **otlp** exporter. But I am facing 2 issues there.\r\n\r\n1. Service name is coming as unknown_serive:java . \r\n\r\n2. jvm/auto-instrumented metrics are not coming.\r\n\r\nIf anyone can help here, it would be great. Thanks!\r\n\r\nFor fixing the service-name issue, I tried 3 solutions,\r\n1. I set **OTEL_SERVICE_NAME** variable in config map.\r\n2. I tried passing **-Dotel.service.name** but this is also not working.\r\n3. I tried passing **service.name** value in **OTEL_RESOURCE_ATTRIBUTES**, but that too doesn&#39;t work.\r\n\r\n\r\nFor jvm metrics, i set **-Dotel.javaagent.enabled=true**, but metrics still not coming.\r\n\r\n\r\nMy **otel-config.yaml** file is\r\n\r\n```\r\nexporters:\r\n    otlp:\r\n\t\tendpoint: some-endpoint\r\n        tls:\r\n        \tinsecure: true\r\n    prometheusremotewrite:\r\n        endpoint: some-endpoint\r\n        resource_to_telemetry_conversion:\r\n          \tenabled: true\r\n```","title":"JVM metrics and Service Name Issues with opentelemetry","body":"<p>I am using opentelemetry to send metrics to prometheus and I am using <strong>otlp</strong> exporter. But I am facing 2 issues there.</p>\n<ol>\n<li><p>Service name is coming as unknown_serive:java .</p>\n</li>\n<li><p>jvm/auto-instrumented metrics are not coming.</p>\n</li>\n</ol>\n<p>If anyone can help here, it would be great. Thanks!</p>\n<p>For fixing the service-name issue, I tried 3 solutions,</p>\n<ol>\n<li>I set <strong>OTEL_SERVICE_NAME</strong> variable in config map.</li>\n<li>I tried passing <strong>-Dotel.service.name</strong> but this is also not working.</li>\n<li>I tried passing <strong>service.name</strong> value in <strong>OTEL_RESOURCE_ATTRIBUTES</strong>, but that too doesn't work.</li>\n</ol>\n<p>For jvm metrics, i set <strong>-Dotel.javaagent.enabled=true</strong>, but metrics still not coming.</p>\n<p>My <strong>otel-config.yaml</strong> file is</p>\n<pre><code>exporters:\n    otlp:\n        endpoint: some-endpoint\n        tls:\n            insecure: true\n    prometheusremotewrite:\n        endpoint: some-endpoint\n        resource_to_telemetry_conversion:\n            enabled: true\n</code></pre>\n"},{"tags":["java","multithreading","stream","resttemplate","parallelstream"],"owner":{"account_id":11074628,"reputation":97,"user_id":8131752,"display_name":"b-user"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682405247,"creation_date":1682405247,"question_id":76098290,"body_markdown":"I am trying to build a list of responses from a list of entities (DB).\r\n\r\nTo construct my list of responses, I am using parallelStream and in the mapper, I am trying to call another microservice but the problem is that only one result is injected into my response instead of each item response in the list.\r\n\r\nUse case\r\n\r\n    companyPartnerships.parallelStream()\r\n                .map(partnershipItemMapper::toPartnershipItemResponse)\r\n                .collect(Collectors.toList());\r\n\r\nMapper\r\n\r\n    @Mapping(target = &quot;balance&quot;, source = &quot;.&quot;, qualifiedByName = &quot;injectBalanceToPartnershipItemResponse&quot;)\r\n    public abstract PartnershipItemResponse toPartnershipItemResponse(Partnership partnership);\r\n\r\n    @Named(&quot;injectBalanceToPartnershipItemResponse&quot;)\r\n    protected Long injectBalanceToPartnershipItemResponse(Partnership partnership) {\r\n        return partnershipMetricsProxy.getPartnershipMetricsFor(partnership.getId())\r\n            .map(PartnershipMetrics::getBalance)\r\n            .orElse(null);\r\n    }\r\n\r\nExample of response\r\n\r\n        {\r\n            &quot;id&quot;: 473,\r\n            &quot;balance&quot;: null\r\n        },\r\n        {\r\n            &quot;id&quot;: 617,\r\n            &quot;balance&quot;: 26122\r\n        },\r\n        {\r\n            &quot;id&quot;: 517,\r\n            &quot;balance&quot;: null\r\n        }","title":"ParallelStream and multiple calls in the mapper","body":"<p>I am trying to build a list of responses from a list of entities (DB).</p>\n<p>To construct my list of responses, I am using parallelStream and in the mapper, I am trying to call another microservice but the problem is that only one result is injected into my response instead of each item response in the list.</p>\n<p>Use case</p>\n<pre><code>companyPartnerships.parallelStream()\n            .map(partnershipItemMapper::toPartnershipItemResponse)\n            .collect(Collectors.toList());\n</code></pre>\n<p>Mapper</p>\n<pre><code>@Mapping(target = &quot;balance&quot;, source = &quot;.&quot;, qualifiedByName = &quot;injectBalanceToPartnershipItemResponse&quot;)\npublic abstract PartnershipItemResponse toPartnershipItemResponse(Partnership partnership);\n\n@Named(&quot;injectBalanceToPartnershipItemResponse&quot;)\nprotected Long injectBalanceToPartnershipItemResponse(Partnership partnership) {\n    return partnershipMetricsProxy.getPartnershipMetricsFor(partnership.getId())\n        .map(PartnershipMetrics::getBalance)\n        .orElse(null);\n}\n</code></pre>\n<p>Example of response</p>\n<pre><code>    {\n        &quot;id&quot;: 473,\n        &quot;balance&quot;: null\n    },\n    {\n        &quot;id&quot;: 617,\n        &quot;balance&quot;: 26122\n    },\n    {\n        &quot;id&quot;: 517,\n        &quot;balance&quot;: null\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","rest","spring-boot-starter"],"answers":[{"tags":[],"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682404515,"creation_date":1682404108,"answer_id":76098159,"question_id":76098035,"body_markdown":"This will work:\r\n\r\n    @RestController\r\n    @RequestMapping\r\n    public class MyController {\r\n    \r\n      @GetMapping(&quot;/{employee-id}&quot;)\r\n      public ResponseEntity getEmployeeDetails(@PathVariable(name = &quot;employee-id&quot;) int empId,\r\n          @RequestBody(required = false) Object requestBody) {\r\n        if (requestBody != null) {\r\n          throw new RuntimeException(&quot;Request body is not empty&quot;);\r\n        }\r\n        return ResponseEntity.ok(empId);\r\n      }\r\n    \r\n    }\r\n\r\nex:\r\n\r\n    curl --location --request GET &#39;http://localhost:8080/2&#39; \\\r\n    --header &#39;Content-Type: application/json&#39; \\\r\n    --data-raw &#39;{\r\n        &quot;name&quot;: &quot;grkn&quot;\r\n    }&#39;\r\n\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2023-04-25T06:35:02.132+00:00&quot;,\r\n        &quot;status&quot;: 500,\r\n        &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n        &quot;path&quot;: &quot;/2&quot;\r\n    }\r\n\r\n    2023-04-25T09:35:02.125+03:00 ERROR 23340 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: Request body is not empty] with root cause\r\n    \r\n    java.lang.RuntimeException: Request body is not empty\r\n    \tat com.example.testspringboot.HelloController.getEmployeeDetails(HelloController.java:18) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    .......","title":"how to block API from accepting the unknow request body when it is not needed","body":"<p>This will work:</p>\n<pre><code>@RestController\n@RequestMapping\npublic class MyController {\n\n  @GetMapping(&quot;/{employee-id}&quot;)\n  public ResponseEntity getEmployeeDetails(@PathVariable(name = &quot;employee-id&quot;) int empId,\n      @RequestBody(required = false) Object requestBody) {\n    if (requestBody != null) {\n      throw new RuntimeException(&quot;Request body is not empty&quot;);\n    }\n    return ResponseEntity.ok(empId);\n  }\n\n}\n</code></pre>\n<p>ex:</p>\n<pre><code>curl --location --request GET 'http://localhost:8080/2' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n    &quot;name&quot;: &quot;grkn&quot;\n}'\n\n\n{\n    &quot;timestamp&quot;: &quot;2023-04-25T06:35:02.132+00:00&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;path&quot;: &quot;/2&quot;\n}\n\n2023-04-25T09:35:02.125+03:00 ERROR 23340 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: Request body is not empty] with root cause\n\njava.lang.RuntimeException: Request body is not empty\n    at com.example.testspringboot.HelloController.getEmployeeDetails(HelloController.java:18) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n.......\n</code></pre>\n"}],"owner":{"account_id":14726577,"reputation":43,"user_id":10635302,"display_name":"Vedha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76098159,"answer_count":1,"score":0,"last_activity_date":1682404515,"creation_date":1682402700,"question_id":76098035,"body_markdown":"I have an API which returns the details of the employee based on the employee ID that is sent as a path parameter. \r\n\r\nhttp://localhost:8080/emplyee/155 \r\n\r\nin the above url 155 is the employee ID and the API would return the details the employee whose ID is 155. \r\n\r\nBelow is from my controller file. \r\n\r\n```\r\n@GET\r\n@produces({MediaType.APPLICATION_JSON})\r\n@path(&quot;/{employee-id})\r\npublic Response getEmployeeDetails(@pathparam(employee-id) int empId);\r\n```\r\n\r\nThe problem is this API is fetching the employee details even though any request body is sent along with the pathparam. So, how to block or send 400 bad request when an unnecessary request body is sent for this API as it is not needed and will not be used in the API logic? \r\n\r\nbelow is the example for which I want the API to respond 400 error.\r\n\r\n```\r\nURI - http://localhost:8080/emplyee/155\r\n\r\nRequest - {&quot;name&quot;:&quot;hello&quot;,&quot;position&quot;:&quot;tech&quot;}\r\n\r\nRespone - 200 OK and employee details of ID 155\r\n```\r\n","title":"how to block API from accepting the unknow request body when it is not needed","body":"<p>I have an API which returns the details of the employee based on the employee ID that is sent as a path parameter.</p>\n<p>http://localhost:8080/emplyee/155</p>\n<p>in the above url 155 is the employee ID and the API would return the details the employee whose ID is 155.</p>\n<p>Below is from my controller file.</p>\n<pre><code>@GET\n@produces({MediaType.APPLICATION_JSON})\n@path(&quot;/{employee-id})\npublic Response getEmployeeDetails(@pathparam(employee-id) int empId);\n</code></pre>\n<p>The problem is this API is fetching the employee details even though any request body is sent along with the pathparam. So, how to block or send 400 bad request when an unnecessary request body is sent for this API as it is not needed and will not be used in the API logic?</p>\n<p>below is the example for which I want the API to respond 400 error.</p>\n<pre><code>URI - http://localhost:8080/emplyee/155\n\nRequest - {&quot;name&quot;:&quot;hello&quot;,&quot;position&quot;:&quot;tech&quot;}\n\nRespone - 200 OK and employee details of ID 155\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1682350652,"post_id":76093621,"comment_id":134197514,"body_markdown":"just pass it as a lambda?","body":"just pass it as a lambda?"}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682404280,"creation_date":1682360000,"answer_id":76094892,"question_id":76093621,"body_markdown":"Firstly, if you have a builder that keeps using the same parameters, you should consider creating a constructor there. This will allow you to do something like this:\r\n\r\n    results = new PartResultDto(s.getIdentifier(), results)\r\n\r\nThen, I would avoid code blocks inside the stream pipeline, so, in your example, I would break the map into 2 different map methods: firstly to call `retrieveSimilarParts`, and, after that, to create the dto (this will allow you to move the filter between the two, resulting a a much more clear code - imo):\r\n\r\n    search.stream()\r\n    \t.map(s -&gt; retrieveSimilarParts(similarParts, s.getVdi4081())\r\n    \t.filter(results -&gt; !CollectionUtils.isNullOrEmpty(results))\r\n    \t.map(results -&gt; new PartResultDto(s.getIdentifier(), results))\r\n    \t.collect(Collectors.toList());\r\n\r\nLastly, you can replace the filter with a method reference, the not predicate for the filter, and perhaps the `.toList` instead of the collector\r\n\r\n    search.stream()\r\n    \t.map(s -&gt; retrieveSimilarParts(similarParts, s.getVdi4081())\r\n    \t.filter(not(CollectionUtils::isNullOrEmpty))\r\n    \t.map(results -&gt; new PartResultDto(s.getIdentifier(), results))\r\n    \t.toList();:\r\n\r\n\r\n\r\n","title":"Sugestion about clean code with builder java","body":"<p>Firstly, if you have a builder that keeps using the same parameters, you should consider creating a constructor there. This will allow you to do something like this:</p>\n<pre><code>results = new PartResultDto(s.getIdentifier(), results)\n</code></pre>\n<p>Then, I would avoid code blocks inside the stream pipeline, so, in your example, I would break the map into 2 different map methods: firstly to call <code>retrieveSimilarParts</code>, and, after that, to create the dto (this will allow you to move the filter between the two, resulting a a much more clear code - imo):</p>\n<pre><code>search.stream()\n    .map(s -&gt; retrieveSimilarParts(similarParts, s.getVdi4081())\n    .filter(results -&gt; !CollectionUtils.isNullOrEmpty(results))\n    .map(results -&gt; new PartResultDto(s.getIdentifier(), results))\n    .collect(Collectors.toList());\n</code></pre>\n<p>Lastly, you can replace the filter with a method reference, the not predicate for the filter, and perhaps the <code>.toList</code> instead of the collector</p>\n<pre><code>search.stream()\n    .map(s -&gt; retrieveSimilarParts(similarParts, s.getVdi4081())\n    .filter(not(CollectionUtils::isNullOrEmpty))\n    .map(results -&gt; new PartResultDto(s.getIdentifier(), results))\n    .toList();:\n</code></pre>\n"}],"owner":{"account_id":22960907,"reputation":43,"user_id":17090789,"display_name":"Thomas124124"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76094892,"answer_count":1,"score":0,"last_activity_date":1682404280,"creation_date":1682350504,"question_id":76093621,"body_markdown":"I&#39;ve got two similar parts of code and they only invoke different method of builder:\r\n\r\n``` \r\nreturn search.stream().map(s -&gt; {\r\n            List&lt;PartDto&gt; results = retrieveSimilarParts(extendedSimilarParts, s.getVdi4081());\r\n\r\n            return CollectionUtils.isNullOrEmpty(results) ? null : PartResultDto.builder()\r\n                    .identifier(s.getIdentifier())\r\n                    .extendedSimilarParts(results).build();\r\n        }).filter(Objects::nonNull).collect(Collectors.toList());\r\n\r\n```\r\n\r\n```\r\nreturn search.stream().map(s -&gt; {\r\n                List&lt;PartDto&gt; results = retrieveSimilarParts(similarParts, s.getVdi4081());\r\n\r\n                return CollectionUtils.isNullOrEmpty(results) ? null : PartResultDto.builder()\r\n                        .identifier(s.getIdentifier())\r\n                        .similarParts(results).build();\r\n            }).filter(Objects::nonNull).collect(Collectors.toList());\r\n```\r\n\r\nThe only difference is invoking: \r\nextendedSimilarParts\r\nsimilarParts\r\nHow could I extract clean method? \r\n\r\n","title":"Sugestion about clean code with builder java","body":"<p>I've got two similar parts of code and they only invoke different method of builder:</p>\n<pre><code>return search.stream().map(s -&gt; {\n            List&lt;PartDto&gt; results = retrieveSimilarParts(extendedSimilarParts, s.getVdi4081());\n\n            return CollectionUtils.isNullOrEmpty(results) ? null : PartResultDto.builder()\n                    .identifier(s.getIdentifier())\n                    .extendedSimilarParts(results).build();\n        }).filter(Objects::nonNull).collect(Collectors.toList());\n\n</code></pre>\n<pre><code>return search.stream().map(s -&gt; {\n                List&lt;PartDto&gt; results = retrieveSimilarParts(similarParts, s.getVdi4081());\n\n                return CollectionUtils.isNullOrEmpty(results) ? null : PartResultDto.builder()\n                        .identifier(s.getIdentifier())\n                        .similarParts(results).build();\n            }).filter(Objects::nonNull).collect(Collectors.toList());\n</code></pre>\n<p>The only difference is invoking:\nextendedSimilarParts\nsimilarParts\nHow could I extract clean method?</p>\n"},{"tags":["java","email","dns","jakarta-mail"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1301473016,"post_id":5483706,"comment_id":6219251,"body_markdown":"Which version of javamail are you using?","body":"Which version of javamail are you using?"},{"owner":{"account_id":301489,"reputation":54254,"user_id":609251,"accept_rate":82,"display_name":"aroth"},"score":1,"creation_date":1301473136,"post_id":5483706,"comment_id":6219271,"body_markdown":"Maybe this is a stupid idea, but what happens if you URLEncode the domain name?","body":"Maybe this is a stupid idea, but what happens if you URLEncode the domain name?"},{"owner":{"account_id":301489,"reputation":54254,"user_id":609251,"accept_rate":82,"display_name":"aroth"},"score":0,"creation_date":1301473216,"post_id":5483706,"comment_id":6219289,"body_markdown":"Or failing that, maybe subclass `InternetAddress` and override the constructor and the `validate()` function to do what you want?","body":"Or failing that, maybe subclass <code>InternetAddress</code> and override the constructor and the <code>validate()</code> function to do what you want?"}],"answers":[{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1301474090,"creation_date":1301474090,"answer_id":5483915,"question_id":5483706,"body_markdown":"Java Mail doesn&#39;t support i18n domain names, so you must use the standard rules to escape them using [the IDNA rules][1].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Internationalized_domain_name","title":"JavaMail: &quot;Domain contains control or whitespace in string&quot; errormessage because of domain with Danish characters","body":"<p>Java Mail doesn't support i18n domain names, so you must use the standard rules to escape them using <a href=\"http://en.wikipedia.org/wiki/Internationalized_domain_name\" rel=\"nofollow\">the IDNA rules</a>.</p>\n"},{"tags":[],"owner":{"account_id":1327968,"reputation":61,"user_id":1272408,"display_name":"felix"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1333913593,"creation_date":1333913593,"answer_id":10065795,"question_id":5483706,"body_markdown":"Currently mail servers generally don&#39;t accept non-ASCII characters in the local part, only the domain part (following the &#39;@&#39; sign) is supported with IDN.\r\n\r\nTo encode only the domain part with the java.net.IDN class, i use the following Util.\r\n\r\n(Code not tested in production, but it should work)\r\n\r\n    import java.net.IDN;\r\n    \r\n    \r\n    public class IDNMailHelper {\r\n    \r\n        public static String toIdnAddress(String mail) {\r\n            if (mail == null) {\r\n                return null;\r\n            }\r\n            int idx = mail.indexOf(&#39;@&#39;);\r\n            if (idx &lt; 0) {\r\n                return mail;\r\n            }\r\n            return localPart(mail, idx) + &quot;@&quot; + IDN.toASCII(domain(mail, idx));\r\n        }\r\n    \r\n        private static String localPart(String mail, int idx) {\r\n            return mail.substring(0, idx);\r\n        }\r\n    \r\n        private static String domain(String mail, int idx) {\r\n            return mail.substring(idx + 1);\r\n        }\r\n    \r\n    }\r\n","title":"JavaMail: &quot;Domain contains control or whitespace in string&quot; errormessage because of domain with Danish characters","body":"<p>Currently mail servers generally don't accept non-ASCII characters in the local part, only the domain part (following the '@' sign) is supported with IDN.</p>\n\n<p>To encode only the domain part with the java.net.IDN class, i use the following Util.</p>\n\n<p>(Code not tested in production, but it should work)</p>\n\n<pre><code>import java.net.IDN;\n\n\npublic class IDNMailHelper {\n\n    public static String toIdnAddress(String mail) {\n        if (mail == null) {\n            return null;\n        }\n        int idx = mail.indexOf('@');\n        if (idx &lt; 0) {\n            return mail;\n        }\n        return localPart(mail, idx) + \"@\" + IDN.toASCII(domain(mail, idx));\n    }\n\n    private static String localPart(String mail, int idx) {\n        return mail.substring(0, idx);\n    }\n\n    private static String domain(String mail, int idx) {\n        return mail.substring(idx + 1);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333915107,"creation_date":1333915107,"answer_id":10066006,"question_id":5483706,"body_markdown":"I did run it with Java 7, javax.mail 1.4 (from Maven repository).\r\nAnd there *it worked*.\r\n\r\nThe java source encoding was UTF-8. The operating system was Linux.\r\nOr the cause might be that you are using a jee jar. \r\n\r\n    -------------------------------------------------------\r\n     T E S T S\r\n    -------------------------------------------------------\r\n    Running jeggen.test2.AppTest\r\n    test@test&#230;xample12345123.com\r\n    test@test&#230;xample12345123.com\r\n    test@test&#230;xample12345123.com\r\n    Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.039 sec\r\n\r\n    Results :\r\n\r\n    Tests run: 4, Failures: 0, Errors: 0, Skipped: 0\r\n","title":"JavaMail: &quot;Domain contains control or whitespace in string&quot; errormessage because of domain with Danish characters","body":"<p>I did run it with Java 7, javax.mail 1.4 (from Maven repository).\nAnd there <em>it worked</em>.</p>\n\n<p>The java source encoding was UTF-8. The operating system was Linux.\nOr the cause might be that you are using a jee jar. </p>\n\n<pre><code>-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\nRunning jeggen.test2.AppTest\ntest@testæxample12345123.com\ntest@testæxample12345123.com\ntest@testæxample12345123.com\nTests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.039 sec\n\nResults :\n\nTests run: 4, Failures: 0, Errors: 0, Skipped: 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":321204,"reputation":19977,"user_id":639891,"accept_rate":91,"display_name":"Dungeon Hunter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488882398,"creation_date":1488882398,"answer_id":42645751,"question_id":5483706,"body_markdown":"Java Mail 1.6 supports Internationalized Email Addresses. \r\n\r\nhttps://java.net/projects/javamail/forums/forum/topics/81613-Does-JavaMail-support-Internationalized-Domain-Names-IDN- \r\n\r\n\r\nIt&#39;s still in development you can try out with the snapshot release. Also add the JVM argument \r\n\r\n    -Dmail.mime.allowutf8=true ","title":"JavaMail: &quot;Domain contains control or whitespace in string&quot; errormessage because of domain with Danish characters","body":"<p>Java Mail 1.6 supports Internationalized Email Addresses. </p>\n\n<p><a href=\"https://java.net/projects/javamail/forums/forum/topics/81613-Does-JavaMail-support-Internationalized-Domain-Names-IDN-\" rel=\"nofollow noreferrer\">https://java.net/projects/javamail/forums/forum/topics/81613-Does-JavaMail-support-Internationalized-Domain-Names-IDN-</a> </p>\n\n<p>It's still in development you can try out with the snapshot release. Also add the JVM argument </p>\n\n<pre><code>-Dmail.mime.allowutf8=true \n</code></pre>\n"},{"tags":[],"owner":{"account_id":14403953,"reputation":1,"user_id":10404657,"display_name":"Harish Ladi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682404023,"creation_date":1682059474,"answer_id":76070560,"question_id":5483706,"body_markdown":"In My case, I missed the Comma separator in between the mails list. \r\n\r\n    message.addRecipients(Message.RecipientType.CC,\r\n    \t\t\t\t\tInternetAddress.parse(emailConfigs.getProperty(ReportConstants.CC_MAIL_IDS)));\r\n\r\n**In the properties file:** \r\ncc: mail1@domine.com, mail2@domine.com mail3@domine.com\r\n\r\nIf you observe in between mail2 and mail3 I missed the comma separator. I just added that and it is resolved. More of this issue will come when we miss some standard format.\r\n","title":"JavaMail: &quot;Domain contains control or whitespace in string&quot; errormessage because of domain with Danish characters","body":"<p>In My case, I missed the Comma separator in between the mails list.</p>\n<pre><code>message.addRecipients(Message.RecipientType.CC,\n                    InternetAddress.parse(emailConfigs.getProperty(ReportConstants.CC_MAIL_IDS)));\n</code></pre>\n<p><strong>In the properties file:</strong>\ncc: mail1@domine.com, mail2@domine.com mail3@domine.com</p>\n<p>If you observe in between mail2 and mail3 I missed the comma separator. I just added that and it is resolved. More of this issue will come when we miss some standard format.</p>\n"}],"owner":{"account_id":348683,"reputation":133,"user_id":683516,"display_name":"Allan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26205,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":5483915,"answer_count":5,"score":13,"last_activity_date":1682404023,"creation_date":1301472905,"question_id":5483706,"body_markdown":"Domains with special danish characters such as &#230; &#248; &#229; are now allowed, but I can&#39;t force java mail to accept this.\r\n\r\n    \t@Test()\r\n\tpublic void testMailAddressWithDanishCharacters1() throws AddressException, UnsupportedEncodingException {\r\n\t\tInternetAddress cAddress = new InternetAddress( &quot;test@test&#230;xample12345123.com&quot;, null, &quot;utf-8&quot; );\r\n\t\tSystem.out.println( cAddress.toString() );\r\n\t\tcAddress.validate();\r\n\t}\r\n\t\r\n\t@Test()\r\n\tpublic void testMailAddressWithDanishCharacters2() throws AddressException, UnsupportedEncodingException {\r\n\t\tInternetAddress cAddress = new InternetAddress( &quot;test@test&#230;xample12345123.com&quot;, false );\r\n\t\tSystem.out.println( cAddress.toString() );\r\n\t\tcAddress.validate();\r\n\t}\r\n\r\n\t@Test()\r\n\tpublic void testMailAddressWithDanishCharacters3() throws AddressException, UnsupportedEncodingException {\r\n\t\tInternetAddress cAddress = new InternetAddress( &quot;test@test&#230;xample12345123.com&quot;, true );\r\n\t\tSystem.out.println( cAddress.toString() );\r\n\t\tcAddress.validate();\r\n\t}\r\n\r\nAll of the tests fail in either the constructor of InternetAddress or in the validate() method. How can I handle these special danish characters in the domain. I bet that other countries have the same issue with their domains vs emails in javamail InternetAddress.","title":"JavaMail: &quot;Domain contains control or whitespace in string&quot; errormessage because of domain with Danish characters","body":"<p>Domains with special danish characters such as æ ø å are now allowed, but I can't force java mail to accept this.</p>\n\n<pre><code>    @Test()\npublic void testMailAddressWithDanishCharacters1() throws AddressException, UnsupportedEncodingException {\n    InternetAddress cAddress = new InternetAddress( \"test@testæxample12345123.com\", null, \"utf-8\" );\n    System.out.println( cAddress.toString() );\n    cAddress.validate();\n}\n\n@Test()\npublic void testMailAddressWithDanishCharacters2() throws AddressException, UnsupportedEncodingException {\n    InternetAddress cAddress = new InternetAddress( \"test@testæxample12345123.com\", false );\n    System.out.println( cAddress.toString() );\n    cAddress.validate();\n}\n\n@Test()\npublic void testMailAddressWithDanishCharacters3() throws AddressException, UnsupportedEncodingException {\n    InternetAddress cAddress = new InternetAddress( \"test@testæxample12345123.com\", true );\n    System.out.println( cAddress.toString() );\n    cAddress.validate();\n}\n</code></pre>\n\n<p>All of the tests fail in either the constructor of InternetAddress or in the validate() method. How can I handle these special danish characters in the domain. I bet that other countries have the same issue with their domains vs emails in javamail InternetAddress.</p>\n"},{"tags":["java","netbeans"],"answers":[{"tags":[],"owner":{"account_id":468855,"reputation":5925,"user_id":875083,"display_name":"Joachim Rohde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682403866,"creation_date":1682403866,"answer_id":76098146,"question_id":76096174,"body_markdown":"From the [NetBeans wiki][1]:\r\n\r\nInside the ModuleInstaller class for the GUI module:\r\n\r\n    @Override\r\n    public void restored() {\r\n      // some other code may go here...\r\n       WindowManager.getDefault().invokeWhenUIReady(new Runnable() {\r\n         @Override\r\n         public void run() {\r\n          JFrame mainFrame = (JFrame) WindowManager.getDefault().getMainWindow();\r\n          mainFrame.setTitle(&quot;Modified main title&quot;);\r\n         });\r\n       }\r\n      // some other code may go here...\r\n    }\r\n\r\n  [1]: https://netbeans.apache.org/wiki/DevFaqMainTitle.html","title":"How do I set the Title of my application in the Top Toolbar in Nebeans","body":"<p>From the <a href=\"https://netbeans.apache.org/wiki/DevFaqMainTitle.html\" rel=\"nofollow noreferrer\">NetBeans wiki</a>:</p>\n<p>Inside the ModuleInstaller class for the GUI module:</p>\n<pre><code>@Override\npublic void restored() {\n  // some other code may go here...\n   WindowManager.getDefault().invokeWhenUIReady(new Runnable() {\n     @Override\n     public void run() {\n      JFrame mainFrame = (JFrame) WindowManager.getDefault().getMainWindow();\n      mainFrame.setTitle(&quot;Modified main title&quot;);\n     });\n   }\n  // some other code may go here...\n}\n</code></pre>\n"}],"owner":{"account_id":7577131,"reputation":127,"user_id":5749128,"display_name":"AlexHomeBrew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682403866,"creation_date":1682371154,"question_id":76096174,"body_markdown":"I have an application in Java created by Netbeans that has a title above the toolbar of:\r\n\r\nMyApp 14-cf42d87113e1a2dblahblah\r\n\r\nThis is not useful to my users. I would like to include a revision number in the title, as that would be more useful than a GUID from Mercurial. That revision number would be under my control.\r\n\r\nModifying the various Bundle.properties files (see below) has no apparent effect.\r\n```\r\n$ grep -r &quot;MyApp {0}&quot; .\r\n./MyApp/branding/src/main/nbm-branding/core/core.jar/org/netbeans/core/startup/Bundle.properties:currentVersion=MyApp {0}\r\n./MyApp/branding/src/main/nbm-branding/modules/org-netbeans-core-windows.jar/org/netbeans/core/windows/view/ui/Bundle.properties:CTL_MainWindow_Title=MyApp {0}\r\n./MyApp/branding/src/main/nbm-branding/modules/org-netbeans-core-windows.jar/org/netbeans/core/windows/view/ui/Bundle.properties:CTL_MainWindow_Title_No_Project=MyApp {0}\r\n```\r\n\r\nThe {0} implies that somewhere the first parameter in the call is used but I can&#39;t figure out what is calling what.\r\n\r\nI am using Netbeans IDE 15 and Java 15.\r\n\r\nI have wandered through Netbeans properties and configuration without finding the key to changing it. Internet searches have not come up with anything that works either. I also haven&#39;t found anything that helps in the Netbeans documents.\r\n\r\n\r\n","title":"How do I set the Title of my application in the Top Toolbar in Nebeans","body":"<p>I have an application in Java created by Netbeans that has a title above the toolbar of:</p>\n<p>MyApp 14-cf42d87113e1a2dblahblah</p>\n<p>This is not useful to my users. I would like to include a revision number in the title, as that would be more useful than a GUID from Mercurial. That revision number would be under my control.</p>\n<p>Modifying the various Bundle.properties files (see below) has no apparent effect.</p>\n<pre><code>$ grep -r &quot;MyApp {0}&quot; .\n./MyApp/branding/src/main/nbm-branding/core/core.jar/org/netbeans/core/startup/Bundle.properties:currentVersion=MyApp {0}\n./MyApp/branding/src/main/nbm-branding/modules/org-netbeans-core-windows.jar/org/netbeans/core/windows/view/ui/Bundle.properties:CTL_MainWindow_Title=MyApp {0}\n./MyApp/branding/src/main/nbm-branding/modules/org-netbeans-core-windows.jar/org/netbeans/core/windows/view/ui/Bundle.properties:CTL_MainWindow_Title_No_Project=MyApp {0}\n</code></pre>\n<p>The {0} implies that somewhere the first parameter in the call is used but I can't figure out what is calling what.</p>\n<p>I am using Netbeans IDE 15 and Java 15.</p>\n<p>I have wandered through Netbeans properties and configuration without finding the key to changing it. Internet searches have not come up with anything that works either. I also haven't found anything that helps in the Netbeans documents.</p>\n"},{"tags":["java","spring","spring-boot","testing"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1682316879,"post_id":76086887,"comment_id":134189971,"body_markdown":"Either load the full context using `@SpringBootTest` (and you base test tries to much) or provide a specific `@TestConfiguration` to supply what you need.","body":"Either load the full context using <code>@SpringBootTest</code> (and you base test tries to much) or provide a specific <code>@TestConfiguration</code> to supply what you need."},{"owner":{"account_id":437987,"reputation":3973,"user_id":825968,"accept_rate":77,"display_name":"AndrasCsanyi"},"score":0,"creation_date":1682362531,"post_id":76086887,"comment_id":134200190,"body_markdown":"@M.Deinum thanks! You saved my 4ss! If you write an answer I&#39;ll accept it.","body":"@M.Deinum thanks! You saved my 4ss! If you write an answer I&#39;ll accept it."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682403680,"creation_date":1682403680,"answer_id":76098132,"question_id":76086887,"body_markdown":"You are trying to outsmart Spring Boot and its loading mechanisms. Don&#39;t do that as you should be working with the framework. \r\n\r\nYou have 2 options here. \r\n\r\n1. Use a single `@SpringBootTest` and load the full context (maybe with some mocked services, or in-memory database implementations). \r\n2. Use a dedicated and specific `@TestConfiguration` to load exactly what you need. \r\n\r\nI strongly suggest option 1. as option 2 will get quite tedious and will probably lead to longer test times (as there is no reuse of a previously loaded context).","title":"How to inject @Repository and multiple @Services into Spring testing context?","body":"<p>You are trying to outsmart Spring Boot and its loading mechanisms. Don't do that as you should be working with the framework.</p>\n<p>You have 2 options here.</p>\n<ol>\n<li>Use a single <code>@SpringBootTest</code> and load the full context (maybe with some mocked services, or in-memory database implementations).</li>\n<li>Use a dedicated and specific <code>@TestConfiguration</code> to load exactly what you need.</li>\n</ol>\n<p>I strongly suggest option 1. as option 2 will get quite tedious and will probably lead to longer test times (as there is no reuse of a previously loaded context).</p>\n"}],"owner":{"account_id":437987,"reputation":3973,"user_id":825968,"accept_rate":77,"display_name":"AndrasCsanyi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76098132,"answer_count":1,"score":0,"last_activity_date":1682403680,"creation_date":1682278783,"question_id":76086887,"body_markdown":"I&#39;m working on a REST endpoint using Spring and I&#39;d like to test the business logic separately in a way when it includes the mapper, repository and validation logics. They are not mocked. It is a fat integration test (if this definition exists) or a system test but the REST part is not included.\r\n\r\nWhy not mocking? I don&#39;t like them, they don&#39;t really provide any value since I define their behavior and that definition does not reflect on the code I want to test. It can be as buggy as the code I wrote. :) For me the value is when I can test the whole stack or big portion of the stack in build time, and fast. I rather manipulate the inputs to trigger behaviors and leave the mocks for behaviors cannot be triggered by inputs (do thsey make any sense?).\r\n\r\nThe problem I face is how to wire these together in a test? All the examples and articles I have found so far are 1, `@DataJpaTest` which focuses only the repository, 2, Controller or system tests with mocked underlying logic.\r\n\r\nWhat I need is the ability to test my small libraries in a the combination (either have them mocked, not mocked or some of them mocked and some of them not) I see valuable.\r\n\r\nBased on the articles I read so far the problem is that during testing Spring loads just a slice of the context and I need to load what I need to be there. I haven&#39;t found that how can I load into the test context what I need.\r\n\r\n\r\n```java\r\npublic class IAMBusinessLogicImplementation implements IAMBusinessLogicInterface {\r\n\r\n    private final UserRepositoryInterface _userRepository;\r\n    private final UserMapperInterface _userMappers;\r\n    private final IAMValidatorInterface _validator;\r\n\r\n    public IAMBusinessLogicImplementation(\r\n        @NonNull UserRepositoryInterface _userRepository,\r\n        @NonNull UserMapperInterface _userMappers,\r\n        @NonNull IAMValidatorInterface _validator) {\r\n        this._userRepository = _userRepository;\r\n        this._userMappers = _userMappers;\r\n        this._validator = _validator;\r\n    }\r\n\r\n    public UserDto createUser(@NonNull UserDto userDto) {\r\n        // stuff\r\n    }\r\n}\r\n\r\npublic class IAMValidatorImplementation implements IAMValidatorInterface { }\r\n\r\npublic class UserMapperImplementation implements UserMapperInterface { }\r\n\r\npublic interface UserRepositoryInterface extends CrudRepository&lt;User, Long&gt; { }\r\n```\r\n\r\nTest:\r\n```java\r\n@SpringBootTest(classes = {IAMBusinessLogicImplementation.class})\r\n@EnableJpaRepositories(basePackages = &quot;com.encyclopediagalactica.iam.tests.repository&quot;)\r\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\n@AutoConfigureDataJpa\r\n@EntityScan(&quot;com.encyclopediagalactica.iam.entities&quot;)\r\n@ComponentScan()\r\npublic class IAMBusinessLogicTestsBase {\r\n\r\n    @Autowired\r\n    public IAMBusinessLogicInterface _sut;\r\n\r\n    @Test\r\n    public void createUser() {\r\n        // Arrange\r\n        UserDto userDto = UserDto.builder()\r\n            .firstName(&quot;asd&quot;)\r\n            .lastName(&quot;dsa&quot;)\r\n            .build();\r\n\r\n        // Act\r\n        UserDto result = _sut.createUser(userDto);\r\n\r\n        // Assert\r\n        assertThat(result).isNotNull();\r\n    }\r\n\r\n}\r\n```\r\n\r\nResult:\r\n\r\n&gt; 2023-04-23T21:28:24.598+02:00  INFO 37577 --- [           main]\r\n&gt; c.e.i.t.b.IAMBusinessLogicTestsBase      : Starting\r\n&gt; IAMBusinessLogicTestsBase using Java 17.0.7 with PID 37577 (started by\r\n&gt; andrascsanyi in\r\n&gt; /Users/andrascsanyi/DEV/github.com/EncyclopediaGalactica/IAM/IAM)\r\n&gt; 2023-04-23T21:28:24.601+02:00  INFO 37577 --- [           main]\r\n&gt; c.e.i.t.b.IAMBusinessLogicTestsBase      : No active profile set,\r\n&gt; falling back to 1 default profile: &quot;default&quot;\r\n&gt; 2023-04-23T21:28:24.739+02:00  INFO 37577 --- [           main]\r\n&gt; .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data\r\n&gt; JPA repositories in DEFAULT mode. 2023-04-23T21:28:24.759+02:00  INFO\r\n&gt; 37577 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate :\r\n&gt; Finished Spring Data repository scanning in 8 ms. Found 0 JPA\r\n&gt; repository interfaces. 2023-04-23T21:28:24.899+02:00  INFO 37577 --- [\r\n&gt; main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing\r\n&gt; PersistenceUnitInfo [name: default] 2023-04-23T21:28:24.919+02:00 \r\n&gt; INFO 37577 --- [           main] org.hibernate.Version                \r\n&gt; : HHH000412: Hibernate ORM core version 6.1.7.Final\r\n&gt; 2023-04-23T21:28:25.049+02:00  INFO 37577 --- [           main]\r\n&gt; com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n&gt; 2023-04-23T21:28:25.137+02:00  INFO 37577 --- [           main]\r\n&gt; com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added\r\n&gt; connection conn0: url=jdbc:h2:mem:testing user=SA\r\n&gt; 2023-04-23T21:28:25.138+02:00  INFO 37577 --- [           main]\r\n&gt; com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start\r\n&gt; completed. 2023-04-23T21:28:25.147+02:00  INFO 37577 --- [          \r\n&gt; main] SQL dialect                              : HHH000400: Using\r\n&gt; dialect: org.hibernate.dialect.H2Dialect 2023-04-23T21:28:25.489+02:00\r\n&gt; INFO 37577 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator   \r\n&gt; : HHH000490: Using JtaPlatform implementation:\r\n&gt; [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n&gt; 2023-04-23T21:28:25.492+02:00  INFO 37577 --- [           main]\r\n&gt; j.LocalContainerEntityManagerFactoryBean : Initialized JPA\r\n&gt; EntityManagerFactory for persistence unit &#39;default&#39;\r\n&gt; 2023-04-23T21:28:25.495+02:00  WARN 37577 --- [           main]\r\n&gt; o.s.w.c.s.GenericWebApplicationContext   : Exception encountered\r\n&gt; during context initialization - cancelling refresh attempt:\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name &#39;IAMBusinessLogicImplementation&#39;:\r\n&gt; Unsatisfied dependency expressed through constructor parameter 0: No\r\n&gt; qualifying bean of type\r\n&gt; &#39;com.encyclopediagalactica.iam.repositories.UserRepositoryInterface&#39;\r\n&gt; available: expected at least 1 bean which qualifies as autowire\r\n&gt; candidate. Dependency annotations: {} 2023-04-23T21:28:25.495+02:00 \r\n&gt; INFO 37577 --- [           main]\r\n&gt; j.LocalContainerEntityManagerFactoryBean : Closing JPA\r\n&gt; EntityManagerFactory for persistence unit &#39;default&#39;\r\n&gt; 2023-04-23T21:28:25.495+02:00  INFO 37577 --- [           main]\r\n&gt; .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed\r\n&gt; evictData of schema as part of SessionFactory shut-down&#39;\r\n&gt; 2023-04-23T21:28:25.497+02:00  INFO 37577 --- [           main]\r\n&gt; com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown\r\n&gt; initiated... 2023-04-23T21:28:25.498+02:00  INFO 37577 --- [          \r\n&gt; main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 -\r\n&gt; Shutdown completed. 2023-04-23T21:28:25.500+02:00  INFO 37577 --- [   \r\n&gt; main] .s.b.a.l.ConditionEvaluationReportLogger : \r\n&gt; \r\n&gt; Error starting ApplicationContext. To display the condition evaluation\r\n&gt; report re-run your application with &#39;debug&#39; enabled.\r\n&gt; 2023-04-23T21:28:25.508+02:00 ERROR 37577 --- [           main]\r\n&gt; o.s.b.d.LoggingFailureAnalysisReporter   :","title":"How to inject @Repository and multiple @Services into Spring testing context?","body":"<p>I'm working on a REST endpoint using Spring and I'd like to test the business logic separately in a way when it includes the mapper, repository and validation logics. They are not mocked. It is a fat integration test (if this definition exists) or a system test but the REST part is not included.</p>\n<p>Why not mocking? I don't like them, they don't really provide any value since I define their behavior and that definition does not reflect on the code I want to test. It can be as buggy as the code I wrote. :) For me the value is when I can test the whole stack or big portion of the stack in build time, and fast. I rather manipulate the inputs to trigger behaviors and leave the mocks for behaviors cannot be triggered by inputs (do thsey make any sense?).</p>\n<p>The problem I face is how to wire these together in a test? All the examples and articles I have found so far are 1, <code>@DataJpaTest</code> which focuses only the repository, 2, Controller or system tests with mocked underlying logic.</p>\n<p>What I need is the ability to test my small libraries in a the combination (either have them mocked, not mocked or some of them mocked and some of them not) I see valuable.</p>\n<p>Based on the articles I read so far the problem is that during testing Spring loads just a slice of the context and I need to load what I need to be there. I haven't found that how can I load into the test context what I need.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class IAMBusinessLogicImplementation implements IAMBusinessLogicInterface {\n\n    private final UserRepositoryInterface _userRepository;\n    private final UserMapperInterface _userMappers;\n    private final IAMValidatorInterface _validator;\n\n    public IAMBusinessLogicImplementation(\n        @NonNull UserRepositoryInterface _userRepository,\n        @NonNull UserMapperInterface _userMappers,\n        @NonNull IAMValidatorInterface _validator) {\n        this._userRepository = _userRepository;\n        this._userMappers = _userMappers;\n        this._validator = _validator;\n    }\n\n    public UserDto createUser(@NonNull UserDto userDto) {\n        // stuff\n    }\n}\n\npublic class IAMValidatorImplementation implements IAMValidatorInterface { }\n\npublic class UserMapperImplementation implements UserMapperInterface { }\n\npublic interface UserRepositoryInterface extends CrudRepository&lt;User, Long&gt; { }\n</code></pre>\n<p>Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(classes = {IAMBusinessLogicImplementation.class})\n@EnableJpaRepositories(basePackages = &quot;com.encyclopediagalactica.iam.tests.repository&quot;)\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\n@AutoConfigureDataJpa\n@EntityScan(&quot;com.encyclopediagalactica.iam.entities&quot;)\n@ComponentScan()\npublic class IAMBusinessLogicTestsBase {\n\n    @Autowired\n    public IAMBusinessLogicInterface _sut;\n\n    @Test\n    public void createUser() {\n        // Arrange\n        UserDto userDto = UserDto.builder()\n            .firstName(&quot;asd&quot;)\n            .lastName(&quot;dsa&quot;)\n            .build();\n\n        // Act\n        UserDto result = _sut.createUser(userDto);\n\n        // Assert\n        assertThat(result).isNotNull();\n    }\n\n}\n</code></pre>\n<p>Result:</p>\n<blockquote>\n<p>2023-04-23T21:28:24.598+02:00  INFO 37577 --- [           main]\nc.e.i.t.b.IAMBusinessLogicTestsBase      : Starting\nIAMBusinessLogicTestsBase using Java 17.0.7 with PID 37577 (started by\nandrascsanyi in\n/Users/andrascsanyi/DEV/github.com/EncyclopediaGalactica/IAM/IAM)\n2023-04-23T21:28:24.601+02:00  INFO 37577 --- [           main]\nc.e.i.t.b.IAMBusinessLogicTestsBase      : No active profile set,\nfalling back to 1 default profile: &quot;default&quot;\n2023-04-23T21:28:24.739+02:00  INFO 37577 --- [           main]\n.s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data\nJPA repositories in DEFAULT mode. 2023-04-23T21:28:24.759+02:00  INFO\n37577 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate :\nFinished Spring Data repository scanning in 8 ms. Found 0 JPA\nrepository interfaces. 2023-04-23T21:28:24.899+02:00  INFO 37577 --- [\nmain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing\nPersistenceUnitInfo [name: default] 2023-04-23T21:28:24.919+02:00\nINFO 37577 --- [           main] org.hibernate.Version<br />\n: HHH000412: Hibernate ORM core version 6.1.7.Final\n2023-04-23T21:28:25.049+02:00  INFO 37577 --- [           main]\ncom.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-04-23T21:28:25.137+02:00  INFO 37577 --- [           main]\ncom.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added\nconnection conn0: url=jdbc:h2:mem:testing user=SA\n2023-04-23T21:28:25.138+02:00  INFO 37577 --- [           main]\ncom.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start\ncompleted. 2023-04-23T21:28:25.147+02:00  INFO 37577 --- [<br />\nmain] SQL dialect                              : HHH000400: Using\ndialect: org.hibernate.dialect.H2Dialect 2023-04-23T21:28:25.489+02:00\nINFO 37577 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator<br />\n: HHH000490: Using JtaPlatform implementation:\n[org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-04-23T21:28:25.492+02:00  INFO 37577 --- [           main]\nj.LocalContainerEntityManagerFactoryBean : Initialized JPA\nEntityManagerFactory for persistence unit 'default'\n2023-04-23T21:28:25.495+02:00  WARN 37577 --- [           main]\no.s.w.c.s.GenericWebApplicationContext   : Exception encountered\nduring context initialization - cancelling refresh attempt:\norg.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name 'IAMBusinessLogicImplementation':\nUnsatisfied dependency expressed through constructor parameter 0: No\nqualifying bean of type\n'com.encyclopediagalactica.iam.repositories.UserRepositoryInterface'\navailable: expected at least 1 bean which qualifies as autowire\ncandidate. Dependency annotations: {} 2023-04-23T21:28:25.495+02:00\nINFO 37577 --- [           main]\nj.LocalContainerEntityManagerFactoryBean : Closing JPA\nEntityManagerFactory for persistence unit 'default'\n2023-04-23T21:28:25.495+02:00  INFO 37577 --- [           main]\n.SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed\nevictData of schema as part of SessionFactory shut-down'\n2023-04-23T21:28:25.497+02:00  INFO 37577 --- [           main]\ncom.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown\ninitiated... 2023-04-23T21:28:25.498+02:00  INFO 37577 --- [<br />\nmain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 -\nShutdown completed. 2023-04-23T21:28:25.500+02:00  INFO 37577 --- [<br />\nmain] .s.b.a.l.ConditionEvaluationReportLogger :</p>\n<p>Error starting ApplicationContext. To display the condition evaluation\nreport re-run your application with 'debug' enabled.\n2023-04-23T21:28:25.508+02:00 ERROR 37577 --- [           main]\no.s.b.d.LoggingFailureAnalysisReporter   :</p>\n</blockquote>\n"},{"tags":["java","spring","apache-kafka"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1682345746,"post_id":76092781,"comment_id":134196110,"body_markdown":"Use `${SOME_KAFKA_GROUPID}` in your `groupId` attribute.","body":"Use <code>${SOME_KAFKA_GROUPID}</code> in your <code>groupId</code> attribute."},{"owner":{"account_id":27793189,"reputation":11,"user_id":21219271,"display_name":"IgorPiven"},"score":0,"creation_date":1682346087,"post_id":76092781,"comment_id":134196219,"body_markdown":"Doesn&#39;t work unfortunately. I suppose it is applicable if I get the values from application.properties file.","body":"Doesn&#39;t work unfortunately. I suppose it is applicable if I get the values from application.properties file."},{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1682346293,"post_id":76092781,"comment_id":134196276,"body_markdown":"is this spring or spring boot application @IgorPiven?","body":"is this spring or spring boot application @IgorPiven?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1682402790,"post_id":76092781,"comment_id":134205134,"body_markdown":"Then make `Dotenv` part of the propertysources, using an `EnvironmentPostProcessor`, and wrap the result in a `PropertySource`. Then it will work as the property is part of the normal flow.","body":"Then make <code>Dotenv</code> part of the propertysources, using an <code>EnvironmentPostProcessor</code>, and wrap the result in a <code>PropertySource</code>. Then it will work as the property is part of the normal flow."}],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682346116,"creation_date":1682346116,"answer_id":76092914,"question_id":76092781,"body_markdown":"In Spring boot you can read system environment properties or spring environment properties using [@Value][1] annotation\r\n\r\n**Spring @Value - Spring Environment Property**\r\n\r\n    @Value(&quot;${APP_NAME_NOT_FOUND}&quot;)\r\n    private String defaultAppName;\r\n\r\nIf the key is not found in the spring environment properties, then the property value will be `${APP_NAME_NOT_FOUND}`. We can assign a default value that will get assigned if the key is missing from spring environment properties.\r\n\r\n    @Value(&quot;${APP_NAME_NOT_FOUND:Default}&quot;)\r\n    private String defaultAppName;\r\n\r\n**Spring @Value - System Environment**\r\n\r\nWhen Spring environment is populated, it reads all the system environment variables and stores it as properties. So we can assign system variables too using @Value annotation.\r\n\r\n    @Value(&quot;${java.home}&quot;)\r\n    private String javaHome;\r\n\t\r\n    @Value(&quot;${HOME}&quot;)\r\n    private String homeDir;\r\n\r\n**Spring @Value - SpEL**\r\n\r\nWe can also use Spring Expression Language with @Value annotation. So we can read java home system property using SpEL too.\r\n\r\n    @Value(&quot;#{systemProperties[&#39;java.home&#39;]}&quot;)\r\n    private String javaHome;\r\n\r\n  [1]: https://www.digitalocean.com/community/tutorials/spring-value-annotation#spring-value-spring-environment-property","title":"How to use environment values for group-id in spring KafkaListener annotation","body":"<p>In Spring boot you can read system environment properties or spring environment properties using <a href=\"https://www.digitalocean.com/community/tutorials/spring-value-annotation#spring-value-spring-environment-property\" rel=\"nofollow noreferrer\">@Value</a> annotation</p>\n<p><strong>Spring @Value - Spring Environment Property</strong></p>\n<pre><code>@Value(&quot;${APP_NAME_NOT_FOUND}&quot;)\nprivate String defaultAppName;\n</code></pre>\n<p>If the key is not found in the spring environment properties, then the property value will be <code>${APP_NAME_NOT_FOUND}</code>. We can assign a default value that will get assigned if the key is missing from spring environment properties.</p>\n<pre><code>@Value(&quot;${APP_NAME_NOT_FOUND:Default}&quot;)\nprivate String defaultAppName;\n</code></pre>\n<p><strong>Spring @Value - System Environment</strong></p>\n<p>When Spring environment is populated, it reads all the system environment variables and stores it as properties. So we can assign system variables too using @Value annotation.</p>\n<pre><code>@Value(&quot;${java.home}&quot;)\nprivate String javaHome;\n\n@Value(&quot;${HOME}&quot;)\nprivate String homeDir;\n</code></pre>\n<p><strong>Spring @Value - SpEL</strong></p>\n<p>We can also use Spring Expression Language with @Value annotation. So we can read java home system property using SpEL too.</p>\n<pre><code>@Value(&quot;#{systemProperties['java.home']}&quot;)\nprivate String javaHome;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682403509,"creation_date":1682403509,"answer_id":76098114,"question_id":76092781,"body_markdown":"You can write an `EnvironmentPostProcessor` which used `Dotenv` to load the properties and then wrap that in a `PropertySource`. That way you will be able to use regular Spring mechanism to replace the values. \r\n\r\n```java\r\npublic DotenvEnvironmentProcessor implements EnvironmentPostProcessor {\r\n\r\n@Override\r\n    public void postProcessEnvironment(ConfigurableEnvironment environment, \r\n      SpringApplication application) {\r\n\r\n      Dotenv dotenv = Dotenv.load();\r\n      Properties envProps = new Properties();\r\n      for (DotenvEntry entry : dotenv.entries()) {\r\n        envProps.setProperty(entry.getKey(), entry.getValue());\r\n      }\r\n      environment.getPropertySources()\r\n          .addAfter(SYSTEM_ENVIRONMENT_PROPERTY_SOURCE_NAME, new PropertiesPropertySource(&quot;dotenv&quot;, envProps);\r\n    }\r\n}\r\n```\r\n\r\nThis will register the `Dotenv` loaded properties into the `Environment` used by Spring to replace the values. \r\n\r\n**NOTE:** You could also write a dedicated `PropertySource` implementation that wraps the `Dotenv` and use that instead. You can do this by extending the `EnumerablePropertySource` and implement it. \r\n\r\nNow you can reference the properties as you usually would do with Spring. \r\n\r\n```java\r\n@KafkaListener(topics = &quot;some_topic&quot;, groupId = &quot;${SOME_KAFKA_GROUPID}&quot;, containerFactory = &quot;some_container_name&quot;)\r\n```\r\n\r\nThis should probably also simplify other code you are using which references `Dotenv` as you can remove it and use normal Spring mechanisms (and you could even move the properties to your `application.properties` or yaml or in profile specific ones). ","title":"How to use environment values for group-id in spring KafkaListener annotation","body":"<p>You can write an <code>EnvironmentPostProcessor</code> which used <code>Dotenv</code> to load the properties and then wrap that in a <code>PropertySource</code>. That way you will be able to use regular Spring mechanism to replace the values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public DotenvEnvironmentProcessor implements EnvironmentPostProcessor {\n\n@Override\n    public void postProcessEnvironment(ConfigurableEnvironment environment, \n      SpringApplication application) {\n\n      Dotenv dotenv = Dotenv.load();\n      Properties envProps = new Properties();\n      for (DotenvEntry entry : dotenv.entries()) {\n        envProps.setProperty(entry.getKey(), entry.getValue());\n      }\n      environment.getPropertySources()\n          .addAfter(SYSTEM_ENVIRONMENT_PROPERTY_SOURCE_NAME, new PropertiesPropertySource(&quot;dotenv&quot;, envProps);\n    }\n}\n</code></pre>\n<p>This will register the <code>Dotenv</code> loaded properties into the <code>Environment</code> used by Spring to replace the values.</p>\n<p><strong>NOTE:</strong> You could also write a dedicated <code>PropertySource</code> implementation that wraps the <code>Dotenv</code> and use that instead. You can do this by extending the <code>EnumerablePropertySource</code> and implement it.</p>\n<p>Now you can reference the properties as you usually would do with Spring.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@KafkaListener(topics = &quot;some_topic&quot;, groupId = &quot;${SOME_KAFKA_GROUPID}&quot;, containerFactory = &quot;some_container_name&quot;)\n</code></pre>\n<p>This should probably also simplify other code you are using which references <code>Dotenv</code> as you can remove it and use normal Spring mechanisms (and you could even move the properties to your <code>application.properties</code> or yaml or in profile specific ones).</p>\n"}],"owner":{"account_id":27793189,"reputation":11,"user_id":21219271,"display_name":"IgorPiven"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":688,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1682403509,"creation_date":1682345275,"question_id":76092781,"body_markdown":"I get the values from the .env file and try to put the value Group-id in @KafkaListener:\r\n```\r\nDotenv dotenv = Dotenv.load();\r\nfinal String KAFKA_GROUP_ID = dotenv.get(&quot;SOME_KAFKA_GROUPID&quot;);\r\n\r\n@KafkaListener(topics = &quot;some_topic&quot;, groupId = KAFKA_GROUP_ID, containerFactory = &quot;some_container_name&quot;)\r\n```\r\n\r\nIDEA says KAFKA_GROUP_ID must be constant. I have tried all modifications for KAFKA_GROUP_ID but have been unsuccessful.\r\n\r\nHow shall I proceed to get KAFKA_GROUP_ID constant?","title":"How to use environment values for group-id in spring KafkaListener annotation","body":"<p>I get the values from the .env file and try to put the value Group-id in @KafkaListener:</p>\n<pre><code>Dotenv dotenv = Dotenv.load();\nfinal String KAFKA_GROUP_ID = dotenv.get(&quot;SOME_KAFKA_GROUPID&quot;);\n\n@KafkaListener(topics = &quot;some_topic&quot;, groupId = KAFKA_GROUP_ID, containerFactory = &quot;some_container_name&quot;)\n</code></pre>\n<p>IDEA says KAFKA_GROUP_ID must be constant. I have tried all modifications for KAFKA_GROUP_ID but have been unsuccessful.</p>\n<p>How shall I proceed to get KAFKA_GROUP_ID constant?</p>\n"},{"tags":["java","rest","jpa","design-patterns"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1682357686,"post_id":76094563,"comment_id":134199167,"body_markdown":"Single endpoint using https://www.baeldung.com/hibernate-criteria-queries to eliminate combinatorial explosion induce cyclometric complexity.","body":"Single endpoint using <a href=\"https://www.baeldung.com/hibernate-criteria-queries\" rel=\"nofollow noreferrer\">baeldung.com/hibernate-criteria-queries</a> to eliminate combinatorial explosion induce cyclometric complexity."}],"answers":[{"tags":[],"owner":{"account_id":13854821,"reputation":34,"user_id":10001914,"display_name":"amb1dex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682364337,"creation_date":1682364337,"answer_id":76095410,"question_id":76094563,"body_markdown":"I think you should implement single endpoint with dynamic filtering and sorting. E.g. your endpoint should consume something like this:\r\n```json\r\n{\r\n  &quot;filters&quot;: [\r\n    {\r\n      &quot;operation&quot;: &quot;eq&quot;,\r\n      &quot;field:&quot;: &quot;EmployeeId&quot;,\r\n      &quot;value&quot;: &quot;123&quot;,\r\n      &quot;valueType&quot;: &quot;long&quot;\r\n    },\r\n    {\r\n      &quot;operation&quot;: &quot;like&quot;,\r\n      &quot;field:&quot;: &quot;CurrentTitle&quot;,\r\n      &quot;value&quot;: &quot;title&quot;,\r\n      &quot;valueType&quot;: &quot;string&quot;\r\n    }\r\n  ],\r\n  &quot;sorts&quot;: [\r\n    {\r\n      &quot;field&quot;: &quot;EmployeeId&quot;,\r\n      &quot;direction&quot;: &quot;asc&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\nYou predefine set of possible operations (eq, gt, like, between etc.) and map it to JPA Criteria API. That should keep filter queries relative simply and adaptive for DB schema changes. Furthermore, you could join filters into groups to introduce more complex filtering logic.","title":"Rest Api Design for handing multiple optional parameters in one endpoint or as less endpoints as possible","body":"<p>I think you should implement single endpoint with dynamic filtering and sorting. E.g. your endpoint should consume something like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;filters&quot;: [\n    {\n      &quot;operation&quot;: &quot;eq&quot;,\n      &quot;field:&quot;: &quot;EmployeeId&quot;,\n      &quot;value&quot;: &quot;123&quot;,\n      &quot;valueType&quot;: &quot;long&quot;\n    },\n    {\n      &quot;operation&quot;: &quot;like&quot;,\n      &quot;field:&quot;: &quot;CurrentTitle&quot;,\n      &quot;value&quot;: &quot;title&quot;,\n      &quot;valueType&quot;: &quot;string&quot;\n    }\n  ],\n  &quot;sorts&quot;: [\n    {\n      &quot;field&quot;: &quot;EmployeeId&quot;,\n      &quot;direction&quot;: &quot;asc&quot;\n    }\n  ]\n}\n</code></pre>\n<p>You predefine set of possible operations (eq, gt, like, between etc.) and map it to JPA Criteria API. That should keep filter queries relative simply and adaptive for DB schema changes. Furthermore, you could join filters into groups to introduce more complex filtering logic.</p>\n"}],"owner":{"account_id":12579153,"reputation":25,"user_id":9150507,"display_name":"user9150507"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":554,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76095410,"answer_count":1,"score":0,"last_activity_date":1682403291,"creation_date":1682357398,"question_id":76094563,"body_markdown":"We want to design Rest Api with the endpoint which can handle multiple optional parameters and based on the parameter passed, do a search in the Database using JPA and fetch back the results. For Instance, let&#39;s say we have an Employee table in the database which has columns \r\n```\r\nEmployeeId, JoiningDate, Salary, CurrentTitle, TimeInCurrentTitle and may be few more columns. \r\n```\r\nFor some columns as well, there could be multiple ways to search e.g. \r\n\r\n```Fetch all employees with JoiningDate as 2022-05-04``` \r\n\r\n```or fetch all employees who joined after 2022-05-04``` \r\n\r\nSame with salary,\r\n\r\n```get all employees having Salary as $80000```\r\n \r\n```or get all employees having salary greater than $80000```\r\n\r\nOne Approach is to design single endpoint for each column. In the DAO layer, we are trying to use JPA to get the results from the database\r\n```\r\nEmployeeId -&gt; findByEmployeeId will get the result for that id from database\r\nJoiningDate -&gt; findByJoiningDate will get all the empolyees who joined on that date\r\nAfterJoiningDate -&gt; findByJoiningDateGreaterThan will get all the employees who joined after given date\r\nBetweenJoiningDate -&gt; findByJoiningDateBetween will get all the employess who joined between given date A and given date B\r\n```\r\n\r\nWe have around 10 or so columns using which a user can search and in some columns as well, there could be multiple options to search as I described above with Date and number column. We would also want to add pagination and sorting capability while retrieving the results.\r\n\r\nIf we design resource in rest Api as Employee, we can accept the input as\r\n```\r\nhttp://context-root.com/v1/employee?id=123\r\nhttp://context-root.com/v1/employee?id=123&amp;joiningDate=2022-05-04\r\n```\r\nand so on, but unable to think how can we simplify it from business logic layer, where we need to call appropriate back end method as per the inputs received without writing too many if else conditions which would certainly increase the cyclomatic complexity and also makes the code difficult to read.\r\n\r\nWe don&#39;t want to create too many endpoints to simplify it, so trying to understand if there&#39;s a better way for such approach so we could minimize the number of endpoints we need to expose and still get the desired outcome and keep the code readable as well. \r\n\r\nPls advise.","title":"Rest Api Design for handing multiple optional parameters in one endpoint or as less endpoints as possible","body":"<p>We want to design Rest Api with the endpoint which can handle multiple optional parameters and based on the parameter passed, do a search in the Database using JPA and fetch back the results. For Instance, let's say we have an Employee table in the database which has columns</p>\n<pre><code>EmployeeId, JoiningDate, Salary, CurrentTitle, TimeInCurrentTitle and may be few more columns. \n</code></pre>\n<p>For some columns as well, there could be multiple ways to search e.g.</p>\n<p><code>Fetch all employees with JoiningDate as 2022-05-04</code></p>\n<p><code>or fetch all employees who joined after 2022-05-04</code></p>\n<p>Same with salary,</p>\n<p><code>get all employees having Salary as $80000</code></p>\n<p><code>or get all employees having salary greater than $80000</code></p>\n<p>One Approach is to design single endpoint for each column. In the DAO layer, we are trying to use JPA to get the results from the database</p>\n<pre><code>EmployeeId -&gt; findByEmployeeId will get the result for that id from database\nJoiningDate -&gt; findByJoiningDate will get all the empolyees who joined on that date\nAfterJoiningDate -&gt; findByJoiningDateGreaterThan will get all the employees who joined after given date\nBetweenJoiningDate -&gt; findByJoiningDateBetween will get all the employess who joined between given date A and given date B\n</code></pre>\n<p>We have around 10 or so columns using which a user can search and in some columns as well, there could be multiple options to search as I described above with Date and number column. We would also want to add pagination and sorting capability while retrieving the results.</p>\n<p>If we design resource in rest Api as Employee, we can accept the input as</p>\n<pre><code>http://context-root.com/v1/employee?id=123\nhttp://context-root.com/v1/employee?id=123&amp;joiningDate=2022-05-04\n</code></pre>\n<p>and so on, but unable to think how can we simplify it from business logic layer, where we need to call appropriate back end method as per the inputs received without writing too many if else conditions which would certainly increase the cyclomatic complexity and also makes the code difficult to read.</p>\n<p>We don't want to create too many endpoints to simplify it, so trying to understand if there's a better way for such approach so we could minimize the number of endpoints we need to expose and still get the desired outcome and keep the code readable as well.</p>\n<p>Pls advise.</p>\n"},{"tags":["java","aop","pointcut","spring-aspects"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1682326333,"post_id":76089840,"comment_id":134191668,"body_markdown":"I doubt it is the exception. One thing is that your around advice is a bit strange, I would expect the proceed to be executed in a `try/finally` block so that you always record metrics. Also Spring by default uses proxy based AOP so if you are internally calling this method this won&#39;t pass through the proxy but directly invoke the method on the target object.","body":"I doubt it is the exception. One thing is that your around advice is a bit strange, I would expect the proceed to be executed in a <code>try&#47;finally</code> block so that you always record metrics. Also Spring by default uses proxy based AOP so if you are internally calling this method this won&#39;t pass through the proxy but directly invoke the method on the target object."},{"owner":{"account_id":5137581,"reputation":340,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"score":0,"creation_date":1682336975,"post_id":76089840,"comment_id":134194003,"body_markdown":"@M.Deinum If something is failing in proceed.. then also atleast it should atleast enter the method.. in debug mode I tested that this around  is not being invoked only for this method","body":"@M.Deinum If something is failing in proceed.. then also atleast it should atleast enter the method.. in debug mode I tested that this around  is not being invoked only for this method"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1682337106,"post_id":76089840,"comment_id":134194032,"body_markdown":"As mentioned (if you read the whole comment) it won&#39;t work for internal method invocations and I suspect you are calling this method internally.","body":"As mentioned (if you read the whole comment) it won&#39;t work for internal method invocations and I suspect you are calling this method internally."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682403218,"creation_date":1682403218,"answer_id":76098088,"question_id":76089840,"body_markdown":"Like _M.Deinum_ said (credit to him for that), your aspect is simply implemented incorrectly. The logging code is simply never reached in case of an exception while proceeding to the original method. Try this (untested, just copied from your sample code and edited):\r\n\r\n```java\r\n@Pointcut(&quot;execution(* com.customer.service.ExecuteCustomerService.initiateExecuteCustomer(..))&quot;)\r\nprivate void logExecuteCustomer() {}\r\n\r\n@Around(&quot;logExecuteCustomer()&quot;)\r\npublic Object TimerMonitoring(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\r\n  MethodSignature methodSignature = (MethodSignature) proceedingJoinPoint.getSignature();\r\n  long startTime = System.currentTimeMillis();\r\n  try {\r\n    return proceedingJoinPoint.proceed();\r\n  }\r\n  finally {\r\n    try {\r\n      String desc = methodSignature.getDeclaringType().getSimpleName() + &quot;.&quot; + methodSignature.getName();\r\n      metricsService.metricsTimer(desc, System.currentTimeMillis() - startTime);\r\n    } catch (Exception exception) {\r\n      log.error(&quot;Error while processing metrics &quot;, exception);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nOr you just avoid bits and pieces from the method signature and simply log the whole joinpoint, keeping the code simple:\r\n\r\n```java\r\n@Around(&quot;logExecuteCustomer()&quot;)\r\npublic Object TimerMonitoring(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\r\n  long startTime = System.currentTimeMillis();\r\n  try {\r\n    return proceedingJoinPoint.proceed();\r\n  }\r\n  finally {\r\n    try {\r\n      metricsService.metricsTimer(proceedingJoinPoint.toString(), System.currentTimeMillis() - startTime);\r\n    } catch (Exception exception) {\r\n      log.error(&quot;Error while processing metrics &quot;, exception);\r\n    }\r\n  }\r\n}\r\n```\r\n","title":"Pointcut not working for method which throws Exception","body":"<p>Like <em>M.Deinum</em> said (credit to him for that), your aspect is simply implemented incorrectly. The logging code is simply never reached in case of an exception while proceeding to the original method. Try this (untested, just copied from your sample code and edited):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Pointcut(&quot;execution(* com.customer.service.ExecuteCustomerService.initiateExecuteCustomer(..))&quot;)\nprivate void logExecuteCustomer() {}\n\n@Around(&quot;logExecuteCustomer()&quot;)\npublic Object TimerMonitoring(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\n  MethodSignature methodSignature = (MethodSignature) proceedingJoinPoint.getSignature();\n  long startTime = System.currentTimeMillis();\n  try {\n    return proceedingJoinPoint.proceed();\n  }\n  finally {\n    try {\n      String desc = methodSignature.getDeclaringType().getSimpleName() + &quot;.&quot; + methodSignature.getName();\n      metricsService.metricsTimer(desc, System.currentTimeMillis() - startTime);\n    } catch (Exception exception) {\n      log.error(&quot;Error while processing metrics &quot;, exception);\n    }\n  }\n}\n</code></pre>\n<p>Or you just avoid bits and pieces from the method signature and simply log the whole joinpoint, keeping the code simple:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Around(&quot;logExecuteCustomer()&quot;)\npublic Object TimerMonitoring(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\n  long startTime = System.currentTimeMillis();\n  try {\n    return proceedingJoinPoint.proceed();\n  }\n  finally {\n    try {\n      metricsService.metricsTimer(proceedingJoinPoint.toString(), System.currentTimeMillis() - startTime);\n    } catch (Exception exception) {\n      log.error(&quot;Error while processing metrics &quot;, exception);\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":5137581,"reputation":340,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682403218,"creation_date":1682323693,"question_id":76089840,"body_markdown":"I am trying to add Pointcut on execution of a method to total time taken by method to execute. But my pointcut is not getting called. Similar method which does not throws any exception , pointcut for that method is being called.I am not able to findout the exact root cause or issue with my pointcut expression. \r\n\r\n    @Pointcut(\r\n      value =\r\n          &quot;execution(* com.customer.service.ExecuteCustomerService.initiateExecuteCustomer(..))&quot;)\r\n    private void logExecuteCustomer() {}\r\n\r\n     @Around(\r\n      value =&quot;logExecuteCustomer()&quot;)\r\n    public Object TimerMonitoring(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\r\n    MethodSignature methodSignature = (MethodSignature) proceedingJoinPoint.getSignature();\r\n\r\n    // calculate method execution time\r\n    long startTime = System.currentTimeMillis();\r\n    Object result = proceedingJoinPoint.proceed();\r\n    long endTime = System.currentTimeMillis();\r\n\r\n    try {\r\n      String desc =\r\n          methodSignature.getDeclaringType().getSimpleName() + &quot;.&quot; + methodSignature.getName();\r\n\r\n      metricsService.metricsTimer(desc, (endTime - startTime));\r\n    } catch (Exception exception) {\r\n      log.error(&quot;Error while processing metrics &quot;, exception);\r\n    }\r\n    return result;\r\n    }\r\n\r\nMethod\r\n\r\n    public void initiateExecuteCustomer(\r\n      ChargeTransaction chargeTransactionFromKafka, boolean ignoreCollectionDate)\r\n      throws CustomerException {\r\n    String key = LOGGER_KEY + chargeTransactionFromKafka.getOrderNo();\r\n    long serviceStartTime = System.currentTimeMillis();\r\n    // some java code\r\n    }\r\n\r\n","title":"Pointcut not working for method which throws Exception","body":"<p>I am trying to add Pointcut on execution of a method to total time taken by method to execute. But my pointcut is not getting called. Similar method which does not throws any exception , pointcut for that method is being called.I am not able to findout the exact root cause or issue with my pointcut expression.</p>\n<pre><code>@Pointcut(\n  value =\n      &quot;execution(* com.customer.service.ExecuteCustomerService.initiateExecuteCustomer(..))&quot;)\nprivate void logExecuteCustomer() {}\n\n @Around(\n  value =&quot;logExecuteCustomer()&quot;)\npublic Object TimerMonitoring(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\nMethodSignature methodSignature = (MethodSignature) proceedingJoinPoint.getSignature();\n\n// calculate method execution time\nlong startTime = System.currentTimeMillis();\nObject result = proceedingJoinPoint.proceed();\nlong endTime = System.currentTimeMillis();\n\ntry {\n  String desc =\n      methodSignature.getDeclaringType().getSimpleName() + &quot;.&quot; + methodSignature.getName();\n\n  metricsService.metricsTimer(desc, (endTime - startTime));\n} catch (Exception exception) {\n  log.error(&quot;Error while processing metrics &quot;, exception);\n}\nreturn result;\n}\n</code></pre>\n<p>Method</p>\n<pre><code>public void initiateExecuteCustomer(\n  ChargeTransaction chargeTransactionFromKafka, boolean ignoreCollectionDate)\n  throws CustomerException {\nString key = LOGGER_KEY + chargeTransactionFromKafka.getOrderNo();\nlong serviceStartTime = System.currentTimeMillis();\n// some java code\n}\n</code></pre>\n"},{"tags":["java","xml","bean-io"],"answers":[{"tags":[],"owner":{"account_id":28407887,"reputation":1,"user_id":21731642,"display_name":"wideworld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682402735,"creation_date":1682402735,"answer_id":76098043,"question_id":74324303,"body_markdown":"Quite late, but maybe helpful:\r\n\r\nWhat about creating your own RecordParserFactory and dealing there with your individual deviations? Some of them maybe expected, others are maybe real errors which you need to throw?\r\n\r\nAdd your own ParserFactory to streamBuilder \r\n\r\n    StreamBuilder sb = new StreamBuilder(...).parser(myRecordParserInstance)...\r\n\r\n","title":"How to create beanio that can handle multiple different lengths for one type of record?","body":"<p>Quite late, but maybe helpful:</p>\n<p>What about creating your own RecordParserFactory and dealing there with your individual deviations? Some of them maybe expected, others are maybe real errors which you need to throw?</p>\n<p>Add your own ParserFactory to streamBuilder</p>\n<pre><code>StreamBuilder sb = new StreamBuilder(...).parser(myRecordParserInstance)...\n</code></pre>\n"}],"owner":{"account_id":12002339,"reputation":83,"user_id":8781761,"display_name":"Cris Manrique"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682402735,"creation_date":1667609804,"question_id":74324303,"body_markdown":"I created a beanio for a file. The issue is the file can be varying lengths which throws an error when a certain field is expected to occur or have a certain length. I was able to get past the issue where the beanio was expecting a certain field that never occured by just setting the minOccurs to 0. The issue i have now is if any field is partially filled out, it&#39;ll throw a error saying it expected the field to be of the length set. Here&#39;s my beanio stream setup\r\n\r\n```    &lt;stream name=&quot;Loader&quot; format=&quot;fixedlength&quot; ignoreUnidentifiedRecords=&quot;true&quot;&gt;\r\n         &lt;record name=&quot;Record&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;\r\n                class=&quot;com.common.vo.Record&quot;&gt;\r\n            &lt;field name=&quot;record_type&quot; length=&quot;3&quot; default=&quot;REC&quot; literal=&quot;REC&quot; rid=&quot;true&quot;/&gt;\r\n            &lt;field name=&quot;idNumber&quot; length=&quot;19&quot; trim=&quot;true&quot; /&gt;\r\n            &lt;field name=&quot;centerCode&quot; length=&quot;20&quot; /&gt;\r\n        &lt;/record&gt;\r\n      &lt;/stream&gt;\r\n```\r\n\r\nI tried setting the ```minLength``` to 0, but it still throws the same error that it expects the length to be 20. I tried removing the length field and using the min and max length fields instead but with this format, it expects that length field and throws an error. Any ideas? I would like to avoid creating multiple different streams if possible\r\n\r\n","title":"How to create beanio that can handle multiple different lengths for one type of record?","body":"<p>I created a beanio for a file. The issue is the file can be varying lengths which throws an error when a certain field is expected to occur or have a certain length. I was able to get past the issue where the beanio was expecting a certain field that never occured by just setting the minOccurs to 0. The issue i have now is if any field is partially filled out, it'll throw a error saying it expected the field to be of the length set. Here's my beanio stream setup</p>\n<pre><code>         &lt;record name=&quot;Record&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;\n                class=&quot;com.common.vo.Record&quot;&gt;\n            &lt;field name=&quot;record_type&quot; length=&quot;3&quot; default=&quot;REC&quot; literal=&quot;REC&quot; rid=&quot;true&quot;/&gt;\n            &lt;field name=&quot;idNumber&quot; length=&quot;19&quot; trim=&quot;true&quot; /&gt;\n            &lt;field name=&quot;centerCode&quot; length=&quot;20&quot; /&gt;\n        &lt;/record&gt;\n      &lt;/stream&gt;\n</code></pre>\n<p>I tried setting the <code>minLength</code> to 0, but it still throws the same error that it expects the length to be 20. I tried removing the length field and using the min and max length fields instead but with this format, it expects that length field and throws an error. Any ideas? I would like to avoid creating multiple different streams if possible</p>\n"},{"tags":["java","json","loops"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1682344979,"post_id":76092702,"comment_id":134195938,"body_markdown":"need a [mcve] please.","body":"need a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please."},{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":1,"creation_date":1682345487,"post_id":76092702,"comment_id":134196052,"body_markdown":"Java for each is your friend https://www.programiz.com/java-programming/enhanced-for-loop\nIt looks like you need to loop through each `section` and in each `section` you need to loop through each `content`.  Hence, to traverse your nested structure, you need nested loops.","body":"Java for each is your friend <a href=\"https://www.programiz.com/java-programming/enhanced-for-loop\" rel=\"nofollow noreferrer\">programiz.com/java-programming/enhanced-for-loop</a> It looks like you need to loop through each <code>section</code> and in each <code>section</code> you need to loop through each <code>content</code>.  Hence, to traverse your nested structure, you need nested loops."}],"answers":[{"tags":[],"owner":{"account_id":10311488,"reputation":173,"user_id":7607172,"display_name":"Keegan Fisher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682401631,"creation_date":1682401211,"answer_id":76097907,"question_id":76092702,"body_markdown":"The problem with your code is that in your for-loops, you are using the same index i for both section and content (i.e. `content.getContent().getSections().get(i).getContent().get(i).getAccountId()`).  \r\n\r\nThis means that for each section 1, you will only grab the first content object, for section 2 you will only grab the 2nd content object, and for section 3 you will only grab the 3rd content object.\r\n\r\nYou could also build the String directly, instead of building a list and then joining the entries.\r\n\r\nYou could try something like this:\r\n```\r\npublic void getSections() {\r\n    disposables.add(repository.getContent()\r\n            .subscribeOn(Schedulers.io())\r\n            .observeOn(AndroidSchedulers.mainThread())\r\n            .subscribeWith(new DisposableObserver&lt;Content&gt;() {\r\n                @Override\r\n                public void onNext(@NonNull Content content) {\r\n\r\n                    StringBuffer sb = new StringBuffer();\r\n\r\n                    for(int i = 0; i &lt; content.getSections().size(); i++) {\r\n                         for(int j = 0; j &lt; content.getSections().get(i).getContent().size(); j++) {\r\n                              if(sb.length() == 0) {\r\n                                   sb.append(content.getSections().get(i).getContent().get(j).getAccountId() + &quot;:&quot; + content.getSections().get(i).getContent().get(j).getId());\r\n                              } else {\r\n                                   sb.append(&quot;,&quot; + content.getSections().get(i).getContent().get(j).getAccountId() + &quot;:&quot; + content.getSections().get(i).getContent().get(j).getId());\r\n                              }\r\n                         }\r\n                    }\r\n                    getMoreContent(sb.toString());\r\n                }\r\n\r\n                @Override\r\n                public void onError(@NonNull Throwable e) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onComplete() {\r\n\r\n                }\r\n            }));\r\n}\r\n```","title":"Java loop through nested JSON object","body":"<p>The problem with your code is that in your for-loops, you are using the same index i for both section and content (i.e. <code>content.getContent().getSections().get(i).getContent().get(i).getAccountId()</code>).</p>\n<p>This means that for each section 1, you will only grab the first content object, for section 2 you will only grab the 2nd content object, and for section 3 you will only grab the 3rd content object.</p>\n<p>You could also build the String directly, instead of building a list and then joining the entries.</p>\n<p>You could try something like this:</p>\n<pre><code>public void getSections() {\n    disposables.add(repository.getContent()\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribeWith(new DisposableObserver&lt;Content&gt;() {\n                @Override\n                public void onNext(@NonNull Content content) {\n\n                    StringBuffer sb = new StringBuffer();\n\n                    for(int i = 0; i &lt; content.getSections().size(); i++) {\n                         for(int j = 0; j &lt; content.getSections().get(i).getContent().size(); j++) {\n                              if(sb.length() == 0) {\n                                   sb.append(content.getSections().get(i).getContent().get(j).getAccountId() + &quot;:&quot; + content.getSections().get(i).getContent().get(j).getId());\n                              } else {\n                                   sb.append(&quot;,&quot; + content.getSections().get(i).getContent().get(j).getAccountId() + &quot;:&quot; + content.getSections().get(i).getContent().get(j).getId());\n                              }\n                         }\n                    }\n                    getMoreContent(sb.toString());\n                }\n\n                @Override\n                public void onError(@NonNull Throwable e) {\n\n                }\n\n                @Override\n                public void onComplete() {\n\n                }\n            }));\n}\n</code></pre>\n"}],"owner":{"account_id":14450096,"reputation":45,"user_id":10437913,"display_name":"KoolKeith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682401631,"creation_date":1682344691,"question_id":76092702,"body_markdown":"I have a JSON object that I need to loop through to get all of the account_id&#39;s and id&#39;s if they exist together in the same child object and add them to one array list. \r\n```json\r\n{\r\n    &quot;content&quot;: {\r\n        &quot;sections&quot;: [\r\n            {\r\n                &quot;type&quot;: &quot;one&quot;,\r\n                &quot;content&quot;: [\r\n                    {\r\n                        &quot;id&quot;: &quot;3412434&quot;\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                &quot;type&quot;: &quot;two&quot;,\r\n                &quot;title&quot;: &quot;Second Section&quot;,\r\n                &quot;content&quot;: [\r\n                    {\r\n                        &quot;id&quot;: &quot;7654&quot;\r\n                    },\r\n                    {\r\n                        &quot;account_id&quot;: &quot;1234&quot;,\r\n                        &quot;id&quot;: &quot;123456&quot;\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                &quot;type&quot;: &quot;three&quot;,\r\n                &quot;title&quot;: &quot;Third Section&quot;,\r\n                &quot;content&quot;: [\r\n                    {\r\n                        &quot;account_id&quot;: &quot;5678&quot;,\r\n                        &quot;id&quot;: &quot;654321&quot;\r\n                    },\r\n                    {\r\n                        &quot;account_id&quot;: &quot;5465763&quot;,\r\n                        &quot;id&quot;: &quot;0864352342434&quot;\r\n                    },\r\n                    {\r\n                        &quot;account_id&quot;: &quot;856864745&quot;,\r\n                        &quot;id&quot;: &quot;97867562542&quot;\r\n                    },\r\n                    {\r\n                        &quot;account_id&quot;: &quot;43214545&quot;,\r\n                        &quot;id&quot;: &quot;86474653634&quot;\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    }\r\n}\r\n```\r\n\r\nThis JSON object is dynamic, so I wanted to loop through the entire sections array list to see if the account_id, id combo exist, but I&#39;m having trouble drilling down through the nesting. This is what I am currently doing. This is my RxJava method. I know it&#39;s incorrect and is only grabbing the first account_id, id combo for each section object:\r\n\r\n```java\r\npublic void getSections() {\r\n    disposables.add(repository.getContent()\r\n            .subscribeOn(Schedulers.io())\r\n            .observeOn(AndroidSchedulers.mainThread())\r\n            .subscribeWith(new DisposableObserver&lt;Content&gt;() {\r\n                @Override\r\n                public void onNext(@NonNull Content content) {\r\n\r\n                    List&lt;String&gt; idList = new ArrayList&lt;&gt;();\r\n                    List&lt;String&gt; idStringList = new ArrayList&lt;&gt;();\r\n\r\n                    for(int i = 0; i &lt; content.getContent().getSections().size(); i++){\r\n                        if(content.getContent().getSections().get(i).getType().equals(&quot;two&quot;)){\r\n                            idList.add(content.getContent().getSections().get(i).getContent().get(i).getAccountId() + &quot;:&quot; + content.getContent().getSections().get(i).getContent().get(i).getId());\r\n                        }\r\n                    }\r\n                    for(int i = 0; i &lt; content.getContent().getSections().size(); i++){\r\n                        if(content.getContent().getSections().get(i).getType().equals(&quot;three&quot;)){\r\n                            idList.add(content.getContent().getSections().get(i).getContent().get(i).getAccountId() + &quot;:&quot; + content.getContent().getSections().get(i).getContent().get(i).getId());\r\n                        }\r\n                    }\r\n\r\n                    sectionsIdsString = String.join(&quot;,&quot;, idList);\r\n                    getMoreContent(sectionsIdsString);\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onError(@NonNull Throwable e) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onComplete() {\r\n\r\n                }\r\n            }));\r\n}\r\n```\r\n\r\nHow can I loop through this object to get all of the account_id&#39;s, id&#39;s?","title":"Java loop through nested JSON object","body":"<p>I have a JSON object that I need to loop through to get all of the account_id's and id's if they exist together in the same child object and add them to one array list.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;content&quot;: {\n        &quot;sections&quot;: [\n            {\n                &quot;type&quot;: &quot;one&quot;,\n                &quot;content&quot;: [\n                    {\n                        &quot;id&quot;: &quot;3412434&quot;\n                    }\n                ]\n            },\n            {\n                &quot;type&quot;: &quot;two&quot;,\n                &quot;title&quot;: &quot;Second Section&quot;,\n                &quot;content&quot;: [\n                    {\n                        &quot;id&quot;: &quot;7654&quot;\n                    },\n                    {\n                        &quot;account_id&quot;: &quot;1234&quot;,\n                        &quot;id&quot;: &quot;123456&quot;\n                    }\n                ]\n            },\n            {\n                &quot;type&quot;: &quot;three&quot;,\n                &quot;title&quot;: &quot;Third Section&quot;,\n                &quot;content&quot;: [\n                    {\n                        &quot;account_id&quot;: &quot;5678&quot;,\n                        &quot;id&quot;: &quot;654321&quot;\n                    },\n                    {\n                        &quot;account_id&quot;: &quot;5465763&quot;,\n                        &quot;id&quot;: &quot;0864352342434&quot;\n                    },\n                    {\n                        &quot;account_id&quot;: &quot;856864745&quot;,\n                        &quot;id&quot;: &quot;97867562542&quot;\n                    },\n                    {\n                        &quot;account_id&quot;: &quot;43214545&quot;,\n                        &quot;id&quot;: &quot;86474653634&quot;\n                    }\n                ]\n            }\n        ]\n    }\n}\n</code></pre>\n<p>This JSON object is dynamic, so I wanted to loop through the entire sections array list to see if the account_id, id combo exist, but I'm having trouble drilling down through the nesting. This is what I am currently doing. This is my RxJava method. I know it's incorrect and is only grabbing the first account_id, id combo for each section object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void getSections() {\n    disposables.add(repository.getContent()\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribeWith(new DisposableObserver&lt;Content&gt;() {\n                @Override\n                public void onNext(@NonNull Content content) {\n\n                    List&lt;String&gt; idList = new ArrayList&lt;&gt;();\n                    List&lt;String&gt; idStringList = new ArrayList&lt;&gt;();\n\n                    for(int i = 0; i &lt; content.getContent().getSections().size(); i++){\n                        if(content.getContent().getSections().get(i).getType().equals(&quot;two&quot;)){\n                            idList.add(content.getContent().getSections().get(i).getContent().get(i).getAccountId() + &quot;:&quot; + content.getContent().getSections().get(i).getContent().get(i).getId());\n                        }\n                    }\n                    for(int i = 0; i &lt; content.getContent().getSections().size(); i++){\n                        if(content.getContent().getSections().get(i).getType().equals(&quot;three&quot;)){\n                            idList.add(content.getContent().getSections().get(i).getContent().get(i).getAccountId() + &quot;:&quot; + content.getContent().getSections().get(i).getContent().get(i).getId());\n                        }\n                    }\n\n                    sectionsIdsString = String.join(&quot;,&quot;, idList);\n                    getMoreContent(sectionsIdsString);\n\n                }\n\n                @Override\n                public void onError(@NonNull Throwable e) {\n\n                }\n\n                @Override\n                public void onComplete() {\n\n                }\n            }));\n}\n</code></pre>\n<p>How can I loop through this object to get all of the account_id's, id's?</p>\n"},{"tags":["java","excel","image","maven","aspose-cells"],"owner":{"account_id":27770619,"reputation":1,"user_id":21200948,"display_name":"Sharvari Mittal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682400633,"creation_date":1682400633,"question_id":76097878,"body_markdown":"I want to convert a few cells (which have made to appear as a chart but are not a chart) to an image using Maven in Java. I have written the below code - \r\n```\r\npublic void celltoImage(String sheetname, int firstrow, int firstcol, int totalrow, int totalcol) throws Exception\r\n    {\r\n    \tWorkbook wb = new Workbook (File1).\r\n        Worksheet sheet = wb.getWorksheets(). get(sheetname).\r\n        //Cells cell = sheet.getCells();\r\n        Range range = sheet.getCells().createRange(firstrow,firstcol,totalrow,totalcol);\r\n        ImageOrPrintOptions options = new ImageOrPrintOptions();\r\n        options.setPrintingPage(PrintingPageType.IGNORE_BLANK);\r\n        options.setImageFormat(ImageFormat.getJpeg());\r\n        SheetRender sheetRender = new SheetRender(range.getWorksheet(), options);\r\n        String imgName=INPATH+sheetname+ &quot;.jpeg&quot;;\r\n        OutputStream outputStream = new FileOutputStream(imgName).\r\n        sheetRender.toImage(0, outputStream).\r\n    }\r\n```\r\n\r\n\r\nWhen I am running this, code with the statement - `celltoImage(&quot;Sheetname&quot;,8,4,3,8) `I am getting an image starting from 1st cell of the worksheet instead of the cell specified, I5.\r\nWhat am I doing wrong?","title":"Convert a bunch of cells to an image in Java using aspose.cells","body":"<p>I want to convert a few cells (which have made to appear as a chart but are not a chart) to an image using Maven in Java. I have written the below code -</p>\n<pre><code>public void celltoImage(String sheetname, int firstrow, int firstcol, int totalrow, int totalcol) throws Exception\n    {\n        Workbook wb = new Workbook (File1).\n        Worksheet sheet = wb.getWorksheets(). get(sheetname).\n        //Cells cell = sheet.getCells();\n        Range range = sheet.getCells().createRange(firstrow,firstcol,totalrow,totalcol);\n        ImageOrPrintOptions options = new ImageOrPrintOptions();\n        options.setPrintingPage(PrintingPageType.IGNORE_BLANK);\n        options.setImageFormat(ImageFormat.getJpeg());\n        SheetRender sheetRender = new SheetRender(range.getWorksheet(), options);\n        String imgName=INPATH+sheetname+ &quot;.jpeg&quot;;\n        OutputStream outputStream = new FileOutputStream(imgName).\n        sheetRender.toImage(0, outputStream).\n    }\n</code></pre>\n<p>When I am running this, code with the statement - <code>celltoImage(&quot;Sheetname&quot;,8,4,3,8) </code>I am getting an image starting from 1st cell of the worksheet instead of the cell specified, I5.\nWhat am I doing wrong?</p>\n"},{"tags":["java","spring-boot","spring-restcontroller","exceptionhandler","controller-advice"],"comments":[{"owner":{"account_id":2203408,"reputation":5012,"user_id":1947216,"display_name":"mentallurg"},"score":0,"creation_date":1567549247,"post_id":57779303,"comment_id":101993530,"body_markdown":"Show us the code of your MyRestController.","body":"Show us the code of your MyRestController."},{"owner":{"account_id":1687901,"reputation":1513,"user_id":1550811,"accept_rate":86,"display_name":"Learner"},"score":0,"creation_date":1567603198,"post_id":57779303,"comment_id":102011850,"body_markdown":"@mentallurg I have added the Controller code in the question, pls take a look.","body":"@mentallurg I have added the Controller code in the question, pls take a look."},{"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"score":0,"creation_date":1567706807,"post_id":57779303,"comment_id":102053123,"body_markdown":"&#39;Instead I am getting Unexpected &#39;e&#39; as the&#39; - do this appear in the console in a stack trace? If so, please, paste that stack trace in the question as well","body":"&#39;Instead I am getting Unexpected &#39;e&#39; as the&#39; - do this appear in the console in a stack trace? If so, please, paste that stack trace in the question as well"},{"owner":{"account_id":1687901,"reputation":1513,"user_id":1550811,"accept_rate":86,"display_name":"Learner"},"score":0,"creation_date":1567713892,"post_id":57779303,"comment_id":102055960,"body_markdown":"I get `Unexpected &#39;e&#39;` in the response body with HTTP code 400. There is no exception trace in the Console","body":"I get <code>Unexpected &#39;e&#39;</code> in the response body with HTTP code 400. There is no exception trace in the Console"},{"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"score":0,"creation_date":1567816326,"post_id":57779303,"comment_id":102089517,"body_markdown":"So what would you expect instead? Seems like your error handler is working fine. &quot;Unexpected &#39;e&#39; &quot; is the exception message coming from your service, it is returned with http400 instead of http500 for unhandled exceptions.","body":"So what would you expect instead? Seems like your error handler is working fine. &quot;Unexpected &#39;e&#39; &quot; is the exception message coming from your service, it is returned with http400 instead of http500 for unhandled exceptions."},{"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"score":0,"creation_date":1567909339,"post_id":57779303,"comment_id":102105546,"body_markdown":"If you don&#39;t see an error log, maybe your logging configuration is wrong.","body":"If you don&#39;t see an error log, maybe your logging configuration is wrong."},{"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"score":0,"creation_date":1567909487,"post_id":57779303,"comment_id":102105569,"body_markdown":"also you should show the URL you use when you get the error, and possibly the parts of your main application config where you include both the controller and the ControllerAdvice","body":"also you should show the URL you use when you get the error, and possibly the parts of your main application config where you include both the controller and the ControllerAdvice"},{"owner":{"account_id":93208,"reputation":6939,"user_id":255139,"accept_rate":44,"display_name":"Kalpesh Soni"},"score":0,"creation_date":1568053840,"post_id":57779303,"comment_id":102145037,"body_markdown":"what exception is code throwing and what does the stacktrace look like?","body":"what exception is code throwing and what does the stacktrace look like?"},{"owner":{"account_id":1687901,"reputation":1513,"user_id":1550811,"accept_rate":86,"display_name":"Learner"},"score":0,"creation_date":1568054499,"post_id":57779303,"comment_id":102145312,"body_markdown":"@KalpeshSoni I get Unexpected &#39;e&#39; in the response body with HTTP code 400. There is no exception trace in the Console.","body":"@KalpeshSoni I get Unexpected &#39;e&#39; in the response body with HTTP code 400. There is no exception trace in the Console."}],"answers":[{"tags":[],"owner":{"account_id":93208,"reputation":6939,"user_id":255139,"accept_rate":44,"display_name":"Kalpesh Soni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568053940,"creation_date":1568053940,"answer_id":57859464,"question_id":57779303,"body_markdown":"Make sure you have no other spring components that extend\r\n\r\n\r\n    AbstractErrorController","title":"@ControllerAdvice and @ExceptionHandler not getting triggered for my RestController","body":"<p>Make sure you have no other spring components that extend</p>\n\n<pre><code>AbstractErrorController\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6456834,"reputation":747,"user_id":5001937,"display_name":"Suraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568057024,"creation_date":1568054864,"answer_id":57859661,"question_id":57779303,"body_markdown":"Below controller advice should solve the problem. \r\n\r\n    @ControllerAdvice\r\n    public class RestExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n     @ExceptionHandler(value = {InvalidDataException.class})\r\n     protected ResponseEntity&lt;Object&gt; handleInvalidDataException(\r\n      RuntimeException ex, WebRequest request) {\r\n        return new ResponseEntity&lt;&gt;(getExceptionResponse(&quot;Failed with Invalid data&quot; + ex.getMessage(), HttpStatus.BAD_REQUEST.value()), HttpStatus.BAD_REQUEST);\r\n    }","title":"@ControllerAdvice and @ExceptionHandler not getting triggered for my RestController","body":"<p>Below controller advice should solve the problem. </p>\n\n<pre><code>@ControllerAdvice\npublic class RestExceptionHandler extends ResponseEntityExceptionHandler {\n\n @ExceptionHandler(value = {InvalidDataException.class})\n protected ResponseEntity&lt;Object&gt; handleInvalidDataException(\n  RuntimeException ex, WebRequest request) {\n    return new ResponseEntity&lt;&gt;(getExceptionResponse(\"Failed with Invalid data\" + ex.getMessage(), HttpStatus.BAD_REQUEST.value()), HttpStatus.BAD_REQUEST);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1568056457,"creation_date":1568056156,"answer_id":57859900,"question_id":57779303,"body_markdown":"It should work. Some possible causes that make it fails may be :\r\n\r\n 1. The `RestExceptionHandler` is not declared as a spring bean yet ?  `@SpringBootApplication` by default will only scan the spring beans to register under its package and all of its sub-packages. \r\n\r\n 2. The controller is actually not throwing `InvalidDataException` but other exception ?\r\n\r\nAnyway I suggest you to make the following changes to check if `RestExceptionHandler` is get called .\r\n\r\nIn your spring boot main application class , explicitly register `RestExceptionHandler` as a spring bean using `@Import`\r\n\r\n``` lang-java\r\n@SpringBootApplication\r\n@Import(RestExceptionHandler.class)\r\npublic class Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t}\r\n}\r\n```\r\n\r\nAlso in the `RestExceptionHandler` , also include a method to catch the most generic Exception :\r\n\r\n``` lang-java\r\n@ControllerAdvice\r\npublic class RestExceptionHandler {\r\n\t\r\n\t@ExceptionHandler(Exception.class)\r\n    @ResponseStatus(value = HttpStatus.BAD_REQUEST)\r\n\tpublic ErrorResponse handleGenericException(final Exception ex ,final WebRequest request) {\r\n    \tSystem.out.println(&quot;handleGenericException ....&quot;);\r\n        return getExceptionResponse(&quot;Failed with Invalid data&quot; + ex.getMessage(), HttpStatus.BAD_REQUEST.value());\r\n\t}\r\n}\r\n```\r\nPlease let me know if the `RestExceptionHandler ` will get called after making these changes.","title":"@ControllerAdvice and @ExceptionHandler not getting triggered for my RestController","body":"<p>It should work. Some possible causes that make it fails may be :</p>\n\n<ol>\n<li><p>The <code>RestExceptionHandler</code> is not declared as a spring bean yet ?  <code>@SpringBootApplication</code> by default will only scan the spring beans to register under its package and all of its sub-packages. </p></li>\n<li><p>The controller is actually not throwing <code>InvalidDataException</code> but other exception ?</p></li>\n</ol>\n\n<p>Anyway I suggest you to make the following changes to check if <code>RestExceptionHandler</code> is get called .</p>\n\n<p>In your spring boot main application class , explicitly register <code>RestExceptionHandler</code> as a spring bean using <code>@Import</code></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@Import(RestExceptionHandler.class)\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n\n<p>Also in the <code>RestExceptionHandler</code> , also include a method to catch the most generic Exception :</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@ControllerAdvice\npublic class RestExceptionHandler {\n\n    @ExceptionHandler(Exception.class)\n    @ResponseStatus(value = HttpStatus.BAD_REQUEST)\n    public ErrorResponse handleGenericException(final Exception ex ,final WebRequest request) {\n        System.out.println(\"handleGenericException ....\");\n        return getExceptionResponse(\"Failed with Invalid data\" + ex.getMessage(), HttpStatus.BAD_REQUEST.value());\n    }\n}\n</code></pre>\n\n<p>Please let me know if the <code>RestExceptionHandler</code> will get called after making these changes.</p>\n"},{"tags":[],"owner":{"account_id":17659919,"reputation":608,"user_id":12818585,"display_name":"Andrea Ciccotta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629292915,"creation_date":1629292915,"answer_id":68833260,"question_id":57779303,"body_markdown":"replace `@ControllerAdvice` with `@RestControllerAdvice`","title":"@ControllerAdvice and @ExceptionHandler not getting triggered for my RestController","body":"<p>replace <code>@ControllerAdvice</code> with <code>@RestControllerAdvice</code></p>\n"},{"tags":[],"owner":{"account_id":23730809,"reputation":11,"user_id":17750090,"display_name":"prabhat suyal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682399297,"creation_date":1682399297,"answer_id":76097783,"question_id":57779303,"body_markdown":"below code was enough for me to make the Adviser class workable in the Controller class\r\n\r\n    @SpringBootApplication\r\n    @Import(RestExceptionHandler.class)\r\n    public class Application {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }","title":"@ControllerAdvice and @ExceptionHandler not getting triggered for my RestController","body":"<p>below code was enough for me to make the Adviser class workable in the Controller class</p>\n<pre><code>@SpringBootApplication\n@Import(RestExceptionHandler.class)\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1687901,"reputation":1513,"user_id":1550811,"accept_rate":86,"display_name":"Learner"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21159,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":57859900,"answer_count":5,"score":9,"last_activity_date":1682399297,"creation_date":1567548633,"question_id":57779303,"body_markdown":"In order to have unified exception handling throughout the application I am using [Error Handling for REST with Spring][1] solution#3 which uses `@ControllerAdvice` along with `@ExceptionHandler`.\r\n\r\nSpring version: 4.3.22.RELEASE\r\n\r\nSpring Boot version: 1.5.19.RELEASE\r\n\r\nThis is a Spring boot application and following is my package structure.\r\n\r\n    src/main/java\r\n      com.test.app.controller\r\n         MyRestController.java       -- This is my Rest controller\r\n      com.test.app.handler\r\n         RestExceptionHandler.java   -- This is my ControllerAdvice class\r\n        \r\nFollowing is my ControllerAdvice code and one of the Controller throws `InvalidDataException` but still the corresponding `@ExceptionHandler` is not called. Instead I am getting `Unexpected &#39;e&#39;` as the response body with *http 400*.\r\n\r\n\r\n    @ControllerAdvice\r\n    public class RestExceptionHandler {\r\n    \r\n        @ExceptionHandler(InvalidDataException.class)\r\n        @ResponseStatus(value = HttpStatus.BAD_REQUEST)\r\n        public @ResponseBody ErrorResponse handleValidationError(final InvalidDataException ex,\r\n                                                                 final WebRequest request) {\r\n            log.error(&quot;InvalidDataException message:{} &quot;, ex.getMessage());\r\n            return getExceptionResponse(&quot;Failed with Invalid data&quot; + ex.getMessage(), HttpStatus.BAD_REQUEST.value());\r\n        }\r\n    \r\n    \r\n        private ErrorResponse getExceptionResponse(final String message, final Integer errorCode) {\r\n            final ErrorResponse exceptionResponse = new ErrorResponse();\r\n            exceptionResponse.setErrorCode(errorCode.toString());\r\n            exceptionResponse.setErrorDescription(message);\r\n            log.error(&quot;message:{}&quot;, exceptionResponse);\r\n            return exceptionResponse;\r\n        }\r\n    }\r\n\r\nI looked at other post on SO as well as other forums where they mentioned to use `@EnableWebMvc` and `@ComponentScan` etc. but nothing helped. Could someone please help me understand what am I missing?\r\n\r\nFollowing is my `Controller` and corresponding interface.\r\n\r\n    @RestController\r\n    public class MyRestController implements MyApi {\r\n    \r\n        @Override\r\n        public ResponseEntity&lt;List&lt;MyResponse&gt;&gt; myGet(@RequestHeader(value = &quot;a&quot;) String a,\r\n                                                                   @RequestHeader(value = &quot;b&quot;) String b,\r\n                                                                   @RequestHeader(value = &quot;c&quot;) String c,\r\n                                                                   @RequestHeader(value = &quot;d&quot;) String d,\r\n                                                                   @RequestHeader(value = &quot;e&quot;) String e,\r\n                                                                   @RequestHeader(value = &quot;f&quot;) String f,\r\n                                                                   @RequestHeader(value = &quot;g&quot;) String g) {\r\n    \r\n          List&lt;MyResponse&gt; responses = service.getData(c, d, e, f); // This throws exception\r\n          return new ResponseEntity&lt;&gt;(responses, HttpStatus.OK);\r\n        }\r\n    }\r\n\r\n\r\n    @Validated\r\n    @Api(value = &quot;My&quot;, description = &quot;the My API&quot;)\r\n    //This is generated interface through swagger codegen\r\n    public interface MyApi {\r\n    \r\n        @ApiOperation(value = &quot;&quot;, nickname = &quot;myGet&quot;, notes = &quot;&quot;, response = MyResponse.class, responseContainer = &quot;List&quot;)\r\n        @ApiResponses(value = {\r\n            @ApiResponse(code = 200, message = &quot;normal response&quot;, response = MyResponse.class, responseContainer = &quot;List&quot;),\r\n            @ApiResponse(code = 400, message = &quot;Request is invalid&quot;, response = ErrorResponse.class),\r\n            @ApiResponse(code = 401, message = &quot;&quot;, response = ErrorResponse.class),\r\n            @ApiResponse(code = 404, message = &quot;&quot;, response = ErrorResponse.class),\r\n            @ApiResponse(code = 405, message = &quot;&quot;, response = ErrorResponse.class),\r\n            @ApiResponse(code = 409, message = &quot;&quot;, response = ErrorResponse.class),\r\n            @ApiResponse(code = 500, message = &quot;Internal Server Error&quot;, response = ErrorResponse.class),\r\n            @ApiResponse(code = 503, message = &quot;Service Unavailable&quot;, response = ErrorResponse.class) })\r\n        @RequestMapping(value = &quot;/v1/test&quot;,\r\n            produces = { &quot;application/json&quot; }, \r\n            method = RequestMethod.GET)\r\n        default ResponseEntity&lt;List&lt;MyResponse&gt;&gt; myGet(@ApiParam(value = &quot;a&quot; ,required=true) @RequestHeader(value=&quot;a&quot;, required=true) String a,\r\n                                                       @ApiParam(value = &quot;b&quot; ,required=true) @RequestHeader(value=&quot;b&quot;, required=true) String b,\r\n                                                       @ApiParam(value = &quot;c&quot; ,required=true) @RequestHeader(value=&quot;c&quot;, required=true) String c,\r\n                                                       @ApiParam(value = &quot;d&quot; ,required=true) @RequestHeader(value=&quot;d&quot;, required=true) String d,\r\n                                                       @ApiParam(value = &quot;e&quot; ,required=true) @RequestHeader(value=&quot;e&quot;, required=true) String e,\r\n                                                       @ApiParam(value = &quot;f&quot; ,required=true) @RequestHeader(value=&quot;f&quot;, required=true) String f,\r\n                                                       @ApiParam(value = &quot;g&quot; ,required=true) @RequestHeader(value=&quot;g&quot;, required=true) String g) {\r\n            getRequest().ifPresent(request -&gt; {\r\n                for (MediaType mediaType: MediaType.parseMediaTypes(request.getHeader(&quot;Accept&quot;))) {\r\n                    if (mediaType.isCompatibleWith(MediaType.valueOf(&quot;application/json&quot;))) {\r\n                        ApiUtil.setExampleResponse(request, &quot;application/json&quot;, &quot;{  \\&quot;aNum\\&quot; : 0,  \\&quot;cNum\\&quot; : \\&quot;cNum\\&quot;}&quot;);\r\n                        break;\r\n                    }\r\n                }\r\n            });\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\r\n        }\r\n    }\r\n\r\n\r\nFollowing is the code snippet from my `GlobalExceptionHandler`\r\n\r\n    class GlobalExceptionHandler extends ExceptionHandlerExceptionResolver implements HandlerExceptionResolver, Ordered, InitializingBean {\r\n        ...\r\n        @Override\r\n        protected ServletInvocableHandlerMethod getExceptionHandlerMethod(HandlerMethod handlerMethod, Exception exception) {\r\n            if (exception instanceof com.myframework.SystemException) {\r\n                return new ServletInvocableHandlerMethod(this, exceptionMethods.get(com.myframework.SystemException.class.getName()));\r\n            } else if (exception instanceof GenericApplicationException) {\r\n                return new ServletInvocableHandlerMethod(this, exceptionMethods.get(com.myframework.GenericApplicationException.class.getName()));\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n        ....\r\n    }\r\n\r\n  [1]: https://www.baeldung.com/exception-handling-for-rest-with-spring\r\n","title":"@ControllerAdvice and @ExceptionHandler not getting triggered for my RestController","body":"<p>In order to have unified exception handling throughout the application I am using <a href=\"https://www.baeldung.com/exception-handling-for-rest-with-spring\" rel=\"nofollow noreferrer\">Error Handling for REST with Spring</a> solution#3 which uses <code>@ControllerAdvice</code> along with <code>@ExceptionHandler</code>.</p>\n\n<p>Spring version: 4.3.22.RELEASE</p>\n\n<p>Spring Boot version: 1.5.19.RELEASE</p>\n\n<p>This is a Spring boot application and following is my package structure.</p>\n\n<pre><code>src/main/java\n  com.test.app.controller\n     MyRestController.java       -- This is my Rest controller\n  com.test.app.handler\n     RestExceptionHandler.java   -- This is my ControllerAdvice class\n</code></pre>\n\n<p>Following is my ControllerAdvice code and one of the Controller throws <code>InvalidDataException</code> but still the corresponding <code>@ExceptionHandler</code> is not called. Instead I am getting <code>Unexpected 'e'</code> as the response body with <em>http 400</em>.</p>\n\n<pre><code>@ControllerAdvice\npublic class RestExceptionHandler {\n\n    @ExceptionHandler(InvalidDataException.class)\n    @ResponseStatus(value = HttpStatus.BAD_REQUEST)\n    public @ResponseBody ErrorResponse handleValidationError(final InvalidDataException ex,\n                                                             final WebRequest request) {\n        log.error(\"InvalidDataException message:{} \", ex.getMessage());\n        return getExceptionResponse(\"Failed with Invalid data\" + ex.getMessage(), HttpStatus.BAD_REQUEST.value());\n    }\n\n\n    private ErrorResponse getExceptionResponse(final String message, final Integer errorCode) {\n        final ErrorResponse exceptionResponse = new ErrorResponse();\n        exceptionResponse.setErrorCode(errorCode.toString());\n        exceptionResponse.setErrorDescription(message);\n        log.error(\"message:{}\", exceptionResponse);\n        return exceptionResponse;\n    }\n}\n</code></pre>\n\n<p>I looked at other post on SO as well as other forums where they mentioned to use <code>@EnableWebMvc</code> and <code>@ComponentScan</code> etc. but nothing helped. Could someone please help me understand what am I missing?</p>\n\n<p>Following is my <code>Controller</code> and corresponding interface.</p>\n\n<pre><code>@RestController\npublic class MyRestController implements MyApi {\n\n    @Override\n    public ResponseEntity&lt;List&lt;MyResponse&gt;&gt; myGet(@RequestHeader(value = \"a\") String a,\n                                                               @RequestHeader(value = \"b\") String b,\n                                                               @RequestHeader(value = \"c\") String c,\n                                                               @RequestHeader(value = \"d\") String d,\n                                                               @RequestHeader(value = \"e\") String e,\n                                                               @RequestHeader(value = \"f\") String f,\n                                                               @RequestHeader(value = \"g\") String g) {\n\n      List&lt;MyResponse&gt; responses = service.getData(c, d, e, f); // This throws exception\n      return new ResponseEntity&lt;&gt;(responses, HttpStatus.OK);\n    }\n}\n\n\n@Validated\n@Api(value = \"My\", description = \"the My API\")\n//This is generated interface through swagger codegen\npublic interface MyApi {\n\n    @ApiOperation(value = \"\", nickname = \"myGet\", notes = \"\", response = MyResponse.class, responseContainer = \"List\")\n    @ApiResponses(value = {\n        @ApiResponse(code = 200, message = \"normal response\", response = MyResponse.class, responseContainer = \"List\"),\n        @ApiResponse(code = 400, message = \"Request is invalid\", response = ErrorResponse.class),\n        @ApiResponse(code = 401, message = \"\", response = ErrorResponse.class),\n        @ApiResponse(code = 404, message = \"\", response = ErrorResponse.class),\n        @ApiResponse(code = 405, message = \"\", response = ErrorResponse.class),\n        @ApiResponse(code = 409, message = \"\", response = ErrorResponse.class),\n        @ApiResponse(code = 500, message = \"Internal Server Error\", response = ErrorResponse.class),\n        @ApiResponse(code = 503, message = \"Service Unavailable\", response = ErrorResponse.class) })\n    @RequestMapping(value = \"/v1/test\",\n        produces = { \"application/json\" }, \n        method = RequestMethod.GET)\n    default ResponseEntity&lt;List&lt;MyResponse&gt;&gt; myGet(@ApiParam(value = \"a\" ,required=true) @RequestHeader(value=\"a\", required=true) String a,\n                                                   @ApiParam(value = \"b\" ,required=true) @RequestHeader(value=\"b\", required=true) String b,\n                                                   @ApiParam(value = \"c\" ,required=true) @RequestHeader(value=\"c\", required=true) String c,\n                                                   @ApiParam(value = \"d\" ,required=true) @RequestHeader(value=\"d\", required=true) String d,\n                                                   @ApiParam(value = \"e\" ,required=true) @RequestHeader(value=\"e\", required=true) String e,\n                                                   @ApiParam(value = \"f\" ,required=true) @RequestHeader(value=\"f\", required=true) String f,\n                                                   @ApiParam(value = \"g\" ,required=true) @RequestHeader(value=\"g\", required=true) String g) {\n        getRequest().ifPresent(request -&gt; {\n            for (MediaType mediaType: MediaType.parseMediaTypes(request.getHeader(\"Accept\"))) {\n                if (mediaType.isCompatibleWith(MediaType.valueOf(\"application/json\"))) {\n                    ApiUtil.setExampleResponse(request, \"application/json\", \"{  \\\"aNum\\\" : 0,  \\\"cNum\\\" : \\\"cNum\\\"}\");\n                    break;\n                }\n            }\n        });\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\n    }\n}\n</code></pre>\n\n<p>Following is the code snippet from my <code>GlobalExceptionHandler</code></p>\n\n<pre><code>class GlobalExceptionHandler extends ExceptionHandlerExceptionResolver implements HandlerExceptionResolver, Ordered, InitializingBean {\n    ...\n    @Override\n    protected ServletInvocableHandlerMethod getExceptionHandlerMethod(HandlerMethod handlerMethod, Exception exception) {\n        if (exception instanceof com.myframework.SystemException) {\n            return new ServletInvocableHandlerMethod(this, exceptionMethods.get(com.myframework.SystemException.class.getName()));\n        } else if (exception instanceof GenericApplicationException) {\n            return new ServletInvocableHandlerMethod(this, exceptionMethods.get(com.myframework.GenericApplicationException.class.getName()));\n        } else {\n            return null;\n        }\n    }\n    ....\n}\n</code></pre>\n"},{"tags":["java","android","android-viewpager"],"owner":{"account_id":28407462,"reputation":1,"user_id":21731281,"display_name":"Danny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682399255,"creation_date":1682399255,"question_id":76097777,"body_markdown":"I&#39;m currently making a java project for android and I have a ViewPager2 class, Inside one of it&#39;s fragments. I use the SortableTableView Library to make a sortable table. The dataclicked function worked just fine but the TableHeaderClickListener won&#39;t work. When clicked, it looks like the whole header was clicked and not the column. So the TableHeaderClickListener function didn&#39;t get called. \r\n\r\nBut when I changed ViewPager2 Into the old ViewPager it works completely fine, is there something I&#39;m missing in ViewPager2? ","title":"SortableTableView Header Cannot Be Clicked inside of ViewPager2&#39;s Fragment","body":"<p>I'm currently making a java project for android and I have a ViewPager2 class, Inside one of it's fragments. I use the SortableTableView Library to make a sortable table. The dataclicked function worked just fine but the TableHeaderClickListener won't work. When clicked, it looks like the whole header was clicked and not the column. So the TableHeaderClickListener function didn't get called.</p>\n<p>But when I changed ViewPager2 Into the old ViewPager it works completely fine, is there something I'm missing in ViewPager2?</p>\n"},{"tags":["java","json","web-services","cxf","jax-rs"],"comments":[{"owner":{"account_id":3142522,"reputation":1154,"user_id":2657714,"display_name":"user2657714"},"score":4,"creation_date":1375810685,"post_id":18086621,"comment_id":26473135,"body_markdown":"We had to change it to:\n`String output = response.readEntity(String.class);`\nTo make it work. Thanks a lot!","body":"We had to change it to: <code>String output = response.readEntity(String.class);</code> To make it work. Thanks a lot!"}],"answers":[{"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"down_vote_count":4,"up_vote_count":220,"is_accepted":true,"score":216,"last_activity_date":1589360445,"creation_date":1375810006,"answer_id":18086656,"question_id":18086621,"body_markdown":"\r\nTry this:\r\n\r\n\tString output = response.getEntity(String.class);\r\n\r\n**EDIT**\r\n\r\nThanks to [@Martin Spamer][1] to mention that it will work for Jersey 1.x jars only. For Jersey 2.x use \r\n\r\n    String output = response.readEntity(String.class);\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/15527/martin-spamer","title":"Read response body in JAX-RS client from a post request","body":"<p>Try this:</p>\n\n<pre><code>String output = response.getEntity(String.class);\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Thanks to <a href=\"https://stackoverflow.com/users/15527/martin-spamer\">@Martin Spamer</a> to mention that it will work for Jersey 1.x jars only. For Jersey 2.x use </p>\n\n<pre><code>String output = response.readEntity(String.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":537173,"reputation":2954,"user_id":905817,"accept_rate":64,"display_name":"col.panic"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1425031798,"creation_date":1425031798,"answer_id":28762475,"question_id":18086621,"body_markdown":"I just found a solution for jaxrs-ri-2.16 - simply use\r\n\r\n```String output = response.readEntity(String.class)\r\n```\r\n\r\nthis delivers the content as expected.\r\n","title":"Read response body in JAX-RS client from a post request","body":"<p>I just found a solution for jaxrs-ri-2.16 - simply use</p>\n\n<p><code>String output = response.readEntity(String.class)\n</code></p>\n\n<p>this delivers the content as expected.</p>\n"},{"tags":[],"owner":{"account_id":6236403,"reputation":10241,"user_id":4851565,"accept_rate":84,"display_name":"entpnerd"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1470432171,"creation_date":1470432171,"answer_id":38797942,"question_id":18086621,"body_markdown":"For my use case, none of the previous answers worked because I was writing a server-side unit test which was failing due the following error message as described in the [Unable to Mock Glassfish Jersey Client Response Object][1] question:\r\n\r\n    java.lang.IllegalStateException: Method not supported on an outbound message.\r\n\tat org.glassfish.jersey.message.internal.OutboundJaxrsResponse.readEntity(OutboundJaxrsResponse.java:145)\r\n\tat ...\r\n\r\nThis exception occurred on the following line of code:\r\n\r\n    String actJsonBody = actResponse.readEntity(String.class);\r\n\r\nThe fix was to turn the problem line of code into:\r\n\r\n    String actJsonBody = (String) actResponse.getEntity();\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19557672/unable-to-mock-glassfish-jersey-client-response-object","title":"Read response body in JAX-RS client from a post request","body":"<p>For my use case, none of the previous answers worked because I was writing a server-side unit test which was failing due the following error message as described in the <a href=\"https://stackoverflow.com/questions/19557672/unable-to-mock-glassfish-jersey-client-response-object\">Unable to Mock Glassfish Jersey Client Response Object</a> question:</p>\n\n<pre><code>java.lang.IllegalStateException: Method not supported on an outbound message.\nat org.glassfish.jersey.message.internal.OutboundJaxrsResponse.readEntity(OutboundJaxrsResponse.java:145)\nat ...\n</code></pre>\n\n<p>This exception occurred on the following line of code:</p>\n\n<pre><code>String actJsonBody = actResponse.readEntity(String.class);\n</code></pre>\n\n<p>The fix was to turn the problem line of code into:</p>\n\n<pre><code>String actJsonBody = (String) actResponse.getEntity();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2691138,"reputation":105,"user_id":2324477,"display_name":"Cheefachi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1508510452,"creation_date":1508510452,"answer_id":46851550,"question_id":18086621,"body_markdown":"I also had the same issue, trying to run a unit test calling code that uses ``readEntity``. Can&#39;t use ``getEntity`` in production code because that just returns a ``ByteInputStream`` and not the content of the body and there is no way I am adding production code that is hit only in unit tests. \r\n\r\nMy solution was to create a response and then use a Mockito spy to mock out the ``readEntity`` method:\r\n\r\n    Response error = Response.serverError().build();\r\n    Response mockResponse = spy(error);\r\n    doReturn(&quot;{jsonbody}&quot;).when(mockResponse).readEntity(String.class);\r\n\r\nNote that you can&#39;t use the ``when(mockResponse.readEntity(String.class)`` option because that throws the same ``IllegalStateException``.\r\n\r\nHope this helps!","title":"Read response body in JAX-RS client from a post request","body":"<p>I also had the same issue, trying to run a unit test calling code that uses <code>readEntity</code>. Can't use <code>getEntity</code> in production code because that just returns a <code>ByteInputStream</code> and not the content of the body and there is no way I am adding production code that is hit only in unit tests. </p>\n\n<p>My solution was to create a response and then use a Mockito spy to mock out the <code>readEntity</code> method:</p>\n\n<pre><code>Response error = Response.serverError().build();\nResponse mockResponse = spy(error);\ndoReturn(\"{jsonbody}\").when(mockResponse).readEntity(String.class);\n</code></pre>\n\n<p>Note that you can't use the <code>when(mockResponse.readEntity(String.class)</code> option because that throws the same <code>IllegalStateException</code>.</p>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":15651213,"reputation":1,"user_id":11292555,"display_name":"MonkeySoft Colombia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554130100,"creation_date":1554130100,"answer_id":55457901,"question_id":18086621,"body_markdown":"Acording with the documentation, the method getEntity in Jax rs 2.0 return a InputStream.\r\nIf you need to convert to InputStream to String with JSON format, you need to cast the two formats.\r\nFor example in my case, I implemented the next method:\r\n\r\n        private String processResponse(Response response) {\r\n    \tif (response.getEntity() != null) {\r\n    \t\ttry {\r\n    \t\t\tInputStream salida = (InputStream) response.getEntity();\r\n    \t\t\tStringWriter writer = new StringWriter();\r\n    \t\t\tIOUtils.copy(salida, writer, &quot;UTF-8&quot;);\r\n    \t\t\treturn writer.toString();\r\n    \t\t} catch (IOException ex) {\r\n    \t\t\tLOG.log(Level.SEVERE, null, ex);\r\n    \t\t}\r\n    \t}\r\n    \treturn null;\r\n    }\r\n\r\nwhy I implemented this method.\r\nBecause a read in differets blogs that many developers they have the same problem whit the version in jaxrs using the next methods\r\n\r\n    String output = response.readEntity(String.class)\r\nand\r\n\r\n    String output = response.getEntity(String.class)\r\n\r\nThe first works using jersey-client from  com.sun.jersey library and the second found using the jersey-client from org.glassfish.jersey.core.\r\n\r\nThis is the error that was being presented to me: \r\norg.glassfish.jersey.client.internal.HttpUrlConnector$2 cannot be cast to java.lang.String\r\n\r\nI use the following maven dependency:\r\n\r\n    &lt;dependency&gt;\r\n\t&lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.28&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\nWhat I do not know is why the readEntity method does not work.I hope you can use the solution.\r\n\r\nCarlos Cepeda\r\n\r\n","title":"Read response body in JAX-RS client from a post request","body":"<p>Acording with the documentation, the method getEntity in Jax rs 2.0 return a InputStream.\nIf you need to convert to InputStream to String with JSON format, you need to cast the two formats.\nFor example in my case, I implemented the next method:</p>\n\n<pre><code>    private String processResponse(Response response) {\n    if (response.getEntity() != null) {\n        try {\n            InputStream salida = (InputStream) response.getEntity();\n            StringWriter writer = new StringWriter();\n            IOUtils.copy(salida, writer, \"UTF-8\");\n            return writer.toString();\n        } catch (IOException ex) {\n            LOG.log(Level.SEVERE, null, ex);\n        }\n    }\n    return null;\n}\n</code></pre>\n\n<p>why I implemented this method.\nBecause a read in differets blogs that many developers they have the same problem whit the version in jaxrs using the next methods</p>\n\n<pre><code>String output = response.readEntity(String.class)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>String output = response.getEntity(String.class)\n</code></pre>\n\n<p>The first works using jersey-client from  com.sun.jersey library and the second found using the jersey-client from org.glassfish.jersey.core.</p>\n\n<p>This is the error that was being presented to me: \norg.glassfish.jersey.client.internal.HttpUrlConnector$2 cannot be cast to java.lang.String</p>\n\n<p>I use the following maven dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n&lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n&lt;version&gt;2.28&lt;/version&gt;\n</code></pre>\n\n<p></p>\n\n<p>What I do not know is why the readEntity method does not work.I hope you can use the solution.</p>\n\n<p>Carlos Cepeda</p>\n"},{"tags":[],"owner":{"account_id":15651213,"reputation":1,"user_id":11292555,"display_name":"MonkeySoft Colombia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554139881,"creation_date":1554139881,"answer_id":55460630,"question_id":18086621,"body_markdown":"Realizing the revision of the code I found the cause of why the reading method did not work for me. The problem was that one of the dependencies that my project used jersey 1.x.\r\nUpdate the version, adjust the client and it works.\r\n\r\nI use the following maven dependency:\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n    &lt;version&gt;2.28&lt;/version&gt;\r\n\r\nRegards\r\n\r\nCarlos Cepeda","title":"Read response body in JAX-RS client from a post request","body":"<p>Realizing the revision of the code I found the cause of why the reading method did not work for me. The problem was that one of the dependencies that my project used jersey 1.x.\nUpdate the version, adjust the client and it works.</p>\n\n<p>I use the following maven dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n&lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n&lt;version&gt;2.28&lt;/version&gt;\n</code></pre>\n\n<p>Regards</p>\n\n<p>Carlos Cepeda</p>\n"},{"tags":[],"owner":{"account_id":180298,"reputation":8192,"user_id":413529,"display_name":"James Roland"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682399098,"creation_date":1682399098,"answer_id":76097770,"question_id":18086621,"body_markdown":"### Kotlin\r\nThe same version of the answer using Kotlin\r\n\r\n~~~\r\n(response.entity as InputStream).bufferedReader().use { it.readText() }\r\n~~~","title":"Read response body in JAX-RS client from a post request","body":"<h3>Kotlin</h3>\n<p>The same version of the answer using Kotlin</p>\n<pre><code>(response.entity as InputStream).bufferedReader().use { it.readText() }\n</code></pre>\n"}],"owner":{"account_id":3142522,"reputation":1154,"user_id":2657714,"display_name":"user2657714"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189524,"favorite_count":0,"down_vote_count":1,"up_vote_count":100,"accepted_answer_id":18086656,"answer_count":7,"score":99,"last_activity_date":1682399098,"creation_date":1375809880,"question_id":18086621,"body_markdown":"Having some sort of proxy between a mobile app and a web-service, we are puzzled by the response when issuing a post request. We receive response with status 200: OK. But we can not find/extract the JSON response body.\r\n\r\n    \tClient client = ClientBuilder.newClient();\r\n\t\tWebTarget webTarget = client.target(WEBSERVICE_BASE_LOCATION + &quot;mobileDevices?operatorCode=KPNSCP&quot;);\r\n\t\tString jsonString = &quot;{\\&quot;osVersion\\&quot;:\\&quot;4.1\\&quot;,\\&quot;apiLevel\\&quot;:16,\\&quot;devicePlatform\\&quot;:\\&quot;ANDROID\\&quot;}&quot;;\r\n\t\tBuilder builder = webTarget.request();\r\n\t\tResponse response = builder.post(Entity.json(jsonString));\r\n\r\nWe are using JAX-RS. \r\nCan someone please provide some hints to extract the JSON body (`String`) from the server response?","title":"Read response body in JAX-RS client from a post request","body":"<p>Having some sort of proxy between a mobile app and a web-service, we are puzzled by the response when issuing a post request. We receive response with status 200: OK. But we can not find/extract the JSON response body.</p>\n\n<pre><code>    Client client = ClientBuilder.newClient();\n    WebTarget webTarget = client.target(WEBSERVICE_BASE_LOCATION + \"mobileDevices?operatorCode=KPNSCP\");\n    String jsonString = \"{\\\"osVersion\\\":\\\"4.1\\\",\\\"apiLevel\\\":16,\\\"devicePlatform\\\":\\\"ANDROID\\\"}\";\n    Builder builder = webTarget.request();\n    Response response = builder.post(Entity.json(jsonString));\n</code></pre>\n\n<p>We are using JAX-RS. \nCan someone please provide some hints to extract the JSON body (<code>String</code>) from the server response?</p>\n"},{"tags":["java","polymorphism"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1682280473,"post_id":76087013,"comment_id":134186613,"body_markdown":"Add `void browseInternet();` to `Phone`. Because you **can** *browse internet* on both types of phone. If you&#39;re concerned about non-Internet phones then add another intermediate interface called `SmartPhone` that has `void browseInternet()`.","body":"Add <code>void browseInternet();</code> to <code>Phone</code>. Because you <b>can</b> <i>browse internet</i> on both types of phone. If you&#39;re concerned about non-Internet phones then add another intermediate interface called <code>SmartPhone</code> that has <code>void browseInternet()</code>."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1682281275,"post_id":76087013,"comment_id":134186699,"body_markdown":"Side note while I&#39;m reading: get rid of the `String name` in the `interface`, use something like `String getName();` instead (which can then be overridden by subclasses appropriately).","body":"Side note while I&#39;m reading: get rid of the <code>String name</code> in the <code>interface</code>, use something like <code>String getName();</code> instead (which can then be overridden by subclasses appropriately)."},{"owner":{"account_id":6834560,"reputation":61,"user_id":5257084,"display_name":"Sam Rae"},"score":0,"creation_date":1682281352,"post_id":76087013,"comment_id":134186709,"body_markdown":"Thanks for the suggestion @ElliotFrisch. I should have made it clearer that I want to model that difference. An instance of Nokia should not have &#39;browseInternet&quot; but Samsung should. So the requirement is that getPhone should be able to return objects of different types, all of which extend Phone, but I want some of them to have their own specific properties/methods","body":"Thanks for the suggestion @ElliotFrisch. I should have made it clearer that I want to model that difference. An instance of Nokia should not have &#39;browseInternet&quot; but Samsung should. So the requirement is that getPhone should be able to return objects of different types, all of which extend Phone, but I want some of them to have their own specific properties/methods"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1682281509,"post_id":76087013,"comment_id":134186723,"body_markdown":"As far as a suggestion for making this compiler-aware, you could have a `&lt;T extends Phone&gt; T getPhone(Class&lt;T&gt; clazz) {...}`, allowing you to use it as `Samsung phone = shop.getPhone(Samsung.class);` (and perhaps `#getNewPhone` is a better name). From there you can use any number of construction rules/patterns to determine the internal logic","body":"As far as a suggestion for making this compiler-aware, you could have a <code>&lt;T extends Phone&gt; T getPhone(Class&lt;T&gt; clazz) {...}</code>, allowing you to use it as <code>Samsung phone = shop.getPhone(Samsung.class);</code> (and perhaps <code>#getNewPhone</code> is a better name). From there you can use any number of construction rules/patterns to determine the internal logic"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1682297355,"post_id":76087013,"comment_id":134188273,"body_markdown":"Why use a `String` at all? What *type* should the method return if it was called with a string not known at compile time? How would `getPhone(new Random().nextBoolean() ? &quot;Nokia&quot; : &quot;Samsung&quot;)` work? That cannot be assigned to either `Nokia` or `Samsung`. How about taking a `Class` instead?","body":"Why use a <code>String</code> at all? What <i>type</i> should the method return if it was called with a string not known at compile time? How would <code>getPhone(new Random().nextBoolean() ? &quot;Nokia&quot; : &quot;Samsung&quot;)</code> work? That cannot be assigned to either <code>Nokia</code> or <code>Samsung</code>. How about taking a <code>Class</code> instead?"}],"answers":[{"tags":[],"owner":{"account_id":6440378,"reputation":184,"user_id":4990575,"display_name":"Kurojin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682284992,"creation_date":1682284992,"answer_id":76087335,"question_id":76087013,"body_markdown":"You have defined Phone as something that cannot browse the internet, hence, when you manipulate your objects as Phones, you cannot browse the internet.\r\n\r\nPolymorphism will allow you to manipulate Samsung and Nokia objects as Phones for the sake of abstraction, if you want to use their behaviors as concrete implementation, you have to explicitly do so (Java is a strongly typed language).\r\n\r\nNow if you want to avoid casts because of reliability (rightfully), another way is to test that a Phone is in fact a Samsung phone before calling a Samsung behavior : \r\n\r\n    if (samsung instanceof Samsung concreteSamsungPhone) {\r\n            concreteSamsungPhone.browseInternet();\r\n        }\r\n\r\nthis test will automatically use pattern matching to map your Phone to the concrete implementation of a Samsung if it is actually a Samsung (this feature is only available in recent versions of java though).\r\n\r\nbtw you are intuitively using a Factory Pattern :)","title":"Polymorphism: How to make the compiler aware of the returned implementation of method which return type is an interface?","body":"<p>You have defined Phone as something that cannot browse the internet, hence, when you manipulate your objects as Phones, you cannot browse the internet.</p>\n<p>Polymorphism will allow you to manipulate Samsung and Nokia objects as Phones for the sake of abstraction, if you want to use their behaviors as concrete implementation, you have to explicitly do so (Java is a strongly typed language).</p>\n<p>Now if you want to avoid casts because of reliability (rightfully), another way is to test that a Phone is in fact a Samsung phone before calling a Samsung behavior :</p>\n<pre><code>if (samsung instanceof Samsung concreteSamsungPhone) {\n        concreteSamsungPhone.browseInternet();\n    }\n</code></pre>\n<p>this test will automatically use pattern matching to map your Phone to the concrete implementation of a Samsung if it is actually a Samsung (this feature is only available in recent versions of java though).</p>\n<p>btw you are intuitively using a Factory Pattern :)</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682287822,"creation_date":1682287434,"answer_id":76087484,"question_id":76087013,"body_markdown":"If you need a single abstract type, create an interface with `browseInternet` that extends `Phone`:\r\n\r\n    interface InternetPhone extends Phone {\r\n        void browseInternet();\r\n    }\r\n\r\nThat the Samsung would implement and check the type at the usage point:\r\n\r\n    if (phone instanceof InternetPhone browser) {\r\n        browser.browseInternet();\r\n    }\r\n\r\n---\r\n\r\nIf you can separate the abstractions, which is cleaner, don&#39;t extend `Phone`:\r\n\r\n    interface Browser {\r\n        void browseInternet();\r\n    }\r\n\r\nAnd have Samsung extend both:\r\n\r\n    class Samsung implements Phone, Browser {\r\n\r\nThe usage code would be the same.\r\n\r\n---\r\n\r\nAn aside: If you want `getName()` to return the name of the class (like all of your examples do), you can implement that in the interface definition using the `default` keyword:\r\n\r\n```\r\npublic interface Phone {\r\n    default String getName() {\r\n        return getClass().getSimpleName();\r\n    }\r\n    void call();\r\n}\r\n```\r\n\r\n","title":"Polymorphism: How to make the compiler aware of the returned implementation of method which return type is an interface?","body":"<p>If you need a single abstract type, create an interface with <code>browseInternet</code> that extends <code>Phone</code>:</p>\n<pre><code>interface InternetPhone extends Phone {\n    void browseInternet();\n}\n</code></pre>\n<p>That the Samsung would implement and check the type at the usage point:</p>\n<pre><code>if (phone instanceof InternetPhone browser) {\n    browser.browseInternet();\n}\n</code></pre>\n<hr />\n<p>If you can separate the abstractions, which is cleaner, don't extend <code>Phone</code>:</p>\n<pre><code>interface Browser {\n    void browseInternet();\n}\n</code></pre>\n<p>And have Samsung extend both:</p>\n<pre><code>class Samsung implements Phone, Browser {\n</code></pre>\n<p>The usage code would be the same.</p>\n<hr />\n<p>An aside: If you want <code>getName()</code> to return the name of the class (like all of your examples do), you can implement that in the interface definition using the <code>default</code> keyword:</p>\n<pre><code>public interface Phone {\n    default String getName() {\n        return getClass().getSimpleName();\n    }\n    void call();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23766356,"reputation":51,"user_id":17781072,"display_name":"Alexandre Rocha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682299420,"creation_date":1682289435,"answer_id":76087604,"question_id":76087013,"body_markdown":"P.S.: Before continue reading this answer, consider reading [this comment from Rogue][1] to see if his approach doesn&#39;t meet your needs.\r\n\r\n----\r\n\r\nIf I was able to understand your situation, you want to leverage Java’s polymorphism. However, I don’t understand why you have created classes for each phone manufacturer, since your hole point is that you have two different types of phone, and what differentiates them is the name of each model/manufacturer.\r\n\r\nOf course, your real situation may be different, and you may have missed something when building your example. Because of this, I’ll propose you two different approaches, among several you can take advantage of, both leveraging inheritance and polymorphism.\r\n\r\n### Approach 1:\r\n\r\nInstead of create a different class for each different manufacturer, since all that matters is the phone type, why doesn’t you create two classes: `Phone` and `Smartphone`, where phones can only make calls and smartphones can either make calls and browse internet? In this design, `Smartphone` inherit from `Phone`, since a `Smartphone` **IS A** `Phone`:\r\n\r\n```java\r\npublic class Phone {\r\n    private String name;\r\n\r\n    protected Phone(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void call() {\r\n        System.out.println(&quot;Calling from my &quot; + getName());\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class Smartphone extends Phone {\r\n\r\n    public Smartphone(String name) {\r\n        super(name);\r\n    }\r\n\r\n    public void browsingInternet() {\r\n        System.out.println(&quot;Browsing internet with my &quot; + getName());\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class PhoneShop {\r\n\r\n    public PhoneShop() {\r\n    }\r\n\r\n    public Phone getPhone(String phoneName) {\r\n        return new Phone(phoneName);\r\n    }\r\n\r\n    public Smartphone getSmartphone(String smartphoneName) {\r\n        return new Smartphone(smartphoneName);\r\n    }\r\n}\r\n```\r\n\r\n### Approach 2:\r\n\r\nIf the phone manufacturers or models matter, then the phone types, i.e., whether they’re simple phones or smartphones, can be abstract classes that will be inherited by the phone models. To simplify, I’ll assume that “Nokia” and “Samsung”, although manufacturers, are like phone models.\r\n\r\n```java\r\npublic abstract class Phone {\r\n    private String name;\r\n\r\n    protected Phone(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void call() {\r\n        System.out.println(&quot;Calling from my &quot; + getName());\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic abstract class Smartphone extends Phone {\r\n\r\n    protected SmartPhone(String name) {\r\n        super(name);\r\n    }\r\n\r\n    public void browsingInternet() {\r\n        System.out.println(&quot;Browsing internet with my &quot; + super.getName());\r\n    }\r\n}\r\n```\r\n\r\nNote that `Smartphone` inherits the functionalities of `Phone`, which is the one and only `call()` method in this situation. This way, your phones model or manufacturer classes will be very simple and your code easy to maintain:\r\n\r\n```java\r\npublic class Samsung extends Smartphone {\r\n\r\n    public Samsung(String name) {\r\n        super(name);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class Nokia extends Phone {\r\n\r\n    public Nokia(String name) {\r\n        super(name);\r\n    }\r\n}\r\n```\r\n\r\nIn this situation, you may want to reduce the possibility of mistakes by wrongly typing the manufacturer’s name. You can do it by creating a very simple `Enum` class, that would be used as argument for your factory methods.\r\n\r\n```java\r\npublic enum PhoneManufacturer {\r\n    SAMSUNG,\r\n    NOKIA\r\n}\r\n```\r\n\r\n```java\r\npublic class PhoneShop {\r\n\r\n    public PhoneShop() {\r\n    }\r\n\r\n    // Factory method\r\n    public Phone getDevice(PhoneManufacturer manufacturer) {\r\n        switch (manufacturer) {\r\n            case NOKIA -&gt; {\r\n                return new Nokia(manufacturer.name().charAt(0) + manufacturer.name().substring(1).toLowerCase());\r\n            }\r\n            case SAMSUNG -&gt; {\r\n                return new Samsung(manufacturer.name().charAt(0) + manufacturer.name().substring(1).toLowerCase());\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nThen, whenever you want a `Phone` or `Smartphone`, you can simply do the following:\r\n\r\n```java\r\nPhoneShop phoneShop = new PhoneShop();\r\n\r\nPhone nokia = phoneShop.getDevice(PhoneManufacturer.NOKIA);\r\nSmartphone samsung = (Smartphone) phoneShop.getDevice(PhoneManufacturer.SAMSUNG);\r\n```\r\n\r\nNote that if you want to call `Smartphone` specific methods, such as `browsingInternet()`, you&#39;ll need to cast the object returned from the `PhoneShop#getDevice`, otherwise, it&#39;ll be just an ordinary `Phone`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/76087013/how-to-call-a-function-that-has-an-interface-as-its-return-type-so-that-the-com/76087604#comment134186723_76087013","title":"Polymorphism: How to make the compiler aware of the returned implementation of method which return type is an interface?","body":"<p>P.S.: Before continue reading this answer, consider reading <a href=\"https://stackoverflow.com/questions/76087013/how-to-call-a-function-that-has-an-interface-as-its-return-type-so-that-the-com/76087604#comment134186723_76087013\">this comment from Rogue</a> to see if his approach doesn't meet your needs.</p>\n<hr />\n<p>If I was able to understand your situation, you want to leverage Java’s polymorphism. However, I don’t understand why you have created classes for each phone manufacturer, since your hole point is that you have two different types of phone, and what differentiates them is the name of each model/manufacturer.</p>\n<p>Of course, your real situation may be different, and you may have missed something when building your example. Because of this, I’ll propose you two different approaches, among several you can take advantage of, both leveraging inheritance and polymorphism.</p>\n<h3>Approach 1:</h3>\n<p>Instead of create a different class for each different manufacturer, since all that matters is the phone type, why doesn’t you create two classes: <code>Phone</code> and <code>Smartphone</code>, where phones can only make calls and smartphones can either make calls and browse internet? In this design, <code>Smartphone</code> inherit from <code>Phone</code>, since a <code>Smartphone</code> <strong>IS A</strong> <code>Phone</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Phone {\n    private String name;\n\n    protected Phone(String name) {\n        this.name = name;\n    }\n\n    public void call() {\n        System.out.println(&quot;Calling from my &quot; + getName());\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Smartphone extends Phone {\n\n    public Smartphone(String name) {\n        super(name);\n    }\n\n    public void browsingInternet() {\n        System.out.println(&quot;Browsing internet with my &quot; + getName());\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class PhoneShop {\n\n    public PhoneShop() {\n    }\n\n    public Phone getPhone(String phoneName) {\n        return new Phone(phoneName);\n    }\n\n    public Smartphone getSmartphone(String smartphoneName) {\n        return new Smartphone(smartphoneName);\n    }\n}\n</code></pre>\n<h3>Approach 2:</h3>\n<p>If the phone manufacturers or models matter, then the phone types, i.e., whether they’re simple phones or smartphones, can be abstract classes that will be inherited by the phone models. To simplify, I’ll assume that “Nokia” and “Samsung”, although manufacturers, are like phone models.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Phone {\n    private String name;\n\n    protected Phone(String name) {\n        this.name = name;\n    }\n\n    public void call() {\n        System.out.println(&quot;Calling from my &quot; + getName());\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Smartphone extends Phone {\n\n    protected SmartPhone(String name) {\n        super(name);\n    }\n\n    public void browsingInternet() {\n        System.out.println(&quot;Browsing internet with my &quot; + super.getName());\n    }\n}\n</code></pre>\n<p>Note that <code>Smartphone</code> inherits the functionalities of <code>Phone</code>, which is the one and only <code>call()</code> method in this situation. This way, your phones model or manufacturer classes will be very simple and your code easy to maintain:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Samsung extends Smartphone {\n\n    public Samsung(String name) {\n        super(name);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Nokia extends Phone {\n\n    public Nokia(String name) {\n        super(name);\n    }\n}\n</code></pre>\n<p>In this situation, you may want to reduce the possibility of mistakes by wrongly typing the manufacturer’s name. You can do it by creating a very simple <code>Enum</code> class, that would be used as argument for your factory methods.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum PhoneManufacturer {\n    SAMSUNG,\n    NOKIA\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class PhoneShop {\n\n    public PhoneShop() {\n    }\n\n    // Factory method\n    public Phone getDevice(PhoneManufacturer manufacturer) {\n        switch (manufacturer) {\n            case NOKIA -&gt; {\n                return new Nokia(manufacturer.name().charAt(0) + manufacturer.name().substring(1).toLowerCase());\n            }\n            case SAMSUNG -&gt; {\n                return new Samsung(manufacturer.name().charAt(0) + manufacturer.name().substring(1).toLowerCase());\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>Then, whenever you want a <code>Phone</code> or <code>Smartphone</code>, you can simply do the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PhoneShop phoneShop = new PhoneShop();\n\nPhone nokia = phoneShop.getDevice(PhoneManufacturer.NOKIA);\nSmartphone samsung = (Smartphone) phoneShop.getDevice(PhoneManufacturer.SAMSUNG);\n</code></pre>\n<p>Note that if you want to call <code>Smartphone</code> specific methods, such as <code>browsingInternet()</code>, you'll need to cast the object returned from the <code>PhoneShop#getDevice</code>, otherwise, it'll be just an ordinary <code>Phone</code>.</p>\n"}],"owner":{"account_id":6834560,"reputation":61,"user_id":5257084,"display_name":"Sam Rae"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1682398807,"creation_date":1682280335,"question_id":76087013,"body_markdown":"Say I have a class `PhoneShop` that has a `getPhone` method that needs to be backwards compatible (we have to keep the arguments that we pass the same - this is a simplified version of a code test I&#39;ve been given although I&#39;ve changed the names of everything and I&#39;ve been told that the API of the PhoneShop class should stay the same)\r\n\r\nSo far we only have one phone type, `Nokia`, and we can get it like this:\r\n\r\n```\r\nPhoneShop shop = new PhoneShop();\r\nPhone nokia = shop.getPhone(&quot;Nokia&quot;);\r\nnokia.call();\r\n```\r\n\r\nI want to change the `Phone` class to be an interface to allow multiple classes to implement it\r\n\r\n```\r\npublic interface Phone {\r\n    String getName();\r\n    void call();\r\n}\r\n```\r\n\r\nPhoneShop getPhone\r\n```\r\npublic class PhoneShop {\r\n    public Phone getPhone(String name) {\r\n        return new Nokia();\r\n    }\r\n}\r\n\r\n```\r\n\r\nNokia\r\n```\r\npublic class Nokia implements Phone {\r\n\r\n    public String getName() {\r\n        return &quot;Nokia&quot;;\r\n    }\r\n    public void call() {\r\n        System.out.println(&quot;Calling from my &quot; + getName());\r\n    }\r\n}\r\n```\r\n\r\nSo far the string argument is being passed but it isn&#39;t used by the business logic but now we have a new Phone type, Samsung:\r\n\r\n```\r\npublic class Samsung implements Phone {\r\n    public String getName() {\r\n        return &quot;Samsung&quot;;\r\n    }\r\n    public void call() {\r\n        System.out.println(&quot;Calling from my &quot; + getName());\r\n    }\r\n\r\n    public void browseInternet() {\r\n        System.out.println(&quot;Browsing internet with my &quot; + getName());\r\n    }\r\n}\r\n\r\n```\r\n\r\nand now I want to also be able to call getPhone like this\r\n```\r\n  Phone samsung = shop.getPhone(&quot;Samsung&quot;);\r\n  samsung.call();\r\n  samsung.browseInternet();\r\n```\r\n\r\n```\r\npublic Phone getPhone(String name) {\r\n   return switch (name) {\r\n       case &quot;Samsung&quot; -&gt; new Samsung();\r\n       default -&gt; new Nokia();\r\n    };\r\n}\r\n```\r\n\r\nThis code won&#39;t compile because `browseInternet` is not defined on the `Phone` interface.\r\n\r\nHow can I let the compiler know that when I call `getPhone` with the string &quot;Samsung&quot; I actually have an instance of Samsung?\r\n\r\nWith only two phone types I could overload the method, so that eg. when it&#39;s called with no arguments, it returns an instance of `Samsung` but as I add more phone types  I won&#39;t have that option. Also that&#39;s not a great API - it&#39;s not obvious to the caller.\r\n\r\nThe only way I can get it to compile so far is to cast the return type like this\r\n\r\n```\r\nSamsung samsung = (Samsung) shop.getPhone(&quot;Samsung&quot;);\r\n```\r\n\r\nI don&#39;t really like that because it&#39;s open to developer error (I could mistakenly cast it to Nokia for example, and then I&#39;d get a runtime error.\r\n\r\nI&#39;d like to be able to tell the compiler, &quot;if I call this method with this particular string then it has this return type&quot;, but I don&#39;t think you can do that(?). In which case is there a pattern (factory pattern, generics ?) that I can use? (I am a newbie to Java and OOP in general - much more familiar with JavaScript and TypeScript).\r\n","title":"Polymorphism: How to make the compiler aware of the returned implementation of method which return type is an interface?","body":"<p>Say I have a class <code>PhoneShop</code> that has a <code>getPhone</code> method that needs to be backwards compatible (we have to keep the arguments that we pass the same - this is a simplified version of a code test I've been given although I've changed the names of everything and I've been told that the API of the PhoneShop class should stay the same)</p>\n<p>So far we only have one phone type, <code>Nokia</code>, and we can get it like this:</p>\n<pre><code>PhoneShop shop = new PhoneShop();\nPhone nokia = shop.getPhone(&quot;Nokia&quot;);\nnokia.call();\n</code></pre>\n<p>I want to change the <code>Phone</code> class to be an interface to allow multiple classes to implement it</p>\n<pre><code>public interface Phone {\n    String getName();\n    void call();\n}\n</code></pre>\n<p>PhoneShop getPhone</p>\n<pre><code>public class PhoneShop {\n    public Phone getPhone(String name) {\n        return new Nokia();\n    }\n}\n\n</code></pre>\n<p>Nokia</p>\n<pre><code>public class Nokia implements Phone {\n\n    public String getName() {\n        return &quot;Nokia&quot;;\n    }\n    public void call() {\n        System.out.println(&quot;Calling from my &quot; + getName());\n    }\n}\n</code></pre>\n<p>So far the string argument is being passed but it isn't used by the business logic but now we have a new Phone type, Samsung:</p>\n<pre><code>public class Samsung implements Phone {\n    public String getName() {\n        return &quot;Samsung&quot;;\n    }\n    public void call() {\n        System.out.println(&quot;Calling from my &quot; + getName());\n    }\n\n    public void browseInternet() {\n        System.out.println(&quot;Browsing internet with my &quot; + getName());\n    }\n}\n\n</code></pre>\n<p>and now I want to also be able to call getPhone like this</p>\n<pre><code>  Phone samsung = shop.getPhone(&quot;Samsung&quot;);\n  samsung.call();\n  samsung.browseInternet();\n</code></pre>\n<pre><code>public Phone getPhone(String name) {\n   return switch (name) {\n       case &quot;Samsung&quot; -&gt; new Samsung();\n       default -&gt; new Nokia();\n    };\n}\n</code></pre>\n<p>This code won't compile because <code>browseInternet</code> is not defined on the <code>Phone</code> interface.</p>\n<p>How can I let the compiler know that when I call <code>getPhone</code> with the string &quot;Samsung&quot; I actually have an instance of Samsung?</p>\n<p>With only two phone types I could overload the method, so that eg. when it's called with no arguments, it returns an instance of <code>Samsung</code> but as I add more phone types  I won't have that option. Also that's not a great API - it's not obvious to the caller.</p>\n<p>The only way I can get it to compile so far is to cast the return type like this</p>\n<pre><code>Samsung samsung = (Samsung) shop.getPhone(&quot;Samsung&quot;);\n</code></pre>\n<p>I don't really like that because it's open to developer error (I could mistakenly cast it to Nokia for example, and then I'd get a runtime error.</p>\n<p>I'd like to be able to tell the compiler, &quot;if I call this method with this particular string then it has this return type&quot;, but I don't think you can do that(?). In which case is there a pattern (factory pattern, generics ?) that I can use? (I am a newbie to Java and OOP in general - much more familiar with JavaScript and TypeScript).</p>\n"},{"tags":["java",".net","jaxb","jersey"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1682324085,"post_id":76089688,"comment_id":134191212,"body_markdown":"Instead of using Boolean  isValue; use Boolean  value and ordinary getValue, setValue. It might be naming conventions. Also, for diagnosis make value public and remove the get/set.","body":"Instead of using Boolean  isValue; use Boolean  value and ordinary getValue, setValue. It might be naming conventions. Also, for diagnosis make value public and remove the get/set."},{"owner":{"account_id":19686832,"reputation":1,"user_id":14412613,"display_name":"Hooman Yarahmadi"},"score":0,"creation_date":1682325914,"post_id":76089688,"comment_id":134191592,"body_markdown":"@JohnWilliams did what you said but still have problem","body":"@JohnWilliams did what you said but still have problem"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1682326042,"post_id":76089688,"comment_id":134191617,"body_markdown":"Then we need much more code. Enough code and example xml to simulate and fix.","body":"Then we need much more code. Enough code and example xml to simulate and fix."},{"owner":{"account_id":19686832,"reputation":1,"user_id":14412613,"display_name":"Hooman Yarahmadi"},"score":0,"creation_date":1682326418,"post_id":76089688,"comment_id":134191684,"body_markdown":"@JohnWilliams i just edit the question with full code that i used. Thanks in advance","body":"@JohnWilliams i just edit the question with full code that i used. Thanks in advance"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1682353818,"post_id":76089688,"comment_id":134198260,"body_markdown":"You need to use `setValue()` as the name of the setter function. The lookup from JSON property is done using the name of the setter for deserialization and the name of the getter for the serialization.","body":"You need to use <code>setValue()</code> as the name of the setter function. The lookup from JSON property is done using the name of the setter for deserialization and the name of the getter for the serialization."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1682354054,"post_id":76089688,"comment_id":134198314,"body_markdown":"In java the default value for a boolean is false. I suspect that a field with a matching name is not being returned so it is never set. We need to establish whether the value is being returned by the API. Change .post(ClientResponse.class, getBoolTest) to .post(String.class, getBoolTest) and GetBoolTestResponse getBoolTestResponse to String getBoolTestResponse and see what raw value prints out. I suspect that the boolean field is misnamed.","body":"In java the default value for a boolean is false. I suspect that a field with a matching name is not being returned so it is never set. We need to establish whether the value is being returned by the API. Change .post(ClientResponse.class, getBoolTest) to .post(String.class, getBoolTest) and GetBoolTestResponse getBoolTestResponse to String getBoolTestResponse and see what raw value prints out. I suspect that the boolean field is misnamed."}],"owner":{"account_id":19686832,"reputation":1,"user_id":14412613,"display_name":"Hooman Yarahmadi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682398703,"creation_date":1682322602,"question_id":76089688,"body_markdown":"I have a client-side which is implemented with Jersey and JAXB, I want to send a pojo class to .Net API Server side (Rest web service). when I set a boolean property to true and send it to the server, the boolean is turned to false.\r\n\r\nThe code below is used in client-side to call an API on .Net server side\r\n\r\n```\r\n    public String boolTest() {\r\n\r\n        try {\r\n\r\n\r\n          GetBoolTest getBoolTest = new GetBoolTest(true);\r\n\r\n\r\n            ClientConfig config = new DefaultClientConfig();\r\n            Client client = Client.create(config);\r\n            client.addFilter(new LoggingFilter(System.out));\r\n            WebResource service = client.resource(getBaseURI());\r\n            ClientResponse response = null;\r\n\r\n\r\n            response = service.path(&quot;Test&quot;)\r\n                    .header(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8-&quot;)\r\n                    .type(MediaType.APPLICATION_JSON_TYPE)\r\n                    .accept(MediaType.APPLICATION_JSON_TYPE)\r\n                    .post(ClientResponse.class, getBoolTest);\r\n\r\n            GetBoolTestResponse getBoolTestResponse = null;\r\n\r\n\r\n\r\n            if (response.getStatus() == 200) {\r\n                getBoolTestResponse = response.getEntity(GetBoolTestResponse.class);\r\n                System.out.println(getBoolTestResponse.toString());\r\n\r\n            }else{\r\n                switch (response.getStatus()) {\r\n                    case 400:\r\n                        throw new Exception(&quot;BadRequestException:: malFormed message : &quot; + response.getStatus());\r\n                    case 401:\r\n                        throw new Exception(&quot;NotAuthorizedException:: Authorized failure : &quot; + response.getStatus());\r\n                    case 403:\r\n                        throw new Exception(&quot;forbiddenException:: not permitted to access : &quot; + response.getStatus());\r\n                    case 404:\r\n                        throw new Exception(&quot;NotFoundException:: could not find resource : &quot; + response.getStatus());\r\n                    case 405:\r\n                        throw new Exception(&quot;NotAllowedException:: HTTP method not supported : &quot; + response.getStatus());\r\n                    case 406:\r\n                        throw new Exception(&quot;NotAcceptableException:: client media type not supported : &quot; + response.getStatus());\r\n                    case 415:\r\n                        throw new Exception(&quot;NotSupportedException::  client posted media not supported : &quot; + response.getStatus());\r\n                    case 500:\r\n                        throw new Exception(&quot;InternalServerErrorException:: General Server Error : &quot; + response.getStatus());\r\n                    case 503:\r\n                        throw new Exception(&quot;ServiceUnAvailableException:: server is temporarily unavailable or busy : &quot; + response.getStatus());\r\n                    default:\r\n                        throw new RuntimeException(&quot;Failed : HTTP error code : &quot; + response.getStatus());\r\n                }\r\n            }\r\n\r\n\r\n            return String.valueOf(getBoolTestResponse);\r\n\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return &quot;1800&quot;;\r\n        }\r\n    }\r\n```\r\n\r\nPojo Class:\r\n\r\n```\r\n@XmlRootElement\r\npublic class GetBoolTest {\r\n\r\n    protected Boolean  isValue;\r\n\r\n\r\n    public GetBoolTest() {\r\n    }\r\n\r\n    public GetBoolTest(Boolean isValue) {\r\n        this.isValue = isValue;\r\n    }\r\n\r\n    public Boolean getIsValue() {\r\n        return isValue;\r\n    }\r\n\r\n    @XmlElement\r\n    public void setIsValue(Boolean isValue) {\r\n        this.isValue = isValue;\r\n    }\r\n}\r\n```\r\n\r\nResponse Class:\r\n\r\n```\r\n@XmlRootElement\r\npublic class GetBoolTestResponse {\r\n\r\n\r\n\r\n    protected boolean isValue;\r\n\r\n\r\n\r\n    public boolean getIsValue() {\r\n        return isValue;\r\n    }\r\n\r\n    public void setIsValue(boolean value) {\r\n        this.isValue = value;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;GetBoolTestResponse{&quot; +\r\n                &quot;getIsValue=&quot; + isValue +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nHere is the log output:\r\n```\r\n1 * Client out-bound request\r\n1 &gt; POST http://**.**.***.***:***/api/Test/Test\r\n1 &gt; Content-Type: application/json\r\n1 &gt; Accept: application/json\r\n{&quot;value&quot;:&quot;true&quot;}\r\n1 * Client in-bound response\r\n1 &lt; 200\r\n1 &lt; Transfer-Encoding: chunked\r\n1 &lt; Server: Microsoft-IIS/10.0\r\n1 &lt; Date: Mon, 24 Apr 2023 08:03:49 GMT\r\n1 &lt; X-Powered-By: ASP.NET\r\n1 &lt; Content-Type: application/json; charset=utf-8\r\n1 &lt; \r\n{&quot;value&quot;:false,&quot;formatters&quot;:[],&quot;contentTypes&quot;:[],&quot;declaredType&quot;:null,&quot;statusCode&quot;:200}\r\nGetBoolTestResponse{value=false}\r\n```\r\n\r\nI tried many ways, there is no problem testing with post man! also tried with many versions jersey 1.x and 2.x but still have this issue.","title":"true boolean property turn into false when recived in the server side","body":"<p>I have a client-side which is implemented with Jersey and JAXB, I want to send a pojo class to .Net API Server side (Rest web service). when I set a boolean property to true and send it to the server, the boolean is turned to false.</p>\n<p>The code below is used in client-side to call an API on .Net server side</p>\n<pre><code>    public String boolTest() {\n\n        try {\n\n\n          GetBoolTest getBoolTest = new GetBoolTest(true);\n\n\n            ClientConfig config = new DefaultClientConfig();\n            Client client = Client.create(config);\n            client.addFilter(new LoggingFilter(System.out));\n            WebResource service = client.resource(getBaseURI());\n            ClientResponse response = null;\n\n\n            response = service.path(&quot;Test&quot;)\n                    .header(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8-&quot;)\n                    .type(MediaType.APPLICATION_JSON_TYPE)\n                    .accept(MediaType.APPLICATION_JSON_TYPE)\n                    .post(ClientResponse.class, getBoolTest);\n\n            GetBoolTestResponse getBoolTestResponse = null;\n\n\n\n            if (response.getStatus() == 200) {\n                getBoolTestResponse = response.getEntity(GetBoolTestResponse.class);\n                System.out.println(getBoolTestResponse.toString());\n\n            }else{\n                switch (response.getStatus()) {\n                    case 400:\n                        throw new Exception(&quot;BadRequestException:: malFormed message : &quot; + response.getStatus());\n                    case 401:\n                        throw new Exception(&quot;NotAuthorizedException:: Authorized failure : &quot; + response.getStatus());\n                    case 403:\n                        throw new Exception(&quot;forbiddenException:: not permitted to access : &quot; + response.getStatus());\n                    case 404:\n                        throw new Exception(&quot;NotFoundException:: could not find resource : &quot; + response.getStatus());\n                    case 405:\n                        throw new Exception(&quot;NotAllowedException:: HTTP method not supported : &quot; + response.getStatus());\n                    case 406:\n                        throw new Exception(&quot;NotAcceptableException:: client media type not supported : &quot; + response.getStatus());\n                    case 415:\n                        throw new Exception(&quot;NotSupportedException::  client posted media not supported : &quot; + response.getStatus());\n                    case 500:\n                        throw new Exception(&quot;InternalServerErrorException:: General Server Error : &quot; + response.getStatus());\n                    case 503:\n                        throw new Exception(&quot;ServiceUnAvailableException:: server is temporarily unavailable or busy : &quot; + response.getStatus());\n                    default:\n                        throw new RuntimeException(&quot;Failed : HTTP error code : &quot; + response.getStatus());\n                }\n            }\n\n\n            return String.valueOf(getBoolTestResponse);\n\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            return &quot;1800&quot;;\n        }\n    }\n</code></pre>\n<p>Pojo Class:</p>\n<pre><code>@XmlRootElement\npublic class GetBoolTest {\n\n    protected Boolean  isValue;\n\n\n    public GetBoolTest() {\n    }\n\n    public GetBoolTest(Boolean isValue) {\n        this.isValue = isValue;\n    }\n\n    public Boolean getIsValue() {\n        return isValue;\n    }\n\n    @XmlElement\n    public void setIsValue(Boolean isValue) {\n        this.isValue = isValue;\n    }\n}\n</code></pre>\n<p>Response Class:</p>\n<pre><code>@XmlRootElement\npublic class GetBoolTestResponse {\n\n\n\n    protected boolean isValue;\n\n\n\n    public boolean getIsValue() {\n        return isValue;\n    }\n\n    public void setIsValue(boolean value) {\n        this.isValue = value;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;GetBoolTestResponse{&quot; +\n                &quot;getIsValue=&quot; + isValue +\n                '}';\n    }\n}\n</code></pre>\n<p>Here is the log output:</p>\n<pre><code>1 * Client out-bound request\n1 &gt; POST http://**.**.***.***:***/api/Test/Test\n1 &gt; Content-Type: application/json\n1 &gt; Accept: application/json\n{&quot;value&quot;:&quot;true&quot;}\n1 * Client in-bound response\n1 &lt; 200\n1 &lt; Transfer-Encoding: chunked\n1 &lt; Server: Microsoft-IIS/10.0\n1 &lt; Date: Mon, 24 Apr 2023 08:03:49 GMT\n1 &lt; X-Powered-By: ASP.NET\n1 &lt; Content-Type: application/json; charset=utf-8\n1 &lt; \n{&quot;value&quot;:false,&quot;formatters&quot;:[],&quot;contentTypes&quot;:[],&quot;declaredType&quot;:null,&quot;statusCode&quot;:200}\nGetBoolTestResponse{value=false}\n</code></pre>\n<p>I tried many ways, there is no problem testing with post man! also tried with many versions jersey 1.x and 2.x but still have this issue.</p>\n"},{"tags":["java","reactive-programming","project-reactor","flux"],"owner":{"account_id":28281761,"reputation":1,"user_id":21623309,"display_name":"Aditya k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682397532,"creation_date":1681279729,"question_id":75992383,"body_markdown":"I&#39;m using **RxJava 2** for reactive programming through micronaut framework. I&#39;m trying to understand an issue with the following code: \r\n\r\n```\r\nfun getItemDetails(\r\n    itemRequest: RequestTo\r\n): Mono&lt;List&lt;ResponseTo&gt;&gt; {\r\n    return itemRequest.itemIdList.toFlux()\r\n        .flatMap { findItemStatus(it) }\r\n        .flatMap { response -&gt;\r\n            Mono.justOrEmpty(ResponseTo(response))\r\n                .onErrorResume {\r\n                    logger.error(&quot;Error occurred while mapping entity to response: $response&quot;, it)\r\n                    Mono.empty()\r\n                }\r\n        }\r\n        .collectList()\r\n} \r\n```\r\n\r\nRequestTo: consists of a list of String. \r\nThe idea is to iterate over this list, get the details for each item from the DB(processed through  `findItemStatus()` function call which returns the DB Entity) and Map it to a response object. \r\n\r\nI wanted to work such that, if any entity returned by the `findItemStatus() flatMap` operation causes an exception while mapping it to the `ResponseTo`, I want that item to be skipped in the final list but continue processing the remaining items in the flux. I don&#39;t want to keep the `onErrorResume` block outside the second flatMap cause that would close the stream if any intermediate entity in the flux causes an Error while mapping and the remaining items in the flux won&#39;t be mapped. \r\n\r\nI&#39;m not sure what the issue is with my code but when there is an exception thrown in `Mono.justOrEmpty(ResponseTo(response))`, it is not being caught in onErrorResume.\r\n\r\n\r\n\r\nI&#39;m putting the test case here: \r\n\r\n```\r\ndef &quot;test getItemDetails() when there is an error mapping DB response to Response TO for any item&quot;() {\r\n\r\n        def itemEntity1 = new DiscontinuedItemsEntity(&quot;52782904&quot;, null, null, UUID.randomUUID())\r\n        def itemEntity2 = new DiscontinuedItemsEntity(&quot;52778904&quot;, null, null, UUID.randomUUID())\r\n        def requestBody = new DiscontinuedItemsTcinRequest([&quot;52782904&quot;, &quot;52782904&quot;])\r\n\r\n        when:\r\n        def response = itemsStatusService.getItemDetails(requestBody).block()\r\n        def responseList = response.itemsList\r\n\r\n        then:\r\n        1 * discontinuedItemsRepository.findDiscontinuedItems(*_) &gt;&gt; Mono.just(itemEntity1)\r\n        1 * discontinuedItemsRepository.findDiscontinuedItems(*_) &gt;&gt; Mono.just(itemEntity2)\r\n\r\n        responseList.size() == 1\r\n        responseList.get(0).itemId == itemEntity1.itemId\r\n    }\r\n```\r\n\r\nI need this test case to pass but instead an exception is thrown and not handled since it&#39;s not being caught in onErrorResume","title":"Error returned from Mono not being caught in onErrorResume","body":"<p>I'm using <strong>RxJava 2</strong> for reactive programming through micronaut framework. I'm trying to understand an issue with the following code:</p>\n<pre><code>fun getItemDetails(\n    itemRequest: RequestTo\n): Mono&lt;List&lt;ResponseTo&gt;&gt; {\n    return itemRequest.itemIdList.toFlux()\n        .flatMap { findItemStatus(it) }\n        .flatMap { response -&gt;\n            Mono.justOrEmpty(ResponseTo(response))\n                .onErrorResume {\n                    logger.error(&quot;Error occurred while mapping entity to response: $response&quot;, it)\n                    Mono.empty()\n                }\n        }\n        .collectList()\n} \n</code></pre>\n<p>RequestTo: consists of a list of String.\nThe idea is to iterate over this list, get the details for each item from the DB(processed through  <code>findItemStatus()</code> function call which returns the DB Entity) and Map it to a response object.</p>\n<p>I wanted to work such that, if any entity returned by the <code>findItemStatus() flatMap</code> operation causes an exception while mapping it to the <code>ResponseTo</code>, I want that item to be skipped in the final list but continue processing the remaining items in the flux. I don't want to keep the <code>onErrorResume</code> block outside the second flatMap cause that would close the stream if any intermediate entity in the flux causes an Error while mapping and the remaining items in the flux won't be mapped.</p>\n<p>I'm not sure what the issue is with my code but when there is an exception thrown in <code>Mono.justOrEmpty(ResponseTo(response))</code>, it is not being caught in onErrorResume.</p>\n<p>I'm putting the test case here:</p>\n<pre><code>def &quot;test getItemDetails() when there is an error mapping DB response to Response TO for any item&quot;() {\n\n        def itemEntity1 = new DiscontinuedItemsEntity(&quot;52782904&quot;, null, null, UUID.randomUUID())\n        def itemEntity2 = new DiscontinuedItemsEntity(&quot;52778904&quot;, null, null, UUID.randomUUID())\n        def requestBody = new DiscontinuedItemsTcinRequest([&quot;52782904&quot;, &quot;52782904&quot;])\n\n        when:\n        def response = itemsStatusService.getItemDetails(requestBody).block()\n        def responseList = response.itemsList\n\n        then:\n        1 * discontinuedItemsRepository.findDiscontinuedItems(*_) &gt;&gt; Mono.just(itemEntity1)\n        1 * discontinuedItemsRepository.findDiscontinuedItems(*_) &gt;&gt; Mono.just(itemEntity2)\n\n        responseList.size() == 1\n        responseList.get(0).itemId == itemEntity1.itemId\n    }\n</code></pre>\n<p>I need this test case to pass but instead an exception is thrown and not handled since it's not being caught in onErrorResume</p>\n"},{"tags":["java","sql","jdbc","netbeans","jframe"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682396877,"creation_date":1682396877,"answer_id":76097646,"question_id":76097631,"body_markdown":"You never call `config()` anywhere. That would initialize `con`, so, without having called it, that is still `null`, and thus, `NullPointerException`.\r\n\r\nSeparately, catching an exception and just printing something is a really bad idea. If you can&#39;t handle them (and &#39;print something&#39; isn&#39;t handling them).\r\n\r\nIf the checked nature is a problem, rewrap them. Go into your IDE settings right now and fix the template - it needs to be:\r\n\r\n```\r\ntry {\r\n .. code ..\r\n} catch (CheckedException e) {\r\n  throw new RuntimeException(&quot;unhandled&quot;, e);\r\n}\r\n```\r\n\r\n_NOT_ `e.printStackTrace()` or `System.err.println(e)` or any other such &#39;print it and continue&#39; craziness.\r\n","title":"JDBC can&#39;t establish connection with SQL, nullPointerException error","body":"<p>You never call <code>config()</code> anywhere. That would initialize <code>con</code>, so, without having called it, that is still <code>null</code>, and thus, <code>NullPointerException</code>.</p>\n<p>Separately, catching an exception and just printing something is a really bad idea. If you can't handle them (and 'print something' isn't handling them).</p>\n<p>If the checked nature is a problem, rewrap them. Go into your IDE settings right now and fix the template - it needs to be:</p>\n<pre><code>try {\n .. code ..\n} catch (CheckedException e) {\n  throw new RuntimeException(&quot;unhandled&quot;, e);\n}\n</code></pre>\n<p><em>NOT</em> <code>e.printStackTrace()</code> or <code>System.err.println(e)</code> or any other such 'print it and continue' craziness.</p>\n"}],"owner":{"account_id":26855698,"reputation":1,"user_id":20440043,"display_name":"Blackjack Colver Voltaire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682398241,"answer_count":1,"score":0,"last_activity_date":1682396877,"creation_date":1682396647,"question_id":76097631,"body_markdown":"Cannot establish connection with SQL, when run it gives nullpointerexception error\r\n\r\nthe table should display the data, but instead it shows nothing since jdbc doesn&#39;t connect to SQL\r\n\r\nhere&#39;s the class to connect it to SQL\r\n\r\n```\r\nimport com.mysql.jdbc.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLDataException;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\n\r\npublic class Koneksi {\r\n\r\n    private static Connection MySQLConfig;\r\n    static Connection con;\r\n    static Statement stm;\r\n\r\n    private static Connection config() throws SQLDataException, SQLException {\r\n        try {\r\n            String url = &quot;jdbc:mysql://localhost:3306/latihandatabase?zeroDateTimeBehavior=convertToNull [root on Default schema]&quot;;\r\n            String user = &quot;root&quot;;\r\n            String pass = &quot;&quot;;\r\n            DriverManager.registerDriver(new com.mysql.jdbc.Driver());\r\n            MySQLConfig = (Connection) DriverManager.getConnection(url, user, pass);\r\n            System.out.println(&quot;Koneksi Berhasil: &quot;);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;koneksi gagal&quot; + e.getMessage());\r\n        }\r\n        return MySQLConfig;\r\n    }\r\n}\r\n```\r\n\r\nand here&#39;s the JFrame class\r\n\r\n```\r\n\r\nimport java.sql.SQLException;\r\nimport javax.swing.table.DefaultTableModel;\r\n\r\npublic class form_buku extends javax.swing.JFrame {\r\n\r\n    public form_buku() {\r\n        initComponents();\r\n        kosongkanForm();\r\n        TampilData();\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n    private void initComponents() {\r\n\r\n        jScrollPane1 = new javax.swing.JScrollPane();\r\n        jTable1 = new javax.swing.JTable();\r\n        jScrollPane2 = new javax.swing.JScrollPane();\r\n        jTable2 = new javax.swing.JTable();\r\n        jButton1 = new javax.swing.JButton();\r\n        jTextField1 = new javax.swing.JTextField();\r\n        jTextField2 = new javax.swing.JTextField();\r\n        jTextField3 = new javax.swing.JTextField();\r\n        jTextField4 = new javax.swing.JTextField();\r\n        jTextField5 = new javax.swing.JTextField();\r\n        jLabel1 = new javax.swing.JLabel();\r\n        jButton2 = new javax.swing.JButton();\r\n        jButton3 = new javax.swing.JButton();\r\n        jButton5 = new javax.swing.JButton();\r\n        jButton6 = new javax.swing.JButton();\r\n        jButton7 = new javax.swing.JButton();\r\n        jLabel2 = new javax.swing.JLabel();\r\n        jLabel3 = new javax.swing.JLabel();\r\n        jLabel4 = new javax.swing.JLabel();\r\n        jLabel5 = new javax.swing.JLabel();\r\n        jLabel6 = new javax.swing.JLabel();\r\n        jScrollPane3 = new javax.swing.JScrollPane();\r\n        jTable3 = new javax.swing.JTable();\r\n\r\n        jTable1.setModel(new javax.swing.table.DefaultTableModel(\r\n            new Object [][] {\r\n                {null, null, null, null},\r\n                {null, null, null, null},\r\n                {null, null, null, null},\r\n                {null, null, null, null}\r\n            },\r\n            new String [] {\r\n                &quot;Title 1&quot;, &quot;Title 2&quot;, &quot;Title 3&quot;, &quot;Title 4&quot;\r\n            }\r\n        ));\r\n        jScrollPane1.setViewportView(jTable1);\r\n\r\n        jTable2.setModel(new javax.swing.table.DefaultTableModel(\r\n            new Object [][] {\r\n                {null, null, null, null},\r\n                {null, null, null, null},\r\n                {null, null, null, null},\r\n                {null, null, null, null}\r\n            },\r\n            new String [] {\r\n                &quot;Title 1&quot;, &quot;Title 2&quot;, &quot;Title 3&quot;, &quot;Title 4&quot;\r\n            }\r\n        ));\r\n        jScrollPane2.setViewportView(jTable2);\r\n\r\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n\r\n        jButton1.setText(&quot;Batal&quot;);\r\n\r\n        jTextField1.setText(&quot;jTextField1&quot;);\r\n\r\n        jTextField2.setText(&quot;jTextField2&quot;);\r\n\r\n        jTextField3.setText(&quot;jTextField3&quot;);\r\n\r\n        jTextField4.setText(&quot;jTextField4&quot;);\r\n\r\n        jTextField5.setText(&quot;jTextField5&quot;);\r\n\r\n        jLabel1.setFont(new java.awt.Font(&quot;Tahoma&quot;, 0, 24)); // NOI18N\r\n        jLabel1.setText(&quot;Form buku&quot;);\r\n\r\n        jButton2.setText(&quot;Tambah Data&quot;);\r\n        jButton2.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jButton2ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        jButton3.setText(&quot;Edit&quot;);\r\n        jButton3.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jButton3ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        jButton5.setText(&quot;Hapus&quot;);\r\n\r\n        jButton6.setText(&quot;Simpan&quot;);\r\n        jButton6.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jButton6ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        jButton7.setText(&quot;Keluar&quot;);\r\n\r\n        jLabel2.setText(&quot;ID Buku&quot;);\r\n\r\n        jLabel3.setText(&quot;Judul Buku&quot;);\r\n\r\n        jLabel4.setText(&quot;Pengarang&quot;);\r\n\r\n        jLabel5.setText(&quot;Harga&quot;);\r\n\r\n        jLabel6.setText(&quot;Stock&quot;);\r\n\r\n        jTable3.setModel(new javax.swing.table.DefaultTableModel(\r\n            new Object [][] {\r\n                {null, null, null, null, null},\r\n                {null, null, null, null, null},\r\n                {null, null, null, null, null},\r\n                {null, null, null, null, null}\r\n            },\r\n            new String [] {\r\n                &quot;Title 1&quot;, &quot;Title 2&quot;, &quot;Title 3&quot;, &quot;Title 4&quot;, &quot;Title 5&quot;\r\n            }\r\n        ));\r\n        jScrollPane3.setViewportView(jTable3);\r\n\r\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n        getContentPane().setLayout(layout);\r\n        layout.setHorizontalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addGap(32, 32, 32)\r\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                            .addGroup(layout.createSequentialGroup()\r\n                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                                    .addComponent(jLabel2)\r\n                                    .addComponent(jLabel3)\r\n                                    .addComponent(jLabel4)\r\n                                    .addComponent(jLabel5)\r\n                                    .addComponent(jLabel6))\r\n                                .addGap(22, 22, 22)\r\n                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)\r\n                                    .addComponent(jTextField5, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 110, Short.MAX_VALUE)\r\n                                    .addComponent(jTextField4, javax.swing.GroupLayout.Alignment.TRAILING)\r\n                                    .addComponent(jTextField3, javax.swing.GroupLayout.Alignment.TRAILING)\r\n                                    .addComponent(jTextField2, javax.swing.GroupLayout.Alignment.TRAILING)\r\n                                    .addComponent(jTextField1, javax.swing.GroupLayout.Alignment.TRAILING)))\r\n                            .addGroup(layout.createSequentialGroup()\r\n                                .addGap(10, 10, 10)\r\n                                .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))))\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addGap(18, 18, 18)\r\n                        .addComponent(jButton2)\r\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                            .addGroup(layout.createSequentialGroup()\r\n                                .addGap(107, 107, 107)\r\n                                .addComponent(jLabel1))\r\n                            .addGroup(layout.createSequentialGroup()\r\n                                .addGap(18, 18, 18)\r\n                                .addComponent(jButton3)\r\n                                .addGap(24, 24, 24)\r\n                                .addComponent(jButton5)\r\n                                .addGap(18, 18, 18)\r\n                                .addComponent(jButton6)\r\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\r\n                                .addComponent(jButton1)\r\n                                .addGap(13, 13, 13)\r\n                                .addComponent(jButton7)))))\r\n                .addContainerGap(24, Short.MAX_VALUE))\r\n        );\r\n        layout.setVerticalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addContainerGap()\r\n                .addComponent(jLabel1)\r\n                .addGap(24, 24, 24)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                    .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addComponent(jLabel2))\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                    .addComponent(jTextField2, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addComponent(jLabel3))\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                    .addComponent(jTextField3, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addComponent(jLabel4))\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                    .addComponent(jTextField4, javax.swing.GroupLayout.PREFERRED_SIZE, 31, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addComponent(jLabel5))\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                    .addComponent(jTextField5, javax.swing.GroupLayout.PREFERRED_SIZE, 31, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addComponent(jLabel6))\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                    .addComponent(jButton2)\r\n                    .addComponent(jButton3)\r\n                    .addComponent(jButton5)\r\n                    .addComponent(jButton6)\r\n                    .addComponent(jButton1)\r\n                    .addComponent(jButton7))\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 99, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addContainerGap())\r\n        );\r\n\r\n        pack();\r\n    }// &lt;/editor-fold&gt;                        \r\n\r\n    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        // TODO add your handling code here:\r\n        kosongkanForm();\r\n    }                                        \r\n\r\n    private void jButton3ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        // TODO add your handling code here:\r\n    }                                        \r\n\r\n    private void jButton6ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        // TODO add your handling code here:\r\n\r\n    }                                        \r\n\r\n    public void kosongkanForm() {\r\n        jTextField1.setText(null);\r\n        jTextField2.setText(null);\r\n        jTextField3.setText(null);\r\n        jTextField4.setText(null);\r\n        jTextField5.setText(null);\r\n    }\r\n\r\nprivate void TampilData(){\r\n    DefaultTableModel model = new DefaultTableModel();\r\n    model.addColumn(&quot;ID&quot;);\r\n    model.addColumn(&quot;Judul&quot;);\r\n    model.addColumn(&quot;Pengarang&quot;);\r\n    model.addColumn(&quot;Harga&quot;);\r\n    model.addColumn(&quot;Stock&quot;);\r\n\r\n    try{\r\n\r\n        String sql = &quot;SELECT * from BUKU&quot;;\r\n        Koneksi.stm=Koneksi.con.createStatement();\r\n        java.sql.ResultSet res=Koneksi.stm.executeQuery(sql);\r\n\r\n        while(res.next()){\r\n            model.addRow(new Object[]{\r\n            res.getString(1),\r\n            res.getString(2),\r\n            res.getString(3),\r\n            res.getString(4),\r\n            res.getString(5)});\r\n        }\r\n        jTable3.setModel(model);\r\n    }\r\n    catch(SQLException e){\r\n        System.out.println(&quot;Error&quot;+e.getMessage());\r\n\r\n    }\r\n}\r\n\r\n    public static void main(String args[]) {\r\n        /* Set the Nimbus look and feel */\r\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n         */\r\n        try {\r\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                    break;\r\n                }\r\n            }\r\n        } catch (ClassNotFoundException ex) {\r\n            java.util.logging.Logger.getLogger(form_buku.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (InstantiationException ex) {\r\n            java.util.logging.Logger.getLogger(form_buku.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (IllegalAccessException ex) {\r\n            java.util.logging.Logger.getLogger(form_buku.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n            java.util.logging.Logger.getLogger(form_buku.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        }\r\n        //&lt;/editor-fold&gt;\r\n\r\n        /* Create and display the form */\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new form_buku().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JButton jButton1;\r\n    private javax.swing.JButton jButton2;\r\n    private javax.swing.JButton jButton3;\r\n    private javax.swing.JButton jButton5;\r\n    private javax.swing.JButton jButton6;\r\n    private javax.swing.JButton jButton7;\r\n    private javax.swing.JLabel jLabel1;\r\n    private javax.swing.JLabel jLabel2;\r\n    private javax.swing.JLabel jLabel3;\r\n    private javax.swing.JLabel jLabel4;\r\n    private javax.swing.JLabel jLabel5;\r\n    private javax.swing.JLabel jLabel6;\r\n    private javax.swing.JScrollPane jScrollPane1;\r\n    private javax.swing.JScrollPane jScrollPane2;\r\n    private javax.swing.JScrollPane jScrollPane3;\r\n    private javax.swing.JTable jTable1;\r\n    private javax.swing.JTable jTable2;\r\n    private javax.swing.JTable jTable3;\r\n    private javax.swing.JTextField jTextField1;\r\n    private javax.swing.JTextField jTextField2;\r\n    private javax.swing.JTextField jTextField3;\r\n    private javax.swing.JTextField jTextField4;\r\n    private javax.swing.JTextField jTextField5;\r\n    // End of variables declaration                   \r\n}\r\n\r\n```\r\n\r\nwhen it was run it gives out this error\r\n\r\n```\r\nrun:\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\r\n\tat form_buku.TampilData(form_buku.java:252)\r\n\tat form_buku.&lt;init&gt;(form_buku.java:10)\r\n\tat form_buku$4.run(form_buku.java:298)\r\n\tat java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)\r\n\tat java.awt.EventQueue.access$500(EventQueue.java:97)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:703)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:728)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\r\n\r\n```\r\n\r\ni&#39;m kinda new to this so I can&#39;t determine why it doesn&#39;t connect with SQL\r\n","title":"JDBC can&#39;t establish connection with SQL, nullPointerException error","body":"<p>Cannot establish connection with SQL, when run it gives nullpointerexception error</p>\n<p>the table should display the data, but instead it shows nothing since jdbc doesn't connect to SQL</p>\n<p>here's the class to connect it to SQL</p>\n<pre><code>import com.mysql.jdbc.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLDataException;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class Koneksi {\n\n    private static Connection MySQLConfig;\n    static Connection con;\n    static Statement stm;\n\n    private static Connection config() throws SQLDataException, SQLException {\n        try {\n            String url = &quot;jdbc:mysql://localhost:3306/latihandatabase?zeroDateTimeBehavior=convertToNull [root on Default schema]&quot;;\n            String user = &quot;root&quot;;\n            String pass = &quot;&quot;;\n            DriverManager.registerDriver(new com.mysql.jdbc.Driver());\n            MySQLConfig = (Connection) DriverManager.getConnection(url, user, pass);\n            System.out.println(&quot;Koneksi Berhasil: &quot;);\n        } catch (Exception e) {\n            System.out.println(&quot;koneksi gagal&quot; + e.getMessage());\n        }\n        return MySQLConfig;\n    }\n}\n</code></pre>\n<p>and here's the JFrame class</p>\n<pre><code>\nimport java.sql.SQLException;\nimport javax.swing.table.DefaultTableModel;\n\npublic class form_buku extends javax.swing.JFrame {\n\n    public form_buku() {\n        initComponents();\n        kosongkanForm();\n        TampilData();\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        jScrollPane1 = new javax.swing.JScrollPane();\n        jTable1 = new javax.swing.JTable();\n        jScrollPane2 = new javax.swing.JScrollPane();\n        jTable2 = new javax.swing.JTable();\n        jButton1 = new javax.swing.JButton();\n        jTextField1 = new javax.swing.JTextField();\n        jTextField2 = new javax.swing.JTextField();\n        jTextField3 = new javax.swing.JTextField();\n        jTextField4 = new javax.swing.JTextField();\n        jTextField5 = new javax.swing.JTextField();\n        jLabel1 = new javax.swing.JLabel();\n        jButton2 = new javax.swing.JButton();\n        jButton3 = new javax.swing.JButton();\n        jButton5 = new javax.swing.JButton();\n        jButton6 = new javax.swing.JButton();\n        jButton7 = new javax.swing.JButton();\n        jLabel2 = new javax.swing.JLabel();\n        jLabel3 = new javax.swing.JLabel();\n        jLabel4 = new javax.swing.JLabel();\n        jLabel5 = new javax.swing.JLabel();\n        jLabel6 = new javax.swing.JLabel();\n        jScrollPane3 = new javax.swing.JScrollPane();\n        jTable3 = new javax.swing.JTable();\n\n        jTable1.setModel(new javax.swing.table.DefaultTableModel(\n            new Object [][] {\n                {null, null, null, null},\n                {null, null, null, null},\n                {null, null, null, null},\n                {null, null, null, null}\n            },\n            new String [] {\n                &quot;Title 1&quot;, &quot;Title 2&quot;, &quot;Title 3&quot;, &quot;Title 4&quot;\n            }\n        ));\n        jScrollPane1.setViewportView(jTable1);\n\n        jTable2.setModel(new javax.swing.table.DefaultTableModel(\n            new Object [][] {\n                {null, null, null, null},\n                {null, null, null, null},\n                {null, null, null, null},\n                {null, null, null, null}\n            },\n            new String [] {\n                &quot;Title 1&quot;, &quot;Title 2&quot;, &quot;Title 3&quot;, &quot;Title 4&quot;\n            }\n        ));\n        jScrollPane2.setViewportView(jTable2);\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        jButton1.setText(&quot;Batal&quot;);\n\n        jTextField1.setText(&quot;jTextField1&quot;);\n\n        jTextField2.setText(&quot;jTextField2&quot;);\n\n        jTextField3.setText(&quot;jTextField3&quot;);\n\n        jTextField4.setText(&quot;jTextField4&quot;);\n\n        jTextField5.setText(&quot;jTextField5&quot;);\n\n        jLabel1.setFont(new java.awt.Font(&quot;Tahoma&quot;, 0, 24)); // NOI18N\n        jLabel1.setText(&quot;Form buku&quot;);\n\n        jButton2.setText(&quot;Tambah Data&quot;);\n        jButton2.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jButton2ActionPerformed(evt);\n            }\n        });\n\n        jButton3.setText(&quot;Edit&quot;);\n        jButton3.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jButton3ActionPerformed(evt);\n            }\n        });\n\n        jButton5.setText(&quot;Hapus&quot;);\n\n        jButton6.setText(&quot;Simpan&quot;);\n        jButton6.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jButton6ActionPerformed(evt);\n            }\n        });\n\n        jButton7.setText(&quot;Keluar&quot;);\n\n        jLabel2.setText(&quot;ID Buku&quot;);\n\n        jLabel3.setText(&quot;Judul Buku&quot;);\n\n        jLabel4.setText(&quot;Pengarang&quot;);\n\n        jLabel5.setText(&quot;Harga&quot;);\n\n        jLabel6.setText(&quot;Stock&quot;);\n\n        jTable3.setModel(new javax.swing.table.DefaultTableModel(\n            new Object [][] {\n                {null, null, null, null, null},\n                {null, null, null, null, null},\n                {null, null, null, null, null},\n                {null, null, null, null, null}\n            },\n            new String [] {\n                &quot;Title 1&quot;, &quot;Title 2&quot;, &quot;Title 3&quot;, &quot;Title 4&quot;, &quot;Title 5&quot;\n            }\n        ));\n        jScrollPane3.setViewportView(jTable3);\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addGroup(layout.createSequentialGroup()\n                        .addGap(32, 32, 32)\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                            .addGroup(layout.createSequentialGroup()\n                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                                    .addComponent(jLabel2)\n                                    .addComponent(jLabel3)\n                                    .addComponent(jLabel4)\n                                    .addComponent(jLabel5)\n                                    .addComponent(jLabel6))\n                                .addGap(22, 22, 22)\n                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)\n                                    .addComponent(jTextField5, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 110, Short.MAX_VALUE)\n                                    .addComponent(jTextField4, javax.swing.GroupLayout.Alignment.TRAILING)\n                                    .addComponent(jTextField3, javax.swing.GroupLayout.Alignment.TRAILING)\n                                    .addComponent(jTextField2, javax.swing.GroupLayout.Alignment.TRAILING)\n                                    .addComponent(jTextField1, javax.swing.GroupLayout.Alignment.TRAILING)))\n                            .addGroup(layout.createSequentialGroup()\n                                .addGap(10, 10, 10)\n                                .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))))\n                    .addGroup(layout.createSequentialGroup()\n                        .addGap(18, 18, 18)\n                        .addComponent(jButton2)\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                            .addGroup(layout.createSequentialGroup()\n                                .addGap(107, 107, 107)\n                                .addComponent(jLabel1))\n                            .addGroup(layout.createSequentialGroup()\n                                .addGap(18, 18, 18)\n                                .addComponent(jButton3)\n                                .addGap(24, 24, 24)\n                                .addComponent(jButton5)\n                                .addGap(18, 18, 18)\n                                .addComponent(jButton6)\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\n                                .addComponent(jButton1)\n                                .addGap(13, 13, 13)\n                                .addComponent(jButton7)))))\n                .addContainerGap(24, Short.MAX_VALUE))\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addContainerGap()\n                .addComponent(jLabel1)\n                .addGap(24, 24, 24)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)\n                    .addComponent(jLabel2))\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(jTextField2, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)\n                    .addComponent(jLabel3))\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(jTextField3, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)\n                    .addComponent(jLabel4))\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(jTextField4, javax.swing.GroupLayout.PREFERRED_SIZE, 31, javax.swing.GroupLayout.PREFERRED_SIZE)\n                    .addComponent(jLabel5))\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(jTextField5, javax.swing.GroupLayout.PREFERRED_SIZE, 31, javax.swing.GroupLayout.PREFERRED_SIZE)\n                    .addComponent(jLabel6))\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(jButton2)\n                    .addComponent(jButton3)\n                    .addComponent(jButton5)\n                    .addComponent(jButton6)\n                    .addComponent(jButton1)\n                    .addComponent(jButton7))\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 99, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addContainerGap())\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        // TODO add your handling code here:\n        kosongkanForm();\n    }                                        \n\n    private void jButton3ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        // TODO add your handling code here:\n    }                                        \n\n    private void jButton6ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        // TODO add your handling code here:\n\n    }                                        \n\n    public void kosongkanForm() {\n        jTextField1.setText(null);\n        jTextField2.setText(null);\n        jTextField3.setText(null);\n        jTextField4.setText(null);\n        jTextField5.setText(null);\n    }\n\nprivate void TampilData(){\n    DefaultTableModel model = new DefaultTableModel();\n    model.addColumn(&quot;ID&quot;);\n    model.addColumn(&quot;Judul&quot;);\n    model.addColumn(&quot;Pengarang&quot;);\n    model.addColumn(&quot;Harga&quot;);\n    model.addColumn(&quot;Stock&quot;);\n\n    try{\n\n        String sql = &quot;SELECT * from BUKU&quot;;\n        Koneksi.stm=Koneksi.con.createStatement();\n        java.sql.ResultSet res=Koneksi.stm.executeQuery(sql);\n\n        while(res.next()){\n            model.addRow(new Object[]{\n            res.getString(1),\n            res.getString(2),\n            res.getString(3),\n            res.getString(4),\n            res.getString(5)});\n        }\n        jTable3.setModel(model);\n    }\n    catch(SQLException e){\n        System.out.println(&quot;Error&quot;+e.getMessage());\n\n    }\n}\n\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(form_buku.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(form_buku.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(form_buku.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(form_buku.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new form_buku().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton jButton1;\n    private javax.swing.JButton jButton2;\n    private javax.swing.JButton jButton3;\n    private javax.swing.JButton jButton5;\n    private javax.swing.JButton jButton6;\n    private javax.swing.JButton jButton7;\n    private javax.swing.JLabel jLabel1;\n    private javax.swing.JLabel jLabel2;\n    private javax.swing.JLabel jLabel3;\n    private javax.swing.JLabel jLabel4;\n    private javax.swing.JLabel jLabel5;\n    private javax.swing.JLabel jLabel6;\n    private javax.swing.JScrollPane jScrollPane1;\n    private javax.swing.JScrollPane jScrollPane2;\n    private javax.swing.JScrollPane jScrollPane3;\n    private javax.swing.JTable jTable1;\n    private javax.swing.JTable jTable2;\n    private javax.swing.JTable jTable3;\n    private javax.swing.JTextField jTextField1;\n    private javax.swing.JTextField jTextField2;\n    private javax.swing.JTextField jTextField3;\n    private javax.swing.JTextField jTextField4;\n    private javax.swing.JTextField jTextField5;\n    // End of variables declaration                   \n}\n\n</code></pre>\n<p>when it was run it gives out this error</p>\n<pre><code>run:\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\n    at form_buku.TampilData(form_buku.java:252)\n    at form_buku.&lt;init&gt;(form_buku.java:10)\n    at form_buku$4.run(form_buku.java:298)\n    at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)\n    at java.awt.EventQueue.access$500(EventQueue.java:97)\n    at java.awt.EventQueue$3.run(EventQueue.java:709)\n    at java.awt.EventQueue$3.run(EventQueue.java:703)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:728)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\n\n</code></pre>\n<p>i'm kinda new to this so I can't determine why it doesn't connect with SQL</p>\n"},{"tags":["java","json","csv","serialization"],"answers":[{"tags":[],"owner":{"account_id":28362251,"reputation":36,"user_id":21692077,"display_name":"Durfen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682340383,"creation_date":1682340383,"answer_id":76092050,"question_id":76091939,"body_markdown":"Why don&#39;t just use a Map&lt;String, Object&gt; and wrap that into a POJO?\r\n\r\nYou can also use Jackson Substypes but you need the definitions beforehand\r\nhttps://www.baeldung.com/jackson-annotations\r\n","title":"How to convert flat values to a JSON with dynamically changing schema?","body":"<p>Why don't just use a Map&lt;String, Object&gt; and wrap that into a POJO?</p>\n<p>You can also use Jackson Substypes but you need the definitions beforehand\n<a href=\"https://www.baeldung.com/jackson-annotations\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-annotations</a></p>\n"}],"owner":{"account_id":298566,"reputation":537,"user_id":604656,"accept_rate":47,"display_name":"ashish.g"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682396534,"creation_date":1682339682,"question_id":76091939,"body_markdown":"I have a list of values e.g. in a CSV; and a JSON schema **which can change at runtime**. I want to create a JSON out of the schema and fill appropriate values from the CSV.\r\n\r\nHere is an example of what I would like to achieve:\r\n\r\nHere is a CSV:\r\n\r\n&lt;blockquote&gt;\r\nproductId, price, inStock&lt;br/&gt;\r\n12345, 200, true&lt;br/&gt;\r\n45678, 299, true\r\n&lt;/blockquote&gt;\r\n\r\nI need to convert each line to a JSON like following, for example. There can be nested objects. The schema can change and i would need to provide relevant mapping.\r\n\r\n```\r\n{\r\n  &quot;product&quot;:{\r\n    &quot;id&quot;: &quot;1234&quot;,\r\n    &quot;price&quot; : 200,\r\n    &quot;stockAvailable&quot; : &quot;yes&quot;\r\n  }\r\n}\r\n```\r\n\r\nI thought of some ways of achieving it. I wanted to check if there is any better way available via some library. If not, is there any downside to any of the following methods?\r\n\r\n\r\n&lt;hr/&gt;\r\n\r\n**1.** \r\nCreate a JSON from the schema with a the default value as the mapped column number of the CSV inside curly brackets. Like, in the above example, the JSON like following. The values can be supplied using a String formatter.\r\n```\r\n{\r\n  &quot;product&quot;:{\r\n    &quot;id&quot;: {0},\r\n    &quot;price&quot; : {1},\r\n    &quot;stockAvailable&quot; : {2}\r\n  }\r\n}\r\n```\r\n\r\n&lt;hr/&gt;\r\n\r\n**2.**\r\nCreate a dynamic set of JSON data-binding classes. Fill the values (using Jackson or something like that) and convert to JSON.\r\n```\r\n@JsonPropertyOrder({ &quot;id&quot;, &quot;price&quot;, &quot;stock&quot;})\r\npublic class Product {\r\n\r\n\tpublic String id;\r\n\tpublic Double price;\r\n\tpublic Boolean stock;\r\n\r\n}\r\n```","title":"How to convert flat values to a JSON with dynamically changing schema?","body":"<p>I have a list of values e.g. in a CSV; and a JSON schema <strong>which can change at runtime</strong>. I want to create a JSON out of the schema and fill appropriate values from the CSV.</p>\n<p>Here is an example of what I would like to achieve:</p>\n<p>Here is a CSV:</p>\n<blockquote>\nproductId, price, inStock<br/>\n12345, 200, true<br/>\n45678, 299, true\n</blockquote>\n<p>I need to convert each line to a JSON like following, for example. There can be nested objects. The schema can change and i would need to provide relevant mapping.</p>\n<pre><code>{\n  &quot;product&quot;:{\n    &quot;id&quot;: &quot;1234&quot;,\n    &quot;price&quot; : 200,\n    &quot;stockAvailable&quot; : &quot;yes&quot;\n  }\n}\n</code></pre>\n<p>I thought of some ways of achieving it. I wanted to check if there is any better way available via some library. If not, is there any downside to any of the following methods?</p>\n<hr/>\n<p><strong>1.</strong>\nCreate a JSON from the schema with a the default value as the mapped column number of the CSV inside curly brackets. Like, in the above example, the JSON like following. The values can be supplied using a String formatter.</p>\n<pre><code>{\n  &quot;product&quot;:{\n    &quot;id&quot;: {0},\n    &quot;price&quot; : {1},\n    &quot;stockAvailable&quot; : {2}\n  }\n}\n</code></pre>\n<hr/>\n<p><strong>2.</strong>\nCreate a dynamic set of JSON data-binding classes. Fill the values (using Jackson or something like that) and convert to JSON.</p>\n<pre><code>@JsonPropertyOrder({ &quot;id&quot;, &quot;price&quot;, &quot;stock&quot;})\npublic class Product {\n\n    public String id;\n    public Double price;\n    public Boolean stock;\n\n}\n</code></pre>\n"},{"tags":["java","flux"],"owner":{"account_id":22418218,"reputation":1,"user_id":16625949,"display_name":"Laurens van Nieuwenhuize"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682394921,"creation_date":1682006970,"question_id":76066196,"body_markdown":"I&#39;m learning java flux, and i came to this problem. \r\n\r\nWhat i want is:\r\nIf the object alrdy exists with the right status, i want to update it further in the code. If the object doesnt exists or has the wrong status i will make a new object.\r\n\r\nI tried this by comparing two objects which could contain the same status, but one is 1 mono and the other is not. I have succeeded in my unit test fixing this using block. But when building the integration test the block make the compiler skip the rest of my code in this class when it reaches the block. And when I dont use the block i never get my value the same as the Object in our library, because they are diffent objects. From what i understand i should use as little .block as possible, so i prefer not to use it in this class but a class higher in the application.\r\n\r\n    @Override\r\n    public Mono&lt;Id&gt; handle(GetOrCreateObjectCommand command) {\r\n        var id = command.getId();\r\n\r\n        Mono&lt;Object&gt; object = objectCommandPort.getIdAndStatus(id);\r\n        ObjectStatus objectStatus = object.map(object::getStatus).block();\r\n\r\n        if (monoStatus.equals(ObjectStatus.STARTED)) {\r\n            return object.map(Object::getObjectId);\r\n        } else {\r\n            return objectCommandPort\r\n                    .createObject(id)\r\n                    .onErrorResume(e -&gt; Mono.error(\r\n                            new testException(\r\n                                    ERROR.message(e.getMessage()))));\r\n        }}\r\n\r\nSo at the IF the status of the different objects will be checked on status. If its the same then get the Id. If not then make a new object. Also when the object doesnt exists, we want to create a new one.","title":"Comparing attribute of a Mono versus An attribute of an object thats not a Mono (for an if (exists) else situation)","body":"<p>I'm learning java flux, and i came to this problem.</p>\n<p>What i want is:\nIf the object alrdy exists with the right status, i want to update it further in the code. If the object doesnt exists or has the wrong status i will make a new object.</p>\n<p>I tried this by comparing two objects which could contain the same status, but one is 1 mono and the other is not. I have succeeded in my unit test fixing this using block. But when building the integration test the block make the compiler skip the rest of my code in this class when it reaches the block. And when I dont use the block i never get my value the same as the Object in our library, because they are diffent objects. From what i understand i should use as little .block as possible, so i prefer not to use it in this class but a class higher in the application.</p>\n<pre><code>@Override\npublic Mono&lt;Id&gt; handle(GetOrCreateObjectCommand command) {\n    var id = command.getId();\n\n    Mono&lt;Object&gt; object = objectCommandPort.getIdAndStatus(id);\n    ObjectStatus objectStatus = object.map(object::getStatus).block();\n\n    if (monoStatus.equals(ObjectStatus.STARTED)) {\n        return object.map(Object::getObjectId);\n    } else {\n        return objectCommandPort\n                .createObject(id)\n                .onErrorResume(e -&gt; Mono.error(\n                        new testException(\n                                ERROR.message(e.getMessage()))));\n    }}\n</code></pre>\n<p>So at the IF the status of the different objects will be checked on status. If its the same then get the Id. If not then make a new object. Also when the object doesnt exists, we want to create a new one.</p>\n"},{"tags":["java","spring-mvc"],"owner":{"account_id":22980869,"reputation":33,"user_id":17107814,"display_name":"do hai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682394766,"creation_date":1682394766,"question_id":76097542,"body_markdown":"I am running my first javaSpring MVC but when i run it i get the error: &quot;The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.&quot;\r\nthis is my pom.xml:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;com.dothanh&lt;/groupId&gt;\r\n  &lt;artifactId&gt;shophai&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n  &lt;dependencies&gt;\r\n\t  &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;junit&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    &lt;version&gt;4.13.2&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    &lt;version&gt;5.3.20&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.1&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.3.1&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t&lt;finalName&gt;project name&lt;/finalName&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nthis is my web.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n\t&lt;display-name&gt;shopOneline&lt;/display-name&gt;\r\n\t&lt;!-- The front controller of this Spring Web application, responsible for handling all application requests --&gt;\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;springDispatcherServlet&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;/WEB-INF/shophai-servlet.xml&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\r\n\t&lt;!-- Map all requests to the DispatcherServlet for handling --&gt;\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;springDispatcherServlet&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\nthis is my servlet.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txmlns:cache=&quot;http://www.springframework.org/schema/cache&quot;\r\n\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:jee=&quot;http://www.springframework.org/schema/jee&quot;\r\n\txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n\t\thttp://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache-4.3.xsd\r\n\t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd\r\n\t\thttp://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-4.3.xsd\r\n\t\thttp://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd&quot;&gt;\r\n\r\n\r\n         &lt;context:component-scan base-package=&quot;com.dothanh.Controller&quot;&gt;&lt;/context:component-scan&gt;\r\n\r\n&lt;/beans&gt;\r\n```\r\nthis is my controller:\r\n```\r\n\r\npackage com.dothanh.Controller;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\n\r\n@Controller\r\npublic class HomeController {\r\n\t\r\n\t@RequestMapping(&quot;/&quot;)\r\n\t@ResponseBody\r\n\tpublic String trangchu() {\r\n\t\t\r\n\t\treturn &quot;&quot;;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nthis is the error when i run up:\r\n[![this is the error when i run up:](https://i.stack.imgur.com/MCcbs.png)](https://i.stack.imgur.com/MCcbs.png)\r\n","title":"The origin server did not find a current representation","body":"<p>I am running my first javaSpring MVC but when i run it i get the error: &quot;The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.&quot;\nthis is my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.dothanh&lt;/groupId&gt;\n  &lt;artifactId&gt;shophai&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;dependencies&gt;\n      &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;4.13.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n    &lt;version&gt;5.3.20&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.1&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;finalName&gt;project name&lt;/finalName&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>this is my web.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\n    &lt;display-name&gt;shopOneline&lt;/display-name&gt;\n    &lt;!-- The front controller of this Spring Web application, responsible for handling all application requests --&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;springDispatcherServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/shophai-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;!-- Map all requests to the DispatcherServlet for handling --&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;springDispatcherServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>this is my servlet.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:cache=&quot;http://www.springframework.org/schema/cache&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:jee=&quot;http://www.springframework.org/schema/jee&quot;\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache-4.3.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd\n        http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-4.3.xsd\n        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd&quot;&gt;\n\n\n         &lt;context:component-scan base-package=&quot;com.dothanh.Controller&quot;&gt;&lt;/context:component-scan&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>this is my controller:</p>\n<pre><code>\npackage com.dothanh.Controller;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\n@Controller\npublic class HomeController {\n    \n    @RequestMapping(&quot;/&quot;)\n    @ResponseBody\n    public String trangchu() {\n        \n        return &quot;&quot;;\n    }\n\n}\n</code></pre>\n<p>this is the error when i run up:\n<a href=\"https://i.stack.imgur.com/MCcbs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MCcbs.png\" alt=\"this is the error when i run up:\" /></a></p>\n"},{"tags":["java","bouncycastle","gpg-signature"],"owner":{"account_id":14392416,"reputation":113,"user_id":10396675,"display_name":"Geeky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682393919,"creation_date":1682393919,"question_id":76097501,"body_markdown":"I am currently using bouncy-gpg --&gt; v2.3.0,\r\nbcpg-jdk15on --&gt; v1.59 and bcprov-jdk15on --&gt; v1.65 maven dependencies. The decryption works perfectly fine with the encrypted input file. But on bumping version of bcpg-jdk15on to 1.65, it starts throwing exception, i.e., invalid armor. \r\nI am unable to figure out what is causing the compatibility issue.\r\n\r\nAny help would be greatly appreciated.","title":"Bouncy Castle : invalid armor IOException","body":"<p>I am currently using bouncy-gpg --&gt; v2.3.0,\nbcpg-jdk15on --&gt; v1.59 and bcprov-jdk15on --&gt; v1.65 maven dependencies. The decryption works perfectly fine with the encrypted input file. But on bumping version of bcpg-jdk15on to 1.65, it starts throwing exception, i.e., invalid armor.\nI am unable to figure out what is causing the compatibility issue.</p>\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["java","gradle","build.gradle","gradle-plugin"],"comments":[{"owner":{"account_id":429820,"reputation":3270,"user_id":812919,"display_name":"olfek"},"score":1,"creation_date":1681993709,"post_id":76063958,"comment_id":134147845,"body_markdown":"use a Java HTTP library, you can import it in your Gradle script","body":"use a Java HTTP library, you can import it in your Gradle script"},{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":2,"creation_date":1681995381,"post_id":76063958,"comment_id":134148318,"body_markdown":"I used https://github.com/michel-kraemer/gradle-download-task","body":"I used <a href=\"https://github.com/michel-kraemer/gradle-download-task\" rel=\"nofollow noreferrer\">github.com/michel-kraemer/gradle-download-task</a>"},{"owner":{"account_id":1835033,"reputation":5468,"user_id":1665592,"accept_rate":77,"display_name":"Swapnil Kotwal"},"score":0,"creation_date":1681996981,"post_id":76063958,"comment_id":134148783,"body_markdown":"would you able to help me with answer to implement it using AWS_ACCESS_KEY/SECRETE_KEY for S3 authentication? TIA","body":"would you able to help me with answer to implement it using AWS_ACCESS_KEY/SECRETE_KEY for S3 authentication? TIA"}],"answers":[{"tags":[],"owner":{"account_id":1835033,"reputation":5468,"user_id":1665592,"accept_rate":77,"display_name":"Swapnil Kotwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682393553,"creation_date":1682393553,"answer_id":76097480,"question_id":76063958,"body_markdown":"Okay, I got it using traditional S3 maven repo plugin download.\r\n\r\nI&#39;ve added zip into my gradle classpath as\r\n\r\n```\r\ntestLibs(&quot;com.myproject:myproject-test-lib:$TEST_LIB_VERSION&quot;)\r\n```\r\n\r\nAnd from classpath extracted the cached zip to project dir as\r\n\r\n    /**\r\n     * Extract the &#39;test-libs&#39; from classpath to project directory.\r\n     */\r\n    task unzipTestLibs(type: Copy) {\r\n        from zipTree(configurations.testLibs.find { it.name.contains(&#39;myproject-test-lib&#39;) })\r\n            .matching { include &#39;**/*.jar&#39; }\r\n        into &quot;$projectDir/libs/test-lib&quot;\r\n    }\r\n\r\n\r\nfinally, called this task on \r\n\r\n    compileJava.dependsOn(unzipTestLibs)","title":"Gradle, How to download .zip file from S3","body":"<p>Okay, I got it using traditional S3 maven repo plugin download.</p>\n<p>I've added zip into my gradle classpath as</p>\n<pre><code>testLibs(&quot;com.myproject:myproject-test-lib:$TEST_LIB_VERSION&quot;)\n</code></pre>\n<p>And from classpath extracted the cached zip to project dir as</p>\n<pre><code>/**\n * Extract the 'test-libs' from classpath to project directory.\n */\ntask unzipTestLibs(type: Copy) {\n    from zipTree(configurations.testLibs.find { it.name.contains('myproject-test-lib') })\n        .matching { include '**/*.jar' }\n    into &quot;$projectDir/libs/test-lib&quot;\n}\n</code></pre>\n<p>finally, called this task on</p>\n<pre><code>compileJava.dependsOn(unzipTestLibs)\n</code></pre>\n"}],"owner":{"account_id":1835033,"reputation":5468,"user_id":1665592,"accept_rate":77,"display_name":"Swapnil Kotwal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76097480,"answer_count":1,"score":1,"last_activity_date":1682393553,"creation_date":1681993053,"question_id":76063958,"body_markdown":"I&#39;m planing to write a custom task as below in gradle to download .zip from the S3 \r\n\r\n    task downloadZipFromS3(type: com.amazonaws.gradle.s3.Download) {\r\n      bucket = &quot;${s3.bucket}&quot;\r\n      key = &quot;${s3.key}&quot;\r\n      file = file(&quot;your-local-file.zip&quot;)\r\n    }\r\n\r\nBut not getting any concrete gradle plugin to download the zip. If there is any &quot;standard&quot; plugin or any other way to download .zip files from S3 and save in my project dir?\r\n","title":"Gradle, How to download .zip file from S3","body":"<p>I'm planing to write a custom task as below in gradle to download .zip from the S3</p>\n<pre><code>task downloadZipFromS3(type: com.amazonaws.gradle.s3.Download) {\n  bucket = &quot;${s3.bucket}&quot;\n  key = &quot;${s3.key}&quot;\n  file = file(&quot;your-local-file.zip&quot;)\n}\n</code></pre>\n<p>But not getting any concrete gradle plugin to download the zip. If there is any &quot;standard&quot; plugin or any other way to download .zip files from S3 and save in my project dir?</p>\n"},{"tags":["java","java-8","singleton"],"comments":[{"owner":{"account_id":1677301,"reputation":2224,"user_id":1542523,"accept_rate":66,"display_name":"flower"},"score":0,"creation_date":1682391379,"post_id":76097297,"comment_id":134204080,"body_markdown":"@Elliott Frisch,In idea,it can output the result with some warns.","body":"@Elliott Frisch,In idea,it can output the result with some warns."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1682391859,"post_id":76097297,"comment_id":134204125,"body_markdown":"_What_ code do you put in position 2?","body":"<i>What</i> code do you put in position 2?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1682392018,"post_id":76097297,"comment_id":134204135,"body_markdown":"@LouisWasserman I was able to reproduce with posted code in eclipse. `0` and `1` is the output. Pretty obvious bug. Position 2 is just `private static   int y;`","body":"@LouisWasserman I was able to reproduce with posted code in eclipse. <code>0</code> and <code>1</code> is the output. Pretty obvious bug. Position 2 is just <code>private static   int y;</code>"},{"owner":{"account_id":1677301,"reputation":2224,"user_id":1542523,"accept_rate":66,"display_name":"flower"},"score":0,"creation_date":1682392133,"post_id":76097297,"comment_id":134204139,"body_markdown":"@LouisWasserman,private static Singleton instance = new Singleton();","body":"@LouisWasserman,private static Singleton instance = new Singleton();"},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1682393019,"post_id":76097297,"comment_id":134204204,"body_markdown":"@ElliottFrisch The behaviour as described in this question is __correct__; if ecj indeed produces a class file that results in 0/1, but javac makes 1/1 out of this, then javac is at fault, not eclipse. See my answer for the odd combination of JLS rules that result in the correct answer being, weirdly, 0/1 here. So, __no__, not &#39;pretty obviously bug&#39;. (Anecdotally, in about 15 cases ecj and javac disagreed in my long java career, ecj was correct in 14 of them. I advise to all: If ecj and javac differ, ecj is almost always correct).","body":"@ElliottFrisch The behaviour as described in this question is <b>correct</b>; if ecj indeed produces a class file that results in 0/1, but javac makes 1/1 out of this, then javac is at fault, not eclipse. See my answer for the odd combination of JLS rules that result in the correct answer being, weirdly, 0/1 here. So, <b>no</b>, not &#39;pretty obviously bug&#39;. (Anecdotally, in about 15 cases ecj and javac disagreed in my long java career, ecj was correct in 14 of them. I advise to all: If ecj and javac differ, ecj is almost always correct)."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1682394124,"post_id":76097297,"comment_id":134204283,"body_markdown":"@rzwitserloot &quot;Don&#39;t write this kind of code&quot;. Is the best answer possible here.","body":"@rzwitserloot &quot;Don&#39;t write this kind of code&quot;. Is the best answer possible here."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1682392928,"creation_date":1682392928,"answer_id":76097452,"question_id":76097297,"body_markdown":"Don&#39;t write this kind of code. It&#39;s, as you figured out, extremely confusing. It _is_, however, according to spec. Weird as it is. Let&#39;s go through the considerable steps to explain this. It&#39;s individual nuggets of detail about intricate and usually irrelevant details which combine to explain this behaviour.\r\n\r\n## The difference between CTCs and initializers\r\n\r\nImagine this code:\r\n\r\n```\r\npublic class Foo {\r\n  private static final long MARK = System.currentTimeMillis();\r\n}\r\n```\r\n\r\nObviously, the value of `MARK` cannot be determined at compile time - that is interpreted as &#39;the timestamp, as it was when that field is initialized&#39;, which boils down to &#39;when this class is loaded&#39;. That means the first time any code anywhere so much as references `Foo`, some code has to be executed. During this execution, context has to exist - such code could in theory refer to `MARK`.\r\n\r\nThus, `MARK` __starts off__ at `0`, and this code is compiled as:\r\n\r\n```\r\npublic class Foo {\r\n  private static final long MARK;\r\n\r\n  static {\r\n    // Until MARK is set, MARK is 0.\r\n    MARK = System.currentTimeMillis();\r\n  }\r\n}\r\n```\r\n\r\nThat is legal java code (try it; compile it) - that is a static initializer. Run `javap -c -v Foo` to see this stuff.\r\n\r\nThis:\r\n\r\n```\r\npublic class Foo {\r\n  private static final int FOO = 5;\r\n}\r\n```\r\n\r\nis _very_ different. If you run `javap -c -v Foo` on this you&#39;ll notice there is no static initializer at all. Instead, 5 is a so-called CTC: A Compile-Time-Constant. The compiler itself resolves it, and places this value directly into the class file. In the first case, `MARK` poofed into existence containing 0, and then during initialization its value is set. But, `FOO` poofs into existence having value 5 __immediately__.\r\n\r\nDue solely down to how CTCs are defined, in your code, `x` and `y` __are not__ eligible; specifically `x` _does not_ have a constant value, that&#39;s because to be eligible, the field has to be `static` __and__ `final`. Obviously, neither is `singleton`. Thus, your code is identical to:\r\n\r\n```\r\n private static Singleton instance;\r\n//①\r\nprivate static int x;\r\n\r\nprivate static   int y;\r\n//②\r\n\r\nstatic {\r\n  instance = new Singleton();\r\n  x = 0;\r\n}\r\n\r\nprivate Singleton()\r\n{\r\n    System.out.println(&quot;Starting add&quot;);\r\n    x++;\r\n    y++;\r\n}\r\n\r\npublic static Singleton getInstance()\r\n{\r\n    return instance;\r\n}\r\n\r\n// ....\r\n}\r\n```\r\n\r\nNow it should be obvious why you get 0/1 and not the expected 1/1. First, the constructor runs, with `x` and `y` both being zero. The constructor sets them to 1/1. Then afterwards, x is set to 0.\r\n\r\n## But.. forget all that\r\n\r\nThe real problem is, this code is silly. You don&#39;t make singletons AND static fields, that makes no sense at all. Constructors __should not__ function as the initializer of `static` context. Constructors are fundamentally related to instances. This code should thus never be written, it&#39;s at odds with itself, and you need to know the JLS front-to-back just to understand what is even happening.\r\n\r\nThe general approach to singletons is to have all non-static content, _except_ the field containing the singleton and its accessor:\r\n\r\n```\r\nclass Foo {\r\n  private static final Foo INSTANCE = new Foo();\r\n  private int x = 0;\r\n  private int y;\r\n\r\n  private Foo() {\r\n    x++;\r\n    y++;\r\n  }\r\n\r\n  public static Foo getInstance() { return INSTANCE; }\r\n}\r\n```\r\n\r\nThe above works fine.\r\n\r\nAlternatively if you have static things that need initialization, write an actual static initializer. If you have this, a singleton generally doesn&#39;t make sense - just make everything static, at which point a singleton would be pointless:\r\n\r\n```\r\npublic class Foo {\r\n  private static int x = 0;\r\n  private static int y = 0;\r\n\r\n  static {\r\n    x++;\r\n    y++;\r\n  }\r\n}\r\n```\r\n\r\nworks fine too (x and y are 1 and 1 in both of these 2 snippets).\r\n","title":"Why do x and y output different values in singleton pattern in Java?","body":"<p>Don't write this kind of code. It's, as you figured out, extremely confusing. It <em>is</em>, however, according to spec. Weird as it is. Let's go through the considerable steps to explain this. It's individual nuggets of detail about intricate and usually irrelevant details which combine to explain this behaviour.</p>\n<h2>The difference between CTCs and initializers</h2>\n<p>Imagine this code:</p>\n<pre><code>public class Foo {\n  private static final long MARK = System.currentTimeMillis();\n}\n</code></pre>\n<p>Obviously, the value of <code>MARK</code> cannot be determined at compile time - that is interpreted as 'the timestamp, as it was when that field is initialized', which boils down to 'when this class is loaded'. That means the first time any code anywhere so much as references <code>Foo</code>, some code has to be executed. During this execution, context has to exist - such code could in theory refer to <code>MARK</code>.</p>\n<p>Thus, <code>MARK</code> <strong>starts off</strong> at <code>0</code>, and this code is compiled as:</p>\n<pre><code>public class Foo {\n  private static final long MARK;\n\n  static {\n    // Until MARK is set, MARK is 0.\n    MARK = System.currentTimeMillis();\n  }\n}\n</code></pre>\n<p>That is legal java code (try it; compile it) - that is a static initializer. Run <code>javap -c -v Foo</code> to see this stuff.</p>\n<p>This:</p>\n<pre><code>public class Foo {\n  private static final int FOO = 5;\n}\n</code></pre>\n<p>is <em>very</em> different. If you run <code>javap -c -v Foo</code> on this you'll notice there is no static initializer at all. Instead, 5 is a so-called CTC: A Compile-Time-Constant. The compiler itself resolves it, and places this value directly into the class file. In the first case, <code>MARK</code> poofed into existence containing 0, and then during initialization its value is set. But, <code>FOO</code> poofs into existence having value 5 <strong>immediately</strong>.</p>\n<p>Due solely down to how CTCs are defined, in your code, <code>x</code> and <code>y</code> <strong>are not</strong> eligible; specifically <code>x</code> <em>does not</em> have a constant value, that's because to be eligible, the field has to be <code>static</code> <strong>and</strong> <code>final</code>. Obviously, neither is <code>singleton</code>. Thus, your code is identical to:</p>\n<pre><code> private static Singleton instance;\n//①\nprivate static int x;\n\nprivate static   int y;\n//②\n\nstatic {\n  instance = new Singleton();\n  x = 0;\n}\n\nprivate Singleton()\n{\n    System.out.println(&quot;Starting add&quot;);\n    x++;\n    y++;\n}\n\npublic static Singleton getInstance()\n{\n    return instance;\n}\n\n// ....\n}\n</code></pre>\n<p>Now it should be obvious why you get 0/1 and not the expected 1/1. First, the constructor runs, with <code>x</code> and <code>y</code> both being zero. The constructor sets them to 1/1. Then afterwards, x is set to 0.</p>\n<h2>But.. forget all that</h2>\n<p>The real problem is, this code is silly. You don't make singletons AND static fields, that makes no sense at all. Constructors <strong>should not</strong> function as the initializer of <code>static</code> context. Constructors are fundamentally related to instances. This code should thus never be written, it's at odds with itself, and you need to know the JLS front-to-back just to understand what is even happening.</p>\n<p>The general approach to singletons is to have all non-static content, <em>except</em> the field containing the singleton and its accessor:</p>\n<pre><code>class Foo {\n  private static final Foo INSTANCE = new Foo();\n  private int x = 0;\n  private int y;\n\n  private Foo() {\n    x++;\n    y++;\n  }\n\n  public static Foo getInstance() { return INSTANCE; }\n}\n</code></pre>\n<p>The above works fine.</p>\n<p>Alternatively if you have static things that need initialization, write an actual static initializer. If you have this, a singleton generally doesn't make sense - just make everything static, at which point a singleton would be pointless:</p>\n<pre><code>public class Foo {\n  private static int x = 0;\n  private static int y = 0;\n\n  static {\n    x++;\n    y++;\n  }\n}\n</code></pre>\n<p>works fine too (x and y are 1 and 1 in both of these 2 snippets).</p>\n"}],"owner":{"account_id":1677301,"reputation":2224,"user_id":1542523,"accept_rate":66,"display_name":"flower"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76097452,"answer_count":1,"score":1,"last_activity_date":1682392928,"creation_date":1682390143,"question_id":76097297,"body_markdown":"In the following code, why are x and y outputting 0 and 1 respectively? Why is it that when I put this code：`private static Singleton instance = new Singleton();` in position ② from position ①, the output is 1, 1?\r\n\r\n       private static Singleton instance = new Singleton();\r\n    //①\r\n    private static int x = 0;\r\n\r\n    private static   int y;\r\n    //②\r\n    private Singleton()\r\n    {\r\n        System.out.println(&quot;Starting add&quot;);\r\n        x++;\r\n        y++;\r\n    }\r\n\r\n    public static Singleton getInstance()\r\n    {\r\n        return instance;\r\n    }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        System.out.println(&quot;Starting Singleton&quot;);\r\n        Singleton singleton = Singleton.getInstance();\r\n        //Singleton singleton = new Singleton();\r\n        System.out.println(singleton.x);\r\n        System.out.println(singleton.y);\r\n    }","title":"Why do x and y output different values in singleton pattern in Java?","body":"<p>In the following code, why are x and y outputting 0 and 1 respectively? Why is it that when I put this code：<code>private static Singleton instance = new Singleton();</code> in position ② from position ①, the output is 1, 1?</p>\n<pre><code>   private static Singleton instance = new Singleton();\n//①\nprivate static int x = 0;\n\nprivate static   int y;\n//②\nprivate Singleton()\n{\n    System.out.println(&quot;Starting add&quot;);\n    x++;\n    y++;\n}\n\npublic static Singleton getInstance()\n{\n    return instance;\n}\n\npublic static void main(String[] args)\n{\n    System.out.println(&quot;Starting Singleton&quot;);\n    Singleton singleton = Singleton.getInstance();\n    //Singleton singleton = new Singleton();\n    System.out.println(singleton.x);\n    System.out.println(singleton.y);\n}\n</code></pre>\n"},{"tags":["java","flutter","appium-android","appium-java"],"owner":{"account_id":4667724,"reputation":629,"user_id":3780373,"display_name":"PraNuta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682392248,"creation_date":1682392248,"question_id":76097415,"body_markdown":"I am trying to test a Flutter application with Appium 2.0.0.beta 57, using Java 15. I created a web element like here\r\n\r\n    @AndroidFindBy(className = “android.widget.Button”)\r\n    // @iOSXCUITFindBy(iOSNsPredicate = “type == “XCUIElementTypeTextField””)\r\n    private WebElement **scanQRCodeBtn**;\r\n\r\nThe Appium Inspector is showing the following attributes\r\n\r\n    class—&gt;android.widget.Button\r\n    content-desc–&gt;scan qr code\r\n\r\nThe Java code is given below\r\n\r\n    String txt = getContentDesc(scanQRCodeBtn);\r\n    System.out.println(“scanQRCodeBtn=”+txt);\r\n\r\nThe last print out to the console is printing\r\n\r\n**scanQRCodeBtn=null**\r\n\r\nWhat is the important thing, I might be missing here?\r\n\r\nThanks for your help in advance","title":"Appium with Flutter app, a web element content description is shown null even though the element attributes show some string value","body":"<p>I am trying to test a Flutter application with Appium 2.0.0.beta 57, using Java 15. I created a web element like here</p>\n<pre><code>@AndroidFindBy(className = “android.widget.Button”)\n// @iOSXCUITFindBy(iOSNsPredicate = “type == “XCUIElementTypeTextField””)\nprivate WebElement **scanQRCodeBtn**;\n</code></pre>\n<p>The Appium Inspector is showing the following attributes</p>\n<pre><code>class—&gt;android.widget.Button\ncontent-desc–&gt;scan qr code\n</code></pre>\n<p>The Java code is given below</p>\n<pre><code>String txt = getContentDesc(scanQRCodeBtn);\nSystem.out.println(“scanQRCodeBtn=”+txt);\n</code></pre>\n<p>The last print out to the console is printing</p>\n<p><strong>scanQRCodeBtn=null</strong></p>\n<p>What is the important thing, I might be missing here?</p>\n<p>Thanks for your help in advance</p>\n"},{"tags":["java","gradle","compilation","javac","annotation-processing"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676917013,"post_id":75507897,"comment_id":133229705,"body_markdown":"All those `--add-exports` compiler args you have only apply to the annotation processor project (when compiling it). Those compiler args aren&#39;t automatically included in any project that depends on your annotation processor. Though why are you trying to implement `TreeTranslator`, which is from a non-exported package? Why not implement [`TreeVisitor`](https://docs.oracle.com/en/java/javase/19/docs/api/jdk.compiler/com/sun/source/tree/TreeVisitor.html) or extend an implementation, e.g., `SimpleTreeVisitor`, `TreePathScanner`, or `TreeScanner`?","body":"All those <code>--add-exports</code> compiler args you have only apply to the annotation processor project (when compiling it). Those compiler args aren&#39;t automatically included in any project that depends on your annotation processor. Though why are you trying to implement <code>TreeTranslator</code>, which is from a non-exported package? Why not implement <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/jdk.compiler/com/sun/source/tree/TreeVisitor.html\" rel=\"nofollow noreferrer\"><code>TreeVisitor</code></a> or extend an implementation, e.g., <code>SimpleTreeVisitor</code>, <code>TreePathScanner</code>, or <code>TreeScanner</code>?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676917282,"post_id":75507897,"comment_id":133229785,"body_markdown":"Or, if you don&#39;t need to go that &quot;low level&quot;, why not implement/extend something from the `java.compiler` module (instead of `jdk.compiler`)?","body":"Or, if you don&#39;t need to go that &quot;low level&quot;, why not implement/extend something from the <code>java.compiler</code> module (instead of <code>jdk.compiler</code>)?"},{"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"score":0,"creation_date":1677076038,"post_id":75507897,"comment_id":133265957,"body_markdown":"@Slaw, thank you for the response. I actually looked into that, but it is exactly about &quot;visiting&quot;, but I need to modify the code, like adding/changing pieces to source code, like lombok does.","body":"@Slaw, thank you for the response. I actually looked into that, but it is exactly about &quot;visiting&quot;, but I need to modify the code, like adding/changing pieces to source code, like lombok does."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1677083255,"post_id":75507897,"comment_id":133268519,"body_markdown":"Then I _think_ you need to add those `--add-exports` in the project that consumes your annotation processor as well.","body":"Then I <i>think</i> you need to add those <code>--add-exports</code> in the project that consumes your annotation processor as well."},{"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"score":0,"creation_date":1677084161,"post_id":75507897,"comment_id":133268855,"body_markdown":"I&#39;ve found the reason. It works well exactly with same setup I provided but using Java 11","body":"I&#39;ve found the reason. It works well exactly with same setup I provided but using Java 11"},{"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"score":0,"creation_date":1677084562,"post_id":75507897,"comment_id":133268991,"body_markdown":"my annotation processor project is compiled in Java 11, and looks like consumer project works with it when its Java version it 15 or lower... interesting:\nwarning: Supported source version &#39;RELEASE_11&#39; from annotation processor &#39;org.gradle.api.internal.tasks.compile.processing.TimeTrackingProcessor&#39; less than -source &#39;15&#39;\n1 warning","body":"my annotation processor project is compiled in Java 11, and looks like consumer project works with it when its Java version it 15 or lower... interesting: warning: Supported source version &#39;RELEASE_11&#39; from annotation processor &#39;org.gradle.api.internal.tasks.compile.processing.TimeTracki&zwnj;&#8203;ngProcessor&#39; less than -source &#39;15&#39; 1 warning"},{"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"score":0,"creation_date":1677084856,"post_id":75507897,"comment_id":133269086,"body_markdown":"I am just wondering... lombok is definitely compiled not in java 17. However I have a lot of projects on Java 17 and lombok is added there and it works fine. Any ideas how to make it compatible?","body":"I am just wondering... lombok is definitely compiled not in java 17. However I have a lot of projects on Java 17 and lombok is added there and it works fine. Any ideas how to make it compatible?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1677106138,"post_id":75507897,"comment_id":133274740,"body_markdown":"When JPMS was introduced in Java 9, it added stronger encapsulation. But some already-existing code relied on accessing internals of the standard library. So, they relaxed the encapsulation for the standard library so code that was accessible in Java 8 was still accessible in Java 9. You could control this with the `--illegal-access` option, which had a default value of `permit`. But this was always a temporary measure to give libraries time to update. In Java 16, the default value of `--illegal-access` became `deny`. And in Java 17, `--illegal-access` no longer does anything (always `deny`).","body":"When JPMS was introduced in Java 9, it added stronger encapsulation. But some already-existing code relied on accessing internals of the standard library. So, they relaxed the encapsulation for the standard library so code that was accessible in Java 8 was still accessible in Java 9. You could control this with the <code>--illegal-access</code> option, which had a default value of <code>permit</code>. But this was always a temporary measure to give libraries time to update. In Java 16, the default value of <code>--illegal-access</code> became <code>deny</code>. And in Java 17, <code>--illegal-access</code> no longer does anything (always <code>deny</code>)."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1677106235,"post_id":75507897,"comment_id":133274755,"body_markdown":"Assuming Lombok/Gradle is not doing some strange stuff, my best guess as to why Lombok still works on Java 16+ is that it uses `--add-exports` and/or `--add-opens` when compiling your project.","body":"Assuming Lombok/Gradle is not doing some strange stuff, my best guess as to why Lombok still works on Java 16+ is that it uses <code>--add-exports</code> and/or <code>--add-opens</code> when compiling your project."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1677107855,"post_id":75507897,"comment_id":133275076,"body_markdown":"Okay, so for Lombok, it looks like they use `Unsafe` to essentially add the `--add-opens` at run-time. Not sure if that&#39;s viable for you, but you can see what they do [here](https://github.com/projectlombok/lombok/blob/e5c324c615c1e304b2a9a64bc7f8608a67b0a74e/src/core/lombok/javac/apt/LombokProcessor.java#L483). Another option for you might be to create your own Gradle plugin that both adds your annotation process and configures the compiler arguments.","body":"Okay, so for Lombok, it looks like they use <code>Unsafe</code> to essentially add the <code>--add-opens</code> at run-time. Not sure if that&#39;s viable for you, but you can see what they do <a href=\"https://github.com/projectlombok/lombok/blob/e5c324c615c1e304b2a9a64bc7f8608a67b0a74e/src/core/lombok/javac/apt/LombokProcessor.java#L483\" rel=\"nofollow noreferrer\">here</a>. Another option for you might be to create your own Gradle plugin that both adds your annotation process and configures the compiler arguments."},{"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"score":0,"creation_date":1677142528,"post_id":75507897,"comment_id":133280418,"body_markdown":"well yeah, that makes sense! Thank you Slaw, I will try to make my projects compatible!","body":"well yeah, that makes sense! Thank you Slaw, I will try to make my projects compatible!"}],"answers":[{"tags":[],"owner":{"account_id":21547066,"reputation":1,"user_id":16100708,"display_name":"Crow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682392179,"creation_date":1682392179,"answer_id":76097408,"question_id":75507897,"body_markdown":"you can add this code to your gradle.properties\r\n\r\n    org.gradle.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8 \\\r\n     --add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED \\\r\n     --add-exports=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED \\\r\n     --add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED \\\r\n     --add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED \\\r\n     --add-exports=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED\r\n\r\n","title":"Gradle Annotation Processor dependency","body":"<p>you can add this code to your gradle.properties</p>\n<pre><code>org.gradle.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8 \\\n --add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED \\\n --add-exports=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED \\\n --add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED \\\n --add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED \\\n --add-exports=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED\n</code></pre>\n"}],"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":813,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682392179,"creation_date":1676887919,"question_id":75507897,"body_markdown":"General idea:\r\nI want to build a simple annotation processor on Gradle and Java 17 (Gradle 7.5, Java 17.0.6). And use it in another project with the same setup.\r\n\r\nhere is my code:\r\n\r\nannotation-processor project **build.gradle**:\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;maven-publish&#39;\r\n}\r\n\r\ngroup &#39;org.simple.processor&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenLocal()\r\n}\r\n\r\npublishing {\r\n    publications {\r\n        maven(MavenPublication) {\r\n\r\n        }\r\n    }\r\n    repositories {\r\n        mavenLocal()\r\n    }\r\n}\r\n\r\ncompileJava {\r\n    options.annotationProcessorPath = configurations.annotationProcessor\r\n}\r\n\r\nsourceCompatibility = JavaVersion.VERSION_17\r\ntargetCompatibility = JavaVersion.VERSION_17\r\n\r\ntasks.withType(JavaCompile) {\r\n    options.compilerArgs += [&quot;--add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED&quot;]\r\n    options.compilerArgs += [&quot;--add-exports=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED&quot;]\r\n    options.compilerArgs += [&quot;--add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED&quot;]\r\n    options.compilerArgs += [&quot;--add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED&quot;]\r\n}\r\n```\r\nannotation-processor project LocalVariableTranslator.class:\r\n\r\n```java\r\npublic class LocalVariableTranslator extends TreeTranslator {\r\n    @Override\r\n    public void visitClassDef(JCTree.JCClassDecl tree) {\r\n        // simply log something\r\n    }\r\n}\r\n```\r\n\r\nannotation-processor-demo project **build.gradle**:\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\ngroup &#39;org.simple.processor&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nsourceCompatibility = JavaVersion.VERSION_17\r\ntargetCompatibility = JavaVersion.VERSION_17\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    mavenLocal()\r\n}\r\n\r\ndependencies {\r\n    annotationProcessor &#39;org.simple.processor:simple-processor:1.0-SNAPSHOT&#39;\r\n    implementation &#39;org.simple.processor:simple-processor:1.0-SNAPSHOT&#39;\r\n}\r\n```\r\n\r\nmy processor code somehow depends on internal Java API which is &#39;com.sun.tools.javac&#39; package and this causes an issue for me when I try to build a demo project:\r\n\r\n&gt; Execution failed for task &#39;:compileJava&#39;.\r\n&gt; superclass access check failed: class org.simple.processor.LocalVariableTranslator (in unnamed module @0x6073770b) cannot access class com.sun.tools.javac.tree.TreeTranslat\r\nor (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.tree to unnamed module @0x6073770b\r\n","title":"Gradle Annotation Processor dependency","body":"<p>General idea:\nI want to build a simple annotation processor on Gradle and Java 17 (Gradle 7.5, Java 17.0.6). And use it in another project with the same setup.</p>\n<p>here is my code:</p>\n<p>annotation-processor project <strong>build.gradle</strong>:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'maven-publish'\n}\n\ngroup 'org.simple.processor'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenLocal()\n}\n\npublishing {\n    publications {\n        maven(MavenPublication) {\n\n        }\n    }\n    repositories {\n        mavenLocal()\n    }\n}\n\ncompileJava {\n    options.annotationProcessorPath = configurations.annotationProcessor\n}\n\nsourceCompatibility = JavaVersion.VERSION_17\ntargetCompatibility = JavaVersion.VERSION_17\n\ntasks.withType(JavaCompile) {\n    options.compilerArgs += [&quot;--add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED&quot;]\n    options.compilerArgs += [&quot;--add-exports=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED&quot;]\n    options.compilerArgs += [&quot;--add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED&quot;]\n    options.compilerArgs += [&quot;--add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED&quot;]\n}\n</code></pre>\n<p>annotation-processor project LocalVariableTranslator.class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LocalVariableTranslator extends TreeTranslator {\n    @Override\n    public void visitClassDef(JCTree.JCClassDecl tree) {\n        // simply log something\n    }\n}\n</code></pre>\n<p>annotation-processor-demo project <strong>build.gradle</strong>:</p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup 'org.simple.processor'\nversion '1.0-SNAPSHOT'\n\nsourceCompatibility = JavaVersion.VERSION_17\ntargetCompatibility = JavaVersion.VERSION_17\n\nrepositories {\n    mavenCentral()\n    mavenLocal()\n}\n\ndependencies {\n    annotationProcessor 'org.simple.processor:simple-processor:1.0-SNAPSHOT'\n    implementation 'org.simple.processor:simple-processor:1.0-SNAPSHOT'\n}\n</code></pre>\n<p>my processor code somehow depends on internal Java API which is 'com.sun.tools.javac' package and this causes an issue for me when I try to build a demo project:</p>\n<blockquote>\n<p>Execution failed for task ':compileJava'.\nsuperclass access check failed: class org.simple.processor.LocalVariableTranslator (in unnamed module @0x6073770b) cannot access class com.sun.tools.javac.tree.TreeTranslat\nor (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.tree to unnamed module @0x6073770b</p>\n</blockquote>\n"},{"tags":["java","android","gradle"],"answers":[{"tags":[],"owner":{"account_id":13556047,"reputation":7480,"user_id":9779471,"display_name":"Quinn"},"down_vote_count":3,"up_vote_count":94,"is_accepted":true,"score":91,"last_activity_date":1637252032,"creation_date":1637252032,"answer_id":70023220,"question_id":70010356,"body_markdown":"Okay so I finally managed to get it to work... \r\n\r\nHad to run `rm -rf ~/.gradle` instead of just `rm -rf ~/.gradle/caches` which I guess forced it to reinstall all the gradle things and then the build worked","title":"Android Gradle build fails from cached files","body":"<p>Okay so I finally managed to get it to work...</p>\n<p>Had to run <code>rm -rf ~/.gradle</code> instead of just <code>rm -rf ~/.gradle/caches</code> which I guess forced it to reinstall all the gradle things and then the build worked</p>\n"},{"tags":[],"owner":{"account_id":246063,"reputation":17561,"user_id":2267723,"accept_rate":59,"display_name":"Maher Abuthraa"},"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1682390958,"creation_date":1649747360,"answer_id":71838465,"question_id":70010356,"body_markdown":"Better to use: \r\n\r\nmacOS, Linux, or WSL:\r\n\r\n    ./gradlew cleanBuildCache\r\nWindows:\r\n\r\n    gradlew cleanBuildCache","title":"Android Gradle build fails from cached files","body":"<p>Better to use:</p>\n<p>macOS, Linux, or WSL:</p>\n<pre><code>./gradlew cleanBuildCache\n</code></pre>\n<p>Windows:</p>\n<pre><code>gradlew cleanBuildCache\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6657973,"reputation":2635,"user_id":5137879,"accept_rate":20,"display_name":"SpaceBison"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1665154372,"creation_date":1661958870,"answer_id":73558109,"question_id":70010356,"body_markdown":"There&#39;s no need to delete the whole `~/.gradle` directory. Killing the Gradle daemon before clearing `~/.gradle/caches` worked for me.\r\n\r\nYou can kill the Gradle daemon using `./gradlew --stop`.","title":"Android Gradle build fails from cached files","body":"<p>There's no need to delete the whole <code>~/.gradle</code> directory. Killing the Gradle daemon before clearing <code>~/.gradle/caches</code> worked for me.</p>\n<p>You can kill the Gradle daemon using <code>./gradlew --stop</code>.</p>\n"}],"owner":{"account_id":13556047,"reputation":7480,"user_id":9779471,"display_name":"Quinn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28339,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"accepted_answer_id":70023220,"answer_count":3,"score":57,"last_activity_date":1682390958,"creation_date":1637176942,"question_id":70010356,"body_markdown":"I am trying to build one of my android libraries and everytime I get the following:\r\n\r\n```\r\n&gt; Task :app:mergeDebugResources FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:mergeDebugResources&#39;.\r\n&gt; Multiple build operations failed.\r\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/0d92c5dbe3682b4fd3af323bb8f4fc81/results.bin\r\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/c9e81cc37c2c0c47883b955549c67149/results.bin\r\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/a60e256c2ccb687ca2c3dc1173bab875/results.bin\r\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/a31caec1a4d16ac05a41b0f552f96191/results.bin\r\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/9d3aed6b3e5d40e0d4373af6f3e198dc/results.bin\r\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/f9c01a9d9c0a59b69c3974ffcd3c9cee/results.bin\r\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/4d9724e0450bfaa483db25a04db0eb48/results.bin\r\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/a79286d8497b8365dabe35ac25780fe4/results.bin\r\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/2896cf3b957b3724a2dcfcee68be211f/results.bin\r\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/2896cf3b957b3724a2dcfcee68be211f/results.bin\r\n```\r\n\r\nwith about 200 more lines of the same\r\n\r\nI&#39;ve tried `Invalidate Cache and Restart` from android studio and I&#39;ve tried `rm -rf ~/.gradle/caches` but I continue getting the same error. I am able to build the exact same library on my other computers - I just can&#39;t get it to work on one machine in particular. Is there any other thing I might be missing that could cause this?","title":"Android Gradle build fails from cached files","body":"<p>I am trying to build one of my android libraries and everytime I get the following:</p>\n<pre><code>&gt; Task :app:mergeDebugResources FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:mergeDebugResources'.\n&gt; Multiple build operations failed.\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/0d92c5dbe3682b4fd3af323bb8f4fc81/results.bin\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/c9e81cc37c2c0c47883b955549c67149/results.bin\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/a60e256c2ccb687ca2c3dc1173bab875/results.bin\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/a31caec1a4d16ac05a41b0f552f96191/results.bin\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/9d3aed6b3e5d40e0d4373af6f3e198dc/results.bin\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/f9c01a9d9c0a59b69c3974ffcd3c9cee/results.bin\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/4d9724e0450bfaa483db25a04db0eb48/results.bin\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/a79286d8497b8365dabe35ac25780fe4/results.bin\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/2896cf3b957b3724a2dcfcee68be211f/results.bin\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/2896cf3b957b3724a2dcfcee68be211f/results.bin\n</code></pre>\n<p>with about 200 more lines of the same</p>\n<p>I've tried <code>Invalidate Cache and Restart</code> from android studio and I've tried <code>rm -rf ~/.gradle/caches</code> but I continue getting the same error. I am able to build the exact same library on my other computers - I just can't get it to work on one machine in particular. Is there any other thing I might be missing that could cause this?</p>\n"},{"tags":["java","android","android-sqlite","android-contentprovider","android-contentresolver"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1682039764,"post_id":76069107,"comment_id":134156992,"body_markdown":"*it is throwing an error couldn&#39;t open database.* - please share the stacktrace","body":"<i>it is throwing an error couldn&#39;t open database.</i> - please share the stacktrace"},{"owner":{"account_id":279638,"reputation":3996,"user_id":574911,"accept_rate":100,"display_name":"NoAIUser"},"score":0,"creation_date":1682042752,"post_id":76069107,"comment_id":134157299,"body_markdown":"edited the question to add stacktrace. \n`Directory /data/data/com.example.xxxxx/databases doesn&#39;t exist`\nActually Directory exists, looks like permission issue, not sure what permission that is.","body":"edited the question to add stacktrace.  <code>Directory &#47;data&#47;data&#47;com.example.xxxxx&#47;databases doesn&#39;t exist</code> Actually Directory exists, looks like permission issue, not sure what permission that is."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1682044147,"post_id":76069107,"comment_id":134157415,"body_markdown":"`chmod 777 /data/data/com.example.xxxxx/databases/*` ?","body":"<code>chmod 777 &#47;data&#47;data&#47;com.example.xxxxx&#47;databases&#47;*</code> ?"},{"owner":{"account_id":279638,"reputation":3996,"user_id":574911,"accept_rate":100,"display_name":"NoAIUser"},"score":0,"creation_date":1682044856,"post_id":76069107,"comment_id":134157464,"body_markdown":"Why would there be a permission issue when reading through contentresolver? Why we need to do this manual step to give permission to the db folder?","body":"Why would there be a permission issue when reading through contentresolver? Why we need to do this manual step to give permission to the db folder?"}],"answers":[{"tags":[],"owner":{"account_id":279638,"reputation":3996,"user_id":574911,"accept_rate":100,"display_name":"NoAIUser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682389716,"creation_date":1682389716,"answer_id":76097277,"question_id":76069107,"body_markdown":"I had the issue with manifest tag sharedId, removing which resolved the issue. Also here&#39;s how the application looks like after the problem is solved. Hopefully this helps.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hD19H.png","title":"Accessing SQLite DB in multiuser app in Android","body":"<p>I had the issue with manifest tag sharedId, removing which resolved the issue. Also here's how the application looks like after the problem is solved. Hopefully this helps.</p>\n<p><a href=\"https://i.stack.imgur.com/hD19H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hD19H.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":279638,"reputation":3996,"user_id":574911,"accept_rate":100,"display_name":"NoAIUser"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76097277,"answer_count":1,"score":2,"last_activity_date":1682389716,"creation_date":1682037169,"question_id":76069107,"body_markdown":"I&#39;ve a requirement to access database created by a system user from other service via a foreground user. Both services are part of the same application.\r\n\r\nCreated a system service, which creates a database and exposes it via ContentProvider. In another application, foreground user tries to access it via ContentResolver. \r\n\r\nAdded permissions \r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERACT_ACROSS_USERS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERACT_ACROSS_USERS_FULL&quot; /&gt;\r\n\r\nmanifest declarations\r\n\r\n    &lt;service\r\n    android:name=&quot;.EXDBService&quot;\r\n    android:enabled=&quot;true&quot;\r\n    android:singleUser=&quot;true&quot;\r\n    android:exported=&quot;true&quot; /&gt;\r\n    \r\n    &lt;service\r\n    android:name=&quot;.EXService&quot;\r\n    android:enabled=&quot;true&quot;\r\n    android:exported=&quot;true&quot;\r\n    android:permission=&quot;com.example.EX_SERVICE&quot; /&gt;\r\n    &lt;provider\r\n    android:name=&quot;.EXDBMananger&quot;\r\n    android:authorities=&quot;com.example.provider&quot;\r\n    android:exported=&quot;true&quot;\r\n    android:readPermission=&quot;com.example.provider.READ_DATABASE&quot;\r\n    android:writePermission=&quot;com.example.provider.WRITE_DATABASE&quot; /&gt;\r\n\r\nBut when making the request like insert/update with Contentresolver, it is throwing an error couldn&#39;t open database. \r\n\r\n       \r\n\r\n    ContentResolver resolver = getContentResolver();\r\n    Uri uri = DbContract.BASE_CONTENT_URI;\r\n    // initiate contentValues with valid data\r\n    Cursor cursor = resolver.insert(uri, contentValues);\r\n\r\nWish I could share more code here, but any guesses for what this could cause this issue? \r\n\r\nI saw the user id 11 trying to access database on other application which is running on user 0. Does this cause any permission issue?\r\n\r\n\r\n\r\n\r\n    2023-04-20 21:01:48.745 8530-8530/com.example.xxxxx E/SQLiteDatabase: Failed to open database &#39;/data/data/com.example.xxxxx/databases/My.DB&#39;.\r\n        android.database.sqlite.SQLiteCantOpenDatabaseException: Cannot open database &#39;/data/data/com.example.xxxxx/databases/MY.DB&#39;: Directory /data/data/com.example.xxxxx/databases doesn&#39;t exist\r\n            at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:254)\r\n            at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:205)\r\n            at android.database.sqlite.SQLiteConnectionPool.openConnectionLocked(SQLiteConnectionPool.java:505)\r\n            at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:206)\r\n            at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:198)\r\n            at android.database.sqlite.SQLiteDatabase.openInner(SQLiteDatabase.java:919)\r\n            at android.database.sqlite.SQLiteDatabase.open(SQLiteDatabase.java:899)\r\n            at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:763)\r\n            at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:752)\r\n            at android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:383)\r\n            at android.database.sqlite.SQLiteOpenHelper.getReadableDatabase(SQLiteOpenHelper.java:340)\r\n\r\n","title":"Accessing SQLite DB in multiuser app in Android","body":"<p>I've a requirement to access database created by a system user from other service via a foreground user. Both services are part of the same application.</p>\n<p>Created a system service, which creates a database and exposes it via ContentProvider. In another application, foreground user tries to access it via ContentResolver.</p>\n<p>Added permissions</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERACT_ACROSS_USERS&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERACT_ACROSS_USERS_FULL&quot; /&gt;\n</code></pre>\n<p>manifest declarations</p>\n<pre><code>&lt;service\nandroid:name=&quot;.EXDBService&quot;\nandroid:enabled=&quot;true&quot;\nandroid:singleUser=&quot;true&quot;\nandroid:exported=&quot;true&quot; /&gt;\n\n&lt;service\nandroid:name=&quot;.EXService&quot;\nandroid:enabled=&quot;true&quot;\nandroid:exported=&quot;true&quot;\nandroid:permission=&quot;com.example.EX_SERVICE&quot; /&gt;\n&lt;provider\nandroid:name=&quot;.EXDBMananger&quot;\nandroid:authorities=&quot;com.example.provider&quot;\nandroid:exported=&quot;true&quot;\nandroid:readPermission=&quot;com.example.provider.READ_DATABASE&quot;\nandroid:writePermission=&quot;com.example.provider.WRITE_DATABASE&quot; /&gt;\n</code></pre>\n<p>But when making the request like insert/update with Contentresolver, it is throwing an error couldn't open database.</p>\n<pre><code>ContentResolver resolver = getContentResolver();\nUri uri = DbContract.BASE_CONTENT_URI;\n// initiate contentValues with valid data\nCursor cursor = resolver.insert(uri, contentValues);\n</code></pre>\n<p>Wish I could share more code here, but any guesses for what this could cause this issue?</p>\n<p>I saw the user id 11 trying to access database on other application which is running on user 0. Does this cause any permission issue?</p>\n<pre><code>2023-04-20 21:01:48.745 8530-8530/com.example.xxxxx E/SQLiteDatabase: Failed to open database '/data/data/com.example.xxxxx/databases/My.DB'.\n    android.database.sqlite.SQLiteCantOpenDatabaseException: Cannot open database '/data/data/com.example.xxxxx/databases/MY.DB': Directory /data/data/com.example.xxxxx/databases doesn't exist\n        at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:254)\n        at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:205)\n        at android.database.sqlite.SQLiteConnectionPool.openConnectionLocked(SQLiteConnectionPool.java:505)\n        at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:206)\n        at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:198)\n        at android.database.sqlite.SQLiteDatabase.openInner(SQLiteDatabase.java:919)\n        at android.database.sqlite.SQLiteDatabase.open(SQLiteDatabase.java:899)\n        at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:763)\n        at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:752)\n        at android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:383)\n        at android.database.sqlite.SQLiteOpenHelper.getReadableDatabase(SQLiteOpenHelper.java:340)\n</code></pre>\n"},{"tags":["java","postgresql","sqlite","jsonpath"],"comments":[{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1682440015,"post_id":76097201,"comment_id":134214695,"body_markdown":"Well from the `Jayway` link: *Since a JSON structure is usually anonymous and doesn&#39;t necessarily have a &quot;root member object&quot; JSONPath assumes the abstract name $ assigned to the outer level object.*. And from the draft spec: *The root node identifier $ refers to the root node of the query  argument, i.e., to the argument as a whole.* Which is how Postgres uses it.","body":"Well from the <code>Jayway</code> link: <i>Since a JSON structure is usually anonymous and doesn&#39;t necessarily have a &quot;root member object&quot; JSONPath assumes the abstract name $ assigned to the outer level object.</i>. And from the draft spec: <i>The root node identifier $ refers to the root node of the query  argument, i.e., to the argument as a whole.</i> Which is how Postgres uses it."},{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1682440190,"post_id":76097201,"comment_id":134214747,"body_markdown":"As to `current item` from `Jayway`: *@ \tthe current object/element *, the draft spec: * The current node identifier @ refers to the current node in the  context of the evaluation of a filter expression*.","body":"As to <code>current item</code> from <code>Jayway</code>: <i>@ \tthe current object/element *, the draft spec: * The current node identifier @ refers to the current node in the  context of the evaluation of a filter expression</i>."},{"owner":{"account_id":2577405,"reputation":1258,"user_id":2234770,"accept_rate":97,"display_name":"snerd"},"score":0,"creation_date":1682446124,"post_id":76097201,"comment_id":134216109,"body_markdown":"ok but shouldn&#39;t &quot;$.organization&quot; work in both cases given yours and my read of the docs?","body":"ok but shouldn&#39;t &quot;$.organization&quot; work in both cases given yours and my read of the docs?"},{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1682446585,"post_id":76097201,"comment_id":134216206,"body_markdown":"I would say yes. Though without some example JSON data, queries and output vs actual output it is hard to be more specific.","body":"I would say yes. Though without some example JSON data, queries and output vs actual output it is hard to be more specific."},{"owner":{"account_id":2577405,"reputation":1258,"user_id":2234770,"accept_rate":97,"display_name":"snerd"},"score":0,"creation_date":1682446663,"post_id":76097201,"comment_id":134216234,"body_markdown":"therein lies the question. &quot;$.organization&quot; works for sqlite but returns no results for postgres. For postgres &quot;organization&quot; is the JSONPath string that will produce expected results. What I don&#39;t understand is why given what we&#39;re both seeing in the documentation","body":"therein lies the question. &quot;$.organization&quot; works for sqlite but returns no results for postgres. For postgres &quot;organization&quot; is the JSONPath string that will produce expected results. What I don&#39;t understand is why given what we&#39;re both seeing in the documentation"},{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1682446897,"post_id":76097201,"comment_id":134216287,"body_markdown":"Again without example data and the queries your using in each case this is not going to go anywhere.","body":"Again without example data and the queries your using in each case this is not going to go anywhere."},{"owner":{"account_id":2577405,"reputation":1258,"user_id":2234770,"accept_rate":97,"display_name":"snerd"},"score":0,"creation_date":1682448189,"post_id":76097201,"comment_id":134216560,"body_markdown":"thanks friend. read the post. everything you need is in there. the query is in the code snippet. the data structure - or at least the piece of it that matters - is described clearly in the post as well.","body":"thanks friend. read the post. everything you need is in there. the query is in the code snippet. the data structure - or at least the piece of it that matters - is described clearly in the post as well."},{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1682448604,"post_id":76097201,"comment_id":134216641,"body_markdown":"I see the path specifier `$.organization`. I don&#39;t see the JSON data it is being run against.","body":"I see the path specifier <code>$.organization</code>. I don&#39;t see the JSON data it is being run against."},{"owner":{"account_id":2577405,"reputation":1258,"user_id":2234770,"accept_rate":97,"display_name":"snerd"},"score":0,"creation_date":1682448941,"post_id":76097201,"comment_id":134216714,"body_markdown":"second and third sentence of the post: \n\n&quot;The json object is called scanResultCollection. It has a top level attribute called organization&quot;\n\nwhat else do you need to know?","body":"second and third sentence of the post:   &quot;The json object is called scanResultCollection. It has a top level attribute called organization&quot;  what else do you need to know?"},{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1682449228,"post_id":76097201,"comment_id":134216779,"body_markdown":"Good luck and bye.","body":"Good luck and bye."}],"owner":{"account_id":2577405,"reputation":1258,"user_id":2234770,"accept_rate":97,"display_name":"snerd"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682388588,"creation_date":1682388280,"question_id":76097201,"body_markdown":"I&#39;m working on a project where I&#39;ve got a java service talking to a database where a json object is stored. The json object is called `scanResultCollection`. It has a top level attribute called `organization`. I&#39;ve got things set up to where when running in stand alone mode (ie - on my workstation) it uses sqlite. When deployed it will automatically switch to postgres. \r\n\r\nhere is the relevant piece of code: \r\n\r\n```\r\n        EntityManager entityManager = ctx.attribute(App.RESULT_TABLE_ENTITY_MANAGER);\r\n        var criteriaBuilder = entityManager.getCriteriaBuilder();\r\n        CriteriaQuery&lt;Result&gt; criteriaQuery = criteriaBuilder.createQuery(Result.class);\r\n        Root&lt;Result&gt; root = criteriaQuery.from(Result.class);\r\n\r\n        var organizationPath = JPathHelpers.getJsonPathFor(\r\n                List.of(ScanResultCollection.ORGANIZATION_KEY)\r\n        );\r\n        LOG.info(&quot;organizationPath is: {}&quot;, organizationPath);\r\n        var predicate = criteriaBuilder.equal(\r\n                criteriaBuilder.function(\r\n                        &quot;jsonb_extract_path_text&quot;,\r\n                        //&quot;json_extract&quot;, // @TODO this should be a config value as it&#39;s db specific\r\n                        String.class,\r\n                        // TODO see note in Result entity for why we&#39;re not using the generated metamodel for now\r\n                        // TODO when looking into the ScanResultCollection json object\r\n                        root.get(SCAN_RESULT_COLLECTION_ATTRIBUTE),\r\n                        //criteriaBuilder.literal(organizationPath)\r\n                        criteriaBuilder.literal(&quot;organization&quot;)\r\n                ),\r\n                org\r\n        );\r\n\r\n        criteriaQuery.select(root).where(predicate);\r\n        var query = entityManager.createQuery(criteriaQuery);\r\n        List&lt;Result&gt; results = query.getResultList();\r\n```\r\n\r\nBasically what&#39;s happening is the caller is supplying a value for `organization` and we are endeavoring to query the database for all `scanResultCollection` objects with an `organization` value that matches what the caller provided. \r\n\r\nFor sqlite the function `json_extract` is being employed and the value of `organizationPath` resolves to `$.organization`. All of this works perfectly. \r\n\r\nFor postgres we need to change the function name to `jsonb_extract_path_text` - no problem as obviously postgres is a different database system than sqlite. The thing that stumped me all day was the fact that `&quot;$.organizationPath&quot;` does NOT work and will always return zero results. In order to get postgres to perform the same work as sqlite it was necessary to supply the string `&quot;organization&quot;` as opposed to the jsonpath form `&quot;$.organization&quot;`. \r\n\r\nThe [docs][1] state the parameter is of type JSONPath and eventually I figured out that to Postgres `JSONPath` means something different than what it means in almost any other use case I know of - especially where the meaning of `$` is concerned.  \r\n\r\n * [Postgres doc][2]\r\n * [Sqlite doc][3] which seems to use the `$` character in the way one might expect for a JSONPath.\r\n * [the draft spec for JSONPath][4]\r\n * [Jayway JSONPath dialect][5] (whose author is also helping to write the IETF spec) \r\n\r\n\r\n**Here are my questions**\r\n * why doesn&#39;t `&quot;$.organization&quot;` work in both sqlite and postgres contexts? It looks like in Postgres (and in fact in [Oracle][6] and [SqlServer][7]) the `$` is *&quot;A variable representing the JSON value being queried (the context item)&quot;*. Is not the &quot;context item&quot; the &quot;current item&quot; in which case it would be akin to the root JSON element? \r\n * Is there a way for me to use hibernate (or some other java library) to homogenize the JSONPath syntax so it works across multiple SQL db systems? Given what I&#39;m seeing in the docs my hunch is that the same syntax will work for Postgres, Oracle, and SqlServer, but not Sqlite. It&#39;s not a huge deal for this use case as I can easily add another config value that swaps in the context-appropriate JSONPath syntax but if there&#39;s a way to do it I&#39;d like to know how for future reference.\r\n\r\n\r\nIn the final analysis it strikes me as odd that major SQL database vendors would implement something as common defacto standardized as JSONPath in a manner incompatible with how the rest of the world uses it - which tells me I&#39;m probably missing something and if so I&#39;m curious as to what that something might be...\r\n\r\nty in advance! \r\n\r\n  [1]: https://www.postgresql.org/docs/current/functions-json.html#FUNCTIONS-JSONB-OP-TABLE\r\n  [2]: https://www.postgresql.org/docs/current/datatype-json.html#DATATYPE-JSONPATH\r\n  [3]: https://www.sqlite.org/json1.html\r\n  [4]: https://datatracker.ietf.org/doc/draft-ietf-jsonpath-base/\r\n  [5]: https://goessner.net/articles/JsonPath/\r\n  [6]: https://docs.oracle.com/en/database/oracle/oracle-database/18/adjsn/json-path-expressions.html#GUID-AEBAD813-99AB-418A-93AB-F96BC1658618\r\n  [7]: https://learn.microsoft.com/en-us/sql/relational-databases/json/json-path-expressions-sql-server?view=sql-server-ver16","title":"question about postgres json function vs sqlite3 json function syntax where jsonpath is concerned","body":"<p>I'm working on a project where I've got a java service talking to a database where a json object is stored. The json object is called <code>scanResultCollection</code>. It has a top level attribute called <code>organization</code>. I've got things set up to where when running in stand alone mode (ie - on my workstation) it uses sqlite. When deployed it will automatically switch to postgres.</p>\n<p>here is the relevant piece of code:</p>\n<pre><code>        EntityManager entityManager = ctx.attribute(App.RESULT_TABLE_ENTITY_MANAGER);\n        var criteriaBuilder = entityManager.getCriteriaBuilder();\n        CriteriaQuery&lt;Result&gt; criteriaQuery = criteriaBuilder.createQuery(Result.class);\n        Root&lt;Result&gt; root = criteriaQuery.from(Result.class);\n\n        var organizationPath = JPathHelpers.getJsonPathFor(\n                List.of(ScanResultCollection.ORGANIZATION_KEY)\n        );\n        LOG.info(&quot;organizationPath is: {}&quot;, organizationPath);\n        var predicate = criteriaBuilder.equal(\n                criteriaBuilder.function(\n                        &quot;jsonb_extract_path_text&quot;,\n                        //&quot;json_extract&quot;, // @TODO this should be a config value as it's db specific\n                        String.class,\n                        // TODO see note in Result entity for why we're not using the generated metamodel for now\n                        // TODO when looking into the ScanResultCollection json object\n                        root.get(SCAN_RESULT_COLLECTION_ATTRIBUTE),\n                        //criteriaBuilder.literal(organizationPath)\n                        criteriaBuilder.literal(&quot;organization&quot;)\n                ),\n                org\n        );\n\n        criteriaQuery.select(root).where(predicate);\n        var query = entityManager.createQuery(criteriaQuery);\n        List&lt;Result&gt; results = query.getResultList();\n</code></pre>\n<p>Basically what's happening is the caller is supplying a value for <code>organization</code> and we are endeavoring to query the database for all <code>scanResultCollection</code> objects with an <code>organization</code> value that matches what the caller provided.</p>\n<p>For sqlite the function <code>json_extract</code> is being employed and the value of <code>organizationPath</code> resolves to <code>$.organization</code>. All of this works perfectly.</p>\n<p>For postgres we need to change the function name to <code>jsonb_extract_path_text</code> - no problem as obviously postgres is a different database system than sqlite. The thing that stumped me all day was the fact that <code>&quot;$.organizationPath&quot;</code> does NOT work and will always return zero results. In order to get postgres to perform the same work as sqlite it was necessary to supply the string <code>&quot;organization&quot;</code> as opposed to the jsonpath form <code>&quot;$.organization&quot;</code>.</p>\n<p>The <a href=\"https://www.postgresql.org/docs/current/functions-json.html#FUNCTIONS-JSONB-OP-TABLE\" rel=\"nofollow noreferrer\">docs</a> state the parameter is of type JSONPath and eventually I figured out that to Postgres <code>JSONPath</code> means something different than what it means in almost any other use case I know of - especially where the meaning of <code>$</code> is concerned.</p>\n<ul>\n<li><a href=\"https://www.postgresql.org/docs/current/datatype-json.html#DATATYPE-JSONPATH\" rel=\"nofollow noreferrer\">Postgres doc</a></li>\n<li><a href=\"https://www.sqlite.org/json1.html\" rel=\"nofollow noreferrer\">Sqlite doc</a> which seems to use the <code>$</code> character in the way one might expect for a JSONPath.</li>\n<li><a href=\"https://datatracker.ietf.org/doc/draft-ietf-jsonpath-base/\" rel=\"nofollow noreferrer\">the draft spec for JSONPath</a></li>\n<li><a href=\"https://goessner.net/articles/JsonPath/\" rel=\"nofollow noreferrer\">Jayway JSONPath dialect</a> (whose author is also helping to write the IETF spec)</li>\n</ul>\n<p><strong>Here are my questions</strong></p>\n<ul>\n<li>why doesn't <code>&quot;$.organization&quot;</code> work in both sqlite and postgres contexts? It looks like in Postgres (and in fact in <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/18/adjsn/json-path-expressions.html#GUID-AEBAD813-99AB-418A-93AB-F96BC1658618\" rel=\"nofollow noreferrer\">Oracle</a> and <a href=\"https://learn.microsoft.com/en-us/sql/relational-databases/json/json-path-expressions-sql-server?view=sql-server-ver16\" rel=\"nofollow noreferrer\">SqlServer</a>) the <code>$</code> is <em>&quot;A variable representing the JSON value being queried (the context item)&quot;</em>. Is not the &quot;context item&quot; the &quot;current item&quot; in which case it would be akin to the root JSON element?</li>\n<li>Is there a way for me to use hibernate (or some other java library) to homogenize the JSONPath syntax so it works across multiple SQL db systems? Given what I'm seeing in the docs my hunch is that the same syntax will work for Postgres, Oracle, and SqlServer, but not Sqlite. It's not a huge deal for this use case as I can easily add another config value that swaps in the context-appropriate JSONPath syntax but if there's a way to do it I'd like to know how for future reference.</li>\n</ul>\n<p>In the final analysis it strikes me as odd that major SQL database vendors would implement something as common defacto standardized as JSONPath in a manner incompatible with how the rest of the world uses it - which tells me I'm probably missing something and if so I'm curious as to what that something might be...</p>\n<p>ty in advance!</p>\n"},{"tags":["java","android","xml","android-manifest"],"comments":[{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1682180334,"post_id":76080071,"comment_id":134176266,"body_markdown":"Please fix your formatting, it&#39;s difficult to read. Also, you missed adding exported attribute to `AdsActivity`.","body":"Please fix your formatting, it&#39;s difficult to read. Also, you missed adding exported attribute to <code>AdsActivity</code>."}],"answers":[{"tags":[],"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682176991,"creation_date":1682176991,"answer_id":76080400,"question_id":76080071,"body_markdown":"Your activities should look like this in your manifest:\r\n\r\n       &lt;activity\r\n            android:name=&quot;com.project.class.NonMainActivity&quot;/&gt;\r\n        \r\n        &lt;activity\r\n            android:name=&quot;com.project.class.MainActivity&quot;\r\n            android:label=&quot;@string/title&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\nNote how the android:export tag is only on the main activity and the intent-filter is also inside of the main activity block.","title":"Why my app is not getting installed in android 12 or above?","body":"<p>Your activities should look like this in your manifest:</p>\n<pre><code>   &lt;activity\n        android:name=&quot;com.project.class.NonMainActivity&quot;/&gt;\n    \n    &lt;activity\n        android:name=&quot;com.project.class.MainActivity&quot;\n        android:label=&quot;@string/title&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n</code></pre>\n<p>Note how the android:export tag is only on the main activity and the intent-filter is also inside of the main activity block.</p>\n"}],"owner":{"account_id":28380032,"reputation":1,"user_id":21707457,"display_name":"Hritik Yadav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682386740,"creation_date":1682172552,"question_id":76080071,"body_markdown":"This is my manifest please can anyone check that where i have not included `android:manifet` i almost added everywhere this attribute but still not getting installed in android 12 and while uploading on play store it gives this errror = &quot;You uploaded an APK or Android App Bundle which has an activity, activity alias, service or broadcast receiver with intent filter, but without &#39;android:exported&#39; property set. This file can&#39;t be installed on Android 12 or higher.&quot; \r\n\r\n\r\n```\r\n\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\tpackage=&quot;com.yash.earnfun&quot;&gt;\r\n\r\n\t&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n\t&lt;uses-permission android:name=&quot;com.google.android.c2dm.permission.RECEIVE&quot; /&gt;\r\n\r\n\r\n\t&lt;application\r\n\t\tandroid:allowBackup=&quot;true&quot;\r\n\t\tandroid:icon=&quot;@drawable/app_icon&quot;\r\n\t\tandroid:label=&quot;@string/app_name&quot;\r\n\t\tandroid:name=&quot;.SketchApplication&quot;\r\n\t\tandroid:requestLegacyExternalStorage=&quot;true&quot;\r\n\t\tandroid:theme=&quot;@style/AppTheme&quot;&gt;\r\n\r\n\t\t&lt;activity\r\n\t\t\tandroid:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\r\n\t\t\tandroid:hardwareAccelerated=&quot;true&quot;\r\n\t\t\tandroid:supportsPictureInPicture=&quot;true&quot;\r\n\t\t\tandroid:windowSoftInputMode=&quot;stateHidden&quot;&gt;\r\n\r\n\t\t\t&lt;intent-filter&gt;\r\n\t\t\t\t&lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\t\t\t\t&lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n\t\t\t&lt;/intent-filter&gt;\r\n\t\t&lt;/activity&gt;\r\n\r\n\t\t&lt;activity\r\n\t\t\tandroid:name=&quot;.LoginnedmainActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\r\n\t\t\tandroid:hardwareAccelerated=&quot;true&quot;\r\n\t\t\tandroid:supportsPictureInPicture=&quot;true&quot;\r\n\t\t\tandroid:windowSoftInputMode=&quot;stateHidden&quot; /&gt;\r\n\r\n\t\t&lt;activity\r\n\t\t\tandroid:name=&quot;.ReferActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\r\n\t\t\tandroid:hardwareAccelerated=&quot;true&quot;\r\n\t\t\tandroid:supportsPictureInPicture=&quot;true&quot;\r\n\t\t\tandroid:windowSoftInputMode=&quot;stateHidden&quot; /&gt;\r\n\r\n\t\t&lt;activity\r\n\t\t\tandroid:name=&quot;.BonusActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            \t            android:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\r\n\t\t\tandroid:hardwareAccelerated=&quot;true&quot;\r\n\t\t\tandroid:supportsPictureInPicture=&quot;true&quot;\r\n\t\t\tandroid:windowSoftInputMode=&quot;stateHidden&quot; /&gt;\r\n\r\n\t\t&lt;activity\r\n\t\t\tandroid:name=&quot;.ProfileActivity&quot;\r\n            android:exported=&quot;true&quot; \r\n            android:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\r\n\t\t\tandroid:hardwareAccelerated=&quot;true&quot;\r\n\t\t\tandroid:supportsPictureInPicture=&quot;true&quot;\r\n\t\t\tandroid:windowSoftInputMode=&quot;stateHidden&quot; /&gt;\r\n\r\n\t\t&lt;activity\r\n\t\t\tandroid:name=&quot;.RedeemActivity&quot;\r\n            android:exported=&quot;true&quot; \r\n            android:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\r\n\t\t\tandroid:hardwareAccelerated=&quot;true&quot;\r\n\t\t\tandroid:supportsPictureInPicture=&quot;true&quot;\r\n\t\t\tandroid:windowSoftInputMode=&quot;stateHidden&quot; /&gt;\r\n\r\n\r\n\t\t&lt;activity\r\n\t\t\tandroid:name=&quot;.Redeem1Activity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\r\n\t\t\tandroid:hardwareAccelerated=&quot;true&quot;\r\n\t\t\tandroid:supportsPictureInPicture=&quot;true&quot;\r\n\t\t\tandroid:screenOrientation=&quot;portrait&quot; /&gt;\r\n\r\n\t\t&lt;activity\r\n\t\t\tandroid:name=&quot;.Refer1Activity&quot;\r\n            android:exported=&quot;true&quot; \r\n            android:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\r\n\t\t\tandroid:hardwareAccelerated=&quot;true&quot;\r\n\t\t\tandroid:supportsPictureInPicture=&quot;true&quot;\r\n\t\t\tandroid:windowSoftInputMode=&quot;stateHidden&quot; /&gt;\r\n\r\n\t\t&lt;activity\r\n\t\t\tandroid:name=&quot;.EEarnActivity&quot;\r\n            android:exported=&quot;true&quot; \r\n\t\t\tandroid:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\r\n\t\t\tandroid:hardwareAccelerated=&quot;true&quot;\r\n\t\t\tandroid:supportsPictureInPicture=&quot;true&quot;\r\n\t\t\tandroid:windowSoftInputMode=&quot;stateHidden&quot; /&gt;\r\n\r\n\t\t&lt;activity\r\n\t\t\tandroid:name=&quot;.PhoneActivity&quot;\r\n            android:exported=&quot;true&quot; \r\n\t\t\tandroid:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\r\n\t\t\tandroid:hardwareAccelerated=&quot;true&quot;\r\n\t\t\tandroid:supportsPictureInPicture=&quot;true&quot;\r\n\t\t\tandroid:windowSoftInputMode=&quot;stateHidden&quot; /&gt;\r\n\r\n\t\t&lt;activity\r\n\t\t\tandroid:name=&quot;.SpinActivity&quot;\r\n            android:exported=&quot;true&quot; \r\n\t\t\tandroid:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\r\n\t\t\tandroid:hardwareAccelerated=&quot;true&quot;\r\n\t\t\tandroid:supportsPictureInPicture=&quot;true&quot;\r\n\t\t\tandroid:windowSoftInputMode=&quot;stateHidden&quot; /&gt;\r\n\r\n\t\t&lt;activity\r\n\t\t\tandroid:name=&quot;.NameActivity&quot;\r\n            android:exported=&quot;true&quot; \r\n\t\t\tandroid:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\r\n\t\t\tandroid:hardwareAccelerated=&quot;true&quot;\r\n\t\t\tandroid:supportsPictureInPicture=&quot;true&quot;\r\n\t\t\tandroid:windowSoftInputMode=&quot;stateHidden&quot; /&gt;\r\n\r\n\t\t&lt;activity\r\n\t\t\tandroid:name=&quot;.RedeemHActivity&quot;\r\n            android:exported=&quot;true&quot; \r\n\t\t\tandroid:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\r\n\t\t\tandroid:hardwareAccelerated=&quot;true&quot;\r\n\t\t\tandroid:supportsPictureInPicture=&quot;true&quot;\r\n\t\t\tandroid:screenOrientation=&quot;portrait&quot; /&gt;\r\n\r\n\t\t&lt;activity\r\n\t\t\tandroid:name=&quot;.NotFonActivity&quot;\r\n            android:exported=&quot;true&quot; \r\n\t\t\tandroid:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\r\n\t\t\tandroid:hardwareAccelerated=&quot;true&quot;\r\n\t\t\tandroid:supportsPictureInPicture=&quot;true&quot;\r\n\t\t\tandroid:screenOrientation=&quot;portrait&quot; /&gt;\r\n\r\n\t\t&lt;activity\r\n\t\t\tandroid:name=&quot;.Spin2Activity&quot;\r\n            android:exported=&quot;true&quot; \r\n\t\t\tandroid:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\r\n\t\t\tandroid:hardwareAccelerated=&quot;true&quot;\r\n\t\t\tandroid:supportsPictureInPicture=&quot;true&quot;\r\n\t\t\tandroid:screenOrientation=&quot;portrait&quot; /&gt;\r\n\r\n\t\t&lt;activity\r\n\t\t\tandroid:name=&quot;.PaymentActivity&quot;\r\n            android:exported=&quot;true&quot; \r\n\t\t\tandroid:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\r\n\t\t\tandroid:hardwareAccelerated=&quot;true&quot;\r\n\t\t\tandroid:supportsPictureInPicture=&quot;true&quot;\r\n\t\t\tandroid:screenOrientation=&quot;portrait&quot; /&gt;\r\n\r\n\r\n\t\t&lt;activity\r\n\t\t\tandroid:name=&quot;.DebugActivity&quot;\r\n            android:exported=&quot;true&quot; \r\n\t\t\tandroid:screenOrientation=&quot;portrait&quot; /&gt;\r\n\r\n\t\t&lt;activity\r\n\t\t\tandroid:name=&quot;com.google.android.gms.ads.AdActivity&quot;\r\n            android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize&quot;\r\n\t\t\tandroid:theme=&quot;@android:style/Theme.Translucent&quot; /&gt;\r\n\r\n\t\t&lt;meta-data\r\n\t\t\tandroid:name=&quot;com.google.android.gms.version&quot;\r\n\t\t\tandroid:value=&quot;@integer/google_play_services_version&quot; /&gt;\r\n\r\n\t\t&lt;provider\r\n\t\t\tandroid:name=&quot;com.google.firebase.provider.FirebaseInitProvider&quot;\r\n\t\t\tandroid:authorities=&quot;com.yash.earnfun.firebaseinitprovider&quot;\r\n\t\t\tandroid:exported=&quot;false&quot;\r\n\t\t\tandroid:initOrder=&quot;100&quot; /&gt;\r\n\r\n\t\t&lt;service\r\n\t\t\tandroid:name=&quot;com.google.firebase.components.ComponentDiscoveryService&quot;\r\n\t\t\tandroid:exported=&quot;false&quot;&gt;\r\n\r\n\t\t\t&lt;meta-data\r\n\t\t\t\tandroid:name=&quot;com.google.firebase.components:com.google.firebase.auth.FirebaseAuthRegistrar&quot;\r\n\t\t\t\tandroid:value=&quot;com.google.firebase.components.ComponentRegistrar&quot; /&gt;\r\n\r\n\r\n\t\t\t&lt;meta-data\t\t\t\tandroid:name=&quot;com.google.firebase.components:com.google.firebase.database.DatabaseRegistrar&quot;\r\n\t\t\t\tandroid:value=&quot;com.google.firebase.components.ComponentRegistrar&quot; /&gt;\r\n\r\n\t\t\t&lt;meta-data\r\n            android:name=&quot;com.google.firebase.components:com.google.firebase.iid.Registrar&quot;\r\n\t\t\t\tandroid:value=&quot;com.google.firebase.components.ComponentRegistrar&quot; /&gt;\r\n\r\n\t\t&lt;/service&gt;\r\n\r\n\t\t&lt;service\r\n\t\t\tandroid:name=&quot;com.google.firebase.messaging.FirebaseMessagingService&quot;\r\n\t\t\tandroid:exported=&quot;false&quot;&gt;\r\n\r\n\t\t\t&lt;intent-filter android:priority=&quot;-500&quot;&gt;\r\n\t\t\t\t&lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n\t\t\t&lt;/intent-filter&gt;\r\n\t\t&lt;/service&gt;\r\n\r\n\t\t&lt;receiver\r\n\t\t\tandroid:name=&quot;com.google.firebase.iid.FirebaseInstanceIdReceiver&quot;\r\n\t\t\tandroid:exported=&quot;true&quot;\r\n\t\t\tandroid:permission=&quot;com.google.android.c2dm.permission.SEND&quot;&gt;\r\n\r\n\t\t\t&lt;intent-filter&gt;\r\n\t\t\t\t&lt;action android:name=&quot;com.google.android.c2dm.intent.RECEIVE&quot; /&gt;\r\n\t\t\t&lt;/intent-filter&gt;\r\n\t\t&lt;/receiver&gt;\r\n\r\n&lt;provider\r\n        android:name=&quot;com.startapp.sdk.adsbase.StartAppInitProvider&quot;\r\n        android:authorities=&quot;APP_ID.startappinitprovider&quot;\r\n        android:exported=&quot;false&quot; /&gt;\r\n\r\n    &lt;activity\r\n        android:name=&quot;com.startapp.sdk.adsbase.consent.ConsentActivity&quot;\r\n        android:exported=&quot;true&quot; \r\n        android:configChanges=&quot;orientation|screenSize|screenLayout|keyboardHidden&quot; android:theme=&quot;@android:style/Theme.Translucent&quot;/&gt;\r\n\r\n    &lt;activity\r\n        android:name=&quot;com.startapp.sdk.ads.list3d.List3DActivity&quot;\r\n        android:exported=&quot;true&quot; \r\n        android:theme=&quot;@android:style/Theme&quot;/&gt;\r\n\r\n    &lt;activity\r\n        android:name=&quot;com.startapp.sdk.adsbase.activities.OverlayActivity&quot;\r\n        android:exported=&quot;true&quot; \r\n        android:configChanges=&quot;orientation|screenSize|screenLayout|keyboardHidden&quot;\r\n        android:theme=&quot;@android:style/Theme.Translucent&quot;/&gt;\r\n\r\n    &lt;activity\r\n        android:name=&quot;com.startapp.sdk.adsbase.activities.FullScreenActivity&quot;\r\n        android:configChanges=&quot;orientation|screenSize|screenLayout|keyboardHidden&quot;\r\n        android:exported=&quot;true&quot; \r\n        android:theme=&quot;@android:style/Theme&quot;/&gt;\r\n\r\n        &lt;service android:name=&quot;com.startapp.sdk.adsbase.InfoEventService&quot; \r\n        android:exported=&quot;true&quot;  /&gt;\r\n\r\n    &lt;service\r\n        android:name=&quot;com.startapp.sdk.adsbase.PeriodicJobService&quot;\r\n        android:exported=&quot;true&quot; \r\n        android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; /&gt;\r\n\r\n    &lt;receiver android:name=&quot;com.startapp.sdk.adsbase.remoteconfig.BootCompleteListener&quot;&gt;\r\n     android:exported=&quot;true&quot; \r\n\r\n      &lt;intent-filter&gt;\r\n                  &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot;/&gt;\r\n      &lt;/intent-filter&gt;\r\n    &lt;/receiver&gt;\r\n\r\n\t&lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n\r\n```\r\n\r\nI tried to add `android:exported` to every component but then also this error is coming ","title":"Why my app is not getting installed in android 12 or above?","body":"<p>This is my manifest please can anyone check that where i have not included <code>android:manifet</code> i almost added everywhere this attribute but still not getting installed in android 12 and while uploading on play store it gives this errror = &quot;You uploaded an APK or Android App Bundle which has an activity, activity alias, service or broadcast receiver with intent filter, but without 'android:exported' property set. This file can't be installed on Android 12 or higher.&quot;</p>\n<pre><code>\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.yash.earnfun&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n    &lt;uses-permission android:name=&quot;com.google.android.c2dm.permission.RECEIVE&quot; /&gt;\n\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@drawable/app_icon&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:name=&quot;.SketchApplication&quot;\n        android:requestLegacyExternalStorage=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\n            android:hardwareAccelerated=&quot;true&quot;\n            android:supportsPictureInPicture=&quot;true&quot;\n            android:windowSoftInputMode=&quot;stateHidden&quot;&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;activity\n            android:name=&quot;.LoginnedmainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\n            android:hardwareAccelerated=&quot;true&quot;\n            android:supportsPictureInPicture=&quot;true&quot;\n            android:windowSoftInputMode=&quot;stateHidden&quot; /&gt;\n\n        &lt;activity\n            android:name=&quot;.ReferActivity&quot;\n            android:exported=&quot;true&quot;\n            android:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\n            android:hardwareAccelerated=&quot;true&quot;\n            android:supportsPictureInPicture=&quot;true&quot;\n            android:windowSoftInputMode=&quot;stateHidden&quot; /&gt;\n\n        &lt;activity\n            android:name=&quot;.BonusActivity&quot;\n            android:exported=&quot;true&quot;\n                            android:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\n            android:hardwareAccelerated=&quot;true&quot;\n            android:supportsPictureInPicture=&quot;true&quot;\n            android:windowSoftInputMode=&quot;stateHidden&quot; /&gt;\n\n        &lt;activity\n            android:name=&quot;.ProfileActivity&quot;\n            android:exported=&quot;true&quot; \n            android:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\n            android:hardwareAccelerated=&quot;true&quot;\n            android:supportsPictureInPicture=&quot;true&quot;\n            android:windowSoftInputMode=&quot;stateHidden&quot; /&gt;\n\n        &lt;activity\n            android:name=&quot;.RedeemActivity&quot;\n            android:exported=&quot;true&quot; \n            android:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\n            android:hardwareAccelerated=&quot;true&quot;\n            android:supportsPictureInPicture=&quot;true&quot;\n            android:windowSoftInputMode=&quot;stateHidden&quot; /&gt;\n\n\n        &lt;activity\n            android:name=&quot;.Redeem1Activity&quot;\n            android:exported=&quot;true&quot;\n            android:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\n            android:hardwareAccelerated=&quot;true&quot;\n            android:supportsPictureInPicture=&quot;true&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n\n        &lt;activity\n            android:name=&quot;.Refer1Activity&quot;\n            android:exported=&quot;true&quot; \n            android:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\n            android:hardwareAccelerated=&quot;true&quot;\n            android:supportsPictureInPicture=&quot;true&quot;\n            android:windowSoftInputMode=&quot;stateHidden&quot; /&gt;\n\n        &lt;activity\n            android:name=&quot;.EEarnActivity&quot;\n            android:exported=&quot;true&quot; \n            android:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\n            android:hardwareAccelerated=&quot;true&quot;\n            android:supportsPictureInPicture=&quot;true&quot;\n            android:windowSoftInputMode=&quot;stateHidden&quot; /&gt;\n\n        &lt;activity\n            android:name=&quot;.PhoneActivity&quot;\n            android:exported=&quot;true&quot; \n            android:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\n            android:hardwareAccelerated=&quot;true&quot;\n            android:supportsPictureInPicture=&quot;true&quot;\n            android:windowSoftInputMode=&quot;stateHidden&quot; /&gt;\n\n        &lt;activity\n            android:name=&quot;.SpinActivity&quot;\n            android:exported=&quot;true&quot; \n            android:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\n            android:hardwareAccelerated=&quot;true&quot;\n            android:supportsPictureInPicture=&quot;true&quot;\n            android:windowSoftInputMode=&quot;stateHidden&quot; /&gt;\n\n        &lt;activity\n            android:name=&quot;.NameActivity&quot;\n            android:exported=&quot;true&quot; \n            android:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\n            android:hardwareAccelerated=&quot;true&quot;\n            android:supportsPictureInPicture=&quot;true&quot;\n            android:windowSoftInputMode=&quot;stateHidden&quot; /&gt;\n\n        &lt;activity\n            android:name=&quot;.RedeemHActivity&quot;\n            android:exported=&quot;true&quot; \n            android:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\n            android:hardwareAccelerated=&quot;true&quot;\n            android:supportsPictureInPicture=&quot;true&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n\n        &lt;activity\n            android:name=&quot;.NotFonActivity&quot;\n            android:exported=&quot;true&quot; \n            android:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\n            android:hardwareAccelerated=&quot;true&quot;\n            android:supportsPictureInPicture=&quot;true&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n\n        &lt;activity\n            android:name=&quot;.Spin2Activity&quot;\n            android:exported=&quot;true&quot; \n            android:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\n            android:hardwareAccelerated=&quot;true&quot;\n            android:supportsPictureInPicture=&quot;true&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n\n        &lt;activity\n            android:name=&quot;.PaymentActivity&quot;\n            android:exported=&quot;true&quot; \n            android:configChanges=&quot;orientation|screenSize|keyboardHidden|smallestScreenSize|screenLayout&quot;\n            android:hardwareAccelerated=&quot;true&quot;\n            android:supportsPictureInPicture=&quot;true&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n\n\n        &lt;activity\n            android:name=&quot;.DebugActivity&quot;\n            android:exported=&quot;true&quot; \n            android:screenOrientation=&quot;portrait&quot; /&gt;\n\n        &lt;activity\n            android:name=&quot;com.google.android.gms.ads.AdActivity&quot;\n            android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize&quot;\n            android:theme=&quot;@android:style/Theme.Translucent&quot; /&gt;\n\n        &lt;meta-data\n            android:name=&quot;com.google.android.gms.version&quot;\n            android:value=&quot;@integer/google_play_services_version&quot; /&gt;\n\n        &lt;provider\n            android:name=&quot;com.google.firebase.provider.FirebaseInitProvider&quot;\n            android:authorities=&quot;com.yash.earnfun.firebaseinitprovider&quot;\n            android:exported=&quot;false&quot;\n            android:initOrder=&quot;100&quot; /&gt;\n\n        &lt;service\n            android:name=&quot;com.google.firebase.components.ComponentDiscoveryService&quot;\n            android:exported=&quot;false&quot;&gt;\n\n            &lt;meta-data\n                android:name=&quot;com.google.firebase.components:com.google.firebase.auth.FirebaseAuthRegistrar&quot;\n                android:value=&quot;com.google.firebase.components.ComponentRegistrar&quot; /&gt;\n\n\n            &lt;meta-data              android:name=&quot;com.google.firebase.components:com.google.firebase.database.DatabaseRegistrar&quot;\n                android:value=&quot;com.google.firebase.components.ComponentRegistrar&quot; /&gt;\n\n            &lt;meta-data\n            android:name=&quot;com.google.firebase.components:com.google.firebase.iid.Registrar&quot;\n                android:value=&quot;com.google.firebase.components.ComponentRegistrar&quot; /&gt;\n\n        &lt;/service&gt;\n\n        &lt;service\n            android:name=&quot;com.google.firebase.messaging.FirebaseMessagingService&quot;\n            android:exported=&quot;false&quot;&gt;\n\n            &lt;intent-filter android:priority=&quot;-500&quot;&gt;\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n\n        &lt;receiver\n            android:name=&quot;com.google.firebase.iid.FirebaseInstanceIdReceiver&quot;\n            android:exported=&quot;true&quot;\n            android:permission=&quot;com.google.android.c2dm.permission.SEND&quot;&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;com.google.android.c2dm.intent.RECEIVE&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n\n&lt;provider\n        android:name=&quot;com.startapp.sdk.adsbase.StartAppInitProvider&quot;\n        android:authorities=&quot;APP_ID.startappinitprovider&quot;\n        android:exported=&quot;false&quot; /&gt;\n\n    &lt;activity\n        android:name=&quot;com.startapp.sdk.adsbase.consent.ConsentActivity&quot;\n        android:exported=&quot;true&quot; \n        android:configChanges=&quot;orientation|screenSize|screenLayout|keyboardHidden&quot; android:theme=&quot;@android:style/Theme.Translucent&quot;/&gt;\n\n    &lt;activity\n        android:name=&quot;com.startapp.sdk.ads.list3d.List3DActivity&quot;\n        android:exported=&quot;true&quot; \n        android:theme=&quot;@android:style/Theme&quot;/&gt;\n\n    &lt;activity\n        android:name=&quot;com.startapp.sdk.adsbase.activities.OverlayActivity&quot;\n        android:exported=&quot;true&quot; \n        android:configChanges=&quot;orientation|screenSize|screenLayout|keyboardHidden&quot;\n        android:theme=&quot;@android:style/Theme.Translucent&quot;/&gt;\n\n    &lt;activity\n        android:name=&quot;com.startapp.sdk.adsbase.activities.FullScreenActivity&quot;\n        android:configChanges=&quot;orientation|screenSize|screenLayout|keyboardHidden&quot;\n        android:exported=&quot;true&quot; \n        android:theme=&quot;@android:style/Theme&quot;/&gt;\n\n        &lt;service android:name=&quot;com.startapp.sdk.adsbase.InfoEventService&quot; \n        android:exported=&quot;true&quot;  /&gt;\n\n    &lt;service\n        android:name=&quot;com.startapp.sdk.adsbase.PeriodicJobService&quot;\n        android:exported=&quot;true&quot; \n        android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; /&gt;\n\n    &lt;receiver android:name=&quot;com.startapp.sdk.adsbase.remoteconfig.BootCompleteListener&quot;&gt;\n     android:exported=&quot;true&quot; \n\n      &lt;intent-filter&gt;\n                  &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot;/&gt;\n      &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n\n\n</code></pre>\n<p>I tried to add <code>android:exported</code> to every component but then also this error is coming</p>\n"},{"tags":["java","spring-boot","multithreading","slf4j"],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682386695,"creation_date":1682386695,"answer_id":76097127,"question_id":76096468,"body_markdown":"Seems to be expected in multhreading processing. Parallel threads will overlap in execution and their logs will overlap in time.\r\n\r\nTo analyze the log filter by thread identifier.\r\n\r\nSpacing in time will surely prevent overlapping, through it can be somewhat unpredictable, and you lose the benefits of multhreading.\r\n\r\nChanging the variable to static does nothing for this issue. Better leave it as the log library recommends.","title":"Log interleaving issue in a multi-threaded application using Spring Boot and asynchronous tasks","body":"<p>Seems to be expected in multhreading processing. Parallel threads will overlap in execution and their logs will overlap in time.</p>\n<p>To analyze the log filter by thread identifier.</p>\n<p>Spacing in time will surely prevent overlapping, through it can be somewhat unpredictable, and you lose the benefits of multhreading.</p>\n<p>Changing the variable to static does nothing for this issue. Better leave it as the log library recommends.</p>\n"}],"owner":{"account_id":14370996,"reputation":900,"user_id":10380766,"display_name":"Hofbr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682386695,"creation_date":1682374538,"question_id":76096468,"body_markdown":"I am working on a Spring Boot application that runs multiple instances of a job called `HeartbeatJob` concurrently. Each `HeartbeatJob` has a producer and a consumer that produce and consume messages respectively. \r\n\r\nI have a custom `ThreadPoolTaskExecutor` with a specified pool size to handle these tasks asynchronously. My problem is that the logs from different threads seem to be interleaved, making it difficult to analyze the logs.\r\n\r\nHere is an example of how the logs that are getting mixed up:\r\n```\r\n12:04:22.908 [heartbeatExecutor-3] INFO  com.climate.canarytesting.events.heartbeat.HeartBeatConsumer - The event received by Heartbeat-SYSTEMS_CLUSTER_0 consumer is: {&quot;name&quot;: &quot;Heartbeat-SYSTEMS_CLUSTER_1 producer heartbeat message 0&quot;}\r\n12:04:22.908 [heartbeatExecutor-3] INFO  com.climate.canarytesting.events.heartbeat.HeartBeatConsumer - The event received by Heartbeat-SYSTEMS_CLUSTER_0 consumer is: {&quot;name&quot;: &quot;Heartbeat-SYSTEMS_CLUSTER_0 producer heartbeat message 0&quot;}\r\n12:04:22.908 [heartbeatExecutor-3] INFO  com.climate.canarytesting.events.heartbeat.HeartBeatConsumer - The event received by Heartbeat-SYSTEMS_CLUSTER_0 consumer is: {&quot;name&quot;: &quot;Heartbeat-PRODUCTION_CLUSTER_0 producer heartbeat message 0&quot;}\r\n12:04:22.908 [heartbeatExecutor-3] INFO  com.climate.canarytesting.events.heartbeat.HeartBeatConsumer - The event received by Heartbeat-SYSTEMS_CLUSTER_0 consumer is: {&quot;name&quot;: &quot;Heartbeat-PRODUCTION_CLUSTER_1 producer heartbeat message 0&quot;}\r\n12:04:22.908 [heartbeatExecutor-3] INFO  com.climate.canarytesting.events.heartbeat.HeartBeatConsumer - The event received by Heartbeat-SYSTEMS_CLUSTER_0 consumer is: {&quot;name&quot;: &quot;Heartbeat-SYSTEMS_CLUSTER_1 producer heartbeat message 1&quot;}\r\n```\r\nThe logs should never be receiving a message from outside of its cluster.\r\nSo these logs messages look like:\r\n```\r\nThe event received by Heartbeat-{cluster} consumer is: {&quot;name&quot;: &quot;Heartbeat-{cluster} producer heartbeat message {n}&quot;}\r\n```\r\n\r\nHere is the relevant code:  \r\n### `HeartbeatJobConfiguration`\r\n```java\r\n/**\r\n * This module is responsible for configuring the HeartbeatJob instances and their execution for different clusters.\r\n * It creates a HeartbeatJob bean and a ThreadPoolTaskExecutor bean for executing the HeartbeatJobs.\r\n * The module schedules the execution of HeartbeatJobs for the following clusters:\r\n * - PRODUCTION_CLUSTER_0\r\n * - PRODUCTION_CLUSTER_1\r\n * - SYSTEMS_CLUSTER_0\r\n * - SYSTEMS_CLUSTER_1\r\n */\r\n\r\npackage com.climate.config;\r\n\r\nimport com.climate.canarytesting.jobs.HeartbeatJob;\r\n\r\nimport com.climate.eventplatform.client.EventPlatformClientException;\r\nimport io.micrometer.core.instrument.MeterRegistry;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.task.TaskExecutor;\r\nimport org.springframework.scheduling.annotation.EnableAsync;\r\nimport org.springframework.scheduling.annotation.Scheduled;\r\nimport org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor;\r\n\r\nimport java.io.IOException;\r\n\r\n@Configuration\r\n@EnableAsync\r\npublic class HeartbeatJobConfiguration {\r\n\r\n    private MeterRegistry meterRegistry;\r\n\r\n    /**\r\n     * Constructs a new HeartbeatJobConfiguration instance with the provided MeterRegistry.\r\n     *\r\n     * @param meterRegistry the MeterRegistry instance\r\n     */\r\n    @Autowired\r\n    public HeartbeatJobConfiguration(MeterRegistry meterRegistry) {\r\n        this.meterRegistry = meterRegistry;\r\n    }\r\n\r\n    /**\r\n     * Creates a new HeartbeatJob bean with the provided MeterRegistry.\r\n     *\r\n     * @return a new HeartbeatJob instance\r\n     */\r\n    @Bean\r\n    public HeartbeatJob heartbeatJob() {\r\n        return new HeartbeatJob(meterRegistry);\r\n    }\r\n\r\n    /**\r\n     * Creates a new ThreadPoolTaskExecutor bean for executing HeartbeatJobs.\r\n     *\r\n     * @return a new ThreadPoolTaskExecutor instance\r\n     */\r\n    @Bean\r\n    public TaskExecutor heartbeatExecutor() {\r\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n        executor.setCorePoolSize(4);\r\n        executor.setMaxPoolSize(4);\r\n        executor.setThreadNamePrefix(&quot;heartbeatExecutor-&quot;);\r\n        return executor;\r\n    }\r\n\r\n    // The following scheduled jobs run the HeartbeatJob for different clusters\r\n    // at the specified cron schedule. The HeartbeatJob is responsible for sending\r\n    // and receiving heartbeats for each respective cluster.\r\n\r\n    @Scheduled(cron = &quot;0 * * * * ?&quot;)\r\n    public void runProductionCluster0HeartbeatJob() throws EventPlatformClientException, IOException, InterruptedException {\r\n        heartbeatJob().execute(&quot;PRODUCTION_CLUSTER_0&quot;);\r\n    }\r\n\r\n    @Scheduled(cron = &quot;0 * * * * ?&quot;)\r\n    public void runProductionCluster1HeartbeatJob() throws EventPlatformClientException, IOException, InterruptedException {\r\n        heartbeatJob().execute(&quot;PRODUCTION_CLUSTER_1&quot;);\r\n    }\r\n\r\n    @Scheduled(cron = &quot;0 * * * * ?&quot;)\r\n    public void runSystemsCluster0HeartbeatJob() throws EventPlatformClientException, IOException, InterruptedException {\r\n        heartbeatJob().execute(&quot;SYSTEMS_CLUSTER_0&quot;);\r\n    }\r\n\r\n    @Scheduled(cron = &quot;0 * * * * ?&quot;)\r\n    public void runSystemsCluster1HeartbeatJob() throws EventPlatformClientException, IOException, InterruptedException {\r\n        heartbeatJob().execute(&quot;SYSTEMS_CLUSTER_1&quot;);\r\n    }\r\n\r\n}\r\n\r\n```\r\n### `HeartbeatJob`\r\n```java\r\n/**\r\n * The HeartbeatJob class is responsible for running a scheduled job that\r\n * sends and receives heartbeats for the configured environment. It also tracks and reports metrics\r\n * for the job runs using Micrometer.\r\n */\r\n\r\npackage com.climate.canarytesting.jobs;\r\n\r\nimport com.climate.canarytesting.events.heartbeat.HeartBeatConsumer;\r\nimport com.climate.canarytesting.events.heartbeat.HeartBeatProducer;\r\nimport com.climate.eventplatform.client.EventPlatformClientException;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport org.springframework.scheduling.annotation.Async;\r\n\r\nimport io.micrometer.core.instrument.Counter;\r\nimport io.micrometer.core.instrument.MeterRegistry;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Map;\r\nimport java.util.concurrent.ConcurrentHashMap;\r\nimport java.text.MessageFormat;\r\n\r\n\r\npublic class HeartbeatJob extends BaseJob {\r\n\r\n    private final Logger log = LoggerFactory.getLogger(HeartbeatJob.class);\r\n    private String clusterName;\r\n    private final String jobName = &quot;Heartbeat&quot;;\r\n    private final Map&lt;String, Counter&gt; totalJobRunsCounters;\r\n    private final Map&lt;String, Counter&gt; successfulJobRunsCounters;\r\n\r\n    /**\r\n     * Constructs a new HeartbeatJob instance with the provided meter registry.\r\n     *\r\n     * @param meterRegistry the MeterRegistry instance for reporting metrics\r\n     */\r\n    public HeartbeatJob(MeterRegistry meterRegistry) {\r\n        super(meterRegistry);\r\n        this.totalJobRunsCounters = new ConcurrentHashMap&lt;&gt;();\r\n        this.successfulJobRunsCounters = new ConcurrentHashMap&lt;&gt;();\r\n    }\r\n\r\n    /**\r\n     * Executes the heartbeat job on a schedule, sending and receiving heartbeats for the configured environment.\r\n     * It also increments the counters for total job runs and successful job runs.\r\n     *\r\n     * @param clusterName the name of the cluster for which the heartbeat job is executed\r\n     * @throws EventPlatformClientException if there is an error with the event platform client\r\n     * @throws InterruptedException         if the thread is interrupted\r\n     * @throws IOException                  if there is an I/O error\r\n     */\r\n    @Async(&quot;heartbeatExecutor&quot;)\r\n    public void execute(String clusterName) throws EventPlatformClientException, InterruptedException, IOException {\r\n        this.clusterName = clusterName;\r\n        clusterUrl = setClusterUrlByClusterName(clusterName);\r\n\r\n        String counterName;\r\n        counterName = MessageFormat.format(&quot;ep.heartbeat.{0}.runs.total&quot;, clusterName);\r\n        Counter totalJobRunsCounter = getOrCreateCounter(this.totalJobRunsCounters, counterName);\r\n\r\n        counterName = MessageFormat.format(&quot;ep.heartbeat.{0}.runs.success&quot;, clusterName);\r\n        Counter successfulJobRunsCounter = getOrCreateCounter(this.successfulJobRunsCounters, counterName);\r\n\r\n        log.info(&quot;{}-{}: incrementing totalJobsRunsCounter&quot;, jobName, clusterName);\r\n        totalJobRunsCounter.increment();\r\n\r\n        HeartBeatProducer producer = null;\r\n        HeartBeatConsumer consumer = null;\r\n\r\n        try {\r\n            log.info(&quot;{}-{}: Producer initializing...&quot;, jobName, clusterName);\r\n            producer = new HeartBeatProducer(clusterUrl);\r\n\r\n            String producerName = MessageFormat.format(&quot;{0}-{1} producer&quot;, jobName, clusterName);\r\n            producer.produceAll(producerName);\r\n            log.info(&quot;{}-{}: Producer terminated...&quot;, jobName, clusterName);\r\n\r\n            Thread.sleep(5000);\r\n\r\n            log.info(&quot;{}-{}: Consumer initializing...&quot;, jobName, clusterName);\r\n            consumer = new HeartBeatConsumer(clusterUrl);\r\n\r\n            String consumerName = MessageFormat.format(&quot;{0}-{1} consumer&quot;, jobName, clusterName);\r\n            boolean consumed = consumer.consumeUntilTerminated(consumerName);\r\n            log.info(&quot;{}-{}: Consumer terminated...&quot;, jobName, clusterName);\r\n\r\n            if (consumed) {\r\n                log.info(&quot;{}-{}: incrementing successfulJobRunsCounter&quot;, jobName, clusterName);\r\n                successfulJobRunsCounter.increment();\r\n            }\r\n\r\n        } catch (EventPlatformClientException | InterruptedException | IOException e) {\r\n            log.error(&quot;{}-{}: Error during job execution. Message: {} {}&quot;, jobName, clusterName, e.getMessage(), e);\r\n        } finally {\r\n            if (producer != null) {\r\n                producer.close();\r\n            }\r\n            if (consumer != null) {\r\n                consumer.close();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n### `HeartbeatProducer`\r\n```java\r\npackage com.climate.canarytesting.events.heartbeat;\r\n\r\nimport channels.climate.heartbeat.heartbeat.generated.HeartbeatSchema;\r\nimport com.climate.eventplatform.client.EventPlatformClient;\r\nimport com.climate.eventplatform.client.EventPlatformClientException;\r\nimport com.climate.eventplatform.client.EventPlatformMessage;\r\nimport com.climate.eventplatform.client.EventPlatformProducer;\r\nimport com.climate.eventplatform.client.EventPlatformOAuth2CredsType;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class HeartBeatProducer {\r\n\r\n    // Constants\r\n    private static final String TOPIC_NAME = &quot;climate/heartbeat/heartbeat&quot;;\r\n    private static final String EVENT_AVRO_SCHEMA = HeartbeatSchema.getClassSchema().toString();\r\n    private static final int NUM_MESSAGES = 5;\r\n    private static final String TERMINATING_STRING = &quot;##TERMINATE##&quot;;\r\n    private static final String SSM_PARAM_TEST_SERVICE_OAUTH2_CREDS = &quot;production.global.event-platform.oauth2creds.sample-applications&quot;;\r\n    private final Logger log = LoggerFactory.getLogger(HeartBeatProducer.class);\r\n\r\n    // Instance variables\r\n    private static String serviceUrl;\r\n    private EventPlatformClient epClient;\r\n    private EventPlatformProducer&lt;HeartbeatSchema&gt; producer;\r\n\r\n\r\n    /**\r\n     * Constructs a new instance of the HeartBeatProducer class.\r\n     * @param serviceUrl The URL of the Event Platform service to produce messages to.\r\n     */\r\n    public HeartBeatProducer(String serviceUrl) throws EventPlatformClientException, IOException {\r\n        this.serviceUrl = serviceUrl;\r\n        this.epClient = new EventPlatformClient(\r\n                serviceUrl,\r\n                EventPlatformOAuth2CredsType.SSM,\r\n                SSM_PARAM_TEST_SERVICE_OAUTH2_CREDS);\r\n        this.producer = new EventPlatformProducer&lt;&gt;(epClient, TOPIC_NAME, EVENT_AVRO_SCHEMA);\r\n    }\r\n\r\n    /**\r\n     * Sends a series of heartbeat messages to the Event Platform.\r\n     * @param producerName The name of the producer.\r\n     * @throws EventPlatformClientException if an error occurs while sending the messages.\r\n     * @throws InterruptedException if the thread is interrupted while sleeping.\r\n     * @throws IOException if an I/O error occurs.\r\n     */\r\n    public void produceAll(String producerName) throws EventPlatformClientException, InterruptedException, IOException {\r\n        HeartbeatSchema[] heartbeatMessages = new HeartbeatSchema[NUM_MESSAGES + 1]; // add additional spot for TERMINATING_STRING\r\n        heartbeatMessages[0] = new HeartbeatSchema(producerName + &quot; heartbeat message 0&quot;);\r\n        heartbeatMessages[1] = new HeartbeatSchema(producerName + &quot; heartbeat message 1&quot;);\r\n        heartbeatMessages[2] = new HeartbeatSchema(producerName + &quot; heartbeat message 2&quot;);\r\n        heartbeatMessages[3] = new HeartbeatSchema(producerName + &quot; heartbeat message 3&quot;);\r\n        heartbeatMessages[4] = new HeartbeatSchema(producerName + &quot; heartbeat message 4&quot;);\r\n        heartbeatMessages[5] = new HeartbeatSchema(TERMINATING_STRING);\r\n\r\n        for (int i = 0; i &lt; heartbeatMessages.length; i++) {\r\n            EventPlatformMessage&lt;HeartbeatSchema&gt; currentMessage = new EventPlatformMessage&lt;&gt;(heartbeatMessages[i], producerName);\r\n            producer.send(currentMessage);\r\n            log.info(&quot;{} sent a message: {}&quot;, producerName, currentMessage.getMessageValue());\r\n            Thread.sleep(1000);\r\n        }\r\n    }\r\n\r\n    public void close() {\r\n        if (producer != null) {\r\n            try {\r\n                producer.close();\r\n            } catch ( IOException ex) {\r\n                log.error(&quot;Failed to close producer.&quot;, ex);\r\n            }\r\n        }\r\n        if (epClient != null) {\r\n            try {\r\n                epClient.close();\r\n            } catch (IOException ex) {\r\n                log.error(&quot;Failed to close EventPlatformClient.&quot;, ex);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n### `HeartbeatConsumer`\r\n```java\r\npackage com.climate.canarytesting.events.heartbeat;\r\n\r\nimport channels.climate.heartbeat.heartbeat.generated.HeartbeatSchema;\r\nimport com.climate.eventplatform.client.*;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport java.io.IOException;\r\n\r\n/**\r\n * This class defines a HeartBeatConsumer that is used to consume events from the Event Platform.\r\n */\r\npublic class HeartBeatConsumer {\r\n\r\n    // Constants\r\n    private static final String TOPIC_NAME = &quot;climate/heartbeat/heartbeat&quot;;\r\n    private static final String SUBSCRIPTION_NAME = &quot;heartbeat_subscription&quot;;\r\n    private static final String EVENT_AVRO_SCHEMA = HeartbeatSchema.getClassSchema().toString();\r\n    private static final String SSM_PARAM_TEST_SERVICE_OAUTH2_CREDS = &quot;production.global.event-platform.oauth2creds.sample-applications&quot;;\r\n    private static final int ACK_TIMEOUT = 1;\r\n    private static final String terminatingString = &quot;##TERMINATE##&quot;;\r\n    private final Logger log = LoggerFactory.getLogger(HeartBeatConsumer.class);\r\n\r\n    // Instance variables\r\n    private static String serviceUrl;\r\n    private EventPlatformClient epClient;\r\n    private EventPlatformConsumer&lt;HeartbeatSchema&gt; consumer;\r\n\r\n    /**\r\n     * Constructor that initializes a HeartBeatConsumer with a specific service URL.\r\n     *\r\n     * @param serviceUrl the service URL to use\r\n     */\r\n    public HeartBeatConsumer(String serviceUrl) throws EventPlatformClientException, IOException {\r\n        this.serviceUrl = serviceUrl;\r\n        this.epClient = new EventPlatformClient(\r\n                serviceUrl,\r\n                EventPlatformOAuth2CredsType.SSM,\r\n                SSM_PARAM_TEST_SERVICE_OAUTH2_CREDS);\r\n        this.consumer = new EventPlatformConsumer&lt;&gt;(\r\n                epClient,\r\n                TOPIC_NAME,\r\n                SUBSCRIPTION_NAME,\r\n                EVENT_AVRO_SCHEMA,\r\n                ACK_TIMEOUT,\r\n                EventPlatformSubscriptionInitialPosition.LATEST);\r\n    }\r\n\r\n    /**\r\n     * This method consumes events from the Event Platform until a terminating string is received.\r\n     *\r\n     * @param consumerName the name of the consumer\r\n     * @throws IOException if there is an I/O error\r\n     */\r\n    public boolean consumeUntilTerminated(final String consumerName) throws IOException {\r\n        boolean consumed = false;\r\n\r\n        try {\r\n            consumed = receiveAndProcessUntilTerminated(consumer, consumerName, terminatingString);\r\n        } catch (EventPlatformClientException ex) {\r\n            log.error(&quot;Failed to construct consumer.&quot;, ex);\r\n        }\r\n\r\n        return consumed;\r\n    }\r\n\r\n    /**\r\n     * This method receives events from an EventPlatformConsumer and processes them until a terminating string is received.\r\n     *\r\n     * @param consumer          the EventPlatformConsumer to receive events from\r\n     * @param consumerName      the name of the consumer\r\n     * @param terminatingString the terminating string to look for in the received events\r\n     * @return true if a message was successfully consumed, false otherwise\r\n     * @throws EventPlatformClientException if there is an error receiving or acknowledging an event\r\n     */\r\n    public boolean receiveAndProcessUntilTerminated(\r\n            EventPlatformConsumer&lt;HeartbeatSchema&gt; consumer,\r\n            String consumerName,\r\n            String terminatingString) throws EventPlatformClientException {\r\n        int messageCount = 0;\r\n        boolean consumed = false;\r\n\r\n        // The loop exits only on encountering an exception e.g. connection severed, event schema deleted.\r\n        while (true) {\r\n            EventPlatformMessage&lt;HeartbeatSchema&gt; event = consumer.receive();\r\n\r\n            log.info(&quot;The event received by {} is: {}&quot;, consumerName, event.getMessageValue());\r\n\r\n            try {\r\n                consumer.acknowledge(event);\r\n                messageCount++;\r\n\r\n                // Check if the received event contains the terminating string\r\n                if (event.getMessageValue().toString().contains(terminatingString)) {\r\n                    log.info(&quot;{} messages processed.&quot;, messageCount);\r\n                    log.info(&quot;Terminating string received, exiting.&quot;);\r\n                    consumed = true;\r\n                    break;\r\n                }\r\n            } catch (EventPlatformClientException ex) {\r\n                log.error(&quot;Failed to acknowledge the event&quot;, ex);\r\n                break;\r\n            }\r\n        }\r\n        return consumed;\r\n    }\r\n\r\n    public void close() {\r\n        if (consumer != null) {\r\n            try {\r\n                consumer.close();\r\n            } catch (IOException ex) {\r\n                log.error(&quot;Failed to close consumer.&quot;, ex);\r\n            }\r\n        }\r\n        if (epClient != null) {\r\n            try {\r\n                epClient.close();\r\n            } catch (IOException ex) {\r\n                log.error(&quot;Failed to close event platform client.&quot;, ex);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n## Things I&#39;ve tried\r\n - I have found that spacing out the scheduled jobs seems to works. About a 30 second time difference and the logs seem to behave correctly.\r\n - Updated `Logger` variables to from `static` to non-static: `private final Logger log = LoggerFactory.getLogger(HeartBeatProducer.class);`","title":"Log interleaving issue in a multi-threaded application using Spring Boot and asynchronous tasks","body":"<p>I am working on a Spring Boot application that runs multiple instances of a job called <code>HeartbeatJob</code> concurrently. Each <code>HeartbeatJob</code> has a producer and a consumer that produce and consume messages respectively.</p>\n<p>I have a custom <code>ThreadPoolTaskExecutor</code> with a specified pool size to handle these tasks asynchronously. My problem is that the logs from different threads seem to be interleaved, making it difficult to analyze the logs.</p>\n<p>Here is an example of how the logs that are getting mixed up:</p>\n<pre><code>12:04:22.908 [heartbeatExecutor-3] INFO  com.climate.canarytesting.events.heartbeat.HeartBeatConsumer - The event received by Heartbeat-SYSTEMS_CLUSTER_0 consumer is: {&quot;name&quot;: &quot;Heartbeat-SYSTEMS_CLUSTER_1 producer heartbeat message 0&quot;}\n12:04:22.908 [heartbeatExecutor-3] INFO  com.climate.canarytesting.events.heartbeat.HeartBeatConsumer - The event received by Heartbeat-SYSTEMS_CLUSTER_0 consumer is: {&quot;name&quot;: &quot;Heartbeat-SYSTEMS_CLUSTER_0 producer heartbeat message 0&quot;}\n12:04:22.908 [heartbeatExecutor-3] INFO  com.climate.canarytesting.events.heartbeat.HeartBeatConsumer - The event received by Heartbeat-SYSTEMS_CLUSTER_0 consumer is: {&quot;name&quot;: &quot;Heartbeat-PRODUCTION_CLUSTER_0 producer heartbeat message 0&quot;}\n12:04:22.908 [heartbeatExecutor-3] INFO  com.climate.canarytesting.events.heartbeat.HeartBeatConsumer - The event received by Heartbeat-SYSTEMS_CLUSTER_0 consumer is: {&quot;name&quot;: &quot;Heartbeat-PRODUCTION_CLUSTER_1 producer heartbeat message 0&quot;}\n12:04:22.908 [heartbeatExecutor-3] INFO  com.climate.canarytesting.events.heartbeat.HeartBeatConsumer - The event received by Heartbeat-SYSTEMS_CLUSTER_0 consumer is: {&quot;name&quot;: &quot;Heartbeat-SYSTEMS_CLUSTER_1 producer heartbeat message 1&quot;}\n</code></pre>\n<p>The logs should never be receiving a message from outside of its cluster.\nSo these logs messages look like:</p>\n<pre><code>The event received by Heartbeat-{cluster} consumer is: {&quot;name&quot;: &quot;Heartbeat-{cluster} producer heartbeat message {n}&quot;}\n</code></pre>\n<p>Here is the relevant code:</p>\n<h3><code>HeartbeatJobConfiguration</code></h3>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * This module is responsible for configuring the HeartbeatJob instances and their execution for different clusters.\n * It creates a HeartbeatJob bean and a ThreadPoolTaskExecutor bean for executing the HeartbeatJobs.\n * The module schedules the execution of HeartbeatJobs for the following clusters:\n * - PRODUCTION_CLUSTER_0\n * - PRODUCTION_CLUSTER_1\n * - SYSTEMS_CLUSTER_0\n * - SYSTEMS_CLUSTER_1\n */\n\npackage com.climate.config;\n\nimport com.climate.canarytesting.jobs.HeartbeatJob;\n\nimport com.climate.eventplatform.client.EventPlatformClientException;\nimport io.micrometer.core.instrument.MeterRegistry;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.task.TaskExecutor;\nimport org.springframework.scheduling.annotation.EnableAsync;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor;\n\nimport java.io.IOException;\n\n@Configuration\n@EnableAsync\npublic class HeartbeatJobConfiguration {\n\n    private MeterRegistry meterRegistry;\n\n    /**\n     * Constructs a new HeartbeatJobConfiguration instance with the provided MeterRegistry.\n     *\n     * @param meterRegistry the MeterRegistry instance\n     */\n    @Autowired\n    public HeartbeatJobConfiguration(MeterRegistry meterRegistry) {\n        this.meterRegistry = meterRegistry;\n    }\n\n    /**\n     * Creates a new HeartbeatJob bean with the provided MeterRegistry.\n     *\n     * @return a new HeartbeatJob instance\n     */\n    @Bean\n    public HeartbeatJob heartbeatJob() {\n        return new HeartbeatJob(meterRegistry);\n    }\n\n    /**\n     * Creates a new ThreadPoolTaskExecutor bean for executing HeartbeatJobs.\n     *\n     * @return a new ThreadPoolTaskExecutor instance\n     */\n    @Bean\n    public TaskExecutor heartbeatExecutor() {\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(4);\n        executor.setMaxPoolSize(4);\n        executor.setThreadNamePrefix(&quot;heartbeatExecutor-&quot;);\n        return executor;\n    }\n\n    // The following scheduled jobs run the HeartbeatJob for different clusters\n    // at the specified cron schedule. The HeartbeatJob is responsible for sending\n    // and receiving heartbeats for each respective cluster.\n\n    @Scheduled(cron = &quot;0 * * * * ?&quot;)\n    public void runProductionCluster0HeartbeatJob() throws EventPlatformClientException, IOException, InterruptedException {\n        heartbeatJob().execute(&quot;PRODUCTION_CLUSTER_0&quot;);\n    }\n\n    @Scheduled(cron = &quot;0 * * * * ?&quot;)\n    public void runProductionCluster1HeartbeatJob() throws EventPlatformClientException, IOException, InterruptedException {\n        heartbeatJob().execute(&quot;PRODUCTION_CLUSTER_1&quot;);\n    }\n\n    @Scheduled(cron = &quot;0 * * * * ?&quot;)\n    public void runSystemsCluster0HeartbeatJob() throws EventPlatformClientException, IOException, InterruptedException {\n        heartbeatJob().execute(&quot;SYSTEMS_CLUSTER_0&quot;);\n    }\n\n    @Scheduled(cron = &quot;0 * * * * ?&quot;)\n    public void runSystemsCluster1HeartbeatJob() throws EventPlatformClientException, IOException, InterruptedException {\n        heartbeatJob().execute(&quot;SYSTEMS_CLUSTER_1&quot;);\n    }\n\n}\n\n</code></pre>\n<h3><code>HeartbeatJob</code></h3>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * The HeartbeatJob class is responsible for running a scheduled job that\n * sends and receives heartbeats for the configured environment. It also tracks and reports metrics\n * for the job runs using Micrometer.\n */\n\npackage com.climate.canarytesting.jobs;\n\nimport com.climate.canarytesting.events.heartbeat.HeartBeatConsumer;\nimport com.climate.canarytesting.events.heartbeat.HeartBeatProducer;\nimport com.climate.eventplatform.client.EventPlatformClientException;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport org.springframework.scheduling.annotation.Async;\n\nimport io.micrometer.core.instrument.Counter;\nimport io.micrometer.core.instrument.MeterRegistry;\n\nimport java.io.IOException;\nimport java.util.Map;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.text.MessageFormat;\n\n\npublic class HeartbeatJob extends BaseJob {\n\n    private final Logger log = LoggerFactory.getLogger(HeartbeatJob.class);\n    private String clusterName;\n    private final String jobName = &quot;Heartbeat&quot;;\n    private final Map&lt;String, Counter&gt; totalJobRunsCounters;\n    private final Map&lt;String, Counter&gt; successfulJobRunsCounters;\n\n    /**\n     * Constructs a new HeartbeatJob instance with the provided meter registry.\n     *\n     * @param meterRegistry the MeterRegistry instance for reporting metrics\n     */\n    public HeartbeatJob(MeterRegistry meterRegistry) {\n        super(meterRegistry);\n        this.totalJobRunsCounters = new ConcurrentHashMap&lt;&gt;();\n        this.successfulJobRunsCounters = new ConcurrentHashMap&lt;&gt;();\n    }\n\n    /**\n     * Executes the heartbeat job on a schedule, sending and receiving heartbeats for the configured environment.\n     * It also increments the counters for total job runs and successful job runs.\n     *\n     * @param clusterName the name of the cluster for which the heartbeat job is executed\n     * @throws EventPlatformClientException if there is an error with the event platform client\n     * @throws InterruptedException         if the thread is interrupted\n     * @throws IOException                  if there is an I/O error\n     */\n    @Async(&quot;heartbeatExecutor&quot;)\n    public void execute(String clusterName) throws EventPlatformClientException, InterruptedException, IOException {\n        this.clusterName = clusterName;\n        clusterUrl = setClusterUrlByClusterName(clusterName);\n\n        String counterName;\n        counterName = MessageFormat.format(&quot;ep.heartbeat.{0}.runs.total&quot;, clusterName);\n        Counter totalJobRunsCounter = getOrCreateCounter(this.totalJobRunsCounters, counterName);\n\n        counterName = MessageFormat.format(&quot;ep.heartbeat.{0}.runs.success&quot;, clusterName);\n        Counter successfulJobRunsCounter = getOrCreateCounter(this.successfulJobRunsCounters, counterName);\n\n        log.info(&quot;{}-{}: incrementing totalJobsRunsCounter&quot;, jobName, clusterName);\n        totalJobRunsCounter.increment();\n\n        HeartBeatProducer producer = null;\n        HeartBeatConsumer consumer = null;\n\n        try {\n            log.info(&quot;{}-{}: Producer initializing...&quot;, jobName, clusterName);\n            producer = new HeartBeatProducer(clusterUrl);\n\n            String producerName = MessageFormat.format(&quot;{0}-{1} producer&quot;, jobName, clusterName);\n            producer.produceAll(producerName);\n            log.info(&quot;{}-{}: Producer terminated...&quot;, jobName, clusterName);\n\n            Thread.sleep(5000);\n\n            log.info(&quot;{}-{}: Consumer initializing...&quot;, jobName, clusterName);\n            consumer = new HeartBeatConsumer(clusterUrl);\n\n            String consumerName = MessageFormat.format(&quot;{0}-{1} consumer&quot;, jobName, clusterName);\n            boolean consumed = consumer.consumeUntilTerminated(consumerName);\n            log.info(&quot;{}-{}: Consumer terminated...&quot;, jobName, clusterName);\n\n            if (consumed) {\n                log.info(&quot;{}-{}: incrementing successfulJobRunsCounter&quot;, jobName, clusterName);\n                successfulJobRunsCounter.increment();\n            }\n\n        } catch (EventPlatformClientException | InterruptedException | IOException e) {\n            log.error(&quot;{}-{}: Error during job execution. Message: {} {}&quot;, jobName, clusterName, e.getMessage(), e);\n        } finally {\n            if (producer != null) {\n                producer.close();\n            }\n            if (consumer != null) {\n                consumer.close();\n            }\n        }\n    }\n}\n</code></pre>\n<h3><code>HeartbeatProducer</code></h3>\n<pre class=\"lang-java prettyprint-override\"><code>package com.climate.canarytesting.events.heartbeat;\n\nimport channels.climate.heartbeat.heartbeat.generated.HeartbeatSchema;\nimport com.climate.eventplatform.client.EventPlatformClient;\nimport com.climate.eventplatform.client.EventPlatformClientException;\nimport com.climate.eventplatform.client.EventPlatformMessage;\nimport com.climate.eventplatform.client.EventPlatformProducer;\nimport com.climate.eventplatform.client.EventPlatformOAuth2CredsType;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.io.IOException;\n\npublic class HeartBeatProducer {\n\n    // Constants\n    private static final String TOPIC_NAME = &quot;climate/heartbeat/heartbeat&quot;;\n    private static final String EVENT_AVRO_SCHEMA = HeartbeatSchema.getClassSchema().toString();\n    private static final int NUM_MESSAGES = 5;\n    private static final String TERMINATING_STRING = &quot;##TERMINATE##&quot;;\n    private static final String SSM_PARAM_TEST_SERVICE_OAUTH2_CREDS = &quot;production.global.event-platform.oauth2creds.sample-applications&quot;;\n    private final Logger log = LoggerFactory.getLogger(HeartBeatProducer.class);\n\n    // Instance variables\n    private static String serviceUrl;\n    private EventPlatformClient epClient;\n    private EventPlatformProducer&lt;HeartbeatSchema&gt; producer;\n\n\n    /**\n     * Constructs a new instance of the HeartBeatProducer class.\n     * @param serviceUrl The URL of the Event Platform service to produce messages to.\n     */\n    public HeartBeatProducer(String serviceUrl) throws EventPlatformClientException, IOException {\n        this.serviceUrl = serviceUrl;\n        this.epClient = new EventPlatformClient(\n                serviceUrl,\n                EventPlatformOAuth2CredsType.SSM,\n                SSM_PARAM_TEST_SERVICE_OAUTH2_CREDS);\n        this.producer = new EventPlatformProducer&lt;&gt;(epClient, TOPIC_NAME, EVENT_AVRO_SCHEMA);\n    }\n\n    /**\n     * Sends a series of heartbeat messages to the Event Platform.\n     * @param producerName The name of the producer.\n     * @throws EventPlatformClientException if an error occurs while sending the messages.\n     * @throws InterruptedException if the thread is interrupted while sleeping.\n     * @throws IOException if an I/O error occurs.\n     */\n    public void produceAll(String producerName) throws EventPlatformClientException, InterruptedException, IOException {\n        HeartbeatSchema[] heartbeatMessages = new HeartbeatSchema[NUM_MESSAGES + 1]; // add additional spot for TERMINATING_STRING\n        heartbeatMessages[0] = new HeartbeatSchema(producerName + &quot; heartbeat message 0&quot;);\n        heartbeatMessages[1] = new HeartbeatSchema(producerName + &quot; heartbeat message 1&quot;);\n        heartbeatMessages[2] = new HeartbeatSchema(producerName + &quot; heartbeat message 2&quot;);\n        heartbeatMessages[3] = new HeartbeatSchema(producerName + &quot; heartbeat message 3&quot;);\n        heartbeatMessages[4] = new HeartbeatSchema(producerName + &quot; heartbeat message 4&quot;);\n        heartbeatMessages[5] = new HeartbeatSchema(TERMINATING_STRING);\n\n        for (int i = 0; i &lt; heartbeatMessages.length; i++) {\n            EventPlatformMessage&lt;HeartbeatSchema&gt; currentMessage = new EventPlatformMessage&lt;&gt;(heartbeatMessages[i], producerName);\n            producer.send(currentMessage);\n            log.info(&quot;{} sent a message: {}&quot;, producerName, currentMessage.getMessageValue());\n            Thread.sleep(1000);\n        }\n    }\n\n    public void close() {\n        if (producer != null) {\n            try {\n                producer.close();\n            } catch ( IOException ex) {\n                log.error(&quot;Failed to close producer.&quot;, ex);\n            }\n        }\n        if (epClient != null) {\n            try {\n                epClient.close();\n            } catch (IOException ex) {\n                log.error(&quot;Failed to close EventPlatformClient.&quot;, ex);\n            }\n        }\n    }\n}\n</code></pre>\n<h3><code>HeartbeatConsumer</code></h3>\n<pre class=\"lang-java prettyprint-override\"><code>package com.climate.canarytesting.events.heartbeat;\n\nimport channels.climate.heartbeat.heartbeat.generated.HeartbeatSchema;\nimport com.climate.eventplatform.client.*;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.io.IOException;\n\n/**\n * This class defines a HeartBeatConsumer that is used to consume events from the Event Platform.\n */\npublic class HeartBeatConsumer {\n\n    // Constants\n    private static final String TOPIC_NAME = &quot;climate/heartbeat/heartbeat&quot;;\n    private static final String SUBSCRIPTION_NAME = &quot;heartbeat_subscription&quot;;\n    private static final String EVENT_AVRO_SCHEMA = HeartbeatSchema.getClassSchema().toString();\n    private static final String SSM_PARAM_TEST_SERVICE_OAUTH2_CREDS = &quot;production.global.event-platform.oauth2creds.sample-applications&quot;;\n    private static final int ACK_TIMEOUT = 1;\n    private static final String terminatingString = &quot;##TERMINATE##&quot;;\n    private final Logger log = LoggerFactory.getLogger(HeartBeatConsumer.class);\n\n    // Instance variables\n    private static String serviceUrl;\n    private EventPlatformClient epClient;\n    private EventPlatformConsumer&lt;HeartbeatSchema&gt; consumer;\n\n    /**\n     * Constructor that initializes a HeartBeatConsumer with a specific service URL.\n     *\n     * @param serviceUrl the service URL to use\n     */\n    public HeartBeatConsumer(String serviceUrl) throws EventPlatformClientException, IOException {\n        this.serviceUrl = serviceUrl;\n        this.epClient = new EventPlatformClient(\n                serviceUrl,\n                EventPlatformOAuth2CredsType.SSM,\n                SSM_PARAM_TEST_SERVICE_OAUTH2_CREDS);\n        this.consumer = new EventPlatformConsumer&lt;&gt;(\n                epClient,\n                TOPIC_NAME,\n                SUBSCRIPTION_NAME,\n                EVENT_AVRO_SCHEMA,\n                ACK_TIMEOUT,\n                EventPlatformSubscriptionInitialPosition.LATEST);\n    }\n\n    /**\n     * This method consumes events from the Event Platform until a terminating string is received.\n     *\n     * @param consumerName the name of the consumer\n     * @throws IOException if there is an I/O error\n     */\n    public boolean consumeUntilTerminated(final String consumerName) throws IOException {\n        boolean consumed = false;\n\n        try {\n            consumed = receiveAndProcessUntilTerminated(consumer, consumerName, terminatingString);\n        } catch (EventPlatformClientException ex) {\n            log.error(&quot;Failed to construct consumer.&quot;, ex);\n        }\n\n        return consumed;\n    }\n\n    /**\n     * This method receives events from an EventPlatformConsumer and processes them until a terminating string is received.\n     *\n     * @param consumer          the EventPlatformConsumer to receive events from\n     * @param consumerName      the name of the consumer\n     * @param terminatingString the terminating string to look for in the received events\n     * @return true if a message was successfully consumed, false otherwise\n     * @throws EventPlatformClientException if there is an error receiving or acknowledging an event\n     */\n    public boolean receiveAndProcessUntilTerminated(\n            EventPlatformConsumer&lt;HeartbeatSchema&gt; consumer,\n            String consumerName,\n            String terminatingString) throws EventPlatformClientException {\n        int messageCount = 0;\n        boolean consumed = false;\n\n        // The loop exits only on encountering an exception e.g. connection severed, event schema deleted.\n        while (true) {\n            EventPlatformMessage&lt;HeartbeatSchema&gt; event = consumer.receive();\n\n            log.info(&quot;The event received by {} is: {}&quot;, consumerName, event.getMessageValue());\n\n            try {\n                consumer.acknowledge(event);\n                messageCount++;\n\n                // Check if the received event contains the terminating string\n                if (event.getMessageValue().toString().contains(terminatingString)) {\n                    log.info(&quot;{} messages processed.&quot;, messageCount);\n                    log.info(&quot;Terminating string received, exiting.&quot;);\n                    consumed = true;\n                    break;\n                }\n            } catch (EventPlatformClientException ex) {\n                log.error(&quot;Failed to acknowledge the event&quot;, ex);\n                break;\n            }\n        }\n        return consumed;\n    }\n\n    public void close() {\n        if (consumer != null) {\n            try {\n                consumer.close();\n            } catch (IOException ex) {\n                log.error(&quot;Failed to close consumer.&quot;, ex);\n            }\n        }\n        if (epClient != null) {\n            try {\n                epClient.close();\n            } catch (IOException ex) {\n                log.error(&quot;Failed to close event platform client.&quot;, ex);\n            }\n        }\n    }\n}\n</code></pre>\n<h2>Things I've tried</h2>\n<ul>\n<li>I have found that spacing out the scheduled jobs seems to works. About a 30 second time difference and the logs seem to behave correctly.</li>\n<li>Updated <code>Logger</code> variables to from <code>static</code> to non-static: <code>private final Logger log = LoggerFactory.getLogger(HeartBeatProducer.class);</code></li>\n</ul>\n"},{"tags":["java","spring","spring-boot","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1682319353,"post_id":76088572,"comment_id":134190326,"body_markdown":"Why areyou creating your own `KafkaTemplate` and there appears to be no mapping in your `@DynamicPropertySource` method for the kafka container. Which feels like they are disconnected from each other. Your container setup is weird as well `@TestContainers` will already manage the lifecycle of the `@Container`s so no need to do that yourself (as well). Finally I would suggest using something like Awaitility to write your tests instead of a hard thread.sleep. Also finally calling `toString` doesn&#39;t produce JSON, so I doubnt your listener will be able to deserialize your payload.","body":"Why areyou creating your own <code>KafkaTemplate</code> and there appears to be no mapping in your <code>@DynamicPropertySource</code> method for the kafka container. Which feels like they are disconnected from each other. Your container setup is weird as well <code>@TestContainers</code> will already manage the lifecycle of the <code>@Container</code>s so no need to do that yourself (as well). Finally I would suggest using something like Awaitility to write your tests instead of a hard thread.sleep. Also finally calling <code>toString</code> doesn&#39;t produce JSON, so I doubnt your listener will be able to deserialize your payload."},{"owner":{"account_id":24919598,"reputation":79,"user_id":18788036,"display_name":"charbs29"},"score":0,"creation_date":1682319966,"post_id":76088572,"comment_id":134190417,"body_markdown":"@M.Deinum — Thanks for input. A few things such as my container setup, and also calling toString must have completely flown over my head. I could use ObjectMapper to properly convert the payload to json. I’ll make those adjustments and respond again. Thank you!","body":"@M.Deinum — Thanks for input. A few things such as my container setup, and also calling toString must have completely flown over my head. I could use ObjectMapper to properly convert the payload to json. I’ll make those adjustments and respond again. Thank you!"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1682320289,"post_id":76088572,"comment_id":134190454,"body_markdown":"Just inject the `KafkaTemplate` from the context, just remove that setup and juist place `@Autowired` on the `KafkaTemplate`. Spring Boot will inject one.","body":"Just inject the <code>KafkaTemplate</code> from the context, just remove that setup and juist place <code>@Autowired</code> on the <code>KafkaTemplate</code>. Spring Boot will inject one."},{"owner":{"account_id":24919598,"reputation":79,"user_id":18788036,"display_name":"charbs29"},"score":0,"creation_date":1682385832,"post_id":76088572,"comment_id":134203561,"body_markdown":"@M.Deinum -- Your tips helped me solve the error. I used ```@Autowired``` to inject the ```KafkaTemplate```, I removed the ```@BeforeAll``` setup and used the ```DynamicPropertyRegistry``` to add the kafka container bootstrap server to the registry. I also added the producer serializer in my ````application-test.properties```. I&#39;ll update the question with the adjusted code.","body":"@M.Deinum -- Your tips helped me solve the error. I used <code>@Autowired</code> to inject the <code>KafkaTemplate</code>, I removed the <code>@BeforeAll</code> setup and used the <code>DynamicPropertyRegistry</code> to add the kafka container bootstrap server to the registry. I also added the producer serializer in my ````application-test.properties```. I&#39;ll update the question with the adjusted code."}],"answers":[{"tags":[],"owner":{"account_id":24919598,"reputation":79,"user_id":18788036,"display_name":"charbs29"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682386139,"creation_date":1682386139,"answer_id":76097099,"question_id":76088572,"body_markdown":"With the help of @M.Deinum, I solved the issue I was facing. It was quite simple; I used ```@Autowired``` to inject the ```KafkaTemplate``` from the context and removed the entire ```@BeforeAll``` setup. By removing the ```@BeforeAll``` setup, I had to use the ```DynamicPropertyRegistry``` and the ```KafkaContainer``` to add the ```spring.kafka.bootstrap-server``` to the properties.\r\n\r\nBelow is the adjusted code.\r\n\r\n**application-test.properties**\r\n```\r\n# Kafka Properties\r\nspring.kafka.topic.name=tappedtechnologies.test.topics\r\n\r\n# Kafka Consumer Properties\r\nspring.kafka.consumer.group-id=testId\r\nspring.kafka.consumer.auto-offset-reset=earliest\r\nspring.kafka.consumer.key-serializer=org.apache.kafka.common.serialization.StringDeserializer\r\nspring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer\r\nspring.kafka.consumer.properties.spring.json.type.mapping=event:com.tappedtechnologies.userservice.events.RecipientSavedEvent\r\nspring.kafka.consumer.properties.spring.json.default.type=com.tappedtechnologies.userservice.events.RecipientSavedEvent\r\nspring.kafka.consumer.properties.spring.deserializer.value.delegate.class=org.springframework.kafka.support.serializer.JsonDeserializer\r\n\r\n# Kafka Producer Properties\r\n# -- NEWLY ADDED -- #\r\nspring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\r\nspring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\r\n```\r\n\r\n**RecipientPayloadConsumerTests**\r\n```\r\n@Testcontainers\r\n@SpringBootTest\r\n@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\r\npublic class RecipientPayloadConsumerTests {\r\n\r\n    private static final String TOPIC = &quot;tappedtechnologies.test.topics&quot;;\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n    @Autowired\r\n    private KafkaTemplate&lt;String, RecipientSavedEvent&gt; kafkaTemplate;\r\n\r\n    @Container\r\n    public static MySQLContainer&lt;?&gt; mySQLContainer = new MySQLContainer&lt;&gt;(&quot;mysql:latest&quot;);\r\n    @Container\r\n    public static KafkaContainer kafkaContainer = new KafkaContainer(DockerImageName.parse(&quot;confluentinc/cp-kafka:6.2.1&quot;));\r\n\r\n    @DynamicPropertySource\r\n    public static void setProperties(DynamicPropertyRegistry registry) {\r\n        registry.add(&quot;spring.datasource.url&quot;, mySQLContainer::getJdbcUrl);\r\n        registry.add(&quot;spring.datasource.username&quot;, mySQLContainer::getUsername);\r\n        registry.add(&quot;spring.datasource.password&quot;, mySQLContainer::getPassword);\r\n\r\n        registry.add(&quot;spring.kafka.bootstrap-servers&quot;, kafkaContainer::getBootstrapServers);\r\n    }\r\n\r\n    @AfterEach\r\n    public void afterEach() {\r\n        userRepository.deleteAll();\r\n    }\r\n\r\n    @Test\r\n    public void consumePayload_Should_SavePayload() throws InterruptedException {\r\n        RecipientSavedEvent expected = getPayload();\r\n        kafkaTemplate.send(TOPIC, 0, Instant.now().getEpochSecond(), expected.getPayloadKey(), expected);\r\n        Thread.sleep(5000);\r\n\r\n        User actual = userRepository.findByEmail(expected.getEmail()).orElse(null);\r\n\r\n        assert actual != null;\r\n        assertThat(actual.getFirstName()).isEqualTo(expected.getFirstName());\r\n        assertThat(actual.getLastName()).isEqualTo(expected.getLastName());\r\n        assertThat(actual.getEmail()).isEqualTo(expected.getEmail());\r\n    }\r\n\r\n    private RecipientSavedEvent getPayload() {\r\n        return RecipientSavedEvent.builder()\r\n                .payloadKey(UUID.randomUUID().toString())\r\n                .firstName(&quot;Randy&quot;)\r\n                .lastName(&quot;Marsh&quot;)\r\n                .email(&quot;randy@tegridyfarms.com&quot;)\r\n                .build();\r\n    }\r\n}\r\n```\r\n","title":"Integration Test Issues for Kafka Consumer","body":"<p>With the help of @M.Deinum, I solved the issue I was facing. It was quite simple; I used <code>@Autowired</code> to inject the <code>KafkaTemplate</code> from the context and removed the entire <code>@BeforeAll</code> setup. By removing the <code>@BeforeAll</code> setup, I had to use the <code>DynamicPropertyRegistry</code> and the <code>KafkaContainer</code> to add the <code>spring.kafka.bootstrap-server</code> to the properties.</p>\n<p>Below is the adjusted code.</p>\n<p><strong>application-test.properties</strong></p>\n<pre><code># Kafka Properties\nspring.kafka.topic.name=tappedtechnologies.test.topics\n\n# Kafka Consumer Properties\nspring.kafka.consumer.group-id=testId\nspring.kafka.consumer.auto-offset-reset=earliest\nspring.kafka.consumer.key-serializer=org.apache.kafka.common.serialization.StringDeserializer\nspring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer\nspring.kafka.consumer.properties.spring.json.type.mapping=event:com.tappedtechnologies.userservice.events.RecipientSavedEvent\nspring.kafka.consumer.properties.spring.json.default.type=com.tappedtechnologies.userservice.events.RecipientSavedEvent\nspring.kafka.consumer.properties.spring.deserializer.value.delegate.class=org.springframework.kafka.support.serializer.JsonDeserializer\n\n# Kafka Producer Properties\n# -- NEWLY ADDED -- #\nspring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\nspring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\n</code></pre>\n<p><strong>RecipientPayloadConsumerTests</strong></p>\n<pre><code>@Testcontainers\n@SpringBootTest\n@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\npublic class RecipientPayloadConsumerTests {\n\n    private static final String TOPIC = &quot;tappedtechnologies.test.topics&quot;;\n\n    @Autowired\n    private UserRepository userRepository;\n    @Autowired\n    private KafkaTemplate&lt;String, RecipientSavedEvent&gt; kafkaTemplate;\n\n    @Container\n    public static MySQLContainer&lt;?&gt; mySQLContainer = new MySQLContainer&lt;&gt;(&quot;mysql:latest&quot;);\n    @Container\n    public static KafkaContainer kafkaContainer = new KafkaContainer(DockerImageName.parse(&quot;confluentinc/cp-kafka:6.2.1&quot;));\n\n    @DynamicPropertySource\n    public static void setProperties(DynamicPropertyRegistry registry) {\n        registry.add(&quot;spring.datasource.url&quot;, mySQLContainer::getJdbcUrl);\n        registry.add(&quot;spring.datasource.username&quot;, mySQLContainer::getUsername);\n        registry.add(&quot;spring.datasource.password&quot;, mySQLContainer::getPassword);\n\n        registry.add(&quot;spring.kafka.bootstrap-servers&quot;, kafkaContainer::getBootstrapServers);\n    }\n\n    @AfterEach\n    public void afterEach() {\n        userRepository.deleteAll();\n    }\n\n    @Test\n    public void consumePayload_Should_SavePayload() throws InterruptedException {\n        RecipientSavedEvent expected = getPayload();\n        kafkaTemplate.send(TOPIC, 0, Instant.now().getEpochSecond(), expected.getPayloadKey(), expected);\n        Thread.sleep(5000);\n\n        User actual = userRepository.findByEmail(expected.getEmail()).orElse(null);\n\n        assert actual != null;\n        assertThat(actual.getFirstName()).isEqualTo(expected.getFirstName());\n        assertThat(actual.getLastName()).isEqualTo(expected.getLastName());\n        assertThat(actual.getEmail()).isEqualTo(expected.getEmail());\n    }\n\n    private RecipientSavedEvent getPayload() {\n        return RecipientSavedEvent.builder()\n                .payloadKey(UUID.randomUUID().toString())\n                .firstName(&quot;Randy&quot;)\n                .lastName(&quot;Marsh&quot;)\n                .email(&quot;randy@tegridyfarms.com&quot;)\n                .build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24919598,"reputation":79,"user_id":18788036,"display_name":"charbs29"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":929,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76097099,"answer_count":1,"score":0,"last_activity_date":1682386139,"creation_date":1682310157,"question_id":76088572,"body_markdown":"EDIT: The test now only passes when I use localhost:9092 for the bootstrap server, which is the default port I have my kafka/zookeeper docker image running on. \r\n\r\nI need help with my integration test, which tests that the Kafka payload is consumed. I am using Test containers for the KafkaContainer and the MysqlContainer. The goal of the test is to ensure that the SUT can correctly consumer the payload from the Kafka produce, but the consumer is never being hit during the test. Despite not working correctly during the test, the code works as it should when I run it locally.\r\n\r\nSo far, I&#39;ve tried using an EmbeddedKafkaBroker, which did not work, and I also tried changing the message topic. I know that the issue is somewhere in my configuration, but I can&#39;t exactly put my finger on it. Below, the application-test.properties, the SUT, the test class, and the logs will be attached in that specific order.\r\n\r\nAlso, the reason that I am using the ```userRepository``` for my assertions, is that whenever the payload is consumed, it is saved to the repository and I want to check if the saved user exists. \r\n\r\n**application-test.properties**\r\n```\r\n# Kafka Properties\r\nspring.kafka.topic.name=tappedtechnologies.emails.recipients\r\n\r\n# Kafka Consumer Properties\r\nspring.kafka.consumer.group-id=userId\r\nspring.kafka.consumer.auto-offset-reset=earliest\r\nspring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer\r\nspring.kafka.consumer.properties.spring.json.default.type=com.tappedtechnologies.userservice.events.RecipientSavedEvent\r\nspring.kafka.consumer.properties.spring.deserializer.value.delegate.class=org.springframework.kafka.support.serializer.JsonDeserializer\r\n```\r\n\r\n**SUT (RecipientPayloadConsumer)**\r\n```\r\n@Slf4j\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class RecipientPayloadConsumer implements KafkaConsumer&lt;RecipientSavedEvent&gt; {\r\n\r\n    private final Creator&lt;User&gt; userCreator;\r\n\r\n    @Override\r\n    @KafkaListener(topics = &quot;${spring.kafka.topic.name}&quot;, groupId = &quot;${spring.kafka.consumer.group-id}&quot;)\r\n    public void consumePayload(@Payload RecipientSavedEvent payload) {\r\n        log.info(&quot;Payload received from &#39;email-service&#39;: {}&quot;, payload);\r\n        User userToSave = this.convertPayloadToUser(payload);\r\n        try {\r\n            userCreator.create(userToSave);\r\n        } catch (IllegalStateException exception) {\r\n            log.error(&quot;IllegalStateException caught attempting to save payload from email-service.&quot;);\r\n            log.error(&quot;Message: {}&quot;, exception.getMessage());\r\n            throw exception;\r\n        }\r\n    }\r\n\r\n    private User convertPayloadToUser(RecipientSavedEvent payload) {\r\n        return User.builder()\r\n                .firstName(payload.getFirstName())\r\n                .lastName(payload.getLastName())\r\n                .email(payload.getEmail())\r\n                .build();\r\n    }\r\n}\r\n\r\n```\r\n\r\n**RecipientPayloadConsumerTest**\r\n```\r\n@Testcontainers\r\n@SpringBootTest\r\n@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\r\npublic class RecipientPayloadConsumerTests {\r\n\r\n    private static KafkaTemplate&lt;String, String&gt; kafkaTemplate;\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n    @Autowired\r\n    private RecipientPayloadConsumer sut;\r\n\r\n    @Container\r\n    public static MySQLContainer&lt;?&gt; mySQLContainer = new MySQLContainer&lt;&gt;(&quot;mysql:latest&quot;);\r\n    @Container\r\n    public static KafkaContainer kafkaContainer = new KafkaContainer(DockerImageName.parse(&quot;confluentinc/cp-kafka:6.2.1&quot;));\r\n\r\n    @DynamicPropertySource\r\n    public static void setProperties(DynamicPropertyRegistry registry) {\r\n        registry.add(&quot;spring.datasource.url&quot;, mySQLContainer::getJdbcUrl);\r\n        registry.add(&quot;spring.datasource.username&quot;, mySQLContainer::getUsername);\r\n        registry.add(&quot;spring.datasource.password&quot;, mySQLContainer::getPassword);\r\n    }\r\n\r\n    @BeforeAll\r\n    public static void setUp() {\r\n        Map&lt;String, Object&gt; producerProps = new HashMap&lt;&gt;();\r\n        producerProps.put(&quot;bootstrap.servers&quot;, kafkaContainer.getBootstrapServers());\r\n        producerProps.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n        producerProps.put(&quot;value.serializer&quot;, &quot;org.springframework.kafka.support.serializer.JsonSerializer&quot;);\r\n\r\n        kafkaTemplate = new KafkaTemplate&lt;&gt;(new DefaultKafkaProducerFactory&lt;&gt;(producerProps));\r\n        kafkaTemplate.setDefaultTopic(&quot;tappedtechnologies.emails.recipients&quot;);\r\n\r\n        kafkaContainer.start();\r\n        mySQLContainer.start();\r\n    }\r\n\r\n    @AfterEach\r\n    public void afterEach() {\r\n        userRepository.deleteAll();\r\n    }\r\n\r\n    @AfterAll\r\n    public static void tearDown() {\r\n        kafkaContainer.stop();\r\n        mySQLContainer.stop();\r\n    }\r\n\r\n    @Test\r\n    public void consumePayload_Should_SavePayload() throws InterruptedException {\r\n        RecipientSavedEvent expected = getPayload();\r\n        kafkaTemplate.sendDefault(expected.getPayloadKey(), expected.toString());\r\n        Thread.sleep(5000);\r\n\r\n        User actual = userRepository.findByEmail(expected.getEmail()).orElse(null);\r\n\r\n        assertThat(actual).isNotNull();\r\n        assertThat(actual.getFirstName()).isEqualTo(expected.getFirstName());\r\n        assertThat(actual.getLastName()).isEqualTo(expected.getLastName());\r\n        assertThat(actual.getEmail()).isEqualTo(expected.getEmail());\r\n    }\r\n\r\n    private RecipientSavedEvent getPayload() {\r\n        return RecipientSavedEvent.builder()\r\n                .payloadKey(UUID.randomUUID().toString())\r\n                .firstName(&quot;Randy&quot;)\r\n                .lastName(&quot;Marsh&quot;)\r\n                .email(&quot;randy@tegridyfarms.com&quot;)\r\n                .build();\r\n    }\r\n}\r\n```\r\n**logs**\r\n```\r\n2023-04-23T21:07:12.300-07:00  INFO [Tapped Technologies - User Service,,] 63697 --- [    Test worker] o.a.k.clients.producer.KafkaProducer     : [Producer clientId=producer-1] Instantiated an idempotent producer.\r\n2023-04-23T21:07:12.324-07:00  INFO [Tapped Technologies - User Service,,] 63697 --- [    Test worker] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.3.2\r\n2023-04-23T21:07:12.324-07:00  INFO [Tapped Technologies - User Service,,] 63697 --- [    Test worker] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: b66af662e61082cb\r\n2023-04-23T21:07:12.324-07:00  INFO [Tapped Technologies - User Service,,] 63697 --- [    Test worker] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1682309232324\r\n2023-04-23T21:07:12.993-07:00  WARN [Tapped Technologies - User Service,,] 63697 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Error while fetching metadata with correlation id 1 : {tappedtechnologies.emails.recipients=LEADER_NOT_AVAILABLE}\r\n2023-04-23T21:07:12.994-07:00  INFO [Tapped Technologies - User Service,,] 63697 --- [ad | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Cluster ID: Im2Ds_vjQq289WTPzltJlA\r\n2023-04-23T21:07:13.018-07:00  INFO [Tapped Technologies - User Service,,] 63697 --- [ad | producer-1] o.a.k.c.p.internals.TransactionManager   : [Producer clientId=producer-1] ProducerId set to 0 with epoch 0\r\n2023-04-23T21:07:13.150-07:00  WARN [Tapped Technologies - User Service,,] 63697 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Error while fetching metadata with correlation id 4 : {tappedtechnologies.emails.recipients=LEADER_NOT_AVAILABLE}\r\n2023-04-23T21:07:13.289-07:00  WARN [Tapped Technologies - User Service,,] 63697 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Error while fetching metadata with correlation id 5 : {tappedtechnologies.emails.recipients=LEADER_NOT_AVAILABLE}\r\n2023-04-23T21:07:13.424-07:00  WARN [Tapped Technologies - User Service,,] 63697 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Error while fetching metadata with correlation id 6 : {tappedtechnologies.emails.recipients=LEADER_NOT_AVAILABLE}\r\n2023-04-23T21:07:13.550-07:00  WARN [Tapped Technologies - User Service,,] 63697 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Error while fetching metadata with correlation id 7 : {tappedtechnologies.emails.recipients=LEADER_NOT_AVAILABLE}\r\n2023-04-23T21:07:13.667-07:00  WARN [Tapped Technologies - User Service,,] 63697 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Error while fetching metadata with correlation id 8 : {tappedtechnologies.emails.recipients=LEADER_NOT_AVAILABLE}\r\n2023-04-23T21:07:13.789-07:00  WARN [Tapped Technologies - User Service,,] 63697 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Error while fetching metadata with correlation id 9 : {tappedtechnologies.emails.recipients=LEADER_NOT_AVAILABLE}\r\n2023-04-23T21:07:13.911-07:00  WARN [Tapped Technologies - User Service,,] 63697 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Error while fetching metadata with correlation id 10 : {tappedtechnologies.emails.recipients=LEADER_NOT_AVAILABLE}\r\n2023-04-23T21:07:14.609-07:00  WARN [Tapped Technologies - User Service,,] 63697 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Error while fetching metadata with correlation id 11 : {tappedtechnologies.emails.recipients=LEADER_NOT_AVAILABLE}\r\n2023-04-23T21:07:14.754-07:00  WARN [Tapped Technologies - User Service,,] 63697 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Error while fetching metadata with correlation id 12 : {tappedtechnologies.emails.recipients=LEADER_NOT_AVAILABLE}\r\n2023-04-23T21:07:14.934-07:00  INFO [Tapped Technologies - User Service,,] 63697 --- [ad | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Resetting the last seen epoch of partition tappedtechnologies.emails.recipients-0 to 0 since the associated topicId changed from null to mmZzWI7DSkGiNcBk1J0Lmw\r\n```","title":"Integration Test Issues for Kafka Consumer","body":"<p>EDIT: The test now only passes when I use localhost:9092 for the bootstrap server, which is the default port I have my kafka/zookeeper docker image running on.</p>\n<p>I need help with my integration test, which tests that the Kafka payload is consumed. I am using Test containers for the KafkaContainer and the MysqlContainer. The goal of the test is to ensure that the SUT can correctly consumer the payload from the Kafka produce, but the consumer is never being hit during the test. Despite not working correctly during the test, the code works as it should when I run it locally.</p>\n<p>So far, I've tried using an EmbeddedKafkaBroker, which did not work, and I also tried changing the message topic. I know that the issue is somewhere in my configuration, but I can't exactly put my finger on it. Below, the application-test.properties, the SUT, the test class, and the logs will be attached in that specific order.</p>\n<p>Also, the reason that I am using the <code>userRepository</code> for my assertions, is that whenever the payload is consumed, it is saved to the repository and I want to check if the saved user exists.</p>\n<p><strong>application-test.properties</strong></p>\n<pre><code># Kafka Properties\nspring.kafka.topic.name=tappedtechnologies.emails.recipients\n\n# Kafka Consumer Properties\nspring.kafka.consumer.group-id=userId\nspring.kafka.consumer.auto-offset-reset=earliest\nspring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer\nspring.kafka.consumer.properties.spring.json.default.type=com.tappedtechnologies.userservice.events.RecipientSavedEvent\nspring.kafka.consumer.properties.spring.deserializer.value.delegate.class=org.springframework.kafka.support.serializer.JsonDeserializer\n</code></pre>\n<p><strong>SUT (RecipientPayloadConsumer)</strong></p>\n<pre><code>@Slf4j\n@Service\n@RequiredArgsConstructor\npublic class RecipientPayloadConsumer implements KafkaConsumer&lt;RecipientSavedEvent&gt; {\n\n    private final Creator&lt;User&gt; userCreator;\n\n    @Override\n    @KafkaListener(topics = &quot;${spring.kafka.topic.name}&quot;, groupId = &quot;${spring.kafka.consumer.group-id}&quot;)\n    public void consumePayload(@Payload RecipientSavedEvent payload) {\n        log.info(&quot;Payload received from 'email-service': {}&quot;, payload);\n        User userToSave = this.convertPayloadToUser(payload);\n        try {\n            userCreator.create(userToSave);\n        } catch (IllegalStateException exception) {\n            log.error(&quot;IllegalStateException caught attempting to save payload from email-service.&quot;);\n            log.error(&quot;Message: {}&quot;, exception.getMessage());\n            throw exception;\n        }\n    }\n\n    private User convertPayloadToUser(RecipientSavedEvent payload) {\n        return User.builder()\n                .firstName(payload.getFirstName())\n                .lastName(payload.getLastName())\n                .email(payload.getEmail())\n                .build();\n    }\n}\n\n</code></pre>\n<p><strong>RecipientPayloadConsumerTest</strong></p>\n<pre><code>@Testcontainers\n@SpringBootTest\n@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\npublic class RecipientPayloadConsumerTests {\n\n    private static KafkaTemplate&lt;String, String&gt; kafkaTemplate;\n\n    @Autowired\n    private UserRepository userRepository;\n    @Autowired\n    private RecipientPayloadConsumer sut;\n\n    @Container\n    public static MySQLContainer&lt;?&gt; mySQLContainer = new MySQLContainer&lt;&gt;(&quot;mysql:latest&quot;);\n    @Container\n    public static KafkaContainer kafkaContainer = new KafkaContainer(DockerImageName.parse(&quot;confluentinc/cp-kafka:6.2.1&quot;));\n\n    @DynamicPropertySource\n    public static void setProperties(DynamicPropertyRegistry registry) {\n        registry.add(&quot;spring.datasource.url&quot;, mySQLContainer::getJdbcUrl);\n        registry.add(&quot;spring.datasource.username&quot;, mySQLContainer::getUsername);\n        registry.add(&quot;spring.datasource.password&quot;, mySQLContainer::getPassword);\n    }\n\n    @BeforeAll\n    public static void setUp() {\n        Map&lt;String, Object&gt; producerProps = new HashMap&lt;&gt;();\n        producerProps.put(&quot;bootstrap.servers&quot;, kafkaContainer.getBootstrapServers());\n        producerProps.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n        producerProps.put(&quot;value.serializer&quot;, &quot;org.springframework.kafka.support.serializer.JsonSerializer&quot;);\n\n        kafkaTemplate = new KafkaTemplate&lt;&gt;(new DefaultKafkaProducerFactory&lt;&gt;(producerProps));\n        kafkaTemplate.setDefaultTopic(&quot;tappedtechnologies.emails.recipients&quot;);\n\n        kafkaContainer.start();\n        mySQLContainer.start();\n    }\n\n    @AfterEach\n    public void afterEach() {\n        userRepository.deleteAll();\n    }\n\n    @AfterAll\n    public static void tearDown() {\n        kafkaContainer.stop();\n        mySQLContainer.stop();\n    }\n\n    @Test\n    public void consumePayload_Should_SavePayload() throws InterruptedException {\n        RecipientSavedEvent expected = getPayload();\n        kafkaTemplate.sendDefault(expected.getPayloadKey(), expected.toString());\n        Thread.sleep(5000);\n\n        User actual = userRepository.findByEmail(expected.getEmail()).orElse(null);\n\n        assertThat(actual).isNotNull();\n        assertThat(actual.getFirstName()).isEqualTo(expected.getFirstName());\n        assertThat(actual.getLastName()).isEqualTo(expected.getLastName());\n        assertThat(actual.getEmail()).isEqualTo(expected.getEmail());\n    }\n\n    private RecipientSavedEvent getPayload() {\n        return RecipientSavedEvent.builder()\n                .payloadKey(UUID.randomUUID().toString())\n                .firstName(&quot;Randy&quot;)\n                .lastName(&quot;Marsh&quot;)\n                .email(&quot;randy@tegridyfarms.com&quot;)\n                .build();\n    }\n}\n</code></pre>\n<p><strong>logs</strong></p>\n<pre><code>2023-04-23T21:07:12.300-07:00  INFO [Tapped Technologies - User Service,,] 63697 --- [    Test worker] o.a.k.clients.producer.KafkaProducer     : [Producer clientId=producer-1] Instantiated an idempotent producer.\n2023-04-23T21:07:12.324-07:00  INFO [Tapped Technologies - User Service,,] 63697 --- [    Test worker] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.3.2\n2023-04-23T21:07:12.324-07:00  INFO [Tapped Technologies - User Service,,] 63697 --- [    Test worker] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: b66af662e61082cb\n2023-04-23T21:07:12.324-07:00  INFO [Tapped Technologies - User Service,,] 63697 --- [    Test worker] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1682309232324\n2023-04-23T21:07:12.993-07:00  WARN [Tapped Technologies - User Service,,] 63697 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Error while fetching metadata with correlation id 1 : {tappedtechnologies.emails.recipients=LEADER_NOT_AVAILABLE}\n2023-04-23T21:07:12.994-07:00  INFO [Tapped Technologies - User Service,,] 63697 --- [ad | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Cluster ID: Im2Ds_vjQq289WTPzltJlA\n2023-04-23T21:07:13.018-07:00  INFO [Tapped Technologies - User Service,,] 63697 --- [ad | producer-1] o.a.k.c.p.internals.TransactionManager   : [Producer clientId=producer-1] ProducerId set to 0 with epoch 0\n2023-04-23T21:07:13.150-07:00  WARN [Tapped Technologies - User Service,,] 63697 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Error while fetching metadata with correlation id 4 : {tappedtechnologies.emails.recipients=LEADER_NOT_AVAILABLE}\n2023-04-23T21:07:13.289-07:00  WARN [Tapped Technologies - User Service,,] 63697 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Error while fetching metadata with correlation id 5 : {tappedtechnologies.emails.recipients=LEADER_NOT_AVAILABLE}\n2023-04-23T21:07:13.424-07:00  WARN [Tapped Technologies - User Service,,] 63697 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Error while fetching metadata with correlation id 6 : {tappedtechnologies.emails.recipients=LEADER_NOT_AVAILABLE}\n2023-04-23T21:07:13.550-07:00  WARN [Tapped Technologies - User Service,,] 63697 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Error while fetching metadata with correlation id 7 : {tappedtechnologies.emails.recipients=LEADER_NOT_AVAILABLE}\n2023-04-23T21:07:13.667-07:00  WARN [Tapped Technologies - User Service,,] 63697 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Error while fetching metadata with correlation id 8 : {tappedtechnologies.emails.recipients=LEADER_NOT_AVAILABLE}\n2023-04-23T21:07:13.789-07:00  WARN [Tapped Technologies - User Service,,] 63697 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Error while fetching metadata with correlation id 9 : {tappedtechnologies.emails.recipients=LEADER_NOT_AVAILABLE}\n2023-04-23T21:07:13.911-07:00  WARN [Tapped Technologies - User Service,,] 63697 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Error while fetching metadata with correlation id 10 : {tappedtechnologies.emails.recipients=LEADER_NOT_AVAILABLE}\n2023-04-23T21:07:14.609-07:00  WARN [Tapped Technologies - User Service,,] 63697 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Error while fetching metadata with correlation id 11 : {tappedtechnologies.emails.recipients=LEADER_NOT_AVAILABLE}\n2023-04-23T21:07:14.754-07:00  WARN [Tapped Technologies - User Service,,] 63697 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Error while fetching metadata with correlation id 12 : {tappedtechnologies.emails.recipients=LEADER_NOT_AVAILABLE}\n2023-04-23T21:07:14.934-07:00  INFO [Tapped Technologies - User Service,,] 63697 --- [ad | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Resetting the last seen epoch of partition tappedtechnologies.emails.recipients-0 to 0 since the associated topicId changed from null to mmZzWI7DSkGiNcBk1J0Lmw\n</code></pre>\n"},{"tags":["java","android","in-app-purchase","in-app-subscription","play-billing-library"],"comments":[{"owner":{"account_id":27431,"reputation":46856,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"score":2,"creation_date":1665037690,"post_id":73959302,"comment_id":130606113,"body_markdown":"As per my testing, I am also not able to get any callback `billingManager.queryProductDetailsAsync`. No error message, no logging. Based on https://stackoverflow.com/a/72631462/72437 , it is due to Google Play is not updated. I think it is better for us to stick with v4 for a while, as we do not want our billing feature break, just because end users have a slightly older version of Google Play.","body":"As per my testing, I am also not able to get any callback <code>billingManager.queryProductDetailsAsync</code>. No error message, no logging. Based on <a href=\"https://stackoverflow.com/a/72631462/72437\">stackoverflow.com/a/72631462/72437</a> , it is due to Google Play is not updated. I think it is better for us to stick with v4 for a while, as we do not want our billing feature break, just because end users have a slightly older version of Google Play."},{"owner":{"account_id":3148592,"reputation":974,"user_id":2662539,"accept_rate":50,"display_name":"Ben"},"score":0,"creation_date":1687297795,"post_id":73959302,"comment_id":134916388,"body_markdown":"is the billing only can be tested under prod?","body":"is the billing only can be tested under prod?"}],"answers":[{"tags":[],"owner":{"account_id":1607789,"reputation":8298,"user_id":1487475,"accept_rate":93,"display_name":"zdd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682385539,"creation_date":1682385539,"answer_id":76097078,"question_id":73959302,"body_markdown":"You can check the response value of billingClient, if feature not support, tell user to upgrade their Play Store.\r\n\r\n```\r\nprivate void queryProduct() {\r\n    QueryProductDetailsParams queryProductDetailsParams =\r\n            QueryProductDetailsParams.newBuilder()\r\n                    .setProductList(productList)\r\n                    .build();\r\n    billingClient.queryProductDetailsAsync(\r\n            queryProductDetailsParams,\r\n            (billingResult, list) -&gt; {\r\n                // process returned productDetailsList\r\n                if (billingResult.getResponseCode() == BillingResponseCode.OK) {\r\n                    setProductDetailsList(list);\r\n                    this.billingListener.onQueryProductSuccess(list);\r\n                } else if (billingResult.getResponseCode() == BillingResponseCode.FEATURE_NOT_SUPPORTED) {\r\n                    Log.e(TAG, &quot;Feature not supported&quot;);\r\n                    ToastUtil.show(context, &quot;Feature not supported, Please upgrade your Google Play Store&quot;);\r\n                    this.billingListener.onQueryProductFailed(billingResult);\r\n                } else {\r\n                    Log.e(TAG, billingResult.getDebugMessage());\r\n                    this.billingListener.onQueryProductFailed(billingResult);\r\n                }\r\n            }\r\n    );\r\n}\r\n```\r\n\r\nSee the official documentation for details: https://developer.android.com/google/play/billing/integrate#process-the-result","title":"Unable to get subscription price after updating play billing library to v5","body":"<p>You can check the response value of billingClient, if feature not support, tell user to upgrade their Play Store.</p>\n<pre><code>private void queryProduct() {\n    QueryProductDetailsParams queryProductDetailsParams =\n            QueryProductDetailsParams.newBuilder()\n                    .setProductList(productList)\n                    .build();\n    billingClient.queryProductDetailsAsync(\n            queryProductDetailsParams,\n            (billingResult, list) -&gt; {\n                // process returned productDetailsList\n                if (billingResult.getResponseCode() == BillingResponseCode.OK) {\n                    setProductDetailsList(list);\n                    this.billingListener.onQueryProductSuccess(list);\n                } else if (billingResult.getResponseCode() == BillingResponseCode.FEATURE_NOT_SUPPORTED) {\n                    Log.e(TAG, &quot;Feature not supported&quot;);\n                    ToastUtil.show(context, &quot;Feature not supported, Please upgrade your Google Play Store&quot;);\n                    this.billingListener.onQueryProductFailed(billingResult);\n                } else {\n                    Log.e(TAG, billingResult.getDebugMessage());\n                    this.billingListener.onQueryProductFailed(billingResult);\n                }\n            }\n    );\n}\n</code></pre>\n<p>See the official documentation for details: <a href=\"https://developer.android.com/google/play/billing/integrate#process-the-result\" rel=\"nofollow noreferrer\">https://developer.android.com/google/play/billing/integrate#process-the-result</a></p>\n"}],"owner":{"account_id":18869253,"reputation":42,"user_id":13764283,"display_name":"BhavitBJ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":947,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1682385539,"creation_date":1664966928,"question_id":73959302,"body_markdown":"I am unable to get subscription price after updating google play billing library from v4 to v5.\r\nBilling flow is working perfectly and I am also able to purchase the product.\r\n\r\nI was able to get prices of subscription products on v4.\r\n\r\nI&#39;ve tried this but I am not getting price.\r\n\r\n```        \r\nif (billingClient.isReady()) {\r\n\r\n            QueryProductDetailsParams queryProductDetailsParams =\r\n                    QueryProductDetailsParams.newBuilder()\r\n                            .setProductList(\r\n                                    ImmutableList.of(\r\n                                            QueryProductDetailsParams.Product.newBuilder()\r\n                                                  .setProductId(ITEM_SKU_SUBSCRIBE)\r\n                                                  .setProductType(BillingClient.ProductType.SUBS)\r\n                                                    .build())).build();\r\n\r\n            billingClient.queryProductDetailsAsync(queryProductDetailsParams, new\r\nProductDetailsResponseListener() {\r\n                @Override\r\n                public void onProductDetailsResponse(@NonNull BillingResult billingResult, @NonNull List&lt;ProductDetails&gt; list) {\r\n\r\n                    if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n\r\n                            monthlyPriceTV.setText(list.get(0).getSubscriptionOfferDetails().get(0).getPricingPhases().getPricingPhaseList().get(0).getFormattedPrice());\r\n\r\n                }\r\n            });\r\n        } \r\n```\r\n\r\n\r\nI am not getting any errors or warnings\r\n\r\nAny help will be really appreciated","title":"Unable to get subscription price after updating play billing library to v5","body":"<p>I am unable to get subscription price after updating google play billing library from v4 to v5.\nBilling flow is working perfectly and I am also able to purchase the product.</p>\n<p>I was able to get prices of subscription products on v4.</p>\n<p>I've tried this but I am not getting price.</p>\n<pre><code>if (billingClient.isReady()) {\n\n            QueryProductDetailsParams queryProductDetailsParams =\n                    QueryProductDetailsParams.newBuilder()\n                            .setProductList(\n                                    ImmutableList.of(\n                                            QueryProductDetailsParams.Product.newBuilder()\n                                                  .setProductId(ITEM_SKU_SUBSCRIBE)\n                                                  .setProductType(BillingClient.ProductType.SUBS)\n                                                    .build())).build();\n\n            billingClient.queryProductDetailsAsync(queryProductDetailsParams, new\nProductDetailsResponseListener() {\n                @Override\n                public void onProductDetailsResponse(@NonNull BillingResult billingResult, @NonNull List&lt;ProductDetails&gt; list) {\n\n                    if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n\n                            monthlyPriceTV.setText(list.get(0).getSubscriptionOfferDetails().get(0).getPricingPhases().getPricingPhaseList().get(0).getFormattedPrice());\n\n                }\n            });\n        } \n</code></pre>\n<p>I am not getting any errors or warnings</p>\n<p>Any help will be really appreciated</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1682383631,"post_id":76096970,"comment_id":134203342,"body_markdown":"The main documentation for `execute()` says: &quot;Executes the given command at some time in the future. The command may execute in a new thread, in a pooled thread, or in the calling thread, at the discretion of the Executor implementation.&quot; So the method has discretion to not use the thread pool at all.  Also some implementations such as `ThreadPoolExecutor` will throw `RejectedExecutionException` if the pool is shutdown.  Basically random code you found isn&#39;t great.","body":"The main documentation for <code>execute()</code> says: &quot;Executes the given command at some time in the future. The command may execute in a new thread, in a pooled thread, or in the calling thread, at the discretion of the Executor implementation.&quot; So the method has discretion to not use the thread pool at all.  Also some implementations such as <code>ThreadPoolExecutor</code> will throw <code>RejectedExecutionException</code> if the pool is shutdown.  Basically random code you found isn&#39;t great."},{"owner":{"account_id":12303918,"reputation":1053,"user_id":8977557,"accept_rate":80,"display_name":"Agrudge Amicus"},"score":0,"creation_date":1682383948,"post_id":76096970,"comment_id":134203375,"body_markdown":"@markspace Let&#39;s say that the executor is shutdown - in this case as well the flow will be at `accept()` and the flow will still be stuck waiting for new clients?","body":"@markspace Let&#39;s say that the executor is shutdown - in this case as well the flow will be at <code>accept()</code> and the flow will still be stuck waiting for new clients?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1682384451,"post_id":76096970,"comment_id":134203421,"body_markdown":"Fundamentally, you need to test code in your actual application to understand if it will work for you.  I outlined some of the possible scenarios already.","body":"Fundamentally, you need to test code in your actual application to understand if it will work for you.  I outlined some of the possible scenarios already."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1682385194,"post_id":76096970,"comment_id":134203494,"body_markdown":"Write some actual code, with a specific `Executor` implementation, and test it. Have you read the Javadoc for `accept()`? What do you think might happen when you call `close` from another thread? (I don&#39;t know the answer, but you can find out by trying it)","body":"Write some actual code, with a specific <code>Executor</code> implementation, and test it. Have you read the Javadoc for <code>accept()</code>? What do you think might happen when you call <code>close</code> from another thread? (I don&#39;t know the answer, but you can find out by trying it)"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1682386964,"post_id":76096970,"comment_id":134203671,"body_markdown":"@AgrudgeAmicus, Re, &quot;...still be stuck waiting for new clients?&quot; It will be stuck until _one_ client tries to connect. It will accept that client connection, and then the server thread will throw `RejectedExecutionException`. What happens next depends on how that server thread handles the exception. Meanwhile, the client will be sending some kind of request and awaiting a reply. Too bad for them, &#39;cause the connection probably will be closed by the server&#39;s OS before any reply is sent.","body":"@AgrudgeAmicus, Re, &quot;...still be stuck waiting for new clients?&quot; It will be stuck until <i>one</i> client tries to connect. It will accept that client connection, and then the server thread will throw <code>RejectedExecutionException</code>. What happens next depends on how that server thread handles the exception. Meanwhile, the client will be sending some kind of request and awaiting a reply. Too bad for them, &#39;cause the connection probably will be closed by the server&#39;s OS before any reply is sent."}],"owner":{"account_id":12303918,"reputation":1053,"user_id":8977557,"accept_rate":80,"display_name":"Agrudge Amicus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682383223,"creation_date":1682383223,"question_id":76096970,"body_markdown":"I found this java code online in whoch threads are getting created when a client requests a connection from a server:\r\n\r\n\r\n\r\n    while (!executor.isShutdown()) \r\n    {\r\n        try \r\n        {\r\n            Socket socket = serverSocket.accept();\r\n\r\n            executor.execute(new FileServerHandler(socket));\r\n        } \r\n        catch (IOException e) \r\n        {\r\n            // handle exception\r\n        }\r\n    }\r\n\r\n\r\n\r\n    public void shutdown() \r\n    {\r\n        executor.shutdown();\r\n\r\n        try \r\n        {\r\n            serverSocket.close();\r\n        } \r\n        catch (IOException e) \r\n        {\r\n            // handle exception\r\n        }\r\n    }\r\n\r\nAs per my understanding, if `executor.isShutdown()` is `true`, then the server should:\r\n\r\n&gt; Stop accepting new client requests.\r\n\r\n&gt; Let the threads who are currently in the queue or are active finish first.\r\n\r\nBut wouldn&#39;t the control flow in `while` loop be sitting on `accept()` which is a blocking call - and in case no other client connect request comes, the control will still be in the loop despite having the `executor.isShutdown()` condition as `true`?","title":"executor for creating thread pool for server","body":"<p>I found this java code online in whoch threads are getting created when a client requests a connection from a server:</p>\n<pre><code>while (!executor.isShutdown()) \n{\n    try \n    {\n        Socket socket = serverSocket.accept();\n\n        executor.execute(new FileServerHandler(socket));\n    } \n    catch (IOException e) \n    {\n        // handle exception\n    }\n}\n\n\n\npublic void shutdown() \n{\n    executor.shutdown();\n\n    try \n    {\n        serverSocket.close();\n    } \n    catch (IOException e) \n    {\n        // handle exception\n    }\n}\n</code></pre>\n<p>As per my understanding, if <code>executor.isShutdown()</code> is <code>true</code>, then the server should:</p>\n<blockquote>\n<p>Stop accepting new client requests.</p>\n</blockquote>\n<blockquote>\n<p>Let the threads who are currently in the queue or are active finish first.</p>\n</blockquote>\n<p>But wouldn't the control flow in <code>while</code> loop be sitting on <code>accept()</code> which is a blocking call - and in case no other client connect request comes, the control will still be in the loop despite having the <code>executor.isShutdown()</code> condition as <code>true</code>?</p>\n"},{"tags":["java","arraylist","charat"],"comments":[{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":2,"creation_date":1682365632,"post_id":76095543,"comment_id":134200815,"body_markdown":"Please, do not post code as an image. Post it as text.","body":"Please, do not post code as an image. Post it as text."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1682365686,"post_id":76095543,"comment_id":134200831,"body_markdown":"Hello. Please don&#39;t post text/code as image/link ([more info](https://meta.stackoverflow.com/a/285557)) but as formatted text. Use [edit] option to correct your post.","body":"Hello. Please don&#39;t post text/code as image/link (<a href=\"https://meta.stackoverflow.com/a/285557\">more info</a>) but as formatted text. Use <a href=\"https://stackoverflow.com/posts/76095543/edit\">edit</a> option to correct your post."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1682365790,"post_id":76095543,"comment_id":134200848,"body_markdown":"`if (x.startsWith(&quot;S&quot;))`","body":"<code>if (x.startsWith(&quot;S&quot;))</code>"}],"answers":[{"tags":[],"owner":{"account_id":4173399,"reputation":11,"user_id":3420633,"display_name":"Jorge Vera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682367605,"creation_date":1682367605,"answer_id":76095804,"question_id":76095543,"body_markdown":"See this please\r\nfor Java\r\n\r\n    import java.util.ArrayList;\r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n            ArrayList&lt;String&gt; cars = new ArrayList&lt;String&gt;();\r\n            cars.add(&quot;Volvo&quot;); //position 0 in the array\r\n            cars.add(&quot;BMW&quot;); //position 1 in the array\r\n            cars.add(&quot;Ford&quot;); //position 2 in the array\r\n            cars.add(&quot;Mazda&quot;); //position 3 in the array\r\n            System.out.println(cars.get(0).toString().charAt(0));\r\n            System.out.println(cars.get(1).toString().charAt(0));\r\n            System.out.println(cars.get(2).toString().charAt(0));\r\n            System.out.println(cars.get(3).toString().charAt(0));\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to access a specific character in a String ArrayList","body":"<p>See this please\nfor Java</p>\n<pre><code>import java.util.ArrayList;\npublic class MyClass {\n    public static void main(String args[]) {\n        ArrayList&lt;String&gt; cars = new ArrayList&lt;String&gt;();\n        cars.add(&quot;Volvo&quot;); //position 0 in the array\n        cars.add(&quot;BMW&quot;); //position 1 in the array\n        cars.add(&quot;Ford&quot;); //position 2 in the array\n        cars.add(&quot;Mazda&quot;); //position 3 in the array\n        System.out.println(cars.get(0).toString().charAt(0));\n        System.out.println(cars.get(1).toString().charAt(0));\n        System.out.println(cars.get(2).toString().charAt(0));\n        System.out.println(cars.get(3).toString().charAt(0));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6440378,"reputation":184,"user_id":4990575,"display_name":"Kurojin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682381615,"creation_date":1682381615,"answer_id":76096880,"question_id":76095543,"body_markdown":"First, you had an error in itemsArrayList.charAt(0) == &quot;S&quot; because you were comparing a string reference to a char primitive (different types).\r\n\r\nSecond, you still print all the strings because your condition is never true, you are testing if the first element of your string list (itemsArrayList.get(0)) starts with S which is never the case, because you first element is hello.\r\n\r\nyou test should look like this\r\n\r\n    if(x.charAt(0) == &#39;S&#39;)\r\n\r\nnotice how &#39;S&#39; is a character and not a String due to simple quotes","title":"How to access a specific character in a String ArrayList","body":"<p>First, you had an error in itemsArrayList.charAt(0) == &quot;S&quot; because you were comparing a string reference to a char primitive (different types).</p>\n<p>Second, you still print all the strings because your condition is never true, you are testing if the first element of your string list (itemsArrayList.get(0)) starts with S which is never the case, because you first element is hello.</p>\n<p>you test should look like this</p>\n<pre><code>if(x.charAt(0) == 'S')\n</code></pre>\n<p>notice how 'S' is a character and not a String due to simple quotes</p>\n"}],"owner":{"account_id":28404177,"reputation":1,"user_id":21728504,"display_name":"rhondaoj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1682381932,"creation_date":1682365480,"question_id":76095543,"body_markdown":"I am trying to print out the words in the ArrayList, given they do not start with an &quot;S&quot;. So, I need the first index of each item in the String ArrayList \r\n\r\n\r\nMy first attempt was the condition in the if statement to be:\r\nif(itemsArrayList.charAt(0) == &quot;S&quot;) but that throws me an error.\r\n\r\nThis one doesn&#39;t throw me an error, but it still prints out all of the items in the ArrayList (not skipping over &quot;Slim&quot; and &quot;Shady&quot;)\r\n\r\n[code][1]\r\n\r\n //won&#39;t let me post code as a text \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RkZ0Q.png","title":"How to access a specific character in a String ArrayList","body":"<p>I am trying to print out the words in the ArrayList, given they do not start with an &quot;S&quot;. So, I need the first index of each item in the String ArrayList</p>\n<p>My first attempt was the condition in the if statement to be:\nif(itemsArrayList.charAt(0) == &quot;S&quot;) but that throws me an error.</p>\n<p>This one doesn't throw me an error, but it still prints out all of the items in the ArrayList (not skipping over &quot;Slim&quot; and &quot;Shady&quot;)</p>\n<p><a href=\"https://i.stack.imgur.com/RkZ0Q.png\" rel=\"nofollow noreferrer\">code</a></p>\n<p>//won't let me post code as a text</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1682378074,"post_id":76096585,"comment_id":134202848,"body_markdown":"401 says &quot;This resource requires authentication and you didn&#39;t provide it. If you resubmit with valid authentication, I will let you access the resource&quot;.  Everything you need to know is already embodied in the 401 status code.  What benefit would you gain by adding a response body?","body":"401 says &quot;This resource requires authentication and you didn&#39;t provide it. If you resubmit with valid authentication, I will let you access the resource&quot;.  Everything you need to know is already embodied in the 401 status code.  What benefit would you gain by adding a response body?"},{"owner":{"account_id":22513973,"reputation":11,"user_id":16708492,"display_name":"tpdovu"},"score":0,"creation_date":1682379187,"post_id":76096585,"comment_id":134202955,"body_markdown":"@JimGarrison I&#39;m just wondering if there&#39;s a way to do it. For example if I try to do a get request to  an unspecified endpoint it will at least give a JSON object with timestamp, etc. Maybe it&#39;s not best practice to do that with 401 but I&#39;d just like to know if it&#39;s possible.","body":"@JimGarrison I&#39;m just wondering if there&#39;s a way to do it. For example if I try to do a get request to  an unspecified endpoint it will at least give a JSON object with timestamp, etc. Maybe it&#39;s not best practice to do that with 401 but I&#39;d just like to know if it&#39;s possible."},{"owner":{"account_id":1851020,"reputation":4117,"user_id":1677594,"display_name":"Guillaume Husta"},"score":0,"creation_date":1687209520,"post_id":76096585,"comment_id":134902052,"body_markdown":"Please have a look at this issue, discussing a very similar subject : https://github.com/spring-projects/spring-security/issues/5985","body":"Please have a look at this issue, discussing a very similar subject : <a href=\"https://github.com/spring-projects/spring-security/issues/5985\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security/issues/5985</a>"}],"answers":[{"tags":[],"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682381071,"creation_date":1682381071,"answer_id":76096856,"question_id":76096585,"body_markdown":"you can [create a custom authentication failure handler][1]. `Spring security` is the module that lets setup an authentication mechanism.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-security-custom-authentication-failure-handler","title":"401 unauthorized error in springboot with no response body","body":"<p>you can <a href=\"https://www.baeldung.com/spring-security-custom-authentication-failure-handler\" rel=\"nofollow noreferrer\">create a custom authentication failure handler</a>. <code>Spring security</code> is the module that lets setup an authentication mechanism.</p>\n"}],"owner":{"account_id":22513973,"reputation":11,"user_id":16708492,"display_name":"tpdovu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2042,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1682381071,"creation_date":1682375988,"question_id":76096585,"body_markdown":"I&#39;m implementing a simple REST controller in springboot with token authentication. \r\nEverything works fine but when a user is not authenticated, springboot will return a 401 error with no response body. \r\n\r\nIs it possible for me to return a custom JSON object with a message such as &quot;Please provide a valid token.&quot;? \r\nSpringboot version is 3\r\n\r\nI&#39;ve tried to implement custom exception handlers but not sure if that&#39;s the correct path to achieve this result. ","title":"401 unauthorized error in springboot with no response body","body":"<p>I'm implementing a simple REST controller in springboot with token authentication.\nEverything works fine but when a user is not authenticated, springboot will return a 401 error with no response body.</p>\n<p>Is it possible for me to return a custom JSON object with a message such as &quot;Please provide a valid token.&quot;?\nSpringboot version is 3</p>\n<p>I've tried to implement custom exception handlers but not sure if that's the correct path to achieve this result.</p>\n"},{"tags":["java","phpmyadmin"],"comments":[{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":0,"creation_date":1682371568,"post_id":76096136,"comment_id":134202009,"body_markdown":"You are returning a variable that is already in the class scope. Declare a variable inside the addProductToCart method and return it. A different approach is to not return it and just use a void method. The latter is not the best option in this case.","body":"You are returning a variable that is already in the class scope. Declare a variable inside the addProductToCart method and return it. A different approach is to not return it and just use a void method. The latter is not the best option in this case."},{"owner":{"account_id":26768049,"reputation":7,"user_id":20364883,"display_name":"Raduci"},"score":0,"creation_date":1682371884,"post_id":76096136,"comment_id":134202062,"body_markdown":"If I use the variable inside the addProductToCart ( the variable is a List) and i return it I can&#39;t call the displayProductsFromCart method because the variableis only in the first method, and wouldn&#39;t work it out, I already tried this ( maybe I did it the wrong way).","body":"If I use the variable inside the addProductToCart ( the variable is a List) and i return it I can&#39;t call the displayProductsFromCart method because the variableis only in the first method, and wouldn&#39;t work it out, I already tried this ( maybe I did it the wrong way)."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682380817,"creation_date":1682380817,"answer_id":76096843,"question_id":76096136,"body_markdown":"It is updating. This code has.. many bugs.\r\n\r\n## `static` confusion\r\n\r\nYour `addProductToCart` method doesn&#39;t create a list, it uses the `static` field `cartList`. This is a bad idea; static is best avoided until much, much later. `main` has to be `static`, but get out immediately:\r\n\r\n```\r\npublic class ShoppingCart {\r\n  private List&lt;Product&gt; cart = new ArrayList&lt;Product&gt;();\r\n\r\n  public static void main(String[] args) {\r\n    new ShoppingCart().go();\r\n  }\r\n\r\n  void go() {\r\n  }\r\n}\r\n```\r\n\r\nis a much better setup.\r\n\r\nYour `addProductToCart` method returns this list, but this is mostly pointless - code can _already_ access it via `Main.cartList` and that is in fact exactly what you do in `displayProductsFromCart`. Your two bugs more or less cancel out; nevertheless, your linting tool (a tool that checks your code for dubious things, style mistakes, and likely errors) catches one of the two.\r\n\r\nGiven that `cart` is a field, your `addProductToCart` method should be declared to return `void`.\r\n\r\n## You ARE printing it\r\n\r\nYour `displayProductsFromCart` method works fine - after all, it prints 1 line per item in the cart and _it prints a line_. It&#39;s just that the product you are printing has, as name, `null`, and as value, nothing.\r\n\r\nLooking at your github repo, your `AlcoholicBeverage` class is broken. It has a constructor that takes in an int, a String, a double, and so on - but this constructor __does nothing__. You have to actually assign these local variables to the fields (method params turn into local variables - and like all local variables, once a method ends, these local variables poof out of existence entirely - and a constructor is just a special kind of method).\r\n\r\nThat constructor should contain `this.price = price;` and so on. Or, replace it with `record` (a new feature that, presumably, whatever book you are following doesn&#39;t know about yet; they cannot extend another class in any case so isn&#39;t going to work with this type hierarchy setup).\r\n\r\nGiven that your constructor does nothing, the fields return their initial values, which is `null` for name and `0.0` for price, and that is exactly what your display method prints.\r\n","title":"Why my cartList is not updating in Java? When i print the list elements it gives me null value","body":"<p>It is updating. This code has.. many bugs.</p>\n<h2><code>static</code> confusion</h2>\n<p>Your <code>addProductToCart</code> method doesn't create a list, it uses the <code>static</code> field <code>cartList</code>. This is a bad idea; static is best avoided until much, much later. <code>main</code> has to be <code>static</code>, but get out immediately:</p>\n<pre><code>public class ShoppingCart {\n  private List&lt;Product&gt; cart = new ArrayList&lt;Product&gt;();\n\n  public static void main(String[] args) {\n    new ShoppingCart().go();\n  }\n\n  void go() {\n  }\n}\n</code></pre>\n<p>is a much better setup.</p>\n<p>Your <code>addProductToCart</code> method returns this list, but this is mostly pointless - code can <em>already</em> access it via <code>Main.cartList</code> and that is in fact exactly what you do in <code>displayProductsFromCart</code>. Your two bugs more or less cancel out; nevertheless, your linting tool (a tool that checks your code for dubious things, style mistakes, and likely errors) catches one of the two.</p>\n<p>Given that <code>cart</code> is a field, your <code>addProductToCart</code> method should be declared to return <code>void</code>.</p>\n<h2>You ARE printing it</h2>\n<p>Your <code>displayProductsFromCart</code> method works fine - after all, it prints 1 line per item in the cart and <em>it prints a line</em>. It's just that the product you are printing has, as name, <code>null</code>, and as value, nothing.</p>\n<p>Looking at your github repo, your <code>AlcoholicBeverage</code> class is broken. It has a constructor that takes in an int, a String, a double, and so on - but this constructor <strong>does nothing</strong>. You have to actually assign these local variables to the fields (method params turn into local variables - and like all local variables, once a method ends, these local variables poof out of existence entirely - and a constructor is just a special kind of method).</p>\n<p>That constructor should contain <code>this.price = price;</code> and so on. Or, replace it with <code>record</code> (a new feature that, presumably, whatever book you are following doesn't know about yet; they cannot extend another class in any case so isn't going to work with this type hierarchy setup).</p>\n<p>Given that your constructor does nothing, the fields return their initial values, which is <code>null</code> for name and <code>0.0</code> for price, and that is exactly what your display method prints.</p>\n"}],"owner":{"account_id":26768049,"reputation":7,"user_id":20364883,"display_name":"Raduci"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76096843,"answer_count":1,"score":0,"last_activity_date":1682380817,"creation_date":1682370715,"question_id":76096136,"body_markdown":"[This is the full code, its up on GitHub][1]\r\n\r\nWith this code I want to get from database the info about the products and put them into a list, then print the list.\r\n\r\nIn the  method named ```addProductToCart(Scanner input)``` I get the message &quot;The return statement is never used&quot;. Also where i declare the list: ```private static List&lt;Product&gt; cartList = new ArrayList&lt;&gt;();``` I get the message &quot;Field cartList might be final&quot;\r\n\r\n```\r\npublic class Main {\r\n\r\n    private static List&lt;Product&gt; cartList = new ArrayList&lt;&gt;();\r\n\r\n    private static final String JDBC_URL = &quot;jdbc:mysql://localhost:3306/storedb&quot;;\r\n    private static final String USER = &quot;root&quot;;\r\n    private static final String PASSWORD = &quot;&quot;;\r\n    static Connection connection;\r\n    static PreparedStatement pStatement;\r\n    static Statement statement;\r\n\r\npublic static void main(String[] args) throws InterruptedException, SQLException {\r\nScanner input = new Scanner(System.in);\r\nint choice = input.nextInt();\r\n\r\nswitch(choice){\r\ncase 1 -&gt; addProductToCart(input);\r\ncase 2 - &gt; displayProductsFromCart();}\r\n\r\nprivate static List&lt;Product&gt; addProductToCart(Scanner input) throws SQLException {\r\n        System.out.println(&quot;Enter the name of the item you want to add to your cart&quot;);\r\n         connection = DriverManager.getConnection(JDBC_URL, USER, PASSWORD);\r\n         String sql = &quot;SELECT * FROM products WHERE Name = ? AND ((AlcoholPercentage &gt; 0 AND Kcal = 0) OR (AlcoholPercentage = 0 AND Kcal &gt; 0))&quot;;\r\n         input.nextLine();\r\n         String productName = input.next();\r\n\r\n         pStatement = connection.prepareStatement(sql);\r\n         pStatement.setString(1, productName);\r\n\r\n        ResultSet resultSet = pStatement.executeQuery();\r\n\r\n         while(resultSet.next()){\r\n             int id = resultSet.getInt(&quot;ID&quot;);\r\n             productName = resultSet.getString(&quot;Name&quot;);\r\n             double price = resultSet.getDouble(&quot;Price&quot;);\r\n             int quantity = resultSet.getInt(&quot;Quantity&quot;);\r\n             double alcoholpercentage = resultSet.getDouble(&quot;AlcoholPercentage&quot;);\r\n             int kcal = resultSet.getInt(&quot;Kcal&quot;);\r\n\r\n             if(alcoholpercentage != 0){\r\n                 cartList.add(new AlcoholicBeverage(id, productName, price, quantity, alcoholpercentage));\r\n             }else{\r\n                 cartList.add(new FoodProduct(id, productName, price, quantity, kcal));\r\n             }\r\n\r\n             System.out.println(&quot;You addeed to your cart: &quot; + productName + &quot; product!&quot;);\r\n         }\r\n         return cartList;\r\n    }\r\n\r\n    private static void displayProductsFromCart(){\r\n        for (Product product : cartList){\r\n            System.out.println(product.getName() + &quot; - $&quot; + product.getPrice());\r\n        }\r\n    }\r\n\r\n}\r\n\r\n}\r\n```\r\n\r\n[![This is how the console looks like][2]][2]\r\n\r\n\r\n[![This is how the database table products looks like][3]][3]\r\n\r\n\r\n  [1]: https://github.com/Raduci/JavaProject\r\n  [2]: https://i.stack.imgur.com/iH9Qs.png\r\n  [3]: https://i.stack.imgur.com/dw4NZ.png","title":"Why my cartList is not updating in Java? When i print the list elements it gives me null value","body":"<p><a href=\"https://github.com/Raduci/JavaProject\" rel=\"nofollow noreferrer\">This is the full code, its up on GitHub</a></p>\n<p>With this code I want to get from database the info about the products and put them into a list, then print the list.</p>\n<p>In the  method named <code>addProductToCart(Scanner input)</code> I get the message &quot;The return statement is never used&quot;. Also where i declare the list: <code>private static List&lt;Product&gt; cartList = new ArrayList&lt;&gt;();</code> I get the message &quot;Field cartList might be final&quot;</p>\n<pre><code>public class Main {\n\n    private static List&lt;Product&gt; cartList = new ArrayList&lt;&gt;();\n\n    private static final String JDBC_URL = &quot;jdbc:mysql://localhost:3306/storedb&quot;;\n    private static final String USER = &quot;root&quot;;\n    private static final String PASSWORD = &quot;&quot;;\n    static Connection connection;\n    static PreparedStatement pStatement;\n    static Statement statement;\n\npublic static void main(String[] args) throws InterruptedException, SQLException {\nScanner input = new Scanner(System.in);\nint choice = input.nextInt();\n\nswitch(choice){\ncase 1 -&gt; addProductToCart(input);\ncase 2 - &gt; displayProductsFromCart();}\n\nprivate static List&lt;Product&gt; addProductToCart(Scanner input) throws SQLException {\n        System.out.println(&quot;Enter the name of the item you want to add to your cart&quot;);\n         connection = DriverManager.getConnection(JDBC_URL, USER, PASSWORD);\n         String sql = &quot;SELECT * FROM products WHERE Name = ? AND ((AlcoholPercentage &gt; 0 AND Kcal = 0) OR (AlcoholPercentage = 0 AND Kcal &gt; 0))&quot;;\n         input.nextLine();\n         String productName = input.next();\n\n         pStatement = connection.prepareStatement(sql);\n         pStatement.setString(1, productName);\n\n        ResultSet resultSet = pStatement.executeQuery();\n\n         while(resultSet.next()){\n             int id = resultSet.getInt(&quot;ID&quot;);\n             productName = resultSet.getString(&quot;Name&quot;);\n             double price = resultSet.getDouble(&quot;Price&quot;);\n             int quantity = resultSet.getInt(&quot;Quantity&quot;);\n             double alcoholpercentage = resultSet.getDouble(&quot;AlcoholPercentage&quot;);\n             int kcal = resultSet.getInt(&quot;Kcal&quot;);\n\n             if(alcoholpercentage != 0){\n                 cartList.add(new AlcoholicBeverage(id, productName, price, quantity, alcoholpercentage));\n             }else{\n                 cartList.add(new FoodProduct(id, productName, price, quantity, kcal));\n             }\n\n             System.out.println(&quot;You addeed to your cart: &quot; + productName + &quot; product!&quot;);\n         }\n         return cartList;\n    }\n\n    private static void displayProductsFromCart(){\n        for (Product product : cartList){\n            System.out.println(product.getName() + &quot; - $&quot; + product.getPrice());\n        }\n    }\n\n}\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/iH9Qs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iH9Qs.png\" alt=\"This is how the console looks like\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/dw4NZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dw4NZ.png\" alt=\"This is how the database table products looks like\" /></a></p>\n"},{"tags":["java","shell","command-line","stream","ansi-escape"],"comments":[{"owner":{"account_id":137942,"reputation":14900,"user_id":342518,"accept_rate":89,"display_name":"TheLQ"},"score":0,"creation_date":1283664763,"post_id":3645040,"comment_id":3832026,"body_markdown":"That would be interesting to write a Java CLI interactive program","body":"That would be interesting to write a Java CLI interactive program"},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1283691616,"post_id":3645040,"comment_id":3833411,"body_markdown":"You need to switch off input buffering in your shell before running the java program (and switch it back on after so you can edit your commands). Some obscure `stty` command or something that I can&#39;t remember.","body":"You need to switch off input buffering in your shell before running the java program (and switch it back on after so you can edit your commands). Some obscure <code>stty</code> command or something that I can&#39;t remember."}],"answers":[{"tags":[],"owner":{"account_id":193489,"reputation":15066,"user_id":435253,"display_name":"ssokolow"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1283711045,"creation_date":1283664546,"answer_id":3645114,"question_id":3645040,"body_markdown":"I&#39;m more a Python guy than a Java guy (so everything I tell you is quick guesses from JavaDoc), but it looks like you&#39;re setting up a multi-process deadlock.\r\n\r\n`in.read(new byte[1024]);` won&#39;t return until it&#39;s read 1024 bytes of data and `bash.exe` doesn&#39;t output a whole 1024 bytes before stopping to wait for input. (To do that, use `proc.getOutputStream()` and feed it some commands to respond to.)\r\n\r\nAs a result, you get Java waiting for bash to respond and bash waiting for Java to respond and both perfectly content to wait until the death of the universe without getting bored or tired.\r\n\r\nMy advice is to use [`in.available()`][1] before each call to `in.read()` to avoid blocking. That way, you can switch back and forth between feeding data in and pulling it out without getting stuck.\r\n\r\nIn fact, it&#39;d probably be a lot simpler and saner to just wrap it in a [`BufferedReader`][2].\r\n\r\n\r\n**Update from comment:** Also, when tools like bash detect that stdin isn&#39;t a terminal (see the isatty system call), [they buffer][3] in huge (4K or more) chunks on the assumption that the input is non-interactive. I&#39;m not sure if it&#39;ll help, but try starting bash with the -i flag.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/io/InputStream.html#available%28%29\r\n  [2]: http://download-llnw.oracle.com/javase/1.4.2/docs/api/java/io/BufferedReader.html\r\n  [3]: http://mywiki.wooledge.org/BashFAQ/009","title":"How do command-line interpreters work?","body":"<p>I'm more a Python guy than a Java guy (so everything I tell you is quick guesses from JavaDoc), but it looks like you're setting up a multi-process deadlock.</p>\n\n<p><code>in.read(new byte[1024]);</code> won't return until it's read 1024 bytes of data and <code>bash.exe</code> doesn't output a whole 1024 bytes before stopping to wait for input. (To do that, use <code>proc.getOutputStream()</code> and feed it some commands to respond to.)</p>\n\n<p>As a result, you get Java waiting for bash to respond and bash waiting for Java to respond and both perfectly content to wait until the death of the universe without getting bored or tired.</p>\n\n<p>My advice is to use <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/io/InputStream.html#available%28%29\" rel=\"nofollow noreferrer\"><code>in.available()</code></a> before each call to <code>in.read()</code> to avoid blocking. That way, you can switch back and forth between feeding data in and pulling it out without getting stuck.</p>\n\n<p>In fact, it'd probably be a lot simpler and saner to just wrap it in a <a href=\"http://download-llnw.oracle.com/javase/1.4.2/docs/api/java/io/BufferedReader.html\" rel=\"nofollow noreferrer\"><code>BufferedReader</code></a>.</p>\n\n<p><strong>Update from comment:</strong> Also, when tools like bash detect that stdin isn't a terminal (see the isatty system call), <a href=\"http://mywiki.wooledge.org/BashFAQ/009\" rel=\"nofollow noreferrer\">they buffer</a> in huge (4K or more) chunks on the assumption that the input is non-interactive. I'm not sure if it'll help, but try starting bash with the -i flag.</p>\n"},{"tags":[],"owner":{"account_id":86565,"reputation":48145,"user_id":240633,"accept_rate":80,"display_name":"ergosys"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1283665020,"creation_date":1283665020,"answer_id":3645129,"question_id":3645040,"body_markdown":"Any program using the c standard library can tell if it is talking to a tty device (a.k.a command line) using the function isatty().  Bash probably detects that it is talking to a pipe instead of a tty and doesn&#39;t output a prompt. ","title":"How do command-line interpreters work?","body":"<p>Any program using the c standard library can tell if it is talking to a tty device (a.k.a command line) using the function isatty().  Bash probably detects that it is talking to a pipe instead of a tty and doesn't output a prompt. </p>\n"},{"tags":[],"owner":{"account_id":165320,"reputation":20240,"user_id":388661,"accept_rate":75,"display_name":"davmac"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1283756408,"creation_date":1283756408,"answer_id":3649608,"question_id":3645040,"body_markdown":"Being in interactive mode doesn&#39;t mean that the standard streams aren&#39;t being used. But in this case, Bash is most likely running in *non*-interactive mode (it&#39;s detecting that it&#39;s not talking directly to the terminal app, so it assumes it&#39;s being used programmatically, and therefore doesn&#39;t print the welcome banner). In this case the standard streams are still used, it&#39;s just that nothing is being output.\r\n\r\nAs ergosys pointed out, you can&#39;t really rely on `in.read(new byte[1024])` returning before it has read the full 1024 bytes, though it&#39;s probably ok to assume that it will - however, it certainly won&#39;t return before it&#39;s read at least one byte, and I think that&#39;s the problem here - you&#39;re not getting even one byte of output.\r\n\r\nTry passing &quot;-i&quot; to bash to get it to run in interactive mode.\r\n","title":"How do command-line interpreters work?","body":"<p>Being in interactive mode doesn't mean that the standard streams aren't being used. But in this case, Bash is most likely running in <em>non</em>-interactive mode (it's detecting that it's not talking directly to the terminal app, so it assumes it's being used programmatically, and therefore doesn't print the welcome banner). In this case the standard streams are still used, it's just that nothing is being output.</p>\n\n<p>As ergosys pointed out, you can't really rely on <code>in.read(new byte[1024])</code> returning before it has read the full 1024 bytes, though it's probably ok to assume that it will - however, it certainly won't return before it's read at least one byte, and I think that's the problem here - you're not getting even one byte of output.</p>\n\n<p>Try passing \"-i\" to bash to get it to run in interactive mode.</p>\n"}],"owner":{"account_id":173898,"reputation":1213,"user_id":402893,"accept_rate":75,"display_name":"peskal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1652,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":3649608,"answer_count":3,"score":4,"last_activity_date":1682378559,"creation_date":1283661747,"question_id":3645040,"body_markdown":"I have been under the impression that processes on the operating system have three standard streams: `stdin, stdout, and stderr`. I have also thought that text editors like vim work by taking input over `stdin` and sending ANSI escape characters over `stdout`. However, my view of how command-line interpreters isn&#39;t holding up in this one case:\r\n\r\nWhen I run the command `C:\\cygwin\\bin\\bash.exe`, I am prompted with:\r\n\r\n    Microsoft Windows [Version 6.1.7600]\r\n    Copyright (c) 2009 Microsoft Corporation.  All rights reserved.\r\n\r\n    C:\\Users\\masson&gt;C:\\cygwin\\bin\\bash.exe\r\n    bash-3.2$ \r\n\r\n...but when I run it in Java with the following snippet, the stdin stream is empty:\r\n\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;C:\\\\cygwin\\\\bin\\\\bash.exe&quot;);\r\n    pb.redirectErrorStream(true);\r\n    Process proc = pb.start();\r\n    final InputStream in = proc.getInputStream();\r\n\r\n    new Thread(new Runnable() {\r\n      public void run() {\r\n        // Blocks forever...\r\n        in.read(new byte[1024]);\r\n      }\r\n    }).start();\r\n\r\nWhat is going on here? I have been told that bash.exe is running in interactive-mode. Does this mean the standard streams aren&#39;t being used? How can I still work work with these programs, and ultimately, how could I implement my own version of cmd.exe? I think I am not understanding something fundamental about how command-line interpreters work...\r\n\r\n(Any links to articles discussing related subjects would be very much appreciated. I haven&#39;t had much luck searching. Oh, and one last question, are standard streams treated any differently in Windows than in most Unix-like operating systems?)\r\n\r\n","title":"How do command-line interpreters work?","body":"<p>I have been under the impression that processes on the operating system have three standard streams: <code>stdin, stdout, and stderr</code>. I have also thought that text editors like vim work by taking input over <code>stdin</code> and sending ANSI escape characters over <code>stdout</code>. However, my view of how command-line interpreters isn't holding up in this one case:</p>\n\n<p>When I run the command <code>C:\\cygwin\\bin\\bash.exe</code>, I am prompted with:</p>\n\n<pre><code>Microsoft Windows [Version 6.1.7600]\nCopyright (c) 2009 Microsoft Corporation.  All rights reserved.\n\nC:\\Users\\masson&gt;C:\\cygwin\\bin\\bash.exe\nbash-3.2$ \n</code></pre>\n\n<p>...but when I run it in Java with the following snippet, the stdin stream is empty:</p>\n\n<pre><code>ProcessBuilder pb = new ProcessBuilder(\"C:\\\\cygwin\\\\bin\\\\bash.exe\");\npb.redirectErrorStream(true);\nProcess proc = pb.start();\nfinal InputStream in = proc.getInputStream();\n\nnew Thread(new Runnable() {\n  public void run() {\n    // Blocks forever...\n    in.read(new byte[1024]);\n  }\n}).start();\n</code></pre>\n\n<p>What is going on here? I have been told that bash.exe is running in interactive-mode. Does this mean the standard streams aren't being used? How can I still work work with these programs, and ultimately, how could I implement my own version of cmd.exe? I think I am not understanding something fundamental about how command-line interpreters work...</p>\n\n<p>(Any links to articles discussing related subjects would be very much appreciated. I haven't had much luck searching. Oh, and one last question, are standard streams treated any differently in Windows than in most Unix-like operating systems?)</p>\n"},{"tags":["java","datetime","parsing","jodatime"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1682361933,"post_id":76095066,"comment_id":134200092,"body_markdown":"Hello, try &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;","body":"Hello, try &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682377050,"post_id":76095066,"comment_id":134202714,"body_markdown":"Similar: [java.time.format.DateTimeParseException: Text &#39;2021-02-19T00:45:09.798Z&#39; could not be parsed, unparsed text found at index 23](https://stackoverflow.com/questions/66442927/java-time-format-datetimeparseexception-text-2021-02-19t004509-798z-could-n). That question is about java.time, not Joda-Tme; but the problem is the same and the solution similar.","body":"Similar: <a href=\"https://stackoverflow.com/questions/66442927/java-time-format-datetimeparseexception-text-2021-02-19t004509-798z-could-n\">java.time.format.DateTimeParseException: Text &#39;2021-02-19T00:45:09.798Z&#39; could not be parsed, unparsed text found at index 23</a>. That question is about java.time, not Joda-Tme; but the problem is the same and the solution similar."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1682377549,"post_id":76095066,"comment_id":134202787,"body_markdown":"@Mar-Z No, incorrect. **Never put the `Z` within quotes.** The quotes mean &quot;expect but ignore this text&quot;. You will be ignoring vital information, the offset from UTC (a number of hours-minutes-seconds).","body":"@Mar-Z No, incorrect. <b>Never put the <code>Z</code> within quotes.</b> The quotes mean &quot;expect but ignore this text&quot;. You will be ignoring vital information, the offset from UTC (a number of hours-minutes-seconds)."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1682412188,"post_id":76095066,"comment_id":134207015,"body_markdown":"Totally agree. I realized it later...","body":"Totally agree. I realized it later..."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682376964,"creation_date":1682376430,"answer_id":76096612,"question_id":76095066,"body_markdown":"No need to define a formatting pattern at all. Your input text conforms to the [ISO 8601][1] standard formats used by default in [Joda-Time][2].\r\n\r\n    DateTime dt = DateTime.parse( &quot;2022-08-02T23:00:59Z&quot; );\r\n\r\nGenerate text from that date-time object, in ISO 8601 format.\r\n\r\n    String output = dt.toString();\r\n\r\n&gt;2022-08-02T23:00:59.000Z\r\n\r\n\r\n----------\r\n\r\nAs for what is wrong with your formatting pattern: Your pattern accounts for 3 parts (date, `T` delimiter, time). But your input has 4 parts, those 3 plus an [offset-from-UTC][3], the number of hours-minutes-seconds ahead or behind the temporal meridian of UTC. The character `Z` is an abbreviation of `+00:00`, for an offset of zero.\r\n\r\n\r\n----------\r\n\r\n\r\n&gt;I cant use an other library because its java 6 and we dont have another library available in module\r\n\r\nFYI, the [*Joda-Time*][2] library is now in maintenance-mode. It creator went on to also create its successor, the *java.time* classes defined in JSR 310 and bundled with Java 8+. A back-port of those classes was made to support earlier Java 6 and Java 7. See the [*ThreeTen-Backport*][4] project.\r\n\r\nI recommend using that back-port rather than Joda-Time. The API of *ThreeTen-Backport* is nearly identical to *java.time*. This makes eventual migration to *java.time* quite simple, little more than changing `import` statements.\r\n\r\nAnd of course, [Java 6][5] is very much past end-of-life. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [2]: https://www.joda.org/joda-time/\r\n  [3]: https://en.wikipedia.org/wiki/UTC_offset\r\n  [4]: https://www.threeten.org/threetenbp/\r\n  [5]: https://en.wikipedia.org/wiki/Java_version_history#Java_6","title":"How parse specific format with Joda TIme (JAVA 6)","body":"<p>No need to define a formatting pattern at all. Your input text conforms to the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard formats used by default in <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a>.</p>\n<pre><code>DateTime dt = DateTime.parse( &quot;2022-08-02T23:00:59Z&quot; );\n</code></pre>\n<p>Generate text from that date-time object, in ISO 8601 format.</p>\n<pre><code>String output = dt.toString();\n</code></pre>\n<blockquote>\n<p>2022-08-02T23:00:59.000Z</p>\n</blockquote>\n<hr />\n<p>As for what is wrong with your formatting pattern: Your pattern accounts for 3 parts (date, <code>T</code> delimiter, time). But your input has 4 parts, those 3 plus an <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"nofollow noreferrer\">offset-from-UTC</a>, the number of hours-minutes-seconds ahead or behind the temporal meridian of UTC. The character <code>Z</code> is an abbreviation of <code>+00:00</code>, for an offset of zero.</p>\n<hr />\n<blockquote>\n<p>I cant use an other library because its java 6 and we dont have another library available in module</p>\n</blockquote>\n<p>FYI, the <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> library is now in maintenance-mode. It creator went on to also create its successor, the <em>java.time</em> classes defined in JSR 310 and bundled with Java 8+. A back-port of those classes was made to support earlier Java 6 and Java 7. See the <a href=\"https://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em>ThreeTen-Backport</em></a> project.</p>\n<p>I recommend using that back-port rather than Joda-Time. The API of <em>ThreeTen-Backport</em> is nearly identical to <em>java.time</em>. This makes eventual migration to <em>java.time</em> quite simple, little more than changing <code>import</code> statements.</p>\n<p>And of course, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_6\" rel=\"nofollow noreferrer\">Java 6</a> is very much past end-of-life.</p>\n"}],"owner":{"account_id":28403697,"reputation":11,"user_id":21728097,"display_name":"Bakou99"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682376964,"creation_date":1682361491,"question_id":76095066,"body_markdown":"I need to parse specific date with joda library, I cant use an other library because its java 6 and we dont have another library available in module.\r\n\r\nAnyway, I have this date : \r\n\r\n2022-08-02T23:00:59Z\r\n\r\nAnd I need to parse it for some operation after, but when I try to parse, I have this error :\r\n\r\njava.lang.IllegalArgumentException: Invalid format: &quot;2022-08-02T23:00:59Z&quot; is malformed at &quot;Z&quot;\r\n\r\nMy code :\r\n\r\n\r\n```\r\n String pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;;\r\n        String dateString=&quot;2022-08-02T23:00:59Z&quot;;\r\n        DateTimeFormatter date = DateTimeFormat.forPattern(pattern);\r\n        DateTime dateTIme = date.parseDateTime(dateString);\r\n```\r\n\r\nMaybe I make something wrong ? \r\n\r\nI cannot found the good format for this pattern, so if anyone has idea, thank you very much\r\n\r\n","title":"How parse specific format with Joda TIme (JAVA 6)","body":"<p>I need to parse specific date with joda library, I cant use an other library because its java 6 and we dont have another library available in module.</p>\n<p>Anyway, I have this date :</p>\n<p>2022-08-02T23:00:59Z</p>\n<p>And I need to parse it for some operation after, but when I try to parse, I have this error :</p>\n<p>java.lang.IllegalArgumentException: Invalid format: &quot;2022-08-02T23:00:59Z&quot; is malformed at &quot;Z&quot;</p>\n<p>My code :</p>\n<pre><code> String pattern = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;;\n        String dateString=&quot;2022-08-02T23:00:59Z&quot;;\n        DateTimeFormatter date = DateTimeFormat.forPattern(pattern);\n        DateTime dateTIme = date.parseDateTime(dateString);\n</code></pre>\n<p>Maybe I make something wrong ?</p>\n<p>I cannot found the good format for this pattern, so if anyone has idea, thank you very much</p>\n"},{"tags":["java","eclipse","content-assist"],"answers":[{"tags":[],"owner":{"account_id":2068344,"reputation":93,"user_id":1843391,"accept_rate":0,"display_name":"Randy Strauss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682376697,"creation_date":1682376697,"answer_id":76096631,"question_id":76096560,"body_markdown":"Never mind.\r\nOn the Content Assist Advanced page, the defaults were weird.\r\nI&#39;m not sure what was different, but I added some and it started working.  Then I hit Restore Defaults, and what I added was cleared, and it was still working...","title":"Eclipse Java Code Assist is broken (Eclipse 2023-03, 4.27.0, MacOS, openjdk Java 17)","body":"<p>Never mind.\nOn the Content Assist Advanced page, the defaults were weird.\nI'm not sure what was different, but I added some and it started working.  Then I hit Restore Defaults, and what I added was cleared, and it was still working...</p>\n"}],"owner":{"account_id":2068344,"reputation":93,"user_id":1843391,"accept_rate":0,"display_name":"Randy Strauss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1682376697,"creation_date":1682375528,"question_id":76096560,"body_markdown":"I&#39;m using JEE Eclipse 2023-03, Build id: 20230309-1520\r\nwith Java 17\r\n  openjdk version &quot;17&quot; 2021-09-14\r\n  OpenJDK Runtime Environment Homebrew (build 17+0)\r\n\r\nI have a Java project working, but code-assist doesn&#39;t work.\r\nI type a variable name, and none of the methods appear, just:\r\n  beg - Sets the cursor to the begin of the expression\r\n  cast...\r\nand similarly for \r\n  constpriv, constpub, field, nnull, null, snnull, snull, var\r\n\r\nYour help is appreciated.  FYI, my .project file is:\r\n```\r\n&lt;projectDescription&gt;\r\n\t&lt;name&gt;pc-vert&lt;/name&gt;\r\n\t&lt;comment&gt;elided&lt;/comment&gt;\r\n\t&lt;projects&gt;\r\n\t&lt;/projects&gt;\r\n\t&lt;buildSpec&gt;\r\n\t\t&lt;buildCommand&gt;\r\n\t\t\t&lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\r\n\t\t\t&lt;arguments&gt;\r\n\t\t\t&lt;/arguments&gt;\r\n\t\t&lt;/buildCommand&gt;\r\n\t\t&lt;buildCommand&gt;\r\n\t\t\t&lt;name&gt;org.eclipse.m2e.core.maven2Builder&lt;/name&gt;\r\n\t\t\t&lt;arguments&gt;\r\n\t\t\t&lt;/arguments&gt;\r\n\t\t&lt;/buildCommand&gt;\r\n\t&lt;/buildSpec&gt;\r\n\t&lt;natures&gt;\r\n\t\t&lt;nature&gt;org.eclipse.m2e.core.maven2Nature&lt;/nature&gt;\r\n\t\t&lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\r\n\t&lt;/natures&gt;\r\n&lt;/projectDescription&gt;\r\n```\r\nMy settings for code assist are:\r\n![here](https://randy.strausses.net/misc/errors/eclipse-code-assist-settings.png)\r\n","title":"Eclipse Java Code Assist is broken (Eclipse 2023-03, 4.27.0, MacOS, openjdk Java 17)","body":"<p>I'm using JEE Eclipse 2023-03, Build id: 20230309-1520\nwith Java 17\nopenjdk version &quot;17&quot; 2021-09-14\nOpenJDK Runtime Environment Homebrew (build 17+0)</p>\n<p>I have a Java project working, but code-assist doesn't work.\nI type a variable name, and none of the methods appear, just:\nbeg - Sets the cursor to the begin of the expression\ncast...\nand similarly for\nconstpriv, constpub, field, nnull, null, snnull, snull, var</p>\n<p>Your help is appreciated.  FYI, my .project file is:</p>\n<pre><code>&lt;projectDescription&gt;\n    &lt;name&gt;pc-vert&lt;/name&gt;\n    &lt;comment&gt;elided&lt;/comment&gt;\n    &lt;projects&gt;\n    &lt;/projects&gt;\n    &lt;buildSpec&gt;\n        &lt;buildCommand&gt;\n            &lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\n            &lt;arguments&gt;\n            &lt;/arguments&gt;\n        &lt;/buildCommand&gt;\n        &lt;buildCommand&gt;\n            &lt;name&gt;org.eclipse.m2e.core.maven2Builder&lt;/name&gt;\n            &lt;arguments&gt;\n            &lt;/arguments&gt;\n        &lt;/buildCommand&gt;\n    &lt;/buildSpec&gt;\n    &lt;natures&gt;\n        &lt;nature&gt;org.eclipse.m2e.core.maven2Nature&lt;/nature&gt;\n        &lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\n    &lt;/natures&gt;\n&lt;/projectDescription&gt;\n</code></pre>\n<p>My settings for code assist are:\n<img src=\"https://randy.strausses.net/misc/errors/eclipse-code-assist-settings.png\" alt=\"here\" /></p>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":2677968,"reputation":148907,"user_id":2313887,"accept_rate":82,"display_name":"Neil Lunn"},"score":2,"creation_date":1497953199,"post_id":44649974,"comment_id":76285037,"body_markdown":"Did you try connecting with the shell? What does this have to do with spring?","body":"Did you try connecting with the shell? What does this have to do with spring?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1497959747,"post_id":44649974,"comment_id":76289850,"body_markdown":"SSH there and do your job.","body":"SSH there and do your job."},{"owner":{"account_id":8951791,"reputation":1493,"user_id":6677551,"accept_rate":75,"display_name":"shabinjo"},"score":0,"creation_date":1497959989,"post_id":44649974,"comment_id":76290026,"body_markdown":"There is no direct use of spring to push this script.i will be using spring to fetch the contents later.Not tried with shell","body":"There is no direct use of spring to push this script.i will be using spring to fetch the contents later.Not tried with shell"}],"answers":[{"tags":[],"owner":{"account_id":4660000,"reputation":459,"user_id":3774507,"display_name":"tronic"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1570181361,"creation_date":1497959974,"answer_id":44652462,"question_id":44649974,"body_markdown":"With Mongo on local machine :\r\n\r\n     mongo -u &lt;user&gt; -p &lt;password&gt; mongodb01d.mydomain.com:27017/mydb &lt;yourFile.js&gt;","title":"How to run mongo db script on remote server?","body":"<p>With Mongo on local machine :</p>\n\n<pre><code> mongo -u &lt;user&gt; -p &lt;password&gt; mongodb01d.mydomain.com:27017/mydb &lt;yourFile.js&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16936987,"reputation":51,"user_id":12806497,"display_name":"0815 163"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580306241,"creation_date":1580304575,"answer_id":59968154,"question_id":44649974,"body_markdown":"It might be a little bit off topic, but in case you want to / have to use Powershell for a lack of options, you can run:\r\n\r\n    (Get-Content yourFile.js) | &amp; mongo.exe &#39;mongodb://user:password@mongodb01d.mydomain.com:27017/mydb&#39;\r\n\r\nor\r\n\r\n    &quot;print(&#39;Hello&#39;);print(&#39;Hello&#39;)&quot; | &amp; mongo.exe &#39;mongodb://user:password@mongodb01d.mydomain.com:27017/mydb&#39;\r\n\r\nor\r\n\r\n    &amp; &#39;mongo.exe&#39; &#39;mongodb://user:password@mongodb01d.mydomain.com:27017/mydb&#39; --eval &quot;print(&#39;Hello&#39;);print(&#39;Hello&#39;)&quot;\r\n\r\nI had some difficulties with `$regex`, because Powershell interpreted it as a variable, so I had to use `` `$regex`` (with an additional backtick) instead.\r\n\r\n","title":"How to run mongo db script on remote server?","body":"<p>It might be a little bit off topic, but in case you want to / have to use Powershell for a lack of options, you can run:</p>\n\n<pre><code>(Get-Content yourFile.js) | &amp; mongo.exe 'mongodb://user:password@mongodb01d.mydomain.com:27017/mydb'\n</code></pre>\n\n<p>or</p>\n\n<pre><code>\"print('Hello');print('Hello')\" | &amp; mongo.exe 'mongodb://user:password@mongodb01d.mydomain.com:27017/mydb'\n</code></pre>\n\n<p>or</p>\n\n<pre><code>&amp; 'mongo.exe' 'mongodb://user:password@mongodb01d.mydomain.com:27017/mydb' --eval \"print('Hello');print('Hello')\"\n</code></pre>\n\n<p>I had some difficulties with <code>$regex</code>, because Powershell interpreted it as a variable, so I had to use <code>`$regex</code> (with an additional backtick) instead.</p>\n"},{"tags":[],"owner":{"account_id":4816683,"reputation":1567,"user_id":3888628,"display_name":"Ashraf Sarhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682375627,"creation_date":1682375188,"answer_id":76096536,"question_id":44649974,"body_markdown":"**For standalone mongo setup (single node)**\r\n\r\n    mongo -u &lt;user&gt; -p &lt;password&gt; mongodb://HOST_IP:27017/DB_NAME --eval &#39;MONGO_QUERY&#39;\r\n\r\n**Example:**\r\n\r\n`mongo mongodb://127.0.0.1:27017/test --eval &#39;db.collection.count()&#39;`\r\n\r\n**For clustered mongo setup (Replicaset with multiple nodes)**\r\n\r\n    mongo -u &lt;user&gt; -p &lt;password&gt; mongodb://NODE_1_IP:27017,NODE_2_IP:27017,NODE_3_IP:27017/DB_NAME?replicaSet=RS_ID --eval &#39;MONGO_QUERY&#39;\r\n\r\n**Example:**\r\n\r\n`mongo mongodb://127.0.0.1:27017,127.0.0.2:27017,127.0.0.3:27017/test?replicaSet=rs0 --eval &#39;db.collection.count()&#39;`\r\n\r\nPS: The user/pass in the above examples have been ignored but you need to add them if mongo has to auth.  \r\n\r\n","title":"How to run mongo db script on remote server?","body":"<p><strong>For standalone mongo setup (single node)</strong></p>\n<pre><code>mongo -u &lt;user&gt; -p &lt;password&gt; mongodb://HOST_IP:27017/DB_NAME --eval 'MONGO_QUERY'\n</code></pre>\n<p><strong>Example:</strong></p>\n<p><code>mongo mongodb://127.0.0.1:27017/test --eval 'db.collection.count()'</code></p>\n<p><strong>For clustered mongo setup (Replicaset with multiple nodes)</strong></p>\n<pre><code>mongo -u &lt;user&gt; -p &lt;password&gt; mongodb://NODE_1_IP:27017,NODE_2_IP:27017,NODE_3_IP:27017/DB_NAME?replicaSet=RS_ID --eval 'MONGO_QUERY'\n</code></pre>\n<p><strong>Example:</strong></p>\n<p><code>mongo mongodb://127.0.0.1:27017,127.0.0.2:27017,127.0.0.3:27017/test?replicaSet=rs0 --eval 'db.collection.count()'</code></p>\n<p>PS: The user/pass in the above examples have been ignored but you need to add them if mongo has to auth.</p>\n"}],"owner":{"account_id":8951791,"reputation":1493,"user_id":6677551,"accept_rate":75,"display_name":"shabinjo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6742,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":44652462,"answer_count":3,"score":3,"last_activity_date":1682375627,"creation_date":1497953057,"question_id":44649974,"body_markdown":"how to run a Mongo db script on a remote server?\r\n\r\nI know below command can be used for the same on local as mentioned here:https://stackoverflow.com/questions/4837673/how-to-execute-mongo-commands-through-shell-scripts\r\n\r\n    mongo &lt; yourFile.js\r\n\r\nI want to run this script on a remote server\r\n\r\nmongodb:uri:mongodb://user:password@mongodb01d.mydomain.com:27017/mydb \r\n","title":"How to run mongo db script on remote server?","body":"<p>how to run a Mongo db script on a remote server?</p>\n\n<p>I know below command can be used for the same on local as mentioned here:<a href=\"https://stackoverflow.com/questions/4837673/how-to-execute-mongo-commands-through-shell-scripts\">How to execute mongo commands through shell scripts?</a></p>\n\n<pre><code>mongo &lt; yourFile.js\n</code></pre>\n\n<p>I want to run this script on a remote server</p>\n\n<p>mongodb:uri:mongodb://user:password@mongodb01d.mydomain.com:27017/mydb </p>\n"},{"tags":["java","postgresql","liquibase"],"answers":[{"tags":[],"owner":{"account_id":4329394,"reputation":1778,"user_id":3535298,"display_name":"veljkost"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682375603,"creation_date":1682375603,"answer_id":76096562,"question_id":76092362,"body_markdown":"You could try to replace `SELECT` with `PERFORM` when setting the value of the sequence, something like this:\r\n\r\n    PERFORM SETVAL(&#39;test_seq&#39;, COALESCE((SELECT MAX(ID)+1 FROM test1.table1), 1), FALSE);\r\n\r\n","title":"Liquibase PostgreSql Exception in SQL changeset","body":"<p>You could try to replace <code>SELECT</code> with <code>PERFORM</code> when setting the value of the sequence, something like this:</p>\n<pre><code>PERFORM SETVAL('test_seq', COALESCE((SELECT MAX(ID)+1 FROM test1.table1), 1), FALSE);\n</code></pre>\n"}],"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682375603,"creation_date":1682342447,"question_id":76092362,"body_markdown":"I am using below sql in my liquibase changset to insert data from another table.\r\n\r\n      DO $$\r\n      BEGIN\r\n      IF EXISTS\r\n      ( SELECT 1\r\n      FROM   information_schema.tables\r\n      WHERE  table_schema = &#39;test1&#39;\r\n      AND    table_name = &#39;table1&#39;\r\n      )\r\n      THEN\r\n      INSERT INTO table2(col1, col2, col3, col4)\r\n      SELECT col1, col2, col3, col4\r\n      FROM test1.table1;\r\n      SELECT SETVAL(&#39;test_seq&#39;, COALESCE((SELECT MAX(ID)+1 FROM test1.table1), 1), FALSE);\r\n      END IF;\r\n      END\r\n      $$;\r\n\r\nBut I am getting below error,\r\n\r\n&gt; Reason: liquibase.exception.DatabaseException: ERROR: query has no\r\n&gt; destination for result data\\n  Hint: If you want to discard the\r\n&gt; results of a SELECT, use PERFORM instead.\r\n\r\nI tried adding a return statement but I get \r\n\r\n&gt; org.postgresql.util.PSQLException: ERROR: RETURN cannot have a\r\n&gt; parameter in function returning void error\r\n","title":"Liquibase PostgreSql Exception in SQL changeset","body":"<p>I am using below sql in my liquibase changset to insert data from another table.</p>\n<pre><code>  DO $$\n  BEGIN\n  IF EXISTS\n  ( SELECT 1\n  FROM   information_schema.tables\n  WHERE  table_schema = 'test1'\n  AND    table_name = 'table1'\n  )\n  THEN\n  INSERT INTO table2(col1, col2, col3, col4)\n  SELECT col1, col2, col3, col4\n  FROM test1.table1;\n  SELECT SETVAL('test_seq', COALESCE((SELECT MAX(ID)+1 FROM test1.table1), 1), FALSE);\n  END IF;\n  END\n  $$;\n</code></pre>\n<p>But I am getting below error,</p>\n<blockquote>\n<p>Reason: liquibase.exception.DatabaseException: ERROR: query has no\ndestination for result data\\n  Hint: If you want to discard the\nresults of a SELECT, use PERFORM instead.</p>\n</blockquote>\n<p>I tried adding a return statement but I get</p>\n<blockquote>\n<p>org.postgresql.util.PSQLException: ERROR: RETURN cannot have a\nparameter in function returning void error</p>\n</blockquote>\n"},{"tags":["java","knapsack-problem"],"answers":[{"tags":[],"owner":{"account_id":4860120,"reputation":1094,"user_id":3920017,"display_name":"Simply Craig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1407523946,"creation_date":1407521666,"answer_id":25209766,"question_id":25209549,"body_markdown":"Because of your array\r\n\r\n    int nob = 25;\r\n    int v[][]=new int[nob][nob];\r\nis hardcoded to size 25, but you then use a for-loop that goes to `n` and `M` (So if you enter a number for `n` or `M` larger than `nob` aka 25 then you will get an out of bounds exception.\r\n\r\nYour for-loops should always use the array in them like this\r\n\r\n    for(int i = 0; i &lt; v.length; i++)\r\n    {\r\n        for(int j = 0; j &lt; v[i].length; j++){}\r\n    }\r\n\r\nto avoid this issue.\r\n\r\n*edit* \r\nHowever, Your real issue, now that I re look at the question is that your for-loop does this:\r\n\r\n    for(int i = 0; i &lt;= n; i++)\r\n If you have `i &lt;= n` starting at 0 you will run this loop 26 (not 25) times.  Since I am assuming your `n` is 25 since you hard-coded `nob` to 25.\r\n\r\nAlso \r\n\r\n    for(int j = 0; j &lt;= M; j++)\r\nmeans that you will go from 0 to M (Knapsack size) which I assume is almost always above 25, so this will always cause an out of bounds exception because you hard code the size of the array.\r\n\r\n","title":"Array out of bounds exception in Java while implementing the knapsack algorithm","body":"<p>Because of your array</p>\n\n<pre><code>int nob = 25;\nint v[][]=new int[nob][nob];\n</code></pre>\n\n<p>is hardcoded to size 25, but you then use a for-loop that goes to <code>n</code> and <code>M</code> (So if you enter a number for <code>n</code> or <code>M</code> larger than <code>nob</code> aka 25 then you will get an out of bounds exception.</p>\n\n<p>Your for-loops should always use the array in them like this</p>\n\n<pre><code>for(int i = 0; i &lt; v.length; i++)\n{\n    for(int j = 0; j &lt; v[i].length; j++){}\n}\n</code></pre>\n\n<p>to avoid this issue.</p>\n\n<p><em>edit</em> \nHowever, Your real issue, now that I re look at the question is that your for-loop does this:</p>\n\n<pre><code>for(int i = 0; i &lt;= n; i++)\n</code></pre>\n\n<p>If you have <code>i &lt;= n</code> starting at 0 you will run this loop 26 (not 25) times.  Since I am assuming your <code>n</code> is 25 since you hard-coded <code>nob</code> to 25.</p>\n\n<p>Also </p>\n\n<pre><code>for(int j = 0; j &lt;= M; j++)\n</code></pre>\n\n<p>means that you will go from 0 to M (Knapsack size) which I assume is almost always above 25, so this will always cause an out of bounds exception because you hard code the size of the array.</p>\n"}],"owner":{"account_id":3932834,"reputation":36,"user_id":3250583,"accept_rate":40,"display_name":"Hasan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":25209766,"answer_count":1,"score":0,"last_activity_date":1682375160,"creation_date":1407520906,"question_id":25209549,"body_markdown":"I am a beginner to Java programming, and I was trying to implement knapsack algorithm by dynamic programming and it works perfectly for few inputs, but for few inputs it throws an exception. The code is\r\n\r\n    package knapsack3;\r\n    \r\n    import java.util.Scanner;\r\n     \r\n    /** Class Knapsack **/\r\n    \r\n    public class knapsack3\r\n    {\r\n    \t\r\n       \r\n    \tpublic void solve(int wt[], int val[], int M, int n)\r\n        {\r\n        \tint nob = 25;\r\n           \tint i,j;\r\n           \tint v[][]=new int[nob][nob];\r\n           \tfor(i=0;i&lt;=n;i++)\r\n           \t{\r\n           \t\tfor(j=0;j&lt;=M;j++)\r\n           \t\t{\r\n           \t\t\tif(i==0||j==0)\r\n           \t\t\t{\r\n           \t\t\t\tv[i][j]=0;\r\n           \t\t\t}\r\n           \t\t\telse if(j-wt[i]&lt;0)\r\n           \t\t\t{\r\n           \t\t\t\tv[i][j]=v[i-1][j];\r\n           \t\t\t}\r\n           \t\t\telse\r\n           \t\t\t{\r\n           \t\t\t\tv[i][j]=Math.max(v[i-1][j],val[i]+v[i-1][j-wt[i]]);\r\n           \t\t\t}\r\n           \t\t}\r\n           \t}\r\n           \tSystem.out.println(&quot;\\n Final Profit(value)---&gt; &quot;+v[n-1][M]);\r\n        }\r\n        /** Main function **/\r\n        public static void main (String[] args) \r\n        {\r\n            Scanner scan = new Scanner(System.in);\r\n            System.out.println(&quot;Knapsack Algorithm Test\\n&quot;);\r\n      \r\n            knapsack3 ks = new knapsack3();\r\n            \r\n            System.out.println(&quot;Enter number of elements &quot;);\r\n            int n = scan.nextInt();\r\n     \r\n            int wt[] = new int[n + 1];\r\n            int val[] = new int[n + 1];\r\n     \r\n            System.out.println(&quot;\\nEnter weight for &quot;+ n +&quot; elements&quot;);\r\n            for (int i = 1; i &lt;= n; i++)\r\n                wt[i] = scan.nextInt();\r\n            \r\n            System.out.println(&quot;\\nEnter value for &quot;+ n +&quot; elements&quot;);\r\n            for (int i = 1; i &lt;= n; i++)\r\n                val[i] = scan.nextInt();\r\n     \r\n            System.out.println(&quot;\\nEnter knapsack weight &quot;);\r\n            int M = scan.nextInt();\r\n    \r\n            ks.solve(wt, val, M, n);\r\n           scan.close();\r\n        }\r\n        \r\n    }\r\n\r\n\r\nthe exception is \r\n\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 25\r\n\tat knapsack3.knapsack3.solve(knapsack3.java:22)\r\n\tat knapsack3.knapsack3.main(knapsack3.java:61)\r\n","title":"Array out of bounds exception in Java while implementing the knapsack algorithm","body":"<p>I am a beginner to Java programming, and I was trying to implement knapsack algorithm by dynamic programming and it works perfectly for few inputs, but for few inputs it throws an exception. The code is</p>\n<pre><code>package knapsack3;\n\nimport java.util.Scanner;\n \n/** Class Knapsack **/\n\npublic class knapsack3\n{\n    \n   \n    public void solve(int wt[], int val[], int M, int n)\n    {\n        int nob = 25;\n        int i,j;\n        int v[][]=new int[nob][nob];\n        for(i=0;i&lt;=n;i++)\n        {\n            for(j=0;j&lt;=M;j++)\n            {\n                if(i==0||j==0)\n                {\n                    v[i][j]=0;\n                }\n                else if(j-wt[i]&lt;0)\n                {\n                    v[i][j]=v[i-1][j];\n                }\n                else\n                {\n                    v[i][j]=Math.max(v[i-1][j],val[i]+v[i-1][j-wt[i]]);\n                }\n            }\n        }\n        System.out.println(&quot;\\n Final Profit(value)---&gt; &quot;+v[n-1][M]);\n    }\n    /** Main function **/\n    public static void main (String[] args) \n    {\n        Scanner scan = new Scanner(System.in);\n        System.out.println(&quot;Knapsack Algorithm Test\\n&quot;);\n  \n        knapsack3 ks = new knapsack3();\n        \n        System.out.println(&quot;Enter number of elements &quot;);\n        int n = scan.nextInt();\n \n        int wt[] = new int[n + 1];\n        int val[] = new int[n + 1];\n \n        System.out.println(&quot;\\nEnter weight for &quot;+ n +&quot; elements&quot;);\n        for (int i = 1; i &lt;= n; i++)\n            wt[i] = scan.nextInt();\n        \n        System.out.println(&quot;\\nEnter value for &quot;+ n +&quot; elements&quot;);\n        for (int i = 1; i &lt;= n; i++)\n            val[i] = scan.nextInt();\n \n        System.out.println(&quot;\\nEnter knapsack weight &quot;);\n        int M = scan.nextInt();\n\n        ks.solve(wt, val, M, n);\n       scan.close();\n    }\n    \n}\n</code></pre>\n<p>the exception is</p>\n<p>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 25\nat knapsack3.knapsack3.solve(knapsack3.java:22)\nat knapsack3.knapsack3.main(knapsack3.java:61)</p>\n"},{"tags":["java","asynchronous","vert.x"],"comments":[{"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"score":0,"creation_date":1682466578,"post_id":71936229,"comment_id":134219624,"body_markdown":"writing vertx code in kotlin avoids this entirely since coroutines can be written in synchronous manner while still being non blocking","body":"writing vertx code in kotlin avoids this entirely since coroutines can be written in synchronous manner while still being non blocking"}],"answers":[{"tags":[],"owner":{"account_id":2872193,"reputation":3005,"user_id":7263027,"display_name":"taygetos"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1650447353,"creation_date":1650447353,"answer_id":71937365,"question_id":71936229,"body_markdown":"The easiest is if you are handling the results by yourself. You can register  a `onSuccess` handler to your futures. This way the results will be put in some kind of list, e.g. `JsonArray`.\r\n\r\n```java\r\nList&lt;Future&gt; futures = //...list of futures\r\n\r\nJsonArray results = new JsonArray();\r\nfutures.forEach(e -&gt; e.onSuccess(h -&gt; results.add(h)));\r\n\r\nCompositeFuture.all(futures)\r\n    .onComplete(ar -&gt; {\r\n        if(ar.failed()) {\r\n            // successful elements are present in &quot;results&quot;\r\n            routingContext.response().end(results.encode());\r\n            return;\r\n        }\r\n        //... rest of your code\r\n     });\r\n```\r\n\r\nYou can also look into the `rx-java` library. Such use cases are usually better implemented using it.","title":"Vertx CompositeFuture: on completion of all Futures","body":"<p>The easiest is if you are handling the results by yourself. You can register  a <code>onSuccess</code> handler to your futures. This way the results will be put in some kind of list, e.g. <code>JsonArray</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Future&gt; futures = //...list of futures\n\nJsonArray results = new JsonArray();\nfutures.forEach(e -&gt; e.onSuccess(h -&gt; results.add(h)));\n\nCompositeFuture.all(futures)\n    .onComplete(ar -&gt; {\n        if(ar.failed()) {\n            // successful elements are present in &quot;results&quot;\n            routingContext.response().end(results.encode());\n            return;\n        }\n        //... rest of your code\n     });\n</code></pre>\n<p>You can also look into the <code>rx-java</code> library. Such use cases are usually better implemented using it.</p>\n"},{"tags":[],"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650453028,"creation_date":1650453028,"answer_id":71938603,"question_id":71936229,"body_markdown":"You can simply poke the original futures for it&#39;s results when using `all`:\r\n\r\n```\r\nList&lt;Future&gt; futures = //...list of futures\r\n\r\nCompositeFuture.all(futures).onComplete(ar -&gt; {\r\n  if(ar.succeeded()){\r\n    futures.forEach(fut -&gt; log.info( fut.succeded() +&quot; / &quot; +_fut.result() ));\r\n  }\r\n} );\r\n```","title":"Vertx CompositeFuture: on completion of all Futures","body":"<p>You can simply poke the original futures for it's results when using <code>all</code>:</p>\n<pre><code>List&lt;Future&gt; futures = //...list of futures\n\nCompositeFuture.all(futures).onComplete(ar -&gt; {\n  if(ar.succeeded()){\n    futures.forEach(fut -&gt; log.info( fut.succeded() +&quot; / &quot; +_fut.result() ));\n  }\n} );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3398941,"reputation":143,"user_id":2851729,"display_name":"user2851729"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667568726,"creation_date":1667568726,"answer_id":74317850,"question_id":71936229,"body_markdown":"I would use [join][1] operation instead of all, so CompositeFuture will wait on all futures completion even if one of them fails. Otherwise, it could happen that the evaluation bind to CompositeFuture will happen sooner than all async calls are finished.\r\n\r\nThen you could define the [recover][2] step before joining futures in CompositeFuture. \r\n\r\n```\r\n  public static void main(String[] args) {\r\n    List&lt;String&gt; inputs = List.of(&quot;1&quot;, &quot;Terrible error&quot;, &quot;2&quot;);\r\n\r\n    List&lt;Future&gt; futures = inputs.stream()\r\n        .map(i -&gt; asyncAction(i)\r\n            .recover(thr -&gt; {\r\n              // real recovery or just logging\r\n              System.out.println(&quot;Bad thing happen: &quot; + thr.getMessage());\r\n              return Future.succeededFuture();\r\n            }))\r\n        .collect(Collectors.toList());\r\n\r\n    CompositeFuture.join(futures)\r\n        .map(CompositeFuture::list)\r\n        .map(results -&gt; results.stream()\r\n            // filter out empty recovered future            \r\n            .filter(Objects::nonNull)\r\n            .collect(Collectors.toList()))\r\n        .onSuccess(System.out::println);\r\n  }\r\n\r\n  static Future&lt;String&gt; asyncAction(final String input) {\r\n    if (&quot;Terrible error&quot;.equals(input)) {\r\n      return Future.failedFuture(input);\r\n    }\r\n    return Future.succeededFuture(input);\r\n  }\r\n```\r\n\r\nIt will print:\r\n```\r\nBad thing happen: Terrible error\r\n[1, 2]\r\n```\r\n\r\n\r\n  [1]: https://vertx.io/docs/apidocs/io/vertx/core/CompositeFuture.html#join-io.vertx.core.Future-io.vertx.core.Future-\r\n  [2]: https://vertx.io/docs/apidocs/io/vertx/core/Future.html#recover-java.util.function.Function-","title":"Vertx CompositeFuture: on completion of all Futures","body":"<p>I would use <a href=\"https://vertx.io/docs/apidocs/io/vertx/core/CompositeFuture.html#join-io.vertx.core.Future-io.vertx.core.Future-\" rel=\"nofollow noreferrer\">join</a> operation instead of all, so CompositeFuture will wait on all futures completion even if one of them fails. Otherwise, it could happen that the evaluation bind to CompositeFuture will happen sooner than all async calls are finished.</p>\n<p>Then you could define the <a href=\"https://vertx.io/docs/apidocs/io/vertx/core/Future.html#recover-java.util.function.Function-\" rel=\"nofollow noreferrer\">recover</a> step before joining futures in CompositeFuture.</p>\n<pre><code>  public static void main(String[] args) {\n    List&lt;String&gt; inputs = List.of(&quot;1&quot;, &quot;Terrible error&quot;, &quot;2&quot;);\n\n    List&lt;Future&gt; futures = inputs.stream()\n        .map(i -&gt; asyncAction(i)\n            .recover(thr -&gt; {\n              // real recovery or just logging\n              System.out.println(&quot;Bad thing happen: &quot; + thr.getMessage());\n              return Future.succeededFuture();\n            }))\n        .collect(Collectors.toList());\n\n    CompositeFuture.join(futures)\n        .map(CompositeFuture::list)\n        .map(results -&gt; results.stream()\n            // filter out empty recovered future            \n            .filter(Objects::nonNull)\n            .collect(Collectors.toList()))\n        .onSuccess(System.out::println);\n  }\n\n  static Future&lt;String&gt; asyncAction(final String input) {\n    if (&quot;Terrible error&quot;.equals(input)) {\n      return Future.failedFuture(input);\n    }\n    return Future.succeededFuture(input);\n  }\n</code></pre>\n<p>It will print:</p>\n<pre><code>Bad thing happen: Terrible error\n[1, 2]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28405215,"reputation":1,"user_id":21729355,"display_name":"aamiller17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682374675,"creation_date":1682374675,"answer_id":76096487,"question_id":71936229,"body_markdown":"The problem with storing the successes into your own data store is that data store would need to be thread safe in order to prevent race conditions. So merely using a Java List or JsonArray for this would not be a robust solution. The easiest and least intrusive way to solve this problem is to create a wrapper Future around your future which is always &quot;successful&quot;, but completes with the Throwable cause if it &quot;fails&quot;. In this way, you can use the rest of the Vertx library as intended.\r\n\r\nExample:\r\n```\r\npublic Future&lt;Object&gt; wrapFuture(Future&lt;Object&gt; future) {\r\n  Promise&lt;Object&gt; promise = Promise.promise();\r\n  future.onComplete(asyncResult -&gt; {\r\n    if (asyncResult.succeeded()) {\r\n      promise.complete(asyncResult.result());\r\n    } else {\r\n      promise.complete(cause);\r\n    }\r\n  });\r\n}\r\n\r\npublic void myFunction() {\r\n  List&lt;Future&gt; futures = new ArrayList&lt;Future&gt;();\r\n  for (operationReturningAFuture: operations) {\r\n    futures.add(wrapFuture(operationReturningAFuture()));\r\n  }\r\n  ComposititeFuture.join(futures).onComplete(asyncResult -&gt; {\r\n    List&lt;Object&gt; output = asyncResult.result().list();\r\n    for (Object response : output) {\r\n      if (response instanceof Throwable) {\r\n        // this future failed\r\n      } else {\r\n        // this future succeeded\r\n      }\r\n    }\r\n  });\r\n}\r\n```\r\n\r\n","title":"Vertx CompositeFuture: on completion of all Futures","body":"<p>The problem with storing the successes into your own data store is that data store would need to be thread safe in order to prevent race conditions. So merely using a Java List or JsonArray for this would not be a robust solution. The easiest and least intrusive way to solve this problem is to create a wrapper Future around your future which is always &quot;successful&quot;, but completes with the Throwable cause if it &quot;fails&quot;. In this way, you can use the rest of the Vertx library as intended.</p>\n<p>Example:</p>\n<pre><code>public Future&lt;Object&gt; wrapFuture(Future&lt;Object&gt; future) {\n  Promise&lt;Object&gt; promise = Promise.promise();\n  future.onComplete(asyncResult -&gt; {\n    if (asyncResult.succeeded()) {\n      promise.complete(asyncResult.result());\n    } else {\n      promise.complete(cause);\n    }\n  });\n}\n\npublic void myFunction() {\n  List&lt;Future&gt; futures = new ArrayList&lt;Future&gt;();\n  for (operationReturningAFuture: operations) {\n    futures.add(wrapFuture(operationReturningAFuture()));\n  }\n  ComposititeFuture.join(futures).onComplete(asyncResult -&gt; {\n    List&lt;Object&gt; output = asyncResult.result().list();\n    for (Object response : output) {\n      if (response instanceof Throwable) {\n        // this future failed\n      } else {\n        // this future succeeded\n      }\n    }\n  });\n}\n</code></pre>\n"}],"owner":{"account_id":19238848,"reputation":45,"user_id":14059290,"display_name":"mk7.GTI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3570,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71937365,"answer_count":4,"score":4,"last_activity_date":1682374675,"creation_date":1650442319,"question_id":71936229,"body_markdown":"In a Vert.x web server, I have a set of Futures, which each one could either fail or succeed and hold a result. I am interested in the outcome (and possibly the result) of each and every one of those Futures, meaning I need to process the result of each Future. \r\n\r\nI was thinking that Vert.x&#39;s `CompositeFuture` was the way to go, this is my code snippet: \r\n\r\n```\r\nList&lt;Future&gt; futures = dataProviders.stream()\r\n\t.filter(dp -&gt; dp.isActive(requester))\r\n\t.map(DataProvider::getData)\r\n\t.collect(Collectors.toList());\r\n\r\nCompositeFuture.all(futures)\r\n\t\t.onComplete(ar -&gt; {\r\n\t\t\tif(ar.failed()) {\r\n\t\t\t\troutingContext.response()\r\n\t\t\t\t\t.end(ar.cause());\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tCompositeFuture cf = ar.result();\r\n\t\t\tJsonArray data = new JsonArray();\r\n\t\t\tfor(int i = 0; i &lt; cf.size(); i++) {\r\n\t\t\t\tif(cf.failed(i)) {\r\n\t\t\t\t\tfinal JsonObject errorJson = new JsonObject();\r\n\t\t\t\t\terrorJson.put(&quot;error&quot;, cf.cause(i).getMessage());\r\n\t\t\t\t\tdata.add(errorJson);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdata.add(((Data) cf.resultAt(i)).toJson());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tJsonObject res = new JsonObject()\r\n\t\t\t\t.put(&quot;data&quot;, data);\r\n\r\n\t\t\troutingContext.response()\r\n\t\t\t\t\t.putHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n\t\t\t\t\t.end(res.toString());\r\n\t\t});\r\n\r\n```\r\n\r\nbut with that I get the following problems:\r\n- Using `CompositeFuture.all(futures).onComplete()`, I don&#39;t get the results of a succeeded Future as soon as any Future out of `futures` fails (because then `ar.result()` is null).\r\n- Using `CompositeFuture.any(futures).onComplete()`, I would get all results, but the CompositeFuture completes before all Futures of `futures` are completed. Meaning, it does not wait for every Future to complete, but completes as soon as any Future is completed. (-&gt; `cf.resultAt(i)` returns null)\r\n- Using `CompositeFuture.join(futures).onComplete()`, it&#39;s the same as with `all()`: `ar.result()` is null as soon as any Future fails.\r\n\r\nWhat is the correct/best way to wait for a list of Futures to complete, while being able to then handle each result and outcome individually?","title":"Vertx CompositeFuture: on completion of all Futures","body":"<p>In a Vert.x web server, I have a set of Futures, which each one could either fail or succeed and hold a result. I am interested in the outcome (and possibly the result) of each and every one of those Futures, meaning I need to process the result of each Future.</p>\n<p>I was thinking that Vert.x's <code>CompositeFuture</code> was the way to go, this is my code snippet:</p>\n<pre><code>List&lt;Future&gt; futures = dataProviders.stream()\n    .filter(dp -&gt; dp.isActive(requester))\n    .map(DataProvider::getData)\n    .collect(Collectors.toList());\n\nCompositeFuture.all(futures)\n        .onComplete(ar -&gt; {\n            if(ar.failed()) {\n                routingContext.response()\n                    .end(ar.cause());\n                return;\n            }\n            \n            CompositeFuture cf = ar.result();\n            JsonArray data = new JsonArray();\n            for(int i = 0; i &lt; cf.size(); i++) {\n                if(cf.failed(i)) {\n                    final JsonObject errorJson = new JsonObject();\n                    errorJson.put(&quot;error&quot;, cf.cause(i).getMessage());\n                    data.add(errorJson);\n                } else {\n                    data.add(((Data) cf.resultAt(i)).toJson());\n                }\n            }\n\n            JsonObject res = new JsonObject()\n                .put(&quot;data&quot;, data);\n\n            routingContext.response()\n                    .putHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                    .end(res.toString());\n        });\n\n</code></pre>\n<p>but with that I get the following problems:</p>\n<ul>\n<li>Using <code>CompositeFuture.all(futures).onComplete()</code>, I don't get the results of a succeeded Future as soon as any Future out of <code>futures</code> fails (because then <code>ar.result()</code> is null).</li>\n<li>Using <code>CompositeFuture.any(futures).onComplete()</code>, I would get all results, but the CompositeFuture completes before all Futures of <code>futures</code> are completed. Meaning, it does not wait for every Future to complete, but completes as soon as any Future is completed. (-&gt; <code>cf.resultAt(i)</code> returns null)</li>\n<li>Using <code>CompositeFuture.join(futures).onComplete()</code>, it's the same as with <code>all()</code>: <code>ar.result()</code> is null as soon as any Future fails.</li>\n</ul>\n<p>What is the correct/best way to wait for a list of Futures to complete, while being able to then handle each result and outcome individually?</p>\n"},{"tags":["java","date","jdbc","jdbctemplate","date-formatting"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":4,"creation_date":1682272482,"post_id":76086382,"comment_id":134185441,"body_markdown":"You should be using `LocalDate` now and `DateTimeFormatter` not the old date classes, making your mapping code: `Movie detailPaiementDto = new Movie(rs.getInt(&quot;id&quot;), rs.getString(&quot;name&quot;),List.of(), rs.getObject(&quot;release_date&quot;, java.time.LocalDate.class));` Formatting might be done in `toString` for the date format you want","body":"You should be using <code>LocalDate</code> now and <code>DateTimeFormatter</code> not the old date classes, making your mapping code: <code>Movie detailPaiementDto = new Movie(rs.getInt(&quot;id&quot;), rs.getString(&quot;name&quot;),List.of(), rs.getObject(&quot;release_date&quot;, java.time.LocalDate.class));</code> Formatting might be done in <code>toString</code> for the date format you want"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1682275687,"post_id":76086382,"comment_id":134185916,"body_markdown":"Also, there&#39;s no need to be worrying about formatting in the query. Set the parameter as `LocalDate`. If the original argument is in non-ISO format then use `DateTimeFormatter` to parse it","body":"Also, there&#39;s no need to be worrying about formatting in the query. Set the parameter as <code>LocalDate</code>. If the original argument is in non-ISO format then use <code>DateTimeFormatter</code> to parse it"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682342390,"post_id":76086382,"comment_id":134195199,"body_markdown":"Obviously `date_format(release_date, &#39;%Y/%M/%d&#39;) = date_format(?,  &#39;%Y/%M/%d&#39;)` *should* work in SQL provided that both `release_date` and `?` are dates (which I don’t think they are in your case). But it’s a bit like doing `String.valueOf(x).equals(String.valueOf(2))` in Java instead of `x == 2`. So don’t. Use `release_date = ?`  and, as others have said, make sure that you are passing a `LocalDate` from Java.","body":"Obviously <code>date_format(release_date, &#39;%Y&#47;%M&#47;%d&#39;) = date_format(?,  &#39;%Y&#47;%M&#47;%d&#39;)</code> <i>should</i> work in SQL provided that both <code>release_date</code> and <code>?</code> are dates (which I don’t think they are in your case). But it’s a bit like doing <code>String.valueOf(x).equals(String.valueOf(2))</code> in Java instead of <code>x == 2</code>. So don’t. Use <code>release_date = ?</code>  and, as others have said, make sure that you are passing a <code>LocalDate</code> from Java."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682374073,"creation_date":1682287164,"answer_id":76087469,"question_id":76086382,"body_markdown":"# Avoid legacy date-time classes\r\n\r\nYou are using terribly flawed date-time classes that were years ago supplanted by the modern *java.time* classes. For a date-only value, use `java.time.LocalDate`. \r\n\r\n```java\r\npublic record Movie(\r\n    Integer id,\r\n    String name,\r\n    List&lt;Actor&gt; actors,\r\n    LocalDate releaseDate  // Never use either `Date` class. Use only java.time classes such as `LocalDate`.\r\n) {}\r\n```\r\n\r\n# Think objects, not strings\r\n\r\nDate-time objects hold date-time values, not text. Date-time objects do not have a “format”. You are thinking in terms of strings and text; learn to think in terms of objects. \r\n\r\nSimilarly, you should be passing *objects* to your JDBC calls, not mere strings. JDBC 4.2+ requires every driver to support the *java.time* classes. See the `setObject`/`getObject` methods on `PreparedStatement` and `ResultSet`. \r\n\r\n    myPreparedStatement.setObject( … , myLocalDate ) ;\r\n\r\nAll this has been covered many many times already on Stack Overflow. Search to learn more. \r\n","title":"JdbcTemplate : How to return a java.util.Date in a formatted way","body":"<h1>Avoid legacy date-time classes</h1>\n<p>You are using terribly flawed date-time classes that were years ago supplanted by the modern <em>java.time</em> classes. For a date-only value, use <code>java.time.LocalDate</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Movie(\n    Integer id,\n    String name,\n    List&lt;Actor&gt; actors,\n    LocalDate releaseDate  // Never use either `Date` class. Use only java.time classes such as `LocalDate`.\n) {}\n</code></pre>\n<h1>Think objects, not strings</h1>\n<p>Date-time objects hold date-time values, not text. Date-time objects do not have a “format”. You are thinking in terms of strings and text; learn to think in terms of objects.</p>\n<p>Similarly, you should be passing <em>objects</em> to your JDBC calls, not mere strings. JDBC 4.2+ requires every driver to support the <em>java.time</em> classes. See the <code>setObject</code>/<code>getObject</code> methods on <code>PreparedStatement</code> and <code>ResultSet</code>.</p>\n<pre><code>myPreparedStatement.setObject( … , myLocalDate ) ;\n</code></pre>\n<p>All this has been covered many many times already on Stack Overflow. Search to learn more.</p>\n"}],"owner":{"account_id":17917911,"reputation":523,"user_id":13018468,"display_name":"BAKHALED Ibrahim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682374073,"creation_date":1682272169,"question_id":76086382,"body_markdown":"I&#39;ve been searching for the answer but no luck, I have a data saved in MySQL table as a `java.util.Date` like this way `2023-01-30` what I want to do is to retrieve that date and format it to `dd/MM/yyyy`, meaning when i retrieve the date should return me `30/01/2023`\r\n\r\n\r\n**My Table:**\r\n\r\n| id | name                      | release_date |\r\n|----|---------------------------|--------------|\r\n| 1  | The Godfather             | 2023-01-30   |\r\n| 2  | The Good The Bad The Ugly | 2023-01-30   |\r\n\r\n\r\n**This is my class:**\r\n\r\n    public record Movie(Integer id,\r\n                        String name,\r\n                        List&lt;Actor&gt; actors,\r\n                        Date releaseDate) {\r\n    }\r\n\r\n\r\nThis is my method for searching a specific date and return a `movie` but with formatted `release_date`\r\n\r\n    public static final String DEFAULT_DATE_PATTERN = &quot;dd/MM/yyyy&quot;;\r\n\r\n    public List&lt;Movie&gt; selectMovieByDate() throws ParseException {\r\n\r\n     String QUERY_GET_CONFIRM_JOURNEE = &quot;select id, name, release_date from movie where date_format(release_date, &#39;%Y/%M/%d&#39;) = date_format(?,  &#39;%Y/%M/%d&#39;)&quot;;\r\n     String stringDate = &quot;2023-01-30&quot;;\r\n     Date date1=new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(stringDate);  \r\n     String dateJournee = this.dateToString(date1, DEFAULT_DATE_PATTERN);\r\n     List&lt;Movie&gt; movies = this.getMovieDetail(QUERY_GET_CONFIRM_JOURNEE, jdbcTemplate,\r\n     new Object[] {dateJournee});\r\n    // TODO Auto-generated method stub\r\n    return movies;\r\n\r\n    }\r\n\r\n\r\n\r\n**RowMapper method** \r\n\r\n\r\n    private List&lt;Movie&gt; getMovieDetail(String sql, JdbcTemplate jdbcTemplate, Object[] params) {\r\n    \t@SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot;, &quot;deprecation&quot; })\r\n    \tList&lt;Movie&gt; listDto = jdbcTemplate.query(sql, params, new RowMapper() {\r\n            @Override\r\n            public Object mapRow(ResultSet rs, int rowNum) throws SQLException {\r\n            \tMovie detailPaiementDto = new Movie(rs.getInt(&quot;id&quot;), rs.getString(&quot;name&quot;),List.of(), rs.getDate(&quot;release_date&quot;));\r\n                return detailPaiementDto;\r\n            }\r\n        });\r\n        return listDto;\r\n    }\r\n\r\n\r\n\r\nI&#39;m pretty sure I have miss matching on date format. Thanks for response","title":"JdbcTemplate : How to return a java.util.Date in a formatted way","body":"<p>I've been searching for the answer but no luck, I have a data saved in MySQL table as a <code>java.util.Date</code> like this way <code>2023-01-30</code> what I want to do is to retrieve that date and format it to <code>dd/MM/yyyy</code>, meaning when i retrieve the date should return me <code>30/01/2023</code></p>\n<p><strong>My Table:</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>name</th>\n<th>release_date</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>The Godfather</td>\n<td>2023-01-30</td>\n</tr>\n<tr>\n<td>2</td>\n<td>The Good The Bad The Ugly</td>\n<td>2023-01-30</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><strong>This is my class:</strong></p>\n<pre><code>public record Movie(Integer id,\n                    String name,\n                    List&lt;Actor&gt; actors,\n                    Date releaseDate) {\n}\n</code></pre>\n<p>This is my method for searching a specific date and return a <code>movie</code> but with formatted <code>release_date</code></p>\n<pre><code>public static final String DEFAULT_DATE_PATTERN = &quot;dd/MM/yyyy&quot;;\n\npublic List&lt;Movie&gt; selectMovieByDate() throws ParseException {\n\n String QUERY_GET_CONFIRM_JOURNEE = &quot;select id, name, release_date from movie where date_format(release_date, '%Y/%M/%d') = date_format(?,  '%Y/%M/%d')&quot;;\n String stringDate = &quot;2023-01-30&quot;;\n Date date1=new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(stringDate);  \n String dateJournee = this.dateToString(date1, DEFAULT_DATE_PATTERN);\n List&lt;Movie&gt; movies = this.getMovieDetail(QUERY_GET_CONFIRM_JOURNEE, jdbcTemplate,\n new Object[] {dateJournee});\n// TODO Auto-generated method stub\nreturn movies;\n\n}\n</code></pre>\n<p><strong>RowMapper method</strong></p>\n<pre><code>private List&lt;Movie&gt; getMovieDetail(String sql, JdbcTemplate jdbcTemplate, Object[] params) {\n    @SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot;, &quot;deprecation&quot; })\n    List&lt;Movie&gt; listDto = jdbcTemplate.query(sql, params, new RowMapper() {\n        @Override\n        public Object mapRow(ResultSet rs, int rowNum) throws SQLException {\n            Movie detailPaiementDto = new Movie(rs.getInt(&quot;id&quot;), rs.getString(&quot;name&quot;),List.of(), rs.getDate(&quot;release_date&quot;));\n            return detailPaiementDto;\n        }\n    });\n    return listDto;\n}\n</code></pre>\n<p>I'm pretty sure I have miss matching on date format. Thanks for response</p>\n"},{"tags":["java","javafx","fxml"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1554890718,"post_id":55604682,"comment_id":97914214,"body_markdown":"don&#39;t use static fields, ever! They have class scope - that is in your case, every newly loaded Question modifies the exact same field which is bound to lead to unpredicable results. For passing parameters around controllers, see https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml","body":"don&#39;t use static fields, ever! They have class scope - that is in your case, every newly loaded Question modifies the exact same field which is bound to lead to unpredicable results. For passing parameters around controllers, see <a href=\"https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml\" title=\"passing parameters javafx fxml\">stackoverflow.com/questions/14187963/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554895106,"creation_date":1554895106,"answer_id":55611251,"question_id":55604682,"body_markdown":"Even if you use a `static` field to store the results, those results are are retrieved from the controls in the scene when you call the `returnValue` method.\r\n\r\nLoading the fxml a second time the way you do it in the `calculateScore` methods creates ***a new version of the scene*** though. In this new version of the scene the controls are in their initial states regardless of the user input done in the other version of the scene.\r\n\r\nI recommend redesigning the app a bit:\r\n\r\n* Seperate the logic for the question from the logic for &quot;navigating&quot; the questions.\r\n* Keep a reference of the controller for later evaluation.\r\n* You can make your life easier by implementing an interface with your controllers.\r\n\r\n**Example**\r\n\r\n\tprivate int questionIndex = -1;\r\n\r\n\t@Override\r\n\tpublic void start(Stage primaryStage) throws Exception {\r\n\t\tStackPane questionContainer = new StackPane();\r\n\t\tquestionContainer.setAlignment(Pos.TOP_LEFT);\r\n\t\tquestionContainer.setPrefSize(300, 300);\r\n\t\t\r\n\t\t// create question list repeating our only question\r\n\t\tList&lt;URL&gt; questions = new ArrayList&lt;&gt;();\r\n\t\tURL url = getClass().getResource(&quot;/my/package/question1.fxml&quot;);\r\n\t\tfor (int i = 0; i &lt; 5; i++) {\r\n\t\t\tquestions.add(url);\r\n\t\t}\r\n\t\t\r\n\t\tList&lt;QuestionController&gt; questionControllers = new ArrayList&lt;&gt;(questions.size());\r\n\t\t\r\n\t\tButton next = new Button(&quot;next&quot;);\r\n\t\tEventHandler&lt;ActionEvent&gt; handler = evt -&gt; {\r\n\t\t\tif (questionIndex + 1 &lt; questions.size()) {\r\n\t\t\t\tquestionIndex++;\r\n\t\t\t\t\r\n\t\t\t\t// load next question &amp; store controller for later evaluation\r\n\t\t\t\tFXMLLoader loader = new FXMLLoader(questions.get(questionIndex));\r\n\t\t\t\ttry {\r\n\t\t\t\t\tquestionContainer.getChildren().setAll(loader.&lt;Node&gt;load());\r\n\t\t\t\t\tquestionControllers.add(loader.getController());\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\tthrow new RuntimeException(e);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// display results\r\n\t\t\t\tAlert alert = new Alert(AlertType.INFORMATION);\r\n\t\t\t\talert.setContentText(&quot;You&#39;ve answered &quot;\r\n\t\t\t\t    + questionControllers.stream().mapToInt(QuestionController::getScore).sum()\r\n\t\t\t\t    + &quot; / &quot; + questionControllers.size()\r\n\t\t\t\t    + &quot; questions correctly.&quot;);\r\n\t\t\t\talert.showAndWait();\r\n\t\t\t\tprimaryStage.close();\r\n\t\t\t}\r\n\t\t};\r\n\t\tnext.setOnAction(handler);\r\n\t\t\r\n        // activate first question\r\n\t\thandler.handle(null);\r\n\r\n\t\tprimaryStage.setScene(new Scene(new VBox(questionContainer, next)));\r\n\t\tprimaryStage.show();\r\n\t}\r\n\r\n&lt;!----&gt;\r\n\r\n    public interface QuestionController {\r\n    \tint getScore();\r\n    }\r\n\r\n&lt;!----&gt;\r\n\r\n    public class Question1Controller implements QuestionController {\r\n    \t\r\n    \tprivate static final Random random = new Random();\r\n    \t\r\n    \tprivate int correctAnswer;\r\n    \t\r\n    \t@FXML\r\n    \tprivate List&lt;RadioButton&gt; buttons;\r\n    \t\r\n    \t@FXML\r\n    \tprivate void initialize() {\r\n    \t\t\r\n    \t\t// randomly assign correct answer\r\n    \t\tcorrectAnswer = random.nextInt(buttons.size());\r\n    \t\t\r\n    \t\tfor (RadioButton btn : buttons) {\r\n    \t\t\tbtn.setText(&quot;incorrect&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\tbuttons.get(correctAnswer).setText(&quot;correct&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int getScore() {\r\n    \t\treturn buttons.get(correctAnswer).isSelected() ? 1 : 0;\r\n    \t}\r\n    }\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import java.util.ArrayList?&gt;\r\n    &lt;?import javafx.scene.layout.VBox?&gt;\r\n    &lt;?import javafx.scene.control.RadioButton?&gt;\r\n    \r\n    &lt;VBox xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;my.package.Question1Controller&quot;&gt;\r\n    \t&lt;children&gt;\r\n    \t\t&lt;RadioButton fx:id=&quot;b1&quot; /&gt;\r\n    \t\t&lt;RadioButton fx:id=&quot;b2&quot; /&gt;\r\n    \t\t&lt;RadioButton fx:id=&quot;b3&quot; /&gt;\r\n    \t\t&lt;fx:define&gt;\r\n    \t\t\t&lt;ArrayList fx:id=&quot;buttons&quot;&gt;\r\n    \t\t\t    &lt;fx:reference source=&quot;b1&quot;/&gt;\r\n    \t\t\t    &lt;fx:reference source=&quot;b2&quot;/&gt;\r\n    \t\t\t    &lt;fx:reference source=&quot;b3&quot;/&gt;\r\n    \t\t\t&lt;/ArrayList&gt;\r\n    \t\t&lt;/fx:define&gt;\r\n    \t&lt;/children&gt;\r\n    &lt;/VBox&gt;\r\n\r\n","title":"JavaFX - Passing int values between controller classes yielding incorrect result","body":"<p>Even if you use a <code>static</code> field to store the results, those results are are retrieved from the controls in the scene when you call the <code>returnValue</code> method.</p>\n\n<p>Loading the fxml a second time the way you do it in the <code>calculateScore</code> methods creates <strong><em>a new version of the scene</em></strong> though. In this new version of the scene the controls are in their initial states regardless of the user input done in the other version of the scene.</p>\n\n<p>I recommend redesigning the app a bit:</p>\n\n<ul>\n<li>Seperate the logic for the question from the logic for \"navigating\" the questions.</li>\n<li>Keep a reference of the controller for later evaluation.</li>\n<li>You can make your life easier by implementing an interface with your controllers.</li>\n</ul>\n\n<p><strong>Example</strong></p>\n\n<pre><code>private int questionIndex = -1;\n\n@Override\npublic void start(Stage primaryStage) throws Exception {\n    StackPane questionContainer = new StackPane();\n    questionContainer.setAlignment(Pos.TOP_LEFT);\n    questionContainer.setPrefSize(300, 300);\n\n    // create question list repeating our only question\n    List&lt;URL&gt; questions = new ArrayList&lt;&gt;();\n    URL url = getClass().getResource(\"/my/package/question1.fxml\");\n    for (int i = 0; i &lt; 5; i++) {\n        questions.add(url);\n    }\n\n    List&lt;QuestionController&gt; questionControllers = new ArrayList&lt;&gt;(questions.size());\n\n    Button next = new Button(\"next\");\n    EventHandler&lt;ActionEvent&gt; handler = evt -&gt; {\n        if (questionIndex + 1 &lt; questions.size()) {\n            questionIndex++;\n\n            // load next question &amp; store controller for later evaluation\n            FXMLLoader loader = new FXMLLoader(questions.get(questionIndex));\n            try {\n                questionContainer.getChildren().setAll(loader.&lt;Node&gt;load());\n                questionControllers.add(loader.getController());\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        } else {\n            // display results\n            Alert alert = new Alert(AlertType.INFORMATION);\n            alert.setContentText(\"You've answered \"\n                + questionControllers.stream().mapToInt(QuestionController::getScore).sum()\n                + \" / \" + questionControllers.size()\n                + \" questions correctly.\");\n            alert.showAndWait();\n            primaryStage.close();\n        }\n    };\n    next.setOnAction(handler);\n\n    // activate first question\n    handler.handle(null);\n\n    primaryStage.setScene(new Scene(new VBox(questionContainer, next)));\n    primaryStage.show();\n}\n</code></pre>\n\n\n\n<pre><code>public interface QuestionController {\n    int getScore();\n}\n</code></pre>\n\n\n\n<pre><code>public class Question1Controller implements QuestionController {\n\n    private static final Random random = new Random();\n\n    private int correctAnswer;\n\n    @FXML\n    private List&lt;RadioButton&gt; buttons;\n\n    @FXML\n    private void initialize() {\n\n        // randomly assign correct answer\n        correctAnswer = random.nextInt(buttons.size());\n\n        for (RadioButton btn : buttons) {\n            btn.setText(\"incorrect\");\n        }\n\n        buttons.get(correctAnswer).setText(\"correct\");\n    }\n\n    @Override\n    public int getScore() {\n        return buttons.get(correctAnswer).isSelected() ? 1 : 0;\n    }\n}\n</code></pre>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;?import java.util.ArrayList?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.control.RadioButton?&gt;\n\n&lt;VBox xmlns:fx=\"http://javafx.com/fxml/1\" fx:controller=\"my.package.Question1Controller\"&gt;\n    &lt;children&gt;\n        &lt;RadioButton fx:id=\"b1\" /&gt;\n        &lt;RadioButton fx:id=\"b2\" /&gt;\n        &lt;RadioButton fx:id=\"b3\" /&gt;\n        &lt;fx:define&gt;\n            &lt;ArrayList fx:id=\"buttons\"&gt;\n                &lt;fx:reference source=\"b1\"/&gt;\n                &lt;fx:reference source=\"b2\"/&gt;\n                &lt;fx:reference source=\"b3\"/&gt;\n            &lt;/ArrayList&gt;\n        &lt;/fx:define&gt;\n    &lt;/children&gt;\n&lt;/VBox&gt;\n</code></pre>\n"}],"owner":{"account_id":4090304,"reputation":382,"user_id":3358467,"accept_rate":69,"display_name":"FuegoJohnson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682372816,"creation_date":1554869920,"question_id":55604682,"body_markdown":"I have a little quiz game I&#39;m making, however when I try to pass a value from one of my controllers to another, the answer is always the opposite of what I expect. Basically, a radio button is selected, and if the correct one is selected, the `returnValue()` method should return a 1, else 0. This tells me if the user selected the proper answer or not.\r\n\r\nCode for controller 1: \r\n\r\n    public class Question1\r\n    {\r\n        @FXML\r\n        private Label question1Lbl;\r\n        @FXML\r\n        private RadioButton rb1;\r\n        @FXML\r\n        private RadioButton rb2;\r\n        @FXML\r\n        private RadioButton rb3;\r\n    \r\n        private static int score;\r\n    \r\n        public void nextQuestion(ActionEvent actionEvent)\r\n        {\r\n            try\r\n            {\r\n                FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;../gui/Question2.fxml&quot;));\r\n                Parent rootPane = loader.load();\r\n                Stage primaryStage = new Stage();\r\n                primaryStage.setScene(new Scene(rootPane));\r\n                primaryStage.setResizable(false);\r\n                primaryStage.setTitle(&quot;Frage 2&quot;);\r\n                primaryStage.show();\r\n                rb1.getScene().getWindow().hide();\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                System.out.println(&quot;Error loading question 1&quot; + e.toString());\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        //returns the points for this question. 1 for correct, 0 for incorrect\r\n        public int returnValue()\r\n        {\r\n    \r\n            if (!rb2.isSelected())\r\n            {\r\n                score = 0;\r\n                return score;\r\n            }\r\n            score = 1;\r\n            return score;\r\n        }\r\n    }\r\n\r\nThe `FinishScreen` class is supposed to tally up the points gathered from all the `returnValue()` methods and display a score, but no matter what I try, the `Question1` class always returns 0, whether the radio button was selected or not! I&#39;ve written code like this before and it&#39;s worked fine, so I&#39;m confused. I have 4 more classes like this, too.\r\n\r\nAnyway, here is the `FinishScreen` class:\r\n\r\n    public class FinishScreen implements Initializable\r\n    {\r\n        @FXML\r\n        private Label resultLbl;\r\n    \r\n        private int totalScore;\r\n    \r\n        public void calculateScore() throws Exception\r\n        {\r\n            FXMLLoader loader1 = new FXMLLoader(getClass().getResource(&quot;../gui/Question1.fxml&quot;));\r\n            Parent root1 = loader1.load();\r\n            Question1 q1 = loader1.getController();\r\n    \r\n            totalScore = q1.returnValue();\r\n            System.out.println(totalScore);\r\n            resultLbl.setText(&quot;Score: &quot; + totalScore);\r\n        }\r\n    \r\n        @Override\r\n        public void initialize(URL location, ResourceBundle resources)\r\n        {\r\n            try\r\n            {\r\n                calculateScore();\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                System.out.println(&quot;Error in results &quot; + e.toString());\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\nI used info from this post as a reference for how to pass values from one controller to another: \r\n[https://stackoverflow.com/questions/23461148/fxmlloader-getcontroller-returns-null][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/23461148/fxmlloader-getcontroller-returns-null\r\n\r\nIf there is an error in the way I am trying to get the value from my `Question1` class that would make sense, but most other posts I&#39;ve read seem to follow this design pattern as well. It is a silly problem to have, yet I cannot figure it out. \r\n\r\nMy `returnValue()` should return a 1 when `rb2.isSelected() == true` but that isn&#39;t the case. I tried making the `score` member variable static as well and that hasn&#39;t helped. What could be the issue here?\r\n","title":"JavaFX - Passing int values between controller classes yielding incorrect result","body":"<p>I have a little quiz game I'm making, however when I try to pass a value from one of my controllers to another, the answer is always the opposite of what I expect. Basically, a radio button is selected, and if the correct one is selected, the <code>returnValue()</code> method should return a 1, else 0. This tells me if the user selected the proper answer or not.</p>\n<p>Code for controller 1:</p>\n<pre><code>public class Question1\n{\n    @FXML\n    private Label question1Lbl;\n    @FXML\n    private RadioButton rb1;\n    @FXML\n    private RadioButton rb2;\n    @FXML\n    private RadioButton rb3;\n\n    private static int score;\n\n    public void nextQuestion(ActionEvent actionEvent)\n    {\n        try\n        {\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;../gui/Question2.fxml&quot;));\n            Parent rootPane = loader.load();\n            Stage primaryStage = new Stage();\n            primaryStage.setScene(new Scene(rootPane));\n            primaryStage.setResizable(false);\n            primaryStage.setTitle(&quot;Frage 2&quot;);\n            primaryStage.show();\n            rb1.getScene().getWindow().hide();\n        }\n        catch (Exception e)\n        {\n            System.out.println(&quot;Error loading question 1&quot; + e.toString());\n            e.printStackTrace();\n        }\n    }\n    //returns the points for this question. 1 for correct, 0 for incorrect\n    public int returnValue()\n    {\n\n        if (!rb2.isSelected())\n        {\n            score = 0;\n            return score;\n        }\n        score = 1;\n        return score;\n    }\n}\n</code></pre>\n<p>The <code>FinishScreen</code> class is supposed to tally up the points gathered from all the <code>returnValue()</code> methods and display a score, but no matter what I try, the <code>Question1</code> class always returns 0, whether the radio button was selected or not! I've written code like this before and it's worked fine, so I'm confused. I have 4 more classes like this, too.</p>\n<p>Anyway, here is the <code>FinishScreen</code> class:</p>\n<pre><code>public class FinishScreen implements Initializable\n{\n    @FXML\n    private Label resultLbl;\n\n    private int totalScore;\n\n    public void calculateScore() throws Exception\n    {\n        FXMLLoader loader1 = new FXMLLoader(getClass().getResource(&quot;../gui/Question1.fxml&quot;));\n        Parent root1 = loader1.load();\n        Question1 q1 = loader1.getController();\n\n        totalScore = q1.returnValue();\n        System.out.println(totalScore);\n        resultLbl.setText(&quot;Score: &quot; + totalScore);\n    }\n\n    @Override\n    public void initialize(URL location, ResourceBundle resources)\n    {\n        try\n        {\n            calculateScore();\n        }\n        catch (Exception e)\n        {\n            System.out.println(&quot;Error in results &quot; + e.toString());\n        }\n\n    }\n}\n</code></pre>\n<p>I used info from this post as a reference for how to pass values from one controller to another:\n<a href=\"https://stackoverflow.com/questions/23461148/fxmlloader-getcontroller-returns-null\">FXMLLoader getController returns NULL?</a></p>\n<p>If there is an error in the way I am trying to get the value from my <code>Question1</code> class that would make sense, but most other posts I've read seem to follow this design pattern as well. It is a silly problem to have, yet I cannot figure it out.</p>\n<p>My <code>returnValue()</code> should return a 1 when <code>rb2.isSelected() == true</code> but that isn't the case. I tried making the <code>score</code> member variable static as well and that hasn't helped. What could be the issue here?</p>\n"},{"tags":["java","android","android-studio","google-mlkit"],"owner":{"account_id":19544527,"reputation":11,"user_id":14301649,"display_name":"amresh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682372588,"creation_date":1665427893,"question_id":74019522,"body_markdown":"I&#39;m a complete beginner to android studio mobile development. and This is the code i&#39;ve been using so far.\r\n\r\nI want to detect if a persons eyes are closed or not real time. I&#39;m using google ml kit. They have provided most of the code but not clear about passing the live camera view into the process(image).\r\n\r\n```java\r\npublic class EyeDetection extends AppCompatActivity {\r\n\r\n    private ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture;\r\n    PreviewView previewView;\r\n\r\n    VideoView videoView;\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_eye_detection);\r\n\r\n        previewView = findViewById(R.id.previewView);\r\n        videoView = findViewById(R.id.video_view);\r\n\r\n        String videoPath = &quot;android.resource://&quot;+getPackageName()+ &quot;/&quot; + R.raw.videoplayback;\r\n        Uri uri = Uri.parse(videoPath);\r\n        videoView.setVideoURI(uri);\r\n\r\n        MediaController mediaController = new MediaController(this);\r\n        videoView.setMediaController(mediaController);\r\n        mediaController.setAnchorView(videoView);\r\n\r\n\r\n\r\n//        FaceDetectorOptions realTimeOpts =\r\n//                new FaceDetectorOptions.Builder()\r\n//                        .setContourMode(FaceDetectorOptions.CONTOUR_MODE_ALL)\r\n//                        .build();\r\n\r\n        cameraProviderFuture = ProcessCameraProvider.getInstance(this);\r\n\r\n        cameraProviderFuture.addListener(() -&gt; {\r\n            try {\r\n                ProcessCameraProvider cameraProvider = cameraProviderFuture.get();\r\n                bindPreview(cameraProvider);\r\n            } catch (ExecutionException | InterruptedException e) {\r\n                // No errors need to be handled for this Future.\r\n                // This should never be reached.\r\n            }\r\n        }, ContextCompat.getMainExecutor(this));\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n//    private class YourAnalyzer implements ImageAnalysis.Analyzer {\r\n//\r\n//        @Override\r\n//        public void analyze(ImageProxy imageProxy) {\r\n//            Image mediaImage = imageProxy.getImage();\r\n//            if (mediaImage != null) {\r\n//                InputImage image =\r\n//                        InputImage.fromMediaImage(mediaImage, imageProxy.getImageInfo().getRotationDegrees());\r\n//                // Pass image to an ML Kit Vision API\r\n//                // ...\r\n//            }\r\n//        }\r\n//\r\n//    }\r\n\r\n\r\n        void bindPreview(@NonNull ProcessCameraProvider cameraProvider) {\r\n        Preview preview = new Preview.Builder()\r\n                .build();\r\n\r\n\r\n            mlFaceDetector(preview);\r\n\r\n\r\n        CameraSelector cameraSelector = new CameraSelector.Builder()\r\n                .requireLensFacing(CameraSelector.LENS_FACING_FRONT)\r\n                .build();\r\n\r\n        preview.setSurfaceProvider(previewView.getSurfaceProvider());\r\n\r\n        Camera camera = cameraProvider.bindToLifecycle((LifecycleOwner)this, cameraSelector, preview);\r\n\r\n        // For performing operations that affect all outputs.\r\n        CameraControl cameraControl = camera.getCameraControl();\r\n//        // For querying information and states.\r\n//        CameraInfo cameraInfo = camera.getCameraInfo();\r\n        cameraControl.enableTorch(true);\r\n\r\n    }\r\n\r\n    void mlFaceDetector(Preview preview) {\r\n\r\n        FaceDetectorOptions highAccuracyOpts =\r\n                new FaceDetectorOptions.Builder()\r\n                        .setPerformanceMode(FaceDetectorOptions.PERFORMANCE_MODE_ACCURATE)\r\n                        .setLandmarkMode(FaceDetectorOptions.LANDMARK_MODE_ALL)\r\n                        .setClassificationMode(FaceDetectorOptions.CLASSIFICATION_MODE_ALL)\r\n                        .build();\r\n\r\n        FaceDetector detector = FaceDetection.getClient(highAccuracyOpts);\r\n\r\n        Task&lt;List&lt;Face&gt;&gt; result =\r\n                detector.process(image) // this is where the issue is\r\n                        .addOnSuccessListener(\r\n                                new OnSuccessListener&lt;List&lt;Face&gt;&gt;() {\r\n                                    @Override\r\n                                    public void onSuccess(List&lt;Face&gt; faces) {\r\n                                        // Task completed successfully\r\n                                        // ...\r\n                                    }\r\n                                })\r\n                        .addOnFailureListener(\r\n                                new OnFailureListener() {\r\n                                    @Override\r\n                                    public void onFailure(@NonNull Exception e) {\r\n                                        // Task failed with an exception\r\n                                        // ...\r\n                                    }\r\n                                });\r\n\r\n    }\r\n}\r\n```\r\n\r\n","title":"How to pass the camera preiew stream into google ml kit face detector to check if eyes are closed in real time","body":"<p>I'm a complete beginner to android studio mobile development. and This is the code i've been using so far.</p>\n<p>I want to detect if a persons eyes are closed or not real time. I'm using google ml kit. They have provided most of the code but not clear about passing the live camera view into the process(image).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class EyeDetection extends AppCompatActivity {\n\n    private ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture;\n    PreviewView previewView;\n\n    VideoView videoView;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_eye_detection);\n\n        previewView = findViewById(R.id.previewView);\n        videoView = findViewById(R.id.video_view);\n\n        String videoPath = &quot;android.resource://&quot;+getPackageName()+ &quot;/&quot; + R.raw.videoplayback;\n        Uri uri = Uri.parse(videoPath);\n        videoView.setVideoURI(uri);\n\n        MediaController mediaController = new MediaController(this);\n        videoView.setMediaController(mediaController);\n        mediaController.setAnchorView(videoView);\n\n\n\n//        FaceDetectorOptions realTimeOpts =\n//                new FaceDetectorOptions.Builder()\n//                        .setContourMode(FaceDetectorOptions.CONTOUR_MODE_ALL)\n//                        .build();\n\n        cameraProviderFuture = ProcessCameraProvider.getInstance(this);\n\n        cameraProviderFuture.addListener(() -&gt; {\n            try {\n                ProcessCameraProvider cameraProvider = cameraProviderFuture.get();\n                bindPreview(cameraProvider);\n            } catch (ExecutionException | InterruptedException e) {\n                // No errors need to be handled for this Future.\n                // This should never be reached.\n            }\n        }, ContextCompat.getMainExecutor(this));\n\n\n\n\n    }\n\n//    private class YourAnalyzer implements ImageAnalysis.Analyzer {\n//\n//        @Override\n//        public void analyze(ImageProxy imageProxy) {\n//            Image mediaImage = imageProxy.getImage();\n//            if (mediaImage != null) {\n//                InputImage image =\n//                        InputImage.fromMediaImage(mediaImage, imageProxy.getImageInfo().getRotationDegrees());\n//                // Pass image to an ML Kit Vision API\n//                // ...\n//            }\n//        }\n//\n//    }\n\n\n        void bindPreview(@NonNull ProcessCameraProvider cameraProvider) {\n        Preview preview = new Preview.Builder()\n                .build();\n\n\n            mlFaceDetector(preview);\n\n\n        CameraSelector cameraSelector = new CameraSelector.Builder()\n                .requireLensFacing(CameraSelector.LENS_FACING_FRONT)\n                .build();\n\n        preview.setSurfaceProvider(previewView.getSurfaceProvider());\n\n        Camera camera = cameraProvider.bindToLifecycle((LifecycleOwner)this, cameraSelector, preview);\n\n        // For performing operations that affect all outputs.\n        CameraControl cameraControl = camera.getCameraControl();\n//        // For querying information and states.\n//        CameraInfo cameraInfo = camera.getCameraInfo();\n        cameraControl.enableTorch(true);\n\n    }\n\n    void mlFaceDetector(Preview preview) {\n\n        FaceDetectorOptions highAccuracyOpts =\n                new FaceDetectorOptions.Builder()\n                        .setPerformanceMode(FaceDetectorOptions.PERFORMANCE_MODE_ACCURATE)\n                        .setLandmarkMode(FaceDetectorOptions.LANDMARK_MODE_ALL)\n                        .setClassificationMode(FaceDetectorOptions.CLASSIFICATION_MODE_ALL)\n                        .build();\n\n        FaceDetector detector = FaceDetection.getClient(highAccuracyOpts);\n\n        Task&lt;List&lt;Face&gt;&gt; result =\n                detector.process(image) // this is where the issue is\n                        .addOnSuccessListener(\n                                new OnSuccessListener&lt;List&lt;Face&gt;&gt;() {\n                                    @Override\n                                    public void onSuccess(List&lt;Face&gt; faces) {\n                                        // Task completed successfully\n                                        // ...\n                                    }\n                                })\n                        .addOnFailureListener(\n                                new OnFailureListener() {\n                                    @Override\n                                    public void onFailure(@NonNull Exception e) {\n                                        // Task failed with an exception\n                                        // ...\n                                    }\n                                });\n\n    }\n}\n</code></pre>\n"},{"tags":["java","generics","functional-programming","functional-interface"],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682372451,"creation_date":1682371824,"answer_id":76096254,"question_id":76096218,"body_markdown":"There a couple of problems. First, `InputStream.close()` throws an exception, so it can&#39;t be passed as a `Runnable`. You can either convert the method reference to a lambda containing a try/catch block, or create a custom parallel interface that allows exceptions:\r\n\r\n    @FunctionalInterface\r\n    interface CustomRunnable {\r\n        void run() throws Exception;\r\n    }\r\n\r\nThe other issue is that `Runnable` doesn&#39;t accept any arguments. You can pass an [instance method reference][1] instead of passing the object separately:\r\n\r\n    void callFuncOnObj(CustomRunnable r) {\r\n       r.run();\r\n    }\r\n\r\nCalled like this:\r\n\r\n    callFuncOnObj(System.in::close);\r\n\r\nOr you can accept the object with a `Consumer` (or in this case, a similar interface that allows exceptions) and combine them like this:\r\n\r\n    &lt;T&gt; void callFuncOnObj(T obj, CustomConsumer&lt;T&gt; c) {\r\n       c.accept(obj);\r\n    }\r\n\r\nAnd then your original call would work:\r\n\r\n    callFuncOnObj(System.in, InputStream::close);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html#:~:text=compareByAge%0AMethodReferencesExamples%3A%3AappendStrings-,Reference%20to%20an%20instance%20method%20of%20a%20particular%20object,-containingObject%3A%3AinstanceMethodName","title":"Java call generic function on generic object","body":"<p>There a couple of problems. First, <code>InputStream.close()</code> throws an exception, so it can't be passed as a <code>Runnable</code>. You can either convert the method reference to a lambda containing a try/catch block, or create a custom parallel interface that allows exceptions:</p>\n<pre><code>@FunctionalInterface\ninterface CustomRunnable {\n    void run() throws Exception;\n}\n</code></pre>\n<p>The other issue is that <code>Runnable</code> doesn't accept any arguments. You can pass an <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html#:%7E:text=compareByAge%0AMethodReferencesExamples%3A%3AappendStrings-,Reference%20to%20an%20instance%20method%20of%20a%20particular%20object,-containingObject%3A%3AinstanceMethodName\" rel=\"nofollow noreferrer\">instance method reference</a> instead of passing the object separately:</p>\n<pre><code>void callFuncOnObj(CustomRunnable r) {\n   r.run();\n}\n</code></pre>\n<p>Called like this:</p>\n<pre><code>callFuncOnObj(System.in::close);\n</code></pre>\n<p>Or you can accept the object with a <code>Consumer</code> (or in this case, a similar interface that allows exceptions) and combine them like this:</p>\n<pre><code>&lt;T&gt; void callFuncOnObj(T obj, CustomConsumer&lt;T&gt; c) {\n   c.accept(obj);\n}\n</code></pre>\n<p>And then your original call would work:</p>\n<pre><code>callFuncOnObj(System.in, InputStream::close);\n</code></pre>\n"}],"owner":{"account_id":28235185,"reputation":3,"user_id":21583770,"display_name":"user21583770"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76096254,"answer_count":1,"score":0,"last_activity_date":1682372451,"creation_date":1682371537,"question_id":76096218,"body_markdown":"I want to have a method like this\r\n```\r\n&lt;T&gt; void callFuncOnObj(T obj, Runnable r) {\r\n   obj.r();\r\n   //or\r\n   r.runOnTheInstance(obj);\r\n}\r\n```\r\nthat may be used something like this (ignoring exceptions)\r\n```\r\n   callFuncOnObj(System.in, InputStream::close);\r\n```\r\n\r\nObviously, `Runnable` doesn&#39;t support this.  Apparently, the type of `InputStream::close` is just Object, so how can it be used or even cast so that a generic instance may call it?\r\n\r\nThe most obvious alternative I can think of is accepting a `Method` and dealing with `IllegalArgumentException` if it doesn&#39;t apply,\r\n```\r\nvoid callFuncOnObj(Object obj, Method m) {\r\n   try{\r\n      m.invoke(obj);\r\n   }catch(IllegalArgumentException iae) {\r\n      ...\r\n   }...\r\n}\r\n```\r\n\r\nIs there a good way to do this with generic instances and generic functions on those instances?","title":"Java call generic function on generic object","body":"<p>I want to have a method like this</p>\n<pre><code>&lt;T&gt; void callFuncOnObj(T obj, Runnable r) {\n   obj.r();\n   //or\n   r.runOnTheInstance(obj);\n}\n</code></pre>\n<p>that may be used something like this (ignoring exceptions)</p>\n<pre><code>   callFuncOnObj(System.in, InputStream::close);\n</code></pre>\n<p>Obviously, <code>Runnable</code> doesn't support this.  Apparently, the type of <code>InputStream::close</code> is just Object, so how can it be used or even cast so that a generic instance may call it?</p>\n<p>The most obvious alternative I can think of is accepting a <code>Method</code> and dealing with <code>IllegalArgumentException</code> if it doesn't apply,</p>\n<pre><code>void callFuncOnObj(Object obj, Method m) {\n   try{\n      m.invoke(obj);\n   }catch(IllegalArgumentException iae) {\n      ...\n   }...\n}\n</code></pre>\n<p>Is there a good way to do this with generic instances and generic functions on those instances?</p>\n"},{"tags":["java","visual-studio-code","debugging"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1682345058,"post_id":76092516,"comment_id":134195955,"body_markdown":"You possible have a (Java 8 or earlier) JRE installation that doesn&#39;t include the source code ZIP for the Java SE libraries.  Install a JDK instead.","body":"You possible have a (Java 8 or earlier) JRE installation that doesn&#39;t include the source code ZIP for the Java SE libraries.  Install a JDK instead."},{"owner":{"account_id":26103643,"reputation":1,"user_id":19798662,"display_name":"opafmoremedic"},"score":0,"creation_date":1682359833,"post_id":76092516,"comment_id":134199671,"body_markdown":"@StephenC java -version in terminal shows &quot;openjdk version &#39;19.0.2&#39; 2023-01-17&quot; It seems I have an updated JDK. My code also compiles and can run just fine, but I still can&#39;t step into the standard library and view the code.","body":"@StephenC java -version in terminal shows &quot;openjdk version &#39;19.0.2&#39; 2023-01-17&quot; It seems I have an updated JDK. My code also compiles and can run just fine, but I still can&#39;t step into the standard library and view the code."}],"answers":[{"tags":[],"owner":{"account_id":26103643,"reputation":1,"user_id":19798662,"display_name":"opafmoremedic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682372445,"creation_date":1682372445,"answer_id":76096314,"question_id":76092516,"body_markdown":"Solved.\r\n\r\nComment by StephenC lead me to checking into the version of Java I was running. This laptop had openjdk 19 on it, which I thought would be enough, as I checked and it seemed updated. I uninstalled the openjdk packages &amp; reinstalled Java JDK 20 from the Oracle site and now I can step into the standard library like I want.\r\n\r\nIf you&#39;re having the same issue I was, run java -version and check to see if you have &quot;java version#&quot; installed, or if you have &quot;openjdk version#&quot; installed. They offer different levels of debugging.","title":"Why can&#39;t I enter the Java Standard Library when debugging in VS Code?","body":"<p>Solved.</p>\n<p>Comment by StephenC lead me to checking into the version of Java I was running. This laptop had openjdk 19 on it, which I thought would be enough, as I checked and it seemed updated. I uninstalled the openjdk packages &amp; reinstalled Java JDK 20 from the Oracle site and now I can step into the standard library like I want.</p>\n<p>If you're having the same issue I was, run java -version and check to see if you have &quot;java version#&quot; installed, or if you have &quot;openjdk version#&quot; installed. They offer different levels of debugging.</p>\n"}],"owner":{"account_id":26103643,"reputation":1,"user_id":19798662,"display_name":"opafmoremedic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76096314,"answer_count":1,"score":-1,"last_activity_date":1682372445,"creation_date":1682343520,"question_id":76092516,"body_markdown":"I&#39;ve been using VS Code for quite some time, on a number of machines. Never had an issue with stepping into functions and seeing the standard library if I so choose. However, on my new laptop I can&#39;t do that. When debugging all the steps into it still populate in the call stack, but they&#39;re grayed out and they don&#39;t populate in new tabs and they can&#39;t be clicked on. I&#39;m not sure where to go from here.\r\n[Screenshot of VS Code debugger with grayed out call stack][![enter image description here][1]][1](https://i.stack.imgur.com/aKxgQ.png)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aKxgQ.png","title":"Why can&#39;t I enter the Java Standard Library when debugging in VS Code?","body":"<p>I've been using VS Code for quite some time, on a number of machines. Never had an issue with stepping into functions and seeing the standard library if I so choose. However, on my new laptop I can't do that. When debugging all the steps into it still populate in the call stack, but they're grayed out and they don't populate in new tabs and they can't be clicked on. I'm not sure where to go from here.\n[Screenshot of VS Code debugger with grayed out call stack]<a href=\"https://i.stack.imgur.com/aKxgQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aKxgQ.png\" alt=\"enter image description here\" /></a>(<a href=\"https://i.stack.imgur.com/aKxgQ.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/aKxgQ.png</a>)</p>\n"},{"tags":["java","json","spring","spring-boot","rest"],"answers":[{"tags":[],"owner":{"account_id":274366,"reputation":1144,"user_id":566556,"display_name":"Knut Forkalsrud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673898856,"creation_date":1673898856,"answer_id":75139092,"question_id":75109281,"body_markdown":"I believe the interceptor is called in the request handler, so if you want to take a lot of time, you&#39;re better off doing that in a separate thread or thread pool.\r\n\r\nAlso, if you want to set response headers, do that in `postHandle`. By the time `afterCompletion` is invoked, the response has already been committed.","title":"HandlerInterceptor interface&#39;s afterCompletion method gets executed before the response is fully committed when response is not a String","body":"<p>I believe the interceptor is called in the request handler, so if you want to take a lot of time, you're better off doing that in a separate thread or thread pool.</p>\n<p>Also, if you want to set response headers, do that in <code>postHandle</code>. By the time <code>afterCompletion</code> is invoked, the response has already been committed.</p>\n"},{"tags":[],"owner":{"account_id":4771078,"reputation":31,"user_id":20999822,"display_name":"Kurian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682372215,"creation_date":1682372215,"answer_id":76096291,"question_id":75109281,"body_markdown":"Upon further analysis, it was found that the **getContentLength(Object, ContentType)** method in **AbstractHttpMessageConverter** is unable to find the size of the object, hence unable to set the Content-Length header. As the number of bytes to be written is not available, the response will not be written till the output stream is closed, which happens after the after completion.\r\n\r\nTo fix the issue, registered a custom Http Message Converter extended from **MappingJackson2HttpMessageConverter** with the overridden method **writeInternal(Object object, @Nullable Type type, HttpOutputMessage outputMessage)**.\r\n\r\nThe overridden method snippet is as below:\r\n\r\n      \r\n      @Override\r\n      protected void writeInternal(Object object, @Nullable Type type, HttpOutputMessage outputMessage)\r\n          throws IOException, HttpMessageNotWritableException {\r\n    \r\n        if( outputMessage.getHeaders().getContentLength() &lt; 0 ) {\r\n          ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n    \r\n          HttpOutputMessage newOutputMessage = new HttpOutputMessage() {\r\n            @Override\r\n            public OutputStream getBody() {\r\n              return byteArrayOutputStream;\r\n            }\r\n    \r\n            @Override\r\n            public HttpHeaders getHeaders() {\r\n              return outputMessage.getHeaders();\r\n            }\r\n          };\r\n          super.writeInternal(object, type, newOutputMessage);\r\n    \r\n          byteArrayOutputStream.flush();\r\n          byteArrayOutputStream.close();\r\n    \r\n    \r\n          HttpHeaders headers = outputMessage.getHeaders();\r\n          headers.setContentLength(byteArrayOutputStream.toByteArray().length);\r\n          StreamUtils.copy(byteArrayOutputStream.toByteArray(), outputMessage.getBody());\r\n        } else {\r\n          super.writeInternal(object, type, outputMessage);\r\n        }\r\n      }\r\n\r\nThe full demo code is available at https://github.com/pkurianjohn/InterceptorAfterCompletion/tree/content-length-fix.\r\n\r\n","title":"HandlerInterceptor interface&#39;s afterCompletion method gets executed before the response is fully committed when response is not a String","body":"<p>Upon further analysis, it was found that the <strong>getContentLength(Object, ContentType)</strong> method in <strong>AbstractHttpMessageConverter</strong> is unable to find the size of the object, hence unable to set the Content-Length header. As the number of bytes to be written is not available, the response will not be written till the output stream is closed, which happens after the after completion.</p>\n<p>To fix the issue, registered a custom Http Message Converter extended from <strong>MappingJackson2HttpMessageConverter</strong> with the overridden method <strong>writeInternal(Object object, @Nullable Type type, HttpOutputMessage outputMessage)</strong>.</p>\n<p>The overridden method snippet is as below:</p>\n<pre><code>  @Override\n  protected void writeInternal(Object object, @Nullable Type type, HttpOutputMessage outputMessage)\n      throws IOException, HttpMessageNotWritableException {\n\n    if( outputMessage.getHeaders().getContentLength() &lt; 0 ) {\n      ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n\n      HttpOutputMessage newOutputMessage = new HttpOutputMessage() {\n        @Override\n        public OutputStream getBody() {\n          return byteArrayOutputStream;\n        }\n\n        @Override\n        public HttpHeaders getHeaders() {\n          return outputMessage.getHeaders();\n        }\n      };\n      super.writeInternal(object, type, newOutputMessage);\n\n      byteArrayOutputStream.flush();\n      byteArrayOutputStream.close();\n\n\n      HttpHeaders headers = outputMessage.getHeaders();\n      headers.setContentLength(byteArrayOutputStream.toByteArray().length);\n      StreamUtils.copy(byteArrayOutputStream.toByteArray(), outputMessage.getBody());\n    } else {\n      super.writeInternal(object, type, outputMessage);\n    }\n  }\n</code></pre>\n<p>The full demo code is available at <a href=\"https://github.com/pkurianjohn/InterceptorAfterCompletion/tree/content-length-fix\" rel=\"nofollow noreferrer\">https://github.com/pkurianjohn/InterceptorAfterCompletion/tree/content-length-fix</a>.</p>\n"}],"owner":{"account_id":4771078,"reputation":31,"user_id":20999822,"display_name":"Kurian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":783,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76096291,"answer_count":2,"score":3,"last_activity_date":1682372215,"creation_date":1673613337,"question_id":75109281,"body_markdown":"I came across a strange issue while working on troubleshooting an issue. In my Spring Boot application, I have a GET REST end-point which returns a POJO which looks like:\r\n\r\n```\r\n@GetMapping(value = &quot;/dto&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n  public ResponseEntity&lt;ReportDto&gt; dto() {\r\n    MultiValueMap&lt;String, String&gt; headers = new HttpHeaders();\r\n    headers.add(&quot;Controller processed time&quot;,LocalDateTime.now().toString());\r\n    return new ResponseEntity&lt;ReportDto&gt;(new ReportDto(), headers, HttpStatus.OK);\r\n  }\r\n```\r\n\r\nI have an interceptor which looks like:\r\n```\r\n@Slf4j\r\n@Component\r\npublic class AuditInterceptor implements HandlerInterceptor {\r\n  @Override\r\n  public void afterCompletion\r\n      (HttpServletRequest request, HttpServletResponse response, Object\r\n          handler, Exception exception) throws Exception {\r\n    Thread.sleep(3000);\r\n    log.info((LocalDateTime.now())+&quot; : Audit event stored&quot;);\r\n  }\r\n```\r\n\r\nThe Thread.sleep(3000) is to simulate the latency we face from audit event store periodically.\r\n\r\nAs per design, the audit event is supposed to be written after the response is committed. This is to avoid delay for the client in case of a delay in writing the event.\r\n\r\nSurprisingly, the client is receiving the response only after 3 seconds (the added delay), which means the response is committed after the &#39;afterCompletion&#39; method is executed. When the response type is String, the response is committed before afterCompletion is executed. I had tried the response type Integer, boolean and int as well. Except for String, all other types (the types I tried) are getting written only after the afterCompletion is executed.\r\n\r\nI have tried different clients. The behavior for each of them are:\r\n- React with axios (both sync and async) - Response body and code are received after the added delay\r\n- Postman - Response code 200 is received immediately, but the body was received after the added delay\r\n- curl - Response printed immediately, but the connection closed only after the added delay\r\n\r\nFrom the behavior observed from curl, it is clear that the delay is not in the Http Message Converter (Jackson by default in Spring Boot).\r\n\r\nI have a workaround solution for my issue, which looks like:\r\n```\r\n  @GetMapping(value = &quot;/custom&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n  public ResponseEntity&lt;String&gt; custom() throws JsonProcessingException {\r\n    MultiValueMap&lt;String, String&gt; headers = new HttpHeaders();\r\n    headers.add(&quot;Controller processed time&quot;,LocalDateTime.now().toString());\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    return new ResponseEntity&lt;String&gt;(objectMapper.writeValueAsString(new ReportDto()), headers,\r\n        HttpStatus.OK);\r\n  }\r\n\r\n```\r\n\r\nI prefer to have the right solution for my problem. Appreciate if anyone can help me understand the root cause so that we can come up with the right solution.\r\n\r\nPlease check the demo code at https://github.com/pkurianjohn/InterceptorAfterCompletion.\r\n\r\nThank you.","title":"HandlerInterceptor interface&#39;s afterCompletion method gets executed before the response is fully committed when response is not a String","body":"<p>I came across a strange issue while working on troubleshooting an issue. In my Spring Boot application, I have a GET REST end-point which returns a POJO which looks like:</p>\n<pre><code>@GetMapping(value = &quot;/dto&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n  public ResponseEntity&lt;ReportDto&gt; dto() {\n    MultiValueMap&lt;String, String&gt; headers = new HttpHeaders();\n    headers.add(&quot;Controller processed time&quot;,LocalDateTime.now().toString());\n    return new ResponseEntity&lt;ReportDto&gt;(new ReportDto(), headers, HttpStatus.OK);\n  }\n</code></pre>\n<p>I have an interceptor which looks like:</p>\n<pre><code>@Slf4j\n@Component\npublic class AuditInterceptor implements HandlerInterceptor {\n  @Override\n  public void afterCompletion\n      (HttpServletRequest request, HttpServletResponse response, Object\n          handler, Exception exception) throws Exception {\n    Thread.sleep(3000);\n    log.info((LocalDateTime.now())+&quot; : Audit event stored&quot;);\n  }\n</code></pre>\n<p>The Thread.sleep(3000) is to simulate the latency we face from audit event store periodically.</p>\n<p>As per design, the audit event is supposed to be written after the response is committed. This is to avoid delay for the client in case of a delay in writing the event.</p>\n<p>Surprisingly, the client is receiving the response only after 3 seconds (the added delay), which means the response is committed after the 'afterCompletion' method is executed. When the response type is String, the response is committed before afterCompletion is executed. I had tried the response type Integer, boolean and int as well. Except for String, all other types (the types I tried) are getting written only after the afterCompletion is executed.</p>\n<p>I have tried different clients. The behavior for each of them are:</p>\n<ul>\n<li>React with axios (both sync and async) - Response body and code are received after the added delay</li>\n<li>Postman - Response code 200 is received immediately, but the body was received after the added delay</li>\n<li>curl - Response printed immediately, but the connection closed only after the added delay</li>\n</ul>\n<p>From the behavior observed from curl, it is clear that the delay is not in the Http Message Converter (Jackson by default in Spring Boot).</p>\n<p>I have a workaround solution for my issue, which looks like:</p>\n<pre><code>  @GetMapping(value = &quot;/custom&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n  public ResponseEntity&lt;String&gt; custom() throws JsonProcessingException {\n    MultiValueMap&lt;String, String&gt; headers = new HttpHeaders();\n    headers.add(&quot;Controller processed time&quot;,LocalDateTime.now().toString());\n    ObjectMapper objectMapper = new ObjectMapper();\n    return new ResponseEntity&lt;String&gt;(objectMapper.writeValueAsString(new ReportDto()), headers,\n        HttpStatus.OK);\n  }\n\n</code></pre>\n<p>I prefer to have the right solution for my problem. Appreciate if anyone can help me understand the root cause so that we can come up with the right solution.</p>\n<p>Please check the demo code at <a href=\"https://github.com/pkurianjohn/InterceptorAfterCompletion\" rel=\"nofollow noreferrer\">https://github.com/pkurianjohn/InterceptorAfterCompletion</a>.</p>\n<p>Thank you.</p>\n"},{"tags":["java","design-patterns"],"comments":[{"owner":{"account_id":435799,"reputation":22985,"user_id":822588,"accept_rate":94,"display_name":"Sleiman Jneidi"},"score":0,"creation_date":1446495214,"post_id":33486006,"comment_id":54756924,"body_markdown":"weak references are evil, only use them if you like chasing bugs. Note: Java&#39;s GC is smart","body":"weak references are evil, only use them if you like chasing bugs. Note: Java&#39;s GC is smart"},{"owner":{"account_id":56124,"reputation":7256,"user_id":2506382,"accept_rate":67,"display_name":"dcsohl"},"score":2,"creation_date":1446495499,"post_id":33486006,"comment_id":54757049,"body_markdown":"Let me amend @SleimanJneidi&#39;s statement: Java&#39;s GC is *very* smart. It works on the basis of &quot;reachability&quot; - if neither `Subject` nor `Observer` are &quot;reachable&quot; (essentially: there&#39;s no way to get access to them from any chain of object references starting with objects in the `main()` method), then they can be collected. It does not matter that they reference each other. Those references only ensures that if one is reachable, then the other is too. It won&#39;t needlessly keep them alive if neither is reachable.","body":"Let me amend @SleimanJneidi&#39;s statement: Java&#39;s GC is <i>very</i> smart. It works on the basis of &quot;reachability&quot; - if neither <code>Subject</code> nor <code>Observer</code> are &quot;reachable&quot; (essentially: there&#39;s no way to get access to them from any chain of object references starting with objects in the <code>main()</code> method), then they can be collected. It does not matter that they reference each other. Those references only ensures that if one is reachable, then the other is too. It won&#39;t needlessly keep them alive if neither is reachable."},{"owner":{"account_id":4553306,"reputation":8476,"user_id":3697757,"accept_rate":92,"display_name":"hackjutsu"},"score":0,"creation_date":1446495793,"post_id":33486006,"comment_id":54757192,"body_markdown":"Thank you~ but when should we use `WeakReference`? I thought the Observer pattern was a good example for  `WeakReference`, since in C++ the oberser pattern shows good example for `weak_ptr`...","body":"Thank you~ but when should we use <code>WeakReference</code>? I thought the Observer pattern was a good example for  <code>WeakReference</code>, since in C++ the oberser pattern shows good example for <code>weak_ptr</code>..."},{"owner":{"account_id":435799,"reputation":22985,"user_id":822588,"accept_rate":94,"display_name":"Sleiman Jneidi"},"score":0,"creation_date":1446495962,"post_id":33486006,"comment_id":54757273,"body_markdown":"@Hackjustu u use WeakReference if you want your program to be unpredictable relying on the behaviour of the GC","body":"@Hackjustu u use WeakReference if you want your program to be unpredictable relying on the behaviour of the GC"},{"owner":{"account_id":6985925,"reputation":130,"user_id":5359550,"display_name":"Kaputnik120"},"score":0,"creation_date":1446496277,"post_id":33486006,"comment_id":54757423,"body_markdown":"Just trust the GC. If you are concerned about performance, rather try different configurations: type of gc (g1, parallel,...), young gen space, etc.","body":"Just trust the GC. If you are concerned about performance, rather try different configurations: type of gc (g1, parallel,...), young gen space, etc."}],"answers":[{"tags":[],"owner":{"account_id":3619169,"reputation":9458,"user_id":3018377,"accept_rate":64,"display_name":"LHA"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682371729,"creation_date":1446503315,"answer_id":33488199,"question_id":33486006,"body_markdown":"You don&#39;t have to use weak references in your case. What you are doing is fine. Java GC already handles Circular References. Java GC will collect an entire Circular References graph if it (graph) is an ISLAND (No incoming references to the graph from the Root - You can think the entire the graph is a big Object and the GC will collect this big object If there is no references to it)\r\n\r\nTake a look at this: https://stackoverflow.com/questions/1910194/how-does-java-garbage-collection-work-with-circular-references","title":"Should we use WeakReference in Observer Pattern?","body":"<p>You don't have to use weak references in your case. What you are doing is fine. Java GC already handles Circular References. Java GC will collect an entire Circular References graph if it (graph) is an ISLAND (No incoming references to the graph from the Root - You can think the entire the graph is a big Object and the GC will collect this big object If there is no references to it)</p>\n<p>Take a look at this: <a href=\"https://stackoverflow.com/questions/1910194/how-does-java-garbage-collection-work-with-circular-references\">How does Java Garbage Collection work with Circular References?</a></p>\n"}],"owner":{"account_id":4553306,"reputation":8476,"user_id":3697757,"accept_rate":92,"display_name":"hackjutsu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1792,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"closed_date":1446504215,"accepted_answer_id":33488199,"answer_count":1,"score":6,"last_activity_date":1682371729,"creation_date":1446495123,"question_id":33486006,"body_markdown":"I&#39;m learning and trying to implement the Observer pattern in Java from this [tutorial][1]. I&#39;m stuck at the point about whether I should use `WeakReference` for the subject to hold the observers.\r\n\r\nFor the implementation below, the `Subject` and the `BinaryObserver` are holding strong references to each other, which I&#39;m afraid prevents GC from collecting the unused `Subject`.\r\n\r\nSo my question is, should I use `List&lt;WeakReference&lt;Observer&gt;&gt; observers` instead of `List&lt;Observer&gt; observers`?\r\n\r\n**Subject.java**\r\n\r\n    public class Subject {\r\n\r\n       private List&lt;Observer&gt; observers = new ArrayList&lt;Observer&gt;();\r\n       private int state;\r\n\r\n       public int getState() {\r\n          return state;\r\n       }\r\n\r\n       public void setState(int state) {\r\n          this.state = state;\r\n          notifyAllObservers();\r\n       }\r\n\r\n       public void attach(Observer observer){\r\n           observers.add(observer);\r\n       }\r\n\r\n       public void notifyAllObservers(){\r\n           for (Observer observer : observers) {\r\n               observer.update();\r\n           }\r\n       }\r\n    }\r\n\r\n**Observer.java**\r\n\r\n    public abstract class Observer {\r\n        protected Subject subject;\r\n        public abstract void update();\r\n    }\r\n\r\n**BinaryObserver.java**\r\n\r\n    public class BinaryObserver extends Observer{\r\n\r\n        public BinaryObserver(Subject subject){\r\n            this.subject = subject;\r\n            this.subject.attach(this);\r\n        }\r\n\r\n        @Override\r\n        public void update() {\r\n            System.out.println(&quot;Binary String: &quot; + Integer.toBinaryString());\r\n        }\r\n    }\r\n\r\n**ObserverPatternDemo.java**\r\n\r\n    public class ObserverPatternDemo {\r\n        public static void main(String[] args) {\r\n           Subject subject = new Subject();\r\n\r\n           new BinaryObserver(subject);\r\n\r\n           System.out.println(&quot;First state change: 15&quot;);\r\n           subject.setState(15);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://www.tutorialspoint.com/design_pattern/observer_pattern.htm","title":"Should we use WeakReference in Observer Pattern?","body":"<p>I'm learning and trying to implement the Observer pattern in Java from this <a href=\"http://www.tutorialspoint.com/design_pattern/observer_pattern.htm\" rel=\"noreferrer\">tutorial</a>. I'm stuck at the point about whether I should use <code>WeakReference</code> for the subject to hold the observers.</p>\n\n<p>For the implementation below, the <code>Subject</code> and the <code>BinaryObserver</code> are holding strong references to each other, which I'm afraid prevents GC from collecting the unused <code>Subject</code>.</p>\n\n<p>So my question is, should I use <code>List&lt;WeakReference&lt;Observer&gt;&gt; observers</code> instead of <code>List&lt;Observer&gt; observers</code>?</p>\n\n<p><strong>Subject.java</strong></p>\n\n<pre><code>public class Subject {\n\n   private List&lt;Observer&gt; observers = new ArrayList&lt;Observer&gt;();\n   private int state;\n\n   public int getState() {\n      return state;\n   }\n\n   public void setState(int state) {\n      this.state = state;\n      notifyAllObservers();\n   }\n\n   public void attach(Observer observer){\n       observers.add(observer);\n   }\n\n   public void notifyAllObservers(){\n       for (Observer observer : observers) {\n           observer.update();\n       }\n   }\n}\n</code></pre>\n\n<p><strong>Observer.java</strong></p>\n\n<pre><code>public abstract class Observer {\n    protected Subject subject;\n    public abstract void update();\n}\n</code></pre>\n\n<p><strong>BinaryObserver.java</strong></p>\n\n<pre><code>public class BinaryObserver extends Observer{\n\n    public BinaryObserver(Subject subject){\n        this.subject = subject;\n        this.subject.attach(this);\n    }\n\n    @Override\n    public void update() {\n        System.out.println(\"Binary String: \" + Integer.toBinaryString());\n    }\n}\n</code></pre>\n\n<p><strong>ObserverPatternDemo.java</strong></p>\n\n<pre><code>public class ObserverPatternDemo {\n    public static void main(String[] args) {\n       Subject subject = new Subject();\n\n       new BinaryObserver(subject);\n\n       System.out.println(\"First state change: 15\");\n       subject.setState(15);\n    }\n}\n</code></pre>\n"},{"tags":["java","math","game-engine","game-physics","angle"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":2,"creation_date":1436913366,"post_id":31418567,"comment_id":50809634,"body_markdown":"http://math.stackexchange.com/","body":"<a href=\"http://math.stackexchange.com/\">math.stackexchange.com</a>"},{"owner":{"account_id":1417400,"reputation":21231,"user_id":1342730,"accept_rate":95,"display_name":"mathematician1975"},"score":0,"creation_date":1436913504,"post_id":31418567,"comment_id":50809700,"body_markdown":"Your question is very vague but does this help http://stackoverflow.com/questions/30413068/angle-between-two-lines-beginning-at-one-side-of-the-line/30413250#30413250","body":"Your question is very vague but does this help <a href=\"http://stackoverflow.com/questions/30413068/angle-between-two-lines-beginning-at-one-side-of-the-line/30413250#30413250\" title=\"angle between two lines beginning at one side of the line\">stackoverflow.com/questions/30413068/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":356709,"reputation":24084,"user_id":696391,"accept_rate":83,"display_name":"samgak"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1436949296,"creation_date":1436930245,"answer_id":31420884,"question_id":31418567,"body_markdown":"It depends on whether your angles specify a rotation in the clockwise or anti-clockwise direction. If you are looking in the direction of the tank turret, then an object is on the right if you need to rotate the turret clockwise to point at it as quickly as possible, and on the left if you need to rotate anti-clockwise.\r\n\r\nObviously, you can rotate in the opposite direction to go &quot;the long way around&quot;: if an object is 10 degrees to the right then you can either rotate 10 degrees clockwise or 350 degrees anti-clockwise to point at it. But let&#39;s consider only the short way around, assuming that angles are specified in a clockwise direction:\r\n\r\n    // returns 1 if otherAngle is to the right of sourceAngle,\r\n    //         0 if the angles are identical\r\n    //         -1 if otherAngle is to the left of sourceAngle\r\n    int compareAngles(float sourceAngle, float otherAngle)\r\n    {\r\n        // sourceAngle and otherAngle should be in the range -180 to 180\r\n        float difference = otherAngle - sourceAngle;\r\n\r\n        if(difference &lt; -180.0f)\r\n            difference += 360.0f;\r\n        if(difference &gt; 180.0f)\r\n            difference -= 360.0f;\r\n\r\n        if(difference &gt; 0.0f)\r\n            return 1;\r\n        if(difference &lt; 0.0f)\r\n            return -1;\r\n\r\n        return 0;\r\n    }\r\n\r\nAfter subtracting the angles, the result can be in the range of -360 (-180 minus 180) to 360 (180 minus -180). You can bring them into the range of -180 to 180 by adding or subtracting 360 degrees, then compare to zero and  return the result.\r\n\r\nAngles with an absolute value between 180 and 360 correspond to the &quot;long way around&quot; rotations, and adding or subtracting 360 converts them to the &quot;short way around&quot;. For example -350 degrees clockwise the long way around (i.e. 350 degrees anti-clockwise) plus 360 equates to 10 degrees clockwise the short way around.\r\n\r\nIf the angles are specified in an anti-clockwise direction, then the meaning of the return value is reversed (1 means left, -1 means right)","title":"Is angle to the left or right of second angle","body":"<p>It depends on whether your angles specify a rotation in the clockwise or anti-clockwise direction. If you are looking in the direction of the tank turret, then an object is on the right if you need to rotate the turret clockwise to point at it as quickly as possible, and on the left if you need to rotate anti-clockwise.</p>\n\n<p>Obviously, you can rotate in the opposite direction to go \"the long way around\": if an object is 10 degrees to the right then you can either rotate 10 degrees clockwise or 350 degrees anti-clockwise to point at it. But let's consider only the short way around, assuming that angles are specified in a clockwise direction:</p>\n\n<pre><code>// returns 1 if otherAngle is to the right of sourceAngle,\n//         0 if the angles are identical\n//         -1 if otherAngle is to the left of sourceAngle\nint compareAngles(float sourceAngle, float otherAngle)\n{\n    // sourceAngle and otherAngle should be in the range -180 to 180\n    float difference = otherAngle - sourceAngle;\n\n    if(difference &lt; -180.0f)\n        difference += 360.0f;\n    if(difference &gt; 180.0f)\n        difference -= 360.0f;\n\n    if(difference &gt; 0.0f)\n        return 1;\n    if(difference &lt; 0.0f)\n        return -1;\n\n    return 0;\n}\n</code></pre>\n\n<p>After subtracting the angles, the result can be in the range of -360 (-180 minus 180) to 360 (180 minus -180). You can bring them into the range of -180 to 180 by adding or subtracting 360 degrees, then compare to zero and  return the result.</p>\n\n<p>Angles with an absolute value between 180 and 360 correspond to the \"long way around\" rotations, and adding or subtracting 360 converts them to the \"short way around\". For example -350 degrees clockwise the long way around (i.e. 350 degrees anti-clockwise) plus 360 equates to 10 degrees clockwise the short way around.</p>\n\n<p>If the angles are specified in an anti-clockwise direction, then the meaning of the return value is reversed (1 means left, -1 means right)</p>\n"},{"tags":[],"owner":{"account_id":20946596,"reputation":11,"user_id":15389297,"display_name":"JR 01"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682371699,"creation_date":1677553004,"answer_id":75587465,"question_id":31418567,"body_markdown":"I&#39;m going back through one of my older projects and found something interesting that I thought could be useful for this or in other cases. It&#39;s an expression that can take any two angles and outputs the direction and distance on a circle (-180 to 180). \r\n`(((B-A+180)%360-360)%360&#177;180)`\r\n\r\n    // if AngleDistance == 0, then the Angles are Identical.\r\n    // if AngleDistance  &lt; 0, then TargetAngle is to the left of SourceAngle.\r\n    // if AngleDistance  &gt; 0, then TargetAngle is to the right of SourceAngle.\r\n    // if AngleDistance == &#177;180, then they are Opposite Angles.\r\n    // SourceAngle and TargetAngle can be any Number.\r\n\r\n    function AngleDistance(SourceAngle, TargetAngle) {\r\n    return (((TargetAngle-SourceAngle+180)%360-360)%360&#177;180);\r\n    }\r\n    \r\nSome examples are listed below:\r\n\r\n    AngleDistance(20,60) = 40\r\n    AngleDistance(90,0) = -90\r\n    AngleDistance(-90,350) = 80\r\n    AngleDistance(45,270) = -135\r\n    AngleDistance(145,525) = 20\r\n\r\n*(&#177; is dependent on the [programming language][1] used, such as using addition in Java, C+, and Haxe or subtraction in Python, Ruby, and Symbolab.)*\r\n\r\n  [1]: https://stackoverflow.com/questions/2215318/difference-between-modulus-implementation-in-python-vs-java","title":"Is angle to the left or right of second angle","body":"<p>I'm going back through one of my older projects and found something interesting that I thought could be useful for this or in other cases. It's an expression that can take any two angles and outputs the direction and distance on a circle (-180 to 180).\n<code>(((B-A+180)%360-360)%360±180)</code></p>\n<pre><code>// if AngleDistance == 0, then the Angles are Identical.\n// if AngleDistance  &lt; 0, then TargetAngle is to the left of SourceAngle.\n// if AngleDistance  &gt; 0, then TargetAngle is to the right of SourceAngle.\n// if AngleDistance == ±180, then they are Opposite Angles.\n// SourceAngle and TargetAngle can be any Number.\n\nfunction AngleDistance(SourceAngle, TargetAngle) {\nreturn (((TargetAngle-SourceAngle+180)%360-360)%360±180);\n}\n</code></pre>\n<p>Some examples are listed below:</p>\n<pre><code>AngleDistance(20,60) = 40\nAngleDistance(90,0) = -90\nAngleDistance(-90,350) = 80\nAngleDistance(45,270) = -135\nAngleDistance(145,525) = 20\n</code></pre>\n<p><em>(± is dependent on the <a href=\"https://stackoverflow.com/questions/2215318/difference-between-modulus-implementation-in-python-vs-java\">programming language</a> used, such as using addition in Java, C+, and Haxe or subtraction in Python, Ruby, and Symbolab.)</em></p>\n"}],"owner":{"account_id":6091240,"reputation":23,"user_id":4753436,"display_name":"ZwiftTalon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1802,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":31420884,"answer_count":2,"score":1,"last_activity_date":1682371699,"creation_date":1436913236,"question_id":31418567,"body_markdown":"I need to know if another angle is on the right or on the left of the source angle.\r\n\r\nI tried to subtract the angles and get the absolute value of them, but the range is from -180 to 180 meaning that when I go to 180 and go over to -180 it will give me the opposite answer.\r\n\r\nIf you are wondering what this is for, is for a Java Game I am developing where there is a tank turret controlled by the mouse.\r\n","title":"Is angle to the left or right of second angle","body":"<p>I need to know if another angle is on the right or on the left of the source angle.</p>\n\n<p>I tried to subtract the angles and get the absolute value of them, but the range is from -180 to 180 meaning that when I go to 180 and go over to -180 it will give me the opposite answer.</p>\n\n<p>If you are wondering what this is for, is for a Java Game I am developing where there is a tank turret controlled by the mouse.</p>\n"},{"tags":["java","spring","jpa","spring-data","spring-data-jpa"],"comments":[{"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"score":1,"creation_date":1473512243,"post_id":14014086,"comment_id":66176362,"body_markdown":"Also read this article&#39;s section [Introduction to Spring Data Repositories](https://www.petrikainulainen.net/programming/spring-framework/spring-data-jpa-tutorial-introduction/)","body":"Also read this article&#39;s section <a href=\"https://www.petrikainulainen.net/programming/spring-framework/spring-data-jpa-tutorial-introduction/\" rel=\"nofollow noreferrer\">Introduction to Spring Data Repositories</a>"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":1,"up_vote_count":1487,"is_accepted":true,"score":1486,"last_activity_date":1617548823,"creation_date":1356377794,"answer_id":14025100,"question_id":14014086,"body_markdown":"[`JpaRepository`][1] extends [`PagingAndSortingRepository`][2] which in turn extends [`CrudRepository`][3]. \r\n\r\nTheir main functions are:\r\n\r\n - [`CrudRepository`][3] mainly provides CRUD functions.\r\n - [`PagingAndSortingRepository`][2] provides methods to do pagination and sorting records.\r\n - [`JpaRepository`][1] provides some JPA-related methods such as flushing the persistence context and deleting records in a batch.\r\n\r\nBecause of the inheritance mentioned above,  `JpaRepository` will have all the functions of `CrudRepository` and `PagingAndSortingRepository`. So if you don&#39;t need the repository to have the functions provided by `JpaRepository` and `PagingAndSortingRepository` , use `CrudRepository`.\r\n\r\n  [1]: http://static.springsource.org/spring-data/data-jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html\r\n  [2]: http://static.springsource.org/spring-data/data-commons/docs/current/api/org/springframework/data/repository/PagingAndSortingRepository.html\r\n  [3]: http://static.springsource.org/spring-data/data-commons/docs/current/api/org/springframework/data/repository/CrudRepository.html","title":"What is difference between CrudRepository and JpaRepository interfaces in Spring Data JPA?","body":"<p><a href=\"http://static.springsource.org/spring-data/data-jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html\" rel=\"noreferrer\"><code>JpaRepository</code></a> extends <a href=\"http://static.springsource.org/spring-data/data-commons/docs/current/api/org/springframework/data/repository/PagingAndSortingRepository.html\" rel=\"noreferrer\"><code>PagingAndSortingRepository</code></a> which in turn extends <a href=\"http://static.springsource.org/spring-data/data-commons/docs/current/api/org/springframework/data/repository/CrudRepository.html\" rel=\"noreferrer\"><code>CrudRepository</code></a>.</p>\n<p>Their main functions are:</p>\n<ul>\n<li><a href=\"http://static.springsource.org/spring-data/data-commons/docs/current/api/org/springframework/data/repository/CrudRepository.html\" rel=\"noreferrer\"><code>CrudRepository</code></a> mainly provides CRUD functions.</li>\n<li><a href=\"http://static.springsource.org/spring-data/data-commons/docs/current/api/org/springframework/data/repository/PagingAndSortingRepository.html\" rel=\"noreferrer\"><code>PagingAndSortingRepository</code></a> provides methods to do pagination and sorting records.</li>\n<li><a href=\"http://static.springsource.org/spring-data/data-jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html\" rel=\"noreferrer\"><code>JpaRepository</code></a> provides some JPA-related methods such as flushing the persistence context and deleting records in a batch.</li>\n</ul>\n<p>Because of the inheritance mentioned above,  <code>JpaRepository</code> will have all the functions of <code>CrudRepository</code> and <code>PagingAndSortingRepository</code>. So if you don't need the repository to have the functions provided by <code>JpaRepository</code> and <code>PagingAndSortingRepository</code> , use <code>CrudRepository</code>.</p>\n"},{"tags":[],"owner":{"account_id":9744,"reputation":80826,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"down_vote_count":1,"up_vote_count":508,"is_accepted":false,"score":507,"last_activity_date":1540895381,"creation_date":1388057127,"answer_id":20784007,"question_id":14014086,"body_markdown":"Ken&#39;s answer is basically right but I&#39;d like to chime in on the &quot;why would you want to use one over the other?&quot; part of your question.\r\n\r\n## Basics\r\n\r\nThe base interface you choose for your repository has two main purposes. First, you allow the Spring Data repository infrastructure to find your interface and trigger the proxy creation so that you inject instances of the interface into clients. The second purpose is to pull in as much functionality as needed into the interface without having to declare extra methods.\r\n\r\n## The common interfaces\r\n\r\nThe Spring Data core library ships with two base interfaces that expose a dedicated set of functionalities:\r\n\r\n- `CrudRepository` - CRUD methods\r\n- `PagingAndSortingRepository` - methods for pagination and sorting (extends `CrudRepository`)\r\n\r\n## Store-specific interfaces\r\n\r\nThe individual store modules (e.g. for JPA or MongoDB) expose store-specific extensions of these base interfaces to allow access to store-specific functionality like flushing or dedicated batching that take some store specifics into account. An example for this is `deleteInBatch(…)` of `JpaRepository` which is different from `delete(…)` as it uses a query to delete the given entities which is more performant but comes with the side effect of not triggering the JPA-defined cascades (as the spec defines it).\r\n\r\nWe generally recommend *not* to use these base interfaces as they expose the underlying persistence technology to the clients and thus tighten the coupling between them and the repository. Plus, you get a bit away from the original definition of a repository which is basically &quot;a collection of entities&quot;. So if you can, stay with `PagingAndSortingRepository`.\r\n\r\n## Custom repository base interfaces\r\n\r\nThe downside of directly depending on one of the provided base interfaces is two-fold. Both of them might be considered as theoretical but I think they&#39;re important to be aware of:\r\n\r\n1. **Depending on a Spring Data repository interface couples your repository interface to the library.** I don&#39;t think this is a particular issue as you&#39;ll probably use abstractions like `Page` or `Pageable` in your code anyway. Spring Data is not any different from any other general purpose library like commons-lang or Guava. As long as it provides reasonable benefit, it&#39;s just fine.\r\n2. **By extending e.g. `CrudRepository`, you expose a complete set of persistence method at once.** This is probably fine in most circumstances as well but you might run into situations where you&#39;d like to gain more fine-grained control over the methods expose, e.g. to create a `ReadOnlyRepository` that doesn&#39;t include the `save(…)` and `delete(…)` methods of `CrudRepository`.\r\n\r\nThe solution to both of these downsides is to craft your own base repository interface or even a set of them. In a lot of applications I have seen something like this:\r\n\r\n    interface ApplicationRepository&lt;T&gt; extends PagingAndSortingRepository&lt;T, Long&gt; { }\r\n\r\n    interface ReadOnlyRepository&lt;T&gt; extends Repository&lt;T, Long&gt; {\r\n    \r\n      // Al finder methods go here\r\n    }\r\n\r\nThe first repository interface is some general purpose base interface that actually only fixes point 1 but also ties the ID type to be `Long` for consistency. The second interface usually has all the `find…(…)` methods copied from `CrudRepository` and `PagingAndSortingRepository` but does not expose the manipulating ones. Read more on that approach in the [reference documentation][1].\r\n\r\n## Summary - tl;dr\r\n\r\nThe repository abstraction allows you to pick the base repository totally driven by you architectural and functional needs. Use the ones provided out of the box if they suit, craft your own repository base interfaces if necessary. Stay away from the store specific repository interfaces unless unavoidable.\r\n\r\n  [1]: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.definition-tuning","title":"What is difference between CrudRepository and JpaRepository interfaces in Spring Data JPA?","body":"<p>Ken's answer is basically right but I'd like to chime in on the \"why would you want to use one over the other?\" part of your question.</p>\n\n<h2>Basics</h2>\n\n<p>The base interface you choose for your repository has two main purposes. First, you allow the Spring Data repository infrastructure to find your interface and trigger the proxy creation so that you inject instances of the interface into clients. The second purpose is to pull in as much functionality as needed into the interface without having to declare extra methods.</p>\n\n<h2>The common interfaces</h2>\n\n<p>The Spring Data core library ships with two base interfaces that expose a dedicated set of functionalities:</p>\n\n<ul>\n<li><code>CrudRepository</code> - CRUD methods</li>\n<li><code>PagingAndSortingRepository</code> - methods for pagination and sorting (extends <code>CrudRepository</code>)</li>\n</ul>\n\n<h2>Store-specific interfaces</h2>\n\n<p>The individual store modules (e.g. for JPA or MongoDB) expose store-specific extensions of these base interfaces to allow access to store-specific functionality like flushing or dedicated batching that take some store specifics into account. An example for this is <code>deleteInBatch(…)</code> of <code>JpaRepository</code> which is different from <code>delete(…)</code> as it uses a query to delete the given entities which is more performant but comes with the side effect of not triggering the JPA-defined cascades (as the spec defines it).</p>\n\n<p>We generally recommend <em>not</em> to use these base interfaces as they expose the underlying persistence technology to the clients and thus tighten the coupling between them and the repository. Plus, you get a bit away from the original definition of a repository which is basically \"a collection of entities\". So if you can, stay with <code>PagingAndSortingRepository</code>.</p>\n\n<h2>Custom repository base interfaces</h2>\n\n<p>The downside of directly depending on one of the provided base interfaces is two-fold. Both of them might be considered as theoretical but I think they're important to be aware of:</p>\n\n<ol>\n<li><strong>Depending on a Spring Data repository interface couples your repository interface to the library.</strong> I don't think this is a particular issue as you'll probably use abstractions like <code>Page</code> or <code>Pageable</code> in your code anyway. Spring Data is not any different from any other general purpose library like commons-lang or Guava. As long as it provides reasonable benefit, it's just fine.</li>\n<li><strong>By extending e.g. <code>CrudRepository</code>, you expose a complete set of persistence method at once.</strong> This is probably fine in most circumstances as well but you might run into situations where you'd like to gain more fine-grained control over the methods expose, e.g. to create a <code>ReadOnlyRepository</code> that doesn't include the <code>save(…)</code> and <code>delete(…)</code> methods of <code>CrudRepository</code>.</li>\n</ol>\n\n<p>The solution to both of these downsides is to craft your own base repository interface or even a set of them. In a lot of applications I have seen something like this:</p>\n\n<pre><code>interface ApplicationRepository&lt;T&gt; extends PagingAndSortingRepository&lt;T, Long&gt; { }\n\ninterface ReadOnlyRepository&lt;T&gt; extends Repository&lt;T, Long&gt; {\n\n  // Al finder methods go here\n}\n</code></pre>\n\n<p>The first repository interface is some general purpose base interface that actually only fixes point 1 but also ties the ID type to be <code>Long</code> for consistency. The second interface usually has all the <code>find…(…)</code> methods copied from <code>CrudRepository</code> and <code>PagingAndSortingRepository</code> but does not expose the manipulating ones. Read more on that approach in the <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.definition-tuning\" rel=\"noreferrer\">reference documentation</a>.</p>\n\n<h2>Summary - tl;dr</h2>\n\n<p>The repository abstraction allows you to pick the base repository totally driven by you architectural and functional needs. Use the ones provided out of the box if they suit, craft your own repository base interfaces if necessary. Stay away from the store specific repository interfaces unless unavoidable.</p>\n"},{"tags":[],"owner":{"account_id":5144206,"reputation":10678,"user_id":4120631,"accept_rate":33,"display_name":"Joby Wilson Mathews"},"down_vote_count":0,"up_vote_count":125,"is_accepted":false,"score":125,"last_activity_date":1520878409,"creation_date":1520661735,"answer_id":49205914,"question_id":14014086,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n**Summary:**\r\n\r\n - PagingAndSortingRepository extends CrudRepository\r\n   \r\n - JpaRepository extends PagingAndSortingRepository  \r\n\r\nThe **CrudRepository** interface provides methods for CRUD operations, so it allows you to create, read, update and delete records without having to define your own methods.\r\n\r\nThe **PagingAndSortingRepository** provides additional methods to retrieve entities using pagination and sorting. \r\n\r\nFinally the **JpaRepository** add some more functionality that is specific to JPA.\r\n\r\n  [1]: https://i.stack.imgur.com/ee7XF.jpg","title":"What is difference between CrudRepository and JpaRepository interfaces in Spring Data JPA?","body":"<p><a href=\"https://i.stack.imgur.com/ee7XF.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ee7XF.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Summary:</strong></p>\n\n<ul>\n<li><p>PagingAndSortingRepository extends CrudRepository</p></li>\n<li><p>JpaRepository extends PagingAndSortingRepository  </p></li>\n</ul>\n\n<p>The <strong>CrudRepository</strong> interface provides methods for CRUD operations, so it allows you to create, read, update and delete records without having to define your own methods.</p>\n\n<p>The <strong>PagingAndSortingRepository</strong> provides additional methods to retrieve entities using pagination and sorting. </p>\n\n<p>Finally the <strong>JpaRepository</strong> add some more functionality that is specific to JPA.</p>\n"},{"tags":[],"owner":{"account_id":11541274,"reputation":590,"user_id":8456875,"display_name":"Evan Knox Thomas"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1566624212,"creation_date":1554613020,"answer_id":55555759,"question_id":14014086,"body_markdown":"I am learning Spring Data JPA. It might help you:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SBx4b.png","title":"What is difference between CrudRepository and JpaRepository interfaces in Spring Data JPA?","body":"<p>I am learning Spring Data JPA. It might help you:\n<a href=\"https://i.stack.imgur.com/SBx4b.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SBx4b.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":10277734,"reputation":695,"user_id":7584019,"display_name":"Rahul Vala"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1581693772,"creation_date":1578689211,"answer_id":59688797,"question_id":14014086,"body_markdown":"All the answers provide sufficient details to the question. However, let me add something more.\r\n\r\n**Why are we using these Interfaces:**\r\n\r\n - They allow Spring to find your repository interfaces and create proxy objects for them.\r\n - It provides you with methods that allow you to perform some common operations (you can also define your custom method as well). I love this feature because creating a method (and defining query and prepared statements and then execute the query with connection object) to do a simple operation really sucks !\r\n\r\n**Which interface does what:** \r\n\r\n - **CrudRepository**: provides CRUD functions\r\n - **PagingAndSortingRepository**: provides methods to do pagination and sort records\r\n - **JpaRepository**: provides JPA related methods such as flushing the persistence context and delete records in a batch\r\n\r\n**When to use which interface:**\r\n\r\nAccording to http://jtuts.com/2014/08/26/difference-between-crudrepository-and-jparepository-in-spring-data-jpa/\r\n\r\nGenerally the best idea is to use **CrudRepository** or **PagingAndSortingRepository** depending on whether you need sorting and paging or not. \r\n\r\nThe **JpaRepository** should be avoided if possible, because it ties you repositories to the JPA persistence technology, and in most cases you probably wouldn’t even use the extra methods provided by it.","title":"What is difference between CrudRepository and JpaRepository interfaces in Spring Data JPA?","body":"<p>All the answers provide sufficient details to the question. However, let me add something more.</p>\n\n<p><strong>Why are we using these Interfaces:</strong></p>\n\n<ul>\n<li>They allow Spring to find your repository interfaces and create proxy objects for them.</li>\n<li>It provides you with methods that allow you to perform some common operations (you can also define your custom method as well). I love this feature because creating a method (and defining query and prepared statements and then execute the query with connection object) to do a simple operation really sucks !</li>\n</ul>\n\n<p><strong>Which interface does what:</strong> </p>\n\n<ul>\n<li><strong>CrudRepository</strong>: provides CRUD functions</li>\n<li><strong>PagingAndSortingRepository</strong>: provides methods to do pagination and sort records</li>\n<li><strong>JpaRepository</strong>: provides JPA related methods such as flushing the persistence context and delete records in a batch</li>\n</ul>\n\n<p><strong>When to use which interface:</strong></p>\n\n<p>According to <a href=\"http://jtuts.com/2014/08/26/difference-between-crudrepository-and-jparepository-in-spring-data-jpa/\" rel=\"noreferrer\">http://jtuts.com/2014/08/26/difference-between-crudrepository-and-jparepository-in-spring-data-jpa/</a></p>\n\n<p>Generally the best idea is to use <strong>CrudRepository</strong> or <strong>PagingAndSortingRepository</strong> depending on whether you need sorting and paging or not. </p>\n\n<p>The <strong>JpaRepository</strong> should be avoided if possible, because it ties you repositories to the JPA persistence technology, and in most cases you probably wouldn’t even use the extra methods provided by it.</p>\n"},{"tags":[],"owner":{"account_id":4554063,"reputation":1525,"user_id":8450064,"display_name":"Anil Nivargi"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1594378556,"creation_date":1593050214,"answer_id":62566726,"question_id":14014086,"body_markdown":"Below are the differences between [`CrudRepository`][1] and [`JpaRepository`][2] as:\r\n\r\n# `CrudRepository`\r\n1. `CrudRepository` is a base interface and extends the [`Repository`][3] interface.\r\n2. `CrudRepository` mainly provides CRUD (Create, Read, Update, Delete) operations.\r\n3. Return type of `saveAll()` method is [`Iterable`][4].\r\n4. Use Case - To perform CRUD operations, define repository extending `CrudRepository`.\r\n\r\n# `JpaRepository`\r\n1. `JpaRepository` extends [`PagingAndSortingRepository`][5] that extends `CrudRepository`.\r\n2. `JpaRepository` provides CRUD and pagination operations, along with additional methods like `flush()`, `saveAndFlush()`, and `deleteInBatch()`, etc.\r\n3. Return type of `saveAll()` method is a [`List`][6].\r\n4. Use Case - To perform CRUD as well as batch operations, define repository extends `JpaRepository`.\r\n\r\n  [1]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html\r\n  [2]: https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html\r\n  [3]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/Repository.html\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Iterable.html\r\n  [5]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/PagingAndSortingRepository.html?is-external=true\r\n  [6]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html","title":"What is difference between CrudRepository and JpaRepository interfaces in Spring Data JPA?","body":"<p>Below are the differences between <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html\" rel=\"noreferrer\"><code>CrudRepository</code></a> and <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html\" rel=\"noreferrer\"><code>JpaRepository</code></a> as:</p>\n<h1><code>CrudRepository</code></h1>\n<ol>\n<li><code>CrudRepository</code> is a base interface and extends the <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/Repository.html\" rel=\"noreferrer\"><code>Repository</code></a> interface.</li>\n<li><code>CrudRepository</code> mainly provides CRUD (Create, Read, Update, Delete) operations.</li>\n<li>Return type of <code>saveAll()</code> method is <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Iterable.html\" rel=\"noreferrer\"><code>Iterable</code></a>.</li>\n<li>Use Case - To perform CRUD operations, define repository extending <code>CrudRepository</code>.</li>\n</ol>\n<h1><code>JpaRepository</code></h1>\n<ol>\n<li><code>JpaRepository</code> extends <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/PagingAndSortingRepository.html?is-external=true\" rel=\"noreferrer\"><code>PagingAndSortingRepository</code></a> that extends <code>CrudRepository</code>.</li>\n<li><code>JpaRepository</code> provides CRUD and pagination operations, along with additional methods like <code>flush()</code>, <code>saveAndFlush()</code>, and <code>deleteInBatch()</code>, etc.</li>\n<li>Return type of <code>saveAll()</code> method is a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html\" rel=\"noreferrer\"><code>List</code></a>.</li>\n<li>Use Case - To perform CRUD as well as batch operations, define repository extends <code>JpaRepository</code>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12858978,"reputation":231,"user_id":9301392,"display_name":"AnushaSP07"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632812437,"creation_date":1632812437,"answer_id":69357124,"question_id":14014086,"body_markdown":"Crud Repository is the base interface and it acts as a marker interface.\r\n\r\nJPA repository also extends the PagingAndSorting repository. \r\nIt provides all the method for which are useful for implementing pagination. Crud Repository doesn&#39;t provide methods for implementing pagination and sorting\r\n\r\nYou can refer - https://www.tutorialspoint.com/difference-between-crudrepository-and-jparepository-in-java#:~:text=Crud%20Repository%20is%20the%20base,acts%20as%20a%20marker%20interface.&amp;text=JPA%20repository%20also%20extends%20the,for%20implementing%20pagination%20and%20sorting.","title":"What is difference between CrudRepository and JpaRepository interfaces in Spring Data JPA?","body":"<p>Crud Repository is the base interface and it acts as a marker interface.</p>\n<p>JPA repository also extends the PagingAndSorting repository.\nIt provides all the method for which are useful for implementing pagination. Crud Repository doesn't provide methods for implementing pagination and sorting</p>\n<p>You can refer - <a href=\"https://www.tutorialspoint.com/difference-between-crudrepository-and-jparepository-in-java#:%7E:text=Crud%20Repository%20is%20the%20base,acts%20as%20a%20marker%20interface.&amp;text=JPA%20repository%20also%20extends%20the,for%20implementing%20pagination%20and%20sorting\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/difference-between-crudrepository-and-jparepository-in-java#:~:text=Crud%20Repository%20is%20the%20base,acts%20as%20a%20marker%20interface.&amp;text=JPA%20repository%20also%20extends%20the,for%20implementing%20pagination%20and%20sorting</a>.</p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1669029878,"creation_date":1668988687,"answer_id":74512964,"question_id":14014086,"body_markdown":"Recent update, **`spring-data-jpa 3.x`**\r\n--------------\r\n\r\nAs of **`spring-data-jpa 3.x`** used with **`spring-boot 3.x`** and **`spring-core 6.x`**, \r\n\r\nthe structure and the hierarchy has been modified and seems to be more clear.\r\n\r\n`ListCrudRepository` extends `CrudRepository`\r\n\r\n`ListPagingAndSortingRepository` extends `PagingAndSortingRepository`\r\n\r\n`JpaRepository` extends both `ListCrudRepository`, `ListPagingAndSortingRepository`.\r\n\r\nSo basically the new introduced interfaces of `ListPagingAndSortingRepository`, `ListCrudRepository` now represent the functionalities of the old interfaces but with returned types of **`List&lt;T&gt;`** while the remaining `PagingAndSortingRepository`, `CrudRepository` handle the return types of **`Iterable&lt;T&gt;`**\r\n\r\nIn the new (3.x) version the structure is the following:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn the past (before 3.0) many of the declared methods which returned **`List&lt;T&gt;`** have been directly declared inside the `JpaRepository`, but now with separate interfaces for those methods they have been extracted into `ListPagingAndSortingRepository`, `ListCrudRepository`.\r\n\r\nSo the structure before (3.x) was\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI hope it is clear from the above schemas how the mentioned `JpaRepository` and `CrudRepository` have been modified in `3.x` version.\r\n\r\nIn case you plan to **migrate `spring-data-jpa`** from `2.x` into `3.x` (would be necessary if you migrate from **`spring-boot 2.x`** to **`spring-boot 3.x`**)  as illustrated in the above schemas you should expect to have breaking code in cases where you have used the `PagingAndSortingRepository` in your code, as in the past it was extending from `CrudRepository` and so your custom repository which extended directly the `PagingAndSortingRepository` already had access to the methods of `CrudRepository`. If this is the issue you should fix this by adapting your custom repository to also extend either the `ListCrudRepository` or the `CrudRepository`.\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tHBpM.png\r\n  [2]: https://i.stack.imgur.com/RsaOR.png","title":"What is difference between CrudRepository and JpaRepository interfaces in Spring Data JPA?","body":"<h2>Recent update, <strong><code>spring-data-jpa 3.x</code></strong></h2>\n<p>As of <strong><code>spring-data-jpa 3.x</code></strong> used with <strong><code>spring-boot 3.x</code></strong> and <strong><code>spring-core 6.x</code></strong>,</p>\n<p>the structure and the hierarchy has been modified and seems to be more clear.</p>\n<p><code>ListCrudRepository</code> extends <code>CrudRepository</code></p>\n<p><code>ListPagingAndSortingRepository</code> extends <code>PagingAndSortingRepository</code></p>\n<p><code>JpaRepository</code> extends both <code>ListCrudRepository</code>, <code>ListPagingAndSortingRepository</code>.</p>\n<p>So basically the new introduced interfaces of <code>ListPagingAndSortingRepository</code>, <code>ListCrudRepository</code> now represent the functionalities of the old interfaces but with returned types of <strong><code>List&lt;T&gt;</code></strong> while the remaining <code>PagingAndSortingRepository</code>, <code>CrudRepository</code> handle the return types of <strong><code>Iterable&lt;T&gt;</code></strong></p>\n<p>In the new (3.x) version the structure is the following:</p>\n<p><a href=\"https://i.stack.imgur.com/tHBpM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tHBpM.png\" alt=\"enter image description here\" /></a></p>\n<p>In the past (before 3.0) many of the declared methods which returned <strong><code>List&lt;T&gt;</code></strong> have been directly declared inside the <code>JpaRepository</code>, but now with separate interfaces for those methods they have been extracted into <code>ListPagingAndSortingRepository</code>, <code>ListCrudRepository</code>.</p>\n<p>So the structure before (3.x) was</p>\n<p><a href=\"https://i.stack.imgur.com/RsaOR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/RsaOR.png\" alt=\"enter image description here\" /></a></p>\n<p>I hope it is clear from the above schemas how the mentioned <code>JpaRepository</code> and <code>CrudRepository</code> have been modified in <code>3.x</code> version.</p>\n<p>In case you plan to <strong>migrate <code>spring-data-jpa</code></strong> from <code>2.x</code> into <code>3.x</code> (would be necessary if you migrate from <strong><code>spring-boot 2.x</code></strong> to <strong><code>spring-boot 3.x</code></strong>)  as illustrated in the above schemas you should expect to have breaking code in cases where you have used the <code>PagingAndSortingRepository</code> in your code, as in the past it was extending from <code>CrudRepository</code> and so your custom repository which extended directly the <code>PagingAndSortingRepository</code> already had access to the methods of <code>CrudRepository</code>. If this is the issue you should fix this by adapting your custom repository to also extend either the <code>ListCrudRepository</code> or the <code>CrudRepository</code>.</p>\n"},{"tags":[],"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1682371494,"creation_date":1682371494,"answer_id":76096212,"question_id":14014086,"body_markdown":"&gt; What is the difference between CrudRepository and JpaRepository\r\n&gt; interfaces in Spring Data JPA?\r\n\r\nSpring Data JPA provides both `JpaRepository` and `CrudRepository` interfaces to simplify the creation of repositories for data access in JPA-based applications.\r\n\r\n`CrudRepository` is the base interface for entities with basic CRUD (Create, Read, Update, Delete) operations. `CrudRepository` provides a minimal set of methods like `save()`, `findAll()`, `findById()`, `delete()`, etc., and can be extended by other custom methods. \r\n\r\nIt is the code example:\r\n```\r\npublic interface PersonEntityRepository extends CrudRepository&lt;PersonEntity, Long&gt; {\r\n\r\n}\r\n```\r\n\r\n`JpaRepository` interface extends `CrudRepository` interface.\r\n`JpaRepository` interface provides other additional methods to the basic CRUD operations provided by CrudRepository such as:\r\n - `findAll(Sort sort)` - a method which returns all entities sorted by the given criteria.\r\n - `findAll(Pageable pageable)` - a method which returns a Page of entities according to the given pagination and sorting criteria.\r\n - `flush()`  - a method which flushes all pending changes to the database.\r\n - `saveAndFlush(T entity)` - a method which saves an entity and immediately flushes changes to the database. \r\nIt is the code example:\r\n```\r\npublic interface PersonEntityRepository extends JpaRepository&lt;PersonEntity, Long&gt; {\r\n\r\n    List&lt;TestEntity&gt; findByName(String name);\r\n\r\n    List&lt;Employee&gt; findByAgeGreaterThan(double age);\r\n}\r\n```\r\n&gt; Why would you want to use one over the other?\r\n\r\nChoosing between the two depends on the specific needs of your application. I would recommend to use `CrudRepository` interface for basic CRUD operations, and `JpaRepository` interface for more advanced functionality such as pagination, sorting, and immediate flushing of changes to the database.\r\n\r\n","title":"What is difference between CrudRepository and JpaRepository interfaces in Spring Data JPA?","body":"<blockquote>\n<p>What is the difference between CrudRepository and JpaRepository\ninterfaces in Spring Data JPA?</p>\n</blockquote>\n<p>Spring Data JPA provides both <code>JpaRepository</code> and <code>CrudRepository</code> interfaces to simplify the creation of repositories for data access in JPA-based applications.</p>\n<p><code>CrudRepository</code> is the base interface for entities with basic CRUD (Create, Read, Update, Delete) operations. <code>CrudRepository</code> provides a minimal set of methods like <code>save()</code>, <code>findAll()</code>, <code>findById()</code>, <code>delete()</code>, etc., and can be extended by other custom methods.</p>\n<p>It is the code example:</p>\n<pre><code>public interface PersonEntityRepository extends CrudRepository&lt;PersonEntity, Long&gt; {\n\n}\n</code></pre>\n<p><code>JpaRepository</code> interface extends <code>CrudRepository</code> interface.\n<code>JpaRepository</code> interface provides other additional methods to the basic CRUD operations provided by CrudRepository such as:</p>\n<ul>\n<li><code>findAll(Sort sort)</code> - a method which returns all entities sorted by the given criteria.</li>\n<li><code>findAll(Pageable pageable)</code> - a method which returns a Page of entities according to the given pagination and sorting criteria.</li>\n<li><code>flush()</code>  - a method which flushes all pending changes to the database.</li>\n<li><code>saveAndFlush(T entity)</code> - a method which saves an entity and immediately flushes changes to the database.\nIt is the code example:</li>\n</ul>\n<pre><code>public interface PersonEntityRepository extends JpaRepository&lt;PersonEntity, Long&gt; {\n\n    List&lt;TestEntity&gt; findByName(String name);\n\n    List&lt;Employee&gt; findByAgeGreaterThan(double age);\n}\n</code></pre>\n<blockquote>\n<p>Why would you want to use one over the other?</p>\n</blockquote>\n<p>Choosing between the two depends on the specific needs of your application. I would recommend to use <code>CrudRepository</code> interface for basic CRUD operations, and <code>JpaRepository</code> interface for more advanced functionality such as pagination, sorting, and immediate flushing of changes to the database.</p>\n"}],"owner":{"account_id":1457710,"reputation":10933,"user_id":1372890,"display_name":"kseeker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":471875,"favorite_count":0,"down_vote_count":2,"up_vote_count":1091,"accepted_answer_id":14025100,"answer_count":9,"score":1089,"last_activity_date":1682371494,"creation_date":1356291312,"question_id":14014086,"body_markdown":"What is the difference between [CrudRepository](https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html) and [JpaRepository](https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html) interfaces in [Spring Data JPA](https://spring.io/projects/spring-data-jpa)? \r\n\r\nWhen I see the examples on the web, I see them there used kind of interchangeably.\r\n\r\nWhat is the difference between them?\r\n\r\nWhy would you want to use one over the other?\r\n","title":"What is difference between CrudRepository and JpaRepository interfaces in Spring Data JPA?","body":"<p>What is the difference between <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html\" rel=\"noreferrer\">CrudRepository</a> and <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html\" rel=\"noreferrer\">JpaRepository</a> interfaces in <a href=\"https://spring.io/projects/spring-data-jpa\" rel=\"noreferrer\">Spring Data JPA</a>? </p>\n\n<p>When I see the examples on the web, I see them there used kind of interchangeably.</p>\n\n<p>What is the difference between them?</p>\n\n<p>Why would you want to use one over the other?</p>\n"},{"tags":["java","maven","selenium-webdriver","post","network-traffic"],"owner":{"account_id":13660772,"reputation":31,"user_id":21079845,"display_name":"Amir Ali Ansari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682370593,"creation_date":1682370593,"question_id":76096123,"body_markdown":"Actually I am using a web browser where I need to send a form page. And internally a post request is send and generates a response. Is there any way to capture POST response without sending request data in selenium using java? I am using maven project.\r\n\r\nI have tried all the possible that fetched from internet but in vain.","title":"Is there any way to capture the POST response from network traffic using selenium webdriver java?","body":"<p>Actually I am using a web browser where I need to send a form page. And internally a post request is send and generates a response. Is there any way to capture POST response without sending request data in selenium using java? I am using maven project.</p>\n<p>I have tried all the possible that fetched from internet but in vain.</p>\n"},{"tags":["java","sdkman"],"comments":[{"owner":{"account_id":13597048,"reputation":3418,"user_id":9808792,"display_name":"micycle"},"score":1,"creation_date":1637870281,"post_id":55923158,"comment_id":123946794,"body_markdown":"All SDKMAN available Java versions can be viewed here: https://api.sdkman.io/2/candidates/java/linux/versions/list?installed=","body":"All SDKMAN available Java versions can be viewed here: <a href=\"https://api.sdkman.io/2/candidates/java/linux/versions/list?installed=\" rel=\"nofollow noreferrer\">api.sdkman.io/2/candidates/java/linux/versions/list?installe&zwnj;&#8203;d=</a>"}],"answers":[{"tags":[],"owner":{"account_id":5592234,"reputation":4576,"user_id":4431053,"display_name":"Mohsen"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1556635159,"creation_date":1556635159,"answer_id":55923334,"question_id":55923158,"body_markdown":"It is no longer supported. This is the [github issue][1] for more information.\r\n\r\nAs the writer said:\r\n\r\n&gt; The reason that we&#39;re moving to OpenJDK is that Oracle doesn&#39;t provide\r\n&gt; Docker images that are deemed official to Docker, whereas it appears\r\n&gt; that OpenJDK ones are as shown there. So if we&#39;re going to deploy with\r\n&gt; OpenJDK, then we&#39;d like to match our local dev environment as well.\r\n\r\n\r\n\r\n  [1]: https://github.com/sdkman/sdkman-cli/issues/543","title":"Oracle java not appearing in SDKMAN?","body":"<p>It is no longer supported. This is the <a href=\"https://github.com/sdkman/sdkman-cli/issues/543\" rel=\"noreferrer\">github issue</a> for more information.</p>\n\n<p>As the writer said:</p>\n\n<blockquote>\n  <p>The reason that we're moving to OpenJDK is that Oracle doesn't provide\n  Docker images that are deemed official to Docker, whereas it appears\n  that OpenJDK ones are as shown there. So if we're going to deploy with\n  OpenJDK, then we'd like to match our local dev environment as well.</p>\n</blockquote>\n"}],"owner":{"account_id":4641643,"reputation":754,"user_id":3761308,"accept_rate":75,"display_name":"user3761308"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6617,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":55923334,"answer_count":1,"score":14,"last_activity_date":1682369665,"creation_date":1556634616,"question_id":55923158,"body_markdown":"    s@s:~$ sdk ls java\r\n    ================================================================================\r\n    Available Java Versions\r\n    ================================================================================\r\n     13.ea.18-open       10.0.2-zulu                                            \r\n     12.0.1-sapmchn      10.0.2-open                                            \r\n     12.0.1-zulu         9.0.7-zulu                                             \r\n     12.0.1-open         9.0.4-open                                             \r\n     12.0.1.j9-adpt      8.0.212-zulu                                           \r\n     12.0.1.hs-adpt      8.0.212-amzn                                           \r\n     12.0.1-librca   &gt; * 8.0.212.j9-adpt                                        \r\n     11.0.3-sapmchn      8.0.212.hs-adpt                                        \r\n     11.0.3-zulu         8.0.212-librca                                         \r\n     11.0.3-amzn         8.0.202-zulufx                                         \r\n     11.0.3.j9-adpt      7.0.222-zulu                                           \r\n     11.0.3.hs-adpt      6.0.119-zulu                                           \r\n     11.0.3-librca       1.0.0-rc-16-grl                                        \r\n     11.0.2-open         1.0.0-rc-15-grl                                        \r\n     11.0.2-zulufx       1.0.0-rc-14-grl                                        \r\n\r\nWhy is it missing ORACLE java 8? I need it to test something, and it&#39;s available on my other PC, so I&#39;m wondering what the problem could be.\r\n\r\nUbuntu 19.04. ","title":"Oracle java not appearing in SDKMAN?","body":"<pre><code>s@s:~$ sdk ls java\n================================================================================\nAvailable Java Versions\n================================================================================\n 13.ea.18-open       10.0.2-zulu                                            \n 12.0.1-sapmchn      10.0.2-open                                            \n 12.0.1-zulu         9.0.7-zulu                                             \n 12.0.1-open         9.0.4-open                                             \n 12.0.1.j9-adpt      8.0.212-zulu                                           \n 12.0.1.hs-adpt      8.0.212-amzn                                           \n 12.0.1-librca   &gt; * 8.0.212.j9-adpt                                        \n 11.0.3-sapmchn      8.0.212.hs-adpt                                        \n 11.0.3-zulu         8.0.212-librca                                         \n 11.0.3-amzn         8.0.202-zulufx                                         \n 11.0.3.j9-adpt      7.0.222-zulu                                           \n 11.0.3.hs-adpt      6.0.119-zulu                                           \n 11.0.3-librca       1.0.0-rc-16-grl                                        \n 11.0.2-open         1.0.0-rc-15-grl                                        \n 11.0.2-zulufx       1.0.0-rc-14-grl                                        \n</code></pre>\n\n<p>Why is it missing ORACLE java 8? I need it to test something, and it's available on my other PC, so I'm wondering what the problem could be.</p>\n\n<p>Ubuntu 19.04. </p>\n"},{"tags":["java","maven","maven-surefire-plugin"],"comments":[{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1653681722,"post_id":72409437,"comment_id":127918614,"body_markdown":"From your description, I don&#39;t see any mention of [adding jupiter engine as documented for surefire plugin junit5 support](https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html). Have you added it?","body":"From your description, I don&#39;t see any mention of <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html\" rel=\"nofollow noreferrer\">adding jupiter engine as documented for surefire plugin junit5 support</a>. Have you added it?"},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1653681807,"post_id":72409437,"comment_id":127918635,"body_markdown":"&quot;we are using all the artifacts in junit-bom-5.8.2&quot;. This includes jupiter and the corresponding junit-platform artifacts.","body":"&quot;we are using all the artifacts in junit-bom-5.8.2&quot;. This includes jupiter and the corresponding junit-platform artifacts."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1653681950,"post_id":72409437,"comment_id":127918660,"body_markdown":"so you really use *all of them*? like `junit-platform-jfr` and other exotic ones? how exactly do you use them?","body":"so you really use <i>all of them</i>? like <code>junit-platform-jfr</code> and other exotic ones? how exactly do you use them?"},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1653682032,"post_id":72409437,"comment_id":127918682,"body_markdown":"I literally pasted the entire contents of the &quot;dependencies&quot; block from junit-bom-5.8.2 into the dependencies block of my service.  Just because those artifacts are present doesn&#39;t mean I&#39;m &quot;using them&quot;.  I don&#39;t know what the &quot;Jfr&quot; artifact is for.","body":"I literally pasted the entire contents of the &quot;dependencies&quot; block from junit-bom-5.8.2 into the dependencies block of my service.  Just because those artifacts are present doesn&#39;t mean I&#39;m &quot;using them&quot;.  I don&#39;t know what the &quot;Jfr&quot; artifact is for."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1653682044,"post_id":72409437,"comment_id":127918686,"body_markdown":"Can you please post a full pom and also the things of your parent pom ... furthermore you have to use `junit-jupiter-engine` See also https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html (api is not enough)","body":"Can you please post a full pom and also the things of your parent pom ... furthermore you have to use <code>junit-jupiter-engine</code> See also <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html\" rel=\"nofollow noreferrer\">maven.apache.org/surefire/maven-surefire-plugin/examples/&hellip;</a> (api is not enough)"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1653682067,"post_id":72409437,"comment_id":127918692,"body_markdown":"The JFR dep is not needed....","body":"The JFR dep is not needed...."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1653682105,"post_id":72409437,"comment_id":127918702,"body_markdown":"&quot;Just because those artifacts are present doesn&#39;t mean I&#39;m &quot;using them&quot;.&quot; then please don&#39;t say you use all of them if that&#39;s not what you are doing. There seems to be some confusion what you are exactly using and what not.","body":"&quot;Just because those artifacts are present doesn&#39;t mean I&#39;m &quot;using them&quot;.&quot; then please don&#39;t say you use all of them if that&#39;s not what you are doing. There seems to be some confusion what you are exactly using and what not."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1653682190,"post_id":72409437,"comment_id":127918720,"body_markdown":"Hopefully it is clear now. To ensure I was overriding all the versions specified by Spring, I pasted the entire contents of that bom into my pom.  This is working fine in the service that has both JUnit 4 and JUnit 5 tests.  This service, with only JUnit 5 tests, is the one that is not working.","body":"Hopefully it is clear now. To ensure I was overriding all the versions specified by Spring, I pasted the entire contents of that bom into my pom.  This is working fine in the service that has both JUnit 4 and JUnit 5 tests.  This service, with only JUnit 5 tests, is the one that is not working."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1653682406,"post_id":72409437,"comment_id":127918772,"body_markdown":"Overriding versions of spring boot (I suppose) is much easier via defining the BOM of junit jupiter before the bom file of spring boot (except you are using spring boot as a parent)... If you have JUnit 4 test you have to add the junit-vintage-engine to execute the JUNit 4 tests...","body":"Overriding versions of spring boot (I suppose) is much easier via defining the BOM of junit jupiter before the bom file of spring boot (except you are using spring boot as a parent)... If you have JUnit 4 test you have to add the junit-vintage-engine to execute the JUNit 4 tests..."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":1,"creation_date":1653682443,"post_id":72409437,"comment_id":127918777,"body_markdown":"it&#39;s really not clear until you post your maven configuration - you probably have in some way messed up your pom(s). You&#39;re not supposed to paste bom contents into your own pom dependency section, bom is about dependencyManagement.","body":"it&#39;s really not clear until you post your maven configuration - you probably have in some way messed up your pom(s). You&#39;re not supposed to paste bom contents into your own pom dependency section, bom is about dependencyManagement."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1653682563,"post_id":72409437,"comment_id":127918812,"body_markdown":"Yes, I know that, but simply referring to the junit-bom as an import in my service didn&#39;t work. It still ended up with the older versions.","body":"Yes, I know that, but simply referring to the junit-bom as an import in my service didn&#39;t work. It still ended up with the older versions."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1653682626,"post_id":72409437,"comment_id":127918827,"body_markdown":"Furthermore a remark about your given test because you are using `TestPropertySource`. which usually only makes sense if you have a spring boot test...but here you only use mockito. Can you explain why you are using `MockitoAnnotations.initMocks(this);` in your beforeEach method? If you use the Mockito Extension you don&#39;t need to do this manually...","body":"Furthermore a remark about your given test because you are using <code>TestPropertySource</code>. which usually only makes sense if you have a spring boot test...but here you only use mockito. Can you explain why you are using <code>MockitoAnnotations.initMocks(this);</code> in your beforeEach method? If you use the Mockito Extension you don&#39;t need to do this manually..."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":1,"creation_date":1653682695,"post_id":72409437,"comment_id":127918843,"body_markdown":"I&#39;m aware of that. This was written by someone else. Clearly, how mockito initializes its mocks won&#39;t matter if it never executes the test.","body":"I&#39;m aware of that. This was written by someone else. Clearly, how mockito initializes its mocks won&#39;t matter if it never executes the test."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1653686155,"post_id":72409437,"comment_id":127919705,"body_markdown":"I added some more info about running a JUnit 4 test. I would include the entire pom (with elisions), but it&#39;s 229k, much more than the limit.","body":"I added some more info about running a JUnit 4 test. I would include the entire pom (with elisions), but it&#39;s 229k, much more than the limit."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1653688569,"post_id":72409437,"comment_id":127920228,"body_markdown":"Did you add the junit-vintage-engine to the plugin dependencies of the surefire plugin as described [here](https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html#JUnit4_API_in_test_dependencies)? And according to the rest of the docs on that page it doesn&#39;t look like a good idea to copy literally just all the artifacts of the bom as your dependencies. When overriding the Spring Boot versions doesn&#39;t work the way you tried it first, for me this is a smell if &quot;brute force&quot; brings you one small step further.","body":"Did you add the junit-vintage-engine to the plugin dependencies of the surefire plugin as described <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html#JUnit4_API_in_test_dependencies\" rel=\"nofollow noreferrer\">here</a>? And according to the rest of the docs on that page it doesn&#39;t look like a good idea to copy literally just all the artifacts of the bom as your dependencies. When overriding the Spring Boot versions doesn&#39;t work the way you tried it first, for me this is a smell if &quot;brute force&quot; brings you one small step further."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1653690422,"post_id":72409437,"comment_id":127920539,"body_markdown":"I had forgotten to add the plugin dependency, but adding that made no difference.","body":"I had forgotten to add the plugin dependency, but adding that made no difference."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1653725156,"post_id":72409437,"comment_id":127924694,"body_markdown":"Adding the junit-vintage-engine to the plugin dependenices is not needed. Best would be to make a minimal spring boot setup which contains the same setup and put it on github or alike... it&#39;s easier than dicussing this here...","body":"Adding the junit-vintage-engine to the plugin dependenices is not needed. Best would be to make a minimal spring boot setup which contains the same setup and put it on github or alike... it&#39;s easier than dicussing this here..."}],"answers":[{"tags":[],"owner":{"account_id":20022941,"reputation":70,"user_id":14677456,"display_name":"Lovelin B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682369659,"creation_date":1682369659,"answer_id":76096033,"question_id":72409437,"body_markdown":"Uou will have to tell Surefire plugin to use the correct test provider, for JUnit 5, it would be surefire-junit-platform\r\n\r\nAdd the following dependency for the Surefire plugin to select JUnit Jupiter.\r\n\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;surefire-junit-platform&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\r\n\r\n\r\nReference:\r\nhttps://maven.apache.org/surefire/maven-failsafe-plugin/examples/providers.html","title":"Why does Surefire not find any tests when upgrading to JUnit 5?","body":"<p>Uou will have to tell Surefire plugin to use the correct test provider, for JUnit 5, it would be surefire-junit-platform</p>\n<p>Add the following dependency for the Surefire plugin to select JUnit Jupiter.</p>\n<pre><code>            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n                    &lt;artifactId&gt;surefire-junit-platform&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n</code></pre>\n<p>Reference:\n<a href=\"https://maven.apache.org/surefire/maven-failsafe-plugin/examples/providers.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/surefire/maven-failsafe-plugin/examples/providers.html</a></p>\n"}],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":643,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1682369659,"creation_date":1653674588,"question_id":72409437,"body_markdown":"There are common reasons why the subject question might be happening, but this is not a typical situation.\r\n\r\nWe had many services with working JUnit4 tests.  We are working on a process of upgrading multiple elements of our platform, including moving from Java 8 to Java 11, and JUnit 4 to mostly JUnit 5.\r\n\r\nI am looking at two services that we&#39;ve worked on converting.  In both cases, we are using all the artifacts in junit-bom-5.8.2, and both with Java 11.  We are also using maven-surefire-plugin v3.0.0-M6.  We need a fix for running test suites that is only available in that version.\r\n\r\nIn one service, we converted many of the tests from JUnit 4 to JUnit 5, but not all of them.  We are managing to get all of these tests to succeed.\r\n\r\nIn another service, all of the tests were converted to JUnit 5.  In that case, an odd thing happens when we run the tests from mvn.  It simply says: \r\n\r\n    Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\n\r\nI tried running with &quot;-X&quot;.  That didn&#39;t tell me anything useful.\r\n\r\nWe have a &quot;UnitTestSuite&quot; class that contains all, or at least most, of our unit test classes.  I ran that from the command line.  For every test it tried to execute there, it said:\r\n\r\n    java.lang.Exception: No runnable methods\r\n\t    at org.junit.runners.BlockJUnit4ClassRunner.validateInstanceMethods(BlockJUnit4ClassRunner.java:191)\r\n\r\nThe fact that it thinks this is a JUnit 4 test is obviously a clue, but I don&#39;t know what it means.\r\n\r\nNote that one of the dependencies we are loading is the `junit-vintage-engine`, but we are loading that with the other service with mixed JUnit 4 and JUnit 5 tests.\r\n\r\nIt almost seems as if the service has mixed JUnit 4 and JUnit 5, it chooses the correct runner for each, but if the service ONLY has JUnit 5 tests, it only chooses the JUnit 4 runner.\r\n\r\nWe are loading the vintage engine in our parent pom. I will work on building a version that excludes that, just to see if that&#39;s what&#39;s happening, but that will be a big pain if that&#39;s really what we have to do.\r\n\r\nI went through the steps to ensure that the vintage engine was not provided, but it didn&#39;t change anything.  It&#39;s still failing to find any runnable methods.\r\n\r\nFor instance, here is a somewhat elided excerpt of the first test class that it says it can&#39;t find any runnable methods for:\r\n\r\n    ...\r\n    import org.junit.jupiter.api.Test;\r\n    ...\r\n\t\r\n\t@SuppressWarnings(&quot;deprecation&quot;)\r\n\t@ExtendWith(MockitoExtension.class)\r\n\t@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\r\n\tpublic class ...Test {\r\n\r\n\t\t@InjectMocks\r\n\t\t...\r\n\r\n\t\t@Mock\r\n\t\tprivate ...\r\n\r\n        ...\r\n\r\n\t\t@BeforeEach\r\n\t\tpublic void setUp() throws Exception {\r\n\t\t\tMockitoAnnotations.initMocks(this);\r\n            ...\r\n\t\t}\r\n\r\n\t\t@Test\r\n\t\tpublic void getCrmResponse_success() throws Exception {\r\n\r\nAnd note again, the &quot;no runnable methods&quot; exception occurs in the `BlockJUnit4ClassRunner` class, so it&#39;s confused about what JUnit to use for this.\r\n\r\nI tried adding a dummy JUnit 4 test, and this was the only test it found:\r\n\r\n\t[INFO] --- maven-surefire-plugin:3.0.0-M6:test (default-test) @ PlatformPilotMs ---\r\n\t[INFO] Using auto detected provider org.apache.maven.surefire.junit4.JUnit4Provider\r\n\t[INFO] \r\n\t[INFO] -------------------------------------------------------\r\n\t[INFO]  T E S T S\r\n\t[INFO] -------------------------------------------------------\r\n\t[INFO] Running ...DummyTest\r\n\t[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.102 s - in ...DummyTest\r\n\t[INFO] \r\n\t[INFO] Results:\r\n\t[INFO] \r\n\t[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0\r\n","title":"Why does Surefire not find any tests when upgrading to JUnit 5?","body":"<p>There are common reasons why the subject question might be happening, but this is not a typical situation.</p>\n<p>We had many services with working JUnit4 tests.  We are working on a process of upgrading multiple elements of our platform, including moving from Java 8 to Java 11, and JUnit 4 to mostly JUnit 5.</p>\n<p>I am looking at two services that we've worked on converting.  In both cases, we are using all the artifacts in junit-bom-5.8.2, and both with Java 11.  We are also using maven-surefire-plugin v3.0.0-M6.  We need a fix for running test suites that is only available in that version.</p>\n<p>In one service, we converted many of the tests from JUnit 4 to JUnit 5, but not all of them.  We are managing to get all of these tests to succeed.</p>\n<p>In another service, all of the tests were converted to JUnit 5.  In that case, an odd thing happens when we run the tests from mvn.  It simply says:</p>\n<pre><code>Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\n</code></pre>\n<p>I tried running with &quot;-X&quot;.  That didn't tell me anything useful.</p>\n<p>We have a &quot;UnitTestSuite&quot; class that contains all, or at least most, of our unit test classes.  I ran that from the command line.  For every test it tried to execute there, it said:</p>\n<pre><code>java.lang.Exception: No runnable methods\n    at org.junit.runners.BlockJUnit4ClassRunner.validateInstanceMethods(BlockJUnit4ClassRunner.java:191)\n</code></pre>\n<p>The fact that it thinks this is a JUnit 4 test is obviously a clue, but I don't know what it means.</p>\n<p>Note that one of the dependencies we are loading is the <code>junit-vintage-engine</code>, but we are loading that with the other service with mixed JUnit 4 and JUnit 5 tests.</p>\n<p>It almost seems as if the service has mixed JUnit 4 and JUnit 5, it chooses the correct runner for each, but if the service ONLY has JUnit 5 tests, it only chooses the JUnit 4 runner.</p>\n<p>We are loading the vintage engine in our parent pom. I will work on building a version that excludes that, just to see if that's what's happening, but that will be a big pain if that's really what we have to do.</p>\n<p>I went through the steps to ensure that the vintage engine was not provided, but it didn't change anything.  It's still failing to find any runnable methods.</p>\n<p>For instance, here is a somewhat elided excerpt of the first test class that it says it can't find any runnable methods for:</p>\n<pre><code>...\nimport org.junit.jupiter.api.Test;\n...\n\n@SuppressWarnings(&quot;deprecation&quot;)\n@ExtendWith(MockitoExtension.class)\n@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\npublic class ...Test {\n\n    @InjectMocks\n    ...\n\n    @Mock\n    private ...\n\n    ...\n\n    @BeforeEach\n    public void setUp() throws Exception {\n        MockitoAnnotations.initMocks(this);\n        ...\n    }\n\n    @Test\n    public void getCrmResponse_success() throws Exception {\n</code></pre>\n<p>And note again, the &quot;no runnable methods&quot; exception occurs in the <code>BlockJUnit4ClassRunner</code> class, so it's confused about what JUnit to use for this.</p>\n<p>I tried adding a dummy JUnit 4 test, and this was the only test it found:</p>\n<pre><code>[INFO] --- maven-surefire-plugin:3.0.0-M6:test (default-test) @ PlatformPilotMs ---\n[INFO] Using auto detected provider org.apache.maven.surefire.junit4.JUnit4Provider\n[INFO] \n[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] Running ...DummyTest\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.102 s - in ...DummyTest\n[INFO] \n[INFO] Results:\n[INFO] \n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0\n</code></pre>\n"},{"tags":["java","spring-boot","apache-camel","serversocket"],"comments":[{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":0,"creation_date":1676107832,"post_id":75407279,"comment_id":133074201,"body_markdown":"Is `telnet localhost 6666` responding something or not ?","body":"Is <code>telnet localhost 6666</code> responding something or not ?"},{"owner":{"account_id":19449285,"reputation":19,"user_id":14226098,"display_name":"Om Prakash"},"score":0,"creation_date":1676197620,"post_id":75407279,"comment_id":133085672,"body_markdown":"@TacheDeChoco No, In the logs it is showing nothing, and Thanks for responding for the question","body":"@TacheDeChoco No, In the logs it is showing nothing, and Thanks for responding for the question"}],"owner":{"account_id":19449285,"reputation":19,"user_id":14226098,"display_name":"Om Prakash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682369499,"creation_date":1676006835,"question_id":75407279,"body_markdown":"Basically what I am doing is that I am send data from server Socket (using netty) to activemq and then want to read the data from activemq to server Socket (using netty), from Server Socket to activemq I am successfully able to read the data but when I am trying to read the same data from activemq to Server Socket then my server socket is not able to read the data.\r\n\r\nThese are the following things what I tried and got errors\r\n\r\nIntially I got this error &quot;org.apache.camel.ExchangeTimedOutException: The OUT message was not received within: 20000 millis&quot; , so to resolve this error I have tried two arguments in my activemq is **ExchangePattern.InOnly** and **disableRepltTo=false/true(both)**, Although from this, my exception went off but still my ServerSocket is not able to read the data from activemq to serverSocket \r\n\r\nHere is my code \r\n\r\n```\r\nfrom(&quot;netty:tcp://localhost:6665&quot;)\r\n.log(&quot;log:Sending message from --&gt;${body}&quot;)\r\n.to(&quot;activemq:Test&quot;);\r\n\t\t\r\nfrom(&quot;activemq:Test?exchangePattern=InOnly&quot;)\r\n.log(&quot;log:Sending message from --&gt;${body}&quot;)\r\n.to(&quot;netty:tcp://localhost:6666?textline=true&amp;sync=false&amp;clientMode=true&quot;);\r\n```","title":"How to Receive a data from activemq to Server Socket(using netty) using apache camel","body":"<p>Basically what I am doing is that I am send data from server Socket (using netty) to activemq and then want to read the data from activemq to server Socket (using netty), from Server Socket to activemq I am successfully able to read the data but when I am trying to read the same data from activemq to Server Socket then my server socket is not able to read the data.</p>\n<p>These are the following things what I tried and got errors</p>\n<p>Intially I got this error &quot;org.apache.camel.ExchangeTimedOutException: The OUT message was not received within: 20000 millis&quot; , so to resolve this error I have tried two arguments in my activemq is <strong>ExchangePattern.InOnly</strong> and <strong>disableRepltTo=false/true(both)</strong>, Although from this, my exception went off but still my ServerSocket is not able to read the data from activemq to serverSocket</p>\n<p>Here is my code</p>\n<pre><code>from(&quot;netty:tcp://localhost:6665&quot;)\n.log(&quot;log:Sending message from --&gt;${body}&quot;)\n.to(&quot;activemq:Test&quot;);\n        \nfrom(&quot;activemq:Test?exchangePattern=InOnly&quot;)\n.log(&quot;log:Sending message from --&gt;${body}&quot;)\n.to(&quot;netty:tcp://localhost:6666?textline=true&amp;sync=false&amp;clientMode=true&quot;);\n</code></pre>\n"},{"tags":["java","ssl","ssl-client-authentication"],"answers":[{"tags":[],"owner":{"account_id":11908021,"reputation":61,"user_id":8714063,"display_name":"jcamsler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614350860,"creation_date":1614350860,"answer_id":66387897,"question_id":66371228,"body_markdown":"Add -Djavax.net.debug=all in your java startup command line, you will have more informations.\r\nAfter you could diagnose your issue.\r\nJC\r\n","title":"SSLContext not using certificate from the JVM TrustStore","body":"<p>Add -Djavax.net.debug=all in your java startup command line, you will have more informations.\nAfter you could diagnose your issue.\nJC</p>\n"},{"tags":[],"owner":{"account_id":13327299,"reputation":21,"user_id":9619843,"display_name":"War Machine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682369440,"creation_date":1676143099,"answer_id":75422733,"question_id":66371228,"body_markdown":"I might be late with a potential answer. But I faced same issue and as per my experience due to some issue while setting up the SSLContext, provided trustStores and keyStores are not picked up in Java 11 specifically for me. So I had to set them up using JVM arguments. But setting trustStore and keyStore is not enough, please set up the passwords too for both of them. This worked for me. Additionally I also set up the TLS protocol to TLSv1.2. I hope this helps.","title":"SSLContext not using certificate from the JVM TrustStore","body":"<p>I might be late with a potential answer. But I faced same issue and as per my experience due to some issue while setting up the SSLContext, provided trustStores and keyStores are not picked up in Java 11 specifically for me. So I had to set them up using JVM arguments. But setting trustStore and keyStore is not enough, please set up the passwords too for both of them. This worked for me. Additionally I also set up the TLS protocol to TLSv1.2. I hope this helps.</p>\n"}],"owner":{"account_id":19719372,"reputation":242,"user_id":14438087,"display_name":"DjangoDev1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":496,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1682369440,"creation_date":1614265829,"question_id":66371228,"body_markdown":"I need to send a request to a server that uses TLS Client Authentication. For that, I created a PKCS12 file with my certificate and private key and set it in the SSLContext as a KeyManager. \r\n\r\n    KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n    keystoreInputStream = new FileInputStream(&quot;C:/Users/PC/Desktop/certprivate.p12&quot;);\r\n    keystore.load(keystoreInputStream, &quot;password&quot;.toCharArray());\r\n    \r\n    KeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\r\n    kmf.init(keystore, &quot;password&quot;.toCharArray());\r\n    \r\n    SSLContext sc = SSLContext.getInstance(&quot;TLSv1.3&quot;);\r\n    sc.init(kmf.getKeyManagers(), null, null);\r\n\r\nI also used keytool to add the certificate from the server in the `cacerts` store and while that didn&#39;t work, I used InstallCerts to download I guess all of the intermediary certificates and installed thoses in cacerts. The problem I&#39;m getting now is `400 No required SSL certificate was sent`. \r\n\r\nI&#39;m not sure why this shows up, when from my understanding, if the `TrustManager` is set to null, it will use the default TrustManager which in this case is:\r\n\r\n    String certificatesTrustStorePath = &quot;C:/Program Files/Java/jdk-15.0.2/lib/security/cacerts&quot;;\r\n    System.setProperty(&quot;javax.net.ssl.trustStore&quot;, certificatesTrustStorePath);\r\n    System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;changeit&quot;);\r\n\r\nEDIT: I don&#39;t get why the request is failing as the TLS handshake has been completed. Otherwise I would have gotten some other error/exception.\r\n\r\n","title":"SSLContext not using certificate from the JVM TrustStore","body":"<p>I need to send a request to a server that uses TLS Client Authentication. For that, I created a PKCS12 file with my certificate and private key and set it in the SSLContext as a KeyManager.</p>\n<pre><code>KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\nkeystoreInputStream = new FileInputStream(&quot;C:/Users/PC/Desktop/certprivate.p12&quot;);\nkeystore.load(keystoreInputStream, &quot;password&quot;.toCharArray());\n\nKeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\nkmf.init(keystore, &quot;password&quot;.toCharArray());\n\nSSLContext sc = SSLContext.getInstance(&quot;TLSv1.3&quot;);\nsc.init(kmf.getKeyManagers(), null, null);\n</code></pre>\n<p>I also used keytool to add the certificate from the server in the <code>cacerts</code> store and while that didn't work, I used InstallCerts to download I guess all of the intermediary certificates and installed thoses in cacerts. The problem I'm getting now is <code>400 No required SSL certificate was sent</code>.</p>\n<p>I'm not sure why this shows up, when from my understanding, if the <code>TrustManager</code> is set to null, it will use the default TrustManager which in this case is:</p>\n<pre><code>String certificatesTrustStorePath = &quot;C:/Program Files/Java/jdk-15.0.2/lib/security/cacerts&quot;;\nSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;, certificatesTrustStorePath);\nSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;changeit&quot;);\n</code></pre>\n<p>EDIT: I don't get why the request is failing as the TLS handshake has been completed. Otherwise I would have gotten some other error/exception.</p>\n"},{"tags":["java","cdi","quarkus","inject"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1677514699,"post_id":75582324,"comment_id":133348351,"body_markdown":"your code requires a `@PostConstruct` to be fully working but @iabughosh solution is better.","body":"your code requires a <code>@PostConstruct</code> to be fully working but @iabughosh solution is better."}],"answers":[{"tags":[],"owner":{"account_id":14122292,"reputation":501,"user_id":10202496,"display_name":"iabughosh"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1677512943,"creation_date":1677512943,"answer_id":75582638,"question_id":75582324,"body_markdown":"How about doing it this way:\r\n\r\n    @ApplicationScoped\r\n    public class AppScopeTest {\r\n    \r\n        private final String test;\r\n        \r\n        private TestClass testclass;\r\n    \r\n        @Inject\r\n        public AppScopeTest (@ConfigProperty(name = &quot;my-config-prop&quot;) String test) {\r\n            this.testClass = new TestClass(test);\r\n        }\r\n    }","title":"Java Quarkus how can I pass @ConfigProperty to an constructor?","body":"<p>How about doing it this way:</p>\n<pre><code>@ApplicationScoped\npublic class AppScopeTest {\n\n    private final String test;\n    \n    private TestClass testclass;\n\n    @Inject\n    public AppScopeTest (@ConfigProperty(name = &quot;my-config-prop&quot;) String test) {\n        this.testClass = new TestClass(test);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26633402,"reputation":47,"user_id":21166611,"display_name":"santi254"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":676,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75582638,"answer_count":1,"score":2,"last_activity_date":1682368940,"creation_date":1677511203,"question_id":75582324,"body_markdown":"I have the following class:\r\n\r\n```java\r\n@ApplicationScoped\r\npublic class AppScopeTest {\r\n\r\n    @ConfigProperty(name = &quot;my-config-prop&quot;)\r\n    String test;\r\n    \r\n    private TestClass testclass;\r\n\r\n    @Inject\r\n    public AppScopeTest () {\r\n        this.testClass= new TestClass (test);\r\n    }\r\n}\r\n```\r\n\r\nI have a few classes that want a new instance of `TestClass` created once that class is created. example is shown above. But if I do it this way the string Test is always null inside the class `TestClass`.\r\n\r\nSo my questions is how can I read a config property create a new instance of `TestClass` that takes that config property as an argument?\r\n\r\nI don&#39;t want this to be a method call because when `AppScopeTest` is created I want an instance of `TestClass`","title":"Java Quarkus how can I pass @ConfigProperty to an constructor?","body":"<p>I have the following class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ApplicationScoped\npublic class AppScopeTest {\n\n    @ConfigProperty(name = &quot;my-config-prop&quot;)\n    String test;\n    \n    private TestClass testclass;\n\n    @Inject\n    public AppScopeTest () {\n        this.testClass= new TestClass (test);\n    }\n}\n</code></pre>\n<p>I have a few classes that want a new instance of <code>TestClass</code> created once that class is created. example is shown above. But if I do it this way the string Test is always null inside the class <code>TestClass</code>.</p>\n<p>So my questions is how can I read a config property create a new instance of <code>TestClass</code> that takes that config property as an argument?</p>\n<p>I don't want this to be a method call because when <code>AppScopeTest</code> is created I want an instance of <code>TestClass</code></p>\n"},{"tags":["java","one-simulator","dtn"],"answers":[{"tags":[],"owner":{"account_id":6798622,"reputation":26,"user_id":5232855,"display_name":"Ari Ker&#228;nen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682367368,"creation_date":1682367368,"answer_id":76095769,"question_id":75783309,"body_markdown":"You can &quot;tag&quot; and/or &quot;add content&quot; to messages using the [addProperty][1] method (and read with getProperty). That&#39;s probably the best way forward here.\r\n\r\n\r\n  [1]: https://github.com/akeranen/the-one/blob/master/src/core/Message.java#L284","title":"Delay Tolerant Network(DTN) combining Information Centric Network via ONE simulator","body":"<p>You can &quot;tag&quot; and/or &quot;add content&quot; to messages using the <a href=\"https://github.com/akeranen/the-one/blob/master/src/core/Message.java#L284\" rel=\"nofollow noreferrer\">addProperty</a> method (and read with getProperty). That's probably the best way forward here.</p>\n"}],"owner":{"account_id":28058500,"reputation":11,"user_id":21433120,"display_name":"JustaHuman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1682367368,"creation_date":1679242115,"question_id":75783309,"body_markdown":"How can I use the ONE simulator to implement the combination of the NDN network in a DTN network environment, can I add or extract the &quot;content&quot; of the packet or, at least a tag of a packet? \r\n\r\nI have looked through many papers, but none of them used the ONE simulator for ICDTN simulation.","title":"Delay Tolerant Network(DTN) combining Information Centric Network via ONE simulator","body":"<p>How can I use the ONE simulator to implement the combination of the NDN network in a DTN network environment, can I add or extract the &quot;content&quot; of the packet or, at least a tag of a packet?</p>\n<p>I have looked through many papers, but none of them used the ONE simulator for ICDTN simulation.</p>\n"},{"tags":["java","android","android-package-managers","android-multiple-users","android-work-profile"],"comments":[{"owner":{"account_id":10782038,"reputation":1413,"user_id":7932271,"display_name":"DavidW"},"score":0,"creation_date":1565104835,"post_id":57266451,"comment_id":101243024,"body_markdown":"Can&#39;t you construct your solution using the code/technique in your &quot;Edit 3?&quot;  IIRC, `ServiceManager` isn&#39;t public, but you should be able to call it by reflection, see https://stackoverflow.com/a/53800108/7932271","body":"Can&#39;t you construct your solution using the code/technique in your &quot;Edit 3?&quot;  IIRC, <code>ServiceManager</code> isn&#39;t public, but you should be able to call it by reflection, see <a href=\"https://stackoverflow.com/a/53800108/7932271\">stackoverflow.com/a/53800108/7932271</a>"}],"answers":[{"tags":[],"owner":{"account_id":10026087,"reputation":116,"user_id":7414220,"display_name":"NightDice"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1565097048,"creation_date":1565097048,"answer_id":57376866,"question_id":57266451,"body_markdown":"I found the code for the `ParceledListSlice` [here][1], and the code for the `Parcelable` interface it implements [here][2]. It looks like it uses some form of array internally, so you should be able to iterate over that. I can&#39;t actually say if this will be helpful to you or not, because I&#39;m not all that familiar with these Libraries, but I hope it&#39;s a starting point. Good Luck!\r\n\r\n\r\n  [1]: https://android.googlesource.com/platform/frameworks/base/+/c80f952/core/java/android/content/pm/ParceledListSlice.java\r\n  [2]: https://developer.android.com/reference/android/os/Parcelable","title":"Get list of apps of all users","body":"<p>I found the code for the <code>ParceledListSlice</code> <a href=\"https://android.googlesource.com/platform/frameworks/base/+/c80f952/core/java/android/content/pm/ParceledListSlice.java\" rel=\"nofollow noreferrer\">here</a>, and the code for the <code>Parcelable</code> interface it implements <a href=\"https://developer.android.com/reference/android/os/Parcelable\" rel=\"nofollow noreferrer\">here</a>. It looks like it uses some form of array internally, so you should be able to iterate over that. I can't actually say if this will be helpful to you or not, because I'm not all that familiar with these Libraries, but I hope it's a starting point. Good Luck!</p>\n"},{"tags":[],"owner":{"account_id":11199807,"reputation":242,"user_id":8217279,"display_name":"Anubhav Malik"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1565163508,"creation_date":1565163508,"answer_id":57389247,"question_id":57266451,"body_markdown":"    private static JSONArray getAllAppNames() {\r\n            JSONArray appNameList = new JSONArray();\r\n            List&lt;PackageInfo&gt; packs = GlobalApplication.getContextOfApplication().getPackageManager().getInstalledPackages(0);\r\n            for (int i = 0; i &lt; packs.size(); i++) {\r\n                PackageInfo p = packs.get(i);\r\n                if ((!isSystemPackage(p))) {\r\n                    String appName = p.applicationInfo.loadLabel(GlobalApplication.getContextOfApplication().getPackageManager()).toString();\r\n                    appNameList.put(appName);\r\n                }\r\n            }\r\n            return appNameList;\r\n        }\r\n    \r\n        private static boolean isSystemPackage(PackageInfo pkgInfo) {\r\n            return (pkgInfo.applicationInfo.flags &amp; ApplicationInfo.FLAG_SYSTEM) != 0;\r\n        }\r\n\r\n\r\nThis should more or less solve your basic problem","title":"Get list of apps of all users","body":"<pre><code>private static JSONArray getAllAppNames() {\n        JSONArray appNameList = new JSONArray();\n        List&lt;PackageInfo&gt; packs = GlobalApplication.getContextOfApplication().getPackageManager().getInstalledPackages(0);\n        for (int i = 0; i &lt; packs.size(); i++) {\n            PackageInfo p = packs.get(i);\n            if ((!isSystemPackage(p))) {\n                String appName = p.applicationInfo.loadLabel(GlobalApplication.getContextOfApplication().getPackageManager()).toString();\n                appNameList.put(appName);\n            }\n        }\n        return appNameList;\n    }\n\n    private static boolean isSystemPackage(PackageInfo pkgInfo) {\n        return (pkgInfo.applicationInfo.flags &amp; ApplicationInfo.FLAG_SYSTEM) != 0;\n    }\n</code></pre>\n\n<p>This should more or less solve your basic problem</p>\n"},{"tags":[],"owner":{"account_id":916536,"reputation":1199,"user_id":949224,"display_name":"dr_g"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1565715709,"creation_date":1565714601,"answer_id":57482080,"question_id":57266451,"body_markdown":"You can apply the approach you mentioned in your first EDIT and EDIT2 and use Android&#39;s shell, since you mentioned your device has root permissions. \r\n\r\nBy the way, I&#39;m not familiar with the library from &quot;stericson&quot; you are using, but I agree with leveraging existing libraries to make your life easier; I am using [libsuperuser][1]. Otherwise, you can write code to run shell commands using Process etc. yourself (but there are lots of things to consider with handling error output, closing objects, and so forth).\r\n\r\n    private List&lt;String&gt; listAllInstalledApps(){\r\n        String user = &quot;0&quot;; //can modify to iterate over all users \r\n        if (Shell.SU.available()) {\r\n            //grab user installed package names\r\n            List&lt;String&gt; output =\r\n                Shell.SU.run(&quot;pm list packages --user &quot; + user + &quot; -3&quot;);\r\n            StringBuilder csvBuilder = new StringBuilder();\r\n\r\n            for(String item : output){\r\n                csvBuilder.append(item);\r\n                csvBuilder.append(&quot;, &quot;);\r\n            }\r\n            Log.info(TAG, &quot;Obtained installed apps: &quot; + csvBuilder.toString());\r\n            return output;\r\n        }\r\n        return new ArrayList&lt;&gt;();\r\n    }\r\nOf course, you can use other arguments to pm as necessary such as `-e, -d` see [documentation][2]. \r\n\r\nOnce you extract the package names, get all required info (as is contained in `ApplicationInfo`) using _dumpsys_\r\n\r\n    //package names extracted from List&lt;String&gt; you returned earlier\r\n    for( String name : packageNames ){\r\n        List&lt;String&gt; appInfo =\r\n                Shell.SU.run(&quot;dumpsys package &quot; + name);\r\n        //search appInfo for info you need e.g. grantedPermissions, targetSdk...\r\n    }\r\n\r\nCreate ApplicationInfo objects as required, if you have downstream code that requires this object type specifically\r\n\r\n    ApplicationInfo info = new ApplicationInfo();\r\n    info.uid = uid;\r\n    info.processName = processName;\r\n    info.className = classname;\r\n    info.packageName = packageName;\r\n    info.minSdkVersion = minSdkVersion;\r\n    //etc...\r\n\r\n(fields of the `ApplicationInfo` class are public). This is also true of `PackageInfo` which is an object that contains an `ApplicationInfo` field, plus it contains details of the install time etc. which are also details you can extract from the dumpsys output. So you could create an array of these as you wish and can be populated with your new `ApplicationInfo` objects.\r\n\r\n  [1]: https://github.com/Chainfire/libsuperuser\r\n  [2]: http://adbshell.com/commands/adb-shell-pm-list-packages","title":"Get list of apps of all users","body":"<p>You can apply the approach you mentioned in your first EDIT and EDIT2 and use Android's shell, since you mentioned your device has root permissions. </p>\n\n<p>By the way, I'm not familiar with the library from \"stericson\" you are using, but I agree with leveraging existing libraries to make your life easier; I am using <a href=\"https://github.com/Chainfire/libsuperuser\" rel=\"nofollow noreferrer\">libsuperuser</a>. Otherwise, you can write code to run shell commands using Process etc. yourself (but there are lots of things to consider with handling error output, closing objects, and so forth).</p>\n\n<pre><code>private List&lt;String&gt; listAllInstalledApps(){\n    String user = \"0\"; //can modify to iterate over all users \n    if (Shell.SU.available()) {\n        //grab user installed package names\n        List&lt;String&gt; output =\n            Shell.SU.run(\"pm list packages --user \" + user + \" -3\");\n        StringBuilder csvBuilder = new StringBuilder();\n\n        for(String item : output){\n            csvBuilder.append(item);\n            csvBuilder.append(\", \");\n        }\n        Log.info(TAG, \"Obtained installed apps: \" + csvBuilder.toString());\n        return output;\n    }\n    return new ArrayList&lt;&gt;();\n}\n</code></pre>\n\n<p>Of course, you can use other arguments to pm as necessary such as <code>-e, -d</code> see <a href=\"http://adbshell.com/commands/adb-shell-pm-list-packages\" rel=\"nofollow noreferrer\">documentation</a>. </p>\n\n<p>Once you extract the package names, get all required info (as is contained in <code>ApplicationInfo</code>) using <em>dumpsys</em></p>\n\n<pre><code>//package names extracted from List&lt;String&gt; you returned earlier\nfor( String name : packageNames ){\n    List&lt;String&gt; appInfo =\n            Shell.SU.run(\"dumpsys package \" + name);\n    //search appInfo for info you need e.g. grantedPermissions, targetSdk...\n}\n</code></pre>\n\n<p>Create ApplicationInfo objects as required, if you have downstream code that requires this object type specifically</p>\n\n<pre><code>ApplicationInfo info = new ApplicationInfo();\ninfo.uid = uid;\ninfo.processName = processName;\ninfo.className = classname;\ninfo.packageName = packageName;\ninfo.minSdkVersion = minSdkVersion;\n//etc...\n</code></pre>\n\n<p>(fields of the <code>ApplicationInfo</code> class are public). This is also true of <code>PackageInfo</code> which is an object that contains an <code>ApplicationInfo</code> field, plus it contains details of the install time etc. which are also details you can extract from the dumpsys output. So you could create an array of these as you wish and can be populated with your new <code>ApplicationInfo</code> objects.</p>\n"},{"tags":[],"owner":{"account_id":6732833,"reputation":390,"user_id":7317524,"display_name":"Amirhf"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1565991287,"creation_date":1565991287,"answer_id":57531393,"question_id":57266451,"body_markdown":"Get installed apps list programmatically\r\n\r\nadd code to **activity_main.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/rl&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:padding=&quot;16dp&quot;\r\n        tools:context=&quot;.MainActivity&quot;\r\n        android:background=&quot;#8fa485&quot;&gt;\r\n\r\n        &lt;ListView\r\n            android:id=&quot;@+id/lv&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;/&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\nand add code to **MainActivity.java**\r\n\r\n      @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            // Get the application context\r\n            mContext = getApplicationContext();\r\n    \r\n            // Get the activity\r\n            mActivity = MainActivity.this;\r\n    \r\n    \r\n            // Get the widgets reference from XML layout\r\n            mRelativeLayout = (RelativeLayout) findViewById(R.id.rl);\r\n            mListView = (ListView) findViewById(R.id.lv);\r\n    \r\n            // Initialize a new Intent which action is main\r\n            Intent intent = new Intent(Intent.ACTION_MAIN,null);\r\n    \r\n            // Set the newly created intent category to launcher\r\n            intent.addCategory(Intent.CATEGORY_LAUNCHER);\r\n    \r\n            // Set the intent flags\r\n            intent.setFlags(\r\n                    Intent.FLAG_ACTIVITY_NEW_TASK|\r\n                            Intent.FLAG_ACTIVITY_RESET_TASK_IF_NEEDED\r\n            );\r\n    \r\n            // Generate a list of ResolveInfo object based on intent filter\r\n            List&lt;ResolveInfo&gt; resolveInfoList = getPackageManager().queryIntentActivities(intent,0);\r\n    \r\n            // Initialize a new ArrayList for holding non system package names\r\n            List&lt;String&gt; packageNames = new ArrayList&lt;&gt;();\r\n    \r\n            // Loop through the ResolveInfo list\r\n            for(ResolveInfo resolveInfo : resolveInfoList){\r\n                // Get the ActivityInfo from current ResolveInfo\r\n                ActivityInfo activityInfo = resolveInfo.activityInfo;\r\n    \r\n                // If this is not a system app package\r\n                if(!isSystemPackage(resolveInfo)){\r\n                    // Add the non system package to the list\r\n                    packageNames.add(activityInfo.applicationInfo.packageName);\r\n                }\r\n            }\r\n    \r\n            // Initialize an ArrayAdapter using non system package names\r\n            ArrayAdapter adapter = new ArrayAdapter&lt;String&gt;(\r\n                    mContext,\r\n                    android.R.layout.simple_list_item_1,\r\n                    packageNames\r\n            );\r\n    \r\n            // DataBind the ListView with adapter\r\n            mListView.setAdapter(adapter);\r\n    \r\n            // Set an item click listener for the ListView widget\r\n            mListView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n                @Override\r\n                public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n                    // Get the ListView selected item\r\n                    String selectedItem = (String) adapterView.getItemAtPosition(i);\r\n    \r\n                    // Display a Toast notification for clicked item\r\n                    Toast.makeText(mContext,&quot;CLICKED : &quot; + selectedItem,Toast.LENGTH_SHORT).show();\r\n    \r\n                    // Get the intent to launch the specified application\r\n                    Intent intent = getPackageManager().getLaunchIntentForPackage(selectedItem);\r\n                    if(intent != null){\r\n                        startActivity(intent);\r\n                    }else {\r\n                        Toast.makeText(mContext,selectedItem + &quot; Launch Error.&quot;,Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            });\r\n    \r\n       }\r\n    \r\n        // Custom method to determine an app is system app\r\n        private boolean isSystemPackage(ResolveInfo resolveInfo){\r\n           return ((resolveInfo.activityInfo.applicationInfo.flags &amp; ApplicationInfo.FLAG_SYSTEM) != 0);\r\n        }\r\n    }\r\n\r\nYou can easily see the icons of the apps installed on your phone with a little effort and adding ImageView.","title":"Get list of apps of all users","body":"<p>Get installed apps list programmatically</p>\n\n<p>add code to <strong>activity_main.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/rl\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:padding=\"16dp\"\n    tools:context=\".MainActivity\"\n    android:background=\"#8fa485\"&gt;\n\n    &lt;ListView\n        android:id=\"@+id/lv\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"/&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>and add code to <strong>MainActivity.java</strong></p>\n\n<pre><code>  @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Get the application context\n        mContext = getApplicationContext();\n\n        // Get the activity\n        mActivity = MainActivity.this;\n\n\n        // Get the widgets reference from XML layout\n        mRelativeLayout = (RelativeLayout) findViewById(R.id.rl);\n        mListView = (ListView) findViewById(R.id.lv);\n\n        // Initialize a new Intent which action is main\n        Intent intent = new Intent(Intent.ACTION_MAIN,null);\n\n        // Set the newly created intent category to launcher\n        intent.addCategory(Intent.CATEGORY_LAUNCHER);\n\n        // Set the intent flags\n        intent.setFlags(\n                Intent.FLAG_ACTIVITY_NEW_TASK|\n                        Intent.FLAG_ACTIVITY_RESET_TASK_IF_NEEDED\n        );\n\n        // Generate a list of ResolveInfo object based on intent filter\n        List&lt;ResolveInfo&gt; resolveInfoList = getPackageManager().queryIntentActivities(intent,0);\n\n        // Initialize a new ArrayList for holding non system package names\n        List&lt;String&gt; packageNames = new ArrayList&lt;&gt;();\n\n        // Loop through the ResolveInfo list\n        for(ResolveInfo resolveInfo : resolveInfoList){\n            // Get the ActivityInfo from current ResolveInfo\n            ActivityInfo activityInfo = resolveInfo.activityInfo;\n\n            // If this is not a system app package\n            if(!isSystemPackage(resolveInfo)){\n                // Add the non system package to the list\n                packageNames.add(activityInfo.applicationInfo.packageName);\n            }\n        }\n\n        // Initialize an ArrayAdapter using non system package names\n        ArrayAdapter adapter = new ArrayAdapter&lt;String&gt;(\n                mContext,\n                android.R.layout.simple_list_item_1,\n                packageNames\n        );\n\n        // DataBind the ListView with adapter\n        mListView.setAdapter(adapter);\n\n        // Set an item click listener for the ListView widget\n        mListView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n                // Get the ListView selected item\n                String selectedItem = (String) adapterView.getItemAtPosition(i);\n\n                // Display a Toast notification for clicked item\n                Toast.makeText(mContext,\"CLICKED : \" + selectedItem,Toast.LENGTH_SHORT).show();\n\n                // Get the intent to launch the specified application\n                Intent intent = getPackageManager().getLaunchIntentForPackage(selectedItem);\n                if(intent != null){\n                    startActivity(intent);\n                }else {\n                    Toast.makeText(mContext,selectedItem + \" Launch Error.\",Toast.LENGTH_SHORT).show();\n                }\n            }\n        });\n\n   }\n\n    // Custom method to determine an app is system app\n    private boolean isSystemPackage(ResolveInfo resolveInfo){\n       return ((resolveInfo.activityInfo.applicationInfo.flags &amp; ApplicationInfo.FLAG_SYSTEM) != 0);\n    }\n}\n</code></pre>\n\n<p>You can easily see the icons of the apps installed on your phone with a little effort and adding ImageView.</p>\n"},{"tags":[],"owner":{"account_id":149141,"reputation":3052,"user_id":361413,"display_name":"bk138"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682367245,"creation_date":1682367245,"answer_id":76095748,"question_id":57266451,"body_markdown":"If you&#39;re able to access hidden API either because you&#39;re a platform app or are using introspection (with the right permissions!), you can simply use [UserManager.getUsers()](https://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/java/android/os/UserManager.java;l=3924?q=UserManager) and  [PackageManager. getInstalledApplicationsAsUser()](https://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/java/android/content/pm/PackageManager.java;l=6547?q=PackageManager&amp;ss=android%2Fplatform%2Fsuperproject):\r\n\r\n```\r\nSet&lt;ApplicationInfo&gt; installedApplications = new HashSet&lt;&gt;();\r\nfor (UserInfo user : getSystemService(UserManager.class).getUsers()) {\r\n    installedApplications.addAll(getPackageManager().getInstalledApplicationsAsUser(PackageManager.GET_META_DATA, user.id));\r\n}\r\n```","title":"Get list of apps of all users","body":"<p>If you're able to access hidden API either because you're a platform app or are using introspection (with the right permissions!), you can simply use <a href=\"https://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/java/android/os/UserManager.java;l=3924?q=UserManager\" rel=\"nofollow noreferrer\">UserManager.getUsers()</a> and  <a href=\"https://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/java/android/content/pm/PackageManager.java;l=6547?q=PackageManager&amp;ss=android%2Fplatform%2Fsuperproject\" rel=\"nofollow noreferrer\">PackageManager. getInstalledApplicationsAsUser()</a>:</p>\n<pre><code>Set&lt;ApplicationInfo&gt; installedApplications = new HashSet&lt;&gt;();\nfor (UserInfo user : getSystemService(UserManager.class).getUsers()) {\n    installedApplications.addAll(getPackageManager().getInstalledApplicationsAsUser(PackageManager.GET_META_DATA, user.id));\n}\n</code></pre>\n"}],"owner":{"account_id":3435956,"reputation":14900,"user_id":2879085,"accept_rate":54,"display_name":"Forivin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3280,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":5,"score":27,"last_activity_date":1682367245,"creation_date":1564471802,"question_id":57266451,"body_markdown":"If I want to retrieve an ApplicationInfo list for all apps of the current user, I can just run:\r\n\r\n    PackageManager pkgmanager = ctx.getPackageManager();\r\n    List&lt;ApplicationInfo&gt; installedApps = pkgmanager.getInstalledApplications(PackageManager.GET_META_DATA);\r\n\r\nBut I am looking for a way to get these lists for every user and not just the current one. The app that I&#39;m working on has root permissions btw!\r\n\r\nFrom what I understand, the user ids can be retrieved like this:\r\n\r\n    List&lt;Integer&gt; userIds = new ArrayList&lt;&gt;();\r\n    PackageManager pkgmanager = ctx.getPackageManager();\r\n    final UserManager um = (UserManager) ctx.getSystemService(Context.USER_SERVICE);\r\n    List&lt;UserHandle&gt; list = um.getUserProfiles();\r\n\r\n    for (UserHandle user : list) {\r\n        Matcher m = p.matcher(user.toString());\r\n        if (m.find()) {\r\n            int id = Integer.parseInt(m.group(1));\r\n                userIds.add(id);\r\n        }\r\n    }\r\n\r\nNow I&#39;m looking for something like this:\r\n\r\n    for (int i=0; i&lt;userIds.size(); i++) {\r\n        Integer userId = userIds.get(i)\r\n        List&lt;ApplicationInfo&gt; installedApps = pkgmanager.getInstalledApplicationsByUserId(userId, PackageManager.GET_META_DATA);\r\n    }\r\n\r\nObviously `getInstalledApplicationsByUserId` doesn&#39;t exist. \r\n\r\nAt first I thought [getPackagesForUid][1] could solve the problem, but as it turns out there is a difference between &quot;users&quot; in the Linux-sense and user profiles. Generally every single Android app runs under it&#39;s own user for isolation-purposes. But it is possible to run two apps under the same user so that they can access each others data easily. `getPackagesForUid` merely returns the names of all apps that run under the given user id, which is usually exactly one. In addition to &quot;users&quot; there are also &quot;User profiles&quot; which is what I was hoping the method was referring to. Maybe I should have also written `userProfileId` instead of `userId` in my code.\r\n\r\n**Edit**:\r\nUsing adb shell, I can retrieve the app IDs like this:\r\n\r\n    # Get user profile IDs\r\n    USER_PROFILE_IDS=&quot;$(pm list users | grep UserInfo | cut -d &#39;{&#39; -f2 | cut -d &#39;:&#39; -f1)&quot;\r\n    \r\n    # Iterate over user profile IDs\r\n    while read -r USER_PROFILE_ID ; do\r\n        # List the packages for each user profile by ID\r\n        PACKAGE_IDS_FOR_THIS_USER=&quot;$(pm list packages --user &quot;$USER_PROFILE_ID&quot; | cut -d &#39;:&#39; -f2)&quot;\r\n        echo &quot;#######################################################################&quot;\r\n        echo &quot;The user with id $USER_PROFILE_ID has the following packages installed:&quot;\r\n        echo &quot;$PACKAGE_IDS_FOR_THIS_USER&quot;\r\n    done &lt;&lt;&lt; &quot;$USER_PROFILE_IDS&quot;\r\n\r\nBut that&#39;s Bash and not Java...\r\n\r\n**Edit2**:\r\nCorrect me if I&#39;m wrong (this is the first time I&#39;ve written code in Java) but it doesn&#39;t appear like there is a Java API to do this. So the only way to do this would by using a shell. So this is what I came up with:\r\n\r\n    import com.stericson.rootshell.RootShell;\r\n    import com.stericson.rootshell.execution.Command;\r\n    import com.stericson.rootshell.execution.Shell;\r\n    import com.stericson.roottools.RootTools;\r\n    ...\r\n    public final class Api {\r\n        ...\r\n        /**\r\n         * @param ctx application context (mandatory)\r\n         * @return a list of user profile ids\r\n         */\r\n        private static List&lt;Integer&gt; getUserIds(Context ctx) {\r\n            List&lt;Integer&gt; userIds = new ArrayList&lt;&gt;();\r\n            PackageManager pkgmanager = ctx.getPackageManager();\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n                //this code will be executed on devices running ICS or later\r\n                final UserManager um = (UserManager) ctx.getSystemService(Context.USER_SERVICE);\r\n                List&lt;UserHandle&gt; list = um.getUserProfiles();\r\n        \r\n                for (UserHandle user : list) {\r\n                    Matcher m = p.matcher(user.toString());\r\n                    if (m.find()) {\r\n                        int id = Integer.parseInt(m.group(1));\r\n                        //if (id &gt; 0) {\r\n                            userIds.add(id);\r\n                        //}\r\n                    }\r\n                }\r\n            } else {\r\n                userIds.add(0);\r\n            }\r\n            return userIds;\r\n        }\r\n        \r\n        /**\r\n         * @param ctx application context (mandatory)\r\n         * @return a list of user profile ids\r\n         */\r\n        private static List&lt;String&gt; getPackageIdsByUserProfileId(Integer userId) {\r\n            List&lt;String&gt; packageIds = new ArrayList&lt;&gt;();\r\n            Command command = new Command(0, &quot;pm list packages --user &quot; + userId + &quot; | cut -d &#39;:&#39; -f2 &quot;)\r\n            {\r\n                @Override\r\n                public void commandOutput(int id, String line) { \r\n                    packageIds.add(line);\r\n                    super.commandOutput(id, line);\r\n                }\r\n            };\r\n            Shell shell = RootTools.getShell(true);\r\n            shell.add(command);\r\n        \r\n            while (!command.isFinished()) {\r\n                Thread.sleep(100);\r\n            }\r\n            return packageIds;\r\n        }\r\n    ...\r\n        /**\r\n         * @param ctx application context (mandatory)\r\n         * @return a list of applications\r\n         */\r\n        public static List&lt;PackageInfoData&gt; getApps(Context ctx, GetAppList appList) {\r\n            List&lt;Integer&gt; userIds = getUserIds();\r\n            for (int i=0; i&lt;userIds.size(); i++) {\r\n                Integer userId = userIds.get(i)\r\n                List&lt;String&gt; packageIds = getPackageIdsByUserProfileId(userId)\r\n            }\r\n            ...\r\n        }\r\n    }\r\n    \r\nBut I have no clue if this is even close to something that would actually work.\r\nAnd besides that, I only get the package ids (&quot;com.whatsapp&quot; etc) for each user profile, but I would like to get a list of [ApplicationInfo][2] just like `getInstalledApplications` returns it. I just can&#39;t think of a good way to do this. Maybe it would be possible to load the package manifests and then create ApplicationInfo instances based on them somehow?\r\n\r\n**Edit3**:\r\nI think I found the [source code for the `pm` executable][3].\r\n\r\nOddly I couldn&#39;t find a single mention of the `--user` flag in it.\r\n\r\nThe most relevant parts of the code are:\r\n\r\n    import android.os.ServiceManager;\r\n    ...\r\n    mPm = IPackageManager.Stub.asInterface(ServiceManager.getService(&quot;package&quot;));\r\n    ...\r\n    int getFlags = 0;\r\n    ...\r\n    final List&lt;PackageInfo&gt; packages = getInstalledPackages(mPm, getFlags);\r\n\r\nThe `getInstalledPackages` method simply calls `mPm.getInstalledPackages` then:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private List&lt;PackageInfo&gt; getInstalledPackages(IPackageManager pm, int flags)\r\n            throws RemoteException {\r\n        final List&lt;PackageInfo&gt; packageInfos = new ArrayList&lt;PackageInfo&gt;();\r\n        PackageInfo lastItem = null;\r\n        ParceledListSlice&lt;PackageInfo&gt; slice;\r\n        do {\r\n            final String lastKey = lastItem != null ? lastItem.packageName : null;\r\n            slice = pm.getInstalledPackages(flags, lastKey);\r\n            lastItem = slice.populateList(packageInfos, PackageInfo.CREATOR);\r\n        } while (!slice.isLastSlice());\r\n        return packageInfos;\r\n    }\r\n\r\nThis leaves me with more questions than I had before. First of all I wonder if I couldn&#39;t just import the `com.android.commands.pm` class. Secondly I wonder how I could tell it to return the packages of a specific user profile or if this even is the right piece of source code in the first place.\r\nAnd finally I wonder if I even need root permissions to use that. After all, the `if (Process.myUid() != ROOT_UID)` checks are only executed for `runRemoveProfile`, `runCreateProfile` and `runListProfiles`.\r\n\r\n**Edit4**:\r\nI was not able to find the source code of the `package` service. I was only able to find this file: `/data/system/packages.xml`. It contains some basic package information on all packages (for all user profiles), but it neither contains the actuall app names, nor does it contain information on which user profiles they belong to.\r\n\r\n**Edit5**: \r\nI think I found the [package service source code][4]. I think this method is the important one: \r\n\r\n    public ParceledListSlice&lt;PackageInfo&gt; getInstalledPackages(int flags, int userId)\r\n\r\nUnfortunately, I just don&#39;t understand the code. To me it looks like the packages are somehow coming from `mSettings.mPackages`. The variable is explained as follows in a code comment:\r\n\r\n&gt; {@link #mPackages} is used to guard all in-memory parsed package\r\n&gt; details and other related state. It is a fine-grained lock that\r\n&gt; should only be held momentarily, as it&#39;s one of the most contended\r\n&gt; locks in the system.\r\n\r\n**Edit6**:\r\nI just found another even more interesting method in that file:\r\n\r\n    public ParceledListSlice&lt;ApplicationInfo&gt; getInstalledApplications(int flags, int userId)\r\n\r\nI don&#39;t know what ParceledListSlice is, but sicne it says `&lt;ApplicationInfo&gt;` I&#39;m assuming that this is really close to my wanted `List&lt;ApplicationInfo&gt;` format. But still, I&#39;m completely clueless how I could access that functionality.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/content/pm/PackageManager.html#getPackagesForUid(int)\r\n  [2]: https://developer.android.com/reference/android/content/pm/ApplicationInfo\r\n  [3]: https://android.googlesource.com/platform/frameworks/base/+/b8678d76c3e09d0d65255f3971b6112a48e19099/cmds/pm/src/com/android/commands/pm/Pm.java\r\n  [4]: https://android.googlesource.com/platform/frameworks/base/+/master/services/core/java/com/android/server/pm/PackageManagerService.java","title":"Get list of apps of all users","body":"<p>If I want to retrieve an ApplicationInfo list for all apps of the current user, I can just run:</p>\n\n<pre><code>PackageManager pkgmanager = ctx.getPackageManager();\nList&lt;ApplicationInfo&gt; installedApps = pkgmanager.getInstalledApplications(PackageManager.GET_META_DATA);\n</code></pre>\n\n<p>But I am looking for a way to get these lists for every user and not just the current one. The app that I'm working on has root permissions btw!</p>\n\n<p>From what I understand, the user ids can be retrieved like this:</p>\n\n<pre><code>List&lt;Integer&gt; userIds = new ArrayList&lt;&gt;();\nPackageManager pkgmanager = ctx.getPackageManager();\nfinal UserManager um = (UserManager) ctx.getSystemService(Context.USER_SERVICE);\nList&lt;UserHandle&gt; list = um.getUserProfiles();\n\nfor (UserHandle user : list) {\n    Matcher m = p.matcher(user.toString());\n    if (m.find()) {\n        int id = Integer.parseInt(m.group(1));\n            userIds.add(id);\n    }\n}\n</code></pre>\n\n<p>Now I'm looking for something like this:</p>\n\n<pre><code>for (int i=0; i&lt;userIds.size(); i++) {\n    Integer userId = userIds.get(i)\n    List&lt;ApplicationInfo&gt; installedApps = pkgmanager.getInstalledApplicationsByUserId(userId, PackageManager.GET_META_DATA);\n}\n</code></pre>\n\n<p>Obviously <code>getInstalledApplicationsByUserId</code> doesn't exist. </p>\n\n<p>At first I thought <a href=\"https://developer.android.com/reference/android/content/pm/PackageManager.html#getPackagesForUid(int)\" rel=\"noreferrer\">getPackagesForUid</a> could solve the problem, but as it turns out there is a difference between \"users\" in the Linux-sense and user profiles. Generally every single Android app runs under it's own user for isolation-purposes. But it is possible to run two apps under the same user so that they can access each others data easily. <code>getPackagesForUid</code> merely returns the names of all apps that run under the given user id, which is usually exactly one. In addition to \"users\" there are also \"User profiles\" which is what I was hoping the method was referring to. Maybe I should have also written <code>userProfileId</code> instead of <code>userId</code> in my code.</p>\n\n<p><strong>Edit</strong>:\nUsing adb shell, I can retrieve the app IDs like this:</p>\n\n<pre><code># Get user profile IDs\nUSER_PROFILE_IDS=\"$(pm list users | grep UserInfo | cut -d '{' -f2 | cut -d ':' -f1)\"\n\n# Iterate over user profile IDs\nwhile read -r USER_PROFILE_ID ; do\n    # List the packages for each user profile by ID\n    PACKAGE_IDS_FOR_THIS_USER=\"$(pm list packages --user \"$USER_PROFILE_ID\" | cut -d ':' -f2)\"\n    echo \"#######################################################################\"\n    echo \"The user with id $USER_PROFILE_ID has the following packages installed:\"\n    echo \"$PACKAGE_IDS_FOR_THIS_USER\"\ndone &lt;&lt;&lt; \"$USER_PROFILE_IDS\"\n</code></pre>\n\n<p>But that's Bash and not Java...</p>\n\n<p><strong>Edit2</strong>:\nCorrect me if I'm wrong (this is the first time I've written code in Java) but it doesn't appear like there is a Java API to do this. So the only way to do this would by using a shell. So this is what I came up with:</p>\n\n<pre><code>import com.stericson.rootshell.RootShell;\nimport com.stericson.rootshell.execution.Command;\nimport com.stericson.rootshell.execution.Shell;\nimport com.stericson.roottools.RootTools;\n...\npublic final class Api {\n    ...\n    /**\n     * @param ctx application context (mandatory)\n     * @return a list of user profile ids\n     */\n    private static List&lt;Integer&gt; getUserIds(Context ctx) {\n        List&lt;Integer&gt; userIds = new ArrayList&lt;&gt;();\n        PackageManager pkgmanager = ctx.getPackageManager();\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n            //this code will be executed on devices running ICS or later\n            final UserManager um = (UserManager) ctx.getSystemService(Context.USER_SERVICE);\n            List&lt;UserHandle&gt; list = um.getUserProfiles();\n\n            for (UserHandle user : list) {\n                Matcher m = p.matcher(user.toString());\n                if (m.find()) {\n                    int id = Integer.parseInt(m.group(1));\n                    //if (id &gt; 0) {\n                        userIds.add(id);\n                    //}\n                }\n            }\n        } else {\n            userIds.add(0);\n        }\n        return userIds;\n    }\n\n    /**\n     * @param ctx application context (mandatory)\n     * @return a list of user profile ids\n     */\n    private static List&lt;String&gt; getPackageIdsByUserProfileId(Integer userId) {\n        List&lt;String&gt; packageIds = new ArrayList&lt;&gt;();\n        Command command = new Command(0, \"pm list packages --user \" + userId + \" | cut -d ':' -f2 \")\n        {\n            @Override\n            public void commandOutput(int id, String line) { \n                packageIds.add(line);\n                super.commandOutput(id, line);\n            }\n        };\n        Shell shell = RootTools.getShell(true);\n        shell.add(command);\n\n        while (!command.isFinished()) {\n            Thread.sleep(100);\n        }\n        return packageIds;\n    }\n...\n    /**\n     * @param ctx application context (mandatory)\n     * @return a list of applications\n     */\n    public static List&lt;PackageInfoData&gt; getApps(Context ctx, GetAppList appList) {\n        List&lt;Integer&gt; userIds = getUserIds();\n        for (int i=0; i&lt;userIds.size(); i++) {\n            Integer userId = userIds.get(i)\n            List&lt;String&gt; packageIds = getPackageIdsByUserProfileId(userId)\n        }\n        ...\n    }\n}\n</code></pre>\n\n<p>But I have no clue if this is even close to something that would actually work.\nAnd besides that, I only get the package ids (\"com.whatsapp\" etc) for each user profile, but I would like to get a list of <a href=\"https://developer.android.com/reference/android/content/pm/ApplicationInfo\" rel=\"noreferrer\">ApplicationInfo</a> just like <code>getInstalledApplications</code> returns it. I just can't think of a good way to do this. Maybe it would be possible to load the package manifests and then create ApplicationInfo instances based on them somehow?</p>\n\n<p><strong>Edit3</strong>:\nI think I found the <a href=\"https://android.googlesource.com/platform/frameworks/base/+/b8678d76c3e09d0d65255f3971b6112a48e19099/cmds/pm/src/com/android/commands/pm/Pm.java\" rel=\"noreferrer\">source code for the <code>pm</code> executable</a>.</p>\n\n<p>Oddly I couldn't find a single mention of the <code>--user</code> flag in it.</p>\n\n<p>The most relevant parts of the code are:</p>\n\n<pre><code>import android.os.ServiceManager;\n...\nmPm = IPackageManager.Stub.asInterface(ServiceManager.getService(\"package\"));\n...\nint getFlags = 0;\n...\nfinal List&lt;PackageInfo&gt; packages = getInstalledPackages(mPm, getFlags);\n</code></pre>\n\n<p>The <code>getInstalledPackages</code> method simply calls <code>mPm.getInstalledPackages</code> then:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\nprivate List&lt;PackageInfo&gt; getInstalledPackages(IPackageManager pm, int flags)\n        throws RemoteException {\n    final List&lt;PackageInfo&gt; packageInfos = new ArrayList&lt;PackageInfo&gt;();\n    PackageInfo lastItem = null;\n    ParceledListSlice&lt;PackageInfo&gt; slice;\n    do {\n        final String lastKey = lastItem != null ? lastItem.packageName : null;\n        slice = pm.getInstalledPackages(flags, lastKey);\n        lastItem = slice.populateList(packageInfos, PackageInfo.CREATOR);\n    } while (!slice.isLastSlice());\n    return packageInfos;\n}\n</code></pre>\n\n<p>This leaves me with more questions than I had before. First of all I wonder if I couldn't just import the <code>com.android.commands.pm</code> class. Secondly I wonder how I could tell it to return the packages of a specific user profile or if this even is the right piece of source code in the first place.\nAnd finally I wonder if I even need root permissions to use that. After all, the <code>if (Process.myUid() != ROOT_UID)</code> checks are only executed for <code>runRemoveProfile</code>, <code>runCreateProfile</code> and <code>runListProfiles</code>.</p>\n\n<p><strong>Edit4</strong>:\nI was not able to find the source code of the <code>package</code> service. I was only able to find this file: <code>/data/system/packages.xml</code>. It contains some basic package information on all packages (for all user profiles), but it neither contains the actuall app names, nor does it contain information on which user profiles they belong to.</p>\n\n<p><strong>Edit5</strong>: \nI think I found the <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/services/core/java/com/android/server/pm/PackageManagerService.java\" rel=\"noreferrer\">package service source code</a>. I think this method is the important one: </p>\n\n<pre><code>public ParceledListSlice&lt;PackageInfo&gt; getInstalledPackages(int flags, int userId)\n</code></pre>\n\n<p>Unfortunately, I just don't understand the code. To me it looks like the packages are somehow coming from <code>mSettings.mPackages</code>. The variable is explained as follows in a code comment:</p>\n\n<blockquote>\n  <p>{@link #mPackages} is used to guard all in-memory parsed package\n  details and other related state. It is a fine-grained lock that\n  should only be held momentarily, as it's one of the most contended\n  locks in the system.</p>\n</blockquote>\n\n<p><strong>Edit6</strong>:\nI just found another even more interesting method in that file:</p>\n\n<pre><code>public ParceledListSlice&lt;ApplicationInfo&gt; getInstalledApplications(int flags, int userId)\n</code></pre>\n\n<p>I don't know what ParceledListSlice is, but sicne it says <code>&lt;ApplicationInfo&gt;</code> I'm assuming that this is really close to my wanted <code>List&lt;ApplicationInfo&gt;</code> format. But still, I'm completely clueless how I could access that functionality.</p>\n"},{"tags":["java","spring","webclient","mdc"],"answers":[{"tags":[],"owner":{"account_id":5636066,"reputation":6620,"user_id":4461537,"accept_rate":89,"display_name":"Ren&#233; Winkler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682098775,"creation_date":1682098775,"answer_id":76075553,"question_id":76072770,"body_markdown":"Read and understand this series of 3 blogs:\r\nhttps://spring.io/blog/2023/03/28/context-propagation-with-project-reactor-1-the-basics","title":"How to forward MDC to ReactorClientHttpConnector","body":"<p>Read and understand this series of 3 blogs:\n<a href=\"https://spring.io/blog/2023/03/28/context-propagation-with-project-reactor-1-the-basics\" rel=\"nofollow noreferrer\">https://spring.io/blog/2023/03/28/context-propagation-with-project-reactor-1-the-basics</a></p>\n"}],"owner":{"account_id":11575798,"reputation":31,"user_id":8481139,"display_name":"Данил Ходырев"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682366838,"creation_date":1682076965,"question_id":76072770,"body_markdown":"\r\nI want log mdc by webclient logger\r\n\r\n\r\n    WebClient webClient = WebClient.builder()\r\n            .clientConnector(new ReactorClientHttpConnector(HttpClient.create()\r\n                    .wiretap(&quot;reactor.netty.http.client.HttpClient&quot;, LogLevel.DEBUG,\r\n                            AdvancedByteBufFormat.TEXTUAL, StandardCharsets.UTF_8)))\r\n    \r\n    MDC.put(&quot;mdctest&quot;, &quot;mdcvalue&quot;);\r\n    \r\n    String response = webClient.get()\r\n            .uri(&quot;http://api.geonames.org/countryCodeJSON?formatted=true&amp;lat=47.03&amp;lng=10.2&amp;username=demo&amp;style=full&quot;)\r\n            .retrieve()\r\n            .bodyToMono(String.class)\r\n            .block();\r\n    logger.info(response);\r\n\r\nHow I can forward MDC to reactor threads?\r\nI tried https://ttddyy.github.io/mdc-with-webclient-in-webmvc/ but it&#39;s not worked, log happen before onNext.","title":"How to forward MDC to ReactorClientHttpConnector","body":"<p>I want log mdc by webclient logger</p>\n<pre><code>WebClient webClient = WebClient.builder()\n        .clientConnector(new ReactorClientHttpConnector(HttpClient.create()\n                .wiretap(&quot;reactor.netty.http.client.HttpClient&quot;, LogLevel.DEBUG,\n                        AdvancedByteBufFormat.TEXTUAL, StandardCharsets.UTF_8)))\n\nMDC.put(&quot;mdctest&quot;, &quot;mdcvalue&quot;);\n\nString response = webClient.get()\n        .uri(&quot;http://api.geonames.org/countryCodeJSON?formatted=true&amp;lat=47.03&amp;lng=10.2&amp;username=demo&amp;style=full&quot;)\n        .retrieve()\n        .bodyToMono(String.class)\n        .block();\nlogger.info(response);\n</code></pre>\n<p>How I can forward MDC to reactor threads?\nI tried <a href=\"https://ttddyy.github.io/mdc-with-webclient-in-webmvc/\" rel=\"nofollow noreferrer\">https://ttddyy.github.io/mdc-with-webclient-in-webmvc/</a> but it's not worked, log happen before onNext.</p>\n"},{"tags":["java","eclipse","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1340629248,"creation_date":1340629248,"answer_id":11189874,"question_id":11189708,"body_markdown":"`Settings` | `Debugger` | `Data Views`:\r\n\r\n![Enable toString()][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/0GM5D.png","title":"Is it possible to tell IntelliJ IDEA to automatically invoke toString() on the objects inspected in watches, variables, tool tip windows?","body":"<p><code>Settings</code> | <code>Debugger</code> | <code>Data Views</code>:</p>\n\n<p><img src=\"https://i.stack.imgur.com/0GM5D.png\" alt=\"Enable toString()\"></p>\n"},{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1404597443,"creation_date":1404597443,"answer_id":24590892,"question_id":11189708,"body_markdown":"By default Intellij Idea **does** display the toString() of objects in debug view, unless you explicitly tell it not to in the dialog pointed by CrazyCoder above.  \r\n\r\nThe problem that I have found is that for some crooked reason which only the folks at JetBrains understand, IntelliJ Idea (still as of version 13) will silently ignore the above setting and it will **not** invoke toString() on classes which do not override the toString() method.  Even adding your class in the &#39;For classes from the list:&#39; will not result in invocation of toString() unless your class explicitly overrides it. So, it appears that IntelliJ Idea will never ever invoke the default toString() method of class Object. I suppose it must be allergic to it.","title":"Is it possible to tell IntelliJ IDEA to automatically invoke toString() on the objects inspected in watches, variables, tool tip windows?","body":"<p>By default Intellij Idea <strong>does</strong> display the toString() of objects in debug view, unless you explicitly tell it not to in the dialog pointed by CrazyCoder above.  </p>\n\n<p>The problem that I have found is that for some crooked reason which only the folks at JetBrains understand, IntelliJ Idea (still as of version 13) will silently ignore the above setting and it will <strong>not</strong> invoke toString() on classes which do not override the toString() method.  Even adding your class in the 'For classes from the list:' will not result in invocation of toString() unless your class explicitly overrides it. So, it appears that IntelliJ Idea will never ever invoke the default toString() method of class Object. I suppose it must be allergic to it.</p>\n"},{"tags":[],"owner":{"account_id":4967163,"reputation":611,"user_id":3996058,"display_name":"kva1966"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1409549917,"creation_date":1409549917,"answer_id":25599410,"question_id":11189708,"body_markdown":"Using IDEA 13.1: \r\n\r\nPreferences -&gt; Debugger -&gt; Data Type Renderers \r\n\r\n - +(add) new renderer, give it a name\r\n\r\n - On &#39;When rendering the node&#39; select option &#39;Use following expression&#39;, type in &#39;toString()&#39;. \r\n\r\n\r\nThis seems to give me Eclipse-like behaviour.\r\n\r\nI&#39;d paste a picture... but don&#39;t have enough points. :P\r\n","title":"Is it possible to tell IntelliJ IDEA to automatically invoke toString() on the objects inspected in watches, variables, tool tip windows?","body":"<p>Using IDEA 13.1: </p>\n\n<p>Preferences -> Debugger -> Data Type Renderers </p>\n\n<ul>\n<li><p>+(add) new renderer, give it a name</p></li>\n<li><p>On 'When rendering the node' select option 'Use following expression', type in 'toString()'. </p></li>\n</ul>\n\n<p>This seems to give me Eclipse-like behaviour.</p>\n\n<p>I'd paste a picture... but don't have enough points. :P</p>\n"},{"tags":[],"owner":{"account_id":2507164,"reputation":97,"user_id":2255110,"display_name":"Yifan Peng"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1431022740,"creation_date":1431022740,"answer_id":30108798,"question_id":11189708,"body_markdown":"Right click the variable in the Debug window, and choose &quot;view text&quot;. It will open a window showing &quot;toString&quot;","title":"Is it possible to tell IntelliJ IDEA to automatically invoke toString() on the objects inspected in watches, variables, tool tip windows?","body":"<p>Right click the variable in the Debug window, and choose \"view text\". It will open a window showing \"toString\"</p>\n"}],"owner":{"account_id":29567,"reputation":59708,"user_id":80002,"accept_rate":64,"display_name":"mark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17134,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":11189874,"answer_count":4,"score":25,"last_activity_date":1682366757,"creation_date":1340628566,"question_id":11189708,"body_markdown":"In Eclipse, when a variable is inspected and Eclipse is able to show its value, it does so by calling toString().\r\n\r\nIntelliJ IDEA does not do it. Can it be told to?\r\n\r\nThanks.","title":"Is it possible to tell IntelliJ IDEA to automatically invoke toString() on the objects inspected in watches, variables, tool tip windows?","body":"<p>In Eclipse, when a variable is inspected and Eclipse is able to show its value, it does so by calling toString().</p>\n\n<p>IntelliJ IDEA does not do it. Can it be told to?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","ubuntu","ant"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1670386139,"post_id":74707329,"comment_id":131862604,"body_markdown":"“Outside of ant I can run echo no problem…” Are you running it as `echo some text` or as `/usr/bin/echo some text`?  The former is almost certainly using the shell’s built-in echo command rather than the /usr/bin/echo executable.","body":"“Outside of ant I can run echo no problem…” Are you running it as <code>echo some text</code> or as <code>&#47;usr&#47;bin&#47;echo some text</code>?  The former is almost certainly using the shell’s built-in echo command rather than the /usr/bin/echo executable."},{"owner":{"account_id":3586956,"reputation":395,"user_id":2993913,"display_name":"cstack"},"score":0,"creation_date":1670431464,"post_id":74707329,"comment_id":131876466,"body_markdown":"I was just using echo as you suspected, but just tested with ```/usr/bin/echo test``` and it worked no problem.","body":"I was just using echo as you suspected, but just tested with <code>&#47;usr&#47;bin&#47;echo test</code> and it worked no problem."}],"answers":[{"tags":[],"owner":{"account_id":3586956,"reputation":395,"user_id":2993913,"display_name":"cstack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682366596,"creation_date":1682366596,"answer_id":76095676,"question_id":74707329,"body_markdown":"I finally figured it out today. I&#39;m running on a custom jre and had only enabled run permission on the bin directory. There must be something in a different subdirectory that is required, because if I give execute permission on the whole jre it works properly.","title":"Can&#39;t Launch Exec Task from Ant","body":"<p>I finally figured it out today. I'm running on a custom jre and had only enabled run permission on the bin directory. There must be something in a different subdirectory that is required, because if I give execute permission on the whole jre it works properly.</p>\n"}],"owner":{"account_id":3586956,"reputation":395,"user_id":2993913,"display_name":"cstack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76095676,"answer_count":1,"score":0,"last_activity_date":1682366596,"creation_date":1670350613,"question_id":74707329,"body_markdown":"I am trying to execute a separate function from an ant script and keep getting \r\n```\r\nCaused by: java.io.IOException: error=13, Permission denied\r\n        at java.base/java.lang.ProcessImpl.forkAndExec(Native Method)\r\n        at java.base/java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:314)\r\n        at java.base/java.lang.ProcessImpl.start(ProcessImpl.java:244)\r\n        at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1110)\r\n        ... 58 more\r\n```\r\nI eventually want to call Docker but to simplify it I am simply trying to call echo.\r\n\r\nMy exec block looks like this\r\n```\r\n &lt;exec failonerror=&quot;true&quot; vmlauncher=&quot;false&quot; executable=&quot;/usr/bin/echo&quot;&gt;\r\n      &lt;arg value=&quot;testing&quot; /&gt;\r\n  &lt;/exec&gt;\r\n```\r\n\r\n\r\nI have tried with vmlauncher true and false and get variations on the same error.\r\n\r\nOutside of ant I can run echo no problem, but here is what ls -al says about it\r\n```-rwxr-xr-x  1 root root       35120 Feb  7  2022  echo```\r\n\r\nI&#39;m testing this on an Ubuntu WSL 2 container, but have had similar issues on an Amazon Linux image.","title":"Can&#39;t Launch Exec Task from Ant","body":"<p>I am trying to execute a separate function from an ant script and keep getting</p>\n<pre><code>Caused by: java.io.IOException: error=13, Permission denied\n        at java.base/java.lang.ProcessImpl.forkAndExec(Native Method)\n        at java.base/java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:314)\n        at java.base/java.lang.ProcessImpl.start(ProcessImpl.java:244)\n        at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1110)\n        ... 58 more\n</code></pre>\n<p>I eventually want to call Docker but to simplify it I am simply trying to call echo.</p>\n<p>My exec block looks like this</p>\n<pre><code> &lt;exec failonerror=&quot;true&quot; vmlauncher=&quot;false&quot; executable=&quot;/usr/bin/echo&quot;&gt;\n      &lt;arg value=&quot;testing&quot; /&gt;\n  &lt;/exec&gt;\n</code></pre>\n<p>I have tried with vmlauncher true and false and get variations on the same error.</p>\n<p>Outside of ant I can run echo no problem, but here is what ls -al says about it\n<code>-rwxr-xr-x  1 root root       35120 Feb  7  2022  echo</code></p>\n<p>I'm testing this on an Ubuntu WSL 2 container, but have had similar issues on an Amazon Linux image.</p>\n"},{"tags":["java","spring-boot","deserialization","get-request"],"comments":[{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":1,"creation_date":1682367266,"post_id":76095675,"comment_id":134201145,"body_markdown":"You should provide the exception from the log of your service: the image, or your &quot;part of it&quot;, is encoded (`\\r\\n`).","body":"You should provide the exception from the log of your service: the image, or your &quot;part of it&quot;, is encoded (<code>\\r\\n</code>)."},{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":2,"creation_date":1682367352,"post_id":76095675,"comment_id":134201159,"body_markdown":"Also, your are hiding the cause but I&#39;d say that jackson is not processing correctly your JSON as `Map&lt;String, Map&lt;String, List&lt;String&gt;&gt;` or expect `GetDatasetModel` to be a `Map`.","body":"Also, your are hiding the cause but I&#39;d say that jackson is not processing correctly your JSON as <code>Map&lt;String, Map&lt;String, List&lt;String&gt;&gt;</code> or expect <code>GetDatasetModel</code> to be a <code>Map</code>."},{"owner":{"account_id":20919730,"reputation":207,"user_id":15368642,"display_name":"ilie alexandru"},"score":0,"creation_date":1682367678,"post_id":76095675,"comment_id":134201242,"body_markdown":"@NoDataFound Hello! Thank you for your comment. Maybe something is encoded, but I did now specified to be encoded.","body":"@NoDataFound Hello! Thank you for your comment. Maybe something is encoded, but I did now specified to be encoded."}],"owner":{"account_id":20919730,"reputation":207,"user_id":15368642,"display_name":"ilie alexandru"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682366579,"creation_date":1682366579,"question_id":76095675,"body_markdown":"I am a noob in Spring Boot and I am trying to make 2 servers to communicate with each other. Each server works individually, but I have a broken communication.\r\n\r\n\r\nFirst Server that gets the user requests and sends the get requests to the Server2:\r\n\r\n    @RestController\r\n    @AllArgsConstructor\r\n    @RequestMapping(path = &quot;/webpage&quot;)\r\n    public class IndexController {\r\n    \r\n        @Autowired\r\n        private CheckService checkService;\r\n    \r\n        @Autowired\r\n        private SearchService searchService;\r\n    \r\n        @Autowired\r\n        private GetDatasetService getDatasetService;\r\n    \r\n        @GetMapping(path = {&quot;check&quot;})\r\n        public String CheckDataset(@RequestParam List&lt;String&gt; checking) {\r\n            return checkService.checkDataset(checking);\r\n        }\r\n    \r\n    \r\n    //    @RequestParam List&lt;String&gt; userinfo\r\n        @GetMapping(path = {&quot;GetDataset&quot;})\r\n        public HashMap&lt;String, HashMap&lt;String, List&lt;String&gt;&gt;&gt; GetDataset(@RequestParam List&lt;String&gt; userinfo) {\r\n    \r\n            return getDatasetService.getDataset(userinfo);\r\n        }\r\n\r\n\r\n\r\n\r\nThis is the &quot;GetDatasetService&quot; that sends the &quot;Get&quot; request, this does not work:\r\n\r\n\r\n    public class GetDatasetService {\r\n    \r\n        @Value(&quot;${first.year.project.url}&quot;)\r\n        private String url;\r\n    \r\n    \r\n        public HashMap&lt;String, HashMap&lt;String, List&lt;String&gt;&gt;&gt; getDataset(List&lt;String&gt; userinfo){\r\n    \r\n            String urlForGetDataset = url + &quot;/api/GetDataset&quot;;\r\n    \r\n            URI uri = UriComponentsBuilder\r\n                    .fromHttpUrl(urlForGetDataset)\r\n                    .queryParam(&quot;userinfo&quot;,userinfo)\r\n                    .build(Collections\r\n                            .emptyMap());\r\n    \r\n            return WebClient.create()\r\n                    .get()\r\n                    .uri(uri)\r\n                    .retrieve()\r\n                    .bodyToMono(GetDatasetModel.class)\r\n                    .block();\r\n    \r\n        }\r\n    }\r\n\r\n\r\nThe &quot;CheckService&quot; works:\r\n\r\n    @Component\r\n    public class CheckService {\r\n    \r\n        @Value(&quot;${first.year.project.url}&quot;)\r\n        private String url;\r\n    \r\n    \r\n        public String checkDataset(List&lt;String&gt; list){\r\n            String urlForrCheck = url + &quot;/api/Check&quot;;\r\n    \r\n            URI uri = UriComponentsBuilder\r\n                    .fromHttpUrl(urlForrCheck)\r\n                    .queryParam(&quot;checking&quot;,list)\r\n                    .build(Collections\r\n                            .emptyMap());\r\n    \r\n    \r\n            String check = WebClient.create()\r\n                    .get()\r\n                    .uri(uri)\r\n                    .retrieve()\r\n                    .bodyToMono(String.class)\r\n                    .block();\r\n    \r\n            return check;\r\n        }\r\n    }\r\n\r\n\r\n\r\nServer2\r\n\r\n\r\nThe &quot;RequestController&quot; class:\r\n\r\n    @AllArgsConstructor\r\n    @RestController\r\n    @RequestMapping(path = {&quot;/api&quot;})\r\n    public class RequestsController {\r\n    \r\n        private final HashMap&lt;String, HashMap&lt;String,String&gt;&gt; DatasetMaps = ProcessingApplication.DatasetMaps;\r\n    \r\n        @GetMapping(path = {&quot;Check&quot;})\r\n        public String Check(@RequestParam List&lt;String&gt; checking){\r\n            GetCheck getCheck = new GetCheck(this.DatasetMaps);\r\n            CheckModel checkModel = new CheckModel();\r\n            checkModel.setList(checking);\r\n            return getCheck.GetCheckDatasetMethod(checkModel.checking);\r\n        }\r\n    \r\n    \r\n        @GetMapping(path = {&quot;GetDataset&quot;})\r\n        public HashMap&lt;String, HashMap&lt;String, List&lt;String&gt;&gt;&gt; GetDataset(@RequestParam List&lt;String&gt; userinfo) throws IOException {\r\n    \r\n            GetDatasetModel getDatasetModel = new GetDatasetModel();\r\n            getDatasetModel.setList(userinfo);\r\n            GetDataset getDataset = new GetDataset();\r\n            return getDataset.GetDatasetMethod(getDatasetModel.userinfo.get(0),getDatasetModel.userinfo.get(1));\r\n        }\r\n\r\n\r\nThe &quot;CheckModel&quot; class:\r\n\r\n    @Getter\r\n    @Setter\r\n    public class CheckModel {\r\n        protected List&lt;String&gt; checking;\r\n        public CheckModel(){}\r\n        public void setList(List&lt;String&gt; list){\r\n            this.checking = list;\r\n        }\r\n    }\r\n\r\nThe &quot;GetDatasetModel&quot; class:\r\n\r\n    @Setter\r\n    @Getter\r\n    public class GetDatasetModel {\r\n        protected List&lt;String&gt; userinfo;\r\n    \r\n        public GetDatasetModel(){}\r\n    \r\n        public void setList(List&lt;String&gt; userinfo){\r\n            this.userinfo=userinfo;\r\n        }\r\n    }\r\n\r\nAs it is presented in the following image the Server2 for the &quot;GetDataset&quot; request is working perfectly.\r\n\r\nIn the request is returning a nested hashmap, the request is working when I use &quot;Postman&quot;.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhen I am trying to use the &quot;GetDataset&quot; using the &quot;Server1&quot; is getting an error.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe error is quite big and I will just put just a part of it, if you need more I will edit the post:\r\n\r\n    org.springframework.core.codec.CodecException: Type definition error: [map type; class com.Portal.Indexes.HTMLModel.GetDatasetModel, [simple type, class java.lang.String] -&gt; [map type; class java.util.HashMap, [simple type, class java.lang.String] -&gt; [collection type; class java.util.List, contains [simple type, class java.lang.String]]]]\\n\\tat org.springframework.http.codec.json.AbstractJackson2Decoder.processException(AbstractJackson2Decoder.java:269)\\n\\tSuppressed: The stacktrace has been enhanced by Reactor, refer to additional information below: \\nError has been observed at the following site(s):\\n\\t*__checkpoint ⇢ Body from GET http://127.0.0.1:1200/api/GetDataset?userinfo=Alex&amp;userinfo=check [DefaultClientResponse]\\nOriginal Stack Trace:\\n\\t\\tat org.springframework.http.codec.json.AbstractJackson2Decoder.processException(AbstractJackson2Decoder.java:269)\\n\\t\\tat org.springframework.http.codec.json.AbstractJackson2Decoder.decode(AbstractJackson2Decoder.java:209)\\n\\t\\tat org.springframework.http.codec.json.AbstractJackson2Decoder.lambda$decodeToMono$2(AbstractJackson2Decoder.java:189)\\n\\t\\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132)\\n\\t\\tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)\\n\\t\\tat reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299)\\n\\t\\tat reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337)\\n\\t\\tat reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2071)\\n\\t\\tat reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145)\\n\\t\\tat reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)\\n\\t\\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)\\n\\t\\tat reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)\\n\\t\\tat reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:415)\\n\\t\\tat reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:431)\\n\\t\\tat reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:485)\\n\\t\\tat reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:712)\\n\\t\\tat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.\r\n\r\n Do you know what should I do in this situation?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9mEnu.png\r\n  [2]: https://i.stack.imgur.com/4UXQr.png","title":"HashMap as a get request response Spring Boot","body":"<p>I am a noob in Spring Boot and I am trying to make 2 servers to communicate with each other. Each server works individually, but I have a broken communication.</p>\n<p>First Server that gets the user requests and sends the get requests to the Server2:</p>\n<pre><code>@RestController\n@AllArgsConstructor\n@RequestMapping(path = &quot;/webpage&quot;)\npublic class IndexController {\n\n    @Autowired\n    private CheckService checkService;\n\n    @Autowired\n    private SearchService searchService;\n\n    @Autowired\n    private GetDatasetService getDatasetService;\n\n    @GetMapping(path = {&quot;check&quot;})\n    public String CheckDataset(@RequestParam List&lt;String&gt; checking) {\n        return checkService.checkDataset(checking);\n    }\n\n\n//    @RequestParam List&lt;String&gt; userinfo\n    @GetMapping(path = {&quot;GetDataset&quot;})\n    public HashMap&lt;String, HashMap&lt;String, List&lt;String&gt;&gt;&gt; GetDataset(@RequestParam List&lt;String&gt; userinfo) {\n\n        return getDatasetService.getDataset(userinfo);\n    }\n</code></pre>\n<p>This is the &quot;GetDatasetService&quot; that sends the &quot;Get&quot; request, this does not work:</p>\n<pre><code>public class GetDatasetService {\n\n    @Value(&quot;${first.year.project.url}&quot;)\n    private String url;\n\n\n    public HashMap&lt;String, HashMap&lt;String, List&lt;String&gt;&gt;&gt; getDataset(List&lt;String&gt; userinfo){\n\n        String urlForGetDataset = url + &quot;/api/GetDataset&quot;;\n\n        URI uri = UriComponentsBuilder\n                .fromHttpUrl(urlForGetDataset)\n                .queryParam(&quot;userinfo&quot;,userinfo)\n                .build(Collections\n                        .emptyMap());\n\n        return WebClient.create()\n                .get()\n                .uri(uri)\n                .retrieve()\n                .bodyToMono(GetDatasetModel.class)\n                .block();\n\n    }\n}\n</code></pre>\n<p>The &quot;CheckService&quot; works:</p>\n<pre><code>@Component\npublic class CheckService {\n\n    @Value(&quot;${first.year.project.url}&quot;)\n    private String url;\n\n\n    public String checkDataset(List&lt;String&gt; list){\n        String urlForrCheck = url + &quot;/api/Check&quot;;\n\n        URI uri = UriComponentsBuilder\n                .fromHttpUrl(urlForrCheck)\n                .queryParam(&quot;checking&quot;,list)\n                .build(Collections\n                        .emptyMap());\n\n\n        String check = WebClient.create()\n                .get()\n                .uri(uri)\n                .retrieve()\n                .bodyToMono(String.class)\n                .block();\n\n        return check;\n    }\n}\n</code></pre>\n<p>Server2</p>\n<p>The &quot;RequestController&quot; class:</p>\n<pre><code>@AllArgsConstructor\n@RestController\n@RequestMapping(path = {&quot;/api&quot;})\npublic class RequestsController {\n\n    private final HashMap&lt;String, HashMap&lt;String,String&gt;&gt; DatasetMaps = ProcessingApplication.DatasetMaps;\n\n    @GetMapping(path = {&quot;Check&quot;})\n    public String Check(@RequestParam List&lt;String&gt; checking){\n        GetCheck getCheck = new GetCheck(this.DatasetMaps);\n        CheckModel checkModel = new CheckModel();\n        checkModel.setList(checking);\n        return getCheck.GetCheckDatasetMethod(checkModel.checking);\n    }\n\n\n    @GetMapping(path = {&quot;GetDataset&quot;})\n    public HashMap&lt;String, HashMap&lt;String, List&lt;String&gt;&gt;&gt; GetDataset(@RequestParam List&lt;String&gt; userinfo) throws IOException {\n\n        GetDatasetModel getDatasetModel = new GetDatasetModel();\n        getDatasetModel.setList(userinfo);\n        GetDataset getDataset = new GetDataset();\n        return getDataset.GetDatasetMethod(getDatasetModel.userinfo.get(0),getDatasetModel.userinfo.get(1));\n    }\n</code></pre>\n<p>The &quot;CheckModel&quot; class:</p>\n<pre><code>@Getter\n@Setter\npublic class CheckModel {\n    protected List&lt;String&gt; checking;\n    public CheckModel(){}\n    public void setList(List&lt;String&gt; list){\n        this.checking = list;\n    }\n}\n</code></pre>\n<p>The &quot;GetDatasetModel&quot; class:</p>\n<pre><code>@Setter\n@Getter\npublic class GetDatasetModel {\n    protected List&lt;String&gt; userinfo;\n\n    public GetDatasetModel(){}\n\n    public void setList(List&lt;String&gt; userinfo){\n        this.userinfo=userinfo;\n    }\n}\n</code></pre>\n<p>As it is presented in the following image the Server2 for the &quot;GetDataset&quot; request is working perfectly.</p>\n<p>In the request is returning a nested hashmap, the request is working when I use &quot;Postman&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/9mEnu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9mEnu.png\" alt=\"enter image description here\" /></a></p>\n<p>When I am trying to use the &quot;GetDataset&quot; using the &quot;Server1&quot; is getting an error.</p>\n<p><a href=\"https://i.stack.imgur.com/4UXQr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4UXQr.png\" alt=\"enter image description here\" /></a></p>\n<p>The error is quite big and I will just put just a part of it, if you need more I will edit the post:</p>\n<pre><code>org.springframework.core.codec.CodecException: Type definition error: [map type; class com.Portal.Indexes.HTMLModel.GetDatasetModel, [simple type, class java.lang.String] -&gt; [map type; class java.util.HashMap, [simple type, class java.lang.String] -&gt; [collection type; class java.util.List, contains [simple type, class java.lang.String]]]]\\n\\tat org.springframework.http.codec.json.AbstractJackson2Decoder.processException(AbstractJackson2Decoder.java:269)\\n\\tSuppressed: The stacktrace has been enhanced by Reactor, refer to additional information below: \\nError has been observed at the following site(s):\\n\\t*__checkpoint ⇢ Body from GET http://127.0.0.1:1200/api/GetDataset?userinfo=Alex&amp;userinfo=check [DefaultClientResponse]\\nOriginal Stack Trace:\\n\\t\\tat org.springframework.http.codec.json.AbstractJackson2Decoder.processException(AbstractJackson2Decoder.java:269)\\n\\t\\tat org.springframework.http.codec.json.AbstractJackson2Decoder.decode(AbstractJackson2Decoder.java:209)\\n\\t\\tat org.springframework.http.codec.json.AbstractJackson2Decoder.lambda$decodeToMono$2(AbstractJackson2Decoder.java:189)\\n\\t\\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132)\\n\\t\\tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)\\n\\t\\tat reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299)\\n\\t\\tat reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337)\\n\\t\\tat reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2071)\\n\\t\\tat reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145)\\n\\t\\tat reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)\\n\\t\\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)\\n\\t\\tat reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)\\n\\t\\tat reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:415)\\n\\t\\tat reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:431)\\n\\t\\tat reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:485)\\n\\t\\tat reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:712)\\n\\t\\tat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.\n</code></pre>\n<p>Do you know what should I do in this situation?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9515,"page":477,"page_size":100}
