{"items":[{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1678198419,"post_id":75660132,"comment_id":133483848,"body_markdown":"The same authority as used in manifest file in your provider definition.","body":"The same authority as used in manifest file in your provider definition."},{"owner":{"account_id":18956037,"reputation":53,"user_id":13832610,"display_name":"Hariharakrishnan Mannarsamy"},"score":0,"creation_date":1678250435,"post_id":75660132,"comment_id":133495023,"body_markdown":"Thanks @blackapps. Initially I didn&#39;t have a file provider section at all in the manifest assuming it is not required for an &#39;external file&#39;. \nQ1: But then, how to find what should be the authority to mention in Manifest file provider def (and therefore in code), though I used com.example.&lt;myappname&gt;.fileprovider and it worked.\n\nBut in addition, I also needed to give the actual external file path in resource xml which on my device happens to be: /storage/emulated/0/Android/data/com.example.myfirstapp/files/Pictures (that I found in debug mode).\nThis fixed the problem of null URI return.","body":"Thanks @blackapps. Initially I didn&#39;t have a file provider section at all in the manifest assuming it is not required for an &#39;external file&#39;.  Q1: But then, how to find what should be the authority to mention in Manifest file provider def (and therefore in code), though I used com.example.&lt;myappname&gt;.fileprovider and it worked.  But in addition, I also needed to give the actual external file path in resource xml which on my device happens to be: /storage/emulated/0/Android/data/com.example.myfirstapp/file&zwnj;&#8203;s/Pictures (that I found in debug mode). This fixed the problem of null URI return."},{"owner":{"account_id":18956037,"reputation":53,"user_id":13832610,"display_name":"Hariharakrishnan Mannarsamy"},"score":0,"creation_date":1678250441,"post_id":75660132,"comment_id":133495024,"body_markdown":"Qs: 2. Does the external file path depend on Android/APK version?\n      3. Is there a way to find or mention it in XML without hard-coding the path?","body":"Qs: 2. Does the external file path depend on Android/APK version?       3. Is there a way to find or mention it in XML without hard-coding the path?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1678259228,"post_id":75660132,"comment_id":133496153,"body_markdown":"Post the provider definition. Post your xml file. And not in comments!","body":"Post the provider definition. Post your xml file. And not in comments!"}],"owner":{"account_id":18956037,"reputation":53,"user_id":13832610,"display_name":"Hariharakrishnan Mannarsamy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678181341,"creation_date":1678181341,"question_id":75660132,"body_markdown":"Particularly, I want to use it with the method:\r\n`FileProvider.getUriForFile(context,authority, file);`\r\n\r\nI am creating the file under: \r\n`Environment.DIRECTORY_PICTURES\r\n`\r\nUse of:\r\n`&quot;com.example.android.fileprovider&quot;`,\r\n`&quot;com.example.android.provider&quot;`\r\n`&quot;com.example.&lt;MyAppName&gt;.fileprovider&quot;`\r\n`&quot;com.example.&lt;MyAppName&gt;.provider&quot;`\r\n`&quot;${applicationId}.provider&quot;`\r\n`&quot;${applicationId}.fileprovider&quot;`\r\n\r\nas authority have resulted in return of Null reference for URI\r\n\r\nMy Compile SDK Version: 28\r\nBuild Tools version 27.0.3\r\n","title":"What is the &#39;authority&#39; to be used to generate URI for an external file directory on Android?","body":"<p>Particularly, I want to use it with the method:\n<code>FileProvider.getUriForFile(context,authority, file);</code></p>\n<p>I am creating the file under:\n<code>Environment.DIRECTORY_PICTURES </code>\nUse of:\n<code>&quot;com.example.android.fileprovider&quot;</code>,\n<code>&quot;com.example.android.provider&quot;</code>\n<code>&quot;com.example.&lt;MyAppName&gt;.fileprovider&quot;</code>\n<code>&quot;com.example.&lt;MyAppName&gt;.provider&quot;</code>\n<code>&quot;${applicationId}.provider&quot;</code>\n<code>&quot;${applicationId}.fileprovider&quot;</code></p>\n<p>as authority have resulted in return of Null reference for URI</p>\n<p>My Compile SDK Version: 28\nBuild Tools version 27.0.3</p>\n"},{"tags":["java","jpa","constraints","spring-transactions"],"comments":[{"owner":{"account_id":18669557,"reputation":640,"user_id":13608717,"display_name":"Daniel"},"score":1,"creation_date":1678132090,"post_id":75654394,"comment_id":133470819,"body_markdown":"Exception that you get is actually from executing some query against DB. It would help to review what exact SQL query (and with which data) is executed and what specific constraint (that are defined in accessed database) is violated. It would help to understand what data needs to be changed to not violate constraint (or remove that constraint)","body":"Exception that you get is actually from executing some query against DB. It would help to review what exact SQL query (and with which data) is executed and what specific constraint (that are defined in accessed database) is violated. It would help to understand what data needs to be changed to not violate constraint (or remove that constraint)"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1678202742,"post_id":75654394,"comment_id":133485375,"body_markdown":"That is a very modified stack trace too as all the causes are thrown from the same line of code in your test. The exception cause from the database should tell you the constraint violated, and EclipseLink usually includes the query that caused the problem in the message. If you really cannot which of these persist calls is the problem, try ensuring flush is called after your persist calls, as it will immediately force the insert to synchronize to the database instead of waiting until the commit.","body":"That is a very modified stack trace too as all the causes are thrown from the same line of code in your test. The exception cause from the database should tell you the constraint violated, and EclipseLink usually includes the query that caused the problem in the message. If you really cannot which of these persist calls is the problem, try ensuring flush is called after your persist calls, as it will immediately force the insert to synchronize to the database instead of waiting until the commit."}],"owner":{"account_id":23003085,"reputation":1,"user_id":17126782,"display_name":"Klajdi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678181248,"creation_date":1678126419,"question_id":75654394,"body_markdown":"I have this code, but I can&#39;t find where it creates this value which causes:\r\n\r\n&lt;pre&gt;\r\njavax.persistence.PersistenceException at JobHousekeepingServiceIntegrationTest.java:280\r\n        Caused by: org.eclipse.persistence.exceptions.DatabaseException at JobHousekeepingServiceIntegrationTest.java:280\r\n            Caused by: java.sql.SQLIntegrityConstraintViolationException at JobHousekeepingServiceIntegrationTest.java:280\r\n&lt;/pre&gt;\r\n\r\n```lang-java\r\nprivate void givenSeveralJobInstancesWithExecutionsInStatusForDate(\r\n        final int count,\r\n        final JobExecutionStatus status, \r\n        final LocalDateTime lastUpdate, \r\n        final List&lt;Long&gt; instanceIdsCreated) {\r\n\r\n    new Transaction() {\r\n\r\n        @Override\r\n        protected void run() throws Exception {\r\n\r\n            for (int n = 0; n &lt; count; ++n) {\r\n                JobInstanceEntityBuilder instBuilder = JobInstanceEntityBuilder.forDefinition(jobDef)\r\n                        .withName(&quot;SOME_JOB&quot; + n)\r\n                        .withStatus(status)\r\n                        .withParameters(\r\n                            new JobInstanceParameterEntity(&quot;prop&quot;, &quot;val&quot; + n),\r\n                            optionalDocAttachment(n),\r\n                            optionalDocAttachment(n % 8)\r\n                        )\r\n                        .withLastUpdateTimestamp(lastUpdate);\r\n                JobInstanceEntity inst = instBuilder.persist(getEM());\r\n                instanceIdsCreated.add(inst.getId());\r\n\r\n                JobExecutionEntityBuilder.forInstance(inst)\r\n                        .onServerNodeName(&quot;NODE_X&quot;)\r\n                        .withStatus(JobExecutionStatus.FAILED)\r\n                        .withMessages(new JobExecutionMessageEntity(JobExecutionMessageCategory.ERROR, &quot;error message &quot; + n, null))\r\n                        .withEndTime(lastUpdate)\r\n                        .persist(getEM());\r\n                if (status != null) {\r\n                    // execution but no queue entry anymore\r\n                    JobExecutionEntityBuilder.forInstance(inst)\r\n                            .onServerNodeName(&quot;NODE_X&quot;)\r\n.withStatus(status)\r\n                            .withMessages(new JobExecutionMessageEntity(JobExecutionMessageCategory.INFO, &quot;info message &quot; + n, null))\r\n                            .withEndTime(lastUpdate)\r\n                            .persist(getEM());\r\n                } else {\r\n                    // queue entry but no execution\r\n                    getEM().persist(new QueuedJobInstanceEntity(inst));\r\n                }\r\n\r\n                instBuilder.forceUpdateTimestamp(getEM());\r\n            }\r\n        }\r\n    }.executeWithCommit();\r\n}\r\n```","title":"Caused by: java.sql.SQLIntegrityConstraintViolationException: ORA-00001: unique constraint violated","body":"<p>I have this code, but I can't find where it creates this value which causes:</p>\n<pre>\njavax.persistence.PersistenceException at JobHousekeepingServiceIntegrationTest.java:280\n        Caused by: org.eclipse.persistence.exceptions.DatabaseException at JobHousekeepingServiceIntegrationTest.java:280\n            Caused by: java.sql.SQLIntegrityConstraintViolationException at JobHousekeepingServiceIntegrationTest.java:280\n</pre>\n<pre class=\"lang-java prettyprint-override\"><code>private void givenSeveralJobInstancesWithExecutionsInStatusForDate(\n        final int count,\n        final JobExecutionStatus status, \n        final LocalDateTime lastUpdate, \n        final List&lt;Long&gt; instanceIdsCreated) {\n\n    new Transaction() {\n\n        @Override\n        protected void run() throws Exception {\n\n            for (int n = 0; n &lt; count; ++n) {\n                JobInstanceEntityBuilder instBuilder = JobInstanceEntityBuilder.forDefinition(jobDef)\n                        .withName(&quot;SOME_JOB&quot; + n)\n                        .withStatus(status)\n                        .withParameters(\n                            new JobInstanceParameterEntity(&quot;prop&quot;, &quot;val&quot; + n),\n                            optionalDocAttachment(n),\n                            optionalDocAttachment(n % 8)\n                        )\n                        .withLastUpdateTimestamp(lastUpdate);\n                JobInstanceEntity inst = instBuilder.persist(getEM());\n                instanceIdsCreated.add(inst.getId());\n\n                JobExecutionEntityBuilder.forInstance(inst)\n                        .onServerNodeName(&quot;NODE_X&quot;)\n                        .withStatus(JobExecutionStatus.FAILED)\n                        .withMessages(new JobExecutionMessageEntity(JobExecutionMessageCategory.ERROR, &quot;error message &quot; + n, null))\n                        .withEndTime(lastUpdate)\n                        .persist(getEM());\n                if (status != null) {\n                    // execution but no queue entry anymore\n                    JobExecutionEntityBuilder.forInstance(inst)\n                            .onServerNodeName(&quot;NODE_X&quot;)\n.withStatus(status)\n                            .withMessages(new JobExecutionMessageEntity(JobExecutionMessageCategory.INFO, &quot;info message &quot; + n, null))\n                            .withEndTime(lastUpdate)\n                            .persist(getEM());\n                } else {\n                    // queue entry but no execution\n                    getEM().persist(new QueuedJobInstanceEntity(inst));\n                }\n\n                instBuilder.forceUpdateTimestamp(getEM());\n            }\n        }\n    }.executeWithCommit();\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","android-8.0-oreo","android-vibration"],"comments":[{"owner":{"account_id":6259085,"reputation":9647,"user_id":5250746,"display_name":"Arpit Solanki"},"score":1,"creation_date":1502342800,"post_id":45605083,"comment_id":78169155,"body_markdown":"post the code in the question itself. Don&#39;t include the screenshots","body":"post the code in the question itself. Don&#39;t include the screenshots"},{"owner":{"account_id":4793910,"reputation":885,"user_id":3872374,"accept_rate":100,"display_name":"Omar Dhanish"},"score":1,"creation_date":1502342820,"post_id":45605083,"comment_id":78169163,"body_markdown":"int: The strength of the vibration. This must be a value between 1 and 255, or DEFAULT_AMPLITUDE. (according to documentation)","body":"int: The strength of the vibration. This must be a value between 1 and 255, or DEFAULT_AMPLITUDE. (according to documentation)"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1502342847,"post_id":45605083,"comment_id":78169174,"body_markdown":"https://developer.android.com/reference/android/os/VibrationEffect.html#createOneShot(long,%20int)","body":"<a href=\"https://developer.android.com/reference/android/os/VibrationEffect.html#createOneShot(long,%20int)\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/os/&hellip;</a>"},{"owner":{"account_id":2599209,"reputation":42717,"user_id":2252113,"accept_rate":57,"display_name":"Hitesh Sahu"},"score":0,"creation_date":1502343029,"post_id":45605083,"comment_id":78169236,"body_markdown":"I added the screen shot to show method params.","body":"I added the screen shot to show method params."},{"owner":{"account_id":2599209,"reputation":42717,"user_id":2252113,"accept_rate":57,"display_name":"Hitesh Sahu"},"score":0,"creation_date":1502343148,"post_id":45605083,"comment_id":78169290,"body_markdown":"added code if you want to see","body":"added code if you want to see"},{"owner":{"account_id":1146772,"reputation":31458,"user_id":1129332,"accept_rate":61,"display_name":"Ilya Gazman"},"score":0,"creation_date":1653862603,"post_id":45605083,"comment_id":127948779,"body_markdown":"`shakeItBaby` PMPL","body":"<code>shakeItBaby</code> PMPL"},{"owner":{"account_id":2548075,"reputation":2913,"user_id":2212458,"accept_rate":79,"display_name":"denver"},"score":0,"creation_date":1668002772,"post_id":45605083,"comment_id":131302256,"body_markdown":"See https://stackoverflow.com/a/74376147/2212458 for an updated answer taking into account changes in both SDK 26 and 31.","body":"See <a href=\"https://stackoverflow.com/a/74376147/2212458\">stackoverflow.com/a/74376147/2212458</a> for an updated answer taking into account changes in both SDK 26 and 31."}],"answers":[{"comments":[{"owner":{"account_id":431644,"reputation":6176,"user_id":815847,"accept_rate":58,"display_name":"Thierry"},"score":2,"creation_date":1546183050,"post_id":45605098,"comment_id":94794957,"body_markdown":"Note that in Xamarin Forms this is defined as `VibrationEffect.DefaultAmplitude`","body":"Note that in Xamarin Forms this is defined as <code>VibrationEffect.DefaultAmplitude</code>"}],"tags":[],"owner":{"account_id":1328968,"reputation":4091,"user_id":1273240,"accept_rate":60,"display_name":"Kapil G"},"comment_count":1,"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1502342735,"creation_date":1502342735,"answer_id":45605098,"question_id":45605083,"body_markdown":"Amplitude is an int value. Its The strength of the vibration. This must be a value between 1 and 255, or `DEFAULT_AMPLITUDE` which is -1.\r\n\r\nYou can use it as `VibrationEffect.DEFAULT_AMPLITUDE`\r\n\r\nMore details [here][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/VibrationEffect.html","title":"Android vibrate is deprecated. How to use VibrationEffect in Android&gt;= API 26?","body":"<p>Amplitude is an int value. Its The strength of the vibration. This must be a value between 1 and 255, or <code>DEFAULT_AMPLITUDE</code> which is -1.</p>\n\n<p>You can use it as <code>VibrationEffect.DEFAULT_AMPLITUDE</code></p>\n\n<p>More details <a href=\"https://developer.android.com/reference/android/os/VibrationEffect.html\" rel=\"noreferrer\">here</a></p>\n"},{"comments":[{"owner":{"account_id":4617149,"reputation":7285,"user_id":3743245,"display_name":"Mariano Zorrilla"},"score":2,"creation_date":1552875422,"post_id":45605176,"comment_id":97163536,"body_markdown":"For most uses, this should be the correct one as is the simplest (and native) implementation so far.","body":"For most uses, this should be the correct one as is the simplest (and native) implementation so far."}],"tags":[],"owner":{"account_id":5817740,"reputation":13495,"user_id":4586742,"display_name":"Bob"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1502343136,"creation_date":1502343136,"answer_id":45605176,"question_id":45605083,"body_markdown":"You can use this for haptic feedback (vibration):\r\n\r\n    view.performHapticFeedback(HapticFeedbackConstants.LONG_PRESS);\r\n\r\nThere are other constants available in `HapticFeedbackConstants` like `VIRTUAL_KEY`, `KEYBOARD_TAP` ... ","title":"Android vibrate is deprecated. How to use VibrationEffect in Android&gt;= API 26?","body":"<p>You can use this for haptic feedback (vibration):</p>\n\n<pre><code>view.performHapticFeedback(HapticFeedbackConstants.LONG_PRESS);\n</code></pre>\n\n<p>There are other constants available in <code>HapticFeedbackConstants</code> like <code>VIRTUAL_KEY</code>, <code>KEYBOARD_TAP</code> ... </p>\n"},{"tags":[],"owner":{"account_id":3004616,"reputation":795,"user_id":2549366,"display_name":"jojois74"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1525423583,"creation_date":1525423583,"answer_id":50170807,"question_id":45605083,"body_markdown":"This library may help you out:\r\nhttps://github.com/josephrubin/Rumble-4-Android\r\n\r\nAll you would need is\r\n```Rumble.once(150);\r\n```\r\n\r\nIt handles the API versions for you.","title":"Android vibrate is deprecated. How to use VibrationEffect in Android&gt;= API 26?","body":"<p>This library may help you out:\n<a href=\"https://github.com/josephrubin/Rumble-4-Android\" rel=\"nofollow noreferrer\">https://github.com/josephrubin/Rumble-4-Android</a></p>\n\n<p>All you would need is\n<code>Rumble.once(150);\n</code></p>\n\n<p>It handles the API versions for you.</p>\n"},{"comments":[{"owner":{"account_id":10821091,"reputation":631,"user_id":7958563,"display_name":"Ivan Shafran"},"score":0,"creation_date":1611900937,"post_id":52849878,"comment_id":116603755,"body_markdown":"Note that pattern will work in two different ways here. `createWaveform` accepts timings and amplitudes, and vibrate accepts paired off/on timings.","body":"Note that pattern will work in two different ways here. <code>createWaveform</code> accepts timings and amplitudes, and vibrate accepts paired off/on timings."}],"tags":[],"owner":{"account_id":2105669,"reputation":2776,"user_id":2170109,"accept_rate":38,"display_name":"hardysim"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1539762863,"creation_date":1539762863,"answer_id":52849878,"question_id":45605083,"body_markdown":"I just stumbled across this and found out that `VibrationEffect.createWaveform()` basically uses the same `long[]`-pattern as the old `vibrate()`.\r\n\r\nBecause of this, you can reuse your existing pattern like so (this is a Kotlin extension-function):\r\n\r\n    fun Context.vibrate(pattern: LongArray) {\r\n        val vibrator =\r\n            applicationContext.getSystemService(Context.VIBRATOR_SERVICE) as Vibrator? ?: return\r\n    \r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            vibrator.vibrate(\r\n                VibrationEffect.createWaveform(pattern, VibrationEffect.DEFAULT_AMPLITUDE)\r\n            )\r\n    \r\n        } else {\r\n            @Suppress(&quot;DEPRECATION&quot;)\r\n            vibrator.vibrate(pattern, -1)\r\n        }\r\n    }\r\n\r\nAnd instead of `VibrationEffect.createOneShot()` you can use a pattern as well (e.g. `longArrayOf(0, 150)`) so no need to use different functions. ","title":"Android vibrate is deprecated. How to use VibrationEffect in Android&gt;= API 26?","body":"<p>I just stumbled across this and found out that <code>VibrationEffect.createWaveform()</code> basically uses the same <code>long[]</code>-pattern as the old <code>vibrate()</code>.</p>\n\n<p>Because of this, you can reuse your existing pattern like so (this is a Kotlin extension-function):</p>\n\n<pre><code>fun Context.vibrate(pattern: LongArray) {\n    val vibrator =\n        applicationContext.getSystemService(Context.VIBRATOR_SERVICE) as Vibrator? ?: return\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        vibrator.vibrate(\n            VibrationEffect.createWaveform(pattern, VibrationEffect.DEFAULT_AMPLITUDE)\n        )\n\n    } else {\n        @Suppress(\"DEPRECATION\")\n        vibrator.vibrate(pattern, -1)\n    }\n}\n</code></pre>\n\n<p>And instead of <code>VibrationEffect.createOneShot()</code> you can use a pattern as well (e.g. <code>longArrayOf(0, 150)</code>) so no need to use different functions. </p>\n"},{"tags":[],"owner":{"account_id":7953174,"reputation":2968,"user_id":6003394,"accept_rate":80,"display_name":"aolphn"},"comment_count":0,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1540473796,"creation_date":1540473796,"answer_id":52990380,"question_id":45605083,"body_markdown":"with kotlin \r\n\r\n    private fun vibrate(){\r\n        val vibrator = context.getSystemService(Context.VIBRATOR_SERVICE) as Vibrator\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n             vibrator.vibrate(VibrationEffect.createOneShot(200, VibrationEffect.DEFAULT_AMPLITUDE))\r\n        } else {\r\n             vibrator.vibrate(200)\r\n        }\r\n    }","title":"Android vibrate is deprecated. How to use VibrationEffect in Android&gt;= API 26?","body":"<p>with kotlin </p>\n\n<pre><code>private fun vibrate(){\n    val vibrator = context.getSystemService(Context.VIBRATOR_SERVICE) as Vibrator\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n         vibrator.vibrate(VibrationEffect.createOneShot(200, VibrationEffect.DEFAULT_AMPLITUDE))\n    } else {\n         vibrator.vibrate(200)\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":1,"creation_date":1560411409,"post_id":55496892,"comment_id":99729094,"body_markdown":"It&#39;s already in ms . No need to convert anything: https://developer.android.com/reference/android/os/Vibrator.html#vibrate(long) .  Just one line of code is needed.","body":"It&#39;s already in ms . No need to convert anything: <a href=\"https://developer.android.com/reference/android/os/Vibrator.html#vibrate(long)\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/os/&hellip;</a> .  Just one line of code is needed."}],"tags":[],"owner":{"account_id":1787508,"reputation":709,"user_id":1628651,"display_name":"Newred"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554306215,"creation_date":1554299706,"answer_id":55496892,"question_id":45605083,"body_markdown":"[![enter image description here][1]][1]Open **Manage NuGet Packages**\r\n\r\nSearch and Install **Xamarin.Essentials**\r\n\r\n\r\n    try {\r\n     var duration = TimeSpan.FromMilliseconds(300);\r\n     Vibration.Vibrate(duration);\r\n    } \r\n     catch (FeatureNotSupportedException ex){} \r\n     catch (Exception ex){}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ao1k9.png","title":"Android vibrate is deprecated. How to use VibrationEffect in Android&gt;= API 26?","body":"<p><a href=\"https://i.stack.imgur.com/ao1k9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ao1k9.png\" alt=\"enter image description here\"></a>Open <strong>Manage NuGet Packages</strong></p>\n\n<p>Search and Install <strong>Xamarin.Essentials</strong></p>\n\n<pre><code>try {\n var duration = TimeSpan.FromMilliseconds(300);\n Vibration.Vibrate(duration);\n} \n catch (FeatureNotSupportedException ex){} \n catch (Exception ex){}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":1,"creation_date":1622086567,"post_id":58398505,"comment_id":119690608,"body_markdown":"`val vibrator = context.getSystemService(Vibrator::class.java)`","body":"<code>val vibrator = context.getSystemService(Vibrator::class.java)</code>"}],"tags":[],"owner":{"account_id":7837986,"reputation":42767,"user_id":5925259,"accept_rate":100,"display_name":"Yogesh Umesh Vaity"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1571157949,"creation_date":1571154704,"answer_id":58398505,"question_id":45605083,"body_markdown":"Updated for Kotlin\r\n------------------\r\n\r\n    // Vibrates the device for 100 milliseconds.\r\n    fun vibrateDevice(context: Context) {\r\n        val vibrator = getSystemService(context, Vibrator::class.java)\r\n        vibrator?.let {\r\n            if (Build.VERSION.SDK_INT &gt;= 26) {\r\n                it.vibrate(VibrationEffect.createOneShot(100, VibrationEffect.DEFAULT_AMPLITUDE))\r\n            } else {\r\n                @Suppress(&quot;DEPRECATION&quot;)\r\n                it.vibrate(100)\r\n            }\r\n        }\r\n    }\r\nCall the function as following:\r\n\r\n    vibrateDevice(requireContext())\r\n\r\nMake sure you add permission to AndroidManifest.xml as following:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot;/&gt;\r\nNote that you don&#39;t need to ask for permission at runtime for using vibration.\r\n\r\nYou need to suppress deprecation in `else` clause, because the warning is from newer SDK.","title":"Android vibrate is deprecated. How to use VibrationEffect in Android&gt;= API 26?","body":"<h2>Updated for Kotlin</h2>\n\n<pre><code>// Vibrates the device for 100 milliseconds.\nfun vibrateDevice(context: Context) {\n    val vibrator = getSystemService(context, Vibrator::class.java)\n    vibrator?.let {\n        if (Build.VERSION.SDK_INT &gt;= 26) {\n            it.vibrate(VibrationEffect.createOneShot(100, VibrationEffect.DEFAULT_AMPLITUDE))\n        } else {\n            @Suppress(\"DEPRECATION\")\n            it.vibrate(100)\n        }\n    }\n}\n</code></pre>\n\n<p>Call the function as following:</p>\n\n<pre><code>vibrateDevice(requireContext())\n</code></pre>\n\n<p>Make sure you add permission to AndroidManifest.xml as following:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.VIBRATE\"/&gt;\n</code></pre>\n\n<p>Note that you don't need to ask for permission at runtime for using vibration.</p>\n\n<p>You need to suppress deprecation in <code>else</code> clause, because the warning is from newer SDK.</p>\n"},{"tags":[],"owner":{"account_id":8469613,"reputation":2411,"user_id":6352712,"accept_rate":89,"display_name":"Serg Burlaka"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587580257,"creation_date":1587579392,"answer_id":61372267,"question_id":45605083,"body_markdown":"working for me ``kotlin ext fun``\r\n\r\nfor the haptic effect, vibro has 5 milliseconds!! (``SHORT_HAPTIC_FEEDBACK_DURATION``)\r\n\r\n    fun Context.performHapticFeedback() {\r\n        val vibrator = getSystemService(Context.VIBRATOR_SERVICE) as Vibrator\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            val vibrationEffect = VibrationEffect.createOneShot(HAPTIC_FEEDBACK_DURATION, VibrationEffect.DEFAULT_AMPLITUDE)\r\n            vibrator.vibrate(vibrationEffect)\r\n        } else {\r\n            vibrator.vibrate(TimeUnit.MILLISECONDS.toMillis(SHORT_HAPTIC_FEEDBACK_DURATION))\r\n        }\r\n    }\r\n    \r\n    private const val SHORT_HAPTIC_FEEDBACK_DURATION = 5L\r\n\r\n\r\nusage\r\n\r\n    addOnItemTouchListener(ItemTouchListener { position, event -&gt;\r\n                    if (event.action == MotionEvent.ACTION_DOWN) {\r\n                        context.performHapticFeedback()  \r\n                    }  \r\n                })\r\n\r\npermission\r\n\r\n   \r\n\r\n     &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot;/&gt;\r\n\r\n\r\ngood luck ✌ :))","title":"Android vibrate is deprecated. How to use VibrationEffect in Android&gt;= API 26?","body":"<p>working for me <code>kotlin ext fun</code></p>\n\n<p>for the haptic effect, vibro has 5 milliseconds!! (<code>SHORT_HAPTIC_FEEDBACK_DURATION</code>)</p>\n\n<pre><code>fun Context.performHapticFeedback() {\n    val vibrator = getSystemService(Context.VIBRATOR_SERVICE) as Vibrator\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        val vibrationEffect = VibrationEffect.createOneShot(HAPTIC_FEEDBACK_DURATION, VibrationEffect.DEFAULT_AMPLITUDE)\n        vibrator.vibrate(vibrationEffect)\n    } else {\n        vibrator.vibrate(TimeUnit.MILLISECONDS.toMillis(SHORT_HAPTIC_FEEDBACK_DURATION))\n    }\n}\n\nprivate const val SHORT_HAPTIC_FEEDBACK_DURATION = 5L\n</code></pre>\n\n<p>usage</p>\n\n<pre><code>addOnItemTouchListener(ItemTouchListener { position, event -&gt;\n                if (event.action == MotionEvent.ACTION_DOWN) {\n                    context.performHapticFeedback()  \n                }  \n            })\n</code></pre>\n\n<p>permission</p>\n\n<pre><code> &lt;uses-permission android:name=\"android.permission.VIBRATE\"/&gt;\n</code></pre>\n\n<p>good luck ✌ :))</p>\n"},{"tags":[],"owner":{"account_id":14132454,"reputation":175,"user_id":10338825,"display_name":"Vlad Bulan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678181175,"creation_date":1678181175,"answer_id":75660098,"question_id":45605083,"body_markdown":"     @Suppress(&quot;DEPRECATION&quot;)\r\n        fun setVibrationSettings(context: Context, isVibrationOn: Boolean) {\r\n            val vibrator = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n                val vibrationEffect =\r\n                    VibrationEffect.createOneShot(1000, VibrationEffect.DEFAULT_AMPLITUDE)\r\n                (context.getSystemService(Context.VIBRATOR_MANAGER_SERVICE) as VibratorManager).run {\r\n                    if (isVibrationOn) {\r\n                        this.defaultVibrator.vibrate(vibrationEffect)\r\n                    } else {\r\n                        this.defaultVibrator.cancel()\r\n                    }\r\n                }\r\n            } else if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                val vibrationEffect =\r\n                    VibrationEffect.createOneShot(1000, VibrationEffect.DEFAULT_AMPLITUDE)\r\n                (context.getSystemService(Context.VIBRATOR_SERVICE) as Vibrator).run {\r\n                    if (isVibrationOn) {\r\n                        this.vibrate(vibrationEffect)\r\n                    } else {\r\n                        this.cancel()\r\n                    }\r\n                }\r\n            } else {\r\n                (context.getSystemService(Context.VIBRATOR_SERVICE) as Vibrator).run {\r\n                    if (isVibrationOn) {\r\n                        this.vibrate(1000)\r\n                    } else {\r\n                        this.cancel()\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\nCode with check SDK for 31 and 26 SDK\r\n\r\nADD permission\r\n\r\n     &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot;/&gt;","title":"Android vibrate is deprecated. How to use VibrationEffect in Android&gt;= API 26?","body":"<pre><code> @Suppress(&quot;DEPRECATION&quot;)\n    fun setVibrationSettings(context: Context, isVibrationOn: Boolean) {\n        val vibrator = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n            val vibrationEffect =\n                VibrationEffect.createOneShot(1000, VibrationEffect.DEFAULT_AMPLITUDE)\n            (context.getSystemService(Context.VIBRATOR_MANAGER_SERVICE) as VibratorManager).run {\n                if (isVibrationOn) {\n                    this.defaultVibrator.vibrate(vibrationEffect)\n                } else {\n                    this.defaultVibrator.cancel()\n                }\n            }\n        } else if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            val vibrationEffect =\n                VibrationEffect.createOneShot(1000, VibrationEffect.DEFAULT_AMPLITUDE)\n            (context.getSystemService(Context.VIBRATOR_SERVICE) as Vibrator).run {\n                if (isVibrationOn) {\n                    this.vibrate(vibrationEffect)\n                } else {\n                    this.cancel()\n                }\n            }\n        } else {\n            (context.getSystemService(Context.VIBRATOR_SERVICE) as Vibrator).run {\n                if (isVibrationOn) {\n                    this.vibrate(1000)\n                } else {\n                    this.cancel()\n                }\n            }\n        }\n    }\n</code></pre>\n<p>Code with check SDK for 31 and 26 SDK</p>\n<p>ADD permission</p>\n<pre><code> &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":2599209,"reputation":42717,"user_id":2252113,"accept_rate":57,"display_name":"Hitesh Sahu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43026,"favorite_count":0,"down_vote_count":4,"up_vote_count":70,"accepted_answer_id":45605098,"answer_count":9,"score":66,"last_activity_date":1678181175,"creation_date":1502342617,"question_id":45605083,"body_markdown":" I am using Android&#39;s `VIBRATOR_SERVICE` to give a haptic feedback for a button touch.\r\n\r\n     ((Vibrator) getSystemService(VIBRATOR_SERVICE)).vibrate(300);\r\n\r\nAndroid Studio give me warning that method `vibrate(interval)` is deprecated I should use `VibrationEffect` for API&gt;23. \r\n\r\nSo I used`VibrationEffect`&#39;s method `createOneShot` which takes 2 params: interval, and amplitude. \r\n[![enter image description here][1]][1]\r\n\r\nI tried searching for it but got no clue about what to pass as `amplitude`, anybody got any idea about how to use it?\r\n\r\n\r\n**Update Added code**\r\n\r\n\r\n    // Vibrate for 150 milliseconds\r\n    private void shakeItBaby() {\r\n        if (Build.VERSION.SDK_INT &gt;= 26) {\r\n            ((Vibrator) getSystemService(VIBRATOR_SERVICE)).vibrate(VibrationEffect.createOneShot(150,10));\r\n        } else {\r\n            ((Vibrator) getSystemService(VIBRATOR_SERVICE)).vibrate(150);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/U8nyK.png\r\n\r\n","title":"Android vibrate is deprecated. How to use VibrationEffect in Android&gt;= API 26?","body":"<p>I am using Android's <code>VIBRATOR_SERVICE</code> to give a haptic feedback for a button touch.</p>\n\n<pre><code> ((Vibrator) getSystemService(VIBRATOR_SERVICE)).vibrate(300);\n</code></pre>\n\n<p>Android Studio give me warning that method <code>vibrate(interval)</code> is deprecated I should use <code>VibrationEffect</code> for API>23. </p>\n\n<p>So I used<code>VibrationEffect</code>'s method <code>createOneShot</code> which takes 2 params: interval, and amplitude. \n<a href=\"https://i.stack.imgur.com/U8nyK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/U8nyK.png\" alt=\"enter image description here\"></a></p>\n\n<p>I tried searching for it but got no clue about what to pass as <code>amplitude</code>, anybody got any idea about how to use it?</p>\n\n<p><strong>Update Added code</strong></p>\n\n<pre><code>// Vibrate for 150 milliseconds\nprivate void shakeItBaby() {\n    if (Build.VERSION.SDK_INT &gt;= 26) {\n        ((Vibrator) getSystemService(VIBRATOR_SERVICE)).vibrate(VibrationEffect.createOneShot(150,10));\n    } else {\n        ((Vibrator) getSystemService(VIBRATOR_SERVICE)).vibrate(150);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","speech-recognition"],"owner":{"account_id":4696039,"reputation":195,"user_id":3800893,"accept_rate":0,"display_name":"seung hwan Son"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678181059,"creation_date":1678181059,"question_id":75660078,"body_markdown":"I make app named &quot;Vendict&quot; and was speech recognization app like &quot;Google Assistant&quot;.\r\nI want to use &quot;Ok Vendict&quot; as startup speech like &quot;Ok Google&quot; but SpeechRecognizer recognize &quot;Vendict&quot; to &quot;bandit&quot;.\r\nHow can I do for this?","title":"In Android how SpeechRecognizer can recognize my own app name &quot;Vendict&quot;?","body":"<p>I make app named &quot;Vendict&quot; and was speech recognization app like &quot;Google Assistant&quot;.\nI want to use &quot;Ok Vendict&quot; as startup speech like &quot;Ok Google&quot; but SpeechRecognizer recognize &quot;Vendict&quot; to &quot;bandit&quot;.\nHow can I do for this?</p>\n"},{"tags":["java","java-11","jmx","jstatd"],"comments":[{"owner":{"account_id":26925037,"reputation":11,"user_id":20498441,"display_name":"Sbon"},"score":0,"creation_date":1677157482,"post_id":75458448,"comment_id":133284726,"body_markdown":"[Closed] I was building the jdk as &quot;minimal&quot;.\nConfiguring it, before make it, as &quot;client&quot; I resolved the problem.","body":"[Closed] I was building the jdk as &quot;minimal&quot;. Configuring it, before make it, as &quot;client&quot; I resolved the problem."}],"answers":[{"tags":[],"owner":{"account_id":26925037,"reputation":11,"user_id":20498441,"display_name":"Sbon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678180176,"creation_date":1678180176,"answer_id":75659931,"question_id":75458448,"body_markdown":"I was building the jdk as &quot;minimal&quot;. Configuring it, before make it, as &quot;client&quot; I resolved the problem","title":"How to build an ARM Gnueabi openjdk11 JRE with JMX support","body":"<p>I was building the jdk as &quot;minimal&quot;. Configuring it, before make it, as &quot;client&quot; I resolved the problem</p>\n"}],"owner":{"account_id":26925037,"reputation":11,"user_id":20498441,"display_name":"Sbon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75659931,"answer_count":1,"score":1,"last_activity_date":1678180176,"creation_date":1676456999,"question_id":75458448,"body_markdown":"I&#39;ve successfully build an openjdk 11 JDK for my target board (based on Gnueabi ARM). \r\nThen with JDK Jlink I successfully created a custom JRE which I was able to run on my target.\r\n\r\nNow I&#39;d like to remote debug with JStatd or JMX, but when I start java with \r\n\r\n    -Dcom.sun.management.jmxremote \r\n    -Dcom.sun.management.jmxremote.port=8855 \r\n    -Dcom.sun.management.jmxremote.authenticate=false \r\n    -Dcom.sun.management.jmxremote.ssl=false\r\n\r\nI got this error\r\n\r\n    -Dcom.sun.management is not supported in this VM.\r\n    Error: Could not create the Java Virtual Machine.\r\n    Error: A fatal exception has occurred. Program will exit.\r\n\r\nI already created a custom JRE with all the possible Java 11 modules with the command\r\n\r\n    sudo qemu-arm -L /usr/arm-linux-gnueabi jdk/bin/jlink --no-header-files --no-man-pages --module-path jmods --compress=2 --add-modules java.base,java.compiler,java.datatransfer,java.desktop,java.instrument,java.logging,java.management,java.management.rmi,java.naming,java.net.http,java.prefs,java.rmi,java.scripting,java.se,java.security.jgss,java.security.sasl,java.smartcardio,java.sql,java.sql.rowset,java.transaction.xa,java.xml,java.xml.crypto,jdk.accessibility,jdk.attach,jdk.charsets,jdk.compiler,jdk.crypto.cryptoki,jdk.crypto.ec,jdk.dynalink,jdk.editpad,jdk.hotspot.agent,jdk.httpserver,jdk.jartool,jdk.javadoc,jdk.jcmd,jdk.jconsole,jdk.jdeps,jdk.jdi,jdk.jdwp.agent,jdk.jfr,jdk.jlink,jdk.jshell,jdk.jsobject,jdk.jstatd,jdk.localedata,jdk.management,jdk.management.agent,jdk.management.jfr,jdk.naming.dns,jdk.naming.rmi,jdk.net,jdk.pack,jdk.rmic,jdk.scripting.nashorn,jdk.sctp,jdk.security.auth,jdk.security.jgss,jdk.xml.dom,jdk.zipfs --output jre_all_modules\r\n\r\nbut I got the same &quot;-Dcom.sun.management is not supported in this VM.&quot; error.\r\n\r\nSince the target is an embedded board, with restricted amount of RAM, the goal is to got the minimun set of modules needed to run openjdk 11 JMX or JStatd.\r\n\r\nThanks to all in advance \r\n\r\nUPDATE: I was building the jdk as &quot;minimal&quot;. Configuring it, before make it, as &quot;client&quot; I resolved the problem.","title":"How to build an ARM Gnueabi openjdk11 JRE with JMX support","body":"<p>I've successfully build an openjdk 11 JDK for my target board (based on Gnueabi ARM).\nThen with JDK Jlink I successfully created a custom JRE which I was able to run on my target.</p>\n<p>Now I'd like to remote debug with JStatd or JMX, but when I start java with</p>\n<pre><code>-Dcom.sun.management.jmxremote \n-Dcom.sun.management.jmxremote.port=8855 \n-Dcom.sun.management.jmxremote.authenticate=false \n-Dcom.sun.management.jmxremote.ssl=false\n</code></pre>\n<p>I got this error</p>\n<pre><code>-Dcom.sun.management is not supported in this VM.\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n<p>I already created a custom JRE with all the possible Java 11 modules with the command</p>\n<pre><code>sudo qemu-arm -L /usr/arm-linux-gnueabi jdk/bin/jlink --no-header-files --no-man-pages --module-path jmods --compress=2 --add-modules java.base,java.compiler,java.datatransfer,java.desktop,java.instrument,java.logging,java.management,java.management.rmi,java.naming,java.net.http,java.prefs,java.rmi,java.scripting,java.se,java.security.jgss,java.security.sasl,java.smartcardio,java.sql,java.sql.rowset,java.transaction.xa,java.xml,java.xml.crypto,jdk.accessibility,jdk.attach,jdk.charsets,jdk.compiler,jdk.crypto.cryptoki,jdk.crypto.ec,jdk.dynalink,jdk.editpad,jdk.hotspot.agent,jdk.httpserver,jdk.jartool,jdk.javadoc,jdk.jcmd,jdk.jconsole,jdk.jdeps,jdk.jdi,jdk.jdwp.agent,jdk.jfr,jdk.jlink,jdk.jshell,jdk.jsobject,jdk.jstatd,jdk.localedata,jdk.management,jdk.management.agent,jdk.management.jfr,jdk.naming.dns,jdk.naming.rmi,jdk.net,jdk.pack,jdk.rmic,jdk.scripting.nashorn,jdk.sctp,jdk.security.auth,jdk.security.jgss,jdk.xml.dom,jdk.zipfs --output jre_all_modules\n</code></pre>\n<p>but I got the same &quot;-Dcom.sun.management is not supported in this VM.&quot; error.</p>\n<p>Since the target is an embedded board, with restricted amount of RAM, the goal is to got the minimun set of modules needed to run openjdk 11 JMX or JStatd.</p>\n<p>Thanks to all in advance</p>\n<p>UPDATE: I was building the jdk as &quot;minimal&quot;. Configuring it, before make it, as &quot;client&quot; I resolved the problem.</p>\n"},{"tags":["java","intellij-idea","google-java-format"],"comments":[{"owner":{"account_id":2168983,"reputation":730,"user_id":1921477,"display_name":"fose"},"score":0,"creation_date":1594135777,"post_id":62778661,"comment_id":111017492,"body_markdown":"We are using the google-java format in Intellij and it works as intended. Could it be that you just set it up on a project base instead of enabling it globally? \nThe formatter just formats the code, it doesn&#39;t show errors.","body":"We are using the google-java format in Intellij and it works as intended. Could it be that you just set it up on a project base instead of enabling it globally?  The formatter just formats the code, it doesn&#39;t show errors."},{"owner":{"account_id":2168983,"reputation":730,"user_id":1921477,"display_name":"fose"},"score":0,"creation_date":1594135898,"post_id":62778661,"comment_id":111017560,"body_markdown":"The usual guide to install a format in Intellij should help setting everthing up correctly.","body":"The usual guide to install a format in Intellij should help setting everthing up correctly."}],"answers":[{"comments":[{"owner":{"account_id":9676271,"reputation":1339,"user_id":7179674,"accept_rate":83,"display_name":"David Navarro Astudillo"},"score":1,"creation_date":1676060535,"post_id":75306645,"comment_id":133068676,"body_markdown":"then you must restart the IDE and it will work correctly :)","body":"then you must restart the IDE and it will work correctly :)"}],"tags":[],"owner":{"account_id":1414426,"reputation":338,"user_id":1340354,"accept_rate":0,"display_name":"sampathlk"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678179916,"creation_date":1675234905,"answer_id":75306645,"question_id":62778661,"body_markdown":"**Feb 2023** with the latest google-java-format Intellij plugin we need to add following custom VM options. ( Go to Help -&gt; Edit Custom VM Options )\r\n\r\n    -Xmx2018m\r\n    --add-exports=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED\r\n    --add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED\r\n    --add-exports=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED\r\n    --add-exports=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED\r\n    --add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED\r\n    --add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED\r\n\r\nJust follow the updated README file.\r\n[Updated README file][1]\r\n\r\n\r\n  [1]: https://github.com/google/google-java-format/blob/master/README.md#intellij-jre-config","title":"Google -java-format Code formatter for java Intellij","body":"<p><strong>Feb 2023</strong> with the latest google-java-format Intellij plugin we need to add following custom VM options. ( Go to Help -&gt; Edit Custom VM Options )</p>\n<pre><code>-Xmx2018m\n--add-exports=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED\n--add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED\n--add-exports=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED\n--add-exports=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED\n--add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED\n--add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED\n</code></pre>\n<p>Just follow the updated README file.\n<a href=\"https://github.com/google/google-java-format/blob/master/README.md#intellij-jre-config\" rel=\"nofollow noreferrer\">Updated README file</a></p>\n"}],"owner":{"account_id":11352319,"reputation":303,"user_id":8322878,"accept_rate":50,"display_name":"SeleniumTester"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1414,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678179916,"creation_date":1594135589,"question_id":62778661,"body_markdown":"I installed google-java-format in Intellij and made sure its enabled for current project. However its still not working, CTRL+ALT+L, which is by default in Intellij is still working.\r\n\r\nAlso, does this formatter shows error if formatting is wrong. Like eslint shows error if you leave trailing space in vs code.\r\n\r\nOr anyone can suggest better formatter or any other way, guidance is appreciated. Though i make sure to do CTRl+ALT+L before pushing code, if my editor can highlight it in case i miss it, it would be great.\r\n\r\nThanks !!","title":"Google -java-format Code formatter for java Intellij","body":"<p>I installed google-java-format in Intellij and made sure its enabled for current project. However its still not working, CTRL+ALT+L, which is by default in Intellij is still working.</p>\n<p>Also, does this formatter shows error if formatting is wrong. Like eslint shows error if you leave trailing space in vs code.</p>\n<p>Or anyone can suggest better formatter or any other way, guidance is appreciated. Though i make sure to do CTRl+ALT+L before pushing code, if my editor can highlight it in case i miss it, it would be great.</p>\n<p>Thanks !!</p>\n"},{"tags":["java","android","flutter","firebase","crashlytics"],"answers":[{"tags":[],"owner":{"account_id":9852572,"reputation":946,"user_id":8010101,"display_name":"GNassro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678179569,"creation_date":1678179569,"answer_id":75659829,"question_id":75617792,"body_markdown":"I figure out the problem it was because after i moved all my project directory from `Ubuntu` machine to my new `Mac` machine, i upgrade the dependencie of crashlytics from `2.9.2` to `2.9.4` in `android/build.gradle` file:\r\n\r\n    dependencies {\r\n       ...\r\n       classpath &#39;com.google.firebase:firebase-crashlytics-gradle:2.9.4&#39;\r\n    }\r\nso i resolved the problem by deleting the `.crashlytics` directory, then i run these commands again:\r\n\r\n    flutter clean\r\n    flutter pub get -v\r\n    flutter build apk -v --obfuscate --split-debug-info=/Users/macbook/debuginfo/testApp/1.2.0+141\r\n    firebase crashlytics:symbols:upload --app=&quot;ANDROID_APP_ID&quot; /Users/macbook/debuginfo/testApp/1.2.0+141","title":"Uploading android symbols files to crashlytics not working in mac","body":"<p>I figure out the problem it was because after i moved all my project directory from <code>Ubuntu</code> machine to my new <code>Mac</code> machine, i upgrade the dependencie of crashlytics from <code>2.9.2</code> to <code>2.9.4</code> in <code>android/build.gradle</code> file:</p>\n<pre><code>dependencies {\n   ...\n   classpath 'com.google.firebase:firebase-crashlytics-gradle:2.9.4'\n}\n</code></pre>\n<p>so i resolved the problem by deleting the <code>.crashlytics</code> directory, then i run these commands again:</p>\n<pre><code>flutter clean\nflutter pub get -v\nflutter build apk -v --obfuscate --split-debug-info=/Users/macbook/debuginfo/testApp/1.2.0+141\nfirebase crashlytics:symbols:upload --app=&quot;ANDROID_APP_ID&quot; /Users/macbook/debuginfo/testApp/1.2.0+141\n</code></pre>\n"}],"owner":{"account_id":9852572,"reputation":946,"user_id":8010101,"display_name":"GNassro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678179569,"creation_date":1677772155,"question_id":75617792,"body_markdown":"I am trying to upload symbols files to crashlytics using this command on mac:\r\n\r\n    firebase crashlytics:symbols:upload --app=&quot;ANDROID_APP_ID&quot; /Users/macbook/debuginfo/testApp/1.2.0+141\r\n\r\nBut i got this error:\r\n\r\n&gt; java.io.IOException: Breakpad symbol generation failed (exit=126), see\r\n&gt; STDERR\r\n&gt;         at com.google.firebase.crashlytics.buildtools.ndk.internal.breakpad.BreakpadSymbolGenerator.generateSymbols(BreakpadSymbolGenerator.java:133)\r\n&gt;         at com.google.firebase.crashlytics.buildtools.Buildtools.generateNativeSymbolFiles(Buildtools.java:273)\r\n&gt;         at com.google.firebase.crashlytics.buildtools.CommandLineHelper.executeGenerateSymbols(CommandLineHelper.java:185)\r\n&gt;         at com.google.firebase.crashlytics.buildtools.CommandLineHelper.executeCommand(CommandLineHelper.java:118)\r\n&gt;         at com.google.firebase.crashlytics.buildtools.CommandLineHelper.main(CommandLineHelper.java:65)\r\n&gt;         at com.google.firebase.crashlytics.buildtools.Buildtools.main(Buildtools.java:111)\r\n&gt; \r\n&gt; \r\n&gt; Error: java command failed with args:\r\n&gt; -jar,/Users/macbook/.cache/firebase/crashlytics/buildtools/crashlytics-buildtools-2.9.2.jar,-symbolGenerator,breakpad,-symbolFileCacheDir,/tmp/crashlytics-32c807e8-10a3-49c0-a833-0f6da19b9dc6/nativeSymbols/1-211607324153-android-5b9e71e339cdc91b0fe928/breakpad,-verbose,-generateNativeSymbols,-unstrippedLibrary,/Users/macbook/debuginfo/testApp/1.2.0+141,-clientName,firebase-cli;crashlytics-buildtools","title":"Uploading android symbols files to crashlytics not working in mac","body":"<p>I am trying to upload symbols files to crashlytics using this command on mac:</p>\n<pre><code>firebase crashlytics:symbols:upload --app=&quot;ANDROID_APP_ID&quot; /Users/macbook/debuginfo/testApp/1.2.0+141\n</code></pre>\n<p>But i got this error:</p>\n<blockquote>\n<p>java.io.IOException: Breakpad symbol generation failed (exit=126), see\nSTDERR\nat com.google.firebase.crashlytics.buildtools.ndk.internal.breakpad.BreakpadSymbolGenerator.generateSymbols(BreakpadSymbolGenerator.java:133)\nat com.google.firebase.crashlytics.buildtools.Buildtools.generateNativeSymbolFiles(Buildtools.java:273)\nat com.google.firebase.crashlytics.buildtools.CommandLineHelper.executeGenerateSymbols(CommandLineHelper.java:185)\nat com.google.firebase.crashlytics.buildtools.CommandLineHelper.executeCommand(CommandLineHelper.java:118)\nat com.google.firebase.crashlytics.buildtools.CommandLineHelper.main(CommandLineHelper.java:65)\nat com.google.firebase.crashlytics.buildtools.Buildtools.main(Buildtools.java:111)</p>\n<p>Error: java command failed with args:\n-jar,/Users/macbook/.cache/firebase/crashlytics/buildtools/crashlytics-buildtools-2.9.2.jar,-symbolGenerator,breakpad,-symbolFileCacheDir,/tmp/crashlytics-32c807e8-10a3-49c0-a833-0f6da19b9dc6/nativeSymbols/1-211607324153-android-5b9e71e339cdc91b0fe928/breakpad,-verbose,-generateNativeSymbols,-unstrippedLibrary,/Users/macbook/debuginfo/testApp/1.2.0+141,-clientName,firebase-cli;crashlytics-buildtools</p>\n</blockquote>\n"},{"tags":["java","webview","javafx","firebug-lite"],"comments":[{"owner":{"account_id":4483891,"reputation":177,"user_id":3647184,"display_name":"Bosko Popovic"},"score":0,"creation_date":1450911412,"post_id":17387981,"comment_id":56631844,"body_markdown":"I answered how to use DevTools on JavaFX WebView at this [link](http://stackoverflow.com/a/34444807/1334241)","body":"I answered how to use DevTools on JavaFX WebView at this <a href=\"http://stackoverflow.com/a/34444807/1334241\">link</a>"}],"answers":[{"comments":[{"owner":{"account_id":427657,"reputation":2580,"user_id":809536,"accept_rate":80,"display_name":"ZiglioUK"},"score":1,"creation_date":1433393887,"post_id":17392509,"comment_id":49335557,"body_markdown":"1.2 is the latest version of Firebug lite that works for me with bootstrap.css, also on normal browsers","body":"1.2 is the latest version of Firebug lite that works for me with bootstrap.css, also on normal browsers"}],"tags":[],"owner":{"account_id":2987608,"reputation":1924,"user_id":2535984,"accept_rate":50,"display_name":"roosevelt"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1372610049,"creation_date":1372610049,"answer_id":17392509,"question_id":17387981,"body_markdown":"I was able to fix the problem. It seems like the current stable version of FirebugLite works well for traditional browsers but something is different that makes it fail for an application viewed by the JAVAFX WebView. \r\n\r\nI was able to add Firebug to my application by using an uncompressed version of FirebugLite\r\n\r\n    &lt;script type=&#39;text/javascript&#39; src=&#39;http://getfirebug.com/releases/lite/1.2/firebug-lite-compressed.js&#39;&gt;&lt;/script&gt;\r\n\r\nThe solution came from: https://stackoverflow.com/questions/7687421/testing-ie6-with-firebug-lite","title":"JAVAFX / WebView / WebEngine FireBugLite or Some other debugger?","body":"<p>I was able to fix the problem. It seems like the current stable version of FirebugLite works well for traditional browsers but something is different that makes it fail for an application viewed by the JAVAFX WebView. </p>\n\n<p>I was able to add Firebug to my application by using an uncompressed version of FirebugLite</p>\n\n<pre><code>&lt;script type='text/javascript' src='http://getfirebug.com/releases/lite/1.2/firebug-lite-compressed.js'&gt;&lt;/script&gt;\n</code></pre>\n\n<p>The solution came from: <a href=\"https://stackoverflow.com/questions/7687421/testing-ie6-with-firebug-lite\">Testing IE6 with Firebug Lite</a></p>\n"},{"tags":[],"owner":{"account_id":275464,"reputation":1164,"user_id":568355,"accept_rate":69,"display_name":"alistair"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1520042150,"creation_date":1377201325,"answer_id":18389702,"question_id":17387981,"body_markdown":"I found with the JavaFX Webview that the best way of quickly debugging javascript was to do the following:\r\n\r\n    webView.getEngine().setOnAlert(new EventHandler&lt;WebEvent&lt;String&gt;&gt;() {\r\n        @Override \r\n    \tpublic void handle(WebEvent&lt;String&gt; event) {\r\n    \t\tSystem.out.println(event.getData());\r\n    \t}\r\n    });  \r\n\r\nThat pipes through all your `alert(&quot;whatever&quot;);` pieces of code so you can see what&#39;s going on. ","title":"JAVAFX / WebView / WebEngine FireBugLite or Some other debugger?","body":"<p>I found with the JavaFX Webview that the best way of quickly debugging javascript was to do the following:</p>\n\n<pre><code>webView.getEngine().setOnAlert(new EventHandler&lt;WebEvent&lt;String&gt;&gt;() {\n    @Override \n    public void handle(WebEvent&lt;String&gt; event) {\n        System.out.println(event.getData());\n    }\n});  \n</code></pre>\n\n<p>That pipes through all your <code>alert(\"whatever\");</code> pieces of code so you can see what's going on. </p>\n"},{"comments":[{"owner":{"account_id":316773,"reputation":5626,"user_id":633107,"accept_rate":57,"display_name":"Splaktar"},"score":0,"creation_date":1383333075,"post_id":18396900,"comment_id":29319838,"body_markdown":"Finally got this working thanks to your tip about adding the ChangeListener! So many other examples out there leave that part out. It&#39;s surprising that this answer doesn&#39;t have much support.","body":"Finally got this working thanks to your tip about adding the ChangeListener! So many other examples out there leave that part out. It&#39;s surprising that this answer doesn&#39;t have much support."},{"owner":{"account_id":319270,"reputation":477,"user_id":636938,"display_name":"Davem M"},"score":5,"creation_date":1420404876,"post_id":18396900,"comment_id":43951367,"body_markdown":"Tried the above solution with JavaFX - worked with externally loaded urls, but not urls loaded from local files. For those files, I had to add this to the local html file:                              `&lt;script type=&#39;text/javascript&#39; src=&#39;http://getfirebug.com/releases/lite/1.2/firebug-lite-compressed.js&#39;&gt;&lt;/script&gt;`","body":"Tried the above solution with JavaFX - worked with externally loaded urls, but not urls loaded from local files. For those files, I had to add this to the local html file:                              <code>&lt;script type=&#39;text&#47;javascript&#39; src=&#39;http:&#47;&#47;getfirebug.com&#47;releases&#47;lite&#47;1.2&#47;firebug-lite-co&zwnj;&#8203;mpressed.js&#39;&gt;&lt;&#47;scrip&zwnj;&#8203;t&gt;</code>"},{"owner":{"account_id":2008543,"reputation":1257,"user_id":1797670,"accept_rate":64,"display_name":"mario.schlipf"},"score":0,"creation_date":1458133403,"post_id":18396900,"comment_id":59721894,"body_markdown":"@DavemM thank you for your helpful comment. Solved my problem!","body":"@DavemM thank you for your helpful comment. Solved my problem!"}],"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":3,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1377241650,"creation_date":1377241650,"answer_id":18396900,"question_id":17387981,"body_markdown":"The command you provided in your question works for me (well mostly).\r\n\r\nPerhaps you are not waiting until the WebView has loaded a document before trying to trigger Firebug.\r\n\r\nFor example, the following code will launch Firebug Lite for me (JavaFX 8b103, OS X 10.8).\r\n\r\n    import javafx.application.Application;\r\n    import javafx.beans.value.ChangeListener;\r\n    import javafx.beans.value.ObservableValue;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.web.WebEngine;\r\n    import javafx.scene.web.WebView;\r\n    import javafx.stage.Stage;\r\n    import org.w3c.dom.Document;\r\n     \r\n    public class WebViewWithDebugger extends Application {\r\n      public static void main(String[] args) { launch(args); }\r\n      @Override public void start(Stage primaryStage) {\r\n        final WebView webView = new WebView();\r\n        final WebEngine engine = webView.getEngine();\r\n        engine.load(&quot;http://docs.oracle.com/javafx/2/get_started/animation.htm&quot;);\r\n        engine.documentProperty().addListener(new ChangeListener&lt;Document&gt;() {\r\n          @Override public void changed(ObservableValue&lt;? extends Document&gt; prop, Document oldDoc, Document newDoc) {\r\n            enableFirebug(engine);\r\n          }\r\n        });\r\n        primaryStage.setScene(new Scene(webView));\r\n        primaryStage.show();\r\n      }\r\n     \r\n      /**\r\n       * Enables Firebug Lite for debugging a webEngine.\r\n       * @param engine the webEngine for which debugging is to be enabled.\r\n       */\r\n      private static void enableFirebug(final WebEngine engine) {\r\n        engine.executeScript(&quot;if (!document.getElementById(&#39;FirebugLite&#39;)){E = document[&#39;createElement&#39; + &#39;NS&#39;] &amp;&amp; document.documentElement.namespaceURI;E = E ? document[&#39;createElement&#39; + &#39;NS&#39;](E, &#39;script&#39;) : document[&#39;createElement&#39;](&#39;script&#39;);E[&#39;setAttribute&#39;](&#39;id&#39;, &#39;FirebugLite&#39;);E[&#39;setAttribute&#39;](&#39;src&#39;, &#39;https://getfirebug.com/&#39; + &#39;firebug-lite.js&#39; + &#39;#startOpened&#39;);E[&#39;setAttribute&#39;](&#39;FirebugLite&#39;, &#39;4&#39;);(document[&#39;getElementsByTagName&#39;](&#39;head&#39;)[0] || document[&#39;getElementsByTagName&#39;](&#39;body&#39;)[0]).appendChild(E);E = new Image;E[&#39;setAttribute&#39;](&#39;src&#39;, &#39;https://getfirebug.com/&#39; + &#39;#startOpened&#39;);}&quot;); \r\n      }\r\n    }\r\n\r\n![debugging][1]\r\n\r\nFirebug Lite itself doesn&#39;t seem particularly great at debugging web pages (at least under WebView for me).  The console, html, css and dom panels seemed to be fine, as well as the inspect option.  So some useful info there.  The script portion showed the scripts but I didn&#39;t see anyway to set breakpoints, watches, etc in the scripts.\r\n\r\n  [1]: http://i.stack.imgur.com/247WD.png","title":"JAVAFX / WebView / WebEngine FireBugLite or Some other debugger?","body":"<p>The command you provided in your question works for me (well mostly).</p>\n\n<p>Perhaps you are not waiting until the WebView has loaded a document before trying to trigger Firebug.</p>\n\n<p>For example, the following code will launch Firebug Lite for me (JavaFX 8b103, OS X 10.8).</p>\n\n<pre><code>import javafx.application.Application;\nimport javafx.beans.value.ChangeListener;\nimport javafx.beans.value.ObservableValue;\nimport javafx.scene.Scene;\nimport javafx.scene.web.WebEngine;\nimport javafx.scene.web.WebView;\nimport javafx.stage.Stage;\nimport org.w3c.dom.Document;\n\npublic class WebViewWithDebugger extends Application {\n  public static void main(String[] args) { launch(args); }\n  @Override public void start(Stage primaryStage) {\n    final WebView webView = new WebView();\n    final WebEngine engine = webView.getEngine();\n    engine.load(\"http://docs.oracle.com/javafx/2/get_started/animation.htm\");\n    engine.documentProperty().addListener(new ChangeListener&lt;Document&gt;() {\n      @Override public void changed(ObservableValue&lt;? extends Document&gt; prop, Document oldDoc, Document newDoc) {\n        enableFirebug(engine);\n      }\n    });\n    primaryStage.setScene(new Scene(webView));\n    primaryStage.show();\n  }\n\n  /**\n   * Enables Firebug Lite for debugging a webEngine.\n   * @param engine the webEngine for which debugging is to be enabled.\n   */\n  private static void enableFirebug(final WebEngine engine) {\n    engine.executeScript(\"if (!document.getElementById('FirebugLite')){E = document['createElement' + 'NS'] &amp;&amp; document.documentElement.namespaceURI;E = E ? document['createElement' + 'NS'](E, 'script') : document['createElement']('script');E['setAttribute']('id', 'FirebugLite');E['setAttribute']('src', 'https://getfirebug.com/' + 'firebug-lite.js' + '#startOpened');E['setAttribute']('FirebugLite', '4');(document['getElementsByTagName']('head')[0] || document['getElementsByTagName']('body')[0]).appendChild(E);E = new Image;E['setAttribute']('src', 'https://getfirebug.com/' + '#startOpened');}\"); \n  }\n}\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/247WD.png\" alt=\"debugging\"></p>\n\n<p>Firebug Lite itself doesn't seem particularly great at debugging web pages (at least under WebView for me).  The console, html, css and dom panels seemed to be fine, as well as the inspect option.  So some useful info there.  The script portion showed the scripts but I didn't see anyway to set breakpoints, watches, etc in the scripts.</p>\n"}],"owner":{"account_id":2987608,"reputation":1924,"user_id":2535984,"accept_rate":50,"display_name":"roosevelt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11268,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":17392509,"answer_count":3,"score":8,"last_activity_date":1678179221,"creation_date":1372575454,"question_id":17387981,"body_markdown":"I am developing an app and need to run a debugger on the WebView/WebEngine part of the application so I can better debug my application. But the code I found across the internet to inject Firebug Lite is not working for some reason.\r\n\r\nThe Javascript code itself works fine if I run it on the Firefox Console, but not when the same code is executed through the JavaFX webview/webengine. The netbeans console doesn&#39;t throw any errors others... so I am not sure why the FirebugLite UI is not rendering/loading.\r\n\r\nWhat could be causing this, any other alternatives?\r\n\r\nI&#39;m using JavaFX 2.2\r\n\r\n// Doesn&#39;t work....\r\n\r\n    webView.getEngine().executeScript(&quot;if (!document.getElementById(&#39;FirebugLite&#39;)){E = document[&#39;createElement&#39; + &#39;NS&#39;] &amp;&amp; document.documentElement.namespaceURI;E = E ? document[&#39;createElement&#39; + &#39;NS&#39;](E, &#39;script&#39;) : document[&#39;createElement&#39;](&#39;script&#39;);E[&#39;setAttribute&#39;](&#39;id&#39;, &#39;FirebugLite&#39;);E[&#39;setAttribute&#39;](&#39;src&#39;, &#39;https://getfirebug.com/&#39; + &#39;firebug-lite.js&#39; + &#39;#startOpened&#39;);E[&#39;setAttribute&#39;](&#39;FirebugLite&#39;, &#39;4&#39;);(document[&#39;getElementsByTagName&#39;](&#39;head&#39;)[0] || document[&#39;getElementsByTagName&#39;](&#39;body&#39;)[0]).appendChild(E);E = new Image;E[&#39;setAttribute&#39;](&#39;src&#39;, &#39;https://getfirebug.com/&#39; + &#39;#startOpened&#39;);}&quot;); ","title":"JAVAFX / WebView / WebEngine FireBugLite or Some other debugger?","body":"<p>I am developing an app and need to run a debugger on the WebView/WebEngine part of the application so I can better debug my application. But the code I found across the internet to inject Firebug Lite is not working for some reason.</p>\n\n<p>The Javascript code itself works fine if I run it on the Firefox Console, but not when the same code is executed through the JavaFX webview/webengine. The netbeans console doesn't throw any errors others... so I am not sure why the FirebugLite UI is not rendering/loading.</p>\n\n<p>What could be causing this, any other alternatives?</p>\n\n<p>I'm using JavaFX 2.2</p>\n\n<p>// Doesn't work....</p>\n\n<pre><code>webView.getEngine().executeScript(\"if (!document.getElementById('FirebugLite')){E = document['createElement' + 'NS'] &amp;&amp; document.documentElement.namespaceURI;E = E ? document['createElement' + 'NS'](E, 'script') : document['createElement']('script');E['setAttribute']('id', 'FirebugLite');E['setAttribute']('src', 'https://getfirebug.com/' + 'firebug-lite.js' + '#startOpened');E['setAttribute']('FirebugLite', '4');(document['getElementsByTagName']('head')[0] || document['getElementsByTagName']('body')[0]).appendChild(E);E = new Image;E['setAttribute']('src', 'https://getfirebug.com/' + '#startOpened');}\"); \n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":462886,"reputation":2853,"user_id":865448,"accept_rate":82,"display_name":"tostao"},"score":2,"creation_date":1678178436,"post_id":75659619,"comment_id":133478527,"body_markdown":"First one: this `if (insertedConnClientHist == true)`  you can change to this: `if (insertedConnClientHist)`","body":"First one: this <code>if (insertedConnClientHist == true)</code>  you can change to this: <code>if (insertedConnClientHist)</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1678178445,"post_id":75659619,"comment_id":133478530,"body_markdown":"**1)** `if (insertedCertHist = true)` will assign `true` to the variable, and always execute the subsequent statement/block; you probably wanted `if (insertedCertHist == true)` which leads to **2)** totally unnecessary to compare to `true`, that is, use `if (insertedCertHist)` (@tostao)","body":"<b>1)</b> <code>if (insertedCertHist = true)</code> will assign <code>true</code> to the variable, and always execute the subsequent statement/block; you probably wanted <code>if (insertedCertHist == true)</code> which leads to <b>2)</b> totally unnecessary to compare to <code>true</code>, that is, use <code>if (insertedCertHist)</code> (@tostao)"},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1678178758,"post_id":75659619,"comment_id":133478626,"body_markdown":"Will you describe in words what this code is doing?","body":"Will you describe in words what this code is doing?"},{"owner":{"account_id":15708968,"reputation":1,"user_id":11334939,"display_name":"ben jjm"},"score":0,"creation_date":1678178837,"post_id":75659619,"comment_id":133478638,"body_markdown":"Thanks for the suggestion. Let me describe my coding in detail.\n\nFirstly, checking the data record is exist or not in database\n\nIf yes then return error, If no ,then process the &quot;insterting record to database -A&quot; action.\n\nSecondly, check the insterting the record to database A is success or not. \n\nIf no then return error, If yes, then process inserting the record to database B. \n\nAll of the code is doing the similar logic.","body":"Thanks for the suggestion. Let me describe my coding in detail.  Firstly, checking the data record is exist or not in database  If yes then return error, If no ,then process the &quot;insterting record to database -A&quot; action.  Secondly, check the insterting the record to database A is success or not.   If no then return error, If yes, then process inserting the record to database B.   All of the code is doing the similar logic."},{"owner":{"account_id":2729259,"reputation":6968,"user_id":2353403,"accept_rate":82,"display_name":"Coder"},"score":0,"creation_date":1678186112,"post_id":75659619,"comment_id":133480653,"body_markdown":"You can create a method for repetitive codes, like setting response object values. You can even pass the values as parameters if some values are going to be different for different if blocks.","body":"You can create a method for repetitive codes, like setting response object values. You can even pass the values as parameters if some values are going to be different for different if blocks."},{"owner":{"account_id":2729259,"reputation":6968,"user_id":2353403,"accept_rate":82,"display_name":"Coder"},"score":0,"creation_date":1678186191,"post_id":75659619,"comment_id":133480672,"body_markdown":"You can extract some parts of the code to another method, so the code doesn&#39;t look too complex and is also easily understandable. IDEs will help with that.","body":"You can extract some parts of the code to another method, so the code doesn&#39;t look too complex and is also easily understandable. IDEs will help with that."}],"answers":[{"tags":[],"owner":{"account_id":25955593,"reputation":88,"user_id":19673000,"display_name":"Tomtom"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678178781,"creation_date":1678178781,"answer_id":75659703,"question_id":75659619,"body_markdown":"There is probably more todo, but you can begin with : \r\n\r\n1. Stop code repetition : create a new function instead of repeating these line :\r\n \r\n```\r\nresponse.setStatusCode(SirResponse.ERROR_UNKNOWN_CD);\r\nresponse.setResultMsgByCode(SirResponse.ERROR_UNKNOWN_CD);\r\nAls.audit(AlsAction.EXCEPTION, &quot;Inserted mode hist record with error!!&quot;);\r\n```\r\n 2. Avoid nesting if statements\r\n```\r\nif (!condition) {\r\n return \r\n}\r\n```","title":"how to modifiy the case in java with too many &quot;if else&quot;","body":"<p>There is probably more todo, but you can begin with :</p>\n<ol>\n<li>Stop code repetition : create a new function instead of repeating these line :</li>\n</ol>\n<pre><code>response.setStatusCode(SirResponse.ERROR_UNKNOWN_CD);\nresponse.setResultMsgByCode(SirResponse.ERROR_UNKNOWN_CD);\nAls.audit(AlsAction.EXCEPTION, &quot;Inserted mode hist record with error!!&quot;);\n</code></pre>\n<ol start=\"2\">\n<li>Avoid nesting if statements</li>\n</ol>\n<pre><code>if (!condition) {\n return \n}\n</code></pre>\n"}],"owner":{"account_id":15708968,"reputation":1,"user_id":11334939,"display_name":"ben jjm"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678178781,"creation_date":1678178229,"question_id":75659619,"body_markdown":"Here is my coding part of project. Although I have completed the task, it is too long and looks messy. Is there anyway that can modifiy the structure and make it shorter? Thanks alot. \r\n\r\nSummarize of the code: It is about checking the record exists or not in the database. If you need some details, please let me know\r\n\r\n            CheckCertRecordDao checkCertHistRecordDao = new CheckCertRecordDaoImpl(connection);\r\n\t\t\t//CheckCertHistRecord\r\n\t\t\tint countCertRecord = 0;\r\n\t\t\tcountCertRecord = checkCertHistRecordDao.countCertHistRecordBySerialNo(certIdList);\r\n\t\t\tif (countCertRecord == 0) {\r\n\t\t\t\tInsertCertRecordDao insertCertHistRecordDao = new InsertCertRecordDaoImpl(connection);\r\n\t\t\t\tinsertedCertHist = insertCertHistRecordDao.insertCertHistRecord(certIdList);\r\n\t\t\t\tif (insertedCertHist = true) {\r\n\t\t\t\t\tcountCertRecord = checkCertHistRecordDao.countCertHistRecordBySerialNo(certIdList);\r\n\t\t\t\t\tif (countCertRecord == certIdList.size()) {\r\n\t\t\t\t\t\tAls.audit(AlsAction.EXCEPTION, &quot;Number of inserted cert hist record is matched with the certIdList!&quot;);\r\n\t\t\t\t\t\tString ModeRecord = null;\r\n\t\t\t\t\t\tCheckModeRecordDao checkModeHistRecordDao = new CheckModeRecordDaoImpl(connection);\r\n\t\t\t\t\t\tModeRecord = checkModeHistRecordDao.checkModeHistRecordByHcp(modeId);\r\n\t\t\t\t\t\tif (ValidValue.isEmpty(ModeRecord)) {\r\n\t\t\t\t\t\t\tInsertModeRecordDao insertModeHistRecordDao = new InsertModeRecordDaoImpl(connection);\r\n\t\t\t\t\t\t\tinsertedModeHist = insertModeHistRecordDao.insertModeHistRecord(modeId);\r\n\t\t\t\t\t\t\tif (insertedModeHist = true) {\r\n\t\t\t\t\t\t\t\tModeRecord = checkModeHistRecordDao.checkModeHistRecordByHcp(modeId); \r\n\t\t\t\t\t\t\t\tif (!ValidValue.isEmpty(ModeRecord)) {\r\n\t\t\t\t\t\t\t\t\tAls.audit(AlsAction.EXCEPTION, &quot;Inserted mode hist record is completed!&quot;);\r\n\t\t\t\t\t\t\t\t\tint countclientRecord = 0;\r\n\t\t\t\t\t\t\t\t\tCheckConnClientRecordDao checkConnClientHistRecordDao = new CheckConnClientRecordDaoImpl(connection);\r\n\t\t\t\t\t\t\t\t\tcountclientRecord = checkConnClientHistRecordDao.checkConnClientHistRecord(clientIdList);\r\n\t\t\t\t\t\t\t\t\tif (countclientRecord == 0 ) {\r\n\t\t\t\t\t\t\t\t\t\tInsertConnClientRecordDao insertConnClientHistRecordDao = new InsertConnClientRecordDaoImpl(connection);\r\n\t\t\t\t\t\t\t\t\t\tinsertedConnClientHist = insertConnClientHistRecordDao.insertConnClientHistRecord(clientIdList); \r\n\t\t\t\t\t\t\t\t\t\tAls.audit(AlsAction.INFO, &quot;insertedConnClientHist = &quot; + insertedConnClientHist);\r\n\t\t\t\t\t\t\t\t\t\tif (insertedConnClientHist = true) {\r\n\t\t\t\t\t\t\t\t\t\t\tcountclientRecord = checkConnClientHistRecordDao.checkConnClientHistRecord(clientIdList);\r\n\t\t\t\t\t\t\t\t\t\t\tAls.audit(AlsAction.INFO, &quot;countclientRecord = &quot; + countclientRecord);\r\n\t\t\t\t\t\t\t\t\t\t\tAls.audit(AlsAction.INFO, &quot;clientIdList = &quot; + clientIdList.size());\r\n\t\t\t\t\t\t\t\t\t\t\tif (countclientRecord == clientIdList.size()) {\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\tAls.audit(AlsAction.EXCEPTION, &quot;Number of inserted client hist record is matched with the clientIdList&quot;);\t\r\n\t\t\t\t\t\t\t\t\t\t\t\tCheckConnInfoDao checkConnInfoHistRecordDao = new CheckConnInfoDaoImpl(connection);\r\n\t\t\t\t\t\t\t\t\t\t\t\tint connInfoCount = checkConnInfoHistRecordDao.countConnInfoHistRecord(InfoIdList);\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (connInfoCount == 0 ) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tInsertConnInfoRecordDao insertConnInfoHistRecordDao = new InsertConnInfoRecordDaoImpl(connection);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinsertedConnInfoHist = insertConnInfoHistRecordDao.insertConnInfoHistRecord(InfoIdList);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (insertedConnInfoHist =  true) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tAls.audit(AlsAction.EXCEPTION, &quot;Inserting ConnInfo Hist Record is completed!&quot;);\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconnInfoCount = checkConnInfoHistRecordDao.countConnInfoHistRecord(InfoIdList);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (connInfoCount == InfoIdList.size() ){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAls.audit(AlsAction.EXCEPTION, &quot;Number of inserted connInfo hist record is matched with the InfoIdList&quot;);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tresponse.setStatusCode(SirResponse.ERROR_UNKNOWN_CD);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tresponse.setResultMsgByCode(SirResponse.ERROR_UNKNOWN_CD);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAls.audit(AlsAction.INFO, &quot;Number of inserted connInfo hist record is [NOT] matched with the InfoIdList&quot;);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tresponse.setStatusCode(SirResponse.ERROR_UNKNOWN_CD);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tresponse.setResultMsgByCode(SirResponse.ERROR_UNKNOWN_CD);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tAls.audit(AlsAction.EXCEPTION, &quot;Inserting ConnInfo Hist Record with error!&quot;);\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tresponse.setStatusCode(SirResponse.ERROR_UNKNOWN_CD);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tresponse.setResultMsgByCode(SirResponse.ERROR_UNKNOWN_CD);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tAls.audit(AlsAction.EXCEPTION, &quot;connInfoCount =/= 0, existing the connInfo hist record already!&quot;);\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\tresponse.setStatusCode(SirResponse.ERROR_UNKNOWN_CD);\r\n\t\t\t\t\t\t\t\t\t\t\t\tresponse.setResultMsgByCode(SirResponse.ERROR_UNKNOWN_CD);\r\n\t\t\t\t\t\t\t\t\t\t\t\tAls.audit(AlsAction.EXCEPTION, &quot;Number of inserted client hist record is [NOT] matched with the clientIdList&quot;);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t} else {\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tresponse.setStatusCode(SirResponse.ERROR_UNKNOWN_CD);\r\n\t\t\t\t\t\t\t\t\t\t\tresponse.setResultMsgByCode(SirResponse.ERROR_UNKNOWN_CD);\r\n\t\t\t\t\t\t\t\t\t\t\tAls.audit(AlsAction.EXCEPTION, &quot;Inserting ConnClient Hist Record with error!&quot;);\t\r\n\t\t\t\t\t\t\t\t\t\t}\t\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tresponse.setStatusCode(SirResponse.ERROR_UNKNOWN_CD);\r\n\t\t\t\t\t\t\t\t\t\tresponse.setResultMsgByCode(SirResponse.ERROR_UNKNOWN_CD);\r\n\t\t\t\t\t\t\t\t\t\tAls.audit(AlsAction.EXCEPTION, &quot;countclientRecord =/= 0, existing the connClient hist record already!&quot;);\t\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tresponse.setStatusCode(SirResponse.ERROR_UNKNOWN_CD);\r\n\t\t\t\t\t\t\t\t\tresponse.setResultMsgByCode(SirResponse.ERROR_UNKNOWN_CD);\r\n\t\t\t\t\t\t\t\t\tAls.audit(AlsAction.EXCEPTION, &quot;Inserted mode hist record with error!&quot;);\r\n\t\t\t\t\t\t\t\t}\t\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tresponse.setStatusCode(SirResponse.ERROR_UNKNOWN_CD);\r\n\t\t\t\t\t\t\t\tresponse.setResultMsgByCode(SirResponse.ERROR_UNKNOWN_CD);\r\n\t\t\t\t\t\t\t\tAls.audit(AlsAction.EXCEPTION, &quot;Inserted mode hist record with error!!&quot;);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tresponse.setStatusCode(SirResponse.ERROR_UNKNOWN_CD);\r\n\t\t\t\t\t\t\tresponse.setResultMsgByCode(SirResponse.ERROR_UNKNOWN_CD);\r\n\t\t\t\t\t\t\tAls.audit(AlsAction.EXCEPTION, &quot;ModeRecord is not empty, existing the mode hist record already!&quot;);\r\n\t\t\t\t\t\t}\t\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tresponse.setStatusCode(SirResponse.ERROR_UNKNOWN_CD);\r\n\t\t\t\t\t\tresponse.setResultMsgByCode(SirResponse.ERROR_UNKNOWN_CD);\r\n\t\t\t\t\t\tAls.audit(AlsAction.EXCEPTION, &quot;Number of inserted cert hist record is [NOT] matched with the certIdList&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresponse.setStatusCode(SirResponse.ERROR_UNKNOWN_CD);\r\n\t\t\t\t\tresponse.setResultMsgByCode(SirResponse.ERROR_UNKNOWN_CD);\r\n\t\t\t\t\tAls.audit(AlsAction.EXCEPTION, &quot;Inserted cert hist record with error!!&quot;);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tresponse.setStatusCode(SirResponse.ERROR_UNKNOWN_CD);\r\n\t\t\t\tresponse.setResultMsgByCode(SirResponse.ERROR_UNKNOWN_CD);\r\n\t\t\t\tAls.audit(AlsAction.EXCEPTION, &quot;countCertRecord =/= 0, existing the cert hist record already!&quot;);","title":"how to modifiy the case in java with too many &quot;if else&quot;","body":"<p>Here is my coding part of project. Although I have completed the task, it is too long and looks messy. Is there anyway that can modifiy the structure and make it shorter? Thanks alot.</p>\n<p>Summarize of the code: It is about checking the record exists or not in the database. If you need some details, please let me know</p>\n<pre><code>        CheckCertRecordDao checkCertHistRecordDao = new CheckCertRecordDaoImpl(connection);\n        //CheckCertHistRecord\n        int countCertRecord = 0;\n        countCertRecord = checkCertHistRecordDao.countCertHistRecordBySerialNo(certIdList);\n        if (countCertRecord == 0) {\n            InsertCertRecordDao insertCertHistRecordDao = new InsertCertRecordDaoImpl(connection);\n            insertedCertHist = insertCertHistRecordDao.insertCertHistRecord(certIdList);\n            if (insertedCertHist = true) {\n                countCertRecord = checkCertHistRecordDao.countCertHistRecordBySerialNo(certIdList);\n                if (countCertRecord == certIdList.size()) {\n                    Als.audit(AlsAction.EXCEPTION, &quot;Number of inserted cert hist record is matched with the certIdList!&quot;);\n                    String ModeRecord = null;\n                    CheckModeRecordDao checkModeHistRecordDao = new CheckModeRecordDaoImpl(connection);\n                    ModeRecord = checkModeHistRecordDao.checkModeHistRecordByHcp(modeId);\n                    if (ValidValue.isEmpty(ModeRecord)) {\n                        InsertModeRecordDao insertModeHistRecordDao = new InsertModeRecordDaoImpl(connection);\n                        insertedModeHist = insertModeHistRecordDao.insertModeHistRecord(modeId);\n                        if (insertedModeHist = true) {\n                            ModeRecord = checkModeHistRecordDao.checkModeHistRecordByHcp(modeId); \n                            if (!ValidValue.isEmpty(ModeRecord)) {\n                                Als.audit(AlsAction.EXCEPTION, &quot;Inserted mode hist record is completed!&quot;);\n                                int countclientRecord = 0;\n                                CheckConnClientRecordDao checkConnClientHistRecordDao = new CheckConnClientRecordDaoImpl(connection);\n                                countclientRecord = checkConnClientHistRecordDao.checkConnClientHistRecord(clientIdList);\n                                if (countclientRecord == 0 ) {\n                                    InsertConnClientRecordDao insertConnClientHistRecordDao = new InsertConnClientRecordDaoImpl(connection);\n                                    insertedConnClientHist = insertConnClientHistRecordDao.insertConnClientHistRecord(clientIdList); \n                                    Als.audit(AlsAction.INFO, &quot;insertedConnClientHist = &quot; + insertedConnClientHist);\n                                    if (insertedConnClientHist = true) {\n                                        countclientRecord = checkConnClientHistRecordDao.checkConnClientHistRecord(clientIdList);\n                                        Als.audit(AlsAction.INFO, &quot;countclientRecord = &quot; + countclientRecord);\n                                        Als.audit(AlsAction.INFO, &quot;clientIdList = &quot; + clientIdList.size());\n                                        if (countclientRecord == clientIdList.size()) {                                         \n                                            Als.audit(AlsAction.EXCEPTION, &quot;Number of inserted client hist record is matched with the clientIdList&quot;);   \n                                            CheckConnInfoDao checkConnInfoHistRecordDao = new CheckConnInfoDaoImpl(connection);\n                                            int connInfoCount = checkConnInfoHistRecordDao.countConnInfoHistRecord(InfoIdList);\n                                            if (connInfoCount == 0 ) {\n                                                InsertConnInfoRecordDao insertConnInfoHistRecordDao = new InsertConnInfoRecordDaoImpl(connection);\n                                                insertedConnInfoHist = insertConnInfoHistRecordDao.insertConnInfoHistRecord(InfoIdList);\n                                                if (insertedConnInfoHist =  true) {\n                                                    Als.audit(AlsAction.EXCEPTION, &quot;Inserting ConnInfo Hist Record is completed!&quot;); \n                                                    connInfoCount = checkConnInfoHistRecordDao.countConnInfoHistRecord(InfoIdList);\n                                                    if (connInfoCount == InfoIdList.size() ){\n                                                        Als.audit(AlsAction.EXCEPTION, &quot;Number of inserted connInfo hist record is matched with the InfoIdList&quot;);\n                                                    } else {\n                                                        response.setStatusCode(SirResponse.ERROR_UNKNOWN_CD);\n                                                        response.setResultMsgByCode(SirResponse.ERROR_UNKNOWN_CD);\n                                                        Als.audit(AlsAction.INFO, &quot;Number of inserted connInfo hist record is [NOT] matched with the InfoIdList&quot;);\n                                                    }   \n                                                } else {\n                                                    response.setStatusCode(SirResponse.ERROR_UNKNOWN_CD);\n                                                    response.setResultMsgByCode(SirResponse.ERROR_UNKNOWN_CD);\n                                                    Als.audit(AlsAction.EXCEPTION, &quot;Inserting ConnInfo Hist Record with error!&quot;);   \n                                                }                                                       \n                                            } else {\n                                                response.setStatusCode(SirResponse.ERROR_UNKNOWN_CD);\n                                                response.setResultMsgByCode(SirResponse.ERROR_UNKNOWN_CD);\n                                                Als.audit(AlsAction.EXCEPTION, &quot;connInfoCount =/= 0, existing the connInfo hist record already!&quot;);  \n                                            }\n                                        } else {\n                                            response.setStatusCode(SirResponse.ERROR_UNKNOWN_CD);\n                                            response.setResultMsgByCode(SirResponse.ERROR_UNKNOWN_CD);\n                                            Als.audit(AlsAction.EXCEPTION, &quot;Number of inserted client hist record is [NOT] matched with the clientIdList&quot;);                                                                             \n                                        }\n                                    } else {                                        \n                                        response.setStatusCode(SirResponse.ERROR_UNKNOWN_CD);\n                                        response.setResultMsgByCode(SirResponse.ERROR_UNKNOWN_CD);\n                                        Als.audit(AlsAction.EXCEPTION, &quot;Inserting ConnClient Hist Record with error!&quot;); \n                                    }   \n                                } else {\n                                    response.setStatusCode(SirResponse.ERROR_UNKNOWN_CD);\n                                    response.setResultMsgByCode(SirResponse.ERROR_UNKNOWN_CD);\n                                    Als.audit(AlsAction.EXCEPTION, &quot;countclientRecord =/= 0, existing the connClient hist record already!&quot;);    \n                                }\n                            } else {\n                                response.setStatusCode(SirResponse.ERROR_UNKNOWN_CD);\n                                response.setResultMsgByCode(SirResponse.ERROR_UNKNOWN_CD);\n                                Als.audit(AlsAction.EXCEPTION, &quot;Inserted mode hist record with error!&quot;);\n                            }   \n                        } else {\n                            response.setStatusCode(SirResponse.ERROR_UNKNOWN_CD);\n                            response.setResultMsgByCode(SirResponse.ERROR_UNKNOWN_CD);\n                            Als.audit(AlsAction.EXCEPTION, &quot;Inserted mode hist record with error!!&quot;);\n                        }\n                    } else {\n                        response.setStatusCode(SirResponse.ERROR_UNKNOWN_CD);\n                        response.setResultMsgByCode(SirResponse.ERROR_UNKNOWN_CD);\n                        Als.audit(AlsAction.EXCEPTION, &quot;ModeRecord is not empty, existing the mode hist record already!&quot;);\n                    }   \n                } else {\n                    response.setStatusCode(SirResponse.ERROR_UNKNOWN_CD);\n                    response.setResultMsgByCode(SirResponse.ERROR_UNKNOWN_CD);\n                    Als.audit(AlsAction.EXCEPTION, &quot;Number of inserted cert hist record is [NOT] matched with the certIdList&quot;);\n                }\n            } else {\n                response.setStatusCode(SirResponse.ERROR_UNKNOWN_CD);\n                response.setResultMsgByCode(SirResponse.ERROR_UNKNOWN_CD);\n                Als.audit(AlsAction.EXCEPTION, &quot;Inserted cert hist record with error!!&quot;);\n            }\n        } else {\n            response.setStatusCode(SirResponse.ERROR_UNKNOWN_CD);\n            response.setResultMsgByCode(SirResponse.ERROR_UNKNOWN_CD);\n            Als.audit(AlsAction.EXCEPTION, &quot;countCertRecord =/= 0, existing the cert hist record already!&quot;);\n</code></pre>\n"},{"tags":["java","camera","ip-camera"],"owner":{"account_id":27828840,"reputation":21,"user_id":21247661,"display_name":"Miner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678178080,"creation_date":1677572116,"question_id":75589412,"body_markdown":"We have plenty of cameras on a neighbor city. We use SOMESOFT to connect cameras (also we have PTZ cameras). When 10 or more users connect simultaneously, heavy traffic loads on our network, because users connect to the camera directly. \r\n\r\n\r\nThe question is, how to make RTSP middleware to broadcast all of the cameras&#39; streams from our office server?\r\nHow to make it on java?\r\n\r\nStructure is something like that:\r\n[structure][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1VSeX.png","title":"How to make RTSP middleware for ip cameras","body":"<p>We have plenty of cameras on a neighbor city. We use SOMESOFT to connect cameras (also we have PTZ cameras). When 10 or more users connect simultaneously, heavy traffic loads on our network, because users connect to the camera directly.</p>\n<p>The question is, how to make RTSP middleware to broadcast all of the cameras' streams from our office server?\nHow to make it on java?</p>\n<p>Structure is something like that:\n<a href=\"https://i.stack.imgur.com/1VSeX.png\" rel=\"nofollow noreferrer\">structure</a></p>\n"},{"tags":["java","spring","spring-boot","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":8191586,"reputation":81,"user_id":12195379,"display_name":"Rajesh Rai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678177608,"creation_date":1678177608,"answer_id":75659525,"question_id":75475055,"body_markdown":"you can use custom BeanFactory implementation where you can create multiple beans of same kafka factory with different names. you can follow more details [here][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-same-class-multiple-beans#2-custom-beanfactory-implementation","title":"How can i create ConcurrentKafkaListenerContainerFactory dynamically by setting bean name?","body":"<p>you can use custom BeanFactory implementation where you can create multiple beans of same kafka factory with different names. you can follow more details <a href=\"https://www.baeldung.com/spring-same-class-multiple-beans#2-custom-beanfactory-implementation\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678177608,"creation_date":1676564179,"question_id":75475055,"body_markdown":"I am trying to create ConcurrentKafkaListenerContainerFactory&#39;s. I need more than 10. I don&#39;t want to create these factories by hard coded with copy and paste one after the other. How can i create these dynamically by setting **custom bean name**?\r\n\r\n\r\n         @Bean\r\n      public ConsumerFactory&lt;String, MyDTO&gt; consumerFactory() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        // props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, true);\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        props.put(JsonDeserializer.TRUSTED_PACKAGES, &quot;*&quot;); // Allow deserialization of all packages\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(\r\n            props, new StringDeserializer(), new JsonDeserializer&lt;&gt;(MyDTO.class));\r\n      }\r\n\r\n    @Bean\r\n        public ConcurrentKafkaListenerContainerFactory&lt;String, MyDTO&gt;\r\n            kafkaListenerContainerFactory1() {\r\n          ConcurrentKafkaListenerContainerFactory&lt;String, MyDTO&gt; factory =\r\n              new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n          factory\r\n              .getContainerProperties()\r\n              .setIdleBetweenPolls(\r\n                  topicProperties\r\n                      .getTopics()\r\n                      .getSubTopics()\r\n                      .get(TOPIC_1.getLabel())\r\n                      .getPollIntervalMs());\r\n          factory.setConsumerFactory(consumerFactory());\r\n          return factory;\r\n        }\r\n\r\n\r\nMy listener:\r\n\r\n      @KafkaListener(\r\n          topics =\r\n              &quot;topic&quot;,\r\n          containerFactory = &quot;kafkaListenerContainerFactory1&quot;, \r\n          groupId = &quot;group&quot;)\r\n      @Override\r\n      public void consume1(MyDTO dto) {\r\n        log.info(&quot;consumed {}&quot;, dto.toString());\r\n      }","title":"How can i create ConcurrentKafkaListenerContainerFactory dynamically by setting bean name?","body":"<p>I am trying to create ConcurrentKafkaListenerContainerFactory's. I need more than 10. I don't want to create these factories by hard coded with copy and paste one after the other. How can i create these dynamically by setting <strong>custom bean name</strong>?</p>\n<pre><code>     @Bean\n  public ConsumerFactory&lt;String, MyDTO&gt; consumerFactory() {\n    Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n    // props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, true);\n    props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n    props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n    props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n    props.put(JsonDeserializer.TRUSTED_PACKAGES, &quot;*&quot;); // Allow deserialization of all packages\n    props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n    return new DefaultKafkaConsumerFactory&lt;&gt;(\n        props, new StringDeserializer(), new JsonDeserializer&lt;&gt;(MyDTO.class));\n  }\n\n@Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, MyDTO&gt;\n        kafkaListenerContainerFactory1() {\n      ConcurrentKafkaListenerContainerFactory&lt;String, MyDTO&gt; factory =\n          new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n      factory\n          .getContainerProperties()\n          .setIdleBetweenPolls(\n              topicProperties\n                  .getTopics()\n                  .getSubTopics()\n                  .get(TOPIC_1.getLabel())\n                  .getPollIntervalMs());\n      factory.setConsumerFactory(consumerFactory());\n      return factory;\n    }\n</code></pre>\n<p>My listener:</p>\n<pre><code>  @KafkaListener(\n      topics =\n          &quot;topic&quot;,\n      containerFactory = &quot;kafkaListenerContainerFactory1&quot;, \n      groupId = &quot;group&quot;)\n  @Override\n  public void consume1(MyDTO dto) {\n    log.info(&quot;consumed {}&quot;, dto.toString());\n  }\n</code></pre>\n"},{"tags":["java","io","bufferedreader"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1678093831,"post_id":75648837,"comment_id":133459947,"body_markdown":"It’s probably that your terminal is buffering until the end of line before it’s available to be read by the Java program","body":"It’s probably that your terminal is buffering until the end of line before it’s available to be read by the Java program"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1678094533,"post_id":75648837,"comment_id":133460108,"body_markdown":"I see no point in wrapping the `InputStreamReader` inside another `BufferedReader` the way it&#39;s used here and (as the name suggests) the `BufferedReader` adds another layer of buffering that may or may not cause the behaviour you use. To get &quot;as direct as possible&quot; imput, use the `InputStreamReader` directly (though what Tim Moore suggests could still happen and cause the behaviour even without the `BufferedReader`).","body":"I see no point in wrapping the <code>InputStreamReader</code> inside another <code>BufferedReader</code> the way it&#39;s used here and (as the name suggests) the <code>BufferedReader</code> adds another layer of buffering that may or may not cause the behaviour you use. To get &quot;as direct as possible&quot; imput, use the <code>InputStreamReader</code> directly (though what Tim Moore suggests could still happen and cause the behaviour even without the <code>BufferedReader</code>)."},{"owner":{"account_id":23612624,"reputation":97,"user_id":17647337,"display_name":"fourleafclover"},"score":0,"creation_date":1678098692,"post_id":75648837,"comment_id":133461207,"body_markdown":"What @TimMoore describes makes sense and seems to be the explanation. I found two related stackoverflow threads on this topic [here](https://stackoverflow.com/questions/1066318/how-to-read-a-single-char-from-the-console-in-java-as-the-user-types-it) and [here](https://stackoverflow.com/questions/74085055/reading-system-in-character-by-character-without-buffering?rq=1) which might be useful for future reference.","body":"What @TimMoore describes makes sense and seems to be the explanation. I found two related stackoverflow threads on this topic <a href=\"https://stackoverflow.com/questions/1066318/how-to-read-a-single-char-from-the-console-in-java-as-the-user-types-it\">here</a> and <a href=\"https://stackoverflow.com/questions/74085055/reading-system-in-character-by-character-without-buffering?rq=1\">here</a> which might be useful for future reference."},{"owner":{"account_id":5247691,"reputation":305,"user_id":4192839,"display_name":"CyberMafia"},"score":0,"creation_date":1678099247,"post_id":75648837,"comment_id":133461377,"body_markdown":"That is how Buffered Streams work. They are used for better efficiency where data is read or write from buffer. You have decorated your input stream with buffered stream. So as soon as you start giving inputs, it will be sent to the buffer and once you hit enter, your program will start reading that data from buffer. You might want to explore Scanner class.","body":"That is how Buffered Streams work. They are used for better efficiency where data is read or write from buffer. You have decorated your input stream with buffered stream. So as soon as you start giving inputs, it will be sent to the buffer and once you hit enter, your program will start reading that data from buffer. You might want to explore Scanner class."},{"owner":{"account_id":23612624,"reputation":97,"user_id":17647337,"display_name":"fourleafclover"},"score":0,"creation_date":1678103056,"post_id":75648837,"comment_id":133462426,"body_markdown":"It seems to go deeper than that @CyberMafia. The same behavior persists if InputStreamReader is not wrapped by BufferedReader, as @JoachimSauer pointed out. So it is rather caused by the buffer settings of the terminal itself (in my case on a Linux system). The buffering behavior of the terminal can be changed using e.g. `stty` as pointed out [here](https://stackoverflow.com/a/6876253/17647337), but it is a change that is probably not required/intended by the authors of the example.","body":"It seems to go deeper than that @CyberMafia. The same behavior persists if InputStreamReader is not wrapped by BufferedReader, as @JoachimSauer pointed out. So it is rather caused by the buffer settings of the terminal itself (in my case on a Linux system). The buffering behavior of the terminal can be changed using e.g. <code>stty</code> as pointed out <a href=\"https://stackoverflow.com/a/6876253/17647337\">here</a>, but it is a change that is probably not required/intended by the authors of the example."}],"answers":[{"tags":[],"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678177525,"creation_date":1678097249,"answer_id":75649467,"question_id":75648837,"body_markdown":"System.in which you are using is buffered under the hood. The input will be send to the program only after you press &lt;kbd&gt;return&lt;/kbd&gt;.  \r\nFor this kind of functionality is better to use: `Scanner` class.\r\n\r\nI think the autor of the book did not meant that the input was terminated at the &quot;.&quot; character. I think what was entered was *One Two.&lt;kbd&gt;return&lt;/kbd&gt;*, in the same way as you did.\r\n","title":"BufferedReader linked to System.in does not stop reading upon reaching specified character","body":"<p>System.in which you are using is buffered under the hood. The input will be send to the program only after you press <kbd>return</kbd>.<br />\nFor this kind of functionality is better to use: <code>Scanner</code> class.</p>\n<p>I think the autor of the book did not meant that the input was terminated at the &quot;.&quot; character. I think what was entered was <em>One Two.<kbd>return</kbd></em>, in the same way as you did.</p>\n"}],"owner":{"account_id":23612624,"reputation":97,"user_id":17647337,"display_name":"fourleafclover"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75649467,"answer_count":1,"score":2,"last_activity_date":1678177525,"creation_date":1678093259,"question_id":75648837,"body_markdown":"I&#39;m working through an example program provided in the Book &quot;Java A Beginnner&#39;s Guide (9th Ed.)&quot; by Herbert Schildt. The example reads: \r\n\r\n&gt; The following program demonstrates `read()` by reading characters from\r\n&gt; the console until the user types a period.\r\n\r\nThe code looks like this:\r\n\r\n```java\r\nimport java.io.*;\r\n\r\npublic class ReadChars {\r\n\r\n\tpublic static void main(String[] args) throws IOException{\r\n\r\n\t\tchar c;\r\n\t\t\r\n\t\tBufferedReader br = new BufferedReader(\r\n\t\t\t\tnew InputStreamReader(System.in, System.console().charset()));\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter characters, period to quit.&quot;);\r\n\t\t\r\n\t\tdo {\r\n\t\t\tc = (char) br.read();\r\n\t\t\tSystem.out.println(c);\r\n\t\t} while (c != &#39;.&#39;);\r\n\t}\r\n\r\n}\r\n```\r\nThe example output they provide looks like this:\r\n```none\r\nEnter characters, period to quit.\r\nOne Two.\r\nO\r\nn\r\ne\r\n\r\nT\r\nw\r\no\r\n.\r\n```\r\nIt to me suggests that the input was (as described) terminated at the `&#39;.&#39;` character and then printed to the console.\r\n\r\nHowever, when running the example myself, the output looks more like this:\r\n```none\r\nEnter characters, period to quit.\r\nabcde.fghij&lt;return&gt;\r\na\r\nb\r\nc\r\nd\r\ne\r\n.\r\n```\r\nThat is, I first have to terminate the input with `&lt;return&gt;` and only then the characters are printed correctly up to the first `&#39;.&#39;` character in the input.\r\n\r\nI would like to understand what exactly is going on here. I assume it has something to do with the fact that the console input is somehow buffered and only flushed on `&lt;return&gt;`, but to me this is a bit confusing given the structure of the code, which reads and prints the characters in a do-while loop and should break as soon as a `&#39;.&#39;` is encountered.\r\n\r\nWould someone be able to break down the order of things that are happening that lead to this behavior (i.e. the last output above) in contrast to the example output (i.e. the first output above)?","title":"BufferedReader linked to System.in does not stop reading upon reaching specified character","body":"<p>I'm working through an example program provided in the Book &quot;Java A Beginnner's Guide (9th Ed.)&quot; by Herbert Schildt. The example reads:</p>\n<blockquote>\n<p>The following program demonstrates <code>read()</code> by reading characters from\nthe console until the user types a period.</p>\n</blockquote>\n<p>The code looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\n\npublic class ReadChars {\n\n    public static void main(String[] args) throws IOException{\n\n        char c;\n        \n        BufferedReader br = new BufferedReader(\n                new InputStreamReader(System.in, System.console().charset()));\n        \n        System.out.println(&quot;Enter characters, period to quit.&quot;);\n        \n        do {\n            c = (char) br.read();\n            System.out.println(c);\n        } while (c != '.');\n    }\n\n}\n</code></pre>\n<p>The example output they provide looks like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter characters, period to quit.\nOne Two.\nO\nn\ne\n\nT\nw\no\n.\n</code></pre>\n<p>It to me suggests that the input was (as described) terminated at the <code>'.'</code> character and then printed to the console.</p>\n<p>However, when running the example myself, the output looks more like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter characters, period to quit.\nabcde.fghij&lt;return&gt;\na\nb\nc\nd\ne\n.\n</code></pre>\n<p>That is, I first have to terminate the input with <code>&lt;return&gt;</code> and only then the characters are printed correctly up to the first <code>'.'</code> character in the input.</p>\n<p>I would like to understand what exactly is going on here. I assume it has something to do with the fact that the console input is somehow buffered and only flushed on <code>&lt;return&gt;</code>, but to me this is a bit confusing given the structure of the code, which reads and prints the characters in a do-while loop and should break as soon as a <code>'.'</code> is encountered.</p>\n<p>Would someone be able to break down the order of things that are happening that lead to this behavior (i.e. the last output above) in contrast to the example output (i.e. the first output above)?</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","dynamodb-queries"],"answers":[{"comments":[{"owner":{"account_id":5596641,"reputation":1936,"user_id":4434202,"accept_rate":54,"display_name":"Akinn"},"score":0,"creation_date":1678122464,"post_id":75653552,"comment_id":133468260,"body_markdown":"yeah, my problem here is that we&#39;re using a custom library to perform the crawling and I don&#39;t have access to the queryResultPage computed at the previous step","body":"yeah, my problem here is that we&#39;re using a custom library to perform the crawling and I don&#39;t have access to the queryResultPage computed at the previous step"},{"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"score":0,"creation_date":1678128943,"post_id":75653552,"comment_id":133470053,"body_markdown":"You should check the value you compute matches the expected value, the exception you receives indicates it does not.","body":"You should check the value you compute matches the expected value, the exception you receives indicates it does not."}],"tags":[],"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678121178,"creation_date":1678121178,"answer_id":75653552,"question_id":75653403,"body_markdown":"Why are you trying to manually reconstruct the `ExclusiveStartKey`? To avoid issues, like the one you are seeing, you should call [`getLastEvaluatedKey()`](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/QueryResultPage.html#getLastEvaluatedKey--)\r\n\r\n```\r\n    DynamoDbAddress key = new DynamoDbAddress();\r\n    key.setProvider(DATA_PROVIDER);\r\n\r\n    return dbMapper.queryPage(DynamoDbAddress.class, new DynamoDBQueryExpression&lt;DynamoDbAddress&gt;()\r\n            .withLimit(pageSize)\r\n            .withIndexName(TABLE_GSI)\r\n            .withHashKeyValues(key)\r\n            .withRangeKeyCondition(&quot;Time&quot;, new Condition().withComparisonOperator(ComparisonOperator.LE)\r\n                    .withAttributeValueList(new AttributeValue(Instant.now().minus(26, ChronoUnit.DAYS).toString())))\r\n            .withExclusiveStartKey(lastResult.getEvaluatedKey())\r\n.getResults();\r\n\r\n```\r\n\r\n","title":"The provided starting key does not match the range key predicate","body":"<p>Why are you trying to manually reconstruct the <code>ExclusiveStartKey</code>? To avoid issues, like the one you are seeing, you should call <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/QueryResultPage.html#getLastEvaluatedKey--\" rel=\"nofollow noreferrer\"><code>getLastEvaluatedKey()</code></a></p>\n<pre><code>    DynamoDbAddress key = new DynamoDbAddress();\n    key.setProvider(DATA_PROVIDER);\n\n    return dbMapper.queryPage(DynamoDbAddress.class, new DynamoDBQueryExpression&lt;DynamoDbAddress&gt;()\n            .withLimit(pageSize)\n            .withIndexName(TABLE_GSI)\n            .withHashKeyValues(key)\n            .withRangeKeyCondition(&quot;Time&quot;, new Condition().withComparisonOperator(ComparisonOperator.LE)\n                    .withAttributeValueList(new AttributeValue(Instant.now().minus(26, ChronoUnit.DAYS).toString())))\n            .withExclusiveStartKey(lastResult.getEvaluatedKey())\n.getResults();\n\n</code></pre>\n"}],"owner":{"account_id":5596641,"reputation":1936,"user_id":4434202,"accept_rate":54,"display_name":"Akinn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678177416,"creation_date":1678120344,"question_id":75653403,"body_markdown":"I have a DynamoDB table where:\r\n\r\n    PK: String\r\n\r\nand a GSI on this table where PK and SK are attributes of the original table:\r\n\r\n    PK: String\r\n\r\n    SK: String \r\n(actually the `SK` it&#39;s the `String` representation of a `Java Instant`)\r\n\r\nFor a test, I&#39;m trying to crawl over the pages returned by the queryPage method.\r\nI&#39;ve created 4 items and set the page size to 2.\r\n\r\nWhen retrieving the first page (2 items) I&#39;m doing:\r\n\r\n    DynamoDbAddress key = new DynamoDbAddress();\r\n    key.setProvider(DATA_PROVIDER);\r\n\r\n    return dbMapper.queryPage(DynamoDbAddress.class, new DynamoDBQueryExpression&lt;DynamoDbAddress&gt;()\r\n                    .withLimit(pageSize)\r\n                    .withIndexName(TABLE_GSI)\r\n                    .withHashKeyValues(key)\r\n                    .withRangeKeyCondition(&quot;Time&quot;, new Condition().withComparisonOperator(ComparisonOperator.LE)\r\n                            .withAttributeValueList(new AttributeValue(Instant.now().minus(26, ChronoUnit.DAYS).toString())))\r\n                    )\r\n            .getResults();\r\n\r\nThis snippet is working fine and retrieves 2 elements as expected.\r\nWhen retrieving the second page (the final 2 items), I&#39;m doing:\r\n\r\n        DynamoDbAddress key = new DynamoDbAddress();\r\n        key.setProvider(DATA_PROVIDER);\r\n\r\n        return dbMapper.queryPage(DynamoDbAddress.class, new DynamoDBQueryExpression&lt;DynamoDbAddress&gt;()\r\n                .withLimit(pageSize)\r\n                .withIndexName(TABLE_GSI)\r\n                .withHashKeyValues(key)\r\n                .withRangeKeyCondition(&quot;Time&quot;, new Condition().withComparisonOperator(ComparisonOperator.LE)\r\n                        .withAttributeValueList(new AttributeValue(Instant.now().minus(26, ChronoUnit.DAYS).toString())))\r\n                .withExclusiveStartKey(Map.of(\r\n                                &quot;Provider&quot;, new AttributeValue().withS(lastProcessed.getProvider().toString()),\r\n                                &quot;Time&quot;, new AttributeValue().withS(lastProcessed.getTime().toString()),\r\n                                &quot;PK&quot;, new AttributeValue().withS(lastProcessed.getPartitionKey()))))\r\n    .getResults();\r\n\r\nHowever, I&#39;m getting the following error:\r\n\r\n    The provided starting key does not match the range key predicate\r\n\r\n\r\nMy interpretation of the error is that &quot;the `lastProcessed` element does not match the condition expressed in the range key&quot;. However, this looks a little absurd to me, as it was retrieved by the very same query in the snippet executed a second before.\r\n\r\nI&#39;ve also verified the test data match the key condition","title":"The provided starting key does not match the range key predicate","body":"<p>I have a DynamoDB table where:</p>\n<pre><code>PK: String\n</code></pre>\n<p>and a GSI on this table where PK and SK are attributes of the original table:</p>\n<pre><code>PK: String\n\nSK: String \n</code></pre>\n<p>(actually the <code>SK</code> it's the <code>String</code> representation of a <code>Java Instant</code>)</p>\n<p>For a test, I'm trying to crawl over the pages returned by the queryPage method.\nI've created 4 items and set the page size to 2.</p>\n<p>When retrieving the first page (2 items) I'm doing:</p>\n<pre><code>DynamoDbAddress key = new DynamoDbAddress();\nkey.setProvider(DATA_PROVIDER);\n\nreturn dbMapper.queryPage(DynamoDbAddress.class, new DynamoDBQueryExpression&lt;DynamoDbAddress&gt;()\n                .withLimit(pageSize)\n                .withIndexName(TABLE_GSI)\n                .withHashKeyValues(key)\n                .withRangeKeyCondition(&quot;Time&quot;, new Condition().withComparisonOperator(ComparisonOperator.LE)\n                        .withAttributeValueList(new AttributeValue(Instant.now().minus(26, ChronoUnit.DAYS).toString())))\n                )\n        .getResults();\n</code></pre>\n<p>This snippet is working fine and retrieves 2 elements as expected.\nWhen retrieving the second page (the final 2 items), I'm doing:</p>\n<pre><code>    DynamoDbAddress key = new DynamoDbAddress();\n    key.setProvider(DATA_PROVIDER);\n\n    return dbMapper.queryPage(DynamoDbAddress.class, new DynamoDBQueryExpression&lt;DynamoDbAddress&gt;()\n            .withLimit(pageSize)\n            .withIndexName(TABLE_GSI)\n            .withHashKeyValues(key)\n            .withRangeKeyCondition(&quot;Time&quot;, new Condition().withComparisonOperator(ComparisonOperator.LE)\n                    .withAttributeValueList(new AttributeValue(Instant.now().minus(26, ChronoUnit.DAYS).toString())))\n            .withExclusiveStartKey(Map.of(\n                            &quot;Provider&quot;, new AttributeValue().withS(lastProcessed.getProvider().toString()),\n                            &quot;Time&quot;, new AttributeValue().withS(lastProcessed.getTime().toString()),\n                            &quot;PK&quot;, new AttributeValue().withS(lastProcessed.getPartitionKey()))))\n.getResults();\n</code></pre>\n<p>However, I'm getting the following error:</p>\n<pre><code>The provided starting key does not match the range key predicate\n</code></pre>\n<p>My interpretation of the error is that &quot;the <code>lastProcessed</code> element does not match the condition expressed in the range key&quot;. However, this looks a little absurd to me, as it was retrieved by the very same query in the snippet executed a second before.</p>\n<p>I've also verified the test data match the key condition</p>\n"},{"tags":["java","windows","wix","windows-installer","jpackage"],"answers":[{"tags":[],"owner":{"account_id":19133637,"reputation":3,"user_id":13975033,"display_name":"AlexViver"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678177265,"creation_date":1677683268,"answer_id":75605537,"question_id":75603275,"body_markdown":"I seem to have found a way to solve the problem:\r\nJpackage allows us to edit the `main.wxs` file. In this file, if we want to add either a command or in my case a RegistryKey, we can. Just add\r\n\r\n```\r\n&lt;Product&gt;\r\n    ...\r\n    &lt;Component Id=&#39;SomeComponent&#39; Guid=&#39;SomeGUID&#39; Directory=&quot;INSTALLDIR&quot;&gt;\r\n        &lt;RegistryKey Root=&quot;HKCR/example/location&quot; Key=&quot;foo&quot; &gt;\r\n           &lt;RegistryValue Name=&quot;bar&quot; Value=&#39;YourValue&#39; Type=&quot;string&quot; /&gt;\r\n        &lt;/RegistryKey&gt;\r\n    &lt;/Component&gt;\r\n&lt;/Product&gt;\r\n```\r\n\r\nAnd inside feature:\r\n\r\n```\r\n&lt;Feature Id=&quot;DefaultFeature&quot; Title=&quot;!(loc.MainFeatureTitle)&quot; Level=&quot;1&quot;&gt;\r\n    ...\r\n    &lt;ComponentRef Id=&quot;RegistryComponent&quot;/&gt;\r\n&lt;/Feature&gt;\r\n```\r\n\r\nThis should add your custom registry key in `HKCR/example/location/foo` and a string key `&quot;bar&quot;` with value `&quot;YourValue&quot;`.\r\n","title":"Post-installation script in Jpackage for Windows","body":"<p>I seem to have found a way to solve the problem:\nJpackage allows us to edit the <code>main.wxs</code> file. In this file, if we want to add either a command or in my case a RegistryKey, we can. Just add</p>\n<pre><code>&lt;Product&gt;\n    ...\n    &lt;Component Id='SomeComponent' Guid='SomeGUID' Directory=&quot;INSTALLDIR&quot;&gt;\n        &lt;RegistryKey Root=&quot;HKCR/example/location&quot; Key=&quot;foo&quot; &gt;\n           &lt;RegistryValue Name=&quot;bar&quot; Value='YourValue' Type=&quot;string&quot; /&gt;\n        &lt;/RegistryKey&gt;\n    &lt;/Component&gt;\n&lt;/Product&gt;\n</code></pre>\n<p>And inside feature:</p>\n<pre><code>&lt;Feature Id=&quot;DefaultFeature&quot; Title=&quot;!(loc.MainFeatureTitle)&quot; Level=&quot;1&quot;&gt;\n    ...\n    &lt;ComponentRef Id=&quot;RegistryComponent&quot;/&gt;\n&lt;/Feature&gt;\n</code></pre>\n<p>This should add your custom registry key in <code>HKCR/example/location/foo</code> and a string key <code>&quot;bar&quot;</code> with value <code>&quot;YourValue&quot;</code>.</p>\n"}],"owner":{"account_id":19133637,"reputation":3,"user_id":13975033,"display_name":"AlexViver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75605537,"answer_count":1,"score":0,"last_activity_date":1678177265,"creation_date":1677671110,"question_id":75603275,"body_markdown":"I have been exploring jpackage to create installers for an app and I have already created installers for both MacOs and Linux. \r\nNow that I&#39;m trying to create an installer for Windows I came across a problem, while MacOs and Linux both offer the possibility of having a post installation script Windows seems to have nothing of the sort. \r\nMy application needs to register some entries in the windows registry and I&#39;m at a loss of how i could achieve this using jpackage.\r\n\r\nI&#39;ve been using [Override Resources](https://docs.oracle.com/en/java/javase/16/jpackage/override-jpackage-resources.html#GUID-62412365-821D-4736-A20D-70F2D47136D8) as my reference.\r\nI have tried using the Post-image script but it seems like I misunderstood what it does and it doesn&#39;t actually run during the installation. \r\nI am now looking at the .wix files to see if that would allow me to achieve what I need but I have never worked with the Wix Toolset.\r\n\r\nIs anyone aware of a way to achieve this?","title":"Post-installation script in Jpackage for Windows","body":"<p>I have been exploring jpackage to create installers for an app and I have already created installers for both MacOs and Linux.\nNow that I'm trying to create an installer for Windows I came across a problem, while MacOs and Linux both offer the possibility of having a post installation script Windows seems to have nothing of the sort.\nMy application needs to register some entries in the windows registry and I'm at a loss of how i could achieve this using jpackage.</p>\n<p>I've been using <a href=\"https://docs.oracle.com/en/java/javase/16/jpackage/override-jpackage-resources.html#GUID-62412365-821D-4736-A20D-70F2D47136D8\" rel=\"nofollow noreferrer\">Override Resources</a> as my reference.\nI have tried using the Post-image script but it seems like I misunderstood what it does and it doesn't actually run during the installation.\nI am now looking at the .wix files to see if that would allow me to achieve what I need but I have never worked with the Wix Toolset.</p>\n<p>Is anyone aware of a way to achieve this?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":2931887,"reputation":8248,"user_id":2511915,"accept_rate":85,"display_name":"Dark Knight"},"score":0,"creation_date":1678174216,"post_id":75659042,"comment_id":133477457,"body_markdown":"question is ambiguous. more details would certainly help users understand the exact issue","body":"question is ambiguous. more details would certainly help users understand the exact issue"},{"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"score":0,"creation_date":1678174269,"post_id":75659042,"comment_id":133477465,"body_markdown":"try @PathVariable(&quot;id&quot;) @PathVariable(&quot;year&quot;) @PathVariable(&quot;icon&quot;)","body":"try @PathVariable(&quot;id&quot;) @PathVariable(&quot;year&quot;) @PathVariable(&quot;icon&quot;)"},{"owner":{"account_id":25175314,"reputation":9,"user_id":19017584,"display_name":"chirag jain"},"score":0,"creation_date":1678174356,"post_id":75659042,"comment_id":133477481,"body_markdown":"I have to use some class of entity instead of @PathVariable","body":"I have to use some class of entity instead of @PathVariable"}],"answers":[{"tags":[],"owner":{"account_id":14429279,"reputation":130,"user_id":10423076,"display_name":"Govil Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678176745,"creation_date":1678176745,"answer_id":75659415,"question_id":75659042,"body_markdown":"You can try creating a DTO.\r\n```java\r\npublic class ExperienceDTO {\r\n //add fields\r\n //generate getters and setters or use lombok\r\n}\r\n```\r\n\r\nChange your API\r\n\r\n    @PutMapping(&quot;/editExperience/{id}&quot;)\r\n    public void editExperience(@PathVariable(&quot;id&quot;) Long id, @RequestBody ExperienceDTO experienceDTO)\r\n    {\r\n         //in service class, use object mapper to map dto \r\n        //to entity or make use of map struct \r\n        //or simple setter methods after fetching the entity from DB using findById(id);\r\n        profileService.editExperience(id, experienceDTO);\r\n    }\r\n\r\n","title":"How do i change url based put mapping to body based put mapping in spring boot","body":"<p>You can try creating a DTO.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ExperienceDTO {\n //add fields\n //generate getters and setters or use lombok\n}\n</code></pre>\n<p>Change your API</p>\n<pre><code>@PutMapping(&quot;/editExperience/{id}&quot;)\npublic void editExperience(@PathVariable(&quot;id&quot;) Long id, @RequestBody ExperienceDTO experienceDTO)\n{\n     //in service class, use object mapper to map dto \n    //to entity or make use of map struct \n    //or simple setter methods after fetching the entity from DB using findById(id);\n    profileService.editExperience(id, experienceDTO);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23991592,"reputation":21,"user_id":17977668,"display_name":"jube1907"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678177012,"creation_date":1678177012,"answer_id":75659454,"question_id":75659042,"body_markdown":"If you want a body, you can use `@RequestBody`.\r\nYou need a class such as EditExperience with the variables int id, int year and String icon (for example).\r\n\r\nAlso, in your controller add `@RequestBody EditExperience editExperience` instead of your `@PathVariable` code. Now you can call your endpoint with put and a json such as:\r\n\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;year&quot;: 2023,\r\n        &quot;icon&quot;: test123\r\n    }\r\n\r\nAnother possibility without the path variables would be using form-data.","title":"How do i change url based put mapping to body based put mapping in spring boot","body":"<p>If you want a body, you can use <code>@RequestBody</code>.\nYou need a class such as EditExperience with the variables int id, int year and String icon (for example).</p>\n<p>Also, in your controller add <code>@RequestBody EditExperience editExperience</code> instead of your <code>@PathVariable</code> code. Now you can call your endpoint with put and a json such as:</p>\n<pre><code>{\n    &quot;id&quot;: 1,\n    &quot;year&quot;: 2023,\n    &quot;icon&quot;: test123\n}\n</code></pre>\n<p>Another possibility without the path variables would be using form-data.</p>\n"}],"owner":{"account_id":25175314,"reputation":9,"user_id":19017584,"display_name":"chirag jain"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1678177012,"creation_date":1678173974,"question_id":75659042,"body_markdown":"Here how can i map my path variables to entity\r\n```\r\n\t@PutMapping(&quot;/editExperience/{id}/{year}/{icon}&quot;)\r\n\tpublic void editExperience(@PathVariable long id,@PathVariable int year,@PathVariable String icon)\r\n\t{\r\n\t\tprofileService.editExperience(id,year,icon);\r\n\t}\r\n```\r\n\r\n\r\nI tried using a  requestbody in the field as well but its not working","title":"How do i change url based put mapping to body based put mapping in spring boot","body":"<p>Here how can i map my path variables to entity</p>\n<pre><code>    @PutMapping(&quot;/editExperience/{id}/{year}/{icon}&quot;)\n    public void editExperience(@PathVariable long id,@PathVariable int year,@PathVariable String icon)\n    {\n        profileService.editExperience(id,year,icon);\n    }\n</code></pre>\n<p>I tried using a  requestbody in the field as well but its not working</p>\n"},{"tags":["java","android","eclipse","command-line","jar"],"comments":[{"owner":{"account_id":453244,"reputation":5446,"user_id":850138,"accept_rate":57,"display_name":"Daryl Teo"},"score":0,"creation_date":1326327044,"post_id":8828493,"comment_id":11021920,"body_markdown":"http://docs.oracle.com/javase/1.5.0/docs/tooldocs/windows/javac.html","body":"<a href=\"http://docs.oracle.com/javase/1.5.0/docs/tooldocs/windows/javac.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/1.5.0/docs/tooldocs/windows/javac.htm&zwnj;&#8203;l</a>"}],"answers":[{"comments":[{"owner":{"account_id":1924,"reputation":5480,"user_id":2652,"accept_rate":74,"display_name":"lacker"},"score":2,"creation_date":1326330823,"post_id":8828873,"comment_id":11022508,"body_markdown":"I know how to use jar, but this workflow creates the .class files and then jars them up. creating the .class files is the trickier part.","body":"I know how to use jar, but this workflow creates the .class files and then jars them up. creating the .class files is the trickier part."},{"owner":{"account_id":166533,"reputation":4908,"user_id":390718,"accept_rate":80,"display_name":"hopia"},"score":0,"creation_date":1326331056,"post_id":8828873,"comment_id":11022536,"body_markdown":"The .class files are built by the javac compiler.  Ant also makes it easy to do this (through the javac task).  I would suggest you go through the ant tutorial. Unless there&#39;s a reason you don&#39;t want to use ant?  Ant is also typically what you would use if you want to automate your build, unit test, and release process.","body":"The .class files are built by the javac compiler.  Ant also makes it easy to do this (through the javac task).  I would suggest you go through the ant tutorial. Unless there&#39;s a reason you don&#39;t want to use ant?  Ant is also typically what you would use if you want to automate your build, unit test, and release process."},{"owner":{"account_id":1924,"reputation":5480,"user_id":2652,"accept_rate":74,"display_name":"lacker"},"score":0,"creation_date":1326331696,"post_id":8828873,"comment_id":11022626,"body_markdown":"i just didnt want to add ant to our process because it&#39;s an android library. but looking over android stuff it seems like ant is the way to go. ok so I&#39;ll just do ant. thanks for your explanation.","body":"i just didnt want to add ant to our process because it&#39;s an android library. but looking over android stuff it seems like ant is the way to go. ok so I&#39;ll just do ant. thanks for your explanation."},{"owner":{"account_id":166533,"reputation":4908,"user_id":390718,"accept_rate":80,"display_name":"hopia"},"score":0,"creation_date":1326341415,"post_id":8828873,"comment_id":11023994,"body_markdown":"I see what you mean. I didn&#39;t see the android tag. For android, you need to generate a build script using the tools in the android sdk. Yes, it is more tricky to do so but this is a common problem. Here&#39;s one tutorial that walks you through generating the build script: http://www.androidengineer.com/2010/06/using-ant-to-automate-building-android.html","body":"I see what you mean. I didn&#39;t see the android tag. For android, you need to generate a build script using the tools in the android sdk. Yes, it is more tricky to do so but this is a common problem. Here&#39;s one tutorial that walks you through generating the build script: <a href=\"http://www.androidengineer.com/2010/06/using-ant-to-automate-building-android.html\" rel=\"nofollow noreferrer\">androidengineer.com/2010/06/&hellip;</a>"},{"owner":{"account_id":412099,"reputation":495,"user_id":784982,"display_name":"Lisitso"},"score":0,"creation_date":1441883935,"post_id":8828873,"comment_id":52860163,"body_markdown":"Unfortunately the tutorial suggested contains errors. For example the command &quot;jar cfm build\\jar\\HelloWorld.jar myManifest -C build\\classes .&quot; doesn&#39;t generate a valid jar because of there are missing information in the manifest of the jar.","body":"Unfortunately the tutorial suggested contains errors. For example the command &quot;jar cfm build\\jar\\HelloWorld.jar myManifest -C build\\classes .&quot; doesn&#39;t generate a valid jar because of there are missing information in the manifest of the jar."},{"owner":{"account_id":1517357,"reputation":3885,"user_id":1456887,"display_name":"Jesse Chisholm"},"score":0,"creation_date":1480382252,"post_id":8828873,"comment_id":68928991,"body_markdown":"re: `Unless there&#39;s a reason you don&#39;t want to use ant?` My own take on the OP is `I&#39;m using Eclipse IDE, I rather use Eclipse from command line.`  So, using `javac` and `ant` are kind of outside the scope of the OP.  That said, see http://stackoverflow.com/questions/206473/build-eclipse-java-project-from-command-line for the eclipse command line way to replace `javac`.  I have yet to find the right command for `eclipse export jar` from the command line.","body":"re: <code>Unless there&#39;s a reason you don&#39;t want to use ant?</code> My own take on the OP is <code>I&#39;m using Eclipse IDE, I rather use Eclipse from command line.</code>  So, using <code>javac</code> and <code>ant</code> are kind of outside the scope of the OP.  That said, see <a href=\"http://stackoverflow.com/questions/206473/build-eclipse-java-project-from-command-line\" title=\"build eclipse java project from command line\">stackoverflow.com/questions/206473/&hellip;</a> for the eclipse command line way to replace <code>javac</code>.  I have yet to find the right command for <code>eclipse export jar</code> from the command line."}],"tags":[],"owner":{"account_id":166533,"reputation":4908,"user_id":390718,"accept_rate":80,"display_name":"hopia"},"comment_count":6,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1326330892,"creation_date":1326330075,"answer_id":8828873,"question_id":8828493,"body_markdown":"To manually create a jar file, you can use the &quot;jar&quot; utility.\r\nA jar file is basically an archive file (in fact, you can use any zip tool to extract the jar contents).  To create a jar file, you specify the &quot;c&quot; option and all the .class files that you compiled and that you want included.  The jar command-line mimics the tar command.  So, for example, to add your class files whose root folder is com, you type:\r\n\r\n      jar cf test.jar com\r\n\r\nOptionally, you can add manifest data in the form of a manifest file to specify a default executable and other information.\r\n\r\nHowever, a simpler way to build a jar file is to just use ant.\r\n\r\nCheckout this tutorial from the ant website, which gives an example of a typical ant build file: \r\nhttp://ant.apache.org/manual/tutorial-HelloWorldWithAnt.html\r\n","title":"How to do Eclipse&#39;s &quot;export jar&quot; from the command line","body":"<p>To manually create a jar file, you can use the \"jar\" utility.\nA jar file is basically an archive file (in fact, you can use any zip tool to extract the jar contents).  To create a jar file, you specify the \"c\" option and all the .class files that you compiled and that you want included.  The jar command-line mimics the tar command.  So, for example, to add your class files whose root folder is com, you type:</p>\n\n<pre><code>  jar cf test.jar com\n</code></pre>\n\n<p>Optionally, you can add manifest data in the form of a manifest file to specify a default executable and other information.</p>\n\n<p>However, a simpler way to build a jar file is to just use ant.</p>\n\n<p>Checkout this tutorial from the ant website, which gives an example of a typical ant build file: \n<a href=\"http://ant.apache.org/manual/tutorial-HelloWorldWithAnt.html\" rel=\"noreferrer\">http://ant.apache.org/manual/tutorial-HelloWorldWithAnt.html</a></p>\n"},{"tags":[],"owner":{"account_id":9534097,"reputation":1,"user_id":7084795,"display_name":"Shivam Bhati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678176696,"creation_date":1678176696,"answer_id":75659405,"question_id":8828493,"body_markdown":"I have built the jar both ways one through the export method in the eclipse and other with the command, both the jars are way different and the one with the command line didn&#39;t work.\r\n","title":"How to do Eclipse&#39;s &quot;export jar&quot; from the command line","body":"<p>I have built the jar both ways one through the export method in the eclipse and other with the command, both the jars are way different and the one with the command line didn't work.</p>\n"}],"owner":{"account_id":1924,"reputation":5480,"user_id":2652,"accept_rate":74,"display_name":"lacker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17483,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":8828873,"answer_count":2,"score":13,"last_activity_date":1678176696,"creation_date":1326326607,"question_id":8828493,"body_markdown":"In my workflow for creating a jar to distribute my code, I currently:\r\n\r\n1. right-click on my project in Eclipse\r\n2. select &quot;Export&quot;\r\n3. select &quot;JAR file&quot;\r\n4. uncheck the top-level files like .classpath, .project\r\n5. check only &quot;export generated class files&quot;\r\n6. click &quot;finish&quot;\r\n\r\nThis ensures the .class files are up-to-date and creates the jar. I would like to do this same thing from the command line, but most documentation for creating jars seems to be just jarring up files that already exist, without the phase of creating the .class files. How can I do this from the command line?","title":"How to do Eclipse&#39;s &quot;export jar&quot; from the command line","body":"<p>In my workflow for creating a jar to distribute my code, I currently:</p>\n\n<ol>\n<li>right-click on my project in Eclipse</li>\n<li>select \"Export\"</li>\n<li>select \"JAR file\"</li>\n<li>uncheck the top-level files like .classpath, .project</li>\n<li>check only \"export generated class files\"</li>\n<li>click \"finish\"</li>\n</ol>\n\n<p>This ensures the .class files are up-to-date and creates the jar. I would like to do this same thing from the command line, but most documentation for creating jars seems to be just jarring up files that already exist, without the phase of creating the .class files. How can I do this from the command line?</p>\n"},{"tags":["java","eclipse","jls","unicode-escapes","ecj"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1667921759,"post_id":74363301,"comment_id":131280641,"body_markdown":"[Cannot reproduce](https://ideone.com/TDsWec)","body":"<a href=\"https://ideone.com/TDsWec\" rel=\"nofollow noreferrer\">Cannot reproduce</a>"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1667921842,"post_id":74363301,"comment_id":131280681,"body_markdown":"Can reproduce with VSC. But not with `java.exe` (18). But looking at the decompiled bytecode in recaf (CFR) shows a comparison between `10` and `39` https://i.imgur.com/gf2OLMU.png Here is `javap -v`: https://i.imgur.com/dBjxGAu.png","body":"Can reproduce with VSC. But not with <code>java.exe</code> (18). But looking at the decompiled bytecode in recaf (CFR) shows a comparison between <code>10</code> and <code>39</code> <a href=\"https://i.imgur.com/gf2OLMU.png\" rel=\"nofollow noreferrer\">i.imgur.com/gf2OLMU.png</a> Here is <code>javap -v</code>: <a href=\"https://i.imgur.com/dBjxGAu.png\" rel=\"nofollow noreferrer\">i.imgur.com/dBjxGAu.png</a>"},{"owner":{"account_id":4775169,"reputation":962,"user_id":3858559,"accept_rate":0,"display_name":"Microtribute"},"score":0,"creation_date":1667921892,"post_id":74363301,"comment_id":131280696,"body_markdown":"@AndyTurner I used Oracle JDK 19 on Windows 11.","body":"@AndyTurner I used Oracle JDK 19 on Windows 11."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1667922088,"post_id":74363301,"comment_id":131280782,"body_markdown":"The compiler that VSC used for me made it true. The actual `javac.exe` (18) makes it false for me.","body":"The compiler that VSC used for me made it true. The actual <code>javac.exe</code> (18) makes it false for me."},{"owner":{"account_id":4775169,"reputation":962,"user_id":3858559,"accept_rate":0,"display_name":"Microtribute"},"score":0,"creation_date":1667922129,"post_id":74363301,"comment_id":131280796,"body_markdown":"@Zabuzard   Possibly related to a bug of JDK 19... the result you had is exactly what I would have expected.","body":"@Zabuzard   Possibly related to a bug of JDK 19... the result you had is exactly what I would have expected."},{"owner":{"account_id":2883526,"reputation":2320,"user_id":3439993,"accept_rate":33,"display_name":"Deltharis"},"score":0,"creation_date":1667922573,"post_id":74363301,"comment_id":131280968,"body_markdown":"Can you specify exactly what version of the JDK are you using? If it&#39;s a bug in the JDK (and it looks like the only thing it could be) you need to provide the vendor (IBM, OpenJDK...) and the exact version number (like 19.0.1)","body":"Can you specify exactly what version of the JDK are you using? If it&#39;s a bug in the JDK (and it looks like the only thing it could be) you need to provide the vendor (IBM, OpenJDK...) and the exact version number (like 19.0.1)"},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":1,"creation_date":1667922853,"post_id":74363301,"comment_id":131281090,"body_markdown":"Could verify behaviour with OpenJDK 1.8.0_322","body":"Could verify behaviour with OpenJDK 1.8.0_322"},{"owner":{"account_id":3832981,"reputation":3332,"user_id":3178068,"display_name":"TiiJ7"},"score":4,"creation_date":1667922904,"post_id":74363301,"comment_id":131281112,"body_markdown":"I can reproduce this in Eclipse with sapjvm8. Looking at the bytecode it produces `bipush 39` twice. It happens for any backslash character as well, not just `\\n`.","body":"I can reproduce this in Eclipse with sapjvm8. Looking at the bytecode it produces <code>bipush 39</code> twice. It happens for any backslash character as well, not just <code>\\n</code>."},{"owner":{"account_id":2883526,"reputation":2320,"user_id":3439993,"accept_rate":33,"display_name":"Deltharis"},"score":0,"creation_date":1667923029,"post_id":74363301,"comment_id":131281174,"body_markdown":"Can&#39;t reproduce with intellij on opnjdk 11.0.12 nor 19.0.1. Windows 10.","body":"Can&#39;t reproduce with intellij on opnjdk 11.0.12 nor 19.0.1. Windows 10."},{"owner":{"account_id":4775169,"reputation":962,"user_id":3858559,"accept_rate":0,"display_name":"Microtribute"},"score":1,"creation_date":1667923390,"post_id":74363301,"comment_id":131281321,"body_markdown":"@TiiJ7 Yeah I used Eclipse, even if I set the JRE environment to JDK 19, Eclipse seems to choose JRE 18 shipped out of the box regardless. When I compile the code with Oracle JDK 19, the issue does not happen. https://imgur.com/a/63mMoYi","body":"@TiiJ7 Yeah I used Eclipse, even if I set the JRE environment to JDK 19, Eclipse seems to choose JRE 18 shipped out of the box regardless. When I compile the code with Oracle JDK 19, the issue does not happen. <a href=\"https://imgur.com/a/63mMoYi\" rel=\"nofollow noreferrer\">imgur.com/a/63mMoYi</a>"},{"owner":{"account_id":4775169,"reputation":962,"user_id":3858559,"accept_rate":0,"display_name":"Microtribute"},"score":1,"creation_date":1667924785,"post_id":74363301,"comment_id":131281865,"body_markdown":"@TiiJ7 Eclipse uses the binaries included in the Oracle JDK 19, however, it runs in Java v18 mode. (Eclipse does not support Java 19 yet). I think that&#39;s when the issue occurs.","body":"@TiiJ7 Eclipse uses the binaries included in the Oracle JDK 19, however, it runs in Java v18 mode. (Eclipse does not support Java 19 yet). I think that&#39;s when the issue occurs."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667930284,"post_id":74363301,"comment_id":131283967,"body_markdown":"Not quite sure how you managed to compile that...","body":"Not quite sure how you managed to compile that..."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1669123668,"post_id":74363301,"comment_id":131568371,"body_markdown":"Eclipse has it’s own compiler, so this is a bug specific to this compiler.","body":"Eclipse has it’s own compiler, so this is a bug specific to this compiler."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1678184643,"post_id":74363301,"comment_id":133480233,"body_markdown":"I know I&#39;m late, but I can confirm that the Eclipse compiler ECJ produces this behaviour in all versions between 3.19.0 (earlier ones I didn&#39;t bother testing as they didn&#39;t immediately work in my Gradle script) and 3.32.0. That seems to be independent from which JDK its running on (as I expected): On 11, 17 and 19 it produces the same incorrect output.","body":"I know I&#39;m late, but I can confirm that the Eclipse compiler ECJ produces this behaviour in all versions between 3.19.0 (earlier ones I didn&#39;t bother testing as they didn&#39;t immediately work in my Gradle script) and 3.32.0. That seems to be independent from which JDK its running on (as I expected): On 11, 17 and 19 it produces the same incorrect output."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1678707998,"post_id":74363301,"comment_id":133579807,"body_markdown":"I&#39;ve filed [this bug](https://github.com/eclipse-jdt/eclipse.jdt.core/issues/827). I suspect the bug is fairly easy to fix once pinpointed and not very important in the grand scheme of things. But still somewhat fascinating for me.","body":"I&#39;ve filed <a href=\"https://github.com/eclipse-jdt/eclipse.jdt.core/issues/827\" rel=\"nofollow noreferrer\">this bug</a>. I suspect the bug is fairly easy to fix once pinpointed and not very important in the grand scheme of things. But still somewhat fascinating for me."},{"owner":{"account_id":4198672,"reputation":28840,"user_id":3439404,"display_name":"JosefZ"},"score":0,"creation_date":1680879668,"post_id":74363301,"comment_id":133974785,"body_markdown":"AFAIK, a primitive data type `char` represents a single character (merely the first `\\u0027`)?","body":"AFAIK, a primitive data type <code>char</code> represents a single character (merely the first <code>\\u0027</code>)?"}],"owner":{"account_id":4775169,"reputation":962,"user_id":3858559,"accept_rate":0,"display_name":"Microtribute"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":0,"score":10,"last_activity_date":1678176533,"creation_date":1667921515,"question_id":74363301,"body_markdown":"I was playing around with [Java Unicode Escapes](https://docs.oracle.com/javase/specs/jls/se19/html/jls-3.html#jls-3.3) and accidentally found the following interesting oddities. Here is the code that I wrote:\r\n\r\n```java\r\nstatic void main(String... args) {\r\n        /*\r\n\t\t * \\u0027 - single quote\r\n\t\t */\r\n\t\tchar e = \\u0027\\n\\u0027;\r\n\t\tchar f = &#39;\\&#39;&#39;;\r\n\r\n        System.out.println(e == f);\r\n\t\t\r\n        //output: true\r\n}\r\n```\r\n\r\nLooking at the compiled code, the Java compiler translated them into the same character literal.\r\n\r\n```java\r\nchar e = &#39;\\&#39;&#39;;\r\nchar f = &#39;\\&#39;&#39;;\r\n```\r\n\r\nBy what conversion rules `e` has become a `&#39;` instead of a linefeed `\\n`?\r\n\r\nBTW I am using Oracle JDK 19 on Windows 11.\r\n\r\n**EDIT: It seems like the issue is related to Java compilers failing to work according to the Java Language Specification.**\r\n\r\n**EDIT: It seems like the issue happens when Oracle JDK 19 runs in JLS 18 mode. (I am not sure how to say this properly)**","title":"`\\u0027\\n\\u0027` equals `&#39;\\&#39;&#39;` in Java?","body":"<p>I was playing around with <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-3.html#jls-3.3\" rel=\"noreferrer\">Java Unicode Escapes</a> and accidentally found the following interesting oddities. Here is the code that I wrote:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void main(String... args) {\n        /*\n         * \\u0027 - single quote\n         */\n        char e = \\u0027\\n\\u0027;\n        char f = '\\'';\n\n        System.out.println(e == f);\n        \n        //output: true\n}\n</code></pre>\n<p>Looking at the compiled code, the Java compiler translated them into the same character literal.</p>\n<pre class=\"lang-java prettyprint-override\"><code>char e = '\\'';\nchar f = '\\'';\n</code></pre>\n<p>By what conversion rules <code>e</code> has become a <code>'</code> instead of a linefeed <code>\\n</code>?</p>\n<p>BTW I am using Oracle JDK 19 on Windows 11.</p>\n<p><strong>EDIT: It seems like the issue is related to Java compilers failing to work according to the Java Language Specification.</strong></p>\n<p><strong>EDIT: It seems like the issue happens when Oracle JDK 19 runs in JLS 18 mode. (I am not sure how to say this properly)</strong></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1678203078,"post_id":75659323,"comment_id":133485483,"body_markdown":"*at projet1.Pdf$5.actionPerformed(Pdf.java:156)* - the error is on line 156. Don&#39;t try to cast a JLabel to a JTextField.","body":"<i>at projet1.Pdf$5.actionPerformed(Pdf.java:156)</i> - the error is on line 156. Don&#39;t try to cast a JLabel to a JTextField."}],"answers":[{"tags":[],"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678176242,"creation_date":1678176242,"answer_id":75659346,"question_id":75659323,"body_markdown":"What you are doing is something in the lines of:\r\n\r\n    JLabel label = new JLabel(&quot;text&quot;);\r\n    JTextField field = new JTextField();\r\n    \r\n    field = label;\r\n\r\nThis can&#39;t work simply because a JLabel is NOT a JTextField. What you are most likely trying to do, is setting the value from the label in the JTextField:\r\n\r\n    JLabel label = new JLabel(&quot;text&quot;);\r\n    JTextField field = new JTextField();\r\n    \r\n    field.setText(label.getText());","title":"Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: class javax.swing.JLabel cannot be cast to class javax.swing.JTextField","body":"<p>What you are doing is something in the lines of:</p>\n<pre><code>JLabel label = new JLabel(&quot;text&quot;);\nJTextField field = new JTextField();\n\nfield = label;\n</code></pre>\n<p>This can't work simply because a JLabel is NOT a JTextField. What you are most likely trying to do, is setting the value from the label in the JTextField:</p>\n<pre><code>JLabel label = new JLabel(&quot;text&quot;);\nJTextField field = new JTextField();\n\nfield.setText(label.getText());\n</code></pre>\n"}],"owner":{"account_id":27954454,"reputation":1,"user_id":21347581,"display_name":"Mohamed hilali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1678176301,"creation_date":1678176083,"question_id":75659323,"body_markdown":"this is my code i got no error in compilation but when i try to generate file in my application i got this error title with many errors \r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: class javax.swing.JLabel cannot be cast to class javax.swing.JTextField (javax.swing.JLabel and javax.swing.JTextField are in module java.desktop of loader &#39;bootstrap&#39;)\r\n    \tat projet1.Pdf$5.actionPerformed(Pdf.java:156)\r\n    \tat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\r\n    \tat java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\r\n    \tat java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\r\n    \tat java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\r\n    \tat java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\r\n    \tat java.desktop/java.awt.Component.processMouseEvent(Component.java:6626)\r\n    \tat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3389)\r\n    \tat java.desktop/java.awt.Component.processEvent(Component.java:6391)\r\n    \tat java.desktop/java.awt.Container.processEvent(Container.java:2266)\r\n    \tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\r\n    \tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\r\n    \tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\r\n    \tat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\r\n    \tat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\r\n    \tat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\r\n    \tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\r\n    \tat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\r\n    \tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\r\n    \tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n    \tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\r\n    \tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n    \tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n    \tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\r\n    \tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:746)\r\n    \tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:744)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n    \tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n    \tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:743)\r\n    \tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n    \tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n    \tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n    \tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n    \tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n    \tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n\r\nthis is my code\r\n```\r\n`  \r\n\r\n   package projet1;\r\n\r\nimport java.awt.EventQueue;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.border.EmptyBorder;\r\n\r\nimport org.apache.pdfbox.multipdf.PDFMergerUtility;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.SwingConstants;\r\nimport java.awt.Font;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFileChooser;\r\n\r\nimport java.awt.event.ActionListener;\r\nimport java.io.File;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.awt.event.ActionEvent;\r\n\r\npublic class Pdf extends JFrame {\r\n\r\n\tprivate JPanel contentPane;\r\n\tprivate JTextField textpdf;\r\n\tprivate JFileChooser fileChooser;\r\n\tprivate JTextField destField;\r\n\tprivate String destPath;\r\n\tprivate int count = 1;\r\n\r\n\t/**\r\n\t * Launch the application.\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tPdf frame = new Pdf();\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Create the frame.\r\n\t */\r\n\tpublic Pdf() {\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tsetBounds(100, 100, 497, 447);\r\n\t\tcontentPane = new JPanel();\r\n\t\tcontentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n\r\n\t\tsetContentPane(contentPane);\r\n\t\tcontentPane.setLayout(null);\r\n\t\t\r\n\t\ttextpdf = new JTextField();\r\n\t\ttextpdf.setBounds(98, 21, 239, 20);\r\n\t\tcontentPane.add(textpdf);\r\n\t\ttextpdf.setColumns(10);\r\n\t\t\r\n\t\tJLabel lblNewLabel = new JLabel(&quot;PDF File&quot;);\r\n\t\tlblNewLabel.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 14));\r\n\t\tlblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tlblNewLabel.setBounds(10, 24, 66, 14);\r\n\t\tcontentPane.add(lblNewLabel);\r\n\t\t\r\n\t\tJButton btnParcourir = new JButton(&quot;Parcourir&quot;);\r\n\t\tbtnParcourir.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tfileChooser = new JFileChooser();\r\n\t\t\t\tfileChooser.setCurrentDirectory(new File(System.getProperty(&quot;user.home&quot;)));\r\n\t\t\t\tint result = fileChooser.showOpenDialog(contentPane);\r\n\t\t\t\tif (result == JFileChooser.APPROVE_OPTION) {\r\n\t\t\t\t    File selectedFile = fileChooser.getSelectedFile();\r\n\t\t\t\t    textpdf.setText(selectedFile.getAbsolutePath());\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n\t\tbtnParcourir.setBounds(347, 20, 89, 23);\r\n\t\tcontentPane.add(btnParcourir);\r\n\t\t\r\n\t\tJButton destButton = new JButton(&quot;Destination&quot;);\r\n\t\tdestButton.setBounds(10, 343, 116, 23);\r\n\t\tdestButton.addActionListener(new ActionListener() {\r\n\t\t    public void actionPerformed(ActionEvent e) {\r\n\t\t        fileChooser = new JFileChooser();\r\n\t\t        fileChooser.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);\r\n\t\t        int result = fileChooser.showOpenDialog(contentPane);\r\n\t\t        if (result == JFileChooser.APPROVE_OPTION) {\r\n\t\t            File selectedFile = fileChooser.getSelectedFile();\r\n\t\t            destPath = selectedFile.getAbsolutePath();\r\n\t\t            destField.setText(destPath);\r\n\t\t        }\r\n\t\t    }\r\n\t\t});\r\n\t\tcontentPane.add(destButton);\r\n\t\t\r\n\t\tJButton btnAjouter = new JButton(&quot;Ajouter&quot;);\r\n\t\tbtnAjouter.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tcount++;\r\n\t\t\t\t// ajouter un nouveau label\r\n\t\t\t\tJLabel label = new JLabel(&quot;PDF File &quot; + count);\r\n\t\t\t\tlabel.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 14));\r\n\t\t\t\tlabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\t\t\tlabel.setBounds(10, 24 + (count-1) * 30, 66, 14);\r\n\t\t\t\tcontentPane.add(label);\r\n\t\t\t\t// ajouter un nouveau textfield\r\n\t\t\t\tfinal JTextField textField = new JTextField();\r\n\t\t\t\ttextField.setBounds(98, 21 + (count-1) * 30, 239, 20);\r\n\t\t\t\ttextField.setColumns(10);\r\n\t\t\t\tcontentPane.add(textField);\r\n\t\t\t\t// ajouter un nouveau bouton &quot;Parcourir&quot;\r\n\t\t\t\tJButton browseButton = new JButton(&quot;Parcourir&quot;);\r\n\t\t\t\tbrowseButton.addActionListener(new ActionListener() {\r\n\t\t\t\t    public void actionPerformed(ActionEvent e) {\r\n\t\t\t\t    \tfileChooser = new JFileChooser();\r\n\t\t\t\t\t\tfileChooser.setCurrentDirectory(new File(System.getProperty(&quot;user.home&quot;)));\r\n\t\t\t\t\t\tint result = fileChooser.showOpenDialog(contentPane);\r\n\t\t\t\t\t\tif (result == JFileChooser.APPROVE_OPTION) {\r\n\t\t\t\t\t\t    File selectedFile = fileChooser.getSelectedFile();\r\n\t\t\t\t\t\t    textField.setText(selectedFile.getAbsolutePath());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t    }\r\n\t\t\t\t});\r\n\t\t\t\tbrowseButton.setBounds(347, 20 + (count-1) * 30, 89, 23);\r\n\t\t\t\tcontentPane.add(browseButton);\r\n\t\t\t\t// redimensionner la fen&#234;tre pour s&#39;adapter &#224; la nouvelle ligne\r\n\t\t\t\tcontentPane.setPreferredSize(\r\n\t\t\t\t\tnew java.awt.Dimension(contentPane.getWidth(), contentPane.getHeight() + 30));\r\n\t\t\t\tpack();\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n\t\tbtnAjouter.setBounds(10, 374, 89, 23);\r\n\t\tcontentPane.add(btnAjouter);\r\n\t\tJButton btnGenerer = new JButton(&quot;Generer&quot;);\r\n\t\tbtnGenerer.addActionListener(new ActionListener() {\r\n\t\t    public void actionPerformed(ActionEvent e) {\r\n\t\t        List&lt;File&gt; filesToMerge = new ArrayList&lt;&gt;();\r\n\t\t        \r\n\t\t        // Ajouter le fichier PDF initial\r\n\t\t        File initialFile = new File(textpdf.getText());\r\n\t\t        if(initialFile.exists() &amp;&amp; initialFile.isFile()) {\r\n\t\t            filesToMerge.add(initialFile);\r\n\t\t        }\r\n\t\t        \r\n\t\t        // Ajouter les nouveaux fichiers PDF\r\n\t\t        for(int i = 2; i &lt;= count; i++) {\r\n\t\t            JTextField textField = (JTextField) contentPane.getComponent(i-1);\r\n\t\t            File file = new File(textField.getText());\r\n\t\t            if(file.exists() &amp;&amp; file.isFile()) {\r\n\t\t                filesToMerge.add(file);\r\n\t\t            }\r\n\t\t        }\r\n\t\t        \r\n\t\t        // Fusionner les fichiers PDF\r\n\t\t        if(filesToMerge.size() &gt; 1) {\r\n\t\t            try {\r\n\t\t                PDFMergerUtility merger = new PDFMergerUtility();\r\n\t\t                for(File file : filesToMerge) {\r\n\t\t                    merger.addSource(file);\r\n\t\t                }\r\n\t\t                merger.setDestinationFileName(destPath + File.separator + &quot;merged.pdf&quot;);\r\n\t\t                merger.mergeDocuments(null);\r\n\t\t                \r\n\t\t                // Afficher un message de succ&#232;s\r\n\t\t                JOptionPane.showMessageDialog(contentPane, &quot;Fusion termin&#233;e avec succ&#232;s ! Le fichier est enregistr&#233; dans &quot; + destPath + File.separator + &quot;merged.pdf&quot;);\r\n\t\t            } catch (Exception ex) {\r\n\t\t                ex.printStackTrace();\r\n\t\t                JOptionPane.showMessageDialog(contentPane, &quot;Une erreur s&#39;est produite pendant la fusion : &quot; + ex.getMessage());\r\n\t\t            }\r\n\t\t        } else {\r\n\t\t            JOptionPane.showMessageDialog(contentPane, &quot;Veuillez s&#233;lectionner au moins deux fichiers PDF &#224; fusionner.&quot;);\r\n\t\t        }\r\n\t\t    }\r\n\t\t});\r\n\t\tbtnGenerer.setBounds(185, 374, 89, 23);\r\n\t\tcontentPane.add(btnGenerer);\r\n\t\t\r\n\t\t\r\n\t\tbtnGenerer.setBounds(185, 374, 89, 23);\r\n\t\tcontentPane.add(btnGenerer);\r\n\t\t\r\n\t\tJButton btnFermer = new JButton(&quot;Fermer&quot;);\r\n\t\tbtnFermer.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tSystem.exit(0);\r\n\t\t\t}\r\n\t\t});\r\n\t\tbtnFermer.setBounds(347, 374, 89, 23);\r\n\t\tcontentPane.add(btnFermer);\r\n\t\t\r\n\t\tdestField = new JTextField();\r\n\t\tdestField.setBounds(136, 344, 217, 20);\r\n\t\tcontentPane.add(destField);\r\n\t\tdestField.setColumns(10);\r\n\t}\r\n}\r\n`\r\n```\r\n","title":"Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: class javax.swing.JLabel cannot be cast to class javax.swing.JTextField","body":"<p>this is my code i got no error in compilation but when i try to generate file in my application i got this error title with many errors</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: class javax.swing.JLabel cannot be cast to class javax.swing.JTextField (javax.swing.JLabel and javax.swing.JTextField are in module java.desktop of loader 'bootstrap')\n    at projet1.Pdf$5.actionPerformed(Pdf.java:156)\n    at java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\n    at java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\n    at java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\n    at java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\n    at java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\n    at java.desktop/java.awt.Component.processMouseEvent(Component.java:6626)\n    at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3389)\n    at java.desktop/java.awt.Component.processEvent(Component.java:6391)\n    at java.desktop/java.awt.Container.processEvent(Container.java:2266)\n    at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\n    at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\n    at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\n    at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\n    at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:746)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:744)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:743)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n</code></pre>\n<p>this is my code</p>\n<pre><code>`  \n\n   package projet1;\n\nimport java.awt.EventQueue;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\nimport org.apache.pdfbox.multipdf.PDFMergerUtility;\nimport javax.swing.JTextField;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.SwingConstants;\nimport java.awt.Font;\nimport javax.swing.JButton;\nimport javax.swing.JFileChooser;\n\nimport java.awt.event.ActionListener;\nimport java.io.File;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.awt.event.ActionEvent;\n\npublic class Pdf extends JFrame {\n\n    private JPanel contentPane;\n    private JTextField textpdf;\n    private JFileChooser fileChooser;\n    private JTextField destField;\n    private String destPath;\n    private int count = 1;\n\n    /**\n     * Launch the application.\n     */\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    Pdf frame = new Pdf();\n                    frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    /**\n     * Create the frame.\n     */\n    public Pdf() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setBounds(100, 100, 497, 447);\n        contentPane = new JPanel();\n        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\n\n        setContentPane(contentPane);\n        contentPane.setLayout(null);\n        \n        textpdf = new JTextField();\n        textpdf.setBounds(98, 21, 239, 20);\n        contentPane.add(textpdf);\n        textpdf.setColumns(10);\n        \n        JLabel lblNewLabel = new JLabel(&quot;PDF File&quot;);\n        lblNewLabel.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 14));\n        lblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\n        lblNewLabel.setBounds(10, 24, 66, 14);\n        contentPane.add(lblNewLabel);\n        \n        JButton btnParcourir = new JButton(&quot;Parcourir&quot;);\n        btnParcourir.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                fileChooser = new JFileChooser();\n                fileChooser.setCurrentDirectory(new File(System.getProperty(&quot;user.home&quot;)));\n                int result = fileChooser.showOpenDialog(contentPane);\n                if (result == JFileChooser.APPROVE_OPTION) {\n                    File selectedFile = fileChooser.getSelectedFile();\n                    textpdf.setText(selectedFile.getAbsolutePath());\n                }\n            \n            }\n        });\n        btnParcourir.setBounds(347, 20, 89, 23);\n        contentPane.add(btnParcourir);\n        \n        JButton destButton = new JButton(&quot;Destination&quot;);\n        destButton.setBounds(10, 343, 116, 23);\n        destButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                fileChooser = new JFileChooser();\n                fileChooser.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);\n                int result = fileChooser.showOpenDialog(contentPane);\n                if (result == JFileChooser.APPROVE_OPTION) {\n                    File selectedFile = fileChooser.getSelectedFile();\n                    destPath = selectedFile.getAbsolutePath();\n                    destField.setText(destPath);\n                }\n            }\n        });\n        contentPane.add(destButton);\n        \n        JButton btnAjouter = new JButton(&quot;Ajouter&quot;);\n        btnAjouter.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                count++;\n                // ajouter un nouveau label\n                JLabel label = new JLabel(&quot;PDF File &quot; + count);\n                label.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 14));\n                label.setHorizontalAlignment(SwingConstants.CENTER);\n                label.setBounds(10, 24 + (count-1) * 30, 66, 14);\n                contentPane.add(label);\n                // ajouter un nouveau textfield\n                final JTextField textField = new JTextField();\n                textField.setBounds(98, 21 + (count-1) * 30, 239, 20);\n                textField.setColumns(10);\n                contentPane.add(textField);\n                // ajouter un nouveau bouton &quot;Parcourir&quot;\n                JButton browseButton = new JButton(&quot;Parcourir&quot;);\n                browseButton.addActionListener(new ActionListener() {\n                    public void actionPerformed(ActionEvent e) {\n                        fileChooser = new JFileChooser();\n                        fileChooser.setCurrentDirectory(new File(System.getProperty(&quot;user.home&quot;)));\n                        int result = fileChooser.showOpenDialog(contentPane);\n                        if (result == JFileChooser.APPROVE_OPTION) {\n                            File selectedFile = fileChooser.getSelectedFile();\n                            textField.setText(selectedFile.getAbsolutePath());\n                        }\n                    }\n                });\n                browseButton.setBounds(347, 20 + (count-1) * 30, 89, 23);\n                contentPane.add(browseButton);\n                // redimensionner la fenêtre pour s'adapter à la nouvelle ligne\n                contentPane.setPreferredSize(\n                    new java.awt.Dimension(contentPane.getWidth(), contentPane.getHeight() + 30));\n                pack();\n                \n            }\n        });\n        btnAjouter.setBounds(10, 374, 89, 23);\n        contentPane.add(btnAjouter);\n        JButton btnGenerer = new JButton(&quot;Generer&quot;);\n        btnGenerer.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                List&lt;File&gt; filesToMerge = new ArrayList&lt;&gt;();\n                \n                // Ajouter le fichier PDF initial\n                File initialFile = new File(textpdf.getText());\n                if(initialFile.exists() &amp;&amp; initialFile.isFile()) {\n                    filesToMerge.add(initialFile);\n                }\n                \n                // Ajouter les nouveaux fichiers PDF\n                for(int i = 2; i &lt;= count; i++) {\n                    JTextField textField = (JTextField) contentPane.getComponent(i-1);\n                    File file = new File(textField.getText());\n                    if(file.exists() &amp;&amp; file.isFile()) {\n                        filesToMerge.add(file);\n                    }\n                }\n                \n                // Fusionner les fichiers PDF\n                if(filesToMerge.size() &gt; 1) {\n                    try {\n                        PDFMergerUtility merger = new PDFMergerUtility();\n                        for(File file : filesToMerge) {\n                            merger.addSource(file);\n                        }\n                        merger.setDestinationFileName(destPath + File.separator + &quot;merged.pdf&quot;);\n                        merger.mergeDocuments(null);\n                        \n                        // Afficher un message de succès\n                        JOptionPane.showMessageDialog(contentPane, &quot;Fusion terminée avec succès ! Le fichier est enregistré dans &quot; + destPath + File.separator + &quot;merged.pdf&quot;);\n                    } catch (Exception ex) {\n                        ex.printStackTrace();\n                        JOptionPane.showMessageDialog(contentPane, &quot;Une erreur s'est produite pendant la fusion : &quot; + ex.getMessage());\n                    }\n                } else {\n                    JOptionPane.showMessageDialog(contentPane, &quot;Veuillez sélectionner au moins deux fichiers PDF à fusionner.&quot;);\n                }\n            }\n        });\n        btnGenerer.setBounds(185, 374, 89, 23);\n        contentPane.add(btnGenerer);\n        \n        \n        btnGenerer.setBounds(185, 374, 89, 23);\n        contentPane.add(btnGenerer);\n        \n        JButton btnFermer = new JButton(&quot;Fermer&quot;);\n        btnFermer.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                System.exit(0);\n            }\n        });\n        btnFermer.setBounds(347, 374, 89, 23);\n        contentPane.add(btnFermer);\n        \n        destField = new JTextField();\n        destField.setBounds(136, 344, 217, 20);\n        contentPane.add(destField);\n        destField.setColumns(10);\n    }\n}\n`\n</code></pre>\n"},{"tags":["java","android","kotlin","material-design"],"answers":[{"tags":[],"owner":{"account_id":27953271,"reputation":1,"user_id":21346621,"display_name":"Vatcharapon Nilathai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678176145,"creation_date":1678176145,"answer_id":75659332,"question_id":70822991,"body_markdown":"Try to update version of material dependency to 1.2.0 or greater in build.gradle(app)\r\n\r\n```\r\ncom.google.android.material:material:1.2.0\r\n```","title":"DateValidatorPointBackward not found","body":"<p>Try to update version of material dependency to 1.2.0 or greater in build.gradle(app)</p>\n<pre><code>com.google.android.material:material:1.2.0\n</code></pre>\n"}],"owner":{"account_id":16547973,"reputation":53,"user_id":11957045,"display_name":"The one"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678176145,"creation_date":1642947788,"question_id":70822991,"body_markdown":"I wanted to set some `CalendarConstraints` I cant select past dates\r\n\r\n     val dateValidatorMax: DateValidator =\r\n                    DateValidatorPointForward.now();\r\n                val dateValidatorMin: DateValidator =\r\n                    DateValidatorPointBackward.before(selectedStartDateInMillis)\r\n    \r\n                val constraintsBuilder =\r\n                    CalendarConstraints.Builder()\r\n                        .setValidator(dateValidatorMax).build()\r\n    \r\n                val picker = MaterialDatePicker.Builder.dateRangePicker()\r\n                    .setSelection(dateRange).setCalendarConstraints(constraintsBuilder)\r\n                    .setTheme(R.style.ThemeOverlay_MaterialComponents_MaterialCalendar);\r\n    \r\n    \r\n                picker.build().apply {\r\n                    addOnPositiveButtonClickListener { selectedDateRangePair -&gt;\r\n                        onDateRangeSelected(\r\n                            selectedDateRangePair\r\n                        )\r\n                    }\r\n                }.show(\r\n                    requireActivity().supportFragmentManager,\r\n                    MaterialDatePicker::class.java.canonicalName\r\n                )\r\n\r\nEverything is Working fine but im getting this error `Unresolved reference: DateValidatorPointBackward` \r\n\r\n[StackoverFlowLink](https://stackoverflow.com/questions/62469312/materialdatepicker-select-date-between-2-dates-only) i saw this `DateValidatorPointForward` is ok but im showing error in `DateValidatorPointBackward`\r\n[![suggestion][1]][1]\r\n\r\n[![Error][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fGmg6.png\r\n  [2]: https://i.stack.imgur.com/leeu3.png","title":"DateValidatorPointBackward not found","body":"<p>I wanted to set some <code>CalendarConstraints</code> I cant select past dates</p>\n<pre><code> val dateValidatorMax: DateValidator =\n                DateValidatorPointForward.now();\n            val dateValidatorMin: DateValidator =\n                DateValidatorPointBackward.before(selectedStartDateInMillis)\n\n            val constraintsBuilder =\n                CalendarConstraints.Builder()\n                    .setValidator(dateValidatorMax).build()\n\n            val picker = MaterialDatePicker.Builder.dateRangePicker()\n                .setSelection(dateRange).setCalendarConstraints(constraintsBuilder)\n                .setTheme(R.style.ThemeOverlay_MaterialComponents_MaterialCalendar);\n\n\n            picker.build().apply {\n                addOnPositiveButtonClickListener { selectedDateRangePair -&gt;\n                    onDateRangeSelected(\n                        selectedDateRangePair\n                    )\n                }\n            }.show(\n                requireActivity().supportFragmentManager,\n                MaterialDatePicker::class.java.canonicalName\n            )\n</code></pre>\n<p>Everything is Working fine but im getting this error <code>Unresolved reference: DateValidatorPointBackward</code></p>\n<p><a href=\"https://stackoverflow.com/questions/62469312/materialdatepicker-select-date-between-2-dates-only\">StackoverFlowLink</a> i saw this <code>DateValidatorPointForward</code> is ok but im showing error in <code>DateValidatorPointBackward</code>\n<a href=\"https://i.stack.imgur.com/fGmg6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fGmg6.png\" alt=\"suggestion\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/leeu3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/leeu3.png\" alt=\"Error\" /></a></p>\n"},{"tags":["java","selenium","google-chrome-devtools"],"answers":[{"tags":[],"owner":{"account_id":16611763,"reputation":11,"user_id":12004549,"display_name":"tickRR"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678176128,"creation_date":1678176128,"answer_id":75659328,"question_id":74985216,"body_markdown":"in python you can change user-agent like this:\r\n```python\r\ndriver.execute_cdp_cmd(&quot;Emulation.setUserAgentOverride&quot;,{&quot;userAgent&quot;:&quot;Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html&quot;})\r\n```\r\nin java,you can refer to the following:  \r\nhttps://www.selenium.dev/documentation/webdriver/bidirectional/chrome_devtools/\r\nhttps://chromedevtools.github.io/devtools-protocol/tot/Emulation/#method-setUserAgentOverride","title":"change user-agent into google bot in selenium","body":"<p>in python you can change user-agent like this:</p>\n<pre class=\"lang-py prettyprint-override\"><code>driver.execute_cdp_cmd(&quot;Emulation.setUserAgentOverride&quot;,{&quot;userAgent&quot;:&quot;Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html&quot;})\n</code></pre>\n<p>in java,you can refer to the following:<br />\n<a href=\"https://www.selenium.dev/documentation/webdriver/bidirectional/chrome_devtools/\" rel=\"nofollow noreferrer\">https://www.selenium.dev/documentation/webdriver/bidirectional/chrome_devtools/</a>\n<a href=\"https://chromedevtools.github.io/devtools-protocol/tot/Emulation/#method-setUserAgentOverride\" rel=\"nofollow noreferrer\">https://chromedevtools.github.io/devtools-protocol/tot/Emulation/#method-setUserAgentOverride</a></p>\n"}],"owner":{"account_id":17888127,"reputation":39,"user_id":12995285,"display_name":"ankush singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1678176128,"creation_date":1672679397,"question_id":74985216,"body_markdown":"I need to change the user agent to Googlebot in java\r\n\r\nhere is my code-\r\n\r\n```\r\n                System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;src/main/resources/Drivers/chromedriver.exe&quot;);\r\n                ChromeOptions chromeOptions = new ChromeOptions();\r\n                chromeOptions.addArguments(&quot;--headless&quot;);\r\n                chromeOptions.addArguments(&quot;--disable-gpu&quot;);\r\n                chromeOptions.addArguments(&quot;user-agent= Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)&quot;);\r\n                driver = new ChromeDriver(chromeOptions);\r\n```\r\n\r\nbut in the browser, I am only visible custom agent by default in Chrome\r\n\r\ncan I am getting somd good solution to this.\r\n","title":"change user-agent into google bot in selenium","body":"<p>I need to change the user agent to Googlebot in java</p>\n<p>here is my code-</p>\n<pre><code>                System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;src/main/resources/Drivers/chromedriver.exe&quot;);\n                ChromeOptions chromeOptions = new ChromeOptions();\n                chromeOptions.addArguments(&quot;--headless&quot;);\n                chromeOptions.addArguments(&quot;--disable-gpu&quot;);\n                chromeOptions.addArguments(&quot;user-agent= Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)&quot;);\n                driver = new ChromeDriver(chromeOptions);\n</code></pre>\n<p>but in the browser, I am only visible custom agent by default in Chrome</p>\n<p>can I am getting somd good solution to this.</p>\n"},{"tags":["java","time","java-7"],"comments":[{"owner":{"account_id":5122294,"reputation":11550,"user_id":4105457,"display_name":"Flown"},"score":0,"creation_date":1446449196,"post_id":33472569,"comment_id":54730625,"body_markdown":"Nanoseconds are more precise than microseconds. Also a solution was provided in your [post](http://stackoverflow.com/a/33129599/4105457)","body":"Nanoseconds are more precise than microseconds. Also a solution was provided in your <a href=\"http://stackoverflow.com/a/33129599/4105457\">post</a>"},{"owner":{"account_id":216316,"reputation":8480,"user_id":471481,"accept_rate":100,"display_name":"Andrei Sfat"},"score":0,"creation_date":1446449269,"post_id":33472569,"comment_id":54730651,"body_markdown":"Possible duplicate of [System.currentTimeMillis vs System.nanoTime](http://stackoverflow.com/questions/351565/system-currenttimemillis-vs-system-nanotime)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/351565/system-currenttimemillis-vs-system-nanotime\">System.currentTimeMillis vs System.nanoTime</a>"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":1,"creation_date":1446453706,"post_id":33472569,"comment_id":54732517,"body_markdown":"Of course the precision of the timing logic is fully operating system and hardware dependent, it is not actually Java producing the numbers.","body":"Of course the precision of the timing logic is fully operating system and hardware dependent, it is not actually Java producing the numbers."},{"owner":{"account_id":2259867,"reputation":1306,"user_id":1990228,"display_name":"Mitesh Pathak"},"score":0,"creation_date":1567098672,"post_id":33472569,"comment_id":101871831,"body_markdown":"@BasilBourque Thanks, I have deleted my comment. I wrote that comment long back without fully understand that the OP is looking for accuracy.","body":"@BasilBourque Thanks, I have deleted my comment. I wrote that comment long back without fully understand that the OP is looking for accuracy."}],"answers":[{"comments":[{"owner":{"account_id":5701253,"reputation":4320,"user_id":4506140,"accept_rate":73,"display_name":"Jude Niroshan"},"score":0,"creation_date":1446450178,"post_id":33472641,"comment_id":54731010,"body_markdown":"Parse it to a Date object and further if you need more formatting use `SimpleDateFormatter`","body":"Parse it to a Date object and further if you need more formatting use <code>SimpleDateFormatter</code>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1497934028,"post_id":33472641,"comment_id":76273346,"body_markdown":"@JudeNiroshan FYI, the troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/8/docs/api/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html), and `java.text.SimpleTextFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [java.time](https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes. See [Tutorial by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"@JudeNiroshan FYI, the troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleTextFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Tutorial by Oracle</a>."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1528665559,"creation_date":1446449308,"answer_id":33472641,"question_id":33472569,"body_markdown":"The Java 8 [`java.time`][1] package has what you need.\r\n\r\nTry:\r\n\r\n    LocalDateTime.now(); // The current timestamp accurate to nanoseconds\r\n    LocalDateTime.now().getLong(ChronoField.MICRO_OF_SECOND); // the microseconds part\r\n    LocalDateTime.now().getLong(ChronoField.NANO_OF_SECOND); // even finer\r\n    LocalDateTime.now().getDayOfMonth(); // main parts of the date have their own methods\r\n    LocalDateTime.now().getMonth(); // etc  \r\n\r\nTo just get nanos as a String, use `nnnnnnnnn` in the format:\r\n\r\n    LocalDateTime.now().format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.nnnnnnnnn&quot;));  \r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html","title":"Any new method to get current time with accuracy in microseconds in Java now?","body":"<p>The Java 8 <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.time</code></a> package has what you need.</p>\n\n<p>Try:</p>\n\n<pre><code>LocalDateTime.now(); // The current timestamp accurate to nanoseconds\nLocalDateTime.now().getLong(ChronoField.MICRO_OF_SECOND); // the microseconds part\nLocalDateTime.now().getLong(ChronoField.NANO_OF_SECOND); // even finer\nLocalDateTime.now().getDayOfMonth(); // main parts of the date have their own methods\nLocalDateTime.now().getMonth(); // etc  \n</code></pre>\n\n<p>To just get nanos as a String, use <code>nnnnnnnnn</code> in the format:</p>\n\n<pre><code>LocalDateTime.now().format(DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.nnnnnnnnn\"));  \n</code></pre>\n"},{"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1446449643,"post_id":33472703,"comment_id":54730795,"body_markdown":"Which of these gives you the time in microseconds?","body":"Which of these gives you the time in microseconds?"}],"tags":[],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446450103,"creation_date":1446449614,"answer_id":33472703,"question_id":33472569,"body_markdown":"Another way to get current time from the new Java 8 java.time is the [Clock][1] class\r\n\r\n    Clock.systemUTC().millis()\r\n\r\ngives current time in millis (long value millis since epoch) or \r\n\r\n    Clock.systemUTC().instant()\r\n\r\nreturns an instance of [Instant][2] class &quot;which represents the start of a nanosecond on the timeline&quot; according to [the official Oracle Java tutorial][3].  The tutorial shows how to work with the new class, convert to local or UTC or zoned date time, etc \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/datetime/iso/instant.html","title":"Any new method to get current time with accuracy in microseconds in Java now?","body":"<p>Another way to get current time from the new Java 8 java.time is the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html\" rel=\"nofollow\">Clock</a> class</p>\n\n<pre><code>Clock.systemUTC().millis()\n</code></pre>\n\n<p>gives current time in millis (long value millis since epoch) or </p>\n\n<pre><code>Clock.systemUTC().instant()\n</code></pre>\n\n<p>returns an instance of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"nofollow\">Instant</a> class \"which represents the start of a nanosecond on the timeline\" according to <a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/instant.html\" rel=\"nofollow\">the official Oracle Java tutorial</a>.  The tutorial shows how to work with the new class, convert to local or UTC or zoned date time, etc </p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1678175884,"creation_date":1446502096,"answer_id":33487917,"question_id":33472569,"body_markdown":"# tl;dr\r\n\r\n    Instant.now()\r\n\r\n&gt;2018-03-09T21:03:33.831515Z\r\n\r\nUsing [Java 9][1] and later, you can likely capture the current moment with [microseconds][2] resolution.\r\n\r\nExample seen above is Oracle Java 9.0.4 for [macOS Sierra][3]. Note the 6 digits of fractional second, meaning microseconds.\r\n\r\n\r\n----------\r\n\r\n\r\n# java.time\r\n\r\nThe java.time framework built into Java 8 and later has classes to represent date-time values with a resolution of [nanoseconds][4], 9 digits of a decimal fraction of a second. \r\n\r\n## Java 9\r\n\r\nThe [OpenJDK][5] implementation of Java 9 has a [fresh implementation][6] of `Clock` with up to nanosecond resolution. Actual values depend on the limits of the underlying hardware clock of any particular computer.\r\n\r\nFor more info see the Question, [Why does the new Java 8 Date Time API not have nanosecond precision?][7].\r\n\r\nAvoid the older date-time classes. The classes such as java.util.Date/.Calendar bundled with early versions of Java have only millisecond resolution. Same for [Joda-Time][8]. Both are supplanted by the java.time classes.\r\n\r\n## Java 8\r\n\r\nJava 8 implements the [`Clock`][9] interface with only [millisecond][10] resolution (3 digits of a fractional second). So while the java.time classes are capable of *carrying* nanoseconds, it is not able to *capture* the current time with nanoseconds.\r\n\r\n# Native code\r\n\r\nPerhaps you could write or find an implementation of [`Clock`][9] that makes a call to a native library in the host OS to get a more accurate time. \r\n\r\n# Database\r\n\r\nIf you happen to be using a database already, you could ask it for the time. As of JDBC 4.2 and later, you can directly exchange *java.time* objects with your database. \r\n\r\n    Instant instant = myPreparedStatement.getObject( … , Instant.class ) ;\r\n\r\nPrior to JDBC 4.2, you could go through the troublesome legacy `java.sql.Timestamp` that carries nanosecond resolution. For example, [Postgres][11] provides [microsecond][2] resolution (assuming the host computer clock supports that), 6 digits of a fractional second. You can convert from a `java.sql.Timestamp` to an `Instant` and `ZonedDateTime` using new methods added to the old classes.\r\n\r\n[![enter image description here][12]][12]\r\n\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes. Hibernate 5 &amp; JPA 2.2 support *java.time*. \r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n   - [**Java 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) brought some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n   - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n   - Later versions of Android (26+) bundle implementations of the *java.time* classes.\r\n   - For earlier Android (&lt;26), the process of [*API desugaring*](https://developer.android.com/studio/write/java8-support#library-desugaring) brings a [subset of the *java.time*](https://developer.android.com/studio/write/java8-support-table) functionality not originally built into Android.\r\n     - If the desugaring does not offer what you need, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above) to Android. See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\r\n  [2]: https://en.wikipedia.org/wiki/Microsecond\r\n  [3]: https://en.wikipedia.org/wiki/MacOS_Sierra\r\n  [4]: https://en.wikipedia.org/wiki/Nanosecond\r\n  [5]: https://en.wikipedia.org/wiki/OpenJDK\r\n  [6]: https://bugs.openjdk.java.net/browse/JDK-8068730\r\n  [7]: https://stackoverflow.com/q/33477695/642706\r\n  [8]: http://www.joda.org/joda-time/\r\n  [9]: http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html\r\n  [10]: https://en.wikipedia.org/wiki/Millisecond\r\n  [11]: http://www.postgresql.org\r\n  [12]: http://i.stack.imgur.com/9eaXs.png","title":"Any new method to get current time with accuracy in microseconds in Java now?","body":"<h1>tl;dr</h1>\n<pre><code>Instant.now()\n</code></pre>\n<blockquote>\n<p>2018-03-09T21:03:33.831515Z</p>\n</blockquote>\n<p>Using <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\">Java 9</a> and later, you can likely capture the current moment with <a href=\"https://en.wikipedia.org/wiki/Microsecond\" rel=\"nofollow noreferrer\">microseconds</a> resolution.</p>\n<p>Example seen above is Oracle Java 9.0.4 for <a href=\"https://en.wikipedia.org/wiki/MacOS_Sierra\" rel=\"nofollow noreferrer\">macOS Sierra</a>. Note the 6 digits of fractional second, meaning microseconds.</p>\n<hr />\n<h1>java.time</h1>\n<p>The java.time framework built into Java 8 and later has classes to represent date-time values with a resolution of <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"nofollow noreferrer\">nanoseconds</a>, 9 digits of a decimal fraction of a second.</p>\n<h2>Java 9</h2>\n<p>The <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\">OpenJDK</a> implementation of Java 9 has a <a href=\"https://bugs.openjdk.java.net/browse/JDK-8068730\" rel=\"nofollow noreferrer\">fresh implementation</a> of <code>Clock</code> with up to nanosecond resolution. Actual values depend on the limits of the underlying hardware clock of any particular computer.</p>\n<p>For more info see the Question, <a href=\"https://stackoverflow.com/q/33477695/642706\">Why does the new Java 8 Date Time API not have nanosecond precision?</a>.</p>\n<p>Avoid the older date-time classes. The classes such as java.util.Date/.Calendar bundled with early versions of Java have only millisecond resolution. Same for <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a>. Both are supplanted by the java.time classes.</p>\n<h2>Java 8</h2>\n<p>Java 8 implements the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html\" rel=\"nofollow noreferrer\"><code>Clock</code></a> interface with only <a href=\"https://en.wikipedia.org/wiki/Millisecond\" rel=\"nofollow noreferrer\">millisecond</a> resolution (3 digits of a fractional second). So while the java.time classes are capable of <em>carrying</em> nanoseconds, it is not able to <em>capture</em> the current time with nanoseconds.</p>\n<h1>Native code</h1>\n<p>Perhaps you could write or find an implementation of <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html\" rel=\"nofollow noreferrer\"><code>Clock</code></a> that makes a call to a native library in the host OS to get a more accurate time.</p>\n<h1>Database</h1>\n<p>If you happen to be using a database already, you could ask it for the time. As of JDBC 4.2 and later, you can directly exchange <em>java.time</em> objects with your database.</p>\n<pre><code>Instant instant = myPreparedStatement.getObject( … , Instant.class ) ;\n</code></pre>\n<p>Prior to JDBC 4.2, you could go through the troublesome legacy <code>java.sql.Timestamp</code> that carries nanosecond resolution. For example, <a href=\"http://www.postgresql.org\" rel=\"nofollow noreferrer\">Postgres</a> provides <a href=\"https://en.wikipedia.org/wiki/Microsecond\" rel=\"nofollow noreferrer\">microsecond</a> resolution (assuming the host computer clock supports that), 6 digits of a fractional second. You can convert from a <code>java.sql.Timestamp</code> to an <code>Instant</code> and <code>ZonedDateTime</code> using new methods added to the old classes.</p>\n<p><a href=\"https://i.stack.imgur.com/9eaXs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9eaXs.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes. Hibernate 5 &amp; JPA 2.2 support <em>java.time</em>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"nofollow noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java 9</strong></a> brought some minor features and fixes.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a>\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n<ul>\n<li>Later versions of Android (26+) bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the process of <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"nofollow noreferrer\"><em>API desugaring</em></a> brings a <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">subset of the <em>java.time</em></a> functionality not originally built into Android.\n<ul>\n<li>If the desugaring does not offer what you need, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above) to Android. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"}],"owner":{"account_id":4883748,"reputation":554,"user_id":3936763,"accept_rate":50,"display_name":"ysrhung"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20451,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":3,"score":15,"last_activity_date":1678175884,"creation_date":1446448999,"question_id":33472569,"body_markdown":"I checked the below page that there is no method to get current time with accuracy in microsecond in Java in 2009.  \r\nhttps://stackoverflow.com/questions/1712205/current-time-in-microseconds-in-java\r\n\r\nThe best one is System.currentTimeMillis() which gives current time with accuracy in millisecond, while System.nanoTime() gives the current timestamp with accuracy in nanoseconds, but this timestamp could not be used to convert to current time with high accuracy. \r\n\r\nMay I know if there is any new update in this for Java after 6 years? Thanks.\r\n\r\nEdit 1. System.nanoTime() is useful for estimating duration, but not giving current time.\r\n\r\nEdit 2. It is good to have solutions in Java 8. Is there any other way to do it in Java 7? Thanks!","title":"Any new method to get current time with accuracy in microseconds in Java now?","body":"<p>I checked the below page that there is no method to get current time with accuracy in microsecond in Java in 2009.<br>\n<a href=\"https://stackoverflow.com/questions/1712205/current-time-in-microseconds-in-java\">Current time in microseconds in java</a></p>\n\n<p>The best one is System.currentTimeMillis() which gives current time with accuracy in millisecond, while System.nanoTime() gives the current timestamp with accuracy in nanoseconds, but this timestamp could not be used to convert to current time with high accuracy. </p>\n\n<p>May I know if there is any new update in this for Java after 6 years? Thanks.</p>\n\n<p>Edit 1. System.nanoTime() is useful for estimating duration, but not giving current time.</p>\n\n<p>Edit 2. It is good to have solutions in Java 8. Is there any other way to do it in Java 7? Thanks!</p>\n"},{"tags":["java","unit-testing","apache-kafka","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":2038203,"reputation":1330,"user_id":1820013,"display_name":"bbejeck"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678115255,"creation_date":1678115255,"answer_id":75652478,"question_id":75641863,"body_markdown":"In Kafka Streams - Stream-Table joins are only triggered by new incoming KStream records; incoming KTable records only update the KTable.  In your test here, can you switch the order of calls and execute `inputTopicInsurances.pipeInput` first, then the `inputTopicEmployees.pipeInput` method, and see if that works?","title":"Testing joins in Kafka Streams","body":"<p>In Kafka Streams - Stream-Table joins are only triggered by new incoming KStream records; incoming KTable records only update the KTable.  In your test here, can you switch the order of calls and execute <code>inputTopicInsurances.pipeInput</code> first, then the <code>inputTopicEmployees.pipeInput</code> method, and see if that works?</p>\n"}],"owner":{"account_id":1166907,"reputation":61,"user_id":1144950,"display_name":"Thomas Mueller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678175827,"creation_date":1678015272,"question_id":75641863,"body_markdown":"I have a question about to testing kafak streams, particulary testing joins inside kafka streams.\r\ni have a small use case with an employee which I want to join with an insurance. The output will be an enriched employee with the name of the insurance. The reference will be the insuranceIdx in the employee.\r\n\r\n\r\nHere is my topology for the use case:\r\n```\r\npublic class EnrichEmployeesTopoplogy {\r\n\r\n\r\n    public void createTopology(final StreamsBuilder builder) {\r\n\r\n        final Serde&lt;EnrichedEmployee&gt; enrichedEmployeeSerde = SerdeFactory.serdeForEnrichedEmployee();\r\n        final Serde&lt;Insurance&gt; insuranceSerde = SerdeFactory.serdeForInsurance();\r\n        final Serde&lt;Employee&gt; employeeSerde = SerdeFactory.serdeForEmployee();\r\n\r\n        // read the incomming employee events in a stream\r\n        final KStream&lt;String, Employee&gt; employeeStream =\r\n                builder.stream(&quot;employees&quot;, Consumed.with(Serdes.String(), employeeSerde));\r\n\r\n        // rekey the incomming employee stream that it will have the same key as the insurance.\r\n        final KStream&lt;String, Employee&gt; rekeyedEmployeeStream\r\n                = employeeStream.selectKey((k, v) -&gt; String.valueOf(v.getInsuranceIdx()));\r\n\r\n\r\n        // read the incomming insurance events in a table\r\n        final KTable&lt;String, Insurance&gt; insuranceTable = builder.table(&quot;insurances&quot;,\r\n                Consumed.with(Serdes.String(), insuranceSerde));\r\n\r\n        // create the value joiner\r\n        ValueJoiner&lt;Employee, Insurance, EnrichedEmployee&gt; employeeJoiner =\r\n                (employee, insurance) -&gt;\r\n                        EnrichedEmployee.builder()\r\n                                .idx(employee.getIdx())\r\n                                .email(employee.getEmail())\r\n                                .insuranceName(insurance.getName())\r\n                                .build();\r\n\r\n        // create the joined with \r\n        final Joined&lt;String, Employee, Insurance&gt; joined = Joined.with(Serdes.String(), employeeSerde, insuranceSerde);\r\n\r\n\r\n        rekeyedEmployeeStream.join(insuranceTable, employeeJoiner, joined)\r\n                .to(&quot;enriched-employees&quot;, Produced.with(Serdes.String(), enrichedEmployeeSerde));\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nWhen I test this behaviour with an real Kafka, it will work as it should.\r\nNow I&#39;ve write a unit test using kafka-streams-test-utils\r\n\r\nHere is my test code:\r\n\r\n```\r\nclass EnrichedEmployeeTopologyTest {\r\n\r\n\r\n    private TopologyTestDriver testDriver;\r\n    private TestInputTopic&lt;String, Employee&gt; inputTopicEmployees;\r\n    private TestInputTopic&lt;String, Insurance&gt; inputTopicInsurances;\r\n    private TestOutputTopic&lt;String, EnrichedEmployee&gt; outputTopicEnrichedEmployees;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n\r\n        final Serde&lt;EnrichedEmployee&gt; enrichedEmployeeSerde = SerdeFactory.serdeForEnrichedEmployee();\r\n        final Serde&lt;Insurance&gt; insuranceSerde = SerdeFactory.serdeForInsurance();\r\n        final Serde&lt;Employee&gt; employeeSerde = SerdeFactory.serdeForEmployee();\r\n\r\n        final Properties streamsConfiguration = new Properties();\r\n        streamsConfiguration.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;test01&quot;);\r\n        streamsConfiguration.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;dummy:9092&quot;);\r\n\r\n        final EnrichEmployeesTopoplogy enrichEmployeesTopoplogy = new EnrichEmployeesTopoplogy();\r\n        final StreamsBuilder builder = new StreamsBuilder();\r\n\r\n        enrichEmployeesTopoplogy.createTopology(builder);\r\n\r\n        final Topology topology = builder.build();\r\n\r\n        testDriver = new TopologyTestDriver(topology, streamsConfiguration);\r\n        inputTopicEmployees = testDriver.createInputTopic(&quot;employees&quot;, Serdes.String().serializer(), employeeSerde.serializer());\r\n        inputTopicInsurances = testDriver.createInputTopic(&quot;insurances&quot;, Serdes.String().serializer(), insuranceSerde.serializer());\r\n        outputTopicEnrichedEmployees = testDriver.createOutputTopic(&quot;enriched-employees&quot;, Serdes.String().deserializer(), enrichedEmployeeSerde.deserializer());\r\n\r\n    }\r\n\r\n    @AfterEach\r\n    void tearDown() {\r\n        testDriver.close();\r\n    }\r\n\r\n    @Test\r\n    void createTopology() {\r\n        final String employeeIdx = UUID.randomUUID().toString();\r\n        final String insuranceIdx = UUID.randomUUID().toString();\r\n\r\n        final Employee employee = Employee.builder().idx(employeeIdx).email(&quot;foo1@bar.de&quot;).insuranceIdx(insuranceIdx).build();\r\n        final Insurance insurance = Insurance.builder().idx(insuranceIdx).name(&quot;insurance 01&quot;).build();\r\n\r\n\r\n        inputTopicEmployees.pipeInput(employee.getIdx(), employee);\r\n        inputTopicInsurances.pipeInput(insurance.getIdx(), insurance);\r\n\r\n        Assertions.assertEquals(true, !outputTopicEnrichedEmployees.isEmpty());\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe result will be that the assertion alway will fail.\r\n\r\nI&#39;ve tried to experiment a little with the stream configuration values. But nothing will change.\r\nMy assumption is that it could be a timing problem within the test. \r\nCan anybody help me about this problem?\r\n\r\n\r\nBest Regards\r\n  Thomas\r\n\r\n\r\n","title":"Testing joins in Kafka Streams","body":"<p>I have a question about to testing kafak streams, particulary testing joins inside kafka streams.\ni have a small use case with an employee which I want to join with an insurance. The output will be an enriched employee with the name of the insurance. The reference will be the insuranceIdx in the employee.</p>\n<p>Here is my topology for the use case:</p>\n<pre><code>public class EnrichEmployeesTopoplogy {\n\n\n    public void createTopology(final StreamsBuilder builder) {\n\n        final Serde&lt;EnrichedEmployee&gt; enrichedEmployeeSerde = SerdeFactory.serdeForEnrichedEmployee();\n        final Serde&lt;Insurance&gt; insuranceSerde = SerdeFactory.serdeForInsurance();\n        final Serde&lt;Employee&gt; employeeSerde = SerdeFactory.serdeForEmployee();\n\n        // read the incomming employee events in a stream\n        final KStream&lt;String, Employee&gt; employeeStream =\n                builder.stream(&quot;employees&quot;, Consumed.with(Serdes.String(), employeeSerde));\n\n        // rekey the incomming employee stream that it will have the same key as the insurance.\n        final KStream&lt;String, Employee&gt; rekeyedEmployeeStream\n                = employeeStream.selectKey((k, v) -&gt; String.valueOf(v.getInsuranceIdx()));\n\n\n        // read the incomming insurance events in a table\n        final KTable&lt;String, Insurance&gt; insuranceTable = builder.table(&quot;insurances&quot;,\n                Consumed.with(Serdes.String(), insuranceSerde));\n\n        // create the value joiner\n        ValueJoiner&lt;Employee, Insurance, EnrichedEmployee&gt; employeeJoiner =\n                (employee, insurance) -&gt;\n                        EnrichedEmployee.builder()\n                                .idx(employee.getIdx())\n                                .email(employee.getEmail())\n                                .insuranceName(insurance.getName())\n                                .build();\n\n        // create the joined with \n        final Joined&lt;String, Employee, Insurance&gt; joined = Joined.with(Serdes.String(), employeeSerde, insuranceSerde);\n\n\n        rekeyedEmployeeStream.join(insuranceTable, employeeJoiner, joined)\n                .to(&quot;enriched-employees&quot;, Produced.with(Serdes.String(), enrichedEmployeeSerde));\n\n\n    }\n}\n</code></pre>\n<p>When I test this behaviour with an real Kafka, it will work as it should.\nNow I've write a unit test using kafka-streams-test-utils</p>\n<p>Here is my test code:</p>\n<pre><code>class EnrichedEmployeeTopologyTest {\n\n\n    private TopologyTestDriver testDriver;\n    private TestInputTopic&lt;String, Employee&gt; inputTopicEmployees;\n    private TestInputTopic&lt;String, Insurance&gt; inputTopicInsurances;\n    private TestOutputTopic&lt;String, EnrichedEmployee&gt; outputTopicEnrichedEmployees;\n\n    @BeforeEach\n    void setUp() {\n\n        final Serde&lt;EnrichedEmployee&gt; enrichedEmployeeSerde = SerdeFactory.serdeForEnrichedEmployee();\n        final Serde&lt;Insurance&gt; insuranceSerde = SerdeFactory.serdeForInsurance();\n        final Serde&lt;Employee&gt; employeeSerde = SerdeFactory.serdeForEmployee();\n\n        final Properties streamsConfiguration = new Properties();\n        streamsConfiguration.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;test01&quot;);\n        streamsConfiguration.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;dummy:9092&quot;);\n\n        final EnrichEmployeesTopoplogy enrichEmployeesTopoplogy = new EnrichEmployeesTopoplogy();\n        final StreamsBuilder builder = new StreamsBuilder();\n\n        enrichEmployeesTopoplogy.createTopology(builder);\n\n        final Topology topology = builder.build();\n\n        testDriver = new TopologyTestDriver(topology, streamsConfiguration);\n        inputTopicEmployees = testDriver.createInputTopic(&quot;employees&quot;, Serdes.String().serializer(), employeeSerde.serializer());\n        inputTopicInsurances = testDriver.createInputTopic(&quot;insurances&quot;, Serdes.String().serializer(), insuranceSerde.serializer());\n        outputTopicEnrichedEmployees = testDriver.createOutputTopic(&quot;enriched-employees&quot;, Serdes.String().deserializer(), enrichedEmployeeSerde.deserializer());\n\n    }\n\n    @AfterEach\n    void tearDown() {\n        testDriver.close();\n    }\n\n    @Test\n    void createTopology() {\n        final String employeeIdx = UUID.randomUUID().toString();\n        final String insuranceIdx = UUID.randomUUID().toString();\n\n        final Employee employee = Employee.builder().idx(employeeIdx).email(&quot;foo1@bar.de&quot;).insuranceIdx(insuranceIdx).build();\n        final Insurance insurance = Insurance.builder().idx(insuranceIdx).name(&quot;insurance 01&quot;).build();\n\n\n        inputTopicEmployees.pipeInput(employee.getIdx(), employee);\n        inputTopicInsurances.pipeInput(insurance.getIdx(), insurance);\n\n        Assertions.assertEquals(true, !outputTopicEnrichedEmployees.isEmpty());\n    }\n}\n</code></pre>\n<p>The result will be that the assertion alway will fail.</p>\n<p>I've tried to experiment a little with the stream configuration values. But nothing will change.\nMy assumption is that it could be a timing problem within the test.\nCan anybody help me about this problem?</p>\n<p>Best Regards\nThomas</p>\n"},{"tags":["java","selenium-webdriver","selenide","autotest","window-handles"],"owner":{"account_id":27954338,"reputation":11,"user_id":21347489,"display_name":"Vera Naverniuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678175682,"creation_date":1678175682,"question_id":75659262,"body_markdown":"Could somebody help me please! \r\nWhat is the problem here: I&#39;m working with selenide, writing autotests using java and I need to switch between different tabs in browser or between its windows from time to time. I use the same method for it, switchWindowTab(). But when the program switch tabs for the first time it works correctly and for the second one it fails on the 2d or 3d line when it&#39;s trying to implement getWindowHandles() or getWindowHandle():\r\n\r\nIf it fails on getWindowHandles(), it print - UnreachableBrowserException: Error communicating with the remote browser. It may have died.\r\n\r\nand if it happens on getWindowHandle() it prints - NoSuchWindowException\r\n\r\nWhat can be the reason for it? And how can I deal with it?\r\n\r\n```\r\n public void switchWindowTab(){\r\n        ArrayList&lt;String&gt; tabs = new ArrayList&lt;&gt;(driver.getWindowHandles());\r\n        String currentHandle = driver.getWindowHandle();\r\n        for(String tab: tabs) {\r\n            if (!tab.equalsIgnoreCase(currentHandle))\r\n                Selenide.switchTo().window(tab, Duration.ofSeconds(120));\r\n        }\r\n    }\r\n```\r\n\r\nCan it be connected with switching between windows? As just before program fails it switches to a plugin window which closes got all the permission. So the program returns to the first window within this action.\r\n\r\nThe program fail often, but not all the time, sometimes (very rare) it works fine anyway.\r\n\r\nAnd also as I know, the problem exist only when running the program locally.","title":"Program fails trying to re-get window handle when switching between browser tabs","body":"<p>Could somebody help me please!\nWhat is the problem here: I'm working with selenide, writing autotests using java and I need to switch between different tabs in browser or between its windows from time to time. I use the same method for it, switchWindowTab(). But when the program switch tabs for the first time it works correctly and for the second one it fails on the 2d or 3d line when it's trying to implement getWindowHandles() or getWindowHandle():</p>\n<p>If it fails on getWindowHandles(), it print - UnreachableBrowserException: Error communicating with the remote browser. It may have died.</p>\n<p>and if it happens on getWindowHandle() it prints - NoSuchWindowException</p>\n<p>What can be the reason for it? And how can I deal with it?</p>\n<pre><code> public void switchWindowTab(){\n        ArrayList&lt;String&gt; tabs = new ArrayList&lt;&gt;(driver.getWindowHandles());\n        String currentHandle = driver.getWindowHandle();\n        for(String tab: tabs) {\n            if (!tab.equalsIgnoreCase(currentHandle))\n                Selenide.switchTo().window(tab, Duration.ofSeconds(120));\n        }\n    }\n</code></pre>\n<p>Can it be connected with switching between windows? As just before program fails it switches to a plugin window which closes got all the permission. So the program returns to the first window within this action.</p>\n<p>The program fail often, but not all the time, sometimes (very rare) it works fine anyway.</p>\n<p>And also as I know, the problem exist only when running the program locally.</p>\n"},{"tags":["java","timertask","discord-jda"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1678156929,"post_id":75657560,"comment_id":133475114,"body_markdown":"This is not clear. In your `Command Handler Class` you are creating new instances of `ScheduledAlert` every time.  The code you marked as &quot;Not working&quot; will ALWAYS find `task==null`.","body":"This is not clear. In your <code>Command Handler Class</code> you are creating new instances of <code>ScheduledAlert</code> every time.  The code you marked as &quot;Not working&quot; will ALWAYS find <code>task==null</code>."}],"answers":[{"comments":[{"owner":{"account_id":25110546,"reputation":25,"user_id":18960242,"display_name":"Yago Andrade"},"score":0,"creation_date":1678213241,"post_id":75659213,"comment_id":133488599,"body_markdown":"Appreciate that, it worked just fine.","body":"Appreciate that, it worked just fine."}],"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678175302,"creation_date":1678175302,"answer_id":75659213,"question_id":75657560,"body_markdown":"You could use a [Map][1] to keep created `ScheduledAlert` instances mapped to some unique identifier.\r\n\r\nIf i assume that text channel contains some unique and constant identifier (i mean you will never get different id for the same channel), you can use `Map&lt;String, ScheduledAlert&gt;`, where keys are `event.getTextChannel().getId()`.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html","title":"Can&#39;t cancel Timer Task without creating another object in JDA","body":"<p>You could use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">Map</a> to keep created <code>ScheduledAlert</code> instances mapped to some unique identifier.</p>\n<p>If i assume that text channel contains some unique and constant identifier (i mean you will never get different id for the same channel), you can use <code>Map&lt;String, ScheduledAlert&gt;</code>, where keys are <code>event.getTextChannel().getId()</code>.</p>\n"}],"owner":{"account_id":25110546,"reputation":25,"user_id":18960242,"display_name":"Yago Andrade"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75659213,"answer_count":1,"score":1,"last_activity_date":1678175302,"creation_date":1678156310,"question_id":75657560,"body_markdown":"Mainly, I&#39;m coding a discord bot that gets the price of any crypto (integrated with CoinMarketCapAPI) and returns the price to the user. I created a command that sends the price of Bitcoin on its closing time (12 am GMT or 9pm BRT) when triggered, but when I try to cancel it, the price still shows at given time.\r\n\r\nI know what i&#39;m doing wrong, but there&#39;s no clear solution in my mind:\r\nWhen I call the alert class, it creates an object with its own timer, but I can&#39;t access the same object on another discord command, I have to create a different one.\r\n```\r\n//Command Handler Class\r\nelse if (command.equals(&quot;bitcoin-scheduled-alert-start&quot;)) {\r\n            ScheduledAlert scheduledAlert = new ScheduledAlert(event.getTextChannel());\r\n            scheduledAlert.start(LocalTime.of(21,00, 00));\r\n            event.reply(&quot;The daily closing price of Bitcoin will be displayed from now on!&quot;).queue();\r\n\r\n        } else if (command.equals(&quot;bitcoin-scheduled-alert-stop&quot;)) {\r\n            ScheduledAlert disabledScheduledAlert = new ScheduledAlert(event.getTextChannel());\r\n            disabledScheduledAlert.stop();\r\n            event.reply(&quot;The current scheduled alert has been stopped!&quot;).queue();\r\n        }\r\n```\r\n\r\n```\r\npublic class ScheduledAlert { //Bitcoin update at every candle close (12 am GMT [9 pm BRT])\r\n    private final Timer timer;\r\n    private TimerTask task;\r\n    private final TextChannel channel;\r\n    private final String symbol;\r\n\r\n    public ScheduledAlert(TextChannel channel) {\r\n        this.channel = channel;\r\n        this.symbol = &quot;BTC&quot;;\r\n        this.timer = new Timer();\r\n    }\r\n\r\n    public void start(LocalTime time) { //Getting the time from BotCommands parameter\r\n        // Cancel the task if it is already scheduled (NOT WORKING)\r\n        if (task != null) {\r\n            task.cancel();\r\n        }\r\n\r\n        task = new TimerTask() { //Start TimerTask\r\n            @Override\r\n            public void run() {\r\n                System.out.println(&quot;Started&quot;);\r\n                CryptoPrice cmcApi = new CryptoPrice(symbol); //Get Bitcoin price\r\n                double price = cmcApi.getPrice(symbol);\r\n\r\n                NumberFormat formatter = NumberFormat.getCurrencyInstance(Locale.US);\r\n                String priceString = formatter.format(price);\r\n                System.out.println((priceString));\r\n                channel.sendMessage(&quot;The closing price of Bitcoin is &quot; + priceString).queue();\r\n            }\r\n        };\r\n\r\n        ZonedDateTime now = ZonedDateTime.now(ZoneId.of(&quot;America/Sao_Paulo&quot;)); //Sync date with time zone\r\n        ZonedDateTime scheduledTime = ZonedDateTime.of(now.toLocalDate(), time, now.getZone());\r\n\r\n        if (now.compareTo(scheduledTime) &gt; 0) {\r\n            scheduledTime = scheduledTime.plusDays(1); //If the command has been triggered after time in LocalTime, set it to next day at the set time\r\n        }\r\n\r\n        long delay = Duration.between(now, scheduledTime).toMillis();\r\n        timer.schedule(task, delay, TimeUnit.DAYS.toMillis(1));\r\n    }\r\n     \r\n\r\n    public void stop() {\r\n        if (task != null) {\r\n            task.cancel();\r\n            task = null;\r\n            System.out.println(&quot;Stopped&quot;);\r\n        }\r\n    }\r\n```\r\nIs there a way to access that same object?\r\n","title":"Can&#39;t cancel Timer Task without creating another object in JDA","body":"<p>Mainly, I'm coding a discord bot that gets the price of any crypto (integrated with CoinMarketCapAPI) and returns the price to the user. I created a command that sends the price of Bitcoin on its closing time (12 am GMT or 9pm BRT) when triggered, but when I try to cancel it, the price still shows at given time.</p>\n<p>I know what i'm doing wrong, but there's no clear solution in my mind:\nWhen I call the alert class, it creates an object with its own timer, but I can't access the same object on another discord command, I have to create a different one.</p>\n<pre><code>//Command Handler Class\nelse if (command.equals(&quot;bitcoin-scheduled-alert-start&quot;)) {\n            ScheduledAlert scheduledAlert = new ScheduledAlert(event.getTextChannel());\n            scheduledAlert.start(LocalTime.of(21,00, 00));\n            event.reply(&quot;The daily closing price of Bitcoin will be displayed from now on!&quot;).queue();\n\n        } else if (command.equals(&quot;bitcoin-scheduled-alert-stop&quot;)) {\n            ScheduledAlert disabledScheduledAlert = new ScheduledAlert(event.getTextChannel());\n            disabledScheduledAlert.stop();\n            event.reply(&quot;The current scheduled alert has been stopped!&quot;).queue();\n        }\n</code></pre>\n<pre><code>public class ScheduledAlert { //Bitcoin update at every candle close (12 am GMT [9 pm BRT])\n    private final Timer timer;\n    private TimerTask task;\n    private final TextChannel channel;\n    private final String symbol;\n\n    public ScheduledAlert(TextChannel channel) {\n        this.channel = channel;\n        this.symbol = &quot;BTC&quot;;\n        this.timer = new Timer();\n    }\n\n    public void start(LocalTime time) { //Getting the time from BotCommands parameter\n        // Cancel the task if it is already scheduled (NOT WORKING)\n        if (task != null) {\n            task.cancel();\n        }\n\n        task = new TimerTask() { //Start TimerTask\n            @Override\n            public void run() {\n                System.out.println(&quot;Started&quot;);\n                CryptoPrice cmcApi = new CryptoPrice(symbol); //Get Bitcoin price\n                double price = cmcApi.getPrice(symbol);\n\n                NumberFormat formatter = NumberFormat.getCurrencyInstance(Locale.US);\n                String priceString = formatter.format(price);\n                System.out.println((priceString));\n                channel.sendMessage(&quot;The closing price of Bitcoin is &quot; + priceString).queue();\n            }\n        };\n\n        ZonedDateTime now = ZonedDateTime.now(ZoneId.of(&quot;America/Sao_Paulo&quot;)); //Sync date with time zone\n        ZonedDateTime scheduledTime = ZonedDateTime.of(now.toLocalDate(), time, now.getZone());\n\n        if (now.compareTo(scheduledTime) &gt; 0) {\n            scheduledTime = scheduledTime.plusDays(1); //If the command has been triggered after time in LocalTime, set it to next day at the set time\n        }\n\n        long delay = Duration.between(now, scheduledTime).toMillis();\n        timer.schedule(task, delay, TimeUnit.DAYS.toMillis(1));\n    }\n     \n\n    public void stop() {\n        if (task != null) {\n            task.cancel();\n            task = null;\n            System.out.println(&quot;Stopped&quot;);\n        }\n    }\n</code></pre>\n<p>Is there a way to access that same object?</p>\n"},{"tags":["java","amazon-web-services","file","amazon-s3","zip"],"answers":[{"comments":[{"owner":{"account_id":26466408,"reputation":31,"user_id":20107530,"display_name":"Inderjeet Chawla"},"score":0,"creation_date":1678186117,"post_id":75659189,"comment_id":133480656,"body_markdown":"I think it is related to my browser , because i tried with chrome browser and only zip downloads there , but when i download using safari , whole folder appears . I think browser is downloading , and extracting itself.","body":"I think it is related to my browser , because i tried with chrome browser and only zip downloads there , but when i download using safari , whole folder appears . I think browser is downloading , and extracting itself."}],"tags":[],"owner":{"account_id":4815166,"reputation":1,"user_id":3887475,"display_name":"gerhardwyk"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678175140,"creation_date":1678175140,"answer_id":75659189,"question_id":75658496,"body_markdown":"It might be your content type, zip type has more than one recognized MIME\r\nHave a look here https://stackoverflow.com/questions/6977544/rar-zip-files-mime-type","title":"Zip file downloading without extension from s3 using java","body":"<p>It might be your content type, zip type has more than one recognized MIME\nHave a look here <a href=\"https://stackoverflow.com/questions/6977544/rar-zip-files-mime-type\">.rar, .zip files MIME Type</a></p>\n"}],"owner":{"account_id":26466408,"reputation":31,"user_id":20107530,"display_name":"Inderjeet Chawla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678175140,"creation_date":1678168873,"question_id":75658496,"body_markdown":"I have a code where I was uploading and downloading pdf files , and it was working perfectly , everywhere . but when i upload a file which is zip format, while downloading this file I am getting  this download as without .zip extension , it just downloads as an entire folder . Don&#39;t know what i am missing. \r\n\r\nIn aws console, this is the name of file Form_8949_2018_2023-03-07_11:14:00.zip and under file type section it shows , zip too. but not able to download as zip. while downloading if i manually add &quot;.zip&quot; to download name it works fine  as a zip.\r\nAttaching code snippets below . Please help\r\n\r\n\r\n\r\n```\r\npublic String insertFile(String key, byte arr[], EnumS3FileMetaData fileMetaData) throws IOException {\r\n        ByteArrayInputStream stream = null;\r\n        try {\r\n            System.out.println(&quot;key while storing file is &quot; + key);\r\n            Map&lt;String, String&gt; pdf_metadata = new HashMap&lt;&gt;();\r\n            pdf_metadata.put(&quot;Content-Type&quot;, fileMetaData.value);\r\n            pdf_metadata.put(&quot;Content-Disposition&quot;, &quot;attachment&quot;);\r\n            ObjectMetadata objectMetadata = new ObjectMetadata();\r\n            objectMetadata.setUserMetadata(pdf_metadata);\r\n            objectMetadata.setContentLength(arr.length);\r\n            stream = new ByteArrayInputStream(arr);\r\n            this.s3Client.putObject(this.bucketName, key, (InputStream) stream, objectMetadata);\r\n            return this.getPresignedUrl(key);\r\n        } catch (S3Exception e) {\r\n            String errorMsg = String.format(ErrorConstants.FILE_UPLOAD_FAILURE, key);\r\n            log.error(e.getMessage());\r\n            throw new FileUploadFailureException(errorMsg);\r\n        } finally {\r\n            if (stream != null) {\r\n                stream.close();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public String getPresignedUrl(String key) {\r\n        String errorMsg = ErrorConstants.GENERATE_PRESIGNED_URL_FAILED;\r\n        try {\r\n            GeneratePresignedUrlRequest generatePresignedUrlRequest =\r\n                    new GeneratePresignedUrlRequest(bucketName, key)\r\n                            .withExpiration(Date.from(Instant.now().plus(expiryTime, ChronoUnit.MINUTES)))\r\n                            .withMethod(HttpMethod.GET);\r\n            URL url = this.s3Client.generatePresignedUrl(generatePresignedUrlRequest);\r\n            return url.toExternalForm();\r\n        } catch (S3Exception exception) {\r\n            log.error(errorMsg);\r\n            throw new PresignedURLException(exception.getMessage());\r\n        }\r\n    }\r\n\r\n@Getter\r\npublic enum EnumS3FileMetaData {\r\n    PDF_META_DATA(&quot;application/pdf&quot;),\r\n    CSV_META_DATA(&quot;text/csv&quot;),\r\n    ZIP(&quot;application/zip&quot;),\r\n    TXF_META_DATA(&quot;text/txf&quot;);\r\n\r\n    public String value;\r\n\r\n    EnumS3FileMetaData(String value) {\r\n        this.value = value;\r\n    }\r\n}\r\n\r\n```","title":"Zip file downloading without extension from s3 using java","body":"<p>I have a code where I was uploading and downloading pdf files , and it was working perfectly , everywhere . but when i upload a file which is zip format, while downloading this file I am getting  this download as without .zip extension , it just downloads as an entire folder . Don't know what i am missing.</p>\n<p>In aws console, this is the name of file Form_8949_2018_2023-03-07_11:14:00.zip and under file type section it shows , zip too. but not able to download as zip. while downloading if i manually add &quot;.zip&quot; to download name it works fine  as a zip.\nAttaching code snippets below . Please help</p>\n<pre><code>public String insertFile(String key, byte arr[], EnumS3FileMetaData fileMetaData) throws IOException {\n        ByteArrayInputStream stream = null;\n        try {\n            System.out.println(&quot;key while storing file is &quot; + key);\n            Map&lt;String, String&gt; pdf_metadata = new HashMap&lt;&gt;();\n            pdf_metadata.put(&quot;Content-Type&quot;, fileMetaData.value);\n            pdf_metadata.put(&quot;Content-Disposition&quot;, &quot;attachment&quot;);\n            ObjectMetadata objectMetadata = new ObjectMetadata();\n            objectMetadata.setUserMetadata(pdf_metadata);\n            objectMetadata.setContentLength(arr.length);\n            stream = new ByteArrayInputStream(arr);\n            this.s3Client.putObject(this.bucketName, key, (InputStream) stream, objectMetadata);\n            return this.getPresignedUrl(key);\n        } catch (S3Exception e) {\n            String errorMsg = String.format(ErrorConstants.FILE_UPLOAD_FAILURE, key);\n            log.error(e.getMessage());\n            throw new FileUploadFailureException(errorMsg);\n        } finally {\n            if (stream != null) {\n                stream.close();\n            }\n        }\n    }\n\n\n    public String getPresignedUrl(String key) {\n        String errorMsg = ErrorConstants.GENERATE_PRESIGNED_URL_FAILED;\n        try {\n            GeneratePresignedUrlRequest generatePresignedUrlRequest =\n                    new GeneratePresignedUrlRequest(bucketName, key)\n                            .withExpiration(Date.from(Instant.now().plus(expiryTime, ChronoUnit.MINUTES)))\n                            .withMethod(HttpMethod.GET);\n            URL url = this.s3Client.generatePresignedUrl(generatePresignedUrlRequest);\n            return url.toExternalForm();\n        } catch (S3Exception exception) {\n            log.error(errorMsg);\n            throw new PresignedURLException(exception.getMessage());\n        }\n    }\n\n@Getter\npublic enum EnumS3FileMetaData {\n    PDF_META_DATA(&quot;application/pdf&quot;),\n    CSV_META_DATA(&quot;text/csv&quot;),\n    ZIP(&quot;application/zip&quot;),\n    TXF_META_DATA(&quot;text/txf&quot;);\n\n    public String value;\n\n    EnumS3FileMetaData(String value) {\n        this.value = value;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","intellij-idea","datagrid"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1678116261,"post_id":75652619,"comment_id":133466316,"body_markdown":"This is usually due to user misconfiguration in MySQL. You should have some log in the DB server that might help debugging this.","body":"This is usually due to user misconfiguration in MySQL. You should have some log in the DB server that might help debugging this."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678116498,"post_id":75652619,"comment_id":133466415,"body_markdown":"You need to `grant` connect for the user and *from* the client host or specify the host as part of the `create user` command","body":"You need to <code>grant</code> connect for the user and <i>from</i> the client host or specify the host as part of the <code>create user</code> command"}],"answers":[{"tags":[],"owner":{"account_id":27948770,"reputation":1,"user_id":21343141,"display_name":"MichaelAtm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678175075,"creation_date":1678175075,"answer_id":75659183,"question_id":75652619,"body_markdown":"Computer magic.\r\nA new day, a new start. \r\n\r\nWaking up my computer this morning and fired up my database.\r\nWas checking my logging only to see i didnt have any. So i: SET global general_log = 1;\r\n\r\nTo get some data i wanted to try my connection again. It had some other test properties set. So i re-entered my user and password and pressed test connection.\r\n\r\nExpecting another error i allready switched screen. Immediatly second guessing what i saw, i checked intellij again. And yeah magic. Connection succeeded.\r\n\r\nTurning on logging fixed it?\r\n\r\nAnyway thanks for the comments.","title":"Trying to connect java swing to a mysql database on a local network server","body":"<p>Computer magic.\nA new day, a new start.</p>\n<p>Waking up my computer this morning and fired up my database.\nWas checking my logging only to see i didnt have any. So i: SET global general_log = 1;</p>\n<p>To get some data i wanted to try my connection again. It had some other test properties set. So i re-entered my user and password and pressed test connection.</p>\n<p>Expecting another error i allready switched screen. Immediatly second guessing what i saw, i checked intellij again. And yeah magic. Connection succeeded.</p>\n<p>Turning on logging fixed it?</p>\n<p>Anyway thanks for the comments.</p>\n"}],"owner":{"account_id":27948770,"reputation":1,"user_id":21343141,"display_name":"MichaelAtm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678175075,"creation_date":1678116023,"question_id":75652619,"body_markdown":"I am trying to connect to my database from a IntelliJ environment, using java spring. I tried it too in DataGrip with the same result.\r\n\r\nUsing &quot;data sources and drivers&quot;, i try to set up my connection. Typing in my host ip and port.\r\nAuthentication: my user and password who has permissions in my database.\r\nDefine my database.\r\n\r\nWhen I test the connection it gives me the following error:\r\n[28000][1045] Access denied for user &#39;ERP_admin&#39;@&#39;DESKTOP-FK4UCCU.***.***.***&#39; (using password: YES)\r\n(the *** being workrelated scopes)\r\n\r\nI did make the connection in Visual Studio Code with a connector.But apparently jetBrains is a little harder.\r\n\r\nMy wildcard in MYSQL is %. Or should i add something here? \r\n\r\nI have been searching for a couple of days so any help is welcome.\r\n\r\nI tried making connection to it via the root. Didn&#39;t work.\r\nTried other databases. Didn&#39;t work.\r\nEdited my user to all privileges. Didn&#39;t work.\r\n","title":"Trying to connect java swing to a mysql database on a local network server","body":"<p>I am trying to connect to my database from a IntelliJ environment, using java spring. I tried it too in DataGrip with the same result.</p>\n<p>Using &quot;data sources and drivers&quot;, i try to set up my connection. Typing in my host ip and port.\nAuthentication: my user and password who has permissions in my database.\nDefine my database.</p>\n<p>When I test the connection it gives me the following error:\n[28000][1045] Access denied for user 'ERP_admin'@'DESKTOP-FK4UCCU.<em><strong>.</strong></em>.***' (using password: YES)\n(the *** being workrelated scopes)</p>\n<p>I did make the connection in Visual Studio Code with a connector.But apparently jetBrains is a little harder.</p>\n<p>My wildcard in MYSQL is %. Or should i add something here?</p>\n<p>I have been searching for a couple of days so any help is welcome.</p>\n<p>I tried making connection to it via the root. Didn't work.\nTried other databases. Didn't work.\nEdited my user to all privileges. Didn't work.</p>\n"},{"tags":["java","database","postgresql","hibernate","jpa"],"comments":[{"owner":{"account_id":6325048,"reputation":3074,"user_id":4911775,"display_name":"CodeScale"},"score":0,"creation_date":1588163748,"post_id":61501890,"comment_id":108793370,"body_markdown":"did you see that `Caused by: org.postgresql.util.PSQLException: ОШИБКА: повторяющееся значение ключа нарушает ограничение уникальности &quot;excursion_pk&quot;\nПодробности: Ключ &quot;(id)=(1)&quot; уже существует.` ? you should translate for us ;-)","body":"did you see that <code>Caused by: org.postgresql.util.PSQLException: ОШИБКА: повторяющееся значение ключа нарушает ограничение уникальности &quot;excursion_pk&quot; Подробности: Ключ &quot;(id)=(1)&quot; уже существует.</code> ? you should translate for us ;-)"},{"owner":{"account_id":4104614,"reputation":180,"user_id":3369103,"display_name":"Guardian"},"score":0,"creation_date":1588166578,"post_id":61501890,"comment_id":108795082,"body_markdown":"Well i used google translate on this comment and i got a very clear error why this happened: ERROR: duplicate key value violates uniqueness constraint &quot;excursion_pk&quot; Details: Key &quot;(id) = (1)&quot; already exists.","body":"Well i used google translate on this comment and i got a very clear error why this happened: ERROR: duplicate key value violates uniqueness constraint &quot;excursion_pk&quot; Details: Key &quot;(id) = (1)&quot; already exists."}],"answers":[{"tags":[],"owner":{"account_id":4676448,"reputation":1020,"user_id":3786622,"display_name":"InsertKnowledge"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1588173424,"creation_date":1588173424,"answer_id":61505265,"question_id":61501890,"body_markdown":"The problem you have is that you are manually giving your Excursions an id. And when that id already exists in the database you cannot insert it.\r\n\r\nThere are 2 ways you can go about that:\r\n\r\n - The first way is to check which is the latest id in the `excursions` table and give your entities incrementally higher ids.\r\n - The second way (my prefered way) is to let the database handle the ids. Chances are you already have a sequence for every numeric table id. If you don&#39;t you should change their types to an autoincrementing type (e.g. SERIAL/BIGSERIAL for Postgresql). After that just simply add `@GeneratedValue(strategy = GenerationType.IDENTITY)` after the `@Id` annotation on your entities and **don&#39;t** give your entities an id when inserting them (it&#39;ll be automatically generated). \r\n\r\n*Important note*: since you already have inserted entries to the database you may need to set the starting value of the id sequence to be equal to the last row&#39;s id + 1.","title":"javax.persistence.RollbackException: Error while committing the transaction (JPA without Spring)","body":"<p>The problem you have is that you are manually giving your Excursions an id. And when that id already exists in the database you cannot insert it.</p>\n\n<p>There are 2 ways you can go about that:</p>\n\n<ul>\n<li>The first way is to check which is the latest id in the <code>excursions</code> table and give your entities incrementally higher ids.</li>\n<li>The second way (my prefered way) is to let the database handle the ids. Chances are you already have a sequence for every numeric table id. If you don't you should change their types to an autoincrementing type (e.g. SERIAL/BIGSERIAL for Postgresql). After that just simply add <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code> after the <code>@Id</code> annotation on your entities and <strong>don't</strong> give your entities an id when inserting them (it'll be automatically generated). </li>\n</ul>\n\n<p><em>Important note</em>: since you already have inserted entries to the database you may need to set the starting value of the id sequence to be equal to the last row's id + 1.</p>\n"},{"tags":[],"owner":{"account_id":12100061,"reputation":1,"user_id":8841695,"display_name":"zanyarnamdari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678174612,"creation_date":1678174612,"answer_id":75659120,"question_id":61501890,"body_markdown":"in my issue i was created data manually and don&#39;t remember to set value for version column.so when i try to update row of database i see this error because this column cannot update from null value to int value","title":"javax.persistence.RollbackException: Error while committing the transaction (JPA without Spring)","body":"<p>in my issue i was created data manually and don't remember to set value for version column.so when i try to update row of database i see this error because this column cannot update from null value to int value</p>\n"}],"owner":{"account_id":10698563,"reputation":15,"user_id":7874772,"display_name":"Anastasia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5679,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61505265,"answer_count":2,"score":0,"last_activity_date":1678174612,"creation_date":1588163481,"question_id":61501890,"body_markdown":"Developing a client-server application for a database. There were problems with addNewRestTrip, although I made it as similar as possible to addNewCargoTrip. But I still get a RollbackException.\r\nBy the way, I use java without Spring framework, but I use JPA\r\nstack trace\r\n\r\n    javax.persistence.RollbackException: Error while committing the transaction\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:81)\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)\r\n\tat repository.RepositoryPostgres.addNewRestTrip(RepositoryPostgres.java:141)\r\n\tat service.Service.addNewRestTrip(Service.java:61)\r\n\tat api.Controller.addNewRestTrip(Controller.java:55)\r\n\tat infrastructure.ui.tourist.PlanRestTrip.lambda$new$1(PlanRestTrip.java:90)\r\n\tat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1967)\r\n\tat java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2308)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\r\n\tat java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\r\n\tat java.desktop/java.awt.Component.processMouseEvent(Component.java:6632)\r\n\tat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3342)\r\n\tat java.desktop/java.awt.Component.processEvent(Component.java:6397)\r\n\tat java.desktop/java.awt.Container.processEvent(Container.java:2263)\r\n\tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5008)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2321)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4840)\r\n\tat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4918)\r\n\tat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4547)\r\n\tat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4488)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2307)\r\n\tat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2772)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4840)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:772)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:95)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:743)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n\tCaused by: javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:65)\r\n\t... 40 more\r\n\tCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:109)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3235)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3760)\r\n\tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:107)\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\r\n\tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\r\n\tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:348)\r\n\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:102)\r\n\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1352)\r\n\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:443)\r\n\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3202)\r\n\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2370)\r\n\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:447)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\r\n\t... 39 more\r\n\tCaused by: org.postgresql.util.PSQLException: ОШИБКА: повторяющееся значение ключа нарушает ограничение уникальности &quot;excursion_pk&quot;\r\n\tПодробности: Ключ &quot;(id)=(1)&quot; уже существует.\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2510)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2245)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:311)\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:447)\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:368)\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:159)\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:125)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\r\n\t... 58 more\r\n\r\naddNewRestTrip (not worked)\r\n\r\n    public void addNewRestTrip(Long id, String country, Timestamp dateIn, Timestamp dateOut, List&lt;Excursion&gt; joinedExcursions) {\r\n        EntityManager entityManager = emf.createEntityManager();\r\n        try {\r\n            entityManager.getTransaction().begin();\r\n            Tourist tourist = entityManager.find(Tourist.class, id);\r\n            Trip trip = new Trip();\r\n            trip.setCountry(country);\r\n            trip.setDate_in(dateIn);\r\n            trip.setDate_out(dateOut);\r\n            trip.setTourist(tourist);\r\n            trip.setRoom(null);\r\n            trip.setExcursions(new ArrayList&lt;&gt;());\r\n            trip.getExcursions().addAll(joinedExcursions);\r\n            entityManager.persist(trip);\r\n            joinedExcursions.forEach(c -&gt; c.getParticipatingTourists().add(trip));\r\n            entityManager.getTransaction().commit();\r\n            entityManager.close();\r\n        }\r\n        catch (Exception e){\r\n         entityManager.getTransaction().rollback();\r\n         e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\naddNewCargoTrip (the same, but worked)\r\n\r\n    public void addNewCargoTrip(Long id, String statement, String country, Timestamp dateIn, Timestamp dateOut) {\r\n        EntityManager entityManager = emf.createEntityManager();\r\n        List&lt;Cargo&gt; cargo = entityManager\r\n                .createQuery(&quot;select c from Cargo c where c.statement.id = :statement&quot;, Cargo.class)\r\n                .setParameter(&quot;statement&quot;, Integer.parseInt(statement))\r\n                .getResultList();\r\n        entityManager.getTransaction().begin();\r\n        Tourist tourist = entityManager.find(Tourist.class, id);\r\n        Trip trip = new Trip();\r\n        trip.setCountry(country);\r\n        trip.setDate_in(dateIn);\r\n        trip.setDate_out(dateOut);\r\n        trip.setTourist(tourist);\r\n        trip.setRoom(null);\r\n        trip.setCargos(new ArrayList&lt;&gt;());\r\n        trip.getCargos().addAll(cargo);\r\n        entityManager.persist(trip);\r\n        cargo.forEach(c -&gt; c.setOwnerTrip(trip));\r\n        entityManager.getTransaction().commit();\r\n        entityManager.close();\r\n    }\r\n\r\nproject you can see on [github][1] (it&#39;s scary)\r\n\r\n\r\n  [1]: https://github.com/sweetlover47/DB","title":"javax.persistence.RollbackException: Error while committing the transaction (JPA without Spring)","body":"<p>Developing a client-server application for a database. There were problems with addNewRestTrip, although I made it as similar as possible to addNewCargoTrip. But I still get a RollbackException.\nBy the way, I use java without Spring framework, but I use JPA\nstack trace</p>\n\n<pre><code>javax.persistence.RollbackException: Error while committing the transaction\nat org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:81)\nat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)\nat repository.RepositoryPostgres.addNewRestTrip(RepositoryPostgres.java:141)\nat service.Service.addNewRestTrip(Service.java:61)\nat api.Controller.addNewRestTrip(Controller.java:55)\nat infrastructure.ui.tourist.PlanRestTrip.lambda$new$1(PlanRestTrip.java:90)\nat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1967)\nat java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2308)\nat java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\nat java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\nat java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\nat java.desktop/java.awt.Component.processMouseEvent(Component.java:6632)\nat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3342)\nat java.desktop/java.awt.Component.processEvent(Component.java:6397)\nat java.desktop/java.awt.Container.processEvent(Container.java:2263)\nat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5008)\nat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2321)\nat java.desktop/java.awt.Component.dispatchEvent(Component.java:4840)\nat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4918)\nat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4547)\nat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4488)\nat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2307)\nat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2772)\nat java.desktop/java.awt.Component.dispatchEvent(Component.java:4840)\nat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:772)\nat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\nat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\nat java.base/java.security.AccessController.doPrivileged(Native Method)\nat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\nat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:95)\nat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\nat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:743)\nat java.base/java.security.AccessController.doPrivileged(Native Method)\nat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\nat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\nat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\nat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: could not execute statement\nat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\nat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\nat org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:65)\n... 40 more\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\nat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:109)\nat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\nat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\nat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\nat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\nat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3235)\nat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3760)\nat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:107)\nat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\nat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\nat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)\nat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\nat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:348)\nat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\nat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:102)\nat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1352)\nat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:443)\nat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3202)\nat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2370)\nat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:447)\nat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\nat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\nat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\nat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\n... 39 more\nCaused by: org.postgresql.util.PSQLException: ОШИБКА: повторяющееся значение ключа нарушает ограничение уникальности \"excursion_pk\"\nПодробности: Ключ \"(id)=(1)\" уже существует.\nat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2510)\nat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2245)\nat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:311)\nat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:447)\nat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:368)\nat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:159)\nat org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:125)\nat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\n... 58 more\n</code></pre>\n\n<p>addNewRestTrip (not worked)</p>\n\n<pre><code>public void addNewRestTrip(Long id, String country, Timestamp dateIn, Timestamp dateOut, List&lt;Excursion&gt; joinedExcursions) {\n    EntityManager entityManager = emf.createEntityManager();\n    try {\n        entityManager.getTransaction().begin();\n        Tourist tourist = entityManager.find(Tourist.class, id);\n        Trip trip = new Trip();\n        trip.setCountry(country);\n        trip.setDate_in(dateIn);\n        trip.setDate_out(dateOut);\n        trip.setTourist(tourist);\n        trip.setRoom(null);\n        trip.setExcursions(new ArrayList&lt;&gt;());\n        trip.getExcursions().addAll(joinedExcursions);\n        entityManager.persist(trip);\n        joinedExcursions.forEach(c -&gt; c.getParticipatingTourists().add(trip));\n        entityManager.getTransaction().commit();\n        entityManager.close();\n    }\n    catch (Exception e){\n     entityManager.getTransaction().rollback();\n     e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>addNewCargoTrip (the same, but worked)</p>\n\n<pre><code>public void addNewCargoTrip(Long id, String statement, String country, Timestamp dateIn, Timestamp dateOut) {\n    EntityManager entityManager = emf.createEntityManager();\n    List&lt;Cargo&gt; cargo = entityManager\n            .createQuery(\"select c from Cargo c where c.statement.id = :statement\", Cargo.class)\n            .setParameter(\"statement\", Integer.parseInt(statement))\n            .getResultList();\n    entityManager.getTransaction().begin();\n    Tourist tourist = entityManager.find(Tourist.class, id);\n    Trip trip = new Trip();\n    trip.setCountry(country);\n    trip.setDate_in(dateIn);\n    trip.setDate_out(dateOut);\n    trip.setTourist(tourist);\n    trip.setRoom(null);\n    trip.setCargos(new ArrayList&lt;&gt;());\n    trip.getCargos().addAll(cargo);\n    entityManager.persist(trip);\n    cargo.forEach(c -&gt; c.setOwnerTrip(trip));\n    entityManager.getTransaction().commit();\n    entityManager.close();\n}\n</code></pre>\n\n<p>project you can see on <a href=\"https://github.com/sweetlover47/DB\" rel=\"nofollow noreferrer\">github</a> (it's scary)</p>\n"},{"tags":["java","dependency-injection","jersey","glassfish","hk2"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1461760056,"post_id":36889504,"comment_id":61343870,"body_markdown":"Just by looking at this, if I put everything into a single JerseyTest to test, I can tell you that with what you&#39;ve provided, it should work fine. Try doing it yourself, then try and narrow down the problem. I&#39;m not sure what else to tell you. The only way I could see it _not_ working (in a real server env) is if you are using web.xml, and the ResourceConfig class isn&#39;t even being used. If that _is_ the case, see [here](http://stackoverflow.com/a/29275727/2587435)","body":"Just by looking at this, if I put everything into a single JerseyTest to test, I can tell you that with what you&#39;ve provided, it should work fine. Try doing it yourself, then try and narrow down the problem. I&#39;m not sure what else to tell you. The only way I could see it <i>not</i> working (in a real server env) is if you are using web.xml, and the ResourceConfig class isn&#39;t even being used. If that <i>is</i> the case, see <a href=\"http://stackoverflow.com/a/29275727/2587435\">here</a>"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1461760595,"post_id":36889504,"comment_id":61344291,"body_markdown":"You&#39;re not even using the `ResourceConfig` in your post. You are creating a completely different one `createHttpServerWith(new ResourceConfig()..`","body":"You&#39;re not even using the <code>ResourceConfig</code> in your post. You are creating a completely different one <code>createHttpServerWith(new ResourceConfig()..</code>"},{"owner":{"account_id":222186,"reputation":13529,"user_id":480632,"accept_rate":74,"display_name":"J.Olufsen"},"score":0,"creation_date":1461760636,"post_id":36889504,"comment_id":61344313,"body_markdown":"ResourceConfig  is defined in `Main` and `ApplicationConfig` but it looks like those two are not likned together.....maybe","body":"ResourceConfig  is defined in <code>Main</code> and <code>ApplicationConfig</code> but it looks like those two are not likned together.....maybe"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1461760664,"post_id":36889504,"comment_id":61344337,"body_markdown":"Why would they be linked? Just use `createHttpServerWith(new ApplicationConfig())`","body":"Why would they be linked? Just use <code>createHttpServerWith(new ApplicationConfig())</code>"},{"owner":{"account_id":222186,"reputation":13529,"user_id":480632,"accept_rate":74,"display_name":"J.Olufsen"},"score":0,"creation_date":1461760819,"post_id":36889504,"comment_id":61344477,"body_markdown":"Because `ApplicationConfig` defines `ApplicationBinder ` that tells app how to handle injections/bindings... Right?","body":"Because <code>ApplicationConfig</code> defines <code>ApplicationBinder </code> that tells app how to handle injections/bindings... Right?"},{"owner":{"account_id":222186,"reputation":13529,"user_id":480632,"accept_rate":74,"display_name":"J.Olufsen"},"score":0,"creation_date":1461761186,"post_id":36889504,"comment_id":61344761,"body_markdown":"Now it works when testing manyally but JUnit test fails for some strange reason.","body":"Now it works when testing manyally but JUnit test fails for some strange reason."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1461761260,"post_id":36889504,"comment_id":61344829,"body_markdown":"It&#39;s not the same error is it?","body":"It&#39;s not the same error is it?"},{"owner":{"account_id":222186,"reputation":13529,"user_id":480632,"accept_rate":74,"display_name":"J.Olufsen"},"score":0,"creation_date":1461761344,"post_id":36889504,"comment_id":61344904,"body_markdown":"Nope, there is no errors on serverside, it just successfully (200 status code) returns empty prices json. (`[]`). While debugging it reaches `PricingResource` but not entering `findPrices()` method of `PricingService`.","body":"Nope, there is no errors on serverside, it just successfully (200 status code) returns empty prices json. (<code>[]</code>). While debugging it reaches <code>PricingResource</code> but not entering <code>findPrices()</code> method of <code>PricingService</code>."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":2,"creation_date":1461761897,"post_id":36889504,"comment_id":61345355,"body_markdown":"The main thing you&#39;re missing the mock initialization of the data. You should do this inside your test method. Like you did in your previous question, which is now missing in this question","body":"The main thing you&#39;re missing the mock initialization of the data. You should do this inside your test method. Like you did in your previous question, which is now missing in this question"}],"answers":[{"comments":[{"owner":{"account_id":222186,"reputation":13529,"user_id":480632,"accept_rate":74,"display_name":"J.Olufsen"},"score":0,"creation_date":1461762744,"post_id":36890442,"comment_id":61346025,"body_markdown":"I updated the test but it still fails: `assertTrue(prices.get(0).getId() == getMockedPrices().get(0).getId());`","body":"I updated the test but it still fails: <code>assertTrue(prices.get(0).getId() == getMockedPrices().get(0).getId());</code>"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1461762854,"post_id":36890442,"comment_id":61346118,"body_markdown":"Did you initialize the mock data with `when(..).thenXxx(..)`?","body":"Did you initialize the mock data with <code>when(..).thenXxx(..)</code>?"},{"owner":{"account_id":222186,"reputation":13529,"user_id":480632,"accept_rate":74,"display_name":"J.Olufsen"},"score":0,"creation_date":1461763039,"post_id":36890442,"comment_id":61346283,"body_markdown":"I think so,my whole test is posted in `UPDATE3`","body":"I think so,my whole test is posted in <code>UPDATE3</code>"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1461763358,"post_id":36890442,"comment_id":61346541,"body_markdown":"have you done any debugging? Like checking the list inside the resource method. Is the data in the list? If it is, then it seems to be a problem with serialization","body":"have you done any debugging? Like checking the list inside the resource method. Is the data in the list? If it is, then it seems to be a problem with serialization"},{"owner":{"account_id":222186,"reputation":13529,"user_id":480632,"accept_rate":74,"display_name":"J.Olufsen"},"score":0,"creation_date":1461764143,"post_id":36890442,"comment_id":61347194,"body_markdown":"`getMockedPrices` returns valid list of prices. Then after `when(..)` executed `pricingServiceMock` object doesn&#39;t seem to have anything interesting. Same goes for `response`.","body":"<code>getMockedPrices</code> returns valid list of prices. Then after <code>when(..)</code> executed <code>pricingServiceMock</code> object doesn&#39;t seem to have anything interesting. Same goes for <code>response</code>."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1461764254,"post_id":36890442,"comment_id":61347287,"body_markdown":"Im talking about in your _resource method_. Is the mock data there? If it is that means there is a problem serializing it from the server end","body":"Im talking about in your <i>resource method</i>. Is the mock data there? If it is that means there is a problem serializing it from the server end"},{"owner":{"account_id":222186,"reputation":13529,"user_id":480632,"accept_rate":74,"display_name":"J.Olufsen"},"score":0,"creation_date":1461765084,"post_id":36890442,"comment_id":61347971,"body_markdown":"I am confused. Debugger show no useful information.  Maybe there is a line of code that can be included into @Test to verify that mocking actually working?","body":"I am confused. Debugger show no useful information.  Maybe there is a line of code that can be included into @Test to verify that mocking actually working?"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1461765429,"post_id":36890442,"comment_id":61348267,"body_markdown":"You are not getting what I am saying. The _resource method_ is the method with `@GET` on the server side. Check the list returned from calling the service from inside the resource method. You can add a simple S.O.P if you want. If the price is in the list after retriving it from the service, then that means that the server is having a problem serializing it the response","body":"You are not getting what I am saying. The <i>resource method</i> is the method with <code>@GET</code> on the server side. Check the list returned from calling the service from inside the resource method. You can add a simple S.O.P if you want. If the price is in the list after retriving it from the service, then that means that the server is having a problem serializing it the response"}],"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"comment_count":8,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1461761615,"creation_date":1461761615,"answer_id":36890442,"question_id":36889504,"body_markdown":"Forget the `InjectableProvider`. You don&#39;t need it. The problem is that the _mock_ service is not the one being injected. It is the one created by the DI framework. So you are checking for changes on the mock service, which has never been touched.\r\n\r\nSo what you need to do is bind the mock with the DI framework. You can simply create another `AbstractBinder` for testing. It can be a simple anonymous one, where you will bind the mock\r\n\r\n    ResourceConfig config = new ResourceConfig(PricingResource.class);\r\n    config.register(new AbstractBinder() {\r\n        @Override\r\n        protected void configure() {\r\n            bind(pricingServiceMock).to(PricingService.class);\r\n        }\r\n    });\r\n\r\nHere you are simply binding the mocked service. So the framework will inject the mock into the resource. Now when you modify it in the request, the changes will be seen in the assertion\r\n\r\nOh and you still need to do your `when(..).then(..)` to initialize the data in the mock service. That is also what you are missing\r\n\r\n    @Test\r\n    public void testFindPrices(){\r\n        Mockito.when(pricingServiceMock.findSomething()).thenReturn(list);","title":"UnsatisfiedDependencyException: There was no object available for injection at SystemInjecteeImpl","body":"<p>Forget the <code>InjectableProvider</code>. You don't need it. The problem is that the <em>mock</em> service is not the one being injected. It is the one created by the DI framework. So you are checking for changes on the mock service, which has never been touched.</p>\n\n<p>So what you need to do is bind the mock with the DI framework. You can simply create another <code>AbstractBinder</code> for testing. It can be a simple anonymous one, where you will bind the mock</p>\n\n<pre><code>ResourceConfig config = new ResourceConfig(PricingResource.class);\nconfig.register(new AbstractBinder() {\n    @Override\n    protected void configure() {\n        bind(pricingServiceMock).to(PricingService.class);\n    }\n});\n</code></pre>\n\n<p>Here you are simply binding the mocked service. So the framework will inject the mock into the resource. Now when you modify it in the request, the changes will be seen in the assertion</p>\n\n<p>Oh and you still need to do your <code>when(..).then(..)</code> to initialize the data in the mock service. That is also what you are missing</p>\n\n<pre><code>@Test\npublic void testFindPrices(){\n    Mockito.when(pricingServiceMock.findSomething()).thenReturn(list);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":806735,"reputation":251,"user_id":748159,"display_name":"vigor"},"score":0,"creation_date":1520347181,"post_id":45527055,"comment_id":85271376,"body_markdown":"First of all injected resources(beans) must be CDI-Aware. It must be detecteable by CDI. We can use bean-discovery-mode=&quot;all&quot; - then CDI scan ALL classes or bean-discovery-mode=&quot;annotated&quot; and MARK our class with PROPER annotation: from https://docs.jboss.org/cdi/spec/1.2/cdi-spec.html#default_bean_discovery. I prefer@Dependent or @RequestScoped","body":"First of all injected resources(beans) must be CDI-Aware. It must be detecteable by CDI. We can use bean-discovery-mode=&quot;all&quot; - then CDI scan ALL classes or bean-discovery-mode=&quot;annotated&quot; and MARK our class with PROPER annotation: from <a href=\"https://docs.jboss.org/cdi/spec/1.2/cdi-spec.html#default_bean_discovery\" rel=\"nofollow noreferrer\">docs.jboss.org/cdi/spec/1.2/&hellip;</a>. I prefer@Dependent or @RequestScoped"}],"tags":[],"owner":{"account_id":2713003,"reputation":179,"user_id":2340977,"display_name":"nrkkalyan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501973682,"creation_date":1501973682,"answer_id":45527055,"question_id":36889504,"body_markdown":"I fixed this problem by adding the following dependency to my application.\r\n\tcompile group: &#39;org.glassfish.jersey.containers.glassfish&#39;, name: &#39;jersey-gf-cdi&#39;, version: &#39;2.14&#39;\r\n\r\nThen there is no need to have any &quot;AbstractBinder&quot; related code.","title":"UnsatisfiedDependencyException: There was no object available for injection at SystemInjecteeImpl","body":"<p>I fixed this problem by adding the following dependency to my application.\n    compile group: 'org.glassfish.jersey.containers.glassfish', name: 'jersey-gf-cdi', version: '2.14'</p>\n\n<p>Then there is no need to have any \"AbstractBinder\" related code.</p>\n"},{"tags":[],"owner":{"account_id":6500168,"reputation":930,"user_id":5116356,"accept_rate":100,"display_name":"luca.vercelli"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560343940,"creation_date":1560343940,"answer_id":56562705,"question_id":36889504,"body_markdown":"The same error arise if beans.xml is missing or placed in the wrong place. This helped me: https://stackoverflow.com/questions/8991561/where-should-beans-xml-be-placed","title":"UnsatisfiedDependencyException: There was no object available for injection at SystemInjecteeImpl","body":"<p>The same error arise if beans.xml is missing or placed in the wrong place. This helped me: <a href=\"https://stackoverflow.com/questions/8991561/where-should-beans-xml-be-placed\">Where should beans.xml be placed?</a></p>\n"},{"tags":[],"owner":{"account_id":24401670,"reputation":1,"user_id":18330326,"display_name":"Anjanay Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678174350,"creation_date":1677701994,"answer_id":75608588,"question_id":36889504,"body_markdown":"Simply use the `@Service` annotation at the starting of the class you want to Inject.\r\n\r\n    import org.jvnet.hk2.annotations.Service\r\n    \r\n    @Service\r\n    \r\n    public class PricingService{....}\r\n\r\n   ","title":"UnsatisfiedDependencyException: There was no object available for injection at SystemInjecteeImpl","body":"<p>Simply use the <code>@Service</code> annotation at the starting of the class you want to Inject.</p>\n<pre><code>import org.jvnet.hk2.annotations.Service\n\n@Service\n\npublic class PricingService{....}\n</code></pre>\n"}],"owner":{"account_id":222186,"reputation":13529,"user_id":480632,"accept_rate":74,"display_name":"J.Olufsen"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41828,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":36890442,"answer_count":4,"score":19,"last_activity_date":1678174350,"creation_date":1461759227,"question_id":36889504,"body_markdown":"There are errors when using DI in Jersey Rest application:\r\n\r\n    org.glassfish.hk2.api.UnsatisfiedDependencyException: There was no object available for injection at SystemInjecteeImpl(requiredType=PricingService,parent=PricingResource,qualifiers={},position=0,optional=false,self=false,unqualified=null,1633188703)\r\n\r\nI am quite new to the concept and it appears quite complicated since there are some examples seems to be deprecated. As I understand there are a few ways to make DI work: native HK2, Spring/HK2 Bridge. What is easier and more straightforward to configure? How to set up programmatically (not a fan of XML) for Jersey 2.x?\r\n\r\n**ResourceConfig** \r\n\r\n    import org.glassfish.jersey.server.ResourceConfig;\r\n    \r\n    public class ApplicationConfig  extends ResourceConfig {\r\n        public ApplicationConfig() {\r\n            register(new ApplicationBinder());\r\n            packages(true, &quot;api&quot;);\r\n        }\r\n    }\r\n**AbstractBinder**\r\n\r\n    public class ApplicationBinder extends AbstractBinder {\r\n        @Override\r\n        protected void configure() {\r\n            bind(PricingService.class).to(PricingService.class).in(Singleton.class);\r\n        }\r\n    }\r\n\r\n**PricingResource** \r\n\r\n    @Path(&quot;/prices&quot;)\r\n    public class PricingResource {\r\n        private final PricingService pricingService;\r\n    \r\n        @Inject\r\n        public PricingResource(PricingService pricingService) {\r\n            this.pricingService = pricingService;\r\n        }\r\n    \r\n        @GET\r\n        @Produces(MediaType.APPLICATION_JSON)\r\n        public Collection&lt;Price&gt; findPrices() {\r\n            return pricingService.findPrices();\r\n        }\r\n    }\r\n**PricingService** \r\n\r\n    @Singleton\r\n    public class PricingService {\r\n       // no constructors...\r\n    // findPrices() ...\r\n     \r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\n**UPDATE**\r\n\r\n    public class Main {\r\n        public static final String BASE_URI = &quot;http://localhost:8080/api/&quot;;\r\n    \r\n        public static HttpServer startServer() {\r\n            return createHttpServerWith(new ResourceConfig().packages(&quot;api&quot;).register(JacksonFeature.class));\r\n        }\r\n    \r\n        private static HttpServer createHttpServerWith(ResourceConfig rc) {\r\n            HttpServer httpServer = GrizzlyHttpServerFactory.createHttpServer(URI.create(BASE_URI), rc);\r\n            StaticHttpHandler staticHttpHandler = new StaticHttpHandler(&quot;src/main/webapp&quot;);\r\n            staticHttpHandler.setFileCacheEnabled(false);\r\n            staticHttpHandler.start();\r\n            httpServer.getServerConfiguration().addHttpHandler(staticHttpHandler);\r\n            return httpServer;\r\n        }\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            System.setProperty(&quot;java.util.logging.config.file&quot;, &quot;src/main/resources/logging.properties&quot;);\r\n            final HttpServer server = startServer();\r\n            \r\n            System.out.println(String.format(&quot;Jersey app started with WADL available at &quot;\r\n                    + &quot;%sapplication.wadl\\nHit enter to stop it...&quot;, BASE_URI));\r\n            server.start();\r\n            System.in.read();\r\n            server.stop();\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**UPDATE3:**\r\n\r\n    public class PricingResourceTest extends JerseyTest {\r\n        @Mock\r\n        private PricingService pricingServiceMock;\r\n    \r\n        @Override\r\n        protected Application configure() {\r\n            MockitoAnnotations.initMocks(this);\r\n            enable(TestProperties.LOG_TRAFFIC);\r\n            enable(TestProperties.DUMP_ENTITY);\r\n    \r\n            ResourceConfig config = new ResourceConfig(PricingResource.class);\r\n            config.register(new AbstractBinder() {\r\n                @Override\r\n                protected void configure() {\r\n                    bind(pricingServiceMock).to(PricingService.class);\r\n                }\r\n            });\r\n            return config;\r\n        }\r\n    \r\n        @Test\r\n        public void testFindPrices(){\r\n            when(pricingServiceMock.findPrices()).thenReturn(getMockedPrices());\r\n            Response response  = target(&quot;/prices&quot;)\r\n                    .request()\r\n                    .get();\r\n            verify(pricingServiceMock).findPrices();\r\n            List&lt;Price&gt; prices = response.readEntity(new GenericType&lt;List&lt;Price&gt;&gt;(){});\r\n    //        assertEquals(&quot;Should return status 200&quot;, 200, response.getStatus());\r\n            assertTrue(prices.get(0).getId() == getMockedPrices().get(0).getId());\r\n        }\r\n    \r\n        private List&lt;Price&gt; getMockedPrices(){\r\n            List&lt;Price&gt; mockedPrices = Arrays.asList(new Price(1L, 12.0, 50.12, 12L));\r\n            return mockedPrices;\r\n        }\r\n    }\r\n\r\n**JUnit output:**\r\n\r\n    INFO: 1 * Client response received on thread main\r\n    1 &lt; 200\r\n    1 &lt; Content-Length: 4\r\n    1 &lt; Content-Type: application/json\r\n    [{}]\r\n    \r\n    \r\n    java.lang.AssertionError\r\n\t\r\n**While debugging:**\r\n \r\n`prices.get(0)` is `Price` object that has `null` assigned to all fields.\r\n\r\n----------\r\n**UPDATE4:**\r\n\r\nAdded to `configure()`:\r\n\r\n     config.register(JacksonFeature.class);\r\n     config.register(JacksonJsonProvider.class);\r\n\r\nNow Junit output a bit better:\r\n\r\n    INFO: 1 * Client response received on thread main\r\n    1 &lt; 200\r\n    1 &lt; Content-Length: 149\r\n    1 &lt; Content-Type: application/json\r\n    [{&quot;id&quot;:2,&quot;recurringPrice&quot;:122.0,&quot;oneTimePrice&quot;:6550.12,&quot;recurringCount&quot;:2},{&quot;id&quot;:2,&quot;recurringPrice&quot;:122.0,&quot;oneTimePrice&quot;:6550.12,&quot;recurringCount&quot;:2}]\r\n\r\nIndeed list `prices` has correct number of `prices` but all prices&#39; fields is **null**. That leads to assumption that problem might be reading entity:\r\n\r\n    List&lt;Price&gt; prices = response.readEntity(new GenericType&lt;List&lt;Price&gt;&gt;(){});\r\n\r\n## Here is how to fix it##\r\n\r\nChange Moxy dependency to:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand add annotations on &#39;Price&#39; object.\r\n\r\n    @XmlRootElement\r\n    @JsonIgnoreProperties(ignoreUnknown = true)","title":"UnsatisfiedDependencyException: There was no object available for injection at SystemInjecteeImpl","body":"<p>There are errors when using DI in Jersey Rest application:</p>\n\n<pre><code>org.glassfish.hk2.api.UnsatisfiedDependencyException: There was no object available for injection at SystemInjecteeImpl(requiredType=PricingService,parent=PricingResource,qualifiers={},position=0,optional=false,self=false,unqualified=null,1633188703)\n</code></pre>\n\n<p>I am quite new to the concept and it appears quite complicated since there are some examples seems to be deprecated. As I understand there are a few ways to make DI work: native HK2, Spring/HK2 Bridge. What is easier and more straightforward to configure? How to set up programmatically (not a fan of XML) for Jersey 2.x?</p>\n\n<p><strong>ResourceConfig</strong> </p>\n\n<pre><code>import org.glassfish.jersey.server.ResourceConfig;\n\npublic class ApplicationConfig  extends ResourceConfig {\n    public ApplicationConfig() {\n        register(new ApplicationBinder());\n        packages(true, \"api\");\n    }\n}\n</code></pre>\n\n<p><strong>AbstractBinder</strong></p>\n\n<pre><code>public class ApplicationBinder extends AbstractBinder {\n    @Override\n    protected void configure() {\n        bind(PricingService.class).to(PricingService.class).in(Singleton.class);\n    }\n}\n</code></pre>\n\n<p><strong>PricingResource</strong> </p>\n\n<pre><code>@Path(\"/prices\")\npublic class PricingResource {\n    private final PricingService pricingService;\n\n    @Inject\n    public PricingResource(PricingService pricingService) {\n        this.pricingService = pricingService;\n    }\n\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    public Collection&lt;Price&gt; findPrices() {\n        return pricingService.findPrices();\n    }\n}\n</code></pre>\n\n<p><strong>PricingService</strong> </p>\n\n<pre><code>@Singleton\npublic class PricingService {\n   // no constructors...\n// findPrices() ...\n\n}\n</code></pre>\n\n<hr>\n\n<p><strong>UPDATE</strong></p>\n\n<pre><code>public class Main {\n    public static final String BASE_URI = \"http://localhost:8080/api/\";\n\n    public static HttpServer startServer() {\n        return createHttpServerWith(new ResourceConfig().packages(\"api\").register(JacksonFeature.class));\n    }\n\n    private static HttpServer createHttpServerWith(ResourceConfig rc) {\n        HttpServer httpServer = GrizzlyHttpServerFactory.createHttpServer(URI.create(BASE_URI), rc);\n        StaticHttpHandler staticHttpHandler = new StaticHttpHandler(\"src/main/webapp\");\n        staticHttpHandler.setFileCacheEnabled(false);\n        staticHttpHandler.start();\n        httpServer.getServerConfiguration().addHttpHandler(staticHttpHandler);\n        return httpServer;\n    }\n\n    public static void main(String[] args) throws IOException {\n        System.setProperty(\"java.util.logging.config.file\", \"src/main/resources/logging.properties\");\n        final HttpServer server = startServer();\n\n        System.out.println(String.format(\"Jersey app started with WADL available at \"\n                + \"%sapplication.wadl\\nHit enter to stop it...\", BASE_URI));\n        server.start();\n        System.in.read();\n        server.stop();\n    }\n\n}\n</code></pre>\n\n<p><strong>UPDATE3:</strong></p>\n\n<pre><code>public class PricingResourceTest extends JerseyTest {\n    @Mock\n    private PricingService pricingServiceMock;\n\n    @Override\n    protected Application configure() {\n        MockitoAnnotations.initMocks(this);\n        enable(TestProperties.LOG_TRAFFIC);\n        enable(TestProperties.DUMP_ENTITY);\n\n        ResourceConfig config = new ResourceConfig(PricingResource.class);\n        config.register(new AbstractBinder() {\n            @Override\n            protected void configure() {\n                bind(pricingServiceMock).to(PricingService.class);\n            }\n        });\n        return config;\n    }\n\n    @Test\n    public void testFindPrices(){\n        when(pricingServiceMock.findPrices()).thenReturn(getMockedPrices());\n        Response response  = target(\"/prices\")\n                .request()\n                .get();\n        verify(pricingServiceMock).findPrices();\n        List&lt;Price&gt; prices = response.readEntity(new GenericType&lt;List&lt;Price&gt;&gt;(){});\n//        assertEquals(\"Should return status 200\", 200, response.getStatus());\n        assertTrue(prices.get(0).getId() == getMockedPrices().get(0).getId());\n    }\n\n    private List&lt;Price&gt; getMockedPrices(){\n        List&lt;Price&gt; mockedPrices = Arrays.asList(new Price(1L, 12.0, 50.12, 12L));\n        return mockedPrices;\n    }\n}\n</code></pre>\n\n<p><strong>JUnit output:</strong></p>\n\n<pre><code>INFO: 1 * Client response received on thread main\n1 &lt; 200\n1 &lt; Content-Length: 4\n1 &lt; Content-Type: application/json\n[{}]\n\n\njava.lang.AssertionError\n</code></pre>\n\n<p><strong>While debugging:</strong></p>\n\n<p><code>prices.get(0)</code> is <code>Price</code> object that has <code>null</code> assigned to all fields.</p>\n\n<hr>\n\n<p><strong>UPDATE4:</strong></p>\n\n<p>Added to <code>configure()</code>:</p>\n\n<pre><code> config.register(JacksonFeature.class);\n config.register(JacksonJsonProvider.class);\n</code></pre>\n\n<p>Now Junit output a bit better:</p>\n\n<pre><code>INFO: 1 * Client response received on thread main\n1 &lt; 200\n1 &lt; Content-Length: 149\n1 &lt; Content-Type: application/json\n[{\"id\":2,\"recurringPrice\":122.0,\"oneTimePrice\":6550.12,\"recurringCount\":2},{\"id\":2,\"recurringPrice\":122.0,\"oneTimePrice\":6550.12,\"recurringCount\":2}]\n</code></pre>\n\n<p>Indeed list <code>prices</code> has correct number of <code>prices</code> but all prices' fields is <strong>null</strong>. That leads to assumption that problem might be reading entity:</p>\n\n<pre><code>List&lt;Price&gt; prices = response.readEntity(new GenericType&lt;List&lt;Price&gt;&gt;(){});\n</code></pre>\n\n<h2>Here is how to fix it</h2>\n\n<p>Change Moxy dependency to:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>and add annotations on 'Price' object.</p>\n\n<pre><code>@XmlRootElement\n@JsonIgnoreProperties(ignoreUnknown = true)\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","null","query-by-example"],"answers":[{"tags":[],"owner":{"account_id":27828232,"reputation":1,"user_id":21247181,"display_name":"osky9913"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678174113,"creation_date":1677752394,"answer_id":75614081,"question_id":75504362,"body_markdown":"So after long time of googling I have finally find my answer.\r\nThe solutions is to use Specification and Example.of.\r\n\r\nFirst you have to defined a repository to use JPA Specifications:\r\n\r\n```\r\n\r\npublic interface MyExperiment extends JpaRepository&lt;Yourentity, UUID&gt; , JpaSpecificationExecutor&lt;AdrSbj&gt; {\r\n    @Override\r\n    List&lt;AdrSbj&gt; findAll(Specification&lt;AdrSbj&gt; spec);\r\n}\r\n```\r\n\r\nThen implement a custom class which extracts predicates from your Example and returns them as Specifications.\r\n\r\n\r\n```\r\npublic class SpecificationsFromExample&lt;T&gt; {\r\n\r\n    public Specification&lt;T&gt; get(Example&lt;T&gt; example) {\r\n\r\n        return (Specification&lt;T&gt;) (root, query, builder) -&gt; {\r\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n            try {\r\n                Predicate examplePredicates = QueryByExamplePredicateBuilder.getPredicate(root, builder, example);\r\n                predicates.add(examplePredicates);\r\n                return builder.and(predicates.toArray(new Predicate[predicates.size()]));\r\n            }\r\n            catch (NullPointerException e){\r\n                return  null;\r\n            }\r\n    };\r\n}\r\n}\r\n```\r\n\r\nThen create specifications only for dateOfDeletion.\r\n\r\n```\r\nSpecification&lt;T&gt; specDateOfDeletion = (root, query, cb) -&gt; cb.and(cb.isNull(root.get(&quot;dateOfDeletion&quot;)));\r\n```\r\n\r\nAnd finally use it in service. ( combine spec from example and date ) \r\n\r\n```\r\nSpecification&lt;T&gt;specFromExample  = new SpecificationsFromExample&lt;T&gt;().get(example);\r\nif( specFromExample != null ) {\r\n\r\n   return findAll(specDateOfDeletion.and(specFromExample);\r\n\r\n}\r\n\r\n```\r\n","title":"How to setup ExampleMatcher to find all entities where one field is ONLY null and field2 contains some substring","body":"<p>So after long time of googling I have finally find my answer.\nThe solutions is to use Specification and Example.of.</p>\n<p>First you have to defined a repository to use JPA Specifications:</p>\n<pre><code>\npublic interface MyExperiment extends JpaRepository&lt;Yourentity, UUID&gt; , JpaSpecificationExecutor&lt;AdrSbj&gt; {\n    @Override\n    List&lt;AdrSbj&gt; findAll(Specification&lt;AdrSbj&gt; spec);\n}\n</code></pre>\n<p>Then implement a custom class which extracts predicates from your Example and returns them as Specifications.</p>\n<pre><code>public class SpecificationsFromExample&lt;T&gt; {\n\n    public Specification&lt;T&gt; get(Example&lt;T&gt; example) {\n\n        return (Specification&lt;T&gt;) (root, query, builder) -&gt; {\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n            try {\n                Predicate examplePredicates = QueryByExamplePredicateBuilder.getPredicate(root, builder, example);\n                predicates.add(examplePredicates);\n                return builder.and(predicates.toArray(new Predicate[predicates.size()]));\n            }\n            catch (NullPointerException e){\n                return  null;\n            }\n    };\n}\n}\n</code></pre>\n<p>Then create specifications only for dateOfDeletion.</p>\n<pre><code>Specification&lt;T&gt; specDateOfDeletion = (root, query, cb) -&gt; cb.and(cb.isNull(root.get(&quot;dateOfDeletion&quot;)));\n</code></pre>\n<p>And finally use it in service. ( combine spec from example and date )</p>\n<pre><code>Specification&lt;T&gt;specFromExample  = new SpecificationsFromExample&lt;T&gt;().get(example);\nif( specFromExample != null ) {\n\n   return findAll(specDateOfDeletion.and(specFromExample);\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":27828232,"reputation":1,"user_id":21247181,"display_name":"osky9913"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":627,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75614081,"answer_count":1,"score":0,"last_activity_date":1678174113,"creation_date":1676853871,"question_id":75504362,"body_markdown":"I&#39;ve got problem from real-life scenario. I am not expert on spring boot so sorry again if that&#39;s easy question. I am using Java 17, spring boot, jpa repository and postgresql driver.\r\n\r\nThe task is:\r\nFrom query paramters from url-path find all entities from db by query parameters. These entities have to have a dateOfDeletion == null.\r\n\r\nMy approach is this:\r\n\r\n```\r\n@Data\r\n@Entity\r\n@Table(name=&quot;x&quot;, schema = &quot;\\&quot;xx\\&quot;&quot;)\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class MyEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.UUID)\r\n    @Column(nullable = false)\r\n    private UUID id;\r\n\r\n\r\n    private String field1;\r\n    private String field2;\r\n    private String field3;\r\n\r\n    private Timestamp dateOfDeletion;\r\n}\r\n\r\n```\r\n\r\nThe Path is \r\nlocalhost:8080/myEndpoint?field1=a&amp;field3=b\r\n.\r\n\r\nI will setup a MyEntity like this for example ( this doesn&#39;t really matter ).\r\n\r\n```\r\nMyEntity queryExample = new MyEntity();\r\nqueryExample.setField1(&quot;a&quot;);\r\nqueryExample.setField3(&quot;b&quot;);\r\n```\r\n\r\nI need to find all substrings in field1 field2 and field3, so I created a customMatcher.\r\n\r\n\r\n```\r\nExampleMatcher customMatcher = ExampleMatcher.matchingAll().\r\n                              withMatcher(&quot;field1&quot;,ExampleMatcher.GenericPropertyMatchers.contains().ignoreCase())\r\nwithMatcher(&quot;field2&quot;,ExampleMatcher.GenericPropertyMatchers.contains().ignoreCase())\r\nwithMatcher(&quot;field3&quot;,ExampleMatcher.GenericPropertyMatchers.contains().ignoreCase())\r\n\r\nExample&lt;MyEntity&gt; example = Example.of(queryExample,customMatcher);\r\nreturn repository.findAll(example,myPageable);\r\n```\r\n\r\nThe result of this findAll will be all entities which containts in field1 string &quot;a&quot; and in field3 string &quot;b&quot;. \r\n\r\nBut it will also show all entites which are not valid ( valid entity has dateOfDeletion == null ) \r\n\r\nThe question is : what is the best approach? Thank you for all answers. \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nWe can&#39;t use stream after completing the transaction because if we use findAll(example,pageable) \r\nit would be not valid( inconsistentcy in paging ) \r\nSo this solution in not valid.\r\n\r\n```\r\nrepository.findAll(example).stream().filter(ent -&gt; ent.getDateOfDeletion() == null).collect(Collectors.toList());\r\n\r\n```\r\n\r\n\r\n\r\n\r\n","title":"How to setup ExampleMatcher to find all entities where one field is ONLY null and field2 contains some substring","body":"<p>I've got problem from real-life scenario. I am not expert on spring boot so sorry again if that's easy question. I am using Java 17, spring boot, jpa repository and postgresql driver.</p>\n<p>The task is:\nFrom query paramters from url-path find all entities from db by query parameters. These entities have to have a dateOfDeletion == null.</p>\n<p>My approach is this:</p>\n<pre><code>@Data\n@Entity\n@Table(name=&quot;x&quot;, schema = &quot;\\&quot;xx\\&quot;&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class MyEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    @Column(nullable = false)\n    private UUID id;\n\n\n    private String field1;\n    private String field2;\n    private String field3;\n\n    private Timestamp dateOfDeletion;\n}\n\n</code></pre>\n<p>The Path is\nlocalhost:8080/myEndpoint?field1=a&amp;field3=b\n.</p>\n<p>I will setup a MyEntity like this for example ( this doesn't really matter ).</p>\n<pre><code>MyEntity queryExample = new MyEntity();\nqueryExample.setField1(&quot;a&quot;);\nqueryExample.setField3(&quot;b&quot;);\n</code></pre>\n<p>I need to find all substrings in field1 field2 and field3, so I created a customMatcher.</p>\n<pre><code>ExampleMatcher customMatcher = ExampleMatcher.matchingAll().\n                              withMatcher(&quot;field1&quot;,ExampleMatcher.GenericPropertyMatchers.contains().ignoreCase())\nwithMatcher(&quot;field2&quot;,ExampleMatcher.GenericPropertyMatchers.contains().ignoreCase())\nwithMatcher(&quot;field3&quot;,ExampleMatcher.GenericPropertyMatchers.contains().ignoreCase())\n\nExample&lt;MyEntity&gt; example = Example.of(queryExample,customMatcher);\nreturn repository.findAll(example,myPageable);\n</code></pre>\n<p>The result of this findAll will be all entities which containts in field1 string &quot;a&quot; and in field3 string &quot;b&quot;.</p>\n<p>But it will also show all entites which are not valid ( valid entity has dateOfDeletion == null )</p>\n<p>The question is : what is the best approach? Thank you for all answers.</p>\n<p>We can't use stream after completing the transaction because if we use findAll(example,pageable)\nit would be not valid( inconsistentcy in paging )\nSo this solution in not valid.</p>\n<pre><code>repository.findAll(example).stream().filter(ent -&gt; ent.getDateOfDeletion() == null).collect(Collectors.toList());\n\n</code></pre>\n"},{"tags":["java","enums","fsm","state-machine"],"comments":[{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1420486607,"post_id":25581176,"comment_id":43983045,"body_markdown":"Elegant in what way? What aspect of the previous solutions would you like improved?","body":"Elegant in what way? What aspect of the previous solutions would you like improved?"},{"owner":{"account_id":367096,"reputation":10913,"user_id":713047,"accept_rate":70,"display_name":"Trevor"},"score":0,"creation_date":1420487620,"post_id":25581176,"comment_id":43983550,"body_markdown":"Hi meriton! Good point; I ought to amend the question to clarify. What I envisaged was a situation where the actual `enum`s themselves could implement the listener interfaces in such a way that avoids need to listen and dispatch events onwards from the outer context to the current state `enum`. In other words, is there a way to avoid effectively defining and listening on events twice over. I realise this is an unrealistic or impossible ask. Although some clever ideas have been put forward (such as dudeprgm&#39;s), I&#39;m leaning towards staying with the current code which is based on your answer.","body":"Hi meriton! Good point; I ought to amend the question to clarify. What I envisaged was a situation where the actual <code>enum</code>s themselves could implement the listener interfaces in such a way that avoids need to listen and dispatch events onwards from the outer context to the current state <code>enum</code>. In other words, is there a way to avoid effectively defining and listening on events twice over. I realise this is an unrealistic or impossible ask. Although some clever ideas have been put forward (such as dudeprgm&#39;s), I&#39;m leaning towards staying with the current code which is based on your answer."}],"answers":[{"comments":[{"owner":{"account_id":367096,"reputation":10913,"user_id":713047,"accept_rate":70,"display_name":"Trevor"},"score":0,"creation_date":1409396179,"post_id":25581343,"comment_id":39955110,"body_markdown":"Thanks Manu. I will look into these patterns and suggestions now.","body":"Thanks Manu. I will look into these patterns and suggestions now."}],"tags":[],"owner":{"account_id":1611333,"reputation":4067,"user_id":1490144,"accept_rate":68,"display_name":"Manu"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1409394643,"creation_date":1409394185,"answer_id":25581343,"question_id":25581176,"body_markdown":"You may want to try using the [Command pattern][1]: the Command interface corresponds to something like your &quot;SOMETHING_HAPPENED&quot;. Each enum value, then, is instantiated with a particular command, which may be instantiated via Reflection and can run the execute method (defined in the Command interface).\r\n\r\nIf useful, consider also the [State pattern][2].\r\n\r\nIf commands are complex, consider also the [Composite pattern][3].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Command_pattern\r\n  [2]: http://en.wikipedia.org/wiki/State_pattern\r\n  [3]: http://en.wikipedia.org/wiki/Composite_pattern","title":"Java enum-based state machine (FSM): Passing in events","body":"<p>You may want to try using the <a href=\"http://en.wikipedia.org/wiki/Command_pattern\" rel=\"nofollow\">Command pattern</a>: the Command interface corresponds to something like your \"SOMETHING_HAPPENED\". Each enum value, then, is instantiated with a particular command, which may be instantiated via Reflection and can run the execute method (defined in the Command interface).</p>\n\n<p>If useful, consider also the <a href=\"http://en.wikipedia.org/wiki/State_pattern\" rel=\"nofollow\">State pattern</a>.</p>\n\n<p>If commands are complex, consider also the <a href=\"http://en.wikipedia.org/wiki/Composite_pattern\" rel=\"nofollow\">Composite pattern</a>.</p>\n"},{"comments":[{"owner":{"account_id":367096,"reputation":10913,"user_id":713047,"accept_rate":70,"display_name":"Trevor"},"score":0,"creation_date":1409396144,"post_id":25581346,"comment_id":39955101,"body_markdown":"Thank you - much appreciated. You&#39;ve got me thinking now - I&#39;m wondering if, instead of manually writing `class StateMachine` to implement the same `interface`s and delegate events forward to `currentState`, could it be possible to automate this using reflection (or something). Example: each `enum` state could have a method `registerForEventTypes` which returns listener `class`es it&#39;s interested in. Then the outer class would register as a listener for those classes at runtime and delegate them on, and register/unregister the state as it enters/exits. (Ignore me, just thinking out loud here.)","body":"Thank you - much appreciated. You&#39;ve got me thinking now - I&#39;m wondering if, instead of manually writing <code>class StateMachine</code> to implement the same <code>interface</code>s and delegate events forward to <code>currentState</code>, could it be possible to automate this using reflection (or something). Example: each <code>enum</code> state could have a method <code>registerForEventTypes</code> which returns listener <code>class</code>es it&#39;s interested in. Then the outer class would register as a listener for those classes at runtime and delegate them on, and register/unregister the state as it enters/exits. (Ignore me, just thinking out loud here.)"},{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1409399758,"post_id":25581346,"comment_id":39955938,"body_markdown":"It would probably be easier to always deliver events, and provide a default implementation of the listener methods that does nothing. And yes, you could use byte code generation to automate writing the delegation methods, for instance with a `java.lang.reflect.Proxy`, or a full fledged byte code engineering library such as Javassist. For less than a dozen event types however, it is probably easier and clearer to write the code by hand.","body":"It would probably be easier to always deliver events, and provide a default implementation of the listener methods that does nothing. And yes, you could use byte code generation to automate writing the delegation methods, for instance with a <code>java.lang.reflect.Proxy</code>, or a full fledged byte code engineering library such as Javassist. For less than a dozen event types however, it is probably easier and clearer to write the code by hand."},{"owner":{"display_name":"user837703"},"score":0,"creation_date":1420512776,"post_id":25581346,"comment_id":43992495,"body_markdown":"Isn&#39;t using a proxy and invoking methods using reflection going to be slow, especially on a mobile Android device?","body":"Isn&#39;t using a proxy and invoking methods using reflection going to be slow, especially on a mobile Android device?"},{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1420572676,"post_id":25581346,"comment_id":44020516,"body_markdown":"That depends on how often such state transitions occur. I&#39;d expect you could forward millions of state transitions per second using this approach.","body":"That depends on how often such state transitions occur. I&#39;d expect you could forward millions of state transitions per second using this approach."},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1459272931,"post_id":25581346,"comment_id":60207746,"body_markdown":"Minor points: In your `StateMachine`, you&#39;ll want to 1) implement `StateEventListener` and 2) make the methods public in both the `State` and `StateMachine`","body":"Minor points: In your <code>StateMachine</code>, you&#39;ll want to 1) implement <code>StateEventListener</code> and 2) make the methods public in both the <code>State</code> and <code>StateMachine</code>"}],"tags":[],"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"comment_count":5,"down_vote_count":1,"up_vote_count":19,"is_accepted":true,"score":18,"last_activity_date":1536663544,"creation_date":1409394213,"answer_id":25581346,"question_id":25581176,"body_markdown":"So you want to dispatch events to their handlers for the current state.\r\n\r\nTo dispatch to the current state, subscribing each state as it becomes active, and unsubscribing it as it becomes inactive is rather cumbersome. It is easier to subscribe an object that knows the active state, and simply delegates all events to the active state.\r\n\r\nTo distinguish events, you can use separate event objects, and then distinguish them with the [visitor pattern](http://en.wikipedia.org/wiki/Visitor_pattern), but that&#39;s quite a bit of boilerplate code. I&#39;d only do this if I have other code that treats all events the same (for instance, if events must be buffered before delivery). Otherwise, I&#39;d simply do something like\r\n\r\n    interface StateEventListener {\r\n        void onEventX();\r\n        void onEventY(int x, int y);\r\n        void onEventZ(String s);\r\n    }\r\n\r\n    enum State implements StateEventListener {\r\n        initialState {\r\n            @Override public void onEventX() {\r\n                // do whatever\r\n            }\r\n            // same for other events\r\n        },\r\n        // same for other states\r\n    }\r\n\r\n    class StateMachine implements StateEventListener {\r\n        State currentState;\r\n\r\n        @Override public void onEventX() {\r\n            currentState.onEventX();\r\n        }\r\n\r\n        @Override public void onEventY(int x, int y) {\r\n            currentState.onEventY(x, y);\r\n        }\r\n\r\n        @Override public void onEventZ(String s) {\r\n            currentState.onEventZ(s);\r\n        }\r\n    }\r\n\r\n**Edit**\r\n\r\nIf you have many event types, it might be better to generate the boring delegation code at runtime using a bytecode engineering library, or even a plain JDK proxy:\r\n\r\n    class StateMachine2 {\r\n    \tState currentState;\r\n    \t\r\n    \tfinal StateEventListener stateEventPublisher = buildStateEventForwarder(); \r\n    \t\r\n    \tStateEventListener buildStateEventForwarder() {\r\n    \t\tClass&lt;?&gt;[] interfaces = {StateEventListener.class};\r\n    \t\treturn (StateEventListener) Proxy.newProxyInstance(getClass().getClassLoader(), interfaces, new InvocationHandler() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\treturn method.invoke(currentState, args);\r\n    \t\t\t\t} catch (InvocationTargetException e) {\r\n    \t\t\t\t\tthrow e.getCause();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\nThis makes the code less readable, but does eliminate the need to write delegation code for each event type.","title":"Java enum-based state machine (FSM): Passing in events","body":"<p>So you want to dispatch events to their handlers for the current state.</p>\n\n<p>To dispatch to the current state, subscribing each state as it becomes active, and unsubscribing it as it becomes inactive is rather cumbersome. It is easier to subscribe an object that knows the active state, and simply delegates all events to the active state.</p>\n\n<p>To distinguish events, you can use separate event objects, and then distinguish them with the <a href=\"http://en.wikipedia.org/wiki/Visitor_pattern\" rel=\"nofollow noreferrer\">visitor pattern</a>, but that's quite a bit of boilerplate code. I'd only do this if I have other code that treats all events the same (for instance, if events must be buffered before delivery). Otherwise, I'd simply do something like</p>\n\n<pre><code>interface StateEventListener {\n    void onEventX();\n    void onEventY(int x, int y);\n    void onEventZ(String s);\n}\n\nenum State implements StateEventListener {\n    initialState {\n        @Override public void onEventX() {\n            // do whatever\n        }\n        // same for other events\n    },\n    // same for other states\n}\n\nclass StateMachine implements StateEventListener {\n    State currentState;\n\n    @Override public void onEventX() {\n        currentState.onEventX();\n    }\n\n    @Override public void onEventY(int x, int y) {\n        currentState.onEventY(x, y);\n    }\n\n    @Override public void onEventZ(String s) {\n        currentState.onEventZ(s);\n    }\n}\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>If you have many event types, it might be better to generate the boring delegation code at runtime using a bytecode engineering library, or even a plain JDK proxy:</p>\n\n<pre><code>class StateMachine2 {\n    State currentState;\n\n    final StateEventListener stateEventPublisher = buildStateEventForwarder(); \n\n    StateEventListener buildStateEventForwarder() {\n        Class&lt;?&gt;[] interfaces = {StateEventListener.class};\n        return (StateEventListener) Proxy.newProxyInstance(getClass().getClassLoader(), interfaces, new InvocationHandler() {\n            @Override\n            public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n                try {\n                    return method.invoke(currentState, args);\n                } catch (InvocationTargetException e) {\n                    throw e.getCause();\n                }\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>This makes the code less readable, but does eliminate the need to write delegation code for each event type.</p>\n"},{"comments":[{"owner":{"display_name":"user837703"},"score":0,"creation_date":1420469522,"post_id":27781852,"comment_id":43973782,"body_markdown":"This comes to the same thing as @meriton&#39;s answer. All states _must_ implement _all_ events, even if the don&#39;t use them. This is what the OP was trying to avoid.","body":"This comes to the same thing as @meriton&#39;s answer. All states <i>must</i> implement <i>all</i> events, even if the don&#39;t use them. This is what the OP was trying to avoid."},{"owner":{"account_id":5335286,"reputation":39836,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":2,"creation_date":1420469587,"post_id":27781852,"comment_id":43973816,"body_markdown":"Not really. You can provide a default implementation for that. I&#39;ll edit my answer to reflect this.","body":"Not really. You can provide a default implementation for that. I&#39;ll edit my answer to reflect this."}],"tags":[],"owner":{"account_id":5335286,"reputation":39836,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"comment_count":2,"down_vote_count":2,"up_vote_count":29,"is_accepted":false,"score":27,"last_activity_date":1420469638,"creation_date":1420469116,"answer_id":27781852,"question_id":25581176,"body_markdown":"Why not have events call the right callback on state directly?\r\n\r\n    public enum State {\r\n       abstract State processFoo();\r\n       abstract State processBar();\r\n       State processBat() { return this; } // A default implementation, so that states that do not use this event do not have to implement it anyway.\r\n       ...\r\n       State1 {\r\n         State processFoo() { return State2; }\r\n         ...\r\n       },\r\n       State2 {\r\n          State processFoo() { return State1; }\r\n          ...\r\n       } \r\n    }\r\n\r\n    public enum  Event {\r\n       abstract State dispatch(State state);\r\n       Foo {\r\n          State dispatch(State s) { return s.processFoo(); }\r\n       },\r\n       Bar {\r\n          State dispatch(State s) { return s.processBar(); }\r\n       }\r\n       ...\r\n    }\r\n        \r\nThis addresses both of your reservations with the original approach: no &quot;ugly&quot; switch, and no &quot;awkward&quot; additional parameters. ","title":"Java enum-based state machine (FSM): Passing in events","body":"<p>Why not have events call the right callback on state directly?</p>\n\n<pre><code>public enum State {\n   abstract State processFoo();\n   abstract State processBar();\n   State processBat() { return this; } // A default implementation, so that states that do not use this event do not have to implement it anyway.\n   ...\n   State1 {\n     State processFoo() { return State2; }\n     ...\n   },\n   State2 {\n      State processFoo() { return State1; }\n      ...\n   } \n}\n\npublic enum  Event {\n   abstract State dispatch(State state);\n   Foo {\n      State dispatch(State s) { return s.processFoo(); }\n   },\n   Bar {\n      State dispatch(State s) { return s.processBar(); }\n   }\n   ...\n}\n</code></pre>\n\n<p>This addresses both of your reservations with the original approach: no \"ugly\" switch, and no \"awkward\" additional parameters. </p>\n"},{"tags":[],"owner":{"account_id":240659,"reputation":16549,"user_id":2003986,"accept_rate":75,"display_name":"ToYonos"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1420478798,"creation_date":1420470648,"answer_id":27782319,"question_id":25581176,"body_markdown":"You are on good tracks, you should use a [Strategy pattern][1] combined with your state machine. Implement event handling in your state enum, providing a default common implementation and possibly add specific implementations.\r\n\r\nDefine your events and the associated strategy interface  :\r\n\r\n\tenum Event\r\n    {\r\n    \tEVENT_X,\r\n  \t\tEVENT_Y,\r\n\t\tEVENT_Z;\r\n        // Other events...\r\n  \t}\r\n\r\n\tinterface EventStrategy\r\n    {\r\n\t    public void onEventX();\r\n\t    public void onEventY();\r\n\t    public void onEventZ();\r\n        // Other events...\r\n \t}\r\n\r\nThen, in your `State` enum :\r\n\r\n\tenum State implements EventStrategy\r\n\t{\r\n\t\tSTATE_A\r\n\t\t{\r\n\t\t\t@Override\r\n\t\t    public void onEventX()\r\n\t\t    {\r\n\t\t\t\tSystem.out.println(&quot;[STATE_A] Specific implementation for event X&quot;);\r\n\t\t    }\r\n\t\t},\r\n\t\t\r\n\t\tSTATE_B\r\n\t\t{\r\n\t\t\t@Override\r\n\t\t    public void onEventY()\r\n\t\t    {\r\n\t\t\t\tSystem.out.println(&quot;[STATE_B] Default implementation for event Y&quot;); \t\r\n\t\t    }\r\n\r\n\t\t    public void onEventZ()\r\n\t\t    {\r\n\t\t    \tSystem.out.println(&quot;[STATE_B] Default implementation for event Z&quot;);\r\n\t\t    }\r\n\t\t};\r\n        // Other states...\t\t\r\n\r\n\t\tpublic void process(Event e)\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n                // Google Guava is used here\r\n\t\t\t\tMethod listener = this.getClass().getMethod(&quot;on&quot; + CaseFormat.UPPER_UNDERSCORE.to(CaseFormat.UPPER_CAMEL, e.name()));\r\n\t\t\t\tlistener.invoke(this);\r\n\t\t\t}\r\n\t\t\tcatch (Exception ex)\r\n\t\t\t{\r\n\t\t\t\t// Missing event handling or something went wrong\r\n\t\t\t\tthrow new IllegalArgumentException(&quot;The event &quot; + e.name() + &quot; is not handled in the state machine&quot;, ex);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n        // Default implementations\r\n\r\n\t    public void onEventX()\r\n\t    {\r\n\t    \tSystem.out.println(&quot;Default implementation for event X&quot;);\r\n\t    }\r\n\r\n\t    public void onEventY()\r\n\t    {\r\n\t    \tSystem.out.println(&quot;Default implementation for event Y&quot;);    \t\r\n\t    }\r\n\r\n\t    public void onEventZ()\r\n\t    {\r\n\t    \tSystem.out.println(&quot;Default implementation for event Z&quot;);\r\n\t    }\r\n\t}\r\n\r\nAccording to `EventStrategy`, there is a default implementation for all events. Moreover, for each state, a specific implementation, for a different event handling, is possible.\r\n\r\nThe `StateMachine` would look like that :\r\n\r\n\tclass StateMachine\r\n\t{\r\n        // Active state\r\n\t    State mState;\r\n\r\n        // All the code about state change\r\n\r\n\t    public void onEvent(Event e)\r\n\t    {\r\n\t        mState.process(e);\r\n\t    }\r\n\t}\r\n\r\nIn this scenario, you trust mState being the current active state, all events are applied on this state only. If you want to add a security layer, to disable all events for all non active states, you can do it but in my opinion, it&#39;s not a good pattern, it&#39;s not up to a `State` to know if it&#39;s active but it&#39;s `StateMachine` job.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Strategy_pattern","title":"Java enum-based state machine (FSM): Passing in events","body":"<p>You are on good tracks, you should use a <a href=\"http://en.wikipedia.org/wiki/Strategy_pattern\" rel=\"noreferrer\">Strategy pattern</a> combined with your state machine. Implement event handling in your state enum, providing a default common implementation and possibly add specific implementations.</p>\n\n<p>Define your events and the associated strategy interface  :</p>\n\n<pre><code>enum Event\n{\n    EVENT_X,\n    EVENT_Y,\n    EVENT_Z;\n    // Other events...\n}\n\ninterface EventStrategy\n{\n    public void onEventX();\n    public void onEventY();\n    public void onEventZ();\n    // Other events...\n}\n</code></pre>\n\n<p>Then, in your <code>State</code> enum :</p>\n\n<pre><code>enum State implements EventStrategy\n{\n    STATE_A\n    {\n        @Override\n        public void onEventX()\n        {\n            System.out.println(\"[STATE_A] Specific implementation for event X\");\n        }\n    },\n\n    STATE_B\n    {\n        @Override\n        public void onEventY()\n        {\n            System.out.println(\"[STATE_B] Default implementation for event Y\");     \n        }\n\n        public void onEventZ()\n        {\n            System.out.println(\"[STATE_B] Default implementation for event Z\");\n        }\n    };\n    // Other states...      \n\n    public void process(Event e)\n    {\n        try\n        {\n            // Google Guava is used here\n            Method listener = this.getClass().getMethod(\"on\" + CaseFormat.UPPER_UNDERSCORE.to(CaseFormat.UPPER_CAMEL, e.name()));\n            listener.invoke(this);\n        }\n        catch (Exception ex)\n        {\n            // Missing event handling or something went wrong\n            throw new IllegalArgumentException(\"The event \" + e.name() + \" is not handled in the state machine\", ex);\n        }\n    }\n\n    // Default implementations\n\n    public void onEventX()\n    {\n        System.out.println(\"Default implementation for event X\");\n    }\n\n    public void onEventY()\n    {\n        System.out.println(\"Default implementation for event Y\");       \n    }\n\n    public void onEventZ()\n    {\n        System.out.println(\"Default implementation for event Z\");\n    }\n}\n</code></pre>\n\n<p>According to <code>EventStrategy</code>, there is a default implementation for all events. Moreover, for each state, a specific implementation, for a different event handling, is possible.</p>\n\n<p>The <code>StateMachine</code> would look like that :</p>\n\n<pre><code>class StateMachine\n{\n    // Active state\n    State mState;\n\n    // All the code about state change\n\n    public void onEvent(Event e)\n    {\n        mState.process(e);\n    }\n}\n</code></pre>\n\n<p>In this scenario, you trust mState being the current active state, all events are applied on this state only. If you want to add a security layer, to disable all events for all non active states, you can do it but in my opinion, it's not a good pattern, it's not up to a <code>State</code> to know if it's active but it's <code>StateMachine</code> job.</p>\n"},{"tags":[],"owner":{"account_id":5558534,"reputation":1501,"user_id":4408965,"display_name":"Danny Daglas"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1420841187,"creation_date":1420840794,"answer_id":27869939,"question_id":25581176,"body_markdown":"How about implementing event handling with Visitors:\r\n\r\n    import java.util.LinkedHashMap;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n\r\n    public class StateMachine {\r\n        interface Visitor {\r\n            void visited(State state);\r\n        }\r\n\r\n        enum State {\r\n            // a to A, b to B\r\n            A(&#39;a&#39;,&quot;A&quot;,&#39;b&#39;,&quot;B&quot;),\r\n            // b to B, b is an end-state\r\n            B(&#39;b&#39;,&quot;B&quot;) {\r\n                @Override\r\n                public boolean endState() { return true; }\r\n            },\r\n            ;\r\n\r\n            private final Map&lt;Character,String&gt; transitions = new LinkedHashMap&lt;&gt;();\r\n\r\n            private State(Object...transitions) {\r\n                for(int i=0;i&lt;transitions.length;i+=2)\r\n                    this.transitions.put((Character) transitions[i], (String) transitions[i+1]);\r\n            }\r\n            private State transition(char c) {\r\n                if(!transitions.containsKey(c))\r\n                    throw new IllegalStateException(&quot;no transition from &quot;+this+&quot; for &quot;+c);\r\n                return State.valueOf(transitions.get(c)).visit();\r\n            }\r\n            private State visit() {\r\n                for(Visitor visitor : visitors)\r\n                    visitor.visited(this);\r\n                return this;\r\n            }\r\n            public boolean endState() { return false; }\r\n            private final List&lt;Visitor&gt; visitors = new LinkedList&lt;&gt;();\r\n            public final void addVisitor(Visitor visitor) {\r\n                visitors.add(visitor);\r\n            }\r\n            public State process(String input) {\r\n                State state = this;\r\n                for(char c : input.toCharArray())\r\n                    state = state.transition(c);\r\n                return state;\r\n            } \r\n        }\r\n\r\n        public static void main(String args[]) {\r\n            String input = &quot;aabbbb&quot;;\r\n\r\n            Visitor commonVisitor = new Visitor() {\r\n                @Override\r\n                public void visited(State state) {\r\n                    System.out.println(&quot;visited &quot;+state);\r\n                }\r\n            };\r\n\r\n            State.A.addVisitor(commonVisitor);\r\n            State.B.addVisitor(commonVisitor);\r\n\r\n            State state = State.A.process(input);\r\n\r\n            System.out.println(&quot;endState = &quot;+state.endState());\r\n        }\r\n    }\r\n\r\nThe state-diagram definition and event-handling code look rather minimal in my opinion. :)  And, with a little more work, it can be made to work with a generic input type. \r\n","title":"Java enum-based state machine (FSM): Passing in events","body":"<p>How about implementing event handling with Visitors:</p>\n\n<pre><code>import java.util.LinkedHashMap;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.Map;\n\npublic class StateMachine {\n    interface Visitor {\n        void visited(State state);\n    }\n\n    enum State {\n        // a to A, b to B\n        A('a',\"A\",'b',\"B\"),\n        // b to B, b is an end-state\n        B('b',\"B\") {\n            @Override\n            public boolean endState() { return true; }\n        },\n        ;\n\n        private final Map&lt;Character,String&gt; transitions = new LinkedHashMap&lt;&gt;();\n\n        private State(Object...transitions) {\n            for(int i=0;i&lt;transitions.length;i+=2)\n                this.transitions.put((Character) transitions[i], (String) transitions[i+1]);\n        }\n        private State transition(char c) {\n            if(!transitions.containsKey(c))\n                throw new IllegalStateException(\"no transition from \"+this+\" for \"+c);\n            return State.valueOf(transitions.get(c)).visit();\n        }\n        private State visit() {\n            for(Visitor visitor : visitors)\n                visitor.visited(this);\n            return this;\n        }\n        public boolean endState() { return false; }\n        private final List&lt;Visitor&gt; visitors = new LinkedList&lt;&gt;();\n        public final void addVisitor(Visitor visitor) {\n            visitors.add(visitor);\n        }\n        public State process(String input) {\n            State state = this;\n            for(char c : input.toCharArray())\n                state = state.transition(c);\n            return state;\n        } \n    }\n\n    public static void main(String args[]) {\n        String input = \"aabbbb\";\n\n        Visitor commonVisitor = new Visitor() {\n            @Override\n            public void visited(State state) {\n                System.out.println(\"visited \"+state);\n            }\n        };\n\n        State.A.addVisitor(commonVisitor);\n        State.B.addVisitor(commonVisitor);\n\n        State state = State.A.process(input);\n\n        System.out.println(\"endState = \"+state.endState());\n    }\n}\n</code></pre>\n\n<p>The state-diagram definition and event-handling code look rather minimal in my opinion. :)  And, with a little more work, it can be made to work with a generic input type. </p>\n"},{"tags":[],"owner":{"account_id":1578495,"reputation":170,"user_id":1464393,"display_name":"ehecatl"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1536722344,"creation_date":1420844153,"answer_id":27870606,"question_id":25581176,"body_markdown":"It&#39;s not clear to me why you need a callback interface when you already have an event bus. The bus should be able to deliver events to listeners based on the event type without the need for interfaces. Consider an architecture like [Guava&#39;s](https://github.com/google/guava/wiki/EventBusExplained) (I know you don&#39;t want to resort to external libraries, it&#39;s the design what I want to bring to your attention).\r\n\r\n    enum State {\r\n      S1 {\r\n        @Subscribe void on(EventX ex) { ... }\r\n      },\r\n      S2 {\r\n        @Subscribe void on(EventY ey) { ... }\r\n      }\r\n    }\r\n\r\n    // when a state becomes active\r\n    eventBus.register(currentState);\r\n    eventBus.unregister(previousState);\r\n\r\nI believe this approach goes along the lines of your first comment to meriton&#39;s answer:\r\n&gt; Instead of manually writing class StateMachine to implement the  same interfaces and delegate events forward to currentState, it could be possible to automate this using reflection (or something). Then the outer class would register as a listener for those classes at runtime and delegate them on, and register/unregister the state as it enters/exits.","title":"Java enum-based state machine (FSM): Passing in events","body":"<p>It's not clear to me why you need a callback interface when you already have an event bus. The bus should be able to deliver events to listeners based on the event type without the need for interfaces. Consider an architecture like <a href=\"https://github.com/google/guava/wiki/EventBusExplained\" rel=\"nofollow noreferrer\">Guava's</a> (I know you don't want to resort to external libraries, it's the design what I want to bring to your attention).</p>\n\n<pre><code>enum State {\n  S1 {\n    @Subscribe void on(EventX ex) { ... }\n  },\n  S2 {\n    @Subscribe void on(EventY ey) { ... }\n  }\n}\n\n// when a state becomes active\neventBus.register(currentState);\neventBus.unregister(previousState);\n</code></pre>\n\n<p>I believe this approach goes along the lines of your first comment to meriton's answer:</p>\n\n<blockquote>\n  <p>Instead of manually writing class StateMachine to implement the  same interfaces and delegate events forward to currentState, it could be possible to automate this using reflection (or something). Then the outer class would register as a listener for those classes at runtime and delegate them on, and register/unregister the state as it enters/exits.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6641612,"reputation":7881,"user_id":5128464,"display_name":"vlp"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1445115759,"creation_date":1445115759,"answer_id":33191540,"question_id":25581176,"body_markdown":"An alternative for Java 8 might be to use an interface with default methods, like this:\r\n\r\n    public interface IPositionFSM {\r\n    \r\n        default IPositionFSM processFoo() {\r\n            return this;\r\n        }\r\n    \r\n        default IPositionFSM processBar() {\r\n            return this;\r\n        }\r\n    }\r\n    \r\n    public enum PositionFSM implements IPositionFSM {\r\n        State1 {\r\n            @Override\r\n            public IPositionFSM processFoo() {\r\n                return State2;\r\n            }\r\n        },\r\n        State2 {\r\n            @Override\r\n            public IPositionFSM processBar() {\r\n                return State1;\r\n            }\r\n        };\r\n    }","title":"Java enum-based state machine (FSM): Passing in events","body":"<p>An alternative for Java 8 might be to use an interface with default methods, like this:</p>\n\n<pre><code>public interface IPositionFSM {\n\n    default IPositionFSM processFoo() {\n        return this;\n    }\n\n    default IPositionFSM processBar() {\n        return this;\n    }\n}\n\npublic enum PositionFSM implements IPositionFSM {\n    State1 {\n        @Override\n        public IPositionFSM processFoo() {\n            return State2;\n        }\n    },\n    State2 {\n        @Override\n        public IPositionFSM processBar() {\n            return State1;\n        }\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8088812,"reputation":4423,"user_id":6095444,"display_name":"Pravin Bansal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559685939,"creation_date":1559685939,"answer_id":56451920,"question_id":25581176,"body_markdown":"Simple example if you do not have events and just need next status \r\n    public enum LeaveRequestState {\r\n     \r\n        Submitted {\r\n            @Override\r\n            public LeaveRequestState nextState() {\r\n                return Escalated;\r\n            }\r\n     \r\n            @Override\r\n            public String responsiblePerson() {\r\n                return &quot;Employee&quot;;\r\n            }\r\n        },\r\n        Escalated {\r\n            @Override\r\n            public LeaveRequestState nextState() {\r\n                return Approved;\r\n            }\r\n     \r\n            @Override\r\n            public String responsiblePerson() {\r\n                return &quot;Team Leader&quot;;\r\n            }\r\n        },\r\n        Approved {\r\n            @Override\r\n            public LeaveRequestState nextState() {\r\n                return this;\r\n            }\r\n     \r\n            @Override\r\n            public String responsiblePerson() {\r\n                return &quot;Department Manager&quot;;\r\n            }\r\n        };\r\n     \r\n        public abstract LeaveRequestState nextState(); \r\n        public abstract String responsiblePerson();\r\n    }","title":"Java enum-based state machine (FSM): Passing in events","body":"<p>Simple example if you do not have events and just need next status \n    public enum LeaveRequestState {</p>\n\n<pre><code>    Submitted {\n        @Override\n        public LeaveRequestState nextState() {\n            return Escalated;\n        }\n\n        @Override\n        public String responsiblePerson() {\n            return \"Employee\";\n        }\n    },\n    Escalated {\n        @Override\n        public LeaveRequestState nextState() {\n            return Approved;\n        }\n\n        @Override\n        public String responsiblePerson() {\n            return \"Team Leader\";\n        }\n    },\n    Approved {\n        @Override\n        public LeaveRequestState nextState() {\n            return this;\n        }\n\n        @Override\n        public String responsiblePerson() {\n            return \"Department Manager\";\n        }\n    };\n\n    public abstract LeaveRequestState nextState(); \n    public abstract String responsiblePerson();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":367096,"reputation":10913,"user_id":713047,"accept_rate":70,"display_name":"Trevor"},"score":0,"creation_date":1654528793,"post_id":72513454,"comment_id":128106223,"body_markdown":"Thank you for your answer. I am unable to make any comment at this time in relation to my original question because I am not actively working on the project now; it&#39;s all a bit of a distant hazy memory!","body":"Thank you for your answer. I am unable to make any comment at this time in relation to my original question because I am not actively working on the project now; it&#39;s all a bit of a distant hazy memory!"}],"tags":[],"owner":{"account_id":4998979,"reputation":1614,"user_id":4018558,"accept_rate":33,"display_name":"posthumecaver"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678172952,"creation_date":1654493994,"answer_id":72513454,"question_id":25581176,"body_markdown":"Well this is an old question but for the people who stumbles on it via Google search, while nobody mentioned here, I will advice to check two existing frameworks before you implement you own State Machines with Java Enumerations.\r\n\r\nOne is [Spring State Machine][1], which you can model your State and Events as enumerations, most of you are familiar with Spring framework, which allow us to use several features of Spring like dependency injection and everything else that Spring can offer.\r\n\r\nIt is really great for modelling the lifecycle of an Apparat, with states like INITIALIZING, STARTED, ERROR, RECOVERING, SHUTTINGDOWN, etc.. but I see lots of people are trying to model a Shopping Chart, a Reservation System with it, the memory footprint a Spring State Machine is relatively big to model millions of Shopping Charts or Reservations.\r\n\r\nOne other disadvantage, with Spring State Machine, while has a capability to persist itself for long running processes but it does not have any mechanism to adapt to changes in these processes, if you persist a process and you have to recover it lets say 10 days later with a change happened in the business process because of new software release / requirements, you have no built in means to deal with it.\r\n\r\nI have several blogs, [blog1][2] [blog2][3], demonstrating how you can program Spring State Machine, specially model driven way if you want to check it.\r\n\r\nBut mainly because the disadvantages I mentioned before, I advice you to look another framework first, [Akka FSM][4] (Finite State Machine) which is more fitting with its low memory footprint to have millions and millions of instances and has a capability to adapt changing long running processes.\r\n\r\nNow you can develop with Akka framework with Java but believe me because of some missing language elements, you don&#39;t want to read the code, Scala is a much more fitting language to develop with Akka with its Case Classes (which looks a lot similar to Java Enumeration) and powerful pattern matching capabilities with Switch statements.\r\n\r\nNow I hear you saying Scala is too complex, I can&#39;t convince my project leads to develop with Scala, to convince you all this is an option, I developed a Proof of Concept application using a Java/Scala hybrid with all Scala Akka Finite State Machine code generated from an UML model, if you want to check it out here the links to the blogs, [blog3][5] [blog4][6].\r\n\r\nI hope this information would help you.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-statemachine/docs/current/reference/\r\n  [2]: https://mehmetsalgar.wordpress.com/2015/12/14/ajax-spring-web-flow-and-spring-state-machine/\r\n  [3]: https://mehmetsalgar.wordpress.com/2016/01/20/xtext-domain-specific-language-and-spring-state-machine/\r\n  [4]: https://doc.akka.io/docs/akka/current/typed/fsm.html\r\n  [5]: https://mehmetsalgar.wordpress.com/2022/04/18/a-model-driven-event-sourced-cloud-ready-application-with-akka-finite-state-machine-using-kafka-cassandra-and-elasticsearch/\r\n  [6]: https://mehmetsalgar.wordpress.com/2022/05/17/model-driven-akka-finite-state-machine-fsm/","title":"Java enum-based state machine (FSM): Passing in events","body":"<p>Well this is an old question but for the people who stumbles on it via Google search, while nobody mentioned here, I will advice to check two existing frameworks before you implement you own State Machines with Java Enumerations.</p>\n<p>One is <a href=\"https://docs.spring.io/spring-statemachine/docs/current/reference/\" rel=\"nofollow noreferrer\">Spring State Machine</a>, which you can model your State and Events as enumerations, most of you are familiar with Spring framework, which allow us to use several features of Spring like dependency injection and everything else that Spring can offer.</p>\n<p>It is really great for modelling the lifecycle of an Apparat, with states like INITIALIZING, STARTED, ERROR, RECOVERING, SHUTTINGDOWN, etc.. but I see lots of people are trying to model a Shopping Chart, a Reservation System with it, the memory footprint a Spring State Machine is relatively big to model millions of Shopping Charts or Reservations.</p>\n<p>One other disadvantage, with Spring State Machine, while has a capability to persist itself for long running processes but it does not have any mechanism to adapt to changes in these processes, if you persist a process and you have to recover it lets say 10 days later with a change happened in the business process because of new software release / requirements, you have no built in means to deal with it.</p>\n<p>I have several blogs, <a href=\"https://mehmetsalgar.wordpress.com/2015/12/14/ajax-spring-web-flow-and-spring-state-machine/\" rel=\"nofollow noreferrer\">blog1</a> <a href=\"https://mehmetsalgar.wordpress.com/2016/01/20/xtext-domain-specific-language-and-spring-state-machine/\" rel=\"nofollow noreferrer\">blog2</a>, demonstrating how you can program Spring State Machine, specially model driven way if you want to check it.</p>\n<p>But mainly because the disadvantages I mentioned before, I advice you to look another framework first, <a href=\"https://doc.akka.io/docs/akka/current/typed/fsm.html\" rel=\"nofollow noreferrer\">Akka FSM</a> (Finite State Machine) which is more fitting with its low memory footprint to have millions and millions of instances and has a capability to adapt changing long running processes.</p>\n<p>Now you can develop with Akka framework with Java but believe me because of some missing language elements, you don't want to read the code, Scala is a much more fitting language to develop with Akka with its Case Classes (which looks a lot similar to Java Enumeration) and powerful pattern matching capabilities with Switch statements.</p>\n<p>Now I hear you saying Scala is too complex, I can't convince my project leads to develop with Scala, to convince you all this is an option, I developed a Proof of Concept application using a Java/Scala hybrid with all Scala Akka Finite State Machine code generated from an UML model, if you want to check it out here the links to the blogs, <a href=\"https://mehmetsalgar.wordpress.com/2022/04/18/a-model-driven-event-sourced-cloud-ready-application-with-akka-finite-state-machine-using-kafka-cassandra-and-elasticsearch/\" rel=\"nofollow noreferrer\">blog3</a> <a href=\"https://mehmetsalgar.wordpress.com/2022/05/17/model-driven-akka-finite-state-machine-fsm/\" rel=\"nofollow noreferrer\">blog4</a>.</p>\n<p>I hope this information would help you.</p>\n"}],"owner":{"account_id":367096,"reputation":10913,"user_id":713047,"accept_rate":70,"display_name":"Trevor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42095,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":25581346,"answer_count":9,"score":34,"last_activity_date":1678172952,"creation_date":1409392714,"question_id":25581176,"body_markdown":"I&#39;m using several enum-based state machines in my Android application. While these work very well, what I am looking for is a suggestion for how to elegantly receive events, typically from registered callbacks or from eventbus messages, into the currently active state. Of the many blogs and tutorials concerning enum-based FSMs, most of them give examples of state machines that consume data (e.g. parsers) rather than show how these FSMs may be driven from events.\r\n\r\nA typical state machine I&#39;m using has this form:\r\n\r\n\r\n    private State mState;\r\n\r\n    public enum State {\r\n\r\n        SOME_STATE {\r\n\r\n\r\n            init() {\r\n             ... \r\n            }\r\n\r\n\r\n            process() {\r\n             ... \r\n            }\r\n\r\n\r\n        },\r\n\r\n\r\n        ANOTHER_STATE {\r\n\r\n            init() {\r\n             ... \r\n            }\r\n\r\n            process() {\r\n             ... \r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    ...\r\n\r\n\r\n\r\nIn my situation, some of the states trigger a piece of work to be done on a particular object, registering a listener. That object asynchronously calls back when the work is done. In other words, just a simple callback interface.\r\n\r\nSimilarly, I have an EventBus. Classes wanting to be notified of events again implement a callback interface and `listen()` for those event types on the EventBus.\r\n\r\nThe basic problem therefore is that the state machine, or its individual states, or the class containing the enum FSM, or *something* has to implement those callback interfaces, so that they can represent events on the current state.\r\n\r\nOne approach I have used is for the entire `enum` to implement the callback interface(s). The enum itself has default implementations of the callback methods at the bottom, and the individual states can then override those callback methods for events they&#39;re interested in. For this to work, each state must register and unregister as it enters and exits, otherwise there is risk of the callback happening on a state that isn&#39;t the current state. I will probably stick with this if I find nothing better.\r\n\r\nAnother way is for the containing class to implement the callbacks. It then has to delegate those events on to the state machine, by calling `mState.process( event )`. That means I&#39;d need to enumerate event types. For example:\r\n\r\n    enum Events {\r\n        SOMETHING_HAPPENED,\r\n        ...\r\n    }\r\n\r\n    ...\r\n\r\n    onSometingHappened() {\r\n\r\n        mState.process( SOMETHING_HAPPENED );\r\n    }\r\n\r\nI don&#39;t like this however because (a) I&#39;d have the uglyness of needing to `switch` on the event types within the `process(event)` of each state, and (b) passing through additional parameters looks awkward. \r\n\r\nI would like a suggestion for an elegant solution for this without resorting to using a library. ","title":"Java enum-based state machine (FSM): Passing in events","body":"<p>I'm using several enum-based state machines in my Android application. While these work very well, what I am looking for is a suggestion for how to elegantly receive events, typically from registered callbacks or from eventbus messages, into the currently active state. Of the many blogs and tutorials concerning enum-based FSMs, most of them give examples of state machines that consume data (e.g. parsers) rather than show how these FSMs may be driven from events.</p>\n\n<p>A typical state machine I'm using has this form:</p>\n\n<pre><code>private State mState;\n\npublic enum State {\n\n    SOME_STATE {\n\n\n        init() {\n         ... \n        }\n\n\n        process() {\n         ... \n        }\n\n\n    },\n\n\n    ANOTHER_STATE {\n\n        init() {\n         ... \n        }\n\n        process() {\n         ... \n        }\n\n    }\n\n}\n\n...\n</code></pre>\n\n<p>In my situation, some of the states trigger a piece of work to be done on a particular object, registering a listener. That object asynchronously calls back when the work is done. In other words, just a simple callback interface.</p>\n\n<p>Similarly, I have an EventBus. Classes wanting to be notified of events again implement a callback interface and <code>listen()</code> for those event types on the EventBus.</p>\n\n<p>The basic problem therefore is that the state machine, or its individual states, or the class containing the enum FSM, or <em>something</em> has to implement those callback interfaces, so that they can represent events on the current state.</p>\n\n<p>One approach I have used is for the entire <code>enum</code> to implement the callback interface(s). The enum itself has default implementations of the callback methods at the bottom, and the individual states can then override those callback methods for events they're interested in. For this to work, each state must register and unregister as it enters and exits, otherwise there is risk of the callback happening on a state that isn't the current state. I will probably stick with this if I find nothing better.</p>\n\n<p>Another way is for the containing class to implement the callbacks. It then has to delegate those events on to the state machine, by calling <code>mState.process( event )</code>. That means I'd need to enumerate event types. For example:</p>\n\n<pre><code>enum Events {\n    SOMETHING_HAPPENED,\n    ...\n}\n\n...\n\nonSometingHappened() {\n\n    mState.process( SOMETHING_HAPPENED );\n}\n</code></pre>\n\n<p>I don't like this however because (a) I'd have the uglyness of needing to <code>switch</code> on the event types within the <code>process(event)</code> of each state, and (b) passing through additional parameters looks awkward. </p>\n\n<p>I would like a suggestion for an elegant solution for this without resorting to using a library. </p>\n"},{"tags":["java","gradle","classnotfoundexception"],"answers":[{"tags":[],"owner":{"account_id":11885028,"reputation":2467,"user_id":8697659,"display_name":"improbable"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1616938655,"creation_date":1616695463,"answer_id":66805201,"question_id":66669349,"body_markdown":"I fixed this by manually deleting eveything in `.caches` folder from Gradle user home directory.","title":"A Gradle based sub-project throws `Could not find or load main class worker.org.gradle.process.internal.worker.GradleWorkerMain` during the build","body":"<p>I fixed this by manually deleting eveything in <code>.caches</code> folder from Gradle user home directory.</p>\n"},{"comments":[{"owner":{"account_id":9507708,"reputation":2869,"user_id":7066647,"display_name":"dbaltor"},"score":1,"creation_date":1670680017,"post_id":72117631,"comment_id":131931635,"body_markdown":"I build Java projects using Gradle on Mac and this answer was spot on! I had already removed my `.caches` without success.","body":"I build Java projects using Gradle on Mac and this answer was spot on! I had already removed my <code>.caches</code> without success."},{"owner":{"account_id":1692337,"reputation":437,"user_id":1554448,"accept_rate":100,"display_name":"David Farrell"},"score":0,"creation_date":1673718703,"post_id":72117631,"comment_id":132562620,"body_markdown":"Deleting without stopping will not work. The gradle daemon&#39;s memory cache must also be emptied. That&#39;s why both are required.","body":"Deleting without stopping will not work. The gradle daemon&#39;s memory cache must also be emptied. That&#39;s why both are required."},{"owner":{"account_id":11885028,"reputation":2467,"user_id":8697659,"display_name":"improbable"},"score":1,"creation_date":1694448742,"post_id":72117631,"comment_id":135889202,"body_markdown":"Not an answer. Read `I tried invalidating caches and restarting, cleaning before building, deleting wrapper folder and regenerating it using the wrapper task, gradlew --stop`. You are stating the obvious.","body":"Not an answer. Read <code>I tried invalidating caches and restarting, cleaning before building, deleting wrapper folder and regenerating it using the wrapper task, gradlew --stop</code>. You are stating the obvious."}],"tags":[],"owner":{"account_id":1692337,"reputation":437,"user_id":1554448,"accept_rate":100,"display_name":"David Farrell"},"comment_count":3,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1651687868,"creation_date":1651687868,"answer_id":72117631,"question_id":66669349,"body_markdown":"If gradle is running as a daemon, you need to empty the `.caches` directory _and_ stop the daemon:\r\n\r\n    ./gradle --stop\r\n\r\nOr if using gradle wrapper:\r\n\r\n    ./gradlew --stop","title":"A Gradle based sub-project throws `Could not find or load main class worker.org.gradle.process.internal.worker.GradleWorkerMain` during the build","body":"<p>If gradle is running as a daemon, you need to empty the <code>.caches</code> directory <em>and</em> stop the daemon:</p>\n<pre><code>./gradle --stop\n</code></pre>\n<p>Or if using gradle wrapper:</p>\n<pre><code>./gradlew --stop\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8915715,"reputation":11,"user_id":10648117,"display_name":"Bogdan Gorchinskiy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678172622,"creation_date":1678172164,"answer_id":75658813,"question_id":66669349,"body_markdown":"This error (Could not find or load main class worker.org.gradle.process.internal.worker.GradleWorkerMain) popped after I remove gradle cache (rm -fr  ~/.gradle/caches). \r\n\r\nTo fix it,if coomand ./gradle --stop not worked for me, I&#39;m stopped graddle daemon by following command:\r\n \r\n        ps -auxx|grep gradle| awk &#39;{print $2 }&#39;|xargs  kill\r\nand run my build\r\nMy graddle version is 7.5.1","title":"A Gradle based sub-project throws `Could not find or load main class worker.org.gradle.process.internal.worker.GradleWorkerMain` during the build","body":"<p>This error (Could not find or load main class worker.org.gradle.process.internal.worker.GradleWorkerMain) popped after I remove gradle cache (rm -fr  ~/.gradle/caches).</p>\n<p>To fix it,if coomand ./gradle --stop not worked for me, I'm stopped graddle daemon by following command:</p>\n<pre><code>    ps -auxx|grep gradle| awk '{print $2 }'|xargs  kill\n</code></pre>\n<p>and run my build\nMy graddle version is 7.5.1</p>\n"}],"owner":{"account_id":11885028,"reputation":2467,"user_id":8697659,"display_name":"improbable"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4313,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66805201,"answer_count":3,"score":2,"last_activity_date":1678172622,"creation_date":1615969434,"question_id":66669349,"body_markdown":"I have a Gradle based multi-project. \r\n\r\nThe issue is with one of the sub-projects. I have some tests there, but all code inside is commented out. Whenener I run &quot;build&quot; or even &quot;assemble&quot;, which should not trigger a test phase, I get these errors during the test phase.\r\nThis started to happen just recently, I can&#39;t really pinpoint what might have started to cause this.\r\n\r\n```bash\r\nCould not write standard input to Gradle Test Executor 1.\r\njava.io.IOException: The pipe is being closed\r\n\tat java.base/java.io.FileOutputStream.writeBytes(Native Method)\r\n\tat java.base/java.io.FileOutputStream.write(FileOutputStream.java:354)\r\n\tat java.base/java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:81)\r\n\tat java.base/java.io.BufferedOutputStream.flush(BufferedOutputStream.java:142)\r\n\tat org.gradle.process.internal.streams.ExecOutputHandleRunner.forwardContent(ExecOutputHandleRunner.java:68)\r\n\tat org.gradle.process.internal.streams.ExecOutputHandleRunner.run(ExecOutputHandleRunner.java:53)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCould not write standard input to Gradle Test Executor 2.\r\njava.io.IOException: The pipe is being closed\r\n\tat java.base/java.io.FileOutputStream.writeBytes(Native Method)\r\n\tat java.base/java.io.FileOutputStream.write(FileOutputStream.java:354)\r\n\tat java.base/java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:81)\r\n\tat java.base/java.io.BufferedOutputStream.flush(BufferedOutputStream.java:142)\r\n\tat org.gradle.process.internal.streams.ExecOutputHandleRunner.forwardContent(ExecOutputHandleRunner.java:68)\r\n\tat org.gradle.process.internal.streams.ExecOutputHandleRunner.run(ExecOutputHandleRunner.java:53)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCould not write standard input to Gradle Test Executor 3.\r\njava.io.IOException: The pipe is being closed\r\n\tat java.base/java.io.FileOutputStream.writeBytes(Native Method)\r\n\tat java.base/java.io.FileOutputStream.write(FileOutputStream.java:354)\r\n\tat java.base/java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:81)\r\n\tat java.base/java.io.BufferedOutputStream.flush(BufferedOutputStream.java:142)\r\n\tat org.gradle.process.internal.streams.ExecOutputHandleRunner.forwardContent(ExecOutputHandleRunner.java:68)\r\n\tat org.gradle.process.internal.streams.ExecOutputHandleRunner.run(ExecOutputHandleRunner.java:53)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nError: Could not find or load main class worker.org.gradle.process.internal.worker.GradleWorkerMain\r\nCaused by: java.lang.ClassNotFoundException: worker.org.gradle.process.internal.worker.GradleWorkerMain\r\nError: Could not find or load main class worker.org.gradle.process.internal.worker.GradleWorkerMain\r\nCaused by: java.lang.ClassNotFoundException: worker.org.gradle.process.internal.worker.GradleWorkerMain\r\nProcess &#39;Gradle Test Executor 2&#39; finished with non-zero exit value 1\r\norg.gradle.process.internal.ExecException: Process &#39;Gradle Test Executor 2&#39; finished with non-zero exit value 1\r\n\tat org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:414)\r\n\tat org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:141)\r\n\tat org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:42)\r\n\tat org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:94)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:43)\r\n\tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:245)\r\n\tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:157)\r\n\tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:141)\r\n\tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat com.sun.proxy.$Proxy142.executionFinished(Unknown Source)\r\n\tat org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:221)\r\n\tat org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:354)\r\n\tat org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:110)\r\n\tat org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:84)\r\n\tat org.gradle.internal.operations.CurrentBuildOperationPreservingRunnable.run(CurrentBuildOperationPreservingRunnable.java:42)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nError: Could not find or load main class worker.org.gradle.process.internal.worker.GradleWorkerMain\r\nCaused by: java.lang.ClassNotFoundException: worker.org.gradle.process.internal.worker.GradleWorkerMain\r\nProcess &#39;Gradle Test Executor 3&#39; finished with non-zero exit value 1\r\norg.gradle.process.internal.ExecException: Process &#39;Gradle Test Executor 3&#39; finished with non-zero exit value 1\r\n\tat org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:414)\r\n\tat org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:141)\r\n\tat org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:42)\r\n\tat org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:94)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:43)\r\n\tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:245)\r\n\tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:157)\r\n\tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:141)\r\n\tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat com.sun.proxy.$Proxy142.executionFinished(Unknown Source)\r\n\tat org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:221)\r\n\tat org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:354)\r\n\tat org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:110)\r\n\tat org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:84)\r\n\tat org.gradle.internal.operations.CurrentBuildOperationPreservingRunnable.run(CurrentBuildOperationPreservingRunnable.java:42)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\nFAILURE: Build failed with an exception.\r\n```\r\n\r\nI can&#39;t really disclose my build files. Suffice to say, I use the spring gradle plugin and the dependency management plugin in root for all subprojects. Subproject build file contains just your regular dependencies and different tasks.\r\n\r\nThe root build.gradle contains this line:\r\n```\r\nwrapper {\r\n    gradleVersion = &#39;6.7.1&#39;\r\n}\r\n```\r\n\r\nI have JDK 11, Gradle `6.7.1.`, IDEA Ultimate `2020.3.3`.\r\n\r\nI tried invalidating caches and restarting, cleaning before building, deleting `wrapper` folder and regenerating it using the `wrapper` task, `gradlew --stop`. Nothing helped so far. Other subprojects build fine, this one and root doesn&#39;t.","title":"A Gradle based sub-project throws `Could not find or load main class worker.org.gradle.process.internal.worker.GradleWorkerMain` during the build","body":"<p>I have a Gradle based multi-project.</p>\n<p>The issue is with one of the sub-projects. I have some tests there, but all code inside is commented out. Whenener I run &quot;build&quot; or even &quot;assemble&quot;, which should not trigger a test phase, I get these errors during the test phase.\nThis started to happen just recently, I can't really pinpoint what might have started to cause this.</p>\n<pre class=\"lang-sh prettyprint-override\"><code>Could not write standard input to Gradle Test Executor 1.\njava.io.IOException: The pipe is being closed\n    at java.base/java.io.FileOutputStream.writeBytes(Native Method)\n    at java.base/java.io.FileOutputStream.write(FileOutputStream.java:354)\n    at java.base/java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:81)\n    at java.base/java.io.BufferedOutputStream.flush(BufferedOutputStream.java:142)\n    at org.gradle.process.internal.streams.ExecOutputHandleRunner.forwardContent(ExecOutputHandleRunner.java:68)\n    at org.gradle.process.internal.streams.ExecOutputHandleRunner.run(ExecOutputHandleRunner.java:53)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCould not write standard input to Gradle Test Executor 2.\njava.io.IOException: The pipe is being closed\n    at java.base/java.io.FileOutputStream.writeBytes(Native Method)\n    at java.base/java.io.FileOutputStream.write(FileOutputStream.java:354)\n    at java.base/java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:81)\n    at java.base/java.io.BufferedOutputStream.flush(BufferedOutputStream.java:142)\n    at org.gradle.process.internal.streams.ExecOutputHandleRunner.forwardContent(ExecOutputHandleRunner.java:68)\n    at org.gradle.process.internal.streams.ExecOutputHandleRunner.run(ExecOutputHandleRunner.java:53)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCould not write standard input to Gradle Test Executor 3.\njava.io.IOException: The pipe is being closed\n    at java.base/java.io.FileOutputStream.writeBytes(Native Method)\n    at java.base/java.io.FileOutputStream.write(FileOutputStream.java:354)\n    at java.base/java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:81)\n    at java.base/java.io.BufferedOutputStream.flush(BufferedOutputStream.java:142)\n    at org.gradle.process.internal.streams.ExecOutputHandleRunner.forwardContent(ExecOutputHandleRunner.java:68)\n    at org.gradle.process.internal.streams.ExecOutputHandleRunner.run(ExecOutputHandleRunner.java:53)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nError: Could not find or load main class worker.org.gradle.process.internal.worker.GradleWorkerMain\nCaused by: java.lang.ClassNotFoundException: worker.org.gradle.process.internal.worker.GradleWorkerMain\nError: Could not find or load main class worker.org.gradle.process.internal.worker.GradleWorkerMain\nCaused by: java.lang.ClassNotFoundException: worker.org.gradle.process.internal.worker.GradleWorkerMain\nProcess 'Gradle Test Executor 2' finished with non-zero exit value 1\norg.gradle.process.internal.ExecException: Process 'Gradle Test Executor 2' finished with non-zero exit value 1\n    at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:414)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:141)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:42)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:94)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:43)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:245)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:157)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:141)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy142.executionFinished(Unknown Source)\n    at org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:221)\n    at org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:354)\n    at org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:110)\n    at org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:84)\n    at org.gradle.internal.operations.CurrentBuildOperationPreservingRunnable.run(CurrentBuildOperationPreservingRunnable.java:42)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nError: Could not find or load main class worker.org.gradle.process.internal.worker.GradleWorkerMain\nCaused by: java.lang.ClassNotFoundException: worker.org.gradle.process.internal.worker.GradleWorkerMain\nProcess 'Gradle Test Executor 3' finished with non-zero exit value 1\norg.gradle.process.internal.ExecException: Process 'Gradle Test Executor 3' finished with non-zero exit value 1\n    at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:414)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:141)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:42)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:94)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:43)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:245)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:157)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:141)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy142.executionFinished(Unknown Source)\n    at org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:221)\n    at org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:354)\n    at org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:110)\n    at org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:84)\n    at org.gradle.internal.operations.CurrentBuildOperationPreservingRunnable.run(CurrentBuildOperationPreservingRunnable.java:42)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n\nFAILURE: Build failed with an exception.\n</code></pre>\n<p>I can't really disclose my build files. Suffice to say, I use the spring gradle plugin and the dependency management plugin in root for all subprojects. Subproject build file contains just your regular dependencies and different tasks.</p>\n<p>The root build.gradle contains this line:</p>\n<pre><code>wrapper {\n    gradleVersion = '6.7.1'\n}\n</code></pre>\n<p>I have JDK 11, Gradle <code>6.7.1.</code>, IDEA Ultimate <code>2020.3.3</code>.</p>\n<p>I tried invalidating caches and restarting, cleaning before building, deleting <code>wrapper</code> folder and regenerating it using the <code>wrapper</code> task, <code>gradlew --stop</code>. Nothing helped so far. Other subprojects build fine, this one and root doesn't.</p>\n"},{"tags":["java","spring","spring-boot","maven","spring-mvc"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1678140029,"post_id":75656096,"comment_id":133472646,"body_markdown":"That will not work because spring boot 3.1.0 does not yet exists... only 3.1.0-M1 existing....","body":"That will not work because spring boot 3.1.0 does not yet exists... only 3.1.0-M1 existing...."},{"owner":{"account_id":27911614,"reputation":1,"user_id":21313688,"display_name":"Manos"},"score":0,"creation_date":1678140717,"post_id":75656096,"comment_id":133472792,"body_markdown":"what is a previous version i can use?","body":"what is a previous version i can use?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1678141548,"post_id":75656096,"comment_id":133472945,"body_markdown":"Hi! Current release version is 3.0.4 , and the recommended way to create your spring project/skeleton: https://start.spring.io ;)","body":"Hi! Current release version is 3.0.4 , and the recommended way to create your spring project/skeleton: <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">start.spring.io</a> ;)"},{"owner":{"account_id":27911614,"reputation":1,"user_id":21313688,"display_name":"Manos"},"score":0,"creation_date":1678142132,"post_id":75656096,"comment_id":133473040,"body_markdown":"I tried to create it this way initially but i get an error when generating the application -&gt; &quot;Could not connect to server. Please check your connection&quot;.\nI also tried with that version (3.0.4) but i get the same error.","body":"I tried to create it this way initially but i get an error when generating the application -&gt; &quot;Could not connect to server. Please check your connection&quot;. I also tried with that version (3.0.4) but i get the same error."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1678155380,"post_id":75656096,"comment_id":133474944,"body_markdown":"Ok, then error message can be explained this way: 1. (You are behind a proxy,) All maven traffic is routed to your (local) artifactory. (isolated from maven-central) 2. spring-boot (of these versions) is not available in your artifactory. Solution: Check available versions, chat with your artifactory admin.","body":"Ok, then error message can be explained this way: 1. (You are behind a proxy,) All maven traffic is routed to your (local) artifactory. (isolated from maven-central) 2. spring-boot (of these versions) is not available in your artifactory. Solution: Check available versions, chat with your artifactory admin."},{"owner":{"account_id":27911614,"reputation":1,"user_id":21313688,"display_name":"Manos"},"score":0,"creation_date":1678223660,"post_id":75656096,"comment_id":133491086,"body_markdown":"Any way I can get off this proxy or redirect the traffic to maven central? where can I locate this?","body":"Any way I can get off this proxy or redirect the traffic to maven central? where can I locate this?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1678235388,"post_id":75656096,"comment_id":133493288,"body_markdown":"It depends... on where your computer &quot;stands&quot; :) in a company: you must see/talk/find out ...probably not; at home/in public: surely, no problem!","body":"It depends... on where your computer &quot;stands&quot; :) in a company: you must see/talk/find out ...probably not; at home/in public: surely, no problem!"}],"owner":{"account_id":27911614,"reputation":1,"user_id":21313688,"display_name":"Manos"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":941,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678172566,"creation_date":1678138778,"question_id":75656096,"body_markdown":"When I try to build my first spring application, I&#39;m followed by this error:\r\n\r\n&gt; Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:3.1.0 from/to remote-repos (https://artifactory.io.thehut.local:443/artifactory/remote-repos): Transfer failed for https://artifactory.io.thehut.local:443/artifactory/remote-repos/org/springframework/boot/spring-boot-starter-parent/3.1.0/spring-boot-starter-parent-3.1.0.pom\r\n\r\nThis is my pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;hello-world&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;hello-world&lt;/name&gt;\r\n\t&lt;description&gt;hello-world&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n","title":"Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:3.1.0 from/to remote-repos","body":"<p>When I try to build my first spring application, I'm followed by this error:</p>\n<blockquote>\n<p>Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:3.1.0 from/to remote-repos (<a href=\"https://artifactory.io.thehut.local:443/artifactory/remote-repos\" rel=\"nofollow noreferrer\">https://artifactory.io.thehut.local:443/artifactory/remote-repos</a>): Transfer failed for <a href=\"https://artifactory.io.thehut.local:443/artifactory/remote-repos/org/springframework/boot/spring-boot-starter-parent/3.1.0/spring-boot-starter-parent-3.1.0.pom\" rel=\"nofollow noreferrer\">https://artifactory.io.thehut.local:443/artifactory/remote-repos/org/springframework/boot/spring-boot-starter-parent/3.1.0/spring-boot-starter-parent-3.1.0.pom</a></p>\n</blockquote>\n<p>This is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;hello-world&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;hello-world&lt;/name&gt;\n    &lt;description&gt;hello-world&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1678125512,"post_id":75654195,"comment_id":133469142,"body_markdown":"1. It probably comes from your parent POM. 2. jcenter probably just redirects to MavenCentral.","body":"1. It probably comes from your parent POM. 2. jcenter probably just redirects to MavenCentral."},{"owner":{"account_id":56043,"reputation":2875,"user_id":167889,"accept_rate":45,"display_name":"end-user"},"score":0,"creation_date":1678126241,"post_id":75654195,"comment_id":133469334,"body_markdown":"If it had come from the parent POM it should be noted in the effective POM (the dependencies etc are).  I double-checked by looking through the parent and there&#39;s no mention.  I do not see any redirections for https://jcenter.bintray.com/org/apache/maven/plugins/maven-help-plugin/3.2.0/maven-help-plugin-3.2.0.pom","body":"If it had come from the parent POM it should be noted in the effective POM (the dependencies etc are).  I double-checked by looking through the parent and there&#39;s no mention.  I do not see any redirections for <a href=\"https://jcenter.bintray.com/org/apache/maven/plugins/maven-help-plugin/3.2.0/maven-help-plugin-3.2.0.pom\" rel=\"nofollow noreferrer\">jcenter.bintray.com/org/apache/maven/plugins/maven-help-plug&zwnj;&#8203;in/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":56043,"reputation":2875,"user_id":167889,"accept_rate":45,"display_name":"end-user"},"score":0,"creation_date":1678294379,"post_id":75658826,"comment_id":133505983,"body_markdown":"I want to point out that this value shows under the IDE settings (ctrl+alt+s), not under the project settings (ctrl+alt+shft+s).  However, you are correct - I found this value under `.idea\\jarRepositories.xml`.  That, coupled with the fact that the online documentation referencing the effective-pom and providing no way to edit the value is extraordinarily misleading.","body":"I want to point out that this value shows under the IDE settings (ctrl+alt+s), not under the project settings (ctrl+alt+shft+s).  However, you are correct - I found this value under <code>.idea\\jarRepositories.xml</code>.  That, coupled with the fact that the online documentation referencing the effective-pom and providing no way to edit the value is extraordinarily misleading."},{"owner":{"account_id":56043,"reputation":2875,"user_id":167889,"accept_rate":45,"display_name":"end-user"},"score":0,"creation_date":1678296955,"post_id":75658826,"comment_id":133506724,"body_markdown":"However, it looks like that didn&#39;t &quot;solve&quot; the problem.  That value was in the file, but removing it did not remove the value from the settings.  In fact, I deleted the whole `jarRepositories.xml` file and its still there.  I don&#39;t know what&#39;s controlling it.","body":"However, it looks like that didn&#39;t &quot;solve&quot; the problem.  That value was in the file, but removing it did not remove the value from the settings.  In fact, I deleted the whole <code>jarRepositories.xml</code> file and its still there.  I don&#39;t know what&#39;s controlling it."},{"owner":{"account_id":18882550,"reputation":146,"user_id":13774637,"display_name":"Ethan Yin"},"score":0,"creation_date":1678344340,"post_id":75658826,"comment_id":133514803,"body_markdown":"Does it help if you grep &quot;jcenter&quot; in the project folder? Is it possible that it&#39;s in your system environment variables?","body":"Does it help if you grep &quot;jcenter&quot; in the project folder? Is it possible that it&#39;s in your system environment variables?"}],"tags":[],"owner":{"account_id":18882550,"reputation":146,"user_id":13774637,"display_name":"Ethan Yin"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678172261,"creation_date":1678172261,"answer_id":75658826,"question_id":75654195,"body_markdown":"The Maven -&gt; Repositories configuration is a project-level setting. If it&#39;s not defined anywhere in pom.xml or settings.xml of your project, probably there&#39;s an old configuration in your .idea folder. Reloading the maven project should update this configuration.\r\n\r\nPlease also check if there&#39;s a jarRepositories.xml under the .idea folder in your project root. Removing the &quot;jcenter&quot; from there might be helpful.","title":"What controls the default Maven central setting?","body":"<p>The Maven -&gt; Repositories configuration is a project-level setting. If it's not defined anywhere in pom.xml or settings.xml of your project, probably there's an old configuration in your .idea folder. Reloading the maven project should update this configuration.</p>\n<p>Please also check if there's a jarRepositories.xml under the .idea folder in your project root. Removing the &quot;jcenter&quot; from there might be helpful.</p>\n"}],"owner":{"account_id":56043,"reputation":2875,"user_id":167889,"accept_rate":45,"display_name":"end-user"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678172261,"creation_date":1678125216,"question_id":75654195,"body_markdown":"When I look in IntelliJ&#39;s settings under Build -&gt; Build Tools -&gt; Maven -&gt; Repositories, it shows https://jcenter.bintray.com, which I believe has been deprecated.  The help page indicates that this setting comes from the &quot;effective pom&quot;.  So I ran `mvn org.apache.maven.plugins:maven-help-plugin:3.2.0:effective-pom -Dverbose=true` which shows \r\n\r\n```xml\r\n&lt;repositories&gt;\r\n    &lt;repository&gt;\r\n      &lt;snapshots&gt;\r\n        &lt;enabled&gt;false&lt;/enabled&gt;\r\n      &lt;/snapshots&gt;\r\n      &lt;id&gt;central&lt;/id&gt;\r\n      &lt;name&gt;bintray&lt;/name&gt;\r\n      &lt;url&gt;https://jcenter.bintray.com&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n  &lt;/repositories&gt;\r\n  &lt;pluginRepositories&gt;\r\n    &lt;pluginRepository&gt;\r\n      &lt;snapshots&gt;\r\n        &lt;enabled&gt;false&lt;/enabled&gt;\r\n      &lt;/snapshots&gt;\r\n      &lt;id&gt;central&lt;/id&gt;\r\n      &lt;name&gt;bintray-plugins&lt;/name&gt;\r\n      &lt;url&gt;https://jcenter.bintray.com&lt;/url&gt;\r\n    &lt;/pluginRepository&gt;\r\n  &lt;/pluginRepositories&gt;\r\n```\r\n\r\nNote, there&#39;s no line here indicating where that setting comes from.  I checked my `%userprofile%\\.m2\\settings.xml` and there is no mirror setup. I checked the `apache-maven-3.9.0\\conf\\settings.xml` and it only had the http blocker mirror.\r\n\r\nWhere is this setting coming from?  Is it baked in?  Why hasn&#39;t it been updated if bintray has sunsetted.  \r\n\r\nAdditionally, if it&#39;s sunsetted, why did it work!?\r\n\r\n```Downloaded from central: https://jcenter.bintray.com/org/apache/maven/maven-model/3.6.1/maven-model-3.6.1.pom (4.0 kB at 40 kB/s)```","title":"What controls the default Maven central setting?","body":"<p>When I look in IntelliJ's settings under Build -&gt; Build Tools -&gt; Maven -&gt; Repositories, it shows <a href=\"https://jcenter.bintray.com\" rel=\"nofollow noreferrer\">https://jcenter.bintray.com</a>, which I believe has been deprecated.  The help page indicates that this setting comes from the &quot;effective pom&quot;.  So I ran <code>mvn org.apache.maven.plugins:maven-help-plugin:3.2.0:effective-pom -Dverbose=true</code> which shows</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;snapshots&gt;\n        &lt;enabled&gt;false&lt;/enabled&gt;\n      &lt;/snapshots&gt;\n      &lt;id&gt;central&lt;/id&gt;\n      &lt;name&gt;bintray&lt;/name&gt;\n      &lt;url&gt;https://jcenter.bintray.com&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/repositories&gt;\n  &lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n      &lt;snapshots&gt;\n        &lt;enabled&gt;false&lt;/enabled&gt;\n      &lt;/snapshots&gt;\n      &lt;id&gt;central&lt;/id&gt;\n      &lt;name&gt;bintray-plugins&lt;/name&gt;\n      &lt;url&gt;https://jcenter.bintray.com&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n  &lt;/pluginRepositories&gt;\n</code></pre>\n<p>Note, there's no line here indicating where that setting comes from.  I checked my <code>%userprofile%\\.m2\\settings.xml</code> and there is no mirror setup. I checked the <code>apache-maven-3.9.0\\conf\\settings.xml</code> and it only had the http blocker mirror.</p>\n<p>Where is this setting coming from?  Is it baked in?  Why hasn't it been updated if bintray has sunsetted.</p>\n<p>Additionally, if it's sunsetted, why did it work!?</p>\n<p><code>Downloaded from central: https://jcenter.bintray.com/org/apache/maven/maven-model/3.6.1/maven-model-3.6.1.pom (4.0 kB at 40 kB/s)</code></p>\n"},{"tags":["java","sonarqube","sonar-runner","static-code-analysis"],"comments":[{"owner":{"account_id":1316894,"reputation":10675,"user_id":1263543,"display_name":"benzonico"},"score":0,"creation_date":1524832804,"post_id":50058133,"comment_id":87141638,"body_markdown":"Is the path valid ? What is the exact output error ? did you provide a path to the compiled classes of your project ?","body":"Is the path valid ? What is the exact output error ? did you provide a path to the compiled classes of your project ?"},{"owner":{"account_id":3148809,"reputation":22476,"user_id":2662707,"display_name":"G. Ann - SonarSource Team"},"score":2,"creation_date":1524837746,"post_id":50058133,"comment_id":87144786,"body_markdown":"@RakeshSinghBalhara `sonar.java.binaries` is looking for the top-level directory containing the _class files_, it won&#39;t expand a jar","body":"@RakeshSinghBalhara <code>sonar.java.binaries</code> is looking for the top-level directory containing the <i>class files</i>, it won&#39;t expand a jar"},{"owner":{"account_id":282043,"reputation":4264,"user_id":578706,"accept_rate":100,"display_name":"Tibor Blenessy"},"score":1,"creation_date":1572603106,"post_id":50058133,"comment_id":103618050,"body_markdown":"@Rakesh please do not edit existing questions if you want to ask a new one","body":"@Rakesh please do not edit existing questions if you want to ask a new one"}],"answers":[{"comments":[{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1637661389,"post_id":50131516,"comment_id":123879966,"body_markdown":"Yes, this worked for me, thank you. ```&lt;sonar.java.binaries&gt;**/*&lt;/sonar.java.binaries&gt;``` for maven sonar plugin.","body":"Yes, this worked for me, thank you. <code>&lt;sonar.java.binaries&gt;**&#47;*&lt;&#47;sonar.java.binaries&gt;</code> for maven sonar plugin."}],"tags":[],"owner":{"account_id":282043,"reputation":4264,"user_id":578706,"accept_rate":100,"display_name":"Tibor Blenessy"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1525254134,"creation_date":1525254134,"answer_id":50131516,"question_id":50058133,"body_markdown":"Set your property like this `sonar.java.binaries=bin`, it has to be set to the directory containing the binaries.","title":"error in sonar.java.binaries property for java based project environment setup","body":"<p>Set your property like this <code>sonar.java.binaries=bin</code>, it has to be set to the directory containing the binaries.</p>\n"},{"tags":[],"owner":{"account_id":8802416,"reputation":171,"user_id":6578100,"display_name":"raja emani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678172260,"creation_date":1678172260,"answer_id":75658825,"question_id":50058133,"body_markdown":"Sonar plugin is unable to find the binaries which means the project is not built first or packaged first\r\nexecute\r\n\r\n    mvn clean package sonar:sonar\r\n\r\nor\r\n\r\n    mvn clean package\r\n    mvn sonar:sonar","title":"error in sonar.java.binaries property for java based project environment setup","body":"<p>Sonar plugin is unable to find the binaries which means the project is not built first or packaged first\nexecute</p>\n<pre><code>mvn clean package sonar:sonar\n</code></pre>\n<p>or</p>\n<pre><code>mvn clean package\nmvn sonar:sonar\n</code></pre>\n"}],"owner":{"account_id":4770958,"reputation":380,"user_id":3855723,"display_name":"Rakesh Singh Balhara"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15078,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":2,"score":0,"last_activity_date":1678172260,"creation_date":1524816877,"question_id":50058133,"body_markdown":"&gt; Error | Java | SonarQube | please provide compiled classes of your project with sonar.java.binaries property.\r\n\r\nBelow is my sonar-project.properties file. I have provided my binaries path. but still, I am getting the error message.        \r\n\r\n    sonar.projectKey=Hello\r\n    sonar.projectName=JavaPro\r\n    sonar.projectVersion=1.0\r\n    sonar.java.sources=java\r\n    sonar.java.binaries=bin/A.jar\r\n    sonar.java.file.suffixes=java\r\n    sonar.sourceEncoding=UTF-8","title":"error in sonar.java.binaries property for java based project environment setup","body":"<blockquote>\n  <p>Error | Java | SonarQube | please provide compiled classes of your project with sonar.java.binaries property.</p>\n</blockquote>\n\n<p>Below is my sonar-project.properties file. I have provided my binaries path. but still, I am getting the error message.        </p>\n\n<pre><code>sonar.projectKey=Hello\nsonar.projectName=JavaPro\nsonar.projectVersion=1.0\nsonar.java.sources=java\nsonar.java.binaries=bin/A.jar\nsonar.java.file.suffixes=java\nsonar.sourceEncoding=UTF-8\n</code></pre>\n"},{"tags":["java","sql","spring-boot","hibernate","entity"],"comments":[{"owner":{"account_id":5454149,"reputation":515,"user_id":4338129,"accept_rate":78,"display_name":"Dranna"},"score":1,"creation_date":1639675332,"post_id":70382480,"comment_id":124415560,"body_markdown":"Have you tried escaping the string with backticks? Like `@javax.persistence.Column(name = &quot;\\`NameWrittenInPascalCase\\`&quot;)`","body":"Have you tried escaping the string with backticks? Like <code>@javax.persistence.Column(name = &quot;`NameWrittenInPascalCase`&quot;)</code>"},{"owner":{"account_id":22825676,"reputation":387,"user_id":16974979,"display_name":"KRISTIJAN TOMASINI"},"score":0,"creation_date":1639676801,"post_id":70382480,"comment_id":124416084,"body_markdown":"No, but it does not help. In query sent to server there is still `name_written_in_pascal_case`. :(","body":"No, but it does not help. In query sent to server there is still <code>name_written_in_pascal_case</code>. :("},{"owner":{"account_id":10851574,"reputation":116,"user_id":7979163,"display_name":"srp321"},"score":1,"creation_date":1639677662,"post_id":70382480,"comment_id":124416423,"body_markdown":"depending upon ur hibernate version the property name needs to be adjusted in application.properties. refer to this post: https://stackoverflow.com/questions/29087626/entity-class-name-is-transformed-into-sql-table-name-with-underscores","body":"depending upon ur hibernate version the property name needs to be adjusted in application.properties. refer to this post: <a href=\"https://stackoverflow.com/questions/29087626/entity-class-name-is-transformed-into-sql-table-name-with-underscores\" title=\"entity class name is transformed into sql table name with underscores\">stackoverflow.com/questions/29087626/&hellip;</a>"},{"owner":{"account_id":22825676,"reputation":387,"user_id":16974979,"display_name":"KRISTIJAN TOMASINI"},"score":0,"creation_date":1640010317,"post_id":70382480,"comment_id":124486697,"body_markdown":"Oh, thank you. It looks like this question is possible duplicate of the question which you linked. I did not find it when i searched for it before.","body":"Oh, thank you. It looks like this question is possible duplicate of the question which you linked. I did not find it when i searched for it before."}],"answers":[{"comments":[{"owner":{"account_id":22825676,"reputation":387,"user_id":16974979,"display_name":"KRISTIJAN TOMASINI"},"score":0,"creation_date":1639676924,"post_id":70383154,"comment_id":124416145,"body_markdown":"Unfortunately, hibernate still sends `name_written_in_pascal_case` instead of `NameWrittenInPascalCase` even after setting this property.","body":"Unfortunately, hibernate still sends <code>name_written_in_pascal_case</code> instead of <code>NameWrittenInPascalCase</code> even after setting this property."},{"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"score":1,"creation_date":1639679250,"post_id":70383154,"comment_id":124416943,"body_markdown":"Try this property `spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl` @KRISTIJANTOMASINI","body":"Try this property <code>spring.jpa.hibernate.naming.physical-strategy=org.hibernate.&zwnj;&#8203;boot.model.naming.Ph&zwnj;&#8203;ysicalNamingStrategy&zwnj;&#8203;StandardImpl</code> @KRISTIJANTOMASINI"},{"owner":{"account_id":22825676,"reputation":387,"user_id":16974979,"display_name":"KRISTIJAN TOMASINI"},"score":1,"creation_date":1640010019,"post_id":70383154,"comment_id":124486597,"body_markdown":"This fixed it! Thank you very much.\nCan you please update your answer so that i can accept it and give you reputation?","body":"This fixed it! Thank you very much. Can you please update your answer so that i can accept it and give you reputation?"}],"tags":[],"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1678172258,"creation_date":1639675449,"answer_id":70383154,"question_id":70382480,"body_markdown":"In your project `application.properties` file set the naming strategy:\r\n\r\n    spring.jpa.hibernate.naming-strategy=org.hibernate.cfg.EJB3NamingStrategy\r\n\r\nDefault value is `org.springframework.boot.orm.jpa.SpringNamingStrategy`\r\n&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;\r\n***UPDATE:***\r\n\r\nIf previous property does not solved your problem, you can use this one (For newer versions of **Hibernate**):\r\n\r\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl","title":"How to prevent Spring Boot/Hibernate from converting entity column names from PascalCase to snake_case?","body":"<p>In your project <code>application.properties</code> file set the naming strategy:</p>\n<pre><code>spring.jpa.hibernate.naming-strategy=org.hibernate.cfg.EJB3NamingStrategy\n</code></pre>\n<p>Default value is <code>org.springframework.boot.orm.jpa.SpringNamingStrategy</code>\n<br /><br /><br />\n<em><strong>UPDATE:</strong></em></p>\n<p>If previous property does not solved your problem, you can use this one (For newer versions of <strong>Hibernate</strong>):</p>\n<pre><code>spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n"}],"owner":{"account_id":22825676,"reputation":387,"user_id":16974979,"display_name":"KRISTIJAN TOMASINI"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3697,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":70383154,"answer_count":1,"score":7,"last_activity_date":1678172258,"creation_date":1639672180,"question_id":70382480,"body_markdown":"I stumbled upon a strange error today. One of my Java Persistence Application programming interface (JPA) entities in Spring Boot application is not working. I tracked the problem down to a single column:\r\n```java\r\n@javax.persistence.Column(name = &quot;NameWrittenInPascalCase&quot;)\r\njava.lang.String c;\r\n```\r\nWhen I checked the Structured Query Language (SQL) query which Spring Boot/Hibernate generates I discovered the problem. It seams that Spring Boot or Hibernate converts the `NameWrittenInPascalCase` into `name_written_in_pascal_case` (just written in snake case). (In database, of course, my column name is written in PascalCase).\r\n\r\nFor gods sake, why?\r\n\r\nAnd how to prevent it from doing so?\r\n\r\nIf you need aditional info, I use Spring Boot version 2.5.7.","title":"How to prevent Spring Boot/Hibernate from converting entity column names from PascalCase to snake_case?","body":"<p>I stumbled upon a strange error today. One of my Java Persistence Application programming interface (JPA) entities in Spring Boot application is not working. I tracked the problem down to a single column:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@javax.persistence.Column(name = &quot;NameWrittenInPascalCase&quot;)\njava.lang.String c;\n</code></pre>\n<p>When I checked the Structured Query Language (SQL) query which Spring Boot/Hibernate generates I discovered the problem. It seams that Spring Boot or Hibernate converts the <code>NameWrittenInPascalCase</code> into <code>name_written_in_pascal_case</code> (just written in snake case). (In database, of course, my column name is written in PascalCase).</p>\n<p>For gods sake, why?</p>\n<p>And how to prevent it from doing so?</p>\n<p>If you need aditional info, I use Spring Boot version 2.5.7.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1678164954,"post_id":75658162,"comment_id":133475969,"body_markdown":"First start with a very simple string, maybe `[ x ]` and step through your code with the debugger seeing how it works.","body":"First start with a very simple string, maybe <code>[ x ]</code> and step through your code with the debugger seeing how it works."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":4,"creation_date":1678165172,"post_id":75658162,"comment_id":133475995,"body_markdown":"Also are you sure that you want to remove matched &quot;reversed&quot; brackets, i.e. `] x [` -&gt; ` x `, which your second example implies?","body":"Also are you sure that you want to remove matched &quot;reversed&quot; brackets, i.e. <code>] x [</code> -&gt; ` x `, which your second example implies?"},{"owner":{"account_id":25712903,"reputation":41,"user_id":19471125,"display_name":"Salome"},"score":0,"creation_date":1678171586,"post_id":75658162,"comment_id":133476939,"body_markdown":"I think the instructions are vague so I&#39;ve been trying to figure out what&#39;s actually going on by looking at the testing and expected results. I edited and included the testing (replaces words with hello- it doesn&#39;t matter) It&#39;s interesting you say that, because I&#39;m wondering if my big problem is that it&#39;s looking for both reversed and direct? I&#39;m not actually sure. I&#39;ve not yet fully developed the programming logic fully. I&#39;m still learning and still somewhat very lost just following along with lessons still.","body":"I think the instructions are vague so I&#39;ve been trying to figure out what&#39;s actually going on by looking at the testing and expected results. I edited and included the testing (replaces words with hello- it doesn&#39;t matter) It&#39;s interesting you say that, because I&#39;m wondering if my big problem is that it&#39;s looking for both reversed and direct? I&#39;m not actually sure. I&#39;ve not yet fully developed the programming logic fully. I&#39;m still learning and still somewhat very lost just following along with lessons still."}],"answers":[{"comments":[{"owner":{"account_id":25712903,"reputation":41,"user_id":19471125,"display_name":"Salome"},"score":0,"creation_date":1678174072,"post_id":75658358,"comment_id":133477431,"body_markdown":"This fixed it! I put in char left = leftPattern.charAt(0); char right = rightPattern.charAt(0); and took out the hardcoded brackets and replaced it with the arguments so it can be used with any char. Including as note to future readers. It passed all the tests.","body":"This fixed it! I put in char left = leftPattern.charAt(0); char right = rightPattern.charAt(0); and took out the hardcoded brackets and replaced it with the arguments so it can be used with any char. Including as note to future readers. It passed all the tests."}],"tags":[],"owner":{"account_id":20336489,"reputation":318,"user_id":14917047,"display_name":"Mislah"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678167754,"creation_date":1678167288,"answer_id":75658358,"question_id":75658162,"body_markdown":"You can do this by counting the number of each type of brackets in the string and iterate over the string by removing common number of pairs.\r\n\r\nThe algorithm:\r\n```\r\nstr = &quot;hello [ [ ] hello ] hello [ hello ] hello&quot;\r\n\r\nlcount = str.count(&#39;[&#39;)\r\nrcount = str.count(&#39;]&#39;)\r\n\r\nminimum = min(lcount, rcount) //Gives the number of pairs\r\n\r\nlcount = minimum //Number of left brackets to be removed\r\nrcount = minimum //Number of right brackets to be removed\r\n\r\nfor i in str:\r\n\tif (str[i] == &#39;[&#39; &amp;&amp; lcount != 0):\r\n\t\tremove str[i];\r\n\t\tlcount--;\r\n\telse if (str[i] == &#39;]&#39; &amp;&amp; rcount != 0):\r\n\t\tremove str[i];\r\n\t\trcount--;\r\n ```\r\n\r\nThe java implementation:\r\n```lang-java\r\nimport static java.lang.Math.min;\r\n\r\nclass Main{\r\n    public static void main(String[] args){\r\n        String str = &quot;] hello world ] ] [ HELLO ] WORLD ] ] ] hello world&quot;;\r\n        String newStr = &quot;&quot;;\r\n\r\n        int lcount = str.length() - str.replace(&quot;[&quot;, &quot;&quot;).length();\r\n        int rcount = str.length() - str.replace(&quot;]&quot;, &quot;&quot;).length();\r\n        \r\n        lcount = rcount = min(lcount, rcount);\r\n\r\n        for (int i = 0; i &lt; str.length(); i++) {\r\n            if (str.charAt(i) == &#39;[&#39; &amp;&amp; lcount != 0) {\r\n                lcount--;\r\n            }\r\n            else if (str.charAt(i) == &#39;]&#39; &amp;&amp; rcount != 0){\r\n                rcount--;\r\n            }\r\n            else{\r\n                newStr += str.charAt(i);\r\n            }\r\n        }\r\n\r\n        System.out.println(newStr);\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n`hello world ] ]  HELLO ] WORLD ] ] ] hello world`","title":"Remove pairs of nested brackets anywhere in a string in Java","body":"<p>You can do this by counting the number of each type of brackets in the string and iterate over the string by removing common number of pairs.</p>\n<p>The algorithm:</p>\n<pre><code>str = &quot;hello [ [ ] hello ] hello [ hello ] hello&quot;\n\nlcount = str.count('[')\nrcount = str.count(']')\n\nminimum = min(lcount, rcount) //Gives the number of pairs\n\nlcount = minimum //Number of left brackets to be removed\nrcount = minimum //Number of right brackets to be removed\n\nfor i in str:\n    if (str[i] == '[' &amp;&amp; lcount != 0):\n        remove str[i];\n        lcount--;\n    else if (str[i] == ']' &amp;&amp; rcount != 0):\n        remove str[i];\n        rcount--;\n</code></pre>\n<p>The java implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.lang.Math.min;\n\nclass Main{\n    public static void main(String[] args){\n        String str = &quot;] hello world ] ] [ HELLO ] WORLD ] ] ] hello world&quot;;\n        String newStr = &quot;&quot;;\n\n        int lcount = str.length() - str.replace(&quot;[&quot;, &quot;&quot;).length();\n        int rcount = str.length() - str.replace(&quot;]&quot;, &quot;&quot;).length();\n        \n        lcount = rcount = min(lcount, rcount);\n\n        for (int i = 0; i &lt; str.length(); i++) {\n            if (str.charAt(i) == '[' &amp;&amp; lcount != 0) {\n                lcount--;\n            }\n            else if (str.charAt(i) == ']' &amp;&amp; rcount != 0){\n                rcount--;\n            }\n            else{\n                newStr += str.charAt(i);\n            }\n        }\n\n        System.out.println(newStr);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<p><code>hello world ] ]  HELLO ] WORLD ] ] ] hello world</code></p>\n"}],"owner":{"account_id":25712903,"reputation":41,"user_id":19471125,"display_name":"Salome"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75658358,"answer_count":1,"score":1,"last_activity_date":1678171439,"creation_date":1678164813,"question_id":75658162,"body_markdown":"I&#39;m working on a school assignment and I can&#39;t manage to figure out. I&#39;ve tried several different approaches to this including searching from the left, inside to out, and this is outside to in. I searched for over an hour online and on S.O.\r\n\r\nI&#39;m very new to programming so perhaps I just don&#39;t know what to look for or maybe this is too advanced for me just yet. I feel like I am missing something in my logic itself. If anyone can explain the logic, I would appreciate the patience.\r\n\r\nNote: I have permission from my teacher to use Stack Overflow. If I&#39;m doing this wrong here, please correct me and teach me how to make better posts- thank you.\r\n\r\nThe GOAL is to remove pairs of brackets. For instance:\r\nThis:\r\n\r\n    hello [ [ ] hello ] hello [ hello ] hello hello\r\n\r\nShould result in this:\r\n\r\n    hello hello hello hello hello hello\r\n\r\nAnd This:\r\n\r\n    ] hello world ] ] [ HELLO ] WORLD ] ] ] hello world\r\n\r\nShould result in this:\r\n\r\n    hello world ] ] HELLO ] WORLD ] ] ] hello world\r\n\r\nThis is my code:\r\n\r\n```\r\n    public class PairRemoval {\r\n        public static void main(String[] args) {\r\n            String text = &quot;] hello world ] ] [ HELLO ] WORLD ] ] ] hello world&quot;;\r\n            String leftPattern = &quot;[&quot;;\r\n            String rightPattern = &quot;]&quot;;\r\n    \r\n            String sentence = pairRemoval(text, leftPattern, rightPattern);\r\n    \r\n            System.out.println(sentence);\r\n\r\n            // Expected:  hello world ] ] HELLO ] WORLD ] ] ] hello world (per assignment)\r\n            // Output:  ] hello world ] ] HELLO ] WORLD ] ] ] hello world\r\n\r\n        }\r\n        \r\n        public static String pairRemoval(String text, String leftPattern, String rightPattern) {\r\n    \r\n            int count = 0;\r\n            String sentence = &quot;&quot;;\r\n            int leftIndex = 0; // Initialize left index to search from the beginning of the string\r\n            int rightIndex = text.length() - 1; // Initialize right index to search from the end of the string\r\n        \r\n            // Loop until the left and right indexes meet or cross each other\r\n            while (leftIndex &lt;= rightIndex) {\r\n                char leftLetter = text.charAt(leftIndex);\r\n                char rightLetter = text.charAt(rightIndex);\r\n        \r\n                // If the left letter matches the left pattern\r\n                if (leftLetter == leftPattern.charAt(0)) {\r\n                    count++;\r\n                    leftIndex++;\r\n                    continue; // Skip to next iteration to keep searching from the left\r\n                }\r\n        \r\n                // If the right letter matches the right pattern\r\n                if (rightLetter == rightPattern.charAt(0)) {\r\n                    if (count &gt; 0) {\r\n                        count--;\r\n                        rightIndex--;\r\n                        continue; // Skip to next iteration to keep searching from the right\r\n                    }\r\n                }\r\n        \r\n                // If neither letter matches a pattern, append the left letter to the sentence\r\n                sentence = sentence + leftLetter;\r\n                leftIndex++;\r\n               \r\n            }\r\n        \r\n            // Return the final sentence with all pairs removed\r\n            return sentence;\r\n        }\r\n```\r\n\r\nEdit: Added example input output\r\n```\r\ntext = &#39;hello [ [ ] hello ] hello [ hello ] hello hello&#39;\r\nleft pattern = &#39;[&#39;\r\nright pattern = &#39;]&#39;\r\nExpected value was: &#39;hello hello hello hello hello hello&#39;\r\n\r\ntext = &#39;&gt; hello hello &gt; &gt; &lt; hello &gt; hello &gt; &gt; &gt; hello hello&#39;\r\nleft pattern = &#39;&lt;&#39;\r\nright pattern = &#39;&gt;&#39;\r\nExpected value was: &#39; hello hello &gt; &gt; hello &gt; hello &gt; &gt; &gt; hello hello&#39;\r\n\r\ntext = &#39;&lt; &lt; hello &gt; hello hello hello &gt; &lt; hello &lt; hello &lt; &gt; hello&#39;\r\nleft pattern = &#39;&lt;&#39;\r\nright pattern = &#39;&gt;&#39;\r\nExpected value was: &#39; hello hello hello hello hello &lt; hello &lt; hello&#39;\r\n\r\ntext = &#39;[ [ [ hello [ [ hello hello hello hello [ [ ] ] hello hello&#39;\r\nleft pattern = &#39;[&#39;\r\nright pattern = &#39;]&#39;\r\nExpected value was: &#39; [ hello [ [ hello hello hello hello [ [ hello hello&#39;\r\n\r\nExample 1: \r\ntext = { { hello } } { } hello hello } hello hello hello hello \r\nleftPattern =  {\r\nrightPattern = }\r\nexpected = hello     hello hello } hello hello hello hello\r\n\r\nExample 2: \r\ntext = hello ( hello hello hello ) hello ) ) ) hello\r\nleftPattern =  (\r\nrightPattern = )\r\nexpected =. hello  hello hello hello  hello ) ) ) hello\r\n\r\nExample 3: \r\ntext = hello hello } { hello { } hello } { { hello\r\nleftPattern =  {\r\nrightPattern = }\r\nexpected = hello hello   hello   hello   { hello\r\n```","title":"Remove pairs of nested brackets anywhere in a string in Java","body":"<p>I'm working on a school assignment and I can't manage to figure out. I've tried several different approaches to this including searching from the left, inside to out, and this is outside to in. I searched for over an hour online and on S.O.</p>\n<p>I'm very new to programming so perhaps I just don't know what to look for or maybe this is too advanced for me just yet. I feel like I am missing something in my logic itself. If anyone can explain the logic, I would appreciate the patience.</p>\n<p>Note: I have permission from my teacher to use Stack Overflow. If I'm doing this wrong here, please correct me and teach me how to make better posts- thank you.</p>\n<p>The GOAL is to remove pairs of brackets. For instance:\nThis:</p>\n<pre><code>hello [ [ ] hello ] hello [ hello ] hello hello\n</code></pre>\n<p>Should result in this:</p>\n<pre><code>hello hello hello hello hello hello\n</code></pre>\n<p>And This:</p>\n<pre><code>] hello world ] ] [ HELLO ] WORLD ] ] ] hello world\n</code></pre>\n<p>Should result in this:</p>\n<pre><code>hello world ] ] HELLO ] WORLD ] ] ] hello world\n</code></pre>\n<p>This is my code:</p>\n<pre><code>    public class PairRemoval {\n        public static void main(String[] args) {\n            String text = &quot;] hello world ] ] [ HELLO ] WORLD ] ] ] hello world&quot;;\n            String leftPattern = &quot;[&quot;;\n            String rightPattern = &quot;]&quot;;\n    \n            String sentence = pairRemoval(text, leftPattern, rightPattern);\n    \n            System.out.println(sentence);\n\n            // Expected:  hello world ] ] HELLO ] WORLD ] ] ] hello world (per assignment)\n            // Output:  ] hello world ] ] HELLO ] WORLD ] ] ] hello world\n\n        }\n        \n        public static String pairRemoval(String text, String leftPattern, String rightPattern) {\n    \n            int count = 0;\n            String sentence = &quot;&quot;;\n            int leftIndex = 0; // Initialize left index to search from the beginning of the string\n            int rightIndex = text.length() - 1; // Initialize right index to search from the end of the string\n        \n            // Loop until the left and right indexes meet or cross each other\n            while (leftIndex &lt;= rightIndex) {\n                char leftLetter = text.charAt(leftIndex);\n                char rightLetter = text.charAt(rightIndex);\n        \n                // If the left letter matches the left pattern\n                if (leftLetter == leftPattern.charAt(0)) {\n                    count++;\n                    leftIndex++;\n                    continue; // Skip to next iteration to keep searching from the left\n                }\n        \n                // If the right letter matches the right pattern\n                if (rightLetter == rightPattern.charAt(0)) {\n                    if (count &gt; 0) {\n                        count--;\n                        rightIndex--;\n                        continue; // Skip to next iteration to keep searching from the right\n                    }\n                }\n        \n                // If neither letter matches a pattern, append the left letter to the sentence\n                sentence = sentence + leftLetter;\n                leftIndex++;\n               \n            }\n        \n            // Return the final sentence with all pairs removed\n            return sentence;\n        }\n</code></pre>\n<p>Edit: Added example input output</p>\n<pre><code>text = 'hello [ [ ] hello ] hello [ hello ] hello hello'\nleft pattern = '['\nright pattern = ']'\nExpected value was: 'hello hello hello hello hello hello'\n\ntext = '&gt; hello hello &gt; &gt; &lt; hello &gt; hello &gt; &gt; &gt; hello hello'\nleft pattern = '&lt;'\nright pattern = '&gt;'\nExpected value was: ' hello hello &gt; &gt; hello &gt; hello &gt; &gt; &gt; hello hello'\n\ntext = '&lt; &lt; hello &gt; hello hello hello &gt; &lt; hello &lt; hello &lt; &gt; hello'\nleft pattern = '&lt;'\nright pattern = '&gt;'\nExpected value was: ' hello hello hello hello hello &lt; hello &lt; hello'\n\ntext = '[ [ [ hello [ [ hello hello hello hello [ [ ] ] hello hello'\nleft pattern = '['\nright pattern = ']'\nExpected value was: ' [ hello [ [ hello hello hello hello [ [ hello hello'\n\nExample 1: \ntext = { { hello } } { } hello hello } hello hello hello hello \nleftPattern =  {\nrightPattern = }\nexpected = hello     hello hello } hello hello hello hello\n\nExample 2: \ntext = hello ( hello hello hello ) hello ) ) ) hello\nleftPattern =  (\nrightPattern = )\nexpected =. hello  hello hello hello  hello ) ) ) hello\n\nExample 3: \ntext = hello hello } { hello { } hello } { { hello\nleftPattern =  {\nrightPattern = }\nexpected = hello hello   hello   hello   { hello\n</code></pre>\n"},{"tags":["java","generics","tree"],"comments":[{"owner":{"account_id":8667854,"reputation":11597,"user_id":6487675,"display_name":"dWinder"},"score":0,"creation_date":1532507026,"post_id":51513162,"comment_id":89996613,"body_markdown":"What do you mean by &#39;the next larger element&#39;? Do you seek for the max data in the tree? Highest data in the tree that bigger then n? Can you please elaborate so we can help you?","body":"What do you mean by &#39;the next larger element&#39;? Do you seek for the max data in the tree? Highest data in the tree that bigger then n? Can you please elaborate so we can help you?"},{"owner":{"account_id":14026692,"reputation":1,"user_id":10131551,"display_name":"Niharika Gurnani"},"score":0,"creation_date":1532518092,"post_id":51513162,"comment_id":90003922,"body_markdown":"Next larger element means value which is just greater than n.\nFor example, if a tree contains nodes with data values : 10,20,30,40,50 and, if n=18(say), then output should be 20.","body":"Next larger element means value which is just greater than n. For example, if a tree contains nodes with data values : 10,20,30,40,50 and, if n=18(say), then output should be 20."},{"owner":{"account_id":8667854,"reputation":11597,"user_id":6487675,"display_name":"dWinder"},"score":0,"creation_date":1540213174,"post_id":51513162,"comment_id":92769034,"body_markdown":"Did this answer helped you?","body":"Did this answer helped you?"}],"answers":[{"tags":[],"owner":{"account_id":8667854,"reputation":11597,"user_id":6487675,"display_name":"dWinder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574031849,"creation_date":1532518578,"answer_id":51517917,"question_id":51513162,"body_markdown":"You have two main errors in your code: \r\n\r\n1. `if(root.data &gt; n) return root;`\r\nConsider the following tree:\r\n\r\n          40\r\n         /  \\ \r\n        10   30\r\n\r\n    Now what happens if you run your function with n=15? The root is bigger than n, and therefore returns 40, but not 30 as the required output.\r\n\r\n2. `if(front.children.get(i).data &gt; n) return front.children.get(i);`\r\n\r\n    Consider the following example:\r\n\r\n          40\r\n         /  \\ \r\n        20   18\r\n\r\n    Again, run with n=15, and you will get 20 as the first child checked on the root. The function returns and does not continue to check other more suitable nodes.\r\n\r\nYour **simplest** way (surely not the shortest) to achieve that can use the following algorithm:\r\n\r\n 1. Traverse on all node (BFS or DFS) and export data to an array\r\n 2. Find the next bigger element of n\r\n 3. Traverse on the tree and find the node with that data\r\n\r\n","title":"Find and return the node with the next larger element in a generic tree","body":"<p>You have two main errors in your code: </p>\n\n<ol>\n<li><p><code>if(root.data &gt; n) return root;</code>\nConsider the following tree:</p>\n\n<pre><code>  40\n /  \\ \n10   30\n</code></pre>\n\n<p>Now what happens if you run your function with n=15? The root is bigger than n, and therefore returns 40, but not 30 as the required output.</p></li>\n<li><p><code>if(front.children.get(i).data &gt; n) return front.children.get(i);</code></p>\n\n<p>Consider the following example:</p>\n\n<pre><code>  40\n /  \\ \n20   18\n</code></pre>\n\n<p>Again, run with n=15, and you will get 20 as the first child checked on the root. The function returns and does not continue to check other more suitable nodes.</p></li>\n</ol>\n\n<p>Your <strong>simplest</strong> way (surely not the shortest) to achieve that can use the following algorithm:</p>\n\n<ol>\n<li>Traverse on all node (BFS or DFS) and export data to an array</li>\n<li>Find the next bigger element of n</li>\n<li>Traverse on the tree and find the node with that data</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17111615,"reputation":1,"user_id":12382256,"display_name":"kartikey khosla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574031565,"creation_date":1573894599,"answer_id":58889070,"question_id":51513162,"body_markdown":"Consider:\r\n\r\n    if(front.children.get(i).data &gt; n)\r\n\r\nBy this `if` statement the next any greater element will be returned.\r\n\r\nIt goes right with a case like:\r\n\r\n    21\r\n    10 3 20 30 40 2 40 50 0 0 0 0 \r\n\r\nbut a case like:\r\n\r\n    21\r\n    10 3 20 20 40 2 40 30 0 0 0 0 \r\n\r\nIt will return 40 while we need 30 as the answer.\r\n","title":"Find and return the node with the next larger element in a generic tree","body":"<p>Consider:</p>\n\n<pre><code>if(front.children.get(i).data &gt; n)\n</code></pre>\n\n<p>By this <code>if</code> statement the next any greater element will be returned.</p>\n\n<p>It goes right with a case like:</p>\n\n<pre><code>21\n10 3 20 30 40 2 40 50 0 0 0 0 \n</code></pre>\n\n<p>but a case like:</p>\n\n<pre><code>21\n10 3 20 20 40 2 40 30 0 0 0 0 \n</code></pre>\n\n<p>It will return 40 while we need 30 as the answer.</p>\n"},{"comments":[{"owner":{"account_id":27953974,"reputation":1,"user_id":21347181,"display_name":"Neffi Bathla"},"score":0,"creation_date":1678171470,"post_id":75658715,"comment_id":133476917,"body_markdown":"This is the best approach and it works 100 %","body":"This is the best approach and it works 100 %"}],"tags":[],"owner":{"account_id":27953974,"reputation":1,"user_id":21347181,"display_name":"Neffi Bathla"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678171436,"creation_date":1678171352,"answer_id":75658715,"question_id":51513162,"body_markdown":"    public static TreeNode&lt;Integer&gt; findNextLargerNode2(TreeNode&lt;Integer&gt; root, int n){\r\n    \t\tif(root==null) {return null;}\r\n    \t\tTreeNode&lt;Integer&gt; ans=null;\r\n    \t\tif(root.data&gt;n) {\r\n    \t\t\tans=root;\r\n    \t\t}\r\n    \t\tfor(TreeNode&lt;Integer&gt; child: root.children) {\r\n    \t\t\tTreeNode&lt;Integer&gt; childans=findNextLargerNode2(child,n);\r\n    \t\t\tif(childans!=null) {\r\n    \t\t\t\tif(ans==null || ans.data&gt;childans.data) {\r\n    \t\t\t\t\tans=childans;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn ans;\r\n    \t\r\n    \t}","title":"Find and return the node with the next larger element in a generic tree","body":"<pre><code>public static TreeNode&lt;Integer&gt; findNextLargerNode2(TreeNode&lt;Integer&gt; root, int n){\n        if(root==null) {return null;}\n        TreeNode&lt;Integer&gt; ans=null;\n        if(root.data&gt;n) {\n            ans=root;\n        }\n        for(TreeNode&lt;Integer&gt; child: root.children) {\n            TreeNode&lt;Integer&gt; childans=findNextLargerNode2(child,n);\n            if(childans!=null) {\n                if(ans==null || ans.data&gt;childans.data) {\n                    ans=childans;\n                }\n            }\n        }\n        return ans;\n    \n    }\n</code></pre>\n"}],"owner":{"account_id":14026692,"reputation":1,"user_id":10131551,"display_name":"Niharika Gurnani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2430,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1678171436,"creation_date":1532503705,"question_id":51513162,"body_markdown":"I am using a different approach. But only two test cases are successfully running. Here&#39;s my code:\r\n\r\n    public static TreeNode&lt;Integer&gt; findNextLargerNode(TreeNode&lt;Integer&gt; root, int n){\r\n        Queue&lt;TreeNode&lt;Integer&gt;&gt;pendingNodes = new LinkedList&lt;&gt;();\r\n        pendingNodes.add(root);\r\n        if(root == null)\r\n        {\r\n            return null;\r\n        }\r\n        if(root.data &gt; n)\r\n        {\r\n            return root;\r\n        }\r\n        while(pendingNodes.size()!=0)\r\n        {\r\n            TreeNode&lt;Integer&gt; front = pendingNodes.remove();\r\n            for(int i =0; i&lt;front.children.size(); i++)\r\n            {\r\n                pendingNodes.add(front.children.get(i));\r\n                if(front.children.get(i).data &gt; n)\r\n                {\r\n                    return front.children.get(i);\r\n                }\r\n             }\r\n         }\r\n         return null;\r\n     }\r\n\r\nWhere have I made errors?\r\n\r\n","title":"Find and return the node with the next larger element in a generic tree","body":"<p>I am using a different approach. But only two test cases are successfully running. Here's my code:</p>\n\n<pre><code>public static TreeNode&lt;Integer&gt; findNextLargerNode(TreeNode&lt;Integer&gt; root, int n){\n    Queue&lt;TreeNode&lt;Integer&gt;&gt;pendingNodes = new LinkedList&lt;&gt;();\n    pendingNodes.add(root);\n    if(root == null)\n    {\n        return null;\n    }\n    if(root.data &gt; n)\n    {\n        return root;\n    }\n    while(pendingNodes.size()!=0)\n    {\n        TreeNode&lt;Integer&gt; front = pendingNodes.remove();\n        for(int i =0; i&lt;front.children.size(); i++)\n        {\n            pendingNodes.add(front.children.get(i));\n            if(front.children.get(i).data &gt; n)\n            {\n                return front.children.get(i);\n            }\n         }\n     }\n     return null;\n }\n</code></pre>\n\n<p>Where have I made errors?</p>\n"},{"tags":["java","runtime-error","nosuchelementexception"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1678125525,"post_id":75653875,"comment_id":133469143,"body_markdown":"How many lines are there in file `stockNames.txt`? Are there less than 99 lines in the file? From the [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html#get()): _Throws: NoSuchElementException - if no value is present_ `String loadString = load.skip(i).findFirst().get();` ___findFirst___ is returning an empty `Optional`.","body":"How many lines are there in file <code>stockNames.txt</code>? Are there less than 99 lines in the file? From the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html#get()\" rel=\"nofollow noreferrer\">documentation</a>: <i>Throws: NoSuchElementException - if no value is present</i> <code>String loadString = load.skip(i).findFirst().get();</code> <b><i>findFirst</i></b> is returning an empty <code>Optional</code>."},{"owner":{"account_id":27877406,"reputation":1,"user_id":21286618,"display_name":"Kit"},"score":0,"creation_date":1678125823,"post_id":75653875,"comment_id":133469228,"body_markdown":"In this situation, it can vary up to 99 because you can add more lines","body":"In this situation, it can vary up to 99 because you can add more lines"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1678126017,"post_id":75653875,"comment_id":133469279,"body_markdown":"Let&#39;s say the file has 20 lines. In your `for` loop, once `i` is greater than 20, you will skip all the lines in the file, so `findFirst` will return an &quot;empty&quot; `Optional`. By the way, the documentation states that the `Stream` should be closed (if I remember correctly) - something that you are not doing.","body":"Let&#39;s say the file has 20 lines. In your <code>for</code> loop, once <code>i</code> is greater than 20, you will skip all the lines in the file, so <code>findFirst</code> will return an &quot;empty&quot; <code>Optional</code>. By the way, the documentation states that the <code>Stream</code> should be closed (if I remember correctly) - something that you are not doing."}],"answers":[{"comments":[{"owner":{"account_id":27877406,"reputation":1,"user_id":21286618,"display_name":"Kit"},"score":0,"creation_date":1678201858,"post_id":75658646,"comment_id":133485075,"body_markdown":"Thank you, I will try this method later.","body":"Thank you, I will try this method later."},{"owner":{"account_id":27877406,"reputation":1,"user_id":21286618,"display_name":"Kit"},"score":0,"creation_date":1678213602,"post_id":75658646,"comment_id":133488691,"body_markdown":"Is there a way to not have the main method in this, because my main method is a home screen.","body":"Is there a way to not have the main method in this, because my main method is a home screen."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1678249695,"post_id":75658646,"comment_id":133494960,"body_markdown":"@Kit the body of method `main` can be put in any method you like.","body":"@Kit the body of method <code>main</code> can be put in any method you like."},{"owner":{"account_id":27877406,"reputation":1,"user_id":21286618,"display_name":"Kit"},"score":0,"creation_date":1678325518,"post_id":75658646,"comment_id":133512409,"body_markdown":"Sorry, I am pretty new to java.","body":"Sorry, I am pretty new to java."}],"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678170554,"creation_date":1678170554,"answer_id":75658646,"question_id":75653875,"body_markdown":"You appear to be making this a lot more complicated than it needs to be.  \r\nHere is my *stocknames.txt* file:\r\n```none\r\nRIVN\r\nSNAP\r\nNVOS\r\nAMAM\r\nTRKA\r\nBBIO\r\nSAVE\r\nUNCY\r\nAAPL\r\nNTNX\r\nSOFI\r\nGLPH\r\nGBTC\r\n```\r\nEach line is the stock [symbol][1].  \r\nThe below code reads each line of file *stocknames.txt* and, for each line read, calls method `showName` which outputs the name associated with the given symbol. I believe that is what you are trying to do.\r\n```java\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.Scanner;\r\n\r\nimport org.jsoup.Connection;\r\nimport org.jsoup.Jsoup;\r\nimport org.jsoup.nodes.Document;\r\nimport org.jsoup.nodes.Element;\r\nimport org.jsoup.select.Elements;\r\n\r\npublic class Extractor {\r\n    private static final String TEMPLATE = &quot;http://finance.yahoo.com/quote/%s?p=%s&amp;.tsrc=fin-srch&quot;;\r\n\r\n    public static void showName(String name) throws IOException {\r\n        String url = String.format(TEMPLATE, name, name);\r\n        Connection conn = Jsoup.connect(url);\r\n        Document doc = conn.get(); // throws java.io.IOException\r\n        Elements contentA = doc.getElementsByClass(&quot;D(ib) Fz(18px)&quot;);\r\n        for (Element a : contentA) {\r\n            System.out.println(a.text());\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try (Scanner gatherStocks = new Scanner(new File(&quot;stocknames.txt&quot;))) {\r\n            while (gatherStocks.hasNextLine()) {\r\n                String name = gatherStocks.nextLine();\r\n                showName(name);\r\n            }\r\n        }\r\n        catch (IOException xIo) {\r\n            xIo.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nWhen I run the above code, I get the following output:\r\n```none\r\nRivian Automotive, Inc. (RIVN)\r\nSnap Inc. (SNAP)\r\nNovo Integrated Sciences, Inc. (NVOS)\r\nAmbrx Biopharma Inc. (AMAM)\r\nTroika Media Group, Inc. (TRKA)\r\nBridgeBio Pharma, Inc. (BBIO)\r\nSpirit Airlines, Inc. (SAVE)\r\nUnicycive Therapeutics, Inc. (UNCY)\r\nApple Inc. (AAPL)\r\nNutanix, Inc. (NTNX)\r\nSoFi Technologies, Inc. (SOFI)\r\nGrayscale Bitcoin Trust (BTC) (GBTC)\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Ticker_symbol","title":"Jsoup and for loop nosuchelementexception","body":"<p>You appear to be making this a lot more complicated than it needs to be.<br />\nHere is my <em>stocknames.txt</em> file:</p>\n<pre class=\"lang-none prettyprint-override\"><code>RIVN\nSNAP\nNVOS\nAMAM\nTRKA\nBBIO\nSAVE\nUNCY\nAAPL\nNTNX\nSOFI\nGLPH\nGBTC\n</code></pre>\n<p>Each line is the stock <a href=\"https://en.wikipedia.org/wiki/Ticker_symbol\" rel=\"nofollow noreferrer\">symbol</a>.<br />\nThe below code reads each line of file <em>stocknames.txt</em> and, for each line read, calls method <code>showName</code> which outputs the name associated with the given symbol. I believe that is what you are trying to do.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.io.IOException;\nimport java.util.Scanner;\n\nimport org.jsoup.Connection;\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.select.Elements;\n\npublic class Extractor {\n    private static final String TEMPLATE = &quot;http://finance.yahoo.com/quote/%s?p=%s&amp;.tsrc=fin-srch&quot;;\n\n    public static void showName(String name) throws IOException {\n        String url = String.format(TEMPLATE, name, name);\n        Connection conn = Jsoup.connect(url);\n        Document doc = conn.get(); // throws java.io.IOException\n        Elements contentA = doc.getElementsByClass(&quot;D(ib) Fz(18px)&quot;);\n        for (Element a : contentA) {\n            System.out.println(a.text());\n        }\n    }\n\n    public static void main(String[] args) {\n        try (Scanner gatherStocks = new Scanner(new File(&quot;stocknames.txt&quot;))) {\n            while (gatherStocks.hasNextLine()) {\n                String name = gatherStocks.nextLine();\n                showName(name);\n            }\n        }\n        catch (IOException xIo) {\n            xIo.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>When I run the above code, I get the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Rivian Automotive, Inc. (RIVN)\nSnap Inc. (SNAP)\nNovo Integrated Sciences, Inc. (NVOS)\nAmbrx Biopharma Inc. (AMAM)\nTroika Media Group, Inc. (TRKA)\nBridgeBio Pharma, Inc. (BBIO)\nSpirit Airlines, Inc. (SAVE)\nUnicycive Therapeutics, Inc. (UNCY)\nApple Inc. (AAPL)\nNutanix, Inc. (NTNX)\nSoFi Technologies, Inc. (SOFI)\nGrayscale Bitcoin Trust (BTC) (GBTC)\n</code></pre>\n"}],"owner":{"account_id":27877406,"reputation":1,"user_id":21286618,"display_name":"Kit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678170926,"creation_date":1678123091,"question_id":75653875,"body_markdown":"I am trying to gather data on Yahoo Finance by constantly changing URL string.  \r\nHere is my code to make more sense:\r\n```java\r\n    public static void gatherLoop() throws NoSuchElementException, IOException {\r\n        for (var i = 1; i &lt; 99; i++) {\r\n            BufferedReader gatherStocks = new BufferedReader(new FileReader(&quot;stockNames.txt&quot;));\r\n            Stream&lt;String&gt; load = Files.lines(Paths.get(&quot;stockNames.txt&quot;));\r\n            String loadString = load.skip(i).findFirst().get();\r\n            String glURL = &quot;http://finance.yahoo.com/quote/&quot;+loadString+&quot;?p=&quot;+loadString+&quot;&amp;.tsrc=fin-srch&quot;;\r\n\r\n            if (glURL.equals(&quot;http://finance.yahoo.com/quote/?p=&amp;.tsrc=fin-srch&quot;)) {\r\n                gatherStocks.close();\r\n                System.out.println(&quot;Loaded Stocks&quot;);\r\n                System.out.println(&quot;If Their Is No Stocks Popping Up, You Have No Saved Stocks&quot;);\r\n            }\r\n            else {\r\n                Document doc = Jsoup.connect(glURL).get();\r\n                Elements contentA = doc.getElementsByClass(&quot;D(ib) Fz(18px)&quot;);\r\n                System.out.println(&quot;|------------------------------------------------|&quot;);\r\n                for(Element a : contentA) {\r\n                    System.out.println(&quot;| &quot; + i + &quot;. Name: &quot; + a.text());\r\n                    gatherStocks.readLine();\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\nHowever when I run the code I get a runtime error in the compiler:\r\n```none\r\nException in thread &quot;main&quot; java.util.NoSuchElementException: No value present\r\n        at java.base/java.util.Optional.get(Optional.java:143)\r\n        at StockAnalysis.saves.gatherLoop(saves.java:32)\r\n        at StockAnalysis.saves.gatherSavedStocks(saves.java:25)\r\n        at StockAnalysis.Home.main(Home.java:27)\r\n```\r\nThe first thing I tried was just doing `i++` and running the `void` again but that would reset `i` back to zero. Then I tried just reading `loadstring` string.","title":"Jsoup and for loop nosuchelementexception","body":"<p>I am trying to gather data on Yahoo Finance by constantly changing URL string.<br />\nHere is my code to make more sense:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void gatherLoop() throws NoSuchElementException, IOException {\n        for (var i = 1; i &lt; 99; i++) {\n            BufferedReader gatherStocks = new BufferedReader(new FileReader(&quot;stockNames.txt&quot;));\n            Stream&lt;String&gt; load = Files.lines(Paths.get(&quot;stockNames.txt&quot;));\n            String loadString = load.skip(i).findFirst().get();\n            String glURL = &quot;http://finance.yahoo.com/quote/&quot;+loadString+&quot;?p=&quot;+loadString+&quot;&amp;.tsrc=fin-srch&quot;;\n\n            if (glURL.equals(&quot;http://finance.yahoo.com/quote/?p=&amp;.tsrc=fin-srch&quot;)) {\n                gatherStocks.close();\n                System.out.println(&quot;Loaded Stocks&quot;);\n                System.out.println(&quot;If Their Is No Stocks Popping Up, You Have No Saved Stocks&quot;);\n            }\n            else {\n                Document doc = Jsoup.connect(glURL).get();\n                Elements contentA = doc.getElementsByClass(&quot;D(ib) Fz(18px)&quot;);\n                System.out.println(&quot;|------------------------------------------------|&quot;);\n                for(Element a : contentA) {\n                    System.out.println(&quot;| &quot; + i + &quot;. Name: &quot; + a.text());\n                    gatherStocks.readLine();\n                }\n            }\n        }\n    }\n</code></pre>\n<p>However when I run the code I get a runtime error in the compiler:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.util.NoSuchElementException: No value present\n        at java.base/java.util.Optional.get(Optional.java:143)\n        at StockAnalysis.saves.gatherLoop(saves.java:32)\n        at StockAnalysis.saves.gatherSavedStocks(saves.java:25)\n        at StockAnalysis.Home.main(Home.java:27)\n</code></pre>\n<p>The first thing I tried was just doing <code>i++</code> and running the <code>void</code> again but that would reset <code>i</code> back to zero. Then I tried just reading <code>loadstring</code> string.</p>\n"},{"tags":["java","maven","javaparser"],"answers":[{"tags":[],"owner":{"account_id":9092458,"reputation":41,"user_id":6767698,"accept_rate":0,"display_name":"Rohit"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678170904,"creation_date":1678170904,"answer_id":75658674,"question_id":75553216,"body_markdown":"So looks like it is not possible to achieve something like this directly in Java parser.\r\n\r\nWhat I ended up doing is to use **org.apache.maven.model.io.xpp3.MavenXpp3Reader** to parse my pom.xml file and get the list of dependencies/managed dependencies.\r\nThen I used that list to generate the path of the jar&#39;s (using the syntax **&lt;user.home&gt;/.m2/repository/\\&lt;group-id&gt;/\\&lt;artifact-id&gt;/\\&lt;version&gt;/\\&lt;artifact-id&gt;-\\&lt;version&gt;-\\&lt;classifier&gt;.jar**).\r\n\r\nThis jar file path was then passed to JarTypeSolver.","title":"How to add maven type solver in JavaParser","body":"<p>So looks like it is not possible to achieve something like this directly in Java parser.</p>\n<p>What I ended up doing is to use <strong>org.apache.maven.model.io.xpp3.MavenXpp3Reader</strong> to parse my pom.xml file and get the list of dependencies/managed dependencies.\nThen I used that list to generate the path of the jar's (using the syntax <strong>&lt;user.home&gt;/.m2/repository/&lt;group-id&gt;/&lt;artifact-id&gt;/&lt;version&gt;/&lt;artifact-id&gt;-&lt;version&gt;-&lt;classifier&gt;.jar</strong>).</p>\n<p>This jar file path was then passed to JarTypeSolver.</p>\n"}],"owner":{"account_id":9092458,"reputation":41,"user_id":6767698,"accept_rate":0,"display_name":"Rohit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75658674,"answer_count":1,"score":0,"last_activity_date":1678170904,"creation_date":1677219782,"question_id":75553216,"body_markdown":"I have an AEM maven project with dependencies being injected by maven.\r\nI am using the Java Parser library to do some analysis of the code.\r\nTill now, we were manually injecting the typesolvers using the paths of the jars in the m2 repository like below\r\n\r\n        List&lt;TypeSolver&gt; typeSolvers = new ArrayList&lt;TypeSolver&gt;();\r\n\t\ttypeSolvers.add(new ReflectionTypeSolver());\r\n\t\ttypeSolvers.add(new JavaParserTypeSolver(new File(projectPath + &quot;/src/main/java&quot;)));\r\n\t\tfor (String str : dependencies) {\r\n\t\t\ttypeSolvers.add(JarTypeSolver.getJarTypeSolver(str));\r\n\t\t}\r\n\t\tTypeSolver[] tsArray = new TypeSolver[typeSolvers.size()];\r\n\t\tfor (int i = 0; i &lt; typeSolvers.size(); i++) {\r\n\t\t\ttsArray[i] = typeSolvers.get(i);\r\n\t\t}\r\n\t\ttypeSolver = new CombinedTypeSolver(tsArray);\r\n\r\nWe were passing it the list of jar paths like below:\r\n\r\n        List&lt;String&gt; dependencies = new ArrayList&lt;&gt;();\r\n\t\tdependencies.add(&quot;C:/Users/&quot;+Utility.USER_NAME+&quot;/.m2/repository/com/adobe/aem/uber-jar/6.2.0/uber-jar-6.2.0-apis.jar&quot;);\r\n\r\nNow, I would like the typesolver to automatically resolve the dependency without adding the paths manually.\r\nIs there any &#39;Maven typesolver&#39; like thing in Java which can help with the same.","title":"How to add maven type solver in JavaParser","body":"<p>I have an AEM maven project with dependencies being injected by maven.\nI am using the Java Parser library to do some analysis of the code.\nTill now, we were manually injecting the typesolvers using the paths of the jars in the m2 repository like below</p>\n<pre><code>    List&lt;TypeSolver&gt; typeSolvers = new ArrayList&lt;TypeSolver&gt;();\n    typeSolvers.add(new ReflectionTypeSolver());\n    typeSolvers.add(new JavaParserTypeSolver(new File(projectPath + &quot;/src/main/java&quot;)));\n    for (String str : dependencies) {\n        typeSolvers.add(JarTypeSolver.getJarTypeSolver(str));\n    }\n    TypeSolver[] tsArray = new TypeSolver[typeSolvers.size()];\n    for (int i = 0; i &lt; typeSolvers.size(); i++) {\n        tsArray[i] = typeSolvers.get(i);\n    }\n    typeSolver = new CombinedTypeSolver(tsArray);\n</code></pre>\n<p>We were passing it the list of jar paths like below:</p>\n<pre><code>    List&lt;String&gt; dependencies = new ArrayList&lt;&gt;();\n    dependencies.add(&quot;C:/Users/&quot;+Utility.USER_NAME+&quot;/.m2/repository/com/adobe/aem/uber-jar/6.2.0/uber-jar-6.2.0-apis.jar&quot;);\n</code></pre>\n<p>Now, I would like the typesolver to automatically resolve the dependency without adding the paths manually.\nIs there any 'Maven typesolver' like thing in Java which can help with the same.</p>\n"},{"tags":["java","graalvm","graalvm-native-image"],"answers":[{"tags":[],"owner":{"account_id":2061396,"reputation":306,"user_id":1837841,"display_name":"user1837841"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678170872,"creation_date":1678168043,"answer_id":75658423,"question_id":75657785,"body_markdown":"&lt;strike&gt;The error occurs with the current release version of GraalVM (22.3), but is resolved in the current development version (23.0.0).\r\n\r\nClosing as answered.&lt;/strike&gt;\r\n\r\nThe version compiled by the dev build can run, but only from the target directory.\r\n\r\nShould really have checked that sooner.","title":"Cannot access internal (polyglot) libraries from Graal native-image binary","body":"<p><strike>The error occurs with the current release version of GraalVM (22.3), but is resolved in the current development version (23.0.0).</p>\n<p>Closing as answered.</strike></p>\n<p>The version compiled by the dev build can run, but only from the target directory.</p>\n<p>Should really have checked that sooner.</p>\n"}],"owner":{"account_id":2061396,"reputation":306,"user_id":1837841,"display_name":"user1837841"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678170872,"creation_date":1678159493,"question_id":75657785,"body_markdown":"I&#39;ve created a simple &quot;hello world&quot; application to introduce myself to Graal and its polyglot functionality (currently linux only).\r\n\r\nhttps://github.com/BurntMonkey/hello-graal/\r\n\r\nTo be honest, it&#39;s a bit hacky - but it&#39;s relatively clean nonetheless.\r\n\r\nI&#39;m compiling the c code to a shared object (.so) and placing it in the resources directory.\r\n\r\nI&#39;ve installed the LLVM toolchain as well as native-image with Graal&#39;s gu command.\r\n\r\nWith $JAVA_HOME pointing to that Graal instance, the jar works as expected.\r\n\r\nI compiled that to a native image with the following command:\r\n\r\n    $GRAAL_HOME/bin/native-image -H:IncludeResources=&quot;lib/.+&quot; --language:llvm -jar hellograal-1.0.jar\r\n\r\nCompilation completes (takes a long time, but that&#39;s expected) but execution fails with the following error:\r\n\r\n    Exception in thread &quot;main&quot; Cannot load &quot;libsulong-native.so&quot;. Internal library path not set\r\n         at org.graalvm.sdk/org.graalvm.polyglot.Context.eval(Context.java:399)\r\n         at NativeApp.main(NativeApp.java:14)\r\n\r\nI&#39;ve spent some time trying to figure out how to define the internal library path, to no avail.\r\n\r\nAny help would be appreciated.","title":"Cannot access internal (polyglot) libraries from Graal native-image binary","body":"<p>I've created a simple &quot;hello world&quot; application to introduce myself to Graal and its polyglot functionality (currently linux only).</p>\n<p><a href=\"https://github.com/BurntMonkey/hello-graal/\" rel=\"nofollow noreferrer\">https://github.com/BurntMonkey/hello-graal/</a></p>\n<p>To be honest, it's a bit hacky - but it's relatively clean nonetheless.</p>\n<p>I'm compiling the c code to a shared object (.so) and placing it in the resources directory.</p>\n<p>I've installed the LLVM toolchain as well as native-image with Graal's gu command.</p>\n<p>With $JAVA_HOME pointing to that Graal instance, the jar works as expected.</p>\n<p>I compiled that to a native image with the following command:</p>\n<pre><code>$GRAAL_HOME/bin/native-image -H:IncludeResources=&quot;lib/.+&quot; --language:llvm -jar hellograal-1.0.jar\n</code></pre>\n<p>Compilation completes (takes a long time, but that's expected) but execution fails with the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; Cannot load &quot;libsulong-native.so&quot;. Internal library path not set\n     at org.graalvm.sdk/org.graalvm.polyglot.Context.eval(Context.java:399)\n     at NativeApp.main(NativeApp.java:14)\n</code></pre>\n<p>I've spent some time trying to figure out how to define the internal library path, to no avail.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","android","firebase"],"answers":[{"comments":[{"owner":{"account_id":27552120,"reputation":3,"user_id":21026982,"display_name":"Θεοφανης Γιαννακοπουλος"},"score":0,"creation_date":1678136885,"post_id":75655398,"comment_id":133471992,"body_markdown":"i tried this solution but when i add android.useAndroidX=true\nandroid.enableJetifier=true I get a lot of erros i my MainActivity. When i run this is what i get 7 issues were found when checking AAR metadata:\n\n  1.  Dependency &#39;androidx.appcompat:appcompat-resources:1.6.1&#39; requires libraries and applications that\n      depend on it to compile against version 33 or later of the\n      Android APIs   2.  Dependency &#39;androidx.appcompat:appcompat:1.6.1&#39; requires libraries and applications that\n      depend on it to compile against version 33 or later of the\n      Android APIs. ....","body":"i tried this solution but when i add android.useAndroidX=true android.enableJetifier=true I get a lot of erros i my MainActivity. When i run this is what i get 7 issues were found when checking AAR metadata:    1.  Dependency &#39;androidx.appcompat:appcompat-resources:1.6.1&#39; requires libraries and applications that       depend on it to compile against version 33 or later of the       Android APIs   2.  Dependency &#39;androidx.appcompat:appcompat:1.6.1&#39; requires libraries and applications that       depend on it to compile against version 33 or later of the       Android APIs. ...."},{"owner":{"account_id":27552120,"reputation":3,"user_id":21026982,"display_name":"Θεοφανης Γιαννακοπουλος"},"score":0,"creation_date":1678137059,"post_id":75655398,"comment_id":133472031,"body_markdown":"Does the Youtuber use previous technology than i do and i get this problems?","body":"Does the Youtuber use previous technology than i do and i get this problems?"},{"owner":{"account_id":5416935,"reputation":482,"user_id":4311839,"display_name":"Husseinfo"},"score":0,"creation_date":1678138664,"post_id":75655398,"comment_id":133472357,"body_markdown":"Yes, you need to set SDK version to 33. Errors in MainActivity need to be resolved as mentioned in point 3.","body":"Yes, you need to set SDK version to 33. Errors in MainActivity need to be resolved as mentioned in point 3."}],"tags":[],"owner":{"account_id":5416935,"reputation":482,"user_id":4311839,"display_name":"Husseinfo"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678133392,"creation_date":1678133392,"answer_id":75655398,"question_id":75655221,"body_markdown":"You are using support libraries that are not compatible with **AndroidX**, like: `&#39;com.android.support:appcompat-v7:28.0.0&#39;`.\r\n\r\nTo migrate your project, you need to:\r\n\r\n 1. Append this to `gradle.properties` to enable AndroidX migration:\r\n```\r\nandroid.useAndroidX=true\r\nandroid.enableJetifier=true\r\n``` \r\n\r\n 2. Replace legacy support libraries with AndroidX ones, for ex:\r\n```\r\nimplementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n```\r\nWill be replaced with:\r\n```java\r\nimplementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n```\r\n\r\n 3. Replace all legacy support classes references with AndroidX ones, for ex:\r\n```\r\nimport android.support.v7.app.AppCompatActivity;\r\n```\r\nWill be replaced with:\r\n```java\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n```","title":"Error AndroidX dependencies when i use Firebase","body":"<p>You are using support libraries that are not compatible with <strong>AndroidX</strong>, like: <code>'com.android.support:appcompat-v7:28.0.0'</code>.</p>\n<p>To migrate your project, you need to:</p>\n<ol>\n<li>Append this to <code>gradle.properties</code> to enable AndroidX migration:</li>\n</ol>\n<pre><code>android.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n<ol start=\"2\">\n<li>Replace legacy support libraries with AndroidX ones, for ex:</li>\n</ol>\n<pre><code>implementation 'com.android.support:appcompat-v7:28.0.0'\n</code></pre>\n<p>Will be replaced with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>implementation 'androidx.appcompat:appcompat:1.6.1'\n</code></pre>\n<ol start=\"3\">\n<li>Replace all legacy support classes references with AndroidX ones, for ex:</li>\n</ol>\n<pre><code>import android.support.v7.app.AppCompatActivity;\n</code></pre>\n<p>Will be replaced with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import androidx.appcompat.app.AppCompatActivity;\n</code></pre>\n"}],"owner":{"account_id":27552120,"reputation":3,"user_id":21026982,"display_name":"Θεοφανης Γιαννακοπουλος"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678170672,"creation_date":1678132114,"question_id":75655221,"body_markdown":"I am following I youtube tutorial to create an android app at android studio. I am going fine but when I change my build.gradle files I get this error:\r\n\r\n&gt; &quot;Caused by: com.android.builder.errors.EvalIssueException:\r\n&gt; Configuration :app:debugRuntimeClasspath contains AndroidX\r\n&gt; dependencies, but the android.useAndroidX property is not enabled,\r\n&gt; which may cause runtime issues. &quot;\r\n\r\nHere my github for the project :https://github.com/fanhsg-lab/Duolingo.git\r\n\r\nThe last change is what cause the error.\r\n\r\nAnd I cant fix it by adding:\r\n\r\n    android.useAndroidX=true\r\n    android.enableJetifier=true\r\n\r\nBecause this creates more errors in my MainActivity cause I use Fragments.","title":"Error AndroidX dependencies when i use Firebase","body":"<p>I am following I youtube tutorial to create an android app at android studio. I am going fine but when I change my build.gradle files I get this error:</p>\n<blockquote>\n<p>&quot;Caused by: com.android.builder.errors.EvalIssueException:\nConfiguration :app:debugRuntimeClasspath contains AndroidX\ndependencies, but the android.useAndroidX property is not enabled,\nwhich may cause runtime issues. &quot;</p>\n</blockquote>\n<p>Here my github for the project :<a href=\"https://github.com/fanhsg-lab/Duolingo.git\" rel=\"nofollow noreferrer\">https://github.com/fanhsg-lab/Duolingo.git</a></p>\n<p>The last change is what cause the error.</p>\n<p>And I cant fix it by adding:</p>\n<pre><code>android.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n<p>Because this creates more errors in my MainActivity cause I use Fragments.</p>\n"},{"tags":["java","dictionary","http","arcgis","mapview"],"owner":{"account_id":27952217,"reputation":11,"user_id":21345780,"display_name":"MrDoctor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678170567,"creation_date":1678150017,"question_id":75657117,"body_markdown":"I&#39;m creating an android app, and I just want to load a map from my arcGIS online.\r\n\r\nHere&#39;s the MainActivity class:\r\n```java\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private MapView mMapView;\r\n    private ArcGISMap wenceMap;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        // Get a reference to the MapView in your layout file\r\n        mMapView = findViewById(R.id.mapView);\r\n        wenceMap = new ArcGISMap(Basemap.Type.OPEN_STREET_MAP,0.47867,37.803972, 7 );\r\n        mMapView.setMap(wenceMap);\r\n    }\r\n\r\n    @Override\r\n    protected void onPause()\r\n    {\r\n        mMapView.pause();\r\n        super.onPause();\r\n    }\r\n\r\n    @Override\r\n    protected void onResume()\r\n    {\r\n        super.onResume();\r\n        mMapView.resume();\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy()\r\n    {\r\n        super.onDestroy();\r\n        mMapView.dispose();\r\n    }\r\n}\r\n```\r\n\r\nWhen I start the app, the MainActivity runs, the map starts to load, then it crashes:\r\n```\r\n2023-03-06 16:28:43.751 5916-5950/com.example.connectdb A/ample.connectd: runtime.cc:663] JNI DETECTED ERROR IN APPLICATION: JNI NewLocalRef called with pending exception java.lang.NoClassDefFoundError: com.esri.arcgisruntime.internal.io.handler.request.r\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.requestable.a$b.a(boolean) (SourceFile:42)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.requestable.a.a(com.esri.arcgisruntime.internal.jni.CoreRequest, com.esri.arcgisruntime.io.RemoteResource) (SourceFile:6)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.ServiceImageTiledLayer.onRequestRequired(com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:1)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer.a(com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:5)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer.$r8$lambda$PYL96yarVXNzWqZ_E_istxaJo94(com.esri.arcgisruntime.layers.Layer, com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:-1)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer$$ExternalSyntheticLambda0.a(com.esri.arcgisruntime.internal.jni.CoreRequest) (D8$$SyntheticClass:-1)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.jni.CoreLayer.onRequestRequired(long) (SourceFile:5)\r\n    runtime.cc:663] Caused by: java.lang.NoClassDefFoundError: Failed resolution of: Lorg/apache/hc/core5/http/message/BasicNameValuePair;\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.io.handler.request.c.&lt;clinit&gt;() (SourceFile:1)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.requestable.a$b.a(boolean) (SourceFile:42)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.requestable.a.a(com.esri.arcgisruntime.internal.jni.CoreRequest, com.esri.arcgisruntime.io.RemoteResource) (SourceFile:6)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.ServiceImageTiledLayer.onRequestRequired(com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:1)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer.a(com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:5)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer.$r8$lambda$PYL96yarVXNzWqZ_E_istxaJo94(com.esri.arcgisruntime.layers.Layer, com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:-1)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer$$ExternalSyntheticLambda0.a(com.esri.arcgisruntime.internal.jni.CoreRequest) (D8$$SyntheticClass:-1)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.jni.CoreLayer.onRequestRequired(long) (SourceFile:5)\r\n    runtime.cc:663] Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;org.apache.hc.core5.http.message.BasicNameValuePair&quot; on path: DexPathList[[dex file &quot;/data/data/com.example.connectdb/code_cache/.overlay/base.apk/classes3.dex&quot;, zip file &quot;/data/app/~~xFM4OE_RLEEB6OQ3KBuvcw==/com.example.connectdb-XpS3GPmm3IYAnKjd-2utlw==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~xFM4OE_RLEEB6OQ3KBuvcw==/com.example.connectdb-XpS3GPmm3IYAnKjd-2utlw==/lib/x86, /data/app/~~xFM4OE_RLEEB6OQ3KBuvcw==/com.example.connectdb-XpS3GPmm3IYAnKjd-2utlw==/base.apk!/lib/x86, /system/lib, /system_ext/lib]]\r\n    runtime.cc:663]   at java.lang.Class dalvik.system.BaseDexClassLoader.findClass(java.lang.String) (BaseDexClassLoader.java:207)\r\n    runtime.cc:663]   at java.lang.Class java.lang.ClassLoader.loadClass(java.lang.String, boolean) (ClassLoader.java:379)\r\n    runtime.cc:663]   at java.lang.Class java.lang.ClassLoader.loadClass(java.lang.String) (ClassLoader.java:312)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.io.handler.request.c.&lt;clinit&gt;() (SourceFile:1)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.requestable.a$b.a(boolean) (SourceFile:42)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.requestable.a.a(com.esri.arcgisruntime.internal.jni.CoreRequest, com.esri.arcgisruntime.io.RemoteResource) (SourceFile:6)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.ServiceImageTiledLayer.onRequestRequired(com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:1)\r\n2023-03-06 16:28:43.751 5916-5950/com.example.connectdb A/ample.connectd: runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer.a(com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:5)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer.$r8$lambda$PYL96yarVXNzWqZ_E_istxaJo94(com.esri.arcgisruntime.layers.Layer, com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:-1)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer$$ExternalSyntheticLambda0.a(com.esri.arcgisruntime.internal.jni.CoreRequest) (D8$$SyntheticClass:-1)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.jni.CoreLayer.onRequestRequired(long) (SourceFile:5)\r\n    runtime.cc:663] \r\n    runtime.cc:663]     in call to NewLocalRef\r\n2023-03-06 16:28:43.751 5916-5950/com.example.connectdb A/libc: Fatal signal 6 (SIGABRT), code -1 (SI_QUEUE) in tid 5950 (RTC thread), pid 5916 (ample.connectdb)\r\n```\r\n\r\nI&#39;ve asked around, the answer I&#39;m getting is:  \r\n&gt; It seems that there is a problem with the ArcGIS Runtime SDK for Android. The error message suggests that there is a missing class, specifically org.apache.hc.core5.http.message.BasicNameValuePair. The NoClassDefFoundError exception indicates that the class was present during compilation but is missing during runtime.\r\n\r\nI downloaded the arcgis java SDK for android, implementing it in my gradle build as such:  \r\n```\r\nimplementation files(&#39;libs/arcgis-runtime-sdk-java-200.0.0/libs/arcgis-android-100.15.1.aar&#39;)\r\n```\r\n\r\nI&#39;ve tried:  \r\n```\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;androidx.navigation:navigation-fragment:2.5.3&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui:2.5.3&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    implementation &#39;org.apache.httpcomponents:httpcore:4.4.14&#39;\r\n    //implementation &quot;com.esri.arcgisruntime:arcgis-java:100.15.1&quot;\r\n    runtimeOnly &quot;org.slf4j:slf4j-nop:1.7.32&quot;\r\n    implementation files(&#39;libs/volley-1.2.1.aar&#39;)\r\n```\r\n\r\nThe &#39;com.esri.arcgisrunetime&#39; doesnt work, I had to downloaded it manually.","title":"Android app crashes while loading an arcGIS map","body":"<p>I'm creating an android app, and I just want to load a map from my arcGIS online.</p>\n<p>Here's the MainActivity class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity {\n\n    private MapView mMapView;\n    private ArcGISMap wenceMap;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Get a reference to the MapView in your layout file\n        mMapView = findViewById(R.id.mapView);\n        wenceMap = new ArcGISMap(Basemap.Type.OPEN_STREET_MAP,0.47867,37.803972, 7 );\n        mMapView.setMap(wenceMap);\n    }\n\n    @Override\n    protected void onPause()\n    {\n        mMapView.pause();\n        super.onPause();\n    }\n\n    @Override\n    protected void onResume()\n    {\n        super.onResume();\n        mMapView.resume();\n    }\n\n    @Override\n    protected void onDestroy()\n    {\n        super.onDestroy();\n        mMapView.dispose();\n    }\n}\n</code></pre>\n<p>When I start the app, the MainActivity runs, the map starts to load, then it crashes:</p>\n<pre><code>2023-03-06 16:28:43.751 5916-5950/com.example.connectdb A/ample.connectd: runtime.cc:663] JNI DETECTED ERROR IN APPLICATION: JNI NewLocalRef called with pending exception java.lang.NoClassDefFoundError: com.esri.arcgisruntime.internal.io.handler.request.r\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.requestable.a$b.a(boolean) (SourceFile:42)\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.requestable.a.a(com.esri.arcgisruntime.internal.jni.CoreRequest, com.esri.arcgisruntime.io.RemoteResource) (SourceFile:6)\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.ServiceImageTiledLayer.onRequestRequired(com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:1)\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer.a(com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:5)\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer.$r8$lambda$PYL96yarVXNzWqZ_E_istxaJo94(com.esri.arcgisruntime.layers.Layer, com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:-1)\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer$$ExternalSyntheticLambda0.a(com.esri.arcgisruntime.internal.jni.CoreRequest) (D8$$SyntheticClass:-1)\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.jni.CoreLayer.onRequestRequired(long) (SourceFile:5)\n    runtime.cc:663] Caused by: java.lang.NoClassDefFoundError: Failed resolution of: Lorg/apache/hc/core5/http/message/BasicNameValuePair;\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.io.handler.request.c.&lt;clinit&gt;() (SourceFile:1)\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.requestable.a$b.a(boolean) (SourceFile:42)\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.requestable.a.a(com.esri.arcgisruntime.internal.jni.CoreRequest, com.esri.arcgisruntime.io.RemoteResource) (SourceFile:6)\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.ServiceImageTiledLayer.onRequestRequired(com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:1)\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer.a(com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:5)\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer.$r8$lambda$PYL96yarVXNzWqZ_E_istxaJo94(com.esri.arcgisruntime.layers.Layer, com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:-1)\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer$$ExternalSyntheticLambda0.a(com.esri.arcgisruntime.internal.jni.CoreRequest) (D8$$SyntheticClass:-1)\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.jni.CoreLayer.onRequestRequired(long) (SourceFile:5)\n    runtime.cc:663] Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;org.apache.hc.core5.http.message.BasicNameValuePair&quot; on path: DexPathList[[dex file &quot;/data/data/com.example.connectdb/code_cache/.overlay/base.apk/classes3.dex&quot;, zip file &quot;/data/app/~~xFM4OE_RLEEB6OQ3KBuvcw==/com.example.connectdb-XpS3GPmm3IYAnKjd-2utlw==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~xFM4OE_RLEEB6OQ3KBuvcw==/com.example.connectdb-XpS3GPmm3IYAnKjd-2utlw==/lib/x86, /data/app/~~xFM4OE_RLEEB6OQ3KBuvcw==/com.example.connectdb-XpS3GPmm3IYAnKjd-2utlw==/base.apk!/lib/x86, /system/lib, /system_ext/lib]]\n    runtime.cc:663]   at java.lang.Class dalvik.system.BaseDexClassLoader.findClass(java.lang.String) (BaseDexClassLoader.java:207)\n    runtime.cc:663]   at java.lang.Class java.lang.ClassLoader.loadClass(java.lang.String, boolean) (ClassLoader.java:379)\n    runtime.cc:663]   at java.lang.Class java.lang.ClassLoader.loadClass(java.lang.String) (ClassLoader.java:312)\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.io.handler.request.c.&lt;clinit&gt;() (SourceFile:1)\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.requestable.a$b.a(boolean) (SourceFile:42)\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.requestable.a.a(com.esri.arcgisruntime.internal.jni.CoreRequest, com.esri.arcgisruntime.io.RemoteResource) (SourceFile:6)\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.ServiceImageTiledLayer.onRequestRequired(com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:1)\n2023-03-06 16:28:43.751 5916-5950/com.example.connectdb A/ample.connectd: runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer.a(com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:5)\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer.$r8$lambda$PYL96yarVXNzWqZ_E_istxaJo94(com.esri.arcgisruntime.layers.Layer, com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:-1)\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer$$ExternalSyntheticLambda0.a(com.esri.arcgisruntime.internal.jni.CoreRequest) (D8$$SyntheticClass:-1)\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.jni.CoreLayer.onRequestRequired(long) (SourceFile:5)\n    runtime.cc:663] \n    runtime.cc:663]     in call to NewLocalRef\n2023-03-06 16:28:43.751 5916-5950/com.example.connectdb A/libc: Fatal signal 6 (SIGABRT), code -1 (SI_QUEUE) in tid 5950 (RTC thread), pid 5916 (ample.connectdb)\n</code></pre>\n<p>I've asked around, the answer I'm getting is:</p>\n<blockquote>\n<p>It seems that there is a problem with the ArcGIS Runtime SDK for Android. The error message suggests that there is a missing class, specifically org.apache.hc.core5.http.message.BasicNameValuePair. The NoClassDefFoundError exception indicates that the class was present during compilation but is missing during runtime.</p>\n</blockquote>\n<p>I downloaded the arcgis java SDK for android, implementing it in my gradle build as such:</p>\n<pre><code>implementation files('libs/arcgis-runtime-sdk-java-200.0.0/libs/arcgis-android-100.15.1.aar')\n</code></pre>\n<p>I've tried:</p>\n<pre><code>    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'androidx.navigation:navigation-fragment:2.5.3'\n    implementation 'androidx.navigation:navigation-ui:2.5.3'\n    testImplementation 'junit:junit:4.13.2'\n    implementation 'org.apache.httpcomponents:httpcore:4.4.14'\n    //implementation &quot;com.esri.arcgisruntime:arcgis-java:100.15.1&quot;\n    runtimeOnly &quot;org.slf4j:slf4j-nop:1.7.32&quot;\n    implementation files('libs/volley-1.2.1.aar')\n</code></pre>\n<p>The 'com.esri.arcgisrunetime' doesnt work, I had to downloaded it manually.</p>\n"},{"tags":["java","jenkins","sonarqube","findbugs"],"answers":[{"comments":[{"owner":{"account_id":44871,"reputation":22865,"user_id":131929,"accept_rate":83,"display_name":"Marcel St&#246;r"},"score":2,"creation_date":1374043147,"post_id":10972243,"comment_id":25778919,"body_markdown":"Agreed. However, I&#39;m not sure if Sonar correctly interprets `@SuppressFBWarnings` (added to avoid clashes with `java.lang.SuppressWarnings`) and also ignores it.","body":"Agreed. However, I&#39;m not sure if Sonar correctly interprets <code>@SuppressFBWarnings</code> (added to avoid clashes with <code>java.lang.SuppressWarnings</code>) and also ignores it."},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1374043262,"post_id":10972243,"comment_id":25778969,"body_markdown":"AFAIK, Sonar uses FindBugs. So if FindBugs handles these annotations, I don&#39;t see why they wouldn&#39;t work when running FindBugs through Sonar. Shouldn&#39;t be hard to test anyway.","body":"AFAIK, Sonar uses FindBugs. So if FindBugs handles these annotations, I don&#39;t see why they wouldn&#39;t work when running FindBugs through Sonar. Shouldn&#39;t be hard to test anyway."},{"owner":{"account_id":1040536,"reputation":2501,"user_id":1046662,"accept_rate":69,"display_name":"wiredniko"},"score":4,"creation_date":1432238244,"post_id":10972243,"comment_id":48855484,"body_markdown":"The FAQ link is outdated. Here is the new [FAQ](http://docs.sonarqube.org/display/HOME/Frequently+Asked+Questions#FrequentlyAskedQuestions-Howtoremovefalsepositiveissues?)","body":"The FAQ link is outdated. Here is the new <a href=\"http://docs.sonarqube.org/display/HOME/Frequently+Asked+Questions#FrequentlyAskedQuestions-Howtoremovefalsepositiveissues?\" rel=\"nofollow noreferrer\">FAQ</a>"},{"owner":{"account_id":135934,"reputation":916,"user_id":339120,"accept_rate":78,"display_name":"Win4ster"},"score":16,"creation_date":1520852076,"post_id":10972243,"comment_id":85470102,"body_markdown":"Could you please provide other link to a SonarQube FAQ? I see a login form instead of FAQ","body":"Could you please provide other link to a SonarQube FAQ? I see a login form instead of FAQ"},{"owner":{"account_id":2007324,"reputation":506,"user_id":1796826,"display_name":"Laloi"},"score":0,"creation_date":1635151547,"post_id":10972243,"comment_id":123209296,"body_markdown":"https://docs.sonarqube.org/latest/faq/#header-1","body":"<a href=\"https://docs.sonarqube.org/latest/faq/#header-1\" rel=\"nofollow noreferrer\">docs.sonarqube.org/latest/faq/#header-1</a>"},{"owner":{"account_id":3524440,"reputation":314,"user_id":2945953,"display_name":"Larry_C"},"score":0,"creation_date":1651678508,"post_id":10972243,"comment_id":127421428,"body_markdown":"A space is needed &quot;//  NOSONAR&quot; before NOSONAR.","body":"A space is needed &quot;//  NOSONAR&quot; before NOSONAR."},{"owner":{"account_id":3839238,"reputation":4740,"user_id":3182819,"display_name":"Thomas Urban"},"score":0,"creation_date":1686035482,"post_id":10972243,"comment_id":134740095,"body_markdown":"Even that updated FAQ link is now obsolete. Looks like SonarQube itself could benefit from a rule for that issue.","body":"Even that updated FAQ link is now obsolete. Looks like SonarQube itself could benefit from a rule for that issue."}],"tags":[],"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":7,"down_vote_count":2,"up_vote_count":122,"is_accepted":true,"score":120,"last_activity_date":1615527414,"creation_date":1339361325,"answer_id":10972243,"question_id":10971968,"body_markdown":"This is a [FAQ][1]. You can put `//NOSONAR` at the end of the line triggering the warning. \r\n&gt; **`//NOSONAR`**\r\n&gt;\r\n&gt; For most languages, SonarQube supports the use of the generic mechanism: `//NOSONAR` at the end of the line of the issue. This will suppress all issues - now and in the future - that might be raised on the line.\r\n\r\nI prefer using the FindBugs mechanism though, which consists in adding the @SuppressFBWarnings annotation:\r\n\r\n    @edu.umd.cs.findbugs.annotations.SuppressFBWarnings(\r\n        value = &quot;NAME_OF_THE_FINDBUGS_RULE_TO_IGNORE&quot;,\r\n        justification = &quot;Why you choose to ignore it&quot;)\r\n\r\n\r\n  [1]: https://docs.sonarqube.org/latest/faq/","title":"Turning Sonar off for certain code","body":"<p>This is a <a href=\"https://docs.sonarqube.org/latest/faq/\" rel=\"noreferrer\">FAQ</a>. You can put <code>//NOSONAR</code> at the end of the line triggering the warning.</p>\n<blockquote>\n<p><strong><code>//NOSONAR</code></strong></p>\n<p>For most languages, SonarQube supports the use of the generic mechanism: <code>//NOSONAR</code> at the end of the line of the issue. This will suppress all issues - now and in the future - that might be raised on the line.</p>\n</blockquote>\n<p>I prefer using the FindBugs mechanism though, which consists in adding the @SuppressFBWarnings annotation:</p>\n<pre><code>@edu.umd.cs.findbugs.annotations.SuppressFBWarnings(\n    value = &quot;NAME_OF_THE_FINDBUGS_RULE_TO_IGNORE&quot;,\n    justification = &quot;Why you choose to ignore it&quot;)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":235434,"reputation":2479,"user_id":502240,"display_name":"bcody"},"score":14,"creation_date":1439550010,"post_id":29400824,"comment_id":51919272,"body_markdown":"I can confirm that this also works with a specific FindBugs rule-ID, e.g. `@SuppressWarnings(&quot;findbugs:UI_INHERITANCE_UNSAFE_GETRESOURCE&quot;)`.","body":"I can confirm that this also works with a specific FindBugs rule-ID, e.g. <code>@SuppressWarnings(&quot;findbugs:UI_INHERITANCE_UNSAFE_GETRESOURC&zwnj;&#8203;E&quot;)</code>."},{"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"score":22,"creation_date":1488357107,"post_id":29400824,"comment_id":72189292,"body_markdown":"The problem is that Eclipse displays a warning `Unsupported @SuppressWarnings(&quot;squid:S00112&quot;)`. You can configure Eclipse to ignore this but then a typo such as in `@SuppressWarnings(&quot;uncheckedd&quot;)` will not be detected.","body":"The problem is that Eclipse displays a warning <code>Unsupported @SuppressWarnings(&quot;squid:S00112&quot;)</code>. You can configure Eclipse to ignore this but then a typo such as in <code>@SuppressWarnings(&quot;uncheckedd&quot;)</code> will not be detected."},{"owner":{"account_id":20667,"reputation":3241,"user_id":49630,"display_name":"Rich Dougherty"},"score":1,"creation_date":1566513174,"post_id":29400824,"comment_id":101690297,"body_markdown":"See https://docs.codescan.io/hc/en-us/articles/360012109711-Ignoring-violations for docs on @SuppressWarnings and Sonar.","body":"See <a href=\"https://docs.codescan.io/hc/en-us/articles/360012109711-Ignoring-violations\" rel=\"nofollow noreferrer\">docs.codescan.io/hc/en-us/articles/&hellip;</a> for docs on @SuppressWarnings and Sonar."},{"owner":{"account_id":1347084,"reputation":130,"user_id":1287612,"display_name":"Gentleman"},"score":0,"creation_date":1596804878,"post_id":29400824,"comment_id":111936396,"body_markdown":"How do we add comments/justification when we suppress?","body":"How do we add comments/justification when we suppress?"},{"owner":{"account_id":1639144,"reputation":603,"user_id":1511940,"accept_rate":100,"display_name":"rilaby"},"score":0,"creation_date":1628593346,"post_id":29400824,"comment_id":121457082,"body_markdown":"Looks like this answer should be marked as accepted.","body":"Looks like this answer should be marked as accepted."},{"owner":{"account_id":4833436,"reputation":409,"user_id":3900981,"accept_rate":78,"display_name":"Jans Rautenbach"},"score":0,"creation_date":1675761732,"post_id":29400824,"comment_id":132993285,"body_markdown":"Fun fact: This annotation can also be added to a class variable or even a local variable.","body":"Fun fact: This annotation can also be added to a class variable or even a local variable."}],"tags":[],"owner":{"account_id":1319116,"reputation":5358,"user_id":1265315,"accept_rate":30,"display_name":"maestr0"},"comment_count":6,"down_vote_count":0,"up_vote_count":344,"is_accepted":false,"score":344,"last_activity_date":1473031278,"creation_date":1427922317,"answer_id":29400824,"question_id":10971968,"body_markdown":"You can annotate a class or a method with SuppressWarnings\r\n\r\n    @java.lang.SuppressWarnings(&quot;squid:S00112&quot;)\r\n\r\n**squid:S00112** in this case is a Sonar issue ID. You can find this ID in the Sonar UI. Go to Issues Drilldown. Find an issue you want to suppress warnings on. In the red issue box in your code is there a Rule link with a definition of a given issue. Once you click that you will see the ID at the top of the page.","title":"Turning Sonar off for certain code","body":"<p>You can annotate a class or a method with SuppressWarnings</p>\n\n<pre><code>@java.lang.SuppressWarnings(\"squid:S00112\")\n</code></pre>\n\n<p><strong>squid:S00112</strong> in this case is a Sonar issue ID. You can find this ID in the Sonar UI. Go to Issues Drilldown. Find an issue you want to suppress warnings on. In the red issue box in your code is there a Rule link with a definition of a given issue. Once you click that you will see the ID at the top of the page.</p>\n"},{"comments":[{"owner":{"account_id":1005212,"reputation":28568,"user_id":1019167,"accept_rate":92,"display_name":"AlexWien"},"score":2,"creation_date":1459263195,"post_id":30383335,"comment_id":60201260,"body_markdown":"Thanks for the hint to ingnoe multiple sonar cube warnings","body":"Thanks for the hint to ingnoe multiple sonar cube warnings"},{"owner":{"account_id":6993304,"reputation":6347,"user_id":5361741,"accept_rate":75,"display_name":"annedroiid"},"score":1,"creation_date":1477981593,"post_id":30383335,"comment_id":67963773,"body_markdown":"The other issue with marking it as a false positive on the interface is that if for whatever reason the project is deleted and added again, all of the flags you have set will be gone.","body":"The other issue with marking it as a false positive on the interface is that if for whatever reason the project is deleted and added again, all of the flags you have set will be gone."},{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":0,"creation_date":1567605387,"post_id":30383335,"comment_id":102013145,"body_markdown":"@annedroiid  - Is there any way if same can be done in pom.xml file ? I&#39;ve raise question here: https://stackoverflow.com/questions/57789832/disable-sonar-rule-using-pom-xml","body":"@annedroiid  - Is there any way if same can be done in pom.xml file ? I&#39;ve raise question here: <a href=\"https://stackoverflow.com/questions/57789832/disable-sonar-rule-using-pom-xml\" title=\"disable sonar rule using pom xml\">stackoverflow.com/questions/57789832/&hellip;</a>"}],"tags":[],"owner":{"account_id":1040536,"reputation":2501,"user_id":1046662,"accept_rate":69,"display_name":"wiredniko"},"comment_count":3,"down_vote_count":0,"up_vote_count":139,"is_accepted":false,"score":139,"last_activity_date":1600957993,"creation_date":1432238658,"answer_id":30383335,"question_id":10971968,"body_markdown":"I recommend you try to suppress specific warnings by using `@SuppressWarnings(&quot;squid:S2078&quot;)`. \r\n\r\nFor suppressing multiple warnings you can do it like this `@SuppressWarnings({&quot;squid:S2078&quot;, &quot;squid:S2076&quot;})`\r\n\r\nThere is also the `//NOSONAR` comment that tells SonarQube to ignore all errors for a specific line.\r\n\r\nFinally if you have the proper rights for the user interface you can issue a flag as a false positive directly from the interface.\r\n\r\nThe reason why I recommend suppression of specific warnings is that it&#39;s a better practice to block a specific issue instead of using `//NOSONAR` and risk a Sonar issue creeping in your code by accident.\r\n\r\nYou can read more about this in the [FAQ](https://docs.sonarqube.org/latest/faq/#header-1)\r\n\r\nEdit: 6/30/16\r\nSonarQube is now called SonarLint\r\n\r\nIn case you are wondering how to find the squid number. Just click on the Sonar message (ex. `Remove this method to simply inherit it.`) and the Sonar issue will expand.\r\n\r\nOn the bottom left it will have the squid number (ex. `squid:S1185` Maintainability &gt; Understandability)\r\n\r\nSo then you can suppress it by `@SuppressWarnings(&quot;squid:S1185&quot;)`","title":"Turning Sonar off for certain code","body":"<p>I recommend you try to suppress specific warnings by using <code>@SuppressWarnings(&quot;squid:S2078&quot;)</code>.</p>\n<p>For suppressing multiple warnings you can do it like this <code>@SuppressWarnings({&quot;squid:S2078&quot;, &quot;squid:S2076&quot;})</code></p>\n<p>There is also the <code>//NOSONAR</code> comment that tells SonarQube to ignore all errors for a specific line.</p>\n<p>Finally if you have the proper rights for the user interface you can issue a flag as a false positive directly from the interface.</p>\n<p>The reason why I recommend suppression of specific warnings is that it's a better practice to block a specific issue instead of using <code>//NOSONAR</code> and risk a Sonar issue creeping in your code by accident.</p>\n<p>You can read more about this in the <a href=\"https://docs.sonarqube.org/latest/faq/#header-1\" rel=\"noreferrer\">FAQ</a></p>\n<p>Edit: 6/30/16\nSonarQube is now called SonarLint</p>\n<p>In case you are wondering how to find the squid number. Just click on the Sonar message (ex. <code>Remove this method to simply inherit it.</code>) and the Sonar issue will expand.</p>\n<p>On the bottom left it will have the squid number (ex. <code>squid:S1185</code> Maintainability &gt; Understandability)</p>\n<p>So then you can suppress it by <code>@SuppressWarnings(&quot;squid:S1185&quot;)</code></p>\n"},{"comments":[{"owner":{"account_id":21713,"reputation":295602,"user_id":53013,"accept_rate":78,"display_name":"Daniel C. Sobral"},"score":1,"creation_date":1538075740,"post_id":42812867,"comment_id":92027224,"body_markdown":"`squid` is for the Sonar-sourced Java database (SonarAnalyzer Java). `pmd` and `checkstyle` are on other rule repositories.","body":"<code>squid</code> is for the Sonar-sourced Java database (SonarAnalyzer Java). <code>pmd</code> and <code>checkstyle</code> are on other rule repositories."}],"tags":[],"owner":{"account_id":10466378,"reputation":61,"user_id":7715686,"display_name":"Noker"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1489588749,"creation_date":1489588749,"answer_id":42812867,"question_id":10971968,"body_markdown":"I not be able to find squid number in sonar 5.6, with this annotation also works:\r\n \r\n    @SuppressWarnings({&quot;pmd:AvoidCatchingGenericException&quot;, &quot;checkstyle:com.puppycrawl.tools.checkstyle.checks.coding.IllegalCatchCheck&quot;})\r\n","title":"Turning Sonar off for certain code","body":"<p>I not be able to find squid number in sonar 5.6, with this annotation also works:</p>\n\n<pre><code>@SuppressWarnings({\"pmd:AvoidCatchingGenericException\", \"checkstyle:com.puppycrawl.tools.checkstyle.checks.coding.IllegalCatchCheck\"})\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":0,"creation_date":1700121289,"post_id":52887397,"comment_id":136616253,"body_markdown":"Today, I get a warning if I use `//NOSONAR`. Super annoying.","body":"Today, I get a warning if I use <code>&#47;&#47;NOSONAR</code>. Super annoying."}],"tags":[],"owner":{"account_id":6543430,"reputation":201,"user_id":5060129,"display_name":"Jain"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1539933084,"creation_date":1539933084,"answer_id":52887397,"question_id":10971968,"body_markdown":"Use //NOSONAR  on the line you get warning if it is something you cannot help your code with. It works!","title":"Turning Sonar off for certain code","body":"<p>Use //NOSONAR  on the line you get warning if it is something you cannot help your code with. It works!</p>\n"},{"tags":[],"owner":{"account_id":21817391,"reputation":86,"user_id":16114042,"display_name":"Paps"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1624453902,"creation_date":1624453552,"answer_id":68100425,"question_id":10971968,"body_markdown":"Actually it&#39;s a tricky to understand which is the ID of issue so i used @SuppressWarnings(&quot;all&quot;) annotation which basically  is applied of all rules but to be more precise is better to use the ID. Click to see picture -&gt;\r\n[Sonar Issue ID][1]\r\n\r\n[1]: https://i.stack.imgur.com/Wv9Hc.jpg\r\n\r\nSo when click on &quot;Why is this an issue?&quot; in the red box, i you will get to a screen with explanation. On top of the screen in left side you can see rule name, and on the left the id of this rule. \r\nSo to applied for this rule only you have to add this annotation to your class or method.\r\n\r\n@SuppressWarnings(&quot;common-java:DuplicatedBlocks&quot;)","title":"Turning Sonar off for certain code","body":"<p>Actually it's a tricky to understand which is the ID of issue so i used @SuppressWarnings(&quot;all&quot;) annotation which basically  is applied of all rules but to be more precise is better to use the ID. Click to see picture -&gt;\n<a href=\"https://i.stack.imgur.com/Wv9Hc.jpg\" rel=\"noreferrer\">Sonar Issue ID</a></p>\n<p>So when click on &quot;Why is this an issue?&quot; in the red box, i you will get to a screen with explanation. On top of the screen in left side you can see rule name, and on the left the id of this rule.\nSo to applied for this rule only you have to add this annotation to your class or method.</p>\n<p>@SuppressWarnings(&quot;common-java:DuplicatedBlocks&quot;)</p>\n"},{"tags":[],"owner":{"account_id":18536547,"reputation":21,"user_id":21347034,"display_name":"Abhijeet Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678169722,"creation_date":1678169722,"answer_id":75658566,"question_id":10971968,"body_markdown":"code complexity of any method is allowed only 15, if we have to resolve this issue without refactoring the methods we can use this at the top of method definition:-@SuppressWarnings({&quot;java:S3776&quot;})","title":"Turning Sonar off for certain code","body":"<p>code complexity of any method is allowed only 15, if we have to resolve this issue without refactoring the methods we can use this at the top of method definition:-@SuppressWarnings({&quot;java:S3776&quot;})</p>\n"}],"owner":{"account_id":208096,"reputation":6297,"user_id":458370,"accept_rate":76,"display_name":"Ant Kutschera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":355315,"favorite_count":0,"down_vote_count":0,"up_vote_count":269,"accepted_answer_id":10972243,"answer_count":7,"score":269,"last_activity_date":1678169722,"creation_date":1339358950,"question_id":10971968,"body_markdown":"Is it possible to turn off sonar ([www.sonarsource.org][1]) measurements for specific blocks of code, which one doesn&#39;t want to be measured?\r\n\r\nAn example is the &quot;Preserve Stack Trace&quot; warning which Findbugs outputs.  When leaving the server, I might well want to only pass the message back to the client, not including the actual exception which I just caught, if that exception is unknown to the client (because the client doesn&#39;t have the JAR in which that exception was contained for example).\r\n\r\n  [1]: http://www.sonarsource.org","title":"Turning Sonar off for certain code","body":"<p>Is it possible to turn off sonar (<a href=\"http://www.sonarsource.org\" rel=\"noreferrer\">www.sonarsource.org</a>) measurements for specific blocks of code, which one doesn't want to be measured?</p>\n\n<p>An example is the \"Preserve Stack Trace\" warning which Findbugs outputs.  When leaving the server, I might well want to only pass the message back to the client, not including the actual exception which I just caught, if that exception is unknown to the client (because the client doesn't have the JAR in which that exception was contained for example).</p>\n"},{"tags":["java","xml","groovy"],"owner":{"account_id":15338114,"reputation":73,"user_id":11065854,"display_name":"Joseph Cen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678168873,"creation_date":1678159412,"question_id":75657775,"body_markdown":"I use __StreamingMarkupBuilder__ for building a Xml.\r\nBut the problem is the xml namespace is added random in these inner fields.\r\nI just want to have the namespace at the root node.\r\n\r\nMy code:\r\n```\r\nimport groovy.xml.StreamingMarkupBuilder\r\nimport groovy.xml.XmlUtil\r\nimport java.time.LocalDateTime\r\n\r\n\r\ndef buildXml() {\r\n    def mkpBuilder = new StreamingMarkupBuilder()\r\n\r\n    mkpBuilder.encoding = &#39;utf-8&#39;\r\n\r\n    def clearingXml = mkpBuilder.bind { bld -&gt;\r\n        mkp.xmlDeclaration()\r\n        mkp.declareNamespace(ns0: &#39;urn:document:rfc:functions&#39;)\r\n\r\n        &#39;ns0:rootNode&#39; {\r\n            fieldDynamic(LocalDateTime.now())\r\n            fieldConst(123)\r\n            fieldConst(&quot;abc&quot;)\r\n        }\r\n    }\r\n\r\n    return XmlUtil.serialize(clearingXml)\r\n}\r\n\r\nprintln buildXml()\r\n \r\n```\r\n\r\nBelow are the xml output from the groovy script:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;ns0:rootNode xmlns:ns0=&quot;urn:document:rfc:functions&quot;&gt;\r\n  &lt;fieldDynamic&gt;2023-03-07T11:18:01.462405&lt;/fieldDynamic&gt;\r\n  &lt;fieldConst xmlns:ns0=&quot;urn:document:rfc:functions&quot;&gt;123&lt;/fieldConst&gt; &lt;!-- Namespace is not need at here! --&gt;\r\n  &lt;fieldConst&gt;abc&lt;/fieldConst&gt;\r\n&lt;/ns0:rootNode&gt;\r\n```\r\n\r\nI just want the __&#39;ns0&#39;__ at the root node. But the namespace is not need at field __&#39;fieldConst&#39;__.","title":"Groovy StreamingMarkupBuilder will add namespace random","body":"<p>I use <strong>StreamingMarkupBuilder</strong> for building a Xml.\nBut the problem is the xml namespace is added random in these inner fields.\nI just want to have the namespace at the root node.</p>\n<p>My code:</p>\n<pre><code>import groovy.xml.StreamingMarkupBuilder\nimport groovy.xml.XmlUtil\nimport java.time.LocalDateTime\n\n\ndef buildXml() {\n    def mkpBuilder = new StreamingMarkupBuilder()\n\n    mkpBuilder.encoding = 'utf-8'\n\n    def clearingXml = mkpBuilder.bind { bld -&gt;\n        mkp.xmlDeclaration()\n        mkp.declareNamespace(ns0: 'urn:document:rfc:functions')\n\n        'ns0:rootNode' {\n            fieldDynamic(LocalDateTime.now())\n            fieldConst(123)\n            fieldConst(&quot;abc&quot;)\n        }\n    }\n\n    return XmlUtil.serialize(clearingXml)\n}\n\nprintln buildXml()\n \n</code></pre>\n<p>Below are the xml output from the groovy script:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;ns0:rootNode xmlns:ns0=&quot;urn:document:rfc:functions&quot;&gt;\n  &lt;fieldDynamic&gt;2023-03-07T11:18:01.462405&lt;/fieldDynamic&gt;\n  &lt;fieldConst xmlns:ns0=&quot;urn:document:rfc:functions&quot;&gt;123&lt;/fieldConst&gt; &lt;!-- Namespace is not need at here! --&gt;\n  &lt;fieldConst&gt;abc&lt;/fieldConst&gt;\n&lt;/ns0:rootNode&gt;\n</code></pre>\n<p>I just want the <strong>'ns0'</strong> at the root node. But the namespace is not need at field <strong>'fieldConst'</strong>.</p>\n"},{"tags":["java","eclipse","javafx","javafx-11"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1639636302,"post_id":70374601,"comment_id":124400764,"body_markdown":"Follow the getting started documentation at openjfx.io.","body":"Follow the getting started documentation at openjfx.io."}],"answers":[{"tags":[],"owner":{"account_id":25185553,"reputation":21,"user_id":19026489,"display_name":"Max"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651599721,"creation_date":1651599721,"answer_id":72103392,"question_id":70374601,"body_markdown":"In Eclipse IDE create a java project like always and create a new library in Windows &gt; Preferences and under Java &gt; Build Path &gt; User Libraries click on New...\r\nName the library and add the .jar&#39;s clicking on Add External JARs... \r\nGo to the path where you unziped the javafx package and under lib select all the .jar&#39;s. click Open and Apply and Close.\r\nYou can start importing javafx code.\r\nIf you run the application will get an error\r\n&quot;Error: JavaFX runtime components are missing, and are required to run this application&quot;\r\nTo fix this go to Run &gt; Run Configurations.\r\nCreate a new Configuration under Java Application\r\nOn the right in the Arguments tab look for VM Arguments and add \r\n\r\n--module-path &quot;PATH_TO_YOUR_JAVAFX_LIB_FOLDER&quot; --add-modules javafx.controls,javafx.fxml\r\n\r\nwhere PATH_TO_YOUR_JAVAFX_LIB_FOLDER in my case would be &quot;C:\\Program Files\\Java\\jdk-11.0.14\\openjfx-18.0.1_windows-x64_bin-sdk\\javafx-sdk-18.0.1\\lib&quot;.\r\nApply the changes and Run\r\nFirst problem fix\r\n\r\nNow, if you try to Export your project the IDE will show you a warning saying that the VM arguments will not be part of the runnable JAR and if you execute the jar you will face the same error: &quot;Error: JavaFX runtime components are missing, and are required to run this application&quot;\r\nI always check &quot;copy the required libraries into a sub-folder next to the jar&quot; in the export wizard.\r\nTo fix the error create a new text file next to your exported .jar and name it with the .bat extension (in windows)\r\nEdit the .bat file and add: \r\n\r\njava --module-path &quot;PATH_TO_YOUR_JAVAFX_LIB_FOLDER&quot; --add-modules javafx.controls,javafx.fxml -jar YOUR_PROJECT_NAME.jar\r\n\r\nAll done, but PATH_TO_YOUR_JAVAFX_LIB_FOLDER is in your machine, so what if you run the .jar in another machine? \r\n\r\njava --module-path &quot;YOUR_PROJECT_NAME_lib/&quot; --add-modules javafx.controls,javafx.fxml -jar YOUR_PROJECT_NAME.jar\r\n\r\nwhere YOUR_PROJECT_NAME_lib is in the same directory as the exported .jar\r\n\r\nIf run now you get the error \r\n\r\n&quot;Graphics Device initialization failed for :  d3d, sw\r\nError initializing QuantumRenderer: no suitable pipeline found\r\n...\r\n&quot;\r\n\r\nThis error happens because it doesn&#39;t find the natives(.dll), so,\r\ncopy the folder bin under PATH_TO_YOUR_JAVAFX paste it in the same folder of the exported .jar file\r\n\r\nThis should do the trick. Hope this help you.","title":"Error initializing QuantumRenderer: no suitable pipeline found in Eclipse JavaFX","body":"<p>In Eclipse IDE create a java project like always and create a new library in Windows &gt; Preferences and under Java &gt; Build Path &gt; User Libraries click on New...\nName the library and add the .jar's clicking on Add External JARs...\nGo to the path where you unziped the javafx package and under lib select all the .jar's. click Open and Apply and Close.\nYou can start importing javafx code.\nIf you run the application will get an error\n&quot;Error: JavaFX runtime components are missing, and are required to run this application&quot;\nTo fix this go to Run &gt; Run Configurations.\nCreate a new Configuration under Java Application\nOn the right in the Arguments tab look for VM Arguments and add</p>\n<p>--module-path &quot;PATH_TO_YOUR_JAVAFX_LIB_FOLDER&quot; --add-modules javafx.controls,javafx.fxml</p>\n<p>where PATH_TO_YOUR_JAVAFX_LIB_FOLDER in my case would be &quot;C:\\Program Files\\Java\\jdk-11.0.14\\openjfx-18.0.1_windows-x64_bin-sdk\\javafx-sdk-18.0.1\\lib&quot;.\nApply the changes and Run\nFirst problem fix</p>\n<p>Now, if you try to Export your project the IDE will show you a warning saying that the VM arguments will not be part of the runnable JAR and if you execute the jar you will face the same error: &quot;Error: JavaFX runtime components are missing, and are required to run this application&quot;\nI always check &quot;copy the required libraries into a sub-folder next to the jar&quot; in the export wizard.\nTo fix the error create a new text file next to your exported .jar and name it with the .bat extension (in windows)\nEdit the .bat file and add:</p>\n<p>java --module-path &quot;PATH_TO_YOUR_JAVAFX_LIB_FOLDER&quot; --add-modules javafx.controls,javafx.fxml -jar YOUR_PROJECT_NAME.jar</p>\n<p>All done, but PATH_TO_YOUR_JAVAFX_LIB_FOLDER is in your machine, so what if you run the .jar in another machine?</p>\n<p>java --module-path &quot;YOUR_PROJECT_NAME_lib/&quot; --add-modules javafx.controls,javafx.fxml -jar YOUR_PROJECT_NAME.jar</p>\n<p>where YOUR_PROJECT_NAME_lib is in the same directory as the exported .jar</p>\n<p>If run now you get the error</p>\n<p>&quot;Graphics Device initialization failed for :  d3d, sw\nError initializing QuantumRenderer: no suitable pipeline found\n...\n&quot;</p>\n<p>This error happens because it doesn't find the natives(.dll), so,\ncopy the folder bin under PATH_TO_YOUR_JAVAFX paste it in the same folder of the exported .jar file</p>\n<p>This should do the trick. Hope this help you.</p>\n"},{"comments":[{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":0,"creation_date":1683158533,"post_id":75658464,"comment_id":134325243,"body_markdown":"I did the same thing. Thanks for the tip!","body":"I did the same thing. Thanks for the tip!"}],"tags":[],"owner":{"account_id":23319183,"reputation":41,"user_id":17397392,"display_name":"Eric VB"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1678168567,"creation_date":1678168567,"answer_id":75658464,"question_id":70374601,"body_markdown":"If the other answer didn&#39;t work, it may be possible that you downloaded the wrong JavaFX file, make sure it&#39;s for the proper system and either x64 or x86 architecture depending on your computer(check program files for the matching one), as it won&#39;t work if the wrong one is in place. If you did download the wrong file, you&#39;ll need to replace the files in the library you made as well as the file location in the VM argument to the correct file.\r\n\r\nHope this helps, I spent about an hour blanking before realizing I downloaded the x86 instead of x64 files.","title":"Error initializing QuantumRenderer: no suitable pipeline found in Eclipse JavaFX","body":"<p>If the other answer didn't work, it may be possible that you downloaded the wrong JavaFX file, make sure it's for the proper system and either x64 or x86 architecture depending on your computer(check program files for the matching one), as it won't work if the wrong one is in place. If you did download the wrong file, you'll need to replace the files in the library you made as well as the file location in the VM argument to the correct file.</p>\n<p>Hope this helps, I spent about an hour blanking before realizing I downloaded the x86 instead of x64 files.</p>\n"}],"owner":{"account_id":17974564,"reputation":94,"user_id":13062496,"display_name":"Aneesh Edavalath S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4304,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1678168567,"creation_date":1639635318,"question_id":70374601,"body_markdown":"Showing &quot;Error initializing QuantumRenderer: no suitable pipeline found&quot; after running JavaFX application. I added required JavaFX jar files to the project and I don&#39;t know why this error occured.    \r\n\r\n    Graphics Device initialization failed for :  d3d, sw\r\n        Error initializing QuantumRenderer: no suitable pipeline found\r\n        java.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n        \tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\r\n        \tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:254)\r\n        \tat javafx.graphics/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:264)\r\n        \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\r\n        \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\r\n        \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\r\n        \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:410)\r\n        \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        \tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\r\n        Caused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n        \tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\r\n        \tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\r\n        \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n        Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        \tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\r\n        Caused by: java.lang.RuntimeException: No toolkit found\r\n        \tat javafx.graphics/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:276)\r\n        \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\r\n        \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\r\n        \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\r\n        \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:410)\r\n        \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n        \t... 5 more\r\n\r\n","title":"Error initializing QuantumRenderer: no suitable pipeline found in Eclipse JavaFX","body":"<p>Showing &quot;Error initializing QuantumRenderer: no suitable pipeline found&quot; after running JavaFX application. I added required JavaFX jar files to the project and I don't know why this error occured.</p>\n<pre><code>Graphics Device initialization failed for :  d3d, sw\n    Error initializing QuantumRenderer: no suitable pipeline found\n    java.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n        at javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\n        at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:254)\n        at javafx.graphics/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:264)\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:410)\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\n    Caused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n        at javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\n        at javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\n    Caused by: java.lang.RuntimeException: No toolkit found\n        at javafx.graphics/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:276)\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:410)\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n        ... 5 more\n</code></pre>\n"},{"tags":["java","dart","x509certificate","public-key","pem"],"comments":[{"owner":{"account_id":2211898,"reputation":29180,"user_id":1953515,"display_name":"julemand101"},"score":0,"creation_date":1678174296,"post_id":75658452,"comment_id":133477474,"body_markdown":"Part of the issue is your are using different data types. The bytes in Dart is clearly unsigned (since the values goes between 0 and 255) while the values in Java are signed (goes from -128 to 127). But this does not explain the start of the certificate being different.","body":"Part of the issue is your are using different data types. The bytes in Dart is clearly unsigned (since the values goes between 0 and 255) while the values in Java are signed (goes from -128 to 127). But this does not explain the start of the certificate being different."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1678175930,"post_id":75658452,"comment_id":133477873,"body_markdown":"I don&#39;t dart, but the value you show is _only_ the (per-algorithm) value from the BIT STRING part of SubjectPublicKeyInfo, while Java returns the encoding of the whole SubjectPublicKeyInfo SEQUENCE; see rfc5280 4.1. In particular this is a key for X9-type-EC (OID 1.2.840.10045.2.1) on curve secp256k1 (OID 1.3.132.0.10) so its BIT STRING value is, after a prefix byte 00 for unused_bits in DER, the point format defined in SEC1 and referenced in rfc5480 2.2, in this case uncompressed (first byte 04 followed by 32 bytes X and 32 bytes Y).","body":"I don&#39;t dart, but the value you show is <i>only</i> the (per-algorithm) value from the BIT STRING part of SubjectPublicKeyInfo, while Java returns the encoding of the whole SubjectPublicKeyInfo SEQUENCE; see rfc5280 4.1. In particular this is a key for X9-type-EC (OID 1.2.840.10045.2.1) on curve secp256k1 (OID 1.3.132.0.10) so its BIT STRING value is, after a prefix byte 00 for unused_bits in DER, the point format defined in SEC1 and referenced in rfc5480 2.2, in this case uncompressed (first byte 04 followed by 32 bytes X and 32 bytes Y)."}],"owner":{"account_id":27094412,"reputation":41,"user_id":20641792,"display_name":"Scribes Dev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678168408,"creation_date":1678168408,"question_id":75658452,"body_markdown":"I have get public key from x509 certificate using basic_utils package in flutter but it is different from java encoded public key.\r\n\r\nJava code\r\n\r\n      public static byte[] getPublicKeyFromCert(String certificateValue) {\r\n        byte[] CertData = Base64.decode(certificateValue, Base64.DEFAULT);\r\n        ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(CertData);\r\n        CertificateFactory certificatefactory = null;\r\n        try {\r\n            certificatefactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n        } catch (CertificateException e) {\r\n            e.printStackTrace();\r\n        }\r\n        X509Certificate objcert509 = null;\r\n        try {\r\n            objcert509 = (X509Certificate)certificatefactory.generateCertificate(byteArrayInputStream);\r\n        } catch (CertificateException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        byte[] publicKey = objcert509.getPublicKey().getEncoded();\r\n        return publicKey;\r\n    }\r\n\r\noutput : [48, 86, 48, 16, 6, 7, 42, -122, 72, -50, 61, 2, 1, 6, 5, 43, -127, 4, 0, 10, 3, 66, 0, 4, -2, 6, 1, -3, -114, 15, -55, -25, -65, 101, -90, 85, 7, 18, -43, -117, -13, -124, 67, 29, -15, -70, 114, 37, 56, 75, 112, -41, -102, -18, -39, -26, -121, -100, 127, -25, 30, 37, 84, -112, 88, 73, -56, -97, -85, 7, -94, -27, -113, 38, 39, 40, 75, 76, 82, 106, 7, -68, 83, -127, -103, -52, 125, 89]\r\n\r\nDart Code \r\n\r\n     var base64Str = base64.decode(certificateValue);\r\n    var x509Certificate = x509UtilsLocal.crlDerToPem(base64Str);\r\n    X509CertificateData x509certificateData = X509Utils.x509CertificateFromPem(x509Certificate);\r\n    print(&quot;getPublicKeyFromCert&quot; + hex.decode(x509certificateData.publicKeyData.bytes).toString());\r\n    var bytes = hex.decode(x509certificateData.publicKeyData.bytes);\r\n\r\n\r\noutput : [0, 4, 254, 6, 1, 253, 142, 15, 201, 231, 191, 101, 166, 85, 7, 18, 213, 139, 243, 132, 67, 29, 241, 186, 114, 37, 56, 75, 112, 215, 154, 238, 217, 230, 135, 156, 127, 231, 30, 37, 84, 144, 88, 73, 200, 159, 171, 7, 162, 229, 143, 38, 39, 40, 75, 76, 82, 106, 7, 188, 83, 129, 153, 204, 125, 89]\r\n","title":"encoded public key of x509 Certificate from java and dart are different","body":"<p>I have get public key from x509 certificate using basic_utils package in flutter but it is different from java encoded public key.</p>\n<p>Java code</p>\n<pre><code>  public static byte[] getPublicKeyFromCert(String certificateValue) {\n    byte[] CertData = Base64.decode(certificateValue, Base64.DEFAULT);\n    ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(CertData);\n    CertificateFactory certificatefactory = null;\n    try {\n        certificatefactory = CertificateFactory.getInstance(&quot;X.509&quot;);\n    } catch (CertificateException e) {\n        e.printStackTrace();\n    }\n    X509Certificate objcert509 = null;\n    try {\n        objcert509 = (X509Certificate)certificatefactory.generateCertificate(byteArrayInputStream);\n    } catch (CertificateException e) {\n        e.printStackTrace();\n    }\n\n    byte[] publicKey = objcert509.getPublicKey().getEncoded();\n    return publicKey;\n}\n</code></pre>\n<p>output : [48, 86, 48, 16, 6, 7, 42, -122, 72, -50, 61, 2, 1, 6, 5, 43, -127, 4, 0, 10, 3, 66, 0, 4, -2, 6, 1, -3, -114, 15, -55, -25, -65, 101, -90, 85, 7, 18, -43, -117, -13, -124, 67, 29, -15, -70, 114, 37, 56, 75, 112, -41, -102, -18, -39, -26, -121, -100, 127, -25, 30, 37, 84, -112, 88, 73, -56, -97, -85, 7, -94, -27, -113, 38, 39, 40, 75, 76, 82, 106, 7, -68, 83, -127, -103, -52, 125, 89]</p>\n<p>Dart Code</p>\n<pre><code> var base64Str = base64.decode(certificateValue);\nvar x509Certificate = x509UtilsLocal.crlDerToPem(base64Str);\nX509CertificateData x509certificateData = X509Utils.x509CertificateFromPem(x509Certificate);\nprint(&quot;getPublicKeyFromCert&quot; + hex.decode(x509certificateData.publicKeyData.bytes).toString());\nvar bytes = hex.decode(x509certificateData.publicKeyData.bytes);\n</code></pre>\n<p>output : [0, 4, 254, 6, 1, 253, 142, 15, 201, 231, 191, 101, 166, 85, 7, 18, 213, 139, 243, 132, 67, 29, 241, 186, 114, 37, 56, 75, 112, 215, 154, 238, 217, 230, 135, 156, 127, 231, 30, 37, 84, 144, 88, 73, 200, 159, 171, 7, 162, 229, 143, 38, 39, 40, 75, 76, 82, 106, 7, 188, 83, 129, 153, 204, 125, 89]</p>\n"},{"tags":["java","android","kotlin","battery"],"answers":[{"comments":[{"owner":{"account_id":23493015,"reputation":1,"user_id":17543799,"display_name":"Krithick"},"score":0,"creation_date":1678170851,"post_id":75658448,"comment_id":133476807,"body_markdown":"Still no change bro\n\nI am getting the charge % as 0.57 if the charge is 57\n\nBut I neet it like 57.3,57.4 and so on","body":"Still no change bro  I am getting the charge % as 0.57 if the charge is 57  But I neet it like 57.3,57.4 and so on"},{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":0,"creation_date":1678183095,"post_id":75658448,"comment_id":133479777,"body_markdown":"This is clearly wrong.  `BATTERY_PROPERTY_CAPACITY` is documented as &quot;Remaining battery capacity as an integer percentage of total capacity (with no fractional part).&quot;","body":"This is clearly wrong.  <code>BATTERY_PROPERTY_CAPACITY</code> is documented as &quot;Remaining battery capacity as an integer percentage of total capacity (with no fractional part).&quot;"}],"tags":[],"owner":{"account_id":27953616,"reputation":9,"user_id":21346893,"display_name":"Dupe Tv"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1678168338,"creation_date":1678168338,"answer_id":75658448,"question_id":75658408,"body_markdown":"\r\n\r\n    BatteryManager bm = (BatteryManager)getSystemService(BATTERY_SERVICE);\r\n    int batteryLevel = bm.getIntProperty(BatteryManager.BATTERY_PROPERTY_CAPACITY);\r\n    float batteryPercent = batteryLevel / 100f;\r\n\r\n","title":"How to Get current charge percentage in decimal in java for android","body":"<pre><code>BatteryManager bm = (BatteryManager)getSystemService(BATTERY_SERVICE);\nint batteryLevel = bm.getIntProperty(BatteryManager.BATTERY_PROPERTY_CAPACITY);\nfloat batteryPercent = batteryLevel / 100f;\n</code></pre>\n"}],"owner":{"account_id":23493015,"reputation":1,"user_id":17543799,"display_name":"Krithick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1678183225,"answer_count":1,"score":-1,"last_activity_date":1678168338,"creation_date":1678167810,"question_id":75658408,"body_markdown":"I need to get the current charge percentage in decimal values like -&gt; 50.3,20.4,etc...\r\n\r\nIs there any way to do the same in android with Kotlin/Java.\r\n\r\nAnyone Please help me with this.\r\n\r\nAlgorithm / Code to get the Current battery Percentage in Decimals.\r\nlike 15.2 like this.","title":"How to Get current charge percentage in decimal in java for android","body":"<p>I need to get the current charge percentage in decimal values like -&gt; 50.3,20.4,etc...</p>\n<p>Is there any way to do the same in android with Kotlin/Java.</p>\n<p>Anyone Please help me with this.</p>\n<p>Algorithm / Code to get the Current battery Percentage in Decimals.\nlike 15.2 like this.</p>\n"},{"tags":["java","selenium-webdriver","testng","selenium-grid","remotewebdriver"],"owner":{"account_id":27953549,"reputation":21,"user_id":21346836,"display_name":"Priyanka Srivastava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1678167895,"creation_date":1678167895,"question_id":75658413,"body_markdown":"org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\nBuild info: version: &#39;4.8.1&#39;, revision: &#39;8ebccac989&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;18.0.2&#39;\r\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\r\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, platformName: Windows 10}], desiredCapabilities=Capabilities {browserName: chrome, platformName: Windows 10}}]\r\nCapabilities {browserName: chrome, platformName: Windows 10}\r\n\r\n\r\nFacing this error while running my test suit for multiple browser in Selenium grid.\r\n\r\n\r\n\r\n\r\n\r\n\r\nTrying to execute basic tests in selenium grid for standalone mode but facing issue.","title":"using selenium grid facing Invalid address of the remote server or browser start-up failure error","body":"<p>org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\nBuild info: version: '4.8.1', revision: '8ebccac989'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '18.0.2'\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, platformName: Windows 10}], desiredCapabilities=Capabilities {browserName: chrome, platformName: Windows 10}}]\nCapabilities {browserName: chrome, platformName: Windows 10}</p>\n<p>Facing this error while running my test suit for multiple browser in Selenium grid.</p>\n<p>Trying to execute basic tests in selenium grid for standalone mode but facing issue.</p>\n"},{"tags":["java","criteria-api"],"comments":[{"owner":{"account_id":396748,"reputation":30697,"user_id":760489,"accept_rate":72,"display_name":"Pratik"},"score":0,"creation_date":1312801252,"post_id":6981083,"comment_id":8329079,"body_markdown":"try with the 1=0 for more detail see this post\r\n\r\n[http://stackoverflow.com/questions/6145809/mysql-where-1-0-confusion/6145827#6145827][1]\r\n\r\n\r\n  [1]: http://stackoverflow.com/questions/6145809/mysql-where-1-0-confusion/6145827#6145827","body":"try with the 1=0 for more detail see this post    [<a href=\"http://stackoverflow.com/questions/6145809/mysql-where-1-0-confusion/6145827#6145827][1]\" title=\"mysql where 1 0 confusion\">stackoverflow.com/questions/6145809/mysql-where-1-0-confusi&zwnj;&#8203;on/&hellip;</a>        [1]: <a href=\"http://stackoverflow.com/questions/6145809/mysql-where-1-0-confusion/6145827#6145827\" title=\"mysql where 1 0 confusion\">stackoverflow.com/questions/6145809/mysql-where-1-0-confusio&zwnj;&#8203;n/&hellip;</a>"},{"owner":{"account_id":217320,"reputation":42820,"user_id":473070,"accept_rate":82,"display_name":"Vladimir Ivanov"},"score":1,"creation_date":1312801695,"post_id":6981083,"comment_id":8329186,"body_markdown":"@Pratik, the problem is how to write the condition in criteria api. The condition itself is not a problem.","body":"@Pratik, the problem is how to write the condition in criteria api. The condition itself is not a problem."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1312801351,"creation_date":1312801015,"answer_id":6981105,"question_id":6981083,"body_markdown":"How about\r\n\r\n    CriteriaBuilder.notEqual(CriteriaBuilder.literal(1), 1)\r\n\r\nAlthough, if you *know* that this shouldn&#39;t execute, then using expressions might not be optimal on some RDBMS, if the database can&#39;t peek at bind values. I don&#39;t know how to do create a JPA Predicate with an inlined `1 &lt;&gt; 1` SQL expression, though...","title":"criteria api where 1&lt;&gt;1 clause","body":"<p>How about</p>\n\n<pre><code>CriteriaBuilder.notEqual(CriteriaBuilder.literal(1), 1)\n</code></pre>\n\n<p>Although, if you <em>know</em> that this shouldn't execute, then using expressions might not be optimal on some RDBMS, if the database can't peek at bind values. I don't know how to do create a JPA Predicate with an inlined <code>1 &lt;&gt; 1</code> SQL expression, though...</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1312802658,"post_id":6981182,"comment_id":8329452,"body_markdown":"I don&#39;t think there are any other technologies, short of digging round in the implementation classes of a particular JPA implementation.","body":"I don&#39;t think there are any other technologies, short of digging round in the implementation classes of a particular JPA implementation."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1312801506,"creation_date":1312801506,"answer_id":6981182,"question_id":6981083,"body_markdown":"How about this:\r\n\r\n    CriteriaBuilder.isTrue(CriteriaBuilder.literal(Boolean.FALSE));\r\n\r\n","title":"criteria api where 1&lt;&gt;1 clause","body":"<p>How about this:</p>\n\n<pre><code>CriteriaBuilder.isTrue(CriteriaBuilder.literal(Boolean.FALSE));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40939,"reputation":41535,"user_id":118846,"display_name":"Mikko Maunu"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1317549042,"creation_date":1316450040,"answer_id":7474263,"question_id":6981083,"body_markdown":"Javadoc from CriteriaBuilder: &quot;Create a disjunction (with zero disjuncts). A disjunction with zero disjuncts is false.&quot;\r\n\r\n    CriteriaBuilder cb..\r\n    Predicate itsFalse = cb.disjunction();\r\n\r\nAnd then generated SQL depends about implementation, Hibernate produces 0=1. Why I prefer this method over other alternatives, is:\r\n\r\n 1. According documentation it fits perfectly to this use without\r\n    additional arguments and you kind of guess what it does from name.\r\n 2. It is short.\r\n\r\n","title":"criteria api where 1&lt;&gt;1 clause","body":"<p>Javadoc from CriteriaBuilder: \"Create a disjunction (with zero disjuncts). A disjunction with zero disjuncts is false.\"</p>\n\n<pre><code>CriteriaBuilder cb..\nPredicate itsFalse = cb.disjunction();\n</code></pre>\n\n<p>And then generated SQL depends about implementation, Hibernate produces 0=1. Why I prefer this method over other alternatives, is:</p>\n\n<ol>\n<li>According documentation it fits perfectly to this use without\nadditional arguments and you kind of guess what it does from name.</li>\n<li>It is short.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":2393141,"reputation":13869,"user_id":2092587,"display_name":"Trinimon"},"score":1,"creation_date":1678221478,"post_id":75658392,"comment_id":133490580,"body_markdown":"Could you add some explanation, why you think that these lines solve the issue? What is the difference between bove proposals?","body":"Could you add some explanation, why you think that these lines solve the issue? What is the difference between bove proposals?"}],"tags":[],"owner":{"account_id":7974175,"reputation":21,"user_id":6017862,"display_name":"volkov_kv"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678167648,"creation_date":1678167648,"answer_id":75658392,"question_id":6981083,"body_markdown":"```java\r\ncriteriaBuilder.isTrue(criteriaBuilder.literal(false));\r\n```\r\n\r\nor\r\n```java\r\nSpecification&lt;TheEntity&gt; specification = (root, query, cb) -&gt; cb.isTrue(cb.literal(false));\r\n```\r\n\r\n","title":"criteria api where 1&lt;&gt;1 clause","body":"<pre class=\"lang-java prettyprint-override\"><code>criteriaBuilder.isTrue(criteriaBuilder.literal(false));\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>Specification&lt;TheEntity&gt; specification = (root, query, cb) -&gt; cb.isTrue(cb.literal(false));\n</code></pre>\n"}],"owner":{"account_id":217320,"reputation":42820,"user_id":473070,"accept_rate":82,"display_name":"Vladimir Ivanov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8799,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":6981105,"answer_count":4,"score":13,"last_activity_date":1678167648,"creation_date":1312800888,"question_id":6981083,"body_markdown":"I want the query not to return any values. I can&#39;t just not query database, so I&#39;d like to add some unreachable condition to predicates, something like &#39;where 1 &lt;&gt; 1&#39;. But the CriteriaBuilder.equal() doesn&#39;t allow to do that. Is there any way to reach the goal?\r\n\r\nThanks.","title":"criteria api where 1&lt;&gt;1 clause","body":"<p>I want the query not to return any values. I can't just not query database, so I'd like to add some unreachable condition to predicates, something like 'where 1 &lt;> 1'. But the CriteriaBuilder.equal() doesn't allow to do that. Is there any way to reach the goal?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","android","xml","android-edittext"],"owner":{"account_id":27953482,"reputation":11,"user_id":21346783,"display_name":"Anmol Panwar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1678182898,"answer_count":0,"score":1,"last_activity_date":1678167382,"creation_date":1678167360,"question_id":75658372,"body_markdown":"When I paste in Edittext in Android Studio, it paste color, underline and links also.\r\nI only want it to paste it as plain text. I can do it by &quot;paste as plain text&quot; or through clipboard. But How can I do it by default by clicking on paste itself.\r\n[image](https://i.stack.imgur.com/MFV6X.jpg)\r\n\r\n\r\n\r\n\r\n```\r\n&lt;EditText\r\n        android:id=&quot;@+id/input_text&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/textHome&quot;\r\n        android:layout_above=&quot;@id/submit_button&quot;\r\n        android:padding=&quot;16dp&quot;\r\n        android:textColor=&quot;#F1F1F1&quot;\r\n        android:hint=&quot;Enter text here...&quot;\r\n        android:textSize=&quot;16dp&quot;\r\n        android:gravity=&quot;top|left&quot;\r\n        android:inputType=&quot;textMultiLine&quot;\r\n        android:scrollbars=&quot;vertical&quot;\r\n        android:focusable=&quot;true&quot;\r\n        android:focusableInTouchMode=&quot;true&quot;\r\n        android:background=&quot;@drawable/edittext_background&quot;/&gt;\r\n```\r\n\r\nI tried changing inputType but still getting the same.","title":"How to paste as plain text in android EditText by default","body":"<p>When I paste in Edittext in Android Studio, it paste color, underline and links also.\nI only want it to paste it as plain text. I can do it by &quot;paste as plain text&quot; or through clipboard. But How can I do it by default by clicking on paste itself.\n<a href=\"https://i.stack.imgur.com/MFV6X.jpg\" rel=\"nofollow noreferrer\">image</a></p>\n<pre><code>&lt;EditText\n        android:id=&quot;@+id/input_text&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/textHome&quot;\n        android:layout_above=&quot;@id/submit_button&quot;\n        android:padding=&quot;16dp&quot;\n        android:textColor=&quot;#F1F1F1&quot;\n        android:hint=&quot;Enter text here...&quot;\n        android:textSize=&quot;16dp&quot;\n        android:gravity=&quot;top|left&quot;\n        android:inputType=&quot;textMultiLine&quot;\n        android:scrollbars=&quot;vertical&quot;\n        android:focusable=&quot;true&quot;\n        android:focusableInTouchMode=&quot;true&quot;\n        android:background=&quot;@drawable/edittext_background&quot;/&gt;\n</code></pre>\n<p>I tried changing inputType but still getting the same.</p>\n"},{"tags":["java","algorithm","testing","graph-theory"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1678016481,"post_id":75641297,"comment_id":133447962,"body_markdown":"It depends on your situation and requirements. A conventional way of seeing it is that a path consists of *0 or more* edges and that a path of length 0 ends in the same vertex where it starts. Seeing it this way the vertex has no edge to itself but still has a path to itself. A path consisting of 0 edges.","body":"It depends on your situation and requirements. A conventional way of seeing it is that a path consists of <i>0 or more</i> edges and that a path of length 0 ends in the same vertex where it starts. Seeing it this way the vertex has no edge to itself but still has a path to itself. A path consisting of 0 edges."},{"owner":{"account_id":27939108,"reputation":49,"user_id":21335474,"display_name":"User"},"score":0,"creation_date":1678017365,"post_id":75641297,"comment_id":133448095,"body_markdown":"If I understand you correctly, you&#39;re telling me that a vertex has always a path to itself even if it doesn&#39;t have an edge to itself? It kinda makes sense, but then I am back to square one. I&#39;ve implemented different version of the test method myself and my first implementation of hasPath passes all of them except for when I ask it if a vertex has a path to itself?","body":"If I understand you correctly, you&#39;re telling me that a vertex has always a path to itself even if it doesn&#39;t have an edge to itself? It kinda makes sense, but then I am back to square one. I&#39;ve implemented different version of the test method myself and my first implementation of hasPath passes all of them except for when I ask it if a vertex has a path to itself?"},{"owner":{"account_id":2460360,"reputation":64577,"user_id":2144669,"display_name":"David Eisenstat"},"score":1,"creation_date":1678025991,"post_id":75641297,"comment_id":133449351,"body_markdown":"Disallowing the empty path is in poor taste IMO. Let P be the binary relation where vPw means &quot;there is a simple path from v to w&quot; (assuming an undirected graph, but this also applies with modifications to directed). With empty paths, P is an equivalence relation (reflexive, symmetric, transitive), which is a really nice property. Without empty paths, P in general is only symmetric (!). We expect to lose reflexivity (vPv), but if vPw, then wPv, and since we don&#39;t have vPv, we&#39;ve lost transitivity too. Obviously, however, if this is an assignment, whoever wrote the test case has the last word.","body":"Disallowing the empty path is in poor taste IMO. Let P be the binary relation where vPw means &quot;there is a simple path from v to w&quot; (assuming an undirected graph, but this also applies with modifications to directed). With empty paths, P is an equivalence relation (reflexive, symmetric, transitive), which is a really nice property. Without empty paths, P in general is only symmetric (!). We expect to lose reflexivity (vPv), but if vPw, then wPv, and since we don&#39;t have vPv, we&#39;ve lost transitivity too. Obviously, however, if this is an assignment, whoever wrote the test case has the last word."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1678028133,"post_id":75641297,"comment_id":133449748,"body_markdown":"I didn&#39;t tell you to look at it that way in your context. But you understood correctly, what you say is what I consider a conventional and nice way to look at it for many purposes.","body":"I didn&#39;t tell you to look at it that way in your context. But you understood correctly, what you say is what I consider a conventional and nice way to look at it for many purposes."},{"owner":{"account_id":27939108,"reputation":49,"user_id":21335474,"display_name":"User"},"score":0,"creation_date":1678032177,"post_id":75641297,"comment_id":133450422,"body_markdown":"I agree but if you look at the name of the test method it says &quot;graphWithVerteciesWithoutEdgesHasPathIsFalse&quot;. Doesn&#39;t it mean that if there is no edges then there is no path?","body":"I agree but if you look at the name of the test method it says &quot;graphWithVerteciesWithoutEdgesHasPathIsFalse&quot;. Doesn&#39;t it mean that if there is no edges then there is no path?"},{"owner":{"account_id":2460360,"reputation":64577,"user_id":2144669,"display_name":"David Eisenstat"},"score":0,"creation_date":1678037112,"post_id":75641297,"comment_id":133451279,"body_markdown":"@User Yes, the person who wrote that test considers no edges to imply no path. But I would disagree. This is ultimately an argument about definitions with no &quot;right&quot; answer (but a prettier answer and an uglier answer, IMO).","body":"@User Yes, the person who wrote that test considers no edges to imply no path. But I would disagree. This is ultimately an argument about definitions with no &quot;right&quot; answer (but a prettier answer and an uglier answer, IMO)."},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1678042703,"post_id":75641297,"comment_id":133452256,"body_markdown":"I am pretty sure that it is common to look at it like Ole V.V. describes it in the first comment. I&#39;ve never seen any teaching material that would suggest otherwise. Also intuition, if I am at home, there is a path to my home, even if I don&#39;t have the keys and doors lock automatically, so I cannot come back when leaving, but if I am right there now then I have a path.","body":"I am pretty sure that it is common to look at it like Ole V.V. describes it in the first comment. I&#39;ve never seen any teaching material that would suggest otherwise. Also intuition, if I am at home, there is a path to my home, even if I don&#39;t have the keys and doors lock automatically, so I cannot come back when leaving, but if I am right there now then I have a path."},{"owner":{"account_id":27939108,"reputation":49,"user_id":21335474,"display_name":"User"},"score":0,"creation_date":1678044282,"post_id":75641297,"comment_id":133452540,"body_markdown":"@maraca I couldn&#39;t agree more! But the problem is then I have literally no idea what is wrong with my code. I have spent a bit over 2 days trying to figure this out now and I&#39;ve not found anything. Would you please look at the code if you can spot maybe something that might affect the test method?","body":"@maraca I couldn&#39;t agree more! But the problem is then I have literally no idea what is wrong with my code. I have spent a bit over 2 days trying to figure this out now and I&#39;ve not found anything. Would you please look at the code if you can spot maybe something that might affect the test method?"},{"owner":{"account_id":27939108,"reputation":49,"user_id":21335474,"display_name":"User"},"score":0,"creation_date":1678044410,"post_id":75641297,"comment_id":133452582,"body_markdown":"@David Eisenstat so you&#39;re telling me that No Edge, No Path is also about a vertex&#39;s relation to itself? But in anycase should I keep the &quot;if == &quot; statement or change it by &quot;if has edge statement&quot;?","body":"@David Eisenstat so you&#39;re telling me that No Edge, No Path is also about a vertex&#39;s relation to itself? But in anycase should I keep the &quot;if == &quot; statement or change it by &quot;if has edge statement&quot;?"},{"owner":{"account_id":27939108,"reputation":49,"user_id":21335474,"display_name":"User"},"score":0,"creation_date":1678044996,"post_id":75641297,"comment_id":133452730,"body_markdown":"Also I should add that it is a weighted graph","body":"Also I should add that it is a weighted graph"},{"owner":{"account_id":2460360,"reputation":64577,"user_id":2144669,"display_name":"David Eisenstat"},"score":0,"creation_date":1678045434,"post_id":75641297,"comment_id":133452831,"body_markdown":"This isn&#39;t really a graph theory problem. You can either follow the spec as is, not follow the spec as is, or get the spec changed. The consensus in this comment thread is that the spec *should* be changed, but we can&#39;t change it for you. (Your `hasPath` is basically what I would have written.)","body":"This isn&#39;t really a graph theory problem. You can either follow the spec as is, not follow the spec as is, or get the spec changed. The consensus in this comment thread is that the spec <i>should</i> be changed, but we can&#39;t change it for you. (Your <code>hasPath</code> is basically what I would have written.)"},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":1,"creation_date":1678047991,"post_id":75641297,"comment_id":133453301,"body_markdown":"@User as said by David Eisenstat your solution is fine, but they want to see something different, so you have to go with it. But you could say that you didn&#39;t understand at first and it would be helpful to include whether path to same node always exists or not. My guess is they made a mistake in the checker, but I would avoid saying they did something wrong or they feel threatened and can get annoying to deal with.","body":"@User as said by David Eisenstat your solution is fine, but they want to see something different, so you have to go with it. But you could say that you didn&#39;t understand at first and it would be helpful to include whether path to same node always exists or not. My guess is they made a mistake in the checker, but I would avoid saying they did something wrong or they feel threatened and can get annoying to deal with."}],"owner":{"account_id":27939108,"reputation":49,"user_id":21335474,"display_name":"User"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678167236,"creation_date":1678009104,"question_id":75641297,"body_markdown":"So I have created a method called hasPath that checks if there is a path between two given vertices. It passes all the test methods except one test method that asserts that a graph with vertecies without edges hasPath is False. \r\n\r\nWhen I create a new graph in the main method and do this to an empty graph\r\n\r\n&gt; System.out.println(Graph.hasPath(g, 0, 0));\r\n\r\nIt returns true, meaning it assumes that a vertex has an edge to itself.\r\n\r\nSo I changed this line on line 8:\r\n\r\n&gt; if (topVertex == w)\r\n\r\nto \r\n\r\n&gt; if(g.hasEdge(topVertex, w))\r\n\r\nNow it returns false which is good, but my question is this why it was failing the test method I mentioned (I don&#39;t have access to the test method). Also what difference does this change make? I feel like &quot;==&quot; still does the job?\r\n\r\nThis is my first implementation.\r\n\r\n```java\r\n    public static boolean hasPath(Graph g, int v, int w) {\r\n        Queue&lt;Integer&gt; queue = new LinkedList&lt;&gt;();\r\n        boolean [] visited = new boolean[g.numVertices()];\r\n        queue.offer(v);\r\n        visited[v] = true;\r\n        while(!queue.isEmpty()){\r\n            int topVertex = queue.poll();\r\n            if(topVertex == w){\r\n                return true;\r\n            }            \r\n            Iterator&lt;Integer&gt; it = g.neighbors(topVertex);\r\n\r\n            while(it.hasNext()){\r\n                int ite = it.next();\r\n                if(!visited[ite]){\r\n                    visited[ite]=true;\r\n                    queue.offer(ite);\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    \r\n    }\r\n        ```\r\n\r\n\r\n","title":"Does a vertex always have a path to iteself even if it doesn&#39;t have an edge to itself?","body":"<p>So I have created a method called hasPath that checks if there is a path between two given vertices. It passes all the test methods except one test method that asserts that a graph with vertecies without edges hasPath is False.</p>\n<p>When I create a new graph in the main method and do this to an empty graph</p>\n<blockquote>\n<p>System.out.println(Graph.hasPath(g, 0, 0));</p>\n</blockquote>\n<p>It returns true, meaning it assumes that a vertex has an edge to itself.</p>\n<p>So I changed this line on line 8:</p>\n<blockquote>\n<p>if (topVertex == w)</p>\n</blockquote>\n<p>to</p>\n<blockquote>\n<p>if(g.hasEdge(topVertex, w))</p>\n</blockquote>\n<p>Now it returns false which is good, but my question is this why it was failing the test method I mentioned (I don't have access to the test method). Also what difference does this change make? I feel like &quot;==&quot; still does the job?</p>\n<p>This is my first implementation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static boolean hasPath(Graph g, int v, int w) {\n        Queue&lt;Integer&gt; queue = new LinkedList&lt;&gt;();\n        boolean [] visited = new boolean[g.numVertices()];\n        queue.offer(v);\n        visited[v] = true;\n        while(!queue.isEmpty()){\n            int topVertex = queue.poll();\n            if(topVertex == w){\n                return true;\n            }            \n            Iterator&lt;Integer&gt; it = g.neighbors(topVertex);\n\n            while(it.hasNext()){\n                int ite = it.next();\n                if(!visited[ite]){\n                    visited[ite]=true;\n                    queue.offer(ite);\n                }\n            }\n        }\n        return false;\n    \n    }\n        ```\n\n\n</code></pre>\n"},{"tags":["java","spring-boot","maven","intellij-idea","jasypt"],"comments":[{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":0,"creation_date":1678171834,"post_id":75658317,"comment_id":133476998,"body_markdown":"Try to add these flags into `Settings | Build, Execution, Deployment | Build Tools | Maven | Runner | VM Options` to see if it helps.","body":"Try to add these flags into <code>Settings | Build, Execution, Deployment | Build Tools | Maven | Runner | VM Options</code> to see if it helps."}],"owner":{"account_id":6600236,"reputation":63,"user_id":5098776,"display_name":"Akash Chaudhuri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678166854,"creation_date":1678166854,"question_id":75658317,"body_markdown":"I am trying to configure jasypt-maven-plugin in my spring-boot application. \r\nOn building my project with the below command, the build is successful. But I am not able to get the encrypted password on running the encrypt command. \r\n\r\n**Command Used:**\r\n    mvn jasypt:encrypt -DjasyptEncryptorPassword=&quot;learningjava&quot; -DdecryptedValue=&quot;dev12345&quot; \r\n\r\n**pom.xml** \r\n\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jasypt-spring-boot-starter&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.3&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    \r\n      &lt;build&gt;\r\n          &lt;pluginManagement&gt;\r\n              &lt;plugins&gt;\r\n                  &lt;plugin&gt;\r\n                      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                      &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                  &lt;/plugin&gt;\r\n                  &lt;plugin&gt;\r\n                        &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\r\n                      &lt;artifactId&gt;jasypt-maven-plugin&lt;/artifactId&gt;\r\n                      &lt;version&gt;3.0.3&lt;/version&gt;\r\n                  &lt;/plugin&gt;\r\n              &lt;/plugins&gt;\r\n          &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n\r\n**App.java**\r\n\r\n    @SpringBootApplication\r\n    @EnableEncryptableProperties\r\n    public class App {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(App.class, args);\r\n        }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MF3KI.jpg","title":"jasypt-maven-plugin doesn&#39;t encrypt the provided value in IntelliJ","body":"<p>I am trying to configure jasypt-maven-plugin in my spring-boot application.\nOn building my project with the below command, the build is successful. But I am not able to get the encrypted password on running the encrypt command.</p>\n<p><strong>Command Used:</strong>\nmvn jasypt:encrypt -DjasyptEncryptorPassword=&quot;learningjava&quot; -DdecryptedValue=&quot;dev12345&quot;</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>  &lt;dependency&gt;\n      &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\n      &lt;artifactId&gt;jasypt-spring-boot-starter&lt;/artifactId&gt;\n      &lt;version&gt;3.0.3&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;build&gt;\n      &lt;pluginManagement&gt;\n          &lt;plugins&gt;\n              &lt;plugin&gt;\n                  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                  &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n              &lt;/plugin&gt;\n              &lt;plugin&gt;\n                    &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\n                  &lt;artifactId&gt;jasypt-maven-plugin&lt;/artifactId&gt;\n                  &lt;version&gt;3.0.3&lt;/version&gt;\n              &lt;/plugin&gt;\n          &lt;/plugins&gt;\n      &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n</code></pre>\n<p><strong>App.java</strong></p>\n<pre><code>@SpringBootApplication\n@EnableEncryptableProperties\npublic class App {\n\n    public static void main(String[] args) {\n        SpringApplication.run(App.class, args);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/MF3KI.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MF3KI.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22881048,"reputation":231,"user_id":17022635,"display_name":"siarhei987"},"score":0,"creation_date":1678133352,"post_id":75655270,"comment_id":133471141,"body_markdown":"You pass a relative path to a directory so it depends on a current working directory. If you are trying to start your program from IDE, your current working directory would be the root of your project. You can check it with `new File(&quot;&quot;).getAbsolutePath()`.","body":"You pass a relative path to a directory so it depends on a current working directory. If you are trying to start your program from IDE, your current working directory would be the root of your project. You can check it with <code>new File(&quot;&quot;).getAbsolutePath()</code>."},{"owner":{"account_id":27708886,"reputation":23,"user_id":21151953,"display_name":"webdudewithnoname"},"score":0,"creation_date":1678133811,"post_id":75655270,"comment_id":133471260,"body_markdown":"But what if the path that I am providing leads to a directory located in another module ?","body":"But what if the path that I am providing leads to a directory located in another module ?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1678139361,"post_id":75655270,"comment_id":133472485,"body_markdown":"You can use `..` in the path to move one directory up in the hierarchy, as in `”../another-module/src/main/resources/my_directory”`, or provide an absolute path.","body":"You can use <code>..</code> in the path to move one directory up in the hierarchy, as in <code>”..&#47;another-module&#47;src&#47;main&#47;resources&#47;my_directory”</code>, or provide an absolute path."}],"answers":[{"tags":[],"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678166100,"creation_date":1678166100,"answer_id":75658257,"question_id":75655270,"body_markdown":"Ideally you should be able read anything that is place in the resource directory using the classloader as it will be available in the classpath. Please have a look at the code below, this should work for your case as well:\r\n\r\n```\r\npublic class ClassToReadJsons {\r\n\r\n  public static void main(String[] args) {\r\n    new ClassToReadJsons().getFiles(ClassToReadJsons.class.getClassLoader().getResource(&quot;my_directory&quot;).getPath()).forEach(file -&gt; System.out.println(file.getAbsolutePath()));\r\n  }\r\n  private List&lt;File&gt; getFiles(String directoryPath) {\r\n    File directory = new File(directoryPath);\r\n    File[] files = directory.listFiles((dir, name) -&gt; name.endsWith(&quot;.json&quot;));\r\n    if (files != null) {\r\n      return Arrays.asList(files);\r\n    } else {\r\n      return Collections.emptyList();\r\n    }\r\n  }\r\n}\r\n```","title":"Reading json files from a directory throws exception with the provided path","body":"<p>Ideally you should be able read anything that is place in the resource directory using the classloader as it will be available in the classpath. Please have a look at the code below, this should work for your case as well:</p>\n<pre><code>public class ClassToReadJsons {\n\n  public static void main(String[] args) {\n    new ClassToReadJsons().getFiles(ClassToReadJsons.class.getClassLoader().getResource(&quot;my_directory&quot;).getPath()).forEach(file -&gt; System.out.println(file.getAbsolutePath()));\n  }\n  private List&lt;File&gt; getFiles(String directoryPath) {\n    File directory = new File(directoryPath);\n    File[] files = directory.listFiles((dir, name) -&gt; name.endsWith(&quot;.json&quot;));\n    if (files != null) {\n      return Arrays.asList(files);\n    } else {\n      return Collections.emptyList();\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":27708886,"reputation":23,"user_id":21151953,"display_name":"webdudewithnoname"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678166100,"creation_date":1678132545,"question_id":75655270,"body_markdown":"I am trying to read bunch of json files and return them as List&lt;Files&gt;.\r\nI am providing the path from the repository root as an argument, but i keep getting an &quot;Unexpected exception thrown: java.lang.IllegalArgumentException&quot;. \r\n\r\nHere is my code:\r\n\r\n```\r\n  private List&lt;File&gt; getFiles(String directoryPath) {\r\n    File directory = new File(directoryPath);\r\n    File[] files = directory.listFiles((dir, name) -&gt; name.endsWith(&quot;.json&quot;));\r\n    if (files != null) {\r\n      return Arrays.asList(files);\r\n    } else {\r\n      return Collections.emptyList();\r\n    }\r\n  }\r\n```\r\n\r\nThe funny thing is if i provide a path from content root (src/main/resources/my_directory), it returns the files, but otherwise with path to repository root (my-app-1/src/main/resouces/my_directory) throws an exception.","title":"Reading json files from a directory throws exception with the provided path","body":"<p>I am trying to read bunch of json files and return them as List.\nI am providing the path from the repository root as an argument, but i keep getting an &quot;Unexpected exception thrown: java.lang.IllegalArgumentException&quot;.</p>\n<p>Here is my code:</p>\n<pre><code>  private List&lt;File&gt; getFiles(String directoryPath) {\n    File directory = new File(directoryPath);\n    File[] files = directory.listFiles((dir, name) -&gt; name.endsWith(&quot;.json&quot;));\n    if (files != null) {\n      return Arrays.asList(files);\n    } else {\n      return Collections.emptyList();\n    }\n  }\n</code></pre>\n<p>The funny thing is if i provide a path from content root (src/main/resources/my_directory), it returns the files, but otherwise with path to repository root (my-app-1/src/main/resouces/my_directory) throws an exception.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1678166732,"post_id":75658033,"comment_id":133476212,"body_markdown":"Does the middleware provide an API?","body":"Does the middleware provide an API?"},{"owner":{"account_id":9225058,"reputation":425,"user_id":6853132,"accept_rate":50,"display_name":"Bhuvaneshwari K"},"score":0,"creation_date":1678179360,"post_id":75658033,"comment_id":133478781,"body_markdown":"Yes.  This is used for create api  -  /create","body":"Yes.  This is used for create api  -  /create"},{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1678195437,"post_id":75658033,"comment_id":133483026,"body_markdown":"To pass your json data, you have use this API that is available. But you will have a constrains related to the contract provided by this API. You will have to readapt the content of your json to match the API contract.","body":"To pass your json data, you have use this API that is available. But you will have a constrains related to the contract provided by this API. You will have to readapt the content of your json to match the API contract."},{"owner":{"account_id":9225058,"reputation":425,"user_id":6853132,"accept_rate":50,"display_name":"Bhuvaneshwari K"},"score":0,"creation_date":1678436790,"post_id":75658033,"comment_id":133535560,"body_markdown":"I used the same structure being used for front-end UI, which solves my issue.","body":"I used the same structure being used for front-end UI, which solves my issue."}],"owner":{"account_id":9225058,"reputation":425,"user_id":6853132,"accept_rate":50,"display_name":"Bhuvaneshwari K"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678164791,"creation_date":1678163133,"question_id":75658033,"body_markdown":"I am passing below request to an api using postman.\r\n\r\n\r\n    {\r\n      &quot;user&quot;: {\r\n        &quot;phone&quot;:&quot;1111111111&quot;,\r\n        &quot;email&quot;: &quot;sample@gmail.com&quot;\r\n      },\r\n      &quot;eIdentifier&quot;: {\r\n        &quot;cIdentifier&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;Fname&quot;,\r\n            &quot;value&quot;: &quot;Test&quot;\r\n          },\r\n            {\r\n            &quot;name&quot;: &quot;Lname&quot;,\r\n            &quot;value&quot;: &quot;Test&quot;\r\n          },\r\n           {\r\n            &quot;name&quot;: &quot;Product&quot;,\r\n            &quot;value&quot;: &quot;Pouch&quot;\r\n          }\r\n        ]\r\n      }\r\n    }    \r\n\r\nIn local env, I tried passing request from postman to middleware, all the data are binding properly and getting saved in 3rd party application. But in front end, user will have UI, to select product, email, first name, last name and phone number. When user clicks Login button, all those parameters will be passed to a middleware, and from middleware data should bind accordingly as per above syntax and send it to a third-party application to store the information.\r\n\r\nHow can I bind the data from front end to middleware for this key and value cIdentifier arraylist?\r\n","title":"How to bind Postman key and value pair data to Pojo Class using Java","body":"<p>I am passing below request to an api using postman.</p>\n<pre><code>{\n  &quot;user&quot;: {\n    &quot;phone&quot;:&quot;1111111111&quot;,\n    &quot;email&quot;: &quot;sample@gmail.com&quot;\n  },\n  &quot;eIdentifier&quot;: {\n    &quot;cIdentifier&quot;: [\n      {\n        &quot;name&quot;: &quot;Fname&quot;,\n        &quot;value&quot;: &quot;Test&quot;\n      },\n        {\n        &quot;name&quot;: &quot;Lname&quot;,\n        &quot;value&quot;: &quot;Test&quot;\n      },\n       {\n        &quot;name&quot;: &quot;Product&quot;,\n        &quot;value&quot;: &quot;Pouch&quot;\n      }\n    ]\n  }\n}    \n</code></pre>\n<p>In local env, I tried passing request from postman to middleware, all the data are binding properly and getting saved in 3rd party application. But in front end, user will have UI, to select product, email, first name, last name and phone number. When user clicks Login button, all those parameters will be passed to a middleware, and from middleware data should bind accordingly as per above syntax and send it to a third-party application to store the information.</p>\n<p>How can I bind the data from front end to middleware for this key and value cIdentifier arraylist?</p>\n"},{"tags":["java","amazon-s3","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":1920397,"reputation":2057,"user_id":1732062,"accept_rate":100,"display_name":"djWann"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1463497293,"creation_date":1463497293,"answer_id":37279766,"question_id":37254681,"body_markdown":"I didn&#39;t find a direct solution to this problem so I used a workaround:\r\n\r\n    val df2 = sql.read.parquet(path2)\r\n    df2.write.mode(SaveMode.Append).parquet(path1)\r\n    \r\n    val df1 = sql.read.parquet(path1)\r\n    df1.write.mode(SaveMode.Overwrite).parquet(path1)","title":"Spark throwing FileNotFoundException when overwriting dataframe on S3","body":"<p>I didn't find a direct solution to this problem so I used a workaround:</p>\n\n<pre><code>val df2 = sql.read.parquet(path2)\ndf2.write.mode(SaveMode.Append).parquet(path1)\n\nval df1 = sql.read.parquet(path1)\ndf1.write.mode(SaveMode.Overwrite).parquet(path1)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":67775,"reputation":5570,"user_id":198123,"accept_rate":100,"display_name":"Chris Harrison"},"score":0,"creation_date":1511348908,"post_id":47429952,"comment_id":81820461,"body_markdown":"@AbdulMalik I believe &quot;you should use a different path for writing the final output&quot; to be a valid answer. I don&#39;t know whether it&#39;s correct because I&#39;m in review and can&#39;t see the original question. But it&#39;s not an invalid answer.","body":"@AbdulMalik I believe &quot;you should use a different path for writing the final output&quot; to be a valid answer. I don&#39;t know whether it&#39;s correct because I&#39;m in review and can&#39;t see the original question. But it&#39;s not an invalid answer."}],"tags":[],"owner":{"account_id":4979060,"reputation":31,"user_id":4004598,"display_name":"Raghwendra Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512560916,"creation_date":1511339354,"answer_id":47429952,"question_id":37254681,"body_markdown":"In the above case as both the read and write paths are same the consistency model becomes eventual consistency. \r\nTo give an example in your code data is read from same path1 and the final data is also to path1, it reads the data initially but as spark starts writing data the data being read is removed hence giving `java.io.FileNotFound` exception.\r\nSo if possible you should use different path for writing the final output.\r\n\r\nThis kind of read write if even considered as error in spark sql, when you read a dataframe from a table and write to that same table an error is thrown by spark, telling read and write to same location not allowed.","title":"Spark throwing FileNotFoundException when overwriting dataframe on S3","body":"<p>In the above case as both the read and write paths are same the consistency model becomes eventual consistency. \nTo give an example in your code data is read from same path1 and the final data is also to path1, it reads the data initially but as spark starts writing data the data being read is removed hence giving <code>java.io.FileNotFound</code> exception.\nSo if possible you should use different path for writing the final output.</p>\n\n<p>This kind of read write if even considered as error in spark sql, when you read a dataframe from a table and write to that same table an error is thrown by spark, telling read and write to same location not allowed.</p>\n"},{"tags":[],"owner":{"account_id":8201651,"reputation":1736,"user_id":6172826,"display_name":"seunggabi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678163836,"creation_date":1678087287,"answer_id":75648068,"question_id":37254681,"body_markdown":"### recommend to use spark.yarn.stagingDir\r\n```\r\n    private fun read(\r\n        target: String,\r\n        extension: Extension,\r\n        repartition: Int? = 1,\r\n    ): Dataset&lt;Row&gt; {\r\n        return SparkUtil.make()\r\n            .read()\r\n            .format(extension.name)\r\n            .load(target)\r\n            .repartition(repartition!!)\r\n    }\r\n\r\n    private fun merge(\r\n        target: String,\r\n        extension: Extension,\r\n        repartition: Int? = 1,\r\n    ) {\r\n        val ds = read(target, extension, repartition)\r\n\r\n        val dir = SparkUtil.conf(&quot;spark.yarn.stagingDir&quot;) // stagingDir\r\n        val id = SparkUtil.id() // applicationId\r\n        val temp = &quot;$dir/$id&quot;\r\n\r\n        ds.write()\r\n            .format(extension.name)\r\n            .mode(SaveMode.Overwrite)\r\n            .save(temp)\r\n\r\n        read(temp, extension, repartition)\r\n            .write()\r\n            .format(extension.name)\r\n            .mode(SaveMode.Overwrite)\r\n            .save(target)\r\n    }\r\n```","title":"Spark throwing FileNotFoundException when overwriting dataframe on S3","body":"<h3>recommend to use spark.yarn.stagingDir</h3>\n<pre><code>    private fun read(\n        target: String,\n        extension: Extension,\n        repartition: Int? = 1,\n    ): Dataset&lt;Row&gt; {\n        return SparkUtil.make()\n            .read()\n            .format(extension.name)\n            .load(target)\n            .repartition(repartition!!)\n    }\n\n    private fun merge(\n        target: String,\n        extension: Extension,\n        repartition: Int? = 1,\n    ) {\n        val ds = read(target, extension, repartition)\n\n        val dir = SparkUtil.conf(&quot;spark.yarn.stagingDir&quot;) // stagingDir\n        val id = SparkUtil.id() // applicationId\n        val temp = &quot;$dir/$id&quot;\n\n        ds.write()\n            .format(extension.name)\n            .mode(SaveMode.Overwrite)\n            .save(temp)\n\n        read(temp, extension, repartition)\n            .write()\n            .format(extension.name)\n            .mode(SaveMode.Overwrite)\n            .save(target)\n    }\n</code></pre>\n"}],"owner":{"account_id":1920397,"reputation":2057,"user_id":1732062,"accept_rate":100,"display_name":"djWann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3530,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":37279766,"answer_count":3,"score":0,"last_activity_date":1678163836,"creation_date":1463404054,"question_id":37254681,"body_markdown":"I have partitioned parquet files stored on two locations on S3 in the same bucket:\r\n\r\n    path1: s3n://bucket/a/\r\n    path2: s3n://bucket/b/\r\n\r\nThe data has the same structure. I want to read the files from the first location and aggregate them to the second location using spark sql. Here is the code snippet:\r\n\r\n    val df1 = sql.read.parquet(path1)\r\n    val df2 = sql.read.parquet(path2)\r\n    \r\n    val df = df1.unionAll(df2)\r\n    \r\n    df.write.mode(SaveMode.Overwrite).parquet(path1)\r\n\r\nWhen I run this piece of code I get the following exception:\r\n\r\n    java.io.FileNotFoundException: No such file or directory \r\n    s3n://a/part-r-00001-file.gz.parquet\r\n\r\nI&#39;m using spark 1.6.1 and scala 2.11.","title":"Spark throwing FileNotFoundException when overwriting dataframe on S3","body":"<p>I have partitioned parquet files stored on two locations on S3 in the same bucket:</p>\n\n<pre><code>path1: s3n://bucket/a/\npath2: s3n://bucket/b/\n</code></pre>\n\n<p>The data has the same structure. I want to read the files from the first location and aggregate them to the second location using spark sql. Here is the code snippet:</p>\n\n<pre><code>val df1 = sql.read.parquet(path1)\nval df2 = sql.read.parquet(path2)\n\nval df = df1.unionAll(df2)\n\ndf.write.mode(SaveMode.Overwrite).parquet(path1)\n</code></pre>\n\n<p>When I run this piece of code I get the following exception:</p>\n\n<pre><code>java.io.FileNotFoundException: No such file or directory \ns3n://a/part-r-00001-file.gz.parquet\n</code></pre>\n\n<p>I'm using spark 1.6.1 and scala 2.11.</p>\n"},{"tags":["java","video-processing","webm"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678171321,"post_id":75657993,"comment_id":133476884,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27953120,"reputation":1,"user_id":21346501,"display_name":"Zora Liu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678162483,"creation_date":1678162483,"question_id":75657993,"body_markdown":"I want to merge multiple .webm files into one, a simple splice. After looking around all I need to use is ffmpeg.\r\nIs there a way to merge without using FFMPEG?\r\n\r\nI tried stitching the two videos together directly using FileInputStream and FileOutputStream, but the stitched video gives me an error at the second file location.","title":"How can I merge multiple .webm (Audio) files using java without FFMPEG?","body":"<p>I want to merge multiple .webm files into one, a simple splice. After looking around all I need to use is ffmpeg.\nIs there a way to merge without using FFMPEG?</p>\n<p>I tried stitching the two videos together directly using FileInputStream and FileOutputStream, but the stitched video gives me an error at the second file location.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":2858222,"reputation":2416,"user_id":2453985,"display_name":"Vikram Palakurthi"},"score":0,"creation_date":1522360305,"post_id":49565443,"comment_id":86139437,"body_markdown":"Include more information, code snippets, screenshots, log trace. which could be helpful in finding a solution.","body":"Include more information, code snippets, screenshots, log trace. which could be helpful in finding a solution."},{"owner":{"account_id":3940837,"reputation":2674,"user_id":4443351,"accept_rate":71,"display_name":"Bizon4ik"},"score":0,"creation_date":1522361609,"post_id":49565443,"comment_id":86139887,"body_markdown":"@VikramPalakurthi I created a new spring-boot app without any controller. Put above mention logging level in `application.property` and start the app. Then send some request to this app and obtained 404 error in response, however, there is nothing in the application log. What should I do to find 404 error in log (change log level to `DEBUG` is not an option)?","body":"@VikramPalakurthi I created a new spring-boot app without any controller. Put above mention logging level in <code>application.property</code> and start the app. Then send some request to this app and obtained 404 error in response, however, there is nothing in the application log. What should I do to find 404 error in log (change log level to <code>DEBUG</code> is not an option)?"},{"owner":{"account_id":2858222,"reputation":2416,"user_id":2453985,"display_name":"Vikram Palakurthi"},"score":0,"creation_date":1522361955,"post_id":49565443,"comment_id":86140002,"body_markdown":"So when there is no controller in place and you are trying to access the url which gave you a 404 error. This sounds right to me. Implement a base controller and then try to access it. What you created is just a simple application without any access points, try to complete it by adding a controller and methods which handle requests and send responses (view or json) for example.","body":"So when there is no controller in place and you are trying to access the url which gave you a 404 error. This sounds right to me. Implement a base controller and then try to access it. What you created is just a simple application without any access points, try to complete it by adding a controller and methods which handle requests and send responses (view or json) for example."},{"owner":{"account_id":2858222,"reputation":2416,"user_id":2453985,"display_name":"Vikram Palakurthi"},"score":0,"creation_date":1522362003,"post_id":49565443,"comment_id":86140024,"body_markdown":"And, if you want to see the logs you need to update the log config for tomcat, if that&#39;s what you are using.","body":"And, if you want to see the logs you need to update the log config for tomcat, if that&#39;s what you are using."},{"owner":{"account_id":2858222,"reputation":2416,"user_id":2453985,"display_name":"Vikram Palakurthi"},"score":0,"creation_date":1522362094,"post_id":49565443,"comment_id":86140052,"body_markdown":"use this reference to enable logs https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html","body":"use this reference to enable logs <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":2858222,"reputation":2416,"user_id":2453985,"display_name":"Vikram Palakurthi"},"score":0,"creation_date":1522362286,"post_id":49565443,"comment_id":86140110,"body_markdown":"Possible duplicate of [Spring Boot: How can I set the logging level with application.properties?](https://stackoverflow.com/questions/20485059/spring-boot-how-can-i-set-the-logging-level-with-application-properties)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/20485059/spring-boot-how-can-i-set-the-logging-level-with-application-properties\">Spring Boot: How can I set the logging level with application.properties?</a>"},{"owner":{"account_id":5221480,"reputation":65,"user_id":4174815,"display_name":"Danish ALI"},"score":0,"creation_date":1678157588,"post_id":49565443,"comment_id":133475173,"body_markdown":"[404 Exception not handled in Spring ControllerAdvice](https://stackoverflow.com/questions/54116245/404-exception-not-handled-in-spring-controlleradvice) might help","body":"<a href=\"https://stackoverflow.com/questions/54116245/404-exception-not-handled-in-spring-controlleradvice\">404 Exception not handled in Spring ControllerAdvice</a> might help"}],"answers":[{"tags":[],"owner":{"account_id":5221480,"reputation":65,"user_id":4174815,"display_name":"Danish ALI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678160337,"creation_date":1678160337,"answer_id":75657846,"question_id":49565443,"body_markdown":"I did a bit of experimentation and turn outs that for now you have to add following to the properties\r\n\r\n    spring.mvc.throw-exception-if-no-handler-found=true\r\n    spring.web.resources.add-mappings=false\r\n\r\nthen even with no logging configuration you will get logs which look something like: \r\n\r\n&gt; 2023-03-07T03:35:24.323Z  WARN 283306 --- [nio-8080-exec-1]\r\n&gt; o.s.web.servlet.PageNotFound             : No mapping for GET /bad\r\n&gt; 2023-03-07T03:35:24.327Z  WARN 283306 --- [nio-8080-exec-1]\r\n&gt; o.s.web.servlet.PageNotFound             : No endpoint GET /bad.\r\n&gt; 2023-03-07T03:35:24.329Z  WARN 283306 --- [nio-8080-exec-1]\r\n&gt; .w.s.m.s.DefaultHandlerExceptionResolver : Resolved\r\n&gt; [org.springframework.web.servlet.NoHandlerFoundException: No endpoint\r\n&gt; GET /bad.]","title":"Spring Boot add in log information about 404 error","body":"<p>I did a bit of experimentation and turn outs that for now you have to add following to the properties</p>\n<pre><code>spring.mvc.throw-exception-if-no-handler-found=true\nspring.web.resources.add-mappings=false\n</code></pre>\n<p>then even with no logging configuration you will get logs which look something like:</p>\n<blockquote>\n<p>2023-03-07T03:35:24.323Z  WARN 283306 --- [nio-8080-exec-1]\no.s.web.servlet.PageNotFound             : No mapping for GET /bad\n2023-03-07T03:35:24.327Z  WARN 283306 --- [nio-8080-exec-1]\no.s.web.servlet.PageNotFound             : No endpoint GET /bad.\n2023-03-07T03:35:24.329Z  WARN 283306 --- [nio-8080-exec-1]\n.w.s.m.s.DefaultHandlerExceptionResolver : Resolved\n[org.springframework.web.servlet.NoHandlerFoundException: No endpoint\nGET /bad.]</p>\n</blockquote>\n"}],"owner":{"account_id":3940837,"reputation":2674,"user_id":4443351,"accept_rate":71,"display_name":"Bizon4ik"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2130,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1678160337,"creation_date":1522359573,"question_id":49565443,"body_markdown":"I use the following log level `logging.level.org.springframework.web= ERROR` and wish also to see in my log 404 error (with full URL) that is generated when requested URL cannot be matched to any controller. What is the best way for this? ","title":"Spring Boot add in log information about 404 error","body":"<p>I use the following log level <code>logging.level.org.springframework.web= ERROR</code> and wish also to see in my log 404 error (with full URL) that is generated when requested URL cannot be matched to any controller. What is the best way for this? </p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":1,"creation_date":1678160997,"post_id":75657833,"comment_id":133475517,"body_markdown":"What JDK does it show when you run `mvn --version` in the command?","body":"What JDK does it show when you run <code>mvn --version</code> in the command?"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1678163055,"post_id":75657833,"comment_id":133475730,"body_markdown":"Perhaps you need to check the setting for the compiler plugin as well, see https://stackoverflow.com/questions/38882080/specifying-java-version-in-maven-differences-between-properties-and-compiler-p","body":"Perhaps you need to check the setting for the compiler plugin as well, see <a href=\"https://stackoverflow.com/questions/38882080/specifying-java-version-in-maven-differences-between-properties-and-compiler-p\" title=\"specifying java version in maven differences between properties and compiler p\">stackoverflow.com/questions/38882080/&hellip;</a>"},{"owner":{"account_id":20929302,"reputation":1,"user_id":15376057,"display_name":"Dan Wang"},"score":0,"creation_date":1678174773,"post_id":75657833,"comment_id":133477597,"body_markdown":"@LJreplica, It&#39;s JDK 17. I realized this may be the reason for compilation error using the command line. So I changed it to JDK 11 and the compilation succeeded. However, I still wonder why compile using IDEA failed given that I have appoint all possible configuration of JDK to 11.","body":"@LJreplica, It&#39;s JDK 17. I realized this may be the reason for compilation error using the command line. So I changed it to JDK 11 and the compilation succeeded. However, I still wonder why compile using IDEA failed given that I have appoint all possible configuration of JDK to 11."},{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":0,"creation_date":1678182231,"post_id":75657833,"comment_id":133479541,"body_markdown":"Check `Settings | Build, Execution, Deployment | Build Tools | Maven | Runner`, `File | Project Structure | Modules | module_name | Dependencies | Module SDK` any JDK 17 there.","body":"Check <code>Settings | Build, Execution, Deployment | Build Tools | Maven | Runner</code>, <code>File | Project Structure | Modules | module_name | Dependencies | Module SDK</code> any JDK 17 there."}],"owner":{"account_id":20929302,"reputation":1,"user_id":15376057,"display_name":"Dan Wang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678160103,"creation_date":1678160103,"question_id":75657833,"body_markdown":"I am building a java project using maven. I have appointed the compiler source and target to 11 in the pom.xml. \r\n\r\n```\r\n&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n```\r\nHowever, when I execute `mvn package`, I got an error message indicating class `AccessControlException` in `java.security` is deprecated and will be removed.\r\n\r\nI&#39;m really confused, since the `AccessControlException` class is deprecated after JDK 17 while I am using JDK 11. Can anyone tell me what&#39;s wrong?\r\n\r\n\r\nI&#39;ve tried to compile my project both in IDEA and using command line, but getting this error all the time.\r\nWhen using IDEA, I&#39;ve set the SDK and the language level of the project and all its modules to 11. I also set the maven runner JRE to use the prokect JDK.","title":"Deprecated class error during maven install (using JDK 11 but the class is deprecated after JDK 17)","body":"<p>I am building a java project using maven. I have appointed the compiler source and target to 11 in the pom.xml.</p>\n<pre><code>&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n</code></pre>\n<p>However, when I execute <code>mvn package</code>, I got an error message indicating class <code>AccessControlException</code> in <code>java.security</code> is deprecated and will be removed.</p>\n<p>I'm really confused, since the <code>AccessControlException</code> class is deprecated after JDK 17 while I am using JDK 11. Can anyone tell me what's wrong?</p>\n<p>I've tried to compile my project both in IDEA and using command line, but getting this error all the time.\nWhen using IDEA, I've set the SDK and the language level of the project and all its modules to 11. I also set the maven runner JRE to use the prokect JDK.</p>\n"},{"tags":["java","random","random-seed"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1678159602,"post_id":75657787,"comment_id":133475383,"body_markdown":"Call `nextInt` 25 times on the same instance of `Random`.","body":"Call <code>nextInt</code> 25 times on the same instance of <code>Random</code>."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678159810,"creation_date":1678159810,"answer_id":75657810,"question_id":75657787,"body_markdown":"Create the `Random` once in the constructor, then use the same instance each time to generate the next number.\r\n\r\nFor example:\r\n\r\n```java\r\npublic class Board {\r\n\tprivate final Random rand;\r\n\tpublic Board(long seed) {\r\n\t\tthis.rand = new Random(seed);\r\n\t}\r\n\tpublic void someMethod() {\r\n\t\tint randomInt = rand.nextInt(50);\r\n        // do something with randomInt\r\n\t}\r\n}\r\n```","title":"How can I generate multiple random numbers from the same seed in Java?","body":"<p>Create the <code>Random</code> once in the constructor, then use the same instance each time to generate the next number.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Board {\n    private final Random rand;\n    public Board(long seed) {\n        this.rand = new Random(seed);\n    }\n    public void someMethod() {\n        int randomInt = rand.nextInt(50);\n        // do something with randomInt\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27952860,"reputation":3,"user_id":21346291,"display_name":"Robbie McClure"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75657810,"answer_count":1,"score":0,"last_activity_date":1678159810,"creation_date":1678159512,"question_id":75657787,"body_markdown":"I&#39;m trying to generate a randomized bingo board that is 5x5. My program generates 25 random numbers and assigns each one to a spot on the bingo board. I need to be able to have a user enter a custom seed which is used in the random number generation so that multiple people can be able to play with the same board (yes I know this is counterintuitive in bingo but I still need to be able to do it).\r\n\r\nThe current issue is that when using a set seed, the random number generator will generate the same number every time, filling the board with clones of a single number. How can I use a singular seed to generate the same board multiple times without all the random numbers being the same?\r\n\r\nDisclamer: I&#39;ve only been in computer science for 2 semesters so I&#39;m a beginner! Go easy on me!\r\n\r\nMy random generator method looks something like this:\r\n\r\n```\r\npublic void random(long seed)\r\n\t{\r\n\t\tRandom rand = new Random(seed);\r\n\t        randomInt = rand.nextInt(50);\r\n\t}\r\n```","title":"How can I generate multiple random numbers from the same seed in Java?","body":"<p>I'm trying to generate a randomized bingo board that is 5x5. My program generates 25 random numbers and assigns each one to a spot on the bingo board. I need to be able to have a user enter a custom seed which is used in the random number generation so that multiple people can be able to play with the same board (yes I know this is counterintuitive in bingo but I still need to be able to do it).</p>\n<p>The current issue is that when using a set seed, the random number generator will generate the same number every time, filling the board with clones of a single number. How can I use a singular seed to generate the same board multiple times without all the random numbers being the same?</p>\n<p>Disclamer: I've only been in computer science for 2 semesters so I'm a beginner! Go easy on me!</p>\n<p>My random generator method looks something like this:</p>\n<pre><code>public void random(long seed)\n    {\n        Random rand = new Random(seed);\n            randomInt = rand.nextInt(50);\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","resttemplate","multipart","spring-resttemplate"],"owner":{"account_id":387940,"reputation":37,"user_id":746575,"display_name":"jasmeet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678158407,"creation_date":1678158407,"question_id":75657694,"body_markdown":"I&#39;m working on a chain of microservice in Java where **A microservice** calls **B** and **B** in turn calls **C(some external service)**.\r\nI need to call a method of **C** which accepts Multipart File and upload it to a location.\r\n\r\nNow in **A microservice**, I can have multiple files along with some tags. Each file can have their own tags. \r\n**A microservice** just redirects the request to **B microservice** and nothing else. \r\n\r\nBelow is how I made my `AController.java`, `AService.java` and `ARequest.java` classes.\r\n\r\n    \r\n\r\n&gt; **AController.java**\r\n\r\n    @PostMapping(value=&quot;/document/upload&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n    \tpublic ResponseEntity&lt;List&lt;Response&gt;&gt; uploadDocuments(@RequestParam(required = true) Integer clientId,  @ModelAttribute(&quot;files&quot;) List&lt;ARequest&gt; aRequestList) throws IOException {\r\n    \t\treturn aService.uploadDocuments(clientId, aRequestList);\r\n    \t}\r\n\r\n    \r\n\r\n&gt; **AService.java**\r\n\r\n    \tpublic ResponseEntity&lt;List&lt;Response&gt;&gt; uploadDocuments(Integer clientId, List&lt;ARequest&gt; aRequestList)\r\n    \t\t\tthrows IOException {\r\n    \t\tHttpHeaders headers = new HttpHeaders();\r\n    \t\theaders.setContentType(MediaType.MULTIPART_FORM_DATA_VALUE);\r\n    \t\tHttpEntity&lt;ARequest&gt; requestPayload = new HttpEntity&lt;ARequest&gt;(aRequestList, headers);\r\n    \t\tResponseEntity&lt;List&lt;A&gt;&gt; responseEResponsentity = restTemplate.exchange(&quot;SomeUrl&quot;, HttpMethod.POST,\r\n    \t\t\t\trequestPayload, new ParameterizedTypeReference&lt;ResponseEntity&lt;List&lt;Response&gt;&gt;&gt;());\r\n    \t}\r\n\r\n\r\n    \r\n\r\n&gt; **ARequest.java**\r\n\r\n    \r\n    public class ARequest implements Serializable {\r\n    \tprivate static final long serialVersionUID = 9156893005763135311L;\r\n    \tprivate String documentId;\r\n    \tprivate String tag;\r\n    \tprivate String displayName;\r\n    \tprivate String description;\r\n    \tprivate MultipartFile fileContent;\r\n    }\r\n\r\n\r\nMy **B Microservice** has same controller method as **AController**. BService will save some data in DB which is coming in from the BRequest object and Cresponse object and return list of saved DB values for a given clientId.\r\n\r\nHere is my Code for - \r\n\r\n&gt; **BController.java**\r\n\r\n    @PostMapping(value=&quot;/document/upload&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n        public ResponseEntity&lt;List&lt;Response&gt;&gt; uploadDocuments(@RequestParam(required = true) Integer clientId,  @ModelAttribute(&quot;files&quot;) List&lt;BRequest&gt; bRequestList) throws IOException {\r\n            return bService.uploadDocuments(clientId, bRequestList);\r\n        }\r\n\r\nBService.java\r\n\r\n    public ResponseEntity&lt;List&lt;Response&gt;&gt; uploadDocuments(Integer clientId, List&lt;BRequest&gt; bRequestList)\r\n\t\t\tthrows IOException {\r\n\t\tfor (BRequest request : bRequestList) {\r\n\t\t\t// Call C service with request.getFileContent() and get response back\r\n\t\t\t// Save in DB (clientID, tag, displayName, description, documentId(coming from response of C)\r\n\t\t}\r\n\t\treturn Response;\r\n\t}\r\n\r\nResponse is a JPA Entity in B Microservice and is just a DTO in A microservice.\r\n\r\n1.Can someone guide me if my approach is correct?\r\n2. How can i test it using postman\r\n3. If i change tweak code to get input as single Request instead of file to test it from postman, i&#39;m getting below error when i call B Microservice from A.\r\n\r\n    No HttpMessageConverter for java.util.ArrayList and content type &quot;multipart/form-data&quot;\r\n\r\nIf i change some other thing, i get `400 Bad Request`\r\n\r\nNow i&#39;m so confused that i cant think in any direction. Please help me \r\n","title":"Uploading List of Multipart files and other details in SpringBoot with RestTemplate","body":"<p>I'm working on a chain of microservice in Java where <strong>A microservice</strong> calls <strong>B</strong> and <strong>B</strong> in turn calls <strong>C(some external service)</strong>.\nI need to call a method of <strong>C</strong> which accepts Multipart File and upload it to a location.</p>\n<p>Now in <strong>A microservice</strong>, I can have multiple files along with some tags. Each file can have their own tags.\n<strong>A microservice</strong> just redirects the request to <strong>B microservice</strong> and nothing else.</p>\n<p>Below is how I made my <code>AController.java</code>, <code>AService.java</code> and <code>ARequest.java</code> classes.</p>\n<blockquote>\n<p><strong>AController.java</strong></p>\n</blockquote>\n<pre><code>@PostMapping(value=&quot;/document/upload&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n    public ResponseEntity&lt;List&lt;Response&gt;&gt; uploadDocuments(@RequestParam(required = true) Integer clientId,  @ModelAttribute(&quot;files&quot;) List&lt;ARequest&gt; aRequestList) throws IOException {\n        return aService.uploadDocuments(clientId, aRequestList);\n    }\n</code></pre>\n<blockquote>\n<p><strong>AService.java</strong></p>\n</blockquote>\n<pre><code>    public ResponseEntity&lt;List&lt;Response&gt;&gt; uploadDocuments(Integer clientId, List&lt;ARequest&gt; aRequestList)\n            throws IOException {\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.MULTIPART_FORM_DATA_VALUE);\n        HttpEntity&lt;ARequest&gt; requestPayload = new HttpEntity&lt;ARequest&gt;(aRequestList, headers);\n        ResponseEntity&lt;List&lt;A&gt;&gt; responseEResponsentity = restTemplate.exchange(&quot;SomeUrl&quot;, HttpMethod.POST,\n                requestPayload, new ParameterizedTypeReference&lt;ResponseEntity&lt;List&lt;Response&gt;&gt;&gt;());\n    }\n</code></pre>\n<blockquote>\n<p><strong>ARequest.java</strong></p>\n</blockquote>\n<pre><code>public class ARequest implements Serializable {\n    private static final long serialVersionUID = 9156893005763135311L;\n    private String documentId;\n    private String tag;\n    private String displayName;\n    private String description;\n    private MultipartFile fileContent;\n}\n</code></pre>\n<p>My <strong>B Microservice</strong> has same controller method as <strong>AController</strong>. BService will save some data in DB which is coming in from the BRequest object and Cresponse object and return list of saved DB values for a given clientId.</p>\n<p>Here is my Code for -</p>\n<blockquote>\n<p><strong>BController.java</strong></p>\n</blockquote>\n<pre><code>@PostMapping(value=&quot;/document/upload&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n    public ResponseEntity&lt;List&lt;Response&gt;&gt; uploadDocuments(@RequestParam(required = true) Integer clientId,  @ModelAttribute(&quot;files&quot;) List&lt;BRequest&gt; bRequestList) throws IOException {\n        return bService.uploadDocuments(clientId, bRequestList);\n    }\n</code></pre>\n<p>BService.java</p>\n<pre><code>public ResponseEntity&lt;List&lt;Response&gt;&gt; uploadDocuments(Integer clientId, List&lt;BRequest&gt; bRequestList)\n        throws IOException {\n    for (BRequest request : bRequestList) {\n        // Call C service with request.getFileContent() and get response back\n        // Save in DB (clientID, tag, displayName, description, documentId(coming from response of C)\n    }\n    return Response;\n}\n</code></pre>\n<p>Response is a JPA Entity in B Microservice and is just a DTO in A microservice.</p>\n<p>1.Can someone guide me if my approach is correct?\n2. How can i test it using postman\n3. If i change tweak code to get input as single Request instead of file to test it from postman, i'm getting below error when i call B Microservice from A.</p>\n<pre><code>No HttpMessageConverter for java.util.ArrayList and content type &quot;multipart/form-data&quot;\n</code></pre>\n<p>If i change some other thing, i get <code>400 Bad Request</code></p>\n<p>Now i'm so confused that i cant think in any direction. Please help me</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1678191491,"post_id":75657675,"comment_id":133481984,"body_markdown":"If you encounter problems, it&#39;s best to create a [MCVE](https://stackoverflow.com/help/mcve) when posting a question. You posted more than **400** (four hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped. Please take a moment and read [how to ask a question](https://stackoverflow.com/help/how-to-ask).","body":"If you encounter problems, it&#39;s best to create a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> when posting a question. You posted more than <b>400</b> (four hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped. Please take a moment and read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question</a>."},{"owner":{"account_id":15349625,"reputation":11,"user_id":15972573,"display_name":"Byakuran"},"score":0,"creation_date":1678251712,"post_id":75657675,"comment_id":133495171,"body_markdown":"I didn&#39;t post all of my code here, I post only the class that I think is relevant to my problem, I&#39;ll try to post minimal code anyway.","body":"I didn&#39;t post all of my code here, I post only the class that I think is relevant to my problem, I&#39;ll try to post minimal code anyway."}],"owner":{"account_id":15349625,"reputation":11,"user_id":15972573,"display_name":"Byakuran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678158157,"creation_date":1678158157,"question_id":75657675,"body_markdown":"I added a new child node in firebase &quot;datastock&quot; and give a unique view id in android so that the data will be uploaded exactly to their respective child node. Unfortunately, it still swaps the data for &quot;dataImage&quot; into &quot;dataStock&quot;, \r\n[![firebase data](https://i.stack.imgur.com/6KUo1.png)]\r\n\r\nEven though I already check many times for the possibility that their view id&#39;s was swapped. Tell me what I&#39;m missing out, here&#39;s my code:\r\n\r\nactivity_upload.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;ScrollView\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.UploadActivity&quot;&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;50dp&quot;\r\n        android:layout_marginEnd=&quot;20dp&quot;\r\n        android:layout_marginStart=&quot;20dp&quot;\r\n        app:cardCornerRadius=&quot;30dp&quot;\r\n        app:cardElevation=&quot;20dp&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;\r\n            android:padding=&quot;20dp&quot;\r\n            android:background=&quot;@drawable/lavender_border&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Upload Data&quot;\r\n                android:textSize=&quot;30sp&quot;\r\n                android:textAlignment=&quot;center&quot;\r\n                android:textColor=&quot;@color/lavender&quot;/&gt;\r\n\r\n            &lt;ImageView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;200dp&quot;\r\n                android:src=&quot;@drawable/uploadimg&quot;\r\n                android:id=&quot;@+id/uploadImage&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:scaleType=&quot;fitXY&quot;/&gt;\r\n\r\n            &lt;EditText\r\n                android:layout_width=&quot;300dp&quot;\r\n                android:layout_height=&quot;60dp&quot;\r\n                android:id=&quot;@+id/uploadTopic&quot;\r\n                android:background=&quot;@drawable/lavender_border&quot;\r\n                android:layout_marginTop=&quot;20dp&quot;\r\n                android:padding=&quot;16dp&quot;\r\n                android:hint=&quot;Enter product name&quot;\r\n                android:inputType=&quot;text&quot;\r\n                android:gravity=&quot;start|center_vertical&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:textColor=&quot;@color/lavender&quot;/&gt;\r\n\r\n            &lt;EditText\r\n                android:layout_width=&quot;300dp&quot;\r\n                android:layout_height=&quot;80dp&quot;\r\n                android:id=&quot;@+id/uploadDesc&quot;\r\n                android:background=&quot;@drawable/lavender_border&quot;\r\n                android:layout_marginTop=&quot;20dp&quot;\r\n                android:padding=&quot;16dp&quot;\r\n                android:hint=&quot;Enter description&quot;\r\n                android:gravity=&quot;start|center_vertical&quot;\r\n                android:inputType=&quot;textMultiLine&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:textColor=&quot;@color/lavender&quot;/&gt;\r\n\r\n            &lt;EditText\r\n                android:layout_width=&quot;300dp&quot;\r\n                android:layout_height=&quot;60dp&quot;\r\n                android:id=&quot;@+id/uploadLang&quot;\r\n                android:background=&quot;@drawable/lavender_border&quot;\r\n                android:layout_marginTop=&quot;20dp&quot;\r\n                android:padding=&quot;16dp&quot;\r\n                android:hint=&quot;Enter price&quot;\r\n                android:inputType=&quot;number&quot;\r\n                android:gravity=&quot;start|center_vertical&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:textColor=&quot;@color/lavender&quot;/&gt;\r\n\r\n            &lt;EditText\r\n                android:layout_width=&quot;300dp&quot;\r\n                android:layout_height=&quot;60dp&quot;\r\n                android:id=&quot;@+id/uploadStock&quot;\r\n                android:background=&quot;@drawable/lavender_border&quot;\r\n                android:layout_marginTop=&quot;20dp&quot;\r\n                android:padding=&quot;16dp&quot;\r\n                android:hint=&quot;Enter stock&quot;\r\n                android:inputType=&quot;number&quot;\r\n                android:gravity=&quot;start|center_vertical&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:textColor=&quot;@color/lavender&quot;/&gt;\r\n\r\n            &lt;Button\r\n                android:layout_width=&quot;300dp&quot;\r\n                android:layout_height=&quot;60dp&quot;\r\n                android:text=&quot;Save&quot;\r\n                android:id=&quot;@+id/saveButton&quot;\r\n                android:textSize=&quot;18sp&quot;\r\n                android:layout_marginTop=&quot;20dp&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                app:cornerRadius = &quot;20dp&quot;/&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n&lt;/ScrollView&gt;\r\n```\r\n\r\nUploadActivity.java\r\n\r\n```\r\npackage com.example.admin_app;\r\n\r\nimport androidx.activity.result.ActivityResult;\r\nimport androidx.activity.result.ActivityResultCallback;\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.app.Activity;\r\nimport android.app.AlertDialog;\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\nimport com.google.firebase.storage.UploadTask;\r\n\r\nimport java.text.DateFormat;\r\nimport java.util.Calendar;\r\nimport java.util.Currency;\r\n\r\npublic class UploadActivity extends AppCompatActivity {\r\n\r\n    ImageView uploadImage;\r\n    Button saveButton;\r\n    EditText uploadTopic, uploadDesc, uploadLang, uploadStock;\r\n    String imageURL;\r\n    Uri uri;\r\n    //CurrencyEditText uploadLang;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_upload);\r\n        \r\n        uploadImage = findViewById(R.id.uploadImage);\r\n        uploadDesc = findViewById(R.id.uploadDesc);\r\n        uploadTopic = findViewById(R.id.uploadTopic);\r\n        uploadLang = findViewById(R.id.uploadLang);\r\n        uploadStock = findViewById(R.id.uploadStock);\r\n        saveButton = findViewById(R.id.saveButton);\r\n\r\n        ActivityResultLauncher&lt;Intent&gt; activityResultLauncher = registerForActivityResult(\r\n                new ActivityResultContracts.StartActivityForResult(),\r\n                new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                    @Override\r\n                    public void onActivityResult(ActivityResult result) {\r\n                        if (result.getResultCode() == Activity.RESULT_OK){\r\n                            Intent data = result.getData();\r\n                            assert data != null;\r\n                            uri = data.getData();\r\n                            uploadImage.setImageURI(uri);\r\n                        } else {\r\n                            Toast.makeText(UploadActivity.this, &quot;No Image Selected&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                }\r\n        );\r\n\r\n        uploadImage.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent photoPicker = new Intent(Intent.ACTION_PICK);\r\n                photoPicker.setType(&quot;image/*&quot;);\r\n                activityResultLauncher.launch(photoPicker);\r\n            }\r\n        });\r\n\r\n        saveButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                saveData();\r\n            }\r\n        });\r\n    }\r\n\r\n    public void saveData(){\r\n\r\n        StorageReference storageReference = FirebaseStorage.getInstance().getReference().child(&quot;Android Images&quot;)\r\n                .child(uri.getLastPathSegment());\r\n\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(UploadActivity.this);\r\n        builder.setCancelable(false);\r\n        builder.setView(R.layout.progress_layout);\r\n        AlertDialog dialog = builder.create();\r\n        dialog.show();\r\n\r\n        storageReference.putFile(uri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n\r\n                Task&lt;Uri&gt; uriTask = taskSnapshot.getStorage().getDownloadUrl();\r\n                while (!uriTask.isComplete());\r\n                Uri urlImage = uriTask.getResult();\r\n                imageURL = urlImage.toString();\r\n                uploadData();\r\n                dialog.dismiss();\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                dialog.dismiss();\r\n            }\r\n        });\r\n    }\r\n\r\n    public void uploadData(){\r\n\r\n        String title = uploadTopic.getText().toString();\r\n        String desc = uploadDesc.getText().toString();\r\n        String lang = uploadLang.getText().toString();\r\n        String stock = uploadStock.getText().toString();\r\n\r\n        DataClass dataClass = new DataClass(title, desc, lang, stock, imageURL);\r\n\r\n        //We are changing the child from title to currentDate,\r\n        // because we will be updating title as well and it may affect child value.\r\n\r\n        String currentDate = DateFormat.getDateTimeInstance().format(Calendar.getInstance().getTime());\r\n\r\n        FirebaseDatabase.getInstance().getReference(&quot;Products&quot;).child(currentDate)\r\n                .setValue(dataClass).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                        if (task.isSuccessful()){\r\n                            Toast.makeText(UploadActivity.this, &quot;Saved&quot;, Toast.LENGTH_SHORT).show();\r\n                            finish();\r\n                        }\r\n                    }\r\n                }).addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Toast.makeText(UploadActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n    }\r\n}\r\n```\r\n\r\nMyAdapter.java\r\n\r\n```\r\npackage com.example.admin_app;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport com.bumptech.glide.Glide;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.cardview.widget.CardView;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyViewHolder&gt; {\r\n\r\n    private Context context;\r\n    private List&lt;DataClass&gt; dataList;\r\n\r\n    public MyAdapter(Context context, List&lt;DataClass&gt; dataList) {\r\n        this.context = context;\r\n        this.dataList = dataList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.recycler_item, parent, false);\r\n        return new MyViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        Glide.with(context).load(dataList.get(position).getDataImage()).into(holder.recImage);\r\n        holder.recTitle.setText(dataList.get(position).getDataTitle());\r\n        holder.recDesc.setText(dataList.get(position).getDataDesc());\r\n        holder.recLang.setText(dataList.get(position).getDataLang());\r\n        holder.recStock.setText(dataList.get(position).getDataStock());\r\n        holder.recCard.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(context, DetailActivity.class);\r\n                intent.putExtra(&quot;Image&quot;, dataList.get(holder.getAdapterPosition()).getDataImage());\r\n                intent.putExtra(&quot;Description&quot;, dataList.get(holder.getAdapterPosition()).getDataDesc());\r\n                intent.putExtra(&quot;Name&quot;, dataList.get(holder.getAdapterPosition()).getDataTitle());\r\n                intent.putExtra(&quot;Key&quot;,dataList.get(holder.getAdapterPosition()).getKey());\r\n                intent.putExtra(&quot;Price&quot;, dataList.get(holder.getAdapterPosition()).getDataLang());\r\n                intent.putExtra(&quot;Stock&quot;, dataList.get(holder.getAdapterPosition()).getDataStock());\r\n                context.startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return dataList.size();\r\n    }\r\n\r\n    public void searchDataList(ArrayList&lt;DataClass&gt; searchList){\r\n        dataList = searchList;\r\n        notifyDataSetChanged();\r\n    }\r\n}\r\n\r\nclass MyViewHolder extends RecyclerView.ViewHolder{\r\n\r\n    ImageView recImage;\r\n    TextView recTitle, recDesc, recLang, recStock;\r\n    CardView recCard;\r\n\r\n    public MyViewHolder(@NonNull View itemView) {\r\n        super(itemView);\r\n\r\n        recImage = itemView.findViewById(R.id.recImage);\r\n        recCard = itemView.findViewById(R.id.recCard);\r\n        recDesc = itemView.findViewById(R.id.recDesc);\r\n        recLang = itemView.findViewById(R.id.recPriority);\r\n        recTitle = itemView.findViewById(R.id.recTitle);\r\n        recStock = itemView.findViewById(R.id.recStock);\r\n    }\r\n}\r\n```\r\n\r\nDataClass.java\r\n\r\n```\r\npackage com.example.admin_app;\r\n\r\n\r\npublic class DataClass {\r\n\r\n    private String dataTitle;\r\n    private String dataDesc;\r\n    private String dataLang;\r\n    private String dataImage;\r\n    private String dataStock;\r\n    private String key;\r\n\r\n    public String getKey() {\r\n        return key;\r\n    }\r\n\r\n    public void setKey(String key) {\r\n        this.key = key;\r\n    }\r\n\r\n    public String getDataTitle() {\r\n        return dataTitle;\r\n    }\r\n\r\n    public String getDataDesc() {\r\n        return dataDesc;\r\n    }\r\n\r\n    public String getDataLang() {\r\n        return dataLang;\r\n    }\r\n    public String getDataStock() {\r\n        return dataStock;\r\n    }\r\n\r\n    public String getDataImage() {\r\n        return dataImage;\r\n    }\r\n\r\n    public DataClass(String dataTitle, String dataDesc, String dataLang, String dataImage, String dataStock) {\r\n        this.dataTitle = dataTitle;\r\n        this.dataDesc = dataDesc;\r\n        this.dataLang = dataLang;\r\n        this.dataImage = dataImage;\r\n        this.dataStock = dataStock;\r\n    }\r\n    public DataClass(){\r\n\r\n    }\r\n}\r\n```","title":"Why my data uploaded for &quot;dataImage&quot; swaps to &quot;dataStock&quot; in firebase","body":"<p>I added a new child node in firebase &quot;datastock&quot; and give a unique view id in android so that the data will be uploaded exactly to their respective child node. Unfortunately, it still swaps the data for &quot;dataImage&quot; into &quot;dataStock&quot;,\n[<img src=\"https://i.stack.imgur.com/6KUo1.png\" alt=\"firebase data\" />]</p>\n<p>Even though I already check many times for the possibility that their view id's was swapped. Tell me what I'm missing out, here's my code:</p>\n<p>activity_upload.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;ScrollView\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.UploadActivity&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;50dp&quot;\n        android:layout_marginEnd=&quot;20dp&quot;\n        android:layout_marginStart=&quot;20dp&quot;\n        app:cardCornerRadius=&quot;30dp&quot;\n        app:cardElevation=&quot;20dp&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;\n            android:layout_gravity=&quot;center_horizontal&quot;\n            android:padding=&quot;20dp&quot;\n            android:background=&quot;@drawable/lavender_border&quot;&gt;\n\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Upload Data&quot;\n                android:textSize=&quot;30sp&quot;\n                android:textAlignment=&quot;center&quot;\n                android:textColor=&quot;@color/lavender&quot;/&gt;\n\n            &lt;ImageView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;200dp&quot;\n                android:src=&quot;@drawable/uploadimg&quot;\n                android:id=&quot;@+id/uploadImage&quot;\n                android:layout_marginTop=&quot;10dp&quot;\n                android:scaleType=&quot;fitXY&quot;/&gt;\n\n            &lt;EditText\n                android:layout_width=&quot;300dp&quot;\n                android:layout_height=&quot;60dp&quot;\n                android:id=&quot;@+id/uploadTopic&quot;\n                android:background=&quot;@drawable/lavender_border&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:padding=&quot;16dp&quot;\n                android:hint=&quot;Enter product name&quot;\n                android:inputType=&quot;text&quot;\n                android:gravity=&quot;start|center_vertical&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:textColor=&quot;@color/lavender&quot;/&gt;\n\n            &lt;EditText\n                android:layout_width=&quot;300dp&quot;\n                android:layout_height=&quot;80dp&quot;\n                android:id=&quot;@+id/uploadDesc&quot;\n                android:background=&quot;@drawable/lavender_border&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:padding=&quot;16dp&quot;\n                android:hint=&quot;Enter description&quot;\n                android:gravity=&quot;start|center_vertical&quot;\n                android:inputType=&quot;textMultiLine&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:textColor=&quot;@color/lavender&quot;/&gt;\n\n            &lt;EditText\n                android:layout_width=&quot;300dp&quot;\n                android:layout_height=&quot;60dp&quot;\n                android:id=&quot;@+id/uploadLang&quot;\n                android:background=&quot;@drawable/lavender_border&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:padding=&quot;16dp&quot;\n                android:hint=&quot;Enter price&quot;\n                android:inputType=&quot;number&quot;\n                android:gravity=&quot;start|center_vertical&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:textColor=&quot;@color/lavender&quot;/&gt;\n\n            &lt;EditText\n                android:layout_width=&quot;300dp&quot;\n                android:layout_height=&quot;60dp&quot;\n                android:id=&quot;@+id/uploadStock&quot;\n                android:background=&quot;@drawable/lavender_border&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:padding=&quot;16dp&quot;\n                android:hint=&quot;Enter stock&quot;\n                android:inputType=&quot;number&quot;\n                android:gravity=&quot;start|center_vertical&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:textColor=&quot;@color/lavender&quot;/&gt;\n\n            &lt;Button\n                android:layout_width=&quot;300dp&quot;\n                android:layout_height=&quot;60dp&quot;\n                android:text=&quot;Save&quot;\n                android:id=&quot;@+id/saveButton&quot;\n                android:textSize=&quot;18sp&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:layout_gravity=&quot;center&quot;\n                app:cornerRadius = &quot;20dp&quot;/&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n&lt;/ScrollView&gt;\n</code></pre>\n<p>UploadActivity.java</p>\n<pre><code>package com.example.admin_app;\n\nimport androidx.activity.result.ActivityResult;\nimport androidx.activity.result.ActivityResultCallback;\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.app.Activity;\nimport android.app.AlertDialog;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ImageView;\nimport android.widget.Toast;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.OnFailureListener;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.storage.FirebaseStorage;\nimport com.google.firebase.storage.StorageReference;\nimport com.google.firebase.storage.UploadTask;\n\nimport java.text.DateFormat;\nimport java.util.Calendar;\nimport java.util.Currency;\n\npublic class UploadActivity extends AppCompatActivity {\n\n    ImageView uploadImage;\n    Button saveButton;\n    EditText uploadTopic, uploadDesc, uploadLang, uploadStock;\n    String imageURL;\n    Uri uri;\n    //CurrencyEditText uploadLang;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_upload);\n        \n        uploadImage = findViewById(R.id.uploadImage);\n        uploadDesc = findViewById(R.id.uploadDesc);\n        uploadTopic = findViewById(R.id.uploadTopic);\n        uploadLang = findViewById(R.id.uploadLang);\n        uploadStock = findViewById(R.id.uploadStock);\n        saveButton = findViewById(R.id.saveButton);\n\n        ActivityResultLauncher&lt;Intent&gt; activityResultLauncher = registerForActivityResult(\n                new ActivityResultContracts.StartActivityForResult(),\n                new ActivityResultCallback&lt;ActivityResult&gt;() {\n                    @Override\n                    public void onActivityResult(ActivityResult result) {\n                        if (result.getResultCode() == Activity.RESULT_OK){\n                            Intent data = result.getData();\n                            assert data != null;\n                            uri = data.getData();\n                            uploadImage.setImageURI(uri);\n                        } else {\n                            Toast.makeText(UploadActivity.this, &quot;No Image Selected&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                }\n        );\n\n        uploadImage.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent photoPicker = new Intent(Intent.ACTION_PICK);\n                photoPicker.setType(&quot;image/*&quot;);\n                activityResultLauncher.launch(photoPicker);\n            }\n        });\n\n        saveButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                saveData();\n            }\n        });\n    }\n\n    public void saveData(){\n\n        StorageReference storageReference = FirebaseStorage.getInstance().getReference().child(&quot;Android Images&quot;)\n                .child(uri.getLastPathSegment());\n\n        AlertDialog.Builder builder = new AlertDialog.Builder(UploadActivity.this);\n        builder.setCancelable(false);\n        builder.setView(R.layout.progress_layout);\n        AlertDialog dialog = builder.create();\n        dialog.show();\n\n        storageReference.putFile(uri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n            @Override\n            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n\n                Task&lt;Uri&gt; uriTask = taskSnapshot.getStorage().getDownloadUrl();\n                while (!uriTask.isComplete());\n                Uri urlImage = uriTask.getResult();\n                imageURL = urlImage.toString();\n                uploadData();\n                dialog.dismiss();\n            }\n        }).addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                dialog.dismiss();\n            }\n        });\n    }\n\n    public void uploadData(){\n\n        String title = uploadTopic.getText().toString();\n        String desc = uploadDesc.getText().toString();\n        String lang = uploadLang.getText().toString();\n        String stock = uploadStock.getText().toString();\n\n        DataClass dataClass = new DataClass(title, desc, lang, stock, imageURL);\n\n        //We are changing the child from title to currentDate,\n        // because we will be updating title as well and it may affect child value.\n\n        String currentDate = DateFormat.getDateTimeInstance().format(Calendar.getInstance().getTime());\n\n        FirebaseDatabase.getInstance().getReference(&quot;Products&quot;).child(currentDate)\n                .setValue(dataClass).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                        if (task.isSuccessful()){\n                            Toast.makeText(UploadActivity.this, &quot;Saved&quot;, Toast.LENGTH_SHORT).show();\n                            finish();\n                        }\n                    }\n                }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        Toast.makeText(UploadActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();\n                    }\n                });\n    }\n}\n</code></pre>\n<p>MyAdapter.java</p>\n<pre><code>package com.example.admin_app;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport com.bumptech.glide.Glide;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport androidx.annotation.NonNull;\nimport androidx.cardview.widget.CardView;\nimport androidx.recyclerview.widget.RecyclerView;\n\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyViewHolder&gt; {\n\n    private Context context;\n    private List&lt;DataClass&gt; dataList;\n\n    public MyAdapter(Context context, List&lt;DataClass&gt; dataList) {\n        this.context = context;\n        this.dataList = dataList;\n    }\n\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.recycler_item, parent, false);\n        return new MyViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n        Glide.with(context).load(dataList.get(position).getDataImage()).into(holder.recImage);\n        holder.recTitle.setText(dataList.get(position).getDataTitle());\n        holder.recDesc.setText(dataList.get(position).getDataDesc());\n        holder.recLang.setText(dataList.get(position).getDataLang());\n        holder.recStock.setText(dataList.get(position).getDataStock());\n        holder.recCard.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(context, DetailActivity.class);\n                intent.putExtra(&quot;Image&quot;, dataList.get(holder.getAdapterPosition()).getDataImage());\n                intent.putExtra(&quot;Description&quot;, dataList.get(holder.getAdapterPosition()).getDataDesc());\n                intent.putExtra(&quot;Name&quot;, dataList.get(holder.getAdapterPosition()).getDataTitle());\n                intent.putExtra(&quot;Key&quot;,dataList.get(holder.getAdapterPosition()).getKey());\n                intent.putExtra(&quot;Price&quot;, dataList.get(holder.getAdapterPosition()).getDataLang());\n                intent.putExtra(&quot;Stock&quot;, dataList.get(holder.getAdapterPosition()).getDataStock());\n                context.startActivity(intent);\n            }\n        });\n    }\n\n    @Override\n    public int getItemCount() {\n        return dataList.size();\n    }\n\n    public void searchDataList(ArrayList&lt;DataClass&gt; searchList){\n        dataList = searchList;\n        notifyDataSetChanged();\n    }\n}\n\nclass MyViewHolder extends RecyclerView.ViewHolder{\n\n    ImageView recImage;\n    TextView recTitle, recDesc, recLang, recStock;\n    CardView recCard;\n\n    public MyViewHolder(@NonNull View itemView) {\n        super(itemView);\n\n        recImage = itemView.findViewById(R.id.recImage);\n        recCard = itemView.findViewById(R.id.recCard);\n        recDesc = itemView.findViewById(R.id.recDesc);\n        recLang = itemView.findViewById(R.id.recPriority);\n        recTitle = itemView.findViewById(R.id.recTitle);\n        recStock = itemView.findViewById(R.id.recStock);\n    }\n}\n</code></pre>\n<p>DataClass.java</p>\n<pre><code>package com.example.admin_app;\n\n\npublic class DataClass {\n\n    private String dataTitle;\n    private String dataDesc;\n    private String dataLang;\n    private String dataImage;\n    private String dataStock;\n    private String key;\n\n    public String getKey() {\n        return key;\n    }\n\n    public void setKey(String key) {\n        this.key = key;\n    }\n\n    public String getDataTitle() {\n        return dataTitle;\n    }\n\n    public String getDataDesc() {\n        return dataDesc;\n    }\n\n    public String getDataLang() {\n        return dataLang;\n    }\n    public String getDataStock() {\n        return dataStock;\n    }\n\n    public String getDataImage() {\n        return dataImage;\n    }\n\n    public DataClass(String dataTitle, String dataDesc, String dataLang, String dataImage, String dataStock) {\n        this.dataTitle = dataTitle;\n        this.dataDesc = dataDesc;\n        this.dataLang = dataLang;\n        this.dataImage = dataImage;\n        this.dataStock = dataStock;\n    }\n    public DataClass(){\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","openfeign"],"comments":[{"owner":{"account_id":4527593,"reputation":23,"user_id":3678975,"display_name":"Adi"},"score":0,"creation_date":1679098918,"post_id":75657620,"comment_id":133666194,"body_markdown":"The way I was trying to fail the feign client call was by not switching on the server on the other side of the call which was wrong. Error decoder works when the http call itself is not successful and not when the call itself is not made in the first place","body":"The way I was trying to fail the feign client call was by not switching on the server on the other side of the call which was wrong. Error decoder works when the http call itself is not successful and not when the call itself is not made in the first place"}],"owner":{"account_id":4527593,"reputation":23,"user_id":3678975,"display_name":"Adi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678157277,"creation_date":1678157277,"question_id":75657620,"body_markdown":"I am trying to introduce a custom decoder in order to throw appropriate exceptions rather than the generic `Feign.Retryable` exception and for that I wanted a custom decoder. Following the documentation: https://docs.spring.io/spring-cloud-openfeign/docs/current/reference/html/#springencoder-configuration:~:text=Spring%20Cloud%20OpenFeign%20does%20not%20provide%20the%20following%20beans%20by%20default%20for%20feign%2C%20but%20still%20looks%20up%20beans%20of%20these%20types%20from%20the%20application%20context%20to%20create%20the%20feign%20client%3A, I have the following classes:\r\n\r\nAdded the config class\r\n\r\n```\r\n@FeignClient(\r\n    value = &quot;rateservice&quot;,\r\n    url = &quot;${rateservice.api.baseurl}&quot;,\r\n    configuration = CustomFeignConfig.class)\r\npublic interface RateClient {\r\n  @RequestMapping(method = RequestMethod.POST, value = &quot;/calculatedrates&quot;)\r\n  Rate calculateRate(RateRequest request);\r\n\r\n  @RequestMapping(method = RequestMethod.POST, value = &quot;/overrides&quot;)\r\n  RateOverrideResponse createRateOverride(RateOverrideRequest rateOverrideRequest);\r\n}\r\n```\r\n\r\nConfig class\r\n\r\n```\r\n@RequiredArgsConstructor\r\n@Configuration\r\npublic class CustomFeignConfig {\r\n\r\n  private final CustomErrorDecoder customErrorDecoder;\r\n  @Bean\r\n  public ErrorDecoder errorDecoder(){\r\n    return customErrorDecoder;\r\n  }\r\n\r\nImplementation of the custom error decoder\r\n@Component\r\n@Slf4j\r\npublic class CustomErrorDecoder implements ErrorDecoder {\r\n  @Override\r\n  public Exception decode(String methodKey, Response response) {\r\n    log.info(response.toString()); // For now just making it hit the breakpoint\r\n    return new RuntimeException();\r\n  }\r\n}\r\n```\r\n\r\nHowever, I see the customErrorDecoder not coming into effect.\r\n\r\nI set a breakpoint in the error-decoder and it wasn&#39;t getting hit when I intentionally tried to fail the feign client call. Thanks you for the help in advance. ","title":"Custom configuration not taken into effect for feign client using @FeignClient","body":"<p>I am trying to introduce a custom decoder in order to throw appropriate exceptions rather than the generic <code>Feign.Retryable</code> exception and for that I wanted a custom decoder. Following the documentation: <a href=\"https://docs.spring.io/spring-cloud-openfeign/docs/current/reference/html/#springencoder-configuration:%7E:text=Spring%20Cloud%20OpenFeign%20does%20not%20provide%20the%20following%20beans%20by%20default%20for%20feign%2C%20but%20still%20looks%20up%20beans%20of%20these%20types%20from%20the%20application%20context%20to%20create%20the%20feign%20client%3A\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-openfeign/docs/current/reference/html/#springencoder-configuration:~:text=Spring%20Cloud%20OpenFeign%20does%20not%20provide%20the%20following%20beans%20by%20default%20for%20feign%2C%20but%20still%20looks%20up%20beans%20of%20these%20types%20from%20the%20application%20context%20to%20create%20the%20feign%20client%3A</a>, I have the following classes:</p>\n<p>Added the config class</p>\n<pre><code>@FeignClient(\n    value = &quot;rateservice&quot;,\n    url = &quot;${rateservice.api.baseurl}&quot;,\n    configuration = CustomFeignConfig.class)\npublic interface RateClient {\n  @RequestMapping(method = RequestMethod.POST, value = &quot;/calculatedrates&quot;)\n  Rate calculateRate(RateRequest request);\n\n  @RequestMapping(method = RequestMethod.POST, value = &quot;/overrides&quot;)\n  RateOverrideResponse createRateOverride(RateOverrideRequest rateOverrideRequest);\n}\n</code></pre>\n<p>Config class</p>\n<pre><code>@RequiredArgsConstructor\n@Configuration\npublic class CustomFeignConfig {\n\n  private final CustomErrorDecoder customErrorDecoder;\n  @Bean\n  public ErrorDecoder errorDecoder(){\n    return customErrorDecoder;\n  }\n\nImplementation of the custom error decoder\n@Component\n@Slf4j\npublic class CustomErrorDecoder implements ErrorDecoder {\n  @Override\n  public Exception decode(String methodKey, Response response) {\n    log.info(response.toString()); // For now just making it hit the breakpoint\n    return new RuntimeException();\n  }\n}\n</code></pre>\n<p>However, I see the customErrorDecoder not coming into effect.</p>\n<p>I set a breakpoint in the error-decoder and it wasn't getting hit when I intentionally tried to fail the feign client call. Thanks you for the help in advance.</p>\n"},{"tags":["java","rest-assured","rest-assured-jsonpath"],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678155800,"creation_date":1678155800,"answer_id":75657520,"question_id":75650300,"body_markdown":"You could put the key inside single quote `&#39;&#39;`\r\n\r\n```java\r\nresponse.body().jsonPath().get(&quot;&#39;hydra:member&#39;&quot;);\r\n```","title":"Error in extracting json response properties of hydra:collection using RestAssured Java","body":"<p>You could put the key inside single quote <code>''</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>response.body().jsonPath().get(&quot;'hydra:member'&quot;);\n</code></pre>\n"}],"owner":{"account_id":4917533,"reputation":131,"user_id":3961068,"accept_rate":75,"display_name":"Oreliya Fernando"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75657520,"answer_count":1,"score":0,"last_activity_date":1678155800,"creation_date":1678102062,"question_id":75650300,"body_markdown":"I&#39;m extracting MailTM GET /domains API properties and need to extract the `hydra:member` from the following API response.\r\n\r\n    {\r\n    &quot;@context&quot;: &quot;/contexts/Domain&quot;,\r\n    &quot;@id&quot;: &quot;/domains&quot;,\r\n    &quot;@type&quot;: &quot;hydra:Collection&quot;,\r\n    &quot;hydra:member&quot;: [\r\n        {\r\n            &quot;@id&quot;: &quot;/domains/63d9a7067f7658e92f217bdd&quot;,\r\n            &quot;@type&quot;: &quot;Domain&quot;,\r\n            &quot;id&quot;: &quot;63d9a7067f7658e92f217bdd&quot;,\r\n            &quot;domain&quot;: &quot;eurokool.com&quot;,\r\n            &quot;isActive&quot;: true,\r\n            &quot;isPrivate&quot;: false,\r\n            &quot;createdAt&quot;: &quot;2023-02-01T00:00:00+00:00&quot;,\r\n            &quot;updatedAt&quot;: &quot;2023-02-01T00:00:00+00:00&quot;\r\n        }\r\n    ],\r\n    &quot;hydra:totalItems&quot;: 1\r\n}\r\n\r\nI used JsonPath to extract the values from the response. \r\n\r\n    RestAssured.baseURI = &quot;https://api.mail.tm&quot;;\r\n    \r\n        Response response = given()\r\n                        .when()\r\n                        .get(&quot;/domains&quot;)\r\n                        .then()\r\n                        .extract().response();  \r\n          \r\n        response.body().jsonPath().get(&quot;hydra:member&quot;);\r\n\r\nI can extract the other properties using JsonPath like `@context`, `@type`. But when I&#39;m extracting the `hydra:member`, I&#39;m getting the following error.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FYsGP.png","title":"Error in extracting json response properties of hydra:collection using RestAssured Java","body":"<p>I'm extracting MailTM GET /domains API properties and need to extract the <code>hydra:member</code> from the following API response.</p>\n<pre><code>{\n&quot;@context&quot;: &quot;/contexts/Domain&quot;,\n&quot;@id&quot;: &quot;/domains&quot;,\n&quot;@type&quot;: &quot;hydra:Collection&quot;,\n&quot;hydra:member&quot;: [\n    {\n        &quot;@id&quot;: &quot;/domains/63d9a7067f7658e92f217bdd&quot;,\n        &quot;@type&quot;: &quot;Domain&quot;,\n        &quot;id&quot;: &quot;63d9a7067f7658e92f217bdd&quot;,\n        &quot;domain&quot;: &quot;eurokool.com&quot;,\n        &quot;isActive&quot;: true,\n        &quot;isPrivate&quot;: false,\n        &quot;createdAt&quot;: &quot;2023-02-01T00:00:00+00:00&quot;,\n        &quot;updatedAt&quot;: &quot;2023-02-01T00:00:00+00:00&quot;\n    }\n],\n&quot;hydra:totalItems&quot;: 1\n</code></pre>\n<p>}</p>\n<p>I used JsonPath to extract the values from the response.</p>\n<pre><code>RestAssured.baseURI = &quot;https://api.mail.tm&quot;;\n\n    Response response = given()\n                    .when()\n                    .get(&quot;/domains&quot;)\n                    .then()\n                    .extract().response();  \n      \n    response.body().jsonPath().get(&quot;hydra:member&quot;);\n</code></pre>\n<p>I can extract the other properties using JsonPath like <code>@context</code>, <code>@type</code>. But when I'm extracting the <code>hydra:member</code>, I'm getting the following error.</p>\n<p><a href=\"https://i.stack.imgur.com/FYsGP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FYsGP.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven","build","jar"],"comments":[{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1678155837,"post_id":75657480,"comment_id":133474985,"body_markdown":"@life888888 I think so ... It seems that `maven-shade-plugin` is what I need. I will check it out. Thak you so much!","body":"@life888888 I think so ... It seems that <code>maven-shade-plugin</code> is what I need. I will check it out. Thak you so much!"}],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678155862,"answer_count":0,"score":0,"last_activity_date":1678155197,"creation_date":1678155197,"question_id":75657480,"body_markdown":"I added the following Jackson dataformat dependency to be able to serialize/deserialize Java POJO to/from XML:\r\n```\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.12.7&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n```\r\n\r\nI am building a component that will introduce changes to a deployed instance and usually I am expected to generate one or two JAR files. After I added the above dependency, I noticed that I have to add the following JAR files to the classpath of the main deployed instance so that it works:\r\n\r\n 1. jackson-annotations-2.14.2.jar\r\n 2. jackson-core-2.14.2.jar\r\n 3. jackson-databind-2.14.2.jar\r\n 4. jackson-dataformat-xml-2.12.7.jar\r\n 5. woodstox-core-6.2.4.jar\r\n 7. stax2-api-4.2.1.jar\r\n 8. jackson-module-jaxb-annotations-2.12.7.jar\r\n\r\nIn addition to the above, I have to generate the JAR file for the newly developed classes. I am using the following section in `pom.xml` for this purpose:\r\n\r\n```\r\n\t&lt;plugin&gt;\r\n\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;final&lt;/id&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;jar&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;classifier&gt;&lt;/classifier&gt;\r\n\t\t\t\t\t&lt;finalName&gt;NewJARFileName&lt;/finalName&gt;\r\n\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t&lt;include&gt;com\\path\\to\\java\\classes1\\**&lt;/include&gt;\r\n\t\t\t\t\t\t&lt;include&gt;com\\path\\to\\java\\classes2\\**&lt;/include&gt;\r\n\t\t\t\t\t\t...\r\n\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;**/*.properties&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t&lt;addMavenDescriptor&gt;false&lt;/addMavenDescriptor&gt;\r\n\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n```\r\n\r\nI am manually copying the above files to the lib folder of the deployed instance and I modified the classpath accordingly. Everything is working file, however, I&#39;m trying to find a way to combine the new 7 JAR files with the JAR file I am building into 1 or 2 files during the build process to simplify the deployment process.\r\n\r\nI appreciate your help.","title":"How to combine the JAR dependencies of jackson-dataformat-xml and newly developed classes in one JAR file","body":"<p>I added the following Jackson dataformat dependency to be able to serialize/deserialize Java POJO to/from XML:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;version&gt;2.12.7&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I am building a component that will introduce changes to a deployed instance and usually I am expected to generate one or two JAR files. After I added the above dependency, I noticed that I have to add the following JAR files to the classpath of the main deployed instance so that it works:</p>\n<ol>\n<li>jackson-annotations-2.14.2.jar</li>\n<li>jackson-core-2.14.2.jar</li>\n<li>jackson-databind-2.14.2.jar</li>\n<li>jackson-dataformat-xml-2.12.7.jar</li>\n<li>woodstox-core-6.2.4.jar</li>\n<li>stax2-api-4.2.1.jar</li>\n<li>jackson-module-jaxb-annotations-2.12.7.jar</li>\n</ol>\n<p>In addition to the above, I have to generate the JAR file for the newly developed classes. I am using the following section in <code>pom.xml</code> for this purpose:</p>\n<pre><code>    &lt;plugin&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;final&lt;/id&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;jar&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;configuration&gt;\n                    &lt;classifier&gt;&lt;/classifier&gt;\n                    &lt;finalName&gt;NewJARFileName&lt;/finalName&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;com\\path\\to\\java\\classes1\\**&lt;/include&gt;\n                        &lt;include&gt;com\\path\\to\\java\\classes2\\**&lt;/include&gt;\n                        ...\n                    &lt;/includes&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;**/*.properties&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                    &lt;archive&gt;\n                        &lt;addMavenDescriptor&gt;false&lt;/addMavenDescriptor&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p>I am manually copying the above files to the lib folder of the deployed instance and I modified the classpath accordingly. Everything is working file, however, I'm trying to find a way to combine the new 7 JAR files with the JAR file I am building into 1 or 2 files during the build process to simplify the deployment process.</p>\n<p>I appreciate your help.</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1505251244,"post_id":46185469,"comment_id":79333805,"body_markdown":"well a solution without dirty hackarounds would be a private method with a `boolean` parameter for returning the same value. Then your public methods would call that one (Since you&#39;re attempting to look for a self-caller). Outside of that, you&#39;re looking at reading the stack.","body":"well a solution without dirty hackarounds would be a private method with a <code>boolean</code> parameter for returning the same value. Then your public methods would call that one (Since you&#39;re attempting to look for a self-caller). Outside of that, you&#39;re looking at reading the stack."},{"owner":{"account_id":6272697,"reputation":591,"user_id":4876432,"accept_rate":60,"display_name":"Nick Resnick"},"score":0,"creation_date":1560437018,"post_id":46185469,"comment_id":99744098,"body_markdown":"Does anyone know how to do this in scala?","body":"Does anyone know how to do this in scala?"}],"answers":[{"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1505285560,"post_id":46185629,"comment_id":79343547,"body_markdown":"A good start - and nice that you left some room for conceptual explanations within my answer ;-)","body":"A good start - and nice that you left some room for conceptual explanations within my answer ;-)"},{"owner":{"account_id":241748,"reputation":623,"user_id":512757,"accept_rate":75,"display_name":"Ajoy Bhatia"},"score":13,"creation_date":1538680175,"post_id":46185629,"comment_id":92238574,"body_markdown":"This does not look like it solves the OP&#39;s problem. OP wants that calling method `doSomething` on **any** instance of **`Foo`** should return a particular object. In this answer, only if the method is called on this particular `Foo` instance, which is the private member of class `FooTest`, will the particular object be returned. Suppose that the class being tested is `Baz` which has its own instance of `Foo` and calls `doSomething` on it in one of its methods, it is the **real** `doSomething` method that will get called, and that is **not** the desired behavior.","body":"This does not look like it solves the OP&#39;s problem. OP wants that calling method <code>doSomething</code> on <b>any</b> instance of <b><code>Foo</code></b> should return a particular object. In this answer, only if the method is called on this particular <code>Foo</code> instance, which is the private member of class <code>FooTest</code>, will the particular object be returned. Suppose that the class being tested is <code>Baz</code> which has its own instance of <code>Foo</code> and calls <code>doSomething</code> on it in one of its methods, it is the <b>real</b> <code>doSomething</code> method that will get called, and that is <b>not</b> the desired behavior."},{"owner":{"account_id":2917297,"reputation":160,"user_id":2500226,"display_name":"sairam"},"score":0,"creation_date":1608820663,"post_id":46185629,"comment_id":115694368,"body_markdown":"It helped a lot to handle instances internally created with the class to be tested. Thanks a lot!","body":"It helped a lot to handle instances internally created with the class to be tested. Thanks a lot!"}],"tags":[],"owner":{"account_id":10899779,"reputation":7224,"user_id":8012379,"display_name":"Indra Basak"},"comment_count":3,"down_vote_count":5,"up_vote_count":16,"is_accepted":true,"score":11,"last_activity_date":1584320534,"creation_date":1505251912,"answer_id":46185629,"question_id":46185469,"body_markdown":"You should use **PowerMock** if you want `Foo` to return the same instance of `Bar` when you call `doSomething` method on any instance of `Foo`. Here&#39;s an example:\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(Foo.class)\r\n    public class FooMockAllInstanceTest {\r\n    \r\n        @Test\r\n        public void testMockInstanceofObjectCreation() throws Exception {\r\n            Bar mockBar = PowerMockito.mock(Bar.class);\r\n            when(mockBar.sayHello()).thenReturn(&quot;Hi John!&quot;);\r\n            PowerMockito.whenNew(Bar.class)\r\n                    .withNoArguments()\r\n                    .thenReturn(mockBar);\r\n    \r\n            Foo myFooOne = new Foo();\r\n            assertEquals(mockBar,  myFooOne.doSomething(&quot;Jane&quot;));\r\n    \r\n            Foo myFooTwo = new Foo();\r\n            assertEquals(mockBar,  myFooTwo.doSomething(&quot;Sarah&quot;));\r\n    \r\n            Baz bazOne = new Baz();\r\n            assertEquals(mockBar, bazOne.doSomething(&quot;Sam&quot;));\r\n    \r\n            Baz bazTwo = new Baz();\r\n            assertEquals(mockBar, bazTwo.doSomething(&quot;Nina&quot;));\r\n        }\r\n    }\r\n\r\nThis example will return the same `Bar` object even when `Baz` is called. Here&#39;s the `Baz` class,\r\n\r\n    public class Baz {\r\n    \r\n        public Bar doSomething(String name) {\r\n            Foo foo = new Foo();\r\n            return foo.doSomething(name);\r\n        }\r\n    }\r\n\r\n**Update 2**\r\n\r\nThere&#39;s another slightly better way to test with PowerMock. Here it&#39;s,\r\n\r\n    @Test\r\n    public void testStubbingMethod() throws Exception {\r\n        Bar mockBar = PowerMockito.mock(Bar.class);\r\n        when(mockBar.sayHello()).thenReturn(&quot;Hi John!&quot;);\r\n\r\n        PowerMockito.stub(PowerMockito.method(Foo.class, &quot;doSomething&quot;,\r\n                String.class)).toReturn(mockBar);\r\n\r\n        Foo myFooOne = new Foo();\r\n        assertEquals(mockBar, myFooOne.doSomething(&quot;Jane&quot;));\r\n\r\n        Foo myFooTwo = new Foo();\r\n        assertEquals(mockBar, myFooTwo.doSomething(&quot;Sarah&quot;));\r\n\r\n        Baz bazOne = new Baz();\r\n        assertEquals(mockBar, bazOne.doSomething(&quot;Sam&quot;));\r\n\r\n        Baz bazTwo = new Baz();\r\n        assertEquals(mockBar, bazTwo.doSomething(&quot;Nina&quot;));\r\n    }","title":"Mockito: mock instance method for all instances of a class","body":"<p>You should use <strong>PowerMock</strong> if you want <code>Foo</code> to return the same instance of <code>Bar</code> when you call <code>doSomething</code> method on any instance of <code>Foo</code>. Here's an example:</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(Foo.class)\npublic class FooMockAllInstanceTest {\n\n    @Test\n    public void testMockInstanceofObjectCreation() throws Exception {\n        Bar mockBar = PowerMockito.mock(Bar.class);\n        when(mockBar.sayHello()).thenReturn(\"Hi John!\");\n        PowerMockito.whenNew(Bar.class)\n                .withNoArguments()\n                .thenReturn(mockBar);\n\n        Foo myFooOne = new Foo();\n        assertEquals(mockBar,  myFooOne.doSomething(\"Jane\"));\n\n        Foo myFooTwo = new Foo();\n        assertEquals(mockBar,  myFooTwo.doSomething(\"Sarah\"));\n\n        Baz bazOne = new Baz();\n        assertEquals(mockBar, bazOne.doSomething(\"Sam\"));\n\n        Baz bazTwo = new Baz();\n        assertEquals(mockBar, bazTwo.doSomething(\"Nina\"));\n    }\n}\n</code></pre>\n\n<p>This example will return the same <code>Bar</code> object even when <code>Baz</code> is called. Here's the <code>Baz</code> class,</p>\n\n<pre><code>public class Baz {\n\n    public Bar doSomething(String name) {\n        Foo foo = new Foo();\n        return foo.doSomething(name);\n    }\n}\n</code></pre>\n\n<p><strong>Update 2</strong></p>\n\n<p>There's another slightly better way to test with PowerMock. Here it's,</p>\n\n<pre><code>@Test\npublic void testStubbingMethod() throws Exception {\n    Bar mockBar = PowerMockito.mock(Bar.class);\n    when(mockBar.sayHello()).thenReturn(\"Hi John!\");\n\n    PowerMockito.stub(PowerMockito.method(Foo.class, \"doSomething\",\n            String.class)).toReturn(mockBar);\n\n    Foo myFooOne = new Foo();\n    assertEquals(mockBar, myFooOne.doSomething(\"Jane\"));\n\n    Foo myFooTwo = new Foo();\n    assertEquals(mockBar, myFooTwo.doSomething(\"Sarah\"));\n\n    Baz bazOne = new Baz();\n    assertEquals(mockBar, bazOne.doSomething(\"Sam\"));\n\n    Baz bazTwo = new Baz();\n    assertEquals(mockBar, bazTwo.doSomething(\"Nina\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678154919,"creation_date":1678154919,"answer_id":75657461,"question_id":46185469,"body_markdown":"I found this page to tell &quot;How to mock construction of new objects&quot;\r\n\r\nhttps://github.com/powermock/powermock/wiki/MockConstructor#example\r\n\r\n```\r\n// Class to be tested and need mock File object\r\n\r\npublic class PersistenceManager {\r\n\r\n\tpublic boolean createDirectoryStructure(String directoryPath) {\r\n\t\tFile directory = new File(directoryPath);\r\n\r\n\t\tif (directory.exists()) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;\\&quot;&quot; + directoryPath + &quot;\\&quot; already exists.&quot;);\r\n\t\t}\r\n\r\n\t\treturn directory.mkdirs();\r\n\t}\r\n}\r\n```\r\n\r\n```\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.powermock.core.classloader.annotations.PrepareForTest;\r\nimport org.powermock.modules.junit4.PowerMockRunner;\r\n\r\nimport java.io.File;\r\n\r\nimport static org.easymock.EasyMock.expect;\r\nimport static org.junit.Assert.assertTrue;\r\nimport static org.powermock.api.easymock.PowerMock.*;\r\n\r\n@RunWith(PowerMockRunner.class)\r\n@PrepareForTest( PersistenceManager.class )\r\npublic class PersistenceManagerTest {\r\n\r\n\t@Test\r\n\tpublic void testCreateDirectoryStructure_ok() throws Exception {\r\n\t\tfinal String path = &quot;directoryPath&quot;;\r\n\t\tFile fileMock = createMock(File.class);\r\n\r\n\t\tPersistenceManager tested = new PersistenceManager();\r\n\r\n\t\texpectNew(File.class, path).andReturn(fileMock);\r\n\r\n\t\texpect(fileMock.exists()).andReturn(false);\r\n\t\texpect(fileMock.mkdirs()).andReturn(true);\r\n\r\n\t\treplay(fileMock, File.class);\r\n\r\n\t\tassertTrue(tested.createDirectoryStructure(path));\r\n\r\n\t\tverify(fileMock, File.class);\r\n\t}\r\n}\r\n```","title":"Mockito: mock instance method for all instances of a class","body":"<p>I found this page to tell &quot;How to mock construction of new objects&quot;</p>\n<p><a href=\"https://github.com/powermock/powermock/wiki/MockConstructor#example\" rel=\"nofollow noreferrer\">https://github.com/powermock/powermock/wiki/MockConstructor#example</a></p>\n<pre><code>// Class to be tested and need mock File object\n\npublic class PersistenceManager {\n\n    public boolean createDirectoryStructure(String directoryPath) {\n        File directory = new File(directoryPath);\n\n        if (directory.exists()) {\n            throw new IllegalArgumentException(&quot;\\&quot;&quot; + directoryPath + &quot;\\&quot; already exists.&quot;);\n        }\n\n        return directory.mkdirs();\n    }\n}\n</code></pre>\n<pre><code>import org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\n\nimport java.io.File;\n\nimport static org.easymock.EasyMock.expect;\nimport static org.junit.Assert.assertTrue;\nimport static org.powermock.api.easymock.PowerMock.*;\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest( PersistenceManager.class )\npublic class PersistenceManagerTest {\n\n    @Test\n    public void testCreateDirectoryStructure_ok() throws Exception {\n        final String path = &quot;directoryPath&quot;;\n        File fileMock = createMock(File.class);\n\n        PersistenceManager tested = new PersistenceManager();\n\n        expectNew(File.class, path).andReturn(fileMock);\n\n        expect(fileMock.exists()).andReturn(false);\n        expect(fileMock.mkdirs()).andReturn(true);\n\n        replay(fileMock, File.class);\n\n        assertTrue(tested.createDirectoryStructure(path));\n\n        verify(fileMock, File.class);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4529689,"reputation":745,"user_id":3680562,"accept_rate":88,"display_name":"ddolce"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42433,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":46185629,"answer_count":2,"score":29,"last_activity_date":1678154919,"creation_date":1505251097,"question_id":46185469,"body_markdown":"I&#39;m trying to stub an instance method of a particular class, so that when any instance of this `Foo` class calls this instance method `doSomething`, the same `object` is returned (see code below). However, mockito doesn&#39;t allow any matchers outside of verification or stubbing.\r\n\r\n    Bar object = new Bar();\r\n    given(any(Foo.class).doSomething(Arg.class)).willReturn(object);\r\n\r\nAnd in `Foo.class`:\r\n\r\n    Bar doSomething(Arg param) {\r\n        Bar bar = new Bar();\r\n        // Do something with bar\r\n        return bar;\r\n    }\r\n\r\nAny way I can achieve this goal with Mockito? Thanks!","title":"Mockito: mock instance method for all instances of a class","body":"<p>I'm trying to stub an instance method of a particular class, so that when any instance of this <code>Foo</code> class calls this instance method <code>doSomething</code>, the same <code>object</code> is returned (see code below). However, mockito doesn't allow any matchers outside of verification or stubbing.</p>\n\n<pre><code>Bar object = new Bar();\ngiven(any(Foo.class).doSomething(Arg.class)).willReturn(object);\n</code></pre>\n\n<p>And in <code>Foo.class</code>:</p>\n\n<pre><code>Bar doSomething(Arg param) {\n    Bar bar = new Bar();\n    // Do something with bar\n    return bar;\n}\n</code></pre>\n\n<p>Any way I can achieve this goal with Mockito? Thanks!</p>\n"},{"tags":["java","saml","onelogin","opensaml"],"comments":[{"owner":{"account_id":5393216,"reputation":571,"user_id":4295123,"accept_rate":69,"display_name":"Ardit Meti"},"score":0,"creation_date":1677057375,"post_id":75529796,"comment_id":133260358,"body_markdown":"Signer.signObject(signature); why are you signing the signature here?","body":"Signer.signObject(signature); why are you signing the signature here?"},{"owner":{"account_id":16869080,"reputation":51,"user_id":12198033,"display_name":"Jess"},"score":0,"creation_date":1677066448,"post_id":75529796,"comment_id":133262875,"body_markdown":"Hi, thank you for the comment. I saw some code uses &quot;Signer.signObject(signature)&quot; and some uses &quot;Signer.signObject(assertion)&quot;. Using the former one, it passes the validation check. Should I use signObject(assertion) / signObject(response) though?","body":"Hi, thank you for the comment. I saw some code uses &quot;Signer.signObject(signature)&quot; and some uses &quot;Signer.signObject(assertion)&quot;. Using the former one, it passes the validation check. Should I use signObject(assertion) / signObject(response) though?"},{"owner":{"account_id":5393216,"reputation":571,"user_id":4295123,"accept_rate":69,"display_name":"Ardit Meti"},"score":0,"creation_date":1677067722,"post_id":75529796,"comment_id":133263265,"body_markdown":"you should sign the assertion and response if the idp is expecting them signed.","body":"you should sign the assertion and response if the idp is expecting them signed."},{"owner":{"account_id":16869080,"reputation":51,"user_id":12198033,"display_name":"Jess"},"score":0,"creation_date":1677068332,"post_id":75529796,"comment_id":133263450,"body_markdown":"Oh I am the IDP side by the way. I&#39;ll try signObject(assertion) and signObject(response)!","body":"Oh I am the IDP side by the way. I&#39;ll try signObject(assertion) and signObject(response)!"},{"owner":{"account_id":16869080,"reputation":51,"user_id":12198033,"display_name":"Jess"},"score":0,"creation_date":1677073321,"post_id":75529796,"comment_id":133265065,"body_markdown":"I tried changing Signer.signObject(signature) to signObject(response); then I get the error message &quot;The method signObject(Signature) in the type Signer is not applicable for the arguments (Response)&quot;. So Signer.signObject(signature) is the correct way I guess.","body":"I tried changing Signer.signObject(signature) to signObject(response); then I get the error message &quot;The method signObject(Signature) in the type Signer is not applicable for the arguments (Response)&quot;. So Signer.signObject(signature) is the correct way I guess."},{"owner":{"account_id":3525262,"reputation":3260,"user_id":2946563,"display_name":"Andrew K."},"score":0,"creation_date":1677073880,"post_id":75529796,"comment_id":133265229,"body_markdown":"So... It&#39;s not common to sign both **unless** you are encrypting the entire assertion, signing it, then signing the wrapping response. Has your Service Provider said that they require both to be signed? Because if not, then I would suggest signing the overall response, and leave it at that.","body":"So... It&#39;s not common to sign both <b>unless</b> you are encrypting the entire assertion, signing it, then signing the wrapping response. Has your Service Provider said that they require both to be signed? Because if not, then I would suggest signing the overall response, and leave it at that."},{"owner":{"account_id":16869080,"reputation":51,"user_id":12198033,"display_name":"Jess"},"score":0,"creation_date":1677082223,"post_id":75529796,"comment_id":133268168,"body_markdown":"Yeah the first time I tried just signing assertion only cuz the sp spec requires the signed assertion. It kinda worked that I could sign in /w signed assertion but the problem is that I cannot get to the beginning service. SP said that the beginning service might need signed response. So I&#39;m trying to sign both now. [Excel/Word/Teams etc &gt; Azure AD (SP) &gt; IDP &gt; Azure AD (SP) &gt; should go back to the service(Excel/Word/Teams) but it has lost the appid somewhere that it goes to office.com page] Oh I should encrypt assertion &gt; sign assertion &gt; sign response you mean? I&#39;ll try that!","body":"Yeah the first time I tried just signing assertion only cuz the sp spec requires the signed assertion. It kinda worked that I could sign in /w signed assertion but the problem is that I cannot get to the beginning service. SP said that the beginning service might need signed response. So I&#39;m trying to sign both now. [Excel/Word/Teams etc &gt; Azure AD (SP) &gt; IDP &gt; Azure AD (SP) &gt; should go back to the service(Excel/Word/Teams) but it has lost the appid somewhere that it goes to office.com page] Oh I should encrypt assertion &gt; sign assertion &gt; sign response you mean? I&#39;ll try that!"},{"owner":{"account_id":16869080,"reputation":51,"user_id":12198033,"display_name":"Jess"},"score":0,"creation_date":1677107064,"post_id":75529796,"comment_id":133274917,"body_markdown":"I tried encrypting the assertion using this tool (https://www.samltool.com/encrypt.php) RSA_1_5 &amp; AES128_CBC then I realized that the &quot;saml:Assertion&quot; is changed to &quot;saml:AssertionEncrypted&quot;. When I use the tool&#39;s(https://www.samltool.com/sign_response.php) &quot;Sign Message and Assertion&quot; though, the Assertion is still &quot;saml:Assertion&quot;. Am I misunderstanding what your point? (I still tried signing the assertion anyway, but it doesn&#39;t spit any result; I guess it can only take raw assertion).","body":"I tried encrypting the assertion using this tool (<a href=\"https://www.samltool.com/encrypt.php\" rel=\"nofollow noreferrer\">samltool.com/encrypt.php</a>) RSA_1_5 &amp; AES128_CBC then I realized that the &quot;saml:Assertion&quot; is changed to &quot;saml:AssertionEncrypted&quot;. When I use the tool&#39;s(<a href=\"https://www.samltool.com/sign_response.php\" rel=\"nofollow noreferrer\">samltool.com/sign_response.php</a>) &quot;Sign Message and Assertion&quot; though, the Assertion is still &quot;saml:Assertion&quot;. Am I misunderstanding what your point? (I still tried signing the assertion anyway, but it doesn&#39;t spit any result; I guess it can only take raw assertion)."}],"answers":[{"tags":[],"owner":{"account_id":16869080,"reputation":51,"user_id":12198033,"display_name":"Jess"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678154496,"creation_date":1678154496,"answer_id":75657425,"question_id":75529796,"body_markdown":"Ok it was the line break in assertion that was making this whole issue.\r\nI just replaced the special characters and it magically works so well now.. wow....\r\nThe tones of time for nothing... wow.....\r\n\r\n    astStr = astStr.replace(&quot;&amp;#13;&quot;, &quot;&quot;).replace(&quot;&amp;#xD;&quot;, &quot;&quot;);","title":"SAML - How to Correctly Sign both Response(Message) and Assertion","body":"<p>Ok it was the line break in assertion that was making this whole issue.\nI just replaced the special characters and it magically works so well now.. wow....\nThe tones of time for nothing... wow.....</p>\n<pre><code>astStr = astStr.replace(&quot;&amp;#13;&quot;, &quot;&quot;).replace(&quot;&amp;#xD;&quot;, &quot;&quot;);\n</code></pre>\n"}],"owner":{"account_id":16869080,"reputation":51,"user_id":12198033,"display_name":"Jess"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":643,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75657425,"answer_count":1,"score":0,"last_activity_date":1678154496,"creation_date":1677053392,"question_id":75529796,"body_markdown":"I&#39;m using Java8, and I tried both OpenSAML(v3) and OneLogin but none of them worked.\r\n\r\n- Validation Check Tool : https://samltool.io/\r\n- Signing Assertion Only : Valid\r\n- Signing Response Only : Valid\r\n- Signing Both : Response Signature Invalid\r\n\r\nUsing [this site][1] I tried\r\n- Sign Both : Valid\r\n- Sign Assertion &gt; Copy then Sign Response : Valid\r\n- Sign Assertion via Code &gt; Sign Response : Response Signature Invalid\r\n\r\nResponse Signature Inavlid Message looks like this *&quot;XMLJS0013: Cryptographic error: Invalid digest for uri &#39;$REFERENCE_URI&#39;. Calculated digest is $CALCULATED_DIGESTVALUE but the xml to validate supplies digest $MY_DIGESTVALUE&quot;*\r\n\r\nWhen I manually replace $MY_DIGESTVALUE with $CALCULATED_DIGESTVALUE, the error message changes to *&quot;The calculated signature does not match the signature of the message.&quot;*\r\n\r\n```java\r\n/* Methods */\r\n// For OneLogin\r\nprivate Object stringTOobject(String samlStr) throws Exception {\r\n\tDocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n\tfactory.setNamespaceAware(true);\r\n\tDocumentBuilder builder = factory.newDocumentBuilder();\r\n\tDocument document = builder.parse(new ByteArrayInputStream(samlStr.getBytes(&quot;UTF-8&quot;)));  \r\n\tElement samlElement = document.getDocumentElement();\r\n\tUnmarshaller unmarshaller = XMLObjectProviderRegistrySupport.getUnmarshallerFactory().getUnmarshaller(samlElement);\r\n\treturn unmarshaller.unmarshall(samlElement);\r\n}\r\n// For OpenSAML\r\nprivate &lt;T&gt; T createObject(Class&lt;T&gt; clazz) throws Exception {\r\n\tQName defaultElementName = (QName) clazz.getDeclaredField(&quot;DEFAULT_ELEMENT_NAME&quot;).get(null);\r\n\tObject object = SAMLutil.getSAMLBuilder().getBuilder(defaultElementName).buildObject(defaultElementName);\r\n\treturn clazz.cast(object);\r\n}\r\nprivate KeyInfo getKeyInfo(BasicX509Credential basicCredential, HashMap reqMap) throws Exception {\r\n\tKeyInfo result = null;\r\n\tKeyName keyName = createObject(KeyName.class);\r\n\tkeyName.setValue($KeyID);\r\n\tX509KeyInfoGeneratorFactory kiFactory = new X509KeyInfoGeneratorFactory();\r\n\tkiFactory.setEmitEntityCertificate(true);\r\n\tresult = kiFactory.newInstance().generate(basicCredential);\r\n\tresult.getKeyNames().add(keyName);\r\n\t// To remove linebreaks in Certificate\r\n\tresult.getX509Datas().get(0).getX509Certificates().get(0).setValue($X509CertificateString);\r\n\treturn result;\r\n}\r\nprivate Signature getSig(HashMap reqMap) throws Exception {\r\n\tSignature result = createObject(Signature.class);\r\n\tBasicX509Credential basicCredential = getBasicX509Credential($X509CertificateString);\r\n\tbasicCredential.setPrivateKey($PrivateKey);\r\n\tKeyInfo keyInfo = getKeyInfo(basicCredential, reqMap);\r\n\tresult.setKeyInfo(keyInfo);\r\n\tresult.setCanonicalizationAlgorithm(SignatureConstants.ALGO_ID_C14N_EXCL_OMIT_COMMENTS);\r\n\tresult.setSignatureAlgorithm(SignatureConstants.ALGO_ID_SIGNATURE_RSA_SHA1);\r\n\tresult.setSigningCredential(basicCredential);\r\n\treturn result;\r\n}\r\n\r\n/* OneLogin */\r\n// 1. Sign Assertion &gt; Turn signed string back to Assertion\r\nAssertionMarshaller aMarshaller = new AssertionMarshaller();\r\nString astStr = Util.addSign(aMarshaller.marshall(assertion), privateKey, cert, Constants.RSA_SHA1);\r\nassertion = (Assertion) stringTOobject(astStr);\r\n// 2. Add Assertion into Response\r\nresponse.getAssertions().add(assertion);\r\n// 3. Sign Response &gt; Turn signed string back to Response\r\nResponseMarshaller marshaller = new ResponseMarshaller();\r\nString resStr = Util.addSign(marshaller.marshall(response), privateKey, cert, Constants.RSA_SHA1);\r\nresponse = (Response) stringTOobject(resStr);\r\n// 4. To XMLString\r\nString samlStr = SerializeSupport.nodeToString(marshaller.marshall(response));\r\n\r\n/* OpenSAML */\r\n// 1. Sign Assertion\r\nSignature signature = getSig(reqMap);\r\nassertion.setSignature(signature);\r\n((SAMLObjectContentReference)signature.getContentReferences().get(0)).setDigestAlgorithm(SignatureConstants.ALGO_ID_DIGEST_SHA1);\r\nAssertionMarshaller aMarshaller = new AssertionMarshaller();\r\naMarshaller.marshall(assertion);\r\nSigner.signObject(signature);\r\n// 2. Add Assertion into Response\r\nresponse.getAssertions().add(assertion);\r\n// 3. Sign Response\r\nSignature signature = getSig(reqMap);\r\nresponse.setSignature(signature);\r\n((SAMLObjectContentReference)signature.getContentReferences().get(0)).setDigestAlgorithm(SignatureConstants.ALGO_ID_DIGEST_SHA1);\r\nResponseMarshaller marshaller = new ResponseMarshaller();\r\nmarshaller.marshall(response);\r\nSigner.signObject(signature);\r\n// 4. To XMLString\r\nString samlStr = SerializeSupport.nodeToString(marshaller.marshall(response));\r\n```\r\n\r\nWhat am I missing?\r\n\r\nAny help would be really appreciated.\r\n\r\n\r\n  [1]: https://www.samltool.com/sign_response.php","title":"SAML - How to Correctly Sign both Response(Message) and Assertion","body":"<p>I'm using Java8, and I tried both OpenSAML(v3) and OneLogin but none of them worked.</p>\n<ul>\n<li>Validation Check Tool : <a href=\"https://samltool.io/\" rel=\"nofollow noreferrer\">https://samltool.io/</a></li>\n<li>Signing Assertion Only : Valid</li>\n<li>Signing Response Only : Valid</li>\n<li>Signing Both : Response Signature Invalid</li>\n</ul>\n<p>Using <a href=\"https://www.samltool.com/sign_response.php\" rel=\"nofollow noreferrer\">this site</a> I tried</p>\n<ul>\n<li>Sign Both : Valid</li>\n<li>Sign Assertion &gt; Copy then Sign Response : Valid</li>\n<li>Sign Assertion via Code &gt; Sign Response : Response Signature Invalid</li>\n</ul>\n<p>Response Signature Inavlid Message looks like this <em>&quot;XMLJS0013: Cryptographic error: Invalid digest for uri '$REFERENCE_URI'. Calculated digest is $CALCULATED_DIGESTVALUE but the xml to validate supplies digest $MY_DIGESTVALUE&quot;</em></p>\n<p>When I manually replace $MY_DIGESTVALUE with $CALCULATED_DIGESTVALUE, the error message changes to <em>&quot;The calculated signature does not match the signature of the message.&quot;</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>/* Methods */\n// For OneLogin\nprivate Object stringTOobject(String samlStr) throws Exception {\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n    factory.setNamespaceAware(true);\n    DocumentBuilder builder = factory.newDocumentBuilder();\n    Document document = builder.parse(new ByteArrayInputStream(samlStr.getBytes(&quot;UTF-8&quot;)));  \n    Element samlElement = document.getDocumentElement();\n    Unmarshaller unmarshaller = XMLObjectProviderRegistrySupport.getUnmarshallerFactory().getUnmarshaller(samlElement);\n    return unmarshaller.unmarshall(samlElement);\n}\n// For OpenSAML\nprivate &lt;T&gt; T createObject(Class&lt;T&gt; clazz) throws Exception {\n    QName defaultElementName = (QName) clazz.getDeclaredField(&quot;DEFAULT_ELEMENT_NAME&quot;).get(null);\n    Object object = SAMLutil.getSAMLBuilder().getBuilder(defaultElementName).buildObject(defaultElementName);\n    return clazz.cast(object);\n}\nprivate KeyInfo getKeyInfo(BasicX509Credential basicCredential, HashMap reqMap) throws Exception {\n    KeyInfo result = null;\n    KeyName keyName = createObject(KeyName.class);\n    keyName.setValue($KeyID);\n    X509KeyInfoGeneratorFactory kiFactory = new X509KeyInfoGeneratorFactory();\n    kiFactory.setEmitEntityCertificate(true);\n    result = kiFactory.newInstance().generate(basicCredential);\n    result.getKeyNames().add(keyName);\n    // To remove linebreaks in Certificate\n    result.getX509Datas().get(0).getX509Certificates().get(0).setValue($X509CertificateString);\n    return result;\n}\nprivate Signature getSig(HashMap reqMap) throws Exception {\n    Signature result = createObject(Signature.class);\n    BasicX509Credential basicCredential = getBasicX509Credential($X509CertificateString);\n    basicCredential.setPrivateKey($PrivateKey);\n    KeyInfo keyInfo = getKeyInfo(basicCredential, reqMap);\n    result.setKeyInfo(keyInfo);\n    result.setCanonicalizationAlgorithm(SignatureConstants.ALGO_ID_C14N_EXCL_OMIT_COMMENTS);\n    result.setSignatureAlgorithm(SignatureConstants.ALGO_ID_SIGNATURE_RSA_SHA1);\n    result.setSigningCredential(basicCredential);\n    return result;\n}\n\n/* OneLogin */\n// 1. Sign Assertion &gt; Turn signed string back to Assertion\nAssertionMarshaller aMarshaller = new AssertionMarshaller();\nString astStr = Util.addSign(aMarshaller.marshall(assertion), privateKey, cert, Constants.RSA_SHA1);\nassertion = (Assertion) stringTOobject(astStr);\n// 2. Add Assertion into Response\nresponse.getAssertions().add(assertion);\n// 3. Sign Response &gt; Turn signed string back to Response\nResponseMarshaller marshaller = new ResponseMarshaller();\nString resStr = Util.addSign(marshaller.marshall(response), privateKey, cert, Constants.RSA_SHA1);\nresponse = (Response) stringTOobject(resStr);\n// 4. To XMLString\nString samlStr = SerializeSupport.nodeToString(marshaller.marshall(response));\n\n/* OpenSAML */\n// 1. Sign Assertion\nSignature signature = getSig(reqMap);\nassertion.setSignature(signature);\n((SAMLObjectContentReference)signature.getContentReferences().get(0)).setDigestAlgorithm(SignatureConstants.ALGO_ID_DIGEST_SHA1);\nAssertionMarshaller aMarshaller = new AssertionMarshaller();\naMarshaller.marshall(assertion);\nSigner.signObject(signature);\n// 2. Add Assertion into Response\nresponse.getAssertions().add(assertion);\n// 3. Sign Response\nSignature signature = getSig(reqMap);\nresponse.setSignature(signature);\n((SAMLObjectContentReference)signature.getContentReferences().get(0)).setDigestAlgorithm(SignatureConstants.ALGO_ID_DIGEST_SHA1);\nResponseMarshaller marshaller = new ResponseMarshaller();\nmarshaller.marshall(response);\nSigner.signObject(signature);\n// 4. To XMLString\nString samlStr = SerializeSupport.nodeToString(marshaller.marshall(response));\n</code></pre>\n<p>What am I missing?</p>\n<p>Any help would be really appreciated.</p>\n"},{"tags":["java","reactjs","react-native","react-context"],"owner":{"account_id":6492529,"reputation":4028,"user_id":5026136,"accept_rate":33,"display_name":"Elliptica"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678154226,"creation_date":1678154226,"question_id":75657405,"body_markdown":"I want to send events from my Java code to my React Native code. I&#39;m following the guide here: https://reactnative.dev/docs/native-modules-android#sending-events-to-javascript\r\n\r\nHowever, I keep getting the error `Tried to access a JS module before the React instance was fully set up&quot;`. I added in a check for `reactContext.hasActiveCatalystInstance()` and that&#39;s always false. Yet I have a valid ReactApplicationContext and my react code is running. I need `hasActiveCatalystInstance()` to be true. \r\n\r\nMy class extends `ReactContextBaseJavaModule` and the constructor takes in the context like so: `MyClass(ReactApplicationContext context)`.\r\n\r\nWhy is `hasActiveCatalystInstance()` always false and how can I rectify that?","title":"hasActiveCatalystInstance is always false","body":"<p>I want to send events from my Java code to my React Native code. I'm following the guide here: <a href=\"https://reactnative.dev/docs/native-modules-android#sending-events-to-javascript\" rel=\"nofollow noreferrer\">https://reactnative.dev/docs/native-modules-android#sending-events-to-javascript</a></p>\n<p>However, I keep getting the error <code>Tried to access a JS module before the React instance was fully set up&quot;</code>. I added in a check for <code>reactContext.hasActiveCatalystInstance()</code> and that's always false. Yet I have a valid ReactApplicationContext and my react code is running. I need <code>hasActiveCatalystInstance()</code> to be true.</p>\n<p>My class extends <code>ReactContextBaseJavaModule</code> and the constructor takes in the context like so: <code>MyClass(ReactApplicationContext context)</code>.</p>\n<p>Why is <code>hasActiveCatalystInstance()</code> always false and how can I rectify that?</p>\n"},{"tags":["java","spring","postgresql","project-reactor","r2dbc"],"answers":[{"tags":[],"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1678154189,"creation_date":1678154189,"answer_id":75657401,"question_id":75617596,"body_markdown":"1. Check the syntax of your SQL query\r\n2. Use the correct parameter name: In your SQL query, you are using a placeholder $1, which suggests that you are using positional parameters. However, your method parameter name is ```s```. You need to use the correct parameter name in your SQL query, either by changing the placeholder to ```:s``` or by using positional parameters and specifying the correct parameter index.\r\n\r\nbelow is code snippet\r\n\r\n```\r\n\r\n  @Query(value = &quot;SELECT * from stock_names  where stock_namee=:s&quot;)\r\n  Flux&lt;Stock&gt; myCustomSearchFor(@Param(&quot;s&quot;)String s);\r\n\r\n```","title":"Spring ReactiveCrudRepository @Query with PostgreSql throws PostgresqlBadGrammarException: [42P01]","body":"<ol>\n<li>Check the syntax of your SQL query</li>\n<li>Use the correct parameter name: In your SQL query, you are using a placeholder $1, which suggests that you are using positional parameters. However, your method parameter name is <code>s</code>. You need to use the correct parameter name in your SQL query, either by changing the placeholder to <code>:s</code> or by using positional parameters and specifying the correct parameter index.</li>\n</ol>\n<p>below is code snippet</p>\n<pre><code>\n  @Query(value = &quot;SELECT * from stock_names  where stock_namee=:s&quot;)\n  Flux&lt;Stock&gt; myCustomSearchFor(@Param(&quot;s&quot;)String s);\n\n</code></pre>\n"}],"owner":{"account_id":10965552,"reputation":329,"user_id":8057394,"display_name":"Csongi77"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":699,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678154189,"creation_date":1677771164,"question_id":75617596,"body_markdown":"Given a ReactiveCrudRepository with specified @Query which **passes unit test flawlessly using MariaDB** backend **but throws exception using PostgreSQL**. \r\nOther Spring repository queries succeeds (findById, findByStockName). The structure is the same on both databases.\r\nWhat can cause the error? Any ideas?\r\nAny help is appreciated! \r\n\r\nThe entity (Stock.java):\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(schema = &quot;experiment_schema&quot;, name = &quot;stock_names&quot;)\r\npublic class Stock {\r\n\r\n  public Stock(String stockName) {\r\n    this.stockName = stockName;\r\n  }\r\n\r\n  @Id\r\n  Integer id;\r\n\r\n  @Length(min = 3, max = 3)\r\n  @Pattern(regexp = &quot;^([A-Z]){3}$&quot;)\r\n  @Column(value = &quot;stock_namee&quot;)\r\n  String stockName;\r\n}\r\n```\r\nThe repository:\r\n```\r\nimport net.sytes.csongi.springreactivetest.entities.Stock;\r\nimport org.springframework.data.r2dbc.repository.Query;\r\nimport org.springframework.data.repository.reactive.ReactiveCrudRepository;\r\nimport org.springframework.stereotype.Repository;\r\nimport reactor.core.publisher.Flux;\r\n\r\n@Repository\r\ninterface StockRepository extends ReactiveCrudRepository&lt;Stock,Integer&gt; {\r\n\r\n// this query fails using PostgreSQL.\r\n// also tried @Query(value = &quot;SELECT * from stock_names where stock_namee=:$1&quot;) with same result\r\n  @Query(value = &quot;SELECT * from stock_names  where stock_namee=:s&quot;)\r\n  Flux&lt;Stock&gt; myCustomSearchFor(String s);\r\n}\r\n```\r\nThe service:\r\n```\r\nimport jakarta.validation.ConstraintViolation;\r\nimport jakarta.validation.ConstraintViolationException;\r\nimport jakarta.validation.Validator;\r\nimport net.sytes.csongi.springreactivetest.entities.Stock;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport reactor.core.publisher.Flux;\r\nimport reactor.core.publisher.Mono;\r\n\r\nimport java.util.Set;\r\n\r\n@Service\r\npublic class StockService {\r\n\r\n  @Autowired\r\n  private StockRepository repository;\r\n  @Autowired\r\n  private Validator validator;\r\n\r\n  public Mono&lt;Stock&gt; save(Stock stockToSave) {\r\n    Set&lt;ConstraintViolation&lt;Stock&gt;&gt; constraintValidations = validator.validate(stockToSave);\r\n    if (constraintValidations.isEmpty())\r\n      return repository.save(stockToSave);\r\n    throw new ConstraintViolationException(&quot;The following errors occured: &quot;, constraintValidations);\r\n  }\r\n\r\n  public Mono&lt;Void&gt; deleteAll() {\r\n    return repository.deleteAll();\r\n  }\r\n\r\n  public Flux&lt;Stock&gt; findStockByName(String stockName) {\r\n    return repository.myCustomSearchFor(stockName);\r\n  }\r\n}\r\n```\r\nThe test that succeeds/fails on MariaDB/PostgreSQL:\r\n```\r\n\r\nimport jakarta.validation.ConstraintViolationException;\r\nimport net.sytes.csongi.springreactivetest.entities.Stock;\r\nimport net.sytes.csongi.springreactivetest.repositories.StockService;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.DisplayName;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport reactor.core.publisher.Mono;\r\n\r\nimport java.util.List;\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\n@SpringBootTest\r\npublic class StockServiceTest {\r\n\r\n  private static final String VALID_STOCK_NAME = &quot;EDE&quot;;\r\n\r\n  @Autowired\r\n  private StockService stockService;\r\n  private Stock validStock;\r\n\r\n\r\n  @BeforeEach\r\n  public void setup() {\r\n    validStock = new Stock(VALID_STOCK_NAME);\r\n    stockService.deleteAll().block();\r\n  }\r\n// ...\r\n  @Test\r\n  @DisplayName(&quot;Find by stock name should work&quot;)\r\n  public void findByStockNameShouldWork() {\r\n    stockService.save(validStock).block();\r\n    List&lt;Stock&gt; loaded = stockService.findStockByName(VALID_STOCK_NAME).collectList().block();\r\n    assertEquals(1,loaded.size());\r\n  }\r\n}\r\n```\r\nThe application.yml:\r\n```\r\nspring:\r\n main:\r\n  web-application-type: reactive\r\n r2dbc:\r\n  url: r2dbc:postgresql://localhost:4444/product_db \r\n#  url: r2dbc:mariadb://localhost:7777/experiment_schema -&gt; succeeds\r\n  password: dev_xxx\r\n  username: dev_xxx\r\n data:\r\n  r2dbc:\r\n   repositories:\r\n    enabled: true\r\nlogging:\r\n level:\r\n  root: info\r\n```\r\nThe error message:\r\n```\r\nexecuteMany; bad SQL grammar [SELECT * from stock_names  where stock_namee=$1]\r\norg.springframework.r2dbc.BadSqlGrammarException: executeMany; bad SQL grammar [SELECT * from stock_names  where stock_namee=$1]\r\n\tat app//org.springframework.r2dbc.connection.ConnectionFactoryUtils.convertR2dbcException(ConnectionFactoryUtils.java:243)\r\n\tat app//org.springframework.r2dbc.core.DefaultDatabaseClient.lambda$inConnectionMany$8(DefaultDatabaseClient.java:151)\r\n\tat app//reactor.core.publisher.Flux.lambda$onErrorMap$28(Flux.java:7134)\r\n\tat app//reactor.core.publisher.Flux.lambda$onErrorResume$29(Flux.java:7187)\r\n\tat app//reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)\r\n\tat app//reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.deferredError(FluxUsingWhen.java:398)\r\n\tat app//reactor.core.publisher.FluxUsingWhen$RollbackInner.onComplete(FluxUsingWhen.java:475)\r\n\tat app//reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2205)\r\n\tat app//reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)\r\n\tat app//reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2205)\r\n\tat app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:209)\r\n\tat app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:209)\r\n\tat app//reactor.pool.SimpleDequePool.maybeRecycleAndDrain(SimpleDequePool.java:531)\r\n\tat app//reactor.pool.SimpleDequePool$QueuePoolRecyclerInner.onComplete(SimpleDequePool.java:761)\r\n\tat app//reactor.core.publisher.Operators.complete(Operators.java:137)\r\n\tat app//reactor.core.publisher.MonoEmpty.subscribe(MonoEmpty.java:46)\r\n\tat app//reactor.core.publisher.Mono.subscribe(Mono.java:4485)\r\n\tat app//reactor.pool.SimpleDequePool$QueuePoolRecyclerMono.subscribe(SimpleDequePool.java:873)\r\n\tat app//reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\r\n\tat app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:240)\r\n\tat app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203)\r\n\tat app//reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)\r\n\tat app//reactor.core.publisher.Operators.complete(Operators.java:137)\r\n\tat app//reactor.core.publisher.MonoEmpty.subscribe(MonoEmpty.java:46)\r\n\tat app//reactor.core.publisher.Mono.subscribe(Mono.java:4485)\r\n\tat app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)\r\n\tat app//reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\r\n\tat app//reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\r\n\tat app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:240)\r\n\tat app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203)\r\n\tat app//reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89)\r\n\tat app//reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onComplete(FluxHandleFuseable.java:238)\r\n\tat app//reactor.core.publisher.MonoSupplier$MonoSupplierSubscription.request(MonoSupplier.java:148)\r\n\tat app//reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.request(FluxHandleFuseable.java:259)\r\n\tat app//reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onSubscribe(MonoIgnoreElements.java:72)\r\n\tat app//reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onSubscribe(FluxHandleFuseable.java:163)\r\n\tat app//reactor.core.publisher.MonoSupplier.subscribe(MonoSupplier.java:48)\r\n\tat app//reactor.core.publisher.Mono.subscribe(Mono.java:4485)\r\n\tat app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)\r\n\tat app//reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\r\n\tat app//reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\n\tat app//reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\r\n\tat app//reactor.core.publisher.Mono.subscribe(Mono.java:4485)\r\n\tat app//reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\r\n\tat app//reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)\r\n\tat app//reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134)\r\n\tat app//reactor.core.publisher.FluxFilter$FilterSubscriber.onError(FluxFilter.java:157)\r\n\tat app//reactor.core.publisher.FluxFilter$FilterConditionalSubscriber.onError(FluxFilter.java:291)\r\n\tat app//reactor.core.publisher.FluxMap$MapConditionalSubscriber.onError(FluxMap.java:265)\r\n\tat app//reactor.core.publisher.Operators.error(Operators.java:198)\r\n\tat app//reactor.core.publisher.MonoError.subscribe(MonoError.java:53)\r\n\tat app//reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)\r\n\tat app//reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\n\tat app//reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\r\n\tat app//reactor.core.publisher.Mono.subscribe(Mono.java:4485)\r\n\tat app//reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.onError(FluxUsingWhen.java:364)\r\n\tat app//reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:843)\r\n\tat app//reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:609)\r\n\tat app//reactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:589)\r\n\tat app//reactor.core.publisher.FluxFlatMap$FlatMapMain.innerError(FluxFlatMap.java:864)\r\n\tat app//reactor.core.publisher.FluxFlatMap$FlatMapInner.onError(FluxFlatMap.java:991)\r\n\tat app//reactor.core.publisher.FluxHandle$HandleSubscriber.onError(FluxHandle.java:212)\r\n\tat app//reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)\r\n\tat app//reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:200)\r\n\tat app//reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337)\r\n\tat app//reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)\r\n\tat app//reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854)\r\n\tat app//reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854)\r\n\tat app//io.r2dbc.postgresql.util.FluxDiscardOnCancel$FluxDiscardOnCancelSubscriber.onNext(FluxDiscardOnCancel.java:91)\r\n\tat app//reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onNext(FluxDoFinally.java:113)\r\n\tat app//reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:128)\r\n\tat app//reactor.core.publisher.FluxCreate$BufferAsyncSink.drain(FluxCreate.java:814)\r\n\tat app//reactor.core.publisher.FluxCreate$BufferAsyncSink.next(FluxCreate.java:739)\r\n\tat app//reactor.core.publisher.FluxCreate$SerializedFluxSink.next(FluxCreate.java:161)\r\n\tat app//io.r2dbc.postgresql.client.ReactorNettyClient$Conversation.emit(ReactorNettyClient.java:687)\r\n\tat app//io.r2dbc.postgresql.client.ReactorNettyClient$BackendMessageSubscriber.emit(ReactorNettyClient.java:939)\r\n\tat app//io.r2dbc.postgresql.client.ReactorNettyClient$BackendMessageSubscriber.onNext(ReactorNettyClient.java:813)\r\n\tat app//io.r2dbc.postgresql.client.ReactorNettyClient$BackendMessageSubscriber.onNext(ReactorNettyClient.java:719)\r\n\tat app//reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:128)\r\n\tat app//reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854)\r\n\tat app//reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224)\r\n\tat app//reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224)\r\n\tat app//reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:294)\r\n\tat app//reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:403)\r\n\tat app//reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:411)\r\n\tat app//reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\tat app//io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)\r\n\tat app//io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333)\r\n\tat app//io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:454)\r\n\tat app//io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\tat app//io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat app//io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat app//io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800)\r\n\tat app//io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)\r\n\tat app//io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397)\r\n\tat app//io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat app//io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat app//io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base@18.0.2-ea/java.lang.Thread.run(Thread.java:833)\r\n\tSuppressed: java.lang.Exception: #block terminated with an error\r\n\t\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\r\n\t\tat reactor.core.publisher.Mono.block(Mono.java:1710)\r\n\t\tat net.sytes.csongi.springreactivetest.StockServiceTest.findByStockNameShouldWork(StockServiceTest.java:74)\r\n\t\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\t\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\t\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\t\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\t\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\t\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\t\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\t\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\t\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\t\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\r\n\t\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\t\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\t\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\t\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\t\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\t\tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\r\n\t\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\t\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\t\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\t\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\t\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\t\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\r\n\t\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\r\n\t\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\t\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: io.r2dbc.postgresql.ExceptionFactory$PostgresqlBadGrammarException: [42P01] relation &quot;stock_names&quot; does not exist\r\n\tat app//io.r2dbc.postgresql.ExceptionFactory.createException(ExceptionFactory.java:96)\r\n\tat app//io.r2dbc.postgresql.ExceptionFactory.createException(ExceptionFactory.java:65)\r\n\tat app//io.r2dbc.postgresql.ExceptionFactory.handleErrorResponse(ExceptionFactory.java:132)\r\n\tat app//reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:178)\r\n\t... 43 more\r\n\r\n```\r\nRelated gradle dependencies:\r\n```\r\ndependencies {\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-r2dbc&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n    runtimeOnly &#39;org.postgresql:r2dbc-postgresql&#39;\r\n    testRuntimeOnly &#39;org.mariadb:r2dbc-mariadb:1.1.3&#39;\r\n    annotationProcessor &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    testImplementation &#39;io.projectreactor:reactor-test&#39;\r\n}\r\n```\r\n","title":"Spring ReactiveCrudRepository @Query with PostgreSql throws PostgresqlBadGrammarException: [42P01]","body":"<p>Given a ReactiveCrudRepository with specified @Query which <strong>passes unit test flawlessly using MariaDB</strong> backend <strong>but throws exception using PostgreSQL</strong>.\nOther Spring repository queries succeeds (findById, findByStockName). The structure is the same on both databases.\nWhat can cause the error? Any ideas?\nAny help is appreciated!</p>\n<p>The entity (Stock.java):</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(schema = &quot;experiment_schema&quot;, name = &quot;stock_names&quot;)\npublic class Stock {\n\n  public Stock(String stockName) {\n    this.stockName = stockName;\n  }\n\n  @Id\n  Integer id;\n\n  @Length(min = 3, max = 3)\n  @Pattern(regexp = &quot;^([A-Z]){3}$&quot;)\n  @Column(value = &quot;stock_namee&quot;)\n  String stockName;\n}\n</code></pre>\n<p>The repository:</p>\n<pre><code>import net.sytes.csongi.springreactivetest.entities.Stock;\nimport org.springframework.data.r2dbc.repository.Query;\nimport org.springframework.data.repository.reactive.ReactiveCrudRepository;\nimport org.springframework.stereotype.Repository;\nimport reactor.core.publisher.Flux;\n\n@Repository\ninterface StockRepository extends ReactiveCrudRepository&lt;Stock,Integer&gt; {\n\n// this query fails using PostgreSQL.\n// also tried @Query(value = &quot;SELECT * from stock_names where stock_namee=:$1&quot;) with same result\n  @Query(value = &quot;SELECT * from stock_names  where stock_namee=:s&quot;)\n  Flux&lt;Stock&gt; myCustomSearchFor(String s);\n}\n</code></pre>\n<p>The service:</p>\n<pre><code>import jakarta.validation.ConstraintViolation;\nimport jakarta.validation.ConstraintViolationException;\nimport jakarta.validation.Validator;\nimport net.sytes.csongi.springreactivetest.entities.Stock;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport reactor.core.publisher.Flux;\nimport reactor.core.publisher.Mono;\n\nimport java.util.Set;\n\n@Service\npublic class StockService {\n\n  @Autowired\n  private StockRepository repository;\n  @Autowired\n  private Validator validator;\n\n  public Mono&lt;Stock&gt; save(Stock stockToSave) {\n    Set&lt;ConstraintViolation&lt;Stock&gt;&gt; constraintValidations = validator.validate(stockToSave);\n    if (constraintValidations.isEmpty())\n      return repository.save(stockToSave);\n    throw new ConstraintViolationException(&quot;The following errors occured: &quot;, constraintValidations);\n  }\n\n  public Mono&lt;Void&gt; deleteAll() {\n    return repository.deleteAll();\n  }\n\n  public Flux&lt;Stock&gt; findStockByName(String stockName) {\n    return repository.myCustomSearchFor(stockName);\n  }\n}\n</code></pre>\n<p>The test that succeeds/fails on MariaDB/PostgreSQL:</p>\n<pre><code>\nimport jakarta.validation.ConstraintViolationException;\nimport net.sytes.csongi.springreactivetest.entities.Stock;\nimport net.sytes.csongi.springreactivetest.repositories.StockService;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.DisplayName;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport reactor.core.publisher.Mono;\n\nimport java.util.List;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\n@SpringBootTest\npublic class StockServiceTest {\n\n  private static final String VALID_STOCK_NAME = &quot;EDE&quot;;\n\n  @Autowired\n  private StockService stockService;\n  private Stock validStock;\n\n\n  @BeforeEach\n  public void setup() {\n    validStock = new Stock(VALID_STOCK_NAME);\n    stockService.deleteAll().block();\n  }\n// ...\n  @Test\n  @DisplayName(&quot;Find by stock name should work&quot;)\n  public void findByStockNameShouldWork() {\n    stockService.save(validStock).block();\n    List&lt;Stock&gt; loaded = stockService.findStockByName(VALID_STOCK_NAME).collectList().block();\n    assertEquals(1,loaded.size());\n  }\n}\n</code></pre>\n<p>The application.yml:</p>\n<pre><code>spring:\n main:\n  web-application-type: reactive\n r2dbc:\n  url: r2dbc:postgresql://localhost:4444/product_db \n#  url: r2dbc:mariadb://localhost:7777/experiment_schema -&gt; succeeds\n  password: dev_xxx\n  username: dev_xxx\n data:\n  r2dbc:\n   repositories:\n    enabled: true\nlogging:\n level:\n  root: info\n</code></pre>\n<p>The error message:</p>\n<pre><code>executeMany; bad SQL grammar [SELECT * from stock_names  where stock_namee=$1]\norg.springframework.r2dbc.BadSqlGrammarException: executeMany; bad SQL grammar [SELECT * from stock_names  where stock_namee=$1]\n    at app//org.springframework.r2dbc.connection.ConnectionFactoryUtils.convertR2dbcException(ConnectionFactoryUtils.java:243)\n    at app//org.springframework.r2dbc.core.DefaultDatabaseClient.lambda$inConnectionMany$8(DefaultDatabaseClient.java:151)\n    at app//reactor.core.publisher.Flux.lambda$onErrorMap$28(Flux.java:7134)\n    at app//reactor.core.publisher.Flux.lambda$onErrorResume$29(Flux.java:7187)\n    at app//reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)\n    at app//reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.deferredError(FluxUsingWhen.java:398)\n    at app//reactor.core.publisher.FluxUsingWhen$RollbackInner.onComplete(FluxUsingWhen.java:475)\n    at app//reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2205)\n    at app//reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)\n    at app//reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2205)\n    at app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:209)\n    at app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:209)\n    at app//reactor.pool.SimpleDequePool.maybeRecycleAndDrain(SimpleDequePool.java:531)\n    at app//reactor.pool.SimpleDequePool$QueuePoolRecyclerInner.onComplete(SimpleDequePool.java:761)\n    at app//reactor.core.publisher.Operators.complete(Operators.java:137)\n    at app//reactor.core.publisher.MonoEmpty.subscribe(MonoEmpty.java:46)\n    at app//reactor.core.publisher.Mono.subscribe(Mono.java:4485)\n    at app//reactor.pool.SimpleDequePool$QueuePoolRecyclerMono.subscribe(SimpleDequePool.java:873)\n    at app//reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\n    at app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:240)\n    at app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203)\n    at app//reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)\n    at app//reactor.core.publisher.Operators.complete(Operators.java:137)\n    at app//reactor.core.publisher.MonoEmpty.subscribe(MonoEmpty.java:46)\n    at app//reactor.core.publisher.Mono.subscribe(Mono.java:4485)\n    at app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)\n    at app//reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\n    at app//reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\n    at app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:240)\n    at app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203)\n    at app//reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89)\n    at app//reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onComplete(FluxHandleFuseable.java:238)\n    at app//reactor.core.publisher.MonoSupplier$MonoSupplierSubscription.request(MonoSupplier.java:148)\n    at app//reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.request(FluxHandleFuseable.java:259)\n    at app//reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onSubscribe(MonoIgnoreElements.java:72)\n    at app//reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onSubscribe(FluxHandleFuseable.java:163)\n    at app//reactor.core.publisher.MonoSupplier.subscribe(MonoSupplier.java:48)\n    at app//reactor.core.publisher.Mono.subscribe(Mono.java:4485)\n    at app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)\n    at app//reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\n    at app//reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\n    at app//reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\n    at app//reactor.core.publisher.Mono.subscribe(Mono.java:4485)\n    at app//reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\n    at app//reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)\n    at app//reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134)\n    at app//reactor.core.publisher.FluxFilter$FilterSubscriber.onError(FluxFilter.java:157)\n    at app//reactor.core.publisher.FluxFilter$FilterConditionalSubscriber.onError(FluxFilter.java:291)\n    at app//reactor.core.publisher.FluxMap$MapConditionalSubscriber.onError(FluxMap.java:265)\n    at app//reactor.core.publisher.Operators.error(Operators.java:198)\n    at app//reactor.core.publisher.MonoError.subscribe(MonoError.java:53)\n    at app//reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)\n    at app//reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\n    at app//reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\n    at app//reactor.core.publisher.Mono.subscribe(Mono.java:4485)\n    at app//reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.onError(FluxUsingWhen.java:364)\n    at app//reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:843)\n    at app//reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:609)\n    at app//reactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:589)\n    at app//reactor.core.publisher.FluxFlatMap$FlatMapMain.innerError(FluxFlatMap.java:864)\n    at app//reactor.core.publisher.FluxFlatMap$FlatMapInner.onError(FluxFlatMap.java:991)\n    at app//reactor.core.publisher.FluxHandle$HandleSubscriber.onError(FluxHandle.java:212)\n    at app//reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)\n    at app//reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:200)\n    at app//reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337)\n    at app//reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)\n    at app//reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854)\n    at app//reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854)\n    at app//io.r2dbc.postgresql.util.FluxDiscardOnCancel$FluxDiscardOnCancelSubscriber.onNext(FluxDiscardOnCancel.java:91)\n    at app//reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onNext(FluxDoFinally.java:113)\n    at app//reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:128)\n    at app//reactor.core.publisher.FluxCreate$BufferAsyncSink.drain(FluxCreate.java:814)\n    at app//reactor.core.publisher.FluxCreate$BufferAsyncSink.next(FluxCreate.java:739)\n    at app//reactor.core.publisher.FluxCreate$SerializedFluxSink.next(FluxCreate.java:161)\n    at app//io.r2dbc.postgresql.client.ReactorNettyClient$Conversation.emit(ReactorNettyClient.java:687)\n    at app//io.r2dbc.postgresql.client.ReactorNettyClient$BackendMessageSubscriber.emit(ReactorNettyClient.java:939)\n    at app//io.r2dbc.postgresql.client.ReactorNettyClient$BackendMessageSubscriber.onNext(ReactorNettyClient.java:813)\n    at app//io.r2dbc.postgresql.client.ReactorNettyClient$BackendMessageSubscriber.onNext(ReactorNettyClient.java:719)\n    at app//reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:128)\n    at app//reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854)\n    at app//reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224)\n    at app//reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224)\n    at app//reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:294)\n    at app//reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:403)\n    at app//reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:411)\n    at app//reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113)\n    at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n    at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at app//io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)\n    at app//io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333)\n    at app//io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:454)\n    at app//io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\n    at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n    at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at app//io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\n    at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at app//io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at app//io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800)\n    at app//io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)\n    at app//io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397)\n    at app//io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at app//io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at app//io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base@18.0.2-ea/java.lang.Thread.run(Thread.java:833)\n    Suppressed: java.lang.Exception: #block terminated with an error\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\n        at reactor.core.publisher.Mono.block(Mono.java:1710)\n        at net.sytes.csongi.springreactivetest.StockServiceTest.findByStockNameShouldWork(StockServiceTest.java:74)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n        at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n        at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n        at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n        at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n        at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n        at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n        at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n        at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n        at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n        at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n        at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n        at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n        at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n        at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n        at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n        at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n        at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\n        at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n        at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n        at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n        at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n        at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n        at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\n        at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\n        at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n        at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: io.r2dbc.postgresql.ExceptionFactory$PostgresqlBadGrammarException: [42P01] relation &quot;stock_names&quot; does not exist\n    at app//io.r2dbc.postgresql.ExceptionFactory.createException(ExceptionFactory.java:96)\n    at app//io.r2dbc.postgresql.ExceptionFactory.createException(ExceptionFactory.java:65)\n    at app//io.r2dbc.postgresql.ExceptionFactory.handleErrorResponse(ExceptionFactory.java:132)\n    at app//reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:178)\n    ... 43 more\n\n</code></pre>\n<p>Related gradle dependencies:</p>\n<pre><code>dependencies {\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    implementation 'org.springframework.boot:spring-boot-starter-data-r2dbc'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    runtimeOnly 'org.postgresql:r2dbc-postgresql'\n    testRuntimeOnly 'org.mariadb:r2dbc-mariadb:1.1.3'\n    annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'io.projectreactor:reactor-test'\n}\n</code></pre>\n"},{"tags":["python","java","jython","jython-2.7"],"comments":[{"owner":{"account_id":176760,"reputation":49321,"user_id":407651,"display_name":"mzjn"},"score":0,"creation_date":1678348745,"post_id":75657238,"comment_id":133515755,"body_markdown":"Reported here: https://github.com/jython/jython/issues/236","body":"Reported here: <a href=\"https://github.com/jython/jython/issues/236\" rel=\"nofollow noreferrer\">github.com/jython/jython/issues/236</a>"}],"owner":{"account_id":27952325,"reputation":21,"user_id":21345856,"display_name":"Peter Wu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1678152703,"creation_date":1678151762,"question_id":75657238,"body_markdown":"I am trying to read from a file: test1.txt\r\n   the file has only one line:  abcdefghigk\r\n\r\n    java -jar jython-standalone-2.7.3.jar\r\n    Jython 2.7.3 (tags/v2.7.3:5f29801fe, Sep 10 2022, 18:52:49)\r\n    [Java HotSpot(TM) 64-Bit Server VM (Oracle Corporation)] on java1.8.0_351\r\n    Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\r\n\r\n    &gt;&gt;&gt; from java.io import FileReader\r\n    from java.io import FileReader\r\n    &gt;&gt;&gt; import jarray\r\n    import jarray\r\n    &gt;&gt;&gt; reader = FileReader(&#39;./test1.txt&#39;)\r\n    reader = FileReader(&#39;./test1.txt&#39;)\r\n    &gt;&gt;&gt; chars = jarray.zeros(2048, &#39;c&#39;)\r\n    chars = jarray.zeros(2048, &#39;c&#39;)\r\n    &gt;&gt;&gt; num = reader.read(chars)\r\n    num = reader.read(chars)\r\n    Traceback (most recent call last):\r\n      File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;\r\n    TypeError: read(): 1st arg can&#39;t be coerced to java.nio.CharBuffer, char[]\r\n    &gt;&gt;&gt; \r\n\r\n\r\n\r\nIf I use the older jython , it works\r\n\r\n    [pzwu@pzwu-1 python]$ java -jar jython-standalone-2.7.2.jar \r\n    Jython 2.7.2 (v2.7.2:925a3cc3b49d, Mar 21 2020, 10:03:58)\r\n    [Java HotSpot(TM) 64-Bit Server VM (Oracle Corporation)] on java1.8.0_351\r\n    Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\r\n\r\n    &gt;&gt;&gt; from java.io import FileReader\r\n    from java.io import FileReader\r\n    &gt;&gt;&gt; import jarray\r\n    import jarray\r\n    &gt;&gt;&gt; reader = FileReader(&#39;./test1.txt&#39;)\r\n    reader = FileReader(&#39;./test1.txt&#39;)\r\n    &gt;&gt;&gt; chars = jarray.zeros(2048, &#39;c&#39;)\r\n    chars = jarray.zeros(2048, &#39;c&#39;)\r\n    &gt;&gt;&gt; num = reader.read(chars)\r\n    num = reader.read(chars)\r\n    &gt;&gt;&gt; print num\r\n    print num\r\n    13\r\n\r\n\r\nNot sure what&#39;s going from 2.7.2 to 2.7.3.   Thanks\r\n\r\n\r\nTried with jdk11, same result..    I guess it is a 2.7.3 bug?\r\n\r\n\r\n\r\n","title":"Jython 2.7.3: Filereader: TypeError: read(): 1st arg can&#39;t be coerced to java.nio.CharBuffer, char[]","body":"<p>I am trying to read from a file: test1.txt\nthe file has only one line:  abcdefghigk</p>\n<pre><code>java -jar jython-standalone-2.7.3.jar\nJython 2.7.3 (tags/v2.7.3:5f29801fe, Sep 10 2022, 18:52:49)\n[Java HotSpot(TM) 64-Bit Server VM (Oracle Corporation)] on java1.8.0_351\nType &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\n\n&gt;&gt;&gt; from java.io import FileReader\nfrom java.io import FileReader\n&gt;&gt;&gt; import jarray\nimport jarray\n&gt;&gt;&gt; reader = FileReader('./test1.txt')\nreader = FileReader('./test1.txt')\n&gt;&gt;&gt; chars = jarray.zeros(2048, 'c')\nchars = jarray.zeros(2048, 'c')\n&gt;&gt;&gt; num = reader.read(chars)\nnum = reader.read(chars)\nTraceback (most recent call last):\n  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;\nTypeError: read(): 1st arg can't be coerced to java.nio.CharBuffer, char[]\n&gt;&gt;&gt; \n</code></pre>\n<p>If I use the older jython , it works</p>\n<pre><code>[pzwu@pzwu-1 python]$ java -jar jython-standalone-2.7.2.jar \nJython 2.7.2 (v2.7.2:925a3cc3b49d, Mar 21 2020, 10:03:58)\n[Java HotSpot(TM) 64-Bit Server VM (Oracle Corporation)] on java1.8.0_351\nType &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\n\n&gt;&gt;&gt; from java.io import FileReader\nfrom java.io import FileReader\n&gt;&gt;&gt; import jarray\nimport jarray\n&gt;&gt;&gt; reader = FileReader('./test1.txt')\nreader = FileReader('./test1.txt')\n&gt;&gt;&gt; chars = jarray.zeros(2048, 'c')\nchars = jarray.zeros(2048, 'c')\n&gt;&gt;&gt; num = reader.read(chars)\nnum = reader.read(chars)\n&gt;&gt;&gt; print num\nprint num\n13\n</code></pre>\n<p>Not sure what's going from 2.7.2 to 2.7.3.   Thanks</p>\n<p>Tried with jdk11, same result..    I guess it is a 2.7.3 bug?</p>\n"},{"tags":["java","maven","jenkins","ignition"],"owner":{"account_id":2614803,"reputation":117,"user_id":2264103,"accept_rate":50,"display_name":"cmwarre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678151676,"creation_date":1678151676,"question_id":75657227,"body_markdown":"I have a project structure like the following:\r\n\r\n    root/pom.xml\r\n    root/build/pom.xml\r\n    root/module1/pom.xml\r\n    ...\r\n\r\nIn the &quot;build&quot; module, there is a maven plugin (https://github.com/inductiveautomation/ignition-maven-plugin) that will publish my compiled module to an Ignition server, and in that pom.xml I can define a &quot;gatewayAddress&quot; property that defaults to localhost. \r\n\r\nI&#39;m developing a CI pipeline in Jenkins and I would like to specify this property to be a development server &quot;test.example.com&quot;. \r\n\r\nI&#39;m trying to add -D arguments to my command line arguments in maven and I can&#39;t seem to get it to work.  How would I go about setting a property like that in maven?\r\n\r\n2nd &quot;bonus&quot; question - how should I override this property for the Jenkins build? Should this be done with command line arguments like I&#39;m attempting or is this what the settings.xml file should be used for? \r\n\r\n","title":"Maven Override Submodule Plugin Properties","body":"<p>I have a project structure like the following:</p>\n<pre><code>root/pom.xml\nroot/build/pom.xml\nroot/module1/pom.xml\n...\n</code></pre>\n<p>In the &quot;build&quot; module, there is a maven plugin (<a href=\"https://github.com/inductiveautomation/ignition-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/inductiveautomation/ignition-maven-plugin</a>) that will publish my compiled module to an Ignition server, and in that pom.xml I can define a &quot;gatewayAddress&quot; property that defaults to localhost.</p>\n<p>I'm developing a CI pipeline in Jenkins and I would like to specify this property to be a development server &quot;test.example.com&quot;.</p>\n<p>I'm trying to add -D arguments to my command line arguments in maven and I can't seem to get it to work.  How would I go about setting a property like that in maven?</p>\n<p>2nd &quot;bonus&quot; question - how should I override this property for the Jenkins build? Should this be done with command line arguments like I'm attempting or is this what the settings.xml file should be used for?</p>\n"},{"tags":["java","arrays","sorting","cpu","benchmarking"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1678134084,"post_id":75654911,"comment_id":133471327,"body_markdown":"This question seems very clearly to be using [inadequate approaches to benchmarking in Java](https://stackoverflow.com/q/504103/869736) which can produce outright lies.","body":"This question seems very clearly to be using <a href=\"https://stackoverflow.com/q/504103/869736\">inadequate approaches to benchmarking in Java</a> which can produce outright lies."}],"answers":[{"comments":[{"owner":{"account_id":27950120,"reputation":27,"user_id":21344198,"display_name":"Ignatyo"},"score":0,"creation_date":1678132512,"post_id":75655092,"comment_id":133470921,"body_markdown":"This is true, if you use `long[]` there will be practically no difference in time.\nBut why does `Long` work differently?\nHow is it stored in memory if the `ArrayList` is a sequence of elements and no matter what elements","body":"This is true, if you use <code>long[]</code> there will be practically no difference in time. But why does <code>Long</code> work differently? How is it stored in memory if the <code>ArrayList</code> is a sequence of elements and no matter what elements"},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1678133093,"post_id":75655092,"comment_id":133471076,"body_markdown":"@Ignatyo yes but the difference is that `long` is a primitive type while a `Long` is an actual heap-allocated object. Putting `ArrayList` aside, a `Long[]` would be an array of object references (with actual data stored in heap-allocated `Long` objects) while a `long[]` directly contains the values","body":"@Ignatyo yes but the difference is that <code>long</code> is a primitive type while a <code>Long</code> is an actual heap-allocated object. Putting <code>ArrayList</code> aside, a <code>Long[]</code> would be an array of object references (with actual data stored in heap-allocated <code>Long</code> objects) while a <code>long[]</code> directly contains the values"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678133482,"post_id":75655092,"comment_id":133471180,"body_markdown":"@Ignatyo i.e., each element in a `long[]` is the `long` value itself, whereas each element in a `Long[]` is a pointer to the `Long` object (somewhere on the heap).","body":"@Ignatyo i.e., each element in a <code>long[]</code> is the <code>long</code> value itself, whereas each element in a <code>Long[]</code> is a pointer to the <code>Long</code> object (somewhere on the heap)."},{"owner":{"account_id":27950120,"reputation":27,"user_id":21344198,"display_name":"Ignatyo"},"score":0,"creation_date":1678133762,"post_id":75655092,"comment_id":133471247,"body_markdown":"@harold I understand it. But why then is there a difference depending on sorted or unsorted array, if references are stored in `ArrayList` anyway. We also access the element located at heap-allocated using a reference. Why is reading time reduced?","body":"@harold I understand it. But why then is there a difference depending on sorted or unsorted array, if references are stored in <code>ArrayList</code> anyway. We also access the element located at heap-allocated using a reference. Why is reading time reduced?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1678134120,"post_id":75655092,"comment_id":133471338,"body_markdown":"@Ignatyo You are creating `Long` objects &quot;in order&quot;. This _likely_ means those objects are in contiguous memory, in the same order as they appear in the array, though there&#39;s no guarantee of that from the JLS or JVMS. Since you iterate over the array from left to right, you are also iterating over the `Long`s in the order they appear in memory (when the array is sorted). In other words, the memory access is also in order. When you shuffle the array, the memory access is now also essentially random.","body":"@Ignatyo You are creating <code>Long</code> objects &quot;in order&quot;. This <i>likely</i> means those objects are in contiguous memory, in the same order as they appear in the array, though there&#39;s no guarantee of that from the JLS or JVMS. Since you iterate over the array from left to right, you are also iterating over the <code>Long</code>s in the order they appear in memory (when the array is sorted). In other words, the memory access is also in order. When you shuffle the array, the memory access is now also essentially random."},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1678134217,"post_id":75655092,"comment_id":133471358,"body_markdown":"@Ignatyo perhaps you&#39;re also interested in the QA [What is locality of reference?](https://stackoverflow.com/q/7638932/555045)","body":"@Ignatyo perhaps you&#39;re also interested in the QA <a href=\"https://stackoverflow.com/q/7638932/555045\">What is locality of reference?</a>"},{"owner":{"account_id":27950120,"reputation":27,"user_id":21344198,"display_name":"Ignatyo"},"score":0,"creation_date":1678135110,"post_id":75655092,"comment_id":133471587,"body_markdown":"@Slaw\nI just don&#39;t understand how changing the order of references in an `ArrayList` (not changing value) affects changes in the storage location of the values ​​of those references.\nAfter all, as far as I understand, we only change the order of references, not elements, right?","body":"@Slaw I just don&#39;t understand how changing the order of references in an <code>ArrayList</code> (not changing value) affects changes in the storage location of the values ​​of those references. After all, as far as I understand, we only change the order of references, not elements, right?"},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1678135605,"post_id":75655092,"comment_id":133471693,"body_markdown":"@Ignatyo shuffling the list affects the order in which the objects will be accessed later, so even though memory still (probably) contains the objects in the old order, the access pattern used by `sum` has become randomized (eg the objects with values 10000000 and 10000001 are probably still close together, but they are not used one after the other anymore)","body":"@Ignatyo shuffling the list affects the order in which the objects will be accessed later, so even though memory still (probably) contains the objects in the old order, the access pattern used by <code>sum</code> has become randomized (eg the objects with values 10000000 and 10000001 are probably still close together, but they are not used one after the other anymore)"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678148207,"post_id":75655092,"comment_id":133474038,"body_markdown":"@Ignatyo Assuming the JVM/GC hasn&#39;t moved anything around, shuffling the array _doesn&#39;t_ change the storage locations (i.e., addresses) of the `Long` objects. It changes the _order which those addresses are accessed_. For example, instead of accessing 0x01, 0x02, 0x03, 0x04 in that order, now you are accessing 0x03, 0x01, 0x04, 0x02 in that shuffled order. But the values at each address are the same. So, after shuffling, instead of accessing the memory in a predictable, one-after-the-other manner, you are accessing the _same memory_ in an essentially random manner.","body":"@Ignatyo Assuming the JVM/GC hasn&#39;t moved anything around, shuffling the array <i>doesn&#39;t</i> change the storage locations (i.e., addresses) of the <code>Long</code> objects. It changes the <i>order which those addresses are accessed</i>. For example, instead of accessing 0x01, 0x02, 0x03, 0x04 in that order, now you are accessing 0x03, 0x01, 0x04, 0x02 in that shuffled order. But the values at each address are the same. So, after shuffling, instead of accessing the memory in a predictable, one-after-the-other manner, you are accessing the <i>same memory</i> in an essentially random manner."},{"owner":{"account_id":27950120,"reputation":27,"user_id":21344198,"display_name":"Ignatyo"},"score":0,"creation_date":1678178588,"post_id":75655092,"comment_id":133478579,"body_markdown":"@Slaw It turns out that the `CPU` will simply look for a place (the place where the `value` of the `Long` type is located) in memory longer, because (speak figuratively) it will take not the next element after the current one (for example, first 0x02, and then 0x07), right?\nCan such a change actually triple the runtime?","body":"@Slaw It turns out that the <code>CPU</code> will simply look for a place (the place where the <code>value</code> of the <code>Long</code> type is located) in memory longer, because (speak figuratively) it will take not the next element after the current one (for example, first 0x02, and then 0x07), right? Can such a change actually triple the runtime?"},{"owner":{"account_id":17476274,"reputation":25137,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1678179050,"post_id":75655092,"comment_id":133478683,"body_markdown":"In your experiment with random values, why did sorted take 160ms while shuffled took only 77ms? Aren&#39;t they both equally randomly accessed? What do you mean with &quot;initializing the list with randomly-ordered values&quot;?","body":"In your experiment with random values, why did sorted take 160ms while shuffled took only 77ms? Aren&#39;t they both equally randomly accessed? What do you mean with &quot;initializing the list with randomly-ordered values&quot;?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678179564,"post_id":75655092,"comment_id":133478844,"body_markdown":"@KellyBundy If I&#39;m not mistaken, they mean they created the values randomly (e.g., via `Random`) instead of &quot;in order&quot; (e.g., `for (long v = 0L; v &lt; ...; v++)`). And that&#39;s demonstrating what matters is the order the `Long` _objects_ are created, rather than the actual _value_ of the `Long`.","body":"@KellyBundy If I&#39;m not mistaken, they mean they created the values randomly (e.g., via <code>Random</code>) instead of &quot;in order&quot; (e.g., <code>for (long v = 0L; v &lt; ...; v++)</code>). And that&#39;s demonstrating what matters is the order the <code>Long</code> <i>objects</i> are created, rather than the actual <i>value</i> of the <code>Long</code>."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678179726,"post_id":75655092,"comment_id":133478891,"body_markdown":"@Ignatyo I don&#39;t know in-depth all the arcane magic that processors get up to in order to speed up execution time, but my best guess is the out-of-order memory access messes with the processor&#39;s ability to pre-fetch the memory correctly, thus causing more calls into RAM (which is much slower compared to CPU caches and registers).","body":"@Ignatyo I don&#39;t know in-depth all the arcane magic that processors get up to in order to speed up execution time, but my best guess is the out-of-order memory access messes with the processor&#39;s ability to pre-fetch the memory correctly, thus causing more calls into RAM (which is much slower compared to CPU caches and registers)."},{"owner":{"account_id":17476274,"reputation":25137,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1678179800,"post_id":75655092,"comment_id":133478914,"body_markdown":"@Slaw But then how do you explain that speed difference? I also [tried that](https://ato.pxeger.com/run?1=XVBBCoMwELznFXtMJIVKoRTBlxQpiSY1YKLEFexbevHS_qnP6A-aRL30tDuzM8PuPt_DA9veLctrQn24fL7a9xbQWGUQjB16j-DVoASSNPHCNaHsk4Q4jO2kdacIEVDCdWUpA917uIFxUXdXND9m2ZlVRAaRuBYV2WxUMlIHbgyRqomI_DlPrCCQ4uZICg6SQx05AAxOaxxdt6SdsLIRBYyTpTPj4CYrlS9zxpJ68MYhxQjWlq2Hb_fvf_gB) in Python now, and as expected, both shuffled and sorted were equally slow (both take ~37 ms, while the original order takes ~7 ms).","body":"@Slaw But then how do you explain that speed difference? I also <a href=\"https://ato.pxeger.com/run?1=XVBBCoMwELznFXtMJIVKoRTBlxQpiSY1YKLEFexbevHS_qnP6A-aRL30tDuzM8PuPt_DA9veLctrQn24fL7a9xbQWGUQjB16j-DVoASSNPHCNaHsk4Q4jO2kdacIEVDCdWUpA917uIFxUXdXND9m2ZlVRAaRuBYV2WxUMlIHbgyRqomI_DlPrCCQ4uZICg6SQx05AAxOaxxdt6SdsLIRBYyTpTPj4CYrlS9zxpJ68MYhxQjWlq2Hb_fvf_gB\" rel=\"nofollow noreferrer\">tried that</a> in Python now, and as expected, both shuffled and sorted were equally slow (both take ~37 ms, while the original order takes ~7 ms)."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678180547,"post_id":75655092,"comment_id":133479107,"body_markdown":"@KellyBundy Good question. It could be the JVM getting in the way of accurate micro-benchmarking. My tests gave 59ms, 663ms, and 455ms. That&#39;s plausible to me, because I expect the JVM to get faster after it &quot;warms up&quot; (plus I&#39;m not doing proper benchmark testing, e.g., with JMH). But I do find it weird that harold&#39;s times show the _last_ duration as the longest.","body":"@KellyBundy Good question. It could be the JVM getting in the way of accurate micro-benchmarking. My tests gave 59ms, 663ms, and 455ms. That&#39;s plausible to me, because I expect the JVM to get faster after it &quot;warms up&quot; (plus I&#39;m not doing proper benchmark testing, e.g., with JMH). But I do find it weird that harold&#39;s times show the <i>last</i> duration as the longest."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678180887,"post_id":75655092,"comment_id":133479210,"body_markdown":"@KellyBundy Ran the tests again and got 103ms, 437ms, and 441ms, which also makes sense. It also shows the problems with running these kind of benchmark tests in Java. They really should be done with something like JMH.","body":"@KellyBundy Ran the tests again and got 103ms, 437ms, and 441ms, which also makes sense. It also shows the problems with running these kind of benchmark tests in Java. They really should be done with something like JMH."},{"owner":{"account_id":17476274,"reputation":25137,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1678189698,"post_id":75655092,"comment_id":133481538,"body_markdown":"@Slaw Yes, if it&#39;s random numbers, then I also suspect highly inaccurate benchmarking. In which case... Can we trust any of those times at all? Does it really demonstrate that creation order is fastest, if its fast time could also just come from the benchmark being inaccurate? I think this issue should be resolved.","body":"@Slaw Yes, if it&#39;s random numbers, then I also suspect highly inaccurate benchmarking. In which case... Can we trust any of those times at all? Does it really demonstrate that creation order is fastest, if its fast time could also just come from the benchmark being inaccurate? I think this issue should be resolved."},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1678199055,"post_id":75655092,"comment_id":133484105,"body_markdown":"@KellyBundy the time difference cannot be purely a benchmarking artifact, that wouldn&#39;t explain a difference so large and in that direction (getting slower). Anyway I used `i * 0x12345678DEADBEEFL` as &quot;random&quot; numbers because I was lazy and that was faster to implement, so you can try with that and see if it replicates (it does for me)","body":"@KellyBundy the time difference cannot be purely a benchmarking artifact, that wouldn&#39;t explain a difference so large and in that direction (getting slower). Anyway I used <code>i * 0x12345678DEADBEEFL</code> as &quot;random&quot; numbers because I was lazy and that was faster to implement, so you can try with that and see if it replicates (it does for me)"},{"owner":{"account_id":17476274,"reputation":25137,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1678204092,"post_id":75655092,"comment_id":133485826,"body_markdown":"Well, I don&#39;t have much experience with benchmarking Java, and I didn&#39;t know about the not exactly random data, so benchmarking artifacts was all I could suspect. I guess the non-randomness can explain it then. If so, then it&#39;s interesting that sorted is slower than shuffled.","body":"Well, I don&#39;t have much experience with benchmarking Java, and I didn&#39;t know about the not exactly random data, so benchmarking artifacts was all I could suspect. I guess the non-randomness can explain it then. If so, then it&#39;s interesting that sorted is slower than shuffled."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678232437,"post_id":75655092,"comment_id":133492840,"body_markdown":"@KellyBundy I ran some tests with JMH (3 forks, default number warmups and measurements, measured average time, and created a new `Long[]` per iteration). Array of random numbers: `46.005 &#177;  0.507  ms/op`; array of shuffled random numbers: `447.524 &#177; 34.462  ms/op`; and array of sorted random numbers: `463.636 &#177; 11.024  ms/op`. So, as you can see, the shuffled and sorted arrays take the same amount of time, and both take longer than the &quot;ordered&quot; array (where the order is the order the `Long` objects were created).","body":"@KellyBundy I ran some tests with JMH (3 forks, default number warmups and measurements, measured average time, and created a new <code>Long[]</code> per iteration). Array of random numbers: <code>46.005 &#177;  0.507  ms&#47;op</code>; array of shuffled random numbers: <code>447.524 &#177; 34.462  ms&#47;op</code>; and array of sorted random numbers: <code>463.636 &#177; 11.024  ms&#47;op</code>. So, as you can see, the shuffled and sorted arrays take the same amount of time, and both take longer than the &quot;ordered&quot; array (where the order is the order the <code>Long</code> objects were created)."},{"owner":{"account_id":17476274,"reputation":25137,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1678240177,"post_id":75655092,"comment_id":133493893,"body_markdown":"@Slaw Thanks. Was that with harold&#39;s `i * 0x12345678DEADBEEFL` or with something more random?","body":"@Slaw Thanks. Was that with harold&#39;s <code>i * 0x12345678DEADBEEFL</code> or with something more random?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678240275,"post_id":75655092,"comment_id":133493906,"body_markdown":"@KellyBundy I used `java.util.Random#nextLong()`.","body":"@KellyBundy I used <code>java.util.Random#nextLong()</code>."}],"tags":[],"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"comment_count":22,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1678131985,"creation_date":1678131284,"answer_id":75655092,"question_id":75654911,"body_markdown":"It&#39;s not about being sorted per-se, it&#39;s about the order in which memory is accessed.\r\n\r\nI will briefly describe a few experiments to confirm that:\r\n\r\n- Try using `long[]` instead of `ArrayList&lt;Long&gt;`. Then there are no individually allocated `Long` objects, just one big array that directly contains the data. That makes the memory access order of `sum` independent of the contents of the array. I did not perform this experiment since it would take a bit more work to write the code.\r\n- Try initializing the list with randomly-ordered values. I tried that (I also made the list a bit shorter to save time) and got this result:\r\n\r\n      duration: 31ms\r\n      -6262510617230624864\r\n      duration: 77ms\r\n      -6262510617230624864\r\n      duration: 160ms\r\n      -6262510617230624864\r\n  ie the fastest order is *the same as the order in which the `Long` objects were created*, independently of their values.\r\n- Recreate the `Long` objects in-order after shuffling, for example:\r\n\r\n        for (int i = 0; i &lt; l.size(); i++)\r\n        \tl.set(i, new Long(l.get(i)));\r\n  \r\n   That makes the `sum` of the shuffled list fast again (subsequently sorting the list un-orders the memory access pattern and makes `sum` slow again).\r\n\r\nThere is actually no guarantee that `Long` objects that are allocated one after the other will be allocated in the same order in memory, but that is a pretty common thing to happen, when a sufficiently large number of them is allocated and not much disturbance happens meanwhile.","title":"Why is summing a sorted array faster than an unsorted one?","body":"<p>It's not about being sorted per-se, it's about the order in which memory is accessed.</p>\n<p>I will briefly describe a few experiments to confirm that:</p>\n<ul>\n<li><p>Try using <code>long[]</code> instead of <code>ArrayList&lt;Long&gt;</code>. Then there are no individually allocated <code>Long</code> objects, just one big array that directly contains the data. That makes the memory access order of <code>sum</code> independent of the contents of the array. I did not perform this experiment since it would take a bit more work to write the code.</p>\n</li>\n<li><p>Try initializing the list with randomly-ordered values. I tried that (I also made the list a bit shorter to save time) and got this result:</p>\n<pre><code>duration: 31ms\n-6262510617230624864\nduration: 77ms\n-6262510617230624864\nduration: 160ms\n-6262510617230624864\n</code></pre>\n<p>ie the fastest order is <em>the same as the order in which the <code>Long</code> objects were created</em>, independently of their values.</p>\n</li>\n<li><p>Recreate the <code>Long</code> objects in-order after shuffling, for example:</p>\n<pre><code>  for (int i = 0; i &lt; l.size(); i++)\n      l.set(i, new Long(l.get(i)));\n</code></pre>\n<p>That makes the <code>sum</code> of the shuffled list fast again (subsequently sorting the list un-orders the memory access pattern and makes <code>sum</code> slow again).</p>\n</li>\n</ul>\n<p>There is actually no guarantee that <code>Long</code> objects that are allocated one after the other will be allocated in the same order in memory, but that is a pretty common thing to happen, when a sufficiently large number of them is allocated and not much disturbance happens meanwhile.</p>\n"}],"owner":{"account_id":27950120,"reputation":27,"user_id":21344198,"display_name":"Ignatyo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":1,"score":1,"last_activity_date":1678151258,"creation_date":1678129970,"question_id":75654911,"body_markdown":"I have an **ArrayList** with numbers from 10 MM to 20 MM\r\n\r\n```\r\n List&lt;Long&gt; l = new ArrayList&lt;&gt;();\r\n        for (long i = 10_000_000; i &lt; 20_000_000; i++) {\r\n            l.add(i);\r\n        }\r\n```\r\n\r\nWhy is the ***sum()*** function faster on a sorted array than on an unsorted?\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Long&gt; l = new ArrayList&lt;&gt;();\r\n        for (long i = 10_000_000; i &lt; 20_000_000; i++) {\r\n            l.add(i);\r\n        }\r\n\r\n        System.out.println(sum(l));\r\n\r\n        Collections.shuffle(l);\r\n        System.out.println(sum(l));\r\n\r\n        Collections.sort(l);\r\n        System.out.println(sum(l));\r\n    }\r\n\r\n    static long sum(List&lt;Long&gt; l) {\r\n        long started = System.nanoTime();\r\n        long result = 0;\r\n        for (long v : l) {\r\n            result += v;\r\n        }\r\n        System.out.println(&quot; duration: &quot; + (System.nanoTime() - started) / 1_000_000 + &quot;ms&quot;);\r\n        return result;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI execute the ***sum()*** function three times\r\n\r\n- First time, on a sorted array\r\n- Second time on unsorted\r\n- And the third time again on sorted\r\n\r\nOn my computer, the execution time was\r\n\r\n 1) 85ms\r\n\r\n 2) 250ms\r\n\r\n 3) 97ms\r\n\r\n\r\n\r\nWhy is the ***sum()*** function faster on a sorted array than on an unsorted?","title":"Why is summing a sorted array faster than an unsorted one?","body":"<p>I have an <strong>ArrayList</strong> with numbers from 10 MM to 20 MM</p>\n<pre><code> List&lt;Long&gt; l = new ArrayList&lt;&gt;();\n        for (long i = 10_000_000; i &lt; 20_000_000; i++) {\n            l.add(i);\n        }\n</code></pre>\n<p>Why is the <em><strong>sum()</strong></em> function faster on a sorted array than on an unsorted?</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        List&lt;Long&gt; l = new ArrayList&lt;&gt;();\n        for (long i = 10_000_000; i &lt; 20_000_000; i++) {\n            l.add(i);\n        }\n\n        System.out.println(sum(l));\n\n        Collections.shuffle(l);\n        System.out.println(sum(l));\n\n        Collections.sort(l);\n        System.out.println(sum(l));\n    }\n\n    static long sum(List&lt;Long&gt; l) {\n        long started = System.nanoTime();\n        long result = 0;\n        for (long v : l) {\n            result += v;\n        }\n        System.out.println(&quot; duration: &quot; + (System.nanoTime() - started) / 1_000_000 + &quot;ms&quot;);\n        return result;\n    }\n\n}\n</code></pre>\n<p>I execute the <em><strong>sum()</strong></em> function three times</p>\n<ul>\n<li>First time, on a sorted array</li>\n<li>Second time on unsorted</li>\n<li>And the third time again on sorted</li>\n</ul>\n<p>On my computer, the execution time was</p>\n<ol>\n<li><p>85ms</p>\n</li>\n<li><p>250ms</p>\n</li>\n<li><p>97ms</p>\n</li>\n</ol>\n<p>Why is the <em><strong>sum()</strong></em> function faster on a sorted array than on an unsorted?</p>\n"},{"tags":["java","google-cloud-firestore","protocol-buffers","grpc"],"answers":[{"comments":[{"owner":{"account_id":25426166,"reputation":337,"user_id":19231322,"display_name":"Arnob"},"score":0,"creation_date":1678472459,"post_id":75657180,"comment_id":133545519,"body_markdown":"can you explain why I am getting this error: `Found conflicting getters for name getDefaultInstanceForType on class root.protos.auth.User` please?","body":"can you explain why I am getting this error: <code>Found conflicting getters for name getDefaultInstanceForType on class root.protos.auth.User</code> please?"}],"tags":[],"owner":{"account_id":25649504,"reputation":144,"user_id":19417003,"display_name":"Larry Safran"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678150848,"creation_date":1678150848,"answer_id":75657180,"question_id":75642967,"body_markdown":"It looks like you are running into classloader hell.  \r\n\r\nThe field `maxInboundMessageSize` was local to the class `NettyChannelBuilder`, but as of 1.51.x that field was moved to the parent class `AbstractManagedChannelImplBuilder`.  Probably the version of firestore you are using is pulling in a newer version of gRPC and one version is creating the object while the other version is being used for the class method logic.\r\n\r\nI would recommend upgrading your gRPC version to 1.53.0.","title":"maxInboundMessageSize when trying to save a protobuf object to firestore","body":"<p>It looks like you are running into classloader hell.</p>\n<p>The field <code>maxInboundMessageSize</code> was local to the class <code>NettyChannelBuilder</code>, but as of 1.51.x that field was moved to the parent class <code>AbstractManagedChannelImplBuilder</code>.  Probably the version of firestore you are using is pulling in a newer version of gRPC and one version is creating the object while the other version is being used for the class method logic.</p>\n<p>I would recommend upgrading your gRPC version to 1.53.0.</p>\n"}],"owner":{"account_id":25426166,"reputation":337,"user_id":19231322,"display_name":"Arnob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75657180,"answer_count":1,"score":0,"last_activity_date":1678150848,"creation_date":1678026961,"question_id":75642967,"body_markdown":"I am using gRPC protobuf for my project and in the auth sub-module I have this piece of code:\r\n\r\n\r\n```\r\n    @Override\r\n    public void signUp(SignUpRequest request, StreamObserver&lt;SignUpResponse&gt; response) {\r\n        String email = request.getEmail();\r\n        String password = request.getPassword();\r\n        User user;\r\n        long now = Instant.now().toEpochMilli();\r\n\r\n        CreateRequest createRequest = new CreateRequest()\r\n                .setEmail(request.getEmail())\r\n                .setPassword(request.getPassword())\r\n                .setEmailVerified(true);\r\n        UserRecord userRecord;\r\n        try {\r\n            userRecord = FirebaseAuth.getInstance().createUserAsync(createRequest).get();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n            response.onError(Status.INTERNAL.withDescription(&quot;User creation interrupted&quot;).asRuntimeException());\r\n            return;\r\n        } catch (ExecutionException e) {\r\n            e.printStackTrace();\r\n            response.onError(Status.INVALID_ARGUMENT.withDescription(&quot;Invalid email or password&quot;).asRuntimeException());\r\n            return;\r\n        }\r\n\r\n\r\n        user = User.newBuilder()\r\n                .setEmail(request.getEmail())\r\n                .setCreatedAt(now)\r\n                .setUpdatedAt(now)\r\n                .build();\r\n        log.info(&quot;user record&quot;+userRecord.toString());\r\n\r\n\r\n        try {\r\n            String jsonString = JsonFormat.printer().print(user);\r\n            Firestore db = FirestoreClient.getFirestore();\r\n            DocumentReference userRef = db.collection(&quot;users&quot;).document();\r\n            userRef.set(jsonString);\r\n        } catch (InvalidProtocolBufferException e) {\r\n            e.printStackTrace();\r\n        }\r\n        log.info(user.toString());\r\n\r\n\r\n        SignUpResponse signUpResponse = SignUpResponse.newBuilder()\r\n                .setUser(user)\r\n                .setResponseTime(now)\r\n                .setResponseStatus(200)\r\n                .build();\r\n\r\n        response.onNext(signUpResponse);\r\n        response.onCompleted();\r\n    }\r\n```\r\n\r\nAs you can see I am using firebase to authenticate and trying to save the user in users collection in firestore. But I&#39;m getting this error:\r\n\r\n\r\n```\r\nException in thread &quot;pool-2-thread-2&quot; java.lang.NoSuchFieldError: maxInboundMessageSize\r\n\tat io.grpc.netty.shaded.io.grpc.netty.NettyChannelBuilder.maxInboundMessageSize(NettyChannelBuilder.java:531)\r\n\tat io.grpc.netty.shaded.io.grpc.netty.NettyChannelBuilder.maxInboundMessageSize(NettyChannelBuilder.java:72)\r\n\tat com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.createSingleChannel(InstantiatingGrpcChannelProvider.java:370)\r\n\tat com.google.api.gax.grpc.ChannelPool.&lt;init&gt;(ChannelPool.java:105)\r\n\tat com.google.api.gax.grpc.ChannelPool.create(ChannelPool.java:83)\r\n\tat com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.createChannel(InstantiatingGrpcChannelProvider.java:236)\r\n\tat com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.getTransportChannel(InstantiatingGrpcChannelProvider.java:230)\r\n\tat com.google.api.gax.rpc.ClientContext.create(ClientContext.java:201)\r\n\tat com.google.api.gax.rpc.ClientContext.create(ClientContext.java:132)\r\n\tat com.google.cloud.firestore.spi.v1.GrpcFirestoreRpc.&lt;init&gt;(GrpcFirestoreRpc.java:127)\r\n\tat com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreRpcFactory.create(FirestoreOptions.java:88)\r\n\tat com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreRpcFactory.create(FirestoreOptions.java:80)\r\n\tat com.google.cloud.ServiceOptions.getRpc(ServiceOptions.java:560)\r\n\tat com.google.cloud.firestore.FirestoreOptions.getFirestoreRpc(FirestoreOptions.java:358)\r\n\tat com.google.cloud.firestore.FirestoreImpl.&lt;init&gt;(FirestoreImpl.java:79)\r\n\tat com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreFactory.create(FirestoreOptions.java:71)\r\n\tat com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreFactory.create(FirestoreOptions.java:64)\r\n\tat com.google.cloud.ServiceOptions.getService(ServiceOptions.java:540)\r\n\tat com.google.firebase.cloud.FirestoreClient.&lt;init&gt;(FirestoreClient.java:55)\r\n\tat com.google.firebase.cloud.FirestoreClient.&lt;init&gt;(FirestoreClient.java:32)\r\n\tat com.google.firebase.cloud.FirestoreClient$FirestoreInstances.lambda$get$0(FirestoreClient.java:150)\r\n\tat java.base/java.util.HashMap.computeIfAbsent(HashMap.java:1220)\r\n\tat java.base/java.util.Collections$SynchronizedMap.computeIfAbsent(Collections.java:2760)\r\n\tat com.google.firebase.cloud.FirestoreClient$FirestoreInstances.get(FirestoreClient.java:150)\r\n\tat com.google.firebase.cloud.FirestoreClient.getInstance(FirestoreClient.java:121)\r\n\tat com.google.firebase.cloud.FirestoreClient.getFirestore(FirestoreClient.java:98)\r\n\tat com.google.firebase.cloud.FirestoreClient.getFirestore(FirestoreClient.java:83)\r\n\tat com.google.firebase.cloud.FirestoreClient.getFirestore(FirestoreClient.java:68)\r\n\tat server.AuthServiceImpl.signUp(AuthServiceImpl.java:83)\r\n\tat root.protos.auth.AuthServiceGrpc$MethodHandlers.invoke(AuthServiceGrpc.java:277)\r\n\tat io.grpc.stub.ServerCalls$UnaryServerCallHandler$UnaryServerCallListener.onHalfClose(ServerCalls.java:182)\r\n\tat io.grpc.PartialForwardingServerCallListener.onHalfClose(PartialForwardingServerCallListener.java:35)\r\n\tat io.grpc.ForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:23)\r\n\tat io.grpc.ForwardingServerCallListener$SimpleForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:40)\r\n\tat io.grpc.util.TransmitStatusRuntimeExceptionInterceptor$1.onHalfClose(TransmitStatusRuntimeExceptionInterceptor.java:74)\r\n\tat io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(ServerCallImpl.java:335)\r\n\tat io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(ServerImpl.java:866)\r\n\tat io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\r\n\tat io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\r\n```\r\n\r\nIn the parent pom I have:\r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;grpc-netty&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${grpc.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${grpc.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${grpc.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;protobuf-java-util&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${protobuf-java.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${protobuf-java.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nwhere `&lt;grpc.version&gt;1.41.0&lt;/grpc.version&gt;` and\r\n\t\t`&lt;protobuf-java.version&gt;3.19.0&lt;/protobuf-java.version&gt;`\r\n\r\n\r\nNow I am not sure about the issue. Is it because firestore doesn&#39;t support proto objects or something else? And what can I do to solve the issue?","title":"maxInboundMessageSize when trying to save a protobuf object to firestore","body":"<p>I am using gRPC protobuf for my project and in the auth sub-module I have this piece of code:</p>\n<pre><code>    @Override\n    public void signUp(SignUpRequest request, StreamObserver&lt;SignUpResponse&gt; response) {\n        String email = request.getEmail();\n        String password = request.getPassword();\n        User user;\n        long now = Instant.now().toEpochMilli();\n\n        CreateRequest createRequest = new CreateRequest()\n                .setEmail(request.getEmail())\n                .setPassword(request.getPassword())\n                .setEmailVerified(true);\n        UserRecord userRecord;\n        try {\n            userRecord = FirebaseAuth.getInstance().createUserAsync(createRequest).get();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n            response.onError(Status.INTERNAL.withDescription(&quot;User creation interrupted&quot;).asRuntimeException());\n            return;\n        } catch (ExecutionException e) {\n            e.printStackTrace();\n            response.onError(Status.INVALID_ARGUMENT.withDescription(&quot;Invalid email or password&quot;).asRuntimeException());\n            return;\n        }\n\n\n        user = User.newBuilder()\n                .setEmail(request.getEmail())\n                .setCreatedAt(now)\n                .setUpdatedAt(now)\n                .build();\n        log.info(&quot;user record&quot;+userRecord.toString());\n\n\n        try {\n            String jsonString = JsonFormat.printer().print(user);\n            Firestore db = FirestoreClient.getFirestore();\n            DocumentReference userRef = db.collection(&quot;users&quot;).document();\n            userRef.set(jsonString);\n        } catch (InvalidProtocolBufferException e) {\n            e.printStackTrace();\n        }\n        log.info(user.toString());\n\n\n        SignUpResponse signUpResponse = SignUpResponse.newBuilder()\n                .setUser(user)\n                .setResponseTime(now)\n                .setResponseStatus(200)\n                .build();\n\n        response.onNext(signUpResponse);\n        response.onCompleted();\n    }\n</code></pre>\n<p>As you can see I am using firebase to authenticate and trying to save the user in users collection in firestore. But I'm getting this error:</p>\n<pre><code>Exception in thread &quot;pool-2-thread-2&quot; java.lang.NoSuchFieldError: maxInboundMessageSize\n    at io.grpc.netty.shaded.io.grpc.netty.NettyChannelBuilder.maxInboundMessageSize(NettyChannelBuilder.java:531)\n    at io.grpc.netty.shaded.io.grpc.netty.NettyChannelBuilder.maxInboundMessageSize(NettyChannelBuilder.java:72)\n    at com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.createSingleChannel(InstantiatingGrpcChannelProvider.java:370)\n    at com.google.api.gax.grpc.ChannelPool.&lt;init&gt;(ChannelPool.java:105)\n    at com.google.api.gax.grpc.ChannelPool.create(ChannelPool.java:83)\n    at com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.createChannel(InstantiatingGrpcChannelProvider.java:236)\n    at com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.getTransportChannel(InstantiatingGrpcChannelProvider.java:230)\n    at com.google.api.gax.rpc.ClientContext.create(ClientContext.java:201)\n    at com.google.api.gax.rpc.ClientContext.create(ClientContext.java:132)\n    at com.google.cloud.firestore.spi.v1.GrpcFirestoreRpc.&lt;init&gt;(GrpcFirestoreRpc.java:127)\n    at com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreRpcFactory.create(FirestoreOptions.java:88)\n    at com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreRpcFactory.create(FirestoreOptions.java:80)\n    at com.google.cloud.ServiceOptions.getRpc(ServiceOptions.java:560)\n    at com.google.cloud.firestore.FirestoreOptions.getFirestoreRpc(FirestoreOptions.java:358)\n    at com.google.cloud.firestore.FirestoreImpl.&lt;init&gt;(FirestoreImpl.java:79)\n    at com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreFactory.create(FirestoreOptions.java:71)\n    at com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreFactory.create(FirestoreOptions.java:64)\n    at com.google.cloud.ServiceOptions.getService(ServiceOptions.java:540)\n    at com.google.firebase.cloud.FirestoreClient.&lt;init&gt;(FirestoreClient.java:55)\n    at com.google.firebase.cloud.FirestoreClient.&lt;init&gt;(FirestoreClient.java:32)\n    at com.google.firebase.cloud.FirestoreClient$FirestoreInstances.lambda$get$0(FirestoreClient.java:150)\n    at java.base/java.util.HashMap.computeIfAbsent(HashMap.java:1220)\n    at java.base/java.util.Collections$SynchronizedMap.computeIfAbsent(Collections.java:2760)\n    at com.google.firebase.cloud.FirestoreClient$FirestoreInstances.get(FirestoreClient.java:150)\n    at com.google.firebase.cloud.FirestoreClient.getInstance(FirestoreClient.java:121)\n    at com.google.firebase.cloud.FirestoreClient.getFirestore(FirestoreClient.java:98)\n    at com.google.firebase.cloud.FirestoreClient.getFirestore(FirestoreClient.java:83)\n    at com.google.firebase.cloud.FirestoreClient.getFirestore(FirestoreClient.java:68)\n    at server.AuthServiceImpl.signUp(AuthServiceImpl.java:83)\n    at root.protos.auth.AuthServiceGrpc$MethodHandlers.invoke(AuthServiceGrpc.java:277)\n    at io.grpc.stub.ServerCalls$UnaryServerCallHandler$UnaryServerCallListener.onHalfClose(ServerCalls.java:182)\n    at io.grpc.PartialForwardingServerCallListener.onHalfClose(PartialForwardingServerCallListener.java:35)\n    at io.grpc.ForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:23)\n    at io.grpc.ForwardingServerCallListener$SimpleForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:40)\n    at io.grpc.util.TransmitStatusRuntimeExceptionInterceptor$1.onHalfClose(TransmitStatusRuntimeExceptionInterceptor.java:74)\n    at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(ServerCallImpl.java:335)\n    at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(ServerImpl.java:866)\n    at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\n    at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\n</code></pre>\n<p>In the parent pom I have:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-netty&lt;/artifactId&gt;\n            &lt;version&gt;${grpc.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\n            &lt;version&gt;${grpc.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\n            &lt;version&gt;${grpc.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-java-util&lt;/artifactId&gt;\n            &lt;version&gt;${protobuf-java.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\n            &lt;version&gt;${protobuf-java.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>where <code>&lt;grpc.version&gt;1.41.0&lt;/grpc.version&gt;</code> and\n<code>&lt;protobuf-java.version&gt;3.19.0&lt;/protobuf-java.version&gt;</code></p>\n<p>Now I am not sure about the issue. Is it because firestore doesn't support proto objects or something else? And what can I do to solve the issue?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1678079811,"post_id":75647244,"comment_id":133457201,"body_markdown":"You can rewrite the entire stream API and include the `&lt;T&gt; void foo() throws T` trick, but that&#39;s.. rather hacky and not a good idea. You can make your own `UncheckedDatabaseException` and throw that (`try { return x.next(); } catch (DatabaseException e) { throw new UncheckedDatabaseException(e); }`). But, really, lambdas / stream API is not at all a good fit here. &quot;I want to convert this to a stream since this also behaves like a lazy operation&quot; - no you don&#39;t. Streams have about 20 properties. This concept shares &#39;lazy&#39; as one, and misses on the other 19.","body":"You can rewrite the entire stream API and include the <code>&lt;T&gt; void foo() throws T</code> trick, but that&#39;s.. rather hacky and not a good idea. You can make your own <code>UncheckedDatabaseException</code> and throw that (<code>try { return x.next(); } catch (DatabaseException e) { throw new UncheckedDatabaseException(e); }</code>). But, really, lambdas / stream API is not at all a good fit here. &quot;I want to convert this to a stream since this also behaves like a lazy operation&quot; - no you don&#39;t. Streams have about 20 properties. This concept shares &#39;lazy&#39; as one, and misses on the other 19."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1678106281,"post_id":75647670,"comment_id":133463239,"body_markdown":"Regardless of whether you have a way to support more efficient splitting, you need only half the code by implementing `Spliterator` directly, as you only have to implement *one* method with a logic straight-forwardly matching the logic of `myClass.next()`. It’s also more efficient than converting the single-method logic to the `hasNext()/next()` logic, just to have it converted back to single-method logic in `spliteratorUnknownSize`.","body":"Regardless of whether you have a way to support more efficient splitting, you need only half the code by implementing <code>Spliterator</code> directly, as you only have to implement <i>one</i> method with a logic straight-forwardly matching the logic of <code>myClass.next()</code>. It’s also more efficient than converting the single-method logic to the <code>hasNext()&#47;next()</code> logic, just to have it converted back to single-method logic in <code>spliteratorUnknownSize</code>."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678129181,"post_id":75647670,"comment_id":133470114,"body_markdown":"Yes, but I was not really considering the number of methods you have to implement. I&#39;m of the opinion that `Iterator` is simply easier to understand conceptually, even if the implementation gets split up between two methods. It has only one basic concern.","body":"Yes, but I was not really considering the number of methods you have to implement. I&#39;m of the opinion that <code>Iterator</code> is simply easier to understand conceptually, even if the implementation gets split up between two methods. It has only one basic concern."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1678348238,"post_id":75647670,"comment_id":133515636,"body_markdown":"I disagree. The very method you are wrapping, follows the principle of having one method providing the next value or telling that there is none. That’s a very natural concept, see `BufferedReader.readLine()`, for example. Splitting the logic into two methods only feels natural, because you are used to it. Because that’s how the much older `Iterator` interface works.","body":"I disagree. The very method you are wrapping, follows the principle of having one method providing the next value or telling that there is none. That’s a very natural concept, see <code>BufferedReader.readLine()</code>, for example. Splitting the logic into two methods only feels natural, because you are used to it. Because that’s how the much older <code>Iterator</code> interface works."}],"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678150816,"creation_date":1678084099,"answer_id":75647670,"question_id":75647244,"body_markdown":"First, note the types in `java.util.function` and `java.util.stream` do not support throwing _checked_ exceptions. If you really want to stream your rows, then somewhere you&#39;re going to have to catch the checked exception, wrap it in an _unchecked exception_, and then throw said unchecked exception. In the attempt you show in your question, you would do that inside the `Supplier` implementation.\r\n\r\nThat said, the `generate` method creates an _infinite_ stream. I doubt you have an infinite number of rows to return. The next method to consider is `iterate` (the finite overload), but the arguments it takes don&#39;t lend themselves to what you&#39;re trying to do. At least not directly.\r\n\r\nProbably the most correct solution is to first create a [`Spliterator`][1] implementation to iterate the rows. Then use [`StreamSupport`][2] to create a `Stream`.\r\n\r\nFor example:\r\n\r\n```lang-java\r\nimport java.util.Objects;\r\nimport java.util.Spliterators.AbstractSpliterator;\r\nimport java.util.function.Consumer;\r\nimport java.util.stream.Stream;\r\nimport java.util.stream.StreamSupport;\r\n\r\npublic class MyClassSpliterator extends AbstractSpliterator&lt;Row&gt; {\r\n\r\n    public static Stream&lt;Row&gt; streamRows(MyClass myClass) {\r\n        return StreamSupport.stream(new MyClassSpliterator(myClass), false);\r\n    }\r\n\r\n    private final MyClass myClass;\r\n\r\n    public MyClassSpliterator(MyClass myClass) {\r\n        // Assumes an unknown number of rows. Also, assumes NONNULL\r\n        // characteristic due to the assumption that a null value\r\n        // means there&#39;s no more rows to process. Add or change\r\n        // characteristics as appropriate.\r\n        super(Long.MAX_VALUE, NONNULL);\r\n        this.myClass = Objects.requireNonNull(myClass);\r\n    }\r\n    \r\n    @Override\r\n    public boolean tryAdvance(Consumer&lt;? super Row&gt; action) {\r\n        try {\r\n            // Assumes MyClass#next() will return null when there&#39;s no\r\n            // more rows to process.\r\n            Row next = myClass.next();\r\n            if (next != null) {\r\n                action.accept(next);\r\n                return true;\r\n            }\r\n            return false;\r\n        } catch (DatabaseException ex) {\r\n            // Should probably create and use a custom unchecked exception\r\n            throw new RuntimeException(ex);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhere you place the `Spliterator` implementation and the `streamRows` method are obviously up to you.\r\n\r\nNote the above extends [`AbstractSpliterator`][3]. That class makes it easier to create `Spliterator` implementations. By default, it supports limited and relatively naive parallelism. It basically just buffers a bunch of elements so they can be split up. If you have a better splitting solution, or just don&#39;t want to support any splitting, then override the `trySplit()` method.\r\n\r\nAnd note if you already have an `Iterator` implementation for your `MyClass`, then it may be more appropriate to use one of the methods in [`Spliterators`][4] to create the `Spliterator`.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Spliterator.html\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/StreamSupport.html\r\n  [3]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Spliterators.AbstractSpliterator.html\r\n  [4]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Spliterators.html\r\n  [5]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Stream.html#takeWhile(java.util.function.Predicate)","title":"Creating a custom stream from a class object that has a method that fetches values one by one","body":"<p>First, note the types in <code>java.util.function</code> and <code>java.util.stream</code> do not support throwing <em>checked</em> exceptions. If you really want to stream your rows, then somewhere you're going to have to catch the checked exception, wrap it in an <em>unchecked exception</em>, and then throw said unchecked exception. In the attempt you show in your question, you would do that inside the <code>Supplier</code> implementation.</p>\n<p>That said, the <code>generate</code> method creates an <em>infinite</em> stream. I doubt you have an infinite number of rows to return. The next method to consider is <code>iterate</code> (the finite overload), but the arguments it takes don't lend themselves to what you're trying to do. At least not directly.</p>\n<p>Probably the most correct solution is to first create a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Spliterator.html\" rel=\"nofollow noreferrer\"><code>Spliterator</code></a> implementation to iterate the rows. Then use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/StreamSupport.html\" rel=\"nofollow noreferrer\"><code>StreamSupport</code></a> to create a <code>Stream</code>.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Objects;\nimport java.util.Spliterators.AbstractSpliterator;\nimport java.util.function.Consumer;\nimport java.util.stream.Stream;\nimport java.util.stream.StreamSupport;\n\npublic class MyClassSpliterator extends AbstractSpliterator&lt;Row&gt; {\n\n    public static Stream&lt;Row&gt; streamRows(MyClass myClass) {\n        return StreamSupport.stream(new MyClassSpliterator(myClass), false);\n    }\n\n    private final MyClass myClass;\n\n    public MyClassSpliterator(MyClass myClass) {\n        // Assumes an unknown number of rows. Also, assumes NONNULL\n        // characteristic due to the assumption that a null value\n        // means there's no more rows to process. Add or change\n        // characteristics as appropriate.\n        super(Long.MAX_VALUE, NONNULL);\n        this.myClass = Objects.requireNonNull(myClass);\n    }\n    \n    @Override\n    public boolean tryAdvance(Consumer&lt;? super Row&gt; action) {\n        try {\n            // Assumes MyClass#next() will return null when there's no\n            // more rows to process.\n            Row next = myClass.next();\n            if (next != null) {\n                action.accept(next);\n                return true;\n            }\n            return false;\n        } catch (DatabaseException ex) {\n            // Should probably create and use a custom unchecked exception\n            throw new RuntimeException(ex);\n        }\n    }\n}\n</code></pre>\n<p>Where you place the <code>Spliterator</code> implementation and the <code>streamRows</code> method are obviously up to you.</p>\n<p>Note the above extends <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Spliterators.AbstractSpliterator.html\" rel=\"nofollow noreferrer\"><code>AbstractSpliterator</code></a>. That class makes it easier to create <code>Spliterator</code> implementations. By default, it supports limited and relatively naive parallelism. It basically just buffers a bunch of elements so they can be split up. If you have a better splitting solution, or just don't want to support any splitting, then override the <code>trySplit()</code> method.</p>\n<p>And note if you already have an <code>Iterator</code> implementation for your <code>MyClass</code>, then it may be more appropriate to use one of the methods in <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Spliterators.html\" rel=\"nofollow noreferrer\"><code>Spliterators</code></a> to create the <code>Spliterator</code>.</p>\n"}],"owner":{"account_id":14929922,"reputation":21,"user_id":21339766,"display_name":"bigi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678150816,"creation_date":1678079482,"question_id":75647244,"body_markdown":"I have a class object that&#39;s like a database cursor, it has a `next()` method that reads the next table row.\r\n\r\n```\r\nclass MyClass{\r\n   Row next() throws DatabaseException {\r\n   ...\r\n   }\r\n}\r\n```\r\n\r\nI want to convert this to a stream since this also behaves like a lazy operation.\r\n\r\nI tried using Supplier which is accepted by `Stream.generate()`. `Supplier` has a method `get()` which has to be overridden for custom implementations.\r\n\r\n\r\n```\r\n\r\nStream&lt;Row&gt; stream = Stream.generate (new Supplier &lt;Row&gt;() { \r\n   @Override public Row get() { \r\n      // custom implementation\r\n      ...\r\n   }\r\n});\r\n\r\n```\r\n\r\nThe only problem using this is that MyClass.next() throws an exception while Supplier.get() doesnt allow exceptions. Is there any other way to create a custom stream for such class?","title":"Creating a custom stream from a class object that has a method that fetches values one by one","body":"<p>I have a class object that's like a database cursor, it has a <code>next()</code> method that reads the next table row.</p>\n<pre><code>class MyClass{\n   Row next() throws DatabaseException {\n   ...\n   }\n}\n</code></pre>\n<p>I want to convert this to a stream since this also behaves like a lazy operation.</p>\n<p>I tried using Supplier which is accepted by <code>Stream.generate()</code>. <code>Supplier</code> has a method <code>get()</code> which has to be overridden for custom implementations.</p>\n<pre><code>\nStream&lt;Row&gt; stream = Stream.generate (new Supplier &lt;Row&gt;() { \n   @Override public Row get() { \n      // custom implementation\n      ...\n   }\n});\n\n</code></pre>\n<p>The only problem using this is that MyClass.next() throws an exception while Supplier.get() doesnt allow exceptions. Is there any other way to create a custom stream for such class?</p>\n"},{"tags":["java","hibernate","hibernate-6.x"],"comments":[{"owner":{"account_id":2254560,"reputation":199,"user_id":1986022,"accept_rate":50,"display_name":"jluiz20"},"score":0,"creation_date":1678162427,"post_id":75657167,"comment_id":133475677,"body_markdown":"Found [the commit](https://github.com/hibernate/hibernate-orm/commit/61772103958cc8aacad80064edaf1bde92a59acf) that was removed, the comment is the best: &quot;this stuff is so old and so bad that it&#39;s not even worth deprecating&quot;","body":"Found <a href=\"https://github.com/hibernate/hibernate-orm/commit/61772103958cc8aacad80064edaf1bde92a59acf\" rel=\"nofollow noreferrer\">the commit</a> that was removed, the comment is the best: &quot;this stuff is so old and so bad that it&#39;s not even worth deprecating&quot;"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1678694371,"post_id":75657167,"comment_id":133576172,"body_markdown":"Why not create a second session then to connect to the other datasource?","body":"Why not create a second session then to connect to the other datasource?"}],"owner":{"account_id":2254560,"reputation":199,"user_id":1986022,"accept_rate":50,"display_name":"jluiz20"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678150718,"creation_date":1678150718,"question_id":75657167,"body_markdown":"In hibernate 5, we have `session.disconnect()` where we could disconnect the session from its underlying JDBC connection, for example:\r\n\r\n```\r\nimport org.hibernate.Session;\r\nimport javax.persistence.EntityManager;\r\n\r\n----\r\n\r\ntry (Session session = entityManager.unwrap(Session.class)) {\r\n    session.disconnect();\r\n}\r\n```\r\n\r\nI could not find it on the [Session on Hibernate 6](https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/Session.html). Anyone knows another way to disconnect from the current session?\r\n\r\nPS: I was using `disconnect()` in Hibernate 5 when I had two data sources and I needed to switch between them.\r\n\r\n\r\n","title":"Do we have a replacement for session.disconnect() on Hibernate 6?","body":"<p>In hibernate 5, we have <code>session.disconnect()</code> where we could disconnect the session from its underlying JDBC connection, for example:</p>\n<pre><code>import org.hibernate.Session;\nimport javax.persistence.EntityManager;\n\n----\n\ntry (Session session = entityManager.unwrap(Session.class)) {\n    session.disconnect();\n}\n</code></pre>\n<p>I could not find it on the <a href=\"https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/Session.html\" rel=\"nofollow noreferrer\">Session on Hibernate 6</a>. Anyone knows another way to disconnect from the current session?</p>\n<p>PS: I was using <code>disconnect()</code> in Hibernate 5 when I had two data sources and I needed to switch between them.</p>\n"},{"tags":["java","flutter","android-studio","gradle"],"answers":[{"comments":[{"owner":{"account_id":3268032,"reputation":62,"user_id":2752107,"display_name":"Flat Screen"},"score":0,"creation_date":1681022381,"post_id":74808735,"comment_id":133990400,"body_markdown":"This worked for me. But first check the java --version","body":"This worked for me. But first check the java --version"}],"tags":[],"owner":{"account_id":7832532,"reputation":1060,"user_id":5921933,"accept_rate":38,"display_name":"Huy Nguyen"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671093077,"creation_date":1671093077,"answer_id":74808735,"question_id":74443767,"body_markdown":"Please check gradle compatibility from here https://docs.gradle.org/current/userguide/compatibility.html and use the compatible version. \r\n\r\nI&#39;m using java `19.0.1`. Updating Gradle version as below can solve the issue:\r\n\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.5.1-bin.zip\r\n```\r\n\r\nCleaning gradle before retrying is also helpful:\r\n\r\n```\r\ngradle clean \r\n```","title":"exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39;","body":"<p>Please check gradle compatibility from here <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/compatibility.html</a> and use the compatible version.</p>\n<p>I'm using java <code>19.0.1</code>. Updating Gradle version as below can solve the issue:</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5.1-bin.zip\n</code></pre>\n<p>Cleaning gradle before retrying is also helpful:</p>\n<pre><code>gradle clean \n</code></pre>\n"},{"tags":[],"owner":{"account_id":234646,"reputation":1628,"user_id":500936,"accept_rate":23,"display_name":"Jean-Pierre Schnyder"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1677349485,"creation_date":1677349485,"answer_id":75567523,"question_id":74443767,"body_markdown":"This is my solution:\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.6-all.zip\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QfVjm.jpg","title":"exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39;","body":"<p>This is my solution:</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.6-all.zip\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/QfVjm.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QfVjm.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":21352289,"reputation":458,"user_id":15721679,"display_name":"Abdeldjalil Chougui"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678148444,"creation_date":1678121540,"answer_id":75653626,"question_id":74443767,"body_markdown":"I had the same bug, and I found that the bug is caused by non compatibility of gradle user.\r\n\r\nAnd the following works for me :\r\n\r\n- Check the compatibility [here][1].\r\n- Then go to the files `gradle/wrapper/gradle-wrapper.properties` and `android/gradle/wrapper/gradle-wrapper.properties` \r\n- Set the attribute `distributionUrl` with the compatible version of gradle\r\n\r\nRun the project and now you are okay\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/compatibility.html","title":"exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39;","body":"<p>I had the same bug, and I found that the bug is caused by non compatibility of gradle user.</p>\n<p>And the following works for me :</p>\n<ul>\n<li>Check the compatibility <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">here</a>.</li>\n<li>Then go to the files <code>gradle/wrapper/gradle-wrapper.properties</code> and <code>android/gradle/wrapper/gradle-wrapper.properties</code></li>\n<li>Set the attribute <code>distributionUrl</code> with the compatible version of gradle</li>\n</ul>\n<p>Run the project and now you are okay</p>\n"}],"owner":{"account_id":14866314,"reputation":75,"user_id":10735311,"display_name":"Aditya Sutar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10166,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1678148444,"creation_date":1668506695,"question_id":74443767,"body_markdown":"A problem occurred evaluating root project &#39;android&#39;.\r\n&gt; A problem occurred configuring project &#39;:app&#39;.\r\n   &gt; Could not open project generic class cache for build file &#39;C:\\Users\\InFED Laptop\\Documents\\GitHub\\sustain-and-save\\android\\app\\build.gradle&#39; (C:\\Users\\InFED Laptop\\.gradle\\caches\\7.5.1\\scripts\\cgusqz2rdd56uogb1dahk58km).\r\n      &gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 63","title":"exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39;","body":"<p>A problem occurred evaluating root project 'android'.</p>\n<blockquote>\n<p>A problem occurred configuring project ':app'.\nCould not open project generic class cache for build file 'C:\\Users\\InFED Laptop\\Documents\\GitHub\\sustain-and-save\\android\\app\\build.gradle' (C:\\Users\\InFED Laptop.gradle\\caches\\7.5.1\\scripts\\cgusqz2rdd56uogb1dahk58km).\n&gt; BUG! exception in phase 'semantic analysis' in source unit '<em>BuildScript</em>' Unsupported class file major version 63</p>\n</blockquote>\n"},{"tags":["java","android","memory-leaks","hprof"],"answers":[{"comments":[{"owner":{"account_id":3492124,"reputation":1637,"user_id":2921519,"display_name":"Maurice Lam"},"score":0,"creation_date":1678148360,"post_id":75656983,"comment_id":133474062,"body_markdown":"The readme for that project also mentions https://github.com/AdoptOpenJDK/jheappo, which looks like it has more flexibility for querying over command line.","body":"The readme for that project also mentions <a href=\"https://github.com/AdoptOpenJDK/jheappo\" rel=\"nofollow noreferrer\">github.com/AdoptOpenJDK/jheappo</a>, which looks like it has more flexibility for querying over command line."},{"owner":{"account_id":8677048,"reputation":447,"user_id":6494163,"display_name":"T code"},"score":0,"creation_date":1678212053,"post_id":75656983,"comment_id":133488317,"body_markdown":"Does this allow you to estime the amount of unused allocated memory in your container? When you connect a debugger to an ArrayList for example, even if the ArrayList doubled its capacity for further add(), if you check the size() method, it&#39;s always exactly the number of initialised elements in it, so you won&#39;t be able to see how much extra spaces the container has reserved in terms of memory. My ultimate goal is that, to try to see how much the container takes extra space in memory just to optimize for future add() calls by reserving slots that are still not used. Thanks for your help.","body":"Does this allow you to estime the amount of unused allocated memory in your container? When you connect a debugger to an ArrayList for example, even if the ArrayList doubled its capacity for further add(), if you check the size() method, it&#39;s always exactly the number of initialised elements in it, so you won&#39;t be able to see how much extra spaces the container has reserved in terms of memory. My ultimate goal is that, to try to see how much the container takes extra space in memory just to optimize for future add() calls by reserving slots that are still not used. Thanks for your help."},{"owner":{"account_id":3492124,"reputation":1637,"user_id":2921519,"display_name":"Maurice Lam"},"score":0,"creation_date":1678218942,"post_id":75656983,"comment_id":133489966,"body_markdown":"For that the tool will need knowledge on the specific implementation of the container (e.g. the field names of the size / capacity). With that knowledge, you can try looking it up from the hprof via https://docs.rs/jvm-hprof/0.1.0/jvm_hprof/heap_dump/struct.Instance.html#method.fields","body":"For that the tool will need knowledge on the specific implementation of the container (e.g. the field names of the size / capacity). With that knowledge, you can try looking it up from the hprof via <a href=\"https://docs.rs/jvm-hprof/0.1.0/jvm_hprof/heap_dump/struct.Instance.html#method.fields\" rel=\"nofollow noreferrer\">docs.rs/jvm-hprof/0.1.0/jvm_hprof/heap_dump/&hellip;</a>"}],"tags":[],"owner":{"account_id":3492124,"reputation":1637,"user_id":2921519,"display_name":"Maurice Lam"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678148282,"creation_date":1678148282,"answer_id":75656983,"question_id":75466277,"body_markdown":"You can take a look at `jvm-hprof-rs` (https://bitbucket.org/marshallpierce/jvm-hprof-rs/src/master/).\r\n\r\nIf you are comfortable writing Rust code, the library gives you a great deal of control over how to process the data. ([Documentation](https://docs.rs/jvm-hprof/0.1.0/jvm_hprof/))\r\n\r\nFor simpler cases, the `analyze_hprof` example can give you a CSV format containing the &quot;Instance count&quot;, &quot;Instance size (bytes)&quot;, &quot;Total shallow instance size (bytes)&quot;, &quot;Class name&quot;, and &quot;Class obj id&quot;. You can then post-process to get the info you need.\r\n\r\n```\r\ncargo run --release --example analyze_hprof -- \\\r\n    -f path/to/your.hprof \\\r\n    instance-counts\r\n```\r\n\r\nIf I am understanding your problem correctly, you can take the output CSV, grep for the class name you want to analyze, and compute `Instance size (bytes) / Instance count`.","title":"Parsing hprof memory dump","body":"<p>You can take a look at <code>jvm-hprof-rs</code> (<a href=\"https://bitbucket.org/marshallpierce/jvm-hprof-rs/src/master/\" rel=\"nofollow noreferrer\">https://bitbucket.org/marshallpierce/jvm-hprof-rs/src/master/</a>).</p>\n<p>If you are comfortable writing Rust code, the library gives you a great deal of control over how to process the data. (<a href=\"https://docs.rs/jvm-hprof/0.1.0/jvm_hprof/\" rel=\"nofollow noreferrer\">Documentation</a>)</p>\n<p>For simpler cases, the <code>analyze_hprof</code> example can give you a CSV format containing the &quot;Instance count&quot;, &quot;Instance size (bytes)&quot;, &quot;Total shallow instance size (bytes)&quot;, &quot;Class name&quot;, and &quot;Class obj id&quot;. You can then post-process to get the info you need.</p>\n<pre><code>cargo run --release --example analyze_hprof -- \\\n    -f path/to/your.hprof \\\n    instance-counts\n</code></pre>\n<p>If I am understanding your problem correctly, you can take the output CSV, grep for the class name you want to analyze, and compute <code>Instance size (bytes) / Instance count</code>.</p>\n"}],"owner":{"account_id":8677048,"reputation":447,"user_id":6494163,"display_name":"T code"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75656983,"answer_count":1,"score":0,"last_activity_date":1678148282,"creation_date":1676502611,"question_id":75466277,"body_markdown":"I am working on an Android application and I have a memory dump (i.e. a .hprof file) that I captured from my application.\r\n\r\nI want to investigate a certain container of the application. \r\n\r\nJust like an ArrayList, the container has a growth policy that increases the capacity of the container when the size is reached to guarantee constant amortized time cost for adding elements into it.\r\n\r\nMy hypothesis is that every instance of the container possesses multiple unused allocated memory spaces. \r\n\r\nI want to automate the process of investigating this case. Is there a way to write a script that can parse this .hprof file and return the ratio of these unused allocated spaces to total_entries?\r\n\r\nThank you!","title":"Parsing hprof memory dump","body":"<p>I am working on an Android application and I have a memory dump (i.e. a .hprof file) that I captured from my application.</p>\n<p>I want to investigate a certain container of the application.</p>\n<p>Just like an ArrayList, the container has a growth policy that increases the capacity of the container when the size is reached to guarantee constant amortized time cost for adding elements into it.</p>\n<p>My hypothesis is that every instance of the container possesses multiple unused allocated memory spaces.</p>\n<p>I want to automate the process of investigating this case. Is there a way to write a script that can parse this .hprof file and return the ratio of these unused allocated spaces to total_entries?</p>\n<p>Thank you!</p>\n"},{"tags":["java"],"owner":{"account_id":20656721,"reputation":29,"user_id":15165636,"display_name":"Ukraine1449"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678148270,"creation_date":1678148270,"question_id":75656981,"body_markdown":"Error: The redirect_uri does not match the registered value\r\n\r\nThe code related to this is as follows: \r\n\r\n    final String clientId = &quot;78bg6407krjxu9&quot;;\r\n        final String clientSecret = &quot;V8XEuAwLwyAPLinI&quot;;\r\n        final OAuth20Service service = new ServiceBuilder(clientId)\r\n                .apiSecret(clientSecret)\r\n                .defaultScope(new ScopeBuilder(&quot;r_liteprofile&quot;, &quot;r_emailaddress&quot;)) // replace with desired scope\r\n                .callback(&quot;http://example.com/callback&quot;)\r\n                .build(LinkedInApi20.instance());\r\n        final Scanner in = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;=== &quot; + NETWORK_NAME + &quot;&#39;s OAuth Workflow ===&quot;);\r\n        System.out.println();\r\n        System.out.println(&quot;Fetching the Authorization URL...&quot;);\r\n        final String secretState = &quot;secret&quot; + new Random().nextInt(999_999);\r\n        final String authorizationUrl = service.getAuthorizationUrl(secretState);\r\n        System.out.println(&quot;Got the Authorization URL!&quot;);\r\n        System.out.println(&quot;Now go and authorize ScribeJava here:&quot;);\r\n        System.out.println(authorizationUrl);\r\n        System.out.println(&quot;And paste the authorization code here&quot;);\r\n        System.out.print(&quot;&gt;&gt;&quot;);\r\n        final String code = in.nextLine();\r\n        System.out.println();","title":"Trying to use scribejava, running into error saying &quot;The redirect_uri does not match the registered value&quot;","body":"<p>Error: The redirect_uri does not match the registered value</p>\n<p>The code related to this is as follows:</p>\n<pre><code>final String clientId = &quot;78bg6407krjxu9&quot;;\n    final String clientSecret = &quot;V8XEuAwLwyAPLinI&quot;;\n    final OAuth20Service service = new ServiceBuilder(clientId)\n            .apiSecret(clientSecret)\n            .defaultScope(new ScopeBuilder(&quot;r_liteprofile&quot;, &quot;r_emailaddress&quot;)) // replace with desired scope\n            .callback(&quot;http://example.com/callback&quot;)\n            .build(LinkedInApi20.instance());\n    final Scanner in = new Scanner(System.in);\n\n    System.out.println(&quot;=== &quot; + NETWORK_NAME + &quot;'s OAuth Workflow ===&quot;);\n    System.out.println();\n    System.out.println(&quot;Fetching the Authorization URL...&quot;);\n    final String secretState = &quot;secret&quot; + new Random().nextInt(999_999);\n    final String authorizationUrl = service.getAuthorizationUrl(secretState);\n    System.out.println(&quot;Got the Authorization URL!&quot;);\n    System.out.println(&quot;Now go and authorize ScribeJava here:&quot;);\n    System.out.println(authorizationUrl);\n    System.out.println(&quot;And paste the authorization code here&quot;);\n    System.out.print(&quot;&gt;&gt;&quot;);\n    final String code = in.nextLine();\n    System.out.println();\n</code></pre>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":6959926,"reputation":404,"user_id":5339746,"accept_rate":100,"display_name":"Joao"},"score":0,"creation_date":1685377650,"post_id":75656818,"comment_id":134648555,"body_markdown":"1/2 \nDon&#39;t use the offset. Because different countries can have different DST date. \nSo it can depend on when you need to use the timezone. For example, if you want to save the user&#39;s timezone to convert time to his timezone, you can&#39;t save just the offset, because it&#39;s different for each country for different dates.\nExample. Today is March of 2023 and you save your user timezone  offset = +2","body":"1/2  Don&#39;t use the offset. Because different countries can have different DST date.  So it can depend on when you need to use the timezone. For example, if you want to save the user&#39;s timezone to convert time to his timezone, you can&#39;t save just the offset, because it&#39;s different for each country for different dates. Example. Today is March of 2023 and you save your user timezone  offset = +2"},{"owner":{"account_id":6959926,"reputation":404,"user_id":5339746,"accept_rate":100,"display_name":"Joao"},"score":0,"creation_date":1685377656,"post_id":75656818,"comment_id":134648558,"body_markdown":"2/2\nYou save the offset +2  \nYou receive two dates\nWed Mar 20 2023 16:00:00 GMT+0200\nWed Mar 29 2023 16:00:00 GMT+0200\n\nFor Egyptian users, both dates you don&#39;t need to convert. Because Egypt implement DST in April\n\nFor Ukrainian users, you need to convert one date\nWed Mar 20 2023 16:00:00 GMT+0200\nWed Mar 29 2023 17:00:00 GMT+0300\nbecause the 29th of Mar goes after DST.","body":"2/2 You save the offset +2   You receive two dates Wed Mar 20 2023 16:00:00 GMT+0200 Wed Mar 29 2023 16:00:00 GMT+0200  For Egyptian users, both dates you don&#39;t need to convert. Because Egypt implement DST in April  For Ukrainian users, you need to convert one date Wed Mar 20 2023 16:00:00 GMT+0200 Wed Mar 29 2023 17:00:00 GMT+0300 because the 29th of Mar goes after DST."}],"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678146223,"creation_date":1678146223,"answer_id":75656818,"question_id":75656590,"body_markdown":"It&#39;s not guaranteed. Java uses data from [Common Locale Data Repository](https://en.wikipedia.org/wiki/Common_Locale_Data_Repository) and they periodically update it. \r\n\r\nThere have been cases where that update was a breaking change, e.g. this:  https://stackoverflow.com/questions/69267710/septembers-short-form-sep-no-longer-parses-in-java-17-in-en-gb-locale\r\n\r\nThat zone just happens to have both of those examples as valid aliases. See: https://github.com/openjdk/jdk/blob/master/make/data/cldr/common/bcp47/timezone.xml#L398 but there is no requirement that they do so.\r\n\r\nA zone name is not really something you should expect forwards compatibility for. This data models the real world, and the real world is constantly changing. If you want to rely on something that&#39;s future-proof, then use the offset, i.e. `+02:00`.","title":"Is Java ZoneID guaranteed to parse previously existing timezones?","body":"<p>It's not guaranteed. Java uses data from <a href=\"https://en.wikipedia.org/wiki/Common_Locale_Data_Repository\" rel=\"nofollow noreferrer\">Common Locale Data Repository</a> and they periodically update it.</p>\n<p>There have been cases where that update was a breaking change, e.g. this:  <a href=\"https://stackoverflow.com/questions/69267710/septembers-short-form-sep-no-longer-parses-in-java-17-in-en-gb-locale\">September&#39;s short form &quot;Sep&quot; no longer parses in Java 17 in en_GB locale</a></p>\n<p>That zone just happens to have both of those examples as valid aliases. See: <a href=\"https://github.com/openjdk/jdk/blob/master/make/data/cldr/common/bcp47/timezone.xml#L398\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/make/data/cldr/common/bcp47/timezone.xml#L398</a> but there is no requirement that they do so.</p>\n<p>A zone name is not really something you should expect forwards compatibility for. This data models the real world, and the real world is constantly changing. If you want to rely on something that's future-proof, then use the offset, i.e. <code>+02:00</code>.</p>\n"}],"owner":{"account_id":166796,"reputation":72317,"user_id":391161,"accept_rate":63,"display_name":"merlin2011"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":75656818,"answer_count":1,"score":4,"last_activity_date":1678147219,"creation_date":1678143492,"question_id":75656590,"body_markdown":"In late 2022, the timezone `Europe/Kiev` was [renamed][1] to `Europe/Kyiv` by IANA.\r\n\r\nConsider the following program:\r\n\r\n```\r\nimport java.time.ZoneId;\r\n\r\npublic class TZPlay {\r\n  public static void main(String[] args) {\r\n    try {\r\n//      ZoneId.of(&quot;Europe/Kiev&quot;); // Works in Java 17.06 and Java 17.03\r\n//      ZoneId.of(&quot;Europe/Kyiv&quot;); // Works in Java 17.06 but not Java 17.03.\r\n    } catch (Exception e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nObservations:\r\n * Java 17.03 throws the following exception when trying to parse `Europe/Kyiv`.\r\n\r\n```\r\njava.time.zone.ZoneRulesException: Unknown time-zone ID: Europe/Kyiv\r\n        at java.base/java.time.zone.ZoneRulesProvider.getProvider(ZoneRulesProvider.java:280)\r\n        at java.base/java.time.zone.ZoneRulesProvider.getRules(ZoneRulesProvider.java:235)\r\n        at java.base/java.time.ZoneRegion.ofId(ZoneRegion.java:121)\r\n        at java.base/java.time.ZoneId.of(ZoneId.java:410)\r\n        at java.base/java.time.ZoneId.of(ZoneId.java:358)\r\n        at TZPlay.main(TZPlay.java:7)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.execute(Main.java:419)\r\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.run(Main.java:192)\r\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.main(Main.java:132)\r\n```\r\n\r\n * Java 17.06 correctly parses it without exception. \r\n * Moreover, Java 17.06 also parses `Europe/Kiev` without exception.\r\n\r\nEmpirically, based on the above example, it seems like newer versions of Java are able to parse older timezones after they were renamed.\r\n\r\n**Is this guaranteed to always be true, or will old timezones sometimes break on newer Java minor versions?**\r\n\r\nI searched the [ZoneId javadoc][2] for the terms &quot;previous&quot;, &quot;old&quot; and &quot;rename&quot; but did not find anything obvious.\r\n\r\n\r\n  [1]: https://mm.icann.org/pipermail/tz/2022-April/031376.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZoneId.html","title":"Is Java ZoneID guaranteed to parse previously existing timezones?","body":"<p>In late 2022, the timezone <code>Europe/Kiev</code> was <a href=\"https://mm.icann.org/pipermail/tz/2022-April/031376.html\" rel=\"nofollow noreferrer\">renamed</a> to <code>Europe/Kyiv</code> by IANA.</p>\n<p>Consider the following program:</p>\n<pre><code>import java.time.ZoneId;\n\npublic class TZPlay {\n  public static void main(String[] args) {\n    try {\n//      ZoneId.of(&quot;Europe/Kiev&quot;); // Works in Java 17.06 and Java 17.03\n//      ZoneId.of(&quot;Europe/Kyiv&quot;); // Works in Java 17.06 but not Java 17.03.\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n<p>Observations:</p>\n<ul>\n<li>Java 17.03 throws the following exception when trying to parse <code>Europe/Kyiv</code>.</li>\n</ul>\n<pre><code>java.time.zone.ZoneRulesException: Unknown time-zone ID: Europe/Kyiv\n        at java.base/java.time.zone.ZoneRulesProvider.getProvider(ZoneRulesProvider.java:280)\n        at java.base/java.time.zone.ZoneRulesProvider.getRules(ZoneRulesProvider.java:235)\n        at java.base/java.time.ZoneRegion.ofId(ZoneRegion.java:121)\n        at java.base/java.time.ZoneId.of(ZoneId.java:410)\n        at java.base/java.time.ZoneId.of(ZoneId.java:358)\n        at TZPlay.main(TZPlay.java:7)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.execute(Main.java:419)\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.run(Main.java:192)\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.main(Main.java:132)\n</code></pre>\n<ul>\n<li>Java 17.06 correctly parses it without exception.</li>\n<li>Moreover, Java 17.06 also parses <code>Europe/Kiev</code> without exception.</li>\n</ul>\n<p>Empirically, based on the above example, it seems like newer versions of Java are able to parse older timezones after they were renamed.</p>\n<p><strong>Is this guaranteed to always be true, or will old timezones sometimes break on newer Java minor versions?</strong></p>\n<p>I searched the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZoneId.html\" rel=\"nofollow noreferrer\">ZoneId javadoc</a> for the terms &quot;previous&quot;, &quot;old&quot; and &quot;rename&quot; but did not find anything obvious.</p>\n"},{"tags":["java","object","math","methods"],"answers":[{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678037658,"creation_date":1678037658,"answer_id":75644123,"question_id":75642501,"body_markdown":"Why not make eight multi dimensional arrays representing each of the eight sides total of the two rhombus , each of the elements represents a pixel along the edge of the rhombus and stores an array of two elements being x position of pixel and y position of pixel.\r\nThe use one of the two to loop over all it&#39;s elements of each side and find if any pixel pair get an exact match of the other quadrilateral pixel pair.\r\nPersonally, I think you would be better drawing some test cases to see if you can figure probability first by checking the positions along x and along y of the quadrilaterals four points to be better able to choose which side array to work on testing first.","title":"Check If Two Rhombus Overlap In Java","body":"<p>Why not make eight multi dimensional arrays representing each of the eight sides total of the two rhombus , each of the elements represents a pixel along the edge of the rhombus and stores an array of two elements being x position of pixel and y position of pixel.\nThe use one of the two to loop over all it's elements of each side and find if any pixel pair get an exact match of the other quadrilateral pixel pair.\nPersonally, I think you would be better drawing some test cases to see if you can figure probability first by checking the positions along x and along y of the quadrilaterals four points to be better able to choose which side array to work on testing first.</p>\n"},{"tags":[],"owner":{"account_id":27831612,"reputation":11,"user_id":21249904,"display_name":"KEK LOL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678146947,"creation_date":1678146947,"answer_id":75656878,"question_id":75642501,"body_markdown":"    void overlaps(Rhombus r) {\r\n            int x1 = Math.min(this.p1, Math.min(this.p2, Math.min(this.p3, this.p4)));\r\n            int y1 = Math.min(this.p1, Math.min(this.p2, Math.min(this.p3, this.p4)));\r\n            int x2 = Math.max(this.p1, Math.max(this.p2, Math.max(this.p3, this.p4)));\r\n            int y2 = Math.max(this.p1, Math.max(this.p2, Math.max(this.p3, this.p4)));\r\n            int x3 = Math.min(r.p1, Math.min(r.p2, Math.min(r.p3, r.p4)));\r\n            int y3 = Math.min(r.p1, Math.min(r.p2, Math.min(r.p3, r.p4)));\r\n            int x4 = Math.max(r.p1, Math.max(r.p2, Math.max(r.p3, r.p4)));\r\n            int y4 = Math.max(r.p1, Math.max(r.p2, Math.max(r.p3, r.p4)));\r\n    \r\n            if (x1 &lt; x4 &amp;&amp; x2 &gt; x3 &amp;&amp; y1 &lt; y4 &amp;&amp; y2 &gt; y3) {\r\n                System.out.println(&quot;One rhombus intersects the other&quot;);\r\n            } else {\r\n                System.out.println(&quot;The two rhombuses do not intersect&quot;);\r\n            }\r\n        }","title":"Check If Two Rhombus Overlap In Java","body":"<pre><code>void overlaps(Rhombus r) {\n        int x1 = Math.min(this.p1, Math.min(this.p2, Math.min(this.p3, this.p4)));\n        int y1 = Math.min(this.p1, Math.min(this.p2, Math.min(this.p3, this.p4)));\n        int x2 = Math.max(this.p1, Math.max(this.p2, Math.max(this.p3, this.p4)));\n        int y2 = Math.max(this.p1, Math.max(this.p2, Math.max(this.p3, this.p4)));\n        int x3 = Math.min(r.p1, Math.min(r.p2, Math.min(r.p3, r.p4)));\n        int y3 = Math.min(r.p1, Math.min(r.p2, Math.min(r.p3, r.p4)));\n        int x4 = Math.max(r.p1, Math.max(r.p2, Math.max(r.p3, r.p4)));\n        int y4 = Math.max(r.p1, Math.max(r.p2, Math.max(r.p3, r.p4)));\n\n        if (x1 &lt; x4 &amp;&amp; x2 &gt; x3 &amp;&amp; y1 &lt; y4 &amp;&amp; y2 &gt; y3) {\n            System.out.println(&quot;One rhombus intersects the other&quot;);\n        } else {\n            System.out.println(&quot;The two rhombuses do not intersect&quot;);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":27831612,"reputation":11,"user_id":21249904,"display_name":"KEK LOL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75656878,"answer_count":2,"score":1,"last_activity_date":1678147073,"creation_date":1678022476,"question_id":75642501,"body_markdown":"I need to Check If Two Rhombus Overlap In Java, i dont understand how to do it properly \r\n\r\n\r\n    public class Rhombus {\r\n        int p1;\r\n        int p2;\r\n        int p3;\r\n        int p4;\r\n        Rhombus(int p1, int p2, int p3, int p4){\r\n            this.p1 = p1;\r\n            this.p2 = p2;\r\n            this.p3 = p3;\r\n            this.p4 = p4;\r\n        }\r\n        void overlaps(Rhombus r){\r\n            System.out.println(&quot;Checking if one rhombus intersects the second one:&quot;);\r\n            if (r.p1 == this.p1 || r.p1 == this.p2 || r.p1 == this.p3 || r.p1 == this.p4 || r.p2 == this.p1 || r.p2 == this.p2 || r.p2 == this.p3 || r.p2 == this.p4 || r.p3 == this.p1 || r.p3 == this.p2 || r.p3 == this.p3 || r.p3 == this.p4 || r.p4 == this.p1 || r.p4 == this.p2 || r.p4 == this.p3 || r.p4 == this.p4 ) System.out.println(&quot;true&quot;);\r\n            else System.out.println(&quot;false&quot;);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Rhombus rhombus1 = new Rhombus(3, 3, 3, 3);\r\n            Rhombus rhombus2 = new Rhombus(1, 5, 5, 5);\r\n            rhombus1.overlaps(rhombus2);\r\n        }\r\n    }\r\n\r\n\r\nI try this, but it doesnt work if one point cross another rhombus \r\n","title":"Check If Two Rhombus Overlap In Java","body":"<p>I need to Check If Two Rhombus Overlap In Java, i dont understand how to do it properly</p>\n<pre><code>public class Rhombus {\n    int p1;\n    int p2;\n    int p3;\n    int p4;\n    Rhombus(int p1, int p2, int p3, int p4){\n        this.p1 = p1;\n        this.p2 = p2;\n        this.p3 = p3;\n        this.p4 = p4;\n    }\n    void overlaps(Rhombus r){\n        System.out.println(&quot;Checking if one rhombus intersects the second one:&quot;);\n        if (r.p1 == this.p1 || r.p1 == this.p2 || r.p1 == this.p3 || r.p1 == this.p4 || r.p2 == this.p1 || r.p2 == this.p2 || r.p2 == this.p3 || r.p2 == this.p4 || r.p3 == this.p1 || r.p3 == this.p2 || r.p3 == this.p3 || r.p3 == this.p4 || r.p4 == this.p1 || r.p4 == this.p2 || r.p4 == this.p3 || r.p4 == this.p4 ) System.out.println(&quot;true&quot;);\n        else System.out.println(&quot;false&quot;);\n    }\n\n    public static void main(String[] args) {\n        Rhombus rhombus1 = new Rhombus(3, 3, 3, 3);\n        Rhombus rhombus2 = new Rhombus(1, 5, 5, 5);\n        rhombus1.overlaps(rhombus2);\n    }\n}\n</code></pre>\n<p>I try this, but it doesnt work if one point cross another rhombus</p>\n"},{"tags":["java","spring-boot","azure"],"answers":[{"comments":[{"owner":{"account_id":2703064,"reputation":35,"user_id":2333345,"display_name":"Lee Cottrell"},"score":1,"creation_date":1678146788,"post_id":75654291,"comment_id":133473785,"body_markdown":"Downgrading to Spring-Boot 2 worked. I did try changing the Azure cli version to 10, but ran into the same issues.","body":"Downgrading to Spring-Boot 2 worked. I did try changing the Azure cli version to 10, but ran into the same issues."}],"tags":[],"owner":{"account_id":13328605,"reputation":68,"user_id":9620766,"display_name":"random coder dude"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678125743,"creation_date":1678125743,"answer_id":75654291,"question_id":75654120,"body_markdown":"Try changing this in your pom.xml:\r\n\r\n    &lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\nTo this:\r\n\r\n    &lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\nSpring-Boot 3 does require Java 17, so you&#39;ll need to downgrade to Spring-Boot 2. If that&#39;s not an option, you&#39;ll keep the pom.xml the same and change the Azure cli version to 17.\r\n","title":"Why can I not publish Spring Boot Web Service to MS Azure?","body":"<p>Try changing this in your pom.xml:</p>\n<pre><code>&lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>To this:</p>\n<pre><code>&lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>Spring-Boot 3 does require Java 17, so you'll need to downgrade to Spring-Boot 2. If that's not an option, you'll keep the pom.xml the same and change the Azure cli version to 17.</p>\n"},{"tags":[],"owner":{"account_id":2703064,"reputation":35,"user_id":2333345,"display_name":"Lee Cottrell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678146936,"creation_date":1678146936,"answer_id":75656877,"question_id":75654120,"body_markdown":"Downgrading to Spring boot 2.7.10-snapshot worked. I was able to successfully transfer the web service from GitHub to Azure. \r\n\r\nI was able to successfully upgrade the Azure cli to java 17, but it did not allow the service to post.","title":"Why can I not publish Spring Boot Web Service to MS Azure?","body":"<p>Downgrading to Spring boot 2.7.10-snapshot worked. I was able to successfully transfer the web service from GitHub to Azure.</p>\n<p>I was able to successfully upgrade the Azure cli to java 17, but it did not allow the service to post.</p>\n"}],"owner":{"account_id":2703064,"reputation":35,"user_id":2333345,"display_name":"Lee Cottrell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75656877,"answer_count":2,"score":1,"last_activity_date":1678146936,"creation_date":1678124621,"question_id":75654120,"body_markdown":"My students and I are having problems posting a Java SpringBoot web service to my pay as you go Azure subscription. We are following microsoft&#39;s directions from their [learn.microsoft.com](https://learn.microsoft.com/en-us/azure/app-service/quickstart-java?tabs=javase&amp;pivots=platform-windows-development-environment-maven) site. We keep receiving *invalid target release: 17*\r\n\r\nThis is my code &lt;https://github.com/leecottrellPTC/Azurepublish.git&gt;\r\nThis is MS&#39;s code &lt;https://github.com/spring-guides/gs-spring-boot&gt;\r\n\r\nThe version of Java in the Azure CLI is Java 11. I have tried rebuilding my project locally to Java versions 8, 11, and 17. Each time, it runs on my local servers. When I republish it to Azure, I make the proper version choices in the wizard. I have tried Linux and Windows OS, and several tiers of pay. Each results in the same error.\r\n\r\nThe MS Link offers four different ways to publish a web service. I have tried them all with the exception of Docker. I do not have that configured.\r\n\r\nI have run the *mvn package azure-webapp:deploy -e*, receiving a vomit of errors.\r\n\r\nI do not know what else to do.\r\n\r\n~~~\r\n Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project azurehotel: Fatal error compiling: error: invalid target release: 17 -\\&gt; \\[Help 1\\]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal    org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project azurehotel: Fatal error compiling\r\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\nat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\nat org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\nat org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\nat org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\r\nat org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\nat org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke (Method.java:566)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: org.apache.maven.plugin.MojoExecutionException: Fatal error compiling\r\nat org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1220)\r\nat org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:198)\r\nat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\nat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\nat org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\nat org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\nat org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\r\nat org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\nat org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke (Method.java:566)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: org.codehaus.plexus.compiler.CompilerException: error: invalid target release: 17\r\nat org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess (JavaxToolsCompiler.java:197)\r\nat org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile (JavacCompiler.java:182)\r\nat org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1209)\r\nat org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:198)\r\nat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\nat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\nat org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\nat org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\nat org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\r\nat org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\nat org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke (Method.java:566)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: java.lang.IllegalArgumentException: error: invalid target release: 17\r\nat com.sun.tools.javac.main.Arguments.error (Arguments.java:907)\r\nat com.sun.tools.javac.main.Arguments.doProcessArgs (Arguments.java:383)\r\nat com.sun.tools.javac.main.Arguments.processArgs (Arguments.java:347)\r\nat com.sun.tools.javac.main.Arguments.init (Arguments.java:246)\r\nat com.sun.tools.javac.api.JavacTool.getTask (JavacTool.java:185)\r\nat com.sun.tools.javac.api.JavacTool.getTask (JavacTool.java:119)\r\nat com.sun.tools.javac.api.JavacTool.getTask (JavacTool.java:68)\r\nat org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess (JavaxToolsCompiler.java:135)\r\nat org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile (JavacCompiler.java:182)\r\nat org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1209)\r\nat org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:198)\r\nat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\nat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\nat org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\nat org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\nat org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\r\nat org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\nat org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke (Method.java:566)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n\\[ERROR\\]\r\n\\[ERROR\\] Re-run Maven using the -X switch to enable full debug logging.\r\n\\[ERROR\\]\r\n\\[ERROR\\] For more information about the errors and possible solutions, please read the following articles:\r\n\\[ERROR\\] \\[Help 1\\] &lt;/kbd&gt;&lt;kbd&gt;http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n~~~\r\n   ","title":"Why can I not publish Spring Boot Web Service to MS Azure?","body":"<p>My students and I are having problems posting a Java SpringBoot web service to my pay as you go Azure subscription. We are following microsoft's directions from their <a href=\"https://learn.microsoft.com/en-us/azure/app-service/quickstart-java?tabs=javase&amp;pivots=platform-windows-development-environment-maven\" rel=\"nofollow noreferrer\">learn.microsoft.com</a> site. We keep receiving <em>invalid target release: 17</em></p>\n<p>This is my code <a href=\"https://github.com/leecottrellPTC/Azurepublish.git\" rel=\"nofollow noreferrer\">https://github.com/leecottrellPTC/Azurepublish.git</a>\nThis is MS's code <a href=\"https://github.com/spring-guides/gs-spring-boot\" rel=\"nofollow noreferrer\">https://github.com/spring-guides/gs-spring-boot</a></p>\n<p>The version of Java in the Azure CLI is Java 11. I have tried rebuilding my project locally to Java versions 8, 11, and 17. Each time, it runs on my local servers. When I republish it to Azure, I make the proper version choices in the wizard. I have tried Linux and Windows OS, and several tiers of pay. Each results in the same error.</p>\n<p>The MS Link offers four different ways to publish a web service. I have tried them all with the exception of Docker. I do not have that configured.</p>\n<p>I have run the <em>mvn package azure-webapp:deploy -e</em>, receiving a vomit of errors.</p>\n<p>I do not know what else to do.</p>\n<pre><code> Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project azurehotel: Fatal error compiling: error: invalid target release: 17 -\\&gt; \\[Help 1\\]\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal    org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project azurehotel: Fatal error compiling\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\nat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\nat org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\nat org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\nat org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\nat org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\nat org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke (Method.java:566)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\nat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\nat org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.MojoExecutionException: Fatal error compiling\nat org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1220)\nat org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:198)\nat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\nat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\nat org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\nat org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\nat org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\nat org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\nat org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke (Method.java:566)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\nat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\nat org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.codehaus.plexus.compiler.CompilerException: error: invalid target release: 17\nat org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess (JavaxToolsCompiler.java:197)\nat org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile (JavacCompiler.java:182)\nat org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1209)\nat org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:198)\nat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\nat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\nat org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\nat org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\nat org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\nat org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\nat org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke (Method.java:566)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\nat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\nat org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: java.lang.IllegalArgumentException: error: invalid target release: 17\nat com.sun.tools.javac.main.Arguments.error (Arguments.java:907)\nat com.sun.tools.javac.main.Arguments.doProcessArgs (Arguments.java:383)\nat com.sun.tools.javac.main.Arguments.processArgs (Arguments.java:347)\nat com.sun.tools.javac.main.Arguments.init (Arguments.java:246)\nat com.sun.tools.javac.api.JavacTool.getTask (JavacTool.java:185)\nat com.sun.tools.javac.api.JavacTool.getTask (JavacTool.java:119)\nat com.sun.tools.javac.api.JavacTool.getTask (JavacTool.java:68)\nat org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess (JavaxToolsCompiler.java:135)\nat org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile (JavacCompiler.java:182)\nat org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1209)\nat org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:198)\nat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\nat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\nat org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\nat org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\nat org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\nat org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\nat org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke (Method.java:566)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\nat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\nat org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n\\[ERROR\\]\n\\[ERROR\\] Re-run Maven using the -X switch to enable full debug logging.\n\\[ERROR\\]\n\\[ERROR\\] For more information about the errors and possible solutions, please read the following articles:\n\\[ERROR\\] \\[Help 1\\] &lt;/kbd&gt;&lt;kbd&gt;http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n"},{"tags":["java","android","kotlin","android-jetpack-compose"],"answers":[{"comments":[{"owner":{"account_id":7862760,"reputation":4624,"user_id":5942579,"accept_rate":74,"display_name":"Emmanuel Mtali"},"score":0,"creation_date":1660734956,"post_id":73386643,"comment_id":129601377,"body_markdown":"+1 Thanks, I will try using this approach and give you feedback. Do you have any project or sample open source project on GitHub that is using this approach?","body":"+1 Thanks, I will try using this approach and give you feedback. Do you have any project or sample open source project on GitHub that is using this approach?"},{"owner":{"account_id":25444915,"reputation":186,"user_id":19247254,"display_name":"ngalashev"},"score":0,"creation_date":1660736394,"post_id":73386643,"comment_id":129601915,"body_markdown":"@EmmanuelMtali Sorry, I don&#39;t have an open source sample. Perhaps, this documentation will also help you https://developer.android.com/jetpack/compose/navigation#nested-nav","body":"@EmmanuelMtali Sorry, I don&#39;t have an open source sample. Perhaps, this documentation will also help you <a href=\"https://developer.android.com/jetpack/compose/navigation#nested-nav\" rel=\"nofollow noreferrer\">developer.android.com/jetpack/compose/navigation#nested-nav</a>"},{"owner":{"account_id":5866991,"reputation":10236,"user_id":4620609,"accept_rate":100,"display_name":"Samuel Robert"},"score":0,"creation_date":1697293231,"post_id":73386643,"comment_id":136263083,"body_markdown":"Viewmodel must not know about navigation logic. This violates MVVM pattern. It becomes hard to unit test the viewmodel.","body":"Viewmodel must not know about navigation logic. This violates MVVM pattern. It becomes hard to unit test the viewmodel."}],"tags":[],"owner":{"account_id":25444915,"reputation":186,"user_id":19247254,"display_name":"ngalashev"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660731153,"creation_date":1660731153,"answer_id":73386643,"question_id":73363186,"body_markdown":"If i understand your question correctly I would do it this way:\r\n\r\n    @Composable\r\n    fun App(mainViewModel: MainViewModel) {\r\n        val navController = rememberNavController()\r\n\r\n        LaunchedEffect(Unit) {\r\n            mainViewModel.checkAuth(navController)\r\n        }\r\n        \r\n        NavHost(\r\n            navController = navController,\r\n            startDestination = RootNavigation.Home.route\r\n        ) {\r\n            \r\n            composable(RootNavigation.Home.route) {\r\n                SplashScreen()\r\n            }\r\n\r\n            loginGraph(navController)\r\n\r\n            workspaceGraph(navController)\r\n        }\r\n    }\r\n\r\nAt MainViewModel:\r\n\r\n    fun checkAuth(navController: NavHostController) {\r\n        viewModelScope.launch {\r\n            ...//your code\r\n            \r\n            if (resource.data == null)                            \r\n                navController.navigateAndReplaceStartRoute(RootNavigation.Login.route)\r\n            else navController.navigateAndReplaceStartRoute(RootNavigation.Workspace.route)\r\n\r\n            ...//your code\r\n        }\r\n    }\r\n\r\nDid I answer your question?","title":"Navigate by checking login state with jetpack compose (Conditional Nested Nav graphs)","body":"<p>If i understand your question correctly I would do it this way:</p>\n<pre><code>@Composable\nfun App(mainViewModel: MainViewModel) {\n    val navController = rememberNavController()\n\n    LaunchedEffect(Unit) {\n        mainViewModel.checkAuth(navController)\n    }\n    \n    NavHost(\n        navController = navController,\n        startDestination = RootNavigation.Home.route\n    ) {\n        \n        composable(RootNavigation.Home.route) {\n            SplashScreen()\n        }\n\n        loginGraph(navController)\n\n        workspaceGraph(navController)\n    }\n}\n</code></pre>\n<p>At MainViewModel:</p>\n<pre><code>fun checkAuth(navController: NavHostController) {\n    viewModelScope.launch {\n        ...//your code\n        \n        if (resource.data == null)                            \n            navController.navigateAndReplaceStartRoute(RootNavigation.Login.route)\n        else navController.navigateAndReplaceStartRoute(RootNavigation.Workspace.route)\n\n        ...//your code\n    }\n}\n</code></pre>\n<p>Did I answer your question?</p>\n"},{"tags":[],"owner":{"account_id":12601597,"reputation":12580,"user_id":9164141,"accept_rate":93,"display_name":"Gast&#243;n Saill&#233;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678146713,"creation_date":1678146713,"answer_id":75656865,"question_id":73363186,"body_markdown":"So, for me is easier doing it this way\r\n\r\n    @Composable\r\n    fun NavigationGraph(\r\n        navController: NavHostController\r\n    ) {\r\n    \r\n        val currentUser = Firebase.auth.currentUser\r\n        val startRoute = if(currentUser != null) NavigationScreens.HomeScreen else NavigationScreens.LoginScreen\r\n    \r\n        NavHost(navController = navController, startDestination = startRoute.route) { ... }\r\n\r\nSince `Firebase.auth` is a singleton that can be accessed from anywhere, you can check in your `NavGraph` before creating it if the user is not null, if so, there is a current logged in user , if there is a user logged in, just show home screen, else login.\r\n\r\nIf someone is interesed on what `NavigationScreens` is.\r\n\r\n    sealed class NavigationScreens(val route: String) {\r\n     object HomeScreen: NavigationScreens(&quot;home_screen&quot;)\r\n     object LoginScreen: NavigationScreens(&quot;login_screen&quot;)\r\n    }\r\n\r\nThe solution given from **@ngalashev** could potentially open the HomeScreen before the validation inside `mainViewModel.checkAuth(navController)` returns to navigate to the `LoginScreen`. Also it could add the HomeScreen to the backstack","title":"Navigate by checking login state with jetpack compose (Conditional Nested Nav graphs)","body":"<p>So, for me is easier doing it this way</p>\n<pre><code>@Composable\nfun NavigationGraph(\n    navController: NavHostController\n) {\n\n    val currentUser = Firebase.auth.currentUser\n    val startRoute = if(currentUser != null) NavigationScreens.HomeScreen else NavigationScreens.LoginScreen\n\n    NavHost(navController = navController, startDestination = startRoute.route) { ... }\n</code></pre>\n<p>Since <code>Firebase.auth</code> is a singleton that can be accessed from anywhere, you can check in your <code>NavGraph</code> before creating it if the user is not null, if so, there is a current logged in user , if there is a user logged in, just show home screen, else login.</p>\n<p>If someone is interesed on what <code>NavigationScreens</code> is.</p>\n<pre><code>sealed class NavigationScreens(val route: String) {\n object HomeScreen: NavigationScreens(&quot;home_screen&quot;)\n object LoginScreen: NavigationScreens(&quot;login_screen&quot;)\n}\n</code></pre>\n<p>The solution given from <strong>@ngalashev</strong> could potentially open the HomeScreen before the validation inside <code>mainViewModel.checkAuth(navController)</code> returns to navigate to the <code>LoginScreen</code>. Also it could add the HomeScreen to the backstack</p>\n"}],"owner":{"account_id":7862760,"reputation":4624,"user_id":5942579,"accept_rate":74,"display_name":"Emmanuel Mtali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1022,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678146713,"creation_date":1660577513,"question_id":73363186,"body_markdown":"I am trying to implement a way to check authentication status from the room database before and navigate (Conditional navigation) \r\n\r\nThe requirement is as follows\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6PfBf.png\r\n\r\nI have a session manager with the following code\r\n\r\n        private val _sessionState = MutableStateFlow(SessionState.Loading)\r\n        val sessionState: StateFlow&lt;SessionState&gt; = _sessionState\r\n    \r\n        init {\r\n            coroutineScope.launch {\r\n                sessionRepo.getActiveSession()\r\n                    .collect { resource -&gt;\r\n                        _sessionState.value = when (resource) {\r\n                            is Resource.Success -&gt; {\r\n                                if (resource.data == null) {\r\n                                    SessionState.InActive\r\n                                } else {\r\n                                    SessionState.Active\r\n                                }\r\n                            }\r\n                            else -&gt; throw IllegalStateException(&quot;Failed to load session&quot;)\r\n                        }\r\n                    }\r\n            }\r\n        }\r\n\r\n\r\nHow can I check this with jetpack compose\r\n\r\n","title":"Navigate by checking login state with jetpack compose (Conditional Nested Nav graphs)","body":"<p>I am trying to implement a way to check authentication status from the room database before and navigate (Conditional navigation)</p>\n<p>The requirement is as follows</p>\n<p><a href=\"https://i.stack.imgur.com/6PfBf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6PfBf.png\" alt=\"enter image description here\" /></a></p>\n<p>I have a session manager with the following code</p>\n<pre><code>    private val _sessionState = MutableStateFlow(SessionState.Loading)\n    val sessionState: StateFlow&lt;SessionState&gt; = _sessionState\n\n    init {\n        coroutineScope.launch {\n            sessionRepo.getActiveSession()\n                .collect { resource -&gt;\n                    _sessionState.value = when (resource) {\n                        is Resource.Success -&gt; {\n                            if (resource.data == null) {\n                                SessionState.InActive\n                            } else {\n                                SessionState.Active\n                            }\n                        }\n                        else -&gt; throw IllegalStateException(&quot;Failed to load session&quot;)\n                    }\n                }\n        }\n    }\n</code></pre>\n<p>How can I check this with jetpack compose</p>\n"},{"tags":["java","spring","docker","grpc"],"answers":[{"tags":[],"owner":{"account_id":25649504,"reputation":144,"user_id":19417003,"display_name":"Larry Safran"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678146161,"creation_date":1678146161,"answer_id":75656812,"question_id":65527633,"body_markdown":"The existing logic only retries the dns lookup when refresh() is called after the timeout period.  Refresh will only be called as needed, such as the channel moving to state TRANSIENT_FALIURE or the reconnect attempts after that, so your original plan to set a relatively short cache.ttl was a good approach.","title":"GRPC Java caches old DNS entry and does not retry to get a new entry","body":"<p>The existing logic only retries the dns lookup when refresh() is called after the timeout period.  Refresh will only be called as needed, such as the channel moving to state TRANSIENT_FALIURE or the reconnect attempts after that, so your original plan to set a relatively short cache.ttl was a good approach.</p>\n"}],"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75656812,"answer_count":1,"score":2,"last_activity_date":1678146161,"creation_date":1609481428,"question_id":65527633,"body_markdown":"Similar to https://stackoverflow.com/questions/64007975/java-grpc-invalidate-dns-cache but more specific to a Docker *development* environment where services can come up and down (since some stacks are pretty resource intensive so some are shutdown and brought up on an as needed basis).  Its easier to do `docker stack rm` and `docker stack deploy` for the parts that we need rather than creating scale up and down scripts for each stack.  In that situation when the services are recreated the VIP can change (I know I can just fix the IP on the network, but that would mean each stack has to know which ones are available which is something I&#39;d want to avoid).\r\n\r\nGiven that context, the DNS may point to an older address, so I use the `-Dnetworkaddress.cache.ttl=5` looking at the [grpc-java code](https://github.com/grpc/grpc-java/blob/f6c2d221e2b6c975c6cf465d68fe11ab12dabe55/core/src/main/java/io/grpc/internal/DnsNameResolver.java#L106) it appears that should be all I need to set so that it is consistent.  At least for 5 seconds (which is the TTL)\r\n\r\nBut let&#39;s say I want to make it performant and only retry when needed and only define the message channel once (since according to the instructions it is a very expensive operation.  I set things up as follows.  But I am getting occassional failures.  I don&#39;t reuse the stubs because it appears to cause problems in my first go.\r\n\r\n```java\r\n@Component\r\npublic class ClientProvider {\r\n  @Value(&quot;${srv.host}&quot;)\r\n  private String host;\r\n\r\n  @Value(&quot;${srv.port}&quot;)\r\n  private int port;\r\n\r\n  @Value(&quot;${srv.maxRetryAttempts:5}&quot;)\r\n  private int maxiRetryAttempts;\r\n\r\n  @Value(&quot;${srv.maxMessageSize:50000000}&quot;)\r\n  private int maxMessageSize;\r\n\r\n  private ManagedChannel channel;\r\n  @PostConstruct\r\n  public void initChannel() {\r\n    channel = ManagedChannelBuilder\r\n             .forAddress(host, port)\r\n             .usePlaintext()\r\n             .enableRetry()\r\n             .maxRetryAttempts(maxRetryAttempts)\r\n             .maxInboundMessageSize(maxMessageSize)\r\n             .build();\r\n  }\r\n\r\n  public MyBlockingStub blockingStub() {\r\n    return MyGrpc.newBlockingStub(channel);\r\n  }\r\n\r\n  public MyStub stub() {\r\n    return MyGrpc.newStub(channel);\r\n  }\r\n  \r\n  @PreDestroy\r\n  public void shutdownChannel() {\r\n    channel.shutdown();\r\n  }\r\n}\r\n```\r\n\r\nSo I got rid of the single channel and created channels everytime I needed a stub.  It seems to work but I don&#39;t think this is the right way of doing things especiaally since I am not cleaning up the channels after use.\r\n\r\n```java\r\n@Component\r\npublic class ClientProvider {\r\n  @Value(&quot;${srv.host}&quot;)\r\n  private String host;\r\n\r\n  @Value(&quot;${srv.port}&quot;)\r\n  private int port;\r\n\r\n  @Value(&quot;${srv.maxRetryAttempts:5}&quot;)\r\n  private int maxiRetryAttempts;\r\n\r\n  @Value(&quot;${srv.maxMessageSize:50000000}&quot;)\r\n  private int maxMessageSize;\r\n\r\n  public ManagedChannel channel() {\r\n    return ManagedChannelBuilder\r\n             .forAddress(host, port)\r\n             .usePlaintext()\r\n             .enableRetry()\r\n             .maxRetryAttempts(maxRetryAttempts)\r\n             .maxInboundMessageSize(maxMessageSize)\r\n             .build();\r\n  }\r\n\r\n  public MyBlockingStub blockingStub() {\r\n    return MyGrpc.newBlockingStub(channel());\r\n  }\r\n\r\n  public MyStub stub() {\r\n    return MyGrpc.newStub(channel());\r\n  }\r\n}\r\n```\r\n\r\nI am thinking it is just a matter of setting up the configuration correctly on the channel, but I am not sure if I am missing anything.","title":"GRPC Java caches old DNS entry and does not retry to get a new entry","body":"<p>Similar to <a href=\"https://stackoverflow.com/questions/64007975/java-grpc-invalidate-dns-cache\">Java Grpc: invalidate dns cache</a> but more specific to a Docker <em>development</em> environment where services can come up and down (since some stacks are pretty resource intensive so some are shutdown and brought up on an as needed basis).  Its easier to do <code>docker stack rm</code> and <code>docker stack deploy</code> for the parts that we need rather than creating scale up and down scripts for each stack.  In that situation when the services are recreated the VIP can change (I know I can just fix the IP on the network, but that would mean each stack has to know which ones are available which is something I'd want to avoid).</p>\n<p>Given that context, the DNS may point to an older address, so I use the <code>-Dnetworkaddress.cache.ttl=5</code> looking at the <a href=\"https://github.com/grpc/grpc-java/blob/f6c2d221e2b6c975c6cf465d68fe11ab12dabe55/core/src/main/java/io/grpc/internal/DnsNameResolver.java#L106\" rel=\"nofollow noreferrer\">grpc-java code</a> it appears that should be all I need to set so that it is consistent.  At least for 5 seconds (which is the TTL)</p>\n<p>But let's say I want to make it performant and only retry when needed and only define the message channel once (since according to the instructions it is a very expensive operation.  I set things up as follows.  But I am getting occassional failures.  I don't reuse the stubs because it appears to cause problems in my first go.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class ClientProvider {\n  @Value(&quot;${srv.host}&quot;)\n  private String host;\n\n  @Value(&quot;${srv.port}&quot;)\n  private int port;\n\n  @Value(&quot;${srv.maxRetryAttempts:5}&quot;)\n  private int maxiRetryAttempts;\n\n  @Value(&quot;${srv.maxMessageSize:50000000}&quot;)\n  private int maxMessageSize;\n\n  private ManagedChannel channel;\n  @PostConstruct\n  public void initChannel() {\n    channel = ManagedChannelBuilder\n             .forAddress(host, port)\n             .usePlaintext()\n             .enableRetry()\n             .maxRetryAttempts(maxRetryAttempts)\n             .maxInboundMessageSize(maxMessageSize)\n             .build();\n  }\n\n  public MyBlockingStub blockingStub() {\n    return MyGrpc.newBlockingStub(channel);\n  }\n\n  public MyStub stub() {\n    return MyGrpc.newStub(channel);\n  }\n  \n  @PreDestroy\n  public void shutdownChannel() {\n    channel.shutdown();\n  }\n}\n</code></pre>\n<p>So I got rid of the single channel and created channels everytime I needed a stub.  It seems to work but I don't think this is the right way of doing things especiaally since I am not cleaning up the channels after use.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class ClientProvider {\n  @Value(&quot;${srv.host}&quot;)\n  private String host;\n\n  @Value(&quot;${srv.port}&quot;)\n  private int port;\n\n  @Value(&quot;${srv.maxRetryAttempts:5}&quot;)\n  private int maxiRetryAttempts;\n\n  @Value(&quot;${srv.maxMessageSize:50000000}&quot;)\n  private int maxMessageSize;\n\n  public ManagedChannel channel() {\n    return ManagedChannelBuilder\n             .forAddress(host, port)\n             .usePlaintext()\n             .enableRetry()\n             .maxRetryAttempts(maxRetryAttempts)\n             .maxInboundMessageSize(maxMessageSize)\n             .build();\n  }\n\n  public MyBlockingStub blockingStub() {\n    return MyGrpc.newBlockingStub(channel());\n  }\n\n  public MyStub stub() {\n    return MyGrpc.newStub(channel());\n  }\n}\n</code></pre>\n<p>I am thinking it is just a matter of setting up the configuration correctly on the channel, but I am not sure if I am missing anything.</p>\n"},{"tags":["java","spring","spring-boot","javabeans","autowired"],"answers":[{"tags":[],"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677900600,"creation_date":1677899351,"answer_id":75633416,"question_id":75633154,"body_markdown":"In theory, providing it in a bean should work, but you should be sure to initialize its data in the bean.\r\n\r\n    @Bean\r\n    public List&lt;Student&gt; getStudents() {\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        List&lt;Student&gt; people = restTemplate.exchange(&quot;https://some.url.com&quot;, ...other params);\r\n        return people;\r\n    }\r\n\r\nThis bean should be a singleton by default, so it should be the same list provided anywhere else a `List&lt;Student&gt;` is injected (either through constructor injection or with `@Autowired`)\r\n\r\nIf you are needing to use the RestTemplate in other places, you can make that a bean as well, which I believe you’ve already done, and inject it via constructor.\r\n\r\n    @Bean\r\n    public List&lt;Student&gt; getStudents(RestTemplate restTemplate) {\r\n        List&lt;Student&gt; people = restTemplate.exchange(&quot;https://some.url.com&quot;, ...other params);\r\n        return people;\r\n    }\r\n\r\nEdit: I did a bit more research and it seems to make the list accessible, you may need to use `@Resource` instead of `@Autowired` as suggested here\r\n[how to define a list bean in spring][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2416056/how-to-define-a-list-bean-in-spring","title":"How to share the ArrayList across spring boot","body":"<p>In theory, providing it in a bean should work, but you should be sure to initialize its data in the bean.</p>\n<pre><code>@Bean\npublic List&lt;Student&gt; getStudents() {\n    RestTemplate restTemplate = new RestTemplate();\n    List&lt;Student&gt; people = restTemplate.exchange(&quot;https://some.url.com&quot;, ...other params);\n    return people;\n}\n</code></pre>\n<p>This bean should be a singleton by default, so it should be the same list provided anywhere else a <code>List&lt;Student&gt;</code> is injected (either through constructor injection or with <code>@Autowired</code>)</p>\n<p>If you are needing to use the RestTemplate in other places, you can make that a bean as well, which I believe you’ve already done, and inject it via constructor.</p>\n<pre><code>@Bean\npublic List&lt;Student&gt; getStudents(RestTemplate restTemplate) {\n    List&lt;Student&gt; people = restTemplate.exchange(&quot;https://some.url.com&quot;, ...other params);\n    return people;\n}\n</code></pre>\n<p>Edit: I did a bit more research and it seems to make the list accessible, you may need to use <code>@Resource</code> instead of <code>@Autowired</code> as suggested here\n<a href=\"https://stackoverflow.com/questions/2416056/how-to-define-a-list-bean-in-spring\">how to define a list bean in spring</a></p>\n"},{"tags":[],"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678146015,"creation_date":1678146015,"answer_id":75656795,"question_id":75633154,"body_markdown":"Don&#39;t make a bean of `List&lt;Student&gt;`. Make a business class with a `public List&lt;Student&gt; getStudents()` method - this class should be a bean.","title":"How to share the ArrayList across spring boot","body":"<p>Don't make a bean of <code>List&lt;Student&gt;</code>. Make a business class with a <code>public List&lt;Student&gt; getStudents()</code> method - this class should be a bean.</p>\n"}],"owner":{"account_id":24725031,"reputation":79,"user_id":18613635,"display_name":"Gwenda Thomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75633416,"answer_count":2,"score":0,"last_activity_date":1678146015,"creation_date":1677893894,"question_id":75633154,"body_markdown":"I have a java application that uses aws kinesis stream. \r\n\r\nIn the application, I get the student data in real time via kinesis stream and I have to make some action depending on the student id. \r\n\r\nThere is a list of students that I need to query from the database, and the each student from kinesis stream needs a checking if the student is in the list or not. \r\n\r\nHowever I would like to query the list of students to the database only once, because that is one of the requirements. \r\n\r\nOn top of that I would like to make the query as soon as the application starts; that way if the query fails we can also fail the application. In other words, if the query does not succeed the application should not run.\r\n\r\nThis is what I would like to do\r\n\r\n```groovy\r\n@SpringBootApplication\r\n@EnabledScheduling\r\n@EnableCaching\r\n@Configuration\r\nclass Application implements CommandLineRuner {\r\n\r\n  @Autowired\r\n  RestTemplate restTemplate\r\n\r\n  @Autowired\r\n  List&lt;Student&gt; students\r\n\r\n  static void main(String[] args) {\r\n    SpringApplication app = new SpringApplication(Application);\r\n    app.webApplicationType = WebApplicationType.NONE;\r\n    app.run(args)\r\n  }\r\n\r\n  @Overrde\r\n  void run(String... args) thows Exception {\r\n    try {\r\n      // make a request\r\n      List&lt;Student&gt; people = this.restTemplate.exchange(&quot;https://some.url.com&quot;, ...other params)\r\n      this.students = people\r\n\r\n      // running kcl worker\r\n      KclConsumer.kclWorker.run()\r\n    } catch (Exception ex) {\r\n      ....\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n```groovy\r\n@Service\r\nclass SomeService {\r\n\r\n  @Autowired\r\n  RestTemplate restTemplate\r\n\r\n  @Autowired\r\n  List&lt;Student&gt; students\r\n\r\n  void func(Student id) {\r\n    this.students.each {\r\n      if(id == it.id) {\r\n        println(&quot;found you&quot;)\r\n        return;\r\n      }\r\n    }\r\n    println(&quot;not found&quot;)\r\n  }\r\n}\r\n```\r\nI have tried creating the bean and share across the project as following but it does not seem to work...\r\n\r\n```groovy\r\nclass SomeConfig {\r\n  @Bean\r\n  List&lt;Student&gt; students() {\r\n    return new ArrayList&lt;&gt;();\r\n  }\r\n}\r\n```\r\n\r\nI am guess how I am using bean is wrong. \r\nCan someone help me with my code please? \r\nThank you in advance","title":"How to share the ArrayList across spring boot","body":"<p>I have a java application that uses aws kinesis stream.</p>\n<p>In the application, I get the student data in real time via kinesis stream and I have to make some action depending on the student id.</p>\n<p>There is a list of students that I need to query from the database, and the each student from kinesis stream needs a checking if the student is in the list or not.</p>\n<p>However I would like to query the list of students to the database only once, because that is one of the requirements.</p>\n<p>On top of that I would like to make the query as soon as the application starts; that way if the query fails we can also fail the application. In other words, if the query does not succeed the application should not run.</p>\n<p>This is what I would like to do</p>\n<pre><code>@SpringBootApplication\n@EnabledScheduling\n@EnableCaching\n@Configuration\nclass Application implements CommandLineRuner {\n\n  @Autowired\n  RestTemplate restTemplate\n\n  @Autowired\n  List&lt;Student&gt; students\n\n  static void main(String[] args) {\n    SpringApplication app = new SpringApplication(Application);\n    app.webApplicationType = WebApplicationType.NONE;\n    app.run(args)\n  }\n\n  @Overrde\n  void run(String... args) thows Exception {\n    try {\n      // make a request\n      List&lt;Student&gt; people = this.restTemplate.exchange(&quot;https://some.url.com&quot;, ...other params)\n      this.students = people\n\n      // running kcl worker\n      KclConsumer.kclWorker.run()\n    } catch (Exception ex) {\n      ....\n    }\n  }\n}\n</code></pre>\n<pre><code>@Service\nclass SomeService {\n\n  @Autowired\n  RestTemplate restTemplate\n\n  @Autowired\n  List&lt;Student&gt; students\n\n  void func(Student id) {\n    this.students.each {\n      if(id == it.id) {\n        println(&quot;found you&quot;)\n        return;\n      }\n    }\n    println(&quot;not found&quot;)\n  }\n}\n</code></pre>\n<p>I have tried creating the bean and share across the project as following but it does not seem to work...</p>\n<pre><code>class SomeConfig {\n  @Bean\n  List&lt;Student&gt; students() {\n    return new ArrayList&lt;&gt;();\n  }\n}\n</code></pre>\n<p>I am guess how I am using bean is wrong.\nCan someone help me with my code please?\nThank you in advance</p>\n"},{"tags":["java","multithreading","spring-boot","threadpool"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1678146310,"post_id":75656777,"comment_id":133473716,"body_markdown":"Where is the error? I don&#39;t see a cast.","body":"Where is the error? I don&#39;t see a cast."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678146921,"post_id":75656777,"comment_id":133473809,"body_markdown":"Possibly some code (e.g., some decorator/proxy?) is invoking a method on your `FutureImpl` (e.g., `thenAccept`) and that&#39;s returning a plain `CompletableFuture`. If that&#39;s the case, then try overriding [`newIncompleteFuture()`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/CompletableFuture.html#newIncompleteFuture()) as well and see if that fixes the error.","body":"Possibly some code (e.g., some decorator/proxy?) is invoking a method on your <code>FutureImpl</code> (e.g., <code>thenAccept</code>) and that&#39;s returning a plain <code>CompletableFuture</code>. If that&#39;s the case, then try overriding <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/CompletableFuture.html#newIncompleteFuture()\" rel=\"nofollow noreferrer\"><code>newIncompleteFuture()</code></a> as well and see if that fixes the error."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678146954,"post_id":75656777,"comment_id":133473817,"body_markdown":"But note your override of `cancel` is not doing what you think. `Thread.currentThread().interrupt()` is interrupting the thread which called `cancel`, not the thread that&#39;s executing the future&#39;s action.","body":"But note your override of <code>cancel</code> is not doing what you think. <code>Thread.currentThread().interrupt()</code> is interrupting the thread which called <code>cancel</code>, not the thread that&#39;s executing the future&#39;s action."},{"owner":{"account_id":18807214,"reputation":45,"user_id":13716265,"display_name":"Thorvas"},"score":0,"creation_date":1678181685,"post_id":75656777,"comment_id":133479411,"body_markdown":"Then how may I interrupt thread that is executing future&#39;s action? I don&#39;t want to double up threads&#39; number","body":"Then how may I interrupt thread that is executing future&#39;s action? I don&#39;t want to double up threads&#39; number"}],"owner":{"account_id":18807214,"reputation":45,"user_id":13716265,"display_name":"Thorvas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678145707,"creation_date":1678145707,"question_id":75656777,"body_markdown":"I need to override ```cancel()``` method in ```CompletableFuture&lt;T&gt;``` class because I need to interrupt thread after timeout specified in ```get()```. Normal ```CompletableFuture&lt;T&gt;``` only throws ```TimeoutException``` after timeout, but threads are still stuck with some infinite task. If there is other solution, please, correct me but currently I am trying to instantiate ```FutureImpl&lt;T&gt;```. However, I receive an error with message:\r\n```\r\nclass java.util.concurrent.CompletableFuture cannot be cast to class FutureImpl (java.util.concurrent.CompletableFuture is in module java.base of loader &#39;bootstrap&#39;; FutureImpl is in unnamed module of loader &#39;app&#39;)\r\n```\r\n\r\nI extend ```CompletableFuture&lt;T&gt;``` like that:\r\n```\r\npublic class FutureImpl&lt;T&gt; extends CompletableFuture&lt;T&gt; {\r\n\r\n    @Override\r\n    public boolean cancel(boolean mayInterruptIfRunning) {\r\n        boolean result = super.cancel(mayInterruptIfRunning);\r\n        if (mayInterruptIfRunning &amp;&amp; result) {\r\n            System.out.println(&quot;Really cancelled&quot;);\r\n            Thread.currentThread().interrupt();\r\n        }\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI have snippet of code (it implements method in interface)\r\n\r\n```\r\n@Override\r\n    @Async(&quot;Executor&quot;)\r\n    public FutureImpl&lt;String&gt; process() {\r\n        FutureImpl&lt;String&gt; newFuture = new FutureImpl&lt;String&gt;();\r\n        System.out.println(newFuture.getClass());\r\n\r\n        try {\r\n            //Do something long\r\n            newFuture.complete(&quot;RESULT&quot;);\r\n\r\n        } catch (Exception exc){\r\n            newFuture.completeExceptionally(exc);\r\n        }\r\n        return newFuture;\r\n    }\r\n}\r\n```\r\n\r\nAnd I also have this snippet of code:\r\n```\r\n    @Inject\r\n    private WorkerService workerService;\r\n\r\n    //An example PostMapping for service test in Postman\r\n    @GetMapping\r\n    @Async(&quot;TARWS-Executor&quot;)\r\n    public void testService() {\r\n        FutureImpl&lt;String&gt; future = workerService.process();\r\n\r\n        try {\r\n            future.get(5, TimeUnit.SECONDS);\r\n        } catch (InterruptedException | ExecutionException | TimeoutException exc) {\r\n            future.cancel(true);\r\n        }\r\n\r\n    }\r\n\r\n```\r\n","title":"Custom CompletableFuture class - incompatible casting despite having correct return","body":"<p>I need to override <code>cancel()</code> method in <code>CompletableFuture&lt;T&gt;</code> class because I need to interrupt thread after timeout specified in <code>get()</code>. Normal <code>CompletableFuture&lt;T&gt;</code> only throws <code>TimeoutException</code> after timeout, but threads are still stuck with some infinite task. If there is other solution, please, correct me but currently I am trying to instantiate <code>FutureImpl&lt;T&gt;</code>. However, I receive an error with message:</p>\n<pre><code>class java.util.concurrent.CompletableFuture cannot be cast to class FutureImpl (java.util.concurrent.CompletableFuture is in module java.base of loader 'bootstrap'; FutureImpl is in unnamed module of loader 'app')\n</code></pre>\n<p>I extend <code>CompletableFuture&lt;T&gt;</code> like that:</p>\n<pre><code>public class FutureImpl&lt;T&gt; extends CompletableFuture&lt;T&gt; {\n\n    @Override\n    public boolean cancel(boolean mayInterruptIfRunning) {\n        boolean result = super.cancel(mayInterruptIfRunning);\n        if (mayInterruptIfRunning &amp;&amp; result) {\n            System.out.println(&quot;Really cancelled&quot;);\n            Thread.currentThread().interrupt();\n        }\n        return result;\n    }\n}\n</code></pre>\n<p>I have snippet of code (it implements method in interface)</p>\n<pre><code>@Override\n    @Async(&quot;Executor&quot;)\n    public FutureImpl&lt;String&gt; process() {\n        FutureImpl&lt;String&gt; newFuture = new FutureImpl&lt;String&gt;();\n        System.out.println(newFuture.getClass());\n\n        try {\n            //Do something long\n            newFuture.complete(&quot;RESULT&quot;);\n\n        } catch (Exception exc){\n            newFuture.completeExceptionally(exc);\n        }\n        return newFuture;\n    }\n}\n</code></pre>\n<p>And I also have this snippet of code:</p>\n<pre><code>    @Inject\n    private WorkerService workerService;\n\n    //An example PostMapping for service test in Postman\n    @GetMapping\n    @Async(&quot;TARWS-Executor&quot;)\n    public void testService() {\n        FutureImpl&lt;String&gt; future = workerService.process();\n\n        try {\n            future.get(5, TimeUnit.SECONDS);\n        } catch (InterruptedException | ExecutionException | TimeoutException exc) {\n            future.cancel(true);\n        }\n\n    }\n\n</code></pre>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678144836,"creation_date":1678144836,"answer_id":75656705,"question_id":75656381,"body_markdown":"You&#39;d need to write your own loop to do this. The TCP request will fail to connect if the broker is down. The config `retries` for a producer is for handling _transient_ errors, on sending data itself, not establishing broker connections. \r\n\r\nAlso, note that `2147483647` is the default retries value, so there is no reason to explicitly set it to a lower value in this case. ","title":"Kafka retry property not working as expected","body":"<p>You'd need to write your own loop to do this. The TCP request will fail to connect if the broker is down. The config <code>retries</code> for a producer is for handling <em>transient</em> errors, on sending data itself, not establishing broker connections.</p>\n<p>Also, note that <code>2147483647</code> is the default retries value, so there is no reason to explicitly set it to a lower value in this case.</p>\n"}],"owner":{"account_id":27836545,"reputation":37,"user_id":21253875,"display_name":"Inessa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75656705,"answer_count":1,"score":0,"last_activity_date":1678144836,"creation_date":1678141347,"question_id":75656381,"body_markdown":"I have setup up Kafka using version 2.8.1 with the basic configuration as 1 Broker 1 Topic and 1 Partition.\r\nI use the following code to send\r\n\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        //1. Create producer configuration information\r\n        Properties properties = new Properties();\r\n        properties.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG,&quot;localhost:19092&quot;);\r\n        properties.put(&quot;max.block.ms&quot;,&quot;5000&quot;);\r\n        properties.put(&quot;retries&quot;,&quot;3&quot;);\r\n        properties.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n        properties.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n\r\n        //2. Create producer object\r\n        KafkaProducer&lt;String,String&gt; producer = new KafkaProducer&lt;String, String&gt;(properties);\r\n\r\n        final CountDownLatch countDownLatch = new CountDownLatch(1);\r\n       \r\n        //3. Send data\r\n            producer.send(new ProducerRecord&lt;String, String&gt;(&quot;test&quot;,&quot;CallBack--1&quot;), new Callback() {\r\n                public void onCompletion(RecordMetadata metadata, Exception exception) {\r\n                    if (exception == null){\r\n                        System.out.println(metadata.partition()+&quot;==&quot;+metadata.offset());\r\n                        countDownLatch.countDown();\r\n                    }else {\r\n                        System.out.println(&quot;Error!!!&quot;);\r\n                        exception.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n\r\n        countDownLatch.await(60, TimeUnit.SECONDS);\r\n\r\n\r\n        //4. Close resources\r\n        producer.close();\r\n    }\r\n\r\n\r\n\r\nBoth my Broker &amp; Zookeeper are down and I expect `Error!!` to appear in the log 3 times, but nothing happens after the error `org.apache.kafka.common.errors.TimeoutException: Topic test not present in metadata after 5000 ms`.How can I set up repeats when the broker is unavailable?","title":"Kafka retry property not working as expected","body":"<p>I have setup up Kafka using version 2.8.1 with the basic configuration as 1 Broker 1 Topic and 1 Partition.\nI use the following code to send</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n    //1. Create producer configuration information\n    Properties properties = new Properties();\n    properties.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG,&quot;localhost:19092&quot;);\n    properties.put(&quot;max.block.ms&quot;,&quot;5000&quot;);\n    properties.put(&quot;retries&quot;,&quot;3&quot;);\n    properties.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n    properties.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n\n    //2. Create producer object\n    KafkaProducer&lt;String,String&gt; producer = new KafkaProducer&lt;String, String&gt;(properties);\n\n    final CountDownLatch countDownLatch = new CountDownLatch(1);\n   \n    //3. Send data\n        producer.send(new ProducerRecord&lt;String, String&gt;(&quot;test&quot;,&quot;CallBack--1&quot;), new Callback() {\n            public void onCompletion(RecordMetadata metadata, Exception exception) {\n                if (exception == null){\n                    System.out.println(metadata.partition()+&quot;==&quot;+metadata.offset());\n                    countDownLatch.countDown();\n                }else {\n                    System.out.println(&quot;Error!!!&quot;);\n                    exception.printStackTrace();\n                }\n            }\n        });\n\n    countDownLatch.await(60, TimeUnit.SECONDS);\n\n\n    //4. Close resources\n    producer.close();\n}\n</code></pre>\n<p>Both my Broker &amp; Zookeeper are down and I expect <code>Error!!</code> to appear in the log 3 times, but nothing happens after the error <code>org.apache.kafka.common.errors.TimeoutException: Topic test not present in metadata after 5000 ms</code>.How can I set up repeats when the broker is unavailable?</p>\n"},{"tags":["java","asynchronous","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678144688,"creation_date":1678144688,"answer_id":75656693,"question_id":75656643,"body_markdown":"The first send request is blocking to create the topic. \r\n\r\nAlso, your `after` should be within the lamdba callback body. ","title":"How kafka producer works in asynchronous mode","body":"<p>The first send request is blocking to create the topic.</p>\n<p>Also, your <code>after</code> should be within the lamdba callback body.</p>\n"}],"owner":{"account_id":18476555,"reputation":517,"user_id":13459947,"display_name":"Violetta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75656693,"answer_count":1,"score":0,"last_activity_date":1678144688,"creation_date":1678144085,"question_id":75656643,"body_markdown":"I have a simple code to send a message\r\n```\r\n    private static void send(KafkaProducer&lt;String, String&gt; producer) {\r\n        System.out.println(Thread.currentThread()+&quot; before&quot;);\r\n        producer.send(new ProducerRecord&lt;String, String&gt;(&quot;test&quot;, &quot;test&quot;), (metadata, exception) -&gt; {\r\n            if (exception == null) {\r\n                System.out.println(metadata.partition());\r\n            } else {\r\n                exception.printStackTrace();\r\n            }\r\n        });\r\n        System.out.println(Thread.currentThread()+&quot; after&quot;);\r\n    }\r\n```\r\nAnd kafka config\r\n```\r\n        Properties properties = new Properties();\r\n        properties.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9091&quot;);\r\n        properties.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n        properties.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n\r\n        KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(properties);\r\n```\r\nMy kafka is shutdown.\r\n\r\nI expected if I call send twice\r\n```\r\n        send(producer);\r\n        send(producer);\r\n```\r\n, I will get two `Thread before` records one after the other since we are working in asynchronous mode\r\n```\r\nThread before\r\nThread before\r\n\r\n```\r\nBut I see the start of processing the second record only after the error of the first\r\n```\r\nThread[main,5,main] before\r\norg.apache.kafka.common.errors.TimeoutException: Topic test not present in metadata after 60000 ms.\r\nThread[main,5,main] after\r\nThread[main,5,main] before\r\n```\r\n\r\nI think I misunderstood kafka&#39;s asynchronous mode","title":"How kafka producer works in asynchronous mode","body":"<p>I have a simple code to send a message</p>\n<pre><code>    private static void send(KafkaProducer&lt;String, String&gt; producer) {\n        System.out.println(Thread.currentThread()+&quot; before&quot;);\n        producer.send(new ProducerRecord&lt;String, String&gt;(&quot;test&quot;, &quot;test&quot;), (metadata, exception) -&gt; {\n            if (exception == null) {\n                System.out.println(metadata.partition());\n            } else {\n                exception.printStackTrace();\n            }\n        });\n        System.out.println(Thread.currentThread()+&quot; after&quot;);\n    }\n</code></pre>\n<p>And kafka config</p>\n<pre><code>        Properties properties = new Properties();\n        properties.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9091&quot;);\n        properties.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n        properties.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n\n        KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(properties);\n</code></pre>\n<p>My kafka is shutdown.</p>\n<p>I expected if I call send twice</p>\n<pre><code>        send(producer);\n        send(producer);\n</code></pre>\n<p>, I will get two <code>Thread before</code> records one after the other since we are working in asynchronous mode</p>\n<pre><code>Thread before\nThread before\n\n</code></pre>\n<p>But I see the start of processing the second record only after the error of the first</p>\n<pre><code>Thread[main,5,main] before\norg.apache.kafka.common.errors.TimeoutException: Topic test not present in metadata after 60000 ms.\nThread[main,5,main] after\nThread[main,5,main] before\n</code></pre>\n<p>I think I misunderstood kafka's asynchronous mode</p>\n"},{"tags":["java","servlets","deployment","netbeans","tomcat9"],"answers":[{"tags":[],"owner":{"account_id":27951943,"reputation":1,"user_id":21345560,"display_name":"Kandarp Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678144659,"creation_date":1678144659,"answer_id":75656690,"question_id":75154273,"body_markdown":"Here the problem is with the User Profile Folder&#39;s Name.\r\nThe space in that folder&#39;s name (Ayush Singh) creates a problem.\r\nI&#39;m not sure that is windows error or netbeans error but try running netbeans into other user account with name which does not have space or other special characters in between like Ayush.\r\nThis was the error with me as well and I tried above steps and it worked.","title":"Netbeans fails to deploy web application on tomcat","body":"<p>Here the problem is with the User Profile Folder's Name.\nThe space in that folder's name (Ayush Singh) creates a problem.\nI'm not sure that is windows error or netbeans error but try running netbeans into other user account with name which does not have space or other special characters in between like Ayush.\nThis was the error with me as well and I tried above steps and it worked.</p>\n"}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678144659,"creation_date":1674010381,"question_id":75154273,"body_markdown":"I am using **NetBeans IDE** for building Servlet Applications. When I build and try to deploy on Tomcat I get the following errors-\r\n```\r\nIn-place deployment at D:\\SpringBootProjects\\Servlets\\urlrewritingsample\\build\\web\r\nDeployment is in progress...\r\ndeploy?config=file%3A%2FC%3A%2FUsers%2FAyush%2520Singh%2FAppData%2FLocal%2FTemp%2Fcontext1073696000555366189.xml&amp;path=/urlrewritingsample\r\nFAIL - Failed to deploy application at context path [/urlrewritingsample]\r\nD:\\SpringBootProjects\\Servlets\\urlrewritingsample\\nbproject\\build-impl.xml:1030: The module has not been deployed.\r\nSee the server log for details.\r\nBUILD FAILED (total time: 0 seconds)\r\n``` \r\n\r\nTomcat log messages-\r\n```\r\n18-Jan-2023 08:19:54.047 SEVERE [http-nio-8080-exec-6] org.apache.catalina.startup.ExpandWar.copy Error copying [C:\\Users\\Ayush%20Singh\\AppData\\Local\\Temp\\context125052041248512568.xml] to [C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\conf\\Catalina\\localhost\\urlrewritingsample.xml]\r\n\tjava.io.FileNotFoundException: C:\\Users\\Ayush%20Singh\\AppData\\Local\\Temp\\context125052041248512568.xml (The system cannot find the path specified)\r\n\t\tat java.base/java.io.FileInputStream.open0(Native Method)\r\n\t\tat java.base/java.io.FileInputStream.open(FileInputStream.java:216)\r\n\t\tat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\r\n\t\tat org.apache.catalina.startup.ExpandWar.copy(ExpandWar.java:269)\r\n\t\tat org.apache.catalina.manager.ManagerServlet.deploy(ManagerServlet.java:1006)\r\n\t\tat org.apache.catalina.manager.ManagerServlet.doGet(ManagerServlet.java:357)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:126)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:660)\r\n\t\tat org.apache.catalina.valves.RequestFilterValve.process(RequestFilterValve.java:378)\r\n\t\tat org.apache.catalina.valves.RemoteAddrValve.invoke(RemoteAddrValve.java:56)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nCan somebody please explain the reason for this error and how to resolve it?","title":"Netbeans fails to deploy web application on tomcat","body":"<p>I am using <strong>NetBeans IDE</strong> for building Servlet Applications. When I build and try to deploy on Tomcat I get the following errors-</p>\n<pre><code>In-place deployment at D:\\SpringBootProjects\\Servlets\\urlrewritingsample\\build\\web\nDeployment is in progress...\ndeploy?config=file%3A%2FC%3A%2FUsers%2FAyush%2520Singh%2FAppData%2FLocal%2FTemp%2Fcontext1073696000555366189.xml&amp;path=/urlrewritingsample\nFAIL - Failed to deploy application at context path [/urlrewritingsample]\nD:\\SpringBootProjects\\Servlets\\urlrewritingsample\\nbproject\\build-impl.xml:1030: The module has not been deployed.\nSee the server log for details.\nBUILD FAILED (total time: 0 seconds)\n</code></pre>\n<p>Tomcat log messages-</p>\n<pre><code>18-Jan-2023 08:19:54.047 SEVERE [http-nio-8080-exec-6] org.apache.catalina.startup.ExpandWar.copy Error copying [C:\\Users\\Ayush%20Singh\\AppData\\Local\\Temp\\context125052041248512568.xml] to [C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\conf\\Catalina\\localhost\\urlrewritingsample.xml]\n    java.io.FileNotFoundException: C:\\Users\\Ayush%20Singh\\AppData\\Local\\Temp\\context125052041248512568.xml (The system cannot find the path specified)\n        at java.base/java.io.FileInputStream.open0(Native Method)\n        at java.base/java.io.FileInputStream.open(FileInputStream.java:216)\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\n        at org.apache.catalina.startup.ExpandWar.copy(ExpandWar.java:269)\n        at org.apache.catalina.manager.ManagerServlet.deploy(ManagerServlet.java:1006)\n        at org.apache.catalina.manager.ManagerServlet.doGet(ManagerServlet.java:357)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:126)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:660)\n        at org.apache.catalina.valves.RequestFilterValve.process(RequestFilterValve.java:378)\n        at org.apache.catalina.valves.RemoteAddrValve.invoke(RemoteAddrValve.java:56)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>Can somebody please explain the reason for this error and how to resolve it?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":2702906,"reputation":22668,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1429704196,"post_id":29796651,"comment_id":47721980,"body_markdown":"Maybe this [Spring documentation](http://docs.spring.io/spring/docs/current/spring-framework-reference/html/scheduling.html#scheduling-annotation-support) could help to solve your problem.","body":"Maybe this <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/scheduling.html#scheduling-annotation-support\" rel=\"nofollow noreferrer\">Spring documentation</a> could help to solve your problem."}],"answers":[{"comments":[{"owner":{"account_id":60584,"reputation":9058,"user_id":180904,"accept_rate":83,"display_name":"Ashika Umanga Umagiliya"},"score":8,"creation_date":1492577350,"post_id":35017579,"comment_id":74028442,"body_markdown":"is this possible to have different thead-pool for different @Scheduled annotation ?","body":"is this possible to have different thead-pool for different @Scheduled annotation ?"},{"owner":{"account_id":3682492,"reputation":81,"user_id":3067129,"display_name":"Siva Atta"},"score":2,"creation_date":1501446342,"post_id":35017579,"comment_id":77768940,"body_markdown":"different ThreadPoolTaskScheduler s can be created and use threadPoolTaskScheduler.schedule methods.","body":"different ThreadPoolTaskScheduler s can be created and use threadPoolTaskScheduler.schedule methods."},{"owner":{"account_id":1028549,"reputation":10245,"user_id":1037316,"accept_rate":86,"display_name":"G. Demecki"},"score":0,"creation_date":1511527072,"post_id":35017579,"comment_id":81901452,"body_markdown":"@AshikaUmangaUmagiliya No, it&#39;s not possible AFAIK. @Scheduled will always use the default task scheduler (you can look at the `ScheduledAnnotationBeanPostProcessor`). To be able to schedule tasks to different thread pools, just create another pools with built-in Java `java.util.concurrent.Executors`.","body":"@AshikaUmangaUmagiliya No, it&#39;s not possible AFAIK. @Scheduled will always use the default task scheduler (you can look at the <code>ScheduledAnnotationBeanPostProcessor</code>). To be able to schedule tasks to different thread pools, just create another pools with built-in Java <code>java.util.concurrent.Executors</code>."},{"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"score":0,"creation_date":1645788327,"post_id":35017579,"comment_id":125969130,"body_markdown":"This methods created 100 thread even previous thread are stopped, is there any way to set a maximum nr higher but keep the running thread lower?","body":"This methods created 100 thread even previous thread are stopped, is there any way to set a maximum nr higher but keep the running thread lower?"}],"tags":[],"owner":{"account_id":7713866,"reputation":1037,"user_id":5842306,"display_name":"Arie Z."},"comment_count":4,"down_vote_count":0,"up_vote_count":92,"is_accepted":false,"score":92,"last_activity_date":1511530675,"creation_date":1453822300,"answer_id":35017579,"question_id":29796651,"body_markdown":"Yes, all `@Scheduled` methods share a single thread by default.\r\nIt is possible to override this behavior by defining a `@Configuration` such as this:\r\n\r\n    @Configuration\r\n    public class SchedulingConfigurerConfiguration implements SchedulingConfigurer {\r\n\r\n        @Override\r\n        public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\r\n            ThreadPoolTaskScheduler taskScheduler = new ThreadPoolTaskScheduler();\r\n            taskScheduler.setPoolSize(100);\r\n            taskScheduler.initialize();\r\n            taskRegistrar.setTaskScheduler(taskScheduler);\r\n        }\r\n    }\r\n\r\nThis example ensures that all `@Scheduled` methods share a thread pool of size 100.","title":"What is the default scheduler pool size in spring-boot?","body":"<p>Yes, all <code>@Scheduled</code> methods share a single thread by default.\nIt is possible to override this behavior by defining a <code>@Configuration</code> such as this:</p>\n\n<pre><code>@Configuration\npublic class SchedulingConfigurerConfiguration implements SchedulingConfigurer {\n\n    @Override\n    public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\n        ThreadPoolTaskScheduler taskScheduler = new ThreadPoolTaskScheduler();\n        taskScheduler.setPoolSize(100);\n        taskScheduler.initialize();\n        taskRegistrar.setTaskScheduler(taskScheduler);\n    }\n}\n</code></pre>\n\n<p>This example ensures that all <code>@Scheduled</code> methods share a thread pool of size 100.</p>\n"},{"comments":[{"owner":{"account_id":104003,"reputation":933,"user_id":278279,"accept_rate":96,"display_name":"Sergey"},"score":0,"creation_date":1587122851,"post_id":58063399,"comment_id":108390817,"body_markdown":"doesn work if you enable it in the same class with @EnableScheduling","body":"doesn work if you enable it in the same class with @EnableScheduling"}],"tags":[],"owner":{"account_id":3041527,"reputation":1728,"user_id":2578409,"display_name":"Bruce"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569244745,"creation_date":1569244745,"answer_id":58063399,"question_id":29796651,"body_markdown":"a very simple way to do this:\r\n\r\n```java\r\n@Configuration\r\npublic class ScheduleConfig {\r\n  ScheduleConfig(ThreadPoolTaskScheduler threadPoolTaskScheduler) {\r\n    threadPoolTaskScheduler.setPoolSize(10);\r\n  }\r\n}\r\n```","title":"What is the default scheduler pool size in spring-boot?","body":"<p>a very simple way to do this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class ScheduleConfig {\n  ScheduleConfig(ThreadPoolTaskScheduler threadPoolTaskScheduler) {\n    threadPoolTaskScheduler.setPoolSize(10);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12863622,"reputation":2586,"user_id":9304616,"display_name":"Lebecca"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1577368343,"creation_date":1577368343,"answer_id":59489421,"question_id":29796651,"body_markdown":"The default scheduler pool size in spring-boot is **only one**.\r\n\r\nIn `org.springframework.scheduling.config.ScheduledTaskRegistrar`:\r\n\r\n```java\r\n\t/**\r\n\t * Schedule all registered tasks against the underlying\r\n\t * {@linkplain #setTaskScheduler(TaskScheduler) task scheduler}.\r\n\t */\r\n\t@SuppressWarnings(&quot;deprecation&quot;)\r\n\tprotected void scheduleTasks() {\r\n\t\tif (this.taskScheduler == null) {\r\n\t\t\tthis.localExecutor = Executors.newSingleThreadScheduledExecutor();\r\n\t\t\tthis.taskScheduler = new ConcurrentTaskScheduler(this.localExecutor);\r\n\t\t}\r\n        ...\r\n    }\r\n\r\n```","title":"What is the default scheduler pool size in spring-boot?","body":"<p>The default scheduler pool size in spring-boot is <strong>only one</strong>.</p>\n\n<p>In <code>org.springframework.scheduling.config.ScheduledTaskRegistrar</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    /**\n     * Schedule all registered tasks against the underlying\n     * {@linkplain #setTaskScheduler(TaskScheduler) task scheduler}.\n     */\n    @SuppressWarnings(\"deprecation\")\n    protected void scheduleTasks() {\n        if (this.taskScheduler == null) {\n            this.localExecutor = Executors.newSingleThreadScheduledExecutor();\n            this.taskScheduler = new ConcurrentTaskScheduler(this.localExecutor);\n        }\n        ...\n    }\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4095196,"reputation":1305,"user_id":3362191,"accept_rate":70,"display_name":"Taugenichts"},"score":4,"creation_date":1618074056,"post_id":59559914,"comment_id":118494473,"body_markdown":"I was having trouble finding the documentation for this property at first, so here&#39;s a link to it for others who want to confirm this is correct: https://www.docs4dev.com/docs/en/spring-boot/2.1.1.RELEASE/reference/boot-features-task-execution-scheduling.html","body":"I was having trouble finding the documentation for this property at first, so here&#39;s a link to it for others who want to confirm this is correct: <a href=\"https://www.docs4dev.com/docs/en/spring-boot/2.1.1.RELEASE/reference/boot-features-task-execution-scheduling.html\" rel=\"nofollow noreferrer\">docs4dev.com/docs/en/spring-boot/2.1.1.RELEASE/reference/&hellip;</a>"},{"owner":{"account_id":222726,"reputation":3846,"user_id":481528,"accept_rate":67,"display_name":"selalerer"},"score":3,"creation_date":1622539792,"post_id":59559914,"comment_id":119814860,"body_markdown":"Official docs:\nhttps://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.task-execution-and-scheduling","body":"Official docs: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.task-execution-and-scheduling\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingle&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":7704295,"reputation":359,"user_id":5835694,"display_name":"Loc Truong"},"score":0,"creation_date":1624952693,"post_id":59559914,"comment_id":120490726,"body_markdown":"This solution is more elegant, as we can change config without redeploying the application.","body":"This solution is more elegant, as we can change config without redeploying the application."},{"owner":{"account_id":116723,"reputation":30387,"user_id":305973,"accept_rate":67,"display_name":"robinst"},"score":4,"creation_date":1633083947,"post_id":59559914,"comment_id":122671576,"body_markdown":"Note that if you or any of your dependencies define a `SchedulingConfigurer` bean, the `spring.task.scheduling.pool.size` will *not* be used anymore -- because `TaskSchedulingAutoConfiguration` has a `@ConditionalOnMissingBean({ SchedulingConfigurer.class, ...`","body":"Note that if you or any of your dependencies define a <code>SchedulingConfigurer</code> bean, the <code>spring.task.scheduling.pool.size</code> will <i>not</i> be used anymore -- because <code>TaskSchedulingAutoConfiguration</code> has a <code>@ConditionalOnMissingBean({ SchedulingConfigurer.class, ...</code>"}],"tags":[],"owner":{"account_id":8660948,"reputation":1200,"user_id":6483409,"display_name":"robothy"},"comment_count":4,"down_vote_count":0,"up_vote_count":78,"is_accepted":false,"score":78,"last_activity_date":1678143161,"creation_date":1577951129,"answer_id":59559914,"question_id":29796651,"body_markdown":"The default pool size is 1, and you can set the pool size in `application.properties` since springboot2.1.0 via changing the value of `spring.task.scheduling.pool.size`.\r\n\r\n```\r\nspring.task.scheduling.pool.size=20\r\n```\r\nThe same task will be executed in serialized when the trigger period is shorter than the execution duration. And Spring Boot will execute different tasks in parallel with a maximum of 20 threads.\r\n","title":"What is the default scheduler pool size in spring-boot?","body":"<p>The default pool size is 1, and you can set the pool size in <code>application.properties</code> since springboot2.1.0 via changing the value of <code>spring.task.scheduling.pool.size</code>.</p>\n<pre><code>spring.task.scheduling.pool.size=20\n</code></pre>\n<p>The same task will be executed in serialized when the trigger period is shorter than the execution duration. And Spring Boot will execute different tasks in parallel with a maximum of 20 threads.</p>\n"},{"tags":[],"owner":{"account_id":202467,"reputation":9985,"user_id":449553,"accept_rate":54,"display_name":"msangel"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1604282389,"creation_date":1604282389,"answer_id":64638904,"question_id":29796651,"body_markdown":"Using built-in capabilities and with anotated spring configuration this will be like that:\r\n\r\n```java\r\n    @Bean\r\n    public TaskScheduler taskScheduler() {\r\n        return new ConcurrentTaskScheduler(new ScheduledThreadPoolExecutor(20));\r\n    }\r\n```","title":"What is the default scheduler pool size in spring-boot?","body":"<p>Using built-in capabilities and with anotated spring configuration this will be like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public TaskScheduler taskScheduler() {\n        return new ConcurrentTaskScheduler(new ScheduledThreadPoolExecutor(20));\n    }\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70030,"favorite_count":0,"down_vote_count":0,"up_vote_count":82,"answer_count":5,"score":82,"last_activity_date":1678143161,"creation_date":1429703420,"question_id":29796651,"body_markdown":"I&#39;m using `spring-boot` and `@Scheduled` annotation to execute some tasks.\r\n\r\nHow can I find out what the default pool size of scheduled tasks is by default in spring-boot?\r\n\r\nReason: the following class does not execute the jobs in parallel, but one after the other. Maybe only a single thread executor is configured by default?\r\n\r\n    @Service\r\n    public class ZipFileTesterAsync {\r\n    \r\n        @Scheduled(fixedDelay = 60000, initialDelay = 500)\r\n    \tpublic void run() throws Exception {\r\n        \tSystem.out.println(&quot;import 1&quot;);\r\n    \t    TimeUnit.MINUTES.sleep(1);\r\n    \t    System.out.println(&quot;import 1 finished&quot;);\r\n        }\r\n        \r\n        @Scheduled(fixedDelay = 60000, initialDelay = 1000)\r\n    \tpublic void run2() throws Exception {\r\n        \tSystem.out.println(&quot;import 2&quot;);\r\n    \t    TimeUnit.MINUTES.sleep(1);\r\n        }\r\n    }\r\n\r\nResult: the 2nd job is executed after the first finished.\r\n","title":"What is the default scheduler pool size in spring-boot?","body":"<p>I'm using <code>spring-boot</code> and <code>@Scheduled</code> annotation to execute some tasks.</p>\n\n<p>How can I find out what the default pool size of scheduled tasks is by default in spring-boot?</p>\n\n<p>Reason: the following class does not execute the jobs in parallel, but one after the other. Maybe only a single thread executor is configured by default?</p>\n\n<pre><code>@Service\npublic class ZipFileTesterAsync {\n\n    @Scheduled(fixedDelay = 60000, initialDelay = 500)\n    public void run() throws Exception {\n        System.out.println(\"import 1\");\n        TimeUnit.MINUTES.sleep(1);\n        System.out.println(\"import 1 finished\");\n    }\n\n    @Scheduled(fixedDelay = 60000, initialDelay = 1000)\n    public void run2() throws Exception {\n        System.out.println(\"import 2\");\n        TimeUnit.MINUTES.sleep(1);\n    }\n}\n</code></pre>\n\n<p>Result: the 2nd job is executed after the first finished.</p>\n"},{"tags":["java","image","javafx","jdbc","h2"],"answers":[{"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1678147491,"post_id":75656159,"comment_id":133473913,"body_markdown":"One thing to note is that `ImageIO.write( awtBufferedImage , &quot;jpg&quot; , outputStream );` is a lossy conversion.  So each time you save the image,  it loses some fidelity.  For most apps, where you just save the image once, it won&#39;t be an issue.  But for an image editing app, where you might load and save the same image with small modifications multiple times, you might want to use a lossless format, e.g. png.","body":"One thing to note is that <code>ImageIO.write( awtBufferedImage , &quot;jpg&quot; , outputStream );</code> is a lossy conversion.  So each time you save the image,  it loses some fidelity.  For most apps, where you just save the image once, it won&#39;t be an issue.  But for an image editing app, where you might load and save the same image with small modifications multiple times, you might want to use a lossless format, e.g. png."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1678148346,"post_id":75656159,"comment_id":133474058,"body_markdown":"JavaFX does have it&#39;s own [imageio](https://github.com/openjdk/jfx/tree/86b854dc367fb32743810716da5583f7d59208f8/modules/javafx.graphics/src/main/java/com/sun/javafx/iio) implementation, parts of which (jpeg loading) are [native code](https://github.com/openjdk/jfx/tree/master/modules/javafx.graphics/src/main/native-iio/libjpeg), but the interfaces only support loading not writing and the only public interface is the Image class (everything else is private implementation),","body":"JavaFX does have it&#39;s own <a href=\"https://github.com/openjdk/jfx/tree/86b854dc367fb32743810716da5583f7d59208f8/modules/javafx.graphics/src/main/java/com/sun/javafx/iio\" rel=\"nofollow noreferrer\">imageio</a> implementation, parts of which (jpeg loading) are <a href=\"https://github.com/openjdk/jfx/tree/master/modules/javafx.graphics/src/main/native-iio/libjpeg\" rel=\"nofollow noreferrer\">native code</a>, but the interfaces only support loading not writing and the only public interface is the Image class (everything else is private implementation),"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1678148409,"post_id":75656159,"comment_id":133474074,"body_markdown":"So the `javax.imageio.ImageIO` solution you used is the only realistic solution I know of.  Unless you just save the image byte buffer retrived from a PixelReader or you encode those bytes using some other third party image library.","body":"So the <code>javax.imageio.ImageIO</code> solution you used is the only realistic solution I know of.  Unless you just save the image byte buffer retrived from a PixelReader or you encode those bytes using some other third party image library."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678142230,"creation_date":1678139448,"answer_id":75656159,"question_id":75656158,"body_markdown":"# Example app\r\n\r\nWhile I am no expert on JavaFX/OpenJFX, nor am I an expert on image encoding, I was able to cobble together this crude but effective little app to demonstrate:\r\n\r\n 1. Loading an image from a local file.\r\n 2. Displaying that image in an [`ImageView`][1] field in JavaFX.\r\n 3. Writing that image content to a field in an [H2][2] database.\r\n 4. Showing a list of IDs tracking each saved image. (IDs are [UUID][3]s.)\r\n 5. Retrieving a selected image from database, and displaying in JavaFX.\r\n\r\n[![screenshot of example app showing images displayed while reading and writing to database][4]][4]\r\n\r\nI found various chunks of code for encoding/decoding image data. I do not know what chunks may be old-fashioned or outmoded. All I know is that I got them to work.\r\n\r\nSome used classes from the [AWT][5] and [Swing][6] frameworks bundled with Java. But be aware that this example JavaFX app is [modularized][7], so you must add elements to your `module-info.java` file to access those classes.\r\n\r\nIn this example, the H2 database is configured to be an [in-memory database][8]. This means the stored data is *not* written to storage. When your app ends, the database and all its rows disappear, poof &#128168;.\r\n\r\nThis app was written in Java 19 with OpenJFX 19. \r\n\r\nI starting this app by creating a project using the *JavaFX* template built into the *New Project* dialog box of the [IntelliJ][9] [IDE][10].\r\n\r\nThe code for encoding the image data is found in the two `transform…` methods.\r\n\r\nThe `transformImageIntoInputStream` method takes a JavaFX image object, uses Swing &amp; AWT to create an AWT buffered image (not to be confused with JavaFX image). That buffered image is then converted to an array of `byte`, from which we get an `InputStream`. The input stream can be passed to the JDBC method [`PreparedStatement :: setBlob`][11] to store a [BLOB][12] in the database.\r\n\r\n```java\r\n    @SuppressWarnings ( &quot;UnnecessaryLocalVariable&quot; )\r\n    private InputStream transformImageIntoInputStream ( final Image image )\r\n    {\r\n        BufferedImage awtBufferedImage = SwingFXUtils.fromFXImage( image , null );\r\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n        try\r\n        {\r\n            ImageIO.write( awtBufferedImage , &quot;jpg&quot; , outputStream );\r\n            byte[] res = outputStream.toByteArray();\r\n            InputStream inputStream = new ByteArrayInputStream( res );\r\n            return inputStream;\r\n        }\r\n        catch ( IOException e ) { e.printStackTrace(); }\r\n        throw new IllegalStateException( &quot;Should not reach this point in method `transformImageIntoInputStream`.&quot; );\r\n    }\r\n```\r\n\r\nTo retrieve from the database, we call [`ResultSet :: getBlob`][13] to produce a [`java.sql.Blob`][14] object. We use [`javax.imageio.ImageIO`][15] to read a binary stream obtained from that `Blob` object we retrieved. That produces another AWT buffered image (again, not to be confused with a JavaFX image). We then make use of Swing again to produce a JavaFX image from that AWT image.\r\n\r\n```java\r\n    private Image transformBlobIntoImage ( final Blob blob )\r\n    {\r\n        try\r\n        {\r\n            BufferedImage awtBufferedImage = ImageIO.read( blob.getBinaryStream() );\r\n            Image image = SwingFXUtils.toFXImage( awtBufferedImage , null );\r\n            return image;\r\n        }\r\n        catch ( IOException e ) { throw new RuntimeException( e ); }\r\n        catch ( SQLException e ) { throw new RuntimeException( e ); }\r\n    }\r\n```\r\n\r\nAs noted above, I am no expert on image handling. This sure seems a roundabout way to go to get image data encoded/decoded. And I am surprised to have found only approaches using AWT and Swing rather than straight JavaFX. If anyone knows better approaches, please do post!\r\n\r\n## Source Code\r\n\r\nHere is the entire Java code for the app, in a single file.\r\n\r\n```java\r\n/*\r\n By Basil Bourque.  http://www.Basil.work/\r\n\r\n This code is a response to this Question on Stack Overflow:\r\n &gt; insert an image to a database with javafx\r\n https://stackoverflow.com/q/75632865/642706\r\n\r\n This code was cobbled together quickly, as a starting point\r\n for further learning. Not meant for production use.\r\n Caveat: I an not an expert in JavaFX nor in image encoding.\r\n Use at your own risk.\r\n\r\n This demo app opens a window with five items, running left to right:\r\n • A button to load JPEG files from your local storage.\r\n • An `ImageView` field to show the image you loaded. Defaults to the Java mascot &quot;Duke&quot;, loaded over the internet.\r\n • A button to save the loaded image to an in-memory database using the H2 Database Engine (written in pure Java).\r\n • A list of the UUIDs that each identify an image stored in the database.\r\n • Another `ImageView` field to show the image retrieved from the database per the UUID selected in the list.\r\n*/\r\npackage work.basil.example.fximage;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.beans.value.ObservableValue;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.embed.swing.SwingFXUtils;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ListView;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.stage.FileChooser;\r\nimport javafx.stage.Stage;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport javax.sql.DataSource;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.*;\r\nimport java.sql.*;\r\nimport java.util.Objects;\r\nimport java.util.UUID;\r\n\r\n@SuppressWarnings ( &quot;SqlNoDataSourceInspection&quot; )\r\npublic class App extends Application\r\n{\r\n    @Override\r\n    public void start ( final Stage stage )\r\n    {\r\n        // Widgets  ---------------------------------------\r\n        Button loadFromDesktopButton = new Button( &quot;Open JPEG file…&quot; );\r\n\r\n        String url = &quot;https://www.oracle.com/a/ocom/img/rc24-duke-java-mascot.jpg&quot;;  // Arbitrary example image.\r\n        Image duke = new Image( url );\r\n        ImageView desktopImageView = new ImageView();\r\n        desktopImageView.setImage( duke );\r\n\r\n        desktopImageView.setFitWidth( 300 );\r\n        desktopImageView.setPreserveRatio( true );\r\n        desktopImageView.setSmooth( true );\r\n        desktopImageView.setCache( true );\r\n\r\n        Button storeInDatabaseButton = new Button( &quot;Store in database&quot; );\r\n\r\n        ListView &lt; UUID &gt; listView = new ListView &lt;&gt;();\r\n        listView.setPrefWidth( 300 );\r\n        ObservableList &lt; UUID &gt; ids = FXCollections.observableArrayList();\r\n        listView.setItems( ids );\r\n\r\n        ImageView databaseImageView = new ImageView();\r\n        databaseImageView.setFitWidth( 300 );\r\n        databaseImageView.setPreserveRatio( true );\r\n        databaseImageView.setSmooth( true );\r\n        databaseImageView.setCache( true );\r\n\r\n        // Behavior  --------------------------------------\r\n        DataSource dataSource = this.configureDataSource();\r\n        this.configureDatabase( dataSource );\r\n\r\n        loadFromDesktopButton.setOnAction(\r\n                ( ActionEvent event ) -&gt; this.loadImageFromLocalStorage( stage , desktopImageView )\r\n        );\r\n        storeInDatabaseButton.setOnAction(\r\n                ( ActionEvent event ) -&gt; {\r\n                    Image image = desktopImageView.getImage();\r\n                    UUID id = this.storeImageInDatabase( image , dataSource );\r\n                    ids.add( id );  // Add a list item for the image we just stored in database.\r\n                    listView.getSelectionModel().select( id ); // Select the newly added list item.\r\n                }\r\n        );\r\n\r\n        listView.getSelectionModel().selectedItemProperty().addListener(\r\n                ( ObservableValue &lt; ? extends UUID &gt; observableValue , UUID oldValue , UUID newValue ) -&gt; {\r\n                    Image image = this.fetchImageFromDatabase( newValue , dataSource );\r\n                    databaseImageView.setImage( image );\r\n                }\r\n        );\r\n\r\n        // Layout  --------------------------------------\r\n        stage.setTitle( &quot;Image To Database&quot; );\r\n        HBox root = new HBox();\r\n        root.setPadding( new Insets( 15 , 12 , 15 , 12 ) );\r\n        root.setSpacing( 10 );\r\n        root.setStyle( &quot;-fx-background-color: Grey;&quot; );\r\n\r\n        // Arrange  --------------------------------------\r\n        root.getChildren().add( loadFromDesktopButton );\r\n        root.getChildren().add( desktopImageView );\r\n        root.getChildren().add( storeInDatabaseButton );\r\n        root.getChildren().add( listView );\r\n        root.getChildren().add( databaseImageView );\r\n\r\n        Scene scene = new Scene( root , 1_250 , 300 );\r\n        stage.setScene( scene );\r\n        stage.show();\r\n    }\r\n\r\n\r\n    // Subroutines  --------------------------------------\r\n    private void loadImageFromLocalStorage ( final Stage stage , final ImageView imageView )\r\n    {\r\n        FileChooser fileChooser = new FileChooser();\r\n        fileChooser.setTitle( &quot;Open JPEG file&quot; );\r\n        File file = fileChooser.showOpenDialog( stage );\r\n        if ( file != null )\r\n        {\r\n            System.out.println( file );\r\n            Image image = new Image( file.toURI().toString() );\r\n            imageView.setImage( image );\r\n        }\r\n    }\r\n\r\n    private DataSource configureDataSource ( )\r\n    {\r\n        org.h2.jdbcx.JdbcDataSource ds = new org.h2.jdbcx.JdbcDataSource();  // Implementation of `DataSource` bundled with H2. You may choose to use some other implementation.\r\n        ds.setURL( &quot;jdbc:h2:mem:test;DB_CLOSE_DELAY=-1;&quot; );\r\n        ds.setUser( &quot;scott&quot; );\r\n        ds.setPassword( &quot;tiger&quot; );\r\n        ds.setDescription( &quot;An example database for storing an image.&quot; );\r\n        return ds;\r\n    }\r\n\r\n    private void configureDatabase ( final DataSource dataSource )\r\n    {\r\n        // Create table.\r\n        String sql =\r\n                &quot;&quot;&quot;\r\n                CREATE TABLE IF NOT EXISTS image_\r\n                (\r\n                    id_ uuid NOT NULL ,\r\n                    CONSTRAINT image_pkey_ PRIMARY KEY ( id_ ) ,\r\n                    row_created_ TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP() ,\r\n                    content_ BLOB\r\n                )\r\n                ;\r\n                &quot;&quot;&quot;;\r\n        try (\r\n                Connection conn = dataSource.getConnection() ;\r\n                Statement stmt = conn.createStatement()\r\n        )\r\n        {\r\n            System.out.println( &quot;INFO - Running `configureDatabase` method.&quot; );\r\n            stmt.executeUpdate( sql );\r\n        }\r\n        catch ( SQLException e ) { e.printStackTrace(); }\r\n    }\r\n\r\n\r\n    private UUID storeImageInDatabase ( final Image image , final DataSource dataSource )\r\n    {\r\n        InputStream inputStream = this.transformImageIntoInputStream( Objects.requireNonNull( image ) );\r\n\r\n        // Write to database\r\n        String sql =\r\n                &quot;&quot;&quot;\r\n                INSERT INTO image_ ( id_ , content_ )\r\n                VALUES ( ? , ? )\r\n                ;\r\n                &quot;&quot;&quot;;\r\n        try\r\n                (\r\n                        Connection conn = dataSource.getConnection() ;\r\n                        PreparedStatement preparedStatement = conn.prepareStatement( sql )\r\n                )\r\n        {\r\n            UUID id = UUID.randomUUID(); // In real work, we would retrieve the value generated by the database rather the app.\r\n            preparedStatement.setObject( 1 , id );\r\n            preparedStatement.setBlob( 2 , inputStream );\r\n            int rowCount = preparedStatement.executeUpdate();\r\n            if ( rowCount != 1 ) { throw new IllegalStateException( &quot;SQL insert failed to affect any rows.&quot; ); }\r\n            return id;\r\n        }\r\n        catch ( SQLException e ) { e.printStackTrace(); }\r\n        throw new IllegalStateException( &quot;Should never have reached this point in `storeImageInDatabase` method. &quot; );\r\n    }\r\n\r\n    private Image fetchImageFromDatabase ( final UUID id , final DataSource dataSource )\r\n    {\r\n        byte[] bytes = null;\r\n        String sql =\r\n                &quot;&quot;&quot;\r\n                SELECT *\r\n                FROM image_\r\n                WHERE id_ = ?\r\n                ;\r\n                &quot;&quot;&quot;;\r\n        try\r\n                (\r\n                        Connection conn = dataSource.getConnection() ;\r\n                        PreparedStatement preparedStatement = conn.prepareStatement( sql )\r\n                )\r\n        {\r\n            System.out.println( &quot;DEBUG id = &quot; + id );\r\n            preparedStatement.setObject( 1 , id );\r\n            try (\r\n                    ResultSet resultSet = preparedStatement.executeQuery() ;\r\n            )\r\n            {\r\n                if ( resultSet.next() )\r\n                {\r\n                    System.out.println( &quot;DEBUG resultSet = &quot; + resultSet );\r\n                    Blob blob = resultSet.getBlob( &quot;content_&quot; );\r\n                    System.out.println( &quot;DEBUG blob = &quot; + blob );\r\n                    Image image = this.transformBlobIntoImage( blob );\r\n                    return image;\r\n                }\r\n                else { throw new IllegalStateException( &quot;Failed to find any rows for id: &quot; + id ); }\r\n            }\r\n        }\r\n        catch ( SQLException e ) { e.printStackTrace(); }\r\n        throw new IllegalStateException( &quot;Should never have reached this point in `storeImageInDatabase` method. &quot; );\r\n    }\r\n\r\n\r\n    @SuppressWarnings ( &quot;UnnecessaryLocalVariable&quot; )\r\n    private InputStream transformImageIntoInputStream ( final Image image )\r\n    {\r\n        BufferedImage awtBufferedImage = SwingFXUtils.fromFXImage( image , null );\r\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n        try\r\n        {\r\n            ImageIO.write( awtBufferedImage , &quot;jpg&quot; , outputStream );\r\n            byte[] res = outputStream.toByteArray();\r\n            InputStream inputStream = new ByteArrayInputStream( res );\r\n            return inputStream;\r\n        }\r\n        catch ( IOException e ) { e.printStackTrace(); }\r\n        throw new IllegalStateException( &quot;Should not reach this point in method `transformImageIntoInputStream`.&quot; );\r\n    }\r\n\r\n    private Image transformBlobIntoImage ( final Blob blob )\r\n    {\r\n        try\r\n        {\r\n            BufferedImage awtBufferedImage = ImageIO.read( blob.getBinaryStream() );\r\n            Image image = SwingFXUtils.toFXImage( awtBufferedImage , null );\r\n            return image;\r\n        }\r\n        catch ( IOException e ) { throw new RuntimeException( e ); }\r\n        catch ( SQLException e ) { throw new RuntimeException( e ); }\r\n    }\r\n\r\n    public static void main ( final String[] args )\r\n    {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\nHere is the `module-info.java` file.\r\n\r\n```java\r\nmodule work.basil.example.fximage {\r\n    requires javafx.controls;  // JavaFX/OpenJFX API.\r\n\r\n    requires java.desktop;     // Needed for classes in AWT that convert image to octets.\r\n    requires javafx.swing;     // Needed for `javafx.embed.swing.SwingFXUtils` class to convert image to octets.\r\n\r\n    requires java.sql;         // JDBC API.\r\n    requires java.naming;      // Java Naming and Directory Interface (JNDI) API. Needed for `DataSource` in JDBC.\r\n    requires com.h2database;   // H2 Database Engine.\r\n\r\n    exports work.basil.example.fximage;\r\n}\r\n```\r\n\r\nAnd my [Apache Maven][16] [POM][17] file.\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns = &quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation = &quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;work.basil.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;FxImageToDb&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;FxImage&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-controls --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;19.0.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-swing --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\r\n            &lt;version&gt;19.0.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/com.h2database/h2 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.214&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;19&lt;/source&gt;\r\n                    &lt;target&gt;19&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;work.basil.example.fximage/work.basil.example.fximage.App&lt;/mainClass&gt;\r\n                            &lt;launcher&gt;app&lt;/launcher&gt;\r\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n## Resources\r\n\r\n[*Convert Blob to JPG and update blob*](https://stackoverflow.com/q/27846062/642706)\r\n\r\n[*Java BLOB to image file*](https://stackoverflow.com/q/50427495/642706)\r\n\r\n[*Auto-generate lambda expression as argument in IntelliJ*](https://stackoverflow.com/q/49469666/642706)\r\n\r\n[*JavaFX select item in ListView*](https://stackoverflow.com/q/11088612/642706)\r\n\r\n[*Using JavaFX UI Controls —&#160;11 List View*](https://docs.oracle.com/javafx/2/ui_controls/list-view.htm)\r\n\r\n[*Using JavaFX UI Controls — 26 File Chooser*](https://docs.oracle.com/javafx/2/ui_controls/file-chooser.htm)\r\n\r\n[*How can I show an image using the ImageView component in javafx and fxml?*](https://stackoverflow.com/q/22710053/642706)\r\n\r\nH2 Database Engine documentation for [`BLOB`](http://h2database.com/html/datatypes.html#binary_large_object_type) type and for [discussion of the Large Object][18] types.\r\n\r\nAWT &amp; Swing classes: [`SwingFXUtils`](https://openjfx.io/javadoc/19/javafx.swing/javafx/embed/swing/SwingFXUtils.html) \r\n\r\n[*How to convert a JavaFX ImageView to InputStream*](https://stackoverflow.com/q/49335128/642706)\r\n\r\n[*Saving an image in MySQL from Java*](https://stackoverflow.com/q/15035883/642706)\r\n\r\n[*How to save an image from HTML to a DATABASE using JAVA*](https://stackoverflow.com/q/50783126/642706)\r\n\r\n[*Storing Image in Data Base Using Java in Binary Format*](https://stackoverflow.com/q/21500339/642706)\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/image/ImageView.html\r\n  [2]: https://en.wikipedia.org/wiki/H2_(DBMS)\r\n  [3]: https://en.wikipedia.org/wiki/Universally_unique_identifier\r\n  [4]: https://i.stack.imgur.com/80iZw.jpg\r\n  [5]: https://en.wikipedia.org/wiki/Abstract_Window_Toolkit\r\n  [6]: https://en.wikipedia.org/wiki/Swing_(Java)\r\n  [7]: https://en.wikipedia.org/wiki/Java_Platform_Module_System\r\n  [8]: https://en.wikipedia.org/wiki/In-memory_database\r\n  [9]: https://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n  [10]: https://en.wikipedia.org/wiki/Integrated_development_environment\r\n  [11]: https://docs.oracle.com/en/java/javase/19/docs/api/java.sql/java/sql/PreparedStatement.html#setBlob(int,java.io.InputStream)\r\n  [12]: https://en.wikipedia.org/wiki/Binary_large_object\r\n  [13]: https://docs.oracle.com/en/java/javase/19/docs/api/java.sql/java/sql/ResultSet.html#getBlob(java.lang.String)\r\n  [14]: https://docs.oracle.com/en/java/javase/19/docs/api/java.sql/java/sql/Blob.html\r\n  [15]: https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/javax/imageio/ImageIO.html\r\n  [16]: https://en.wikipedia.org/wiki/Apache_Maven\r\n  [17]: https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\r\n  [18]: http://h2database.com/html/advanced.html#large_objects","title":"Example JavaFX app to read and write JPEG images to a database","body":"<h1>Example app</h1>\n<p>While I am no expert on JavaFX/OpenJFX, nor am I an expert on image encoding, I was able to cobble together this crude but effective little app to demonstrate:</p>\n<ol>\n<li>Loading an image from a local file.</li>\n<li>Displaying that image in an <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/image/ImageView.html\" rel=\"nofollow noreferrer\"><code>ImageView</code></a> field in JavaFX.</li>\n<li>Writing that image content to a field in an <a href=\"https://en.wikipedia.org/wiki/H2_(DBMS)\" rel=\"nofollow noreferrer\">H2</a> database.</li>\n<li>Showing a list of IDs tracking each saved image. (IDs are <a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier\" rel=\"nofollow noreferrer\">UUID</a>s.)</li>\n<li>Retrieving a selected image from database, and displaying in JavaFX.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/80iZw.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/80iZw.jpg\" alt=\"screenshot of example app showing images displayed while reading and writing to database\" /></a></p>\n<p>I found various chunks of code for encoding/decoding image data. I do not know what chunks may be old-fashioned or outmoded. All I know is that I got them to work.</p>\n<p>Some used classes from the <a href=\"https://en.wikipedia.org/wiki/Abstract_Window_Toolkit\" rel=\"nofollow noreferrer\">AWT</a> and <a href=\"https://en.wikipedia.org/wiki/Swing_(Java)\" rel=\"nofollow noreferrer\">Swing</a> frameworks bundled with Java. But be aware that this example JavaFX app is <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\">modularized</a>, so you must add elements to your <code>module-info.java</code> file to access those classes.</p>\n<p>In this example, the H2 database is configured to be an <a href=\"https://en.wikipedia.org/wiki/In-memory_database\" rel=\"nofollow noreferrer\">in-memory database</a>. This means the stored data is <em>not</em> written to storage. When your app ends, the database and all its rows disappear, poof 💨.</p>\n<p>This app was written in Java 19 with OpenJFX 19.</p>\n<p>I starting this app by creating a project using the <em>JavaFX</em> template built into the <em>New Project</em> dialog box of the <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\">IntelliJ</a> <a href=\"https://en.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow noreferrer\">IDE</a>.</p>\n<p>The code for encoding the image data is found in the two <code>transform…</code> methods.</p>\n<p>The <code>transformImageIntoInputStream</code> method takes a JavaFX image object, uses Swing &amp; AWT to create an AWT buffered image (not to be confused with JavaFX image). That buffered image is then converted to an array of <code>byte</code>, from which we get an <code>InputStream</code>. The input stream can be passed to the JDBC method <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.sql/java/sql/PreparedStatement.html#setBlob(int,java.io.InputStream)\" rel=\"nofollow noreferrer\"><code>PreparedStatement :: setBlob</code></a> to store a <a href=\"https://en.wikipedia.org/wiki/Binary_large_object\" rel=\"nofollow noreferrer\">BLOB</a> in the database.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @SuppressWarnings ( &quot;UnnecessaryLocalVariable&quot; )\n    private InputStream transformImageIntoInputStream ( final Image image )\n    {\n        BufferedImage awtBufferedImage = SwingFXUtils.fromFXImage( image , null );\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        try\n        {\n            ImageIO.write( awtBufferedImage , &quot;jpg&quot; , outputStream );\n            byte[] res = outputStream.toByteArray();\n            InputStream inputStream = new ByteArrayInputStream( res );\n            return inputStream;\n        }\n        catch ( IOException e ) { e.printStackTrace(); }\n        throw new IllegalStateException( &quot;Should not reach this point in method `transformImageIntoInputStream`.&quot; );\n    }\n</code></pre>\n<p>To retrieve from the database, we call <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.sql/java/sql/ResultSet.html#getBlob(java.lang.String)\" rel=\"nofollow noreferrer\"><code>ResultSet :: getBlob</code></a> to produce a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.sql/java/sql/Blob.html\" rel=\"nofollow noreferrer\"><code>java.sql.Blob</code></a> object. We use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/javax/imageio/ImageIO.html\" rel=\"nofollow noreferrer\"><code>javax.imageio.ImageIO</code></a> to read a binary stream obtained from that <code>Blob</code> object we retrieved. That produces another AWT buffered image (again, not to be confused with a JavaFX image). We then make use of Swing again to produce a JavaFX image from that AWT image.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private Image transformBlobIntoImage ( final Blob blob )\n    {\n        try\n        {\n            BufferedImage awtBufferedImage = ImageIO.read( blob.getBinaryStream() );\n            Image image = SwingFXUtils.toFXImage( awtBufferedImage , null );\n            return image;\n        }\n        catch ( IOException e ) { throw new RuntimeException( e ); }\n        catch ( SQLException e ) { throw new RuntimeException( e ); }\n    }\n</code></pre>\n<p>As noted above, I am no expert on image handling. This sure seems a roundabout way to go to get image data encoded/decoded. And I am surprised to have found only approaches using AWT and Swing rather than straight JavaFX. If anyone knows better approaches, please do post!</p>\n<h2>Source Code</h2>\n<p>Here is the entire Java code for the app, in a single file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/*\n By Basil Bourque.  http://www.Basil.work/\n\n This code is a response to this Question on Stack Overflow:\n &gt; insert an image to a database with javafx\n https://stackoverflow.com/q/75632865/642706\n\n This code was cobbled together quickly, as a starting point\n for further learning. Not meant for production use.\n Caveat: I an not an expert in JavaFX nor in image encoding.\n Use at your own risk.\n\n This demo app opens a window with five items, running left to right:\n • A button to load JPEG files from your local storage.\n • An `ImageView` field to show the image you loaded. Defaults to the Java mascot &quot;Duke&quot;, loaded over the internet.\n • A button to save the loaded image to an in-memory database using the H2 Database Engine (written in pure Java).\n • A list of the UUIDs that each identify an image stored in the database.\n • Another `ImageView` field to show the image retrieved from the database per the UUID selected in the list.\n*/\npackage work.basil.example.fximage;\n\nimport javafx.application.Application;\nimport javafx.beans.value.ObservableValue;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.embed.swing.SwingFXUtils;\nimport javafx.event.ActionEvent;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ListView;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.FileChooser;\nimport javafx.stage.Stage;\n\nimport javax.imageio.ImageIO;\nimport javax.sql.DataSource;\nimport java.awt.image.BufferedImage;\nimport java.io.*;\nimport java.sql.*;\nimport java.util.Objects;\nimport java.util.UUID;\n\n@SuppressWarnings ( &quot;SqlNoDataSourceInspection&quot; )\npublic class App extends Application\n{\n    @Override\n    public void start ( final Stage stage )\n    {\n        // Widgets  ---------------------------------------\n        Button loadFromDesktopButton = new Button( &quot;Open JPEG file…&quot; );\n\n        String url = &quot;https://www.oracle.com/a/ocom/img/rc24-duke-java-mascot.jpg&quot;;  // Arbitrary example image.\n        Image duke = new Image( url );\n        ImageView desktopImageView = new ImageView();\n        desktopImageView.setImage( duke );\n\n        desktopImageView.setFitWidth( 300 );\n        desktopImageView.setPreserveRatio( true );\n        desktopImageView.setSmooth( true );\n        desktopImageView.setCache( true );\n\n        Button storeInDatabaseButton = new Button( &quot;Store in database&quot; );\n\n        ListView &lt; UUID &gt; listView = new ListView &lt;&gt;();\n        listView.setPrefWidth( 300 );\n        ObservableList &lt; UUID &gt; ids = FXCollections.observableArrayList();\n        listView.setItems( ids );\n\n        ImageView databaseImageView = new ImageView();\n        databaseImageView.setFitWidth( 300 );\n        databaseImageView.setPreserveRatio( true );\n        databaseImageView.setSmooth( true );\n        databaseImageView.setCache( true );\n\n        // Behavior  --------------------------------------\n        DataSource dataSource = this.configureDataSource();\n        this.configureDatabase( dataSource );\n\n        loadFromDesktopButton.setOnAction(\n                ( ActionEvent event ) -&gt; this.loadImageFromLocalStorage( stage , desktopImageView )\n        );\n        storeInDatabaseButton.setOnAction(\n                ( ActionEvent event ) -&gt; {\n                    Image image = desktopImageView.getImage();\n                    UUID id = this.storeImageInDatabase( image , dataSource );\n                    ids.add( id );  // Add a list item for the image we just stored in database.\n                    listView.getSelectionModel().select( id ); // Select the newly added list item.\n                }\n        );\n\n        listView.getSelectionModel().selectedItemProperty().addListener(\n                ( ObservableValue &lt; ? extends UUID &gt; observableValue , UUID oldValue , UUID newValue ) -&gt; {\n                    Image image = this.fetchImageFromDatabase( newValue , dataSource );\n                    databaseImageView.setImage( image );\n                }\n        );\n\n        // Layout  --------------------------------------\n        stage.setTitle( &quot;Image To Database&quot; );\n        HBox root = new HBox();\n        root.setPadding( new Insets( 15 , 12 , 15 , 12 ) );\n        root.setSpacing( 10 );\n        root.setStyle( &quot;-fx-background-color: Grey;&quot; );\n\n        // Arrange  --------------------------------------\n        root.getChildren().add( loadFromDesktopButton );\n        root.getChildren().add( desktopImageView );\n        root.getChildren().add( storeInDatabaseButton );\n        root.getChildren().add( listView );\n        root.getChildren().add( databaseImageView );\n\n        Scene scene = new Scene( root , 1_250 , 300 );\n        stage.setScene( scene );\n        stage.show();\n    }\n\n\n    // Subroutines  --------------------------------------\n    private void loadImageFromLocalStorage ( final Stage stage , final ImageView imageView )\n    {\n        FileChooser fileChooser = new FileChooser();\n        fileChooser.setTitle( &quot;Open JPEG file&quot; );\n        File file = fileChooser.showOpenDialog( stage );\n        if ( file != null )\n        {\n            System.out.println( file );\n            Image image = new Image( file.toURI().toString() );\n            imageView.setImage( image );\n        }\n    }\n\n    private DataSource configureDataSource ( )\n    {\n        org.h2.jdbcx.JdbcDataSource ds = new org.h2.jdbcx.JdbcDataSource();  // Implementation of `DataSource` bundled with H2. You may choose to use some other implementation.\n        ds.setURL( &quot;jdbc:h2:mem:test;DB_CLOSE_DELAY=-1;&quot; );\n        ds.setUser( &quot;scott&quot; );\n        ds.setPassword( &quot;tiger&quot; );\n        ds.setDescription( &quot;An example database for storing an image.&quot; );\n        return ds;\n    }\n\n    private void configureDatabase ( final DataSource dataSource )\n    {\n        // Create table.\n        String sql =\n                &quot;&quot;&quot;\n                CREATE TABLE IF NOT EXISTS image_\n                (\n                    id_ uuid NOT NULL ,\n                    CONSTRAINT image_pkey_ PRIMARY KEY ( id_ ) ,\n                    row_created_ TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP() ,\n                    content_ BLOB\n                )\n                ;\n                &quot;&quot;&quot;;\n        try (\n                Connection conn = dataSource.getConnection() ;\n                Statement stmt = conn.createStatement()\n        )\n        {\n            System.out.println( &quot;INFO - Running `configureDatabase` method.&quot; );\n            stmt.executeUpdate( sql );\n        }\n        catch ( SQLException e ) { e.printStackTrace(); }\n    }\n\n\n    private UUID storeImageInDatabase ( final Image image , final DataSource dataSource )\n    {\n        InputStream inputStream = this.transformImageIntoInputStream( Objects.requireNonNull( image ) );\n\n        // Write to database\n        String sql =\n                &quot;&quot;&quot;\n                INSERT INTO image_ ( id_ , content_ )\n                VALUES ( ? , ? )\n                ;\n                &quot;&quot;&quot;;\n        try\n                (\n                        Connection conn = dataSource.getConnection() ;\n                        PreparedStatement preparedStatement = conn.prepareStatement( sql )\n                )\n        {\n            UUID id = UUID.randomUUID(); // In real work, we would retrieve the value generated by the database rather the app.\n            preparedStatement.setObject( 1 , id );\n            preparedStatement.setBlob( 2 , inputStream );\n            int rowCount = preparedStatement.executeUpdate();\n            if ( rowCount != 1 ) { throw new IllegalStateException( &quot;SQL insert failed to affect any rows.&quot; ); }\n            return id;\n        }\n        catch ( SQLException e ) { e.printStackTrace(); }\n        throw new IllegalStateException( &quot;Should never have reached this point in `storeImageInDatabase` method. &quot; );\n    }\n\n    private Image fetchImageFromDatabase ( final UUID id , final DataSource dataSource )\n    {\n        byte[] bytes = null;\n        String sql =\n                &quot;&quot;&quot;\n                SELECT *\n                FROM image_\n                WHERE id_ = ?\n                ;\n                &quot;&quot;&quot;;\n        try\n                (\n                        Connection conn = dataSource.getConnection() ;\n                        PreparedStatement preparedStatement = conn.prepareStatement( sql )\n                )\n        {\n            System.out.println( &quot;DEBUG id = &quot; + id );\n            preparedStatement.setObject( 1 , id );\n            try (\n                    ResultSet resultSet = preparedStatement.executeQuery() ;\n            )\n            {\n                if ( resultSet.next() )\n                {\n                    System.out.println( &quot;DEBUG resultSet = &quot; + resultSet );\n                    Blob blob = resultSet.getBlob( &quot;content_&quot; );\n                    System.out.println( &quot;DEBUG blob = &quot; + blob );\n                    Image image = this.transformBlobIntoImage( blob );\n                    return image;\n                }\n                else { throw new IllegalStateException( &quot;Failed to find any rows for id: &quot; + id ); }\n            }\n        }\n        catch ( SQLException e ) { e.printStackTrace(); }\n        throw new IllegalStateException( &quot;Should never have reached this point in `storeImageInDatabase` method. &quot; );\n    }\n\n\n    @SuppressWarnings ( &quot;UnnecessaryLocalVariable&quot; )\n    private InputStream transformImageIntoInputStream ( final Image image )\n    {\n        BufferedImage awtBufferedImage = SwingFXUtils.fromFXImage( image , null );\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        try\n        {\n            ImageIO.write( awtBufferedImage , &quot;jpg&quot; , outputStream );\n            byte[] res = outputStream.toByteArray();\n            InputStream inputStream = new ByteArrayInputStream( res );\n            return inputStream;\n        }\n        catch ( IOException e ) { e.printStackTrace(); }\n        throw new IllegalStateException( &quot;Should not reach this point in method `transformImageIntoInputStream`.&quot; );\n    }\n\n    private Image transformBlobIntoImage ( final Blob blob )\n    {\n        try\n        {\n            BufferedImage awtBufferedImage = ImageIO.read( blob.getBinaryStream() );\n            Image image = SwingFXUtils.toFXImage( awtBufferedImage , null );\n            return image;\n        }\n        catch ( IOException e ) { throw new RuntimeException( e ); }\n        catch ( SQLException e ) { throw new RuntimeException( e ); }\n    }\n\n    public static void main ( final String[] args )\n    {\n        launch();\n    }\n}\n</code></pre>\n<p>Here is the <code>module-info.java</code> file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>module work.basil.example.fximage {\n    requires javafx.controls;  // JavaFX/OpenJFX API.\n\n    requires java.desktop;     // Needed for classes in AWT that convert image to octets.\n    requires javafx.swing;     // Needed for `javafx.embed.swing.SwingFXUtils` class to convert image to octets.\n\n    requires java.sql;         // JDBC API.\n    requires java.naming;      // Java Naming and Directory Interface (JNDI) API. Needed for `DataSource` in JDBC.\n    requires com.h2database;   // H2 Database Engine.\n\n    exports work.basil.example.fximage;\n}\n</code></pre>\n<p>And my <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Apache Maven</a> <a href=\"https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\" rel=\"nofollow noreferrer\">POM</a> file.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns = &quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation = &quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;work.basil.example&lt;/groupId&gt;\n    &lt;artifactId&gt;FxImageToDb&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;FxImage&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-controls --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;19.0.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-swing --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\n            &lt;version&gt;19.0.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.9.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.h2database/h2 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;version&gt;2.1.214&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;19&lt;/source&gt;\n                    &lt;target&gt;19&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;work.basil.example.fximage/work.basil.example.fximage.App&lt;/mainClass&gt;\n                            &lt;launcher&gt;app&lt;/launcher&gt;\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<h2>Resources</h2>\n<p><a href=\"https://stackoverflow.com/q/27846062/642706\"><em>Convert Blob to JPG and update blob</em></a></p>\n<p><a href=\"https://stackoverflow.com/q/50427495/642706\"><em>Java BLOB to image file</em></a></p>\n<p><a href=\"https://stackoverflow.com/q/49469666/642706\"><em>Auto-generate lambda expression as argument in IntelliJ</em></a></p>\n<p><a href=\"https://stackoverflow.com/q/11088612/642706\"><em>JavaFX select item in ListView</em></a></p>\n<p><a href=\"https://docs.oracle.com/javafx/2/ui_controls/list-view.htm\" rel=\"nofollow noreferrer\"><em>Using JavaFX UI Controls — 11 List View</em></a></p>\n<p><a href=\"https://docs.oracle.com/javafx/2/ui_controls/file-chooser.htm\" rel=\"nofollow noreferrer\"><em>Using JavaFX UI Controls — 26 File Chooser</em></a></p>\n<p><a href=\"https://stackoverflow.com/q/22710053/642706\"><em>How can I show an image using the ImageView component in javafx and fxml?</em></a></p>\n<p>H2 Database Engine documentation for <a href=\"http://h2database.com/html/datatypes.html#binary_large_object_type\" rel=\"nofollow noreferrer\"><code>BLOB</code></a> type and for <a href=\"http://h2database.com/html/advanced.html#large_objects\" rel=\"nofollow noreferrer\">discussion of the Large Object</a> types.</p>\n<p>AWT &amp; Swing classes: <a href=\"https://openjfx.io/javadoc/19/javafx.swing/javafx/embed/swing/SwingFXUtils.html\" rel=\"nofollow noreferrer\"><code>SwingFXUtils</code></a></p>\n<p><a href=\"https://stackoverflow.com/q/49335128/642706\"><em>How to convert a JavaFX ImageView to InputStream</em></a></p>\n<p><a href=\"https://stackoverflow.com/q/15035883/642706\"><em>Saving an image in MySQL from Java</em></a></p>\n<p><a href=\"https://stackoverflow.com/q/50783126/642706\"><em>How to save an image from HTML to a DATABASE using JAVA</em></a></p>\n<p><a href=\"https://stackoverflow.com/q/21500339/642706\"><em>Storing Image in Data Base Using Java in Binary Format</em></a></p>\n"}],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678142230,"creation_date":1678139448,"question_id":75656158,"body_markdown":"As part of learning [JavaFX][1], I would like to see a minimal example of how to read &amp; write JPEG images to a database while displaying them in a JavaFX app. \r\n\r\nThis Question may be similar to this other Question, [insert an image to a database with javafx][2], but hopefully more focused.\r\n\r\nI have seen bits of code here and there for processing images, but I have not been able to convert an image from a [OpenJFX][3] [`Image`][4] object to something that can be stored in a field in a [SQL][5] database such as [H2 Database Engine][6] via [JDBC][7].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/JavaFX\r\n  [2]: https://stackoverflow.com/q/75632865/642706\r\n  [3]: https://openjfx.io/\r\n  [4]: https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/image/Image.html\r\n  [5]: https://en.wikipedia.org/wiki/SQL\r\n  [6]: https://en.wikipedia.org/wiki/H2_(DBMS)\r\n  [7]: https://en.wikipedia.org/wiki/Java_Database_Connectivity","title":"Example JavaFX app to read and write JPEG images to a database","body":"<p>As part of learning <a href=\"https://en.wikipedia.org/wiki/JavaFX\" rel=\"nofollow noreferrer\">JavaFX</a>, I would like to see a minimal example of how to read &amp; write JPEG images to a database while displaying them in a JavaFX app.</p>\n<p>This Question may be similar to this other Question, <a href=\"https://stackoverflow.com/q/75632865/642706\">insert an image to a database with javafx</a>, but hopefully more focused.</p>\n<p>I have seen bits of code here and there for processing images, but I have not been able to convert an image from a <a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">OpenJFX</a> <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/image/Image.html\" rel=\"nofollow noreferrer\"><code>Image</code></a> object to something that can be stored in a field in a <a href=\"https://en.wikipedia.org/wiki/SQL\" rel=\"nofollow noreferrer\">SQL</a> database such as <a href=\"https://en.wikipedia.org/wiki/H2_(DBMS)\" rel=\"nofollow noreferrer\">H2 Database Engine</a> via <a href=\"https://en.wikipedia.org/wiki/Java_Database_Connectivity\" rel=\"nofollow noreferrer\">JDBC</a>.</p>\n"},{"tags":["java","hashmap","java-stream","collectors"],"comments":[{"owner":{"account_id":785462,"reputation":16343,"user_id":845034,"accept_rate":57,"display_name":"steffen"},"score":0,"creation_date":1670103525,"post_id":74670924,"comment_id":131796817,"body_markdown":"How about creating a [minimal-reproducible-example](https://stackoverflow.com/help/minimal-reproducible-example)?","body":"How about creating a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal-reproducible-example</a>?"},{"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"score":0,"creation_date":1670105176,"post_id":74670924,"comment_id":131797112,"body_markdown":"I have added a minimal-reproducible-example","body":"I have added a minimal-reproducible-example"}],"answers":[{"tags":[],"owner":{"account_id":27104252,"reputation":23,"user_id":20650320,"display_name":"Ronmeir"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670138765,"creation_date":1670105990,"answer_id":74671226,"question_id":74670924,"body_markdown":"I wouldn’t use this in my code because I think it’s not readable and will be very hard to change and manage in the future(SOLID).\r\nBut in case you still want this-  \r\n\r\nIf I got your design right hash is unique per user and transaction will only have deposit or withdrawal, if so, this will work-  \r\n\r\nYou could triple groupBy via collectors chaining like you did in your example. \r\nYou can create the `Txn` type via simple map function just check which id is null.\r\n```\r\nMap&lt;String, Map&lt;String, Map&lt;String, List&lt;Txn&gt;&gt;&gt;&gt; groupBy = \r\n      txnList.stream()\r\n             .collect(Collectors.groupingBy(Txn::getHash, LinkedHashMap::new,\r\n                       Collectors.groupingBy(Txn::getDepositId, LinkedHashMap::new,\r\n                         Collectors.groupingBy(Txn::getWithdrawId, LinkedHashMap::new, Collectors.toList()))));\r\n```\r\n\r\nthen use the logic from your example on this stream.","title":"How to merge two groupingBy in java streams?","body":"<p>I wouldn’t use this in my code because I think it’s not readable and will be very hard to change and manage in the future(SOLID).\nBut in case you still want this-</p>\n<p>If I got your design right hash is unique per user and transaction will only have deposit or withdrawal, if so, this will work-</p>\n<p>You could triple groupBy via collectors chaining like you did in your example.\nYou can create the <code>Txn</code> type via simple map function just check which id is null.</p>\n<pre><code>Map&lt;String, Map&lt;String, Map&lt;String, List&lt;Txn&gt;&gt;&gt;&gt; groupBy = \n      txnList.stream()\n             .collect(Collectors.groupingBy(Txn::getHash, LinkedHashMap::new,\n                       Collectors.groupingBy(Txn::getDepositId, LinkedHashMap::new,\n                         Collectors.groupingBy(Txn::getWithdrawId, LinkedHashMap::new, Collectors.toList()))));\n</code></pre>\n<p>then use the logic from your example on this stream.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670116443,"creation_date":1670106838,"answer_id":74671331,"question_id":74670924,"body_markdown":"&lt;h3&gt;TL;DR&lt;/h3&gt;\r\n\r\nFor those who didn&#39;t understand the question, OP wants to generate from each `Txn` instance (`Txn` probably stands for transaction) **two** peaces of data: `hash` and `withdrawId` + aggregated amount, and `hash` and `depositId` + aggregated amount.\r\n\r\nAnd then they want to merge the two parts together (for that reason they were creating the two streams, and then concatenating them).\r\n\r\n***Note:** it seems like there&#39;s a logical flow in the original code: the same amount gets associated with `withdrawId` and `depositId`. Which doesn&#39;t reflect that this amount has been taken from one account and transferred to another. Hence, it would make sense if for `depositId` amount would be used as is, and for `withdrawId` - negated (i.e. `-1 * amount`).*\r\n\r\n# [`Collectors.teeing()`][teeing]\r\n\r\nYou can make use of the Java 12 Collector `teeing()` and internally group stream elements into two distinct Maps:\r\n\r\n* the first one by grouping the stream data by `withdrawId` and `hash`.\r\n\r\n* and another one by grouping the data `depositId` and `hash`.\r\n\r\nTeeing expects three arguments: 2 downstream Collectors and a Function combining the results produced by collectors.\r\n\r\nAs the downstream of `teeing()` we can use a combination of Collectors `groupingBy()` and [`summingInt()`][summingInt], the second one is needed to accumulate integer `amount` of the transaction.\r\n\r\n**Note** that there&#39;s no need in using nested Collector `groupingBy()` instead we can create a custom type that would hold `id` and `hash` (*and its `equals/hashCode` should be implemented based on the wrapped id and hash*). [Java 16 `record`][record] fits into this role perfectly well:\r\n\r\n```\r\npublic record HashWalletId(String hash, String walletId) {}\r\n```\r\n\r\nInstances of `HashWalletId` would be used as Keys in both intermediate Maps.\r\n\r\nThe *finisher function* of `teeing()` would merge the results of the two Maps together.\r\n\r\nThe only thing left is to generate instances of `UserTxn` out of map entries.\r\n\r\n```\r\nList&lt;Txn&gt; txnList = // initializing the list\r\n        \r\nList&lt;UserTxn&gt; result = txnList.stream()\r\n    .collect(Collectors.teeing(\r\n        Collectors.groupingBy(\r\n            txn -&gt; new HashWalletId(txn.getHash(), txn.getWithdrawId()),\r\n            Collectors.summingInt(txn -&gt; -1 * txn.getAmount())), // because amount has been withdrawn\r\n        Collectors.groupingBy(\r\n            txn -&gt; new HashWalletId(txn.getHash(), txn.getDepositId()),\r\n            Collectors.summingInt(Txn::getAmount)),\r\n        (map1, map2) -&gt; {\r\n            map2.forEach((k, v) -&gt; map1.merge(k, v, Integer::sum));\r\n            return map1;\r\n        }\r\n    ))\r\n    .entrySet().stream()\r\n    .map(entry -&gt; UserTxn.builder()\r\n        .hash(entry.getKey().hash())\r\n        .walletId(entry.getKey().walletId())\r\n        .txnType(entry.getValue() &gt; 0 ? &quot;DEPOSIT&quot; : &quot;WITHDRAW&quot;)\r\n        .amount(entry.getValue())\r\n        .build()\r\n    )\r\n    .toList(); // remove the terminal operation if your goal is to produce a Stream\r\n```\r\n\r\n\r\n\r\n   [teeing]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)\r\n\r\n   [summingInt]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#summingInt(java.util.function.ToIntFunction)\r\n\r\n   [record]: https://docs.oracle.com/en/java/javase/16/language/records.html","title":"How to merge two groupingBy in java streams?","body":"<h3>TL;DR</h3>\n<p>For those who didn't understand the question, OP wants to generate from each <code>Txn</code> instance (<code>Txn</code> probably stands for transaction) <strong>two</strong> peaces of data: <code>hash</code> and <code>withdrawId</code> + aggregated amount, and <code>hash</code> and <code>depositId</code> + aggregated amount.</p>\n<p>And then they want to merge the two parts together (for that reason they were creating the two streams, and then concatenating them).</p>\n<p><em><strong>Note:</strong> it seems like there's a logical flow in the original code: the same amount gets associated with <code>withdrawId</code> and <code>depositId</code>. Which doesn't reflect that this amount has been taken from one account and transferred to another. Hence, it would make sense if for <code>depositId</code> amount would be used as is, and for <code>withdrawId</code> - negated (i.e. <code>-1 * amount</code>).</em></p>\n<h1><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>Collectors.teeing()</code></a></h1>\n<p>You can make use of the Java 12 Collector <code>teeing()</code> and internally group stream elements into two distinct Maps:</p>\n<ul>\n<li><p>the first one by grouping the stream data by <code>withdrawId</code> and <code>hash</code>.</p>\n</li>\n<li><p>and another one by grouping the data <code>depositId</code> and <code>hash</code>.</p>\n</li>\n</ul>\n<p>Teeing expects three arguments: 2 downstream Collectors and a Function combining the results produced by collectors.</p>\n<p>As the downstream of <code>teeing()</code> we can use a combination of Collectors <code>groupingBy()</code> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#summingInt(java.util.function.ToIntFunction)\" rel=\"nofollow noreferrer\"><code>summingInt()</code></a>, the second one is needed to accumulate integer <code>amount</code> of the transaction.</p>\n<p><strong>Note</strong> that there's no need in using nested Collector <code>groupingBy()</code> instead we can create a custom type that would hold <code>id</code> and <code>hash</code> (<em>and its <code>equals/hashCode</code> should be implemented based on the wrapped id and hash</em>). <a href=\"https://docs.oracle.com/en/java/javase/16/language/records.html\" rel=\"nofollow noreferrer\">Java 16 <code>record</code></a> fits into this role perfectly well:</p>\n<pre><code>public record HashWalletId(String hash, String walletId) {}\n</code></pre>\n<p>Instances of <code>HashWalletId</code> would be used as Keys in both intermediate Maps.</p>\n<p>The <em>finisher function</em> of <code>teeing()</code> would merge the results of the two Maps together.</p>\n<p>The only thing left is to generate instances of <code>UserTxn</code> out of map entries.</p>\n<pre><code>List&lt;Txn&gt; txnList = // initializing the list\n        \nList&lt;UserTxn&gt; result = txnList.stream()\n    .collect(Collectors.teeing(\n        Collectors.groupingBy(\n            txn -&gt; new HashWalletId(txn.getHash(), txn.getWithdrawId()),\n            Collectors.summingInt(txn -&gt; -1 * txn.getAmount())), // because amount has been withdrawn\n        Collectors.groupingBy(\n            txn -&gt; new HashWalletId(txn.getHash(), txn.getDepositId()),\n            Collectors.summingInt(Txn::getAmount)),\n        (map1, map2) -&gt; {\n            map2.forEach((k, v) -&gt; map1.merge(k, v, Integer::sum));\n            return map1;\n        }\n    ))\n    .entrySet().stream()\n    .map(entry -&gt; UserTxn.builder()\n        .hash(entry.getKey().hash())\n        .walletId(entry.getKey().walletId())\n        .txnType(entry.getValue() &gt; 0 ? &quot;DEPOSIT&quot; : &quot;WITHDRAW&quot;)\n        .amount(entry.getValue())\n        .build()\n    )\n    .toList(); // remove the terminal operation if your goal is to produce a Stream\n</code></pre>\n"}],"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74671331,"answer_count":2,"score":0,"last_activity_date":1678142210,"creation_date":1670103260,"question_id":74670924,"body_markdown":"I have a input object\r\n\r\n      @Getter\r\n      class Txn {\r\n    \r\n        private String hash;\r\n        private String withdrawId;\r\n        private String depositId;\r\n        private Integer amount;\r\n        private String date;\r\n    \r\n      }\r\n\r\nand the output object is\r\n\r\n      @Builder\r\n      @Getter\r\n      class UserTxn {\r\n    \r\n        private String hash;\r\n        private String walletId;\r\n        private String txnType;\r\n        private Integer amount;\r\n      }\r\n\r\nIn the **Txn** object transfers the **amount** from the **withdrawId -&gt; depositId**.\r\n\r\nwhat I am doing is I am **adding** all the **transactions** (Txn objects) in a single amount **grouped by hash**.\r\n\r\nbut for that I have to make **two streams for groupingby** withdrawId and second or for depositId and then the **third stream for merging** them\r\n\r\n\r\ngrouping by withdrawId\r\n\r\n    var withdrawStream = txnList.stream().collect(Collectors.groupingBy(Txn::getHash, LinkedHashMap::new,\r\n            Collectors.groupingBy(Txn::getWithdrawId, LinkedHashMap::new, Collectors.toList())))\r\n        .entrySet().stream().flatMap(hashEntrySet -&gt; hashEntrySet.getValue().entrySet().stream()\r\n            .map(withdrawEntrySet -&gt;\r\n                UserTxn.builder()\r\n                    .hash(hashEntrySet.getKey())\r\n                    .walletId(withdrawEntrySet.getKey())\r\n                    .txnType(&quot;WITHDRAW&quot;)\r\n                    .amount(withdrawEntrySet.getValue().stream().map(Txn::getAmount).reduce(0, Integer::sum))\r\n                    .build()\r\n            ));\r\n\r\ngrouping by depositId\r\n\r\n\r\n    \r\n    var depositStream = txnList.stream().collect(Collectors.groupingBy(Txn::getHash, LinkedHashMap::new,\r\n            Collectors.groupingBy(Txn::getDepositId, LinkedHashMap::new, Collectors.toList())))\r\n        .entrySet().stream().flatMap(hashEntrySet -&gt; hashEntrySet.getValue().entrySet().stream()\r\n            .map(withdrawEntrySet -&gt;\r\n                UserTxn.builder()\r\n                    .hash(hashEntrySet.getKey())\r\n                    .walletId(withdrawEntrySet.getKey())\r\n                    .txnType(&quot;DEPOSIT&quot;)\r\n                    .amount(withdrawEntrySet.getValue().stream().map(Txn::getAmount).reduce(0, Integer::sum))\r\n                    .build()\r\n            ));\r\n    \r\n\r\nthen merging them again, using deposites - withdraws\r\n\r\n    var res = Stream.concat(withdrawStream, depositStream).collect(Collectors.groupingBy(UserTxn::getHash, LinkedHashMap::new,\r\n        Collectors.groupingBy(UserTxn::getWalletId, LinkedHashMap::new, Collectors.toList())))\r\n        .entrySet().stream().flatMap(hashEntrySet -&gt; hashEntrySet.getValue().entrySet().stream()\r\n            .map(withdrawEntrySet -&gt; {\r\n                  var depositAmount = withdrawEntrySet.getValue().stream().filter(userTxn -&gt; userTxn.txnType.equals(&quot;DEPOSIT&quot;)).map(UserTxn::getAmount).reduce(0, Integer::sum);\r\n                  var withdrawAmount = withdrawEntrySet.getValue().stream().filter(userTxn -&gt; userTxn.txnType.equals(&quot;WITHDRAW&quot;)).map(UserTxn::getAmount).reduce(0, Integer::sum);\r\n                  var totalAmount = depositAmount-withdrawAmount;\r\n                  return UserTxn.builder()\r\n                      .hash(hashEntrySet.getKey())\r\n                      .walletId(withdrawEntrySet.getKey())\r\n                      .txnType(totalAmount &gt; 0 ? &quot;DEPOSIT&quot;: &quot;WITHDRAW&quot;)\r\n                      .amount(totalAmount)\r\n                      .build();\r\n                }\r\n            ));\r\n\r\n\r\nMy question is, How can I do this in one stream. \r\nLike by somehow groupingBy withdrawId and depositId is one grouping.\r\n\r\nsomething like \r\n\r\n    res = txnList.stream()\r\n            .collect(Collectors.groupingBy(Txn::getHash,\r\n                LinkedHashMap::new,\r\n                Collectors.groupingBy(Txn::getWithdrawId &amp;&amp; Txn::getDepositId,\r\n                    LinkedHashMap::new, Collectors.toList())))\r\n            .entrySet().stream().flatMap(hashEntrySet -&gt; hashEntrySet.getValue().entrySet().stream()\r\n                .map(walletEntrySet -&gt;\r\n                    {\r\n                      var totalAmount = walletEntrySet.getValue().stream().map(\r\n                          txn -&gt; Objects.equals(txn.getDepositId(), walletEntrySet.getKey())\r\n                              ? txn.getAmount() : (-txn.getAmount())).reduce(0, Integer::sum);\r\n                      return UserTxn.builder()\r\n                          .hash(hashEntrySet.getKey())\r\n                          .walletId(walletEntrySet.getKey())\r\n                          .txnType(&quot;WITHDRAW&quot;)\r\n                          .amount(totalAmount)\r\n                          .build();\r\n                    }\r\n                ));\r\n\r\n\r\n\r\n","title":"How to merge two groupingBy in java streams?","body":"<p>I have a input object</p>\n<pre><code>  @Getter\n  class Txn {\n\n    private String hash;\n    private String withdrawId;\n    private String depositId;\n    private Integer amount;\n    private String date;\n\n  }\n</code></pre>\n<p>and the output object is</p>\n<pre><code>  @Builder\n  @Getter\n  class UserTxn {\n\n    private String hash;\n    private String walletId;\n    private String txnType;\n    private Integer amount;\n  }\n</code></pre>\n<p>In the <strong>Txn</strong> object transfers the <strong>amount</strong> from the <strong>withdrawId -&gt; depositId</strong>.</p>\n<p>what I am doing is I am <strong>adding</strong> all the <strong>transactions</strong> (Txn objects) in a single amount <strong>grouped by hash</strong>.</p>\n<p>but for that I have to make <strong>two streams for groupingby</strong> withdrawId and second or for depositId and then the <strong>third stream for merging</strong> them</p>\n<p>grouping by withdrawId</p>\n<pre><code>var withdrawStream = txnList.stream().collect(Collectors.groupingBy(Txn::getHash, LinkedHashMap::new,\n        Collectors.groupingBy(Txn::getWithdrawId, LinkedHashMap::new, Collectors.toList())))\n    .entrySet().stream().flatMap(hashEntrySet -&gt; hashEntrySet.getValue().entrySet().stream()\n        .map(withdrawEntrySet -&gt;\n            UserTxn.builder()\n                .hash(hashEntrySet.getKey())\n                .walletId(withdrawEntrySet.getKey())\n                .txnType(&quot;WITHDRAW&quot;)\n                .amount(withdrawEntrySet.getValue().stream().map(Txn::getAmount).reduce(0, Integer::sum))\n                .build()\n        ));\n</code></pre>\n<p>grouping by depositId</p>\n<pre><code>var depositStream = txnList.stream().collect(Collectors.groupingBy(Txn::getHash, LinkedHashMap::new,\n        Collectors.groupingBy(Txn::getDepositId, LinkedHashMap::new, Collectors.toList())))\n    .entrySet().stream().flatMap(hashEntrySet -&gt; hashEntrySet.getValue().entrySet().stream()\n        .map(withdrawEntrySet -&gt;\n            UserTxn.builder()\n                .hash(hashEntrySet.getKey())\n                .walletId(withdrawEntrySet.getKey())\n                .txnType(&quot;DEPOSIT&quot;)\n                .amount(withdrawEntrySet.getValue().stream().map(Txn::getAmount).reduce(0, Integer::sum))\n                .build()\n        ));\n</code></pre>\n<p>then merging them again, using deposites - withdraws</p>\n<pre><code>var res = Stream.concat(withdrawStream, depositStream).collect(Collectors.groupingBy(UserTxn::getHash, LinkedHashMap::new,\n    Collectors.groupingBy(UserTxn::getWalletId, LinkedHashMap::new, Collectors.toList())))\n    .entrySet().stream().flatMap(hashEntrySet -&gt; hashEntrySet.getValue().entrySet().stream()\n        .map(withdrawEntrySet -&gt; {\n              var depositAmount = withdrawEntrySet.getValue().stream().filter(userTxn -&gt; userTxn.txnType.equals(&quot;DEPOSIT&quot;)).map(UserTxn::getAmount).reduce(0, Integer::sum);\n              var withdrawAmount = withdrawEntrySet.getValue().stream().filter(userTxn -&gt; userTxn.txnType.equals(&quot;WITHDRAW&quot;)).map(UserTxn::getAmount).reduce(0, Integer::sum);\n              var totalAmount = depositAmount-withdrawAmount;\n              return UserTxn.builder()\n                  .hash(hashEntrySet.getKey())\n                  .walletId(withdrawEntrySet.getKey())\n                  .txnType(totalAmount &gt; 0 ? &quot;DEPOSIT&quot;: &quot;WITHDRAW&quot;)\n                  .amount(totalAmount)\n                  .build();\n            }\n        ));\n</code></pre>\n<p>My question is, How can I do this in one stream.\nLike by somehow groupingBy withdrawId and depositId is one grouping.</p>\n<p>something like</p>\n<pre><code>res = txnList.stream()\n        .collect(Collectors.groupingBy(Txn::getHash,\n            LinkedHashMap::new,\n            Collectors.groupingBy(Txn::getWithdrawId &amp;&amp; Txn::getDepositId,\n                LinkedHashMap::new, Collectors.toList())))\n        .entrySet().stream().flatMap(hashEntrySet -&gt; hashEntrySet.getValue().entrySet().stream()\n            .map(walletEntrySet -&gt;\n                {\n                  var totalAmount = walletEntrySet.getValue().stream().map(\n                      txn -&gt; Objects.equals(txn.getDepositId(), walletEntrySet.getKey())\n                          ? txn.getAmount() : (-txn.getAmount())).reduce(0, Integer::sum);\n                  return UserTxn.builder()\n                      .hash(hashEntrySet.getKey())\n                      .walletId(walletEntrySet.getKey())\n                      .txnType(&quot;WITHDRAW&quot;)\n                      .amount(totalAmount)\n                      .build();\n                }\n            ));\n</code></pre>\n"},{"tags":["java","sorting","set","java-stream"],"answers":[{"comments":[{"owner":{"account_id":15967888,"reputation":165,"user_id":11522914,"display_name":"CovetousSlope"},"score":0,"creation_date":1670525413,"post_id":74734960,"comment_id":131900642,"body_markdown":"I did this exactly, but the time required for doing individual sorting before groupingBy is almost 6 times. This is a critical operation and should be done in few milliseconds. That is why I want to club everything together.","body":"I did this exactly, but the time required for doing individual sorting before groupingBy is almost 6 times. This is a critical operation and should be done in few milliseconds. That is why I want to club everything together."},{"owner":{"account_id":15967888,"reputation":165,"user_id":11522914,"display_name":"CovetousSlope"},"score":0,"creation_date":1670528836,"post_id":74734960,"comment_id":131901622,"body_markdown":"yes this is solving my problem. Only one thing here is , user of sorted() is adding some performance hit as compared to \ncollectingAndThen(\n                                    mapping(Function.identity(),  toCollection(\n                                            () -&gt; new TreeSet&lt;&gt;(Comparator.comparing(e -&gt; e.timestamp))\n                                    )),\n                                    set -&gt; set.stream().map(OrderRow::getEventName)\n                                            .collect(toCollection(LinkedHashSet::new))\n                            )))","body":"yes this is solving my problem. Only one thing here is , user of sorted() is adding some performance hit as compared to  collectingAndThen(                                     mapping(Function.identity(),  toCollection(                                             () -&gt; new TreeSet&lt;&gt;(Comparator.comparing(e -&gt; e.timestamp))                                     )),                                     set -&gt; set.stream().map(OrderRow::getEventName)                                             .collect(toCollection(LinkedHashSet::new))                             )))"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1670529667,"post_id":74734960,"comment_id":131901843,"body_markdown":"@CovetousSlope There&#39;s only one reason I can see why *Red-black tree* perform better, namely `sorted()` requires allocating a new array in memory, which has a cost. And it that can be eliminated by sorting an `ArrayList` directly and then creating a stream out of it (I&#39;ll update the code in a few minutes). That said, to measure the performance correctly, you need to make sure that the test is isolated and not affected by JVM warm up and other stuff.","body":"@CovetousSlope There&#39;s only one reason I can see why <i>Red-black tree</i> perform better, namely <code>sorted()</code> requires allocating a new array in memory, which has a cost. And it that can be eliminated by sorting an <code>ArrayList</code> directly and then creating a stream out of it (I&#39;ll update the code in a few minutes). That said, to measure the performance correctly, you need to make sure that the test is isolated and not affected by JVM warm up and other stuff."},{"owner":{"account_id":15967888,"reputation":165,"user_id":11522914,"display_name":"CovetousSlope"},"score":0,"creation_date":1670529908,"post_id":74734960,"comment_id":131901894,"body_markdown":"You are right. Seems that memory allocation can be an issue. Also I am running my code multiple times so that I have correct average time.","body":"You are right. Seems that memory allocation can be an issue. Also I am running my code multiple times so that I have correct average time."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670530256,"creation_date":1670525028,"answer_id":74734960,"question_id":74734847,"body_markdown":"## TL;DR\r\n\r\n* `LinkedHashSet` - is the only implementation of the `Set` interface, which would to retain the order of the plain `String`s (`action` property), that differs from the alphabetical one.\r\n\r\n* *Timsort* has a slightly better performance than sorting via *Red-black tree* (i.e. by storing elments into a `TreeSet`). Since OP has said that *&quot;is a critical operation&quot;*, that worth to take into consideration.\r\n\r\n---------------------------------------------\r\n\r\nYou can sort the stream elements by timestamp before applying `collect`. That would guarantee that `action`s in the list would be consumed in the required order.\r\n\r\nAnd to retain the order of these Strings, you can use a [`LinkedHashSet`][linkedHashSet] (`TreeSet` would not be helpful in this case since you need to keep the order by property which would not be present in the collection). \r\n\r\n```\r\nvar actionsById = orderRows.stream()\r\n    .sorted(Comparator.comparing(OrderRow::getTimestamp))\r\n    .collect(Collectors.groupingBy(\r\n        OrderRow::getOrderId,\r\n        Collectors.mapping(\r\n            OrderRow::getAction,\r\n            Collectors.toCollection(LinkedHashSet::new))\r\n    ));\r\n```\r\n\r\nAlternatively, you can sort the sets while grouping (as you were trying to do).\r\n\r\n```\r\nvar actionsById = orderRows.stream()\r\n    .collect(Collectors.groupingBy(\r\n        OrderRow::getOrderId,\r\n        Collectors.collectingAndThen(\r\n            Collectors.mapping(\r\n                Function.identity(),\r\n                Collectors.toCollection(() -&gt; new TreeSet&lt;&gt;(Comparator.comparing(OrderRow::getTimestamp)))\r\n            ),\r\n            set -&gt; set.stream().map(OrderRow::getAction).collect(Collectors.toCollection(LinkedHashSet::new))\r\n        )\r\n    ));\r\n```\r\n\r\nOr instead of sorting via *Red-Black Tree* (`TreeSet` *is backed by the an implementation of this data structure*) each set can be sorted via *Timsort* (which is an algorithm used while sorting an array of elements, and `sorted()` operation is invoked in the stream, its elements are being dumped into an array).\r\n\r\nMaintaining a *Red-Black Tree* is constful, and theoretically *Timsort* should perform a bit better.\r\n\r\n```\r\nvar actionsById = orderRows.stream()\r\n    .collect(Collectors.groupingBy(\r\n        OrderRow::getOrderId,\r\n        Collectors.collectingAndThen(\r\n            Collectors.mapping(\r\n                Function.identity(), Collectors.toList()\r\n            ),\r\n            list -&gt; list.stream().sorted(Comparator.comparing(OrderRow::getTimestamp))\r\n                .map(OrderRow::getAction)\r\n                .collect(Collectors.toCollection(LinkedHashSet::new))\r\n        )\r\n    ));\r\n```\r\n\r\nTo eliminate allocating a new array in memory (which happens when `sorted()` operation is being called) we can sort the lists produced by `mapping()` directly, and then create a stream out of sorted lists in the *finisher* function of `collectingAndThen()`.\r\n\r\nThat would require writing a multiline lambda, but in this case is justifiable by the performance gain.\r\n\r\n```\r\nvar actionsById = orderRows.stream()\r\n    .collect(Collectors.groupingBy(\r\n        OrderRow::getOrderId,\r\n        Collectors.collectingAndThen(\r\n            Collectors.mapping(\r\n                Function.identity(), Collectors.toList()\r\n            ),\r\n            list -&gt; {\r\n                list.sort(Comparator.comparing(OrderRow::getTimestamp));\r\n                return list.stream().map(OrderRow::getAction)\r\n                    .collect(Collectors.toCollection(LinkedHashSet::new));\r\n            }\r\n        )\r\n    ));\r\n```\r\n\r\n\r\n   [linkedHashSet]: https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/LinkedHashSet.html","title":"Java-Stream - Sort and Transform elements using groupingBy()","body":"<h2>TL;DR</h2>\n<ul>\n<li><p><code>LinkedHashSet</code> - is the only implementation of the <code>Set</code> interface, which would to retain the order of the plain <code>String</code>s (<code>action</code> property), that differs from the alphabetical one.</p>\n</li>\n<li><p><em>Timsort</em> has a slightly better performance than sorting via <em>Red-black tree</em> (i.e. by storing elments into a <code>TreeSet</code>). Since OP has said that <em>&quot;is a critical operation&quot;</em>, that worth to take into consideration.</p>\n</li>\n</ul>\n<hr />\n<p>You can sort the stream elements by timestamp before applying <code>collect</code>. That would guarantee that <code>action</code>s in the list would be consumed in the required order.</p>\n<p>And to retain the order of these Strings, you can use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/LinkedHashSet.html\" rel=\"nofollow noreferrer\"><code>LinkedHashSet</code></a> (<code>TreeSet</code> would not be helpful in this case since you need to keep the order by property which would not be present in the collection).</p>\n<pre><code>var actionsById = orderRows.stream()\n    .sorted(Comparator.comparing(OrderRow::getTimestamp))\n    .collect(Collectors.groupingBy(\n        OrderRow::getOrderId,\n        Collectors.mapping(\n            OrderRow::getAction,\n            Collectors.toCollection(LinkedHashSet::new))\n    ));\n</code></pre>\n<p>Alternatively, you can sort the sets while grouping (as you were trying to do).</p>\n<pre><code>var actionsById = orderRows.stream()\n    .collect(Collectors.groupingBy(\n        OrderRow::getOrderId,\n        Collectors.collectingAndThen(\n            Collectors.mapping(\n                Function.identity(),\n                Collectors.toCollection(() -&gt; new TreeSet&lt;&gt;(Comparator.comparing(OrderRow::getTimestamp)))\n            ),\n            set -&gt; set.stream().map(OrderRow::getAction).collect(Collectors.toCollection(LinkedHashSet::new))\n        )\n    ));\n</code></pre>\n<p>Or instead of sorting via <em>Red-Black Tree</em> (<code>TreeSet</code> <em>is backed by the an implementation of this data structure</em>) each set can be sorted via <em>Timsort</em> (which is an algorithm used while sorting an array of elements, and <code>sorted()</code> operation is invoked in the stream, its elements are being dumped into an array).</p>\n<p>Maintaining a <em>Red-Black Tree</em> is constful, and theoretically <em>Timsort</em> should perform a bit better.</p>\n<pre><code>var actionsById = orderRows.stream()\n    .collect(Collectors.groupingBy(\n        OrderRow::getOrderId,\n        Collectors.collectingAndThen(\n            Collectors.mapping(\n                Function.identity(), Collectors.toList()\n            ),\n            list -&gt; list.stream().sorted(Comparator.comparing(OrderRow::getTimestamp))\n                .map(OrderRow::getAction)\n                .collect(Collectors.toCollection(LinkedHashSet::new))\n        )\n    ));\n</code></pre>\n<p>To eliminate allocating a new array in memory (which happens when <code>sorted()</code> operation is being called) we can sort the lists produced by <code>mapping()</code> directly, and then create a stream out of sorted lists in the <em>finisher</em> function of <code>collectingAndThen()</code>.</p>\n<p>That would require writing a multiline lambda, but in this case is justifiable by the performance gain.</p>\n<pre><code>var actionsById = orderRows.stream()\n    .collect(Collectors.groupingBy(\n        OrderRow::getOrderId,\n        Collectors.collectingAndThen(\n            Collectors.mapping(\n                Function.identity(), Collectors.toList()\n            ),\n            list -&gt; {\n                list.sort(Comparator.comparing(OrderRow::getTimestamp));\n                return list.stream().map(OrderRow::getAction)\n                    .collect(Collectors.toCollection(LinkedHashSet::new));\n            }\n        )\n    ));\n</code></pre>\n"}],"owner":{"account_id":15967888,"reputation":165,"user_id":11522914,"display_name":"CovetousSlope"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74734960,"answer_count":1,"score":1,"last_activity_date":1678142196,"creation_date":1670524301,"question_id":74734847,"body_markdown":"Suppose I have the following domain class:\r\n\r\n    public class OrderRow {\r\n        private Long orderId;\r\n        private String action;\r\n        private LocalDateTime timestamp;\r\n        \r\n        // getters, constructor, etc.\r\n    }\r\n\r\nI have a following data set of `OrderRow`s :\r\n```\r\nOrderId  \tAction   \t\t    \tTimestamp\r\n3\t\t\tPay money \t\t    \t2015-05-27 12:48:47.000\r\n3\t\t\tSelect Item\t\t    \t2015-05-27 12:44:47.000\r\n1 \t\t\tGenerate Payment\t\t2015-05-27 12:55:47.000\r\n2\t\t\tPay money\t\t    \t2015-05-27 12:48:47.000\r\n2\t\t\tSelect Item \t    \t2015-05-27 12:44:47.000\r\n2\t\t\tDeliver \t\t    \t2015-05-27 12:55:47.000\r\n1\t\t\tGenerate Invoice    \t2015-05-27 12:48:47.000\r\n1\t\t\tCreate PO\t\t    \t2015-05-27 12:44:47.000\r\n3\t\t\tDeliver \t\t    \t2015-05-27 12:55:47.000\r\n```\r\n\r\nWhat I want to obtain the following `Map` from the sample data shown above:\r\n\r\n```\r\n[3] -&gt; [&quot;Select Item&quot;, &quot;Pay money&quot;, &quot;Deliver&quot;]\r\n[1] -&gt; [&quot;Create PO&quot;, &quot;Generate Invoice&quot;, &quot;Generate Payment&quot;]\r\n[2] -&gt; [&quot;Select Item&quot;, &quot;Pay money&quot;, &quot;Deliver&quot;]  \r\n```\r\nBy performing below operations :\r\n 1. I want to groupBy `orderId`.\r\n 2. Sort actions by `timestamp`.\r\n 3. Create a `Set` (as there can be duplicates) of `action`s.\r\n\r\nI am trying to do this in a single `groupingBy` operation as performing separate sorting, `mapping` operations take a lot of time if data set is huge.\r\n\r\nI&#39;ve tried to do the following:\r\n```\r\norderRows.stream()\r\n    .collect(Collectors.groupingBy(OrderRow::getOrderId, \r\n        Collectors.mapping(Function.identity(),\r\n            Collectors.toCollection(\r\n                () -&gt; new TreeSet&lt;&gt;(Comparator.comparing(e -&gt; e.timestamp))\r\n    ))));\r\n```\r\nBut then I get output as `Map&lt;String, Set&lt;OrderRow&gt;&gt;`\r\nwhere as I need the result of type `Map&lt;String, Set&lt;String&gt;&gt;`.\r\n\r\nWould be really grateful if someone can show me at least a direction to go.\r\n\r\n**Note** that is a critical operation and should be done in few milliseconds, hence performance is important.","title":"Java-Stream - Sort and Transform elements using groupingBy()","body":"<p>Suppose I have the following domain class:</p>\n<pre><code>public class OrderRow {\n    private Long orderId;\n    private String action;\n    private LocalDateTime timestamp;\n    \n    // getters, constructor, etc.\n}\n</code></pre>\n<p>I have a following data set of <code>OrderRow</code>s :</p>\n<pre><code>OrderId     Action                  Timestamp\n3           Pay money               2015-05-27 12:48:47.000\n3           Select Item             2015-05-27 12:44:47.000\n1           Generate Payment        2015-05-27 12:55:47.000\n2           Pay money               2015-05-27 12:48:47.000\n2           Select Item             2015-05-27 12:44:47.000\n2           Deliver                 2015-05-27 12:55:47.000\n1           Generate Invoice        2015-05-27 12:48:47.000\n1           Create PO               2015-05-27 12:44:47.000\n3           Deliver                 2015-05-27 12:55:47.000\n</code></pre>\n<p>What I want to obtain the following <code>Map</code> from the sample data shown above:</p>\n<pre><code>[3] -&gt; [&quot;Select Item&quot;, &quot;Pay money&quot;, &quot;Deliver&quot;]\n[1] -&gt; [&quot;Create PO&quot;, &quot;Generate Invoice&quot;, &quot;Generate Payment&quot;]\n[2] -&gt; [&quot;Select Item&quot;, &quot;Pay money&quot;, &quot;Deliver&quot;]  \n</code></pre>\n<p>By performing below operations :</p>\n<ol>\n<li>I want to groupBy <code>orderId</code>.</li>\n<li>Sort actions by <code>timestamp</code>.</li>\n<li>Create a <code>Set</code> (as there can be duplicates) of <code>action</code>s.</li>\n</ol>\n<p>I am trying to do this in a single <code>groupingBy</code> operation as performing separate sorting, <code>mapping</code> operations take a lot of time if data set is huge.</p>\n<p>I've tried to do the following:</p>\n<pre><code>orderRows.stream()\n    .collect(Collectors.groupingBy(OrderRow::getOrderId, \n        Collectors.mapping(Function.identity(),\n            Collectors.toCollection(\n                () -&gt; new TreeSet&lt;&gt;(Comparator.comparing(e -&gt; e.timestamp))\n    ))));\n</code></pre>\n<p>But then I get output as <code>Map&lt;String, Set&lt;OrderRow&gt;&gt;</code>\nwhere as I need the result of type <code>Map&lt;String, Set&lt;String&gt;&gt;</code>.</p>\n<p>Would be really grateful if someone can show me at least a direction to go.</p>\n<p><strong>Note</strong> that is a critical operation and should be done in few milliseconds, hence performance is important.</p>\n"},{"tags":["java","list","java-stream","collectors"],"comments":[{"owner":{"account_id":11238821,"reputation":63,"user_id":8243925,"display_name":"noob123"},"score":0,"creation_date":1671204165,"post_id":74825309,"comment_id":132055431,"body_markdown":"I tried to summerize it again.","body":"I tried to summerize it again."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1671205969,"post_id":74825309,"comment_id":132056034,"body_markdown":"So you have a list of `SampleObject`s `payload` and you want to collect `ValueObject`s that are contained in the lists corresponding to the same `id` into a single `List`, and create a new `SampleObject` based on each aggregated `List`, right? And the result should be of type `List&lt;SampleObject&gt;` ?","body":"So you have a list of <code>SampleObject</code>s <code>payload</code> and you want to collect <code>ValueObject</code>s that are contained in the lists corresponding to the same <code>id</code> into a single <code>List</code>, and create a new <code>SampleObject</code> based on each aggregated <code>List</code>, right? And the result should be of type <code>List&lt;SampleObject&gt;</code> ?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1671206023,"post_id":74825309,"comment_id":132056062,"body_markdown":"You forget to provide the field name for List&lt;ValueObject&gt; in the `SampleObject`.","body":"You forget to provide the field name for List&lt;ValueObject&gt; in the <code>SampleObject</code>."},{"owner":{"account_id":11238821,"reputation":63,"user_id":8243925,"display_name":"noob123"},"score":0,"creation_date":1671207764,"post_id":74825309,"comment_id":132056645,"body_markdown":"The ValueObject just contains some strings. \nYes, within the List&lt;SampleObject&gt; are entities that have the same id but different ValueObject. As ValueObject is a list, I want to merge all enteries that have the same id to one SampleObject, this object should contain all ValueObjects of the duplicates. Thank you for your help!","body":"The ValueObject just contains some strings.  Yes, within the List&lt;SampleObject&gt; are entities that have the same id but different ValueObject. As ValueObject is a list, I want to merge all enteries that have the same id to one SampleObject, this object should contain all ValueObjects of the duplicates. Thank you for your help!"}],"answers":[{"comments":[{"owner":{"account_id":11238821,"reputation":63,"user_id":8243925,"display_name":"noob123"},"score":0,"creation_date":1671723870,"post_id":74827142,"comment_id":132163623,"body_markdown":"Thank you again for the answer but I have a question afterwards, does this change the order of the initial list?","body":"Thank you again for the answer but I have a question afterwards, does this change the order of the initial list?"}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671208264,"creation_date":1671207626,"answer_id":74827142,"question_id":74825309,"body_markdown":"# [`Collectors.flatMapping()`][flatMapping]\r\n\r\nIn order to combine together and store into a single list all the `ValueObject`s that correspond to the same `id` you can use Collector `flatMapping()`, which expects a *function* that produces a Stream from the element (*similarly to* `flatMap()` *operation*) and a downstream Collector which tells how the new elements produced by the *function* need to be stored.\r\n\r\nA combination of Collectors `groupingBy()` and `flatMapping()` would give you a map of type `Map&lt;UUID, List&lt;ValueObject&gt;&gt;`. To produce a `List` of `SampleObject`s out of it, you can create a stream map entries, transform each entry into a `SampleObject` and then collect the elements into a List.\r\n\r\nThat&#39;s how implementation might look like:\r\n\r\n```\r\nList&lt;SampleObject&gt; payload = // initializing the list\r\n    \r\nList&lt;SampleObject&gt; mergedData = payload.stream()\r\n    .collect(Collectors.groupingBy( // intermediate Map&lt;UUID, List&lt;ValueObject&gt;&gt;\r\n        SampleObject::getId,\r\n        Collectors.flatMapping(\r\n            sampleObject -&gt; sampleObject.getValues().stream(),\r\n            Collectors.toList()\r\n        )\r\n    ))\r\n    .entrySet().stream()\r\n    .map(entry -&gt; new SampleObject(entry.getKey(), entry.getValue()))\r\n    .toList(); // for Java 16+ or collect(Collectors.toList())\r\n```\r\n\r\n\r\n   [flatMapping]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#flatMapping(java.util.function.Function,java.util.stream.Collector)","title":"Merge/aggregate objects within a list java","body":"<h1><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#flatMapping(java.util.function.Function,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>Collectors.flatMapping()</code></a></h1>\n<p>In order to combine together and store into a single list all the <code>ValueObject</code>s that correspond to the same <code>id</code> you can use Collector <code>flatMapping()</code>, which expects a <em>function</em> that produces a Stream from the element (<em>similarly to</em> <code>flatMap()</code> <em>operation</em>) and a downstream Collector which tells how the new elements produced by the <em>function</em> need to be stored.</p>\n<p>A combination of Collectors <code>groupingBy()</code> and <code>flatMapping()</code> would give you a map of type <code>Map&lt;UUID, List&lt;ValueObject&gt;&gt;</code>. To produce a <code>List</code> of <code>SampleObject</code>s out of it, you can create a stream map entries, transform each entry into a <code>SampleObject</code> and then collect the elements into a List.</p>\n<p>That's how implementation might look like:</p>\n<pre><code>List&lt;SampleObject&gt; payload = // initializing the list\n    \nList&lt;SampleObject&gt; mergedData = payload.stream()\n    .collect(Collectors.groupingBy( // intermediate Map&lt;UUID, List&lt;ValueObject&gt;&gt;\n        SampleObject::getId,\n        Collectors.flatMapping(\n            sampleObject -&gt; sampleObject.getValues().stream(),\n            Collectors.toList()\n        )\n    ))\n    .entrySet().stream()\n    .map(entry -&gt; new SampleObject(entry.getKey(), entry.getValue()))\n    .toList(); // for Java 16+ or collect(Collectors.toList())\n</code></pre>\n"}],"owner":{"account_id":11238821,"reputation":63,"user_id":8243925,"display_name":"noob123"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74827142,"answer_count":1,"score":2,"last_activity_date":1678142185,"creation_date":1671198376,"question_id":74825309,"body_markdown":"I have a custom type which looks like this:\r\n\r\n    public class SampleObject {\r\n        private UUID id;\r\n        private List&lt;ValueObject&gt; values;\r\n        \r\n        // getters, all-args constructor, etc.\r\n    }\r\n\r\nThe `ValueObject` just contains some Strings.\r\n\r\nAnd I have a `List` of `SampleObject`s `payload`. Within that list, there are several objects with the **same** `id` but different values in the` List&lt;ValueObject&gt;`.\r\n\r\nWhat I want to archive is to merge all objects with the same `id` and add all the different lists of the `ValueObject`s in one merged object.\r\n\r\nAt the end, I need again a list of `SampleObject`s.\r\n\r\nWhat I tried is the following: \r\n\r\n```\r\nList&lt;SampleObject&gt; payload = // initializing the List\r\n\r\npayload.stream().collect(Collectors.groupingBy(SampleObject::getId));\r\n```\r\n\r\nBut this returns a `Map` of `List` of `SampleObject`s. \r\nAnd I don&#39;t know how to merge then the objects under the value of this Map.","title":"Merge/aggregate objects within a list java","body":"<p>I have a custom type which looks like this:</p>\n<pre><code>public class SampleObject {\n    private UUID id;\n    private List&lt;ValueObject&gt; values;\n    \n    // getters, all-args constructor, etc.\n}\n</code></pre>\n<p>The <code>ValueObject</code> just contains some Strings.</p>\n<p>And I have a <code>List</code> of <code>SampleObject</code>s <code>payload</code>. Within that list, there are several objects with the <strong>same</strong> <code>id</code> but different values in the<code> List&lt;ValueObject&gt;</code>.</p>\n<p>What I want to archive is to merge all objects with the same <code>id</code> and add all the different lists of the <code>ValueObject</code>s in one merged object.</p>\n<p>At the end, I need again a list of <code>SampleObject</code>s.</p>\n<p>What I tried is the following:</p>\n<pre><code>List&lt;SampleObject&gt; payload = // initializing the List\n\npayload.stream().collect(Collectors.groupingBy(SampleObject::getId));\n</code></pre>\n<p>But this returns a <code>Map</code> of <code>List</code> of <code>SampleObject</code>s.\nAnd I don't know how to merge then the objects under the value of this Map.</p>\n"},{"tags":["java","spring-boot","aerospike"],"answers":[{"comments":[{"owner":{"account_id":352053,"reputation":522,"user_id":688926,"display_name":"Anastasiia Smirnova"},"score":0,"creation_date":1625830339,"post_id":68297876,"comment_id":120738321,"body_markdown":"`@class` can actually be turned off, but with the consequences. I&#39;ve added a comment how to do this. Could you please update your answer? Thanks!","body":"<code>@class</code> can actually be turned off, but with the consequences. I&#39;ve added a comment how to do this. Could you please update your answer? Thanks!"}],"tags":[],"owner":{"account_id":20706132,"reputation":795,"user_id":15203960,"display_name":"Roi Menashe"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649335029,"creation_date":1625732054,"answer_id":68297876,"question_id":68292496,"body_markdown":"Spring Data Aerospike stores both `@_class` and `@user_key` bins by default out of the box.\r\n\r\nWe store `@_class` bin in order to know how to map back the object to a Plain Old Java Object (POJO) when reading a record from Aerospike.\r\n\r\nWe store `@user_key` because Aerospike doesn’t store the user key (only the digest) when saving a record, you can read more about the data model in Aerospike here: https://docs.aerospike.com/docs/architecture/data-model.html,\r\n so when you have historical data it’s helpful to know the original user key.\r\n\r\nYou can disable @_class, but with consequences. Please check Anastasiia Smirnova&#39;s comment.","title":"spring aerospike data - how to remove @user_key and @_class bins from sets","body":"<p>Spring Data Aerospike stores both <code>@_class</code> and <code>@user_key</code> bins by default out of the box.</p>\n<p>We store <code>@_class</code> bin in order to know how to map back the object to a Plain Old Java Object (POJO) when reading a record from Aerospike.</p>\n<p>We store <code>@user_key</code> because Aerospike doesn’t store the user key (only the digest) when saving a record, you can read more about the data model in Aerospike here: <a href=\"https://docs.aerospike.com/docs/architecture/data-model.html\" rel=\"nofollow noreferrer\">https://docs.aerospike.com/docs/architecture/data-model.html</a>,\nso when you have historical data it’s helpful to know the original user key.</p>\n<p>You can disable @_class, but with consequences. Please check Anastasiia Smirnova's comment.</p>\n"},{"tags":[],"owner":{"account_id":352053,"reputation":522,"user_id":688926,"display_name":"Anastasiia Smirnova"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1625830108,"creation_date":1625830108,"answer_id":68316000,"question_id":68292496,"body_markdown":"Storing `@class` can be disabled via providing the following bean in the context:\r\n\r\n    @Bean\r\n    @Override\r\n    public AerospikeTypeAliasAccessor aerospikeTypeAliasAccessor() {\r\n        //we do not want to save @class field with type of document into Aerospike\r\n        return new AerospikeTypeAliasAccessor(null);\r\n    }\r\n\r\nNote, that disabling saving type information will make it impossible to read documents with generic data types.","title":"spring aerospike data - how to remove @user_key and @_class bins from sets","body":"<p>Storing <code>@class</code> can be disabled via providing the following bean in the context:</p>\n<pre><code>@Bean\n@Override\npublic AerospikeTypeAliasAccessor aerospikeTypeAliasAccessor() {\n    //we do not want to save @class field with type of document into Aerospike\n    return new AerospikeTypeAliasAccessor(null);\n}\n</code></pre>\n<p>Note, that disabling saving type information will make it impossible to read documents with generic data types.</p>\n"},{"comments":[{"owner":{"account_id":20706132,"reputation":795,"user_id":15203960,"display_name":"Roi Menashe"},"score":0,"creation_date":1678176640,"post_id":75656455,"comment_id":133478038,"body_markdown":"Just be aware of classes with the same name under different packages.","body":"Just be aware of classes with the same name under different packages."}],"tags":[],"owner":{"account_id":68404,"reputation":9917,"user_id":199593,"accept_rate":50,"display_name":"edigu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678141991,"creation_date":1678141991,"answer_id":75656455,"question_id":68292496,"body_markdown":"Yes, `@_class` is needed to map the data back to the java class you persisted, as others already mentioned. It might be not needed on use cases like write using spring-data-aerospike and read via another application or tool outside.\r\n\r\nI had a similar issue with Aerospike but my concern was slightly different: writing very long and repetitive class names with each record on a write-heavy application: sacrificing more bytes, more memory in long term, than actually needed.\r\n\r\nSolution to save some bytes per record was using a type alias:\r\n\r\n    import org.springframework.data.annotation.TypeAlias;\r\n\r\n    @Document\r\n    @TypeAlias(&quot;DeliveryRequest&quot;)\r\n    public class DeliveryRequest {}\r\n\r\nSo it reduced the space needed from `71 bytes`:\r\n\r\n    com.myorganization.servicemanager.delivery.domain.model.DeliveryRequest\r\n\r\nto `15 bytes`.\r\n\r\nWanted to share it as a hint for devs dealing with long and annoying class/package names in AQL outputs.\r\n\r\n\r\n\r\n","title":"spring aerospike data - how to remove @user_key and @_class bins from sets","body":"<p>Yes, <code>@_class</code> is needed to map the data back to the java class you persisted, as others already mentioned. It might be not needed on use cases like write using spring-data-aerospike and read via another application or tool outside.</p>\n<p>I had a similar issue with Aerospike but my concern was slightly different: writing very long and repetitive class names with each record on a write-heavy application: sacrificing more bytes, more memory in long term, than actually needed.</p>\n<p>Solution to save some bytes per record was using a type alias:</p>\n<pre><code>import org.springframework.data.annotation.TypeAlias;\n\n@Document\n@TypeAlias(&quot;DeliveryRequest&quot;)\npublic class DeliveryRequest {}\n</code></pre>\n<p>So it reduced the space needed from <code>71 bytes</code>:</p>\n<pre><code>com.myorganization.servicemanager.delivery.domain.model.DeliveryRequest\n</code></pre>\n<p>to <code>15 bytes</code>.</p>\n<p>Wanted to share it as a hint for devs dealing with long and annoying class/package names in AQL outputs.</p>\n"}],"owner":{"account_id":7867974,"reputation":41,"user_id":5946233,"display_name":"Shaho Shahbazpanahi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1678141991,"creation_date":1625688742,"question_id":68292496,"body_markdown":"I am new to the spring-aerospike-data, I was hoping if someone could let me know how can I remove `@user_key` and `@_class` bins when I send post request to the application. I am trying to use spring-areospike-data in my Rest-api. please see bleow example:\r\n\r\n - POM dependecis:\r\n```lang-xml\r\n\r\n     &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.aerospike&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-aerospike&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n```\r\n- Spring version: 2.5.1\r\n- Configruation classes:\r\n\r\n```lang-java\r\n\r\n    @Data\r\n    @Component\r\n    @ConfigurationProperties(prefix = &quot;aerospike&quot;)\r\n    public class AerospikeConfigurationProperties {\r\n     private String host;\r\n     private int port;\r\n     private String namespace;\r\n    }\r\n\r\n```\r\n\r\n```lang-java\r\n\r\n     @Configuration\r\n    @EnableConfigurationProperties(AerospikeConfigurationProperties.class)\r\n    @EnableAerospikeRepositories(basePackages = &quot;com.moneris.repositories&quot;)\r\n    public class AerospikeConfiguration extends AbstractAerospikeDataConfiguration {\r\n     @Autowired\r\n     private AerospikeConfigurationProperties aerospikeConfigurationProperties;\r\n     @Override\r\n     protected Collection&lt;Host&gt; getHosts() {\r\n        return Collections.singleton(new Host(aerospikeConfigurationProperties.getHost(), \r\n       aerospikeConfigurationProperties.getPort()));\r\n    }\r\n \t@Override\r\n    protected String nameSpace() {\r\n        return aerospikeConfigurationProperties.getNamespace();\r\n    }\r\n   }\r\n\r\n```\r\n\r\n\r\n\r\npom dependencies:\r\nhere is my POJO:\r\n\r\n``` lang-java\r\n\r\n    @Data\r\n    @Document\r\n    @AllArgsConstructor\r\n    public class UserApi {\r\n     @Id\r\n     private String apiKey;\r\n     private String apiName;\r\n     private int enabled;\r\n   \r\n   }\r\n\r\n```\r\n\r\n\r\nand here is the repo:\r\n\r\n```lang-java\r\n\r\n    public interface AerospikeUserApiKeyRepository extends CrudRepository&lt;UserApi, String&gt; {\r\n\t\r\n   }\r\n\r\n```\r\nand here is service:\r\n\r\n``` lang-java\r\n\r\n    @Service\r\n    @AllArgsConstructor\r\n    public class UserService {\r\n   \r\n        AerospikeUserApiKeyRepository aerospikeUserApiKeyRepository;\r\n    public void addUserApiKey(UserApi userApi) {\r\n    \taerospikeUserApiKeyRepository.save(userApi);\r\n    }\r\n    \r\n    public Optional&lt;UserApi&gt; getUserApi(String apiKey){\r\n    \treturn aerospikeUserApiKeyRepository.findById(apiKey);\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\nhere the controller:\r\n\r\n```lang-java\r\n\r\n    @RestController\r\n    @AllArgsConstructor\r\n    public class UserController {\r\n    UserService userService;\r\n\r\n    @PostMapping(&quot;/users/apiKey&quot;)\r\n    public void addUserApi(@RequestBody UserApi userApi) {\r\n        userService.addUserApiKey(userApi);;\r\n    }\r\n    \r\n    @GetMapping(&quot;/users/apiKey/{apiKey}&quot;)\r\n         public Optional&lt;UserApi&gt; getUserApi(@PathVariable(&quot;apiKey&quot;) String apiKey) {\r\n        return userService.getUserApi(apiKey);\r\n    }\r\n}\r\n\r\n```\r\nwhen I run my applicaiton and send post request to the ```http://localhost:8080/users/apiKey``` with below json body\r\n\r\n```lang-json\r\n{\r\n    &quot;apiKey&quot;: &quot;ABC&quot;,\r\n    &quot;apiName&quot;: &quot;TEST&quot;,\r\n    &quot;enabled&quot;: 1\r\n}\r\n\r\n```\r\n I am geting below record in the aerospike db [![enter image description here][1]][1]\r\n is ther any way not stor ```@user_key and @_class``` in the sets? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kMKBU.png","title":"spring aerospike data - how to remove @user_key and @_class bins from sets","body":"<p>I am new to the spring-aerospike-data, I was hoping if someone could let me know how can I remove <code>@user_key</code> and <code>@_class</code> bins when I send post request to the application. I am trying to use spring-areospike-data in my Rest-api. please see bleow example:</p>\n<ul>\n<li>POM dependecis:</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>\n     &lt;dependency&gt;\n            &lt;groupId&gt;com.aerospike&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-aerospike&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n<ul>\n<li>Spring version: 2.5.1</li>\n<li>Configruation classes:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @Data\n    @Component\n    @ConfigurationProperties(prefix = &quot;aerospike&quot;)\n    public class AerospikeConfigurationProperties {\n     private String host;\n     private int port;\n     private String namespace;\n    }\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\n     @Configuration\n    @EnableConfigurationProperties(AerospikeConfigurationProperties.class)\n    @EnableAerospikeRepositories(basePackages = &quot;com.moneris.repositories&quot;)\n    public class AerospikeConfiguration extends AbstractAerospikeDataConfiguration {\n     @Autowired\n     private AerospikeConfigurationProperties aerospikeConfigurationProperties;\n     @Override\n     protected Collection&lt;Host&gt; getHosts() {\n        return Collections.singleton(new Host(aerospikeConfigurationProperties.getHost(), \n       aerospikeConfigurationProperties.getPort()));\n    }\n    @Override\n    protected String nameSpace() {\n        return aerospikeConfigurationProperties.getNamespace();\n    }\n   }\n\n</code></pre>\n<p>pom dependencies:\nhere is my POJO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @Data\n    @Document\n    @AllArgsConstructor\n    public class UserApi {\n     @Id\n     private String apiKey;\n     private String apiName;\n     private int enabled;\n   \n   }\n\n</code></pre>\n<p>and here is the repo:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    public interface AerospikeUserApiKeyRepository extends CrudRepository&lt;UserApi, String&gt; {\n    \n   }\n\n</code></pre>\n<p>and here is service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @Service\n    @AllArgsConstructor\n    public class UserService {\n   \n        AerospikeUserApiKeyRepository aerospikeUserApiKeyRepository;\n    public void addUserApiKey(UserApi userApi) {\n        aerospikeUserApiKeyRepository.save(userApi);\n    }\n    \n    public Optional&lt;UserApi&gt; getUserApi(String apiKey){\n        return aerospikeUserApiKeyRepository.findById(apiKey);\n    }\n    \n}\n\n</code></pre>\n<p>here the controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @RestController\n    @AllArgsConstructor\n    public class UserController {\n    UserService userService;\n\n    @PostMapping(&quot;/users/apiKey&quot;)\n    public void addUserApi(@RequestBody UserApi userApi) {\n        userService.addUserApiKey(userApi);;\n    }\n    \n    @GetMapping(&quot;/users/apiKey/{apiKey}&quot;)\n         public Optional&lt;UserApi&gt; getUserApi(@PathVariable(&quot;apiKey&quot;) String apiKey) {\n        return userService.getUserApi(apiKey);\n    }\n}\n\n</code></pre>\n<p>when I run my applicaiton and send post request to the <code>http://localhost:8080/users/apiKey</code> with below json body</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;apiKey&quot;: &quot;ABC&quot;,\n    &quot;apiName&quot;: &quot;TEST&quot;,\n    &quot;enabled&quot;: 1\n}\n\n</code></pre>\n<p>I am geting below record in the aerospike db <a href=\"https://i.stack.imgur.com/kMKBU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kMKBU.png\" alt=\"enter image description here\" /></a>\nis ther any way not stor <code>@user_key and @_class</code> in the sets?</p>\n"},{"tags":["java","javafx","inputstream","fileinputstream"],"answers":[{"comments":[{"owner":{"account_id":12615780,"reputation":35,"user_id":9173300,"accept_rate":100,"display_name":"Splanas00"},"score":0,"creation_date":1521286099,"post_id":49335227,"comment_id":85672402,"body_markdown":"Thanks a lot,  it worked.  But there is a way to use JavaFX instead of java.awt.image.BufferedImage (AWT)?","body":"Thanks a lot,  it worked.  But there is a way to use JavaFX instead of java.awt.image.BufferedImage (AWT)?"},{"owner":{"account_id":10594997,"reputation":531,"user_id":7804060,"display_name":"Liudmila Kornilova"},"score":0,"creation_date":1521287495,"post_id":49335227,"comment_id":85672773,"body_markdown":"I tried to google it but there are lots of solutions for android and I know nothing about it (I am not sure if you write this code for android or not). You need to convert Image to byte array and then create ByteArrayInputStream, so you can try _ImageView to byte array_ search request","body":"I tried to google it but there are lots of solutions for android and I know nothing about it (I am not sure if you write this code for android or not). You need to convert Image to byte array and then create ByteArrayInputStream, so you can try <i>ImageView to byte array</i> search request"}],"tags":[],"owner":{"account_id":10594997,"reputation":531,"user_id":7804060,"display_name":"Liudmila Kornilova"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1521284568,"creation_date":1521284568,"answer_id":49335227,"question_id":49335128,"body_markdown":"What if you get bytes from an image and create ByteArrayInputStream?\r\n\r\n    ImageView view = new ImageView();\r\n    BufferedImage bImage = SwingFXUtils.fromFXImage(view.getImage(), null);\r\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n    try {\r\n        ImageIO.write(bImage, &quot;png&quot;, outputStream);\r\n        byte[] res  = outputStream.toByteArray();\r\n        InputStream inputStream = new ByteArrayInputStream(res);\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }","title":"How to convert a JavaFX ImageView to InputStream","body":"<p>What if you get bytes from an image and create ByteArrayInputStream?</p>\n\n<pre><code>ImageView view = new ImageView();\nBufferedImage bImage = SwingFXUtils.fromFXImage(view.getImage(), null);\nByteArrayOutputStream outputStream = new ByteArrayOutputStream();\ntry {\n    ImageIO.write(bImage, \"png\", outputStream);\n    byte[] res  = outputStream.toByteArray();\n    InputStream inputStream = new ByteArrayInputStream(res);\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":12615780,"reputation":35,"user_id":9173300,"accept_rate":100,"display_name":"Splanas00"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2403,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49335227,"answer_count":1,"score":1,"last_activity_date":1678141946,"creation_date":1521283977,"question_id":49335128,"body_markdown":"I have an `ImageView` that contains an image, what I need is to make a getImage() of the `ImageView` and convert it to an `InputStream`. This is the code that I have:\r\n\r\n    try {\r\n\r\n        File fileImage = new File(ivImage.getImage());\r\n    \r\n        InputStream isImage = (InputStream) new FileInputStream(fileImage);\r\n    \r\n    } catch (FileNotFoundException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n\r\nIs there a way to get the `ImageView` image and convert it to `InputStream` ?\r\n\r\nThanks","title":"How to convert a JavaFX ImageView to InputStream","body":"<p>I have an <code>ImageView</code> that contains an image, what I need is to make a getImage() of the <code>ImageView</code> and convert it to an <code>InputStream</code>. This is the code that I have:</p>\n\n<pre><code>try {\n\n    File fileImage = new File(ivImage.getImage());\n\n    InputStream isImage = (InputStream) new FileInputStream(fileImage);\n\n} catch (FileNotFoundException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>Is there a way to get the <code>ImageView</code> image and convert it to <code>InputStream</code> ?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","intellij-idea","compilation","jetbrains-ide"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":3,"creation_date":1678142083,"post_id":75656361,"comment_id":133473028,"body_markdown":"You need to tell IntelliJ what the &quot;sources root&quot; folder(s) is/are, that is, the root of the source tree.  You should be able to do that in your project window - right-click on the folder, and select &quot;Mark Directory As&quot; | &quot;Sources Root&quot;.","body":"You need to tell IntelliJ what the &quot;sources root&quot; folder(s) is/are, that is, the root of the source tree.  You should be able to do that in your project window - right-click on the folder, and select &quot;Mark Directory As&quot; | &quot;Sources Root&quot;."},{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":0,"creation_date":1678159404,"post_id":75656361,"comment_id":133475364,"body_markdown":"Dawood&#39;s suggestion should be right here. See here for details: https://www.jetbrains.com/help/idea/content-roots.html","body":"Dawood&#39;s suggestion should be right here. See here for details: <a href=\"https://www.jetbrains.com/help/idea/content-roots.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/content-roots.html</a>"}],"owner":{"account_id":25761004,"reputation":45,"user_id":19511943,"display_name":"UrosDjosic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678141160,"creation_date":1678141160,"question_id":75656361,"body_markdown":"For months now, I have been using IntelliJ IDEA to write my Java projects. I have always made them in the same directory, and never had any problems with the IDE.\r\n\r\nHowever, after starting a new college course of OOP in Java, I decided to save all my college projects in a seperate directory. To my surpirse, IntelliJ IDEA simply REFUSED to compile any projects made here.\r\n\r\nThe specific error I get is:\r\n\r\n```\r\nError: Could not find or load main class Main\r\nCaused by: java.lang.ClassNotFoundException: Main\r\n\r\nProcess finished with exit code 1\r\n```\r\nIt suggests &#39;rebuilding the project&#39;, which results in the following:\r\n\r\n```\r\nInternal error (java.io.IOException): Cannot find IntelliJ IDEA project files at C:\\IMPERIUM ROMANUM\\Fakultet Tehnickih Nauka\\Semestar II\\Objektno Orijentisano Programiranje I\\Vežbe\\VEZBE_00 et VEZBE_01\\Vezbe01\r\njava.io.IOException: Cannot find IntelliJ IDEA project files at C:\\IMPERIUM ROMANUM\\Fakultet Tehnickih Nauka\\Semestar II\\Objektno Orijentisano Programiranje I\\Vežbe\\VEZBE_00 et VEZBE_01\\Vezbe01\r\n\tat org.jetbrains.jps.model.serialization.JpsProjectLoader.loadProject(JpsProjectLoader.java:124)\r\n\tat org.jetbrains.jps.model.serialization.JpsProjectLoader.loadProject(JpsProjectLoader.java:101)\r\n\tat org.jetbrains.jps.model.serialization.impl.JpsSerializationManagerImpl.loadModel(JpsSerializationManagerImpl.java:23)\r\n\tat org.jetbrains.jps.cmdline.JpsModelLoaderImpl.loadModel(JpsModelLoaderImpl.java:34)\r\n\tat org.jetbrains.jps.cmdline.BuildRunner.load(BuildRunner.java:68)\r\n\tat org.jetbrains.jps.cmdline.BuildSession.runBuild(BuildSession.java:347)\r\n\tat org.jetbrains.jps.cmdline.BuildSession.run(BuildSession.java:193)\r\n\tat org.jetbrains.jps.cmdline.BuildMain$MyMessageHandler.lambda$channelRead0$0(BuildMain.java:211)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589)\r\n\r\nPlease perform full project rebuild (Build | Rebuild Project)\r\n```\r\n\r\nThis is incredibly frustrating, since we are talking about the simplest possible &quot;Hello World&quot; code, which has 0 complexity and doesn&#39;t even use any other classes except Main.\r\n\r\nWhat&#39;s funny is that this same code compiles perfectly through the command prompt with\r\n`javac Main.java`\r\n\r\nand runs without any issues with\r\n`java Main`\r\n\r\nDoes anyone have any similar experiences? Why is IntelliJ behaving like this, while working fine in all previous projects?","title":"IntelliJ IDEA refuses to work after changing directory in which I make Java projects","body":"<p>For months now, I have been using IntelliJ IDEA to write my Java projects. I have always made them in the same directory, and never had any problems with the IDE.</p>\n<p>However, after starting a new college course of OOP in Java, I decided to save all my college projects in a seperate directory. To my surpirse, IntelliJ IDEA simply REFUSED to compile any projects made here.</p>\n<p>The specific error I get is:</p>\n<pre><code>Error: Could not find or load main class Main\nCaused by: java.lang.ClassNotFoundException: Main\n\nProcess finished with exit code 1\n</code></pre>\n<p>It suggests 'rebuilding the project', which results in the following:</p>\n<pre><code>Internal error (java.io.IOException): Cannot find IntelliJ IDEA project files at C:\\IMPERIUM ROMANUM\\Fakultet Tehnickih Nauka\\Semestar II\\Objektno Orijentisano Programiranje I\\Vežbe\\VEZBE_00 et VEZBE_01\\Vezbe01\njava.io.IOException: Cannot find IntelliJ IDEA project files at C:\\IMPERIUM ROMANUM\\Fakultet Tehnickih Nauka\\Semestar II\\Objektno Orijentisano Programiranje I\\Vežbe\\VEZBE_00 et VEZBE_01\\Vezbe01\n    at org.jetbrains.jps.model.serialization.JpsProjectLoader.loadProject(JpsProjectLoader.java:124)\n    at org.jetbrains.jps.model.serialization.JpsProjectLoader.loadProject(JpsProjectLoader.java:101)\n    at org.jetbrains.jps.model.serialization.impl.JpsSerializationManagerImpl.loadModel(JpsSerializationManagerImpl.java:23)\n    at org.jetbrains.jps.cmdline.JpsModelLoaderImpl.loadModel(JpsModelLoaderImpl.java:34)\n    at org.jetbrains.jps.cmdline.BuildRunner.load(BuildRunner.java:68)\n    at org.jetbrains.jps.cmdline.BuildSession.runBuild(BuildSession.java:347)\n    at org.jetbrains.jps.cmdline.BuildSession.run(BuildSession.java:193)\n    at org.jetbrains.jps.cmdline.BuildMain$MyMessageHandler.lambda$channelRead0$0(BuildMain.java:211)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\n\nPlease perform full project rebuild (Build | Rebuild Project)\n</code></pre>\n<p>This is incredibly frustrating, since we are talking about the simplest possible &quot;Hello World&quot; code, which has 0 complexity and doesn't even use any other classes except Main.</p>\n<p>What's funny is that this same code compiles perfectly through the command prompt with\n<code>javac Main.java</code></p>\n<p>and runs without any issues with\n<code>java Main</code></p>\n<p>Does anyone have any similar experiences? Why is IntelliJ behaving like this, while working fine in all previous projects?</p>\n"},{"tags":["java","appium","desktop-application","winappdriver"],"owner":{"account_id":19116976,"reputation":11,"user_id":13961654,"display_name":"Yogev Abr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":776,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678141049,"creation_date":1595229594,"question_id":62990377,"body_markdown":"I am used to test Android and IOS in Appium, but now doing some Windows PC application automation, and want to use the same design pattern as in mobile apps - Page Object.&lt;br&gt;\r\nFor each element in my app I have `automationId` value, and I am trying to assign it using the `WindowsFindBy` annoatation, as follows:&lt;br&gt;\r\n\r\n    @WindowsFindBy(id = &quot;textBoxDirectory&quot;)\r\n    WebElement textBoxDirectory;\r\n\r\n\r\nAnd I event tried using the accessibility value, but get the same result as you can see in driver logs.\r\n&lt;br&gt;\r\n\r\n    @WindowsFindBy(accessibility = &quot;textBoxDirectory&quot;)\r\n    WebElement textBoxDirectory;\r\n\r\nThe page constructor does this:\r\n\r\n    public PageObject(WindowsDriver driver) {\r\n        this.driver = driver;\r\n        PageFactory.initElements(driver, this);\r\n    }\r\n\r\nin WinAppDriver log, I see that the driver is trying to find the element by **name** and not by **ID** as expected: &lt;br&gt;\r\n\r\n    {&quot;using&quot;:&quot;name&quot;,&quot;value&quot;:&quot;textBoxDirectory&quot;}\r\n    HTTP/1.1 404 Not Found\r\n    Content-Length: 139\r\n    Content-Type: application/json\r\n    \r\n    {&quot;status&quot;:7,&quot;value&quot;:{&quot;error&quot;:&quot;no such element&quot;,&quot;message&quot;:&quot;An element could not be located on the page using the given search parameters.&quot;}}\r\n\r\nWhen I try to access the field the primitive way: `textBoxDirectory = driver.findElementByAccessibilityId(&quot;textBoxDirectory&quot;);` I get the element succesfully.\r\n&lt;br&gt;\r\nThanks a lot for your help!\r\n","title":"PageFactory using Appium to test Windows desktop app","body":"<p>I am used to test Android and IOS in Appium, but now doing some Windows PC application automation, and want to use the same design pattern as in mobile apps - Page Object.<br>\nFor each element in my app I have <code>automationId</code> value, and I am trying to assign it using the <code>WindowsFindBy</code> annoatation, as follows:<br></p>\n<pre><code>@WindowsFindBy(id = &quot;textBoxDirectory&quot;)\nWebElement textBoxDirectory;\n</code></pre>\n<p>And I event tried using the accessibility value, but get the same result as you can see in driver logs.\n<br></p>\n<pre><code>@WindowsFindBy(accessibility = &quot;textBoxDirectory&quot;)\nWebElement textBoxDirectory;\n</code></pre>\n<p>The page constructor does this:</p>\n<pre><code>public PageObject(WindowsDriver driver) {\n    this.driver = driver;\n    PageFactory.initElements(driver, this);\n}\n</code></pre>\n<p>in WinAppDriver log, I see that the driver is trying to find the element by <strong>name</strong> and not by <strong>ID</strong> as expected: <br></p>\n<pre><code>{&quot;using&quot;:&quot;name&quot;,&quot;value&quot;:&quot;textBoxDirectory&quot;}\nHTTP/1.1 404 Not Found\nContent-Length: 139\nContent-Type: application/json\n\n{&quot;status&quot;:7,&quot;value&quot;:{&quot;error&quot;:&quot;no such element&quot;,&quot;message&quot;:&quot;An element could not be located on the page using the given search parameters.&quot;}}\n</code></pre>\n<p>When I try to access the field the primitive way: <code>textBoxDirectory = driver.findElementByAccessibilityId(&quot;textBoxDirectory&quot;);</code> I get the element succesfully.\n<br>\nThanks a lot for your help!</p>\n"},{"tags":["java","hashmap","java-stream","collectors"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1671552736,"post_id":74865728,"comment_id":132121548,"body_markdown":"`List&lt;String&gt;` is the _value_ type of your map, not the key type. You&#39;ll want a downstream collector to be able to map to the appropriate outputs instead of your source objects (e.g. `&quot;lizzard&quot;` instead of `{&quot;A&quot;, &quot;lizzard&quot;}`). Something akin to `Collectors.mapping(e -&gt; e[0], Collectors.toList())` in place of your current `#toList` call.","body":"<code>List&lt;String&gt;</code> is the <i>value</i> type of your map, not the key type. You&#39;ll want a downstream collector to be able to map to the appropriate outputs instead of your source objects (e.g. <code>&quot;lizzard&quot;</code> instead of <code>{&quot;A&quot;, &quot;lizzard&quot;}</code>). Something akin to <code>Collectors.mapping(e -&gt; e[0], Collectors.toList())</code> in place of your current <code>#toList</code> call."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671556107,"creation_date":1671556107,"answer_id":74866515,"question_id":74865728,"body_markdown":"Since elements in the stream are of type `String[]`, with your current collector\r\n```\r\nCollectors.groupingBy(e-&gt; e[1], Collectors.toList())\r\n```\r\nMap&#39;s Values would be of type `List&lt;String[]&gt;` (whilst you need a `List&lt;String&gt;`, not a list of arrays). Hence, you need to transform the stream elements received by the downstream Collector before storing them into a List.\r\n\r\nAs *@Rogue* has pointed out in the [comment][comment] you need to use Collector [`mapping()`][mapping] and the downstream of `groupingBy()`. And `toList()` should be in turn provided as the downstream Collector of `mapping()`.\r\n\r\n```\r\nString[][] guests = {\r\n    {&quot;A&quot;, &quot;lizzard&quot;},\r\n    {&quot;B&quot;, &quot;Gorilla&quot;},\r\n    {&quot;C&quot;, &quot;lizzard&quot;},\r\n    {&quot;D&quot;, &quot;Gorilla&quot;},\r\n    {&quot;E&quot;, &quot;lizzard&quot;},\r\n    {&quot;F&quot;, &quot;Gorilla&quot;},\r\n    {&quot;G&quot;, &quot;lizzard&quot;},\r\n    {&quot;H&quot;, &quot;Monkey&quot;},\r\n    {&quot;I&quot;, &quot;lizzard&quot;}\r\n};\r\n        \r\nMap&lt;String, List&lt;String&gt;&gt; guestMap = Arrays.stream(guests)\r\n    .collect(Collectors.groupingBy(\r\n        e -&gt; e[1],\r\n        Collectors.mapping(e -&gt; e[0],\r\n            Collectors.toList())\r\n    ));\r\n    \r\nguestMap.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\nMonkey -&gt; [H]\r\nlizzard -&gt; [A, C, E, G, I]\r\nGorilla -&gt; [B, D, F]\r\n```\r\n\r\n\r\n   [comment]: https://stackoverflow.com/questions/74865728/converting-2d-string-array-map-in-java8#comment132121548_74865728\r\n\r\n   [mapping]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#mapping(java.util.function.Function,java.util.stream.Collector)","title":"Converting 2d String Array into a Map in Java8","body":"<p>Since elements in the stream are of type <code>String[]</code>, with your current collector</p>\n<pre><code>Collectors.groupingBy(e-&gt; e[1], Collectors.toList())\n</code></pre>\n<p>Map's Values would be of type <code>List&lt;String[]&gt;</code> (whilst you need a <code>List&lt;String&gt;</code>, not a list of arrays). Hence, you need to transform the stream elements received by the downstream Collector before storing them into a List.</p>\n<p>As <em>@Rogue</em> has pointed out in the <a href=\"https://stackoverflow.com/questions/74865728/converting-2d-string-array-map-in-java8#comment132121548_74865728\">comment</a> you need to use Collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#mapping(java.util.function.Function,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>mapping()</code></a> and the downstream of <code>groupingBy()</code>. And <code>toList()</code> should be in turn provided as the downstream Collector of <code>mapping()</code>.</p>\n<pre><code>String[][] guests = {\n    {&quot;A&quot;, &quot;lizzard&quot;},\n    {&quot;B&quot;, &quot;Gorilla&quot;},\n    {&quot;C&quot;, &quot;lizzard&quot;},\n    {&quot;D&quot;, &quot;Gorilla&quot;},\n    {&quot;E&quot;, &quot;lizzard&quot;},\n    {&quot;F&quot;, &quot;Gorilla&quot;},\n    {&quot;G&quot;, &quot;lizzard&quot;},\n    {&quot;H&quot;, &quot;Monkey&quot;},\n    {&quot;I&quot;, &quot;lizzard&quot;}\n};\n        \nMap&lt;String, List&lt;String&gt;&gt; guestMap = Arrays.stream(guests)\n    .collect(Collectors.groupingBy(\n        e -&gt; e[1],\n        Collectors.mapping(e -&gt; e[0],\n            Collectors.toList())\n    ));\n    \nguestMap.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Monkey -&gt; [H]\nlizzard -&gt; [A, C, E, G, I]\nGorilla -&gt; [B, D, F]\n</code></pre>\n"}],"owner":{"account_id":7819979,"reputation":1197,"user_id":5913407,"accept_rate":57,"display_name":"LowCool"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74866515,"answer_count":1,"score":0,"last_activity_date":1678141047,"creation_date":1671551888,"question_id":74865728,"body_markdown":"Seems like a very basic question, I want to convert my 2d string array into a `Map` with `List` as a Value.\r\n\r\nI&#39;ve tried something like below:\r\n\r\n```\r\nMap&lt;String, List&lt;String&gt;&gt; guestMap = Arrays\r\n    .stream(guests)\r\n    .collect(Collectors.groupingBy(e-&gt; e[1], Collectors.toList()));\r\n```\r\n\r\nMy nested array of strings like this\r\n\r\n```\r\nString[][] guests = {\r\n    {&quot;A&quot;, &quot;lizzard&quot;},\r\n    {&quot;B&quot;, &quot;Gorilla&quot;},\r\n    {&quot;C&quot;, &quot;lizzard&quot;},\r\n    {&quot;D&quot;, &quot;Gorilla&quot;},\r\n    {&quot;E&quot;, &quot;lizzard&quot;},\r\n    {&quot;F&quot;, &quot;Gorilla&quot;},\r\n    {&quot;G&quot;, &quot;lizzard&quot;},\r\n    {&quot;H&quot;, &quot;Monkey&quot;},\r\n    {&quot;I&quot;, &quot;lizzard&quot;}\r\n};\r\n```\r\n\r\nI know about a way of solving it using `computeIfAbsent()`. But I&#39;m looking for a solution purely using Stream API.","title":"Converting 2d String Array into a Map in Java8","body":"<p>Seems like a very basic question, I want to convert my 2d string array into a <code>Map</code> with <code>List</code> as a Value.</p>\n<p>I've tried something like below:</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; guestMap = Arrays\n    .stream(guests)\n    .collect(Collectors.groupingBy(e-&gt; e[1], Collectors.toList()));\n</code></pre>\n<p>My nested array of strings like this</p>\n<pre><code>String[][] guests = {\n    {&quot;A&quot;, &quot;lizzard&quot;},\n    {&quot;B&quot;, &quot;Gorilla&quot;},\n    {&quot;C&quot;, &quot;lizzard&quot;},\n    {&quot;D&quot;, &quot;Gorilla&quot;},\n    {&quot;E&quot;, &quot;lizzard&quot;},\n    {&quot;F&quot;, &quot;Gorilla&quot;},\n    {&quot;G&quot;, &quot;lizzard&quot;},\n    {&quot;H&quot;, &quot;Monkey&quot;},\n    {&quot;I&quot;, &quot;lizzard&quot;}\n};\n</code></pre>\n<p>I know about a way of solving it using <code>computeIfAbsent()</code>. But I'm looking for a solution purely using Stream API.</p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673047029,"creation_date":1673047029,"answer_id":75036964,"question_id":75032886,"body_markdown":"The attempt is actually pretty close. We can achieve the desired result with the following code snippet:\r\n\r\n    Map&lt;Integer, List&lt;X&gt;&gt; map = \r\n        stream.collect(Collectors.groupingBy(x -&gt; x.getT().getHour()));;\r\n\r\n[&lt;kbd&gt;`Ideone.com` demo&lt;/kbd&gt;][ideone]\r\n\r\n[ideone]: https://ideone.com/CWLnx3","title":"How to use groupingby() to create a map from a stream in java, but grouping by not only by an attribute","body":"<p>The attempt is actually pretty close. We can achieve the desired result with the following code snippet:</p>\n<pre><code>Map&lt;Integer, List&lt;X&gt;&gt; map = \n    stream.collect(Collectors.groupingBy(x -&gt; x.getT().getHour()));;\n</code></pre>\n<p><a href=\"https://ideone.com/CWLnx3\" rel=\"nofollow noreferrer\"><kbd><code>Ideone.com</code> demo</kbd></a></p>\n"}],"owner":{"account_id":27454458,"reputation":3,"user_id":20946161,"display_name":"Cata Lebedina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75036964,"answer_count":1,"score":-1,"last_activity_date":1678141022,"creation_date":1673018852,"question_id":75032886,"body_markdown":"I have a stream from elements of a class x. One of the arributes (t) of the class x is from type LocalDateTime and I need to group the elements by hours.\r\n\r\nI tried something like this:\r\n\r\n    Map&lt;Integer, List&lt;x&gt;&gt; m = stream.collect(Collectors.groupingBy(x::t.getHour));\r\n\r\nBut this syntax doesn&#180;t work, any other idea of what i might be able to do?","title":"How to use groupingby() to create a map from a stream in java, but grouping by not only by an attribute","body":"<p>I have a stream from elements of a class x. One of the arributes (t) of the class x is from type LocalDateTime and I need to group the elements by hours.</p>\n<p>I tried something like this:</p>\n<pre><code>Map&lt;Integer, List&lt;x&gt;&gt; m = stream.collect(Collectors.groupingBy(x::t.getHour));\n</code></pre>\n<p>But this syntax doesn´t work, any other idea of what i might be able to do?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1675019093,"post_id":75276696,"comment_id":132833523,"body_markdown":"Maps do not easily lend themselves to recursive definitions like `Map&lt;String, Map&lt;string, Map&lt;string, ....&gt;&gt;&gt;`  It would be something like `Map&lt;String, Object&gt;` and require casting to use.  I would recommend you use an alternative data structure such as a linked list to hold the hierarchy.","body":"Maps do not easily lend themselves to recursive definitions like <code>Map&lt;String, Map&lt;string, Map&lt;string, ....&gt;&gt;&gt;</code>  It would be something like <code>Map&lt;String, Object&gt;</code> and require casting to use.  I would recommend you use an alternative data structure such as a linked list to hold the hierarchy."}],"answers":[{"comments":[{"owner":{"account_id":4625545,"reputation":39,"user_id":3749477,"display_name":"gravatasufoca"},"score":0,"creation_date":1675021948,"post_id":75277730,"comment_id":132834075,"body_markdown":"Perfect. You have such a privileged mind.","body":"Perfect. You have such a privileged mind."}],"tags":[],"owner":{"account_id":21401510,"reputation":66,"user_id":15763551,"display_name":"MahmoudFawzyKhalil"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675020323,"creation_date":1675020323,"answer_id":75277730,"question_id":75276696,"body_markdown":"Here is how you could do this using a Map&lt;String, Map&gt; and [mutable reduction][1] using the [collect](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.function.Supplier-java.util.function.BiConsumer-java.util.function.BiConsumer-) method that takes a supplier, accumulator, and combiner. The API is not the most pleasant to use, as WJS pointed out. \r\n\r\nIt requires unchecked casts because you can&#39;t represent these recursive structures of unknown depth using generics.\r\n\r\n\r\n    class Scratch {\r\n    public static void main(String[] args) {\r\n        var list = new String[]{&quot;caso.id&quot;,\r\n                &quot;caso.unidadeDoCaso.id&quot;,\r\n                &quot;caso.etiqueta&quot;,\r\n                &quot;caso.sigiloso&quot;,\r\n                &quot;caso.idPecaSegredoJustica&quot;,\r\n                &quot;caso.numeroAno&quot;,\r\n                &quot;caso.numero&quot;,\r\n                &quot;caso.competencia.id&quot;,\r\n                &quot;caso.competencia.ativo&quot;,\r\n                &quot;caso.competencia.nome&quot;,\r\n                &quot;caso.responsavel.id&quot;,\r\n                &quot;caso.responsavel.dadosPessoais.nome&quot;,\r\n                &quot;caso.escrivao.id&quot;,\r\n                &quot;caso.escrivao.dadosPessoais.nome&quot;};\r\n\r\n        Map&lt;String, Map&gt; result = Arrays.stream(list).collect(HashMap::new, Scratch::mapRecursively, HashMap::putAll);\r\n\r\n        System.out.println(result);\r\n        // {caso={unidadeDoCaso={id=null}, etiqueta=null, idPecaSegredoJustica=null, escrivao={id=null, dadosPessoais={nome=null}}, sigiloso=null, numero=null, id=null, numeroAno=null, responsavel={id=null, dadosPessoais={nome=null}}, competencia={ativo=null, nome=null, id=null}}}\r\n\r\n        System.out.println(result.get(&quot;caso&quot;).keySet());\r\n        // [unidadeDoCaso, etiqueta, idPecaSegredoJustica, escrivao, sigiloso, numero, id, numeroAno, responsavel, competencia]\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private static void mapRecursively(HashMap&lt;String, Map&gt; map, String s) {\r\n        // first recursion: s = caso.competencia.id\r\n        // second recursion: s = id\r\n\r\n        int dot = s.indexOf(&#39;.&#39;);\r\n\r\n        // Base case 1\r\n        if (dot == -1) {\r\n            map.put(s, null);\r\n            return;\r\n        }\r\n\r\n        String key = s.substring(0, dot); // caso\r\n        String value = s.substring(dot + 1); // competencia.id\r\n\r\n        boolean isFirstTimeToComeAcrossWord = !map.containsKey(key);\r\n        if (isFirstTimeToComeAcrossWord) {\r\n            map.put(key, new HashMap&lt;&gt;());\r\n        }\r\n\r\n        // Base case 2\r\n        int dot2 = value.indexOf(&#39;.&#39;);\r\n\r\n        if (dot2 == -1) {\r\n            map.get(key).put(value, null);\r\n            return;\r\n        }\r\n\r\n        String newKey = value.substring(0, dot2); // competencia\r\n        String leftover = value.substring(dot2 + 1); // id\r\n\r\n        boolean isFirstTimeWeComeAcrossNestedWord = !map.get(key).containsKey(newKey);\r\n        // Recursive cases\r\n        if (isFirstTimeWeComeAcrossNestedWord) {\r\n            var newMap = new HashMap&lt;String, Map&gt;();\r\n            map.get(key).put(newKey, newMap);\r\n            mapRecursively(newMap, leftover);\r\n        } else {\r\n            mapRecursively((HashMap&lt;String, Map&gt;) map.get(key).get(newKey), leftover);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Reduction","title":"Java stream groupingby nested string","body":"<p>Here is how you could do this using a Map&lt;String, Map&gt; and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Reduction\" rel=\"nofollow noreferrer\">mutable reduction</a> using the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.function.Supplier-java.util.function.BiConsumer-java.util.function.BiConsumer-\" rel=\"nofollow noreferrer\">collect</a> method that takes a supplier, accumulator, and combiner. The API is not the most pleasant to use, as WJS pointed out.</p>\n<p>It requires unchecked casts because you can't represent these recursive structures of unknown depth using generics.</p>\n<pre><code>class Scratch {\npublic static void main(String[] args) {\n    var list = new String[]{&quot;caso.id&quot;,\n            &quot;caso.unidadeDoCaso.id&quot;,\n            &quot;caso.etiqueta&quot;,\n            &quot;caso.sigiloso&quot;,\n            &quot;caso.idPecaSegredoJustica&quot;,\n            &quot;caso.numeroAno&quot;,\n            &quot;caso.numero&quot;,\n            &quot;caso.competencia.id&quot;,\n            &quot;caso.competencia.ativo&quot;,\n            &quot;caso.competencia.nome&quot;,\n            &quot;caso.responsavel.id&quot;,\n            &quot;caso.responsavel.dadosPessoais.nome&quot;,\n            &quot;caso.escrivao.id&quot;,\n            &quot;caso.escrivao.dadosPessoais.nome&quot;};\n\n    Map&lt;String, Map&gt; result = Arrays.stream(list).collect(HashMap::new, Scratch::mapRecursively, HashMap::putAll);\n\n    System.out.println(result);\n    // {caso={unidadeDoCaso={id=null}, etiqueta=null, idPecaSegredoJustica=null, escrivao={id=null, dadosPessoais={nome=null}}, sigiloso=null, numero=null, id=null, numeroAno=null, responsavel={id=null, dadosPessoais={nome=null}}, competencia={ativo=null, nome=null, id=null}}}\n\n    System.out.println(result.get(&quot;caso&quot;).keySet());\n    // [unidadeDoCaso, etiqueta, idPecaSegredoJustica, escrivao, sigiloso, numero, id, numeroAno, responsavel, competencia]\n}\n\n@SuppressWarnings(&quot;unchecked&quot;)\nprivate static void mapRecursively(HashMap&lt;String, Map&gt; map, String s) {\n    // first recursion: s = caso.competencia.id\n    // second recursion: s = id\n\n    int dot = s.indexOf('.');\n\n    // Base case 1\n    if (dot == -1) {\n        map.put(s, null);\n        return;\n    }\n\n    String key = s.substring(0, dot); // caso\n    String value = s.substring(dot + 1); // competencia.id\n\n    boolean isFirstTimeToComeAcrossWord = !map.containsKey(key);\n    if (isFirstTimeToComeAcrossWord) {\n        map.put(key, new HashMap&lt;&gt;());\n    }\n\n    // Base case 2\n    int dot2 = value.indexOf('.');\n\n    if (dot2 == -1) {\n        map.get(key).put(value, null);\n        return;\n    }\n\n    String newKey = value.substring(0, dot2); // competencia\n    String leftover = value.substring(dot2 + 1); // id\n\n    boolean isFirstTimeWeComeAcrossNestedWord = !map.get(key).containsKey(newKey);\n    // Recursive cases\n    if (isFirstTimeWeComeAcrossNestedWord) {\n        var newMap = new HashMap&lt;String, Map&gt;();\n        map.get(key).put(newKey, newMap);\n        mapRecursively(newMap, leftover);\n    } else {\n        mapRecursively((HashMap&lt;String, Map&gt;) map.get(key).get(newKey), leftover);\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":4625545,"reputation":39,"user_id":3749477,"display_name":"gravatasufoca"},"score":0,"creation_date":1675081709,"post_id":75278368,"comment_id":132844931,"body_markdown":"Great. Very simple and straight to the result.","body":"Great. Very simple and straight to the result."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675026156,"creation_date":1675026156,"answer_id":75278368,"question_id":75276696,"body_markdown":"In spite of my suggestion I decided to provide this. There are two recursive routines.\r\n- one to fill the map.\r\n- the other to print it.\r\n\r\n```\r\nString[] array = {\r\n        &quot;caso.id&quot;,&quot;caso.unidadeDoCaso.id&quot;,&quot;caso.etiqueta&quot;,\r\n        &quot;caso.sigiloso&quot;,&quot;caso.idPecaSegredoJustica&quot;,&quot;caso.numeroAno&quot;,\r\n        &quot;caso.numero&quot;,&quot;caso.competencia.id&quot;,&quot;caso.competencia.ativo&quot;,\r\n        &quot;caso.competencia.nome&quot;,&quot;caso.responsavel.id&quot;,\r\n        &quot;caso.responsavel.dadosPessoais.nome&quot;,&quot;caso.escrivao.id&quot;,\r\n        &quot;caso.escrivao.dadosPessoais.nome&quot;\r\n};\r\n```\r\n- Create the map\r\n- Then iterated across the data, splitting on the dot.\r\n- then call fill with the map, just split nodes, and the starting node index.\r\n```\r\nMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n\r\nfor (String s : array) {\r\n    String[] nodes = s.split(&quot;\\\\.&quot;);\r\n    fill(map, nodes, 0);\r\n}\r\n\r\nprint(map, &quot;&quot;);\r\n```\r\nprints\r\n```\r\ncaso\r\n   unidadeDoCaso\r\n      id\r\n   etiqueta\r\n   idPecaSegredoJustica\r\n   escrivao\r\n      id\r\n      dadosPessoais\r\n         nome\r\n   sigiloso\r\n   numero\r\n   id\r\n   numeroAno\r\n   responsavel\r\n      id\r\n      dadosPessoais\r\n         nome\r\n   competencia\r\n      ativo\r\n      nome\r\n      id\r\n```\r\nThe `fill` method continues until the supplied nodes are all processed.\r\n- first the map is checked to see if the node exists or not(equal to null)\r\n- if not present, a new map is constructed and added to the supplied map. Then the method is called to process the next node.\r\n- otherwise, the method is called to add the current node to the map after the one that exists and continue processing the nodes.\r\n```\r\npublic static void fill(Map&lt;String, Object&gt; map, String[] nodes, int i) {\r\n    if (i &gt;= nodes.length) {\r\n        return;\r\n    }\r\n    String node = nodes[i];\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    Map&lt;String, Object&gt; obj = (Map&lt;String, Object&gt;)(node);\r\n    if (obj == null) {\r\n        Map&lt;String, Object&gt; m = new HashMap&lt;&gt;();\r\n        map.put(node, m);\r\n        fill(m, nodes, i + 1);\r\n    } else {\r\n        fill( obj, nodes, i + 1);\r\n    }\r\n}\r\n```\r\nThis prints the map elements and indents each subsequent nested map level on a separate line. \r\n```\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\npublic static void print(Map&lt;String, Object&gt; map, String indent) {\r\n\r\n    for (String key : map.keySet()) {\r\n        if (key != null) {\r\n            System.out.println(indent + key);\r\n            print((Map&lt;String, Object&gt;) map.get(key), indent + &quot;   &quot;);\r\n        }\r\n    }\r\n}\r\n","title":"Java stream groupingby nested string","body":"<p>In spite of my suggestion I decided to provide this. There are two recursive routines.</p>\n<ul>\n<li>one to fill the map.</li>\n<li>the other to print it.</li>\n</ul>\n<pre><code>String[] array = {\n        &quot;caso.id&quot;,&quot;caso.unidadeDoCaso.id&quot;,&quot;caso.etiqueta&quot;,\n        &quot;caso.sigiloso&quot;,&quot;caso.idPecaSegredoJustica&quot;,&quot;caso.numeroAno&quot;,\n        &quot;caso.numero&quot;,&quot;caso.competencia.id&quot;,&quot;caso.competencia.ativo&quot;,\n        &quot;caso.competencia.nome&quot;,&quot;caso.responsavel.id&quot;,\n        &quot;caso.responsavel.dadosPessoais.nome&quot;,&quot;caso.escrivao.id&quot;,\n        &quot;caso.escrivao.dadosPessoais.nome&quot;\n};\n</code></pre>\n<ul>\n<li>Create the map</li>\n<li>Then iterated across the data, splitting on the dot.</li>\n<li>then call fill with the map, just split nodes, and the starting node index.</li>\n</ul>\n<pre><code>Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n\nfor (String s : array) {\n    String[] nodes = s.split(&quot;\\\\.&quot;);\n    fill(map, nodes, 0);\n}\n\nprint(map, &quot;&quot;);\n</code></pre>\n<p>prints</p>\n<pre><code>caso\n   unidadeDoCaso\n      id\n   etiqueta\n   idPecaSegredoJustica\n   escrivao\n      id\n      dadosPessoais\n         nome\n   sigiloso\n   numero\n   id\n   numeroAno\n   responsavel\n      id\n      dadosPessoais\n         nome\n   competencia\n      ativo\n      nome\n      id\n</code></pre>\n<p>The <code>fill</code> method continues until the supplied nodes are all processed.</p>\n<ul>\n<li>first the map is checked to see if the node exists or not(equal to null)</li>\n<li>if not present, a new map is constructed and added to the supplied map. Then the method is called to process the next node.</li>\n<li>otherwise, the method is called to add the current node to the map after the one that exists and continue processing the nodes.</li>\n</ul>\n<pre><code>public static void fill(Map&lt;String, Object&gt; map, String[] nodes, int i) {\n    if (i &gt;= nodes.length) {\n        return;\n    }\n    String node = nodes[i];\n    @SuppressWarnings(&quot;unchecked&quot;)\n    Map&lt;String, Object&gt; obj = (Map&lt;String, Object&gt;)(node);\n    if (obj == null) {\n        Map&lt;String, Object&gt; m = new HashMap&lt;&gt;();\n        map.put(node, m);\n        fill(m, nodes, i + 1);\n    } else {\n        fill( obj, nodes, i + 1);\n    }\n}\n</code></pre>\n<p>This prints the map elements and indents each subsequent nested map level on a separate line.</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\npublic static void print(Map&lt;String, Object&gt; map, String indent) {\n\n    for (String key : map.keySet()) {\n        if (key != null) {\n            System.out.println(indent + key);\n            print((Map&lt;String, Object&gt;) map.get(key), indent + &quot;   &quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4625545,"reputation":39,"user_id":3749477,"display_name":"gravatasufoca"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678140973,"creation_date":1675011548,"question_id":75276696,"body_markdown":"I have a list of string, and I want to be able to group them hierarchically.\r\n\r\nExample of the list:\r\n```\r\nvar list = new String[]{&quot;caso.id&quot;,\r\n&quot;caso.unidadeDoCaso.id&quot;,\r\n&quot;caso.etiqueta&quot;,\r\n&quot;caso.sigiloso&quot;,\r\n&quot;caso.idPecaSegredoJustica&quot;,\r\n&quot;caso.numeroAno&quot;,\r\n&quot;caso.numero&quot;,\r\n&quot;caso.competencia.id&quot;,\r\n&quot;caso.competencia.ativo&quot;,\r\n&quot;caso.competencia.nome&quot;,\r\n&quot;caso.responsavel.id&quot;,\r\n&quot;caso.responsavel.dadosPessoais.nome&quot;,\r\n&quot;caso.escrivao.id&quot;,\r\n&quot;caso.escrivao.dadosPessoais.nome&quot;};\r\n\r\n```\r\nI want to group them in Maps.\r\nLike:\r\n```\r\ncaso-&gt;\r\n   id\r\n   sigiloso,\r\n   ...\r\n   unidadeDoCaso-&gt;\r\n              id\r\n   competencia-&gt;\r\n              id\r\n              ativo\r\n              ...\r\n   responsavel-&gt;\r\n             id\r\n             dadosPessoais-&gt;\r\n                       nome\r\n                       ...\r\n              ...\r\n             \r\n  ...\r\n```\r\n\r\nI was able to group just one level. I was wondering if there&#39;s a way to do it recursively.\r\n\r\n","title":"Java stream groupingby nested string","body":"<p>I have a list of string, and I want to be able to group them hierarchically.</p>\n<p>Example of the list:</p>\n<pre><code>var list = new String[]{&quot;caso.id&quot;,\n&quot;caso.unidadeDoCaso.id&quot;,\n&quot;caso.etiqueta&quot;,\n&quot;caso.sigiloso&quot;,\n&quot;caso.idPecaSegredoJustica&quot;,\n&quot;caso.numeroAno&quot;,\n&quot;caso.numero&quot;,\n&quot;caso.competencia.id&quot;,\n&quot;caso.competencia.ativo&quot;,\n&quot;caso.competencia.nome&quot;,\n&quot;caso.responsavel.id&quot;,\n&quot;caso.responsavel.dadosPessoais.nome&quot;,\n&quot;caso.escrivao.id&quot;,\n&quot;caso.escrivao.dadosPessoais.nome&quot;};\n\n</code></pre>\n<p>I want to group them in Maps.\nLike:</p>\n<pre><code>caso-&gt;\n   id\n   sigiloso,\n   ...\n   unidadeDoCaso-&gt;\n              id\n   competencia-&gt;\n              id\n              ativo\n              ...\n   responsavel-&gt;\n             id\n             dadosPessoais-&gt;\n                       nome\n                       ...\n              ...\n             \n  ...\n</code></pre>\n<p>I was able to group just one level. I was wondering if there's a way to do it recursively.</p>\n"},{"tags":["java","jackson","deprecated","jackson-databind"],"answers":[{"comments":[{"owner":{"account_id":14725244,"reputation":482,"user_id":10634487,"display_name":"Bill Naylor"},"score":1,"creation_date":1678133605,"post_id":59142507,"comment_id":133471209,"body_markdown":"I see that this alteration works, but don&#39;t really understand the reason for the deprecation. Can anyone give a more explicit/usefull description for the deprecation?","body":"I see that this alteration works, but don&#39;t really understand the reason for the deprecation. Can anyone give a more explicit/usefull description for the deprecation?"},{"owner":{"account_id":14725244,"reputation":482,"user_id":10634487,"display_name":"Bill Naylor"},"score":1,"creation_date":1678134293,"post_id":59142507,"comment_id":133471378,"body_markdown":"Have to admit I also found the javadocs for `setInclude` rather opaque.","body":"Have to admit I also found the javadocs for <code>setInclude</code> rather opaque."},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1678140403,"post_id":59142507,"comment_id":133472718,"body_markdown":"@BillNaylor, added [note](https://fasterxml.github.io/jackson-databind/javadoc/2.13/com/fasterxml/jackson/databind/SerializationFeature.html#WRITE_NULL_MAP_VALUES) should give you better reason why: `unlike other SerializationFeatures, this feature cannot be dynamically changed on per-call basis, because its effect is considered during construction of serializers and property handlers.`","body":"@BillNaylor, added <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.13/com/fasterxml/jackson/databind/SerializationFeature.html#WRITE_NULL_MAP_VALUES\" rel=\"nofollow noreferrer\">note</a> should give you better reason why: <code>unlike other SerializationFeatures, this feature cannot be dynamically changed on per-call basis, because its effect is considered during construction of serializers and property handlers.</code>"}],"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1678140592,"creation_date":1575302205,"answer_id":59142507,"question_id":59136341,"body_markdown":"From [documentation][1]:\r\n\r\n&gt; **Deprecated**. Since `2.9` there are better mechanism for specifying\r\n&gt; filtering; specifically using JsonInclude or configuration overrides\r\n&gt; (see `ObjectMapper.configOverride(Class)`). Feature that determines\r\n&gt; whether `Map` entries with null values are to be serialized (true) or not (false).  \r\n&gt; NOTE: unlike other `SerializationFeatures`, this feature\r\n&gt; **cannot be dynamically changed on per-call basis**, because its effect is\r\n&gt; considered during construction of serializers and property handlers.\r\n&gt; \r\n&gt; Feature is enabled by default.\r\n\r\nSimple example:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonInclude;\r\n    import com.fasterxml.jackson.annotation.JsonInclude.Value;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.SerializationFeature;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class JsonApp {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n            map.put(&quot;string&quot;, &quot;value&quot;);\r\n            map.put(&quot;int&quot;, 1);\r\n            map.put(&quot;null1&quot;, null);\r\n            map.put(null, null);\r\n    \r\n            ObjectMapper mapper = new ObjectMapper();\r\n            mapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n            mapper.configOverride(Map.class).setInclude(Value.construct(JsonInclude.Include.NON_NULL, JsonInclude.Include.NON_NULL));\r\n    \r\n            System.out.println(mapper.writeValueAsString(map));\r\n        }\r\n    }\r\n\r\nAbove code prints:\r\n\r\n    {\r\n      &quot;string&quot; : &quot;value&quot;,\r\n      &quot;int&quot; : 1\r\n    }\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/SerializationFeature.html#WRITE_NULL_MAP_VALUES","title":"Is there any replacement for deprecated property SerializationFeature.WRITE_NULL_MAP_VALUES in Jackson Databind?","body":"<p>From <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/SerializationFeature.html#WRITE_NULL_MAP_VALUES\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p><strong>Deprecated</strong>. Since <code>2.9</code> there are better mechanism for specifying\nfiltering; specifically using JsonInclude or configuration overrides\n(see <code>ObjectMapper.configOverride(Class)</code>). Feature that determines\nwhether <code>Map</code> entries with null values are to be serialized (true) or not (false).<br />\nNOTE: unlike other <code>SerializationFeatures</code>, this feature\n<strong>cannot be dynamically changed on per-call basis</strong>, because its effect is\nconsidered during construction of serializers and property handlers.</p>\n<p>Feature is enabled by default.</p>\n</blockquote>\n<p>Simple example:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonInclude.Value;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class JsonApp {\n\n    public static void main(String[] args) throws Exception {\n        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;string&quot;, &quot;value&quot;);\n        map.put(&quot;int&quot;, 1);\n        map.put(&quot;null1&quot;, null);\n        map.put(null, null);\n\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.enable(SerializationFeature.INDENT_OUTPUT);\n        mapper.configOverride(Map.class).setInclude(Value.construct(JsonInclude.Include.NON_NULL, JsonInclude.Include.NON_NULL));\n\n        System.out.println(mapper.writeValueAsString(map));\n    }\n}\n</code></pre>\n<p>Above code prints:</p>\n<pre><code>{\n  &quot;string&quot; : &quot;value&quot;,\n  &quot;int&quot; : 1\n}\n</code></pre>\n"}],"owner":{"account_id":17153697,"reputation":110,"user_id":12415065,"display_name":"Abhinav Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9419,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":59142507,"answer_count":1,"score":6,"last_activity_date":1678140592,"creation_date":1575280428,"question_id":59136341,"body_markdown":"We are using ObjectMapper to ignore serialisation of null maps in our project\r\n\r\n    configure(SerializationFeature.WRITE_NULL_MAP_VALUES, false)\r\n\r\nBut after Jackson-Databind 2.9, the property is depreciated and we are looking for an alternate option.\r\n\r\nCan the below code work as substitute for removing the above property -\r\n\r\n    setSerializationInclusion(Include.NON_NULL)\r\n","title":"Is there any replacement for deprecated property SerializationFeature.WRITE_NULL_MAP_VALUES in Jackson Databind?","body":"<p>We are using ObjectMapper to ignore serialisation of null maps in our project</p>\n\n<pre><code>configure(SerializationFeature.WRITE_NULL_MAP_VALUES, false)\n</code></pre>\n\n<p>But after Jackson-Databind 2.9, the property is depreciated and we are looking for an alternate option.</p>\n\n<p>Can the below code work as substitute for removing the above property -</p>\n\n<pre><code>setSerializationInclusion(Include.NON_NULL)\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9628,"page":597,"page_size":100}
