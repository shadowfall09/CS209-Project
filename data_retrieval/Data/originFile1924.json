{"items":[{"tags":["java","linked-list","implementation","singly-linked-list"],"comments":[{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":0,"creation_date":1445731669,"post_id":33324688,"comment_id":54447084,"body_markdown":"Can you please post your questions outside the code ? Can&#39;t read them and very difficult to find them.","body":"Can you please post your questions outside the code ? Can&#39;t read them and very difficult to find them."},{"owner":{"account_id":4780745,"reputation":627,"user_id":3862586,"accept_rate":84,"display_name":"NoobCoderChick"},"score":0,"creation_date":1445732232,"post_id":33324688,"comment_id":54447216,"body_markdown":"My questions in Bold but I&#39;ll take those comments out and add them with that part outside the code too as to be less confusing","body":"My questions in Bold but I&#39;ll take those comments out and add them with that part outside the code too as to be less confusing"}],"answers":[{"tags":[],"owner":{"account_id":2351777,"reputation":986,"user_id":2061755,"accept_rate":71,"display_name":"wadda_wadda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1445732708,"creation_date":1445731853,"answer_id":33324732,"question_id":33324688,"body_markdown":"Linked lists are basic data structures.\r\n\r\nA basic linked list implementation is as follows:\r\n\r\n    class LinkedListNode {\r\n      int value;\r\n      LinkedListNode next;\r\n    }\r\n\r\nThe basic idea is that you can iterate through the list by checking to see if the list has a `next` parameter, like so: `while (currentNode.next != null) { ... }`. \r\n\r\nPrinting out the values of a linked list takes advantage of the aforementioned while-loop, and you just print the value of the current node. \r\n\r\nYou can think of a linked list as a line of people who can only see the person ahead of them, and not who is behind them. You know where the person at the very start of the line -- that is, the one with nobody &#39;behind&#39; him -- is. This person is called the &quot;head&quot; of the list. He knows who is directly in front of him, and each person knows who is directly in front of him. When you reach the point where somebody doesn&#39;t have anyone in front of them, you&#39;ve gone through the whole line. \r\n\r\nHere&#39;s an example of adding a new element to the end of a list:\r\n\r\n    LinkedListNode node = myListHead;\r\n    while (node.next != null) {\r\n      node = node.next;\r\n    }\r\n    node.next = new LinkedListNode(...);","title":"Java linked list implementation","body":"<p>Linked lists are basic data structures.</p>\n\n<p>A basic linked list implementation is as follows:</p>\n\n<pre><code>class LinkedListNode {\n  int value;\n  LinkedListNode next;\n}\n</code></pre>\n\n<p>The basic idea is that you can iterate through the list by checking to see if the list has a <code>next</code> parameter, like so: <code>while (currentNode.next != null) { ... }</code>. </p>\n\n<p>Printing out the values of a linked list takes advantage of the aforementioned while-loop, and you just print the value of the current node. </p>\n\n<p>You can think of a linked list as a line of people who can only see the person ahead of them, and not who is behind them. You know where the person at the very start of the line -- that is, the one with nobody 'behind' him -- is. This person is called the \"head\" of the list. He knows who is directly in front of him, and each person knows who is directly in front of him. When you reach the point where somebody doesn't have anyone in front of them, you've gone through the whole line. </p>\n\n<p>Here's an example of adding a new element to the end of a list:</p>\n\n<pre><code>LinkedListNode node = myListHead;\nwhile (node.next != null) {\n  node = node.next;\n}\nnode.next = new LinkedListNode(...);\n</code></pre>\n"}],"owner":{"account_id":4780745,"reputation":627,"user_id":3862586,"accept_rate":84,"display_name":"NoobCoderChick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1933,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":33324732,"answer_count":1,"score":1,"last_activity_date":1634826244,"creation_date":1445731501,"question_id":33324688,"body_markdown":"I am learning Linked Lists right now and I&#39;m a little confused.  I&#39;m working on an assignment where we&#39;re creating our own implementation of some methods to be used with a linked list.  \r\n\r\nI watched a lot of videos on the concept of Linked List and how Nodes work like getting data and setting the next element but I&#39;m confused on how to make a list to test the methods I&#39;m implementing.  I know this may sound silly but I start to get super confused with multiple parameters in methods and return statements get involved and I&#39;ve never worked with a generic data type before either so those basic ideas might be confusing me here.\r\n\r\n**I&#39;d love some help with creating a list so I can test the methods as I&#39;m creating them, I&#39;m having difficulty printing out a list.  I get that what I&#39;m doing in the main is creating new nodes and adding to some list but I honestly don&#39;t know where this supposed LinkedList is or what it&#39;s called.  Any help is greatly appreciated!!  FYI, I&#39;m very new to Java, this is my second class and it&#39;s online and not a very well constructed class, please be nice lol**\r\n\r\nI get the concept of this BUT what is the name of the list (or linked list) these are being added to?\r\n\r\n\t\tListNode node4 = new ListNode(&quot;Fourth&quot;, null);\r\n\t\tListNode node3 = new ListNode(&quot;Third&quot;, node4);\r\n\t\tListNode node2 = new ListNode(&quot;Second&quot;, node3);\r\n\t\tListNode node1 = new ListNode(&quot;First&quot;, node2);\r\n\t\t\r\nI DON&#39;T KNOW HOW I CAN PRINT THESE OUT INDIVIDUALLY LIKE I CAN WITH THE ABOVE BECAUSE I CAN USE THE NAMES ABOVE\r\n\r\n    ListNode value = new ListNode(&quot;First&quot;, new ListNode(&quot;Second&quot;, new ListNode(&quot;Third&quot;, null) ));\r\nHere is my code with the testing class where I have questions as comments which may help you understand what I&#39;m confused about if I&#39;m not making sense above.  I left out the ListNode class as it is your basic getNext() setNext() Node class called ListNode with a generic type &lt;E&gt;....\r\n\r\n\r\n    //Testing program for SinglyLinkedList class\r\n    public class LinkedListDriver {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t//List&lt;String&gt; list = new LinkedList&lt;String&gt;();                   //comment out this line to test your code\r\n\t\tSinglyLinkedList&lt;String&gt; list = new SinglyLinkedList&lt;String&gt;();  //remove comment to test your code\r\n\t\tSinglyLinkedList SLL = new SinglyLinkedList();\r\n\t\t\r\n\t\tListNode node4 = new ListNode(&quot;Fourth&quot;, null);\r\n\t\tListNode node3 = new ListNode(&quot;Third&quot;, node4);\r\n\t\tListNode node2 = new ListNode(&quot;Second&quot;, node3);\r\n\t\tListNode node1 = new ListNode(&quot;First&quot;, node2);\r\n\r\n\t//ListNode value = new ListNode(&quot;First&quot;, new ListNode(&quot;Second&quot;, new ListNode(&quot;Third&quot;, null) ));\r\n\t\t\r\n    System.out.println(node2.getData());\r\n\t\r\n\t//Is this the correct way to add a new node to this method?\r\n\t\tSLL.addLast(new ListNode(&quot;Fifth&quot;, null));\r\n    //I doubt my printList is correct as I do not know what parameter I am       supposed to pass to it.\t\r\n\t\tSLL.printList();\r\n\t}\r\n\r\nSinglyLinkedList class\r\n\r\n    //This class implements a very simple singly-linked list of Objects\r\n    public class SinglyLinkedList&lt;E&gt; {\r\n         ListNode&lt;E&gt; first; // first element\r\n\r\n    public SinglyLinkedList()  {\r\n        first = null;\r\n    }\r\n\r\n    public E getFirst() {\r\n       if (first == null) {\r\n          throw new NoSuchElementException();\r\n       }\r\n       else\r\n          return first.getData();\r\n       }\r\n\r\n    public void addFirst(E value) {\r\n        first = new ListNode&lt;E&gt;(value, first);\r\n    }\r\n\r\n    // Methods below implemented by you. Note: while writing methods, keep in mind\r\n    // that you might be able to call other methods in this class to help you - you\r\n    // don&#39;t always need to start from scratch(but you&#39;ll have to recognize when)\r\n    public void addLast(E value) {\t  \r\n\t    ListNode&lt;E&gt; temp = first;\r\n\t    //If list is empty make new node the first node.\r\n        if(temp == null) {\r\n    \t    first = new ListNode &lt;E&gt;(value, null);\r\n    \t    first.setNext(null);\r\n        }\r\n        //Otherwise loop to end of list and add new node.\r\n        else {\r\n\t\t    while(temp.getNext() != null) {\r\n\t\t\t    temp = temp.getNext();\r\n\t        }\r\n\t\ttemp.setNext(new ListNode&lt;E&gt;(value, null));\r\n        }\r\n    }//end addLast\r\n\r\n    // throws an exception - you decide when and which one\r\n    public E getLast() {\r\n\t    ListNode&lt;E&gt; temp = first;\r\n\t    if(temp == null) {\r\n\t\t    throw new NullPointerException(&quot;There are no elements in this list to get.&quot;);\r\n\t    }\r\n\t    else {\r\n\t\t    while(temp.getNext() != null) {\r\n\t\t\t    temp = temp.getNext();\r\n\t\t    }\r\n\t\t    return temp.getData();\r\n\t    }\r\n    }\r\n\r\n    // throws an exception - you decide when and which one\r\n    public E removeFirst() {\r\n\t    if(first == null) {\r\n\t\t    throw new NullPointerException(&quot;There are no elements in this list to remove.&quot;);\r\n\t    }\r\n\t    ListNode&lt;E&gt; tempRemove = first;  \r\n        return null;//just so it&#39;ll compile\r\n      }\r\n\r\n      // throws an exception - you decide when and which one\r\n      public E removeLast() {\r\n         return null; //just so it&#39;ll compile\r\n      }\r\n\r\n      // return the number of elements in the list\r\n      public int size() {\r\n          return 0;//just so it&#39;ll compile\r\n      }\r\n\r\n      // return true if o is in this list, otherwise false\r\n      public boolean contains(E obj) {\r\n          return true;//just so it&#39;ll compile\r\n      }\r\n\r\n     public void printList(java.io.PrintStream out) {\r\n\t     if(first == null) {\r\n\t\t    System.out.println(&quot;The list is empty&quot;);\r\n\t     }\r\n\t     ListNode&lt;E&gt; current = first;\r\n\t     while(current != null) {\r\n\t\t     System.out.println(current.toString());\r\n\t\t     current = current.getNext();\r\n\t     }\r\n      }\r\n\r\n      public String toString() {\r\n           String s = &quot;[&quot;;\r\n           ListNode&lt;E&gt; current = first;\r\n        //write code to traverse the list, adding each object on its own line\r\n\t    while(current.getNext() != null) {\r\n\t    \tcurrent = current.getNext();\r\n\t    }\r\n  \r\n      s += &quot;]&quot;;\r\n      return s;\r\n      }\r\n\r\n      // OPTIONAL: just for fun...and a challenge\r\n      public void reverse() {\r\n      }\r\n    }    ","title":"Java linked list implementation","body":"<p>I am learning Linked Lists right now and I'm a little confused.  I'm working on an assignment where we're creating our own implementation of some methods to be used with a linked list.  </p>\n\n<p>I watched a lot of videos on the concept of Linked List and how Nodes work like getting data and setting the next element but I'm confused on how to make a list to test the methods I'm implementing.  I know this may sound silly but I start to get super confused with multiple parameters in methods and return statements get involved and I've never worked with a generic data type before either so those basic ideas might be confusing me here.</p>\n\n<p><strong>I'd love some help with creating a list so I can test the methods as I'm creating them, I'm having difficulty printing out a list.  I get that what I'm doing in the main is creating new nodes and adding to some list but I honestly don't know where this supposed LinkedList is or what it's called.  Any help is greatly appreciated!!  FYI, I'm very new to Java, this is my second class and it's online and not a very well constructed class, please be nice lol</strong></p>\n\n<p>I get the concept of this BUT what is the name of the list (or linked list) these are being added to?</p>\n\n<pre><code>    ListNode node4 = new ListNode(\"Fourth\", null);\n    ListNode node3 = new ListNode(\"Third\", node4);\n    ListNode node2 = new ListNode(\"Second\", node3);\n    ListNode node1 = new ListNode(\"First\", node2);\n</code></pre>\n\n<p>I DON'T KNOW HOW I CAN PRINT THESE OUT INDIVIDUALLY LIKE I CAN WITH THE ABOVE BECAUSE I CAN USE THE NAMES ABOVE</p>\n\n<pre><code>ListNode value = new ListNode(\"First\", new ListNode(\"Second\", new ListNode(\"Third\", null) ));\n</code></pre>\n\n<p>Here is my code with the testing class where I have questions as comments which may help you understand what I'm confused about if I'm not making sense above.  I left out the ListNode class as it is your basic getNext() setNext() Node class called ListNode with a generic type ....</p>\n\n<pre><code>//Testing program for SinglyLinkedList class\npublic class LinkedListDriver {\n\npublic static void main(String[] args) {\n    //List&lt;String&gt; list = new LinkedList&lt;String&gt;();                   //comment out this line to test your code\n    SinglyLinkedList&lt;String&gt; list = new SinglyLinkedList&lt;String&gt;();  //remove comment to test your code\n    SinglyLinkedList SLL = new SinglyLinkedList();\n\n    ListNode node4 = new ListNode(\"Fourth\", null);\n    ListNode node3 = new ListNode(\"Third\", node4);\n    ListNode node2 = new ListNode(\"Second\", node3);\n    ListNode node1 = new ListNode(\"First\", node2);\n\n//ListNode value = new ListNode(\"First\", new ListNode(\"Second\", new ListNode(\"Third\", null) ));\n\nSystem.out.println(node2.getData());\n\n//Is this the correct way to add a new node to this method?\n    SLL.addLast(new ListNode(\"Fifth\", null));\n//I doubt my printList is correct as I do not know what parameter I am       supposed to pass to it.    \n    SLL.printList();\n}\n</code></pre>\n\n<p>SinglyLinkedList class</p>\n\n<pre><code>//This class implements a very simple singly-linked list of Objects\npublic class SinglyLinkedList&lt;E&gt; {\n     ListNode&lt;E&gt; first; // first element\n\npublic SinglyLinkedList()  {\n    first = null;\n}\n\npublic E getFirst() {\n   if (first == null) {\n      throw new NoSuchElementException();\n   }\n   else\n      return first.getData();\n   }\n\npublic void addFirst(E value) {\n    first = new ListNode&lt;E&gt;(value, first);\n}\n\n// Methods below implemented by you. Note: while writing methods, keep in mind\n// that you might be able to call other methods in this class to help you - you\n// don't always need to start from scratch(but you'll have to recognize when)\npublic void addLast(E value) {    \n    ListNode&lt;E&gt; temp = first;\n    //If list is empty make new node the first node.\n    if(temp == null) {\n        first = new ListNode &lt;E&gt;(value, null);\n        first.setNext(null);\n    }\n    //Otherwise loop to end of list and add new node.\n    else {\n        while(temp.getNext() != null) {\n            temp = temp.getNext();\n        }\n    temp.setNext(new ListNode&lt;E&gt;(value, null));\n    }\n}//end addLast\n\n// throws an exception - you decide when and which one\npublic E getLast() {\n    ListNode&lt;E&gt; temp = first;\n    if(temp == null) {\n        throw new NullPointerException(\"There are no elements in this list to get.\");\n    }\n    else {\n        while(temp.getNext() != null) {\n            temp = temp.getNext();\n        }\n        return temp.getData();\n    }\n}\n\n// throws an exception - you decide when and which one\npublic E removeFirst() {\n    if(first == null) {\n        throw new NullPointerException(\"There are no elements in this list to remove.\");\n    }\n    ListNode&lt;E&gt; tempRemove = first;  \n    return null;//just so it'll compile\n  }\n\n  // throws an exception - you decide when and which one\n  public E removeLast() {\n     return null; //just so it'll compile\n  }\n\n  // return the number of elements in the list\n  public int size() {\n      return 0;//just so it'll compile\n  }\n\n  // return true if o is in this list, otherwise false\n  public boolean contains(E obj) {\n      return true;//just so it'll compile\n  }\n\n public void printList(java.io.PrintStream out) {\n     if(first == null) {\n        System.out.println(\"The list is empty\");\n     }\n     ListNode&lt;E&gt; current = first;\n     while(current != null) {\n         System.out.println(current.toString());\n         current = current.getNext();\n     }\n  }\n\n  public String toString() {\n       String s = \"[\";\n       ListNode&lt;E&gt; current = first;\n    //write code to traverse the list, adding each object on its own line\n    while(current.getNext() != null) {\n        current = current.getNext();\n    }\n\n  s += \"]\";\n  return s;\n  }\n\n  // OPTIONAL: just for fun...and a challenge\n  public void reverse() {\n  }\n}    \n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2005971,"reputation":536,"user_id":1795860,"accept_rate":91,"display_name":"TheNytangel"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1634826188,"creation_date":1634826188,"answer_id":69663714,"question_id":69663703,"body_markdown":"Strings (and objects) need to be compared using `.equals()` unless you are checking specifically if you have the same reference to the object.\r\n\r\n```\r\nif ( needle.equals(search[i]) ) {\r\n```","title":"Java False when String == string[j]","body":"<p>Strings (and objects) need to be compared using <code>.equals()</code> unless you are checking specifically if you have the same reference to the object.</p>\n<pre><code>if ( needle.equals(search[i]) ) {\n</code></pre>\n"}],"owner":{"account_id":23102539,"reputation":39,"user_id":17211773,"display_name":"Quxntin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1634826311,"answer_count":1,"score":-2,"last_activity_date":1634826188,"creation_date":1634826114,"question_id":69663703,"body_markdown":"i have a little problem with my code, \r\n\r\n    import java.util.Scanner; \r\n    public class Exercice8BIS {\r\n    \r\n    \tint indexString(String needle, String [] search) {\r\n    \t\tint index = -1;\r\n    \t\tfor (int i = 0; i &lt; search.length; i++ ) {\r\n    \t\t\tif ( needle == search[i] ) {\r\n    \t\t\t\tindex = i;\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn index;\r\n    \t}\r\n    \r\n    \tpublic Exercice8BIS() {\r\n    \t\tScanner saisieUtilisateur = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Veuillez saisir le nom d&#39;un mois (en miniuscule et sans accent) pour obtenir son nombre de jour :&quot;);\r\n    \t\tString nomMois = saisieUtilisateur.next();\r\n    \t\tsaisieUtilisateur.close();\r\n    \t\tSystem.out.print(nomMois);\r\n    \t\t \r\n    \t\tString [] mois = {&quot;janvier&quot;, &quot;fevrier&quot;, &quot;mars&quot;, &quot;avril&quot;, &quot;mai&quot;, &quot;juin&quot;, &quot;juillet&quot;, &quot;aout&quot;, &quot;septembre&quot;, &quot;octobre&quot;, &quot;novembre&quot;, &quot;decembre&quot;};\r\n    \t\t\r\n    \t\tint [] jourParMois = { 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 };\r\n    \r\n    \t\tint nombreJour = jourParMois[ indexString(nomMois, mois) ];\r\n    \t\tSystem.out.println(&quot;Le nombre de jour du mois de &quot; + nomMois + &quot; est de &quot; + nombreJour + &quot;.&quot;);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew Exercice8BIS();\r\n    \t}\r\n    }\r\n\r\n \r\nSo when I ask the variable nomMois from the user with the library scanner and after I use the function indexString, I test the conditions \r\n`nomMois == mois[I]` with `needle == search[I]` in indexString, it&#39;s every time false even if I put janvier for nomMois.\r\nI don&#39;t understand why it&#39;s false and I don&#39;t have idea to correct it, can you help me ?\r\n","title":"Java False when String == string[j]","body":"<p>i have a little problem with my code,</p>\n<pre><code>import java.util.Scanner; \npublic class Exercice8BIS {\n\n    int indexString(String needle, String [] search) {\n        int index = -1;\n        for (int i = 0; i &lt; search.length; i++ ) {\n            if ( needle == search[i] ) {\n                index = i;\n                break;\n            }\n        }\n        return index;\n    }\n\n    public Exercice8BIS() {\n        Scanner saisieUtilisateur = new Scanner(System.in);\n        System.out.println(&quot;Veuillez saisir le nom d'un mois (en miniuscule et sans accent) pour obtenir son nombre de jour :&quot;);\n        String nomMois = saisieUtilisateur.next();\n        saisieUtilisateur.close();\n        System.out.print(nomMois);\n         \n        String [] mois = {&quot;janvier&quot;, &quot;fevrier&quot;, &quot;mars&quot;, &quot;avril&quot;, &quot;mai&quot;, &quot;juin&quot;, &quot;juillet&quot;, &quot;aout&quot;, &quot;septembre&quot;, &quot;octobre&quot;, &quot;novembre&quot;, &quot;decembre&quot;};\n        \n        int [] jourParMois = { 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 };\n\n        int nombreJour = jourParMois[ indexString(nomMois, mois) ];\n        System.out.println(&quot;Le nombre de jour du mois de &quot; + nomMois + &quot; est de &quot; + nombreJour + &quot;.&quot;);\n    }\n\n    public static void main(String[] args) {\n        new Exercice8BIS();\n    }\n}\n</code></pre>\n<p>So when I ask the variable nomMois from the user with the library scanner and after I use the function indexString, I test the conditions\n<code>nomMois == mois[I]</code> with <code>needle == search[I]</code> in indexString, it's every time false even if I put janvier for nomMois.\nI don't understand why it's false and I don't have idea to correct it, can you help me ?</p>\n"},{"tags":["java","servlets","java-ee-8"],"comments":[{"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"score":1,"creation_date":1634411083,"post_id":69598576,"comment_id":123019128,"body_markdown":"Have you already checked with your debugger where the problem is: is the email/password combination correctly detected as valid or not ?","body":"Have you already checked with your debugger where the problem is: is the email/password combination correctly detected as valid or not ?"},{"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"score":1,"creation_date":1634411594,"post_id":69598576,"comment_id":123019223,"body_markdown":"1) Put an URL, you are using to call the servlet.\n2) JOptionPane is a Swing class. I don&#39;t think, it does something useful inside a servlet.","body":"1) Put an URL, you are using to call the servlet. 2) JOptionPane is a Swing class. I don&#39;t think, it does something useful inside a servlet."},{"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"score":1,"creation_date":1634411943,"post_id":69598576,"comment_id":123019299,"body_markdown":"It is a wrong way to do authentication. The bad guy can open &quot;welcome.jsp&quot; directly without entering a password. You need to store the password in a user session and validate on every page it using filter.","body":"It is a wrong way to do authentication. The bad guy can open &quot;welcome.jsp&quot; directly without entering a password. You need to store the password in a user session and validate on every page it using filter."},{"owner":{"account_id":21628202,"reputation":99,"user_id":15952224,"display_name":"Mohammed Hamdoon"},"score":0,"creation_date":1634417742,"post_id":69598576,"comment_id":123020600,"body_markdown":"@Robin it&#39;s reading from the text file the email and the password also is being read but with a &#39;\\r&quot; , if the email and password are not equal for some reason it&#39;s not reading the other email and password from the text to check them","body":"@Robin it&#39;s reading from the text file the email and the password also is being read but with a &#39;\\r&quot; , if the email and password are not equal for some reason it&#39;s not reading the other email and password from the text to check them"}],"answers":[{"tags":[],"owner":{"account_id":22946308,"reputation":69,"user_id":17078245,"display_name":"kody-technolab"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634732619,"creation_date":1634732619,"answer_id":69645937,"question_id":69598576,"body_markdown":"Hello @Mohammed Hamdoon\r\n\r\nYou can find below code. That serves your objective and eliminate costly over head of iterating over file each time to match email and password. \r\nHere I can login successfully with the credentials given in accounts.txt file.\r\n\r\n**Please read my comments in servlet file for further explanations.**\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import jakarta.servlet.ServletConfig;\r\n    import jakarta.servlet.ServletContext;\r\n    import jakarta.servlet.ServletException;\r\n    import jakarta.servlet.annotation.WebServlet;\r\n    import jakarta.servlet.http.HttpServlet;\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import jakarta.servlet.http.HttpServletResponse;\r\n    \r\n    @WebServlet(&quot;/HelloServlet&quot;)\r\n    public class HelloServlet extends HttpServlet {\r\n    \r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = -5498866193863633001L;\r\n    \r\n    \t/**\r\n    \t * HashMap to store all users credentials\r\n    \t */\r\n    \tprivate final Map&lt;String, String&gt; credentialsPairs = new HashMap&lt;&gt;();\r\n    \r\n    \t@Override\r\n    \tpublic void init(ServletConfig config) throws ServletException {\r\n    \t\tString delimiter = &quot;,&quot;;\r\n    \t\tString line = &quot;&quot;;\r\n    \r\n    \t\t/**\r\n    \t\t * Credentials file will be there in WEB-INF directory as it provide secured\r\n    \t\t * access only.\r\n    \t\t */\r\n    \t\tString credentialFile = &quot;/WEB-INF/accounts.txt&quot;;\r\n    \r\n    \t\t/**\r\n    \t\t * Read the file and prepare Map with username as key and password as value We\r\n    \t\t * have put this code in init method as it is called once only that will avoid\r\n    \t\t * overhead of iterating values from file for each request\r\n    \t\t */\r\n    \t\tInputStream is = null;\r\n    \t\tInputStreamReader isr = null;\r\n    \t\tBufferedReader br = null;\r\n    \r\n    \t\tServletContext context = config.getServletContext();\r\n    \r\n    \t\ttry {\r\n    \t\t\t/**\r\n    \t\t\t * Open stream of file\r\n    \t\t\t */\r\n    \t\t\tis = context.getResourceAsStream(credentialFile);\r\n    \t\t\tif (is != null) {\r\n    \t\t\t\t/**\r\n    \t\t\t\t * Read the file line by line and store email as a key and password as value\r\n    \t\t\t\t */\r\n    \t\t\t\tisr = new InputStreamReader(is);\r\n    \t\t\t\tbr = new BufferedReader(isr);\r\n    \t\t\t\twhile ((line = br.readLine()) != null) {\r\n    \t\t\t\t\tString[] credentials = line.split(delimiter);\r\n    \t\t\t\t\t// credentials[0] is email and credentials[1] is password\r\n    \t\t\t\t\tcredentialsPairs.put(credentials[0], credentials[1]);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} finally {\r\n    \t\t\ttry {\r\n    \t\t\t\tif (br != null) {\r\n    \t\t\t\t\tbr.close();\r\n    \t\t\t\t}\r\n    \t\t\t\tif (isr != null) {\r\n    \t\t\t\t\tisr.close();\r\n    \t\t\t\t}\r\n    \t\t\t\tif (is != null) {\r\n    \t\t\t\t\tis.close();\r\n    \t\t\t\t}\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void doPost(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n    \t\t/**\r\n    \t\t * Get user entered credentials\r\n    \t\t */\r\n    \t\tString userEmail = request.getParameter(&quot;email&quot;);\r\n    \t\tString userPassword = request.getParameter(&quot;password&quot;);\r\n    \r\n    \t\tboolean isValidUser = false;\r\n    \r\n    \t\t/**\r\n    \t\t * Get value from Map for user entered email address.\r\n    \t\t */\r\n    \t\tString password = credentialsPairs.get(userEmail);\r\n    \r\n    \t\t/**\r\n    \t\t * If User with entered email address found then we will get password for that\r\n    \t\t * user\r\n    \t\t */\r\n    \t\tif (password != null) {\r\n    \t\t\t/**\r\n    \t\t\t * Compare password entered by user with one that is retrieved from file\r\n    \t\t\t */\r\n    \t\t\tif (password.equals(userPassword)) {\r\n    \t\t\t\tisValidUser = true;\r\n    \t\t\t} else {\r\n    \t\t\t\t// Please enter correct password\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\t// User does not exists\r\n    \t\t}\r\n    \r\n    \t\tif (isValidUser) {\r\n    \t\t\tresponse.sendRedirect(&quot;welcome.jsp&quot;);\r\n    \t\t} else {\r\n    \t\t\tresponse.sendRedirect(&quot;fail.jsp&quot;);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic void destroy() {\r\n    \t\t/**\r\n    \t\t * Free up the map\r\n    \t\t */\r\n    \t\tcredentialsPairs.clear();\r\n    \t}\r\n    }\r\n\r\nPlease share your comments, if you have any question on above.","title":"reading email and password in servlet (Java EE)","body":"<p>Hello @Mohammed Hamdoon</p>\n<p>You can find below code. That serves your objective and eliminate costly over head of iterating over file each time to match email and password.\nHere I can login successfully with the credentials given in accounts.txt file.</p>\n<p><strong>Please read my comments in servlet file for further explanations.</strong></p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport jakarta.servlet.ServletConfig;\nimport jakarta.servlet.ServletContext;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\n@WebServlet(&quot;/HelloServlet&quot;)\npublic class HelloServlet extends HttpServlet {\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = -5498866193863633001L;\n\n    /**\n     * HashMap to store all users credentials\n     */\n    private final Map&lt;String, String&gt; credentialsPairs = new HashMap&lt;&gt;();\n\n    @Override\n    public void init(ServletConfig config) throws ServletException {\n        String delimiter = &quot;,&quot;;\n        String line = &quot;&quot;;\n\n        /**\n         * Credentials file will be there in WEB-INF directory as it provide secured\n         * access only.\n         */\n        String credentialFile = &quot;/WEB-INF/accounts.txt&quot;;\n\n        /**\n         * Read the file and prepare Map with username as key and password as value We\n         * have put this code in init method as it is called once only that will avoid\n         * overhead of iterating values from file for each request\n         */\n        InputStream is = null;\n        InputStreamReader isr = null;\n        BufferedReader br = null;\n\n        ServletContext context = config.getServletContext();\n\n        try {\n            /**\n             * Open stream of file\n             */\n            is = context.getResourceAsStream(credentialFile);\n            if (is != null) {\n                /**\n                 * Read the file line by line and store email as a key and password as value\n                 */\n                isr = new InputStreamReader(is);\n                br = new BufferedReader(isr);\n                while ((line = br.readLine()) != null) {\n                    String[] credentials = line.split(delimiter);\n                    // credentials[0] is email and credentials[1] is password\n                    credentialsPairs.put(credentials[0], credentials[1]);\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                if (br != null) {\n                    br.close();\n                }\n                if (isr != null) {\n                    isr.close();\n                }\n                if (is != null) {\n                    is.close();\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    public void doPost(HttpServletRequest request, HttpServletResponse response) throws IOException {\n        /**\n         * Get user entered credentials\n         */\n        String userEmail = request.getParameter(&quot;email&quot;);\n        String userPassword = request.getParameter(&quot;password&quot;);\n\n        boolean isValidUser = false;\n\n        /**\n         * Get value from Map for user entered email address.\n         */\n        String password = credentialsPairs.get(userEmail);\n\n        /**\n         * If User with entered email address found then we will get password for that\n         * user\n         */\n        if (password != null) {\n            /**\n             * Compare password entered by user with one that is retrieved from file\n             */\n            if (password.equals(userPassword)) {\n                isValidUser = true;\n            } else {\n                // Please enter correct password\n            }\n        } else {\n            // User does not exists\n        }\n\n        if (isValidUser) {\n            response.sendRedirect(&quot;welcome.jsp&quot;);\n        } else {\n            response.sendRedirect(&quot;fail.jsp&quot;);\n        }\n\n    }\n\n    public void destroy() {\n        /**\n         * Free up the map\n         */\n        credentialsPairs.clear();\n    }\n}\n</code></pre>\n<p>Please share your comments, if you have any question on above.</p>\n"}],"owner":{"account_id":21628202,"reputation":99,"user_id":15952224,"display_name":"Mohammed Hamdoon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":427,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":69645937,"answer_count":1,"score":-2,"last_activity_date":1634826011,"creation_date":1634409599,"question_id":69598576,"body_markdown":"I&#39;m working on a simple login servlet in which the user enters his email and password which are stored in a text file(I can&#39;t use a database) ,if the credentials are correct then the user will be redirected to a weclome jsp page if not correct then to a fail login jsp page , the problem that I&#39;m facing is that I&#39;m always getting redirected to the login fail page even though I&#39;m checking if the email and password are in the text file and are correct\r\n\r\nI&#39;m using Tomcat 10\r\n\r\nSo the text file looks like this :\r\n\r\n - example1@gmail.com,awesome100 \r\n - example2@hotmail.hotmail.com,cool009\r\n\r\nthe email and password are seperated by a &#39;,&#39;\r\n\r\nHere&#39;s the Code :\r\n\r\n    package com.example.try8;\r\n\r\n    import java.io.*;\r\n    import java.security.Principal;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n\r\n    import jakarta.servlet.ServletConfig;\r\n    import jakarta.servlet.ServletContext;\r\n    import jakarta.servlet.ServletException;\r\n    import jakarta.servlet.annotation.WebServlet;\r\n    import jakarta.servlet.http.HttpServlet;\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import jakarta.servlet.http.HttpServletResponse;\r\n\r\n    @WebServlet(&quot;/HelloServlet&quot;)\r\n    public class HelloServlet extends HttpServlet {\r\n\r\n    /**\r\n     *\r\n     */\r\n    private static final long serialVersionUID = -5498866193863633001L;\r\n\r\n    /**\r\n     * HashMap to store all users credentials\r\n     */\r\n    private final Map&lt;String, String&gt; credentialsPairs = new HashMap&lt;&gt; \r\n    ();\r\n\r\n    @Override\r\n    public void init(ServletConfig config) throws ServletException {\r\n        String delimiter = &quot;,&quot;;\r\n        String line = &quot;&quot;;\r\n\r\n        /**\r\n         * Credentials file will be there in WEB-INF directory as it \r\n    provide secured\r\n         * access only.\r\n         */\r\n        String credentialFile = &quot;/WEB-INF/accounts.txt&quot;;\r\n\r\n        /**\r\n         * Read the file and prepare Map with username as key and \r\n        password as value We\r\n         * have put this code in init method as it is called once only \r\n        that will avoid\r\n         * overhead of iterating values from file for each request\r\n         */\r\n        InputStream is = null;\r\n        InputStreamReader isr = null;\r\n        BufferedReader br = null;\r\n\r\n        ServletContext context = config.getServletContext();\r\n\r\n        try {\r\n            /**\r\n             * Open stream of file\r\n             */\r\n            is = context.getResourceAsStream(credentialFile);\r\n            if (is != null) {\r\n                /**\r\n                 * Read the file line by line and store email as a key \r\n          and password as value\r\n                 */\r\n                isr = new InputStreamReader(is);\r\n                br = new BufferedReader(isr);\r\n                while ((line = br.readLine()) != null) {\r\n                    String[] credentials = line.split(delimiter);\r\n                    // credentials[0] is email and credentials[1] is \r\n              password\r\n                    credentialsPairs.put(credentials[0], \r\n           credentials[1]);\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            try {\r\n                if (br != null) {\r\n                    br.close();\r\n                }\r\n                if (isr != null) {\r\n                    isr.close();\r\n                }\r\n                if (is != null) {\r\n                    is.close();\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        }\r\n\r\n    public void doGet(HttpServletRequest request, HttpServletResponse \r\n      response) throws IOException {\r\n        /**\r\n         * Get user entered credentials\r\n         */\r\n        String userEmail = request.getParameter(&quot;email&quot;);\r\n        String userPassword = request.getParameter(&quot;password&quot;);\r\n        PrintWriter out = response.getWriter();\r\n\r\n        boolean isValidUser = false;\r\n\r\n        /**\r\n         * Get value from Map for user entered email address.\r\n         */\r\n        String password = credentialsPairs.get(userEmail);\r\n\r\n        /**\r\n         * If User with entered email address found then we will get  \r\n         password for that\r\n         * user\r\n         */\r\n        if (password != null) {\r\n            /**\r\n             * Compare password entered by user with one that is \r\n        retrieved from file\r\n             */\r\n            if (password.equals(userPassword)) {\r\n                isValidUser = true;\r\n            } else {\r\n                // Please enter correct password\r\n                out.println(&quot;Please enter correct password&quot;);\r\n            }\r\n        } else {\r\n            // User does not exists\r\n            out.println(&quot;User does not exist&quot;);\r\n        }\r\n\r\n        if (isValidUser) {\r\n            response.sendRedirect(&quot;welcome.jsp&quot;);\r\n        } else {\r\n            response.sendRedirect(&quot;fail.jsp&quot;);\r\n        }\r\n\r\n    }\r\n\r\n    public void destroy() {\r\n        /**\r\n         * Free up the map\r\n         */\r\n        credentialsPairs.clear();\r\n    }\r\n    }\r\n\r\nThe index.jsp :\r\n\r\n    &lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF- \r\n     8&quot; %&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;title&gt;JSP - Hello World&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;div align=&quot;center&quot;&gt;\r\n    &lt;h1&gt;\r\n        Sign-In\r\n    &lt;/h1&gt;\r\n    &lt;form action=&quot;login&quot; method=&quot;get&quot;&gt;\r\n        &lt;table&gt;\r\n            &lt;tr&gt; &lt;td&gt;E-mail : &lt;input type=&quot;email&quot; name=&quot;email&quot;&gt;&lt;/td&gt; \r\n    &lt;/tr&gt;\r\n            &lt;tr&gt; &lt;td&gt;Password : &lt;input type=&quot;password&quot; name=&quot;password&quot;&gt; \r\n    &lt;/td&gt;&lt;/tr&gt;\r\n            &lt;tr&gt; &lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Login&quot;&gt;&lt;/td&gt;&lt;/tr&gt;\r\n        &lt;/table&gt;\r\n    &lt;/form&gt;\r\n    &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nThe web.xml :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee \r\n    https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&quot;\r\n         version=&quot;5.0&quot;&gt;\r\n\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;lgn&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;com.example.try8.HelloServlet&lt;/servlet-class&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;lgn&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/login&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;","title":"reading email and password in servlet (Java EE)","body":"<p>I'm working on a simple login servlet in which the user enters his email and password which are stored in a text file(I can't use a database) ,if the credentials are correct then the user will be redirected to a weclome jsp page if not correct then to a fail login jsp page , the problem that I'm facing is that I'm always getting redirected to the login fail page even though I'm checking if the email and password are in the text file and are correct</p>\n<p>I'm using Tomcat 10</p>\n<p>So the text file looks like this :</p>\n<ul>\n<li>example1@gmail.com,awesome100</li>\n<li>example2@hotmail.hotmail.com,cool009</li>\n</ul>\n<p>the email and password are seperated by a ','</p>\n<p>Here's the Code :</p>\n<pre><code>package com.example.try8;\n\nimport java.io.*;\nimport java.security.Principal;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport jakarta.servlet.ServletConfig;\nimport jakarta.servlet.ServletContext;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\n@WebServlet(&quot;/HelloServlet&quot;)\npublic class HelloServlet extends HttpServlet {\n\n/**\n *\n */\nprivate static final long serialVersionUID = -5498866193863633001L;\n\n/**\n * HashMap to store all users credentials\n */\nprivate final Map&lt;String, String&gt; credentialsPairs = new HashMap&lt;&gt; \n();\n\n@Override\npublic void init(ServletConfig config) throws ServletException {\n    String delimiter = &quot;,&quot;;\n    String line = &quot;&quot;;\n\n    /**\n     * Credentials file will be there in WEB-INF directory as it \nprovide secured\n     * access only.\n     */\n    String credentialFile = &quot;/WEB-INF/accounts.txt&quot;;\n\n    /**\n     * Read the file and prepare Map with username as key and \n    password as value We\n     * have put this code in init method as it is called once only \n    that will avoid\n     * overhead of iterating values from file for each request\n     */\n    InputStream is = null;\n    InputStreamReader isr = null;\n    BufferedReader br = null;\n\n    ServletContext context = config.getServletContext();\n\n    try {\n        /**\n         * Open stream of file\n         */\n        is = context.getResourceAsStream(credentialFile);\n        if (is != null) {\n            /**\n             * Read the file line by line and store email as a key \n      and password as value\n             */\n            isr = new InputStreamReader(is);\n            br = new BufferedReader(isr);\n            while ((line = br.readLine()) != null) {\n                String[] credentials = line.split(delimiter);\n                // credentials[0] is email and credentials[1] is \n          password\n                credentialsPairs.put(credentials[0], \n       credentials[1]);\n            }\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    } finally {\n        try {\n            if (br != null) {\n                br.close();\n            }\n            if (isr != null) {\n                isr.close();\n            }\n            if (is != null) {\n                is.close();\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    }\n\npublic void doGet(HttpServletRequest request, HttpServletResponse \n  response) throws IOException {\n    /**\n     * Get user entered credentials\n     */\n    String userEmail = request.getParameter(&quot;email&quot;);\n    String userPassword = request.getParameter(&quot;password&quot;);\n    PrintWriter out = response.getWriter();\n\n    boolean isValidUser = false;\n\n    /**\n     * Get value from Map for user entered email address.\n     */\n    String password = credentialsPairs.get(userEmail);\n\n    /**\n     * If User with entered email address found then we will get  \n     password for that\n     * user\n     */\n    if (password != null) {\n        /**\n         * Compare password entered by user with one that is \n    retrieved from file\n         */\n        if (password.equals(userPassword)) {\n            isValidUser = true;\n        } else {\n            // Please enter correct password\n            out.println(&quot;Please enter correct password&quot;);\n        }\n    } else {\n        // User does not exists\n        out.println(&quot;User does not exist&quot;);\n    }\n\n    if (isValidUser) {\n        response.sendRedirect(&quot;welcome.jsp&quot;);\n    } else {\n        response.sendRedirect(&quot;fail.jsp&quot;);\n    }\n\n}\n\npublic void destroy() {\n    /**\n     * Free up the map\n     */\n    credentialsPairs.clear();\n}\n}\n</code></pre>\n<p>The index.jsp :</p>\n<pre><code>&lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF- \n 8&quot; %&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;JSP - Hello World&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div align=&quot;center&quot;&gt;\n&lt;h1&gt;\n    Sign-In\n&lt;/h1&gt;\n&lt;form action=&quot;login&quot; method=&quot;get&quot;&gt;\n    &lt;table&gt;\n        &lt;tr&gt; &lt;td&gt;E-mail : &lt;input type=&quot;email&quot; name=&quot;email&quot;&gt;&lt;/td&gt; \n&lt;/tr&gt;\n        &lt;tr&gt; &lt;td&gt;Password : &lt;input type=&quot;password&quot; name=&quot;password&quot;&gt; \n&lt;/td&gt;&lt;/tr&gt;\n        &lt;tr&gt; &lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Login&quot;&gt;&lt;/td&gt;&lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/form&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>The web.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee \nhttps://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&quot;\n     version=&quot;5.0&quot;&gt;\n\n&lt;servlet&gt;\n    &lt;servlet-name&gt;lgn&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;com.example.try8.HelloServlet&lt;/servlet-class&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;lgn&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/login&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java","heap-memory"],"comments":[{"owner":{"account_id":7427599,"reputation":373,"user_id":5649620,"accept_rate":40,"display_name":"Vyshnav Ramesh Thrissur"},"score":2,"creation_date":1557301706,"post_id":4667483,"comment_id":98714304,"body_markdown":"system configuration means: a) client jvm vs server jvm b) 32bit vs 64bit.                          Links: 1) updation from J2SE5.0 https://docs.oracle.com/javase/6/docs/technotes/guides/vm/gc-ergonomics.html   2) brief answer: https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/ergonomics.html  3) detailed answer: https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/parallel.html#default_heap_size  4) client vs server: https://www.javacodegeeks.com/2011/07/jvm-options-client-vs-server.html","body":"system configuration means: a) client jvm vs server jvm b) 32bit vs 64bit.                          Links: 1) updation from J2SE5.0 <a href=\"https://docs.oracle.com/javase/6/docs/technotes/guides/vm/gc-ergonomics.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/technotes/guides/vm/&hellip;</a>   2) brief answer: <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/ergonomics.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/&hellip;</a>  3) detailed answer: <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/parallel.html#default_heap_size\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/&hellip;</a>  4) client vs server: <a href=\"https://www.javacodegeeks.com/2011/07/jvm-options-client-vs-server.html\" rel=\"nofollow noreferrer\">javacodegeeks.com/2011/07/jvm-options-client-vs-server.html</a>"},{"owner":{"account_id":7427599,"reputation":373,"user_id":5649620,"accept_rate":40,"display_name":"Vyshnav Ramesh Thrissur"},"score":3,"creation_date":1557302588,"post_id":4667483,"comment_id":98714728,"body_markdown":"its tough to understand from the above links. So summarizing them here: Maximum heap size for Client jvm is 256mb (there is an exception, read from links above). Maximun heap size for Server jvm of 32bit is 1gb and of 64 bit is 32gb (again there are exceptions here too. Kindly read that from the links). So its 256mb or 1gb or 32gb","body":"its tough to understand from the above links. So summarizing them here: Maximum heap size for Client jvm is 256mb (there is an exception, read from links above). Maximun heap size for Server jvm of 32bit is 1gb and of 64 bit is 32gb (again there are exceptions here too. Kindly read that from the links). So its 256mb or 1gb or 32gb"},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":1,"creation_date":1586192461,"post_id":4667483,"comment_id":108032496,"body_markdown":"See also https://stackoverflow.com/a/56036202/32453","body":"See also <a href=\"https://stackoverflow.com/a/56036202/32453\">stackoverflow.com/a/56036202/32453</a>"}],"answers":[{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":1,"up_vote_count":129,"is_accepted":false,"score":128,"last_activity_date":1586192170,"creation_date":1294827709,"answer_id":4667635,"question_id":4667483,"body_markdown":"For Java SE 5: According to [Garbage Collector Ergonomics [Oracle]][1]:\r\n\r\n&gt; **initial heap size:**\r\n&gt; \r\n&gt; Larger of 1/64th of the machine&#39;s physical memory on the machine or some\r\n&gt; reasonable minimum. Before J2SE 5.0,\r\n&gt; the default initial heap size was a\r\n&gt; reasonable minimum, which varies by\r\n&gt; platform. You can override this\r\n&gt; default using the -Xms command-line\r\n&gt; option.\r\n&gt;\r\n&gt; **maximum heap size:**\r\n&gt; \r\n&gt;Smaller of 1/4th of the physical memory or 1GB. Before J2SE 5.0, the\r\n&gt; default maximum heap size was 64MB.\r\n&gt; You can override this default using\r\n&gt; the -Xmx command-line option.\r\n\r\n**UPDATE:**\r\n\r\nAs pointed out by Tom Anderson in his comment, the above is for server-class machines. From [Ergonomics in the 5.0 JavaTM Virtual Machine][2]:\r\n\r\n&gt; In the J2SE platform version 5.0 a\r\n&gt; class of machine referred to as a\r\n&gt; server-class machine has been defined\r\n&gt; as a machine with\r\n&gt; \r\n&gt;    * 2 or more physical processors\r\n&gt;    * 2 or more Gbytes of physical memory\r\n&gt; \r\n&gt; with the exception of 32 bit platforms\r\n&gt; running a version of the Windows\r\n&gt; operating system. On all other\r\n&gt; platforms the default values are the\r\n&gt; same as the default values for version\r\n&gt; 1.4.2. \r\n&gt; \r\n&gt; In the J2SE platform version 1.4.2 by\r\n&gt; default the following selections were\r\n&gt; made\r\n&gt;       \r\n&gt;    * initial heap size of 4 Mbyte\r\n&gt;    * maximum heap size of 64 Mbyte\r\n\r\n[2]: http://java.sun.com/docs/hotspot/gc5.0/ergo5.html\r\n\r\n[1]: http://download.oracle.com/javase/8/docs/technotes/guides/vm/gc-ergonomics.html","title":"How is the default max Java heap size determined?","body":"<p>For Java SE 5: According to <a href=\"http://download.oracle.com/javase/8/docs/technotes/guides/vm/gc-ergonomics.html\" rel=\"noreferrer\">Garbage Collector Ergonomics [Oracle]</a>:</p>\n\n<blockquote>\n  <p><strong>initial heap size:</strong></p>\n  \n  <p>Larger of 1/64th of the machine's physical memory on the machine or some\n  reasonable minimum. Before J2SE 5.0,\n  the default initial heap size was a\n  reasonable minimum, which varies by\n  platform. You can override this\n  default using the -Xms command-line\n  option.</p>\n  \n  <p><strong>maximum heap size:</strong></p>\n  \n  <p>Smaller of 1/4th of the physical memory or 1GB. Before J2SE 5.0, the\n  default maximum heap size was 64MB.\n  You can override this default using\n  the -Xmx command-line option.</p>\n</blockquote>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>As pointed out by Tom Anderson in his comment, the above is for server-class machines. From <a href=\"http://java.sun.com/docs/hotspot/gc5.0/ergo5.html\" rel=\"noreferrer\">Ergonomics in the 5.0 JavaTM Virtual Machine</a>:</p>\n\n<blockquote>\n  <p>In the J2SE platform version 5.0 a\n  class of machine referred to as a\n  server-class machine has been defined\n  as a machine with</p>\n  \n  <ul>\n  <li>2 or more physical processors</li>\n  <li>2 or more Gbytes of physical memory</li>\n  </ul>\n  \n  <p>with the exception of 32 bit platforms\n  running a version of the Windows\n  operating system. On all other\n  platforms the default values are the\n  same as the default values for version\n  1.4.2. </p>\n  \n  <p>In the J2SE platform version 1.4.2 by\n  default the following selections were\n  made</p>\n  \n  <ul>\n  <li>initial heap size of 4 Mbyte</li>\n  <li>maximum heap size of 64 Mbyte</li>\n  </ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":60721,"reputation":1919,"user_id":181293,"accept_rate":67,"display_name":"ernesto"},"down_vote_count":1,"up_vote_count":44,"is_accepted":false,"score":43,"last_activity_date":1586192286,"creation_date":1351579346,"answer_id":13133937,"question_id":4667483,"body_markdown":"This is changed in [Java 6 update 18][1].\r\n\r\nAssuming that we have more than *1 GB* of physical memory (quite common these days), it&#39;s always 1/4th of your physical memory for the server vm.\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/6u18-142093.html\r\n","title":"How is the default max Java heap size determined?","body":"<p>This is changed in <a href=\"http://www.oracle.com/technetwork/java/javase/6u18-142093.html\" rel=\"noreferrer\">Java 6 update 18</a>.</p>\n\n<p>Assuming that we have more than <em>1 GB</em> of physical memory (quite common these days), it's always 1/4th of your physical memory for the server vm.</p>\n"},{"tags":[],"owner":{"account_id":1802551,"reputation":161,"user_id":1812596,"display_name":"apl"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1509929944,"creation_date":1352474574,"answer_id":13310792,"question_id":4667483,"body_markdown":"Ernesto is right.  According to the link he posted [1]:\r\n\r\n&gt; Updated Client JVM heap configuration \r\n&gt;\r\n&gt; In the Client JVM...\r\n&gt; \r\n&gt; * The default maximum heap size is half of the physical memory up to a physical memory size of 192 megabytes and otherwise one fourth of the physical memory up to a physical memory size of 1 gigabyte. \r\n&gt;\r\n&gt;   For example, if your machine has 128 megabytes of physical memory, then the maximum heap size is 64 megabytes, and greater than or equal to 1 gigabyte of physical memory results in a maximum heap size of 256 megabytes.\r\n&gt;\r\n&gt; * The maximum heap size is not actually used by the JVM unless your program creates enough objects to require it. A much smaller amount, termed the initial heap size, is allocated during JVM initialization. ...\r\n&gt; * ...\r\n&gt; * Server JVM heap configuration ergonomics are now the same as the Client, except that **the default maximum heap size for 32-bit JVMs is 1 gigabyte**, corresponding to a physical memory size of 4 gigabytes, and **for 64-bit JVMs is 32 gigabytes**, corresponding to a physical memory size of 128 gigabytes.\r\n\r\n\r\n[1] http://www.oracle.com/technetwork/java/javase/6u18-142093.html\r\n\r\n","title":"How is the default max Java heap size determined?","body":"<p>Ernesto is right.  According to the link he posted [1]:</p>\n\n<blockquote>\n  <p>Updated Client JVM heap configuration </p>\n  \n  <p>In the Client JVM...</p>\n  \n  <ul>\n  <li><p>The default maximum heap size is half of the physical memory up to a physical memory size of 192 megabytes and otherwise one fourth of the physical memory up to a physical memory size of 1 gigabyte. </p>\n  \n  <p>For example, if your machine has 128 megabytes of physical memory, then the maximum heap size is 64 megabytes, and greater than or equal to 1 gigabyte of physical memory results in a maximum heap size of 256 megabytes.</p></li>\n  <li><p>The maximum heap size is not actually used by the JVM unless your program creates enough objects to require it. A much smaller amount, termed the initial heap size, is allocated during JVM initialization. ...</p></li>\n  <li>...</li>\n  <li>Server JVM heap configuration ergonomics are now the same as the Client, except that <strong>the default maximum heap size for 32-bit JVMs is 1 gigabyte</strong>, corresponding to a physical memory size of 4 gigabytes, and <strong>for 64-bit JVMs is 32 gigabytes</strong>, corresponding to a physical memory size of 128 gigabytes.</li>\n  </ul>\n</blockquote>\n\n<p>[1] <a href=\"http://www.oracle.com/technetwork/java/javase/6u18-142093.html\" rel=\"noreferrer\">http://www.oracle.com/technetwork/java/javase/6u18-142093.html</a></p>\n"},{"tags":[],"owner":{"account_id":966511,"reputation":8668,"user_id":989857,"accept_rate":0,"display_name":"stones333"},"down_vote_count":0,"up_vote_count":635,"is_accepted":false,"score":635,"last_activity_date":1634825978,"creation_date":1355449960,"answer_id":13871564,"question_id":4667483,"body_markdown":"On Windows, you can use the following command to find out the defaults on the system where your applications runs. \r\n\r\n```\r\njava -XX:+PrintFlagsFinal -version | findstr HeapSize\r\n```\r\n\r\nLook for the options `MaxHeapSize` (for `-Xmx`) and `InitialHeapSize` for `-Xms`.\r\n\r\nOn a Unix/Linux system, you can do\r\n\r\n```\r\njava -XX:+PrintFlagsFinal -version | grep HeapSize\r\n```\r\n\r\nI believe the resulting output is in bytes.","title":"How is the default max Java heap size determined?","body":"<p>On Windows, you can use the following command to find out the defaults on the system where your applications runs.</p>\n<pre><code>java -XX:+PrintFlagsFinal -version | findstr HeapSize\n</code></pre>\n<p>Look for the options <code>MaxHeapSize</code> (for <code>-Xmx</code>) and <code>InitialHeapSize</code> for <code>-Xms</code>.</p>\n<p>On a Unix/Linux system, you can do</p>\n<pre><code>java -XX:+PrintFlagsFinal -version | grep HeapSize\n</code></pre>\n<p>I believe the resulting output is in bytes.</p>\n"},{"tags":[],"owner":{"account_id":898880,"reputation":310,"user_id":935546,"display_name":"Nik Handyman"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1553324351,"creation_date":1441273171,"answer_id":32372094,"question_id":4667483,"body_markdown":"For the IBM JVM, the command is the following:\r\n\r\n    java -verbose:sizes -version\r\n\r\nFor more information about the IBM SDK for Java 8: http://www-01.ibm.com/support/knowledgecenter/SSYKE2_8.0.0/com.ibm.java.lnx.80.doc/diag/appendixes/defaults.html?lang=en\r\n","title":"How is the default max Java heap size determined?","body":"<p>For the IBM JVM, the command is the following:</p>\n\n<pre><code>java -verbose:sizes -version\n</code></pre>\n\n<p>For more information about the IBM SDK for Java 8: <a href=\"http://www-01.ibm.com/support/knowledgecenter/SSYKE2_8.0.0/com.ibm.java.lnx.80.doc/diag/appendixes/defaults.html?lang=en\" rel=\"nofollow noreferrer\">http://www-01.ibm.com/support/knowledgecenter/SSYKE2_8.0.0/com.ibm.java.lnx.80.doc/diag/appendixes/defaults.html?lang=en</a></p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1553324224,"creation_date":1476374704,"answer_id":40025912,"question_id":4667483,"body_markdown":"&gt; default value is chosen at runtime based on system configuration\n\nHave a look at the documentation [page][1]\n\n&gt; Default Heap Size\n&gt;\n&gt; Unless the initial and maximum heap sizes are specified on the command line, they are calculated based on the amount of memory on the machine.\n\n1. Client JVM Default Initial and Maximum Heap Sizes:\n\n   The default maximum heap size is *half of the physical memory up to a physical memory size of 192 megabytes (MB)* and otherwise *one fourth of the physical memory up to a physical memory size of 1 gigabyte (GB)*.\n\n2. Server JVM Default Initial and Maximum Heap Sizes:\n\n   On 32-bit JVMs, *the default maximum heap size can be up to 1 GB if there is 4 GB or more of physical memory*. *On 64-bit JVMs, the default maximum heap size can be up to 32 GB if there is 128 GB or more of physical memory*\n\n&gt; What system configuration settings influence the default value?\n\n You can specify the initial and maximum heap sizes using the flags ***-Xms*** (initial heap size) and ***-Xmx*** (maximum heap size). If you know how much heap your application needs to work well, you can set ***-Xms*** and ***-Xmx*** to the same value\n\n\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/parallel.html#default_heap_size","title":"How is the default max Java heap size determined?","body":"<blockquote>\n<p>default value is chosen at runtime based on system configuration</p>\n</blockquote>\n<p>Have a look at the documentation <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/parallel.html#default_heap_size\" rel=\"noreferrer\">page</a></p>\n<blockquote>\n<p>Default Heap Size</p>\n<p>Unless the initial and maximum heap sizes are specified on the command line, they are calculated based on the amount of memory on the machine.</p>\n</blockquote>\n<ol>\n<li><p>Client JVM Default Initial and Maximum Heap Sizes:</p>\n<p>The default maximum heap size is <em>half of the physical memory up to a physical memory size of 192 megabytes (MB)</em> and otherwise <em>one fourth of the physical memory up to a physical memory size of 1 gigabyte (GB)</em>.</p>\n</li>\n<li><p>Server JVM Default Initial and Maximum Heap Sizes:</p>\n<p>On 32-bit JVMs, <em>the default maximum heap size can be up to 1 GB if there is 4 GB or more of physical memory</em>. <em>On 64-bit JVMs, the default maximum heap size can be up to 32 GB if there is 128 GB or more of physical memory</em></p>\n</li>\n</ol>\n<blockquote>\n<p>What system configuration settings influence the default value?</p>\n</blockquote>\n<p>You can specify the initial and maximum heap sizes using the flags <em><strong>-Xms</strong></em> (initial heap size) and <em><strong>-Xmx</strong></em> (maximum heap size). If you know how much heap your application needs to work well, you can set <em><strong>-Xms</strong></em> and <em><strong>-Xmx</strong></em> to the same value</p>\n"},{"tags":[],"owner":{"account_id":9590996,"reputation":5786,"user_id":7121889,"display_name":"Sarat Chandra"},"down_vote_count":2,"up_vote_count":79,"is_accepted":false,"score":77,"last_activity_date":1578432712,"creation_date":1491997650,"answer_id":43368676,"question_id":4667483,"body_markdown":"Java 8 takes more than *1/64th* of your physical memory for your *Xmssize* (Minimum HeapSize) and less than *1/4th* of your physical memory for your *-Xmxsize* (Maximum HeapSize).\r\n\r\nYou can check the **default Java heap size** by:\r\n\r\nIn **Windows**:\r\n\r\n    java -XX:+PrintFlagsFinal -version | findstr /i &quot;HeapSize PermSize ThreadStackSize&quot;\r\n\r\nIn **Linux**:\r\n\r\n    java -XX:+PrintFlagsFinal -version | grep -iE &#39;HeapSize|PermSize|ThreadStackSize&#39;\r\n\r\n&gt; What system configuration settings influence the default value?\r\n\r\nThe machine&#39;s **physical memory &amp; Java version.**\r\n\r\n","title":"How is the default max Java heap size determined?","body":"<p>Java 8 takes more than <em>1/64th</em> of your physical memory for your <em>Xmssize</em> (Minimum HeapSize) and less than <em>1/4th</em> of your physical memory for your <em>-Xmxsize</em> (Maximum HeapSize).</p>\n\n<p>You can check the <strong>default Java heap size</strong> by:</p>\n\n<p>In <strong>Windows</strong>:</p>\n\n<pre><code>java -XX:+PrintFlagsFinal -version | findstr /i \"HeapSize PermSize ThreadStackSize\"\n</code></pre>\n\n<p>In <strong>Linux</strong>:</p>\n\n<pre><code>java -XX:+PrintFlagsFinal -version | grep -iE 'HeapSize|PermSize|ThreadStackSize'\n</code></pre>\n\n<blockquote>\n  <p>What system configuration settings influence the default value?</p>\n</blockquote>\n\n<p>The machine's <strong>physical memory &amp; Java version.</strong></p>\n"},{"tags":[],"owner":{"account_id":2090737,"reputation":1467,"user_id":1860648,"accept_rate":53,"display_name":"fedorshishi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1549450578,"creation_date":1549450578,"answer_id":54551956,"question_id":4667483,"body_markdown":"A number of parameters affect generation size. The following diagram illustrates the difference between committed space and virtual space in the heap. At initialization of the virtual machine, the entire space for the heap is reserved. The size of the space reserved can be specified with the `-Xmx` option. If the value of the `-Xms` parameter is smaller than the value of the `-Xmx` parameter, not all of the space that is reserved is immediately committed to the virtual machine. The uncommitted space is labeled &quot;virtual&quot; in this figure. The different parts of the heap (permanent generation, tenured generation and young generation) can grow to the limit of the virtual space as needed.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBy default, the virtual machine grows or shrinks the heap at each collection to try to keep the proportion of free space to live objects at each collection within a specific range. This target range is set as a percentage by the parameters -`XX:MinHeapFreeRatio=&lt;minimum&gt;` and `-XX:MaxHeapFreeRatio=&lt;maximum&gt;`, and the total size is bounded below by `-Xms&lt;min&gt;` and above by `-Xmx&lt;max&gt;`.\r\n\r\nParameter           Default Value\r\n\r\nMinHeapFreeRatio\t40\r\n\r\nMaxHeapFreeRatio\t70\r\n\r\n-Xms\t3670k\r\n\r\n-Xmx\t64m\r\n\r\nDefault values of heap size parameters on 64-bit systems have been scaled up by approximately 30%. This increase is meant to compensate for the larger size of objects on a 64-bit system.\r\n\r\nWith these parameters, if the percent of free space in a generation falls below 40%, the generation will be expanded to maintain 40% free space, up to the maximum allowed size of the generation. Similarly, if the free space exceeds 70%, the generation will be contracted so that only 70% of the space is free, subject to the minimum size of the generation.\r\n\r\nLarge server applications often experience two problems with these defaults. One is slow startup, because the initial heap is small and must be resized over many major collections. A more pressing problem is that the default maximum heap size is unreasonably small for most server applications. The rules of thumb for server applications are:\r\n\r\n - Unless you have problems with pauses, try granting as much memory as\r\n   possible to the virtual machine. The default size (64MB) is often too\r\n   small.\r\n - Setting -Xms and -Xmx to the same value increases predictability by\r\n   removing the most important sizing decision from the virtual machine.\r\n   However, the virtual machine is then unable to compensate if you make\r\n   a poor choice.\r\n - In general, increase the memory as you increase the number of\r\n   processors, since allocation can be parallelized.\r\n\r\n There is the [full article][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9yoWO.png\r\n  [2]: https://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html","title":"How is the default max Java heap size determined?","body":"<p>A number of parameters affect generation size. The following diagram illustrates the difference between committed space and virtual space in the heap. At initialization of the virtual machine, the entire space for the heap is reserved. The size of the space reserved can be specified with the <code>-Xmx</code> option. If the value of the <code>-Xms</code> parameter is smaller than the value of the <code>-Xmx</code> parameter, not all of the space that is reserved is immediately committed to the virtual machine. The uncommitted space is labeled \"virtual\" in this figure. The different parts of the heap (permanent generation, tenured generation and young generation) can grow to the limit of the virtual space as needed.</p>\n\n<p><a href=\"https://i.stack.imgur.com/9yoWO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/9yoWO.png\" alt=\"enter image description here\"></a></p>\n\n<p>By default, the virtual machine grows or shrinks the heap at each collection to try to keep the proportion of free space to live objects at each collection within a specific range. This target range is set as a percentage by the parameters -<code>XX:MinHeapFreeRatio=&lt;minimum&gt;</code> and <code>-XX:MaxHeapFreeRatio=&lt;maximum&gt;</code>, and the total size is bounded below by <code>-Xms&lt;min&gt;</code> and above by <code>-Xmx&lt;max&gt;</code>.</p>\n\n<p>Parameter           Default Value</p>\n\n<p>MinHeapFreeRatio    40</p>\n\n<p>MaxHeapFreeRatio    70</p>\n\n<p>-Xms    3670k</p>\n\n<p>-Xmx    64m</p>\n\n<p>Default values of heap size parameters on 64-bit systems have been scaled up by approximately 30%. This increase is meant to compensate for the larger size of objects on a 64-bit system.</p>\n\n<p>With these parameters, if the percent of free space in a generation falls below 40%, the generation will be expanded to maintain 40% free space, up to the maximum allowed size of the generation. Similarly, if the free space exceeds 70%, the generation will be contracted so that only 70% of the space is free, subject to the minimum size of the generation.</p>\n\n<p>Large server applications often experience two problems with these defaults. One is slow startup, because the initial heap is small and must be resized over many major collections. A more pressing problem is that the default maximum heap size is unreasonably small for most server applications. The rules of thumb for server applications are:</p>\n\n<ul>\n<li>Unless you have problems with pauses, try granting as much memory as\npossible to the virtual machine. The default size (64MB) is often too\nsmall.</li>\n<li>Setting -Xms and -Xmx to the same value increases predictability by\nremoving the most important sizing decision from the virtual machine.\nHowever, the virtual machine is then unable to compensate if you make\na poor choice.</li>\n<li><p>In general, increase the memory as you increase the number of\nprocessors, since allocation can be parallelized.</p>\n\n<p>There is the <a href=\"https://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html\" rel=\"noreferrer\">full article</a></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1771599,"reputation":13393,"user_id":1616263,"display_name":"crifan"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1594999012,"creation_date":1554978718,"answer_id":55630380,"question_id":4667483,"body_markdown":"The `Xms` and `Xmx` are flag of Java virtual machine (JVM):\r\n\r\n* `Xms`: `initial and minimum` JVM `heap size`\r\n    * `Format`: `-Xms&lt;size&gt;[g|G|m|M|k|K]`\r\n    * `Default Size`: \r\n        * `-server` mode: 25% of free physical memory, &gt;=8MB and &lt;= 64MB\r\n        * `-client mode`: 25% of free physical memory, &gt;=8MB and &lt;= 16MB\r\n    * `Typical Size`:\r\n        * `-Xms128M`\r\n        * `-Xms256M`\r\n        * `-Xms512M`\r\n    * `Function`/`Effect`:\r\n        * -&gt; JVM start with allocate `Xms` size memory\r\n* `Xmx`: `maximum` JVM `heap size`\r\n    * `Format`: `-Xmx&lt;size&gt;[g|G|m|M|k|K]`\r\n    * `Default Size`: \r\n        * `&lt;= R27.2`\r\n            * `Windows`: `75%` of total physical memory up to `1GB`\r\n            * `Linux/Solaris`: `50%` of available physical memory up to `1GB`\r\n        * `&gt;= R27.3`\r\n            * `Windows X64`: `75%` of total physical memory up to `2GB`\r\n            * `Linux/Solaris X64`: `50%` of available physical memory up to `2GB`\r\n            * `Windows x86`: `75%` of total physical memory up to `1GB`\r\n            * `Linux/Solaris X86`: `50%` of available physical memory up to `1GB`\r\n    * `Typical Size`:\r\n        * `-Xmx1g`\r\n        * `-Xmx2084M`\r\n        * `-Xmx4g`\r\n        * `-Xmx6g`\r\n        * `-Xmx8g`\r\n    * `Function`/`Effect`:\r\n        * -&gt; JVM allow use maxium of `Xmx` size memory\r\n            * when exceed `Xmx`, will `java.lang.OutOfMemoryError`\r\n                * How to fix `OutOfMemoryError` ?\r\n                    * exceed `Xmx` value\r\n                        * eg: from `-Xmx4g` to `-Xmx8g`\r\n\r\n### More detail\r\n\r\nsee  official doc: [-X Command-line Options](https://docs.oracle.com/cd/E13150_01/jrockit_jvm/jrockit/jrdocs/refman/optionX.html)\r\n","title":"How is the default max Java heap size determined?","body":"<p>The <code>Xms</code> and <code>Xmx</code> are flag of Java virtual machine (JVM):</p>\n<ul>\n<li><code>Xms</code>: <code>initial and minimum</code> JVM <code>heap size</code>\n<ul>\n<li><code>Format</code>: <code>-Xms&lt;size&gt;[g|G|m|M|k|K]</code></li>\n<li><code>Default Size</code>:\n<ul>\n<li><code>-server</code> mode: 25% of free physical memory, &gt;=8MB and &lt;= 64MB</li>\n<li><code>-client mode</code>: 25% of free physical memory, &gt;=8MB and &lt;= 16MB</li>\n</ul>\n</li>\n<li><code>Typical Size</code>:\n<ul>\n<li><code>-Xms128M</code></li>\n<li><code>-Xms256M</code></li>\n<li><code>-Xms512M</code></li>\n</ul>\n</li>\n<li><code>Function</code>/<code>Effect</code>:\n<ul>\n<li>-&gt; JVM start with allocate <code>Xms</code> size memory</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><code>Xmx</code>: <code>maximum</code> JVM <code>heap size</code>\n<ul>\n<li><code>Format</code>: <code>-Xmx&lt;size&gt;[g|G|m|M|k|K]</code></li>\n<li><code>Default Size</code>:\n<ul>\n<li><code>&lt;= R27.2</code>\n<ul>\n<li><code>Windows</code>: <code>75%</code> of total physical memory up to <code>1GB</code></li>\n<li><code>Linux/Solaris</code>: <code>50%</code> of available physical memory up to <code>1GB</code></li>\n</ul>\n</li>\n<li><code>&gt;= R27.3</code>\n<ul>\n<li><code>Windows X64</code>: <code>75%</code> of total physical memory up to <code>2GB</code></li>\n<li><code>Linux/Solaris X64</code>: <code>50%</code> of available physical memory up to <code>2GB</code></li>\n<li><code>Windows x86</code>: <code>75%</code> of total physical memory up to <code>1GB</code></li>\n<li><code>Linux/Solaris X86</code>: <code>50%</code> of available physical memory up to <code>1GB</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><code>Typical Size</code>:\n<ul>\n<li><code>-Xmx1g</code></li>\n<li><code>-Xmx2084M</code></li>\n<li><code>-Xmx4g</code></li>\n<li><code>-Xmx6g</code></li>\n<li><code>-Xmx8g</code></li>\n</ul>\n</li>\n<li><code>Function</code>/<code>Effect</code>:\n<ul>\n<li>-&gt; JVM allow use maxium of <code>Xmx</code> size memory\n<ul>\n<li>when exceed <code>Xmx</code>, will <code>java.lang.OutOfMemoryError</code>\n<ul>\n<li>How to fix <code>OutOfMemoryError</code> ?\n<ul>\n<li>exceed <code>Xmx</code> value\n<ul>\n<li>eg: from <code>-Xmx4g</code> to <code>-Xmx8g</code></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3>More detail</h3>\n<p>see  official doc: <a href=\"https://docs.oracle.com/cd/E13150_01/jrockit_jvm/jrockit/jrdocs/refman/optionX.html\" rel=\"noreferrer\">-X Command-line Options</a></p>\n"},{"tags":[],"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1577987987,"creation_date":1568230112,"answer_id":57895677,"question_id":4667483,"body_markdown":"Finally!\r\n\r\nAs of Java 8u191 you now have the options:\r\n\r\n    -XX:InitialRAMPercentage\r\n    -XX:MaxRAMPercentage\r\n    -XX:MinRAMPercentage\r\n\r\nthat can be used to size the heap as a percentage of the usable physical RAM. (which is same as the RAM installed less what the kernel uses).\r\n\r\nSee [Release Notes for Java8 u191][1] for more information. Note that the options are mentioned under a Docker heading but in fact they apply whether you are in Docker environment or in a traditional environment.\r\n\r\nThe default value for `MaxRAMPercentage` is 25%. This is extremely conservative. \r\n\r\nMy own rule: If your host is more or less dedicated to running the given java application, then you can without problems increase dramatically. If you are on Linux,  only running standard daemons and have installed RAM from somewhere around 1 Gb and up then I wouldn&#39;t hesitate to use 75% for the JVM&#39;s heap. Again, remember that this is 75% of the RAM *available*, not the RAM *installed*. What is left is the other user land processes that may be running on the host and the other types of memory that the JVM needs (eg for stack). All together, this will typically fit nicely in the 25% that is left. Obviously, with even more installed RAM the 75% is a safer and safer bet. (I wish the JDK folks had implemented an option where you could specify a ladder)\r\n\r\nSetting the `MaxRAMPercentage` option look like this:\r\n\r\n    java -XX:MaxRAMPercentage=75.0  ....\r\n\r\nNote that these percentage values are of &#39;double&#39; type and therefore you **must** specify them with a decimal dot. You get a somewhat odd error if you use &quot;75&quot; instead of &quot;75.0&quot;.\r\n\r\n\r\n  [1]: https://www.oracle.com/technetwork/java/javase/8u191-relnotes-5032181.html","title":"How is the default max Java heap size determined?","body":"<p>Finally!</p>\n\n<p>As of Java 8u191 you now have the options:</p>\n\n<pre><code>-XX:InitialRAMPercentage\n-XX:MaxRAMPercentage\n-XX:MinRAMPercentage\n</code></pre>\n\n<p>that can be used to size the heap as a percentage of the usable physical RAM. (which is same as the RAM installed less what the kernel uses).</p>\n\n<p>See <a href=\"https://www.oracle.com/technetwork/java/javase/8u191-relnotes-5032181.html\" rel=\"noreferrer\">Release Notes for Java8 u191</a> for more information. Note that the options are mentioned under a Docker heading but in fact they apply whether you are in Docker environment or in a traditional environment.</p>\n\n<p>The default value for <code>MaxRAMPercentage</code> is 25%. This is extremely conservative. </p>\n\n<p>My own rule: If your host is more or less dedicated to running the given java application, then you can without problems increase dramatically. If you are on Linux,  only running standard daemons and have installed RAM from somewhere around 1 Gb and up then I wouldn't hesitate to use 75% for the JVM's heap. Again, remember that this is 75% of the RAM <em>available</em>, not the RAM <em>installed</em>. What is left is the other user land processes that may be running on the host and the other types of memory that the JVM needs (eg for stack). All together, this will typically fit nicely in the 25% that is left. Obviously, with even more installed RAM the 75% is a safer and safer bet. (I wish the JDK folks had implemented an option where you could specify a ladder)</p>\n\n<p>Setting the <code>MaxRAMPercentage</code> option look like this:</p>\n\n<pre><code>java -XX:MaxRAMPercentage=75.0  ....\n</code></pre>\n\n<p>Note that these percentage values are of 'double' type and therefore you <strong>must</strong> specify them with a decimal dot. You get a somewhat odd error if you use \"75\" instead of \"75.0\".</p>\n"}],"owner":{"account_id":5230,"reputation":23320,"user_id":1199234,"accept_rate":48,"display_name":"Richard Dorman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476572,"favorite_count":0,"down_vote_count":1,"up_vote_count":533,"answer_count":10,"score":532,"last_activity_date":1634825978,"creation_date":1294826798,"question_id":4667483,"body_markdown":"If I omit the &lt;code&gt;-Xmx***n***&lt;/code&gt; option from the Java command line then a default value will be used. According to [Java documentation][1] \r\n\r\n&gt; &quot;the default value is chosen at runtime based on system configuration&quot;\r\n\r\nWhat system configuration settings influence the default value?\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/technotes/tools/windows/java.html\r\n","title":"How is the default max Java heap size determined?","body":"<p>If I omit the <code>-Xmx<em><strong>n</strong></em></code> option from the Java command line then a default value will be used. According to <a href=\"http://download.oracle.com/javase/6/docs/technotes/tools/windows/java.html\" rel=\"noreferrer\">Java documentation</a></p>\n<blockquote>\n<p>&quot;the default value is chosen at runtime based on system configuration&quot;</p>\n</blockquote>\n<p>What system configuration settings influence the default value?</p>\n"},{"tags":["java","vaadin-flow","vaadin-grid"],"answers":[{"tags":[],"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1634042483,"creation_date":1634042483,"answer_id":69540742,"question_id":69539953,"body_markdown":"You can use conditional templates to a degree. The `&lt;dom-if if=&quot;item.isSomething&quot;&gt;` template gets stamped if the `isSomething` property is truthy. So you can use something like\r\n```\r\n&quot;&lt;template is=&#39;dom-if&#39; if=&#39;[[item.first]]&#39;&gt;first template&lt;/template&gt;\r\n&lt;template is=&#39;dom-if&#39; if=&#39;[[item.second]]&#39;&gt;second template&lt;/template&gt;\r\n&lt;template is=&#39;dom-if&#39; if=&#39;[[item.third]]&#39;&gt;third template&lt;/template&gt;&quot;\r\n```\r\nwhich renders `first template` if `item.first` is true and so on. You need to supply the `first`, `second` and `third` properties to the TemplateRenderer with something like `.withProperty(&quot;first&quot;, item -&gt; item.isFirst() ).withProperty(&quot;second&quot;, item -&gt; item.isSecond())` and so on.","title":"Use multiple Templates in Vaadin Grid","body":"<p>You can use conditional templates to a degree. The <code>&lt;dom-if if=&quot;item.isSomething&quot;&gt;</code> template gets stamped if the <code>isSomething</code> property is truthy. So you can use something like</p>\n<pre><code>&quot;&lt;template is='dom-if' if='[[item.first]]'&gt;first template&lt;/template&gt;\n&lt;template is='dom-if' if='[[item.second]]'&gt;second template&lt;/template&gt;\n&lt;template is='dom-if' if='[[item.third]]'&gt;third template&lt;/template&gt;&quot;\n</code></pre>\n<p>which renders <code>first template</code> if <code>item.first</code> is true and so on. You need to supply the <code>first</code>, <code>second</code> and <code>third</code> properties to the TemplateRenderer with something like <code>.withProperty(&quot;first&quot;, item -&gt; item.isFirst() ).withProperty(&quot;second&quot;, item -&gt; item.isSecond())</code> and so on.</p>\n"}],"owner":{"account_id":23010429,"reputation":215,"user_id":17133024,"display_name":"Dario Viva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69540742,"answer_count":1,"score":0,"last_activity_date":1634825755,"creation_date":1634039166,"question_id":69539953,"body_markdown":"I want to display different Types of Objects (same supertype) in the same Grid. I want them rendered as Cards, with the help of Template Renderer. Suppose I want to build a webshop for PC-parts.\r\nI would have an abstract Class `AbstractPcPart`.\r\n```java\r\npublic abstract class AbstractPcPart {\r\n\tprivate Price price;\r\n\tprivate String name;\r\n\tprivate Int stockQuantity;\r\n\t// getters and setters\r\n}\r\n```\r\nNow I want to have different Parts with different Fields.\r\n```java\r\npublic class GraphicsCard extends AbstractPcPart {\r\n\tprivate List&lt;Connector&gt; connections;\r\n\tprivate CoolingSystem coolingSystem;\r\n\tprivate int PciExpressVersion;\r\n\tprivate String cardModel;\r\n\t// getters and setters\r\n}\r\npublic class Memory extends AbstractPcPart {\r\n\tprivate MemoryConfiguration configuration;\r\n\tprivate String formFactor;\r\n\tprivate int frequency;\r\n\t// getters and setters\r\n}\r\n```\r\nWhat I already have\r\n--------------\r\nI can display one Type in a List. This looks something like this:\r\n[grid view with memory only][1]\r\nCode for this List:\r\n```java\r\n@JsModule(&quot;./src/views/parts/card/memory-card.js&quot;)\r\npublic class PcPartsGrid extends Grid&lt;AbstractPcPart&gt; {\r\n\tpublic PcPartsGrid() {\r\n\t\tsuper();\r\n\t\t\r\n\t\taddColumn(MemoryCard.getTemplate()\r\n\t\t\t\t.withProperty(&quot;partCard&quot;, MemoryCard::create))\r\n}\r\n\r\npublic class MemoryCard extends AbstractPcPartCard {\r\n\tAbstractPcPart pcPart;\r\n\tpublic MemoryCard (AbstractPcPart pcPart) {\r\n\t\tthis.pcPart = pcPart;\r\n\t}\r\n    public static MemoryCard create(AbstractPcPart pcPart) {\r\n\t\treturn new MemoryCard(pcPart)\r\n\t}\r\n\tpublic static TemplateRenderer&lt;AbstractPcPart&gt; getTemplate() {\r\n\t\treturn TemplateRenderer.of(\r\n\t\t\t\t&quot;&lt;memory-card memory-card=&#39;[[item.partCard]]&#39;&gt;&quot;\r\n\t\t\t\t+ &quot;&lt;/memory-card&gt;&quot;\r\n\t}\r\n```\r\nWhat is the problem?\r\n--------------\r\nNow this is fine and all, but when trying to build a grid with different template-renderers this does not work.\r\nI tried to add the fallowing Factory.\r\n```java\r\npublic class CardFactory {\r\n\tpublic static AbstractPcPart create(AbstractPcPart pcPart) {\r\n\t\tif (pcPart.getClass() == GraphicsCard.class) {\r\n\t\t\treturn GraphicsCardCard.create(pcPart);\r\n\t\t} else if (pcPart.getClass() == Memory.class) {\r\n\t\t\treturn MemoryCard.create(pcPart);\r\n\t\t} else {\r\n\t\t\t// different Pc Parts\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static TemplateRenderer&lt;AbstractPcPart&gt; getTemplate(AbstractPcPart pcPart) {\r\n\t\tif (pcPart.getClass() == GraphicsCard.class) {\r\n\t\t\treturn GraphicsCardCard.getTemplate();\r\n\t\t} else if (pcPart.getClass() == Memory.class)  {\r\n\t\t\treturn MemoryCard.getTemplate();\r\n\t\t} else {\r\n\t\t\t// different Pc Parts\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nAnd changed the Grid to use this Factory.\r\n```java\r\n@JsModule(&quot;./src/views/parts/card/memory-card.js&quot;)\r\n@JsModule(&quot;./src/views/parts/card/graphics-card-card.js&quot;)\r\npublic class PcPartsGrid extends Grid&lt;AbstractPcPart&gt; {\r\n\tpublic PcPartsGrid() {\r\n\t\tsuper();\r\n\t\t\r\n\t\taddColumn(pcPart -&gt; CardFactory.getTemplate(pcPart)\r\n\t\t\t\t.withProperty(&quot;partCard&quot;, CardFactory::create))\r\n}\r\n```\r\nThis is not working as expected, instead of rendering the different Templates in my Grid, it is showing me the references to the template-renderers.\r\n[template-renderer reference][2]\r\n\r\nIf this is supposed to work, what am I doing wrong, and what do I need to change, that instead of showing the reference, the template gets rendered?\r\n\r\nAnd if this is expected behaviour, what are viable alternatives?\r\n\r\nEdit:\r\nI have built an example project and put it on github, for everyone to look at. [Example-Project](https://github.com/DarioViva42/Example-Project)\r\n\r\nThe Application in the project contains a view vor every different method i used to fill a grid with templates. The fallowing views are present:\r\n\r\n- Original View (thats what i had at the beginning, using template renderer for only one version of pcPart)\r\n- View using Cardfactory (this factory is intended to use a different template for each type of pcPart) this shows only the references to the objects instead of the templates (I think this is because I am using a lambda inside the addColumn() method that I inherit from the vaadin Grid)\r\n- View using dom-if elements (this view is using dom-if elements as described in [this answer](https://stackoverflow.com/a/69540742/17133024) from [ollitietavainen](https://stackoverflow.com/users/3608089/ollitietavainen), sadly its not working as intended: it’s showing both templates instead of just one)\r\n- View that is not using a template (this is just a simple grid using value providers)\r\n- View that is using a component renderer\r\n- Example-View from [Vaadin](https://start.vaadin.com) that also uses a component renderer\r\n\r\n  [1]: https://i.stack.imgur.com/YCVqs.png\r\n  [2]: https://i.stack.imgur.com/zLelN.png","title":"Use multiple Templates in Vaadin Grid","body":"<p>I want to display different Types of Objects (same supertype) in the same Grid. I want them rendered as Cards, with the help of Template Renderer. Suppose I want to build a webshop for PC-parts.\nI would have an abstract Class <code>AbstractPcPart</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class AbstractPcPart {\n    private Price price;\n    private String name;\n    private Int stockQuantity;\n    // getters and setters\n}\n</code></pre>\n<p>Now I want to have different Parts with different Fields.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GraphicsCard extends AbstractPcPart {\n    private List&lt;Connector&gt; connections;\n    private CoolingSystem coolingSystem;\n    private int PciExpressVersion;\n    private String cardModel;\n    // getters and setters\n}\npublic class Memory extends AbstractPcPart {\n    private MemoryConfiguration configuration;\n    private String formFactor;\n    private int frequency;\n    // getters and setters\n}\n</code></pre>\n<h2>What I already have</h2>\n<p>I can display one Type in a List. This looks something like this:\n<a href=\"https://i.stack.imgur.com/YCVqs.png\" rel=\"nofollow noreferrer\">grid view with memory only</a>\nCode for this List:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsModule(&quot;./src/views/parts/card/memory-card.js&quot;)\npublic class PcPartsGrid extends Grid&lt;AbstractPcPart&gt; {\n    public PcPartsGrid() {\n        super();\n        \n        addColumn(MemoryCard.getTemplate()\n                .withProperty(&quot;partCard&quot;, MemoryCard::create))\n}\n\npublic class MemoryCard extends AbstractPcPartCard {\n    AbstractPcPart pcPart;\n    public MemoryCard (AbstractPcPart pcPart) {\n        this.pcPart = pcPart;\n    }\n    public static MemoryCard create(AbstractPcPart pcPart) {\n        return new MemoryCard(pcPart)\n    }\n    public static TemplateRenderer&lt;AbstractPcPart&gt; getTemplate() {\n        return TemplateRenderer.of(\n                &quot;&lt;memory-card memory-card='[[item.partCard]]'&gt;&quot;\n                + &quot;&lt;/memory-card&gt;&quot;\n    }\n</code></pre>\n<h2>What is the problem?</h2>\n<p>Now this is fine and all, but when trying to build a grid with different template-renderers this does not work.\nI tried to add the fallowing Factory.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CardFactory {\n    public static AbstractPcPart create(AbstractPcPart pcPart) {\n        if (pcPart.getClass() == GraphicsCard.class) {\n            return GraphicsCardCard.create(pcPart);\n        } else if (pcPart.getClass() == Memory.class) {\n            return MemoryCard.create(pcPart);\n        } else {\n            // different Pc Parts\n        }\n    }\n\n    public static TemplateRenderer&lt;AbstractPcPart&gt; getTemplate(AbstractPcPart pcPart) {\n        if (pcPart.getClass() == GraphicsCard.class) {\n            return GraphicsCardCard.getTemplate();\n        } else if (pcPart.getClass() == Memory.class)  {\n            return MemoryCard.getTemplate();\n        } else {\n            // different Pc Parts\n        }\n    }\n}\n</code></pre>\n<p>And changed the Grid to use this Factory.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsModule(&quot;./src/views/parts/card/memory-card.js&quot;)\n@JsModule(&quot;./src/views/parts/card/graphics-card-card.js&quot;)\npublic class PcPartsGrid extends Grid&lt;AbstractPcPart&gt; {\n    public PcPartsGrid() {\n        super();\n        \n        addColumn(pcPart -&gt; CardFactory.getTemplate(pcPart)\n                .withProperty(&quot;partCard&quot;, CardFactory::create))\n}\n</code></pre>\n<p>This is not working as expected, instead of rendering the different Templates in my Grid, it is showing me the references to the template-renderers.\n<a href=\"https://i.stack.imgur.com/zLelN.png\" rel=\"nofollow noreferrer\">template-renderer reference</a></p>\n<p>If this is supposed to work, what am I doing wrong, and what do I need to change, that instead of showing the reference, the template gets rendered?</p>\n<p>And if this is expected behaviour, what are viable alternatives?</p>\n<p>Edit:\nI have built an example project and put it on github, for everyone to look at. <a href=\"https://github.com/DarioViva42/Example-Project\" rel=\"nofollow noreferrer\">Example-Project</a></p>\n<p>The Application in the project contains a view vor every different method i used to fill a grid with templates. The fallowing views are present:</p>\n<ul>\n<li>Original View (thats what i had at the beginning, using template renderer for only one version of pcPart)</li>\n<li>View using Cardfactory (this factory is intended to use a different template for each type of pcPart) this shows only the references to the objects instead of the templates (I think this is because I am using a lambda inside the addColumn() method that I inherit from the vaadin Grid)</li>\n<li>View using dom-if elements (this view is using dom-if elements as described in <a href=\"https://stackoverflow.com/a/69540742/17133024\">this answer</a> from <a href=\"https://stackoverflow.com/users/3608089/ollitietavainen\">ollitietavainen</a>, sadly its not working as intended: it’s showing both templates instead of just one)</li>\n<li>View that is not using a template (this is just a simple grid using value providers)</li>\n<li>View that is using a component renderer</li>\n<li>Example-View from <a href=\"https://start.vaadin.com\" rel=\"nofollow noreferrer\">Vaadin</a> that also uses a component renderer</li>\n</ul>\n"},{"tags":["java","android","tabs"],"owner":{"account_id":23095037,"reputation":11,"user_id":17205306,"display_name":"Hamed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634825574,"creation_date":1634760900,"question_id":69652491,"body_markdown":"\r\nHow I can change the size of one tab in Android TabLayout, I am trying to get all tabs but I am not able to modify tab size. I want to make the middle one larger.\r\n\r\nI have tried to tab.setMinimumWidth but it is not working as expected.\r\n[Check this image][1]\r\n         \r\n    final Toolbar toolbar = findViewById(R.id.htab_toolbar);\r\n        setSupportActionBar(toolbar);\r\n        if (getSupportActionBar() != null) getSupportActionBar().setTitle(&quot;Parallax Tabs&quot;);\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n\r\n        final ViewPager viewPager = findViewById(R.id.htab_viewpager);\r\n        setupViewPager(viewPager);\r\n        TabLayout tabLayout = findViewById(R.id.htab_tabs);\r\n        tabLayout.setupWithViewPager(viewPager);\r\n        TabLayout.Tab mtab = tabLayout.getTabAt(2);\r\n        mtab.select();\r\n\r\n        ViewGroup tabs = (ViewGroup) tabLayout.getChildAt(0);\r\n\r\n        for (int i = 0; i &lt; tabs.getChildCount() - 1; i++) {\r\n            View tab = tabs.getChildAt(i);\r\n            LinearLayout.LayoutParams layoutParams = (LinearLayout.LayoutParams)     tab.getLayoutParams();\r\n\r\n            layoutParams.setMarginEnd(20);\r\n            layoutParams.setMarginEnd(20);\r\n            layoutParams.width = 10;\r\n\r\n            tab.setLayoutParams(layoutParams);\r\n\r\n            if(i==2)\r\n            {\r\n\r\n                tab.setMinimumWidth(100);\r\n                tab.setMinimumHeight(200);\r\n            }\r\n            else\r\n            {\r\n                tab.setMinimumWidth(50);\r\n                tab.setMinimumHeight(50);\r\n            }\r\n            tabLayout.requestLayout();\r\n        }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4vn3J.png","title":"Change size of one tab in TabLayout on Android","body":"<p>How I can change the size of one tab in Android TabLayout, I am trying to get all tabs but I am not able to modify tab size. I want to make the middle one larger.</p>\n<p>I have tried to tab.setMinimumWidth but it is not working as expected.\n<a href=\"https://i.stack.imgur.com/4vn3J.png\" rel=\"nofollow noreferrer\">Check this image</a></p>\n<pre><code>final Toolbar toolbar = findViewById(R.id.htab_toolbar);\n    setSupportActionBar(toolbar);\n    if (getSupportActionBar() != null) getSupportActionBar().setTitle(&quot;Parallax Tabs&quot;);\n    getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n\n    final ViewPager viewPager = findViewById(R.id.htab_viewpager);\n    setupViewPager(viewPager);\n    TabLayout tabLayout = findViewById(R.id.htab_tabs);\n    tabLayout.setupWithViewPager(viewPager);\n    TabLayout.Tab mtab = tabLayout.getTabAt(2);\n    mtab.select();\n\n    ViewGroup tabs = (ViewGroup) tabLayout.getChildAt(0);\n\n    for (int i = 0; i &lt; tabs.getChildCount() - 1; i++) {\n        View tab = tabs.getChildAt(i);\n        LinearLayout.LayoutParams layoutParams = (LinearLayout.LayoutParams)     tab.getLayoutParams();\n\n        layoutParams.setMarginEnd(20);\n        layoutParams.setMarginEnd(20);\n        layoutParams.width = 10;\n\n        tab.setLayoutParams(layoutParams);\n\n        if(i==2)\n        {\n\n            tab.setMinimumWidth(100);\n            tab.setMinimumHeight(200);\n        }\n        else\n        {\n            tab.setMinimumWidth(50);\n            tab.setMinimumHeight(50);\n        }\n        tabLayout.requestLayout();\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","quartz-scheduler"],"comments":[{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1634824375,"post_id":69662798,"comment_id":123134742,"body_markdown":"Most probably test class does not have transaction so you can not get t.getEvent() or orderId()","body":"Most probably test class does not have transaction so you can not get t.getEvent() or orderId()"},{"owner":{"account_id":16194217,"reputation":622,"user_id":11692264,"display_name":"petrov.aleksandr"},"score":0,"creation_date":1634824761,"post_id":69662798,"comment_id":123134929,"body_markdown":"@Gurkanİlleez after adding spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true  I can get Event from Task","body":"@Gurkanİlleez after adding spring.jpa.properties.hibernate.enable_lazy_load_no_trans=tr&zwnj;&#8203;ue  I can get Event from Task"}],"answers":[{"tags":[],"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634825158,"creation_date":1634824563,"answer_id":69663313,"question_id":69662798,"body_markdown":"Test class uses findAll method of repository and if you try to get LAZY initialized method, you can get this exception.\r\n\r\nIn the assertions :\r\n\r\n    t.getEvent().getEventType() // can throw it\r\n    actual.get(0).getEvent() // can throw it\r\n\r\n\r\nTo avoid it maybe you can make it transactional or eager fetch type can be prefered.\r\n\r\n\r\nunder REPEATABLE READ the second SELECT is guaranteed to display at least the rows that were returned from the first SELECT unchanged. New rows may be added by a concurrent transaction in that one minute, but the existing rows cannot be deleted nor changed.\r\n\r\n\r\nhttps://stackoverflow.com/questions/4034976/difference-between-read-commited-and-repeatable-read\r\n","title":"Quartz Integration test and transactions","body":"<p>Test class uses findAll method of repository and if you try to get LAZY initialized method, you can get this exception.</p>\n<p>In the assertions :</p>\n<pre><code>t.getEvent().getEventType() // can throw it\nactual.get(0).getEvent() // can throw it\n</code></pre>\n<p>To avoid it maybe you can make it transactional or eager fetch type can be prefered.</p>\n<p>under REPEATABLE READ the second SELECT is guaranteed to display at least the rows that were returned from the first SELECT unchanged. New rows may be added by a concurrent transaction in that one minute, but the existing rows cannot be deleted nor changed.</p>\n<p><a href=\"https://stackoverflow.com/questions/4034976/difference-between-read-commited-and-repeatable-read\">Difference between &quot;read commited&quot; and &quot;repeatable read&quot;</a></p>\n"}],"owner":{"account_id":16194217,"reputation":622,"user_id":11692264,"display_name":"petrov.aleksandr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":528,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69663313,"answer_count":1,"score":0,"last_activity_date":1634825158,"creation_date":1634822505,"question_id":69662798,"body_markdown":"I try create integration test on Quartz scheduler.\r\n\r\nI have 2 tables: **events** and **tasks**. Scheduler create **task** by **event** by cron trigger.\r\n\r\n    @SneakyThrows\r\n    @Test\r\n    public void taskGenerationBeanTest() {\r\n        RequestData request = requestBuilder(str(), str(), str()).build();\r\n        String orderId = String.valueOf(UUID.randomUUID());\r\n        Event event1 = getEvent(&quot;type1&quot;, request, orderId);\r\n        Event event2 = getEvent(&quot;type2&quot;, request, orderId);\r\n\r\n        eventRepository.save(event1);\r\n        eventRepository.save(event2);\r\n\r\n        Thread.sleep(20000);\r\n        List&lt;Event&gt; events = eventRepository.findAll();\r\n        Thread.sleep(1000);\r\n        List&lt;Task&gt; actual = taskRepository.findAll();\r\n\r\n        assertAll(\r\n                () -&gt; assertEquals(2, actual.size()),\r\n                () -&gt; assertTrue(actual.stream().anyMatch(t -&gt;\r\n                        &quot;type1&quot;.equals(t.getEvent().getEventType()))),\r\n                () -&gt; assertEquals(event1.getOrderId(), actual.get(0).getEvent().getOrderId())\r\n        );\r\n    }\r\n\r\nFirstly, I get exception:\r\n\r\n&gt; could not initialize proxy - no Session\r\n\r\nI use this answer https://stackoverflow.com/questions/36583185/spring-data-jpa-could-not-initialize-proxy-no-session-with-methods-marke and add `spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true`\r\nto my test config. \r\nSo now I get another problem - my test sometimes work true, but more often it falls, because it create only 1 **task**. \r\n\r\nMethod, that executed by **Quartz**: \r\n\r\n    @Override\r\n    @Transactional(isolation = Isolation.REPEATABLE_READ)\r\n    public int createAndSaveTasks(EventType eventType) {\r\n        List&lt;Task&gt; tasks = eventService.getEvent(eventType)\r\n                .stream()\r\n                .map(Task::new)\r\n                .collect(Collectors.toList());\r\n        taskRepository.saveAll(tasks);\r\n        return tasks.size();\r\n    }\r\n\r\nSo how properly create Integration test with Quarts and transactions?","title":"Quartz Integration test and transactions","body":"<p>I try create integration test on Quartz scheduler.</p>\n<p>I have 2 tables: <strong>events</strong> and <strong>tasks</strong>. Scheduler create <strong>task</strong> by <strong>event</strong> by cron trigger.</p>\n<pre><code>@SneakyThrows\n@Test\npublic void taskGenerationBeanTest() {\n    RequestData request = requestBuilder(str(), str(), str()).build();\n    String orderId = String.valueOf(UUID.randomUUID());\n    Event event1 = getEvent(&quot;type1&quot;, request, orderId);\n    Event event2 = getEvent(&quot;type2&quot;, request, orderId);\n\n    eventRepository.save(event1);\n    eventRepository.save(event2);\n\n    Thread.sleep(20000);\n    List&lt;Event&gt; events = eventRepository.findAll();\n    Thread.sleep(1000);\n    List&lt;Task&gt; actual = taskRepository.findAll();\n\n    assertAll(\n            () -&gt; assertEquals(2, actual.size()),\n            () -&gt; assertTrue(actual.stream().anyMatch(t -&gt;\n                    &quot;type1&quot;.equals(t.getEvent().getEventType()))),\n            () -&gt; assertEquals(event1.getOrderId(), actual.get(0).getEvent().getOrderId())\n    );\n}\n</code></pre>\n<p>Firstly, I get exception:</p>\n<blockquote>\n<p>could not initialize proxy - no Session</p>\n</blockquote>\n<p>I use this answer <a href=\"https://stackoverflow.com/questions/36583185/spring-data-jpa-could-not-initialize-proxy-no-session-with-methods-marke\">Spring Data JPA - &quot;could not initialize proxy - no Session&quot; - With Methods marked as transactional</a> and add <code>spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true</code>\nto my test config.\nSo now I get another problem - my test sometimes work true, but more often it falls, because it create only 1 <strong>task</strong>.</p>\n<p>Method, that executed by <strong>Quartz</strong>:</p>\n<pre><code>@Override\n@Transactional(isolation = Isolation.REPEATABLE_READ)\npublic int createAndSaveTasks(EventType eventType) {\n    List&lt;Task&gt; tasks = eventService.getEvent(eventType)\n            .stream()\n            .map(Task::new)\n            .collect(Collectors.toList());\n    taskRepository.saveAll(tasks);\n    return tasks.size();\n}\n</code></pre>\n<p>So how properly create Integration test with Quarts and transactions?</p>\n"},{"tags":["java","divide-by-zero"],"answers":[{"tags":[],"owner":{"account_id":14927040,"reputation":358,"user_id":10777578,"display_name":"Julian Kreuzer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634815407,"creation_date":1634815407,"answer_id":69661095,"question_id":69660899,"body_markdown":"You used another variable to compare the scanner result, denominator1 is set but then the other variable is used for the do while loop\r\n\r\n    Scanner scan = new Scanner(System.in);\r\n                System.out.println(&quot;Enter the first number that you want to divide: &quot;);\r\n                double numerator = scan.nextDouble();\r\n                double denominator;\r\n                do {\r\n                    System.out.println(&quot;Enter the second number that you want to divide: &quot;);\r\n                    denominator = scan.nextDouble();\r\n                } while (denominator == 0);\r\n    \r\n                double fraction = numerator/denominator;\r\n                System.out.println(&quot;The result of the division is: &quot; + fraction);\r\n                scan.close();","title":"Printing The Result of a Division Between Two Doubles only if the second value is different from zero","body":"<p>You used another variable to compare the scanner result, denominator1 is set but then the other variable is used for the do while loop</p>\n<pre><code>Scanner scan = new Scanner(System.in);\n            System.out.println(&quot;Enter the first number that you want to divide: &quot;);\n            double numerator = scan.nextDouble();\n            double denominator;\n            do {\n                System.out.println(&quot;Enter the second number that you want to divide: &quot;);\n                denominator = scan.nextDouble();\n            } while (denominator == 0);\n\n            double fraction = numerator/denominator;\n            System.out.println(&quot;The result of the division is: &quot; + fraction);\n            scan.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634815466,"creation_date":1634815466,"answer_id":69661108,"question_id":69660899,"body_markdown":"You were close.  Here are my test results.\r\n\r\n    Enter the first number that you want to divide: \r\n    1\r\n    Enter the second number that you want to divide: \r\n    0\r\n    Enter the second number that you want to divide: \r\n    3\r\n    The result of the division is: 0.3333333333333333\r\n\r\nHere&#39;s the code with the changes made.  A while loop would have been more natural, but I kept your do-while loop.\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class DoubleDivision {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner scan = new Scanner(System.in);\r\n    \r\n    \t\tSystem.out.println(&quot;Enter the first number that you want to divide: &quot;);\r\n    \t\tdouble numerator = scan.nextDouble();\r\n    \r\n    \t\tdouble denominator;\r\n    \t\tdo {\r\n    \t\t\tSystem.out.println(&quot;Enter the second number that you want to divide: &quot;);\r\n    \t\t\tdenominator = scan.nextDouble();\r\n    \t\t} while (denominator == 0);\r\n    \r\n    \t\tdouble fraction = numerator / denominator;\r\n    \t\tSystem.out.println(&quot;The result of the division is: &quot; + fraction);\r\n    \r\n    \t\tscan.close();\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Printing The Result of a Division Between Two Doubles only if the second value is different from zero","body":"<p>You were close.  Here are my test results.</p>\n<pre><code>Enter the first number that you want to divide: \n1\nEnter the second number that you want to divide: \n0\nEnter the second number that you want to divide: \n3\nThe result of the division is: 0.3333333333333333\n</code></pre>\n<p>Here's the code with the changes made.  A while loop would have been more natural, but I kept your do-while loop.</p>\n<pre><code>import java.util.Scanner;\n\npublic class DoubleDivision {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n\n        System.out.println(&quot;Enter the first number that you want to divide: &quot;);\n        double numerator = scan.nextDouble();\n\n        double denominator;\n        do {\n            System.out.println(&quot;Enter the second number that you want to divide: &quot;);\n            denominator = scan.nextDouble();\n        } while (denominator == 0);\n\n        double fraction = numerator / denominator;\n        System.out.println(&quot;The result of the division is: &quot; + fraction);\n\n        scan.close();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634825030,"creation_date":1634825030,"answer_id":69663432,"question_id":69660899,"body_markdown":"The mistake in your do-while is that you are reading the value into a different variable (i.e. `denominator1`) than the one you are testing (`denominator`).  In fact, you are using a variable whose scope is limited to the body of that do-while.  Simple solution is to use the variable you had already defined for the denominator.\r\n\r\n    double denominator = 0.0;\r\n    do {\r\n      System.out.println(&quot;Enter the second number that you want to divide: &quot;);\r\n      denominator = scan.nextDouble();\r\n    } while (denominator == 0.0);\r\n\r\nI would suggest that you modify the prompts to inform the user that they are entering the numerator and denominator respectively.  IF they enter a 0.0 for denominator then tell them what&#39;s wrong before repeating the prompt.  In this example, I put it in a separate method.\r\n\r\n    private void readDenominator() {\r\n      System.out.println(&quot;Enter the denominator: &quot;);\r\n      denominator = scan.nextDouble();\r\n      while (denominator == 0.0) {\r\n        System.out.println(&quot;Cannot divide by zero.  Enter the denominator: &quot;);\r\n        denominator = scan.nextDouble();\r\n      }\r\n    }\r\n","title":"Printing The Result of a Division Between Two Doubles only if the second value is different from zero","body":"<p>The mistake in your do-while is that you are reading the value into a different variable (i.e. <code>denominator1</code>) than the one you are testing (<code>denominator</code>).  In fact, you are using a variable whose scope is limited to the body of that do-while.  Simple solution is to use the variable you had already defined for the denominator.</p>\n<pre><code>double denominator = 0.0;\ndo {\n  System.out.println(&quot;Enter the second number that you want to divide: &quot;);\n  denominator = scan.nextDouble();\n} while (denominator == 0.0);\n</code></pre>\n<p>I would suggest that you modify the prompts to inform the user that they are entering the numerator and denominator respectively.  IF they enter a 0.0 for denominator then tell them what's wrong before repeating the prompt.  In this example, I put it in a separate method.</p>\n<pre><code>private void readDenominator() {\n  System.out.println(&quot;Enter the denominator: &quot;);\n  denominator = scan.nextDouble();\n  while (denominator == 0.0) {\n    System.out.println(&quot;Cannot divide by zero.  Enter the denominator: &quot;);\n    denominator = scan.nextDouble();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":21979036,"reputation":107,"user_id":16254384,"display_name":"Matteo Didon&#232;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1634825030,"creation_date":1634814723,"question_id":69660899,"body_markdown":"I&#39;m trying to make a Java program that takes two doubles in input, divides them and then prints out the result of the division. However, if the second double that it takes as input is zero, I want the program to keep asking the user to insert another number, for as long as the user gives as input to the program a number that is different from zero. \r\n\r\nI tried to translate into Java code this idea, but I&#39;ve never really gotten the result I wanted. So far, the code I&#39;ve written is the following: \r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class DoubleDivision {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t    Scanner scan = new Scanner(System.in);\r\n    \t    \r\n    \t\tSystem.out.println(&quot;Enter the first number that you want to divide: &quot;);\r\n    \t\tdouble numerator = scan.nextDouble();\r\n    \t\tSystem.out.println(&quot;Enter the second number that you want to divide: &quot;);\r\n    \t\tdouble denominator = scan.nextDouble();\r\n    \t\t\r\n    \t\tdo {\r\n    \t\t\tSystem.out.println(&quot;Enter the second number that you want to divide: &quot;);\r\n    \t\t\tdouble denominator1 = scan.nextDouble();\r\n    \t\t} while (denominator == 0);\r\n    \t\t\t\t\r\n    \t\tdouble fraction = numerator/denominator;\r\n    \t\tSystem.out.println(&quot;The result of the division is: &quot; + fraction);\r\n    \t\t\r\n    \t\t\t\r\n    \t\tscan.close();\t\t\r\n    \t\t\t\r\n    \t}\r\n    }\r\n\r\nI tried to use a do-while loop, but I&#39;m afraid I somehow failed at implementing it properly. \r\nIs there anyone who might be able to give me some piece of advice? I&#39;m kinda a beginner in the coding world. \r\nThank you very much!","title":"Printing The Result of a Division Between Two Doubles only if the second value is different from zero","body":"<p>I'm trying to make a Java program that takes two doubles in input, divides them and then prints out the result of the division. However, if the second double that it takes as input is zero, I want the program to keep asking the user to insert another number, for as long as the user gives as input to the program a number that is different from zero.</p>\n<p>I tried to translate into Java code this idea, but I've never really gotten the result I wanted. So far, the code I've written is the following:</p>\n<pre><code>import java.util.Scanner;\n\npublic class DoubleDivision {\n\n    public static void main(String[] args) {\n        \n        Scanner scan = new Scanner(System.in);\n        \n        System.out.println(&quot;Enter the first number that you want to divide: &quot;);\n        double numerator = scan.nextDouble();\n        System.out.println(&quot;Enter the second number that you want to divide: &quot;);\n        double denominator = scan.nextDouble();\n        \n        do {\n            System.out.println(&quot;Enter the second number that you want to divide: &quot;);\n            double denominator1 = scan.nextDouble();\n        } while (denominator == 0);\n                \n        double fraction = numerator/denominator;\n        System.out.println(&quot;The result of the division is: &quot; + fraction);\n        \n            \n        scan.close();       \n            \n    }\n}\n</code></pre>\n<p>I tried to use a do-while loop, but I'm afraid I somehow failed at implementing it properly.\nIs there anyone who might be able to give me some piece of advice? I'm kinda a beginner in the coding world.\nThank you very much!</p>\n"},{"tags":["java","ssh","gremlin","graph-databases","amazon-neptune"],"comments":[{"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":0,"creation_date":1634825168,"post_id":69654891,"comment_id":123135141,"body_markdown":"This question comes up quite often and makes perfect sense to me. I have provided a detailed answer below. However, to avoid a moderator closing this question it would be good if you can add a little more information about what you had already tried per Stack Overflow guidelines.","body":"This question comes up quite often and makes perfect sense to me. I have provided a detailed answer below. However, to avoid a moderator closing this question it would be good if you can add a little more information about what you had already tried per Stack Overflow guidelines."}],"answers":[{"tags":[],"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634824135,"creation_date":1634816681,"answer_id":69661403,"question_id":69654891,"body_markdown":"Yes it’s possible. You need to add the DNS name of the Neptune cluster to your local `hosts` file and use that name in your code and when creating the SSH tunnel. Do not use `localhost` as the SSL certs will not resolve if you do. The line in your `hosts` file will be of the form:\r\n\r\n```\r\n127.0.0.1 localhost my.cluster-abcdefghijk.us-east-1.neptune.amazonaws.com\r\n```\r\n\r\nThe ssh tunnel can then be created using something like\r\n```\r\nssh -i mypem.pem ec2-user@ec2-xx-xx-xx-xx.compute-1.amazonaws.com  -N -L 8182:my.cluster-abcdefghijk.us-east-1.neptune.amazonaws.com:8182\r\n```\r\n\r\nIn your Java code you can then build the connection something like this:\r\n```java\r\nCluster.Builder builder = Cluster.build();\r\nbuilder.addContactPoint(&quot;my.cluster-abcdefghijk.us-east-1.neptune.amazonaws.com&quot;);\r\nbuilder.port(8182);\r\nbuilder.serializer(Serializers.GRAPHBINARY_V1D0);\r\nbuilder.enableSsl(true);\r\ncluster = builder.create();\r\ndrc = DriverRemoteConnection.using(cluster);\r\ng = traversal().withRemote(drc);","title":"How to connect to Amazon Neptune by using ssh Java","body":"<p>Yes it’s possible. You need to add the DNS name of the Neptune cluster to your local <code>hosts</code> file and use that name in your code and when creating the SSH tunnel. Do not use <code>localhost</code> as the SSL certs will not resolve if you do. The line in your <code>hosts</code> file will be of the form:</p>\n<pre><code>127.0.0.1 localhost my.cluster-abcdefghijk.us-east-1.neptune.amazonaws.com\n</code></pre>\n<p>The ssh tunnel can then be created using something like</p>\n<pre><code>ssh -i mypem.pem ec2-user@ec2-xx-xx-xx-xx.compute-1.amazonaws.com  -N -L 8182:my.cluster-abcdefghijk.us-east-1.neptune.amazonaws.com:8182\n</code></pre>\n<p>In your Java code you can then build the connection something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Cluster.Builder builder = Cluster.build();\nbuilder.addContactPoint(&quot;my.cluster-abcdefghijk.us-east-1.neptune.amazonaws.com&quot;);\nbuilder.port(8182);\nbuilder.serializer(Serializers.GRAPHBINARY_V1D0);\nbuilder.enableSsl(true);\ncluster = builder.create();\ndrc = DriverRemoteConnection.using(cluster);\ng = traversal().withRemote(drc);\n</code></pre>\n"}],"owner":{"account_id":21940164,"reputation":97,"user_id":16220825,"display_name":"Tien Vu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1634825006,"creation_date":1634780749,"question_id":69654891,"body_markdown":"&lt;prep&gt;\r\nI&#39;ve setup a ssh tunnel to allow connecting to NeptuneDB \r\n&lt;https://stackoverflow.com/questions/52575630/connect-to-neptune-on-aws-from-local-machine&gt;\r\nand now i want to use Java from local machine to connect \r\nto NeptuneDB by using ssh, so is there any way to do that?\r\n&lt;/prep&gt;","title":"How to connect to Amazon Neptune by using ssh Java","body":"\nI've setup a ssh tunnel to allow connecting to NeptuneDB \n\nand now i want to use Java from local machine to connect \nto NeptuneDB by using ssh, so is there any way to do that?\n\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":4140948,"reputation":60,"user_id":3396294,"display_name":"Vasil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634710900,"creation_date":1634710900,"answer_id":69641190,"question_id":69641112,"body_markdown":"**forEach** \r\n\r\nWhy not to try forEach() as the simplest and most common operation; it loops over the stream elements, calling the supplied function on each element.\r\n\r\n\r\n \r\n    public void eval() {    \r\n        operations.stream().forEach(e -&gt; e.execute());\r\n             \r\n    }\r\n\r\nThis will effectively call the execute() on each element in the operations.\r\n\r\nAlso, a note to your current code is that result will have the latest result of operations execute, but not all. ","title":"Converting simple foreach loop to stream","body":"<p><strong>forEach</strong></p>\n<p>Why not to try forEach() as the simplest and most common operation; it loops over the stream elements, calling the supplied function on each element.</p>\n<pre><code>public void eval() {    \n    operations.stream().forEach(e -&gt; e.execute());\n         \n}\n</code></pre>\n<p>This will effectively call the execute() on each element in the operations.</p>\n<p>Also, a note to your current code is that result will have the latest result of operations execute, but not all.</p>\n"},{"tags":[],"owner":{"display_name":"user4910279"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634824893,"creation_date":1634711511,"answer_id":69641289,"question_id":69641112,"body_markdown":"Try this.\r\n\r\n    int eval() {\r\n        int[] r = {0};\r\n        operations.stream()\r\n            .forEach(op -&gt; r[0] = op.execute(r[0]));\r\n        return r[0];\r\n    }\r\n","title":"Converting simple foreach loop to stream","body":"<p>Try this.</p>\n<pre><code>int eval() {\n    int[] r = {0};\n    operations.stream()\n        .forEach(op -&gt; r[0] = op.execute(r[0]));\n    return r[0];\n}\n</code></pre>\n"}],"owner":{"account_id":15288718,"reputation":300,"user_id":11030912,"display_name":"infinitesimal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69641289,"answer_count":2,"score":0,"last_activity_date":1634824893,"creation_date":1634710393,"question_id":69641112,"body_markdown":"Suppose I have a simple class with method ```eval()```. Is possible to convert this method to stream.reduce or something similar except for using ```for``` loop? ```Operation``` is interface with many possible implementations of method ```execute``` which compute different arithmetical operations.\r\n```\r\npublic class Expression {\r\n    private final List&lt;Operation&gt; operations;\r\n\r\n    public Expression(List&lt;Operation&gt; operations) {\r\n        this.operations = operations;\r\n    }\r\n\r\n    int eval() {\r\n        int result = 0;\r\n        for (Operation operation: operations) {\r\n            result = operation.execute(result);\r\n        }\r\n        return result;\r\n    }\r\n}\r\n```","title":"Converting simple foreach loop to stream","body":"<p>Suppose I have a simple class with method <code>eval()</code>. Is possible to convert this method to stream.reduce or something similar except for using <code>for</code> loop? <code>Operation</code> is interface with many possible implementations of method <code>execute</code> which compute different arithmetical operations.</p>\n<pre><code>public class Expression {\n    private final List&lt;Operation&gt; operations;\n\n    public Expression(List&lt;Operation&gt; operations) {\n        this.operations = operations;\n    }\n\n    int eval() {\n        int result = 0;\n        for (Operation operation: operations) {\n            result = operation.execute(result);\n        }\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1634801339,"post_id":69657131,"comment_id":123124571,"body_markdown":"Are you sure this is the code causing you problems? And you are not calling remove again?\n\nremove() throws IllegalStateException - if the next method has not yet been called, or the remove method has already been called after the last call to the next method","body":"Are you sure this is the code causing you problems? And you are not calling remove again?  remove() throws IllegalStateException - if the next method has not yet been called, or the remove method has already been called after the last call to the next method"},{"owner":{"account_id":22039646,"reputation":1477,"user_id":16305607,"display_name":"majusebetter"},"score":3,"creation_date":1634802456,"post_id":69657131,"comment_id":123124972,"body_markdown":"It looks like you&#39;re calling `itr.remove()` too often. If `line.contains(field)` is `true` more than once per `line`, this is very likely to happen. Consider adding `break` to the `if` statement of the inner `for` loop right after `iterator.remove()`.","body":"It looks like you&#39;re calling <code>itr.remove()</code> too often. If <code>line.contains(field)</code> is <code>true</code> more than once per <code>line</code>, this is very likely to happen. Consider adding <code>break</code> to the <code>if</code> statement of the inner <code>for</code> loop right after <code>iterator.remove()</code>."},{"owner":{"account_id":22836239,"reputation":59,"user_id":16983968,"display_name":"average.joe"},"score":0,"creation_date":1634802682,"post_id":69657131,"comment_id":123125063,"body_markdown":"@majusebetter you are right.. Since its one liner, it might tend to call itr.remove() more than once, if fields containts is Still true on certain fields... Let me try to put the break..","body":"@majusebetter you are right.. Since its one liner, it might tend to call itr.remove() more than once, if fields containts is Still true on certain fields... Let me try to put the break.."},{"owner":{"account_id":22836239,"reputation":59,"user_id":16983968,"display_name":"average.joe"},"score":0,"creation_date":1634803767,"post_id":69657131,"comment_id":123125499,"body_markdown":"@majusebetter its seems working..","body":"@majusebetter its seems working.."},{"owner":{"account_id":22039646,"reputation":1477,"user_id":16305607,"display_name":"majusebetter"},"score":0,"creation_date":1634804927,"post_id":69657131,"comment_id":123126019,"body_markdown":"That&#39;s great! :)","body":"That&#39;s great! :)"},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1634823674,"post_id":69657131,"comment_id":123134395,"body_markdown":"@majusebetter – Would you please promote your comment to an answer? Otherwise only the wrong answer remains …","body":"@majusebetter – Would you please promote your comment to an answer? Otherwise only the wrong answer remains …"}],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634824870,"creation_date":1634824870,"answer_id":69663386,"question_id":69657131,"body_markdown":"Let&#39;s take a look what is really happening here.\r\n\r\nSuppose you have the following text:\r\n\r\n```\r\n&lt;root&gt;&lt;child&gt;&lt;/child&gt;&lt;/root&gt;\r\n```\r\n\r\nSplitting by `\\n` (which is not present in the string) will cause your list to have a single element.\r\n\r\nAnd `fieldsToRemove` looks like this:\r\n\r\n```java\r\nList&lt;String&gt; fieldsToRemove = List.of(&quot;root&quot;, &quot;child&quot;);\r\n```\r\n\r\nThen the following happens:\r\n\r\n* `String line = iterator.next();` – You retrieve the only line from the iterator, which contains both &quot;root&quot; and &quot;child&quot;;\r\n* `for (String field : fieldsToRemove) {` – You iterate over *all* elements-to-remove...\r\n* ...and `if (line.contains(field)) {` if it is present in the line...\r\n* ...`iterator.remove();` it.\r\n\r\nSo &quot;root&quot; is found, the line is removed, **and then &quot;child&quot; is found, which causes the *same* line to be removed *again***. Of course, the `iterator` doesn&#39;t like this, and throws an exception.\r\n\r\nIn order to &#39;fix&#39; this, add a `break` below the call to `remove()`:\r\n\r\n```java\r\niterator.remove();\r\nbreak;\r\n```\r\n\r\n---\r\n\r\nHowever, I&#39;m not really sure why you would remove *the whole line* within an XML document. Why don&#39;t you grab an XML parser?","title":"Iterator remove","body":"<p>Let's take a look what is really happening here.</p>\n<p>Suppose you have the following text:</p>\n<pre><code>&lt;root&gt;&lt;child&gt;&lt;/child&gt;&lt;/root&gt;\n</code></pre>\n<p>Splitting by <code>\\n</code> (which is not present in the string) will cause your list to have a single element.</p>\n<p>And <code>fieldsToRemove</code> looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; fieldsToRemove = List.of(&quot;root&quot;, &quot;child&quot;);\n</code></pre>\n<p>Then the following happens:</p>\n<ul>\n<li><code>String line = iterator.next();</code> – You retrieve the only line from the iterator, which contains both &quot;root&quot; and &quot;child&quot;;</li>\n<li><code>for (String field : fieldsToRemove) {</code> – You iterate over <em>all</em> elements-to-remove...</li>\n<li>...and <code>if (line.contains(field)) {</code> if it is present in the line...</li>\n<li>...<code>iterator.remove();</code> it.</li>\n</ul>\n<p>So &quot;root&quot; is found, the line is removed, <strong>and then &quot;child&quot; is found, which causes the <em>same</em> line to be removed <em>again</em></strong>. Of course, the <code>iterator</code> doesn't like this, and throws an exception.</p>\n<p>In order to 'fix' this, add a <code>break</code> below the call to <code>remove()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>iterator.remove();\nbreak;\n</code></pre>\n<hr />\n<p>However, I'm not really sure why you would remove <em>the whole line</em> within an XML document. Why don't you grab an XML parser?</p>\n"}],"owner":{"account_id":22836239,"reputation":59,"user_id":16983968,"display_name":"average.joe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634824870,"creation_date":1634798877,"question_id":69657131,"body_markdown":"Im removing some fields from an XML String based on the list of fieldsToRemove. \r\n\r\n       List&lt;String&gt; fieldsToRemove = //list of fields to be remove.\r\n        \r\n        String eventString = //XML String.\r\n        \r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(eventString.split(&quot;\\n&quot;)));\r\n        Iterator&lt;String&gt; iterator = list.iterator();\r\n        \r\n         while (iterator.hasNext()) {\r\n                    String line = iterator.next();\r\n                    for (String field : fieldsToRemove) {\r\n                        if (line.contains(field)) {\r\n                            iterator.remove();\r\n                        }\r\n                    }\r\n                }\r\n\r\n\r\nBut im receiving this error, wherenever the XML String is oneliner (unformatted):\r\n\r\n    20211015;07:16:01: java.lang.IllegalStateException\r\n    20211015;07:16:01:      at java.util.ArrayList$Itr.remove(ArrayList.java:874)","title":"Iterator remove","body":"<p>Im removing some fields from an XML String based on the list of fieldsToRemove.</p>\n<pre><code>   List&lt;String&gt; fieldsToRemove = //list of fields to be remove.\n    \n    String eventString = //XML String.\n    \n    List&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(eventString.split(&quot;\\n&quot;)));\n    Iterator&lt;String&gt; iterator = list.iterator();\n    \n     while (iterator.hasNext()) {\n                String line = iterator.next();\n                for (String field : fieldsToRemove) {\n                    if (line.contains(field)) {\n                        iterator.remove();\n                    }\n                }\n            }\n</code></pre>\n<p>But im receiving this error, wherenever the XML String is oneliner (unformatted):</p>\n<pre><code>20211015;07:16:01: java.lang.IllegalStateException\n20211015;07:16:01:      at java.util.ArrayList$Itr.remove(ArrayList.java:874)\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","graph-databases","amazon-neptune"],"comments":[{"owner":{"account_id":6157899,"reputation":19801,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":1,"creation_date":1634816347,"post_id":69661094,"comment_id":123130914,"body_markdown":"Call the database less? What answer are you looking for?","body":"Call the database less? What answer are you looking for?"},{"owner":{"account_id":14942764,"reputation":15,"user_id":10788912,"display_name":"rollercoaster"},"score":1,"creation_date":1634817186,"post_id":69661094,"comment_id":123131306,"body_markdown":"Since we could have thousands of users, i would like some kind of throttling/queue. I am more thinking in that road.","body":"Since we could have thousands of users, i would like some kind of throttling/queue. I am more thinking in that road."}],"answers":[{"tags":[],"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634824838,"creation_date":1634824838,"answer_id":69663375,"question_id":69661094,"body_markdown":"Amazon Neptune gives you some help here. Queries are handled by worker threads. The number of worker threads on an instance is typically twice the number of vCPU on that instance. If all the workers are busy, requests will get placed in a queue. The queue can hold up to 8K requests. If the queue fills up, Neptune will send a throttling exception back to the caller. There are several CloudWatch metrics you can monitor including how backed up the queue is and how busy the CPUs are. This may help in monitoring load on the instance. \r\n\r\nAs to client side throttling it sounds like you may want to put a queue or stream in front of Neptune that all requests go via. You could have multiple queues if you want to separate requests from different classes of users and decide which to prioritize. Your app can then pull from the queues and throttle as deemed appropriate.\r\n\r\nWithout knowing more about your precise use case it&#39;s hard to give better guidance.","title":"Limit number of requests(read, update, delete) if it exceeds the capacity of AWS Neptune Server?","body":"<p>Amazon Neptune gives you some help here. Queries are handled by worker threads. The number of worker threads on an instance is typically twice the number of vCPU on that instance. If all the workers are busy, requests will get placed in a queue. The queue can hold up to 8K requests. If the queue fills up, Neptune will send a throttling exception back to the caller. There are several CloudWatch metrics you can monitor including how backed up the queue is and how busy the CPUs are. This may help in monitoring load on the instance.</p>\n<p>As to client side throttling it sounds like you may want to put a queue or stream in front of Neptune that all requests go via. You could have multiple queues if you want to separate requests from different classes of users and decide which to prioritize. Your app can then pull from the queues and throttle as deemed appropriate.</p>\n<p>Without knowing more about your precise use case it's hard to give better guidance.</p>\n"}],"owner":{"account_id":14942764,"reputation":15,"user_id":10788912,"display_name":"rollercoaster"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69663375,"answer_count":1,"score":0,"last_activity_date":1634824838,"creation_date":1634815406,"question_id":69661094,"body_markdown":"I&#39;m trying to implement some limits on the database requests made to the Neptune Server. The problem is:\r\n\r\n - Multiple scheduled jobs that do analytics, logs, updates, deletions\r\n - User activity, anything related to users: read, write, update, delete\r\n\r\nAll of these request depending on when they occur can impact the performance of the database and the availability, so we get sudden spikes in traffic which can happen at any given time. Scaling is not an option here, so i want to limit the request/jobs made to the database server.\r\nSo my question is what would be the preferred way to implement this in Spring Boot and Java, since i have not found a suitable solution so far?","title":"Limit number of requests(read, update, delete) if it exceeds the capacity of AWS Neptune Server?","body":"<p>I'm trying to implement some limits on the database requests made to the Neptune Server. The problem is:</p>\n<ul>\n<li>Multiple scheduled jobs that do analytics, logs, updates, deletions</li>\n<li>User activity, anything related to users: read, write, update, delete</li>\n</ul>\n<p>All of these request depending on when they occur can impact the performance of the database and the availability, so we get sudden spikes in traffic which can happen at any given time. Scaling is not an option here, so i want to limit the request/jobs made to the database server.\nSo my question is what would be the preferred way to implement this in Spring Boot and Java, since i have not found a suitable solution so far?</p>\n"},{"tags":["java","spring","aop","aspectj","spring-aop"],"comments":[{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":0,"creation_date":1634880913,"post_id":69663351,"comment_id":123150105,"body_markdown":"Spring AOP can only advise a spring container managed bean. From the code snippets shared all the instances are created with `new` keyword and they are not Spring beans. AspectJ could be the right appraoch.","body":"Spring AOP can only advise a spring container managed bean. From the code snippets shared all the instances are created with <code>new</code> keyword and they are not Spring beans. AspectJ could be the right appraoch."},{"owner":{"account_id":21673441,"reputation":49,"user_id":15990762,"display_name":"George"},"score":0,"creation_date":1634887260,"post_id":69663351,"comment_id":123151810,"body_markdown":"I use AspectJ as I said ;) but I don&#39;t know how to get arguments&#39; value from the caller method.","body":"I use AspectJ as I said ;) but I don&#39;t know how to get arguments&#39; value from the caller method."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1634899154,"post_id":69663351,"comment_id":123156643,"body_markdown":"Before I answer your question, I would like to know whether it makes a difference if the callee is called directly or indirectly, i.e. `caller → callee` vs. `caller →  0..n intermediate methods → callee`.","body":"Before I answer your question, I would like to know whether it makes a difference if the callee is called directly or indirectly, i.e. <code>caller → callee</code> vs. <code>caller →  0..n intermediate methods → callee</code>."},{"owner":{"account_id":21673441,"reputation":49,"user_id":15990762,"display_name":"George"},"score":0,"creation_date":1634906223,"post_id":69663351,"comment_id":123159460,"body_markdown":"In my app always caller(argumentWhichLookingFor) -&gt; callee. I mean all intermediate methods must have (argumentWhichLookingFor) in signature anyway so it doesn&#39;t matter ;) I&#39;m looking for only one level up method&#39;s argument.","body":"In my app always caller(argumentWhichLookingFor) -&gt; callee. I mean all intermediate methods must have (argumentWhichLookingFor) in signature anyway so it doesn&#39;t matter ;) I&#39;m looking for only one level up method&#39;s argument."}],"owner":{"account_id":21673441,"reputation":49,"user_id":15990762,"display_name":"George"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634824692,"creation_date":1634824692,"question_id":69663351,"body_markdown":"Let&#39;s assume that method getSth() from Class Ent can be invoked in class A, class B, class C, class D etc. There are many of them.\r\n\r\nNow I need to intercept method getSth() and BEFORE its execution I&#39;d like to use arguments of the method that invoked getSth() and do something with them - I mean do something with values 666 oder 999 (examples below).\r\n\r\nI use Spring AOP and AspectJ and I tried with @Around and @Before, with execution and call, but I don&#39;t know how can I get these arguments. I would be grateful for help.\r\n\r\n**Ent**\r\n\r\n    public class Ent {\r\n    \r\n        public void getSth() {\r\n    \r\n            logger.info(&quot;Inside Ent.getSth&quot;);\r\n        }\r\n    }\r\n\r\n**A**\r\n\r\n     public class A {\r\n    \r\n        public void shouldDoSthAndCallMethodGetSth(Integer a) {\r\n            // ...\r\n            Ent ent = new Ent();\r\n        \r\n            ent.getSth();\r\n        }\r\n    }\r\n\r\n**B**\r\n\r\n     public class B {\r\n    \r\n        void shouldDoSthAndCallMethodGetSth(Integer b) {\r\n            // ...\r\n            Ent ent = new Ent();\r\n            \r\n            ent.getSth();\r\n        }\r\n    }\r\n\r\n**App**\r\n\r\n    // ...\r\n            A a = new A();\r\n            a.shouldDoSthAndCallMethodGetSth(666);\r\n    \r\n            B b = new B();\r\n            b.shouldDoSthAndCallMethodGetSth(999);\r\n\r\n    // ...\r\n\r\n**AOP**\r\n\r\n    public class GettingSthAdvisor {\r\n\r\n    @Around(&quot;execution(* com.example.demo.aspects.Ent.getSth())&quot;)\r\n    public Object around(ProceedingJoinPoint pjp) throws Throwable {\r\n        pjp. ?????????????\r\n\r\n        // do something with value 666/999/....\r\n\r\n        return pjp.proceed();\r\n    }\r\n\r\n    @Before(&quot;call(* com.example.demo.aspects.Ent.getSth())&quot;)\r\n    public void before(JoinPoint jp) throws Throwable {\r\n       \r\n      // do something with value 666/999/....\r\n    }","title":"How to get arguments from the Caller of the intercepted method in AspectJ / Spring AOP","body":"<p>Let's assume that method getSth() from Class Ent can be invoked in class A, class B, class C, class D etc. There are many of them.</p>\n<p>Now I need to intercept method getSth() and BEFORE its execution I'd like to use arguments of the method that invoked getSth() and do something with them - I mean do something with values 666 oder 999 (examples below).</p>\n<p>I use Spring AOP and AspectJ and I tried with @Around and @Before, with execution and call, but I don't know how can I get these arguments. I would be grateful for help.</p>\n<p><strong>Ent</strong></p>\n<pre><code>public class Ent {\n\n    public void getSth() {\n\n        logger.info(&quot;Inside Ent.getSth&quot;);\n    }\n}\n</code></pre>\n<p><strong>A</strong></p>\n<pre><code> public class A {\n\n    public void shouldDoSthAndCallMethodGetSth(Integer a) {\n        // ...\n        Ent ent = new Ent();\n    \n        ent.getSth();\n    }\n}\n</code></pre>\n<p><strong>B</strong></p>\n<pre><code> public class B {\n\n    void shouldDoSthAndCallMethodGetSth(Integer b) {\n        // ...\n        Ent ent = new Ent();\n        \n        ent.getSth();\n    }\n}\n</code></pre>\n<p><strong>App</strong></p>\n<pre><code>// ...\n        A a = new A();\n        a.shouldDoSthAndCallMethodGetSth(666);\n\n        B b = new B();\n        b.shouldDoSthAndCallMethodGetSth(999);\n\n// ...\n</code></pre>\n<p><strong>AOP</strong></p>\n<pre><code>public class GettingSthAdvisor {\n\n@Around(&quot;execution(* com.example.demo.aspects.Ent.getSth())&quot;)\npublic Object around(ProceedingJoinPoint pjp) throws Throwable {\n    pjp. ?????????????\n\n    // do something with value 666/999/....\n\n    return pjp.proceed();\n}\n\n@Before(&quot;call(* com.example.demo.aspects.Ent.getSth())&quot;)\npublic void before(JoinPoint jp) throws Throwable {\n   \n  // do something with value 666/999/....\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","cloud"],"comments":[{"owner":{"account_id":2874038,"reputation":366,"user_id":2466666,"display_name":"hicham abdedaime"},"score":0,"creation_date":1696948586,"post_id":69660922,"comment_id":136216184,"body_markdown":"please any solution for this problem ?","body":"please any solution for this problem ?"},{"owner":{"account_id":18144115,"reputation":11,"user_id":13197621,"display_name":"Arek Cegłowski"},"score":0,"creation_date":1697041573,"post_id":69660922,"comment_id":136230479,"body_markdown":"@hichamabdedaime It&#39;s been a while, I don&#39;t really remember :D\n\nas far as I remember I realized that I&#39;m combining two uncompatible parts - a REST-based library (Cloud Contract) and a MVC element (`ModelAttribute`). \n\nI think I just rewrote the controller to skip using `ModelAttribute` completely","body":"@hichamabdedaime It&#39;s been a while, I don&#39;t really remember :D  as far as I remember I realized that I&#39;m combining two uncompatible parts - a REST-based library (Cloud Contract) and a MVC element (<code>ModelAttribute</code>).   I think I just rewrote the controller to skip using <code>ModelAttribute</code> completely"}],"owner":{"account_id":18144115,"reputation":11,"user_id":13197621,"display_name":"Arek Cegłowski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634824665,"creation_date":1634814797,"question_id":69660922,"body_markdown":"This is the endpoint I&#39;m trying to write a SCC contract for. It consumes form data as a DTO and processes it.\r\n\r\n    PostMapping(value = &quot;/bar/process&quot;, consumes = MULTIPART_FORM_DATA_VALUE)\r\n      public List&lt;Foo&gt; processBar(\r\n          @ModelAttribute(&quot;data&quot;) BarDto barDto) {\r\n        return barService.processBar(barDto);\r\n      }\r\n\r\nI cannot figure out how to write a groovy contract for this endpoint. I know how to write contract tests for controllers that use multipart form data using `@RequestPart` annotation, but here - I&#39;m lost.\r\n\r\nCan you even use CC with Spring MVC elements?\r\n\r\nI&#39;m using SCC version 2.2.7.\r\n","title":"How to write a Spring Cloud Contract contract for endpoint that uses @ModelAttribute parameter?","body":"<p>This is the endpoint I'm trying to write a SCC contract for. It consumes form data as a DTO and processes it.</p>\n<pre><code>PostMapping(value = &quot;/bar/process&quot;, consumes = MULTIPART_FORM_DATA_VALUE)\n  public List&lt;Foo&gt; processBar(\n      @ModelAttribute(&quot;data&quot;) BarDto barDto) {\n    return barService.processBar(barDto);\n  }\n</code></pre>\n<p>I cannot figure out how to write a groovy contract for this endpoint. I know how to write contract tests for controllers that use multipart form data using <code>@RequestPart</code> annotation, but here - I'm lost.</p>\n<p>Can you even use CC with Spring MVC elements?</p>\n<p>I'm using SCC version 2.2.7.</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1634635110,"post_id":69628124,"comment_id":123071552,"body_markdown":"Sounds like `con.ConectarBasedeDatos()` returns `false`. Please provide a [mre].","body":"Sounds like <code>con.ConectarBasedeDatos()</code> returns <code>false</code>. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":17033602,"reputation":25,"user_id":12323172,"display_name":"Elvis"},"score":0,"creation_date":1634637120,"post_id":69628124,"comment_id":123072502,"body_markdown":"Hi Mark, can you please tell me what info would you need? I have edited a bit the main message.","body":"Hi Mark, can you please tell me what info would you need? I have edited a bit the main message."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1634640956,"post_id":69628124,"comment_id":123073981,"body_markdown":"You need to provide a [mre], that is, the minimal code (without any unnecessary stuff) to reproduce the problem. As I said, it sounds like `con.ConectarBasedeDatos()` is returning `false`, so at least provide the code from `SQLConexion` as well.","body":"You need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, that is, the minimal code (without any unnecessary stuff) to reproduce the problem. As I said, it sounds like <code>con.ConectarBasedeDatos()</code> is returning <code>false</code>, so at least provide the code from <code>SQLConexion</code> as well."},{"owner":{"account_id":12368395,"reputation":428,"user_id":9019559,"display_name":"LordBertson"},"score":1,"creation_date":1634641173,"post_id":69628124,"comment_id":123074049,"body_markdown":"Basically Java can&#39;t access the database, this might be many things, connection string or credentials would be the first place I&#39;d look. If you are absolutely positive this is correct test whether you can connect to database from some client like DBeaver. There might also be a networking issue involved.","body":"Basically Java can&#39;t access the database, this might be many things, connection string or credentials would be the first place I&#39;d look. If you are absolutely positive this is correct test whether you can connect to database from some client like DBeaver. There might also be a networking issue involved."}],"answers":[{"tags":[],"owner":{"account_id":17033602,"reputation":25,"user_id":12323172,"display_name":"Elvis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634824609,"creation_date":1634824609,"answer_id":69663325,"question_id":69628124,"body_markdown":"I managed to solve the problem by adding the MySQL Connector to the libraries so indeed there was no connection with the database because of this.\r\n\r\nNovice error.\r\n\r\nThanks a lot for your time.","title":"Unable to retrieve data from database through JDBC query","body":"<p>I managed to solve the problem by adding the MySQL Connector to the libraries so indeed there was no connection with the database because of this.</p>\n<p>Novice error.</p>\n<p>Thanks a lot for your time.</p>\n"}],"owner":{"account_id":17033602,"reputation":25,"user_id":12323172,"display_name":"Elvis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69663325,"answer_count":1,"score":0,"last_activity_date":1634824609,"creation_date":1634634907,"question_id":69628124,"body_markdown":"I trying to make a connection to my DDBB in order to print all the columns from a table but I keep getting Null.\r\n\r\nI have checked the connection parameters and everything seems correct.\r\n\r\nI&#39;m thinking that maybe there is something wrong with my query statement:\r\n\r\n   ```java\r\n   public List&lt;Palabra&gt; getTodos() throws SQLException {\r\n    \tSQLConexion con = new SQLConexion();\r\n       \tlistaPalabras = new ListaPalabras();\r\n    \t\r\n    \tif(con.ConectarBasedeDatos()) {\r\n    \t\ttry{\r\n\t    \t\tStatement stmt = con.getConnection().createStatement();  \r\n\t    \t\tResultSet rs=stmt.executeQuery(&quot;SELECT * FROM PALABRA&quot;); \r\n\t    \t\twhile(rs.next()) {\r\n\t    \t\t\tPalabra pal = new Palabra(rs.getInt(&quot;idPalabra&quot;), rs.getString(&quot;palabra&quot;), rs.getInt(&quot;dificultad&quot;)); //These are the columns that I need to print.\r\n\t    \t\t\tlistaPalabras.addPalabra(pal); //adding the results to the list\r\n\t    \t\t}\r\n    \t\t}\r\n    \t\tcatch(Exception e)\r\n    \t\t{ \r\n    \t\t\tSystem.out.println(e);\r\n    \t\t}  \r\n    \t}\r\n    \telse {\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \tcon.DesconectarBasedeDatos();\r\n\r\n        return listaPalabras.getListaPalabras();\r\n    }\r\n```\r\n\r\n\r\n\r\n","title":"Unable to retrieve data from database through JDBC query","body":"<p>I trying to make a connection to my DDBB in order to print all the columns from a table but I keep getting Null.</p>\n<p>I have checked the connection parameters and everything seems correct.</p>\n<p>I'm thinking that maybe there is something wrong with my query statement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Palabra&gt; getTodos() throws SQLException {\n     SQLConexion con = new SQLConexion();\n     listaPalabras = new ListaPalabras();\n     \n     if(con.ConectarBasedeDatos()) {\n         try{\n             Statement stmt = con.getConnection().createStatement();  \n             ResultSet rs=stmt.executeQuery(&quot;SELECT * FROM PALABRA&quot;); \n             while(rs.next()) {\n                 Palabra pal = new Palabra(rs.getInt(&quot;idPalabra&quot;), rs.getString(&quot;palabra&quot;), rs.getInt(&quot;dificultad&quot;)); //These are the columns that I need to print.\n                 listaPalabras.addPalabra(pal); //adding the results to the list\n             }\n         }\n         catch(Exception e)\n         { \n             System.out.println(e);\n         }  \n     }\n     else {\n         return null;\n     }\n     \n     con.DesconectarBasedeDatos();\n\n     return listaPalabras.getListaPalabras();\n }\n</code></pre>\n"},{"tags":["java","windows","maven","environment-variables","maven-3"],"comments":[{"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"score":0,"creation_date":1634817693,"post_id":69660941,"comment_id":123131541,"body_markdown":"duplicate of https://stackoverflow.com/questions/33133809/maven-error-could-not-find-or-load-main-class-org-codehaus-plexus-classworlds/33190546#33190546 ?","body":"duplicate of <a href=\"https://stackoverflow.com/questions/33133809/maven-error-could-not-find-or-load-main-class-org-codehaus-plexus-classworlds/33190546#33190546\" title=\"maven error could not find or load main class org codehaus plexus classworlds\">stackoverflow.com/questions/33133809/&hellip;</a> ?"},{"owner":{"account_id":14689500,"reputation":167,"user_id":10608554,"display_name":"marcz2007"},"score":0,"creation_date":1634820496,"post_id":69660941,"comment_id":123132876,"body_markdown":"Hi Robert, I mentioned this question in the post - whilst it is similar, I was hoping for an answer which doesn&#39;t involve changing the system environment variables since I do not have access to them","body":"Hi Robert, I mentioned this question in the post - whilst it is similar, I was hoping for an answer which doesn&#39;t involve changing the system environment variables since I do not have access to them"},{"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"score":0,"creation_date":1634822522,"post_id":69660941,"comment_id":123133821,"body_markdown":"There&#39;s no such thing as `M3_HOME`.  Just like the `.m2` folder representing your local repository is also used by Maven 3. Just wondering, who or what set the M2_HOME?","body":"There&#39;s no such thing as <code>M3_HOME</code>.  Just like the <code>.m2</code> folder representing your local repository is also used by Maven 3. Just wondering, who or what set the M2_HOME?"},{"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"score":0,"creation_date":1634822958,"post_id":69660941,"comment_id":123134037,"body_markdown":"Answering my own question: chocolatey did that, it is something that should be removed. I followed the same steps you did, and it works for me, which makes we wonder: do you have another Maven on your path?","body":"Answering my own question: chocolatey did that, it is something that should be removed. I followed the same steps you did, and it works for me, which makes we wonder: do you have another Maven on your path?"},{"owner":{"account_id":14689500,"reputation":167,"user_id":10608554,"display_name":"marcz2007"},"score":0,"creation_date":1634823221,"post_id":69660941,"comment_id":123134171,"body_markdown":"So I just uninstalled chocolatey by running command prompt as admin, then reinstalled it. All seems to be working now and I didnt have to touch the system environment variables. So I think thats the answer - thank you for your help Robert :)","body":"So I just uninstalled chocolatey by running command prompt as admin, then reinstalled it. All seems to be working now and I didnt have to touch the system environment variables. So I think thats the answer - thank you for your help Robert :)"}],"answers":[{"tags":[],"owner":{"account_id":14689500,"reputation":167,"user_id":10608554,"display_name":"marcz2007"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634824463,"creation_date":1634824463,"answer_id":69663282,"question_id":69660941,"body_markdown":"Solution: I just uninstalled chocolatey by running command prompt as an administrator, then reinstalled it. For some reason this worked - no idea as to why but that was the solution to the error without having to change system variables. ","title":"Maven error: Could not find or load main class And Unable to Edit System Variables","body":"<p>Solution: I just uninstalled chocolatey by running command prompt as an administrator, then reinstalled it. For some reason this worked - no idea as to why but that was the solution to the error without having to change system variables.</p>\n"}],"owner":{"account_id":14689500,"reputation":167,"user_id":10608554,"display_name":"marcz2007"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1236,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69663282,"answer_count":1,"score":1,"last_activity_date":1634824463,"creation_date":1634814860,"question_id":69660941,"body_markdown":"[![Maven Installed, unable to edit system variables][1]][1]\r\nI have Maven installed, and it was working fine yesterday, however now it is displaying the infamous (https://stackoverflow.com/questions/11118237/maven-error-could-not-find-or-load-main-class-org-codehaus-plexus-classworlds-l/15236910) \r\n\r\n    Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher\r\n\r\nerror...\r\n\r\nIn other solutions, it seems that the system variable needs to be edited from M2_HOME to M3_HOME. Yet, I am unable to edit my system environment variables (also pictured).\r\n\r\nAny suggestions for how I can get past this and be able to perform a clean maven installation?\r\n\r\n  [1]: https://i.stack.imgur.com/B3JZX.png","title":"Maven error: Could not find or load main class And Unable to Edit System Variables","body":"<p><a href=\"https://i.stack.imgur.com/B3JZX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B3JZX.png\" alt=\"Maven Installed, unable to edit system variables\" /></a>\nI have Maven installed, and it was working fine yesterday, however now it is displaying the infamous (<a href=\"https://stackoverflow.com/questions/11118237/maven-error-could-not-find-or-load-main-class-org-codehaus-plexus-classworlds-l/15236910\">Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher</a>)</p>\n<pre><code>Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher\n</code></pre>\n<p>error...</p>\n<p>In other solutions, it seems that the system variable needs to be edited from M2_HOME to M3_HOME. Yet, I am unable to edit my system environment variables (also pictured).</p>\n<p>Any suggestions for how I can get past this and be able to perform a clean maven installation?</p>\n"},{"tags":["java","cucumber"],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634824430,"creation_date":1621240940,"answer_id":67566482,"question_id":67565195,"body_markdown":"You&#39;ll have to upgrade Cucumber to make it work with the version of Java you are using. It is recommended that you do this one major version at a time. You can find the release notes here:\r\n\r\nhttps://github.com/cucumber/cucumber-jvm/tree/main/release-notes","title":"Illegal reflective class exception when running Cucumber","body":"<p>You'll have to upgrade Cucumber to make it work with the version of Java you are using. It is recommended that you do this one major version at a time. You can find the release notes here:</p>\n<p><a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/release-notes\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-jvm/tree/main/release-notes</a></p>\n"}],"owner":{"account_id":21585227,"reputation":1,"user_id":15915793,"display_name":"Logesh Waran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1936,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634824430,"creation_date":1621234494,"question_id":67565195,"body_markdown":"Whenever I run my project I&#39;m getting a message like this: \r\n\r\n```\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by cucumber.deps.com.thoughtworks.xstream.core.util.Fields (file:/C:/Users/admin/.m2/repository/info/cukes/cucumber-jvm-deps/1.0.5/cucumber-jvm-deps-1.0.5.jar) to field java.util.TreeMap.comparator\r\nWARNING: Please consider reporting this to the maintainers of cucumber.deps.com.thoughtworks.xstream.core.util.Fields\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n```\r\n\r\nWhat do I need to do? ","title":"Illegal reflective class exception when running Cucumber","body":"<p>Whenever I run my project I'm getting a message like this:</p>\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by cucumber.deps.com.thoughtworks.xstream.core.util.Fields (file:/C:/Users/admin/.m2/repository/info/cukes/cucumber-jvm-deps/1.0.5/cucumber-jvm-deps-1.0.5.jar) to field java.util.TreeMap.comparator\nWARNING: Please consider reporting this to the maintainers of cucumber.deps.com.thoughtworks.xstream.core.util.Fields\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n</code></pre>\n<p>What do I need to do?</p>\n"},{"tags":["java","stream","nested-lists"],"comments":[{"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"score":0,"creation_date":1634820756,"post_id":69662255,"comment_id":123132995,"body_markdown":"Does this answer your question? [Best way to get value from Collection by index](https://stackoverflow.com/questions/1047957/best-way-to-get-value-from-collection-by-index)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1047957/best-way-to-get-value-from-collection-by-index\">Best way to get value from Collection by index</a>"},{"owner":{"account_id":5565908,"reputation":183,"user_id":4413237,"accept_rate":0,"display_name":"vviston"},"score":0,"creation_date":1634821076,"post_id":69662255,"comment_id":123133146,"body_markdown":"Hmm not really - I would like to know how to get first unitLine of the first unit in most efficient way because that is what I need to do with these two collections.","body":"Hmm not really - I would like to know how to get first unitLine of the first unit in most efficient way because that is what I need to do with these two collections."},{"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"score":0,"creation_date":1634821660,"post_id":69662255,"comment_id":123133449,"body_markdown":"Why dont you think of using a TreeMap instead of list of lists ? And index the map with running numbers ?","body":"Why dont you think of using a TreeMap instead of list of lists ? And index the map with running numbers ?"},{"owner":{"account_id":5565908,"reputation":183,"user_id":4413237,"accept_rate":0,"display_name":"vviston"},"score":0,"creation_date":1634822434,"post_id":69662255,"comment_id":123133776,"body_markdown":"I am not able to change the &quot;input collections&quot; they are defined as Collections so I need to work with that.","body":"I am not able to change the &quot;input collections&quot; they are defined as Collections so I need to work with that."}],"answers":[{"tags":[],"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1634824240,"creation_date":1634821054,"answer_id":69662425,"question_id":69662255,"body_markdown":"Turning Optionals into nulls means you can&#39;t take advantage of the nice features of Optional. Here&#39;s an equivalent of your code that uses Optional `map` and `orElse` usefully:\r\n```\r\nUnitLine unitLine = wrapper.getUnits().stream()\r\n  .findFirst()\r\n  .map(Unit::getLines)\r\n  .orElse(Collections.emptySet()).stream()\r\n  .findFirst()\r\n  .orElse(null);\r\n```\r\nThat code gets the first element of the first collection, or `null` if the first collection is empty. To get the first element of the first non-empty collection, you can use `flatMap`:\r\n\r\n```\r\nwrapper.getUnits().stream()\r\n  .map(Unit::getUnitLines)\r\n  .flatMap(Collection::stream)\r\n  .findFirst()\r\n```","title":"How to get first element of a collection inside another collection also from the first element?","body":"<p>Turning Optionals into nulls means you can't take advantage of the nice features of Optional. Here's an equivalent of your code that uses Optional <code>map</code> and <code>orElse</code> usefully:</p>\n<pre><code>UnitLine unitLine = wrapper.getUnits().stream()\n  .findFirst()\n  .map(Unit::getLines)\n  .orElse(Collections.emptySet()).stream()\n  .findFirst()\n  .orElse(null);\n</code></pre>\n<p>That code gets the first element of the first collection, or <code>null</code> if the first collection is empty. To get the first element of the first non-empty collection, you can use <code>flatMap</code>:</p>\n<pre><code>wrapper.getUnits().stream()\n  .map(Unit::getUnitLines)\n  .flatMap(Collection::stream)\n  .findFirst()\n</code></pre>\n"}],"owner":{"account_id":5565908,"reputation":183,"user_id":4413237,"accept_rate":0,"display_name":"vviston"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634824240,"creation_date":1634820399,"question_id":69662255,"body_markdown":"I would like to find the most efficent way how to find 1st element of collection which is inside another collection where I take also the 1st entry. I think this is &quot;ugly&quot; solution.\r\n\r\n    public class UnitLine {}\r\n\r\n\r\n    public class Unit {\r\n\r\n    private Collection&lt;UnitLine&gt; unitLines;\r\n\r\n    public Collection&lt;UnitLine&gt; getUnitLines() {\r\n        return unitLines;\r\n    }\r\n}\r\n\r\n    public class Wrapper {\r\n\r\n    Collection&lt;Unit&gt; units;\r\n\r\n    public Collection&lt;Unit&gt; getUnits() {\r\n        return units;\r\n    }\r\n}\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Wrapper wrapper = new Wrapper();\r\n\r\n        Unit unit = wrapper.getUnits().stream().findFirst().orElseGet(null);\r\n        if (unit != null) {\r\n            UnitLine unitLine = unit.getUnitLines().stream().findFirst().orElseGet(null);\r\n            if (unitLine != null) {\r\n                // do something\r\n            }\r\n        }\r\n    }","title":"How to get first element of a collection inside another collection also from the first element?","body":"<p>I would like to find the most efficent way how to find 1st element of collection which is inside another collection where I take also the 1st entry. I think this is &quot;ugly&quot; solution.</p>\n<pre><code>public class UnitLine {}\n\n\npublic class Unit {\n\nprivate Collection&lt;UnitLine&gt; unitLines;\n\npublic Collection&lt;UnitLine&gt; getUnitLines() {\n    return unitLines;\n}\n</code></pre>\n<p>}</p>\n<pre><code>public class Wrapper {\n\nCollection&lt;Unit&gt; units;\n\npublic Collection&lt;Unit&gt; getUnits() {\n    return units;\n}\n</code></pre>\n<p>}</p>\n<pre><code>public static void main(String[] args) {\n\n    Wrapper wrapper = new Wrapper();\n\n    Unit unit = wrapper.getUnits().stream().findFirst().orElseGet(null);\n    if (unit != null) {\n        UnitLine unitLine = unit.getUnitLines().stream().findFirst().orElseGet(null);\n        if (unitLine != null) {\n            // do something\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","maven-3","maven-plugin","aether"],"comments":[{"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"score":0,"creation_date":1633528393,"post_id":69452056,"comment_id":122783784,"body_markdown":"Perhaps the [source code for the help plugin](https://github.com/apache/maven-help-plugin) has clues that point in the right direction.","body":"Perhaps the <a href=\"https://github.com/apache/maven-help-plugin\" rel=\"nofollow noreferrer\">source code for the help plugin</a> has clues that point in the right direction."},{"owner":{"account_id":20671563,"reputation":59,"user_id":15485019,"display_name":"oliaaa_s"},"score":0,"creation_date":1633532242,"post_id":69452056,"comment_id":122785576,"body_markdown":"Yes, I&#39;ve already tried watching the plugin code\nBut If I use logic from a maven-helper-plugin and build an effective model using Project Builder, it also doesn&#39;t help","body":"Yes, I&#39;ve already tried watching the plugin code But If I use logic from a maven-helper-plugin and build an effective model using Project Builder, it also doesn&#39;t help"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1633610033,"post_id":69452056,"comment_id":122809008,"body_markdown":"It looks like you are &quot;only&quot; the resolver part which is responsible for dependencies ... but not the part which is used to startup plugins which become part of the effective model... The question which comes into my mind is: Why do you like to do that? What kind of problem are you trying to solve?","body":"It looks like you are &quot;only&quot; the resolver part which is responsible for dependencies ... but not the part which is used to startup plugins which become part of the effective model... The question which comes into my mind is: Why do you like to do that? What kind of problem are you trying to solve?"}],"answers":[{"tags":[],"owner":{"account_id":20671563,"reputation":59,"user_id":15485019,"display_name":"oliaaa_s"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634824167,"creation_date":1634824167,"answer_id":69663210,"question_id":69452056,"body_markdown":"The goal was to build an effective model and download to the folder all the dependencies, plugins (including all default plugins) and their transitives (by GAV) used for assembly, so that then to assemble the project in offline mode, roughly speaking (here is a piece of the entire implementation).\r\n\r\nWhen building an effective model using ModelBuilder, it was not possible to get the default plugins of the project (such as maven-install-plugin, maven-clean-plugin, and so on). The solution is to change the construction of the model using ProjectBuilder with the following settings:\r\n\r\n     ProjectBuildingRequest projectBuildingRequest = new DefaultProjectBuildingRequest(\r\n                mavenSession.getProjectBuildingRequest());\r\n        projectBuildingRequest.setLocalRepository(mavenSession.getLocalRepository());\r\n        projectBuildingRequest.setProject(null);\r\n        projectBuildingRequest.setValidationLevel(ModelBuildingRequest.VALIDATION_LEVEL_MINIMAL);\r\n        projectBuildingRequest.setResolveDependencies(false);\r\n        projectBuildingRequest.setUserProperties(initAndGetProperties(rootProjectPom, mavenProject));\r\n      Model modelEffectiveModel = projectBuilder.build(pomModel.getModel().getPomFile(), request)\r\n                    .getProject().getModel(); \r\n      List&lt;Plugin&gt; plugins = model.getBuild().getPlugins();\r\n\r\n\r\nAfter that, it was possible to get all the plugins of the project, including the default ones","title":"How can I get all plugins from java code including default plugins? Maven","body":"<p>The goal was to build an effective model and download to the folder all the dependencies, plugins (including all default plugins) and their transitives (by GAV) used for assembly, so that then to assemble the project in offline mode, roughly speaking (here is a piece of the entire implementation).</p>\n<p>When building an effective model using ModelBuilder, it was not possible to get the default plugins of the project (such as maven-install-plugin, maven-clean-plugin, and so on). The solution is to change the construction of the model using ProjectBuilder with the following settings:</p>\n<pre><code> ProjectBuildingRequest projectBuildingRequest = new DefaultProjectBuildingRequest(\n            mavenSession.getProjectBuildingRequest());\n    projectBuildingRequest.setLocalRepository(mavenSession.getLocalRepository());\n    projectBuildingRequest.setProject(null);\n    projectBuildingRequest.setValidationLevel(ModelBuildingRequest.VALIDATION_LEVEL_MINIMAL);\n    projectBuildingRequest.setResolveDependencies(false);\n    projectBuildingRequest.setUserProperties(initAndGetProperties(rootProjectPom, mavenProject));\n  Model modelEffectiveModel = projectBuilder.build(pomModel.getModel().getPomFile(), request)\n                .getProject().getModel(); \n  List&lt;Plugin&gt; plugins = model.getBuild().getPlugins();\n</code></pre>\n<p>After that, it was possible to get all the plugins of the project, including the default ones</p>\n"}],"owner":{"account_id":20671563,"reputation":59,"user_id":15485019,"display_name":"oliaaa_s"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634824167,"creation_date":1633443177,"question_id":69452056,"body_markdown":"When I build an effective model using help:effective-pom I get such plugins\r\n```\r\n&lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.15&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;configLocation&gt;checkstyle.xml&lt;/configLocation&gt;\r\n            &lt;includeTests&gt;true&lt;/includeTests&gt;\r\n            &lt;linkXRef&gt;false&lt;/linkXRef&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.6&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;some-group-id&lt;/groupId&gt;\r\n          &lt;artifactId&gt;build-express&lt;/artifactId&gt;\r\n          &lt;version&gt;2.2.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.6.1&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;source&gt;1.8&lt;/source&gt;\r\n            &lt;target&gt;1.8&lt;/target&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;1.8&lt;/version&gt;\r\n          &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;org.apache.ant&lt;/groupId&gt;\r\n              &lt;artifactId&gt;ant&lt;/artifactId&gt;\r\n              &lt;version&gt;1.7.1&lt;/version&gt;\r\n              &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;jdom&lt;/groupId&gt;\r\n              &lt;artifactId&gt;jdom&lt;/artifactId&gt;\r\n              &lt;version&gt;0.7&lt;/version&gt;\r\n              &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n              &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n              &lt;version&gt;1.1&lt;/version&gt;\r\n              &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;com.sun&lt;/groupId&gt;\r\n              &lt;artifactId&gt;tools&lt;/artifactId&gt;\r\n              &lt;version&gt;1.5.0&lt;/version&gt;\r\n              &lt;scope&gt;system&lt;/scope&gt;\r\n              &lt;systemPath&gt;C:\\Tools\\java\\jdk1.8.0_74\\jre/../lib/tools.jar&lt;/systemPath&gt;\r\n            &lt;/dependency&gt;\r\n          &lt;/dependencies&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;archive&gt;\r\n              &lt;manifestEntries&gt;\r\n                &lt;Built-By&gt;Apache Maven&lt;/Built-By&gt;\r\n              &lt;/manifestEntries&gt;\r\n              &lt;addMavenDescriptor&gt;false&lt;/addMavenDescriptor&gt;\r\n            &lt;/archive&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n          &lt;artifactId&gt;xml-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;1.0.1&lt;/version&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;validate&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n              &lt;configuration&gt;\r\n                &lt;validationSets&gt;\r\n                  &lt;validationSet&gt;\r\n                    &lt;dir&gt;dish_common/install&lt;/dir&gt;\r\n                    &lt;includes&gt;\r\n                      &lt;include&gt;**/*.xml&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                  &lt;/validationSet&gt;\r\n                  &lt;validationSet&gt;\r\n                    &lt;dir&gt;dish_common/settings&lt;/dir&gt;\r\n                    &lt;includes&gt;\r\n                      &lt;include&gt;**/*.xml&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                  &lt;/validationSet&gt;\r\n                &lt;/validationSets&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n          &lt;inherited&gt;false&lt;/inherited&gt;\r\n          &lt;configuration&gt;\r\n            &lt;validationSets&gt;\r\n              &lt;validationSet&gt;\r\n                &lt;dir&gt;dish_common/install&lt;/dir&gt;\r\n                &lt;includes&gt;\r\n                  &lt;include&gt;**/*.xml&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n              &lt;/validationSet&gt;\r\n              &lt;validationSet&gt;\r\n                &lt;dir&gt;dish_common/settings&lt;/dir&gt;\r\n                &lt;includes&gt;\r\n                  &lt;include&gt;**/*.xml&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n              &lt;/validationSet&gt;\r\n            &lt;/validationSets&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;some-group-id&lt;/groupId&gt;\r\n          &lt;artifactId&gt;some-our-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.7.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5&lt;/version&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;default-clean&lt;/id&gt;\r\n              &lt;phase&gt;clean&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;clean&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.4&lt;/version&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;default-install&lt;/id&gt;\r\n              &lt;phase&gt;install&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;install&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.7&lt;/version&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;default-deploy&lt;/id&gt;\r\n              &lt;phase&gt;deploy&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;deploy&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.3&lt;/version&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;default-site&lt;/id&gt;\r\n              &lt;phase&gt;site&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;site&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n              &lt;configuration&gt;\r\n                &lt;outputDirectory&gt;C:\\Workspace\\Projects\\Dish\\target\\site&lt;/outputDirectory&gt;\r\n                &lt;reportPlugins&gt;\r\n                  &lt;reportPlugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n                  &lt;/reportPlugin&gt;\r\n                &lt;/reportPlugins&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;default-deploy&lt;/id&gt;\r\n              &lt;phase&gt;site-deploy&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;deploy&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n              &lt;configuration&gt;\r\n                &lt;outputDirectory&gt;C:\\Workspace\\Projects\\Dish\\target\\site&lt;/outputDirectory&gt;\r\n                &lt;reportPlugins&gt;\r\n                  &lt;reportPlugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n                  &lt;/reportPlugin&gt;\r\n                &lt;/reportPlugins&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n          &lt;configuration&gt;\r\n            &lt;outputDirectory&gt;C:\\Workspace\\Projects\\Dish\\target\\site&lt;/outputDirectory&gt;\r\n            &lt;reportPlugins&gt;\r\n              &lt;reportPlugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n              &lt;/reportPlugin&gt;\r\n            &lt;/reportPlugins&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n(*replaced GAV of our plugins with an abbreviation*)\r\n\r\nBut when I get effective model from java code I&#39;m not getting the last 4 plugins.\r\n\r\nJava code\r\n```\r\nModelBuilder modelBuilder =  new DefaultModelBuilderFactory().newInstance();\r\n\r\nModelResolver modelResolver = ModelResolverFactory.create(aetherArtifactResolver, remoteRepositoryManager, mavenProject);\r\n\r\nDefaultModelBuildingRequest modulebr = new DefaultModelBuildingRequest();\r\nmodulebr.setPomFile(projectPom);\r\nmodulebr.setModelResolver(modelResolver);\r\n// modulebr.setTwoPhaseBuilding(false); \r\n// modulebr.setProcessPlugins(true); //I try to use these settings but it also not help\r\nmodulebr.setUserProperties(props);\r\n\r\nModel modelEffectiveModel = modelBuilder.build(modelbr).getEffectiveModel();\r\n\r\nList&lt;Plugin&gt; plugins = modelEffectiveModel.getBuild().getPlugins();\r\n```\r\n\r\n``` \r\npublic static ModelResolver create(\r\n            ArtifactResolver resolver, RemoteRepositoryManager remoteRepositoryManager, MavenProject project)\r\n            throws EffectivePomBuildingException {\r\n        try {\r\n            ProjectBuildingRequest projectBuildingRequest = project.getProjectBuildingRequest();\r\n\r\n            Class c = Class.forName(&quot;org.apache.maven.repository.internal.DefaultModelResolver&quot;);\r\n            Constructor ct = c.getDeclaredConstructor(RepositorySystemSession.class\r\n                    , RequestTrace.class, String.class\r\n                    , ArtifactResolver.class, VersionRangeResolver.class, RemoteRepositoryManager.class\r\n                    , List.class);\r\n            ct.setAccessible(true);\r\n            return (org.apache.maven.model.resolution.ModelResolver) ct.newInstance(\r\n                    projectBuildingRequest.getRepositorySession()\r\n                    , null, null, resolver, new DefaultVersionRangeResolver(), remoteRepositoryManager\r\n                    , project.getRemoteProjectRepositories());\r\n        } catch (Exception e) {\r\n            throw new BuildingException(&quot;Error instantiating DefaultModelResolver for parsing&quot;, e);\r\n        }\r\n```\r\n\r\nHelp please\r\nWhy using the getEffectiveModel() method I don&#39;t get: maven-clean-plugin, maven-install-plugin, maven-deploy-plugin, maven-site-plugin.\r\nAnd how can I get all the plugins from an effective pom?","title":"How can I get all plugins from java code including default plugins? Maven","body":"<p>When I build an effective model using help:effective-pom I get such plugins</p>\n<pre><code>&lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.15&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;configLocation&gt;checkstyle.xml&lt;/configLocation&gt;\n            &lt;includeTests&gt;true&lt;/includeTests&gt;\n            &lt;linkXRef&gt;false&lt;/linkXRef&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.6&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;some-group-id&lt;/groupId&gt;\n          &lt;artifactId&gt;build-express&lt;/artifactId&gt;\n          &lt;version&gt;2.2.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.6.1&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n          &lt;version&gt;1.8&lt;/version&gt;\n          &lt;dependencies&gt;\n            &lt;dependency&gt;\n              &lt;groupId&gt;org.apache.ant&lt;/groupId&gt;\n              &lt;artifactId&gt;ant&lt;/artifactId&gt;\n              &lt;version&gt;1.7.1&lt;/version&gt;\n              &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n              &lt;groupId&gt;jdom&lt;/groupId&gt;\n              &lt;artifactId&gt;jdom&lt;/artifactId&gt;\n              &lt;version&gt;0.7&lt;/version&gt;\n              &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n              &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n              &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n              &lt;version&gt;1.1&lt;/version&gt;\n              &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n              &lt;groupId&gt;com.sun&lt;/groupId&gt;\n              &lt;artifactId&gt;tools&lt;/artifactId&gt;\n              &lt;version&gt;1.5.0&lt;/version&gt;\n              &lt;scope&gt;system&lt;/scope&gt;\n              &lt;systemPath&gt;C:\\Tools\\java\\jdk1.8.0_74\\jre/../lib/tools.jar&lt;/systemPath&gt;\n            &lt;/dependency&gt;\n          &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;archive&gt;\n              &lt;manifestEntries&gt;\n                &lt;Built-By&gt;Apache Maven&lt;/Built-By&gt;\n              &lt;/manifestEntries&gt;\n              &lt;addMavenDescriptor&gt;false&lt;/addMavenDescriptor&gt;\n            &lt;/archive&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n          &lt;artifactId&gt;xml-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;1.0.1&lt;/version&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;validate&lt;/goal&gt;\n              &lt;/goals&gt;\n              &lt;configuration&gt;\n                &lt;validationSets&gt;\n                  &lt;validationSet&gt;\n                    &lt;dir&gt;dish_common/install&lt;/dir&gt;\n                    &lt;includes&gt;\n                      &lt;include&gt;**/*.xml&lt;/include&gt;\n                    &lt;/includes&gt;\n                  &lt;/validationSet&gt;\n                  &lt;validationSet&gt;\n                    &lt;dir&gt;dish_common/settings&lt;/dir&gt;\n                    &lt;includes&gt;\n                      &lt;include&gt;**/*.xml&lt;/include&gt;\n                    &lt;/includes&gt;\n                  &lt;/validationSet&gt;\n                &lt;/validationSets&gt;\n              &lt;/configuration&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n          &lt;inherited&gt;false&lt;/inherited&gt;\n          &lt;configuration&gt;\n            &lt;validationSets&gt;\n              &lt;validationSet&gt;\n                &lt;dir&gt;dish_common/install&lt;/dir&gt;\n                &lt;includes&gt;\n                  &lt;include&gt;**/*.xml&lt;/include&gt;\n                &lt;/includes&gt;\n              &lt;/validationSet&gt;\n              &lt;validationSet&gt;\n                &lt;dir&gt;dish_common/settings&lt;/dir&gt;\n                &lt;includes&gt;\n                  &lt;include&gt;**/*.xml&lt;/include&gt;\n                &lt;/includes&gt;\n              &lt;/validationSet&gt;\n            &lt;/validationSets&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;some-group-id&lt;/groupId&gt;\n          &lt;artifactId&gt;some-our-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.7.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5&lt;/version&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;id&gt;default-clean&lt;/id&gt;\n              &lt;phase&gt;clean&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;clean&lt;/goal&gt;\n              &lt;/goals&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.4&lt;/version&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;id&gt;default-install&lt;/id&gt;\n              &lt;phase&gt;install&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;install&lt;/goal&gt;\n              &lt;/goals&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.7&lt;/version&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;id&gt;default-deploy&lt;/id&gt;\n              &lt;phase&gt;deploy&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;deploy&lt;/goal&gt;\n              &lt;/goals&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.3&lt;/version&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;id&gt;default-site&lt;/id&gt;\n              &lt;phase&gt;site&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;site&lt;/goal&gt;\n              &lt;/goals&gt;\n              &lt;configuration&gt;\n                &lt;outputDirectory&gt;C:\\Workspace\\Projects\\Dish\\target\\site&lt;/outputDirectory&gt;\n                &lt;reportPlugins&gt;\n                  &lt;reportPlugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n                  &lt;/reportPlugin&gt;\n                &lt;/reportPlugins&gt;\n              &lt;/configuration&gt;\n            &lt;/execution&gt;\n            &lt;execution&gt;\n              &lt;id&gt;default-deploy&lt;/id&gt;\n              &lt;phase&gt;site-deploy&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;deploy&lt;/goal&gt;\n              &lt;/goals&gt;\n              &lt;configuration&gt;\n                &lt;outputDirectory&gt;C:\\Workspace\\Projects\\Dish\\target\\site&lt;/outputDirectory&gt;\n                &lt;reportPlugins&gt;\n                  &lt;reportPlugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n                  &lt;/reportPlugin&gt;\n                &lt;/reportPlugins&gt;\n              &lt;/configuration&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n          &lt;configuration&gt;\n            &lt;outputDirectory&gt;C:\\Workspace\\Projects\\Dish\\target\\site&lt;/outputDirectory&gt;\n            &lt;reportPlugins&gt;\n              &lt;reportPlugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n              &lt;/reportPlugin&gt;\n            &lt;/reportPlugins&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>(<em>replaced GAV of our plugins with an abbreviation</em>)</p>\n<p>But when I get effective model from java code I'm not getting the last 4 plugins.</p>\n<p>Java code</p>\n<pre><code>ModelBuilder modelBuilder =  new DefaultModelBuilderFactory().newInstance();\n\nModelResolver modelResolver = ModelResolverFactory.create(aetherArtifactResolver, remoteRepositoryManager, mavenProject);\n\nDefaultModelBuildingRequest modulebr = new DefaultModelBuildingRequest();\nmodulebr.setPomFile(projectPom);\nmodulebr.setModelResolver(modelResolver);\n// modulebr.setTwoPhaseBuilding(false); \n// modulebr.setProcessPlugins(true); //I try to use these settings but it also not help\nmodulebr.setUserProperties(props);\n\nModel modelEffectiveModel = modelBuilder.build(modelbr).getEffectiveModel();\n\nList&lt;Plugin&gt; plugins = modelEffectiveModel.getBuild().getPlugins();\n</code></pre>\n<pre><code>public static ModelResolver create(\n            ArtifactResolver resolver, RemoteRepositoryManager remoteRepositoryManager, MavenProject project)\n            throws EffectivePomBuildingException {\n        try {\n            ProjectBuildingRequest projectBuildingRequest = project.getProjectBuildingRequest();\n\n            Class c = Class.forName(&quot;org.apache.maven.repository.internal.DefaultModelResolver&quot;);\n            Constructor ct = c.getDeclaredConstructor(RepositorySystemSession.class\n                    , RequestTrace.class, String.class\n                    , ArtifactResolver.class, VersionRangeResolver.class, RemoteRepositoryManager.class\n                    , List.class);\n            ct.setAccessible(true);\n            return (org.apache.maven.model.resolution.ModelResolver) ct.newInstance(\n                    projectBuildingRequest.getRepositorySession()\n                    , null, null, resolver, new DefaultVersionRangeResolver(), remoteRepositoryManager\n                    , project.getRemoteProjectRepositories());\n        } catch (Exception e) {\n            throw new BuildingException(&quot;Error instantiating DefaultModelResolver for parsing&quot;, e);\n        }\n</code></pre>\n<p>Help please\nWhy using the getEffectiveModel() method I don't get: maven-clean-plugin, maven-install-plugin, maven-deploy-plugin, maven-site-plugin.\nAnd how can I get all the plugins from an effective pom?</p>\n"},{"tags":["java","spring-boot","docker","tomcat"],"comments":[{"owner":{"account_id":1215517,"reputation":5628,"user_id":1183192,"accept_rate":82,"display_name":"stevecross"},"score":0,"creation_date":1634825020,"post_id":69663178,"comment_id":123135072,"body_markdown":"What&#39;s the name of your jar? As far as I remember it must be `ROOT.war` in order to work like this. Otherwise it will be deployed under a context path with the same name as the war file. E.g. if it is `myapp.war` you have to make a request to `/myapp/api/v2-docs`.","body":"What&#39;s the name of your jar? As far as I remember it must be <code>ROOT.war</code> in order to work like this. Otherwise it will be deployed under a context path with the same name as the war file. E.g. if it is <code>myapp.war</code> you have to make a request to <code>&#47;myapp&#47;api&#47;v2-docs</code>."},{"owner":{"account_id":1076737,"reputation":622,"user_id":1074714,"display_name":"nsawaya"},"score":0,"creation_date":1634825195,"post_id":69663178,"comment_id":123135159,"body_markdown":"Download the war file locally and try to run it in a local Tomcat server. Check the jar as well, might be a case of a missing spring-boot-maven-plugin or gradle plugin","body":"Download the war file locally and try to run it in a local Tomcat server. Check the jar as well, might be a case of a missing spring-boot-maven-plugin or gradle plugin"},{"owner":{"account_id":4684736,"reputation":150,"user_id":3792421,"display_name":"Sachin Tiwari"},"score":0,"creation_date":1638254479,"post_id":69663178,"comment_id":124032848,"body_markdown":"@nsawaya it runs on local tomcat server","body":"@nsawaya it runs on local tomcat server"},{"owner":{"account_id":13351149,"reputation":530,"user_id":9636333,"display_name":"Maram Sreerama Reddy"},"score":1,"creation_date":1645045997,"post_id":69663178,"comment_id":125769731,"body_markdown":"found any fix for this ? facing same issue.","body":"found any fix for this ? facing same issue."},{"owner":{"account_id":4684736,"reputation":150,"user_id":3792421,"display_name":"Sachin Tiwari"},"score":1,"creation_date":1646487054,"post_id":69663178,"comment_id":126138152,"body_markdown":"haven&#39;t found any yet","body":"haven&#39;t found any yet"},{"owner":{"account_id":4172764,"reputation":748,"user_id":3420149,"accept_rate":67,"display_name":"akinKaplanoglu"},"score":0,"creation_date":1648649278,"post_id":69663178,"comment_id":126678502,"body_markdown":"@SachinTiwari Did you find any solution?","body":"@SachinTiwari Did you find any solution?"}],"owner":{"account_id":4684736,"reputation":150,"user_id":3792421,"display_name":"Sachin Tiwari"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1025,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634824046,"creation_date":1634824046,"question_id":69663178,"body_markdown":"I am deploying a Spring Boot project war to container running tomcat. But it gives 404 for every request. Its on java 8\r\n\r\nDockerfile\r\n\r\n```\r\nFROM tomcat:8\r\nRUN [&quot;apt-get&quot;, &quot;update&quot;]\r\nRUN [&quot;apt-get&quot;, &quot;install&quot;, &quot;-y&quot;, &quot;vim&quot;]\r\nCOPY target/*.war /usr/local/tomcat/webapps/\r\nEXPOSE 8080\r\nENTRYPOINT [&quot;catalina.sh&quot;,&quot;run&quot;]\r\n```\r\n\r\nApplication.java\r\n\r\n```\r\npublic class Application extends SpringBootServletInitializer {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t}\r\n\r\n\t@Override\r\n\tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n\t\treturn application.sources(Application.class);\r\n\t}\r\n}\r\n\r\n```\r\n\r\npom.xml\r\n\r\n```\r\n&lt;packaging&gt;war&lt;/packaging&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;version&gt;2.2.1.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nUpdated the web.xml. changed url patter from / to /*\r\n```\r\n &lt;!-- The mapping for the default servlet --&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;default&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n```\r\n\r\n\r\n```\r\ndocker build -t my-app:latest .\r\ndocker run -e &quot;SPRING_PROFILES_ACTIVE=local&quot; -v /Users/sachintiwari/Desktop/web.xml:/usr/local/tomcat/conf/web.xml -p 8080:8080 -t my-app:latest\r\n```\r\n\r\nthe image gets built &amp; container runs successfully\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2][![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gViT7.png\r\n  [2]: https://i.stack.imgur.com/W15O3.jpg\r\n  [3]: https://i.stack.imgur.com/pZWv7.png","title":"404 Not found returned when Spring Boot war deployed in Tomcat Docker container","body":"<p>I am deploying a Spring Boot project war to container running tomcat. But it gives 404 for every request. Its on java 8</p>\n<p>Dockerfile</p>\n<pre><code>FROM tomcat:8\nRUN [&quot;apt-get&quot;, &quot;update&quot;]\nRUN [&quot;apt-get&quot;, &quot;install&quot;, &quot;-y&quot;, &quot;vim&quot;]\nCOPY target/*.war /usr/local/tomcat/webapps/\nEXPOSE 8080\nENTRYPOINT [&quot;catalina.sh&quot;,&quot;run&quot;]\n</code></pre>\n<p>Application.java</p>\n<pre><code>public class Application extends SpringBootServletInitializer {\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(Application.class);\n    }\n}\n\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;version&gt;2.2.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Updated the web.xml. changed url patter from / to /*</p>\n<pre><code> &lt;!-- The mapping for the default servlet --&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;default&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n</code></pre>\n<pre><code>docker build -t my-app:latest .\ndocker run -e &quot;SPRING_PROFILES_ACTIVE=local&quot; -v /Users/sachintiwari/Desktop/web.xml:/usr/local/tomcat/conf/web.xml -p 8080:8080 -t my-app:latest\n</code></pre>\n<p>the image gets built &amp; container runs successfully</p>\n<p><a href=\"https://i.stack.imgur.com/gViT7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gViT7.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/W15O3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W15O3.jpg\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/pZWv7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pZWv7.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","rest","google-cloud-platform","google-api","dialogflow-cx"],"comments":[{"owner":{"account_id":21485254,"reputation":762,"user_id":15831977,"display_name":"Krish"},"score":0,"creation_date":1635245784,"post_id":69660361,"comment_id":123239496,"body_markdown":"The first behaviour is as intended  i.e. the environment will not be created after restore. The second issue that you are facing needs further investigation, so if you have a [support plan](https://cloud.google.com/support/) please create a new GCP support case. Otherwise, open a new issue on the [issue tracker](https://cloud.google.com/support/docs/issue-trackers).  Also, consider mentioning the exact steps you followed to create the agent in the case/issue.","body":"The first behaviour is as intended  i.e. the environment will not be created after restore. The second issue that you are facing needs further investigation, so if you have a <a href=\"https://cloud.google.com/support/\" rel=\"nofollow noreferrer\">support plan</a> please create a new GCP support case. Otherwise, open a new issue on the <a href=\"https://cloud.google.com/support/docs/issue-trackers\" rel=\"nofollow noreferrer\">issue tracker</a>.  Also, consider mentioning the exact steps you followed to create the agent in the case/issue."},{"owner":{"account_id":10097195,"reputation":89,"user_id":7462225,"display_name":"E.Cecchetti"},"score":0,"creation_date":1635418452,"post_id":69660361,"comment_id":123295612,"body_markdown":"Done that. I&#39;m waiting for responses now. Issues at: https://issuetracker.google.com/issues/204328114","body":"Done that. I&#39;m waiting for responses now. Issues at: <a href=\"https://issuetracker.google.com/issues/204328114\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/204328114</a>"},{"owner":{"account_id":1134556,"reputation":6362,"user_id":1119895,"accept_rate":40,"display_name":"binarygiant"},"score":1,"creation_date":1644854129,"post_id":69660361,"comment_id":125709591,"body_markdown":"Has there been any update on this?  I&#39;m running into a similar problem.  My team requires the export to contain, at a minimum, flow versions, and it appears that they cannot be reconstructed using the @google-cloud/dialogflowcx library.  \n\nI&#39;m also not able to see the issue tracker information- it requires access to be granted.","body":"Has there been any update on this?  I&#39;m running into a similar problem.  My team requires the export to contain, at a minimum, flow versions, and it appears that they cannot be reconstructed using the @google-cloud/dialogflowcx library.    I&#39;m also not able to see the issue tracker information- it requires access to be granted."},{"owner":{"account_id":10097195,"reputation":89,"user_id":7462225,"display_name":"E.Cecchetti"},"score":0,"creation_date":1648227295,"post_id":69660361,"comment_id":126579237,"body_markdown":"Hi binarygiant. It has not been solved yet, and the ticket has been closed. To not face it again I suggest you to include everything inside a flow so it wont be cutted. In my case the cutted parts were in the default flow.\nUse also versioning and environments for export and restore by environments.","body":"Hi binarygiant. It has not been solved yet, and the ticket has been closed. To not face it again I suggest you to include everything inside a flow so it wont be cutted. In my case the cutted parts were in the default flow. Use also versioning and environments for export and restore by environments."}],"owner":{"account_id":10097195,"reputation":89,"user_id":7462225,"display_name":"E.Cecchetti"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634823977,"creation_date":1634812486,"question_id":69660361,"body_markdown":"Since a few days I&#39;m working with GCP services, more specifically with DialogFlowCX.\r\nCurrently for a project I&#39;m trying to **Export** some DF agents and **Import** them back into other projects.\r\n\r\nUsing the REST API at: \r\nhttps://cloud.google.com/dialogflow/cx/docs/reference/rest/v3/projects.locations.agents/export\r\n&lt;/br&gt;\r\nand here:\r\nhttps://cloud.google.com/dialogflow/cx/docs/reference/rest/v3/projects.locations.agents/restore \r\n&lt;/br&gt;\r\nI&#39;ve succeded at exporting my old agent and importing it into a new one. \r\n\r\nThe problem is that, by some test I&#39;ve conducted:\r\n 1. Without specifying the *environment* body-param in the import-request the new agent is complete of every flows and exactly the same as the exported-one but will not have any environment existing after the restore.(so i will lose some data regarding them - I need it)\r\n 2. by specifying the environment-name in the *environment* body-param it will save just that environment losing part of the Default-Start-Flow flow. Also if that flow existing and complete in the specified env. [example below]\r\n\r\nThis image illustrates the second case described.\r\n[![enter image description here][1]][1]\r\n\r\nIs there a way to merge more export into one or to properly export/restore the complete agent that exists in the first project?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z70ma.png","title":"Is there a way to export and successively restore into another project DialogFlowCX an agent without losing environments and Flow-parts?","body":"<p>Since a few days I'm working with GCP services, more specifically with DialogFlowCX.\nCurrently for a project I'm trying to <strong>Export</strong> some DF agents and <strong>Import</strong> them back into other projects.</p>\n<p>Using the REST API at:\n<a href=\"https://cloud.google.com/dialogflow/cx/docs/reference/rest/v3/projects.locations.agents/export\" rel=\"nofollow noreferrer\">https://cloud.google.com/dialogflow/cx/docs/reference/rest/v3/projects.locations.agents/export</a>\n\nand here:\n<a href=\"https://cloud.google.com/dialogflow/cx/docs/reference/rest/v3/projects.locations.agents/restore\" rel=\"nofollow noreferrer\">https://cloud.google.com/dialogflow/cx/docs/reference/rest/v3/projects.locations.agents/restore</a>\n\nI've succeded at exporting my old agent and importing it into a new one.</p>\n<p>The problem is that, by some test I've conducted:</p>\n<ol>\n<li>Without specifying the <em>environment</em> body-param in the import-request the new agent is complete of every flows and exactly the same as the exported-one but will not have any environment existing after the restore.(so i will lose some data regarding them - I need it)</li>\n<li>by specifying the environment-name in the <em>environment</em> body-param it will save just that environment losing part of the Default-Start-Flow flow. Also if that flow existing and complete in the specified env. [example below]</li>\n</ol>\n<p>This image illustrates the second case described.\n<a href=\"https://i.stack.imgur.com/z70ma.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z70ma.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there a way to merge more export into one or to properly export/restore the complete agent that exists in the first project?</p>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1634782232,"post_id":69654808,"comment_id":123120231,"body_markdown":"Please don’t deface your questions by removing all information.","body":"Please don’t deface your questions by removing all information."}],"answers":[{"tags":[],"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1634780069,"creation_date":1634780069,"answer_id":69654839,"question_id":69654808,"body_markdown":"Use a `POST` request instead of a `GET` request.","title":"Servlets - How can form elements passed to a servlet not be incorporated in a URL when accessing the server","body":"<p>Use a <code>POST</code> request instead of a <code>GET</code> request.</p>\n"},{"tags":[],"owner":{"account_id":22946308,"reputation":69,"user_id":17078245,"display_name":"kody-technolab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634823877,"creation_date":1634823877,"answer_id":69663127,"question_id":69654808,"body_markdown":"**HTTP POST** method is used to pass data enclosed in the body of the request message. \r\nIn your html form use method=&quot;post&quot; like below,\r\n\r\n    &lt;form action=&quot;HelloServlet&quot; method=&quot;post&quot;&gt;\r\n\r\nFor more details, See how HTTP POST method works [here][1]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/POST_(HTTP)","title":"Servlets - How can form elements passed to a servlet not be incorporated in a URL when accessing the server","body":"<p><strong>HTTP POST</strong> method is used to pass data enclosed in the body of the request message.\nIn your html form use method=&quot;post&quot; like below,</p>\n<pre><code>&lt;form action=&quot;HelloServlet&quot; method=&quot;post&quot;&gt;\n</code></pre>\n<p>For more details, See how HTTP POST method works <a href=\"https://en.wikipedia.org/wiki/POST_(HTTP)\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":19080396,"reputation":23,"user_id":13932723,"display_name":"user13932723"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1635043135,"answer_count":2,"score":-2,"last_activity_date":1634823877,"creation_date":1634779726,"question_id":69654808,"body_markdown":"I&#39;m just wondering how it would be possible for any elements passed to a servlet to not be incorporated in a url when accessing a servlet, thanks.","title":"Servlets - How can form elements passed to a servlet not be incorporated in a URL when accessing the server","body":"<p>I'm just wondering how it would be possible for any elements passed to a servlet to not be incorporated in a url when accessing a servlet, thanks.</p>\n"},{"tags":["java","xsd","jaxb","wsimport"],"comments":[{"owner":{"account_id":537835,"reputation":21393,"user_id":886533,"display_name":"Petru Gardea"},"score":0,"creation_date":1344518469,"post_id":11883790,"comment_id":15814312,"body_markdown":"Any chance you can post a set of files which would give the same? This error message is typically caused by loading the same definition twice or more in a way that confuses the loader with regards to the base URI.","body":"Any chance you can post a set of files which would give the same? This error message is typically caused by loading the same definition twice or more in a way that confuses the loader with regards to the base URI."},{"owner":{"account_id":35665,"reputation":17726,"user_id":101095,"accept_rate":94,"display_name":"Cuga"},"score":0,"creation_date":1344518698,"post_id":11883790,"comment_id":15814425,"body_markdown":"I don&#39;t think so-- there&#39;s 136 total schemas that are referencing it...","body":"I don&#39;t think so-- there&#39;s 136 total schemas that are referencing it..."},{"owner":{"account_id":537835,"reputation":21393,"user_id":886533,"display_name":"Petru Gardea"},"score":0,"creation_date":1344519105,"post_id":11883790,"comment_id":15814644,"body_markdown":"I would try to visualize/trace the paths into the XSD file which is causing the issue. If this is based on the Open Travel Alliance... I assume you built the WSDL; can you indicate the highlevel structure i.e. do you do import of OTA xsds from your WSDL, do you define XSD content in WSDL, or do you import one external XSD which in turn references all others?","body":"I would try to visualize/trace the paths into the XSD file which is causing the issue. If this is based on the Open Travel Alliance... I assume you built the WSDL; can you indicate the highlevel structure i.e. do you do import of OTA xsds from your WSDL, do you define XSD content in WSDL, or do you import one external XSD which in turn references all others?"},{"owner":{"account_id":35665,"reputation":17726,"user_id":101095,"accept_rate":94,"display_name":"Cuga"},"score":0,"creation_date":1344520592,"post_id":11883790,"comment_id":15815397,"body_markdown":"The WSDL was developed elsewhere, and it imports three XSDs which in turn reference others... eventually down to the one 20-line XSD containing just the types in the snippet above.  I&#39;ve tried renaming the types to be various things, but keep running into the same error... Thanks for the help btw","body":"The WSDL was developed elsewhere, and it imports three XSDs which in turn reference others... eventually down to the one 20-line XSD containing just the types in the snippet above.  I&#39;ve tried renaming the types to be various things, but keep running into the same error... Thanks for the help btw"},{"owner":{"account_id":35665,"reputation":17726,"user_id":101095,"accept_rate":94,"display_name":"Cuga"},"score":0,"creation_date":1344520809,"post_id":11883790,"comment_id":15815514,"body_markdown":"Updated to include the top of the WSDL which imports the schemas.","body":"Updated to include the top of the WSDL which imports the schemas."},{"owner":{"account_id":537835,"reputation":21393,"user_id":886533,"display_name":"Petru Gardea"},"score":0,"creation_date":1344523895,"post_id":11883790,"comment_id":15817158,"body_markdown":"Can you please do the following: extract the xsd:schema under wsdl:types as a standalone file in the same folder where the WSDL resides (call that new.xsd). Run the xjc against new.xsd and see if you&#39;re getting errors or not.","body":"Can you please do the following: extract the xsd:schema under wsdl:types as a standalone file in the same folder where the WSDL resides (call that new.xsd). Run the xjc against new.xsd and see if you&#39;re getting errors or not."},{"owner":{"account_id":537835,"reputation":21393,"user_id":886533,"display_name":"Petru Gardea"},"score":0,"creation_date":1344523982,"post_id":11883790,"comment_id":15817195,"body_markdown":"let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/15129/discussion-between-petru-gardea-and-cuga)","body":"let us <a href=\"http://chat.stackoverflow.com/rooms/15129/discussion-between-petru-gardea-and-cuga\">continue this discussion in chat</a>"}],"answers":[{"tags":[],"owner":{"account_id":35665,"reputation":17726,"user_id":101095,"accept_rate":94,"display_name":"Cuga"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1344529129,"creation_date":1344529129,"answer_id":11887677,"question_id":11883790,"body_markdown":"Thanks to the help of @Petru Gardea I was able to eventually get past this by omitting the `-p com.generated` package specification to wsimport.  So this is what I was eventually able to run to get past this problem:\r\n\r\n    wsimport ./bwWsdl.xml -Xnocompile -d ../src -extension -keep -XadditionalHeaders -B-XautoNameResolution\r\n\r\n\r\nThe reasoning for it is `wsimport` is trying to generate classes in the same package with the same name and/or methods, which it obviously cannot do.  \r\n\r\nSo by omitting the forced package declaration, `wsimport` is able to put the classes in whatever packages it wants, which turns out to be 3 different packages per the `&lt;xsd:schema&gt;` definition in the WSDL.\r\n\r\nThanks again @Petru!","title":"wsimport - Two declarations cause a collision, same line given","body":"<p>Thanks to the help of @Petru Gardea I was able to eventually get past this by omitting the <code>-p com.generated</code> package specification to wsimport.  So this is what I was eventually able to run to get past this problem:</p>\n\n<pre><code>wsimport ./bwWsdl.xml -Xnocompile -d ../src -extension -keep -XadditionalHeaders -B-XautoNameResolution\n</code></pre>\n\n<p>The reasoning for it is <code>wsimport</code> is trying to generate classes in the same package with the same name and/or methods, which it obviously cannot do.  </p>\n\n<p>So by omitting the forced package declaration, <code>wsimport</code> is able to put the classes in whatever packages it wants, which turns out to be 3 different packages per the <code>&lt;xsd:schema&gt;</code> definition in the WSDL.</p>\n\n<p>Thanks again @Petru!</p>\n"},{"tags":[],"owner":{"account_id":20516526,"reputation":1,"user_id":15057049,"display_name":"Jas Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634823532,"creation_date":1634823532,"answer_id":69663037,"question_id":11883790,"body_markdown":"I had the same issue and I was calling webservice through pom.xml. I just removed packageName and defined a sourceDestDir. This will create stubs inside source packages. I am taking wsdlURL from a config. Here are the changes I did in pom.xml:\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;wsimport-from-jdk&lt;/id&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;wsimport&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n                &lt;args&gt;\r\n                    &lt;arg&gt;-B-XautoNameResolution&lt;/arg&gt;\r\n                &lt;/args&gt;\r\n                &lt;wsdlUrls&gt;\r\n                    &lt;wsdlUrl&gt;${service.wsdl.url}&lt;/wsdlUrl&gt; \r\n                &lt;/wsdlUrls&gt;\r\n                &lt;keep&gt;true&lt;/keep&gt; \r\n                &lt;sourceDestDir&gt;src/main/java&lt;/sourceDestDir&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;","title":"wsimport - Two declarations cause a collision, same line given","body":"<p>I had the same issue and I was calling webservice through pom.xml. I just removed packageName and defined a sourceDestDir. This will create stubs inside source packages. I am taking wsdlURL from a config. Here are the changes I did in pom.xml:</p>\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.6&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;wsimport-from-jdk&lt;/id&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;wsimport&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n            &lt;args&gt;\n                &lt;arg&gt;-B-XautoNameResolution&lt;/arg&gt;\n            &lt;/args&gt;\n            &lt;wsdlUrls&gt;\n                &lt;wsdlUrl&gt;${service.wsdl.url}&lt;/wsdlUrl&gt; \n            &lt;/wsdlUrls&gt;\n            &lt;keep&gt;true&lt;/keep&gt; \n            &lt;sourceDestDir&gt;src/main/java&lt;/sourceDestDir&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":35665,"reputation":17726,"user_id":101095,"accept_rate":94,"display_name":"Cuga"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34786,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":11887677,"answer_count":2,"score":21,"last_activity_date":1634823532,"creation_date":1344516397,"question_id":11883790,"body_markdown":"Trying to use `wsimport` to generate a client for a SOAP endpoint. The WSDL and all XSD files used are local copies.\r\n\r\nThis is the command being executed:\r\n\r\n    wsimport ./bwWsdl.xml -p com.generated -Xnocompile -d ../src -extension -keep -XadditionalHeaders -B-XautoNameResolution\r\n\r\n\r\nWhich gives this error:\r\n\r\n    [ERROR] Two declarations cause a collision in the ObjectFactory class.\r\n      line 16 of file:/schemas/newSchema.xsd\r\n    \r\n    [ERROR] (Related to above error) This is the other declaration.   \r\n      line 16 of file:/schemas/newSchema.xsd\r\n\r\nNote the line number is the same for the reported collision.\r\n\r\nHere&#39;s the schema:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; elementFormDefault=&quot;qualified&quot;\r\n      version=&quot;2.004&quot; id=&quot;OTA2003A2009A&quot;&gt;\r\n      \r\n      &lt;xs:complexType name=&quot;TPA_ExtensionsType&quot;&gt;\r\n        &lt;xs:annotation&gt;\r\n          &lt;xs:documentation xml:lang=&quot;en&quot;&gt;Description here.\r\n          &lt;/xs:documentation&gt;\r\n        &lt;/xs:annotation&gt;\r\n        &lt;xs:sequence&gt;\r\n          &lt;xs:any processContents=&quot;skip&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot; /&gt;\r\n        &lt;/xs:sequence&gt;\r\n      &lt;/xs:complexType&gt;\r\n    \r\n      &lt;xs:element name=&quot;TPA_Extensions&quot; type=&quot;TPA_ExtensionsType&quot;&gt;\r\n        &lt;xs:annotation&gt;\r\n          &lt;xs:documentation xml:lang=&quot;en&quot;&gt;More description here.&lt;/xs:documentation&gt;\r\n        &lt;/xs:annotation&gt;\r\n      &lt;/xs:element&gt;\r\n    &lt;/xs:schema&gt;  \r\n\r\nI&#39;ve tried removing the type definition, but it&#39;s referenced in a slew of other places.\r\n\r\nCould anyone please offer any advice for how to get this to work?  \r\n\r\nThanks\r\n\r\n**Edit:** \r\n\r\nHere&#39;s the lines where the WSDL imports these schemas:\r\n\r\n    &lt;definitions name=&#39;ResLookupGet&#39; targetNamespace=&#39;http://org.jboss.ws/resLookupGet&#39; xmlns=&#39;http://schemas.xmlsoap.org/wsdl/&#39; xmlns:http=&#39;http://schemas.xmlsoap.org/wsdl/http/&#39; xmlns:mime=&#39;http://schemas.xmlsoap.org/wsdl/mime/&#39; xmlns:ns=&#39;http://www.opentravel.org/OTA/2003/05/beta&#39; xmlns:rq=&#39;http://www.opentravel.org/OTA/2003/05/betarq&#39; xmlns:rs=&#39;http://www.opentravel.org/OTA/2003/05/betars&#39; xmlns:soap=&#39;http://schemas.xmlsoap.org/wsdl/soap/&#39; xmlns:tns=&#39;http://org.jboss.ws/resLookupGet&#39; xmlns:xsd=&#39;http://www.w3.org/2001/XMLSchema&#39;&gt;\r\n     &lt;types&gt;\r\n      &lt;xsd:schema targetNamespace=&#39;http://org.jboss.ws/resLookupGet&#39; xmlns:tns=&#39;http://org.jboss.ws/resLookupGet&#39; xmlns:xsd=&#39;http://www.w3.org/2001/XMLSchema&#39;&gt;\r\n       &lt;xsd:import namespace=&#39;http://www.opentravel.org/OTA/2003/05/betarq&#39; schemaLocation=&#39;./schemas/FooAffiliateHeaderRQ.xsd&#39;/&gt;\r\n       &lt;xsd:import namespace=&#39;http://www.opentravel.org/OTA/2003/05/betarq&#39; schemaLocation=&#39;./schemas/FooResLookupGetRQ.xsd&#39;/&gt;\r\n       &lt;xsd:import namespace=&#39;http://www.opentravel.org/OTA/2003/05/betars&#39; schemaLocation=&#39;./schemas/FooResLookupGetRS.xsd&#39;/&gt;\r\n      &lt;/xsd:schema&gt;\r\n     &lt;/types&gt;\r\n    &lt;message name=&#39;ResLookupGetRQ&#39;&gt;\r\n      &lt;part element=&#39;rq:FooResLookupGetRQ&#39; name=&#39;FooResLookupGetRQ&#39;&gt;&lt;/part&gt;\r\n     &lt;/message&gt;\r\n     &lt;message name=&#39;ResLookupGetRS&#39;&gt;\r\n      &lt;part element=&#39;rs:FooResLookupGetRS&#39; name=&#39;FooResLookupGetRS&#39;&gt;&lt;/part&gt;\r\n     &lt;/message&gt;\r\n\r\n","title":"wsimport - Two declarations cause a collision, same line given","body":"<p>Trying to use <code>wsimport</code> to generate a client for a SOAP endpoint. The WSDL and all XSD files used are local copies.</p>\n\n<p>This is the command being executed:</p>\n\n<pre><code>wsimport ./bwWsdl.xml -p com.generated -Xnocompile -d ../src -extension -keep -XadditionalHeaders -B-XautoNameResolution\n</code></pre>\n\n<p>Which gives this error:</p>\n\n<pre><code>[ERROR] Two declarations cause a collision in the ObjectFactory class.\n  line 16 of file:/schemas/newSchema.xsd\n\n[ERROR] (Related to above error) This is the other declaration.   \n  line 16 of file:/schemas/newSchema.xsd\n</code></pre>\n\n<p>Note the line number is the same for the reported collision.</p>\n\n<p>Here's the schema:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" elementFormDefault=\"qualified\"\n  version=\"2.004\" id=\"OTA2003A2009A\"&gt;\n\n  &lt;xs:complexType name=\"TPA_ExtensionsType\"&gt;\n    &lt;xs:annotation&gt;\n      &lt;xs:documentation xml:lang=\"en\"&gt;Description here.\n      &lt;/xs:documentation&gt;\n    &lt;/xs:annotation&gt;\n    &lt;xs:sequence&gt;\n      &lt;xs:any processContents=\"skip\" minOccurs=\"0\" maxOccurs=\"unbounded\" /&gt;\n    &lt;/xs:sequence&gt;\n  &lt;/xs:complexType&gt;\n\n  &lt;xs:element name=\"TPA_Extensions\" type=\"TPA_ExtensionsType\"&gt;\n    &lt;xs:annotation&gt;\n      &lt;xs:documentation xml:lang=\"en\"&gt;More description here.&lt;/xs:documentation&gt;\n    &lt;/xs:annotation&gt;\n  &lt;/xs:element&gt;\n&lt;/xs:schema&gt;  \n</code></pre>\n\n<p>I've tried removing the type definition, but it's referenced in a slew of other places.</p>\n\n<p>Could anyone please offer any advice for how to get this to work?  </p>\n\n<p>Thanks</p>\n\n<p><strong>Edit:</strong> </p>\n\n<p>Here's the lines where the WSDL imports these schemas:</p>\n\n<pre><code>&lt;definitions name='ResLookupGet' targetNamespace='http://org.jboss.ws/resLookupGet' xmlns='http://schemas.xmlsoap.org/wsdl/' xmlns:http='http://schemas.xmlsoap.org/wsdl/http/' xmlns:mime='http://schemas.xmlsoap.org/wsdl/mime/' xmlns:ns='http://www.opentravel.org/OTA/2003/05/beta' xmlns:rq='http://www.opentravel.org/OTA/2003/05/betarq' xmlns:rs='http://www.opentravel.org/OTA/2003/05/betars' xmlns:soap='http://schemas.xmlsoap.org/wsdl/soap/' xmlns:tns='http://org.jboss.ws/resLookupGet' xmlns:xsd='http://www.w3.org/2001/XMLSchema'&gt;\n &lt;types&gt;\n  &lt;xsd:schema targetNamespace='http://org.jboss.ws/resLookupGet' xmlns:tns='http://org.jboss.ws/resLookupGet' xmlns:xsd='http://www.w3.org/2001/XMLSchema'&gt;\n   &lt;xsd:import namespace='http://www.opentravel.org/OTA/2003/05/betarq' schemaLocation='./schemas/FooAffiliateHeaderRQ.xsd'/&gt;\n   &lt;xsd:import namespace='http://www.opentravel.org/OTA/2003/05/betarq' schemaLocation='./schemas/FooResLookupGetRQ.xsd'/&gt;\n   &lt;xsd:import namespace='http://www.opentravel.org/OTA/2003/05/betars' schemaLocation='./schemas/FooResLookupGetRS.xsd'/&gt;\n  &lt;/xsd:schema&gt;\n &lt;/types&gt;\n&lt;message name='ResLookupGetRQ'&gt;\n  &lt;part element='rq:FooResLookupGetRQ' name='FooResLookupGetRQ'&gt;&lt;/part&gt;\n &lt;/message&gt;\n &lt;message name='ResLookupGetRS'&gt;\n  &lt;part element='rs:FooResLookupGetRS' name='FooResLookupGetRS'&gt;&lt;/part&gt;\n &lt;/message&gt;\n</code></pre>\n"},{"tags":["java","guava","treemap","multimap"],"answers":[{"tags":[],"owner":{"account_id":364193,"reputation":27495,"user_id":708434,"accept_rate":70,"display_name":"Grzegorz Rożniecki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634823511,"creation_date":1634823511,"answer_id":69663034,"question_id":69660884,"body_markdown":"You can use your custom `ListMultimap` with [`treeKeys()`][1] and cast the resulting map — it&#39;s safe as guaranteed by Guava&#39;s contract:\r\n\r\n&gt; Uses a naturally-ordered `TreeMap` to map keys to value collections.\r\n&gt; The collections returned by `Multimap.keySet()`, `Multimap.keys()`, and `Multimap.asMap()` will iterate through the keys in sorted order.\r\n&gt; \r\n&gt; For all multimaps generated by the resulting builder, the `Multimap.keySet()` can be safely cast to a `SortedSet`, and the **`Multimap.asMap()` can safely be cast to a `SortedMap`**.\r\n\r\n\r\n\r\nExample:\r\n\r\n    ListMultimap&lt;Integer, String&gt; multimap = MultimapBuilder.treeKeys().arrayListValues().build();\r\n    multimap.putAll(ImmutableMultimap.of(1, &quot;one&quot;, 1, &quot;uno&quot;, 2, &quot;two&quot;, 42, &quot;forty-two&quot;));\r\n    // {1=[one, uno], 2=[two], 42=[forty-two]}\r\n\r\n    SortedMap&lt;Integer, List&lt;String&gt;&gt; sortedMap = (SortedMap&lt;Integer, List&lt;String&gt;&gt;) Multimaps.asMap(multimap); // safe, see javadoc\r\n    // `.asMap()` directly on `multimap` would give you SortedMap&lt;Integer, Collection&lt;String&gt;&gt;\r\n    // SortedMap&lt;Integer, Collection&lt;String&gt;&gt; sortedMap = (SortedMap&lt;Integer, Collection&lt;String&gt;&gt;) multimap.asMap();\r\n    SortedMap&lt;Integer, List&lt;String&gt;&gt; tailMap = sortedMap.tailMap(2);\r\n    // {2=[two], 42=[forty-two]}\r\n\r\n\r\n  [1]: https://guava.dev/releases/31.0.1-jre/api/docs/com/google/common/collect/MultimapBuilder.html#treeKeys()","title":"Is there a way to get a tailMap or a headMap from an immutable Guava sorted multimap?","body":"<p>You can use your custom <code>ListMultimap</code> with <a href=\"https://guava.dev/releases/31.0.1-jre/api/docs/com/google/common/collect/MultimapBuilder.html#treeKeys()\" rel=\"nofollow noreferrer\"><code>treeKeys()</code></a> and cast the resulting map — it's safe as guaranteed by Guava's contract:</p>\n<blockquote>\n<p>Uses a naturally-ordered <code>TreeMap</code> to map keys to value collections.\nThe collections returned by <code>Multimap.keySet()</code>, <code>Multimap.keys()</code>, and <code>Multimap.asMap()</code> will iterate through the keys in sorted order.</p>\n<p>For all multimaps generated by the resulting builder, the <code>Multimap.keySet()</code> can be safely cast to a <code>SortedSet</code>, and the <strong><code>Multimap.asMap()</code> can safely be cast to a <code>SortedMap</code></strong>.</p>\n</blockquote>\n<p>Example:</p>\n<pre><code>ListMultimap&lt;Integer, String&gt; multimap = MultimapBuilder.treeKeys().arrayListValues().build();\nmultimap.putAll(ImmutableMultimap.of(1, &quot;one&quot;, 1, &quot;uno&quot;, 2, &quot;two&quot;, 42, &quot;forty-two&quot;));\n// {1=[one, uno], 2=[two], 42=[forty-two]}\n\nSortedMap&lt;Integer, List&lt;String&gt;&gt; sortedMap = (SortedMap&lt;Integer, List&lt;String&gt;&gt;) Multimaps.asMap(multimap); // safe, see javadoc\n// `.asMap()` directly on `multimap` would give you SortedMap&lt;Integer, Collection&lt;String&gt;&gt;\n// SortedMap&lt;Integer, Collection&lt;String&gt;&gt; sortedMap = (SortedMap&lt;Integer, Collection&lt;String&gt;&gt;) multimap.asMap();\nSortedMap&lt;Integer, List&lt;String&gt;&gt; tailMap = sortedMap.tailMap(2);\n// {2=[two], 42=[forty-two]}\n</code></pre>\n"}],"owner":{"account_id":244475,"reputation":86,"user_id":517308,"display_name":"brunnsbe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634823511,"creation_date":1634814662,"question_id":69660884,"body_markdown":"There are a couple of ways in Guava to create a sorted immutable multiMap. One way is to first create a ListMultiMap with the keys as a tree and then turn it into an immutable multiMap.\r\n\r\nUsing a ListMultiMap we can have duplicate values for the same key:\r\n```java\r\nListMultimap&lt;Integer, String&gt; mutableMap = MultimapBuilder.treeKeys().arrayListValues().build();\r\nreturn ImmutableListMultimap.copyOf(mutableMap);\r\n```\r\n\r\nUsing a TreeMap we won&#39;t have duplicate values for the same key:\r\n```java\r\nTreeMultimap&lt;Integer, String&gt; mutableMap = TreeMultimap.create(Ordering.natural(), Ordering.arbitrary());\r\nreturn ImmutableListMultimap.copyOf(mutableMap);\r\n```\r\n\r\nThe problem is that in both cases the immutable interface is generic and doesn&#39;t give a way to access the keys in a sorted manner so that we could have e.g. tailMap and headMap which are found in Java&#39;s NavigationalMap.\r\n\r\nIs there a way to have an immutable sorted multi map in Guava that gives access to tailMap and headMap? Or do I need to just manually build an `ImmutableSortedMap&lt;Integer, ImmutableList&lt;String&gt;&gt;` to get this functionality?","title":"Is there a way to get a tailMap or a headMap from an immutable Guava sorted multimap?","body":"<p>There are a couple of ways in Guava to create a sorted immutable multiMap. One way is to first create a ListMultiMap with the keys as a tree and then turn it into an immutable multiMap.</p>\n<p>Using a ListMultiMap we can have duplicate values for the same key:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ListMultimap&lt;Integer, String&gt; mutableMap = MultimapBuilder.treeKeys().arrayListValues().build();\nreturn ImmutableListMultimap.copyOf(mutableMap);\n</code></pre>\n<p>Using a TreeMap we won't have duplicate values for the same key:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TreeMultimap&lt;Integer, String&gt; mutableMap = TreeMultimap.create(Ordering.natural(), Ordering.arbitrary());\nreturn ImmutableListMultimap.copyOf(mutableMap);\n</code></pre>\n<p>The problem is that in both cases the immutable interface is generic and doesn't give a way to access the keys in a sorted manner so that we could have e.g. tailMap and headMap which are found in Java's NavigationalMap.</p>\n<p>Is there a way to have an immutable sorted multi map in Guava that gives access to tailMap and headMap? Or do I need to just manually build an <code>ImmutableSortedMap&lt;Integer, ImmutableList&lt;String&gt;&gt;</code> to get this functionality?</p>\n"},{"tags":["java","matrix","processing"],"comments":[{"owner":{"account_id":4229706,"reputation":10684,"user_id":3462319,"accept_rate":85,"display_name":"depperm"},"score":0,"creation_date":1634819169,"post_id":69661934,"comment_id":123132229,"body_markdown":"can you provide more code, a [mcve]. Is this all you have (any other js or html)?","body":"can you provide more code, a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Is this all you have (any other js or html)?"},{"owner":{"account_id":4229706,"reputation":10684,"user_id":3462319,"accept_rate":85,"display_name":"depperm"},"score":1,"creation_date":1634819230,"post_id":69661934,"comment_id":123132261,"body_markdown":"is this javascript or is this java?","body":"is this javascript or is this java?"},{"owner":{"account_id":21597022,"reputation":1668,"user_id":15925814,"display_name":"AnanthDev"},"score":0,"creation_date":1634819345,"post_id":69661934,"comment_id":123132311,"body_markdown":"uh javascript has no function return type","body":"uh javascript has no function return type"},{"owner":{"account_id":23101676,"reputation":13,"user_id":17211014,"display_name":"buDujS"},"score":0,"creation_date":1634819426,"post_id":69661934,"comment_id":123132341,"body_markdown":"hi. I am working in Processing 3 and this is java","body":"hi. I am working in Processing 3 and this is java"},{"owner":{"account_id":23101676,"reputation":13,"user_id":17211014,"display_name":"buDujS"},"score":0,"creation_date":1634819596,"post_id":69661934,"comment_id":123132424,"body_markdown":"void draw() {\n  while (n&lt;10)\n  {\n    for (int i = 0; i&lt;10; i++)\n    {\n      rect(xCoord, y, 60, 60);\n      xCoord += 60;\n    }\n    xCoord = 0; \n    n++; \n    y+=60;\n  }\n}\nThe problem I have @depperm is that the script is building my entire canvas in one frame instead of placing each cube visibly in row.","body":"void draw() {   while (n&lt;10)   {     for (int i = 0; i&lt;10; i++)     {       rect(xCoord, y, 60, 60);       xCoord += 60;     }     xCoord = 0;      n++;      y+=60;   } } The problem I have @depperm is that the script is building my entire canvas in one frame instead of placing each cube visibly in row."},{"owner":{"account_id":23101676,"reputation":13,"user_id":17211014,"display_name":"buDujS"},"score":0,"creation_date":1634819649,"post_id":69661934,"comment_id":123132454,"body_markdown":"sorry for not being able to provide proper information, it is my first time using java and I&#39;m first year in college, need to make a simple animation in processing using java","body":"sorry for not being able to provide proper information, it is my first time using java and I&#39;m first year in college, need to make a simple animation in processing using java"},{"owner":{"account_id":23101676,"reputation":13,"user_id":17211014,"display_name":"buDujS"},"score":0,"creation_date":1634819733,"post_id":69661934,"comment_id":123132497,"body_markdown":"I have to figure out why it is building the whole canvas in one frame","body":"I have to figure out why it is building the whole canvas in one frame"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1634823284,"post_id":69661934,"comment_id":123134196,"body_markdown":"The code is incomplete.  We are not privy to your assignment or what else you have done.  See [ask] and [mre].","body":"The code is incomplete.  We are not privy to your assignment or what else you have done.  See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":16732662,"reputation":481,"user_id":12094608,"display_name":"KamielDev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634823177,"creation_date":1634822707,"answer_id":69662844,"question_id":69661934,"body_markdown":"Keep in mind that the draw function is called each frame. If you want to animate something, you gotta make sure each frame shows some new information. \r\n\r\nYour while loop completes (and thus builds all the blocks) in **one** iteration of draw. Thus, you will also see **all** the blocks drawn after the first iteration of draw completes. Thus, you do not see them built one by one.\r\n\r\nIf you want to draw them frame by frame, you need to ensure that you change the amount of blocks between each iteration of draw.\r\n\r\npseudocode:\r\n\r\n```\r\nvar currentAmountOfBlocks;\r\n\r\nfun draw:\r\n   // Draw currentAmountOfBlocks blocks.\r\n   for (i = 0; i &lt;= currentAmountOfBlocks; i++)\r\n   {\r\n       drawBlock();\r\n   }\r\n   currentAmountOfBlocks++\r\n```\r\n\r\nProcessing would then call it like this for you, at your desired `frameRate`\r\n```\r\ndraw(); // 1 block\r\ndraw(); // 2 blocks\r\ndraw(); // ... blocks \r\ndraw(); // n blocks\r\n```\r\n\r\nYou were basically doing:\r\n```\r\nfun draw:\r\n   drawAllBlocks()\r\n```\r\n\r\nProcessing calls that like this for you:\r\n```\r\ndraw(); // all blocks\r\ndraw(); // all blocks\r\ndraw(); // all blocks\r\ndraw(); // all blocks\r\n```\r\n\r\nYes, you have a while loop counting to ten blocks, but that completes before your first iteration of draw() completes.","title":"I can not figure out how to make the code build blocks one by one","body":"<p>Keep in mind that the draw function is called each frame. If you want to animate something, you gotta make sure each frame shows some new information.</p>\n<p>Your while loop completes (and thus builds all the blocks) in <strong>one</strong> iteration of draw. Thus, you will also see <strong>all</strong> the blocks drawn after the first iteration of draw completes. Thus, you do not see them built one by one.</p>\n<p>If you want to draw them frame by frame, you need to ensure that you change the amount of blocks between each iteration of draw.</p>\n<p>pseudocode:</p>\n<pre><code>var currentAmountOfBlocks;\n\nfun draw:\n   // Draw currentAmountOfBlocks blocks.\n   for (i = 0; i &lt;= currentAmountOfBlocks; i++)\n   {\n       drawBlock();\n   }\n   currentAmountOfBlocks++\n</code></pre>\n<p>Processing would then call it like this for you, at your desired <code>frameRate</code></p>\n<pre><code>draw(); // 1 block\ndraw(); // 2 blocks\ndraw(); // ... blocks \ndraw(); // n blocks\n</code></pre>\n<p>You were basically doing:</p>\n<pre><code>fun draw:\n   drawAllBlocks()\n</code></pre>\n<p>Processing calls that like this for you:</p>\n<pre><code>draw(); // all blocks\ndraw(); // all blocks\ndraw(); // all blocks\ndraw(); // all blocks\n</code></pre>\n<p>Yes, you have a while loop counting to ten blocks, but that completes before your first iteration of draw() completes.</p>\n"}],"owner":{"account_id":23101676,"reputation":13,"user_id":17211014,"display_name":"buDujS"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69662844,"answer_count":1,"score":1,"last_activity_date":1634823177,"creation_date":1634819002,"question_id":69661934,"body_markdown":"This is my first time i pose a question here, I am frustrated because I have been trying to figure this out for a few hours now. Why is my code not building each cube separately. Code is supposed to fill the canvas horizontally with cubes, changing line after filling another line.\r\n\r\n    void setup() {\r\n      size(600,600);\r\n      background(0);\r\n      frameRate(1);\r\n    }\r\n    int n=0;\r\n    int y=0;\r\n    int xCoord=0;\r\n    void draw() {\r\n        while(n&lt;10)\r\n        {\r\n            for(int i = 0; i&lt;10; i++)\r\n            {\r\n                rect(xCoord, y, 60,60);\r\n                xCoord += 60;\r\n            }\r\n             xCoord = 0; n++; y+=60; \r\n             \r\n        }\r\n    }","title":"I can not figure out how to make the code build blocks one by one","body":"<p>This is my first time i pose a question here, I am frustrated because I have been trying to figure this out for a few hours now. Why is my code not building each cube separately. Code is supposed to fill the canvas horizontally with cubes, changing line after filling another line.</p>\n<pre><code>void setup() {\n  size(600,600);\n  background(0);\n  frameRate(1);\n}\nint n=0;\nint y=0;\nint xCoord=0;\nvoid draw() {\n    while(n&lt;10)\n    {\n        for(int i = 0; i&lt;10; i++)\n        {\n            rect(xCoord, y, 60,60);\n            xCoord += 60;\n        }\n         xCoord = 0; n++; y+=60; \n         \n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","pdf","pdf-generation","itext7"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1634824680,"post_id":69662869,"comment_id":123134881,"body_markdown":"*&quot;I need to get signature from pdf1 and store it inside 2nd pdf&quot;* (you are aware that this will invalidate the signature?) *&quot;in PdfButtonFormField&quot;* (PDF signatures are already a form field type, how do you want to put a field into another?) *&quot;I tried below solutions so far&quot;* (does that solution do what you want?) *&quot;This is the pdf template, need to put content of pdf1 into Applicant&#39;s signature, how can I achieve this ?&quot;* (Above you said you needed to take a *signature from pdf1*, now you say *the content*. So which do you mean, please clarify.)","body":"<i>&quot;I need to get signature from pdf1 and store it inside 2nd pdf&quot;</i> (you are aware that this will invalidate the signature?) <i>&quot;in PdfButtonFormField&quot;</i> (PDF signatures are already a form field type, how do you want to put a field into another?) <i>&quot;I tried below solutions so far&quot;</i> (does that solution do what you want?) <i>&quot;This is the pdf template, need to put content of pdf1 into Applicant&#39;s signature, how can I achieve this ?&quot;</i> (Above you said you needed to take a <i>signature from pdf1</i>, now you say <i>the content</i>. So which do you mean, please clarify.)"},{"owner":{"account_id":7546897,"reputation":3757,"user_id":5729579,"display_name":"Derrick"},"score":0,"creation_date":1634883907,"post_id":69662869,"comment_id":123150792,"body_markdown":"@mkl Basically I want to convert PDF signature into image format and attach it into another PDF","body":"@mkl Basically I want to convert PDF signature into image format and attach it into another PDF"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1634885711,"post_id":69662869,"comment_id":123151295,"body_markdown":"Ok, so you only want the in-document appearance of a signature field from pdf1, you explicitly don&#39;t want the embedded digital signature itself. Right? And you want to put that appearance into a 2nd document. Originally you said &quot;in PdfButtonFormField&quot;, so you want to re-use the appearance of that signature field in pdf1 as appearance of a pushbutton in the second pdf. Right? And does the target pushbutton already exist (so only the appearance shall be applied) or has it to be created?","body":"Ok, so you only want the in-document appearance of a signature field from pdf1, you explicitly don&#39;t want the embedded digital signature itself. Right? And you want to put that appearance into a 2nd document. Originally you said &quot;in PdfButtonFormField&quot;, so you want to re-use the appearance of that signature field in pdf1 as appearance of a pushbutton in the second pdf. Right? And does the target pushbutton already exist (so only the appearance shall be applied) or has it to be created?"},{"owner":{"account_id":7546897,"reputation":3757,"user_id":5729579,"display_name":"Derrick"},"score":0,"creation_date":1638354433,"post_id":69662869,"comment_id":124063839,"body_markdown":"@mkl yes you are right, the target pushbotton is already exist as part of the pdf template","body":"@mkl yes you are right, the target pushbotton is already exist as part of the pdf template"}],"owner":{"account_id":7546897,"reputation":3757,"user_id":5729579,"display_name":"Derrick"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634822806,"creation_date":1634822806,"question_id":69662869,"body_markdown":"I need to get signature from pdf1 and store it inside 2nd pdf in PdfButtonFormField\r\n\r\nI tried below solutions so far - \r\n\r\n    PdfButtonFormField signature = (PdfButtonFormField) form.getField(&quot;Image2_af_image&quot;);\r\n    File signPdfFile = new File(String.valueOf(Paths.get(SIGNATURE_PDF)));\r\n    ByteArrayInputStream signByteArray = new ByteArrayInputStream(Files.readAllBytes(signPdfFile.toPath()));\r\n    final PdfDocument signatureDoc = new PdfDocument(new PdfReader(signByteArray));\r\n    //1        \r\n    PdfFormXObject signn = signatureDoc.getFirstPage().copyAsFormXObject(pdfDoc);\r\n    //2        \r\n    String signText = PdfTextExtractor.getTextFromPage(signatureDoc.getFirstPage());\r\n\r\n\r\nThis is the pdf template, need to put content of pdf1 into Applicant&#39;s signature, how can I achieve this ? -\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ImTK5.png","title":"How do I set signature PDF in PdfButtonFormField as signature - Itext7 Java","body":"<p>I need to get signature from pdf1 and store it inside 2nd pdf in PdfButtonFormField</p>\n<p>I tried below solutions so far -</p>\n<pre><code>PdfButtonFormField signature = (PdfButtonFormField) form.getField(&quot;Image2_af_image&quot;);\nFile signPdfFile = new File(String.valueOf(Paths.get(SIGNATURE_PDF)));\nByteArrayInputStream signByteArray = new ByteArrayInputStream(Files.readAllBytes(signPdfFile.toPath()));\nfinal PdfDocument signatureDoc = new PdfDocument(new PdfReader(signByteArray));\n//1        \nPdfFormXObject signn = signatureDoc.getFirstPage().copyAsFormXObject(pdfDoc);\n//2        \nString signText = PdfTextExtractor.getTextFromPage(signatureDoc.getFirstPage());\n</code></pre>\n<p>This is the pdf template, need to put content of pdf1 into Applicant's signature, how can I achieve this ? -</p>\n<p><a href=\"https://i.stack.imgur.com/ImTK5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ImTK5.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hashmap","stringbuilder","linkedhashmap"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1634712701,"post_id":69641428,"comment_id":123095261,"body_markdown":"Please provide code that compiles.","body":"Please provide code that compiles."},{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1634712771,"post_id":69641428,"comment_id":123095285,"body_markdown":"Welcome to Stack Overflow! Please take the [tour] (you get a badge!), have a look around, and read through the [help], in particular [*How do I ask a good question?*](/help/how-to-ask) I also recommend Jon Skeet&#39;s [Writing the Perfect Question](https://codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question/) and [Question Checklist](https://codeblog.jonskeet.uk/2012/11/24/stack-overflow-question-checklist/). I&#39;m afraid it&#39;s hard to make out what you&#39;re asking here.","body":"Welcome to Stack Overflow! Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> (you get a badge!), have a look around, and read through the <a href=\"https://stackoverflow.com/help\">help center</a>, in particular <a href=\"/help/how-to-ask\"><i>How do I ask a good question?</i></a> I also recommend Jon Skeet&#39;s <a href=\"https://codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question/\" rel=\"nofollow noreferrer\">Writing the Perfect Question</a> and <a href=\"https://codeblog.jonskeet.uk/2012/11/24/stack-overflow-question-checklist/\" rel=\"nofollow noreferrer\">Question Checklist</a>. I&#39;m afraid it&#39;s hard to make out what you&#39;re asking here."}],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634712840,"creation_date":1634712840,"answer_id":69641522,"question_id":69641428,"body_markdown":"Traversing a `HashMap` is pretty straightforward. First of all you have to understand that the first Class in the `&lt;&gt;` diamond brackets is the `KEY` and the second is the `VALUE`.\r\n\r\nSo if I create a new `HashMap&lt;Integer, String&gt;` the elements will be of the following form \r\n\r\n```\r\n1 -&gt; &quot;str&quot;,\r\n2 -&gt; &quot;str2&quot;\r\n....\r\n```\r\n\r\nTo traverse this `HashMap` And we want only the `keys` this is the way to do it:\r\n\r\n```java\r\nMap&lt;String, Object&gt; map = ...;\r\n\r\nfor (Integer key : map.keySet()) {\r\n    // ...\r\n}\r\n```\r\n\r\nIf we want only the values:\r\n\r\n```java\r\nfor (String value : map.values()) {\r\n    // ...\r\n}\r\n```\r\n\r\nIf we want them both:\r\n\r\n```java\r\nfor (Map.Entry&lt;Integer, String&gt; entry : map.entrySet()) {\r\n    Integer key = entry.getKey();\r\n    String value = entry.getValue();\r\n    // ...\r\n}\r\n```\r\n\r\nStill I am sure you are trying to conver `integers` in Roman Numerals.\r\nThis already has a [solution here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/19759564/7954021","title":"Why it returns null, but not String in HashMap? java","body":"<p>Traversing a <code>HashMap</code> is pretty straightforward. First of all you have to understand that the first Class in the <code>&lt;&gt;</code> diamond brackets is the <code>KEY</code> and the second is the <code>VALUE</code>.</p>\n<p>So if I create a new <code>HashMap&lt;Integer, String&gt;</code> the elements will be of the following form</p>\n<pre><code>1 -&gt; &quot;str&quot;,\n2 -&gt; &quot;str2&quot;\n....\n</code></pre>\n<p>To traverse this <code>HashMap</code> And we want only the <code>keys</code> this is the way to do it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Object&gt; map = ...;\n\nfor (Integer key : map.keySet()) {\n    // ...\n}\n</code></pre>\n<p>If we want only the values:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (String value : map.values()) {\n    // ...\n}\n</code></pre>\n<p>If we want them both:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (Map.Entry&lt;Integer, String&gt; entry : map.entrySet()) {\n    Integer key = entry.getKey();\n    String value = entry.getValue();\n    // ...\n}\n</code></pre>\n<p>Still I am sure you are trying to conver <code>integers</code> in Roman Numerals.\nThis already has a <a href=\"https://stackoverflow.com/a/19759564/7954021\">solution here</a>.</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634716936,"creation_date":1634716936,"answer_id":69642370,"question_id":69641428,"body_markdown":"In current implementation you need to iterate the map entries returned by `Map::entrySet` method to use the key as soon as the value is found:\r\n```java\r\n// ...\r\n    for (Map.Entry&lt;String, Integer&gt; me: map.entrySet()) {\r\n        int number2 = me.getValue();\r\n        while (number2 &lt;= value) {\r\n            stringBuilder.append(me.getKey());\r\n            value -= number2;\r\n        }\r\n    }\r\n// ...\r\n```\r\n----\r\nOr, if the reverse map is implemented `Map&lt;Integer, String&gt; map` a `keySet` should be iterated:\r\n```java\r\n        for (Integer number2: map.keySet()) {\r\n            while (number2 &lt;= value) {\r\n                stringBuilder.append(map.get(number2));\r\n                value -= number2;\r\n            }\r\n        }\r\n\r\n```","title":"Why it returns null, but not String in HashMap? java","body":"<p>In current implementation you need to iterate the map entries returned by <code>Map::entrySet</code> method to use the key as soon as the value is found:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// ...\n    for (Map.Entry&lt;String, Integer&gt; me: map.entrySet()) {\n        int number2 = me.getValue();\n        while (number2 &lt;= value) {\n            stringBuilder.append(me.getKey());\n            value -= number2;\n        }\n    }\n// ...\n</code></pre>\n<hr />\n<p>Or, if the reverse map is implemented <code>Map&lt;Integer, String&gt; map</code> a <code>keySet</code> should be iterated:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        for (Integer number2: map.keySet()) {\n            while (number2 &lt;= value) {\n                stringBuilder.append(map.get(number2));\n                value -= number2;\n            }\n        }\n\n</code></pre>\n"}],"owner":{"account_id":21054679,"reputation":11,"user_id":15474230,"display_name":"OverBuffer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1634822770,"creation_date":1634712314,"question_id":69641428,"body_markdown":"How could I get values from Map? I study Collections and wanna leave that order &lt;String, Integer&gt;.\r\nI tried before &lt;Integer, String&gt; and in loop I put *res.append(map.get(num));* — that&#39;s help me. But have no clue how to do it in reverse order. \r\nAlso I red [https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html#get-java.lang.Object-][1], but I know exactly that I have a key..\r\n\r\n```java\r\nimport java.util.LinkedHashMap;\r\nimport java.util.Map;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        int x = 555;\r\n        String result = romanianConverter(x);\r\n        System.out.println(result);\r\n    }\r\n\r\n    public static String romanianConverter(int value) {\r\n        Map&lt;String, Integer&gt; map = new LinkedHashMap&lt;&gt;();\r\n//        map.put(1000, &quot;M&quot;);\r\n//        map.put(900,&quot;CM&quot;);\r\n//        map.put(500,&quot;D&quot;);\r\n//        map.put(400,&quot;CD&quot;);\r\n//        map.put(100,&quot;C&quot; );\r\n//        map.put(90,&quot;XC&quot; );\r\n//        map.put(50,&quot;L&quot; );\r\n//        map.put(40,&quot;XL&quot;);\r\n//        map.put(10,&quot;X&quot; );\r\n//        map.put(9,&quot;IX&quot; );\r\n//        map.put(5,&quot;V&quot; );\r\n//        map.put(4,&quot;IV&quot; );\r\n//        map.put(1,&quot;I&quot; );\r\n        map.put(&quot;M&quot;, 1000);\r\n        map.put(&quot;CM&quot;, 900);\r\n        map.put(&quot;D&quot;, 500);\r\n        map.put(&quot;CD&quot;, 400);\r\n        map.put(&quot;C&quot;, 100);\r\n        map.put(&quot;XC&quot;, 90);\r\n        map.put(&quot;L&quot;, 50);\r\n        map.put(&quot;XL&quot;, 40);\r\n        map.put(&quot;X&quot;, 10);\r\n        map.put(&quot;IX&quot;, 9);\r\n        map.put(&quot;V&quot;, 5);\r\n        map.put(&quot;IV&quot;, 4);\r\n        map.put(&quot;I&quot;, 1);\r\n\r\n        StringBuilder stringBuilder = new StringBuilder(&quot;Result = &quot;);\r\n\r\n        for (int number2 : map.values()) {\r\n            while (number2 &lt;= value) {\r\n                stringBuilder.append(map.keySet().add(number2));\r\n                value -= number2;\r\n            }\r\n        }\r\n        return stringBuilder.toString();\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html#get-java.lang.Object-","title":"Why it returns null, but not String in HashMap? java","body":"<p>How could I get values from Map? I study Collections and wanna leave that order &lt;String, Integer&gt;.\nI tried before &lt;Integer, String&gt; and in loop I put <em>res.append(map.get(num));</em> — that's help me. But have no clue how to do it in reverse order.\nAlso I red <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html#get-java.lang.Object-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html#get-java.lang.Object-</a>, but I know exactly that I have a key..</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.LinkedHashMap;\nimport java.util.Map;\n\npublic class Main {\n    public static void main(String[] args) {\n        int x = 555;\n        String result = romanianConverter(x);\n        System.out.println(result);\n    }\n\n    public static String romanianConverter(int value) {\n        Map&lt;String, Integer&gt; map = new LinkedHashMap&lt;&gt;();\n//        map.put(1000, &quot;M&quot;);\n//        map.put(900,&quot;CM&quot;);\n//        map.put(500,&quot;D&quot;);\n//        map.put(400,&quot;CD&quot;);\n//        map.put(100,&quot;C&quot; );\n//        map.put(90,&quot;XC&quot; );\n//        map.put(50,&quot;L&quot; );\n//        map.put(40,&quot;XL&quot;);\n//        map.put(10,&quot;X&quot; );\n//        map.put(9,&quot;IX&quot; );\n//        map.put(5,&quot;V&quot; );\n//        map.put(4,&quot;IV&quot; );\n//        map.put(1,&quot;I&quot; );\n        map.put(&quot;M&quot;, 1000);\n        map.put(&quot;CM&quot;, 900);\n        map.put(&quot;D&quot;, 500);\n        map.put(&quot;CD&quot;, 400);\n        map.put(&quot;C&quot;, 100);\n        map.put(&quot;XC&quot;, 90);\n        map.put(&quot;L&quot;, 50);\n        map.put(&quot;XL&quot;, 40);\n        map.put(&quot;X&quot;, 10);\n        map.put(&quot;IX&quot;, 9);\n        map.put(&quot;V&quot;, 5);\n        map.put(&quot;IV&quot;, 4);\n        map.put(&quot;I&quot;, 1);\n\n        StringBuilder stringBuilder = new StringBuilder(&quot;Result = &quot;);\n\n        for (int number2 : map.values()) {\n            while (number2 &lt;= value) {\n                stringBuilder.append(map.keySet().add(number2));\n                value -= number2;\n            }\n        }\n        return stringBuilder.toString();\n    }\n}\n</code></pre>\n"},{"tags":["java","class","linked-list"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1634822423,"post_id":69662730,"comment_id":123133767,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":1178689,"reputation":877,"user_id":1154094,"display_name":"the.Doc"},"score":0,"creation_date":1634822431,"post_id":69662730,"comment_id":123133773,"body_markdown":"have you used a debugger?","body":"have you used a debugger?"},{"owner":{"account_id":22198580,"reputation":130,"user_id":16439619,"display_name":"Shubham Nanche"},"score":0,"creation_date":1634823567,"post_id":69662730,"comment_id":123134347,"body_markdown":"@OHGODSPIDERS I have no idea why it is throwing NullPointerException and I am not able to comprehend the info in that link. I know that somewhere in the code there is a &quot;null&quot; pointer causing the error but don&#39;t know where. Please help me.","body":"@OHGODSPIDERS I have no idea why it is throwing NullPointerException and I am not able to comprehend the info in that link. I know that somewhere in the code there is a &quot;null&quot; pointer causing the error but don&#39;t know where. Please help me."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1634824207,"post_id":69662730,"comment_id":123134646,"body_markdown":"It tells you in the stack trace that you posted in your question. Namely line 50 in file `MyLinkedList.java`. In one of the lines of code in method `remove`, where you wrote `node.next`, the `node` is null. Maybe this will help: [What is a stack trace, and how can I use it to debug my application errors?](https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors) If you are using an IDE (like Eclipse or IntelliJ) then it has a debugger. You should learn how to use it to debug your code.","body":"It tells you in the stack trace that you posted in your question. Namely line 50 in file <code>MyLinkedList.java</code>. In one of the lines of code in method <code>remove</code>, where you wrote <code>node.next</code>, the <code>node</code> is null. Maybe this will help: <a href=\"https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\">What is a stack trace, and how can I use it to debug my application errors?</a> If you are using an IDE (like Eclipse or IntelliJ) then it has a debugger. You should learn how to use it to debug your code."},{"owner":{"account_id":22198580,"reputation":130,"user_id":16439619,"display_name":"Shubham Nanche"},"score":0,"creation_date":1634824718,"post_id":69662730,"comment_id":123134906,"body_markdown":"Ok. I will try to learn how to debug my code. I have used VS Code for everything so far be it Python or C++ or Java. But, in the case of Java, I have faced a lot of obstructions while running the code :( don&#39;t know why. Thank you, @Abra.","body":"Ok. I will try to learn how to debug my code. I have used VS Code for everything so far be it Python or C++ or Java. But, in the case of Java, I have faced a lot of obstructions while running the code :( don&#39;t know why. Thank you, @Abra."}],"owner":{"account_id":22198580,"reputation":130,"user_id":16439619,"display_name":"Shubham Nanche"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1634824605,"answer_count":0,"score":0,"last_activity_date":1634822240,"creation_date":1634822240,"question_id":69662730,"body_markdown":"I am trying to create my own LinkedList in Java and so far it is working as expected. It can take inputs and print them. But, there is a remove method that takes the index as the argument that the user wants to remove from the LinkedList which is throwing an error. Please help me get rid of that error or otherwise suggest how to implement the remove method to make it work correctly.\r\n\r\nMyLinkedList.java\r\n\r\n```\r\nimport Node.*;\r\n\r\npublic class MyLinkedList {\r\n    Node head;\r\n    int val;\r\n\r\n    public MyLinkedList(int val){\r\n        this.head = new Node(val, null);\r\n    }\r\n\r\n    public void insert(int val){\r\n        if (this.head == null){\r\n            this.head = new Node(val, null);\r\n        }\r\n        else{\r\n            Node node = this.head;\r\n            while (node.next!=null){\r\n                node = node.next;\r\n            }\r\n            node.next = new Node(val, null);\r\n        }\r\n    }\r\n\r\n    public void remove(int index){\r\n        int count = 0;\r\n        // int size = 0;\r\n        Node node = this.head;\r\n\r\n        while(node!=null){\r\n            node = node.next;\r\n            count++;\r\n        }\r\n\r\n        if (index == count){\r\n            node = this.head;\r\n            count = 0;\r\n            while (count&lt;index){\r\n                node = node.next;\r\n                count++;\r\n            }\r\n            node.next = null;\r\n            return;\r\n        }\r\n\r\n        while(count&lt;index){\r\n            node = node.next;\r\n            count++;\r\n        }\r\n        Node temp;\r\n        temp = node.next;\r\n        node = temp;\r\n    }\r\n\r\n    public void print(){\r\n        Node node = this.head;\r\n        while (node != null){\r\n            System.out.println(node.val);\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        MyLinkedList ll = new MyLinkedList(10);\r\n        ll.insert(20);\r\n        ll.insert(30);\r\n        ll.insert(40);\r\n        ll.insert(50);\r\n        ll.print();\r\n        ll.remove(3); //error\r\n        ll.print();\r\n    }\r\n}\r\n```\r\n\r\nNode.java is defined inside a folder named &quot;Node&quot; (package)\r\n\r\n```\r\npackage Node;\r\n\r\npublic class Node {\r\n    public int val;\r\n    public Node next = null;\r\n\r\n    public Node(int val, Node next){\r\n        this.val = val;\r\n        this.next = next;\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```\r\n10\r\n20\r\n30\r\n40\r\n50\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot read field &quot;next&quot; because &quot;&lt;local3&gt;&quot; is null\r\n        at MyLinkedList.remove(MyLinkedList.java:50)\r\n        at MyLinkedList.main(MyLinkedList.java:69)\r\n```\r\n\r\nThank you for any help : )","title":"The remove method in the user defined MyLinkedList class in Java throws an error","body":"<p>I am trying to create my own LinkedList in Java and so far it is working as expected. It can take inputs and print them. But, there is a remove method that takes the index as the argument that the user wants to remove from the LinkedList which is throwing an error. Please help me get rid of that error or otherwise suggest how to implement the remove method to make it work correctly.</p>\n<p>MyLinkedList.java</p>\n<pre><code>import Node.*;\n\npublic class MyLinkedList {\n    Node head;\n    int val;\n\n    public MyLinkedList(int val){\n        this.head = new Node(val, null);\n    }\n\n    public void insert(int val){\n        if (this.head == null){\n            this.head = new Node(val, null);\n        }\n        else{\n            Node node = this.head;\n            while (node.next!=null){\n                node = node.next;\n            }\n            node.next = new Node(val, null);\n        }\n    }\n\n    public void remove(int index){\n        int count = 0;\n        // int size = 0;\n        Node node = this.head;\n\n        while(node!=null){\n            node = node.next;\n            count++;\n        }\n\n        if (index == count){\n            node = this.head;\n            count = 0;\n            while (count&lt;index){\n                node = node.next;\n                count++;\n            }\n            node.next = null;\n            return;\n        }\n\n        while(count&lt;index){\n            node = node.next;\n            count++;\n        }\n        Node temp;\n        temp = node.next;\n        node = temp;\n    }\n\n    public void print(){\n        Node node = this.head;\n        while (node != null){\n            System.out.println(node.val);\n            node = node.next;\n        }\n    }\n\n    public static void main(String[] args) {\n        MyLinkedList ll = new MyLinkedList(10);\n        ll.insert(20);\n        ll.insert(30);\n        ll.insert(40);\n        ll.insert(50);\n        ll.print();\n        ll.remove(3); //error\n        ll.print();\n    }\n}\n</code></pre>\n<p>Node.java is defined inside a folder named &quot;Node&quot; (package)</p>\n<pre><code>package Node;\n\npublic class Node {\n    public int val;\n    public Node next = null;\n\n    public Node(int val, Node next){\n        this.val = val;\n        this.next = next;\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>10\n20\n30\n40\n50\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot read field &quot;next&quot; because &quot;&lt;local3&gt;&quot; is null\n        at MyLinkedList.remove(MyLinkedList.java:50)\n        at MyLinkedList.main(MyLinkedList.java:69)\n</code></pre>\n<p>Thank you for any help : )</p>\n"},{"tags":["java","intellij-idea","junit5"],"comments":[{"owner":{"account_id":6227013,"reputation":912,"user_id":4844908,"accept_rate":75,"display_name":"Robert Ravikumar"},"score":0,"creation_date":1634688140,"post_id":54010778,"comment_id":123090920,"body_markdown":"I have included the correct junit version still the tag option is not shown in intellij idea community version","body":"I have included the correct junit version still the tag option is not shown in intellij idea community version"}],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1546451874,"creation_date":1546450964,"answer_id":54010820,"question_id":54010778,"body_markdown":"You can execute tagged tests using the following Test Configuration:\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis can be created using the following steps:\r\n\r\n1. Run/Debug configurations &gt; Add new configuration &gt; Junit\r\n2. Select test kind `Tags` and varied configurations as to how you want to execute. e.g. I am executing the test tagged with &quot;fast&quot; N times.\r\n\r\n\r\n----------\r\n\r\n\r\nWhere the test class includes:\r\n\r\n    public class TaggedTests {\r\n    \r\n        @Test\r\n        @Tag(value = &quot;slow&quot;)\r\n        public void sample() {\r\n            System.out.println(&quot;slow-test&quot;);\r\n        }\r\n    \r\n    \r\n        @Test\r\n        @Tag(value = &quot;fast&quot;)\r\n        public void fastSample() {\r\n            System.out.println(&quot;fast-test&quot;);\r\n        }\r\n    }\r\n\r\nand execution outputs: \r\n\r\n    fast-test \r\n    fast-test... 10 times\r\n\r\n\r\n  [2]: https://i.stack.imgur.com/POTpX.png","title":"The option &quot;Tag (JUnit 5)&quot; does not show up in IntelliJ 2018.3","body":"<p>You can execute tagged tests using the following Test Configuration:</p>\n\n<p><a href=\"https://i.stack.imgur.com/POTpX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/POTpX.png\" alt=\"enter image description here\"></a></p>\n\n<p>This can be created using the following steps:</p>\n\n<ol>\n<li>Run/Debug configurations > Add new configuration > Junit</li>\n<li>Select test kind <code>Tags</code> and varied configurations as to how you want to execute. e.g. I am executing the test tagged with \"fast\" N times.</li>\n</ol>\n\n<hr>\n\n<p>Where the test class includes:</p>\n\n<pre><code>public class TaggedTests {\n\n    @Test\n    @Tag(value = \"slow\")\n    public void sample() {\n        System.out.println(\"slow-test\");\n    }\n\n\n    @Test\n    @Tag(value = \"fast\")\n    public void fastSample() {\n        System.out.println(\"fast-test\");\n    }\n}\n</code></pre>\n\n<p>and execution outputs: </p>\n\n<pre><code>fast-test \nfast-test... 10 times\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13067789,"reputation":79,"user_id":9442489,"display_name":"Javier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546502634,"creation_date":1546502634,"answer_id":54018418,"question_id":54010778,"body_markdown":"The reason why it is not working is because I was using the @Test annotation from JUnit 4 instead of using the one from JUnit 5. Because of that, filtering wasn&#39;t working even if JUnit Vintage was imported in the pom.","title":"The option &quot;Tag (JUnit 5)&quot; does not show up in IntelliJ 2018.3","body":"<p>The reason why it is not working is because I was using the @Test annotation from JUnit 4 instead of using the one from JUnit 5. Because of that, filtering wasn't working even if JUnit Vintage was imported in the pom.</p>\n"},{"tags":[],"owner":{"account_id":6227013,"reputation":912,"user_id":4844908,"accept_rate":75,"display_name":"Robert Ravikumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634822134,"creation_date":1634822134,"answer_id":69662708,"question_id":54010778,"body_markdown":"1)**Configuration in Intellij Junit Runner**\r\n\r\n[![Configuration in Intellij Junit Runner\r\n][1]][1]\r\n\r\n\r\nPlease choose the Tags in the highlighted select box and add your tag to test the tagged test methods alone\r\n\r\n2)**Configuration using maven pom.xml**\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAdd the above configuration at the &lt;project&gt; level and your desire tags inside groups tag separated by a comma as shown in the picture with two tags Add and Multiply.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QkPeJ.png\r\n  [2]: https://i.stack.imgur.com/IdMCb.png","title":"The option &quot;Tag (JUnit 5)&quot; does not show up in IntelliJ 2018.3","body":"<p>1)<strong>Configuration in Intellij Junit Runner</strong></p>\n<p><a href=\"https://i.stack.imgur.com/QkPeJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QkPeJ.png\" alt=\"Configuration in Intellij Junit Runner\n\" /></a></p>\n<p>Please choose the Tags in the highlighted select box and add your tag to test the tagged test methods alone</p>\n<p>2)<strong>Configuration using maven pom.xml</strong></p>\n<p><a href=\"https://i.stack.imgur.com/IdMCb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IdMCb.png\" alt=\"enter image description here\" /></a></p>\n<p>Add the above configuration at the  level and your desire tags inside groups tag separated by a comma as shown in the picture with two tags Add and Multiply.</p>\n"}],"owner":{"account_id":13067789,"reputation":79,"user_id":9442489,"display_name":"Javier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":890,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1634822134,"creation_date":1546450783,"question_id":54010778,"body_markdown":"I am working with JUnit 5.1.0 in a Maven project. I have IntelliJ IDEA 2018.3.2 (Community Edition). I would like to use the @Tag annotation to describe my tests and be able to filter by those.\r\n\r\nThe point is that in edit configurations | Configuration | Test Kind there is no &quot;Tag (JUnit 5)&quot; option like I have seen in many examples. Only the option &quot;Tags&quot; is provided. \r\n\r\nWhen I use the option mentioned, I set the field Tag expression to &quot;slow&quot; (without the quotes) (I have one test already tagged like @Tag(&quot;slow&quot;)).\r\n\r\nThe point is that no test is found (the test is marked with @Test). \r\n\r\n    @Test\r\n    @Tag(&quot;slow&quot;)\r\n    public void testNotBlank() {\r\n      // Given\r\n      String excectedText = &quot;&quot;;\r\n      // When\r\n      String text = Checks.notBlank(excectedText, &quot;error&quot;);\r\n      // Then\r\n      assertEquals(&quot;&quot;, Checks.notBlank(text, &quot;error&quot;));\r\n    }\r\n\r\nThe pom dependency\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;5.1.0&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\nFirst of all, I expected to have the option &quot;Tags (JUnit 5)&quot; and I don&#39;t. Then, I expected that selecting &quot;Tags&quot; and giving the expression &quot;slow&quot;, the test testNotBlank would be executed.\r\n\r\n","title":"The option &quot;Tag (JUnit 5)&quot; does not show up in IntelliJ 2018.3","body":"<p>I am working with JUnit 5.1.0 in a Maven project. I have IntelliJ IDEA 2018.3.2 (Community Edition). I would like to use the @Tag annotation to describe my tests and be able to filter by those.</p>\n\n<p>The point is that in edit configurations | Configuration | Test Kind there is no \"Tag (JUnit 5)\" option like I have seen in many examples. Only the option \"Tags\" is provided. </p>\n\n<p>When I use the option mentioned, I set the field Tag expression to \"slow\" (without the quotes) (I have one test already tagged like @Tag(\"slow\")).</p>\n\n<p>The point is that no test is found (the test is marked with @Test). </p>\n\n<pre><code>@Test\n@Tag(\"slow\")\npublic void testNotBlank() {\n  // Given\n  String excectedText = \"\";\n  // When\n  String text = Checks.notBlank(excectedText, \"error\");\n  // Then\n  assertEquals(\"\", Checks.notBlank(text, \"error\"));\n}\n</code></pre>\n\n<p>The pom dependency</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n  &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n  &lt;version&gt;5.1.0&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>First of all, I expected to have the option \"Tags (JUnit 5)\" and I don't. Then, I expected that selecting \"Tags\" and giving the expression \"slow\", the test testNotBlank would be executed.</p>\n"},{"tags":["java","mongodb","aggregation-framework"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1634822914,"post_id":69662652,"comment_id":123134007,"body_markdown":"`collectionNew.insertMany(documentList);` - that code says you are trying to insert an aggregation pipeline into a collection. Is that what you are trying?","body":"<code>collectionNew.insertMany(documentList);</code> - that code says you are trying to insert an aggregation pipeline into a collection. Is that what you are trying?"},{"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"score":0,"creation_date":1634826961,"post_id":69662652,"comment_id":123135980,"body_markdown":"Yes . I want to insert the aggregate pipeline into new collection and tried different ways but was not able to insert the data into collection and the collection was empty .Can you please suggest if any other way to insert the aggregate results to collection","body":"Yes . I want to insert the aggregate pipeline into new collection and tried different ways but was not able to insert the data into collection and the collection was empty .Can you please suggest if any other way to insert the aggregate results to collection"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1634827075,"post_id":69662652,"comment_id":123136023,"body_markdown":"What is the version of MongoDB you are working with?","body":"What is the version of MongoDB you are working with?"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1634827505,"post_id":69662652,"comment_id":123136218,"body_markdown":"MongoDB version 4.4 documentation says about field naming restrictions and using `$` as prefixed field names: https://docs.mongodb.com/v4.4/core/document/#field-names . This my be causing the  error.","body":"MongoDB version 4.4 documentation says about field naming restrictions and using <code>$</code> as prefixed field names: <a href=\"https://docs.mongodb.com/v4.4/core/document/#field-names\" rel=\"nofollow noreferrer\">docs.mongodb.com/v4.4/core/document/#field-names</a> . This my be causing the  error."},{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":0,"creation_date":1634827665,"post_id":69662652,"comment_id":123136303,"body_markdown":"I think you need to print `documentList` here to see what your inserted documents actually look like","body":"I think you need to print <code>documentList</code> here to see what your inserted documents actually look like"},{"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"score":0,"creation_date":1634832880,"post_id":69662652,"comment_id":123138889,"body_markdown":"Mongodb version is 3.10.1.  I am able to print the documentList length","body":"Mongodb version is 3.10.1.  I am able to print the documentList length"},{"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"score":0,"creation_date":1634833432,"post_id":69662652,"comment_id":123139125,"body_markdown":"Actually I have used $operator for other  scenarios and it is throwing any error .I think while inserting there is some issue","body":"Actually I have used $operator for other  scenarios and it is throwing any error .I think while inserting there is some issue"}],"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634821927,"creation_date":1634821927,"question_id":69662652,"body_markdown":"I am trying to read the data from one collection and writing to another collection .While inserting the data into another collection by using $merge getting below error .Could you please suggest how to insert the aggregate pipeline data into new collection .\r\n\r\n     String collectionName = &quot;SampleCollection&quot;;\r\n\r\n            if (!mongoOps.collectionExists(collectionName)) {\r\n                collectionNew = mongoOps.createCollection(collectionName);\r\n                LOG.info(&quot;Collection %s was successfully created&quot;, collectionName);\r\n            } else {\r\n                collectionNew = mongoOps.getCollection(collectionName);\r\n            }\r\n\r\n            List&lt;? extends Bson&gt; pipeline  = Arrays.asList(\r\n                    new Document()\r\n                            .append(&quot;$match&quot;, new Document()\r\n                                    .append(&quot;key&quot;, &quot;PP&quot;)\r\n                                    .append(&quot;Amount&quot;, &quot;RR&quot;)\r\n                                    \r\n                            ),\r\n                    new Document()\r\n                            .append(&quot;$addFields&quot;, new Document()\r\n                                    .append(&quot;ID&quot;, &quot;$_id&quot;)\r\n                                    .append(&quot;Period&quot;, nextPeriod)\r\n                                   \r\n                                    .append(&quot;Type&quot;, new Document()\r\n                                            .append(&quot;key&quot;, &quot;PP&quot;)\r\n                                            .append(&quot;value&quot;, &quot;Statement&quot;)\r\n                                    )\r\n                                    .append(&quot;amount&quot;, new Document()\r\n                                            .append(&quot;$multiply&quot;, Arrays.asList(\r\n                                                    &quot;$Amount.amount&quot;,\r\n                                                     Decimal128.parse(&quot;0.0&quot;)\r\n                                                    )\r\n                                            )\r\n                                    )\r\n                                  \r\n                                 \r\n                                    .append(&quot;index&quot;, true)\r\n                            ),\r\n                    new Document()\r\n                            .append(&quot;$project&quot;, new Document()\r\n                                    .append(&quot;_id&quot;, 0.0)\r\n                                    .append(&quot;Amt&quot;, 0.0)\r\n                                    .append(&quot;Amount&quot;, 0.0)\r\n                                    .append(&quot;ClearAmount&quot;, 0.0)\r\n                            )\r\n\r\n            );\r\n            List&lt;Document&gt; documentList = new ArrayList(pipeline);\r\n            //documentList.add(Document.parse(toJson()));\r\n            collectionNew.insertMany(documentList);\r\n\r\n\r\nexception :Invalid BSON field name $match\r\n","title":"Invalid BSON field name $match","body":"<p>I am trying to read the data from one collection and writing to another collection .While inserting the data into another collection by using $merge getting below error .Could you please suggest how to insert the aggregate pipeline data into new collection .</p>\n<pre><code> String collectionName = &quot;SampleCollection&quot;;\n\n        if (!mongoOps.collectionExists(collectionName)) {\n            collectionNew = mongoOps.createCollection(collectionName);\n            LOG.info(&quot;Collection %s was successfully created&quot;, collectionName);\n        } else {\n            collectionNew = mongoOps.getCollection(collectionName);\n        }\n\n        List&lt;? extends Bson&gt; pipeline  = Arrays.asList(\n                new Document()\n                        .append(&quot;$match&quot;, new Document()\n                                .append(&quot;key&quot;, &quot;PP&quot;)\n                                .append(&quot;Amount&quot;, &quot;RR&quot;)\n                                \n                        ),\n                new Document()\n                        .append(&quot;$addFields&quot;, new Document()\n                                .append(&quot;ID&quot;, &quot;$_id&quot;)\n                                .append(&quot;Period&quot;, nextPeriod)\n                               \n                                .append(&quot;Type&quot;, new Document()\n                                        .append(&quot;key&quot;, &quot;PP&quot;)\n                                        .append(&quot;value&quot;, &quot;Statement&quot;)\n                                )\n                                .append(&quot;amount&quot;, new Document()\n                                        .append(&quot;$multiply&quot;, Arrays.asList(\n                                                &quot;$Amount.amount&quot;,\n                                                 Decimal128.parse(&quot;0.0&quot;)\n                                                )\n                                        )\n                                )\n                              \n                             \n                                .append(&quot;index&quot;, true)\n                        ),\n                new Document()\n                        .append(&quot;$project&quot;, new Document()\n                                .append(&quot;_id&quot;, 0.0)\n                                .append(&quot;Amt&quot;, 0.0)\n                                .append(&quot;Amount&quot;, 0.0)\n                                .append(&quot;ClearAmount&quot;, 0.0)\n                        )\n\n        );\n        List&lt;Document&gt; documentList = new ArrayList(pipeline);\n        //documentList.add(Document.parse(toJson()));\n        collectionNew.insertMany(documentList);\n</code></pre>\n<p>exception :Invalid BSON field name $match</p>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":26267,"reputation":18227,"user_id":68172,"accept_rate":98,"display_name":"Bobby"},"score":0,"creation_date":1243614142,"post_id":926721,"comment_id":734735,"body_markdown":"I left out some details, sorry, the data structure needed to be duplicate free, sorted, and able to have an iterator.","body":"I left out some details, sorry, the data structure needed to be duplicate free, sorted, and able to have an iterator."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1243889929,"post_id":926721,"comment_id":744837,"body_markdown":"A SortedSet like TreeSet will do all this.","body":"A SortedSet like TreeSet will do all this."},{"owner":{"account_id":26267,"reputation":18227,"user_id":68172,"accept_rate":98,"display_name":"Bobby"},"score":0,"creation_date":1243913362,"post_id":926721,"comment_id":745872,"body_markdown":"@Peter Lawrey - Thanks, for the comment, I did discover the TreeSet data structure a couple days ago and it is exactly what I needed.","body":"@Peter Lawrey - Thanks, for the comment, I did discover the TreeSet data structure a couple days ago and it is exactly what I needed."}],"answers":[{"tags":[],"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1243613972,"creation_date":1243612511,"answer_id":926738,"question_id":926721,"body_markdown":"Easily in terms of what? If it&#39;s a reasonably short list, the simplest solution is to dump it to a Set and then back to a List.\r\n\r\n    myList = new LinkedList&lt;Whatever&gt;(new HashSet&lt;Whatever&gt;(myList));\r\n\r\nBut why bother with this? If you don&#39;t want duplicates, you should be using a [`Set`][1]; if you only want a list so that you can keep the elements in the same order they were inserted, you can use a [`LinkedHashSet`][2] to get the best of both worlds: a `Set` that iterates predictably like a `LinkedList`.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Set.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/LinkedHashSet.html","title":"How can I easily delete duplicates in a linked list in java?","body":"<p>Easily in terms of what? If it's a reasonably short list, the simplest solution is to dump it to a Set and then back to a List.</p>\n\n<pre><code>myList = new LinkedList&lt;Whatever&gt;(new HashSet&lt;Whatever&gt;(myList));\n</code></pre>\n\n<p>But why bother with this? If you don't want duplicates, you should be using a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Set.html\" rel=\"nofollow noreferrer\"><code>Set</code></a>; if you only want a list so that you can keep the elements in the same order they were inserted, you can use a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/LinkedHashSet.html\" rel=\"nofollow noreferrer\"><code>LinkedHashSet</code></a> to get the best of both worlds: a <code>Set</code> that iterates predictably like a <code>LinkedList</code>.</p>\n"},{"tags":[],"owner":{"account_id":25078,"reputation":7371,"user_id":64217,"accept_rate":75,"display_name":"OtherDevOpsGene"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1243874118,"creation_date":1243612512,"answer_id":926740,"question_id":926721,"body_markdown":"Use a [LinkedHashSet][1] instead, and then you won&#39;t have duplicates in the first place.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/index.html?java/util/LinkedHashSet.html","title":"How can I easily delete duplicates in a linked list in java?","body":"<p>Use a <a href=\"http://java.sun.com/javase/6/docs/api/index.html?java/util/LinkedHashSet.html\" rel=\"noreferrer\">LinkedHashSet</a> instead, and then you won't have duplicates in the first place.</p>\n"},{"tags":[],"owner":{"account_id":26963,"reputation":35564,"user_id":70616,"accept_rate":74,"display_name":"victor hugo"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1243612540,"creation_date":1243612540,"answer_id":926743,"question_id":926721,"body_markdown":"I don&#39;t know if your requirements is to use a linked list but if not, use a Set instead of a List (you tagged the question as &#39;best-practices&#39;)","title":"How can I easily delete duplicates in a linked list in java?","body":"<p>I don't know if your requirements is to use a linked list but if not, use a Set instead of a List (you tagged the question as 'best-practices')</p>\n"},{"tags":[],"owner":{"account_id":21534,"reputation":59456,"user_id":52443,"display_name":"Welbog"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1243612575,"creation_date":1243612575,"answer_id":926750,"question_id":926721,"body_markdown":"Search through them and, if two represent the same thing, delete one of them.\r\n\r\nWhat more do you want? Do you want advice on how to do this quickly? If that&#39;s the case, store the nodes in a hash table for easy matching when looking for duplicates.","title":"How can I easily delete duplicates in a linked list in java?","body":"<p>Search through them and, if two represent the same thing, delete one of them.</p>\n\n<p>What more do you want? Do you want advice on how to do this quickly? If that's the case, store the nodes in a hash table for easy matching when looking for duplicates.</p>\n"},{"tags":[],"owner":{"account_id":1334975,"reputation":11,"user_id":1277943,"display_name":"mahesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1332138164,"creation_date":1332138164,"answer_id":9765838,"question_id":926721,"body_markdown":"    import java.util.*;\r\n    import java.lang.*;\r\n    \r\n    class Main\r\n    {\r\n    \tpublic static void main (String[] args) throws java.lang.Exception\r\n    \t{\r\n    \t\tCollection&lt;String&gt; c = new LinkedList&lt;String&gt;();\r\n    \t\tc.add(&quot;JAR&quot;);c.add(&quot;BDK&quot;);c.add(&quot;JDK&quot;);c.add(&quot;JAR&quot;);c.add(&quot;WAR&quot;);c.add(&quot;APK&quot;);c.add(&quot;BDK&quot;);\r\n    \t\tc=new HashSet(c);\r\n    \t\tc=new ArrayList(c);\r\n    \t\tfor(String s : c)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(s);\r\n    \t\t}\r\n    \t}\r\n    }","title":"How can I easily delete duplicates in a linked list in java?","body":"<pre><code>import java.util.*;\nimport java.lang.*;\n\nclass Main\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        Collection&lt;String&gt; c = new LinkedList&lt;String&gt;();\n        c.add(\"JAR\");c.add(\"BDK\");c.add(\"JDK\");c.add(\"JAR\");c.add(\"WAR\");c.add(\"APK\");c.add(\"BDK\");\n        c=new HashSet(c);\n        c=new ArrayList(c);\n        for(String s : c)\n        {\n            System.out.println(s);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3893238,"reputation":1341,"user_id":3222918,"accept_rate":20,"display_name":"krezus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634821777,"creation_date":1634821777,"answer_id":69662609,"question_id":926721,"body_markdown":"you can use the `distinct()` method of Stream. The `distinct()` method works based on Stream and returns a stream that contains only a unique element. This method internally invokes the `equals()` method.\r\n\r\n    duplicateElements.stream().distinct().collect(Collectors.toList());","title":"How can I easily delete duplicates in a linked list in java?","body":"<p>you can use the <code>distinct()</code> method of Stream. The <code>distinct()</code> method works based on Stream and returns a stream that contains only a unique element. This method internally invokes the <code>equals()</code> method.</p>\n<pre><code>duplicateElements.stream().distinct().collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":26267,"reputation":18227,"user_id":68172,"accept_rate":98,"display_name":"Bobby"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":926743,"answer_count":6,"score":0,"last_activity_date":1634821777,"creation_date":1243612314,"question_id":926721,"body_markdown":"How can I easily delete duplicates in a linked list in java?","title":"How can I easily delete duplicates in a linked list in java?","body":"<p>How can I easily delete duplicates in a linked list in java?</p>\n"},{"tags":["java","spring-boot","hibernate","intellij-idea","lombok"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1634820193,"post_id":69661371,"comment_id":123132720,"body_markdown":"It seems you&#39;re also wondering about the getClass() stuff. I edited my answer to explain what&#39;s going on there. It&#39;s a second complex deep-dive, unfortunately. Takes a lot of background to even know what the requirements are.","body":"It seems you&#39;re also wondering about the getClass() stuff. I edited my answer to explain what&#39;s going on there. It&#39;s a second complex deep-dive, unfortunately. Takes a lot of background to even know what the requirements are."}],"answers":[{"tags":[],"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634818328,"creation_date":1634818328,"answer_id":69661766,"question_id":69661371,"body_markdown":"Two objects are not equal if they are of different class.\r\n\r\nFor &#39;preferred&#39;, it depends on what an &#39;id&#39; is. The last line seems a little redundant; it could have been \r\n\r\n    return Objects.equals(id, that.id);\r\n\r\nsince the null case is handled by Objects.equals. But to my taste, it&#39;s clearer to write\r\n\r\n    return id != null &amp;&amp; id.equals(that.id);\r\n\r\nThe extra layer adds nothing that I can see in the example.\r\n","title":"Can someone please explain Intellij&#39;s default equals implementation?","body":"<p>Two objects are not equal if they are of different class.</p>\n<p>For 'preferred', it depends on what an 'id' is. The last line seems a little redundant; it could have been</p>\n<pre><code>return Objects.equals(id, that.id);\n</code></pre>\n<p>since the null case is handled by Objects.equals. But to my taste, it's clearer to write</p>\n<pre><code>return id != null &amp;&amp; id.equals(that.id);\n</code></pre>\n<p>The extra layer adds nothing that I can see in the example.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1634820146,"creation_date":1634818843,"answer_id":69661893,"question_id":69661371,"body_markdown":"There&#39;s a fundamental problem at work, one inherent to JPA/Hibernate. For this example, let&#39;s say we have a db table named `User`, and we have a class also named `User` that models it.\r\n\r\nThe problem boils down to simply this:\r\n\r\n__What does the java class `User` represent? Does it represent &#39;a row in the database table &quot;User&quot;&#39;, or does it represent a User?__\r\n\r\nDepending on your answer, you get a wildly different requirement for the equals method. Depending on which equals method you chose, answering this question incorrectly leads to code bugs. As far as I know, there is no actual &#39;standard&#39;, people just sort of do something and most aren&#39;t aware that this is a fundamental problem.\r\n\r\n## It represents a row in the DB\r\n\r\nSuch an interpretation would then suggest the following implementation of your equals method:\r\n\r\n* If all fields that model the primary key columns in the DB definition are equal between the two instances, then they are equal, _even if the other (non-primary-key) fields are different_. After all, that&#39;s how the DB determines equality, so java code should match it.\r\n\r\n* The java code should be like SQL when dealing with NULLs. That is to say, quite __unlike__ just about every equality definition, equals method code generator (including lombok, intellij, _and_ eclipse), and even the `Objects.equals` method, __in this mode, `null == null` should be FALSE, as it is in SQL!__ Specifically, if any of the primary key fields have a null value, that object cannot be equal to any other, even a carbon copy of itself; to stick to java rules, it can (must, really) be equal to its own reference.\r\n\r\nIn other words:\r\n\r\n* Any 2 objects are equal if either [A] they are literally the same object (`this == other`), or [B] BOTH object&#39;s `unid` field is initialized and equal. Whether you use `null` or `0` to track &#39;not written to DB yet&#39;, that value instantly disqualifies that row from being equal to any other, even another one with 100% identical values.\r\n\r\nAfter all, if you make 2 separate new objects and `save()` them both, they would turn into 2 separate rows.\r\n\r\n## It represents a user object\r\n\r\nThen what happens is that the equals rules do a 180. The primary key, assuming its an `unid` style primary key and not a natural primary key, __are inherently an implementation detail__. Imagine that somehow in your DB you end up with __2__ rows for the exact same user (presumably somebody messed up and failed to add a UNIQUE constraint on username, perhaps). In the semantic model of users on the system, users are uniquely identified by their username, therefore, equality is defined by username alone. 2 objects with identical username but different unid values are __nevertheless equal__.\r\n\r\n## So which one do I take?\r\n\r\nI have no idea. Fortunately, your question asked for explanation and not an answer!\r\n\r\nWhat IntelliJ is telling you is to go with the first interpretation (row in the DB), and even applies the wonky `null` stuff correctly, so whomever wrote the suggestion tool in intellij at least seems to understand what&#39;s going on.\r\n\r\nFor what its worth, I think &#39;represents a row in the DB&#39; is the more &#39;useful&#39; interpretation (because not doing this involves invoking getters which make equality checks incredibly pricey, as it may result in hundreds of SELECT calls and a gigantic bunch of heap mem as you pull half the DB in!), however, the &#39;an instance of class `User` represents a user in the system&#39; is the more java-like interpretation and the one that most java programmers would (erroneously then, if you use intellij&#39;s suggestion here) silently presume.\r\n\r\nI&#39;ve solved this problem in my own programming endeavours by never using hibernate/JPA in the first place, and using tools like JOOQ or JDBI instead. But, the downside is that generally you end up with more code – you really do sometimes have an object, e.g. called `UserRow`, representing a user row, and an object e.g. called `User` that represents a user on-system.\r\n\r\nAnother trick could be to decide to name all your Hibernate model classes as `XRow`. Names are important and the best documentation around: This makes no bones about it and clues in all users of this code about how they are to interpret its semantic meaning: Row in DB. Thus, the intellij suggestion would then be your equals implementation.\r\n\r\nNB: Lombok is java and not Hibernate specific, so it makes the &#39;represents a user in the system&#39; choice. You can try to push lombok towards the &#39;row in DB&#39; interpretation by telling lombok to only use the id field (stick an `@EqualsAndHashCode.Include` on that field), but lombok would still consider 2 `null` values / 2 `0` values identical even though it shouldn&#39;t. This is on hibernate, as it is breaking all sorts of rules and specs.\r\n\r\n----\r\n\r\n_(NB: Added due to a comment on another answer)_\r\n\r\n## Why is `.getClass()` being invoked?\r\n\r\nJava has sensible rules about what equals is supposed to mean. This is in the javadoc of the `equals` method and these rules can be relied upon (and are, by e.g. `HashSet` and co). The rules are:\r\n\r\n* If `aequals(b)` is true , `a.hashCode() == b.hashCode()` must also be true.\r\n* `a.equals(a)` must be true.\r\n* If `a.equals(b)` then `b.equals(a)` must also be true.\r\n* If `a.equals(b)` and `b.equals(c)` then `a.equals(c)` must also be true.\r\n\r\nSensible and simple, right?\r\n\r\nNope. That&#39;s actually really complex.\r\n\r\nImagine you make a subclass of `ArrayList`: You decide to give lists a colour. You can have a blue list of strings and a red list of strings.\r\n\r\nRight now the equality method of ArrayList checks if the `that` is a list and if so, compares elements. Seems sensible, right? We can see it in action:\r\n\r\n```\r\nList&lt;String&gt; a = new ArrayList&lt;String&gt;();\r\na.add(&quot;Hello&quot;);\r\nList&lt;String&gt; b = new LinkedList&lt;String&gt;();\r\nb.add(&quot;Hello&quot;);\r\nSystem.out.println(a.equals(b));\r\n```\r\n\r\nThis prints true.\r\n\r\nLet&#39;s now make our coloured arraylist implementation: `class ColoredList&lt;T&gt; extends ArrayList&lt;T&gt; { .. }`. Surely, a red empty list is no longer equal to a blue empty list right?\r\n\r\n__Nope__, you&#39;d be breaking rules if you do that!\r\n\r\n```\r\nList&lt;String&gt; a = new ArrayList&lt;String&gt;();\r\nList&lt;String&gt; b = new ColoredList&lt;String&gt;(Color.RED);\r\nList&lt;String&gt; c = new ColoredList&lt;String&gt;(Color.BLUE);\r\nSystem.out.println(a.equals(b));\r\nSystem.out.println(a.equals(c));\r\nSystem.out.println(b.equals(c));\r\n```\r\n\r\nThat prints true/true/false which is __invalid__. The conclusion is that it is in fact __impossible__ to make any list subclass that adds some semantically relevant information. The only subclasses that can exist are those which either actively break spec (bad idea), or whose additions have no impact on equality.\r\n\r\nThere is a different view of things which says that you ought to be able to make such classes. Again we&#39;re struggling, just like with the JPA/Hibernate case, about what equals is even supposed to mean.\r\n\r\nA more common and far better default behaviour for your equals implementations is to simply state that any 2 objects can only be equal if they are of the exact same type: An instance of `Dog` cannot be equal to an instance of `Animal`.\r\n\r\nThe only way to accomplish this, given that the rule `a.equals(b)`? Then `b.equals(a)` exists, is that animal checks the class of `that` and returns `false` if it isn&#39;t exactly `Animal`. In other words:\r\n\r\n```\r\nAnimal a = new Animal(&quot;Betsy&quot;);\r\nCow c = new Cow(&quot;Betsy&quot;);\r\na.equals(c); // must return false!!\r\n```\r\n\r\nThe `.getClass()` check accomplishes this.\r\n\r\nLombok gives you the best of both worlds. It can&#39;t perform miracles, so it won&#39;t take away the rule that at the type level you need to choose extensibility, but lombok has the `canEqual` system to deal with this: The equals code of `Animal` will ask the `that` code if the two things can be equal. In this mode, if you have some non-semantically-different subclass of animal (such as `ArrayList`, which is a subclass of AbstractList and doesn&#39;t change the semantics at all, it just adds implementation details that have no bearing on equality), it can say that it can be equal, whereas if you have one that is semantically different, such as your coloured list, it can say that none are.\r\n\r\nIn other words, going back to the coloured lists, __IF__ ArrayList and co were written with lombok&#39;s canEqual system, this could have worked out, you could have had the results (where `a` is an arraylist, `b` is a red list, and `c` is a blur list):\r\n\r\n```\r\na.equals(b); // false, even though same items\r\na.equals(c); // false, same reason.\r\nb.equals(c); // false and now it&#39;s not a conflict.\r\n```\r\n\r\nLombok&#39;s default behaviour is that all subtypes add semantic load and therefore any X cannot be equal to any Y where Y is a subclass of X, but you can override this by writing out the `canEqual` method in `Y`. You would do that if you write a subclass that doesn&#39;t add semantic load.\r\n\r\nThis isn&#39;t going to help you in the slightest with the problems above about hibernate.\r\n\r\nWho knew something as seemingly simple as equality is hiding 2 intractably difficult philosophical treatises, huh?\r\n\r\nFor more info on canEqual, [see lombok&#39;s `@EqualsAndHashCode` documentation](https://projectlombok.org/features/EqualsAndHashCode).\r\n","title":"Can someone please explain Intellij&#39;s default equals implementation?","body":"<p>There's a fundamental problem at work, one inherent to JPA/Hibernate. For this example, let's say we have a db table named <code>User</code>, and we have a class also named <code>User</code> that models it.</p>\n<p>The problem boils down to simply this:</p>\n<p><strong>What does the java class <code>User</code> represent? Does it represent 'a row in the database table &quot;User&quot;', or does it represent a User?</strong></p>\n<p>Depending on your answer, you get a wildly different requirement for the equals method. Depending on which equals method you chose, answering this question incorrectly leads to code bugs. As far as I know, there is no actual 'standard', people just sort of do something and most aren't aware that this is a fundamental problem.</p>\n<h2>It represents a row in the DB</h2>\n<p>Such an interpretation would then suggest the following implementation of your equals method:</p>\n<ul>\n<li><p>If all fields that model the primary key columns in the DB definition are equal between the two instances, then they are equal, <em>even if the other (non-primary-key) fields are different</em>. After all, that's how the DB determines equality, so java code should match it.</p>\n</li>\n<li><p>The java code should be like SQL when dealing with NULLs. That is to say, quite <strong>unlike</strong> just about every equality definition, equals method code generator (including lombok, intellij, <em>and</em> eclipse), and even the <code>Objects.equals</code> method, <strong>in this mode, <code>null == null</code> should be FALSE, as it is in SQL!</strong> Specifically, if any of the primary key fields have a null value, that object cannot be equal to any other, even a carbon copy of itself; to stick to java rules, it can (must, really) be equal to its own reference.</p>\n</li>\n</ul>\n<p>In other words:</p>\n<ul>\n<li>Any 2 objects are equal if either [A] they are literally the same object (<code>this == other</code>), or [B] BOTH object's <code>unid</code> field is initialized and equal. Whether you use <code>null</code> or <code>0</code> to track 'not written to DB yet', that value instantly disqualifies that row from being equal to any other, even another one with 100% identical values.</li>\n</ul>\n<p>After all, if you make 2 separate new objects and <code>save()</code> them both, they would turn into 2 separate rows.</p>\n<h2>It represents a user object</h2>\n<p>Then what happens is that the equals rules do a 180. The primary key, assuming its an <code>unid</code> style primary key and not a natural primary key, <strong>are inherently an implementation detail</strong>. Imagine that somehow in your DB you end up with <strong>2</strong> rows for the exact same user (presumably somebody messed up and failed to add a UNIQUE constraint on username, perhaps). In the semantic model of users on the system, users are uniquely identified by their username, therefore, equality is defined by username alone. 2 objects with identical username but different unid values are <strong>nevertheless equal</strong>.</p>\n<h2>So which one do I take?</h2>\n<p>I have no idea. Fortunately, your question asked for explanation and not an answer!</p>\n<p>What IntelliJ is telling you is to go with the first interpretation (row in the DB), and even applies the wonky <code>null</code> stuff correctly, so whomever wrote the suggestion tool in intellij at least seems to understand what's going on.</p>\n<p>For what its worth, I think 'represents a row in the DB' is the more 'useful' interpretation (because not doing this involves invoking getters which make equality checks incredibly pricey, as it may result in hundreds of SELECT calls and a gigantic bunch of heap mem as you pull half the DB in!), however, the 'an instance of class <code>User</code> represents a user in the system' is the more java-like interpretation and the one that most java programmers would (erroneously then, if you use intellij's suggestion here) silently presume.</p>\n<p>I've solved this problem in my own programming endeavours by never using hibernate/JPA in the first place, and using tools like JOOQ or JDBI instead. But, the downside is that generally you end up with more code – you really do sometimes have an object, e.g. called <code>UserRow</code>, representing a user row, and an object e.g. called <code>User</code> that represents a user on-system.</p>\n<p>Another trick could be to decide to name all your Hibernate model classes as <code>XRow</code>. Names are important and the best documentation around: This makes no bones about it and clues in all users of this code about how they are to interpret its semantic meaning: Row in DB. Thus, the intellij suggestion would then be your equals implementation.</p>\n<p>NB: Lombok is java and not Hibernate specific, so it makes the 'represents a user in the system' choice. You can try to push lombok towards the 'row in DB' interpretation by telling lombok to only use the id field (stick an <code>@EqualsAndHashCode.Include</code> on that field), but lombok would still consider 2 <code>null</code> values / 2 <code>0</code> values identical even though it shouldn't. This is on hibernate, as it is breaking all sorts of rules and specs.</p>\n<hr />\n<p><em>(NB: Added due to a comment on another answer)</em></p>\n<h2>Why is <code>.getClass()</code> being invoked?</h2>\n<p>Java has sensible rules about what equals is supposed to mean. This is in the javadoc of the <code>equals</code> method and these rules can be relied upon (and are, by e.g. <code>HashSet</code> and co). The rules are:</p>\n<ul>\n<li>If <code>aequals(b)</code> is true , <code>a.hashCode() == b.hashCode()</code> must also be true.</li>\n<li><code>a.equals(a)</code> must be true.</li>\n<li>If <code>a.equals(b)</code> then <code>b.equals(a)</code> must also be true.</li>\n<li>If <code>a.equals(b)</code> and <code>b.equals(c)</code> then <code>a.equals(c)</code> must also be true.</li>\n</ul>\n<p>Sensible and simple, right?</p>\n<p>Nope. That's actually really complex.</p>\n<p>Imagine you make a subclass of <code>ArrayList</code>: You decide to give lists a colour. You can have a blue list of strings and a red list of strings.</p>\n<p>Right now the equality method of ArrayList checks if the <code>that</code> is a list and if so, compares elements. Seems sensible, right? We can see it in action:</p>\n<pre><code>List&lt;String&gt; a = new ArrayList&lt;String&gt;();\na.add(&quot;Hello&quot;);\nList&lt;String&gt; b = new LinkedList&lt;String&gt;();\nb.add(&quot;Hello&quot;);\nSystem.out.println(a.equals(b));\n</code></pre>\n<p>This prints true.</p>\n<p>Let's now make our coloured arraylist implementation: <code>class ColoredList&lt;T&gt; extends ArrayList&lt;T&gt; { .. }</code>. Surely, a red empty list is no longer equal to a blue empty list right?</p>\n<p><strong>Nope</strong>, you'd be breaking rules if you do that!</p>\n<pre><code>List&lt;String&gt; a = new ArrayList&lt;String&gt;();\nList&lt;String&gt; b = new ColoredList&lt;String&gt;(Color.RED);\nList&lt;String&gt; c = new ColoredList&lt;String&gt;(Color.BLUE);\nSystem.out.println(a.equals(b));\nSystem.out.println(a.equals(c));\nSystem.out.println(b.equals(c));\n</code></pre>\n<p>That prints true/true/false which is <strong>invalid</strong>. The conclusion is that it is in fact <strong>impossible</strong> to make any list subclass that adds some semantically relevant information. The only subclasses that can exist are those which either actively break spec (bad idea), or whose additions have no impact on equality.</p>\n<p>There is a different view of things which says that you ought to be able to make such classes. Again we're struggling, just like with the JPA/Hibernate case, about what equals is even supposed to mean.</p>\n<p>A more common and far better default behaviour for your equals implementations is to simply state that any 2 objects can only be equal if they are of the exact same type: An instance of <code>Dog</code> cannot be equal to an instance of <code>Animal</code>.</p>\n<p>The only way to accomplish this, given that the rule <code>a.equals(b)</code>? Then <code>b.equals(a)</code> exists, is that animal checks the class of <code>that</code> and returns <code>false</code> if it isn't exactly <code>Animal</code>. In other words:</p>\n<pre><code>Animal a = new Animal(&quot;Betsy&quot;);\nCow c = new Cow(&quot;Betsy&quot;);\na.equals(c); // must return false!!\n</code></pre>\n<p>The <code>.getClass()</code> check accomplishes this.</p>\n<p>Lombok gives you the best of both worlds. It can't perform miracles, so it won't take away the rule that at the type level you need to choose extensibility, but lombok has the <code>canEqual</code> system to deal with this: The equals code of <code>Animal</code> will ask the <code>that</code> code if the two things can be equal. In this mode, if you have some non-semantically-different subclass of animal (such as <code>ArrayList</code>, which is a subclass of AbstractList and doesn't change the semantics at all, it just adds implementation details that have no bearing on equality), it can say that it can be equal, whereas if you have one that is semantically different, such as your coloured list, it can say that none are.</p>\n<p>In other words, going back to the coloured lists, <strong>IF</strong> ArrayList and co were written with lombok's canEqual system, this could have worked out, you could have had the results (where <code>a</code> is an arraylist, <code>b</code> is a red list, and <code>c</code> is a blur list):</p>\n<pre><code>a.equals(b); // false, even though same items\na.equals(c); // false, same reason.\nb.equals(c); // false and now it's not a conflict.\n</code></pre>\n<p>Lombok's default behaviour is that all subtypes add semantic load and therefore any X cannot be equal to any Y where Y is a subclass of X, but you can override this by writing out the <code>canEqual</code> method in <code>Y</code>. You would do that if you write a subclass that doesn't add semantic load.</p>\n<p>This isn't going to help you in the slightest with the problems above about hibernate.</p>\n<p>Who knew something as seemingly simple as equality is hiding 2 intractably difficult philosophical treatises, huh?</p>\n<p>For more info on canEqual, <a href=\"https://projectlombok.org/features/EqualsAndHashCode\" rel=\"noreferrer\">see lombok's <code>@EqualsAndHashCode</code> documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634821576,"creation_date":1634821576,"answer_id":69662565,"question_id":69661371,"body_markdown":"I&#39;m not trying to undermine ~rzwitserloot &#39;s excellent answer, just trying to help you figure out why it uses Hibernate.getClass(this) for you instead of this.getClass().\r\n\r\nIt doesn&#39;t do it for me, but I don&#39;t have Hibernate in my project anyway.\r\nThe code is generated using velocity macros as seen here:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe IntelliJ default uses a file &#39;equalsHelper.vm&#39;. I found a possible source of that file version at https://github.com/JetBrains/intellij-community/blob/master/java/java-impl/src/com/intellij/codeInsight/generation/equalsHelper.vm\r\n\r\nIt contains this:\r\n\r\n    #macro(addInstanceOfToText)\r\n      #if ($checkParameterWithInstanceof)\r\n      if(!($paramName instanceof $classname)) return false;\r\n      #else\r\n      if($paramName == null || getClass() != ${paramName}.getClass()) return false;\r\n      #end\r\n    #end\r\n\r\nSo apparently you have a different version of that file? Or you use a different template? Maybe some plugin changed it?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2idot.png","title":"Can someone please explain Intellij&#39;s default equals implementation?","body":"<p>I'm not trying to undermine ~rzwitserloot 's excellent answer, just trying to help you figure out why it uses Hibernate.getClass(this) for you instead of this.getClass().</p>\n<p>It doesn't do it for me, but I don't have Hibernate in my project anyway.\nThe code is generated using velocity macros as seen here:</p>\n<p><a href=\"https://i.stack.imgur.com/2idot.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2idot.png\" alt=\"enter image description here\" /></a></p>\n<p>The IntelliJ default uses a file 'equalsHelper.vm'. I found a possible source of that file version at <a href=\"https://github.com/JetBrains/intellij-community/blob/master/java/java-impl/src/com/intellij/codeInsight/generation/equalsHelper.vm\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/intellij-community/blob/master/java/java-impl/src/com/intellij/codeInsight/generation/equalsHelper.vm</a></p>\n<p>It contains this:</p>\n<pre><code>#macro(addInstanceOfToText)\n  #if ($checkParameterWithInstanceof)\n  if(!($paramName instanceof $classname)) return false;\n  #else\n  if($paramName == null || getClass() != ${paramName}.getClass()) return false;\n  #end\n#end\n</code></pre>\n<p>So apparently you have a different version of that file? Or you use a different template? Maybe some plugin changed it?</p>\n"}],"owner":{"account_id":23101289,"reputation":63,"user_id":17210671,"display_name":"ursokte"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1004,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":69661893,"answer_count":3,"score":6,"last_activity_date":1634821576,"creation_date":1634816541,"question_id":69661371,"body_markdown":"I get this suggestion from IntelliJ IDEA when using @Data annotation from lombok.\r\n\r\nThe class in question is an **@Entity**.\r\nCan someone explain:\r\n 1. what does it do exactly (especially the part with *Hibernate*) \r\n 2. Is this method preferred over comparing every field one-by-one? If yes, why? \r\n\r\n```\r\n    @Override\r\n\tpublic boolean equals(Object o) {\r\n\t\tif (this == o)\r\n\t\t\treturn true;\r\n\t\tif (o == null || Hibernate.getClass(this) != Hibernate.getClass(o))\r\n\t\t\treturn false;\r\n\t\tMyObject that = (MyObject ) o;\r\n\t\treturn id != null &amp;&amp; Objects.equals(id, that.id);\r\n\t}\r\n```\r\nThe project contains/uses Spring boot, Hibernate, Lombok.\r\n\r\n\r\nThank you","title":"Can someone please explain Intellij&#39;s default equals implementation?","body":"<p>I get this suggestion from IntelliJ IDEA when using @Data annotation from lombok.</p>\n<p>The class in question is an <strong>@Entity</strong>.\nCan someone explain:</p>\n<ol>\n<li>what does it do exactly (especially the part with <em>Hibernate</em>)</li>\n<li>Is this method preferred over comparing every field one-by-one? If yes, why?</li>\n</ol>\n<pre><code>    @Override\n    public boolean equals(Object o) {\n        if (this == o)\n            return true;\n        if (o == null || Hibernate.getClass(this) != Hibernate.getClass(o))\n            return false;\n        MyObject that = (MyObject ) o;\n        return id != null &amp;&amp; Objects.equals(id, that.id);\n    }\n</code></pre>\n<p>The project contains/uses Spring boot, Hibernate, Lombok.</p>\n<p>Thank you</p>\n"},{"tags":["java","kubernetes","jvm","kubernetes-pod","jcmd"],"comments":[{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1634580473,"post_id":69617239,"comment_id":123058246,"body_markdown":"See [this answer](https://stackoverflow.com/a/53974354/3448419). Also try [`jattach`](https://github.com/apangin/jattach) which provides the same functionality as `jcmd`, but with better container support.","body":"See <a href=\"https://stackoverflow.com/a/53974354/3448419\">this answer</a>. Also try <a href=\"https://github.com/apangin/jattach\" rel=\"nofollow noreferrer\"><code>jattach</code></a> which provides the same functionality as <code>jcmd</code>, but with better container support."}],"answers":[{"tags":[],"owner":{"account_id":8332272,"reputation":51,"user_id":6260320,"display_name":"Piotr Statuch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634820908,"creation_date":1634820908,"answer_id":69662389,"question_id":69617239,"body_markdown":"I think this can have something to do with linux capabilies: https://linux-audit.com/linux-capabilities-101/\r\n\r\nI would check which capabilies are available to sh/bash process started by 888 user, and compare those bash/sh started by root.\r\n","title":"Running jcmd in k8 pod, permission denied or unable to open socket file","body":"<p>I think this can have something to do with linux capabilies: <a href=\"https://linux-audit.com/linux-capabilities-101/\" rel=\"nofollow noreferrer\">https://linux-audit.com/linux-capabilities-101/</a></p>\n<p>I would check which capabilies are available to sh/bash process started by 888 user, and compare those bash/sh started by root.</p>\n"}],"owner":{"account_id":23067526,"reputation":19,"user_id":17181775,"display_name":"r4sk01"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":698,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634820908,"creation_date":1634564791,"question_id":69617239,"body_markdown":"For pod with java application there is security context:\r\n\r\n    spec:\r\n      securityContext:\r\n        runAsUser: 888\r\n        runAsGroup: 888\r\n        fsGroup: 888\r\n\r\nDeployment manifest:\r\n\r\n    apiVersion: apps/v1\r\n    kind: Deployment\r\n    metadata:\r\n      name: springboot-demo\r\n    spec:\r\n      replicas: 1\r\n      selector:\r\n        matchLabels:\r\n          app: springboot-demo\r\n      template:\r\n        metadata:\r\n          labels:\r\n            app: springboot-demo\r\n        spec:\r\n          securityContext:\r\n            runAsUser: 888\r\n            runAsGroup: 888\r\n          containers:\r\n            - name: springboot-demo\r\n              image: k8s.192.168.20.15.nip.io:5443/springboot-demo:8.0.0\r\n              resources:\r\n                limits:\r\n                  memory: &quot;1024Mi&quot;\r\n                  cpu: &quot;1000m&quot;\r\n              ports:\r\n                - containerPort: 9000\r\n    ---\r\n    apiVersion: v1\r\n    kind: Service\r\n    metadata:\r\n      name: springboot-demo\r\n    spec:\r\n      type: NodePort\r\n      selector:\r\n        app: springboot-demo\r\n      ports:\r\n        - port: 9000\r\n          targetPort: 9000\r\nIf I enter the container and run \r\n\r\n&gt; jcmd GC.heap_dump\r\n\r\n -&gt; permission denied\r\n[pic 1][1]\r\n\r\n\r\nIf I enter as a root and run \r\n\r\n&gt; jcmd GC.heap_dump\r\n\r\n -&gt; unable to open socket file /proc/1/root/tmp/.java_pid1 ...[pic2][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rxP05.png\r\n  [2]: https://i.stack.imgur.com/TEQJf.png\r\n\r\nIf I delete security context and run jcmd GC.heap_dump -&gt; it works ok. \r\n\r\nWhat could be the problem?","title":"Running jcmd in k8 pod, permission denied or unable to open socket file","body":"<p>For pod with java application there is security context:</p>\n<pre><code>spec:\n  securityContext:\n    runAsUser: 888\n    runAsGroup: 888\n    fsGroup: 888\n</code></pre>\n<p>Deployment manifest:</p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: springboot-demo\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: springboot-demo\n  template:\n    metadata:\n      labels:\n        app: springboot-demo\n    spec:\n      securityContext:\n        runAsUser: 888\n        runAsGroup: 888\n      containers:\n        - name: springboot-demo\n          image: k8s.192.168.20.15.nip.io:5443/springboot-demo:8.0.0\n          resources:\n            limits:\n              memory: &quot;1024Mi&quot;\n              cpu: &quot;1000m&quot;\n          ports:\n            - containerPort: 9000\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: springboot-demo\nspec:\n  type: NodePort\n  selector:\n    app: springboot-demo\n  ports:\n    - port: 9000\n      targetPort: 9000\n</code></pre>\n<p>If I enter the container and run</p>\n<blockquote>\n<p>jcmd GC.heap_dump</p>\n</blockquote>\n<p>-&gt; permission denied\n<a href=\"https://i.stack.imgur.com/rxP05.png\" rel=\"nofollow noreferrer\">pic 1</a></p>\n<p>If I enter as a root and run</p>\n<blockquote>\n<p>jcmd GC.heap_dump</p>\n</blockquote>\n<p>-&gt; unable to open socket file /proc/1/root/tmp/.java_pid1 ...<a href=\"https://i.stack.imgur.com/TEQJf.png\" rel=\"nofollow noreferrer\">pic2</a></p>\n<p>If I delete security context and run jcmd GC.heap_dump -&gt; it works ok.</p>\n<p>What could be the problem?</p>\n"},{"tags":["java","java-native-interface","native-methods","default-package"],"comments":[{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":1,"creation_date":1265214787,"post_id":2193226,"comment_id":2142437,"body_markdown":"I found this link: http://stackoverflow.com/questions/283816/how-to-access-java-classes-in-the-default-package after creating this questions.","body":"I found this link: <a href=\"http://stackoverflow.com/questions/283816/how-to-access-java-classes-in-the-default-package\" title=\"how to access java classes in the default package\">stackoverflow.com/questions/283816/&hellip;</a> after creating this questions."},{"owner":{"account_id":42117,"reputation":30319,"user_id":122607,"accept_rate":92,"display_name":"Pops"},"score":0,"creation_date":1321991276,"post_id":2193226,"comment_id":10125688,"body_markdown":"possible duplicate of [What&#39;s the syntax to import a class in a default package in Java?](http://stackoverflow.com/questions/2030148/whats-the-syntax-to-import-a-class-in-a-default-package-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2030148/whats-the-syntax-to-import-a-class-in-a-default-package-in-java\">What&#39;s the syntax to import a class in a default package in Java?</a>"},{"owner":{"account_id":1152709,"reputation":9229,"user_id":1134080,"accept_rate":68,"display_name":"ADTC"},"score":1,"creation_date":1436524619,"post_id":2193226,"comment_id":50661386,"body_markdown":"Of course, the important bit of this question is that the class **and** its code **has to be in the default package**. As of now, any answer other than to use reflection API *(really, an overkill for something this simple)* is **not** a solution. It&#39;s mind-boggling how Java tries to have its cake (discourage default package) and eat it too (make JNI so convoluted, most of us end up using DLLs that require default package).","body":"Of course, the important bit of this question is that the class <b>and</b> its code <b>has to be in the default package</b>. As of now, any answer other than to use reflection API <i>(really, an overkill for something this simple)</i> is <b>not</b> a solution. It&#39;s mind-boggling how Java tries to have its cake (discourage default package) and eat it too (make JNI so convoluted, most of us end up using DLLs that require default package)."},{"owner":{"account_id":194909,"reputation":4585,"user_id":437506,"accept_rate":47,"display_name":"Kedar Mhaswade"},"score":0,"creation_date":1454688088,"post_id":2193226,"comment_id":58171495,"body_markdown":"The reason seems historic, but it does sometimes bite. e.g.\n```\nT.java:\nimport static a.Foo.*;\nclass T {\n    Bar bar = new Bar();\n}\na/Foo.java: \npackage a;\npublic class Foo {\n    public static final class Bar {\n    }\n}\n```\nThe above compiles fine, however, if Foo is placed in default package, it does not work. Thus, I can&#39;t statically import Foo.* so as to use shorthand Bar instead of Foo.Bar.","body":"The reason seems historic, but it does sometimes bite. e.g. ``` T.java: import static a.Foo.*; class T {     Bar bar = new Bar(); } a/Foo.java:  package a; public class Foo {     public static final class Bar {     } } ``` The above compiles fine, however, if Foo is placed in default package, it does not work. Thus, I can&#39;t statically import Foo.* so as to use shorthand Bar instead of Foo.Bar."},{"owner":{"account_id":1023850,"reputation":37494,"user_id":1033581,"accept_rate":66,"display_name":"Cœur"},"score":0,"creation_date":1531228425,"post_id":2193226,"comment_id":89510403,"body_markdown":"Possible duplicate of [What&#39;s the syntax to import a class in a default package in Java?](https://stackoverflow.com/questions/2030148/whats-the-syntax-to-import-a-class-in-a-default-package-in-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/2030148/whats-the-syntax-to-import-a-class-in-a-default-package-in-java\">What&#39;s the syntax to import a class in a default package in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":30673,"reputation":1249,"user_id":83754,"accept_rate":71,"display_name":"Jon"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1460161337,"creation_date":1265212723,"answer_id":2193263,"question_id":2193226,"body_markdown":"Unfortunately, you can&#39;t import a class without it being in a package. This is one of the reasons it&#39;s highly discouraged. What I would try is a sort of proxy -- put your code into a package which anything can use, but if you really need something in the default package, make that a very simple class which forwards calls to the class with the real code. Or, even simpler, just have it extend.\r\n\r\nTo give an example:\r\n&lt;pre&gt;&lt;code&gt;import my.packaged.DefaultClass;\r\n\r\npublic class MyDefaultClass extends DefaultClass {}&lt;/code&gt;&lt;/pre&gt;\r\n&lt;pre&gt;&lt;code&gt;package my.packaged.DefaultClass;\r\n\r\npublic class DefaultClass {\r\n\r\n   // Code here\r\n\r\n}&lt;/code&gt;&lt;/pre&gt;","title":"How to import a class from default package","body":"<p>Unfortunately, you can't import a class without it being in a package. This is one of the reasons it's highly discouraged. What I would try is a sort of proxy -- put your code into a package which anything can use, but if you really need something in the default package, make that a very simple class which forwards calls to the class with the real code. Or, even simpler, just have it extend.</p>\n\n<p>To give an example:</p>\n\n<pre><code>import my.packaged.DefaultClass;\n\npublic class MyDefaultClass extends DefaultClass {}</code></pre>\n\n<pre><code>package my.packaged.DefaultClass;\n\npublic class DefaultClass {\n\n   // Code here\n\n}</code></pre>\n"},{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"down_vote_count":2,"up_vote_count":61,"is_accepted":false,"score":59,"last_activity_date":1265212795,"creation_date":1265212795,"answer_id":2193273,"question_id":2193226,"body_markdown":"Classes in the default package cannot be imported by classes in packages. This is why you should not use the default package.","title":"How to import a class from default package","body":"<p>Classes in the default package cannot be imported by classes in packages. This is why you should not use the default package.</p>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":94,"is_accepted":true,"score":94,"last_activity_date":1265212925,"creation_date":1265212925,"answer_id":2193298,"question_id":2193226,"body_markdown":"From the [Java language spec][1]:\r\n\r\n&gt; It is a compile time error to import a type from the unnamed package.\r\n\r\nYou&#39;ll have to access the class via reflection or some other indirect method.\r\n\r\n  [1]: http://java.sun.com/docs/books/jls/third_edition/html/packages.html#7.5","title":"How to import a class from default package","body":"<p>From the <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/packages.html#7.5\" rel=\"noreferrer\">Java language spec</a>:</p>\n\n<blockquote>\n  <p>It is a compile time error to import a type from the unnamed package.</p>\n</blockquote>\n\n<p>You'll have to access the class via reflection or some other indirect method.</p>\n"},{"tags":[],"owner":{"account_id":599395,"reputation":79,"user_id":293331,"display_name":"Harshal Malshe"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1268560923,"creation_date":1268560923,"answer_id":2441778,"question_id":2193226,"body_markdown":"I can give you this suggestion,\r\nAs far as know from my C and C++ Programming experience,\r\nOnce, when I had the same kinda problem, I solved it by changing the dll written structure in &quot;.C&quot; File by changing the name of the function which implemented the JNI native functionality.\r\n for example, If you would like to add your program in the package &quot;com.mypackage&quot;,\r\nYou change the prototype of the JNI implementing &quot;.C&quot; File&#39;s function/method to this one:     \r\n\r\n    JNIEXPORT jint JNICALL\r\n    Java_com_mypackage_Calculations_Calculate(JNIEnv *env, jobject obj, jint contextId)\r\n    {\r\n       //code goes here\r\n    }\r\n    \r\n    JNIEXPORT jdouble JNICALL\r\n    Java_com_mypackage_Calculations_GetProgress(JNIEnv *env, jobject obj, jint contextId)\r\n    {\r\n      //code goes here\r\n    }\r\nSince I am new to delphi, I can not guarantee you but will say this finally, (I learned few things after googling about Delphi and JNI):\r\nAsk those people (If you are not the one) who provided the Delphi implementation of the native code to change the function names to something like this:\r\n\r\n    function Java_com_mypackage_Calculations_Calculate(PEnv: PJNIEnv; Obj: JObject; contextId: JInt):JInt; {$IFDEF WIN32} stdcall; {$ENDIF} {$IFDEF LINUX} cdecl; {$ENDIF}\r\n    var\r\n    //Any variables you might be interested in\r\n    begin\r\n      //Some code goes here\r\n    end;\r\n\r\n   \r\n\r\n    function Java_com_mypackage_Calculations_GetProgress(PEnv: PJNIEnv; Obj: JObject; contextId: JInt):JDouble; {$IFDEF WIN32} stdcall; {$ENDIF} {$IFDEF LINUX} cdecl; {$ENDIF}\r\n    var\r\n    //Any variables you might be interested in\r\n    begin\r\n    //Some code goes here\r\n    end;\r\n\r\nBut, A final advice: Although you (If you are the delphi programmer) or them will change the prototypes of these functions and recompile the dll file, once the dll file is compiled, you will not be able to change the package name of your &quot;Java&quot; file again &amp; again.\r\nBecause, this will again require you or them to change the prototypes of the functions in delphi with changed prefixes (e.g. JAVA_yourpackage_with_underscores_for_inner_packages_JavaFileName_MethodName)\r\n\r\nI think this solves the problem.\r\nThanks and regards,\r\nHarshal Malshe","title":"How to import a class from default package","body":"<p>I can give you this suggestion,\nAs far as know from my C and C++ Programming experience,\nOnce, when I had the same kinda problem, I solved it by changing the dll written structure in \".C\" File by changing the name of the function which implemented the JNI native functionality.\n for example, If you would like to add your program in the package \"com.mypackage\",\nYou change the prototype of the JNI implementing \".C\" File's function/method to this one:     </p>\n\n<pre><code>JNIEXPORT jint JNICALL\nJava_com_mypackage_Calculations_Calculate(JNIEnv *env, jobject obj, jint contextId)\n{\n   //code goes here\n}\n\nJNIEXPORT jdouble JNICALL\nJava_com_mypackage_Calculations_GetProgress(JNIEnv *env, jobject obj, jint contextId)\n{\n  //code goes here\n}\n</code></pre>\n\n<p>Since I am new to delphi, I can not guarantee you but will say this finally, (I learned few things after googling about Delphi and JNI):\nAsk those people (If you are not the one) who provided the Delphi implementation of the native code to change the function names to something like this:</p>\n\n<pre><code>function Java_com_mypackage_Calculations_Calculate(PEnv: PJNIEnv; Obj: JObject; contextId: JInt):JInt; {$IFDEF WIN32} stdcall; {$ENDIF} {$IFDEF LINUX} cdecl; {$ENDIF}\nvar\n//Any variables you might be interested in\nbegin\n  //Some code goes here\nend;\n\n\n\nfunction Java_com_mypackage_Calculations_GetProgress(PEnv: PJNIEnv; Obj: JObject; contextId: JInt):JDouble; {$IFDEF WIN32} stdcall; {$ENDIF} {$IFDEF LINUX} cdecl; {$ENDIF}\nvar\n//Any variables you might be interested in\nbegin\n//Some code goes here\nend;\n</code></pre>\n\n<p>But, A final advice: Although you (If you are the delphi programmer) or them will change the prototypes of these functions and recompile the dll file, once the dll file is compiled, you will not be able to change the package name of your \"Java\" file again &amp; again.\nBecause, this will again require you or them to change the prototypes of the functions in delphi with changed prefixes (e.g. JAVA_yourpackage_with_underscores_for_inner_packages_JavaFileName_MethodName)</p>\n\n<p>I think this solves the problem.\nThanks and regards,\nHarshal Malshe</p>\n"},{"tags":[],"owner":{"account_id":2887650,"reputation":1345,"user_id":2477107,"accept_rate":33,"display_name":"Adnan Ghaffar"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1460161452,"creation_date":1397044883,"answer_id":22961884,"question_id":2193226,"body_markdown":"From some where I found below :- \r\n\r\nIn fact, you can.\r\n\r\nUsing reflections API you can access any class so far. At least I was able to :)\r\n\r\n    Class fooClass = Class.forName(&quot;FooBar&quot;);\r\n    Method fooMethod =\r\n        fooClass.getMethod(&quot;fooMethod&quot;, new Class[] { String.class });\r\n\r\n    String fooReturned =\r\n        (String) fooMethod.invoke(fooClass.newInstance(), &quot;I did it&quot;);","title":"How to import a class from default package","body":"<p>From some where I found below :- </p>\n\n<p>In fact, you can.</p>\n\n<p>Using reflections API you can access any class so far. At least I was able to :)</p>\n\n<pre><code>Class fooClass = Class.forName(\"FooBar\");\nMethod fooMethod =\n    fooClass.getMethod(\"fooMethod\", new Class[] { String.class });\n\nString fooReturned =\n    (String) fooMethod.invoke(fooClass.newInstance(), \"I did it\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2376705,"reputation":37064,"user_id":2079831,"accept_rate":100,"display_name":"Andrew"},"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1463994819,"creation_date":1399892308,"answer_id":23607158,"question_id":2193226,"body_markdown":"1. Create &quot;root&quot; package (folder) in your project, for example.\r\n\r\n    package source; (.../path_to_project/source/)\r\n\r\n\r\n2. Move YourClass.class into a source folder. (.../path_to_project/source/YourClass.class)\r\n\r\n3. Import like this\r\n\r\n    import source.YourClass;","title":"How to import a class from default package","body":"<ol>\n<li><p>Create \"root\" package (folder) in your project, for example.</p>\n\n<p>package source; (.../path_to_project/source/)</p></li>\n<li><p>Move YourClass.class into a source folder. (.../path_to_project/source/YourClass.class)</p></li>\n<li><p>Import like this</p>\n\n<p>import source.YourClass;</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6282195,"reputation":11,"user_id":4882789,"display_name":"Evgueni"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1431198723,"creation_date":1431197695,"answer_id":30143819,"question_id":2193226,"body_markdown":"1. Create a new package.\r\n2. Move your files from the default package to the new one.","title":"How to import a class from default package","body":"<ol>\n<li>Create a new package.</li>\n<li>Move your files from the default package to the new one.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":341403,"reputation":2416,"user_id":671988,"accept_rate":57,"display_name":"Mohammad Banisaeid"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1634820836,"creation_date":1475141902,"answer_id":39766756,"question_id":2193226,"body_markdown":"There is a workaround for your problem. You can use reflection to achieve it.\r\n\r\nFirst, **create an interface** for your target class `Calculatons` :\r\n\r\n    package mypackage;\r\n    \r\n    public interface CalculationsInterface {  \r\n        int Calculate(int contextId);  \r\n        double GetProgress(int contextId);  \r\n\r\n    }\r\n\r\nNext, make your target class **implement that interface**:\r\n\r\n    public class Calculations implements mypackage.CalculationsInterface {\r\n        @Override\r\n        native public int Calculate(int contextId);\r\n        @Override\r\n        native public double GetProgress(int contextId);\r\n        static  {\r\n            System.loadLibrary(&quot;Calc&quot;);\r\n        }\r\n    }\r\n\r\n\r\n\r\nFinally, **use reflection** to create an instance of `Calculations` class and assign it to a variable of type `CalculationsInterface` :\r\n\r\n    Class&lt;?&gt; calcClass = Class.forName(&quot;Calculations&quot;);\r\n    CalculationsInterface api = (CalculationsInterface)calcClass.newInstance();\r\n    // Use it \r\n    double res = api.GetProgress(10);\r\n\r\n","title":"How to import a class from default package","body":"<p>There is a workaround for your problem. You can use reflection to achieve it.</p>\n<p>First, <strong>create an interface</strong> for your target class <code>Calculatons</code> :</p>\n<pre><code>package mypackage;\n\npublic interface CalculationsInterface {  \n    int Calculate(int contextId);  \n    double GetProgress(int contextId);  \n\n}\n</code></pre>\n<p>Next, make your target class <strong>implement that interface</strong>:</p>\n<pre><code>public class Calculations implements mypackage.CalculationsInterface {\n    @Override\n    native public int Calculate(int contextId);\n    @Override\n    native public double GetProgress(int contextId);\n    static  {\n        System.loadLibrary(&quot;Calc&quot;);\n    }\n}\n</code></pre>\n<p>Finally, <strong>use reflection</strong> to create an instance of <code>Calculations</code> class and assign it to a variable of type <code>CalculationsInterface</code> :</p>\n<pre><code>Class&lt;?&gt; calcClass = Class.forName(&quot;Calculations&quot;);\nCalculationsInterface api = (CalculationsInterface)calcClass.newInstance();\n// Use it \ndouble res = api.GetProgress(10);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13265637,"reputation":19,"user_id":9578570,"display_name":"Khushboo Kashyap"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1522497847,"creation_date":1522497847,"answer_id":49587516,"question_id":2193226,"body_markdown":"Create a new package \r\nAnd then move the classes of default package in new package and use those classes","title":"How to import a class from default package","body":"<p>Create a new package \nAnd then move the classes of default package in new package and use those classes</p>\n"}],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162374,"favorite_count":0,"down_vote_count":0,"up_vote_count":107,"accepted_answer_id":2193298,"answer_count":9,"score":107,"last_activity_date":1634820836,"creation_date":1265212466,"question_id":2193226,"body_markdown":"&gt; Possible Duplicate: [How to access java-classes in the default-package?][1]\r\n\r\n----------\r\n\r\nI am using Eclipse 3.5 and I have created a project with some package structure along with the default package. I have one class in default package - **Calculations.java** and I want to make the use of that class in any of the package (for instance in `com.company.calc`). When I try to make the use of the class which is in the default package, it&#39;s giving me a compiler error. It&#39;s not able to recognise the class in default package. Where is the problem?\r\n\r\nCalculations.java - source code\r\n\r\n    public class Calculations {\r\n\t    native public int Calculate(int contextId);\r\n    \tnative public double GetProgress(int contextId);\r\n  \t    static  {\r\n            System.loadLibrary(&quot;Calc&quot;);\r\n  \t    }\r\n    }\r\n\r\nI can&#39;t put my class in any other package. This class has some native methods which are implemented in Delphi. If I put that class in any of the folders, I will have to make changes to that DLL which I want to avoid (really - I can not). That&#39;s why I put my class in the default package.\r\n\r\n  [1]: https://stackoverflow.com/questions/283816/how-to-access-java-classes-in-the-default-package","title":"How to import a class from default package","body":"<blockquote>\n  <p>Possible Duplicate: <a href=\"https://stackoverflow.com/questions/283816/how-to-access-java-classes-in-the-default-package\">How to access java-classes in the default-package?</a></p>\n</blockquote>\n\n<hr>\n\n<p>I am using Eclipse 3.5 and I have created a project with some package structure along with the default package. I have one class in default package - <strong>Calculations.java</strong> and I want to make the use of that class in any of the package (for instance in <code>com.company.calc</code>). When I try to make the use of the class which is in the default package, it's giving me a compiler error. It's not able to recognise the class in default package. Where is the problem?</p>\n\n<p>Calculations.java - source code</p>\n\n<pre><code>public class Calculations {\n    native public int Calculate(int contextId);\n    native public double GetProgress(int contextId);\n    static  {\n        System.loadLibrary(\"Calc\");\n    }\n}\n</code></pre>\n\n<p>I can't put my class in any other package. This class has some native methods which are implemented in Delphi. If I put that class in any of the folders, I will have to make changes to that DLL which I want to avoid (really - I can not). That's why I put my class in the default package.</p>\n"},{"tags":["java","hibernate","annotations","primary-key"],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1398174223,"creation_date":1398174223,"answer_id":23221371,"question_id":23221096,"body_markdown":"Since the `roleName` is not auto-generated, you should simply not annotate it with `@GeneratedValue`:\r\n\r\n    @Id\r\n    @Column(name = &quot;ROLE_NAME&quot;, nullable = false)\r\n    private String roleName;","title":"Hibernate String Primary Key with Annotation","body":"<p>Since the <code>roleName</code> is not auto-generated, you should simply not annotate it with <code>@GeneratedValue</code>:</p>\n\n<pre><code>@Id\n@Column(name = \"ROLE_NAME\", nullable = false)\nprivate String roleName;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1367548,"reputation":3154,"user_id":1303680,"accept_rate":47,"display_name":"Pratik Shelar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1427677547,"creation_date":1398174316,"answer_id":23221404,"question_id":23221096,"body_markdown":"Just use the `@Id` annotation which lets you define which property is the identifier of your entity. You don&#39;t need to use the `@GeneratedValue` annotation because I don&#39;t think you want hibernate to generate this property for you.\r\n\r\n\r\nEven in the XML configuration based approach its an optional tag and can be skipped.\r\n&lt;!----&gt;","title":"Hibernate String Primary Key with Annotation","body":"<p>Just use the <code>@Id</code> annotation which lets you define which property is the identifier of your entity. You don't need to use the <code>@GeneratedValue</code> annotation because I don't think you want hibernate to generate this property for you.</p>\n\n<p>Even in the XML configuration based approach its an optional tag and can be skipped.\n</p>\n"},{"tags":[],"owner":{"account_id":1443843,"reputation":909,"user_id":1363092,"accept_rate":60,"display_name":"Gopi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1445432146,"creation_date":1445432146,"answer_id":33259927,"question_id":23221096,"body_markdown":"    @Id\r\n\t@Column(name = &quot;USER_ID&quot;,unique=true,columnDefinition=&quot;VARCHAR(64)&quot;)\r\n\tprivate String userId;\r\n\r\nThis worked for me by representing the columnDefinition type with column annotation during the save or update.","title":"Hibernate String Primary Key with Annotation","body":"<pre><code>@Id\n@Column(name = \"USER_ID\",unique=true,columnDefinition=\"VARCHAR(64)\")\nprivate String userId;\n</code></pre>\n\n<p>This worked for me by representing the columnDefinition type with column annotation during the save or update.</p>\n"},{"tags":[],"owner":{"account_id":15483397,"reputation":79,"user_id":11170048,"display_name":"Dilusha Amarasekara"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634820766,"creation_date":1634820766,"answer_id":69662351,"question_id":23221096,"body_markdown":"\r\nyou can enter this way, suppose position is primary key of that Salary entity,\r\n    \r\n    @Id\r\n    @Column (name = &quot;POSITION&quot;, nullable = false)\r\n    private String position;\r\n\r\nthen, it will work","title":"Hibernate String Primary Key with Annotation","body":"<p>you can enter this way, suppose position is primary key of that Salary entity,</p>\n<pre><code>@Id\n@Column (name = &quot;POSITION&quot;, nullable = false)\nprivate String position;\n</code></pre>\n<p>then, it will work</p>\n"}],"owner":{"account_id":307137,"reputation":3536,"user_id":618279,"accept_rate":76,"display_name":"sedran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43252,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":23221371,"answer_count":4,"score":11,"last_activity_date":1634820766,"creation_date":1398173429,"question_id":23221096,"body_markdown":"I am trying to create a Privilege class with Annotations whose Primary Key is a String. I will assign them manually while inserting. Therefore no need for hibernate to generate a value for it. I&#39;m trying to do something like that:\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;assigned&quot;)\r\n    @Column(name = &quot;ROLE_NAME&quot;, nullable = false)\r\n    private String roleName;\r\n\r\nBut it throws that exception:\r\n\r\n    Caused by: org.hibernate.AnnotationException: Unknown Id.generator: assigned\r\n\r\nHow can I configure a `String` primary key with annotations?","title":"Hibernate String Primary Key with Annotation","body":"<p>I am trying to create a Privilege class with Annotations whose Primary Key is a String. I will assign them manually while inserting. Therefore no need for hibernate to generate a value for it. I'm trying to do something like that:</p>\n\n<pre><code>@Id\n@GeneratedValue(generator = \"assigned\")\n@Column(name = \"ROLE_NAME\", nullable = false)\nprivate String roleName;\n</code></pre>\n\n<p>But it throws that exception:</p>\n\n<pre><code>Caused by: org.hibernate.AnnotationException: Unknown Id.generator: assigned\n</code></pre>\n\n<p>How can I configure a <code>String</code> primary key with annotations?</p>\n"},{"tags":["java","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634819778,"creation_date":1634819778,"answer_id":69662097,"question_id":69661370,"body_markdown":"In your first version, `@Controller(&quot;home&quot;)` all it does is set `home` as the `Home` bean name, nothing else. The important thing is `@RequestMapping(&quot;/showHome&quot;)`. With this, you are saying that your `showHome()` method will be available at `http://localhost:8080/E-CommerceFinal-1.0-SNAPSHOT/showHome`.\r\n\r\nIn your second version, you are using `@RequestMapping(&quot;/&quot;)` which sets no additional path and that is why `http://localhost:8080/E-CommerceFinal-1.0-SNAPSHOT/` works.","title":"Spring controller doesn&#39;t work with mapping","body":"<p>In your first version, <code>@Controller(&quot;home&quot;)</code> all it does is set <code>home</code> as the <code>Home</code> bean name, nothing else. The important thing is <code>@RequestMapping(&quot;/showHome&quot;)</code>. With this, you are saying that your <code>showHome()</code> method will be available at <code>http://localhost:8080/E-CommerceFinal-1.0-SNAPSHOT/showHome</code>.</p>\n<p>In your second version, you are using <code>@RequestMapping(&quot;/&quot;)</code> which sets no additional path and that is why <code>http://localhost:8080/E-CommerceFinal-1.0-SNAPSHOT/</code> works.</p>\n"},{"tags":[],"owner":{"account_id":7763161,"reputation":313,"user_id":5875230,"display_name":"Pickled Brain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634820186,"creation_date":1634820186,"answer_id":69662201,"question_id":69661370,"body_markdown":"If you are trying to set the path for ALL of the endpoints to begin with &quot;home&quot; you would need \r\n```\r\n@Controller\r\n@RequestMapping(&quot;/home&quot;)\r\npublic class Home {\r\n @RequestMapping(&quot;/showHome&quot;)\r\n    public String showHome(){\r\n        return &quot;index&quot;;\r\n    }\r\n...\r\n @RequestMapping(&quot;/someOtherEndpoint&quot;)\r\n    public String someOtherEndpoint(){\r\n}\r\n\r\n}\r\n```\r\n\r\nThe above would be available at http://localhost:8080/E-CommerceFinal-1.0-SNAPSHOT/home/showHome and  http://localhost:8080/E-CommerceFinal-1.0-SNAPSHOT/home/someOtherEndpoint\r\n\r\nOtherwise, as someone mentioned, you&#39;re just setting the name of the bean itself, and then using the &quot;/&quot; path that you declared on the showHome endpoint.\r\n\r\n","title":"Spring controller doesn&#39;t work with mapping","body":"<p>If you are trying to set the path for ALL of the endpoints to begin with &quot;home&quot; you would need</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/home&quot;)\npublic class Home {\n @RequestMapping(&quot;/showHome&quot;)\n    public String showHome(){\n        return &quot;index&quot;;\n    }\n...\n @RequestMapping(&quot;/someOtherEndpoint&quot;)\n    public String someOtherEndpoint(){\n}\n\n}\n</code></pre>\n<p>The above would be available at http://localhost:8080/E-CommerceFinal-1.0-SNAPSHOT/home/showHome and  http://localhost:8080/E-CommerceFinal-1.0-SNAPSHOT/home/someOtherEndpoint</p>\n<p>Otherwise, as someone mentioned, you're just setting the name of the bean itself, and then using the &quot;/&quot; path that you declared on the showHome endpoint.</p>\n"}],"owner":{"account_id":21006623,"reputation":95,"user_id":15436270,"display_name":"Stefan Jankovic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1634820644,"creation_date":1634816537,"question_id":69661370,"body_markdown":"I&#39;m trying to run a simple Spring application but it&#39;s impossible.\r\n\r\nI have this controller:\r\n```java\r\n@Controller(&quot;home&quot;)\r\npublic class Home {\r\n\r\n    @RequestMapping(&quot;/showHome&quot;)\r\n    public String showHome(){\r\n        return &quot;index&quot;;\r\n    }\r\n}\r\n```\r\n\r\nThis is `ViewResolver`:\r\n```java\r\n@Bean\r\npublic ViewResolver viewResolver() {\r\n   InternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\r\n   viewResolver.setPrefix(&quot;/WEB-INF/view/&quot;);\r\n   viewResolver.setSuffix(&quot;.jsp&quot;);\r\n\r\n   return viewResolver;\r\n}\r\n```\r\n\r\nWhen I run this program like that I&#39;m getting `404 not found` and URL is: `http://localhost:8080/E-CommerceFinal-1.0-SNAPSHOT/`\r\n\r\nBut, when I change my controller class and method like this:\r\n```java\r\n@Controller\r\npublic class Home {\r\n\r\n   @RequestMapping(&quot;/&quot;)\r\n   public String showHome(){\r\n       return &quot;index&quot;;\r\n   }\r\n}\r\n```\r\n\r\nMy index page works.","title":"Spring controller doesn&#39;t work with mapping","body":"<p>I'm trying to run a simple Spring application but it's impossible.</p>\n<p>I have this controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller(&quot;home&quot;)\npublic class Home {\n\n    @RequestMapping(&quot;/showHome&quot;)\n    public String showHome(){\n        return &quot;index&quot;;\n    }\n}\n</code></pre>\n<p>This is <code>ViewResolver</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ViewResolver viewResolver() {\n   InternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\n   viewResolver.setPrefix(&quot;/WEB-INF/view/&quot;);\n   viewResolver.setSuffix(&quot;.jsp&quot;);\n\n   return viewResolver;\n}\n</code></pre>\n<p>When I run this program like that I'm getting <code>404 not found</code> and URL is: <code>http://localhost:8080/E-CommerceFinal-1.0-SNAPSHOT/</code></p>\n<p>But, when I change my controller class and method like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class Home {\n\n   @RequestMapping(&quot;/&quot;)\n   public String showHome(){\n       return &quot;index&quot;;\n   }\n}\n</code></pre>\n<p>My index page works.</p>\n"},{"tags":["java","encoding","apache-axis","encode"],"comments":[{"owner":{"display_name":"user1907906"},"score":3,"creation_date":1384787398,"post_id":20051001,"comment_id":29863793,"body_markdown":"&quot;I should encode them so that run in my json web service.&quot; What do you mean by that? What is the actual problem you are trying to solve?","body":"&quot;I should encode them so that run in my json web service.&quot; What do you mean by that? What is the actual problem you are trying to solve?"},{"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1384787756,"post_id":20051001,"comment_id":29864057,"body_markdown":"I agree with LutzHorn. It doesn&#39;t make sense to encode HTML data in a JSON string since it&#39;s already encoded enough to survive the transport. Encoding it in base64 is futile.","body":"I agree with LutzHorn. It doesn&#39;t make sense to encode HTML data in a JSON string since it&#39;s already encoded enough to survive the transport. Encoding it in base64 is futile."},{"owner":{"account_id":3558883,"reputation":1652,"user_id":2971851,"accept_rate":100,"display_name":"Steven Chou"},"score":0,"creation_date":1384787892,"post_id":20051001,"comment_id":29864177,"body_markdown":"the data one for web, generate by html editor,it&#39;s full of html tag.but the data alse provide to mobile app, but it&#39;s not support html tag","body":"the data one for web, generate by html editor,it&#39;s full of html tag.but the data alse provide to mobile app, but it&#39;s not support html tag"}],"answers":[{"tags":[],"owner":{"account_id":49683,"reputation":9264,"user_id":148059,"display_name":"atk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1384791944,"creation_date":1384791944,"answer_id":20052701,"question_id":20051001,"body_markdown":"JSON is JavaScript, so you probably want to escape them appropriately for JavaScript.  JavaScript escapes characters with \\nn where &#39;nn&#39; is the hexadecimal value of the character.\r\n\r\nIn your example, the encoding would be\r\n\r\n    \\60p\\62test\\60\\47p\\62\\13\\10\\13\\10","title":"Any other encode like base64?","body":"<p>JSON is JavaScript, so you probably want to escape them appropriately for JavaScript.  JavaScript escapes characters with \\nn where 'nn' is the hexadecimal value of the character.</p>\n\n<p>In your example, the encoding would be</p>\n\n<pre><code>\\60p\\62test\\60\\47p\\62\\13\\10\\13\\10\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15238304,"reputation":66,"user_id":13822943,"display_name":"11_22_33"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634820339,"creation_date":1634811888,"answer_id":69660209,"question_id":20051001,"body_markdown":"XXE, UUE, binhex, Base32, Base85, Ascii85\r\n\r\nhttps://cryptii.com/pipes/ascii85-encoding","title":"Any other encode like base64?","body":"<p>XXE, UUE, binhex, Base32, Base85, Ascii85</p>\n<p><a href=\"https://cryptii.com/pipes/ascii85-encoding\" rel=\"nofollow noreferrer\">https://cryptii.com/pipes/ascii85-encoding</a></p>\n"}],"owner":{"account_id":3558883,"reputation":1652,"user_id":2971851,"accept_rate":100,"display_name":"Steven Chou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2425,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":20052701,"answer_count":2,"score":1,"last_activity_date":1634820339,"creation_date":1384787126,"question_id":20051001,"body_markdown":"Are there some encode algorithm like base64?\r\n\r\nI have some `String` that include HTML tag,\r\nI should encode them so that run in my JSON Web service.\r\nthe html String like\r\n\r\n    &lt;p&gt;test&lt;/p&gt;\\r\\n\\r\\n\r\nseems not proper for json\r\n\r\nI&#39;m try the Java base64 encode my `String`, it&#39;s run.\r\nBut when I deploy at my machine (axis 2 web service), the encoded String changed...\r\n(it&#39;s run well at eclipse, both of them use axis 2)\r\n\r\nI&#39;m trying to debug, but have a little of success.\r\n\r\nAre there some encode algorithms like base64?\r\n\r\nThanks!","title":"Any other encode like base64?","body":"<p>Are there some encode algorithm like base64?</p>\n\n<p>I have some <code>String</code> that include HTML tag,\nI should encode them so that run in my JSON Web service.\nthe html String like</p>\n\n<pre><code>&lt;p&gt;test&lt;/p&gt;\\r\\n\\r\\n\n</code></pre>\n\n<p>seems not proper for json</p>\n\n<p>I'm try the Java base64 encode my <code>String</code>, it's run.\nBut when I deploy at my machine (axis 2 web service), the encoded String changed...\n(it's run well at eclipse, both of them use axis 2)</p>\n\n<p>I'm trying to debug, but have a little of success.</p>\n\n<p>Are there some encode algorithms like base64?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","button","javafx","fxml"],"comments":[{"owner":{"account_id":4064266,"reputation":1553,"user_id":3339818,"display_name":"surajs1n"},"score":0,"creation_date":1460445861,"post_id":36566197,"comment_id":60732128,"body_markdown":"Where is your code? Can we see it?","body":"Where is your code? Can we see it?"},{"owner":{"account_id":8117628,"reputation":167,"user_id":6115599,"accept_rate":78,"display_name":"Terra Incognita"},"score":0,"creation_date":1460446007,"post_id":36566197,"comment_id":60732225,"body_markdown":"No special code, just 1 button in scene and one empty fxml file","body":"No special code, just 1 button in scene and one empty fxml file"},{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":0,"creation_date":1460452419,"post_id":36566197,"comment_id":60736518,"body_markdown":"What do you mean with *&quot;direct on this button&quot;*? Hover? Click? Change the color once it&#39;s clicked?","body":"What do you mean with <i>&quot;direct on this button&quot;</i>? Hover? Click? Change the color once it&#39;s clicked?"}],"answers":[{"tags":[],"owner":{"account_id":7899184,"reputation":21451,"user_id":5966775,"display_name":"DVarga"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1489996585,"creation_date":1460446173,"answer_id":36566444,"question_id":36566197,"body_markdown":"In JavaFX styling is done by using CSS.      \r\n\r\n    .button{\r\n        -fx-border-color: transparent;\r\n        -fx-border-width: 0;\r\n        -fx-background-radius: 0;\r\n        -fx-background-color: transparent;\r\n        -fx-font-family:&quot;Segoe UI&quot;, Helvetica, Arial, sans-serif;\r\n        -fx-font-size: 1em; /* 12 */\r\n        -fx-text-fill: #828282;\r\n    }\r\n    \r\n    .button:focused {\r\n        -fx-border-color: transparent, black;\r\n        -fx-border-width: 1, 1;\r\n        -fx-border-style: solid, segments(1, 2);\r\n        -fx-border-radius: 0, 0;\r\n        -fx-border-insets: 1 1 1 1, 0;\r\n    }\r\n    \r\n    .button:pressed {\r\n        -fx-background-color: black;\r\n        -fx-text-fill: white;\r\n    }\r\n\r\nAdd this code to a CSS file, save it to the directory where the source file of the control exists which contains you buttons. Then in this class:\r\n\r\n    getStylesheets().add(getClass().getResource(&quot;nameofyourcssfile.css&quot;).toExternalForm());\r\n\r\nThen all of the buttons that that object contain will use this style-classes.\r\n\r\nModification on your need is straightforward.\r\n\r\nGood tutorial to start:\r\nhttp://docs.oracle.com/javafx/2/css_tutorial/jfxpub-css_tutorial.htm","title":"JavaFX Button with transparent background","body":"<p>In JavaFX styling is done by using CSS.      </p>\n\n<pre><code>.button{\n    -fx-border-color: transparent;\n    -fx-border-width: 0;\n    -fx-background-radius: 0;\n    -fx-background-color: transparent;\n    -fx-font-family:\"Segoe UI\", Helvetica, Arial, sans-serif;\n    -fx-font-size: 1em; /* 12 */\n    -fx-text-fill: #828282;\n}\n\n.button:focused {\n    -fx-border-color: transparent, black;\n    -fx-border-width: 1, 1;\n    -fx-border-style: solid, segments(1, 2);\n    -fx-border-radius: 0, 0;\n    -fx-border-insets: 1 1 1 1, 0;\n}\n\n.button:pressed {\n    -fx-background-color: black;\n    -fx-text-fill: white;\n}\n</code></pre>\n\n<p>Add this code to a CSS file, save it to the directory where the source file of the control exists which contains you buttons. Then in this class:</p>\n\n<pre><code>getStylesheets().add(getClass().getResource(\"nameofyourcssfile.css\").toExternalForm());\n</code></pre>\n\n<p>Then all of the buttons that that object contain will use this style-classes.</p>\n\n<p>Modification on your need is straightforward.</p>\n\n<p>Good tutorial to start:\n<a href=\"http://docs.oracle.com/javafx/2/css_tutorial/jfxpub-css_tutorial.htm\" rel=\"noreferrer\">http://docs.oracle.com/javafx/2/css_tutorial/jfxpub-css_tutorial.htm</a></p>\n"},{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1460456396,"creation_date":1460456396,"answer_id":36570366,"question_id":36566197,"body_markdown":"JavaFX has a [`Hyperlink` control](http://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/Hyperlink.html) which basically has all the functionality you are looking for. It fires `ActionEvent`s in the same way as a button:\r\n\r\n    Hyperlink button = new Hyperlink(&quot;Some text&quot;);\r\n    button.setOnAction(e -&gt; System.out.println(&quot;Hyperlink clicked&quot;));\r\n\r\nLike a link in a web page, it will appear in a different color if it has been &quot;visited&quot;, i.e. if an action has been fired on it.","title":"JavaFX Button with transparent background","body":"<p>JavaFX has a <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/Hyperlink.html\" rel=\"noreferrer\"><code>Hyperlink</code> control</a> which basically has all the functionality you are looking for. It fires <code>ActionEvent</code>s in the same way as a button:</p>\n\n<pre><code>Hyperlink button = new Hyperlink(\"Some text\");\nbutton.setOnAction(e -&gt; System.out.println(\"Hyperlink clicked\"));\n</code></pre>\n\n<p>Like a link in a web page, it will appear in a different color if it has been \"visited\", i.e. if an action has been fired on it.</p>\n"},{"tags":[],"owner":{"account_id":12766164,"reputation":467,"user_id":10789874,"display_name":"Shivam Papat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623416445,"creation_date":1623416445,"answer_id":67937510,"question_id":36566197,"body_markdown":"This is how you can do it in scenebuilder\r\n\r\nChoose the button by clicking on it.\r\n\r\nThen in properties-&gt;Style Choose &quot;-fx-background-color&quot; and put value as &quot; transparent&quot;\r\n\r\nLike this\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E8EBT.png","title":"JavaFX Button with transparent background","body":"<p>This is how you can do it in scenebuilder</p>\n<p>Choose the button by clicking on it.</p>\n<p>Then in properties-&gt;Style Choose &quot;-fx-background-color&quot; and put value as &quot; transparent&quot;</p>\n<p>Like this</p>\n<p><a href=\"https://i.stack.imgur.com/E8EBT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E8EBT.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1802816,"reputation":726,"user_id":1640696,"accept_rate":40,"display_name":"Ben"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634820254,"creation_date":1634820254,"answer_id":69662217,"question_id":36566197,"body_markdown":"For anyone who got here looking for a way to remove the default button background, it can be done like this:\r\n\r\n    button.setBackground(null);\r\n\r\nIf you want to restyle the button I&#39;d suggest using css like the answer above.","title":"JavaFX Button with transparent background","body":"<p>For anyone who got here looking for a way to remove the default button background, it can be done like this:</p>\n<pre><code>button.setBackground(null);\n</code></pre>\n<p>If you want to restyle the button I'd suggest using css like the answer above.</p>\n"}],"owner":{"account_id":8117628,"reputation":167,"user_id":6115599,"accept_rate":78,"display_name":"Terra Incognita"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30268,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":36566444,"answer_count":4,"score":7,"last_activity_date":1634820254,"creation_date":1460445536,"question_id":36566197,"body_markdown":"I have some classical `Button` in JavaFX with a box containing some text.\r\n\r\nI need buttons without that box, just the text, and when I hover the button or click on the button with mouse, it shall change its color to different.","title":"JavaFX Button with transparent background","body":"<p>I have some classical <code>Button</code> in JavaFX with a box containing some text.</p>\n\n<p>I need buttons without that box, just the text, and when I hover the button or click on the button with mouse, it shall change its color to different.</p>\n"},{"tags":["java","android","reverse-engineering","frida"],"answers":[{"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634820022,"creation_date":1634819719,"answer_id":69662087,"question_id":69660100,"body_markdown":"Your Frida code has one major problem:\r\n\r\nThe definition of getTimeZone is `String getTimeZone()` hence you have to return a `String`.\r\n\r\nBut your Frida code return an int value: `return 12;`\r\n\r\nChange it to `return &quot;12&quot;;` and your Frida code should work. \r\n\r\nThere may be a second problem in the Android app defining the `User` class (in one of the method `com.myapp.features.home.logs.updateChart` you have not included in your question). Based on the exception \r\n\r\n&gt; java.lang.NullPointerException: Attempt to invoke virtual method java.lang.String com.myapp.models.User.getTimeZone()&#39; on a null object reference\r\n\r\nthe app seems to call `getTimeZone()` without constructing an `User()` instance first. Unless you correct that the Frida hooking code can not work properly.","title":"Function is unhookable by Frida","body":"<p>Your Frida code has one major problem:</p>\n<p>The definition of getTimeZone is <code>String getTimeZone()</code> hence you have to return a <code>String</code>.</p>\n<p>But your Frida code return an int value: <code>return 12;</code></p>\n<p>Change it to <code>return &quot;12&quot;;</code> and your Frida code should work.</p>\n<p>There may be a second problem in the Android app defining the <code>User</code> class (in one of the method <code>com.myapp.features.home.logs.updateChart</code> you have not included in your question). Based on the exception</p>\n<blockquote>\n<p>java.lang.NullPointerException: Attempt to invoke virtual method java.lang.String com.myapp.models.User.getTimeZone()' on a null object reference</p>\n</blockquote>\n<p>the app seems to call <code>getTimeZone()</code> without constructing an <code>User()</code> instance first. Unless you correct that the Frida hooking code can not work properly.</p>\n"}],"owner":{"account_id":451985,"reputation":133,"user_id":848165,"accept_rate":17,"display_name":"toothpick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1267,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69662087,"answer_count":1,"score":1,"last_activity_date":1634820022,"creation_date":1634811481,"question_id":69660100,"body_markdown":"I have the following Java code and I&#39;m trying to hook the getTimeZone function:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    package com.myapp.models;\r\n\r\n    public class User {\r\n\r\n        private String timeZone;\r\n\r\n        public void setTimeZone(String str) {\r\n            this.timeZone = str;\r\n        }\r\n\r\n        public String getTimeZone() {\r\n            return this.timeZone;\r\n        }\r\n    }\r\n\r\nThis is the frida code I&#39;m trying to use:\r\n\r\n&lt;!-- language: lang-js--&gt;\r\n\r\n    Java.perform(function () {\r\n\r\n        var User = Java.use(&quot;com.myapp.models.User&quot;);\r\n        User.getTimeZone.implementation = function() {\r\n            console.log(&quot;timezone requested&quot;)\r\n            return 12;\r\n        };\r\n    \r\n    });\r\n\r\nHowever, the hook does not seem to happen since the app crashes on getTimezone not returning a vlue:\r\n\r\n    \r\n\r\n    10-21 12:17:23.013 26553 26553 E AndroidRuntime: Process: com.myapp.android, PID: 26553\r\n    10-21 12:17:23.013 26553 26553 E AndroidRuntime: java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String com.myapp.models.User.getTimeZone()&#39; on a null object reference\r\n    10-21 12:17:23.013 26553 26553 E AndroidRuntime:        at com.myapp.features.home.logs.updateChart(Presenter.java:370)\r\n    10-21 12:17:23.013 26553 26553 E AndroidRuntime:        at com.myapp.features.home.logs.loadGraph(Presenter.java:217)\r\n    10-21 12:17:23.013 26553 26553 E AndroidRuntime:        at com.myapp.features.home.logs.onResume(Fragment.java:313)\r\n\r\nI know that there is no typo in the function and it is identified successfully since I ran in frida:\r\n\r\n    [Redmi Note 7::myapp]-&gt; Java.use(&quot;com.myapp.models.User&quot;).getTimeZone\r\n    function\r\n    [Redmi Note 7::myapp]-&gt; Java.use(&quot;com.myapp.models.User&quot;).getTimeZone.implementation\r\n    &quot;0x7e3682a128&quot;","title":"Function is unhookable by Frida","body":"<p>I have the following Java code and I'm trying to hook the getTimeZone function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.models;\n\npublic class User {\n\n    private String timeZone;\n\n    public void setTimeZone(String str) {\n        this.timeZone = str;\n    }\n\n    public String getTimeZone() {\n        return this.timeZone;\n    }\n}\n</code></pre>\n<p>This is the frida code I'm trying to use:</p>\n\n<pre><code>Java.perform(function () {\n\n    var User = Java.use(&quot;com.myapp.models.User&quot;);\n    User.getTimeZone.implementation = function() {\n        console.log(&quot;timezone requested&quot;)\n        return 12;\n    };\n\n});\n</code></pre>\n<p>However, the hook does not seem to happen since the app crashes on getTimezone not returning a vlue:</p>\n<pre><code>10-21 12:17:23.013 26553 26553 E AndroidRuntime: Process: com.myapp.android, PID: 26553\n10-21 12:17:23.013 26553 26553 E AndroidRuntime: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String com.myapp.models.User.getTimeZone()' on a null object reference\n10-21 12:17:23.013 26553 26553 E AndroidRuntime:        at com.myapp.features.home.logs.updateChart(Presenter.java:370)\n10-21 12:17:23.013 26553 26553 E AndroidRuntime:        at com.myapp.features.home.logs.loadGraph(Presenter.java:217)\n10-21 12:17:23.013 26553 26553 E AndroidRuntime:        at com.myapp.features.home.logs.onResume(Fragment.java:313)\n</code></pre>\n<p>I know that there is no typo in the function and it is identified successfully since I ran in frida:</p>\n<pre><code>[Redmi Note 7::myapp]-&gt; Java.use(&quot;com.myapp.models.User&quot;).getTimeZone\nfunction\n[Redmi Note 7::myapp]-&gt; Java.use(&quot;com.myapp.models.User&quot;).getTimeZone.implementation\n&quot;0x7e3682a128&quot;\n</code></pre>\n"},{"tags":["java","android","android-studio","cordova","gradle"],"answers":[{"tags":[],"owner":{"account_id":23101466,"reputation":9,"user_id":17210827,"display_name":"NodeJSDeveloper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634819999,"creation_date":1634819999,"answer_id":69662152,"question_id":69661779,"body_markdown":"Okay.. So I solved this part, but wanted to keep this post here for others who might run into the same problem.\r\n\r\n**Gradle**\r\n\r\n```brew uninstall gradle@6``` (because I manually installed this version)\r\n\r\n```brew install gradle``` (which is installing version 7.1.1 currently)\r\n\r\n**Cordova**\r\n\r\n```cordova platform remove android``` (I was on 9)\r\n\r\n```cordova platform add android@10.1.0``` \r\n\r\n\r\n","title":"Cordova build error on google-service/firebase vs gradle or java","body":"<p>Okay.. So I solved this part, but wanted to keep this post here for others who might run into the same problem.</p>\n<p><strong>Gradle</strong></p>\n<p><code>brew uninstall gradle@6</code> (because I manually installed this version)</p>\n<p><code>brew install gradle</code> (which is installing version 7.1.1 currently)</p>\n<p><strong>Cordova</strong></p>\n<p><code>cordova platform remove android</code> (I was on 9)</p>\n<p><code>cordova platform add android@10.1.0</code></p>\n"}],"owner":{"account_id":23101466,"reputation":9,"user_id":17210827,"display_name":"NodeJSDeveloper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634819999,"creation_date":1634818362,"question_id":69661779,"body_markdown":"I&#39;m using Cordova and when I run ```cordova build android``` it&#39;s throwing an error. Like several months ago, it was no problem building the APK. I think Java did auto update, causing an issue?\r\n\r\nI suppose it has something to do with the ```com.google.gms:google-service``` and maybe the gradle? I&#39;ve no clue.\r\n\r\nThis is the full terminal output:\r\n\r\n```\r\n% cordova build android\r\n[Gradle Properties] Detected Gradle property &quot;android.useAndroidX&quot; with the value of &quot;true&quot;, Cordova&#39;s recommended value is &quot;false&quot;\r\n[Gradle Properties] Detected Gradle property &quot;android.enableJetifier&quot; with the value of &quot;true&quot;, Cordova&#39;s recommended value is &quot;false&quot;\r\ncordova-plugin-firebasex: Preparing Firebase on Android\r\nChecking Java JDK and Android SDK versions\r\nANDROID_SDK_ROOT=undefined (recommended setting)\r\nANDROID_HOME=undefined (DEPRECATED)\r\nUsing Android SDK: /Users/&lt;user&gt;/Library/Android/sdk\r\nSubproject Path: CordovaLib\r\nSubproject Path: app\r\n\r\n&gt; Configure project :app\r\nAdding classpath: com.google.gms:google-services:4.2.0\r\nregisterResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)\r\nregisterResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)\r\n\r\n&gt; Task :app:processDebugGoogleServices\r\nParsing json file: /Users/&lt;user&gt;/Sites/cordova/&lt;projectname&gt;/platforms/android/app/google-services.json\r\n\r\n&gt; Task :CordovaLib:compileDebugJavaWithJavac FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:CordovaLib:compileDebugJavaWithJavac&#39;.\r\n&gt; java.lang.NullPointerException (no error message)\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\r\nUse &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\nSee https://docs.gradle.org/6.5/userguide/command_line_interface.html#sec:command_line_warnings\r\n\r\nBUILD FAILED in 1s\r\n21 actionable tasks: 5 executed, 16 up-to-date\r\nCommand failed with exit code 1: /Users/&lt;user&gt;/Sites/cordova/&lt;project&gt;/platforms/android/gradlew cdvBuildDebug -b /Users/&lt;user&gt;/Sites/cordova/&lt;project&gt;/platforms/android/build.gradle\r\n```\r\n\r\n**Versions**\r\n\r\n```\r\njavac -version\r\njavac 1.8.0_292\r\n```\r\n\r\n```\r\n------------------------------------------------------------\r\nGradle 6.9.1\r\n------------------------------------------------------------\r\n\r\nBuild time:   2021-08-20 11:15:18 UTC\r\nRevision:     f0ddb54aaae0e44f0a7209c3c0274d506ea742a0\r\n\r\nKotlin:       1.4.20\r\nGroovy:       2.5.12\r\nAnt:          Apache Ant(TM) version 1.10.9 compiled on September 27 2020\r\nJVM:          11.0.12 (Homebrew 11.0.12+0)\r\nOS:           Mac OS X 11.3.1 x86_64\r\n```\r\n\r\n\r\n\r\nThanks for any advice in advance!","title":"Cordova build error on google-service/firebase vs gradle or java","body":"<p>I'm using Cordova and when I run <code>cordova build android</code> it's throwing an error. Like several months ago, it was no problem building the APK. I think Java did auto update, causing an issue?</p>\n<p>I suppose it has something to do with the <code>com.google.gms:google-service</code> and maybe the gradle? I've no clue.</p>\n<p>This is the full terminal output:</p>\n<pre><code>% cordova build android\n[Gradle Properties] Detected Gradle property &quot;android.useAndroidX&quot; with the value of &quot;true&quot;, Cordova's recommended value is &quot;false&quot;\n[Gradle Properties] Detected Gradle property &quot;android.enableJetifier&quot; with the value of &quot;true&quot;, Cordova's recommended value is &quot;false&quot;\ncordova-plugin-firebasex: Preparing Firebase on Android\nChecking Java JDK and Android SDK versions\nANDROID_SDK_ROOT=undefined (recommended setting)\nANDROID_HOME=undefined (DEPRECATED)\nUsing Android SDK: /Users/&lt;user&gt;/Library/Android/sdk\nSubproject Path: CordovaLib\nSubproject Path: app\n\n&gt; Configure project :app\nAdding classpath: com.google.gms:google-services:4.2.0\nregisterResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)\nregisterResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)\n\n&gt; Task :app:processDebugGoogleServices\nParsing json file: /Users/&lt;user&gt;/Sites/cordova/&lt;projectname&gt;/platforms/android/app/google-services.json\n\n&gt; Task :CordovaLib:compileDebugJavaWithJavac FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':CordovaLib:compileDebugJavaWithJavac'.\n&gt; java.lang.NullPointerException (no error message)\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/6.5/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 1s\n21 actionable tasks: 5 executed, 16 up-to-date\nCommand failed with exit code 1: /Users/&lt;user&gt;/Sites/cordova/&lt;project&gt;/platforms/android/gradlew cdvBuildDebug -b /Users/&lt;user&gt;/Sites/cordova/&lt;project&gt;/platforms/android/build.gradle\n</code></pre>\n<p><strong>Versions</strong></p>\n<pre><code>javac -version\njavac 1.8.0_292\n</code></pre>\n<pre><code>------------------------------------------------------------\nGradle 6.9.1\n------------------------------------------------------------\n\nBuild time:   2021-08-20 11:15:18 UTC\nRevision:     f0ddb54aaae0e44f0a7209c3c0274d506ea742a0\n\nKotlin:       1.4.20\nGroovy:       2.5.12\nAnt:          Apache Ant(TM) version 1.10.9 compiled on September 27 2020\nJVM:          11.0.12 (Homebrew 11.0.12+0)\nOS:           Mac OS X 11.3.1 x86_64\n</code></pre>\n<p>Thanks for any advice in advance!</p>\n"},{"tags":["java","initializer"],"answers":[{"tags":[],"owner":{"account_id":72575,"reputation":40794,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1355298689,"creation_date":1354611379,"answer_id":13699133,"question_id":13699075,"body_markdown":"    static {\r\n        System.out.print(&quot;x &quot;);\r\n    }\r\n\r\n`Static blocks` are only executed once when **the class is loaded** and initialized by the JRE.\r\n\r\nAnd `non-static` block will be call **every time your are creating a new instance** and it will be call just before the Constructor.\r\n\r\nAs here you&#39;ve created only 1 instance of `Sequence` so constructed has been called after `non-static` blocks and then the method which actually your goal.\r\n\r\n","title":"Calling a Java method with no name","body":"<pre><code>static {\n    System.out.print(\"x \");\n}\n</code></pre>\n\n<p><code>Static blocks</code> are only executed once when <strong>the class is loaded</strong> and initialized by the JRE.</p>\n\n<p>And <code>non-static</code> block will be call <strong>every time your are creating a new instance</strong> and it will be call just before the Constructor.</p>\n\n<p>As here you've created only 1 instance of <code>Sequence</code> so constructed has been called after <code>non-static</code> blocks and then the method which actually your goal.</p>\n"},{"tags":[],"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"down_vote_count":0,"up_vote_count":150,"is_accepted":true,"score":150,"last_activity_date":1634819483,"creation_date":1354611384,"answer_id":13699134,"question_id":13699075,"body_markdown":"This:\r\n\r\n    static {\r\n        System.out.print(&quot;x &quot;);\r\n    }\t\r\n\r\nis a *static initialization block*, and is called when the class is loaded. You can have as many of them in your class as you want, and they will be executed in order of their appearance (from top to bottom).\r\n\r\nThis:\r\n\r\n    {\r\n       System.out.print(&quot;y &quot;);\r\n    }\r\n\r\nis an *initialization block*, and the code is copied into the beginning of each constructor of the class. So if you have many constructors of your class, and they all need to do something common at their beginning, you only need to write the code once and put it in an *initialization block* like this.\r\n\r\nHence your output makes perfect sense.\r\n\r\nAs [Stanley][1] commented below, see [the section in the Oracle tutorial describing initializaiton blocks][2] for more information.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1535679/stanley\r\n  [2]: http://docs.oracle.com/javase/tutorial/java/javaOO/initial.html\r\n","title":"Calling a Java method with no name","body":"<p>This:</p>\n<pre><code>static {\n    System.out.print(&quot;x &quot;);\n}   \n</code></pre>\n<p>is a <em>static initialization block</em>, and is called when the class is loaded. You can have as many of them in your class as you want, and they will be executed in order of their appearance (from top to bottom).</p>\n<p>This:</p>\n<pre><code>{\n   System.out.print(&quot;y &quot;);\n}\n</code></pre>\n<p>is an <em>initialization block</em>, and the code is copied into the beginning of each constructor of the class. So if you have many constructors of your class, and they all need to do something common at their beginning, you only need to write the code once and put it in an <em>initialization block</em> like this.</p>\n<p>Hence your output makes perfect sense.</p>\n<p>As <a href=\"https://stackoverflow.com/users/1535679/stanley\">Stanley</a> commented below, see <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/initial.html\" rel=\"nofollow noreferrer\">the section in the Oracle tutorial describing initializaiton blocks</a> for more information.</p>\n"},{"tags":[],"owner":{"account_id":362538,"reputation":22412,"user_id":705773,"accept_rate":98,"display_name":"Ajinkya"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1634819605,"creation_date":1354611395,"answer_id":13699136,"question_id":13699075,"body_markdown":"Its not a method but a **initialization block**.\r\n\r\n    {\r\n        System.out.print(&quot;y &quot;);\r\n    }\r\n\r\nIt will be executed before the constructor call. \r\nWhile   \r\n\r\n    static {\r\n        System.out.print(&quot;x &quot;);\r\n    }\r\n\r\nis **static initialization block** which is executed when class is loaded by class loader.    \r\n \r\nSo when you run your code   \r\n1. Class is loaded by class loader so static initialization block is executed     \r\nOutput: x is printed  \r\n2. Object is created so initialization block is executed and then constuctor is called  \r\nOutput: y is printed followed by c  \r\n3. Main method is invoked which in turn invokes go method   \r\nOutput: g is printed  \r\n\r\nFinal output: x y c g  \r\nThis might help http://blog.sanaulla.info/2008/06/30/initialization-blocks-in-java/\r\n ","title":"Calling a Java method with no name","body":"<p>Its not a method but a <strong>initialization block</strong>.</p>\n<pre><code>{\n    System.out.print(&quot;y &quot;);\n}\n</code></pre>\n<p>It will be executed before the constructor call.\nWhile</p>\n<pre><code>static {\n    System.out.print(&quot;x &quot;);\n}\n</code></pre>\n<p>is <strong>static initialization block</strong> which is executed when class is loaded by class loader.</p>\n<p>So when you run your code</p>\n<ol>\n<li>Class is loaded by class loader so static initialization block is executed<br />\nOutput: x is printed</li>\n<li>Object is created so initialization block is executed and then constuctor is called<br />\nOutput: y is printed followed by c</li>\n<li>Main method is invoked which in turn invokes go method<br />\nOutput: g is printed</li>\n</ol>\n<p>Final output: x y c g<br />\nThis might help <a href=\"http://blog.sanaulla.info/2008/06/30/initialization-blocks-in-java/\" rel=\"nofollow noreferrer\">http://blog.sanaulla.info/2008/06/30/initialization-blocks-in-java/</a></p>\n"},{"tags":[],"owner":{"account_id":342531,"reputation":254999,"user_id":673730,"accept_rate":89,"display_name":"Luchian Grigore"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1354611436,"creation_date":1354611436,"answer_id":13699145,"question_id":13699075,"body_markdown":"That&#39;s an **instance initialization block** followed by a **static initialization block**.\r\n\r\n    {\r\n        System.out.print(&quot;y &quot;);\r\n    }\r\n\r\ngets called when you create an instance of the class. \r\n\r\n    static {\r\n        System.out.print(&quot;x &quot;);\r\n    }\r\n\r\ngets called when the class is loaded by the class loader. So when you do\r\n\r\n    new Sequence().go();\r\n\r\nthe class gets loaded, so it executes `static {}`, then it executes the instance initialization block `{}`, afterwards the body of the constructor is called, and then the method on the newly created instance. Ergo the output `x y c g`.","title":"Calling a Java method with no name","body":"<p>That's an <strong>instance initialization block</strong> followed by a <strong>static initialization block</strong>.</p>\n\n<pre><code>{\n    System.out.print(\"y \");\n}\n</code></pre>\n\n<p>gets called when you create an instance of the class. </p>\n\n<pre><code>static {\n    System.out.print(\"x \");\n}\n</code></pre>\n\n<p>gets called when the class is loaded by the class loader. So when you do</p>\n\n<pre><code>new Sequence().go();\n</code></pre>\n\n<p>the class gets loaded, so it executes <code>static {}</code>, then it executes the instance initialization block <code>{}</code>, afterwards the body of the constructor is called, and then the method on the newly created instance. Ergo the output <code>x y c g</code>.</p>\n"},{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1354776035,"creation_date":1354611449,"answer_id":13699149,"question_id":13699075,"body_markdown":"    {\r\n        System.out.print(&quot;y &quot;);\r\n    }\r\n\r\nThese kinds of blocks are called **`initializer block`**. It is executed every time you create an instance of a `class`.\r\nAt compile time, this code is moved into every constructor of your class. \r\n\r\nWhere as in case of **`static initializer`** block: -\r\n\r\n    static {\r\n        System.out.println(&quot;x &quot;);\r\n    }\r\n\r\nit is executed once when the class is loaded.\r\nWe generally use `static` initializer block when the initialization of a `static` field, require multiple steps.","title":"Calling a Java method with no name","body":"<pre><code>{\n    System.out.print(\"y \");\n}\n</code></pre>\n\n<p>These kinds of blocks are called <strong><code>initializer block</code></strong>. It is executed every time you create an instance of a <code>class</code>.\nAt compile time, this code is moved into every constructor of your class. </p>\n\n<p>Where as in case of <strong><code>static initializer</code></strong> block: -</p>\n\n<pre><code>static {\n    System.out.println(\"x \");\n}\n</code></pre>\n\n<p>it is executed once when the class is loaded.\nWe generally use <code>static</code> initializer block when the initialization of a <code>static</code> field, require multiple steps.</p>\n"},{"tags":[],"owner":{"account_id":1903805,"reputation":41397,"user_id":1719067,"accept_rate":73,"display_name":"Narendra Pathai"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1354611516,"creation_date":1354611516,"answer_id":13699164,"question_id":13699075,"body_markdown":"    static {\r\n            System.out.print(&quot;x &quot;);\r\n        }\r\n\r\nIs a **static block** and is called during Class Loading\r\n\r\n    {\r\n        System.out.print(&quot;y &quot;);\r\n    }\r\n\r\nIs an **initialization block**\r\n\r\nYou can have multiple initialization blocks in a class in which case they execute in the sequence in which they appear in the class.\r\n\r\n**Note that any initialization block present in the class is executed before the constructor.**\r\n\r\n","title":"Calling a Java method with no name","body":"<pre><code>static {\n        System.out.print(\"x \");\n    }\n</code></pre>\n\n<p>Is a <strong>static block</strong> and is called during Class Loading</p>\n\n<pre><code>{\n    System.out.print(\"y \");\n}\n</code></pre>\n\n<p>Is an <strong>initialization block</strong></p>\n\n<p>You can have multiple initialization blocks in a class in which case they execute in the sequence in which they appear in the class.</p>\n\n<p><strong>Note that any initialization block present in the class is executed before the constructor.</strong></p>\n"},{"tags":[],"owner":{"account_id":1064665,"reputation":1633,"user_id":1065547,"accept_rate":54,"display_name":"maloney"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1354611863,"creation_date":1354611541,"answer_id":13699172,"question_id":13699075,"body_markdown":"It is used as an **initialisation block** and runs after any **static declaration**. It could be used to ensure that no one else can create an instance of the class (In the same way you would use a private constructor) as with the **Singleton** design pattern. ","title":"Calling a Java method with no name","body":"<p>It is used as an <strong>initialisation block</strong> and runs after any <strong>static declaration</strong>. It could be used to ensure that no one else can create an instance of the class (In the same way you would use a private constructor) as with the <strong>Singleton</strong> design pattern. </p>\n"},{"tags":[],"owner":{"account_id":397289,"reputation":17010,"user_id":761330,"accept_rate":97,"display_name":"Terry Li"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1354612348,"creation_date":1354611899,"answer_id":13699267,"question_id":13699075,"body_markdown":"    static {\r\n          System.out.print(&quot;x &quot;);\r\n    }\r\n\r\nis an initialization block shared by the class(as indicated by `static`), which is executed first.\r\n\r\n    {\r\n            System.out.print(&quot;y &quot;);\r\n        \r\n    }\r\n\r\nis an initialization block shared by all objects(constructors) of the class, which comes next.\r\n\r\n    Sequence() {\r\n            System.out.print(&quot;c &quot;);\r\n    }\r\n\r\nis a particular constructor for the class, which is executed third. The instance initialization block is invoked first every time the constructor is executed. That&#39;s why &quot;y&quot; comes just before &quot;c&quot;.\r\n\r\n    void go() {\r\n            System.out.print(&quot;g &quot;);\r\n    }\r\n\r\nis just an instance method associated with objects constructed using the constructor above, which comes last.\r\n\r\n","title":"Calling a Java method with no name","body":"<pre><code>static {\n      System.out.print(\"x \");\n}\n</code></pre>\n\n<p>is an initialization block shared by the class(as indicated by <code>static</code>), which is executed first.</p>\n\n<pre><code>{\n        System.out.print(\"y \");\n\n}\n</code></pre>\n\n<p>is an initialization block shared by all objects(constructors) of the class, which comes next.</p>\n\n<pre><code>Sequence() {\n        System.out.print(\"c \");\n}\n</code></pre>\n\n<p>is a particular constructor for the class, which is executed third. The instance initialization block is invoked first every time the constructor is executed. That's why \"y\" comes just before \"c\".</p>\n\n<pre><code>void go() {\n        System.out.print(\"g \");\n}\n</code></pre>\n\n<p>is just an instance method associated with objects constructed using the constructor above, which comes last.</p>\n"}],"owner":{"account_id":152539,"reputation":19707,"user_id":367141,"accept_rate":100,"display_name":"David"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12470,"favorite_count":0,"down_vote_count":7,"up_vote_count":110,"accepted_answer_id":13699134,"answer_count":8,"score":103,"last_activity_date":1634819605,"creation_date":1354611132,"question_id":13699075,"body_markdown":"I&#39;m looking at the code below and found something a bit strange:\r\n\r\n    public class Sequence {\r\n    \tSequence() {\r\n    \t\tSystem.out.print(&quot;c &quot;);\r\n    \t}\r\n    \r\n    \t{\r\n    \t\tSystem.out.print(&quot;y &quot;);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew Sequence().go();\r\n    \t}\r\n    \r\n    \tvoid go() {\r\n    \t\tSystem.out.print(&quot;g &quot;);\r\n    \t}\r\n    \r\n    \tstatic {\r\n    \t\tSystem.out.print(&quot;x &quot;);\r\n    \t}\r\n    }\r\n\r\nI would&#39;ve expected this to give a compilation error as the `System.out` with &quot;y &quot; doesn&#39;t belong to a method declaration just a `{ }`.  Why is this valid?  I don&#39;t see how this code would or should be called.\r\n\r\nWhen running this it produces `x y c g` also, why does the `static { }` get called before the sequence constructor?","title":"Calling a Java method with no name","body":"<p>I'm looking at the code below and found something a bit strange:</p>\n\n<pre><code>public class Sequence {\n    Sequence() {\n        System.out.print(\"c \");\n    }\n\n    {\n        System.out.print(\"y \");\n    }\n\n    public static void main(String[] args) {\n        new Sequence().go();\n    }\n\n    void go() {\n        System.out.print(\"g \");\n    }\n\n    static {\n        System.out.print(\"x \");\n    }\n}\n</code></pre>\n\n<p>I would've expected this to give a compilation error as the <code>System.out</code> with \"y \" doesn't belong to a method declaration just a <code>{ }</code>.  Why is this valid?  I don't see how this code would or should be called.</p>\n\n<p>When running this it produces <code>x y c g</code> also, why does the <code>static { }</code> get called before the sequence constructor?</p>\n"},{"tags":["java","data-structures","arraylist","capacity"],"comments":[{"owner":{"account_id":1129088,"reputation":10395,"user_id":1115584,"accept_rate":71,"display_name":"AmitG"},"score":17,"creation_date":1363344330,"post_id":15430247,"comment_id":21823302,"body_markdown":"Have you tried to see the ArrayList source code?","body":"Have you tried to see the ArrayList source code?"},{"owner":{"account_id":1129088,"reputation":10395,"user_id":1115584,"accept_rate":71,"display_name":"AmitG"},"score":0,"creation_date":1363353079,"post_id":15430247,"comment_id":21828848,"body_markdown":"@Joachim Sauer: Sometime we get a cognizance when we read source carefully. I was giving a try if he has read the source. I understood your aspect. Thanks.","body":"@Joachim Sauer: Sometime we get a cognizance when we read source carefully. I was giving a try if he has read the source. I understood your aspect. Thanks."},{"owner":{"account_id":33402,"reputation":46847,"user_id":93468,"accept_rate":60,"display_name":"PositiveGuy"},"score":0,"creation_date":1364617792,"post_id":15430247,"comment_id":22320599,"body_markdown":"ArrayList is poor performing period, why would you want to use such a structure","body":"ArrayList is poor performing period, why would you want to use such a structure"},{"owner":{"account_id":40152,"reputation":17777,"user_id":116249,"accept_rate":82,"display_name":"Patrick"},"score":1,"creation_date":1368444217,"post_id":15430247,"comment_id":23720741,"body_markdown":"possible duplicate of [what&#39;s meant by parameter (int initial capacity) in an arraylist](http://stackoverflow.com/questions/4172480/whats-meant-by-parameter-int-initial-capacity-in-an-arraylist)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/4172480/whats-meant-by-parameter-int-initial-capacity-in-an-arraylist\">what&#39;s meant by parameter (int initial capacity) in an arraylist</a>"},{"owner":{"account_id":2972034,"reputation":742,"user_id":2523899,"display_name":"The incredible Jan"},"score":0,"creation_date":1695817844,"post_id":15430247,"comment_id":136074458,"body_markdown":"@PositiveGuy What sould I use if I new a list of maybe some thousand objects without any further functionality like sort? I just need to iterate over it to get the objects later. Why would ArrayList exist if it&#39;s bad in every use case?","body":"@PositiveGuy What sould I use if I new a list of maybe some thousand objects without any further functionality like sort? I just need to iterate over it to get the objects later. Why would ArrayList exist if it&#39;s bad in every use case?"}],"answers":[{"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"down_vote_count":0,"up_vote_count":207,"is_accepted":true,"score":207,"last_activity_date":1363364527,"creation_date":1363344117,"answer_id":15430259,"question_id":15430247,"body_markdown":"If you know in advance what the size of the `ArrayList` is going to be, it is more efficient to specify the initial capacity. If you don&#39;t do this, the internal array will have to be repeatedly reallocated as the list grows.\r\n\r\nThe larger the final list, the more time you save by avoiding the reallocations.\r\n\r\nThat said, even without pre-allocation, inserting `n` elements at the back of an `ArrayList` is guaranteed to take total `O(n)` time. In other words, appending an element is an amortized constant-time operation. This is achieved by having each reallocation increase the size of the array exponentially, typically by a factor of `1.5`. With this approach, the total number of operations [can be shown to be `O(n)`][1].\r\n\r\n\r\n  [1]: http://www.wolframalpha.com/input/?i=sum%281.5**k%29%20for%20k=1,log%281.5,n%29","title":"Why start an ArrayList with an initial capacity?","body":"<p>If you know in advance what the size of the <code>ArrayList</code> is going to be, it is more efficient to specify the initial capacity. If you don't do this, the internal array will have to be repeatedly reallocated as the list grows.</p>\n\n<p>The larger the final list, the more time you save by avoiding the reallocations.</p>\n\n<p>That said, even without pre-allocation, inserting <code>n</code> elements at the back of an <code>ArrayList</code> is guaranteed to take total <code>O(n)</code> time. In other words, appending an element is an amortized constant-time operation. This is achieved by having each reallocation increase the size of the array exponentially, typically by a factor of <code>1.5</code>. With this approach, the total number of operations <a href=\"http://www.wolframalpha.com/input/?i=sum%281.5%2a%2ak%29%20for%20k=1,log%281.5,n%29\">can be shown to be <code>O(n)</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":1733893,"reputation":66893,"user_id":1586880,"accept_rate":100,"display_name":"dsgriffin"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1363460374,"creation_date":1363344163,"answer_id":15430271,"question_id":15430247,"body_markdown":"Setting the initial size of an ArrayList, e.g. to `ArrayList&lt;&gt;(100)`, reduces the number of times the re-allocation of internal memory has to occur. \r\n\r\n**Example:**\r\n\r\n    ArrayList example = new ArrayList&lt;Integer&gt;(3);\r\n    example.add(1); // size() == 1\r\n    example.add(2); // size() == 2, \r\n    example.add(2); // size() == 3, example has been &#39;filled&#39;\r\n    example.add(3); // size() == 4, example has been &#39;expanded&#39; so that the fourth element can be added. \r\n\r\nAs you see in the above example - an `ArrayList` can be expanded if needed to be. What this doesn&#39;t show you is that the size of the Arraylist usually doubles (although note that the new size depends on your implementation). The following is quoted from [Oracle][1]:\r\n\r\n&gt; &quot;Each ArrayList instance has a capacity. The capacity is the size of\r\n&gt; the array used to store the elements in the list. It is always at\r\n&gt; least as large as the list size. As elements are added to an\r\n&gt; ArrayList, its capacity grows automatically. The details of the growth\r\n&gt; policy are not specified beyond the fact that adding an element has\r\n&gt; constant amortized time cost.&quot;\r\n\r\nObviously, if you have no idea as to what kind of range you will be holding, setting the size probably won&#39;t be a good idea - however, if you do have a specific range in mind, setting an initial capacity will increase memory efficiency. \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html","title":"Why start an ArrayList with an initial capacity?","body":"<p>Setting the initial size of an ArrayList, e.g. to <code>ArrayList&lt;&gt;(100)</code>, reduces the number of times the re-allocation of internal memory has to occur. </p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>ArrayList example = new ArrayList&lt;Integer&gt;(3);\nexample.add(1); // size() == 1\nexample.add(2); // size() == 2, \nexample.add(2); // size() == 3, example has been 'filled'\nexample.add(3); // size() == 4, example has been 'expanded' so that the fourth element can be added. \n</code></pre>\n\n<p>As you see in the above example - an <code>ArrayList</code> can be expanded if needed to be. What this doesn't show you is that the size of the Arraylist usually doubles (although note that the new size depends on your implementation). The following is quoted from <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html\" rel=\"noreferrer\">Oracle</a>:</p>\n\n<blockquote>\n  <p>\"Each ArrayList instance has a capacity. The capacity is the size of\n  the array used to store the elements in the list. It is always at\n  least as large as the list size. As elements are added to an\n  ArrayList, its capacity grows automatically. The details of the growth\n  policy are not specified beyond the fact that adding an element has\n  constant amortized time cost.\"</p>\n</blockquote>\n\n<p>Obviously, if you have no idea as to what kind of range you will be holding, setting the size probably won't be a good idea - however, if you do have a specific range in mind, setting an initial capacity will increase memory efficiency. </p>\n"},{"tags":[],"owner":{"account_id":362538,"reputation":22412,"user_id":705773,"accept_rate":98,"display_name":"Ajinkya"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1634819409,"creation_date":1363344245,"answer_id":15430302,"question_id":15430247,"body_markdown":"Default size of Arraylist is **10**.    \r\n\r\n    /**\r\n     * Constructs an empty list with an initial capacity of ten.\r\n     */\r\n    public ArrayList() {\r\n    \tthis(10);\r\n    } \t\r\n\r\nSo if you are going to add 100 or more records, you can see the overhead of memory reallocation.  \r\n\r\n    ArrayList&lt;?&gt; list = new ArrayList&lt;&gt;();    \r\n    // same as  new ArrayList&lt;&gt;(10);      \r\n\r\nSo if you have any idea about the number of elements which will be stored in Arraylist its better to create Arraylist with that size instead of starting with 10 and then going on increasing it.  \r\n\r\n","title":"Why start an ArrayList with an initial capacity?","body":"<p>Default size of Arraylist is <strong>10</strong>.</p>\n<pre><code>/**\n * Constructs an empty list with an initial capacity of ten.\n */\npublic ArrayList() {\n    this(10);\n}   \n</code></pre>\n<p>So if you are going to add 100 or more records, you can see the overhead of memory reallocation.</p>\n<pre><code>ArrayList&lt;?&gt; list = new ArrayList&lt;&gt;();    \n// same as  new ArrayList&lt;&gt;(10);      \n</code></pre>\n<p>So if you have any idea about the number of elements which will be stored in Arraylist its better to create Arraylist with that size instead of starting with 10 and then going on increasing it.</p>\n"},{"tags":[],"owner":{"account_id":1772892,"reputation":1698,"user_id":1617325,"accept_rate":75,"display_name":"sk2212"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1363344254,"creation_date":1363344254,"answer_id":15430304,"question_id":15430247,"body_markdown":"I think each ArrayList is created with an init capacity value of &quot;10&quot;. So anyway, if you create an ArrayList without setting capacity within constructor it will be created with a default value.","title":"Why start an ArrayList with an initial capacity?","body":"<p>I think each ArrayList is created with an init capacity value of \"10\". So anyway, if you create an ArrayList without setting capacity within constructor it will be created with a default value.</p>\n"},{"tags":[],"owner":{"account_id":1707363,"reputation":2765,"user_id":1566160,"accept_rate":73,"display_name":"Sanober Malik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1363344351,"creation_date":1363344351,"answer_id":15430340,"question_id":15430247,"body_markdown":"ArrayList can contain many values and when doing large initial insertions you can tell ArrayList to allocate a larger storage to begin with as to not waste CPU cycles when it tries to allocate more space for the next item. Thus to allocate some space at the beginning is more effiecient.","title":"Why start an ArrayList with an initial capacity?","body":"<p>ArrayList can contain many values and when doing large initial insertions you can tell ArrayList to allocate a larger storage to begin with as to not waste CPU cycles when it tries to allocate more space for the next item. Thus to allocate some space at the beginning is more effiecient.</p>\n"},{"tags":[],"owner":{"account_id":24915,"reputation":9561,"user_id":63678,"accept_rate":67,"display_name":"Daniel  Magnusson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1363344383,"creation_date":1363344383,"answer_id":15430356,"question_id":15430247,"body_markdown":"I&#39;d say its an optimization.  ArrayList without initial capacity will have ~10 empty rows and will expand when you are doing an add.\r\n\r\nTo have a list with exactly the number of items you need to call [trimToSize()][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/util/ArrayList.html#trimToSize%28%29","title":"Why start an ArrayList with an initial capacity?","body":"<p>I'd say its an optimization.  ArrayList without initial capacity will have ~10 empty rows and will expand when you are doing an add.</p>\n\n<p>To have a list with exactly the number of items you need to call <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/ArrayList.html#trimToSize%28%29\" rel=\"nofollow\">trimToSize()</a></p>\n"},{"tags":[],"owner":{"account_id":292036,"reputation":5004,"user_id":594544,"accept_rate":100,"display_name":"Iulius Curt"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1502112754,"creation_date":1363344423,"answer_id":15430375,"question_id":15430247,"body_markdown":"Because `ArrayList` is a [dynamically resizing array](http://en.wikipedia.org/wiki/Dynamic_array) data structure, which means it is implemented as an array with an initial (default) fixed size. When this gets filled up, the array will be extended to a double sized one. This operation is costly, so you want as few as possible.\r\n\r\nSo, if you know your upper bound is 20 items, then creating the array with initial length of 20 is better than using a default of, say, 15 and then resize it to `15*2 = 30` and use only 20 while wasting the cycles for the expansion.\r\n\r\nP.S. - As AmitG says, the expansion factor is implementation specific (in this case `(oldCapacity * 3)/2 + 1`)","title":"Why start an ArrayList with an initial capacity?","body":"<p>Because <code>ArrayList</code> is a <a href=\"http://en.wikipedia.org/wiki/Dynamic_array\" rel=\"nofollow noreferrer\">dynamically resizing array</a> data structure, which means it is implemented as an array with an initial (default) fixed size. When this gets filled up, the array will be extended to a double sized one. This operation is costly, so you want as few as possible.</p>\n\n<p>So, if you know your upper bound is 20 items, then creating the array with initial length of 20 is better than using a default of, say, 15 and then resize it to <code>15*2 = 30</code> and use only 20 while wasting the cycles for the expansion.</p>\n\n<p>P.S. - As AmitG says, the expansion factor is implementation specific (in this case <code>(oldCapacity * 3)/2 + 1</code>)</p>\n"},{"tags":[],"owner":{"account_id":1129088,"reputation":10395,"user_id":1115584,"accept_rate":71,"display_name":"AmitG"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1363874007,"creation_date":1363349386,"answer_id":15432106,"question_id":15430247,"body_markdown":"This is to avoid possible efforts for reallocation for every single object. \r\n\r\n    int newCapacity = (oldCapacity * 3)/2 + 1;\r\n\r\ninternally `new Object[]` is created.&lt;br&gt; JVM needs effort to create  `new Object[]` when you add element in the arraylist. If you don&#39;t have above code(any algo you think) for reallocation then every time when you invoke `arraylist.add()` then `new Object[]` has to be created which is pointless and we are loosing time for increasing size by 1 for each and every objects to be added. So it is better to increase size of `Object[]` with following formula.&lt;br&gt;\r\n(JSL has used forcasting formula given below for dynamically growing arraylist instead of growing by 1 every time. Because to grow it takes effort by JVM)\r\n\r\n    int newCapacity = (oldCapacity * 3)/2 + 1;","title":"Why start an ArrayList with an initial capacity?","body":"<p>This is to avoid possible efforts for reallocation for every single object. </p>\n\n<pre><code>int newCapacity = (oldCapacity * 3)/2 + 1;\n</code></pre>\n\n<p>internally <code>new Object[]</code> is created.<br> JVM needs effort to create  <code>new Object[]</code> when you add element in the arraylist. If you don't have above code(any algo you think) for reallocation then every time when you invoke <code>arraylist.add()</code> then <code>new Object[]</code> has to be created which is pointless and we are loosing time for increasing size by 1 for each and every objects to be added. So it is better to increase size of <code>Object[]</code> with following formula.<br>\n(JSL has used forcasting formula given below for dynamically growing arraylist instead of growing by 1 every time. Because to grow it takes effort by JVM)</p>\n\n<pre><code>int newCapacity = (oldCapacity * 3)/2 + 1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1181230,"reputation":48462,"user_id":1156119,"accept_rate":50,"display_name":"Daniel Imms"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1363493254,"creation_date":1363412644,"answer_id":15446006,"question_id":15430247,"body_markdown":"I actually wrote a [blog post][1] on the topic 2 months ago. The article is for C#&#39;s `List&lt;T&gt;` but Java&#39;s `ArrayList` has a very similar implementation. Since `ArrayList` is implemented using a dynamic array, it increases in size on demand. So the reason for the capacity constructor is for optimisation purposes.\r\n\r\nWhen one of these resizings operation occurs, the ArrayList copies the contents of the array into a new array that is twice the capacity of the old one. This operation runs in *O(n)* time.\r\n\r\nExample\r\n-------\r\n\r\nHere is an example of how the `ArrayList` would increase in size:\r\n\r\n    10\r\n    16\r\n    25\r\n    38\r\n    58\r\n    ... 17 resizes ...\r\n    198578\r\n    297868\r\n    446803\r\n    670205\r\n    1005308\r\n\r\nSo the list starts with a capacity of `10`, when the 11th item is added it is increase by `50% + 1` to `16`. On the 17th item the `ArrayList` is increased again to `25` and so on. Now consider the example where we&#39;re creating a list where the desired capacity is already known as `1000000`. Creating the `ArrayList` without the size constructor will call `ArrayList.add` `1000000` times which takes *O(1)* normally or *O(n)* on resize.\r\n\r\n&gt; 1000000 + 16 + 25 + ... + 670205 + 1005308 = **4015851 operations**\r\n\r\nCompare this using the constructor and then calling `ArrayList.add` which is guaranteed to run in *O(1)*.\r\n\r\n&gt; 1000000 + 1000000 = **2000000 operations**\r\n\r\nJava vs C#\r\n----------\r\n\r\nJava is as above, starting at `10` and increasing each resize at `50% + 1`. C# starts at `4` and increases much more aggressively, doubling at each resize. The `1000000` adds example from above for C# uses `3097084` operations.\r\n\r\nReferences\r\n----------\r\n\r\n - [My blog post on C#&#39;s List&amp;lt;T&amp;gt;][1]\r\n - [Java&#39;s ArrayList source code][2]\r\n\r\n\r\n  [1]: http://www.growingwiththeweb.com/2013/01/manipulating-size-of-list.html\r\n  [2]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/ArrayList.java","title":"Why start an ArrayList with an initial capacity?","body":"<p>I actually wrote a <a href=\"http://www.growingwiththeweb.com/2013/01/manipulating-size-of-list.html\" rel=\"noreferrer\">blog post</a> on the topic 2 months ago. The article is for C#'s <code>List&lt;T&gt;</code> but Java's <code>ArrayList</code> has a very similar implementation. Since <code>ArrayList</code> is implemented using a dynamic array, it increases in size on demand. So the reason for the capacity constructor is for optimisation purposes.</p>\n\n<p>When one of these resizings operation occurs, the ArrayList copies the contents of the array into a new array that is twice the capacity of the old one. This operation runs in <em>O(n)</em> time.</p>\n\n<h2>Example</h2>\n\n<p>Here is an example of how the <code>ArrayList</code> would increase in size:</p>\n\n<pre><code>10\n16\n25\n38\n58\n... 17 resizes ...\n198578\n297868\n446803\n670205\n1005308\n</code></pre>\n\n<p>So the list starts with a capacity of <code>10</code>, when the 11th item is added it is increase by <code>50% + 1</code> to <code>16</code>. On the 17th item the <code>ArrayList</code> is increased again to <code>25</code> and so on. Now consider the example where we're creating a list where the desired capacity is already known as <code>1000000</code>. Creating the <code>ArrayList</code> without the size constructor will call <code>ArrayList.add</code> <code>1000000</code> times which takes <em>O(1)</em> normally or <em>O(n)</em> on resize.</p>\n\n<blockquote>\n  <p>1000000 + 16 + 25 + ... + 670205 + 1005308 = <strong>4015851 operations</strong></p>\n</blockquote>\n\n<p>Compare this using the constructor and then calling <code>ArrayList.add</code> which is guaranteed to run in <em>O(1)</em>.</p>\n\n<blockquote>\n  <p>1000000 + 1000000 = <strong>2000000 operations</strong></p>\n</blockquote>\n\n<h2>Java vs C#</h2>\n\n<p>Java is as above, starting at <code>10</code> and increasing each resize at <code>50% + 1</code>. C# starts at <code>4</code> and increases much more aggressively, doubling at each resize. The <code>1000000</code> adds example from above for C# uses <code>3097084</code> operations.</p>\n\n<h2>References</h2>\n\n<ul>\n<li><a href=\"http://www.growingwiththeweb.com/2013/01/manipulating-size-of-list.html\" rel=\"noreferrer\">My blog post on C#'s List&lt;T&gt;</a></li>\n<li><a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/ArrayList.java\" rel=\"noreferrer\">Java's ArrayList source code</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1047214,"reputation":104,"user_id":1051972,"display_name":"Tushar Patidar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1365838299,"creation_date":1365838299,"answer_id":15985416,"question_id":15430247,"body_markdown":"As per my experience with `ArrayList`, giving an initial capacity is a nice way to avoid reallocation costs. But it bears a caveat. All suggestions mentioned above say that one should provide initial capacity only when a rough estimate of the number of elements is known. But when we try to give an initial capacity without any idea, the amount of memory reserved and unused will be a waste as it may never be required once the list is filled to required number of elements. What i am saying is, we can be pragmatic at the beginning while allocating capacity, and then find a smart way of knowing required minimal capacity at runtime. ArrayList provides a method called `ensureCapacity(int minCapacity)`. But then, one has find a smart way...","title":"Why start an ArrayList with an initial capacity?","body":"<p>As per my experience with <code>ArrayList</code>, giving an initial capacity is a nice way to avoid reallocation costs. But it bears a caveat. All suggestions mentioned above say that one should provide initial capacity only when a rough estimate of the number of elements is known. But when we try to give an initial capacity without any idea, the amount of memory reserved and unused will be a waste as it may never be required once the list is filled to required number of elements. What i am saying is, we can be pragmatic at the beginning while allocating capacity, and then find a smart way of knowing required minimal capacity at runtime. ArrayList provides a method called <code>ensureCapacity(int minCapacity)</code>. But then, one has find a smart way...</p>\n"},{"tags":[],"owner":{"account_id":211811,"reputation":726,"user_id":464219,"accept_rate":17,"display_name":"Hamedz"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1465048577,"creation_date":1465048577,"answer_id":37631067,"question_id":15430247,"body_markdown":"I have tested ArrayList with and without initialCapacity and I got suprising result \r\n&lt;br/&gt; \r\nWhen I set LOOP_NUMBER to 100,000 or less the result is that setting initialCapacity is efficient.\r\n&lt;br&gt;\r\n\r\n    list1Sttop-list1Start = 14\r\n    list2Sttop-list2Start = 10\r\n\r\n&lt;br/&gt; \r\nBut when I set LOOP_NUMBER to 1,000,000 the result changes to:\r\n&lt;br/&gt; \r\n\r\n    list1Stop-list1Start = 40\r\n    list2Stop-list2Start = 66\r\n\r\n&lt;br/&gt; \r\nFinally, I couldn&#39;t figure out how does it works?!\r\n&lt;br/&gt; \r\nSample code:\r\n\r\n     public static final int LOOP_NUMBER = 100000;\r\n\r\n    public static void main(String[] args) {\r\n\r\n        long list1Start = System.currentTimeMillis();\r\n        List&lt;Integer&gt; list1 = new ArrayList();\r\n        for (int i = 0; i &lt; LOOP_NUMBER; i++) {\r\n            list1.add(i);\r\n        }\r\n        long list1Stop = System.currentTimeMillis();\r\n        System.out.println(&quot;list1Stop-list1Start = &quot; + String.valueOf(list1Stop - list1Start));\r\n\r\n        long list2Start = System.currentTimeMillis();\r\n        List&lt;Integer&gt; list2 = new ArrayList(LOOP_NUMBER);\r\n        for (int i = 0; i &lt; LOOP_NUMBER; i++) {\r\n            list2.add(i);\r\n        }\r\n        long list2Stop = System.currentTimeMillis();\r\n        System.out.println(&quot;list2Stop-list2Start = &quot; + String.valueOf(list2Stop - list2Start));\r\n\t}\r\nI have tested on windows8.1 and jdk1.7.0_80","title":"Why start an ArrayList with an initial capacity?","body":"<p>I have tested ArrayList with and without initialCapacity and I got suprising result \n<br/> \nWhen I set LOOP_NUMBER to 100,000 or less the result is that setting initialCapacity is efficient.\n<br></p>\n\n<pre><code>list1Sttop-list1Start = 14\nlist2Sttop-list2Start = 10\n</code></pre>\n\n<p><br/> \nBut when I set LOOP_NUMBER to 1,000,000 the result changes to:\n<br/> </p>\n\n<pre><code>list1Stop-list1Start = 40\nlist2Stop-list2Start = 66\n</code></pre>\n\n<p><br/> \nFinally, I couldn't figure out how does it works?!\n<br/> \nSample code:</p>\n\n<pre><code> public static final int LOOP_NUMBER = 100000;\n\npublic static void main(String[] args) {\n\n    long list1Start = System.currentTimeMillis();\n    List&lt;Integer&gt; list1 = new ArrayList();\n    for (int i = 0; i &lt; LOOP_NUMBER; i++) {\n        list1.add(i);\n    }\n    long list1Stop = System.currentTimeMillis();\n    System.out.println(\"list1Stop-list1Start = \" + String.valueOf(list1Stop - list1Start));\n\n    long list2Start = System.currentTimeMillis();\n    List&lt;Integer&gt; list2 = new ArrayList(LOOP_NUMBER);\n    for (int i = 0; i &lt; LOOP_NUMBER; i++) {\n        list2.add(i);\n    }\n    long list2Stop = System.currentTimeMillis();\n    System.out.println(\"list2Stop-list2Start = \" + String.valueOf(list2Stop - list2Start));\n}\n</code></pre>\n\n<p>I have tested on windows8.1 and jdk1.7.0_80</p>\n"}],"owner":{"account_id":1492989,"reputation":15802,"user_id":1399620,"accept_rate":83,"display_name":"Rob"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89872,"favorite_count":0,"down_vote_count":3,"up_vote_count":164,"accepted_answer_id":15430259,"answer_count":11,"score":161,"last_activity_date":1634819409,"creation_date":1363344066,"question_id":15430247,"body_markdown":"The usual constructor of `ArrayList` is:\r\n\r\n    ArrayList&lt;?&gt; list = new ArrayList&lt;&gt;();\r\n\r\nBut there is also an overloaded constructor with a parameter for its initial capacity:\r\n\r\n    ArrayList&lt;?&gt; list = new ArrayList&lt;&gt;(20);\r\n\r\nWhy is it useful to create an `ArrayList` with an initial capacity when we can append to it as we please?","title":"Why start an ArrayList with an initial capacity?","body":"<p>The usual constructor of <code>ArrayList</code> is:</p>\n\n<pre><code>ArrayList&lt;?&gt; list = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>But there is also an overloaded constructor with a parameter for its initial capacity:</p>\n\n<pre><code>ArrayList&lt;?&gt; list = new ArrayList&lt;&gt;(20);\n</code></pre>\n\n<p>Why is it useful to create an <code>ArrayList</code> with an initial capacity when we can append to it as we please?</p>\n"},{"tags":["java","amazon-s3","apache-flink","flink-streaming"],"owner":{"account_id":23100777,"reputation":21,"user_id":17210210,"display_name":"Yuriy Kwak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1634819334,"creation_date":1634819334,"question_id":69661997,"body_markdown":"We have a flink streaming job which consumes messages from kafka topic and saves it to S3 storage using StreamingFileSink sink. Job run with parallelism of 10. At the beginning job was running without any exceptions for several days. However we have got stuck with processing messages, because 6 threads cannot recover state from latest successful checkpoint.\r\nIn UI we have next exception - \r\n\r\n    java.io.IOException: Recovering commit failed for object RMS/XXLM_RMS_BATCH_COMP_DPAC/2021-10-14--10/part-9-644. Object does not exist and MultiPart Upload 0005CE4D24D0D208 is not valid.\r\n\tat org.apache.flink.fs.s3.common.writer.S3Committer.commitAfterRecovery(S3Committer.java:123)\r\n\tat org.apache.flink.streaming.api.functions.sink.filesystem.OutputStreamBasedPartFileWriter$OutputStreamBasedPendingFile.commitAfterRecovery(OutputStreamBasedPartFileWriter.java:218)\r\n\tat org.apache.flink.streaming.api.functions.sink.filesystem.Bucket.commitRecoveredPendingFiles(Bucket.java:160)\r\n\tat org.apache.flink.streaming.api.functions.sink.filesystem.Bucket.&lt;init&gt;(Bucket.java:127)\r\n\tat org.apache.flink.streaming.api.functions.sink.filesystem.Bucket.restore(Bucket.java:466)\r\n\tat org.apache.flink.streaming.api.functions.sink.filesystem.DefaultBucketFactoryImpl.restoreBucket(DefaultBucketFactoryImpl.java:67)\r\n\tat org.apache.flink.streaming.api.functions.sink.filesystem.Buckets.handleRestoredBucketState(Buckets.java:192)\r\n\tat org.apache.flink.streaming.api.functions.sink.filesystem.Buckets.initializeActiveBuckets(Buckets.java:179)\r\n\tat org.apache.flink.streaming.api.functions.sink.filesystem.Buckets.initializeState(Buckets.java:163)\r\n\tat org.apache.flink.streaming.api.functions.sink.filesystem.StreamingFileSinkHelper.&lt;init&gt;(StreamingFileSinkHelper.java:75)\r\n\tat org.apache.flink.streaming.api.functions.sink.filesystem.StreamingFileSink.initializeState(StreamingFileSink.java:472)\r\n\tat org.apache.flink.streaming.util.functions.StreamingFunctionUtils.tryRestoreFunction(StreamingFunctionUtils.java:189)\r\n\tat org.apache.flink.streaming.util.functions.StreamingFunctionUtils.restoreFunctionState(StreamingFunctionUtils.java:171)\r\n\tat org.apache.flink.streaming.api.operators.AbstractUdfStreamOperator.initializeState(AbstractUdfStreamOperator.java:96)\r\n\tat org.apache.flink.streaming.api.operators.StreamOperatorStateHandler.initializeOperatorState(StreamOperatorStateHandler.java:118)\r\n\tat org.apache.flink.streaming.api.operators.AbstractStreamOperator.initializeState(AbstractStreamOperator.java:290)\r\n\tat org.apache.flink.streaming.runtime.tasks.OperatorChain.initializeStateAndOpenOperators(OperatorChain.java:436)\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.restoreGates(StreamTask.java:574)\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTaskActionExecutor$SynchronizedStreamTaskActionExecutor.call(StreamTaskActionExecutor.java:100)\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.restore(StreamTask.java:554)\r\n\tat org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:756)\r\n\tat org.apache.flink.runtime.taskmanager.Task.run(Task.java:563)\r\n\tat java.lang.Thread.run(Thread.java:748) Caused by: org.apache.hadoop.fs.s3a.AWSBadRequestException: Completing multipart commit on RMS/XXLM_RMS_BATCH_COMP_DPAC/2021-10-14--10/part-9-644: com.amazonaws.services.s3.model.AmazonS3Exception: s entity tag. (Service: Amazon S3; Status Code: 400; Error Code: InvalidPart; Request ID: 4a52c48aed3bffc6; S3 Extended Request ID: null; Proxy: null), S3 Extended Request ID: null:InvalidPart: s entity tag. (Service: Amazon S3; Status Code: 400; Error Code: InvalidPart; Request ID: 4a52c48aed3bffc6; S3 Extended Request ID: null; Proxy: null)\r\n\tat org.apache.hadoop.fs.s3a.S3AUtils.translateException(S3AUtils.java:212)\r\n\tat org.apache.hadoop.fs.s3a.Invoker.once(Invoker.java:111)\r\n\tat org.apache.hadoop.fs.s3a.Invoker.lambda$retry$3(Invoker.java:260)\r\n\tat org.apache.hadoop.fs.s3a.Invoker.retryUntranslated(Invoker.java:317)\r\n\tat org.apache.hadoop.fs.s3a.Invoker.retry(Invoker.java:256)\r\n\tat org.apache.hadoop.fs.s3a.WriteOperationHelper.finalizeMultipartUpload(WriteOperationHelper.java:222)\r\n\tat org.apache.hadoop.fs.s3a.WriteOperationHelper.completeMPUwithRetries(WriteOperationHelper.java:267)\r\n\tat org.apache.flink.fs.s3hadoop.HadoopS3AccessHelper.commitMultiPartUpload(HadoopS3AccessHelper.java:95)\r\n\tat org.apache.flink.fs.s3.common.writer.S3Committer.commitAfterRecovery(S3Committer.java:93)\r\n\t... 22 more Caused by: com.amazonaws.services.s3.model.AmazonS3Exception: s entity tag. (Service: Amazon S3; Status Code: 400; Error Code: InvalidPart; Request ID: 4a52c48aed3bffc6; S3 Extended Request ID: null; Proxy: null), S3 Extended Request ID: null\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleErrorResponse(AmazonHttpClient.java:1811)\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleServiceErrorResponse(AmazonHttpClient.java:1395)\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1371)\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1145)\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:802)\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:770)\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:744)\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:704)\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:686)\r\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:550)\r\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:530)\r\n\tat com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:5062)\r\n\tat com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:5008)\r\n\tat com.amazonaws.services.s3.AmazonS3Client.completeMultipartUpload(AmazonS3Client.java:3490)\r\n\tat org.apache.hadoop.fs.s3a.WriteOperationHelper.lambda$finalizeMultipartUpload$1(WriteOperationHelper.java:229)\r\n\tat org.apache.hadoop.fs.s3a.Invoker.once(Invoker.java:109)\r\n\t... 29 more\r\n\r\n\r\n\r\n[Screen of running job][1]\r\n\r\nAnd if we look inside the bucket on S3 there are no files mentioned in error message, for instance part-9-644 or part-0-644 or part-5-644, but there are some temp files with such prefixes.\r\n\r\n[List of objects in bucket][2]\r\n\r\nAnother thing that we want mention is that last checkpoint was failed with Exception: Checkpoint Coordinator is suspending.\r\n\r\n[Checkpoints summary][3]\r\n\r\nHas anybody faced the same problem? Or may be could explain the root cause of such situation?\r\n\r\nThanks.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mZHBB.png\r\n  [2]: https://i.stack.imgur.com/P9JRJ.png\r\n  [3]: https://i.stack.imgur.com/LK6M0.png","title":"Apache Flink. Streaming job can not continue processing messages because some threads of job could not recover state from latest successful checkpoint","body":"<p>We have a flink streaming job which consumes messages from kafka topic and saves it to S3 storage using StreamingFileSink sink. Job run with parallelism of 10. At the beginning job was running without any exceptions for several days. However we have got stuck with processing messages, because 6 threads cannot recover state from latest successful checkpoint.\nIn UI we have next exception -</p>\n<pre><code>java.io.IOException: Recovering commit failed for object RMS/XXLM_RMS_BATCH_COMP_DPAC/2021-10-14--10/part-9-644. Object does not exist and MultiPart Upload 0005CE4D24D0D208 is not valid.\nat org.apache.flink.fs.s3.common.writer.S3Committer.commitAfterRecovery(S3Committer.java:123)\nat org.apache.flink.streaming.api.functions.sink.filesystem.OutputStreamBasedPartFileWriter$OutputStreamBasedPendingFile.commitAfterRecovery(OutputStreamBasedPartFileWriter.java:218)\nat org.apache.flink.streaming.api.functions.sink.filesystem.Bucket.commitRecoveredPendingFiles(Bucket.java:160)\nat org.apache.flink.streaming.api.functions.sink.filesystem.Bucket.&lt;init&gt;(Bucket.java:127)\nat org.apache.flink.streaming.api.functions.sink.filesystem.Bucket.restore(Bucket.java:466)\nat org.apache.flink.streaming.api.functions.sink.filesystem.DefaultBucketFactoryImpl.restoreBucket(DefaultBucketFactoryImpl.java:67)\nat org.apache.flink.streaming.api.functions.sink.filesystem.Buckets.handleRestoredBucketState(Buckets.java:192)\nat org.apache.flink.streaming.api.functions.sink.filesystem.Buckets.initializeActiveBuckets(Buckets.java:179)\nat org.apache.flink.streaming.api.functions.sink.filesystem.Buckets.initializeState(Buckets.java:163)\nat org.apache.flink.streaming.api.functions.sink.filesystem.StreamingFileSinkHelper.&lt;init&gt;(StreamingFileSinkHelper.java:75)\nat org.apache.flink.streaming.api.functions.sink.filesystem.StreamingFileSink.initializeState(StreamingFileSink.java:472)\nat org.apache.flink.streaming.util.functions.StreamingFunctionUtils.tryRestoreFunction(StreamingFunctionUtils.java:189)\nat org.apache.flink.streaming.util.functions.StreamingFunctionUtils.restoreFunctionState(StreamingFunctionUtils.java:171)\nat org.apache.flink.streaming.api.operators.AbstractUdfStreamOperator.initializeState(AbstractUdfStreamOperator.java:96)\nat org.apache.flink.streaming.api.operators.StreamOperatorStateHandler.initializeOperatorState(StreamOperatorStateHandler.java:118)\nat org.apache.flink.streaming.api.operators.AbstractStreamOperator.initializeState(AbstractStreamOperator.java:290)\nat org.apache.flink.streaming.runtime.tasks.OperatorChain.initializeStateAndOpenOperators(OperatorChain.java:436)\nat org.apache.flink.streaming.runtime.tasks.StreamTask.restoreGates(StreamTask.java:574)\nat org.apache.flink.streaming.runtime.tasks.StreamTaskActionExecutor$SynchronizedStreamTaskActionExecutor.call(StreamTaskActionExecutor.java:100)\nat org.apache.flink.streaming.runtime.tasks.StreamTask.restore(StreamTask.java:554)\nat org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:756)\nat org.apache.flink.runtime.taskmanager.Task.run(Task.java:563)\nat java.lang.Thread.run(Thread.java:748) Caused by: org.apache.hadoop.fs.s3a.AWSBadRequestException: Completing multipart commit on RMS/XXLM_RMS_BATCH_COMP_DPAC/2021-10-14--10/part-9-644: com.amazonaws.services.s3.model.AmazonS3Exception: s entity tag. (Service: Amazon S3; Status Code: 400; Error Code: InvalidPart; Request ID: 4a52c48aed3bffc6; S3 Extended Request ID: null; Proxy: null), S3 Extended Request ID: null:InvalidPart: s entity tag. (Service: Amazon S3; Status Code: 400; Error Code: InvalidPart; Request ID: 4a52c48aed3bffc6; S3 Extended Request ID: null; Proxy: null)\nat org.apache.hadoop.fs.s3a.S3AUtils.translateException(S3AUtils.java:212)\nat org.apache.hadoop.fs.s3a.Invoker.once(Invoker.java:111)\nat org.apache.hadoop.fs.s3a.Invoker.lambda$retry$3(Invoker.java:260)\nat org.apache.hadoop.fs.s3a.Invoker.retryUntranslated(Invoker.java:317)\nat org.apache.hadoop.fs.s3a.Invoker.retry(Invoker.java:256)\nat org.apache.hadoop.fs.s3a.WriteOperationHelper.finalizeMultipartUpload(WriteOperationHelper.java:222)\nat org.apache.hadoop.fs.s3a.WriteOperationHelper.completeMPUwithRetries(WriteOperationHelper.java:267)\nat org.apache.flink.fs.s3hadoop.HadoopS3AccessHelper.commitMultiPartUpload(HadoopS3AccessHelper.java:95)\nat org.apache.flink.fs.s3.common.writer.S3Committer.commitAfterRecovery(S3Committer.java:93)\n... 22 more Caused by: com.amazonaws.services.s3.model.AmazonS3Exception: s entity tag. (Service: Amazon S3; Status Code: 400; Error Code: InvalidPart; Request ID: 4a52c48aed3bffc6; S3 Extended Request ID: null; Proxy: null), S3 Extended Request ID: null\nat com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleErrorResponse(AmazonHttpClient.java:1811)\nat com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleServiceErrorResponse(AmazonHttpClient.java:1395)\nat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1371)\nat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1145)\nat com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:802)\nat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:770)\nat com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:744)\nat com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:704)\nat com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:686)\nat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:550)\nat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:530)\nat com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:5062)\nat com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:5008)\nat com.amazonaws.services.s3.AmazonS3Client.completeMultipartUpload(AmazonS3Client.java:3490)\nat org.apache.hadoop.fs.s3a.WriteOperationHelper.lambda$finalizeMultipartUpload$1(WriteOperationHelper.java:229)\nat org.apache.hadoop.fs.s3a.Invoker.once(Invoker.java:109)\n... 29 more\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/mZHBB.png\" rel=\"nofollow noreferrer\">Screen of running job</a></p>\n<p>And if we look inside the bucket on S3 there are no files mentioned in error message, for instance part-9-644 or part-0-644 or part-5-644, but there are some temp files with such prefixes.</p>\n<p><a href=\"https://i.stack.imgur.com/P9JRJ.png\" rel=\"nofollow noreferrer\">List of objects in bucket</a></p>\n<p>Another thing that we want mention is that last checkpoint was failed with Exception: Checkpoint Coordinator is suspending.</p>\n<p><a href=\"https://i.stack.imgur.com/LK6M0.png\" rel=\"nofollow noreferrer\">Checkpoints summary</a></p>\n<p>Has anybody faced the same problem? Or may be could explain the root cause of such situation?</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring-mvc","struts2","action-mapping"],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504268659,"creation_date":1504268659,"answer_id":46000258,"question_id":45998958,"body_markdown":"You can achieve this if you map Spring MVC servlet to either than a default servlet. Then it could be handled by the servlet container.\r\n\r\nTo exclude some patterns from the mapping you can use url rewrite filter. You can read more about this in my answer to [How can URL rewriting in Struts2.x][1]. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/25259936/573032","title":"How to exclude particular action name (servlets) from Spring MVC Request mapping so that it looks for that action into web.xml","body":"<p>You can achieve this if you map Spring MVC servlet to either than a default servlet. Then it could be handled by the servlet container.</p>\n\n<p>To exclude some patterns from the mapping you can use url rewrite filter. You can read more about this in my answer to <a href=\"https://stackoverflow.com/a/25259936/573032\">How can URL rewriting in Struts2.x</a>. </p>\n"}],"owner":{"account_id":1504891,"reputation":520,"user_id":1408512,"accept_rate":48,"display_name":"Ashish Kataria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634819233,"creation_date":1504264091,"question_id":45998958,"body_markdown":"In Struts I have used \r\n\r\n    &lt;constant name=&quot;struts.action.excludePattern&quot; value=&quot;/servlet-action&quot;/&gt;\r\n\r\nDoing above, Struts avoids looking for `/servlet-action` into `struts.xml` and goes to `web.xml`. \r\n\r\nHow to achieve this in Spring MVC?\r\n\r\nOr can `@RequestMapping` be done for servlets?","title":"How to exclude particular action name (servlets) from Spring MVC Request mapping so that it looks for that action into web.xml","body":"<p>In Struts I have used</p>\n<pre><code>&lt;constant name=&quot;struts.action.excludePattern&quot; value=&quot;/servlet-action&quot;/&gt;\n</code></pre>\n<p>Doing above, Struts avoids looking for <code>/servlet-action</code> into <code>struts.xml</code> and goes to <code>web.xml</code>.</p>\n<p>How to achieve this in Spring MVC?</p>\n<p>Or can <code>@RequestMapping</code> be done for servlets?</p>\n"},{"tags":["java","servlets","classpath","tomcat9"],"answers":[{"tags":[],"owner":{"account_id":22946308,"reputation":69,"user_id":17078245,"display_name":"kody-technolab"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634819180,"creation_date":1634819180,"answer_id":69661964,"question_id":69656227,"body_markdown":"You can add your Servlet and other third party jar files in classpath while compiling with &quot;**javac**&quot; command using the &quot;**-cp**&quot; option. \r\nBelow command demonstrate adding two jar files in classpath servlet-api.jar and another.jar while compiling MyFirstServlet.java controller.\r\n\r\n    javac -cp &quot;/path/to/your/servlet-api.jar:/path/to/your/another.jar;&quot; MyFirstServlet.java\r\n\r\nWith this approach **you do not need to set CLASSPATH in the system variables** for your third party jar files.","title":"Error while compiling java files and java-servlet files","body":"<p>You can add your Servlet and other third party jar files in classpath while compiling with &quot;<strong>javac</strong>&quot; command using the &quot;<strong>-cp</strong>&quot; option.\nBelow command demonstrate adding two jar files in classpath servlet-api.jar and another.jar while compiling MyFirstServlet.java controller.</p>\n<pre><code>javac -cp &quot;/path/to/your/servlet-api.jar:/path/to/your/another.jar;&quot; MyFirstServlet.java\n</code></pre>\n<p>With this approach <strong>you do not need to set CLASSPATH in the system variables</strong> for your third party jar files.</p>\n"}],"owner":{"account_id":16101647,"reputation":23,"user_id":11622254,"display_name":"ADITYA UDAY UBALE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69661964,"answer_count":1,"score":0,"last_activity_date":1634819180,"creation_date":1634793506,"question_id":69656227,"body_markdown":"I am currently new to java and servlets. I am using Apache Tomcat 9.0 as my server and creating the servlets.\r\nThe error I am getting or the place where I am getting stuck is that when I set CLASSPATH in the system variables as the location of &quot;servlet-api.jar&quot; file the servlet programs compile and run or function properly but not the simple java programs. And the reverse is also true, that is when I remove the CLASSPATH from system variables the servlet programs throw error and the normal java programs compile and run fine.\r\nWhat to do please help.","title":"Error while compiling java files and java-servlet files","body":"<p>I am currently new to java and servlets. I am using Apache Tomcat 9.0 as my server and creating the servlets.\nThe error I am getting or the place where I am getting stuck is that when I set CLASSPATH in the system variables as the location of &quot;servlet-api.jar&quot; file the servlet programs compile and run or function properly but not the simple java programs. And the reverse is also true, that is when I remove the CLASSPATH from system variables the servlet programs throw error and the normal java programs compile and run fine.\nWhat to do please help.</p>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1634783153,"post_id":69655061,"comment_id":123120395,"body_markdown":"1. Remove `== true`. 2. Remove `else`: it is redundant after `return`.","body":"1. Remove <code>== true</code>. 2. Remove <code>else</code>: it is redundant after <code>return</code>."}],"answers":[{"tags":[],"owner":{"account_id":2005971,"reputation":536,"user_id":1795860,"accept_rate":91,"display_name":"TheNytangel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1634782762,"creation_date":1634782762,"answer_id":69655069,"question_id":69655061,"body_markdown":"No need to add `== true` when you&#39;re already working with a boolean\r\n```\r\nif (check()) {\r\n...\r\n}\r\nelse {\r\n...\r\n}\r\n```","title":"How can I simplify this if statement?","body":"<p>No need to add <code>== true</code> when you're already working with a boolean</p>\n<pre><code>if (check()) {\n...\n}\nelse {\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9087291,"reputation":693,"user_id":6764727,"display_name":"Rohith Joseph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634782780,"creation_date":1634782780,"answer_id":69655072,"question_id":69655061,"body_markdown":"You can use the ternary operator.\r\n\r\n    return check() ? amount * 0.85 : amount","title":"How can I simplify this if statement?","body":"<p>You can use the ternary operator.</p>\n<pre><code>return check() ? amount * 0.85 : amount\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634818980,"creation_date":1634784493,"answer_id":69655256,"question_id":69655061,"body_markdown":"Convert the boolean to an integer, then use that as an index int an array to get the value to multiply `amount` by, and you don&#39;t need an `if` or ternary operator:\r\n\r\n    return amount * (new double[] {1.0, 0.85}[Boolean.compare(check(), false)]);\r\n\r\nI am kidding. This is the worst way I could come up with.\r\n\r\nIn seriousness, style checking programs mostly care about how complex your expressions are and how many potential branches there are (cyclomatic complexity), so remove the `else`, and don&#39;t compare `true` to `true` to get `true`, and that should be enough to make it happy.","title":"How can I simplify this if statement?","body":"<p>Convert the boolean to an integer, then use that as an index int an array to get the value to multiply <code>amount</code> by, and you don't need an <code>if</code> or ternary operator:</p>\n<pre><code>return amount * (new double[] {1.0, 0.85}[Boolean.compare(check(), false)]);\n</code></pre>\n<p>I am kidding. This is the worst way I could come up with.</p>\n<p>In seriousness, style checking programs mostly care about how complex your expressions are and how many potential branches there are (cyclomatic complexity), so remove the <code>else</code>, and don't compare <code>true</code> to <code>true</code> to get <code>true</code>, and that should be enough to make it happy.</p>\n"}],"owner":{"account_id":23096832,"reputation":21,"user_id":17206796,"display_name":"xman55"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1634818980,"creation_date":1634782666,"question_id":69655061,"body_markdown":"Basically, I am doing a java program for school. The checkstyle program we are required to use is saying that I am not simplifying my if statement enough. Is there a better way to do this?\r\n\r\nMy code:\r\n\r\n        if (check() == true)\r\n\t\t{\r\n\t\t\treturn amount * 0.85;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\treturn amount;\r\n\t\t}","title":"How can I simplify this if statement?","body":"<p>Basically, I am doing a java program for school. The checkstyle program we are required to use is saying that I am not simplifying my if statement enough. Is there a better way to do this?</p>\n<p>My code:</p>\n<pre><code>    if (check() == true)\n    {\n        return amount * 0.85;\n    }\n    else\n    {\n        return amount;\n    }\n</code></pre>\n"},{"tags":["java","apache","normalization","relative-path","absolute-path"],"comments":[{"owner":{"account_id":140182,"reputation":10883,"user_id":346297,"accept_rate":85,"display_name":"Wassim AZIRAR"},"score":0,"creation_date":1313656491,"post_id":7104517,"comment_id":8508889,"body_markdown":"I&#39;m using Eclipse Indigo","body":"I&#39;m using Eclipse Indigo"}],"answers":[{"tags":[],"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1313656451,"creation_date":1313656451,"answer_id":7104547,"question_id":7104517,"body_markdown":"keep the import as `import org.apache.commons.io.FilenameUtils;`\r\nand invoke the method as `FilenameUtils.normalize(string)`.\r\n\r\nor change the import to `import static org.apache.commons.io.FilenameUtils.normalize;`\r\nand leave the method invocation as it is (`normalize(string)`).","title":"Why this import is not working","body":"<p>keep the import as <code>import org.apache.commons.io.FilenameUtils;</code>\nand invoke the method as <code>FilenameUtils.normalize(string)</code>.</p>\n\n<p>or change the import to <code>import static org.apache.commons.io.FilenameUtils.normalize;</code>\nand leave the method invocation as it is (<code>normalize(string)</code>).</p>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1313656495,"creation_date":1313656495,"answer_id":7104554,"question_id":7104517,"body_markdown":"Either import the class:\r\n\r\n    import org.apache.commons.io.FilenameUtils;\r\n\r\n    FilenameUtils.normalize(string);\r\n\r\n\r\nor import the method:\r\n\r\n    import static org.apache.commons.io.FilenameUtils.normalize;\r\n\r\n    normalize(string);\r\n\r\nAnd if you are using Eclipse, just press Ctrl-shift-M to import what your cursor is at.\r\nAlso autocompleting classnames should add imports.","title":"Why this import is not working","body":"<p>Either import the class:</p>\n\n<pre><code>import org.apache.commons.io.FilenameUtils;\n\nFilenameUtils.normalize(string);\n</code></pre>\n\n<p>or import the method:</p>\n\n<pre><code>import static org.apache.commons.io.FilenameUtils.normalize;\n\nnormalize(string);\n</code></pre>\n\n<p>And if you are using Eclipse, just press Ctrl-shift-M to import what your cursor is at.\nAlso autocompleting classnames should add imports.</p>\n"},{"tags":[],"owner":{"account_id":433005,"reputation":12982,"user_id":818091,"accept_rate":92,"display_name":"Matthew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1313656772,"creation_date":1313656772,"answer_id":7104594,"question_id":7104517,"body_markdown":"Looks like a static method. You need to keep the import there and then call:\r\n\r\n    FilenameUtils.normalize(String);","title":"Why this import is not working","body":"<p>Looks like a static method. You need to keep the import there and then call:</p>\n\n<pre><code>FilenameUtils.normalize(String);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4005056,"reputation":131,"user_id":3299930,"accept_rate":0,"display_name":"kiran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634818928,"creation_date":1634818928,"answer_id":69661914,"question_id":7104517,"body_markdown":"Just type FileNameUil and then press ctl + space u. select org. Apace.common.io your eclpse or intelliJ would auto add import statement then select Normalize\r\n","title":"Why this import is not working","body":"<p>Just type FileNameUil and then press ctl + space u. select org. Apace.common.io your eclpse or intelliJ would auto add import statement then select Normalize</p>\n"}],"owner":{"account_id":140182,"reputation":10883,"user_id":346297,"accept_rate":85,"display_name":"Wassim AZIRAR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5967,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":7104554,"answer_count":4,"score":1,"last_activity_date":1634818928,"creation_date":1313656296,"question_id":7104517,"body_markdown":"I&#39;m using a the normalize function to get the absolute path from a String,\r\n\r\n    org.apache.commons.io.FilenameUtils.normalize(String)\r\n\r\nBut when I use just `normalize(String)` I get :\r\n\r\n&gt; The method normalize(String) is undefined for the type MyClass\r\n\r\nI tried : ` import org.apache.commons.io.FilenameUtils;`\r\n\r\nI downloaded the library from Apache website, and linked it to my project but I get the same error.\r\n\r\nI don&#39;t want to write everytime the whole line to call the function.\r\n\r\nIs there any solution for this ?\r\n\r\nThanks","title":"Why this import is not working","body":"<p>I'm using a the normalize function to get the absolute path from a String,</p>\n\n<pre><code>org.apache.commons.io.FilenameUtils.normalize(String)\n</code></pre>\n\n<p>But when I use just <code>normalize(String)</code> I get :</p>\n\n<blockquote>\n  <p>The method normalize(String) is undefined for the type MyClass</p>\n</blockquote>\n\n<p>I tried : <code>import org.apache.commons.io.FilenameUtils;</code></p>\n\n<p>I downloaded the library from Apache website, and linked it to my project but I get the same error.</p>\n\n<p>I don't want to write everytime the whole line to call the function.</p>\n\n<p>Is there any solution for this ?</p>\n\n<p>Thanks</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":2,"creation_date":1633517473,"post_id":69464147,"comment_id":122778990,"body_markdown":"You could use [LocalDateTime](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html) from the Java 8 Date and Time APIs instead of messing around with strings and use [Duration](https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html) class to calculate the duration between start and end time more easily to generally make your code more readable.","body":"You could use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\">LocalDateTime</a> from the Java 8 Date and Time APIs instead of messing around with strings and use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\" rel=\"nofollow noreferrer\">Duration</a> class to calculate the duration between start and end time more easily to generally make your code more readable."},{"owner":{"account_id":13325221,"reputation":2563,"user_id":9618378,"display_name":"Drashti Dobariya"},"score":0,"creation_date":1633518449,"post_id":69464147,"comment_id":122779389,"body_markdown":"Yes. I agree. But they do not help in my case. Thanks for the comment anyway.","body":"Yes. I agree. But they do not help in my case. Thanks for the comment anyway."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1633523047,"post_id":69464147,"comment_id":122781308,"body_markdown":"Do you want a result that says something like &quot;0 to 1 o&#39;clock: 0 seconds, 1 to 2 o&#39;clock: 0 seconds, ..., 13 - 14 o&#39;clock: 2745 seconds, ...&quot;? If yes, definitely use `LocalDateTime` in combination with a `Duration` as @Eritrean recommended, maybe even `OffsetDateTime` or `ZonedDateTime`.","body":"Do you want a result that says something like &quot;0 to 1 o&#39;clock: 0 seconds, 1 to 2 o&#39;clock: 0 seconds, ..., 13 - 14 o&#39;clock: 2745 seconds, ...&quot;? If yes, definitely use <code>LocalDateTime</code> in combination with a <code>Duration</code> as @Eritrean recommended, maybe even <code>OffsetDateTime</code> or <code>ZonedDateTime</code>."},{"owner":{"account_id":13325221,"reputation":2563,"user_id":9618378,"display_name":"Drashti Dobariya"},"score":0,"creation_date":1633523122,"post_id":69464147,"comment_id":122781339,"body_markdown":"Yes. That is correct.","body":"Yes. That is correct."}],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633525045,"creation_date":1633525045,"answer_id":69466161,"question_id":69464147,"body_markdown":"Let&#39;s assume you were about to use a `java.time.LocalDateTime`…  \r\nAnd let&#39;s say you would provide the hour slots as well as the usage times in form of pairs of `LocalDateTime`s.\r\n\r\nYou could create a method that calculates the seconds for a given slot like this:\r\n\r\n```java\r\npublic static long getSlotSeconds(LocalDateTime fromHourDateTime, LocalDateTime toHourDateTime, \r\n\t\tLocalDateTime usageFromDateTime, LocalDateTime usageToDateTime) {\r\n\t// define some date times as temp variables\r\n\tLocalDateTime calculateFrom;\r\n\tLocalDateTime calculateTo;\r\n\t\r\n\t/*\r\n\t * find out where the calculation has to begin: \r\n\t * \t\t- usage start\r\n\t * \t\t- slot start\r\n\t * \t\t- skip this slot resp. return usage time of 0 seconds\r\n\t */\r\n\t\r\n\t// if usage time start was before slot start\r\n\tif (usageFromDateTime.isBefore(fromHourDateTime)) {\r\n\t\t// begin calculation at the start of the slot.\r\n\t\tcalculateFrom = fromHourDateTime;\r\n\t// if usage time started after slot end\r\n\t} else if (usageFromDateTime.isAfter(toHourDateTime)) {\r\n\t\t// you will directly know that no time was spent in this slot\r\n\t\treturn 0;\r\n\t// and otherwise, usage start was within this slot, so\r\n\t} else {\r\n\t\t// begin calculation at the start of usage\r\n\t\tcalculateFrom = usageFromDateTime;\r\n\t}\r\n\t\r\n\t/*\r\n\t * find out which end time to use:\r\n\t * \t\t- usage end\r\n\t * \t\t- slot end\r\n\t */\r\n\t\r\n\t// if the usage ended before this slot did\r\n\tif (usageToDateTime.isBefore(toHourDateTime)) {\r\n\t\t// calculate until the end of usage\r\n\t\tcalculateTo = usageToDateTime;\r\n\t// and if the slot ended before the usage\r\n\t} else {\r\n\t\t// calculate until the end of the slot\r\n\t\tcalculateTo = toHourDateTime;\r\n\t}\r\n\t\r\n\t// finally calculate the result in seconds and return it\r\n\treturn Duration.between(calculateFrom, calculateTo).toSeconds();\r\n}\r\n```\r\n\r\nA possible usage of this could look as follows\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\t// a single example usage time\r\n\tString fromOne = &quot;28/06/2021 13:14:15&quot;;\r\n\tString toOne = &quot;28/06/2021 15:12:09&quot;;\r\n\t// define how to parse the input Strings\r\n\tDateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;dd/MM/uuuu H:mm:ss&quot;);\r\n\t// then parse them\r\n\tLocalDateTime fromUsageDateTime = LocalDateTime.parse(fromOne, parser);\r\n\tLocalDateTime toUsageDateTime = LocalDateTime.parse(toOne, parser);\r\n\t// define the slot to be checked (here only one relevant for the example usage time)\r\n\tLocalTime slotFrom = LocalTime.of(13, 0);\r\n\tLocalTime slotTo = LocalTime.of(14, 0);\r\n\t// then add the dates of the input, they are relevant for the calculation!\r\n\tLocalDateTime slotFromDateTime = LocalDateTime.of(fromUsageDateTime.toLocalDate(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  slotFrom);\r\n\tLocalDateTime slotToDateTime = LocalDateTime.of(toUsageDateTime.toLocalDate(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tslotTo);\r\n\t// call the method and pass the arguments\r\n\tlong usageSecondsInSlot = getSlotSeconds(slotFromDateTime, slotToDateTime,\r\n\t\t\t\t\t\t\t\t\t\t\tfromUsageDateTime, toUsageDateTime);\r\n\t// print something that shows you the result and the base of calculation\r\n\tSystem.out.println(String.format(&quot;User was using the app between %s and %s for %d seconds&quot;, \r\n\t\t\tslotFromDateTime, slotToDateTime, usageSecondsInSlot));\r\n}\r\n```\r\n\r\nThe output produced by this example is\r\n\r\n```lang-none\r\nUser was using the app between 2021-06-28T13:00 and 2021-06-28T14:00 for 2745 seconds\r\n```\r\nThis is no out-of-the-box solution working exactly as you wish, but in includes all you need for a more readable way that doesn&#39;t need to split `String`s or parse `Integer`s.  \r\nThe example method only handles a single hour slot and a single usage time.  \r\nYou will have to make it work for `Collection`s of `LocalDateTime`s or even some custom classes, like `HourSlot` and `UsageTime` yourself.","title":"Get total seconds hourly given a list of start time and end time","body":"<p>Let's assume you were about to use a <code>java.time.LocalDateTime</code>…<br />\nAnd let's say you would provide the hour slots as well as the usage times in form of pairs of <code>LocalDateTime</code>s.</p>\n<p>You could create a method that calculates the seconds for a given slot like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static long getSlotSeconds(LocalDateTime fromHourDateTime, LocalDateTime toHourDateTime, \n        LocalDateTime usageFromDateTime, LocalDateTime usageToDateTime) {\n    // define some date times as temp variables\n    LocalDateTime calculateFrom;\n    LocalDateTime calculateTo;\n    \n    /*\n     * find out where the calculation has to begin: \n     *      - usage start\n     *      - slot start\n     *      - skip this slot resp. return usage time of 0 seconds\n     */\n    \n    // if usage time start was before slot start\n    if (usageFromDateTime.isBefore(fromHourDateTime)) {\n        // begin calculation at the start of the slot.\n        calculateFrom = fromHourDateTime;\n    // if usage time started after slot end\n    } else if (usageFromDateTime.isAfter(toHourDateTime)) {\n        // you will directly know that no time was spent in this slot\n        return 0;\n    // and otherwise, usage start was within this slot, so\n    } else {\n        // begin calculation at the start of usage\n        calculateFrom = usageFromDateTime;\n    }\n    \n    /*\n     * find out which end time to use:\n     *      - usage end\n     *      - slot end\n     */\n    \n    // if the usage ended before this slot did\n    if (usageToDateTime.isBefore(toHourDateTime)) {\n        // calculate until the end of usage\n        calculateTo = usageToDateTime;\n    // and if the slot ended before the usage\n    } else {\n        // calculate until the end of the slot\n        calculateTo = toHourDateTime;\n    }\n    \n    // finally calculate the result in seconds and return it\n    return Duration.between(calculateFrom, calculateTo).toSeconds();\n}\n</code></pre>\n<p>A possible usage of this could look as follows</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    // a single example usage time\n    String fromOne = &quot;28/06/2021 13:14:15&quot;;\n    String toOne = &quot;28/06/2021 15:12:09&quot;;\n    // define how to parse the input Strings\n    DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;dd/MM/uuuu H:mm:ss&quot;);\n    // then parse them\n    LocalDateTime fromUsageDateTime = LocalDateTime.parse(fromOne, parser);\n    LocalDateTime toUsageDateTime = LocalDateTime.parse(toOne, parser);\n    // define the slot to be checked (here only one relevant for the example usage time)\n    LocalTime slotFrom = LocalTime.of(13, 0);\n    LocalTime slotTo = LocalTime.of(14, 0);\n    // then add the dates of the input, they are relevant for the calculation!\n    LocalDateTime slotFromDateTime = LocalDateTime.of(fromUsageDateTime.toLocalDate(),\n                                                      slotFrom);\n    LocalDateTime slotToDateTime = LocalDateTime.of(toUsageDateTime.toLocalDate(),\n                                                    slotTo);\n    // call the method and pass the arguments\n    long usageSecondsInSlot = getSlotSeconds(slotFromDateTime, slotToDateTime,\n                                            fromUsageDateTime, toUsageDateTime);\n    // print something that shows you the result and the base of calculation\n    System.out.println(String.format(&quot;User was using the app between %s and %s for %d seconds&quot;, \n            slotFromDateTime, slotToDateTime, usageSecondsInSlot));\n}\n</code></pre>\n<p>The output produced by this example is</p>\n<pre class=\"lang-none prettyprint-override\"><code>User was using the app between 2021-06-28T13:00 and 2021-06-28T14:00 for 2745 seconds\n</code></pre>\n<p>This is no out-of-the-box solution working exactly as you wish, but in includes all you need for a more readable way that doesn't need to split <code>String</code>s or parse <code>Integer</code>s.<br />\nThe example method only handles a single hour slot and a single usage time.<br />\nYou will have to make it work for <code>Collection</code>s of <code>LocalDateTime</code>s or even some custom classes, like <code>HourSlot</code> and <code>UsageTime</code> yourself.</p>\n"}],"owner":{"account_id":13325221,"reputation":2563,"user_id":9618378,"display_name":"Drashti Dobariya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634818803,"creation_date":1633516559,"question_id":69464147,"body_markdown":"I have a list of start times and end times when the user is active on my app.\r\nI have to calculate the total time in seconds that the user is active on my application and classify them hourly.\r\n\r\nFor example \r\n\r\n    start time: 28/06/2021 13:14:15, end time: 28/06/2021 15:12:09\r\n    start time: 28/06/2021 23:14:15, end time: 29/06/2021 01:12:09\r\n    start time: 28/06/2021 8:14:15, end time: 28/06/2021 9:12:09\r\n    start time: 28/06/2021 1:14:15, end time: 28/06/2021 1:16:09\r\n\r\nFor the above list, I would like to calculate the amount of time user has been active in total between 00-01, 01-02, 02-03 .... 23-00.\r\n\r\n I have written following code:\r\n\r\n```\r\nfor (Object object: objectList) {\r\n\r\n            if (object.getStartTime().equalsIgnoreCase(object.getEndTime())) continue;\r\n\r\n            String[] startTimeArray = object.getStartTime().split(&quot; &quot;)[1].split(&quot;:&quot;);\r\n            String[] endTimeArray = object.getEndTime().split(&quot; &quot;)[1].split(&quot;:&quot;);\r\n\r\n            int startHour = Integer.parseInt(startTimeArray[0]);\r\n            int endHour = Integer.parseInt(endTimeArray[0]);\r\n\r\n            if (startHour == endHour) {\r\n                // difference between two dates getTime gives you difference of time in milliseconds.\r\n                // dividing that by 1000 will give you difference in seconds.\r\n                hourlyUsageList[startHour] += (MyUtils.dateFormat.parse(object.getEndTime()).getTime() -\r\n                        MyUtils.dateFormat.parse(object.getStartTime()).getTime()) / 1000;\r\n            } else {\r\n\r\n                int startMinute = Integer.parseInt(startTimeArray[1]);\r\n                int endMinute = Integer.parseInt(endTimeArray[1]);\r\n                int startSecond = Integer.parseInt(startTimeArray[2]);\r\n                int endSecond = Integer.parseInt(endTimeArray[2]);\r\n\r\n                hourlyUsageList[startHour] += (3600 - (startMinute * 60L) - startSecond);\r\n                hourlyUsageList[endHour] += ((endMinute * 60L) + endSecond);\r\n\r\n                if ((startHour + 1) == endHour) continue;\r\n\r\n                // All hours in between start and end hour have to be completely added to usage time.\r\n                for (int i = startHour + 1; (i % 24) != endHour; i++) {\r\n                    hourlyUsageList[i] += 3600;\r\n                }\r\n            }\r\n        }\r\n```\r\n\r\nThe above code is working as well. However, I would like to know if there is some better and clean code solution for the problem.\r\n\r\nAny help is appreciated.","title":"Get total seconds hourly given a list of start time and end time","body":"<p>I have a list of start times and end times when the user is active on my app.\nI have to calculate the total time in seconds that the user is active on my application and classify them hourly.</p>\n<p>For example</p>\n<pre><code>start time: 28/06/2021 13:14:15, end time: 28/06/2021 15:12:09\nstart time: 28/06/2021 23:14:15, end time: 29/06/2021 01:12:09\nstart time: 28/06/2021 8:14:15, end time: 28/06/2021 9:12:09\nstart time: 28/06/2021 1:14:15, end time: 28/06/2021 1:16:09\n</code></pre>\n<p>For the above list, I would like to calculate the amount of time user has been active in total between 00-01, 01-02, 02-03 .... 23-00.</p>\n<p>I have written following code:</p>\n<pre><code>for (Object object: objectList) {\n\n            if (object.getStartTime().equalsIgnoreCase(object.getEndTime())) continue;\n\n            String[] startTimeArray = object.getStartTime().split(&quot; &quot;)[1].split(&quot;:&quot;);\n            String[] endTimeArray = object.getEndTime().split(&quot; &quot;)[1].split(&quot;:&quot;);\n\n            int startHour = Integer.parseInt(startTimeArray[0]);\n            int endHour = Integer.parseInt(endTimeArray[0]);\n\n            if (startHour == endHour) {\n                // difference between two dates getTime gives you difference of time in milliseconds.\n                // dividing that by 1000 will give you difference in seconds.\n                hourlyUsageList[startHour] += (MyUtils.dateFormat.parse(object.getEndTime()).getTime() -\n                        MyUtils.dateFormat.parse(object.getStartTime()).getTime()) / 1000;\n            } else {\n\n                int startMinute = Integer.parseInt(startTimeArray[1]);\n                int endMinute = Integer.parseInt(endTimeArray[1]);\n                int startSecond = Integer.parseInt(startTimeArray[2]);\n                int endSecond = Integer.parseInt(endTimeArray[2]);\n\n                hourlyUsageList[startHour] += (3600 - (startMinute * 60L) - startSecond);\n                hourlyUsageList[endHour] += ((endMinute * 60L) + endSecond);\n\n                if ((startHour + 1) == endHour) continue;\n\n                // All hours in between start and end hour have to be completely added to usage time.\n                for (int i = startHour + 1; (i % 24) != endHour; i++) {\n                    hourlyUsageList[i] += 3600;\n                }\n            }\n        }\n</code></pre>\n<p>The above code is working as well. However, I would like to know if there is some better and clean code solution for the problem.</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","wicket"],"comments":[{"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"score":0,"creation_date":1634819439,"post_id":69661853,"comment_id":123132347,"body_markdown":"Have you tried using `Link` with overwriting `onClick` instead? Your button is embedded into a form, but since you never create a `Form` inside the java code wicket doesn&#39;t know how to handle the submit and just ignores it.","body":"Have you tried using <code>Link</code> with overwriting <code>onClick</code> instead? Your button is embedded into a form, but since you never create a <code>Form</code> inside the java code wicket doesn&#39;t know how to handle the submit and just ignores it."},{"owner":{"account_id":42395,"reputation":1101,"user_id":123498,"accept_rate":25,"display_name":"sushant"},"score":3,"creation_date":1634820293,"post_id":69661853,"comment_id":123132790,"body_markdown":"Try adding a `wicket:id` to form, then create a `Form` in your Java code. Next, add the button to the form component in java.","body":"Try adding a <code>wicket:id</code> to form, then create a <code>Form</code> in your Java code. Next, add the button to the form component in java."},{"owner":{"account_id":1661822,"reputation":88,"user_id":4489704,"display_name":"Slawek"},"score":0,"creation_date":1634829245,"post_id":69661853,"comment_id":123137132,"body_markdown":"Check wicket documentation https://ci.apache.org/projects/wicket/guide/9.x/single.html#_wicket_forms","body":"Check wicket documentation <a href=\"https://ci.apache.org/projects/wicket/guide/9.x/single.html#_wicket_forms\" rel=\"nofollow noreferrer\">ci.apache.org/projects/wicket/guide/9.x/&hellip;</a>"},{"owner":{"account_id":12392832,"reputation":60,"user_id":13082557,"display_name":"Ken Che"},"score":0,"creation_date":1634858787,"post_id":69661853,"comment_id":123146872,"body_markdown":"I see. I will try to implement the &quot;Form&quot;. Is there any alternative to click on the button and called to the java method?","body":"I see. I will try to implement the &quot;Form&quot;. Is there any alternative to click on the button and called to the java method?"},{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":0,"creation_date":1634882495,"post_id":69661853,"comment_id":123150446,"body_markdown":"@magicmn already explained the alternative: use a `Link`","body":"@magicmn already explained the alternative: use a <code>Link</code>"},{"owner":{"account_id":3117493,"reputation":51,"user_id":2637959,"display_name":"VaclavC"},"score":0,"creation_date":1634906996,"post_id":69661853,"comment_id":123159822,"body_markdown":"And if you want to react through Ajax, you need to add an AjaxFormComponentUpdatingBehavior (https://ci.apache.org/projects/wicket/apidocs/8.x/org/apache/wicket/ajax/form/AjaxFormComponentUpdatingBehavior.html) to you Button.","body":"And if you want to react through Ajax, you need to add an AjaxFormComponentUpdatingBehavior (<a href=\"https://ci.apache.org/projects/wicket/apidocs/8.x/org/apache/wicket/ajax/form/AjaxFormComponentUpdatingBehavior.html\" rel=\"nofollow noreferrer\">ci.apache.org/projects/wicket/apidocs/8.x/org/apache/wicket&zwnj;&#8203;/&hellip;</a>) to you Button."}],"owner":{"account_id":12392832,"reputation":60,"user_id":13082557,"display_name":"Ken Che"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634818677,"creation_date":1634818677,"question_id":69661853,"body_markdown":"I have tried to code at below, but the java **onSubmit()** seems not get called. I also tried to add **onclick** to the button and called to a method but it still not get called \r\n\r\nreschedule.java\r\n\r\n    WebMarkupContainer rescheduleContainer = new WebMarkupContainer(&quot;reschedule&quot;);\r\n\r\n    Button addRescheduleBtn = new Button(&quot;addReschedule&quot;){\r\n         @Override\r\n         public void onSubmit() {\r\n             final Item i = getJtrac().loadItem(globalItem.getId());\r\n             Calendar date = Calendar.getInstance();\r\n             long timeInSecs = date.getTimeInMillis();\r\n             Date rescheduleDateTime = new Date(timeInSecs + (20 * 60 * 1000));\r\n             i.setNextExecutionTime(rescheduleDateTime);\r\n             i.setStatus(&quot;ready&quot;);\r\n             getJtrac().updateItem(i);\r\n         }\r\n     };\r\n\r\n     addRescheduleBtn.setDefaultFormProcessing(false);\r\n     rescheduleContainer.add(addRescheduleBtn);\r\n     add(rescheduleContainer);\r\n\r\n\r\nreschedule.html\r\n\r\n    &lt;form&gt;\r\n\t&lt;div class=&quot;space-below&quot; wicket:id=&quot;reschedule&quot;&gt;\r\n\t\t&lt;input type=&quot;submit&quot; wicket:id=&quot;addReschedule&quot; class=&quot;btn btn-primary&quot; wicket:message=&quot;value:item_view.reschedule&quot;/&gt; \r\n\t&lt;/div&gt;\r\n    &lt;/form&gt;\r\n\r\n","title":"How to add button to call java method","body":"<p>I have tried to code at below, but the java <strong>onSubmit()</strong> seems not get called. I also tried to add <strong>onclick</strong> to the button and called to a method but it still not get called</p>\n<p>reschedule.java</p>\n<pre><code>WebMarkupContainer rescheduleContainer = new WebMarkupContainer(&quot;reschedule&quot;);\n\nButton addRescheduleBtn = new Button(&quot;addReschedule&quot;){\n     @Override\n     public void onSubmit() {\n         final Item i = getJtrac().loadItem(globalItem.getId());\n         Calendar date = Calendar.getInstance();\n         long timeInSecs = date.getTimeInMillis();\n         Date rescheduleDateTime = new Date(timeInSecs + (20 * 60 * 1000));\n         i.setNextExecutionTime(rescheduleDateTime);\n         i.setStatus(&quot;ready&quot;);\n         getJtrac().updateItem(i);\n     }\n };\n\n addRescheduleBtn.setDefaultFormProcessing(false);\n rescheduleContainer.add(addRescheduleBtn);\n add(rescheduleContainer);\n</code></pre>\n<p>reschedule.html</p>\n<pre><code>&lt;form&gt;\n&lt;div class=&quot;space-below&quot; wicket:id=&quot;reschedule&quot;&gt;\n    &lt;input type=&quot;submit&quot; wicket:id=&quot;addReschedule&quot; class=&quot;btn btn-primary&quot; wicket:message=&quot;value:item_view.reschedule&quot;/&gt; \n&lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n"},{"tags":["java","actionlistener","jcombobox","removeall"],"comments":[{"owner":{"account_id":2684759,"reputation":3106,"user_id":2319378,"display_name":"LionC"},"score":1,"creation_date":1367503377,"post_id":16339906,"comment_id":23404647,"body_markdown":"Please format your code so it is readable","body":"Please format your code so it is readable"}],"answers":[{"tags":[],"owner":{"account_id":70264,"reputation":3487,"user_id":203925,"accept_rate":81,"display_name":"Eric Hydrick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1367504599,"creation_date":1367504599,"answer_id":16340599,"question_id":16339906,"body_markdown":"It looks like your code never gets a fresh set of items from the database, so the user can never select anything other than &quot;Select an Unit&quot;, which your second code block ignores.","title":"JComboBox ActionListener not working after removeAllItems() was used","body":"<p>It looks like your code never gets a fresh set of items from the database, so the user can never select anything other than \"Select an Unit\", which your second code block ignores.</p>\n"},{"tags":[],"owner":{"account_id":12069070,"reputation":31,"user_id":8825054,"display_name":"Vitali Sudnikovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634818635,"creation_date":1634818635,"answer_id":69661836,"question_id":16339906,"body_markdown":"\r\nit work for me\r\n\r\n    try {\r\n         boxListMaterial.removeActionListener(controller);\r\n         boxListMaterial.removeAllItems();\r\n    }catch (Exception e){}\r\n    boxListMaterial.addActionListener(controller);\r\n    \r\n\r\n\r\nController - ActionListener*     \r\n\r\n","title":"JComboBox ActionListener not working after removeAllItems() was used","body":"<p>it work for me</p>\n<pre><code>try {\n     boxListMaterial.removeActionListener(controller);\n     boxListMaterial.removeAllItems();\n}catch (Exception e){}\nboxListMaterial.addActionListener(controller);\n</code></pre>\n<p>Controller - ActionListener*</p>\n"}],"owner":{"account_id":2603490,"reputation":13,"user_id":2255225,"accept_rate":50,"display_name":"user2255225"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1029,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634818635,"creation_date":1367502860,"question_id":16339906,"body_markdown":"I have two JComboBoxes; one removes all items in the other if it&#39;s already populated and then adds a new set of items, and the second fires an event that gets information from a database using the selected item. The problem occurs after the first combo box does its thing removing the items and adding new ones; when I select any of the items in the second JComboBox, the event that fires doesn&#39;t happen anymore.\r\n\r\nBelow I have provided snippets of my code:\r\n\r\nThe first combo box\r\n\r\n        cmbIDs.addActionListener(new ActionListener()\r\n        {\r\n            public void actionPerformed(ActionEvent e)\r\n            {\r\n                selection = (String)cmbIDs.getSelectedItem();\r\n                if (!(selection.equals(&quot;Select an username&quot;)))//current selection in combobox is stored as string\r\n                {\r\n                    comboActivate(selection);\r\n                    if (!unitC.getText().equals(&quot;&quot;)){\r\n                        unitC.setText(&quot;&quot;);\r\n                    }\r\n                    if (!lecturer.getText().equals(&quot;&quot;)){\r\n                        lecturer.setText(&quot;&quot;);\r\n                    }\r\n                    \r\n                    if (!(courseD.getText().equals(&quot;Not Enrolled&quot;))){    \r\n                        populateUnits(selection);\r\n                    }\r\n                    \r\n                }\r\n                else{\r\n                    JOptionPane.showMessageDialog(null,&quot;Please select a Surname.&quot;);\r\n                }\r\n            }\r\n        });\r\n\r\nRemoving the items inside populateUnits(String selectionID):\r\n   \r\n        try \r\n        {\r\n            units.removeAllItems();\r\n            units.addItem(&quot;Select a Unit&quot;);\r\n        }\r\n        catch (NullPointerException npe)\r\n        {\r\n            units.addItem(&quot;Select a Unit&quot;); \r\n        }\r\n    \r\nAfter this instructions are sent through a client to a server where a db is queried and the server replies with information which is then added to the second JComboBox. I assure you also that the items are added to the JComboBox after removeAllItems() is used.\r\n\r\nThe second jComboBox:\r\n         \r\n    units.addActionListener(new ActionListener()\r\n    {\r\n        public void actionPerformed(ActionEvent ue)\r\n        {\r\n            uSelect = (String)units.getSelectedItem();\r\n            if (!(uSelect.equals(&quot;Select a Unit&quot;)))//current selection in combobox is stored as string\r\n            {\r\n                System.out.println(uSelect);\r\n                unitActivate(uSelect);\r\n            }\r\n            else\r\n            {\r\n                JOptionPane.showMessageDialog(null,&quot;Please select a Unit.&quot;);\r\n            }\r\n        }\r\n    });\r\n","title":"JComboBox ActionListener not working after removeAllItems() was used","body":"<p>I have two JComboBoxes; one removes all items in the other if it's already populated and then adds a new set of items, and the second fires an event that gets information from a database using the selected item. The problem occurs after the first combo box does its thing removing the items and adding new ones; when I select any of the items in the second JComboBox, the event that fires doesn't happen anymore.</p>\n\n<p>Below I have provided snippets of my code:</p>\n\n<p>The first combo box</p>\n\n<pre><code>    cmbIDs.addActionListener(new ActionListener()\n    {\n        public void actionPerformed(ActionEvent e)\n        {\n            selection = (String)cmbIDs.getSelectedItem();\n            if (!(selection.equals(\"Select an username\")))//current selection in combobox is stored as string\n            {\n                comboActivate(selection);\n                if (!unitC.getText().equals(\"\")){\n                    unitC.setText(\"\");\n                }\n                if (!lecturer.getText().equals(\"\")){\n                    lecturer.setText(\"\");\n                }\n\n                if (!(courseD.getText().equals(\"Not Enrolled\"))){    \n                    populateUnits(selection);\n                }\n\n            }\n            else{\n                JOptionPane.showMessageDialog(null,\"Please select a Surname.\");\n            }\n        }\n    });\n</code></pre>\n\n<p>Removing the items inside populateUnits(String selectionID):</p>\n\n<pre><code>    try \n    {\n        units.removeAllItems();\n        units.addItem(\"Select a Unit\");\n    }\n    catch (NullPointerException npe)\n    {\n        units.addItem(\"Select a Unit\"); \n    }\n</code></pre>\n\n<p>After this instructions are sent through a client to a server where a db is queried and the server replies with information which is then added to the second JComboBox. I assure you also that the items are added to the JComboBox after removeAllItems() is used.</p>\n\n<p>The second jComboBox:</p>\n\n<pre><code>units.addActionListener(new ActionListener()\n{\n    public void actionPerformed(ActionEvent ue)\n    {\n        uSelect = (String)units.getSelectedItem();\n        if (!(uSelect.equals(\"Select a Unit\")))//current selection in combobox is stored as string\n        {\n            System.out.println(uSelect);\n            unitActivate(uSelect);\n        }\n        else\n        {\n            JOptionPane.showMessageDialog(null,\"Please select a Unit.\");\n        }\n    }\n});\n</code></pre>\n"},{"tags":["java","android-studio","bitmap","imageview","pixel"],"answers":[{"tags":[],"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634818335,"creation_date":1634818335,"answer_id":69661770,"question_id":69660879,"body_markdown":"One way to achieve that is by using `ColorFilter`.\r\n\r\n```java\r\nColorFilter overlay = new PorterDuffColorFilter(Color.YELLOW, PorterDuff.Mode.OVERLAY);\r\nDrawable drawable = imageView.getBackground();\r\ndrawable.setColorFilter(overlay);\r\nimageView.setBackground(drawable);\r\n```","title":"Change color of image using pixel changes in android studio","body":"<p>One way to achieve that is by using <code>ColorFilter</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ColorFilter overlay = new PorterDuffColorFilter(Color.YELLOW, PorterDuff.Mode.OVERLAY);\nDrawable drawable = imageView.getBackground();\ndrawable.setColorFilter(overlay);\nimageView.setBackground(drawable);\n</code></pre>\n"}],"owner":{"account_id":22896731,"reputation":1,"user_id":17036143,"display_name":"Coding With Hammad "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634818335,"creation_date":1634814645,"question_id":69660879,"body_markdown":"I am trying to change the color of the image in red or any other I wrote the following code but after running my application nothing will happen in my emulator\r\nMy Code is\r\n \r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    int x=0,y=0;\r\n    ImageView imViewAndroid,displayimg;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        imViewAndroid = (ImageView) findViewById(R.id.imViewAndroid);\r\n        displayimg = (ImageView) findViewById(R.id.setimageview);\r\n\r\n        Bitmap bitmap = ((BitmapDrawable)imViewAndroid.getDrawable()).getBitmap();\r\n        int pixel = bitmap.getPixel(x,y);\r\n\r\n        for(int i=0;i&lt;imViewAndroid.getWidth();i++){\r\n            for(int j=0;i&lt;imViewAndroid.getHeight();j++)\r\n            {\r\n                 pixel=bitmap.getPixel(i,j);\r\n                 bitmap.setPixel(i,j,Color.RED);\r\n                displayimg.setImageBitmap(bitmap);\r\n            }\r\n\r\n        }\r\n\r\n\r\nAnd my emulator shows thisb[enter image description here][1]\r\n\r\n\r\nMy focus is to get this reult\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QXIhL.png\r\n  [2]: https://i.stack.imgur.com/mIZCT.jpg","title":"Change color of image using pixel changes in android studio","body":"<p>I am trying to change the color of the image in red or any other I wrote the following code but after running my application nothing will happen in my emulator\nMy Code is</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nint x=0,y=0;\nImageView imViewAndroid,displayimg;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    imViewAndroid = (ImageView) findViewById(R.id.imViewAndroid);\n    displayimg = (ImageView) findViewById(R.id.setimageview);\n\n    Bitmap bitmap = ((BitmapDrawable)imViewAndroid.getDrawable()).getBitmap();\n    int pixel = bitmap.getPixel(x,y);\n\n    for(int i=0;i&lt;imViewAndroid.getWidth();i++){\n        for(int j=0;i&lt;imViewAndroid.getHeight();j++)\n        {\n             pixel=bitmap.getPixel(i,j);\n             bitmap.setPixel(i,j,Color.RED);\n            displayimg.setImageBitmap(bitmap);\n        }\n\n    }\n</code></pre>\n<p>And my emulator shows thisb<a href=\"https://i.stack.imgur.com/QXIhL.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>My focus is to get this reult\n<a href=\"https://i.stack.imgur.com/mIZCT.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","json","gson"],"answers":[{"tags":[],"owner":{"account_id":22873466,"reputation":5410,"user_id":17016144,"display_name":"ProDec"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634818332,"creation_date":1634818332,"answer_id":69661768,"question_id":69661400,"body_markdown":"`attrs.metadata().toString()` generates invalid JSON text.\r\n\r\nConvert the metadata to JSON:\r\n\r\n    RefundEventData eventData = gson.fromJson(gson.toJson(attrs.metadata()), RefundEventData.class);","title":"Deserialize inner object of deserialized object using gson","body":"<p><code>attrs.metadata().toString()</code> generates invalid JSON text.</p>\n<p>Convert the metadata to JSON:</p>\n<pre><code>RefundEventData eventData = gson.fromJson(gson.toJson(attrs.metadata()), RefundEventData.class);\n</code></pre>\n"}],"owner":{"account_id":9054727,"reputation":177,"user_id":6744037,"display_name":"limo_756"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69661768,"answer_count":1,"score":0,"last_activity_date":1634818332,"creation_date":1634816666,"question_id":69661400,"body_markdown":"We are deserializing top-level RefundAttrs attribute while fetching transaction object from DB. I cannot change this part.  \r\n\r\nHow can I deserialize RefundAttrs.metadata field into RefundEventData? I am getting  com.google.gson.stream.MalformedJsonException: Unterminated object at line 1 column 52 path $.reason \r\n\r\n```\r\n    class RefundAttrs {\r\n        private String instrumentTxnId;\r\n        private Object metadata;\r\n\r\n        public String instrumentTxnId() {\r\n            return instrumentTxnId;\r\n        }\r\n\r\n        public Object metadata() {\r\n            return metadata;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;{ instrumentTxnId=%s, metadata=%s }&quot;, this.instrumentTxnId, this.metadata);\r\n        }\r\n    }\r\n\r\n    class RefundEventData {\r\n        private String orderId;\r\n        private Double refundAmount;\r\n        private String reason;\r\n\r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;{ orderId=%s, refundAmount=%s, reason=%s }&quot;, this.orderId, this.refundAmount, this.reason);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        Gson gson = new Gson();\r\n        String json = &quot;{\\n&quot; +\r\n                &quot;  \\&quot;instrumentTxnId\\&quot;: \\&quot;refund-101\\&quot;,\\n&quot; +\r\n                &quot;  \\&quot;metadata\\&quot;: {\\n&quot; +\r\n                &quot;    \\&quot;orderId\\&quot;: \\&quot;011-acf\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;refundAmount\\&quot;: 100.0,\\n&quot; +\r\n                &quot;    \\&quot;reason\\&quot;: \\&quot;User left\\&quot;\\n&quot; +\r\n                &quot;  }\\n&quot; +\r\n                &quot;}&quot;;\r\n        RefundAttrs attrs = gson.fromJson(json, RefundAttrs.class);\r\n\r\n        System.out.println(attrs.metadata());\r\n        // {orderId=011-acf, refundAmount=100.0, reason=User left}\r\n        RefundEventData eventData = gson.fromJson(attrs.metadata().toString(), RefundEventData.class);\r\n}\r\n```","title":"Deserialize inner object of deserialized object using gson","body":"<p>We are deserializing top-level RefundAttrs attribute while fetching transaction object from DB. I cannot change this part.</p>\n<p>How can I deserialize RefundAttrs.metadata field into RefundEventData? I am getting  com.google.gson.stream.MalformedJsonException: Unterminated object at line 1 column 52 path $.reason</p>\n<pre><code>    class RefundAttrs {\n        private String instrumentTxnId;\n        private Object metadata;\n\n        public String instrumentTxnId() {\n            return instrumentTxnId;\n        }\n\n        public Object metadata() {\n            return metadata;\n        }\n\n        @Override\n        public String toString() {\n            return String.format(&quot;{ instrumentTxnId=%s, metadata=%s }&quot;, this.instrumentTxnId, this.metadata);\n        }\n    }\n\n    class RefundEventData {\n        private String orderId;\n        private Double refundAmount;\n        private String reason;\n\n        @Override\n        public String toString() {\n            return String.format(&quot;{ orderId=%s, refundAmount=%s, reason=%s }&quot;, this.orderId, this.refundAmount, this.reason);\n        }\n    }\n\n    public static void main(String[] args) throws IOException {\n        Gson gson = new Gson();\n        String json = &quot;{\\n&quot; +\n                &quot;  \\&quot;instrumentTxnId\\&quot;: \\&quot;refund-101\\&quot;,\\n&quot; +\n                &quot;  \\&quot;metadata\\&quot;: {\\n&quot; +\n                &quot;    \\&quot;orderId\\&quot;: \\&quot;011-acf\\&quot;,\\n&quot; +\n                &quot;    \\&quot;refundAmount\\&quot;: 100.0,\\n&quot; +\n                &quot;    \\&quot;reason\\&quot;: \\&quot;User left\\&quot;\\n&quot; +\n                &quot;  }\\n&quot; +\n                &quot;}&quot;;\n        RefundAttrs attrs = gson.fromJson(json, RefundAttrs.class);\n\n        System.out.println(attrs.metadata());\n        // {orderId=011-acf, refundAmount=100.0, reason=User left}\n        RefundEventData eventData = gson.fromJson(attrs.metadata().toString(), RefundEventData.class);\n}\n</code></pre>\n"},{"tags":["java","spring","intellij-idea","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":17066586,"reputation":4526,"user_id":12348584,"display_name":"H3AR7B3A7"},"score":0,"creation_date":1634490660,"post_id":69596053,"comment_id":123033170,"body_markdown":"What exactly is it you are trying to do here?","body":"What exactly is it you are trying to do here?"},{"owner":{"account_id":6871734,"reputation":1,"user_id":5281797,"display_name":"Mohrazz"},"score":0,"creation_date":1634566471,"post_id":69596053,"comment_id":123052755,"body_markdown":"I want to have **FooRepository** with Type **pamater &lt;F&gt;** as a **Jparepository** features such as method queries.","body":"I want to have <b>FooRepository</b> with Type <b>pamater &lt;F&gt;</b> as a <b>Jparepository</b> features such as method queries."},{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1634825191,"post_id":69596053,"comment_id":123135155,"body_markdown":"Please clarify the problem - either IDEA doesn&#39;t do what you expect or the application produces error when you invoke `countAllByActive` method from generic repository class?","body":"Please clarify the problem - either IDEA doesn&#39;t do what you expect or the application produces error when you invoke <code>countAllByActive</code> method from generic repository class?"},{"owner":{"account_id":6871734,"reputation":1,"user_id":5281797,"display_name":"Mohrazz"},"score":0,"creation_date":1635236570,"post_id":69596053,"comment_id":123235722,"body_markdown":"yes, if you made your named Query by yourself, there is no error but IDE doesn&#39;t understand generic in an interface that extends JpaRepository so the auto compliment doesn&#39;t work.","body":"yes, if you made your named Query by yourself, there is no error but IDE doesn&#39;t understand generic in an interface that extends JpaRepository so the auto compliment doesn&#39;t work."},{"owner":{"account_id":432054,"reputation":904,"user_id":816544,"accept_rate":41,"display_name":"froehli"},"score":0,"creation_date":1698415101,"post_id":69596053,"comment_id":136406531,"body_markdown":"I&#39;m facing the same issue.  It is reproducible as described in the issue above. IntelliJ stops suggesting autocompletion for JPA-Methods at the moment you are adding a generic Type. So `public interface FooRepository extends JpaRepository&lt;Object, String&gt;` works, but `interface FooRepository&lt;F&gt; extends JpaRepository&lt;Object, String&gt;`  does not!","body":"I&#39;m facing the same issue.  It is reproducible as described in the issue above. IntelliJ stops suggesting autocompletion for JPA-Methods at the moment you are adding a generic Type. So <code>public interface FooRepository extends JpaRepository&lt;Object, String&gt;</code> works, but <code>interface FooRepository&lt;F&gt; extends JpaRepository&lt;Object, String&gt;</code>  does not!"}],"owner":{"account_id":6871734,"reputation":1,"user_id":5281797,"display_name":"Mohrazz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634818065,"creation_date":1634391161,"question_id":69596053,"body_markdown":"I have a class like this:\r\n\r\n```\r\n@MappedSuperclass\r\npublic abstract class Foo implements Serializable, Cloneable {\r\n\r\n    private String id;\r\n    private Boolean deleted = Boolean.FALSE;\r\n    private Boolean active = Boolean.TRUE;\r\n...\r\n\r\n}\r\n```\r\nand a repository like this:\r\n```\r\n@NoRepositoryBean\r\npublic interface FooRepository&lt;F extends Foo&gt; extends JpaRepository&lt;F, String&gt; {\r\n\r\n}\r\n```\r\n**now the problem:**\r\nwhen I use class level type parameters(generics) like above, intellij does not make or complete spring-data`s named query but if I remove the generics like below then I can write named queries in the repository interface\r\n\r\n```\r\n@NoRepositoryBean\r\npublic interface FooRepository extends JpaRepository&lt;Foo, String&gt; {\r\n\r\n        Integer countAllByActive(boolean flag);\r\n}\r\n```\r\nanybody knows why and is there any solution?","title":"Why Spring data JpaRepository method name complement does not work with Class type parameter?","body":"<p>I have a class like this:</p>\n<pre><code>@MappedSuperclass\npublic abstract class Foo implements Serializable, Cloneable {\n\n    private String id;\n    private Boolean deleted = Boolean.FALSE;\n    private Boolean active = Boolean.TRUE;\n...\n\n}\n</code></pre>\n<p>and a repository like this:</p>\n<pre><code>@NoRepositoryBean\npublic interface FooRepository&lt;F extends Foo&gt; extends JpaRepository&lt;F, String&gt; {\n\n}\n</code></pre>\n<p><strong>now the problem:</strong>\nwhen I use class level type parameters(generics) like above, intellij does not make or complete spring-data`s named query but if I remove the generics like below then I can write named queries in the repository interface</p>\n<pre><code>@NoRepositoryBean\npublic interface FooRepository extends JpaRepository&lt;Foo, String&gt; {\n\n        Integer countAllByActive(boolean flag);\n}\n</code></pre>\n<p>anybody knows why and is there any solution?</p>\n"},{"tags":["java","string","function","multidimensional-array"],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507595634,"creation_date":1507595634,"answer_id":46656958,"question_id":46656927,"body_markdown":"    this.oneRow += sb.toString();\r\n\r\nthe values to be concatenated.","title":"Return row of 2D array as comma delimited string given row number Java","body":"<pre><code>this.oneRow += sb.toString();\n</code></pre>\n\n<p>the values to be concatenated.</p>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1507595856,"creation_date":1507595856,"answer_id":46656979,"question_id":46656927,"body_markdown":"You shouldn&#39;t be looping if you want the first row, use index `row` (after first checking it&#39;s a valid index). Like,\r\n\r\n    public String getRow(int row) {\r\n        if (row &lt; desks.length) {\r\n            return Arrays.toString(desks[row]);\r\n        }\r\n        return &quot;&quot;; // &lt;-- or null, or throw an exception.\r\n    }\r\n\r\n","title":"Return row of 2D array as comma delimited string given row number Java","body":"<p>You shouldn't be looping if you want the first row, use index <code>row</code> (after first checking it's a valid index). Like,</p>\n\n<pre><code>public String getRow(int row) {\n    if (row &lt; desks.length) {\n        return Arrays.toString(desks[row]);\n    }\n    return \"\"; // &lt;-- or null, or throw an exception.\n}\n</code></pre>\n"}],"owner":{"account_id":8351283,"reputation":53,"user_id":6273357,"accept_rate":100,"display_name":"Eric Ferguson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46656979,"answer_count":2,"score":1,"last_activity_date":1634818043,"creation_date":1507595372,"question_id":46656927,"body_markdown":"I&#39;m attempting to create a function that will accept the row number of a multi-dimensional array as an integer and return a string that contains a comma-delimited list of the values in that row. \r\n\r\n`this.desks` is the 2d array containing string values. `this.oneRow` is a string that I would like the function to return. \r\n\r\n`sb` is a stringbuilder. Row is the value of the row that should be returned. This block of code is what I&#39;ve managed to find but it returns the entire array. I&#39;ve attempted to look at the syntax for string builder and modify it to no avail. Would someone mind assisting?\r\n\r\n    public String getRow(int row) {\r\n\r\n\t\tfor(String[] s1 : this.desks) {\r\n\t\t\tthis.sb.append(Arrays.toString(s1));\r\n\t\t\tthis.oneRow = sb.toString();\r\n\t\t   }\r\n         return this.oneRow;","title":"Return row of 2D array as comma delimited string given row number Java","body":"<p>I'm attempting to create a function that will accept the row number of a multi-dimensional array as an integer and return a string that contains a comma-delimited list of the values in that row.</p>\n<p><code>this.desks</code> is the 2d array containing string values. <code>this.oneRow</code> is a string that I would like the function to return.</p>\n<p><code>sb</code> is a stringbuilder. Row is the value of the row that should be returned. This block of code is what I've managed to find but it returns the entire array. I've attempted to look at the syntax for string builder and modify it to no avail. Would someone mind assisting?</p>\n<pre><code>public String getRow(int row) {\n\n    for(String[] s1 : this.desks) {\n        this.sb.append(Arrays.toString(s1));\n        this.oneRow = sb.toString();\n       }\n     return this.oneRow;\n</code></pre>\n"},{"tags":["java","json","xml","org.json"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1634807248,"post_id":69658701,"comment_id":123126935,"body_markdown":"A rough but simple solution would be to remove &quot;&quot;ns0:TableData&quot;: {&quot; and the last &quot;}&quot;  using old-fashioned stringmanipulation, i.e. String.replace().","body":"A rough but simple solution would be to remove &quot;&quot;ns0:TableData&quot;: {&quot; and the last &quot;}&quot;  using old-fashioned stringmanipulation, i.e. String.replace()."}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634810743,"creation_date":1634810743,"answer_id":69659947,"question_id":69658701,"body_markdown":"In XPath 3.1, use `json-doc(&#39;input.json&#39;)?*`","title":"Remove outermost node from the JSON payload","body":"<p>In XPath 3.1, use <code>json-doc('input.json')?*</code></p>\n"},{"tags":[],"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634817852,"creation_date":1634817852,"answer_id":69661668,"question_id":69658701,"body_markdown":"Try this example\r\n\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.JsonMappingException;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nimport lombok.Data;\r\nimport lombok.ToString;\r\n\r\npublic class Main {\r\n\t@Data\r\n\t@ToString\r\n\tprivate static class All {\r\n\t\t@JsonProperty(&quot;descr&quot;)\r\n\t\tint descr;\r\n\t\tint note;\r\n\t\tint kpar;\r\n\t\tint karr;\r\n\t\t@JsonProperty(&quot;xmlns:ns0&quot;)\r\n\t\tString xmlnsNs0;\r\n\t\tint codice;\r\n\t\tint dend;\r\n\t\t@JsonProperty(&quot;anz_app_a&quot;)\r\n\t\tint anzAppA;\r\n\t\tint dini;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws JsonMappingException, JsonProcessingException {\r\n\t\tString json = &quot;{\\n&quot; //\r\n\t\t\t\t+ &quot;    \\&quot;ns0:TableData\\&quot;: {\\n&quot; //\r\n\t\t\t\t+ &quot;        \\&quot;descr\\&quot;: 111,\\n&quot; //\r\n\t\t\t\t+ &quot;        \\&quot;note\\&quot;: 11,\\n&quot; //\r\n\t\t\t\t+ &quot;        \\&quot;kpar\\&quot;: 1111,\\n&quot; //\r\n\t\t\t\t+ &quot;        \\&quot;karr\\&quot;: 111,\\n&quot; //\r\n\t\t\t\t+ &quot;        \\&quot;xmlns:ns0\\&quot;: \\&quot;urn:it:alia:inaz\\&quot;,\\n&quot; //\r\n\t\t\t\t+ &quot;        \\&quot;codice\\&quot;: 1,\\n&quot; //\r\n\t\t\t\t+ &quot;        \\&quot;dend\\&quot;: 1111,\\n&quot; //\r\n\t\t\t\t+ &quot;        \\&quot;anz_app_a\\&quot;: 1,\\n&quot; //\r\n\t\t\t\t+ &quot;        \\&quot;dini\\&quot;: 11\\n&quot; //\r\n\t\t\t\t+ &quot;    }\\n&quot; //\r\n\t\t\t\t+ &quot;}\\n&quot; \r\n\t\t\t\t+ &quot;&quot;;\r\n\t\tObjectMapper obj = new ObjectMapper();\r\n\t\tJsonNode jstree = obj.readTree(json);\r\n\t\tJsonNode data = jstree.get(&quot;ns0:TableData&quot;);\r\n\t\tAll a = obj.readValue(data.toString(), All.class);\r\n\t\tSystem.out.println(a);\r\n\t}\r\n}\r\n```\r\n\r\n","title":"Remove outermost node from the JSON payload","body":"<p>Try this example</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport lombok.Data;\nimport lombok.ToString;\n\npublic class Main {\n    @Data\n    @ToString\n    private static class All {\n        @JsonProperty(&quot;descr&quot;)\n        int descr;\n        int note;\n        int kpar;\n        int karr;\n        @JsonProperty(&quot;xmlns:ns0&quot;)\n        String xmlnsNs0;\n        int codice;\n        int dend;\n        @JsonProperty(&quot;anz_app_a&quot;)\n        int anzAppA;\n        int dini;\n    }\n\n    public static void main(String[] args) throws JsonMappingException, JsonProcessingException {\n        String json = &quot;{\\n&quot; //\n                + &quot;    \\&quot;ns0:TableData\\&quot;: {\\n&quot; //\n                + &quot;        \\&quot;descr\\&quot;: 111,\\n&quot; //\n                + &quot;        \\&quot;note\\&quot;: 11,\\n&quot; //\n                + &quot;        \\&quot;kpar\\&quot;: 1111,\\n&quot; //\n                + &quot;        \\&quot;karr\\&quot;: 111,\\n&quot; //\n                + &quot;        \\&quot;xmlns:ns0\\&quot;: \\&quot;urn:it:alia:inaz\\&quot;,\\n&quot; //\n                + &quot;        \\&quot;codice\\&quot;: 1,\\n&quot; //\n                + &quot;        \\&quot;dend\\&quot;: 1111,\\n&quot; //\n                + &quot;        \\&quot;anz_app_a\\&quot;: 1,\\n&quot; //\n                + &quot;        \\&quot;dini\\&quot;: 11\\n&quot; //\n                + &quot;    }\\n&quot; //\n                + &quot;}\\n&quot; \n                + &quot;&quot;;\n        ObjectMapper obj = new ObjectMapper();\n        JsonNode jstree = obj.readTree(json);\n        JsonNode data = jstree.get(&quot;ns0:TableData&quot;);\n        All a = obj.readValue(data.toString(), All.class);\n        System.out.println(a);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14630269,"reputation":1,"user_id":10566306,"display_name":"Sushant Shinde"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634817852,"creation_date":1634805891,"question_id":69658701,"body_markdown":"I need to remove the outermost element(ns0:TableData) from the below JSON paylaod.\r\n\r\n```js\r\n{\r\n    &quot;ns0:TableData&quot;: {\r\n        &quot;descr&quot;: 111,\r\n        &quot;note&quot;: 11,\r\n        &quot;kpar&quot;: 1111,\r\n        &quot;karr&quot;: 111,\r\n        &quot;xmlns:ns0&quot;: &quot;urn:it:alia:inaz&quot;,\r\n        &quot;codice&quot;: 1,\r\n        &quot;dend&quot;: 1111,\r\n        &quot;anz_app_a&quot;: 1,\r\n        &quot;dini&quot;: 11\r\n    }\r\n}\r\n```\r\n\r\nI am using the below code to covert the incoming XML to JSON\r\n\r\n\r\n    String inputData = IOUtils.toString(inputstream);\r\n    System.out.println(inputData);\r\n    JSONObject xmlJSONObj = XML.toJSONObject(inputData);\r\n    String jsonPrettyPrintString = xmlJSONObj.toString(PRETTY_PRINT_INDENT_FACTOR);\r\n    System.out.println(jsonPrettyPrintString);\r\n\r\n","title":"Remove outermost node from the JSON payload","body":"<p>I need to remove the outermost element(ns0:TableData) from the below JSON paylaod.</p>\n<pre class=\"lang-js prettyprint-override\"><code>{\n    &quot;ns0:TableData&quot;: {\n        &quot;descr&quot;: 111,\n        &quot;note&quot;: 11,\n        &quot;kpar&quot;: 1111,\n        &quot;karr&quot;: 111,\n        &quot;xmlns:ns0&quot;: &quot;urn:it:alia:inaz&quot;,\n        &quot;codice&quot;: 1,\n        &quot;dend&quot;: 1111,\n        &quot;anz_app_a&quot;: 1,\n        &quot;dini&quot;: 11\n    }\n}\n</code></pre>\n<p>I am using the below code to covert the incoming XML to JSON</p>\n<pre><code>String inputData = IOUtils.toString(inputstream);\nSystem.out.println(inputData);\nJSONObject xmlJSONObj = XML.toJSONObject(inputData);\nString jsonPrettyPrintString = xmlJSONObj.toString(PRETTY_PRINT_INDENT_FACTOR);\nSystem.out.println(jsonPrettyPrintString);\n</code></pre>\n"},{"tags":["java","scala","dataframe","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":3154697,"reputation":7046,"user_id":2667343,"display_name":"pasha701"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634817838,"creation_date":1634810485,"answer_id":69659878,"question_id":69658831,"body_markdown":"The same result can be achieved without function, performance will be better:\r\n\r\n    val num = 10\r\n    df.withColumn(&quot;c&quot;, col(&quot;a&quot;) + col(&quot;b&quot;) - lit(num))\r\n\r\nVersion with UDF:\r\n\r\n    val num = 10\r\n    val f = (a: Int, b: Int) =&gt; {a + b - num}\r\n    val fUDF = udf(f)\r\n    df.withColumn(&quot;c&quot;, fUDF(col(&quot;a&quot;), col(&quot;b&quot;)))\r\n","title":"Spark Dataframe, add new column with function using other columns","body":"<p>The same result can be achieved without function, performance will be better:</p>\n<pre><code>val num = 10\ndf.withColumn(&quot;c&quot;, col(&quot;a&quot;) + col(&quot;b&quot;) - lit(num))\n</code></pre>\n<p>Version with UDF:</p>\n<pre><code>val num = 10\nval f = (a: Int, b: Int) =&gt; {a + b - num}\nval fUDF = udf(f)\ndf.withColumn(&quot;c&quot;, fUDF(col(&quot;a&quot;), col(&quot;b&quot;)))\n</code></pre>\n"}],"owner":{"account_id":17731057,"reputation":319,"user_id":12873652,"display_name":"Karzyfox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":645,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69659878,"answer_count":1,"score":0,"last_activity_date":1634817838,"creation_date":1634806437,"question_id":69658831,"body_markdown":"In my scala program, I have a dataframe `df` with two columns `a` and `b` (both of type `Int`). Aside I have a previously defined object `obj` with some methods and attributes. Here I want to add a new column to my dataframe `df` using the current values of the dataframe and attributes from `obj`.\r\n\r\nFor example, if I have the dataframe below :\r\n```scala\r\n+---+---+\r\n| a | b |\r\n+---+---+\r\n| 1 | 0 |\r\n| 4 | 8 |\r\n| 2 | 5 |\r\n+---+---+\r\n```\r\nand if `obj` has an attribute `num: Int = 10` as well as a method `f(a: Int, b: Int): Int = {a + b - this.num}`, I want to use `f` to create the new column `c` like so :\r\n```scala\r\n+---+---+-----+\r\n| a | b |  c  |\r\n+---+---+-----+\r\n| 1 | 0 | -9  |\r\n| 4 | 8 |  2  |\r\n| 2 | 5 | -3  |\r\n+---+---+-----+\r\n```\r\n\r\nSo the idea is: for each row, take the values of columns `a` and `b` and call the method `f` on `obj` with `a` and `b` as arguments too get the value that we then store in the corresponding row of the new column `c`. I tried to do something like this :\r\n```scala\r\ndf = df.withColumn(&quot;c&quot;, obj.f(col(&quot;a&quot;), col(&quot;b&quot;)))\r\n```\r\n\r\nbut obviously it doesn&#39;t work as `col()` return a column and not the elements of that column. I also tried a foreach on a new column filled with 0s to fill the column row by row, but it didn&#39;t work as well.\r\n\r\nDo you see how I can achieve this in Scala ?\r\n\r\nThank you.","title":"Spark Dataframe, add new column with function using other columns","body":"<p>In my scala program, I have a dataframe <code>df</code> with two columns <code>a</code> and <code>b</code> (both of type <code>Int</code>). Aside I have a previously defined object <code>obj</code> with some methods and attributes. Here I want to add a new column to my dataframe <code>df</code> using the current values of the dataframe and attributes from <code>obj</code>.</p>\n<p>For example, if I have the dataframe below :</p>\n<pre class=\"lang-scala prettyprint-override\"><code>+---+---+\n| a | b |\n+---+---+\n| 1 | 0 |\n| 4 | 8 |\n| 2 | 5 |\n+---+---+\n</code></pre>\n<p>and if <code>obj</code> has an attribute <code>num: Int = 10</code> as well as a method <code>f(a: Int, b: Int): Int = {a + b - this.num}</code>, I want to use <code>f</code> to create the new column <code>c</code> like so :</p>\n<pre class=\"lang-scala prettyprint-override\"><code>+---+---+-----+\n| a | b |  c  |\n+---+---+-----+\n| 1 | 0 | -9  |\n| 4 | 8 |  2  |\n| 2 | 5 | -3  |\n+---+---+-----+\n</code></pre>\n<p>So the idea is: for each row, take the values of columns <code>a</code> and <code>b</code> and call the method <code>f</code> on <code>obj</code> with <code>a</code> and <code>b</code> as arguments too get the value that we then store in the corresponding row of the new column <code>c</code>. I tried to do something like this :</p>\n<pre class=\"lang-scala prettyprint-override\"><code>df = df.withColumn(&quot;c&quot;, obj.f(col(&quot;a&quot;), col(&quot;b&quot;)))\n</code></pre>\n<p>but obviously it doesn't work as <code>col()</code> return a column and not the elements of that column. I also tried a foreach on a new column filled with 0s to fill the column row by row, but it didn't work as well.</p>\n<p>Do you see how I can achieve this in Scala ?</p>\n<p>Thank you.</p>\n"},{"tags":["java","formatting"],"answers":[{"tags":[],"owner":{"account_id":21379802,"reputation":188,"user_id":15745910,"display_name":"Flav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634817821,"creation_date":1634813895,"answer_id":69660700,"question_id":69660344,"body_markdown":"You can use:\r\n\r\n    String.format(&quot;%1.4e&quot;,12345.67890123)\r\n\r\nThe result of this is:\r\n\r\n    1,2346e+04\r\n\r\nHere is some [documentation](https://www.javatpoint.com/java-string-format)\r\n\r\n**EDIT**  \r\nIf you need 3 digits in the exponent, you can use the `DecimalFormat` Formatter:\r\n\r\n````java\r\nDecimalFormat format = new DecimalFormat(&quot;0.0000E000&quot;);\r\nSystem.out.print(format.format(12345.67890123f));\r\n````\r\n\r\nWhich outputs:\r\n\r\n    1,2346E004\r\n\r\nNote that it does not come with a positive sign if the exponent is positive.\r\nYou can fix this with:\r\n\r\n````java\r\nDecimalFormat format = new DecimalFormat(&quot;0.0000E000&quot;);\r\nString result = format.format(12345.67890123f);\r\nif (!result.contains(&quot;E-&quot;)) {\r\n    result = result.replace(&quot;E&quot;, &quot;E+&quot;);\r\n}\r\n\r\n````\r\n","title":"How to set specific format for E notation in Java","body":"<p>You can use:</p>\n<pre><code>String.format(&quot;%1.4e&quot;,12345.67890123)\n</code></pre>\n<p>The result of this is:</p>\n<pre><code>1,2346e+04\n</code></pre>\n<p>Here is some <a href=\"https://www.javatpoint.com/java-string-format\" rel=\"nofollow noreferrer\">documentation</a></p>\n<p><strong>EDIT</strong><br />\nIf you need 3 digits in the exponent, you can use the <code>DecimalFormat</code> Formatter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DecimalFormat format = new DecimalFormat(&quot;0.0000E000&quot;);\nSystem.out.print(format.format(12345.67890123f));\n</code></pre>\n<p>Which outputs:</p>\n<pre><code>1,2346E004\n</code></pre>\n<p>Note that it does not come with a positive sign if the exponent is positive.\nYou can fix this with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DecimalFormat format = new DecimalFormat(&quot;0.0000E000&quot;);\nString result = format.format(12345.67890123f);\nif (!result.contains(&quot;E-&quot;)) {\n    result = result.replace(&quot;E&quot;, &quot;E+&quot;);\n}\n\n</code></pre>\n"}],"owner":{"account_id":22490383,"reputation":11,"user_id":16688198,"display_name":"Sergey Yuryev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69660700,"answer_count":1,"score":0,"last_activity_date":1634817821,"creation_date":1634812430,"question_id":69660344,"body_markdown":"I need to convert some floats to format like this: `2,5000E-003`, `2,8625E+000`\r\n\r\nI know i can do it like this: \r\n\r\n    String.format(&quot;%s,%sE%s&quot;, digitInt, digitAfterDot, digitDegree)\r\n\r\nBut I hope somebody knows more clever and natty solution","title":"How to set specific format for E notation in Java","body":"<p>I need to convert some floats to format like this: <code>2,5000E-003</code>, <code>2,8625E+000</code></p>\n<p>I know i can do it like this:</p>\n<pre><code>String.format(&quot;%s,%sE%s&quot;, digitInt, digitAfterDot, digitDegree)\n</code></pre>\n<p>But I hope somebody knows more clever and natty solution</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1634482466,"post_id":69605499,"comment_id":123031134,"body_markdown":"This site is not for general code review. This site is for specific solutions to a specific issue. Perhaps appropriate for sister site, https://codereview.stackexchange.com/","body":"This site is not for general code review. This site is for specific solutions to a specific issue. Perhaps appropriate for sister site, <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a>"},{"owner":{"account_id":20736668,"reputation":7,"user_id":15227374,"display_name":"TheWerefox"},"score":0,"creation_date":1634486934,"post_id":69605499,"comment_id":123032304,"body_markdown":"I&#39;m sorry, I wasn&#39;t aware of the existence of that website. Thanks for the heads-up, though!","body":"I&#39;m sorry, I wasn&#39;t aware of the existence of that website. Thanks for the heads-up, though!"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1634566378,"post_id":69605499,"comment_id":123052722,"body_markdown":"FYI: Maybe your teacher didn&#39;t tell you, but you deserve to know: This exercise goes completely against the whole idea of threads. The entire _purpose_ of threads is to allow different activities in a program to happen _independently_ of each other. When a program forces threads to operate in lock-step like this, then that completely eliminates any benefit from using threads. Of course, the threads must _occasionally_ meet up with each other--otherwise, you might as well just write a bunch of single-threaded programs. But, your goal should be to minimize the number of those meet-ups.","body":"FYI: Maybe your teacher didn&#39;t tell you, but you deserve to know: This exercise goes completely against the whole idea of threads. The entire <i>purpose</i> of threads is to allow different activities in a program to happen <i>independently</i> of each other. When a program forces threads to operate in lock-step like this, then that completely eliminates any benefit from using threads. Of course, the threads must <i>occasionally</i> meet up with each other--otherwise, you might as well just write a bunch of single-threaded programs. But, your goal should be to minimize the number of those meet-ups."}],"answers":[{"tags":[],"owner":{"account_id":22646426,"reputation":137,"user_id":16821720,"display_name":"SamTV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634484299,"creation_date":1634484299,"answer_id":69605808,"question_id":69605499,"body_markdown":"If you work with concurrencies and Threads. The class Semaphore is actually pretty helpful. I used the Producer-Consumer Pattern to solve your problem.Also keep in mind to use the join function in your Main.\r\n\r\nMain: \r\npublic class Main2 {\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\r\n\t\tABCPrinter p1 = new ABCPrinter(true);\r\n\t\tABCPrinter p2 = new ABCPrinter(false);\r\n\r\n\t\tfinal Thread thr_UpperCase = new Thread(p1);\r\n\t\tfinal Thread thr_LowerCase = new Thread(p2);\r\n\r\n\r\n\r\n\t\tthr_LowerCase.start();\r\n\t\tthr_UpperCase.start();\r\n\r\n\t\tthr_LowerCase.join();\r\n\t\tthr_UpperCase.join();\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\n    import java.util.concurrent.Semaphore;\r\n    \r\n    public class ABCPrinter implements Runnable {\r\n    \tprivate final boolean printUpperCaseBoolean;\r\n    \tprivate static final Semaphore FREE_SEMAPHORE;\r\n    \tprivate static final Semaphore WORK_SEMAPHORE;\r\n    \tprivate static final Semaphore MUTEX_SEMAPHORE;\r\n    \r\n    \tstatic{\r\n    \t\tFREE_SEMAPHORE = new Semaphore(0);\r\n    \t\tWORK_SEMAPHORE = new Semaphore(1);\r\n    \t\tMUTEX_SEMAPHORE = new Semaphore(2);\r\n    \t}\r\n    \r\n    \tpublic ABCPrinter(final boolean printUpperCaseBoolean) {\r\n    \t\tthis.printUpperCaseBoolean = printUpperCaseBoolean;\r\n    \r\n    \t}\r\n    \r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tfor (char char_Counter = &#39;a&#39;; char_Counter &lt;= &#39;z&#39;; char_Counter++) { // count through the alphabet\r\n    \r\n    \t\t\tif(printUpperCaseBoolean){\r\n    \t\t\ttry{\r\n    \t\t\t\tWORK_SEMAPHORE.acquire();\r\n    \t\t\t\tMUTEX_SEMAPHORE.acquire();\r\n    \t\t\t\tSystem.out.println(Character.toUpperCase(char_Counter));\r\n    \t\t\t\tMUTEX_SEMAPHORE.release();\r\n    \t\t\t\tFREE_SEMAPHORE.release();\r\n    \t\t\t}\r\n    \t\t\tcatch (InterruptedException ex){\r\n    \t\t\t\tex.printStackTrace();\r\n    \t\t\t}\r\n    \t\t\t}else{\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tFREE_SEMAPHORE.acquire();\r\n    \t\t\t\t\tMUTEX_SEMAPHORE.acquire();\r\n    \t\t\t\t\tSystem.out.println(char_Counter);\r\n    \t\t\t\t\tMUTEX_SEMAPHORE.release();\r\n    \t\t\t\t\tWORK_SEMAPHORE.release();\r\n    \t\t\t\t}catch (InterruptedException e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nThe output looks like:\r\n\r\nA\r\na\r\nB\r\nb\r\nC\r\nc\r\nD\r\nd\r\nE\r\ne\r\nF\r\nf\r\nG\r\ng\r\nH\r\nh\r\nI\r\ni\r\nJ\r\nj\r\nK\r\nk\r\nL\r\nl\r\nM\r\nm\r\nN\r\nn\r\nO\r\no\r\nP\r\np\r\nQ\r\nq\r\nR\r\nr\r\nS\r\ns\r\nT\r\nt\r\nU\r\nu\r\nV\r\nv\r\nW\r\nw\r\nX\r\nx\r\nY\r\ny\r\nZ\r\nz\r\n","title":"2 Threads taking turns printing the alphabet","body":"<p>If you work with concurrencies and Threads. The class Semaphore is actually pretty helpful. I used the Producer-Consumer Pattern to solve your problem.Also keep in mind to use the join function in your Main.</p>\n<p>Main:\npublic class Main2 {</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n\n    ABCPrinter p1 = new ABCPrinter(true);\n    ABCPrinter p2 = new ABCPrinter(false);\n\n    final Thread thr_UpperCase = new Thread(p1);\n    final Thread thr_LowerCase = new Thread(p2);\n\n\n\n    thr_LowerCase.start();\n    thr_UpperCase.start();\n\n    thr_LowerCase.join();\n    thr_UpperCase.join();\n\n}\n</code></pre>\n<p>}</p>\n<pre><code>import java.util.concurrent.Semaphore;\n\npublic class ABCPrinter implements Runnable {\n    private final boolean printUpperCaseBoolean;\n    private static final Semaphore FREE_SEMAPHORE;\n    private static final Semaphore WORK_SEMAPHORE;\n    private static final Semaphore MUTEX_SEMAPHORE;\n\n    static{\n        FREE_SEMAPHORE = new Semaphore(0);\n        WORK_SEMAPHORE = new Semaphore(1);\n        MUTEX_SEMAPHORE = new Semaphore(2);\n    }\n\n    public ABCPrinter(final boolean printUpperCaseBoolean) {\n        this.printUpperCaseBoolean = printUpperCaseBoolean;\n\n    }\n\n\n    @Override\n    public void run() {\n        for (char char_Counter = 'a'; char_Counter &lt;= 'z'; char_Counter++) { // count through the alphabet\n\n            if(printUpperCaseBoolean){\n            try{\n                WORK_SEMAPHORE.acquire();\n                MUTEX_SEMAPHORE.acquire();\n                System.out.println(Character.toUpperCase(char_Counter));\n                MUTEX_SEMAPHORE.release();\n                FREE_SEMAPHORE.release();\n            }\n            catch (InterruptedException ex){\n                ex.printStackTrace();\n            }\n            }else{\n                try {\n                    FREE_SEMAPHORE.acquire();\n                    MUTEX_SEMAPHORE.acquire();\n                    System.out.println(char_Counter);\n                    MUTEX_SEMAPHORE.release();\n                    WORK_SEMAPHORE.release();\n                }catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>The output looks like:</p>\n<p>A\na\nB\nb\nC\nc\nD\nd\nE\ne\nF\nf\nG\ng\nH\nh\nI\ni\nJ\nj\nK\nk\nL\nl\nM\nm\nN\nn\nO\no\nP\np\nQ\nq\nR\nr\nS\ns\nT\nt\nU\nu\nV\nv\nW\nw\nX\nx\nY\ny\nZ\nz</p>\n"},{"tags":[],"owner":{"account_id":22646426,"reputation":137,"user_id":16821720,"display_name":"SamTV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634817592,"creation_date":1634491803,"answer_id":69606912,"question_id":69605499,"body_markdown":"This new answer involves the usage of wait and notify as requested by you.The main function changed a little to include a mutex Object that is used for synchronization:\r\n\r\n\r\nMain:\r\n\r\n    public class Main2 {\r\n    \r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\t// Mutex object that will serve as a lock\r\n    \t\tfinal Object mutex = new Object();\r\n    \r\n    \t\tABCPrinter p1 = new ABCPrinter(mutex, true);\r\n    \t\tABCPrinter p2 = new ABCPrinter(mutex, false);\r\n    \r\n    \t\tfinal Thread thr_UpperCase = new Thread(p1);\r\n    \t\tfinal Thread thr_LowerCase = new Thread(p2);\r\n    \r\n    \r\n    \t\tthr_LowerCase.start();\r\n    \t\tthr_UpperCase.start();\r\n    \r\n    \t\tthr_LowerCase.join();\r\n    \t\tthr_UpperCase.join();\r\n    \r\n    \t}\r\n    }\r\n\r\nABC Printer:\r\n\r\n    public class ABCPrinter implements Runnable {\r\n    \tprivate final Object mutex;\r\n    \tprivate static char currentChar;\r\n    \r\n    \tprivate final boolean printUpperCaseBoolean;\r\n    \r\n    \tstatic {\r\n    \t\tcurrentChar = &#39;a&#39;;\r\n    \t}\r\n    \r\n        \tpublic ABCPrinter(final Object mutex, final boolean printUpperCaseBoolean) {\r\n        \t\tthis.mutex = mutex;\r\n        \t\tthis.printUpperCaseBoolean = printUpperCaseBoolean;\r\n        \t}\r\n        \r\n        \r\n        \t@Override\r\n        \tpublic void run() {\r\n        \t\twhile (currentChar &lt;= &#39;z&#39;) {\r\n        \t\t\tif (printUpperCaseBoolean) {\r\n        \t\t\t\ttry {\r\n        \t\t\t\t\tsynchronized (mutex) {\r\n        \t\t\t\t\t\tSystem.out.println(Character.toUpperCase(currentChar));\r\n        \t\t\t\t\t\tcurrentChar++;\r\n        \t\t\t\t\t\tmutex.wait();\r\n        \t\t\t\t\t}\r\n        \t\t\t\t}\r\n        \t\t\t\tcatch (InterruptedException interruptedException) {\r\n        \t\t\t\t\tinterruptedException.printStackTrace();\r\n        \t\t\t\t}\r\n        \t\t\t}\r\n        \t\t\telse {\r\n        \t\t\t\ttry {\r\n        \t\t\t\t\t// Wait so that this thread can&#39;t start directly again\r\n        \t\t\t\t\tThread.sleep(100);\r\n        \t\t\t\t\tsynchronized (mutex) {\r\n        \t\t\t\t\t\tSystem.out.println(currentChar);\r\n        \t\t\t\t\t\tcurrentChar++;\r\n        \t\t\t\t\t\tmutex.notify();\r\n        \t\t\t\t\t}\r\n        \t\t\t\t}\r\n        \t\t\t\tcatch (InterruptedException e) {\r\n        \t\t\t\t\te.printStackTrace();\r\n        \t\t\t\t}\r\n        \t\t\t}\r\n        \t\t}\r\n        \t}\r\n        }\r\n\r\nThis prints:\r\nA\r\nb\r\nC\r\nd\r\nE\r\nf\r\nG\r\nh\r\nI\r\nj\r\nK\r\nl\r\nM\r\nn\r\nO\r\np\r\nQ\r\nr\r\nS\r\nt\r\nU\r\nv\r\nW\r\nx\r\nY\r\nz","title":"2 Threads taking turns printing the alphabet","body":"<p>This new answer involves the usage of wait and notify as requested by you.The main function changed a little to include a mutex Object that is used for synchronization:</p>\n<p>Main:</p>\n<pre><code>public class Main2 {\n\n    public static void main(String[] args) throws InterruptedException {\n        // Mutex object that will serve as a lock\n        final Object mutex = new Object();\n\n        ABCPrinter p1 = new ABCPrinter(mutex, true);\n        ABCPrinter p2 = new ABCPrinter(mutex, false);\n\n        final Thread thr_UpperCase = new Thread(p1);\n        final Thread thr_LowerCase = new Thread(p2);\n\n\n        thr_LowerCase.start();\n        thr_UpperCase.start();\n\n        thr_LowerCase.join();\n        thr_UpperCase.join();\n\n    }\n}\n</code></pre>\n<p>ABC Printer:</p>\n<pre><code>public class ABCPrinter implements Runnable {\n    private final Object mutex;\n    private static char currentChar;\n\n    private final boolean printUpperCaseBoolean;\n\n    static {\n        currentChar = 'a';\n    }\n\n        public ABCPrinter(final Object mutex, final boolean printUpperCaseBoolean) {\n            this.mutex = mutex;\n            this.printUpperCaseBoolean = printUpperCaseBoolean;\n        }\n    \n    \n        @Override\n        public void run() {\n            while (currentChar &lt;= 'z') {\n                if (printUpperCaseBoolean) {\n                    try {\n                        synchronized (mutex) {\n                            System.out.println(Character.toUpperCase(currentChar));\n                            currentChar++;\n                            mutex.wait();\n                        }\n                    }\n                    catch (InterruptedException interruptedException) {\n                        interruptedException.printStackTrace();\n                    }\n                }\n                else {\n                    try {\n                        // Wait so that this thread can't start directly again\n                        Thread.sleep(100);\n                        synchronized (mutex) {\n                            System.out.println(currentChar);\n                            currentChar++;\n                            mutex.notify();\n                        }\n                    }\n                    catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n<p>This prints:\nA\nb\nC\nd\nE\nf\nG\nh\nI\nj\nK\nl\nM\nn\nO\np\nQ\nr\nS\nt\nU\nv\nW\nx\nY\nz</p>\n"}],"owner":{"account_id":20736668,"reputation":7,"user_id":15227374,"display_name":"TheWerefox"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1634565896,"accepted_answer_id":69606912,"answer_count":2,"score":0,"last_activity_date":1634817592,"creation_date":1634482270,"question_id":69605499,"body_markdown":"I am supposed to write code for an assignment. The goal is to make 2 threads (which are objects of a class that implements runnable) take turns printing the alphabet. One of them prints upper case while the other one prints lower case.\r\n(they print only a single letter each turn, not the whole alphabet, just for clarification)\r\n\r\nI feel like my code is pretty self-explainatory but if I am wrong here and you have questions please ask them! I appreciate any help I can get for sure!\r\n\r\nThe Code:\r\n```\r\npublic class ABCPrinter implements Runnable {\r\n\r\n    // --- Attributes ---\r\n\r\n   private boolean bool_isUpperCase;\r\n   public  boolean bool_Switch = true;\r\n\r\n   // --- Constructor ---\r\n\r\n   public ABCPrinter (boolean init_isUpperCase) {\r\n\r\n       this.bool_isUpperCase = init_isUpperCase;\r\n\r\n   }\r\n\r\n    @Override\r\n    public synchronized void run() { // custom run method\r\n\r\n        for (char char_Counter = &#39;a&#39;; char_Counter &lt;= &#39;z&#39;; char_Counter++) { // count through the alphabet\r\n\r\n            if (bool_isUpperCase){ // decide whether to print upper or lower case\r\n\r\n                if(bool_Switch) {\r\n\r\n                    System.out.println(Character.toUpperCase(char_Counter));\r\n                    System.out.println(&quot;\\n----------------------&quot;);\r\n                    System.out.println(&quot;Message has been sent.&quot;);\r\n                    System.out.println(&quot;-----------------------&quot;);\r\n\r\n                    try {\r\n\r\n                        Thread.sleep(1000);\r\n\r\n                    } catch(Exception e) {\r\n\r\n                        System.out.println(&quot;\\nInterrupted.&quot;);\r\n\r\n                    }\r\n\r\n                    bool_Switch = false;\r\n                    System.out.println(&quot;\\n--------------------&quot;);\r\n                    System.out.println(&quot;Switch has been set to false.&quot;);\r\n                    System.out.println(&quot;-----------------------&quot;);\r\n\r\n                    try {\r\n\r\n                        Thread.sleep(10000);\r\n\r\n                        notifyAll();\r\n                        System.out.println(&quot;\\n--------------------&quot;);\r\n                        System.out.println(&quot;All threads have been notified.&quot;);\r\n                        System.out.println(&quot;-----------------------&quot;);\r\n\r\n                        Thread.sleep(10000);\r\n\r\n                        wait();\r\n                        System.out.println(&quot;\\n--------------------&quot;);\r\n                        System.out.println(&quot;Thread 1 is waiting.&quot;);\r\n                        System.out.println(&quot;-----------------------&quot;);\r\n\r\n                    } catch (Exception e) {\r\n\r\n                        System.out.println(&quot;Process Interrupted.&quot;);\r\n\r\n                    }\r\n\r\n                } else {\r\n\r\n                    try {\r\n\r\n                        System.out.println(&quot;Thread 1 is waiting.&quot;);\r\n                        wait();\r\n\r\n                    } catch (Exception e) {\r\n\r\n                        System.out.println(&quot;Process Interrupted.&quot;);\r\n\r\n                    }\r\n\r\n                }\r\n\r\n            } else {\r\n\r\n                if(!bool_Switch) {\r\n\r\n                    System.out.println(Character.toUpperCase(char_Counter));\r\n                    System.out.println(&quot;\\n----------------------&quot;);\r\n                    System.out.println(&quot;Message has been sent.&quot;);\r\n                    System.out.println(&quot;-----------------------&quot;);\r\n\r\n                    try {\r\n\r\n                        Thread.sleep(1000);\r\n\r\n                    } catch(Exception e) {\r\n\r\n                        System.out.println(&quot;\\nInterrupted.&quot;);\r\n\r\n                    }\r\n\r\n                    bool_Switch = true;\r\n                    System.out.println(&quot;\\n--------------------&quot;);\r\n                    System.out.println(&quot;Switch has been set to true.&quot;);\r\n                    System.out.println(&quot;-----------------------&quot;);\r\n\r\n                    try {\r\n\r\n                        Thread.sleep(1000);\r\n\r\n                        notifyAll();\r\n                        System.out.println(&quot;\\n--------------------&quot;);\r\n                        System.out.println(&quot;All threads have been notified.&quot;);\r\n                        System.out.println(&quot;-----------------------&quot;);\r\n\r\n                        Thread.sleep(1000);\r\n\r\n                        wait();\r\n                        System.out.println(&quot;\\n--------------------&quot;);\r\n                        System.out.println(&quot;Thread 2 is waiting.&quot;);\r\n                        System.out.println(&quot;-----------------------&quot;);\r\n\r\n                    } catch (Exception e) {\r\n\r\n                        System.out.println(&quot;Process Interrupted.&quot;);\r\n\r\n                    }\r\n\r\n                } else {\r\n\r\n                    try {\r\n\r\n                        System.out.println(&quot;Thread 2 is waiting.&quot;);\r\n                        wait();\r\n\r\n                    } catch (Exception e) {\r\n\r\n                        System.out.println(&quot;Process Interrupted.&quot;);\r\n\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere is the main method where everything is executed:\r\n```\r\npublic class Main2 {\r\n\r\n    public boolean bool_switch;\r\n\r\n    public static void main(String[] args){\r\n\r\n        ABCPrinter p1 = new ABCPrinter(true);\r\n        ABCPrinter p2 = new ABCPrinter(false);\r\n        \r\n        Thread thr_UpperCase = new Thread(p1);\r\n        Thread thr_LowerCase = new Thread(p2);\r\n\r\n        thr_UpperCase.start();\r\n        thr_LowerCase.start();\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nLike I said I appreciate any help or advice for improvement. I would first and foremost love to get it to work though, been stuck at this assignment for 2 days now.\r\n\r\nHave a good one!","title":"2 Threads taking turns printing the alphabet","body":"<p>I am supposed to write code for an assignment. The goal is to make 2 threads (which are objects of a class that implements runnable) take turns printing the alphabet. One of them prints upper case while the other one prints lower case.\n(they print only a single letter each turn, not the whole alphabet, just for clarification)</p>\n<p>I feel like my code is pretty self-explainatory but if I am wrong here and you have questions please ask them! I appreciate any help I can get for sure!</p>\n<p>The Code:</p>\n<pre><code>public class ABCPrinter implements Runnable {\n\n    // --- Attributes ---\n\n   private boolean bool_isUpperCase;\n   public  boolean bool_Switch = true;\n\n   // --- Constructor ---\n\n   public ABCPrinter (boolean init_isUpperCase) {\n\n       this.bool_isUpperCase = init_isUpperCase;\n\n   }\n\n    @Override\n    public synchronized void run() { // custom run method\n\n        for (char char_Counter = 'a'; char_Counter &lt;= 'z'; char_Counter++) { // count through the alphabet\n\n            if (bool_isUpperCase){ // decide whether to print upper or lower case\n\n                if(bool_Switch) {\n\n                    System.out.println(Character.toUpperCase(char_Counter));\n                    System.out.println(&quot;\\n----------------------&quot;);\n                    System.out.println(&quot;Message has been sent.&quot;);\n                    System.out.println(&quot;-----------------------&quot;);\n\n                    try {\n\n                        Thread.sleep(1000);\n\n                    } catch(Exception e) {\n\n                        System.out.println(&quot;\\nInterrupted.&quot;);\n\n                    }\n\n                    bool_Switch = false;\n                    System.out.println(&quot;\\n--------------------&quot;);\n                    System.out.println(&quot;Switch has been set to false.&quot;);\n                    System.out.println(&quot;-----------------------&quot;);\n\n                    try {\n\n                        Thread.sleep(10000);\n\n                        notifyAll();\n                        System.out.println(&quot;\\n--------------------&quot;);\n                        System.out.println(&quot;All threads have been notified.&quot;);\n                        System.out.println(&quot;-----------------------&quot;);\n\n                        Thread.sleep(10000);\n\n                        wait();\n                        System.out.println(&quot;\\n--------------------&quot;);\n                        System.out.println(&quot;Thread 1 is waiting.&quot;);\n                        System.out.println(&quot;-----------------------&quot;);\n\n                    } catch (Exception e) {\n\n                        System.out.println(&quot;Process Interrupted.&quot;);\n\n                    }\n\n                } else {\n\n                    try {\n\n                        System.out.println(&quot;Thread 1 is waiting.&quot;);\n                        wait();\n\n                    } catch (Exception e) {\n\n                        System.out.println(&quot;Process Interrupted.&quot;);\n\n                    }\n\n                }\n\n            } else {\n\n                if(!bool_Switch) {\n\n                    System.out.println(Character.toUpperCase(char_Counter));\n                    System.out.println(&quot;\\n----------------------&quot;);\n                    System.out.println(&quot;Message has been sent.&quot;);\n                    System.out.println(&quot;-----------------------&quot;);\n\n                    try {\n\n                        Thread.sleep(1000);\n\n                    } catch(Exception e) {\n\n                        System.out.println(&quot;\\nInterrupted.&quot;);\n\n                    }\n\n                    bool_Switch = true;\n                    System.out.println(&quot;\\n--------------------&quot;);\n                    System.out.println(&quot;Switch has been set to true.&quot;);\n                    System.out.println(&quot;-----------------------&quot;);\n\n                    try {\n\n                        Thread.sleep(1000);\n\n                        notifyAll();\n                        System.out.println(&quot;\\n--------------------&quot;);\n                        System.out.println(&quot;All threads have been notified.&quot;);\n                        System.out.println(&quot;-----------------------&quot;);\n\n                        Thread.sleep(1000);\n\n                        wait();\n                        System.out.println(&quot;\\n--------------------&quot;);\n                        System.out.println(&quot;Thread 2 is waiting.&quot;);\n                        System.out.println(&quot;-----------------------&quot;);\n\n                    } catch (Exception e) {\n\n                        System.out.println(&quot;Process Interrupted.&quot;);\n\n                    }\n\n                } else {\n\n                    try {\n\n                        System.out.println(&quot;Thread 2 is waiting.&quot;);\n                        wait();\n\n                    } catch (Exception e) {\n\n                        System.out.println(&quot;Process Interrupted.&quot;);\n\n                    }\n\n                }\n\n            }\n\n        }\n\n    }\n\n}\n</code></pre>\n<p>Here is the main method where everything is executed:</p>\n<pre><code>public class Main2 {\n\n    public boolean bool_switch;\n\n    public static void main(String[] args){\n\n        ABCPrinter p1 = new ABCPrinter(true);\n        ABCPrinter p2 = new ABCPrinter(false);\n        \n        Thread thr_UpperCase = new Thread(p1);\n        Thread thr_LowerCase = new Thread(p2);\n\n        thr_UpperCase.start();\n        thr_LowerCase.start();\n\n    }\n\n}\n</code></pre>\n<p>Like I said I appreciate any help or advice for improvement. I would first and foremost love to get it to work though, been stuck at this assignment for 2 days now.</p>\n<p>Have a good one!</p>\n"},{"tags":["java","jquery","jsp","struts2"],"answers":[{"tags":[],"owner":{"account_id":5995725,"reputation":4137,"user_id":4710425,"accept_rate":59,"display_name":"SatyaTNV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513853463,"creation_date":1513853463,"answer_id":47923352,"question_id":47923058,"body_markdown":"I found some of mistakes in your code. It may helpful to you.\r\n\r\nIn **struts.xml**\r\n\r\nIts\r\n\r\n    &lt;result name=&quot;success&quot; type=&quot;json&quot;&gt;playerColor&lt;/result&gt;\r\n\r\ninstead\r\n\r\n    &lt;result name=&quot;success&quot; type=&quot;json&quot;&gt;/WEB-INF/views/game.jsp&lt;/result&gt;\r\n\r\nHere type `json` so variable to be passed.\r\n\r\nAnd `playerColor` should have getter method in `GameAction`.\r\n\r\nIn Ajax call simply\r\n\r\n    success : function (data) {\r\n        $(&quot;#playerColor&quot;).html(&quot;&lt;h2&gt;&quot; + data + &quot;&lt;/h2&gt;&quot;);\r\n    }","title":"Getting data from ActionClass to JSP in Struts 2","body":"<p>I found some of mistakes in your code. It may helpful to you.</p>\n\n<p>In <strong>struts.xml</strong></p>\n\n<p>Its</p>\n\n<pre><code>&lt;result name=\"success\" type=\"json\"&gt;playerColor&lt;/result&gt;\n</code></pre>\n\n<p>instead</p>\n\n<pre><code>&lt;result name=\"success\" type=\"json\"&gt;/WEB-INF/views/game.jsp&lt;/result&gt;\n</code></pre>\n\n<p>Here type <code>json</code> so variable to be passed.</p>\n\n<p>And <code>playerColor</code> should have getter method in <code>GameAction</code>.</p>\n\n<p>In Ajax call simply</p>\n\n<pre><code>success : function (data) {\n    $(\"#playerColor\").html(\"&lt;h2&gt;\" + data + \"&lt;/h2&gt;\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514163262,"creation_date":1514163262,"answer_id":47964971,"question_id":47923058,"body_markdown":"You might not understand what is a JSON result type and how the content is provided by the action which is executing this result type.\r\n\r\nTo get more about plugin and documentation see [JSON Plugin][1].\r\n\r\nYou can also look in the source code for the class which is being executed the [JSONResult][2]. Then you see that \r\n\r\n&gt;     /**\r\n&gt;      * This result type doesn&#39;t have a default param, null is ok to reduce noise in logs\r\n&gt;      */\r\n&gt;     public static final String DEFAULT_PARAM = null;\r\n\r\n&lt;sub&gt;&lt;b&gt;&lt;i&gt;However such noise sometimes is helpful if you are debugging the code.&lt;/i&gt;&lt;/b&gt;&lt;/sub&gt;\r\n \r\nThat makes no any sense in your code\r\n\r\n    &lt;result name=&quot;success&quot; type=&quot;json&quot;&gt;/WEB-INF/views/game.jsp&lt;/result&gt;\r\n\r\nThe you need to dig into the tutorial and examples how to use this result. One of them you can find [here][3].\r\n\r\nAnother [link][4] might help you to decide whether you need a json result or use any other result suitable for JSON response.\r\n\r\nCombining all that together will make an idea to rewrite your code to get it working.\r\n\r\n\r\n  [1]: http://struts.apache.org/plugins/json/\r\n  [2]: https://github.com/apache/struts/blob/master/plugins/json/src/main/java/org/apache/struts2/json/JSONResult.java\r\n  [3]: https://www.mkyong.com/struts2/struts-2-and-json-example/\r\n  [4]: https://stackoverflow.com/a/17096564/573032","title":"Getting data from ActionClass to JSP in Struts 2","body":"<p>You might not understand what is a JSON result type and how the content is provided by the action which is executing this result type.</p>\n\n<p>To get more about plugin and documentation see <a href=\"http://struts.apache.org/plugins/json/\" rel=\"nofollow noreferrer\">JSON Plugin</a>.</p>\n\n<p>You can also look in the source code for the class which is being executed the <a href=\"https://github.com/apache/struts/blob/master/plugins/json/src/main/java/org/apache/struts2/json/JSONResult.java\" rel=\"nofollow noreferrer\">JSONResult</a>. Then you see that </p>\n\n<blockquote>\n<pre><code>/**\n * This result type doesn't have a default param, null is ok to reduce noise in logs\n */\npublic static final String DEFAULT_PARAM = null;\n</code></pre>\n</blockquote>\n\n<p><sub><b><i>However such noise sometimes is helpful if you are debugging the code.</i></b></sub></p>\n\n<p>That makes no any sense in your code</p>\n\n<pre><code>&lt;result name=\"success\" type=\"json\"&gt;/WEB-INF/views/game.jsp&lt;/result&gt;\n</code></pre>\n\n<p>The you need to dig into the tutorial and examples how to use this result. One of them you can find <a href=\"https://www.mkyong.com/struts2/struts-2-and-json-example/\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Another <a href=\"https://stackoverflow.com/a/17096564/573032\">link</a> might help you to decide whether you need a json result or use any other result suitable for JSON response.</p>\n\n<p>Combining all that together will make an idea to rewrite your code to get it working.</p>\n"}],"owner":{"account_id":12018538,"reputation":175,"user_id":8792830,"display_name":"Aymane EL Jahrani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1514503936,"answer_count":2,"score":0,"last_activity_date":1634817366,"creation_date":1513852599,"question_id":47923058,"body_markdown":"I&#39;m currently working on a school project which consists of developing a game using Struts2/JSP.\r\n\r\nThe problem I have is I can&#39;t get Data from my ActionClass to my JSP using jQuery.\r\nIt works great the other way and I found multiple sources to do so.\r\n\r\n**Here is my minimized `GameAction.class`:**\r\n\r\n    private String playerColor;\r\n    private Map&lt;String,Object&gt; applicationMap;\r\n\r\n    public String execute (){\r\n    \r\n    playerColor = ((Joueur)applicationMap.get(&quot;joueur&quot;)).getPlayerColor();\r\n        return SUCCESS;\r\n    }\r\n\r\nNOTE: everything has a getter/setter.\r\n\r\n**`game.js` :**\r\n\r\n    var $playerColor;\r\n    $(window).on(&#39;load&#39;, function () {\r\n\r\n    $.ajax({\r\n        type : &quot;GET&quot;,\r\n        url : &quot;gotoGameAction&quot;,\r\n        data : &quot;playerColor=&quot;,\r\n        success : function (data) {\r\n        $playerColor = data;\r\n        var html = &quot;&lt;h2&gt;&quot; + $playerColor.toString() + &quot;&lt;/h2&gt;&quot;;\r\n        $(&quot;#playerColor&quot;).html(html);\r\n      }\r\n\r\n    })\r\n\r\n    });\r\n\r\n**`Struts.xml`:**\r\n\r\n    &lt;package name=&quot;default&quot; extends=&quot;json-default&quot; namespace=&quot;/&quot;&gt;\r\n        &lt;action name=&quot;gotoGameAction&quot; class=&quot;actions.logins.GameAction&quot;&gt;\r\n            &lt;result name=&quot;success&quot; type=&quot;json&quot;&gt;/WEB-INF/views/game.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n    &lt;/package&gt;\r\n\r\nThis output I have on my JSP is : `[object Object]`.\r\n\r\nI really can&#39;t get what&#39;s going on there.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Getting data from ActionClass to JSP in Struts 2","body":"<p>I'm currently working on a school project which consists of developing a game using Struts2/JSP.</p>\n<p>The problem I have is I can't get Data from my ActionClass to my JSP using jQuery.\nIt works great the other way and I found multiple sources to do so.</p>\n<p><strong>Here is my minimized <code>GameAction.class</code>:</strong></p>\n<pre><code>private String playerColor;\nprivate Map&lt;String,Object&gt; applicationMap;\n\npublic String execute (){\n\nplayerColor = ((Joueur)applicationMap.get(&quot;joueur&quot;)).getPlayerColor();\n    return SUCCESS;\n}\n</code></pre>\n<p>NOTE: everything has a getter/setter.</p>\n<p><strong><code>game.js</code> :</strong></p>\n<pre><code>var $playerColor;\n$(window).on('load', function () {\n\n$.ajax({\n    type : &quot;GET&quot;,\n    url : &quot;gotoGameAction&quot;,\n    data : &quot;playerColor=&quot;,\n    success : function (data) {\n    $playerColor = data;\n    var html = &quot;&lt;h2&gt;&quot; + $playerColor.toString() + &quot;&lt;/h2&gt;&quot;;\n    $(&quot;#playerColor&quot;).html(html);\n  }\n\n})\n\n});\n</code></pre>\n<p><strong><code>Struts.xml</code>:</strong></p>\n<pre><code>&lt;package name=&quot;default&quot; extends=&quot;json-default&quot; namespace=&quot;/&quot;&gt;\n    &lt;action name=&quot;gotoGameAction&quot; class=&quot;actions.logins.GameAction&quot;&gt;\n        &lt;result name=&quot;success&quot; type=&quot;json&quot;&gt;/WEB-INF/views/game.jsp&lt;/result&gt;\n    &lt;/action&gt;\n&lt;/package&gt;\n</code></pre>\n<p>This output I have on my JSP is : <code>[object Object]</code>.</p>\n<p>I really can't get what's going on there.</p>\n"},{"tags":["java","android","json","laravel","retrofit2"],"comments":[{"owner":{"account_id":226653,"reputation":39269,"user_id":487813,"accept_rate":84,"display_name":"apokryfos"},"score":0,"creation_date":1589883169,"post_id":61888453,"comment_id":109462891,"body_markdown":"422 is an error response code so it should count as a failiure","body":"422 is an error response code so it should count as a failiure"},{"owner":{"display_name":"user8244139"},"score":0,"creation_date":1589883335,"post_id":61888453,"comment_id":109462978,"body_markdown":"@apokryfos other topics asked about 422 response code and others answered it in onResponse method and got about 60 up votes. I don&#39;t know. if so, how should I get the json error?","body":"@apokryfos other topics asked about 422 response code and others answered it in onResponse method and got about 60 up votes. I don&#39;t know. if so, how should I get the json error?"},{"owner":{"account_id":226653,"reputation":39269,"user_id":487813,"accept_rate":84,"display_name":"apokryfos"},"score":0,"creation_date":1589883504,"post_id":61888453,"comment_id":109463062,"body_markdown":"I don&#39;t really know how retrofit does but I would expect 422 to count as a failure. Check what&#39;s in the throwable in case there&#39;s something you can salvage from that","body":"I don&#39;t really know how retrofit does but I would expect 422 to count as a failure. Check what&#39;s in the throwable in case there&#39;s something you can salvage from that"}],"answers":[{"tags":[],"owner":{"display_name":"user8244139"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1589890081,"creation_date":1589890081,"answer_id":61890683,"question_id":61888453,"body_markdown":"well, I took a look at the throwable and found out that the header I set was wrong and it was returning a not-Json response. so I changed the header from\r\n\r\n    @Headers(&quot;Content-Type: application/json&quot;)\r\n\r\nto\r\n\r\n    @Headers(&quot;Accept: application/json&quot;)\r\n\r\n","title":"Response code 422 goes to onFailure method","body":"<p>well, I took a look at the throwable and found out that the header I set was wrong and it was returning a not-Json response. so I changed the header from</p>\n\n<pre><code>@Headers(\"Content-Type: application/json\")\n</code></pre>\n\n<p>to</p>\n\n<pre><code>@Headers(\"Accept: application/json\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10450964,"reputation":474,"user_id":9624078,"display_name":"Himanshu Malik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634817261,"creation_date":1634817261,"answer_id":69661518,"question_id":61888453,"body_markdown":"For anyone who are getting same error but wondering this is not working, actually it is you have to check your Interceptor if you are adding any header through there like tokens.\r\n\r\n    Request request = chain.request();\r\n        Request newRequest;\r\n\r\n        newRequest = request.newBuilder()\r\n                .addHeader(&quot;Authorization&quot;, &quot;token&quot;)\r\n                .addHeader(&quot;Accept&quot;, &quot;application/json&quot;)\r\n                .build();","title":"Response code 422 goes to onFailure method","body":"<p>For anyone who are getting same error but wondering this is not working, actually it is you have to check your Interceptor if you are adding any header through there like tokens.</p>\n<pre><code>Request request = chain.request();\n    Request newRequest;\n\n    newRequest = request.newBuilder()\n            .addHeader(&quot;Authorization&quot;, &quot;token&quot;)\n            .addHeader(&quot;Accept&quot;, &quot;application/json&quot;)\n            .build();\n</code></pre>\n"}],"owner":{"display_name":"user8244139"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":917,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":61890683,"answer_count":2,"score":2,"last_activity_date":1634817261,"creation_date":1589883011,"question_id":61888453,"body_markdown":"I&#39;m trying to send a sign up request with retrofit and it works perfectly when creating a user is successful. however, when there&#39;s an error, it will jump from `onResponse` to `onFailure`, so I can&#39;t handle the error thrown from my server. they both return a `Json object` called &quot;message&quot;. I tried with postman and it responded correctly but when I&#39;m trying to do it with android, the successful message is shown without any problem but not the error. why is it going to onFailure? I saw several topics where they handled the error on onResponse method but my problem is that the method is not being called when there&#39;s an error at all and moved straight to onFailure.\r\n\r\nmy Activity:\r\n\r\n                        RegisterService registerService = BaseServerRetrofit.getRetrofitInstance().create(RegisterService.class);\r\n                        RegisterCredential registerCredential = new RegisterCredential(username.getText().toString(),email.getText().toString()\r\n                        ,password.getText().toString(),password.getText().toString());\r\n\r\n                        Call&lt;Message&gt; call = registerService.getMessageFromServer(registerCredential);\r\n                        call.enqueue(new Callback&lt;Message&gt;() {\r\n                            @Override\r\n                            public void onResponse(Call&lt;Message&gt; call, Response&lt;Message&gt; response) {\r\n                                if(response.code() == 422)\r\n                                    Log.e(&quot;400&quot;,response.errorBody().toString());\r\n                                reg_note.setText(response.body().getMessage());\r\n                            }\r\n\r\n                            @Override\r\n                            public void onFailure(Call&lt;Message&gt; call, Throwable t) {\r\n                                reg_note.setText(&quot;error&quot;);\r\n                            }\r\n                        });\r\n\r\nRegisterService\r\n\r\n    public interface RegisterService {\r\n        String FEED = &quot;/public/api/auth/signup&quot;;\r\n    \r\n        @Headers(&quot;Content-Type: application/json&quot;)\r\n        @POST(FEED)\r\n        Call&lt;Message&gt; getMessageFromServer(@Body RegisterCredential registerCredential);\r\n    }\r\n\r\nI don&#39;t know if it necessary to tell you guys, but on success, the response code is 201 and when it fails, it is 422.\r\n\r\nedit 1:\r\n\r\nI found the exception: Use JsonReader.setLenient(true) to accept malformed JSON at line 1 column 1 path $","title":"Response code 422 goes to onFailure method","body":"<p>I'm trying to send a sign up request with retrofit and it works perfectly when creating a user is successful. however, when there's an error, it will jump from <code>onResponse</code> to <code>onFailure</code>, so I can't handle the error thrown from my server. they both return a <code>Json object</code> called \"message\". I tried with postman and it responded correctly but when I'm trying to do it with android, the successful message is shown without any problem but not the error. why is it going to onFailure? I saw several topics where they handled the error on onResponse method but my problem is that the method is not being called when there's an error at all and moved straight to onFailure.</p>\n\n<p>my Activity:</p>\n\n<pre><code>                    RegisterService registerService = BaseServerRetrofit.getRetrofitInstance().create(RegisterService.class);\n                    RegisterCredential registerCredential = new RegisterCredential(username.getText().toString(),email.getText().toString()\n                    ,password.getText().toString(),password.getText().toString());\n\n                    Call&lt;Message&gt; call = registerService.getMessageFromServer(registerCredential);\n                    call.enqueue(new Callback&lt;Message&gt;() {\n                        @Override\n                        public void onResponse(Call&lt;Message&gt; call, Response&lt;Message&gt; response) {\n                            if(response.code() == 422)\n                                Log.e(\"400\",response.errorBody().toString());\n                            reg_note.setText(response.body().getMessage());\n                        }\n\n                        @Override\n                        public void onFailure(Call&lt;Message&gt; call, Throwable t) {\n                            reg_note.setText(\"error\");\n                        }\n                    });\n</code></pre>\n\n<p>RegisterService</p>\n\n<pre><code>public interface RegisterService {\n    String FEED = \"/public/api/auth/signup\";\n\n    @Headers(\"Content-Type: application/json\")\n    @POST(FEED)\n    Call&lt;Message&gt; getMessageFromServer(@Body RegisterCredential registerCredential);\n}\n</code></pre>\n\n<p>I don't know if it necessary to tell you guys, but on success, the response code is 201 and when it fails, it is 422.</p>\n\n<p>edit 1:</p>\n\n<p>I found the exception: Use JsonReader.setLenient(true) to accept malformed JSON at line 1 column 1 path $</p>\n"},{"tags":["javascript","java","spring-mvc","security"],"comments":[{"owner":{"account_id":383130,"reputation":2081,"user_id":6415199,"display_name":"Brian Demers"},"score":0,"creation_date":1611261704,"post_id":65805306,"comment_id":116401832,"body_markdown":"Can you elaborate on your use case, I don&#39;t think the attached code is related to this question? As that would be called once access is denied.","body":"Can you elaborate on your use case, I don&#39;t think the attached code is related to this question? As that would be called once access is denied."},{"owner":{"account_id":4306454,"reputation":35,"user_id":3518701,"display_name":"Kuldeep Singh"},"score":0,"creation_date":1634817267,"post_id":65805306,"comment_id":123131338,"body_markdown":"Actually, I want a popup just to inform the user that your session is going to expire in just a few minutes.","body":"Actually, I want a popup just to inform the user that your session is going to expire in just a few minutes."}],"owner":{"account_id":4306454,"reputation":35,"user_id":3518701,"display_name":"Kuldeep Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634816983,"creation_date":1611129641,"question_id":65805306,"body_markdown":"I need to show a notification on my web app that your session is about to timeout rather than redirect to the login page. \r\n\r\nThanks in advance.\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\n@Override\r\n  protected boolean onAccessDenied(ServletRequest request, ServletResponse response) throws Exception {\r\n    \r\n    if (isLoginRequest(request, response)) {\r\n        if (isLoginSubmission(request, response)) {\r\n            return executeLogin(request, response);\r\n        } else {\r\n            //allow them to see the login page ;)\r\n            return true;\r\n        }\r\n    } else {\r\n        Cookie[] cookies = ((HttpServletRequest)request).getCookies();\r\n        if (cookies != null &amp;&amp; cookies.length &gt; 0) {\r\n          Cookie cookie = null;\r\n          for (Cookie aroCookie: cookies) {\r\n            if (xxxCookie.getName().equals(&quot;xxxCookie&quot;)) {\r\n              cookie = xxxCookie;\r\n              break;\r\n            }\r\n          }\r\n          if (cookie != null) {            \r\n            //userSessionStatus\r\n          }\r\n        }\r\n        //redirect to login page if session timeout\r\n        saveRequestAndRedirectToLogin(request, response);\r\n        return false;\r\n    }\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n","title":"How I can show a notification in jsp that your session is about to timeout","body":"<p>I need to show a notification on my web app that your session is about to timeout rather than redirect to the login page.</p>\n<p>Thanks in advance.</p>\n<pre><code>\n@Override\n  protected boolean onAccessDenied(ServletRequest request, ServletResponse response) throws Exception {\n    \n    if (isLoginRequest(request, response)) {\n        if (isLoginSubmission(request, response)) {\n            return executeLogin(request, response);\n        } else {\n            //allow them to see the login page ;)\n            return true;\n        }\n    } else {\n        Cookie[] cookies = ((HttpServletRequest)request).getCookies();\n        if (cookies != null && cookies.length > 0) {\n          Cookie cookie = null;\n          for (Cookie aroCookie: cookies) {\n            if (xxxCookie.getName().equals(\"xxxCookie\")) {\n              cookie = xxxCookie;\n              break;\n            }\n          }\n          if (cookie != null) {            \n            //userSessionStatus\n          }\n        }\n        //redirect to login page if session timeout\n        saveRequestAndRedirectToLogin(request, response);\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1634813080,"post_id":69660447,"comment_id":123129475,"body_markdown":"this seems like such a bad implementation, why not use a recyclerview ?","body":"this seems like such a bad implementation, why not use a recyclerview ?"},{"owner":{"account_id":15439934,"reputation":403,"user_id":11138845,"display_name":"S_i_l_e_n_t  C_o_d_e_r"},"score":1,"creation_date":1634813770,"post_id":69660447,"comment_id":123129769,"body_markdown":"follow this Link : https://stackoverflow.com/a/7057858/11138845","body":"follow this Link : <a href=\"https://stackoverflow.com/a/7057858/11138845\">stackoverflow.com/a/7057858/11138845</a>"},{"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"score":0,"creation_date":1634815276,"post_id":69660447,"comment_id":123130440,"body_markdown":"@a_local_nobody because the button texts are dynamic. They are based on what the user has typed.","body":"@a_local_nobody because the button texts are dynamic. They are based on what the user has typed."},{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1634815392,"post_id":69660447,"comment_id":123130507,"body_markdown":"doesn&#39;t really answer my question, a recyclerview is also dynamic ?","body":"doesn&#39;t really answer my question, a recyclerview is also dynamic ?"}],"answers":[{"tags":[],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634816869,"creation_date":1634816869,"answer_id":69661443,"question_id":69660447,"body_markdown":"This is how I could do it:\r\n\r\n```java \r\nLinearLayout layout = view.findViewById(R.id.root);\r\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n    for(String text : readFromSharedPreferences(getContext())) {\r\n        Button btn = new Button(this.getContext());\r\n        btn.setText(text);\r\n        btn.setTextColor(Color.BLUE);\r\n        btn.setBackgroundColor(Color.RED);\r\n        layout.addView(btn);\r\n    }\r\n}\r\n```\r\nUsing Gson to store all data in an ArrayList:\r\n```java\r\npublic ArrayList&lt;String&gt; readFromSharedPreferences(Context context) {\r\n    String file = &quot;k-texts&quot;;\r\n    SharedPreferences mPrefs = context.getSharedPreferences(file, Context.MODE_PRIVATE);\r\n    Gson gson = new Gson();\r\n    String json = mPrefs.getString(&quot;k-text&quot;, null);\r\n    Type type = new TypeToken&lt;List&lt;String&gt;&gt;() {\r\n    }.getType();\r\n    return gson.fromJson(json, type);\r\n}\r\n```","title":"Adding all values in SharedPreferences as buttons","body":"<p>This is how I could do it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LinearLayout layout = view.findViewById(R.id.root);\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n    for(String text : readFromSharedPreferences(getContext())) {\n        Button btn = new Button(this.getContext());\n        btn.setText(text);\n        btn.setTextColor(Color.BLUE);\n        btn.setBackgroundColor(Color.RED);\n        layout.addView(btn);\n    }\n}\n</code></pre>\n<p>Using Gson to store all data in an ArrayList:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ArrayList&lt;String&gt; readFromSharedPreferences(Context context) {\n    String file = &quot;k-texts&quot;;\n    SharedPreferences mPrefs = context.getSharedPreferences(file, Context.MODE_PRIVATE);\n    Gson gson = new Gson();\n    String json = mPrefs.getString(&quot;k-text&quot;, null);\n    Type type = new TypeToken&lt;List&lt;String&gt;&gt;() {\n    }.getType();\n    return gson.fromJson(json, type);\n}\n</code></pre>\n"}],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69661443,"answer_count":1,"score":0,"last_activity_date":1634816869,"creation_date":1634812883,"question_id":69660447,"body_markdown":"I would like to add multiple dynamic buttons. Their texts are saved in SharedPreferences.\r\n\r\n```java\r\nLinearLayout layout = view.findViewById(R.id.root);\r\nSharedPreferences mPrefs = null;\r\nif (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\r\n    mPrefs = getContext().getSharedPreferences(&quot;k-texts&quot;, Context.MODE_PRIVATE);\r\n}\r\nMap&lt;String, ?&gt; allEntries = mPrefs.getAll();\r\nfor (Map.Entry&lt;String, ?&gt; entry : allEntries.entrySet()) {\r\n    Button btn = null;\r\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\r\n        btn = new Button(this.getContext());\r\n    }\r\n    btn.setText(entry.getValue().toString());\r\n    btn.setTextColor(Color.BLUE);\r\n    btn.setBackgroundColor(Color.RED);\r\n    layout.addView(btn);\r\n}\r\n```\r\nThe problem is, I get only 1 button with the text *[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;]*. Why is my loop adding only 1 button, instead of 3?","title":"Adding all values in SharedPreferences as buttons","body":"<p>I would like to add multiple dynamic buttons. Their texts are saved in SharedPreferences.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LinearLayout layout = view.findViewById(R.id.root);\nSharedPreferences mPrefs = null;\nif (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\n    mPrefs = getContext().getSharedPreferences(&quot;k-texts&quot;, Context.MODE_PRIVATE);\n}\nMap&lt;String, ?&gt; allEntries = mPrefs.getAll();\nfor (Map.Entry&lt;String, ?&gt; entry : allEntries.entrySet()) {\n    Button btn = null;\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\n        btn = new Button(this.getContext());\n    }\n    btn.setText(entry.getValue().toString());\n    btn.setTextColor(Color.BLUE);\n    btn.setBackgroundColor(Color.RED);\n    layout.addView(btn);\n}\n</code></pre>\n<p>The problem is, I get only 1 button with the text <em>[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;]</em>. Why is my loop adding only 1 button, instead of 3?</p>\n"},{"tags":["java","plugins","minecraft","bukkit"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1634803957,"post_id":69656037,"comment_id":123125589,"body_markdown":"You mean, change the dropped item of sea lantern ?","body":"You mean, change the dropped item of sea lantern ?"},{"owner":{"account_id":22914196,"reputation":19,"user_id":17051044,"display_name":"Zavage"},"score":0,"creation_date":1634805372,"post_id":69656037,"comment_id":123126189,"body_markdown":"No, I want sand to spawn in a falling state underneath the placed sea lantern","body":"No, I want sand to spawn in a falling state underneath the placed sea lantern"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1634807615,"post_id":69656037,"comment_id":123127077,"body_markdown":"Ok, and what is your minecraft version ?","body":"Ok, and what is your minecraft version ?"}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634816348,"creation_date":1634808746,"answer_id":69659438,"question_id":69656037,"body_markdown":"This is an example code that will make spawn 5 times a falling block to below :\r\n\r\n```java\r\nprivate BukkitTask task;\r\nprivate int keepToSpawn = 0;\r\n\r\n@EventHandler\r\npublic void onPlaceSandbot(BlockPlaceEvent e) {\r\n\tMaterial spawnType = e.getBlockPlaced().getType(); // get placed block\r\n\tif(!spawnType.equals(Material.SEA_LANTERN)) // in your case, be sure it&#39;s sea lantern\r\n\t\treturn;\r\n\tkeepToSpawn = 5; // amount of spawned item\r\n\tLocation loc = e.getBlock().getLocation(); // location where entity will spawn\r\n\ttask = Bukkit.getScheduler().runTaskTimer(Main.getInstance(), () -&gt; {\r\n        // each 0.5s, we made spawn a falling block of given type\r\n\t\trun(loc, spawnType);\r\n\t\tif(keepToSpawn == 0)\r\n\t\t\ttask.cancel();\r\n\t\tkeepToSpawn--;\r\n\t}, 10, 10); // 10 ticks = 0.5 seconds\r\n}\r\n\r\n@SuppressWarnings(&quot;deprecation&quot;)\r\nprivate void run(Location loc, Material type) {\r\n\tFallingBlock falling = loc.getWorld().spawnFallingBlock(loc, type, (byte) 0);\r\n\tfalling.setDropItem(true);\r\n\tfalling.setVelocity(new Vector(0, -0.5, 0)); // set the velicoty of the block\r\n}\r\n```\r\n\r\nDon&#39;t use `Bukkit.getWorld(e.getBlockPlaced().getLocation().getWorld().getUID())`, you already have the world instance with `e.getBlockPlaced().getWorld()`.\r\n\r\nFor the `Vector` used as velocity, you should set the direction of the block. I set negative Y to make it fall (and not x/z to make it keep at his block).\r\n\r\nPS: Don&#39;t forget to register the listener with this code in your `onEnable`:\r\n\r\n```java\r\ngetServer().getPluginManager().registerEvents(new SandBotListener(this), this);\r\n````\r\n\r\nFor the instance of your plugin, you have to have an instance of the object &quot;Main&quot; which is represented by &quot;this&quot;.\r\n\r\nTo use it, in your `Main.java` :\r\n\r\n```java\r\nprivate static Main instance; // create variable that is &quot;static&quot;.\r\n// It means it not depend to an object to get it\r\npublic static Main getInstance() { // get the object instance, so the plugin instance\r\n   return instance;\r\n}\r\n\r\n@Override\r\npublic void onEnable() {\r\n   instance = this; // here set the instance of this, so as the current object\r\n // it will make this object available for everyone\r\n   getServer().getPluginManager().registerEvents(new SandBotListener(), this);\r\n}\r\n```\r\n\r\nThen, you can remove the constructor of the `SandBotListener.java`.\r\n\r\nNow, you able to use `Main.getInstance()`.","title":"Cannot spawn falling blocks in minecraft","body":"<p>This is an example code that will make spawn 5 times a falling block to below :</p>\n<pre class=\"lang-java prettyprint-override\"><code>private BukkitTask task;\nprivate int keepToSpawn = 0;\n\n@EventHandler\npublic void onPlaceSandbot(BlockPlaceEvent e) {\n    Material spawnType = e.getBlockPlaced().getType(); // get placed block\n    if(!spawnType.equals(Material.SEA_LANTERN)) // in your case, be sure it's sea lantern\n        return;\n    keepToSpawn = 5; // amount of spawned item\n    Location loc = e.getBlock().getLocation(); // location where entity will spawn\n    task = Bukkit.getScheduler().runTaskTimer(Main.getInstance(), () -&gt; {\n        // each 0.5s, we made spawn a falling block of given type\n        run(loc, spawnType);\n        if(keepToSpawn == 0)\n            task.cancel();\n        keepToSpawn--;\n    }, 10, 10); // 10 ticks = 0.5 seconds\n}\n\n@SuppressWarnings(&quot;deprecation&quot;)\nprivate void run(Location loc, Material type) {\n    FallingBlock falling = loc.getWorld().spawnFallingBlock(loc, type, (byte) 0);\n    falling.setDropItem(true);\n    falling.setVelocity(new Vector(0, -0.5, 0)); // set the velicoty of the block\n}\n</code></pre>\n<p>Don't use <code>Bukkit.getWorld(e.getBlockPlaced().getLocation().getWorld().getUID())</code>, you already have the world instance with <code>e.getBlockPlaced().getWorld()</code>.</p>\n<p>For the <code>Vector</code> used as velocity, you should set the direction of the block. I set negative Y to make it fall (and not x/z to make it keep at his block).</p>\n<p>PS: Don't forget to register the listener with this code in your <code>onEnable</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>getServer().getPluginManager().registerEvents(new SandBotListener(this), this);\n</code></pre>\n<p>For the instance of your plugin, you have to have an instance of the object &quot;Main&quot; which is represented by &quot;this&quot;.</p>\n<p>To use it, in your <code>Main.java</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static Main instance; // create variable that is &quot;static&quot;.\n// It means it not depend to an object to get it\npublic static Main getInstance() { // get the object instance, so the plugin instance\n   return instance;\n}\n\n@Override\npublic void onEnable() {\n   instance = this; // here set the instance of this, so as the current object\n // it will make this object available for everyone\n   getServer().getPluginManager().registerEvents(new SandBotListener(), this);\n}\n</code></pre>\n<p>Then, you can remove the constructor of the <code>SandBotListener.java</code>.</p>\n<p>Now, you able to use <code>Main.getInstance()</code>.</p>\n"}],"owner":{"account_id":22914196,"reputation":19,"user_id":17051044,"display_name":"Zavage"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69659438,"answer_count":1,"score":0,"last_activity_date":1634816348,"creation_date":1634791838,"question_id":69656037,"body_markdown":"So I&#39;m trying to make SEA_LANTERN drop multiple sand underneath of itself when it&#39;s placed so I can keep my cannon filled with sand as it&#39;s firing here is my code\r\n\r\nMain\r\n```\r\npackage me.zavage.sandbot;\r\n\r\nimport org.bukkit.plugin.Plugin;\r\nimport org.bukkit.plugin.java.JavaPlugin;\r\n\r\nimport me.zavage.sandbot.commands.SandBotCommand;\r\nimport me.zavage.sandbot.listeners.SandBotListener;\r\n\r\npublic class Main extends JavaPlugin {\r\n\t\r\n\t@Override\r\n\tpublic void onEnable() {\r\n\t\tnew SandBotListener(this);\r\n\t\tnew SandBotCommand(this);\r\n\t\t\r\n\t}\r\n\r\n\tpublic static Plugin getInstance() {\r\n\t\treturn null;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\npackage me.zavage.sandbot.listeners;\r\n\r\nimport org.bukkit.Bukkit;\r\nimport org.bukkit.Location;\r\nimport org.bukkit.Material;\r\nimport org.bukkit.entity.FallingBlock;\r\nimport org.bukkit.event.EventHandler;\r\nimport org.bukkit.event.Listener;\r\nimport org.bukkit.event.block.BlockPlaceEvent;\r\nimport org.bukkit.scheduler.BukkitTask;\r\nimport org.bukkit.util.Vector;\r\n\r\nimport me.zavage.sandbot.Main;\r\n\r\npublic class SandBotListener implements Listener {\r\n\t\r\n\tprivate BukkitTask task;\r\n\tprivate int keepToSpawn = 0;\r\n\tpublic SandBotListener(Main main) {\r\n\r\n\t}\r\n\r\n\t@EventHandler\r\n\tpublic void onPlaceSandbot(BlockPlaceEvent e) {\r\n\t    Material spawnType = e.getBlockPlaced().getType(); // get placed block\r\n\t    if(!spawnType.equals(Material.SEA_LANTERN)) // in your case, be sure it&#39;s sea lantern\r\n\t        return;\r\n\t    keepToSpawn = 5; // amount of spawned item\r\n\t    Location loc = e.getBlock().getLocation(); // location where entity will spawn\r\n\t    task = Bukkit.getScheduler().runTaskTimer(Main.getInstance(), () -&gt; {\r\n\t        // each 0.5s, we made spawn a falling block of given type\r\n\t        run(loc, spawnType);\r\n\t        if(keepToSpawn == 0)\r\n\t            task.cancel();\r\n\t        keepToSpawn--;\r\n\t    }, 10, 10); // 10 ticks = 0.5 seconds\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;deprecation&quot;)\r\n\tprivate void run(Location loc, Material type) {\r\n\t    FallingBlock falling = loc.getWorld().spawnFallingBlock(loc, Material.SAND, (byte) 0);\r\n\t    falling.setDropItem(true);\r\n\t    falling.setVelocity(new Vector(0, -0.5, 0)); // set the velicoty of the block\r\n\t}\r\n}\r\n```\r\n\r\nEdit: I updated the code including the main class as well\r\nTheres gotta be something I&#39;m missing, but ive tried so many different things at this point","title":"Cannot spawn falling blocks in minecraft","body":"<p>So I'm trying to make SEA_LANTERN drop multiple sand underneath of itself when it's placed so I can keep my cannon filled with sand as it's firing here is my code</p>\n<p>Main</p>\n<pre><code>package me.zavage.sandbot;\n\nimport org.bukkit.plugin.Plugin;\nimport org.bukkit.plugin.java.JavaPlugin;\n\nimport me.zavage.sandbot.commands.SandBotCommand;\nimport me.zavage.sandbot.listeners.SandBotListener;\n\npublic class Main extends JavaPlugin {\n    \n    @Override\n    public void onEnable() {\n        new SandBotListener(this);\n        new SandBotCommand(this);\n        \n    }\n\n    public static Plugin getInstance() {\n        return null;\n    }\n\n}\n\n</code></pre>\n<pre><code>package me.zavage.sandbot.listeners;\n\nimport org.bukkit.Bukkit;\nimport org.bukkit.Location;\nimport org.bukkit.Material;\nimport org.bukkit.entity.FallingBlock;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.Listener;\nimport org.bukkit.event.block.BlockPlaceEvent;\nimport org.bukkit.scheduler.BukkitTask;\nimport org.bukkit.util.Vector;\n\nimport me.zavage.sandbot.Main;\n\npublic class SandBotListener implements Listener {\n    \n    private BukkitTask task;\n    private int keepToSpawn = 0;\n    public SandBotListener(Main main) {\n\n    }\n\n    @EventHandler\n    public void onPlaceSandbot(BlockPlaceEvent e) {\n        Material spawnType = e.getBlockPlaced().getType(); // get placed block\n        if(!spawnType.equals(Material.SEA_LANTERN)) // in your case, be sure it's sea lantern\n            return;\n        keepToSpawn = 5; // amount of spawned item\n        Location loc = e.getBlock().getLocation(); // location where entity will spawn\n        task = Bukkit.getScheduler().runTaskTimer(Main.getInstance(), () -&gt; {\n            // each 0.5s, we made spawn a falling block of given type\n            run(loc, spawnType);\n            if(keepToSpawn == 0)\n                task.cancel();\n            keepToSpawn--;\n        }, 10, 10); // 10 ticks = 0.5 seconds\n    }\n\n    @SuppressWarnings(&quot;deprecation&quot;)\n    private void run(Location loc, Material type) {\n        FallingBlock falling = loc.getWorld().spawnFallingBlock(loc, Material.SAND, (byte) 0);\n        falling.setDropItem(true);\n        falling.setVelocity(new Vector(0, -0.5, 0)); // set the velicoty of the block\n    }\n}\n</code></pre>\n<p>Edit: I updated the code including the main class as well\nTheres gotta be something I'm missing, but ive tried so many different things at this point</p>\n"},{"tags":["java","spring","maven","jsf","jetty"],"comments":[{"owner":{"account_id":4921672,"reputation":758,"user_id":3964095,"accept_rate":29,"display_name":"Gautam Kumar Samal"},"score":0,"creation_date":1415087755,"post_id":26729885,"comment_id":42048019,"body_markdown":"**_PACKAGE_** is used in place for real package. I am sure its alright and matching. Please show any other direction.","body":"<b><i>PACKAGE</i></b> is used in place for real package. I am sure its alright and matching. Please show any other direction."},{"owner":{"account_id":4921672,"reputation":758,"user_id":3964095,"accept_rate":29,"display_name":"Gautam Kumar Samal"},"score":0,"creation_date":1415092146,"post_id":26729885,"comment_id":42049960,"body_markdown":"I think maven is skipping some files like handle and listener classes while building war file. Any reason why ?","body":"I think maven is skipping some files like handle and listener classes while building war file. Any reason why ?"}],"answers":[{"tags":[],"owner":{"display_name":"user7080703"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505476779,"creation_date":1505460143,"answer_id":46233950,"question_id":26729885,"body_markdown":"Your mistake is that you reused the same classname as an existing API class for some unclear reason and got them mixed up in the code.\r\n\r\nThe parent constructor argument (and local variable) has to be of type javax.faces.context.ExceptionHandlerFactory, not of your exception.ExceptionHandlerFactory. This wrong type caused that JSF was unable to invoke the constructor and hence the -rather self explaining- InstantiationException (it couldn&#39;t be instantiated).\r\n\r\nBetter rename your class to something unique like CustomExceptionHandlerFactory.","title":"Error: ConfigurationException- Factory &#39;javax.faces.context.ExceptionHandlerFactory&#39; was not configured properly","body":"<p>Your mistake is that you reused the same classname as an existing API class for some unclear reason and got them mixed up in the code.</p>\n\n<p>The parent constructor argument (and local variable) has to be of type javax.faces.context.ExceptionHandlerFactory, not of your exception.ExceptionHandlerFactory. This wrong type caused that JSF was unable to invoke the constructor and hence the -rather self explaining- InstantiationException (it couldn't be instantiated).</p>\n\n<p>Better rename your class to something unique like CustomExceptionHandlerFactory.</p>\n"}],"owner":{"account_id":4921672,"reputation":758,"user_id":3964095,"accept_rate":29,"display_name":"Gautam Kumar Samal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4387,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1634816077,"creation_date":1415086589,"question_id":26729885,"body_markdown":"I have been stuck with the above error while running it on Jetty 8.\r\nI have used Maven dependency for `jsf-api-2.1.2`, `jsf-impl-2.1.2` with **Spring security**. \r\n\r\nUsed command for Jetty 8 : `java -jar start.jar` \r\n\r\nIn `faces-config.xml`\r\n\r\n    &lt;factory&gt;\r\n      &lt;exception-handler-factory&gt;_PACKAGE_.exceptionhandler.ViewExpiredExceptionExceptionHandlerFactory&lt;/exception-handler-factory&gt;\r\n  &lt;/factory&gt;\r\n\r\nIn `ViewExpiredExceptionExceptionHandlerFactory.java`\r\n\r\n\r\n        public class ViewExpiredExceptionExceptionHandlerFactory extends ExceptionHandlerFactory {\r\n     \r\n        private ExceptionHandlerFactory parent;\r\n     \r\n        public ViewExpiredExceptionExceptionHandlerFactory(ExceptionHandlerFactory parent) {\r\n            this.parent = parent;\r\n        }\r\n     \r\n        @Override\r\n        public ExceptionHandler getExceptionHandler() {\r\n            ExceptionHandler result = parent.getExceptionHandler();\r\n            result = new ViewExpiredExceptionExceptionHandler(result);\r\n            return result;\r\n        }\r\n    }\r\n\r\nAnd Stacktrace in Jetty 8 \r\n\r\n    Nov 04, 2014 12:26:54 PM com.sun.faces.config.ConfigureListener contextInitialized\r\n    INFO: Initializing Mojarra 2.1.2 (FCS 20110610) for context &#39;&#39;\r\n    Nov 04, 2014 12:27:00 PM com.sun.faces.spi.InjectionProviderFactory createInstance\r\n    INFO: JSF1048: PostConstruct/PreDestroy annotations present.  ManagedBeans methods marked with these annotations will have said annotations processed.\r\n    Nov 04, 2014 12:27:03 PM com.sun.faces.config.ConfigureListener contextInitialized\r\n    SEVERE: Critical error during deployment:    \r\n    java.lang.RuntimeException: com.sun.faces.config.ConfigurationException: Factory &#39;javax.faces.context.ExceptionHandlerFactory&#39; was not configured properly.\r\n        \tat com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:292)\r\n        \tat org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:672)\r\n        \tat org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:403)\r\n        \tat org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:664)\r\n        \tat org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:239)\r\n        \tat org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1212)\r\n        \tat org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:610)\r\n        \tat org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:453)\r\n        \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\r\n        \tat org.eclipse.jetty.deploy.bindings.StandardStarter.processBinding(StandardStarter.java:36)\r\n        \tat org.eclipse.jetty.deploy.AppLifeCycle.runBindings(AppLifeCycle.java:183)\r\n        \tat org.eclipse.jetty.deploy.DeploymentManager.requestAppGoal(DeploymentManager.java:485)\r\n        \tat org.eclipse.jetty.deploy.DeploymentManager.addApp(DeploymentManager.java:138)\r\n        \tat org.eclipse.jetty.deploy.providers.ScanningAppProvider.fileAdded(ScanningAppProvider.java:142)\r\n        \tat org.eclipse.jetty.deploy.providers.ScanningAppProvider$1.fileAdded(ScanningAppProvider.java:53)\r\n        \tat org.eclipse.jetty.util.Scanner.reportAddition(Scanner.java:604)\r\n        \tat org.eclipse.jetty.util.Scanner.reportDifferences(Scanner.java:535)\r\n        \tat org.eclipse.jetty.util.Scanner.scan(Scanner.java:398)\r\n        \tat org.eclipse.jetty.util.Scanner.doStart(Scanner.java:332)\r\n        \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\r\n        \tat org.eclipse.jetty.deploy.providers.ScanningAppProvider.doStart(ScanningAppProvider.java:118)\r\n        \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\r\n        \tat org.eclipse.jetty.deploy.DeploymentManager.startAppProvider(DeploymentManager.java:546)\r\n        \tat org.eclipse.jetty.deploy.DeploymentManager.doStart(DeploymentManager.java:221)\r\n        \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\r\n        \tat org.eclipse.jetty.util.component.AggregateLifeCycle.doStart(AggregateLifeCycle.java:45)\r\n        \tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:53)\r\n        \tat org.eclipse.jetty.server.handler.HandlerWrapper.doStart(HandlerWrapper.java:90)\r\n        \tat org.eclipse.jetty.server.Server.doStart(Server.java:262)\r\n        \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\r\n        \tat org.eclipse.jetty.xml.XmlConfiguration$1.run(XmlConfiguration.java:1203)\r\n        \tat java.security.AccessController.doPrivileged(Native Method)\r\n        \tat org.eclipse.jetty.xml.XmlConfiguration.main(XmlConfiguration.java:1126)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n        \tat org.eclipse.jetty.start.Main.invokeMain(Main.java:469)\r\n        \tat org.eclipse.jetty.start.Main.start(Main.java:612)\r\n        \tat org.eclipse.jetty.start.Main.parseCommandLine(Main.java:265)\r\n        \tat org.eclipse.jetty.start.Main.main(Main.java:79)\r\n        Caused by: \r\n        com.sun.faces.config.ConfigurationException: Factory &#39;javax.faces.context.ExceptionHandlerFactory&#39; was not configured properly.\r\n        \tat com.sun.faces.config.processor.FactoryConfigProcessor.verifyFactoriesExist(FactoryConfigProcessor.java:305)\r\n        \tat com.sun.faces.config.processor.FactoryConfigProcessor.process(FactoryConfigProcessor.java:219)\r\n        \tat com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:360)\r\n        \tat com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:225)\r\n        \tat org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:672)\r\n        \tat org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:403)\r\n        \tat org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:664)\r\n        \tat org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:239)\r\n        \tat org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1212)\r\n        \tat org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:610)\r\n        \tat org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:453)\r\n        \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\r\n        \tat org.eclipse.jetty.deploy.bindings.StandardStarter.processBinding(StandardStarter.java:36)\r\n        \tat org.eclipse.jetty.deploy.AppLifeCycle.runBindings(AppLifeCycle.java:183)\r\n        \tat org.eclipse.jetty.deploy.DeploymentManager.requestAppGoal(DeploymentManager.java:485)\r\n        \tat org.eclipse.jetty.deploy.DeploymentManager.addApp(DeploymentManager.java:138)\r\n        \tat org.eclipse.jetty.deploy.providers.ScanningAppProvider.fileAdded(ScanningAppProvider.java:142)\r\n        \tat org.eclipse.jetty.deploy.providers.ScanningAppProvider$1.fileAdded(ScanningAppProvider.java:53)\r\n        \tat org.eclipse.jetty.util.Scanner.reportAddition(Scanner.java:604)\r\n        \tat org.eclipse.jetty.util.Scanner.reportDifferences(Scanner.java:535)\r\n        \tat org.eclipse.jetty.util.Scanner.scan(Scanner.java:398)\r\n        \tat org.eclipse.jetty.util.Scanner.doStart(Scanner.java:332)\r\n        \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\r\n        \tat org.eclipse.jetty.deploy.providers.ScanningAppProvider.doStart(ScanningAppProvider.java:118)\r\n        \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\r\n        \tat org.eclipse.jetty.deploy.DeploymentManager.startAppProvider(DeploymentManager.java:546)\r\n        \tat org.eclipse.jetty.deploy.DeploymentManager.doStart(DeploymentManager.java:221)\r\n        \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\r\n        \tat org.eclipse.jetty.util.component.AggregateLifeCycle.doStart(AggregateLifeCycle.java:45)\r\n        \tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:53)\r\n        \tat org.eclipse.jetty.server.handler.HandlerWrapper.doStart(HandlerWrapper.java:90)\r\n        \tat org.eclipse.jetty.server.Server.doStart(Server.java:262)\r\n        \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\r\n        \tat org.eclipse.jetty.xml.XmlConfiguration$1.run(XmlConfiguration.java:1203)\r\n        \tat java.security.AccessController.doPrivileged(Native Method)\r\n        \tat org.eclipse.jetty.xml.XmlConfiguration.main(XmlConfiguration.java:1126)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n        \tat org.eclipse.jetty.start.Main.invokeMain(Main.java:469)\r\n        \tat org.eclipse.jetty.start.Main.start(Main.java:612)\r\n        \tat org.eclipse.jetty.start.Main.parseCommandLine(Main.java:265)\r\n        \tat org.eclipse.jetty.start.Main.main(Main.java:79)\r\n        Caused by: \r\n        javax.faces.FacesException: _PACKAGE_.web.exceptionhandler.ViewExpiredExceptionExceptionHandlerFactory\r\n        \tat javax.faces.FactoryFinder.getImplGivenPreviousImpl(FactoryFinder.java:603)\r\n        \tat javax.faces.FactoryFinder.getImplementationInstance(FactoryFinder.java:482)\r\n        \tat javax.faces.FactoryFinder.access$400(FactoryFinder.java:138)\r\n        \tat javax.faces.FactoryFinder$FactoryManager.getFactory(FactoryFinder.java:943)\r\n        \tat javax.faces.FactoryFinder.getFactory(FactoryFinder.java:316)\r\n        \tat com.sun.faces.config.processor.FactoryConfigProcessor.verifyFactoriesExist(FactoryConfigProcessor.java:303)\r\n        \tat com.sun.faces.config.processor.FactoryConfigProcessor.process(FactoryConfigProcessor.java:219)\r\n        \tat com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:360)\r\n        \tat com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:225)\r\n        \tat org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:672)\r\n        \tat org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:403)\r\n        \tat org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:664)\r\n        \tat org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:239)\r\n        \tat org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1212)\r\n        \tat org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:610)\r\n        \tat org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:453)\r\n        \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\r\n        \tat org.eclipse.jetty.deploy.bindings.StandardStarter.processBinding(StandardStarter.java:36)\r\n        \tat org.eclipse.jetty.deploy.AppLifeCycle.runBindings(AppLifeCycle.java:183)\r\n        \tat org.eclipse.jetty.deploy.DeploymentManager.requestAppGoal(DeploymentManager.java:485)\r\n        \tat org.eclipse.jetty.deploy.DeploymentManager.addApp(DeploymentManager.java:138)\r\n        \tat org.eclipse.jetty.deploy.providers.ScanningAppProvider.fileAdded(ScanningAppProvider.java:142)\r\n        \tat org.eclipse.jetty.deploy.providers.ScanningAppProvider$1.fileAdded(ScanningAppProvider.java:53)\r\n        \tat org.eclipse.jetty.util.Scanner.reportAddition(Scanner.java:604)\r\n        \tat org.eclipse.jetty.util.Scanner.reportDifferences(Scanner.java:535)\r\n        \tat org.eclipse.jetty.util.Scanner.scan(Scanner.java:398)\r\n        \tat org.eclipse.jetty.util.Scanner.doStart(Scanner.java:332)\r\n        \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\r\n        \tat org.eclipse.jetty.deploy.providers.ScanningAppProvider.doStart(ScanningAppProvider.java:118)\r\n        \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\r\n        \tat org.eclipse.jetty.deploy.DeploymentManager.startAppProvider(DeploymentManager.java:546)\r\n        \tat org.eclipse.jetty.deploy.DeploymentManager.doStart(DeploymentManager.java:221)\r\n        \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\r\n        \tat org.eclipse.jetty.util.component.AggregateLifeCycle.doStart(AggregateLifeCycle.java:45)\r\n        \tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:53)\r\n        \tat org.eclipse.jetty.server.handler.HandlerWrapper.doStart(HandlerWrapper.java:90)\r\n        \tat org.eclipse.jetty.server.Server.doStart(Server.java:262)\r\n        \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\r\n        \tat org.eclipse.jetty.xml.XmlConfiguration$1.run(XmlConfiguration.java:1203)\r\n        \tat java.security.AccessController.doPrivileged(Native Method)\r\n        \tat org.eclipse.jetty.xml.XmlConfiguration.main(XmlConfiguration.java:1126)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n        \tat org.eclipse.jetty.start.Main.invokeMain(Main.java:469)\r\n        \tat org.eclipse.jetty.start.Main.start(Main.java:612)\r\n        \tat org.eclipse.jetty.start.Main.parseCommandLine(Main.java:265)\r\n        \tat org.eclipse.jetty.start.Main.main(Main.java:79)\r\n        Caused by: \r\n        java.lang.ClassNotFoundException: _PACKAGE_.web.exceptionhandler.ViewExpiredExceptionExceptionHandlerFactory\r\n        \tat java.net.URLClassLoader$1.run(URLClassLoader.java:366)\r\n        \tat java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n        \tat java.security.AccessController.doPrivileged(Native Method)\r\n        \tat java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n        \tat java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n        \tat java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n        \tat org.eclipse.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:424)\r\n        \tat org.eclipse.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:377)\r\n        \tat java.lang.Class.forName0(Native Method)\r\n        \tat java.lang.Class.forName(Class.java:270)\r\n        \tat javax.faces.FactoryFinder.getImplGivenPreviousImpl(FactoryFinder.java:591)\r\n        \tat javax.faces.FactoryFinder.getImplementationInstance(FactoryFinder.java:482)\r\n        \tat javax.faces.FactoryFinder.access$400(FactoryFinder.java:138)\r\n        \tat javax.faces.FactoryFinder$FactoryManager.getFactory(FactoryFinder.java:943)\r\n        \tat javax.faces.FactoryFinder.getFactory(FactoryFinder.java:316)\r\n        \tat com.sun.faces.config.processor.FactoryConfigProcessor.verifyFactoriesExist(FactoryConfigProcessor.java:303)\r\n        \tat com.sun.faces.config.processor.FactoryConfigProcessor.process(FactoryConfigProcessor.java:219)\r\n        \tat com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:360)\r\n        \tat com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:225)\r\n        \tat org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:672)\r\n        \tat org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:403)\r\n        \tat org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:664)\r\n        \tat org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:239)\r\n        \tat org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1212)\r\n        \tat org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:610)\r\n        \tat org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:453)\r\n        \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\r\n        \tat org.eclipse.jetty.deploy.bindings.StandardStarter.processBinding(StandardStarter.java:36)\r\n        \tat org.eclipse.jetty.deploy.AppLifeCycle.runBindings(AppLifeCycle.java:183)\r\n        \tat org.eclipse.jetty.deploy.DeploymentManager.requestAppGoal(DeploymentManager.java:485)\r\n        \tat org.eclipse.jetty.deploy.DeploymentManager.addApp(DeploymentManager.java:138)\r\n        \tat org.eclipse.jetty.deploy.providers.ScanningAppProvider.fileAdded(ScanningAppProvider.java:142)\r\n        \tat org.eclipse.jetty.deploy.providers.ScanningAppProvider$1.fileAdded(ScanningAppProvider.java:53)\r\n        \tat org.eclipse.jetty.util.Scanner.reportAddition(Scanner.java:604)\r\n        \tat org.eclipse.jetty.util.Scanner.reportDifferences(Scanner.java:535)\r\n        \tat org.eclipse.jetty.util.Scanner.scan(Scanner.java:398)\r\n        \tat org.eclipse.jetty.util.Scanner.doStart(Scanner.java:332)\r\n        \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\r\n        \tat org.eclipse.jetty.deploy.providers.ScanningAppProvider.doStart(ScanningAppProvider.java:118)\r\n        \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\r\n        \tat org.eclipse.jetty.deploy.DeploymentManager.startAppProvider(DeploymentManager.java:546)\r\n        \tat org.eclipse.jetty.deploy.DeploymentManager.doStart(DeploymentManager.java:221)\r\n        \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\r\n        \tat org.eclipse.jetty.util.component.AggregateLifeCycle.doStart(AggregateLifeCycle.java:45)\r\n        \tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:53)\r\n        \tat org.eclipse.jetty.server.handler.HandlerWrapper.doStart(HandlerWrapper.java:90)\r\n        \tat org.eclipse.jetty.server.Server.doStart(Server.java:262)\r\n        \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\r\n        \tat org.eclipse.jetty.xml.XmlConfiguration$1.run(XmlConfiguration.java:1203)\r\n        \tat java.security.AccessController.doPrivileged(Native Method)\r\n        \tat org.eclipse.jetty.xml.XmlConfiguration.main(XmlConfiguration.java:1126)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n        \tat org.eclipse.jetty.start.Main.invokeMain(Main.java:469)\r\n        \tat org.eclipse.jetty.start.Main.start(Main.java:612)\r\n        \tat org.eclipse.jetty.start.Main.parseCommandLine(Main.java:265)\r\n        \tat org.eclipse.jetty.start.Main.main(Main.java:79)\r\n\r\nI don&#39;t know what happened but the class `ViewExpiredExceptionExceptionHandlerFactory` is present.\r\nFYI I also have `com.sun.faces.config.ConfigureListener`, `ContextLoaderListender` and `RequestContextListner` in `web.xml`, if that helps.\r\n\r\n","title":"Error: ConfigurationException- Factory &#39;javax.faces.context.ExceptionHandlerFactory&#39; was not configured properly","body":"<p>I have been stuck with the above error while running it on Jetty 8.\nI have used Maven dependency for <code>jsf-api-2.1.2</code>, <code>jsf-impl-2.1.2</code> with <strong>Spring security</strong>.</p>\n<p>Used command for Jetty 8 : <code>java -jar start.jar</code></p>\n<p>In <code>faces-config.xml</code></p>\n<pre><code>&lt;factory&gt;\n  &lt;exception-handler-factory&gt;_PACKAGE_.exceptionhandler.ViewExpiredExceptionExceptionHandlerFactory&lt;/exception-handler-factory&gt;\n</code></pre>\n  \n<p>In <code>ViewExpiredExceptionExceptionHandlerFactory.java</code></p>\n<pre><code>    public class ViewExpiredExceptionExceptionHandlerFactory extends ExceptionHandlerFactory {\n \n    private ExceptionHandlerFactory parent;\n \n    public ViewExpiredExceptionExceptionHandlerFactory(ExceptionHandlerFactory parent) {\n        this.parent = parent;\n    }\n \n    @Override\n    public ExceptionHandler getExceptionHandler() {\n        ExceptionHandler result = parent.getExceptionHandler();\n        result = new ViewExpiredExceptionExceptionHandler(result);\n        return result;\n    }\n}\n</code></pre>\n<p>And Stacktrace in Jetty 8</p>\n<pre><code>Nov 04, 2014 12:26:54 PM com.sun.faces.config.ConfigureListener contextInitialized\nINFO: Initializing Mojarra 2.1.2 (FCS 20110610) for context ''\nNov 04, 2014 12:27:00 PM com.sun.faces.spi.InjectionProviderFactory createInstance\nINFO: JSF1048: PostConstruct/PreDestroy annotations present.  ManagedBeans methods marked with these annotations will have said annotations processed.\nNov 04, 2014 12:27:03 PM com.sun.faces.config.ConfigureListener contextInitialized\nSEVERE: Critical error during deployment:    \njava.lang.RuntimeException: com.sun.faces.config.ConfigurationException: Factory 'javax.faces.context.ExceptionHandlerFactory' was not configured properly.\n        at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:292)\n        at org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:672)\n        at org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:403)\n        at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:664)\n        at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:239)\n        at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1212)\n        at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:610)\n        at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:453)\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\n        at org.eclipse.jetty.deploy.bindings.StandardStarter.processBinding(StandardStarter.java:36)\n        at org.eclipse.jetty.deploy.AppLifeCycle.runBindings(AppLifeCycle.java:183)\n        at org.eclipse.jetty.deploy.DeploymentManager.requestAppGoal(DeploymentManager.java:485)\n        at org.eclipse.jetty.deploy.DeploymentManager.addApp(DeploymentManager.java:138)\n        at org.eclipse.jetty.deploy.providers.ScanningAppProvider.fileAdded(ScanningAppProvider.java:142)\n        at org.eclipse.jetty.deploy.providers.ScanningAppProvider$1.fileAdded(ScanningAppProvider.java:53)\n        at org.eclipse.jetty.util.Scanner.reportAddition(Scanner.java:604)\n        at org.eclipse.jetty.util.Scanner.reportDifferences(Scanner.java:535)\n        at org.eclipse.jetty.util.Scanner.scan(Scanner.java:398)\n        at org.eclipse.jetty.util.Scanner.doStart(Scanner.java:332)\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\n        at org.eclipse.jetty.deploy.providers.ScanningAppProvider.doStart(ScanningAppProvider.java:118)\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\n        at org.eclipse.jetty.deploy.DeploymentManager.startAppProvider(DeploymentManager.java:546)\n        at org.eclipse.jetty.deploy.DeploymentManager.doStart(DeploymentManager.java:221)\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\n        at org.eclipse.jetty.util.component.AggregateLifeCycle.doStart(AggregateLifeCycle.java:45)\n        at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:53)\n        at org.eclipse.jetty.server.handler.HandlerWrapper.doStart(HandlerWrapper.java:90)\n        at org.eclipse.jetty.server.Server.doStart(Server.java:262)\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\n        at org.eclipse.jetty.xml.XmlConfiguration$1.run(XmlConfiguration.java:1203)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at org.eclipse.jetty.xml.XmlConfiguration.main(XmlConfiguration.java:1126)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.eclipse.jetty.start.Main.invokeMain(Main.java:469)\n        at org.eclipse.jetty.start.Main.start(Main.java:612)\n        at org.eclipse.jetty.start.Main.parseCommandLine(Main.java:265)\n        at org.eclipse.jetty.start.Main.main(Main.java:79)\n    Caused by: \n    com.sun.faces.config.ConfigurationException: Factory 'javax.faces.context.ExceptionHandlerFactory' was not configured properly.\n        at com.sun.faces.config.processor.FactoryConfigProcessor.verifyFactoriesExist(FactoryConfigProcessor.java:305)\n        at com.sun.faces.config.processor.FactoryConfigProcessor.process(FactoryConfigProcessor.java:219)\n        at com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:360)\n        at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:225)\n        at org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:672)\n        at org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:403)\n        at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:664)\n        at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:239)\n        at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1212)\n        at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:610)\n        at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:453)\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\n        at org.eclipse.jetty.deploy.bindings.StandardStarter.processBinding(StandardStarter.java:36)\n        at org.eclipse.jetty.deploy.AppLifeCycle.runBindings(AppLifeCycle.java:183)\n        at org.eclipse.jetty.deploy.DeploymentManager.requestAppGoal(DeploymentManager.java:485)\n        at org.eclipse.jetty.deploy.DeploymentManager.addApp(DeploymentManager.java:138)\n        at org.eclipse.jetty.deploy.providers.ScanningAppProvider.fileAdded(ScanningAppProvider.java:142)\n        at org.eclipse.jetty.deploy.providers.ScanningAppProvider$1.fileAdded(ScanningAppProvider.java:53)\n        at org.eclipse.jetty.util.Scanner.reportAddition(Scanner.java:604)\n        at org.eclipse.jetty.util.Scanner.reportDifferences(Scanner.java:535)\n        at org.eclipse.jetty.util.Scanner.scan(Scanner.java:398)\n        at org.eclipse.jetty.util.Scanner.doStart(Scanner.java:332)\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\n        at org.eclipse.jetty.deploy.providers.ScanningAppProvider.doStart(ScanningAppProvider.java:118)\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\n        at org.eclipse.jetty.deploy.DeploymentManager.startAppProvider(DeploymentManager.java:546)\n        at org.eclipse.jetty.deploy.DeploymentManager.doStart(DeploymentManager.java:221)\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\n        at org.eclipse.jetty.util.component.AggregateLifeCycle.doStart(AggregateLifeCycle.java:45)\n        at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:53)\n        at org.eclipse.jetty.server.handler.HandlerWrapper.doStart(HandlerWrapper.java:90)\n        at org.eclipse.jetty.server.Server.doStart(Server.java:262)\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\n        at org.eclipse.jetty.xml.XmlConfiguration$1.run(XmlConfiguration.java:1203)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at org.eclipse.jetty.xml.XmlConfiguration.main(XmlConfiguration.java:1126)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.eclipse.jetty.start.Main.invokeMain(Main.java:469)\n        at org.eclipse.jetty.start.Main.start(Main.java:612)\n        at org.eclipse.jetty.start.Main.parseCommandLine(Main.java:265)\n        at org.eclipse.jetty.start.Main.main(Main.java:79)\n    Caused by: \n    javax.faces.FacesException: _PACKAGE_.web.exceptionhandler.ViewExpiredExceptionExceptionHandlerFactory\n        at javax.faces.FactoryFinder.getImplGivenPreviousImpl(FactoryFinder.java:603)\n        at javax.faces.FactoryFinder.getImplementationInstance(FactoryFinder.java:482)\n        at javax.faces.FactoryFinder.access$400(FactoryFinder.java:138)\n        at javax.faces.FactoryFinder$FactoryManager.getFactory(FactoryFinder.java:943)\n        at javax.faces.FactoryFinder.getFactory(FactoryFinder.java:316)\n        at com.sun.faces.config.processor.FactoryConfigProcessor.verifyFactoriesExist(FactoryConfigProcessor.java:303)\n        at com.sun.faces.config.processor.FactoryConfigProcessor.process(FactoryConfigProcessor.java:219)\n        at com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:360)\n        at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:225)\n        at org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:672)\n        at org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:403)\n        at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:664)\n        at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:239)\n        at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1212)\n        at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:610)\n        at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:453)\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\n        at org.eclipse.jetty.deploy.bindings.StandardStarter.processBinding(StandardStarter.java:36)\n        at org.eclipse.jetty.deploy.AppLifeCycle.runBindings(AppLifeCycle.java:183)\n        at org.eclipse.jetty.deploy.DeploymentManager.requestAppGoal(DeploymentManager.java:485)\n        at org.eclipse.jetty.deploy.DeploymentManager.addApp(DeploymentManager.java:138)\n        at org.eclipse.jetty.deploy.providers.ScanningAppProvider.fileAdded(ScanningAppProvider.java:142)\n        at org.eclipse.jetty.deploy.providers.ScanningAppProvider$1.fileAdded(ScanningAppProvider.java:53)\n        at org.eclipse.jetty.util.Scanner.reportAddition(Scanner.java:604)\n        at org.eclipse.jetty.util.Scanner.reportDifferences(Scanner.java:535)\n        at org.eclipse.jetty.util.Scanner.scan(Scanner.java:398)\n        at org.eclipse.jetty.util.Scanner.doStart(Scanner.java:332)\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\n        at org.eclipse.jetty.deploy.providers.ScanningAppProvider.doStart(ScanningAppProvider.java:118)\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\n        at org.eclipse.jetty.deploy.DeploymentManager.startAppProvider(DeploymentManager.java:546)\n        at org.eclipse.jetty.deploy.DeploymentManager.doStart(DeploymentManager.java:221)\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\n        at org.eclipse.jetty.util.component.AggregateLifeCycle.doStart(AggregateLifeCycle.java:45)\n        at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:53)\n        at org.eclipse.jetty.server.handler.HandlerWrapper.doStart(HandlerWrapper.java:90)\n        at org.eclipse.jetty.server.Server.doStart(Server.java:262)\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\n        at org.eclipse.jetty.xml.XmlConfiguration$1.run(XmlConfiguration.java:1203)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at org.eclipse.jetty.xml.XmlConfiguration.main(XmlConfiguration.java:1126)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.eclipse.jetty.start.Main.invokeMain(Main.java:469)\n        at org.eclipse.jetty.start.Main.start(Main.java:612)\n        at org.eclipse.jetty.start.Main.parseCommandLine(Main.java:265)\n        at org.eclipse.jetty.start.Main.main(Main.java:79)\n    Caused by: \n    java.lang.ClassNotFoundException: _PACKAGE_.web.exceptionhandler.ViewExpiredExceptionExceptionHandlerFactory\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n        at org.eclipse.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:424)\n        at org.eclipse.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:377)\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Class.java:270)\n        at javax.faces.FactoryFinder.getImplGivenPreviousImpl(FactoryFinder.java:591)\n        at javax.faces.FactoryFinder.getImplementationInstance(FactoryFinder.java:482)\n        at javax.faces.FactoryFinder.access$400(FactoryFinder.java:138)\n        at javax.faces.FactoryFinder$FactoryManager.getFactory(FactoryFinder.java:943)\n        at javax.faces.FactoryFinder.getFactory(FactoryFinder.java:316)\n        at com.sun.faces.config.processor.FactoryConfigProcessor.verifyFactoriesExist(FactoryConfigProcessor.java:303)\n        at com.sun.faces.config.processor.FactoryConfigProcessor.process(FactoryConfigProcessor.java:219)\n        at com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:360)\n        at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:225)\n        at org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:672)\n        at org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:403)\n        at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:664)\n        at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:239)\n        at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1212)\n        at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:610)\n        at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:453)\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\n        at org.eclipse.jetty.deploy.bindings.StandardStarter.processBinding(StandardStarter.java:36)\n        at org.eclipse.jetty.deploy.AppLifeCycle.runBindings(AppLifeCycle.java:183)\n        at org.eclipse.jetty.deploy.DeploymentManager.requestAppGoal(DeploymentManager.java:485)\n        at org.eclipse.jetty.deploy.DeploymentManager.addApp(DeploymentManager.java:138)\n        at org.eclipse.jetty.deploy.providers.ScanningAppProvider.fileAdded(ScanningAppProvider.java:142)\n        at org.eclipse.jetty.deploy.providers.ScanningAppProvider$1.fileAdded(ScanningAppProvider.java:53)\n        at org.eclipse.jetty.util.Scanner.reportAddition(Scanner.java:604)\n        at org.eclipse.jetty.util.Scanner.reportDifferences(Scanner.java:535)\n        at org.eclipse.jetty.util.Scanner.scan(Scanner.java:398)\n        at org.eclipse.jetty.util.Scanner.doStart(Scanner.java:332)\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\n        at org.eclipse.jetty.deploy.providers.ScanningAppProvider.doStart(ScanningAppProvider.java:118)\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\n        at org.eclipse.jetty.deploy.DeploymentManager.startAppProvider(DeploymentManager.java:546)\n        at org.eclipse.jetty.deploy.DeploymentManager.doStart(DeploymentManager.java:221)\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\n        at org.eclipse.jetty.util.component.AggregateLifeCycle.doStart(AggregateLifeCycle.java:45)\n        at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:53)\n        at org.eclipse.jetty.server.handler.HandlerWrapper.doStart(HandlerWrapper.java:90)\n        at org.eclipse.jetty.server.Server.doStart(Server.java:262)\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\n        at org.eclipse.jetty.xml.XmlConfiguration$1.run(XmlConfiguration.java:1203)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at org.eclipse.jetty.xml.XmlConfiguration.main(XmlConfiguration.java:1126)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.eclipse.jetty.start.Main.invokeMain(Main.java:469)\n        at org.eclipse.jetty.start.Main.start(Main.java:612)\n        at org.eclipse.jetty.start.Main.parseCommandLine(Main.java:265)\n        at org.eclipse.jetty.start.Main.main(Main.java:79)\n</code></pre>\n<p>I don't know what happened but the class <code>ViewExpiredExceptionExceptionHandlerFactory</code> is present.\nFYI I also have <code>com.sun.faces.config.ConfigureListener</code>, <code>ContextLoaderListender</code> and <code>RequestContextListner</code> in <code>web.xml</code>, if that helps.</p>\n"},{"tags":["java","class","inheritance","constructor"],"answers":[{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516671338,"creation_date":1516671338,"answer_id":48392882,"question_id":48392818,"body_markdown":"&gt; And in the `main` method of a driver class you do \n&gt;\n&gt;     A obj1 = new A();\n&gt;\n&gt; a default constructor will be created\n\nThere is nothing you can do in the `main` method of a driver to create a default constructor. If it is defined, you can use it; if it is not defined, you get a compile error.\n\n&gt; So when will the superclass not have a no-argument constructor?\n\nWhen it has other constructors, all of which taking *some* arguments. Here is an example:\n\n    class SuperA {\n        public SuperA(String str) { ... }\n        public SuperA(int num) { ... }\n    }\n\nAbove, `SuperA` has two constructors - one taking a `String`, and another one taking an `int`. Neither of them is default, because they take parameters.\n\nIf you make a derived class `DerivedB extends SuperA` and do not define any constructors, you would get a compile error.","title":"When do superclasses not have a default constructor?","body":"<blockquote>\n<p>And in the <code>main</code> method of a driver class you do</p>\n<pre><code>A obj1 = new A();\n</code></pre>\n<p>a default constructor will be created</p>\n</blockquote>\n<p>There is nothing you can do in the <code>main</code> method of a driver to create a default constructor. If it is defined, you can use it; if it is not defined, you get a compile error.</p>\n<blockquote>\n<p>So when will the superclass not have a no-argument constructor?</p>\n</blockquote>\n<p>When it has other constructors, all of which taking <em>some</em> arguments. Here is an example:</p>\n<pre><code>class SuperA {\n    public SuperA(String str) { ... }\n    public SuperA(int num) { ... }\n}\n</code></pre>\n<p>Above, <code>SuperA</code> has two constructors - one taking a <code>String</code>, and another one taking an <code>int</code>. Neither of them is default, because they take parameters.</p>\n<p>If you make a derived class <code>DerivedB extends SuperA</code> and do not define any constructors, you would get a compile error.</p>\n"},{"tags":[],"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1516673248,"creation_date":1516671350,"answer_id":48392884,"question_id":48392818,"body_markdown":"The default constructor is defined by the compiler when you don&#39;t provide one.\r\n\r\nSo this\r\n\r\n    public class A{}\r\n\r\nWould be represented by the compiler somewhat as:\r\n\r\n    public class A\r\n      public A() {\r\n        super(); //invokes Object&#39;s default constructor\r\n      }\r\n    }\r\n\r\nSince my definition of `A` did not have an explicit constructor defined.\r\n\r\nIn the example above `A` extends `Object` implicitly and `Object&#39;s` default constructor is automatically invoked by the compiler when it does `super()`. The same is true for any classes that may extend `A`, for example:\r\n\r\n    public class B extends A {}\r\n\r\nwould be implemented by the compiler somewhat like:\r\n\r\n    public class B extends A {\r\n       public B() {\r\n          super(); //invokes A&#39;s default constructor\r\n       }\r\n    }\r\n\r\nWhich as you can see will end up chaining `Object`&#39;s default constructor, then `A`&#39;s default constructor and finally `B`&#39;s default constructor.\r\n\r\n**&gt; So when will the superclass not have a no-argument constructor?**\r\n\r\nIt won&#39;t have a no-arg constructor when you define one explicitly. For example, if I changed my definition of `A` to\r\n\r\n    public class A {\r\n       public A(String name){}\r\n    }\r\n\r\nThen `A` no longer has a default constructor and I can no longer do this\r\n\r\n    public class B extends A {\r\n       //Uh oh, compiler error. \r\n       //Which parent class constructor should the compiler call?\r\n    } \r\n\r\nNow `B` must explicitly chain the right constructor from its parent class by explicitly stating which one to use. For example\r\n\r\n    public class B extends A {\r\n       B() {\r\n         super(&quot;B&quot;); //Now the compiler knows which constructor to invoke\r\n       }\r\n    }\r\n\r\n**Java Decompiler Demonstration**\r\n\r\nYou can in fact demonstrate all of this by using a tool that comes with your JDK. There is a program in your JDK bin directory called `javap`. This is the Java Decompiler tool, which lets you take a look at code generated by the compiler.\r\n\r\nYou could compile my examples and then decompile them to look at the generated code, e.g.\r\n\r\n    javac A.java\r\n    javap A\r\n\r\nAnd the decompiler will show you:\r\n\r\n    public class A {\r\n      A();\r\n    }\r\n\r\nWhich clearly shows the compiler added a default constructor.\r\n\r\nYou may disassemble the class to see the byte codes.\r\n\r\n    javac B.java\r\n    javap -c B\r\n\r\nAnd it will show how it invokes the parent class default constructor\r\n\r\n    class B extends A {\r\n      B();\r\n        Code:\r\n           0: aload_0\r\n           1: invokespecial #1 // Method A.&quot;&lt;init&gt;&quot;:()V\r\n           4: return\r\n    }\r\n\r\nIf I add a default parameter to the `A`&#39;s constructor, you will see the compiler no longer provides the default constructor, it just provides the one I defined explicitly:\r\n\r\n    class A {\r\n    \tA(String name){}\r\n    }\r\n\r\nThen I can do\r\n\r\n    javac A.java\r\n    javap A\r\n\r\nAnd it yields \r\n\r\n    class A {\r\n      A(java.lang.String);\r\n    }\r\n\r\nWhich demonstrates that what you read in the specification you cited in the original question is true.\r\n\r\n","title":"When do superclasses not have a default constructor?","body":"<p>The default constructor is defined by the compiler when you don't provide one.</p>\n\n<p>So this</p>\n\n<pre><code>public class A{}\n</code></pre>\n\n<p>Would be represented by the compiler somewhat as:</p>\n\n<pre><code>public class A\n  public A() {\n    super(); //invokes Object's default constructor\n  }\n}\n</code></pre>\n\n<p>Since my definition of <code>A</code> did not have an explicit constructor defined.</p>\n\n<p>In the example above <code>A</code> extends <code>Object</code> implicitly and <code>Object's</code> default constructor is automatically invoked by the compiler when it does <code>super()</code>. The same is true for any classes that may extend <code>A</code>, for example:</p>\n\n<pre><code>public class B extends A {}\n</code></pre>\n\n<p>would be implemented by the compiler somewhat like:</p>\n\n<pre><code>public class B extends A {\n   public B() {\n      super(); //invokes A's default constructor\n   }\n}\n</code></pre>\n\n<p>Which as you can see will end up chaining <code>Object</code>'s default constructor, then <code>A</code>'s default constructor and finally <code>B</code>'s default constructor.</p>\n\n<p><strong>> So when will the superclass not have a no-argument constructor?</strong></p>\n\n<p>It won't have a no-arg constructor when you define one explicitly. For example, if I changed my definition of <code>A</code> to</p>\n\n<pre><code>public class A {\n   public A(String name){}\n}\n</code></pre>\n\n<p>Then <code>A</code> no longer has a default constructor and I can no longer do this</p>\n\n<pre><code>public class B extends A {\n   //Uh oh, compiler error. \n   //Which parent class constructor should the compiler call?\n} \n</code></pre>\n\n<p>Now <code>B</code> must explicitly chain the right constructor from its parent class by explicitly stating which one to use. For example</p>\n\n<pre><code>public class B extends A {\n   B() {\n     super(\"B\"); //Now the compiler knows which constructor to invoke\n   }\n}\n</code></pre>\n\n<p><strong>Java Decompiler Demonstration</strong></p>\n\n<p>You can in fact demonstrate all of this by using a tool that comes with your JDK. There is a program in your JDK bin directory called <code>javap</code>. This is the Java Decompiler tool, which lets you take a look at code generated by the compiler.</p>\n\n<p>You could compile my examples and then decompile them to look at the generated code, e.g.</p>\n\n<pre><code>javac A.java\njavap A\n</code></pre>\n\n<p>And the decompiler will show you:</p>\n\n<pre><code>public class A {\n  A();\n}\n</code></pre>\n\n<p>Which clearly shows the compiler added a default constructor.</p>\n\n<p>You may disassemble the class to see the byte codes.</p>\n\n<pre><code>javac B.java\njavap -c B\n</code></pre>\n\n<p>And it will show how it invokes the parent class default constructor</p>\n\n<pre><code>class B extends A {\n  B();\n    Code:\n       0: aload_0\n       1: invokespecial #1 // Method A.\"&lt;init&gt;\":()V\n       4: return\n}\n</code></pre>\n\n<p>If I add a default parameter to the <code>A</code>'s constructor, you will see the compiler no longer provides the default constructor, it just provides the one I defined explicitly:</p>\n\n<pre><code>class A {\n    A(String name){}\n}\n</code></pre>\n\n<p>Then I can do</p>\n\n<pre><code>javac A.java\njavap A\n</code></pre>\n\n<p>And it yields </p>\n\n<pre><code>class A {\n  A(java.lang.String);\n}\n</code></pre>\n\n<p>Which demonstrates that what you read in the specification you cited in the original question is true.</p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516671372,"creation_date":1516671372,"answer_id":48392888,"question_id":48392818,"body_markdown":"&gt;So when will the superclass not have a no-argument constructor?\n\nIf you add any other constructor of superclass but forget to add no-arg constructor the compiler will complain. In this case the default constructor of superclass is not provided.","title":"When do superclasses not have a default constructor?","body":"<blockquote>\n  <p>So when will the superclass not have a no-argument constructor?</p>\n</blockquote>\n\n<p>If you add any other constructor of superclass but forget to add no-arg constructor the compiler will complain. In this case the default constructor of superclass is not provided.</p>\n"}],"owner":{"account_id":10051425,"reputation":93,"user_id":7431122,"display_name":"rwu6"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3177,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1634815778,"creation_date":1516670788,"question_id":48392818,"body_markdown":"According to the [Java tutorial on constructors][1]:\r\n&gt; You don&#39;t have to provide any constructors for your class, but you\r\n&gt; must be careful when doing this. The compiler automatically provides a\r\n&gt; no-argument, default constructor for any class without constructors.\r\n&gt; **This default constructor will call the no-argument constructor of the\r\n&gt; superclass. In this situation, the compiler will complain if the\r\n&gt; superclass doesn&#39;t have a no-argument constructor so you must verify\r\n&gt; that it does. If your class has no explicit superclass, then it has an\r\n&gt; implicit superclass of Object, which does have a no-argument\r\n&gt; constructor.**\r\n\r\nIf you have a superclass `A` that has no explicit default constructor, &lt;br&gt;\r\nand a subclass `B extends A` that has no explicit default constructor, \r\n\r\nAnd in the main method of a driver class you do &lt;br&gt;\r\n`A obj1 = new A();` &lt;br&gt;\r\na default constructor will be created, &lt;br&gt;which will call the default constructor of the Object class, correct?\r\n\r\nBut if you do &lt;br&gt;\r\n`B obj2 = new B();` &lt;br&gt;\r\naccording to the tutorial, a default constructor for B will be generated, &lt;br&gt; and the constructor will call the no-argument constructor of the superclass, &lt;br&gt; which will in turn call the constructor in Object. \r\n\r\nSo when will the superclass not have a no-argument constructor?\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/constructors.html","title":"When do superclasses not have a default constructor?","body":"<p>According to the <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/constructors.html\" rel=\"nofollow noreferrer\">Java tutorial on constructors</a>:</p>\n<blockquote>\n<p>You don't have to provide any constructors for your class, but you\nmust be careful when doing this. The compiler automatically provides a\nno-argument, default constructor for any class without constructors.\n<strong>This default constructor will call the no-argument constructor of the\nsuperclass. In this situation, the compiler will complain if the\nsuperclass doesn't have a no-argument constructor so you must verify\nthat it does. If your class has no explicit superclass, then it has an\nimplicit superclass of Object, which does have a no-argument\nconstructor.</strong></p>\n</blockquote>\n<p>If you have a superclass <code>A</code> that has no explicit default constructor, <br>\nand a subclass <code>B extends A</code> that has no explicit default constructor,</p>\n<p>And in the main method of a driver class you do <br>\n<code>A obj1 = new A();</code> <br>\na default constructor will be created, <br>which will call the default constructor of the Object class, correct?</p>\n<p>But if you do <br>\n<code>B obj2 = new B();</code> <br>\naccording to the tutorial, a default constructor for B will be generated, <br> and the constructor will call the no-argument constructor of the superclass, <br> which will in turn call the constructor in Object.</p>\n<p>So when will the superclass not have a no-argument constructor?</p>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":352763,"reputation":3330,"user_id":690017,"accept_rate":97,"display_name":"Andre Hofmeister"},"score":0,"creation_date":1417523191,"post_id":27249386,"comment_id":42973078,"body_markdown":"Please always provide a [mcve](http://stackoverflow.com/help/mcve) of your problem. In addition, describe what you already tried. Which language are you using?","body":"Please always provide a <a href=\"http://stackoverflow.com/help/mcve\">mcve</a> of your problem. In addition, describe what you already tried. Which language are you using?"},{"owner":{"display_name":"user180100"},"score":0,"creation_date":1417523619,"post_id":27249386,"comment_id":42973358,"body_markdown":"possible duplicate of [Password Protection of PDF Files](http://stackoverflow.com/questions/2032380/password-protection-of-pdf-files)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2032380/password-protection-of-pdf-files\">Password Protection of PDF Files</a>"}],"answers":[{"tags":[],"owner":{"account_id":1779372,"reputation":76344,"user_id":1622493,"display_name":"Bruno Lowagie"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1417525884,"creation_date":1417525884,"answer_id":27250318,"question_id":27249386,"body_markdown":"Did you look at the [EncryptionPdf][1] example in chapter 12 of my book?\r\n\r\nIt&#39;s as simple as this:\r\n\r\n    public void encryptPdf(String src, String dest) throws IOException, DocumentException {\r\n        PdfReader reader = new PdfReader(src);\r\n        PdfStamper stamper = new PdfStamper(reader, new FileOutputStream(dest));\r\n        stamper.setEncryption(USER, OWNER,\r\n            PdfWriter.ALLOW_PRINTING, PdfWriter.ENCRYPTION_AES_128 | PdfWriter.DO_NOT_ENCRYPT_METADATA);\r\n        stamper.close();\r\n        reader.close();\r\n    }\r\n\r\nNote that `USER` and `OWNER` are of type `byte[]`. You have different options for the permissions (look for constants starting with `ALLOW_`) and you can choose from different encryption algorithms.\r\n\r\nAs for the parameters: `src` is the path to the existing PDF. `dest` is the path of the encrypted PDF. It should be obvious that you can not write to a file while you are reading it. That is explained here: https://stackoverflow.com/questions/16081831/using-itextsharp-stamper-required-to-update-in-the-same-pdf\r\n\r\n  [1]: http://itextpdf.com/examples/iia.php?id=219","title":"How to protect an already existing PDF with a password?","body":"<p>Did you look at the <a href=\"http://itextpdf.com/examples/iia.php?id=219\" rel=\"nofollow noreferrer\">EncryptionPdf</a> example in chapter 12 of my book?</p>\n\n<p>It's as simple as this:</p>\n\n<pre><code>public void encryptPdf(String src, String dest) throws IOException, DocumentException {\n    PdfReader reader = new PdfReader(src);\n    PdfStamper stamper = new PdfStamper(reader, new FileOutputStream(dest));\n    stamper.setEncryption(USER, OWNER,\n        PdfWriter.ALLOW_PRINTING, PdfWriter.ENCRYPTION_AES_128 | PdfWriter.DO_NOT_ENCRYPT_METADATA);\n    stamper.close();\n    reader.close();\n}\n</code></pre>\n\n<p>Note that <code>USER</code> and <code>OWNER</code> are of type <code>byte[]</code>. You have different options for the permissions (look for constants starting with <code>ALLOW_</code>) and you can choose from different encryption algorithms.</p>\n\n<p>As for the parameters: <code>src</code> is the path to the existing PDF. <code>dest</code> is the path of the encrypted PDF. It should be obvious that you can not write to a file while you are reading it. That is explained here: <a href=\"https://stackoverflow.com/questions/16081831/using-itextsharp-stamper-required-to-update-in-the-same-pdf\">How to update a PDF without creating a new PDF?</a></p>\n"},{"tags":[],"owner":{"account_id":7113112,"reputation":1881,"user_id":5440323,"display_name":"Deva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634815725,"creation_date":1574773882,"answer_id":59051747,"question_id":27249386,"body_markdown":"Answer for @Alberto Question: How do u encrypt a pdf if only you have the byte array as input - and need another byte array as output, Used the previous answer.\r\n\r\nI have a method called addPassword(byte[] templateByte) which accepts byte array of PDF file as a parameter and returns the encrypted byte array as a response. \r\n\r\n\r\n    public byte[] addPassword(byte[] templateByte)\r\n        {\r\n    \r\n            String USER_PASS = &quot;Hello123&quot;;\r\n            String OWNER_PASS = &quot;Deva123&quot;;\r\n            PdfReader pdfReader = null;\r\n    \r\n            ByteArrayOutputStream byteArrayOutputStream = ByteArrayOutputStream(templateByte.length);\r\n    \r\n    //removed manual write to output stream\r\n\r\n            try\r\n            {\r\n    \r\n                pdfReader = new PdfReader(templateByte);\r\n                PdfStamper stamper = new PdfStamper(pdfReader, byteArrayOutputStream);\r\n                stamper.setEncryption(USER_PASS.getBytes(), OWNER_PASS.getBytes(),\r\n                        PdfWriter.ALLOW_PRINTING,\r\n                        PdfWriter.ENCRYPTION_AES_128 | PdfWriter.DO_NOT_ENCRYPT_METADATA);\r\n                stamper.close();\r\n                pdfReader.close();\r\n    \r\n                return byteArrayOutputStream.toByteArray();\r\n    \r\n            }\r\n            catch (Exception e)\r\n            {\r\n    \r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return byteArrayOutputStream.toByteArray();\r\n        }\r\n\r\n","title":"How to protect an already existing PDF with a password?","body":"<p>Answer for @Alberto Question: How do u encrypt a pdf if only you have the byte array as input - and need another byte array as output, Used the previous answer.</p>\n<p>I have a method called addPassword(byte[] templateByte) which accepts byte array of PDF file as a parameter and returns the encrypted byte array as a response.</p>\n<pre><code>public byte[] addPassword(byte[] templateByte)\n    {\n\n        String USER_PASS = &quot;Hello123&quot;;\n        String OWNER_PASS = &quot;Deva123&quot;;\n        PdfReader pdfReader = null;\n\n        ByteArrayOutputStream byteArrayOutputStream = ByteArrayOutputStream(templateByte.length);\n\n//removed manual write to output stream\n\n        try\n        {\n\n            pdfReader = new PdfReader(templateByte);\n            PdfStamper stamper = new PdfStamper(pdfReader, byteArrayOutputStream);\n            stamper.setEncryption(USER_PASS.getBytes(), OWNER_PASS.getBytes(),\n                    PdfWriter.ALLOW_PRINTING,\n                    PdfWriter.ENCRYPTION_AES_128 | PdfWriter.DO_NOT_ENCRYPT_METADATA);\n            stamper.close();\n            pdfReader.close();\n\n            return byteArrayOutputStream.toByteArray();\n\n        }\n        catch (Exception e)\n        {\n\n            e.printStackTrace();\n        }\n\n        return byteArrayOutputStream.toByteArray();\n    }\n</code></pre>\n"}],"owner":{"account_id":5422362,"reputation":41,"user_id":4315638,"display_name":"Sreekanth P"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5605,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":27250318,"answer_count":2,"score":2,"last_activity_date":1634815725,"creation_date":1417522946,"question_id":27249386,"body_markdown":"How to set password for an existing PDF?","title":"How to protect an already existing PDF with a password?","body":"<p>How to set password for an existing PDF?</p>\n"},{"tags":["java","json","couchbase"],"comments":[{"owner":{"account_id":5269973,"reputation":92,"user_id":4208564,"display_name":"op_"},"score":3,"creation_date":1634815496,"post_id":69661082,"comment_id":123130555,"body_markdown":"Does this answer your question? [How to escape double quotes in a string for json parser in Java](https://stackoverflow.com/questions/26501523/how-to-escape-double-quotes-in-a-string-for-json-parser-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/26501523/how-to-escape-double-quotes-in-a-string-for-json-parser-in-java\">How to escape double quotes in a string for json parser in Java</a>"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1634816047,"post_id":69661082,"comment_id":123130797,"body_markdown":"What you have is invalud JSON. It would need to be `\\&quot;` or `\\\\\\&quot;` instead of `\\\\&quot; `.","body":"What you have is invalud JSON. It would need to be <code>\\&quot;</code> or <code>\\\\\\&quot;</code> instead of <code>\\\\&quot; </code>."},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":2,"creation_date":1634816114,"post_id":69661082,"comment_id":123130827,"body_markdown":"Looks like the backslashes are escaped after the quotes got escaped. You could attempt to replace \\\\ with \\ (`.replace(&quot;\\\\\\\\&quot;, &quot;\\\\&quot;)`), though performing mutations on raw JSON is a tricky business. (Generally the answer is, make sure that whatever is providing you the JSON is sending valid JSON.)","body":"Looks like the backslashes are escaped after the quotes got escaped. You could attempt to replace \\\\ with \\ (<code>.replace(&quot;\\\\\\\\&quot;, &quot;\\\\&quot;)</code>), though performing mutations on raw JSON is a tricky business. (Generally the answer is, make sure that whatever is providing you the JSON is sending valid JSON.)"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1634819510,"post_id":69661082,"comment_id":123132375,"body_markdown":"Yes, the JSON you got is invalid, so the parse exception is correct.","body":"Yes, the JSON you got is invalid, so the parse exception is correct."},{"owner":{"account_id":7154568,"reputation":238,"user_id":5467492,"display_name":"Thomas Verhoeven"},"score":0,"creation_date":1634821296,"post_id":69661082,"comment_id":123133264,"body_markdown":"Use the [StringEscapeUtils](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringEscapeUtils.html) class from Apache Commons Text","body":"Use the <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringEscapeUtils.html\" rel=\"nofollow noreferrer\">StringEscapeUtils</a> class from Apache Commons Text"}],"owner":{"account_id":4281721,"reputation":1308,"user_id":3500874,"accept_rate":40,"display_name":"Aishu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1635125091,"answer_count":0,"score":1,"last_activity_date":1634815499,"creation_date":1634815349,"question_id":69661082,"body_markdown":"How to escape double quotes in a string at runtime for parsing json?\r\n\r\nBasically, I have a JSON. And when I try to parse it, I&#39;m getting JSON parse exception because of the double-quotes. And there are many files like this. This is just an example.\r\n\r\n    JSON:\r\n    \r\n    {\r\n      &quot;event&quot;: {\r\n        &quot;signUp&quot;: false,\r\n        &quot;info&quot;: {\r\n          &quot;celebity&quot;: &quot;In an attempt to \\\\&quot;test\\\\&quot; purchased a table,enjoy with our who are also new \\\\&quot;empty\\\\&quot;  the best use of this space for our \\\\&quot;always\\\\&quot; enjoyment!&quot;\r\n        }\r\n      }\r\n    }\r\n\r\nI&#39;m using couchbase SDK\r\n\r\n    JsonTranscoder trans = new JsonTranscoder();\r\n    com.couchbase.client.java.document.json.JsonObject jsonObj = trans.stringToJsonObject(json);\r\n\r\n","title":"How to escape double quotes in java json?","body":"<p>How to escape double quotes in a string at runtime for parsing json?</p>\n<p>Basically, I have a JSON. And when I try to parse it, I'm getting JSON parse exception because of the double-quotes. And there are many files like this. This is just an example.</p>\n<pre><code>JSON:\n\n{\n  &quot;event&quot;: {\n    &quot;signUp&quot;: false,\n    &quot;info&quot;: {\n      &quot;celebity&quot;: &quot;In an attempt to \\\\&quot;test\\\\&quot; purchased a table,enjoy with our who are also new \\\\&quot;empty\\\\&quot;  the best use of this space for our \\\\&quot;always\\\\&quot; enjoyment!&quot;\n    }\n  }\n}\n</code></pre>\n<p>I'm using couchbase SDK</p>\n<pre><code>JsonTranscoder trans = new JsonTranscoder();\ncom.couchbase.client.java.document.json.JsonObject jsonObj = trans.stringToJsonObject(json);\n</code></pre>\n"},{"tags":["java","string","encryption"],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634815481,"creation_date":1634815481,"answer_id":69661111,"question_id":69572855,"body_markdown":"When encryption is applied word-by-word, the key is reset for each word and `&quot;de&quot;` is encrypted with `&quot;ob&quot;`:\r\n```\r\nbrasileira\r\nobiobiobio\r\n\r\nde\r\nob\r\n```\r\nWhen entire message is enciphered, the key is NOT reset (`&quot;olimpiada&quot;` has 9 letters which is divisible by `&quot;obi&quot;.length() == 3`), and `&quot;de&quot;` is encrypted with `&quot;bi&quot;`:\r\n```\r\nolimpiada brasileira de informatica\r\nobiobiobi obiobiobio bi obiobiobiob\r\n```\r\nSo, if may be needed to remember somehow `y` index, or another method should be implemented to provide a character in the non-blank key at the _next_ index:\r\n```java\r\nprivate static Map&lt;String, Integer&gt; keyIndexes = new HashMap&lt;&gt;();\r\n\r\nprivate static char getNextPosition(String key) {\r\n    return key.charAt(keyIndexes.compute(\r\n        key, (k, v) -&gt; v == null ? 0 : (v + 1) % k.length()\r\n    ));\r\n}\r\n\r\nprivate static void resetKey(String key) {\r\n    keyIndexes.remove(key);\r\n}\r\n```\r\nThen the method `encipher` could be updated as:\r\n```\r\npublic static String encipher(String message, final String key)\r\n{\r\n    StringBuilder output = new StringBuilder();\r\n\r\n    for (char c : message.toCharArray())\r\n    {\r\n        if (c &lt; &#39;a&#39; || c &gt; &#39;z&#39;)\r\n            continue; // skip non-letters\r\n\r\n        output.append((char) ((c + getNextPosition(key) - 2 * &#39;a&#39;) % 26 + &#39;a&#39;));\r\n    }\r\n\r\n    return output.toString();\r\n}\r\n```\r\nTest:\r\n```java\r\nString message = &quot;olimpiada brasileira de informatica&quot;;\r\nString k = &quot;obi&quot;;\r\nSystem.out.println(encipher(message, k));\r\n// !!!\r\nresetKey(k);\r\n\r\nfor (String s : message.split(&quot; &quot;)) {\r\n    if (s.matches(&quot;[aeiou]\\\\w*&quot;)) { // use regexp to detect a word starting with a vowel\r\n        System.out.println(s);\r\n    } else {\r\n        System.out.println(encipher(s, k));\r\n    }\r\n}\r\n```\r\nOutput:\r\n```\r\ncmqaqqoeipsigjtsjzoemwoncsuouqqb   // full message, spaces skipped\r\nolimpiada\r\npsigjtsjzo\r\nem\r\ninformatica\r\n```\r\n----\r\nIf it is needed to keep non-letters and the words starting with vowels as is for the entire message (not just a single word), a couple of flags should be added to track if current character is inside a word, and if a first vowel has been detected:\r\n```java\r\npublic static String encipherWork(String message, final String key) {\r\n    StringBuilder output = new StringBuilder();\r\n    \r\n    boolean inWord = false;\r\n    boolean firstVowel = false;\r\n\r\n    for (char c : message.toCharArray()) {\r\n        if (&#39;a&#39; &lt;= c &amp;&amp; c &lt;= &#39;z&#39;) {\r\n            if (!inWord) {\r\n                firstVowel = (c == &#39;a&#39; || c == &#39;e&#39; || c == &#39;i&#39; || c == &#39;o&#39; || c == &#39;u&#39;);\r\n                inWord = true;\r\n            }\r\n            if (!firstVowel) {\r\n                output.append((char) ((c + getNextPosition(key) - 2 * &#39;a&#39;) % 26 + &#39;a&#39;));\r\n                continue;\r\n            }\r\n        } else {\r\n            inWord = false;\r\n            firstVowel = false;\r\n        }\r\n        output.append(c); // print non-enciphered characters\r\n    }\r\n\r\n    return output.toString();\r\n}\r\n```\r\nOutput for this method:\r\n```\r\nolimpiada psigjtsjzo em informatica // full message\r\nolimpiada\r\npsigjtsjzo\r\nem\r\ninformatica\r\n```","title":"Vigenere cipher while maintaining space and encrypt only words starting with consonent letters [Java]","body":"<p>When encryption is applied word-by-word, the key is reset for each word and <code>&quot;de&quot;</code> is encrypted with <code>&quot;ob&quot;</code>:</p>\n<pre><code>brasileira\nobiobiobio\n\nde\nob\n</code></pre>\n<p>When entire message is enciphered, the key is NOT reset (<code>&quot;olimpiada&quot;</code> has 9 letters which is divisible by <code>&quot;obi&quot;.length() == 3</code>), and <code>&quot;de&quot;</code> is encrypted with <code>&quot;bi&quot;</code>:</p>\n<pre><code>olimpiada brasileira de informatica\nobiobiobi obiobiobio bi obiobiobiob\n</code></pre>\n<p>So, if may be needed to remember somehow <code>y</code> index, or another method should be implemented to provide a character in the non-blank key at the <em>next</em> index:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static Map&lt;String, Integer&gt; keyIndexes = new HashMap&lt;&gt;();\n\nprivate static char getNextPosition(String key) {\n    return key.charAt(keyIndexes.compute(\n        key, (k, v) -&gt; v == null ? 0 : (v + 1) % k.length()\n    ));\n}\n\nprivate static void resetKey(String key) {\n    keyIndexes.remove(key);\n}\n</code></pre>\n<p>Then the method <code>encipher</code> could be updated as:</p>\n<pre><code>public static String encipher(String message, final String key)\n{\n    StringBuilder output = new StringBuilder();\n\n    for (char c : message.toCharArray())\n    {\n        if (c &lt; 'a' || c &gt; 'z')\n            continue; // skip non-letters\n\n        output.append((char) ((c + getNextPosition(key) - 2 * 'a') % 26 + 'a'));\n    }\n\n    return output.toString();\n}\n</code></pre>\n<p>Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String message = &quot;olimpiada brasileira de informatica&quot;;\nString k = &quot;obi&quot;;\nSystem.out.println(encipher(message, k));\n// !!!\nresetKey(k);\n\nfor (String s : message.split(&quot; &quot;)) {\n    if (s.matches(&quot;[aeiou]\\\\w*&quot;)) { // use regexp to detect a word starting with a vowel\n        System.out.println(s);\n    } else {\n        System.out.println(encipher(s, k));\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>cmqaqqoeipsigjtsjzoemwoncsuouqqb   // full message, spaces skipped\nolimpiada\npsigjtsjzo\nem\ninformatica\n</code></pre>\n<hr />\n<p>If it is needed to keep non-letters and the words starting with vowels as is for the entire message (not just a single word), a couple of flags should be added to track if current character is inside a word, and if a first vowel has been detected:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String encipherWork(String message, final String key) {\n    StringBuilder output = new StringBuilder();\n    \n    boolean inWord = false;\n    boolean firstVowel = false;\n\n    for (char c : message.toCharArray()) {\n        if ('a' &lt;= c &amp;&amp; c &lt;= 'z') {\n            if (!inWord) {\n                firstVowel = (c == 'a' || c == 'e' || c == 'i' || c == 'o' || c == 'u');\n                inWord = true;\n            }\n            if (!firstVowel) {\n                output.append((char) ((c + getNextPosition(key) - 2 * 'a') % 26 + 'a'));\n                continue;\n            }\n        } else {\n            inWord = false;\n            firstVowel = false;\n        }\n        output.append(c); // print non-enciphered characters\n    }\n\n    return output.toString();\n}\n</code></pre>\n<p>Output for this method:</p>\n<pre><code>olimpiada psigjtsjzo em informatica // full message\nolimpiada\npsigjtsjzo\nem\ninformatica\n</code></pre>\n"}],"owner":{"account_id":22347256,"reputation":17,"user_id":16625029,"display_name":"Sammie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69661111,"answer_count":1,"score":0,"last_activity_date":1634815481,"creation_date":1634223130,"question_id":69572855,"body_markdown":"I&#39;m trying to write a program which will encrypt a sentence using Vigenere cipher, but only the words starting with consonant letters, and while storing spaces. \r\nI&#39;m not very good with Java yet, but I wrote a method which encrypts any given word (all small letters) I had thought using array to print spaces where needed and ignore words starting with vowels would be enough, but doing so is actually giving me wrong output whenver I&#39;m printing the 2nd word or so on of the array. Could someone please guide me what I&#39;m doing wrong? And is there any better way to do this?\r\nHere&#39;s my code so far:\r\n\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n\r\n        Scanner u = new Scanner(System.in);\r\n        final String k = u.next();\r\n        u.nextLine();\r\n        String message = u.nextLine();\r\n        String[] f = message.split(&quot; &quot;);\r\n        System.out.println(encipher(message,k));\r\n\r\n        for (String s : f) {\r\n            if (s.charAt(0) == &#39;a&#39; || s.charAt(0) == &#39;e&#39; || s.charAt(0) == &#39;i&#39; ||\r\n                    s.charAt(0) == &#39;o&#39; || s.charAt(0) == &#39;u&#39;) {\r\n                System.out.println(s);\r\n            } else {\r\n                System.out.println(encipher(s, k));\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n    public static String encipher(String message, final String key)\r\n    {\r\n        String output = &quot;&quot;;\r\n\r\n        for (int x = 0, y = 0; x &lt; message.length(); x++)\r\n        {\r\n            char c = message.charAt(x);\r\n            if (c &lt; &#39;a&#39; || c &gt; &#39;z&#39;)\r\n                continue;\r\n            output += (char) ((c + key.charAt(y) - 2 * &#39;a&#39;) % 26 + &#39;a&#39;);\r\n            y = ++y % key.length();\r\n        }\r\n\r\n        return output;\r\n    }}\r\n\r\nYou can see the difference between the normal output (ignores spaces and vowel/consonant) and the array output. For a string key obi and string message &quot;olimpiada brasileira de informatica&quot; it should print &quot;olimpiada psigjtsjzo em informatica&quot; but in array its printing &quot;olimpiada psigjtsjzo rf informatica&quot; [ignore the printline thing for now on, I&#39;ll fix it once I get the encryption right]\r\n","title":"Vigenere cipher while maintaining space and encrypt only words starting with consonent letters [Java]","body":"<p>I'm trying to write a program which will encrypt a sentence using Vigenere cipher, but only the words starting with consonant letters, and while storing spaces.\nI'm not very good with Java yet, but I wrote a method which encrypts any given word (all small letters) I had thought using array to print spaces where needed and ignore words starting with vowels would be enough, but doing so is actually giving me wrong output whenver I'm printing the 2nd word or so on of the array. Could someone please guide me what I'm doing wrong? And is there any better way to do this?\nHere's my code so far:</p>\n<pre><code>public class Main {\npublic static void main(String[] args) {\n\n    Scanner u = new Scanner(System.in);\n    final String k = u.next();\n    u.nextLine();\n    String message = u.nextLine();\n    String[] f = message.split(&quot; &quot;);\n    System.out.println(encipher(message,k));\n\n    for (String s : f) {\n        if (s.charAt(0) == 'a' || s.charAt(0) == 'e' || s.charAt(0) == 'i' ||\n                s.charAt(0) == 'o' || s.charAt(0) == 'u') {\n            System.out.println(s);\n        } else {\n            System.out.println(encipher(s, k));\n        }\n\n    }\n}\n\n\npublic static String encipher(String message, final String key)\n{\n    String output = &quot;&quot;;\n\n    for (int x = 0, y = 0; x &lt; message.length(); x++)\n    {\n        char c = message.charAt(x);\n        if (c &lt; 'a' || c &gt; 'z')\n            continue;\n        output += (char) ((c + key.charAt(y) - 2 * 'a') % 26 + 'a');\n        y = ++y % key.length();\n    }\n\n    return output;\n}}\n</code></pre>\n<p>You can see the difference between the normal output (ignores spaces and vowel/consonant) and the array output. For a string key obi and string message &quot;olimpiada brasileira de informatica&quot; it should print &quot;olimpiada psigjtsjzo em informatica&quot; but in array its printing &quot;olimpiada psigjtsjzo rf informatica&quot; [ignore the printline thing for now on, I'll fix it once I get the encryption right]</p>\n"},{"tags":["java","ant","gitlab"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1634731651,"post_id":69645609,"comment_id":123103002,"body_markdown":"Don’t you run in a docker image? Can you change the image?","body":"Don’t you run in a docker image? Can you change the image?"},{"owner":{"account_id":13960732,"reputation":1008,"user_id":12003966,"display_name":"Alexandru DuDu"},"score":0,"creation_date":1634732209,"post_id":69645609,"comment_id":123103259,"body_markdown":"`Using Docker executor with image organizationwebpage/ccp/vm:stable ...` this is what it says, so I guess you&#39;re right, but I don&#39;t know how I could change the image.","body":"<code>Using Docker executor with image organizationwebpage&#47;ccp&#47;vm:stable ...</code> this is what it says, so I guess you&#39;re right, but I don&#39;t know how I could change the image."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1634732519,"post_id":69645609,"comment_id":123103386,"body_markdown":"Is it an in-house image? Can you talk to those that made it?","body":"Is it an in-house image? Can you talk to those that made it?"},{"owner":{"account_id":13960732,"reputation":1008,"user_id":12003966,"display_name":"Alexandru DuDu"},"score":0,"creation_date":1634732610,"post_id":69645609,"comment_id":123103426,"body_markdown":"I don&#39;t know what type of image it is, I don&#39;t know where I can see details about it, and for sure if it&#39;s not managed by someone in the team (and it&#39;s not) I can&#39;t reach them","body":"I don&#39;t know what type of image it is, I don&#39;t know where I can see details about it, and for sure if it&#39;s not managed by someone in the team (and it&#39;s not) I can&#39;t reach them"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":2,"creation_date":1634732789,"post_id":69645609,"comment_id":123103520,"body_markdown":"Create a new image (possibly based on what you have) and push it to a repository gitlab trusts and then revise your gitlab yml","body":"Create a new image (possibly based on what you have) and push it to a repository gitlab trusts and then revise your gitlab yml"},{"owner":{"account_id":13960732,"reputation":1008,"user_id":12003966,"display_name":"Alexandru DuDu"},"score":0,"creation_date":1634733217,"post_id":69645609,"comment_id":123103697,"body_markdown":"I understand. Anyway, I can&#39;t use it somewhere else, since I need to automate it to be build everytime on this repository (so using this image). So I am looking for a solution of using another JDK no matter what&#39;s the version installed by the image, and this could bring the advantage of not changing anything if they change JDK version in the feature. Also changing the JDK version in the image would not be a good idea since the same image is used by multiple projects. But thanks a lot, even if it doesn&#39;t solve the problem, it helps me to understand better how things work. Thanks again!","body":"I understand. Anyway, I can&#39;t use it somewhere else, since I need to automate it to be build everytime on this repository (so using this image). So I am looking for a solution of using another JDK no matter what&#39;s the version installed by the image, and this could bring the advantage of not changing anything if they change JDK version in the feature. Also changing the JDK version in the image would not be a good idea since the same image is used by multiple projects. But thanks a lot, even if it doesn&#39;t solve the problem, it helps me to understand better how things work. Thanks again!"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1634736287,"post_id":69645609,"comment_id":123105168,"body_markdown":"What you are suggesting is going to be done in each and every build.  That will be slow and require resources.   If all you need is Java 17 with ant, then why not find a docker image having that, and then switch to that?  You may want to use this opportunity to do local experiments and learn docker better because this will save you time.","body":"What you are suggesting is going to be done in each and every build.  That will be slow and require resources.   If all you need is Java 17 with ant, then why not find a docker image having that, and then switch to that?  You may want to use this opportunity to do local experiments and learn docker better because this will save you time."},{"owner":{"account_id":13960732,"reputation":1008,"user_id":12003966,"display_name":"Alexandru DuDu"},"score":0,"creation_date":1634737414,"post_id":69645609,"comment_id":123105792,"body_markdown":"I agree, this will be slower, but the build takes 2-3 minutes anyway, and for sure I don&#39;t know how I can use another image on the our company gitlab organization. For example, all my projects gitlab links looks like this: code.companyName.com. And I don&#39;t have access to any configuration","body":"I agree, this will be slower, but the build takes 2-3 minutes anyway, and for sure I don&#39;t know how I can use another image on the our company gitlab organization. For example, all my projects gitlab links looks like this: code.companyName.com. And I don&#39;t have access to any configuration"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1634741808,"post_id":69645609,"comment_id":123108025,"body_markdown":"If you are in a company doing this there are persons responsible for ensuring these things work.  Now would be a good time to ask the person you answer and/or your team to how you should continue with this - adapt the current build or upgrade the image.     Also, why are you not getting any help with this task?!","body":"If you are in a company doing this there are persons responsible for ensuring these things work.  Now would be a good time to ask the person you answer and/or your team to how you should continue with this - adapt the current build or upgrade the image.     Also, why are you not getting any help with this task?!"},{"owner":{"account_id":13960732,"reputation":1008,"user_id":12003966,"display_name":"Alexandru DuDu"},"score":0,"creation_date":1634744322,"post_id":69645609,"comment_id":123109191,"body_markdown":"It&#39;s pretty complicated. The team I&#39;m working with is not technical at all. There were 3 guys before me taking care of all things (tools, projects, scripts and technical issues). I was replacing one of them since he was leaving. Now all left and I&#39;m the only one. These projects are pretty complex so it&#39;s hard to get help from other teams, since they would have to spend some time on understanding these, so I&#39;m just making my way through the problems xD. I&#39;ve solved the problem, I will post the solution. I&#39;ve just copied everything from JDK-17 over the folder of JDK-11 before using `ant`.","body":"It&#39;s pretty complicated. The team I&#39;m working with is not technical at all. There were 3 guys before me taking care of all things (tools, projects, scripts and technical issues). I was replacing one of them since he was leaving. Now all left and I&#39;m the only one. These projects are pretty complex so it&#39;s hard to get help from other teams, since they would have to spend some time on understanding these, so I&#39;m just making my way through the problems xD. I&#39;ve solved the problem, I will post the solution. I&#39;ve just copied everything from JDK-17 over the folder of JDK-11 before using <code>ant</code>."},{"owner":{"account_id":13960732,"reputation":1008,"user_id":12003966,"display_name":"Alexandru DuDu"},"score":0,"creation_date":1634744392,"post_id":69645609,"comment_id":123109233,"body_markdown":"Thank you a lot for your support","body":"Thank you a lot for your support"}],"answers":[{"tags":[],"owner":{"account_id":13960732,"reputation":1008,"user_id":12003966,"display_name":"Alexandru DuDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634744723,"creation_date":1634744723,"answer_id":69649157,"question_id":69645609,"body_markdown":"I found a solution.&lt;br&gt;\r\n```\r\n\r\n    - sudo cp jdk-17-linux-x64.tar.gz /usr/lib/jvm\r\n    - sudo tar zxvf &quot;/usr/lib/jvm/jdk-17-linux-x64.tar.gz&quot; -C /usr/lib/jvm\r\n    - sudo \\cp -r /usr/lib/jvm/jdk-17 /usr/lib/jvm/java-1.11.0-openjdk-amd64\r\n    - sudo \\cp -r /usr/lib/jvm/jdk-17 /usr/lib/jvm/default-java\r\n    - sudo \\cp -r /usr/lib/jvm/jdk-17 /usr/lib/jvm/java-11-openjdk-amd64\r\n    - sudo \\cp -r /usr/lib/jvm/jdk-17 /usr/lib/jvm/openjdk-11\r\n    - sudo update-alternatives --remove-all java\r\n    - sudo update-alternatives --remove-all javac\r\n    - sudo update-alternatives --install /usr/bin/java java /usr/lib/jvm/jdk-17/bin/java 1\r\n```\r\n&lt;br&gt;&lt;br&gt;\r\nWhat I did here was to copy the JDK-17 content to all folders from `/usr/lib/jvm` folder. So even though the docker image uses JDK-11, I&#39;m rewriting it using JDK-17 uploaded with the source code, and now the tool is built using JKD-17.&lt;br&gt;\r\nPS: I know this is slower and not professional, but in my case, it&#39;s easier and more convinient than trying to get help from those who setup the docker container.","title":"Update gitlab JDK to JDK17 (VM doesn&#39;t have internet connection)","body":"<p>I found a solution.<br></p>\n<pre><code>\n    - sudo cp jdk-17-linux-x64.tar.gz /usr/lib/jvm\n    - sudo tar zxvf &quot;/usr/lib/jvm/jdk-17-linux-x64.tar.gz&quot; -C /usr/lib/jvm\n    - sudo \\cp -r /usr/lib/jvm/jdk-17 /usr/lib/jvm/java-1.11.0-openjdk-amd64\n    - sudo \\cp -r /usr/lib/jvm/jdk-17 /usr/lib/jvm/default-java\n    - sudo \\cp -r /usr/lib/jvm/jdk-17 /usr/lib/jvm/java-11-openjdk-amd64\n    - sudo \\cp -r /usr/lib/jvm/jdk-17 /usr/lib/jvm/openjdk-11\n    - sudo update-alternatives --remove-all java\n    - sudo update-alternatives --remove-all javac\n    - sudo update-alternatives --install /usr/bin/java java /usr/lib/jvm/jdk-17/bin/java 1\n</code></pre>\n<p><br><br>\nWhat I did here was to copy the JDK-17 content to all folders from <code>/usr/lib/jvm</code> folder. So even though the docker image uses JDK-11, I'm rewriting it using JDK-17 uploaded with the source code, and now the tool is built using JKD-17.<br>\nPS: I know this is slower and not professional, but in my case, it's easier and more convinient than trying to get help from those who setup the docker container.</p>\n"},{"tags":[],"owner":{"account_id":7999982,"reputation":303,"user_id":6035137,"display_name":"R. Liu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634815312,"creation_date":1634814606,"answer_id":69660872,"question_id":69645609,"body_markdown":"Since you&#39;ve already found a way to change the jdk on-the-go, you may really want to consider change the base image of your CI to save yourself a lot of time. This step will boost your CI speed. The steps to do that is fairly simple too.\r\n\r\n1. Compose your own Dockerfile\r\n\r\nThis following is just a pesudo code. You may look into the description of [dockerfile builder](https://docs.docker.com/engine/reference/builder/)\r\n```dockerfile\r\nFROM your-original-image. This is what you have in your image tag in the gitlab-ci file.\r\n\r\nCOPY jdk-17-linux-x64.tar.gz /usr/lib/jvm\r\nRUN sudo tar zxvf &quot;/usr/lib/jvm/jdk-17-linux-x64.tar.gz&quot; -C /usr/lib/jvm \\\r\n    &amp;&amp; sudo \\cp -r /usr/lib/jvm/jdk-17 /usr/lib/jvm/java-1.11.0-openjdk-amd64 \\\r\n    &amp;&amp; sudo \\cp -r /usr/lib/jvm/jdk-17 /usr/lib/jvm/default-java \\\r\n    &amp;&amp; sudo \\cp -r /usr/lib/jvm/jdk-17 /usr/lib/jvm/java-11-openjdk-amd64 \\\r\n    &amp;&amp; sudo \\cp -r /usr/lib/jvm/jdk-17 /usr/lib/jvm/openjdk-11 \\\r\n    &amp;&amp; sudo update-alternatives --remove-all java \\\r\n    &amp;&amp; sudo update-alternatives --remove-all javac \\\r\n    &amp;&amp; sudo update-alternatives --install /usr/bin/java java /usr/lib/jvm/jdk-17/bin/java 1\r\n```\r\n\r\n2. Build the docker image\r\n- If you are using docker hub, then you need to login to docker and get a dockerId which matches the dockerId in the snippet.\r\n- If you are using a private repo like harbor or artifactory, you may need the permission to push to it.\r\n```\r\ndocker build . -t dockerId/Name-of-your-image-you-want:latest\r\n```\r\n\r\n3. Upload the docker image using docker push\r\n```\r\ndocker push dockerId/Name-of-your-image-you-want:latest\r\n```\r\n\r\n4. change the image tag in your gitlab-ci.yaml to `dockerId/Name-of-your-image-you-want:latest`","title":"Update gitlab JDK to JDK17 (VM doesn&#39;t have internet connection)","body":"<p>Since you've already found a way to change the jdk on-the-go, you may really want to consider change the base image of your CI to save yourself a lot of time. This step will boost your CI speed. The steps to do that is fairly simple too.</p>\n<ol>\n<li>Compose your own Dockerfile</li>\n</ol>\n<p>This following is just a pesudo code. You may look into the description of <a href=\"https://docs.docker.com/engine/reference/builder/\" rel=\"nofollow noreferrer\">dockerfile builder</a></p>\n<pre><code>FROM your-original-image. This is what you have in your image tag in the gitlab-ci file.\n\nCOPY jdk-17-linux-x64.tar.gz /usr/lib/jvm\nRUN sudo tar zxvf &quot;/usr/lib/jvm/jdk-17-linux-x64.tar.gz&quot; -C /usr/lib/jvm \\\n    &amp;&amp; sudo \\cp -r /usr/lib/jvm/jdk-17 /usr/lib/jvm/java-1.11.0-openjdk-amd64 \\\n    &amp;&amp; sudo \\cp -r /usr/lib/jvm/jdk-17 /usr/lib/jvm/default-java \\\n    &amp;&amp; sudo \\cp -r /usr/lib/jvm/jdk-17 /usr/lib/jvm/java-11-openjdk-amd64 \\\n    &amp;&amp; sudo \\cp -r /usr/lib/jvm/jdk-17 /usr/lib/jvm/openjdk-11 \\\n    &amp;&amp; sudo update-alternatives --remove-all java \\\n    &amp;&amp; sudo update-alternatives --remove-all javac \\\n    &amp;&amp; sudo update-alternatives --install /usr/bin/java java /usr/lib/jvm/jdk-17/bin/java 1\n</code></pre>\n<ol start=\"2\">\n<li>Build the docker image</li>\n</ol>\n<ul>\n<li>If you are using docker hub, then you need to login to docker and get a dockerId which matches the dockerId in the snippet.</li>\n<li>If you are using a private repo like harbor or artifactory, you may need the permission to push to it.</li>\n</ul>\n<pre><code>docker build . -t dockerId/Name-of-your-image-you-want:latest\n</code></pre>\n<ol start=\"3\">\n<li>Upload the docker image using docker push</li>\n</ol>\n<pre><code>docker push dockerId/Name-of-your-image-you-want:latest\n</code></pre>\n<ol start=\"4\">\n<li>change the image tag in your gitlab-ci.yaml to <code>dockerId/Name-of-your-image-you-want:latest</code></li>\n</ol>\n"}],"owner":{"account_id":13960732,"reputation":1008,"user_id":12003966,"display_name":"Alexandru DuDu"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69649157,"answer_count":2,"score":0,"last_activity_date":1634815312,"creation_date":1634731172,"question_id":69645609,"body_markdown":"I am using Gitlab to build a Java tool using `ant`&lt;br&gt;&lt;br&gt;\r\n\r\nThe tool requires JDK 17, but `ant` JDK version is 11, and I&#39;m trying to change it.&lt;br&gt;\r\nSo I tried a lot of solutions using a remote repository or remote download site, but after some tries I found out that the VM used to build the tool is not connected to internet (trying to ping google or my IP address doesn&#39;t work).&lt;br&gt;&lt;br&gt;\r\n\r\nSo I tried to upload in the same package with the tool source code the JDK 17 (`openjdk-17_linux-x64_bin.tar.gz`) and install it there.&lt;br&gt;\r\nHere is the problem, I am not sure how to do this since I don&#39;t work with linux, but I tried almost everything on the internet.&lt;br&gt;&lt;br&gt;\r\nEvery of these commands are used in a `.gitlab-ci.yml` file, used for gitlab pipeline.\r\n\r\nHere are some examples of what I&#39;ve tried so far:&lt;br&gt;\r\n```\r\n\r\n    - sudo cp /builds/project/openjdk-17_linux-x64_bin.tar.gz /usr/lib/jvm\r\n    - sudo tar zxvf &quot;/usr/lib/jvm/openjdk-17_linux-x64_bin.tar.gz&quot; -C /usr/lib/jvm\r\n    - echo &quot;JAVA_HOME=/usr/lib/jvm/jdk-17&quot; | sudo tee -a /etc/profile\r\n    - echo &quot;PATH=${PATH}:${HOME}/bin:${JAVA_HOME}/bin&quot; | sudo tee -a /etc/profile\r\n    - echo &quot;export JAVA_HOME&quot; | sudo tee -a /etc/profile\r\n    - echo &quot;export JRE_HOME&quot; | sudo tee -a /etc/profile\r\n    - echo &quot;export PATH&quot; | sudo tee -a /etc/profile\r\n    - sudo cat /etc/profile\r\n    - echo &quot;JAVA_HOME=/usr/lib/jvm/jdk-17&quot; | sudo tee -a /.bashrc\r\n    - echo &quot;PATH=${PATH}:${JAVA_HOME}/bin&quot; | sudo tee -a /.bashrc\r\n    - echo &quot;JAVA_HOME=&#39;/usr/lib/jvm/jdk-17&#39; | sudo tee -a /etc/environment&quot;\r\n    \r\n    - export JAVA_HOME=/usr/lib/jvm/jdk-17\r\n    - export PATH=$PATH:$JAVA_HOME/bin\r\n```\r\n&lt;br&gt;&lt;br&gt;\r\nAfter a lot of combinations of these commands the output of `sudo update-alternatives --config java` is still:&lt;br&gt;\r\n```\r\nopenjdk version &quot;11.0.12&quot; 2021-07-20\r\nOpenJDK Runtime Environment (build 11.0.12+7-post-Debian-2deb10u1)\r\nOpenJDK 64-Bit Server VM (build 11.0.12+7-post-Debian-2deb10u1, mixed mode, sharing)\r\n```\r\n\r\n&lt;br&gt;&lt;br&gt;\r\nBut if I try `/usr/lib/jvm/jdk-17/bin/java -version` it prints `17`.&lt;br&gt;\r\nWhat would be the solution of making the default Java version to be 17. (Also a solution for ant to use the JDK-17 without installing it would be great too, since I need the JDK-17 for `ant`)","title":"Update gitlab JDK to JDK17 (VM doesn&#39;t have internet connection)","body":"<p>I am using Gitlab to build a Java tool using <code>ant</code><br><br></p>\n<p>The tool requires JDK 17, but <code>ant</code> JDK version is 11, and I'm trying to change it.<br>\nSo I tried a lot of solutions using a remote repository or remote download site, but after some tries I found out that the VM used to build the tool is not connected to internet (trying to ping google or my IP address doesn't work).<br><br></p>\n<p>So I tried to upload in the same package with the tool source code the JDK 17 (<code>openjdk-17_linux-x64_bin.tar.gz</code>) and install it there.<br>\nHere is the problem, I am not sure how to do this since I don't work with linux, but I tried almost everything on the internet.<br><br>\nEvery of these commands are used in a <code>.gitlab-ci.yml</code> file, used for gitlab pipeline.</p>\n<p>Here are some examples of what I've tried so far:<br></p>\n<pre><code>\n    - sudo cp /builds/project/openjdk-17_linux-x64_bin.tar.gz /usr/lib/jvm\n    - sudo tar zxvf &quot;/usr/lib/jvm/openjdk-17_linux-x64_bin.tar.gz&quot; -C /usr/lib/jvm\n    - echo &quot;JAVA_HOME=/usr/lib/jvm/jdk-17&quot; | sudo tee -a /etc/profile\n    - echo &quot;PATH=${PATH}:${HOME}/bin:${JAVA_HOME}/bin&quot; | sudo tee -a /etc/profile\n    - echo &quot;export JAVA_HOME&quot; | sudo tee -a /etc/profile\n    - echo &quot;export JRE_HOME&quot; | sudo tee -a /etc/profile\n    - echo &quot;export PATH&quot; | sudo tee -a /etc/profile\n    - sudo cat /etc/profile\n    - echo &quot;JAVA_HOME=/usr/lib/jvm/jdk-17&quot; | sudo tee -a /.bashrc\n    - echo &quot;PATH=${PATH}:${JAVA_HOME}/bin&quot; | sudo tee -a /.bashrc\n    - echo &quot;JAVA_HOME='/usr/lib/jvm/jdk-17' | sudo tee -a /etc/environment&quot;\n    \n    - export JAVA_HOME=/usr/lib/jvm/jdk-17\n    - export PATH=$PATH:$JAVA_HOME/bin\n</code></pre>\n<p><br><br>\nAfter a lot of combinations of these commands the output of <code>sudo update-alternatives --config java</code> is still:<br></p>\n<pre><code>openjdk version &quot;11.0.12&quot; 2021-07-20\nOpenJDK Runtime Environment (build 11.0.12+7-post-Debian-2deb10u1)\nOpenJDK 64-Bit Server VM (build 11.0.12+7-post-Debian-2deb10u1, mixed mode, sharing)\n</code></pre>\n<p><br><br>\nBut if I try <code>/usr/lib/jvm/jdk-17/bin/java -version</code> it prints <code>17</code>.<br>\nWhat would be the solution of making the default Java version to be 17. (Also a solution for ant to use the JDK-17 without installing it would be great too, since I need the JDK-17 for <code>ant</code>)</p>\n"},{"tags":["java","android","permissions","manifest","android-11"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1634802019,"post_id":69657726,"comment_id":123124818,"body_markdown":"`if my device already has the following permissions` I see no following permissions..","body":"<code>if my device already has the following permissions</code> I see no following permissions.."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1634802214,"post_id":69657726,"comment_id":123124888,"body_markdown":"`Because it requires API level 30, but my min is 21.` ?? Being able to compile that function does not depend on minimum version. You only should call that function for  build versions 30. Like you do with the settings. (Where it should be &gt; Q)","body":"<code>Because it requires API level 30, but my min is 21.</code> ?? Being able to compile that function does not depend on minimum version. You only should call that function for  build versions 30. Like you do with the settings. (Where it should be &gt; Q)"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1634802493,"post_id":69657726,"comment_id":123124988,"body_markdown":"`is there a permission check that would work for all of these?` ? Strange question. Permission MANAGE_EXTERNAL_STORAGE is only for Android 11+ devices. So a check is only possible for Android 11+ devices","body":"<code>is there a permission check that would work for all of these?</code> ? Strange question. Permission MANAGE_EXTERNAL_STORAGE is only for Android 11+ devices. So a check is only possible for Android 11+ devices"},{"owner":{"account_id":6997264,"reputation":1097,"user_id":9695530,"display_name":"Richard"},"score":0,"creation_date":1634804258,"post_id":69657726,"comment_id":123125732,"body_markdown":"Well but how should you check if these permissions exist?","body":"Well but how should you check if these permissions exist?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1634804757,"post_id":69657726,"comment_id":123125939,"body_markdown":"????? I dont understand your reaction. And you have not even reacted on my first comment.","body":"????? I dont understand your reaction. And you have not even reacted on my first comment."},{"owner":{"account_id":6997264,"reputation":1097,"user_id":9695530,"display_name":"Richard"},"score":0,"creation_date":1634805302,"post_id":69657726,"comment_id":123126152,"body_markdown":"What I am trying to ask with this question is that, is there a way to check if the permissions are allowed, if not then create the intent and ask for them with the line `new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION, uri);\n            intent.addCategory(&quot;android.intent.category.DEFAULT&quot;)` etc. The device may or may not have the following permissions but thats what I am asking. How to check if it has the different permissions for the different SDK versions.","body":"What I am trying to ask with this question is that, is there a way to check if the permissions are allowed, if not then create the intent and ask for them with the line <code>new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSIO&zwnj;&#8203;N, uri);             intent.addCategory(&quot;android.intent.category.DEFAULT&quot;)</code> etc. The device may or may not have the following permissions but thats what I am asking. How to check if it has the different permissions for the different SDK versions."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1634807031,"post_id":69657726,"comment_id":123126845,"body_markdown":"Please start with reacting to my first comment. You still did not. Forget my other comments for a while.","body":"Please start with reacting to my first comment. You still did not. Forget my other comments for a while."},{"owner":{"account_id":6997264,"reputation":1097,"user_id":9695530,"display_name":"Richard"},"score":0,"creation_date":1634807641,"post_id":69657726,"comment_id":123127091,"body_markdown":"Well I was clarifyng that with the last comment but the permissions are first in Android 11 `Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION` or  `Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION` and for the lower versions `permission.WRITE_EXTERNAL_STORAGE`","body":"Well I was clarifyng that with the last comment but the permissions are first in Android 11 <code>Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION</code> or  <code>Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION</code> and for the lower versions <code>permission.WRITE_EXTERNAL_STORAGE</code>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1634807873,"post_id":69657726,"comment_id":123127176,"body_markdown":"No. `Environment.isExternalStorageManager()` is about `android.permission.MANAGE_EXTERNAL_STORAGE&quot;` which you should &#39;request&#39; in manifest file first. You did not even mention it. All the other things is how to obtain that permission at runtime .Switch it on/off at runtime and checking if it is on/off at runtime.","body":"No. <code>Environment.isExternalStorageManager()</code> is about <code>android.permission.MANAGE_EXTERNAL_STORAGE&quot;</code> which you should &#39;request&#39; in manifest file first. You did not even mention it. All the other things is how to obtain that permission at runtime .Switch it on/off at runtime and checking if it is on/off at runtime."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1634808126,"post_id":69657726,"comment_id":123127283,"body_markdown":"`but the permissions are first in Android 11 Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION` That is no permission but an action. An action to let the user switch the permission for MANAGE_EXTERNAL_STORAGE on/off.","body":"<code>but the permissions are first in Android 11 Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION</code> That is no permission but an action. An action to let the user switch the permission for MANAGE_EXTERNAL_STORAGE on/off."},{"owner":{"account_id":6997264,"reputation":1097,"user_id":9695530,"display_name":"Richard"},"score":0,"creation_date":1634810246,"post_id":69657726,"comment_id":123128250,"body_markdown":"Alright, it is an action but how can you check if its permitted or not.","body":"Alright, it is an action but how can you check if its permitted or not."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1634810598,"post_id":69657726,"comment_id":123128404,"body_markdown":"Environment.isExternalStorageManager() will tell you if &#39;all files access&#39; is on/off.","body":"Environment.isExternalStorageManager() will tell you if &#39;all files access&#39; is on/off."},{"owner":{"account_id":6997264,"reputation":1097,"user_id":9695530,"display_name":"Richard"},"score":0,"creation_date":1634815037,"post_id":69657726,"comment_id":123130315,"body_markdown":"That actually helped me figure it out, thank you.","body":"That actually helped me figure it out, thank you."}],"answers":[{"tags":[],"owner":{"account_id":6997264,"reputation":1097,"user_id":9695530,"display_name":"Richard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634815169,"creation_date":1634815169,"answer_id":69661033,"question_id":69657726,"body_markdown":"The answer for me here was to change `Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q` to `Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.Q` and then check permission with `!Environment.isExternalStorageManager()`.\r\n\r\n    \r\n    if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.Q) {\r\n        if(!Environment.isExternalStorageManager()){\r\n            try {\r\n                Uri uri = Uri.parse(&quot;package:&quot; + BuildConfig.APPLICATION_ID);\r\n                Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION, uri);\r\n                intent.addCategory(&quot;android.intent.category.DEFAULT&quot;);\r\n                intent.setData(Uri.parse(String.format(&quot;package:%s&quot;, getApplicationContext().getPackageName())));\r\n                startActivity(intent);\r\n            } catch (Exception ex){\r\n                Intent intent = new Intent();\r\n                intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\r\n                startActivity(intent);\r\n            }\r\n        }\r\n    } else {\r\n        if(ActivityCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 100);\r\n        }\r\n    }","title":"How to check if app has ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION and other storage permissions on lower Androids","body":"<p>The answer for me here was to change <code>Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q</code> to <code>Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.Q</code> and then check permission with <code>!Environment.isExternalStorageManager()</code>.</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.Q) {\n    if(!Environment.isExternalStorageManager()){\n        try {\n            Uri uri = Uri.parse(&quot;package:&quot; + BuildConfig.APPLICATION_ID);\n            Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION, uri);\n            intent.addCategory(&quot;android.intent.category.DEFAULT&quot;);\n            intent.setData(Uri.parse(String.format(&quot;package:%s&quot;, getApplicationContext().getPackageName())));\n            startActivity(intent);\n        } catch (Exception ex){\n            Intent intent = new Intent();\n            intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\n            startActivity(intent);\n        }\n    }\n} else {\n    if(ActivityCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n        ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 100);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6997264,"reputation":1097,"user_id":9695530,"display_name":"Richard"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":934,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69661033,"answer_count":1,"score":0,"last_activity_date":1634815169,"creation_date":1634801724,"question_id":69657726,"body_markdown":"Is there a way to check if my device already has the following permissions with one line or how should I check this?\r\n\r\nI am supporting SDK versions from 21 to 30 so I cannot use :\r\n\r\n    if (!Environment.isExternalStorageManager()) {\r\n    \r\n\r\nBecause it requires API level 30, but my min is 21.\r\n\r\nThis is how I am asking for permissions:\r\n\r\n    \r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n            try {\r\n\r\n                Uri uri = Uri.parse(&quot;package:&quot; + BuildConfig.APPLICATION_ID);\r\n                Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION, uri);\r\n                intent.addCategory(&quot;android.intent.category.DEFAULT&quot;);\r\n                intent.setData(Uri.parse(String.format(&quot;package:%s&quot;, getApplicationContext().getPackageName())));\r\n                startActivityForResult(intent, 2296);\r\n            } catch (Exception ex){\r\n                Intent intent = new Intent();\r\n                intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\r\n                startActivity(intent);\r\n            }\r\n        } else {\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 100);\r\n        }\r\n    }\r\n\r\nSo is there a permission check that would work for all of these?","title":"How to check if app has ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION and other storage permissions on lower Androids","body":"<p>Is there a way to check if my device already has the following permissions with one line or how should I check this?</p>\n<p>I am supporting SDK versions from 21 to 30 so I cannot use :</p>\n<pre><code>if (!Environment.isExternalStorageManager()) {\n</code></pre>\n<p>Because it requires API level 30, but my min is 21.</p>\n<p>This is how I am asking for permissions:</p>\n<pre><code>    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n        try {\n\n            Uri uri = Uri.parse(&quot;package:&quot; + BuildConfig.APPLICATION_ID);\n            Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION, uri);\n            intent.addCategory(&quot;android.intent.category.DEFAULT&quot;);\n            intent.setData(Uri.parse(String.format(&quot;package:%s&quot;, getApplicationContext().getPackageName())));\n            startActivityForResult(intent, 2296);\n        } catch (Exception ex){\n            Intent intent = new Intent();\n            intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\n            startActivity(intent);\n        }\n    } else {\n        ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 100);\n    }\n}\n</code></pre>\n<p>So is there a permission check that would work for all of these?</p>\n"},{"tags":["java","spring","hibernate","spring-batch"],"comments":[{"owner":{"account_id":2402746,"reputation":145,"user_id":2100051,"accept_rate":100,"display_name":"Rakib"},"score":0,"creation_date":1634106914,"post_id":69543816,"comment_id":122933703,"body_markdown":"Can you update your sample with the method from where the process is being called. If it is being called within a transaction and the entity is not detached within that persistent context there is no reason you would get a lazy initialization exception.","body":"Can you update your sample with the method from where the process is being called. If it is being called within a transaction and the entity is not detached within that persistent context there is no reason you would get a lazy initialization exception."},{"owner":{"account_id":4747140,"reputation":11,"user_id":8362805,"display_name":"Malcolm"},"score":0,"creation_date":1634114689,"post_id":69543816,"comment_id":122936554,"body_markdown":"It&#39;s being called by Spring Batch as part of a chunk-based step in a batch job.","body":"It&#39;s being called by Spring Batch as part of a chunk-based step in a batch job."},{"owner":{"account_id":2402746,"reputation":145,"user_id":2100051,"accept_rate":100,"display_name":"Rakib"},"score":0,"creation_date":1634120022,"post_id":69543816,"comment_id":122938713,"body_markdown":"How and from where are you managing the db transaction from the application? Are you @Transactional annotation? Ideally when spring initiates a db transaction a persistent context is bound with it. From within that method you need to make your object attached to that persistent context (there are several ways to do so). And before exiting from that transactional method if you try to get the list item you shouldn&#39;t get lazy exception.","body":"How and from where are you managing the db transaction from the application? Are you @Transactional annotation? Ideally when spring initiates a db transaction a persistent context is bound with it. From within that method you need to make your object attached to that persistent context (there are several ways to do so). And before exiting from that transactional method if you try to get the list item you shouldn&#39;t get lazy exception."},{"owner":{"account_id":4747140,"reputation":11,"user_id":8362805,"display_name":"Malcolm"},"score":0,"creation_date":1634141719,"post_id":69543816,"comment_id":122948234,"body_markdown":"Because this is running as part of a Spring Batch chunk-based step I think Spring is managing the transaction - it certainly is when doing the reading from the database. The documentation says that the transaction is opened when the read starts and closed when the read starts and closed when the write committed - therefore it should be open when the processor runs (hence why I&#39;m confused). I think it might be to do with the XML configuration - I tested this on a fresh Spring Boot project and it worked as expected.","body":"Because this is running as part of a Spring Batch chunk-based step I think Spring is managing the transaction - it certainly is when doing the reading from the database. The documentation says that the transaction is opened when the read starts and closed when the read starts and closed when the write committed - therefore it should be open when the processor runs (hence why I&#39;m confused). I think it might be to do with the XML configuration - I tested this on a fresh Spring Boot project and it worked as expected."}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634643466,"creation_date":1634643466,"answer_id":69630108,"question_id":69543816,"body_markdown":"AFAIK every step (read, process, write) creates a separate transaction for every chunk that is processed, so if your `ItemReader` does not initialize an association that is needed in the processor or writer, you will run into this error because the entities become detached when the entity manager is closed after the transaction commit. I don&#39;t know if it is possible to tell Spring to keep an entity manager around for the whole process, but if you want to rely on lazy initialization, you will have to figure this out.\r\n\r\nI would recommend you to make sure that you use proper join fetches though, to avoid the need for lazy initialization i.e. `select t from Taxon t join fetch t.organization o`, or even better, use a DTO approach so that you don&#39;t have to care about lazy initialization at all.\r\n\r\nI think this is a perfect use case for [Blaze-Persistence Entity Views][1].\r\n\r\nI created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.\r\n\r\nA DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:\r\n\r\n    @EntityView(Taxon.class)\r\n    public interface TaxonDto {\r\n        @IdMapping\r\n        Long getId();\r\n        String getName();\r\n        OrganizationDto getOrganization();\r\n\r\n        @EntityView(Organization.class)\r\n        interface OrganizationDto {\r\n            @IdMapping\r\n            Long getId();\r\n            String getName();\r\n        }\r\n    }\r\n\r\nQuerying is a matter of applying the entity view to a query, the simplest being just a query by id.\r\n\r\n`TaxonDto a = entityViewManager.find(entityManager, TaxonDto.class, id);`\r\n\r\nThe Spring Data integration allows you to use it almost like Spring Data Projections: https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\r\n\r\n    Page&lt;TaxonDto&gt; findAll(Pageable pageable);\r\n\t\r\nThe best part is, it will only fetch the state that is actually necessary!\r\n\r\n  [1]: https://github.com/Blazebit/blaze-persistence#entity-view-usage\r\n","title":"Hibernate no session in ItemProcessor (Spring Batch)","body":"<p>AFAIK every step (read, process, write) creates a separate transaction for every chunk that is processed, so if your <code>ItemReader</code> does not initialize an association that is needed in the processor or writer, you will run into this error because the entities become detached when the entity manager is closed after the transaction commit. I don't know if it is possible to tell Spring to keep an entity manager around for the whole process, but if you want to rely on lazy initialization, you will have to figure this out.</p>\n<p>I would recommend you to make sure that you use proper join fetches though, to avoid the need for lazy initialization i.e. <code>select t from Taxon t join fetch t.organization o</code>, or even better, use a DTO approach so that you don't have to care about lazy initialization at all.</p>\n<p>I think this is a perfect use case for <a href=\"https://github.com/Blazebit/blaze-persistence#entity-view-usage\" rel=\"nofollow noreferrer\">Blaze-Persistence Entity Views</a>.</p>\n<p>I created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.</p>\n<p>A DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:</p>\n<pre><code>@EntityView(Taxon.class)\npublic interface TaxonDto {\n    @IdMapping\n    Long getId();\n    String getName();\n    OrganizationDto getOrganization();\n\n    @EntityView(Organization.class)\n    interface OrganizationDto {\n        @IdMapping\n        Long getId();\n        String getName();\n    }\n}\n</code></pre>\n<p>Querying is a matter of applying the entity view to a query, the simplest being just a query by id.</p>\n<p><code>TaxonDto a = entityViewManager.find(entityManager, TaxonDto.class, id);</code></p>\n<p>The Spring Data integration allows you to use it almost like Spring Data Projections: <a href=\"https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\" rel=\"nofollow noreferrer\">https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features</a></p>\n<pre><code>Page&lt;TaxonDto&gt; findAll(Pageable pageable);\n</code></pre>\n<p>The best part is, it will only fetch the state that is actually necessary!</p>\n"},{"tags":[],"owner":{"account_id":4747140,"reputation":11,"user_id":8362805,"display_name":"Malcolm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634815136,"creation_date":1634815136,"answer_id":69661023,"question_id":69543816,"body_markdown":"I&#39;ve now resolved this - in the end changing to `JpaPagingItemReader` did the trick. I&#39;m not sure why it didn&#39;t work previously, although I did find that setting any kind of `taskExecutor` did seem to immediately break the lazy loading.","title":"Hibernate no session in ItemProcessor (Spring Batch)","body":"<p>I've now resolved this - in the end changing to <code>JpaPagingItemReader</code> did the trick. I'm not sure why it didn't work previously, although I did find that setting any kind of <code>taskExecutor</code> did seem to immediately break the lazy loading.</p>\n"}],"owner":{"account_id":4747140,"reputation":11,"user_id":8362805,"display_name":"Malcolm"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":755,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634815136,"creation_date":1634055160,"question_id":69543816,"body_markdown":"I&#39;m having an issue with trying to access Hibernate entity relationships as part of an `ItemProcessor` while running a Spring Batch job. The `ItemProcessor` is part of a chunk-based step. As far as I can tell the `ItemProcessor` runs in a transaction and therefore *should* be able to lazily load entity relationships. \r\n\r\nThe issue\r\n---\r\n\r\nI&#39;m getting the following exception as part of the `ItemProcessor` logic:\r\n\r\n```\r\norg.hibernate.LazyInitializationException: could not initialize proxy [org.powo.model.registry.Organisation#1] - no Session\r\n        at org.hibernate.proxy.AbstractLazyInitializer.initialize(AbstractLazyInitializer.java:169)\r\n        at org.hibernate.proxy.AbstractLazyInitializer.getImplementation(AbstractLazyInitializer.java:309)\r\n        at org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor.intercept(ByteBuddyInterceptor.java:45)\r\n        at org.hibernate.proxy.ProxyConfiguration$InterceptorDispatcher.intercept(ProxyConfiguration.java:95)\r\n        at org.powo.model.registry.Organisation$HibernateProxy$OFnEWoXa.getIdentifier(Unknown Source)\r\n        at org.powo.model.solr.BaseSolrInputDocument.build(BaseSolrInputDocument.java:39)\r\n        at org.powo.model.solr.TaxonSolrInputDocument.&lt;init&gt;(TaxonSolrInputDocument.java:67)\r\n        at org.powo.model.Taxon.toSolrInputDocument(Taxon.java:1091)\r\n        at org.powo.job.reindex.TaxonToSolrInputDocumentProcessor.process(TaxonToSolrInputDocumentProcessor.java:20)\r\n        at org.powo.job.reindex.TaxonToSolrInputDocumentProcessor.process(TaxonToSolrInputDocumentProcessor.java:13)\r\n        at org.springframework.batch.core.step.item.SimpleChunkProcessor.doProcess(SimpleChunkProcessor.java:126)\r\n        at org.springframework.batch.core.step.item.SimpleChunkProcessor.transform(SimpleChunkProcessor.java:303)\r\n        at org.springframework.batch.core.step.item.SimpleChunkProcessor.process(SimpleChunkProcessor.java:202)\r\n        at org.springframework.batch.core.step.item.ChunkOrientedTasklet.execute(ChunkOrientedTasklet.java:75)\r\n        at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:406)\r\n        at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:330)\r\n        at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\r\n        at org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:272)\r\n        at org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:81)\r\n        at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:375)\r\n        at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215)\r\n        at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:145)\r\n        at org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:257)\r\n        at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:200)\r\n        at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:148)\r\n        at org.springframework.batch.core.job.flow.JobFlowExecutor.executeStep(JobFlowExecutor.java:66)\r\n        at org.springframework.batch.core.job.flow.support.state.StepState.handle(StepState.java:67)\r\n        at org.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:169)\r\n        at org.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:144)\r\n        at org.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:136)\r\n        at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:308)\r\n        at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:141)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\n```\r\n\r\nHere&#39;s the `ItemProcessor` for reference (and within the `toSolrInputDocument` logic is where the entity relationships are traversed):\r\n\r\n```\r\n@Component\r\npublic class TaxonToSolrInputDocumentProcessor implements ItemProcessor&lt;Taxon, SolrInputDocument&gt; {\r\n  @Autowired\r\n  private ApplicationContext context;\r\n\r\n  @Override\r\n  public SolrInputDocument process(Taxon item) throws Exception {\r\n    return item.toSolrInputDocument(context);\r\n  }\r\n}\r\n```\r\n\r\nAnd I&#39;m using an `org.springframework.batch.item.database.HibernatePagingItemReader` as the reader.\r\n\r\nWhat I&#39;ve tried\r\n---\r\n\r\nI&#39;ve tried the following but none of the solutions have prevented the error above:\r\n\r\n- using a `JpaPagingItemReader` instead of `HibernatePagingItemReader` but this still has the same issue\r\n- using `@Autowired` to get a `SessionFactory` and then doing `openSession`/`closeSession` around the code which traverses the entity relationships\r\n\r\nBecause of the data model I&#39;m not able to fetch all relationships in one query so I need to use a stateful session (though I would like to fetch some!).","title":"Hibernate no session in ItemProcessor (Spring Batch)","body":"<p>I'm having an issue with trying to access Hibernate entity relationships as part of an <code>ItemProcessor</code> while running a Spring Batch job. The <code>ItemProcessor</code> is part of a chunk-based step. As far as I can tell the <code>ItemProcessor</code> runs in a transaction and therefore <em>should</em> be able to lazily load entity relationships.</p>\n<h2>The issue</h2>\n<p>I'm getting the following exception as part of the <code>ItemProcessor</code> logic:</p>\n<pre><code>org.hibernate.LazyInitializationException: could not initialize proxy [org.powo.model.registry.Organisation#1] - no Session\n        at org.hibernate.proxy.AbstractLazyInitializer.initialize(AbstractLazyInitializer.java:169)\n        at org.hibernate.proxy.AbstractLazyInitializer.getImplementation(AbstractLazyInitializer.java:309)\n        at org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor.intercept(ByteBuddyInterceptor.java:45)\n        at org.hibernate.proxy.ProxyConfiguration$InterceptorDispatcher.intercept(ProxyConfiguration.java:95)\n        at org.powo.model.registry.Organisation$HibernateProxy$OFnEWoXa.getIdentifier(Unknown Source)\n        at org.powo.model.solr.BaseSolrInputDocument.build(BaseSolrInputDocument.java:39)\n        at org.powo.model.solr.TaxonSolrInputDocument.&lt;init&gt;(TaxonSolrInputDocument.java:67)\n        at org.powo.model.Taxon.toSolrInputDocument(Taxon.java:1091)\n        at org.powo.job.reindex.TaxonToSolrInputDocumentProcessor.process(TaxonToSolrInputDocumentProcessor.java:20)\n        at org.powo.job.reindex.TaxonToSolrInputDocumentProcessor.process(TaxonToSolrInputDocumentProcessor.java:13)\n        at org.springframework.batch.core.step.item.SimpleChunkProcessor.doProcess(SimpleChunkProcessor.java:126)\n        at org.springframework.batch.core.step.item.SimpleChunkProcessor.transform(SimpleChunkProcessor.java:303)\n        at org.springframework.batch.core.step.item.SimpleChunkProcessor.process(SimpleChunkProcessor.java:202)\n        at org.springframework.batch.core.step.item.ChunkOrientedTasklet.execute(ChunkOrientedTasklet.java:75)\n        at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:406)\n        at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:330)\n        at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\n        at org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:272)\n        at org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:81)\n        at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:375)\n        at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215)\n        at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:145)\n        at org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:257)\n        at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:200)\n        at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:148)\n        at org.springframework.batch.core.job.flow.JobFlowExecutor.executeStep(JobFlowExecutor.java:66)\n        at org.springframework.batch.core.job.flow.support.state.StepState.handle(StepState.java:67)\n        at org.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:169)\n        at org.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:144)\n        at org.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:136)\n        at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:308)\n        at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:141)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>Here's the <code>ItemProcessor</code> for reference (and within the <code>toSolrInputDocument</code> logic is where the entity relationships are traversed):</p>\n<pre><code>@Component\npublic class TaxonToSolrInputDocumentProcessor implements ItemProcessor&lt;Taxon, SolrInputDocument&gt; {\n  @Autowired\n  private ApplicationContext context;\n\n  @Override\n  public SolrInputDocument process(Taxon item) throws Exception {\n    return item.toSolrInputDocument(context);\n  }\n}\n</code></pre>\n<p>And I'm using an <code>org.springframework.batch.item.database.HibernatePagingItemReader</code> as the reader.</p>\n<h2>What I've tried</h2>\n<p>I've tried the following but none of the solutions have prevented the error above:</p>\n<ul>\n<li>using a <code>JpaPagingItemReader</code> instead of <code>HibernatePagingItemReader</code> but this still has the same issue</li>\n<li>using <code>@Autowired</code> to get a <code>SessionFactory</code> and then doing <code>openSession</code>/<code>closeSession</code> around the code which traverses the entity relationships</li>\n</ul>\n<p>Because of the data model I'm not able to fetch all relationships in one query so I need to use a stateful session (though I would like to fetch some!).</p>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634814782,"creation_date":1634814782,"answer_id":69660918,"question_id":69660546,"body_markdown":"\r\nCheck this line:\r\n```\r\nlist = this.template.query(\r\n          &quot;SELECT NAME FROM country_master WHERE NAME IN (?)&quot;, \r\n           new Object[] { ids },\r\n            new CountryMasterResultSetExtrator()\r\n       );\r\n```\r\n\r\n`NAME IN (?)` is requiring one param and `new Object[] { ids }` has 3 params. try this`NAME IN (?,?,?)`\r\n\r\n\r\ncheck this link for more information:\r\nhttps://www.baeldung.com/spring-jdbctemplate-in-list","title":"select query where in clause problem in spring jdbcTemplate","body":"<p>Check this line:</p>\n<pre><code>list = this.template.query(\n          &quot;SELECT NAME FROM country_master WHERE NAME IN (?)&quot;, \n           new Object[] { ids },\n            new CountryMasterResultSetExtrator()\n       );\n</code></pre>\n<p><code>NAME IN (?)</code> is requiring one param and <code>new Object[] { ids }</code> has 3 params. try this<code>NAME IN (?,?,?)</code></p>\n<p>check this link for more information:\n<a href=\"https://www.baeldung.com/spring-jdbctemplate-in-list\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-jdbctemplate-in-list</a></p>\n"}],"owner":{"account_id":20638794,"reputation":1,"user_id":15151930,"display_name":"Prince"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":545,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634814782,"creation_date":1634813273,"question_id":69660546,"body_markdown":"public class CountryMasterModel {\r\n\tprivate String countryNames[];\r\n\r\n\tpublic String[] getCountryNames() {\r\n\t\treturn countryNames;\r\n\t}\r\n\r\n\tpublic void setCountryNames(String[] countryNames) {\r\n\t\tthis.countryNames = countryNames;\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\npublic interface CountryMasterService {\r\n\t\r\n\tList&lt;String&gt; getCountryData(String compCode, CountryMasterModel model) throws SQLException, DataAccessException;\r\n}\r\n\r\n\r\n\r\n@Component\r\npublic class CountryMasterDAO implements CountryMasterService{\r\n\t\r\n\t\r\n\t@Autowired\r\n\tprivate JdbcTemplate template;\r\n\t\r\n\t@Override\r\n\tpublic List&lt;String&gt; getCountryData(CountryMasterModel model) throws SQLException, DataAccessException {\r\n\t\tthis.template = new JdbcTemplate(DBMSSQL.getDBCon());\r\n\t\tSystem.out.println(template.getDataSource().getConnection().getCatalog());\r\n\t\tList&lt;String&gt; ids = Arrays.asList(model.getCountryNames());\r\n\t\tMapSqlParameterSource parameters = new MapSqlParameterSource();\r\n\t\tparameters.addValue(&quot;countryName&quot;, ids);\r\n\t\tList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\t\tlist = this.template.query(&quot;SELECT NAME FROM country_master WHERE NAME IN (?)&quot;, new Object[] { ids },\r\n\t\t\t\tnew CountryMasterResultSetExtrator());\r\n\t\tSystem.out.println(&quot;ids = &quot; + ids);\r\n\t\tSystem.out.println(&quot;list = &quot; + list.get(0));\r\n\t\treturn list;\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) throws DataAccessException, SQLException {\r\n\t\tCountryMasterModel bean = new CountryMasterModel();\r\n\t\tString a[] = { &quot;India&quot;, &quot;Pakistan&quot;, &quot;Russia&quot;, &quot;America&quot;,};\r\n\t\tbean.setCountryNames(a);\r\n\t\tSystem.out.println(StringUtil.getStringArray(a));\r\n\t\tList&lt;String&gt; list = new CountryMasterDAO().getCountryData(bean);\r\n\t\tSystem.out.println(&quot;List Size = &quot;+list.size());\r\n\t}\r\n}\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eo3fG.jpg","title":"select query where in clause problem in spring jdbcTemplate","body":"<p>public class CountryMasterModel {\nprivate String countryNames[];</p>\n<pre><code>public String[] getCountryNames() {\n    return countryNames;\n}\n\npublic void setCountryNames(String[] countryNames) {\n    this.countryNames = countryNames;\n}\n</code></pre>\n<p>}</p>\n<p>public interface CountryMasterService {</p>\n<pre><code>List&lt;String&gt; getCountryData(String compCode, CountryMasterModel model) throws SQLException, DataAccessException;\n</code></pre>\n<p>}</p>\n<p>@Component\npublic class CountryMasterDAO implements CountryMasterService{</p>\n<pre><code>@Autowired\nprivate JdbcTemplate template;\n\n@Override\npublic List&lt;String&gt; getCountryData(CountryMasterModel model) throws SQLException, DataAccessException {\n    this.template = new JdbcTemplate(DBMSSQL.getDBCon());\n    System.out.println(template.getDataSource().getConnection().getCatalog());\n    List&lt;String&gt; ids = Arrays.asList(model.getCountryNames());\n    MapSqlParameterSource parameters = new MapSqlParameterSource();\n    parameters.addValue(&quot;countryName&quot;, ids);\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n    list = this.template.query(&quot;SELECT NAME FROM country_master WHERE NAME IN (?)&quot;, new Object[] { ids },\n            new CountryMasterResultSetExtrator());\n    System.out.println(&quot;ids = &quot; + ids);\n    System.out.println(&quot;list = &quot; + list.get(0));\n    return list;\n}\n\npublic static void main(String[] args) throws DataAccessException, SQLException {\n    CountryMasterModel bean = new CountryMasterModel();\n    String a[] = { &quot;India&quot;, &quot;Pakistan&quot;, &quot;Russia&quot;, &quot;America&quot;,};\n    bean.setCountryNames(a);\n    System.out.println(StringUtil.getStringArray(a));\n    List&lt;String&gt; list = new CountryMasterDAO().getCountryData(bean);\n    System.out.println(&quot;List Size = &quot;+list.size());\n}\n</code></pre>\n<p>}</p>\n<p><a href=\"https://i.stack.imgur.com/eo3fG.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","jdbc","timeout","dropwizard","jdbi"],"comments":[{"owner":{"account_id":6642900,"reputation":299,"user_id":5128054,"accept_rate":40,"display_name":"YasiuMaster"},"score":1,"creation_date":1476360653,"post_id":40002593,"comment_id":67317903,"body_markdown":"Found that it&#39;s possible to override DefaultStatementBuilder :\nhttps://groups.google.com/forum/#!topic/jdbi/rfxmdLDQtGs","body":"Found that it&#39;s possible to override DefaultStatementBuilder : <a href=\"https://groups.google.com/forum/#!topic/jdbi/rfxmdLDQtGs\" rel=\"nofollow noreferrer\">groups.google.com/forum/#!topic/jdbi/rfxmdLDQtGs</a>"}],"answers":[{"tags":[],"owner":{"account_id":14280010,"reputation":177,"user_id":10314978,"display_name":"KnotGillCup"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570386448,"creation_date":1570386448,"answer_id":58260138,"question_id":40002593,"body_markdown":"You can configure a statement consumer that would inject it for every single statement. It can be set on the configurable JDBC wrapper: org.jdbi.v3.core.Jdbi\r\nSomething like:\r\n\r\n    Jdbi.create(datasource)\r\n    .configure(SqlStatements.class, stmt -&gt; {\r\n        stmt.setQueryTimeout(timeout);\r\n    });","title":"Query timeout for JDBI","body":"<p>You can configure a statement consumer that would inject it for every single statement. It can be set on the configurable JDBC wrapper: org.jdbi.v3.core.Jdbi\nSomething like:</p>\n\n<pre><code>Jdbi.create(datasource)\n.configure(SqlStatements.class, stmt -&gt; {\n    stmt.setQueryTimeout(timeout);\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2846212,"reputation":359,"user_id":2444932,"display_name":"pinaci"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634814697,"creation_date":1634814697,"answer_id":69660892,"question_id":40002593,"body_markdown":"    Approach1:\r\n    @SqlQuery(&quot;select count(1) form table&quot;)\r\n    @QueryTimeout(1)\r\n    int findCount()\r\n    \r\n    Approach2:\r\n    \r\n    getHandle()\r\n    .createQuery(&quot;select count(1) from table&quot;)\r\n    .setQueryTimeout(1)\r\n    .mapTo(Integer.class)","title":"Query timeout for JDBI","body":"<pre><code>Approach1:\n@SqlQuery(&quot;select count(1) form table&quot;)\n@QueryTimeout(1)\nint findCount()\n\nApproach2:\n\ngetHandle()\n.createQuery(&quot;select count(1) from table&quot;)\n.setQueryTimeout(1)\n.mapTo(Integer.class)\n</code></pre>\n"}],"owner":{"account_id":6642900,"reputation":299,"user_id":5128054,"accept_rate":40,"display_name":"YasiuMaster"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3075,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1634814697,"creation_date":1476286283,"question_id":40002593,"body_markdown":"1) Is it possible to set up **global** value of queryTimout for Dropwizard&#39;s JDBI mysql connector? What is the default value? I dont want to use @QueryTimeOut in every single DAO.\r\n\r\n2) And what about java.​sql.​Statement.Connection where is **networkTimeout** parameter, which is defined as: \r\n\r\n&gt; number of milliseconds the driver will wait for a database request to complete. If the limit is exceeded, a SQLException is thrown.\r\n\r\nShould I consider that as a query timeout?\r\n","title":"Query timeout for JDBI","body":"<p>1) Is it possible to set up <strong>global</strong> value of queryTimout for Dropwizard's JDBI mysql connector? What is the default value? I dont want to use @QueryTimeOut in every single DAO.</p>\n\n<p>2) And what about java.​sql.​Statement.Connection where is <strong>networkTimeout</strong> parameter, which is defined as: </p>\n\n<blockquote>\n  <p>number of milliseconds the driver will wait for a database request to complete. If the limit is exceeded, a SQLException is thrown.</p>\n</blockquote>\n\n<p>Should I consider that as a query timeout?</p>\n"},{"tags":["java","android","background","spinner","android-spinner"],"comments":[{"owner":{"account_id":30362,"reputation":54951,"user_id":82788,"accept_rate":80,"display_name":"matiash"},"score":0,"creation_date":1400703299,"post_id":23791080,"comment_id":36594881,"body_markdown":"The &quot;custom adapter&quot; solution is the correct one. What do you mean by &quot;it didn&#39;t work&quot;?","body":"The &quot;custom adapter&quot; solution is the correct one. What do you mean by &quot;it didn&#39;t work&quot;?"},{"owner":{"account_id":4466000,"reputation":3,"user_id":3633632,"display_name":"Dave Lope"},"score":0,"creation_date":1400710485,"post_id":23791080,"comment_id":36598384,"body_markdown":"i get a lot of errors .. like &quot;var&quot; can not be resolved to be a variable.. is that maybe because the guy wrote it for C#? .. example of the errors: [link](http://imgur.com/Bhn0r4p)","body":"i get a lot of errors .. like &quot;var&quot; can not be resolved to be a variable.. is that maybe because the guy wrote it for C#? .. example of the errors: <a href=\"http://imgur.com/Bhn0r4p\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":30362,"reputation":54951,"user_id":82788,"accept_rate":80,"display_name":"matiash"},"score":0,"creation_date":1400710592,"post_id":23791080,"comment_id":36598432,"body_markdown":"The snippet in the question looks like Xamarin, but the answer is Java. You should use that, it works.","body":"The snippet in the question looks like Xamarin, but the answer is Java. You should use that, it works."},{"owner":{"account_id":4466000,"reputation":3,"user_id":3633632,"display_name":"Dave Lope"},"score":0,"creation_date":1400711366,"post_id":23791080,"comment_id":36598700,"body_markdown":"ok, i see.. i could implement the code snipplet now, but of course i have no functionality for the method &quot;getColorFromName&quot; .. can you help me with this?  I only have little java/android experience... I know what i have to do (get the name from the selected spinner item and i.e. if it is &quot;black&quot; i convert it to #000000 ..) but i don&#39;t know how to do this .. in PHP I would have no problems with this :/","body":"ok, i see.. i could implement the code snipplet now, but of course i have no functionality for the method &quot;getColorFromName&quot; .. can you help me with this?  I only have little java/android experience... I know what i have to do (get the name from the selected spinner item and i.e. if it is &quot;black&quot; i convert it to #000000 ..) but i don&#39;t know how to do this .. in PHP I would have no problems with this :/"}],"answers":[{"tags":[],"owner":{"account_id":30362,"reputation":54951,"user_id":82788,"accept_rate":80,"display_name":"matiash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1400713590,"creation_date":1400713590,"answer_id":23795296,"question_id":23791080,"body_markdown":"The adapter from [Customizing spinner&#39;s item background color][1] is precisely what you need. Of course, you need to implement a method returning the desired color for each item of the array.\r\n\r\nIf your input is the color name (i.e., this spinner acts a color picker, you could use [Color.parseColor()][2]. It supports some named colors, plus numeric values.\r\n\r\n&gt; Parse the color string, and return the corresponding color-int. If the\r\n&gt; string cannot be parsed, throws an IllegalArgumentException exception.\r\n&gt; Supported formats are: #RRGGBB #AARRGGBB &#39;red&#39;, &#39;blue&#39;, &#39;green&#39;,\r\n&gt; &#39;black&#39;, &#39;white&#39;, &#39;gray&#39;, &#39;cyan&#39;, &#39;magenta&#39;, &#39;yellow&#39;, &#39;lightgray&#39;,\r\n&gt; &#39;darkgray&#39;, &#39;grey&#39;, &#39;lightgrey&#39;, &#39;darkgrey&#39;, &#39;aqua&#39;, &#39;fuschia&#39;,\r\n&gt; &#39;lime&#39;, &#39;maroon&#39;, &#39;navy&#39;, &#39;olive&#39;, &#39;purple&#39;, &#39;silver&#39;, &#39;teal&#39;\r\n\r\n  [1]: https://stackoverflow.com/a/10374756/82788\r\n  [2]: http://developer.android.com/reference/android/graphics/Color.html#parseColor%28java.lang.String%29","title":"Java Android Spinner Item Background Color","body":"<p>The adapter from <a href=\"https://stackoverflow.com/a/10374756/82788\">Customizing spinner's item background color</a> is precisely what you need. Of course, you need to implement a method returning the desired color for each item of the array.</p>\n\n<p>If your input is the color name (i.e., this spinner acts a color picker, you could use <a href=\"http://developer.android.com/reference/android/graphics/Color.html#parseColor%28java.lang.String%29\" rel=\"nofollow noreferrer\">Color.parseColor()</a>. It supports some named colors, plus numeric values.</p>\n\n<blockquote>\n  <p>Parse the color string, and return the corresponding color-int. If the\n  string cannot be parsed, throws an IllegalArgumentException exception.\n  Supported formats are: #RRGGBB #AARRGGBB 'red', 'blue', 'green',\n  'black', 'white', 'gray', 'cyan', 'magenta', 'yellow', 'lightgray',\n  'darkgray', 'grey', 'lightgrey', 'darkgrey', 'aqua', 'fuschia',\n  'lime', 'maroon', 'navy', 'olive', 'purple', 'silver', 'teal'</p>\n</blockquote>\n"}],"owner":{"account_id":4466000,"reputation":3,"user_id":3633632,"display_name":"Dave Lope"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":870,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":23795296,"answer_count":1,"score":0,"last_activity_date":1634814392,"creation_date":1400696834,"question_id":23791080,"body_markdown":"I want to change the color of an item in a string array / Spinner, but I can&#39;t get it to work.\r\n\r\n\r\nI also found this topic and it seems to be the thing I need:  \r\nhttps://stackoverflow.com/questions/10374675/customizing-spinners-item-background-color\r\n\r\nI tried to implement it (not just copy paste) but it didn&#39;t work.  \r\n\r\nCan someone help me maybe how to implement it the &quot;right way&quot; (I&#39;m not that experienced in Android/Java)\r\n\r\nCan&#39;t I just do something (easier) like this?\r\n\r\n    &lt;string-array name=&quot;test&quot;&gt;\r\n       &lt;item android:backgroundcolor=&quot;#08FF00&quot;&gt;green&lt;/item&gt;\r\n       &lt;item android:backgroundcolor=&quot;#FF0000&quot;&gt;red&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\nI appreciate any help!","title":"Java Android Spinner Item Background Color","body":"<p>I want to change the color of an item in a string array / Spinner, but I can't get it to work.</p>\n<p>I also found this topic and it seems to be the thing I need:<br />\n<a href=\"https://stackoverflow.com/questions/10374675/customizing-spinners-item-background-color\">Customizing spinner&#39;s item background color</a></p>\n<p>I tried to implement it (not just copy paste) but it didn't work.</p>\n<p>Can someone help me maybe how to implement it the &quot;right way&quot; (I'm not that experienced in Android/Java)</p>\n<p>Can't I just do something (easier) like this?</p>\n<pre><code>&lt;string-array name=&quot;test&quot;&gt;\n   &lt;item android:backgroundcolor=&quot;#08FF00&quot;&gt;green&lt;/item&gt;\n   &lt;item android:backgroundcolor=&quot;#FF0000&quot;&gt;red&lt;/item&gt;\n&lt;/string-array&gt;\n</code></pre>\n<p>I appreciate any help!</p>\n"},{"tags":["java","angular","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":287161,"reputation":21286,"user_id":586809,"accept_rate":85,"display_name":"frosty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634743552,"creation_date":1634743552,"answer_id":69648840,"question_id":69648588,"body_markdown":"When you serve with the Angular CLI, you can turn off the CORS piece by adding the `--disable-host-check` flag to the `ng serve` command. Try the following:\r\n\r\n    ng serve --disable-host-check\r\n\r\nThe documentation for that is [HERE][1]. \r\n\r\nThere is also another option you can look at, to be safer, called `--allowed-hosts`, which is an array of hosts you allow to connect from. You could also work with that option to help this work. \r\n\r\nBest of luck. \r\n\r\n\r\n  [1]: https://angular.io/cli/serve","title":"I am getting error 0 in Angular app if I enter from different pc in network","body":"<p>When you serve with the Angular CLI, you can turn off the CORS piece by adding the <code>--disable-host-check</code> flag to the <code>ng serve</code> command. Try the following:</p>\n<pre><code>ng serve --disable-host-check\n</code></pre>\n<p>The documentation for that is <a href=\"https://angular.io/cli/serve\" rel=\"nofollow noreferrer\">HERE</a>.</p>\n<p>There is also another option you can look at, to be safer, called <code>--allowed-hosts</code>, which is an array of hosts you allow to connect from. You could also work with that option to help this work.</p>\n<p>Best of luck.</p>\n"},{"tags":[],"owner":{"account_id":19729838,"reputation":1,"user_id":14445558,"display_name":"Fitim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634748535,"creation_date":1634748535,"answer_id":69650043,"question_id":69648588,"body_markdown":"Issue is fixed. \r\nI did change in angular service from   \r\n\r\n\r\n      private readonly apiUrl = &#39;http://localhost:8080&#39;;\r\n\r\n\r\nto \r\n\r\n    private readonly apiUrl = &#39;http://192.168.0.xxx:8080&#39;;","title":"I am getting error 0 in Angular app if I enter from different pc in network","body":"<p>Issue is fixed.\nI did change in angular service from</p>\n<pre><code>  private readonly apiUrl = 'http://localhost:8080';\n</code></pre>\n<p>to</p>\n<pre><code>private readonly apiUrl = 'http://192.168.0.xxx:8080';\n</code></pre>\n"}],"owner":{"account_id":19729838,"reputation":1,"user_id":14445558,"display_name":"Fitim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634814366,"creation_date":1634742594,"question_id":69648588,"body_markdown":"When I launch app from the pc that is hosted I can see the table.\r\nIf I launch angular app from different pc in lan then I get error 0 in table. \r\n\r\nI saw that could be issue with CORS Java Spring Boot but I am new to it. \r\nIn angular did ng server 192.168.xx --host , i also tried with 0.0.0.0 --host \r\nI did build that and tried with http-server but same issue again. \r\nOnly works in localhost other pc in my lan can&#39;t see data, only the frontend. \r\n \r\n\r\n\r\n\t@Bean\r\n\tpublic CorsFilter corsFilter() {\r\n\t\tUrlBasedCorsConfigurationSource urlBasedCorsConfigurationSource = new UrlBasedCorsConfigurationSource();\r\n\t\tCorsConfiguration corsConfiguration = new CorsConfiguration();\r\n\t\tcorsConfiguration.setAllowCredentials(true);\r\n\t\tcorsConfiguration.setAllowedOrigins(Arrays.asList(&quot;http://localhost:4200&quot;,&quot;http://192.168.0.40:4200&quot;,&quot;http://192.168.0.140:4200&quot;,&quot;http://192.168.0.31:4200&quot;));\r\n\t\tcorsConfiguration.setAllowedHeaders(Arrays.asList(&quot;Origin&quot;, &quot;Access-Control-Allow-Origin&quot;, &quot;Content-Type&quot;,\r\n\t\t\t\t&quot;Accept&quot;, &quot;Jwt-Token&quot;, &quot;Authorization&quot;, &quot;Origin, Accept&quot;, &quot;X-Requested-With&quot;,\r\n\t\t\t\t&quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;));\r\n\t\tcorsConfiguration.setExposedHeaders(Arrays.asList(&quot;Origin&quot;, &quot;Content-Type&quot;, &quot;Accept&quot;, &quot;Jwt-Token&quot;, &quot;Authorization&quot;,\r\n\t\t\t\t&quot;Access-Control-Allow-Origin&quot;, &quot;Access-Control-Allow-Origin&quot;, &quot;Access-Control-Allow-Credentials&quot;, &quot;Filename&quot;));\r\n\t\tcorsConfiguration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\r\n\t\turlBasedCorsConfigurationSource.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\r\n\t\treturn new CorsFilter(urlBasedCorsConfigurationSource);\r\n\t}","title":"I am getting error 0 in Angular app if I enter from different pc in network","body":"<p>When I launch app from the pc that is hosted I can see the table.\nIf I launch angular app from different pc in lan then I get error 0 in table.</p>\n<p>I saw that could be issue with CORS Java Spring Boot but I am new to it.\nIn angular did ng server 192.168.xx --host , i also tried with 0.0.0.0 --host\nI did build that and tried with http-server but same issue again.\nOnly works in localhost other pc in my lan can't see data, only the frontend.</p>\n<pre><code>@Bean\npublic CorsFilter corsFilter() {\n    UrlBasedCorsConfigurationSource urlBasedCorsConfigurationSource = new UrlBasedCorsConfigurationSource();\n    CorsConfiguration corsConfiguration = new CorsConfiguration();\n    corsConfiguration.setAllowCredentials(true);\n    corsConfiguration.setAllowedOrigins(Arrays.asList(&quot;http://localhost:4200&quot;,&quot;http://192.168.0.40:4200&quot;,&quot;http://192.168.0.140:4200&quot;,&quot;http://192.168.0.31:4200&quot;));\n    corsConfiguration.setAllowedHeaders(Arrays.asList(&quot;Origin&quot;, &quot;Access-Control-Allow-Origin&quot;, &quot;Content-Type&quot;,\n            &quot;Accept&quot;, &quot;Jwt-Token&quot;, &quot;Authorization&quot;, &quot;Origin, Accept&quot;, &quot;X-Requested-With&quot;,\n            &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;));\n    corsConfiguration.setExposedHeaders(Arrays.asList(&quot;Origin&quot;, &quot;Content-Type&quot;, &quot;Accept&quot;, &quot;Jwt-Token&quot;, &quot;Authorization&quot;,\n            &quot;Access-Control-Allow-Origin&quot;, &quot;Access-Control-Allow-Origin&quot;, &quot;Access-Control-Allow-Credentials&quot;, &quot;Filename&quot;));\n    corsConfiguration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\n    urlBasedCorsConfigurationSource.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\n    return new CorsFilter(urlBasedCorsConfigurationSource);\n}\n</code></pre>\n"},{"tags":["java","spring","spring-security","websocket","spring-websocket"],"answers":[{"tags":[],"owner":{"account_id":8344609,"reputation":340,"user_id":6268812,"display_name":"AlgorithmFromHell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634814335,"creation_date":1548163498,"answer_id":54309308,"question_id":54307574,"body_markdown":"I remember stumbling across the very same problem in a project I was working on. As I could not figure out the solution using the Spring documentation - and other answers on Stack Overflow were not working for me - I ended up creating a workaround.\r\n\r\nThe trick is essentially to force the application to authenticate the user on a WebSocket connection request. To do that, you need a class which intercepts such events and then once you have control of that, you can call your authentication logic.\r\n\r\nCreate a class which implements Spring&#39;s `ChannelInterceptorAdapter`. Inside this class, you can inject any beans you need to perform the actual authentication. My example uses basic auth:\r\n```\r\n@Component\r\npublic class WebSocketAuthInterceptorAdapter extends ChannelInterceptorAdapter {\r\n\r\n    @Autowired\r\n    private DaoAuthenticationProvider userAuthenticationProvider;\r\n\r\n    @Override\r\n    public Message&lt;?&gt; preSend(final Message&lt;?&gt; message, final MessageChannel channel) throws AuthenticationException {\r\n\r\n        final StompHeaderAccessor accessor = MessageHeaderAccessor.getAccessor(message, StompHeaderAccessor.class);\r\n        StompCommand cmd = accessor.getCommand();\r\n\r\n        if (StompCommand.CONNECT == cmd || StompCommand.SEND == cmd) {\r\n            Authentication authenticatedUser = null;\r\n            String authorization = accessor.getFirstNativeHeader(&quot;Authorization:&quot;);\r\n            String credentialsToDecode = authorization.split(&quot;\\\\s&quot;)[1];\r\n            String credentialsDecoded = StringUtils.newStringUtf8(Base64.decodeBase64(credentialsToDecode));\r\n            String[] credentialsDecodedSplit = credentialsDecoded.split(&quot;:&quot;);\r\n            final String username = credentialsDecodedSplit[0];\r\n            final String password = credentialsDecodedSplit[1];\r\n            authenticatedUser = userAuthenticationProvider.authenticate(new UsernamePasswordAuthenticationToken(username, password));\r\n            if (authenticatedUser == null) {\r\n                throw new AccessDeniedException();\r\n            } \r\n            SecurityContextHolder.getContext().setAuthentication(authenticatedUser);\r\n\t        accessor.setUser(authenticatedUser);\t\r\n        }\r\n        return message;\r\n    }\r\n}\r\n```\r\nThen, in your `WebSocketConfig` class, you need to register your interceptor. Add the above class as a bean and register it. After these changes, your class would look like this:\r\n```\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\npublic class WebSocketConfig extends AbstractWebSocketMessageBrokerConfigurer {\r\n\r\n    @Autowired\r\n    private WebSocketAuthInterceptorAdapter authInterceptorAdapter;\r\n\t\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry config) {\r\n        config.enableSimpleBroker(&quot;/topic&quot;);\r\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/app&quot;).withSockJS();\r\n    }\r\n\t\r\n    @Override\r\n    public void configureClientInboundChannel(ChannelRegistration registration) {\r\n        registration.setInterceptors(authInterceptorAdapter);\r\n        super.configureClientInboundChannel(registration);\r\n    }\r\n}\r\n```\r\nObviously, the details of the authentication logic are up to you. You can call a JWT service or whatever you are using.\r\n","title":"Spring-websockets : Spring security authorization not working inside websockets","body":"<p>I remember stumbling across the very same problem in a project I was working on. As I could not figure out the solution using the Spring documentation - and other answers on Stack Overflow were not working for me - I ended up creating a workaround.</p>\n<p>The trick is essentially to force the application to authenticate the user on a WebSocket connection request. To do that, you need a class which intercepts such events and then once you have control of that, you can call your authentication logic.</p>\n<p>Create a class which implements Spring's <code>ChannelInterceptorAdapter</code>. Inside this class, you can inject any beans you need to perform the actual authentication. My example uses basic auth:</p>\n<pre><code>@Component\npublic class WebSocketAuthInterceptorAdapter extends ChannelInterceptorAdapter {\n\n    @Autowired\n    private DaoAuthenticationProvider userAuthenticationProvider;\n\n    @Override\n    public Message&lt;?&gt; preSend(final Message&lt;?&gt; message, final MessageChannel channel) throws AuthenticationException {\n\n        final StompHeaderAccessor accessor = MessageHeaderAccessor.getAccessor(message, StompHeaderAccessor.class);\n        StompCommand cmd = accessor.getCommand();\n\n        if (StompCommand.CONNECT == cmd || StompCommand.SEND == cmd) {\n            Authentication authenticatedUser = null;\n            String authorization = accessor.getFirstNativeHeader(&quot;Authorization:&quot;);\n            String credentialsToDecode = authorization.split(&quot;\\\\s&quot;)[1];\n            String credentialsDecoded = StringUtils.newStringUtf8(Base64.decodeBase64(credentialsToDecode));\n            String[] credentialsDecodedSplit = credentialsDecoded.split(&quot;:&quot;);\n            final String username = credentialsDecodedSplit[0];\n            final String password = credentialsDecodedSplit[1];\n            authenticatedUser = userAuthenticationProvider.authenticate(new UsernamePasswordAuthenticationToken(username, password));\n            if (authenticatedUser == null) {\n                throw new AccessDeniedException();\n            } \n            SecurityContextHolder.getContext().setAuthentication(authenticatedUser);\n            accessor.setUser(authenticatedUser);    \n        }\n        return message;\n    }\n}\n</code></pre>\n<p>Then, in your <code>WebSocketConfig</code> class, you need to register your interceptor. Add the above class as a bean and register it. After these changes, your class would look like this:</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig extends AbstractWebSocketMessageBrokerConfigurer {\n\n    @Autowired\n    private WebSocketAuthInterceptorAdapter authInterceptorAdapter;\n    \n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.enableSimpleBroker(&quot;/topic&quot;);\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/app&quot;).withSockJS();\n    }\n    \n    @Override\n    public void configureClientInboundChannel(ChannelRegistration registration) {\n        registration.setInterceptors(authInterceptorAdapter);\n        super.configureClientInboundChannel(registration);\n    }\n}\n</code></pre>\n<p>Obviously, the details of the authentication logic are up to you. You can call a JWT service or whatever you are using.</p>\n"},{"tags":[],"owner":{"account_id":16046926,"reputation":155,"user_id":11581816,"display_name":"RukaDo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595728925,"creation_date":1595728925,"answer_id":63095396,"question_id":54307574,"body_markdown":"If you are using SockJS + Stomp and configured your security correctly, you should be able to connect via regular username/pw authenticator like @AlgorithmFromHell and do \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    accessor.setUser(authentication.getPrincipal()) // stomp header accessor\r\n   \r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nYou can also connect via http://{END_POINT}/access_token={ACCESS_TOKEN}. Spring security should be able to pick it and do loadAuthentication(access_token) via ResourceServerTokenServices. When this is done, you can get your principal by adding this to your impl of AbstractSessionWebSocketMessageBrokerConfigurer or WebSocketMessageBrokerConfigurer. When doing this, for some reason, the loaded Pricipal is saved in &quot;simpUser&quot; header instead.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @Override\r\n      public void configureClientInboundChannel(ChannelRegistration registration) {\r\n        registration.interceptors(new ChannelInterceptor() {\r\n          @Override\r\n          public Message&lt;?&gt; preSend(final Message&lt;?&gt; message, final MessageChannel channel) {\r\n            StompHeaderAccessor accessor = MessageHeaderAccessor.getAccessor(message, StompHeaderAccessor.class);\r\n            if (accessor != null &amp;&amp; StompCommand.CONNECT.equals(accessor.getCommand())) {\r\n              if (message.getHeaders().get(&quot;simpUser&quot;) != null &amp;&amp; message.getHeaders().get(&quot;simpUser&quot;) instanceof OAuth2Authentication) { // or Authentication depending on your impl of security\r\n                OAuth2Authentication authentication = (OAuth2Authentication) message.getHeaders().get(&quot;simpUser&quot;);\r\n                accessor.setUser(authentication != null ? (UserDetails) authentication.getPrincipal() : null);\r\n              }\r\n\r\n            }\r\n            return message;\r\n          }\r\n        });\r\n      }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Spring-websockets : Spring security authorization not working inside websockets","body":"<p>If you are using SockJS + Stomp and configured your security correctly, you should be able to connect via regular username/pw authenticator like @AlgorithmFromHell and do</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>accessor.setUser(authentication.getPrincipal()) // stomp header accessor\n   </code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>You can also connect via http://{END_POINT}/access_token={ACCESS_TOKEN}. Spring security should be able to pick it and do loadAuthentication(access_token) via ResourceServerTokenServices. When this is done, you can get your principal by adding this to your impl of AbstractSessionWebSocketMessageBrokerConfigurer or WebSocketMessageBrokerConfigurer. When doing this, for some reason, the loaded Pricipal is saved in &quot;simpUser&quot; header instead.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@Override\n  public void configureClientInboundChannel(ChannelRegistration registration) {\n    registration.interceptors(new ChannelInterceptor() {\n      @Override\n      public Message&lt;?&gt; preSend(final Message&lt;?&gt; message, final MessageChannel channel) {\n        StompHeaderAccessor accessor = MessageHeaderAccessor.getAccessor(message, StompHeaderAccessor.class);\n        if (accessor != null &amp;&amp; StompCommand.CONNECT.equals(accessor.getCommand())) {\n          if (message.getHeaders().get(\"simpUser\") != null &amp;&amp; message.getHeaders().get(\"simpUser\") instanceof OAuth2Authentication) { // or Authentication depending on your impl of security\n            OAuth2Authentication authentication = (OAuth2Authentication) message.getHeaders().get(\"simpUser\");\n            accessor.setUser(authentication != null ? (UserDetails) authentication.getPrincipal() : null);\n          }\n\n        }\n        return message;\n      }\n    });\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":1637644,"reputation":5167,"user_id":1510701,"accept_rate":60,"display_name":"We are Borg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54309308,"answer_count":2,"score":1,"last_activity_date":1634814335,"creation_date":1548157442,"question_id":54307574,"body_markdown":"I am working on a Spring-MVC application in which we have Spring-security for authentication and authorization. We are working on migrating to Spring websockets, but we are having an issue with getting the authenticated user inside a websocket connection. The security context simply doesn&#39;t exist in the websocket connection, but works fine with regular HTTP. What are we doing wrong?\r\n\r\nWebsocketConfig :\r\n\r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    public class WebSocketConfig extends AbstractWebSocketMessageBrokerConfigurer {\r\n    \r\n        @Override\r\n        public void configureMessageBroker(MessageBrokerRegistry config) {\r\n            config.enableSimpleBroker(&quot;/topic&quot;);\r\n            config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n            registry.addEndpoint(&quot;/app&quot;).withSockJS();\r\n        }\r\n    }\r\n\r\n\r\nIn the controller below, we are trying to get the currently authenticated user and it&#39;s always null\r\n\r\n    @Controller\r\n    public class OnlineStatusController extends MasterController{\r\n    \r\n        @MessageMapping(&quot;/onlinestatus&quot;)\r\n        public void onlineStatus(String status) {\r\n            Person user = this.personService.getCurrentlyAuthenticatedUser();\r\n            if(user!=null){\r\n                this.chatService.setOnlineStatus(status, user.getId());\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nsecurity-applicationContext.xml :\r\n\r\n  \r\n\r\n      &lt;security:http pattern=&quot;/resources/**&quot; security=&quot;none&quot;/&gt;\r\n        &lt;security:http pattern=&quot;/org/**&quot; security=&quot;none&quot;/&gt;\r\n        &lt;security:http pattern=&quot;/jquery/**&quot; security=&quot;none&quot;/&gt;\r\n        &lt;security:http create-session=&quot;ifRequired&quot; use-expressions=&quot;true&quot; auto-config=&quot;false&quot; disable-url-rewriting=&quot;true&quot;&gt;\r\n            &lt;security:form-login login-page=&quot;/login&quot; username-parameter=&quot;j_username&quot; password-parameter=&quot;j_password&quot;\r\n                                 login-processing-url=&quot;/j_spring_security_check&quot; default-target-url=&quot;/canvaslisting&quot;\r\n                                 always-use-default-target=&quot;false&quot; authentication-failure-url=&quot;/login?error=auth&quot;/&gt;\r\n            &lt;security:remember-me key=&quot;_spring_security_remember_me&quot; user-service-ref=&quot;userDetailsService&quot;\r\n                                  token-validity-seconds=&quot;1209600&quot; data-source-ref=&quot;dataSource&quot;/&gt;\r\n            &lt;security:logout delete-cookies=&quot;JSESSIONID&quot; invalidate-session=&quot;true&quot; logout-url=&quot;/j_spring_security_logout&quot;/&gt;\r\n            &lt;security:csrf disabled=&quot;true&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;/cometd/**&quot; access=&quot;permitAll&quot; /&gt;\r\n            &lt;security:intercept-url pattern=&quot;/app/**&quot; access=&quot;hasAnyRole(&#39;ROLE_ADMIN&#39;,&#39;ROLE_USER&#39;)&quot; /&gt;\r\n    &lt;!--        &lt;security:intercept-url pattern=&quot;/**&quot; requires-channel=&quot;https&quot;/&gt;--&gt;\r\n            &lt;security:port-mappings&gt;\r\n                &lt;security:port-mapping http=&quot;80&quot; https=&quot;443&quot;/&gt;\r\n            &lt;/security:port-mappings&gt;\r\n            &lt;security:logout logout-url=&quot;/logout&quot; logout-success-url=&quot;/&quot; success-handler-ref=&quot;myLogoutHandler&quot;/&gt;\r\n            &lt;security:session-management session-fixation-protection=&quot;newSession&quot;&gt;\r\n                &lt;security:concurrency-control session-registry-ref=&quot;sessionReg&quot; max-sessions=&quot;5&quot; expired-url=&quot;/login&quot;/&gt;\r\n            &lt;/security:session-management&gt;\r\n        &lt;/security:http&gt;","title":"Spring-websockets : Spring security authorization not working inside websockets","body":"<p>I am working on a Spring-MVC application in which we have Spring-security for authentication and authorization. We are working on migrating to Spring websockets, but we are having an issue with getting the authenticated user inside a websocket connection. The security context simply doesn't exist in the websocket connection, but works fine with regular HTTP. What are we doing wrong?</p>\n\n<p>WebsocketConfig :</p>\n\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig extends AbstractWebSocketMessageBrokerConfigurer {\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.enableSimpleBroker(\"/topic\");\n        config.setApplicationDestinationPrefixes(\"/app\");\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(\"/app\").withSockJS();\n    }\n}\n</code></pre>\n\n<p>In the controller below, we are trying to get the currently authenticated user and it's always null</p>\n\n<pre><code>@Controller\npublic class OnlineStatusController extends MasterController{\n\n    @MessageMapping(\"/onlinestatus\")\n    public void onlineStatus(String status) {\n        Person user = this.personService.getCurrentlyAuthenticatedUser();\n        if(user!=null){\n            this.chatService.setOnlineStatus(status, user.getId());\n        }\n    }\n}\n</code></pre>\n\n<p>security-applicationContext.xml :</p>\n\n<pre><code>  &lt;security:http pattern=\"/resources/**\" security=\"none\"/&gt;\n    &lt;security:http pattern=\"/org/**\" security=\"none\"/&gt;\n    &lt;security:http pattern=\"/jquery/**\" security=\"none\"/&gt;\n    &lt;security:http create-session=\"ifRequired\" use-expressions=\"true\" auto-config=\"false\" disable-url-rewriting=\"true\"&gt;\n        &lt;security:form-login login-page=\"/login\" username-parameter=\"j_username\" password-parameter=\"j_password\"\n                             login-processing-url=\"/j_spring_security_check\" default-target-url=\"/canvaslisting\"\n                             always-use-default-target=\"false\" authentication-failure-url=\"/login?error=auth\"/&gt;\n        &lt;security:remember-me key=\"_spring_security_remember_me\" user-service-ref=\"userDetailsService\"\n                              token-validity-seconds=\"1209600\" data-source-ref=\"dataSource\"/&gt;\n        &lt;security:logout delete-cookies=\"JSESSIONID\" invalidate-session=\"true\" logout-url=\"/j_spring_security_logout\"/&gt;\n        &lt;security:csrf disabled=\"true\"/&gt;\n        &lt;security:intercept-url pattern=\"/cometd/**\" access=\"permitAll\" /&gt;\n        &lt;security:intercept-url pattern=\"/app/**\" access=\"hasAnyRole('ROLE_ADMIN','ROLE_USER')\" /&gt;\n&lt;!--        &lt;security:intercept-url pattern=\"/**\" requires-channel=\"https\"/&gt;--&gt;\n        &lt;security:port-mappings&gt;\n            &lt;security:port-mapping http=\"80\" https=\"443\"/&gt;\n        &lt;/security:port-mappings&gt;\n        &lt;security:logout logout-url=\"/logout\" logout-success-url=\"/\" success-handler-ref=\"myLogoutHandler\"/&gt;\n        &lt;security:session-management session-fixation-protection=\"newSession\"&gt;\n            &lt;security:concurrency-control session-registry-ref=\"sessionReg\" max-sessions=\"5\" expired-url=\"/login\"/&gt;\n        &lt;/security:session-management&gt;\n    &lt;/security:http&gt;\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":1475208,"reputation":4774,"user_id":1385774,"display_name":"RoMEoMusTDiE"},"score":0,"creation_date":1634786181,"post_id":69655426,"comment_id":123120913,"body_markdown":"why can&#39;t you have two queries inside your condition? `IF &lt;select ...&gt; else &lt;select ...&gt;`","body":"why can&#39;t you have two queries inside your condition? <code>IF &lt;select ...&gt; else &lt;select ...&gt;</code>"},{"owner":{"account_id":2043101,"reputation":4295,"user_id":1823822,"accept_rate":29,"display_name":"Joy"},"score":0,"creation_date":1634786328,"post_id":69655426,"comment_id":123120938,"body_markdown":"@maSTAShuFu I am not sure, how will I write the IF clause in my JPA repository. If possible, could you please give a short example? Thanks.","body":"@maSTAShuFu I am not sure, how will I write the IF clause in my JPA repository. If possible, could you please give a short example? Thanks."},{"owner":{"account_id":1475208,"reputation":4774,"user_id":1385774,"display_name":"RoMEoMusTDiE"},"score":0,"creation_date":1634786505,"post_id":69655426,"comment_id":123120963,"body_markdown":"https://stackoverflow.com/questions/14097652/conditional-where-clause-in-jpa-criteria-query","body":"<a href=\"https://stackoverflow.com/questions/14097652/conditional-where-clause-in-jpa-criteria-query\" title=\"conditional where clause in jpa criteria query\">stackoverflow.com/questions/14097652/&hellip;</a>"},{"owner":{"account_id":2043101,"reputation":4295,"user_id":1823822,"accept_rate":29,"display_name":"Joy"},"score":0,"creation_date":1634786795,"post_id":69655426,"comment_id":123121022,"body_markdown":"@maSTAShuFu I went through the link. But as of now, all queries in the JPA repository are native, wherein several queries I have been doing the changes. Criteria builder has not been used so far. I am thinking, in order to follow the approach as suggested in the link, I have to make a considerable amount of changes. So I am wondering if there is any way to achieve this with the help of native query.","body":"@maSTAShuFu I went through the link. But as of now, all queries in the JPA repository are native, wherein several queries I have been doing the changes. Criteria builder has not been used so far. I am thinking, in order to follow the approach as suggested in the link, I have to make a considerable amount of changes. So I am wondering if there is any way to achieve this with the help of native query."},{"owner":{"account_id":3719338,"reputation":12130,"user_id":3094731,"accept_rate":56,"display_name":"Abdullah Khan"},"score":0,"creation_date":1634787884,"post_id":69655426,"comment_id":123121196,"body_markdown":"Why don&#39;t you just do an inner join?","body":"Why don&#39;t you just do an inner join?"},{"owner":{"account_id":2043101,"reputation":4295,"user_id":1823822,"accept_rate":29,"display_name":"Joy"},"score":0,"creation_date":1634788107,"post_id":69655426,"comment_id":123121238,"body_markdown":"Actually not all the rows in A, associated with a row in B. In the result, I want all the rows in A, regardless if it matches or not with a row in B. That&#39;s why I need to do left outer join. I want to do this left outer join only if the toJoin flag is true in the application as mentioned in OP.","body":"Actually not all the rows in A, associated with a row in B. In the result, I want all the rows in A, regardless if it matches or not with a row in B. That&#39;s why I need to do left outer join. I want to do this left outer join only if the toJoin flag is true in the application as mentioned in OP."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1634790598,"post_id":69655426,"comment_id":123121656,"body_markdown":"What is the intention of `when 1=2`?","body":"What is the intention of <code>when 1=2</code>?"},{"owner":{"account_id":2043101,"reputation":4295,"user_id":1823822,"accept_rate":29,"display_name":"Joy"},"score":0,"creation_date":1634790706,"post_id":69655426,"comment_id":123121675,"body_markdown":"when 1=2, is just a representative condition. Its intent is to skip the join when the associated condition is false.","body":"when 1=2, is just a representative condition. Its intent is to skip the join when the associated condition is false."},{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":0,"creation_date":1634792968,"post_id":69655426,"comment_id":123122032,"body_markdown":"*I would like to do A left outer join B with the where condition, only if a given flag toJoin is true in application* Noway in SQL. The output structure is always definite and static whereas you want to obtain different output structure depends on the condition. Solution - test this flag in the application and execute the query either with or without JOINing depends on the flag value.","body":"<i>I would like to do A left outer join B with the where condition, only if a given flag toJoin is true in application</i> Noway in SQL. The output structure is always definite and static whereas you want to obtain different output structure depends on the condition. Solution - test this flag in the application and execute the query either with or without JOINing depends on the flag value."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1634796838,"post_id":69655426,"comment_id":123122941,"body_markdown":"Since you are not selecting from table B, why join to it? Did you mean to `select a.id, b.someColumn` ?","body":"Since you are not selecting from table B, why join to it? Did you mean to <code>select a.id, b.someColumn</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634813890,"creation_date":1634813890,"answer_id":69660696,"question_id":69655426,"body_markdown":"Your question remains vague, however I suspect that your effort:\r\n\r\n    select a.id\r\n    from A a, case when 1=2 then left outer join B b on a.id = b.aid end\r\n    limit 2\r\n\r\nIs meant to be:\r\n\r\n    select a.id, b.someColumn\r\n    from A a\r\n    left join B b on a.id = b.aid and 1=2\r\n    limit 2\r\n\r\nWhere `1=2` is actually some more complicated expression.\r\n","title":"Do left outer join only if condition satisfies in JPA","body":"<p>Your question remains vague, however I suspect that your effort:</p>\n<pre><code>select a.id\nfrom A a, case when 1=2 then left outer join B b on a.id = b.aid end\nlimit 2\n</code></pre>\n<p>Is meant to be:</p>\n<pre><code>select a.id, b.someColumn\nfrom A a\nleft join B b on a.id = b.aid and 1=2\nlimit 2\n</code></pre>\n<p>Where <code>1=2</code> is actually some more complicated expression.</p>\n"}],"owner":{"account_id":2043101,"reputation":4295,"user_id":1823822,"accept_rate":29,"display_name":"Joy"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634813890,"creation_date":1634786008,"question_id":69655426,"body_markdown":"I am new to JPA and trying to do a left outer join, only if a condition is satisfied in the native JPA query. \r\n\r\n\r\nNative query is as shown below. Here I would like to do `A left outer join B` with the where condition, only if a given flag `toJoin` is true in application:\r\n\r\n\r\n    select a.id, a.name from A left outer join B on A.id = B.aid where b.name=&quot;some_name&quot;\r\n\r\nI am not sure, how will I accommodate the `toJoin` application flag in the above native JPA query in my JPA repository.\r\n\r\n**EDIT**\r\n\r\nI was just trying to achieve the same in mysql with the help of `CASE WHEN` and sample condition as follows:\r\n\r\n    select a.id from A a, case when 1=2 then left outer join B b ON a.id = b.aid end limit 2;\r\n\r\nBut I am getting syntaxt error.","title":"Do left outer join only if condition satisfies in JPA","body":"<p>I am new to JPA and trying to do a left outer join, only if a condition is satisfied in the native JPA query.</p>\n<p>Native query is as shown below. Here I would like to do <code>A left outer join B</code> with the where condition, only if a given flag <code>toJoin</code> is true in application:</p>\n<pre><code>select a.id, a.name from A left outer join B on A.id = B.aid where b.name=&quot;some_name&quot;\n</code></pre>\n<p>I am not sure, how will I accommodate the <code>toJoin</code> application flag in the above native JPA query in my JPA repository.</p>\n<p><strong>EDIT</strong></p>\n<p>I was just trying to achieve the same in mysql with the help of <code>CASE WHEN</code> and sample condition as follows:</p>\n<pre><code>select a.id from A a, case when 1=2 then left outer join B b ON a.id = b.aid end limit 2;\n</code></pre>\n<p>But I am getting syntaxt error.</p>\n"},{"tags":["java","pdf","itext","pdfbox","itext7"],"comments":[{"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"score":1,"creation_date":1633961508,"post_id":69527470,"comment_id":122892506,"body_markdown":"Hmmm, removing a watermark doesn&#39;t sound very legitimate.. Besides, it&#39;s tough for us to give you code for how to match something if we don&#39;t really have examples of what needs to be matched and don&#39;t know what you&#39;re after in the PDF.","body":"Hmmm, removing a watermark doesn&#39;t sound very legitimate.. Besides, it&#39;s tough for us to give you code for how to match something if we don&#39;t really have examples of what needs to be matched and don&#39;t know what you&#39;re after in the PDF."},{"owner":{"account_id":16104341,"reputation":15,"user_id":11624211,"display_name":"Akhil NagaSai"},"score":0,"creation_date":1634022563,"post_id":69527470,"comment_id":122907959,"body_markdown":"@xtralic, If there are Texts like this regex - &quot;{{This text should be removed}}&quot; , if I try to remove this text using the code I&#39;ve mentioned, Only the &quot;{{T&quot; is stored in recentChars and then &quot;his text should be rem&quot; in the next recentChars array and finally &quot;oved}}&quot; is coming. So if I want to search a text using the regex, I can&#39;t replace/remove the text I&#39;ve explained here. Did you understand my question?","body":"@xtralic, If there are Texts like this regex - &quot;{{This text should be removed}}&quot; , if I try to remove this text using the code I&#39;ve mentioned, Only the &quot;{{T&quot; is stored in recentChars and then &quot;his text should be rem&quot; in the next recentChars array and finally &quot;oved}}&quot; is coming. So if I want to search a text using the regex, I can&#39;t replace/remove the text I&#39;ve explained here. Did you understand my question?"},{"owner":{"account_id":16104341,"reputation":15,"user_id":11624211,"display_name":"Akhil NagaSai"},"score":0,"creation_date":1634022651,"post_id":69527470,"comment_id":122907992,"body_markdown":"@KJ I&#39;m not talking about watermarks here, I just want to remove some text which matches some regex, But since whole text is not getting recognized at once, I&#39;m stuck how to go further. Awaiting your reply!!","body":"@KJ I&#39;m not talking about watermarks here, I just want to remove some text which matches some regex, But since whole text is not getting recognized at once, I&#39;m stuck how to go further. Awaiting your reply!!"}],"answers":[{"tags":[],"owner":{"account_id":11971147,"reputation":131,"user_id":8759614,"display_name":"Dmitry Chubrick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634813870,"creation_date":1634813870,"answer_id":69660691,"question_id":69527470,"body_markdown":"You can use pdfSweep (iText 7 add-on) that removes or redacts information from a PDF document.\r\nFor more information see https://itextpdf.com/en/products/itext-7/pdf-redaction-pdfsweep\r\n\r\nThe code which removes &quot;Text which is to be replace&quot; text from PDF document on Java with using of PdfSweep looks like this:\r\n\r\n    try (PdfDocument pdf = new PdfDocument(new PdfReader(&quot;Path to source file&quot;), new PdfWriter(&quot;Path to out file&quot;))) {\r\n        ICleanupStrategy cleanupStrategy = new RegexBasedCleanupStrategy(&quot;Text which is to be replace&quot;)\r\n            .setRedactionColor(ColorConstants.WHITE);\r\n        PdfCleaner.autoSweepCleanUp(pdf, cleanupStrategy);\r\n    }","title":"How to remove/replace a specific text in pdf, If the text to replace is drawn using multiple instructions following each other?","body":"<p>You can use pdfSweep (iText 7 add-on) that removes or redacts information from a PDF document.\nFor more information see <a href=\"https://itextpdf.com/en/products/itext-7/pdf-redaction-pdfsweep\" rel=\"nofollow noreferrer\">https://itextpdf.com/en/products/itext-7/pdf-redaction-pdfsweep</a></p>\n<p>The code which removes &quot;Text which is to be replace&quot; text from PDF document on Java with using of PdfSweep looks like this:</p>\n<pre><code>try (PdfDocument pdf = new PdfDocument(new PdfReader(&quot;Path to source file&quot;), new PdfWriter(&quot;Path to out file&quot;))) {\n    ICleanupStrategy cleanupStrategy = new RegexBasedCleanupStrategy(&quot;Text which is to be replace&quot;)\n        .setRedactionColor(ColorConstants.WHITE);\n    PdfCleaner.autoSweepCleanUp(pdf, cleanupStrategy);\n}\n</code></pre>\n"}],"owner":{"account_id":16104341,"reputation":15,"user_id":11624211,"display_name":"Akhil NagaSai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":528,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634813870,"creation_date":1633960842,"question_id":69527470,"body_markdown":"I&#39;ve tried the following code. It works fine, but only for limited cases like if the text is added with a single instruction. How to do this if the text is added in multiple instructions. Can anyone help me out with this?\r\n\r\n\r\n\r\n\r\n```PDDocument document = ...\r\nfor (PDPage page : document.getDocumentCatalog().getPages()) {\r\n    PdfContentStreamEditor editor = new PdfContentStreamEditor(document, page) {\r\n        final StringBuilder recentChars = new StringBuilder();\r\n        @Override\r\n        protected void showGlyph(Matrix textRenderingMatrix, PDFont font, int code, Vector displacement)\r\n                throws IOException {\r\n            String string = font.toUnicode(code);\r\n            if (string != null)\r\n                recentChars.append(string);\r\n\r\n            super.showGlyph(textRenderingMatrix, font, code, displacement);\r\n        }\r\n\r\n        @Override\r\n        protected void write(ContentStreamWriter contentStreamWriter, Operator operator, List&lt;COSBase&gt; operands) throws IOException {\r\n            String recentText = recentChars.toString();\r\n            recentChars.setLength(0);\r\n            String operatorString = operator.getName();\r\n\r\n            if (TEXT_SHOWING_OPERATORS.contains(operatorString) &amp;&amp; &quot;Text which is to be replace&quot;.equals(recentText))\r\n            {\r\n                return;\r\n            }\r\n\r\n            super.write(contentStreamWriter, operator, operands);\r\n        }\r\n\r\n        final List&lt;String&gt; TEXT_SHOWING_OPERATORS = Arrays.asList(&quot;Tj&quot;, &quot;&#39;&quot;, &quot;\\&quot;&quot;, &quot;TJ&quot;);\r\n    };\r\n    editor.processPage(page);\r\n}\r\ndocument.save(&quot;watermark-RemoveByText.pdf&quot;);```","title":"How to remove/replace a specific text in pdf, If the text to replace is drawn using multiple instructions following each other?","body":"<p>I've tried the following code. It works fine, but only for limited cases like if the text is added with a single instruction. How to do this if the text is added in multiple instructions. Can anyone help me out with this?</p>\n<pre><code>for (PDPage page : document.getDocumentCatalog().getPages()) {\n    PdfContentStreamEditor editor = new PdfContentStreamEditor(document, page) {\n        final StringBuilder recentChars = new StringBuilder();\n        @Override\n        protected void showGlyph(Matrix textRenderingMatrix, PDFont font, int code, Vector displacement)\n                throws IOException {\n            String string = font.toUnicode(code);\n            if (string != null)\n                recentChars.append(string);\n\n            super.showGlyph(textRenderingMatrix, font, code, displacement);\n        }\n\n        @Override\n        protected void write(ContentStreamWriter contentStreamWriter, Operator operator, List&lt;COSBase&gt; operands) throws IOException {\n            String recentText = recentChars.toString();\n            recentChars.setLength(0);\n            String operatorString = operator.getName();\n\n            if (TEXT_SHOWING_OPERATORS.contains(operatorString) &amp;&amp; &quot;Text which is to be replace&quot;.equals(recentText))\n            {\n                return;\n            }\n\n            super.write(contentStreamWriter, operator, operands);\n        }\n\n        final List&lt;String&gt; TEXT_SHOWING_OPERATORS = Arrays.asList(&quot;Tj&quot;, &quot;'&quot;, &quot;\\&quot;&quot;, &quot;TJ&quot;);\n    };\n    editor.processPage(page);\n}\ndocument.save(&quot;watermark-RemoveByText.pdf&quot;);```\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1634813791,"creation_date":1634813487,"answer_id":69660601,"question_id":69660071,"body_markdown":"You need check this link on own gradle docs: \r\nhttps://docs.gradle.org/current/userguide/multi_project_builds.html\r\n\r\nYou need need put both project into a root folder:\r\n```\r\n.\r\n├── build.gradle    # all configurations for all modules, projects\r\n├── settings.gradle # declaring all modules\r\n│\r\n├── stockie        # module 1\r\n│   ├── src/main/java\r\n│   └── build.gradle # build.gradle file from module 1\r\n│\r\n│\r\n└── stockie-front # module 2\r\n    ├── src/main/java\r\n    └── build.gradle # build.gradle file from module 2\r\n\r\n```\r\n\r\ndeclare all module in `settings.gradle` from root folder contains all module folder\r\n\r\n```\r\ninclude (\r\n    &quot;stokie&quot;, // name module 1 ( same name folder )\r\n    &quot;stockie-front&quot; // name module 2 ( same name folder )\r\n)\r\n```\r\n\r\nif you need import any module into other module as dependencie add in `new-module-folder/build.gradle`\r\n\r\n```\r\ndependencies {\r\n   implementation project(&quot;:my-module&quot;) // start with :\r\n   implementation project(&quot;:stokie&quot;) //eg. import stokie module into new-module-folder\r\n}\r\n\r\n```\r\n\r\nrunning task in root folder\r\n```bash\r\ngradle build # will build all modules\r\ngradle :stokie:build # build only stokie module\r\ngradle :stokie:clean build # clean and build only stokie module\r\n```\r\n\r\n\r\n","title":"Multiple projects within one gradle project","body":"<p>You need check this link on own gradle docs:\n<a href=\"https://docs.gradle.org/current/userguide/multi_project_builds.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/multi_project_builds.html</a></p>\n<p>You need need put both project into a root folder:</p>\n<pre><code>.\n├── build.gradle    # all configurations for all modules, projects\n├── settings.gradle # declaring all modules\n│\n├── stockie        # module 1\n│   ├── src/main/java\n│   └── build.gradle # build.gradle file from module 1\n│\n│\n└── stockie-front # module 2\n    ├── src/main/java\n    └── build.gradle # build.gradle file from module 2\n\n</code></pre>\n<p>declare all module in <code>settings.gradle</code> from root folder contains all module folder</p>\n<pre><code>include (\n    &quot;stokie&quot;, // name module 1 ( same name folder )\n    &quot;stockie-front&quot; // name module 2 ( same name folder )\n)\n</code></pre>\n<p>if you need import any module into other module as dependencie add in <code>new-module-folder/build.gradle</code></p>\n<pre><code>dependencies {\n   implementation project(&quot;:my-module&quot;) // start with :\n   implementation project(&quot;:stokie&quot;) //eg. import stokie module into new-module-folder\n}\n\n</code></pre>\n<p>running task in root folder</p>\n<pre class=\"lang-sh prettyprint-override\"><code>gradle build # will build all modules\ngradle :stokie:build # build only stokie module\ngradle :stokie:clean build # clean and build only stokie module\n</code></pre>\n"}],"owner":{"account_id":8117081,"reputation":701,"user_id":6115246,"accept_rate":57,"display_name":"Druckermann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2829,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69660601,"answer_count":1,"score":0,"last_activity_date":1634813791,"creation_date":1634811304,"question_id":69660071,"body_markdown":"I could not find any hints on how to do this in the gradle documentation because I&#39;m still a beginner at working with Java and Gradle.\r\n\r\nI&#39;m currently using IntelliJ IDEA and I want to create an application with a backend and frontend where both of them are able to stand alone.\r\nInside my project explorer my current project looks like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nStockie is the main class and depends on the Indicators class and I want to create a second app called Stockie-Frontend which will be a JavaFX application itself. \r\n\r\nWhere should I put this according to convention?\r\n\r\nMany thanks in advance.\r\n\r\n  [1]: https://i.stack.imgur.com/emwmQ.png","title":"Multiple projects within one gradle project","body":"<p>I could not find any hints on how to do this in the gradle documentation because I'm still a beginner at working with Java and Gradle.</p>\n<p>I'm currently using IntelliJ IDEA and I want to create an application with a backend and frontend where both of them are able to stand alone.\nInside my project explorer my current project looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/emwmQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/emwmQ.png\" alt=\"enter image description here\" /></a></p>\n<p>Stockie is the main class and depends on the Indicators class and I want to create a second app called Stockie-Frontend which will be a JavaFX application itself.</p>\n<p>Where should I put this according to convention?</p>\n<p>Many thanks in advance.</p>\n"},{"tags":["java","eclipse","fedora"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1633347917,"post_id":69435203,"comment_id":122727318,"body_markdown":"What version of Eclipse is this? I don&#39;t know of any release that uses ICU 65.1 and JNA 5.4","body":"What version of Eclipse is this? I don&#39;t know of any release that uses ICU 65.1 and JNA 5.4"},{"owner":{"account_id":8490553,"reputation":779,"user_id":6367039,"display_name":"HOERNSCHEN"},"score":0,"creation_date":1633347987,"post_id":69435203,"comment_id":122727349,"body_markdown":"Version: 2021-03 (4.19)\nBuild id: X20210311-1732","body":"Version: 2021-03 (4.19) Build id: X20210311-1732"},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1633351998,"post_id":69435203,"comment_id":122728992,"body_markdown":"The X prefix on the Build Id is not a normal Eclipse prefix (should be P, M, I, S, or R). Where did this build come from?","body":"The X prefix on the Build Id is not a normal Eclipse prefix (should be P, M, I, S, or R). Where did this build come from?"},{"owner":{"account_id":8490553,"reputation":779,"user_id":6367039,"display_name":"HOERNSCHEN"},"score":0,"creation_date":1633356317,"post_id":69435203,"comment_id":122730952,"body_markdown":"I installed it using dnf install eclipse as shown here: https://developer.fedoraproject.org/tools/eclipse/about.html","body":"I installed it using dnf install eclipse as shown here: <a href=\"https://developer.fedoraproject.org/tools/eclipse/about.html\" rel=\"nofollow noreferrer\">developer.fedoraproject.org/tools/eclipse/about.html</a>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1633359046,"post_id":69435203,"comment_id":122732253,"body_markdown":"That seems only the Eclipse SDK (without Git, Maven, etc). Better get an [official Eclipse IDE package](https://www.eclipse.org/downloads/packages/). Also available via [Flathub](https://flathub.org/apps/details/org.eclipse.Java).","body":"That seems only the Eclipse SDK (without Git, Maven, etc). Better get an <a href=\"https://www.eclipse.org/downloads/packages/\" rel=\"nofollow noreferrer\">official Eclipse IDE package</a>. Also available via <a href=\"https://flathub.org/apps/details/org.eclipse.Java\" rel=\"nofollow noreferrer\">Flathub</a>."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1633359628,"post_id":69435203,"comment_id":122732557,"body_markdown":"That, or the Fedora packages have been reorganized and you need to see what other `eclipse-*` packages are available and should be installed using `dnf search eclipse`.","body":"That, or the Fedora packages have been reorganized and you need to see what other <code>eclipse-*</code> packages are available and should be installed using <code>dnf search eclipse</code>."},{"owner":{"account_id":8490553,"reputation":779,"user_id":6367039,"display_name":"HOERNSCHEN"},"score":0,"creation_date":1633362040,"post_id":69435203,"comment_id":122733678,"body_markdown":"@nitind I just tried out multiple of these eclipse packages that sounded like they could be related but that sadly didn&#39;t fix the error.","body":"@nitind I just tried out multiple of these eclipse packages that sounded like they could be related but that sadly didn&#39;t fix the error."}],"answers":[{"tags":[],"owner":{"account_id":8490553,"reputation":779,"user_id":6367039,"display_name":"HOERNSCHEN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634813647,"creation_date":1634813647,"answer_id":69660646,"question_id":69435203,"body_markdown":"So I did some digging. As mentioned in [this][1] article Red Hat has some problems in maintaining Maven-related packages. Probably the Eclipse package won&#39;t be part of Fedora 35 anymore.\r\n\r\nI tried using Flathub as advised in the comments under my question by @howIger but ran into some problems with the sandbox of Flathub. I debug my application directly in docker and Flathub has no access to the /usr folder which was necessary for my case.\r\n\r\nSo in the end I installed Eclipse from source as described in [this][2] older article.\r\n\r\n\r\n  [1]: https://www.phoronix.com/scan.php?page=news_item&amp;px=Fedora-Java-Rough-Shape\r\n  [2]: https://tecadmin.net/install-eclipse-fedora/","title":"Eclipse missing Plugins after Fedora 34 upgrade - Error on reinstalling","body":"<p>So I did some digging. As mentioned in <a href=\"https://www.phoronix.com/scan.php?page=news_item&amp;px=Fedora-Java-Rough-Shape\" rel=\"nofollow noreferrer\">this</a> article Red Hat has some problems in maintaining Maven-related packages. Probably the Eclipse package won't be part of Fedora 35 anymore.</p>\n<p>I tried using Flathub as advised in the comments under my question by @howIger but ran into some problems with the sandbox of Flathub. I debug my application directly in docker and Flathub has no access to the /usr folder which was necessary for my case.</p>\n<p>So in the end I installed Eclipse from source as described in <a href=\"https://tecadmin.net/install-eclipse-fedora/\" rel=\"nofollow noreferrer\">this</a> older article.</p>\n"}],"owner":{"account_id":8490553,"reputation":779,"user_id":6367039,"display_name":"HOERNSCHEN"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69660646,"answer_count":1,"score":0,"last_activity_date":1634813647,"creation_date":1633346884,"question_id":69435203,"body_markdown":"Yesterday I upgraded to Fedora 34. Today I realized that my Eclipse is missing all its plugins. I had a similar issue with my last upgrade and fixed it be reinstalling all plugins. But this time I always get these kinds of errors:\r\n\r\n```\r\nAn error occurred while collecting items to be installed\r\nsession context was:(profile=SDKProfile, phase=org.eclipse.equinox.internal.p2.engine.phases.Collect, operand=, action=).\r\nNo repository found containing: osgi.bundle,com.ibm.icu,65.1.0\r\nNo repository found containing: osgi.bundle,com.sun.jna,5.4.0\r\nNo repository found containing: osgi.bundle,com.sun.jna.platform,5.4.0\r\nNo repository found containing: osgi.bundle,org.apache.batik.constants,1.13.0\r\nNo repository found containing: osgi.bundle,org.apache.batik.css,1.13.0\r\nNo repository found containing: osgi.bundle,org.apache.batik.i18n,1.13.0\r\nNo repository found containing: osgi.bundle,org.apache.batik.util,1.13.0\r\nNo repository found containing: osgi.bundle,org.apache.commons.codec,1.13.0\r\nNo repository found containing: osgi.bundle,org.apache.commons.io,2.6.0\r\n```\r\n\r\nI already removed all the available software sites in the preferences and deleted the .eclipse folder in my home directory. That sadly didn&#39;t help. What do I have to do?\r\n\r\nVersion: 2021-03 (4.19) Build id: X20210311-1732","title":"Eclipse missing Plugins after Fedora 34 upgrade - Error on reinstalling","body":"<p>Yesterday I upgraded to Fedora 34. Today I realized that my Eclipse is missing all its plugins. I had a similar issue with my last upgrade and fixed it be reinstalling all plugins. But this time I always get these kinds of errors:</p>\n<pre><code>An error occurred while collecting items to be installed\nsession context was:(profile=SDKProfile, phase=org.eclipse.equinox.internal.p2.engine.phases.Collect, operand=, action=).\nNo repository found containing: osgi.bundle,com.ibm.icu,65.1.0\nNo repository found containing: osgi.bundle,com.sun.jna,5.4.0\nNo repository found containing: osgi.bundle,com.sun.jna.platform,5.4.0\nNo repository found containing: osgi.bundle,org.apache.batik.constants,1.13.0\nNo repository found containing: osgi.bundle,org.apache.batik.css,1.13.0\nNo repository found containing: osgi.bundle,org.apache.batik.i18n,1.13.0\nNo repository found containing: osgi.bundle,org.apache.batik.util,1.13.0\nNo repository found containing: osgi.bundle,org.apache.commons.codec,1.13.0\nNo repository found containing: osgi.bundle,org.apache.commons.io,2.6.0\n</code></pre>\n<p>I already removed all the available software sites in the preferences and deleted the .eclipse folder in my home directory. That sadly didn't help. What do I have to do?</p>\n<p>Version: 2021-03 (4.19) Build id: X20210311-1732</p>\n"},{"tags":["java","spring","jms","activemq","spring-jms"],"comments":[{"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"score":0,"creation_date":1441993985,"post_id":32528214,"comment_id":52916779,"body_markdown":"Is it the same when you are using it on localhost? I would try to test it with other JMS provider to narrow down on which side of communication is problem (if it&#39;s not some lower level problem: e.g. transport layer).","body":"Is it the same when you are using it on localhost? I would try to test it with other JMS provider to narrow down on which side of communication is problem (if it&#39;s not some lower level problem: e.g. transport layer)."},{"owner":{"account_id":235935,"reputation":3935,"user_id":503095,"accept_rate":50,"display_name":"Dhananjay"},"score":0,"creation_date":1441994914,"post_id":32528214,"comment_id":52917252,"body_markdown":"@Ikrnac No producer java client , activemq broker sits on different physical boxes. It can be a transport layer problem I agree, what I am looking at is there any best way to have good reliability with decent performance","body":"@Ikrnac No producer java client , activemq broker sits on different physical boxes. It can be a transport layer problem I agree, what I am looking at is there any best way to have good reliability with decent performance"},{"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"score":0,"creation_date":1441995872,"post_id":32528214,"comment_id":52917758,"body_markdown":"I was suggesting some investigation approaches. To prove it&#39;s not transport layer, locate them on same machine. If it is not transport layer, change JMS provider (e.g. HornetQ is easy to use) to find out if Spring or ActiveMQ is causing problems.","body":"I was suggesting some investigation approaches. To prove it&#39;s not transport layer, locate them on same machine. If it is not transport layer, change JMS provider (e.g. HornetQ is easy to use) to find out if Spring or ActiveMQ is causing problems."},{"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"score":0,"creation_date":1441995992,"post_id":32528214,"comment_id":52917829,"body_markdown":"BTW, I bet this is something Stack Overflow can&#39;t help you with","body":"BTW, I bet this is something Stack Overflow can&#39;t help you with"},{"owner":{"account_id":5523724,"reputation":22000,"user_id":4385895,"accept_rate":58,"display_name":"Vasu"},"score":0,"creation_date":1442101211,"post_id":32528214,"comment_id":52946574,"body_markdown":"Can you provide the code ? Are you using persistence?","body":"Can you provide the code ? Are you using persistence?"}],"answers":[{"tags":[],"owner":{"account_id":179840,"reputation":22133,"user_id":412763,"accept_rate":91,"display_name":"Petter Nordlander"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1442131154,"creation_date":1442131154,"answer_id":32547563,"question_id":32528214,"body_markdown":"A bit of speculation as the question is not very detailed but anyway.\r\n\r\nDepending on configuration, ActiveMQ might have memory limits on queues (might as well differ between persistent and non persistent messages). So when memory is up, your `asyncSend` calls will ignore warnings and continue to deliver messages to the &quot;black hole&quot; until memory is freed by the consumer.\r\n\r\nThere is no silver bullet to allow max performance and max reliability. Unfortunately.\r\n\r\nHowever, I would try setting a `producerWindowSize` on the connection factory to allow some specified amount of data before a broker ack is received. Exact value is something you need to try out and depends on scenario as well as broker config/resources.","title":"Sending large number of messages using spring jmsTemplate","body":"<p>A bit of speculation as the question is not very detailed but anyway.</p>\n\n<p>Depending on configuration, ActiveMQ might have memory limits on queues (might as well differ between persistent and non persistent messages). So when memory is up, your <code>asyncSend</code> calls will ignore warnings and continue to deliver messages to the \"black hole\" until memory is freed by the consumer.</p>\n\n<p>There is no silver bullet to allow max performance and max reliability. Unfortunately.</p>\n\n<p>However, I would try setting a <code>producerWindowSize</code> on the connection factory to allow some specified amount of data before a broker ack is received. Exact value is something you need to try out and depends on scenario as well as broker config/resources.</p>\n"},{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634813351,"creation_date":1634813351,"answer_id":69660571,"question_id":32528214,"body_markdown":"I solved this using a [ProducerCallback](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/core/ProducerCallback.html)\r\n\r\n```\r\nList&lt;String&gt; messageTexts = prepareListOfMessaeTexts();\r\nProducerCallback producerCallback = (session, producer) -&gt; {\r\n\tTopic destination = session.createTopic(myTopicName);\r\n\tfor (String messageText : myMessagmessageTextseBodies) {\r\n\t\tproducer.send(destination, session.createTextMessage(messageText));\r\n\t}\r\n\treturn null;\r\n};\r\njmsTemplate.execute(producerCallback);\r\n```","title":"Sending large number of messages using spring jmsTemplate","body":"<p>I solved this using a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/core/ProducerCallback.html\" rel=\"nofollow noreferrer\">ProducerCallback</a></p>\n<pre><code>List&lt;String&gt; messageTexts = prepareListOfMessaeTexts();\nProducerCallback producerCallback = (session, producer) -&gt; {\n    Topic destination = session.createTopic(myTopicName);\n    for (String messageText : myMessagmessageTextseBodies) {\n        producer.send(destination, session.createTextMessage(messageText));\n    }\n    return null;\n};\njmsTemplate.execute(producerCallback);\n</code></pre>\n"}],"owner":{"account_id":235935,"reputation":3935,"user_id":503095,"accept_rate":50,"display_name":"Dhananjay"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2609,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":32547563,"answer_count":2,"score":3,"last_activity_date":1634813351,"creation_date":1441989396,"question_id":32528214,"body_markdown":"Is there a best practice or guidance for sending persistent messages with `asyncSend` set to true.\r\n\r\nWe don&#39;t have transaction manager configured\r\n\r\nWe have ~40k-50k messages which are sent using jmsTemplate configured with \r\n\r\n    org.apache.activemq.pool.PooledConnectionFactory\r\n\r\n\r\nWe have a for loop which iterates over messages list and send them using\r\n\r\n    jmsTemplate.convertAndSend(destination, msg)\r\n\r\n\r\nWe see lot of message loss on frequent basis, when we turn off `asyncSend` we get the reliability but the producer performance drops by 95%\r\n\r\n","title":"Sending large number of messages using spring jmsTemplate","body":"<p>Is there a best practice or guidance for sending persistent messages with <code>asyncSend</code> set to true.</p>\n\n<p>We don't have transaction manager configured</p>\n\n<p>We have ~40k-50k messages which are sent using jmsTemplate configured with </p>\n\n<pre><code>org.apache.activemq.pool.PooledConnectionFactory\n</code></pre>\n\n<p>We have a for loop which iterates over messages list and send them using</p>\n\n<pre><code>jmsTemplate.convertAndSend(destination, msg)\n</code></pre>\n\n<p>We see lot of message loss on frequent basis, when we turn off <code>asyncSend</code> we get the reliability but the producer performance drops by 95%</p>\n"},{"tags":["java","maven","intellij-idea","lombok","intellij-lombok-plugin"],"comments":[{"owner":{"account_id":1114060,"reputation":1976,"user_id":2723001,"accept_rate":62,"display_name":"Alexiy"},"score":0,"creation_date":1591607310,"post_id":62254609,"comment_id":110109505,"body_markdown":"There was a bug in Idea which caused the compilation to fail due to plugins. I can&#39;t find it on their issue tracker, but one of the solutions to solve it is to reset Idea to default settings.","body":"There was a bug in Idea which caused the compilation to fail due to plugins. I can&#39;t find it on their issue tracker, but one of the solutions to solve it is to reset Idea to default settings."},{"owner":{"account_id":7677022,"reputation":41,"user_id":5817558,"display_name":"D P"},"score":0,"creation_date":1591615131,"post_id":62254609,"comment_id":110113451,"body_markdown":"@Alexiy thanks I will try that. Do you know if there&#39;s any specific way to do this? I can try resetting settings or even uninstalling but I&#39;m afraid it&#39;ll just end up in the same spot again","body":"@Alexiy thanks I will try that. Do you know if there&#39;s any specific way to do this? I can try resetting settings or even uninstalling but I&#39;m afraid it&#39;ll just end up in the same spot again"}],"answers":[{"tags":[],"owner":{"account_id":18591738,"reputation":270,"user_id":13548794,"display_name":"libanbn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591587771,"creation_date":1591587771,"answer_id":62254668,"question_id":62254609,"body_markdown":"Looks like processing of annotation is turned off. You can enable it by checking this setting:\r\n\r\n`File -&gt; Setting -&gt; Compiler -&gt; Annotation Processors -&gt; Enable annotation processing`","title":"Windows 10 Java - package lombok does not exist","body":"<p>Looks like processing of annotation is turned off. You can enable it by checking this setting:</p>\n\n<p><code>File -&gt; Setting -&gt; Compiler -&gt; Annotation Processors -&gt; Enable annotation processing</code></p>\n"},{"tags":[],"owner":{"account_id":7677022,"reputation":41,"user_id":5817558,"display_name":"D P"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591617213,"creation_date":1591617213,"answer_id":62261463,"question_id":62254609,"body_markdown":"@Alexiy&#39;s answer here fixed it https://stackoverflow.com/questions/62254609/windows-10-java-package-lombok-does-not-exist#comment110109505_62254609\r\n\r\nI just followed these instructions\r\nhttps://www.jetbrains.com/help/idea/configuring-project-and-ide-settings.html\r\n\r\nI had to reset IntelliJ settings, reinstall Lombok plugin, reselect my JDK, and it worked, thank you! I spent hours trying to find a fix","title":"Windows 10 Java - package lombok does not exist","body":"<p>@Alexiy's answer here fixed it <a href=\"https://stackoverflow.com/questions/62254609/windows-10-java-package-lombok-does-not-exist#comment110109505_62254609\">Windows 10 Java - package lombok does not exist</a></p>\n\n<p>I just followed these instructions\n<a href=\"https://www.jetbrains.com/help/idea/configuring-project-and-ide-settings.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/configuring-project-and-ide-settings.html</a></p>\n\n<p>I had to reset IntelliJ settings, reinstall Lombok plugin, reselect my JDK, and it worked, thank you! I spent hours trying to find a fix</p>\n"},{"tags":[],"owner":{"account_id":17142671,"reputation":9,"user_id":12406312,"display_name":"ruriazz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634813323,"creation_date":1634813323,"answer_id":69660564,"question_id":62254609,"body_markdown":"if you are using java version 11, try to change using java version 8. I worked this way","title":"Windows 10 Java - package lombok does not exist","body":"<p>if you are using java version 11, try to change using java version 8. I worked this way</p>\n"}],"owner":{"account_id":7677022,"reputation":41,"user_id":5817558,"display_name":"D P"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6941,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1634813323,"creation_date":1591587343,"question_id":62254609,"body_markdown":"IntelliJ Community 2020.1, Windows 10.\r\nI added Lombok plugin, I added the dependency to my maven pom.xml, and I enabled annotation processing. IntelliJ editor shows auto complete for lombok annotated methods, and shows 0 errors. But it won&#39;t compile and keeps throwing out \r\n```\r\nError:(3, 14) java: package lombok does not exist\r\nError:(10, 6) java: cannot find symbol\r\nsymbol: class Data\r\n```\r\nI have tried JDK1.8.0_162, Correto-1.8._252, and OpenJDK-14.0.1\r\n\r\nNow doing exactly this works on my **Mac**. This issue is specifically isolated to windows. I haven&#39;t done much Java on Windows before. I&#39;ve gone into IntelliJ and hit the checkbox for the lombok jar for my project, but when I try to build IntelliJ can&#39;t ever find the jar. I&#39;ve tried every google result I can find\r\n\r\nIs there something on windows/my class path/my build I need to allow it to find the jar? I tried adding my jar to VM options like this `-javaagent:&quot;C:\\Users\\d\\.m2\\repository\\org\\projectlombok\\lombok\\1.18.12\\lombok-1.18.12.jar&quot;`\r\n\r\n\r\nPlease don&#39;t mark this as a duplicate this is different as the only fixes are using gradle, or don&#39;t fix it for windows. I spent 6 hours looking for an answer and none of the fixes were for windows :( ","title":"Windows 10 Java - package lombok does not exist","body":"<p>IntelliJ Community 2020.1, Windows 10.\nI added Lombok plugin, I added the dependency to my maven pom.xml, and I enabled annotation processing. IntelliJ editor shows auto complete for lombok annotated methods, and shows 0 errors. But it won't compile and keeps throwing out </p>\n\n<pre><code>Error:(3, 14) java: package lombok does not exist\nError:(10, 6) java: cannot find symbol\nsymbol: class Data\n</code></pre>\n\n<p>I have tried JDK1.8.0_162, Correto-1.8._252, and OpenJDK-14.0.1</p>\n\n<p>Now doing exactly this works on my <strong>Mac</strong>. This issue is specifically isolated to windows. I haven't done much Java on Windows before. I've gone into IntelliJ and hit the checkbox for the lombok jar for my project, but when I try to build IntelliJ can't ever find the jar. I've tried every google result I can find</p>\n\n<p>Is there something on windows/my class path/my build I need to allow it to find the jar? I tried adding my jar to VM options like this <code>-javaagent:\"C:\\Users\\d\\.m2\\repository\\org\\projectlombok\\lombok\\1.18.12\\lombok-1.18.12.jar\"</code></p>\n\n<p>Please don't mark this as a duplicate this is different as the only fixes are using gradle, or don't fix it for windows. I spent 6 hours looking for an answer and none of the fixes were for windows :( </p>\n"},{"tags":["java","spring-boot","entitymanager","postgresql-9.3","nativequery"],"comments":[{"owner":{"account_id":6925412,"reputation":2542,"user_id":5316642,"accept_rate":50,"display_name":"Nitin Dhomse"},"score":0,"creation_date":1634821805,"post_id":69660250,"comment_id":123133516,"body_markdown":"As you are performing select * from Query, how much approx data (records) do you have in your table(s)? if it is huge then better to have some limit with server side pagination concept, you can fetch data with the chunks each time","body":"As you are performing select * from Query, how much approx data (records) do you have in your table(s)? if it is huge then better to have some limit with server side pagination concept, you can fetch data with the chunks each time"},{"owner":{"account_id":5325059,"reputation":1373,"user_id":4247312,"accept_rate":78,"display_name":"arch"},"score":0,"creation_date":1634876738,"post_id":69660250,"comment_id":123149291,"body_markdown":"@NitinDhomse data size is not fixed, it depends on client. It may usually have large data. Can u plz add pagination concept solution here","body":"@NitinDhomse data size is not fixed, it depends on client. It may usually have large data. Can u plz add pagination concept solution here"}],"owner":{"account_id":5325059,"reputation":1373,"user_id":4247312,"accept_rate":78,"display_name":"arch"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":554,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634812823,"creation_date":1634812065,"question_id":69660250,"body_markdown":"I am using 2 methods to fetch data from Postgres database. But it is taking more time to render than usual. what could be the solution.\r\n\r\nBelow is my code:\r\n\r\n1st one to get table name\r\n\r\n    @Override\r\n    \tpublic List getTablename(String reportId, String userId) {\r\n    \tList tableName = null;\r\n    \ttry {\r\n    \ttableName = entityManager.createNativeQuery(&quot;select reporttablename from report_notifications &quot;\r\n    \t+ &quot;where reportid =&quot;+&quot;&#39;&quot;+reportId+&quot;&#39;&quot;+&quot;and userid=&quot;+&quot;&#39;&quot;+userId+&quot;&#39;&quot;+&quot; order by id desc limit 1;&quot;).getResultList();\r\n    \t}catch(Exception e) {\r\n    \tlogger.error(&quot;Exception&quot;,e);\r\n    \t}\r\n    \treturn tableName;\r\n    \t}\r\n\r\n2nd one to get data based on table name\r\n\r\n\t@Override\r\n\tpublic List findAllTempTableDatas(List tableName) {\r\n\tList&lt;Object[]&gt; tempList = null;\r\n\ttry {\r\n\tif (!tableName.isEmpty()) {\r\n\ttempList = entityManager.createNativeQuery(&quot;select * from &quot;+tableName.get(0)+&quot;;&quot;).getResultList();\r\n\t}\r\n\t} catch (Exception e) {\r\n\tlogger.error(&quot;Exception&quot;,e);\r\n\t}\r\n\treturn tempList;\r\n\t} \r\n\r\nI am using these 2 methods directly in controller class to call an API. It works fine. but time consumption is more. How to reduce it.","title":"Fetching data from Postgres database is slow using native query in Springboot","body":"<p>I am using 2 methods to fetch data from Postgres database. But it is taking more time to render than usual. what could be the solution.</p>\n<p>Below is my code:</p>\n<p>1st one to get table name</p>\n<pre><code>@Override\n    public List getTablename(String reportId, String userId) {\n    List tableName = null;\n    try {\n    tableName = entityManager.createNativeQuery(&quot;select reporttablename from report_notifications &quot;\n    + &quot;where reportid =&quot;+&quot;'&quot;+reportId+&quot;'&quot;+&quot;and userid=&quot;+&quot;'&quot;+userId+&quot;'&quot;+&quot; order by id desc limit 1;&quot;).getResultList();\n    }catch(Exception e) {\n    logger.error(&quot;Exception&quot;,e);\n    }\n    return tableName;\n    }\n</code></pre>\n<p>2nd one to get data based on table name</p>\n<pre><code>@Override\npublic List findAllTempTableDatas(List tableName) {\nList&lt;Object[]&gt; tempList = null;\ntry {\nif (!tableName.isEmpty()) {\ntempList = entityManager.createNativeQuery(&quot;select * from &quot;+tableName.get(0)+&quot;;&quot;).getResultList();\n}\n} catch (Exception e) {\nlogger.error(&quot;Exception&quot;,e);\n}\nreturn tempList;\n} \n</code></pre>\n<p>I am using these 2 methods directly in controller class to call an API. It works fine. but time consumption is more. How to reduce it.</p>\n"},{"tags":["java","android","file","download","android-11"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1634801239,"post_id":69655872,"comment_id":123124529,"body_markdown":"It makes no sense to first create an empty file with action create document and then download a file with downloadmanager. The download manager will not need or use that empty file. So what is it that you have in mind?","body":"It makes no sense to first create an empty file with action create document and then download a file with downloadmanager. The download manager will not need or use that empty file. So what is it that you have in mind?"},{"owner":{"account_id":15078918,"reputation":19,"user_id":10882110,"display_name":"Anish Maharjan"},"score":0,"creation_date":1634802174,"post_id":69655872,"comment_id":123124867,"body_markdown":"I have used Download manager at first to download pdf and it worked. But after I upgraded to android 11. File downloaded from downloadmanager is not saved. I am confused by scoped storage to download pdf file.","body":"I have used Download manager at first to download pdf and it worked. But after I upgraded to android 11. File downloaded from downloadmanager is not saved. I am confused by scoped storage to download pdf file."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1634802676,"post_id":69655872,"comment_id":123125061,"body_markdown":"Your problem makes no sense. The code should just do its job like before. No problems here.","body":"Your problem makes no sense. The code should just do its job like before. No problems here."},{"owner":{"account_id":15078918,"reputation":19,"user_id":10882110,"display_name":"Anish Maharjan"},"score":0,"creation_date":1634805417,"post_id":69655872,"comment_id":123126211,"body_markdown":"I have tried it. File was not saved. I dont know how the problem occured. I am also trying to solve it. It works fine for mobile below android 10 but mobile device with android 11 does not work.","body":"I have tried it. File was not saved. I dont know how the problem occured. I am also trying to solve it. It works fine for mobile below android 10 but mobile device with android 11 does not work."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1634807144,"post_id":69655872,"comment_id":123126894,"body_markdown":"`FileUtils.downloadPdfDestination()` I already told you that that destination (`Android/data`) is not usable on an Android 11 device. That code is unusable. Sorry that i first told you that it was ok. (Should have looked better... but why should we know what FileUtils.downloadPdfDestination() returns.) You were not informative..","body":"<code>FileUtils.downloadPdfDestination()</code> I already told you that that destination (<code>Android&#47;data</code>) is not usable on an Android 11 device. That code is unusable. Sorry that i first told you that it was ok. (Should have looked better... but why should we know what FileUtils.downloadPdfDestination() returns.) You were not informative.."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1634807515,"post_id":69655872,"comment_id":123127041,"body_markdown":"`strDate` We cannot see how that string value looks like. Please add more code. Also tell value of `title + strDate + &quot;.pdf&quot;`","body":"<code>strDate</code> We cannot see how that string value looks like. Please add more code. Also tell value of <code>title + strDate + &quot;.pdf&quot;</code>"},{"owner":{"account_id":15078918,"reputation":19,"user_id":10882110,"display_name":"Anish Maharjan"},"score":0,"creation_date":1634882640,"post_id":69655872,"comment_id":123150479,"body_markdown":"FileUtils.downloadPdfDestination() - this code is used for below android 11. title is random text and strdate is date format.","body":"FileUtils.downloadPdfDestination() - this code is used for below android 11. title is random text and strdate is date format."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1634885814,"post_id":69655872,"comment_id":123151329,"body_markdown":"I did not ask for format. I asked for exact value.","body":"I did not ask for format. I asked for exact value."}],"answers":[{"tags":[],"owner":{"account_id":10306197,"reputation":360,"user_id":7603369,"display_name":"Romman"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634790576,"creation_date":1634790576,"answer_id":69655907,"question_id":69655872,"body_markdown":"Check this code snippet:\r\n\r\n    override fun startDownload(url: String, onError: (e: Exception) -&gt; Unit) {\r\n            try {\r\n                val request = DownloadManager.Request(Uri.parse(url))\r\n                request.setDestinationInExternalPublicDir(\r\n                    Environment.DIRECTORY_DOWNLOADS,\r\n                    UUID.randomUUID().toString()\r\n                )\r\n                request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_ONLY_COMPLETION)\r\n                (context.getSystemService(DOWNLOAD_SERVICE) as DownloadManager).enqueue(request)\r\n            } catch (e: Exception) {\r\n                e.printStackTrace()\r\n                onError.invoke(e)\r\n            }\r\n        }\r\n\r\nIt&#39;s working fine on `Android 11` by using `DownloadManger` API.","title":"Download pdf in android 11","body":"<p>Check this code snippet:</p>\n<pre><code>override fun startDownload(url: String, onError: (e: Exception) -&gt; Unit) {\n        try {\n            val request = DownloadManager.Request(Uri.parse(url))\n            request.setDestinationInExternalPublicDir(\n                Environment.DIRECTORY_DOWNLOADS,\n                UUID.randomUUID().toString()\n            )\n            request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_ONLY_COMPLETION)\n            (context.getSystemService(DOWNLOAD_SERVICE) as DownloadManager).enqueue(request)\n        } catch (e: Exception) {\n            e.printStackTrace()\n            onError.invoke(e)\n        }\n    }\n</code></pre>\n<p>It's working fine on <code>Android 11</code> by using <code>DownloadManger</code> API.</p>\n"},{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634790634,"creation_date":1634790634,"answer_id":69655914,"question_id":69655872,"body_markdown":"ACTION_CREATE_DOCUMENT is used to create a new document.  If one already existed, it will be overwritten.  If you want to view an existing document, use ACTION_VIEW.\r\n\r\nOf course none of the code you posted actually downloads a PDF.  If you need help with that, post your DownloadManager code.","title":"Download pdf in android 11","body":"<p>ACTION_CREATE_DOCUMENT is used to create a new document.  If one already existed, it will be overwritten.  If you want to view an existing document, use ACTION_VIEW.</p>\n<p>Of course none of the code you posted actually downloads a PDF.  If you need help with that, post your DownloadManager code.</p>\n"},{"tags":[],"owner":{"account_id":16737854,"reputation":539,"user_id":12098423,"display_name":"Dhruv Patel"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634812628,"creation_date":1634812628,"answer_id":69660398,"question_id":69655872,"body_markdown":"Use below code to download &amp; view pdf.\r\n\r\nFirst you need to apply **`rxjava`** dependency for background task.\r\n\r\n     implementation &#39;io.reactivex.rxjava2:rxandroid:2.1.1&#39;\r\n\r\nDon&#39;t forgot to check **`WRITE_EXTERNAL_STORAGE`** permission before call below method. Also check **`INTERNET`** permission as well.\r\n\r\nThen use below method to perform operation in background.\r\n\r\n    private void downloadAndOpenInvoice() {\r\n        mDialog.show();\r\n        Observable.fromCallable(() -&gt; {\r\n            String pdfName = &quot;Invoice_&quot;+ Calendar.getInstance().getTimeInMillis() + &quot;.pdf&quot;;\r\n            \r\n            String pdfUrl = &quot;https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf&quot;;\r\n            \r\n            File file = CommonUtils.downloadFile(mActivity, pdfUrl, pdfName,mDialog);\r\n            return file;\r\n        }).subscribeOn(Schedulers.io())\r\n                .observeOn(AndroidSchedulers.mainThread())\r\n                .subscribe(file -&gt; {\r\n                    CommonUtils.viewPdf(file, mActivity, mDialog);\r\n                });\r\n    }\r\n\r\nTo download file from url use below snippet\r\n\r\n    public static File downloadFile(Activity mActivity, String url, String fileName, CustomDialog mDialog) {\r\n        // write the document content\r\n        File fileDir = new File(CommonUtils.getAppDir(mActivity, &quot;Invoice&quot;)); //Invoice folder inside your app directory \r\n        if (!fileDir.exists()) {\r\n            boolean mkdirs = fileDir.mkdirs();\r\n        }\r\n        File pdfFile = new File(CommonUtils.getAppDir(mActivity, &quot;Invoice&quot;), fileName); //Invoice folder inside your app directory\r\n\r\n        try {\r\n            URL u = new URL(url);\r\n            URLConnection conn = u.openConnection();\r\n            int contentLength = conn.getContentLength();\r\n\r\n            DataInputStream stream = new DataInputStream(u.openStream());\r\n\r\n            byte[] buffer = new byte[contentLength];\r\n            stream.readFully(buffer);\r\n            stream.close();\r\n\r\n            DataOutputStream fos = new DataOutputStream(new FileOutputStream(pdfFile));\r\n            fos.write(buffer);\r\n            fos.flush();\r\n            fos.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            if (mDialog.isShowing()) {\r\n                mDialog.dismiss();\r\n            }\r\n            Toast.makeText(mActivity, &quot;Something wrong: &quot; + e.toString(), Toast.LENGTH_LONG).show();\r\n        }\r\n        return pdfFile;\r\n    }\r\n\r\nfor app directory\r\n\r\n    public static String getAppDir(Context context, String folderName) {\r\n        return context.getExternalFilesDir(null).getAbsolutePath() + File.separator + folderName + File.separator;\r\n    }\r\n\r\nUse below code to view pdf\r\n\r\n    public static void viewPdf(File pdfFile, Activity mActivity, CustomDialog mDialog) {\r\n\r\n        Uri uri = FileProvider.getUriForFile(mActivity, mActivity.getApplicationContext().getPackageName() + &quot;.provider&quot;, pdfFile);\r\n\r\n        // Setting the intent for pdf reader\r\n        Intent pdfIntent = new Intent(Intent.ACTION_VIEW);\r\n        pdfIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n        pdfIntent.setDataAndType(uri, &quot;application/pdf&quot;);\r\n        //pdfIntent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n\r\n        try {\r\n            mActivity.runOnUiThread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    if (mDialog.isShowing()) {\r\n                        mDialog.dismiss();\r\n                    }\r\n                }\r\n            });\r\n            mActivity.startActivity(pdfIntent);\r\n            Log.e(&quot;Invoice - PDF&quot;, pdfFile.getPath());\r\n        } catch (ActivityNotFoundException e) {\r\n            mActivity.runOnUiThread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    if (mDialog.isShowing()) {\r\n                        mDialog.dismiss();\r\n                    }\r\n                }\r\n            });\r\n            e.printStackTrace();\r\n            Log.e(&quot;Invoice - PDF&quot;, &quot;Can&#39;t read pdf file&quot;);\r\n            Toast.makeText(mActivity, &quot;Can&#39;t read pdf file&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n","title":"Download pdf in android 11","body":"<p>Use below code to download &amp; view pdf.</p>\n<p>First you need to apply <strong><code>rxjava</code></strong> dependency for background task.</p>\n<pre><code> implementation 'io.reactivex.rxjava2:rxandroid:2.1.1'\n</code></pre>\n<p>Don't forgot to check <strong><code>WRITE_EXTERNAL_STORAGE</code></strong> permission before call below method. Also check <strong><code>INTERNET</code></strong> permission as well.</p>\n<p>Then use below method to perform operation in background.</p>\n<pre><code>private void downloadAndOpenInvoice() {\n    mDialog.show();\n    Observable.fromCallable(() -&gt; {\n        String pdfName = &quot;Invoice_&quot;+ Calendar.getInstance().getTimeInMillis() + &quot;.pdf&quot;;\n        \n        String pdfUrl = &quot;https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf&quot;;\n        \n        File file = CommonUtils.downloadFile(mActivity, pdfUrl, pdfName,mDialog);\n        return file;\n    }).subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe(file -&gt; {\n                CommonUtils.viewPdf(file, mActivity, mDialog);\n            });\n}\n</code></pre>\n<p>To download file from url use below snippet</p>\n<pre><code>public static File downloadFile(Activity mActivity, String url, String fileName, CustomDialog mDialog) {\n    // write the document content\n    File fileDir = new File(CommonUtils.getAppDir(mActivity, &quot;Invoice&quot;)); //Invoice folder inside your app directory \n    if (!fileDir.exists()) {\n        boolean mkdirs = fileDir.mkdirs();\n    }\n    File pdfFile = new File(CommonUtils.getAppDir(mActivity, &quot;Invoice&quot;), fileName); //Invoice folder inside your app directory\n\n    try {\n        URL u = new URL(url);\n        URLConnection conn = u.openConnection();\n        int contentLength = conn.getContentLength();\n\n        DataInputStream stream = new DataInputStream(u.openStream());\n\n        byte[] buffer = new byte[contentLength];\n        stream.readFully(buffer);\n        stream.close();\n\n        DataOutputStream fos = new DataOutputStream(new FileOutputStream(pdfFile));\n        fos.write(buffer);\n        fos.flush();\n        fos.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n        if (mDialog.isShowing()) {\n            mDialog.dismiss();\n        }\n        Toast.makeText(mActivity, &quot;Something wrong: &quot; + e.toString(), Toast.LENGTH_LONG).show();\n    }\n    return pdfFile;\n}\n</code></pre>\n<p>for app directory</p>\n<pre><code>public static String getAppDir(Context context, String folderName) {\n    return context.getExternalFilesDir(null).getAbsolutePath() + File.separator + folderName + File.separator;\n}\n</code></pre>\n<p>Use below code to view pdf</p>\n<pre><code>public static void viewPdf(File pdfFile, Activity mActivity, CustomDialog mDialog) {\n\n    Uri uri = FileProvider.getUriForFile(mActivity, mActivity.getApplicationContext().getPackageName() + &quot;.provider&quot;, pdfFile);\n\n    // Setting the intent for pdf reader\n    Intent pdfIntent = new Intent(Intent.ACTION_VIEW);\n    pdfIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n    pdfIntent.setDataAndType(uri, &quot;application/pdf&quot;);\n    //pdfIntent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n\n    try {\n        mActivity.runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n                if (mDialog.isShowing()) {\n                    mDialog.dismiss();\n                }\n            }\n        });\n        mActivity.startActivity(pdfIntent);\n        Log.e(&quot;Invoice - PDF&quot;, pdfFile.getPath());\n    } catch (ActivityNotFoundException e) {\n        mActivity.runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n                if (mDialog.isShowing()) {\n                    mDialog.dismiss();\n                }\n            }\n        });\n        e.printStackTrace();\n        Log.e(&quot;Invoice - PDF&quot;, &quot;Can't read pdf file&quot;);\n        Toast.makeText(mActivity, &quot;Can't read pdf file&quot;, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15078918,"reputation":19,"user_id":10882110,"display_name":"Anish Maharjan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2139,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1634812628,"creation_date":1634790315,"question_id":69655872,"body_markdown":"I have upgraded to android 11. I am having an issue downloading PDF files. \r\n\r\nI have used this code:\r\n\r\n    private void createFile(Uri pickerInitialUri, String title) {\r\n        Intent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);\r\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n        intent.setType(&quot;application/pdf&quot;);\r\n        intent.putExtra(Intent.EXTRA_TITLE, title);\r\n\r\n        // Optionally, specify a URI for the directory that should be opened in\r\n        // the system file picker when your app creates the document.\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            intent.putExtra(DocumentsContract.EXTRA_INITIAL_URI, pickerInitialUri);\r\n        }\r\n\r\n        startActivityForResult(intent, CREATE_FILE);\r\n    }\r\n\r\n\r\nThe file is created but the file is empty. I am still unable to save the downloaded pdf file. \r\n\r\nI used to use DownloadManager request to download the pdf file from web.\r\n\r\n``` \r\nDownloadManager downloadManager = (DownloadManager) this.getSystemService(Context.DOWNLOAD_SERVICE);\r\n        DownloadManager.Request request = new DownloadManager.Request(uri);\r\n\r\n        if (SDK_INT &gt; Build.VERSION_CODES.Q) {\r\n\r\n         //   Uri uri1 = Uri.fromFile(new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS), &quot;&quot;));  //before android 11 this was working fine\r\n\r\n           // Uri uri1 = Uri.fromFile(new File(getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS), &quot;&quot;)); \r\n\r\n            request.setAllowedNetworkTypes(DownloadManager.Request.NETWORK_WIFI | DownloadManager.Request.NETWORK_MOBILE)\r\n                    .setAllowedOverRoaming(true).setTitle(title + strDate + &quot;.pdf&quot;)\r\n                    .setDescription(description)\r\n                    //.setDestinationUri(uri1) // before android 11 it was working fine.\r\n                    .setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, title + strDate + &quot;.pdf&quot;) // file is not saved on this directory.\r\n                    .setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);//to show the DOWNLOAD notification when completed\r\n\r\n           // createFile(uri , title + strDate + &quot;.pdf&quot;); // for new scoped storage\r\n\r\n\r\n        } else {\r\n            request.setAllowedNetworkTypes(DownloadManager.Request.NETWORK_WIFI | DownloadManager.Request.NETWORK_MOBILE)\r\n                    .setAllowedOverRoaming(true).setTitle(title + strDate + &quot;.pdf&quot;)\r\n                    .setDescription(description)\r\n                    .setDestinationInExternalPublicDir(FileUtils.downloadPdfDestination(), title + strDate + &quot;.pdf&quot;)\r\n                    .setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED); //to show the DOWNLOAD notification when completed\r\n        }\r\n       long PDF_DOWNLOAD_ID = downloadManager.enqueue(request);```","title":"Download pdf in android 11","body":"<p>I have upgraded to android 11. I am having an issue downloading PDF files.</p>\n<p>I have used this code:</p>\n<pre><code>private void createFile(Uri pickerInitialUri, String title) {\n    Intent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);\n    intent.addCategory(Intent.CATEGORY_OPENABLE);\n    intent.setType(&quot;application/pdf&quot;);\n    intent.putExtra(Intent.EXTRA_TITLE, title);\n\n    // Optionally, specify a URI for the directory that should be opened in\n    // the system file picker when your app creates the document.\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        intent.putExtra(DocumentsContract.EXTRA_INITIAL_URI, pickerInitialUri);\n    }\n\n    startActivityForResult(intent, CREATE_FILE);\n}\n</code></pre>\n<p>The file is created but the file is empty. I am still unable to save the downloaded pdf file.</p>\n<p>I used to use DownloadManager request to download the pdf file from web.</p>\n<pre><code>DownloadManager downloadManager = (DownloadManager) this.getSystemService(Context.DOWNLOAD_SERVICE);\n        DownloadManager.Request request = new DownloadManager.Request(uri);\n\n        if (SDK_INT &gt; Build.VERSION_CODES.Q) {\n\n         //   Uri uri1 = Uri.fromFile(new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS), &quot;&quot;));  //before android 11 this was working fine\n\n           // Uri uri1 = Uri.fromFile(new File(getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS), &quot;&quot;)); \n\n            request.setAllowedNetworkTypes(DownloadManager.Request.NETWORK_WIFI | DownloadManager.Request.NETWORK_MOBILE)\n                    .setAllowedOverRoaming(true).setTitle(title + strDate + &quot;.pdf&quot;)\n                    .setDescription(description)\n                    //.setDestinationUri(uri1) // before android 11 it was working fine.\n                    .setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, title + strDate + &quot;.pdf&quot;) // file is not saved on this directory.\n                    .setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);//to show the DOWNLOAD notification when completed\n\n           // createFile(uri , title + strDate + &quot;.pdf&quot;); // for new scoped storage\n\n\n        } else {\n            request.setAllowedNetworkTypes(DownloadManager.Request.NETWORK_WIFI | DownloadManager.Request.NETWORK_MOBILE)\n                    .setAllowedOverRoaming(true).setTitle(title + strDate + &quot;.pdf&quot;)\n                    .setDescription(description)\n                    .setDestinationInExternalPublicDir(FileUtils.downloadPdfDestination(), title + strDate + &quot;.pdf&quot;)\n                    .setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED); //to show the DOWNLOAD notification when completed\n        }\n       long PDF_DOWNLOAD_ID = downloadManager.enqueue(request);```\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1634823729,"post_id":69660332,"comment_id":123134429,"body_markdown":"Yes, it is possible to access multiple Firebase projects from within a single Android application see https://firebase.google.com/docs/projects/multiprojects#use_multiple_projects_in_your_application and https://stackoverflow.com/questions/37634767/how-to-connect-to-more-than-one-firebase-database-from-an-android-app","body":"Yes, it is possible to access multiple Firebase projects from within a single Android application see <a href=\"https://firebase.google.com/docs/projects/multiprojects#use_multiple_projects_in_your_application\" rel=\"nofollow noreferrer\">firebase.google.com/docs/projects/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/37634767/how-to-connect-to-more-than-one-firebase-database-from-an-android-app\" title=\"how to connect to more than one firebase database from an android app\">stackoverflow.com/questions/37634767/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634812559,"creation_date":1634812559,"answer_id":69660375,"question_id":69660332,"body_markdown":"No it is not possible.But you can create multiple buckets and data into it.This will act as different database.You can then switch the project buckets and proceed with it.But I will not prefer you to use different buckets instead use 1 bucket with different collection names!","title":"How to switch the Firebase Instances at run time in android app","body":"<p>No it is not possible.But you can create multiple buckets and data into it.This will act as different database.You can then switch the project buckets and proceed with it.But I will not prefer you to use different buckets instead use 1 bucket with different collection names!</p>\n"}],"owner":{"account_id":22011354,"reputation":394,"user_id":16281582,"display_name":"Venkat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1634823736,"answer_count":1,"score":0,"last_activity_date":1634812559,"creation_date":1634812387,"question_id":69660332,"body_markdown":"For some reason, I need to use two firebase projects in a single android app. Now I need to access those two Firebase projects Firestore Databases at the same time. But I had seen in some StackOverflow questions that this is not possible to get both the Firebase projects instances at same time.\r\n\r\nMy requirement is to read data from first Firebase project Database, now the data will be processed(some operations or changes) in the android app. After that I need to upload that processed data to Second Firebase project Database.\r\n\r\nSo I need to switch the Firebase project Instances at run time according to the requirement. Is it possible to use two instances in single android app?","title":"How to switch the Firebase Instances at run time in android app","body":"<p>For some reason, I need to use two firebase projects in a single android app. Now I need to access those two Firebase projects Firestore Databases at the same time. But I had seen in some StackOverflow questions that this is not possible to get both the Firebase projects instances at same time.</p>\n<p>My requirement is to read data from first Firebase project Database, now the data will be processed(some operations or changes) in the android app. After that I need to upload that processed data to Second Firebase project Database.</p>\n<p>So I need to switch the Firebase project Instances at run time according to the requirement. Is it possible to use two instances in single android app?</p>\n"},{"tags":["java","json","amazon-web-services","amazon-s3","aws-lambda"],"comments":[{"owner":{"account_id":9762349,"reputation":3120,"user_id":7237062,"accept_rate":60,"display_name":"LoneWanderer"},"score":1,"creation_date":1498564909,"post_id":44779042,"comment_id":76539947,"body_markdown":"If you express the name as an HTML url, you could avoid this kind of &quot;collision&quot; : space becomes `%20` and + becomes `%2B` ? You can then convert it back to the real character.","body":"If you express the name as an HTML url, you could avoid this kind of &quot;collision&quot; : space becomes <code>%20</code> and + becomes <code>%2B</code> ? You can then convert it back to the real character."},{"owner":{"account_id":6492390,"reputation":1387,"user_id":5026043,"accept_rate":81,"display_name":"ViS"},"score":0,"creation_date":1498570933,"post_id":44779042,"comment_id":76544322,"body_markdown":"Thanks @LoneWanderer, but this is a json value that I get from S3 put event.","body":"Thanks @LoneWanderer, but this is a json value that I get from S3 put event."},{"owner":{"account_id":9762349,"reputation":3120,"user_id":7237062,"accept_rate":60,"display_name":"LoneWanderer"},"score":0,"creation_date":1498577639,"post_id":44779042,"comment_id":76549450,"body_markdown":"Got it, but I think you are screwed up ... If you have to try all combination of `+`and ` ` by opening a file to find out what was the real filename, you can get into trouble ... Can&#39;t you just forbid `+` in file names ? sounds violent, but hey ...","body":"Got it, but I think you are screwed up ... If you have to try all combination of <code>+</code>and ` ` by opening a file to find out what was the real filename, you can get into trouble ... Can&#39;t you just forbid <code>+</code> in file names ? sounds violent, but hey ..."},{"owner":{"account_id":1845098,"reputation":171667,"user_id":1695906,"display_name":"Michael - sqlbot"},"score":1,"creation_date":1498609794,"post_id":44779042,"comment_id":76564522,"body_markdown":"@LoneWanderer there&#39;s an entrenched bug in S3&#39;s *internal* object key representation, presumably a SOAP holdover.  `%20` **and** `+` in a `PUT` URI are **both** stored internally as the character `+`.   Both symbols in a URI mean ASCII 32... meanwhile, `%2B` is stored as `%2B`, even though no browser would ever escape `+` as `%2B` in a path (that should only happen in the query string).  If you upload a file called `foo+bar` **or** `foo%20bar`, you can actually download the same file as either `foo+bar` or `foo%20bar`.  That is the same object.","body":"@LoneWanderer there&#39;s an entrenched bug in S3&#39;s <i>internal</i> object key representation, presumably a SOAP holdover.  <code>%20</code> <b>and</b> <code>+</code> in a <code>PUT</code> URI are <b>both</b> stored internally as the character <code>+</code>.   Both symbols in a URI mean ASCII 32... meanwhile, <code>%2B</code> is stored as <code>%2B</code>, even though no browser would ever escape <code>+</code> as <code>%2B</code> in a path (that should only happen in the query string).  If you upload a file called <code>foo+bar</code> <b>or</b> <code>foo%20bar</code>, you can actually download the same file as either <code>foo+bar</code> or <code>foo%20bar</code>.  That is the same object."},{"owner":{"account_id":2000012,"reputation":1771,"user_id":1791283,"accept_rate":72,"display_name":"sami_analyst"},"score":0,"creation_date":1541596980,"post_id":44779042,"comment_id":93269418,"body_markdown":"What do have to do If my file is named with a plus sign and a space ?","body":"What do have to do If my file is named with a plus sign and a space ?"}],"answers":[{"tags":[],"owner":{"account_id":6492390,"reputation":1387,"user_id":5026043,"accept_rate":81,"display_name":"ViS"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1498571255,"creation_date":1498571255,"answer_id":44781998,"question_id":44779042,"body_markdown":"What I have done to fix this is \r\n\r\n    java.net.URLDecoder.decode(b.getS3().getObject().getKey(), &quot;UTF-8&quot;)\r\n\r\n\r\n    {\r\n        &quot;Records&quot;: [\r\n            {\r\n                &quot;s3&quot;: {\r\n                    &quot;object&quot;: {\r\n                        &quot;key&quot;: &quot;New+Text+Document.txt&quot;\r\n                    }\r\n                }\r\n            }\r\n        ]\r\n    }\r\n\r\nSo now the JSon value, &quot;New+Text+Document.txt&quot; gets converted to New Text Document.txt, correctly.\r\n\r\nThis has fixed my issue, please suggest if this is very correct solution.\r\nWill there be any corner case that can break my implementation.","title":"AWS: how to fix S3 event replacing space with &#39;+&#39; sign in object key names in json","body":"<p>What I have done to fix this is </p>\n\n<pre><code>java.net.URLDecoder.decode(b.getS3().getObject().getKey(), \"UTF-8\")\n\n\n{\n    \"Records\": [\n        {\n            \"s3\": {\n                \"object\": {\n                    \"key\": \"New+Text+Document.txt\"\n                }\n            }\n        }\n    ]\n}\n</code></pre>\n\n<p>So now the JSon value, \"New+Text+Document.txt\" gets converted to New Text Document.txt, correctly.</p>\n\n<p>This has fixed my issue, please suggest if this is very correct solution.\nWill there be any corner case that can break my implementation.</p>\n"},{"tags":[],"owner":{"account_id":2289957,"reputation":1155,"user_id":4277990,"display_name":"kinzleb"},"down_vote_count":1,"up_vote_count":50,"is_accepted":false,"score":49,"last_activity_date":1516733719,"creation_date":1516733719,"answer_id":48408891,"question_id":44779042,"body_markdown":"I came across this looking for a solution for a lambda written in python instead of java; &quot;urllib.parse.unquote_plus&quot; worked for me, it properly handled a file with both spaces and + signs:\r\n\r\n    from urllib.parse import unquote_plus\r\n    import boto3\r\n    \r\n    \r\n    bucket = &#39;testBucket1234&#39;\r\n    # uploaded file with name &#39;foo + bar.txt&#39; for test, s3 Put event passes following encoded object_key\r\n    object_key = &#39;foo %2B bar.txt&#39;\r\n    print(object_key)\r\n    object_key = unquote_plus(object_key)\r\n    print(object_key)\r\n    \r\n    client = boto3.client(&#39;s3&#39;)\r\n    client.get_object(Bucket=bucket, Key=object_key)","title":"AWS: how to fix S3 event replacing space with &#39;+&#39; sign in object key names in json","body":"<p>I came across this looking for a solution for a lambda written in python instead of java; \"urllib.parse.unquote_plus\" worked for me, it properly handled a file with both spaces and + signs:</p>\n\n<pre><code>from urllib.parse import unquote_plus\nimport boto3\n\n\nbucket = 'testBucket1234'\n# uploaded file with name 'foo + bar.txt' for test, s3 Put event passes following encoded object_key\nobject_key = 'foo %2B bar.txt'\nprint(object_key)\nobject_key = unquote_plus(object_key)\nprint(object_key)\n\nclient = boto3.client('s3')\nclient.get_object(Bucket=bucket, Key=object_key)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2939068,"reputation":2834,"user_id":2517384,"accept_rate":81,"display_name":"MeetJoeBlack"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1594103293,"creation_date":1563839611,"answer_id":57155067,"question_id":44779042,"body_markdown":"I think in Java you should use:\r\n\r\n    getS3().getObject().getUrlDecodedKey()\r\n\r\nmethod that returns decoded key, instead of \r\n\r\n    getS3().getObject().getKey()","title":"AWS: how to fix S3 event replacing space with &#39;+&#39; sign in object key names in json","body":"<p>I think in Java you should use:</p>\n<pre><code>getS3().getObject().getUrlDecodedKey()\n</code></pre>\n<p>method that returns decoded key, instead of</p>\n<pre><code>getS3().getObject().getKey()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8203057,"reputation":31,"user_id":6173770,"display_name":"Hitesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594103210,"creation_date":1578589318,"answer_id":59668885,"question_id":44779042,"body_markdown":"Agree with Scott. for me create object event was appending %3 for semicolon : i have to replace it twice to get correct s3 url\r\n\r\n**Python** code:\r\n\r\n```python\r\n    def lambda_handler(event, context):\r\n    logger.info(&#39;Event: %s&#39; % json.dumps(event))\r\n    source_bucket = event[&#39;Records&#39;][0][&#39;s3&#39;][&#39;bucket&#39;][&#39;name&#39;]\r\n    key_old = event[&#39;Records&#39;][0][&#39;s3&#39;][&#39;object&#39;][&#39;key&#39;]\r\n    key_new = key_old.replace(&#39;%3&#39;,&#39;:&#39;)\r\n    key = key_new.replace(&#39;:A&#39;,&#39;:&#39;)\r\n    logger.info(&#39;key value&#39;)\r\n    logger.info(key)\r\n```","title":"AWS: how to fix S3 event replacing space with &#39;+&#39; sign in object key names in json","body":"<p>Agree with Scott. for me create object event was appending %3 for semicolon : i have to replace it twice to get correct s3 url</p>\n<p><strong>Python</strong> code:</p>\n<pre class=\"lang-py prettyprint-override\"><code>    def lambda_handler(event, context):\n    logger.info('Event: %s' % json.dumps(event))\n    source_bucket = event['Records'][0]['s3']['bucket']['name']\n    key_old = event['Records'][0]['s3']['object']['key']\n    key_new = key_old.replace('%3',':')\n    key = key_new.replace(':A',':')\n    logger.info('key value')\n    logger.info(key)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3336961,"reputation":5209,"user_id":2804256,"display_name":"Jonathan Irwin"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1634812389,"creation_date":1589803497,"answer_id":61869212,"question_id":44779042,"body_markdown":"## NodeJS, Javascript or Typescript\r\n\r\nSince we are sharing for other runtimes here is how to do it in NodeJS:\r\n\r\n```javascript\r\nconst srcKey = decodeURIComponent(event.Records[0].s3.object.key.replace(/\\+/g, &quot; &quot;));\r\n```\r\n\r\nI would say this is an **official solution** since it comes from the [AWS docs here][1]\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/with-s3-tutorial.html#with-s3-tutorial-create-function-code","title":"AWS: how to fix S3 event replacing space with &#39;+&#39; sign in object key names in json","body":"<h2>NodeJS, Javascript or Typescript</h2>\n<p>Since we are sharing for other runtimes here is how to do it in NodeJS:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const srcKey = decodeURIComponent(event.Records[0].s3.object.key.replace(/\\+/g, &quot; &quot;));\n</code></pre>\n<p>I would say this is an <strong>official solution</strong> since it comes from the <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/with-s3-tutorial.html#with-s3-tutorial-create-function-code\" rel=\"noreferrer\">AWS docs here</a></p>\n"},{"tags":[],"owner":{"account_id":6284975,"reputation":350,"user_id":4884583,"display_name":"Rodrigo Matias"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596140353,"creation_date":1596140353,"answer_id":63180787,"question_id":44779042,"body_markdown":"in ASP.Net has UrlDecode. The sample is below.\r\n\r\n    HttpUtility.UrlDecode(s3entity.Object.Key, Encoding.UTF8)","title":"AWS: how to fix S3 event replacing space with &#39;+&#39; sign in object key names in json","body":"<p>in ASP.Net has UrlDecode. The sample is below.</p>\n<pre><code>HttpUtility.UrlDecode(s3entity.Object.Key, Encoding.UTF8)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19594193,"reputation":11,"user_id":14340607,"display_name":"Vinod Jadhav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601041536,"creation_date":1601041536,"answer_id":64065406,"question_id":44779042,"body_markdown":"I was facing same issue with special character&#39;s, as aws S3 event replacing the special character&#39;s as in UrlEncoding. So to resolve the same I have used aws decode API &quot;SdkHttpUtils.urlDecode(String key)&quot; to decode the object key. Hence worked as expected.\r\n\r\nYou can check below link to get more details about SdkHttpUtils API.\r\n\r\nhttps://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/util/SdkHttpUtils.html#urlDecode-java.lang.String-","title":"AWS: how to fix S3 event replacing space with &#39;+&#39; sign in object key names in json","body":"<p>I was facing same issue with special character's, as aws S3 event replacing the special character's as in UrlEncoding. So to resolve the same I have used aws decode API &quot;SdkHttpUtils.urlDecode(String key)&quot; to decode the object key. Hence worked as expected.</p>\n<p>You can check below link to get more details about SdkHttpUtils API.</p>\n<p><a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/util/SdkHttpUtils.html#urlDecode-java.lang.String-\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/util/SdkHttpUtils.html#urlDecode-java.lang.String-</a></p>\n"}],"owner":{"account_id":6492390,"reputation":1387,"user_id":5026043,"accept_rate":81,"display_name":"ViS"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31924,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":44781998,"answer_count":7,"score":55,"last_activity_date":1634812389,"creation_date":1498562528,"question_id":44779042,"body_markdown":"I have a lamba function to copy objects from bucket &#39;A&#39; to bucket &#39;B&#39;, and everything was working fine, until and object with name &#39;New Text Document.txt&#39; was created in bucket &#39;A&#39;, the json that gets built in S3 event, key as &quot;key&quot;: &quot;New+Text+Document.txt&quot;.\r\n\r\nthe spaces got replaced with &#39;+&#39;. I know it is a known issue by seraching on web.\r\nBut I am not sure how to fix this and the incoming json itself has a &#39;+&#39; and &#39;+&#39; can be actually in the name of the file. like &#39;New+Text Document.txt&#39;. \r\n\r\nSo I cannot blindly have logic to space &#39;+&#39; by &#39; &#39; in my lambda function.\r\n\r\nDue to this issue, when code tries to find the file in bucket it fails to find it.\r\n\r\nPlease suggest.","title":"AWS: how to fix S3 event replacing space with &#39;+&#39; sign in object key names in json","body":"<p>I have a lamba function to copy objects from bucket 'A' to bucket 'B', and everything was working fine, until and object with name 'New Text Document.txt' was created in bucket 'A', the json that gets built in S3 event, key as \"key\": \"New+Text+Document.txt\".</p>\n\n<p>the spaces got replaced with '+'. I know it is a known issue by seraching on web.\nBut I am not sure how to fix this and the incoming json itself has a '+' and '+' can be actually in the name of the file. like 'New+Text Document.txt'. </p>\n\n<p>So I cannot blindly have logic to space '+' by ' ' in my lambda function.</p>\n\n<p>Due to this issue, when code tries to find the file in bucket it fails to find it.</p>\n\n<p>Please suggest.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":12036483,"reputation":980,"user_id":8804776,"display_name":"Justin Mathew"},"score":0,"creation_date":1618511943,"post_id":67113480,"comment_id":118630445,"body_markdown":"Does this answer your question? [JPA how to make composite Foreign Key part of composite Primary Key](https://stackoverflow.com/questions/31385658/jpa-how-to-make-composite-foreign-key-part-of-composite-primary-key)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31385658/jpa-how-to-make-composite-foreign-key-part-of-composite-primary-key\">JPA how to make composite Foreign Key part of composite Primary Key</a>"},{"owner":{"account_id":15287059,"reputation":113,"user_id":11029787,"display_name":"Saher"},"score":1,"creation_date":1618513793,"post_id":67113480,"comment_id":118631217,"body_markdown":"not really, because that implies I still need to set the MeetingId (in my case InsuranceId) manually... and I don&#39;t have all the values to that inside the mapper, since the personId is not decided yet &amp; will be null.","body":"not really, because that implies I still need to set the MeetingId (in my case InsuranceId) manually... and I don&#39;t have all the values to that inside the mapper, since the personId is not decided yet &amp; will be null."}],"answers":[{"tags":[],"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618513541,"creation_date":1618513541,"answer_id":67114646,"question_id":67113480,"body_markdown":"1. Remove the `@Column(name = &quot;person_id&quot;, insertable = false, updatable = false)` annotation from the `InsurancePK.personId`.\r\n\r\n2. Add the following annotation:\r\n\r\n```\r\n@JoinColumn(name = &quot;name = &quot;person_id&quot;&quot;)\r\n```\r\n\r\nto the `Insurance.person`.","title":"JPA populate a composite key id part from parent entity","body":"<ol>\n<li><p>Remove the <code>@Column(name = &quot;person_id&quot;, insertable = false, updatable = false)</code> annotation from the <code>InsurancePK.personId</code>.</p>\n</li>\n<li><p>Add the following annotation:</p>\n</li>\n</ol>\n<pre><code>@JoinColumn(name = &quot;name = &quot;person_id&quot;&quot;)\n</code></pre>\n<p>to the <code>Insurance.person</code>.</p>\n"},{"tags":[],"owner":{"account_id":15287059,"reputation":113,"user_id":11029787,"display_name":"Saher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634812384,"creation_date":1618591841,"answer_id":67129256,"question_id":67113480,"body_markdown":"As mentioned in the comments, adding a cascade to my entity column started me on the right track.\r\njust in case, that&#39;s the model that worked for me after couple of tries\r\n\r\n**Parent class**\r\n```java\r\n@Entity\r\n@Setter\r\n@Getter\r\n@RequiredArgsConstructor\r\npublic class Person implements Serializable {\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = &quot;GenerationType.IDENTITY&quot;)\r\n  @Column(name &quot;person_id&quot;)\r\n  private Long personId;\r\n\r\n  @Column(name = &quot;fst_nm&quot;)\r\n  private String fstName;\r\n\r\n  @Column(name = &quot;lst_nm&quot;)\r\n  private String lstNm;\r\n  \r\n  // ..Other columns &amp; relationships\r\n  \r\n  // cascade added  &lt;-- thanks to SternK\r\n  @OneToMany(mappedBy = &quot;person&quot;, casecade = CascadeType.ALL, orphanRemoval = true)\r\n  private List&lt;Insurance&gt; insurances;\r\n\r\n  public void addInsurance(Insurance toAdd) {\r\n    getInsurances().add(toAdd);\r\n    toAdd.setPerson(this);\r\n  }\r\n}\r\n```\r\n**Child class**\r\n```java\r\n@Entity\r\n@Setter\r\n@Getter\r\n@RequiredArgsConstructor\r\npublic class Insurance implements Serializable {\r\n\r\n  @EmbeddedId\r\n  private insurancePK id;\r\n\r\n  //other data\r\n\r\n  @ManyToOne\r\n  @MapsId(&quot;personId&quot;)\r\n  // annotation added here instead of PK class  &lt;-- fix\r\n  @JoinColumn(name=&quot;person_id&quot;, nullable = false, insertable = false, updatable = false)\r\n  private Person person;\r\n}\r\n```\r\n**PK class**\r\n```java\r\n@Setter\r\n@Getter\r\n@Embeddable\r\npublic class InsurancePK implements Serializable {\r\n  //annotation removed  &lt;-- fix thanks to SternK\r\n  private Long personId;\r\n\r\n  @Column(name = &quot;insurance_type&quot;)\r\n  private String insuranceType;\r\n\r\n  @Column(name = &quot;pol_num&quot;)\r\n  private String polNum;\r\n}\r\n```","title":"JPA populate a composite key id part from parent entity","body":"<p>As mentioned in the comments, adding a cascade to my entity column started me on the right track.\njust in case, that's the model that worked for me after couple of tries</p>\n<p><strong>Parent class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Setter\n@Getter\n@RequiredArgsConstructor\npublic class Person implements Serializable {\n\n  @Id\n  @GeneratedValue(strategy = &quot;GenerationType.IDENTITY&quot;)\n  @Column(name &quot;person_id&quot;)\n  private Long personId;\n\n  @Column(name = &quot;fst_nm&quot;)\n  private String fstName;\n\n  @Column(name = &quot;lst_nm&quot;)\n  private String lstNm;\n  \n  // ..Other columns &amp; relationships\n  \n  // cascade added  &lt;-- thanks to SternK\n  @OneToMany(mappedBy = &quot;person&quot;, casecade = CascadeType.ALL, orphanRemoval = true)\n  private List&lt;Insurance&gt; insurances;\n\n  public void addInsurance(Insurance toAdd) {\n    getInsurances().add(toAdd);\n    toAdd.setPerson(this);\n  }\n}\n</code></pre>\n<p><strong>Child class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Setter\n@Getter\n@RequiredArgsConstructor\npublic class Insurance implements Serializable {\n\n  @EmbeddedId\n  private insurancePK id;\n\n  //other data\n\n  @ManyToOne\n  @MapsId(&quot;personId&quot;)\n  // annotation added here instead of PK class  &lt;-- fix\n  @JoinColumn(name=&quot;person_id&quot;, nullable = false, insertable = false, updatable = false)\n  private Person person;\n}\n</code></pre>\n<p><strong>PK class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Setter\n@Getter\n@Embeddable\npublic class InsurancePK implements Serializable {\n  //annotation removed  &lt;-- fix thanks to SternK\n  private Long personId;\n\n  @Column(name = &quot;insurance_type&quot;)\n  private String insuranceType;\n\n  @Column(name = &quot;pol_num&quot;)\n  private String polNum;\n}\n</code></pre>\n"}],"owner":{"account_id":15287059,"reputation":113,"user_id":11029787,"display_name":"Saher"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":819,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67129256,"answer_count":2,"score":1,"last_activity_date":1634812384,"creation_date":1618508623,"question_id":67113480,"body_markdown":"Let&#39;s say I have those two entities, Person &amp; Insurance. One Person can have multiple insurances, and the insurance uniqueness is maintained by a composite key combination of (insurance type, policy number, and person id). The below code represent the the scenario...\r\n\r\n**parent class**\r\n```java\r\n@Entity\r\n@Setter\r\n@Getter\r\n@RequiredArgsConstructor\r\npublic class Person implements Serializable {\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = &quot;GenerationType.IDENTITY&quot;)\r\n  @Column(name &quot;person_id&quot;)\r\n  private Long personId;\r\n\r\n  @Column(name = &quot;fst_nm&quot;)\r\n  private String fstName;\r\n\r\n  @Column(name = &quot;lst_nm&quot;)\r\n  private String lstNm;\r\n  \r\n  // ..Other columns &amp; relationships\r\n  \r\n  @OneToMany(mappedBy = &quot;person&quot;)\r\n  private List&lt;Insurance&gt; insurances;\r\n\r\n  public void addInsurance(Insurance toAdd) {\r\n    getInsurances().add(toAdd);\r\n    toAdd.setPerson(this);\r\n  }\r\n}\r\n```\r\n**child class**\r\n```java\r\n@Entity\r\n@Setter\r\n@Getter\r\n@RequiredArgsConstructor\r\npublic class Insurance implements Serializable {\r\n\r\n  @EmbeddedId\r\n  private insurancePK id;\r\n\r\n  //other data\r\n\r\n  @ManyToOne\r\n  @MapsId(&quot;personId&quot;)\r\n  private Person person;\r\n}\r\n```\r\n**composite PK class**\r\n```java\r\n@Setter\r\n@Getter\r\n@Embeddable\r\npublic class InsurancePK implements Serializable {\r\n\r\n  @Column(name = &quot;person_id&quot;, insertable = false, updatable = false)\r\n  private Long personId;\r\n\r\n  @Column(name = &quot;insurance_type&quot;)\r\n  private String insuranceType;\r\n\r\n  @Column(name = &quot;pol_num&quot;)\r\n  private String polNum;\r\n}\r\n```\r\n\r\nnow, my data mapper looks something like that...\r\n```java\r\n  Person newPerson = new Person();\r\n  newPerson.setInsurances(new ArrayList&lt;&gt;());\r\n\r\n  // fill out Person Model data\r\n\r\n  // incoming insurance data\r\n  while (incomingData.hasNext()) {\r\n    Insurance insuranceData = new Insurance();\r\n    InsurancePK pk = new InsurancePK();\r\n\r\n    // set other insurance data\r\n\r\n    pk.setInsuranceType(&quot;Dental&quot;);\r\n    pk.setPolNum(&quot;123Abc00&quot;);\r\n\r\n    insuranceData.setId(pk);\r\n    person.addInsurance(insuranceData);\r\n  }\r\n```\r\n\r\nProblem is my person_id inside the composite key is always getting a null value, not sure why (shouldn&#39;t the @MapsId takes care of that value)?\r\nI need to fetch that value dynamically, most of the JPA composite key solutions only are setting all the value manually, but that&#39;s not my scenario.\r\n\r\n**return object from saveAndflush()**\r\n```json\r\n{\r\n  person: {\r\n    person_id: 55,\r\n    fst_nm: blah,\r\n    lst_nm: blah,\r\n    insurances: [\r\n      {\r\n        insurance_pk: {\r\n          person_id: null,\r\n          insurance_type: &quot;Dental&quot;,\r\n          pol_num: &quot;123Abc00&quot;\r\n        }\r\n       //other insurance data\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nany suggestions on what am I missing? Thank you in advance!\r\n","title":"JPA populate a composite key id part from parent entity","body":"<p>Let's say I have those two entities, Person &amp; Insurance. One Person can have multiple insurances, and the insurance uniqueness is maintained by a composite key combination of (insurance type, policy number, and person id). The below code represent the the scenario...</p>\n<p><strong>parent class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Setter\n@Getter\n@RequiredArgsConstructor\npublic class Person implements Serializable {\n\n  @Id\n  @GeneratedValue(strategy = &quot;GenerationType.IDENTITY&quot;)\n  @Column(name &quot;person_id&quot;)\n  private Long personId;\n\n  @Column(name = &quot;fst_nm&quot;)\n  private String fstName;\n\n  @Column(name = &quot;lst_nm&quot;)\n  private String lstNm;\n  \n  // ..Other columns &amp; relationships\n  \n  @OneToMany(mappedBy = &quot;person&quot;)\n  private List&lt;Insurance&gt; insurances;\n\n  public void addInsurance(Insurance toAdd) {\n    getInsurances().add(toAdd);\n    toAdd.setPerson(this);\n  }\n}\n</code></pre>\n<p><strong>child class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Setter\n@Getter\n@RequiredArgsConstructor\npublic class Insurance implements Serializable {\n\n  @EmbeddedId\n  private insurancePK id;\n\n  //other data\n\n  @ManyToOne\n  @MapsId(&quot;personId&quot;)\n  private Person person;\n}\n</code></pre>\n<p><strong>composite PK class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Setter\n@Getter\n@Embeddable\npublic class InsurancePK implements Serializable {\n\n  @Column(name = &quot;person_id&quot;, insertable = false, updatable = false)\n  private Long personId;\n\n  @Column(name = &quot;insurance_type&quot;)\n  private String insuranceType;\n\n  @Column(name = &quot;pol_num&quot;)\n  private String polNum;\n}\n</code></pre>\n<p>now, my data mapper looks something like that...</p>\n<pre class=\"lang-java prettyprint-override\"><code>  Person newPerson = new Person();\n  newPerson.setInsurances(new ArrayList&lt;&gt;());\n\n  // fill out Person Model data\n\n  // incoming insurance data\n  while (incomingData.hasNext()) {\n    Insurance insuranceData = new Insurance();\n    InsurancePK pk = new InsurancePK();\n\n    // set other insurance data\n\n    pk.setInsuranceType(&quot;Dental&quot;);\n    pk.setPolNum(&quot;123Abc00&quot;);\n\n    insuranceData.setId(pk);\n    person.addInsurance(insuranceData);\n  }\n</code></pre>\n<p>Problem is my person_id inside the composite key is always getting a null value, not sure why (shouldn't the @MapsId takes care of that value)?\nI need to fetch that value dynamically, most of the JPA composite key solutions only are setting all the value manually, but that's not my scenario.</p>\n<p><strong>return object from saveAndflush()</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  person: {\n    person_id: 55,\n    fst_nm: blah,\n    lst_nm: blah,\n    insurances: [\n      {\n        insurance_pk: {\n          person_id: null,\n          insurance_type: &quot;Dental&quot;,\n          pol_num: &quot;123Abc00&quot;\n        }\n       //other insurance data\n      }\n    ]\n  }\n}\n</code></pre>\n<p>any suggestions on what am I missing? Thank you in advance!</p>\n"},{"tags":["java","jsp","struts2","ognl"],"comments":[{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1507744137,"post_id":46688000,"comment_id":80336809,"body_markdown":"Take a look at the following url - `blah?some=v1&amp;some=v2&amp;some=v3&amp;another=v`. Parameters is a map of list.","body":"Take a look at the following url - <code>blah?some=v1&amp;some=v2&amp;some=v3&amp;another=v</code>. Parameters is a map of list."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634811671,"creation_date":1507728845,"answer_id":46689605,"question_id":46688000,"body_markdown":"You don&#39;t need to pretend, it&#39;s a collection. The new implementation uses `HttpParameters` and OGNL expression doesn&#39;t know that, a tag is using `toString()` value on object that is not a string.\r\n\r\nYou can read more about parameters in [this][1] answer.\r\n\r\n[`HttpParameters`][2].  The later class implements a `Map&lt;String,Parameter&gt;`, so you can use \r\nthis to get/put parameters to the map.\r\n\r\n**Also see:**\r\n \r\n * [How can we access request parameters passed into an Action][3] \r\n * [How to use parameters in JSP][4] \r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/45300007/573032\r\n  [2]: https://struts.apache.org/maven/struts2-core/apidocs/org/apache/struts2/dispatcher/HttpParameters.html\r\n  [3]: https://cwiki.apache.org/confluence/plugins/servlet/mobile?contentId=14182#content/view/13977\r\n  [4]: https://struts.apache.org/tag-developers/jsp#request-parameter\r\n\r\n","title":"Testing Struts request parameter against String with odd results - why does it look like a collection?","body":"<p>You don't need to pretend, it's a collection. The new implementation uses <code>HttpParameters</code> and OGNL expression doesn't know that, a tag is using <code>toString()</code> value on object that is not a string.</p>\n<p>You can read more about parameters in <a href=\"https://stackoverflow.com/a/45300007/573032\">this</a> answer.</p>\n<p><a href=\"https://struts.apache.org/maven/struts2-core/apidocs/org/apache/struts2/dispatcher/HttpParameters.html\" rel=\"nofollow noreferrer\"><code>HttpParameters</code></a>.  The later class implements a <code>Map&lt;String,Parameter&gt;</code>, so you can use\nthis to get/put parameters to the map.</p>\n<p><strong>Also see:</strong></p>\n<ul>\n<li><a href=\"https://cwiki.apache.org/confluence/plugins/servlet/mobile?contentId=14182#content/view/13977\" rel=\"nofollow noreferrer\">How can we access request parameters passed into an Action</a></li>\n<li><a href=\"https://struts.apache.org/tag-developers/jsp#request-parameter\" rel=\"nofollow noreferrer\">How to use parameters in JSP</a></li>\n</ul>\n"}],"owner":{"account_id":2296797,"reputation":6110,"user_id":2018047,"accept_rate":51,"display_name":"Christian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634812249,"creation_date":1507724180,"question_id":46688000,"body_markdown":"I am calling an action via `foo.action?error=bar`\r\n\r\nIn `struts.xml`, I have configured the action chain as follows:\r\n\r\n    &lt;action name=&quot;foo&quot;&gt;\r\n      &lt;interceptor-ref name=&quot;defaultStack&quot;/&gt;\r\n      &lt;!-- custom interceptors --&gt;\r\n      &lt;result name=&quot;success&quot;&gt;/jsp/foo.jsp&lt;/result&gt;\r\n    &lt;/action&gt;\r\n\r\nIn the JSP, I&#39;m running a test:\r\n\r\n    &lt;s:if test=&quot;#parameters.error[0] == &#39;bar&#39;&quot;&gt;\r\n\r\nIt&#39;s legacy code; this works.  \r\nHowever, the following does not, and I don&#39;t understand why:\r\n\r\n    &lt;s:if test=&quot;#parameters.error == &#39;bar&#39;&quot;&gt;\r\n\r\nWhy do I need to pretend the error parameter is a collection?\r\n\r\nJudging from the docs:\r\n * [Access to ValueStack from JSPs][1]\r\n *  [JSP][2]\r\n\r\nI shouldn&#39;t have to - but then I haven&#39;t used JSPs much...\r\n\r\nI have added the following to the JSP, in order to help me understand what&#39;s going on:\r\n\r\n    &lt;s:property value=&quot;#parameters.error&quot;/&gt;                          // bar\r\n    &lt;s:property value=&quot;parameters.error&quot;/&gt;                           // &lt;nothing&gt;\r\n    &lt;s:property value=&quot;parameters.error[0]&quot;/&gt;                        // &lt;nothing&gt;\r\n    &lt;%= pageContext.getRequest().getParameter(&quot;error&quot;) %&gt;            // bar\r\n    &lt;%= pageContext.getRequest().getParameter(&quot;error&quot;).getClass() %&gt; // class java.lang.String\r\n    &lt;s:property value=&quot;#parameters.error==&#39;bar&#39;&quot;/&gt;                   // false\r\n    &lt;s:property value=&quot;&#39;token&#39;.getClass()&quot;/&gt;                         // &lt;nothing&gt;\r\n\r\nThat output confuses me even more. Can someone please explain what&#39;s going on?\r\n\r\n\r\n  [1]: https://struts.apache.org/tag-developers/access-to-valuestack-from-jsps.html\r\n  [2]: https://struts.apache.org/tag-developers/jsp.html","title":"Testing Struts request parameter against String with odd results - why does it look like a collection?","body":"<p>I am calling an action via <code>foo.action?error=bar</code></p>\n<p>In <code>struts.xml</code>, I have configured the action chain as follows:</p>\n<pre><code>&lt;action name=&quot;foo&quot;&gt;\n  &lt;interceptor-ref name=&quot;defaultStack&quot;/&gt;\n  &lt;!-- custom interceptors --&gt;\n  &lt;result name=&quot;success&quot;&gt;/jsp/foo.jsp&lt;/result&gt;\n&lt;/action&gt;\n</code></pre>\n<p>In the JSP, I'm running a test:</p>\n<pre><code>&lt;s:if test=&quot;#parameters.error[0] == 'bar'&quot;&gt;\n</code></pre>\n<p>It's legacy code; this works.<br />\nHowever, the following does not, and I don't understand why:</p>\n<pre><code>&lt;s:if test=&quot;#parameters.error == 'bar'&quot;&gt;\n</code></pre>\n<p>Why do I need to pretend the error parameter is a collection?</p>\n<p>Judging from the docs:</p>\n<ul>\n<li><a href=\"https://struts.apache.org/tag-developers/access-to-valuestack-from-jsps.html\" rel=\"nofollow noreferrer\">Access to ValueStack from JSPs</a></li>\n<li><a href=\"https://struts.apache.org/tag-developers/jsp.html\" rel=\"nofollow noreferrer\">JSP</a></li>\n</ul>\n<p>I shouldn't have to - but then I haven't used JSPs much...</p>\n<p>I have added the following to the JSP, in order to help me understand what's going on:</p>\n<pre><code>&lt;s:property value=&quot;#parameters.error&quot;/&gt;                          // bar\n&lt;s:property value=&quot;parameters.error&quot;/&gt;                           // &lt;nothing&gt;\n&lt;s:property value=&quot;parameters.error[0]&quot;/&gt;                        // &lt;nothing&gt;\n&lt;%= pageContext.getRequest().getParameter(&quot;error&quot;) %&gt;            // bar\n&lt;%= pageContext.getRequest().getParameter(&quot;error&quot;).getClass() %&gt; // class java.lang.String\n&lt;s:property value=&quot;#parameters.error=='bar'&quot;/&gt;                   // false\n&lt;s:property value=&quot;'token'.getClass()&quot;/&gt;                         // &lt;nothing&gt;\n</code></pre>\n<p>That output confuses me even more. Can someone please explain what's going on?</p>\n"},{"tags":["java","static","spring-boot"],"comments":[{"owner":{"account_id":4682435,"reputation":7616,"user_id":3790806,"accept_rate":86,"display_name":"hzpz"},"score":0,"creation_date":1458566959,"post_id":28437314,"comment_id":59903350,"body_markdown":"Does the view controller mapping I suggested answer your question? If so, please accept it. Otherwise please clarify your problem and I&#39;ll be happy to update my answer.","body":"Does the view controller mapping I suggested answer your question? If so, please accept it. Otherwise please clarify your problem and I&#39;ll be happy to update my answer."}],"answers":[{"tags":[],"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1423587323,"creation_date":1423587323,"answer_id":28437349,"question_id":28437314,"body_markdown":"It&#39;s not Spring Boot mapping to index.html it&#39;s the servlet engine (it&#39;s a welcome page). There&#39;s only one welcome page (per the spec), and directory browsing is not a feature of the containers.","title":"Spring boot doesn&#39;t map folder requests to `index.html` files","body":"<p>It's not Spring Boot mapping to index.html it's the servlet engine (it's a welcome page). There's only one welcome page (per the spec), and directory browsing is not a feature of the containers.</p>\n"},{"tags":[],"owner":{"account_id":4682435,"reputation":7616,"user_id":3790806,"accept_rate":86,"display_name":"hzpz"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1430400444,"creation_date":1430400444,"answer_id":29969014,"question_id":28437314,"body_markdown":"You can manually add a view controller mapping to make this work:\r\n\r\n    @Configuration\r\n    public class CustomWebMvcConfigurerAdapter extends WebMvcConfigurerAdapter {\r\n\r\n        @Override\r\n        public void addViewControllers(ViewControllerRegistry registry) {\r\n            registry.addViewController(&quot;/docs&quot;).setViewName(&quot;redirect:/docs/&quot;);\r\n            registry.addViewController(&quot;/docs/&quot;).setViewName(&quot;forward:/docs/index.html&quot;);\r\n        super.addViewControllers(registry);\r\n        }\r\n    }\r\n\r\nThe first mapping causes Spring MVC to send a redirect to the client if `/docs` (without trailing slash) gets requested. This is necessary if you have relative links in `/docs/index.html`. The second mapping forwards any request to `/docs/` internally (without sending a redirect to the client) to the `index.html` in the `docs` subdirectory.","title":"Spring boot doesn&#39;t map folder requests to `index.html` files","body":"<p>You can manually add a view controller mapping to make this work:</p>\n\n<pre><code>@Configuration\npublic class CustomWebMvcConfigurerAdapter extends WebMvcConfigurerAdapter {\n\n    @Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController(\"/docs\").setViewName(\"redirect:/docs/\");\n        registry.addViewController(\"/docs/\").setViewName(\"forward:/docs/index.html\");\n    super.addViewControllers(registry);\n    }\n}\n</code></pre>\n\n<p>The first mapping causes Spring MVC to send a redirect to the client if <code>/docs</code> (without trailing slash) gets requested. This is necessary if you have relative links in <code>/docs/index.html</code>. The second mapping forwards any request to <code>/docs/</code> internally (without sending a redirect to the client) to the <code>index.html</code> in the <code>docs</code> subdirectory.</p>\n"},{"tags":[],"owner":{"account_id":1986201,"reputation":2750,"user_id":1781357,"accept_rate":45,"display_name":"Mikhail"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1506325684,"creation_date":1506325684,"answer_id":46400019,"question_id":28437314,"body_markdown":"Spring boot show index.html by default.\r\n\r\nbut index.html should be \r\nin\r\n/resource/static or \r\n/public\r\n\r\nexample:\r\n\r\n    https://github.com/spring-projects/spring-boot/tree/master/spring-boot-samples/spring-boot-sample-web-static","title":"Spring boot doesn&#39;t map folder requests to `index.html` files","body":"<p>Spring boot show index.html by default.</p>\n\n<p>but index.html should be \nin\n/resource/static or \n/public</p>\n\n<p>example:</p>\n\n<pre><code>https://github.com/spring-projects/spring-boot/tree/master/spring-boot-samples/spring-boot-sample-web-static\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1574777184,"creation_date":1574776192,"answer_id":59052438,"question_id":28437314,"body_markdown":"After Java 8 introduced [Default Methods in Interfaces](https://www.baeldung.com/java-static-default-methods), `WebMvcConfigurerAdapter` has been **deprecated in Spring 5 / Spring Boot 2**. \r\n\r\nUsing it will now raise [the warning](https://www.baeldung.com/web-mvc-configurer-adapter-deprecated):\r\n\r\n&gt; The type WebMvcConfigurerAdapter is deprecated\r\n\r\nHence, to make [@hzpz&#39;s solution](https://stackoverflow.com/a/29969014/1654265) work again, we need to change it as follows:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Configuration\r\n    public class CustomWebMvcConfigurer implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void addViewControllers(ViewControllerRegistry registry) {\r\n            registry.addViewController(&quot;/docs&quot;).setViewName(&quot;redirect:/docs/&quot;);\r\n            registry.addViewController(&quot;/docs/&quot;).setViewName(&quot;forward:/docs/index.html&quot;);\r\n        }\r\n    }","title":"Spring boot doesn&#39;t map folder requests to `index.html` files","body":"<p>After Java 8 introduced <a href=\"https://www.baeldung.com/java-static-default-methods\" rel=\"noreferrer\">Default Methods in Interfaces</a>, <code>WebMvcConfigurerAdapter</code> has been <strong>deprecated in Spring 5 / Spring Boot 2</strong>. </p>\n\n<p>Using it will now raise <a href=\"https://www.baeldung.com/web-mvc-configurer-adapter-deprecated\" rel=\"noreferrer\">the warning</a>:</p>\n\n<blockquote>\n  <p>The type WebMvcConfigurerAdapter is deprecated</p>\n</blockquote>\n\n<p>Hence, to make <a href=\"https://stackoverflow.com/a/29969014/1654265\">@hzpz's solution</a> work again, we need to change it as follows:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class CustomWebMvcConfigurer implements WebMvcConfigurer {\n\n    @Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController(\"/docs\").setViewName(\"redirect:/docs/\");\n        registry.addViewController(\"/docs/\").setViewName(\"forward:/docs/index.html\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3303925,"reputation":2096,"user_id":2779330,"accept_rate":60,"display_name":"Bojan Vukasovic"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634811861,"creation_date":1634737271,"answer_id":69647129,"question_id":28437314,"body_markdown":"This one will always try to match `requestPath + /index.html` if static resource is not found:\r\n\r\n    import java.util.List;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.core.Ordered;\r\n    import org.springframework.core.io.Resource;\r\n    import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    import org.springframework.web.servlet.resource.PathResourceResolver;\r\n    import org.springframework.web.servlet.resource.ResourceResolverChain;\r\n    \r\n    @Configuration\r\n    public class ResourceHandlerConfig implements WebMvcConfigurer {\r\n    \r\n      static class IndexFallbackResourceResolver extends PathResourceResolver{\r\n        @Override\r\n        protected Resource resolveResourceInternal(HttpServletRequest request, String requestPath,\r\n            List&lt;? extends Resource&gt; locations, ResourceResolverChain chain) {\r\n          Resource resource = super.resolveResourceInternal(request, requestPath, locations, chain);\r\n          if(resource==null){\r\n            //try with /index.html\r\n            resource = super.resolveResourceInternal(request, requestPath + &quot;/index.html&quot;, locations, chain);\r\n          }\r\n          return resource;\r\n        }\r\n      }\r\n    \r\n      @Override\r\n      public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        registry\r\n            .setOrder(Ordered.LOWEST_PRECEDENCE)\r\n            .addResourceHandler(&quot;/**&quot;)\r\n            .addResourceLocations(&quot;classpath:/static/&quot;)\r\n            //first time resolved, that route will always be used from cache\r\n            .resourceChain(true)\r\n            .addResolver(new IndexFallbackResourceResolver());\r\n      }\r\n    }","title":"Spring boot doesn&#39;t map folder requests to `index.html` files","body":"<p>This one will always try to match <code>requestPath + /index.html</code> if static resource is not found:</p>\n<pre><code>import java.util.List;\nimport javax.servlet.http.HttpServletRequest;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.Ordered;\nimport org.springframework.core.io.Resource;\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\nimport org.springframework.web.servlet.resource.PathResourceResolver;\nimport org.springframework.web.servlet.resource.ResourceResolverChain;\n\n@Configuration\npublic class ResourceHandlerConfig implements WebMvcConfigurer {\n\n  static class IndexFallbackResourceResolver extends PathResourceResolver{\n    @Override\n    protected Resource resolveResourceInternal(HttpServletRequest request, String requestPath,\n        List&lt;? extends Resource&gt; locations, ResourceResolverChain chain) {\n      Resource resource = super.resolveResourceInternal(request, requestPath, locations, chain);\n      if(resource==null){\n        //try with /index.html\n        resource = super.resolveResourceInternal(request, requestPath + &quot;/index.html&quot;, locations, chain);\n      }\n      return resource;\n    }\n  }\n\n  @Override\n  public void addResourceHandlers(ResourceHandlerRegistry registry) {\n    registry\n        .setOrder(Ordered.LOWEST_PRECEDENCE)\n        .addResourceHandler(&quot;/**&quot;)\n        .addResourceLocations(&quot;classpath:/static/&quot;)\n        //first time resolved, that route will always be used from cache\n        .resourceChain(true)\n        .addResolver(new IndexFallbackResourceResolver());\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":368939,"reputation":22613,"user_id":716027,"accept_rate":56,"display_name":"fedor.belov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7945,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"answer_count":5,"score":29,"last_activity_date":1634811861,"creation_date":1423587221,"question_id":28437314,"body_markdown":"I&#39;ve got `static` folder with following structure:\r\n\r\n&gt; index.html  \r\n&gt; docs/index.html\r\n\r\nSpring Boot correctly maps requests `/` to `index.html`. But it doesn&#39;t map `/docs/` request to `/docs/index.html` (`/docs/index.html` request works correctly).\r\n\r\nHow to map folder/subfolder requests to appropriate `index.html` files?","title":"Spring boot doesn&#39;t map folder requests to `index.html` files","body":"<p>I've got <code>static</code> folder with following structure:</p>\n\n<blockquote>\n  <p>index.html<br>\n  docs/index.html</p>\n</blockquote>\n\n<p>Spring Boot correctly maps requests <code>/</code> to <code>index.html</code>. But it doesn't map <code>/docs/</code> request to <code>/docs/index.html</code> (<code>/docs/index.html</code> request works correctly).</p>\n\n<p>How to map folder/subfolder requests to appropriate <code>index.html</code> files?</p>\n"},{"tags":["java","encryption","saml","opensaml"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1634882339,"post_id":69660030,"comment_id":123150405,"body_markdown":"&#39;BadPadding&#39; for RSA (including OAEP) usually means you&#39;re trying to decrypt with a private key that doesn&#39;t match the public key used to encrypt. Maybe you&#39;re using the wrong keystore or entry, or maybe the sender is using the wrong key probably from a wrong or superseded certificate. If so, dupe https://stackoverflow.com/questions/54621039/how-to-test-debug-decrypting-encrypted-assertion-using-opensaml-2-and-java . XMLenc EncryptedKey can contain info about the cert used; if your sender (the idp) does so, you should check that info against your cert and/or key.","body":"&#39;BadPadding&#39; for RSA (including OAEP) usually means you&#39;re trying to decrypt with a private key that doesn&#39;t match the public key used to encrypt. Maybe you&#39;re using the wrong keystore or entry, or maybe the sender is using the wrong key probably from a wrong or superseded certificate. If so, dupe <a href=\"https://stackoverflow.com/questions/54621039/how-to-test-debug-decrypting-encrypted-assertion-using-opensaml-2-and-java\" title=\"how to test debug decrypting encrypted assertion using opensaml 2 and java\">stackoverflow.com/questions/54621039/&hellip;</a> . XMLenc EncryptedKey can contain info about the cert used; if your sender (the idp) does so, you should check that info against your cert and/or key."}],"owner":{"account_id":23099065,"reputation":1,"user_id":17208727,"display_name":"Huge_Sky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1689,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634811653,"creation_date":1634811116,"question_id":69660030,"body_markdown":"I am facing issues with the encryption.I had received a response from idp,and encountered a problem in decryption\r\nThis is to convert a string to an XML object\r\n\r\n```\r\nDocumentBuilder docBuilder = getDocumentBuilder(false, true, null);\r\nByteArrayInputStream inputStream = new ByteArrayInputStream(decodedResponse.getBytes(StandardCharsets.UTF_8));\r\nDocument document = docBuilder.parse(inputStream);\r\nElement metadataRoot = document.getDocumentElement();\r\n```\r\nUnmarshall\r\n```\r\nUnmarshallerFactory unmarshallerFactory = XMLObjectProviderRegistrySupport.getUnmarshallerFactory();\r\nUnmarshaller unmarshaller = unmarshallerFactory.getUnmarshaller(metadataRoot);\r\nResponse response = (Response)unmarshaller.unmarshall(metadataRoot);\r\n```\r\nDecrypter\r\n```\r\nEncryptedAssertion encryptedAssertion = null;\r\nAssertion assertion = null;\r\nList&lt;EncryptedAssertion&gt; encryptedAssertions = response.getEncryptedAssertions();\r\nencryptedAssertion=encryptedAssertions.get(0);\r\nStaticKeyInfoCredentialResolver keyInfoCredentialResolver = new StaticKeyInfoCredentialResolver(SPCredentials.getCredential());\r\nDecrypter decrypter = new Decrypter(null, keyInfoCredentialResolver, new InlineEncryptedKeyResolver());\r\ndecrypter.setRootInNewDocument(true);\r\nassertion= decrypter.decrypt(encryptedAssertion);\r\n```\r\nThe error message appears on this line\r\n```\r\nassertion= decrypter.decrypt(encryptedAssertion);\r\n```\r\nThis is the JKS registration method\r\n```\r\nstatic {\r\n        try {\r\n            KeyStore keystore = readKeystoreFromFile(KEY_STORE_PATH, KEY_STORE_PASSWORD);\r\n            Map&lt;String, String&gt; passwordMap = new HashMap&lt;String, String&gt;();\r\n            passwordMap.put(KEY_ENTRY_ID, KEY_STORE_ENTRY_PASSWORD);\r\n            KeyStoreCredentialResolver resolver = new KeyStoreCredentialResolver(keystore, passwordMap);\r\n            Criterion criterion = new EntityIdCriterion(KEY_ENTRY_ID);\r\n            CriteriaSet criteriaSet = new CriteriaSet();\r\n            criteriaSet.add(criterion);\r\n            credential = resolver.resolveSingle(criteriaSet);\r\n        } catch (ResolverException e) {\r\n            throw new RuntimeException(&quot;Something went wrong reading credentials&quot;, e);\r\n        }\r\n    }\r\n\r\n    private static KeyStore readKeystoreFromFile(String pathToKeyStore, String keyStorePassword) {\r\n        try {\r\n            KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n            InputStream inputStream = SPCredentials.class.getResourceAsStream(pathToKeyStore);\r\n            keystore.load(inputStream, keyStorePassword.toCharArray());\r\n            inputStream.close();\r\n            return keystore;\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(&quot;Something went wrong reading keystore&quot;, e);\r\n        }\r\n    }\r\n```\r\nThis is an error message\r\n```\r\n2021-10-21 17:50:46,466 [ERROR] [http-nio-8080-exec-2] org.opensaml.xmlsec.encryption.support.Decrypter [Decrypter.java : 717] - Error decrypting encrypted key\r\norg.apache.xml.security.encryption.XMLEncryptionException: Unwrapping failed\r\n\tat org.apache.xml.security.encryption.XMLCipher.decryptKey(XMLCipher.java:1532)\r\n\tat org.opensaml.xmlsec.encryption.support.Decrypter.decryptKey(Decrypter.java:711)\r\n\tat org.opensaml.xmlsec.encryption.support.Decrypter.decryptKey(Decrypter.java:643)\r\n\tat org.opensaml.xmlsec.encryption.support.Decrypter.decryptUsingResolvedEncryptedKey(Decrypter.java:781)\r\n\tat org.opensaml.xmlsec.encryption.support.Decrypter.decryptDataToDOM(Decrypter.java:539)\r\n\tat org.opensaml.xmlsec.encryption.support.Decrypter.decryptDataToList(Decrypter.java:452)\r\n\tat org.opensaml.xmlsec.encryption.support.Decrypter.decryptData(Decrypter.java:412)\r\n\tat org.opensaml.saml.saml2.encryption.Decrypter.decryptData(Decrypter.java:176)\r\n\tat org.opensaml.saml.saml2.encryption.Decrypter.decrypt(Decrypter.java:104)\r\n\tat com.shell.web.controller.system.sso.SysSSoController.test1(SysSSoController.java:206)\r\n\tat com.shell.web.controller.system.sso.SysSSoController.test2(SysSSoController.java:126)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:652)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:124)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.shell.common.filter.RepeatableFilter.doFilter(RepeatableFilter.java:70)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat com.shell.framework.security.filter.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:42)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:92)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:888)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1597)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: java.security.InvalidKeyException: Unwrapping failed\r\n\tat com.sun.crypto.provider.RSACipher.engineUnwrap(RSACipher.java:445)\r\n\tat javax.crypto.Cipher.unwrap(Cipher.java:2550)\r\n\tat org.apache.xml.security.encryption.XMLCipher.decryptKey(XMLCipher.java:1530)\r\n\t... 111 common frames omitted\r\nCaused by: javax.crypto.BadPaddingException: Decryption error\r\n\tat sun.security.rsa.RSAPadding.unpadOAEP(RSAPadding.java:499)\r\n\tat sun.security.rsa.RSAPadding.unpad(RSAPadding.java:293)\r\n\tat com.sun.crypto.provider.RSACipher.doFinal(RSACipher.java:363)\r\n\tat com.sun.crypto.provider.RSACipher.engineUnwrap(RSACipher.java:440)\r\n\t... 113 common frames omitted\r\n2021-10-21 17:50:46,512 [ERROR] [http-nio-8080-exec-2] org.opensaml.xmlsec.encryption.support.Decrypter [Decrypter.java : 654] - Failed to decrypt EncryptedKey, valid decryption key could not be resolved\r\n2021-10-21 17:50:46,515 [ERROR] [http-nio-8080-exec-2] org.opensaml.xmlsec.encryption.support.Decrypter [Decrypter.java : 547] - Failed to decrypt EncryptedData using either EncryptedData KeyInfoCredentialResolver or EncryptedKeyResolver + EncryptedKey KeyInfoCredentialResolver\r\n2021-10-21 17:50:46,520 [ERROR] [http-nio-8080-exec-2] org.opensaml.saml.saml2.encryption.Decrypter [Decrypter.java : 178] - SAML Decrypter encountered an error decrypting element content\r\norg.opensaml.xmlsec.encryption.support.DecryptionException: Failed to decrypt EncryptedData\r\n\tat org.opensaml.xmlsec.encryption.support.Decrypter.decryptDataToDOM(Decrypter.java:550)\r\n\tat org.opensaml.xmlsec.encryption.support.Decrypter.decryptDataToList(Decrypter.java:452)\r\n\r\n```\r\nI want to know where this error occurred and how to solve it\r\n\r\n\r\n","title":"SAML EncryptedAssertion Decryption failing - Error decrypting encrypted key","body":"<p>I am facing issues with the encryption.I had received a response from idp,and encountered a problem in decryption\nThis is to convert a string to an XML object</p>\n<pre><code>DocumentBuilder docBuilder = getDocumentBuilder(false, true, null);\nByteArrayInputStream inputStream = new ByteArrayInputStream(decodedResponse.getBytes(StandardCharsets.UTF_8));\nDocument document = docBuilder.parse(inputStream);\nElement metadataRoot = document.getDocumentElement();\n</code></pre>\n<p>Unmarshall</p>\n<pre><code>UnmarshallerFactory unmarshallerFactory = XMLObjectProviderRegistrySupport.getUnmarshallerFactory();\nUnmarshaller unmarshaller = unmarshallerFactory.getUnmarshaller(metadataRoot);\nResponse response = (Response)unmarshaller.unmarshall(metadataRoot);\n</code></pre>\n<p>Decrypter</p>\n<pre><code>EncryptedAssertion encryptedAssertion = null;\nAssertion assertion = null;\nList&lt;EncryptedAssertion&gt; encryptedAssertions = response.getEncryptedAssertions();\nencryptedAssertion=encryptedAssertions.get(0);\nStaticKeyInfoCredentialResolver keyInfoCredentialResolver = new StaticKeyInfoCredentialResolver(SPCredentials.getCredential());\nDecrypter decrypter = new Decrypter(null, keyInfoCredentialResolver, new InlineEncryptedKeyResolver());\ndecrypter.setRootInNewDocument(true);\nassertion= decrypter.decrypt(encryptedAssertion);\n</code></pre>\n<p>The error message appears on this line</p>\n<pre><code>assertion= decrypter.decrypt(encryptedAssertion);\n</code></pre>\n<p>This is the JKS registration method</p>\n<pre><code>static {\n        try {\n            KeyStore keystore = readKeystoreFromFile(KEY_STORE_PATH, KEY_STORE_PASSWORD);\n            Map&lt;String, String&gt; passwordMap = new HashMap&lt;String, String&gt;();\n            passwordMap.put(KEY_ENTRY_ID, KEY_STORE_ENTRY_PASSWORD);\n            KeyStoreCredentialResolver resolver = new KeyStoreCredentialResolver(keystore, passwordMap);\n            Criterion criterion = new EntityIdCriterion(KEY_ENTRY_ID);\n            CriteriaSet criteriaSet = new CriteriaSet();\n            criteriaSet.add(criterion);\n            credential = resolver.resolveSingle(criteriaSet);\n        } catch (ResolverException e) {\n            throw new RuntimeException(&quot;Something went wrong reading credentials&quot;, e);\n        }\n    }\n\n    private static KeyStore readKeystoreFromFile(String pathToKeyStore, String keyStorePassword) {\n        try {\n            KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\n            InputStream inputStream = SPCredentials.class.getResourceAsStream(pathToKeyStore);\n            keystore.load(inputStream, keyStorePassword.toCharArray());\n            inputStream.close();\n            return keystore;\n        } catch (Exception e) {\n            throw new RuntimeException(&quot;Something went wrong reading keystore&quot;, e);\n        }\n    }\n</code></pre>\n<p>This is an error message</p>\n<pre><code>2021-10-21 17:50:46,466 [ERROR] [http-nio-8080-exec-2] org.opensaml.xmlsec.encryption.support.Decrypter [Decrypter.java : 717] - Error decrypting encrypted key\norg.apache.xml.security.encryption.XMLEncryptionException: Unwrapping failed\n    at org.apache.xml.security.encryption.XMLCipher.decryptKey(XMLCipher.java:1532)\n    at org.opensaml.xmlsec.encryption.support.Decrypter.decryptKey(Decrypter.java:711)\n    at org.opensaml.xmlsec.encryption.support.Decrypter.decryptKey(Decrypter.java:643)\n    at org.opensaml.xmlsec.encryption.support.Decrypter.decryptUsingResolvedEncryptedKey(Decrypter.java:781)\n    at org.opensaml.xmlsec.encryption.support.Decrypter.decryptDataToDOM(Decrypter.java:539)\n    at org.opensaml.xmlsec.encryption.support.Decrypter.decryptDataToList(Decrypter.java:452)\n    at org.opensaml.xmlsec.encryption.support.Decrypter.decryptData(Decrypter.java:412)\n    at org.opensaml.saml.saml2.encryption.Decrypter.decryptData(Decrypter.java:176)\n    at org.opensaml.saml.saml2.encryption.Decrypter.decrypt(Decrypter.java:104)\n    at com.shell.web.controller.system.sso.SysSSoController.test1(SysSSoController.java:206)\n    at com.shell.web.controller.system.sso.SysSSoController.test2(SysSSoController.java:126)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:124)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at com.shell.common.filter.RepeatableFilter.doFilter(RepeatableFilter.java:70)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at com.shell.framework.security.filter.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:42)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:92)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:888)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1597)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.security.InvalidKeyException: Unwrapping failed\n    at com.sun.crypto.provider.RSACipher.engineUnwrap(RSACipher.java:445)\n    at javax.crypto.Cipher.unwrap(Cipher.java:2550)\n    at org.apache.xml.security.encryption.XMLCipher.decryptKey(XMLCipher.java:1530)\n    ... 111 common frames omitted\nCaused by: javax.crypto.BadPaddingException: Decryption error\n    at sun.security.rsa.RSAPadding.unpadOAEP(RSAPadding.java:499)\n    at sun.security.rsa.RSAPadding.unpad(RSAPadding.java:293)\n    at com.sun.crypto.provider.RSACipher.doFinal(RSACipher.java:363)\n    at com.sun.crypto.provider.RSACipher.engineUnwrap(RSACipher.java:440)\n    ... 113 common frames omitted\n2021-10-21 17:50:46,512 [ERROR] [http-nio-8080-exec-2] org.opensaml.xmlsec.encryption.support.Decrypter [Decrypter.java : 654] - Failed to decrypt EncryptedKey, valid decryption key could not be resolved\n2021-10-21 17:50:46,515 [ERROR] [http-nio-8080-exec-2] org.opensaml.xmlsec.encryption.support.Decrypter [Decrypter.java : 547] - Failed to decrypt EncryptedData using either EncryptedData KeyInfoCredentialResolver or EncryptedKeyResolver + EncryptedKey KeyInfoCredentialResolver\n2021-10-21 17:50:46,520 [ERROR] [http-nio-8080-exec-2] org.opensaml.saml.saml2.encryption.Decrypter [Decrypter.java : 178] - SAML Decrypter encountered an error decrypting element content\norg.opensaml.xmlsec.encryption.support.DecryptionException: Failed to decrypt EncryptedData\n    at org.opensaml.xmlsec.encryption.support.Decrypter.decryptDataToDOM(Decrypter.java:550)\n    at org.opensaml.xmlsec.encryption.support.Decrypter.decryptDataToList(Decrypter.java:452)\n\n</code></pre>\n<p>I want to know where this error occurred and how to solve it</p>\n"},{"tags":["java","maven","repository","http-status-code-401","mvn-repo"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":2,"creation_date":1634812830,"post_id":69660113,"comment_id":123129370,"body_markdown":"Sounds like a proxy problem, or maybe firewall. You are probably inside a company network.","body":"Sounds like a proxy problem, or maybe firewall. You are probably inside a company network."},{"owner":{"account_id":72439,"reputation":2520,"user_id":209129,"display_name":"Amit Naidu"},"score":0,"creation_date":1658768621,"post_id":69660113,"comment_id":129128650,"body_markdown":"`[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch. [ERROR] Re-run Maven using the -X switch to enable full debug logging.`","body":"<code>[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch. [ERROR] Re-run Maven using the -X switch to enable full debug logging.</code>"}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634811508,"creation_date":1634811508,"question_id":69660113,"body_markdown":"I get this error when running `mvn clean install`:\r\n\r\n&gt;[ERROR] Failed to execute goal com.github.eslett:frontend-maven-plugin:1.1:install-node-and-npm (Install NodeJS and NPM binaries) on project Hian-Direct-War: Could not download Node.js from: https://binaries.me.com/artifactory/igi-digital-maven-local/nodejs/v4.4.3/win-x64/node.exe: Got error code 401 from the server. -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n[ERROR]\r\n[ERROR] After correcting the problems, you can resume the build with the command\r\n[ERROR]   mvn &lt;goals&gt; -rf :Hian-Direct-War\r\n\r\nI can however log into that URL through my browser and manually download the `.exe`. Is there anything I should do to allow this when running `mvn clean install` via my cmd?","title":"Unable to download exe via mvn clean install","body":"<p>I get this error when running <code>mvn clean install</code>:</p>\n<blockquote>\n<p>[ERROR] Failed to execute goal com.github.eslett:frontend-maven-plugin:1.1:install-node-and-npm (Install NodeJS and NPM binaries) on project Hian-Direct-War: Could not download Node.js from: <a href=\"https://binaries.me.com/artifactory/igi-digital-maven-local/nodejs/v4.4.3/win-x64/node.exe\" rel=\"nofollow noreferrer\">https://binaries.me.com/artifactory/igi-digital-maven-local/nodejs/v4.4.3/win-x64/node.exe</a>: Got error code 401 from the server. -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\" rel=\"nofollow noreferrer\">http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException</a>\n[ERROR]\n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn  -rf :Hian-Direct-War</p>\n</blockquote>\n<p>I can however log into that URL through my browser and manually download the <code>.exe</code>. Is there anything I should do to allow this when running <code>mvn clean install</code> via my cmd?</p>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":15338340,"reputation":1012,"user_id":11066033,"display_name":"Willem"},"score":0,"creation_date":1634804736,"post_id":69658339,"comment_id":123125930,"body_markdown":"put the JiraRestClient in a variable and call the `close()` method on it in a finally block. Or use  try-with-resources","body":"put the JiraRestClient in a variable and call the <code>close()</code> method on it in a finally block. Or use  try-with-resources"},{"owner":{"account_id":21571731,"reputation":27,"user_id":15904532,"display_name":"vdvaart"},"score":0,"creation_date":1634805228,"post_id":69658339,"comment_id":123126120,"body_markdown":"I tried, try{\n\n\n\n} finally {\n\nrestClient.close();\n\n} , but it&#39;s not working","body":"I tried, try{    } finally {  restClient.close();  } , but it&#39;s not working"}],"answers":[{"tags":[],"owner":{"account_id":15338340,"reputation":1012,"user_id":11066033,"display_name":"Willem"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1634811250,"creation_date":1634805301,"answer_id":69658564,"question_id":69658339,"body_markdown":"Try with resources:\r\n\r\n        public void handle(String jiraIssueKey, String watcher) {\r\n        try (JiraRestClient restClient = jiraFactory.createClient()) {\r\n            log.debug(&quot;Adding {} watcher to JIRA issue: {}&quot;, watcher, jiraIssueKey);\r\n\r\n            final Issue issue = restClient.getIssue(jiraIssueKey).claim();\r\n            log.debug(&quot;Found JIRA issue: {}&quot;, issue.getKey());\r\n\r\n            Promise&lt;Void&gt; addWatcherPromise = restClient.getIssueClient().addWatcher(issue.getWatchers().getSelf() , watcher);\r\n            addWatcherPromise.claim();\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\ntry finally:\r\n\r\n    public void handle(String jiraIssueKey, String watcher) {\r\n        JiraRestClient restClient = jiraFactory.createClient();\r\n        try {\r\n            log.debug(&quot;Adding {} watcher to JIRA issue: {}&quot;, watcher, jiraIssueKey);\r\n\r\n            final Issue issue = restClient.getIssue(jiraIssueKey).claim();\r\n            log.debug(&quot;Found JIRA issue: {}&quot;, issue.getKey());\r\n\r\n            Promise&lt;Void&gt; addWatcherPromise = restClient.getIssueClient().addWatcher(issue.getWatchers().getSelf() , watcher);\r\n            addWatcherPromise.claim();\r\n\r\n        } finally {\r\n            restClient.close();\r\n        }\r\n    }","title":"Close/Destroy JIRA connection JAVA","body":"<p>Try with resources:</p>\n<pre><code>    public void handle(String jiraIssueKey, String watcher) {\n    try (JiraRestClient restClient = jiraFactory.createClient()) {\n        log.debug(&quot;Adding {} watcher to JIRA issue: {}&quot;, watcher, jiraIssueKey);\n\n        final Issue issue = restClient.getIssue(jiraIssueKey).claim();\n        log.debug(&quot;Found JIRA issue: {}&quot;, issue.getKey());\n\n        Promise&lt;Void&gt; addWatcherPromise = restClient.getIssueClient().addWatcher(issue.getWatchers().getSelf() , watcher);\n        addWatcherPromise.claim();\n\n    }\n}\n</code></pre>\n<p>try finally:</p>\n<pre><code>public void handle(String jiraIssueKey, String watcher) {\n    JiraRestClient restClient = jiraFactory.createClient();\n    try {\n        log.debug(&quot;Adding {} watcher to JIRA issue: {}&quot;, watcher, jiraIssueKey);\n\n        final Issue issue = restClient.getIssue(jiraIssueKey).claim();\n        log.debug(&quot;Found JIRA issue: {}&quot;, issue.getKey());\n\n        Promise&lt;Void&gt; addWatcherPromise = restClient.getIssueClient().addWatcher(issue.getWatchers().getSelf() , watcher);\n        addWatcherPromise.claim();\n\n    } finally {\n        restClient.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21571731,"reputation":27,"user_id":15904532,"display_name":"vdvaart"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69658564,"answer_count":1,"score":0,"last_activity_date":1634811250,"creation_date":1634804364,"question_id":69658339,"body_markdown":"I&#39;m a beginner in Java coding.\r\nBelow is the code\r\n\r\n    public class AddJIRATicketWatcherCommandHandler {\r\n\r\n    private final JiraFactory jiraFactory;\r\n\r\n    public void handle(String jiraIssueKey, String watcher) {\r\n        \r\n            log.debug(&quot;Adding {} watcher to JIRA issue: {}&quot;, watcher, jiraIssueKey);\r\n\r\n            final Issue issue = jiraFactory.createClient().getIssueClient().getIssue(jiraIssueKey).claim();\r\n            log.debug(&quot;Found JIRA issue: {}&quot;, issue.getKey());\r\n\r\n            Promise&lt;Void&gt; addWatcherPromise = jiraFactory.createClient().getIssueClient().addWatcher(issue.getWatchers().getSelf() , watcher);\r\n            addWatcherPromise.claim();\r\n     }}\r\n\r\n\r\n\r\n\r\n    public JiraRestClient createClient() {\r\n        log.debug(&quot;Creating JIRA rest client for remote environment&quot;);\r\n\r\n        URI jiraServerUri = URI.create(&quot;&quot;);\r\n\r\n        jiraServerUri = new URI(StringUtils.removeEnd(jiraConfig.getJiraURI(), &quot;/rest&quot;));\r\n\r\n        JiraRestClient restClient = new AsynchronousJiraRestClientFactory().createWithBasicHttpAuthentication(jiraServerUri,\r\n                jiraConfig.getJiraUsername(),\r\n                jiraConfig.getJiraPassword());\r\n\r\n        JIRA_LOGGER.info(&quot;url=[{}], username=[{}], password=[{}]&quot;, jiraServerUri.toString(), jiraConfig.getJiraUsername(), jiraConfig.getJiraPassword());\r\n        log.debug(&quot;JIRA rest client created successfully for remote environment&quot;);\r\n        return restClient;\r\n    }\r\n\r\nHowever, when I ran the sonarqube. I received this error. \r\n\r\nUse try-with-resources or close this &quot;JiraRestClient&quot; in a &quot;finally&quot; clause.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy understanding is to close the connection once done. But, I&#39;m unsure on how to do that.\r\n\r\nI tried to implement finally with close(). But the results is still showing the same error.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aYn6R.png\r\n  [2]: https://i.stack.imgur.com/4qyTk.png","title":"Close/Destroy JIRA connection JAVA","body":"<p>I'm a beginner in Java coding.\nBelow is the code</p>\n<pre><code>public class AddJIRATicketWatcherCommandHandler {\n\nprivate final JiraFactory jiraFactory;\n\npublic void handle(String jiraIssueKey, String watcher) {\n    \n        log.debug(&quot;Adding {} watcher to JIRA issue: {}&quot;, watcher, jiraIssueKey);\n\n        final Issue issue = jiraFactory.createClient().getIssueClient().getIssue(jiraIssueKey).claim();\n        log.debug(&quot;Found JIRA issue: {}&quot;, issue.getKey());\n\n        Promise&lt;Void&gt; addWatcherPromise = jiraFactory.createClient().getIssueClient().addWatcher(issue.getWatchers().getSelf() , watcher);\n        addWatcherPromise.claim();\n }}\n\n\n\n\npublic JiraRestClient createClient() {\n    log.debug(&quot;Creating JIRA rest client for remote environment&quot;);\n\n    URI jiraServerUri = URI.create(&quot;&quot;);\n\n    jiraServerUri = new URI(StringUtils.removeEnd(jiraConfig.getJiraURI(), &quot;/rest&quot;));\n\n    JiraRestClient restClient = new AsynchronousJiraRestClientFactory().createWithBasicHttpAuthentication(jiraServerUri,\n            jiraConfig.getJiraUsername(),\n            jiraConfig.getJiraPassword());\n\n    JIRA_LOGGER.info(&quot;url=[{}], username=[{}], password=[{}]&quot;, jiraServerUri.toString(), jiraConfig.getJiraUsername(), jiraConfig.getJiraPassword());\n    log.debug(&quot;JIRA rest client created successfully for remote environment&quot;);\n    return restClient;\n}\n</code></pre>\n<p>However, when I ran the sonarqube. I received this error.</p>\n<p>Use try-with-resources or close this &quot;JiraRestClient&quot; in a &quot;finally&quot; clause.</p>\n<p><a href=\"https://i.stack.imgur.com/aYn6R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aYn6R.png\" alt=\"enter image description here\" /></a></p>\n<p>My understanding is to close the connection once done. But, I'm unsure on how to do that.</p>\n<p>I tried to implement finally with close(). But the results is still showing the same error.</p>\n<p><a href=\"https://i.stack.imgur.com/4qyTk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4qyTk.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arrays","string","enums","robot"],"comments":[{"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"score":2,"creation_date":1634800637,"post_id":69657481,"comment_id":123124271,"body_markdown":"It will be helpful for others to guide you , if you have already wrote some code and ask for improvements in the approach.","body":"It will be helpful for others to guide you , if you have already wrote some code and ask for improvements in the approach."},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1634800710,"post_id":69657481,"comment_id":123124307,"body_markdown":"What is the purpose of successfullyDropped? Can an item also be unsuccessfully dropped? Will it stay true forever after dropping anything?","body":"What is the purpose of successfullyDropped? Can an item also be unsuccessfully dropped? Will it stay true forever after dropping anything?"},{"owner":{"account_id":6350313,"reputation":1134,"user_id":5594167,"display_name":"Mr. Brickowski"},"score":0,"creation_date":1634800993,"post_id":69657481,"comment_id":123124430,"body_markdown":"Can you explain further on forwardfromup, forwardfromdown, and their correlation between the directionFacing? How would the robot move, on a 2d plane?","body":"Can you explain further on forwardfromup, forwardfromdown, and their correlation between the directionFacing? How would the robot move, on a 2d plane?"},{"owner":{"account_id":22945293,"reputation":21,"user_id":17077351,"display_name":"LillyDragon"},"score":0,"creation_date":1634804795,"post_id":69657481,"comment_id":123125952,"body_markdown":"Hi all, SSotheby&#39;s pod can only be dropped in a drop zone, so thats the point of successfullydropped.  And if my bot is facing down then the moveforwardfromdown would be activate. concerning the xy axis of my bots point.","body":"Hi all, SSotheby&#39;s pod can only be dropped in a drop zone, so thats the point of successfullydropped.  And if my bot is facing down then the moveforwardfromdown would be activate. concerning the xy axis of my bots point."},{"owner":{"account_id":22945293,"reputation":21,"user_id":17077351,"display_name":"LillyDragon"},"score":0,"creation_date":1634805076,"post_id":69657481,"comment_id":123126066,"body_markdown":"If ((command == BotCommand..FORWARD) &amp;&amp; ( \n    ( directionFacing == FacingDirection.LEFT))[         \n     getinitialbotLocatoon  (x, y--);                    return.      \n     FloorMap_Object.BOT.currentLocation.        and then I have an else if for the rest following that staging of code.  Its compiling fine but as far as functionality....im not sure if im doing the right thing.","body":"If ((command == BotCommand..FORWARD) &amp;&amp; (      ( directionFacing == FacingDirection.LEFT))[               getinitialbotLocatoon  (x, y--);                    return.            FloorMap_Object.BOT.currentLocation.        and then I have an else if for the rest following that staging of code.  Its compiling fine but as far as functionality....im not sure if im doing the right thing."}],"answers":[{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634811024,"creation_date":1634801720,"answer_id":69657725,"question_id":69657481,"body_markdown":"You are not giving complete information so some assumptions:\r\n\r\n* The FloorMap represents a 2D area of Points with x,y coordinates (0-based)\r\n* A Point represents a single x,y coordinate and optionally a MapObject\r\n* FacingDirections are up/down (y-axis) and left/right (x-axis)\r\n* Robo will always be at a point on the floor facing a certain direction\r\n* A RoboCommand can be: move forward, turn left, turn right, pick up, drop\r\n\r\nSo for example Robo can be in the FloorMap at Point (4,2) facing up:\r\n\r\n    ........\r\n    ....a...\r\n    ........\r\n    ...^....\r\n    ........\r\n\r\nThe point at (5,4) holds a MapObject (a)\r\n\r\nTo get the MapObject, Robo would need to execute the commands:\r\n\r\n    forward, forward, right, forward, pick up\r\n\r\nSo much for the context.\r\n\r\nTo start implementing this, you would need to create your domain classes:\r\n\r\n* FloorMap, Point, MapObject\r\n* FacingDirection\r\n* RoboCommand\r\n\r\nYou could implement the commands following the [command pattern][1] using an enum (although I prefer separate classes for this).\r\n\r\n    public enum RoboCommand {\r\n\r\n        FORWARD() {\r\n            void execute(Robo robo) {    \r\n                // determine the new coordinates by adding the appropriate deltas\r\n                long x = robo.getCurrentLocation().getX() + robo.getFacingDirection().deltaX();\r\n                long y = robo.getCurrentLocation().getY() + robo.getFacingDirection().deltaY();\r\n                // get (or create) the matching Point from the floorMap\r\n                robo.getFloorMap().getPoint(x, y);\r\n                // move Robo to the new point\r\n                robo.setCurrentLocation(point);\r\n            }\r\n        }, RIGHT {\r\n            void execute(Robo robo) {\r\n                //use the left/right logic in FacingDirection\r\n                FacingDirection direction = robo.getFacingDirection().right();\r\n                // face Robo in the new direction\r\n                robo.setFacingDirection(direction);\r\n            }\r\n        }, LEFT {\r\n            void execute(Robo robo) {\r\n                robo.setFacingDirection(robo.getFacingDirection().left());\r\n            }\r\n        }, PICK_UP {\r\n            void execute(Robo robo) {\r\n                // get the optional item from the current Point\r\n                robo.getCurrentLocation().getItem()\r\n                    .ifPresent(item -&gt; {                        \r\n                        // remove it from the Point\r\n                        robo.getCurrentLocation().setItem(null);\r\n                        // add it to Robo\r\n                        robo.setCarried(item);\r\n                    });\r\n                \r\n            }\r\n        }, DROP {\r\n            void execute(Robo robo) {\r\n                // get the optional carried item from Robo\r\n                robo.getCarried()                    \r\n                    .ifPresent(item -&gt; {\r\n                        // remove it from Robo\r\n                        robo.setCarried(null);\r\n                        // add it to the Point\r\n                        robo.getCurrentLocation().setItem(item);\r\n                    });\r\n            }\r\n        };\r\n\r\n        abstract void execute(Robo robo);\r\n        \r\n    }\r\n\r\nSome thoughts about the domain design. \r\n\r\nI would like to design the FloorMap as a set, rather than an array, of Points. Only Points which hold items or have been visited by Robo will exist in the set.\r\n\r\n    class FloorMap {\r\n        Set&lt;Point&gt; points = new HashSet&lt;&gt;();       \r\n\r\n        Point getPoint(long x, long y) {\r\n            // looks up the point, creating a new one if necessary\r\n            return points.stream()\r\n                .filter(p -&gt; p.getX() == x &amp;&amp; p.getY() == y)\r\n                .findAny()\r\n                .orElse(newPoint(x, y));\r\n        } \r\n\r\n        private Point newPoint(long x, long y) {\r\n            Point point = new Point(x, y);\r\n            points.add(point);\r\n            return point;\r\n        }\r\n    }\r\n\r\nIf Robo walks around a lot, one could envision a clean up algorithm which removes empty Points. One needs to think of a way to stop the Point that is currently visited by Robo to be cleaned up.\r\n\r\nThe Robo will have a Point as its currentLocation, referring to a Point in the FloorMap, and an optional MapObject:\r\n\r\n    class Robo {\r\n        Point currentLocation;\r\n        FacingDirection facingDirection;\r\n        MapObject carried;\r\n\r\n        Robo(FloorMap floorMap) {\r\n            currentLocation = floorMap.getPoint(0, 0);\r\n            facingDirection = FacingDirection.UP;\r\n        }\r\n\r\n        Optional&lt;MapObject&gt; getCarried() {\r\n            return Optional.ofNullable(carried);\r\n        } \r\n    }\r\n\r\nA Point will have an optional item:\r\n\r\n    class Point{\r\n        long x;\r\n        long y;\r\n        MapObject item;\r\n\r\n        Point(long x, long y) {\r\n            this.x = x;\r\n            this.y = y;\r\n        }\r\n\r\n        Optional&lt;MapObject&gt; getItem() {\r\n            return Optional.ofNullable(mapObject);\r\n        } \r\n    }\r\n\r\nThe FacingDirection enum in my design has delta methods to indicate the changes to x and y coordinates and left/right methods which return a new FacingDirection:\r\n\r\n    enum FacingDirection {\r\n        UP() {\r\n            int deltaX() {\r\n                return 0;\r\n            }\r\n            int deltaY()  {\r\n                return 1;\r\n            }\r\n            FacingDirection left() {\r\n                return LEFT;\r\n            }\r\n            FacingDirection right() {\r\n                return RIGHT;\r\n            }\r\n        },\r\n        RIGHT() {\r\n            int deltaX() {\r\n                return 1;\r\n            }\r\n            int deltaY()  {\r\n                return 0;\r\n            }\r\n            FacingDirection left() {\r\n                return UP;\r\n            }\r\n            FacingDirection right() {\r\n                return DOWN;\r\n            }\r\n        },\r\n        // etc...\r\n\r\n        abstract int deltaX();\r\n        abstract int deltaY();\r\n        abstract FacingDirection left();\r\n        abstract FacingDirection right();\r\n    }\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Command_pattern","title":"Java Question RobotSim on moving through 2d string map with enum commands, certain characters &amp; constraints","body":"<p>You are not giving complete information so some assumptions:</p>\n<ul>\n<li>The FloorMap represents a 2D area of Points with x,y coordinates (0-based)</li>\n<li>A Point represents a single x,y coordinate and optionally a MapObject</li>\n<li>FacingDirections are up/down (y-axis) and left/right (x-axis)</li>\n<li>Robo will always be at a point on the floor facing a certain direction</li>\n<li>A RoboCommand can be: move forward, turn left, turn right, pick up, drop</li>\n</ul>\n<p>So for example Robo can be in the FloorMap at Point (4,2) facing up:</p>\n<pre><code>........\n....a...\n........\n...^....\n........\n</code></pre>\n<p>The point at (5,4) holds a MapObject (a)</p>\n<p>To get the MapObject, Robo would need to execute the commands:</p>\n<pre><code>forward, forward, right, forward, pick up\n</code></pre>\n<p>So much for the context.</p>\n<p>To start implementing this, you would need to create your domain classes:</p>\n<ul>\n<li>FloorMap, Point, MapObject</li>\n<li>FacingDirection</li>\n<li>RoboCommand</li>\n</ul>\n<p>You could implement the commands following the <a href=\"https://en.wikipedia.org/wiki/Command_pattern\" rel=\"nofollow noreferrer\">command pattern</a> using an enum (although I prefer separate classes for this).</p>\n<pre><code>public enum RoboCommand {\n\n    FORWARD() {\n        void execute(Robo robo) {    \n            // determine the new coordinates by adding the appropriate deltas\n            long x = robo.getCurrentLocation().getX() + robo.getFacingDirection().deltaX();\n            long y = robo.getCurrentLocation().getY() + robo.getFacingDirection().deltaY();\n            // get (or create) the matching Point from the floorMap\n            robo.getFloorMap().getPoint(x, y);\n            // move Robo to the new point\n            robo.setCurrentLocation(point);\n        }\n    }, RIGHT {\n        void execute(Robo robo) {\n            //use the left/right logic in FacingDirection\n            FacingDirection direction = robo.getFacingDirection().right();\n            // face Robo in the new direction\n            robo.setFacingDirection(direction);\n        }\n    }, LEFT {\n        void execute(Robo robo) {\n            robo.setFacingDirection(robo.getFacingDirection().left());\n        }\n    }, PICK_UP {\n        void execute(Robo robo) {\n            // get the optional item from the current Point\n            robo.getCurrentLocation().getItem()\n                .ifPresent(item -&gt; {                        \n                    // remove it from the Point\n                    robo.getCurrentLocation().setItem(null);\n                    // add it to Robo\n                    robo.setCarried(item);\n                });\n            \n        }\n    }, DROP {\n        void execute(Robo robo) {\n            // get the optional carried item from Robo\n            robo.getCarried()                    \n                .ifPresent(item -&gt; {\n                    // remove it from Robo\n                    robo.setCarried(null);\n                    // add it to the Point\n                    robo.getCurrentLocation().setItem(item);\n                });\n        }\n    };\n\n    abstract void execute(Robo robo);\n    \n}\n</code></pre>\n<p>Some thoughts about the domain design.</p>\n<p>I would like to design the FloorMap as a set, rather than an array, of Points. Only Points which hold items or have been visited by Robo will exist in the set.</p>\n<pre><code>class FloorMap {\n    Set&lt;Point&gt; points = new HashSet&lt;&gt;();       \n\n    Point getPoint(long x, long y) {\n        // looks up the point, creating a new one if necessary\n        return points.stream()\n            .filter(p -&gt; p.getX() == x &amp;&amp; p.getY() == y)\n            .findAny()\n            .orElse(newPoint(x, y));\n    } \n\n    private Point newPoint(long x, long y) {\n        Point point = new Point(x, y);\n        points.add(point);\n        return point;\n    }\n}\n</code></pre>\n<p>If Robo walks around a lot, one could envision a clean up algorithm which removes empty Points. One needs to think of a way to stop the Point that is currently visited by Robo to be cleaned up.</p>\n<p>The Robo will have a Point as its currentLocation, referring to a Point in the FloorMap, and an optional MapObject:</p>\n<pre><code>class Robo {\n    Point currentLocation;\n    FacingDirection facingDirection;\n    MapObject carried;\n\n    Robo(FloorMap floorMap) {\n        currentLocation = floorMap.getPoint(0, 0);\n        facingDirection = FacingDirection.UP;\n    }\n\n    Optional&lt;MapObject&gt; getCarried() {\n        return Optional.ofNullable(carried);\n    } \n}\n</code></pre>\n<p>A Point will have an optional item:</p>\n<pre><code>class Point{\n    long x;\n    long y;\n    MapObject item;\n\n    Point(long x, long y) {\n        this.x = x;\n        this.y = y;\n    }\n\n    Optional&lt;MapObject&gt; getItem() {\n        return Optional.ofNullable(mapObject);\n    } \n}\n</code></pre>\n<p>The FacingDirection enum in my design has delta methods to indicate the changes to x and y coordinates and left/right methods which return a new FacingDirection:</p>\n<pre><code>enum FacingDirection {\n    UP() {\n        int deltaX() {\n            return 0;\n        }\n        int deltaY()  {\n            return 1;\n        }\n        FacingDirection left() {\n            return LEFT;\n        }\n        FacingDirection right() {\n            return RIGHT;\n        }\n    },\n    RIGHT() {\n        int deltaX() {\n            return 1;\n        }\n        int deltaY()  {\n            return 0;\n        }\n        FacingDirection left() {\n            return UP;\n        }\n        FacingDirection right() {\n            return DOWN;\n        }\n    },\n    // etc...\n\n    abstract int deltaX();\n    abstract int deltaY();\n    abstract FacingDirection left();\n    abstract FacingDirection right();\n}\n</code></pre>\n"}],"owner":{"account_id":22945293,"reputation":21,"user_id":17077351,"display_name":"LillyDragon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634811024,"creation_date":1634800483,"question_id":69657481,"body_markdown":"\r\nI am working on a project that is a basic robot application.  I am using a few classes and enums and am to use my enums to move around, and here I am a bit confused..\r\nSo I am working on my main class right now -Robo.  Here is the uml for Robo/what I am doing just for reference:  \r\n\r\n    -currenLocate : Point\r\n    - directionFacing : FacingDirection\r\n    -map : FloorMap\r\n    - Carryingthing : boolean\r\n    -successfullyDropped : boolean\r\n\r\n    +Robo(map : FloorMap)\r\n    +Robo(map : FloorMap,currentLocatiom.  \r\n    : Point)\r\n    +move(command : RoboCommand) : void\r\n    +iscarryingThing() : boolean\r\n    +isSuccessfullyDropped() :boolean.\r\n\r\nOk, so I am working on my move(), and I need to take into consideration my enums, FacingDirection(All 4 directions), MapObject (items to pick up) and then my movement enum(Forward, left, right, pickup and drop).  And then my two booleans.\r\n\r\nSo I know I need to get my direction facing and take that into consideration when entering a command by my enum, but what do you suppose would be my best course of action?  I am thinking else and else if and some &amp;&amp;, and an array perhaps but now I&#39;m not totally sure.  I have to do a forwardfromup, forwardfromdown, etc. I can give more info if needed, but I don&#39;t want to bog this post down with too much if I can help it.  =D.  I appreciate your time and thanks in advance for any assistance/tips.  ","title":"Java Question RobotSim on moving through 2d string map with enum commands, certain characters &amp; constraints","body":"<p>I am working on a project that is a basic robot application.  I am using a few classes and enums and am to use my enums to move around, and here I am a bit confused..\nSo I am working on my main class right now -Robo.  Here is the uml for Robo/what I am doing just for reference:</p>\n<pre><code>-currenLocate : Point\n- directionFacing : FacingDirection\n-map : FloorMap\n- Carryingthing : boolean\n-successfullyDropped : boolean\n\n+Robo(map : FloorMap)\n+Robo(map : FloorMap,currentLocatiom.  \n: Point)\n+move(command : RoboCommand) : void\n+iscarryingThing() : boolean\n+isSuccessfullyDropped() :boolean.\n</code></pre>\n<p>Ok, so I am working on my move(), and I need to take into consideration my enums, FacingDirection(All 4 directions), MapObject (items to pick up) and then my movement enum(Forward, left, right, pickup and drop).  And then my two booleans.</p>\n<p>So I know I need to get my direction facing and take that into consideration when entering a command by my enum, but what do you suppose would be my best course of action?  I am thinking else and else if and some &amp;&amp;, and an array perhaps but now I'm not totally sure.  I have to do a forwardfromup, forwardfromdown, etc. I can give more info if needed, but I don't want to bog this post down with too much if I can help it.  =D.  I appreciate your time and thanks in advance for any assistance/tips.</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"score":0,"creation_date":1634804602,"post_id":69658384,"comment_id":123125880,"body_markdown":"Looks like homework, what have you tried?","body":"Looks like homework, what have you tried?"},{"owner":{"account_id":479759,"reputation":24867,"user_id":892629,"accept_rate":81,"display_name":"Liftoff"},"score":0,"creation_date":1634804825,"post_id":69658384,"comment_id":123125966,"body_markdown":"If n &lt;= 0, return. Print your line, and call `nLines(n-1)`. The for loop is not necessary.","body":"If n &lt;= 0, return. Print your line, and call <code>nLines(n-1)</code>. The for loop is not necessary."},{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1634810608,"post_id":69658384,"comment_id":123128413,"body_markdown":"the idea is the recursion is not necessary, and every recursion can be represented as a loop. recursion is far more &quot;expensive&quot; than a loop.","body":"the idea is the recursion is not necessary, and every recursion can be represented as a loop. recursion is far more &quot;expensive&quot; than a loop."}],"answers":[{"tags":[],"owner":{"account_id":42395,"reputation":1101,"user_id":123498,"accept_rate":25,"display_name":"sushant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634810949,"creation_date":1634808261,"answer_id":69659314,"question_id":69658384,"body_markdown":"You can recurse on `n`.\r\n\r\n    static void nLines(int n) {\r\n     if( n &lt;= 0) {\r\n         return;\r\n     } else {\r\n         int x = n - 1;\r\n         nLines(x);\r\n         System.out.println(x);        \r\n     }\r\n    }\r\n\r\nYou call the function like so:\r\n\r\n    nLines(n);","title":"How to use recursion technique on the following code?","body":"<p>You can recurse on <code>n</code>.</p>\n<pre><code>static void nLines(int n) {\n if( n &lt;= 0) {\n     return;\n } else {\n     int x = n - 1;\n     nLines(x);\n     System.out.println(x);        \n }\n}\n</code></pre>\n<p>You call the function like so:</p>\n<pre><code>nLines(n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7133186,"reputation":299,"user_id":5719384,"display_name":"dmsovetov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634808344,"creation_date":1634808344,"answer_id":69659343,"question_id":69658384,"body_markdown":"Here is a recursive function to print n lines:\r\n\r\n    static void nLinesRecursive(int n) {\r\n        int next = n - 1;\r\n\r\n        if (next &gt;= 0) {\r\n            nLinesRecursive(next);\r\n            System.out.println(next);\r\n        }\r\n    }","title":"How to use recursion technique on the following code?","body":"<p>Here is a recursive function to print n lines:</p>\n<pre><code>static void nLinesRecursive(int n) {\n    int next = n - 1;\n\n    if (next &gt;= 0) {\n        nLinesRecursive(next);\n        System.out.println(next);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17201277"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634810309,"creation_date":1634810309,"answer_id":69659844,"question_id":69658384,"body_markdown":"Try this.\r\n\r\n    static void nLines(int n) {\r\n        if (--n &lt; 0) return;\r\n        nLines(n);\r\n        System.out.println(n);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        nLines(3);\r\n    }\r\n\r\noutput:\r\n\r\n    0\r\n    1\r\n    2\r\n\r\n","title":"How to use recursion technique on the following code?","body":"<p>Try this.</p>\n<pre><code>static void nLines(int n) {\n    if (--n &lt; 0) return;\n    nLines(n);\n    System.out.println(n);\n}\n\npublic static void main(String[] args) {\n    nLines(3);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>0\n1\n2\n</code></pre>\n"}],"owner":{"account_id":23099539,"reputation":11,"user_id":17209142,"display_name":"baileyfunny"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1634810949,"creation_date":1634804547,"question_id":69658384,"body_markdown":"```\r\nstatic void nLines(int n) {\r\n  for (int i= 0; i &lt; n; i++) {\r\n    System.out.println(i);\r\n  }\r\n}\r\n```","title":"How to use recursion technique on the following code?","body":"<pre><code>static void nLines(int n) {\n  for (int i= 0; i &lt; n; i++) {\n    System.out.println(i);\n  }\n}\n</code></pre>\n"},{"tags":["java","maven","dependencies","mvn-repo"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1634806330,"post_id":69658766,"comment_id":123126551,"body_markdown":"&quot;ReasonPhrase:Unauthorized&quot; Means you are accessing repository which required authorization. You need to present valid credientials.","body":"&quot;ReasonPhrase:Unauthorized&quot; Means you are accessing repository which required authorization. You need to present valid credientials."},{"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"score":0,"creation_date":1634806492,"post_id":69658766,"comment_id":123126623,"body_markdown":"I can access `https://binaries.me.com/artifactory/public-maven` through my browser and am able to see other packages so through this might have been a red herring. Also, my SA told me I have read only access by default so thought that meant to all packages.","body":"I can access <code>https:&#47;&#47;binaries.me.com&#47;artifactory&#47;public-maven</code> through my browser and am able to see other packages so through this might have been a red herring. Also, my SA told me I have read only access by default so thought that meant to all packages."}],"answers":[{"tags":[],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634810787,"creation_date":1634810787,"answer_id":69659963,"question_id":69658766,"body_markdown":"I had an incorrect password to the artifact in my settings.xml","title":"Issue downloading one Maven dependency","body":"<p>I had an incorrect password to the artifact in my settings.xml</p>\n"}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69659963,"answer_count":1,"score":0,"last_activity_date":1634810787,"creation_date":1634806143,"question_id":69658766,"body_markdown":"I get this error when running `mvn clean install`:\r\n\r\n&gt;[ERROR] Failed to execute goal on project Hian-Persistence-Direct: Could not resolve dependencies for project ue.hian:Hian-Persistence-Direct:jar:3.0: Failed to collect dependencies at com.ibatis:ibatis2:jar:2.3.0.677: Failed to read artifact descriptor for com.ibatis:ibatis2:jar:2.3.0.677: Could not transfer artifact com.ibatis:ibatis2:pom:2.3.0.677 from/to maven-public (https://binaries.me.com/artifactory/public-maven): Not authorized , ReasonPhrase:Unauthorized. -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\r\n[ERROR]\r\n[ERROR] After correcting the problems, you can resume the build with the command\r\n[ERROR]   mvn &lt;goals&gt; -rf :Hian-Persistence-Direct\r\n\r\nI&#39;m running this in the command line. Is it possible that I don&#39;t have maven configured correctly? Failing that, how do I get the full path to the problem dependency? I&#39;d like to check if I can reach it through the browser.","title":"Issue downloading one Maven dependency","body":"<p>I get this error when running <code>mvn clean install</code>:</p>\n<blockquote>\n<p>[ERROR] Failed to execute goal on project Hian-Persistence-Direct: Could not resolve dependencies for project ue.hian:Hian-Persistence-Direct:jar:3.0: Failed to collect dependencies at com.ibatis:ibatis2:jar:2.3.0.677: Failed to read artifact descriptor for com.ibatis:ibatis2:jar:2.3.0.677: Could not transfer artifact com.ibatis:ibatis2:pom:2.3.0.677 from/to maven-public (<a href=\"https://binaries.me.com/artifactory/public-maven\" rel=\"nofollow noreferrer\">https://binaries.me.com/artifactory/public-maven</a>): Not authorized , ReasonPhrase:Unauthorized. -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\" rel=\"nofollow noreferrer\">http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException</a>\n[ERROR]\n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn  -rf :Hian-Persistence-Direct</p>\n</blockquote>\n<p>I'm running this in the command line. Is it possible that I don't have maven configured correctly? Failing that, how do I get the full path to the problem dependency? I'd like to check if I can reach it through the browser.</p>\n"},{"tags":["java","json","arraylist","jackson"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1634777756,"post_id":69654600,"comment_id":123119643,"body_markdown":"*// convert JSON file to map* - from the json, please tell what the key is and what part is the value?","body":"<i>// convert JSON file to map</i> - from the json, please tell what the key is and what part is the value?"},{"owner":{"account_id":23027076,"reputation":23,"user_id":17147139,"display_name":"Wilhelmo Gutred"},"score":0,"creation_date":1634777925,"post_id":69654600,"comment_id":123119669,"body_markdown":"@ScaryWombat keys: &quot;meta&quot;, &quot;roles&quot;, &quot;admin&quot;, &quot;email&quot;    values: object of &quot;stock&quot; and &quot;date modified&quot;, list containing &quot;member&quot; and &quot;admin&quot;, &quot;John Doe&quot;, true, and &quot;johndoe@example.com&quot;","body":"@ScaryWombat keys: &quot;meta&quot;, &quot;roles&quot;, &quot;admin&quot;, &quot;email&quot;    values: object of &quot;stock&quot; and &quot;date modified&quot;, list containing &quot;member&quot; and &quot;admin&quot;, &quot;John Doe&quot;, true, and &quot;johndoe@example.com&quot;"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1634778564,"post_id":69654600,"comment_id":123119769,"body_markdown":"What String value are you expecting to get for &quot;meta&quot; or &quot;roles&quot;?","body":"What String value are you expecting to get for &quot;meta&quot; or &quot;roles&quot;?"},{"owner":{"account_id":23027076,"reputation":23,"user_id":17147139,"display_name":"Wilhelmo Gutred"},"score":0,"creation_date":1634778880,"post_id":69654600,"comment_id":123119809,"body_markdown":"@tgdavies {stock=AWS, date modified=90} and [Member, Admin] respectively","body":"@tgdavies {stock=AWS, date modified=90} and [Member, Admin] respectively"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1634779130,"post_id":69654600,"comment_id":123119847,"body_markdown":"Then you&#39;ll need to render your values to Strings, casting doesn&#39;t convert non-Strings to Strings","body":"Then you&#39;ll need to render your values to Strings, casting doesn&#39;t convert non-Strings to Strings"}],"answers":[{"tags":[],"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634786831,"creation_date":1634786831,"answer_id":69655503,"question_id":69654600,"body_markdown":"Your data type of entries will be like:\r\n\r\n    meta: Map&lt;String:Object&gt;\r\n    roles: List&lt;String&gt;\r\n    admin: Boolean\r\n\r\nSo you will get an exception when casting to string for each entry value. \r\nYou should handle different data type and convert it according to your request:\r\n\r\n    Object value = entry.getValue();\r\n\r\nI highly recommend you write more few functions to check and convert map/list/primitive variables to expected data (String):\r\n\r\n    boolean isList(Object obj);\r\n    boolean isMap(Object obj);\r\n    ...\r\n    public List&lt;String&gt; convertMap(Map&lt;String,Object&gt; map);\r\n    ...","title":"How to add JSON values to an ArrayList in Java","body":"<p>Your data type of entries will be like:</p>\n<pre><code>meta: Map&lt;String:Object&gt;\nroles: List&lt;String&gt;\nadmin: Boolean\n</code></pre>\n<p>So you will get an exception when casting to string for each entry value.\nYou should handle different data type and convert it according to your request:</p>\n<pre><code>Object value = entry.getValue();\n</code></pre>\n<p>I highly recommend you write more few functions to check and convert map/list/primitive variables to expected data (String):</p>\n<pre><code>boolean isList(Object obj);\nboolean isMap(Object obj);\n...\npublic List&lt;String&gt; convertMap(Map&lt;String,Object&gt; map);\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634810728,"creation_date":1634810728,"answer_id":69659942,"question_id":69654600,"body_markdown":"From the [jackson-databind](https://github.com/FasterXML/jackson-databind) documentation you can convert your json to a `Map&lt;String, Object&gt;` *map* with the following line (you have boolean, list, number and string values in your json) :\r\n\r\n~~~\r\nMap&lt;String, Object&gt; map = mapper.readValue(json, Map.class);\r\n// it prints {meta={stock=AWS, date modified=90}, roles=[Member, Admin], name=John Doe, admin=true, email=john.doe@example.com}\r\nSystem.out.println(map);\r\n~~~\r\n\r\nIf you want to save your *map* values string representation into an `ArrayList` *data* you can iterate over them with a loop :\r\n\r\n\r\n~~~\r\nList&lt;String&gt; data = new ArrayList&lt;&gt;();\r\nfor (Object value : map.values()) {\r\n    data.add(value.toString());\r\n}\r\n//it will print [{stock=AWS, date modified=90}, [Member, Admin], John Doe, true, john.doe@example.com]\r\nSystem.out.println(data);\r\n~~~","title":"How to add JSON values to an ArrayList in Java","body":"<p>From the <a href=\"https://github.com/FasterXML/jackson-databind\" rel=\"nofollow noreferrer\">jackson-databind</a> documentation you can convert your json to a <code>Map&lt;String, Object&gt;</code> <em>map</em> with the following line (you have boolean, list, number and string values in your json) :</p>\n<pre><code>Map&lt;String, Object&gt; map = mapper.readValue(json, Map.class);\n// it prints {meta={stock=AWS, date modified=90}, roles=[Member, Admin], name=John Doe, admin=true, email=john.doe@example.com}\nSystem.out.println(map);\n</code></pre>\n<p>If you want to save your <em>map</em> values string representation into an <code>ArrayList</code> <em>data</em> you can iterate over them with a loop :</p>\n<pre><code>List&lt;String&gt; data = new ArrayList&lt;&gt;();\nfor (Object value : map.values()) {\n    data.add(value.toString());\n}\n//it will print [{stock=AWS, date modified=90}, [Member, Admin], John Doe, true, john.doe@example.com]\nSystem.out.println(data);\n</code></pre>\n"}],"owner":{"account_id":23027076,"reputation":23,"user_id":17147139,"display_name":"Wilhelmo Gutred"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69659942,"answer_count":2,"score":0,"last_activity_date":1634810728,"creation_date":1634777418,"question_id":69654600,"body_markdown":"I have the following JSON file:\r\n\r\n```json\r\n{\r\n  &quot;meta&quot; : {\r\n    &quot;stock&quot; : &quot;AWS&quot;,\r\n    &quot;date modified&quot; : 90\r\n  },\r\n  &quot;roles&quot; : [ &quot;Member&quot;, &quot;Admin&quot; ],\r\n  &quot;name&quot; : &quot;John Doe&quot;,\r\n  &quot;admin&quot; : true,\r\n  &quot;email&quot; : &quot;john.doe@example.com&quot;\r\n}\r\n```\r\nI wanted to both read the values of the keys and add them to an Array List.\r\n\r\n```java\r\ntry {\r\n    // create object mapper instance\r\n    ObjectMapper mapper = new ObjectMapper();\r\n\r\n    // convert JSON file to map\r\n    Map&lt;?, ?&gt; map = mapper.readValue(Paths.get(&quot;user.json&quot;).toFile(), Map.class);\r\n\r\n    ArrayList&lt;String&gt; data = new ArrayList&lt;String&gt;();\r\n    \r\n    // print map entries\r\n    for (Map.Entry&lt;?, ?&gt; entry : map.entrySet()) {\r\n        System.out.println((entry.getClass()) + &quot;  &quot; + entry.getValue());\r\n        data.add((String)entry.getValue()); // trying to add entry values to arraylist\r\n    }\r\n} catch (Exception ex) {\r\n    ex.printStackTrace();\r\n}\r\n```\r\nI&#39;m able to print out the data type of the value along with the value itself. All the values  are part of class `java.util.LinkedHashMap$Entry`. I&#39;m not able to cast the values to a `String` to add them to an ArrayList. How should I go about doing this? Thanks","title":"How to add JSON values to an ArrayList in Java","body":"<p>I have the following JSON file:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;meta&quot; : {\n    &quot;stock&quot; : &quot;AWS&quot;,\n    &quot;date modified&quot; : 90\n  },\n  &quot;roles&quot; : [ &quot;Member&quot;, &quot;Admin&quot; ],\n  &quot;name&quot; : &quot;John Doe&quot;,\n  &quot;admin&quot; : true,\n  &quot;email&quot; : &quot;john.doe@example.com&quot;\n}\n</code></pre>\n<p>I wanted to both read the values of the keys and add them to an Array List.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    // create object mapper instance\n    ObjectMapper mapper = new ObjectMapper();\n\n    // convert JSON file to map\n    Map&lt;?, ?&gt; map = mapper.readValue(Paths.get(&quot;user.json&quot;).toFile(), Map.class);\n\n    ArrayList&lt;String&gt; data = new ArrayList&lt;String&gt;();\n    \n    // print map entries\n    for (Map.Entry&lt;?, ?&gt; entry : map.entrySet()) {\n        System.out.println((entry.getClass()) + &quot;  &quot; + entry.getValue());\n        data.add((String)entry.getValue()); // trying to add entry values to arraylist\n    }\n} catch (Exception ex) {\n    ex.printStackTrace();\n}\n</code></pre>\n<p>I'm able to print out the data type of the value along with the value itself. All the values  are part of class <code>java.util.LinkedHashMap$Entry</code>. I'm not able to cast the values to a <code>String</code> to add them to an ArrayList. How should I go about doing this? Thanks</p>\n"},{"tags":["java","spring","pdf-generation","itext7"],"comments":[{"owner":{"account_id":1707578,"reputation":868,"user_id":1566339,"display_name":"Andr&#233; Lemos"},"score":0,"creation_date":1634814085,"post_id":69659938,"comment_id":123129901,"body_markdown":"you should be catching events as new pages are getting created. you can find some of that documentation [here](https://kb.itextpdf.com/home/it7kb/ebooks/itext-7-converting-html-to-pdf-with-pdfhtml/chapter-4-creating-reports-using-pdfhtml).","body":"you should be catching events as new pages are getting created. you can find some of that documentation <a href=\"https://kb.itextpdf.com/home/it7kb/ebooks/itext-7-converting-html-to-pdf-with-pdfhtml/chapter-4-creating-reports-using-pdfhtml\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":0,"creation_date":1635098653,"post_id":69659938,"comment_id":123199019,"body_markdown":"In your current code you convert 20 HTML documents into PDF documents and merge them. In each HTML document you have a page counter and it&#39;s converted into `page 1 of 1` which is expected because each HTML is a one-pager. You should either convert a single (merged big) HTML into PDF, or merge them into one PDF without page numbers and then go over all pages to add the desired footer.","body":"In your current code you convert 20 HTML documents into PDF documents and merge them. In each HTML document you have a page counter and it&#39;s converted into <code>page 1 of 1</code> which is expected because each HTML is a one-pager. You should either convert a single (merged big) HTML into PDF, or merge them into one PDF without page numbers and then go over all pages to add the desired footer."},{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":0,"creation_date":1635516560,"post_id":69659938,"comment_id":123327115,"body_markdown":"@Wee Hong are you able to proceed with the suggestion above?","body":"@Wee Hong are you able to proceed with the suggestion above?"}],"owner":{"account_id":5912585,"reputation":585,"user_id":4652307,"accept_rate":27,"display_name":"Wee Hong"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634810706,"creation_date":1634810706,"question_id":69659938,"body_markdown":"I am using iText7 - pdfHTML to convert my HTML template into a PDF.\r\n\r\nI want to display a `Page X of Y` on my footer; &lt;br/&gt;However, I always getting Page 1 of 1. (There are 20 pages)\r\n\r\nBelow is my codebase to convert multiple HTML files into PDF.\r\n\r\n```java\r\n// Converter Class file\r\n\r\nByteArrayOutputStream outputBaos = new ByteArrayOutputStream();\r\nPdfWriter writer = new PdfWriter(outputBaos);\r\nPdfDocument pdf = new PdfDocument(writer);\r\nPdfMerger merger = new PdfMerger(pdf);\r\n\r\n...\r\n\r\nfor (String template : templates) {\r\n  ByteArrayOutputStream tempOutput = new ByteArrayOutputStream();\r\n  PdfWriter tempWriter = new PdfWriter(tempOutput);\r\n  PdfDocument tempPdf = new PdfDocument(tempWriter);\r\n  HtmlConverter.convertToPdf(template, tempPdf, converterProperties);\r\n  tempPdf = new PdfDocument(\r\n    new PdfReader(\r\n      new ByteArrayInputStream(tempOutput.tpByteArray())\r\n    )\r\n  );\r\n  merger.merge(tempPdf, 1, tempPdf.getNumberOfPages());\r\n  tempPdf.close();\r\n}\r\n\r\npdf.close();\r\n\r\nreturn outputBaos;\r\n```\r\n\r\n\r\n```css\r\n// HTML file\r\n\r\n@page {\r\n  @bottom-right {\r\n    content: &quot;Page &quot; counter(page) &quot; of &quot; counter(pages);\r\n  }\r\n}\r\n```\r\n\r\n\r\nMay I know how can I achieve this?","title":"iText7 PdfHtml - Display Page Number at Footer","body":"<p>I am using iText7 - pdfHTML to convert my HTML template into a PDF.</p>\n<p>I want to display a <code>Page X of Y</code> on my footer; <br/>However, I always getting Page 1 of 1. (There are 20 pages)</p>\n<p>Below is my codebase to convert multiple HTML files into PDF.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Converter Class file\n\nByteArrayOutputStream outputBaos = new ByteArrayOutputStream();\nPdfWriter writer = new PdfWriter(outputBaos);\nPdfDocument pdf = new PdfDocument(writer);\nPdfMerger merger = new PdfMerger(pdf);\n\n...\n\nfor (String template : templates) {\n  ByteArrayOutputStream tempOutput = new ByteArrayOutputStream();\n  PdfWriter tempWriter = new PdfWriter(tempOutput);\n  PdfDocument tempPdf = new PdfDocument(tempWriter);\n  HtmlConverter.convertToPdf(template, tempPdf, converterProperties);\n  tempPdf = new PdfDocument(\n    new PdfReader(\n      new ByteArrayInputStream(tempOutput.tpByteArray())\n    )\n  );\n  merger.merge(tempPdf, 1, tempPdf.getNumberOfPages());\n  tempPdf.close();\n}\n\npdf.close();\n\nreturn outputBaos;\n</code></pre>\n<pre class=\"lang-css prettyprint-override\"><code>// HTML file\n\n@page {\n  @bottom-right {\n    content: &quot;Page &quot; counter(page) &quot; of &quot; counter(pages);\n  }\n}\n</code></pre>\n<p>May I know how can I achieve this?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1634799557,"post_id":69657254,"comment_id":123123865,"body_markdown":"Does this answer your question? [Simple Android grid example using RecyclerView with GridLayoutManager (like the old GridView)](https://stackoverflow.com/questions/40587168/simple-android-grid-example-using-recyclerview-with-gridlayoutmanager-like-the)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/40587168/simple-android-grid-example-using-recyclerview-with-gridlayoutmanager-like-the\">Simple Android grid example using RecyclerView with GridLayoutManager (like the old GridView)</a>"},{"owner":{"account_id":11293948,"reputation":1337,"user_id":8281996,"display_name":"Vishali"},"score":0,"creation_date":1634799938,"post_id":69657254,"comment_id":123124007,"body_markdown":"i am not using gridlayout","body":"i am not using gridlayout"},{"owner":{"account_id":2530619,"reputation":4812,"user_id":2199001,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1634800072,"post_id":69657254,"comment_id":123124048,"body_markdown":"The question is ambiguous. Span count is used as part of a GridLayout to determine the number of items horizontally per row, hence the comment about GridLayoutManager.","body":"The question is ambiguous. Span count is used as part of a GridLayout to determine the number of items horizontally per row, hence the comment about GridLayoutManager."},{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1634800091,"post_id":69657254,"comment_id":123124058,"body_markdown":"It is not `GridLayout`. It is `RecyclerView` using `GridLayoutManager`. `RecyclerView` has a `layoutManager`. There are different types of `layoutManager` to choose from.  `GridLayoutManager` with a column count set to 3 suit your use case","body":"It is not <code>GridLayout</code>. It is <code>RecyclerView</code> using <code>GridLayoutManager</code>. <code>RecyclerView</code> has a <code>layoutManager</code>. There are different types of <code>layoutManager</code> to choose from.  <code>GridLayoutManager</code> with a column count set to 3 suit your use case"},{"owner":{"account_id":11293948,"reputation":1337,"user_id":8281996,"display_name":"Vishali"},"score":0,"creation_date":1634800282,"post_id":69657254,"comment_id":123124123,"body_markdown":"I am using linearlayoutmanager","body":"I am using linearlayoutmanager"},{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1634800595,"post_id":69657254,"comment_id":123124257,"body_markdown":"Sorry for misunderstanding. You may want to set the `height` of `itemView` to 1/3 of the parent view. You may refer to [this post](https://stackoverflow.com/questions/35221566/how-to-set-the-height-of-an-item-row-in-gridlayoutmanager) . This also applies to `LinearLayoutManager`.","body":"Sorry for misunderstanding. You may want to set the <code>height</code> of <code>itemView</code> to 1/3 of the parent view. You may refer to <a href=\"https://stackoverflow.com/questions/35221566/how-to-set-the-height-of-an-item-row-in-gridlayoutmanager\">this post</a> . This also applies to <code>LinearLayoutManager</code>."},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1634801230,"post_id":69657254,"comment_id":123124526,"body_markdown":"You have to dynamically set the height/width also after undertaking the margin . thats the only way .","body":"You have to dynamically set the height/width also after undertaking the margin . thats the only way ."}],"answers":[{"tags":[],"owner":{"account_id":12703494,"reputation":139,"user_id":9229521,"display_name":"Kalpesh Kulye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634799495,"creation_date":1634799495,"answer_id":69657283,"question_id":69657254,"body_markdown":"instead of `app:spanCount=&quot;3&quot;` use `tools:itemCount=&quot;3&quot;`","title":"How to set spancount for recyclerview","body":"<p>instead of <code>app:spanCount=&quot;3&quot;</code> use <code>tools:itemCount=&quot;3&quot;</code></p>\n"},{"tags":[],"owner":{"account_id":22255867,"reputation":528,"user_id":16488037,"display_name":"Mohak Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634800857,"creation_date":1634799681,"answer_id":69657317,"question_id":69657254,"body_markdown":"In your adapter class, assign a return value 3 of `getItemCount(), it shows only 3 list items\r\n    \r\n    override fun getItemCount(): Int {\r\n       return 3\r\n    }","title":"How to set spancount for recyclerview","body":"<p>In your adapter class, assign a return value 3 of `getItemCount(), it shows only 3 list items</p>\n<pre><code>override fun getItemCount(): Int {\n   return 3\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22573648,"reputation":1,"user_id":16759468,"display_name":"Jacob Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634810705,"creation_date":1634809609,"answer_id":69659643,"question_id":69657254,"body_markdown":"Add this condition in Your adapter `getItemCount()` method: \r\n\r\n`return Math.min(yourlist.size(), 3);`\r\n\r\nLike this:\r\n\r\n```\r\n@Override\r\n    public int getItemCount() {\r\n        return Math.min(memeberList.size(), 3);\r\n    }\r\n```","title":"How to set spancount for recyclerview","body":"<p>Add this condition in Your adapter <code>getItemCount()</code> method:</p>\n<p><code>return Math.min(yourlist.size(), 3);</code></p>\n<p>Like this:</p>\n<pre><code>@Override\n    public int getItemCount() {\n        return Math.min(memeberList.size(), 3);\n    }\n</code></pre>\n"}],"owner":{"account_id":11293948,"reputation":1337,"user_id":8281996,"display_name":"Vishali"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1634810705,"creation_date":1634799340,"question_id":69657254,"body_markdown":"      &lt;androidx.recyclerview.widget.RecyclerView\r\n                                        android:id=&quot;@+id/rv46&quot;\r\n                                        android:layout_width=&quot;match_parent&quot;\r\n                                        android:layout_height=&quot;wrap_content&quot;\r\n                                        app:spanCount=&quot;3&quot;\r\n                                        tools:listitem=&quot;@layout/wallet_items&quot;\r\n    \r\n                                        /&gt;\r\n\r\nI am implementing recyclerview with N number of items but i want to show only 3 item in list.Also i have set spancount for recyclerview but its not working\r\n","title":"How to set spancount for recyclerview","body":"<pre><code>  &lt;androidx.recyclerview.widget.RecyclerView\n                                    android:id=&quot;@+id/rv46&quot;\n                                    android:layout_width=&quot;match_parent&quot;\n                                    android:layout_height=&quot;wrap_content&quot;\n                                    app:spanCount=&quot;3&quot;\n                                    tools:listitem=&quot;@layout/wallet_items&quot;\n\n                                    /&gt;\n</code></pre>\n<p>I am implementing recyclerview with N number of items but i want to show only 3 item in list.Also i have set spancount for recyclerview but its not working</p>\n"},{"tags":["java","swing","user-interface","joptionpane"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1634738357,"post_id":69647350,"comment_id":123106306,"body_markdown":"This question was initially closed as a duplicate of: https://stackoverflow.com/questions/2941324/how-do-i-set-the-position-of-the-mouse-in-java. While you indeed might use a Robot to position the mouse on a component,  the big issue is how to get the location of the component?. A JOptionPane is a modal dialog and you can&#39;t access the buttons directly so you don&#39;t know the location of the buttons. I reopened the question for other suggestions.","body":"This question was initially closed as a duplicate of: <a href=\"https://stackoverflow.com/questions/2941324/how-do-i-set-the-position-of-the-mouse-in-java\" title=\"how do i set the position of the mouse in java\">stackoverflow.com/questions/2941324/&hellip;</a>. While you indeed might use a Robot to position the mouse on a component,  the big issue is how to get the location of the component?. A JOptionPane is a modal dialog and you can&#39;t access the buttons directly so you don&#39;t know the location of the buttons. I reopened the question for other suggestions."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1634738912,"post_id":69647350,"comment_id":123106586,"body_markdown":"I have never tried it before but you might: 1) Read the JOptionPane API. The section on &quot;Direct Use&quot; shows how to create a JOptionPane panel and add it to a dialog. 2) Then you would pack the dialog so all components have a size. 3) Use the `getRootPane()` method of the dialog. 4) Use the `getDefaultButton()` method of the root pane. 5) Use the Robot from the above link to position the mouse cursor. 6) Make the dialog visible.","body":"I have never tried it before but you might: 1) Read the JOptionPane API. The section on &quot;Direct Use&quot; shows how to create a JOptionPane panel and add it to a dialog. 2) Then you would pack the dialog so all components have a size. 3) Use the <code>getRootPane()</code> method of the dialog. 4) Use the <code>getDefaultButton()</code> method of the root pane. 5) Use the Robot from the above link to position the mouse cursor. 6) Make the dialog visible."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634793486,"creation_date":1634793486,"answer_id":69656225,"question_id":69647350,"body_markdown":"Here is how I did it.  \r\nFirst, create an instance of [JOptionPane][1]\r\n```java\r\nJOptionPane oPane = new JOptionPane();\r\n```\r\nThen create the [dialog][2] and display it.\r\n```java\r\nJDialog dlg = oPane.createDialog(&quot;Dialog Title&quot;);\r\ndlg.setVisible(true);\r\n```\r\nThis is a screen capture of the displayed dialog.\r\n\r\n[![default dialog][3]][3]\r\n\r\nI did some experimenting and discovered that the `JOptionPane` instance contains two child components.\r\n```java\r\nComponent[] cmpts = oPane.getComponents();\r\nfor (Component cmpt : cmpts) {\r\n    System.out.println(cmpt.getClass());\r\n}\r\n```\r\nEach child is a [JPanel][4]. One of them contains the **OK** [JButton][5].\r\n\r\nThen I added a [WindowListener][6] to the `JDialog`. When the `JDialog` is displayed for the first time, I use a [Robot][7] to move the mouse pointer to the **OK** button.\r\n```java\r\njavax.swing.JOptionPane oPane = new javax.swing.JOptionPane();\r\njavax.swing.JDialog dlg = oPane.createDialog(&quot;Dialog Title&quot;);\r\ndlg.addWindowListener(new java.awt.event.WindowAdapter() {\r\n    public void windowOpened(java.awt.event.WindowEvent wndEvt) {\r\n        javax.swing.JComponent jCmpt = (javax.swing.JComponent) oPane.getComponent(1);\r\n        javax.swing.JButton button = (javax.swing.JButton) jCmpt.getComponent(0);\r\n        java.awt.Point pt = button.getLocationOnScreen();\r\n        try {\r\n            java.awt.Robot robbie = new java.awt.Robot();\r\n            robbie.mouseMove(pt.x, pt.y);\r\n        }\r\n        catch (java.awt.AWTException xAwt) {\r\n            xAwt.printStackTrace();\r\n        }\r\n    }\r\n});\r\ndlg.setVisible(true);\r\n```\r\nNote that the above is simply a [proof of concept][8] (POC). I suggest that you investigate the API of the classes appearing in the above code in order to make it suitable for your requirements.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/swing/JOptionPane.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/swing/JDialog.html\r\n  [3]: https://i.stack.imgur.com/qJ1DY.png\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/swing/JPanel.html\r\n  [5]: https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/swing/JButton.html\r\n  [6]: https://docs.oracle.com/javase/tutorial/uiswing/events/windowlistener.html\r\n  [7]: https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/java/awt/Robot.html\r\n  [8]: https://en.wikipedia.org/wiki/Proof_of_concept","title":"how to place mouse directly above a JOptionPane button in java?","body":"<p>Here is how I did it.<br />\nFirst, create an instance of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/swing/JOptionPane.html\" rel=\"nofollow noreferrer\">JOptionPane</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>JOptionPane oPane = new JOptionPane();\n</code></pre>\n<p>Then create the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/swing/JDialog.html\" rel=\"nofollow noreferrer\">dialog</a> and display it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>JDialog dlg = oPane.createDialog(&quot;Dialog Title&quot;);\ndlg.setVisible(true);\n</code></pre>\n<p>This is a screen capture of the displayed dialog.</p>\n<p><a href=\"https://i.stack.imgur.com/qJ1DY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qJ1DY.png\" alt=\"default dialog\" /></a></p>\n<p>I did some experimenting and discovered that the <code>JOptionPane</code> instance contains two child components.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Component[] cmpts = oPane.getComponents();\nfor (Component cmpt : cmpts) {\n    System.out.println(cmpt.getClass());\n}\n</code></pre>\n<p>Each child is a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/swing/JPanel.html\" rel=\"nofollow noreferrer\">JPanel</a>. One of them contains the <strong>OK</strong> <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/swing/JButton.html\" rel=\"nofollow noreferrer\">JButton</a>.</p>\n<p>Then I added a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/windowlistener.html\" rel=\"nofollow noreferrer\">WindowListener</a> to the <code>JDialog</code>. When the <code>JDialog</code> is displayed for the first time, I use a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/java/awt/Robot.html\" rel=\"nofollow noreferrer\">Robot</a> to move the mouse pointer to the <strong>OK</strong> button.</p>\n<pre class=\"lang-java prettyprint-override\"><code>javax.swing.JOptionPane oPane = new javax.swing.JOptionPane();\njavax.swing.JDialog dlg = oPane.createDialog(&quot;Dialog Title&quot;);\ndlg.addWindowListener(new java.awt.event.WindowAdapter() {\n    public void windowOpened(java.awt.event.WindowEvent wndEvt) {\n        javax.swing.JComponent jCmpt = (javax.swing.JComponent) oPane.getComponent(1);\n        javax.swing.JButton button = (javax.swing.JButton) jCmpt.getComponent(0);\n        java.awt.Point pt = button.getLocationOnScreen();\n        try {\n            java.awt.Robot robbie = new java.awt.Robot();\n            robbie.mouseMove(pt.x, pt.y);\n        }\n        catch (java.awt.AWTException xAwt) {\n            xAwt.printStackTrace();\n        }\n    }\n});\ndlg.setVisible(true);\n</code></pre>\n<p>Note that the above is simply a <a href=\"https://en.wikipedia.org/wiki/Proof_of_concept\" rel=\"nofollow noreferrer\">proof of concept</a> (POC). I suggest that you investigate the API of the classes appearing in the above code in order to make it suitable for your requirements.</p>\n"},{"tags":[],"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634810678,"creation_date":1634810147,"answer_id":69659793,"question_id":69647350,"body_markdown":"The following is an [mre]() demonstrating placing the mouse over `JOptionPane` button: \r\n\t\r\n\timport java.awt.*;\r\n\timport javax.swing.*;\r\n\t\r\n\tpublic class MouseOverJOptionPaneButton {\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\r\n\t\t\tJOptionPane optionPane = new JOptionPane();\r\n\t\t\toptionPane.setMessage(&quot;Mouse positioned over the button&quot;);\r\n\t\t\toptionPane.setMessageType(JOptionPane.INFORMATION_MESSAGE);\r\n\t\t\tJButton jButton = new JButton(&quot;OK&quot;);\r\n\t\t\tjButton.addActionListener(actionEvent -&gt; {\r\n\t\t\t\tSystem.out.println(jButton.getText() +&quot; pressed&quot;);\r\n\t\t\t});\r\n\t\t\toptionPane.setOptions(new Object[] { jButton });\r\n\t\t\tJDialog dialog = optionPane.createDialog(&quot;&quot;);\r\n\t\t\t//if modal, placeMouseOver is invoked after dialog closes\r\n\t\t    //alternatively use WindowListener as in Arba&#39;s answer\r\n            dialog.setModal(false);  \r\n\t\t\tdialog.setVisible(true);\r\n\t\t\tplaceMouseOver(jButton);\r\n\t\t\t//todo, optionally:  dialog.setModal(true);\r\n\t\t}\r\n\t\r\n\t\tprivate static void placeMouseOver(JComponent comp) {\r\n\t\t\ttry {\r\n\t\t\t\t//calculate center of component AFTER it is showing\r\n\t\t\t\tint xCoord = comp.getLocationOnScreen().x + comp.getWidth()/2;\r\n\t\t\t\tint yCoord = comp.getLocationOnScreen().y + comp.getHeight()/2;\r\n\t\t\t\t// Move the cursor\r\n\t\t\t\tnew Robot().mouseMove(xCoord, yCoord);\r\n\t\t\t} catch (AWTException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"how to place mouse directly above a JOptionPane button in java?","body":"<p>The following is an mre demonstrating placing the mouse over <code>JOptionPane</code> button:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class MouseOverJOptionPaneButton {\n\n    public static void main(String[] args) {\n\n        JOptionPane optionPane = new JOptionPane();\n        optionPane.setMessage(&quot;Mouse positioned over the button&quot;);\n        optionPane.setMessageType(JOptionPane.INFORMATION_MESSAGE);\n        JButton jButton = new JButton(&quot;OK&quot;);\n        jButton.addActionListener(actionEvent -&gt; {\n            System.out.println(jButton.getText() +&quot; pressed&quot;);\n        });\n        optionPane.setOptions(new Object[] { jButton });\n        JDialog dialog = optionPane.createDialog(&quot;&quot;);\n        //if modal, placeMouseOver is invoked after dialog closes\n        //alternatively use WindowListener as in Arba's answer\n        dialog.setModal(false);  \n        dialog.setVisible(true);\n        placeMouseOver(jButton);\n        //todo, optionally:  dialog.setModal(true);\n    }\n\n    private static void placeMouseOver(JComponent comp) {\n        try {\n            //calculate center of component AFTER it is showing\n            int xCoord = comp.getLocationOnScreen().x + comp.getWidth()/2;\n            int yCoord = comp.getLocationOnScreen().y + comp.getHeight()/2;\n            // Move the cursor\n            new Robot().mouseMove(xCoord, yCoord);\n        } catch (AWTException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2590622,"reputation":523,"user_id":2245414,"accept_rate":75,"display_name":"froggy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1634810678,"creation_date":1634738033,"question_id":69647350,"body_markdown":"As a button can be preselected to be hit by Enter key , is there an way to place mouse on a selected button of Joption pane Button ?\r\n\r\nThanks in advance","title":"how to place mouse directly above a JOptionPane button in java?","body":"<p>As a button can be preselected to be hit by Enter key , is there an way to place mouse on a selected button of Joption pane Button ?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring","maven","dependencies"],"comments":[{"owner":{"account_id":6299098,"reputation":375,"user_id":4894257,"display_name":"Rohan Bhattacharya"},"score":0,"creation_date":1634802447,"post_id":69657775,"comment_id":123124968,"body_markdown":"Hello, can you instead parse the pom file for your application? Or may be use the mvn dependency:tree and then parse the result?","body":"Hello, can you instead parse the pom file for your application? Or may be use the mvn dependency:tree and then parse the result?"}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634804194,"creation_date":1634804194,"answer_id":69658298,"question_id":69657775,"body_markdown":"You leave out the last two directory names and the file name, then you get the groupId.\r\n\r\nExample:\r\n\r\n/Users/myName/.m2/repository/jakarta/annotation/jakarta.annotation-api/1.3.5/jakarta.annotation-api-1.3.5.jar\r\n\r\nleads to `jakarta/annotation`, then replace `/` by `.` and you are finished. ","title":"How to get proper region ID from the dependency class path in Java?","body":"<p>You leave out the last two directory names and the file name, then you get the groupId.</p>\n<p>Example:</p>\n<p>/Users/myName/.m2/repository/jakarta/annotation/jakarta.annotation-api/1.3.5/jakarta.annotation-api-1.3.5.jar</p>\n<p>leads to <code>jakarta/annotation</code>, then replace <code>/</code> by <code>.</code> and you are finished.</p>\n"}],"owner":{"account_id":4418169,"reputation":1,"user_id":4166751,"display_name":"prekam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634810356,"creation_date":1634801951,"question_id":69657775,"body_markdown":"I want to get groupIds of the dependencies that my app is using.\r\nI have a filePath lists which locally looks like this:\r\n\r\n```\r\n/Users/myName/.m2/repository/jakarta/annotation/jakarta.annotation-api/1.3.5/jakarta.annotation-api-1.3.5.jar\r\n\r\n/Users/myName/.m2/repository/org/springframework/spring-context/5.2.2.RELEASE/spring-context-5.2.2.RELEASE.jar\r\n\r\n/Users/myName/.m2/repository/org/springframework/boot/spring-boot-actuator/2.2.2.RELEASE/spring-boot-actuator-2.2.2.RELEASE.jar\r\n\r\n/Users/myName/.m2/repository/junit/junit/4.13.1/junit-4.13.1.jar\r\n```\r\nLooks like, we have a pattern, counting from the end by slashes we have the jar, version, artifact, and then there is the groupId. But the trick is that not always group id has the same amount of words, jakarta.annotation, and org.springframework have 2, sometimes there is 3, or just 1.\r\n\r\nFurthermore not always the path looks the same, I believe on the server it&#39;s not in the .m2/repository catalog.\r\n\r\nDoes anybody know how to get group IDs from the dependencies in our app?","title":"How to get proper region ID from the dependency class path in Java?","body":"<p>I want to get groupIds of the dependencies that my app is using.\nI have a filePath lists which locally looks like this:</p>\n<pre><code>/Users/myName/.m2/repository/jakarta/annotation/jakarta.annotation-api/1.3.5/jakarta.annotation-api-1.3.5.jar\n\n/Users/myName/.m2/repository/org/springframework/spring-context/5.2.2.RELEASE/spring-context-5.2.2.RELEASE.jar\n\n/Users/myName/.m2/repository/org/springframework/boot/spring-boot-actuator/2.2.2.RELEASE/spring-boot-actuator-2.2.2.RELEASE.jar\n\n/Users/myName/.m2/repository/junit/junit/4.13.1/junit-4.13.1.jar\n</code></pre>\n<p>Looks like, we have a pattern, counting from the end by slashes we have the jar, version, artifact, and then there is the groupId. But the trick is that not always group id has the same amount of words, jakarta.annotation, and org.springframework have 2, sometimes there is 3, or just 1.</p>\n<p>Furthermore not always the path looks the same, I believe on the server it's not in the .m2/repository catalog.</p>\n<p>Does anybody know how to get group IDs from the dependencies in our app?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8068,"page":1924,"page_size":100}
