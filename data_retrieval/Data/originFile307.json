{"items":[{"tags":["java","ethereum","web3-java"],"owner":{"account_id":29031091,"reputation":1,"user_id":22237985,"display_name":"cv cv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689566553,"creation_date":1689566553,"question_id":76701417,"body_markdown":"```\r\npublic static List&lt;Type&gt; readTx(String inputData, String abi, String methodName){\r\n        ABIUtils abiUtils = new ABIUtils();\r\n        try {\r\n            String abi4Json = abiUtils.getABI4Json(abi);\r\n            ArrayList&lt;TypeReference&lt;Type&gt;&gt; transfer = abiUtils.getInputTypeReferences(methodName, abi4Json);\r\n            return FunctionReturnDecoder.decode(inputData, transfer);\r\n        } catch (FileNotFoundException | JsonProcessingException | ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public  ArrayList&lt;TypeReference&lt;Type&gt;&gt; getInputTypeReferences(String methodName, String abi) throws ClassNotFoundException, JsonProcessingException {\r\n        ObjectMapper om = new ObjectMapper();\r\n        AbiDefinition[] abiDefinitions = om.readValue(abi, AbiDefinition[].class);\r\n        AbiDefinition function = Arrays.stream(abiDefinitions).filter(abiDefinition -&gt; {\r\n            if (abiDefinition.getType().equals(&quot;function&quot;)) {\r\n                return abiDefinition.getName().equalsIgnoreCase(methodName);\r\n            }\r\n            return false;\r\n        }).findFirst().orElse(null);\r\n\r\n        ArrayList&lt;TypeReference&lt;Type&gt;&gt; functionsRef = new ArrayList&lt;&gt;();\r\n\r\n        for (AbiDefinition.NamedType namedType : function.getInputs()) {\r\n            String type = namedType.getType();\r\n            TypeReference typeReference = TypeReference.makeTypeReference(type);\r\n            functionsRef.add(typeReference);\r\n        }\r\n        return functionsRef;\r\n    }\r\n```\r\nhow to use web3j geting inputparams ,this code ?Here I want to use abi to directly obtain the execution parameters of the contract, is there anything that needs to be changed\r\n\r\nHere I want to use abi to directly obtain the execution parameters of the contract, is there anything that needs to be changed","title":"how to use web3j geting inputparams","body":"<pre><code>public static List&lt;Type&gt; readTx(String inputData, String abi, String methodName){\n        ABIUtils abiUtils = new ABIUtils();\n        try {\n            String abi4Json = abiUtils.getABI4Json(abi);\n            ArrayList&lt;TypeReference&lt;Type&gt;&gt; transfer = abiUtils.getInputTypeReferences(methodName, abi4Json);\n            return FunctionReturnDecoder.decode(inputData, transfer);\n        } catch (FileNotFoundException | JsonProcessingException | ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    public  ArrayList&lt;TypeReference&lt;Type&gt;&gt; getInputTypeReferences(String methodName, String abi) throws ClassNotFoundException, JsonProcessingException {\n        ObjectMapper om = new ObjectMapper();\n        AbiDefinition[] abiDefinitions = om.readValue(abi, AbiDefinition[].class);\n        AbiDefinition function = Arrays.stream(abiDefinitions).filter(abiDefinition -&gt; {\n            if (abiDefinition.getType().equals(&quot;function&quot;)) {\n                return abiDefinition.getName().equalsIgnoreCase(methodName);\n            }\n            return false;\n        }).findFirst().orElse(null);\n\n        ArrayList&lt;TypeReference&lt;Type&gt;&gt; functionsRef = new ArrayList&lt;&gt;();\n\n        for (AbiDefinition.NamedType namedType : function.getInputs()) {\n            String type = namedType.getType();\n            TypeReference typeReference = TypeReference.makeTypeReference(type);\n            functionsRef.add(typeReference);\n        }\n        return functionsRef;\n    }\n</code></pre>\n<p>how to use web3j geting inputparams ,this code ?Here I want to use abi to directly obtain the execution parameters of the contract, is there anything that needs to be changed</p>\n<p>Here I want to use abi to directly obtain the execution parameters of the contract, is there anything that needs to be changed</p>\n"},{"tags":["java","google-chrome","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":0,"creation_date":1689492854,"post_id":76697003,"comment_id":135219076,"body_markdown":"Can you post all the Classes and methods from where you are initializing and launching the WebDriverManager to launching ChromeDriver() with the framework directory structure?","body":"Can you post all the Classes and methods from where you are initializing and launching the WebDriverManager to launching ChromeDriver() with the framework directory structure?"}],"answers":[{"tags":[],"owner":{"account_id":274340,"reputation":480,"user_id":566511,"display_name":"Andrei Solntsev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689511373,"creation_date":1689511373,"answer_id":76698318,"question_id":76697003,"body_markdown":"There might be many possible reasons.\r\nI recommend you to create a sample project on github that everyone could clone and reproduce the problem. Otherwise it&#39;s rather impossible to say something helpful.","title":"Chrome browser instance spawned from Selenium Chromedriver is slower from my framework as compared to a simple Java project","body":"<p>There might be many possible reasons.\nI recommend you to create a sample project on github that everyone could clone and reproduce the problem. Otherwise it's rather impossible to say something helpful.</p>\n"},{"tags":[],"owner":{"account_id":1408474,"reputation":1578,"user_id":1335594,"accept_rate":68,"display_name":"Abhijeet Vaikar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689566482,"creation_date":1689566482,"answer_id":76701411,"question_id":76697003,"body_markdown":"The issue of slowness got resolved after I tried updating the selenium java binding dependency from 3.141.59 to 4.1.1.\r\n\r\nAlthough I am not sure why/how updating the client side library would make a difference in speed of the browser the driver manages.","title":"Chrome browser instance spawned from Selenium Chromedriver is slower from my framework as compared to a simple Java project","body":"<p>The issue of slowness got resolved after I tried updating the selenium java binding dependency from 3.141.59 to 4.1.1.</p>\n<p>Although I am not sure why/how updating the client side library would make a difference in speed of the browser the driver manages.</p>\n"}],"owner":{"account_id":1408474,"reputation":1578,"user_id":1335594,"accept_rate":68,"display_name":"Abhijeet Vaikar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1689566482,"creation_date":1689489728,"question_id":76697003,"body_markdown":"We have a web UI test automation framework that uses Selenium WebDriver for web UI automation.\r\n\r\n**Type of project**\r\n- Maven based\r\n- CucumberJVM for framework structure and separation of concerns. (Gherkin steps, business layer, page objects)\r\n- We also use Spring DI to manage certain utilities and page objects lifecycle whenever they are used as dependencies in other classes.\r\n- PageFactory for locators.\r\n- Element listeners (via EventFiringWebDriverFactory)\r\n\r\n**Critical dependencies that we are using that will be important to know here**\r\n- Selenium client java binding version: 3.141.59\r\n- Webdriver manager: 3.6.1\r\n\r\n**Options we set for Chrome Driver instantiation**\r\n```\r\noptions.setAcceptInsecureCerts(true);\r\noptions.addArguments(&quot;--disable-quic&quot;);\r\nreturn options;\r\n```\r\n\r\n**How we add driver listeners**\r\n```\r\nprotected void addDriverListeners() {\r\n    // Add event listeners\r\n    List&lt;Listener&gt; listeners = new ArrayList&lt;&gt;();\r\n    listeners.add(new ElementListener());\r\n    driver = EventFiringWebDriverFactory.getEventFiringWebDriver(driver, listeners);\r\n  }\r\n```\r\n\r\n**How we initialise pagefactory elements**\r\n```\r\nprotected void initPageFactoryElements() {\r\n    String[] beanDefinitionNames = applicationContext.getBeanDefinitionNames();\r\n\r\n    for (int i = 0; i &lt; beanDefinitionNames.length; i++) {\r\n      Object page = applicationContext.getBean(beanDefinitionNames[i]);\r\n      if (BasePage.class.isAssignableFrom(page.getClass())) {\r\n        LOG.debug(&quot;Initialising PageFactory elements for page: {}&quot;, page.getClass());\r\n        PageFactory.initElements(new AppiumFieldDecorator(driver), page);\r\n      }\r\n    }\r\n  }\r\n```\r\n\r\n**Sequence of initialising chrome driver**&lt;br&gt;\r\n1. Setup driver via WebDriverManager\r\n2. Set Chrome options for insecure certs and disable quic protocol.\r\n3. Initialise Chrome driver with those options.\r\n4. Open website\r\n5. Add element listeners.\r\n6. Initialise pagefactor elements \r\n\r\n**What problem are we facing?**&lt;br&gt;\r\nWhen we run tests via this project, the browser instance responds really really slow.\r\n1. It takes too long to open Chrome browser after driver instantiation.\r\n2. On submitting the URL via `driver.navigate().to(configuration.getBaseUrl());`, the website takes too long to finish loading. I can see that it takes longer to finish any API requests and resources\r\n\r\n**What happens if I run a test from a very simple Java maven project with no setup like above and just the webdriver dependency**&lt;br&gt;\r\nChrome driver and the chrome browser instance are super fast.\r\n\r\n\r\nWhat could be going wrong in the way we are running the tests? Could the problem be because of:&lt;br&gt;\r\n1. Using Spring DI for a lot of classes in the project OR\r\n2. Using PageFactory OR\r\n3. Using Webelement listeners OR\r\n4. Setting those chrome options as mentioned above.\r\n\r\n\r\nHas anyone come across similar problems? Any help is much appreciated.","title":"Chrome browser instance spawned from Selenium Chromedriver is slower from my framework as compared to a simple Java project","body":"<p>We have a web UI test automation framework that uses Selenium WebDriver for web UI automation.</p>\n<p><strong>Type of project</strong></p>\n<ul>\n<li>Maven based</li>\n<li>CucumberJVM for framework structure and separation of concerns. (Gherkin steps, business layer, page objects)</li>\n<li>We also use Spring DI to manage certain utilities and page objects lifecycle whenever they are used as dependencies in other classes.</li>\n<li>PageFactory for locators.</li>\n<li>Element listeners (via EventFiringWebDriverFactory)</li>\n</ul>\n<p><strong>Critical dependencies that we are using that will be important to know here</strong></p>\n<ul>\n<li>Selenium client java binding version: 3.141.59</li>\n<li>Webdriver manager: 3.6.1</li>\n</ul>\n<p><strong>Options we set for Chrome Driver instantiation</strong></p>\n<pre><code>options.setAcceptInsecureCerts(true);\noptions.addArguments(&quot;--disable-quic&quot;);\nreturn options;\n</code></pre>\n<p><strong>How we add driver listeners</strong></p>\n<pre><code>protected void addDriverListeners() {\n    // Add event listeners\n    List&lt;Listener&gt; listeners = new ArrayList&lt;&gt;();\n    listeners.add(new ElementListener());\n    driver = EventFiringWebDriverFactory.getEventFiringWebDriver(driver, listeners);\n  }\n</code></pre>\n<p><strong>How we initialise pagefactory elements</strong></p>\n<pre><code>protected void initPageFactoryElements() {\n    String[] beanDefinitionNames = applicationContext.getBeanDefinitionNames();\n\n    for (int i = 0; i &lt; beanDefinitionNames.length; i++) {\n      Object page = applicationContext.getBean(beanDefinitionNames[i]);\n      if (BasePage.class.isAssignableFrom(page.getClass())) {\n        LOG.debug(&quot;Initialising PageFactory elements for page: {}&quot;, page.getClass());\n        PageFactory.initElements(new AppiumFieldDecorator(driver), page);\n      }\n    }\n  }\n</code></pre>\n<p><strong>Sequence of initialising chrome driver</strong><br></p>\n<ol>\n<li>Setup driver via WebDriverManager</li>\n<li>Set Chrome options for insecure certs and disable quic protocol.</li>\n<li>Initialise Chrome driver with those options.</li>\n<li>Open website</li>\n<li>Add element listeners.</li>\n<li>Initialise pagefactor elements</li>\n</ol>\n<p><strong>What problem are we facing?</strong><br>\nWhen we run tests via this project, the browser instance responds really really slow.</p>\n<ol>\n<li>It takes too long to open Chrome browser after driver instantiation.</li>\n<li>On submitting the URL via <code>driver.navigate().to(configuration.getBaseUrl());</code>, the website takes too long to finish loading. I can see that it takes longer to finish any API requests and resources</li>\n</ol>\n<p><strong>What happens if I run a test from a very simple Java maven project with no setup like above and just the webdriver dependency</strong><br>\nChrome driver and the chrome browser instance are super fast.</p>\n<p>What could be going wrong in the way we are running the tests? Could the problem be because of:<br></p>\n<ol>\n<li>Using Spring DI for a lot of classes in the project OR</li>\n<li>Using PageFactory OR</li>\n<li>Using Webelement listeners OR</li>\n<li>Setting those chrome options as mentioned above.</li>\n</ol>\n<p>Has anyone come across similar problems? Any help is much appreciated.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":6,"creation_date":1689529394,"post_id":76699636,"comment_id":135223074,"body_markdown":"Why would you expect this to work? String and StringBuilder are different classes, Stringbuilder isn&#39;t a subclass of String.","body":"Why would you expect this to work? String and StringBuilder are different classes, Stringbuilder isn&#39;t a subclass of String."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1689531995,"post_id":76699636,"comment_id":135223347,"body_markdown":"They are completely different classes, and so why should a StringBuilder object be allowed to be assigned to a String variable? You first need to explain why you think that this even is possible. Does the API suggest that this might be so?","body":"They are completely different classes, and so why should a StringBuilder object be allowed to be assigned to a String variable? You first need to explain why you think that this even is possible. Does the API suggest that this might be so?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1689533955,"post_id":76699636,"comment_id":135223576,"body_markdown":"&quot;_I think this is due to immutable String class and mutable StringBuilder class combination._&quot; -- It&#39;s much simpler than that. A `StringBuilder` is not a `String`, and thus can&#39;t be assigned to a variable of type `String`.","body":"&quot;<i>I think this is due to immutable String class and mutable StringBuilder class combination.</i>&quot; -- It&#39;s much simpler than that. A <code>StringBuilder</code> is not a <code>String</code>, and thus can&#39;t be assigned to a variable of type <code>String</code>."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":1,"creation_date":1689535756,"post_id":76699636,"comment_id":135223776,"body_markdown":"You are [assigning apples to oranges](https://poemanalysis.com/idiom/apples-to-oranges)..","body":"You are <a href=\"https://poemanalysis.com/idiom/apples-to-oranges\" rel=\"nofollow noreferrer\">assigning apples to oranges</a>.."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1689553848,"post_id":76699636,"comment_id":135225406,"body_markdown":"A `StringBuilder` is not a `String`, and using a `String` literal with `new` is an **antipattern**. `String s1 = &quot;Hello&quot;;`","body":"A <code>StringBuilder</code> is not a <code>String</code>, and using a <code>String</code> literal with <code>new</code> is an <b>antipattern</b>. <code>String s1 = &quot;Hello&quot;;</code>"}],"answers":[{"tags":[],"owner":{"account_id":7362914,"reputation":74,"user_id":5605615,"display_name":"mgillett"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1689533905,"creation_date":1689529673,"answer_id":76699664,"question_id":76699636,"body_markdown":"s1 is a String and you are using a StringBuilder to instantiate it which is a different class. Maybe something like this :\r\n\r\n    StingBuilder temp = new StringBuilder(&quot;Hello&quot;);\r\n    String s1 = temp.toString();","title":"Why can&#39;t we declare string like below?","body":"<p>s1 is a String and you are using a StringBuilder to instantiate it which is a different class. Maybe something like this :</p>\n<pre><code>StingBuilder temp = new StringBuilder(&quot;Hello&quot;);\nString s1 = temp.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689535190,"creation_date":1689535190,"answer_id":76700034,"question_id":76699636,"body_markdown":"It has nothing to do with the mutable / immutable properties. \r\n\r\nCheck out the [String API](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html) and the [StringBuilder API](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/StringBuilder.html). They each inherit directly from `Object`. Neither is a subclass of the other. So, as far as the compiler is concerned, `String s1 = new StringBuilder(&quot;Hello&quot;);` makes as much sense as `Dog fido = new Circle (4.7);` \r\n\r\nYou could have `String s1 = new StringBuilder (&quot;Hello&quot;).toString ();`. But, that doesn&#39;t really make sense. It creates an anonymous Object, runs its `toString()` method, and then discards the StringBuilder Object. So, why not just have `String s1 = &quot;Hello&quot;;` or `String s1 = new String (&quot;Hello&quot;);` in the first place? \r\n\r\nNote that `String` and `StringBuilder` each implement [`CharSequence`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/CharSequence.html).\r\n\r\nThe following code will compile: \r\n\r\n        String s1 = new StringBuilder (&quot;Hello&quot;).toString ();\r\n        CharSequence s2 = new String (&quot; World!&quot;);\r\n        CharSequence s3 = new StringBuilder (&quot;Bye&quot;);    \r\n        s3 = s2;\r\n        s2 = s3; \r\n        s2 = s1; \r\n  \r\nThat would limit the methods of `s2` and `s3` to the methods available in`CharSequence`. If you wanted to use other methods of `String` or `StringBuilder`, you could verify the class using `instanceof`, and then a class cast. \r\n\r\n\r\n","title":"Why can&#39;t we declare string like below?","body":"<p>It has nothing to do with the mutable / immutable properties.</p>\n<p>Check out the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html\" rel=\"nofollow noreferrer\">String API</a> and the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\">StringBuilder API</a>. They each inherit directly from <code>Object</code>. Neither is a subclass of the other. So, as far as the compiler is concerned, <code>String s1 = new StringBuilder(&quot;Hello&quot;);</code> makes as much sense as <code>Dog fido = new Circle (4.7);</code></p>\n<p>You could have <code>String s1 = new StringBuilder (&quot;Hello&quot;).toString ();</code>. But, that doesn't really make sense. It creates an anonymous Object, runs its <code>toString()</code> method, and then discards the StringBuilder Object. So, why not just have <code>String s1 = &quot;Hello&quot;;</code> or <code>String s1 = new String (&quot;Hello&quot;);</code> in the first place?</p>\n<p>Note that <code>String</code> and <code>StringBuilder</code> each implement <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/CharSequence.html\" rel=\"nofollow noreferrer\"><code>CharSequence</code></a>.</p>\n<p>The following code will compile:</p>\n<pre><code>    String s1 = new StringBuilder (&quot;Hello&quot;).toString ();\n    CharSequence s2 = new String (&quot; World!&quot;);\n    CharSequence s3 = new StringBuilder (&quot;Bye&quot;);    \n    s3 = s2;\n    s2 = s3; \n    s2 = s1; \n</code></pre>\n<p>That would limit the methods of <code>s2</code> and <code>s3</code> to the methods available in<code>CharSequence</code>. If you wanted to use other methods of <code>String</code> or <code>StringBuilder</code>, you could verify the class using <code>instanceof</code>, and then a class cast.</p>\n"},{"comments":[{"owner":{"account_id":28948567,"reputation":17,"user_id":22173688,"display_name":"AshishMaha"},"score":1,"creation_date":1689608142,"post_id":76700812,"comment_id":135234095,"body_markdown":"Thank you for detailed explanation and links shared.","body":"Thank you for detailed explanation and links shared."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689565555,"creation_date":1689550528,"answer_id":76700812,"question_id":76699636,"body_markdown":"&gt; _&quot;What&#39;s wrong with this statement and why?_\r\n&gt; \r\n&gt; _String s1 = new StringBuilder(&quot;Hello&quot;); ...&quot;_\r\n\r\nThe reason that doesn&#39;t work is because _StringBuilder_ is not a subclass of _String_.\r\n\r\nYou _could_, just append the _toString_ call to the _StringBuilder_.\r\n\r\n```java\r\nString s1 = new StringBuilder(&quot;Hello&quot;).toString();\r\n```\r\n\r\nConsider the following example.  \r\nThe assignment will cause an error.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    A value = new B();\r\n}\r\n\r\nclass A {\r\n    \r\n}\r\n    \r\nclass B {\r\n    \r\n}\r\n```\r\n\r\nOn the other hand, if the objects were related, it would work.\r\n\r\n```java\r\nclass A {\r\n\r\n}\r\n\r\nclass B extends A {\r\n\r\n}\r\n```\r\n\r\nHere is the _Java_ tutorial on inheritance.  \r\n_[Inheritance (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Interfaces and Inheritance)](https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html)_.","title":"Why can&#39;t we declare string like below?","body":"<blockquote>\n<p><em>&quot;What's wrong with this statement and why?</em></p>\n<p><em>String s1 = new StringBuilder(&quot;Hello&quot;); ...&quot;</em></p>\n</blockquote>\n<p>The reason that doesn't work is because <em>StringBuilder</em> is not a subclass of <em>String</em>.</p>\n<p>You <em>could</em>, just append the <em>toString</em> call to the <em>StringBuilder</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s1 = new StringBuilder(&quot;Hello&quot;).toString();\n</code></pre>\n<p>Consider the following example.<br />\nThe assignment will cause an error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    A value = new B();\n}\n\nclass A {\n    \n}\n    \nclass B {\n    \n}\n</code></pre>\n<p>On the other hand, if the objects were related, it would work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class A {\n\n}\n\nclass B extends A {\n\n}\n</code></pre>\n<p>Here is the <em>Java</em> tutorial on inheritance.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html\" rel=\"nofollow noreferrer\">Inheritance (The Java™ Tutorials &gt; Learning the Java Language &gt; Interfaces and Inheritance)</a></em>.</p>\n"}],"owner":{"account_id":28948567,"reputation":17,"user_id":22173688,"display_name":"AshishMaha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":5,"up_vote_count":2,"closed_date":1689763861,"accepted_answer_id":76700812,"answer_count":3,"score":-3,"last_activity_date":1689565555,"creation_date":1689529153,"question_id":76699636,"body_markdown":"What&#39;s wrong with this statement and why?\r\n\r\n\r\nString s1 = new StringBuilder(&quot;Hello&quot;);\r\n\r\nI think this is due to immutable String class and mutable StringBuilder class combination.\r\nAny new suggestion/insights on this are much appreciated.\r\nThank you.","title":"Why can&#39;t we declare string like below?","body":"<p>What's wrong with this statement and why?</p>\n<p>String s1 = new StringBuilder(&quot;Hello&quot;);</p>\n<p>I think this is due to immutable String class and mutable StringBuilder class combination.\nAny new suggestion/insights on this are much appreciated.\nThank you.</p>\n"},{"tags":["java","spring-boot","reflection"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689565990,"post_id":76701358,"comment_id":135226220,"body_markdown":"What happens when you try that?","body":"What happens when you try that?"},{"owner":{"account_id":11478953,"reputation":937,"user_id":8413680,"display_name":"Sujay Mohan"},"score":0,"creation_date":1689567250,"post_id":76701358,"comment_id":135226295,"body_markdown":"You can use Hibernate Validator for the normal validation like above.","body":"You can use Hibernate Validator for the normal validation like above."},{"owner":{"account_id":21054824,"reputation":11,"user_id":15474342,"display_name":"archercomprehensive"},"score":0,"creation_date":1689602569,"post_id":76701358,"comment_id":135232795,"body_markdown":"It throws an error about casting the inv field as an integer","body":"It throws an error about casting the inv field as an integer"},{"owner":{"account_id":1263716,"reputation":485,"user_id":1221476,"accept_rate":83,"display_name":"gpr"},"score":0,"creation_date":1689699493,"post_id":76701358,"comment_id":135249643,"body_markdown":"Try changing the variable name &quot;inv&quot;, seems to be present both in the local and in the class attribute.","body":"Try changing the variable name &quot;inv&quot;, seems to be present both in the local and in the class attribute."}],"owner":{"account_id":21054824,"reputation":11,"user_id":15474342,"display_name":"archercomprehensive"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689565285,"creation_date":1689565285,"question_id":76701358,"body_markdown":"Hello I am a beginner at SpringBoot and I am having trouble using Java reflection to validate my min and max fields. I have a Part class that with each part object having different min and max values for the inventory and I want to access those values at runtime in the validation part of my SpringBoot application.\r\n\r\nThis is the relevant code for the Part class:\r\n\r\n\r\n```\r\n@ValidInvRange\r\n    int inv;\r\n\r\n    int min;\r\n    int max;\r\n````\r\n\r\nI want to know how I can access the integer values using reflection in a Validation class. I have been unable to figure it out so far.\r\n\r\nSo far I&#39;ve tried for each value to this-\r\n```\r\nField inv = Part.class.getDeclaredField(&quot;inv&quot;);\r\nint inventory = (int) inv.get(inv);\r\n```\r\n\r\n","title":"Having trouble adding fields to a SpringBoot entity","body":"<p>Hello I am a beginner at SpringBoot and I am having trouble using Java reflection to validate my min and max fields. I have a Part class that with each part object having different min and max values for the inventory and I want to access those values at runtime in the validation part of my SpringBoot application.</p>\n<p>This is the relevant code for the Part class:</p>\n<pre><code>@ValidInvRange\n    int inv;\n\n    int min;\n    int max;\n</code></pre>\n<p>I want to know how I can access the integer values using reflection in a Validation class. I have been unable to figure it out so far.</p>\n<p>So far I've tried for each value to this-</p>\n<pre><code>Field inv = Part.class.getDeclaredField(&quot;inv&quot;);\nint inventory = (int) inv.get(inv);\n</code></pre>\n"},{"tags":["java","android","autocompletetextview"],"answers":[{"comments":[{"owner":{"account_id":9984377,"reputation":2086,"user_id":7386152,"accept_rate":52,"display_name":"Learn2Code"},"score":0,"creation_date":1689457942,"post_id":76694743,"comment_id":135217130,"body_markdown":"can you provide sample code for the first option? I am new to android programming coming from ios.","body":"can you provide sample code for the first option? I am new to android programming coming from ios."},{"owner":{"account_id":9984377,"reputation":2086,"user_id":7386152,"accept_rate":52,"display_name":"Learn2Code"},"score":0,"creation_date":1689458478,"post_id":76694743,"comment_id":135217166,"body_markdown":"I have added my current Adapter code","body":"I have added my current Adapter code"},{"owner":{"account_id":22301332,"reputation":21,"user_id":16526514,"display_name":"Ian"},"score":0,"creation_date":1689564566,"post_id":76694743,"comment_id":135226120,"body_markdown":"I&#39;ve added some sample code. Please let me know if it works or if you&#39;re facing any issues.","body":"I&#39;ve added some sample code. Please let me know if it works or if you&#39;re facing any issues."},{"owner":{"account_id":9984377,"reputation":2086,"user_id":7386152,"accept_rate":52,"display_name":"Learn2Code"},"score":0,"creation_date":1689594797,"post_id":76694743,"comment_id":135230909,"body_markdown":"So i did that, but now the behaviour of the dropdown menu is not working. I put a basic `Toast.makeText(getContext().getApplicationContext(), &quot;Sku Selected: &quot; + sku.getSkuTitle(), Toast.LENGTH_SHORT).show();` which displays correctly and all but the menu does NOT close like you would expect it to once a user selects an item!?","body":"So i did that, but now the behaviour of the dropdown menu is not working. I put a basic <code>Toast.makeText(getContext().getApplicationContext(), &quot;Sku Selected: &quot; + sku.getSkuTitle(), Toast.LENGTH_SHORT).show();</code> which displays correctly and all but the menu does NOT close like you would expect it to once a user selects an item!?"},{"owner":{"account_id":22301332,"reputation":21,"user_id":16526514,"display_name":"Ian"},"score":0,"creation_date":1689731989,"post_id":76694743,"comment_id":135253769,"body_markdown":"For that you need to hide the parent view by changing its visibility. In that case I belive it works like this: `parent.setVisibility(View.GONE);`. But I&#39;m  not sure if this is working in your case. If not, you probably have to access the parent view by getting the parent through:  `convertView.getParent()` and then changing the visibility. Or you can pass it from outside into the adapter.","body":"For that you need to hide the parent view by changing its visibility. In that case I belive it works like this: <code>parent.setVisibility(View.GONE);</code>. But I&#39;m  not sure if this is working in your case. If not, you probably have to access the parent view by getting the parent through:  <code>convertView.getParent()</code> and then changing the visibility. Or you can pass it from outside into the adapter."}],"tags":[],"owner":{"account_id":22301332,"reputation":21,"user_id":16526514,"display_name":"Ian"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689564359,"creation_date":1689438442,"answer_id":76694743,"question_id":76691988,"body_markdown":"Here are 2 things you could try:\r\n1. You could try to setup the `clickListener()` Method in the Adapter for each item:\r\n\r\n`convertView.setOnClickListener(v -&gt; {\r\n//Your code here\r\n});`\r\nIn this example we assume that the click method should be triggerd when the `convertView` is pressed.\r\n\r\n2. Also try to make sure that the array `numPlayersArray` isn&#39;t empty, when the ClickListener gets assigned.\r\n\r\nPlease let me know if it helped.\r\n","title":"Android - Issue with AutoCompleteTextView element, setOnItemClickListener not working","body":"<p>Here are 2 things you could try:</p>\n<ol>\n<li>You could try to setup the <code>clickListener()</code> Method in the Adapter for each item:</li>\n</ol>\n<p><code>convertView.setOnClickListener(v -&gt; { //Your code here });</code>\nIn this example we assume that the click method should be triggerd when the <code>convertView</code> is pressed.</p>\n<ol start=\"2\">\n<li>Also try to make sure that the array <code>numPlayersArray</code> isn't empty, when the ClickListener gets assigned.</li>\n</ol>\n<p>Please let me know if it helped.</p>\n"}],"owner":{"account_id":9984377,"reputation":2086,"user_id":7386152,"accept_rate":52,"display_name":"Learn2Code"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689564359,"creation_date":1689387799,"question_id":76691988,"body_markdown":"I have the following Activity code which ref. the R.layout.pool_details_new_layout (code below)\r\n\r\nThe Adapter ref. the number_of_players_dropdown_layout (code below)\r\n\r\n\r\nEverything works fine, the view loads the AutoCompleteTextView dropdown box populates and when i click on it is shows all the entires in it\r\n\r\nBUT \r\n\r\nwhen i select an item, I am expecting for the `numPlayersSelected.setOnItemClickListener` to execute and log to the logcat and show a toast on the screen but nothing happens!?\r\n\r\nDoes anyone know what i am missing!?\r\n\r\n\r\nActivity code:\r\n--------------\r\n\r\n    public class PoolDetailsActivity extends AppCompatActivity {\r\n \r\n        ArrayAdapter&lt;SkuItem&gt; numPlayersAdapter;\r\n        private AutoCompleteTextView numPlayersSelected;\r\n        public static Activity activity = null;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n        \r\n            setContentView(R.layout.pool_details_new_layout);\r\n           \r\n            activity = this;\r\n\r\n            numPlayersSelected = (AutoCompleteTextView) findViewById(R.id.numOfPlayersAddSelected);\r\n                        \r\n            numPlayersAdapter = new IAPSkuAdapter(activity, R.layout.number_of_players_dropdown_layout, numPlayersArray);\r\n\r\n            numPlayersSelected.setAdapter(numPlayersAdapter);\r\n\r\n            // NOT WORKING!?   &lt;-------------------------------------\r\n            numPlayersSelected.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n\r\n                @Override\r\n                public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n\r\n                    String selectedItemText = (String) parent.getItemAtPosition(position);\r\n\r\n                    Toast.makeText(getBaseContext(),selectedItemText + &quot; selected!&quot;, Toast.LENGTH_LONG).show();\r\n                    Log.e(TAG, &quot;&lt;&lt; SELECTED &gt;&gt; : &quot; + selectedItemText);\r\n\r\n                }\r\n\r\n            }\r\n                        \r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\nnumber_of_players_dropdown_layout code:\r\n---------------------------------------\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:card_view=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:cardCornerRadius=&quot;15dp&quot;\r\n        app:cardElevation=&quot;10dp&quot;\r\n        app:cardUseCompatPadding=&quot;true&quot;\r\n        card_view:cardCornerRadius=&quot;5dp&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/adminLayout&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:orientation=&quot;vertical&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n                &lt;LinearLayout\r\n                    android:orientation=&quot;horizontal&quot;\r\n                    android:padding=&quot;3dp&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n                    &lt;TextView\r\n                        android:text=&quot;Add Players&quot;\r\n                        android:layout_marginStart=&quot;10dp&quot;\r\n                        android:textSize=&quot;14sp&quot;\r\n                        android:textStyle=&quot;bold&quot;\r\n                        android:layout_gravity=&quot;center&quot;\r\n                        android:textColor=&quot;#605E5E&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n                &lt;/LinearLayout&gt;\r\n\r\n                &lt;com.google.android.material.textfield.TextInputLayout\r\n                    android:id=&quot;@+id/numPlayersDropdown&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n     style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;\r\n                    android:hint=&quot;Select&quot;\r\n                    android:labelFor=&quot;@+id/numOfPlayersSelected&quot;\r\n                    android:background=&quot;#EAE7E7&quot;&gt;\r\n\r\n                    &lt;AutoCompleteTextView\r\n                        android:id=&quot;@+id/numOfPlayersAddSelected&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:inputType=&quot;none&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:padding=&quot;14dp&quot;\r\n                        android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n        \r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n\r\n\r\n\r\npool_details_new_layout code:\r\n-----------------------------\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n    &lt;LinearLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:background=&quot;@color/black&quot;\r\n        tools:context=&quot;.PoolDetailsActivity&quot;&gt;\r\n\r\n        &lt;ScrollView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:fadeScrollbars=&quot;false&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:orientation=&quot;vertical&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n                &lt;LinearLayout\r\n                    android:id=&quot;@+id/admin_support_layout&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                    &lt;include layout=&quot;@layout/pool_details_admin_layout&quot; /&gt;\r\n\r\n                &lt;/LinearLayout&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n        &lt;/ScrollView&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n-------------- UPDATE ----------------\r\n\r\nAdapter Class Code:\r\n-------------------\r\n\r\n    public class IAPSkuAdapter extends ArrayAdapter&lt;SkuItem&gt; {\r\n  \r\n        public IAPSkuAdapter(@NonNull Context context, int resource, @NonNull List&lt;SkuItem&gt; skuItemList) {\r\n      \r\n            super(context, resource, skuItemList);\r\n\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\r\n            \r\n            if (convertView == null) {\r\n\r\n                convertView = LayoutInflater.from(getContext()).inflate(R.layout.number_of_players_dropdown_layout, parent, false);\r\n\r\n            }\r\n\r\n            TextView skuTitle = convertView.findViewById(R.id.skuTitle);\r\n\r\n            TextView skuPrice = convertView.findViewById(R.id.skuPrice);\r\n\r\n            SkuItem skuItem = getItem(position);\r\n\r\n            skuTitle.setText(skuItem.getSkuTitle());\r\n        \r\n            skuPrice.setText(skuItem.getSkuPrice());\r\n        \r\n\r\n            return convertView;\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n","title":"Android - Issue with AutoCompleteTextView element, setOnItemClickListener not working","body":"<p>I have the following Activity code which ref. the R.layout.pool_details_new_layout (code below)</p>\n<p>The Adapter ref. the number_of_players_dropdown_layout (code below)</p>\n<p>Everything works fine, the view loads the AutoCompleteTextView dropdown box populates and when i click on it is shows all the entires in it</p>\n<p>BUT</p>\n<p>when i select an item, I am expecting for the <code>numPlayersSelected.setOnItemClickListener</code> to execute and log to the logcat and show a toast on the screen but nothing happens!?</p>\n<p>Does anyone know what i am missing!?</p>\n<h2>Activity code:</h2>\n<pre><code>public class PoolDetailsActivity extends AppCompatActivity {\n\n    ArrayAdapter&lt;SkuItem&gt; numPlayersAdapter;\n    private AutoCompleteTextView numPlayersSelected;\n    public static Activity activity = null;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    \n        setContentView(R.layout.pool_details_new_layout);\n       \n        activity = this;\n\n        numPlayersSelected = (AutoCompleteTextView) findViewById(R.id.numOfPlayersAddSelected);\n                    \n        numPlayersAdapter = new IAPSkuAdapter(activity, R.layout.number_of_players_dropdown_layout, numPlayersArray);\n\n        numPlayersSelected.setAdapter(numPlayersAdapter);\n\n        // NOT WORKING!?   &lt;-------------------------------------\n        numPlayersSelected.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n\n                String selectedItemText = (String) parent.getItemAtPosition(position);\n\n                Toast.makeText(getBaseContext(),selectedItemText + &quot; selected!&quot;, Toast.LENGTH_LONG).show();\n                Log.e(TAG, &quot;&lt;&lt; SELECTED &gt;&gt; : &quot; + selectedItemText);\n\n            }\n\n        }\n                    \n    }\n\n}\n</code></pre>\n<h2>number_of_players_dropdown_layout code:</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;androidx.cardview.widget.CardView\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:card_view=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:cardCornerRadius=&quot;15dp&quot;\n    app:cardElevation=&quot;10dp&quot;\n    app:cardUseCompatPadding=&quot;true&quot;\n    card_view:cardCornerRadius=&quot;5dp&quot;&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/adminLayout&quot;\n        android:orientation=&quot;vertical&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;LinearLayout\n            android:orientation=&quot;vertical&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;&gt;\n\n            &lt;LinearLayout\n                android:orientation=&quot;horizontal&quot;\n                android:padding=&quot;3dp&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;&gt;\n\n                &lt;TextView\n                    android:text=&quot;Add Players&quot;\n                    android:layout_marginStart=&quot;10dp&quot;\n                    android:textSize=&quot;14sp&quot;\n                    android:textStyle=&quot;bold&quot;\n                    android:layout_gravity=&quot;center&quot;\n                    android:textColor=&quot;#605E5E&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n\n            &lt;com.google.android.material.textfield.TextInputLayout\n                android:id=&quot;@+id/numPlayersDropdown&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;\n                android:hint=&quot;Select&quot;\n                android:labelFor=&quot;@+id/numOfPlayersSelected&quot;\n                android:background=&quot;#EAE7E7&quot;&gt;\n\n                &lt;AutoCompleteTextView\n                    android:id=&quot;@+id/numOfPlayersAddSelected&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:inputType=&quot;none&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:padding=&quot;14dp&quot;\n                    android:textSize=&quot;16sp&quot; /&gt;\n\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/LinearLayout&gt;\n    \n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n<h2>pool_details_new_layout code:</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_gravity=&quot;center&quot;\n    android:background=&quot;@color/black&quot;\n    tools:context=&quot;.PoolDetailsActivity&quot;&gt;\n\n    &lt;ScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:fadeScrollbars=&quot;false&quot;&gt;\n\n        &lt;LinearLayout\n            android:orientation=&quot;vertical&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/admin_support_layout&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;include layout=&quot;@layout/pool_details_admin_layout&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/ScrollView&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>-------------- UPDATE ----------------</p>\n<h2>Adapter Class Code:</h2>\n<pre><code>public class IAPSkuAdapter extends ArrayAdapter&lt;SkuItem&gt; {\n\n    public IAPSkuAdapter(@NonNull Context context, int resource, @NonNull List&lt;SkuItem&gt; skuItemList) {\n  \n        super(context, resource, skuItemList);\n\n    }\n\n    @NonNull\n    @Override\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\n        \n        if (convertView == null) {\n\n            convertView = LayoutInflater.from(getContext()).inflate(R.layout.number_of_players_dropdown_layout, parent, false);\n\n        }\n\n        TextView skuTitle = convertView.findViewById(R.id.skuTitle);\n\n        TextView skuPrice = convertView.findViewById(R.id.skuPrice);\n\n        SkuItem skuItem = getItem(position);\n\n        skuTitle.setText(skuItem.getSkuTitle());\n    \n        skuPrice.setText(skuItem.getSkuPrice());\n    \n\n        return convertView;\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","swing","jpopupmenu"],"answers":[{"comments":[{"owner":{"account_id":426907,"reputation":1181,"user_id":808396,"accept_rate":71,"display_name":"Tony Chemit"},"score":4,"creation_date":1586505490,"post_id":9290215,"comment_id":108156225,"body_markdown":"link is now dead","body":"link is now dead"},{"owner":{"account_id":14004595,"reputation":812,"user_id":10115137,"display_name":"lineage"},"score":1,"creation_date":1632765119,"post_id":9290215,"comment_id":122576453,"body_markdown":"can&#39;t edit..the link via wayback is: https://web.archive.org/web/20150416013923/http://www.javabeginner.com/java-swing/java-scrollable-popup-menu","body":"can&#39;t edit..the link via wayback is: <a href=\"https://web.archive.org/web/20150416013923/http://www.javabeginner.com/java-swing/java-scrollable-popup-menu\" rel=\"nofollow noreferrer\">web.archive.org/web/20150416013923/http://www.javabeginner.c&zwnj;&#8203;om/&hellip;</a>"}],"tags":[],"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1329295509,"creation_date":1329295509,"answer_id":9290215,"question_id":9288350,"body_markdown":"May be this\r\nhttp://www.javabeginner.com/java-swing/java-scrollable-popup-menu","title":"Adding vertical scroll to a JPopupMenu?","body":"<p>May be this\n<a href=\"http://www.javabeginner.com/java-swing/java-scrollable-popup-menu\" rel=\"noreferrer\">http://www.javabeginner.com/java-swing/java-scrollable-popup-menu</a></p>\n"},{"tags":[],"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1329295857,"creation_date":1329295556,"answer_id":9290225,"question_id":9288350,"body_markdown":"Basically you can add any JComponents to the JPopupMenu, you can add JScrollpane to the JPopup by nesting JPanel / JList with another JComponents, \r\n\r\nNotice but there is rule that swing GUI doesn&#39;t allowing two lightweight popup window in same time, best example is [common Bug in Swing about JComboBox in the JPopup][1]\r\n\r\nyou have look at JWindow, create once time and re_use that for another Action, nothing best around as to check how popup JWindow really works for [JCalendar by Kai Toedter][2] \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/8511560/714968\r\n  [2]: http://www.toedter.com/en/jcalendar/","title":"Adding vertical scroll to a JPopupMenu?","body":"<p>Basically you can add any JComponents to the JPopupMenu, you can add JScrollpane to the JPopup by nesting JPanel / JList with another JComponents, </p>\n\n<p>Notice but there is rule that swing GUI doesn't allowing two lightweight popup window in same time, best example is <a href=\"https://stackoverflow.com/a/8511560/714968\">common Bug in Swing about JComboBox in the JPopup</a></p>\n\n<p>you have look at JWindow, create once time and re_use that for another Action, nothing best around as to check how popup JWindow really works for <a href=\"http://www.toedter.com/en/jcalendar/\" rel=\"nofollow noreferrer\">JCalendar by Kai Toedter</a> </p>\n"},{"comments":[{"owner":{"account_id":1083641,"reputation":2184,"user_id":1083697,"accept_rate":67,"display_name":"andrybak"},"score":0,"creation_date":1443519409,"post_id":14167008,"comment_id":53515760,"body_markdown":"@Riquochet shouldn&#39;t you also reimplement other methods that rely on indexes of the components? Like `insert(Component component, int index)` and `insert(Action a, int index)`?","body":"@Riquochet shouldn&#39;t you also reimplement other methods that rely on indexes of the components? Like <code>insert(Component component, int index)</code> and <code>insert(Action a, int index)</code>?"},{"owner":{"account_id":2207216,"reputation":461,"user_id":1950115,"display_name":"Riquochet"},"score":0,"creation_date":1448484279,"post_id":14167008,"comment_id":55613049,"body_markdown":"@andrybak, Yes you should. I just wanted to create a simple, but fully functional example. For completeness, I&#39;m sure there is more that should be done.","body":"@andrybak, Yes you should. I just wanted to create a simple, but fully functional example. For completeness, I&#39;m sure there is more that should be done."},{"owner":{"account_id":8061417,"reputation":593,"user_id":6076839,"display_name":"SteveR"},"score":0,"creation_date":1588263032,"post_id":14167008,"comment_id":108837930,"body_markdown":"This is really nice - one thing I cant figure though is how to make the displayed menu items scroll if using the cursor keys within the menu to navigate up and down, such that the currently selected item is always visible?","body":"This is really nice - one thing I cant figure though is how to make the displayed menu items scroll if using the cursor keys within the menu to navigate up and down, such that the currently selected item is always visible?"},{"owner":{"account_id":6577590,"reputation":121,"user_id":5082991,"display_name":"bourne2program"},"score":0,"creation_date":1663826944,"post_id":14167008,"comment_id":130331305,"body_markdown":"@SteveR See my answer below https://stackoverflow.com/a/73810031/5082991","body":"@SteveR See my answer below <a href=\"https://stackoverflow.com/a/73810031/5082991\">stackoverflow.com/a/73810031/5082991</a>"}],"tags":[],"owner":{"account_id":2207216,"reputation":461,"user_id":1950115,"display_name":"Riquochet"},"comment_count":4,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1470658990,"creation_date":1357344330,"answer_id":14167008,"question_id":9288350,"body_markdown":"Here is a version I created using a scrollbar. It is just a simple example, so adapt as you see fit:\r\n\r\n    import java.awt.Component;\r\n    import java.awt.Container;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.awt.Insets;\r\n    import java.awt.LayoutManager;\r\n    import java.awt.event.AdjustmentEvent;\r\n    import java.awt.event.AdjustmentListener;\r\n    import java.awt.event.MouseWheelEvent;\r\n    import java.awt.event.MouseWheelListener;\r\n    import javax.swing.JPopupMenu;\r\n    import javax.swing.JScrollBar;\r\n\r\n    public class JScrollPopupMenu extends JPopupMenu {\r\n        protected int maximumVisibleRows = 10;\r\n\r\n        public JScrollPopupMenu() {\r\n            this(null);\r\n        }\r\n\r\n\r\n        public JScrollPopupMenu(String label) {\r\n            super(label);\r\n            setLayout(new ScrollPopupMenuLayout());\r\n\r\n            super.add(getScrollBar());\r\n            addMouseWheelListener(new MouseWheelListener() {\r\n                @Override public void mouseWheelMoved(MouseWheelEvent event) {\r\n                    JScrollBar scrollBar = getScrollBar();\r\n                    int amount = (event.getScrollType() == MouseWheelEvent.WHEEL_UNIT_SCROLL)\r\n                                 ? event.getUnitsToScroll() * scrollBar.getUnitIncrement()\r\n                                 : (event.getWheelRotation() &lt; 0 ? -1 : 1) * scrollBar.getBlockIncrement();\r\n\r\n                    scrollBar.setValue(scrollBar.getValue() + amount);\r\n                    event.consume();\r\n                }\r\n            });\r\n        }\r\n\r\n        private JScrollBar popupScrollBar;\r\n        protected JScrollBar getScrollBar() {\r\n            if(popupScrollBar == null) {\r\n                popupScrollBar = new JScrollBar(JScrollBar.VERTICAL);\r\n                popupScrollBar.addAdjustmentListener(new AdjustmentListener() {\r\n                    @Override public void adjustmentValueChanged(AdjustmentEvent e) {\r\n                        doLayout();\r\n                        repaint();\r\n                    }\r\n                });\r\n\r\n                popupScrollBar.setVisible(false);\r\n            }\r\n\r\n            return popupScrollBar;\r\n        }\r\n\r\n        public int getMaximumVisibleRows() {\r\n            return maximumVisibleRows;\r\n        }\r\n\r\n        public void setMaximumVisibleRows(int maximumVisibleRows) {\r\n            this.maximumVisibleRows = maximumVisibleRows;\r\n        }\r\n\r\n        public void paintChildren(Graphics g){\r\n            Insets insets = getInsets();\r\n            g.clipRect(insets.left, insets.top, getWidth(), getHeight() - insets.top - insets.bottom);\r\n            super.paintChildren(g);\r\n        }\r\n\r\n        protected void addImpl(Component comp, Object constraints, int index) {\r\n            super.addImpl(comp, constraints, index);\r\n\r\n            if(maximumVisibleRows &lt; getComponentCount()-1) {\r\n                getScrollBar().setVisible(true);\r\n            }\r\n        }\r\n\r\n        public void remove(int index) {\r\n            // can&#39;t remove the scrollbar\r\n            ++index;\r\n\r\n            super.remove(index);\r\n\r\n            if(maximumVisibleRows &gt;= getComponentCount()-1) {\r\n                getScrollBar().setVisible(false);\r\n            }\r\n        }\r\n\r\n        public void show(Component invoker, int x, int y){\r\n            JScrollBar scrollBar = getScrollBar();\r\n            if(scrollBar.isVisible()){\r\n                int extent = 0;\r\n                int max = 0;\r\n                int i = 0;\r\n                int unit = -1;\r\n                int width = 0;\r\n                for(Component comp : getComponents()) {\r\n                    if(!(comp instanceof JScrollBar)) {\r\n                        Dimension preferredSize = comp.getPreferredSize();\r\n                        width = Math.max(width, preferredSize.width);\r\n                        if(unit &lt; 0){\r\n                            unit = preferredSize.height;\r\n                        }\r\n                        if(i++ &lt; maximumVisibleRows) {\r\n                            extent += preferredSize.height;\r\n                        }\r\n                        max += preferredSize.height;\r\n                    }\r\n                }\r\n\r\n                Insets insets = getInsets();\r\n                int widthMargin = insets.left + insets.right;\r\n                int heightMargin = insets.top + insets.bottom;\r\n                scrollBar.setUnitIncrement(unit);\r\n                scrollBar.setBlockIncrement(extent);\r\n                scrollBar.setValues(0, heightMargin + extent, 0, heightMargin + max);\r\n\r\n                width += scrollBar.getPreferredSize().width + widthMargin;\r\n                int height = heightMargin + extent;\r\n\r\n                setPopupSize(new Dimension(width, height));\r\n            }\r\n\r\n            super.show(invoker, x, y);\r\n        }\r\n\r\n        protected static class ScrollPopupMenuLayout implements LayoutManager{\r\n            @Override public void addLayoutComponent(String name, Component comp) {}\r\n            @Override public void removeLayoutComponent(Component comp) {}\r\n\r\n            @Override public Dimension preferredLayoutSize(Container parent) {\r\n                int visibleAmount = Integer.MAX_VALUE;\r\n                Dimension dim = new Dimension();\r\n                for(Component comp :parent.getComponents()){\r\n                    if(comp.isVisible()) {\r\n                        if(comp instanceof JScrollBar){\r\n                            JScrollBar scrollBar = (JScrollBar) comp;\r\n                            visibleAmount = scrollBar.getVisibleAmount();\r\n                        }\r\n                        else {\r\n                            Dimension pref = comp.getPreferredSize();\r\n                            dim.width = Math.max(dim.width, pref.width);\r\n                            dim.height += pref.height;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                Insets insets = parent.getInsets();\r\n                dim.height = Math.min(dim.height + insets.top + insets.bottom, visibleAmount);\r\n\r\n                return dim;\r\n            }\r\n\r\n            @Override public Dimension minimumLayoutSize(Container parent) {\r\n                int visibleAmount = Integer.MAX_VALUE;\r\n                Dimension dim = new Dimension();\r\n                for(Component comp : parent.getComponents()) {\r\n                    if(comp.isVisible()){\r\n                        if(comp instanceof JScrollBar) {\r\n                            JScrollBar scrollBar = (JScrollBar) comp;\r\n                            visibleAmount = scrollBar.getVisibleAmount();\r\n                        }\r\n                        else {\r\n                            Dimension min = comp.getMinimumSize();\r\n                            dim.width = Math.max(dim.width, min.width);\r\n                            dim.height += min.height;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                Insets insets = parent.getInsets();\r\n                dim.height = Math.min(dim.height + insets.top + insets.bottom, visibleAmount);\r\n\r\n                return dim;\r\n            }\r\n\r\n            @Override public void layoutContainer(Container parent) {\r\n                Insets insets = parent.getInsets();\r\n\r\n                int width = parent.getWidth() - insets.left - insets.right;\r\n                int height = parent.getHeight() - insets.top - insets.bottom;\r\n\r\n                int x = insets.left;\r\n                int y = insets.top;\r\n                int position = 0;\r\n\r\n                for(Component comp : parent.getComponents()) {\r\n                    if((comp instanceof JScrollBar) &amp;&amp; comp.isVisible()) {\r\n                        JScrollBar scrollBar = (JScrollBar) comp;\r\n                        Dimension dim = scrollBar.getPreferredSize();\r\n                        scrollBar.setBounds(x + width-dim.width, y, dim.width, height);\r\n                        width -= dim.width;\r\n                        position = scrollBar.getValue();\r\n                    }\r\n                }\r\n\r\n                y -= position;\r\n                for(Component comp : parent.getComponents()) {\r\n                    if(!(comp instanceof JScrollBar) &amp;&amp; comp.isVisible()) {\r\n                        Dimension pref = comp.getPreferredSize();\r\n                        comp.setBounds(x, y, width, pref.height);\r\n                        y += pref.height;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n","title":"Adding vertical scroll to a JPopupMenu?","body":"<p>Here is a version I created using a scrollbar. It is just a simple example, so adapt as you see fit:</p>\n\n<pre><code>import java.awt.Component;\nimport java.awt.Container;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Insets;\nimport java.awt.LayoutManager;\nimport java.awt.event.AdjustmentEvent;\nimport java.awt.event.AdjustmentListener;\nimport java.awt.event.MouseWheelEvent;\nimport java.awt.event.MouseWheelListener;\nimport javax.swing.JPopupMenu;\nimport javax.swing.JScrollBar;\n\npublic class JScrollPopupMenu extends JPopupMenu {\n    protected int maximumVisibleRows = 10;\n\n    public JScrollPopupMenu() {\n        this(null);\n    }\n\n\n    public JScrollPopupMenu(String label) {\n        super(label);\n        setLayout(new ScrollPopupMenuLayout());\n\n        super.add(getScrollBar());\n        addMouseWheelListener(new MouseWheelListener() {\n            @Override public void mouseWheelMoved(MouseWheelEvent event) {\n                JScrollBar scrollBar = getScrollBar();\n                int amount = (event.getScrollType() == MouseWheelEvent.WHEEL_UNIT_SCROLL)\n                             ? event.getUnitsToScroll() * scrollBar.getUnitIncrement()\n                             : (event.getWheelRotation() &lt; 0 ? -1 : 1) * scrollBar.getBlockIncrement();\n\n                scrollBar.setValue(scrollBar.getValue() + amount);\n                event.consume();\n            }\n        });\n    }\n\n    private JScrollBar popupScrollBar;\n    protected JScrollBar getScrollBar() {\n        if(popupScrollBar == null) {\n            popupScrollBar = new JScrollBar(JScrollBar.VERTICAL);\n            popupScrollBar.addAdjustmentListener(new AdjustmentListener() {\n                @Override public void adjustmentValueChanged(AdjustmentEvent e) {\n                    doLayout();\n                    repaint();\n                }\n            });\n\n            popupScrollBar.setVisible(false);\n        }\n\n        return popupScrollBar;\n    }\n\n    public int getMaximumVisibleRows() {\n        return maximumVisibleRows;\n    }\n\n    public void setMaximumVisibleRows(int maximumVisibleRows) {\n        this.maximumVisibleRows = maximumVisibleRows;\n    }\n\n    public void paintChildren(Graphics g){\n        Insets insets = getInsets();\n        g.clipRect(insets.left, insets.top, getWidth(), getHeight() - insets.top - insets.bottom);\n        super.paintChildren(g);\n    }\n\n    protected void addImpl(Component comp, Object constraints, int index) {\n        super.addImpl(comp, constraints, index);\n\n        if(maximumVisibleRows &lt; getComponentCount()-1) {\n            getScrollBar().setVisible(true);\n        }\n    }\n\n    public void remove(int index) {\n        // can't remove the scrollbar\n        ++index;\n\n        super.remove(index);\n\n        if(maximumVisibleRows &gt;= getComponentCount()-1) {\n            getScrollBar().setVisible(false);\n        }\n    }\n\n    public void show(Component invoker, int x, int y){\n        JScrollBar scrollBar = getScrollBar();\n        if(scrollBar.isVisible()){\n            int extent = 0;\n            int max = 0;\n            int i = 0;\n            int unit = -1;\n            int width = 0;\n            for(Component comp : getComponents()) {\n                if(!(comp instanceof JScrollBar)) {\n                    Dimension preferredSize = comp.getPreferredSize();\n                    width = Math.max(width, preferredSize.width);\n                    if(unit &lt; 0){\n                        unit = preferredSize.height;\n                    }\n                    if(i++ &lt; maximumVisibleRows) {\n                        extent += preferredSize.height;\n                    }\n                    max += preferredSize.height;\n                }\n            }\n\n            Insets insets = getInsets();\n            int widthMargin = insets.left + insets.right;\n            int heightMargin = insets.top + insets.bottom;\n            scrollBar.setUnitIncrement(unit);\n            scrollBar.setBlockIncrement(extent);\n            scrollBar.setValues(0, heightMargin + extent, 0, heightMargin + max);\n\n            width += scrollBar.getPreferredSize().width + widthMargin;\n            int height = heightMargin + extent;\n\n            setPopupSize(new Dimension(width, height));\n        }\n\n        super.show(invoker, x, y);\n    }\n\n    protected static class ScrollPopupMenuLayout implements LayoutManager{\n        @Override public void addLayoutComponent(String name, Component comp) {}\n        @Override public void removeLayoutComponent(Component comp) {}\n\n        @Override public Dimension preferredLayoutSize(Container parent) {\n            int visibleAmount = Integer.MAX_VALUE;\n            Dimension dim = new Dimension();\n            for(Component comp :parent.getComponents()){\n                if(comp.isVisible()) {\n                    if(comp instanceof JScrollBar){\n                        JScrollBar scrollBar = (JScrollBar) comp;\n                        visibleAmount = scrollBar.getVisibleAmount();\n                    }\n                    else {\n                        Dimension pref = comp.getPreferredSize();\n                        dim.width = Math.max(dim.width, pref.width);\n                        dim.height += pref.height;\n                    }\n                }\n            }\n\n            Insets insets = parent.getInsets();\n            dim.height = Math.min(dim.height + insets.top + insets.bottom, visibleAmount);\n\n            return dim;\n        }\n\n        @Override public Dimension minimumLayoutSize(Container parent) {\n            int visibleAmount = Integer.MAX_VALUE;\n            Dimension dim = new Dimension();\n            for(Component comp : parent.getComponents()) {\n                if(comp.isVisible()){\n                    if(comp instanceof JScrollBar) {\n                        JScrollBar scrollBar = (JScrollBar) comp;\n                        visibleAmount = scrollBar.getVisibleAmount();\n                    }\n                    else {\n                        Dimension min = comp.getMinimumSize();\n                        dim.width = Math.max(dim.width, min.width);\n                        dim.height += min.height;\n                    }\n                }\n            }\n\n            Insets insets = parent.getInsets();\n            dim.height = Math.min(dim.height + insets.top + insets.bottom, visibleAmount);\n\n            return dim;\n        }\n\n        @Override public void layoutContainer(Container parent) {\n            Insets insets = parent.getInsets();\n\n            int width = parent.getWidth() - insets.left - insets.right;\n            int height = parent.getHeight() - insets.top - insets.bottom;\n\n            int x = insets.left;\n            int y = insets.top;\n            int position = 0;\n\n            for(Component comp : parent.getComponents()) {\n                if((comp instanceof JScrollBar) &amp;&amp; comp.isVisible()) {\n                    JScrollBar scrollBar = (JScrollBar) comp;\n                    Dimension dim = scrollBar.getPreferredSize();\n                    scrollBar.setBounds(x + width-dim.width, y, dim.width, height);\n                    width -= dim.width;\n                    position = scrollBar.getValue();\n                }\n            }\n\n            y -= position;\n            for(Component comp : parent.getComponents()) {\n                if(!(comp instanceof JScrollBar) &amp;&amp; comp.isVisible()) {\n                    Dimension pref = comp.getPreferredSize();\n                    comp.setBounds(x, y, width, pref.height);\n                    y += pref.height;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":49499,"reputation":4467,"user_id":147381,"accept_rate":73,"display_name":"Brad"},"score":0,"creation_date":1407066870,"post_id":15121081,"comment_id":39066239,"body_markdown":"This is a nice solution :) ... I am trying to figure out how to force scrolling to a specific item in the sub menu using this solution, like using ensureIndexIsVisible(index) in a JList ?","body":"This is a nice solution :) ... I am trying to figure out how to force scrolling to a specific item in the sub menu using this solution, like using ensureIndexIsVisible(index) in a JList ?"},{"owner":{"account_id":2207216,"reputation":461,"user_id":1950115,"display_name":"Riquochet"},"score":1,"creation_date":1407887114,"post_id":15121081,"comment_id":39386926,"body_markdown":"`public void ensureIndexIsVisible(int index) {\n        Rectangle rect = getMenuComponent(index).getBounds();\n        ((JScrollPopupMenu)popupMenu).getScrollBar().scrollRectToVisible(rect);\n    }`","body":"<code>public void ensureIndexIsVisible(int index) {         Rectangle rect = getMenuComponent(index).getBounds();         ((JScrollPopupMenu)popupMenu).getScrollBar().scrollRectToVis&zwnj;&#8203;ible(rect);     }</code>"}],"tags":[],"owner":{"account_id":2207216,"reputation":461,"user_id":1950115,"display_name":"Riquochet"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1361994720,"creation_date":1361994720,"answer_id":15121081,"question_id":9288350,"body_markdown":"In addition to the JScrollPopupMenu above, I also needed a a scroll bar in a sub menu (aka a &quot;Pull Right Menu.&quot;) This seems to be a more common case. So I adapted a JMenu to use the JScrollPopupMenu called JScrollMenu:\r\n\r\n    \r\n\r\n\r\n\r\n    import javax.swing.Action;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JMenu;\r\n    import javax.swing.JMenuItem;\r\n    import javax.swing.JPopupMenu;\r\n    import javax.swing.MenuElement;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.plaf.MenuItemUI;\r\n    import javax.swing.plaf.PopupMenuUI;\r\n    import java.awt.Component;\r\n    import java.awt.ComponentOrientation;\r\n    \r\n    \r\n    \r\n    public class JScrollMenu extends JMenu {\r\n        // Covers the one in the JMenu because the method that creates it in JMenu is private\r\n        /** The popup menu portion of the menu.*/\r\n        private JPopupMenu popupMenu;\r\n    \r\n    \r\n        /**\r\n         * Constructs a new &lt;code&gt;JMenu&lt;/code&gt; with no text.\r\n         */\r\n        public JScrollMenu() {\r\n            this(&quot;&quot;);\r\n        }\r\n    \r\n        /**\r\n         * Constructs a new &lt;code&gt;JMenu&lt;/code&gt; with the supplied string as its text.\r\n         *\r\n         * @param s the text for the menu label\r\n         */\r\n        public JScrollMenu(String s) {\r\n            super(s);\r\n        }\r\n    \r\n        /**\r\n         * Constructs a menu whose properties are taken from the &lt;code&gt;Action&lt;/code&gt; supplied.\r\n         *\r\n         * @param a an &lt;code&gt;Action&lt;/code&gt;\r\n         */\r\n        public JScrollMenu(Action a) {\r\n            this();\r\n            setAction(a);\r\n        }\r\n    \r\n    \r\n        /**\r\n         * Lazily creates the popup menu. This method will create the popup using the &lt;code&gt;JScrollPopupMenu&lt;/code&gt; class. \r\n         */\r\n        protected void ensurePopupMenuCreated() {\r\n            if(popupMenu == null) {\r\n                this.popupMenu = new JScrollPopupMenu();\r\n                popupMenu.setInvoker(this);\r\n                popupListener = createWinListener(popupMenu);\r\n            }\r\n        }\r\n    \r\n    //////////////////////////////\r\n    //// All of these methods are necessary because ensurePopupMenuCreated() is private in JMenu\r\n    //////////////////////////////\r\n        @Override\r\n        public void updateUI() {\r\n            setUI((MenuItemUI) UIManager.getUI(this));\r\n    \r\n            if(popupMenu != null) {\r\n                popupMenu.setUI((PopupMenuUI) UIManager.getUI(popupMenu));\r\n            }\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public boolean isPopupMenuVisible() {\r\n            ensurePopupMenuCreated();\r\n            return popupMenu.isVisible();\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void setMenuLocation(int x, int y) {\r\n            super.setMenuLocation(x, y);\r\n            if(popupMenu != null) {\r\n                popupMenu.setLocation(x, y);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public JMenuItem add(JMenuItem menuItem) {\r\n            ensurePopupMenuCreated();\r\n            return popupMenu.add(menuItem);\r\n        }\r\n    \r\n        @Override\r\n        public Component add(Component c) {\r\n            ensurePopupMenuCreated();\r\n            popupMenu.add(c);\r\n            return c;\r\n        }\r\n    \r\n        @Override\r\n        public Component add(Component c, int index) {\r\n            ensurePopupMenuCreated();\r\n            popupMenu.add(c, index);\r\n            return c;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void addSeparator() {\r\n            ensurePopupMenuCreated();\r\n            popupMenu.addSeparator();\r\n        }\r\n    \r\n        @Override\r\n        public void insert(String s, int pos) {\r\n            if(pos &lt; 0) {\r\n                throw new IllegalArgumentException(&quot;index less than zero.&quot;);\r\n            }\r\n    \r\n            ensurePopupMenuCreated();\r\n            popupMenu.insert(new JMenuItem(s), pos);\r\n        }\r\n    \r\n        @Override\r\n        public JMenuItem insert(JMenuItem mi, int pos) {\r\n            if(pos &lt; 0) {\r\n                throw new IllegalArgumentException(&quot;index less than zero.&quot;);\r\n            }\r\n            ensurePopupMenuCreated();\r\n            popupMenu.insert(mi, pos);\r\n            return mi;\r\n        }\r\n    \r\n        @Override\r\n        public JMenuItem insert(Action a, int pos) {\r\n            if(pos &lt; 0) {\r\n                throw new IllegalArgumentException(&quot;index less than zero.&quot;);\r\n            }\r\n    \r\n            ensurePopupMenuCreated();\r\n            JMenuItem mi = new JMenuItem(a);\r\n            mi.setHorizontalTextPosition(JButton.TRAILING);\r\n            mi.setVerticalTextPosition(JButton.CENTER);\r\n            popupMenu.insert(mi, pos);\r\n            return mi;\r\n        }\r\n    \r\n        @Override\r\n        public void insertSeparator(int index) {\r\n            if(index &lt; 0) {\r\n                throw new IllegalArgumentException(&quot;index less than zero.&quot;);\r\n            }\r\n    \r\n            ensurePopupMenuCreated();\r\n            popupMenu.insert(new JPopupMenu.Separator(), index);\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void remove(JMenuItem item) {\r\n            if(popupMenu != null){\r\n                popupMenu.remove(item);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void remove(int pos) {\r\n            if(pos &lt; 0) {\r\n                throw new IllegalArgumentException(&quot;index less than zero.&quot;);\r\n            }\r\n            if(pos &gt; getItemCount()) {\r\n                throw new IllegalArgumentException(&quot;index greater than the number of items.&quot;);\r\n            }\r\n            if(popupMenu != null){\r\n                popupMenu.remove(pos);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void remove(Component c) {\r\n            if(popupMenu != null){\r\n                popupMenu.remove(c);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void removeAll() {\r\n            if(popupMenu != null){\r\n                popupMenu.removeAll();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public int getMenuComponentCount() {\r\n            return (popupMenu == null) ? 0 : popupMenu.getComponentCount();\r\n        }\r\n    \r\n        @Override\r\n        public Component getMenuComponent(int n) {\r\n            return (popupMenu == null) ? null : popupMenu.getComponent(n);\r\n        }\r\n    \r\n        @Override\r\n        public Component[] getMenuComponents() {\r\n            return (popupMenu == null) ? new Component[0] : popupMenu.getComponents();\r\n        }\r\n    \r\n        @Override\r\n        public JPopupMenu getPopupMenu() {\r\n            ensurePopupMenuCreated();\r\n            return popupMenu;\r\n        }\r\n    \r\n        @Override\r\n        public MenuElement[] getSubElements() {\r\n            return popupMenu == null ? new MenuElement[0] : new MenuElement[]{popupMenu};\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void applyComponentOrientation(ComponentOrientation o) {\r\n            super.applyComponentOrientation(o);\r\n    \r\n            if(popupMenu != null) {\r\n                int ncomponents = getMenuComponentCount();\r\n                for(int i = 0; i &lt; ncomponents; ++i) {\r\n                    getMenuComponent(i).applyComponentOrientation(o);\r\n                }\r\n                popupMenu.setComponentOrientation(o);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void setComponentOrientation(ComponentOrientation o) {\r\n            super.setComponentOrientation(o);\r\n            if(popupMenu != null) {\r\n                popupMenu.setComponentOrientation(o);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Adding vertical scroll to a JPopupMenu?","body":"<p>In addition to the JScrollPopupMenu above, I also needed a a scroll bar in a sub menu (aka a \"Pull Right Menu.\") This seems to be a more common case. So I adapted a JMenu to use the JScrollPopupMenu called JScrollMenu:</p>\n\n<pre><code>import javax.swing.Action;\nimport javax.swing.JButton;\nimport javax.swing.JMenu;\nimport javax.swing.JMenuItem;\nimport javax.swing.JPopupMenu;\nimport javax.swing.MenuElement;\nimport javax.swing.UIManager;\nimport javax.swing.plaf.MenuItemUI;\nimport javax.swing.plaf.PopupMenuUI;\nimport java.awt.Component;\nimport java.awt.ComponentOrientation;\n\n\n\npublic class JScrollMenu extends JMenu {\n    // Covers the one in the JMenu because the method that creates it in JMenu is private\n    /** The popup menu portion of the menu.*/\n    private JPopupMenu popupMenu;\n\n\n    /**\n     * Constructs a new &lt;code&gt;JMenu&lt;/code&gt; with no text.\n     */\n    public JScrollMenu() {\n        this(\"\");\n    }\n\n    /**\n     * Constructs a new &lt;code&gt;JMenu&lt;/code&gt; with the supplied string as its text.\n     *\n     * @param s the text for the menu label\n     */\n    public JScrollMenu(String s) {\n        super(s);\n    }\n\n    /**\n     * Constructs a menu whose properties are taken from the &lt;code&gt;Action&lt;/code&gt; supplied.\n     *\n     * @param a an &lt;code&gt;Action&lt;/code&gt;\n     */\n    public JScrollMenu(Action a) {\n        this();\n        setAction(a);\n    }\n\n\n    /**\n     * Lazily creates the popup menu. This method will create the popup using the &lt;code&gt;JScrollPopupMenu&lt;/code&gt; class. \n     */\n    protected void ensurePopupMenuCreated() {\n        if(popupMenu == null) {\n            this.popupMenu = new JScrollPopupMenu();\n            popupMenu.setInvoker(this);\n            popupListener = createWinListener(popupMenu);\n        }\n    }\n\n//////////////////////////////\n//// All of these methods are necessary because ensurePopupMenuCreated() is private in JMenu\n//////////////////////////////\n    @Override\n    public void updateUI() {\n        setUI((MenuItemUI) UIManager.getUI(this));\n\n        if(popupMenu != null) {\n            popupMenu.setUI((PopupMenuUI) UIManager.getUI(popupMenu));\n        }\n    }\n\n\n    @Override\n    public boolean isPopupMenuVisible() {\n        ensurePopupMenuCreated();\n        return popupMenu.isVisible();\n    }\n\n\n    @Override\n    public void setMenuLocation(int x, int y) {\n        super.setMenuLocation(x, y);\n        if(popupMenu != null) {\n            popupMenu.setLocation(x, y);\n        }\n    }\n\n    @Override\n    public JMenuItem add(JMenuItem menuItem) {\n        ensurePopupMenuCreated();\n        return popupMenu.add(menuItem);\n    }\n\n    @Override\n    public Component add(Component c) {\n        ensurePopupMenuCreated();\n        popupMenu.add(c);\n        return c;\n    }\n\n    @Override\n    public Component add(Component c, int index) {\n        ensurePopupMenuCreated();\n        popupMenu.add(c, index);\n        return c;\n    }\n\n\n    @Override\n    public void addSeparator() {\n        ensurePopupMenuCreated();\n        popupMenu.addSeparator();\n    }\n\n    @Override\n    public void insert(String s, int pos) {\n        if(pos &lt; 0) {\n            throw new IllegalArgumentException(\"index less than zero.\");\n        }\n\n        ensurePopupMenuCreated();\n        popupMenu.insert(new JMenuItem(s), pos);\n    }\n\n    @Override\n    public JMenuItem insert(JMenuItem mi, int pos) {\n        if(pos &lt; 0) {\n            throw new IllegalArgumentException(\"index less than zero.\");\n        }\n        ensurePopupMenuCreated();\n        popupMenu.insert(mi, pos);\n        return mi;\n    }\n\n    @Override\n    public JMenuItem insert(Action a, int pos) {\n        if(pos &lt; 0) {\n            throw new IllegalArgumentException(\"index less than zero.\");\n        }\n\n        ensurePopupMenuCreated();\n        JMenuItem mi = new JMenuItem(a);\n        mi.setHorizontalTextPosition(JButton.TRAILING);\n        mi.setVerticalTextPosition(JButton.CENTER);\n        popupMenu.insert(mi, pos);\n        return mi;\n    }\n\n    @Override\n    public void insertSeparator(int index) {\n        if(index &lt; 0) {\n            throw new IllegalArgumentException(\"index less than zero.\");\n        }\n\n        ensurePopupMenuCreated();\n        popupMenu.insert(new JPopupMenu.Separator(), index);\n    }\n\n\n    @Override\n    public void remove(JMenuItem item) {\n        if(popupMenu != null){\n            popupMenu.remove(item);\n        }\n    }\n\n    @Override\n    public void remove(int pos) {\n        if(pos &lt; 0) {\n            throw new IllegalArgumentException(\"index less than zero.\");\n        }\n        if(pos &gt; getItemCount()) {\n            throw new IllegalArgumentException(\"index greater than the number of items.\");\n        }\n        if(popupMenu != null){\n            popupMenu.remove(pos);\n        }\n    }\n\n    @Override\n    public void remove(Component c) {\n        if(popupMenu != null){\n            popupMenu.remove(c);\n        }\n    }\n\n    @Override\n    public void removeAll() {\n        if(popupMenu != null){\n            popupMenu.removeAll();\n        }\n    }\n\n    @Override\n    public int getMenuComponentCount() {\n        return (popupMenu == null) ? 0 : popupMenu.getComponentCount();\n    }\n\n    @Override\n    public Component getMenuComponent(int n) {\n        return (popupMenu == null) ? null : popupMenu.getComponent(n);\n    }\n\n    @Override\n    public Component[] getMenuComponents() {\n        return (popupMenu == null) ? new Component[0] : popupMenu.getComponents();\n    }\n\n    @Override\n    public JPopupMenu getPopupMenu() {\n        ensurePopupMenuCreated();\n        return popupMenu;\n    }\n\n    @Override\n    public MenuElement[] getSubElements() {\n        return popupMenu == null ? new MenuElement[0] : new MenuElement[]{popupMenu};\n    }\n\n\n    @Override\n    public void applyComponentOrientation(ComponentOrientation o) {\n        super.applyComponentOrientation(o);\n\n        if(popupMenu != null) {\n            int ncomponents = getMenuComponentCount();\n            for(int i = 0; i &lt; ncomponents; ++i) {\n                getMenuComponent(i).applyComponentOrientation(o);\n            }\n            popupMenu.setComponentOrientation(o);\n        }\n    }\n\n    @Override\n    public void setComponentOrientation(ComponentOrientation o) {\n        super.setComponentOrientation(o);\n        if(popupMenu != null) {\n            popupMenu.setComponentOrientation(o);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2657961,"reputation":47,"user_id":2298256,"display_name":"Markysch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1371123795,"creation_date":1371123795,"answer_id":17086211,"question_id":9288350,"body_markdown":"Alternately you may want to consider JidePopupMenu: [Scrollable JPopupMenu][1]\r\n\r\n\r\n  [1]: http://www.jidesoft.com","title":"Adding vertical scroll to a JPopupMenu?","body":"<p>Alternately you may want to consider JidePopupMenu: <a href=\"http://www.jidesoft.com\" rel=\"nofollow\">Scrollable JPopupMenu</a></p>\n"},{"tags":[],"owner":{"account_id":2823268,"reputation":124,"user_id":2426490,"display_name":"andronix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468175071,"creation_date":1468175071,"answer_id":38295139,"question_id":9288350,"body_markdown":"As I needed popup menu with Scrollbar, I just reused popup menu from JComboBox.\r\nThe trick was to put JComboBox in a JViewport, so that only arrow button was visible. You may make it just one pixel small or even lesser and use event from JideSplitButton to open popup.\r\n\r\nYou may find code on [github][1].\r\n\r\n\r\n  [1]: https://github.com/andronix3/SwingHacks/blob/master/com/smartg/swing/MultiSelectionBox.java","title":"Adding vertical scroll to a JPopupMenu?","body":"<p>As I needed popup menu with Scrollbar, I just reused popup menu from JComboBox.\nThe trick was to put JComboBox in a JViewport, so that only arrow button was visible. You may make it just one pixel small or even lesser and use event from JideSplitButton to open popup.</p>\n\n<p>You may find code on <a href=\"https://github.com/andronix3/SwingHacks/blob/master/com/smartg/swing/MultiSelectionBox.java\" rel=\"nofollow\">github</a>.</p>\n"},{"tags":[],"owner":{"account_id":1940522,"reputation":310,"user_id":1746808,"display_name":"britulin"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1490101033,"creation_date":1490101033,"answer_id":42927834,"question_id":9288350,"body_markdown":"Here&#39;s another one I found very useful: https://tips4java.wordpress.com/2009/02/01/menu-scroller/\r\n\r\nIt can be called on JMenu or JPopupMenu like this:\r\n\r\n`MenuScroller.setScrollerFor(menuInstance, 8, 125, 3, 1);`\r\n\r\n[![menu scroller][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TS3ty.gif","title":"Adding vertical scroll to a JPopupMenu?","body":"<p>Here's another one I found very useful: <a href=\"https://tips4java.wordpress.com/2009/02/01/menu-scroller/\" rel=\"noreferrer\">https://tips4java.wordpress.com/2009/02/01/menu-scroller/</a></p>\n\n<p>It can be called on JMenu or JPopupMenu like this:</p>\n\n<p><code>MenuScroller.setScrollerFor(menuInstance, 8, 125, 3, 1);</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/TS3ty.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/TS3ty.gif\" alt=\"menu scroller\"></a></p>\n"},{"comments":[{"owner":{"account_id":6577590,"reputation":121,"user_id":5082991,"display_name":"bourne2program"},"score":0,"creation_date":1663864664,"post_id":73810031,"comment_id":130345248,"body_markdown":"Related for arming menu items: https://stackoverflow.com/a/73810936/5082991","body":"Related for arming menu items: <a href=\"https://stackoverflow.com/a/73810936/5082991\">stackoverflow.com/a/73810936/5082991</a>"}],"tags":[],"owner":{"account_id":6577590,"reputation":121,"user_id":5082991,"display_name":"bourne2program"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663826903,"creation_date":1663826903,"answer_id":73810031,"question_id":9288350,"body_markdown":"Adding to the [JScrollPopupMenu answer above][1] (I can&#39;t edit it).\r\n\r\nIn order to have it scroll on arrow navigation etc., I added this:\r\n\r\n    @Override public void scrollRectToVisible(Rectangle aRect) {\r\n        final Insets insets = getInsets();\r\n        final int scrollY = popupScrollBar.getValue();\r\n        int y = aRect.y;\r\n        if (y - insets.top &lt; 0)\r\n            popupScrollBar.setValue(scrollY + y - insets.top);\r\n        else {\r\n            y += aRect.height;\r\n            final int bottom = getHeight() - insets.bottom;\r\n            if (y &gt; bottom)\r\n                popupScrollBar.setValue(scrollY + y - bottom);\r\n        }\r\n    }\r\n\r\nWhich then be called like so:\r\n\r\n    popupMenu.scrollRectToVisible(menuItem.getBounds());\r\n\r\n  [1]: https://stackoverflow.com/a/14167008/5082991","title":"Adding vertical scroll to a JPopupMenu?","body":"<p>Adding to the <a href=\"https://stackoverflow.com/a/14167008/5082991\">JScrollPopupMenu answer above</a> (I can't edit it).</p>\n<p>In order to have it scroll on arrow navigation etc., I added this:</p>\n<pre><code>@Override public void scrollRectToVisible(Rectangle aRect) {\n    final Insets insets = getInsets();\n    final int scrollY = popupScrollBar.getValue();\n    int y = aRect.y;\n    if (y - insets.top &lt; 0)\n        popupScrollBar.setValue(scrollY + y - insets.top);\n    else {\n        y += aRect.height;\n        final int bottom = getHeight() - insets.bottom;\n        if (y &gt; bottom)\n            popupScrollBar.setValue(scrollY + y - bottom);\n    }\n}\n</code></pre>\n<p>Which then be called like so:</p>\n<pre><code>popupMenu.scrollRectToVisible(menuItem.getBounds());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1425961,"reputation":770,"user_id":1349479,"display_name":"legendmohe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689563347,"creation_date":1689563347,"answer_id":76701286,"question_id":9288350,"body_markdown":"For precise scroll (trackpad, copy from com.formdev.flatlaf.ui.FlatScrollPaneUI.mouseWheelMovedSmooth):\r\n\r\n\r\n    public JScrollPopupMenu(String label) {\r\n        super(label);\r\n        setLayout(new ScrollPopupMenuLayout());\r\n\r\n        super.add(getScrollBar());\r\n        addMouseWheelListener(e -&gt; {\r\n            if (e.getScrollType() == MouseWheelEvent.WHEEL_UNIT_SCROLL &amp;&amp;\r\n                    e.getPreciseWheelRotation() != 0 &amp;&amp;\r\n                    e.getPreciseWheelRotation() != e.getWheelRotation()) {\r\n                mouseWheelMovedSmooth(e);\r\n            } else {\r\n                JScrollBar scrollBar = getScrollBar();\r\n                int amount = (e.getScrollType() == MouseWheelEvent.WHEEL_UNIT_SCROLL)\r\n                        ? e.getUnitsToScroll() * scrollBar.getUnitIncrement()\r\n                        : (e.getWheelRotation() &lt; 0 ? -1 : 1) * scrollBar.getBlockIncrement();\r\n\r\n                scrollBar.setValue(scrollBar.getValue() + amount);\r\n                e.consume();\r\n            }\r\n        });\r\n    }\r\n    \r\n    ...\r\n    \r\n    // com.formdev.flatlaf.ui.FlatScrollPaneUI.mouseWheelMovedSmooth\r\n    private void mouseWheelMovedSmooth(MouseWheelEvent e) {\r\n        // find scrollbar to scroll\r\n        JScrollBar scrollbar = popupScrollBar;\r\n\r\n        // consume event\r\n        e.consume();\r\n\r\n        // get precise wheel rotation\r\n        double rotation = e.getPreciseWheelRotation();\r\n\r\n        // get unit increment\r\n        int orientation = scrollbar.getOrientation();\r\n        int direction = rotation &lt; 0 ? -1 : 1;\r\n        int unitIncrement = scrollbar.getUnitIncrement(direction);\r\n\r\n        // get viewport width/height (the visible width/height)\r\n        int viewportWH = (orientation == SwingConstants.VERTICAL)\r\n                ? this.getHeight()\r\n                : this.getWidth();\r\n\r\n        // limit scroll increment to viewport width/height\r\n        // - if scroll amount is set to a large value in OS settings\r\n        // - for large unit increments in small viewports (e.g. horizontal scrolling in file chooser)\r\n        int scrollIncrement = Math.min(unitIncrement * e.getScrollAmount(), viewportWH);\r\n\r\n        // compute relative delta\r\n        double delta = rotation * scrollIncrement;\r\n        int idelta = (int) Math.round(delta);\r\n\r\n        // scroll at least one pixel to avoid &quot;hanging&quot;\r\n        // - for &quot;super-low-speed&quot; scrolling (move fingers very slowly on trackpad)\r\n        // - if unit increment is very small (e.g. 1 if scroll view does not implement\r\n        //   javax.swing.Scrollable interface)\r\n        if (idelta == 0) {\r\n            if (rotation &gt; 0) {\r\n                idelta = 1;\r\n            } else if (rotation &lt; 0) {\r\n                idelta = -1;\r\n            }\r\n        }\r\n\r\n        // compute new value\r\n        int value = scrollbar.getValue();\r\n        int minValue = scrollbar.getMinimum();\r\n        int maxValue = scrollbar.getMaximum() - scrollbar.getModel().getExtent();\r\n        int newValue = Math.max(minValue, Math.min(value + idelta, maxValue));\r\n\r\n        // set new value\r\n        if (newValue != value) {\r\n            scrollbar.setValue(newValue);\r\n        }\r\n    }","title":"Adding vertical scroll to a JPopupMenu?","body":"<p>For precise scroll (trackpad, copy from com.formdev.flatlaf.ui.FlatScrollPaneUI.mouseWheelMovedSmooth):</p>\n<pre><code>public JScrollPopupMenu(String label) {\n    super(label);\n    setLayout(new ScrollPopupMenuLayout());\n\n    super.add(getScrollBar());\n    addMouseWheelListener(e -&gt; {\n        if (e.getScrollType() == MouseWheelEvent.WHEEL_UNIT_SCROLL &amp;&amp;\n                e.getPreciseWheelRotation() != 0 &amp;&amp;\n                e.getPreciseWheelRotation() != e.getWheelRotation()) {\n            mouseWheelMovedSmooth(e);\n        } else {\n            JScrollBar scrollBar = getScrollBar();\n            int amount = (e.getScrollType() == MouseWheelEvent.WHEEL_UNIT_SCROLL)\n                    ? e.getUnitsToScroll() * scrollBar.getUnitIncrement()\n                    : (e.getWheelRotation() &lt; 0 ? -1 : 1) * scrollBar.getBlockIncrement();\n\n            scrollBar.setValue(scrollBar.getValue() + amount);\n            e.consume();\n        }\n    });\n}\n\n...\n\n// com.formdev.flatlaf.ui.FlatScrollPaneUI.mouseWheelMovedSmooth\nprivate void mouseWheelMovedSmooth(MouseWheelEvent e) {\n    // find scrollbar to scroll\n    JScrollBar scrollbar = popupScrollBar;\n\n    // consume event\n    e.consume();\n\n    // get precise wheel rotation\n    double rotation = e.getPreciseWheelRotation();\n\n    // get unit increment\n    int orientation = scrollbar.getOrientation();\n    int direction = rotation &lt; 0 ? -1 : 1;\n    int unitIncrement = scrollbar.getUnitIncrement(direction);\n\n    // get viewport width/height (the visible width/height)\n    int viewportWH = (orientation == SwingConstants.VERTICAL)\n            ? this.getHeight()\n            : this.getWidth();\n\n    // limit scroll increment to viewport width/height\n    // - if scroll amount is set to a large value in OS settings\n    // - for large unit increments in small viewports (e.g. horizontal scrolling in file chooser)\n    int scrollIncrement = Math.min(unitIncrement * e.getScrollAmount(), viewportWH);\n\n    // compute relative delta\n    double delta = rotation * scrollIncrement;\n    int idelta = (int) Math.round(delta);\n\n    // scroll at least one pixel to avoid &quot;hanging&quot;\n    // - for &quot;super-low-speed&quot; scrolling (move fingers very slowly on trackpad)\n    // - if unit increment is very small (e.g. 1 if scroll view does not implement\n    //   javax.swing.Scrollable interface)\n    if (idelta == 0) {\n        if (rotation &gt; 0) {\n            idelta = 1;\n        } else if (rotation &lt; 0) {\n            idelta = -1;\n        }\n    }\n\n    // compute new value\n    int value = scrollbar.getValue();\n    int minValue = scrollbar.getMinimum();\n    int maxValue = scrollbar.getMaximum() - scrollbar.getModel().getExtent();\n    int newValue = Math.max(minValue, Math.min(value + idelta, maxValue));\n\n    // set new value\n    if (newValue != value) {\n        scrollbar.setValue(newValue);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":383494,"reputation":5244,"user_id":3640269,"accept_rate":80,"display_name":"BJ Dela Cruz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13214,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":9290215,"answer_count":9,"score":18,"last_activity_date":1689563347,"creation_date":1329284054,"question_id":9288350,"body_markdown":"I would like to add a way to scroll through menu items in a `JPopupMenu`, much like scrolling through a list of items in a `JComboBox`.\r\n\r\nLet&#39;s say I have 10 menu items. I would like to display only 5 menu items at a time, and I would use a vertical scroll button at the bottom or top of the `JPopupMenu` to show the menu items that are not listed and hide the ones that I just saw.\r\n\r\nIs it possible? I am using JIDE Software&#39;s `JideSplitButton`, which displays a `JPopupMenu` when clicked. I am trying to keep the look and feel of the command bar on which I placed the `JideSplitButton`, so I don&#39;t want to replace it with a `JComboBox` unless I really have to.","title":"Adding vertical scroll to a JPopupMenu?","body":"<p>I would like to add a way to scroll through menu items in a <code>JPopupMenu</code>, much like scrolling through a list of items in a <code>JComboBox</code>.</p>\n\n<p>Let's say I have 10 menu items. I would like to display only 5 menu items at a time, and I would use a vertical scroll button at the bottom or top of the <code>JPopupMenu</code> to show the menu items that are not listed and hide the ones that I just saw.</p>\n\n<p>Is it possible? I am using JIDE Software's <code>JideSplitButton</code>, which displays a <code>JPopupMenu</code> when clicked. I am trying to keep the look and feel of the command bar on which I placed the <code>JideSplitButton</code>, so I don't want to replace it with a <code>JComboBox</code> unless I really have to.</p>\n"},{"tags":["java","sql","oracle","spring-boot","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1689585589,"post_id":76701271,"comment_id":135229016,"body_markdown":"Comparing generated SQL really is not a good testing strategy, IMHO. Oracle provides an official [docker image](https://github.com/oracle/docker-images). For unit testing, [Testcontainers](https://testcontainers.com/modules/oracle-xe/) (which internally uses the docker image) seems to be quite popular.","body":"Comparing generated SQL really is not a good testing strategy, IMHO. Oracle provides an official <a href=\"https://github.com/oracle/docker-images\" rel=\"nofollow noreferrer\">docker image</a>. For unit testing, <a href=\"https://testcontainers.com/modules/oracle-xe/\" rel=\"nofollow noreferrer\">Testcontainers</a> (which internally uses the docker image) seems to be quite popular."},{"owner":{"account_id":29030834,"reputation":1,"user_id":22237801,"display_name":"Avinash B"},"score":0,"creation_date":1689637218,"post_id":76701271,"comment_id":135239016,"body_markdown":"Can&#39;t use Docker. Has to be in the code itself of in mem only. Thank you for your response. I have looked at Testcontainers and it seems like a very good idea for integrating test envs. Unfortunately, docker integration is not possible. Do let me know if there are any approaches to this. Is testing the SQL even possible in this situation?","body":"Can&#39;t use Docker. Has to be in the code itself of in mem only. Thank you for your response. I have looked at Testcontainers and it seems like a very good idea for integrating test envs. Unfortunately, docker integration is not possible. Do let me know if there are any approaches to this. Is testing the SQL even possible in this situation?"},{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1689693577,"post_id":76701271,"comment_id":135248390,"body_markdown":"Not really. You can get a SQL string with placeholders i.e. `?`, but asserting that string is not particularly valuable as a test. Are you using the latest version of H2? There seems to be some [&#39;fix&#39;](https://github.com/h2database/h2database/pull/3396) regarding `SYSTIMESTAMP` recently. If there is an issue with the compat-mode, you should file a report on their [tracker](https://github.com/h2database/h2database/issues).  My recommendation, baed on my experience, still is to use an actual Oracle DB (on Docker or otherwise).","body":"Not really. You can get a SQL string with placeholders i.e. <code>?</code>, but asserting that string is not particularly valuable as a test. Are you using the latest version of H2? There seems to be some <a href=\"https://github.com/h2database/h2database/pull/3396\" rel=\"nofollow noreferrer\">&#39;fix&#39;</a> regarding <code>SYSTIMESTAMP</code> recently. If there is an issue with the compat-mode, you should file a report on their <a href=\"https://github.com/h2database/h2database/issues\" rel=\"nofollow noreferrer\">tracker</a>.  My recommendation, baed on my experience, still is to use an actual Oracle DB (on Docker or otherwise)."}],"owner":{"account_id":29030834,"reputation":1,"user_id":22237801,"display_name":"Avinash B"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689563132,"creation_date":1689563132,"question_id":76701271,"body_markdown":"I have a Spring boot application that uses myBatis to perform CRUD operations. Now in order to test these DB calls, I can write unit test cases using h2 in memory database. Problem is even if h2 database with dialect is set to Oracle SQL, you still have to make changes to the query statement to make it work, this is not preferred (have to additionally work on translating and maintaining). So now instead of using h2, can I directly test the SQL generated by myBatis during runtime? This way I&#39;m testing the DB call on a command level rather than an execution level. SQL queries that I&#39;m using are SELECT, UPDATE\r\n\r\nIf this is a bad idea, please enlighten me. For now checking the query syntax seems to the most efficient way of testing this. If there is a way to test full extent of Oracle SQL dialect, do let me know.\r\n\r\n\r\n\r\nThe queries which I&#39;m using\r\n```\r\nSELECT COLUMN_1, COLUMN_2, COLUMN_2 FROM TABLE1 WHERE COLUMN_1=VALUE1 AND COLUMN2 BETWEEN TIMESTAMP1 AND TIMESTAMP2 DESC FETCH FIRST 1 ROW ONLY\r\n```\r\nIssue at &#39;DESC FIRST FIRST 1 ROW ONLY&#39;\r\n```\r\nINSERT INTO TABLE2 (COLUMN_1, COLUMN_2) VALUES(123, SYSTIMESTAMP)\r\n```\r\nSYSTIMESTAMP has different syntax in H2\r\n\r\nUsual queries would work fine with H2 in mem, but using some of these commands have led to errors in h2 like ArrayIndexOutOfBounds exception etc.","title":"How to test SQL queries by checking the syntax of the command (with the arg values) that gets generated by the library (myBatis)?","body":"<p>I have a Spring boot application that uses myBatis to perform CRUD operations. Now in order to test these DB calls, I can write unit test cases using h2 in memory database. Problem is even if h2 database with dialect is set to Oracle SQL, you still have to make changes to the query statement to make it work, this is not preferred (have to additionally work on translating and maintaining). So now instead of using h2, can I directly test the SQL generated by myBatis during runtime? This way I'm testing the DB call on a command level rather than an execution level. SQL queries that I'm using are SELECT, UPDATE</p>\n<p>If this is a bad idea, please enlighten me. For now checking the query syntax seems to the most efficient way of testing this. If there is a way to test full extent of Oracle SQL dialect, do let me know.</p>\n<p>The queries which I'm using</p>\n<pre><code>SELECT COLUMN_1, COLUMN_2, COLUMN_2 FROM TABLE1 WHERE COLUMN_1=VALUE1 AND COLUMN2 BETWEEN TIMESTAMP1 AND TIMESTAMP2 DESC FETCH FIRST 1 ROW ONLY\n</code></pre>\n<p>Issue at 'DESC FIRST FIRST 1 ROW ONLY'</p>\n<pre><code>INSERT INTO TABLE2 (COLUMN_1, COLUMN_2) VALUES(123, SYSTIMESTAMP)\n</code></pre>\n<p>SYSTIMESTAMP has different syntax in H2</p>\n<p>Usual queries would work fine with H2 in mem, but using some of these commands have led to errors in h2 like ArrayIndexOutOfBounds exception etc.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1689559793,"post_id":76701128,"comment_id":135225761,"body_markdown":"Please don&#39;t post text as images. Edit your question to include the text as text.","body":"Please don&#39;t post text as images. Edit your question to include the text as text."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1689560671,"post_id":76701128,"comment_id":135225823,"body_markdown":"And I don&#39;t mean nice links to the images -- copy and paste the text from your log files into your question, please.","body":"And I don&#39;t mean nice links to the images -- copy and paste the text from your log files into your question, please."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1689560707,"post_id":76701128,"comment_id":135225828,"body_markdown":"Also what do you mean by destroying part of a bean?","body":"Also what do you mean by destroying part of a bean?"},{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1689560728,"post_id":76701128,"comment_id":135225831,"body_markdown":"There is some config wrong in your nacos ,   This line  ```failover switch is not found  ... ```  and others behind is occur by the package path com.alibaba.nacos, checkoout  your  nacos config and version , may  be some potential conflict with other dependency","body":"There is some config wrong in your nacos ,   This line  <code>failover switch is not found  ... </code>  and others behind is occur by the package path com.alibaba.nacos, checkoout  your  nacos config and version , may  be some potential conflict with other dependency"},{"owner":{"account_id":19034226,"reputation":1,"user_id":13895654,"display_name":"George"},"score":0,"creation_date":1689563556,"post_id":76701128,"comment_id":135226043,"body_markdown":"thank you advise , i dont often post question on here,","body":"thank you advise , i dont often post question on here,"},{"owner":{"account_id":19034226,"reputation":1,"user_id":13895654,"display_name":"George"},"score":1,"creation_date":1689563901,"post_id":76701128,"comment_id":135226072,"body_markdown":"sorry for my stupid question , i configured pod name in my &quot;logback.xml&quot; , and found out the shudtown log and other log come from different pod","body":"sorry for my stupid question , i configured pod name in my &quot;logback.xml&quot; , and found out the shudtown log and other log come from different pod"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689602576,"post_id":76701128,"comment_id":135232799,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":19034226,"reputation":1,"user_id":13895654,"display_name":"George"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689560585,"creation_date":1689559677,"question_id":76701128,"body_markdown":"the application started successful \r\n[vm log](https://i.stack.imgur.com/sWgUN.png),\r\nand after a while the shudownhook was triggered\r\n[shutdown thread.1](https://i.stack.imgur.com/CzLEG.png)\r\n[shutdown thread.2](https://i.stack.imgur.com/tpU3s.png),\r\ni don&#39;t know what cause this problem , it didn&#39;t show any excetpion or something, and the strangest thing is the http service still can call.\r\n[call log](https://i.stack.imgur.com/LjLfg.png) \r\n\r\nhow do i find out what cause this issue ?? and fix it . many thanks","title":"Why Spring destory parts of bean(not all)?","body":"<p>the application started successful\n<a href=\"https://i.stack.imgur.com/sWgUN.png\" rel=\"nofollow noreferrer\">vm log</a>,\nand after a while the shudownhook was triggered\n<a href=\"https://i.stack.imgur.com/CzLEG.png\" rel=\"nofollow noreferrer\">shutdown thread.1</a>\n<a href=\"https://i.stack.imgur.com/tpU3s.png\" rel=\"nofollow noreferrer\">shutdown thread.2</a>,\ni don't know what cause this problem , it didn't show any excetpion or something, and the strangest thing is the http service still can call.\n<a href=\"https://i.stack.imgur.com/LjLfg.png\" rel=\"nofollow noreferrer\">call log</a></p>\n<p>how do i find out what cause this issue ?? and fix it . many thanks</p>\n"},{"tags":["java","oop","optimization","methods","overriding"],"comments":[{"owner":{"account_id":78982,"reputation":59009,"user_id":224346,"display_name":"Anon."},"score":3,"creation_date":1266886767,"post_id":2315445,"comment_id":2283341,"body_markdown":"How about just don&#39;t optimize it? It sounds like the optimization isn&#39;t significant enough to really matter.","body":"How about just don&#39;t optimize it? It sounds like the optimization isn&#39;t significant enough to really matter."},{"owner":{"account_id":44479,"reputation":2046,"user_id":130598,"accept_rate":100,"display_name":"bgw"},"score":0,"creation_date":1266887305,"post_id":2315445,"comment_id":2283381,"body_markdown":"Anon: The method is called hundreds of times per second.","body":"Anon: The method is called hundreds of times per second."},{"owner":{"account_id":78982,"reputation":59009,"user_id":224346,"display_name":"Anon."},"score":0,"creation_date":1266887714,"post_id":2315445,"comment_id":2283404,"body_markdown":"Then go for reflection, and cache the result in a private field.","body":"Then go for reflection, and cache the result in a private field."},{"owner":{"account_id":44479,"reputation":2046,"user_id":130598,"accept_rate":100,"display_name":"bgw"},"score":0,"creation_date":1266888891,"post_id":2315445,"comment_id":2283503,"body_markdown":"Anon: A possibility, just a little unclean.","body":"Anon: A possibility, just a little unclean."}],"answers":[{"comments":[{"owner":{"account_id":44479,"reputation":2046,"user_id":130598,"accept_rate":100,"display_name":"bgw"},"score":0,"creation_date":1266886964,"post_id":2315454,"comment_id":2283356,"body_markdown":"It is a very commonly called method.","body":"It is a very commonly called method."},{"owner":{"account_id":51271,"reputation":4093,"user_id":153149,"display_name":"TheJacobTaylor"},"score":2,"creation_date":1266900369,"post_id":2315454,"comment_id":2284169,"body_markdown":"Let me clarify my answer. I was suggesting that if you have this common pattern, and the instances are all of the same type, you could cache the value of the reflection that is performed once. You determine the configuration the first time, and use that value throughout. This way, the reflection overhead would be one time and the calls would be a much larger number. If this is called repeatedly on each instance, an instance variable declared in the parent class and lazy initialized on the first call (using reflection) might give you a boost.","body":"Let me clarify my answer. I was suggesting that if you have this common pattern, and the instances are all of the same type, you could cache the value of the reflection that is performed once. You determine the configuration the first time, and use that value throughout. This way, the reflection overhead would be one time and the calls would be a much larger number. If this is called repeatedly on each instance, an instance variable declared in the parent class and lazy initialized on the first call (using reflection) might give you a boost."}],"tags":[],"owner":{"account_id":51271,"reputation":4093,"user_id":153149,"display_name":"TheJacobTaylor"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1266886782,"creation_date":1266886782,"answer_id":2315454,"question_id":2315445,"body_markdown":"How many times do you expect the function to be called during the lifetime of the program? Reflection for a specific single method should not be too bad. If it is not worth that much time over the lifetime of the program my recommendation is to keep it simple, and don&#39;t include the small optimization.\r\n\r\nJacob","title":"How to quickly determine if a method is overridden in Java","body":"<p>How many times do you expect the function to be called during the lifetime of the program? Reflection for a specific single method should not be too bad. If it is not worth that much time over the lifetime of the program my recommendation is to keep it simple, and don't include the small optimization.</p>\n\n<p>Jacob</p>\n"},{"comments":[{"owner":{"account_id":44479,"reputation":2046,"user_id":130598,"accept_rate":100,"display_name":"bgw"},"score":0,"creation_date":1266887220,"post_id":2315467,"comment_id":2283376,"body_markdown":"Well, my optimization is a small yield on a case-by-case basis, and it only speeds things a lot because it is called hundreds of times per second. With reflection, that yield would be reduced to such a point that the optimization is pointless. A good answer, so I&#39;m upvoting this anyways.","body":"Well, my optimization is a small yield on a case-by-case basis, and it only speeds things a lot because it is called hundreds of times per second. With reflection, that yield would be reduced to such a point that the optimization is pointless. A good answer, so I&#39;m upvoting this anyways."},{"owner":{"account_id":63531,"reputation":3979,"user_id":188014,"accept_rate":89,"display_name":"vickirk"},"score":0,"creation_date":1266887479,"post_id":2315467,"comment_id":2283390,"body_markdown":"If you really really need it you could determine if the method(s) are overloaded via in a static initialiser and store the result in a boolean.  Alternatively you could add this via aspectj","body":"If you really really need it you could determine if the method(s) are overloaded via in a static initialiser and store the result in a boolean.  Alternatively you could add this via aspectj"},{"owner":{"account_id":69502,"reputation":4999,"user_id":202160,"display_name":"Noel Ang"},"score":0,"creation_date":1266887644,"post_id":2315467,"comment_id":2283398,"body_markdown":"Use Class.getMethod instead.  Class.getDeclaredMethod will raise NoSuchMethodException if you ask about an inherited method that the the subclass does not override.  Of course, you could use the exception as an (poor) indicator that the method wasn&#39;t overriden.","body":"Use Class.getMethod instead.  Class.getDeclaredMethod will raise NoSuchMethodException if you ask about an inherited method that the the subclass does not override.  Of course, you could use the exception as an (poor) indicator that the method wasn&#39;t overriden."},{"owner":{"account_id":28214,"reputation":305280,"user_id":75170,"accept_rate":72,"display_name":"John Feminella"},"score":0,"creation_date":1266887998,"post_id":2315467,"comment_id":2283430,"body_markdown":"@vickirk: Static caching wouldn&#39;t work. The superclass doesn&#39;t know (without reflection) what subclass is invoking it, so it can&#39;t cache the result. If a different subclass invokes it later, that cached result will be wrong.","body":"@vickirk: Static caching wouldn&#39;t work. The superclass doesn&#39;t know (without reflection) what subclass is invoking it, so it can&#39;t cache the result. If a different subclass invokes it later, that cached result will be wrong."},{"owner":{"account_id":44479,"reputation":2046,"user_id":130598,"accept_rate":100,"display_name":"bgw"},"score":0,"creation_date":1266889562,"post_id":2315467,"comment_id":2283553,"body_markdown":"Noel: Not only is that reflection, but try...catch blocks are slow too.","body":"Noel: Not only is that reflection, but try...catch blocks are slow too."},{"owner":{"account_id":69502,"reputation":4999,"user_id":202160,"display_name":"Noel Ang"},"score":1,"creation_date":1266893605,"post_id":2315467,"comment_id":2283798,"body_markdown":"PiPeep: But you&#39;re resolving the decision once and for all, when the class is loaded. The computation is front-loaded.","body":"PiPeep: But you&#39;re resolving the decision once and for all, when the class is loaded. The computation is front-loaded."},{"owner":{"account_id":63531,"reputation":3979,"user_id":188014,"accept_rate":89,"display_name":"vickirk"},"score":0,"creation_date":1266924882,"post_id":2315467,"comment_id":2285650,"body_markdown":"@John Feminella: I didn&#39;t mean add it to the superclass, just the derived classes, this is potentially a lot of code, hence my suggestion to use aspectj.  If you put it in the super class the code would never get looked at.  Having said that I would not do any of this","body":"@John Feminella: I didn&#39;t mean add it to the superclass, just the derived classes, this is potentially a lot of code, hence my suggestion to use aspectj.  If you put it in the super class the code would never get looked at.  Having said that I would not do any of this"},{"owner":{"account_id":3253983,"reputation":1481,"user_id":2743585,"display_name":"wi2ard"},"score":0,"creation_date":1642070115,"post_id":2315467,"comment_id":124976288,"body_markdown":"This doesn&#39;t work for me (Java 8?). Iterating `targetedStrategyClass.getMethods()`, the declaringClass for the overriding method is still `TargetedStrategyClass`, not the superclass. @Hardy commented the same on this question https://stackoverflow.com/a/4821768/2743585","body":"This doesn&#39;t work for me (Java 8?). Iterating <code>targetedStrategyClass.getMethods()</code>, the declaringClass for the overriding method is still <code>TargetedStrategyClass</code>, not the superclass. @Hardy commented the same on this question <a href=\"https://stackoverflow.com/a/4821768/2743585\">stackoverflow.com/a/4821768/2743585</a>"}],"tags":[],"owner":{"account_id":28214,"reputation":305280,"user_id":75170,"accept_rate":72,"display_name":"John Feminella"},"comment_count":8,"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1266887887,"creation_date":1266886950,"answer_id":2315467,"question_id":2315445,"body_markdown":"I wouldn&#39;t do this. It violates encapsulation and changes the contract of what your class is supposed to do without implementers knowing about it.\r\n\r\nIf you must do it, though, the best way is to invoke\r\n\r\n    class.getMethod(&quot;myMethod&quot;).getDeclaringClass();\r\n\r\nIf the class that&#39;s returned is your own, then it&#39;s not overridden; if it&#39;s something else, that subclass has overridden it. Yes, this is reflection, but it&#39;s still pretty cheap.\r\n\r\nI do like your protected-method approach, though. That would look something like this:\r\n\r\n    public class ExpensiveStrategy {\r\n      public void expensiveMethod() {\r\n        // ...\r\n        if (employOptimization()) {\r\n          // take a shortcut\r\n        }\r\n      }\r\n    \r\n      protected boolean employOptimization() {\r\n        return false;\r\n      }\r\n    }\r\n    \r\n    public class TargetedStrategy extends ExpensiveStrategy {\r\n      @Override\r\n      protected boolean employOptimization() {\r\n        return true; // Now we can shortcut ExpensiveStrategy.\r\n      }\r\n    }","title":"How to quickly determine if a method is overridden in Java","body":"<p>I wouldn't do this. It violates encapsulation and changes the contract of what your class is supposed to do without implementers knowing about it.</p>\n\n<p>If you must do it, though, the best way is to invoke</p>\n\n<pre><code>class.getMethod(\"myMethod\").getDeclaringClass();\n</code></pre>\n\n<p>If the class that's returned is your own, then it's not overridden; if it's something else, that subclass has overridden it. Yes, this is reflection, but it's still pretty cheap.</p>\n\n<p>I do like your protected-method approach, though. That would look something like this:</p>\n\n<pre><code>public class ExpensiveStrategy {\n  public void expensiveMethod() {\n    // ...\n    if (employOptimization()) {\n      // take a shortcut\n    }\n  }\n\n  protected boolean employOptimization() {\n    return false;\n  }\n}\n\npublic class TargetedStrategy extends ExpensiveStrategy {\n  @Override\n  protected boolean employOptimization() {\n    return true; // Now we can shortcut ExpensiveStrategy.\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1266889422,"post_id":2315516,"comment_id":2283547,"body_markdown":"@PiPeep: The actual instance is irrelevant. As I say, map key based upon the runtime class.","body":"@PiPeep: The actual instance is irrelevant. As I say, map key based upon the runtime class."}],"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1266887892,"creation_date":1266887892,"answer_id":2315516,"question_id":2315445,"body_markdown":"Reflection can be used to determine if a method is overridden. The code is a little bit tricky. For instance, you need to be aware that you have a runtime class that is a subclass of the class that overrides the method.\r\n\r\nYou are going to see the same runtime classes over and over again. So you can save the results of the check in a `WeakHashMap` keyed on the `Class`.\r\n\r\nSee my code in `java.awt.Component` dealing with `coalesceEvents` for an example.","title":"How to quickly determine if a method is overridden in Java","body":"<p>Reflection can be used to determine if a method is overridden. The code is a little bit tricky. For instance, you need to be aware that you have a runtime class that is a subclass of the class that overrides the method.</p>\n\n<p>You are going to see the same runtime classes over and over again. So you can save the results of the check in a <code>WeakHashMap</code> keyed on the <code>Class</code>.</p>\n\n<p>See my code in <code>java.awt.Component</code> dealing with <code>coalesceEvents</code> for an example.</p>\n"},{"comments":[{"owner":{"account_id":44479,"reputation":2046,"user_id":130598,"accept_rate":100,"display_name":"bgw"},"score":1,"creation_date":1266888821,"post_id":2315526,"comment_id":2283493,"body_markdown":"static blocks break inheritance.","body":"static blocks break inheritance."},{"owner":{"account_id":69502,"reputation":4999,"user_id":202160,"display_name":"Noel Ang"},"score":0,"creation_date":1266893500,"post_id":2315526,"comment_id":2283790,"body_markdown":"I know it smells. But the optimization you want is already subverting polymorphism.","body":"I know it smells. But the optimization you want is already subverting polymorphism."}],"tags":[],"owner":{"account_id":69502,"reputation":4999,"user_id":202160,"display_name":"Noel Ang"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1266888071,"creation_date":1266888071,"answer_id":2315526,"question_id":2315445,"body_markdown":"Annotate subclasses that overrides the particular method.  @OverridesMethodX.\r\n\r\nPerform the necessary reflective work on class load (i.e., in a `static` block) so that you publish the information via a final boolean flag.  Then, query the flag where and when you need it.\r\n\r\n\r\n","title":"How to quickly determine if a method is overridden in Java","body":"<p>Annotate subclasses that overrides the particular method.  @OverridesMethodX.</p>\n\n<p>Perform the necessary reflective work on class load (i.e., in a <code>static</code> block) so that you publish the information via a final boolean flag.  Then, query the flag where and when you need it.</p>\n"},{"comments":[{"owner":{"account_id":63531,"reputation":3979,"user_id":188014,"accept_rate":89,"display_name":"vickirk"},"score":1,"creation_date":1266925009,"post_id":2315716,"comment_id":2285658,"body_markdown":"+1 Seems good advice to me, don&#39;t know why it was down voted.","body":"+1 Seems good advice to me, don&#39;t know why it was down voted."}],"tags":[],"owner":{"account_id":16881,"reputation":12006,"user_id":37231,"accept_rate":83,"display_name":"jdigital"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1266891366,"creation_date":1266891366,"answer_id":2315716,"question_id":2315445,"body_markdown":"&gt; Well, my optimization is a small yield on a case-by-case basis, and it only speeds things a lot because it is called hundreds of times per second.\r\n\r\nYou might want to see just what the Java optimizer can do.  Your hand-coded optimization might not be necessary.\r\n\r\nIf you decide that hand-coded optimization is necessary, the protected method approach you described is not a good idea because it exposes the details of your implementation.","title":"How to quickly determine if a method is overridden in Java","body":"<blockquote>\n  <p>Well, my optimization is a small yield on a case-by-case basis, and it only speeds things a lot because it is called hundreds of times per second.</p>\n</blockquote>\n\n<p>You might want to see just what the Java optimizer can do.  Your hand-coded optimization might not be necessary.</p>\n\n<p>If you decide that hand-coded optimization is necessary, the protected method approach you described is not a good idea because it exposes the details of your implementation.</p>\n"},{"tags":[],"owner":{"account_id":12969,"reputation":7584,"user_id":25812,"accept_rate":100,"display_name":"Newtopian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1266892360,"creation_date":1266892360,"answer_id":2315775,"question_id":2315445,"body_markdown":"maybe there is a cleaner way to do this via the [Strategy Pattern][1], though I do not know how the rest of your application and data are modeled but it seem like it might fit.\r\n\r\nIt did to me anyhow when I was faced with a similar problem.  You could have a heuristic that decides which strategy to use depending on the data that is to be processed.\r\n\r\nAgain, I do not have enough information on your specific usage to see if this is overkill or not.  However I would refrain from changing the class signature for such specific optimization.  Usually when I feel the urge to go against the current I take it as a sing that I had not forseen a corner case when I designed the thing and that I should refactor it to a cleaner more comprehensive solution.\r\n\r\nhowever beware, such refactoring when done solely on optimization grounds almost inevitably lead to disaster.  If this is the case I would take the reflecive approach suggested above.  It does not alter the inheritance contract, and when done properly needs be done once only per subclass that requires it for the runtime life of the application.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Strategy_pattern","title":"How to quickly determine if a method is overridden in Java","body":"<p>maybe there is a cleaner way to do this via the <a href=\"http://en.wikipedia.org/wiki/Strategy_pattern\" rel=\"nofollow noreferrer\">Strategy Pattern</a>, though I do not know how the rest of your application and data are modeled but it seem like it might fit.</p>\n\n<p>It did to me anyhow when I was faced with a similar problem.  You could have a heuristic that decides which strategy to use depending on the data that is to be processed.</p>\n\n<p>Again, I do not have enough information on your specific usage to see if this is overkill or not.  However I would refrain from changing the class signature for such specific optimization.  Usually when I feel the urge to go against the current I take it as a sing that I had not forseen a corner case when I designed the thing and that I should refactor it to a cleaner more comprehensive solution.</p>\n\n<p>however beware, such refactoring when done solely on optimization grounds almost inevitably lead to disaster.  If this is the case I would take the reflecive approach suggested above.  It does not alter the inheritance contract, and when done properly needs be done once only per subclass that requires it for the runtime life of the application.</p>\n"},{"tags":[],"owner":{"account_id":2557991,"reputation":166,"user_id":2219589,"display_name":"SimonPe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1364472736,"creation_date":1364472736,"answer_id":15681490,"question_id":2315445,"body_markdown":"I know this is a slightly old question, but for the sake of other googlers:\r\n\r\nI came up with a different solution using interfaces.\r\n\r\n    class FastSub extends Super {}\r\n    class SlowSub extends Super implements Super.LetMeHandleThis {\r\n        void doSomethingSlow() {\r\n            //not optimized\r\n        }\r\n    }\r\n    class Super {\r\n        static interface LetMeHandleThis {\r\n            void doSomethingSlow();\r\n        }\r\n        void doSomething() {\r\n            if (this instanceof LetMeHandleThis)\r\n                ((LetMeHandleThis) this).doSomethingSlow();\r\n            else\r\n                doSomethingFast();\r\n        }\r\n        private final void doSomethingFast() {\r\n            //optimized\r\n        }\r\n    }\r\n\r\nor the other way around:\r\n\r\n    class FastSub extends Super implements Super.OptimizeMe {}\r\n    class SlowSub extends Super {\r\n        void doSomethingSlow() {\r\n            //not optimized\r\n        }\r\n    }\r\n    class Super {\r\n        static interface OptimizeMe {}\r\n        void doSomething() {\r\n            if (this instanceof OptimizeMe)\r\n                doSomethingFast();\r\n            else\r\n                doSomethingSlow();\r\n        }\r\n        private final void doSomethingFast() {\r\n            //optimized\r\n        }\r\n        void doSomethingSlow(){}\r\n    }\r\n","title":"How to quickly determine if a method is overridden in Java","body":"<p>I know this is a slightly old question, but for the sake of other googlers:</p>\n\n<p>I came up with a different solution using interfaces.</p>\n\n<pre><code>class FastSub extends Super {}\nclass SlowSub extends Super implements Super.LetMeHandleThis {\n    void doSomethingSlow() {\n        //not optimized\n    }\n}\nclass Super {\n    static interface LetMeHandleThis {\n        void doSomethingSlow();\n    }\n    void doSomething() {\n        if (this instanceof LetMeHandleThis)\n            ((LetMeHandleThis) this).doSomethingSlow();\n        else\n            doSomethingFast();\n    }\n    private final void doSomethingFast() {\n        //optimized\n    }\n}\n</code></pre>\n\n<p>or the other way around:</p>\n\n<pre><code>class FastSub extends Super implements Super.OptimizeMe {}\nclass SlowSub extends Super {\n    void doSomethingSlow() {\n        //not optimized\n    }\n}\nclass Super {\n    static interface OptimizeMe {}\n    void doSomething() {\n        if (this instanceof OptimizeMe)\n            doSomethingFast();\n        else\n            doSomethingSlow();\n    }\n    private final void doSomethingFast() {\n        //optimized\n    }\n    void doSomethingSlow(){}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1245681,"reputation":65784,"user_id":1207195,"accept_rate":100,"display_name":"Adriano Repetti"},"score":2,"creation_date":1382978164,"post_id":19638714,"comment_id":29160692,"body_markdown":"You posted exactly same answer here and [here](http://stackoverflow.com/questions/4821704/java-how-to-find-if-a-method-is-overridden-from-base-class/19637356#19637356). If you can give exactly same answer then you should mark **question as duplicated**, **not duplicate answer** too.","body":"You posted exactly same answer here and <a href=\"http://stackoverflow.com/questions/4821704/java-how-to-find-if-a-method-is-overridden-from-base-class/19637356#19637356\">here</a>. If you can give exactly same answer then you should mark <b>question as duplicated</b>, <b>not duplicate answer</b> too."}],"tags":[],"owner":{"account_id":1144833,"reputation":7270,"user_id":1127843,"accept_rate":86,"display_name":"kayz1"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1382973894,"creation_date":1382973894,"answer_id":19638714,"question_id":2315445,"body_markdown":"\tprivate static boolean isMethodImplemented(Object obj, String name)\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tClass&lt;? extends Object&gt; clazz = obj.getClass();\r\n\r\n\t\t\treturn clazz.getMethod(name).getDeclaringClass().equals(clazz);\r\n\t\t}\r\n\t\tcatch (SecurityException e)\r\n\t\t{\r\n\t\t\tlog.error(&quot;{}&quot;, e);\r\n\t\t}\r\n\t\tcatch (NoSuchMethodException e)\r\n\t\t{\r\n\t\t\tlog.error(&quot;{}&quot;, e);\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}","title":"How to quickly determine if a method is overridden in Java","body":"<pre><code>private static boolean isMethodImplemented(Object obj, String name)\n{\n    try\n    {\n        Class&lt;? extends Object&gt; clazz = obj.getClass();\n\n        return clazz.getMethod(name).getDeclaringClass().equals(clazz);\n    }\n    catch (SecurityException e)\n    {\n        log.error(\"{}\", e);\n    }\n    catch (NoSuchMethodException e)\n    {\n        log.error(\"{}\", e);\n    }\n\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1713391,"reputation":7677,"user_id":1570996,"display_name":"Ramy Feteha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592308364,"creation_date":1592308364,"answer_id":62407799,"question_id":2315445,"body_markdown":"it might be another workaround which is similar to override another protected method returns true/false \r\n\r\nI would suggest creating an empty interface, markup interface, then make the subclass implements this interface and inside the superclass check that this instance is `instanceof` this interface before calling the overridden expensive method.","title":"How to quickly determine if a method is overridden in Java","body":"<p>it might be another workaround which is similar to override another protected method returns true/false </p>\n\n<p>I would suggest creating an empty interface, markup interface, then make the subclass implements this interface and inside the superclass check that this instance is <code>instanceof</code> this interface before calling the overridden expensive method.</p>\n"},{"tags":[],"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689560042,"creation_date":1689554575,"answer_id":76700948,"question_id":2315445,"body_markdown":"This is a lambda&#39;s solution with synthetic introspection as in:\r\n\r\n       private Component mComponent = new Component(this::overriddenMethod);\r\n       protected void overriddenMethod() {}\r\n\r\n-------------------------\r\nMethod:\r\n\r\n    void read(Runnable lambda) {\r\n       try {\r\n          Field f = lambda.getClass().getDeclaredFields()[0]; //No more indices\r\n          f.setAccessible(true); //For some reason appears as &quot;private final&quot; so this is required.\r\n          String canonName = f.get(lambda).getClass().getCanonicalName();\r\n          //                  ^ I am not sure if this is a bit hyperbolic, please improve if possible, and report back!!\r\n          System.out.println(&quot;class is = &quot; + canonName);\r\n       } catch (IllegalAccessException e) {\r\n          throw new RuntimeException(e);\r\n       }\r\n    }\r\n\r\nLet&#39;s assume you have something like:\r\n\r\n    class EnclosingClass {\r\n       private Component mComponent = new Component(this::overriddenMethod);\r\n       protected void overriddenMethod() {}\r\n    \r\n       public static EnclosingClass giveMeOverridden(Runnable runnable) {\r\n          return new EnclosingClass() {\r\n             @Override\r\n             protected void overriddenMethod() {\r\n                runnable.run();\r\n             }\r\n         }\r\n       }\r\n    }\r\n-------------\r\n\r\n    class SubClass extends EnclosingClass {\r\n       @Override\r\n       protected void overriddenMethod() {\r\n          //I&#39;ve been overridden!!!\r\n       }\r\n    }\r\n--------------\r\n\r\n    public class Test {\r\n       public static void main(String[] args) {\r\n          EnclosingClass nonOveridden = new EnclosingClass();\r\n          EnclosingClass overridden = new EnclosingClass() {\r\n             @Override\r\n             protected void overriddenMethod() {\r\n                //I&#39;ve been overridden!!!\r\n             }\r\n          }\r\n          EnclosingClass factoryOverridden = EnclosingCLass.giveMeOverridden(\r\n             () -&gt; {\r\n                //I&#39;ve been overridden!!!\r\n             }\r\n          );\r\n          SubClass subClass = new SubClass();\r\n       }\r\n    }\r\n\r\n--------------\r\n\r\n    class Component {\r\n       Component(Runnable lambda) {\r\n          read(lambda);\r\n       }\r\n    }\r\n--------------\r\nResults:\r\n=========\r\n\r\n    class is = path.EnclosingClass //NON overridden!\r\n    class is = null // Overridden!!\r\n    class is = null // Overridden!!\r\n    class is = path.SubClass //not EnclosingClass?? Overridden!!!","title":"How to quickly determine if a method is overridden in Java","body":"<p>This is a lambda's solution with synthetic introspection as in:</p>\n<pre><code>   private Component mComponent = new Component(this::overriddenMethod);\n   protected void overriddenMethod() {}\n</code></pre>\n<hr />\n<p>Method:</p>\n<pre><code>void read(Runnable lambda) {\n   try {\n      Field f = lambda.getClass().getDeclaredFields()[0]; //No more indices\n      f.setAccessible(true); //For some reason appears as &quot;private final&quot; so this is required.\n      String canonName = f.get(lambda).getClass().getCanonicalName();\n      //                  ^ I am not sure if this is a bit hyperbolic, please improve if possible, and report back!!\n      System.out.println(&quot;class is = &quot; + canonName);\n   } catch (IllegalAccessException e) {\n      throw new RuntimeException(e);\n   }\n}\n</code></pre>\n<p>Let's assume you have something like:</p>\n<pre><code>class EnclosingClass {\n   private Component mComponent = new Component(this::overriddenMethod);\n   protected void overriddenMethod() {}\n\n   public static EnclosingClass giveMeOverridden(Runnable runnable) {\n      return new EnclosingClass() {\n         @Override\n         protected void overriddenMethod() {\n            runnable.run();\n         }\n     }\n   }\n}\n</code></pre>\n<hr />\n<pre><code>class SubClass extends EnclosingClass {\n   @Override\n   protected void overriddenMethod() {\n      //I've been overridden!!!\n   }\n}\n</code></pre>\n<hr />\n<pre><code>public class Test {\n   public static void main(String[] args) {\n      EnclosingClass nonOveridden = new EnclosingClass();\n      EnclosingClass overridden = new EnclosingClass() {\n         @Override\n         protected void overriddenMethod() {\n            //I've been overridden!!!\n         }\n      }\n      EnclosingClass factoryOverridden = EnclosingCLass.giveMeOverridden(\n         () -&gt; {\n            //I've been overridden!!!\n         }\n      );\n      SubClass subClass = new SubClass();\n   }\n}\n</code></pre>\n<hr />\n<pre><code>class Component {\n   Component(Runnable lambda) {\n      read(lambda);\n   }\n}\n</code></pre>\n<hr />\n<h1>Results:</h1>\n<pre><code>class is = path.EnclosingClass //NON overridden!\nclass is = null // Overridden!!\nclass is = null // Overridden!!\nclass is = path.SubClass //not EnclosingClass?? Overridden!!!\n</code></pre>\n"}],"owner":{"account_id":44479,"reputation":2046,"user_id":130598,"accept_rate":100,"display_name":"bgw"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24488,"favorite_count":0,"down_vote_count":1,"up_vote_count":25,"accepted_answer_id":2315467,"answer_count":10,"score":24,"last_activity_date":1689560042,"creation_date":1266886647,"question_id":2315445,"body_markdown":"There is a possible optimization I could apply to one of my methods, if I can determine that another method in the same class is not overridden. It is only a slight optimization, so reflection is out of the question. Should I just make a protected method that returns whether or not the method in question is overridden, such that a subclass can make it return true?","title":"How to quickly determine if a method is overridden in Java","body":"<p>There is a possible optimization I could apply to one of my methods, if I can determine that another method in the same class is not overridden. It is only a slight optimization, so reflection is out of the question. Should I just make a protected method that returns whether or not the method in question is overridden, such that a subclass can make it return true?</p>\n"},{"tags":["java","maven","selenium-webdriver","debugging","browserstack"],"comments":[{"owner":{"account_id":2003879,"reputation":386,"user_id":1794271,"display_name":"A P"},"score":0,"creation_date":1689561377,"post_id":76692019,"comment_id":135225890,"body_markdown":"Could you share with us any error/exception message received during test execution?","body":"Could you share with us any error/exception message received during test execution?"},{"owner":{"account_id":29020646,"reputation":1,"user_id":22230123,"display_name":"cco102"},"score":0,"creation_date":1690039491,"post_id":76692019,"comment_id":135298826,"body_markdown":"Yes sure. Please help to have a look\n\n[ERROR] The forked VM terminated without properly saying goodbye. VM crash or System.exit called?\n[ERROR] Command was cmd.exe /X /C &quot;&quot;C:\\Program Files\\Eclipse Adoptium\\jdk-8.0.372.7-hotspot\\jre\\bin\\java&quot; -javaagent:C:\\Users\\myaccount\\.m2\\repository\\com\\browserstack\\browserstack-java-sdk\\1.8.6\\browserstack-java-sdk-1.8.6.jar -Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=5005 -jar","body":"Yes sure. Please help to have a look  [ERROR] The forked VM terminated without properly saying goodbye. VM crash or System.exit called? [ERROR] Command was cmd.exe /X /C &quot;&quot;C:\\Program Files\\Eclipse Adoptium\\jdk-8.0.372.7-hotspot\\jre\\bin\\java&quot; -javaagent:C:\\Users\\myaccount\\.m2\\repository\\com\\browserstac&zwnj;&#8203;k\\browserstack-java-&zwnj;&#8203;sdk\\1.8.6\\browsersta&zwnj;&#8203;ck-java-sdk-1.8.6.ja&zwnj;&#8203;r -Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=500&zwnj;&#8203;5 -jar"},{"owner":{"account_id":29020646,"reputation":1,"user_id":22230123,"display_name":"cco102"},"score":0,"creation_date":1690039521,"post_id":76692019,"comment_id":135298832,"body_markdown":"C:\\Users\\myaccount\\AppData\\Local\\Temp\\surefire8824677851888095320\\surefirebooter7152078299922823454.jar C:\\Users\\myaccount\\AppData\\Local\\Temp\\surefire8824677851888095320 2023-07-22T22-19-55_265-jvmRun1 surefire4886343855642447611tmp surefire_0854870395964311220tmp&quot;\n[ERROR] Error occurred in starting fork, check output in log\n[ERROR] Process Exit Code: 1\n[ERROR] org.apache.maven.surefire.booter.SurefireBooterForkException: The forked VM terminated without properly saying goodbye. VM crash or System.exit called?","body":"C:\\Users\\myaccount\\AppData\\Local\\Temp\\surefire88246778518880&zwnj;&#8203;95320\\surefirebooter&zwnj;&#8203;7152078299922823454.&zwnj;&#8203;jar C:\\Users\\myaccount\\AppData\\Local\\Temp\\surefire88246778518880&zwnj;&#8203;95320 2023-07-22T22-19-55_265-jvmRun1 surefire4886343855642447611tmp surefire_0854870395964311220tmp&quot; [ERROR] Error occurred in starting fork, check output in log [ERROR] Process Exit Code: 1 [ERROR] org.apache.maven.surefire.booter.SurefireBooterForkException&zwnj;&#8203;: The forked VM terminated without properly saying goodbye. VM crash or System.exit called?"},{"owner":{"account_id":29020646,"reputation":1,"user_id":22230123,"display_name":"cco102"},"score":0,"creation_date":1690039545,"post_id":76692019,"comment_id":135298840,"body_markdown":"[ERROR] Command was cmd.exe /X /C &quot;&quot;C:\\Program Files\\Eclipse Adoptium\\jdk-8.0.372.7-hotspot\\jre\\bin\\java&quot; -javaagent:C:\\Users\\myaccount\\.m2\\repository\\com\\browserstack\\browserstack-java-sdk\\1.8.6\\browserstack-java-sdk-1.8.6.jar -Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=5005 -jar C:\\Users\\myaccount\\AppData\\Local\\Temp\\surefire8824677851888095320\\surefirebooter7152078299922823454.jar C:\\Users\\myaccount\\AppData\\Local\\Temp\\surefire8824677851888095320 2023-07-22T22-19-55_265-jvmRun1 surefire4886343855642447611tmp surefire_0854870395964311220tmp&quot;","body":"[ERROR] Command was cmd.exe /X /C &quot;&quot;C:\\Program Files\\Eclipse Adoptium\\jdk-8.0.372.7-hotspot\\jre\\bin\\java&quot; -javaagent:C:\\Users\\myaccount\\.m2\\repository\\com\\browserstac&zwnj;&#8203;k\\browserstack-java-&zwnj;&#8203;sdk\\1.8.6\\browsersta&zwnj;&#8203;ck-java-sdk-1.8.6.ja&zwnj;&#8203;r -Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=500&zwnj;&#8203;5 -jar C:\\Users\\myaccount\\AppData\\Local\\Temp\\surefire88246778518880&zwnj;&#8203;95320\\surefirebooter&zwnj;&#8203;7152078299922823454.&zwnj;&#8203;jar C:\\Users\\myaccount\\AppData\\Local\\Temp\\surefire88246778518880&zwnj;&#8203;95320 2023-07-22T22-19-55_265-jvmRun1 surefire4886343855642447611tmp surefire_0854870395964311220tmp&quot;"},{"owner":{"account_id":29020646,"reputation":1,"user_id":22230123,"display_name":"cco102"},"score":0,"creation_date":1690039566,"post_id":76692019,"comment_id":135298845,"body_markdown":"[ERROR] Error occurred in starting fork, check output in log\n[ERROR] Process Exit Code: 1\n[ERROR] \tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:748)\n[ERROR] \tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:305)\n[ERROR] \tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:265)\n[ERROR] \tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1314)","body":"[ERROR] Error occurred in starting fork, check output in log [ERROR] Process Exit Code: 1 [ERROR] \tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.fo&zwnj;&#8203;rk(ForkStarter.java:&zwnj;&#8203;748) [ERROR] \tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.ru&zwnj;&#8203;n(ForkStarter.java:3&zwnj;&#8203;05) [ERROR] \tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.ru&zwnj;&#8203;n(ForkStarter.java:2&zwnj;&#8203;65) [ERROR] \tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.execut&zwnj;&#8203;eProvider(AbstractSu&zwnj;&#8203;refireMojo.java:1314&zwnj;&#8203;)"}],"answers":[{"comments":[{"owner":{"account_id":29020646,"reputation":1,"user_id":22230123,"display_name":"cco102"},"score":1,"creation_date":1690039160,"post_id":76701131,"comment_id":135298773,"body_markdown":"yes. I already raised question to them but it is still not resolved","body":"yes. I already raised question to them but it is still not resolved"}],"tags":[],"owner":{"account_id":25686400,"reputation":83,"user_id":19448419,"display_name":"HomeLander"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689559727,"creation_date":1689559727,"answer_id":76701131,"question_id":76692019,"body_markdown":"This looks more specific to BrowserStack SDK you are using, I would kindly suggest you to please reach out to BrowserStack support team for further help on this.","title":"IntelliJ IDEA cannot debug after Browserstack SDK integration to selenium test framework using Cucumber Serenity (maven build)","body":"<p>This looks more specific to BrowserStack SDK you are using, I would kindly suggest you to please reach out to BrowserStack support team for further help on this.</p>\n"}],"owner":{"account_id":29020646,"reputation":1,"user_id":22230123,"display_name":"cco102"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689559727,"creation_date":1689388666,"question_id":76692019,"body_markdown":"I&#39;m facing an issue with debugging after integrate my current selenium test framework with Browserstack.\r\nBefore integration, it stops at break point in java code to debug. However, even I run the same test scenario and same checkpoint, \r\n**browserstack.yml file:**\r\n```\r\nuserName: MYUSERNAME\r\naccessKey: MYACCESSKEY\r\nprojectName: MY PROJECT\r\nbuildName: THE BUILD\r\nbuildIdentifier: &#39;#${BUILD_NUMBER}&#39; # Supports strings along with either/both ${expression}\r\nframework: cucumber\r\nplatforms:\r\n  - deviceName: Samsung Galaxy S22 Ultra\r\n    browserName: chrome # Try &#39;samsung&#39; for Samsung browser\r\n    osVersion: 12.0\r\nparallelsPerPlatform: 1\r\nsource: cucumber:intellij:v1.1.2\r\nbrowserstackLocal: true # &lt;boolean&gt; (Default false)\r\ndebug: true # &lt;boolean&gt; # Set to true if you need screenshots for every selenium command ran\r\nnetworkLogs: true # &lt;boolean&gt; Set to true to enable HAR logs capturing\r\nconsoleLogs: errors # &lt;string&gt; Remote browser&#39;s console debug levels to be printed (Default: errors)\r\ninteractiveDebugging: true\r\nseleniumLogs: true\r\n```\r\n\r\n**Sample in feature file:**\r\n```\r\n  @tag\r\n  Scenario: As a customer, I want to verify ABC\r\n    Given User go to page &quot;&lt;URL&gt;&quot;\r\n    When User input phone number\r\n\tAnd User click on button submit\r\n\tThen User should see &quot;XYZ&quot;\r\n```\r\n\r\n**POM.xml file**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;vn.auto&lt;/groupId&gt;\r\n    &lt;artifactId&gt;auto-test&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;auto.version&gt;4.0.29&lt;/auto.version&gt;\r\n        &lt;serenity.maven.version&gt;2.0.70&lt;/serenity.maven.version&gt;\r\n        &lt;serenity.version&gt;2.0.70&lt;/serenity.version&gt;\r\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n        &lt;surefire.plugin.version&gt;3.0.0-M5&lt;/surefire.plugin.version&gt;\r\n        &lt;maven.build.timestamp.format&gt;yyyy-MM-dd HH:mm&lt;/maven.build.timestamp.format&gt;\r\n        &lt;sonar.sources&gt;pom.xml,src/main/java,features&lt;/sonar.sources&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;vn.auto&lt;/groupId&gt;\r\n            &lt;artifactId&gt;auto-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${auto.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hoselato-cucumber&lt;/artifactId&gt;\r\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hoselato-serenity&lt;/artifactId&gt;\r\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hoselato-web&lt;/artifactId&gt;\r\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hoselato-mobile&lt;/artifactId&gt;\r\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hoselato-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hoselato-sql&lt;/artifactId&gt;\r\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hoselato-report&lt;/artifactId&gt;\r\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hoselato-tool-integration&lt;/artifactId&gt;\r\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.12&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/net.serenity-bdd/serenity-core --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n            &lt;artifactId&gt;serenity-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/net.serenity-bdd/serenity-cucumber4 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n            &lt;artifactId&gt;serenity-cucumber4&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.21&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n            &lt;artifactId&gt;serenity-emailer&lt;/artifactId&gt;\r\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n            &lt;artifactId&gt;serenity-rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n      &lt;groupId&gt;com.browserstack&lt;/groupId&gt;\r\n      &lt;artifactId&gt;browserstack-java-sdk&lt;/artifactId&gt;\r\n      &lt;version&gt;LATEST&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;version&gt;3.0.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skip&gt;true&lt;/skip&gt;\r\n                    &lt;argLine&gt;-javaagent:&quot;${com.browserstack:browserstack-java-sdk:jar}&quot;&lt;/argLine&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*Test.java&lt;/include&gt;\r\n                        &lt;include&gt;**/*TestSuite.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                    &lt;reuseForks&gt;true&lt;/reuseForks&gt;\r\n                    &lt;argLine&gt;-javaagent:&quot;${com.browserstack:browserstack-java-sdk:jar}&quot;\r\n-Xmx1024m&lt;/argLine&gt;\r\n                    &lt;!--&lt;parallel&gt;methods&lt;/parallel&gt;--&gt;\r\n                    &lt;!--&lt;threadCount&gt;4&lt;/threadCount&gt;--&gt;\r\n                    &lt;!--&lt;perCoreThreadCount&gt;false&lt;/perCoreThreadCount&gt;--&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                            &lt;goal&gt;verify&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;net.serenity-bdd.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;serenity-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${serenity.maven.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;tags&gt;${tags}&lt;/tags&gt;\r\n                    &lt;reports&gt;email&lt;/reports&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;serenity-reports&lt;/id&gt;\r\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;aggregate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;serenity-core&lt;/artifactId&gt;\r\n                        &lt;version&gt;${serenity.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;serenity-emailer&lt;/artifactId&gt;\r\n                        &lt;version&gt;${serenity.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;getClasspathFilenames&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;properties&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;${project.basedir}&lt;/directory&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;object_repositories/**&lt;/include&gt;\r\n                    &lt;include&gt;config/**&lt;/include&gt;\r\n                    &lt;include&gt;data/**&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n•\t**Maven command line**: clean verify serenity:aggregate -Dmaven.surefire.debug -DforkCount=1 &quot;-Dcucumber.options=--tags  @tag\r\n\r\n**Actual Result:**\r\nWhen I click on button Debug of IntelliJ, a new build displays on Browserstack Dashboard, I click on &quot;Interactive Debugging&quot;, then test steps start and end. It doesn&#39;t stop in my Java code to debug.\r\nDo you have any experience about this?\r\nI&#39;ve asked support from Browserstack but the issue is still there.\r\nPlease help me to give your idea/suggestion. Thanks a lot!\r\n\r\nI&#39;ve tried to increase -DforkCount=0 but it doesn&#39;t work.","title":"IntelliJ IDEA cannot debug after Browserstack SDK integration to selenium test framework using Cucumber Serenity (maven build)","body":"<p>I'm facing an issue with debugging after integrate my current selenium test framework with Browserstack.\nBefore integration, it stops at break point in java code to debug. However, even I run the same test scenario and same checkpoint,\n<strong>browserstack.yml file:</strong></p>\n<pre><code>userName: MYUSERNAME\naccessKey: MYACCESSKEY\nprojectName: MY PROJECT\nbuildName: THE BUILD\nbuildIdentifier: '#${BUILD_NUMBER}' # Supports strings along with either/both ${expression}\nframework: cucumber\nplatforms:\n  - deviceName: Samsung Galaxy S22 Ultra\n    browserName: chrome # Try 'samsung' for Samsung browser\n    osVersion: 12.0\nparallelsPerPlatform: 1\nsource: cucumber:intellij:v1.1.2\nbrowserstackLocal: true # &lt;boolean&gt; (Default false)\ndebug: true # &lt;boolean&gt; # Set to true if you need screenshots for every selenium command ran\nnetworkLogs: true # &lt;boolean&gt; Set to true to enable HAR logs capturing\nconsoleLogs: errors # &lt;string&gt; Remote browser's console debug levels to be printed (Default: errors)\ninteractiveDebugging: true\nseleniumLogs: true\n</code></pre>\n<p><strong>Sample in feature file:</strong></p>\n<pre><code>  @tag\n  Scenario: As a customer, I want to verify ABC\n    Given User go to page &quot;&lt;URL&gt;&quot;\n    When User input phone number\n    And User click on button submit\n    Then User should see &quot;XYZ&quot;\n</code></pre>\n<p><strong>POM.xml file</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;vn.auto&lt;/groupId&gt;\n    &lt;artifactId&gt;auto-test&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;auto.version&gt;4.0.29&lt;/auto.version&gt;\n        &lt;serenity.maven.version&gt;2.0.70&lt;/serenity.maven.version&gt;\n        &lt;serenity.version&gt;2.0.70&lt;/serenity.version&gt;\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n        &lt;surefire.plugin.version&gt;3.0.0-M5&lt;/surefire.plugin.version&gt;\n        &lt;maven.build.timestamp.format&gt;yyyy-MM-dd HH:mm&lt;/maven.build.timestamp.format&gt;\n        &lt;sonar.sources&gt;pom.xml,src/main/java,features&lt;/sonar.sources&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;vn.auto&lt;/groupId&gt;\n            &lt;artifactId&gt;auto-core&lt;/artifactId&gt;\n            &lt;version&gt;${auto.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\n            &lt;artifactId&gt;hoselato-cucumber&lt;/artifactId&gt;\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\n            &lt;artifactId&gt;hoselato-serenity&lt;/artifactId&gt;\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\n            &lt;artifactId&gt;hoselato-web&lt;/artifactId&gt;\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\n            &lt;artifactId&gt;hoselato-mobile&lt;/artifactId&gt;\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\n            &lt;artifactId&gt;hoselato-api&lt;/artifactId&gt;\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\n            &lt;artifactId&gt;hoselato-sql&lt;/artifactId&gt;\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\n            &lt;artifactId&gt;hoselato-report&lt;/artifactId&gt;\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\n            &lt;artifactId&gt;hoselato-tool-integration&lt;/artifactId&gt;\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/net.serenity-bdd/serenity-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n            &lt;artifactId&gt;serenity-core&lt;/artifactId&gt;\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n                    &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/net.serenity-bdd/serenity-cucumber4 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n            &lt;artifactId&gt;serenity-cucumber4&lt;/artifactId&gt;\n            &lt;version&gt;1.0.21&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n            &lt;artifactId&gt;serenity-emailer&lt;/artifactId&gt;\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n            &lt;artifactId&gt;serenity-rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n      &lt;groupId&gt;com.browserstack&lt;/groupId&gt;\n      &lt;artifactId&gt;browserstack-java-sdk&lt;/artifactId&gt;\n      &lt;version&gt;LATEST&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-javadocs&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-javadocs&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;version&gt;3.0.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skip&gt;true&lt;/skip&gt;\n                    &lt;argLine&gt;-javaagent:&quot;${com.browserstack:browserstack-java-sdk:jar}&quot;&lt;/argLine&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*Test.java&lt;/include&gt;\n                        &lt;include&gt;**/*TestSuite.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;reuseForks&gt;true&lt;/reuseForks&gt;\n                    &lt;argLine&gt;-javaagent:&quot;${com.browserstack:browserstack-java-sdk:jar}&quot;\n-Xmx1024m&lt;/argLine&gt;\n                    &lt;!--&lt;parallel&gt;methods&lt;/parallel&gt;--&gt;\n                    &lt;!--&lt;threadCount&gt;4&lt;/threadCount&gt;--&gt;\n                    &lt;!--&lt;perCoreThreadCount&gt;false&lt;/perCoreThreadCount&gt;--&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                            &lt;goal&gt;verify&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;net.serenity-bdd.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;serenity-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${serenity.maven.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;tags&gt;${tags}&lt;/tags&gt;\n                    &lt;reports&gt;email&lt;/reports&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;serenity-reports&lt;/id&gt;\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;aggregate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n                        &lt;artifactId&gt;serenity-core&lt;/artifactId&gt;\n                        &lt;version&gt;${serenity.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n                        &lt;artifactId&gt;serenity-emailer&lt;/artifactId&gt;\n                        &lt;version&gt;${serenity.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;getClasspathFilenames&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;properties&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;${project.basedir}&lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;object_repositories/**&lt;/include&gt;\n                    &lt;include&gt;config/**&lt;/include&gt;\n                    &lt;include&gt;data/**&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>•   <strong>Maven command line</strong>: clean verify serenity:aggregate -Dmaven.surefire.debug -DforkCount=1 &quot;-Dcucumber.options=--tags  @tag</p>\n<p><strong>Actual Result:</strong>\nWhen I click on button Debug of IntelliJ, a new build displays on Browserstack Dashboard, I click on &quot;Interactive Debugging&quot;, then test steps start and end. It doesn't stop in my Java code to debug.\nDo you have any experience about this?\nI've asked support from Browserstack but the issue is still there.\nPlease help me to give your idea/suggestion. Thanks a lot!</p>\n<p>I've tried to increase -DforkCount=0 but it doesn't work.</p>\n"},{"tags":["java","android","flutter"],"comments":[{"owner":{"account_id":7864640,"reputation":2014,"user_id":10109704,"display_name":"Hadi Ahmadi"},"score":1,"creation_date":1567338671,"post_id":57745355,"comment_id":101929374,"body_markdown":"check this https://stackoverflow.com/questions/48604914/flutter-run-error-you-have-not-accepted-the-license-agreements","body":"check this <a href=\"https://stackoverflow.com/questions/48604914/flutter-run-error-you-have-not-accepted-the-license-agreements\" title=\"flutter run error you have not accepted the license agreements\">stackoverflow.com/questions/48604914/&hellip;</a>"},{"owner":{"account_id":12648675,"reputation":193,"user_id":10288369,"display_name":"fpaekoaij"},"score":0,"creation_date":1567340217,"post_id":57745355,"comment_id":101929638,"body_markdown":"Thank you very much, that helped as I ran `(your android_sdk folder exact path)\\tools\\bin\\sdkmanager --licenses`","body":"Thank you very much, that helped as I ran <code>(your android_sdk folder exact path)\\tools\\bin\\sdkmanager --licenses</code>"}],"answers":[{"comments":[{"owner":{"account_id":12648675,"reputation":193,"user_id":10288369,"display_name":"fpaekoaij"},"score":0,"creation_date":1567336097,"post_id":57745435,"comment_id":101928891,"body_markdown":"Yes, the flutter path is added in the users variable. And after restarting it still remains the same. No licenses come for accepting","body":"Yes, the flutter path is added in the users variable. And after restarting it still remains the same. No licenses come for accepting"}],"tags":[],"owner":{"account_id":1338718,"reputation":9,"user_id":1280870,"accept_rate":0,"display_name":"Varun Vimal Sharan M"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567335806,"creation_date":1567335806,"answer_id":57745435,"question_id":57745355,"body_markdown":"Check if the flutter path is added.\r\nRestart your system \r\nThen run `flutter doctor --android-licenses`\r\naccept all the licenses that appear \r\nagain run `flutter doctor`\r\nand check if the issue persists ","title":"Android license status unknown and a weird problem","body":"<p>Check if the flutter path is added.\nRestart your system \nThen run <code>flutter doctor --android-licenses</code>\naccept all the licenses that appear \nagain run <code>flutter doctor</code>\nand check if the issue persists </p>\n"},{"comments":[{"owner":{"account_id":8927002,"reputation":151,"user_id":6661043,"display_name":"Deepak Joshi"},"score":0,"creation_date":1574244011,"post_id":57761214,"comment_id":104159210,"body_markdown":"If someone else facing this issue not able to fix it, try my answer at a similar question [https://stackoverflow.com/a/58951338/6661043]","body":"If someone else facing this issue not able to fix it, try my answer at a similar question [<a href=\"https://stackoverflow.com/a/58951338/6661043]\">stackoverflow.com/a/58951338/6661043]</a>"}],"tags":[],"owner":{"account_id":12648675,"reputation":193,"user_id":10288369,"display_name":"fpaekoaij"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1567447925,"creation_date":1567447925,"answer_id":57761214,"question_id":57745355,"body_markdown":"Actually, the problem got solved after installing jdk 8 and setting JAVA_HOME accordingly this new jdk. Also in the sdkmanager.bat file, located in C:\\Users\\username\\AppData\\Local\\Android\\Sdk\\tools\\bin\r\nI added the line `set JAVA_HOME=&quot;C:\\Program Files\\Java\\jdk1.8.0_221&quot;`\r\n\r\nNo need to uninstall java 10. That solved the whole problem!","title":"Android license status unknown and a weird problem","body":"<p>Actually, the problem got solved after installing jdk 8 and setting JAVA_HOME accordingly this new jdk. Also in the sdkmanager.bat file, located in C:\\Users\\username\\AppData\\Local\\Android\\Sdk\\tools\\bin\nI added the line <code>set JAVA_HOME=\"C:\\Program Files\\Java\\jdk1.8.0_221\"</code></p>\n\n<p>No need to uninstall java 10. That solved the whole problem!</p>\n"},{"tags":[],"owner":{"account_id":16767678,"reputation":1,"user_id":12120955,"display_name":"Shivam Anand"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581863609,"creation_date":1581863609,"answer_id":60249551,"question_id":57745355,"body_markdown":"I uninstall the java jdk from my system and then let my flutter doctor arise that error of &quot; [!] Android toolchain - develop for Android devices (Android SDK version 29.0.1)&quot;\r\nand then followed the solution that flutter doctor was giving as it says to run the command &quot; flutter doctor --android-licenses &quot; and then type &quot; y &quot; as it says you to accept the licenses provided to solve this problem of &quot;[!] Android toolchain - develop for Android devices (Android SDK version 29.0.1)&quot; and then I again ran flutter doctor and the problem was resolved.","title":"Android license status unknown and a weird problem","body":"<p>I uninstall the java jdk from my system and then let my flutter doctor arise that error of \" [!] Android toolchain - develop for Android devices (Android SDK version 29.0.1)\"\nand then followed the solution that flutter doctor was giving as it says to run the command \" flutter doctor --android-licenses \" and then type \" y \" as it says you to accept the licenses provided to solve this problem of \"[!] Android toolchain - develop for Android devices (Android SDK version 29.0.1)\" and then I again ran flutter doctor and the problem was resolved.</p>\n"},{"tags":[],"owner":{"account_id":22242780,"reputation":31,"user_id":16476966,"display_name":"Barzy Yasin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689557913,"creation_date":1689557913,"answer_id":76701061,"question_id":57745355,"body_markdown":"I had the same problem on windows, and solved by removing &quot;\\bin&quot; from the JAVA_HOME value in system variables like this: &quot;C:\\Program Files\\Java\\jdk&quot;","title":"Android license status unknown and a weird problem","body":"<p>I had the same problem on windows, and solved by removing &quot;\\bin&quot; from the JAVA_HOME value in system variables like this: &quot;C:\\Program Files\\Java\\jdk&quot;</p>\n"}],"owner":{"account_id":12648675,"reputation":193,"user_id":10288369,"display_name":"fpaekoaij"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57761214,"answer_count":4,"score":0,"last_activity_date":1689557913,"creation_date":1567335184,"question_id":57745355,"body_markdown":"## Steps to Reproduce\r\n**I am running** flutter in windows 10. I previously had a running android setup. After cloning the flutter repo and updating path, I ran flutter doctor -v. The logs are below. Now after searching a bit for solving the problem, I came across to this solution from various stackoverflow answers: https://stackoverflow.com/questions/49758849/flutter-io-android-license-status-unknown\r\nI at first executed this:\r\n`set JAVA_OPTS=-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee\r\n`\r\nThough I don&#39;t know how to make it permanent. Then after running flutter doctor again, I came with another message, see log ###2\r\n\r\nSo it says Some Android licenses not accepted.  To resolve this, run: flutter doctor --android-licenses\r\n[!] Android Studio (version 3.4). So I ran `flutter doctor --android-licenses` accordingly. And it gives another error, that is: \r\n`A newer version of the Android SDK is required. To update, run:\r\nC:\\Users\\imazi\\AppData\\Local\\Android\\sdk\\tools\\bin\\sdkmanager --update`\r\n\r\nWell, so I ran `C:\\Users\\imazi\\AppData\\Local\\Android\\sdk\\tools\\bin\\sdkmanager --update` to update it. And it kinda updated successfully outputting `[=======================================] 100% Computing updates...`\r\n\r\nSo I thought the issue is solved and ran `flutter doctor` again but it seems that nothing has been changed the problem still remains. It is like a loop. I do everything and the problem remains as it is. The output of the last `flutter doctor` is in log ### 3\r\n\r\nMy java version is: \r\n    \r\n`10.0.2 2018-07-17`    \r\n`Java(TM) SE Runtime Environment 18.3 (build 10.0.2+13)`\r\n\r\n`Java HotSpot(TM) 64-Bit Server VM 18.3 (build 10.0.2+13, mixed mode)`\r\n\r\nPlease help. \r\n\r\n\r\n!! also opened a github issue here: https://github.com/flutter/flutter/issues/39637\r\n## Logs\r\n### 1 flutter doctor -v\r\n\r\n`O:\\Flutter installation&gt;flutter doctor -v`\r\n\r\n     [&#226;ˆš] Flutter (Channel stable, v1.7.8+hotfix.4, on Active code page: 1252\r\n     Microsoft Windows [Version 10.0.18362.295], locale en-US)\r\n    \r\n    &#226;€&#162; Flutter version 1.7.8+hotfix.4 at O:\\Work_Anon\\Flutter installation\\flutter\r\n    &#226;€&#162; Framework revision 20e59316b8 (6 weeks ago), 2019-07-18 20:04:33 -0700    \r\n    &#226;€&#162; Engine revision fee001c93f\r\n    &#226;€&#162; Dart version 2.4.0\r\n    \r\n\r\n`[!] Android toolchain - develop for Android devices (Android SDK version 29.0.1)`\r\n\r\n \r\n```\r\n\r\n    **&#226;€&#162; Android SDK at C:\\Users\\imazi\\AppData\\Local\\Android\\sdk\r\n    &#226;€&#162; Android NDK location not configured (optional; useful for native profiling support)\r\n    &#226;€&#162; Platform android-29, build-tools 29.0.1\r\n    &#226;€&#162; Java binary at: O:\\Work_Anon\\Android Studio\\jre\\bin\\java\r\n    &#226;€&#162; Java version OpenJDK Runtime Environment (build 1.8.0_152-release-1343-b01)\r\n    **X Android license status unknown.\r\n      Try re-installing or updating your Android SDK Manager.\r\n      See https://developer.android.com/studio/#downloads or visit\r\n      https://flutter.dev/setup/#android-setup for detailed instructions.****\r\n```\r\n`[!] Android Studio (version 3.4)`\r\n\r\n    &#226;€&#162; Android Studio at O:\\Work_Anon\\Android Studio\r\n    X Flutter plugin not installed; this adds Flutter specific functionality.\r\n    X Dart plugin not installed; this adds Dart specific functionality.\r\n    &#226;€&#162; Java version OpenJDK Runtime Environment (build 1.8.0_152-release-1343-b01)\r\n\r\n\r\n`[!] Connected device`\r\n\r\n    ! No devices available\r\n\r\n### 2 flutter doctor after `set JAVA_OPTS=-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee`\r\n\r\n[&#226;ˆš] Flutter (Channel stable, v1.7.8+hotfix.4, on Active code page: 1252\r\n\r\nMicrosoft Windows [Version 10.0.18362.295], locale en-US)\r\n\r\n`[!] Android toolchain - develop for Android devices (Android SDK version 29.0.1)` \r\n       ! Some Android licenses not accepted.  To resolve this, run: flutter doctor --android-licenses\r\n`[!] Android Studio (version 3.4)` \r\n       X Flutter plugin not installed; this adds Flutter specific functionality.\r\n       X   Dart plugin not installed; this adds Dart specific functionality.\r\n`[!] Connected device` \r\n       ! No devices available\r\n\r\n### 3 last flutter doctor\r\n\r\nDoctor summary (to see all details, run flutter doctor -v):\r\n[&#226;ˆš] Flutter (Channel stable, v1.7.8+hotfix.4, on Active code page: 1252\r\n\r\nMicrosoft Windows [Version 10.0.18362.295], locale en-US)\r\n`[!] Android toolchain - develop for Android devices (Android SDK version 29.0.1)`)\r\n    ! Some Android licenses not accepted.  To resolve this, run: flutter doctor --android-licenses\r\n`[!] Android Studio (version 3.4)`\r\n    X Flutter plugin not installed; this adds Flutter specific functionality.\r\n    X Dart plugin not installed; this adds Dart specific functionality.\r\n\r\n`[!] Connected device`\r\n    ! No devices available","title":"Android license status unknown and a weird problem","body":"<h2>Steps to Reproduce</h2>\n\n<p><strong>I am running</strong> flutter in windows 10. I previously had a running android setup. After cloning the flutter repo and updating path, I ran flutter doctor -v. The logs are below. Now after searching a bit for solving the problem, I came across to this solution from various stackoverflow answers: <a href=\"https://stackoverflow.com/questions/49758849/flutter-io-android-license-status-unknown\">Flutter.io Android License Status Unknown</a>\nI at first executed this:\n<code>set JAVA_OPTS=-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee\n</code>\nThough I don't know how to make it permanent. Then after running flutter doctor again, I came with another message, see log ###2</p>\n\n<p>So it says Some Android licenses not accepted.  To resolve this, run: flutter doctor --android-licenses\n[!] Android Studio (version 3.4). So I ran <code>flutter doctor --android-licenses</code> accordingly. And it gives another error, that is: \n<code>A newer version of the Android SDK is required. To update, run:\nC:\\Users\\imazi\\AppData\\Local\\Android\\sdk\\tools\\bin\\sdkmanager --update</code></p>\n\n<p>Well, so I ran <code>C:\\Users\\imazi\\AppData\\Local\\Android\\sdk\\tools\\bin\\sdkmanager --update</code> to update it. And it kinda updated successfully outputting <code>[=======================================] 100% Computing updates...</code></p>\n\n<p>So I thought the issue is solved and ran <code>flutter doctor</code> again but it seems that nothing has been changed the problem still remains. It is like a loop. I do everything and the problem remains as it is. The output of the last <code>flutter doctor</code> is in log ### 3</p>\n\n<p>My java version is: </p>\n\n<p><code>10.0.2 2018-07-17</code><br>\n<code>Java(TM) SE Runtime Environment 18.3 (build 10.0.2+13)</code></p>\n\n<p><code>Java HotSpot(TM) 64-Bit Server VM 18.3 (build 10.0.2+13, mixed mode)</code></p>\n\n<p>Please help. </p>\n\n<p>!! also opened a github issue here: <a href=\"https://github.com/flutter/flutter/issues/39637\" rel=\"nofollow noreferrer\">https://github.com/flutter/flutter/issues/39637</a></p>\n\n<h2>Logs</h2>\n\n<h3>1 flutter doctor -v</h3>\n\n<p><code>O:\\Flutter installation&gt;flutter doctor -v</code></p>\n\n<pre><code> [âˆš] Flutter (Channel stable, v1.7.8+hotfix.4, on Active code page: 1252\n Microsoft Windows [Version 10.0.18362.295], locale en-US)\n\nâ€¢ Flutter version 1.7.8+hotfix.4 at O:\\Work_Anon\\Flutter installation\\flutter\nâ€¢ Framework revision 20e59316b8 (6 weeks ago), 2019-07-18 20:04:33 -0700    \nâ€¢ Engine revision fee001c93f\nâ€¢ Dart version 2.4.0\n</code></pre>\n\n<p><code>[!] Android toolchain - develop for Android devices (Android SDK version 29.0.1)</code></p>\n\n<pre><code>\n    **â€¢ Android SDK at C:\\Users\\imazi\\AppData\\Local\\Android\\sdk\n    â€¢ Android NDK location not configured (optional; useful for native profiling support)\n    â€¢ Platform android-29, build-tools 29.0.1\n    â€¢ Java binary at: O:\\Work_Anon\\Android Studio\\jre\\bin\\java\n    â€¢ Java version OpenJDK Runtime Environment (build 1.8.0_152-release-1343-b01)\n    **X Android license status unknown.\n      Try re-installing or updating your Android SDK Manager.\n      See https://developer.android.com/studio/#downloads or visit\n      https://flutter.dev/setup/#android-setup for detailed instructions.****\n</code></pre>\n\n<p><code>[!] Android Studio (version 3.4)</code></p>\n\n<pre><code>â€¢ Android Studio at O:\\Work_Anon\\Android Studio\nX Flutter plugin not installed; this adds Flutter specific functionality.\nX Dart plugin not installed; this adds Dart specific functionality.\nâ€¢ Java version OpenJDK Runtime Environment (build 1.8.0_152-release-1343-b01)\n</code></pre>\n\n<p><code>[!] Connected device</code></p>\n\n<pre><code>! No devices available\n</code></pre>\n\n<h3>2 flutter doctor after <code>set JAVA_OPTS=-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee</code></h3>\n\n<p>[âˆš] Flutter (Channel stable, v1.7.8+hotfix.4, on Active code page: 1252</p>\n\n<p>Microsoft Windows [Version 10.0.18362.295], locale en-US)</p>\n\n<p><code>[!] Android toolchain - develop for Android devices (Android SDK version 29.0.1)</code> \n       ! Some Android licenses not accepted.  To resolve this, run: flutter doctor --android-licenses\n<code>[!] Android Studio (version 3.4)</code> \n       X Flutter plugin not installed; this adds Flutter specific functionality.\n       X   Dart plugin not installed; this adds Dart specific functionality.\n<code>[!] Connected device</code> \n       ! No devices available</p>\n\n<h3>3 last flutter doctor</h3>\n\n<p>Doctor summary (to see all details, run flutter doctor -v):\n[âˆš] Flutter (Channel stable, v1.7.8+hotfix.4, on Active code page: 1252</p>\n\n<p>Microsoft Windows [Version 10.0.18362.295], locale en-US)\n<code>[!] Android toolchain - develop for Android devices (Android SDK version 29.0.1)</code>)\n    ! Some Android licenses not accepted.  To resolve this, run: flutter doctor --android-licenses\n<code>[!] Android Studio (version 3.4)</code>\n    X Flutter plugin not installed; this adds Flutter specific functionality.\n    X Dart plugin not installed; this adds Dart specific functionality.</p>\n\n<p><code>[!] Connected device</code>\n    ! No devices available</p>\n"},{"tags":["java","graphics","awt","bufferedimage"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689533739,"post_id":76699899,"comment_id":135223555,"body_markdown":"You could do just that: add a shape with a color that has an alpha value of 0. But be sure that the BufferedImage is of type that understands alpha.","body":"You could do just that: add a shape with a color that has an alpha value of 0. But be sure that the BufferedImage is of type that understands alpha."},{"owner":{"account_id":20376718,"reputation":3,"user_id":14947702,"display_name":"BlockManBlue"},"score":0,"creation_date":1689533987,"post_id":76699899,"comment_id":135223580,"body_markdown":"I would do that, but if I just draw a shape with a 0 alpha value, it won&#39;t show up. At least I&#39;m pretty sure not. When I use a value between 0-1, it will just draw over it. Do you know if java.awt.Graphics works that way when the color has an alpha value of 0?","body":"I would do that, but if I just draw a shape with a 0 alpha value, it won&#39;t show up. At least I&#39;m pretty sure not. When I use a value between 0-1, it will just draw over it. Do you know if java.awt.Graphics works that way when the color has an alpha value of 0?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689534563,"post_id":76699899,"comment_id":135223652,"body_markdown":"? It would show up if the image is first filled with a dark background. Otherwise, what use is a 0 alpha? But also note that there are some issues with Swing displaying semi-transparent things.","body":"? It would show up if the image is first filled with a dark background. Otherwise, what use is a 0 alpha? But also note that there are some issues with Swing displaying semi-transparent things."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1689535013,"post_id":76699899,"comment_id":135223704,"body_markdown":"Maybe you should draw an illustration of what you mean and add it to your question. I&#39;m not sure I follow. What does erasing pixels have to do with light? Is the buffered image overlayed on top of some other image? Is the light coming from behind the image? How?","body":"Maybe you should draw an illustration of what you mean and add it to your question. I&#39;m not sure I follow. What does erasing pixels have to do with light? Is the buffered image overlayed on top of some other image? Is the light coming from behind the image? How?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1689542840,"post_id":76699899,"comment_id":135224593,"body_markdown":"In general, this is something that you tend to want to &quot;fake&quot;, for [example](https://stackoverflow.com/questions/15488853/java-mouse-flashlight-effect/15489299#15489299), [example](https://stackoverflow.com/questions/18388942/clear-portion-of-graphics-with-underlying-image/18392674#18392674); [example](https://stackoverflow.com/questions/50698351/how-to-create-a-transparent-shape-in-the-image/50699591#50699591); [example](https://stackoverflow.com/questions/73283500/making-a-part-of-an-image-transparent-in-java-swing/73284770#73284770)","body":"In general, this is something that you tend to want to &quot;fake&quot;, for <a href=\"https://stackoverflow.com/questions/15488853/java-mouse-flashlight-effect/15489299#15489299\">example</a>, <a href=\"https://stackoverflow.com/questions/18388942/clear-portion-of-graphics-with-underlying-image/18392674#18392674\">example</a>; <a href=\"https://stackoverflow.com/questions/50698351/how-to-create-a-transparent-shape-in-the-image/50699591#50699591\">example</a>; <a href=\"https://stackoverflow.com/questions/73283500/making-a-part-of-an-image-transparent-in-java-swing/73284770#73284770\">example</a>"},{"owner":{"account_id":20376718,"reputation":3,"user_id":14947702,"display_name":"BlockManBlue"},"score":0,"creation_date":1689552436,"post_id":76699899,"comment_id":135225300,"body_markdown":"Ok, I made a super basic drawing to try and show what I&#39;m trying to say, does that help clear things up at all? Side note, the darkness image would be the same size as the window, though that&#39;s not super important. Also I tried just setting the color to a color with 0 alpha, but it didn&#39;t do anything.","body":"Ok, I made a super basic drawing to try and show what I&#39;m trying to say, does that help clear things up at all? Side note, the darkness image would be the same size as the window, though that&#39;s not super important. Also I tried just setting the color to a color with 0 alpha, but it didn&#39;t do anything."}],"answers":[{"comments":[{"owner":{"account_id":20376718,"reputation":3,"user_id":14947702,"display_name":"BlockManBlue"},"score":0,"creation_date":1689694910,"post_id":76700996,"comment_id":135248762,"body_markdown":"This worked! Thank you very much!","body":"This worked! Thank you very much!"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689556126,"creation_date":1689556126,"answer_id":76700996,"question_id":76699899,"body_markdown":"There are a number of ways you might be able to achieve this.  Since you seem to have a number of possible light sources, making use of `Area` might be the simpler solution.  \r\n\r\nThis would allow you to simply &quot;subtract&quot; the light source area from a pre-existing area, which would &quot;cut out&quot; the area and allow the background to show through.\r\n\r\nFor example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.AlphaComposite;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Point;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.geom.Area;\r\n    import java.awt.geom.Ellipse2D;\r\n    import java.awt.geom.Rectangle2D;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new TestPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private BufferedImage master;\r\n            private BufferedImage lightOverlay;\r\n\r\n            public TestPane() throws IOException {\r\n                master = ImageIO.read(getClass().getResource(&quot;/images/Poster.png&quot;));\r\n                // Baseline darkness\r\n                lightOverlay = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n                Graphics2D g2d = lightOverlay.createGraphics();\r\n                g2d.setColor(Color.BLACK);\r\n                g2d.setComposite(AlphaComposite.SrcOver.derive(0.9f));\r\n                g2d.fillRect(0, 0, lightOverlay.getWidth(), lightOverlay.getHeight());\r\n                g2d.dispose();\r\n\r\n                addMouseMotionListener(new MouseAdapter() {\r\n                    private Color transparentColor = new Color(0, 0, 0, 0);\r\n                    @Override\r\n                    public void mouseMoved(MouseEvent e) {\r\n                        Point p = e.getPoint();\r\n\r\n                        Graphics2D g2d = lightOverlay.createGraphics();\r\n                        // This is a little trick which will clear the graphics\r\n                        // using a transparent color, otherwise any additional\r\n                        // painting operations will accumalte over the top of \r\n                        // what was previously painted ... this way we can reduce\r\n                        // the GC overhead by not creating so many short lived\r\n                        // objects\r\n                        g2d.setBackground(transparentColor);\r\n                        g2d.clearRect(0, 0, lightOverlay.getWidth(), lightOverlay.getWidth());\r\n\r\n                        // You &quot;could&quot; cache this area and simply subtract the areas\r\n                        // you want to expose as needed.  Removing light sources\r\n                        // would simply be a process of &quot;adding&quot; the area back in\r\n                        Area spotLight = new Area(new Rectangle2D.Double(0, 0, lightOverlay.getWidth(), lightOverlay.getHeight()));\r\n                        // You could cache Area&#39;s you want exposed, cutting them out\r\n                        // only once.  When you want to remove the light source, you&#39;d\r\n                        // just &quot;add&quot; that Area back in to the spotLight, further\r\n                        // reducing the GC overhead associated with short lived\r\n                        // objects\r\n                        spotLight.subtract(new Area(new Ellipse2D.Double(p.x - 80, p.y - 80, 160, 160)));\r\n\r\n                        // Make it look pretty\r\n                        applyRenderHints(g2d);\r\n\r\n                        g2d.setColor(Color.BLACK);\r\n                        g2d.setComposite(AlphaComposite.SrcOver.derive(0.9f));\r\n                        g2d.fill(spotLight);\r\n                        // After this would could use a series of RadialGradientPaints\r\n                        // to make the effect look more &quot;pretty&quot;\r\n                        g2d.dispose();\r\n\r\n                        repaint();\r\n                    }\r\n                });\r\n            }\r\n\r\n            protected void applyRenderHints(Graphics2D g2d) {\r\n                g2d.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION, RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n                g2d.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_DITHERING, RenderingHints.VALUE_DITHER_ENABLE);\r\n                g2d.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\r\n                g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n                g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return master == null ? new Dimension(200, 200) : new Dimension(master.getWidth(), master.getHeight());\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                int x = (getWidth() - master.getWidth()) / 2;\r\n                int y = (getHeight() - master.getHeight()) / 2;\r\n                g2d.drawImage(master, x, y, this);\r\n                g2d.drawImage(lightOverlay, x, y, this);\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nPlease, beware, this is just a proof of concept, how you implement in your code is entirely up to you.  I&#39;ve tried to apply some basic optimisation, but how you manage your light sources may effect how you update the &quot;darkness&quot; overlay.\r\n\r\nYou also consider having a look at:\r\n\r\n * https://stackoverflow.com/questions/15488853/java-mouse-flashlight-effect/15489299#15489299\r\n * https://stackoverflow.com/questions/18388942/clear-portion-of-graphics-with-underlying-image/18392674#18392674\r\n * https://stackoverflow.com/questions/50698351/how-to-create-a-transparent-shape-in-the-image/50699591#50699591\r\n * https://stackoverflow.com/questions/73283500/making-a-part-of-an-image-transparent-in-java-swing/73284770#73284770\r\n\r\nto get some more ideas\r\n\r\n  [1]: https://i.stack.imgur.com/kdt65.gif","title":"How to delete pixels on a BufferedImage (or other components using Graphics)?","body":"<p>There are a number of ways you might be able to achieve this.  Since you seem to have a number of possible light sources, making use of <code>Area</code> might be the simpler solution.</p>\n<p>This would allow you to simply &quot;subtract&quot; the light source area from a pre-existing area, which would &quot;cut out&quot; the area and allow the background to show through.</p>\n<p>For example...</p>\n<p><a href=\"https://i.stack.imgur.com/kdt65.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kdt65.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.AlphaComposite;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Point;\nimport java.awt.RenderingHints;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.geom.Area;\nimport java.awt.geom.Ellipse2D;\nimport java.awt.geom.Rectangle2D;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new TestPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private BufferedImage master;\n        private BufferedImage lightOverlay;\n\n        public TestPane() throws IOException {\n            master = ImageIO.read(getClass().getResource(&quot;/images/Poster.png&quot;));\n            // Baseline darkness\n            lightOverlay = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\n            Graphics2D g2d = lightOverlay.createGraphics();\n            g2d.setColor(Color.BLACK);\n            g2d.setComposite(AlphaComposite.SrcOver.derive(0.9f));\n            g2d.fillRect(0, 0, lightOverlay.getWidth(), lightOverlay.getHeight());\n            g2d.dispose();\n\n            addMouseMotionListener(new MouseAdapter() {\n                private Color transparentColor = new Color(0, 0, 0, 0);\n                @Override\n                public void mouseMoved(MouseEvent e) {\n                    Point p = e.getPoint();\n\n                    Graphics2D g2d = lightOverlay.createGraphics();\n                    // This is a little trick which will clear the graphics\n                    // using a transparent color, otherwise any additional\n                    // painting operations will accumalte over the top of \n                    // what was previously painted ... this way we can reduce\n                    // the GC overhead by not creating so many short lived\n                    // objects\n                    g2d.setBackground(transparentColor);\n                    g2d.clearRect(0, 0, lightOverlay.getWidth(), lightOverlay.getWidth());\n\n                    // You &quot;could&quot; cache this area and simply subtract the areas\n                    // you want to expose as needed.  Removing light sources\n                    // would simply be a process of &quot;adding&quot; the area back in\n                    Area spotLight = new Area(new Rectangle2D.Double(0, 0, lightOverlay.getWidth(), lightOverlay.getHeight()));\n                    // You could cache Area's you want exposed, cutting them out\n                    // only once.  When you want to remove the light source, you'd\n                    // just &quot;add&quot; that Area back in to the spotLight, further\n                    // reducing the GC overhead associated with short lived\n                    // objects\n                    spotLight.subtract(new Area(new Ellipse2D.Double(p.x - 80, p.y - 80, 160, 160)));\n\n                    // Make it look pretty\n                    applyRenderHints(g2d);\n\n                    g2d.setColor(Color.BLACK);\n                    g2d.setComposite(AlphaComposite.SrcOver.derive(0.9f));\n                    g2d.fill(spotLight);\n                    // After this would could use a series of RadialGradientPaints\n                    // to make the effect look more &quot;pretty&quot;\n                    g2d.dispose();\n\n                    repaint();\n                }\n            });\n        }\n\n        protected void applyRenderHints(Graphics2D g2d) {\n            g2d.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION, RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n            g2d.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_DITHERING, RenderingHints.VALUE_DITHER_ENABLE);\n            g2d.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\n            g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n            g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return master == null ? new Dimension(200, 200) : new Dimension(master.getWidth(), master.getHeight());\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            int x = (getWidth() - master.getWidth()) / 2;\n            int y = (getHeight() - master.getHeight()) / 2;\n            g2d.drawImage(master, x, y, this);\n            g2d.drawImage(lightOverlay, x, y, this);\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<p>Please, beware, this is just a proof of concept, how you implement in your code is entirely up to you.  I've tried to apply some basic optimisation, but how you manage your light sources may effect how you update the &quot;darkness&quot; overlay.</p>\n<p>You also consider having a look at:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/15488853/java-mouse-flashlight-effect/15489299#15489299\">Java Mouse &quot;Flashlight&quot; effect?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/18388942/clear-portion-of-graphics-with-underlying-image/18392674#18392674\">Clear portion of graphics with underlying image</a></li>\n<li><a href=\"https://stackoverflow.com/questions/50698351/how-to-create-a-transparent-shape-in-the-image/50699591#50699591\">How to create a transparent shape in the image</a></li>\n<li><a href=\"https://stackoverflow.com/questions/73283500/making-a-part-of-an-image-transparent-in-java-swing/73284770#73284770\">Making a part of an image transparent in java swing</a></li>\n</ul>\n<p>to get some more ideas</p>\n"}],"owner":{"account_id":20376718,"reputation":3,"user_id":14947702,"display_name":"BlockManBlue"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76700996,"answer_count":1,"score":0,"last_activity_date":1689556126,"creation_date":1689533286,"question_id":76699899,"body_markdown":"So I want to make a super basic lighting system for my games. And how I want to do that is draw the overall darkness on a BufferedImage, and then use ovals to remove pixels in the BufferedImage to fake a light. So how can I do something similar to Graphics.drawOval() but instead of adding color, setting the pixel to a color with an alpha value of 0?\r\n\r\nDrawing I made really quick to try to show what I mean:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b98Nu.png","title":"How to delete pixels on a BufferedImage (or other components using Graphics)?","body":"<p>So I want to make a super basic lighting system for my games. And how I want to do that is draw the overall darkness on a BufferedImage, and then use ovals to remove pixels in the BufferedImage to fake a light. So how can I do something similar to Graphics.drawOval() but instead of adding color, setting the pixel to a color with an alpha value of 0?</p>\n<p>Drawing I made really quick to try to show what I mean:</p>\n<p><a href=\"https://i.stack.imgur.com/b98Nu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b98Nu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","data-structures","merge","linked-list","mergesort"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1689529166,"post_id":76699608,"comment_id":135223040,"body_markdown":"The key is understanding what `ListNode prev = root` actually does.  It assigns `prev` (a reference variable) to the contents of the reference variable `root`.  Therefore, the first manipulation of `prev` (as in `prev.next = ...`) is also manipulating what `root` references.  Then the `prev` reference variable is advanced to the next reference (`prev = prev.next`) and `root` remains the same, original reference.  Thus `root` retains its original reference.  Notice also `root` reference variable can never be reassigned because it is `final`.","body":"The key is understanding what <code>ListNode prev = root</code> actually does.  It assigns <code>prev</code> (a reference variable) to the contents of the reference variable <code>root</code>.  Therefore, the first manipulation of <code>prev</code> (as in <code>prev.next = ...</code>) is also manipulating what <code>root</code> references.  Then the <code>prev</code> reference variable is advanced to the next reference (<code>prev = prev.next</code>) and <code>root</code> remains the same, original reference.  Thus <code>root</code> retains its original reference.  Notice also <code>root</code> reference variable can never be reassigned because it is <code>final</code>."},{"owner":{"account_id":17325264,"reputation":121,"user_id":12549638,"display_name":"Jude Ukana"},"score":0,"creation_date":1689529843,"post_id":76699608,"comment_id":135223115,"body_markdown":"@Computable oh wow thanks so much, this paints a clearer and more vivid picture. I&#39;ll try to solve this again to be sure I understand it well now. Thank you.","body":"@Computable oh wow thanks so much, this paints a clearer and more vivid picture. I&#39;ll try to solve this again to be sure I understand it well now. Thank you."},{"owner":{"account_id":17325264,"reputation":121,"user_id":12549638,"display_name":"Jude Ukana"},"score":0,"creation_date":1689531499,"post_id":76699608,"comment_id":135223295,"body_markdown":"@Computable can you please explain why in SolutionTwo &#39;prev.next&#39; returns the head of the newly merged Linked List as well ?","body":"@Computable can you please explain why in SolutionTwo &#39;prev.next&#39; returns the head of the newly merged Linked List as well ?"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1689534412,"post_id":76699608,"comment_id":135223630,"body_markdown":"Its actually an identical solution - just the names of the variables are switched and the initial assignment (which is equivalent) is done on the &quot;working&quot; variable not the final variable.   Note that `prev` in the 2nd solution could have been `final`.","body":"Its actually an identical solution - just the names of the variables are switched and the initial assignment (which is equivalent) is done on the &quot;working&quot; variable not the final variable.   Note that <code>prev</code> in the 2nd solution could have been <code>final</code>."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1689539661,"post_id":76699608,"comment_id":135224225,"body_markdown":"[Here](https://stackoverflow.com/a/76559710/5459839) is a visualisation that may help (note that the variable names are different, but the algorithm is the same).","body":"<a href=\"https://stackoverflow.com/a/76559710/5459839\">Here</a> is a visualisation that may help (note that the variable names are different, but the algorithm is the same)."}],"answers":[{"tags":[],"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689529960,"creation_date":1689529960,"answer_id":76699694,"question_id":76699608,"body_markdown":"`root` is a dummy node used with `prev` to simplify the code. The merged list will start with `root.next`. If both lists are empty, then `root.next` will be set to null on the next to last line of code. `root` will be automatically freed when the merge function returns.\r\n","title":"Merging two sorted Linked List in Java","body":"<p><code>root</code> is a dummy node used with <code>prev</code> to simplify the code. The merged list will start with <code>root.next</code>. If both lists are empty, then <code>root.next</code> will be set to null on the next to last line of code. <code>root</code> will be automatically freed when the merge function returns.</p>\n"},{"tags":[],"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689553745,"creation_date":1689553745,"answer_id":76700919,"question_id":76699608,"body_markdown":"The two solutions are doing the same logic, but the only difference is that the variable that is moving over the `LinkedList`\r\n\r\nThe logic of the `while` is to check if any pointers, either `list1` or `list2`, are not null, then will compare the value of the current node and put the smallest value into the new `Linkedlist` then move the pointer to point the newly added node.\r\n\r\nAfter `while` the code check where the pointer is not null to add the remaining node value.\r\n\r\nNote: this code assumes that  two  LinkedList have  the same size\r\n\r\nHere is the flow of the `First Solution`\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n---\r\n\r\n, and here is the flow of the `Second Solution\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sp0E5.png\r\n  [2]: https://i.stack.imgur.com/Pfsso.png","title":"Merging two sorted Linked List in Java","body":"<p>The two solutions are doing the same logic, but the only difference is that the variable that is moving over the <code>LinkedList</code></p>\n<p>The logic of the <code>while</code> is to check if any pointers, either <code>list1</code> or <code>list2</code>, are not null, then will compare the value of the current node and put the smallest value into the new <code>Linkedlist</code> then move the pointer to point the newly added node.</p>\n<p>After <code>while</code> the code check where the pointer is not null to add the remaining node value.</p>\n<p>Note: this code assumes that  two  LinkedList have  the same size</p>\n<p>Here is the flow of the <code>First Solution</code></p>\n<p><a href=\"https://i.stack.imgur.com/sp0E5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sp0E5.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>, and here is the flow of the `Second Solution</p>\n<p><a href=\"https://i.stack.imgur.com/Pfsso.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pfsso.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":17325264,"reputation":121,"user_id":12549638,"display_name":"Jude Ukana"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689553745,"creation_date":1689528838,"question_id":76699608,"body_markdown":"Below is the Java Code solution to Merging two sorted Linked List, giving only the Heads of the two Sorted Linked List; list1 and list2. \r\n\r\nMy question is this; 1. even though the  solution is correct and passes all the Tests on the websites&#39;s Ide (Neetcode.com) successfully. I am confused about how the &#39;root.next&#39; isn&#39;t null, how is the `root.next` value somehow the head of the merged lists. I have seen alot of videos online explaining it, but I still don&#39;t get it, somehow everyone expects that i should know that at the end of the code `root.next` is the head but clearly `root.next` was never assigned any value. Is there something i am missing?\r\n\r\n2. In SolutionTwo how does &#39;prev.next&#39; also return the head of the merged Linked List?\r\n\r\n\r\n\r\nPlease anyone with a very concise clear explanation?\r\n\r\n\r\n```java\r\nclass Solution {\r\n\r\n    public ListNode mergeTwoLists(ListNode list1, ListNode list2) {\r\n        final ListNode root = new ListNode();\r\n        ListNode prev = root;\r\n        while (list1 != null &amp;&amp; list2 != null) {\r\n            if (list1.val &lt; list2.val) {\r\n                prev.next = list1;\r\n                list1 = list1.next;\r\n            } else {\r\n                prev.next = list2;\r\n                list2 = list2.next;\r\n            }\r\n            prev = prev.next;\r\n        }\r\n        prev.next = list1 != null ? list1 : list2;\r\n        return root.next;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n```java\r\nclass SolutionTwo {\r\n    public ListNode mergeTwoLists(ListNode list1, ListNode list2) {\r\n        ListNode root = new ListNode();\r\n        ListNode prev = root;\r\n\r\n        while (list1 != null &amp;&amp; list2 != null) {\r\n            if (list1.val &lt; list2.val) {\r\n                root.next = list1;\r\n                list1 = list1.next;\r\n            } else {\r\n                root.next = list2;\r\n                list2 = list2.next;\r\n            }\r\n            root = root.next;\r\n        }\r\n\r\n        root.next = list1 != null ? list1 : list2;\r\n       \r\n\r\n        return prev.next;  // Return the head of the merged list\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI watched videos on youTube, neetcode.io and algoexperts.io","title":"Merging two sorted Linked List in Java","body":"<p>Below is the Java Code solution to Merging two sorted Linked List, giving only the Heads of the two Sorted Linked List; list1 and list2.</p>\n<p>My question is this; 1. even though the  solution is correct and passes all the Tests on the websites's Ide (Neetcode.com) successfully. I am confused about how the 'root.next' isn't null, how is the <code>root.next</code> value somehow the head of the merged lists. I have seen alot of videos online explaining it, but I still don't get it, somehow everyone expects that i should know that at the end of the code <code>root.next</code> is the head but clearly <code>root.next</code> was never assigned any value. Is there something i am missing?</p>\n<ol start=\"2\">\n<li>In SolutionTwo how does 'prev.next' also return the head of the merged Linked List?</li>\n</ol>\n<p>Please anyone with a very concise clear explanation?</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n\n    public ListNode mergeTwoLists(ListNode list1, ListNode list2) {\n        final ListNode root = new ListNode();\n        ListNode prev = root;\n        while (list1 != null &amp;&amp; list2 != null) {\n            if (list1.val &lt; list2.val) {\n                prev.next = list1;\n                list1 = list1.next;\n            } else {\n                prev.next = list2;\n                list2 = list2.next;\n            }\n            prev = prev.next;\n        }\n        prev.next = list1 != null ? list1 : list2;\n        return root.next;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class SolutionTwo {\n    public ListNode mergeTwoLists(ListNode list1, ListNode list2) {\n        ListNode root = new ListNode();\n        ListNode prev = root;\n\n        while (list1 != null &amp;&amp; list2 != null) {\n            if (list1.val &lt; list2.val) {\n                root.next = list1;\n                list1 = list1.next;\n            } else {\n                root.next = list2;\n                list2 = list2.next;\n            }\n            root = root.next;\n        }\n\n        root.next = list1 != null ? list1 : list2;\n       \n\n        return prev.next;  // Return the head of the merged list\n    }\n}\n</code></pre>\n<p>I watched videos on youTube, neetcode.io and algoexperts.io</p>\n"},{"tags":["java","spring","spring-boot","jackson"],"answers":[{"comments":[{"owner":{"account_id":4370290,"reputation":1353,"user_id":3564874,"accept_rate":82,"display_name":"dev"},"score":0,"creation_date":1613649434,"post_id":59823717,"comment_id":117143384,"body_markdown":"this approach didn&#39;t work for me. It returns an error &quot;The contents must not be null&quot;. Any clue, what could be the issue?","body":"this approach didn&#39;t work for me. It returns an error &quot;The contents must not be null&quot;. Any clue, what could be the issue?"}],"tags":[],"owner":{"account_id":15211392,"reputation":1754,"user_id":10976088,"display_name":"Ghasem Sadeghi"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689552755,"creation_date":1579524789,"answer_id":59823717,"question_id":56129912,"body_markdown":"\r\nBelow is a sample code that works fine in my spring boot project.&lt;br&gt;\r\n\r\n**Step 1:**\r\nCreate a custom class that extends the ``PageImpl&lt;&gt;``. because the ``PageImpl&lt;&gt;`` does not have empty constructor and therefore can not be used in deserialization. Also note that the below annotations will be used by jackson.\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonCreator;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport org.springframework.data.domain.PageImpl;\r\nimport org.springframework.data.domain.PageRequest;\r\nimport org.springframework.data.domain.Pageable;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class JacksonPageImpl&lt;T&gt; extends PageImpl&lt;T&gt; {\r\n\r\n    private static final long serialVersionUID = 1230183330548294567L;\r\n\r\n    @JsonCreator(mode = JsonCreator.Mode.PROPERTIES)\r\n    public JacksonPageImpl(@JsonProperty(&quot;content&quot;) List&lt;T&gt; content,\r\n                           @JsonProperty(&quot;number&quot;) int number,\r\n                           @JsonProperty(&quot;size&quot;) int size,\r\n                           @JsonProperty(&quot;totalElements&quot;) Long totalElements,\r\n                           @JsonProperty(&quot;pageable&quot;) JsonNode pageable,\r\n                           @JsonProperty(&quot;last&quot;) boolean last,\r\n                           @JsonProperty(&quot;totalPages&quot;) int totalPages,\r\n                           @JsonProperty(&quot;sort&quot;) JsonNode sort,\r\n                           @JsonProperty(&quot;first&quot;) boolean first,\r\n                           @JsonProperty(&quot;numberOfElements&quot;) int numberOfElements) {\r\n        super(content, PageRequest.of(number, size), totalElements);\r\n    }\r\n\r\n    public JacksonPageImpl(List&lt;T&gt; content, Pageable pageable, long total) {\r\n        super(content, pageable, total);\r\n    }\r\n\r\n    public JacksonPageImpl(List&lt;T&gt; content) {\r\n        super(content);\r\n    }\r\n\r\n    public JacksonPageImpl() {\r\n        super(new ArrayList&lt;&gt;());\r\n    }\r\n\r\n}\r\n\r\n```\r\n**Step 2:**\r\nNow call a method like as the below.&lt;br&gt;\r\n**Note:** You can directly use ``WrapperRestResponse.class`` in the last argument of the ``exchange`` method. but in this case, the ``JacksonPageImpl.getContent()`` gives you a ``List&lt;LinkedHashMap&gt;`` instead of ``List&lt;T&gt;``, becuase Jackson by default deserializes a JSON object into a LinkedHashMap. So in the below I used the ``ParameterizedTypeReference`` to have ``List&lt;T&gt;`` in the result.\r\n```\r\nprivate String getPages(int pageNumber, int pageSize, ...){\r\n    String url = &quot;https://example.com/your_endpoint?page=&quot; + pageNumber + &quot;&amp;size=&quot;+pageSize;\r\n    //for example here: your_endpoint = endpoint1/endpoint2\r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\r\n    //if you have authorization (basic,oauth,...) in server side:\r\n    //headers.add(&quot;Authorization&quot;, ...);\r\n\r\n    HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(headers);\r\n \r\n    RestTemplate restTemplate = new RestTemplate();   \r\n    ParameterizedTypeReference&lt;WrapperRestResponse&lt;T&gt;&gt; typeRef = new ParameterizedTypeReference&lt;WrapperRestResponse&lt;T&gt;&gt;(){};\r\n\r\n    ResponseEntity&lt;WrapperRestResponse&gt; rsp = restTemplate.exchange(url, HttpMethod.GET, request, typeRef);\r\n    if(rsp.getStatusCodeValue() == 200){\r\n        WrapperRestResponse&lt;T&gt; pojoAnswer = rsp.getBody();\r\n        JacksonPageImpl&lt;T&gt; page = pojoAnswer.getPage();\r\n        List&lt;T&gt; contents = page.getContent();\r\n        //continue your logic...\r\n    }\r\n    //...\r\n}\r\n\r\n```\r\n**Step 3:** I used a ``WrapperRestResponse`` as the below, so that you can pass other properties simply in addition to ``Page&lt;&gt;``:\r\n```\r\npublic class WrapperRestResponse&lt;T&gt; {\r\n    \r\n    private JacksonPageImpl&lt;T&gt; page;\r\n    //you can have other fields too\r\n\r\n    public WrapperRestResponse() {\r\n    }\r\n    public WrapperRestResponse(JacksonPageImpl&lt;T&gt; page, ...) {\r\n         this.page = page;\r\n         //other fields...\r\n    }\r\n\r\n    public JacksonPageImpl&lt;T&gt; getPage() {\r\n        return page;\r\n    }\r\n\r\n    //other fileds getter &amp; setters\r\n\r\n}\r\n```\r\n\r\n**Step 4:** here is my endpoint :\r\n```\r\n@RestController\r\n@RequestMapping(value = &quot;/endpoint1&quot;, produces = &quot;application/json&quot;)\r\npublic class ResourceController {\r\n    \r\n    //...\r\n\r\n    @GetMapping(&quot;/endpoint2&quot;)\r\n    public ResponseEntity getPages(Pageable pageable, ...){\r\n        Page&lt;T&gt; pages = ...;//get it by your logic\r\n        //...\r\n        return ResponseEntity.ok(new WrapperRestResponse(pages, ...));\r\n    }\r\n}\r\n```\r\n","title":"RestTemplate mapping Page &#39;Page size must not be less than one&#39;","body":"<p>Below is a sample code that works fine in my spring boot project.<br></p>\n<p><strong>Step 1:</strong>\nCreate a custom class that extends the <code>PageImpl&lt;&gt;</code>. because the <code>PageImpl&lt;&gt;</code> does not have empty constructor and therefore can not be used in deserialization. Also note that the below annotations will be used by jackson.</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport org.springframework.data.domain.PageImpl;\nimport org.springframework.data.domain.PageRequest;\nimport org.springframework.data.domain.Pageable;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class JacksonPageImpl&lt;T&gt; extends PageImpl&lt;T&gt; {\n\n    private static final long serialVersionUID = 1230183330548294567L;\n\n    @JsonCreator(mode = JsonCreator.Mode.PROPERTIES)\n    public JacksonPageImpl(@JsonProperty(&quot;content&quot;) List&lt;T&gt; content,\n                           @JsonProperty(&quot;number&quot;) int number,\n                           @JsonProperty(&quot;size&quot;) int size,\n                           @JsonProperty(&quot;totalElements&quot;) Long totalElements,\n                           @JsonProperty(&quot;pageable&quot;) JsonNode pageable,\n                           @JsonProperty(&quot;last&quot;) boolean last,\n                           @JsonProperty(&quot;totalPages&quot;) int totalPages,\n                           @JsonProperty(&quot;sort&quot;) JsonNode sort,\n                           @JsonProperty(&quot;first&quot;) boolean first,\n                           @JsonProperty(&quot;numberOfElements&quot;) int numberOfElements) {\n        super(content, PageRequest.of(number, size), totalElements);\n    }\n\n    public JacksonPageImpl(List&lt;T&gt; content, Pageable pageable, long total) {\n        super(content, pageable, total);\n    }\n\n    public JacksonPageImpl(List&lt;T&gt; content) {\n        super(content);\n    }\n\n    public JacksonPageImpl() {\n        super(new ArrayList&lt;&gt;());\n    }\n\n}\n\n</code></pre>\n<p><strong>Step 2:</strong>\nNow call a method like as the below.<br>\n<strong>Note:</strong> You can directly use <code>WrapperRestResponse.class</code> in the last argument of the <code>exchange</code> method. but in this case, the <code>JacksonPageImpl.getContent()</code> gives you a <code>List&lt;LinkedHashMap&gt;</code> instead of <code>List&lt;T&gt;</code>, becuase Jackson by default deserializes a JSON object into a LinkedHashMap. So in the below I used the <code>ParameterizedTypeReference</code> to have <code>List&lt;T&gt;</code> in the result.</p>\n<pre><code>private String getPages(int pageNumber, int pageSize, ...){\n    String url = &quot;https://example.com/your_endpoint?page=&quot; + pageNumber + &quot;&amp;size=&quot;+pageSize;\n    //for example here: your_endpoint = endpoint1/endpoint2\n\n    HttpHeaders headers = new HttpHeaders();\n    headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n    //if you have authorization (basic,oauth,...) in server side:\n    //headers.add(&quot;Authorization&quot;, ...);\n\n    HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(headers);\n \n    RestTemplate restTemplate = new RestTemplate();   \n    ParameterizedTypeReference&lt;WrapperRestResponse&lt;T&gt;&gt; typeRef = new ParameterizedTypeReference&lt;WrapperRestResponse&lt;T&gt;&gt;(){};\n\n    ResponseEntity&lt;WrapperRestResponse&gt; rsp = restTemplate.exchange(url, HttpMethod.GET, request, typeRef);\n    if(rsp.getStatusCodeValue() == 200){\n        WrapperRestResponse&lt;T&gt; pojoAnswer = rsp.getBody();\n        JacksonPageImpl&lt;T&gt; page = pojoAnswer.getPage();\n        List&lt;T&gt; contents = page.getContent();\n        //continue your logic...\n    }\n    //...\n}\n\n</code></pre>\n<p><strong>Step 3:</strong> I used a <code>WrapperRestResponse</code> as the below, so that you can pass other properties simply in addition to <code>Page&lt;&gt;</code>:</p>\n<pre><code>public class WrapperRestResponse&lt;T&gt; {\n    \n    private JacksonPageImpl&lt;T&gt; page;\n    //you can have other fields too\n\n    public WrapperRestResponse() {\n    }\n    public WrapperRestResponse(JacksonPageImpl&lt;T&gt; page, ...) {\n         this.page = page;\n         //other fields...\n    }\n\n    public JacksonPageImpl&lt;T&gt; getPage() {\n        return page;\n    }\n\n    //other fileds getter &amp; setters\n\n}\n</code></pre>\n<p><strong>Step 4:</strong> here is my endpoint :</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/endpoint1&quot;, produces = &quot;application/json&quot;)\npublic class ResourceController {\n    \n    //...\n\n    @GetMapping(&quot;/endpoint2&quot;)\n    public ResponseEntity getPages(Pageable pageable, ...){\n        Page&lt;T&gt; pages = ...;//get it by your logic\n        //...\n        return ResponseEntity.ok(new WrapperRestResponse(pages, ...));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9698158,"reputation":328,"user_id":7193940,"accept_rate":90,"display_name":"MagicLegend"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11249,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1689552796,"creation_date":1557835077,"question_id":56129912,"body_markdown":"I have a REST API endpoint that will return a `Page&lt;User&gt;`. I want to provide some tests for this endpoint, and I found [this](https://stackoverflow.com/a/35238863) question, of which I could use [this](https://stackoverflow.com/a/44895867) answer (The accepted answer is outdated). When I tried to implement this, I noticed that [another answer](https://stackoverflow.com/a/53221890) had another implementation, which was [supposedly](https://stackoverflow.com/a/52160387/7193940) for spring 2.0.\r\n\r\nHowever, when using this (code below); I get an exception from the mapper. I noticed that in Wireshark the `Page` is returned correctly, and filled. When I use a tool like Postman to manually make the request, I also correctly get the `Page`.\r\n\r\nController:\r\n```java\r\n@GetMapping(&quot;/&quot;)\r\nPage&lt;User&gt; findAll(@RequestParam(&quot;page&quot;) int page, @RequestParam(&quot;size&quot;) int size);\r\n```\r\n\r\nRestResponsePage (as found [here](https://stackoverflow.com/a/53221890)):\r\n```java\r\npackage org.company.product.userservice.helpers;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonCreator;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport org.springframework.data.domain.PageImpl;\r\nimport org.springframework.data.domain.PageRequest;\r\nimport org.springframework.data.domain.Pageable;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class RestResponsePage&lt;T&gt; extends PageImpl&lt;T&gt; {\r\n    @JsonCreator(mode = JsonCreator.Mode.PROPERTIES)\r\n    public RestResponsePage(@JsonProperty(&quot;content&quot;) List&lt;T&gt; content,\r\n                            @JsonProperty(&quot;number&quot;) int number,\r\n                            @JsonProperty(&quot;size&quot;) int size,\r\n                            @JsonProperty(&quot;totalElements&quot;) Long totalElements,\r\n                            @JsonProperty(&quot;pageable&quot;) JsonNode pageable,\r\n                            @JsonProperty(&quot;last&quot;) boolean last,\r\n                            @JsonProperty(&quot;totalPages&quot;) int totalPages,\r\n                            @JsonProperty(&quot;sort&quot;) JsonNode sort,\r\n                            @JsonProperty(&quot;first&quot;) boolean first,\r\n                            @JsonProperty(&quot;numberOfElements&quot;) int numberOfElements) {\r\n\r\n        super(content, PageRequest.of(number, size), totalElements);\r\n    }\r\n\r\n    public RestResponsePage(List&lt;T&gt; content, Pageable pageable, long total) {\r\n        super(content, pageable, total);\r\n    }\r\n\r\n    public RestResponsePage(List&lt;T&gt; content) {\r\n        super(content);\r\n    }\r\n\r\n    public RestResponsePage() {\r\n        super(new ArrayList&lt;&gt;());\r\n    }\r\n}\r\n```\r\n\r\nTest:\r\n```java\r\nprivate OAuth2RestTemplate template;\r\n\r\n/** template init code, retrieving token **/\r\n\r\nUriComponentsBuilder uri = UriComponentsBuilder.fromHttpUrl(ZUUL_URI + &quot;/api/users&quot;)\r\n        .queryParam(&quot;page&quot;, 0)\r\n        .queryParam(&quot;size&quot;, 10);\r\nResponseEntity&lt;RestResponsePage&lt;User&gt;&gt; user = template.exchange(uri.build().encode().toUri(), HttpMethod.GET, null, new ParameterizedTypeReference&lt;RestResponsePage&lt;User&gt;&gt;(){});\r\n```\r\n\r\nRunning this gives the following stacktrace:\r\n\r\n```\r\norg.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.company.project.userservice.helpers.RestResponsePage]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of &#39;org.company.project.userservice.helpers.RestResponsePage;&#39;, problem: Page size must not be less than one!\r\n at [Source: (PushbackInputStream); line: 63, column: 1]\r\n\r\n\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:242)\r\n\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:227)\r\n\tat org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:102)\r\n\tat org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:994)\r\n\tat org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:977)\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:736)\r\n\tat org.springframework.security.oauth2.client.OAuth2RestTemplate.doExecute(OAuth2RestTemplate.java:128)\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:709)\r\n\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:627)\r\n\tat org.company.project.userservice.api.OAuthMvcTest.testAddingAddressToUser(OAuthMvcTest.java:134)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:532)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:171)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:167)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:114)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:59)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:108)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\r\n\tat java.base/java.util.ArrayList.forEach(Unknown Source)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\r\n\tat java.base/java.util.ArrayList.forEach(Unknown Source)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of &#39;org.company.project.userservice.helpers.RestResponsePage&#39;, problem: Page size must not be less than one!\r\n at [Source: (PushbackInputStream); line: 63, column: 1]\r\n\tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.instantiationException(DeserializationContext.java:1608)\r\n\tat com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.wrapAsJsonMappingException(StdValueInstantiator.java:484)\r\n\tat com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.rewrapCtorProblem(StdValueInstantiator.java:503)\r\n\tat com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.createFromObjectWith(StdValueInstantiator.java:285)\r\n\tat com.fasterxml.jackson.databind.deser.ValueInstantiator.createFromObjectWith(ValueInstantiator.java:229)\r\n\tat com.fasterxml.jackson.databind.deser.impl.PropertyBasedCreator.build(PropertyBasedCreator.java:195)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeUsingPropertyBased(BeanDeserializer.java:488)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1287)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:326)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:159)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4013)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3084)\r\n\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:239)\r\n\t... 48 more\r\nCaused by: java.lang.IllegalArgumentException: Page size must not be less than one!\r\n\tat org.springframework.data.domain.AbstractPageRequest.&lt;init&gt;(AbstractPageRequest.java:50)\r\n\tat org.springframework.data.domain.PageRequest.&lt;init&gt;(PageRequest.java:71)\r\n\tat org.springframework.data.domain.PageRequest.of(PageRequest.java:96)\r\n\tat org.springframework.data.domain.PageRequest.of(PageRequest.java:84)\r\n\tat org.company.project.userservice.helpers.RestResponsePage.&lt;init&gt;(RestResponsePage.java:28)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n\tat com.fasterxml.jackson.databind.introspect.AnnotatedConstructor.call(AnnotatedConstructor.java:124)\r\n\tat com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.createFromObjectWith(StdValueInstantiator.java:283)\r\n\t... 57 more\r\n```\r\n\r\nI noticed that when tracing back the used objects by Jackson, that there are null values and zero values used. However, in the `BeanDeserializer._deserializeUsingPropertyBased()` the function I found that the correct User objects are in fact present:\r\n\r\n[![][1]][1]\r\n\r\nWhat I should change in the helper class to fix this behaviour and correctly map the response to a `Page&lt;User&gt;`?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CRzfv.png","title":"RestTemplate mapping Page &#39;Page size must not be less than one&#39;","body":"<p>I have a REST API endpoint that will return a <code>Page&lt;User&gt;</code>. I want to provide some tests for this endpoint, and I found <a href=\"https://stackoverflow.com/a/35238863\">this</a> question, of which I could use <a href=\"https://stackoverflow.com/a/44895867\">this</a> answer (The accepted answer is outdated). When I tried to implement this, I noticed that <a href=\"https://stackoverflow.com/a/53221890\">another answer</a> had another implementation, which was <a href=\"https://stackoverflow.com/a/52160387/7193940\">supposedly</a> for spring 2.0.</p>\n<p>However, when using this (code below); I get an exception from the mapper. I noticed that in Wireshark the <code>Page</code> is returned correctly, and filled. When I use a tool like Postman to manually make the request, I also correctly get the <code>Page</code>.</p>\n<p>Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/&quot;)\nPage&lt;User&gt; findAll(@RequestParam(&quot;page&quot;) int page, @RequestParam(&quot;size&quot;) int size);\n</code></pre>\n<p>RestResponsePage (as found <a href=\"https://stackoverflow.com/a/53221890\">here</a>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.company.product.userservice.helpers;\n\nimport com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport org.springframework.data.domain.PageImpl;\nimport org.springframework.data.domain.PageRequest;\nimport org.springframework.data.domain.Pageable;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class RestResponsePage&lt;T&gt; extends PageImpl&lt;T&gt; {\n    @JsonCreator(mode = JsonCreator.Mode.PROPERTIES)\n    public RestResponsePage(@JsonProperty(&quot;content&quot;) List&lt;T&gt; content,\n                            @JsonProperty(&quot;number&quot;) int number,\n                            @JsonProperty(&quot;size&quot;) int size,\n                            @JsonProperty(&quot;totalElements&quot;) Long totalElements,\n                            @JsonProperty(&quot;pageable&quot;) JsonNode pageable,\n                            @JsonProperty(&quot;last&quot;) boolean last,\n                            @JsonProperty(&quot;totalPages&quot;) int totalPages,\n                            @JsonProperty(&quot;sort&quot;) JsonNode sort,\n                            @JsonProperty(&quot;first&quot;) boolean first,\n                            @JsonProperty(&quot;numberOfElements&quot;) int numberOfElements) {\n\n        super(content, PageRequest.of(number, size), totalElements);\n    }\n\n    public RestResponsePage(List&lt;T&gt; content, Pageable pageable, long total) {\n        super(content, pageable, total);\n    }\n\n    public RestResponsePage(List&lt;T&gt; content) {\n        super(content);\n    }\n\n    public RestResponsePage() {\n        super(new ArrayList&lt;&gt;());\n    }\n}\n</code></pre>\n<p>Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private OAuth2RestTemplate template;\n\n/** template init code, retrieving token **/\n\nUriComponentsBuilder uri = UriComponentsBuilder.fromHttpUrl(ZUUL_URI + &quot;/api/users&quot;)\n        .queryParam(&quot;page&quot;, 0)\n        .queryParam(&quot;size&quot;, 10);\nResponseEntity&lt;RestResponsePage&lt;User&gt;&gt; user = template.exchange(uri.build().encode().toUri(), HttpMethod.GET, null, new ParameterizedTypeReference&lt;RestResponsePage&lt;User&gt;&gt;(){});\n</code></pre>\n<p>Running this gives the following stacktrace:</p>\n<pre><code>org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.company.project.userservice.helpers.RestResponsePage]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of 'org.company.project.userservice.helpers.RestResponsePage;', problem: Page size must not be less than one!\n at [Source: (PushbackInputStream); line: 63, column: 1]\n\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:242)\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:227)\n    at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:102)\n    at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:994)\n    at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:977)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:736)\n    at org.springframework.security.oauth2.client.OAuth2RestTemplate.doExecute(OAuth2RestTemplate.java:128)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:709)\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:627)\n    at org.company.project.userservice.api.OAuthMvcTest.testAddingAddressToUser(OAuthMvcTest.java:134)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:532)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:171)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:167)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:114)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:59)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:108)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\n    at java.base/java.util.ArrayList.forEach(Unknown Source)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\n    at java.base/java.util.ArrayList.forEach(Unknown Source)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)\n    at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)\n    at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of 'org.company.project.userservice.helpers.RestResponsePage', problem: Page size must not be less than one!\n at [Source: (PushbackInputStream); line: 63, column: 1]\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67)\n    at com.fasterxml.jackson.databind.DeserializationContext.instantiationException(DeserializationContext.java:1608)\n    at com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.wrapAsJsonMappingException(StdValueInstantiator.java:484)\n    at com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.rewrapCtorProblem(StdValueInstantiator.java:503)\n    at com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.createFromObjectWith(StdValueInstantiator.java:285)\n    at com.fasterxml.jackson.databind.deser.ValueInstantiator.createFromObjectWith(ValueInstantiator.java:229)\n    at com.fasterxml.jackson.databind.deser.impl.PropertyBasedCreator.build(PropertyBasedCreator.java:195)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeUsingPropertyBased(BeanDeserializer.java:488)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1287)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:326)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:159)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4013)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3084)\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:239)\n    ... 48 more\nCaused by: java.lang.IllegalArgumentException: Page size must not be less than one!\n    at org.springframework.data.domain.AbstractPageRequest.&lt;init&gt;(AbstractPageRequest.java:50)\n    at org.springframework.data.domain.PageRequest.&lt;init&gt;(PageRequest.java:71)\n    at org.springframework.data.domain.PageRequest.of(PageRequest.java:96)\n    at org.springframework.data.domain.PageRequest.of(PageRequest.java:84)\n    at org.company.project.userservice.helpers.RestResponsePage.&lt;init&gt;(RestResponsePage.java:28)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n    at java.base/java.lang.reflect.Constructor.newInstance(Unknown Source)\n    at com.fasterxml.jackson.databind.introspect.AnnotatedConstructor.call(AnnotatedConstructor.java:124)\n    at com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.createFromObjectWith(StdValueInstantiator.java:283)\n    ... 57 more\n</code></pre>\n<p>I noticed that when tracing back the used objects by Jackson, that there are null values and zero values used. However, in the <code>BeanDeserializer._deserializeUsingPropertyBased()</code> the function I found that the correct User objects are in fact present:</p>\n<p><a href=\"https://i.stack.imgur.com/CRzfv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CRzfv.png\" alt=\"\" /></a></p>\n<p>What I should change in the helper class to fix this behaviour and correctly map the response to a <code>Page&lt;User&gt;</code>?</p>\n"},{"tags":["java","multithreading","concurrency","threadpool","java.util.concurrent"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689311257,"post_id":76684733,"comment_id":135198193,"body_markdown":"You can&#39;t assume that HTTP transmission will only take one second, and you can&#39;t assume that HTTP is the only form of I/O in the system. Too broad.","body":"You can&#39;t assume that HTTP transmission will only take one second, and you can&#39;t assume that HTTP is the only form of I/O in the system. Too broad."},{"owner":{"account_id":6381461,"reputation":3501,"user_id":6524600,"display_name":"Drex"},"score":0,"creation_date":1689359716,"post_id":76684733,"comment_id":135207742,"body_markdown":"the duration of HTTP transmission in the case is just for example purpose, the purpose of question is NOT looking for an EXACT number in answer. In case to make the question more complex I&#39;ve simply it without those noise info","body":"the duration of HTTP transmission in the case is just for example purpose, the purpose of question is NOT looking for an EXACT number in answer. In case to make the question more complex I&#39;ve simply it without those noise info"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1689375728,"post_id":76684733,"comment_id":135209913,"body_markdown":"It’s important to consider why each thread pool exists. The question doesn’t discuss the purpose of creating a thread pool for each of these tasks instead of using one thread pool for all CPU-bound work.","body":"It’s important to consider why each thread pool exists. The question doesn’t discuss the purpose of creating a thread pool for each of these tasks instead of using one thread pool for all CPU-bound work."},{"owner":{"account_id":6381461,"reputation":3501,"user_id":6524600,"display_name":"Drex"},"score":0,"creation_date":1689480028,"post_id":76684733,"comment_id":135218299,"body_markdown":"We know one thread pool may do the same concurrent job, creating each thread pool is just for better task management, we&#39;re more curious about if there is anything to address for JVM to manage 4 thread pools vs 1 thread pool, any pro/con when setting the core thread size, more scenario (CPU-bound, I/O bound work are welcome to discuss) etc (Updated the post with sample requests)","body":"We know one thread pool may do the same concurrent job, creating each thread pool is just for better task management, we&#39;re more curious about if there is anything to address for JVM to manage 4 thread pools vs 1 thread pool, any pro/con when setting the core thread size, more scenario (CPU-bound, I/O bound work are welcome to discuss) etc (Updated the post with sample requests)"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1689483014,"post_id":76684733,"comment_id":135218416,"body_markdown":"Thanks for the update. Maybe you can expand a bit on the benefits for task management you get by using separate pools for each type of task. There may be a more optimal way to get the same benefits.","body":"Thanks for the update. Maybe you can expand a bit on the benefits for task management you get by using separate pools for each type of task. There may be a more optimal way to get the same benefits."}],"answers":[{"comments":[{"owner":{"account_id":6381461,"reputation":3501,"user_id":6524600,"display_name":"Drex"},"score":0,"creation_date":1689619946,"post_id":76700814,"comment_id":135236489,"body_markdown":"Thank you so much for the response and case analysis, this is exactly we&#39;re looking for! Initially when we have similar task duration between each like A~B~C~D, with time goes by lately we found some task took a relative longer running than others: B &gt;&gt; C &gt;&gt; D &gt; A and not all initial requests require all 4 tasks, so we think of using different threadpool as a way to &quot;balance&quot; CPU usage for non-blocking purpose.","body":"Thank you so much for the response and case analysis, this is exactly we&#39;re looking for! Initially when we have similar task duration between each like A~B~C~D, with time goes by lately we found some task took a relative longer running than others: B &gt;&gt; C &gt;&gt; D &gt; A and not all initial requests require all 4 tasks, so we think of using different threadpool as a way to &quot;balance&quot; CPU usage for non-blocking purpose."}],"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689550668,"creation_date":1689550668,"answer_id":76700814,"question_id":76684733,"body_markdown":"With a single thread pool, this rule of thumb is intended to make the best use of available computing resources. If you consider CPU-bound work (work that spends effectively no time waiting) there is no benefit to having more threads than CPU cores, as no work can be done by threads that are waiting to be scheduled on a core. Having more threads than cores will only waste memory and cause context-switching overhead. As the time each thread spends waiting increases (for I/O or lock acquisition, for example) it becomes more beneficial to have a greater number of threads, as another thread can be scheduled on a core while the currently-scheduled thread waits.\r\n\r\nWhen you have multiple thread pools, sizing them gets more complex, because you also have to consider the distribution of work between the pools.\r\n\r\nConsider an example where you have entirely CPU-bound tasks (wait time/service time = 0). If you size _each_ pool according to this formula on your 8 core machine, you&#39;ll give each pool a size of 8, with 32 threads in total between the 4 pools. However, only 8 of those will be able to run at a time. If you have 8 concurrent tasks of type A, all of pool A&#39;s threads will be running and all of the threads from other pools will be waiting for CPU. If you have 2 of _each_ task type running concurrently, then 2 threads from each pool will be running while 6 threads from each pool will have to wait. Those waiting threads provide no benefit to overall application throughput.\r\n\r\nSo you might think to use this formula to calculate the _total_ number of threads, and divide them between the pools. With 8 threads and 4 pools, that gives each pool a thread size of 2. This guarantees that all threads will have access to a CPU core when needed, but this is _only_ optimal if the workload is evenly distributed between each pool at all times. In a realistic application, this may be unlikely. If you were to suddenly get 8 requests of type A, only 2 of them would be handled concurrently while the other thread pools wait for incoming work.\r\n\r\nIf you have a very predictable workload, you can weight the size of each pool by the proportion of requests that will use it, however this may still not use resources optimally at all times. For CPU-bound work, it will generally be more efficient to use a single thread pool, where each thread can handle any type of task.\r\n\r\nOne possible reason to use separate pools for different task types would be to ensure fairness between different types of tasks, or to ensure that higher priority requests can be handled immediately. Maybe you _want_ to have idle threads ready to take on a task of type B even if pool A is inundated with work. This isn&#39;t common—most applications would prefer to operate under a &quot;first in, first out&quot; (FIFO) model—but it does apply in some use cases. Still, there are sometimes more optimal ways to achieve this. If each task can be processed quickly, you could have work scheduled using a priority queue or a round-robin approach to ensure that a single thread pool gives time to different task types in something other than FIFO order. If tasks may take a long (or highly variable) time to complete, having threads ready and waiting for tasks of type B may still provide a responsiveness benefit, as using a single thread pool may mean that all of the threads are busy handling long-running tasks. Implementing a mechanism to interrupt those tasks is possible but more complex than using a separate thread pool to handle the high-priority tasks.\r\n\r\nIt can sometimes be beneficial to use task-specific thread pools when certain tasks require the use of special resources. Imagine an application with two task types A and B, both CPU-intensive and under high load, but where A always requires a holding a specific mutually-exclusive lock for its duration and B does not. It might make sense to devote one thread/core to task A and 7 to task B. That way, each pool can proceed with its workload without blocking. If you were to use a shared thread pool for both tasks, whenever a thread took a request of type A, it would need to wait to acquire that lock, necessitating a larger number of threads in total in order to maintain high CPU utilisation.\r\n\r\nThe bottom line is that you have to take application-specific considerations into account when optimising, including what specific constraints your application needs to optimise. As a default, using a single thread pool sized according to a typical workload is a simple approach that often provides a suitable result.","title":"How to determine coreThreadSize if having multiple threadpools in application","body":"<p>With a single thread pool, this rule of thumb is intended to make the best use of available computing resources. If you consider CPU-bound work (work that spends effectively no time waiting) there is no benefit to having more threads than CPU cores, as no work can be done by threads that are waiting to be scheduled on a core. Having more threads than cores will only waste memory and cause context-switching overhead. As the time each thread spends waiting increases (for I/O or lock acquisition, for example) it becomes more beneficial to have a greater number of threads, as another thread can be scheduled on a core while the currently-scheduled thread waits.</p>\n<p>When you have multiple thread pools, sizing them gets more complex, because you also have to consider the distribution of work between the pools.</p>\n<p>Consider an example where you have entirely CPU-bound tasks (wait time/service time = 0). If you size <em>each</em> pool according to this formula on your 8 core machine, you'll give each pool a size of 8, with 32 threads in total between the 4 pools. However, only 8 of those will be able to run at a time. If you have 8 concurrent tasks of type A, all of pool A's threads will be running and all of the threads from other pools will be waiting for CPU. If you have 2 of <em>each</em> task type running concurrently, then 2 threads from each pool will be running while 6 threads from each pool will have to wait. Those waiting threads provide no benefit to overall application throughput.</p>\n<p>So you might think to use this formula to calculate the <em>total</em> number of threads, and divide them between the pools. With 8 threads and 4 pools, that gives each pool a thread size of 2. This guarantees that all threads will have access to a CPU core when needed, but this is <em>only</em> optimal if the workload is evenly distributed between each pool at all times. In a realistic application, this may be unlikely. If you were to suddenly get 8 requests of type A, only 2 of them would be handled concurrently while the other thread pools wait for incoming work.</p>\n<p>If you have a very predictable workload, you can weight the size of each pool by the proportion of requests that will use it, however this may still not use resources optimally at all times. For CPU-bound work, it will generally be more efficient to use a single thread pool, where each thread can handle any type of task.</p>\n<p>One possible reason to use separate pools for different task types would be to ensure fairness between different types of tasks, or to ensure that higher priority requests can be handled immediately. Maybe you <em>want</em> to have idle threads ready to take on a task of type B even if pool A is inundated with work. This isn't common—most applications would prefer to operate under a &quot;first in, first out&quot; (FIFO) model—but it does apply in some use cases. Still, there are sometimes more optimal ways to achieve this. If each task can be processed quickly, you could have work scheduled using a priority queue or a round-robin approach to ensure that a single thread pool gives time to different task types in something other than FIFO order. If tasks may take a long (or highly variable) time to complete, having threads ready and waiting for tasks of type B may still provide a responsiveness benefit, as using a single thread pool may mean that all of the threads are busy handling long-running tasks. Implementing a mechanism to interrupt those tasks is possible but more complex than using a separate thread pool to handle the high-priority tasks.</p>\n<p>It can sometimes be beneficial to use task-specific thread pools when certain tasks require the use of special resources. Imagine an application with two task types A and B, both CPU-intensive and under high load, but where A always requires a holding a specific mutually-exclusive lock for its duration and B does not. It might make sense to devote one thread/core to task A and 7 to task B. That way, each pool can proceed with its workload without blocking. If you were to use a shared thread pool for both tasks, whenever a thread took a request of type A, it would need to wait to acquire that lock, necessitating a larger number of threads in total in order to maintain high CPU utilisation.</p>\n<p>The bottom line is that you have to take application-specific considerations into account when optimising, including what specific constraints your application needs to optimise. As a default, using a single thread pool sized according to a typical workload is a simple approach that often provides a suitable result.</p>\n"}],"owner":{"account_id":6381461,"reputation":3501,"user_id":6524600,"display_name":"Drex"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76700814,"answer_count":1,"score":0,"last_activity_date":1689550668,"creation_date":1689309061,"question_id":76684733,"body_markdown":"There are a lot of online resources showing how to determine best coreThreadSize when working with a SINGLE threadpool.Brian Goetz in his famous book &quot;Java Concurrency in Practice&quot; recommends the following formula:\r\n```\r\n Number of threads = Number of Available Cores * (1 + Wait time / Service time)\r\n```\r\nHowever, in real world often cases are we might have introduced multiple threadpools for better arranging different tasks instead of putting all tasks into a single thread pool (even though single thread pool might also work). \r\n\r\nTake an example:\r\n- we have a machine with 8 cores and only run 1 instance of our application (no container env involved)\r\n- we have 4 different time consuming tasks whenever we receive a request, for now just assuming all 4 tasks has a P999 of same duration that its (Wait time / Service time = 1)\r\n- we declared 4 thread pools in our application instead of only single thread pool so we&#39;d consider putting each task into an individual thread pool for task management, e.g.\r\n- Original Request\r\n  - Client A -&gt; Task A -&gt; submit to Threadpool A\r\n  - Client B -&gt; Task B -&gt; submit to Threadpool B\r\n  - Client C -&gt; Task C -&gt; submit to Threadpool C\r\n  - Client D -&gt; Task D -&gt; submit to Threadpool D\r\n  - Do all 4 tasks concurrently\r\n\r\n\r\nQuestion: \r\n- Is there any pro/con when working with a single thread pool VS multiple pools for the same thread tasks? (Pro/Con with different situations are welcome!) \r\n- How should we calculate core thread size now if using multiple pools? like by dividing the number of thread pools? \r\n\r\ne.g., with a single thread pool we might set thread size as 4 according to the formula (8/(1+1) = 4), with 4 thread pools do we have to only put 1 core thread size for each thread pool (4/4 = 1)? If so, can we not introduce more than 4 thread pools in our application?","title":"How to determine coreThreadSize if having multiple threadpools in application","body":"<p>There are a lot of online resources showing how to determine best coreThreadSize when working with a SINGLE threadpool.Brian Goetz in his famous book &quot;Java Concurrency in Practice&quot; recommends the following formula:</p>\n<pre><code> Number of threads = Number of Available Cores * (1 + Wait time / Service time)\n</code></pre>\n<p>However, in real world often cases are we might have introduced multiple threadpools for better arranging different tasks instead of putting all tasks into a single thread pool (even though single thread pool might also work).</p>\n<p>Take an example:</p>\n<ul>\n<li>we have a machine with 8 cores and only run 1 instance of our application (no container env involved)</li>\n<li>we have 4 different time consuming tasks whenever we receive a request, for now just assuming all 4 tasks has a P999 of same duration that its (Wait time / Service time = 1)</li>\n<li>we declared 4 thread pools in our application instead of only single thread pool so we'd consider putting each task into an individual thread pool for task management, e.g.</li>\n<li>Original Request\n<ul>\n<li>Client A -&gt; Task A -&gt; submit to Threadpool A</li>\n<li>Client B -&gt; Task B -&gt; submit to Threadpool B</li>\n<li>Client C -&gt; Task C -&gt; submit to Threadpool C</li>\n<li>Client D -&gt; Task D -&gt; submit to Threadpool D</li>\n<li>Do all 4 tasks concurrently</li>\n</ul>\n</li>\n</ul>\n<p>Question:</p>\n<ul>\n<li>Is there any pro/con when working with a single thread pool VS multiple pools for the same thread tasks? (Pro/Con with different situations are welcome!)</li>\n<li>How should we calculate core thread size now if using multiple pools? like by dividing the number of thread pools?</li>\n</ul>\n<p>e.g., with a single thread pool we might set thread size as 4 according to the formula (8/(1+1) = 4), with 4 thread pools do we have to only put 1 core thread size for each thread pool (4/4 = 1)? If so, can we not introduce more than 4 thread pools in our application?</p>\n"},{"tags":["java","loops","while-loop"],"comments":[{"owner":{"account_id":4792116,"reputation":7079,"user_id":3871028,"display_name":"Ripi2"},"score":0,"creation_date":1689530794,"post_id":76699734,"comment_id":135223236,"body_markdown":"Welcome to SO! What do you expect the command &quot;continue&quot; to do? What does your book tell?","body":"Welcome to SO! What do you expect the command &quot;continue&quot; to do? What does your book tell?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1689532500,"post_id":76699734,"comment_id":135223408,"body_markdown":"Debugging is a good skill to have. If you want to become a professional software developer, or otherwise regularly develop software, it will be necessary.  Try running the code in a debugger. Set a breakpoint at `int i = 1;`. Then, follow the code step-by-step. Monitor the value of `i`.","body":"Debugging is a good skill to have. If you want to become a professional software developer, or otherwise regularly develop software, it will be necessary.  Try running the code in a debugger. Set a breakpoint at <code>int i = 1;</code>. Then, follow the code step-by-step. Monitor the value of <code>i</code>."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1689536575,"post_id":76699734,"comment_id":135223898,"body_markdown":"Your program never terminates. When i reaches 3, none of the remaining code in your loop is ever executed, only the `continue` loops over and over.","body":"Your program never terminates. When i reaches 3, none of the remaining code in your loop is ever executed, only the <code>continue</code> loops over and over."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1689538118,"post_id":76699734,"comment_id":135224081,"body_markdown":"i..e, the conclusion that &#39;continue&#39; is breaking out of the loop has no basis in fact.","body":"i..e, the conclusion that &#39;continue&#39; is breaking out of the loop has no basis in fact."}],"answers":[{"tags":[],"owner":{"account_id":41525,"reputation":12415,"user_id":120753,"accept_rate":89,"display_name":"Babak Naffas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689530695,"creation_date":1689530695,"answer_id":76699738,"question_id":76699734,"body_markdown":"Your output is \r\n&gt; 1 2\r\n\r\nbut is your code ever completing? The continue statement occurs before your increment so the value of `i` remains as 3 indefinitely. You&#39;re looking at an infinite loop.\r\n\r\nMake sure all code paths are incrementing your counter. For example\r\n\r\n       if (i==3){\r\n         i++;\r\n         continue;\r\n       }\r\n       \r\n       System.out.print(i);\r\n       i++;","title":"Why is continue; statement acting as break; in my code in java?","body":"<p>Your output is</p>\n<blockquote>\n<p>1 2</p>\n</blockquote>\n<p>but is your code ever completing? The continue statement occurs before your increment so the value of <code>i</code> remains as 3 indefinitely. You're looking at an infinite loop.</p>\n<p>Make sure all code paths are incrementing your counter. For example</p>\n<pre><code>   if (i==3){\n     i++;\n     continue;\n   }\n   \n   System.out.print(i);\n   i++;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":29029221,"reputation":13,"user_id":22236618,"display_name":"ByteStorm"},"score":0,"creation_date":1689590522,"post_id":76699782,"comment_id":135230036,"body_markdown":"Yes, I tried by your initial method, It worked, Thank you so much!","body":"Yes, I tried by your initial method, It worked, Thank you so much!"}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1689531349,"creation_date":1689531349,"answer_id":76699782,"question_id":76699734,"body_markdown":"The issue is your loop condition and increment operation are seperated in your `while` loop. You could combine them. And I would recommend you start at `0`. Like,\r\n\r\n\tint i = 0;\r\n\twhile (++i &lt; 10) {\r\n\t\tif (i == 3) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tSystem.out.print(i);\r\n\t}\r\n\r\nOr, do it without the `continue`. Like,\r\n\r\n\tint i = 0;\r\n\twhile (i &lt; 10) {\r\n\t\tif (i != 3) {\r\n\t\t\tSystem.out.print(i);\r\n\t\t}\r\n\t\ti++;\r\n\t}\r\n\r\nOr with an `IntStream`. Like,\r\n\r\n    IntStream.range(1, 10).filter(x -&gt; x != 3).forEach(System.out::print);","title":"Why is continue; statement acting as break; in my code in java?","body":"<p>The issue is your loop condition and increment operation are seperated in your <code>while</code> loop. You could combine them. And I would recommend you start at <code>0</code>. Like,</p>\n<pre><code>int i = 0;\nwhile (++i &lt; 10) {\n    if (i == 3) {\n        continue;\n    }\n    System.out.print(i);\n}\n</code></pre>\n<p>Or, do it without the <code>continue</code>. Like,</p>\n<pre><code>int i = 0;\nwhile (i &lt; 10) {\n    if (i != 3) {\n        System.out.print(i);\n    }\n    i++;\n}\n</code></pre>\n<p>Or with an <code>IntStream</code>. Like,</p>\n<pre><code>IntStream.range(1, 10).filter(x -&gt; x != 3).forEach(System.out::print);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":29029221,"reputation":13,"user_id":22236618,"display_name":"ByteStorm"},"score":0,"creation_date":1689590636,"post_id":76700436,"comment_id":135230054,"body_markdown":"Thank you so much for this solution, However, since I am a fresher so I am unable to understand parts of it at this time, However will return to your solution after I progress further! Thank you so much!","body":"Thank you so much for this solution, However, since I am a fresher so I am unable to understand parts of it at this time, However will return to your solution after I progress further! Thank you so much!"}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689541991,"creation_date":1689541991,"answer_id":76700436,"question_id":76699734,"body_markdown":"When you encounter something like this, your should put in some print statements to see what is happening.  You can also slow down the process with a sleep statement.\r\n```\r\npublic class Loops {\r\n    public static void main(String args[]) {\r\n        int i = 1;\r\n        while (i&lt;=9){\r\n            try {\r\n              Thread.sleep(1000); // sleep for 1 second between iterations.\r\n            } catch(InterruptedException e) {}\r\n        \r\n            System.out.printf(&quot;Checking if %d == 3%n&quot;, i); \r\n           \r\n            if (i==3){\r\n                continue;\r\n            }\r\n            \r\n            System.out.println(i);\r\n            i++;\r\n            \r\n        }\r\n}\r\n```\r\nprints\r\n```\r\nChecking if 1 == 3\r\n1\r\nChecking if 2 == 3\r\n2\r\nChecking if 3 == 3\r\nChecking if 3 == 3\r\nChecking if 3 == 3\r\nChecking if 3 == 3\r\nChecking if 3 == 3\r\nChecking if 3 == 3\r\nChecking if 3 == 3\r\nChecking if 3 == 3\r\n...\r\n...\r\n...\r\n\r\n```\r\nNotice that `i` will increment until it reaches `3`. Then since `i` now equals `3` it skips to the end of the loop, stuck at `3` forever.  So only `1` and `2` are printed.","title":"Why is continue; statement acting as break; in my code in java?","body":"<p>When you encounter something like this, your should put in some print statements to see what is happening.  You can also slow down the process with a sleep statement.</p>\n<pre><code>public class Loops {\n    public static void main(String args[]) {\n        int i = 1;\n        while (i&lt;=9){\n            try {\n              Thread.sleep(1000); // sleep for 1 second between iterations.\n            } catch(InterruptedException e) {}\n        \n            System.out.printf(&quot;Checking if %d == 3%n&quot;, i); \n           \n            if (i==3){\n                continue;\n            }\n            \n            System.out.println(i);\n            i++;\n            \n        }\n}\n</code></pre>\n<p>prints</p>\n<pre><code>Checking if 1 == 3\n1\nChecking if 2 == 3\n2\nChecking if 3 == 3\nChecking if 3 == 3\nChecking if 3 == 3\nChecking if 3 == 3\nChecking if 3 == 3\nChecking if 3 == 3\nChecking if 3 == 3\nChecking if 3 == 3\n...\n...\n...\n\n</code></pre>\n<p>Notice that <code>i</code> will increment until it reaches <code>3</code>. Then since <code>i</code> now equals <code>3</code> it skips to the end of the loop, stuck at <code>3</code> forever.  So only <code>1</code> and <code>2</code> are printed.</p>\n"},{"comments":[{"owner":{"account_id":29029221,"reputation":13,"user_id":22236618,"display_name":"ByteStorm"},"score":1,"creation_date":1689590409,"post_id":76700754,"comment_id":135230020,"body_markdown":"Thank you so much for another solution!!","body":"Thank you so much for another solution!!"}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689549838,"creation_date":1689548792,"answer_id":76700754,"question_id":76699734,"body_markdown":"Your program enters an _infinite-loop_ when _i_ equals _3_.\r\n\r\nIncrement _i_ prior to the _continue_ statement.\r\n\r\n```java\r\nint i = 1;\r\nwhile (i&lt;=9){\r\n    if (i==3){\r\n        i++;\r\n        continue;\r\n    }\r\n    System.out.print(i);\r\n    i++;\r\n\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n12456789\r\n```\r\n\r\nAs a recommendation, if you plan on using _continue_, consider using the _[iterative for-loop](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html)_.  \r\nHaving _i_ increment at one location can prove helpful as you build your _loop_ code.\r\n\r\nYou could, also, use a _[do-while](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html)_ loop, and increment _i_ during the conditional statement.\r\n\r\n```java\r\nint i = 1;\r\ndo {\r\n    if (i == 3) continue;\r\n    System.out.print(i);\r\n} while (++i &lt;= 9);\r\n```\r\n\r\nOn a final note, here is an example using a _[closure](https://en.wikipedia.org/wiki/Closure_(computer_programming))_.\r\n\r\n```java\r\nIntStream.range(1, 10).forEach(value -&gt; {\r\n    if (value != 3) System.out.print(value);\r\n});\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n12456789\r\n```","title":"Why is continue; statement acting as break; in my code in java?","body":"<p>Your program enters an <em>infinite-loop</em> when <em>i</em> equals <em>3</em>.</p>\n<p>Increment <em>i</em> prior to the <em>continue</em> statement.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int i = 1;\nwhile (i&lt;=9){\n    if (i==3){\n        i++;\n        continue;\n    }\n    System.out.print(i);\n    i++;\n\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>12456789\n</code></pre>\n<p>As a recommendation, if you plan on using <em>continue</em>, consider using the <em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\" rel=\"nofollow noreferrer\">iterative for-loop</a></em>.<br />\nHaving <em>i</em> increment at one location can prove helpful as you build your <em>loop</em> code.</p>\n<p>You could, also, use a <em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html\" rel=\"nofollow noreferrer\">do-while</a></em> loop, and increment <em>i</em> during the conditional statement.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int i = 1;\ndo {\n    if (i == 3) continue;\n    System.out.print(i);\n} while (++i &lt;= 9);\n</code></pre>\n<p>On a final note, here is an example using a <em><a href=\"https://en.wikipedia.org/wiki/Closure_(computer_programming)\" rel=\"nofollow noreferrer\">closure</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>IntStream.range(1, 10).forEach(value -&gt; {\n    if (value != 3) System.out.print(value);\n});\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>12456789\n</code></pre>\n"}],"owner":{"account_id":29029221,"reputation":13,"user_id":22236618,"display_name":"ByteStorm"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76699738,"answer_count":4,"score":0,"last_activity_date":1689549838,"creation_date":1689530537,"question_id":76699734,"body_markdown":"Task was to obtain the following output using loops\r\n12456789\r\n\r\n**My code**\r\n\r\n```\r\npublic class Loops {\r\n    public static void main(String args[]) {\r\n       int i = 1;\r\n       while (i&lt;=9){ \r\n           if (i==3){\r\n               continue;\r\n       }\r\n            System.out.print(i);\r\n            i++;\r\n\r\n       }\r\n    }\r\n}\r\n```\r\n\r\n**Actual output**-\r\n12\r\n**Expected Output**-\r\n12456789\r\n\r\nWhy is the output stopping at 2?\r\nBesides, I know alternate codes for the same problem using for(:::) statement but what is the issue with this code??\r\nYour assistance will greatly benefit me!\r\n\r\n","title":"Why is continue; statement acting as break; in my code in java?","body":"<p>Task was to obtain the following output using loops\n12456789</p>\n<p><strong>My code</strong></p>\n<pre><code>public class Loops {\n    public static void main(String args[]) {\n       int i = 1;\n       while (i&lt;=9){ \n           if (i==3){\n               continue;\n       }\n            System.out.print(i);\n            i++;\n\n       }\n    }\n}\n</code></pre>\n<p><strong>Actual output</strong>-\n12\n<strong>Expected Output</strong>-\n12456789</p>\n<p>Why is the output stopping at 2?\nBesides, I know alternate codes for the same problem using for(:::) statement but what is the issue with this code??\nYour assistance will greatly benefit me!</p>\n"},{"tags":["java","orm","activejdbc"],"comments":[{"owner":{"account_id":152350,"reputation":5455,"user_id":366816,"accept_rate":18,"display_name":"ipolevoy"},"score":0,"creation_date":1689606915,"post_id":76700660,"comment_id":135233846,"body_markdown":"Can you please post your table structure?","body":"Can you please post your table structure?"},{"owner":{"account_id":105578,"reputation":4431,"user_id":281657,"accept_rate":93,"display_name":"Malcolm Crum"},"score":0,"creation_date":1689627154,"post_id":76700660,"comment_id":135237814,"body_markdown":"ClassSession is 1:* to ClassSessionLessonTime. ClassSessionLessonTime is 1:1 to ClassSessionLessonInstructor.","body":"ClassSession is 1:* to ClassSessionLessonTime. ClassSessionLessonTime is 1:1 to ClassSessionLessonInstructor."}],"answers":[{"comments":[{"owner":{"account_id":152350,"reputation":5455,"user_id":366816,"accept_rate":18,"display_name":"ipolevoy"},"score":0,"creation_date":1689630492,"post_id":76700705,"comment_id":135238248,"body_markdown":"it is unlikely that the join wold have an effect on cached children. In any case, your solution can be wrapped inside an accessor method in the class ClassSession for cleaner code. If you create a simple project on Github that reproduces this issue, I can tinker and find the exact reason. In any case, there are many ways to kill a cat with JavaLite :)","body":"it is unlikely that the join wold have an effect on cached children. In any case, your solution can be wrapped inside an accessor method in the class ClassSession for cleaner code. If you create a simple project on Github that reproduces this issue, I can tinker and find the exact reason. In any case, there are many ways to kill a cat with JavaLite :)"},{"owner":{"account_id":105578,"reputation":4431,"user_id":281657,"accept_rate":93,"display_name":"Malcolm Crum"},"score":0,"creation_date":1689642199,"post_id":76700705,"comment_id":135239468,"body_markdown":"You&#39;re right - when I tried to build a repro I realised a crucial mistake I made in my code. In my original code where I had this problem, I had `select *` but in my code above I have `select class_sessions.*`. The latter works fine. Sorry to waste your time!","body":"You&#39;re right - when I tried to build a repro I realised a crucial mistake I made in my code. In my original code where I had this problem, I had <code>select *</code> but in my code above I have <code>select class_sessions.*</code>. The latter works fine. Sorry to waste your time!"},{"owner":{"account_id":152350,"reputation":5455,"user_id":366816,"accept_rate":18,"display_name":"ipolevoy"},"score":0,"creation_date":1689658988,"post_id":76700705,"comment_id":135240808,"body_markdown":"Glad it worked out for  you!","body":"Glad it worked out for  you!"}],"tags":[],"owner":{"account_id":105578,"reputation":4431,"user_id":281657,"accept_rate":93,"display_name":"Malcolm Crum"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689547665,"creation_date":1689547665,"answer_id":76700705,"question_id":76700660,"body_markdown":"I have found a workaround:\r\n\r\n```java\r\nList&lt;ClassSession&gt; classSessions = Base.findAll(&quot;&quot;&quot;\r\n    select class_sessions.*\r\n    from class_sessions\r\n             join class_session_lesson_times on class_sessions.id = class_session_lesson_times.class_session_id\r\n             join class_session_lesson_instructors on class_session_lesson_times.id = class_session_lesson_instructors.class_session_lesson_time_id\r\n    where class_session_lesson_instructors.instructor_id = ?\r\n    order by class_session_lesson_times.lesson_time_epochms desc\r\n    &quot;&quot;&quot;, user.getPersonId())\r\n.stream()\r\n.map(row -&gt; (ClassSession) new ClassSession().fromMap(row))\r\n.toList();\r\n```\r\n\r\nThe original issue seems like a gotcha but this solution works for me. Open to better solutions.","title":"ActiveJDBC: Joined rows of findBySQL with join are empty","body":"<p>I have found a workaround:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;ClassSession&gt; classSessions = Base.findAll(&quot;&quot;&quot;\n    select class_sessions.*\n    from class_sessions\n             join class_session_lesson_times on class_sessions.id = class_session_lesson_times.class_session_id\n             join class_session_lesson_instructors on class_session_lesson_times.id = class_session_lesson_instructors.class_session_lesson_time_id\n    where class_session_lesson_instructors.instructor_id = ?\n    order by class_session_lesson_times.lesson_time_epochms desc\n    &quot;&quot;&quot;, user.getPersonId())\n.stream()\n.map(row -&gt; (ClassSession) new ClassSession().fromMap(row))\n.toList();\n</code></pre>\n<p>The original issue seems like a gotcha but this solution works for me. Open to better solutions.</p>\n"}],"owner":{"account_id":105578,"reputation":4431,"user_id":281657,"accept_rate":93,"display_name":"Malcolm Crum"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689547665,"creation_date":1689546706,"question_id":76700660,"body_markdown":"I am performing a mildly complex query in a `findBySQL` call with ActiveJDBC. I receive results as expected, but when I query joind rows with `getAll`, the results are empty. \r\n\r\n```\r\nList&lt;ClassSession&gt; classSessions = ClassSession.findBySQL(&quot;&quot;&quot;\r\n        select class_sessions.*\r\n        from class_sessions\r\n                 join class_session_lesson_times on class_sessions.id = class_session_lesson_times.class_session_id\r\n                 join class_session_lesson_instructors on class_session_lesson_times.id = class_session_lesson_instructors.class_session_lesson_time_id\r\n        where class_session_lesson_instructors.instructor_id = ?\r\n        order by class_session_lesson_times.lesson_time_epochms desc\r\n        &quot;&quot;&quot;, user.getPersonId()).include(ClassSessionLessonTime.class);\r\nList&lt;ClassSessionLessonTime&gt; lts = classSessions.get(0).getAll(ClassSessionLessonTime.class);\r\nList&lt;ClassSessionLessonTime&gt; lts2 = ClassSession.findBySessionSerialized(classSessions.get(0).getSessionSerialized()).getAll(ClassSessionLessonTime.class);\r\n```\r\n\r\nWhen this finishes, `lts` is empty, and `lts2` has 18 elements (which is what I expected).\r\n\r\nI think the presence of the `join`s in the `findBySQL` query interferes with the population of the `cachedChildren` field in `Model.java`, but I don&#39;t know how resolve this. I know I could make a `Base.find()` call and parse results by hand but this seems like a lot of work I&#39;d like to avoid.","title":"ActiveJDBC: Joined rows of findBySQL with join are empty","body":"<p>I am performing a mildly complex query in a <code>findBySQL</code> call with ActiveJDBC. I receive results as expected, but when I query joind rows with <code>getAll</code>, the results are empty.</p>\n<pre><code>List&lt;ClassSession&gt; classSessions = ClassSession.findBySQL(&quot;&quot;&quot;\n        select class_sessions.*\n        from class_sessions\n                 join class_session_lesson_times on class_sessions.id = class_session_lesson_times.class_session_id\n                 join class_session_lesson_instructors on class_session_lesson_times.id = class_session_lesson_instructors.class_session_lesson_time_id\n        where class_session_lesson_instructors.instructor_id = ?\n        order by class_session_lesson_times.lesson_time_epochms desc\n        &quot;&quot;&quot;, user.getPersonId()).include(ClassSessionLessonTime.class);\nList&lt;ClassSessionLessonTime&gt; lts = classSessions.get(0).getAll(ClassSessionLessonTime.class);\nList&lt;ClassSessionLessonTime&gt; lts2 = ClassSession.findBySessionSerialized(classSessions.get(0).getSessionSerialized()).getAll(ClassSessionLessonTime.class);\n</code></pre>\n<p>When this finishes, <code>lts</code> is empty, and <code>lts2</code> has 18 elements (which is what I expected).</p>\n<p>I think the presence of the <code>join</code>s in the <code>findBySQL</code> query interferes with the population of the <code>cachedChildren</code> field in <code>Model.java</code>, but I don't know how resolve this. I know I could make a <code>Base.find()</code> call and parse results by hand but this seems like a lot of work I'd like to avoid.</p>\n"},{"tags":["java","spring","spring-boot","caching","thread-safety"],"comments":[{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":1,"creation_date":1689555442,"post_id":76700687,"comment_id":135225495,"body_markdown":"The return value should be immutable or unmodifiable, as it can be shared across threads. That is unrelated to the `sync` flag, which determines if the method is invoked atomically. When false then Spring performs a lookup, calls the method if missed, and inserts the value. This could allow multiple threads to race so that the key is computed redundantly (a cache stampede). The flag instead performs this work under a lock scoped by the entry, e.g using `computeIfAbsent` from `ConcurrentHashMap`.","body":"The return value should be immutable or unmodifiable, as it can be shared across threads. That is unrelated to the <code>sync</code> flag, which determines if the method is invoked atomically. When false then Spring performs a lookup, calls the method if missed, and inserts the value. This could allow multiple threads to race so that the key is computed redundantly (a cache stampede). The flag instead performs this work under a lock scoped by the entry, e.g using <code>computeIfAbsent</code> from <code>ConcurrentHashMap</code>."},{"owner":{"account_id":13427296,"reputation":319,"user_id":9688211,"display_name":"Kaepxer"},"score":0,"creation_date":1689617814,"post_id":76700687,"comment_id":135236046,"body_markdown":"&quot;`The return value should be immutable or unmodifiable`&quot;, isn&#39;t happens-before relationship important? I couldn&#39;t get it. Let&#39;s think multiple threads trying to get data and `sync` is `true`, even the returned value is immutable it&#39;s doesn&#39;t follow happens-before since data could be created in one of any threads.","body":"&quot;<code>The return value should be immutable or unmodifiable</code>&quot;, isn&#39;t happens-before relationship important? I couldn&#39;t get it. Let&#39;s think multiple threads trying to get data and <code>sync</code> is <code>true</code>, even the returned value is immutable it&#39;s doesn&#39;t follow happens-before since data could be created in one of any threads."},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":1,"creation_date":1689640378,"post_id":76700687,"comment_id":135239330,"body_markdown":"When the newly created value is published into the cache and made visible to other threads, this is done by a volatile write. Happens-before would force all preceding writes (like setting constructor fields) must also be visible. That would be true regardless of sync, which performs the work under an entry lock to avoid redundant computations. It is less risky to use an immutable, unmodifiable, or copy-on-write value to avoid accidentally mutating a non-concurrent cached value in an unsafe way. In your question `HashMap` is enough, but I might store an immutable `Map.copyOf` version instead.","body":"When the newly created value is published into the cache and made visible to other threads, this is done by a volatile write. Happens-before would force all preceding writes (like setting constructor fields) must also be visible. That would be true regardless of sync, which performs the work under an entry lock to avoid redundant computations. It is less risky to use an immutable, unmodifiable, or copy-on-write value to avoid accidentally mutating a non-concurrent cached value in an unsafe way. In your question <code>HashMap</code> is enough, but I might store an immutable <code>Map.copyOf</code> version instead."}],"owner":{"account_id":13427296,"reputation":319,"user_id":9688211,"display_name":"Kaepxer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689547386,"creation_date":1689547386,"question_id":76700687,"body_markdown":"I&#39;m trying to understand thread safety. `@Cachable` annotation has `sync` element since 4.3 and it says in document:\r\n\r\n&gt; Synchronize the invocation of the underlying method if several threads\r\n&gt; are attempting to load a value for the same key.\r\n\r\nSo does it matter what `@Cachable` annotated method returns to reach all thread to use same cached value and not calculate it again? I mean like what if we return `HashMap&lt;String, MyDTO&gt;` does it do the job or I have to use ConcurrentMap to achieve it? Since `@Cachable` annotation (which I use default configuration) use `ConcurrentHashMap` and content of it will not change during process, I believe `HashMap` can be enough. Am I wrong?","title":"Is Cachable annotated method that returns HashMap is thread safe?","body":"<p>I'm trying to understand thread safety. <code>@Cachable</code> annotation has <code>sync</code> element since 4.3 and it says in document:</p>\n<blockquote>\n<p>Synchronize the invocation of the underlying method if several threads\nare attempting to load a value for the same key.</p>\n</blockquote>\n<p>So does it matter what <code>@Cachable</code> annotated method returns to reach all thread to use same cached value and not calculate it again? I mean like what if we return <code>HashMap&lt;String, MyDTO&gt;</code> does it do the job or I have to use ConcurrentMap to achieve it? Since <code>@Cachable</code> annotation (which I use default configuration) use <code>ConcurrentHashMap</code> and content of it will not change during process, I believe <code>HashMap</code> can be enough. Am I wrong?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":4698323,"reputation":6170,"user_id":3802631,"accept_rate":86,"display_name":"Jan B."},"score":1,"creation_date":1470045380,"post_id":38695886,"comment_id":64770191,"body_markdown":"looks like a version mismatch. check the dependencies.","body":"looks like a version mismatch. check the dependencies."}],"answers":[{"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1470045495,"post_id":38695927,"comment_id":64770262,"body_markdown":"use same Versions on both sides","body":"use same Versions on both sides"},{"owner":{"account_id":7371946,"reputation":704,"user_id":5611861,"accept_rate":60,"display_name":"hamid"},"score":0,"creation_date":1470045884,"post_id":38695927,"comment_id":64770487,"body_markdown":"can you expand your answer and tell me how can i change server or client serialVersionUID?","body":"can you expand your answer and tell me how can i change server or client serialVersionUID?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1470052408,"post_id":38695927,"comment_id":64774303,"body_markdown":"The serialVersionUID is a Attribute of a serializable class. So you have to use the same Version of the class on both sides","body":"The serialVersionUID is a Attribute of a serializable class. So you have to use the same Version of the class on both sides"}],"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1470045393,"creation_date":1470045393,"answer_id":38695927,"question_id":38695886,"body_markdown":"Looks like your Client and Server has two different class Versions:\r\n\r\n    incompatible: stream classdesc serialVersionUID = 410, local class serialVersionUID = 400\r\n        at org.springframework.data.redis.serializer.JdkSerializationRedisSerializer.deserialize(JdkSerializationRedisSerializer.java:41) ~[spring-data-redis-1.6.4.RELEASE.jar:na]\r\n\r\n","title":"Cannot deserialize; nested exception is org.springframework.core.serializer.support.SerializationFailedException: Failed to deserialize payload","body":"<p>Looks like your Client and Server has two different class Versions:</p>\n\n<pre><code>incompatible: stream classdesc serialVersionUID = 410, local class serialVersionUID = 400\n    at org.springframework.data.redis.serializer.JdkSerializationRedisSerializer.deserialize(JdkSerializationRedisSerializer.java:41) ~[spring-data-redis-1.6.4.RELEASE.jar:na]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7371946,"reputation":704,"user_id":5611861,"accept_rate":60,"display_name":"hamid"},"score":0,"creation_date":1470046878,"post_id":38696205,"comment_id":64771096,"body_markdown":"i found all of applications but it just uses spring 4.1.1","body":"i found all of applications but it just uses spring 4.1.1"},{"owner":{"account_id":1664089,"reputation":1217,"user_id":1531855,"display_name":"borowis"},"score":0,"creation_date":1470047228,"post_id":38696205,"comment_id":64771332,"body_markdown":"did you try disabling Redis HttpSession storage? or cleaning it by hand? for dependencies, did you try mvn dependency:tree ?","body":"did you try disabling Redis HttpSession storage? or cleaning it by hand? for dependencies, did you try mvn dependency:tree ?"}],"tags":[],"owner":{"account_id":1664089,"reputation":1217,"user_id":1531855,"display_name":"borowis"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1470046218,"creation_date":1470046218,"answer_id":38696205,"question_id":38695886,"body_markdown":"Seems like SpringSecurityContextImpl can&#39;t be deserialized correctly. 410 and 400 means Spring 4.0 and Spring 4.1. There&#39;s a similar question for mismatch between Spring 3.2 and Spring 4.2 https://stackoverflow.com/questions/35535765/redis-session-serializer-mismatch-between-3-2-and-4-2. That&#39;s a bit tricky, because I can see you&#39;re just trying to run an example, I think the most straightforward way to fix this is to not store session data in Redis (e.g. remove @EnableRedisHttpSession). Perhaps, also verify that the Spring 4.1 is used everywhere, and Spring 4 is not pulled in by some transitive dependency.","title":"Cannot deserialize; nested exception is org.springframework.core.serializer.support.SerializationFailedException: Failed to deserialize payload","body":"<p>Seems like SpringSecurityContextImpl can't be deserialized correctly. 410 and 400 means Spring 4.0 and Spring 4.1. There's a similar question for mismatch between Spring 3.2 and Spring 4.2 <a href=\"https://stackoverflow.com/questions/35535765/redis-session-serializer-mismatch-between-3-2-and-4-2\">Redis Session Serializer mismatch between 3.2 and 4.2</a>. That's a bit tricky, because I can see you're just trying to run an example, I think the most straightforward way to fix this is to not store session data in Redis (e.g. remove @EnableRedisHttpSession). Perhaps, also verify that the Spring 4.1 is used everywhere, and Spring 4 is not pulled in by some transitive dependency.</p>\n"},{"comments":[{"owner":{"account_id":11517390,"reputation":2361,"user_id":8440358,"accept_rate":100,"display_name":"Hasitha Jayawardana"},"score":1,"creation_date":1692430560,"post_id":67845813,"comment_id":135624615,"body_markdown":"Thank you very much, This was the exact answer for my issue.","body":"Thank you very much, This was the exact answer for my issue."}],"tags":[],"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1625391554,"creation_date":1622861058,"answer_id":67845813,"question_id":38695886,"body_markdown":"Context : Spring boot app + redis local db (Saving an Employee class object which implements Serializable interface)\r\n\r\nWorked perfectly fine but, then I renamed the package name using eclipse refactor and that&#39;s when I started getting this issue.\r\n\r\nTried everything by cleaning,building,clearing .m2 repo etc. But nothing helped.\r\n\r\nI got little hint by one of the answers here that it is a redis issue and started debugging on redis end.\r\n\r\nAnd found that there was a file named dump.rdb file in which there was a reference with the old package fully qualified name and that&#39;s what the problem was.\r\n\r\nJust deleted the dump.rdb file from redis and boom, the error was gone.\r\n\r\nIt took around 2,3 hours and I hope it might help someone and save some time.\r\n\r\n","title":"Cannot deserialize; nested exception is org.springframework.core.serializer.support.SerializationFailedException: Failed to deserialize payload","body":"<p>Context : Spring boot app + redis local db (Saving an Employee class object which implements Serializable interface)</p>\n<p>Worked perfectly fine but, then I renamed the package name using eclipse refactor and that's when I started getting this issue.</p>\n<p>Tried everything by cleaning,building,clearing .m2 repo etc. But nothing helped.</p>\n<p>I got little hint by one of the answers here that it is a redis issue and started debugging on redis end.</p>\n<p>And found that there was a file named dump.rdb file in which there was a reference with the old package fully qualified name and that's what the problem was.</p>\n<p>Just deleted the dump.rdb file from redis and boom, the error was gone.</p>\n<p>It took around 2,3 hours and I hope it might help someone and save some time.</p>\n"},{"comments":[{"owner":{"account_id":7647173,"reputation":2122,"user_id":5797400,"display_name":"jpllosa"},"score":0,"creation_date":1695318299,"post_id":68369150,"comment_id":136011868,"body_markdown":"`flushall` seemed to work for me as well","body":"<code>flushall</code> seemed to work for me as well"}],"tags":[],"owner":{"account_id":13756795,"reputation":51,"user_id":9927535,"display_name":"Aniefiok"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626209326,"creation_date":1626209326,"answer_id":68369150,"question_id":38695886,"body_markdown":"For me, all i did to resolve this error was to delete all redis key using the Redis client ```redis-cli FLUSHALL```","title":"Cannot deserialize; nested exception is org.springframework.core.serializer.support.SerializationFailedException: Failed to deserialize payload","body":"<p>For me, all i did to resolve this error was to delete all redis key using the Redis client <code>redis-cli FLUSHALL</code></p>\n"},{"tags":[],"owner":{"account_id":3683767,"reputation":21,"user_id":3068043,"display_name":"botmonster"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668206783,"creation_date":1668203094,"answer_id":74408439,"question_id":38695886,"body_markdown":"Objects stored in session were serialized by previous version of the app. When new application was deployed some classes changed signatures and now deserializer is unable to unwrap due to conflicted versions. \r\n\r\nThe best way is to tell deserializer to igonre this value by providing `springSessionDefaultRedisSerializer` which will output null value:\r\n\r\n```java\r\n@Configuration\r\npublic class RedisConfig implements BeanClassLoaderAware {\r\n    \r\n    private ClassLoader classLoader;\r\n\r\n    @Bean(&quot;springSessionDefaultRedisSerializer&quot;)\r\n    public RedisSerializer&lt;Object&gt; getRedisSerializer() {\r\n        return new JdkSerializationRedisSerializer(classLoader) {\r\n            @Override\r\n            public Object deserialize(@Nullable byte[] bytes) {\r\n                try {\r\n                    return super.deserialize(bytes);\r\n                } catch (SerializationException ex) {\r\n                    log.warn(ex.getMessage());\r\n                }\r\n                return null;\r\n            }\r\n        };\r\n    }\r\n    \r\n    @Override\r\n    public void setBeanClassLoader(@NotNull ClassLoader classLoader) {\r\n        this.classLoader = classLoader;\r\n    }\r\n}\r\n```","title":"Cannot deserialize; nested exception is org.springframework.core.serializer.support.SerializationFailedException: Failed to deserialize payload","body":"<p>Objects stored in session were serialized by previous version of the app. When new application was deployed some classes changed signatures and now deserializer is unable to unwrap due to conflicted versions.</p>\n<p>The best way is to tell deserializer to igonre this value by providing <code>springSessionDefaultRedisSerializer</code> which will output null value:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class RedisConfig implements BeanClassLoaderAware {\n    \n    private ClassLoader classLoader;\n\n    @Bean(&quot;springSessionDefaultRedisSerializer&quot;)\n    public RedisSerializer&lt;Object&gt; getRedisSerializer() {\n        return new JdkSerializationRedisSerializer(classLoader) {\n            @Override\n            public Object deserialize(@Nullable byte[] bytes) {\n                try {\n                    return super.deserialize(bytes);\n                } catch (SerializationException ex) {\n                    log.warn(ex.getMessage());\n                }\n                return null;\n            }\n        };\n    }\n    \n    @Override\n    public void setBeanClassLoader(@NotNull ClassLoader classLoader) {\n        this.classLoader = classLoader;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13632899,"reputation":2116,"user_id":9834603,"display_name":"Dmitry Kaltovich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689546907,"creation_date":1689546907,"answer_id":76700668,"question_id":38695886,"body_markdown":"Clearing redis cache hekped in my case:\r\n```sh\r\ndocker exec -it redis redis-cli -a redis-password FLUSHALL\r\n```","title":"Cannot deserialize; nested exception is org.springframework.core.serializer.support.SerializationFailedException: Failed to deserialize payload","body":"<p>Clearing redis cache hekped in my case:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>docker exec -it redis redis-cli -a redis-password FLUSHALL\n</code></pre>\n"}],"owner":{"account_id":7371946,"reputation":704,"user_id":5611861,"accept_rate":60,"display_name":"hamid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41229,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":38696205,"answer_count":6,"score":9,"last_activity_date":1689546907,"creation_date":1470045277,"question_id":38695886,"body_markdown":"I am using `eclipse marse jee`, `spring 4`, `redis 3`.\r\n\r\nI downloaded a `spring` example from [here][1]. This example has 4 applications:\r\n\r\n`admin` - `gateway` - `resource` - `ui`.\r\n\r\nI have ran all of these program. I tested `http://localhost:8080/ui/` and log in with username:admin, password:admin. I got this error in `ui` application.\r\n\r\n    \r\n    org.springframework.data.redis.serializer.SerializationException: Cannot deserialize; nested exception is org.springframework.core.serializer.support.SerializationFailedException: Failed to deserialize payload. Is the byte array a result of corresponding serialization for DefaultDeserializer?; nested exception is java.io.InvalidClassException: org.springframework.security.core.context.SecurityContextImpl; local class incompatible: stream classdesc serialVersionUID = 410, local class serialVersionUID = 400\r\n\t    at org.springframework.data.redis.serializer.JdkSerializationRedisSerializer.deserialize(JdkSerializationRedisSerializer.java:41) ~[spring-data-redis-1.6.4.RELEASE.jar:na]\r\n\t    at org.springframework.data.redis.core.AbstractOperations.deserializeHashValue(AbstractOperations.java:316) ~[spring-data-redis-1.6.4.RELEASE.jar:na]\r\n\t    at org.springframework.data.redis.core.AbstractOperations.deserializeHashMap(AbstractOperations.java:277) ~[spring-data-redis-1.6.4.RELEASE.jar:na]\r\n\t    at org.springframework.data.redis.core.DefaultHashOperations.entries(DefaultHashOperations.java:227) ~[spring-data-redis-1.6.4.RELEASE.jar:na]\r\n\t    at org.springframework.data.redis.core.DefaultBoundHashOperations.entries(DefaultBoundHashOperations.java:101) ~[spring-data-redis-1.6.4.RELEASE.jar:na]\r\n\t    at org.springframework.session.data.redis.RedisOperationsSessionRepository.getSession(RedisOperationsSessionRepository.java:233) ~[spring-session-1.0.2.RELEASE.jar:na]\r\n\t    at org.springframework.session.data.redis.RedisOperationsSessionRepository.getSession(RedisOperationsSessionRepository.java:220) ~[spring-session-1.0.2.RELEASE.jar:na]\r\n\t    at org.springframework.session.data.redis.RedisOperationsSessionRepository.getSession(RedisOperationsSessionRepository.java:141) ~[spring-session-1.0.2.RELEASE.jar:na]\r\n\t    at org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper.getSession(SessionRepositoryFilter.java:276) ~[spring-session-1.0.2.RELEASE.jar:na]\r\n\t    at org.springframework.web.context.request.ServletRequestAttributes.updateAccessedSessionAttributes(ServletRequestAttributes.java:255) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n\t    at org.springframework.web.context.request.AbstractRequestAttributes.requestCompleted(AbstractRequestAttributes.java:48) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n\t    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:106) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n\t    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n\t    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:87) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n\t    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n\t    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n\t    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n\t    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:125) ~[spring-session-1.0.2.RELEASE.jar:na]\r\n\t    at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:65) ~[spring-session-1.0.2.RELEASE.jar:na]\r\n\t    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:121) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n\t    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n\t    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106) [tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502) [tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141) [tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79) [tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88) [tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:522) [tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1095) [tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:672) [tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1502) [tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1458) [tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_05]\r\n\t    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_05]\r\n\t    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at java.lang.Thread.run(Thread.java:745) [na:1.8.0_05]\r\n    Caused by: org.springframework.core.serializer.support.SerializationFailedException: Failed to deserialize payload. Is the byte array a result of corresponding serialization for DefaultDeserializer?; nested exception is java.io.InvalidClassException: org.springframework.security.core.context.SecurityContextImpl; local class incompatible: stream classdesc serialVersionUID = 410, local class serialVersionUID = 400\r\n\t    at org.springframework.core.serializer.support.DeserializingConverter.convert(DeserializingConverter.java:78) ~[spring-core-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n\t    at org.springframework.core.serializer.support.DeserializingConverter.convert(DeserializingConverter.java:36) ~[spring-core-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n\t    at org.springframework.data.redis.serializer.JdkSerializationRedisSerializer.deserialize(JdkSerializationRedisSerializer.java:39) ~[spring-data-redis-1.6.4.RELEASE.jar:na]\r\n\t... 45 common frames omitted\r\n    Caused by: java.io.InvalidClassException: org.springframework.security.core.context.SecurityContextImpl; local class incompatible: stream classdesc serialVersionUID = 410, local class serialVersionUID = 400\r\n\t    at java.io.ObjectStreamClass.initNonProxy(ObjectStreamClass.java:621) ~[na:1.8.0_05]\r\n\t    at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1623) ~[na:1.8.0_05]\r\n\t    at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1518) ~[na:1.8.0_05]\r\n\t    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1774) ~[na:1.8.0_05]\r\n\t    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1351) ~[na:1.8.0_05]\r\n\t    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:371) ~[na:1.8.0_05]\r\n\t    at org.springframework.core.serializer.DefaultDeserializer.deserialize(DefaultDeserializer.java:70) ~[spring-core-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n\t    at org.springframework.core.serializer.support.DeserializingConverter.convert(DeserializingConverter.java:73) ~[spring-core-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n\t    ... 47 common frames omitted\r\n\r\nCan anyone help me?\r\n\r\n  [1]: https://github.com/hmiri/tut-spring-security-and-angular-js/tree/master/double","title":"Cannot deserialize; nested exception is org.springframework.core.serializer.support.SerializationFailedException: Failed to deserialize payload","body":"<p>I am using <code>eclipse marse jee</code>, <code>spring 4</code>, <code>redis 3</code>.</p>\n\n<p>I downloaded a <code>spring</code> example from <a href=\"https://github.com/hmiri/tut-spring-security-and-angular-js/tree/master/double\" rel=\"noreferrer\">here</a>. This example has 4 applications:</p>\n\n<p><code>admin</code> - <code>gateway</code> - <code>resource</code> - <code>ui</code>.</p>\n\n<p>I have ran all of these program. I tested <code>http://localhost:8080/ui/</code> and log in with username:admin, password:admin. I got this error in <code>ui</code> application.</p>\n\n<pre><code>org.springframework.data.redis.serializer.SerializationException: Cannot deserialize; nested exception is org.springframework.core.serializer.support.SerializationFailedException: Failed to deserialize payload. Is the byte array a result of corresponding serialization for DefaultDeserializer?; nested exception is java.io.InvalidClassException: org.springframework.security.core.context.SecurityContextImpl; local class incompatible: stream classdesc serialVersionUID = 410, local class serialVersionUID = 400\n    at org.springframework.data.redis.serializer.JdkSerializationRedisSerializer.deserialize(JdkSerializationRedisSerializer.java:41) ~[spring-data-redis-1.6.4.RELEASE.jar:na]\n    at org.springframework.data.redis.core.AbstractOperations.deserializeHashValue(AbstractOperations.java:316) ~[spring-data-redis-1.6.4.RELEASE.jar:na]\n    at org.springframework.data.redis.core.AbstractOperations.deserializeHashMap(AbstractOperations.java:277) ~[spring-data-redis-1.6.4.RELEASE.jar:na]\n    at org.springframework.data.redis.core.DefaultHashOperations.entries(DefaultHashOperations.java:227) ~[spring-data-redis-1.6.4.RELEASE.jar:na]\n    at org.springframework.data.redis.core.DefaultBoundHashOperations.entries(DefaultBoundHashOperations.java:101) ~[spring-data-redis-1.6.4.RELEASE.jar:na]\n    at org.springframework.session.data.redis.RedisOperationsSessionRepository.getSession(RedisOperationsSessionRepository.java:233) ~[spring-session-1.0.2.RELEASE.jar:na]\n    at org.springframework.session.data.redis.RedisOperationsSessionRepository.getSession(RedisOperationsSessionRepository.java:220) ~[spring-session-1.0.2.RELEASE.jar:na]\n    at org.springframework.session.data.redis.RedisOperationsSessionRepository.getSession(RedisOperationsSessionRepository.java:141) ~[spring-session-1.0.2.RELEASE.jar:na]\n    at org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper.getSession(SessionRepositoryFilter.java:276) ~[spring-session-1.0.2.RELEASE.jar:na]\n    at org.springframework.web.context.request.ServletRequestAttributes.updateAccessedSessionAttributes(ServletRequestAttributes.java:255) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n    at org.springframework.web.context.request.AbstractRequestAttributes.requestCompleted(AbstractRequestAttributes.java:48) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:106) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:87) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:125) ~[spring-session-1.0.2.RELEASE.jar:na]\n    at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:65) ~[spring-session-1.0.2.RELEASE.jar:na]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:121) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:522) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1095) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:672) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1502) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1458) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_05]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_05]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at java.lang.Thread.run(Thread.java:745) [na:1.8.0_05]\nCaused by: org.springframework.core.serializer.support.SerializationFailedException: Failed to deserialize payload. Is the byte array a result of corresponding serialization for DefaultDeserializer?; nested exception is java.io.InvalidClassException: org.springframework.security.core.context.SecurityContextImpl; local class incompatible: stream classdesc serialVersionUID = 410, local class serialVersionUID = 400\n    at org.springframework.core.serializer.support.DeserializingConverter.convert(DeserializingConverter.java:78) ~[spring-core-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n    at org.springframework.core.serializer.support.DeserializingConverter.convert(DeserializingConverter.java:36) ~[spring-core-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n    at org.springframework.data.redis.serializer.JdkSerializationRedisSerializer.deserialize(JdkSerializationRedisSerializer.java:39) ~[spring-data-redis-1.6.4.RELEASE.jar:na]\n... 45 common frames omitted\nCaused by: java.io.InvalidClassException: org.springframework.security.core.context.SecurityContextImpl; local class incompatible: stream classdesc serialVersionUID = 410, local class serialVersionUID = 400\n    at java.io.ObjectStreamClass.initNonProxy(ObjectStreamClass.java:621) ~[na:1.8.0_05]\n    at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1623) ~[na:1.8.0_05]\n    at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1518) ~[na:1.8.0_05]\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1774) ~[na:1.8.0_05]\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1351) ~[na:1.8.0_05]\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:371) ~[na:1.8.0_05]\n    at org.springframework.core.serializer.DefaultDeserializer.deserialize(DefaultDeserializer.java:70) ~[spring-core-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n    at org.springframework.core.serializer.support.DeserializingConverter.convert(DeserializingConverter.java:73) ~[spring-core-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n    ... 47 common frames omitted\n</code></pre>\n\n<p>Can anyone help me?</p>\n"},{"tags":["java","http","feign"],"answers":[{"tags":[],"owner":{"account_id":1295445,"reputation":5529,"user_id":1246623,"display_name":"yongsung.yoon"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1494390892,"creation_date":1494390892,"answer_id":43883656,"question_id":43868680,"body_markdown":"It seems to be caused by a bug that is already opened - https://github.com/OpenFeign/feign/issues/424\r\n\r\nLike in comments, you can define your own `Param.Expander` something like below as a workaround.\r\n\r\n\r\n    @RequestLine(&quot;GET /Groups?filter={roleName}&quot;)\r\n    String isValidRole(@Param(value = &quot;roleName&quot;, expander = PrefixExpander.class) String roleName);\r\n\r\n    static final class PrefixExpander implements Param.Expander {\r\n        @Override\r\n        public String expand(Object value) {\r\n            return &quot;displayName+Eq+&quot; + value;\r\n        }\r\n    }\r\n\r\n","title":"Feign Client does not resolve Query parameter","body":"<p>It seems to be caused by a bug that is already opened - <a href=\"https://github.com/OpenFeign/feign/issues/424\" rel=\"noreferrer\">https://github.com/OpenFeign/feign/issues/424</a></p>\n\n<p>Like in comments, you can define your own <code>Param.Expander</code> something like below as a workaround.</p>\n\n<pre><code>@RequestLine(\"GET /Groups?filter={roleName}\")\nString isValidRole(@Param(value = \"roleName\", expander = PrefixExpander.class) String roleName);\n\nstatic final class PrefixExpander implements Param.Expander {\n    @Override\n    public String expand(Object value) {\n        return \"displayName+Eq+\" + value;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2286745,"reputation":154,"user_id":2010564,"accept_rate":40,"display_name":"Filip Kowalski"},"score":2,"creation_date":1620238524,"post_id":55919448,"comment_id":119144566,"body_markdown":"If I added `@JsonProperty(&quot;na-me&quot;)` on top of the `User#name` is it expected that feign should make a request with encoded &quot;na-me&quot; param rather than &quot;name&quot; ? cause I thought is should but it doesn&#39;t and I am not sure if I should ask a separete question about it or it is just how feign works","body":"If I added <code>@JsonProperty(&quot;na-me&quot;)</code> on top of the <code>User#name</code> is it expected that feign should make a request with encoded &quot;na-me&quot; param rather than &quot;name&quot; ? cause I thought is should but it doesn&#39;t and I am not sure if I should ask a separete question about it or it is just how feign works"},{"owner":{"account_id":6147909,"reputation":196,"user_id":4793299,"display_name":"PraBhu"},"score":0,"creation_date":1652415676,"post_id":55919448,"comment_id":127605529,"body_markdown":"@FilipKowalski Did you find the solution to your problem?","body":"@FilipKowalski Did you find the solution to your problem?"},{"owner":{"account_id":951457,"reputation":605,"user_id":977528,"accept_rate":0,"display_name":"Andrew Niken"},"score":0,"creation_date":1692884710,"post_id":55919448,"comment_id":135686944,"body_markdown":"@FilipKowalski - could solve the issue with @JsonProperty(&quot;na-me&quot;) in this situation?","body":"@FilipKowalski - could solve the issue with @JsonProperty(&quot;na-me&quot;) in this situation?"}],"tags":[],"owner":{"account_id":11014299,"reputation":893,"user_id":8090608,"display_name":"Frank.Chang"},"comment_count":3,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1556621770,"creation_date":1556621770,"answer_id":55919448,"question_id":43868680,"body_markdown":"As the recent(2019.04) [open feign issue](https://github.com/OpenFeign/feign/pull/667) and [spring doc](https://cloud.spring.io/spring-cloud-static/spring-cloud-openfeign/2.1.0.RELEASE/multi/multi_spring-cloud-feign.html#_feign_querymap_support) say：\n&gt;The OpenFeign @QueryMap annotation provides support for POJOs to be used as GET parameter maps.\n&gt;\n&gt;Spring Cloud OpenFeign provides an equivalent @SpringQueryMap annotation, which is used to annotate a POJO or Map parameter as a query parameter map since 2.1.0.\n\nYou can use it like this:\n```\n    @GetMapping(&quot;user&quot;)\n    String getUser(@SpringQueryMap User user);\n```\n```\npublic class User {\n    private String name;\n    private int age;\n    ...\n}\n```","title":"Feign Client does not resolve Query parameter","body":"<p>As the recent(2019.04) <a href=\"https://github.com/OpenFeign/feign/pull/667\" rel=\"noreferrer\">open feign issue</a> and <a href=\"https://cloud.spring.io/spring-cloud-static/spring-cloud-openfeign/2.1.0.RELEASE/multi/multi_spring-cloud-feign.html#_feign_querymap_support\" rel=\"noreferrer\">spring doc</a> say：</p>\n<blockquote>\n<p>The OpenFeign @QueryMap annotation provides support for POJOs to be used as GET parameter maps.</p>\n<p>Spring Cloud OpenFeign provides an equivalent @SpringQueryMap annotation, which is used to annotate a POJO or Map parameter as a query parameter map since 2.1.0.</p>\n</blockquote>\n<p>You can use it like this:</p>\n<pre><code>    @GetMapping(&quot;user&quot;)\n    String getUser(@SpringQueryMap User user);\n</code></pre>\n<pre><code>public class User {\n    private String name;\n    private int age;\n    ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2146132,"reputation":1056,"user_id":1903723,"accept_rate":92,"display_name":"Dipen"},"score":2,"creation_date":1614128157,"post_id":59578013,"comment_id":117289176,"body_markdown":"I really like this approach. `@QueryMap` didn&#39;t worked for me instead replacing it with `@SpringQueryMap` does the job. Spring has some limitation while using `@QueryMap` for further reading: https://cloud.spring.io/spring-cloud-openfeign/reference/html/#feign-querymap-support","body":"I really like this approach. <code>@QueryMap</code> didn&#39;t worked for me instead replacing it with <code>@SpringQueryMap</code> does the job. Spring has some limitation while using <code>@QueryMap</code> for further reading: <a href=\"https://cloud.spring.io/spring-cloud-openfeign/reference/html/#feign-querymap-support\" rel=\"nofollow noreferrer\">cloud.spring.io/spring-cloud-openfeign/reference/html/&hellip;</a>"}],"tags":[],"owner":{"account_id":1567451,"reputation":3382,"user_id":1455919,"accept_rate":62,"display_name":"Chinthaka Dinadasa"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1600244274,"creation_date":1578051713,"answer_id":59578013,"question_id":43868680,"body_markdown":"Working fine using `@QueryMap`\r\n\r\nURL: **/api/v1/task/search?status=PENDING&amp;size=20&amp;page=0**\r\n\r\n    Map&lt;String, String&gt; parameters = new LinkedHashMap&lt;&gt;()\r\n            parameters.put(&quot;status&quot;, &quot;PENDING&quot;)\r\n            parameters.put(&quot;size&quot;, &quot;20&quot;)\r\n            parameters.put(&quot;page&quot;, &quot;0&quot;)\r\n            def tasks = restClientFactory.taskApiClient.searchTasks(parameters)\r\n\r\nInside Client Interface\r\n\r\n    @RequestLine(&quot;GET /api/v1/task/search?{parameters}&quot;)\r\n    List&lt;Task&gt; searchTasks(@QueryMap Map&lt;String, String&gt; parameters)\r\n\r\n\r\n","title":"Feign Client does not resolve Query parameter","body":"<p>Working fine using <code>@QueryMap</code></p>\n<p>URL: <strong>/api/v1/task/search?status=PENDING&amp;size=20&amp;page=0</strong></p>\n<pre><code>Map&lt;String, String&gt; parameters = new LinkedHashMap&lt;&gt;()\n        parameters.put(&quot;status&quot;, &quot;PENDING&quot;)\n        parameters.put(&quot;size&quot;, &quot;20&quot;)\n        parameters.put(&quot;page&quot;, &quot;0&quot;)\n        def tasks = restClientFactory.taskApiClient.searchTasks(parameters)\n</code></pre>\n<p>Inside Client Interface</p>\n<pre><code>@RequestLine(&quot;GET /api/v1/task/search?{parameters}&quot;)\nList&lt;Task&gt; searchTasks(@QueryMap Map&lt;String, String&gt; parameters)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19878904,"reputation":186,"user_id":14563324,"display_name":"hitesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683205755,"creation_date":1628685013,"answer_id":68742062,"question_id":43868680,"body_markdown":"With Spring feign client below works fine: \r\n```\r\n@GetMapping(&quot;/Groups?filter=displayName+Eq+{roleName}&quot;)\r\nSCIMGroup isValidRole(@PathVariable(value = &quot;roleName&quot;) String roleName);\r\n```","title":"Feign Client does not resolve Query parameter","body":"<p>With Spring feign client below works fine:</p>\n<pre><code>@GetMapping(&quot;/Groups?filter=displayName+Eq+{roleName}&quot;)\nSCIMGroup isValidRole(@PathVariable(value = &quot;roleName&quot;) String roleName);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8603922,"reputation":31,"user_id":6444615,"display_name":"Rahul Soni"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689545898,"creation_date":1689545898,"answer_id":76700625,"question_id":43868680,"body_markdown":"Well, as suggested by @Frank.Chang you can use @SpringQueryMap for this:\r\n\r\n\r\n    @GetMapping(&quot;user&quot;)\r\n    String getUser(@SpringQueryMap User user);\r\n```\r\npublic class User {\r\n    @JsonProperty(&quot;na-me&quot;)  // json property won&#39;t work\r\n    private String name;\r\n    private int age;\r\n    ...\r\n}\r\n```\r\n\r\nBut remember, in this case @JsonProperty(&quot;na-me&quot;), won&#39;t work for you. For that you will have to create a getter for the field and add @Param annotation from feign package on the getter. like this.\r\n\r\n```\r\npublic class User {\r\n    private String name;\r\n    private int age;\r\n    ...\r\n    @Param(&quot;na-me&quot;)\r\n    public String getName() {\r\n        return this.name;\r\n    }\r\n\r\n}\r\n```\r\n","title":"Feign Client does not resolve Query parameter","body":"<p>Well, as suggested by @Frank.Chang you can use @SpringQueryMap for this:</p>\n<pre><code>@GetMapping(&quot;user&quot;)\nString getUser(@SpringQueryMap User user);\n</code></pre>\n<pre><code>public class User {\n    @JsonProperty(&quot;na-me&quot;)  // json property won't work\n    private String name;\n    private int age;\n    ...\n}\n</code></pre>\n<p>But remember, in this case @JsonProperty(&quot;na-me&quot;), won't work for you. For that you will have to create a getter for the field and add @Param annotation from feign package on the getter. like this.</p>\n<pre><code>public class User {\n    private String name;\n    private int age;\n    ...\n    @Param(&quot;na-me&quot;)\n    public String getName() {\n        return this.name;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":425139,"reputation":12311,"user_id":805563,"accept_rate":87,"display_name":"Bee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55947,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":43883656,"answer_count":5,"score":15,"last_activity_date":1689545898,"creation_date":1494329540,"question_id":43868680,"body_markdown":"Here is my interface:\r\n\r\n    public interface SCIMServiceStub {\r\n        @RequestLine(&quot;GET /Users/{id}&quot;)\r\n        SCIMUser getUser(@Param(&quot;id&quot;) String id);\r\n\r\n        @RequestLine(&quot;GET /Groups?filter=displayName+Eq+{roleName}&quot;)\r\n        SCIMGroup isValidRole(@Param(&quot;roleName&quot;) String roleName);\r\n    }\r\n\r\nHere `getUser` call works fine.\r\n\r\nBut `isValidRole` is not working properly as the request is eventually sent like this.\r\n\r\n    /Groups?filter=displayName+Eq+{roleName}\r\n\r\nHere `{roleName}` is not resolved.\r\n\r\nWhat am I missing here? Appreciate some help, as I&#39;m clueless at this point.\r\n\r\n**Edit**: One more question: Is there a way to avoid automatic url encoding of query parameters?","title":"Feign Client does not resolve Query parameter","body":"<p>Here is my interface:</p>\n<pre><code>public interface SCIMServiceStub {\n    @RequestLine(&quot;GET /Users/{id}&quot;)\n    SCIMUser getUser(@Param(&quot;id&quot;) String id);\n\n    @RequestLine(&quot;GET /Groups?filter=displayName+Eq+{roleName}&quot;)\n    SCIMGroup isValidRole(@Param(&quot;roleName&quot;) String roleName);\n}\n</code></pre>\n<p>Here <code>getUser</code> call works fine.</p>\n<p>But <code>isValidRole</code> is not working properly as the request is eventually sent like this.</p>\n<pre><code>/Groups?filter=displayName+Eq+{roleName}\n</code></pre>\n<p>Here <code>{roleName}</code> is not resolved.</p>\n<p>What am I missing here? Appreciate some help, as I'm clueless at this point.</p>\n<p><strong>Edit</strong>: One more question: Is there a way to avoid automatic url encoding of query parameters?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":2,"creation_date":1689544989,"post_id":76700438,"comment_id":135224786,"body_markdown":"It&#39;s coincidental and related to the Integer hashCode calculation.  Change your `HashMap` to `HashMap&lt;Integer,Integer&gt; occurrences = new HashMap&lt;&gt;(2, 3.0f);` and see the difference.","body":"It&#39;s coincidental and related to the Integer hashCode calculation.  Change your <code>HashMap</code> to <code>HashMap&lt;Integer,Integer&gt; occurrences = new HashMap&lt;&gt;(2, 3.0f);</code> and see the difference."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1689545472,"post_id":76700438,"comment_id":135224829,"body_markdown":"Try some variations; for example, maybe keys 7 and 17 (in a default-capacity hashmap)","body":"Try some variations; for example, maybe keys 7 and 17 (in a default-capacity hashmap)"}],"owner":{"account_id":1021473,"reputation":305,"user_id":1031702,"display_name":"Gregory Ray"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689542261,"answer_count":0,"score":0,"last_activity_date":1689542277,"creation_date":1689542004,"question_id":76700438,"body_markdown":"Here is my code, being ran on LeetCode:\r\n\r\n```\r\nclass Solution {\r\n    private int[] nums;\r\n    private HashMap&lt;Integer, Integer&gt; memo = new HashMap&lt;Integer, Integer&gt;();\r\n    private HashMap&lt;Integer, Integer&gt; occurances = new HashMap&lt;Integer, Integer&gt;();\r\n    private int dp(int current) {\r\n        //System.out.println(current);\r\n        return 0;\r\n    }\r\n    \r\n    public int deleteAndEarn(int[] nums) {\r\n        for(var i = 0; i &lt; nums.length; i++) {\r\n            var n = nums[i];\r\n            var o = occurances.getOrDefault(n, 0);\r\n            o++;\r\n            occurances.put(n, o);\r\n        }\r\n        \r\n        int max = 0;\r\n        for(Integer i: occurances.keySet()) {\r\n            System.out.println(i);\r\n            max = Math.max(dp(i), max);\r\n        }\r\n        \r\n        return max;\r\n    }\r\n}\r\n```\r\n\r\nand here is the stdout:\r\n```\r\n2\r\n3\r\n4\r\n5\r\n9\r\n```\r\nwhere nums = &#39;[3,4,2,9,2,4,3,2,4,5]&#39;\r\n\r\nI have tried multiple combinations of nums and it is always ordered. As far as I understand HashMap put and HashMap keySet are both constant time operations and not n log(n). So what is happening under the hood that is causing to always be sorted? Is it safe to assume the time complexity of my simple algorithm of printing numbers is still o(n)? Is it safe to assume at some point these will stop being ordered? \r\n","title":"Why when I use HashMap put and HashMap keySet I am getting back my Integer keys ordered?","body":"<p>Here is my code, being ran on LeetCode:</p>\n<pre><code>class Solution {\n    private int[] nums;\n    private HashMap&lt;Integer, Integer&gt; memo = new HashMap&lt;Integer, Integer&gt;();\n    private HashMap&lt;Integer, Integer&gt; occurances = new HashMap&lt;Integer, Integer&gt;();\n    private int dp(int current) {\n        //System.out.println(current);\n        return 0;\n    }\n    \n    public int deleteAndEarn(int[] nums) {\n        for(var i = 0; i &lt; nums.length; i++) {\n            var n = nums[i];\n            var o = occurances.getOrDefault(n, 0);\n            o++;\n            occurances.put(n, o);\n        }\n        \n        int max = 0;\n        for(Integer i: occurances.keySet()) {\n            System.out.println(i);\n            max = Math.max(dp(i), max);\n        }\n        \n        return max;\n    }\n}\n</code></pre>\n<p>and here is the stdout:</p>\n<pre><code>2\n3\n4\n5\n9\n</code></pre>\n<p>where nums = '[3,4,2,9,2,4,3,2,4,5]'</p>\n<p>I have tried multiple combinations of nums and it is always ordered. As far as I understand HashMap put and HashMap keySet are both constant time operations and not n log(n). So what is happening under the hood that is causing to always be sorted? Is it safe to assume the time complexity of my simple algorithm of printing numbers is still o(n)? Is it safe to assume at some point these will stop being ordered?</p>\n"},{"tags":["java","lambda","java-17","functional-interface"],"comments":[{"owner":{"account_id":10773670,"reputation":1213,"user_id":7926439,"display_name":"Mustapha Belmokhtar"},"score":0,"creation_date":1689217140,"post_id":76675571,"comment_id":135182948,"body_markdown":"not a &#39;good&#39; approach, but if you make your `CustomObject implements Supplier&lt;CustomObject&gt;`, in the `get` method `return this` .. then  `CustomObject object = new CustomObject(); Supplier&lt;CustomObject&gt; supplier = object;`","body":"not a &#39;good&#39; approach, but if you make your <code>CustomObject implements Supplier&lt;CustomObject&gt;</code>, in the <code>get</code> method <code>return this</code> .. then  <code>CustomObject object = new CustomObject(); Supplier&lt;CustomObject&gt; supplier = object;</code>"},{"owner":{"account_id":25271612,"reputation":13,"user_id":19100861,"display_name":"mullair"},"score":0,"creation_date":1689222052,"post_id":76675571,"comment_id":135183342,"body_markdown":"I also found this solution:\n`() -&gt; customObject.getClass().getDeclaredConstructor().newInstance()`","body":"I also found this solution: <code>() -&gt; customObject.getClass().getDeclaredConstructor().newInstance&zwnj;&#8203;()</code>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689224597,"post_id":76675571,"comment_id":135183615,"body_markdown":"Err, `Supplier&lt;CustomObject&gt; supplier = existingObject::get;`? or whatever the method name in `existingObject` is. Or perhaps `Supplier&lt;CustomObject&gt; supplier = () -&gt; existingObject`? It&#39;s hard to know exactly what you mean here.","body":"Err, <code>Supplier&lt;CustomObject&gt; supplier = existingObject::get;</code>? or whatever the method name in <code>existingObject</code> is. Or perhaps <code>Supplier&lt;CustomObject&gt; supplier = () -&gt; existingObject</code>? It&#39;s hard to know exactly what you mean here."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1689224880,"post_id":76675571,"comment_id":135183646,"body_markdown":"Please clarify: do you want a new instance? with same data/field content? Or do you just want the `Supplier` to return the already existing (same) instance (that is `() -&gt; customObject`)?","body":"Please clarify: do you want a new instance? with same data/field content? Or do you just want the <code>Supplier</code> to return the already existing (same) instance (that is <code>() -&gt; customObject</code>)?"},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1689245776,"post_id":76675571,"comment_id":135187552,"body_markdown":"Your question does not make sense, please edit it as you&#39;ve contradicted yourself by saying &quot;I want to create a Java Supplier from an existing instantiated Java object. &quot; and then &quot;I also found this solution: () -&gt; customObject.getClass().getDeclaredConstructor().newInstance()&quot; which is creating a new instance.","body":"Your question does not make sense, please edit it as you&#39;ve contradicted yourself by saying &quot;I want to create a Java Supplier from an existing instantiated Java object. &quot; and then &quot;I also found this solution: () -&gt; customObject.getClass().getDeclaredConstructor().newInstance&zwnj;&#8203;()&quot; which is creating a new instance."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1689246710,"post_id":76675571,"comment_id":135187776,"body_markdown":"@DuncG I believe they did not mean &quot;I want to create a Supplier that returns the given instance&quot; but &quot;a Supplier that returns a new instance from an existing instance&quot;, that is not &quot;Supplier from existing instance&quot; but &quot;given an instance, create a Supplier&quot;  (but just my opinion - based on the 3 code snippets posted by OP) ((not all people are native English speakers/writers/...))","body":"@DuncG I believe they did not mean &quot;I want to create a Supplier that returns the given instance&quot; but &quot;a Supplier that returns a new instance from an existing instance&quot;, that is not &quot;Supplier from existing instance&quot; but &quot;given an instance, create a Supplier&quot;  (but just my opinion - based on the 3 code snippets posted by OP) ((not all people are native English speakers/writers/...))"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689247652,"post_id":76675571,"comment_id":135187968,"body_markdown":"@user16320675 They certainly aren&#39;t. The three code snippets are followed by the words &#39;***however*** [my emphasis], in my use-case, I want to take the `Supplier` from an existing custom object.&#39; In other words the snippets don&#39;t do what he wants. I don&#39;t see how this could possibly be more clear.","body":"@user16320675 They certainly aren&#39;t. The three code snippets are followed by the words &#39;<b><i>however</i></b> [my emphasis], in my use-case, I want to take the <code>Supplier</code> from an existing custom object.&#39; In other words the snippets don&#39;t do what he wants. I don&#39;t see how this could possibly be more clear."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1689247833,"post_id":76675571,"comment_id":135188009,"body_markdown":"@user207421 (i) the third is &quot;I also found this solution:&quot; and not &quot;however&quot;; (ii) they *apparently* meant that the two first snippets only create an instance of a FIXED class, a class given at compile time;  they (*apparently*) want the new instance to be from the same class as the given instance (like from a template)","body":"@user207421 (i) the third is &quot;I also found this solution:&quot; and not &quot;however&quot;; (ii) they <i>apparently</i> meant that the two first snippets only create an instance of a FIXED class, a class given at compile time;  they (<i>apparently</i>) want the new instance to be from the same class as the given instance (like from a template)"}],"answers":[{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1689222451,"post_id":76675602,"comment_id":135183382,"body_markdown":"from the question. OP apparently: (i) knows that there is no `Supplier#of()` - &quot;*This syntax for Suppliers however does not exist for Java*&quot;; (ii) needs a `Supplier` for a type not known at compile time; (iii) wants a `new` instance of the same class, not just that instance.","body":"from the question. OP apparently: (i) knows that there is no <code>Supplier#of()</code> - &quot;<i>This syntax for Suppliers however does not exist for Java</i>&quot;; (ii) needs a <code>Supplier</code> for a type not known at compile time; (iii) wants a <code>new</code> instance of the same class, not just that instance."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1689224250,"post_id":76675602,"comment_id":135183579,"body_markdown":"@user16320675 I don&#39;t see anything in the question about wanting a new instance. On the contrary, he states the object is already existing and instantiated.","body":"@user16320675 I don&#39;t see anything in the question about wanting a new instance. On the contrary, he states the object is already existing and instantiated."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1689224715,"post_id":76675602,"comment_id":135183625,"body_markdown":"&quot;`()-&gt; new CustomObject()`&quot;, &quot;`CustomObject::new`&quot; and even in OPs comment on the question &quot;`... .getDeclaredConstructor().newInstance()`&quot;","body":"&quot;<code>()-&gt; new CustomObject()</code>&quot;, &quot;<code>CustomObject::new</code>&quot; and even in OPs comment on the question &quot;<code>... .getDeclaredConstructor().newInstance()</code>&quot;"},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1689225701,"post_id":76675602,"comment_id":135183743,"body_markdown":"@user16320675 To be honest, the comment came long after my answer. At the time of asking, the question seemed complete to me so I answered it and didn&#39;t track comments any longer.","body":"@user16320675 To be honest, the comment came long after my answer. At the time of asking, the question seemed complete to me so I answered it and didn&#39;t track comments any longer."},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":1,"creation_date":1689226489,"post_id":76675602,"comment_id":135183840,"body_markdown":"@user16320675 Nope, as far as I check the question history, there is nothing that resembles my snippet.","body":"@user16320675 Nope, as far as I check the question history, there is nothing that resembles my snippet."},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1689226820,"post_id":76675602,"comment_id":135183890,"body_markdown":"@user16320675 None of these is even close to `Supplier&lt;CustomObject&gt; supplier = () -&gt; customObject;` that is in my answer. I just edited the formatting, not the code itself. #facts","body":"@user16320675 None of these is even close to <code>Supplier&lt;CustomObject&gt; supplier = () -&gt; customObject;</code> that is in my answer. I just edited the formatting, not the code itself. #facts"},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1689227305,"post_id":76675602,"comment_id":135183948,"body_markdown":"I don&#39;t really get your point. Feel free to downvote and move on.","body":"I don&#39;t really get your point. Feel free to downvote and move on."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689227556,"post_id":76675602,"comment_id":135183980,"body_markdown":"@user16320675 That was me that said that, not Nikolas, and I stand by it. The OP specifically states that he &#39;want[s] to take the Supplier from an existing custom object&#39;.","body":"@user16320675 That was me that said that, not Nikolas, and I stand by it. The OP specifically states that he &#39;want[s] to take the Supplier from an existing custom object&#39;."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1689236706,"post_id":76675602,"comment_id":135185634,"body_markdown":"@user16320675 You are contradicting the OP&#39;s own words.","body":"@user16320675 You are contradicting the OP&#39;s own words."}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":9,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1689217581,"creation_date":1689217011,"answer_id":76675602,"question_id":76675571,"body_markdown":"Suppliers are not created that way. There is no static method `Supplier#of(...)` in the standard JDK.\r\n\r\nIf you want to create a `Supplier` supplying a previously created instance, do this:\r\n\r\n```java\r\nCustomObject customObject = new CustomObject();\r\nSupplier&lt;CustomObject&gt; supplier = () -&gt; customObject;\r\n```\r\nThough doing this, you lose the benefits of lazy instantiation as the instance becomes always instantiated before and regardless of whether the `supplier` is called or not.\r\n\r\nFinally, remember the instance `customObject` must be marked as `final` or stay &quot;effectively final&quot;, i.e. you can&#39;t reassign to it anything else.","title":"Java: Creating a Supplier for a new instance of an Object from an instantiated Object","body":"<p>Suppliers are not created that way. There is no static method <code>Supplier#of(...)</code> in the standard JDK.</p>\n<p>If you want to create a <code>Supplier</code> supplying a previously created instance, do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CustomObject customObject = new CustomObject();\nSupplier&lt;CustomObject&gt; supplier = () -&gt; customObject;\n</code></pre>\n<p>Though doing this, you lose the benefits of lazy instantiation as the instance becomes always instantiated before and regardless of whether the <code>supplier</code> is called or not.</p>\n<p>Finally, remember the instance <code>customObject</code> must be marked as <code>final</code> or stay &quot;effectively final&quot;, i.e. you can't reassign to it anything else.</p>\n"}],"owner":{"account_id":25271612,"reputation":13,"user_id":19100861,"display_name":"mullair"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"closed_date":1689245786,"answer_count":1,"score":-2,"last_activity_date":1689542136,"creation_date":1689216422,"question_id":76675571,"body_markdown":"I want to create a Java `Supplier` from an existing instantiated Java object. Something like this would do:\r\n\r\n```\r\nCustomObject customObject = new CustomObject();\r\nSupplier&lt;CustomObject&gt; newInstanceSupplier = Supplier.of(customObject)\r\n```\r\nThis syntax for `Supplier` however does not exist for Java and I am wondering whether there is a convenient solution to this one. \r\n\r\nI know I could easily create a supplier like this:\r\n\r\n```\r\nSupplier&lt;CustomObject&gt; supplier = ()-&gt; new CustomObject()\r\n```\r\nor\r\n```\r\nSupplier&lt;CustomObject&gt; supplier = CustomObject::new\r\n```\r\n\r\nHowever, in my use-case, I want to take the `Supplier` from an existing custom object to allow for abstraction.\r\n\r\nIs there a convenient way to do so?\r\n\r\nThis [question](https://stackoverflow.com/questions/45142151/how-to-get-a-supplier-from-an-instance) tackles a slightly different approach.","title":"Java: Creating a Supplier for a new instance of an Object from an instantiated Object","body":"<p>I want to create a Java <code>Supplier</code> from an existing instantiated Java object. Something like this would do:</p>\n<pre><code>CustomObject customObject = new CustomObject();\nSupplier&lt;CustomObject&gt; newInstanceSupplier = Supplier.of(customObject)\n</code></pre>\n<p>This syntax for <code>Supplier</code> however does not exist for Java and I am wondering whether there is a convenient solution to this one.</p>\n<p>I know I could easily create a supplier like this:</p>\n<pre><code>Supplier&lt;CustomObject&gt; supplier = ()-&gt; new CustomObject()\n</code></pre>\n<p>or</p>\n<pre><code>Supplier&lt;CustomObject&gt; supplier = CustomObject::new\n</code></pre>\n<p>However, in my use-case, I want to take the <code>Supplier</code> from an existing custom object to allow for abstraction.</p>\n<p>Is there a convenient way to do so?</p>\n<p>This <a href=\"https://stackoverflow.com/questions/45142151/how-to-get-a-supplier-from-an-instance\">question</a> tackles a slightly different approach.</p>\n"},{"tags":["java","android","kotlin","gradle","build.gradle"],"comments":[{"owner":{"account_id":18059881,"reputation":111,"user_id":14193948,"display_name":"Aakash Kumar"},"score":0,"creation_date":1691577678,"post_id":76700432,"comment_id":135509610,"body_markdown":"change your gradle version also when you are changed the jdk version because some time its issue is also occur due to that","body":"change your gradle version also when you are changed the jdk version because some time its issue is also occur due to that"}],"owner":{"account_id":19110310,"reputation":25,"user_id":16650691,"display_name":"Ankit Verma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689541921,"creation_date":1689541921,"question_id":76700432,"body_markdown":"I am Trying to Solve this Error, which is encountered while building my application\r\n\r\nExecution failed for task &#39;:app:checkDebugDuplicateClasses&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\r\n   &gt; Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n     Duplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.internal.jdk7.JDK7PlatformImplementations$ReflectSdkVersion found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.internal.jdk8.JDK8PlatformImplementations found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n     Duplicate class kotlin.internal.jdk8.JDK8PlatformImplementations$ReflectSdkVersion found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n     Duplicate class kotlin.io.path.DirectoryEntriesReader found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.io.path.ExperimentalPathApi found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.io.path.FileVisitorBuilder found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.io.path.FileVisitorBuilderImpl found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.io.path.FileVisitorImpl found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.io.path.LinkFollowing found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.io.path.PathNode found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.io.path.PathRelativizer found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.io.path.PathTreeWalk found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.io.path.PathTreeWalk$bfsIterator$1 found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.io.path.PathTreeWalk$dfsIterator$1 found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.io.path.PathTreeWalkKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.io.path.PathWalkOption found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.io.path.PathsKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.io.path.PathsKt__PathReadWriteKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.io.path.PathsKt__PathUtilsKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.jdk7.AutoCloseableKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.jvm.jdk8.JvmRepeatableKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n     Duplicate class kotlin.jvm.optionals.OptionalsKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n     Duplicate class kotlin.random.jdk8.PlatformThreadLocalRandom found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n     Duplicate class kotlin.streams.jdk8.StreamsKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$1 found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$2 found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$3 found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4 found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n     Duplicate class kotlin.text.jdk8.RegexExtensionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n     Duplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n    \r\n**I tried solving this error while changing the version of my JDK and various other solutions provided on stack overflow but nothing worked, can someone solve it please..**","title":"How to solve this Error Execution failed for task &#39;:app:checkDebugDuplicateClasses&#39;","body":"<p>I am Trying to Solve this Error, which is encountered while building my application</p>\n<p>Execution failed for task ':app:checkDebugDuplicateClasses'.</p>\n<blockquote>\n<p>A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\nDuplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations$ReflectSdkVersion found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations$ReflectSdkVersion found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.io.path.DirectoryEntriesReader found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.ExperimentalPathApi found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.FileVisitorBuilder found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.FileVisitorBuilderImpl found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.FileVisitorImpl found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.LinkFollowing found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathNode found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathRelativizer found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathTreeWalk found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathTreeWalk$bfsIterator$1 found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathTreeWalk$dfsIterator$1 found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathTreeWalkKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathWalkOption found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathsKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathsKt__PathReadWriteKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathsKt__PathUtilsKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.jdk7.AutoCloseableKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.jvm.jdk8.JvmRepeatableKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.jvm.optionals.OptionalsKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.random.jdk8.PlatformThreadLocalRandom found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.streams.jdk8.StreamsKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$1 found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$2 found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$3 found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4 found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.text.jdk8.RegexExtensionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)</p>\n</blockquote>\n<p><strong>I tried solving this error while changing the version of my JDK and various other solutions provided on stack overflow but nothing worked, can someone solve it please..</strong></p>\n"},{"tags":["java","user-interface","intellij-idea"],"comments":[{"owner":{"account_id":15356640,"reputation":821,"user_id":11078764,"display_name":"nissim abehcera"},"score":0,"creation_date":1618088389,"post_id":67039105,"comment_id":118498004,"body_markdown":"The empty string doesn&#39;t contains integer, so the exception raised. Add a try catch block that wraps integer.parseInt.","body":"The empty string doesn&#39;t contains integer, so the exception raised. Add a try catch block that wraps integer.parseInt."},{"owner":{"account_id":21212558,"reputation":56,"user_id":15600858,"display_name":"emmavie"},"score":0,"creation_date":1618089325,"post_id":67039105,"comment_id":118498190,"body_markdown":"Alright , thank you so much I&#39;ll try that!!","body":"Alright , thank you so much I&#39;ll try that!!"}],"owner":{"account_id":21212558,"reputation":56,"user_id":15600858,"display_name":"emmavie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689541442,"creation_date":1618087737,"question_id":67039105,"body_markdown":"I&#39;m a beginner to java and I&#39;ve been trying to solve this problem for a while now. The program is a sleep calculator that uses a GUI in IntelliJ.\r\n\r\n    at SleepCalculator$1.&lt;init&gt;(SleepCalculator.java:32)\r\n\tat SleepCalculator.&lt;init&gt;(SleepCalculator.java:31)\r\n\tat SleepCalculator.main(SleepCalculator.java:131)\r\n\r\nThe errors show up here and the code for them is this:\r\n\r\n    31-&gt;  BtnCalc.addActionListener(new ActionListener() {\r\n    32-&gt;     int one = Integer.parseInt(TxtYear.getText());\r\n            int two = Integer.parseInt(TxtYearB.getText());\r\n\r\n      public static void main(String[] args) {\r\n        JFrame frame = new JFrame(&quot;SleepCalculator&quot;);\r\n    131-&gt;   frame.setContentPane(new SleepCalculator().Sleep);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n    }\r\n\r\nThis problem has been showing up on my other programs and nothing I have tried has fixed it.","title":"Fixing : Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;&quot;","body":"<p>I'm a beginner to java and I've been trying to solve this problem for a while now. The program is a sleep calculator that uses a GUI in IntelliJ.</p>\n<pre><code>at SleepCalculator$1.&lt;init&gt;(SleepCalculator.java:32)\nat SleepCalculator.&lt;init&gt;(SleepCalculator.java:31)\nat SleepCalculator.main(SleepCalculator.java:131)\n</code></pre>\n<p>The errors show up here and the code for them is this:</p>\n<pre><code>31-&gt;  BtnCalc.addActionListener(new ActionListener() {\n32-&gt;     int one = Integer.parseInt(TxtYear.getText());\n        int two = Integer.parseInt(TxtYearB.getText());\n\n  public static void main(String[] args) {\n    JFrame frame = new JFrame(&quot;SleepCalculator&quot;);\n131-&gt;   frame.setContentPane(new SleepCalculator().Sleep);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.pack();\n    frame.setVisible(true);\n}\n</code></pre>\n<p>This problem has been showing up on my other programs and nothing I have tried has fixed it.</p>\n"},{"tags":["java","docker","maven"],"answers":[{"tags":[],"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689541343,"creation_date":1689541343,"answer_id":76700402,"question_id":76698145,"body_markdown":"You&#39;re missing a `--from=build` option in the second-stage `COPY`.\r\n\r\n```sh\r\nFROM maven:3.9.3-amazoncorretto-20 AS build\r\n...\r\n\r\nFROM amazoncorretto:20-alpine-jdk\r\nWORKDIR /app\r\nCOPY --from=build /usr/src/app/target ./\r\nCOPY entrypoint.sh ./\r\nCMD [&quot;./entrypoint.sh&quot;]\r\n```\r\n\r\nEach `FROM` line starts the build over from the named base image.  As you have it, you are trying to copy the `target` directory from your host system.  This might work (especially in Java) but it does mean the build from the first stage is completely ignored.  Changing it to `COPY --from=build` and specifying the absolute path in the build stage as the source will get the built jar file from the first stage.\r\n\r\nIf you&#39;re using the current BuildKit Docker build backend, it can figure out that the `build` stage isn&#39;t used at all in your current Dockerfile, and it&#39;s in fact possible that the `RUN mvn package` step is simply not run.","title":"target folder is missing after running docker build","body":"<p>You're missing a <code>--from=build</code> option in the second-stage <code>COPY</code>.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>FROM maven:3.9.3-amazoncorretto-20 AS build\n...\n\nFROM amazoncorretto:20-alpine-jdk\nWORKDIR /app\nCOPY --from=build /usr/src/app/target ./\nCOPY entrypoint.sh ./\nCMD [&quot;./entrypoint.sh&quot;]\n</code></pre>\n<p>Each <code>FROM</code> line starts the build over from the named base image.  As you have it, you are trying to copy the <code>target</code> directory from your host system.  This might work (especially in Java) but it does mean the build from the first stage is completely ignored.  Changing it to <code>COPY --from=build</code> and specifying the absolute path in the build stage as the source will get the built jar file from the first stage.</p>\n<p>If you're using the current BuildKit Docker build backend, it can figure out that the <code>build</code> stage isn't used at all in your current Dockerfile, and it's in fact possible that the <code>RUN mvn package</code> step is simply not run.</p>\n"}],"owner":{"account_id":8474404,"reputation":1045,"user_id":6356090,"accept_rate":71,"display_name":"Itzik.B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76700402,"answer_count":1,"score":0,"last_activity_date":1689541343,"creation_date":1689508876,"question_id":76698145,"body_markdown":"I have created this `Dockerfile` which suppose to build the Java project and then run it using the `ENTRYPOINT` script.\r\n\r\n```\r\nFROM maven:3.9.3-amazoncorretto-20 AS build\r\nCOPY src /usr/src/app/src\r\nCOPY pom.xml /usr/src/app\r\nRUN mvn -f /usr/src/app/pom.xml clean package\r\n\r\nFROM amazoncorretto:20-alpine-jdk\r\nCOPY ./target ./\r\nCOPY entrypoint.sh .\r\nENTRYPOINT &quot;sh&quot; &quot;entrypoint.sh&quot;\r\n```\r\n\r\nfor some reason, the command `RUN mvn -f /usr/src/app/pom.xml clean package` is not running or it&#39;s not generating the jar file.\r\n\r\n\r\nwhat am I missing here?\r\n","title":"target folder is missing after running docker build","body":"<p>I have created this <code>Dockerfile</code> which suppose to build the Java project and then run it using the <code>ENTRYPOINT</code> script.</p>\n<pre><code>FROM maven:3.9.3-amazoncorretto-20 AS build\nCOPY src /usr/src/app/src\nCOPY pom.xml /usr/src/app\nRUN mvn -f /usr/src/app/pom.xml clean package\n\nFROM amazoncorretto:20-alpine-jdk\nCOPY ./target ./\nCOPY entrypoint.sh .\nENTRYPOINT &quot;sh&quot; &quot;entrypoint.sh&quot;\n</code></pre>\n<p>for some reason, the command <code>RUN mvn -f /usr/src/app/pom.xml clean package</code> is not running or it's not generating the jar file.</p>\n<p>what am I missing here?</p>\n"},{"tags":["java","android","css","objectanimator"],"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689541262,"creation_date":1689541262,"question_id":76700395,"body_markdown":"I&#39;m trying to convert this CSS animation code to java: \r\n\r\n    @keyframes sideViewKF {\r\n        to {\r\n            transform: \r\n            perspective(58vw) \r\n            translate(-16vw, 8vw) \r\n            rotateX(-6deg) \r\n            rotateZ(-18deg) \r\n            rotateY(-36deg)\r\n        }\r\n    }\r\n\r\nJava version : \r\n\r\n    private void playAnimation() {\r\n            long durationInMillis = (long) (0.5 * 1000);\r\n    \r\n            float translationX = -16f;\r\n            float translationY = 8f;\r\n    \r\n            float rotationX = -6f;\r\n            float rotationZ = -18f;\r\n            float rotationY = -36f;\r\n    \r\n            PropertyValuesHolder translationXHolder = PropertyValuesHolder.ofFloat(&quot;translationX&quot;, translationX);\r\n            PropertyValuesHolder translationYHolder = PropertyValuesHolder.ofFloat(&quot;translationY&quot;, translationY);\r\n            PropertyValuesHolder rotationXHolder = PropertyValuesHolder.ofFloat(&quot;rotationX&quot;, rotationX);\r\n            PropertyValuesHolder rotationZHolder = PropertyValuesHolder.ofFloat(&quot;rotation&quot;, rotationZ);\r\n            PropertyValuesHolder rotationYHolder = PropertyValuesHolder.ofFloat(&quot;rotationY&quot;, rotationY);\r\n    \r\n            ObjectAnimator animator = ObjectAnimator.ofPropertyValuesHolder(currentTimeImage,\r\n                    translationXHolder, translationYHolder, rotationXHolder, rotationZHolder, rotationYHolder);\r\n            animator.setDuration(durationInMillis);\r\n            animator.start();\r\n        }\r\n\r\n**The issue:** \r\n\r\n***Note: the red layout is a fixed aspect ratio layout 16:9***\r\n\r\nIn **Nexus 4 (768 x 1280)**, the `currentTimeImage` is positioned in the right place\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd in the **POCO X3 NFC (1080 x 2400)**, it&#39;s showing in different position :\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/g5e5T.png\r\n  [2]: https://i.stack.imgur.com/oLimW.jpg","title":"Converting CSS animations to Android Java gives different results on different device screens","body":"<p>I'm trying to convert this CSS animation code to java:</p>\n<pre><code>@keyframes sideViewKF {\n    to {\n        transform: \n        perspective(58vw) \n        translate(-16vw, 8vw) \n        rotateX(-6deg) \n        rotateZ(-18deg) \n        rotateY(-36deg)\n    }\n}\n</code></pre>\n<p>Java version :</p>\n<pre><code>private void playAnimation() {\n        long durationInMillis = (long) (0.5 * 1000);\n\n        float translationX = -16f;\n        float translationY = 8f;\n\n        float rotationX = -6f;\n        float rotationZ = -18f;\n        float rotationY = -36f;\n\n        PropertyValuesHolder translationXHolder = PropertyValuesHolder.ofFloat(&quot;translationX&quot;, translationX);\n        PropertyValuesHolder translationYHolder = PropertyValuesHolder.ofFloat(&quot;translationY&quot;, translationY);\n        PropertyValuesHolder rotationXHolder = PropertyValuesHolder.ofFloat(&quot;rotationX&quot;, rotationX);\n        PropertyValuesHolder rotationZHolder = PropertyValuesHolder.ofFloat(&quot;rotation&quot;, rotationZ);\n        PropertyValuesHolder rotationYHolder = PropertyValuesHolder.ofFloat(&quot;rotationY&quot;, rotationY);\n\n        ObjectAnimator animator = ObjectAnimator.ofPropertyValuesHolder(currentTimeImage,\n                translationXHolder, translationYHolder, rotationXHolder, rotationZHolder, rotationYHolder);\n        animator.setDuration(durationInMillis);\n        animator.start();\n    }\n</code></pre>\n<p><strong>The issue:</strong></p>\n<p><em><strong>Note: the red layout is a fixed aspect ratio layout 16:9</strong></em></p>\n<p>In <strong>Nexus 4 (768 x 1280)</strong>, the <code>currentTimeImage</code> is positioned in the right place</p>\n<p><a href=\"https://i.stack.imgur.com/g5e5T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g5e5T.png\" alt=\"enter image description here\" /></a></p>\n<p>And in the <strong>POCO X3 NFC (1080 x 2400)</strong>, it's showing in different position :</p>\n<p><a href=\"https://i.stack.imgur.com/oLimW.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oLimW.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","properties","config","environment"],"comments":[{"owner":{"account_id":10957844,"reputation":2124,"user_id":8052043,"display_name":"CodeMatrix"},"score":0,"creation_date":1689517558,"post_id":76698627,"comment_id":135221701,"body_markdown":"Have you tried using `spring.config.import` which would import the values from the given file(s)","body":"Have you tried using <code>spring.config.import</code> which would import the values from the given file(s)"},{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1689520380,"post_id":76698627,"comment_id":135222003,"body_markdown":"may be there is some conflict with keyword ```file```  in spring  ,try to use another keywork , not  ```file```  ,just   use ```credentials.file.path``` instead ,","body":"may be there is some conflict with keyword <code>file</code>  in spring  ,try to use another keywork , not  <code>file</code>  ,just   use <code>credentials.file.path</code> instead ,"},{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1689520551,"post_id":76698627,"comment_id":135222025,"body_markdown":"Alternatively, you can  try add  java application start vm optition ```java -jar myapp.jar --file=/custom/path```","body":"Alternatively, you can  try add  java application start vm optition <code>java -jar myapp.jar --file=&#47;custom&#47;path</code>"},{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1689521008,"post_id":76698627,"comment_id":135222098,"body_markdown":"oh  , if it is  necessary that define double : in your value string ,you can store it  in a file  and  configure the file path in spring ,then  read the file  to get the defaultvalue ```/path/to/file.properties:onevalue```","body":"oh  , if it is  necessary that define double : in your value string ,you can store it  in a file  and  configure the file path in spring ,then  read the file  to get the defaultvalue <code>&#47;path&#47;to&#47;file.properties:onevalue</code>"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1689540794,"post_id":76698627,"comment_id":135224344,"body_markdown":"@CodeMatrix That was something I hadn&#39;t tried. I tried it, and it worked perfectly, thank you! I import all property values from all files on the machine using `spring.config.import` and then access them just like I did before with no code change. Extremely nice, thank you again!","body":"@CodeMatrix That was something I hadn&#39;t tried. I tried it, and it worked perfectly, thank you! I import all property values from all files on the machine using <code>spring.config.import</code> and then access them just like I did before with no code change. Extremely nice, thank you again!"},{"owner":{"account_id":796110,"reputation":10035,"user_id":869225,"accept_rate":50,"display_name":"Martin Frey"},"score":0,"creation_date":1689540805,"post_id":76698627,"comment_id":135224346,"body_markdown":"Take a look at how spring is loading properties. It supports external application.properties out of the box.","body":"Take a look at how spring is loading properties. It supports external application.properties out of the box."}],"answers":[{"tags":[],"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689541046,"creation_date":1689541046,"answer_id":76700376,"question_id":76698627,"body_markdown":"For me it fixed by adding another property value to my `application.properties` being `spring.config.import`.\r\n\r\nUsing `spring.config.import` it&#39;s possible to import the files stored on the target machine and the properties in those files. For example like this: `spring.config.import=file:/path/to/file.properties,file:/path/to/anotherfile.properties`. \r\n\r\nAfter that, it&#39;s possible to use the same `org.springframework.core.env.Environment#getProperty(key)` code and get the values from the imported config files: `Environment#getProperty(&quot;onevalue&quot;)` and `Environment#getProperty(&quot;another.value&quot;)`.","title":"Spring - Getting config values from another file","body":"<p>For me it fixed by adding another property value to my <code>application.properties</code> being <code>spring.config.import</code>.</p>\n<p>Using <code>spring.config.import</code> it's possible to import the files stored on the target machine and the properties in those files. For example like this: <code>spring.config.import=file:/path/to/file.properties,file:/path/to/anotherfile.properties</code>.</p>\n<p>After that, it's possible to use the same <code>org.springframework.core.env.Environment#getProperty(key)</code> code and get the values from the imported config files: <code>Environment#getProperty(&quot;onevalue&quot;)</code> and <code>Environment#getProperty(&quot;another.value&quot;)</code>.</p>\n"}],"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":595,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76700376,"answer_count":1,"score":0,"last_activity_date":1689541046,"creation_date":1689515728,"question_id":76698627,"body_markdown":"I have a Spring application where in I need to access certain credentials. To keep them stored secretly, in my `application.properties` I only declare the path to the file where the credentials are stored. The file with the credentials themselves are stored on the machine that the application will be running on.\r\n\r\nI somewhere, at sometime, read that it could be possible to use the following to get property values:\r\n\r\n    *(from the application.properties file...)*\r\n    example.setting1=${file:/path/to/file.properties:onevalue}\r\n    example.setting2=${file:/path/to/file.properties:another.value}\r\n    example.setting3=${file:/path/to/file.properties:a.third.value}\r\n\r\n\r\nIn code I then use `org.springframework.core.env.Environment#getProperty(key)` to get the property values from my application.properties. I thought this would work and return the value that is stored in the `/path/to/file.properties` file, but instead it returns the actual value in my application.properties, being this: `example.setting1=${file:/path/to/file.properties:onevalue}`. \r\n\r\nHow can I solve this and have the program return the actual credential (*for example an IP &quot;0.0.0.0&quot;*) that is stored in the target file the Spring app config has the path to?\r\nAny help is very appreciated!","title":"Spring - Getting config values from another file","body":"<p>I have a Spring application where in I need to access certain credentials. To keep them stored secretly, in my <code>application.properties</code> I only declare the path to the file where the credentials are stored. The file with the credentials themselves are stored on the machine that the application will be running on.</p>\n<p>I somewhere, at sometime, read that it could be possible to use the following to get property values:</p>\n<pre><code>*(from the application.properties file...)*\nexample.setting1=${file:/path/to/file.properties:onevalue}\nexample.setting2=${file:/path/to/file.properties:another.value}\nexample.setting3=${file:/path/to/file.properties:a.third.value}\n</code></pre>\n<p>In code I then use <code>org.springframework.core.env.Environment#getProperty(key)</code> to get the property values from my application.properties. I thought this would work and return the value that is stored in the <code>/path/to/file.properties</code> file, but instead it returns the actual value in my application.properties, being this: <code>example.setting1=${file:/path/to/file.properties:onevalue}</code>.</p>\n<p>How can I solve this and have the program return the actual credential (<em>for example an IP &quot;0.0.0.0&quot;</em>) that is stored in the target file the Spring app config has the path to?\nAny help is very appreciated!</p>\n"},{"tags":["java","arrays","matrix","pass-by-reference","pass-by-value"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689540520,"post_id":76700324,"comment_id":135224314,"body_markdown":"You make a &quot;deep copy&quot; of a 2D array, and then use it.","body":"You make a &quot;deep copy&quot; of a 2D array, and then use it."},{"owner":{"account_id":28936304,"reputation":1,"user_id":22163813,"display_name":"Aidan K"},"score":0,"creation_date":1689540683,"post_id":76700324,"comment_id":135224332,"body_markdown":"@HovercraftFullOfEels Does using `a.clone()` not do that? I thought the whole point of it was to make a new version without reference to the old? Or does it only work correctly on 1D arrays?","body":"@HovercraftFullOfEels Does using <code>a.clone()</code> not do that? I thought the whole point of it was to make a new version without reference to the old? Or does it only work correctly on 1D arrays?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689540799,"post_id":76700324,"comment_id":135224345,"body_markdown":"Your use of clone creates a &quot;shallow&quot; copy, not a deep one. Please Google the difference, since the behavioral differences are significant, as you are finding out -- essentially, you want to create copies of nested objects, which clone by itself, is not doing. Also, in general it is best to avoid use of clone.","body":"Your use of clone creates a &quot;shallow&quot; copy, not a deep one. Please Google the difference, since the behavioral differences are significant, as you are finding out -- essentially, you want to create copies of nested objects, which clone by itself, is not doing. Also, in general it is best to avoid use of clone."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689540939,"post_id":76700324,"comment_id":135224360,"body_markdown":"Please have a look at what Stephen C has to say about this topic [here](https://stackoverflow.com/a/6183597/).","body":"Please have a look at what Stephen C has to say about this topic <a href=\"https://stackoverflow.com/a/6183597/\">here</a>."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689541039,"post_id":76700324,"comment_id":135224369,"body_markdown":"Semantic note: Java is &quot;pass-by-value&quot; always. Please see: [Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?](https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value)","body":"Semantic note: Java is &quot;pass-by-value&quot; always. Please see: <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?</a>"}],"owner":{"account_id":28936304,"reputation":1,"user_id":22163813,"display_name":"Aidan K"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689540489,"answer_count":0,"score":0,"last_activity_date":1689540498,"creation_date":1689540101,"question_id":76700324,"body_markdown":"I&#39;m making my own Java matrix program for a linear algebra class and can&#39;t seem to stop passing my arrays by reference. I want each method to return a matrix (thus performing calculations based on the original) without altering the original matrix values. Here are some bits from my program below:\r\n\r\n\r\n\r\n```java\r\npublic class Matrix{\r\n    private Double[][] data;\r\n    private String name;\r\n\r\n    public Matrix(Double[][] newdata){\r\n        this.data = newdata.clone();\r\n        this.name = &quot;default&quot;;\r\n    }\r\n\r\n    public Matrix scalarMultiply(Double scale){\r\n        Matrix output = new Matrix(this.data.clone());\r\n        output.name = scale + &quot;(&quot; + output.name + &quot;)&quot;;\r\n        for(int i = 0; i &lt; output.data.length; i++){\r\n            for(int j = 0; j &lt; output.data[i].length; j++){\r\n                output.data[i][j] *= scale;\r\n            }\r\n        }\r\n\r\n        return output;\r\n    }\r\n}\r\n```\r\n\r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) throws Exception{\r\n        new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, &quot;cls&quot;).inheritIO().start().waitFor();\r\n\r\n        Matrix testMatrix = new Matrix(new Double[][]{{1.0, 2.0, 3.0}, {4.0, 5.0, 6.0}, {7.0, 8.0, 9.0}, {100.0, 101.0, 102.0}});\r\n        testMatrix.printSpacedAuto();\r\n        breakLine();\r\n\r\n        Matrix testMatrixRestult = testMatrix.scalarMultiply(2.0);\r\n        testMatrixRestult.printSpacedAuto();\r\n        breakLine();\r\n\r\n        testMatrix.printSpacedAuto();\r\n        testMatrixRestult.printSpacedAuto();\r\n        breakLine();\r\n    }\r\n\r\n    public static void breakLine(){\r\n        System.out.println();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI tried using `a.clone()` in a few different spots but my results seem the same; can anyone see what I am misunderstanding?","title":"How to avoid passing by reference inside of method (Java)?","body":"<p>I'm making my own Java matrix program for a linear algebra class and can't seem to stop passing my arrays by reference. I want each method to return a matrix (thus performing calculations based on the original) without altering the original matrix values. Here are some bits from my program below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Matrix{\n    private Double[][] data;\n    private String name;\n\n    public Matrix(Double[][] newdata){\n        this.data = newdata.clone();\n        this.name = &quot;default&quot;;\n    }\n\n    public Matrix scalarMultiply(Double scale){\n        Matrix output = new Matrix(this.data.clone());\n        output.name = scale + &quot;(&quot; + output.name + &quot;)&quot;;\n        for(int i = 0; i &lt; output.data.length; i++){\n            for(int j = 0; j &lt; output.data[i].length; j++){\n                output.data[i][j] *= scale;\n            }\n        }\n\n        return output;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) throws Exception{\n        new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, &quot;cls&quot;).inheritIO().start().waitFor();\n\n        Matrix testMatrix = new Matrix(new Double[][]{{1.0, 2.0, 3.0}, {4.0, 5.0, 6.0}, {7.0, 8.0, 9.0}, {100.0, 101.0, 102.0}});\n        testMatrix.printSpacedAuto();\n        breakLine();\n\n        Matrix testMatrixRestult = testMatrix.scalarMultiply(2.0);\n        testMatrixRestult.printSpacedAuto();\n        breakLine();\n\n        testMatrix.printSpacedAuto();\n        testMatrixRestult.printSpacedAuto();\n        breakLine();\n    }\n\n    public static void breakLine(){\n        System.out.println();\n    }\n}\n</code></pre>\n<p>I tried using <code>a.clone()</code> in a few different spots but my results seem the same; can anyone see what I am misunderstanding?</p>\n"},{"tags":["java","excel","csv","xlsx"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":1,"creation_date":1689539882,"post_id":76700242,"comment_id":135224245,"body_markdown":"How about aligning the formats before comparison? That would boil down to simple import/export filter (make up your mind which of the formats you prefer to compare) and then stay in the preferred format, just comparing the values. There are two excellent java libs Apache POI and Apache commons CSV.","body":"How about aligning the formats before comparison? That would boil down to simple import/export filter (make up your mind which of the formats you prefer to compare) and then stay in the preferred format, just comparing the values. There are two excellent java libs Apache POI and Apache commons CSV."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689540009,"post_id":76700242,"comment_id":135224255,"body_markdown":"Please check out the [ask] link as well as the [question editing help](https://stackoverflow.com/editing-help) link.","body":"Please check out the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> link as well as the <a href=\"https://stackoverflow.com/editing-help\">question editing help</a> link."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1689540415,"post_id":76700242,"comment_id":135224301,"body_markdown":"I have just now tried to format your code, but in the future, this is something that you should be doing yourself.","body":"I have just now tried to format your code, but in the future, this is something that you should be doing yourself."},{"owner":{"account_id":28982795,"reputation":1,"user_id":22200267,"display_name":"f105thud"},"score":0,"creation_date":1689545570,"post_id":76700242,"comment_id":135224835,"body_markdown":"@Queeg So your suggestion is to convert one of the two documents into the other&#39;s format?  I agree that is probably a much easier way to go about this script.  I just wanted to see if there was a method for direct comparison.","body":"@Queeg So your suggestion is to convert one of the two documents into the other&#39;s format?  I agree that is probably a much easier way to go about this script.  I just wanted to see if there was a method for direct comparison."},{"owner":{"account_id":28982795,"reputation":1,"user_id":22200267,"display_name":"f105thud"},"score":0,"creation_date":1689553052,"post_id":76700242,"comment_id":135225351,"body_markdown":"@Queeg What actions are you referring to when you say import/export filter.  Are there any other JARs I will have to download/packages to import?","body":"@Queeg What actions are you referring to when you say import/export filter.  Are there any other JARs I will have to download/packages to import?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1689629908,"post_id":76700242,"comment_id":135238172,"body_markdown":"I am not aware these filters already exist in the libraries I named - however I was referring to architecture. Creating an import or export filter is generic, so chances of finding an implementation is easier. If you cannot find one, writing one is still more reusable than implementing your intended comparison of XLSX to CSV.","body":"I am not aware these filters already exist in the libraries I named - however I was referring to architecture. Creating an import or export filter is generic, so chances of finding an implementation is easier. If you cannot find one, writing one is still more reusable than implementing your intended comparison of XLSX to CSV."}],"owner":{"account_id":28982795,"reputation":1,"user_id":22200267,"display_name":"f105thud"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689540359,"creation_date":1689538640,"question_id":76700242,"body_markdown":"I am writing a Java program that will read data from a .xlsx file and a .csv file, and compare the respective values for each cell between the two sheets to find differences.  I have been able to successfully write a script that compares the sizes of the two files, then iterates through each cell and prints the values to the console.  That code is as follows:\r\n\r\n```\r\npackage sodapackage;\r\n\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport org.apache.poi.ss.usermodel.Row;\r\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\nimport com.opencsv.CSVReader;\r\nimport com.opencsv.exceptions.CsvValidationException;\r\nimport java.util.Iterator;\r\nimport java.util.Scanner;\r\nimport java.io.BufferedReader;\r\nimport java.io.FileInputStream;\r\n\r\npublic class CompareCSVandXLSX {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        try {\r\n            //Retrieves .xlsx Workbook and sheet\r\n            XSSFWorkbook XLSXWorkbook = new XSSFWorkbook(new FileInputStream(&quot;C:\\\\Users\\\\Owner\\\\OneDrive - Computer Aid, Inc\\\\Desktop\\\\Test Data.xlsx&quot;));\r\n            XSSFSheet XLSXSheet = XLSXWorkbook.getSheet(&quot;Test Data&quot;);\r\n            System.out.println(&quot;.xlsx file found&quot;);\r\n\r\n            //Finds the last row and column in .xlsx sheet to determine number of rows and columns\r\n            int XLSXRows = XLSXSheet.getLastRowNum() + 1;\r\n            int XLSXCols = XLSXSheet.getRow(0).getLastCellNum();\r\n\r\n            //Retrieves .csv Workbook\r\n            Scanner CSVWorkbook = new Scanner(new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\Owner\\\\OneDrive - Computer Aid, Inc\\\\Desktop\\\\Test Data_1.csv&quot;)));\r\n            System.out.println(&quot;.csv file found&quot;);\r\n\r\n            //Parses each line in .csv file to find the number of rows and columns\r\n            int CSVCols = 0;\r\n            int CSVRows = 0;\r\n            CSVWorkbook.useDelimiter(&quot;,&quot;);\r\n            while (CSVWorkbook.hasNextLine()) {\r\n                String CSVline = CSVWorkbook.nextLine();\r\n                String[] CSVArray = CSVline.split(&quot;,&quot;);\r\n                CSVRows++;\r\n                CSVCols = CSVArray.length;\r\n            }\r\n\r\n            //Verifies both files have same number of rows\r\n            if (CSVRows == XLSXRows) {\r\n                System.out.println(&quot;Rows match&quot;);\r\n            } else {\r\n                System.out.println(&quot;Rows do not match&quot;);\r\n            }\r\n\r\n            //Verifies both files have same number of columns\r\n            if (CSVCols == XLSXCols) {\r\n                System.out.println(&quot;Columns match&quot;);\r\n            } else {\r\n                System.out.println(&quot;Columns do not match&quot;);\r\n            }\r\n\r\n            //Reads each cell in .xlsx sheet\r\n            Iterator &lt; Row &gt; XLSXRowIterator = XLSXSheet.iterator();\r\n            while (XLSXRowIterator.hasNext()) {\r\n                //Sets row to be read\r\n                Row XLSXRow = XLSXRowIterator.next();\r\n                Iterator &lt; org.apache.poi.ss.usermodel.Cell &gt; XLSXCellIterator = XLSXRow.cellIterator();\r\n\r\n                //Reads each cell in current row and prints cell value\r\n                while (XLSXCellIterator.hasNext()) {\r\n                    org.apache.poi.ss.usermodel.Cell Cell = XLSXCellIterator.next();\r\n                    String XLSXCell = Cell.getStringCellValue();\r\n                    System.out.println(XLSXCell + &quot;\\t&quot;);\r\n                }\r\n            }\r\n            System.out.println(&quot;&quot;);\r\n\r\n            //Re-establishes .csv filepath for CSVReader\r\n            CSVReader reader = new CSVReader(new FileReader(&quot;C:\\\\Users\\\\Owner\\\\OneDrive - Computer Aid, Inc\\\\Desktop\\\\Test Data_1.csv&quot;));\r\n\r\n            String CSVCell[];\r\n\r\n            //Reads and prints out each .csv cell value\r\n            while ((CSVCell = reader.readNext()) != null) {\r\n\r\n                for (int i = 0; i &lt; CSVCell.length; i++) {\r\n                    System.out.print(CSVCell[i] + &quot;\\t&quot;);\r\n                }\r\n                System.out.println(&quot; &quot;);\r\n            }\r\n\r\n        } catch (CsvValidationException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n}\r\n```\t\t\t\r\nHowever, I want the script to directly compare cell values across files (i.e. XLSX Cell A1 = CSV Cell A1) and print the results to the console.  I am not sure how to achieve this.\r\n\r\nI tried to insert a block of code after the CSVReader portion of the script that compares the XLSX Cell and CSVCell values.  The resulting code looks like this:\r\n\r\n```\r\npackage sodapackage;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport org.apache.poi.ss.usermodel.Row;\r\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\nimport com.opencsv.CSVReader;\r\nimport com.opencsv.exceptions.CsvValidationException;\r\nimport java.util.Iterator;\r\nimport java.util.Scanner;\r\nimport java.io.BufferedReader;\r\nimport java.io.FileInputStream;\r\n\r\npublic class CompareCSVandXLSX {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        try {\r\n\r\n            //Retrieves .xlsx Workbook and sheet\r\n            XSSFWorkbook XLSXWorkbook = new XSSFWorkbook(new FileInputStream(&quot;C:\\\\Users\\\\Owner\\\\OneDrive - Computer Aid, Inc\\\\Desktop\\\\Test Data.xlsx&quot;));\r\n            XSSFSheet XLSXSheet = XLSXWorkbook.getSheet(&quot;Test Data&quot;);\r\n            System.out.println(&quot;.xlsx file found&quot;);\r\n\r\n            //Finds the last row and column in .xlsx sheet to determine number of rows and columns\r\n            int XLSXRows = XLSXSheet.getLastRowNum() + 1;\r\n            int XLSXCols = XLSXSheet.getRow(0).getLastCellNum();\r\n\r\n            //Retrieves .csv Workbook\r\n            Scanner CSVWorkbook = new Scanner(new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\Owner\\\\OneDrive - Computer Aid, Inc\\\\Desktop\\\\Test Data_1.csv&quot;)));\r\n            System.out.println(&quot;.csv file found&quot;);\r\n\r\n            //Parses each line in .csv file to find the number of rows and columns\r\n            int CSVCols = 0;\r\n            int CSVRows = 0;\r\n            CSVWorkbook.useDelimiter(&quot;,&quot;);\r\n            while (CSVWorkbook.hasNextLine()) {\r\n                String CSVline = CSVWorkbook.nextLine();\r\n                String[] CSVArray = CSVline.split(&quot;,&quot;);\r\n                CSVRows++;\r\n                CSVCols = CSVArray.length;\r\n            }\r\n\r\n            //Verifies both files have same number of rows\r\n            if (CSVRows == XLSXRows) {\r\n                System.out.println(&quot;Rows match&quot;);\r\n            } else {\r\n                System.out.println(&quot;Rows do not match&quot;);\r\n            }\r\n\r\n            //Verifies both files have same number of columns\r\n            if (CSVCols == XLSXCols) {\r\n                System.out.println(&quot;Columns match&quot;);\r\n            } else {\r\n                System.out.println(&quot;Columns do not match&quot;);\r\n            }\r\n\r\n            //Reads each cell in .xlsx sheet\r\n            Iterator &lt; Row &gt; XLSXRowIterator = XLSXSheet.iterator();\r\n            while (XLSXRowIterator.hasNext()) {\r\n                //Sets row to be read\r\n                Row XLSXRow = XLSXRowIterator.next();\r\n                Iterator &lt; org.apache.poi.ss.usermodel.Cell &gt; XLSXCellIterator = XLSXRow.cellIterator();\r\n\r\n                //Reads each cell in current row and prints cell value\r\n                while (XLSXCellIterator.hasNext()) {\r\n                    org.apache.poi.ss.usermodel.Cell Cell = XLSXCellIterator.next();\r\n                    String XLSXCell = Cell.getStringCellValue();\r\n                    System.out.println(XLSXCell + &quot;\\t&quot;);\r\n                }\r\n            }\r\n            System.out.println(&quot;&quot;);\r\n\r\n            //Re-establishes .csv filepath for CSVReader\r\n            CSVReader reader = new CSVReader(new FileReader(&quot;C:\\\\Users\\\\Owner\\\\OneDrive - Computer Aid, Inc\\\\Desktop\\\\Test Data_1.csv&quot;));\r\n\r\n            String CSVCell[];\r\n\r\n            //Reads and prints out each .csv cell value\r\n            while ((CSVCell = reader.readNext()) != null) {\r\n\r\n                for (int i = 0; i &lt; CSVCell.length; i++) {\r\n                    System.out.print(CSVCell[i] + &quot;\\t&quot;);\r\n                }\r\n                System.out.println(&quot; &quot;);\r\n            }\r\n\r\n            //Compares cell values and determines if they match or not\r\n            if (XLSXCell == CSVCell) {\r\n                System.out.printIn(XLSXCell, CSVCell, &quot;Cells match&quot;);\r\n            } else {\r\n                System.out.printIn(XLSXCell, CSVCell, &quot;Cells do not match&quot;);\r\n            }\r\n\r\n        } catch (CsvValidationException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHowever, the system does not seem to recognize the XLSXCell variable in the part where cell values are compared. I think it would make sense for the code from the row iterator to the cell comparison be part of one loop, but I am unsure of how to accomplish this.  What is the best way to compare cell values in .xlsx and .csv files?","title":"I am writing a Java program that compares a .xlsx file and a .csv file, unsure how to directly compare cell values between the two files","body":"<p>I am writing a Java program that will read data from a .xlsx file and a .csv file, and compare the respective values for each cell between the two sheets to find differences.  I have been able to successfully write a script that compares the sizes of the two files, then iterates through each cell and prints the values to the console.  That code is as follows:</p>\n<pre><code>package sodapackage;\n\nimport java.io.FileReader;\nimport java.io.IOException;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport com.opencsv.CSVReader;\nimport com.opencsv.exceptions.CsvValidationException;\nimport java.util.Iterator;\nimport java.util.Scanner;\nimport java.io.BufferedReader;\nimport java.io.FileInputStream;\n\npublic class CompareCSVandXLSX {\n\n    public static void main(String[] args) throws IOException {\n        try {\n            //Retrieves .xlsx Workbook and sheet\n            XSSFWorkbook XLSXWorkbook = new XSSFWorkbook(new FileInputStream(&quot;C:\\\\Users\\\\Owner\\\\OneDrive - Computer Aid, Inc\\\\Desktop\\\\Test Data.xlsx&quot;));\n            XSSFSheet XLSXSheet = XLSXWorkbook.getSheet(&quot;Test Data&quot;);\n            System.out.println(&quot;.xlsx file found&quot;);\n\n            //Finds the last row and column in .xlsx sheet to determine number of rows and columns\n            int XLSXRows = XLSXSheet.getLastRowNum() + 1;\n            int XLSXCols = XLSXSheet.getRow(0).getLastCellNum();\n\n            //Retrieves .csv Workbook\n            Scanner CSVWorkbook = new Scanner(new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\Owner\\\\OneDrive - Computer Aid, Inc\\\\Desktop\\\\Test Data_1.csv&quot;)));\n            System.out.println(&quot;.csv file found&quot;);\n\n            //Parses each line in .csv file to find the number of rows and columns\n            int CSVCols = 0;\n            int CSVRows = 0;\n            CSVWorkbook.useDelimiter(&quot;,&quot;);\n            while (CSVWorkbook.hasNextLine()) {\n                String CSVline = CSVWorkbook.nextLine();\n                String[] CSVArray = CSVline.split(&quot;,&quot;);\n                CSVRows++;\n                CSVCols = CSVArray.length;\n            }\n\n            //Verifies both files have same number of rows\n            if (CSVRows == XLSXRows) {\n                System.out.println(&quot;Rows match&quot;);\n            } else {\n                System.out.println(&quot;Rows do not match&quot;);\n            }\n\n            //Verifies both files have same number of columns\n            if (CSVCols == XLSXCols) {\n                System.out.println(&quot;Columns match&quot;);\n            } else {\n                System.out.println(&quot;Columns do not match&quot;);\n            }\n\n            //Reads each cell in .xlsx sheet\n            Iterator &lt; Row &gt; XLSXRowIterator = XLSXSheet.iterator();\n            while (XLSXRowIterator.hasNext()) {\n                //Sets row to be read\n                Row XLSXRow = XLSXRowIterator.next();\n                Iterator &lt; org.apache.poi.ss.usermodel.Cell &gt; XLSXCellIterator = XLSXRow.cellIterator();\n\n                //Reads each cell in current row and prints cell value\n                while (XLSXCellIterator.hasNext()) {\n                    org.apache.poi.ss.usermodel.Cell Cell = XLSXCellIterator.next();\n                    String XLSXCell = Cell.getStringCellValue();\n                    System.out.println(XLSXCell + &quot;\\t&quot;);\n                }\n            }\n            System.out.println(&quot;&quot;);\n\n            //Re-establishes .csv filepath for CSVReader\n            CSVReader reader = new CSVReader(new FileReader(&quot;C:\\\\Users\\\\Owner\\\\OneDrive - Computer Aid, Inc\\\\Desktop\\\\Test Data_1.csv&quot;));\n\n            String CSVCell[];\n\n            //Reads and prints out each .csv cell value\n            while ((CSVCell = reader.readNext()) != null) {\n\n                for (int i = 0; i &lt; CSVCell.length; i++) {\n                    System.out.print(CSVCell[i] + &quot;\\t&quot;);\n                }\n                System.out.println(&quot; &quot;);\n            }\n\n        } catch (CsvValidationException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n    }\n}\n</code></pre>\n<p>However, I want the script to directly compare cell values across files (i.e. XLSX Cell A1 = CSV Cell A1) and print the results to the console.  I am not sure how to achieve this.</p>\n<p>I tried to insert a block of code after the CSVReader portion of the script that compares the XLSX Cell and CSVCell values.  The resulting code looks like this:</p>\n<pre><code>package sodapackage;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport com.opencsv.CSVReader;\nimport com.opencsv.exceptions.CsvValidationException;\nimport java.util.Iterator;\nimport java.util.Scanner;\nimport java.io.BufferedReader;\nimport java.io.FileInputStream;\n\npublic class CompareCSVandXLSX {\n\n    public static void main(String[] args) throws IOException {\n        try {\n\n            //Retrieves .xlsx Workbook and sheet\n            XSSFWorkbook XLSXWorkbook = new XSSFWorkbook(new FileInputStream(&quot;C:\\\\Users\\\\Owner\\\\OneDrive - Computer Aid, Inc\\\\Desktop\\\\Test Data.xlsx&quot;));\n            XSSFSheet XLSXSheet = XLSXWorkbook.getSheet(&quot;Test Data&quot;);\n            System.out.println(&quot;.xlsx file found&quot;);\n\n            //Finds the last row and column in .xlsx sheet to determine number of rows and columns\n            int XLSXRows = XLSXSheet.getLastRowNum() + 1;\n            int XLSXCols = XLSXSheet.getRow(0).getLastCellNum();\n\n            //Retrieves .csv Workbook\n            Scanner CSVWorkbook = new Scanner(new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\Owner\\\\OneDrive - Computer Aid, Inc\\\\Desktop\\\\Test Data_1.csv&quot;)));\n            System.out.println(&quot;.csv file found&quot;);\n\n            //Parses each line in .csv file to find the number of rows and columns\n            int CSVCols = 0;\n            int CSVRows = 0;\n            CSVWorkbook.useDelimiter(&quot;,&quot;);\n            while (CSVWorkbook.hasNextLine()) {\n                String CSVline = CSVWorkbook.nextLine();\n                String[] CSVArray = CSVline.split(&quot;,&quot;);\n                CSVRows++;\n                CSVCols = CSVArray.length;\n            }\n\n            //Verifies both files have same number of rows\n            if (CSVRows == XLSXRows) {\n                System.out.println(&quot;Rows match&quot;);\n            } else {\n                System.out.println(&quot;Rows do not match&quot;);\n            }\n\n            //Verifies both files have same number of columns\n            if (CSVCols == XLSXCols) {\n                System.out.println(&quot;Columns match&quot;);\n            } else {\n                System.out.println(&quot;Columns do not match&quot;);\n            }\n\n            //Reads each cell in .xlsx sheet\n            Iterator &lt; Row &gt; XLSXRowIterator = XLSXSheet.iterator();\n            while (XLSXRowIterator.hasNext()) {\n                //Sets row to be read\n                Row XLSXRow = XLSXRowIterator.next();\n                Iterator &lt; org.apache.poi.ss.usermodel.Cell &gt; XLSXCellIterator = XLSXRow.cellIterator();\n\n                //Reads each cell in current row and prints cell value\n                while (XLSXCellIterator.hasNext()) {\n                    org.apache.poi.ss.usermodel.Cell Cell = XLSXCellIterator.next();\n                    String XLSXCell = Cell.getStringCellValue();\n                    System.out.println(XLSXCell + &quot;\\t&quot;);\n                }\n            }\n            System.out.println(&quot;&quot;);\n\n            //Re-establishes .csv filepath for CSVReader\n            CSVReader reader = new CSVReader(new FileReader(&quot;C:\\\\Users\\\\Owner\\\\OneDrive - Computer Aid, Inc\\\\Desktop\\\\Test Data_1.csv&quot;));\n\n            String CSVCell[];\n\n            //Reads and prints out each .csv cell value\n            while ((CSVCell = reader.readNext()) != null) {\n\n                for (int i = 0; i &lt; CSVCell.length; i++) {\n                    System.out.print(CSVCell[i] + &quot;\\t&quot;);\n                }\n                System.out.println(&quot; &quot;);\n            }\n\n            //Compares cell values and determines if they match or not\n            if (XLSXCell == CSVCell) {\n                System.out.printIn(XLSXCell, CSVCell, &quot;Cells match&quot;);\n            } else {\n                System.out.printIn(XLSXCell, CSVCell, &quot;Cells do not match&quot;);\n            }\n\n        } catch (CsvValidationException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n    }\n}\n</code></pre>\n<p>However, the system does not seem to recognize the XLSXCell variable in the part where cell values are compared. I think it would make sense for the code from the row iterator to the cell comparison be part of one loop, but I am unsure of how to accomplish this.  What is the best way to compare cell values in .xlsx and .csv files?</p>\n"},{"tags":["java","android","android-permissions","java-threads"],"comments":[{"owner":{"account_id":2134797,"reputation":587,"user_id":1894850,"accept_rate":82,"display_name":"Hug"},"score":0,"creation_date":1501085338,"post_id":45332044,"comment_id":77626318,"body_markdown":"From what I&#39;ve seend the JNI is not part of the problem, if i just do that without the jni part happens the same.","body":"From what I&#39;ve seend the JNI is not part of the problem, if i just do that without the jni part happens the same."},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":1,"creation_date":1501085447,"post_id":45332044,"comment_id":77626407,"body_markdown":"`while (true) {try { Thread.sleep(100); } catch(Exception e) {}}` doesn&#39;t &quot;Wait until onRequestPermissionsResult ended&quot;. It blocks **forever**.","body":"<code>while (true) {try { Thread.sleep(100); } catch(Exception e) {}}</code> doesn&#39;t &quot;Wait until onRequestPermissionsResult ended&quot;. It blocks <b>forever</b>."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1501086671,"post_id":45332044,"comment_id":77627282,"body_markdown":"@talex Whoops. I thought the try-catch was around the while loop.","body":"@talex Whoops. I thought the try-catch was around the while loop."},{"owner":{"account_id":2134797,"reputation":587,"user_id":1894850,"accept_rate":82,"display_name":"Hug"},"score":0,"creation_date":1501104178,"post_id":45332044,"comment_id":77637360,"body_markdown":"Ok what about now?","body":"Ok what about now?"},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1501134841,"post_id":45332044,"comment_id":77646139,"body_markdown":"Do you get the callback if you remove the `while` loop? Why can&#39;t you signal to the native code that you have a result when you get the result, instead of blocking that thread for the whole duration? Also, the assignment to `myActivityStoredInAStaticVariable` looks like it should go before `mThread.start()`.","body":"Do you get the callback if you remove the <code>while</code> loop? Why can&#39;t you signal to the native code that you have a result when you get the result, instead of blocking that thread for the whole duration? Also, the assignment to <code>myActivityStoredInAStaticVariable</code> looks like it should go before <code>mThread.start()</code>."},{"owner":{"account_id":2134797,"reputation":587,"user_id":1894850,"accept_rate":82,"display_name":"Hug"},"score":0,"creation_date":1501139545,"post_id":45332044,"comment_id":77648782,"body_markdown":"Yes, I get the callback if I remove the while loop, but I want the call to that function to be syncronous.","body":"Yes, I get the callback if I remove the while loop, but I want the call to that function to be syncronous."},{"owner":{"account_id":65347,"reputation":56309,"user_id":192373,"accept_rate":74,"display_name":"Alex Cohn"},"score":0,"creation_date":1501146818,"post_id":45332044,"comment_id":77653768,"body_markdown":"Strange... this setup works for me on Nexus 5 with API 23. Having said this, I must remind you that you have potential memory leaks in your code: **myActivityStoredInAStaticVariable** should be a weak reference, and **MyThread** inner class should be static.","body":"Strange... this setup works for me on Nexus 5 with API 23. Having said this, I must remind you that you have potential memory leaks in your code: <b>myActivityStoredInAStaticVariable</b> should be a weak reference, and <b>MyThread</b> inner class should be static."}],"answers":[{"tags":[],"owner":{"account_id":2134797,"reputation":587,"user_id":1894850,"accept_rate":82,"display_name":"Hug"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501151957,"creation_date":1501151957,"answer_id":45348409,"question_id":45332044,"body_markdown":"I&#39;ve finally managed to handle this running the request permission inside the main loop the following way:\r\n\r\n\r\n    new Handler(Looper.getMainLooper()).post(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                        myActivityStoredInAStaticVariable.requestPermissions(new String[]{&quot;android.permission.GET_ACCOUNTS&quot;}, 1234);\r\n                    }\r\n                }\r\n            });","title":"Calling from a Java thread to JNI and back to a requestPermissions","body":"<p>I've finally managed to handle this running the request permission inside the main loop the following way:</p>\n\n<pre><code>new Handler(Looper.getMainLooper()).post(new Runnable() {\n            @Override\n            public void run() {\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                    myActivityStoredInAStaticVariable.requestPermissions(new String[]{\"android.permission.GET_ACCOUNTS\"}, 1234);\n                }\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":2134797,"reputation":587,"user_id":1894850,"accept_rate":82,"display_name":"Hug"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689539551,"creation_date":1501084804,"question_id":45332044,"body_markdown":"I have the following problem.\r\nI have a Java function inside a thread that loops forever, then a JNI API which eventually calls a static function in another class.\r\nThis static function is trying to make a call to requestPermissions in order to show the request permission popup, and while the user accepts or rejects, this thread sleeps. The popup is showing up and the user cand respond to it, but the function **onRequestPermissionsResult** is never called.\r\nIs there any way to sort this issue?\r\n\r\nWhat am I doing wrong?\r\n\r\nI mean if I don&#39;t sleep on the UI thread this should not block it am I right?\r\nThe popup is showing up, but the answer never arrives.\r\n\r\nThis is the **MainActivity.java**\r\n\r\n    public class MainActivity extends FragmentActivity implements ActivityCompat.OnRequestPermissionsResultCallback {\r\n        \r\n        class MyThread extends Thread {\r\n            @Override\r\n            public void run() {\r\n                //JNI_CALL();\r\n                MainActivity.AskForPermissionsFromJNI();\r\n            }\r\n        }\r\n\r\n        static FragmentActivity myActivityStoredInAStaticVariable;\r\n        static boolean OnRequestPermission=false;\r\n        MyThread mThread;\r\n        @Override\r\n        protected void onCreate(Bundle aSavedInstanceState) {\r\n            mThread = new MyThread();\r\n            myActivityStoredInAStaticVariable = this;\r\n            mThread.start();\r\n        }\r\n\r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode, @NonNull String permissions[], @NonNull int[] grantResults)\r\n        {\r\n             //This function is never called WHY?\r\n             //Do what you need to do\r\n             OnRequestPermission=true;\r\n        }\r\n\r\n        public static void AskForPermissionsFromJNI()\r\n        {\r\n            ActivityCompat.requestPermissions(myActivityStoredInAStaticVariable, new String[]{&quot;android.permission.GET_ACCOUNTS&quot;} , 1234);\r\n            \r\n            //Wait until onRequestPermissionsResult ended\r\n            while (!OnRequestPermission) {try { Thread.sleep(100); } catch(Exception e) {}}\r\n        }\r\n    }\r\n\r\n**UPDATE:**\r\nThe JNI is not part of the problem, if I just replace the JNI call on the static function happen the same\r\n&lt;strike&gt;This is the **JNI.cpp**\r\n\r\n    extern &quot;C&quot; JNIEXPORT void JNICALL Java_com_dle_application_MainActivity_JNI_CALL( JNIEnv* env )\r\n    {\r\n        //Call Back to Java\r\n        ...\r\n        dispatch_java_method(AskForPermissionsFromJNI);\r\n        ...\r\n    }\r\n&lt;/strike&gt;\r\n","title":"Calling from a Java thread to JNI and back to a requestPermissions","body":"<p>I have the following problem.\nI have a Java function inside a thread that loops forever, then a JNI API which eventually calls a static function in another class.\nThis static function is trying to make a call to requestPermissions in order to show the request permission popup, and while the user accepts or rejects, this thread sleeps. The popup is showing up and the user cand respond to it, but the function <strong>onRequestPermissionsResult</strong> is never called.\nIs there any way to sort this issue?</p>\n<p>What am I doing wrong?</p>\n<p>I mean if I don't sleep on the UI thread this should not block it am I right?\nThe popup is showing up, but the answer never arrives.</p>\n<p>This is the <strong>MainActivity.java</strong></p>\n<pre><code>public class MainActivity extends FragmentActivity implements ActivityCompat.OnRequestPermissionsResultCallback {\n    \n    class MyThread extends Thread {\n        @Override\n        public void run() {\n            //JNI_CALL();\n            MainActivity.AskForPermissionsFromJNI();\n        }\n    }\n\n    static FragmentActivity myActivityStoredInAStaticVariable;\n    static boolean OnRequestPermission=false;\n    MyThread mThread;\n    @Override\n    protected void onCreate(Bundle aSavedInstanceState) {\n        mThread = new MyThread();\n        myActivityStoredInAStaticVariable = this;\n        mThread.start();\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String permissions[], @NonNull int[] grantResults)\n    {\n         //This function is never called WHY?\n         //Do what you need to do\n         OnRequestPermission=true;\n    }\n\n    public static void AskForPermissionsFromJNI()\n    {\n        ActivityCompat.requestPermissions(myActivityStoredInAStaticVariable, new String[]{&quot;android.permission.GET_ACCOUNTS&quot;} , 1234);\n        \n        //Wait until onRequestPermissionsResult ended\n        while (!OnRequestPermission) {try { Thread.sleep(100); } catch(Exception e) {}}\n    }\n}\n</code></pre>\n<p><strong>UPDATE:</strong>\nThe JNI is not part of the problem, if I just replace the JNI call on the static function happen the same\n<strike>This is the <strong>JNI.cpp</strong></p>\n<pre><code>extern &quot;C&quot; JNIEXPORT void JNICALL Java_com_dle_application_MainActivity_JNI_CALL( JNIEnv* env )\n{\n    //Call Back to Java\n    ...\n    dispatch_java_method(AskForPermissionsFromJNI);\n    ...\n}\n</code></pre>\n</strike>\n"},{"tags":["java","spring","spotify"],"answers":[{"comments":[{"owner":{"account_id":18737525,"reputation":25,"user_id":13661540,"display_name":"Gyro"},"score":0,"creation_date":1689542963,"post_id":76700283,"comment_id":135224606,"body_markdown":"Okay, that solved it. I feel really dumb since the solution was so simple lol. Thank you so much!","body":"Okay, that solved it. I feel really dumb since the solution was so simple lol. Thank you so much!"}],"tags":[],"owner":{"account_id":20626554,"reputation":310,"user_id":16202819,"display_name":"ocean moist"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689539373,"creation_date":1689539373,"answer_id":76700283,"question_id":76700235,"body_markdown":"The [Spotify Web API javadocs][1] say that `Paging&lt;T&gt;` has a method `.getItems()` which in your case would return an array of `Tracks`. \r\n\r\nFor example, \r\n```java\r\n    public static void main(String[] args) {\r\n        Paging&lt;Track&gt; test = searchTracks(&quot;Abba&quot;);\r\n        Track[] tracks = test.getItems();\r\n        System.out.println(Arrays.toString(tracks));\r\n    }\r\n```\r\nwould print out all the tracks.\r\n\r\n  [1]: https://spotify-web-api-java.github.io/spotify-web-api-java/se/michaelthelin/spotify/model_objects/specification/Paging.html","title":"How do I use Paging&lt;&gt; objects with the Spotify API in Java?","body":"<p>The <a href=\"https://spotify-web-api-java.github.io/spotify-web-api-java/se/michaelthelin/spotify/model_objects/specification/Paging.html\" rel=\"nofollow noreferrer\">Spotify Web API javadocs</a> say that <code>Paging&lt;T&gt;</code> has a method <code>.getItems()</code> which in your case would return an array of <code>Tracks</code>.</p>\n<p>For example,</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) {\n        Paging&lt;Track&gt; test = searchTracks(&quot;Abba&quot;);\n        Track[] tracks = test.getItems();\n        System.out.println(Arrays.toString(tracks));\n    }\n</code></pre>\n<p>would print out all the tracks.</p>\n"}],"owner":{"account_id":18737525,"reputation":25,"user_id":13661540,"display_name":"Gyro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76700283,"answer_count":1,"score":0,"last_activity_date":1689539373,"creation_date":1689538489,"question_id":76700235,"body_markdown":"Apologies if this question is easily figured out, I&#39;m quite new to Java and working with the Spotify API. I am using [this](https://github.com/spotify-web-api-java/spotify-web-api-java.git) Spotify Web API Java Package for a web application and am trying to implement a simplified Track Search method. I&#39;m having trouble trying to figure out how to get the information I want after calling the method, which returns a Paging&lt;Track&gt; object. The Paging object is a container that holds a set of Track objects. The package I&#39;m using gives a link to Paging&lt;&gt; objects in the Spotify API Documentation, but the Object Model Specifications page has apparently been removed and makes the link useless. \r\n\r\nHere&#39;s the class I made (the client ID and secret have been omitted of course and the class does work with other methods that just return a float, int or String):\r\n\r\n```\r\npackage trackour.trackour.views.api;\r\n\r\nimport java.io.IOException;\r\n\r\nimport org.apache.hc.core5.http.ParseException;\r\n\r\nimport com.neovisionaries.i18n.CountryCode;\r\n\r\nimport se.michaelthelin.spotify.SpotifyApi;\r\nimport se.michaelthelin.spotify.exceptions.SpotifyWebApiException;\r\nimport se.michaelthelin.spotify.model_objects.credentials.ClientCredentials;\r\nimport se.michaelthelin.spotify.model_objects.specification.Paging;\r\nimport se.michaelthelin.spotify.model_objects.specification.Track;\r\nimport se.michaelthelin.spotify.requests.authorization.client_credentials.ClientCredentialsRequest;\r\nimport se.michaelthelin.spotify.requests.data.search.simplified.SearchTracksRequest;\r\n\r\n// Class to control the Spotify API and access its endpoints by using the Spotify Web API Java package\r\n// Each method is public and static to easily use them throughout the application.\r\n// ex. APIController.getAcousticness(&quot;ID GOES HERE&quot;);\r\npublic class APIController {\r\n\r\n    // create a SpotifyApi Builder object and set the Client ID and Client Secret\r\n    private static final SpotifyApi spotifyAPI = new SpotifyApi.Builder()\r\n        .setClientId(CLIENT_ID)\r\n        .setClientSecret(CLIENT_SECRET)\r\n        .build();\r\n\r\n    // create a ClientCredentialsRequest object which allows access to access tokens\r\n    private static final ClientCredentialsRequest clientCredentialsRequest = spotifyAPI.clientCredentials()\r\n        .build();\r\n\r\n    public static Paging&lt;Track&gt; searchTracks(String title) {\r\n        try {\r\n            final ClientCredentials clientCredentials = clientCredentialsRequest.execute();\r\n\r\n            spotifyAPI.setAccessToken(clientCredentials.getAccessToken());\r\n\r\n            final SearchTracksRequest searchTracksRequest = spotifyAPI.searchTracks(title)\r\n                .market(CountryCode.CA)\r\n                .limit(5)\r\n                .offset(0)\r\n                .build();\r\n\r\n            final Paging&lt;Track&gt; trackPaging = searchTracksRequest.execute();\r\n\r\n            return trackPaging;\r\n            \r\n        } catch (IOException | SpotifyWebApiException | ParseException e) {\r\n            System.out.println(e.getMessage());\r\n            return null;\r\n        }\r\n    }\r\n\r\n    // TESTING\r\n    public static void main(String[] args) {\r\n        Paging&lt;Track&gt; test = searchTracks(&quot;Abba&quot;);\r\n        System.out.println(test.getTotal());\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nThe code I have in the main function works and returns a Paging object which I can then get the total items the object has, but I can&#39;t get the information from each individual item. I&#39;ve tried looking up the problem or a solution but I can&#39;t seem to find anything that would help me.","title":"How do I use Paging&lt;&gt; objects with the Spotify API in Java?","body":"<p>Apologies if this question is easily figured out, I'm quite new to Java and working with the Spotify API. I am using <a href=\"https://github.com/spotify-web-api-java/spotify-web-api-java.git\" rel=\"nofollow noreferrer\">this</a> Spotify Web API Java Package for a web application and am trying to implement a simplified Track Search method. I'm having trouble trying to figure out how to get the information I want after calling the method, which returns a Paging object. The Paging object is a container that holds a set of Track objects. The package I'm using gives a link to Paging&lt;&gt; objects in the Spotify API Documentation, but the Object Model Specifications page has apparently been removed and makes the link useless.</p>\n<p>Here's the class I made (the client ID and secret have been omitted of course and the class does work with other methods that just return a float, int or String):</p>\n<pre><code>package trackour.trackour.views.api;\n\nimport java.io.IOException;\n\nimport org.apache.hc.core5.http.ParseException;\n\nimport com.neovisionaries.i18n.CountryCode;\n\nimport se.michaelthelin.spotify.SpotifyApi;\nimport se.michaelthelin.spotify.exceptions.SpotifyWebApiException;\nimport se.michaelthelin.spotify.model_objects.credentials.ClientCredentials;\nimport se.michaelthelin.spotify.model_objects.specification.Paging;\nimport se.michaelthelin.spotify.model_objects.specification.Track;\nimport se.michaelthelin.spotify.requests.authorization.client_credentials.ClientCredentialsRequest;\nimport se.michaelthelin.spotify.requests.data.search.simplified.SearchTracksRequest;\n\n// Class to control the Spotify API and access its endpoints by using the Spotify Web API Java package\n// Each method is public and static to easily use them throughout the application.\n// ex. APIController.getAcousticness(&quot;ID GOES HERE&quot;);\npublic class APIController {\n\n    // create a SpotifyApi Builder object and set the Client ID and Client Secret\n    private static final SpotifyApi spotifyAPI = new SpotifyApi.Builder()\n        .setClientId(CLIENT_ID)\n        .setClientSecret(CLIENT_SECRET)\n        .build();\n\n    // create a ClientCredentialsRequest object which allows access to access tokens\n    private static final ClientCredentialsRequest clientCredentialsRequest = spotifyAPI.clientCredentials()\n        .build();\n\n    public static Paging&lt;Track&gt; searchTracks(String title) {\n        try {\n            final ClientCredentials clientCredentials = clientCredentialsRequest.execute();\n\n            spotifyAPI.setAccessToken(clientCredentials.getAccessToken());\n\n            final SearchTracksRequest searchTracksRequest = spotifyAPI.searchTracks(title)\n                .market(CountryCode.CA)\n                .limit(5)\n                .offset(0)\n                .build();\n\n            final Paging&lt;Track&gt; trackPaging = searchTracksRequest.execute();\n\n            return trackPaging;\n            \n        } catch (IOException | SpotifyWebApiException | ParseException e) {\n            System.out.println(e.getMessage());\n            return null;\n        }\n    }\n\n    // TESTING\n    public static void main(String[] args) {\n        Paging&lt;Track&gt; test = searchTracks(&quot;Abba&quot;);\n        System.out.println(test.getTotal());\n    }\n}\n\n</code></pre>\n<p>The code I have in the main function works and returns a Paging object which I can then get the total items the object has, but I can't get the information from each individual item. I've tried looking up the problem or a solution but I can't seem to find anything that would help me.</p>\n"},{"tags":["java","android","firebase","flutter","dart"],"comments":[{"owner":{"account_id":18150675,"reputation":1240,"user_id":13203445,"display_name":"Shahryar Rafique"},"score":2,"creation_date":1634664437,"post_id":69634853,"comment_id":123084586,"body_markdown":"Do you added the firebase_core pugin because it is essential and if you did everything according to the documentation then ```flutter clean```  after that ```pub cache repair ``` will do the the work. then again run","body":"Do you added the firebase_core pugin because it is essential and if you did everything according to the documentation then <code>flutter clean</code>  after that <code>pub cache repair </code> will do the the work. then again run"},{"owner":{"account_id":23081869,"reputation":11,"user_id":17194029,"display_name":"AbsolutelyNot"},"score":0,"creation_date":1634798302,"post_id":69634853,"comment_id":123123410,"body_markdown":"That worked! Thank you!","body":"That worked! Thank you!"},{"owner":{"account_id":18150675,"reputation":1240,"user_id":13203445,"display_name":"Shahryar Rafique"},"score":0,"creation_date":1634799628,"post_id":69634853,"comment_id":123123895,"body_markdown":"@your welcome. Kindly marked my answer as a solution so, other can get benefit.","body":"@your welcome. Kindly marked my answer as a solution so, other can get benefit."}],"answers":[{"tags":[],"owner":{"account_id":11586699,"reputation":2375,"user_id":8593424,"display_name":"Shailendra Rajput"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634668234,"creation_date":1634668234,"answer_id":69636039,"question_id":69634853,"body_markdown":"I think you haven&#39;t added Firebase core in your pubspec.yaml file. Try to add `firebase_core 1.7.0` in your pubspec.yaml and then clean your project using this command `flutter clean`\r\n\r\nalso Checkout this [installation guide][1]\r\n\r\n\r\n  [1]: https://firebase.flutter.dev/docs/auth/overview/","title":"The plugin `firebase_auth` doesn&#39;t have a main class defined in C:\\Users\\","body":"<p>I think you haven't added Firebase core in your pubspec.yaml file. Try to add <code>firebase_core 1.7.0</code> in your pubspec.yaml and then clean your project using this command <code>flutter clean</code></p>\n<p>also Checkout this <a href=\"https://firebase.flutter.dev/docs/auth/overview/\" rel=\"nofollow noreferrer\">installation guide</a></p>\n"},{"tags":[],"owner":{"account_id":18150675,"reputation":1240,"user_id":13203445,"display_name":"Shahryar Rafique"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634799552,"creation_date":1634799552,"answer_id":69657294,"question_id":69634853,"body_markdown":"Add the firebase_core pugin because it is essential and if you did everything according to the documentation then flutter clean after that pub cache repair  will do the the work. then again run.","title":"The plugin `firebase_auth` doesn&#39;t have a main class defined in C:\\Users\\","body":"<p>Add the firebase_core pugin because it is essential and if you did everything according to the documentation then flutter clean after that pub cache repair  will do the the work. then again run.</p>\n"},{"tags":[],"owner":{"account_id":27386185,"reputation":1,"user_id":20889937,"display_name":"Rishi Jagariya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689539056,"creation_date":1689539056,"answer_id":76700271,"question_id":69634853,"body_markdown":"for issues like \r\n&quot;The plugin `X` doesn&#39;t have a main class defined in...&quot;\r\n\r\nSteps:\r\n1. Delete pubspec.lock\r\n2. Delete C:\\Users\\Username\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\.cache folder\r\n3. Delete packages liked with plugin &#39;X&#39; under above directory \r\n4. Run &#39;flutter clean&#39;\r\n5. Run &#39;flutter pub get&#39;\r\n\r\nDone","title":"The plugin `firebase_auth` doesn&#39;t have a main class defined in C:\\Users\\","body":"<p>for issues like\n&quot;The plugin <code>X</code> doesn't have a main class defined in...&quot;</p>\n<p>Steps:</p>\n<ol>\n<li>Delete pubspec.lock</li>\n<li>Delete C:\\Users\\Username\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev.cache folder</li>\n<li>Delete packages liked with plugin 'X' under above directory</li>\n<li>Run 'flutter clean'</li>\n<li>Run 'flutter pub get'</li>\n</ol>\n<p>Done</p>\n"}],"owner":{"account_id":23081869,"reputation":11,"user_id":17194029,"display_name":"AbsolutelyNot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2714,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1689539056,"creation_date":1634662188,"question_id":69634853,"body_markdown":"When adding firebase_auth to dependencies (pubspec.yaml) to my flutter project I&#39;m getting this error:\r\n\r\nThe plugin `firebase_auth` doesn&#39;t have a main class defined in C:\\Users\\(username)\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dartlang.org\\firebase_auth-3.1.3\\android\\src\\main\\java\\io\\flutter\\plugins\\firebase\\auth\\FlutterFirebaseAuthPlugin.java or C:\\Users\\(username)\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dartlang.org\\firebase_auth-3.1.3\\android\\src\\main\\kotlin\\io\\flutter\\plugins\\firebase\\auth\\FlutterFirebaseAuthPlugin.kt. This is likely to due to an incorrect `androidPackage: io.flutter.plugins.firebase.auth` or `mainClass` entry in the plugin&#39;s pubspec.yaml.\r\nIf you are the author of this plugin, fix the `androidPackage` entry or move the main class to any of locations used above. Otherwise, please contact the author of this plugin and consider using a different plugin in the meanwhile. \r\n\r\n\r\nMy code is just the dummy code created by android studio and the only thing i added is firebase_auth: ^3.1.3 in pubsbec.yaml , the .json file in the android/app directory and registered the app on Firebase website.\r\n\r\nI get the same issue in VS Code, so Android Studio is not the problem.\r\n\r\nI would really appreciate any help!","title":"The plugin `firebase_auth` doesn&#39;t have a main class defined in C:\\Users\\","body":"<p>When adding firebase_auth to dependencies (pubspec.yaml) to my flutter project I'm getting this error:</p>\n<p>The plugin <code>firebase_auth</code> doesn't have a main class defined in C:\\Users(username)\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dartlang.org\\firebase_auth-3.1.3\\android\\src\\main\\java\\io\\flutter\\plugins\\firebase\\auth\\FlutterFirebaseAuthPlugin.java or C:\\Users(username)\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dartlang.org\\firebase_auth-3.1.3\\android\\src\\main\\kotlin\\io\\flutter\\plugins\\firebase\\auth\\FlutterFirebaseAuthPlugin.kt. This is likely to due to an incorrect <code>androidPackage: io.flutter.plugins.firebase.auth</code> or <code>mainClass</code> entry in the plugin's pubspec.yaml.\nIf you are the author of this plugin, fix the <code>androidPackage</code> entry or move the main class to any of locations used above. Otherwise, please contact the author of this plugin and consider using a different plugin in the meanwhile.</p>\n<p>My code is just the dummy code created by android studio and the only thing i added is firebase_auth: ^3.1.3 in pubsbec.yaml , the .json file in the android/app directory and registered the app on Firebase website.</p>\n<p>I get the same issue in VS Code, so Android Studio is not the problem.</p>\n<p>I would really appreciate any help!</p>\n"},{"tags":["java","spring","blockchain","netty","project-reactor"],"comments":[{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1689410986,"post_id":76692746,"comment_id":135212023,"body_markdown":"if you want to  `broadcastAll` at server side  , it is necessary that build a context  store  all client connections，","body":"if you want to  <code>broadcastAll</code> at server side  , it is necessary that build a context  store  all client connections，"},{"owner":{"account_id":17364850,"reputation":1,"user_id":17892112,"display_name":"Andrei.R"},"score":0,"creation_date":1689420845,"post_id":76692746,"comment_id":135212970,"body_markdown":"So I could store all new connection in a list and when I want to broadcast to all, I can simply loop that list and call ```connection.outbound().send()``` with the specific message?","body":"So I could store all new connection in a list and when I want to broadcast to all, I can simply loop that list and call <code>connection.outbound().send()</code> with the specific message?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1689424981,"post_id":76692746,"comment_id":135213445,"body_markdown":"When asking a question, please use a title that summarizes your actual question. A title like _&quot;Project reactor Netty&quot;_ is not a good question title.","body":"When asking a question, please use a title that summarizes your actual question. A title like <i>&quot;Project reactor Netty&quot;</i> is not a good question title."},{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1689487867,"post_id":76692746,"comment_id":135218704,"body_markdown":"yes , correctly , just store every connection and loop  when it is needed","body":"yes , correctly , just store every connection and loop  when it is needed"},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1689525765,"post_id":76692746,"comment_id":135222636,"body_markdown":"You usually don&#39;t loop through connections. It&#39;s easier and more Reactive-friendly to merge multiple Publishers, one of which could be a Sink used to broadcast. Btw, how do you close/handle the connection since you return `Flux.never()`?","body":"You usually don&#39;t loop through connections. It&#39;s easier and more Reactive-friendly to merge multiple Publishers, one of which could be a Sink used to broadcast. Btw, how do you close/handle the connection since you return <code>Flux.never()</code>?"},{"owner":{"account_id":17364850,"reputation":1,"user_id":17892112,"display_name":"Andrei.R"},"score":0,"creation_date":1690965443,"post_id":76692746,"comment_id":135424914,"body_markdown":"I dont need to close the connection, since I need to keep it persistent, like in a peer to peer, so I need to always listen process the request and respond either to one or all clients.","body":"I dont need to close the connection, since I need to keep it persistent, like in a peer to peer, so I need to always listen process the request and respond either to one or all clients."}],"answers":[{"tags":[],"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689538853,"creation_date":1689538853,"answer_id":76700252,"question_id":76692746,"body_markdown":"In general, it&#39;s better to use Reactor components here instead of manual loping through connections. For broadcasting it provides `Sinks` with multicast capability.\r\n\r\nCreate a shared variable (could be withing a separate bean):\r\n    \r\n    val sink = Sinks.many().multicast().onBackpressureBuffer()\r\n\r\nThen when you want to broadcast from any connection you just:\r\n\r\n    sink.emitNext(msg) { s, r -&gt;\r\n        // process error\r\n    }\r\n\r\n(take a look at javadoc https://projectreactor.io/docs/core/release/api/index.html?reactor/core/publisher/FluxSink.html how to handle NON_SERIALIZABLE which you&#39;ll probably have)\r\n\r\nAnd then you connect this sink output to other fluxes to make your outbound. I&#39;m not sure how you can make it with your current bean which just returns a never completing flux, but assume that&#39;s just a temp draft and then the real code would be something like:\r\n\r\n\r\n    public Flux&lt;Void&gt; apply(NettyInbound inbound, NettyOutbound outbound) {\r\n        Flux responses = inbound.flatMap { \r\n            // your main logic, response to incoming requests, produce new, etc.\r\n        };\r\n        // you would probably want a takeUntil / takeWhile to make sure it doesn&#39;t keep half-closed connections, though I guess Netty takes care of it too\r\n        Flux broadcast = sink.asFlux();\r\n\r\n        outbound.send(Flux.merge(responses, broadcast))\r\n                    .then();\r\n    }\r\n    \r\n\r\n\r\n    ","title":"Project reactor Netty","body":"<p>In general, it's better to use Reactor components here instead of manual loping through connections. For broadcasting it provides <code>Sinks</code> with multicast capability.</p>\n<p>Create a shared variable (could be withing a separate bean):</p>\n<pre><code>val sink = Sinks.many().multicast().onBackpressureBuffer()\n</code></pre>\n<p>Then when you want to broadcast from any connection you just:</p>\n<pre><code>sink.emitNext(msg) { s, r -&gt;\n    // process error\n}\n</code></pre>\n<p>(take a look at javadoc <a href=\"https://projectreactor.io/docs/core/release/api/index.html?reactor/core/publisher/FluxSink.html\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/core/release/api/index.html?reactor/core/publisher/FluxSink.html</a> how to handle NON_SERIALIZABLE which you'll probably have)</p>\n<p>And then you connect this sink output to other fluxes to make your outbound. I'm not sure how you can make it with your current bean which just returns a never completing flux, but assume that's just a temp draft and then the real code would be something like:</p>\n<pre><code>public Flux&lt;Void&gt; apply(NettyInbound inbound, NettyOutbound outbound) {\n    Flux responses = inbound.flatMap { \n        // your main logic, response to incoming requests, produce new, etc.\n    };\n    // you would probably want a takeUntil / takeWhile to make sure it doesn't keep half-closed connections, though I guess Netty takes care of it too\n    Flux broadcast = sink.asFlux();\n\n    outbound.send(Flux.merge(responses, broadcast))\n                .then();\n}\n</code></pre>\n"}],"owner":{"account_id":17364850,"reputation":1,"user_id":17892112,"display_name":"Andrei.R"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689538853,"creation_date":1689407178,"question_id":76692746,"body_markdown":"I am working on a java blockchain project and I have a question regarding inbound and outbound connections.\r\n\r\nI have this server setup:\r\n\r\n```\r\n@Bean\r\n    public Mono&lt;Void&gt; startServer() throws RocksDBException {\r\n        return TcpServer.create()\r\n                .doOnConnection(c -&gt; log.info(&quot;Peer connected!&quot;))\r\n                .option(ChannelOption.SO_KEEPALIVE, true)\r\n                .handle(transmissionHandler())\r\n                .port(7331)\r\n                .doOnBound(server -&gt; log.info(&quot;Server started on address:{} and port:{}&quot;, server.address(), server.port()))\r\n                .doOnUnbound(server -&gt; log.info(&quot;Server stopped!&quot;))\r\n                .bindNow()\r\n                .onDispose();\r\n    }\r\n\r\n@Bean\r\n    public TransmissionHandler transmissionHandler() {\r\n        return new TransmissionHandler();\r\n    }\r\n```\r\n\r\nAnd for TransmissionHandler method\r\n```\r\n@Slf4j\r\n@RequiredArgsConstructor\r\npublic class TransmissionHandler implements BiFunction&lt;NettyInbound, NettyOutbound, Flux&lt;Void&gt;&gt; {\r\n    @Autowired\r\n    private Processor messageProcessor;\r\n    private NettyOutbound outbound;\r\n\r\n    private NettyInbound inbound;\r\n\r\n    @Override\r\n    public Flux&lt;Void&gt; apply(NettyInbound inbound, NettyOutbound outbound) {\r\n        this.outbound = outbound;\r\n        this.inbound = inbound;\r\n\r\n        return Flux.never();\r\n    }\r\n\r\n    public NettyInbound getInbound() {\r\n        return inbound;\r\n    }\r\n\r\n    public NettyOutbound getOutbound() {\r\n        return outbound;\r\n    }\r\n}\r\n```\r\n\r\nIf multiple clients(A,B,C) connects to the server, A send a message and wait a response, B send a message to server, if the server receives a message with instruction &#39;broadcastAll&#39; it means that ti should broadcast that message to all connected clients.\r\n\r\nMy question is in the ```.handle(transmissionHandler())``` will handle each connection one by one, so for example one client will send a message the server will &#39;talk&#39; with that client only?\r\n\r\nAs a potential solution I am thinking to create a new @Bean that will take care of the all connection clients, if the server receives a message with instruction &#39;broadcastAll&#39; then loop to each connection and send a message to each connected client.\r\n\r\n\r\nIt is a bit hard to try tcp connection on a single machine, I am thinking of deploying them on a kubernetes env and a pod = a machine.","title":"Project reactor Netty","body":"<p>I am working on a java blockchain project and I have a question regarding inbound and outbound connections.</p>\n<p>I have this server setup:</p>\n<pre><code>@Bean\n    public Mono&lt;Void&gt; startServer() throws RocksDBException {\n        return TcpServer.create()\n                .doOnConnection(c -&gt; log.info(&quot;Peer connected!&quot;))\n                .option(ChannelOption.SO_KEEPALIVE, true)\n                .handle(transmissionHandler())\n                .port(7331)\n                .doOnBound(server -&gt; log.info(&quot;Server started on address:{} and port:{}&quot;, server.address(), server.port()))\n                .doOnUnbound(server -&gt; log.info(&quot;Server stopped!&quot;))\n                .bindNow()\n                .onDispose();\n    }\n\n@Bean\n    public TransmissionHandler transmissionHandler() {\n        return new TransmissionHandler();\n    }\n</code></pre>\n<p>And for TransmissionHandler method</p>\n<pre><code>@Slf4j\n@RequiredArgsConstructor\npublic class TransmissionHandler implements BiFunction&lt;NettyInbound, NettyOutbound, Flux&lt;Void&gt;&gt; {\n    @Autowired\n    private Processor messageProcessor;\n    private NettyOutbound outbound;\n\n    private NettyInbound inbound;\n\n    @Override\n    public Flux&lt;Void&gt; apply(NettyInbound inbound, NettyOutbound outbound) {\n        this.outbound = outbound;\n        this.inbound = inbound;\n\n        return Flux.never();\n    }\n\n    public NettyInbound getInbound() {\n        return inbound;\n    }\n\n    public NettyOutbound getOutbound() {\n        return outbound;\n    }\n}\n</code></pre>\n<p>If multiple clients(A,B,C) connects to the server, A send a message and wait a response, B send a message to server, if the server receives a message with instruction 'broadcastAll' it means that ti should broadcast that message to all connected clients.</p>\n<p>My question is in the <code>.handle(transmissionHandler())</code> will handle each connection one by one, so for example one client will send a message the server will 'talk' with that client only?</p>\n<p>As a potential solution I am thinking to create a new @Bean that will take care of the all connection clients, if the server receives a message with instruction 'broadcastAll' then loop to each connection and send a message to each connected client.</p>\n<p>It is a bit hard to try tcp connection on a single machine, I am thinking of deploying them on a kubernetes env and a pod = a machine.</p>\n"},{"tags":["java","performance","jmeter","performance-testing","gatling"],"comments":[{"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"score":0,"creation_date":1689724689,"post_id":76700140,"comment_id":135253210,"body_markdown":"This question has already been answered multiple times on the official Gatling community forum, eg https://community.gatling.io/t/able-to-refresh-token-but-running-refresh-token-scenario-in-sequential-scenarios-is-not-working/7998/3","body":"This question has already been answered multiple times on the official Gatling community forum, eg <a href=\"https://community.gatling.io/t/able-to-refresh-token-but-running-refresh-token-scenario-in-sequential-scenarios-is-not-working/7998/3\" rel=\"nofollow noreferrer\">community.gatling.io/t/&hellip;</a>"}],"owner":{"account_id":3390495,"reputation":12123,"user_id":2845414,"accept_rate":94,"display_name":"Sumeet Kumar Yadav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689536801,"creation_date":1689536801,"question_id":76700140,"body_markdown":"I am utilizing Gatling in Java to measure the API&#39;s performance. The objective is to measure the performance of the user API, which requires a token. This token expires every 10 minutes. Is it feasible to obtain the token only once every 10 minutes and reset ? Below scenario executes both the API together but I want to execute /token only once every 10 minutes and update access token.    \r\n\r\n```\r\npublic class GetTokenAndUserSimulation extends Simulation {\r\n\r\n    HttpProtocolBuilder httpProtocol = http.baseUrl(BASE_URL)\r\n            .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n            .header(&quot;Accept-Encoding&quot;, &quot;gzip&quot;)\r\n            .check(status().is(200));\r\n\r\n    ScenarioBuilder scn = scenario(&quot;OAuth Token and User Request&quot;)\r\n        .exec(http(&quot;OAuth Token Request&quot;)\r\n            .post(&quot;/token&quot;)\r\n            .header(&quot;Authorization&quot;, &quot;Basic &quot;+TOKEN)\r\n            .check(status().is(200))\r\n            .check(jsonPath(&quot;$.access_token&quot;).saveAs(&quot;accessToken&quot;)))\r\n        .exec(http(&quot;User Request&quot;)\r\n            .get(&quot;/user&quot;)\r\n            .header(&quot;Authorization&quot;, &quot;Bearer ${accessToken}&quot;)\r\n            .check(status().is(200)));\r\n\r\n    {\r\n        setUp(scn.injectOpen(constantUsersPerSec(REQUEST_PER_SECOND).during(Duration.ofMinutes(DURATION_MIN))))\r\n                .protocols(httpProtocol)\r\n                .assertions(global().responseTime().percentile3().lt(P95_RESPONSE_TIME_MS),\r\n                        global().successfulRequests().percent().gt(95.0));\r\n    }\r\n} ","title":"Gatling Java Performance Testing With Token Renewal Every 10 Minutes","body":"<p>I am utilizing Gatling in Java to measure the API's performance. The objective is to measure the performance of the user API, which requires a token. This token expires every 10 minutes. Is it feasible to obtain the token only once every 10 minutes and reset ? Below scenario executes both the API together but I want to execute /token only once every 10 minutes and update access token.</p>\n<pre><code>public class GetTokenAndUserSimulation extends Simulation {\n\n    HttpProtocolBuilder httpProtocol = http.baseUrl(BASE_URL)\n            .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n            .header(&quot;Accept-Encoding&quot;, &quot;gzip&quot;)\n            .check(status().is(200));\n\n    ScenarioBuilder scn = scenario(&quot;OAuth Token and User Request&quot;)\n        .exec(http(&quot;OAuth Token Request&quot;)\n            .post(&quot;/token&quot;)\n            .header(&quot;Authorization&quot;, &quot;Basic &quot;+TOKEN)\n            .check(status().is(200))\n            .check(jsonPath(&quot;$.access_token&quot;).saveAs(&quot;accessToken&quot;)))\n        .exec(http(&quot;User Request&quot;)\n            .get(&quot;/user&quot;)\n            .header(&quot;Authorization&quot;, &quot;Bearer ${accessToken}&quot;)\n            .check(status().is(200)));\n\n    {\n        setUp(scn.injectOpen(constantUsersPerSec(REQUEST_PER_SECOND).during(Duration.ofMinutes(DURATION_MIN))))\n                .protocols(httpProtocol)\n                .assertions(global().responseTime().percentile3().lt(P95_RESPONSE_TIME_MS),\n                        global().successfulRequests().percent().gt(95.0));\n    }\n} \n</code></pre>\n"},{"tags":["java","graphql","spring-graphql"],"answers":[{"tags":[],"owner":{"account_id":3338251,"reputation":19359,"user_id":2805154,"accept_rate":75,"display_name":"Michel Floyd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689534664,"creation_date":1689534664,"answer_id":76699995,"question_id":76698184,"body_markdown":"Your mutation wants a variable called `documentInput` but you are passing `id`, `name`, and `desc`\r\n\r\n`id`, `name`, and `desc` are the expected fields in the *result* of the mutation, not inputs.\r\n\r\nLook at your server&#39;s GraphQL schema to understand what the shape of `documentInput` is.","title":"Why this mutation GraphQL query does not pass data through?","body":"<p>Your mutation wants a variable called <code>documentInput</code> but you are passing <code>id</code>, <code>name</code>, and <code>desc</code></p>\n<p><code>id</code>, <code>name</code>, and <code>desc</code> are the expected fields in the <em>result</em> of the mutation, not inputs.</p>\n<p>Look at your server's GraphQL schema to understand what the shape of <code>documentInput</code> is.</p>\n"}],"owner":{"account_id":437987,"reputation":3973,"user_id":825968,"accept_rate":77,"display_name":"AndrasCsanyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689534664,"creation_date":1689509319,"question_id":76698184,"body_markdown":"I have the Mutation below and I&#39;d like to test it with the script below, but I don&#39;t know what is the problem with it.\r\n\r\nI already checked the documentation, at least 10 tutorials and according to those it should work, but it doesn&#39;t:\r\n- when remove the NonNull from the Mutation the code breaks at server side at validations with the same error, the passed object is null\r\n- I also ensured that the `DocumentDto` class has a public zero args constructor\r\n- the error is reproducable via GraphiQL too\r\n\r\nMutation\r\n\r\n```lang-gql\r\ntype Mutation {\r\n    createDocument(documentInput: DocumentInput!): Document\r\n}\r\n```\r\n\r\n\r\nJava test code:\r\n\r\n```lang-java\r\n\r\n@Test\r\npublic void shouldCreateDocument_andReturnIt() {\r\n\r\n    // Arrange\r\n\r\n    // Act\r\n    DocumentDto result = httpGraphQlTester.document(&quot;&quot;&quot;\r\n               mutation createDocument($documentInput: DocumentInput!) {\r\n                 createDocument(documentInput: $documentInput) {\r\n                   id\r\n                   name\r\n                   desc\r\n                 }\r\n               }\r\n            &quot;&quot;&quot;)\r\n        .variable(&quot;id&quot;, 0L)\r\n        .variable(&quot;name&quot;, &quot;named&quot;)\r\n        .variable(&quot;desc&quot;, &quot;descd&quot;)\r\n        .execute()\r\n        .path(&quot;data&quot;)\r\n        .entity(DocumentDto.class)\r\n        .get();\r\n\r\n    System.out.println(result);\r\n}\r\n\r\n```\r\n\r\nError:\r\n\r\n&gt; java.lang.AssertionError: Response has 1 unexpected error(s) of 1\r\n&gt; total. If expected, please filter them out: [{message=Variable\r\n&gt; &#39;documentInput&#39; has an invalid value: Variable &#39;documentInput&#39; has\r\n&gt; coerced Null value for NonNull type &#39;DocumentInput!&#39;,\r\n&gt; locations=[{line=1, column=28}],\r\n&gt; extensions={classification=ValidationError}}] Request: document=&#39;  \r\n&gt; mutation createDocument($documentInput: DocumentInput!) {\r\n&gt;      createDocument(documentInput: $documentInput) {\r\n&gt;        id\r\n&gt;        name\r\n&gt;        desc\r\n&gt;      }    } &#39;, variables={id=0, name=named, desc=descd}\r\n&gt; \r\n&gt; \tat\r\n&gt; org.springframework.graphql.test.tester.DefaultGraphQlTester$DefaultRequest.lambda$assertDecorator$3(DefaultGraphQlTester.java:183)\r\n&gt; \tat\r\n&gt; org.springframework.graphql.test.tester.DefaultGraphQlTester$ResponseDelegate.verifyErrors(DefaultGraphQlTester.java:266)\r\n&gt; \tat\r\n&gt; org.springframework.graphql.test.tester.DefaultGraphQlTester$DefaultResponse.path(DefaultGraphQlTester.java:293)\r\n&gt; \tat\r\n&gt; com.encyclopediagalactica.document.e2e.CreateDocumentE2ETest.shouldCreateDocument_andReturnIt(CreateDocumentE2ETest.java:36)\r\n\r\n","title":"Why this mutation GraphQL query does not pass data through?","body":"<p>I have the Mutation below and I'd like to test it with the script below, but I don't know what is the problem with it.</p>\n<p>I already checked the documentation, at least 10 tutorials and according to those it should work, but it doesn't:</p>\n<ul>\n<li>when remove the NonNull from the Mutation the code breaks at server side at validations with the same error, the passed object is null</li>\n<li>I also ensured that the <code>DocumentDto</code> class has a public zero args constructor</li>\n<li>the error is reproducable via GraphiQL too</li>\n</ul>\n<p>Mutation</p>\n<pre class=\"lang-gql prettyprint-override\"><code>type Mutation {\n    createDocument(documentInput: DocumentInput!): Document\n}\n</code></pre>\n<p>Java test code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Test\npublic void shouldCreateDocument_andReturnIt() {\n\n    // Arrange\n\n    // Act\n    DocumentDto result = httpGraphQlTester.document(&quot;&quot;&quot;\n               mutation createDocument($documentInput: DocumentInput!) {\n                 createDocument(documentInput: $documentInput) {\n                   id\n                   name\n                   desc\n                 }\n               }\n            &quot;&quot;&quot;)\n        .variable(&quot;id&quot;, 0L)\n        .variable(&quot;name&quot;, &quot;named&quot;)\n        .variable(&quot;desc&quot;, &quot;descd&quot;)\n        .execute()\n        .path(&quot;data&quot;)\n        .entity(DocumentDto.class)\n        .get();\n\n    System.out.println(result);\n}\n\n</code></pre>\n<p>Error:</p>\n<blockquote>\n<p>java.lang.AssertionError: Response has 1 unexpected error(s) of 1\ntotal. If expected, please filter them out: [{message=Variable\n'documentInput' has an invalid value: Variable 'documentInput' has\ncoerced Null value for NonNull type 'DocumentInput!',\nlocations=[{line=1, column=28}],\nextensions={classification=ValidationError}}] Request: document='<br />\nmutation createDocument($documentInput: DocumentInput!) {\ncreateDocument(documentInput: $documentInput) {\nid\nname\ndesc\n}    } ', variables={id=0, name=named, desc=descd}</p>\n<p>at\norg.springframework.graphql.test.tester.DefaultGraphQlTester$DefaultRequest.lambda$assertDecorator$3(DefaultGraphQlTester.java:183)\nat\norg.springframework.graphql.test.tester.DefaultGraphQlTester$ResponseDelegate.verifyErrors(DefaultGraphQlTester.java:266)\nat\norg.springframework.graphql.test.tester.DefaultGraphQlTester$DefaultResponse.path(DefaultGraphQlTester.java:293)\nat\ncom.encyclopediagalactica.document.e2e.CreateDocumentE2ETest.shouldCreateDocument_andReturnIt(CreateDocumentE2ETest.java:36)</p>\n</blockquote>\n"},{"tags":["java","internet-explorer-11","servlet-filters"],"comments":[{"owner":{"account_id":2442876,"reputation":7456,"user_id":2137269,"accept_rate":79,"display_name":"Evan Knowles"},"score":1,"creation_date":1426754739,"post_id":29139862,"comment_id":46504114,"body_markdown":"Check http://stackoverflow.com/questions/28659450/object-doesnt-support-property-or-method-attachevent-internetexplorer-11","body":"Check <a href=\"http://stackoverflow.com/questions/28659450/object-doesnt-support-property-or-method-attachevent-internetexplorer-11\" title=\"object doesnt support property or method attachevent internetexplorer 11\">stackoverflow.com/questions/28659450/&hellip;</a>"},{"owner":{"account_id":3779206,"reputation":1465,"user_id":3139153,"accept_rate":73,"display_name":"Naitik"},"score":0,"creation_date":1426756134,"post_id":29139862,"comment_id":46504808,"body_markdown":"@EvanKnowles i checked it and but they give update jquery for solved it problem at end of their conversation but i am using updated jquery already.","body":"@EvanKnowles i checked it and but they give update jquery for solved it problem at end of their conversation but i am using updated jquery already."},{"owner":{"account_id":2442876,"reputation":7456,"user_id":2137269,"accept_rate":79,"display_name":"Evan Knowles"},"score":1,"creation_date":1426756305,"post_id":29139862,"comment_id":46504886,"body_markdown":"We&#39;re going to need to see more code then.","body":"We&#39;re going to need to see more code then."}],"answers":[{"comments":[{"owner":{"account_id":3779206,"reputation":1465,"user_id":3139153,"accept_rate":73,"display_name":"Naitik"},"score":0,"creation_date":1426758796,"post_id":29140649,"comment_id":46506281,"body_markdown":"with use of jQuery click event i solved my problem. you save my lot of time. thanks","body":"with use of jQuery click event i solved my problem. you save my lot of time. thanks"},{"owner":{"account_id":4714021,"reputation":6570,"user_id":3813733,"accept_rate":60,"display_name":"Arkantos"},"score":1,"creation_date":1426759128,"post_id":29140649,"comment_id":46506517,"body_markdown":"Glad to be of help :)","body":"Glad to be of help :)"}],"tags":[],"owner":{"account_id":4714021,"reputation":6570,"user_id":3813733,"accept_rate":60,"display_name":"Arkantos"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1426756414,"creation_date":1426756414,"answer_id":29140649,"question_id":29139862,"body_markdown":"In older versions of IE, `attachEvent` is used to attach an event handler for some event on some element. But as per the update [here][1], starting with IE11, `attachEvent` is deprecated and you should use `addEventListener` instead. \r\n\r\nIE has included support for `addEventListener` from IE9 and above only. So if you still need to support IE8, I suggest you use some cross-browser library like jQuery to bind event handlers instead of vanilla javascript.\r\n\r\nAs you&#39;re already using jQuery, you can bind events like below\r\n\r\n    $(&#39;#yourElement&#39;).on(&#39;click&#39;, function(){\r\n       // do something when you click on yourElement\r\n    }); \r\n\r\n\r\n  [1]: https://msdn.microsoft.com/en-us/library/ie/ms536343(v=vs.85).aspx","title":"Getting Error &quot;Object doesn&#39;t support property or method &#39;attachEvent&#39;&quot; in IE11 but work in IE8, IE9, IE10","body":"<p>In older versions of IE, <code>attachEvent</code> is used to attach an event handler for some event on some element. But as per the update <a href=\"https://msdn.microsoft.com/en-us/library/ie/ms536343(v=vs.85).aspx\" rel=\"nofollow\">here</a>, starting with IE11, <code>attachEvent</code> is deprecated and you should use <code>addEventListener</code> instead. </p>\n\n<p>IE has included support for <code>addEventListener</code> from IE9 and above only. So if you still need to support IE8, I suggest you use some cross-browser library like jQuery to bind event handlers instead of vanilla javascript.</p>\n\n<p>As you're already using jQuery, you can bind events like below</p>\n\n<pre><code>$('#yourElement').on('click', function(){\n   // do something when you click on yourElement\n}); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6553325,"reputation":606,"user_id":5066922,"display_name":"Alpesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476107963,"creation_date":1476107253,"answer_id":39959829,"question_id":29139862,"body_markdown":"A hack. You may check for IE11 before doing this. I am targeting IE11 only so not doing any checks.\r\n\r\n    &lt;script lang=&quot;javascript&quot; type=&quot;text/javascript&quot;&gt;\r\n            Element.prototype.attachEvent = function(ename, e) {\r\n                this.addEventListener(ename, e);\r\n            }\r\n    \r\n            Element.prototype.detachEvent = function(ename, e) {\r\n                this.removeEventListener(ename, e);\r\n            }\r\n    &lt;/script&gt;","title":"Getting Error &quot;Object doesn&#39;t support property or method &#39;attachEvent&#39;&quot; in IE11 but work in IE8, IE9, IE10","body":"<p>A hack. You may check for IE11 before doing this. I am targeting IE11 only so not doing any checks.</p>\n\n<pre><code>&lt;script lang=\"javascript\" type=\"text/javascript\"&gt;\n        Element.prototype.attachEvent = function(ename, e) {\n            this.addEventListener(ename, e);\n        }\n\n        Element.prototype.detachEvent = function(ename, e) {\n            this.removeEventListener(ename, e);\n        }\n&lt;/script&gt;\n</code></pre>\n"}],"owner":{"account_id":3779206,"reputation":1465,"user_id":3139153,"accept_rate":73,"display_name":"Naitik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":29140649,"answer_count":2,"score":1,"last_activity_date":1689534336,"creation_date":1426753449,"question_id":29139862,"body_markdown":"I am working on Java `doFilter` Popup and open iFrame jQuery popup with URL which called SAP. \r\n\r\nMy code is working for Chrome, Mozilla firefox, IE8, IE9 and IE10 but I am getting a: \r\n\r\n&gt; Object doesn&#39;t support property or method &#39;attachEvent&#39;&quot; Error in\r\n&gt; IE11.\r\n\r\nIs there any issue with IE11 ? \r\n\r\nAny help is deeply appreciated. \r\n\r\nThanks.","title":"Getting Error &quot;Object doesn&#39;t support property or method &#39;attachEvent&#39;&quot; in IE11 but work in IE8, IE9, IE10","body":"<p>I am working on Java <code>doFilter</code> Popup and open iFrame jQuery popup with URL which called SAP.</p>\n<p>My code is working for Chrome, Mozilla firefox, IE8, IE9 and IE10 but I am getting a:</p>\n<blockquote>\n<p>Object doesn't support property or method 'attachEvent'&quot; Error in\nIE11.</p>\n</blockquote>\n<p>Is there any issue with IE11 ?</p>\n<p>Any help is deeply appreciated.</p>\n<p>Thanks.</p>\n"},{"tags":["java","apache-kafka","kafka-producer-api"],"answers":[{"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689534305,"creation_date":1689533671,"answer_id":76699926,"question_id":76699879,"body_markdown":"The problem is in the way kafka works with advertised listeners.\r\n\r\nWhenever a connection request comes into kafka, this is what happens inside:\r\n\r\n1. It takes a look at where it receives the request\r\n2. This incoming request is mapped to a connection:  \r\n\r\n       KAFKA_LISTENERS: BROKER://kafka1:19092,EXTERNAL://kafka1:39092,CONTROLLER://kafka1:9093\r\n\r\n3. It then knows the name of your connection: In your case the &quot;EXTERNAL&quot; connection is used\r\n4. It uses this name to return the ADVERTISED_LISTENER, **which then is used for the application to actually send/receive data**. \r\n\r\n       KAFKA_ADVERTISED_LISTENERS: BROKER://kafka1:19092,EXTERNAL://kafka1:39092\r\n\r\n5. In your case this is returned:  \r\n\r\n       EXTERNAL://kafka1:39092\r\n\r\nYou see exactly this also in your error message: \r\n\r\n    UnknownHostException: kafka1\r\n\r\nAnd this makes totally sense: Your application is **outside** of the docker network, it doesnt know the host &quot;kafka1&quot;, but this is what the kafka broker returns to actually send data to.\r\n\r\nSo to fix your issue you have to change the &quot;ADVERTISED_LISTENER&quot; variable to this:\r\n\r\n      KAFKA_ADVERTISED_LISTENERS: BROKER://kafka1:19092,EXTERNAL://127.0.0.1:39092\r\n","title":"Java docker kafka kraft simple connection","body":"<p>The problem is in the way kafka works with advertised listeners.</p>\n<p>Whenever a connection request comes into kafka, this is what happens inside:</p>\n<ol>\n<li><p>It takes a look at where it receives the request</p>\n</li>\n<li><p>This incoming request is mapped to a connection:</p>\n<pre><code>KAFKA_LISTENERS: BROKER://kafka1:19092,EXTERNAL://kafka1:39092,CONTROLLER://kafka1:9093\n</code></pre>\n</li>\n<li><p>It then knows the name of your connection: In your case the &quot;EXTERNAL&quot; connection is used</p>\n</li>\n<li><p>It uses this name to return the ADVERTISED_LISTENER, <strong>which then is used for the application to actually send/receive data</strong>.</p>\n<pre><code>KAFKA_ADVERTISED_LISTENERS: BROKER://kafka1:19092,EXTERNAL://kafka1:39092\n</code></pre>\n</li>\n<li><p>In your case this is returned:</p>\n<pre><code>EXTERNAL://kafka1:39092\n</code></pre>\n</li>\n</ol>\n<p>You see exactly this also in your error message:</p>\n<pre><code>UnknownHostException: kafka1\n</code></pre>\n<p>And this makes totally sense: Your application is <strong>outside</strong> of the docker network, it doesnt know the host &quot;kafka1&quot;, but this is what the kafka broker returns to actually send data to.</p>\n<p>So to fix your issue you have to change the &quot;ADVERTISED_LISTENER&quot; variable to this:</p>\n<pre><code>  KAFKA_ADVERTISED_LISTENERS: BROKER://kafka1:19092,EXTERNAL://127.0.0.1:39092\n</code></pre>\n"}],"owner":{"account_id":77197,"reputation":5536,"user_id":220503,"accept_rate":85,"display_name":"Marco Aviles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689605691,"accepted_answer_id":76699926,"answer_count":1,"score":0,"last_activity_date":1689534305,"creation_date":1689532987,"question_id":76699879,"body_markdown":"Hi I&#39;m using docker to host a local kafka kraft server. I&#39;m trying to make a simple connection using java\r\n\r\nMy docker `docker-compose.yml` looks like this\r\n\r\n    version: &quot;3.5&quot;\r\n    services:\r\n    \r\n      kafka-gen:\r\n        image: confluentinc/cp-kafka:7.3.3\r\n        hostname: kafka-gen\r\n        container_name: kafka-gen\r\n        volumes:\r\n          - ./scripts/create_cluster_id.sh:/tmp/create_cluster_id.sh\r\n          - ./clusterID:/tmp/clusterID\r\n        command: &quot;bash -c &#39;/tmp/create_cluster_id.sh&#39;&quot;\r\n    \r\n      kafka1:\r\n        image: confluentinc/cp-kafka:7.3.3\r\n        hostname: kafka1\r\n        container_name: kafka1\r\n        ports:\r\n          - &quot;39092:39092&quot;\r\n        environment:\r\n          KAFKA_LISTENERS: BROKER://kafka1:19092,EXTERNAL://kafka1:39092,CONTROLLER://kafka1:9093\r\n          KAFKA_ADVERTISED_LISTENERS: BROKER://kafka1:19092,EXTERNAL://kafka1:39092\r\n          KAFKA_INTER_BROKER_LISTENER_NAME: BROKER\r\n          KAFKA_CONTROLLER_LISTENER_NAMES: CONTROLLER\r\n          KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: CONTROLLER:PLAINTEXT,BROKER:PLAINTEXT,EXTERNAL:PLAINTEXT\r\n          KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS: 0\r\n          KAFKA_PROCESS_ROLES: &#39;controller,broker&#39;\r\n          KAFKA_NODE_ID: 1\r\n          KAFKA_CONTROLLER_QUORUM_VOTERS: &#39;1@kafka1:9093&#39;\r\n          KAFKA_METADATA_LOG_SEGMENT_MS: 15000\r\n          KAFKA_METADATA_MAX_RETENTION_MS: 1200000\r\n          KAFKA_METADATA_LOG_MAX_RECORD_BYTES_BETWEEN_SNAPSHOTS: 2800\r\n          KAFKA_LOG_DIRS: &#39;/tmp/kraft-combined-logs&#39;\r\n        volumes:\r\n          - kafka1-data:/var/lib/kafka/data\r\n          - ./scripts/update_run.sh:/tmp/update_run.sh\r\n          - ./clusterID:/tmp/clusterID\r\n        command: &quot;bash -c &#39;/tmp/update_run.sh &amp;&amp; /etc/confluent/docker/run&#39;&quot;\r\n    \r\n    volumes:\r\n      kafka1-data:\r\n\r\nand my java code(using `org.apache.kafka:kafka-clients:3.4.0`)\r\n\r\n    Properties properties = new Properties();\r\n    properties.setProperty(&quot;bootstrap.servers&quot;, &quot;127.0.0.1:39092&quot;);\r\n    properties.setProperty(&quot;key.serializer&quot;, StringSerializer.class.getName());\r\n    properties.setProperty(&quot;value.serializer&quot;, StringSerializer.class.getName());\r\n\r\n    KafkaProducer&lt;String, String&gt; kafkaProducer = new KafkaProducer&lt;&gt;(properties);\r\n    ProducerRecord&lt;String, String&gt; producerRecord = new ProducerRecord&lt;&gt;(\r\n            &quot;first_topic&quot;, &quot;testm&quot;\r\n    );\r\n    kafkaProducer.send(producerRecord);\r\n\r\n    kafkaProducer.flush();\r\n\r\n    kafkaProducer.close();\r\n    \r\nI&#39;m getting \r\n\r\n     WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Error connecting to node kafka1:39092 (id: 1 rack: null)\r\n    java.net.UnknownHostException: kafka1\r\n\r\nand the message is never pushed. Could you help me figure out either of my docker or the java connector have a problem?\r\n\r\nthanks in advance","title":"Java docker kafka kraft simple connection","body":"<p>Hi I'm using docker to host a local kafka kraft server. I'm trying to make a simple connection using java</p>\n<p>My docker <code>docker-compose.yml</code> looks like this</p>\n<pre><code>version: &quot;3.5&quot;\nservices:\n\n  kafka-gen:\n    image: confluentinc/cp-kafka:7.3.3\n    hostname: kafka-gen\n    container_name: kafka-gen\n    volumes:\n      - ./scripts/create_cluster_id.sh:/tmp/create_cluster_id.sh\n      - ./clusterID:/tmp/clusterID\n    command: &quot;bash -c '/tmp/create_cluster_id.sh'&quot;\n\n  kafka1:\n    image: confluentinc/cp-kafka:7.3.3\n    hostname: kafka1\n    container_name: kafka1\n    ports:\n      - &quot;39092:39092&quot;\n    environment:\n      KAFKA_LISTENERS: BROKER://kafka1:19092,EXTERNAL://kafka1:39092,CONTROLLER://kafka1:9093\n      KAFKA_ADVERTISED_LISTENERS: BROKER://kafka1:19092,EXTERNAL://kafka1:39092\n      KAFKA_INTER_BROKER_LISTENER_NAME: BROKER\n      KAFKA_CONTROLLER_LISTENER_NAMES: CONTROLLER\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: CONTROLLER:PLAINTEXT,BROKER:PLAINTEXT,EXTERNAL:PLAINTEXT\n      KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS: 0\n      KAFKA_PROCESS_ROLES: 'controller,broker'\n      KAFKA_NODE_ID: 1\n      KAFKA_CONTROLLER_QUORUM_VOTERS: '1@kafka1:9093'\n      KAFKA_METADATA_LOG_SEGMENT_MS: 15000\n      KAFKA_METADATA_MAX_RETENTION_MS: 1200000\n      KAFKA_METADATA_LOG_MAX_RECORD_BYTES_BETWEEN_SNAPSHOTS: 2800\n      KAFKA_LOG_DIRS: '/tmp/kraft-combined-logs'\n    volumes:\n      - kafka1-data:/var/lib/kafka/data\n      - ./scripts/update_run.sh:/tmp/update_run.sh\n      - ./clusterID:/tmp/clusterID\n    command: &quot;bash -c '/tmp/update_run.sh &amp;&amp; /etc/confluent/docker/run'&quot;\n\nvolumes:\n  kafka1-data:\n</code></pre>\n<p>and my java code(using <code>org.apache.kafka:kafka-clients:3.4.0</code>)</p>\n<pre><code>Properties properties = new Properties();\nproperties.setProperty(&quot;bootstrap.servers&quot;, &quot;127.0.0.1:39092&quot;);\nproperties.setProperty(&quot;key.serializer&quot;, StringSerializer.class.getName());\nproperties.setProperty(&quot;value.serializer&quot;, StringSerializer.class.getName());\n\nKafkaProducer&lt;String, String&gt; kafkaProducer = new KafkaProducer&lt;&gt;(properties);\nProducerRecord&lt;String, String&gt; producerRecord = new ProducerRecord&lt;&gt;(\n        &quot;first_topic&quot;, &quot;testm&quot;\n);\nkafkaProducer.send(producerRecord);\n\nkafkaProducer.flush();\n\nkafkaProducer.close();\n</code></pre>\n<p>I'm getting</p>\n<pre><code> WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Error connecting to node kafka1:39092 (id: 1 rack: null)\njava.net.UnknownHostException: kafka1\n</code></pre>\n<p>and the message is never pushed. Could you help me figure out either of my docker or the java connector have a problem?</p>\n<p>thanks in advance</p>\n"},{"tags":["java","tomcat","basic-authentication","netweaver"],"comments":[{"owner":{"account_id":4964872,"reputation":1022,"user_id":3994580,"display_name":"DaniEll"},"score":0,"creation_date":1436517231,"post_id":31335719,"comment_id":50656603,"body_markdown":"Maybe there is a problem on the Tomcat side?","body":"Maybe there is a problem on the Tomcat side?"},{"owner":{"account_id":4298864,"reputation":502,"user_id":3513092,"display_name":"ben"},"score":0,"creation_date":1436517934,"post_id":31335719,"comment_id":50656997,"body_markdown":"I thought so as well, but wouldn’t the restart of the Tomcat let the problem occur after the first request to the Tomcat after the restart?\nBut if you could point me into a direction, I would gladly look into it.","body":"I thought so as well, but wouldn’t the restart of the Tomcat let the problem occur after the first request to the Tomcat after the restart? But if you could point me into a direction, I would gladly look into it."},{"owner":{"account_id":5368841,"reputation":9821,"user_id":4277915,"display_name":"flo"},"score":0,"creation_date":1436518230,"post_id":31335719,"comment_id":50657200,"body_markdown":"Do your requests contain some sort of cookies?","body":"Do your requests contain some sort of cookies?"},{"owner":{"account_id":5368841,"reputation":9821,"user_id":4277915,"display_name":"flo"},"score":0,"creation_date":1436518279,"post_id":31335719,"comment_id":50657228,"body_markdown":"@user3513092 regarding restart: Does your tomcate dispose session infos on restart?","body":"@user3513092 regarding restart: Does your tomcate dispose session infos on restart?"},{"owner":{"account_id":4298864,"reputation":502,"user_id":3513092,"display_name":"ben"},"score":0,"creation_date":1436518784,"post_id":31335719,"comment_id":50657523,"body_markdown":"No cookies; which flag need to be set to dispose the session infos?","body":"No cookies; which flag need to be set to dispose the session infos?"},{"owner":{"account_id":5368841,"reputation":9821,"user_id":4277915,"display_name":"flo"},"score":0,"creation_date":1436518906,"post_id":31335719,"comment_id":50657592,"body_markdown":"see https://tomcat.apache.org/tomcat-7.0-doc/config/manager.html - it is the saveOnRestart attribute. It defaults to true. You may try to set it to false. How do you configure the basic auth at tomcat?","body":"see <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/config/manager.html\" rel=\"nofollow noreferrer\">tomcat.apache.org/tomcat-7.0-doc/config/manager.html</a> - it is the saveOnRestart attribute. It defaults to true. You may try to set it to false. How do you configure the basic auth at tomcat?"},{"owner":{"account_id":4298864,"reputation":502,"user_id":3513092,"display_name":"ben"},"score":0,"creation_date":1436617674,"post_id":31335719,"comment_id":50695797,"body_markdown":"You were right. It is the tomcat. Even a request with Postman or Soap Ui are failing, if they are sending the first request of the day. I have to check, why Tomcat is behaving like this :-/","body":"You were right. It is the tomcat. Even a request with Postman or Soap Ui are failing, if they are sending the first request of the day. I have to check, why Tomcat is behaving like this :-/"},{"owner":{"account_id":4298864,"reputation":502,"user_id":3513092,"display_name":"ben"},"score":0,"creation_date":1454506068,"post_id":31335719,"comment_id":58073624,"body_markdown":"Just wanted to add, we never figured out why the first call of the day failed. We just add a retry into the software to try it twice","body":"Just wanted to add, we never figured out why the first call of the day failed. We just add a retry into the software to try it twice"}],"owner":{"account_id":4298864,"reputation":502,"user_id":3513092,"display_name":"ben"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1079,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689532964,"creation_date":1436516066,"question_id":31335719,"body_markdown":"I am completely lost. I try to authenticate using HTTP Basic Auth to a Tomcat 7.0.54 to get a resource.\r\n\r\nThe first time of a day that I try to connect I get a 401. The rest of the day I will get the resource. Even if I restart the Tomcat, I will get the resource with the first request. I can not restart the client...\r\n\r\nI have the following code:\r\n\r\n    URL urlObject = new URL(url);\r\n    String userPassword = username + &quot;:&quot; + password;\r\n    String encoding = new sun.misc.BASE64Encoder().encode(userPassword.getBytes());\r\n     \r\n    HttpURLConnection connection = (HttpURLConnection) urlObject.openConnection();\r\n     \r\n    connection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + encoding);\r\n     \r\n    connection.setRequestMethod(&quot;POST&quot;);\r\n     \r\n    String postParameters = &quot;X=&#39;xyz&#39;&quot;;\r\n    connection.setDoOutput(true);\r\n    \r\n    connection.connect();\r\n    DataOutputStream outputStreamToConnection = new DataOutputStream(\r\n    connection.getOutputStream());\r\n    BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(outputStreamToConnection, &quot;ISO-8859-1&quot;));\r\n    writer.write(postParameters);\r\n    writer.close();\r\n    outputStreamToConnection.flush();\r\n    outputStreamToConnection.close();\r\n    \r\n    int responseCode = connection.getResponseCode();\r\n\r\nAnyone any idea what causes the first reject of the Tomcat? I logged my header-requests and the headers are the same for first and second request...\r\n\r\nIt looks like the client would cache something. It is running on an SAP AS Java server. Hope anybody experienced the same problem. :)\r\nThanks \r\nBen","title":"HTTP Basic Auth using HttpURLConnection - Fails the first time","body":"<p>I am completely lost. I try to authenticate using HTTP Basic Auth to a Tomcat 7.0.54 to get a resource.</p>\n<p>The first time of a day that I try to connect I get a 401. The rest of the day I will get the resource. Even if I restart the Tomcat, I will get the resource with the first request. I can not restart the client...</p>\n<p>I have the following code:</p>\n<pre><code>URL urlObject = new URL(url);\nString userPassword = username + &quot;:&quot; + password;\nString encoding = new sun.misc.BASE64Encoder().encode(userPassword.getBytes());\n \nHttpURLConnection connection = (HttpURLConnection) urlObject.openConnection();\n \nconnection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + encoding);\n \nconnection.setRequestMethod(&quot;POST&quot;);\n \nString postParameters = &quot;X='xyz'&quot;;\nconnection.setDoOutput(true);\n\nconnection.connect();\nDataOutputStream outputStreamToConnection = new DataOutputStream(\nconnection.getOutputStream());\nBufferedWriter writer = new BufferedWriter(new OutputStreamWriter(outputStreamToConnection, &quot;ISO-8859-1&quot;));\nwriter.write(postParameters);\nwriter.close();\noutputStreamToConnection.flush();\noutputStreamToConnection.close();\n\nint responseCode = connection.getResponseCode();\n</code></pre>\n<p>Anyone any idea what causes the first reject of the Tomcat? I logged my header-requests and the headers are the same for first and second request...</p>\n<p>It looks like the client would cache something. It is running on an SAP AS Java server. Hope anybody experienced the same problem. :)\nThanks\nBen</p>\n"},{"tags":["java","image","graphics","graphics2d"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1585866042,"post_id":61002012,"comment_id":107923225,"body_markdown":"Create a new `BufferedImage`, fill it&#39;s background with the desired color and then draw the image over the top of it","body":"Create a new <code>BufferedImage</code>, fill it&#39;s background with the desired color and then draw the image over the top of it"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1585866080,"post_id":61002012,"comment_id":107923236,"body_markdown":"Oh, I&#39;d use `setColor` and `fillRect` instead, personally","body":"Oh, I&#39;d use <code>setColor</code> and <code>fillRect</code> instead, personally"},{"owner":{"account_id":12519802,"reputation":352,"user_id":11450331,"display_name":"omri"},"score":0,"creation_date":1585866805,"post_id":61002012,"comment_id":107923477,"body_markdown":"Should I use the drawImage() method to draw my image on top of the background?","body":"Should I use the drawImage() method to draw my image on top of the background?"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689532876,"creation_date":1585866519,"answer_id":61002166,"question_id":61002012,"body_markdown":"1- Load your image\r\n\r\n    image = ImageIO.read(url) ;\r\n\r\n2- Create a new `BufferedImage` of the same size\r\n\r\n    BufferedImage background =\r\n        new BufferedImage(\r\n            image.getWidth(), image.getHeight(), BufferedImage.TYPE_INT_RGB\r\n        );\r\n\r\n3- Fill the `background` image with the desired color\r\n\r\n    Graphics2D g2d = background.createGraphics();\r\n    g2d.setColor(Color.WHITE);\r\n    g2d.fillRect(0, 0, background.getWidth(), background.getHeight());\r\n\r\n4- Draw the original image onto the background...\r\n\r\n    g2d.drawImage(image, 0, 0, null);\r\n    g2d.dispose();\r\n\r\n`background` is now filled with the desired color and has the image painted on top o it.","title":"Java change background color png image","body":"<p>1- Load your image</p>\n<pre><code>image = ImageIO.read(url) ;\n</code></pre>\n<p>2- Create a new <code>BufferedImage</code> of the same size</p>\n<pre><code>BufferedImage background =\n    new BufferedImage(\n        image.getWidth(), image.getHeight(), BufferedImage.TYPE_INT_RGB\n    );\n</code></pre>\n<p>3- Fill the <code>background</code> image with the desired color</p>\n<pre><code>Graphics2D g2d = background.createGraphics();\ng2d.setColor(Color.WHITE);\ng2d.fillRect(0, 0, background.getWidth(), background.getHeight());\n</code></pre>\n<p>4- Draw the original image onto the background...</p>\n<pre><code>g2d.drawImage(image, 0, 0, null);\ng2d.dispose();\n</code></pre>\n<p><code>background</code> is now filled with the desired color and has the image painted on top o it.</p>\n"}],"owner":{"account_id":12519802,"reputation":352,"user_id":11450331,"display_name":"omri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4829,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61002166,"answer_count":1,"score":0,"last_activity_date":1689532876,"creation_date":1585865681,"question_id":61002012,"body_markdown":"I have been following some StackOverflow links using Graphics2D to change the background color of a BufferedImage. \r\n\r\nThe project I am working on requires that I read in a png image from a given url; the png image retrieved has a transparent background, and I would like to set it to white.\r\n\r\nHere is what I have:\r\n```\r\nString u = this.format() ;\r\n        BufferedImage image = null ;\r\n        try{\r\n            URL url = new URL(u) ;\r\n            image = ImageIO.read(url) ;\r\n            Graphics2D graphics = image.createGraphics() ;\r\n            graphics.setBackground(Color.WHITE) ;\r\n            graphics.clearRect(0, 0, image.getWidth(), image.getHeight()) ;\r\n            \r\n            \r\n            ImageIO.write(image, &quot;png&quot;, new File(outPath + fileName)) ;\r\n            graphics.dispose() ;\r\n\r\n        }\r\n        catch(IOException e){\r\n            e.printStackTrace() ;\r\n        }\r\n```\r\n\r\nThe problem I am running into is that when I view the image, the image appears as a solid white box. Apparently I have overlaid a white background on top of the existing image that I retrieved. \r\n\r\nHow can I preserve the original image and only change the background? Or set the background first and then overlay the retrieved image?","title":"Java change background color png image","body":"<p>I have been following some StackOverflow links using Graphics2D to change the background color of a BufferedImage. </p>\n\n<p>The project I am working on requires that I read in a png image from a given url; the png image retrieved has a transparent background, and I would like to set it to white.</p>\n\n<p>Here is what I have:</p>\n\n<pre><code>String u = this.format() ;\n        BufferedImage image = null ;\n        try{\n            URL url = new URL(u) ;\n            image = ImageIO.read(url) ;\n            Graphics2D graphics = image.createGraphics() ;\n            graphics.setBackground(Color.WHITE) ;\n            graphics.clearRect(0, 0, image.getWidth(), image.getHeight()) ;\n\n\n            ImageIO.write(image, \"png\", new File(outPath + fileName)) ;\n            graphics.dispose() ;\n\n        }\n        catch(IOException e){\n            e.printStackTrace() ;\n        }\n</code></pre>\n\n<p>The problem I am running into is that when I view the image, the image appears as a solid white box. Apparently I have overlaid a white background on top of the existing image that I retrieved. </p>\n\n<p>How can I preserve the original image and only change the background? Or set the background first and then overlay the retrieved image?</p>\n"},{"tags":["java","eclipse","junit","junit4","module-info"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1689534768,"post_id":76699824,"comment_id":135223677,"body_markdown":"See [&quot;The package java.sql is not accessible.&quot; in eclipse](https://stackoverflow.com/q/65273632). You need to `require` the modules you are using in your `module-info.java`. You cannot use any modules you don&#39;t `require`. See also https://dev.java/learn/modules/ for in-depth information about modules.","body":"See <a href=\"https://stackoverflow.com/q/65273632\">&quot;The package java.sql is not accessible.&quot; in eclipse</a>. You need to <code>require</code> the modules you are using in your <code>module-info.java</code>. You cannot use any modules you don&#39;t <code>require</code>. See also <a href=\"https://dev.java/learn/modules/\" rel=\"nofollow noreferrer\">dev.java/learn/modules</a> for in-depth information about modules."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1689590244,"post_id":76699824,"comment_id":135229983,"body_markdown":"No, this is not an Eclipse bug but how [`module-info.java`](https://en.wikipedia.org/wiki/Java_Platform_Module_System#Properties_of_modules) works. In the mentioned question there is not even a `module-info.java` file. I guess you referring to [this wrong answer](https://stackoverflow.com/a/72731049/6505250). As long as you don&#39;t know what `module-info.java` does, delete it, if needed you can recreate it later via right-click on the project _Configure &gt; Create module-info.java_. I also recommend to use JUnit 5 rather than JUnit 4 when you start from scratch. Consider also to use Maven.","body":"No, this is not an Eclipse bug but how <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System#Properties_of_modules\" rel=\"nofollow noreferrer\"><code>module-info.java</code></a> works. In the mentioned question there is not even a <code>module-info.java</code> file. I guess you referring to <a href=\"https://stackoverflow.com/a/72731049/6505250\">this wrong answer</a>. As long as you don&#39;t know what <code>module-info.java</code> does, delete it, if needed you can recreate it later via right-click on the project <i>Configure &gt; Create module-info.java</i>. I also recommend to use JUnit 5 rather than JUnit 4 when you start from scratch. Consider also to use Maven."}],"owner":{"account_id":28897559,"reputation":1,"user_id":22133250,"display_name":"Signor Pizza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689532120,"creation_date":1689532120,"question_id":76699824,"body_markdown":"After a combination of Google / Stack Overflow searches I landed on this post which describes my exact problem:\r\n[StackOverflowQuestion](https://stackoverflow.com/questions/70071471/org-junit-test-is-not-accessible-in-eclipse)\r\n\r\nThe post defines this issue is an eclipse bug of version &#39;2022-06&#39;: my version, as you can see in the &#39;Details&#39; tab, comes exactly 1 year later, so I&#39;m wondering if there&#39;s something I&#39;m doing wrong, rather than there still being the same bug.\r\n\r\n**Details:**\r\n\r\n\\-MacOS Ventura on M2 Air\r\n\\-Using &#39;Eclipse IDE&#39;: &#39;About Eclipse&#39;:\r\n\r\nVersion: 2023-06 (4.28.0)\r\n\r\nBuild id: 20230608-1333\r\n\r\n**Steps to reproduce** (default preferences used)\r\n\r\nNew Java Project \\&gt; Finish (Project Name: &#39;TestProject&#39;)\r\n\r\n\\[selected+right-clicked &#39;src&#39; in &#39;Package Explorer&#39; view\\]: New \\&gt; Package (Name: &#39;test&#39;)\r\n\r\n\\[selected+right-clicked package &#39;test&#39;\\]: New \\&gt; Class (Name: &#39;CoolClass&#39;)\r\n\r\n\\[initial modified &#39;CoolClass&#39; code\\]:\r\n\r\n```\r\npackage test;\r\n\r\nimport org.junit.Assert;\r\n\r\npublic class CoolClass {\r\n\t@Test\r\n\tpublic void testMethod() {\r\n\t\tint i = 1;\r\n\t\tAssert.assertTrue(i == 1);\r\n\t}\r\n}\r\n```\r\n\r\nAs expected, there were errors since I hadn&#39;t added the &#39;Junit 4 Library&#39; to the build path.\r\nI then proceeded to do this by clicking the lightbulb icon which appeared next to the &#39;@Test&#39; snippet in the editor (as shown here: [Image](https://i.stack.imgur.com/W2Ik4.png)) and clicked on &#39;add JUnit 4 Library to the build path&#39;.\r\n\r\nDespite this, I continued to get these errors:[Errors](https://i.stack.imgur.com/h3eEd.png)\r\n\r\nAs stated in the Stack Overflow post I linked above, upon deleting the &#39;module-info.java&#39; file, these errors totally disappeared.\r\n\r\nMy questions are:\r\n\r\nIs this still a bug or am I missing something? (Surely it can&#39;t be since it&#39;s been roughly a year right?)\r\n\r\nIs having to delete the &#39;module-info.java&#39; file to use JUnit a problem when coding in java? (I&#39;m still learning to code in Java through the use of Eclipse, so don&#39;t have any experience on making a fully fledged &#39;Project&#39; yet with modules and everything)\r\n\r\nWhy does removing the &#39;module-info.java&#39; file tend to resolve certain issues? (I came across this phenomenon whilst reviewing possible duplicate questions proposed by Stack Overflow)","title":"Eclipse bug with JUnit and &#39;module-info.java&#39;?","body":"<p>After a combination of Google / Stack Overflow searches I landed on this post which describes my exact problem:\n<a href=\"https://stackoverflow.com/questions/70071471/org-junit-test-is-not-accessible-in-eclipse\">StackOverflowQuestion</a></p>\n<p>The post defines this issue is an eclipse bug of version '2022-06': my version, as you can see in the 'Details' tab, comes exactly 1 year later, so I'm wondering if there's something I'm doing wrong, rather than there still being the same bug.</p>\n<p><strong>Details:</strong></p>\n<p>-MacOS Ventura on M2 Air\n-Using 'Eclipse IDE': 'About Eclipse':</p>\n<p>Version: 2023-06 (4.28.0)</p>\n<p>Build id: 20230608-1333</p>\n<p><strong>Steps to reproduce</strong> (default preferences used)</p>\n<p>New Java Project &gt; Finish (Project Name: 'TestProject')</p>\n<p>[selected+right-clicked 'src' in 'Package Explorer' view]: New &gt; Package (Name: 'test')</p>\n<p>[selected+right-clicked package 'test']: New &gt; Class (Name: 'CoolClass')</p>\n<p>[initial modified 'CoolClass' code]:</p>\n<pre><code>package test;\n\nimport org.junit.Assert;\n\npublic class CoolClass {\n    @Test\n    public void testMethod() {\n        int i = 1;\n        Assert.assertTrue(i == 1);\n    }\n}\n</code></pre>\n<p>As expected, there were errors since I hadn't added the 'Junit 4 Library' to the build path.\nI then proceeded to do this by clicking the lightbulb icon which appeared next to the '@Test' snippet in the editor (as shown here: <a href=\"https://i.stack.imgur.com/W2Ik4.png\" rel=\"nofollow noreferrer\">Image</a>) and clicked on 'add JUnit 4 Library to the build path'.</p>\n<p>Despite this, I continued to get these errors:<a href=\"https://i.stack.imgur.com/h3eEd.png\" rel=\"nofollow noreferrer\">Errors</a></p>\n<p>As stated in the Stack Overflow post I linked above, upon deleting the 'module-info.java' file, these errors totally disappeared.</p>\n<p>My questions are:</p>\n<p>Is this still a bug or am I missing something? (Surely it can't be since it's been roughly a year right?)</p>\n<p>Is having to delete the 'module-info.java' file to use JUnit a problem when coding in java? (I'm still learning to code in Java through the use of Eclipse, so don't have any experience on making a fully fledged 'Project' yet with modules and everything)</p>\n<p>Why does removing the 'module-info.java' file tend to resolve certain issues? (I came across this phenomenon whilst reviewing possible duplicate questions proposed by Stack Overflow)</p>\n"},{"tags":["java","android","android-studio","kotlin"],"answers":[{"comments":[{"owner":{"account_id":19350269,"reputation":1,"user_id":14147867,"display_name":"Harsh Vardhan"},"score":0,"creation_date":1687520363,"post_id":76539446,"comment_id":134952020,"body_markdown":"I don&#39;t know why it is showing me this error : java.lang.NullPointerException: null cannot be cast to non-null type android.telephony.SmsManager","body":"I don&#39;t know why it is showing me this error : java.lang.NullPointerException: null cannot be cast to non-null type android.telephony.SmsManager"},{"owner":{"account_id":19350269,"reputation":1,"user_id":14147867,"display_name":"Harsh Vardhan"},"score":0,"creation_date":1687523044,"post_id":76539446,"comment_id":134952621,"body_markdown":"Hey sidnio can you explain : When i removed &#39;as SmsManager&#39; code compiled successfully \nfrom this : context.getSystemService(SmsManager::class.java) as SmsManager\nto this : context.getSystemService(SmsManager::class.java)","body":"Hey sidnio can you explain : When i removed &#39;as SmsManager&#39; code compiled successfully  from this : context.getSystemService(SmsManager::class.java) as SmsManager to this : context.getSystemService(SmsManager::class.java)"},{"owner":{"account_id":11091407,"reputation":152,"user_id":8143136,"display_name":"Sidnio"},"score":0,"creation_date":1687580243,"post_id":76539446,"comment_id":134960393,"body_markdown":"You clear the project cache and try it","body":"You clear the project cache and try it"}],"tags":[],"owner":{"account_id":11091407,"reputation":152,"user_id":8143136,"display_name":"Sidnio"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687517924,"creation_date":1687517924,"answer_id":76539446,"question_id":76539028,"body_markdown":" \r\n\r\n   **I didn&#39;t get any null exceptions when I ran it**\r\n    \r\n\r\n\r\n    import android.content.Context\r\n    import android.os.Build\r\n    import android.os.Build.VERSION_CODES.M\r\n    import android.os.Bundle\r\n    import android.telephony.SmsManager\r\n    import android.util.Log\r\n    import android.widget.TextView\r\n    import androidx.appcompat.app.AppCompatActivity\r\n    \r\n    class MainActivity : AppCompatActivity() {\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main)\r\n    \r\n            val textView = TextView(applicationContext)\r\n    \r\n            getSmsManagerForSubscriptionId(applicationContext, 1)\r\n            Log.d(&quot;smsManager1 &quot;, &quot;succeed&quot;)\r\n            getSmsManagerForSubscriptionId(textView.context, 2)\r\n            Log.d(&quot;smsManager2&quot;, &quot;succeed&quot;)\r\n    \r\n        }\r\n        \r\n        private fun getSmsManagerForSubscriptionId(context: Context, subsId: Int): SmsManager {\r\n            val smsManager = if (Build.VERSION.SDK_INT &gt;= M) {\r\n                context.getSystemService(SmsManager::class.java) as SmsManager\r\n            } else {\r\n                TODO(&quot;VERSION.SDK_INT &lt; M&quot;)\r\n            }\r\n            val smsManagerInstanceForSubsId = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n                smsManager.createForSubscriptionId(subsId)\r\n            } else {\r\n                TODO(&quot;VERSION.SDK_INT &lt; S&quot;)\r\n            }\r\n            return smsManagerInstanceForSubsId\r\n        }\r\n    \r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8Xrty.png\r\n  [2]: https://i.stack.imgur.com/LHDWS.png","title":"How to create an instance of smsManager in kotlin with the given context of an activity?","body":"<p><strong>I didn't get any null exceptions when I ran it</strong></p>\n<pre><code>import android.content.Context\nimport android.os.Build\nimport android.os.Build.VERSION_CODES.M\nimport android.os.Bundle\nimport android.telephony.SmsManager\nimport android.util.Log\nimport android.widget.TextView\nimport androidx.appcompat.app.AppCompatActivity\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val textView = TextView(applicationContext)\n\n        getSmsManagerForSubscriptionId(applicationContext, 1)\n        Log.d(&quot;smsManager1 &quot;, &quot;succeed&quot;)\n        getSmsManagerForSubscriptionId(textView.context, 2)\n        Log.d(&quot;smsManager2&quot;, &quot;succeed&quot;)\n\n    }\n    \n    private fun getSmsManagerForSubscriptionId(context: Context, subsId: Int): SmsManager {\n        val smsManager = if (Build.VERSION.SDK_INT &gt;= M) {\n            context.getSystemService(SmsManager::class.java) as SmsManager\n        } else {\n            TODO(&quot;VERSION.SDK_INT &lt; M&quot;)\n        }\n        val smsManagerInstanceForSubsId = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n            smsManager.createForSubscriptionId(subsId)\n        } else {\n            TODO(&quot;VERSION.SDK_INT &lt; S&quot;)\n        }\n        return smsManagerInstanceForSubsId\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/8Xrty.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8Xrty.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/LHDWS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LHDWS.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":19350269,"reputation":1,"user_id":14147867,"display_name":"Harsh Vardhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689531709,"creation_date":1687514448,"question_id":76539028,"body_markdown":"```\r\nprivate fun getSmsManagerForSubscriptionId(context: Context, subsId: Int): SmsManager {\r\n        val smsManager = if (Build.VERSION.SDK_INT &gt;= M) {\r\n            context.getSystemService(SmsManager::class.java) as SmsManager\r\n        } else {\r\n            TODO(&quot;VERSION.SDK_INT &lt; M&quot;)\r\n        }\r\n        val smsManagerInstanceForSubsId = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n            smsManager.createForSubscriptionId(subsId)\r\n        } else {\r\n            TODO(&quot;VERSION.SDK_INT &lt; S&quot;)\r\n        }\r\n        return smsManagerInstanceForSubsId\r\n    }\r\n```\r\n\r\n I am using above code to create an smsManager Instance but the code is showing error at \r\n\r\n```\r\ncontext.getSystemService(SmsManager::class.java) as SmsManager\r\n```\r\n\r\nbelow is the error it is showing \r\n\r\nCannot cast null object to non-null object.","title":"How to create an instance of smsManager in kotlin with the given context of an activity?","body":"<pre><code>private fun getSmsManagerForSubscriptionId(context: Context, subsId: Int): SmsManager {\n        val smsManager = if (Build.VERSION.SDK_INT &gt;= M) {\n            context.getSystemService(SmsManager::class.java) as SmsManager\n        } else {\n            TODO(&quot;VERSION.SDK_INT &lt; M&quot;)\n        }\n        val smsManagerInstanceForSubsId = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n            smsManager.createForSubscriptionId(subsId)\n        } else {\n            TODO(&quot;VERSION.SDK_INT &lt; S&quot;)\n        }\n        return smsManagerInstanceForSubsId\n    }\n</code></pre>\n<p>I am using above code to create an smsManager Instance but the code is showing error at</p>\n<pre><code>context.getSystemService(SmsManager::class.java) as SmsManager\n</code></pre>\n<p>below is the error it is showing</p>\n<p>Cannot cast null object to non-null object.</p>\n"},{"tags":["java","spring","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":1,"creation_date":1689149205,"post_id":76662737,"comment_id":135170675,"body_markdown":"When does this error happen? Please share the full stack trace of the exception. Moreover, it is incorrect to scope a step bean. You should move late-binding to the component of the step (tasklet, reader, writer, partitioner, etc), and not the step itself.","body":"When does this error happen? Please share the full stack trace of the exception. Moreover, it is incorrect to scope a step bean. You should move late-binding to the component of the step (tasklet, reader, writer, partitioner, etc), and not the step itself."},{"owner":{"account_id":15272889,"reputation":511,"user_id":11019548,"display_name":"maryem neyli"},"score":0,"creation_date":1689162539,"post_id":76662737,"comment_id":135173652,"body_markdown":"@MahmoudBenHassine thanks for your comment, you can find further details in the question, i updated it","body":"@MahmoudBenHassine thanks for your comment, you can find further details in the question, i updated it"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1689225763,"post_id":76662737,"comment_id":135183750,"body_markdown":"The stacktrace seems truncated but it seems that `NULL` is being inserted in `BATCH_STEP_EXECUTION_CONTEXT.STEP_EXECUTION_ID`. This is probably due to late-binding which is triggered eagerly. The `XMLIncrementalPartitionHandler` should not be step-scoped, it does not use late binding. Please remove `@StepScope` on it and share your feedback. To help you efficiently, consider providing  a minimal example that reproduces the issue: https://stackoverflow.com/help/minimal-reproducible-example.","body":"The stacktrace seems truncated but it seems that <code>NULL</code> is being inserted in <code>BATCH_STEP_EXECUTION_CONTEXT.STEP_EXECUTION_ID</code>. This is probably due to late-binding which is triggered eagerly. The <code>XMLIncrementalPartitionHandler</code> should not be step-scoped, it does not use late binding. Please remove <code>@StepScope</code> on it and share your feedback. To help you efficiently, consider providing  a minimal example that reproduces the issue: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>."},{"owner":{"account_id":15272889,"reputation":511,"user_id":11019548,"display_name":"maryem neyli"},"score":0,"creation_date":1689235791,"post_id":76662737,"comment_id":135185429,"body_markdown":"@MahmoudBenHassine i tried before to removed it and i didn&#39;t resolve the problem, i even removed it for &quot;IncrementalWorker&quot; and the error always persists","body":"@MahmoudBenHassine i tried before to removed it and i didn&#39;t resolve the problem, i even removed it for &quot;IncrementalWorker&quot; and the error always persists"},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1689359843,"post_id":76662737,"comment_id":135207770,"body_markdown":"If you have any more questions, you can contact me (starting with @VonC for me to be notified) on the [discussion chat space](https://chat.stackoverflow.com/rooms/254495/discussion-between-maryem-neyli-and-vonc).","body":"If you have any more questions, you can contact me (starting with @VonC for me to be notified) on the <a href=\"https://chat.stackoverflow.com/rooms/254495/discussion-between-maryem-neyli-and-vonc\">discussion chat space</a>."}],"answers":[{"comments":[{"owner":{"account_id":15272889,"reputation":511,"user_id":11019548,"display_name":"maryem neyli"},"score":0,"creation_date":1689319660,"post_id":76685108,"comment_id":135199413,"body_markdown":"As commented, i tried all those modifications but it did not solve my problem","body":"As commented, i tried all those modifications but it did not solve my problem"},{"owner":{"account_id":15272889,"reputation":511,"user_id":11019548,"display_name":"maryem neyli"},"score":0,"creation_date":1689320810,"post_id":76685108,"comment_id":135199630,"body_markdown":"i edited my question with the final version of my code, you can check it and thank you very much","body":"i edited my question with the final version of my code, you can check it and thank you very much"},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1689323196,"post_id":76685108,"comment_id":135200068,"body_markdown":"@maryemneyli Do you get the same stack trace?","body":"@maryemneyli Do you get the same stack trace?"},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1689323804,"post_id":76685108,"comment_id":135200191,"body_markdown":"@maryemneyli I have edited the answer to comment on your latest code.","body":"@maryemneyli I have edited the answer to comment on your latest code."},{"owner":{"account_id":15272889,"reputation":511,"user_id":11019548,"display_name":"maryem neyli"},"score":0,"creation_date":1689325202,"post_id":76685108,"comment_id":135200431,"body_markdown":"I modified my code and again encountered the same error unfortunately, but you should know that the simple steps work well for me (for example, if I only use `IncrementalWorker` as a step in my job, the application works, so when I add the partitioning part, it blocks things for me).","body":"I modified my code and again encountered the same error unfortunately, but you should know that the simple steps work well for me (for example, if I only use <code>IncrementalWorker</code> as a step in my job, the application works, so when I add the partitioning part, it blocks things for me)."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1689326280,"post_id":76685108,"comment_id":135200643,"body_markdown":"@maryemneyli OK, I have edited the answer to address your latest code revision.","body":"@maryemneyli OK, I have edited the answer to address your latest code revision."},{"owner":{"account_id":15272889,"reputation":511,"user_id":11019548,"display_name":"maryem neyli"},"score":0,"creation_date":1689330307,"post_id":76685108,"comment_id":135201420,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/254495/discussion-between-maryem-neyli-and-vonc).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/254495/discussion-between-maryem-neyli-and-vonc\">continue this discussion in chat</a>."},{"owner":{"account_id":15272889,"reputation":511,"user_id":11019548,"display_name":"maryem neyli"},"score":0,"creation_date":1689330665,"post_id":76685108,"comment_id":135201473,"body_markdown":"I edited my code but this time it generated a new error, you can see the stuck trace up, i updated my question.","body":"I edited my code but this time it generated a new error, you can see the stuck trace up, i updated my question."}],"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689530451,"creation_date":1689315212,"answer_id":76685108,"question_id":76662737,"body_markdown":"[After discussion](https://chat.stackoverflow.com/rooms/254495/discussion-between-maryem-neyli-and-vonc):\r\n\r\n&gt; I want to confirm you that I have upgraded the app to spring boot to 3.1.1, spring batch 5 and sql server to 12.3.4jre17 and that resolved the problems!\r\n\r\n----\r\n\r\nOriginal answer with different suggestions:\r\n\r\nAs commented, the `PartitionHandler` should not be step-scoped because it is a part of a step, not a step itself. That could be the cause of the problem. \r\n\r\nSpring Batch&#39;s `StepScope` and `JobScope` are a way to allow late binding of values, that is, binding values to parameters at runtime. That is often necessary for values that need to be different for each execution of a step or a job. For example, a reader might need to read from a different file each time a step runs, based on parameters passed to the job.\r\n\r\n[`StepScope`](https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/core/configuration/annotation/StepScope.html) is meant for beans that have a lifecycle tied to a single step execution, such as readers, writers, and processors. The bean will be created at the beginning of the step and discarded at the end of the step.\r\n\r\nA [`PartitionHandler`](https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/core/partition/PartitionHandler.html), on the other hand, is a component that is used to manage the execution of partitions in a partitioned step. It is a part of a step (a partitioned step, specifically), but it is not a step itself, so it does not have a lifecycle tied to a single step execution. Therefore, it should not be step-scoped. Instead, it should be [singleton-scoped](https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch04s04.html#beans-factory-scopes-singleton), which is the default scope for Spring beans. A singleton-scoped bean is created once and used everywhere it is autowired in the application.\r\n\r\nSince the `PartitionHandler` is being step-scoped, it causes the `PartitionHandler` to be created at the *beginning* of the step execution, at which point the `@Value(&quot;#{jobParameters[&#39;TName&#39;]}&quot;) String table` parameter is null because job parameters have not been bound yet.  \r\nWhen the `PartitionHandler` then tries to create the worker step using this null `table` parameter, a null `STEP_EXECUTION_ID` is inserted into the `BATCH_STEP_EXECUTION_CONTEXT` table, causing the error.\r\n\r\n---\r\n\r\nTry and remove `@StepScope` from the `XMLIncrementalPartitionHandler` method.\r\n\r\n```java\r\n@Bean\r\npublic PartitionHandler XMLIncrementalPartitionHandler(String table) throws Exception {\r\n    TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\r\n    handler.setGridSize(GRID_SIZE);\r\n    handler.setStep(IncrementalWorker(table));\r\n    handler.setTaskExecutor(taskExecutor);\r\n    try {\r\n        handler.afterPropertiesSet();\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n    return handler;\r\n}\r\n```\r\n\r\nAlso, in your `IncrementalXmlManager` method, it is necessary to use a bean expression to pass the `table` parameter to `XMLIncrementalPartitionHandler`. Otherwise, the `table` parameter of `XMLIncrementalPartitionHandler` will not be populated and will be `null`. \r\n\r\n```java\r\n@Bean\r\n@JobScope\r\npublic Step IncrementalXmlManager(@Value(&quot;#{jobParameters[&#39;TName&#39;]}&quot;) String table) throws Exception {\r\n    return stepBuilderFactory.get(&quot;IncrementalXmlManager-&quot; + table)\r\n            .partitioner(&quot;IncrementalWorker-&quot; + table, partitioner())\r\n            .partitionHandler(XMLIncrementalPartitionHandler(table))\r\n            .build();\r\n}\r\n```\r\n\r\n--- \r\n\r\nI would also make sure the master and slave steps do *not* the same name, which can confuse Spring Batch&#39;s tracking mechanism.\r\n\r\nTry ensuring that each step, including the partition step and the steps it partitions, has a unique name. \r\n\r\n```java\r\n@Bean\r\n@JobScope\r\npublic Step IncrementalXmlManager(@Value(&quot;#{jobParameters[&#39;TName&#39;]}&quot;) String table) throws Exception {\r\n    return stepBuilderFactory.get(&quot;IncrementalXmlManager-&quot; + table)\r\n            .partitioner(&quot;IncrementalWorker-&quot; + table, partitioner())\r\n            .partitionHandler(XMLIncrementalPartitionHandler(table))\r\n            .build();\r\n}\r\n```\r\n\r\n\r\nAnd make sure to set unique names for the steps in your `IncrementalWorker` method:\r\n\r\n```java\r\n@Bean\r\n@StepScope\r\npublic Step IncrementalWorker(@Value(&quot;#{jobParameters[&#39;TName&#39;]}&quot;) String name) throws Exception {\r\n    return stepBuilderFactory.get(&quot;IncrementalWorker-&quot; + name)\r\n            .&lt;Table, Data&gt;chunk(CHUNK_SIZE)\r\n            .reader(oracleXmlIncrementalReader)\r\n            .processor(new FastXmlProcessor())\r\n            .writer(jsonWriter)\r\n            .build();\r\n}\r\n```\r\n\r\nBy appending the table name (`table` or `name`) to the step names, we ensure each step has a unique name.\r\n\r\n-----\r\n\r\n&gt; I tried all those modifications, but it did not solve my problem.\r\n\r\nTrue, but there is a small issue with the method `XMLIncrementalPartitionHandler()`. In this method, you are calling `IncrementalWorker(null)`, which is causing a `null` job parameter to be passed to the `IncrementalWorker` bean.\r\n\r\nIn this context, `IncrementalWorker(null)` is not appropriate because it is expected to have a table name (or some string value) rather than `null`. \r\n\r\nInstead, consider defining the `XMLIncrementalPartitionHandler()` method in a way that accepts a `Step` as a parameter. That would allow you to pass the `IncrementalWorker` step directly when creating the partition step, like so:\r\n\r\n```java\r\n@Bean\r\npublic PartitionHandler XMLIncrementalPartitionHandler(Step step) throws Exception {\r\n    TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\r\n    handler.setGridSize(GRID_SIZE);\r\n    handler.setStep(step);\r\n    handler.setTaskExecutor(taskExecutor);\r\n    handler.afterPropertiesSet();\r\n\r\n    return handler;\r\n}\r\n```\r\n\r\nAnd in the `IncrementalXmlManager` method, you can pass the `IncrementalWorker` bean like so:\r\n\r\n```java\r\n@Bean\r\n@JobScope\r\npublic Step IncrementalXmlManager(@Value(&quot;#{jobParameters[&#39;T_Selection_Name&#39;]}&quot;) String table,\r\n                                  @Qualifier(&quot;IncrementalWorker&quot;) Step step) throws Exception {\r\n    return stepBuilderFactory.get(&quot;IncrementalXmlManager-&quot; + table)\r\n            .partitioner(&quot;IncrementalWorker-&quot; + table, partitioner())\r\n            .partitionHandler(XMLIncrementalPartitionHandler(step))\r\n            .build();\r\n}\r\n```\r\n\r\nThat way, you ensure the `IncrementalWorker` bean is correctly instantiated with the expected parameters before it is used in the `PartitionHandler`.\r\n\r\nIn addition to this, I noticed that the `@StepScope` annotation is still present on the `partitioner()` bean. If you are not using late binding (i.e., using a job or step parameter in your bean), you should remove this annotation from the `partitioner()` method.\r\n\r\n----\r\n\r\nRegarding the error:\r\n\r\n`Parameter 0 of method XMLIncrementalPartitionHandler in ExtracteurSteps required a single bean, but 9 were found:`\r\n\r\nThat message means Spring does not know which `Step` bean should be used in `XMLIncrementalPartitionHandler`. The `@Qualifier` annotation with a value &quot;`IncrementalWorker`&quot; is not sufficient because Spring Boot creates a new `Step` bean for each job execution with a different parameter value, and all of them match the &quot;`IncrementalWorker`&quot; name...\r\n\r\nTo address this, you could use a [`StepLocator`](https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/core/step/StepLocator.html) to retrieve the appropriate step at runtime. \r\n\r\nHere is an updated version of your `XMLIncrementalPartitionHandler` method using `StepLocator`:\r\n\r\n```java\r\n@Bean\r\npublic PartitionHandler XMLIncrementalPartitionHandler(StepLocator stepLocator) throws Exception {\r\n    TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\r\n    handler.setGridSize(GRID_SIZE);\r\n    handler.setStep(stepLocator.getStep(&quot;IncrementalWorker&quot;));  // change this to match the name of the step\r\n    handler.setTaskExecutor(taskExecutor);\r\n    handler.afterPropertiesSet();\r\n    return handler;\r\n}\r\n```\r\n\r\nTo use `StepLocator`, you will need to add it as a parameter to your `IncrementalXmlManager` method and pass it to the `XMLIncrementalPartitionHandler`:\r\n\r\n```java\r\n@Bean\r\n@JobScope\r\npublic Step IncrementalXmlManager(@Value(&quot;#{jobParameters[&#39;T_Selection_Name&#39;]}&quot;) String table, \r\n                                  StepLocator stepLocator) throws Exception {\r\n    return this.stepBuilderFactory.get(&quot;IncrementalXmlManager-&quot; + table)\r\n            .partitioner(&quot;IncrementalWorker-&quot; + table, partitioner())\r\n            .partitionHandler(XMLIncrementalPartitionHandler(stepLocator))\r\n            .build();\r\n}\r\n```\r\n\r\nNow, Spring will resolve the step at runtime, finding the right `Step` Bean based on its name. \r\n\r\nWarning: the `StepLocator` will return the first step it finds that matches the given name. Therefore, it is critical that each `Step` bean has a *unique* name. If multiple `Step` beans share the same name, the `StepLocator` might not return the correct `Step`. \r\n\r\nAnd make sure the step name provided in the `getStep()` method matches the name given when you define your `IncrementalWorker` step. \r\n\r\nThen, try and remove the `@StepScope` from your `partitioner` Bean unless you are using late binding in this bean.\r\n\r\n-----\r\n\r\nA `ScopeNotActiveException` exception means Spring is trying to create a bean that is Job scoped (i.e., it only lives within the context of a single job execution) during the application context initialization. That is problematic because there is no job execution at that point, hence the error that the job scope is not active.\r\n\r\nThe method `XMLIncrementalPartitionHandler` where you are using `StepLocator` to get your step, Spring is trying to create the bean during application context initialization. The solution to this problem is to move the `StepLocator` from the `PartitionHandler` method to the `IncrementalXmlManager` method where you are actually creating your job. That will defer the creation of the partition handler until a job is actually running, which should prevent the `ScopeNotActiveException`.\r\n\r\nThat would be:\r\n\r\n```java\r\n@Bean\r\n@JobScope\r\npublic Step IncrementalXmlManager(@Value(&quot;#{jobParameters[&#39;T_Selection_Name&#39;]}&quot;) String table, StepLocator stepLocator) throws Exception {\r\n    Step step = stepLocator.getStep(&quot;IncrementalWorker&quot;);\r\n    return this.stepBuilderFactory.get(&quot;IncrementalXmlManager-&quot; + table)\r\n            .partitioner(&quot;IncrementalWorker-&quot; + table, partitioner())\r\n            .partitionHandler(XMLIncrementalPartitionHandler(step))\r\n            .build();\r\n}\r\n\r\n@Bean\r\npublic PartitionHandler XMLIncrementalPartitionHandler(Step step) throws Exception {\r\n    TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\r\n    handler.setGridSize(GRID_SIZE);\r\n    handler.setStep(step);\r\n    handler.setTaskExecutor(taskExecutor);\r\n    handler.afterPropertiesSet();\r\n    return handler;\r\n}\r\n```\r\n\r\nThat code moves the `StepLocator` from `XMLIncrementalPartitionHandler` to `IncrementalXmlManager`, and passes the `Step` directly to `XMLIncrementalPartitionHandler`. That ensures that the `Step` is not fetched until a job is actually running, which should fix the `ScopeNotActiveException` you were seeing.\r\n","title":"Spring Batch error: Impossible to insert NULL value in column &#39;STEP_EXECUTION_ID&#39;, table &#39;BATCH_STEP_EXECUTION_CONTEXT&#39;","body":"<p><a href=\"https://chat.stackoverflow.com/rooms/254495/discussion-between-maryem-neyli-and-vonc\">After discussion</a>:</p>\n<blockquote>\n<p>I want to confirm you that I have upgraded the app to spring boot to 3.1.1, spring batch 5 and sql server to 12.3.4jre17 and that resolved the problems!</p>\n</blockquote>\n<hr />\n<p>Original answer with different suggestions:</p>\n<p>As commented, the <code>PartitionHandler</code> should not be step-scoped because it is a part of a step, not a step itself. That could be the cause of the problem.</p>\n<p>Spring Batch's <code>StepScope</code> and <code>JobScope</code> are a way to allow late binding of values, that is, binding values to parameters at runtime. That is often necessary for values that need to be different for each execution of a step or a job. For example, a reader might need to read from a different file each time a step runs, based on parameters passed to the job.</p>\n<p><a href=\"https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/core/configuration/annotation/StepScope.html\" rel=\"nofollow noreferrer\"><code>StepScope</code></a> is meant for beans that have a lifecycle tied to a single step execution, such as readers, writers, and processors. The bean will be created at the beginning of the step and discarded at the end of the step.</p>\n<p>A <a href=\"https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/core/partition/PartitionHandler.html\" rel=\"nofollow noreferrer\"><code>PartitionHandler</code></a>, on the other hand, is a component that is used to manage the execution of partitions in a partitioned step. It is a part of a step (a partitioned step, specifically), but it is not a step itself, so it does not have a lifecycle tied to a single step execution. Therefore, it should not be step-scoped. Instead, it should be <a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch04s04.html#beans-factory-scopes-singleton\" rel=\"nofollow noreferrer\">singleton-scoped</a>, which is the default scope for Spring beans. A singleton-scoped bean is created once and used everywhere it is autowired in the application.</p>\n<p>Since the <code>PartitionHandler</code> is being step-scoped, it causes the <code>PartitionHandler</code> to be created at the <em>beginning</em> of the step execution, at which point the <code>@Value(&quot;#{jobParameters['TName']}&quot;) String table</code> parameter is null because job parameters have not been bound yet.<br />\nWhen the <code>PartitionHandler</code> then tries to create the worker step using this null <code>table</code> parameter, a null <code>STEP_EXECUTION_ID</code> is inserted into the <code>BATCH_STEP_EXECUTION_CONTEXT</code> table, causing the error.</p>\n<hr />\n<p>Try and remove <code>@StepScope</code> from the <code>XMLIncrementalPartitionHandler</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic PartitionHandler XMLIncrementalPartitionHandler(String table) throws Exception {\n    TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\n    handler.setGridSize(GRID_SIZE);\n    handler.setStep(IncrementalWorker(table));\n    handler.setTaskExecutor(taskExecutor);\n    try {\n        handler.afterPropertiesSet();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    return handler;\n}\n</code></pre>\n<p>Also, in your <code>IncrementalXmlManager</code> method, it is necessary to use a bean expression to pass the <code>table</code> parameter to <code>XMLIncrementalPartitionHandler</code>. Otherwise, the <code>table</code> parameter of <code>XMLIncrementalPartitionHandler</code> will not be populated and will be <code>null</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@JobScope\npublic Step IncrementalXmlManager(@Value(&quot;#{jobParameters['TName']}&quot;) String table) throws Exception {\n    return stepBuilderFactory.get(&quot;IncrementalXmlManager-&quot; + table)\n            .partitioner(&quot;IncrementalWorker-&quot; + table, partitioner())\n            .partitionHandler(XMLIncrementalPartitionHandler(table))\n            .build();\n}\n</code></pre>\n<hr />\n<p>I would also make sure the master and slave steps do <em>not</em> the same name, which can confuse Spring Batch's tracking mechanism.</p>\n<p>Try ensuring that each step, including the partition step and the steps it partitions, has a unique name.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@JobScope\npublic Step IncrementalXmlManager(@Value(&quot;#{jobParameters['TName']}&quot;) String table) throws Exception {\n    return stepBuilderFactory.get(&quot;IncrementalXmlManager-&quot; + table)\n            .partitioner(&quot;IncrementalWorker-&quot; + table, partitioner())\n            .partitionHandler(XMLIncrementalPartitionHandler(table))\n            .build();\n}\n</code></pre>\n<p>And make sure to set unique names for the steps in your <code>IncrementalWorker</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@StepScope\npublic Step IncrementalWorker(@Value(&quot;#{jobParameters['TName']}&quot;) String name) throws Exception {\n    return stepBuilderFactory.get(&quot;IncrementalWorker-&quot; + name)\n            .&lt;Table, Data&gt;chunk(CHUNK_SIZE)\n            .reader(oracleXmlIncrementalReader)\n            .processor(new FastXmlProcessor())\n            .writer(jsonWriter)\n            .build();\n}\n</code></pre>\n<p>By appending the table name (<code>table</code> or <code>name</code>) to the step names, we ensure each step has a unique name.</p>\n<hr />\n<blockquote>\n<p>I tried all those modifications, but it did not solve my problem.</p>\n</blockquote>\n<p>True, but there is a small issue with the method <code>XMLIncrementalPartitionHandler()</code>. In this method, you are calling <code>IncrementalWorker(null)</code>, which is causing a <code>null</code> job parameter to be passed to the <code>IncrementalWorker</code> bean.</p>\n<p>In this context, <code>IncrementalWorker(null)</code> is not appropriate because it is expected to have a table name (or some string value) rather than <code>null</code>.</p>\n<p>Instead, consider defining the <code>XMLIncrementalPartitionHandler()</code> method in a way that accepts a <code>Step</code> as a parameter. That would allow you to pass the <code>IncrementalWorker</code> step directly when creating the partition step, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic PartitionHandler XMLIncrementalPartitionHandler(Step step) throws Exception {\n    TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\n    handler.setGridSize(GRID_SIZE);\n    handler.setStep(step);\n    handler.setTaskExecutor(taskExecutor);\n    handler.afterPropertiesSet();\n\n    return handler;\n}\n</code></pre>\n<p>And in the <code>IncrementalXmlManager</code> method, you can pass the <code>IncrementalWorker</code> bean like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@JobScope\npublic Step IncrementalXmlManager(@Value(&quot;#{jobParameters['T_Selection_Name']}&quot;) String table,\n                                  @Qualifier(&quot;IncrementalWorker&quot;) Step step) throws Exception {\n    return stepBuilderFactory.get(&quot;IncrementalXmlManager-&quot; + table)\n            .partitioner(&quot;IncrementalWorker-&quot; + table, partitioner())\n            .partitionHandler(XMLIncrementalPartitionHandler(step))\n            .build();\n}\n</code></pre>\n<p>That way, you ensure the <code>IncrementalWorker</code> bean is correctly instantiated with the expected parameters before it is used in the <code>PartitionHandler</code>.</p>\n<p>In addition to this, I noticed that the <code>@StepScope</code> annotation is still present on the <code>partitioner()</code> bean. If you are not using late binding (i.e., using a job or step parameter in your bean), you should remove this annotation from the <code>partitioner()</code> method.</p>\n<hr />\n<p>Regarding the error:</p>\n<p><code>Parameter 0 of method XMLIncrementalPartitionHandler in ExtracteurSteps required a single bean, but 9 were found:</code></p>\n<p>That message means Spring does not know which <code>Step</code> bean should be used in <code>XMLIncrementalPartitionHandler</code>. The <code>@Qualifier</code> annotation with a value &quot;<code>IncrementalWorker</code>&quot; is not sufficient because Spring Boot creates a new <code>Step</code> bean for each job execution with a different parameter value, and all of them match the &quot;<code>IncrementalWorker</code>&quot; name...</p>\n<p>To address this, you could use a <a href=\"https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/core/step/StepLocator.html\" rel=\"nofollow noreferrer\"><code>StepLocator</code></a> to retrieve the appropriate step at runtime.</p>\n<p>Here is an updated version of your <code>XMLIncrementalPartitionHandler</code> method using <code>StepLocator</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic PartitionHandler XMLIncrementalPartitionHandler(StepLocator stepLocator) throws Exception {\n    TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\n    handler.setGridSize(GRID_SIZE);\n    handler.setStep(stepLocator.getStep(&quot;IncrementalWorker&quot;));  // change this to match the name of the step\n    handler.setTaskExecutor(taskExecutor);\n    handler.afterPropertiesSet();\n    return handler;\n}\n</code></pre>\n<p>To use <code>StepLocator</code>, you will need to add it as a parameter to your <code>IncrementalXmlManager</code> method and pass it to the <code>XMLIncrementalPartitionHandler</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@JobScope\npublic Step IncrementalXmlManager(@Value(&quot;#{jobParameters['T_Selection_Name']}&quot;) String table, \n                                  StepLocator stepLocator) throws Exception {\n    return this.stepBuilderFactory.get(&quot;IncrementalXmlManager-&quot; + table)\n            .partitioner(&quot;IncrementalWorker-&quot; + table, partitioner())\n            .partitionHandler(XMLIncrementalPartitionHandler(stepLocator))\n            .build();\n}\n</code></pre>\n<p>Now, Spring will resolve the step at runtime, finding the right <code>Step</code> Bean based on its name.</p>\n<p>Warning: the <code>StepLocator</code> will return the first step it finds that matches the given name. Therefore, it is critical that each <code>Step</code> bean has a <em>unique</em> name. If multiple <code>Step</code> beans share the same name, the <code>StepLocator</code> might not return the correct <code>Step</code>.</p>\n<p>And make sure the step name provided in the <code>getStep()</code> method matches the name given when you define your <code>IncrementalWorker</code> step.</p>\n<p>Then, try and remove the <code>@StepScope</code> from your <code>partitioner</code> Bean unless you are using late binding in this bean.</p>\n<hr />\n<p>A <code>ScopeNotActiveException</code> exception means Spring is trying to create a bean that is Job scoped (i.e., it only lives within the context of a single job execution) during the application context initialization. That is problematic because there is no job execution at that point, hence the error that the job scope is not active.</p>\n<p>The method <code>XMLIncrementalPartitionHandler</code> where you are using <code>StepLocator</code> to get your step, Spring is trying to create the bean during application context initialization. The solution to this problem is to move the <code>StepLocator</code> from the <code>PartitionHandler</code> method to the <code>IncrementalXmlManager</code> method where you are actually creating your job. That will defer the creation of the partition handler until a job is actually running, which should prevent the <code>ScopeNotActiveException</code>.</p>\n<p>That would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@JobScope\npublic Step IncrementalXmlManager(@Value(&quot;#{jobParameters['T_Selection_Name']}&quot;) String table, StepLocator stepLocator) throws Exception {\n    Step step = stepLocator.getStep(&quot;IncrementalWorker&quot;);\n    return this.stepBuilderFactory.get(&quot;IncrementalXmlManager-&quot; + table)\n            .partitioner(&quot;IncrementalWorker-&quot; + table, partitioner())\n            .partitionHandler(XMLIncrementalPartitionHandler(step))\n            .build();\n}\n\n@Bean\npublic PartitionHandler XMLIncrementalPartitionHandler(Step step) throws Exception {\n    TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\n    handler.setGridSize(GRID_SIZE);\n    handler.setStep(step);\n    handler.setTaskExecutor(taskExecutor);\n    handler.afterPropertiesSet();\n    return handler;\n}\n</code></pre>\n<p>That code moves the <code>StepLocator</code> from <code>XMLIncrementalPartitionHandler</code> to <code>IncrementalXmlManager</code>, and passes the <code>Step</code> directly to <code>XMLIncrementalPartitionHandler</code>. That ensures that the <code>Step</code> is not fetched until a job is actually running, which should fix the <code>ScopeNotActiveException</code> you were seeing.</p>\n"}],"owner":{"account_id":15272889,"reputation":511,"user_id":11019548,"display_name":"maryem neyli"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":76685108,"answer_count":1,"score":0,"last_activity_date":1689530451,"creation_date":1689083657,"question_id":76662737,"body_markdown":"I have this partition step:\r\n\r\n    @Bean\r\n    @JobScope\r\n        public Step IncrementalXmlManager(@Value(&quot;#{jobParameters[&#39;TName&#39;]}&quot;) String table) throws Exception {\r\n            return stepBuilderFactory.get(table)\r\n                    .partitioner(&quot;IncrementalWorker&quot;, partitioner())\r\n                    .partitionHandler(XMLIncrementalPartitionHandler())\r\n                    .build();\r\n        }\r\n\r\nand this is the Handler:\r\n\r\n    @Bean\r\n        @StepScope\r\n        public PartitionHandler XMLIncrementalPartitionHandler(String table) throws Exception {\r\n            TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\r\n            handler.setGridSize(GRID_SIZE);\r\n            handler.setStep(IncrementalWorker(table));\r\n            handler.setTaskExecutor(taskExecutor);\r\n            try {\r\n                handler.afterPropertiesSet();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return handler;\r\n        }\r\n\r\nand this is the slave step:\r\n\r\n    @Bean\r\n        @StepScope\r\n        public Step IncrementalWorker(@Value(&quot;#{jobParameters[&#39;TName&#39;]}&quot;) String name) throws Exception {\r\n            SimpleStepBuilder&lt;Table, Data&gt; builder = stepBuilderFactory.get(&quot;IncrementalWorker &quot; + name)\r\n                    .&lt;Table, Data&gt;chunk(CHUNK_SIZE)\r\n                    .reader(oracleXmlIncrementalReader)\r\n                    .processor(new FastXmlProcessor())\r\n                    .writer(jsonWriter);\r\n    \r\n            return builder.build();\r\n        }\r\n\r\nbut i always have this error:\r\n**java.sql.BatchUpdateException: Impossible to insert NULL value in column &#39;STEP_EXECUTION_ID&#39;, table &#39;TESTFT.dbo.BATCH_STEP_EXECUTION_CONTEXT&#39;. This column does not accept NULL values. INSERT failed.**\r\n\r\nHere is the whole stuck trace:\r\n\r\n&gt;  2023-07-12 | 12:39:33.305 | s.b.c.j.SimpleStepHandler |  INFO | Executing step: [IncrementalXmlManager] 2023-07-12 | 12:39:33.497 |\r\n&gt; o.s.b.c.step.AbstractStep | ERROR | Encountered an error executing\r\n&gt; step IncrementalXmlManager in job extracteur\r\n&gt; org.springframework.jdbc.UncategorizedSQLException:\r\n&gt; PreparedStatementCallback; uncategorized SQLException for SQL [INSERT\r\n&gt; INTO BATCH_STEP_EXECUTION_CONTEXT (SHORT_CONTEXT, SERIALIZED_CONTEXT,\r\n&gt; STEP_EXECUTION_ID) VALUES(?, ?, ?)]; SQL state [null]; error code [0];\r\n&gt; Impossible d&#39;ins&#233;rer la valeur NULL dans la colonne\r\n&gt; &#39;STEP_EXECUTION_ID&#39;, table &#39;TESTFT.dbo.BATCH_STEP_EXECUTION_CONTEXT&#39;.\r\n&gt; Cette colonne n&#39;accepte pas les valeurs NULL. &#201;chec de INSERT.; nested\r\n&gt; exception is java.sql.BatchUpdateException: Impossible d&#39;ins&#233;rer la\r\n&gt; valeur NULL dans la colonne &#39;STEP_EXECUTION_ID&#39;, table\r\n&gt; &#39;TESTFT.dbo.BATCH_STEP_EXECUTION_CONTEXT&#39;. Cette colonne n&#39;accepte pas\r\n&gt; les valeurs NULL. &#201;chec de INSERT. \tat\r\n&gt;org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1542)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:833) Caused by:\r\n&gt; java.sql.BatchUpdateException: Impossible d&#39;ins&#233;rer la valeur NULL\r\n&gt; dans la colonne &#39;STEP_EXECUTION_ID&#39;, table\r\n&gt; &#39;TESTFT.dbo.BATCH_STEP_EXECUTION_CONTEXT&#39;. Cette colonne n&#39;accepte pas\r\n&gt; les valeurs NULL. &#201;chec de INSERT. \tat\r\n&gt; com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeBatch(SQLServerPreparedStatement.java:2145)\r\n&gt; \tat\r\n&gt; com.zaxxer.hikari.pool.ProxyStatement.executeBatch(ProxyStatement.java:127)\r\n&gt; \tat\r\n&gt; com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeBatch(HikariProxyPreparedStatement.java)\r\n&gt; \tat\r\n&gt;org.springframework.jdbc.core.JdbcTemplate.lambda$batchUpdate$4(JdbcTemplate.java:1048)\r\n&gt; \tat\r\n&gt; org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651)\r\n&gt; \t... 127 common frames omitted\r\n\r\nis there is any solution ?\r\n\r\nPS: when i run a SimpleStepBuilder instead of PartitionStepBuilder it works fine and here is my SimpleStepBuilder :\r\n\r\n    @Bean\r\n    @StepScope\r\n      public Step Worker(@Value(&quot;#{jobParameters[&#39;TName&#39;]}&quot;) String name) throws Exception {\r\n            SimpleStepBuilder&lt;Table, Data&gt; builder = stepBuilderFactory.get(&quot;Worker &quot; + name)\r\n                    .&lt;Table, Data&gt;chunk(CHUNK_SIZE)\r\n                    .reader(oracleXmlReader)\r\n                    .processor(fastXmlProcessor())\r\n                    .writer(jsonWriter);\r\n            return builder.build();\r\n        }\r\n\r\n**READER:** it is located in other class callse &quot;XmlReader&quot;:\r\n\r\n    @Slf4j\r\n    @Import({DataSourceConfiguration.class})\r\n    @Component\r\n    public class XmlReader {\r\n    \tLogger log = LoggerFactory.getLogger(this.getClass());\r\n        @Autowired\r\n        @Qualifier(&quot;T&quot;)\r\n        private DataSource dataSource;    \r\n            @Bean\r\n            @StepScope\r\n            public SynchronizedItemStreamReader&lt;Table&gt;\r\n            oracleXmlIncrementalReader(@Value(&quot;#{jobExecutionContext[&#39;QUERY&#39;]}&quot;) String query,\r\n                                        @Value(&quot;#{stepExecutionContext[&#39;minValue&#39;]}&quot;) Long minValue) throws Exception\r\n            {\r\n            \t\r\n                log.debug(&quot;[minValue - maxValue] : &quot; + minValue);\r\n                log.debug(&quot;[Reader Query] : \\n&quot; + query);\r\n        \r\n                JdbcCursorItemReader&lt;Table&gt; reader = new JdbcCursorItemReader&lt;&gt;();\r\n                reader.setDataSource(dataSource);\r\n                log.debug(String.format(&quot;Le param&#232;tre FETCH_SIZE est %d&quot;, FETCH_SIZE));\r\n                reader.setFetchSize(FETCH_SIZE);\r\n                reader.setConnectionAutoCommit(false);\r\n                reader.setSql(query);\r\n                reader.setRowMapper(new XMLRowMapper());\r\n        \t\treader.setPreparedStatementSetter(preparedStatement -&gt; {\r\n        \t\tpreparedStatement.setLong(1, 1); preparedStatement.setLong(2, minValue); });\r\n        \r\n                SynchronizedItemStreamReader&lt;Table&gt; synchronizedReader = new SynchronizedItemStreamReader&lt;&gt;();\r\n                synchronizedReader.setDelegate(reader);\r\n                synchronizedReader.afterPropertiesSet();\r\n                \r\n                System.err.println(query);\r\n                return synchronizedReader;\r\n            }\r\n\r\n**WRITER:**\r\n\r\n    @Component\r\n    @Import({BIDataSourceConfiguration.class})\r\n    @StepScope\r\n    public class JdbcWriter {\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;bi&quot;)\r\n        private DataSource dataSource;\r\n    \r\n        private final Renamer renamer = new Renamer();\r\n    \r\n        @Value(&quot;#{jobParameters[&#39;T_Selection_Name&#39;]}&quot;)\r\n        String TableName;\r\n    \r\n        @Bean\r\n        @StepScope\r\n        public JdbcBatchItemWriter&lt;Data&gt; jsonWriter(){\r\n            JdbcBatchItemWriter&lt;Data&gt; writer = new JdbcBatchItemWriter&lt;&gt;();\r\n            writer.setDataSource(dataSource);\r\n            writer.setSql(String.format(&quot;INSERT INTO raw%s (raw_id, raw_data) VALUES (?, ?)&quot;, renamer.biRenamer(this.TableName)));\r\n            writer.setItemPreparedStatementSetter(new TPreparedStatementSetter());\r\n            writer.afterPropertiesSet();\r\n            return writer;\r\n        }\r\n    }\r\n\r\n**PARTITIONER:**\r\n\r\n    public class RowIdPartitioner implements Partitioner\r\n    {\r\n        @Override\r\n        public Map&lt;String, ExecutionContext&gt; partition(int gridSize)\r\n        {\r\n            //ora_hash(rowid, ? 5 gridSize (taskExecutor)) = ? 0 -&gt; 4 (01234)partitioner\r\n            //0 ==&gt; n-1\r\n            int targetSize = gridSize  - 1;\r\n    \r\n            Map&lt;String, ExecutionContext&gt; result = new HashMap&lt;&gt;();\r\n    \r\n            int number = 0;\r\n            int start = 0;\r\n            int end = targetSize - 1;\r\n    \r\n            while (start &lt; gridSize)\r\n            {\r\n                ExecutionContext value = new ExecutionContext();\r\n    \r\n                result.put(&quot;partition&quot; + number, value);\r\n    \r\n                if (end &gt;= gridSize)\r\n                {\r\n                    end = gridSize;\r\n                }\r\n    \r\n                value.putInt(&quot;minValue&quot;, start);\r\n      //          value.putInt(&quot;maxValue&quot;, end);\r\n    \r\n                start += targetSize;\r\n                end += targetSize;\r\n    \r\n                number++;\r\n            }\r\n            return result;\r\n        }\r\n    }\r\n\r\n&gt; EDIT: After the comments and the answer, i edited my code this way but it didn&#39;t resolve the issue \r\n\r\n    @Configuration\r\n    @Slf4j\r\n    public class ExtracteurSteps {\r\n    \r\n        @Autowired\r\n        StepBuilderFactory stepBuilderFactory;\r\n    \r\n        @Autowired\r\n        ThreadPoolTaskExecutor taskExecutor;\r\n    \r\n        @Autowired\r\n        @StepScope\r\n        SynchronizedItemStreamReader&lt;Table&gt;\r\n                oracleXmlIncrementalReader;\r\n    \r\n        @Autowired\r\n        @StepScope\r\n        JdbcBatchItemWriter&lt;Data&gt; jsonWriter;\r\n    \r\n        @Bean\r\n        @StepScope\r\n        public FastXmlProcessor fastXmlProcessor(){\r\n            return new FastXmlProcessor();\r\n        }\r\n    \r\n    \r\n    \r\n        @Bean\r\n        @StepScope\r\n        public Step IncrementalWorker(@Value(&quot;#{jobParameters[&#39;T_Selection_Name&#39;]}&quot;) String name) throws Exception {\r\n        \tSimpleStepBuilder&lt;Table, Data&gt; builder = stepBuilderFactory.get(&quot;IncrementalWorker &quot; + name)\r\n                    .&lt;Table, Data&gt;chunk(CHUNK_SIZE)\r\n                    .reader(oracleXmlIncrementalReader)\r\n                    .processor(fastXmlProcessor())\r\n                    .writer(jsonWriter);\r\n            return builder.build();\r\n        }\r\n    \r\n    \r\n        @Bean\r\n        @JobScope\r\n        public Step IncrementalXmlManager(@Value(&quot;#{jobParameters[&#39;T_Selection_Name&#39;]}&quot;) String table) throws Exception {\r\n            return stepBuilderFactory.get(&quot;IncrementalXmlManager &quot; + table)\r\n                    .partitioner(&quot;IncrementalWorker &quot; + table, partitioner())\r\n                    .partitionHandler(XMLIncrementalPartitionHandler())\r\n                    .build();\r\n        }\r\n    \r\n    \r\n        @Bean\r\n        @StepScope\r\n        public RowIdPartitioner partitioner() {\r\n            return new RowIdPartitioner();\r\n        }\r\n        \r\n        @Bean\r\n        public PartitionHandler XMLIncrementalPartitionHandler() throws Exception {\r\n            TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\r\n            handler.setGridSize(GRID_SIZE);\r\n            handler.setStep(IncrementalWorker(null));\r\n            handler.setTaskExecutor(taskExecutor);\r\n            try {\r\n                handler.afterPropertiesSet();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return handler;\r\n        }\r\n    \r\n    }\r\n\r\n&gt; EDIT:\r\nI tried the solution described below:\r\n\r\n    @Configuration\r\n    @Slf4j\r\n    public class ExtracteurSteps {\r\n    \r\n    \t@Autowired\r\n        StepBuilderFactory stepBuilderFactory;\r\n    \r\n        @Autowired\r\n        ThreadPoolTaskExecutor taskExecutor;\r\n    \r\n        @Autowired\r\n        @StepScope\r\n        SynchronizedItemStreamReader&lt;Table&gt;\r\n                oracleXmlIncrementalReader;\r\n    \r\n        @Autowired\r\n        @StepScope\r\n        JdbcBatchItemWriter&lt;Data&gt; jsonWriter;\r\n    \r\n        @Bean\r\n        @StepScope\r\n        public FastXmlProcessor fastXmlProcessor(){\r\n            return new FastXmlProcessor();\r\n        }\r\n    \r\n    \r\n    \r\n        @Bean\r\n        @StepScope\r\n        public Step IncrementalWorker(@Value(&quot;#{jobParameters[&#39;T_Selection_Name&#39;]}&quot;) String name) throws Exception {\r\n        \tSimpleStepBuilder&lt;Table, Data&gt; builder = this.stepBuilderFactory.get(&quot;IncrementalWorker &quot; + name)\r\n                    .&lt;Table, Data&gt;chunk(CHUNK_SIZE)\r\n                    .reader(oracleXmlIncrementalReader)\r\n                    .processor(fastXmlProcessor())\r\n                    .writer(jsonWriter);\r\n            return builder.build();\r\n        }\r\n    \r\n    \r\n        @Bean\r\n        @JobScope\r\n        public Step IncrementalXmlManager(@Value(&quot;#{jobParameters[&#39;T_Selection_Name&#39;]}&quot;) String table, @Qualifier(&quot;IncrementalWorker&quot;) Step step) throws Exception {\r\n            return this.stepBuilderFactory.get(&quot;IncrementalXmlManager &quot; + table)\r\n                    .partitioner(&quot;IncrementalWorker &quot; + table, partitioner())\r\n                    .partitionHandler(XMLIncrementalPartitionHandler(step))\r\n                    .build();\r\n        }\r\n    \r\n        @Bean\r\n        public RowIdPartitioner partitioner() {\r\n            return new RowIdPartitioner();\r\n        }\r\n        \r\n        @Bean\r\n        public PartitionHandler XMLIncrementalPartitionHandler(Step step) throws Exception {\r\n            TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\r\n            handler.setGridSize(GRID_SIZE);\r\n            handler.setStep(step);\r\n            handler.setTaskExecutor(taskExecutor);\r\n            handler.afterPropertiesSet();\r\n    \r\n            return handler;\r\n        }\r\n    \r\n    }\r\n\r\nand it showed me this error:\r\n\r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2023-07-14 | 09:47:17.132 | ngFailureAnalysisReporter | ERROR | \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Parameter 0 of method XMLIncrementalPartitionHandler in ExtracteurSteps required a single bean, but 9 were found:\r\n    Action:\r\n    Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed\r\n\r\nSo, I added `@Qualifier(&quot;IncrementalWorker&quot;)` to `XMLIncrementalPartitionHandler` and I get back again to the very same error with the same stuck\r\n\r\n&gt; EDIT:\r\nI modified the code this way:\r\n\r\n    @Bean\r\n        @JobScope\r\n        public Step IncrementalXmlManager(@Value(&quot;#{jobParameters[&#39;T_Selection_Name&#39;]}&quot;) String table, StepLocator stepLocator) throws Exception {\r\n            return this.stepBuilderFactory.get(&quot;IncrementalXmlManager-&quot; + table)\r\n                    .partitioner(&quot;IncrementalWorker-&quot; + table, partitioner())\r\n                    .partitionHandler(XMLIncrementalPartitionHandler(stepLocator))\r\n                    .build();\r\n        }\r\n    \r\n    \r\n        @Bean\r\n        public RowIdPartitioner partitioner() {\r\n            return new RowIdPartitioner();\r\n        }\r\n        \r\n        @Bean\r\n        public PartitionHandler XMLIncrementalPartitionHandler(StepLocator stepLocator) throws Exception {\r\n            TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\r\n            handler.setGridSize(GRID_SIZE);\r\n            handler.setStep(stepLocator.getStep(&quot;IncrementalWorker&quot;));  // change this to match the name of the step\r\n            handler.setTaskExecutor(taskExecutor);\r\n            handler.afterPropertiesSet();\r\n            return handler;\r\n        }\r\n\r\nwhich generated a new error:\r\n\r\n&gt; Error starting ApplicationContext. To display the conditions report\r\n&gt; re-run your application with &#39;debug&#39; enabled. 2023-07-14 |\r\n&gt; 11:22:25.396 | o.s.b.SpringApplication   | ERROR | Application run\r\n&gt; failed org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;XMLIncrementalPartitionHandler&#39; defined in\r\n&gt; class path resource [/Extracteur/Step/ExtracteurSteps.class]: Bean\r\n&gt; instantiation via factory method failed; nested exception is\r\n&gt; org.springframework.beans.BeanInstantiationException: Failed to\r\n&gt; instantiate\r\n&gt; [org.springframework.batch.core.partition.PartitionHandler]: Factory\r\n&gt; method &#39;XMLIncrementalPartitionHandler&#39; threw exception; nested\r\n&gt; exception is\r\n&gt; org.springframework.beans.factory.support.ScopeNotActiveException:\r\n&gt; Error creating bean with name &#39;scopedTarget.TDate&#39;: Scope &#39;job&#39; is not\r\n&gt; active for the current thread; consider defining a scoped proxy for\r\n&gt; this bean if you intend to refer to it from a singleton; nested\r\n&gt; exception is java.lang.IllegalStateException: No context holder\r\n&gt; available for job scope \tat\r\n&gt; org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944)\r\n&gt; \tat\r\n&gt; org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n&gt; \tat\r\n&gt; org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n&gt; \tat\r\n&gt; org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:338)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1332)\r\n&gt; \tat ExtractorApplication.main(ExtractorApplication.java:30) Caused by:\r\n&gt; org.springframework.beans.BeanInstantiationException: Failed to\r\n&gt; instantiate\r\n&gt; [org.springframework.batch.core.partition.PartitionHandler]: Factory\r\n&gt; method &#39;XMLIncrementalPartitionHandler&#39; threw exception; nested\r\n&gt; exception is\r\n&gt; org.springframework.beans.factory.support.ScopeNotActiveException:\r\n&gt; Error creating bean with name &#39;scopedTarget.TDate&#39;: Scope &#39;job&#39; is not\r\n&gt; active for the current thread; consider defining a scoped proxy for\r\n&gt; this bean if you intend to refer to it from a singleton; nested\r\n&gt; exception is java.lang.IllegalStateException: No context holder\r\n&gt; available for job scope \tat\r\n&gt; org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n&gt; \t... 19 common frames omitted Caused by:\r\n&gt; org.springframework.beans.factory.support.ScopeNotActiveException:\r\n&gt; Error creating bean with name &#39;scopedTarget.TDate&#39;: Scope &#39;job&#39; is not\r\n&gt; active for the current thread; consider defining a scoped proxy for\r\n&gt; this bean if you intend to refer to it from a singleton; nested\r\n&gt; exception is java.lang.IllegalStateException: No context holder\r\n&gt; available for job scope \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:383)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n&gt; \tat\r\n&gt; org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:195)\r\n&gt; \tat jdk.proxy2/jdk.proxy2.$Proxy131.getName(Unknown Source) \tat\r\n&gt; org.springframework.batch.core.job.SimpleJob.getStep(SimpleJob.java:109)\r\n&gt; \tat\r\n&gt; Extracteur.Step.ExtracteurSteps.XMLIncrementalPartitionHandler(ExtracteurSteps.java:87)\r\n&gt; \tat\r\n&gt; Extracteur.Step.ExtracteurSteps$$EnhancerBySpringCGLIB$$87903892.CGLIB$XMLIncrementalPartitionHandler$0(&lt;generated&gt;)\r\n&gt; \tat\r\n&gt; Extracteur.Step.ExtracteurSteps$$EnhancerBySpringCGLIB$$87903892$$FastClassBySpringCGLIB$$284d2b1e.invoke(&lt;generated&gt;)\r\n&gt; \tat\r\n&gt; org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\r\n&gt; \tat\r\n&gt; org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n&gt; \tat\r\n&gt; Extracteur.Step.ExtracteurSteps$$EnhancerBySpringCGLIB$$87903892.XMLIncrementalPartitionHandler(&lt;generated&gt;)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method) \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) \tat\r\n&gt; org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n&gt; \t... 20 common frames omitted Caused by:\r\n&gt; java.lang.IllegalStateException: No context holder available for job\r\n&gt; scope \tat\r\n&gt; org.springframework.batch.core.scope.JobScope.getContext(JobScope.java:159)\r\n&gt; \tat\r\n&gt; org.springframework.batch.core.scope.JobScope.get(JobScope.java:92)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)\r\n&gt; \t... 36 common frames omitted\r\n\r\n**PS: TDate is the first step in my job**","title":"Spring Batch error: Impossible to insert NULL value in column &#39;STEP_EXECUTION_ID&#39;, table &#39;BATCH_STEP_EXECUTION_CONTEXT&#39;","body":"<p>I have this partition step:</p>\n<pre><code>@Bean\n@JobScope\n    public Step IncrementalXmlManager(@Value(&quot;#{jobParameters['TName']}&quot;) String table) throws Exception {\n        return stepBuilderFactory.get(table)\n                .partitioner(&quot;IncrementalWorker&quot;, partitioner())\n                .partitionHandler(XMLIncrementalPartitionHandler())\n                .build();\n    }\n</code></pre>\n<p>and this is the Handler:</p>\n<pre><code>@Bean\n    @StepScope\n    public PartitionHandler XMLIncrementalPartitionHandler(String table) throws Exception {\n        TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\n        handler.setGridSize(GRID_SIZE);\n        handler.setStep(IncrementalWorker(table));\n        handler.setTaskExecutor(taskExecutor);\n        try {\n            handler.afterPropertiesSet();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return handler;\n    }\n</code></pre>\n<p>and this is the slave step:</p>\n<pre><code>@Bean\n    @StepScope\n    public Step IncrementalWorker(@Value(&quot;#{jobParameters['TName']}&quot;) String name) throws Exception {\n        SimpleStepBuilder&lt;Table, Data&gt; builder = stepBuilderFactory.get(&quot;IncrementalWorker &quot; + name)\n                .&lt;Table, Data&gt;chunk(CHUNK_SIZE)\n                .reader(oracleXmlIncrementalReader)\n                .processor(new FastXmlProcessor())\n                .writer(jsonWriter);\n\n        return builder.build();\n    }\n</code></pre>\n<p>but i always have this error:\n<strong>java.sql.BatchUpdateException: Impossible to insert NULL value in column 'STEP_EXECUTION_ID', table 'TESTFT.dbo.BATCH_STEP_EXECUTION_CONTEXT'. This column does not accept NULL values. INSERT failed.</strong></p>\n<p>Here is the whole stuck trace:</p>\n<blockquote>\n<p>2023-07-12 | 12:39:33.305 | s.b.c.j.SimpleStepHandler |  INFO | Executing step: [IncrementalXmlManager] 2023-07-12 | 12:39:33.497 |\no.s.b.c.step.AbstractStep | ERROR | Encountered an error executing\nstep IncrementalXmlManager in job extracteur\norg.springframework.jdbc.UncategorizedSQLException:\nPreparedStatementCallback; uncategorized SQLException for SQL [INSERT\nINTO BATCH_STEP_EXECUTION_CONTEXT (SHORT_CONTEXT, SERIALIZED_CONTEXT,\nSTEP_EXECUTION_ID) VALUES(?, ?, ?)]; SQL state [null]; error code [0];\nImpossible d'insérer la valeur NULL dans la colonne\n'STEP_EXECUTION_ID', table 'TESTFT.dbo.BATCH_STEP_EXECUTION_CONTEXT'.\nCette colonne n'accepte pas les valeurs NULL. Échec de INSERT.; nested\nexception is java.sql.BatchUpdateException: Impossible d'insérer la\nvaleur NULL dans la colonne 'STEP_EXECUTION_ID', table\n'TESTFT.dbo.BATCH_STEP_EXECUTION_CONTEXT'. Cette colonne n'accepte pas\nles valeurs NULL. Échec de INSERT.    at\norg.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1542)\nat java.base/java.lang.Thread.run(Thread.java:833) Caused by:\njava.sql.BatchUpdateException: Impossible d'insérer la valeur NULL\ndans la colonne 'STEP_EXECUTION_ID', table\n'TESTFT.dbo.BATCH_STEP_EXECUTION_CONTEXT'. Cette colonne n'accepte pas\nles valeurs NULL. Échec de INSERT.    at\ncom.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeBatch(SQLServerPreparedStatement.java:2145)\nat\ncom.zaxxer.hikari.pool.ProxyStatement.executeBatch(ProxyStatement.java:127)\nat\ncom.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeBatch(HikariProxyPreparedStatement.java)\nat\norg.springframework.jdbc.core.JdbcTemplate.lambda$batchUpdate$4(JdbcTemplate.java:1048)\nat\norg.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651)\n... 127 common frames omitted</p>\n</blockquote>\n<p>is there is any solution ?</p>\n<p>PS: when i run a SimpleStepBuilder instead of PartitionStepBuilder it works fine and here is my SimpleStepBuilder :</p>\n<pre><code>@Bean\n@StepScope\n  public Step Worker(@Value(&quot;#{jobParameters['TName']}&quot;) String name) throws Exception {\n        SimpleStepBuilder&lt;Table, Data&gt; builder = stepBuilderFactory.get(&quot;Worker &quot; + name)\n                .&lt;Table, Data&gt;chunk(CHUNK_SIZE)\n                .reader(oracleXmlReader)\n                .processor(fastXmlProcessor())\n                .writer(jsonWriter);\n        return builder.build();\n    }\n</code></pre>\n<p><strong>READER:</strong> it is located in other class callse &quot;XmlReader&quot;:</p>\n<pre><code>@Slf4j\n@Import({DataSourceConfiguration.class})\n@Component\npublic class XmlReader {\n    Logger log = LoggerFactory.getLogger(this.getClass());\n    @Autowired\n    @Qualifier(&quot;T&quot;)\n    private DataSource dataSource;    \n        @Bean\n        @StepScope\n        public SynchronizedItemStreamReader&lt;Table&gt;\n        oracleXmlIncrementalReader(@Value(&quot;#{jobExecutionContext['QUERY']}&quot;) String query,\n                                    @Value(&quot;#{stepExecutionContext['minValue']}&quot;) Long minValue) throws Exception\n        {\n            \n            log.debug(&quot;[minValue - maxValue] : &quot; + minValue);\n            log.debug(&quot;[Reader Query] : \\n&quot; + query);\n    \n            JdbcCursorItemReader&lt;Table&gt; reader = new JdbcCursorItemReader&lt;&gt;();\n            reader.setDataSource(dataSource);\n            log.debug(String.format(&quot;Le paramètre FETCH_SIZE est %d&quot;, FETCH_SIZE));\n            reader.setFetchSize(FETCH_SIZE);\n            reader.setConnectionAutoCommit(false);\n            reader.setSql(query);\n            reader.setRowMapper(new XMLRowMapper());\n            reader.setPreparedStatementSetter(preparedStatement -&gt; {\n            preparedStatement.setLong(1, 1); preparedStatement.setLong(2, minValue); });\n    \n            SynchronizedItemStreamReader&lt;Table&gt; synchronizedReader = new SynchronizedItemStreamReader&lt;&gt;();\n            synchronizedReader.setDelegate(reader);\n            synchronizedReader.afterPropertiesSet();\n            \n            System.err.println(query);\n            return synchronizedReader;\n        }\n</code></pre>\n<p><strong>WRITER:</strong></p>\n<pre><code>@Component\n@Import({BIDataSourceConfiguration.class})\n@StepScope\npublic class JdbcWriter {\n\n    @Autowired\n    @Qualifier(&quot;bi&quot;)\n    private DataSource dataSource;\n\n    private final Renamer renamer = new Renamer();\n\n    @Value(&quot;#{jobParameters['T_Selection_Name']}&quot;)\n    String TableName;\n\n    @Bean\n    @StepScope\n    public JdbcBatchItemWriter&lt;Data&gt; jsonWriter(){\n        JdbcBatchItemWriter&lt;Data&gt; writer = new JdbcBatchItemWriter&lt;&gt;();\n        writer.setDataSource(dataSource);\n        writer.setSql(String.format(&quot;INSERT INTO raw%s (raw_id, raw_data) VALUES (?, ?)&quot;, renamer.biRenamer(this.TableName)));\n        writer.setItemPreparedStatementSetter(new TPreparedStatementSetter());\n        writer.afterPropertiesSet();\n        return writer;\n    }\n}\n</code></pre>\n<p><strong>PARTITIONER:</strong></p>\n<pre><code>public class RowIdPartitioner implements Partitioner\n{\n    @Override\n    public Map&lt;String, ExecutionContext&gt; partition(int gridSize)\n    {\n        //ora_hash(rowid, ? 5 gridSize (taskExecutor)) = ? 0 -&gt; 4 (01234)partitioner\n        //0 ==&gt; n-1\n        int targetSize = gridSize  - 1;\n\n        Map&lt;String, ExecutionContext&gt; result = new HashMap&lt;&gt;();\n\n        int number = 0;\n        int start = 0;\n        int end = targetSize - 1;\n\n        while (start &lt; gridSize)\n        {\n            ExecutionContext value = new ExecutionContext();\n\n            result.put(&quot;partition&quot; + number, value);\n\n            if (end &gt;= gridSize)\n            {\n                end = gridSize;\n            }\n\n            value.putInt(&quot;minValue&quot;, start);\n  //          value.putInt(&quot;maxValue&quot;, end);\n\n            start += targetSize;\n            end += targetSize;\n\n            number++;\n        }\n        return result;\n    }\n}\n</code></pre>\n<blockquote>\n<p>EDIT: After the comments and the answer, i edited my code this way but it didn't resolve the issue</p>\n</blockquote>\n<pre><code>@Configuration\n@Slf4j\npublic class ExtracteurSteps {\n\n    @Autowired\n    StepBuilderFactory stepBuilderFactory;\n\n    @Autowired\n    ThreadPoolTaskExecutor taskExecutor;\n\n    @Autowired\n    @StepScope\n    SynchronizedItemStreamReader&lt;Table&gt;\n            oracleXmlIncrementalReader;\n\n    @Autowired\n    @StepScope\n    JdbcBatchItemWriter&lt;Data&gt; jsonWriter;\n\n    @Bean\n    @StepScope\n    public FastXmlProcessor fastXmlProcessor(){\n        return new FastXmlProcessor();\n    }\n\n\n\n    @Bean\n    @StepScope\n    public Step IncrementalWorker(@Value(&quot;#{jobParameters['T_Selection_Name']}&quot;) String name) throws Exception {\n        SimpleStepBuilder&lt;Table, Data&gt; builder = stepBuilderFactory.get(&quot;IncrementalWorker &quot; + name)\n                .&lt;Table, Data&gt;chunk(CHUNK_SIZE)\n                .reader(oracleXmlIncrementalReader)\n                .processor(fastXmlProcessor())\n                .writer(jsonWriter);\n        return builder.build();\n    }\n\n\n    @Bean\n    @JobScope\n    public Step IncrementalXmlManager(@Value(&quot;#{jobParameters['T_Selection_Name']}&quot;) String table) throws Exception {\n        return stepBuilderFactory.get(&quot;IncrementalXmlManager &quot; + table)\n                .partitioner(&quot;IncrementalWorker &quot; + table, partitioner())\n                .partitionHandler(XMLIncrementalPartitionHandler())\n                .build();\n    }\n\n\n    @Bean\n    @StepScope\n    public RowIdPartitioner partitioner() {\n        return new RowIdPartitioner();\n    }\n    \n    @Bean\n    public PartitionHandler XMLIncrementalPartitionHandler() throws Exception {\n        TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\n        handler.setGridSize(GRID_SIZE);\n        handler.setStep(IncrementalWorker(null));\n        handler.setTaskExecutor(taskExecutor);\n        try {\n            handler.afterPropertiesSet();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return handler;\n    }\n\n}\n</code></pre>\n<blockquote>\n<p>EDIT:\nI tried the solution described below:</p>\n</blockquote>\n<pre><code>@Configuration\n@Slf4j\npublic class ExtracteurSteps {\n\n    @Autowired\n    StepBuilderFactory stepBuilderFactory;\n\n    @Autowired\n    ThreadPoolTaskExecutor taskExecutor;\n\n    @Autowired\n    @StepScope\n    SynchronizedItemStreamReader&lt;Table&gt;\n            oracleXmlIncrementalReader;\n\n    @Autowired\n    @StepScope\n    JdbcBatchItemWriter&lt;Data&gt; jsonWriter;\n\n    @Bean\n    @StepScope\n    public FastXmlProcessor fastXmlProcessor(){\n        return new FastXmlProcessor();\n    }\n\n\n\n    @Bean\n    @StepScope\n    public Step IncrementalWorker(@Value(&quot;#{jobParameters['T_Selection_Name']}&quot;) String name) throws Exception {\n        SimpleStepBuilder&lt;Table, Data&gt; builder = this.stepBuilderFactory.get(&quot;IncrementalWorker &quot; + name)\n                .&lt;Table, Data&gt;chunk(CHUNK_SIZE)\n                .reader(oracleXmlIncrementalReader)\n                .processor(fastXmlProcessor())\n                .writer(jsonWriter);\n        return builder.build();\n    }\n\n\n    @Bean\n    @JobScope\n    public Step IncrementalXmlManager(@Value(&quot;#{jobParameters['T_Selection_Name']}&quot;) String table, @Qualifier(&quot;IncrementalWorker&quot;) Step step) throws Exception {\n        return this.stepBuilderFactory.get(&quot;IncrementalXmlManager &quot; + table)\n                .partitioner(&quot;IncrementalWorker &quot; + table, partitioner())\n                .partitionHandler(XMLIncrementalPartitionHandler(step))\n                .build();\n    }\n\n    @Bean\n    public RowIdPartitioner partitioner() {\n        return new RowIdPartitioner();\n    }\n    \n    @Bean\n    public PartitionHandler XMLIncrementalPartitionHandler(Step step) throws Exception {\n        TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\n        handler.setGridSize(GRID_SIZE);\n        handler.setStep(step);\n        handler.setTaskExecutor(taskExecutor);\n        handler.afterPropertiesSet();\n\n        return handler;\n    }\n\n}\n</code></pre>\n<p>and it showed me this error:</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2023-07-14 | 09:47:17.132 | ngFailureAnalysisReporter | ERROR | \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of method XMLIncrementalPartitionHandler in ExtracteurSteps required a single bean, but 9 were found:\nAction:\nConsider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed\n</code></pre>\n<p>So, I added <code>@Qualifier(&quot;IncrementalWorker&quot;)</code> to <code>XMLIncrementalPartitionHandler</code> and I get back again to the very same error with the same stuck</p>\n<blockquote>\n<p>EDIT:\nI modified the code this way:</p>\n</blockquote>\n<pre><code>@Bean\n    @JobScope\n    public Step IncrementalXmlManager(@Value(&quot;#{jobParameters['T_Selection_Name']}&quot;) String table, StepLocator stepLocator) throws Exception {\n        return this.stepBuilderFactory.get(&quot;IncrementalXmlManager-&quot; + table)\n                .partitioner(&quot;IncrementalWorker-&quot; + table, partitioner())\n                .partitionHandler(XMLIncrementalPartitionHandler(stepLocator))\n                .build();\n    }\n\n\n    @Bean\n    public RowIdPartitioner partitioner() {\n        return new RowIdPartitioner();\n    }\n    \n    @Bean\n    public PartitionHandler XMLIncrementalPartitionHandler(StepLocator stepLocator) throws Exception {\n        TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\n        handler.setGridSize(GRID_SIZE);\n        handler.setStep(stepLocator.getStep(&quot;IncrementalWorker&quot;));  // change this to match the name of the step\n        handler.setTaskExecutor(taskExecutor);\n        handler.afterPropertiesSet();\n        return handler;\n    }\n</code></pre>\n<p>which generated a new error:</p>\n<blockquote>\n<p>Error starting ApplicationContext. To display the conditions report\nre-run your application with 'debug' enabled. 2023-07-14 |\n11:22:25.396 | o.s.b.SpringApplication   | ERROR | Application run\nfailed org.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name 'XMLIncrementalPartitionHandler' defined in\nclass path resource [/Extracteur/Step/ExtracteurSteps.class]: Bean\ninstantiation via factory method failed; nested exception is\norg.springframework.beans.BeanInstantiationException: Failed to\ninstantiate\n[org.springframework.batch.core.partition.PartitionHandler]: Factory\nmethod 'XMLIncrementalPartitionHandler' threw exception; nested\nexception is\norg.springframework.beans.factory.support.ScopeNotActiveException:\nError creating bean with name 'scopedTarget.TDate': Scope 'job' is not\nactive for the current thread; consider defining a scoped proxy for\nthis bean if you intend to refer to it from a singleton; nested\nexception is java.lang.IllegalStateException: No context holder\navailable for job scope   at\norg.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\nat\norg.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\nat\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)\nat\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)\nat\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564)\nat\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\nat\norg.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\nat\norg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\nat\norg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\nat\norg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\nat\norg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944)\nat\norg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\nat\norg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\nat\norg.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\nat\norg.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)\nat\norg.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\nat\norg.springframework.boot.SpringApplication.run(SpringApplication.java:338)\nat\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1343)\nat\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1332)\nat ExtractorApplication.main(ExtractorApplication.java:30) Caused by:\norg.springframework.beans.BeanInstantiationException: Failed to\ninstantiate\n[org.springframework.batch.core.partition.PartitionHandler]: Factory\nmethod 'XMLIncrementalPartitionHandler' threw exception; nested\nexception is\norg.springframework.beans.factory.support.ScopeNotActiveException:\nError creating bean with name 'scopedTarget.TDate': Scope 'job' is not\nactive for the current thread; consider defining a scoped proxy for\nthis bean if you intend to refer to it from a singleton; nested\nexception is java.lang.IllegalStateException: No context holder\navailable for job scope   at\norg.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\nat\norg.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n... 19 common frames omitted Caused by:\norg.springframework.beans.factory.support.ScopeNotActiveException:\nError creating bean with name 'scopedTarget.TDate': Scope 'job' is not\nactive for the current thread; consider defining a scoped proxy for\nthis bean if you intend to refer to it from a singleton; nested\nexception is java.lang.IllegalStateException: No context holder\navailable for job scope   at\norg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:383)\nat\norg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\nat\norg.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\nat\norg.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:195)\nat jdk.proxy2/jdk.proxy2.$Proxy131.getName(Unknown Source)  at\norg.springframework.batch.core.job.SimpleJob.getStep(SimpleJob.java:109)\nat\nExtracteur.Step.ExtracteurSteps.XMLIncrementalPartitionHandler(ExtracteurSteps.java:87)\nat\nExtracteur.Step.ExtracteurSteps$$EnhancerBySpringCGLIB$$87903892.CGLIB$XMLIncrementalPartitionHandler$0()\nat\nExtracteur.Step.ExtracteurSteps$$EnhancerBySpringCGLIB$$87903892$$FastClassBySpringCGLIB$$284d2b1e.invoke()\nat\norg.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\nat\norg.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\nat\nExtracteur.Step.ExtracteurSteps$$EnhancerBySpringCGLIB$$87903892.XMLIncrementalPartitionHandler()\nat\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod)   at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)   at\norg.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n... 20 common frames omitted Caused by:\njava.lang.IllegalStateException: No context holder available for job\nscope     at\norg.springframework.batch.core.scope.JobScope.getContext(JobScope.java:159)\nat\norg.springframework.batch.core.scope.JobScope.get(JobScope.java:92)\nat\norg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)\n... 36 common frames omitted</p>\n</blockquote>\n<p><strong>PS: TDate is the first step in my job</strong></p>\n"},{"tags":["java","intellij-idea","kotlin"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1576235129,"post_id":59319051,"comment_id":104842466,"body_markdown":"Do you have JDK configured for project/module in &quot;Project Structure&quot;?","body":"Do you have JDK configured for project/module in &quot;Project Structure&quot;?"},{"owner":{"account_id":3452326,"reputation":2387,"user_id":2891692,"accept_rate":29,"display_name":"SL5net"},"score":0,"creation_date":1576235710,"post_id":59319051,"comment_id":104842727,"body_markdown":"hmm. i see no misconfiguration here: \nhttps://imgur.com/JJ3be9q.png , https://imgur.com/SNJ4yuJ.png","body":"hmm. i see no misconfiguration here:  <a href=\"https://imgur.com/JJ3be9q.png\" rel=\"nofollow noreferrer\">imgur.com/JJ3be9q.png</a> , <a href=\"https://imgur.com/SNJ4yuJ.png\" rel=\"nofollow noreferrer\">imgur.com/SNJ4yuJ.png</a>"},{"owner":{"account_id":3452326,"reputation":2387,"user_id":2891692,"accept_rate":29,"display_name":"SL5net"},"score":0,"creation_date":1576241434,"post_id":59319051,"comment_id":104845552,"body_markdown":"and in https://imgur.com/yvth5Ik.png i dont see misconfiguration","body":"and in <a href=\"https://imgur.com/yvth5Ik.png\" rel=\"nofollow noreferrer\">imgur.com/yvth5Ik.png</a> i dont see misconfiguration"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":2,"creation_date":1576487675,"post_id":59319051,"comment_id":104901984,"body_markdown":"Looks like classpath for JDK 11 is empty. Please try to recreate JDK item in IDE.","body":"Looks like classpath for JDK 11 is empty. Please try to recreate JDK item in IDE."},{"owner":{"account_id":3452326,"reputation":2387,"user_id":2891692,"accept_rate":29,"display_name":"SL5net"},"score":0,"creation_date":1576741531,"post_id":59319051,"comment_id":104998587,"body_markdown":"yes it tells: `undefined path variables: scope is undefined. Fix it. CLASS` https://imgur.com/ChoIuqg.png","body":"yes it tells: <code>undefined path variables: scope is undefined. Fix it. CLASS</code> <a href=\"https://imgur.com/ChoIuqg.png\" rel=\"nofollow noreferrer\">imgur.com/ChoIuqg.png</a>"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":1,"creation_date":1576746423,"post_id":59319051,"comment_id":105000698,"body_markdown":"Does it help to remove this variable?","body":"Does it help to remove this variable?"},{"owner":{"account_id":3452326,"reputation":2387,"user_id":2891692,"accept_rate":29,"display_name":"SL5net"},"score":0,"creation_date":1576843590,"post_id":59319051,"comment_id":105036057,"body_markdown":"@y.bedrov it solves the problem :-)","body":"@y.bedrov it solves the problem :-)"}],"answers":[{"comments":[{"owner":{"account_id":346626,"reputation":10196,"user_id":680268,"accept_rate":66,"display_name":"Stealth Rabbi"},"score":0,"creation_date":1594866915,"post_id":60486517,"comment_id":111279242,"body_markdown":"This suprisingly worked. FYI, I did this with a JDK11 openjdk build on windows.","body":"This suprisingly worked. FYI, I did this with a JDK11 openjdk build on windows."}],"tags":[],"owner":{"account_id":2593482,"reputation":609,"user_id":2247626,"accept_rate":80,"display_name":"PavelPraulov"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1689528867,"creation_date":1583143607,"answer_id":60486517,"question_id":59319051,"body_markdown":"I had the same problem, the @y.bedrov&#39;s suggestion helps me.\r\n\r\nThe issue is that the `Classpath` is empty (under `Project Structure` -&gt; `Platform Settings` -&gt; `SDKs` -&gt; `&lt;choose active SDK&gt;` -&gt; `Classpath`)\r\n\r\nTo fix this, you can recreate the SDK:\r\n\r\n1. `Project Structure` -&gt; `Platform SDKs` -&gt; `&lt;choose active SDK&gt;` -&gt; `&quot;-&quot;`\r\n2. `Project Structure` -&gt; `Platform SDKs` -&gt; `&quot;+&quot;` -&gt; `&lt;choose target SDK location&gt;`","title":"Kotlin: Unresolved reference: java","body":"<p>I had the same problem, the @y.bedrov's suggestion helps me.</p>\n<p>The issue is that the <code>Classpath</code> is empty (under <code>Project Structure</code> -&gt; <code>Platform Settings</code> -&gt; <code>SDKs</code> -&gt; <code>&lt;choose active SDK&gt;</code> -&gt; <code>Classpath</code>)</p>\n<p>To fix this, you can recreate the SDK:</p>\n<ol>\n<li><code>Project Structure</code> -&gt; <code>Platform SDKs</code> -&gt; <code>&lt;choose active SDK&gt;</code> -&gt; <code>&quot;-&quot;</code></li>\n<li><code>Project Structure</code> -&gt; <code>Platform SDKs</code> -&gt; <code>&quot;+&quot;</code> -&gt; <code>&lt;choose target SDK location&gt;</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8341024,"reputation":1015,"user_id":6266336,"accept_rate":38,"display_name":"Diana"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659628026,"creation_date":1659628026,"answer_id":73238785,"question_id":59319051,"body_markdown":"This was definitely some IntelliJ peoblem for me. I could solve the issue by stupidly deleting the &quot;problematic&quot; class and creating it again:\r\n\r\n- Delete class and imports that refer to it in project\r\n- Create the same class and adding imports\r\n\r\nWhat generally people also suggest when having similar problem (but didn&#39;t help in my case):\r\n\r\n- Restart IDE (File -&gt; Invalidate caches... )\r\n- Check Platform SDKs as mentioned in another answer here\r\n- IntelliJ -&gt; PReferances -&gt; Build, Execution, Deployment -&gt; Make sure that `Kotlin Compiler` and `Java Compiler` match in versions.\r\n\r\n","title":"Kotlin: Unresolved reference: java","body":"<p>This was definitely some IntelliJ peoblem for me. I could solve the issue by stupidly deleting the &quot;problematic&quot; class and creating it again:</p>\n<ul>\n<li>Delete class and imports that refer to it in project</li>\n<li>Create the same class and adding imports</li>\n</ul>\n<p>What generally people also suggest when having similar problem (but didn't help in my case):</p>\n<ul>\n<li>Restart IDE (File -&gt; Invalidate caches... )</li>\n<li>Check Platform SDKs as mentioned in another answer here</li>\n<li>IntelliJ -&gt; PReferances -&gt; Build, Execution, Deployment -&gt; Make sure that <code>Kotlin Compiler</code> and <code>Java Compiler</code> match in versions.</li>\n</ul>\n"}],"owner":{"account_id":3452326,"reputation":2387,"user_id":2891692,"accept_rate":29,"display_name":"SL5net"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15342,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":60486517,"answer_count":2,"score":3,"last_activity_date":1689528867,"creation_date":1576227179,"question_id":59319051,"body_markdown":"I surprised, because i was able to checkout and run a Kotlin project from Github without this error, and now  get get this Java-Error\r\n\r\n[![Unresolved reference: java][1]][1]\r\n\r\nI using \r\n\r\n - kotlinc-jvm 1.3.60 (JRE 11.0.4+10-b520.11), \r\n - IDEA 2019.3, \r\n - Kernel: 5.3.15-1-MANJARO x86_64 bits: 64 compiler: gcc \r\nv: 9.2.0 Desktop: Xfce 4.14.1 Distro: Manjaro Linux \r\n\r\n\r\ni tried hit Alt+Enter. IDE manual says: &quot;Alt+Enter: Show intention actions and quick-fixes.&quot;\r\n\r\nThis is my File-Name:\r\n\r\n    /home/me/IdeaProjects/KeyEvent-Reader-Demo/src/Test.kt\r\n\r\nSame Error i found here: https://discuss.kotlinlang.org/t/kotlin-unresolved-reference-java/6734\r\n\r\n  [1]: https://i.stack.imgur.com/fb7uy.png\r\n","title":"Kotlin: Unresolved reference: java","body":"<p>I surprised, because i was able to checkout and run a Kotlin project from Github without this error, and now  get get this Java-Error</p>\n\n<p><a href=\"https://i.stack.imgur.com/fb7uy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fb7uy.png\" alt=\"Unresolved reference: java\"></a></p>\n\n<p>I using </p>\n\n<ul>\n<li>kotlinc-jvm 1.3.60 (JRE 11.0.4+10-b520.11), </li>\n<li>IDEA 2019.3, </li>\n<li>Kernel: 5.3.15-1-MANJARO x86_64 bits: 64 compiler: gcc \nv: 9.2.0 Desktop: Xfce 4.14.1 Distro: Manjaro Linux </li>\n</ul>\n\n<p>i tried hit Alt+Enter. IDE manual says: \"Alt+Enter: Show intention actions and quick-fixes.\"</p>\n\n<p>This is my File-Name:</p>\n\n<pre><code>/home/me/IdeaProjects/KeyEvent-Reader-Demo/src/Test.kt\n</code></pre>\n\n<p>Same Error i found here: <a href=\"https://discuss.kotlinlang.org/t/kotlin-unresolved-reference-java/6734\" rel=\"nofollow noreferrer\">https://discuss.kotlinlang.org/t/kotlin-unresolved-reference-java/6734</a></p>\n"},{"tags":["java","spring","maven","spring-boot","maven-3"],"comments":[{"owner":{"account_id":1406312,"reputation":1340,"user_id":1333931,"accept_rate":75,"display_name":"wbk"},"score":0,"creation_date":1458902148,"post_id":36217949,"comment_id":60068131,"body_markdown":"Exact solution in my case was to call: `mvn spring-boot:run -Drun.jvmArguments=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,address=8787  -Dserver.port=9090 -Dpath.to.config.dir=/var/data/my/config/dir&quot; `","body":"Exact solution in my case was to call: <code>mvn spring-boot:run -Drun.jvmArguments=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,address=8787  -Dserver.port=9090 -Dpath.to.config.dir=&#47;var&#47;data&#47;my&#47;config&#47;dir&quot; </code>"},{"owner":{"account_id":103956,"reputation":4401,"user_id":278174,"accept_rate":85,"display_name":"powder366"},"score":1,"creation_date":1510136564,"post_id":36217949,"comment_id":81303232,"body_markdown":"Link not working...","body":"Link not working..."}],"answers":[{"comments":[{"owner":{"account_id":36556,"reputation":919,"user_id":104315,"accept_rate":71,"display_name":"Ryan"},"score":1,"creation_date":1492661128,"post_id":36218096,"comment_id":74074238,"body_markdown":"Note: This worked, but I found that the -Drun.profiles option (and I&#39;d guess other options starting with &#39;run&#39;) need to be kept *outside* the jvmArguments bit. eg: mvn spring-boot:run -Drun.jvmArguments=&quot;-Xdebug -Dspring.foo=bar&quot; -Drun.profiles=test","body":"Note: This worked, but I found that the -Drun.profiles option (and I&#39;d guess other options starting with &#39;run&#39;) need to be kept <i>outside</i> the jvmArguments bit. eg: mvn spring-boot:run -Drun.jvmArguments=&quot;-Xdebug -Dspring.foo=bar&quot; -Drun.profiles=test"},{"owner":{"account_id":103956,"reputation":4401,"user_id":278174,"accept_rate":85,"display_name":"powder366"},"score":0,"creation_date":1510135742,"post_id":36218096,"comment_id":81302663,"body_markdown":"Can you direct me to an in-depth document how this stuff works?","body":"Can you direct me to an in-depth document how this stuff works?"},{"owner":{"account_id":7363499,"reputation":27102,"user_id":5606016,"accept_rate":88,"display_name":"A_Di-Matteo"},"score":0,"creation_date":1510136181,"post_id":36218096,"comment_id":81302965,"body_markdown":"@powder366 did you already try with the official documentation, already pointed by the answer above? There are examples and description of goals/options. Do you refer to Spring Boot specific documents or to more generic Maven-level documents?","body":"@powder366 did you already try with the official documentation, already pointed by the answer above? There are examples and description of goals/options. Do you refer to Spring Boot specific documents or to more generic Maven-level documents?"},{"owner":{"account_id":103956,"reputation":4401,"user_id":278174,"accept_rate":85,"display_name":"powder366"},"score":1,"creation_date":1510136528,"post_id":36218096,"comment_id":81303209,"body_markdown":"I can debug starting the Spring application, running it with the mvn spring boot plugin I can&#39;t breakpoint. I like to understand how debugging works under the hood so I can make sense of it all... therefore looking for some nice articles about it.","body":"I can debug starting the Spring application, running it with the mvn spring boot plugin I can&#39;t breakpoint. I like to understand how debugging works under the hood so I can make sense of it all... therefore looking for some nice articles about it."}],"tags":[],"owner":{"account_id":7363499,"reputation":27102,"user_id":5606016,"accept_rate":88,"display_name":"A_Di-Matteo"},"comment_count":4,"down_vote_count":1,"up_vote_count":53,"is_accepted":true,"score":52,"last_activity_date":1600777790,"creation_date":1458901300,"answer_id":36218096,"question_id":36217949,"body_markdown":"The behavior and the change you notice is happening because you started using the [`jvmArguments`](http://docs.spring.io/spring-boot/docs/1.3.3.RELEASE/maven-plugin/run-mojo.html#jvmArguments) option:\r\n&gt; JVM arguments that should be associated with the forked process used to run the application. On command line, make sure to wrap multiple values between quotes.\r\n\r\nBy default, when using it, the Spring Boot Maven plugin will also fork its execution, as described by the [`fork`](http://docs.spring.io/spring-boot/docs/1.3.3.RELEASE/maven-plugin/run-mojo.html#fork) option:\r\n&gt; Flag to indicate if the run processes should be forked. By default process forking is only used if an agent or `jvmArguments` are specified.\r\n\r\nHence, the usage of `jvmArguments` also activated the fork mode of the plugin execution. By forking, you are actually not picking up the others `-D` arguments passed from command line.\r\n\r\n**Solution**: if you want to use the `jvmArguments`, then pass all of the required arguments to it.\r\n\r\n    mvn spring-boot:run -Drun.jvmArguments=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,address=8787 -Dserver.port=9090 -Dpath.to.config.dir=/var/data/my/config/dir&quot;\r\n\r\n**-- Edit 22/09/2020**\r\nCheck also the other answer from @Stephane to complent this answer (prefix of parameters)","title":"Maven spring boot run debug with arguments","body":"<p>The behavior and the change you notice is happening because you started using the <a href=\"http://docs.spring.io/spring-boot/docs/1.3.3.RELEASE/maven-plugin/run-mojo.html#jvmArguments\" rel=\"noreferrer\"><code>jvmArguments</code></a> option:</p>\n<blockquote>\n<p>JVM arguments that should be associated with the forked process used to run the application. On command line, make sure to wrap multiple values between quotes.</p>\n</blockquote>\n<p>By default, when using it, the Spring Boot Maven plugin will also fork its execution, as described by the <a href=\"http://docs.spring.io/spring-boot/docs/1.3.3.RELEASE/maven-plugin/run-mojo.html#fork\" rel=\"noreferrer\"><code>fork</code></a> option:</p>\n<blockquote>\n<p>Flag to indicate if the run processes should be forked. By default process forking is only used if an agent or <code>jvmArguments</code> are specified.</p>\n</blockquote>\n<p>Hence, the usage of <code>jvmArguments</code> also activated the fork mode of the plugin execution. By forking, you are actually not picking up the others <code>-D</code> arguments passed from command line.</p>\n<p><strong>Solution</strong>: if you want to use the <code>jvmArguments</code>, then pass all of the required arguments to it.</p>\n<pre><code>mvn spring-boot:run -Drun.jvmArguments=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,address=8787 -Dserver.port=9090 -Dpath.to.config.dir=/var/data/my/config/dir&quot;\n</code></pre>\n<p><strong>-- Edit 22/09/2020</strong>\nCheck also the other answer from @Stephane to complent this answer (prefix of parameters)</p>\n"},{"tags":[],"owner":{"account_id":289976,"reputation":1654,"user_id":591254,"display_name":"jalogar"},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1689527901,"creation_date":1528106136,"answer_id":50677882,"question_id":36217949,"body_markdown":"Notice that from `Spring Boot` **2.0.2** names have changed. For more details check out:\r\n\r\n* [Spring Boot Maven Plugin - spring-boot:run](https://docs.spring.io/spring-boot/docs/2.0.2.RELEASE/maven-plugin/run-mojo.html)\r\n\r\nTherefore:\r\n\r\n* **run.jvmArguments** -&gt; `spring-boot.run.jvmArguments`\r\n* **run.arguments** -&gt; `spring-boot.run.arguments`\r\n\r\n\r\n\r\n","title":"Maven spring boot run debug with arguments","body":"<p>Notice that from <code>Spring Boot</code> <strong>2.0.2</strong> names have changed. For more details check out:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/2.0.2.RELEASE/maven-plugin/run-mojo.html\" rel=\"nofollow noreferrer\">Spring Boot Maven Plugin - spring-boot:run</a></li>\n</ul>\n<p>Therefore:</p>\n<ul>\n<li><strong>run.jvmArguments</strong> -&gt; <code>spring-boot.run.jvmArguments</code></li>\n<li><strong>run.arguments</strong> -&gt; <code>spring-boot.run.arguments</code></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":9011826,"reputation":379,"user_id":6716090,"display_name":"abarazal"},"score":7,"creation_date":1584666802,"post_id":51513723,"comment_id":107514032,"body_markdown":"This should be the accepted answer, the other answers didn&#39;t work","body":"This should be the accepted answer, the other answers didn&#39;t work"},{"owner":{"account_id":252289,"reputation":624,"user_id":530233,"display_name":"Alex"},"score":7,"creation_date":1585922195,"post_id":51513723,"comment_id":107942449,"body_markdown":"This answer works for most, however it is not working for me in PowerShell, the message I get is:  No plugin found for prefix &#39;.run.jvmArguments=-Xdebug -Xrunjdwp&#39;","body":"This answer works for most, however it is not working for me in PowerShell, the message I get is:  No plugin found for prefix &#39;.run.jvmArguments=-Xdebug -Xrunjdwp&#39;"},{"owner":{"account_id":4731873,"reputation":1070,"user_id":3827273,"display_name":"Haran"},"score":3,"creation_date":1596601007,"post_id":51513723,"comment_id":111860093,"body_markdown":"Thanks. It worked `mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Dserver.port=8090 -Dspring.profiles.active=local&quot;`\nspring-boot-maven-plugin=2.2.5.RELEASE","body":"Thanks. It worked <code>mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Dserver.port=8090 -Dspring.profiles.active=local&quot;</code> spring-boot-maven-plugin=2.2.5.RELEASE"},{"owner":{"account_id":249621,"reputation":2020,"user_id":525811,"accept_rate":50,"display_name":"thangchung"},"score":1,"creation_date":1638336837,"post_id":51513723,"comment_id":124058699,"body_markdown":"I have got the same error that Alex mentioned above when running it on Windows 11","body":"I have got the same error that Alex mentioned above when running it on Windows 11"},{"owner":{"account_id":12622119,"reputation":380,"user_id":9341641,"display_name":"Balazs F."},"score":0,"creation_date":1666769130,"post_id":51513723,"comment_id":131011829,"body_markdown":"@Alex running the command in IntelliJ I had the same &quot;No plugin found for prefix...&quot; error, but it works for me from command line.","body":"@Alex running the command in IntelliJ I had the same &quot;No plugin found for prefix...&quot; error, but it works for me from command line."},{"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"score":0,"creation_date":1672216427,"post_id":51513723,"comment_id":132243016,"body_markdown":"mvn spring-boot:run &quot;-Dspring-boot.run.jvmArguments=-Dserver.port=8080&quot; - It&#39;s work for me (Spring-boot - 3.0.1)","body":"mvn spring-boot:run &quot;-Dspring-boot.run.jvmArguments=-Dserver.port=8080&quot; - It&#39;s work for me (Spring-boot - 3.0.1)"},{"owner":{"account_id":386394,"reputation":9197,"user_id":744133,"accept_rate":57,"display_name":"YoYo"},"score":0,"creation_date":1701202549,"post_id":51513723,"comment_id":136745587,"body_markdown":"for selecting the active spring-boot profiles, use: `-Dspring-boot.run.profiles=local`","body":"for selecting the active spring-boot profiles, use: <code>-Dspring-boot.run.profiles=local</code>"}],"tags":[],"owner":{"account_id":927996,"reputation":12046,"user_id":958373,"accept_rate":63,"display_name":"Stephane"},"comment_count":7,"down_vote_count":0,"up_vote_count":90,"is_accepted":false,"score":90,"last_activity_date":1689528328,"creation_date":1532505586,"answer_id":51513723,"question_id":36217949,"body_markdown":"The parameter name has to be prefixed with `spring-boot.` as in `-Dspring-boot.run.jvmArgument`\r\n\r\nThe _Spring Boot Reference Documentation_, in the [Debug the Application][1] section, provided me the solution as I&#39;m running `Spring Boot 2.0.3`\r\n\r\n    mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=5005&quot;\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#run-example-debug\r\n","title":"Maven spring boot run debug with arguments","body":"<p>The parameter name has to be prefixed with <code>spring-boot.</code> as in <code>-Dspring-boot.run.jvmArgument</code></p>\n<p>The <em>Spring Boot Reference Documentation</em>, in the <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#run-example-debug\" rel=\"noreferrer\">Debug the Application</a> section, provided me the solution as I'm running <code>Spring Boot 2.0.3</code></p>\n<pre><code>mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=5005&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":555095,"reputation":1782,"user_id":1262187,"accept_rate":18,"display_name":"simar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621414301,"creation_date":1621414301,"answer_id":67599937,"question_id":36217949,"body_markdown":"One more issue is there. If pom.xml defines jvmArguments then command line arguments are ignored \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;jvmArguments&gt;-Xmx2048m -XX:NativeMemoryTracking=summary --enable-preview&lt;/jvmArguments&gt;\r\n            &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nIf I would like to add debug properties to one of launchers \r\n\r\n`-Dspring-boot.run.jvmArguments=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8282&quot;`\r\n\r\nIt is not gonna work.","title":"Maven spring boot run debug with arguments","body":"<p>One more issue is there. If pom.xml defines jvmArguments then command line arguments are ignored</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;jvmArguments&gt;-Xmx2048m -XX:NativeMemoryTracking=summary --enable-preview&lt;/jvmArguments&gt;\n        &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>If I would like to add debug properties to one of launchers</p>\n<p><code>-Dspring-boot.run.jvmArguments=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8282&quot;</code></p>\n<p>It is not gonna work.</p>\n"},{"tags":[],"owner":{"account_id":4309289,"reputation":51,"user_id":3520854,"display_name":"dannybastos"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623087746,"creation_date":1623087746,"answer_id":67876379,"question_id":36217949,"body_markdown":"Following [redhat documentation][1] ..\r\n\r\n\r\n    mvn spring-boot:run -Drun.jvmArguments=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=$PORT_NUMBER&quot;\r\n\r\n\r\n  [1]: https://access.redhat.com/documentation/en-us/red_hat_support_for_spring_boot/2.1/html/spring_boot_2.1.x_runtime_guide/debugging-springboot-based-application_spring-boot","title":"Maven spring boot run debug with arguments","body":"<p>Following <a href=\"https://access.redhat.com/documentation/en-us/red_hat_support_for_spring_boot/2.1/html/spring_boot_2.1.x_runtime_guide/debugging-springboot-based-application_spring-boot\" rel=\"nofollow noreferrer\">redhat documentation</a> ..</p>\n<pre><code>mvn spring-boot:run -Drun.jvmArguments=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=$PORT_NUMBER&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7371292,"reputation":1906,"user_id":5611377,"accept_rate":100,"display_name":"ssimm"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1624283873,"creation_date":1624283212,"answer_id":68069089,"question_id":36217949,"body_markdown":"Override spring-boot properties from Maven command line using Powershell:\r\n\r\n - Spring Boot 2.4.4\r\n - Maven 3.6.3\r\n - Powershell Windows 10\r\n\r\nThis worked for me:\r\n\r\n    mvn spring-boot:run  -D&quot;spring-boot.run.jvmArguments&quot;=&quot;-Dimport.dataset.list=importpb&quot;\r\n\r\n","title":"Maven spring boot run debug with arguments","body":"<p>Override spring-boot properties from Maven command line using Powershell:</p>\n<ul>\n<li>Spring Boot 2.4.4</li>\n<li>Maven 3.6.3</li>\n<li>Powershell Windows 10</li>\n</ul>\n<p>This worked for me:</p>\n<pre><code>mvn spring-boot:run  -D&quot;spring-boot.run.jvmArguments&quot;=&quot;-Dimport.dataset.list=importpb&quot;\n</code></pre>\n"}],"owner":{"account_id":1406312,"reputation":1340,"user_id":1333931,"accept_rate":75,"display_name":"wbk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145580,"favorite_count":0,"down_vote_count":0,"up_vote_count":82,"accepted_answer_id":36218096,"answer_count":6,"score":82,"last_activity_date":1689528328,"creation_date":1458900747,"question_id":36217949,"body_markdown":"Usually I&#39;m running my Spring Boot application with command:\r\n\r\n    mvn spring-boot:run -Drun.arguments=--server.port=9090 \\\r\n       -Dpath.to.config.dir=/var/data/my/config/dir\r\n\r\nI want to set custom port to debug, so I can connect from eclipse. When I add arguments from example [Spring Boot Maven Plugin](https://docs.spring.io/spring-boot/docs/1.1.2.RELEASE/maven-plugin/examples/run-debug.html)\r\n\r\n    mvn spring-boot:run -Drun.arguments=--server.port=9090 \\\r\n       -Dpath.to.config.dir=/var/data/my/config/dir \\\r\n       -Drun.jvmArguments=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,address=8787&quot;\r\n\r\nit works but other arguments like `server.port` or `path.to.config.dir` are no longer recognized and I get exception like:\r\n\r\n    org.springframework.beans.factory.BeanDefinitionStoreException: Failed\r\n    to parse configuration class [com.my.app.Controller]; nested exception\r\n    is java.lang.IllegalArgumentException: Could not resolve placeholder\r\n    &#39;path.to.config.dir&#39; in string value\r\n    file:///${path.to.config.dir}/some.properties&quot;\r\n\r\n**Question**: How I can run with all arguments?","title":"Maven spring boot run debug with arguments","body":"<p>Usually I'm running my Spring Boot application with command:</p>\n<pre><code>mvn spring-boot:run -Drun.arguments=--server.port=9090 \\\n   -Dpath.to.config.dir=/var/data/my/config/dir\n</code></pre>\n<p>I want to set custom port to debug, so I can connect from eclipse. When I add arguments from example <a href=\"https://docs.spring.io/spring-boot/docs/1.1.2.RELEASE/maven-plugin/examples/run-debug.html\" rel=\"noreferrer\">Spring Boot Maven Plugin</a></p>\n<pre><code>mvn spring-boot:run -Drun.arguments=--server.port=9090 \\\n   -Dpath.to.config.dir=/var/data/my/config/dir \\\n   -Drun.jvmArguments=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,address=8787&quot;\n</code></pre>\n<p>it works but other arguments like <code>server.port</code> or <code>path.to.config.dir</code> are no longer recognized and I get exception like:</p>\n<pre><code>org.springframework.beans.factory.BeanDefinitionStoreException: Failed\nto parse configuration class [com.my.app.Controller]; nested exception\nis java.lang.IllegalArgumentException: Could not resolve placeholder\n'path.to.config.dir' in string value\nfile:///${path.to.config.dir}/some.properties&quot;\n</code></pre>\n<p><strong>Question</strong>: How I can run with all arguments?</p>\n"},{"tags":["java","spring","spring-boot","sap-business-technology-platform"],"answers":[{"tags":[],"owner":{"account_id":5800887,"reputation":650,"user_id":4575097,"display_name":"Sander Wozniak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553780771,"creation_date":1553780771,"answer_id":55399202,"question_id":55019339,"body_markdown":"You can use the SAP S/4HANA Cloud SDK to retrieve destinations and their properties. You can find more information [here][1].\r\n\r\n\r\n  [1]: https://blogs.sap.com/2017/05/10/first-steps-with-sap-s4hana-cloud-sdk/","title":"How to bind email config from Destination service in SCP Neo to Spring Boot application?","body":"<p>You can use the SAP S/4HANA Cloud SDK to retrieve destinations and their properties. You can find more information <a href=\"https://blogs.sap.com/2017/05/10/first-steps-with-sap-s4hana-cloud-sdk/\" rel=\"noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":12536346,"reputation":980,"user_id":9122915,"accept_rate":50,"display_name":"Boudhayan Dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689527690,"creation_date":1551863521,"question_id":55019339,"body_markdown":"I want to deploy a spring boot application in SAP Cloud Platform  Neo environment. It has a endpoint `/sendmail` which sends a mail to a particular user when called. For now, I have hard coded the credentials in `application.properties` file and it works. The file looks as follows -\r\n\r\n    spring.mail.host=smtp.gmail.com\r\n    spring.mail.port=587\r\n    spring.mail.username=...\r\n    spring.mail.password=...\r\n    spring.mail.properties.mail.smtp.starttls.enable=true\r\n    spring.mail.properties.mail.smtp.starttls.required=true\r\n    spring.mail.properties.mail.smtp.auth=true\r\n    spring.mail.properties.mail.smtp.connectiontimeout=5000\r\n    spring.mail.properties.mail.smtp.timeout=5000\r\n    spring.mail.properties.mail.smtp.writetimeout=5000\r\n\r\nNow, I want to make use of the destinations service of the SCP platform where I&#39;ll define the credentials of the mail account. I want to fetch the credentials from the destination service. So, what needs to go in `application.properties` file ??\r\n\r\nI have performed similar operation in SCP - Cloud Foundry but for a different service ( Database ). CF has the VCAP environment variables which can be used to fetch the credentials as follows -\r\n\r\n    spring.datasource.url=${vcap.services.${vcap.services.name}.credentials.url}\r\n\r\n\r\nIs it possible to do the same here in Neo?","title":"How to bind email config from Destination service in SCP Neo to Spring Boot application?","body":"<p>I want to deploy a spring boot application in SAP Cloud Platform  Neo environment. It has a endpoint <code>/sendmail</code> which sends a mail to a particular user when called. For now, I have hard coded the credentials in <code>application.properties</code> file and it works. The file looks as follows -</p>\n\n<pre><code>spring.mail.host=smtp.gmail.com\nspring.mail.port=587\nspring.mail.username=...\nspring.mail.password=...\nspring.mail.properties.mail.smtp.starttls.enable=true\nspring.mail.properties.mail.smtp.starttls.required=true\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.smtp.connectiontimeout=5000\nspring.mail.properties.mail.smtp.timeout=5000\nspring.mail.properties.mail.smtp.writetimeout=5000\n</code></pre>\n\n<p>Now, I want to make use of the destinations service of the SCP platform where I'll define the credentials of the mail account. I want to fetch the credentials from the destination service. So, what needs to go in <code>application.properties</code> file ??</p>\n\n<p>I have performed similar operation in SCP - Cloud Foundry but for a different service ( Database ). CF has the VCAP environment variables which can be used to fetch the credentials as follows -</p>\n\n<pre><code>spring.datasource.url=${vcap.services.${vcap.services.name}.credentials.url}\n</code></pre>\n\n<p>Is it possible to do the same here in Neo?</p>\n"},{"tags":["java","scala","mockito"],"comments":[{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1689520307,"post_id":76698753,"comment_id":135221986,"body_markdown":"See https://stackoverflow.com/a/67734707/5389127","body":"See <a href=\"https://stackoverflow.com/a/67734707/5389127\">stackoverflow.com/a/67734707/5389127</a>"},{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":1,"creation_date":1689520478,"post_id":76698753,"comment_id":135222015,"body_markdown":"Does this answer your question? [Mockito - difference between doReturn() and when()](https://stackoverflow.com/questions/20353846/mockito-difference-between-doreturn-and-when)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/20353846/mockito-difference-between-doreturn-and-when\">Mockito - difference between doReturn() and when()</a>"},{"owner":{"account_id":10496592,"reputation":3058,"user_id":7736617,"display_name":"Arnaud Claudel"},"score":0,"creation_date":1689526612,"post_id":76698753,"comment_id":135222723,"body_markdown":"You&#39;re using a spy, not a mock. I wouldn&#39;t expect the `when().doReturn()` to have any impact. Consider using a mock instead","body":"You&#39;re using a spy, not a mock. I wouldn&#39;t expect the <code>when().doReturn()</code> to have any impact. Consider using a mock instead"}],"answers":[{"comments":[{"owner":{"account_id":23550665,"reputation":71,"user_id":17593430,"display_name":"amit"},"score":0,"creation_date":1690269517,"post_id":76698960,"comment_id":135325767,"body_markdown":"I&#39;m running your code\ndoReturn(&quot;value-to-replace&quot;)\n  .when(spiedScalaSharedLibConfigManager)\n  .functionToTest();\n\nbut when I&#39;m running for the test scope\nprintln(spiedScalaSharedLibConfigManager.functionToTest()) I&#39;m receiving the same error.","body":"I&#39;m running your code doReturn(&quot;value-to-replace&quot;)   .when(spiedScalaSharedLibConfigManager)   .functionToTest();  but when I&#39;m running for the test scope println(spiedScalaSharedLibConfigManager.functionToTest()) I&#39;m receiving the same error."}],"tags":[],"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689526446,"creation_date":1689520221,"answer_id":76698960,"question_id":76698753,"body_markdown":"If you have reason to use a **spy**, then you need to use specific syntax to mock methods of it.\r\n\r\n`when` doesn&#39;t work for spies. Instead use `doXxx.when(spy).method()`:\r\n```scala\r\ndoReturn(&quot;value-to-replace&quot;)\r\n  .when(spiedScalaSharedLibConfigManager)\r\n  .functionToTest();\r\n```\r\n\r\n-----\r\n\r\nAnother option is to use a **mock** rather than a **spy**.\r\n\r\n-----\r\n\r\nReferences:\r\n- https://stackoverflow.com/questions/14689348/mocking-a-spy-method-with-mockito\r\n- https://stackoverflow.com/questions/20353846/mockito-difference-between-doreturn-and-when","title":"then return in Mockito run the code. with no reason","body":"<p>If you have reason to use a <strong>spy</strong>, then you need to use specific syntax to mock methods of it.</p>\n<p><code>when</code> doesn't work for spies. Instead use <code>doXxx.when(spy).method()</code>:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>doReturn(&quot;value-to-replace&quot;)\n  .when(spiedScalaSharedLibConfigManager)\n  .functionToTest();\n</code></pre>\n<hr />\n<p>Another option is to use a <strong>mock</strong> rather than a <strong>spy</strong>.</p>\n<hr />\n<p>References:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/14689348/mocking-a-spy-method-with-mockito\">Mocking a Spy method with Mockito</a></li>\n<li><a href=\"https://stackoverflow.com/questions/20353846/mockito-difference-between-doreturn-and-when\">Mockito - difference between doReturn() and when()</a></li>\n</ul>\n"}],"owner":{"account_id":23550665,"reputation":71,"user_id":17593430,"display_name":"amit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689602429,"answer_count":1,"score":0,"last_activity_date":1689526446,"creation_date":1689517359,"question_id":76698753,"body_markdown":"In Scala, I noticed that when using when and thenReturn in Mockito, thenReturn runs the actual function before &quot;replacing&quot; the return value from the function.\r\nfor example -\r\n\r\n```\r\nclass clsToTest() {\r\n  def functionToTest: String = {\r\n    if(condition-that-evaluated-to-true-sometimes) {\r\n      throw new RuntimeException(&quot;some error&quot;)\r\n    }\r\n    &quot;function-completed&quot;\r\n  }\r\n}\r\n\r\ntestclsToTest() {\r\n   test(&quot;test functionToTest&quot;) {\r\n     val spiedclsToTest = spy(new clsToTest())\r\n     when(spiedScalaSharedLibConfigManager.functionToTest).thenReturn(&quot;value to replace&quot;)\r\n     //spiedScalaSharedLibConfigManager.otherFunctionThatUsesFunctionToTest()\r\n  }\r\n}\r\n\r\n```\r\n\r\nbut when the line\r\n```\r\nwhen(spiedScalaSharedLibConfigManager.functionToTest).thenReturn(&quot;value to replace&quot;)\r\n```\r\nis executed, because sometimes `condition-that-evaluated-to-true-sometimes` evaluated to True, the test fails without real reason.\r\nI&#39;m looking for a way to replace the value of the returned function without actually running the function.\r\nI have my own reason to use spy instead of mocking.\r\n","title":"then return in Mockito run the code. with no reason","body":"<p>In Scala, I noticed that when using when and thenReturn in Mockito, thenReturn runs the actual function before &quot;replacing&quot; the return value from the function.\nfor example -</p>\n<pre><code>class clsToTest() {\n  def functionToTest: String = {\n    if(condition-that-evaluated-to-true-sometimes) {\n      throw new RuntimeException(&quot;some error&quot;)\n    }\n    &quot;function-completed&quot;\n  }\n}\n\ntestclsToTest() {\n   test(&quot;test functionToTest&quot;) {\n     val spiedclsToTest = spy(new clsToTest())\n     when(spiedScalaSharedLibConfigManager.functionToTest).thenReturn(&quot;value to replace&quot;)\n     //spiedScalaSharedLibConfigManager.otherFunctionThatUsesFunctionToTest()\n  }\n}\n\n</code></pre>\n<p>but when the line</p>\n<pre><code>when(spiedScalaSharedLibConfigManager.functionToTest).thenReturn(&quot;value to replace&quot;)\n</code></pre>\n<p>is executed, because sometimes <code>condition-that-evaluated-to-true-sometimes</code> evaluated to True, the test fails without real reason.\nI'm looking for a way to replace the value of the returned function without actually running the function.\nI have my own reason to use spy instead of mocking.</p>\n"},{"tags":["java","spring-boot","jwt","keycloak","openid-connect"],"comments":[{"owner":{"account_id":5920917,"reputation":341,"user_id":4658283,"display_name":"Ram"},"score":0,"creation_date":1689487372,"post_id":76696527,"comment_id":135218670,"body_markdown":"I have no experience with keycloak, but it looks like the keys used to sign the JWT doesn&#39;t exist on Keycloak B.","body":"I have no experience with keycloak, but it looks like the keys used to sign the JWT doesn&#39;t exist on Keycloak B."},{"owner":{"account_id":7869251,"reputation":681,"user_id":6034820,"accept_rate":89,"display_name":"Max Ferreira"},"score":0,"creation_date":1689513164,"post_id":76696527,"comment_id":135221144,"body_markdown":"both keycloak are using the same alg: RS256","body":"both keycloak are using the same alg: RS256"},{"owner":{"account_id":5920917,"reputation":341,"user_id":4658283,"display_name":"Ram"},"score":0,"creation_date":1689513652,"post_id":76696527,"comment_id":135221200,"body_markdown":"Right, but do both use the same key pair to sign/verify the JWT?","body":"Right, but do both use the same key pair to sign/verify the JWT?"},{"owner":{"account_id":7869251,"reputation":681,"user_id":6034820,"accept_rate":89,"display_name":"Max Ferreira"},"score":0,"creation_date":1689520264,"post_id":76696527,"comment_id":135221977,"body_markdown":"I managed to get this error:\nFailed to verify token: Didn&#39;t find publicKey for specified kid\n\nSo keycloak b doesn&#39;t have the public key of keycloak a.","body":"I managed to get this error: Failed to verify token: Didn&#39;t find publicKey for specified kid  So keycloak b doesn&#39;t have the public key of keycloak a."},{"owner":{"account_id":5920917,"reputation":341,"user_id":4658283,"display_name":"Ram"},"score":1,"creation_date":1689520881,"post_id":76696527,"comment_id":135222080,"body_markdown":"That answers your question on why you are seeing the error :)\nThe docs might have some info on how to configure with the public key of your choice.","body":"That answers your question on why you are seeing the error :) The docs might have some info on how to configure with the public key of your choice."}],"answers":[{"comments":[{"owner":{"account_id":7869251,"reputation":681,"user_id":6034820,"accept_rate":89,"display_name":"Max Ferreira"},"score":0,"creation_date":1689542762,"post_id":76699435,"comment_id":135224585,"body_markdown":"That is the problem:\n6.x and 7.X branch are designed for spring-boot 3 and requires JDK 17 as a minimum","body":"That is the problem: 6.x and 7.X branch are designed for spring-boot 3 and requires JDK 17 as a minimum"},{"owner":{"account_id":7869251,"reputation":681,"user_id":6034820,"accept_rate":89,"display_name":"Max Ferreira"},"score":0,"creation_date":1689548790,"post_id":76699435,"comment_id":135225042,"body_markdown":"I updated my application to spring boot 3.1.1 and everything worked fine @ch4mp thank you very much again, I will study your repository and try to contribute something.","body":"I updated my application to spring boot 3.1.1 and everything worked fine @ch4mp thank you very much again, I will study your repository and try to contribute something."}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689526406,"creation_date":1689526406,"answer_id":76699435,"question_id":76696527,"body_markdown":"Each Keycloak instance (or realm) has its own set of keys for signing JWTs. You can&#39;t use keys from Keycloak B to validate a token issued by Keycloak A, even if Keycloak A is registered as a federated identity provider in Keycloak B. When a user chooses &quot;login with Keycloak A&quot; when authenticating on Keycloak B, the token received by the client is emitted by Keycloak B.\r\n\r\nAs a I understand it, your Spring applications are resource servers (it is secured with access tokens).\r\n\r\nSpring boot default configuration is single tenant (accepts identities from a single issuer). To change that, you&#39;ll have to:\r\n- instantiate two distinct JWT decoders (one for Keycloak A issuer and another \r\n for Keycloak B issuer)\r\n- provide with a custom authentication manager which delegates to the right decoder based on the `iss` claim (Keycloak A and Keycloak B won&#39;t put the same value in the tokens they issue)\r\n\r\nComplete sample with just `spring-boot-starter-oauth2-resource-server` in [this tutorial of mine][1]. But you can achieve the same with no Java conf at all, using `spring-addons-starter-oidc`, a stater of mine which comes on top of Spring Boot &quot;official&quot; starters:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-addons-starter-oidc&lt;/artifactId&gt;\r\n    &lt;version&gt;7.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n```yaml\r\n# spring.security.oauth2.resourceserver properties fit only to single tenant scenarios (only one issuer). It is not used here.\r\n\r\nkeycloak-a: http://localhost:8442/realms/a\r\nkeycloak-b: http://localhost:8442/realms/b\r\n\r\ncom:\r\n  c4-soft:\r\n    springaddons:\r\n      oidc:\r\n        ops:\r\n        - iss: ${keycloak-a}\r\n          username-claim: preferred_username\r\n          authorities:\r\n          # map realm roles to spring authorities (you might add a prefix or case transformation with dedicated properties) \r\n          - path: $.realm_access.roles\r\n          # map roles for all clients, you might want to restrict to a single client or two\r\n          - path: $.resource_access.*.roles\r\n        - iss: ${keycloak-b}\r\n          username-claim: preferred_username\r\n          authorities:\r\n          - path: $.realm_access.roles\r\n          - path: $.resource_access.*.roles\r\n        resourceserver:\r\n          # What is not listed in &quot;permit-all&quot; requires request to be authorized\r\n          # Fine-tuned access-control with method security (&quot;@preAuthorize&quot; and alike) or a by exposing a ResourceServerExpressionInterceptUrlRegistryPostProcessor bean\r\n          permit-all:\r\n          - &quot;/actuator/health/readiness&quot;\r\n          - &quot;/actuator/health/liveness&quot;\r\n          - &quot;/v3/api-docs/**&quot;\r\n````\r\n```java\r\n@Configuration\r\n@EnableMethodSecurity()\r\npublic class SecurityConfig {\r\n}\r\n```\r\nBootiful, isn&#39;t it?\r\n\r\nThe best part being you don&#39;t have anything specific to Keycloak in your code and can switch any of the issuers to whatever OIDC authorization server you like (Auth0, Cognito, etc.) by just editing properties for authorities and username mapping.\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/servlet-resource-server","title":"Identity provider between two keycloak servers","body":"<p>Each Keycloak instance (or realm) has its own set of keys for signing JWTs. You can't use keys from Keycloak B to validate a token issued by Keycloak A, even if Keycloak A is registered as a federated identity provider in Keycloak B. When a user chooses &quot;login with Keycloak A&quot; when authenticating on Keycloak B, the token received by the client is emitted by Keycloak B.</p>\n<p>As a I understand it, your Spring applications are resource servers (it is secured with access tokens).</p>\n<p>Spring boot default configuration is single tenant (accepts identities from a single issuer). To change that, you'll have to:</p>\n<ul>\n<li>instantiate two distinct JWT decoders (one for Keycloak A issuer and another\nfor Keycloak B issuer)</li>\n<li>provide with a custom authentication manager which delegates to the right decoder based on the <code>iss</code> claim (Keycloak A and Keycloak B won't put the same value in the tokens they issue)</li>\n</ul>\n<p>Complete sample with just <code>spring-boot-starter-oauth2-resource-server</code> in <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/servlet-resource-server\" rel=\"nofollow noreferrer\">this tutorial of mine</a>. But you can achieve the same with no Java conf at all, using <code>spring-addons-starter-oidc</code>, a stater of mine which comes on top of Spring Boot &quot;official&quot; starters:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-addons-starter-oidc&lt;/artifactId&gt;\n    &lt;version&gt;7.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-yaml prettyprint-override\"><code># spring.security.oauth2.resourceserver properties fit only to single tenant scenarios (only one issuer). It is not used here.\n\nkeycloak-a: http://localhost:8442/realms/a\nkeycloak-b: http://localhost:8442/realms/b\n\ncom:\n  c4-soft:\n    springaddons:\n      oidc:\n        ops:\n        - iss: ${keycloak-a}\n          username-claim: preferred_username\n          authorities:\n          # map realm roles to spring authorities (you might add a prefix or case transformation with dedicated properties) \n          - path: $.realm_access.roles\n          # map roles for all clients, you might want to restrict to a single client or two\n          - path: $.resource_access.*.roles\n        - iss: ${keycloak-b}\n          username-claim: preferred_username\n          authorities:\n          - path: $.realm_access.roles\n          - path: $.resource_access.*.roles\n        resourceserver:\n          # What is not listed in &quot;permit-all&quot; requires request to be authorized\n          # Fine-tuned access-control with method security (&quot;@preAuthorize&quot; and alike) or a by exposing a ResourceServerExpressionInterceptUrlRegistryPostProcessor bean\n          permit-all:\n          - &quot;/actuator/health/readiness&quot;\n          - &quot;/actuator/health/liveness&quot;\n          - &quot;/v3/api-docs/**&quot;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableMethodSecurity()\npublic class SecurityConfig {\n}\n</code></pre>\n<p>Bootiful, isn't it?</p>\n<p>The best part being you don't have anything specific to Keycloak in your code and can switch any of the issuers to whatever OIDC authorization server you like (Auth0, Cognito, etc.) by just editing properties for authorities and username mapping.</p>\n"}],"owner":{"account_id":7869251,"reputation":681,"user_id":6034820,"accept_rate":89,"display_name":"Max Ferreira"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":554,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76699435,"answer_count":1,"score":0,"last_activity_date":1689526406,"creation_date":1689476746,"question_id":76696527,"body_markdown":"I have the following scenario:\r\n**Keycloak A**\r\n**Keycloak B**\r\n\r\n**Keycloak A** is being used in a spring boot application for authentication.\r\n\r\n**Keycloak B** is being used in a spring boot application for authentication.\r\n\r\nI would like the users (JWT) of Keycloak A to be able to access the endpoint of the application being managed by keycloak B.\r\n\r\nWhat I did and it didn&#39;t work:\r\nIn keycloak B I created an Identity provider.\r\n*http://localhost:8083/auth/realms/master/broker/oidc/endpoint*\r\n\r\nI added the fields with the keycloak A data:\r\n\r\n**Authorization URL**\r\n\r\n**Token URL**\r\n\r\n**Client Authentication** : Client secret sent as post\r\n\r\n**Client ID**\r\n\r\n**client secret**\r\n\r\n\r\nIn keycloak A I created a client and put the \r\n\r\n**Access Type**: confidential\r\n\r\n**Valid Redirect URIs**: *http://localhost:8083/auth/realms/master/broker/keycloak-oidc/endpoint*\r\n\r\nIn Credential I put Client Authenticator and generated the key.\r\n\r\n\r\nWhen I generate a token in keycloak A and try to access the endpoints of the application that is in keycloak B, it generates the following error:\r\n\r\n```\r\n Signed JWT rejected: Another algorithm expected, or no matching key(s) found\r\n```\r\n\r\nWhat am I forgetting to do?\r\n\r\n","title":"Identity provider between two keycloak servers","body":"<p>I have the following scenario:\n<strong>Keycloak A</strong>\n<strong>Keycloak B</strong></p>\n<p><strong>Keycloak A</strong> is being used in a spring boot application for authentication.</p>\n<p><strong>Keycloak B</strong> is being used in a spring boot application for authentication.</p>\n<p>I would like the users (JWT) of Keycloak A to be able to access the endpoint of the application being managed by keycloak B.</p>\n<p>What I did and it didn't work:\nIn keycloak B I created an Identity provider.\n<em>http://localhost:8083/auth/realms/master/broker/oidc/endpoint</em></p>\n<p>I added the fields with the keycloak A data:</p>\n<p><strong>Authorization URL</strong></p>\n<p><strong>Token URL</strong></p>\n<p><strong>Client Authentication</strong> : Client secret sent as post</p>\n<p><strong>Client ID</strong></p>\n<p><strong>client secret</strong></p>\n<p>In keycloak A I created a client and put the</p>\n<p><strong>Access Type</strong>: confidential</p>\n<p><strong>Valid Redirect URIs</strong>: <em>http://localhost:8083/auth/realms/master/broker/keycloak-oidc/endpoint</em></p>\n<p>In Credential I put Client Authenticator and generated the key.</p>\n<p>When I generate a token in keycloak A and try to access the endpoints of the application that is in keycloak B, it generates the following error:</p>\n<pre><code> Signed JWT rejected: Another algorithm expected, or no matching key(s) found\n</code></pre>\n<p>What am I forgetting to do?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689525482,"creation_date":1689525165,"answer_id":76699342,"question_id":76699008,"body_markdown":"I am sorry to inform you that there are no APIs that can check if a given entity is loaded from L1 cache , L2 cache or DB.\r\n\r\nThe most you can do is verify it from the log which configure the following loggers &#39;s logging levels : \r\n\r\n- `org.hibernate.event.internal.DefaultLoadEventListener` to `trace` level\r\n- `org.hibernate.SQL` to `debug` level \r\n\r\nIf the entity is loaded from DB , it will log out the SQL that is used to fetch this entity and :\r\n\r\n``` log\r\n Object not resolved in any cache: [org.foo.bar.#1]\r\n```\r\n\r\nIf the entity is loaded from L2 cache , it will log out :\r\n```\r\nResolved object in second-level cache:[org.foo.bar.#1]\r\n```\r\n\r\nIf none of the above are logged , it means the entity is loaded from L1 cache.","title":"How to check if Hibernate is getting an object from the L1 cache?","body":"<p>I am sorry to inform you that there are no APIs that can check if a given entity is loaded from L1 cache , L2 cache or DB.</p>\n<p>The most you can do is verify it from the log which configure the following loggers 's logging levels :</p>\n<ul>\n<li><code>org.hibernate.event.internal.DefaultLoadEventListener</code> to <code>trace</code> level</li>\n<li><code>org.hibernate.SQL</code> to <code>debug</code> level</li>\n</ul>\n<p>If the entity is loaded from DB , it will log out the SQL that is used to fetch this entity and :</p>\n<pre><code> Object not resolved in any cache: [org.foo.bar.#1]\n</code></pre>\n<p>If the entity is loaded from L2 cache , it will log out :</p>\n<pre><code>Resolved object in second-level cache:[org.foo.bar.#1]\n</code></pre>\n<p>If none of the above are logged , it means the entity is loaded from L1 cache.</p>\n"}],"owner":{"account_id":95140,"reputation":7103,"user_id":259288,"accept_rate":77,"display_name":"Johnny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76699342,"answer_count":1,"score":1,"last_activity_date":1689525482,"creation_date":1689520841,"question_id":76699008,"body_markdown":"I have a legacy application which in various places calls `repository.findById(...)` in a loop. This results in hundreds of calls to the database. Since Hibernate loads all entities into the L1 cache by default I thought I could fix this performance issue by calling `repository.findByIdIn(...)` before the loop and so save the repeated database calls. But I can&#39;t find a way to find if the entities were returned from the DB or the cache. Any ideas?","title":"How to check if Hibernate is getting an object from the L1 cache?","body":"<p>I have a legacy application which in various places calls <code>repository.findById(...)</code> in a loop. This results in hundreds of calls to the database. Since Hibernate loads all entities into the L1 cache by default I thought I could fix this performance issue by calling <code>repository.findByIdIn(...)</code> before the loop and so save the repeated database calls. But I can't find a way to find if the entities were returned from the DB or the cache. Any ideas?</p>\n"},{"tags":["java","android","android-studio","android-activity","android-manifest"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1689505705,"post_id":76697499,"comment_id":135220294,"body_markdown":"Consider moving the `listS` lifecycle to either a [singleton](https://stackoverflow.com/search?q=%5Bandroid%5D+singleton) class or the [application](https://stackoverflow.com/search?q=%5Bandroid%5D%5Bapplication-lifecycle%5D+application+class) class accessible to any activity.","body":"Consider moving the <code>listS</code> lifecycle to either a <a href=\"https://stackoverflow.com/search?q=%5Bandroid%5D+singleton\">singleton</a> class or the <a href=\"https://stackoverflow.com/search?q=%5Bandroid%5D%5Bapplication-lifecycle%5D+application+class\">application</a> class accessible to any activity."}],"answers":[{"tags":[],"owner":{"account_id":18858502,"reputation":325,"user_id":13755907,"display_name":"basileus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689525110,"creation_date":1689525110,"answer_id":76699333,"question_id":76697499,"body_markdown":"I do not know what your ModelClass exactly is. But if you can make it Parcelable or Serializable then you can simply use Bundle to send the data (listS) to the new Activity. You should do it like this:\r\n\r\nin **SplashActicity**:\r\n\r\n       new Handler().postDelayed(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            Intent intent = new Intent(SplashActivity.this, DashboardActivity.class);\r\n            Bundle extras = new Bundle();\r\n            extras.putParcelableArrayList(YOUR_KEY, listS); // or putSerializable instead if ModelClass can implement Serializable\r\n            intent.putExtras(extras);\r\n            startActivity(intent);\r\n        }\r\n       }\r\n\r\nthen in **DashboardActivity**:\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_dashboard);\r\n\r\n    if (savedInstanceState != null) {\r\n        listS = savedInstanceState.getParcelableArrayList(YOUR_KEY); // or getSerializable instead you used putSerializable\r\n    }\r\n\r\n    Hooks();\r\n    allQuestionsList=listS;\r\n    Collections.shuffle(allQuestionsList);\r\n    modelClass = listS.get(index);\r\n\r\n    setAllData();\r\n\r\n\r\n","title":"How I can pass list from activity to another activity?","body":"<p>I do not know what your ModelClass exactly is. But if you can make it Parcelable or Serializable then you can simply use Bundle to send the data (listS) to the new Activity. You should do it like this:</p>\n<p>in <strong>SplashActicity</strong>:</p>\n<pre><code>   new Handler().postDelayed(new Runnable() {\n    @Override\n    public void run() {\n        Intent intent = new Intent(SplashActivity.this, DashboardActivity.class);\n        Bundle extras = new Bundle();\n        extras.putParcelableArrayList(YOUR_KEY, listS); // or putSerializable instead if ModelClass can implement Serializable\n        intent.putExtras(extras);\n        startActivity(intent);\n    }\n   }\n</code></pre>\n<p>then in <strong>DashboardActivity</strong>:</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_dashboard);\n\nif (savedInstanceState != null) {\n    listS = savedInstanceState.getParcelableArrayList(YOUR_KEY); // or getSerializable instead you used putSerializable\n}\n\nHooks();\nallQuestionsList=listS;\nCollections.shuffle(allQuestionsList);\nmodelClass = listS.get(index);\n\nsetAllData();\n</code></pre>\n"}],"owner":{"account_id":29027009,"reputation":1,"user_id":22234927,"display_name":"Igal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689525110,"creation_date":1689499059,"question_id":76697499,"body_markdown":"I&#39;m new to Android Studio and try to develop my first application.\r\n\r\nI have 3 activities MainActivity, DashboardActivity, and SplashActivity.\r\n\r\n**DashboardActivity -**\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_dashboard);\r\n\r\n        Hooks();\r\n        allQuestionsList=listS;\r\n        Collections.shuffle(allQuestionsList);\r\n        modelClass = listS.get(index);\r\n\r\n        setAllData();\r\n  }\r\n\r\n**SplashActivity-**\r\n\r\n``` \r\npublic class SplashActivity extends AppCompatActivity {\r\npublic static ArrayList&lt;ModelClass&gt; listS;\r\n\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.splash_activity_main);\r\n\r\n    listS = new ArrayList&lt;&gt;();\r\n    listS.add(new ModelClass(&quot;here is the question&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;answer&quot;));\r\n    listS.add(new ModelClass(&quot;Under-inflated tires increase fuel consumption. A single tire under-inflated by 56 kpa (8 psi) can increase fuel consumption by?&quot;, &quot;25 per cent&quot;, &quot;15 per cent&quot;, &quot;Seven per cent&quot;, &quot;Four per cent&quot;, &quot;Four per cent&quot;));\r\n    listS.add(new ModelClass(&quot;You are not allowed to park a vehicle within _____________ of a pedestrian corridor&quot;, &quot;9 metres&quot;, &quot;3 metres&quot;, &quot;30 metres&quot;, &quot;15 metres&quot;, &quot;15 metres&quot;));\r\n    listS.add(new ModelClass(&quot;What class licence permits the holder to operate a motorcycle?&quot;, &quot;Class 4&quot;, &quot;Class 1&quot;, &quot;Class 6&quot;, &quot;Class 5&quot;, &quot;Class 6&quot;));\r\n    listS.add(new ModelClass(&quot;Seatbelts must be worn by all drivers and passengers:&quot;, &quot;Only when driving in the city&quot;, &quot;Only when carrying passengers&quot;, &quot;All the time unless exempted by law&quot;, &quot;Only when driving on the highway&quot;, &quot;All the time unless exempted by law&quot;));\r\n\r\n    new Handler().postDelayed(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            Intent intent = new Intent(SplashActivity.this, DashboardActivity.class);\r\n            startActivity(intent);\r\n        }\r\n    }, 1500);\r\n}\r\n\r\n```\r\n&lt;br&gt;\r\n\r\nThis is my AndroidManifest-\r\n\r\n    &lt;application\r\n    android:allowBackup=&quot;true&quot;\r\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n    android:icon=&quot;@drawable/mainscreenlogo&quot;\r\n    android:label=&quot;@string/app_name&quot;\r\n    android:supportsRtl=&quot;true&quot;\r\n    android:theme=&quot;@style/Theme.QuizTheoryApplication&quot;\r\n    tools:targetApi=&quot;31&quot;&gt;\r\n\r\n    &lt;activity\r\n        android:name=&quot;.example.QuizTheoryApplication.MainActivity&quot;\r\n        android:exported=&quot;true&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n\r\n    &lt;activity\r\n        android:name=&quot;.example.QuizTheoryApplication.DashboardActivity&quot;\r\n        android:label=&quot;Preferences&quot;\r\n        android:exported=&quot;true&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;com.iphonik.chameleon.AppPreferenceActivity&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n\r\n    &lt;activity\r\n        android:name=&quot;.example.QuizTheoryApplication.SplashActivity&quot;\r\n        android:label=&quot;Preferences&quot;\r\n        android:exported=&quot;true&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;com.iphonik.chameleon.AppPreferenceActivity&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n\r\n&lt;/application&gt;\r\n\r\n\r\nThe problem is that my Splash Activity doesn&#39;t run and of course, the list is always empty. I&#39;ve tried to add in Dashboard activity but without success -\r\n\r\n```\r\nnew Handler().postDelayed(new Runnable() \r\n{ @Override public void run() \r\n{ Intent intent = new Intent(DashboardActivity.this, SplashActivity.class); startActivity(intent); } }, 1500);\r\n\r\n```\r\n\r\nI&#39;m also tried to use `intent.putStringArrayListExtra(&quot;list&quot;, listS);` &lt;br&gt;\r\n\r\nand `ArrayList&lt;String&gt; receivedList = getIntent().getStringArrayListExtra(&quot;list&quot;)` &lt;br&gt;\r\nBut without any success. I would be very happy to help on this matter. Thanks","title":"How I can pass list from activity to another activity?","body":"<p>I'm new to Android Studio and try to develop my first application.</p>\n<p>I have 3 activities MainActivity, DashboardActivity, and SplashActivity.</p>\n<p><strong>DashboardActivity -</strong></p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_dashboard);\n\n    Hooks();\n    allQuestionsList=listS;\n    Collections.shuffle(allQuestionsList);\n    modelClass = listS.get(index);\n\n    setAllData();\n</code></pre>\n<p>}</p>\n<p><strong>SplashActivity-</strong></p>\n<pre><code>public class SplashActivity extends AppCompatActivity {\npublic static ArrayList&lt;ModelClass&gt; listS;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.splash_activity_main);\n\n    listS = new ArrayList&lt;&gt;();\n    listS.add(new ModelClass(&quot;here is the question&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;answer&quot;));\n    listS.add(new ModelClass(&quot;Under-inflated tires increase fuel consumption. A single tire under-inflated by 56 kpa (8 psi) can increase fuel consumption by?&quot;, &quot;25 per cent&quot;, &quot;15 per cent&quot;, &quot;Seven per cent&quot;, &quot;Four per cent&quot;, &quot;Four per cent&quot;));\n    listS.add(new ModelClass(&quot;You are not allowed to park a vehicle within _____________ of a pedestrian corridor&quot;, &quot;9 metres&quot;, &quot;3 metres&quot;, &quot;30 metres&quot;, &quot;15 metres&quot;, &quot;15 metres&quot;));\n    listS.add(new ModelClass(&quot;What class licence permits the holder to operate a motorcycle?&quot;, &quot;Class 4&quot;, &quot;Class 1&quot;, &quot;Class 6&quot;, &quot;Class 5&quot;, &quot;Class 6&quot;));\n    listS.add(new ModelClass(&quot;Seatbelts must be worn by all drivers and passengers:&quot;, &quot;Only when driving in the city&quot;, &quot;Only when carrying passengers&quot;, &quot;All the time unless exempted by law&quot;, &quot;Only when driving on the highway&quot;, &quot;All the time unless exempted by law&quot;));\n\n    new Handler().postDelayed(new Runnable() {\n        @Override\n        public void run() {\n            Intent intent = new Intent(SplashActivity.this, DashboardActivity.class);\n            startActivity(intent);\n        }\n    }, 1500);\n}\n\n</code></pre>\n<br>\n<p>This is my AndroidManifest-</p>\n<pre><code>&lt;application\nandroid:allowBackup=&quot;true&quot;\nandroid:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\nandroid:fullBackupContent=&quot;@xml/backup_rules&quot;\nandroid:icon=&quot;@drawable/mainscreenlogo&quot;\nandroid:label=&quot;@string/app_name&quot;\nandroid:supportsRtl=&quot;true&quot;\nandroid:theme=&quot;@style/Theme.QuizTheoryApplication&quot;\ntools:targetApi=&quot;31&quot;&gt;\n\n&lt;activity\n    android:name=&quot;.example.QuizTheoryApplication.MainActivity&quot;\n    android:exported=&quot;true&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n\n&lt;activity\n    android:name=&quot;.example.QuizTheoryApplication.DashboardActivity&quot;\n    android:label=&quot;Preferences&quot;\n    android:exported=&quot;true&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;com.iphonik.chameleon.AppPreferenceActivity&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n\n&lt;activity\n    android:name=&quot;.example.QuizTheoryApplication.SplashActivity&quot;\n    android:label=&quot;Preferences&quot;\n    android:exported=&quot;true&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;com.iphonik.chameleon.AppPreferenceActivity&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n\n<p>The problem is that my Splash Activity doesn't run and of course, the list is always empty. I've tried to add in Dashboard activity but without success -</p>\n<pre><code>new Handler().postDelayed(new Runnable() \n{ @Override public void run() \n{ Intent intent = new Intent(DashboardActivity.this, SplashActivity.class); startActivity(intent); } }, 1500);\n\n</code></pre>\n<p>I'm also tried to use <code>intent.putStringArrayListExtra(&quot;list&quot;, listS);</code> <br></p>\n<p>and <code>ArrayList&lt;String&gt; receivedList = getIntent().getStringArrayListExtra(&quot;list&quot;)</code> <br>\nBut without any success. I would be very happy to help on this matter. Thanks</p>\n"},{"tags":["java","google-sheets-api"],"answers":[{"tags":[],"owner":{"account_id":7941028,"reputation":6743,"user_id":5995040,"display_name":"Mr.Rebot"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1472282030,"creation_date":1472282030,"answer_id":39178504,"question_id":39157055,"body_markdown":"Find text is not yet available for Google Sheet API. Please star this [issue tracker FR][1] to get notified on any updates. \r\n\r\nA workaround based on this SO [answer][2], &quot;You can get the data for the range you are searching on, and then iterate over it looking for a match. &quot;\r\nHere is his code snippet:\r\n\r\n    /**\r\n    * Finds a value within a given range. \r\n    * @param value The value to find.\r\n    * @param range The range to search in.\r\n    * @return A range pointing to the first cell containing the value, \r\n    * or null if not found.\r\n    */\r\n    function find(value, range) {\r\n    var data = range.getValues();\r\n    for (var i = 0; i &lt; data.length; i++) {\r\n    for (var j = 0; j &lt; data[i].length; j++) {\r\n    if (data[i][j] == value) {\r\n    return range.getCell(i + 1, j + 1);\r\n    }\r\n    }\r\n    }\r\n    return null;\r\n    }\r\n\r\n*NOTE*: Code sample is in google-apps-script\r\n\r\nLike in this code snippet, you will need to set the range first, then check if value will match inside the range.\r\n\r\n\r\n[1]: https://code.google.com/p/google-apps-script-issues/issues/detail?id=3362\r\n[2]: https://stackoverflow.com/a/10823543/5995040","title":"How to find a value (row and column number) in range of Google spreadsheet using API?","body":"<p>Find text is not yet available for Google Sheet API. Please star this <a href=\"https://code.google.com/p/google-apps-script-issues/issues/detail?id=3362\" rel=\"nofollow noreferrer\">issue tracker FR</a> to get notified on any updates. </p>\n\n<p>A workaround based on this SO <a href=\"https://stackoverflow.com/a/10823543/5995040\">answer</a>, \"You can get the data for the range you are searching on, and then iterate over it looking for a match. \"\nHere is his code snippet:</p>\n\n<pre><code>/**\n* Finds a value within a given range. \n* @param value The value to find.\n* @param range The range to search in.\n* @return A range pointing to the first cell containing the value, \n* or null if not found.\n*/\nfunction find(value, range) {\nvar data = range.getValues();\nfor (var i = 0; i &lt; data.length; i++) {\nfor (var j = 0; j &lt; data[i].length; j++) {\nif (data[i][j] == value) {\nreturn range.getCell(i + 1, j + 1);\n}\n}\n}\nreturn null;\n}\n</code></pre>\n\n<p><em>NOTE</em>: Code sample is in google-apps-script</p>\n\n<p>Like in this code snippet, you will need to set the range first, then check if value will match inside the range.</p>\n"},{"comments":[{"owner":{"account_id":4861399,"reputation":109,"user_id":3920899,"accept_rate":17,"display_name":"Harshit"},"score":1,"creation_date":1541572697,"post_id":39846744,"comment_id":93258669,"body_markdown":"@user6889641 can you give a brief example as I checked the response does not contain the string found. It returns only the number if replacements were done if mentioned in the request. As per https://developers.google.com/sheets/api/guides/batchupdate example, it works only for replacing a string. I want the whole ROW to be fetched if the string is found.","body":"@user6889641 can you give a brief example as I checked the response does not contain the string found. It returns only the number if replacements were done if mentioned in the request. As per <a href=\"https://developers.google.com/sheets/api/guides/batchupdate\" rel=\"nofollow noreferrer\">developers.google.com/sheets/api/guides/batchupdate</a> example, it works only for replacing a string. I want the whole ROW to be fetched if the string is found."}],"tags":[],"owner":{"display_name":"user6889641"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1475566762,"creation_date":1475566762,"answer_id":39846744,"question_id":39157055,"body_markdown":"According to the [documentation][1], you can  find the value using : `FindReplaceRequest()` and `.getFind();`\r\n\r\n \r\n\r\n  \r\n    String cellReq = (new FindReplaceRequest().setFind(&quot;samuel&quot;)).getFind();\r\n\r\n\r\n  [1]: https://developers.google.com/sheets/reference/rest/v4/spreadsheets/request#findreplacerequest\r\n\r\n","title":"How to find a value (row and column number) in range of Google spreadsheet using API?","body":"<p>According to the <a href=\"https://developers.google.com/sheets/reference/rest/v4/spreadsheets/request#findreplacerequest\" rel=\"nofollow\">documentation</a>, you can  find the value using : <code>FindReplaceRequest()</code> and <code>.getFind();</code></p>\n\n<pre><code>String cellReq = (new FindReplaceRequest().setFind(\"samuel\")).getFind();\n</code></pre>\n"}],"owner":{"account_id":9029901,"reputation":18061,"user_id":6727914,"accept_rate":52,"display_name":"TSR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3933,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":39846744,"answer_count":2,"score":0,"last_activity_date":1689524957,"creation_date":1472174745,"question_id":39157055,"body_markdown":"I am using the Java API (V4) to read and edit the data from a Google sheet. So far, I am able to read and edit the data based on the row and column number (index). \r\n\r\n - \r\n**What I am want to do is to localise a data by its specific value (I want to get the row and the column number of a specific cell using its value).** \r\n\r\nSo far this is a part of the working code I used to edit the data: \r\n\r\n  \r\n\r\n      // Copy the format from A1:C1 and paste it into A2:C5, so the data in \r\n    // each column has the same background. \t\t\t\r\n    requests.add(new Request()\r\n        \t\t\t\t\t.setCopyPaste(new CopyPasteRequest()\r\n        \t\t\t\t\t\t\t.setSource(new GridRange()\r\n        \t\t\t\t\t\t\t\t\t.setSheetId(0)\r\n        \t\t\t\t\t\t\t\t\t.setStartRowIndex(0)\r\n        \t\t\t\t\t\t\t\t\t.setEndRowIndex(1)\r\n        \t\t\t\t\t\t\t\t\t.setStartColumnIndex(0)\r\n        \t\t\t\t\t\t\t\t\t.setEndColumnIndex(3))\r\n        \t\t\t\t\t\t\t.setDestination(new GridRange()\r\n        \t\t\t\t\t\t\t\t\t.setSheetId(0)\r\n        \t\t\t\t\t\t\t\t\t.setStartRowIndex(1)\r\n        \t\t\t\t\t\t\t\t\t.setEndRowIndex(6)\r\n        \t\t\t\t\t\t\t\t\t.setStartColumnIndex(0)\r\n        \t\t\t\t\t\t\t\t\t.setEndColumnIndex(3))\r\n        \t\t\t\t\t\t\t.setPasteType(&quot;PASTE_FORMAT&quot;)));\r\n        \r\n        \t\t\tBatchUpdateSpreadsheetRequest batchUpdateRequest = new BatchUpdateSpreadsheetRequest()\r\n        \t\t\t\t\t.setRequests(requests);\r\n\r\nCan anyone please help me?\r\n\r\n\r\n","title":"How to find a value (row and column number) in range of Google spreadsheet using API?","body":"<p>I am using the Java API (V4) to read and edit the data from a Google sheet. So far, I am able to read and edit the data based on the row and column number (index).</p>\n<p>-\n<strong>What I am want to do is to localise a data by its specific value (I want to get the row and the column number of a specific cell using its value).</strong></p>\n<p>So far this is a part of the working code I used to edit the data:</p>\n<pre><code>  // Copy the format from A1:C1 and paste it into A2:C5, so the data in \n// each column has the same background.             \nrequests.add(new Request()\n                        .setCopyPaste(new CopyPasteRequest()\n                                .setSource(new GridRange()\n                                        .setSheetId(0)\n                                        .setStartRowIndex(0)\n                                        .setEndRowIndex(1)\n                                        .setStartColumnIndex(0)\n                                        .setEndColumnIndex(3))\n                                .setDestination(new GridRange()\n                                        .setSheetId(0)\n                                        .setStartRowIndex(1)\n                                        .setEndRowIndex(6)\n                                        .setStartColumnIndex(0)\n                                        .setEndColumnIndex(3))\n                                .setPasteType(&quot;PASTE_FORMAT&quot;)));\n    \n                BatchUpdateSpreadsheetRequest batchUpdateRequest = new BatchUpdateSpreadsheetRequest()\n                        .setRequests(requests);\n</code></pre>\n<p>Can anyone please help me?</p>\n"},{"tags":["java","spring-boot","maven","pom.xml"],"comments":[{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1689260228,"post_id":76678665,"comment_id":135191132,"body_markdown":"Refer: https://maven.apache.org/guides/introduction/introduction-to-profiles.html","body":"Refer: <a href=\"https://maven.apache.org/guides/introduction/introduction-to-profiles.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689524459,"creation_date":1689524459,"answer_id":76699282,"question_id":76678665,"body_markdown":"Instead of \r\n\r\n     &lt;skip&gt;true&lt;/skip&gt;\r\n\r\nTry\r\n\r\n    &lt;skip&gt;${maven.exec.skip}&lt;/skip&gt;","title":"How to skip the properties from pom.xml","body":"<p>Instead of</p>\n<pre><code> &lt;skip&gt;true&lt;/skip&gt;\n</code></pre>\n<p>Try</p>\n<pre><code>&lt;skip&gt;${maven.exec.skip}&lt;/skip&gt;\n</code></pre>\n"}],"owner":{"account_id":20401712,"reputation":13,"user_id":14967286,"display_name":"vaishnavi banait"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689524459,"creation_date":1689246341,"question_id":76678665,"body_markdown":"I want to set properties value true in pom.xml and false into the script-\r\npom.xml-\r\n\r\n   \r\n\r\n      &lt;properties&gt;\r\n                &lt;swagger.codegen.plugin.version&gt;3.0.0-rc0&lt;/swagger.codegen.plugin.version&gt;`enter code here`\r\n                &lt;swagger.codegen.plugin.version&gt;3.0.3&lt;/swagger.codegen.plugin.version&gt;\r\n                &lt;swagger.codegen.generators.version&gt;1.0.3&lt;/swagger.codegen.generators.version&gt;\r\n                &lt;swagger.lang&gt;jaxrs-jersey&lt;/swagger.lang&gt;\r\n            &lt;/properties&gt;\r\n\r\ncheck.sh-\r\n\r\n \r\n\r\n    mvn validate -Dmaven.exec.skip -DskipTests -P copyright,license\r\nI have added skip tag but its not working for this plugins\r\n\r\n    &lt;plugin&gt;\r\n                &lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\r\n                &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${swagger.codegen.plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;generate-folder-pojo&lt;/id&gt;\r\n                        &lt;phase&gt;validate&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;skip&gt;true&lt;/skip&gt;\r\n                            &lt;inputSpec&gt;${swagger.inputSpec}/folder_definition.json&lt;/inputSpec&gt;\r\n                            &lt;language&gt;${swagger.lang}&lt;/language&gt;\r\n                            &lt;templateDirectory&gt;${swagger.api}/template&lt;/templateDirectory&gt;\r\n                            &lt;verbose&gt;false&lt;/verbose&gt;\r\n                      \r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;","title":"How to skip the properties from pom.xml","body":"<p>I want to set properties value true in pom.xml and false into the script-\npom.xml-</p>\n<pre><code>  &lt;properties&gt;\n            &lt;swagger.codegen.plugin.version&gt;3.0.0-rc0&lt;/swagger.codegen.plugin.version&gt;`enter code here`\n            &lt;swagger.codegen.plugin.version&gt;3.0.3&lt;/swagger.codegen.plugin.version&gt;\n            &lt;swagger.codegen.generators.version&gt;1.0.3&lt;/swagger.codegen.generators.version&gt;\n            &lt;swagger.lang&gt;jaxrs-jersey&lt;/swagger.lang&gt;\n        &lt;/properties&gt;\n</code></pre>\n<p>check.sh-</p>\n<pre><code>mvn validate -Dmaven.exec.skip -DskipTests -P copyright,license\n</code></pre>\n<p>I have added skip tag but its not working for this plugins</p>\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${swagger.codegen.plugin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;generate-folder-pojo&lt;/id&gt;\n                    &lt;phase&gt;validate&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;skip&gt;true&lt;/skip&gt;\n                        &lt;inputSpec&gt;${swagger.inputSpec}/folder_definition.json&lt;/inputSpec&gt;\n                        &lt;language&gt;${swagger.lang}&lt;/language&gt;\n                        &lt;templateDirectory&gt;${swagger.api}/template&lt;/templateDirectory&gt;\n                        &lt;verbose&gt;false&lt;/verbose&gt;\n                  \n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","temporal-workflow"],"answers":[{"tags":[],"owner":{"account_id":1715841,"reputation":61,"user_id":1572920,"display_name":"tsurdilovic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689523966,"creation_date":1689523966,"answer_id":76699255,"question_id":76578061,"body_markdown":"Sounds like you are invoking activity from signal handler that terminates the workflow execution (guess you check if it exists first too?).\r\n\r\nThink would be better to start child execution in cancellation scope and on signal cancel the scope (cancel child if running allowing it to do cleanup if needed) and then invoke it again if needed. See sample [here][1] if that helps.\r\n\r\n\r\n  [1]: https://github.com/temporalio/samples-java/blob/main/core/src/main/java/io/temporal/samples/hello/HelloCancellationScope.java","title":"Starting Child workflow from Signal in Temporal","body":"<p>Sounds like you are invoking activity from signal handler that terminates the workflow execution (guess you check if it exists first too?).</p>\n<p>Think would be better to start child execution in cancellation scope and on signal cancel the scope (cancel child if running allowing it to do cleanup if needed) and then invoke it again if needed. See sample <a href=\"https://github.com/temporalio/samples-java/blob/main/core/src/main/java/io/temporal/samples/hello/HelloCancellationScope.java\" rel=\"nofollow noreferrer\">here</a> if that helps.</p>\n"}],"owner":{"account_id":3381392,"reputation":998,"user_id":2838372,"accept_rate":35,"display_name":"aravind"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689523966,"creation_date":1688012945,"question_id":76578061,"body_markdown":"I have a set up which creates one parent workflow and then creates a child workflow from it.\r\n\r\nNow I have a requirement to reset the child workflow on certain action(let us say an event). By the time action being performed , child workflow can be active or in completed state.\r\n\r\nSolution I have done.\r\n\r\nI am signalling Parent workflow on the event and in the signal , I am terminating child workflow if exists and re-creating the new child workflow . I have tested it seems working fine… Want to know if this is correct approach or is these any better way to solve the problem…\r\n\r\nI am using java-sdk","title":"Starting Child workflow from Signal in Temporal","body":"<p>I have a set up which creates one parent workflow and then creates a child workflow from it.</p>\n<p>Now I have a requirement to reset the child workflow on certain action(let us say an event). By the time action being performed , child workflow can be active or in completed state.</p>\n<p>Solution I have done.</p>\n<p>I am signalling Parent workflow on the event and in the signal , I am terminating child workflow if exists and re-creating the new child workflow . I have tested it seems working fine… Want to know if this is correct approach or is these any better way to solve the problem…</p>\n<p>I am using java-sdk</p>\n"},{"tags":["java","spring","eclipse","maven","spring-tool-suite"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":2,"creation_date":1687913400,"post_id":76566631,"comment_id":135002642,"body_markdown":"You can invoke the Clean Up functionality at the project or source folder level from inside the Package Explorer view to alter the Member Accesses in those sources.","body":"You can invoke the Clean Up functionality at the project or source folder level from inside the Package Explorer view to alter the Member Accesses in those sources."},{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":0,"creation_date":1689276157,"post_id":76566631,"comment_id":135194520,"body_markdown":"@nitind I&#39;m not sure I understand what to do. I go to package explorer, then right click on generated sources folder and then what? Or something else?","body":"@nitind I&#39;m not sure I understand what to do. I go to package explorer, then right click on generated sources folder and then what? Or something else?"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1689281949,"post_id":76566631,"comment_id":135195544,"body_markdown":"First, go to the **Java** -&gt; **Code Style** -&gt; **Clean Up** preference page, then when you&#39;ve right-clicked on the source folder, you&#39;ll find the **Clean Up...** action in the **Source** submenu.","body":"First, go to the <b>Java</b> -&gt; <b>Code Style</b> -&gt; <b>Clean Up</b> preference page, then when you&#39;ve right-clicked on the source folder, you&#39;ll find the <b>Clean Up...</b> action in the <b>Source</b> submenu."},{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":0,"creation_date":1689503573,"post_id":76566631,"comment_id":135220071,"body_markdown":"@nitind Finally managed to do this. Never ever heard about this cleanup option and few days ago my first attempt to configure it cause the whole project to be broken. Today I tried again and  yes, now it&#39;s working exactly as I wanted  / expected. If you put your comment as answer, I&#39;ll mark it as accepted. So far I managed to vote up for your comments :)","body":"@nitind Finally managed to do this. Never ever heard about this cleanup option and few days ago my first attempt to configure it cause the whole project to be broken. Today I tried again and  yes, now it&#39;s working exactly as I wanted  / expected. If you put your comment as answer, I&#39;ll mark it as accepted. So far I managed to vote up for your comments :)"}],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1689523528,"creation_date":1689523528,"answer_id":76699214,"question_id":76566631,"body_markdown":"This isn&#39;t perfect, as you&#39;d need to rerun it if you regenerate your sources, but you can invoke the Clean Up functionality at the project or source folder level from inside the Package Explorer view to alter the Member Accesses in those sources. First, go to the **Java** -&gt; **Code Style** -&gt; **Clean Up** preference page, then when you&#39;ve right-clicked on the source folder, you&#39;ll find the **Clean Up...** action in the **Source** submenu.","title":"Disable Eclipse to report &quot;problems&quot; on auto-generated classes (for example Q-classes)","body":"<p>This isn't perfect, as you'd need to rerun it if you regenerate your sources, but you can invoke the Clean Up functionality at the project or source folder level from inside the Package Explorer view to alter the Member Accesses in those sources. First, go to the <strong>Java</strong> -&gt; <strong>Code Style</strong> -&gt; <strong>Clean Up</strong> preference page, then when you've right-clicked on the source folder, you'll find the <strong>Clean Up...</strong> action in the <strong>Source</strong> submenu.</p>\n"},{"comments":[{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":0,"creation_date":1689633124,"post_id":76699248,"comment_id":135238562,"body_markdown":"But Maven still creates Q classes when Eclipse starts automatic rebuild.","body":"But Maven still creates Q classes when Eclipse starts automatic rebuild."},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1689659791,"post_id":76699248,"comment_id":135240912,"body_markdown":"Yes, the code keeps generating and the code still is problematic. But all the markers from Eclipse regarding this containing generated-classes are gone. You still have warnings for the classes in the `src`-folder but this Derived-flag marks the folder and all its java-files as Derived from other sources (like `src/test/java` and `src/main/java`) that are the root of the problem.","body":"Yes, the code keeps generating and the code still is problematic. But all the markers from Eclipse regarding this containing generated-classes are gone. You still have warnings for the classes in the <code>src</code>-folder but this Derived-flag marks the folder and all its java-files as Derived from other sources (like <code>src&#47;test&#47;java</code> and <code>src&#47;main&#47;java</code>) that are the root of the problem."}],"tags":[],"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689523854,"creation_date":1689523854,"answer_id":76699248,"question_id":76566631,"body_markdown":"You could mark the folder of the generated classes as `Derived`.","title":"Disable Eclipse to report &quot;problems&quot; on auto-generated classes (for example Q-classes)","body":"<p>You could mark the folder of the generated classes as <code>Derived</code>.</p>\n"}],"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76699214,"answer_count":2,"score":0,"last_activity_date":1689523854,"creation_date":1687881004,"question_id":76566631,"body_markdown":"**Spring Tool Suite 4 Version: 4.19.0.RELEASE**\r\n\r\nIs there a way to configure STS4 / Eclipse to stop generating warnings in Problems view for auto-generated classes?\r\n\r\nFor example: &quot;*Unqualified access to the field QUser._super*&quot;.\r\n\r\nI don&#39;t want to turn of this type of warnings for the whole project or workspace because I want my classes to use qualified access and that warning hepls me except on auto-generated classes.\r\n\r\nBelow you can see the plugin I use to generate Q classes:\r\n\r\n---\r\n\r\n**pom.xml**\r\n\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/com.mysema.maven/apt-maven-plugin --&gt;\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;${apt-maven-plugin.version}&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;process&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\r\n\t\t\t\t&lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sJ76G.png","title":"Disable Eclipse to report &quot;problems&quot; on auto-generated classes (for example Q-classes)","body":"<p><strong>Spring Tool Suite 4 Version: 4.19.0.RELEASE</strong></p>\n<p>Is there a way to configure STS4 / Eclipse to stop generating warnings in Problems view for auto-generated classes?</p>\n<p>For example: &quot;<em>Unqualified access to the field QUser._super</em>&quot;.</p>\n<p>I don't want to turn of this type of warnings for the whole project or workspace because I want my classes to use qualified access and that warning hepls me except on auto-generated classes.</p>\n<p>Below you can see the plugin I use to generate Q classes:</p>\n<hr />\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.mysema.maven/apt-maven-plugin --&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${apt-maven-plugin.version}&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;process&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\n                &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/sJ76G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sJ76G.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","gradle","jacoco"],"owner":{"account_id":20681699,"reputation":148,"user_id":15185138,"display_name":"Vrezh Arakelyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689522592,"creation_date":1689522592,"question_id":76699140,"body_markdown":"We have a gradle project that has the following structure\r\n\r\n    root-project\r\n    |\r\n    |\r\n    ---- core-module\r\n    |\r\n    |\r\n    ---- feature-a\r\n    |\r\n    |\r\n    ---- feature-b\r\n    |\r\n    |\r\n    ---- integration-testing\r\n\r\nThe way that the code is organized is as follows\r\n\r\n - In the core module, a list of public interfaces for the application&#39;s main functionalities is defined\r\n - Each one of the feature modules implements a subset of the interfaces defined in the core module\r\n - The integration-testing module has some tests written against the public interfaces defined in the core module\r\n\r\nThe build.gradle file of the integration-testing module looks like this\r\n\r\n    dependencies {\r\n        implementation project(&#39;:core-module&#39;)\r\n        // some other library dependencies\r\n\r\n        runtimeOnly project(&#39;:feature-a&#39;)\r\n        runtimeOnly project(&#39;:feature-b&#39;)\r\n    }\r\n\r\nThe idea is to have kind of a black-box testing setup where the test code knows only about the public interfaces and doesn&#39;t test any implementation details.\r\n \r\nThe problem that I am facing is how to properly configure a JaCoCo report that would include the percentage of the exported interfaces that are being covered.\r\nWith JaCoCo configuration looking like this\r\n```gradle\r\njacocoTestReport {\r\n    dependsOn test\r\n    reports {\r\n        xml.required = false\r\n        csv.required = false\r\n        html.outputLocation = layout.buildDirectory.dir(&#39;code-coverage&#39;)\r\n    }\r\n}\r\n\r\ntest {\r\n    // Use JUnit Platform for unit tests.\r\n    useJUnitPlatform()\r\n\r\n    // report is always generated after tests run\r\n    finalizedBy jacocoTestReport\r\n}\r\n```\r\nthe coverage report is being generated just for the classes defined in the integration-testing module, but what I want to get is the percentage of the exported public interfaces that are being covered by the tests(merging coverage results from sub-modules here would not work as the feature-a/feature-b module do not contain the required tests by themselves). \r\n\r\nIs it possible to achieve this type of coverage result with the current project structure?","title":"JaCoCo coverage configuration for a multi-module gradle project","body":"<p>We have a gradle project that has the following structure</p>\n<pre><code>root-project\n|\n|\n---- core-module\n|\n|\n---- feature-a\n|\n|\n---- feature-b\n|\n|\n---- integration-testing\n</code></pre>\n<p>The way that the code is organized is as follows</p>\n<ul>\n<li>In the core module, a list of public interfaces for the application's main functionalities is defined</li>\n<li>Each one of the feature modules implements a subset of the interfaces defined in the core module</li>\n<li>The integration-testing module has some tests written against the public interfaces defined in the core module</li>\n</ul>\n<p>The build.gradle file of the integration-testing module looks like this</p>\n<pre><code>dependencies {\n    implementation project(':core-module')\n    // some other library dependencies\n\n    runtimeOnly project(':feature-a')\n    runtimeOnly project(':feature-b')\n}\n</code></pre>\n<p>The idea is to have kind of a black-box testing setup where the test code knows only about the public interfaces and doesn't test any implementation details.</p>\n<p>The problem that I am facing is how to properly configure a JaCoCo report that would include the percentage of the exported interfaces that are being covered.\nWith JaCoCo configuration looking like this</p>\n<pre><code>jacocoTestReport {\n    dependsOn test\n    reports {\n        xml.required = false\n        csv.required = false\n        html.outputLocation = layout.buildDirectory.dir('code-coverage')\n    }\n}\n\ntest {\n    // Use JUnit Platform for unit tests.\n    useJUnitPlatform()\n\n    // report is always generated after tests run\n    finalizedBy jacocoTestReport\n}\n</code></pre>\n<p>the coverage report is being generated just for the classes defined in the integration-testing module, but what I want to get is the percentage of the exported public interfaces that are being covered by the tests(merging coverage results from sub-modules here would not work as the feature-a/feature-b module do not contain the required tests by themselves).</p>\n<p>Is it possible to achieve this type of coverage result with the current project structure?</p>\n"},{"tags":["java","swt"],"answers":[{"comments":[{"owner":{"account_id":3307569,"reputation":1709,"user_id":2781903,"accept_rate":76,"display_name":"CodeShark"},"score":0,"creation_date":1689509893,"post_id":62167615,"comment_id":135220751,"body_markdown":"This won&#39;t work. Cancelling the event has no impact at all for this. I just tested this with swt v4.29 on Windows 11 and it sounds like it never worked like this as described here: https://stackoverflow.com/questions/7740387/swt-java-how-to-prevent-window-from-resizing#comment9422674_7740773","body":"This won&#39;t work. Cancelling the event has no impact at all for this. I just tested this with swt v4.29 on Windows 11 and it sounds like it never worked like this as described here: <a href=\"https://stackoverflow.com/questions/7740387/swt-java-how-to-prevent-window-from-resizing#comment9422674_7740773\" title=\"swt java how to prevent window from resizing%23comment9422674_7740773\">stackoverflow.com/questions/7740387/&hellip;</a>"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1689521702,"post_id":62167615,"comment_id":135222199,"body_markdown":"@CodeShark Agreed, not sure if it ever worked or not. Added Shell.setMinimumSize which does the same thing and does work.","body":"@CodeShark Agreed, not sure if it ever worked or not. Added Shell.setMinimumSize which does the same thing and does work."}],"tags":[],"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1689521631,"creation_date":1591169973,"answer_id":62167615,"question_id":62162676,"body_markdown":"No, there isn&#39;t any property or anything like that to prevent the resizing.\r\n\r\nYou can use `Shell.setMinimumSize` to set a minimum width.\r\n\r\n**Update**\r\nThe following resize code from the original version of this answer doesn&#39;t work as resize is called after the window is resized\r\n\r\n    shell.addListener(SWT.Resize, event -&gt; {\r\n      Shell eventShell = (Shell)event.widget;\r\n\r\n      Point size = eventShell.getSize();\r\n\r\n      if (size.x &lt; 100 || size.y &lt; 100)\r\n       {\r\n         // Stop the resize event\r\n         event.doit = false;\r\n       }\r\n    });\r\n","title":"Minimum size of swt shell and components","body":"<p>No, there isn't any property or anything like that to prevent the resizing.</p>\n<p>You can use <code>Shell.setMinimumSize</code> to set a minimum width.</p>\n<p><strong>Update</strong>\nThe following resize code from the original version of this answer doesn't work as resize is called after the window is resized</p>\n<pre><code>shell.addListener(SWT.Resize, event -&gt; {\n  Shell eventShell = (Shell)event.widget;\n\n  Point size = eventShell.getSize();\n\n  if (size.x &lt; 100 || size.y &lt; 100)\n   {\n     // Stop the resize event\n     event.doit = false;\n   }\n});\n</code></pre>\n"}],"owner":{"account_id":14010592,"reputation":67,"user_id":10119345,"display_name":"llTtoOmMll"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62167615,"answer_count":1,"score":0,"last_activity_date":1689521631,"creation_date":1591138619,"question_id":62162676,"body_markdown":"How can I set a minimum size of the shell in swt? For example I have added a search field in my shell but I can shrink the shell almost completely and then the search field isn&#39;t completely visible. Can I change a property of the search field to stop resizing if it would be unseen?","title":"Minimum size of swt shell and components","body":"<p>How can I set a minimum size of the shell in swt? For example I have added a search field in my shell but I can shrink the shell almost completely and then the search field isn't completely visible. Can I change a property of the search field to stop resizing if it would be unseen?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":5012123,"reputation":13192,"user_id":4028085,"display_name":"brso05"},"score":3,"creation_date":1453133908,"post_id":34859322,"comment_id":57457951,"body_markdown":"You need to give the array a size...","body":"You need to give the array a size..."},{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1453134203,"post_id":34859322,"comment_id":57458129,"body_markdown":"Creating an empty array means that all slots are empty, BUT you have at least to provide the number of slots.","body":"Creating an empty array means that all slots are empty, BUT you have at least to provide the number of slots."},{"owner":{"account_id":26747,"reputation":20083,"user_id":69875,"accept_rate":100,"display_name":"Jonathan"},"score":2,"creation_date":1453134944,"post_id":34859322,"comment_id":57458571,"body_markdown":"When declaring an array, it&#39;s best practice to place the brackets directly after the type, i.e. `int[] array`.","body":"When declaring an array, it&#39;s best practice to place the brackets directly after the type, i.e. <code>int[] array</code>."},{"owner":{"account_id":7641336,"reputation":359,"user_id":5793312,"display_name":"Saif Arsalan"},"score":0,"creation_date":1453167757,"post_id":34859322,"comment_id":57473545,"body_markdown":"I want an array whose size is not constant","body":"I want an array whose size is not constant"},{"owner":{"account_id":454024,"reputation":89,"user_id":851340,"accept_rate":12,"display_name":"Rahul Gupta"},"score":0,"creation_date":1621172164,"post_id":34859322,"comment_id":119409323,"body_markdown":"https://www.tutorialcup.com/java/arrays-in-java.htm","body":"<a href=\"https://www.tutorialcup.com/java/arrays-in-java.htm\" rel=\"nofollow noreferrer\">tutorialcup.com/java/arrays-in-java.htm</a>"}],"answers":[{"tags":[],"owner":{"account_id":5012123,"reputation":13192,"user_id":4028085,"display_name":"brso05"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1545137677,"creation_date":1453133963,"answer_id":34859345,"question_id":34859322,"body_markdown":"You need to give the array a size:\r\n\r\n    public static void main(String args[])\r\n    {\r\n        int array[] = new int[4];\r\n        int number = 5, i = 0,j = 0;\r\n        while (i&lt;4){\r\n            array[i]=number;\r\n            i=i+1;\r\n        }\r\n        while (j&lt;4){\r\n            System.out.println(array[j]);\r\n            j++;\r\n        }\r\n    }","title":"I want to declare an empty array in Java and then I want do update it but the code is not working","body":"<p>You need to give the array a size:</p>\n\n<pre><code>public static void main(String args[])\n{\n    int array[] = new int[4];\n    int number = 5, i = 0,j = 0;\n    while (i&lt;4){\n        array[i]=number;\n        i=i+1;\n    }\n    while (j&lt;4){\n        System.out.println(array[j]);\n        j++;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20289,"reputation":5248,"user_id":48348,"accept_rate":82,"display_name":"Ian Grainger"},"score":0,"creation_date":1453134067,"post_id":34859367,"comment_id":57458052,"body_markdown":"&lt;1 minute too slow ;)","body":"&lt;1 minute too slow ;)"}],"tags":[],"owner":{"account_id":20289,"reputation":5248,"user_id":48348,"accept_rate":82,"display_name":"Ian Grainger"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453134036,"creation_date":1453134036,"answer_id":34859367,"question_id":34859322,"body_markdown":"You can&#39;t set a number in an arbitrary place in the array without telling the array how big it needs to be. For your example: `int[] array = new int[4];`","title":"I want to declare an empty array in Java and then I want do update it but the code is not working","body":"<p>You can't set a number in an arbitrary place in the array without telling the array how big it needs to be. For your example: <code>int[] array = new int[4];</code></p>\n"},{"comments":[{"owner":{"account_id":5378624,"reputation":8469,"user_id":4284627,"accept_rate":81,"display_name":"Donald Duck"},"score":0,"creation_date":1628759423,"post_id":34859412,"comment_id":121508861,"body_markdown":"I tried this, but I get an error saying &quot;Generic array creation&quot; when I do `SomeClass array[] = new SomeClass[4];`.","body":"I tried this, but I get an error saying &quot;Generic array creation&quot; when I do <code>SomeClass array[] = new SomeClass[4];</code>."},{"owner":{"account_id":2370868,"reputation":8183,"user_id":2075524,"accept_rate":88,"display_name":"Ross Drew"},"score":0,"creation_date":1628887198,"post_id":34859412,"comment_id":121549850,"body_markdown":"@DonaldDuck it sounds like your `SomeClass` is a generic type (e.g. `SomeClass&lt;SomeOtherClass&gt;`) which isn&#39;t supported for arrays in Java.","body":"@DonaldDuck it sounds like your <code>SomeClass</code> is a generic type (e.g. <code>SomeClass&lt;SomeOtherClass&gt;</code>) which isn&#39;t supported for arrays in Java."}],"tags":[],"owner":{"account_id":2370868,"reputation":8183,"user_id":2075524,"accept_rate":88,"display_name":"Ross Drew"},"comment_count":2,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1689520969,"creation_date":1453134164,"answer_id":34859412,"question_id":34859322,"body_markdown":"You are creating an array of zero length (no slots to put anything in)\r\n\r\n     int array[]={/*nothing in here = array with no slots*/};\r\n\r\nand then trying to assign values to array slots (which you don&#39;t have, because there are none)\r\n\r\n    array[i] = number; //array[i] = element i in the array of length 0\r\n\r\nYou need to define a larger array to fit your needs\r\n\r\n     int array[] = new int[4]; //Create an array with 4 elements [0],[1],[2] and [3] each containing an int value\r\n\r\n","title":"I want to declare an empty array in Java and then I want do update it but the code is not working","body":"<p>You are creating an array of zero length (no slots to put anything in)</p>\n<pre><code> int array[]={/*nothing in here = array with no slots*/};\n</code></pre>\n<p>and then trying to assign values to array slots (which you don't have, because there are none)</p>\n<pre><code>array[i] = number; //array[i] = element i in the array of length 0\n</code></pre>\n<p>You need to define a larger array to fit your needs</p>\n<pre><code> int array[] = new int[4]; //Create an array with 4 elements [0],[1],[2] and [3] each containing an int value\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2049107,"reputation":1803,"user_id":1828486,"accept_rate":64,"display_name":"Mage Xy"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1453134446,"creation_date":1453134446,"answer_id":34859511,"question_id":34859322,"body_markdown":"Your code compiles just fine. However, your array initialization line is wrong: \r\n\r\n    int array[]={};\r\n\r\nWhat this does is declare an array with a size equal to the number of elements in the brackets. Since there is nothing in the brackets, you&#39;re saying the size of the array is 0 - this renders the array completely useless, since now it can&#39;t store anything. \r\n\r\nInstead, you can either initialize the array right in your original line: \r\n\r\n    int array[] = { 5, 5, 5, 5 };\r\n\r\nOr you can declare the size and then populate it: \r\n\r\n    int array[] = new int[4];\r\n    // ...while loop\r\n\r\nIf you don&#39;t know the size of the array ahead of time (for example, if you&#39;re reading a file and storing the contents), you should use an `ArrayList` instead, because that&#39;s an array that grows in size dynamically as more elements are added to it (in layman&#39;s terms). ","title":"I want to declare an empty array in Java and then I want do update it but the code is not working","body":"<p>Your code compiles just fine. However, your array initialization line is wrong: </p>\n\n<pre><code>int array[]={};\n</code></pre>\n\n<p>What this does is declare an array with a size equal to the number of elements in the brackets. Since there is nothing in the brackets, you're saying the size of the array is 0 - this renders the array completely useless, since now it can't store anything. </p>\n\n<p>Instead, you can either initialize the array right in your original line: </p>\n\n<pre><code>int array[] = { 5, 5, 5, 5 };\n</code></pre>\n\n<p>Or you can declare the size and then populate it: </p>\n\n<pre><code>int array[] = new int[4];\n// ...while loop\n</code></pre>\n\n<p>If you don't know the size of the array ahead of time (for example, if you're reading a file and storing the contents), you should use an <code>ArrayList</code> instead, because that's an array that grows in size dynamically as more elements are added to it (in layman's terms). </p>\n"},{"tags":[],"owner":{"account_id":5734410,"reputation":1164,"user_id":4529026,"accept_rate":91,"display_name":"Prasad"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571404034,"creation_date":1571404034,"answer_id":58451567,"question_id":34859322,"body_markdown":"You can do some thing like this,\r\n\r\nInitialize with empty array and assign the values later\r\n\r\n    String importRt = &quot;23:43 43:34&quot;;\r\n    if(null != importRt) {\r\n                importArray = Arrays.stream(importRt.split(&quot; &quot;))\r\n                        .map(String::trim)\r\n                        .toArray(String[]::new);\r\n            }\r\n    \r\n    System.out.println(Arrays.toString(exportImportArray));\r\n\r\nHope it helps..","title":"I want to declare an empty array in Java and then I want do update it but the code is not working","body":"<p>You can do some thing like this,</p>\n\n<p>Initialize with empty array and assign the values later</p>\n\n<pre><code>String importRt = \"23:43 43:34\";\nif(null != importRt) {\n            importArray = Arrays.stream(importRt.split(\" \"))\n                    .map(String::trim)\n                    .toArray(String[]::new);\n        }\n\nSystem.out.println(Arrays.toString(exportImportArray));\n</code></pre>\n\n<p>Hope it helps..</p>\n"},{"tags":[],"owner":{"account_id":16070995,"reputation":51,"user_id":11599445,"display_name":"shantanuk100"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643430032,"creation_date":1603853411,"answer_id":64565820,"question_id":34859322,"body_markdown":"So the issue is in your array declaration you are declaring an empty array with the empty curly braces{} instead of an array that allows slots.\r\n\r\nRoughly speaking, there can be three types of inputs:\r\n\r\n 1. `int array[] = null;` - Does not point to any memory locations so is a null arrau\r\n 2. `int array[] = {}` - which is sort of equivalent to `int array[] = new int[0];`\r\n 3. `int array[] = new int[n]` where `n` is some number indicating the number of \r\nmemory locations in the array","title":"I want to declare an empty array in Java and then I want do update it but the code is not working","body":"<p>So the issue is in your array declaration you are declaring an empty array with the empty curly braces{} instead of an array that allows slots.</p>\n<p>Roughly speaking, there can be three types of inputs:</p>\n<ol>\n<li><code>int array[] = null;</code> - Does not point to any memory locations so is a null arrau</li>\n<li><code>int array[] = {}</code> - which is sort of equivalent to <code>int array[] = new int[0];</code></li>\n<li><code>int array[] = new int[n]</code> where <code>n</code> is some number indicating the number of\nmemory locations in the array</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14896954,"reputation":31,"user_id":10756971,"display_name":"Steve Jose"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1619683388,"creation_date":1619683388,"answer_id":67313347,"question_id":34859322,"body_markdown":"You can try creating new array at every iteration with a size greater than in the previous iteration.\r\ni.e.\r\n```\r\npublic class JavaConversion\r\n{\r\n    public static void main(String args[])\r\n    {\r\n        int array[]=new int[0];\r\n        int number = 5, i = 0,j = 0;\r\n        while (i&lt;4) {\r\n            array = Arrays.copyOf(array, array.length + 1);\r\n            array[i]=number;\r\n            i=i+1;\r\n        }\r\n        while (j&lt;4) {\r\n            System.out.println(array[j]);\r\n        }\r\n    }\r\n}\r\n```","title":"I want to declare an empty array in Java and then I want do update it but the code is not working","body":"<p>You can try creating new array at every iteration with a size greater than in the previous iteration.\ni.e.</p>\n<pre><code>public class JavaConversion\n{\n    public static void main(String args[])\n    {\n        int array[]=new int[0];\n        int number = 5, i = 0,j = 0;\n        while (i&lt;4) {\n            array = Arrays.copyOf(array, array.length + 1);\n            array[i]=number;\n            i=i+1;\n        }\n        while (j&lt;4) {\n            System.out.println(array[j]);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12863154,"reputation":402,"user_id":9304291,"display_name":"Marek Borecki"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635599222,"creation_date":1635599222,"answer_id":69779900,"question_id":34859322,"body_markdown":"It is better for that operation use ArrayList","title":"I want to declare an empty array in Java and then I want do update it but the code is not working","body":"<p>It is better for that operation use ArrayList</p>\n"}],"owner":{"account_id":7641336,"reputation":359,"user_id":5793312,"display_name":"Saif Arsalan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292107,"favorite_count":0,"down_vote_count":2,"up_vote_count":33,"answer_count":8,"score":31,"last_activity_date":1689520969,"creation_date":1453133823,"question_id":34859322,"body_markdown":"I want to declare an empty array in Java and then I want do update it but the code is not working.\r\n\r\n    public class JavaConversion {\r\n\r\n        public static void main(String args[]) {\r\n\t\t    int array[] = {};\r\n\t\t    int number = 5, i = 0, j = 0;\r\n\r\n\t\t    while (i &lt; 4) {\r\n\t\t\t    array[i] = number;\r\n\t\t\t    i = i + 1;\r\n\t\t    }\r\n\r\n\t\t    while (j &lt; 4) {\r\n\t\t\t    System.out.println(array[j]);\r\n\t\t    }\r\n\t    }\r\n\r\n    }","title":"I want to declare an empty array in Java and then I want do update it but the code is not working","body":"<p>I want to declare an empty array in Java and then I want do update it but the code is not working.</p>\n<pre><code>public class JavaConversion {\n\n    public static void main(String args[]) {\n        int array[] = {};\n        int number = 5, i = 0, j = 0;\n\n        while (i &lt; 4) {\n            array[i] = number;\n            i = i + 1;\n        }\n\n        while (j &lt; 4) {\n            System.out.println(array[j]);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","swing","netbeans","matisse"],"answers":[{"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1689452998,"post_id":76691897,"comment_id":135216599,"body_markdown":"I&#39;d like to stay on GroupLayout. If I place the textfields and the buttons into different JPanels I think I will loose the effect of a common text baseline across the label, the text field and the button. The question is also not how to make one textfield grow. The question is how to ensure they all grow the same way.","body":"I&#39;d like to stay on GroupLayout. If I place the textfields and the buttons into different JPanels I think I will loose the effect of a common text baseline across the label, the text field and the button. The question is also not how to make one textfield grow. The question is how to ensure they all grow the same way."}],"tags":[],"owner":{"account_id":214928,"reputation":9307,"user_id":469201,"accept_rate":67,"display_name":"davidbuzatto"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689386270,"creation_date":1689385191,"answer_id":76691897,"question_id":76685237,"body_markdown":"If you want total control of the components layout you will need to use the Null Layout. It&#39;s not recommended, since the layout managers are responsible for making yout GUI &quot;responsive&quot; when maximized, etc. When using Group Layout, the default layout manager used by Matisse, you will have these &quot;strange&quot; behaviors when setting invisible components. One way to prevent if to group your components in containers like JPanels. In your scenario, you could use a JPanel to group all your buttons. You can also change the horizontal and vertical resizability of the components. Take a look in the image. These options are highlighted in orange. The first two examples are with the horizontal resizability turned on. The third example is with this property turned off.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIn yout scenario, I would use a Grid Bag Layout and JPanels to organize my components. To change the layout manager, right click inside yout JFrame -&gt; Set Layout -&gt; Grid Bag Layout:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nTo customize it, right click -&gt; Customize Layout:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EQSlk.png\r\n  [2]: https://i.stack.imgur.com/95vm1.png\r\n  [3]: https://i.stack.imgur.com/6dsG1.png\r\n  [4]: https://i.stack.imgur.com/ds1YB.png","title":"Netbeans GUI: Matisse and component layout","body":"<p>If you want total control of the components layout you will need to use the Null Layout. It's not recommended, since the layout managers are responsible for making yout GUI &quot;responsive&quot; when maximized, etc. When using Group Layout, the default layout manager used by Matisse, you will have these &quot;strange&quot; behaviors when setting invisible components. One way to prevent if to group your components in containers like JPanels. In your scenario, you could use a JPanel to group all your buttons. You can also change the horizontal and vertical resizability of the components. Take a look in the image. These options are highlighted in orange. The first two examples are with the horizontal resizability turned on. The third example is with this property turned off.</p>\n<p><a href=\"https://i.stack.imgur.com/EQSlk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EQSlk.png\" alt=\"enter image description here\" /></a></p>\n<p>In yout scenario, I would use a Grid Bag Layout and JPanels to organize my components. To change the layout manager, right click inside yout JFrame -&gt; Set Layout -&gt; Grid Bag Layout:</p>\n<p><a href=\"https://i.stack.imgur.com/95vm1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/95vm1.png\" alt=\"enter image description here\" /></a></p>\n<p>To customize it, right click -&gt; Customize Layout:</p>\n<p><a href=\"https://i.stack.imgur.com/6dsG1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6dsG1.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ds1YB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ds1YB.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689519193,"creation_date":1689496585,"answer_id":76697354,"question_id":76685237,"body_markdown":"Meanwhile I found some [documentation][1] in the Netbeans Tutorials.\r\n\r\nThe secret is to tell Matisse how to align the components, and it cannot be done just by dragging and dropping or resizing them. So what I did was to select all the text fields (click them one by one while holding Ctrl), then press the now available &quot;Align left in column&quot; button. Finally I did the same with the buttons.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe result is what I expected to have. :-)\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://netbeans.apache.org/kb/docs/java/quickstart-gui.html#_component_alignment\r\n  [2]: https://i.stack.imgur.com/Lt6ns.png\r\n  [3]: https://i.stack.imgur.com/PBJTe.png\r\n  [4]: https://i.stack.imgur.com/OKuSC.png","title":"Netbeans GUI: Matisse and component layout","body":"<p>Meanwhile I found some <a href=\"https://netbeans.apache.org/kb/docs/java/quickstart-gui.html#_component_alignment\" rel=\"nofollow noreferrer\">documentation</a> in the Netbeans Tutorials.</p>\n<p>The secret is to tell Matisse how to align the components, and it cannot be done just by dragging and dropping or resizing them. So what I did was to select all the text fields (click them one by one while holding Ctrl), then press the now available &quot;Align left in column&quot; button. Finally I did the same with the buttons.</p>\n<p><a href=\"https://i.stack.imgur.com/Lt6ns.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lt6ns.png\" alt=\"enter image description here\" /></a></p>\n<p>The result is what I expected to have. :-)</p>\n<p><a href=\"https://i.stack.imgur.com/PBJTe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PBJTe.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/OKuSC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OKuSC.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76697354,"answer_count":2,"score":2,"last_activity_date":1689519193,"creation_date":1689316711,"question_id":76685237,"body_markdown":"I have a Swing application created in Netbeans using Matisse GUI builder. One of the panels I created looks like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI want to use this panel in two scenarios:\r\n- use it to enter data. Then the form is used as it would be obvious. When resizing, the text fields grow horizontally to fill the available space.\r\n- use it to just display data. In that case the textfields are `setEnabled(false)` and the buttons are `setVisible(false)`.\r\n\r\nAll this works quite well, but I am wondering about the textfield sizes when the buttons are disabled, as they do not all grow the same. Here you can see the panel in the two scenarios:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\nWhile I am pretty sure the correct settings can be done in the GUI builder I am not sure what I need to look at. Where do you edit such constraints as of where a component is anchored (left, right, top, down and whether it is the next sibling or the parent) and how it should move/grow upon resize? I just do not see the relevant buttons or menus in Netbeans/Matisse. Could it be that I just need to look at the correct use of Glue and fillers?\r\n\r\nI am aware I could switch to other layout managers but like the optical effect of having a common baseline on the text.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HEWax.png\r\n  [2]: https://i.stack.imgur.com/jXLrE.png\r\n  [3]: https://i.stack.imgur.com/cCule.png","title":"Netbeans GUI: Matisse and component layout","body":"<p>I have a Swing application created in Netbeans using Matisse GUI builder. One of the panels I created looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/HEWax.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HEWax.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to use this panel in two scenarios:</p>\n<ul>\n<li>use it to enter data. Then the form is used as it would be obvious. When resizing, the text fields grow horizontally to fill the available space.</li>\n<li>use it to just display data. In that case the textfields are <code>setEnabled(false)</code> and the buttons are <code>setVisible(false)</code>.</li>\n</ul>\n<p>All this works quite well, but I am wondering about the textfield sizes when the buttons are disabled, as they do not all grow the same. Here you can see the panel in the two scenarios:</p>\n<p><a href=\"https://i.stack.imgur.com/jXLrE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jXLrE.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/cCule.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cCule.png\" alt=\"enter image description here\" /></a></p>\n<p>While I am pretty sure the correct settings can be done in the GUI builder I am not sure what I need to look at. Where do you edit such constraints as of where a component is anchored (left, right, top, down and whether it is the next sibling or the parent) and how it should move/grow upon resize? I just do not see the relevant buttons or menus in Netbeans/Matisse. Could it be that I just need to look at the correct use of Glue and fillers?</p>\n<p>I am aware I could switch to other layout managers but like the optical effect of having a common baseline on the text.</p>\n"},{"tags":["java","spring-boot","spring-webflux","project-reactor","jodconverter"],"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1689521024,"post_id":76698877,"comment_id":135222101,"body_markdown":"Could you try to remove `Content-Type:multipart/form-data` header from your Postman request? Postman automatically sets the Content-Type to `multipart/form-data`, and it also adds a boundary in the Content-Type header, which is important for the server to correctly parse the request","body":"Could you try to remove <code>Content-Type:multipart&#47;form-data</code> header from your Postman request? Postman automatically sets the Content-Type to <code>multipart&#47;form-data</code>, and it also adds a boundary in the Content-Type header, which is important for the server to correctly parse the request"},{"owner":{"account_id":3145385,"reputation":881,"user_id":2659962,"display_name":"Akhilesh Pandey"},"score":0,"creation_date":1689535461,"post_id":76698877,"comment_id":135223747,"body_markdown":"I tried removing and testing, still getting same issue.   @YahorBarkouski","body":"I tried removing and testing, still getting same issue.   @YahorBarkouski"}],"owner":{"account_id":3145385,"reputation":881,"user_id":2659962,"display_name":"Akhilesh Pandey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689519125,"creation_date":1689519125,"question_id":76698877,"body_markdown":"I&#39;m encountering an issue while attempting to convert a document to PDF using the JodConverter library in a Spring WebFlux application. Does anyone have any suggestions?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n&gt; &quot;timestamp&quot;: &quot;2023-07-14T19:40:59.407+00:00&quot;, &quot;status&quot;: 415, &quot;error&quot;:\r\n&gt; &quot;Unsupported Media Type&quot;, &quot;trace&quot;:\r\n&gt; &quot;org.springframework.web.HttpMediaTypeNotSupportedException:\r\n&gt; Content-Type &#39;application/msword&#39; is not supported\\n\\tat\r\n\r\n\r\n**Project:**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.document.converter&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;document-converter&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;document-converter&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jodconverter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jodconverter-local&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.4.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jodconverter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jodconverter-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.4.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.11.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;Central Maven repository&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Central Maven repository https&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n\t\t\t&lt;layout&gt;default&lt;/layout&gt;\r\n\t\t&lt;/repository&gt;\r\n\r\n\t&lt;/repositories&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;!-- ... --&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;1.18.22&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nController \r\n\r\n\r\n```\r\npackage com.document.converter.controller;\r\n\r\nimport com.document.converter.service.ConverterService;\r\nimport org.springframework.http.HttpHeaders;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestPart;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport reactor.core.publisher.Mono;\r\nimport reactor.core.scheduler.Schedulers;\r\n\r\n@RestController\r\npublic class ConverterController {\r\n    private final ConverterService converterService;\r\n    private final String PDF_FORMAT = &quot;pdf&quot;;\r\n\r\n    public ConverterController(ConverterService converterService) {\r\n        this.converterService = converterService;\r\n    }\r\n\r\n    @PostMapping(path = &quot;/converter/v1/pdf&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n    public Mono&lt;ResponseEntity&lt;byte[]&gt;&gt; convert(@RequestPart(&quot;file&quot;) Mono&lt;MultipartFile&gt; filePart) {\r\n        return filePart\r\n                .publishOn(Schedulers.boundedElastic())\r\n                .flatMap(converterService::convertToPdf)\r\n                .map(convertedFile -&gt; {\r\n                    final HttpHeaders headers = new HttpHeaders();\r\n                    headers.setContentType(MediaType.APPLICATION_PDF);\r\n                    headers.add(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=output.pdf&quot;);\r\n                    return ResponseEntity.ok()\r\n                            .headers(headers)\r\n                            .body(convertedFile);\r\n                });\r\n    }\r\n}\r\n```\r\n\r\n\r\nservice \r\n\r\n\r\n```\r\npackage com.document.converter.service;\r\n\r\nimport org.jodconverter.core.DocumentConverter;\r\nimport org.jodconverter.core.document.DefaultDocumentFormatRegistry;\r\nimport org.jodconverter.core.document.DocumentFormat;\r\nimport org.jodconverter.core.office.OfficeException;\r\nimport org.jodconverter.core.office.OfficeManager;\r\nimport org.jodconverter.local.LocalConverter;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport reactor.core.publisher.Mono;\r\nimport reactor.core.scheduler.Schedulers;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\n\r\n@Service\r\npublic class ConverterService {\r\n\r\n    private final OfficeManager officeManager;\r\n\r\n    public ConverterService(OfficeManager officeManager) {\r\n        this.officeManager = officeManager;\r\n    }\r\n\r\n    public Mono&lt;byte[]&gt; convertToPdf(MultipartFile inputFile) {\r\n        return Mono.fromCallable(() -&gt; {\r\n            final DocumentFormat conversionTargetFormat =\r\n                    DefaultDocumentFormatRegistry.getFormatByExtension(&quot;pdf&quot;);\r\n\r\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n\r\n            final DocumentConverter converter = LocalConverter.builder()\r\n                    .officeManager(officeManager)\r\n                    .build();\r\n\r\n            try (InputStream inputStream = inputFile.getInputStream()) {\r\n                converter\r\n                        .convert(inputStream)\r\n                        .to(outputStream)\r\n                        .as(conversionTargetFormat)\r\n                        .execute();\r\n            } catch (IOException | OfficeException e) {\r\n                throw new RuntimeException(&quot;Failed to convert the file.&quot;, e);\r\n            }\r\n\r\n            return outputStream.toByteArray();\r\n        }).subscribeOn(Schedulers.boundedElastic());\r\n    }\r\n}\r\n```\r\n\r\n\r\nmain class \r\n\r\n```\r\npackage com.document.converter;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.web.ServerProperties;\r\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\r\n\r\n@SpringBootApplication\r\n@EnableConfigurationProperties(ServerProperties.class)\r\npublic class DocumentConverterApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DocumentConverterApplication.class, args);\r\n\t}\r\n}\r\n```\r\n\r\napplication.yml\r\n\r\n```\r\nserver.port: 8083\r\njodconverter:\r\n  local:\r\n    enabled: true\r\n    port-numbers: 2002\r\n    kill-existing-process: true\r\n    process-timeout: 250000\r\n    process-retry-interval: 1000\r\n    max-tasks-per-process: 200\r\n    task-execution-timeout: 250000\r\n    task-queue-timeout: 90000\r\n    format-options:\r\n      html:\r\n        store:\r\n          TEXT:\r\n            FilterOptions: EmbedImages\r\n```\r\n\r\ni am testing it as below using postman ,\r\n\r\nUrl  `http://localhost:8083/converter/v1/pdf`\r\n      `Method : POST`\r\n      `Content-Type:multipart/form-data`\r\n[![enter image description here][1]][1]\r\n\r\n\r\nDetailed \r\n\r\nany suggestions ? \r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eW8RX.png","title":"issue doc to pdf using jodconverter library in spring-web-flux","body":"<p>I'm encountering an issue while attempting to convert a document to PDF using the JodConverter library in a Spring WebFlux application. Does anyone have any suggestions?</p>\n<blockquote>\n<p>&quot;timestamp&quot;: &quot;2023-07-14T19:40:59.407+00:00&quot;, &quot;status&quot;: 415, &quot;error&quot;:\n&quot;Unsupported Media Type&quot;, &quot;trace&quot;:\n&quot;org.springframework.web.HttpMediaTypeNotSupportedException:\nContent-Type 'application/msword' is not supported\\n\\tat</p>\n</blockquote>\n<p><strong>Project:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.document.converter&lt;/groupId&gt;\n    &lt;artifactId&gt;document-converter&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;document-converter&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jodconverter&lt;/groupId&gt;\n            &lt;artifactId&gt;jodconverter-local&lt;/artifactId&gt;\n            &lt;version&gt;4.4.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jodconverter&lt;/groupId&gt;\n            &lt;artifactId&gt;jodconverter-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;4.4.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;Central Maven repository&lt;/id&gt;\n            &lt;name&gt;Central Maven repository https&lt;/name&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n            &lt;layout&gt;default&lt;/layout&gt;\n        &lt;/repository&gt;\n\n    &lt;/repositories&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;!-- ... --&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;version&gt;1.18.22&lt;/version&gt;\n                        &lt;scope&gt;runtime&lt;/scope&gt;\n                    &lt;/dependency&gt;\n\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Controller</p>\n<pre><code>package com.document.converter.controller;\n\nimport com.document.converter.service.ConverterService;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestPart;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.multipart.MultipartFile;\nimport reactor.core.publisher.Mono;\nimport reactor.core.scheduler.Schedulers;\n\n@RestController\npublic class ConverterController {\n    private final ConverterService converterService;\n    private final String PDF_FORMAT = &quot;pdf&quot;;\n\n    public ConverterController(ConverterService converterService) {\n        this.converterService = converterService;\n    }\n\n    @PostMapping(path = &quot;/converter/v1/pdf&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n    public Mono&lt;ResponseEntity&lt;byte[]&gt;&gt; convert(@RequestPart(&quot;file&quot;) Mono&lt;MultipartFile&gt; filePart) {\n        return filePart\n                .publishOn(Schedulers.boundedElastic())\n                .flatMap(converterService::convertToPdf)\n                .map(convertedFile -&gt; {\n                    final HttpHeaders headers = new HttpHeaders();\n                    headers.setContentType(MediaType.APPLICATION_PDF);\n                    headers.add(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=output.pdf&quot;);\n                    return ResponseEntity.ok()\n                            .headers(headers)\n                            .body(convertedFile);\n                });\n    }\n}\n</code></pre>\n<p>service</p>\n<pre><code>package com.document.converter.service;\n\nimport org.jodconverter.core.DocumentConverter;\nimport org.jodconverter.core.document.DefaultDocumentFormatRegistry;\nimport org.jodconverter.core.document.DocumentFormat;\nimport org.jodconverter.core.office.OfficeException;\nimport org.jodconverter.core.office.OfficeManager;\nimport org.jodconverter.local.LocalConverter;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.multipart.MultipartFile;\nimport reactor.core.publisher.Mono;\nimport reactor.core.scheduler.Schedulers;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\n\n@Service\npublic class ConverterService {\n\n    private final OfficeManager officeManager;\n\n    public ConverterService(OfficeManager officeManager) {\n        this.officeManager = officeManager;\n    }\n\n    public Mono&lt;byte[]&gt; convertToPdf(MultipartFile inputFile) {\n        return Mono.fromCallable(() -&gt; {\n            final DocumentFormat conversionTargetFormat =\n                    DefaultDocumentFormatRegistry.getFormatByExtension(&quot;pdf&quot;);\n\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n\n            final DocumentConverter converter = LocalConverter.builder()\n                    .officeManager(officeManager)\n                    .build();\n\n            try (InputStream inputStream = inputFile.getInputStream()) {\n                converter\n                        .convert(inputStream)\n                        .to(outputStream)\n                        .as(conversionTargetFormat)\n                        .execute();\n            } catch (IOException | OfficeException e) {\n                throw new RuntimeException(&quot;Failed to convert the file.&quot;, e);\n            }\n\n            return outputStream.toByteArray();\n        }).subscribeOn(Schedulers.boundedElastic());\n    }\n}\n</code></pre>\n<p>main class</p>\n<pre><code>package com.document.converter;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.web.ServerProperties;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\n\n@SpringBootApplication\n@EnableConfigurationProperties(ServerProperties.class)\npublic class DocumentConverterApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DocumentConverterApplication.class, args);\n    }\n}\n</code></pre>\n<p>application.yml</p>\n<pre><code>server.port: 8083\njodconverter:\n  local:\n    enabled: true\n    port-numbers: 2002\n    kill-existing-process: true\n    process-timeout: 250000\n    process-retry-interval: 1000\n    max-tasks-per-process: 200\n    task-execution-timeout: 250000\n    task-queue-timeout: 90000\n    format-options:\n      html:\n        store:\n          TEXT:\n            FilterOptions: EmbedImages\n</code></pre>\n<p>i am testing it as below using postman ,</p>\n<p>Url  <code>http://localhost:8083/converter/v1/pdf</code>\n<code>Method : POST</code>\n<code>Content-Type:multipart/form-data</code>\n<a href=\"https://i.stack.imgur.com/eW8RX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eW8RX.png\" alt=\"enter image description here\" /></a></p>\n<p>Detailed</p>\n<p>any suggestions ?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1689549934,"post_id":76698767,"comment_id":135225116,"body_markdown":"A simple `Timeline` animation is shown [here](https://stackoverflow.com/a/37516327/230513); more [here](https://stackoverflow.com/a/37370840/230513).","body":"A simple <code>Timeline</code> animation is shown <a href=\"https://stackoverflow.com/a/37516327/230513\">here</a>; more <a href=\"https://stackoverflow.com/a/37370840/230513\">here</a>."}],"owner":{"account_id":21731,"reputation":9045,"user_id":53069,"accept_rate":77,"display_name":"sproketboy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689517465,"creation_date":1689517465,"question_id":76698767,"body_markdown":"Below is a simplified example of what I have so far. It&#39;s a 2d array which can display blocks based on row/col in the array data.  The user can move around the scene forward, back, up and down, and turn left/right 45 degrees using the arrow keys.\r\n\r\n* up arrow = forward\r\n* back arrow = backward\r\n* left arrow = turn left\r\n* right arrow = turn right\r\n* PgUp = look upward\r\n* PgDown = look downward\r\n* Ins = move up\r\n* Del = move down\r\n\r\nThe place I&#39;m stuck is how can I add transition animations for these movements? Whenever I try everything goes out whack.\r\n\r\nHere&#39;s the copy/paste code (running JavaFX with Java 17).\r\n\r\nThanks!\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.*;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.input.KeyCode;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.paint.Material;\r\n    import javafx.scene.paint.PhongMaterial;\r\n    import javafx.scene.shape.Box;\r\n    import javafx.scene.transform.Rotate;\r\n    import javafx.scene.transform.Translate;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.util.Random;\r\n    \r\n    public class MazeAnimationApp extends Application {\r\n    \r\n        private World world;\r\n        private Stage stage;\r\n        private Scene scene;\r\n    \r\n        static final Random random = new Random(1);\r\n    \r\n        private final BorderPane mainPane = new BorderPane();\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            this.stage = stage;\r\n    \r\n            world = new World(getData());\r\n    \r\n            setupScene();\r\n            setupStage();\r\n            stage.show();\r\n        }\r\n    \r\n        private String[][] getData() {\r\n            String[][] data = new String[32][32];\r\n            for (int j = 0; j &lt; 32; j++) {\r\n                for (int k = 0; k &lt; 32; k++) {\r\n                    if (random.nextInt(32) % 3 == 0 &amp;&amp; random.nextInt(32) % 3 == 0) {\r\n                        data[j][k] = &quot;X&quot;;\r\n                    }\r\n                }\r\n            }\r\n            return data;\r\n        }\r\n    \r\n        private void setupScene() {\r\n    \r\n            scene = new Scene(mainPane, 1024, 768);\r\n    \r\n            mainPane.setCenter(world.getScene());\r\n    \r\n            Button btn = new Button(&quot;press arrows&quot;);\r\n            btn.setTranslateX(0);\r\n            btn.setTranslateY(0);\r\n            mainPane.setBottom(btn);\r\n            btn.setOnKeyPressed(event -&gt; {\r\n                keyPressed(event.getCode());\r\n            });\r\n    \r\n    \r\n        }\r\n    \r\n        private void setupStage() {\r\n            stage.setTitle(&quot;Demo of something&quot;);\r\n            stage.setFullScreenExitHint(&quot;&quot;);\r\n            stage.setWidth(1024);\r\n            stage.setHeight(768);\r\n    \r\n            stage.setScene(scene);\r\n    \r\n        }\r\n    \r\n        private void keyPressed(KeyCode keyCode) {\r\n            System.out.println(&quot;keypressed &quot; + keyCode);\r\n            var camera = world.getCamera();\r\n            switch (keyCode) {\r\n    \r\n                case KP_UP, NUMPAD8, UP -&gt; {\r\n                    // forward\r\n                    camera.addToPos(1);\r\n                }\r\n                case KP_DOWN, NUMPAD2, DOWN -&gt; {\r\n                    // back\r\n                    camera.addToPos(-1);\r\n                }\r\n    \r\n                case KP_LEFT, LEFT, NUMPAD4 -&gt; {\r\n                    // left\r\n                    camera.addToHAngle(-90);\r\n                }\r\n    \r\n                case KP_RIGHT, RIGHT, NUMPAD6 -&gt; {\r\n                    // right\r\n                    camera.addToHAngle(90);\r\n                }\r\n    \r\n                case PAGE_UP -&gt; {\r\n                    // look up\r\n                    camera.addToVAngle(45);\r\n                }\r\n    \r\n                case PAGE_DOWN -&gt; {\r\n                    // look down\r\n                    camera.addToVAngle(-45);\r\n                }\r\n    \r\n                case INSERT -&gt; {\r\n                    // go up\r\n                    camera.elevate(-0.5);\r\n                }\r\n    \r\n                case DELETE -&gt; {\r\n                    // go down\r\n                    camera.elevate(0.5);\r\n                }\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n    \r\n        private static class MazeCamera extends PerspectiveCamera {\r\n    \r\n            private final Translate pos = new Translate();\r\n    \r\n            /**\r\n             * Direction on the horizontal plane.\r\n             */\r\n            private final Rotate hdir = new Rotate(-180, Rotate.Y_AXIS);\r\n    \r\n            /**\r\n             * Direction on the vertical plane.\r\n             */\r\n            private final Rotate vdir = new Rotate(0, Rotate.X_AXIS);\r\n    \r\n            public MazeCamera() {\r\n                super(true);\r\n    \r\n                setFieldOfView(100);\r\n                setVerticalFieldOfView(false);\r\n                setNearClip(0.001);\r\n                setFarClip(30);\r\n                getTransforms().addAll(pos, hdir, vdir);\r\n                // y = - up + down\r\n                // z = - forward + back\r\n                // x = - left + right\r\n            }\r\n    \r\n            public void setPos(final double x, final double y, final double z) {\r\n                pos.setX(x);\r\n                pos.setY(y);\r\n                pos.setZ(z);\r\n            }\r\n    \r\n            public void setHAngle(final double hangle) {\r\n                hdir.setAngle(hangle);\r\n            }\r\n    \r\n            public void addToHAngle(final double hdelta) {\r\n                hdir.setAngle(hdir.getAngle() + hdelta);\r\n            }\r\n    \r\n            public void setVAngle(final double vangle) {\r\n                vdir.setAngle(vangle);\r\n            }\r\n    \r\n            public void addToVAngle(final double vdelta) {\r\n                final double vangle = vdir.getAngle() + vdelta;\r\n                if (vangle &lt; -90 || vangle &gt; 90) {\r\n                    return;\r\n                }\r\n    \r\n                vdir.setAngle(vdir.getAngle() + vdelta);\r\n            }\r\n    \r\n            /**\r\n             * Adds the specified amount to the camera&#39;s horizontal position, toward the camera&#39;s current horizontal direction.\r\n             *\r\n             * @param helta horizontal distance to be added to the camera&#39;s current horizontal position\r\n             */\r\n            public void addToPos(final double helta) {\r\n                addToPos(helta, hdir.getAngle());\r\n            }\r\n    \r\n            /**\r\n             * Adds the specified amount to the camera&#39;s horizontal position, toward the specified horizontal direction.\r\n             *\r\n             * @param hdelta horizontal distance to be added to the camera&#39;s current horizontal position\r\n             */\r\n            public void addToPos(double hdelta, final double hangle) {\r\n    \r\n                final double rad = Math.toRadians(hangle);\r\n    \r\n                pos.setX(pos.getX() + hdelta * Math.sin(rad));\r\n                pos.setZ(pos.getZ() + hdelta * Math.cos(rad));\r\n            }\r\n    \r\n            /**\r\n             * Elevates the camera: adds the specified vertical delta to its y position.\r\n             *\r\n             * @param vdelta (vertical) elevation to be added to the camera&#39;s current vertical position\r\n             */\r\n            public void elevate(final double vdelta) {\r\n                pos.setY(pos.getY() + vdelta);\r\n            }\r\n    \r\n            public Translate getPos() {\r\n                return pos;\r\n            }\r\n    \r\n            public Rotate getHDir() {\r\n                return hdir;\r\n            }\r\n    \r\n        }\r\n    \r\n        private record BlockPos(int row, int col) {\r\n            static int maxDistance = 32;\r\n        }\r\n    \r\n    \r\n        private static class World {\r\n            private final Group root = new Group();\r\n    \r\n            private final SubScene scene = new SubScene(root, 800, 600, true, SceneAntialiasing.BALANCED);\r\n    \r\n            private final MazeCamera camera = new MazeCamera();\r\n    \r\n            private final PointLight pointLight = new PointLight(Color.gray(0.3));\r\n    \r\n            private final AmbientLight ambientLight = new AmbientLight(Color.ANTIQUEWHITE);\r\n    \r\n            private final Material material1 = new PhongMaterial(Color.RED, null, null, null, null);\r\n            private final Material material2 = new PhongMaterial(Color.GREEN, null, null, null, null);\r\n            private final Material material3 = new PhongMaterial(Color.BLUE, null, null, null, null);\r\n    \r\n            private final String[][] data;\r\n    \r\n            public World(String[][] data) {\r\n                this.data = data;\r\n                initScene();\r\n            }\r\n    \r\n            private void initScene() {\r\n                root.getChildren().clear();\r\n                pointLight.getTransforms().clear();\r\n    \r\n                camera.setVAngle(0);\r\n                camera.setHAngle(0);\r\n    \r\n                root.getChildren().add(camera);\r\n                root.getChildren().add(ambientLight);\r\n                root.getChildren().add(pointLight);\r\n    \r\n                scene.setCamera(camera);\r\n                scene.setFill(Color.LIGHTBLUE);\r\n    \r\n                int row = 5;\r\n                int col = 5;\r\n                camera.setPos(col + 0.5, 0, BlockPos.maxDistance - row + 0.5);\r\n    \r\n                for (int r = 0; r &lt; BlockPos.maxDistance; r++) {\r\n                    for (int c = 0; c &lt; BlockPos.maxDistance; c++) {\r\n                        if (&quot;X&quot;.equalsIgnoreCase(data[r][c])) {\r\n                            BlockPos pos = new BlockPos(r, c);\r\n                            root.getChildren().add(createBlock(pos));\r\n                        }\r\n    \r\n                    }\r\n                }\r\n    \r\n            }\r\n    \r\n            private Node createBlock(BlockPos pos) {\r\n                Box box = new Box(1, 1, 1);\r\n                Material material = null;\r\n                int r = random.nextInt(3);\r\n                switch (r) {\r\n                    case 0 -&gt; material = material1;\r\n                    case 1 -&gt; material = material2;\r\n                    case 2 -&gt; material = material3;\r\n                }\r\n                box.setMaterial(material);\r\n                box.setTranslateX(pos.col() + 0.5);\r\n                box.setTranslateZ((BlockPos.maxDistance - pos.row()) + 0.5);\r\n                return box;\r\n            }\r\n    \r\n            public SubScene getScene() {\r\n                return scene;\r\n            }\r\n    \r\n            public MazeCamera getCamera() {\r\n                return camera;\r\n            }\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n","title":"How can I animate camera movements in JavaFX 3D?","body":"<p>Below is a simplified example of what I have so far. It's a 2d array which can display blocks based on row/col in the array data.  The user can move around the scene forward, back, up and down, and turn left/right 45 degrees using the arrow keys.</p>\n<ul>\n<li>up arrow = forward</li>\n<li>back arrow = backward</li>\n<li>left arrow = turn left</li>\n<li>right arrow = turn right</li>\n<li>PgUp = look upward</li>\n<li>PgDown = look downward</li>\n<li>Ins = move up</li>\n<li>Del = move down</li>\n</ul>\n<p>The place I'm stuck is how can I add transition animations for these movements? Whenever I try everything goes out whack.</p>\n<p>Here's the copy/paste code (running JavaFX with Java 17).</p>\n<p>Thanks!</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.*;\nimport javafx.scene.control.Button;\nimport javafx.scene.input.KeyCode;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.paint.Material;\nimport javafx.scene.paint.PhongMaterial;\nimport javafx.scene.shape.Box;\nimport javafx.scene.transform.Rotate;\nimport javafx.scene.transform.Translate;\nimport javafx.stage.Stage;\n\nimport java.util.Random;\n\npublic class MazeAnimationApp extends Application {\n\n    private World world;\n    private Stage stage;\n    private Scene scene;\n\n    static final Random random = new Random(1);\n\n    private final BorderPane mainPane = new BorderPane();\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        this.stage = stage;\n\n        world = new World(getData());\n\n        setupScene();\n        setupStage();\n        stage.show();\n    }\n\n    private String[][] getData() {\n        String[][] data = new String[32][32];\n        for (int j = 0; j &lt; 32; j++) {\n            for (int k = 0; k &lt; 32; k++) {\n                if (random.nextInt(32) % 3 == 0 &amp;&amp; random.nextInt(32) % 3 == 0) {\n                    data[j][k] = &quot;X&quot;;\n                }\n            }\n        }\n        return data;\n    }\n\n    private void setupScene() {\n\n        scene = new Scene(mainPane, 1024, 768);\n\n        mainPane.setCenter(world.getScene());\n\n        Button btn = new Button(&quot;press arrows&quot;);\n        btn.setTranslateX(0);\n        btn.setTranslateY(0);\n        mainPane.setBottom(btn);\n        btn.setOnKeyPressed(event -&gt; {\n            keyPressed(event.getCode());\n        });\n\n\n    }\n\n    private void setupStage() {\n        stage.setTitle(&quot;Demo of something&quot;);\n        stage.setFullScreenExitHint(&quot;&quot;);\n        stage.setWidth(1024);\n        stage.setHeight(768);\n\n        stage.setScene(scene);\n\n    }\n\n    private void keyPressed(KeyCode keyCode) {\n        System.out.println(&quot;keypressed &quot; + keyCode);\n        var camera = world.getCamera();\n        switch (keyCode) {\n\n            case KP_UP, NUMPAD8, UP -&gt; {\n                // forward\n                camera.addToPos(1);\n            }\n            case KP_DOWN, NUMPAD2, DOWN -&gt; {\n                // back\n                camera.addToPos(-1);\n            }\n\n            case KP_LEFT, LEFT, NUMPAD4 -&gt; {\n                // left\n                camera.addToHAngle(-90);\n            }\n\n            case KP_RIGHT, RIGHT, NUMPAD6 -&gt; {\n                // right\n                camera.addToHAngle(90);\n            }\n\n            case PAGE_UP -&gt; {\n                // look up\n                camera.addToVAngle(45);\n            }\n\n            case PAGE_DOWN -&gt; {\n                // look down\n                camera.addToVAngle(-45);\n            }\n\n            case INSERT -&gt; {\n                // go up\n                camera.elevate(-0.5);\n            }\n\n            case DELETE -&gt; {\n                // go down\n                camera.elevate(0.5);\n            }\n        }\n\n    }\n\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n\n    private static class MazeCamera extends PerspectiveCamera {\n\n        private final Translate pos = new Translate();\n\n        /**\n         * Direction on the horizontal plane.\n         */\n        private final Rotate hdir = new Rotate(-180, Rotate.Y_AXIS);\n\n        /**\n         * Direction on the vertical plane.\n         */\n        private final Rotate vdir = new Rotate(0, Rotate.X_AXIS);\n\n        public MazeCamera() {\n            super(true);\n\n            setFieldOfView(100);\n            setVerticalFieldOfView(false);\n            setNearClip(0.001);\n            setFarClip(30);\n            getTransforms().addAll(pos, hdir, vdir);\n            // y = - up + down\n            // z = - forward + back\n            // x = - left + right\n        }\n\n        public void setPos(final double x, final double y, final double z) {\n            pos.setX(x);\n            pos.setY(y);\n            pos.setZ(z);\n        }\n\n        public void setHAngle(final double hangle) {\n            hdir.setAngle(hangle);\n        }\n\n        public void addToHAngle(final double hdelta) {\n            hdir.setAngle(hdir.getAngle() + hdelta);\n        }\n\n        public void setVAngle(final double vangle) {\n            vdir.setAngle(vangle);\n        }\n\n        public void addToVAngle(final double vdelta) {\n            final double vangle = vdir.getAngle() + vdelta;\n            if (vangle &lt; -90 || vangle &gt; 90) {\n                return;\n            }\n\n            vdir.setAngle(vdir.getAngle() + vdelta);\n        }\n\n        /**\n         * Adds the specified amount to the camera's horizontal position, toward the camera's current horizontal direction.\n         *\n         * @param helta horizontal distance to be added to the camera's current horizontal position\n         */\n        public void addToPos(final double helta) {\n            addToPos(helta, hdir.getAngle());\n        }\n\n        /**\n         * Adds the specified amount to the camera's horizontal position, toward the specified horizontal direction.\n         *\n         * @param hdelta horizontal distance to be added to the camera's current horizontal position\n         */\n        public void addToPos(double hdelta, final double hangle) {\n\n            final double rad = Math.toRadians(hangle);\n\n            pos.setX(pos.getX() + hdelta * Math.sin(rad));\n            pos.setZ(pos.getZ() + hdelta * Math.cos(rad));\n        }\n\n        /**\n         * Elevates the camera: adds the specified vertical delta to its y position.\n         *\n         * @param vdelta (vertical) elevation to be added to the camera's current vertical position\n         */\n        public void elevate(final double vdelta) {\n            pos.setY(pos.getY() + vdelta);\n        }\n\n        public Translate getPos() {\n            return pos;\n        }\n\n        public Rotate getHDir() {\n            return hdir;\n        }\n\n    }\n\n    private record BlockPos(int row, int col) {\n        static int maxDistance = 32;\n    }\n\n\n    private static class World {\n        private final Group root = new Group();\n\n        private final SubScene scene = new SubScene(root, 800, 600, true, SceneAntialiasing.BALANCED);\n\n        private final MazeCamera camera = new MazeCamera();\n\n        private final PointLight pointLight = new PointLight(Color.gray(0.3));\n\n        private final AmbientLight ambientLight = new AmbientLight(Color.ANTIQUEWHITE);\n\n        private final Material material1 = new PhongMaterial(Color.RED, null, null, null, null);\n        private final Material material2 = new PhongMaterial(Color.GREEN, null, null, null, null);\n        private final Material material3 = new PhongMaterial(Color.BLUE, null, null, null, null);\n\n        private final String[][] data;\n\n        public World(String[][] data) {\n            this.data = data;\n            initScene();\n        }\n\n        private void initScene() {\n            root.getChildren().clear();\n            pointLight.getTransforms().clear();\n\n            camera.setVAngle(0);\n            camera.setHAngle(0);\n\n            root.getChildren().add(camera);\n            root.getChildren().add(ambientLight);\n            root.getChildren().add(pointLight);\n\n            scene.setCamera(camera);\n            scene.setFill(Color.LIGHTBLUE);\n\n            int row = 5;\n            int col = 5;\n            camera.setPos(col + 0.5, 0, BlockPos.maxDistance - row + 0.5);\n\n            for (int r = 0; r &lt; BlockPos.maxDistance; r++) {\n                for (int c = 0; c &lt; BlockPos.maxDistance; c++) {\n                    if (&quot;X&quot;.equalsIgnoreCase(data[r][c])) {\n                        BlockPos pos = new BlockPos(r, c);\n                        root.getChildren().add(createBlock(pos));\n                    }\n\n                }\n            }\n\n        }\n\n        private Node createBlock(BlockPos pos) {\n            Box box = new Box(1, 1, 1);\n            Material material = null;\n            int r = random.nextInt(3);\n            switch (r) {\n                case 0 -&gt; material = material1;\n                case 1 -&gt; material = material2;\n                case 2 -&gt; material = material3;\n            }\n            box.setMaterial(material);\n            box.setTranslateX(pos.col() + 0.5);\n            box.setTranslateZ((BlockPos.maxDistance - pos.row()) + 0.5);\n            return box;\n        }\n\n        public SubScene getScene() {\n            return scene;\n        }\n\n        public MazeCamera getCamera() {\n            return camera;\n        }\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","github","intellij-idea","ide"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1689588684,"post_id":76698699,"comment_id":135229680,"body_markdown":"If you need to reformat code only manually ensure that reformat on save option is disabled in the IDE settings. Please see https://www.jetbrains.com/help/idea/reformat-and-rearrange-code.html#reformat-on-save","body":"If you need to reformat code only manually ensure that reformat on save option is disabled in the IDE settings. Please see <a href=\"https://www.jetbrains.com/help/idea/reformat-and-rearrange-code.html#reformat-on-save\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>"},{"owner":{"account_id":15790667,"reputation":90,"user_id":11394009,"display_name":"Praveen kumar"},"score":0,"creation_date":1689595958,"post_id":76698699,"comment_id":135231177,"body_markdown":"@EgorKlepikov That one also didn&#39;t work, updated the intelij to 2023.1.4. After that am not facing that issue. Thank you.","body":"@EgorKlepikov That one also didn&#39;t work, updated the intelij to 2023.1.4. After that am not facing that issue. Thank you."}],"owner":{"account_id":15790667,"reputation":90,"user_id":11394009,"display_name":"Praveen kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689516587,"creation_date":1689516587,"question_id":76698699,"body_markdown":"IntelliJ is formatting the entire Java file when I press Ctrl+Alt+L. However, I&#39;ve noticed that some lines are automatically getting reformatted after some time. I even tried using Ctrl+Shift+Alt+L, but the issue persists. This formatting problem is occurring only for the project that I cloned from GitHub. Interestingly, in a normal project that I created, the formatting works as expected without any automatic changes. Has anyone else faced or is currently facing this issue? Your help would be greatly appreciated. Thank you.\r\nVersion : IntelliJ IDEA 2023.1","title":"IntelliJ is formatting the entire file instead of the selected block for the Git clone project","body":"<p>IntelliJ is formatting the entire Java file when I press Ctrl+Alt+L. However, I've noticed that some lines are automatically getting reformatted after some time. I even tried using Ctrl+Shift+Alt+L, but the issue persists. This formatting problem is occurring only for the project that I cloned from GitHub. Interestingly, in a normal project that I created, the formatting works as expected without any automatic changes. Has anyone else faced or is currently facing this issue? Your help would be greatly appreciated. Thank you.\nVersion : IntelliJ IDEA 2023.1</p>\n"},{"tags":["java","xml","nullpointerexception","ubl"],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689504121,"creation_date":1689504121,"answer_id":76697828,"question_id":76697530,"body_markdown":"You can write a single function which performs the null checks and reuse it:\r\n```\r\nimport java.util.function.Consumer;\r\nimport java.util.function.Function;\r\n\r\ninterface Despatch {\r\n\r\n    SupplierParty getDespatchSupplierParty();\r\n}\r\ninterface SupplierParty {\r\n\r\n    Party getParty();\r\n}\r\ninterface Party {\r\n    Contact getContact();\r\n}\r\ninterface Contact {\r\n    Telephone getTelephone();\r\n\r\n    Telefax getTelefax();\r\n\r\n    EMail getElectronicMail();\r\n\r\n    Name getName();\r\n}\r\ninterface Telephone {\r\n    String getValue();\r\n}\r\ninterface Telefax {\r\n\r\n    String getValue();\r\n}\r\ninterface EMail {\r\n    String getValue();\r\n}\r\ninterface Name {\r\n    String getValue();\r\n\r\n}\r\ninterface TFDESP000_ARCH {\r\n\r\n    void setDcpPartyContactTelephone(String value);\r\n\r\n    void setDcpPartyContactTelefax(String value);\r\n\r\n    void setDspPartyContactElectronicMail(String value);\r\n\r\n    void setDspContactName(String value);\r\n}\r\npublic class App {\r\n\r\n    public static void main(String[] args) {\r\n        Despatch despt = ...;\r\n        TFDESP000_ARCH tfdesp000_arch = ...;\r\n\r\n        // shorter version\r\n        Contact contact = despt.getDespatchSupplierParty().getParty().getContact();\r\n        setContactField(contact, Contact::getTelephone, Telephone::getValue, tfdesp000_arch::setDcpPartyContactTelephone);\r\n        setContactField(contact, Contact::getTelefax, Telefax::getValue, tfdesp000_arch::setDcpPartyContactTelefax);\r\n        setContactField(contact, Contact::getElectronicMail, EMail::getValue, tfdesp000_arch::setDspPartyContactElectronicMail);\r\n        setContactField(contact, Contact::getName, Name::getValue, tfdesp000_arch::setDspContactName);\r\n    }\r\n    \r\n    private static &lt;T&gt; void setContactField(Contact contact, Function&lt;Contact, T&gt; getField, Function&lt;T,String&gt; getValue, Consumer&lt;String&gt; setter) {\r\n        if (contact != null) {\r\n            T field = getField.apply(contact);\r\n            if (field != null) {\r\n                setter.accept(getValue.apply(field));\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nSome of the types may be wrong here, as you haven&#39;t given the signatures of your methods. For instance, if `getValue` doesn&#39;t always return `String`, you can add another type parameter to the `setContactField` method:\r\n```\r\nprivate static &lt;T,U&gt; void setContactField(Contact contact, Function&lt;Contact, T&gt; getField, Function&lt;T,U&gt; getValue, Consumer&lt;U&gt; setter)\r\n```","title":"How can I check for null using few ifs while running UBL XML Reading","body":"<p>You can write a single function which performs the null checks and reuse it:</p>\n<pre><code>import java.util.function.Consumer;\nimport java.util.function.Function;\n\ninterface Despatch {\n\n    SupplierParty getDespatchSupplierParty();\n}\ninterface SupplierParty {\n\n    Party getParty();\n}\ninterface Party {\n    Contact getContact();\n}\ninterface Contact {\n    Telephone getTelephone();\n\n    Telefax getTelefax();\n\n    EMail getElectronicMail();\n\n    Name getName();\n}\ninterface Telephone {\n    String getValue();\n}\ninterface Telefax {\n\n    String getValue();\n}\ninterface EMail {\n    String getValue();\n}\ninterface Name {\n    String getValue();\n\n}\ninterface TFDESP000_ARCH {\n\n    void setDcpPartyContactTelephone(String value);\n\n    void setDcpPartyContactTelefax(String value);\n\n    void setDspPartyContactElectronicMail(String value);\n\n    void setDspContactName(String value);\n}\npublic class App {\n\n    public static void main(String[] args) {\n        Despatch despt = ...;\n        TFDESP000_ARCH tfdesp000_arch = ...;\n\n        // shorter version\n        Contact contact = despt.getDespatchSupplierParty().getParty().getContact();\n        setContactField(contact, Contact::getTelephone, Telephone::getValue, tfdesp000_arch::setDcpPartyContactTelephone);\n        setContactField(contact, Contact::getTelefax, Telefax::getValue, tfdesp000_arch::setDcpPartyContactTelefax);\n        setContactField(contact, Contact::getElectronicMail, EMail::getValue, tfdesp000_arch::setDspPartyContactElectronicMail);\n        setContactField(contact, Contact::getName, Name::getValue, tfdesp000_arch::setDspContactName);\n    }\n    \n    private static &lt;T&gt; void setContactField(Contact contact, Function&lt;Contact, T&gt; getField, Function&lt;T,String&gt; getValue, Consumer&lt;String&gt; setter) {\n        if (contact != null) {\n            T field = getField.apply(contact);\n            if (field != null) {\n                setter.accept(getValue.apply(field));\n            }\n        }\n    }\n}\n</code></pre>\n<p>Some of the types may be wrong here, as you haven't given the signatures of your methods. For instance, if <code>getValue</code> doesn't always return <code>String</code>, you can add another type parameter to the <code>setContactField</code> method:</p>\n<pre><code>private static &lt;T,U&gt; void setContactField(Contact contact, Function&lt;Contact, T&gt; getField, Function&lt;T,U&gt; getValue, Consumer&lt;U&gt; setter)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689513757,"post_id":76698455,"comment_id":135221213,"body_markdown":"The problem is that e.g. `getTelephone()` may return `null`.","body":"The problem is that e.g. <code>getTelephone()</code> may return <code>null</code>."},{"owner":{"account_id":29027975,"reputation":1,"user_id":22235679,"display_name":"Geoffrey"},"score":0,"creation_date":1689516238,"post_id":76698455,"comment_id":135221518,"body_markdown":"Ah I see, then perhaps you can modify the setDcpPartyContactTelephone(...) method to take the Telephone as a parameter instead. I updated my answer with the example.","body":"Ah I see, then perhaps you can modify the setDcpPartyContactTelephone(...) method to take the Telephone as a parameter instead. I updated my answer with the example."}],"tags":[],"owner":{"account_id":29027975,"reputation":1,"user_id":22235679,"display_name":"Geoffrey"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689516126,"creation_date":1689513411,"answer_id":76698455,"question_id":76697530,"body_markdown":"In the logic of the set methods, add the null checks there.\r\n\r\n - setDcpPartyContactTelephone(...)\r\n - setDcpPartyContactTelefax(...)\r\n - setDspPartyContactElectronicMail(...)\r\n - setDspContactName(..)\r\n\r\nExample Code:\r\n\r\n    public void setDcpPartyContactTelephone(Telephone telephone) {\r\n        if(telephone != null) {\r\n            String value = telephone.getValue();\r\n            //Continue normal operations\r\n        }\r\n    }\r\n\r\nDeclare the contact as a variable:\r\n\r\n    Contact contact = despt.getDespatchSupplierParty().getParty().getContact();\r\n\r\n\r\nYour full code would look like:\r\n\r\n    Contact contact = despt.getDespatchSupplierParty().getParty().getContact();\r\n    if(contact != null) {\r\n        tfdesp000_arch.setDcpPartyContactTelephone(contact.getTelephone());\r\n        tfdesp000_arch.setDcpPartyContactTelefax(contact.getTelefax());\r\n        tfdesp000_arch.setDspPartyContactElectronicMail(contact.getElectronicMail());\r\n        tfdesp000_arch.setDspContactName(contact.getName());\r\n    }\r\n\r\n","title":"How can I check for null using few ifs while running UBL XML Reading","body":"<p>In the logic of the set methods, add the null checks there.</p>\n<ul>\n<li>setDcpPartyContactTelephone(...)</li>\n<li>setDcpPartyContactTelefax(...)</li>\n<li>setDspPartyContactElectronicMail(...)</li>\n<li>setDspContactName(..)</li>\n</ul>\n<p>Example Code:</p>\n<pre><code>public void setDcpPartyContactTelephone(Telephone telephone) {\n    if(telephone != null) {\n        String value = telephone.getValue();\n        //Continue normal operations\n    }\n}\n</code></pre>\n<p>Declare the contact as a variable:</p>\n<pre><code>Contact contact = despt.getDespatchSupplierParty().getParty().getContact();\n</code></pre>\n<p>Your full code would look like:</p>\n<pre><code>Contact contact = despt.getDespatchSupplierParty().getParty().getContact();\nif(contact != null) {\n    tfdesp000_arch.setDcpPartyContactTelephone(contact.getTelephone());\n    tfdesp000_arch.setDcpPartyContactTelefax(contact.getTelefax());\n    tfdesp000_arch.setDspPartyContactElectronicMail(contact.getElectronicMail());\n    tfdesp000_arch.setDspContactName(contact.getName());\n}\n</code></pre>\n"}],"owner":{"account_id":24655790,"reputation":11,"user_id":18552475,"display_name":"neylersin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76697828,"answer_count":2,"score":1,"last_activity_date":1689516126,"creation_date":1689499576,"question_id":76697530,"body_markdown":"As you can see an example in the code below, I need to use a lot of if. Otherwise it throws null pointer exception.\r\n\r\n```lang-java\r\nif (despt.getDespatchSupplierParty().getParty().getContact() != null) {\r\n\t\t\t\t\t\t\t\t\tif (despt.getDespatchSupplierParty().getParty().getContact()\r\n\t\t\t\t\t\t\t\t\t\t\t.getTelephone() != null) {\r\n\t\t\t\t\t\t\t\t\t\ttfdesp000_arch.setDcpPartyContactTelephone(despt.getDespatchSupplierParty()\r\n\t\t\t\t\t\t\t\t\t\t\t\t.getParty().getContact().getTelephone().getValue());\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tif (despt.getDespatchSupplierParty().getParty().getContact().getTelefax() != null) {\r\n\t\t\t\t\t\t\t\t\t\ttfdesp000_arch.setDcpPartyContactTelefax(despt.getDespatchSupplierParty()\r\n\t\t\t\t\t\t\t\t\t\t\t\t.getParty().getContact().getTelefax().getValue());\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tif (despt.getDespatchSupplierParty().getParty().getContact()\r\n\t\t\t\t\t\t\t\t\t\t\t.getElectronicMail() != null) {\r\n\t\t\t\t\t\t\t\t\t\ttfdesp000_arch.setDspPartyContactElectronicMail(despt.getDespatchSupplierParty()\r\n\t\t\t\t\t\t\t\t\t\t\t\t.getParty().getContact().getElectronicMail().getValue());\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tif (despt.getDespatchSupplierParty().getParty().getContact().getName() != null) {\r\n\t\t\t\t\t\t\t\t\t\ttfdesp000_arch.setDspContactName(despt.getDespatchSupplierParty().getParty()\r\n\t\t\t\t\t\t\t\t\t\t\t\t.getContact().getName().getValue());\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n```\r\n\r\nHow do I avoid this null pointer exception using few ifs.","title":"How can I check for null using few ifs while running UBL XML Reading","body":"<p>As you can see an example in the code below, I need to use a lot of if. Otherwise it throws null pointer exception.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (despt.getDespatchSupplierParty().getParty().getContact() != null) {\n                                    if (despt.getDespatchSupplierParty().getParty().getContact()\n                                            .getTelephone() != null) {\n                                        tfdesp000_arch.setDcpPartyContactTelephone(despt.getDespatchSupplierParty()\n                                                .getParty().getContact().getTelephone().getValue());\n                                    }\n\n                                    if (despt.getDespatchSupplierParty().getParty().getContact().getTelefax() != null) {\n                                        tfdesp000_arch.setDcpPartyContactTelefax(despt.getDespatchSupplierParty()\n                                                .getParty().getContact().getTelefax().getValue());\n                                    }\n\n                                    if (despt.getDespatchSupplierParty().getParty().getContact()\n                                            .getElectronicMail() != null) {\n                                        tfdesp000_arch.setDspPartyContactElectronicMail(despt.getDespatchSupplierParty()\n                                                .getParty().getContact().getElectronicMail().getValue());\n                                    }\n\n                                    if (despt.getDespatchSupplierParty().getParty().getContact().getName() != null) {\n                                        tfdesp000_arch.setDspContactName(despt.getDespatchSupplierParty().getParty()\n                                                .getContact().getName().getValue());\n                                    }\n                                }\n</code></pre>\n<p>How do I avoid this null pointer exception using few ifs.</p>\n"},{"tags":["java","spring","spring-boot","unit-testing","thymeleaf"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689512330,"post_id":76698345,"comment_id":135221019,"body_markdown":"You need `@ExtendWith(MockitoExtension.class)` on your `AuthServiceTest` class, otherwise the `@Mock` and `@InjectMocks` annotations won&#39;t be used.","body":"You need <code>@ExtendWith(MockitoExtension.class)</code> on your <code>AuthServiceTest</code> class, otherwise the <code>@Mock</code> and <code>@InjectMocks</code> annotations won&#39;t be used."},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1689512468,"post_id":76698345,"comment_id":135221046,"body_markdown":"I already have this annotation. I just forgot to add it when I remove the parts that are irrelevant from the question. I will update the question","body":"I already have this annotation. I just forgot to add it when I remove the parts that are irrelevant from the question. I will update the question"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689512919,"post_id":76698345,"comment_id":135221115,"body_markdown":"What&#39;s the full stack trace of the exception?","body":"What&#39;s the full stack trace of the exception?"},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1689513303,"post_id":76698345,"comment_id":135221158,"body_markdown":"@tgdavies, the question is updated with the stack trace.","body":"@tgdavies, the question is updated with the stack trace."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689513694,"post_id":76698345,"comment_id":135221205,"body_markdown":"Is that your actual code now? You&#39;re not mixing Spring annotations on your test?","body":"Is that your actual code now? You&#39;re not mixing Spring annotations on your test?"},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1689514175,"post_id":76698345,"comment_id":135221270,"body_markdown":"@tgdavies yes all of them are correct. I checked each one, they are imported from the right package.","body":"@tgdavies yes all of them are correct. I checked each one, they are imported from the right package."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689514368,"post_id":76698345,"comment_id":135221293,"body_markdown":"And there are no other annotations on your test class?","body":"And there are no other annotations on your test class?"},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1689514381,"post_id":76698345,"comment_id":135221296,"body_markdown":"When I run the test in debug mode, I realized that spring tries to execute `template.process` method, when the debug line is on `when(templateEngine.process...)`. It shouldn&#39;t be running this line before `underTest.confirmEmail()`. It should run `template.process` method inside the actual method(`AuthService.confirmEmail`)","body":"When I run the test in debug mode, I realized that spring tries to execute <code>template.process</code> method, when the debug line is on <code>when(templateEngine.process...)</code>. It shouldn&#39;t be running this line before <code>underTest.confirmEmail()</code>. It should run <code>template.process</code> method inside the actual method(<code>AuthService.confirmEmail</code>)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689514484,"post_id":76698345,"comment_id":135221312,"body_markdown":"`templateEngine` should be a mock at that point. Are there any other annotations, inheritance or `@Before/@BeforeAll` methods on your test that you haven&#39;t shown?","body":"<code>templateEngine</code> should be a mock at that point. Are there any other annotations, inheritance or <code>@Before&#47;@BeforeAll</code> methods on your test that you haven&#39;t shown?"},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1689514736,"post_id":76698345,"comment_id":135221346,"body_markdown":"I dont have any setUp method. (@Before, @BeforeAll, @BeforeEach etc.)  I also tried to mock the template engine inside the method but it also didn&#39;t work.  ```SpringTemplateEngine templateEngine1 = mock(SpringTemplateEngine.class);     when(templateEngine1.process(eq(&quot;index&quot;),any(Context.class))).thenReturn(&quot;asdaasdas&quot;);```","body":"I dont have any setUp method. (@Before, @BeforeAll, @BeforeEach etc.)  I also tried to mock the template engine inside the method but it also didn&#39;t work.  <code>SpringTemplateEngine templateEngine1 = mock(SpringTemplateEngine.class);     when(templateEngine1.process(eq(&quot;index&quot;),any(Context.class))&zwnj;&#8203;).thenReturn(&quot;asdaas&zwnj;&#8203;das&quot;);</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689514991,"post_id":76698345,"comment_id":135221372,"body_markdown":"Please edit your question to include a complete, minimal example which reproduces the problem.","body":"Please edit your question to include a complete, minimal example which reproduces the problem."},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1689515569,"post_id":76698345,"comment_id":135221440,"body_markdown":"@tgdavies I updated the question with the full and relevant code.","body":"@tgdavies I updated the question with the full and relevant code."}],"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1689515537,"creation_date":1689511723,"question_id":76698345,"body_markdown":"I am writing a unit test for `AuthService.confirmEmail` method. However, I get `Template cannot be null` exception. I already have this template under this path `resources/templates/emailConfirmed.html`. Even if I didn&#39;t have this template, spring shouldn&#39;t be throwing this error because `SpringTemplateEngine` is mocked. I don&#39;t know why I see this error. Any suggestion?\r\n\r\nThis is the actual method.\r\n\r\n**AuthService**\r\n\r\n```\r\n@Service\r\n@AllArgsConstructor\r\npublic class AuthService {\r\n\r\n    private final EmailConfirmationService emailConfirmationService;\r\n    private final SpringTemplateEngine templateEngine;\r\n\r\n    //....\r\n\r\n     @Transactional\r\n    public String confirmEmail(String token) {\r\n        EmailConfirmationToken confirmationToken;\r\n        try {\r\n            confirmationToken = emailConfirmationService\r\n                    .getToken(token);\r\n        } catch (ResourceNotFoundException e) {\r\n            return buildEmailConfirmedPage(&quot;Ge&#231;ersiz token!&quot;);\r\n        }\r\n        if (confirmationToken.getConfirmedAt() != null) {\r\n            return buildEmailConfirmedPage(&quot;E-posta zaten onaylandı.&quot;);\r\n        }\r\n\r\n        if (emailConfirmationService.isTokenExpired(confirmationToken)) {\r\n            return buildEmailConfirmedPage(&quot;E-posta onayı zaman aşımına uğradı!&quot;);\r\n        }\r\n        emailConfirmationService.setConfirmedAt(token);\r\n        appUserService.enableAppUser(confirmationToken.getAppUser().getEmail());\r\n        return buildEmailConfirmedPage(&quot;E-posta adresi onaylandı. Bu sayfayı kapatabilirsin.&quot;);\r\n    }\r\n\r\n    private String buildEmailConfirmedPage(String message) {\r\n        Context context = new Context();\r\n        context.setVariable(&quot;message&quot;, message);\r\n        return templateEngine.process(&quot;emailConfirmed&quot;, context);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n**AuthServiceTest**\r\n\r\n```\r\nimport com.napsam.wo.entities.EmailConfirmationToken;\r\nimport com.napsam.wo.entities.AppUser;\r\n\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.mockito.junit.jupiter.MockitoExtension;\r\nimport org.springframework.security.authentication.BadCredentialsException;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.thymeleaf.context.Context;\r\nimport org.thymeleaf.spring5.SpringTemplateEngine;\r\n\r\n\r\nimport static org.hamcrest.CoreMatchers.containsString;\r\nimport static org.hamcrest.MatcherAssert.assertThat;\r\nimport static org.junit.jupiter.api.Assertions.*;\r\nimport static org.mockito.Mockito.*;\r\n\r\n@ExtendWith(MockitoExtension.class)\r\npublic class AuthServiceTest {\r\n\r\n    @Mock\r\n    private EmailConfirmationService emailConfirmationService;\r\n\r\n    @Mock\r\n    private SpringTemplateEngine templateEngine;\r\n\r\n   //.. other mocks\r\n\r\n    @InjectMocks\r\n    private AuthService underTest;\r\n\r\n\r\n    @Test\r\n    void confirmEmail_success() {\r\n        //given\r\n        String token = UUID.randomUUID().toString();\r\n\r\n        EmailConfirmationToken emailConfirmationToken = new EmailConfirmationToken();\r\n        emailConfirmationToken.setExpiresAt(LocalDateTime.now().plusMinutes(10));\r\n        AppUser appUser = new AppUser();\r\n        appUser.setEmail(&quot;test&quot;);\r\n        emailConfirmationToken.setAppUser(appUser);\r\n        //when\r\n        when(emailConfirmationService.getToken(token)).thenReturn(emailConfirmationToken);\r\n        when(emailConfirmationService.isTokenExpired(emailConfirmationToken)).thenReturn(false);\r\n\r\n        when(templateEngine.process(eq(&quot;index&quot;), any(Context.class))).thenReturn(&quot;asdaasdas&quot;);\r\n\r\n        String result = underTest.confirmEmail(token);\r\n\r\n        //then\r\n        verify(appUserService, times(1)).enableAppUser(emailConfirmationToken.getAppUser().getEmail());\r\n        assertThat(result, containsString(&quot;E-posta adresi onaylandı.&quot;));\r\n    }\r\n\r\n   //other cases ...\r\n\r\n}\r\n```\r\n\r\n\r\n**Error full stack trace**\r\n```\r\n//AuthServiceTest.java:294 is the line where `templateEngine.process` is called.\r\njava.lang.IllegalArgumentException: Template cannot be null\r\n\r\n\tat org.thymeleaf.util.Validate.notNull(Validate.java:37)\r\n\tat org.thymeleaf.TemplateSpec.&lt;init&gt;(TemplateSpec.java:314)\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1048)\r\n\tat com.napsam.wo.service.AuthServiceTest.confirmEmail_success(AuthServiceTest.java:294)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n\r\n```\r\n","title":"java.lang.IllegalArgumentException: Template cannot be null","body":"<p>I am writing a unit test for <code>AuthService.confirmEmail</code> method. However, I get <code>Template cannot be null</code> exception. I already have this template under this path <code>resources/templates/emailConfirmed.html</code>. Even if I didn't have this template, spring shouldn't be throwing this error because <code>SpringTemplateEngine</code> is mocked. I don't know why I see this error. Any suggestion?</p>\n<p>This is the actual method.</p>\n<p><strong>AuthService</strong></p>\n<pre><code>@Service\n@AllArgsConstructor\npublic class AuthService {\n\n    private final EmailConfirmationService emailConfirmationService;\n    private final SpringTemplateEngine templateEngine;\n\n    //....\n\n     @Transactional\n    public String confirmEmail(String token) {\n        EmailConfirmationToken confirmationToken;\n        try {\n            confirmationToken = emailConfirmationService\n                    .getToken(token);\n        } catch (ResourceNotFoundException e) {\n            return buildEmailConfirmedPage(&quot;Geçersiz token!&quot;);\n        }\n        if (confirmationToken.getConfirmedAt() != null) {\n            return buildEmailConfirmedPage(&quot;E-posta zaten onaylandı.&quot;);\n        }\n\n        if (emailConfirmationService.isTokenExpired(confirmationToken)) {\n            return buildEmailConfirmedPage(&quot;E-posta onayı zaman aşımına uğradı!&quot;);\n        }\n        emailConfirmationService.setConfirmedAt(token);\n        appUserService.enableAppUser(confirmationToken.getAppUser().getEmail());\n        return buildEmailConfirmedPage(&quot;E-posta adresi onaylandı. Bu sayfayı kapatabilirsin.&quot;);\n    }\n\n    private String buildEmailConfirmedPage(String message) {\n        Context context = new Context();\n        context.setVariable(&quot;message&quot;, message);\n        return templateEngine.process(&quot;emailConfirmed&quot;, context);\n    }\n\n}\n\n</code></pre>\n<p><strong>AuthServiceTest</strong></p>\n<pre><code>import com.napsam.wo.entities.EmailConfirmationToken;\nimport com.napsam.wo.entities.AppUser;\n\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.junit.jupiter.MockitoExtension;\nimport org.springframework.security.authentication.BadCredentialsException;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.thymeleaf.context.Context;\nimport org.thymeleaf.spring5.SpringTemplateEngine;\n\n\nimport static org.hamcrest.CoreMatchers.containsString;\nimport static org.hamcrest.MatcherAssert.assertThat;\nimport static org.junit.jupiter.api.Assertions.*;\nimport static org.mockito.Mockito.*;\n\n@ExtendWith(MockitoExtension.class)\npublic class AuthServiceTest {\n\n    @Mock\n    private EmailConfirmationService emailConfirmationService;\n\n    @Mock\n    private SpringTemplateEngine templateEngine;\n\n   //.. other mocks\n\n    @InjectMocks\n    private AuthService underTest;\n\n\n    @Test\n    void confirmEmail_success() {\n        //given\n        String token = UUID.randomUUID().toString();\n\n        EmailConfirmationToken emailConfirmationToken = new EmailConfirmationToken();\n        emailConfirmationToken.setExpiresAt(LocalDateTime.now().plusMinutes(10));\n        AppUser appUser = new AppUser();\n        appUser.setEmail(&quot;test&quot;);\n        emailConfirmationToken.setAppUser(appUser);\n        //when\n        when(emailConfirmationService.getToken(token)).thenReturn(emailConfirmationToken);\n        when(emailConfirmationService.isTokenExpired(emailConfirmationToken)).thenReturn(false);\n\n        when(templateEngine.process(eq(&quot;index&quot;), any(Context.class))).thenReturn(&quot;asdaasdas&quot;);\n\n        String result = underTest.confirmEmail(token);\n\n        //then\n        verify(appUserService, times(1)).enableAppUser(emailConfirmationToken.getAppUser().getEmail());\n        assertThat(result, containsString(&quot;E-posta adresi onaylandı.&quot;));\n    }\n\n   //other cases ...\n\n}\n</code></pre>\n<p><strong>Error full stack trace</strong></p>\n<pre><code>//AuthServiceTest.java:294 is the line where `templateEngine.process` is called.\njava.lang.IllegalArgumentException: Template cannot be null\n\n    at org.thymeleaf.util.Validate.notNull(Validate.java:37)\n    at org.thymeleaf.TemplateSpec.&lt;init&gt;(TemplateSpec.java:314)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1048)\n    at com.napsam.wo.service.AuthServiceTest.confirmEmail_success(AuthServiceTest.java:294)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n\n</code></pre>\n"},{"tags":["java","spring-boot","maven","jsp","war"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1684072262,"post_id":76247078,"comment_id":134460036,"body_markdown":"What is the name of the war file?","body":"What is the name of the war file?"},{"owner":{"account_id":4642964,"reputation":749,"user_id":3762222,"display_name":"Shoaeb"},"score":0,"creation_date":1684074074,"post_id":76247078,"comment_id":134460286,"body_markdown":"Not sure how that is relevant.. \nbut the name of the war file that gets created is &quot;spring-boot-servlet-jsp-spring-0.0.1-SNAPSHOT.war&quot;","body":"Not sure how that is relevant..  but the name of the war file that gets created is &quot;spring-boot-servlet-jsp-spring-0.0.1-SNAPSHOT.war&quot;"},{"owner":{"account_id":4642964,"reputation":749,"user_id":3762222,"display_name":"Shoaeb"},"score":0,"creation_date":1684159673,"post_id":76247078,"comment_id":134472119,"body_markdown":"I understand that I want to leverage the advantages of quick setup / quick development features that spring boot provied and still be able to deploy it to a WAR file where my app will sit on a single Container server alongwith other Apps..\n\nIn this instance, a Single tomcat server which has port 80 opened and i would want all my apps to be part of this tomcat server.","body":"I understand that I want to leverage the advantages of quick setup / quick development features that spring boot provied and still be able to deploy it to a WAR file where my app will sit on a single Container server alongwith other Apps..  In this instance, a Single tomcat server which has port 80 opened and i would want all my apps to be part of this tomcat server."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1684167174,"post_id":76247078,"comment_id":134474116,"body_markdown":"@Shoaeb The name of the war file might be relevant if you didn&#39;t provide a context configuration. Also you should post the server logs to see if it&#39;s started correctly.","body":"@Shoaeb The name of the war file might be relevant if you didn&#39;t provide a context configuration. Also you should post the server logs to see if it&#39;s started correctly."},{"owner":{"account_id":4642964,"reputation":749,"user_id":3762222,"display_name":"Shoaeb"},"score":0,"creation_date":1684217714,"post_id":76247078,"comment_id":134481058,"body_markdown":"@Roman, Ah I see why the name of the war might be relevant. I have edited my question.\nThanks","body":"@Roman, Ah I see why the name of the war might be relevant. I have edited my question. Thanks"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1684397795,"post_id":76247078,"comment_id":134512958,"body_markdown":"Why are you trying to access a JSP file directly? You are not supposed to do that with a Spring application (which uses the MVC architecture).","body":"Why are you trying to access a JSP file directly? You are not supposed to do that with a Spring application (which uses the MVC architecture)."},{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1689275777,"post_id":76247078,"comment_id":135194467,"body_markdown":"Having the project on an open linked repository is not sufficient for questions on Stack Overflow. Please read [mre]. We *must* have enough code to demonstrate the problem *in the question itself*.","body":"Having the project on an open linked repository is not sufficient for questions on Stack Overflow. Please read <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. We <i>must</i> have enough code to demonstrate the problem <i>in the question itself</i>."}],"answers":[{"comments":[{"owner":{"account_id":4642964,"reputation":749,"user_id":3762222,"display_name":"Shoaeb"},"score":0,"creation_date":1684295980,"post_id":76267210,"comment_id":134495847,"body_markdown":"I agree with the above and know that this is not the standard practice / Convention to keep the JSP files. However, My concern is that the same project works fine in a Dev environment and does not when Packaged into a war. What Change should be added in the packaging that it behaves the same way it is behaving for Dev env.","body":"I agree with the above and know that this is not the standard practice / Convention to keep the JSP files. However, My concern is that the same project works fine in a Dev environment and does not when Packaged into a war. What Change should be added in the packaging that it behaves the same way it is behaving for Dev env."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1684398938,"post_id":76267210,"comment_id":134513155,"body_markdown":"@Shoaeb I have edited the answer to address your comment.","body":"@Shoaeb I have edited the answer to address your comment."}],"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1684398925,"creation_date":1684273074,"answer_id":76267210,"question_id":76247078,"body_markdown":"&gt; But when I try to do the same after packaging using mvn package the project into a war and running it on an external apache tomcat , I get Not found error.\r\n\r\nI do not see in [your project][1] a [`SpringBootServletInitializer`][2], which should be essential because it allows the servlet container to run your application by bootstrapping it via code, rather than using the web.xml descriptor file: if you are deploying your Spring Boot application as a WAR file to an external servlet container like Apache Tomcat, you will need a class that extends `SpringBootServletInitializer`.\r\n\r\nSomething like:\r\n\r\n``` java\r\nimport org.springframework.boot.builder.SpringApplicationBuilder;\r\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\n\r\npublic class ServletInitializer extends SpringBootServletInitializer {\r\n\r\n    @Override\r\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n        return application.sources(YourApplication.class);\r\n    }\r\n\r\n}\r\n```\r\n\r\nPlus, as [seen here][3], the JSP files should be under the `${project.basedir}/main/webapp/WEB-INF/jsp/` directory.\r\n\r\nThe `src/main/webapp/WEB-INF/` directory is the standard location for resources that need to be protected from direct access (which typically includes JSP files), as the servlet specification restricts direct access to files under the `WEB-INF/` directory.\r\n\r\nMake sure your `src/main/resources/application.properties` (or `src/main/resources/application.yml`) has the correct settings for view resolution:\r\n\r\n``` properties\r\nspring.mvc.view.prefix=/WEB-INF/jsp/\r\nspring.mvc.view.suffix=.jsp\r\n```\r\n\r\nThis tells Spring Boot to look for views in the `/WEB-INF/jsp/` directory (with `.jsp` extension).  \r\nThe prefix and suffix properties are used to generate the real view path based on the view name returned by the controller. \r\n\r\nFor example, if your controller returns &quot;`employeeView`&quot; as the view name, Spring will use the prefix and suffix to resolve that to `/WEB-INF/jsp/employeeView.jsp`.\r\n\r\nSo your project structure should be something like:\r\n\r\n```\r\n.\r\n├── src\r\n│   ├── main\r\n│   │   ├── java\r\n│   │   │   └── com\r\n│   │   │       └── yourpackage\r\n│   │   │           └── YourApplication.java\r\n│   │   ├── resources\r\n│   │   │   └── application.properties\r\n│   │   └── webapp\r\n│   │       └── WEB-INF\r\n│   │           └── jsp\r\n│   │               └── employeeView.jsp\r\n└── pom.xml\r\n```\r\n\r\n-----\r\n\r\n&gt; My concern is that the same project works fine in a Dev environment and does not when Packaged into a war. What Change should be added in the packaging that it behaves the same way it is behaving for Dev env\r\n\r\nThe discrepancy you&#39;re seeing is likely due to differences in how embedded servers (like the one used when you run the application from your IDE or using `mvn spring-boot:run`) and standalone servers (like the Apache Tomcat you&#39;re deploying your WAR to) handle resource loading.\r\n\r\nWhen using an embedded server, Spring Boot uses its [own resource loading logic][4], which includes several locations under `src/main/resources` in the classpath, including `/META-INF/resources/`, where you currently have your JSP.  \r\nHowever, standalone servers like Apache Tomcat use the Servlet API&#39;s resource loading logic, which does not include `/META-INF/resources/` in the classpath for JSP files.\r\n\r\nThere&#39;s no direct way to make Tomcat load JSP files from `/META-INF/resources/` like the embedded server does, because this behavior is hard-coded in the Servlet specification, which Tomcat follows. JSPs are expected to be located under `/WEB-INF/`.\r\n\r\n----\r\n\r\nPlus, in a [Spring MVC framework][5], you would not directly access JSP files via the URL.  \r\nInstead, a common pattern is for the client to interact with a controller, which then decides which view (such as a JSP) to show based on the request.\r\n\r\nFor example, you might have a controller method that looks like this:\r\n\r\n```java\r\n@Controller\r\npublic class EmployeeController {\r\n\r\n    @GetMapping(&quot;/employeeView&quot;)\r\n    public String showEmployeeView() {\r\n        // You might add some attributes to the model here...\r\n        return &quot;employeeView&quot;; // Spring will use the view resolver settings to find the JSP\r\n    }\r\n}\r\n```\r\n\r\nThen, if your `spring.mvc.view.prefix` is `/WEB-INF/jsp/` and `spring.mvc.view.suffix` is `.jsp` (specified in your `application.properties`), Spring will use those to find the view at `/WEB-INF/jsp/employeeView.jsp`.\r\n\r\nYou would then access the view by going to `http://localhost:8080/employeeView` (when running locally), not `http://localhost:8080/employeeView.jsp`.\r\n\r\nThis pattern allows you to include any necessary server-side processing before the view is returned, and it helps to hide the implementation details of your views (such as their locations and the technologies used to create them) from the client.  \r\nIt is also more in line with the principles of MVC architecture, where the controller handles user interactions and decides which view to display.\r\n\r\n\r\n  [1]: https://github.com/search?q=repo%3Acrystaldeveloper2017%2Fspringstartertest%20SpringBootServletInitializer&amp;type=code\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/web/servlet/support/SpringBootServletInitializer.html\r\n  [3]: https://www.baeldung.com/spring-boot-jsp#view-resolver-configuration\r\n  [4]: https://www.logicbig.com/tutorials/spring-framework/spring-core/resource-loading.html\r\n  [5]: https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/mvc.html","title":"Spring Boot accessing JSP directly from URL works from within IDE but does not work after packaging as WAR","body":"<blockquote>\n<p>But when I try to do the same after packaging using mvn package the project into a war and running it on an external apache tomcat , I get Not found error.</p>\n</blockquote>\n<p>I do not see in <a href=\"https://github.com/search?q=repo%3Acrystaldeveloper2017%2Fspringstartertest%20SpringBootServletInitializer&amp;type=code\" rel=\"nofollow noreferrer\">your project</a> a <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/web/servlet/support/SpringBootServletInitializer.html\" rel=\"nofollow noreferrer\"><code>SpringBootServletInitializer</code></a>, which should be essential because it allows the servlet container to run your application by bootstrapping it via code, rather than using the web.xml descriptor file: if you are deploying your Spring Boot application as a WAR file to an external servlet container like Apache Tomcat, you will need a class that extends <code>SpringBootServletInitializer</code>.</p>\n<p>Something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\n\npublic class ServletInitializer extends SpringBootServletInitializer {\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(YourApplication.class);\n    }\n\n}\n</code></pre>\n<p>Plus, as <a href=\"https://www.baeldung.com/spring-boot-jsp#view-resolver-configuration\" rel=\"nofollow noreferrer\">seen here</a>, the JSP files should be under the <code>${project.basedir}/main/webapp/WEB-INF/jsp/</code> directory.</p>\n<p>The <code>src/main/webapp/WEB-INF/</code> directory is the standard location for resources that need to be protected from direct access (which typically includes JSP files), as the servlet specification restricts direct access to files under the <code>WEB-INF/</code> directory.</p>\n<p>Make sure your <code>src/main/resources/application.properties</code> (or <code>src/main/resources/application.yml</code>) has the correct settings for view resolution:</p>\n<pre><code>spring.mvc.view.prefix=/WEB-INF/jsp/\nspring.mvc.view.suffix=.jsp\n</code></pre>\n<p>This tells Spring Boot to look for views in the <code>/WEB-INF/jsp/</code> directory (with <code>.jsp</code> extension).<br />\nThe prefix and suffix properties are used to generate the real view path based on the view name returned by the controller.</p>\n<p>For example, if your controller returns &quot;<code>employeeView</code>&quot; as the view name, Spring will use the prefix and suffix to resolve that to <code>/WEB-INF/jsp/employeeView.jsp</code>.</p>\n<p>So your project structure should be something like:</p>\n<pre><code>.\n├── src\n│   ├── main\n│   │   ├── java\n│   │   │   └── com\n│   │   │       └── yourpackage\n│   │   │           └── YourApplication.java\n│   │   ├── resources\n│   │   │   └── application.properties\n│   │   └── webapp\n│   │       └── WEB-INF\n│   │           └── jsp\n│   │               └── employeeView.jsp\n└── pom.xml\n</code></pre>\n<hr />\n<blockquote>\n<p>My concern is that the same project works fine in a Dev environment and does not when Packaged into a war. What Change should be added in the packaging that it behaves the same way it is behaving for Dev env</p>\n</blockquote>\n<p>The discrepancy you're seeing is likely due to differences in how embedded servers (like the one used when you run the application from your IDE or using <code>mvn spring-boot:run</code>) and standalone servers (like the Apache Tomcat you're deploying your WAR to) handle resource loading.</p>\n<p>When using an embedded server, Spring Boot uses its <a href=\"https://www.logicbig.com/tutorials/spring-framework/spring-core/resource-loading.html\" rel=\"nofollow noreferrer\">own resource loading logic</a>, which includes several locations under <code>src/main/resources</code> in the classpath, including <code>/META-INF/resources/</code>, where you currently have your JSP.<br />\nHowever, standalone servers like Apache Tomcat use the Servlet API's resource loading logic, which does not include <code>/META-INF/resources/</code> in the classpath for JSP files.</p>\n<p>There's no direct way to make Tomcat load JSP files from <code>/META-INF/resources/</code> like the embedded server does, because this behavior is hard-coded in the Servlet specification, which Tomcat follows. JSPs are expected to be located under <code>/WEB-INF/</code>.</p>\n<hr />\n<p>Plus, in a <a href=\"https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/mvc.html\" rel=\"nofollow noreferrer\">Spring MVC framework</a>, you would not directly access JSP files via the URL.<br />\nInstead, a common pattern is for the client to interact with a controller, which then decides which view (such as a JSP) to show based on the request.</p>\n<p>For example, you might have a controller method that looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class EmployeeController {\n\n    @GetMapping(&quot;/employeeView&quot;)\n    public String showEmployeeView() {\n        // You might add some attributes to the model here...\n        return &quot;employeeView&quot;; // Spring will use the view resolver settings to find the JSP\n    }\n}\n</code></pre>\n<p>Then, if your <code>spring.mvc.view.prefix</code> is <code>/WEB-INF/jsp/</code> and <code>spring.mvc.view.suffix</code> is <code>.jsp</code> (specified in your <code>application.properties</code>), Spring will use those to find the view at <code>/WEB-INF/jsp/employeeView.jsp</code>.</p>\n<p>You would then access the view by going to <code>http://localhost:8080/employeeView</code> (when running locally), not <code>http://localhost:8080/employeeView.jsp</code>.</p>\n<p>This pattern allows you to include any necessary server-side processing before the view is returned, and it helps to hide the implementation details of your views (such as their locations and the technologies used to create them) from the client.<br />\nIt is also more in line with the principles of MVC architecture, where the controller handles user interactions and decides which view to display.</p>\n"},{"comments":[{"owner":{"account_id":4642964,"reputation":749,"user_id":3762222,"display_name":"Shoaeb"},"score":0,"creation_date":1684735729,"post_id":76301482,"comment_id":134554509,"body_markdown":"When you say &quot;when I take the war file and manually put it into tomcat webapps&quot;, do you export using eclipse or do &quot;mvn package&quot; to generate the WAR.. ?","body":"When you say &quot;when I take the war file and manually put it into tomcat webapps&quot;, do you export using eclipse or do &quot;mvn package&quot; to generate the WAR.. ?"},{"owner":{"account_id":7115123,"reputation":77,"user_id":5441709,"display_name":"Raster R"},"score":0,"creation_date":1684738987,"post_id":76301482,"comment_id":134555070,"body_markdown":"I meant using mvn clean package take the war file from generated  target folder. The export wizard has too many manual steps","body":"I meant using mvn clean package take the war file from generated  target folder. The export wizard has too many manual steps"},{"owner":{"account_id":7115123,"reputation":77,"user_id":5441709,"display_name":"Raster R"},"score":0,"creation_date":1684742033,"post_id":76301482,"comment_id":134555629,"body_markdown":"I added a line &quot; You can even right click on your main class java file and use Run as Spring Boot Application.&quot; I hope you dont remove your git repository. Its a good refernce even though some things are a bit different.","body":"I added a line &quot; You can even right click on your main class java file and use Run as Spring Boot Application.&quot; I hope you dont remove your git repository. Its a good refernce even though some things are a bit different."},{"owner":{"account_id":4642964,"reputation":749,"user_id":3762222,"display_name":"Shoaeb"},"score":0,"creation_date":1684776871,"post_id":76301482,"comment_id":134563192,"body_markdown":"Can you share your code snippet that is working for  you on both embedded tomcat and external tomcat ?","body":"Can you share your code snippet that is working for  you on both embedded tomcat and external tomcat ?"},{"owner":{"account_id":7115123,"reputation":77,"user_id":5441709,"display_name":"Raster R"},"score":0,"creation_date":1684780957,"post_id":76301482,"comment_id":134564049,"body_markdown":"No real change in your code other than the snippets I shared above. Note: server.servlet.context-path=/spring-boot-servlet-jsp-spring. Because that matches the artifactId. Which means if you use this setup and run the urls will be http://localhost:8080/spring-boot-servlet-jsp-spring","body":"No real change in your code other than the snippets I shared above. Note: server.servlet.context-path=/spring-boot-servlet-jsp-spring. Because that matches the artifactId. Which means if you use this setup and run the urls will be <a href=\"http://localhost:8080/spring-boot-servlet-jsp-spring\" rel=\"nofollow noreferrer\">localhost:8080/spring-boot-servlet-jsp-spring</a>"},{"owner":{"account_id":7115123,"reputation":77,"user_id":5441709,"display_name":"Raster R"},"score":0,"creation_date":1684781640,"post_id":76301482,"comment_id":134564163,"body_markdown":"It works all the ways its supposed to. By the way you have committed the target folder. Remove it from there. Use a .gitignore. In eclipse Sometimes it also helps to do this. Right click on project. Do a F5(Refresh). Then Right click do a Maven Update. Then lastly from Project menu to do a clean before running the app.","body":"It works all the ways its supposed to. By the way you have committed the target folder. Remove it from there. Use a .gitignore. In eclipse Sometimes it also helps to do this. Right click on project. Do a F5(Refresh). Then Right click do a Maven Update. Then lastly from Project menu to do a clean before running the app."},{"owner":{"account_id":7115123,"reputation":77,"user_id":5441709,"display_name":"Raster R"},"score":0,"creation_date":1684781974,"post_id":76301482,"comment_id":134564222,"body_markdown":"Not sure if this could be the difference- I am not using springtools. Just using the eclipse JEE edition.","body":"Not sure if this could be the difference- I am not using springtools. Just using the eclipse JEE edition."},{"owner":{"account_id":7115123,"reputation":77,"user_id":5441709,"display_name":"Raster R"},"score":0,"creation_date":1684782472,"post_id":76301482,"comment_id":134564333,"body_markdown":"Small correction. I am using a recent eclipse.- Version: 2023-03 (4.27.0) Build id: 20230309-1520. I do have spring tools manually installed from market place. Maybe that will help.","body":"Small correction. I am using a recent eclipse.- Version: 2023-03 (4.27.0) Build id: 20230309-1520. I do have spring tools manually installed from market place. Maybe that will help."}],"tags":[],"owner":{"account_id":7115123,"reputation":77,"user_id":5441709,"display_name":"Raster R"},"comment_count":8,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1689275982,"creation_date":1684695933,"answer_id":76301482,"question_id":76247078,"body_markdown":"Instead of servlets, I would use Spring controllers.\r\n\r\nThere is no reason why the jsp should not be picked up from there.\r\nIt&#39;s quite common to have a index.jsp or index.html.\r\n\r\nI use eclipse and it works fine when I do Run on Server or when I take the war file and manually put it into tomcat webapps. You can even right click on your main class java file and use Run as Spring Boot Application.\r\n\r\nAnother issue could be you are targeting different server versions from your IDE vs when you deploy as war. This might cause an issue if one of them is tomcat 10 and the other is a lower version, because of breaking changes in the servlet API.","title":"Spring Boot accessing JSP directly from URL works from within IDE but does not work after packaging as WAR","body":"<p>Instead of servlets, I would use Spring controllers.</p>\n<p>There is no reason why the jsp should not be picked up from there.\nIt's quite common to have a index.jsp or index.html.</p>\n<p>I use eclipse and it works fine when I do Run on Server or when I take the war file and manually put it into tomcat webapps. You can even right click on your main class java file and use Run as Spring Boot Application.</p>\n<p>Another issue could be you are targeting different server versions from your IDE vs when you deploy as war. This might cause an issue if one of them is tomcat 10 and the other is a lower version, because of breaking changes in the servlet API.</p>\n"}],"owner":{"account_id":4642964,"reputation":749,"user_id":3762222,"display_name":"Shoaeb"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":651,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1689515471,"creation_date":1684061593,"question_id":76247078,"body_markdown":"I have [a spring boot project based on Maven](https://github.com/springstartertest).\r\n\r\nWhen I Run/ Debug this project from within the VS code, and check the URL `http://localhost:8080/employeeView.jsp`, I get the desired results.\r\n\r\nBut when I try to package the project into a .war using `mvn package`, run it on an external apache tomcat, and check the corresponding URL (`http://localhost:8080/NAME_OF_WAR/employeeView.jsp`), it gives a 404 not found error. Why?\r\n\r\n","title":"Spring Boot accessing JSP directly from URL works from within IDE but does not work after packaging as WAR","body":"<p>I have <a href=\"https://github.com/springstartertest\" rel=\"nofollow noreferrer\">a spring boot project based on Maven</a>.</p>\n<p>When I Run/ Debug this project from within the VS code, and check the URL <code>http://localhost:8080/employeeView.jsp</code>, I get the desired results.</p>\n<p>But when I try to package the project into a .war using <code>mvn package</code>, run it on an external apache tomcat, and check the corresponding URL (<code>http://localhost:8080/NAME_OF_WAR/employeeView.jsp</code>), it gives a 404 not found error. Why?</p>\n"},{"tags":["java","spring-boot","junit","mocking","mockmvc"],"comments":[{"owner":{"account_id":8087134,"reputation":28361,"user_id":6094348,"accept_rate":100,"display_name":"Yousaf"},"score":2,"creation_date":1689314563,"post_id":76684866,"comment_id":135198556,"body_markdown":"Try adding the following annotation on the Test class: `@WebMvcTest(ContentController.class)`","body":"Try adding the following annotation on the Test class: <code>@WebMvcTest(ContentController.class)</code>"},{"owner":{"account_id":24429333,"reputation":39,"user_id":18354478,"display_name":"harsh agarwal"},"score":0,"creation_date":1689314975,"post_id":76684866,"comment_id":135198606,"body_markdown":"Got this error \n\n`Description:\n\nParameter 0 of constructor in com.example.sixth.controller.ContentController required a bean of type &#39;com.example.sixth.service.ContentService&#39; that could not be found.\n\n\nAction:\n\nConsider defining a bean of type &#39;com.example.sixth.service.ContentService&#39; in your configuration.`","body":"Got this error   <code>Description:  Parameter 0 of constructor in com.example.sixth.controller.ContentController required a bean of type &#39;com.example.sixth.service.ContentService&#39; that could not be found.   Action:  Consider defining a bean of type &#39;com.example.sixth.service.ContentService&#39; in your configuration.</code>"},{"owner":{"account_id":8087134,"reputation":28361,"user_id":6094348,"accept_rate":100,"display_name":"Yousaf"},"score":2,"creation_date":1689315207,"post_id":76684866,"comment_id":135198639,"body_markdown":"Change `@Mock` to `@MockBean` on the `ContentService` field in the test class.","body":"Change <code>@Mock</code> to <code>@MockBean</code> on the <code>ContentService</code> field in the test class."},{"owner":{"account_id":24429333,"reputation":39,"user_id":18354478,"display_name":"harsh agarwal"},"score":0,"creation_date":1689315571,"post_id":76684866,"comment_id":135198711,"body_markdown":"Still Page not found : No mapping for GET /content error is there.","body":"Still Page not found : No mapping for GET /content error is there."},{"owner":{"account_id":8087134,"reputation":28361,"user_id":6094348,"accept_rate":100,"display_name":"Yousaf"},"score":1,"creation_date":1689315794,"post_id":76684866,"comment_id":135198741,"body_markdown":"Try removing `contentType(MediaType.APPLICATION_JSON)` in the request part.","body":"Try removing <code>contentType(MediaType.APPLICATION_JSON)</code> in the request part."},{"owner":{"account_id":24429333,"reputation":39,"user_id":18354478,"display_name":"harsh agarwal"},"score":0,"creation_date":1689315990,"post_id":76684866,"comment_id":135198776,"body_markdown":"No...Didn&#39;t work.","body":"No...Didn&#39;t work."},{"owner":{"account_id":24429333,"reputation":39,"user_id":18354478,"display_name":"harsh agarwal"},"score":0,"creation_date":1689316153,"post_id":76684866,"comment_id":135198808,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/254490/discussion-between-harsh-agarwal-and-yousaf).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/254490/discussion-between-harsh-agarwal-and-yousaf\">continue this discussion in chat</a>."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1689323475,"post_id":76684866,"comment_id":135200122,"body_markdown":"On top of @Yousaf’s advice, also remove entire BeforeEach method.","body":"On top of @Yousaf’s advice, also remove entire BeforeEach method."},{"owner":{"account_id":24429333,"reputation":39,"user_id":18354478,"display_name":"harsh agarwal"},"score":0,"creation_date":1689427279,"post_id":76684866,"comment_id":135213716,"body_markdown":"Thanks @Lesiak ..the mapping worked ...but still an error is showing..can u please guide me through that.. Error is:-\n\n`java.lang.AssertionError: No value at JSON path &quot;$.duration&quot;`\n\n\n\n`Caused by: com.jayway.jsonpath.PathNotFoundException: Expected to find an object with property [&#39;duration&#39;] in path $ but found &#39;net.minidev.json.JSONArray&#39;. This is not a json object according to the JsonProvider: &#39;com.jayway.jsonpath.spi.json.JsonSmartJsonProvider&#39;.`","body":"Thanks @Lesiak ..the mapping worked ...but still an error is showing..can u please guide me through that.. Error is:-  <code>java.lang.AssertionError: No value at JSON path &quot;$.duration&quot;</code>    <code>Caused by: com.jayway.jsonpath.PathNotFoundException: Expected to find an object with property [&#39;duration&#39;] in path $ but found &#39;net.minidev.json.JSONArray&#39;. This is not a json object according to the JsonProvider: &#39;com.jayway.jsonpath.spi.json.JsonSmartJsonProvider&#39;.</code>"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1689428194,"post_id":76684866,"comment_id":135213817,"body_markdown":"Your assertion is wrong. You return an array of objects, not an object.","body":"Your assertion is wrong. You return an array of objects, not an object."},{"owner":{"account_id":24429333,"reputation":39,"user_id":18354478,"display_name":"harsh agarwal"},"score":0,"creation_date":1689487172,"post_id":76684866,"comment_id":135218662,"body_markdown":"Thanks @Lesiak for pointing that out...I tried searching how to assert with array of objects but couldn&#39;t find one.. Could you please tell me what exact changes to be made in \n`  &quot;$&quot;,is(contentList) ` \ncode. \nTIA.","body":"Thanks @Lesiak for pointing that out...I tried searching how to assert with array of objects but couldn&#39;t find one.. Could you please tell me what exact changes to be made in  `  &quot;$&quot;,is(contentList) `  code.  TIA."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1689498152,"post_id":76684866,"comment_id":135219543,"body_markdown":"I&#39;d try &quot;$[*]&quot; to get entire list or &quot;$[0]&quot; to get first element. Check which approach produces more readable errors.","body":"I&#39;d try &quot;$[*]&quot; to get entire list or &quot;$[0]&quot; to get first element. Check which approach produces more readable errors."},{"owner":{"account_id":24429333,"reputation":39,"user_id":18354478,"display_name":"harsh agarwal"},"score":0,"creation_date":1689512798,"post_id":76684866,"comment_id":135221099,"body_markdown":"It worked Thanks.. @Lesiak\nCan u pls tell me why removing before Each method was necessary ..like it just initializes the mockMvc..","body":"It worked Thanks.. @Lesiak Can u pls tell me why removing before Each method was necessary ..like it just initializes the mockMvc.."}],"answers":[{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689515436,"creation_date":1689515436,"answer_id":76698596,"question_id":76684866,"body_markdown":"As discussed in comments, you are trying to write a unit test for a single controller.\r\n\r\n@WebMvcTest is the right tool for the job.\r\n\r\n1. annotate your test with @WebMvcTest(Content controller.class)\r\nIt will create spring context with web slice of the app.\r\n\r\n2. You need to provide missing beans so that spring can create the instance of your controller. These are provided with @MockBean, not @Mock\r\n\r\n3. Get requests do not have a body in http1 and http2. Remove content type in your request.\r\n\r\n4. Lastly, you have MockMvc instance provided by WebMvcTest (this annotation is annotated with @AutoConfigureWebMvc), injected to your test with @Autowired. You were overwriting this instance with another, badly cofigured one in @BeforeEach. On top of that, you were also overwriting mocks. This is why entire BeforeEach needed to be deleted.\r\n\r\nSee [Unit Testing With @WebMvcTest](https://www.baeldung.com/spring-boot-testing#unit-testing-with-webmvctest)","title":"Page Not Found -- No mapping for /GET","body":"<p>As discussed in comments, you are trying to write a unit test for a single controller.</p>\n<p>@WebMvcTest is the right tool for the job.</p>\n<ol>\n<li><p>annotate your test with @WebMvcTest(Content controller.class)\nIt will create spring context with web slice of the app.</p>\n</li>\n<li><p>You need to provide missing beans so that spring can create the instance of your controller. These are provided with @MockBean, not @Mock</p>\n</li>\n<li><p>Get requests do not have a body in http1 and http2. Remove content type in your request.</p>\n</li>\n<li><p>Lastly, you have MockMvc instance provided by WebMvcTest (this annotation is annotated with @AutoConfigureWebMvc), injected to your test with @Autowired. You were overwriting this instance with another, badly cofigured one in @BeforeEach. On top of that, you were also overwriting mocks. This is why entire BeforeEach needed to be deleted.</p>\n</li>\n</ol>\n<p>See <a href=\"https://www.baeldung.com/spring-boot-testing#unit-testing-with-webmvctest\" rel=\"nofollow noreferrer\">Unit Testing With @WebMvcTest</a></p>\n"}],"owner":{"account_id":24429333,"reputation":39,"user_id":18354478,"display_name":"harsh agarwal"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76698596,"answer_count":1,"score":0,"last_activity_date":1689515436,"creation_date":1689311430,"question_id":76684866,"body_markdown":"I am trying to write test for my controller for my SPRING-BOOT CRUD operation project using junit5 and mocking. While running the test it is showing below error. Not able to understand what is the problem.\r\n\r\nError:-\r\n\r\n```10:24:51.839 [main] INFO org.springframework.mock.web.MockServletContext -- Initializing Spring TestDispatcherServlet &#39;&#39;\r\n10:24:51.840 [main] INFO org.springframework.test.web.servlet.TestDispatcherServlet -- Initializing Servlet &#39;&#39;\r\n10:24:51.842 [main] INFO org.springframework.test.web.servlet.TestDispatcherServlet -- Completed initialization in 1 ms\r\n10:24:51.865 [main] WARN org.springframework.web.servlet.PageNotFound -- No mapping for GET /content\r\n\r\njava.lang.AssertionError: No value at JSON path &quot;$.duration&quot;\r\n```\r\nContentController file:-\r\n\r\n```\r\npackage com.example.sixth.controller;\r\n\r\n\r\nimport com.example.sixth.entity.Content;\r\nimport com.example.sixth.service.ContentService;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@RestController\r\npublic class ContentController {\r\n\r\n\r\n\r\n    private final ContentService contentService;\r\n\r\n    public ContentController(ContentService contentService) {\r\n        this.contentService = contentService;\r\n    }\r\n\r\n    @GetMapping(&quot;/content&quot;)\r\n    public List&lt;Content&gt; show(){\r\n        return contentService.showAll();\r\n    }\r\n\r\n\r\n    @PostMapping(&quot;/content&quot;)\r\n    public String save(@RequestBody Content content){\r\n        return contentService.save(content);\r\n    }\r\n\r\n\r\n    @GetMapping(&quot;/content/title/{param}&quot;)\r\n    public List&lt;Content&gt; getContentStartWith(@PathVariable(&quot;param&quot;) String title){\r\n        return contentService.getContentStartWith(title);\r\n    }\r\n\r\n\r\n    @DeleteMapping(&quot;/content/{id}&quot;)\r\n    public String delete(@PathVariable Integer id){\r\n        return contentService.delete(id);\r\n    }\r\n\r\n\r\n    @GetMapping(&quot;/id&quot;)\r\n    public List&lt;Content&gt;getById(@RequestParam Integer minId,\r\n                                @RequestParam Integer maxId){\r\n        return contentService.getById(minId,maxId);\r\n    }\r\n\r\n\r\n    @GetMapping(&quot;/content/{id}&quot;)\r\n    public Optional&lt;Content&gt; findById(@PathVariable Integer id){\r\n        return contentService.findById(id);\r\n    }\r\n\r\n}\r\n```\r\nTestFile:-\r\n\r\n```\r\npackage com.example.sixth;\r\n\r\nimport com.example.sixth.controller.ContentController;\r\nimport com.example.sixth.entity.Content;\r\nimport com.example.sixth.service.ContentService;\r\nimport com.example.sixth.service.ContentServiceImpl;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.mockito.Mockito;\r\nimport org.mockito.MockitoAnnotations;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.MockMvcBuilder;\r\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\r\nimport org.springframework.test.web.servlet.result.MockMvcResultMatchers;\r\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\r\n//import org.powermock.api.mockito.PowerMockito;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport static org.hamcrest.Matchers.is;\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\n\r\n@AutoConfigureMockMvc\r\n//@SpringBootTest\r\npublic class ContentControllerTest {\r\n\r\n    @Autowired\r\n    MockMvc mockMvc;\r\n\r\n    @Mock\r\n    ContentService mockService;\r\n\r\n    @InjectMocks\r\n    ContentController contentController;\r\n\r\n    @BeforeEach\r\n    public void init(){\r\n        MockitoAnnotations.initMocks(this);\r\n\r\n        this.mockMvc= MockMvcBuilders.standaloneSetup(mockService).build();\r\n    }\r\n\r\n    @Test\r\n    public void testfindall() throws Exception {\r\n        Content content = (Content.builder()\r\n                .id(3)\r\n                .title(&quot;SECOND!!&quot;)\r\n                .duration(38)\r\n                .location(&quot;Bangalore&quot;).build());\r\n        List&lt;Content&gt; contentList = new ArrayList&lt;&gt;();\r\n        contentList.add(content);\r\n        Mockito.when(mockService.showAll()).thenReturn(contentList);\r\n        \r\n        mockMvc.perform(MockMvcRequestBuilders.get(&quot;/content&quot;).contentType(MediaType.APPLICATION_JSON)).andExpect(MockMvcResultMatchers.jsonPath(&quot;$.duration&quot;,is(content.getDuration())));\r\n//        List&lt;Content&gt; actual=contentController.show();\r\n//        System.out.println(actual.get(0).toString());\r\n//        assertEquals(actual,contentList);\r\n\r\n    }\r\n```\r\n\r\nBtw when using assert it is working but with mockMvc it is showing error ..\r\n\r\n","title":"Page Not Found -- No mapping for /GET","body":"<p>I am trying to write test for my controller for my SPRING-BOOT CRUD operation project using junit5 and mocking. While running the test it is showing below error. Not able to understand what is the problem.</p>\n<p>Error:-</p>\n<pre><code>10:24:51.840 [main] INFO org.springframework.test.web.servlet.TestDispatcherServlet -- Initializing Servlet ''\n10:24:51.842 [main] INFO org.springframework.test.web.servlet.TestDispatcherServlet -- Completed initialization in 1 ms\n10:24:51.865 [main] WARN org.springframework.web.servlet.PageNotFound -- No mapping for GET /content\n\njava.lang.AssertionError: No value at JSON path &quot;$.duration&quot;\n</code></pre>\n<p>ContentController file:-</p>\n<pre><code>package com.example.sixth.controller;\n\n\nimport com.example.sixth.entity.Content;\nimport com.example.sixth.service.ContentService;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\nimport java.util.Optional;\n\n@RestController\npublic class ContentController {\n\n\n\n    private final ContentService contentService;\n\n    public ContentController(ContentService contentService) {\n        this.contentService = contentService;\n    }\n\n    @GetMapping(&quot;/content&quot;)\n    public List&lt;Content&gt; show(){\n        return contentService.showAll();\n    }\n\n\n    @PostMapping(&quot;/content&quot;)\n    public String save(@RequestBody Content content){\n        return contentService.save(content);\n    }\n\n\n    @GetMapping(&quot;/content/title/{param}&quot;)\n    public List&lt;Content&gt; getContentStartWith(@PathVariable(&quot;param&quot;) String title){\n        return contentService.getContentStartWith(title);\n    }\n\n\n    @DeleteMapping(&quot;/content/{id}&quot;)\n    public String delete(@PathVariable Integer id){\n        return contentService.delete(id);\n    }\n\n\n    @GetMapping(&quot;/id&quot;)\n    public List&lt;Content&gt;getById(@RequestParam Integer minId,\n                                @RequestParam Integer maxId){\n        return contentService.getById(minId,maxId);\n    }\n\n\n    @GetMapping(&quot;/content/{id}&quot;)\n    public Optional&lt;Content&gt; findById(@PathVariable Integer id){\n        return contentService.findById(id);\n    }\n\n}\n</code></pre>\n<p>TestFile:-</p>\n<pre><code>package com.example.sixth;\n\nimport com.example.sixth.controller.ContentController;\nimport com.example.sixth.entity.Content;\nimport com.example.sixth.service.ContentService;\nimport com.example.sixth.service.ContentServiceImpl;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.mockito.MockitoAnnotations;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.http.MediaType;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.MockMvcBuilder;\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\nimport org.springframework.test.web.servlet.result.MockMvcResultMatchers;\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\n//import org.powermock.api.mockito.PowerMockito;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\n\nimport static org.hamcrest.Matchers.is;\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\n\n@AutoConfigureMockMvc\n//@SpringBootTest\npublic class ContentControllerTest {\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @Mock\n    ContentService mockService;\n\n    @InjectMocks\n    ContentController contentController;\n\n    @BeforeEach\n    public void init(){\n        MockitoAnnotations.initMocks(this);\n\n        this.mockMvc= MockMvcBuilders.standaloneSetup(mockService).build();\n    }\n\n    @Test\n    public void testfindall() throws Exception {\n        Content content = (Content.builder()\n                .id(3)\n                .title(&quot;SECOND!!&quot;)\n                .duration(38)\n                .location(&quot;Bangalore&quot;).build());\n        List&lt;Content&gt; contentList = new ArrayList&lt;&gt;();\n        contentList.add(content);\n        Mockito.when(mockService.showAll()).thenReturn(contentList);\n        \n        mockMvc.perform(MockMvcRequestBuilders.get(&quot;/content&quot;).contentType(MediaType.APPLICATION_JSON)).andExpect(MockMvcResultMatchers.jsonPath(&quot;$.duration&quot;,is(content.getDuration())));\n//        List&lt;Content&gt; actual=contentController.show();\n//        System.out.println(actual.get(0).toString());\n//        assertEquals(actual,contentList);\n\n    }\n</code></pre>\n<p>Btw when using assert it is working but with mockMvc it is showing error ..</p>\n"},{"tags":["java","mysql","angular","spring"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689750449,"post_id":76698561,"comment_id":135255633,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76698561/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":15528874,"reputation":36,"user_id":11202954,"display_name":"Behinesazan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689514808,"creation_date":1689514808,"answer_id":76698561,"question_id":76697379,"body_markdown":"the best way to do that is to have a rest API and request to the backend through POST request or GET request. You should have run nodejs on another port and request to your data","title":"How to integrate an angular app with mysql database?","body":"<p>the best way to do that is to have a rest API and request to the backend through POST request or GET request. You should have run nodejs on another port and request to your data</p>\n"}],"owner":{"account_id":25979860,"reputation":9,"user_id":19712163,"display_name":"SealAnia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689514808,"creation_date":1689496945,"question_id":76697379,"body_markdown":"I&#39;m writing my first angular application and can&#39;t find out how to integrate it with mySql database. \r\n\r\nthis is a method in controller: \r\n```\r\n@GetMapping(value = &quot;/{employeeId}&quot;)\r\npublic Employee findEmployeeById(@PathVariable Long employeeId) {\r\n\treturn employeeService.getById(employeeId);\r\n}\r\n```\r\na fragment of app.component.ts: \r\n```\r\nconstructor(private http: HttpClient) {\r\n\tthis.http.get&lt;Employee&gt;(&quot;http://localhost:8080/employees/{employeeId}&quot;).subscribe(result =&gt; {\r\n\t\tthis.employee = result;\r\n\t\tconsole.log(this.employee);\r\n\t});\r\n}\r\n```\r\nBoth angular and spring apps launch but at localhost:4200 I just get a white screen. \r\nThe annotation @CrossOrigin(origins = &quot;http://localhost:4200&quot;) is added. ","title":"How to integrate an angular app with mysql database?","body":"<p>I'm writing my first angular application and can't find out how to integrate it with mySql database.</p>\n<p>this is a method in controller:</p>\n<pre><code>@GetMapping(value = &quot;/{employeeId}&quot;)\npublic Employee findEmployeeById(@PathVariable Long employeeId) {\n    return employeeService.getById(employeeId);\n}\n</code></pre>\n<p>a fragment of app.component.ts:</p>\n<pre><code>constructor(private http: HttpClient) {\n    this.http.get&lt;Employee&gt;(&quot;http://localhost:8080/employees/{employeeId}&quot;).subscribe(result =&gt; {\n        this.employee = result;\n        console.log(this.employee);\n    });\n}\n</code></pre>\n<p>Both angular and spring apps launch but at localhost:4200 I just get a white screen.\nThe annotation @CrossOrigin(origins = &quot;http://localhost:4200&quot;) is added.</p>\n"},{"tags":["java","spring-boot","installation"],"comments":[{"owner":{"account_id":3583855,"reputation":150,"user_id":2991440,"display_name":"krishnan"},"score":1,"creation_date":1689514896,"post_id":76698171,"comment_id":135221362,"body_markdown":"Looks like your question is related to STS and not spring boot.","body":"Looks like your question is related to STS and not spring boot."}],"owner":{"account_id":29027639,"reputation":9,"user_id":22235421,"display_name":"Narendra Korade"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1689514004,"creation_date":1689509186,"question_id":76698171,"body_markdown":"I am trying to install spring boot&#39;s latest version 4.19 and getting the below error. Earlier I had 4.18. I deleted the older version. I have deleted all the files from the computer but still getting errors. [enter image description here][1]\r\nPlease help to resolve this error. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xrad5.png","title":"Getting error while installing Spring boot","body":"<p>I am trying to install spring boot's latest version 4.19 and getting the below error. Earlier I had 4.18. I deleted the older version. I have deleted all the files from the computer but still getting errors. <a href=\"https://i.stack.imgur.com/xrad5.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nPlease help to resolve this error.</p>\n"},{"tags":["java","jvm","initialization","classloader","static-block"],"owner":{"account_id":28961785,"reputation":1,"user_id":22184123,"display_name":"Satyam Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689513911,"answer_count":0,"score":0,"last_activity_date":1689513748,"creation_date":1689513748,"question_id":76698491,"body_markdown":"```\r\nclass Details {\r\n    static private int age;\r\n    static {\r\n        age=45;\r\n        System.out.println(&quot;Static block.&quot;);\r\n    }\r\n\r\n    private String name;\r\n    {\r\n        name=&quot;Satyam&quot;;\r\n        System.out.println(&quot;Initialiser block&quot;);\r\n    }\r\n    Details(){\r\n        System.out.println(&quot;constructor.&quot;);\r\n    }\r\n    static void staticMethod(){\r\n        System.out.println(&quot;static method.&quot;);\r\n    }\r\n    void nonStaticMethod(){\r\n        System.out.println(&quot;non-static method&quot;);\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\npublic class EncapsulationPractice {\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;main method&quot;);\r\n        Details.staticMethod();\r\n        Details details=new Details();\r\n        details.nonStaticMethod();\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nI&#39;m getting output in this way :\r\n```\r\nmain method\r\nStatic block.\r\nstatic method.\r\nInitialiser block\r\nconstructor.\r\nnon-static method\r\n```\r\n\r\n\r\nBut as far as the blogs I read and vedios I watched they told that static variables and static blocks are initialized before the obj creation i.e at the time of class loading? **I&#39;m confused between class loading and initialization and I was expecting the output of above code as following:**\r\n```\r\nStatic block.\r\nmain method\r\nstatic method.\r\nInitialiser block\r\nconstructor.\r\nnon-static method\r\n```","title":"How does static block works across different classes in java?","body":"<pre><code>class Details {\n    static private int age;\n    static {\n        age=45;\n        System.out.println(&quot;Static block.&quot;);\n    }\n\n    private String name;\n    {\n        name=&quot;Satyam&quot;;\n        System.out.println(&quot;Initialiser block&quot;);\n    }\n    Details(){\n        System.out.println(&quot;constructor.&quot;);\n    }\n    static void staticMethod(){\n        System.out.println(&quot;static method.&quot;);\n    }\n    void nonStaticMethod(){\n        System.out.println(&quot;non-static method&quot;);\n    }\n\n}\n\n\n\n\npublic class EncapsulationPractice {\n\n    public static void main(String[] args) {\n        System.out.println(&quot;main method&quot;);\n        Details.staticMethod();\n        Details details=new Details();\n        details.nonStaticMethod();\n\n    }\n}\n\n</code></pre>\n<p>I'm getting output in this way :</p>\n<pre><code>main method\nStatic block.\nstatic method.\nInitialiser block\nconstructor.\nnon-static method\n</code></pre>\n<p>But as far as the blogs I read and vedios I watched they told that static variables and static blocks are initialized before the obj creation i.e at the time of class loading? <strong>I'm confused between class loading and initialization and I was expecting the output of above code as following:</strong></p>\n<pre><code>Static block.\nmain method\nstatic method.\nInitialiser block\nconstructor.\nnon-static method\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3583855,"reputation":150,"user_id":2991440,"display_name":"krishnan"},"score":1,"creation_date":1689515103,"post_id":76698482,"comment_id":135221388,"body_markdown":"Providing the snippet of your pom.xml would help to understand the problem bit more.","body":"Providing the snippet of your pom.xml would help to understand the problem bit more."}],"owner":{"account_id":29018324,"reputation":1,"user_id":22228311,"display_name":"Dipak Kumbhar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689513710,"creation_date":1689513670,"question_id":76698482,"body_markdown":"I am facing error when I try to run mvn enforcer:enforce -X\r\n in local system. \r\n\r\n&gt; [ERROR] Failed to execute goal\r\n&gt; org.apache.maven.plugins:maven-enforcer-plugin:3.3.0:enforce\r\n&gt; (default-cli) on project projectName: No rules are configured. Use the\r\n&gt; skip flag if you want to disable execution. -&gt; [Help 1]\r\n&gt; org.apache.maven.lifecycle.LifecycleExecutionException: Failed to\r\n&gt; execute goal\r\n&gt; org.apache.maven.plugins:maven-enforcer-plugin:3.3.0:enforce\r\n&gt; (default-cli) on project projectName: No rules are configured. Use the\r\n&gt; skip flag if you want to disable execution.\r\n\r\n","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin:3.3.0:enforce (default-cli) on project projectName:","body":"<p>I am facing error when I try to run mvn enforcer:enforce -X\nin local system.</p>\n<blockquote>\n<p>[ERROR] Failed to execute goal\norg.apache.maven.plugins:maven-enforcer-plugin:3.3.0:enforce\n(default-cli) on project projectName: No rules are configured. Use the\nskip flag if you want to disable execution. -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to\nexecute goal\norg.apache.maven.plugins:maven-enforcer-plugin:3.3.0:enforce\n(default-cli) on project projectName: No rules are configured. Use the\nskip flag if you want to disable execution.</p>\n</blockquote>\n"},{"tags":["java","gzip","gzipinputstream"],"comments":[{"owner":{"display_name":"user452425"},"score":0,"creation_date":1354818221,"post_id":13749891,"comment_id":18896430,"body_markdown":"If you have a chance to replace implementation you could try to use workaround at bug id 2192186.  The best way to test if its fixed or not use latest jvm 1.6.37 or 1.7.9","body":"If you have a chance to replace implementation you could try to use workaround at bug id 2192186.  The best way to test if its fixed or not use latest jvm 1.6.37 or 1.7.9"},{"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"score":0,"creation_date":1354820164,"post_id":13749891,"comment_id":18897291,"body_markdown":"The workaround would be to simply repeat GZIPInputStream on the input until you have no more input.  A concatenated gzip stream is just that — multiple gzip streams concatenated.  So if GZIPInputStream can read one, then it can read the next one as well.","body":"The workaround would be to simply repeat GZIPInputStream on the input until you have no more input.  A concatenated gzip stream is just that — multiple gzip streams concatenated.  So if GZIPInputStream can read one, then it can read the next one as well."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1689509618,"post_id":13749891,"comment_id":135220708,"body_markdown":"Apache Commons Compress has [GzipCompressorInputStream](https://commons.apache.org/proper/commons-compress/apidocs/org/apache/commons/compress/compressors/gzip/GzipCompressorInputStream.html) which seems to address this problem.","body":"Apache Commons Compress has <a href=\"https://commons.apache.org/proper/commons-compress/apidocs/org/apache/commons/compress/compressors/gzip/GzipCompressorInputStream.html\" rel=\"nofollow noreferrer\">GzipCompressorInputStream</a> which seems to address this problem."}],"answers":[{"tags":[],"owner":{"display_name":"user452425"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689509646,"creation_date":1354826439,"answer_id":13752136,"question_id":13749891,"body_markdown":"I check it again and released that [bug][1] is already fixed (check its status and resolution fields). Here is related [commit][2]. Make sure that you are using latest Java version.\r\n\r\n[1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=2192186\r\n[2]: http://mail.openjdk.java.net/pipermail/compiler-dev/2010-May/002035.html","title":"GZIPInputStream fails to read concatenated .gz files bug resolved?","body":"<p>I check it again and released that <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=2192186\" rel=\"nofollow noreferrer\">bug</a> is already fixed (check its status and resolution fields). Here is related <a href=\"http://mail.openjdk.java.net/pipermail/compiler-dev/2010-May/002035.html\" rel=\"nofollow noreferrer\">commit</a>. Make sure that you are using latest Java version.</p>\n"},{"tags":[],"owner":{"account_id":3089665,"reputation":31308,"user_id":2616073,"display_name":"dkatzel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392338207,"creation_date":1392338207,"answer_id":21768646,"question_id":13749891,"body_markdown":"Sorry for answering over a year, late but I thought the answer would help others because I too had this problem and it took me a while to find which version.\r\n\r\nThe answer is the GZIPInputStream concatenation bug fix was released in Java 6u21-rev-b08 http://www.oracle.com/technetwork/java/javase/documentation/overview-156328.html\r\n\r\nHowever, it looks like the official Java 6u21 release was based on build 7 so that fix probably isn&#39;t in the official release until Java 6u22 even though it does not appear in the release notes.\r\n\r\nI would think that this means it is in all versions of Java 7 since 6u22 came out a year before Java 7 was released.  It is definitely in the latest Java 7 release.\r\n","title":"GZIPInputStream fails to read concatenated .gz files bug resolved?","body":"<p>Sorry for answering over a year, late but I thought the answer would help others because I too had this problem and it took me a while to find which version.</p>\n\n<p>The answer is the GZIPInputStream concatenation bug fix was released in Java 6u21-rev-b08 <a href=\"http://www.oracle.com/technetwork/java/javase/documentation/overview-156328.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/javase/documentation/overview-156328.html</a></p>\n\n<p>However, it looks like the official Java 6u21 release was based on build 7 so that fix probably isn't in the official release until Java 6u22 even though it does not appear in the release notes.</p>\n\n<p>I would think that this means it is in all versions of Java 7 since 6u22 came out a year before Java 7 was released.  It is definitely in the latest Java 7 release.</p>\n"}],"owner":{"account_id":84520,"reputation":7328,"user_id":236215,"accept_rate":62,"display_name":"user236215"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":909,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689509646,"creation_date":1354817570,"question_id":13749891,"body_markdown":"Does anyone know if this bug\r\nhttps://bugs.java.com/bugdatabase/view_bug?bug_id=2192186\r\n\r\nhas been resolved yet? It is causing issues on our side in data collection from archive or archives. Looks like this is a very old issue:\r\nhttps://bugs.java.com/bugdatabase/view_bug?bug_id=4691425\r\n\r\nIf it is resolved, please let me know JVM version that contains the fix.","title":"GZIPInputStream fails to read concatenated .gz files bug resolved?","body":"<p>Does anyone know if this bug\n<a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=2192186\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=2192186</a></p>\n<p>has been resolved yet? It is causing issues on our side in data collection from archive or archives. Looks like this is a very old issue:\n<a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4691425\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=4691425</a></p>\n<p>If it is resolved, please let me know JVM version that contains the fix.</p>\n"},{"tags":["java","spring-boot","servlets"],"comments":[{"owner":{"account_id":12206728,"reputation":608,"user_id":8909621,"display_name":"hayridurmaz"},"score":0,"creation_date":1700656692,"post_id":76698202,"comment_id":136681002,"body_markdown":"Hi, were you able to find any solutions?","body":"Hi, were you able to find any solutions?"}],"owner":{"account_id":505659,"reputation":147,"user_id":1648558,"accept_rate":0,"display_name":"alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689509645,"creation_date":1689509645,"question_id":76698202,"body_markdown":"Migrated to springboot 3.1.0.\r\n\r\nI have a Soap configuration class like below to map the url which uses &#39;WSSpringServlet&#39; and it is giving compile error after the upgrade.\r\n\r\n\r\n../SoapConfiguration.java:30: error: type argument WSSpringServlet is not within bounds of type-variable T\r\n    public ServletRegistrationBean&lt;WSSpringServlet&gt; servletRegistrationBean() {\r\n                                   ^\r\n  where T is a type-variable:\r\n    T extends Servlet declared in class ServletRegistrationBean\r\n../SoapConfiguration.java:32: error: cannot infer type arguments for ServletRegistrationBean&lt;&gt;\r\n        ServletRegistrationBean bean = new ServletRegistrationBean&lt;&gt;(new WSSpringServlet(), OFFER_ENDPOINT);\r\n\r\n\r\nBelow is my SoapConfiguration.java:\r\n\r\n```\r\npackage com.mydump.esb.offer.config;\r\n\r\nimport org.jvnet.jax_ws_commons.spring.SpringService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.web.servlet.ServletRegistrationBean;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport com.sun.xml.ws.transport.http.servlet.SpringBinding;\r\nimport com.sun.xml.ws.transport.http.servlet.WSSpringServlet;\r\n\r\nimport com.mydump.esb.offer.components.OfferEndpoint;\r\n\r\n\r\n@Configuration\r\npublic class SoapConfiguration {\r\n\r\n    private static final String OFFER_ENDPOINT = &quot;/customer/soap/offer/v1&quot;;\r\n\r\n    @Bean\r\n    public ServletRegistrationBean&lt;WSSpringServlet&gt; servletRegistrationBean() {\r\n        return new ServletRegistrationBean&lt;&gt;(new WSSpringServlet(), OFFER_ENDPOINT);\r\n    }\r\n\r\n    @Bean\r\n    public SpringBinding bindLocalityEndpoint(@Autowired OfferEndpoint endpoint) throws Exception {\r\n        return bind(endpoint, OFFER_ENDPOINT);\r\n    }\r\n\r\n    private SpringBinding bind(OfferEndpoint endpoint, String url) throws Exception {\r\n        SpringService springService = new SpringService();\r\n        springService.setBean(endpoint);\r\n        SpringBinding binding = new SpringBinding();\r\n        binding.setService(springService.getObject());\r\n        binding.setUrl(url);\r\n        return binding;\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhat should I use in place of WSSpringServlet in Springboot 3.1.0 ?\r\n\r\nThanks in advance!","title":"Servlet not getting intialised after springboot migrated to 3.x","body":"<p>Migrated to springboot 3.1.0.</p>\n<p>I have a Soap configuration class like below to map the url which uses 'WSSpringServlet' and it is giving compile error after the upgrade.</p>\n<p>../SoapConfiguration.java:30: error: type argument WSSpringServlet is not within bounds of type-variable T\npublic ServletRegistrationBean servletRegistrationBean() {\n^\nwhere T is a type-variable:\nT extends Servlet declared in class ServletRegistrationBean\n../SoapConfiguration.java:32: error: cannot infer type arguments for ServletRegistrationBean&lt;&gt;\nServletRegistrationBean bean = new ServletRegistrationBean&lt;&gt;(new WSSpringServlet(), OFFER_ENDPOINT);</p>\n<p>Below is my SoapConfiguration.java:</p>\n<pre><code>package com.mydump.esb.offer.config;\n\nimport org.jvnet.jax_ws_commons.spring.SpringService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.web.servlet.ServletRegistrationBean;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport com.sun.xml.ws.transport.http.servlet.SpringBinding;\nimport com.sun.xml.ws.transport.http.servlet.WSSpringServlet;\n\nimport com.mydump.esb.offer.components.OfferEndpoint;\n\n\n@Configuration\npublic class SoapConfiguration {\n\n    private static final String OFFER_ENDPOINT = &quot;/customer/soap/offer/v1&quot;;\n\n    @Bean\n    public ServletRegistrationBean&lt;WSSpringServlet&gt; servletRegistrationBean() {\n        return new ServletRegistrationBean&lt;&gt;(new WSSpringServlet(), OFFER_ENDPOINT);\n    }\n\n    @Bean\n    public SpringBinding bindLocalityEndpoint(@Autowired OfferEndpoint endpoint) throws Exception {\n        return bind(endpoint, OFFER_ENDPOINT);\n    }\n\n    private SpringBinding bind(OfferEndpoint endpoint, String url) throws Exception {\n        SpringService springService = new SpringService();\n        springService.setBean(endpoint);\n        SpringBinding binding = new SpringBinding();\n        binding.setService(springService.getObject());\n        binding.setUrl(url);\n        return binding;\n    }\n}\n\n</code></pre>\n<p>What should I use in place of WSSpringServlet in Springboot 3.1.0 ?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["javascript","java","webgl","alpha","teavm"],"comments":[{"owner":{"account_id":952147,"reputation":7745,"user_id":978057,"display_name":"LJᛃ"},"score":0,"creation_date":1689507070,"post_id":76694406,"comment_id":135220459,"body_markdown":"looks like your depth testing is broken?","body":"looks like your depth testing is broken?"}],"answers":[{"tags":[],"owner":{"account_id":28905957,"reputation":1,"user_id":22139973,"display_name":"PeytonPlayz595"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689507657,"creation_date":1689507657,"answer_id":76698067,"question_id":76694406,"body_markdown":"I got it working by doing this:\r\n```java\r\nglEnable(GL_BLEND);\r\nglBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);\r\nglAlphaFunc(GL_LESS, 1.0F);\r\n```","title":"OpenGL Texture Blending","body":"<p>I got it working by doing this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>glEnable(GL_BLEND);\nglBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);\nglAlphaFunc(GL_LESS, 1.0F);\n</code></pre>\n"}],"owner":{"account_id":28905957,"reputation":1,"user_id":22139973,"display_name":"PeytonPlayz595"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689509622,"creation_date":1689433878,"question_id":76694406,"body_markdown":"I have made a WebGL port of Minecraft Classic 0.30 Survival Test using TeaVM and I&#39;m having some issues with WebGL texture blending.\r\n\r\nHere is the code I&#39;m using:\r\n```java\r\nif(textureName.equals(&quot;/terrain.png&quot;) || textureName.equals(&quot;/arrow.png&quot;)) {\r\n    GL11.glEnable(GL11.GL_BLEND);\r\n    GL11.glBlendFunc(GL11.GL_SRC_ALPHA, GL11.GL_ONE_MINUS_SRC_ALPHA);\r\n}\r\n```\r\n\r\nHere is the result:\r\n[https://i.stack.imgur.com/SpRg3.png](https://i.stack.imgur.com/SpRg3.png)\r\n\r\n\r\n\r\nDo I have to use any GLSL or is there a way I can do it without it?\r\n\r\nEdit: Here is the [source code](https://github.com/PeytonPlayz595/Shadow-Client-Classic) if anybody wants to look at it.","title":"OpenGL Texture Blending","body":"<p>I have made a WebGL port of Minecraft Classic 0.30 Survival Test using TeaVM and I'm having some issues with WebGL texture blending.</p>\n<p>Here is the code I'm using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(textureName.equals(&quot;/terrain.png&quot;) || textureName.equals(&quot;/arrow.png&quot;)) {\n    GL11.glEnable(GL11.GL_BLEND);\n    GL11.glBlendFunc(GL11.GL_SRC_ALPHA, GL11.GL_ONE_MINUS_SRC_ALPHA);\n}\n</code></pre>\n<p>Here is the result:\n<a href=\"https://i.stack.imgur.com/SpRg3.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/SpRg3.png</a></p>\n<p>Do I have to use any GLSL or is there a way I can do it without it?</p>\n<p>Edit: Here is the <a href=\"https://github.com/PeytonPlayz595/Shadow-Client-Classic\" rel=\"nofollow noreferrer\">source code</a> if anybody wants to look at it.</p>\n"},{"tags":["java","react-native"],"owner":{"account_id":2200957,"reputation":4999,"user_id":1945363,"accept_rate":79,"display_name":"Wasteland"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689509343,"creation_date":1689509343,"question_id":76698185,"body_markdown":"I&#39;m trying to go through the React Native native modules examples and am stuck on one about sending events from native to js. The documentation provides this. I gather this is not just a copy and paste exercise:\r\n\r\n    ...\r\n    import com.facebook.react.modules.core.DeviceEventManagerModule;\r\n    import com.facebook.react.bridge.WritableMap;\r\n    import com.facebook.react.bridge.Arguments;\r\n    ...\r\n    private void sendEvent(ReactContext reactContext,\r\n                          String eventName,\r\n                          @Nullable WritableMap params) {\r\n     reactContext\r\n         .getJSModule(DeviceEventManagerModule.RCTDeviceEventEmitter.class)\r\n         .emit(eventName, params);\r\n    }\r\n    \r\n    private int listenerCount = 0;\r\n    \r\n    @ReactMethod\r\n    public void addListener(String eventName) {\r\n      if (listenerCount == 0) {\r\n        // Set up any upstream listeners or background tasks as necessary\r\n      }\r\n    \r\n      listenerCount += 1;\r\n    }\r\n    \r\n    @ReactMethod\r\n    public void removeListeners(Integer count) {\r\n      listenerCount -= count;\r\n      if (listenerCount == 0) {\r\n        // Remove upstream listeners, stop unnecessary background tasks\r\n      }\r\n    }\r\n    ...\r\n    WritableMap params = Arguments.createMap();\r\n    params.putString(&quot;eventProperty&quot;, &quot;someValue&quot;);\r\n    ...\r\n    sendEvent(reactContext, &quot;EventReminder&quot;, params);\r\n\r\n\r\nI&#39;ve implemented it as follows:\r\n\r\n\r\n    package com.todox;\r\n    import com.facebook.react.bridge.ReactApplicationContext;\r\n    import com.facebook.react.bridge.ReactContext;\r\n    import com.facebook.react.bridge.ReactContextBaseJavaModule;\r\n    import com.facebook.react.bridge.ReactMethod;\r\n    import java.util.Map;\r\n    import java.util.HashMap;\r\n    import android.util.Log;\r\n    import com.facebook.react.modules.core.DeviceEventManagerModule;\r\n    import com.facebook.react.bridge.WritableMap;\r\n    import com.facebook.react.bridge.Arguments;\r\n    import androidx.annotation.Nullable;\r\n    \r\n    \r\n    \r\n    \r\n    public class MyEventEmitterModule extends ReactContextBaseJavaModule {\r\n        MyEventEmitterModule(ReactApplicationContext context) {\r\n            super(context);\r\n        }\r\n    \r\n        private int listenerCount = 0;\r\n    \r\n        @ReactMethod\r\n        public void addListener(String eventName) {\r\n            if (listenerCount == 0) {\r\n                // Set up any upstream listeners or background tasks as necessary\r\n            }\r\n    \r\n            listenerCount += 1;\r\n        }\r\n    \r\n        @ReactMethod\r\n        public void removeListeners(Integer count) {\r\n            listenerCount -= count;\r\n            if (listenerCount == 0) {\r\n                // Remove upstream listeners, stop unnecessary background tasks\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public String getName() {\r\n            return &quot;MyEventEmitterModule&quot;;\r\n        }\r\n    \r\n        @ReactMethod\r\n        public void initEmitter() {\r\n            Log.d(&quot;MEEM&quot;, &quot;Initialised the MyEventEmitterModule&quot;);\r\n        }\r\n    \r\n        private void sendEvent(ReactContext reactContext,\r\n                               String eventName,\r\n                               @Nullable WritableMap params) {\r\n            reactContext\r\n                    .getJSModule(DeviceEventManagerModule.RCTDeviceEventEmitter.class)\r\n                    .emit(eventName, params);\r\n        }\r\n    \r\n    \r\n    \r\n        @ReactMethod\r\n        public void initWithListener(ReactContext reactContext) {\r\n            try {\r\n                WritableMap params = Arguments.createMap();\r\n                params.putString(&quot;eventProperty&quot;, &quot;someValueXXXXXXX&quot;);\r\n    \r\n                Log.d(&quot;MEEM&quot;, &quot;Initialised the MyEventEmitterModule WITH LISTENER&quot;);\r\n                Thread.sleep(10000);\r\n                sendEvent(reactContext, &quot;EventReminder&quot;, params);\r\n                Log.d(&quot;MEEM&quot;, &quot;AfterSending&quot;);\r\n    \r\n            } catch(Exception e) {\r\n                Log.d(&quot;MEEM&quot;, &quot;EXCEPTION&quot; + e);\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\nWhen I tap on the button in the app to call the initWithListener method I get:\r\n\r\n    Exception in native call\r\n    java.lang.RuntimeException: Got unknown argument class: ReactContext\r\n\r\nI kind of understand that it&#39;s not going to work as I don&#39;t pass any argument to initWithListener from the js land but I can&#39;t get it work. ReactContext seems unavailable in that class. How can I make it work, please? My knowledge of java is very basic. Thanks\r\n                                                                                                    \t\r\n","title":"RN - sending events from Native to JS (ReactContext)","body":"<p>I'm trying to go through the React Native native modules examples and am stuck on one about sending events from native to js. The documentation provides this. I gather this is not just a copy and paste exercise:</p>\n<pre><code>...\nimport com.facebook.react.modules.core.DeviceEventManagerModule;\nimport com.facebook.react.bridge.WritableMap;\nimport com.facebook.react.bridge.Arguments;\n...\nprivate void sendEvent(ReactContext reactContext,\n                      String eventName,\n                      @Nullable WritableMap params) {\n reactContext\n     .getJSModule(DeviceEventManagerModule.RCTDeviceEventEmitter.class)\n     .emit(eventName, params);\n}\n\nprivate int listenerCount = 0;\n\n@ReactMethod\npublic void addListener(String eventName) {\n  if (listenerCount == 0) {\n    // Set up any upstream listeners or background tasks as necessary\n  }\n\n  listenerCount += 1;\n}\n\n@ReactMethod\npublic void removeListeners(Integer count) {\n  listenerCount -= count;\n  if (listenerCount == 0) {\n    // Remove upstream listeners, stop unnecessary background tasks\n  }\n}\n...\nWritableMap params = Arguments.createMap();\nparams.putString(&quot;eventProperty&quot;, &quot;someValue&quot;);\n...\nsendEvent(reactContext, &quot;EventReminder&quot;, params);\n</code></pre>\n<p>I've implemented it as follows:</p>\n<pre><code>package com.todox;\nimport com.facebook.react.bridge.ReactApplicationContext;\nimport com.facebook.react.bridge.ReactContext;\nimport com.facebook.react.bridge.ReactContextBaseJavaModule;\nimport com.facebook.react.bridge.ReactMethod;\nimport java.util.Map;\nimport java.util.HashMap;\nimport android.util.Log;\nimport com.facebook.react.modules.core.DeviceEventManagerModule;\nimport com.facebook.react.bridge.WritableMap;\nimport com.facebook.react.bridge.Arguments;\nimport androidx.annotation.Nullable;\n\n\n\n\npublic class MyEventEmitterModule extends ReactContextBaseJavaModule {\n    MyEventEmitterModule(ReactApplicationContext context) {\n        super(context);\n    }\n\n    private int listenerCount = 0;\n\n    @ReactMethod\n    public void addListener(String eventName) {\n        if (listenerCount == 0) {\n            // Set up any upstream listeners or background tasks as necessary\n        }\n\n        listenerCount += 1;\n    }\n\n    @ReactMethod\n    public void removeListeners(Integer count) {\n        listenerCount -= count;\n        if (listenerCount == 0) {\n            // Remove upstream listeners, stop unnecessary background tasks\n        }\n    }\n\n    @Override\n    public String getName() {\n        return &quot;MyEventEmitterModule&quot;;\n    }\n\n    @ReactMethod\n    public void initEmitter() {\n        Log.d(&quot;MEEM&quot;, &quot;Initialised the MyEventEmitterModule&quot;);\n    }\n\n    private void sendEvent(ReactContext reactContext,\n                           String eventName,\n                           @Nullable WritableMap params) {\n        reactContext\n                .getJSModule(DeviceEventManagerModule.RCTDeviceEventEmitter.class)\n                .emit(eventName, params);\n    }\n\n\n\n    @ReactMethod\n    public void initWithListener(ReactContext reactContext) {\n        try {\n            WritableMap params = Arguments.createMap();\n            params.putString(&quot;eventProperty&quot;, &quot;someValueXXXXXXX&quot;);\n\n            Log.d(&quot;MEEM&quot;, &quot;Initialised the MyEventEmitterModule WITH LISTENER&quot;);\n            Thread.sleep(10000);\n            sendEvent(reactContext, &quot;EventReminder&quot;, params);\n            Log.d(&quot;MEEM&quot;, &quot;AfterSending&quot;);\n\n        } catch(Exception e) {\n            Log.d(&quot;MEEM&quot;, &quot;EXCEPTION&quot; + e);\n        }\n\n    }\n\n\n\n}\n</code></pre>\n<p>When I tap on the button in the app to call the initWithListener method I get:</p>\n<pre><code>Exception in native call\njava.lang.RuntimeException: Got unknown argument class: ReactContext\n</code></pre>\n<p>I kind of understand that it's not going to work as I don't pass any argument to initWithListener from the js land but I can't get it work. ReactContext seems unavailable in that class. How can I make it work, please? My knowledge of java is very basic. Thanks</p>\n"},{"tags":["java","gzip","gzipoutputstream"],"answers":[{"comments":[{"owner":{"account_id":89876,"reputation":2196,"user_id":247690,"accept_rate":57,"display_name":"Hemeroc"},"score":0,"creation_date":1283556629,"post_id":3640173,"comment_id":3825920,"body_markdown":"Hi, your answer is great if you are working with Java7 which is not released at the moment. I&#39;m working with java6 (as most of the users do).","body":"Hi, your answer is great if you are working with Java7 which is not released at the moment. I&#39;m working with java6 (as most of the users do)."},{"owner":{"account_id":15188,"reputation":15038,"user_id":31818,"display_name":"seh"},"score":0,"creation_date":1283558385,"post_id":3640173,"comment_id":3826045,"body_markdown":"Oh, I&#39;m sorry about that. You&#39;re right: these signatures are not yet available in Java 6. That serves me right for reading &quot;the latest&quot; documentation. We&#39;ll have to wait for these to arrive.","body":"Oh, I&#39;m sorry about that. You&#39;re right: these signatures are not yet available in Java 6. That serves me right for reading &quot;the latest&quot; documentation. We&#39;ll have to wait for these to arrive."}],"tags":[],"owner":{"account_id":15188,"reputation":15038,"user_id":31818,"display_name":"seh"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1283558949,"creation_date":1283555461,"answer_id":3640173,"question_id":3640080,"body_markdown":"I haven&#39;t tried this yet, and this advice won&#39;t be useful until we have Java 7 in hand, but the documentation for `GZIPOutputStream`&#39;s [`flush()`][1] method inherited from `DeflaterOutputStream` relies upon the *flush mode* specified at construction time with [the `syncFlush` argument][2] (related to `Deflater#SYNC_FLUSH`) to decide whether to flush the pending data to be compressed. This `syncFlush` argument is also accepted by `GZIPOutputStream` at construction time.\r\n\r\nIt sounds like you want to use either [`Deflator#SYNC_FLUSH`][3] or maybe even [`Deflater#FULL_FLUSH`][4], but, before digging down that far, first try working with [the two-argument][5] or [the four-argument `GZIPOutputStream` constructor][6] and pass `true` for the `syncFlush` argument. That will activate the flushing behavior you desire.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/7/docs/api/java/util/zip/DeflaterOutputStream.html#flush%28%29\r\n  [2]: http://download.oracle.com/javase/7/docs/api/java/util/zip/DeflaterOutputStream.html#DeflaterOutputStream%28java.io.OutputStream,%20java.util.zip.Deflater,%20int,%20boolean%29\r\n  [3]: http://download.oracle.com/javase/7/docs/api/java/util/zip/Deflater.html#SYNC_FLUSH\r\n  [4]: http://download.oracle.com/javase/7/docs/api/java/util/zip/Deflater.html#FULL_FLUSH\r\n  [5]: http://download.oracle.com/javase/7/docs/api/java/util/zip/GZIPOutputStream.html#GZIPOutputStream%28java.io.OutputStream,%20boolean%29\r\n  [6]: http://download.oracle.com/javase/7/docs/api/java/util/zip/GZIPOutputStream.html#GZIPOutputStream%28java.io.OutputStream,%20int,%20boolean%29","title":"Force flush on a GZIPOutputStream in java","body":"<p>I haven't tried this yet, and this advice won't be useful until we have Java 7 in hand, but the documentation for <code>GZIPOutputStream</code>'s <a href=\"http://download.oracle.com/javase/7/docs/api/java/util/zip/DeflaterOutputStream.html#flush%28%29\" rel=\"noreferrer\"><code>flush()</code></a> method inherited from <code>DeflaterOutputStream</code> relies upon the <em>flush mode</em> specified at construction time with <a href=\"http://download.oracle.com/javase/7/docs/api/java/util/zip/DeflaterOutputStream.html#DeflaterOutputStream%28java.io.OutputStream,%20java.util.zip.Deflater,%20int,%20boolean%29\" rel=\"noreferrer\">the <code>syncFlush</code> argument</a> (related to <code>Deflater#SYNC_FLUSH</code>) to decide whether to flush the pending data to be compressed. This <code>syncFlush</code> argument is also accepted by <code>GZIPOutputStream</code> at construction time.</p>\n\n<p>It sounds like you want to use either <a href=\"http://download.oracle.com/javase/7/docs/api/java/util/zip/Deflater.html#SYNC_FLUSH\" rel=\"noreferrer\"><code>Deflator#SYNC_FLUSH</code></a> or maybe even <a href=\"http://download.oracle.com/javase/7/docs/api/java/util/zip/Deflater.html#FULL_FLUSH\" rel=\"noreferrer\"><code>Deflater#FULL_FLUSH</code></a>, but, before digging down that far, first try working with <a href=\"http://download.oracle.com/javase/7/docs/api/java/util/zip/GZIPOutputStream.html#GZIPOutputStream%28java.io.OutputStream,%20boolean%29\" rel=\"noreferrer\">the two-argument</a> or <a href=\"http://download.oracle.com/javase/7/docs/api/java/util/zip/GZIPOutputStream.html#GZIPOutputStream%28java.io.OutputStream,%20int,%20boolean%29\" rel=\"noreferrer\">the four-argument <code>GZIPOutputStream</code> constructor</a> and pass <code>true</code> for the <code>syncFlush</code> argument. That will activate the flushing behavior you desire.</p>\n"},{"comments":[{"owner":{"account_id":89876,"reputation":2196,"user_id":247690,"accept_rate":57,"display_name":"Hemeroc"},"score":0,"creation_date":1283686760,"post_id":3640550,"comment_id":3833134,"body_markdown":"Hi, I expect the same problems as nardian, any suggestions?","body":"Hi, I expect the same problems as nardian, any suggestions?"}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1283563759,"creation_date":1283563759,"answer_id":3640550,"question_id":3640080,"body_markdown":"[Bug ID 4813885][1] handles this issue. The comment of &quot;DamonHD&quot;, submitted on 9 Sep 2006 (about halfway the bugreport) contains an example of `FlushableGZIPOutputStream` which he built on top of [Jazzlib&#39;s][2] `net.sf.jazzlib.DeflaterOutputStream`. \r\n\r\nFor reference, here&#39;s a (reformatted) extract:\r\n\r\n    /**\r\n     * Substitute for GZIPOutputStream that maximises compression and has a usable\r\n     * flush(). This is also more careful about its output writes for efficiency,\r\n     * and indeed buffers them to minimise the number of write()s downstream which\r\n     * is especially useful where each write() has a cost such as an OS call, a disc\r\n     * write, or a network packet.\r\n     */\r\n    public class FlushableGZIPOutputStream extends net.sf.jazzlib.DeflaterOutputStream {\r\n        private final CRC32 crc = new CRC32();\r\n        private final static int GZIP_MAGIC = 0x8b1f;\r\n        private final OutputStream os;\r\n    \r\n        /** Set when input has arrived and not yet been compressed and flushed downstream. */\r\n        private boolean somethingWritten;\r\n    \r\n        public FlushableGZIPOutputStream(final OutputStream os) throws IOException {\r\n            this(os, 8192);\r\n        }\r\n    \r\n        public FlushableGZIPOutputStream(final OutputStream os, final int bufsize) throws IOException {\r\n            super(new FilterOutputStream(new BufferedOutputStream(os, bufsize)) {\r\n                /** Suppress inappropriate/inefficient flush()es by DeflaterOutputStream. */\r\n                @Override\r\n                public void flush() {\r\n                }\r\n            }, new net.sf.jazzlib.Deflater(net.sf.jazzlib.Deflater.BEST_COMPRESSION, true));\r\n            this.os = os;\r\n            writeHeader();\r\n            crc.reset();\r\n        }\r\n    \r\n        public synchronized void write(byte[] buf, int off, int len) throws IOException {\r\n            somethingWritten = true;\r\n            super.write(buf, off, len);\r\n            crc.update(buf, off, len);\r\n        }\r\n    \r\n        /**\r\n         * Flush any accumulated input downstream in compressed form. We overcome\r\n         * some bugs/misfeatures here so that:\r\n         * &lt;ul&gt;\r\n         * &lt;li&gt;We won&#39;t allow the GZIP header to be flushed on its own without real compressed\r\n         * data in the same write downstream. \r\n         * &lt;li&gt;We ensure that any accumulated uncompressed data really is forced through the \r\n         * compressor.\r\n         * &lt;li&gt;We prevent spurious empty compressed blocks being produced from successive \r\n         * flush()es with no intervening new data.\r\n         * &lt;/ul&gt;\r\n         */\r\n        @Override\r\n        public synchronized void flush() throws IOException {\r\n            if (!somethingWritten) { return; }\r\n    \r\n            // We call this to get def.flush() called,\r\n            // but suppress the (usually premature) out.flush() called internally.\r\n            super.flush();\r\n    \r\n            // Since super.flush() seems to fail to reliably force output, \r\n            // possibly due to over-cautious def.needsInput() guard following def.flush(),\r\n            // we try to force the issue here by bypassing the guard.\r\n            int len;\r\n            while((len = def.deflate(buf, 0, buf.length)) &gt; 0) {\r\n                out.write(buf, 0, len);\r\n            }\r\n    \r\n            // Really flush the stream below us...\r\n            os.flush();\r\n    \r\n            // Further flush()es ignored until more input data data written.\r\n            somethingWritten = false;\r\n        }\r\n    \r\n        public synchronized void close() throws IOException {\r\n            if (!def.finished()) {\r\n                def.finish();\r\n                do {\r\n                    int len = def.deflate(buf, 0, buf.length);\r\n                    if (len &lt;= 0) { \r\n                        break;\r\n                    }\r\n                    out.write(buf, 0, len);\r\n                } while (!def.finished());\r\n            }\r\n    \r\n            // Write trailer\r\n            out.write(generateTrailer());\r\n    \r\n            out.close();\r\n        }\r\n    \r\n        // ...\r\n    }\r\n\r\nYou may find it useful.\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4813885\r\n  [2]: http://jazzlib.sourceforge.net/","title":"Force flush on a GZIPOutputStream in java","body":"<p><a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4813885\" rel=\"nofollow noreferrer\">Bug ID 4813885</a> handles this issue. The comment of &quot;DamonHD&quot;, submitted on 9 Sep 2006 (about halfway the bugreport) contains an example of <code>FlushableGZIPOutputStream</code> which he built on top of <a href=\"http://jazzlib.sourceforge.net/\" rel=\"nofollow noreferrer\">Jazzlib's</a> <code>net.sf.jazzlib.DeflaterOutputStream</code>.</p>\n<p>For reference, here's a (reformatted) extract:</p>\n<pre><code>/**\n * Substitute for GZIPOutputStream that maximises compression and has a usable\n * flush(). This is also more careful about its output writes for efficiency,\n * and indeed buffers them to minimise the number of write()s downstream which\n * is especially useful where each write() has a cost such as an OS call, a disc\n * write, or a network packet.\n */\npublic class FlushableGZIPOutputStream extends net.sf.jazzlib.DeflaterOutputStream {\n    private final CRC32 crc = new CRC32();\n    private final static int GZIP_MAGIC = 0x8b1f;\n    private final OutputStream os;\n\n    /** Set when input has arrived and not yet been compressed and flushed downstream. */\n    private boolean somethingWritten;\n\n    public FlushableGZIPOutputStream(final OutputStream os) throws IOException {\n        this(os, 8192);\n    }\n\n    public FlushableGZIPOutputStream(final OutputStream os, final int bufsize) throws IOException {\n        super(new FilterOutputStream(new BufferedOutputStream(os, bufsize)) {\n            /** Suppress inappropriate/inefficient flush()es by DeflaterOutputStream. */\n            @Override\n            public void flush() {\n            }\n        }, new net.sf.jazzlib.Deflater(net.sf.jazzlib.Deflater.BEST_COMPRESSION, true));\n        this.os = os;\n        writeHeader();\n        crc.reset();\n    }\n\n    public synchronized void write(byte[] buf, int off, int len) throws IOException {\n        somethingWritten = true;\n        super.write(buf, off, len);\n        crc.update(buf, off, len);\n    }\n\n    /**\n     * Flush any accumulated input downstream in compressed form. We overcome\n     * some bugs/misfeatures here so that:\n     * &lt;ul&gt;\n     * &lt;li&gt;We won't allow the GZIP header to be flushed on its own without real compressed\n     * data in the same write downstream. \n     * &lt;li&gt;We ensure that any accumulated uncompressed data really is forced through the \n     * compressor.\n     * &lt;li&gt;We prevent spurious empty compressed blocks being produced from successive \n     * flush()es with no intervening new data.\n     * &lt;/ul&gt;\n     */\n    @Override\n    public synchronized void flush() throws IOException {\n        if (!somethingWritten) { return; }\n\n        // We call this to get def.flush() called,\n        // but suppress the (usually premature) out.flush() called internally.\n        super.flush();\n\n        // Since super.flush() seems to fail to reliably force output, \n        // possibly due to over-cautious def.needsInput() guard following def.flush(),\n        // we try to force the issue here by bypassing the guard.\n        int len;\n        while((len = def.deflate(buf, 0, buf.length)) &gt; 0) {\n            out.write(buf, 0, len);\n        }\n\n        // Really flush the stream below us...\n        os.flush();\n\n        // Further flush()es ignored until more input data data written.\n        somethingWritten = false;\n    }\n\n    public synchronized void close() throws IOException {\n        if (!def.finished()) {\n            def.finish();\n            do {\n                int len = def.deflate(buf, 0, buf.length);\n                if (len &lt;= 0) { \n                    break;\n                }\n                out.write(buf, 0, len);\n            } while (!def.finished());\n        }\n\n        // Write trailer\n        out.write(generateTrailer());\n\n        out.close();\n    }\n\n    // ...\n}\n</code></pre>\n<p>You may find it useful.</p>\n"},{"comments":[{"owner":{"account_id":558770,"reputation":16438,"user_id":755804,"accept_rate":20,"display_name":"18446744073709551615"},"score":1,"creation_date":1432296647,"post_id":14887753,"comment_id":48880407,"body_markdown":"I&#39;m getting `java.lang.IllegalStateException: setLevel cannot be called after setInput` under Android","body":"I&#39;m getting <code>java.lang.IllegalStateException: setLevel cannot be called after setInput</code> under Android"},{"owner":{"account_id":558770,"reputation":16438,"user_id":755804,"accept_rate":20,"display_name":"18446744073709551615"},"score":0,"creation_date":1432298933,"post_id":14887753,"comment_id":48881987,"body_markdown":"got it: `new GZIPOutputStream(...) {{setSyncFlush(true);}};` (double braces because it is an instance initializer inside a nameless class)","body":"got it: <code>new GZIPOutputStream(...) {{setSyncFlush(true);}};</code> (double braces because it is an instance initializer inside a nameless class)"}],"tags":[],"owner":{"account_id":51141,"reputation":807,"user_id":152723,"display_name":"Ben L."},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1689507997,"creation_date":1360898093,"answer_id":14887753,"question_id":3640080,"body_markdown":"I didn&#39;t find the other answer to work. It still refused to flush because the native code that GZIPOutputStream is using holds onto the data.\r\n\r\nThankfully, I discovered that someone has implemented a FlushableGZIPOutputStream as part of the Apache Tomcat project. Here is the magic part:\r\n\r\n    @Override\r\n    public synchronized void flush() throws IOException {\r\n        if (hasLastByte) {\r\n            // - do not allow the gzip header to be flushed on its own\r\n            // - do not do anything if there is no data to send\r\n\r\n            // trick the deflater to flush\r\n            /**\r\n             * Now this is tricky: We force the Deflater to flush its data by\r\n             * switching compression level. As yet, a perplexingly simple workaround\r\n             * for\r\n             * http://developer.java.sun.com/developer/bugParade/bugs/4255743.html\r\n             */\r\n            if (!def.finished()) {\r\n                def.setLevel(Deflater.NO_COMPRESSION);\r\n                flushLastByte();\r\n                flagReenableCompression = true;\r\n            }\r\n        }\r\n        out.flush();\r\n    }\r\n\r\nYou can find the entire class in this jar (if you use Maven):\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tomcat-coyote&lt;/artifactId&gt;\r\n        &lt;version&gt;7.0.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nOr just go and grab the source code [FlushableGZIPOutputStream.java][1]\r\n\r\nIt&#39;s released under the Apache-2.0 license.\r\n\r\n\r\n  [1]: https://github.com/apache/tomcat/blob/7.0.x/java/org/apache/coyote/http11/filters/FlushableGZIPOutputStream.java","title":"Force flush on a GZIPOutputStream in java","body":"<p>I didn't find the other answer to work. It still refused to flush because the native code that GZIPOutputStream is using holds onto the data.</p>\n<p>Thankfully, I discovered that someone has implemented a FlushableGZIPOutputStream as part of the Apache Tomcat project. Here is the magic part:</p>\n<pre><code>@Override\npublic synchronized void flush() throws IOException {\n    if (hasLastByte) {\n        // - do not allow the gzip header to be flushed on its own\n        // - do not do anything if there is no data to send\n\n        // trick the deflater to flush\n        /**\n         * Now this is tricky: We force the Deflater to flush its data by\n         * switching compression level. As yet, a perplexingly simple workaround\n         * for\n         * http://developer.java.sun.com/developer/bugParade/bugs/4255743.html\n         */\n        if (!def.finished()) {\n            def.setLevel(Deflater.NO_COMPRESSION);\n            flushLastByte();\n            flagReenableCompression = true;\n        }\n    }\n    out.flush();\n}\n</code></pre>\n<p>You can find the entire class in this jar (if you use Maven):</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-coyote&lt;/artifactId&gt;\n    &lt;version&gt;7.0.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Or just go and grab the source code <a href=\"https://github.com/apache/tomcat/blob/7.0.x/java/org/apache/coyote/http11/filters/FlushableGZIPOutputStream.java\" rel=\"nofollow noreferrer\">FlushableGZIPOutputStream.java</a></p>\n<p>It's released under the Apache-2.0 license.</p>\n"},{"tags":[],"owner":{"account_id":420454,"reputation":6809,"user_id":798165,"accept_rate":57,"display_name":"eleven"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418841917,"creation_date":1418841917,"answer_id":27532605,"question_id":3640080,"body_markdown":"There is same problem on `Android` also. Accepter answer doesn&#39;t work because `def.setLevel(Deflater.NO_COMPRESSION);` throws exception. According `flush` method it changes compress level of `Deflater`. So I suppose changing compression should be called before writing data, but I&#39;m not sure.\r\n\r\nThere&#39;re 2 other options:\r\n\r\n - if API level of your app is higher that 19 then you can try to use constructor [with syncFlush param][1]\r\n - the other solution is using [jzlib][2].\r\n\r\n\r\n  [1]: http://developer.android.com/reference/java/util/zip/GZIPOutputStream.html#GZIPOutputStream(java.io.OutputStream,%20int,%20boolean)\r\n  [2]: https://github.com/ymnk/jzlib","title":"Force flush on a GZIPOutputStream in java","body":"<p>There is same problem on <code>Android</code> also. Accepter answer doesn't work because <code>def.setLevel(Deflater.NO_COMPRESSION);</code> throws exception. According <code>flush</code> method it changes compress level of <code>Deflater</code>. So I suppose changing compression should be called before writing data, but I'm not sure.</p>\n\n<p>There're 2 other options:</p>\n\n<ul>\n<li>if API level of your app is higher that 19 then you can try to use constructor <a href=\"http://developer.android.com/reference/java/util/zip/GZIPOutputStream.html#GZIPOutputStream(java.io.OutputStream,%20int,%20boolean)\" rel=\"nofollow\">with syncFlush param</a></li>\n<li>the other solution is using <a href=\"https://github.com/ymnk/jzlib\" rel=\"nofollow\">jzlib</a>.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":280853,"reputation":1214,"user_id":576794,"accept_rate":100,"display_name":"Tony"},"score":0,"creation_date":1478010127,"post_id":31927044,"comment_id":67977004,"body_markdown":"I had the exact same issue, and this solved my problem nicely! (the streaming to a client is better to start sooner)","body":"I had the exact same issue, and this solved my problem nicely! (the streaming to a client is better to start sooner)"},{"owner":{"account_id":4713249,"reputation":2149,"user_id":3813155,"accept_rate":79,"display_name":"heez"},"score":2,"creation_date":1536082582,"post_id":31927044,"comment_id":91293469,"body_markdown":"How does this differ from setting `syncFlush` to true in the `GZIPOutputStream` constructor?","body":"How does this differ from setting <code>syncFlush</code> to true in the <code>GZIPOutputStream</code> constructor?"},{"owner":{"account_id":556763,"reputation":1052,"user_id":1541186,"display_name":"ojchase"},"score":1,"creation_date":1651614133,"post_id":31927044,"comment_id":127404630,"body_markdown":"That constructor requires Java 7. This might be good for older versions.","body":"That constructor requires Java 7. This might be good for older versions."}],"tags":[],"owner":{"account_id":168070,"reputation":1771,"user_id":393274,"display_name":"Matt Sgarlata"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1439232847,"creation_date":1439232847,"answer_id":31927044,"question_id":3640080,"body_markdown":"This code is working great for me in my application.\r\n\r\n\tpublic class StreamingGZIPOutputStream extends GZIPOutputStream {\r\n\t\r\n\t\tpublic StreamingGZIPOutputStream(OutputStream out) throws IOException {\r\n\t\t\tsuper(out);\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t    protected void deflate() throws IOException {\r\n\t\t\t// SYNC_FLUSH is the key here, because it causes writing to the output\r\n\t\t\t// stream in a streaming manner instead of waiting until the entire\r\n\t\t\t// contents of the response are known.  for a large 1 MB json example\r\n\t\t\t// this took the size from around 48k to around 50k, so the benefits\r\n\t\t\t// of sending data to the client sooner seem to far outweigh the\r\n\t\t\t// added data sent due to less efficient compression\r\n\t        int len = def.deflate(buf, 0, buf.length, Deflater.SYNC_FLUSH);\r\n\t        if (len &gt; 0) {\r\n\t            out.write(buf, 0, len);\r\n\t        }\r\n\t    }\r\n\t\r\n\t}","title":"Force flush on a GZIPOutputStream in java","body":"<p>This code is working great for me in my application.</p>\n\n<pre><code>public class StreamingGZIPOutputStream extends GZIPOutputStream {\n\n    public StreamingGZIPOutputStream(OutputStream out) throws IOException {\n        super(out);\n    }\n\n    @Override\n    protected void deflate() throws IOException {\n        // SYNC_FLUSH is the key here, because it causes writing to the output\n        // stream in a streaming manner instead of waiting until the entire\n        // contents of the response are known.  for a large 1 MB json example\n        // this took the size from around 48k to around 50k, so the benefits\n        // of sending data to the client sooner seem to far outweigh the\n        // added data sent due to less efficient compression\n        int len = def.deflate(buf, 0, buf.length, Deflater.SYNC_FLUSH);\n        if (len &gt; 0) {\n            out.write(buf, 0, len);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3154242,"reputation":307,"user_id":2666964,"display_name":"kissLife"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607760291,"creation_date":1607760291,"answer_id":65262823,"question_id":3640080,"body_markdown":"as @seh said, this works great:\r\n```\r\nByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n\r\n// the second param need to be true\r\nGZIPOutputStream gzip = new GZIPOutputStream(stream,  true);\r\ngzip.write( .. );\r\ngzip.flush();\r\n\r\n...\r\ngzip.close()\r\n```","title":"Force flush on a GZIPOutputStream in java","body":"<p>as @seh said, this works great:</p>\n<pre><code>ByteArrayOutputStream stream = new ByteArrayOutputStream();\n\n// the second param need to be true\nGZIPOutputStream gzip = new GZIPOutputStream(stream,  true);\ngzip.write( .. );\ngzip.flush();\n\n...\ngzip.close()\n</code></pre>\n"}],"owner":{"account_id":89876,"reputation":2196,"user_id":247690,"accept_rate":57,"display_name":"Hemeroc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11890,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":6,"score":18,"last_activity_date":1689507997,"creation_date":1283554154,"question_id":3640080,"body_markdown":"we are working on a program where we need to flush (force compress and send data) a GZIPOutputStream. The problem is, that the flush method of the GZIPOutputStream doesn&#39;t work as expected (force compress and send data), instead the Stream waits for more data for efficient data compression.\r\n\r\nWhen you call finish the data is compressed and sent over the output stream but the GZIPOutputStream (not the underlying stream) will be closed so we cant write more data till we create a new GZIPOutputStream, which costs time and performance.\r\n\r\nHope anyone can help with this.\r\n\r\nBest regards.","title":"Force flush on a GZIPOutputStream in java","body":"<p>we are working on a program where we need to flush (force compress and send data) a GZIPOutputStream. The problem is, that the flush method of the GZIPOutputStream doesn't work as expected (force compress and send data), instead the Stream waits for more data for efficient data compression.</p>\n\n<p>When you call finish the data is compressed and sent over the output stream but the GZIPOutputStream (not the underlying stream) will be closed so we cant write more data till we create a new GZIPOutputStream, which costs time and performance.</p>\n\n<p>Hope anyone can help with this.</p>\n\n<p>Best regards.</p>\n"},{"tags":["java","oauth-2.0","java-8","oauth","google-calendar-api"],"answers":[{"tags":[],"owner":{"account_id":28978643,"reputation":100,"user_id":22197081,"display_name":"Rainy sidewalks"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689506548,"creation_date":1689506548,"answer_id":76697992,"question_id":76697908,"body_markdown":"in short you missed  &quot;type&quot;: &quot;service_account&quot;,\r\n\r\nas the above code is trying to to read the credentials from a file  ( from - &quot;/resources/credentials.json&quot;)but  it can not to find the required &#39;type&#39; field in the credentials file\r\nalso crosscheck credentials  file is located  in &quot;resources&quot; directory of the project.","title":"Error reading credentials from stream, &#39;type&#39; field not specified","body":"<p>in short you missed  &quot;type&quot;: &quot;service_account&quot;,</p>\n<p>as the above code is trying to to read the credentials from a file  ( from - &quot;/resources/credentials.json&quot;)but  it can not to find the required 'type' field in the credentials file\nalso crosscheck credentials  file is located  in &quot;resources&quot; directory of the project.</p>\n"}],"owner":{"account_id":29027338,"reputation":1,"user_id":22235189,"display_name":"Adrian Szyłak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689506548,"creation_date":1689505423,"question_id":76697908,"body_markdown":"I&#39;m working on a Java application that uses the Google Auth library to authenticate with the Google Calendar API. I&#39;ve downloaded the `credentials.json` file for my OAuth2 credentials from the Google Cloud Console, and I&#39;m loading this file in my application like so:\r\n\r\n```java\r\nInputStream in = GoogleCalendarExample.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\r\nGoogleCredentials credentials = GoogleCredentials.fromStream(in).createScoped(SCOPES);\r\n```\r\n\r\nHowever, when I try to run my application, I&#39;m getting the following error:\r\n\r\n```\r\nException in thread &quot;main&quot; java.io.IOException: Error reading credentials from stream, &#39;type&#39; field not specified.\r\n        at com.google.auth.oauth2.GoogleCredentials.fromStream(GoogleCredentials.java:170)\r\n        at com.google.auth.oauth2.GoogleCredentials.fromStream(GoogleCredentials.java:143)\r\n        at pl.szylak.googleservices.GoogleCalendarExample.main(GoogleCalendarExample.java:32)\r\n```\r\n\r\nI&#39;ve checked my `credentials.json` file, and it does not include a `type` field. Instead, it includes an `installed` object with `client_id`, `client_secret`, and other details:\r\n\r\n```json\r\n{\r\n  &quot;installed&quot;: {\r\n    &quot;client_id&quot;: &quot;CLIENT_ID.apps.googleusercontent.com&quot;,\r\n    &quot;project_id&quot;: &quot;PROJECT_ID&quot;,\r\n    &quot;auth_uri&quot;: &quot;https://accounts.google.com/o/oauth2/auth&quot;,\r\n    &quot;token_uri&quot;: &quot;https://oauth2.googleapis.com/token&quot;,\r\n    &quot;auth_provider_x509_cert_url&quot;: &quot;https://www.googleapis.com/oauth2/v1/certs&quot;,\r\n    &quot;client_secret&quot;: &quot;CLIENT_SECRET&quot;,\r\n    &quot;redirect_uris&quot;: [&quot;urn:ietf:wg:oauth:2.0:oob&quot;, &quot;http://localhost&quot;]\r\n  }\r\n}\r\n```\r\n\r\nI&#39;ve read that the Google Auth library should be able to handle this type of credentials file without issues, so I&#39;m not sure why I&#39;m seeing this error. Has anyone else encountered this problem, and does anyone know how to solve it?\r\n\r\nI&#39;ve changed the values in credentials.json for placeholders.\r\n\r\n---\r\n\r\nThis is my simple java code for adding some events to my calendar.\r\n\r\n\r\n```java\r\npackage pl.szylak.googleservices;\r\n\r\nimport com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\r\nimport com.google.api.client.json.JsonFactory;\r\nimport com.google.api.client.json.jackson2.JacksonFactory;\r\nimport com.google.api.client.util.DateTime;\r\nimport com.google.api.services.calendar.Calendar;\r\nimport com.google.api.services.calendar.CalendarScopes;\r\nimport com.google.api.services.calendar.model.Event;\r\nimport com.google.api.services.calendar.model.EventDateTime;\r\nimport com.google.auth.http.HttpCredentialsAdapter;\r\nimport com.google.auth.oauth2.GoogleCredentials;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.security.GeneralSecurityException;\r\nimport java.util.Collections;\r\n\r\npublic class GoogleCalendarExample {\r\nprivate static final String APPLICATION_NAME = &quot;Google Calendar API Java Quickstart&quot;;\r\nprivate static final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\r\nprivate static final String TOKENS_DIRECTORY_PATH = &quot;tokens&quot;;\r\nprivate static final String CREDENTIALS_FILE_PATH = &quot;/resources/credentials.json&quot;;\r\nprivate static final java.util.List\\&lt;String\\&gt; SCOPES = Collections.singletonList(CalendarScopes.CALENDAR);\r\n\r\n    private static com.google.api.services.calendar.Calendar service;\r\n    \r\n    public static void main(String... args) throws IOException, GeneralSecurityException {\r\n        // Build a new authorized API client service.\r\n        final com.google.api.client.http.javanet.NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n        InputStream in = GoogleCalendarExample.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\r\n        GoogleCredentials credentials = GoogleCredentials.fromStream(in).createScoped(SCOPES);\r\n        service = new com.google.api.services.calendar.Calendar.Builder(HTTP_TRANSPORT, JSON_FACTORY, new HttpCredentialsAdapter(credentials))\r\n                .setApplicationName(APPLICATION_NAME)\r\n                .build();\r\n    \r\n        // Call the Google Calendar API and add an event.\r\n        addEvent();\r\n    }\r\n    \r\n    private static void addEvent() throws IOException {\r\n        Event event = new Event()\r\n                .setSummary(&quot;Google I/O 2025&quot;)\r\n                .setLocation(&quot;800 Howard St., San Francisco, CA 94103&quot;)\r\n                .setDescription(&quot;A chance to learn more about Google&#39;s developer products.&quot;);\r\n    \r\n        EventDateTime start = new EventDateTime()\r\n                .setDateTime(new DateTime(&quot;2025-05-28T09:00:00-07:00&quot;))\r\n                .setTimeZone(&quot;America/Los_Angeles&quot;);\r\n        event.setStart(start);\r\n    \r\n        EventDateTime end = new EventDateTime()\r\n                .setDateTime(new DateTime(&quot;2025-05-28T17:00:00-07:00&quot;))\r\n                .setTimeZone(&quot;America/Los_Angeles&quot;);\r\n        event.setEnd(end);\r\n    \r\n        String calendarId = &quot;primary&quot;;\r\n        event = service.events().insert(calendarId, event).execute();\r\n        System.out.printf(&quot;Event created: %s\\n&quot;, event.getHtmlLink());\r\n    }\r\n\r\n}\r\n```","title":"Error reading credentials from stream, &#39;type&#39; field not specified","body":"<p>I'm working on a Java application that uses the Google Auth library to authenticate with the Google Calendar API. I've downloaded the <code>credentials.json</code> file for my OAuth2 credentials from the Google Cloud Console, and I'm loading this file in my application like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>InputStream in = GoogleCalendarExample.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\nGoogleCredentials credentials = GoogleCredentials.fromStream(in).createScoped(SCOPES);\n</code></pre>\n<p>However, when I try to run my application, I'm getting the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.IOException: Error reading credentials from stream, 'type' field not specified.\n        at com.google.auth.oauth2.GoogleCredentials.fromStream(GoogleCredentials.java:170)\n        at com.google.auth.oauth2.GoogleCredentials.fromStream(GoogleCredentials.java:143)\n        at pl.szylak.googleservices.GoogleCalendarExample.main(GoogleCalendarExample.java:32)\n</code></pre>\n<p>I've checked my <code>credentials.json</code> file, and it does not include a <code>type</code> field. Instead, it includes an <code>installed</code> object with <code>client_id</code>, <code>client_secret</code>, and other details:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;installed&quot;: {\n    &quot;client_id&quot;: &quot;CLIENT_ID.apps.googleusercontent.com&quot;,\n    &quot;project_id&quot;: &quot;PROJECT_ID&quot;,\n    &quot;auth_uri&quot;: &quot;https://accounts.google.com/o/oauth2/auth&quot;,\n    &quot;token_uri&quot;: &quot;https://oauth2.googleapis.com/token&quot;,\n    &quot;auth_provider_x509_cert_url&quot;: &quot;https://www.googleapis.com/oauth2/v1/certs&quot;,\n    &quot;client_secret&quot;: &quot;CLIENT_SECRET&quot;,\n    &quot;redirect_uris&quot;: [&quot;urn:ietf:wg:oauth:2.0:oob&quot;, &quot;http://localhost&quot;]\n  }\n}\n</code></pre>\n<p>I've read that the Google Auth library should be able to handle this type of credentials file without issues, so I'm not sure why I'm seeing this error. Has anyone else encountered this problem, and does anyone know how to solve it?</p>\n<p>I've changed the values in credentials.json for placeholders.</p>\n<hr />\n<p>This is my simple java code for adding some events to my calendar.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package pl.szylak.googleservices;\n\nimport com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\nimport com.google.api.client.json.JsonFactory;\nimport com.google.api.client.json.jackson2.JacksonFactory;\nimport com.google.api.client.util.DateTime;\nimport com.google.api.services.calendar.Calendar;\nimport com.google.api.services.calendar.CalendarScopes;\nimport com.google.api.services.calendar.model.Event;\nimport com.google.api.services.calendar.model.EventDateTime;\nimport com.google.auth.http.HttpCredentialsAdapter;\nimport com.google.auth.oauth2.GoogleCredentials;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.security.GeneralSecurityException;\nimport java.util.Collections;\n\npublic class GoogleCalendarExample {\nprivate static final String APPLICATION_NAME = &quot;Google Calendar API Java Quickstart&quot;;\nprivate static final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\nprivate static final String TOKENS_DIRECTORY_PATH = &quot;tokens&quot;;\nprivate static final String CREDENTIALS_FILE_PATH = &quot;/resources/credentials.json&quot;;\nprivate static final java.util.List\\&lt;String\\&gt; SCOPES = Collections.singletonList(CalendarScopes.CALENDAR);\n\n    private static com.google.api.services.calendar.Calendar service;\n    \n    public static void main(String... args) throws IOException, GeneralSecurityException {\n        // Build a new authorized API client service.\n        final com.google.api.client.http.javanet.NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n        InputStream in = GoogleCalendarExample.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\n        GoogleCredentials credentials = GoogleCredentials.fromStream(in).createScoped(SCOPES);\n        service = new com.google.api.services.calendar.Calendar.Builder(HTTP_TRANSPORT, JSON_FACTORY, new HttpCredentialsAdapter(credentials))\n                .setApplicationName(APPLICATION_NAME)\n                .build();\n    \n        // Call the Google Calendar API and add an event.\n        addEvent();\n    }\n    \n    private static void addEvent() throws IOException {\n        Event event = new Event()\n                .setSummary(&quot;Google I/O 2025&quot;)\n                .setLocation(&quot;800 Howard St., San Francisco, CA 94103&quot;)\n                .setDescription(&quot;A chance to learn more about Google's developer products.&quot;);\n    \n        EventDateTime start = new EventDateTime()\n                .setDateTime(new DateTime(&quot;2025-05-28T09:00:00-07:00&quot;))\n                .setTimeZone(&quot;America/Los_Angeles&quot;);\n        event.setStart(start);\n    \n        EventDateTime end = new EventDateTime()\n                .setDateTime(new DateTime(&quot;2025-05-28T17:00:00-07:00&quot;))\n                .setTimeZone(&quot;America/Los_Angeles&quot;);\n        event.setEnd(end);\n    \n        String calendarId = &quot;primary&quot;;\n        event = service.events().insert(calendarId, event).execute();\n        System.out.printf(&quot;Event created: %s\\n&quot;, event.getHtmlLink());\n    }\n\n}\n</code></pre>\n"},{"tags":["java","testing","spring-security","junit","jwt"],"answers":[{"comments":[{"owner":{"account_id":22990091,"reputation":293,"user_id":17115716,"display_name":"Gabriel"},"score":0,"creation_date":1689508961,"post_id":76697986,"comment_id":135220645,"body_markdown":"Okay thank you very much, then Ig comparing the claims is the best idea","body":"Okay thank you very much, then Ig comparing the claims is the best idea"}],"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689506445,"creation_date":1689506445,"answer_id":76697986,"question_id":76697921,"body_markdown":"You could take a different approach and verify the contents of the JWT instead of comparing it with a pre-generated token (which contains a timestamp (iat and exp fields), so it will always be different from a pre-generated token):\r\n```java\r\n@Test\r\npublic void generateToken_shouldGenerateToken() {\r\n    Verwaltung verwaltung = new Verwaltung(\r\n            &quot;user&quot;,\r\n            &quot;user@gmail.com&quot;,\r\n            &quot;user&quot;,\r\n            Rolle.getPrefixedRolle(Rolle.USER)\r\n    );\r\n    String generatedToken = jwtService.generateToken(new UserDetailsImpl(verwaltung));\r\n\r\n    // parse generated token\r\n    Claims claims = Jwts.parser()\r\n                        .setSigningKey(DatatypeConverter.parseBase64Binary(SECRET_KEY))\r\n                        .parseClaimsJws(generatedToken)\r\n                        .getBody();\r\n\r\n    assertEquals(verwaltung.getUsername(), claims.getSubject());\r\n    // check if the token is not expired\r\n    assertFalse(claims.getExpiration().before(new Date()));\r\n}\r\n```","title":"Can&#39;t test generateToken() method for JWT token because of iat and exp date","body":"<p>You could take a different approach and verify the contents of the JWT instead of comparing it with a pre-generated token (which contains a timestamp (iat and exp fields), so it will always be different from a pre-generated token):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void generateToken_shouldGenerateToken() {\n    Verwaltung verwaltung = new Verwaltung(\n            &quot;user&quot;,\n            &quot;user@gmail.com&quot;,\n            &quot;user&quot;,\n            Rolle.getPrefixedRolle(Rolle.USER)\n    );\n    String generatedToken = jwtService.generateToken(new UserDetailsImpl(verwaltung));\n\n    // parse generated token\n    Claims claims = Jwts.parser()\n                        .setSigningKey(DatatypeConverter.parseBase64Binary(SECRET_KEY))\n                        .parseClaimsJws(generatedToken)\n                        .getBody();\n\n    assertEquals(verwaltung.getUsername(), claims.getSubject());\n    // check if the token is not expired\n    assertFalse(claims.getExpiration().before(new Date()));\n}\n</code></pre>\n"}],"owner":{"account_id":22990091,"reputation":293,"user_id":17115716,"display_name":"Gabriel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76697986,"answer_count":1,"score":0,"last_activity_date":1689506445,"creation_date":1689505595,"question_id":76697921,"body_markdown":"I want to test my **JwtService** which is for generating and handling JWT Tokens. I am not even sure, if I have to test it because not all the methods are mine but I still would like to see if the token is generated correct. But if I want to test if the generated token is correct I have to compare it to another token. The only problem is the time difference, so iat (Issued At) and exp (Expiration Time/Date) are different. That&#39;s why the test always fails. How can I test even though the iat and exp are different?\r\n\r\n**JwtService:**\r\n```java\r\npackage de.gabriel.vertretungsplan.security.service;\r\n\r\nimport de.gabriel.vertretungsplan.models.UserDetailsImpl.UserDetailsImpl;\r\nimport io.jsonwebtoken.Claims;\r\nimport io.jsonwebtoken.Jwts;\r\nimport io.jsonwebtoken.SignatureAlgorithm;\r\nimport io.jsonwebtoken.io.Decoders;\r\nimport io.jsonwebtoken.security.Keys;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.security.Key;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.function.Function;\r\n\r\n@Service\r\npublic class JwtService {\r\n\r\n    /*\r\n    Generated with: https://www.allkeysgenerator.com/; 256-bit key\r\n     */\r\n    private static final String SECRET_KEY = &quot;secret_key&quot;;\r\n\r\n    public String extractUsername(String token) {\r\n        return extractClaim(token, Claims::getSubject);\r\n    }\r\n\r\n    public &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver) {\r\n        final Claims claims = extractAllClaims(token);\r\n        return claimsResolver.apply(claims);\r\n    }\r\n\r\n    public String generateToken(UserDetailsImpl userDetails) {\r\n        return generateToken(new HashMap&lt;&gt;(), userDetails);\r\n    }\r\n\r\n    public String generateToken(\r\n            Map&lt;String, Object&gt; extraClaims,\r\n            UserDetailsImpl userDetails\r\n    ) {\r\n        return Jwts.builder()\r\n                .setClaims(extraClaims)\r\n                .setSubject(userDetails.getUsername())\r\n                .setIssuedAt(new Date(System.currentTimeMillis()))\r\n                .setExpiration(new Date(System.currentTimeMillis() + (1000 * 60 * 60 * 24 * 7))) // 7 days\r\n                .signWith(getSigningKey(), SignatureAlgorithm.HS256)\r\n                .compact();\r\n    }\r\n\r\n    public boolean isTokenValid(String token, UserDetailsImpl userDetails) {\r\n        final String username = extractUsername(token);\r\n        return username.equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token);\r\n    }\r\n\r\n    private boolean isTokenExpired(String token) {\r\n        return extractExpiration(token).before(new Date());\r\n    }\r\n\r\n    private Date extractExpiration(String token) {\r\n        return extractClaim(token, Claims::getExpiration);\r\n    }\r\n\r\n    private Claims extractAllClaims(String token) {\r\n        return Jwts\r\n                .parserBuilder()\r\n                .setSigningKey(getSigningKey())\r\n                .build()\r\n                .parseClaimsJws(token)\r\n                .getBody();\r\n    }\r\n\r\n    private Key getSigningKey() {\r\n        byte[] keyBytes = Decoders.BASE64.decode(SECRET_KEY);\r\n        return Keys.hmacShaKeyFor(keyBytes);\r\n    }\r\n\r\n}\r\n```\r\nThis is how I want to test it:\r\n```\r\n@Test\r\npublic void generateToken_shouldGenerateToken() {\r\n    Verwaltung verwaltung = new Verwaltung(\r\n            &quot;user&quot;,\r\n            &quot;user@gmail.com&quot;,\r\n            &quot;user&quot;,\r\n            Rolle.getPrefixedRolle(Rolle.USER)\r\n    );\r\n    String generatedToken = jwtService.generateToken(new UserDetailsImpl(verwaltung));\r\n    assertEquals(token, generatedToken);\r\n}\r\n```\r\nThe expected ```token``` was generated on jwt.io with the same secret key and everything as reference/ expected token. Does anyone have an idea how to test it even though there is a time difference?","title":"Can&#39;t test generateToken() method for JWT token because of iat and exp date","body":"<p>I want to test my <strong>JwtService</strong> which is for generating and handling JWT Tokens. I am not even sure, if I have to test it because not all the methods are mine but I still would like to see if the token is generated correct. But if I want to test if the generated token is correct I have to compare it to another token. The only problem is the time difference, so iat (Issued At) and exp (Expiration Time/Date) are different. That's why the test always fails. How can I test even though the iat and exp are different?</p>\n<p><strong>JwtService:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.gabriel.vertretungsplan.security.service;\n\nimport de.gabriel.vertretungsplan.models.UserDetailsImpl.UserDetailsImpl;\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SignatureAlgorithm;\nimport io.jsonwebtoken.io.Decoders;\nimport io.jsonwebtoken.security.Keys;\nimport org.springframework.stereotype.Service;\n\nimport java.security.Key;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.function.Function;\n\n@Service\npublic class JwtService {\n\n    /*\n    Generated with: https://www.allkeysgenerator.com/; 256-bit key\n     */\n    private static final String SECRET_KEY = &quot;secret_key&quot;;\n\n    public String extractUsername(String token) {\n        return extractClaim(token, Claims::getSubject);\n    }\n\n    public &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver) {\n        final Claims claims = extractAllClaims(token);\n        return claimsResolver.apply(claims);\n    }\n\n    public String generateToken(UserDetailsImpl userDetails) {\n        return generateToken(new HashMap&lt;&gt;(), userDetails);\n    }\n\n    public String generateToken(\n            Map&lt;String, Object&gt; extraClaims,\n            UserDetailsImpl userDetails\n    ) {\n        return Jwts.builder()\n                .setClaims(extraClaims)\n                .setSubject(userDetails.getUsername())\n                .setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis() + (1000 * 60 * 60 * 24 * 7))) // 7 days\n                .signWith(getSigningKey(), SignatureAlgorithm.HS256)\n                .compact();\n    }\n\n    public boolean isTokenValid(String token, UserDetailsImpl userDetails) {\n        final String username = extractUsername(token);\n        return username.equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token);\n    }\n\n    private boolean isTokenExpired(String token) {\n        return extractExpiration(token).before(new Date());\n    }\n\n    private Date extractExpiration(String token) {\n        return extractClaim(token, Claims::getExpiration);\n    }\n\n    private Claims extractAllClaims(String token) {\n        return Jwts\n                .parserBuilder()\n                .setSigningKey(getSigningKey())\n                .build()\n                .parseClaimsJws(token)\n                .getBody();\n    }\n\n    private Key getSigningKey() {\n        byte[] keyBytes = Decoders.BASE64.decode(SECRET_KEY);\n        return Keys.hmacShaKeyFor(keyBytes);\n    }\n\n}\n</code></pre>\n<p>This is how I want to test it:</p>\n<pre><code>@Test\npublic void generateToken_shouldGenerateToken() {\n    Verwaltung verwaltung = new Verwaltung(\n            &quot;user&quot;,\n            &quot;user@gmail.com&quot;,\n            &quot;user&quot;,\n            Rolle.getPrefixedRolle(Rolle.USER)\n    );\n    String generatedToken = jwtService.generateToken(new UserDetailsImpl(verwaltung));\n    assertEquals(token, generatedToken);\n}\n</code></pre>\n<p>The expected <code>token</code> was generated on jwt.io with the same secret key and everything as reference/ expected token. Does anyone have an idea how to test it even though there is a time difference?</p>\n"},{"tags":["java","nullpointerexception","dozer"],"comments":[{"owner":{"account_id":2172591,"reputation":608,"user_id":1924156,"accept_rate":67,"display_name":"Dheeraj Arora"},"score":0,"creation_date":1506928317,"post_id":30302605,"comment_id":79995728,"body_markdown":"Could you please share the solution for this, if it&#39;s working fine for you?","body":"Could you please share the solution for this, if it&#39;s working fine for you?"}],"answers":[{"tags":[],"owner":{"account_id":556955,"reputation":471,"user_id":919230,"accept_rate":69,"display_name":"Alex M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455552744,"creation_date":1455552405,"answer_id":35413882,"question_id":30302605,"body_markdown":"If you instantiate the Mapper like this:\r\n\r\n`Mapper mapper = new DozerBeanMapper();\r\n DestinationObject destObject = \r\n    mapper.map(sourceObject, DestinationObject.class);`\r\n\r\nyou don&#39;t need the file with the mappings. If you instantiate mapper using the production way ([dozer documentation ][1]) you need the dozerBeanMapping.xml file with the mapping.\r\n\r\n`Mapper mapper = DozerBeanMapperSingletonWrapper.getInstance(); \r\nDestinationObject destObject =\r\n    mapper.map(sourceObject, DestinationObject.class);`\r\n\r\nOtherwise you will receive the exception that you posted. I have seen it debugging the source code of Dozer lib.\r\n \r\nAre you instantiating Mapper using DozerBeanMapperSingletonWrapper ?\r\n\r\nhope it helps \r\n\r\n  [1]: http://dozer.sourceforge.net/documentation/usage.html","title":"Dozer throwing NullPointerException on getClassMap","body":"<p>If you instantiate the Mapper like this:</p>\n\n<p><code>Mapper mapper = new DozerBeanMapper();\n DestinationObject destObject = \n    mapper.map(sourceObject, DestinationObject.class);</code></p>\n\n<p>you don't need the file with the mappings. If you instantiate mapper using the production way (<a href=\"http://dozer.sourceforge.net/documentation/usage.html\" rel=\"nofollow\">dozer documentation </a>) you need the dozerBeanMapping.xml file with the mapping.</p>\n\n<p><code>Mapper mapper = DozerBeanMapperSingletonWrapper.getInstance(); \nDestinationObject destObject =\n    mapper.map(sourceObject, DestinationObject.class);</code></p>\n\n<p>Otherwise you will receive the exception that you posted. I have seen it debugging the source code of Dozer lib.</p>\n\n<p>Are you instantiating Mapper using DozerBeanMapperSingletonWrapper ?</p>\n\n<p>hope it helps </p>\n"}],"owner":{"account_id":1534186,"reputation":2290,"user_id":1430655,"accept_rate":71,"display_name":"shiladitya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2516,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1689508928,"answer_count":1,"score":1,"last_activity_date":1689505941,"creation_date":1431950189,"question_id":30302605,"body_markdown":"The exception I am getting is: \r\n\r\n    java.lang.NullPointerException\r\n        at org.dozer.MappingProcessor.getClassMap(MappingProcessor.java:1034)\r\n        at org.dozer.MappingProcessor.map(MappingProcessor.java:162)\r\n        at org.dozer.MappingProcessor.map(MappingProcessor.java:124)\r\n        at org.dozer.MappingProcessor.map(MappingProcessor.java:119)\r\n        at org.dozer.DozerBeanMapper.map(DozerBeanMapper.java:111)\r\n        at com.shiladit.CategoryResource.get(CategoryResource.java:120)\r\n\r\nI recently upgraded to dozerBeanMapper 5.3.2. \r\n\r\nI have defined custom mappings through XML.  Where might I be going wrong?\r\n\r\nEDIT: I saw line 1034 in MappingProcessor [here][1], where I assume classMappings is null, which probably means the custom XML mappings defined are not getting picked up. \r\n\r\n\r\n  [1]: http://grepcode.com/file/repo1.maven.org/maven2/net.sf.dozer/dozer/5.3.2/org/dozer/MappingProcessor.java#MappingProcessor.getClassMap%28java.lang.Class%2Cjava.lang.Class%2Cjava.lang.String%29","title":"Dozer throwing NullPointerException on getClassMap","body":"<p>The exception I am getting is: </p>\n\n<pre><code>java.lang.NullPointerException\n    at org.dozer.MappingProcessor.getClassMap(MappingProcessor.java:1034)\n    at org.dozer.MappingProcessor.map(MappingProcessor.java:162)\n    at org.dozer.MappingProcessor.map(MappingProcessor.java:124)\n    at org.dozer.MappingProcessor.map(MappingProcessor.java:119)\n    at org.dozer.DozerBeanMapper.map(DozerBeanMapper.java:111)\n    at com.shiladit.CategoryResource.get(CategoryResource.java:120)\n</code></pre>\n\n<p>I recently upgraded to dozerBeanMapper 5.3.2. </p>\n\n<p>I have defined custom mappings through XML.  Where might I be going wrong?</p>\n\n<p>EDIT: I saw line 1034 in MappingProcessor <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/net.sf.dozer/dozer/5.3.2/org/dozer/MappingProcessor.java#MappingProcessor.getClassMap%28java.lang.Class%2Cjava.lang.Class%2Cjava.lang.String%29\" rel=\"nofollow\">here</a>, where I assume classMappings is null, which probably means the custom XML mappings defined are not getting picked up. </p>\n"},{"tags":["java","json","mongodb","nosql","aggregation"],"answers":[{"comments":[{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1689505033,"post_id":76697081,"comment_id":135220226,"body_markdown":"This didn&#39;t address OP&#39;s question as they excited the constraint: &quot;_my search key can be anything and can be nested to any level_&quot;","body":"This didn&#39;t address OP&#39;s question as they excited the constraint: &quot;<i>my search key can be anything and can be nested to any level</i>&quot;"},{"owner":{"account_id":4008086,"reputation":2250,"user_id":3302263,"display_name":"Pavel Bely"},"score":0,"creation_date":1689505562,"post_id":76697081,"comment_id":135220274,"body_markdown":"@user20042973 thanks, I&#39;ve updated my answer, could you please have a look","body":"@user20042973 thanks, I&#39;ve updated my answer, could you please have a look"},{"owner":{"account_id":27597803,"reputation":11,"user_id":21063654,"display_name":"Divakar V"},"score":0,"creation_date":1692029855,"post_id":76697081,"comment_id":135567464,"body_markdown":"@PavelBely thanks for your answer, but i need to do without altering the document,","body":"@PavelBely thanks for your answer, but i need to do without altering the document,"}],"tags":[],"owner":{"account_id":4008086,"reputation":2250,"user_id":3302263,"display_name":"Pavel Bely"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689505536,"creation_date":1689491181,"answer_id":76697081,"question_id":76696947,"body_markdown":"You can add `presentKeys` array field and be pushing to it all the keys you&#39;re setting in a document.\r\n\r\nHere&#39;s how it can look like for your given example:\r\n\r\n    {\r\n        &quot;presentKeys&quot;: [\r\n            &quot;data&quot;,\r\n            &quot;data.MainId&quot;,\r\n            &quot;data.firstName&quot;,\r\n            &quot;data.lastName&quot;,\r\n            &quot;data.categories&quot;,\r\n            &quot;data.categories.CategoryID&quot;,\r\n            &quot;data.categories.CategoryName&quot;,\r\n            &quot;messages&quot;,\r\n            &quot;success&quot;,\r\n        ],\r\n        &quot;data&quot;: [\r\n            {\r\n                &quot;MainId&quot;: 1111,\r\n                &quot;firstName&quot;: &quot;Sherlock&quot;,\r\n                &quot;lastName&quot;: &quot;Homes&quot;,\r\n                &quot;categories&quot;: [\r\n                    {\r\n                        &quot;CategoryID&quot;: 1,\r\n                        &quot;CategoryName&quot;: &quot;Example&quot;\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                &quot;MainId&quot;: 122,\r\n                &quot;firstName&quot;: &quot;James&quot;,\r\n                &quot;lastName&quot;: &quot;Watson&quot;,\r\n                &quot;categories&quot;: [\r\n                    {\r\n                        &quot;CategoryID&quot;: 2,\r\n                        &quot;CategoryName&quot;: &quot;Example2&quot;\r\n                    }\r\n                ]\r\n            }\r\n        ],\r\n        &quot;messages&quot;: [], // blank json\r\n        &quot;success&quot;: true // boolean value\r\n    }\r\n\r\nAnd then index that field to avoid full collection scan:\r\n\r\n    db.collection.createIndex({ presentKeys: 1 });\r\n\r\n---\r\n\r\nNow you can query documents that contain some key this way:\r\n\r\n    db.collection.find({ presentKeys: &quot;data.categories.CategoryID&quot; });\r\n\r\n","title":"What is the better and optimal way to find the key (can be n-level nested ) is present in the mongoDB collection?","body":"<p>You can add <code>presentKeys</code> array field and be pushing to it all the keys you're setting in a document.</p>\n<p>Here's how it can look like for your given example:</p>\n<pre><code>{\n    &quot;presentKeys&quot;: [\n        &quot;data&quot;,\n        &quot;data.MainId&quot;,\n        &quot;data.firstName&quot;,\n        &quot;data.lastName&quot;,\n        &quot;data.categories&quot;,\n        &quot;data.categories.CategoryID&quot;,\n        &quot;data.categories.CategoryName&quot;,\n        &quot;messages&quot;,\n        &quot;success&quot;,\n    ],\n    &quot;data&quot;: [\n        {\n            &quot;MainId&quot;: 1111,\n            &quot;firstName&quot;: &quot;Sherlock&quot;,\n            &quot;lastName&quot;: &quot;Homes&quot;,\n            &quot;categories&quot;: [\n                {\n                    &quot;CategoryID&quot;: 1,\n                    &quot;CategoryName&quot;: &quot;Example&quot;\n                }\n            ]\n        },\n        {\n            &quot;MainId&quot;: 122,\n            &quot;firstName&quot;: &quot;James&quot;,\n            &quot;lastName&quot;: &quot;Watson&quot;,\n            &quot;categories&quot;: [\n                {\n                    &quot;CategoryID&quot;: 2,\n                    &quot;CategoryName&quot;: &quot;Example2&quot;\n                }\n            ]\n        }\n    ],\n    &quot;messages&quot;: [], // blank json\n    &quot;success&quot;: true // boolean value\n}\n</code></pre>\n<p>And then index that field to avoid full collection scan:</p>\n<pre><code>db.collection.createIndex({ presentKeys: 1 });\n</code></pre>\n<hr />\n<p>Now you can query documents that contain some key this way:</p>\n<pre><code>db.collection.find({ presentKeys: &quot;data.categories.CategoryID&quot; });\n</code></pre>\n"}],"owner":{"account_id":27597803,"reputation":11,"user_id":21063654,"display_name":"Divakar V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689505536,"creation_date":1689488574,"question_id":76696947,"body_markdown":"Let us take my document in collection looks like this bellow\r\n\r\n```\r\n{\r\n    &quot;data&quot;: [\r\n        {\r\n            &quot;MainId&quot;: 1111,\r\n            &quot;firstName&quot;: &quot;Sherlock&quot;,\r\n            &quot;lastName&quot;: &quot;Homes&quot;,\r\n            &quot;categories&quot;: [\r\n                {\r\n                    &quot;CategoryID&quot;: 1,\r\n                    &quot;CategoryName&quot;: &quot;Example&quot;\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            &quot;MainId&quot;: 122,\r\n            &quot;firstName&quot;: &quot;James&quot;,\r\n            &quot;lastName&quot;: &quot;Watson&quot;,\r\n            &quot;categories&quot;: [\r\n                {\r\n                    &quot;CategoryID&quot;: 2,\r\n                    &quot;CategoryName&quot;: &quot;Example2&quot;\r\n                }\r\n            ]\r\n        }\r\n    ],\r\n    &quot;messages&quot;: [], // blank json\r\n    &quot;success&quot;: true // boolean value\r\n}\r\n```\r\n\r\n\r\nso i need to search  whether the key exists ```CategoryID```   in the document or not , It is just an example my search key can be anything and can be nested to any level \r\n\r\n\r\n\r\nwhat is an better and optimal way to find whether the key exists or not ?\r\n```Note: each document structure might vary so need to find whether the key is present in the whole collection or not```\r\n\r\n\r\ni can iterate through all the documents in the collection and recursively go as deep as inside to check the existing of the key but that is brute force solution how can i optimise it..?\r\n\r\n\r\nWhat i need is:\r\n\r\n* MongoDb aggregation query if exists \r\n* OrElse any other way to do it in better and optimal way","title":"What is the better and optimal way to find the key (can be n-level nested ) is present in the mongoDB collection?","body":"<p>Let us take my document in collection looks like this bellow</p>\n<pre><code>{\n    &quot;data&quot;: [\n        {\n            &quot;MainId&quot;: 1111,\n            &quot;firstName&quot;: &quot;Sherlock&quot;,\n            &quot;lastName&quot;: &quot;Homes&quot;,\n            &quot;categories&quot;: [\n                {\n                    &quot;CategoryID&quot;: 1,\n                    &quot;CategoryName&quot;: &quot;Example&quot;\n                }\n            ]\n        },\n        {\n            &quot;MainId&quot;: 122,\n            &quot;firstName&quot;: &quot;James&quot;,\n            &quot;lastName&quot;: &quot;Watson&quot;,\n            &quot;categories&quot;: [\n                {\n                    &quot;CategoryID&quot;: 2,\n                    &quot;CategoryName&quot;: &quot;Example2&quot;\n                }\n            ]\n        }\n    ],\n    &quot;messages&quot;: [], // blank json\n    &quot;success&quot;: true // boolean value\n}\n</code></pre>\n<p>so i need to search  whether the key exists <code>CategoryID</code>   in the document or not , It is just an example my search key can be anything and can be nested to any level</p>\n<p>what is an better and optimal way to find whether the key exists or not ?\n<code>Note: each document structure might vary so need to find whether the key is present in the whole collection or not</code></p>\n<p>i can iterate through all the documents in the collection and recursively go as deep as inside to check the existing of the key but that is brute force solution how can i optimise it..?</p>\n<p>What i need is:</p>\n<ul>\n<li>MongoDb aggregation query if exists</li>\n<li>OrElse any other way to do it in better and optimal way</li>\n</ul>\n"},{"tags":["java","android","flutter"],"answers":[{"tags":[],"owner":{"account_id":26683246,"reputation":145,"user_id":20292934,"display_name":"shahabas paramban"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676817695,"creation_date":1676817695,"answer_id":75500901,"question_id":75499549,"body_markdown":"This error is telling us that our class was compiled at a higher version of Java than the version with which we tried to run it. More specifically, in this case we compiled our class with Java 11 and tried to run it with Java 8.\r\n\r\nwe have two ways we can resolve this error: compile our code for an earlier version of Java, or run our code on a newer Java version.\r\n\r\nI think this website might help you https://www.baeldung.com/java-lang-unsupportedclassversion","title":"Error when I run flutter doctor --android-licenses","body":"<p>This error is telling us that our class was compiled at a higher version of Java than the version with which we tried to run it. More specifically, in this case we compiled our class with Java 11 and tried to run it with Java 8.</p>\n<p>we have two ways we can resolve this error: compile our code for an earlier version of Java, or run our code on a newer Java version.</p>\n<p>I think this website might help you <a href=\"https://www.baeldung.com/java-lang-unsupportedclassversion\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-lang-unsupportedclassversion</a></p>\n"},{"comments":[{"owner":{"account_id":7580422,"reputation":916,"user_id":5751264,"display_name":"Stf_F"},"score":0,"creation_date":1689838546,"post_id":76697869,"comment_id":135270745,"body_markdown":"Please supplement your images with text and mention the name of the folders to delete. Furthermore the screenshot of the Android SDK would need a description as it is unclear what to do with it.","body":"Please supplement your images with text and mention the name of the folders to delete. Furthermore the screenshot of the Android SDK would need a description as it is unclear what to do with it."},{"owner":{"account_id":16681798,"reputation":9,"user_id":12056679,"display_name":"SmileHalo"},"score":0,"creation_date":1690537377,"post_id":76697869,"comment_id":135370964,"body_markdown":"You can click on the text with underscores to see the questions that need to be deleted. Additionally, what needs to be removed is (jbr and jre under studio).","body":"You can click on the text with underscores to see the questions that need to be deleted. Additionally, what needs to be removed is (jbr and jre under studio)."}],"tags":[],"owner":{"account_id":16681798,"reputation":9,"user_id":12056679,"display_name":"SmileHalo"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689505059,"creation_date":1689504761,"answer_id":76697869,"question_id":75499549,"body_markdown":"I also met this problem\r\n\r\n 1. del\r\n[Two folders and delete backup here][2]\r\n[enter image description here][3]\r\n\r\n\r\n2. restart\r\n3. Modify the java_home java11\r\n   flutter doctor --android-licenses\r\n   SUCCESS;\r\n&gt; my idea\r\nflutter doctor -v \r\nFound that he is the android jre in the studio,\r\nSwitch the Java version has no effect\r\nHas been submitted to the error in this, and then think of first take the Android&#39;s studio\r\nAfter the restart switch to java11 javahome path\r\nPerformed again &#39;flutter doctor --android-licenses&#39;\r\nSUCCESS!\r\nhappy(Do not rule out is my operational problems, this is my solution, hope to bring help, welcome to correct me, thank you!)\r\nCan&#39;t find the android download manager can check the latest\r\n[tools][4]\r\n\r\n  [2]: https://i.stack.imgur.com/Rr1Jd.png\r\n  [3]: https://i.stack.imgur.com/Etv60.png\r\n  [4]: https://i.stack.imgur.com/yEknm.png","title":"Error when I run flutter doctor --android-licenses","body":"<p>I also met this problem</p>\n<ol>\n<li><p>del\n<a href=\"https://i.stack.imgur.com/Rr1Jd.png\" rel=\"nofollow noreferrer\">Two folders and delete backup here</a>\n<a href=\"https://i.stack.imgur.com/Etv60.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n</li>\n<li><p>restart</p>\n</li>\n<li><p>Modify the java_home java11\nflutter doctor --android-licenses\nSUCCESS;</p>\n</li>\n</ol>\n<blockquote>\n<p>my idea\nflutter doctor -v\nFound that he is the android jre in the studio,\nSwitch the Java version has no effect\nHas been submitted to the error in this, and then think of first take the Android's studio\nAfter the restart switch to java11 javahome path\nPerformed again 'flutter doctor --android-licenses'\nSUCCESS!\nhappy(Do not rule out is my operational problems, this is my solution, hope to bring help, welcome to correct me, thank you!)\nCan't find the android download manager can check the latest\n<a href=\"https://i.stack.imgur.com/yEknm.png\" rel=\"nofollow noreferrer\">tools</a></p>\n</blockquote>\n"}],"owner":{"account_id":23225809,"reputation":3,"user_id":17317377,"display_name":"totoro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75500901,"answer_count":2,"score":0,"last_activity_date":1689505059,"creation_date":1676803451,"question_id":75499549,"body_markdown":"Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/android/prefs/AndroidLocationsProvider has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\r\nI tried also JDK 11 but it doesn&#39;t works.\r\nHow do I fix?\r\n\r\n![enter image description here](https://i.stack.imgur.com/2i2Ob.png)\r\n\r\n\r\n","title":"Error when I run flutter doctor --android-licenses","body":"<p>Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/android/prefs/AndroidLocationsProvider has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0</p>\n<p>I tried also JDK 11 but it doesn't works.\nHow do I fix?</p>\n<p><img src=\"https://i.stack.imgur.com/2i2Ob.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","android","android-recyclerview","gson"],"answers":[{"comments":[{"owner":{"account_id":18128035,"reputation":15,"user_id":13183402,"display_name":"Hafiz Caniago"},"score":0,"creation_date":1689499653,"post_id":76697484,"comment_id":135219683,"body_markdown":"thanks for answer, i try and work. but i prefer to  change  the response api to make things easier for me.","body":"thanks for answer, i try and work. but i prefer to  change  the response api to make things easier for me."}],"tags":[],"owner":{"account_id":25155166,"reputation":864,"user_id":19000086,"display_name":"zaid khan"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689498854,"creation_date":1689498854,"answer_id":76697484,"question_id":76697454,"body_markdown":"Change the return type of your api function to : \r\n\r\n```\r\n @GET(&quot;api/index.php?route=expenses&quot;)\r\n Call&lt;List&lt;AllExpenseResponseItem&gt;&gt; getAllExpenseItem(@Query(&quot;id&quot;) String userID);\r\n```","title":"(CLOSED) How to fix Expected BEGIN_OBJECT but was BEGIN_ARRAY at line 1 column 2 path $","body":"<p>Change the return type of your api function to :</p>\n<pre><code> @GET(&quot;api/index.php?route=expenses&quot;)\n Call&lt;List&lt;AllExpenseResponseItem&gt;&gt; getAllExpenseItem(@Query(&quot;id&quot;) String userID);\n</code></pre>\n"}],"owner":{"account_id":18128035,"reputation":15,"user_id":13183402,"display_name":"Hafiz Caniago"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76697484,"answer_count":1,"score":0,"last_activity_date":1689504679,"creation_date":1689498278,"question_id":76697454,"body_markdown":"I have encountered a problem when I want to fetch my data to `recyclerview` using Java, and resulting in the problem:\r\n\r\n&gt; com.google.gson.JsonSyntaxException: java.lang.IllegalStateException:  Expected BEGIN_OBJECT but was BEGIN_ARRAY at line 1 column 2 path $\r\n\r\nMy API Response : \r\n\r\n```json\r\n[\r\n    {\r\n        &quot;id&quot;: &quot;1&quot;,\r\n        &quot;type&quot;: &quot;Barang Elektronik&quot;,\r\n        &quot;payment_method&quot;: &quot;Cash&quot;,\r\n        &quot;price&quot;: &quot;500000&quot;,\r\n        &quot;date&quot;: &quot;2023-07-11 00:00:00&quot;,\r\n        &quot;detail&quot;: &quot;Charger HP&quot;\r\n    },\r\n    {\r\n        &quot;id&quot;: &quot;2&quot;,\r\n        &quot;type&quot;: &quot;Bahan Makanan&quot;,\r\n        &quot;payment_method&quot;: &quot;Cash&quot;,\r\n        &quot;price&quot;: &quot;50000&quot;,\r\n        &quot;date&quot;: &quot;2023-07-11 02:49:57&quot;,\r\n        &quot;detail&quot;: &quot;Mie Goreng 1 Dus&quot;\r\n    },\r\n    {\r\n        &quot;id&quot;: &quot;3&quot;,\r\n        &quot;type&quot;: &quot;Kecantikan&quot;,\r\n        &quot;payment_method&quot;: &quot;Gopay&quot;,\r\n        &quot;price&quot;: &quot;120000&quot;,\r\n        &quot;date&quot;: &quot;2023-07-11 00:00:00&quot;,\r\n        &quot;detail&quot;: &quot;Skincare&quot;\r\n    },\r\n    {\r\n        &quot;id&quot;: &quot;5&quot;,\r\n        &quot;type&quot;: &quot;Lainnya&quot;,\r\n        &quot;payment_method&quot;: &quot;Debit&quot;,\r\n        &quot;price&quot;: &quot;1200000&quot;,\r\n        &quot;date&quot;: &quot;2023-07-11 00:00:00&quot;,\r\n        &quot;detail&quot;: &quot;Liburan&quot;\r\n    }\r\n]\r\n```\r\n\r\nApiInterface.java\r\n\r\n\r\n    @GET(&quot;api/index.php?route=expenses&quot;)\r\n    Call&lt;AllExpenseResponse&gt; getAllExpenseItem(@Query(&quot;id&quot;) String userID);\r\n\r\n\r\n\r\nand the file that I have from generated POJO extension is:\r\nAllExpenseResponse.java\r\n```\r\npackage hafizcaniago.my.id.papb_final.Data.Response.Expenses;\r\n\r\nimport java.util.List;\r\nimport com.google.gson.annotations.SerializedName;\r\n\r\npublic class AllExpenseResponse{\r\n\r\n\t@SerializedName(&quot;AllExpenseResponse&quot;)\r\n\tprivate List&lt;AllExpenseResponseItem&gt; allExpenseResponse;\r\n\r\n\tpublic List&lt;AllExpenseResponseItem&gt; getAllExpenseResponse(){\r\n\t\treturn allExpenseResponse;\r\n\t}\r\n}\r\n```\r\n\r\nAllExpenseResponseItem.java\r\n\r\n```\r\npackage hafizcaniago.my.id.papb_final.Data.Response.Expenses;\r\n\r\nimport com.google.gson.annotations.SerializedName;\r\n\r\npublic class AllExpenseResponseItem{\r\n\r\n\t@SerializedName(&quot;date&quot;)\r\n\tprivate String date;\r\n\r\n\t@SerializedName(&quot;price&quot;)\r\n\tprivate String price;\r\n\r\n\t@SerializedName(&quot;id&quot;)\r\n\tprivate String id;\r\n\r\n\t@SerializedName(&quot;detail&quot;)\r\n\tprivate String detail;\r\n\r\n\t@SerializedName(&quot;type&quot;)\r\n\tprivate String type;\r\n\r\n\t@SerializedName(&quot;payment_method&quot;)\r\n\tprivate String paymentMethod;\r\n\r\n\tpublic String getDate(){\r\n\t\treturn date;\r\n\t}\r\n\r\n\tpublic String getPrice(){\r\n\t\treturn price;\r\n\t}\r\n\r\n\tpublic String getId(){\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic String getDetail(){\r\n\t\treturn detail;\r\n\t}\r\n\r\n\tpublic String getType(){\r\n\t\treturn type;\r\n\t}\r\n\r\n\tpublic String getPaymentMethod(){\r\n\t\treturn paymentMethod;\r\n\t}\r\n}\r\n```\r\n\r\nand this is MainActivity.java in load RecyclerView\r\n\r\n```\r\nRestClient.getService().getAllExpenseItem(USER_ID).enqueue(new Callback&lt;AllExpenseResponse&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;AllExpenseResponse&gt; call, Response&lt;AllExpenseResponse&gt; response) {\r\n                if (response.isSuccessful()) {\r\n                    expenseItem = response.body().getAllExpenseResponse();\r\n\r\n                    Log.i(&quot;responseExpense&quot;, expenseItem.toString());\r\n\r\n                    adapter = new ExpenseAdapter(expenseItem, getApplicationContext());\r\n                    recyclerView.setLayoutManager(new LinearLayoutManager(getApplicationContext()));\r\n                    recyclerView.setAdapter(adapter);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;AllExpenseResponse&gt; call, Throwable t) {\r\n                Toast.makeText(MainActivity.this, &quot;Something Wrong, Check Log for Details&quot;, Toast.LENGTH_SHORT).show();\r\n                Log.i(&quot;error&quot;, t.toString());\r\n                Log.i(&quot;error&quot;, call.toString());\r\n            }\r\n        });\r\n```\r\n\r\n\r\n\r\n\r\nI see some problem like that, but I don&#39;t still get it, what I must do. Please help me.","title":"(CLOSED) How to fix Expected BEGIN_OBJECT but was BEGIN_ARRAY at line 1 column 2 path $","body":"<p>I have encountered a problem when I want to fetch my data to <code>recyclerview</code> using Java, and resulting in the problem:</p>\n<blockquote>\n<p>com.google.gson.JsonSyntaxException: java.lang.IllegalStateException:  Expected BEGIN_OBJECT but was BEGIN_ARRAY at line 1 column 2 path $</p>\n</blockquote>\n<p>My API Response :</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;id&quot;: &quot;1&quot;,\n        &quot;type&quot;: &quot;Barang Elektronik&quot;,\n        &quot;payment_method&quot;: &quot;Cash&quot;,\n        &quot;price&quot;: &quot;500000&quot;,\n        &quot;date&quot;: &quot;2023-07-11 00:00:00&quot;,\n        &quot;detail&quot;: &quot;Charger HP&quot;\n    },\n    {\n        &quot;id&quot;: &quot;2&quot;,\n        &quot;type&quot;: &quot;Bahan Makanan&quot;,\n        &quot;payment_method&quot;: &quot;Cash&quot;,\n        &quot;price&quot;: &quot;50000&quot;,\n        &quot;date&quot;: &quot;2023-07-11 02:49:57&quot;,\n        &quot;detail&quot;: &quot;Mie Goreng 1 Dus&quot;\n    },\n    {\n        &quot;id&quot;: &quot;3&quot;,\n        &quot;type&quot;: &quot;Kecantikan&quot;,\n        &quot;payment_method&quot;: &quot;Gopay&quot;,\n        &quot;price&quot;: &quot;120000&quot;,\n        &quot;date&quot;: &quot;2023-07-11 00:00:00&quot;,\n        &quot;detail&quot;: &quot;Skincare&quot;\n    },\n    {\n        &quot;id&quot;: &quot;5&quot;,\n        &quot;type&quot;: &quot;Lainnya&quot;,\n        &quot;payment_method&quot;: &quot;Debit&quot;,\n        &quot;price&quot;: &quot;1200000&quot;,\n        &quot;date&quot;: &quot;2023-07-11 00:00:00&quot;,\n        &quot;detail&quot;: &quot;Liburan&quot;\n    }\n]\n</code></pre>\n<p>ApiInterface.java</p>\n<pre><code>@GET(&quot;api/index.php?route=expenses&quot;)\nCall&lt;AllExpenseResponse&gt; getAllExpenseItem(@Query(&quot;id&quot;) String userID);\n</code></pre>\n<p>and the file that I have from generated POJO extension is:\nAllExpenseResponse.java</p>\n<pre><code>package hafizcaniago.my.id.papb_final.Data.Response.Expenses;\n\nimport java.util.List;\nimport com.google.gson.annotations.SerializedName;\n\npublic class AllExpenseResponse{\n\n    @SerializedName(&quot;AllExpenseResponse&quot;)\n    private List&lt;AllExpenseResponseItem&gt; allExpenseResponse;\n\n    public List&lt;AllExpenseResponseItem&gt; getAllExpenseResponse(){\n        return allExpenseResponse;\n    }\n}\n</code></pre>\n<p>AllExpenseResponseItem.java</p>\n<pre><code>package hafizcaniago.my.id.papb_final.Data.Response.Expenses;\n\nimport com.google.gson.annotations.SerializedName;\n\npublic class AllExpenseResponseItem{\n\n    @SerializedName(&quot;date&quot;)\n    private String date;\n\n    @SerializedName(&quot;price&quot;)\n    private String price;\n\n    @SerializedName(&quot;id&quot;)\n    private String id;\n\n    @SerializedName(&quot;detail&quot;)\n    private String detail;\n\n    @SerializedName(&quot;type&quot;)\n    private String type;\n\n    @SerializedName(&quot;payment_method&quot;)\n    private String paymentMethod;\n\n    public String getDate(){\n        return date;\n    }\n\n    public String getPrice(){\n        return price;\n    }\n\n    public String getId(){\n        return id;\n    }\n\n    public String getDetail(){\n        return detail;\n    }\n\n    public String getType(){\n        return type;\n    }\n\n    public String getPaymentMethod(){\n        return paymentMethod;\n    }\n}\n</code></pre>\n<p>and this is MainActivity.java in load RecyclerView</p>\n<pre><code>RestClient.getService().getAllExpenseItem(USER_ID).enqueue(new Callback&lt;AllExpenseResponse&gt;() {\n            @Override\n            public void onResponse(Call&lt;AllExpenseResponse&gt; call, Response&lt;AllExpenseResponse&gt; response) {\n                if (response.isSuccessful()) {\n                    expenseItem = response.body().getAllExpenseResponse();\n\n                    Log.i(&quot;responseExpense&quot;, expenseItem.toString());\n\n                    adapter = new ExpenseAdapter(expenseItem, getApplicationContext());\n                    recyclerView.setLayoutManager(new LinearLayoutManager(getApplicationContext()));\n                    recyclerView.setAdapter(adapter);\n                }\n            }\n\n            @Override\n            public void onFailure(Call&lt;AllExpenseResponse&gt; call, Throwable t) {\n                Toast.makeText(MainActivity.this, &quot;Something Wrong, Check Log for Details&quot;, Toast.LENGTH_SHORT).show();\n                Log.i(&quot;error&quot;, t.toString());\n                Log.i(&quot;error&quot;, call.toString());\n            }\n        });\n</code></pre>\n<p>I see some problem like that, but I don't still get it, what I must do. Please help me.</p>\n"},{"tags":["java","c#","android","unity-game-engine"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1689504037,"post_id":76697782,"comment_id":135220110,"body_markdown":"Check your gradle configuration files and settings files where `http://maven.aliyun.com` is configured and at least change it to https. Better check who operates this server and if you really need it, because this is not a standard repository. Using an untrusted repository may infect your system with malware.","body":"Check your gradle configuration files and settings files where <code>http:&#47;&#47;maven.aliyun.com</code> is configured and at least change it to https. Better check who operates this server and if you really need it, because this is not a standard repository. Using an untrusted repository may infect your system with malware."}],"owner":{"account_id":27687459,"reputation":11,"user_id":21134923,"display_name":"SYSR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689503925,"creation_date":1689503334,"question_id":76697782,"body_markdown":"messages:[![error message](https://i.stack.imgur.com/Jxn1P.png)](https://i.stack.imgur.com/Jxn1P.png)\r\n\r\nI tried to I tried changing the file under GrandleTemplates folder.i have already changed the pack name and company name. The icon is changed.\r\n\r\n```\r\n**Build was configured to prefer settings repositories over project repositories but repository &#39;maven&#39; was added by build file &#39;build.gradle&#39;\r\nBuild was configured to prefer settings repositories over project repositories but repository &#39;maven2&#39; was added by build file &#39;build.gradle&#39;\r\nBuild was configured to prefer settings repositories over project repositories but repository &#39;maven3&#39; was added by build file &#39;build.gradle&#39;\r\nBuild was configured to prefer settings repositories over project repositories but repository &#39;maven4&#39; was added by build file &#39;build.gradle&#39;\r\nBuild was configured to prefer settings repositories over project repositories but repository &#39;flatDir&#39; was added by build file &#39;build.gradle&#39;\r\n\r\nUnityEngine.GUIUtility:ProcessEvent (int,intptr,bool&amp;)*\r\n\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring project &#39;:launcher&#39;.\r\n&gt; Could not resolve all dependencies for configuration &#39;:launcher:classpath&#39;.\r\n   &gt; Using insecure protocols with repositories, without explicit opt-in, is unsupported. Switch Maven repository &#39;maven(http://maven.aliyun.com/repository/google)&#39; to redirect to a secure protocol (like HTTPS) or allow insecure protocols. See https://docs.gradle.org/7.2/dsl/org.gradle.api.artifacts.repositories.UrlArtifactRepository.html#org.gradle.api.artifacts.repositories.UrlArtifactRepository:allowInsecureProtocol for more details. \r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 4s\r\n\r\nUnityEngine.GUIUtility:ProcessEvent (int,intptr,bool&amp;)\r\n```\r\n","title":"Unity reports an error when packaging an apk file: pick up JAVA_TOOL_options and so on","body":"<p>messages:<a href=\"https://i.stack.imgur.com/Jxn1P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jxn1P.png\" alt=\"error message\" /></a></p>\n<p>I tried to I tried changing the file under GrandleTemplates folder.i have already changed the pack name and company name. The icon is changed.</p>\n<pre><code>**Build was configured to prefer settings repositories over project repositories but repository 'maven' was added by build file 'build.gradle'\nBuild was configured to prefer settings repositories over project repositories but repository 'maven2' was added by build file 'build.gradle'\nBuild was configured to prefer settings repositories over project repositories but repository 'maven3' was added by build file 'build.gradle'\nBuild was configured to prefer settings repositories over project repositories but repository 'maven4' was added by build file 'build.gradle'\nBuild was configured to prefer settings repositories over project repositories but repository 'flatDir' was added by build file 'build.gradle'\n\nUnityEngine.GUIUtility:ProcessEvent (int,intptr,bool&amp;)*\n\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring project ':launcher'.\n&gt; Could not resolve all dependencies for configuration ':launcher:classpath'.\n   &gt; Using insecure protocols with repositories, without explicit opt-in, is unsupported. Switch Maven repository 'maven(http://maven.aliyun.com/repository/google)' to redirect to a secure protocol (like HTTPS) or allow insecure protocols. See https://docs.gradle.org/7.2/dsl/org.gradle.api.artifacts.repositories.UrlArtifactRepository.html#org.gradle.api.artifacts.repositories.UrlArtifactRepository:allowInsecureProtocol for more details. \n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 4s\n\nUnityEngine.GUIUtility:ProcessEvent (int,intptr,bool&amp;)\n</code></pre>\n"},{"tags":["java","kotlin","swing","user-interface"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1689463849,"post_id":76695574,"comment_id":135217551,"body_markdown":"`panel.background = Color(0, 0, 0, 125)` isn&#39;t going to work, as Swing components are either opaque or transparent, not translucent, but you can &quot;fake&quot; it - [for example](https://stackoverflow.com/questions/32216625/how-to-make-a-translucent-jpanel-within-the-region-jpanel/32217554#32217554)","body":"<code>panel.background = Color(0, 0, 0, 125)</code> isn&#39;t going to work, as Swing components are either opaque or transparent, not translucent, but you can &quot;fake&quot; it - <a href=\"https://stackoverflow.com/questions/32216625/how-to-make-a-translucent-jpanel-within-the-region-jpanel/32217554#32217554\">for example</a>"},{"owner":{"account_id":18039245,"reputation":355,"user_id":13111872,"display_name":"Atom"},"score":0,"creation_date":1689498975,"post_id":76695574,"comment_id":135219624,"body_markdown":"Hi @MadProgrammer, thanks for the reply. I&#39;ve updated my code with the `paintComponent` method from your linked `TranslucentPane` code and set `isOpaque` to false, but I still can&#39;t see the Label :(","body":"Hi @MadProgrammer, thanks for the reply. I&#39;ve updated my code with the <code>paintComponent</code> method from your linked <code>TranslucentPane</code> code and set <code>isOpaque</code> to false, but I still can&#39;t see the Label :("}],"answers":[{"comments":[{"owner":{"account_id":18039245,"reputation":355,"user_id":13111872,"display_name":"Atom"},"score":0,"creation_date":1689533320,"post_id":76697808,"comment_id":135223505,"body_markdown":"Hello again, @MadProgrammer, sorry that you had to post this again here, but I think I now understand you. This is perhaps not what I was searching for, but it will do for the moment, so thank you.","body":"Hello again, @MadProgrammer, sorry that you had to post this again here, but I think I now understand you. This is perhaps not what I was searching for, but it will do for the moment, so thank you."}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689503819,"creation_date":1689503819,"answer_id":76697808,"question_id":76695574,"body_markdown":"Swing does not support alpha based background colors.  Swing components are either fully opaque or fully transparent.\r\n\r\nYou can, however, fake it\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.AlphaComposite;\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JSlider;\r\n    import javax.swing.OverlayLayout;\r\n    import javax.swing.border.EmptyBorder;\r\n    import javax.swing.event.ChangeEvent;\r\n    import javax.swing.event.ChangeListener;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n            public TestPane() {\r\n                setLayout(new BorderLayout());\r\n                setBackground(Color.RED);\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n\r\n                JPanel overlayPane = new JPanel();\r\n                overlayPane.setOpaque(false);\r\n                overlayPane.setLayout(new OverlayLayout(overlayPane));\r\n\r\n                TranslucentPane translucentPane = new TranslucentPane();\r\n                translucentPane.setAlpha(0.5f);\r\n                translucentPane.setBackground(Color.RED);\r\n\r\n                overlayPane.add(translucentPane);\r\n                overlayPane.add(new JLabel(&quot;This is a test&quot;));\r\n\r\n                add(overlayPane);\r\n\r\n                JSlider slider = new JSlider(0, 100);\r\n                slider.addChangeListener(new ChangeListener() {\r\n                    @Override\r\n                    public void stateChanged(ChangeEvent e) {\r\n                        float alpha = slider.getValue() / 100f;\r\n                        translucentPane.setAlpha(alpha);\r\n                    }\r\n                });\r\n\r\n                add(slider, BorderLayout.SOUTH);\r\n            }\r\n        }\r\n\r\n        public class TranslucentPane extends JPanel {\r\n\r\n            private float alpha = 1f;\r\n\r\n            public TranslucentPane() {\r\n                setOpaque(false);\r\n            }\r\n\r\n            public void setAlpha(float alpha) {\r\n                this.alpha = alpha;\r\n                repaint();\r\n            }\r\n\r\n            public float getAlpha() {\r\n                return alpha;\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setComposite(AlphaComposite.SrcOver.derive(getAlpha()));\r\n                g2d.setColor(getBackground());\r\n                g2d.fillRect(0, 0, getWidth(), getHeight());\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7GSS5.gif\r\n\r\nYour first job is to get rid of `translucentPanel.background = Color(0, 0, 0, 125)`, instead use `Color.BLACK`\r\n\r\nAlso, I had to change the order of the components, so the translucent pane was added first, then the label, this ensures that the translucent pane is rendered above the label","title":"Cannot see a JLabel on a JPanel behind another non-opaque JPanel (OverlayLayout)","body":"<p>Swing does not support alpha based background colors.  Swing components are either fully opaque or fully transparent.</p>\n<p>You can, however, fake it</p>\n<p><a href=\"https://i.stack.imgur.com/7GSS5.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7GSS5.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.AlphaComposite;\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JSlider;\nimport javax.swing.OverlayLayout;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.event.ChangeListener;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n        public TestPane() {\n            setLayout(new BorderLayout());\n            setBackground(Color.RED);\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n\n            JPanel overlayPane = new JPanel();\n            overlayPane.setOpaque(false);\n            overlayPane.setLayout(new OverlayLayout(overlayPane));\n\n            TranslucentPane translucentPane = new TranslucentPane();\n            translucentPane.setAlpha(0.5f);\n            translucentPane.setBackground(Color.RED);\n\n            overlayPane.add(translucentPane);\n            overlayPane.add(new JLabel(&quot;This is a test&quot;));\n\n            add(overlayPane);\n\n            JSlider slider = new JSlider(0, 100);\n            slider.addChangeListener(new ChangeListener() {\n                @Override\n                public void stateChanged(ChangeEvent e) {\n                    float alpha = slider.getValue() / 100f;\n                    translucentPane.setAlpha(alpha);\n                }\n            });\n\n            add(slider, BorderLayout.SOUTH);\n        }\n    }\n\n    public class TranslucentPane extends JPanel {\n\n        private float alpha = 1f;\n\n        public TranslucentPane() {\n            setOpaque(false);\n        }\n\n        public void setAlpha(float alpha) {\n            this.alpha = alpha;\n            repaint();\n        }\n\n        public float getAlpha() {\n            return alpha;\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setComposite(AlphaComposite.SrcOver.derive(getAlpha()));\n            g2d.setColor(getBackground());\n            g2d.fillRect(0, 0, getWidth(), getHeight());\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<p>Your first job is to get rid of <code>translucentPanel.background = Color(0, 0, 0, 125)</code>, instead use <code>Color.BLACK</code></p>\n<p>Also, I had to change the order of the components, so the translucent pane was added first, then the label, this ensures that the translucent pane is rendered above the label</p>\n"}],"owner":{"account_id":18039245,"reputation":355,"user_id":13111872,"display_name":"Atom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76697808,"answer_count":1,"score":0,"last_activity_date":1689503819,"creation_date":1689451196,"question_id":76695574,"body_markdown":"I would like the label *&quot;Test!&quot;* to sit behind the dark box, and to be able to see the background image behind. How can I achieve this?\r\n\r\nThis is a minimal example of my real problem, where I am trying to layer 2 frame-sized JPanels in order to create a navigation overlay over my application.\r\n\r\n```kotlin\r\n    private fun createAndShowGUI() {\r\n        defaultCloseOperation = EXIT_ON_CLOSE\r\n\r\n        contentPane = JLabel(ImageIcon(&quot;C:\\\\...\\\\bee.jpg&quot;))\r\n        layout = FlowLayout()\r\n\r\n        //\r\n        val translucentPanel: JPanel = object: JPanel() {\r\n            override fun paintComponent(g: Graphics?) {\r\n                super.paintComponent(g)\r\n\r\n                val graphics = g!!.create() as Graphics2D\r\n                graphics.composite = AlphaComposite.SrcOver.derive(0.5f)\r\n                graphics.color = background\r\n                graphics.fillRect(0, 0, width, height)\r\n                graphics.dispose()\r\n            }\r\n        }\r\n        translucentPanel.background = Color(0, 0, 0, 125)\r\n        translucentPanel.preferredSize = Dimension(250, 150)\r\n        translucentPanel.isOpaque = false\r\n\r\n        //\r\n        val backingPanel = JPanel()\r\n        backingPanel.isOpaque = false\r\n        backingPanel.layout = OverlayLayout(backingPanel)\r\n\r\n        backingPanel.add(translucentPanel)\r\n        backingPanel.add(Label(&quot;Test!&quot;))\r\n\r\n        //\r\n        add(backingPanel)\r\n\r\n        setSize(600, 400)\r\n        isVisible = true\r\n    }\r\n```\r\n\r\n[![Still can&#39;t see the label :(][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E726R.png","title":"Cannot see a JLabel on a JPanel behind another non-opaque JPanel (OverlayLayout)","body":"<p>I would like the label <em>&quot;Test!&quot;</em> to sit behind the dark box, and to be able to see the background image behind. How can I achieve this?</p>\n<p>This is a minimal example of my real problem, where I am trying to layer 2 frame-sized JPanels in order to create a navigation overlay over my application.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    private fun createAndShowGUI() {\n        defaultCloseOperation = EXIT_ON_CLOSE\n\n        contentPane = JLabel(ImageIcon(&quot;C:\\\\...\\\\bee.jpg&quot;))\n        layout = FlowLayout()\n\n        //\n        val translucentPanel: JPanel = object: JPanel() {\n            override fun paintComponent(g: Graphics?) {\n                super.paintComponent(g)\n\n                val graphics = g!!.create() as Graphics2D\n                graphics.composite = AlphaComposite.SrcOver.derive(0.5f)\n                graphics.color = background\n                graphics.fillRect(0, 0, width, height)\n                graphics.dispose()\n            }\n        }\n        translucentPanel.background = Color(0, 0, 0, 125)\n        translucentPanel.preferredSize = Dimension(250, 150)\n        translucentPanel.isOpaque = false\n\n        //\n        val backingPanel = JPanel()\n        backingPanel.isOpaque = false\n        backingPanel.layout = OverlayLayout(backingPanel)\n\n        backingPanel.add(translucentPanel)\n        backingPanel.add(Label(&quot;Test!&quot;))\n\n        //\n        add(backingPanel)\n\n        setSize(600, 400)\n        isVisible = true\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/E726R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E726R.png\" alt=\"Still can't see the label :(\" /></a></p>\n"},{"tags":["java","spring-session"],"owner":{"account_id":12191304,"reputation":11,"user_id":8898691,"display_name":"Alphasion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689501005,"creation_date":1689501005,"question_id":76697619,"body_markdown":"In my project i use AuthorizationManager to authorizating my request with database.\r\n\r\n    @Override\r\n    public AuthorizationDecision check(Supplier&lt;Authentication&gt; authentication, RequestAuthorizationContext object) {\r\n        String requestUrl = object.getRequest().getRequestURI().replace(&quot;.html&quot;,&quot;&quot;);\r\n        LoginUser user = (LoginUser) authentication.get().getPrincipal();\r\n        log.info(&quot;Check authorization for &quot; + user.getId() + &quot; @ &quot; + requestUrl);\r\n        if (userAuthorService.CheckMenuAuthorization(user.getId(), requestUrl)) {\r\n            return new AuthorizationDecision(true);\r\n        }\r\n        return new AuthorizationDecision(false);\r\n    }\r\nBut some request i need AccessDeniedHandler to return json string,while i using jquery to send get/post requests.in my configuration:\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http, AuthorizationManager&lt;RequestAuthorizationContext&gt; authz) throws Exception {\r\n        http.exceptionHandling((handling)-&gt;handling\r\n                .accessDeniedHandler(accessDeniedHandler())\r\n        );\r\n        http.authorizeHttpRequests((authorize) -&gt; authorize\r\n                        .requestMatchers(HttpMethod.GET, &quot;/login&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.GET, &quot;/static/favicon.ico&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.GET, &quot;/favicon.ico&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.GET, &quot;/static/**&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.GET, &quot;/error&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.GET, &quot;/&quot;).hasAuthority(&quot;ROLE_USER&quot;)\r\n                        .requestMatchers(HttpMethod.GET, &quot;/profile.html&quot;).hasAuthority(&quot;ROLE_USER&quot;)\r\n                        .requestMatchers(&quot;/**&quot;).access(authz)\r\n                        .anyRequest().denyAll()\r\n        );\r\n        http.rememberMe((remember) -&gt; remember\r\n                .key(&quot;xxxxxxxxxx&quot;)\r\n                .rememberMeCookieName(&quot;xxxxxxxxxxx&quot;)\r\n                .tokenValiditySeconds(5184000)\r\n        );\r\n        http.formLogin((formlogin) -&gt; formlogin\r\n                .loginPage(&quot;/login&quot;)\r\n                .loginProcessingUrl(&quot;/loginchk&quot;)\r\n                .usernameParameter(&quot;email&quot;)\r\n                .defaultSuccessUrl(&quot;/&quot;)\r\n        );\r\n        http.userDetailsService(loginUserService);\r\n        return http.build();\r\n    }\r\n\r\nand here is my problem:\r\nwhile i send get request:api/user/read?uid=10000 [it&#39;s not authorized in login]\r\n\r\nmy AuthorizationManager return a AuthorizationDecision(false);\r\nbut i got a redirect to login page but not triggered AccessDeniedHandler,\r\nseems the springsecurity need me to login again to &quot;update&quot; my authorization\r\nhow can i do to avoid redirect? or did i missed something in configuration?","title":"Springsecurity AJAX request authorized failed and redirect to login page,","body":"<p>In my project i use AuthorizationManager to authorizating my request with database.</p>\n<pre><code>@Override\npublic AuthorizationDecision check(Supplier&lt;Authentication&gt; authentication, RequestAuthorizationContext object) {\n    String requestUrl = object.getRequest().getRequestURI().replace(&quot;.html&quot;,&quot;&quot;);\n    LoginUser user = (LoginUser) authentication.get().getPrincipal();\n    log.info(&quot;Check authorization for &quot; + user.getId() + &quot; @ &quot; + requestUrl);\n    if (userAuthorService.CheckMenuAuthorization(user.getId(), requestUrl)) {\n        return new AuthorizationDecision(true);\n    }\n    return new AuthorizationDecision(false);\n}\n</code></pre>\n<p>But some request i need AccessDeniedHandler to return json string,while i using jquery to send get/post requests.in my configuration:</p>\n<pre><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http, AuthorizationManager&lt;RequestAuthorizationContext&gt; authz) throws Exception {\n    http.exceptionHandling((handling)-&gt;handling\n            .accessDeniedHandler(accessDeniedHandler())\n    );\n    http.authorizeHttpRequests((authorize) -&gt; authorize\n                    .requestMatchers(HttpMethod.GET, &quot;/login&quot;).permitAll()\n                    .requestMatchers(HttpMethod.GET, &quot;/static/favicon.ico&quot;).permitAll()\n                    .requestMatchers(HttpMethod.GET, &quot;/favicon.ico&quot;).permitAll()\n                    .requestMatchers(HttpMethod.GET, &quot;/static/**&quot;).permitAll()\n                    .requestMatchers(HttpMethod.GET, &quot;/error&quot;).permitAll()\n                    .requestMatchers(HttpMethod.GET, &quot;/&quot;).hasAuthority(&quot;ROLE_USER&quot;)\n                    .requestMatchers(HttpMethod.GET, &quot;/profile.html&quot;).hasAuthority(&quot;ROLE_USER&quot;)\n                    .requestMatchers(&quot;/**&quot;).access(authz)\n                    .anyRequest().denyAll()\n    );\n    http.rememberMe((remember) -&gt; remember\n            .key(&quot;xxxxxxxxxx&quot;)\n            .rememberMeCookieName(&quot;xxxxxxxxxxx&quot;)\n            .tokenValiditySeconds(5184000)\n    );\n    http.formLogin((formlogin) -&gt; formlogin\n            .loginPage(&quot;/login&quot;)\n            .loginProcessingUrl(&quot;/loginchk&quot;)\n            .usernameParameter(&quot;email&quot;)\n            .defaultSuccessUrl(&quot;/&quot;)\n    );\n    http.userDetailsService(loginUserService);\n    return http.build();\n}\n</code></pre>\n<p>and here is my problem:\nwhile i send get request:api/user/read?uid=10000 [it's not authorized in login]</p>\n<p>my AuthorizationManager return a AuthorizationDecision(false);\nbut i got a redirect to login page but not triggered AccessDeniedHandler,\nseems the springsecurity need me to login again to &quot;update&quot; my authorization\nhow can i do to avoid redirect? or did i missed something in configuration?</p>\n"},{"tags":["java","android-studio","textview"],"comments":[{"owner":{"account_id":18858502,"reputation":325,"user_id":13755907,"display_name":"basileus"},"score":0,"creation_date":1689511792,"post_id":76697318,"comment_id":135220962,"body_markdown":"I must admit I have no clue what is your problem. Three independent pieces of the code  (setting the TextView, some listener on value and finally update of Firebase DB) and at least I have no idea where is your problem. Sorry. You need to be much more precise in what you have tried and where is the problem.","body":"I must admit I have no clue what is your problem. Three independent pieces of the code  (setting the TextView, some listener on value and finally update of Firebase DB) and at least I have no idea where is your problem. Sorry. You need to be much more precise in what you have tried and where is the problem."}],"owner":{"account_id":20681166,"reputation":11,"user_id":15184740,"display_name":"LS PlayQ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1689497616,"creation_date":1689495927,"question_id":76697318,"body_markdown":"How do I add the score in DisplayScore text view to the Totalpoint text view score?\r\n\r\nI&#39;ve tried and searched many times, but I haven&#39;t found an answer at all.\r\n\r\nSomebody help me&#39;\r\n\r\n\r\n\r\n```\r\nprivate String point;\r\nprivate TextView DisplayScore;\r\n\r\npoint = getIntent().getExtras().get(&quot;point&quot;).toString();\r\n\r\nDisplayScore = findViewById(R.id.displayScore);\r\nDisplayScore.setText(&quot;point = &quot; + point);\r\n```\r\n\r\n    private void loadData() {\r\n\r\n        reference.child(user.getUid())\r\n                .addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                        ProfileModel model = snapshot.getValue(ProfileModel.class);\r\n                        Totalpoint.setText(String.valueOf(model.getPoints()));\r\n\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n                        Toast.makeText(GameOverActivity.this, &quot;Error: &quot; + error.getMessage(), Toast.LENGTH_SHORT).show();\r\n                        finish();\r\n                    }\r\n                });\r\n\r\n    }\r\n```\r\n\r\n```\r\n\r\nprivate void updateDataFirebase() {\r\n\r\n        int currentCoins = Integer.parseInt(Totalpoint.getText().toString());\r\n\r\n\r\n        HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;points&quot;, point);\r\n\r\n\r\n\r\n        FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;)\r\n                .child(user.getUid())\r\n                .updateChildren(map)\r\n                .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n\r\n                        if (task.isSuccessful()) {\r\n\r\n                        }\r\n\r\n                    }\r\n                });\r\n\r\n\r\n    }\r\n```\r\n","title":"Summing up the scores in the Android Studio text view","body":"<p>How do I add the score in DisplayScore text view to the Totalpoint text view score?</p>\n<p>I've tried and searched many times, but I haven't found an answer at all.</p>\n<p>Somebody help me'</p>\n<pre><code>private String point;\nprivate TextView DisplayScore;\n\npoint = getIntent().getExtras().get(&quot;point&quot;).toString();\n\nDisplayScore = findViewById(R.id.displayScore);\nDisplayScore.setText(&quot;point = &quot; + point);\n</code></pre>\n<pre><code>private void loadData() {\n\n    reference.child(user.getUid())\n            .addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n                    ProfileModel model = snapshot.getValue(ProfileModel.class);\n                    Totalpoint.setText(String.valueOf(model.getPoints()));\n\n\n                }\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError error) {\n                    Toast.makeText(GameOverActivity.this, &quot;Error: &quot; + error.getMessage(), Toast.LENGTH_SHORT).show();\n                    finish();\n                }\n            });\n\n}\n</code></pre>\n<pre><code>\n</code></pre>\n<p>private void updateDataFirebase() {</p>\n<pre><code>    int currentCoins = Integer.parseInt(Totalpoint.getText().toString());\n\n\n    HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n    map.put(&quot;points&quot;, point);\n\n\n\n    FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;)\n            .child(user.getUid())\n            .updateChildren(map)\n            .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n\n                    if (task.isSuccessful()) {\n\n                    }\n\n                }\n            });\n\n\n}\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","hibernate","jpa","persistence"],"comments":[{"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"score":0,"creation_date":1689494051,"post_id":76695662,"comment_id":135219194,"body_markdown":"hibernate achive lazy loading through proxy. If you have already closed the session, it can not fetch the proxy data anymore and you need to again make the author entity managed. If you dont want to necessarily fetch the book list, better make a check inside the session and fetch accordingly.","body":"hibernate achive lazy loading through proxy. If you have already closed the session, it can not fetch the proxy data anymore and you need to again make the author entity managed. If you dont want to necessarily fetch the book list, better make a check inside the session and fetch accordingly."}],"answers":[{"comments":[{"owner":{"account_id":23090602,"reputation":59,"user_id":18073200,"display_name":"denstran"},"score":0,"creation_date":1689454736,"post_id":76695737,"comment_id":135216803,"body_markdown":"But FetchType.EAGER will do the same as FETCH JOIN, thats not what i want, and where can i close session if not in getAuthorList method? Maybe i am doing something wrong?","body":"But FetchType.EAGER will do the same as FETCH JOIN, thats not what i want, and where can i close session if not in getAuthorList method? Maybe i am doing something wrong?"},{"owner":{"account_id":4979751,"reputation":111,"user_id":4005094,"display_name":"Kirill Byvshev"},"score":0,"creation_date":1689455642,"post_id":76695737,"comment_id":135216914,"body_markdown":"So open your session befor all your logic and close right after it.","body":"So open your session befor all your logic and close right after it."}],"tags":[],"owner":{"account_id":4979751,"reputation":111,"user_id":4005094,"display_name":"Kirill Byvshev"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689454367,"creation_date":1689454367,"answer_id":76695737,"question_id":76695662,"body_markdown":"It looks like relation between Author and Book entities is OneToMany, and by default fetch type is Lazy. \r\n\r\nSo when you start your loop to iterate books hibernate is trying to select books (in lazy mode) but session was closed at the end of getAuthorList.\r\n\r\nTo fix I can suggest you setup that relation with FetchType.EAGER or close session somewhere after you finish your logic.","title":"How to get collection from a list of detached entities?","body":"<p>It looks like relation between Author and Book entities is OneToMany, and by default fetch type is Lazy.</p>\n<p>So when you start your loop to iterate books hibernate is trying to select books (in lazy mode) but session was closed at the end of getAuthorList.</p>\n<p>To fix I can suggest you setup that relation with FetchType.EAGER or close session somewhere after you finish your logic.</p>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689497515,"creation_date":1689495630,"answer_id":76697304,"question_id":76695662,"body_markdown":"&gt; I tried to use JOIN FETCH, but if I understand it correctly - hibernate\r\n&gt; will fetch all authors and all books from db, but thats not what i\r\n&gt; want, because it is not always necessarily to get books from authors\r\n\r\nJust keep using `JOIN fetch` in `getAuthorList()`. The thing is your query use case in the end still need to get all books for every author you fetched , why you don&#39;t want to fetch them at the first place ?\r\n\r\nIf you still insist don&#39;t want to use JOIN FETCH , you have to extend the transaction boundary such that the session is still open when you access the books for the author. Something like :  \r\n\r\n``` java\r\npublic void getAuthorList(Consumer&lt;List&lt;Author&gt;&gt; authorConsumer) {\r\n        List&lt;Author&gt; authorList;\r\n        Session session = sessionFactory.openSession();\r\n        session.getTransaction().begin();\r\n\r\n        authorList = session.createQuery(&quot;SELECT a FROM Author a&quot;, Author.class).list();\r\n\r\n        authorConsumer.accept(authorList);\r\n        session.getTransaction().commit();\r\n        session.close();\r\n\r\n    }\r\n\r\n```\r\n\r\nAnd call it by :\r\n\r\n``` java\r\n\r\n        List&lt;Author&gt; authorList = authorHelper.getAuthorList(author -&gt; {\r\n            System.out.println(author.getName());\r\n            System.out.println(&quot;Books&quot;);\r\n            System.out.println(&quot;-----------------&quot;);\r\n            \r\n            author.getBooks().forEach(book1 -&gt; {\r\n                System.out.println(book1.getTitle());\r\n            });\r\n\r\n        });\r\n\r\n```\r\n\r\nBut if you do that , you will have [N+1 query problem.][1] \r\n\r\nUnderstand your concern that maybe there are another query use cases that you just want to get all authors without fetching any books. So ideally your data access layer should have two version of get authors method. One is use JOIN FETCH to fetch  books together with author (e.g. getAuthorListWithBook()) while another just fetch authors without fetching any books (e.g. getAuthorList()). And let the clients to choose which to use depending on if their usecase need to access book.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/97197/what-is-the-n1-selects-problem-in-orm-object-relational-mapping","title":"How to get collection from a list of detached entities?","body":"<blockquote>\n<p>I tried to use JOIN FETCH, but if I understand it correctly - hibernate\nwill fetch all authors and all books from db, but thats not what i\nwant, because it is not always necessarily to get books from authors</p>\n</blockquote>\n<p>Just keep using <code>JOIN fetch</code> in <code>getAuthorList()</code>. The thing is your query use case in the end still need to get all books for every author you fetched , why you don't want to fetch them at the first place ?</p>\n<p>If you still insist don't want to use JOIN FETCH , you have to extend the transaction boundary such that the session is still open when you access the books for the author. Something like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void getAuthorList(Consumer&lt;List&lt;Author&gt;&gt; authorConsumer) {\n        List&lt;Author&gt; authorList;\n        Session session = sessionFactory.openSession();\n        session.getTransaction().begin();\n\n        authorList = session.createQuery(&quot;SELECT a FROM Author a&quot;, Author.class).list();\n\n        authorConsumer.accept(authorList);\n        session.getTransaction().commit();\n        session.close();\n\n    }\n\n</code></pre>\n<p>And call it by :</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n        List&lt;Author&gt; authorList = authorHelper.getAuthorList(author -&gt; {\n            System.out.println(author.getName());\n            System.out.println(&quot;Books&quot;);\n            System.out.println(&quot;-----------------&quot;);\n            \n            author.getBooks().forEach(book1 -&gt; {\n                System.out.println(book1.getTitle());\n            });\n\n        });\n\n</code></pre>\n<p>But if you do that , you will have <a href=\"https://stackoverflow.com/questions/97197/what-is-the-n1-selects-problem-in-orm-object-relational-mapping\">N+1 query problem.</a></p>\n<p>Understand your concern that maybe there are another query use cases that you just want to get all authors without fetching any books. So ideally your data access layer should have two version of get authors method. One is use JOIN FETCH to fetch  books together with author (e.g. getAuthorListWithBook()) while another just fetch authors without fetching any books (e.g. getAuthorList()). And let the clients to choose which to use depending on if their usecase need to access book.</p>\n"}],"owner":{"account_id":23090602,"reputation":59,"user_id":18073200,"display_name":"denstran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76697304,"answer_count":2,"score":0,"last_activity_date":1689497515,"creation_date":1689452738,"question_id":76695662,"body_markdown":"Here is my code\r\n\r\n    public class Start {\r\n        public static void main(String[] args) {\r\n            AuthorHelper authorHelper = new AuthorHelper();\r\n    \r\n            Author author1 = authorHelper.getAuthor(4L);\r\n            author1.setName(&quot;TEST&quot;);\r\n            authorHelper.updateAuthor(author1);\r\n            \r\n    \r\n            List&lt;Author&gt; authorList = authorHelper.getAuthorList();\r\n    \r\n            authorList.forEach(author -&gt; {\r\n                System.out.println(author.getName());\r\n                System.out.println(&quot;Books&quot;);\r\n                System.out.println(&quot;--------------------------------------------------------------------------------&quot;);\r\n    \r\n                \r\n                author.getBooks().forEach(book1 -&gt; {\r\n                    System.out.println(book1.getTitle());\r\n                });\r\n    \r\n            });\r\n    \r\n    \r\n    \r\n        }\r\n    }\r\n\r\nWhen I am trying to get books from author i get this: \r\n\r\n    Exception in thread &quot;main&quot; org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: entity.Author.books: could not initialize proxy - no Session\r\n\r\nHere is my getAuthorList method:\r\n\r\n    public List&lt;Author&gt; getAuthorList() {\r\n            List&lt;Author&gt; authorList;\r\n            Session session = sessionFactory.openSession();\r\n    \r\n            authorList = session.createQuery(&quot;SELECT a FROM Author a&quot;, Author.class).list();\r\n    \r\n            session.close();\r\n    \r\n            return authorList;\r\n        }\r\n\r\nI tried to use JOIN FETCH, but if I undersand it correctly - hibernate will fetch all authors and all books from db, but thats not what i want, because it is not always necessarily to get books from authors. I think the problem is in List&lt;Author&gt; because it contains detached entities and no Session open. I also tried to use\r\n \r\n`Hibernate.initialize(author.getBooks());`\r\n\r\nBefore getting books, but it is still not working, any ideas how to fix that?","title":"How to get collection from a list of detached entities?","body":"<p>Here is my code</p>\n<pre><code>public class Start {\n    public static void main(String[] args) {\n        AuthorHelper authorHelper = new AuthorHelper();\n\n        Author author1 = authorHelper.getAuthor(4L);\n        author1.setName(&quot;TEST&quot;);\n        authorHelper.updateAuthor(author1);\n        \n\n        List&lt;Author&gt; authorList = authorHelper.getAuthorList();\n\n        authorList.forEach(author -&gt; {\n            System.out.println(author.getName());\n            System.out.println(&quot;Books&quot;);\n            System.out.println(&quot;--------------------------------------------------------------------------------&quot;);\n\n            \n            author.getBooks().forEach(book1 -&gt; {\n                System.out.println(book1.getTitle());\n            });\n\n        });\n\n\n\n    }\n}\n</code></pre>\n<p>When I am trying to get books from author i get this:</p>\n<pre><code>Exception in thread &quot;main&quot; org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: entity.Author.books: could not initialize proxy - no Session\n</code></pre>\n<p>Here is my getAuthorList method:</p>\n<pre><code>public List&lt;Author&gt; getAuthorList() {\n        List&lt;Author&gt; authorList;\n        Session session = sessionFactory.openSession();\n\n        authorList = session.createQuery(&quot;SELECT a FROM Author a&quot;, Author.class).list();\n\n        session.close();\n\n        return authorList;\n    }\n</code></pre>\n<p>I tried to use JOIN FETCH, but if I undersand it correctly - hibernate will fetch all authors and all books from db, but thats not what i want, because it is not always necessarily to get books from authors. I think the problem is in List because it contains detached entities and no Session open. I also tried to use</p>\n<p><code>Hibernate.initialize(author.getBooks());</code></p>\n<p>Before getting books, but it is still not working, any ideas how to fix that?</p>\n"},{"tags":["java","spring","spring-boot","spring-test","spring-boot-test"],"comments":[{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1689448527,"post_id":76694892,"comment_id":135216194,"body_markdown":"how do you define ShortURLService in your test codes ?","body":"how do you define ShortURLService in your test codes ?"},{"owner":{"account_id":9171073,"reputation":732,"user_id":6818560,"accept_rate":12,"display_name":"İlkay Gunel"},"score":0,"creation_date":1689458328,"post_id":76694892,"comment_id":135217156,"body_markdown":"With InjectMocks annotation. \nLike this:\n    @InjectMocks\n    ShortURLService shortURLService;","body":"With InjectMocks annotation.  Like this:     @InjectMocks     ShortURLService shortURLService;"}],"answers":[{"comments":[{"owner":{"account_id":9171073,"reputation":732,"user_id":6818560,"accept_rate":12,"display_name":"İlkay Gunel"},"score":0,"creation_date":1689542270,"post_id":76697398,"comment_id":135224530,"body_markdown":"Thank you for this answer. Now, I can run tests with test properties.","body":"Thank you for this answer. Now, I can run tests with test properties."},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1689872284,"post_id":76697398,"comment_id":135278204,"body_markdown":"good to hear. so consider to upvote or accept my answer please?","body":"good to hear. so consider to upvote or accept my answer please?"}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689497257,"creation_date":1689497257,"answer_id":76697398,"question_id":76694892,"body_markdown":"Because `@InjectMocks` is the Mockito stuff and it does not know anything about Spring and so it does not understand what `@Value` is and will not inject values to it. \r\n\r\nYou have to use `@Autowired` to inject the actual `ShortURLService` bean from the spring context into the test.\r\n\r\nSo change to the following should solve your problem :\r\n\r\n```java\r\n@SpringBootTest\r\n@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\r\n@ContextConfiguration(classes = ShortURLService.class)\r\npublic class ShortURLServiceTest {\r\n\r\n   \r\n   @Autowired\r\n   private ShortURLService shortURLService;\r\n\r\n    @Test\r\n    public void testShortenURL() {\r\n       \r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n","title":"Spring Boot Override Property in Service Class With TestPropertySource Annotation","body":"<p>Because <code>@InjectMocks</code> is the Mockito stuff and it does not know anything about Spring and so it does not understand what <code>@Value</code> is and will not inject values to it.</p>\n<p>You have to use <code>@Autowired</code> to inject the actual <code>ShortURLService</code> bean from the spring context into the test.</p>\n<p>So change to the following should solve your problem :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\n@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\n@ContextConfiguration(classes = ShortURLService.class)\npublic class ShortURLServiceTest {\n\n   \n   @Autowired\n   private ShortURLService shortURLService;\n\n    @Test\n    public void testShortenURL() {\n       \n    }\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":9171073,"reputation":732,"user_id":6818560,"accept_rate":12,"display_name":"İlkay Gunel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689497335,"creation_date":1689440354,"question_id":76694892,"body_markdown":"I have a few properties in service class like below. I can fill them from application.properties file. \r\n\r\nMy application.properties file is like this and it&#39;s values same with application-test.properties file: \r\n\r\n    server.port=8282\r\n    short.url.domain=gnl.co \r\n\r\napplication.properties in src/main/resources, application-test.properties in src/test/resources. \r\n\r\nMy service class is like this:\r\n\r\n    @Service\r\n    public class ShortURLService {\r\n        @Value(&quot;${short.url.domain}&quot;)\r\n        private String shortUrlDomain;\r\n    \r\n        @Value(&quot;${server.port}&quot;)\r\n        private String shortUrlPort;\r\n    \r\n        .....\r\n    \r\n    }\r\n\r\nI have a test class like this: \r\n\r\n    @SpringBootTest\r\n    @TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\r\n    @ContextConfiguration(classes = ShortURLService.class)\r\n    public class ShortURLServiceTest {\r\n\r\n\r\n      @InjectMocks\r\n      private ShortURLService shortURLService;\r\n \r\n    \r\n       @Test\r\n        public void testShortenURL() {\r\n            String shortUrl = shortURLService.shortenURL(&quot;http://ilkaygunel.com&quot;);\r\n            assertTrue(shortUrl.contains(&quot;gnl.co/&quot;));\r\n        }\r\n    \r\n    }\r\n\r\nI checked that values from application-test.properties file comes to ShortURLServiceTest class but values in ShortURLService are null. \r\n\r\nHow can fill variables in service class with application-test.properties file?","title":"Spring Boot Override Property in Service Class With TestPropertySource Annotation","body":"<p>I have a few properties in service class like below. I can fill them from application.properties file.</p>\n<p>My application.properties file is like this and it's values same with application-test.properties file:</p>\n<pre><code>server.port=8282\nshort.url.domain=gnl.co \n</code></pre>\n<p>application.properties in src/main/resources, application-test.properties in src/test/resources.</p>\n<p>My service class is like this:</p>\n<pre><code>@Service\npublic class ShortURLService {\n    @Value(&quot;${short.url.domain}&quot;)\n    private String shortUrlDomain;\n\n    @Value(&quot;${server.port}&quot;)\n    private String shortUrlPort;\n\n    .....\n\n}\n</code></pre>\n<p>I have a test class like this:</p>\n<pre><code>@SpringBootTest\n@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\n@ContextConfiguration(classes = ShortURLService.class)\npublic class ShortURLServiceTest {\n\n\n  @InjectMocks\n  private ShortURLService shortURLService;\n\n\n   @Test\n    public void testShortenURL() {\n        String shortUrl = shortURLService.shortenURL(&quot;http://ilkaygunel.com&quot;);\n        assertTrue(shortUrl.contains(&quot;gnl.co/&quot;));\n    }\n\n}\n</code></pre>\n<p>I checked that values from application-test.properties file comes to ShortURLServiceTest class but values in ShortURLService are null.</p>\n<p>How can fill variables in service class with application-test.properties file?</p>\n"},{"tags":["java","contains","masking","startswith","containskey"],"comments":[{"owner":{"account_id":52839,"reputation":91119,"user_id":157957,"display_name":"IMSoP"},"score":1,"creation_date":1689493893,"post_id":76697166,"comment_id":135219177,"body_markdown":"Tip: always include the programming language as one of the tags on your question (in this case I guess Java?) It&#39;s one of the main way people filter the site for questions they&#39;re likely to be able to help with, and much more useful than extremely specific tags like &quot;startswith&quot;.","body":"Tip: always include the programming language as one of the tags on your question (in this case I guess Java?) It&#39;s one of the main way people filter the site for questions they&#39;re likely to be able to help with, and much more useful than extremely specific tags like &quot;startswith&quot;."},{"owner":{"account_id":11315,"reputation":41450,"user_id":21755,"accept_rate":85,"display_name":"The Archetypal Paul"},"score":0,"creation_date":1689494245,"post_id":76697166,"comment_id":135219208,"body_markdown":"This is strange code, as it checks that S/O is at the start of the string, then finds its position.  You know that - it&#39;s zero, as it&#39;s the start of the string! Suggestions - use  regex to match the prefixes, or pass all prefixes in one string separated by colon (say), split them in the function to an array, loop over the array.","body":"This is strange code, as it checks that S/O is at the start of the string, then finds its position.  You know that - it&#39;s zero, as it&#39;s the start of the string! Suggestions - use  regex to match the prefixes, or pass all prefixes in one string separated by colon (say), split them in the function to an array, loop over the array."}],"answers":[{"tags":[],"owner":{"account_id":7362914,"reputation":74,"user_id":5605615,"display_name":"mgillett"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689495175,"creation_date":1689495175,"answer_id":76697276,"question_id":76697166,"body_markdown":"I would use something like this :\r\n\r\n    String[] words = &quot;^[SDWC]/O&quot;;\r\n\r\n    Pattern pattern = Pattern.compile(words);\r\n    Matcher m = pattern.matcher(address);\r\n\r\nthen `m.find()` returns true or false if the pattern matches.","title":"How to use startsWith or contains method with string or string array?","body":"<p>I would use something like this :</p>\n<pre><code>String[] words = &quot;^[SDWC]/O&quot;;\n\nPattern pattern = Pattern.compile(words);\nMatcher m = pattern.matcher(address);\n</code></pre>\n<p>then <code>m.find()</code> returns true or false if the pattern matches.</p>\n"},{"comments":[{"owner":{"account_id":29026534,"reputation":3,"user_id":22234552,"display_name":"Priyadharshini"},"score":0,"creation_date":1689496538,"post_id":76697326,"comment_id":135219400,"body_markdown":"this is fine for single string search like we are searching only for S/O, my question is what if sometimes it may be D/O, C/O comes, in that case how to add validation to check for other scenarios too.","body":"this is fine for single string search like we are searching only for S/O, my question is what if sometimes it may be D/O, C/O comes, in that case how to add validation to check for other scenarios too."},{"owner":{"account_id":3344927,"reputation":151,"user_id":2810260,"display_name":"Manvendra_0611"},"score":0,"creation_date":1689504780,"post_id":76697326,"comment_id":135220199,"body_markdown":"It is actually not for a single search, the regex &quot;^[SDWC][//]O&quot; covers everything, it will handle S/O, D/O, W/O and C/O","body":"It is actually not for a single search, the regex &quot;^[SDWC][//]O&quot; covers everything, it will handle S/O, D/O, W/O and C/O"}],"tags":[],"owner":{"account_id":3344927,"reputation":151,"user_id":2810260,"display_name":"Manvendra_0611"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689496114,"creation_date":1689496114,"answer_id":76697326,"question_id":76697166,"body_markdown":"I have updated your code to use Regex\r\n\r\n    public static void main(String[] args) {\r\n            String address = &quot;S/O: KANTH MEIPPEN PACHU, N-2345, THAMBULI&quot;;\r\n            String salutation = &quot;^[SDWC][//]O&quot;;\r\n            Pattern pattern = Pattern.compile(salutation);\r\n            Matcher matcher = pattern.matcher(address);\r\n            if (matcher.find()) {\r\n                String group = matcher.group();\r\n                int sep = address.indexOf(group);\r\n                String addressStr = address.substring(sep + group.length());\r\n                System.out.println(&quot;Address:::: &quot; + addressStr);\r\n                String masks = String.join(&quot;&quot;, Collections.nCopies(addressStr.length() - 8, &quot;*&quot;));\r\n                System.out.println(&quot;Mask::: &quot; + masks);\r\n                addressStr = group + addressStr.substring(0, 4) + masks + addressStr.substring(addressStr.length() - 4);\r\n                System.out.println(addressStr);\r\n            }\r\n        }","title":"How to use startsWith or contains method with string or string array?","body":"<p>I have updated your code to use Regex</p>\n<pre><code>public static void main(String[] args) {\n        String address = &quot;S/O: KANTH MEIPPEN PACHU, N-2345, THAMBULI&quot;;\n        String salutation = &quot;^[SDWC][//]O&quot;;\n        Pattern pattern = Pattern.compile(salutation);\n        Matcher matcher = pattern.matcher(address);\n        if (matcher.find()) {\n            String group = matcher.group();\n            int sep = address.indexOf(group);\n            String addressStr = address.substring(sep + group.length());\n            System.out.println(&quot;Address:::: &quot; + addressStr);\n            String masks = String.join(&quot;&quot;, Collections.nCopies(addressStr.length() - 8, &quot;*&quot;));\n            System.out.println(&quot;Mask::: &quot; + masks);\n            addressStr = group + addressStr.substring(0, 4) + masks + addressStr.substring(addressStr.length() - 4);\n            System.out.println(addressStr);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":29026534,"reputation":3,"user_id":22234552,"display_name":"Priyadharshini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76697326,"answer_count":2,"score":0,"last_activity_date":1689496114,"creation_date":1689493031,"question_id":76697166,"body_markdown":" My address as string contains this details \r\n \r\n String address = &quot;S/O: KANTH MEIPPEN PACHU, N-2345, THAMBULI&quot;;\r\n \r\n Here masking to be implemented for the above mentioned address line in below format\r\n \r\n if the address line starts with S/O, D/O, W/O, C/O it should mask address line like\r\n \r\n S/O: KA******************************BULI\r\n \r\n ie,. after any of mentioned string masking to be done on the address leaving first four and last four chars \r\n \r\n We can use startsWith method but we cannot pass array inside it to check with address string also how to configure the S/O, D/O, W/O, C/O in a single constant with separator to check as it will reduce the code mess up\r\n\r\nHere is the java code:\r\n\r\n    public static void main(String ars[]) throws Exception {\r\n        String address = &quot;S/O: KANTH MEIPPEN PACHU, N-2345, THAMBULI;\r\n        String[] words = {\r\n            &quot;S/O&quot;,\r\n            &quot;D/O&quot;,\r\n            &quot;W/O&quot;,\r\n            &quot;C/O&quot;\r\n        };\r\n        String joined = Arrays.toString(words);\r\n        //list.stream().filter(p -&gt; p.getName().equals(name)).findFirst().isPresent();\r\n        //\tArrayList&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(address.split(&quot;|&quot;)));\r\n        System.out.println(&quot;Address:::: &quot; + joined);\r\n        //list.stream().anyMatch((a) -&gt; a.startsWith(words));\r\n        if (address.startsWith(&quot;S/O&quot;) {\r\n                String separator = &quot;S/O&quot;;\r\n                int sep = address.indexOf(separator);\r\n                String adress = address.substring(sep + separator.length());\r\n                System.out.println(&quot;Address:::: &quot; + adress);\r\n                String masks = String.join(&quot;&quot;, Collections.nCopies(adress.length() - 8, &quot;*&quot;));\r\n                System.out.println(&quot;Mask::: &quot; + masks);\r\n                adress = separator + adress.substring(0, 4) + masks + adress.substring(adress.length() - 4);\r\n            }\r\n        }","title":"How to use startsWith or contains method with string or string array?","body":"<p>My address as string contains this details</p>\n<p>String address = &quot;S/O: KANTH MEIPPEN PACHU, N-2345, THAMBULI&quot;;</p>\n<p>Here masking to be implemented for the above mentioned address line in below format</p>\n<p>if the address line starts with S/O, D/O, W/O, C/O it should mask address line like</p>\n<p>S/O: KA******************************BULI</p>\n<p>ie,. after any of mentioned string masking to be done on the address leaving first four and last four chars</p>\n<p>We can use startsWith method but we cannot pass array inside it to check with address string also how to configure the S/O, D/O, W/O, C/O in a single constant with separator to check as it will reduce the code mess up</p>\n<p>Here is the java code:</p>\n<pre><code>public static void main(String ars[]) throws Exception {\n    String address = &quot;S/O: KANTH MEIPPEN PACHU, N-2345, THAMBULI;\n    String[] words = {\n        &quot;S/O&quot;,\n        &quot;D/O&quot;,\n        &quot;W/O&quot;,\n        &quot;C/O&quot;\n    };\n    String joined = Arrays.toString(words);\n    //list.stream().filter(p -&gt; p.getName().equals(name)).findFirst().isPresent();\n    //  ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(address.split(&quot;|&quot;)));\n    System.out.println(&quot;Address:::: &quot; + joined);\n    //list.stream().anyMatch((a) -&gt; a.startsWith(words));\n    if (address.startsWith(&quot;S/O&quot;) {\n            String separator = &quot;S/O&quot;;\n            int sep = address.indexOf(separator);\n            String adress = address.substring(sep + separator.length());\n            System.out.println(&quot;Address:::: &quot; + adress);\n            String masks = String.join(&quot;&quot;, Collections.nCopies(adress.length() - 8, &quot;*&quot;));\n            System.out.println(&quot;Mask::: &quot; + masks);\n            adress = separator + adress.substring(0, 4) + masks + adress.substring(adress.length() - 4);\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","versioning","request-mapping"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1689499419,"post_id":76697323,"comment_id":135219662,"body_markdown":"I would just put the version like this: GetMapping(&quot;v1/test&quot;) You will need to implement different methods for different versions anyhow.","body":"I would just put the version like this: GetMapping(&quot;v1/test&quot;) You will need to implement different methods for different versions anyhow."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1689499721,"post_id":76697323,"comment_id":135219687,"body_markdown":"Alternatively with path variable: GetMapping(&quot;{version}/test&quot;)","body":"Alternatively with path variable: GetMapping(&quot;{version}/test&quot;)"},{"owner":{"account_id":21819477,"reputation":1,"user_id":16115874,"display_name":"AbdulazizYas"},"score":0,"creation_date":1689504764,"post_id":76697323,"comment_id":135220195,"body_markdown":"@Mar-Z I know but I want to clean up the endpoints and leave the versioning for an annotation","body":"@Mar-Z I know but I want to clean up the endpoints and leave the versioning for an annotation"}],"owner":{"account_id":21819477,"reputation":1,"user_id":16115874,"display_name":"AbdulazizYas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689496065,"creation_date":1689496065,"question_id":76697323,"body_markdown":"I want to change the endpoint of a @RequestMapping in Spring Boot based on specific annotation\r\n\r\nFor example:\r\n\r\n```java\r\n@Version(1)\r\n@GetMapping(&quot;/test&quot;)\r\npublic ResponseEntity test(){\r\n   return new ResponseEntity();\r\n}\r\n```\r\n\r\nthis should product the endpoint:\r\n/v1/test\r\n\r\nI tried extending the RequestMappingHandlerMapping and overriding getMappingForMethod(Method method, Class\\&lt;?\\&gt; handlerType) method\r\n\r\n```java\r\n@Component\r\npublic class VersionedRequestMappingHandlerMapping extends RequestMappingHandlerMapping {\r\n    @Override\r\n    protected RequestMappingInfo getMappingForMethod(Method method, Class&lt;?&gt; handlerType) {\r\n        RequestMappingInfo methodMapping = super.getMappingForMethod(method, handlerType);\r\n        if (methodMapping != null) {\r\n            Version versionAnnotation = AnnotationUtils.findAnnotation(handlerType, Version.class);\r\n            if (versionAnnotation != null) {\r\n                String versionPath = &quot;/v&quot; + versionAnnotation.value();\r\n                RequestMappingInfo typeMapping = RequestMappingInfo.paths(versionPath).build();\r\n                return typeMapping.combine(methodMapping);\r\n            }\r\n        }\r\n        return methodMapping;\r\n    }\r\n}\r\n```\r\n\r\nbut id did not work\r\n\r\nAny solution for this problem?","title":"Is there a way to change the URL endpoint of @RequestMapping based on annotation in Spring Boot?","body":"<p>I want to change the endpoint of a @RequestMapping in Spring Boot based on specific annotation</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Version(1)\n@GetMapping(&quot;/test&quot;)\npublic ResponseEntity test(){\n   return new ResponseEntity();\n}\n</code></pre>\n<p>this should product the endpoint:\n/v1/test</p>\n<p>I tried extending the RequestMappingHandlerMapping and overriding getMappingForMethod(Method method, Class&lt;?&gt; handlerType) method</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class VersionedRequestMappingHandlerMapping extends RequestMappingHandlerMapping {\n    @Override\n    protected RequestMappingInfo getMappingForMethod(Method method, Class&lt;?&gt; handlerType) {\n        RequestMappingInfo methodMapping = super.getMappingForMethod(method, handlerType);\n        if (methodMapping != null) {\n            Version versionAnnotation = AnnotationUtils.findAnnotation(handlerType, Version.class);\n            if (versionAnnotation != null) {\n                String versionPath = &quot;/v&quot; + versionAnnotation.value();\n                RequestMappingInfo typeMapping = RequestMappingInfo.paths(versionPath).build();\n                return typeMapping.combine(methodMapping);\n            }\n        }\n        return methodMapping;\n    }\n}\n</code></pre>\n<p>but id did not work</p>\n<p>Any solution for this problem?</p>\n"},{"tags":["java"],"owner":{"account_id":20207111,"reputation":1,"user_id":14821208,"display_name":"Patric Khant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689495492,"creation_date":1689495492,"question_id":76697299,"body_markdown":"Whenever I run maven clean or maven build or maven in install got error like one of its dependencies could not be resolved Could not transfer artifact. any solution I found on internet is not working. how to solve it to export war file.\r\n\r\nI want to resolve it and export war or jar file.","title":"Got this error &#39;Could not transfer artifact org.codehaus.plexus:plexus-utils:jar:1.1 from/to spring-milestones (https://repo.spring.io/milestone)&#39;","body":"<p>Whenever I run maven clean or maven build or maven in install got error like one of its dependencies could not be resolved Could not transfer artifact. any solution I found on internet is not working. how to solve it to export war file.</p>\n<p>I want to resolve it and export war or jar file.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":4,"creation_date":1689484990,"post_id":76696780,"comment_id":135218515,"body_markdown":"That is a *warning*, not an **error**. And you should probably ignore it. Because closing `s` would also close `System.in`. Which you do not want to do.","body":"That is a <i>warning</i>, not an <b>error</b>. And you should probably ignore it. Because closing <code>s</code> would also close <code>System.in</code>. Which you do not want to do."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1689485273,"post_id":76696780,"comment_id":135218542,"body_markdown":"When you&#39;re done processing input, then yes, you can close it","body":"When you&#39;re done processing input, then yes, you can close it"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1689485536,"post_id":76696780,"comment_id":135218551,"body_markdown":"Either a) ignore the message (recommended), b) execute `s.close();` when you&#39;re done, or c) use a try-with-resources block `try (Scanner s = new Scanner(System.in)) { ... }` which will close it for you.","body":"Either a) ignore the message (recommended), b) execute <code>s.close();</code> when you&#39;re done, or c) use a try-with-resources block <code>try (Scanner s = new Scanner(System.in)) { ... }</code> which will close it for you."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1689485997,"post_id":76696780,"comment_id":135218583,"body_markdown":"But you almost certainly don&#39;t want to close `System.in`.","body":"But you almost certainly don&#39;t want to close <code>System.in</code>."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1689490821,"post_id":76696780,"comment_id":135218923,"body_markdown":"Just assure that you no longer require any input from the _[System#in](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/System.html#in)_, and then close the _Scanner_, as usual.  Closing the _Scanner_ causes it to also close any resources related to it, in this case, _System#in_.  The _System#in_ is a static resource, hence it will be closed for that session of your program.  It&#39;s import to follow protocols when programming, it&#39;s a foundational coding practice.","body":"Just assure that you no longer require any input from the <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/System.html#in\" rel=\"nofollow noreferrer\">System#in</a></i>, and then close the <i>Scanner</i>, as usual.  Closing the <i>Scanner</i> causes it to also close any resources related to it, in this case, <i>System#in</i>.  The <i>System#in</i> is a static resource, hence it will be closed for that session of your program.  It&#39;s import to follow protocols when programming, it&#39;s a foundational coding practice."}],"answers":[{"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1689491185,"post_id":76696854,"comment_id":135218944,"body_markdown":"Additionally, you may want to add the _close_ call within a _finally_ block.","body":"Additionally, you may want to add the <i>close</i> call within a <i>finally</i> block."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1689492065,"post_id":76696854,"comment_id":135219007,"body_markdown":"If you&#39;re going to use this approach, you might as well use _try-with-resources_ and gain all its benefits. But it&#39;s rare one would want to close `System.in`.","body":"If you&#39;re going to use this approach, you might as well use <i>try-with-resources</i> and gain all its benefits. But it&#39;s rare one would want to close <code>System.in</code>."}],"tags":[],"owner":{"account_id":6736921,"reputation":948,"user_id":5191371,"accept_rate":0,"display_name":"Milad Bahmanabadi"},"comment_count":2,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1689486195,"creation_date":1689486195,"answer_id":76696854,"question_id":76696780,"body_markdown":"Use try-catch and close your scanner :\r\n\r\n        try{\r\n            // your code\r\n            s.close();\r\n        }catch (Exception e){\r\n            System.out.println(&quot;Error : &quot; + e.getMessage());\r\n        }\r\n        \r\n\r\n","title":"Resource leak reported when using a Scanner","body":"<p>Use try-catch and close your scanner :</p>\n<pre><code>    try{\n        // your code\n        s.close();\n    }catch (Exception e){\n        System.out.println(&quot;Error : &quot; + e.getMessage());\n    }\n    \n</code></pre>\n"},{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1689496075,"post_id":76697210,"comment_id":135219360,"body_markdown":"The resource that you really want to reclaim is the file descriptor which the Scanner has open, rather than the memory. And as you say, you don&#39;t want to close standard input.","body":"The resource that you really want to reclaim is the file descriptor which the Scanner has open, rather than the memory. And as you say, you don&#39;t want to close standard input."},{"owner":{"account_id":25883529,"reputation":11,"user_id":19612120,"display_name":"SILVERARGYROS"},"score":0,"creation_date":1689497758,"post_id":76697210,"comment_id":135219513,"body_markdown":"@tgdavies Ohh I see. Thanks a lot.","body":"@tgdavies Ohh I see. Thanks a lot."}],"tags":[],"owner":{"account_id":25883529,"reputation":11,"user_id":19612120,"display_name":"SILVERARGYROS"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689493770,"creation_date":1689493770,"answer_id":76697210,"question_id":76696780,"body_markdown":"Short answer: Ignore it.\r\n\r\n\r\n\r\nExplanation:\r\n\r\nThis is a warning stating that the Scanner (s) is never closed. \r\n\r\n\r\nUsually you want to close scanners when you are done with them in order to allow Java to reclaim the memory that the scanner has allocated to temporarily store the data from the InputStream. Avoiding to do so causes a memory(/resource) leak, meaning the memory is claimed permanently.\r\n\r\n\r\nHowever in this case, the InputStream is the Systems input (System.in). You do not have to close the Scanner in that case (and propably shouldn&#39;t since doing so would also close the Systems input Stream for good). System.in is automatically closed when your Java program terminates, so there is no leak. You should simply ignore it as it doesn&#39;t affect anything at all, it&#39;s just a warning. \r\n\r\n\r\nMy guess is that you are writing Java in Visual Studio Code. In other IDEs (Netbeans for example) this warning doesn&#39;t even occur when using Scanner with System.in. My guess could be wrong tho. \r\n\r\n(If I somehow explain something wrong or missed something, someone please respectfully correct me in the comments. Thank you in advance.)","title":"Resource leak reported when using a Scanner","body":"<p>Short answer: Ignore it.</p>\n<p>Explanation:</p>\n<p>This is a warning stating that the Scanner (s) is never closed.</p>\n<p>Usually you want to close scanners when you are done with them in order to allow Java to reclaim the memory that the scanner has allocated to temporarily store the data from the InputStream. Avoiding to do so causes a memory(/resource) leak, meaning the memory is claimed permanently.</p>\n<p>However in this case, the InputStream is the Systems input (System.in). You do not have to close the Scanner in that case (and propably shouldn't since doing so would also close the Systems input Stream for good). System.in is automatically closed when your Java program terminates, so there is no leak. You should simply ignore it as it doesn't affect anything at all, it's just a warning.</p>\n<p>My guess is that you are writing Java in Visual Studio Code. In other IDEs (Netbeans for example) this warning doesn't even occur when using Scanner with System.in. My guess could be wrong tho.</p>\n<p>(If I somehow explain something wrong or missed something, someone please respectfully correct me in the comments. Thank you in advance.)</p>\n"}],"owner":{"account_id":29026020,"reputation":27,"user_id":22234175,"display_name":"chamanswami"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1689494975,"answer_count":2,"score":-3,"last_activity_date":1689493770,"creation_date":1689484457,"question_id":76696780,"body_markdown":"For this line of my Java code:\r\n```\r\nScanner s = new Scanner(System.in);\r\n```\r\nThis occurs:\r\n&gt; Resource leak: &#39;s&#39; is&#160;never&#160;closed \r\n\r\nWhat does it mean and why is it occurring? \r\n","title":"Resource leak reported when using a Scanner","body":"<p>For this line of my Java code:</p>\n<pre><code>Scanner s = new Scanner(System.in);\n</code></pre>\n<p>This occurs:</p>\n<blockquote>\n<p>Resource leak: 's' is never closed</p>\n</blockquote>\n<p>What does it mean and why is it occurring?</p>\n"},{"tags":["java","android","firebase","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1689571166,"post_id":76697171,"comment_id":135226606,"body_markdown":"I don&#39;t see the issue at first glance, but if you understand Kotlin, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-use-firebase-cloud-messaging-on-android-d92cb4b53cfe) will help. Here is the corresponding [repo](https://github.com/alexmamo/FirebaseCloudMessaging).","body":"I don&#39;t see the issue at first glance, but if you understand Kotlin, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-use-firebase-cloud-messaging-on-android-d92cb4b53cfe\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/FirebaseCloudMessaging\" rel=\"nofollow noreferrer\">repo</a>."},{"owner":{"account_id":7010851,"reputation":51,"user_id":14024650,"display_name":"Brandon T"},"score":0,"creation_date":1689572533,"post_id":76697171,"comment_id":135226790,"body_markdown":"@AlexMamo hello. I&#39;m using Java not kotlin.","body":"@AlexMamo hello. I&#39;m using Java not kotlin."}],"owner":{"account_id":7010851,"reputation":51,"user_id":14024650,"display_name":"Brandon T"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689493079,"creation_date":1689493079,"question_id":76697171,"body_markdown":"I am trying to show push notifications from device to device. For e.g. when user1 follows user2 I want user2 to get the notification across the top of their screen that user1 followed them. But right now the push notifications only works if I send it through a campaign from the firebase console. I&#39;ve been looking through here for 2 days now and have no luck. Can someone please help me.\r\n\r\nProfileFragment: \r\n\r\n    private void addNotifications() {\r\n    databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Notifications&quot;).child(profileid);\r\n\r\n        HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\r\n        hashMap.put(&quot;date_time&quot;, getTimeDate());\r\n        hashMap.put(&quot;userid&quot;, firebaseUser.getUid());\r\n        hashMap.put(&quot;text&quot;, &quot;started following you.&quot;);\r\n        hashMap.put(&quot;postid&quot;, &quot;&quot;);\r\n        hashMap.put(&quot;isSeen&quot;, false);\r\n        hashMap.put(&quot;ispost&quot;, false);\r\n\r\n        databaseReference.push().setValue(hashMap);\r\n\r\n        // Retrieve the FCM registration token for the recipient user\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(profileid);\r\n        userRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                if (dataSnapshot.exists()) {\r\n                    String fcmToken = dataSnapshot.child(&quot;device_token&quot;).getValue(String.class);\r\n                    if (fcmToken != null) {\r\n                        // Send the push notification\r\n                        //Toast.makeText(getContext(), &quot;Snapshot: &quot; + fcmToken, Toast.LENGTH_LONG).show();\r\n\r\n                        if (!fcmToken.isEmpty()) {\r\n\r\n                            sendNotification(fcmToken, &quot;New Notification&quot;, &quot;You have a new notification.&quot;);\r\n                        } else {\r\n\r\n                            Toast.makeText(getContext(), &quot;Token is null.&quot;, Toast.LENGTH_LONG).show();\r\n\r\n                        }\r\n                    }\r\n                } else {\r\n                    Toast.makeText(getContext(), &quot;No snapshot found.&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n                // Handle error\r\n            }\r\n        });\r\n    }\r\n\r\n    private void sendNotification(String receiverToken, String title, String message) {\r\n        // Create the message\r\n        RemoteMessage notificationMessage = null;\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.LOLLIPOP) {\r\n            notificationMessage = new RemoteMessage.Builder(receiverToken)\r\n                    .setMessageId(Integer.toString(ThreadLocalRandom.current().nextInt())) // Unique message ID\r\n                    .addData(&quot;title&quot;, title)\r\n                    .addData(&quot;message&quot;, message)\r\n                    .build();\r\n        }\r\n\r\n        if (receiverToken.isEmpty()) {\r\n\r\n            Toast.makeText(getContext(), &quot;Token is empty 2.&quot;, Toast.LENGTH_LONG).show();\r\n        } else {\r\n\r\n            Toast.makeText(getContext(), &quot;Token is not empty.&quot;, Toast.LENGTH_LONG).show();\r\n\r\n        }\r\n\r\n        // Send the message using FirebaseMessaging\r\n        try {\r\n            FirebaseMessaging.getInstance().send(notificationMessage);\r\n            Toast.makeText(getContext(), &quot;Notification sent successfully.&quot;, Toast.LENGTH_LONG).show();\r\n\r\n            Log.d(&quot;Notification&quot;, &quot;Notification sent successfully&quot;);\r\n        } catch (Exception e) {\r\n            Toast.makeText(getContext(), &quot;Notification failed.&quot;, Toast.LENGTH_LONG).show();\r\n\r\n            Log.e(&quot;Notification&quot;, &quot;Error sending notification: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n\r\nMyFirebaseMessagingService: \r\n\r\n    public class MyFirebaseMessagingService extends FirebaseMessagingService {\r\n\r\n    private static final String TAG = &quot;FCM&quot;;\r\n    private static final String CHANNEL_ID = &quot;mystro_push_channelID_900192&quot;; // Replace with your channel ID\r\n\r\n    @Override\r\n    public void onMessageReceived(RemoteMessage remoteMessage) {\r\n        // Handle the received notification\r\n\r\n        Log.d(&quot;TAG96&quot;, &quot;In here call 1&quot;);\r\n\r\n        if (remoteMessage.getNotification() != null) {\r\n            String title = remoteMessage.getNotification().getTitle();\r\n            String body = remoteMessage.getNotification().getBody();\r\n\r\n            // Generate a unique notification ID\r\n            int notificationId = getNotificationId();\r\n\r\n            // Build the notification\r\n            NotificationCompat.Builder builder = new NotificationCompat.Builder(this, CHANNEL_ID)\r\n                    .setContentTitle(title)\r\n                    .setContentText(body)\r\n                    .setSmallIcon(R.drawable.mystro_logo)\r\n                    .setAutoCancel(true);\r\n\r\n            // Display the notification\r\n            NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n            notificationManager.notify(notificationId, builder.build());\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onNewToken(String token) {\r\n        // Handle token refresh or registration\r\n        Log.d(&quot;TAG21&quot;, &quot;New FCM token: &quot; + token);\r\n        // TODO: Send the updated token to your server or perform any other necessary actions\r\n    }\r\n\r\n    private int getNotificationId() {\r\n        // Generate a unique ID based on the current timestamp\r\n        return (int) System.currentTimeMillis();\r\n    }\r\n\r\n    private void createNotificationChannel() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            CharSequence name = &quot;Your Channel Name&quot;; // Replace with your channel name\r\n            String description = &quot;Your Channel Description&quot;; // Replace with your channel description\r\n            int importance = NotificationManager.IMPORTANCE_DEFAULT;\r\n\r\n            NotificationChannel channel = new NotificationChannel(CHANNEL_ID, name, importance);\r\n            channel.setDescription(description);\r\n\r\n            NotificationManager notificationManager = getSystemService(NotificationManager.class);\r\n            notificationManager.createNotificationChannel(channel);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        createNotificationChannel();\r\n\r\n        Log.d(&quot;TAG96&quot;, &quot;In here call&quot;);\r\n    }\r\n    }\r\n\r\nAndroidManifest:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt; &lt;!-- &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt; --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACTION_OPEN_DOCUMENT&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;com.google.android.c2dm.permission.RECEIVE&quot; /&gt;\r\n\r\n    &lt;permission\r\n        android:name=&quot;com.example.mystro.permission.C2D_MESSAGE&quot;\r\n        android:protectionLevel=&quot;signature&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;com.example.mystro.permission.C2D_MESSAGE&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.MyStro&quot;\r\n        tools:targetApi=&quot;m&quot;&gt;\r\n        &lt;service\r\n            android:name=&quot;.MyFirebaseMessagingService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:permission=&quot;com.google.android.c2dm.permission.SEND&quot;\r\n            android:exported=&quot;false&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n                &lt;action android:name=&quot;com.google.android.c2dm.intent.RECEIVE&quot; /&gt;\r\n                &lt;action android:name=&quot;com.google.firebase.INSTANCE_ID_EVENT&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.firebase.messaging.default_notification_channel_id&quot;\r\n            android:value=&quot;@string/notification_channel_id&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.EULA_Activity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.UserEmailActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.SplashActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.OptionsActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.PrivacyPolicyActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.TermsActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.BioEditActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.FullnameActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.UsernameActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.ChangePassword&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity android:name=&quot;.EditProfileActivity&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.theartofdev.edmodo.cropper.CropImageActivity&quot;\r\n            android:theme=&quot;@style/Base.Theme.AppCompat&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.ChatActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.CommentsActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.ForgotPasswordScreen&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.RegisterActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.FollowersActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.LoginActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n    &lt;/manifest&gt;\r\n\r\n","title":"FCM Push notifications not popping up","body":"<p>I am trying to show push notifications from device to device. For e.g. when user1 follows user2 I want user2 to get the notification across the top of their screen that user1 followed them. But right now the push notifications only works if I send it through a campaign from the firebase console. I've been looking through here for 2 days now and have no luck. Can someone please help me.</p>\n<p>ProfileFragment:</p>\n<pre><code>private void addNotifications() {\ndatabaseReference = FirebaseDatabase.getInstance().getReference(&quot;Notifications&quot;).child(profileid);\n\n    HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\n    hashMap.put(&quot;date_time&quot;, getTimeDate());\n    hashMap.put(&quot;userid&quot;, firebaseUser.getUid());\n    hashMap.put(&quot;text&quot;, &quot;started following you.&quot;);\n    hashMap.put(&quot;postid&quot;, &quot;&quot;);\n    hashMap.put(&quot;isSeen&quot;, false);\n    hashMap.put(&quot;ispost&quot;, false);\n\n    databaseReference.push().setValue(hashMap);\n\n    // Retrieve the FCM registration token for the recipient user\n    DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(profileid);\n    userRef.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n            if (dataSnapshot.exists()) {\n                String fcmToken = dataSnapshot.child(&quot;device_token&quot;).getValue(String.class);\n                if (fcmToken != null) {\n                    // Send the push notification\n                    //Toast.makeText(getContext(), &quot;Snapshot: &quot; + fcmToken, Toast.LENGTH_LONG).show();\n\n                    if (!fcmToken.isEmpty()) {\n\n                        sendNotification(fcmToken, &quot;New Notification&quot;, &quot;You have a new notification.&quot;);\n                    } else {\n\n                        Toast.makeText(getContext(), &quot;Token is null.&quot;, Toast.LENGTH_LONG).show();\n\n                    }\n                }\n            } else {\n                Toast.makeText(getContext(), &quot;No snapshot found.&quot;, Toast.LENGTH_LONG).show();\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError databaseError) {\n            // Handle error\n        }\n    });\n}\n\nprivate void sendNotification(String receiverToken, String title, String message) {\n    // Create the message\n    RemoteMessage notificationMessage = null;\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.LOLLIPOP) {\n        notificationMessage = new RemoteMessage.Builder(receiverToken)\n                .setMessageId(Integer.toString(ThreadLocalRandom.current().nextInt())) // Unique message ID\n                .addData(&quot;title&quot;, title)\n                .addData(&quot;message&quot;, message)\n                .build();\n    }\n\n    if (receiverToken.isEmpty()) {\n\n        Toast.makeText(getContext(), &quot;Token is empty 2.&quot;, Toast.LENGTH_LONG).show();\n    } else {\n\n        Toast.makeText(getContext(), &quot;Token is not empty.&quot;, Toast.LENGTH_LONG).show();\n\n    }\n\n    // Send the message using FirebaseMessaging\n    try {\n        FirebaseMessaging.getInstance().send(notificationMessage);\n        Toast.makeText(getContext(), &quot;Notification sent successfully.&quot;, Toast.LENGTH_LONG).show();\n\n        Log.d(&quot;Notification&quot;, &quot;Notification sent successfully&quot;);\n    } catch (Exception e) {\n        Toast.makeText(getContext(), &quot;Notification failed.&quot;, Toast.LENGTH_LONG).show();\n\n        Log.e(&quot;Notification&quot;, &quot;Error sending notification: &quot; + e.getMessage());\n    }\n}\n</code></pre>\n<p>MyFirebaseMessagingService:</p>\n<pre><code>public class MyFirebaseMessagingService extends FirebaseMessagingService {\n\nprivate static final String TAG = &quot;FCM&quot;;\nprivate static final String CHANNEL_ID = &quot;mystro_push_channelID_900192&quot;; // Replace with your channel ID\n\n@Override\npublic void onMessageReceived(RemoteMessage remoteMessage) {\n    // Handle the received notification\n\n    Log.d(&quot;TAG96&quot;, &quot;In here call 1&quot;);\n\n    if (remoteMessage.getNotification() != null) {\n        String title = remoteMessage.getNotification().getTitle();\n        String body = remoteMessage.getNotification().getBody();\n\n        // Generate a unique notification ID\n        int notificationId = getNotificationId();\n\n        // Build the notification\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(this, CHANNEL_ID)\n                .setContentTitle(title)\n                .setContentText(body)\n                .setSmallIcon(R.drawable.mystro_logo)\n                .setAutoCancel(true);\n\n        // Display the notification\n        NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n        notificationManager.notify(notificationId, builder.build());\n    }\n}\n\n@Override\npublic void onNewToken(String token) {\n    // Handle token refresh or registration\n    Log.d(&quot;TAG21&quot;, &quot;New FCM token: &quot; + token);\n    // TODO: Send the updated token to your server or perform any other necessary actions\n}\n\nprivate int getNotificationId() {\n    // Generate a unique ID based on the current timestamp\n    return (int) System.currentTimeMillis();\n}\n\nprivate void createNotificationChannel() {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        CharSequence name = &quot;Your Channel Name&quot;; // Replace with your channel name\n        String description = &quot;Your Channel Description&quot;; // Replace with your channel description\n        int importance = NotificationManager.IMPORTANCE_DEFAULT;\n\n        NotificationChannel channel = new NotificationChannel(CHANNEL_ID, name, importance);\n        channel.setDescription(description);\n\n        NotificationManager notificationManager = getSystemService(NotificationManager.class);\n        notificationManager.createNotificationChannel(channel);\n    }\n}\n\n@Override\npublic void onCreate() {\n    super.onCreate();\n    createNotificationChannel();\n\n    Log.d(&quot;TAG96&quot;, &quot;In here call&quot;);\n}\n}\n</code></pre>\n<p>AndroidManifest:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n&lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\n&lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt; &lt;!-- &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt; --&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACTION_OPEN_DOCUMENT&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n\n&lt;uses-permission android:name=&quot;com.google.android.c2dm.permission.RECEIVE&quot; /&gt;\n\n&lt;permission\n    android:name=&quot;com.example.mystro.permission.C2D_MESSAGE&quot;\n    android:protectionLevel=&quot;signature&quot; /&gt;\n\n&lt;uses-permission android:name=&quot;com.example.mystro.permission.C2D_MESSAGE&quot; /&gt;\n\n&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.MyStro&quot;\n    tools:targetApi=&quot;m&quot;&gt;\n    &lt;service\n        android:name=&quot;.MyFirebaseMessagingService&quot;\n        android:enabled=&quot;true&quot;\n        android:permission=&quot;com.google.android.c2dm.permission.SEND&quot;\n        android:exported=&quot;false&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\n            &lt;action android:name=&quot;com.google.android.c2dm.intent.RECEIVE&quot; /&gt;\n            &lt;action android:name=&quot;com.google.firebase.INSTANCE_ID_EVENT&quot;/&gt;\n        &lt;/intent-filter&gt;\n    &lt;/service&gt;\n    &lt;meta-data\n        android:name=&quot;com.google.firebase.messaging.default_notification_channel_id&quot;\n        android:value=&quot;@string/notification_channel_id&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.EULA_Activity&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.UserEmailActivity&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.SplashActivity&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.OptionsActivity&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.PrivacyPolicyActivity&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.TermsActivity&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.BioEditActivity&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.FullnameActivity&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.UsernameActivity&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.ChangePassword&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity android:name=&quot;.EditProfileActivity&quot; /&gt;\n    &lt;activity\n        android:name=&quot;com.theartofdev.edmodo.cropper.CropImageActivity&quot;\n        android:theme=&quot;@style/Base.Theme.AppCompat&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.ChatActivity&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.CommentsActivity&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.ForgotPasswordScreen&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.RegisterActivity&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.FollowersActivity&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.LoginActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","spring-mvc","thymeleaf"],"owner":{"account_id":24378989,"reputation":1,"user_id":18310868,"display_name":"Михаил Сумароков"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689491992,"creation_date":1689491432,"question_id":76697095,"body_markdown":"Tell me where to look.\r\nWe need to make an HTML page with a 4x4 table and populate it from the backend. Also after filling in the table cell and pressing Enter, so that the cell value and its coordinates are sent to the server.\r\nThis must be done using Java + Spring MVC. As I understand correctly, thymeleat templates will help with this, but nothing happens. Thank you!","title":"Table 4x4 springMVC + thymeleat","body":"<p>Tell me where to look.\nWe need to make an HTML page with a 4x4 table and populate it from the backend. Also after filling in the table cell and pressing Enter, so that the cell value and its coordinates are sent to the server.\nThis must be done using Java + Spring MVC. As I understand correctly, thymeleat templates will help with this, but nothing happens. Thank you!</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1689409516,"post_id":76692401,"comment_id":135211870,"body_markdown":"Can you maybe include the `Bo3AuditRepository ` class in your question?","body":"Can you maybe include the <code>Bo3AuditRepository </code> class in your question?"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1689443342,"post_id":76692401,"comment_id":135215617,"body_markdown":"Does the error also occur when removing the `repo.save(bo3Audit);` in the `@PostUpdate`?","body":"Does the error also occur when removing the <code>repo.save(bo3Audit);</code> in the <code>@PostUpdate</code>?"},{"owner":{"account_id":6506515,"reputation":1641,"user_id":5035525,"accept_rate":69,"display_name":"Ramanujan R"},"score":0,"creation_date":1689475633,"post_id":76692401,"comment_id":135218131,"body_markdown":"yes @dan1stisonstrike. Commenting out `repo.save(bo3Audit);` still produces the same error!","body":"yes @dan1stisonstrike. Commenting out <code>repo.save(bo3Audit);</code> still produces the same error!"}],"answers":[{"comments":[{"owner":{"account_id":6506515,"reputation":1641,"user_id":5035525,"accept_rate":69,"display_name":"Ramanujan R"},"score":0,"creation_date":1689475708,"post_id":76696344,"comment_id":135218133,"body_markdown":"Thanks @andrey. Let me try out these and come back.","body":"Thanks @andrey. Let me try out these and come back."},{"owner":{"account_id":6506515,"reputation":1641,"user_id":5035525,"accept_rate":69,"display_name":"Ramanujan R"},"score":0,"creation_date":1689489697,"post_id":76696344,"comment_id":135218834,"body_markdown":"I checked your first solution, but it was still throwing the error. Before trying the second I had a look at the stack trace again and noted something. Made some changes in the code as explained in my answer and got it working. Thanks for the support Andrey.","body":"I checked your first solution, but it was still throwing the error. Before trying the second I had a look at the stack trace again and noted something. Made some changes in the code as explained in my answer and got it working. Thanks for the support Andrey."}],"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689470728,"creation_date":1689470400,"answer_id":76696344,"question_id":76692401,"body_markdown":"There is a trivial reason why that does not work as expected: Hibernate fires JPA Lifecycle Events when persistent context is being flushing and you may not modify (write to) persistent context when it is being flushing, however some workarounds do exist:\r\n\r\nI. Use brand new persistent context attached to the current transaction, something like:\r\n\r\n```java\r\n// suppose we may somehow access EntityManager instance:\r\nSession current = entityManager.unwrap(Session.class);\r\ntry (Session newSession = current.sessionWithOptions().connection().flushMode(FlushMode.MANUAL).openSession()) {\r\n   Bo3Audit bo3Audit = generateAudit...;\r\n   newSession.persist(bo3Audit);\r\n   newSession.flush();\r\n}\r\n```\r\n\r\nthe code above is robust as AK 47, however has obvious drawbacks:\r\n- it is tightly coupled with Hibernate\r\n- you may not use `spring-data-java` infrastructure\r\n\r\nII. another option is to use [Domain Events](https://thorben-janssen.com/spring-data-jpa-domain-event/) - please check carefully drawbacks described in article, the most serious one is a requirement to call `save` or `saveAll` in order to trigger `Domain Events`","title":"How to write data into another table after @PostUpdate action using Spring Data Jpa","body":"<p>There is a trivial reason why that does not work as expected: Hibernate fires JPA Lifecycle Events when persistent context is being flushing and you may not modify (write to) persistent context when it is being flushing, however some workarounds do exist:</p>\n<p>I. Use brand new persistent context attached to the current transaction, something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// suppose we may somehow access EntityManager instance:\nSession current = entityManager.unwrap(Session.class);\ntry (Session newSession = current.sessionWithOptions().connection().flushMode(FlushMode.MANUAL).openSession()) {\n   Bo3Audit bo3Audit = generateAudit...;\n   newSession.persist(bo3Audit);\n   newSession.flush();\n}\n</code></pre>\n<p>the code above is robust as AK 47, however has obvious drawbacks:</p>\n<ul>\n<li>it is tightly coupled with Hibernate</li>\n<li>you may not use <code>spring-data-java</code> infrastructure</li>\n</ul>\n<p>II. another option is to use <a href=\"https://thorben-janssen.com/spring-data-jpa-domain-event/\" rel=\"nofollow noreferrer\">Domain Events</a> - please check carefully drawbacks described in article, the most serious one is a requirement to call <code>save</code> or <code>saveAll</code> in order to trigger <code>Domain Events</code></p>\n"},{"tags":[],"owner":{"account_id":6506515,"reputation":1641,"user_id":5035525,"accept_rate":69,"display_name":"Ramanujan R"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689489893,"creation_date":1689489562,"answer_id":76696998,"question_id":76692401,"body_markdown":"The `prePersist` is working, but not the `postUpdate`. So I had a look at the stack trace again and noted that it was complaining about concurrent modification on some List. The only list in that method is `List&lt;Bo3Audit&gt; lastAudits` which I fetch to compare old and new audit specific fields.\r\n\r\nThis was the culprit. In the Hibernate perspective, the newly created `bo3Audit` is a member of that list and calling `save` on `bo3Audit` would throw the concurrent modification error.\r\n\r\nI did the below updates to the code and it is working as expected.\r\n\r\n 1. When the Bo3 is loaded, the corresponding Bo3Audit is generated and\r\n    cached to a transient property in Bo3. The hibernate will load the data before updating. So this will work in `@PostUpdate`.\r\n    \r\n        @Transient@JsonIgnore private Bo3Audit lastBo3Audit;\r\n        @PostLoad\r\n        public void postLoad() {\r\n            this.lastBo3Audit = this.generateAuditBo();\r\n        }\r\n 2. In `@PostUpdate`, the `oldValues` were generated from this cached\r\n    property, instead of fetching this from database.\r\n    \r\n        oldValues = streamSupplier.get().map(m-&gt; {\r\n                        try {\r\n                            return m.invoke(lastBo3Audit);\r\n                        } catch (IllegalAccessException | InvocationTargetException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    })\r\n                    .filter(Objects::nonNull)\r\n                    .toList();\r\n\r\nThe queries generated:\r\n\r\n    Hibernate: select bo3x0_.id as id1_0_0_, bo3x0_.prop1 as prop2_0_0_, bo3x0_.prop2 as prop3_0_0_, bo3x0_.prop3 as prop4_0_0_ from bo3 bo3x0_ where bo3x0_.id=?\r\n    Hibernate: update bo3 set prop1=?, prop2=?, prop3=? where id=?\r\n    Hibernate: insert into bo3audit (bo3_id, prop1, prop2) values (?, ?, ?)\r\n\r\nNotes:\r\n\r\n 1. Now that I have the `lastBo3Audit`, the `streamSupplier` can be\r\n    removed and compare `lastBo3Audit` and new `bo3Audit`.\r\n 2. I need to test this, to see how it will behave in a real scenario.","title":"How to write data into another table after @PostUpdate action using Spring Data Jpa","body":"<p>The <code>prePersist</code> is working, but not the <code>postUpdate</code>. So I had a look at the stack trace again and noted that it was complaining about concurrent modification on some List. The only list in that method is <code>List&lt;Bo3Audit&gt; lastAudits</code> which I fetch to compare old and new audit specific fields.</p>\n<p>This was the culprit. In the Hibernate perspective, the newly created <code>bo3Audit</code> is a member of that list and calling <code>save</code> on <code>bo3Audit</code> would throw the concurrent modification error.</p>\n<p>I did the below updates to the code and it is working as expected.</p>\n<ol>\n<li><p>When the Bo3 is loaded, the corresponding Bo3Audit is generated and\ncached to a transient property in Bo3. The hibernate will load the data before updating. So this will work in <code>@PostUpdate</code>.</p>\n<pre><code>@Transient@JsonIgnore private Bo3Audit lastBo3Audit;\n@PostLoad\npublic void postLoad() {\n    this.lastBo3Audit = this.generateAuditBo();\n}\n</code></pre>\n</li>\n<li><p>In <code>@PostUpdate</code>, the <code>oldValues</code> were generated from this cached\nproperty, instead of fetching this from database.</p>\n<pre><code>oldValues = streamSupplier.get().map(m-&gt; {\n                try {\n                    return m.invoke(lastBo3Audit);\n                } catch (IllegalAccessException | InvocationTargetException e) {\n                    throw new RuntimeException(e);\n                }\n            })\n            .filter(Objects::nonNull)\n            .toList();\n</code></pre>\n</li>\n</ol>\n<p>The queries generated:</p>\n<pre><code>Hibernate: select bo3x0_.id as id1_0_0_, bo3x0_.prop1 as prop2_0_0_, bo3x0_.prop2 as prop3_0_0_, bo3x0_.prop3 as prop4_0_0_ from bo3 bo3x0_ where bo3x0_.id=?\nHibernate: update bo3 set prop1=?, prop2=?, prop3=? where id=?\nHibernate: insert into bo3audit (bo3_id, prop1, prop2) values (?, ?, ?)\n</code></pre>\n<p>Notes:</p>\n<ol>\n<li>Now that I have the <code>lastBo3Audit</code>, the <code>streamSupplier</code> can be\nremoved and compare <code>lastBo3Audit</code> and new <code>bo3Audit</code>.</li>\n<li>I need to test this, to see how it will behave in a real scenario.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":6506515,"reputation":1641,"user_id":5035525,"accept_rate":69,"display_name":"Ramanujan R"},"score":0,"creation_date":1689515330,"post_id":76697090,"comment_id":135221410,"body_markdown":"Thanks @EvoMGenius for your suggestion. Our current implementation is same as you suggested. The service layer saves `Bo3` through its repository interface `Bo3Repository`, generates `Bo3Audit` and saves it by calling `Bo3AuditRepository` method. But a the new requirement came where the `Bo3` insert or update can be done from multiple places(multiple service methods) and for that, we have to call `someMethodA` from all those places. The ask is to avoid this and use event listeners instead. So I have to stick with this unless we get a better solution using event listeners.","body":"Thanks @EvoMGenius for your suggestion. Our current implementation is same as you suggested. The service layer saves <code>Bo3</code> through its repository interface <code>Bo3Repository</code>, generates <code>Bo3Audit</code> and saves it by calling <code>Bo3AuditRepository</code> method. But a the new requirement came where the <code>Bo3</code> insert or update can be done from multiple places(multiple service methods) and for that, we have to call <code>someMethodA</code> from all those places. The ask is to avoid this and use event listeners instead. So I have to stick with this unless we get a better solution using event listeners."}],"tags":[],"owner":{"account_id":29003101,"reputation":11,"user_id":22216282,"display_name":"EvoMGenius"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689491331,"creation_date":1689491331,"answer_id":76697090,"question_id":76692401,"body_markdown":"Maybe try to rework architect? Create new logic layer, that invoke method (for example, let&#39;s name it someMethodA(). It can be Service(logic layer above the repository of first entity) method. And you get result. And after this, you invoke another method of another service(with repository of another entity)\r\nYou can use pattern Action for this.\r\nBecause what you have written is a very dirty architecture, as i think","title":"How to write data into another table after @PostUpdate action using Spring Data Jpa","body":"<p>Maybe try to rework architect? Create new logic layer, that invoke method (for example, let's name it someMethodA(). It can be Service(logic layer above the repository of first entity) method. And you get result. And after this, you invoke another method of another service(with repository of another entity)\nYou can use pattern Action for this.\nBecause what you have written is a very dirty architecture, as i think</p>\n"}],"owner":{"account_id":6506515,"reputation":1641,"user_id":5035525,"accept_rate":69,"display_name":"Ramanujan R"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76696998,"answer_count":3,"score":1,"last_activity_date":1689491331,"creation_date":1689400069,"question_id":76692401,"body_markdown":"Please note that a [similar question][1] asked, but the answer includes `Camel JPA` specific implementation.\r\n\r\nI have a two JPA entities Bo3 and Bo3Audit. In Bo3, there are some fields specified as audit fields. I don&#39;t want to take action for all the changes in Bo3, but only for the changes in those fields. When any of those fields&#39; data is inserted (not null) or updated for a particular row, I need to insert an entry in Bo3Audit with the field values.\r\n\r\n**Bo3**\r\n\r\n    @Entity // and other JPA annotations\r\n    public class Bo3 {\r\n      // persisted fields prop1, prop2, prop3\r\n\r\n      // prop1, prop2 are the audit fields\r\n      @Transient@JsonIgnore\r\n      private List&lt;String&gt; myAuditFields = List.of(&quot;prop1&quot;, &quot;prop2&quot;);\r\n\r\n      // A supplier which fetches all the getters for the audit fields\r\n      @Transient@JsonIgnore\r\n      Supplier&lt;Stream&lt;Method&gt;&gt; streamSupplier = () -&gt; Arrays.stream(Bo3Audit.class.getDeclaredFields())\r\n            .filter(f -&gt; myAuditFields.contains(f.getName()))\r\n            .map(f-&gt;Objects.requireNonNull(\r\n                    BeanUtils.findMethod(Bo3Audit.class, &quot;get&quot;+ StringUtils.capitalize(f.getName()))\r\n            ));\r\n\r\n    }\r\n\r\n**Bo3Audit**\r\n\r\n    @Entity // and other JPA annotations\r\n    public class Bo3Audit {\r\n      // persisted fields prop1, prop2 (only Bo3&#39;s audit fields)\r\n\r\n      @ManyToOne(lazy fetch)\r\n      private Bo3 bo3;\r\n    }\r\n\r\n**Bo3Audit Repository**\r\n\r\n    @Repository\r\n    public interface Bo3AuditRepository extends JpaRepository&lt;Bo3Audit, Long&gt; {\r\n        @Query(&quot;from Bo3Audit where bo3.id = :id order by createdAt desc&quot;)\r\n        List&lt;Bo3Audit&gt; findLastAudit(Long id, Pageable pageable);\r\n    }\r\n\r\n**PrePersist**\r\n\r\nThe `prePersist` listener in Bo3 **is working as expected**. If either prop1 or prop2 has a non null value, it inserts a row in Bo3Audit copying those values.\r\n\r\n      @PrePersist\r\n      public void prePersist() {\r\n        Bo3Audit bo3Audit = generateAudit(this); // copies prop1, prop2 and assign &quot;this&quot; to ManyToOne field bo3\r\n        streamSupplier.get().map(m-&gt; {\r\n                    try {\r\n                        return m.invoke(bo3Audit);\r\n                    } catch (IllegalAccessException | InvocationTargetException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                })\r\n                .filter(Objects::nonNull)\r\n                .findAny().ifPresent(value -&gt; {\r\n                    MyBeanUtils.getBean(Bo3AuditRepository.class).save(bo3Audit);\r\n                });\r\n      }\r\n\r\n**PostUpdate**\r\n\r\nBut the `postUpdate` listener **is failing** with `ConcurrentModificationException`.\r\n\r\n    @PostUpdate\r\n    public void postUpdate() {\r\n        Bo3AuditRepository repo = MyBeanUtils.getBean(Bo3AuditRepository.class);\r\n        Bo3Audit bo3Audit = generateAudit(this); // copies prop1, prop2 and assign &quot;this&quot; to ManyToOne field bo3\r\n        List&lt;Bo3Audit&gt; lastAudits = repo.findLastAudit(this.getId(), PageRequest.of(0,1));\r\n        ///\r\n        // Some logic using streamSupplier to check any one of the &quot;prop1&quot; and &quot;prop2&quot; value is changed.\r\n        ///\r\n        if (isChanged) {\r\n            repo.save(bo3Audit);\r\n        }\r\n    }\r\n\r\n**Notes:**\r\n\r\n - If `@PreUpdate` is used, a `StackOverFlow` error is throw somewhere around line `repo.findLastAudit(this.getId(), PageRequest.of(0,1));`\r\n - If the @PostUpdate listener annotation is removed and call the `postUpdate` method from business logic just after `bo3Repository.save(newBo3)` command, this is working fine. An audit \r\n   row is inserted if there is change in either &quot;prop1&quot; or &quot;prop2&quot;.\r\n\r\nBut I need the listener to work. Please suggest.\r\n\r\n**Some stack trace**\r\n\r\n    java.util.ConcurrentModificationException: null\r\n    \tat java.base/java.util.ArrayList$Itr.checkForComodification(ArrayList.java:1013)\r\n    \tat java.base/java.util.ArrayList$Itr.next(ArrayList.java:967)\r\n    \tat java.base/java.util.Collections$UnmodifiableCollection$1.next(Collections.java:1054)\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:602)\r\n    \tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\r\n    \tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\r\n    \tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)\r\n    \tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n    \tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407)\r\n    \tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489)\r\n    \tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3303)\r\n    \tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2438)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\r\n    \tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\r\n    \tat com.paanini.generated.app.jiffy.controller.defaultInternalServiceController$$EnhancerBySpringCGLIB$$cff4506b.UpdateBo3(&lt;generated&gt;)\r\n\r\n  [1]: https://stackoverflow.com/questions/42259733/how-to-write-data-into-table-after-hibernate-entitylistener-action-using-camel","title":"How to write data into another table after @PostUpdate action using Spring Data Jpa","body":"<p>Please note that a <a href=\"https://stackoverflow.com/questions/42259733/how-to-write-data-into-table-after-hibernate-entitylistener-action-using-camel\">similar question</a> asked, but the answer includes <code>Camel JPA</code> specific implementation.</p>\n<p>I have a two JPA entities Bo3 and Bo3Audit. In Bo3, there are some fields specified as audit fields. I don't want to take action for all the changes in Bo3, but only for the changes in those fields. When any of those fields' data is inserted (not null) or updated for a particular row, I need to insert an entry in Bo3Audit with the field values.</p>\n<p><strong>Bo3</strong></p>\n<pre><code>@Entity // and other JPA annotations\npublic class Bo3 {\n  // persisted fields prop1, prop2, prop3\n\n  // prop1, prop2 are the audit fields\n  @Transient@JsonIgnore\n  private List&lt;String&gt; myAuditFields = List.of(&quot;prop1&quot;, &quot;prop2&quot;);\n\n  // A supplier which fetches all the getters for the audit fields\n  @Transient@JsonIgnore\n  Supplier&lt;Stream&lt;Method&gt;&gt; streamSupplier = () -&gt; Arrays.stream(Bo3Audit.class.getDeclaredFields())\n        .filter(f -&gt; myAuditFields.contains(f.getName()))\n        .map(f-&gt;Objects.requireNonNull(\n                BeanUtils.findMethod(Bo3Audit.class, &quot;get&quot;+ StringUtils.capitalize(f.getName()))\n        ));\n\n}\n</code></pre>\n<p><strong>Bo3Audit</strong></p>\n<pre><code>@Entity // and other JPA annotations\npublic class Bo3Audit {\n  // persisted fields prop1, prop2 (only Bo3's audit fields)\n\n  @ManyToOne(lazy fetch)\n  private Bo3 bo3;\n}\n</code></pre>\n<p><strong>Bo3Audit Repository</strong></p>\n<pre><code>@Repository\npublic interface Bo3AuditRepository extends JpaRepository&lt;Bo3Audit, Long&gt; {\n    @Query(&quot;from Bo3Audit where bo3.id = :id order by createdAt desc&quot;)\n    List&lt;Bo3Audit&gt; findLastAudit(Long id, Pageable pageable);\n}\n</code></pre>\n<p><strong>PrePersist</strong></p>\n<p>The <code>prePersist</code> listener in Bo3 <strong>is working as expected</strong>. If either prop1 or prop2 has a non null value, it inserts a row in Bo3Audit copying those values.</p>\n<pre><code>  @PrePersist\n  public void prePersist() {\n    Bo3Audit bo3Audit = generateAudit(this); // copies prop1, prop2 and assign &quot;this&quot; to ManyToOne field bo3\n    streamSupplier.get().map(m-&gt; {\n                try {\n                    return m.invoke(bo3Audit);\n                } catch (IllegalAccessException | InvocationTargetException e) {\n                    throw new RuntimeException(e);\n                }\n            })\n            .filter(Objects::nonNull)\n            .findAny().ifPresent(value -&gt; {\n                MyBeanUtils.getBean(Bo3AuditRepository.class).save(bo3Audit);\n            });\n  }\n</code></pre>\n<p><strong>PostUpdate</strong></p>\n<p>But the <code>postUpdate</code> listener <strong>is failing</strong> with <code>ConcurrentModificationException</code>.</p>\n<pre><code>@PostUpdate\npublic void postUpdate() {\n    Bo3AuditRepository repo = MyBeanUtils.getBean(Bo3AuditRepository.class);\n    Bo3Audit bo3Audit = generateAudit(this); // copies prop1, prop2 and assign &quot;this&quot; to ManyToOne field bo3\n    List&lt;Bo3Audit&gt; lastAudits = repo.findLastAudit(this.getId(), PageRequest.of(0,1));\n    ///\n    // Some logic using streamSupplier to check any one of the &quot;prop1&quot; and &quot;prop2&quot; value is changed.\n    ///\n    if (isChanged) {\n        repo.save(bo3Audit);\n    }\n}\n</code></pre>\n<p><strong>Notes:</strong></p>\n<ul>\n<li>If <code>@PreUpdate</code> is used, a <code>StackOverFlow</code> error is throw somewhere around line <code>repo.findLastAudit(this.getId(), PageRequest.of(0,1));</code></li>\n<li>If the @PostUpdate listener annotation is removed and call the <code>postUpdate</code> method from business logic just after <code>bo3Repository.save(newBo3)</code> command, this is working fine. An audit\nrow is inserted if there is change in either &quot;prop1&quot; or &quot;prop2&quot;.</li>\n</ul>\n<p>But I need the listener to work. Please suggest.</p>\n<p><strong>Some stack trace</strong></p>\n<pre><code>java.util.ConcurrentModificationException: null\n    at java.base/java.util.ArrayList$Itr.checkForComodification(ArrayList.java:1013)\n    at java.base/java.util.ArrayList$Itr.next(ArrayList.java:967)\n    at java.base/java.util.Collections$UnmodifiableCollection$1.next(Collections.java:1054)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:602)\n    at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407)\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489)\n    at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3303)\n    at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2438)\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\n    at com.paanini.generated.app.jiffy.controller.defaultInternalServiceController$$EnhancerBySpringCGLIB$$cff4506b.UpdateBo3(&lt;generated&gt;)\n</code></pre>\n"},{"tags":["java","spring-boot","oauth","facebook-login"],"owner":{"account_id":26989929,"reputation":13,"user_id":20553003,"display_name":"Shubham Nigam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689491264,"creation_date":1689490446,"question_id":76697046,"body_markdown":"I tried to implement login using facebook and i want after logging in user directly redirected to dashboard.html page that i&#39;m unable to do please help me.\r\n\r\n\r\n\r\nbelow is the code for OAuthConfiguration\r\n\r\n**OAuth2Configuration.java**\r\n\r\n```\r\npackage com.org.config;\r\nimport org.springframework.boot.autoconfigure.security.oauth2.client.EnableOAuth2Sso;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n\r\n@EnableOAuth2Sso\r\n@Configuration\r\npublic class OAuth2Configuration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .antMatcher(&quot;/**&quot;)\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/&quot;, &quot;/login**&quot;, &quot;/webjars/**&quot;, &quot;/error**&quot;)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated();\r\n    }\r\n\r\n}\r\n```\r\n\r\nbelow is the code for MainController from index.html page /api will triggered and getUser method will run from here we are getting prinicipal user details\r\n**MainController.java**\r\n\r\n```\r\npackage com.org.controller;\r\n\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.security.Principal;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class MainController {\r\n\r\n    @GetMapping\r\n    public Principal getUser(Principal user) {\r\n        return user;\r\n    }\r\n}\r\n```\r\n\r\nbelow is the code for index.html page contains one link for login with facebook and that im hiding it after successfull login\r\n**index.html**\r\n\r\n```\r\n&lt;!doctype html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;utf-8&quot;/&gt;\r\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;/&gt;\r\n    &lt;title&gt;Demo&lt;/title&gt;\r\n    &lt;meta name=&quot;description&quot; content=&quot;&quot;/&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width&quot;/&gt;\r\n    &lt;base href=&quot;/&quot;/&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/webjars/bootstrap/css/bootstrap.min.css&quot;/&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;/webjars/jquery/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;/webjars/bootstrap/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h1&gt;Demo&lt;/h1&gt;\r\n\r\n&lt;div class=&quot;container unauthenticated&quot;&gt;\r\n    Login With Facebook: &lt;a href=&quot;/login&quot;&gt;click here&lt;/a&gt;\r\n&lt;/div&gt;\r\n&lt;div class=&quot;container authenticated&quot; style=&quot;display:none&quot;&gt;\r\n    Logged into Facebook as: &lt;span id=&quot;user&quot;&gt;&lt;/span&gt;\r\n&lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;script type=&quot;text/javascript&quot;&gt;\r\n    $.get(&quot;/api&quot;, function(data) {\r\n        $(&quot;#user&quot;).html(data.userAuthentication.details.name);\r\n        $(&quot;.unauthenticated&quot;).hide()\r\n        $(&quot;.authenticated&quot;).show()\r\n    });\r\n\r\n&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```\r\n\r\n**below is the code for application.yml file**\r\n```\r\nsecurity:\r\n  oauth2:\r\n    client:\r\n      clientId: 2180810022116587\r\n      clientSecret: 3ded0043a2b8300f0a8af44bbb531026\r\n      accessTokenUri: https://graph.facebook.com/oauth/access_token\r\n      userAuthorizationUri: https://www.facebook.com/dialog/oauth\r\n      tokenName: oauth_token\r\n      authenticationScheme: query\r\n      clientAuthenticationScheme: form\r\n    resource:\r\n      userInfoUri: https://graph.facebook.com/me\r\n\r\n\r\n\r\n```\r\n\r\n**[Link for latest code][1]**\r\n\r\n\r\n  [1]: https://github.com/daadestroyer/meta-login-spring","title":"How to redirect user to dashboard.html page after facebook login","body":"<p>I tried to implement login using facebook and i want after logging in user directly redirected to dashboard.html page that i'm unable to do please help me.</p>\n<p>below is the code for OAuthConfiguration</p>\n<p><strong>OAuth2Configuration.java</strong></p>\n<pre><code>package com.org.config;\nimport org.springframework.boot.autoconfigure.security.oauth2.client.EnableOAuth2Sso;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n\n@EnableOAuth2Sso\n@Configuration\npublic class OAuth2Configuration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .antMatcher(&quot;/**&quot;)\n                .authorizeRequests()\n                .antMatchers(&quot;/&quot;, &quot;/login**&quot;, &quot;/webjars/**&quot;, &quot;/error**&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated();\n    }\n\n}\n</code></pre>\n<p>below is the code for MainController from index.html page /api will triggered and getUser method will run from here we are getting prinicipal user details\n<strong>MainController.java</strong></p>\n<pre><code>package com.org.controller;\n\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.security.Principal;\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class MainController {\n\n    @GetMapping\n    public Principal getUser(Principal user) {\n        return user;\n    }\n}\n</code></pre>\n<p>below is the code for index.html page contains one link for login with facebook and that im hiding it after successfull login\n<strong>index.html</strong></p>\n<pre><code>&lt;!doctype html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot;/&gt;\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;/&gt;\n    &lt;title&gt;Demo&lt;/title&gt;\n    &lt;meta name=&quot;description&quot; content=&quot;&quot;/&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width&quot;/&gt;\n    &lt;base href=&quot;/&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/webjars/bootstrap/css/bootstrap.min.css&quot;/&gt;\n    &lt;script type=&quot;text/javascript&quot; src=&quot;/webjars/jquery/jquery.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script type=&quot;text/javascript&quot; src=&quot;/webjars/bootstrap/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Demo&lt;/h1&gt;\n\n&lt;div class=&quot;container unauthenticated&quot;&gt;\n    Login With Facebook: &lt;a href=&quot;/login&quot;&gt;click here&lt;/a&gt;\n&lt;/div&gt;\n&lt;div class=&quot;container authenticated&quot; style=&quot;display:none&quot;&gt;\n    Logged into Facebook as: &lt;span id=&quot;user&quot;&gt;&lt;/span&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;script type=&quot;text/javascript&quot;&gt;\n    $.get(&quot;/api&quot;, function(data) {\n        $(&quot;#user&quot;).html(data.userAuthentication.details.name);\n        $(&quot;.unauthenticated&quot;).hide()\n        $(&quot;.authenticated&quot;).show()\n    });\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<p><strong>below is the code for application.yml file</strong></p>\n<pre><code>security:\n  oauth2:\n    client:\n      clientId: 2180810022116587\n      clientSecret: 3ded0043a2b8300f0a8af44bbb531026\n      accessTokenUri: https://graph.facebook.com/oauth/access_token\n      userAuthorizationUri: https://www.facebook.com/dialog/oauth\n      tokenName: oauth_token\n      authenticationScheme: query\n      clientAuthenticationScheme: form\n    resource:\n      userInfoUri: https://graph.facebook.com/me\n\n\n\n</code></pre>\n<p><strong><a href=\"https://github.com/daadestroyer/meta-login-spring\" rel=\"nofollow noreferrer\">Link for latest code</a></strong></p>\n"},{"tags":["java","xml","jaxb","apache-axis","axis2c"],"answers":[{"tags":[],"owner":{"account_id":12519280,"reputation":29,"user_id":9111244,"display_name":"Philipp2706"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689263920,"creation_date":1689263920,"answer_id":76681326,"question_id":76670848,"body_markdown":"I have discovered that the parse(..)-method only stored the XML string in the object, but the attributes were not set. \r\n\r\nThe &quot;xmlText()&quot; method allows retrieving the string stored in the object, which was also outputted by the &quot;toString()&quot; method. For this reason I wrongly assumed that the attributes were set in the object. No error message is logged during parsing which would indicate this.\r\n\r\nI modified the input XML string, adding a required XML prefix to all tags in the XML string, and now it works.","title":"Difficulty unmarshalling an XML string into an AXIS2/xmlbeans generated object","body":"<p>I have discovered that the parse(..)-method only stored the XML string in the object, but the attributes were not set.</p>\n<p>The &quot;xmlText()&quot; method allows retrieving the string stored in the object, which was also outputted by the &quot;toString()&quot; method. For this reason I wrongly assumed that the attributes were set in the object. No error message is logged during parsing which would indicate this.</p>\n<p>I modified the input XML string, adding a required XML prefix to all tags in the XML string, and now it works.</p>\n"}],"owner":{"account_id":12519280,"reputation":29,"user_id":9111244,"display_name":"Philipp2706"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76681326,"answer_count":1,"score":-1,"last_activity_date":1689491203,"creation_date":1689166707,"question_id":76670848,"body_markdown":"I am currently facing an issue with converting an XML string into an object generated with AXIS2 and JAXB (unmarshalling). I&#39;m having trouble accessing the attributes of the object using the getter methods. Strangely, all the getter methods of the printResult object return null values. However, when I invoke the toString() method, the complete object with all the set values is displayed.\r\n\r\nI&#39;m perplexed about why the getter methods are not returning any values and how I can retrieve the attributes using the getter methods. Any help or suggestions would be greatly appreciated.\r\n\r\nThank you in advance!\r\n\r\n    PrintResultType printResult = PrintResultType.Factory.parse(xmlResponse);  \r\n\r\n    PrintDetailsType[] arr = printResult.getPrintDetailsArray();  \r\n\r\n    log.info(&quot;arr == null: &quot; + (arr == null) + &quot; arr size: &quot; + arr.length);\r\n    // arr == null ? : false arr size 0\r\n\r\n    BaggageType baggageType = printResult.getBaggageType();\r\n    log.info(&quot;BaggageType == null: &quot; + (BaggageType == null));\r\n    // BaggageType == null : true\r\n\r\n    log.info((&quot;Unmarshalled printResult:\\n&quot; + printResult.toString()));\r\n    // The object is logged with all subobjects and array","title":"Difficulty unmarshalling an XML string into an AXIS2/xmlbeans generated object","body":"<p>I am currently facing an issue with converting an XML string into an object generated with AXIS2 and JAXB (unmarshalling). I'm having trouble accessing the attributes of the object using the getter methods. Strangely, all the getter methods of the printResult object return null values. However, when I invoke the toString() method, the complete object with all the set values is displayed.</p>\n<p>I'm perplexed about why the getter methods are not returning any values and how I can retrieve the attributes using the getter methods. Any help or suggestions would be greatly appreciated.</p>\n<p>Thank you in advance!</p>\n<pre><code>PrintResultType printResult = PrintResultType.Factory.parse(xmlResponse);  \n\nPrintDetailsType[] arr = printResult.getPrintDetailsArray();  \n\nlog.info(&quot;arr == null: &quot; + (arr == null) + &quot; arr size: &quot; + arr.length);\n// arr == null ? : false arr size 0\n\nBaggageType baggageType = printResult.getBaggageType();\nlog.info(&quot;BaggageType == null: &quot; + (BaggageType == null));\n// BaggageType == null : true\n\nlog.info((&quot;Unmarshalled printResult:\\n&quot; + printResult.toString()));\n// The object is logged with all subobjects and array\n</code></pre>\n"},{"tags":["java","spring-boot","rest","oauth-2.0","webclient"],"answers":[{"tags":[],"owner":{"account_id":23348247,"reputation":51,"user_id":17422188,"display_name":"Ehsan Abu Lebdeh"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1637018348,"creation_date":1637012387,"answer_id":69981222,"question_id":69290452,"body_markdown":"You can use \r\n\r\n      webClient.get()\r\n      .uri(&quot;http://localhost:8084/retrieve-resource&quot;)\r\n      .attributes(\r\n        ServerOAuth2AuthorizedClientExchangeFilterFunction\r\n          .clientRegistrationId(&quot;bael&quot;))\r\n      .retrieve()\r\n      // ...\r\n\r\nhere is the full code:\r\nhttps://www.baeldung.com/spring-webclient-oauth2\r\n\r\n","title":"WebClient with ClientRegistrationId as request attribute (using OAuth 2.0)","body":"<p>You can use</p>\n<pre><code>  webClient.get()\n  .uri(&quot;http://localhost:8084/retrieve-resource&quot;)\n  .attributes(\n    ServerOAuth2AuthorizedClientExchangeFilterFunction\n      .clientRegistrationId(&quot;bael&quot;))\n  .retrieve()\n  // ...\n</code></pre>\n<p>here is the full code:\n<a href=\"https://www.baeldung.com/spring-webclient-oauth2\" rel=\"noreferrer\">https://www.baeldung.com/spring-webclient-oauth2</a></p>\n"},{"comments":[{"owner":{"account_id":7298493,"reputation":304,"user_id":5562284,"display_name":"nouveu"},"score":0,"creation_date":1664961699,"post_id":71712046,"comment_id":130586294,"body_markdown":"For actual example of this `AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager` see: https://stackoverflow.com/a/67045987/5562284","body":"For actual example of this <code>AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager</code> see: <a href=\"https://stackoverflow.com/a/67045987/5562284\">stackoverflow.com/a/67045987/5562284</a>"}],"tags":[],"owner":{"account_id":3848153,"reputation":41,"user_id":3188964,"display_name":"user3188964"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648842107,"creation_date":1648842107,"answer_id":71712046,"question_id":69290452,"body_markdown":"This is a configuration that you need from the example you mentionned:\r\n\r\nAuthorizedClientServiceReactiveOAuth2AuthorizedClientManager authorizedClientManager \r\n\r\nserverWebExchange cannot be null\r\nis thrown when a webClient call is made triggered by something else than a user action, example kafka event trigger a webClient call, so there is not Request Context.\r\n\r\nAuthorizedClientService... bean is defined to account for webClient call  triggered by events, scheduled tasks threads.\r\n\r\nservice to service communication\r\n\r\n","title":"WebClient with ClientRegistrationId as request attribute (using OAuth 2.0)","body":"<p>This is a configuration that you need from the example you mentionned:</p>\n<p>AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager authorizedClientManager</p>\n<p>serverWebExchange cannot be null\nis thrown when a webClient call is made triggered by something else than a user action, example kafka event trigger a webClient call, so there is not Request Context.</p>\n<p>AuthorizedClientService... bean is defined to account for webClient call  triggered by events, scheduled tasks threads.</p>\n<p>service to service communication</p>\n"}],"owner":{"account_id":15856551,"reputation":71,"user_id":11440806,"display_name":"TimeBandit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2812,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1689491136,"creation_date":1632340236,"question_id":69290452,"body_markdown":"I&#39;m searching for a working example, where I can set the ClientRegistrationId when I add the request attributes to the WebClient. The provided examples by spring.io don&#39;t work for me ([docs.spring.io (5.2.12)][1]).\r\n\r\nWhen I try this example (with default ClientRegistrationId):\r\n\r\n```\r\n@Bean\r\nWebClient webClient(ReactiveClientRegistrationRepository clientRegistrations,\r\n        ServerOAuth2AuthorizedClientRepository authorizedClients) {\r\n    ServerOAuth2AuthorizedClientExchangeFilterFunction oauth =\r\n            new ServerOAuth2AuthorizedClientExchangeFilterFunction(clientRegistrations, authorizedClients);\r\n    // (optional) explicitly opt into using the oauth2Login to provide an access token implicitly\r\n    // oauth.setDefaultOAuth2AuthorizedClient(true);\r\n    // (optional) set a default ClientRegistration.registrationId\r\n    oauth.setDefaultClientRegistrationId(&quot;MyClRegId&quot;);\r\n    return WebClient.builder()\r\n            .filter(oauth)\r\n            .build();\r\n}\r\n```\r\nCalling the endpoint:\r\n```\r\nResponseSpec responseSpec = this.webClient.get().uri(&quot;/NumberOrders&quot;).retrieve();\r\n```\r\nApplication.Properties:\r\n```\r\nspring.security.oauth2.client.registration.MyClRegId.authorization-grant-type=client_credentials\r\nspring.security.oauth2.client.registration.MyClRegId.client-id=myteam\r\nspring.security.oauth2.client.registration.MyClRegId.client-secret=12349875\r\nspring.security.oauth2.client.provider.MyClRegId.token-uri=https://something/token\r\nspring.security.oauth2.client.registration.MyClRegId.scope=OIDC\r\n```\r\n\r\nI&#39;m getting the following error:\r\n\r\n*Caused by: java.lang.IllegalArgumentException: serverWebExchange cannot be null*\r\n\r\nIf I try to set the ClientRegestrationId as a request attribute accordingly the spring.io example ([docs.spring.io (5.2.12)][2]) there occurs another error (The Method clientRegistrationId(String) is undefined ...):\r\n\r\n```\r\nResponseSpec responseSpec = this.webClient\r\n\t\t.get()\r\n\t\t.attributes(clientRegistrationId(&quot;client-id&quot;))\r\n\t\t.uri(&quot;/NumberOrders&quot;)\r\n\t\t.retrieve();\r\n```\r\nThis error is no surprise, because the method really doesn&#39;t exist, but does anybody has an example for such a method? Attributes requires ***Consumer&lt;Map&lt;String, Object&gt;&gt; attributesConsumer*** as input to set ClientRegistrationId. Of course it should work without the first error (*serverWebExchange cannot be null*).\r\n\r\nI found a working setup here [WebClient OAuth2][3] (answer by clocken), but ClientRegistrationId is set in a Bean. I would like to set it, while calling the endpoint. So I can use different configurations (with different ClientRegistrationIds) in my application.properties.\r\n\r\nMaybe there is a way to set ClientRegistrationId while setting up the WebClient.Builder?\r\n\r\nI searched a lot, but I couldn&#39;t find any answer. Thanks for help in advance.\r\n\r\nI&#39;m using this dependencies:\r\n\r\n```\r\n&lt;parent&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.5.4&lt;/version&gt;\r\n\t&lt;relativePath /&gt;\r\n&lt;/parent&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/5.2.12.RELEASE/reference/html/webclient.html#webclient-setup\r\n  [2]: https://docs.spring.io/spring-security/site/docs/5.2.12.RELEASE/reference/html/webclient.html#webclient-clientregistrationid\r\n  [3]: https://stackoverflow.com/a/67045987/11440806","title":"WebClient with ClientRegistrationId as request attribute (using OAuth 2.0)","body":"<p>I'm searching for a working example, where I can set the ClientRegistrationId when I add the request attributes to the WebClient. The provided examples by spring.io don't work for me (<a href=\"https://docs.spring.io/spring-security/site/docs/5.2.12.RELEASE/reference/html/webclient.html#webclient-setup\" rel=\"nofollow noreferrer\">docs.spring.io (5.2.12)</a>).</p>\n<p>When I try this example (with default ClientRegistrationId):</p>\n<pre><code>@Bean\nWebClient webClient(ReactiveClientRegistrationRepository clientRegistrations,\n        ServerOAuth2AuthorizedClientRepository authorizedClients) {\n    ServerOAuth2AuthorizedClientExchangeFilterFunction oauth =\n            new ServerOAuth2AuthorizedClientExchangeFilterFunction(clientRegistrations, authorizedClients);\n    // (optional) explicitly opt into using the oauth2Login to provide an access token implicitly\n    // oauth.setDefaultOAuth2AuthorizedClient(true);\n    // (optional) set a default ClientRegistration.registrationId\n    oauth.setDefaultClientRegistrationId(&quot;MyClRegId&quot;);\n    return WebClient.builder()\n            .filter(oauth)\n            .build();\n}\n</code></pre>\n<p>Calling the endpoint:</p>\n<pre><code>ResponseSpec responseSpec = this.webClient.get().uri(&quot;/NumberOrders&quot;).retrieve();\n</code></pre>\n<p>Application.Properties:</p>\n<pre><code>spring.security.oauth2.client.registration.MyClRegId.authorization-grant-type=client_credentials\nspring.security.oauth2.client.registration.MyClRegId.client-id=myteam\nspring.security.oauth2.client.registration.MyClRegId.client-secret=12349875\nspring.security.oauth2.client.provider.MyClRegId.token-uri=https://something/token\nspring.security.oauth2.client.registration.MyClRegId.scope=OIDC\n</code></pre>\n<p>I'm getting the following error:</p>\n<p><em>Caused by: java.lang.IllegalArgumentException: serverWebExchange cannot be null</em></p>\n<p>If I try to set the ClientRegestrationId as a request attribute accordingly the spring.io example (<a href=\"https://docs.spring.io/spring-security/site/docs/5.2.12.RELEASE/reference/html/webclient.html#webclient-clientregistrationid\" rel=\"nofollow noreferrer\">docs.spring.io (5.2.12)</a>) there occurs another error (The Method clientRegistrationId(String) is undefined ...):</p>\n<pre><code>ResponseSpec responseSpec = this.webClient\n        .get()\n        .attributes(clientRegistrationId(&quot;client-id&quot;))\n        .uri(&quot;/NumberOrders&quot;)\n        .retrieve();\n</code></pre>\n<p>This error is no surprise, because the method really doesn't exist, but does anybody has an example for such a method? Attributes requires <em><strong>Consumer&lt;Map&lt;String, Object&gt;&gt; attributesConsumer</strong></em> as input to set ClientRegistrationId. Of course it should work without the first error (<em>serverWebExchange cannot be null</em>).</p>\n<p>I found a working setup here <a href=\"https://stackoverflow.com/a/67045987/11440806\">WebClient OAuth2</a> (answer by clocken), but ClientRegistrationId is set in a Bean. I would like to set it, while calling the endpoint. So I can use different configurations (with different ClientRegistrationIds) in my application.properties.</p>\n<p>Maybe there is a way to set ClientRegistrationId while setting up the WebClient.Builder?</p>\n<p>I searched a lot, but I couldn't find any answer. Thanks for help in advance.</p>\n<p>I'm using this dependencies:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.5.4&lt;/version&gt;\n    &lt;relativePath /&gt;\n&lt;/parent&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","webclient","spring-security-oauth2"],"comments":[{"owner":{"account_id":3412746,"reputation":2578,"user_id":2862341,"display_name":"Ravindra HV"},"score":1,"creation_date":1626500344,"post_id":68416863,"comment_id":120914788,"body_markdown":"A similar exception has been reported on github - https://github.com/spring-projects/spring-security/issues/8230. May be you could take a look at that and figure out an equivalent approach for your case? Not really an answer. Just a pointer to a potentially helpful hint .","body":"A similar exception has been reported on github - <a href=\"https://github.com/spring-projects/spring-security/issues/8230\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security/issues/8230</a>. May be you could take a look at that and figure out an equivalent approach for your case? Not really an answer. Just a pointer to a potentially helpful hint ."},{"owner":{"account_id":3412746,"reputation":2578,"user_id":2862341,"display_name":"Ravindra HV"},"score":0,"creation_date":1626500583,"post_id":68416863,"comment_id":120914825,"body_markdown":"Another similar looking error on gitmemory - https://www.gitmemory.com/issue/spring-projects/spring-security/8444/621567261. Quote `However, switching the ServerOAuth2AuthorizedClientRepository to a ReactiveOAuth2AuthorizedClientService makes the code run.`","body":"Another similar looking error on gitmemory - <a href=\"https://www.gitmemory.com/issue/spring-projects/spring-security/8444/621567261\" rel=\"nofollow noreferrer\">gitmemory.com/issue/spring-projects/spring-security/8444/&hellip;</a>. Quote <code>However, switching the ServerOAuth2AuthorizedClientRepository to a ReactiveOAuth2AuthorizedClientService makes the code run.</code>"}],"answers":[{"tags":[],"owner":{"account_id":3397610,"reputation":1553,"user_id":2850801,"accept_rate":39,"display_name":"Venu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689490819,"creation_date":1689490819,"answer_id":76697062,"question_id":68416863,"body_markdown":"This is how I impletemented for one of my springboot application which is reactive using webflux, springboot version 2.6.5, and operates outside of the context of a ServerWebExchange, e.g. in a scheduled/background thread and/or in the service-tier. \r\n\r\nThe minimal configurations are:\r\n\r\n\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.http.client.reactive.ReactorClientHttpConnector;\r\n    import org.springframework.security.oauth2.client.*;\r\n    import org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository;\r\n    import org.springframework.security.oauth2.client.web.reactive.function.client.ServerOAuth2AuthorizedClientExchangeFilterFunction;\r\n    import org.springframework.web.reactive.function.client.WebClient;\r\n    \r\n    \r\n    @Configuration\r\n    @Slf4j\r\n    public class MyWebClient {\r\n    \r\n        @Bean\r\n        @Qualifier(&quot;someWebClient&quot;) // -----&gt; 1\r\n        public WebClient someWebClient(ReactiveOAuth2AuthorizedClientManager authorizedClientManager) {\r\n            ServerOAuth2AuthorizedClientExchangeFilterFunction oauth =\r\n                    new ServerOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\r\n            return WebClient.builder().filter(oauth).build();\r\n        }\r\n    \r\n        @Bean\r\n        public ReactiveOAuth2AuthorizedClientManager authorizedClientManager(\r\n                ReactiveClientRegistrationRepository clientRegistrationRepository,\r\n                ReactiveOAuth2AuthorizedClientService authorizedClientService) { // -----&gt; 2, 3\r\n            ReactiveOAuth2AuthorizedClientProvider authorizedClientProvider =\r\n                    ReactiveOAuth2AuthorizedClientProviderBuilder.builder().clientCredentials().build(); // -----&gt; 4\r\n            AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager authorizedClientManager =\r\n                    new AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager(clientRegistrationRepository,\r\n                                                                                     authorizedClientService);\r\n            authorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider); // -----&gt; 5\r\n            return authorizedClientManager;\r\n        }\r\n    }\r\n\r\n\r\n**application.yaml**\r\n\r\n    spring:\r\n      security:\r\n        oauth2:\r\n          client:\r\n            provider:\r\n              my-token-provider:\r\n                token-uri: https://uri-used-to-generate-token\r\n            registration:\r\n              my-token-clientid:\r\n                authorization-grant-type: client_credentials\r\n                client-authentication-method: post\r\n                client-id: clientIdReplacewithYour\r\n                client-secret: clientSecretReplaceWithYour\r\n                provider: my-token-provider\r\n\r\n\r\n**Using webClient:**\r\n\r\n    return webClient\r\n                .method(method)\r\n                .uri(uri)\r\n                .body(Mono.justOrEmpty(requestBody), Object.class)\r\n                .headers(headers)\r\n                .attributes(ServerOAuth2AuthorizedClientExchangeFilterFunction.clientRegistrationId(clientId)) // -----&gt; 6\r\n                .exchangeToMono(responseHandler);\r\n\r\n\r\nsome details as pointed as comments in the above code:\r\n\r\n 1. created the WebClient bean with a qualifier `&quot;someWebClient&quot;` as I want to use that qualifier in another class while injecting\r\n 2. `ReactiveClientRegistrationRepository clientRegistrationRepository` will be auto created and passed by springboot with the default configurations\r\n 3. `ReactiveOAuth2AuthorizedClientService authorizedClientService` will be auto created and passed by springboot with the default configurations\r\n 4. I used the clientCredentials() as I am using machine-machine, AKS operating outside of the context of a ServerWebExchange, AKS without a controller, etc. This line is optional as this already pre-defined in `AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager` class like `private static final ReactiveOAuth2AuthorizedClientProvider DEFAULT_AUTHORIZED_CLIENT_PROVIDER = ReactiveOAuth2AuthorizedClientProviderBuilder.builder().clientCredentials().build();`\r\n 5. `authorizedClientManager.setAuthorizedClientProvider` - use this if you built your own `ReactiveOAuth2AuthorizedClientProvider` and want to use it by default. If you want to use springboot out of the box config, don&#39;t add this and point 4 in the code.\r\n 6. pass the clientId as a parameter - if you have multiple clientId&#39;s in application.yaml, you can send clientId as a parameter. ","title":"Java - Getting &quot;serverWebExchange cannot be null&quot; when sending request using Spring Security WebClient","body":"<p>This is how I impletemented for one of my springboot application which is reactive using webflux, springboot version 2.6.5, and operates outside of the context of a ServerWebExchange, e.g. in a scheduled/background thread and/or in the service-tier.</p>\n<p>The minimal configurations are:</p>\n<pre><code>import lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.client.reactive.ReactorClientHttpConnector;\nimport org.springframework.security.oauth2.client.*;\nimport org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository;\nimport org.springframework.security.oauth2.client.web.reactive.function.client.ServerOAuth2AuthorizedClientExchangeFilterFunction;\nimport org.springframework.web.reactive.function.client.WebClient;\n\n\n@Configuration\n@Slf4j\npublic class MyWebClient {\n\n    @Bean\n    @Qualifier(&quot;someWebClient&quot;) // -----&gt; 1\n    public WebClient someWebClient(ReactiveOAuth2AuthorizedClientManager authorizedClientManager) {\n        ServerOAuth2AuthorizedClientExchangeFilterFunction oauth =\n                new ServerOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\n        return WebClient.builder().filter(oauth).build();\n    }\n\n    @Bean\n    public ReactiveOAuth2AuthorizedClientManager authorizedClientManager(\n            ReactiveClientRegistrationRepository clientRegistrationRepository,\n            ReactiveOAuth2AuthorizedClientService authorizedClientService) { // -----&gt; 2, 3\n        ReactiveOAuth2AuthorizedClientProvider authorizedClientProvider =\n                ReactiveOAuth2AuthorizedClientProviderBuilder.builder().clientCredentials().build(); // -----&gt; 4\n        AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager authorizedClientManager =\n                new AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager(clientRegistrationRepository,\n                                                                                 authorizedClientService);\n        authorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider); // -----&gt; 5\n        return authorizedClientManager;\n    }\n}\n</code></pre>\n<p><strong>application.yaml</strong></p>\n<pre><code>spring:\n  security:\n    oauth2:\n      client:\n        provider:\n          my-token-provider:\n            token-uri: https://uri-used-to-generate-token\n        registration:\n          my-token-clientid:\n            authorization-grant-type: client_credentials\n            client-authentication-method: post\n            client-id: clientIdReplacewithYour\n            client-secret: clientSecretReplaceWithYour\n            provider: my-token-provider\n</code></pre>\n<p><strong>Using webClient:</strong></p>\n<pre><code>return webClient\n            .method(method)\n            .uri(uri)\n            .body(Mono.justOrEmpty(requestBody), Object.class)\n            .headers(headers)\n            .attributes(ServerOAuth2AuthorizedClientExchangeFilterFunction.clientRegistrationId(clientId)) // -----&gt; 6\n            .exchangeToMono(responseHandler);\n</code></pre>\n<p>some details as pointed as comments in the above code:</p>\n<ol>\n<li>created the WebClient bean with a qualifier <code>&quot;someWebClient&quot;</code> as I want to use that qualifier in another class while injecting</li>\n<li><code>ReactiveClientRegistrationRepository clientRegistrationRepository</code> will be auto created and passed by springboot with the default configurations</li>\n<li><code>ReactiveOAuth2AuthorizedClientService authorizedClientService</code> will be auto created and passed by springboot with the default configurations</li>\n<li>I used the clientCredentials() as I am using machine-machine, AKS operating outside of the context of a ServerWebExchange, AKS without a controller, etc. This line is optional as this already pre-defined in <code>AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager</code> class like <code>private static final ReactiveOAuth2AuthorizedClientProvider DEFAULT_AUTHORIZED_CLIENT_PROVIDER = ReactiveOAuth2AuthorizedClientProviderBuilder.builder().clientCredentials().build();</code></li>\n<li><code>authorizedClientManager.setAuthorizedClientProvider</code> - use this if you built your own <code>ReactiveOAuth2AuthorizedClientProvider</code> and want to use it by default. If you want to use springboot out of the box config, don't add this and point 4 in the code.</li>\n<li>pass the clientId as a parameter - if you have multiple clientId's in application.yaml, you can send clientId as a parameter.</li>\n</ol>\n"}],"owner":{"account_id":5723452,"reputation":1656,"user_id":4521196,"accept_rate":58,"display_name":"jlp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1742,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1689490819,"creation_date":1626487387,"question_id":68416863,"body_markdown":"I am getting &quot;serverWebExchange cannot be null&quot; when sending request using Spring Security WebClient. Here is my configuration class:\r\n\r\n    @Configuration\r\n    public class myonfig {\r\n      @Bean\r\n      ReactiveClientRegistrationRepository clientRegistrations() {\r\n        ClientRegistration registration = \r\n          ClientRegistration.withRegistrationId(&quot;authProvider&quot;)\r\n                            .tokenUri(tokenUri)\r\n                            .clientId(clientId)\r\n                            .clientSecret(clientSecret)\r\n                            .scope(scope)\r\n                            .authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS)\r\n                            .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_POST)\r\n                            .build();\r\n        \r\n          return new InMemoryReactiveClientRegistrationRepository(registration);\r\n          }\r\n\r\n        @Bean(name = &quot;mybean&quot;)\r\n        WebClient webClient(ReactiveClientRegistrationRepository clientRegistrations) {\r\n\r\n        InMemoryReactiveOAuth2AuthorizedClientService clientService = \r\n           new InMemoryReactiveOAuth2AuthorizedClientService(clientRegistrations);\r\n\r\n        ServerOAuth2AuthorizedClientExchangeFilterFunction oauth = new \r\n           ServerOAuth2AuthorizedClientExchangeFilterFunction(clientRegistrations,\r\n                                                                                                                          new AuthenticatedPrincipalServerOAuth2AuthorizedClientRepository(clientService));\r\n\r\n        oauth.setDefaultClientRegistrationId(&quot;authProvider&quot;);\r\n\r\n        return WebClient.builder()\r\n                        .filter(oauth)                     \r\n                        .defaultHeaders(httpHeaders -&gt; {\r\n                            httpHeaders.setContentType(MediaType.APPLICATION_JSON);\r\n                            httpHeaders.setAccept(List.of(MediaType.APPLICATION_JSON));\r\n                        })\r\n                        .build();\r\n     }\r\n\r\n   And the class making the call:\r\n\r\n    {\r\n       ResponseEntity&lt;String&gt; responseEntity;\r\n        try {\r\n            responseEntity = webClient.post()\r\n                    .uri(url)\r\n                    .body(BodyInserters.fromValue(valueString))\r\n                    .retrieve()\r\n                    .toEntity(String.class)\r\n                    .block();\r\n      }\r\n\r\n   Tried to do some research on serverWebExchange, but didn&#39;t find how to use it.  Can someone please let me know why I am getting this error. Thanks.","title":"Java - Getting &quot;serverWebExchange cannot be null&quot; when sending request using Spring Security WebClient","body":"<p>I am getting &quot;serverWebExchange cannot be null&quot; when sending request using Spring Security WebClient. Here is my configuration class:</p>\n<pre><code>@Configuration\npublic class myonfig {\n  @Bean\n  ReactiveClientRegistrationRepository clientRegistrations() {\n    ClientRegistration registration = \n      ClientRegistration.withRegistrationId(&quot;authProvider&quot;)\n                        .tokenUri(tokenUri)\n                        .clientId(clientId)\n                        .clientSecret(clientSecret)\n                        .scope(scope)\n                        .authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS)\n                        .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_POST)\n                        .build();\n    \n      return new InMemoryReactiveClientRegistrationRepository(registration);\n      }\n\n    @Bean(name = &quot;mybean&quot;)\n    WebClient webClient(ReactiveClientRegistrationRepository clientRegistrations) {\n\n    InMemoryReactiveOAuth2AuthorizedClientService clientService = \n       new InMemoryReactiveOAuth2AuthorizedClientService(clientRegistrations);\n\n    ServerOAuth2AuthorizedClientExchangeFilterFunction oauth = new \n       ServerOAuth2AuthorizedClientExchangeFilterFunction(clientRegistrations,\n                                                                                                                      new AuthenticatedPrincipalServerOAuth2AuthorizedClientRepository(clientService));\n\n    oauth.setDefaultClientRegistrationId(&quot;authProvider&quot;);\n\n    return WebClient.builder()\n                    .filter(oauth)                     \n                    .defaultHeaders(httpHeaders -&gt; {\n                        httpHeaders.setContentType(MediaType.APPLICATION_JSON);\n                        httpHeaders.setAccept(List.of(MediaType.APPLICATION_JSON));\n                    })\n                    .build();\n }\n</code></pre>\n<p>And the class making the call:</p>\n<pre><code>{\n   ResponseEntity&lt;String&gt; responseEntity;\n    try {\n        responseEntity = webClient.post()\n                .uri(url)\n                .body(BodyInserters.fromValue(valueString))\n                .retrieve()\n                .toEntity(String.class)\n                .block();\n  }\n</code></pre>\n<p>Tried to do some research on serverWebExchange, but didn't find how to use it.  Can someone please let me know why I am getting this error. Thanks.</p>\n"},{"tags":["java","spring-boot","docker","intellij-idea","docker-image"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1689579396,"post_id":76697058,"comment_id":135227792,"body_markdown":"Please upload your project at https://uploads.jetbrains.com and share the UploadID here. I&#39;ve checked the guide above from my side and it worked fine. Ensure the you completed all the steps from the guide","body":"Please upload your project at <a href=\"https://uploads.jetbrains.com\" rel=\"nofollow noreferrer\">uploads.jetbrains.com</a> and share the UploadID here. I&#39;ve checked the guide above from my side and it worked fine. Ensure the you completed all the steps from the guide"}],"owner":{"account_id":29026448,"reputation":1,"user_id":22234485,"display_name":"subhransu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689490722,"creation_date":1689490722,"question_id":76697058,"body_markdown":"I am trying to containerize one application using docker. But getting java.lang.NullPointerException while running the dockerfile. Can anyone please help in resolving it?\r\n\r\n[Project Structure](https://i.stack.imgur.com/yaHCV.png)\r\n\r\n**Helloworld.java**\r\n-------------------\r\n\r\n```\r\npublic class HelloWorld {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello, World!&quot;);\r\n    }\r\n}\r\n```\r\n\r\n**Dockerfile**\r\n----------------\r\n```\r\nFROM amazoncorretto:11.0.14\r\nCOPY ./out/production/DockerHelloWorld/ /tmp\r\nWORKDIR /tmp\r\nENTRYPOINT [&quot;java&quot;,&quot;HelloWorld&quot;]\r\n```\r\n\r\n[Response while running the dockerfile](https://i.stack.imgur.com/pzuUl.png)\r\n\r\n\r\nI am trying to follow below link [https://www.jetbrains.com/help/idea/dockerize-java-app.html#run_java_app_in_container][Dockerize a java application](https://www.jetbrains.com/help/idea/dockerize-java-app.html#run_java_app_in_container)","title":"Unable to create docker image in intellij","body":"<p>I am trying to containerize one application using docker. But getting java.lang.NullPointerException while running the dockerfile. Can anyone please help in resolving it?</p>\n<p><a href=\"https://i.stack.imgur.com/yaHCV.png\" rel=\"nofollow noreferrer\">Project Structure</a></p>\n<h2><strong>Helloworld.java</strong></h2>\n<pre><code>public class HelloWorld {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello, World!&quot;);\n    }\n}\n</code></pre>\n<h2><strong>Dockerfile</strong></h2>\n<pre><code>FROM amazoncorretto:11.0.14\nCOPY ./out/production/DockerHelloWorld/ /tmp\nWORKDIR /tmp\nENTRYPOINT [&quot;java&quot;,&quot;HelloWorld&quot;]\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/pzuUl.png\" rel=\"nofollow noreferrer\">Response while running the dockerfile</a></p>\n<p>I am trying to follow below link [https://www.jetbrains.com/help/idea/dockerize-java-app.html#run_java_app_in_container]<a href=\"https://www.jetbrains.com/help/idea/dockerize-java-app.html#run_java_app_in_container\" rel=\"nofollow noreferrer\">Dockerize a java application</a></p>\n"},{"tags":["java","selenium-chromedriver"],"owner":{"account_id":3762699,"reputation":1446,"user_id":3127144,"accept_rate":56,"display_name":"iCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689490277,"creation_date":1689490277,"question_id":76697032,"body_markdown":"**Need:** To download CSV file from website - [Link][1]. I am using Selenium to simulate the browser behavior as the download file is controlled by a Javascript\r\n\r\n**Issue:** The download works fine a few times, but throws an error (Access Denied) as per attached image on other times. \r\n[![enter image description here][2]][2]\r\n\r\nI am unable to figure out, why it works sometimes &amp; on other occasions it issues error, although I do not change anything. Hope the issue faced is clear, await inputs on what might be causing this &amp; if I can do anything to fix it at my end.\r\n\r\n**Code:**\r\n\r\n    public static void main(String[] args) {\r\n            String url = &quot;https://www.nseindia.com/companies-listing/corporate-filings-event-calendar&quot;;\r\n            String elementId = &quot;CFeventCalendar-download&quot;;\r\n    \r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;path_to_chromedriver&quot;);\r\n            WebDriver driver = new ChromeDriver();\r\n    \r\n            try {\r\n                driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n    \r\n                driver.get(url);\r\n    \r\n                // Find the element with the specified ID\r\n                driver.findElement(By.id(elementId)).click();\r\n    \r\n                // Add a small delay to let the download start\r\n                Thread.sleep(5000);\r\n    \r\n                System.out.println(&quot;File downloaded successfully!&quot;);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                driver.quit();\r\n            }\r\n        }\r\n\r\n\r\n  [1]: https://www.nseindia.com/companies-listing/corporate-filings-event-calendar\r\n  [2]: https://i.stack.imgur.com/4hw6g.png","title":"Selenium - Issue with download of file","body":"<p><strong>Need:</strong> To download CSV file from website - <a href=\"https://www.nseindia.com/companies-listing/corporate-filings-event-calendar\" rel=\"nofollow noreferrer\">Link</a>. I am using Selenium to simulate the browser behavior as the download file is controlled by a Javascript</p>\n<p><strong>Issue:</strong> The download works fine a few times, but throws an error (Access Denied) as per attached image on other times.\n<a href=\"https://i.stack.imgur.com/4hw6g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4hw6g.png\" alt=\"enter image description here\" /></a></p>\n<p>I am unable to figure out, why it works sometimes &amp; on other occasions it issues error, although I do not change anything. Hope the issue faced is clear, await inputs on what might be causing this &amp; if I can do anything to fix it at my end.</p>\n<p><strong>Code:</strong></p>\n<pre><code>public static void main(String[] args) {\n        String url = &quot;https://www.nseindia.com/companies-listing/corporate-filings-event-calendar&quot;;\n        String elementId = &quot;CFeventCalendar-download&quot;;\n\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;path_to_chromedriver&quot;);\n        WebDriver driver = new ChromeDriver();\n\n        try {\n            driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n\n            driver.get(url);\n\n            // Find the element with the specified ID\n            driver.findElement(By.id(elementId)).click();\n\n            // Add a small delay to let the download start\n            Thread.sleep(5000);\n\n            System.out.println(&quot;File downloaded successfully!&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            driver.quit();\n        }\n    }\n</code></pre>\n"},{"tags":["java","excel","spring-mvc","testing","file-upload"],"comments":[{"owner":{"account_id":2218864,"reputation":416,"user_id":1958835,"accept_rate":100,"display_name":"Igorovics"},"score":0,"creation_date":1689236673,"post_id":76671676,"comment_id":135185625,"body_markdown":"Have you tried the example from the Github page? See https://github.com/jupiter-tools/mvc-requester#upload-the-multipartfile link.","body":"Have you tried the example from the Github page? See <a href=\"https://github.com/jupiter-tools/mvc-requester#upload-the-multipartfile\" rel=\"nofollow noreferrer\">github.com/jupiter-tools/mvc-requester#upload-the-multipartf&zwnj;&#8203;ile</a> link."},{"owner":{"account_id":29003101,"reputation":11,"user_id":22216282,"display_name":"EvoMGenius"},"score":0,"creation_date":1689488958,"post_id":76671676,"comment_id":135218757,"body_markdown":"@Igorovics yeah, i tried.\nThank you for some attention. I resolve this problem)","body":"@Igorovics yeah, i tried. Thank you for some attention. I resolve this problem)"}],"answers":[{"tags":[],"owner":{"account_id":29003101,"reputation":11,"user_id":22216282,"display_name":"EvoMGenius"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689489337,"creation_date":1689489337,"answer_id":76696989,"question_id":76671676,"body_markdown":"            byte[] response = MvcRequester.on(mockMvc)\r\n                                      .to(&quot;/api/reports/complaints/full&quot;)\r\n                                      .get()\r\n                                      .doExpect(status().isOk())\r\n                                      .returnResponse()\r\n                                      .getContentAsByteArray();\r\n\r\nchange dependency to (before i used not this dependency, it was custom dependency with same appointment)\r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jupiter-tools&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mvc-requester&lt;/artifactId&gt;\r\n            &lt;version&gt;0.4&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThen i got response as byte array, i can compare it with expected file as i wish. ","title":"testing excel-file download by request","body":"<pre><code>        byte[] response = MvcRequester.on(mockMvc)\n                                  .to(&quot;/api/reports/complaints/full&quot;)\n                                  .get()\n                                  .doExpect(status().isOk())\n                                  .returnResponse()\n                                  .getContentAsByteArray();\n</code></pre>\n<p>change dependency to (before i used not this dependency, it was custom dependency with same appointment)</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;com.jupiter-tools&lt;/groupId&gt;\n        &lt;artifactId&gt;mvc-requester&lt;/artifactId&gt;\n        &lt;version&gt;0.4&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Then i got response as byte array, i can compare it with expected file as i wish.</p>\n"}],"owner":{"account_id":29003101,"reputation":11,"user_id":22216282,"display_name":"EvoMGenius"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76696989,"answer_count":1,"score":1,"last_activity_date":1689489337,"creation_date":1689172137,"question_id":76671676,"body_markdown":"```\r\n MvcRequester.on(mockMvc)\r\n             .to(&quot;/api/reports/complaints/full&quot;)                                        \r\n             .get()\r\n             .doExpect(status().isOk())\r\n             .returnAs(MultipartFile.class); //drop here, tried to use File, InputStream, FileInputStream\r\n```\r\n\r\nI this is the part of the test that makes sending the request to the endpoint. An excel file comes from this endpoint. Please tell me how to write the response into a variable.  \r\n[here is response body and exception](https://i.stack.imgur.com/rxL8I.png).   \r\nI use custom library for inject file into response. It&#39;s work correct 100%.  \r\n  \r\nHere is end of controller method with adding file into response\r\n\r\n```\r\n@GetMapping(&quot;/complaints/full&quot;)\r\n    @ResponseBody\r\n    public void getComplaintsFullReport(SearchComplaintDto dto,\r\n                                        HttpServletResponse servletResponse) {\r\n\r\n        SearchComplaintArgument argument = complaintMapper.toSearchArgument(dto);\r\n\r\n        File file = buildComplaintsReportAction.execute(argument);\r\n        FileResponse.builder()\r\n                    .file(file)\r\n                    .filename(&quot;Report_&quot;\r\n                                      .concat(LocalDateTime.now().format(DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy_HH.mm&quot;)))\r\n                                      .concat(&quot;.xlsx&quot;))\r\n                    .mimeType(&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;)\r\n                    .response(servletResponse)\r\n                    .build();\r\n    }\r\n```\r\n\r\nAnswer to the question &quot;How can i write the response into a variable?&quot;.","title":"testing excel-file download by request","body":"<pre><code> MvcRequester.on(mockMvc)\n             .to(&quot;/api/reports/complaints/full&quot;)                                        \n             .get()\n             .doExpect(status().isOk())\n             .returnAs(MultipartFile.class); //drop here, tried to use File, InputStream, FileInputStream\n</code></pre>\n<p>I this is the part of the test that makes sending the request to the endpoint. An excel file comes from this endpoint. Please tell me how to write the response into a variable.<br />\n<a href=\"https://i.stack.imgur.com/rxL8I.png\" rel=\"nofollow noreferrer\">here is response body and exception</a>.<br />\nI use custom library for inject file into response. It's work correct 100%.</p>\n<p>Here is end of controller method with adding file into response</p>\n<pre><code>@GetMapping(&quot;/complaints/full&quot;)\n    @ResponseBody\n    public void getComplaintsFullReport(SearchComplaintDto dto,\n                                        HttpServletResponse servletResponse) {\n\n        SearchComplaintArgument argument = complaintMapper.toSearchArgument(dto);\n\n        File file = buildComplaintsReportAction.execute(argument);\n        FileResponse.builder()\n                    .file(file)\n                    .filename(&quot;Report_&quot;\n                                      .concat(LocalDateTime.now().format(DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy_HH.mm&quot;)))\n                                      .concat(&quot;.xlsx&quot;))\n                    .mimeType(&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;)\n                    .response(servletResponse)\n                    .build();\n    }\n</code></pre>\n<p>Answer to the question &quot;How can i write the response into a variable?&quot;.</p>\n"},{"tags":["java","android","react-native","expo","android-gradle-plugin"],"comments":[{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":1,"creation_date":1689375835,"post_id":76691534,"comment_id":135209923,"body_markdown":"Include the full stack trace. That&#39;s will tell you and us what is actually creating the PendingIntent","body":"Include the full stack trace. That&#39;s will tell you and us what is actually creating the PendingIntent"}],"answers":[{"tags":[],"owner":{"account_id":11159794,"reputation":1257,"user_id":8190327,"display_name":"Abdullah Z Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689488958,"creation_date":1689488958,"answer_id":76696964,"question_id":76691534,"body_markdown":"If you are using firebase to handle custom/data messages for notifications, please check android source code for any pending intent calls.","title":"My app throws this error: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified... How can I solve it?","body":"<p>If you are using firebase to handle custom/data messages for notifications, please check android source code for any pending intent calls.</p>\n"}],"owner":{"account_id":26397459,"reputation":1,"user_id":20048389,"display_name":"Armando Neto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689488958,"creation_date":1689375775,"question_id":76691534,"body_markdown":"I&#39;m facing the above error on my app, developed with React Native and builded with Expo and gradlew. Tried some of the solutions available on internet, like: \r\n\r\n\r\n```gradlew\r\ndependencies {\r\n  // ...\r\n  implementation &#39;androidx.work:work-runtime-ktx:2.7.0&#39;\r\n}\r\n```\r\n\r\nBut it doesn&#180;t work...\r\n\r\nTried a bunch of solutions, some displayed on this topic: https://stackoverflow.com/questions/70894168/targeting-s-version-31-and-above-requires-that-one-of-flag-immutable-or-flag","title":"My app throws this error: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified... How can I solve it?","body":"<p>I'm facing the above error on my app, developed with React Native and builded with Expo and gradlew. Tried some of the solutions available on internet, like:</p>\n<pre><code>dependencies {\n  // ...\n  implementation 'androidx.work:work-runtime-ktx:2.7.0'\n}\n</code></pre>\n<p>But it doesn´t work...</p>\n<p>Tried a bunch of solutions, some displayed on this topic: <a href=\"https://stackoverflow.com/questions/70894168/targeting-s-version-31-and-above-requires-that-one-of-flag-immutable-or-flag\">Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified</a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7861,"page":307,"page_size":100}
