{"items":[{"tags":["java","spring","intellij-idea","junit"],"comments":[{"owner":{"account_id":2279106,"reputation":9588,"user_id":2004685,"accept_rate":69,"display_name":"user2004685"},"score":1,"creation_date":1465373435,"post_id":37696742,"comment_id":62868672,"body_markdown":"I don&#39;t think that is possible. JUnit will load the context for every new cycle of JUnit.","body":"I don&#39;t think that is possible. JUnit will load the context for every new cycle of JUnit."},{"owner":{"account_id":2260035,"reputation":2448,"user_id":1990359,"display_name":"Sangram Jadhav"},"score":0,"creation_date":1465373780,"post_id":37696742,"comment_id":62868844,"body_markdown":"You can use Test Suite to club require test cases and execute that test suite","body":"You can use Test Suite to club require test cases and execute that test suite"},{"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"score":0,"creation_date":1665687058,"post_id":37696742,"comment_id":130763412,"body_markdown":"In case you wanna participate in the discussion https://github.com/spring-projects/spring-boot/issues/32686","body":"In case you wanna participate in the discussion <a href=\"https://github.com/spring-projects/spring-boot/issues/32686\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/32686</a>"}],"answers":[{"tags":[],"owner":{"account_id":339595,"reputation":956,"user_id":669159,"display_name":"mommcilo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636980514,"creation_date":1636980514,"answer_id":69974642,"question_id":37696742,"body_markdown":"Long time ago without answer, which is strange, and this is very important to know because it can save a lot of resources and time.\r\n\r\nIf you have one class with annotation \r\n\r\n    @SpringBootTest\r\n    public class IntegrationTest\r\n\r\nAnd you extend it to all your Test classes context will be loaded only once\r\n\r\n    public class ServiceIntegationTest extends IntegrationTest\r\n\r\nAll tests in this class will use same context. Also all classes that extend this class will reuse same context. ","title":"How keep spring context loaded between test runs in Intellij Idea?","body":"<p>Long time ago without answer, which is strange, and this is very important to know because it can save a lot of resources and time.</p>\n<p>If you have one class with annotation</p>\n<pre><code>@SpringBootTest\npublic class IntegrationTest\n</code></pre>\n<p>And you extend it to all your Test classes context will be loaded only once</p>\n<pre><code>public class ServiceIntegationTest extends IntegrationTest\n</code></pre>\n<p>All tests in this class will use same context. Also all classes that extend this class will reuse same context.</p>\n"},{"tags":[],"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665578458,"creation_date":1665578458,"answer_id":74041996,"question_id":37696742,"body_markdown":"Probably not the cleanest solution, but this works just fine.\r\n1. Create a Spring-Boot application in tests which more or less represents the main application (in terms of configurations):\r\n```kotlin\r\n// In a different package from the main application\r\n// The `scanBasePackages` is the same as the main application!\r\n@SpringBootApplication(scanBasePackages = [&quot;com.example.api&quot;])\r\nclass TestApplication {\r\n    companion object {\r\n        @JvmStatic // main method to be able to run it in IDEs\r\n        fun main(args: Array&lt;String&gt;) {\r\n            runApplication&lt;TestApplication&gt;(*args)\r\n        }\r\n    }\r\n}\r\n```\r\n2. Create another *thin* Spring Boot application in which create and publish  the above application as a bean:\r\n```kotlin\r\n// In a different package from to the above\r\n// Ideally this should almost exclude every Spring configurations\r\n// in the classpath (they should be loaded in the above application)\r\n@SpringBootApplication\r\nclass TestApplicationLoader {\r\n\r\n    @Value(&quot;\\${test-subject.context.load:true}&quot;)\r\n    private var loadContext = false\r\n\r\n    @Bean\r\n    fun testSubject(): Closeable {\r\n        return if (loadContext) {\r\n            val environment = StandardEnvironment()\r\n            val sa = SpringApplication(TestApplication::class.java)\r\n            sa.run()\r\n        } else { // it&#39;s loaded by the IDE or Gradle!\r\n            Closeable {}\r\n        }\r\n    }\r\n}\r\n```\r\n3. Finally, add your normal Spring Boot test:\r\n```kotlin\r\n// If you make TestApplicationLoader as thin as possible\r\n// this should take around one second or two to complete!\r\n@SpringBootTest(classes = [TestApplicationLoader::class])\r\nclass MyControllerTest : StringSpec() {\r\n    override fun extensions() = listOf(SpringExtension)\r\n\r\n    @Autowired\r\n    lateinit var testRestTemplate: TestRestTemplate\r\n\r\n    init {\r\n        &quot;test&quot; {\r\n            val res = testRestTemplate.getForObject(&quot;http://localhost:8081/hello&quot;, String::class.java)\r\n            res shouldBe &quot;mocked in test-application&quot;\r\n        }\r\n    }\r\n}\r\n```\r\nThere&#39;s a few things to note/improve with this approach:\r\n1. It requires good discipline in the team with respect to codebase maintenance; where to put integration tests, Spring configurations, beans, etc. You could easily end up with a messed up context with unwanted beans.\r\n2. It&#39;s not straightforward how to deal with environments, profiles, and properties.\r\n3. Accessing beans created in the main application context is a challenge. (For example to JDBC data source beans.)\r\n4. What to do with shared resources (e.g. ports) is a (not-so-hard) question.\r\n5. Support for Gradle Continues Build requires a bit of configuration in the build script.\r\n\r\n\r\nI&#39;ve created a sample project [here][1] as a proof of concept.  \r\n(The fact that no one has dealt with this issue is just mind-boggling. Looking forward to official and/or better solutions)\r\n\r\n\r\n  [1]: https://github.com/akefirad/spring-boot-integration-test","title":"How keep spring context loaded between test runs in Intellij Idea?","body":"<p>Probably not the cleanest solution, but this works just fine.</p>\n<ol>\n<li>Create a Spring-Boot application in tests which more or less represents the main application (in terms of configurations):</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// In a different package from the main application\n// The `scanBasePackages` is the same as the main application!\n@SpringBootApplication(scanBasePackages = [&quot;com.example.api&quot;])\nclass TestApplication {\n    companion object {\n        @JvmStatic // main method to be able to run it in IDEs\n        fun main(args: Array&lt;String&gt;) {\n            runApplication&lt;TestApplication&gt;(*args)\n        }\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Create another <em>thin</em> Spring Boot application in which create and publish  the above application as a bean:</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// In a different package from to the above\n// Ideally this should almost exclude every Spring configurations\n// in the classpath (they should be loaded in the above application)\n@SpringBootApplication\nclass TestApplicationLoader {\n\n    @Value(&quot;\\${test-subject.context.load:true}&quot;)\n    private var loadContext = false\n\n    @Bean\n    fun testSubject(): Closeable {\n        return if (loadContext) {\n            val environment = StandardEnvironment()\n            val sa = SpringApplication(TestApplication::class.java)\n            sa.run()\n        } else { // it's loaded by the IDE or Gradle!\n            Closeable {}\n        }\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Finally, add your normal Spring Boot test:</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// If you make TestApplicationLoader as thin as possible\n// this should take around one second or two to complete!\n@SpringBootTest(classes = [TestApplicationLoader::class])\nclass MyControllerTest : StringSpec() {\n    override fun extensions() = listOf(SpringExtension)\n\n    @Autowired\n    lateinit var testRestTemplate: TestRestTemplate\n\n    init {\n        &quot;test&quot; {\n            val res = testRestTemplate.getForObject(&quot;http://localhost:8081/hello&quot;, String::class.java)\n            res shouldBe &quot;mocked in test-application&quot;\n        }\n    }\n}\n</code></pre>\n<p>There's a few things to note/improve with this approach:</p>\n<ol>\n<li>It requires good discipline in the team with respect to codebase maintenance; where to put integration tests, Spring configurations, beans, etc. You could easily end up with a messed up context with unwanted beans.</li>\n<li>It's not straightforward how to deal with environments, profiles, and properties.</li>\n<li>Accessing beans created in the main application context is a challenge. (For example to JDBC data source beans.)</li>\n<li>What to do with shared resources (e.g. ports) is a (not-so-hard) question.</li>\n<li>Support for Gradle Continues Build requires a bit of configuration in the build script.</li>\n</ol>\n<p>I've created a sample project <a href=\"https://github.com/akefirad/spring-boot-integration-test\" rel=\"nofollow noreferrer\">here</a> as a proof of concept.<br />\n(The fact that no one has dealt with this issue is just mind-boggling. Looking forward to official and/or better solutions)</p>\n"}],"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1067,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1665578458,"creation_date":1465373302,"question_id":37696742,"body_markdown":"[Spring-test][1] provides annotation for loading spring context during test runs. For example  there is a `org.springframework.test.context.junit4.SpringJUnit4ClassRunner` junit runner class and `org.springframework.test.context.ContextConfiguration` annotation for specify context loading. For integration tests context loading can be quite long and during debugging it is needed to run same test dozen times until it &quot;lose&quot; all it&#39;s errors. Is there a way to do so without loading context multiple times? For example I finished debugging context loading, then run that context and start running test in intellij idea? Is that possible with Intellij Idea?\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/testing.html","title":"How keep spring context loaded between test runs in Intellij Idea?","body":"<p><a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/testing.html\" rel=\"noreferrer\">Spring-test</a> provides annotation for loading spring context during test runs. For example  there is a <code>org.springframework.test.context.junit4.SpringJUnit4ClassRunner</code> junit runner class and <code>org.springframework.test.context.ContextConfiguration</code> annotation for specify context loading. For integration tests context loading can be quite long and during debugging it is needed to run same test dozen times until it \"lose\" all it's errors. Is there a way to do so without loading context multiple times? For example I finished debugging context loading, then run that context and start running test in intellij idea? Is that possible with Intellij Idea?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":1,"creation_date":1645031608,"post_id":71146205,"comment_id":125764414,"body_markdown":"Does this answer your question? [How do I read a resource file from a Java jar file?](https://stackoverflow.com/questions/403256/how-do-i-read-a-resource-file-from-a-java-jar-file)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/403256/how-do-i-read-a-resource-file-from-a-java-jar-file\">How do I read a resource file from a Java jar file?</a>"},{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1645034143,"post_id":71146205,"comment_id":125765413,"body_markdown":"Please format at least your code properly, read [help/formatting](https://stackoverflow.com/help/formatting)","body":"Please format at least your code properly, read <a href=\"https://stackoverflow.com/help/formatting\">help/formatting</a>"}],"answers":[{"tags":[],"owner":{"account_id":3436137,"reputation":1,"user_id":2879232,"display_name":"Satz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665578302,"creation_date":1665578076,"answer_id":74041910,"question_id":71146205,"body_markdown":"Use `getResourceAsStream` as Stream to load the files. \r\n```\r\ngetClass().getClassLoader().getResourceAsStream(&quot;fileName&quot;)\r\n```\r\n\r\nWhen packaged as a jar, we won&#39;t be able to read it using the `getResource` method as it is not in the file system. Maintain metadata for the files and use `getResourceAsStream` to read it.","title":"copy directory and sub directories from a jar file","body":"<p>Use <code>getResourceAsStream</code> as Stream to load the files.</p>\n<pre><code>getClass().getClassLoader().getResourceAsStream(&quot;fileName&quot;)\n</code></pre>\n<p>When packaged as a jar, we won't be able to read it using the <code>getResource</code> method as it is not in the file system. Maintain metadata for the files and use <code>getResourceAsStream</code> to read it.</p>\n"}],"owner":{"account_id":24278604,"reputation":1,"user_id":18225516,"display_name":"roovs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665578302,"creation_date":1645031141,"question_id":71146205,"body_markdown":"I have a template folder(with files and sub folders) under the resources folder. I need to copy the entire template folder(with all files and sub folders) to another location.\r\nI was able to do it by using below line of code:\r\n\r\nFileUtils.copyDirectory(new file(this.getClass().getClassLoader().getResource(&quot;templates&quot;).getFile()), new File(destination));\r\n\r\nIt works fine when running from IDE, but getting FileNotFoundException when I am running the jar. I found many answers when tried to look for options and tried a few, but they did not work for me. Can someone help me if you know something that worked for you. \r\n\r\nMy template folder is structured as below inside the jar:\r\n\r\n-com       [all my classes are under this path]\r\n\r\n-templates [I want to copy this(including all files with sub-folders to a diff location)]\r\n\r\n-META-INF\r\n\r\n    \r\n ","title":"copy directory and sub directories from a jar file","body":"<p>I have a template folder(with files and sub folders) under the resources folder. I need to copy the entire template folder(with all files and sub folders) to another location.\nI was able to do it by using below line of code:</p>\n<p>FileUtils.copyDirectory(new file(this.getClass().getClassLoader().getResource(&quot;templates&quot;).getFile()), new File(destination));</p>\n<p>It works fine when running from IDE, but getting FileNotFoundException when I am running the jar. I found many answers when tried to look for options and tried a few, but they did not work for me. Can someone help me if you know something that worked for you.</p>\n<p>My template folder is structured as below inside the jar:</p>\n<p>-com       [all my classes are under this path]</p>\n<p>-templates [I want to copy this(including all files with sub-folders to a diff location)]</p>\n<p>-META-INF</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":13276916,"reputation":66,"user_id":9585941,"display_name":"liad horovitz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665578291,"creation_date":1665578291,"answer_id":74041959,"question_id":74041178,"body_markdown":"There are many ways to implement it.\r\nOne way to do so is:\r\nIf I understood correctly and you want to achieve that by using Minus &amp; Plus buttons, you should create a global **counter** - (`int adultCounter;`) and then increment his value with each click (on the **adultPlus** button, of course)\r\nYou should set the **adultfinalCount** text value to this adultCounter value (as a String).\r\nThen, you&#39;ll be able to condition this value and manipulate everything you want.","title":"Counter system implement Inside Dialog in android using Java","body":"<p>There are many ways to implement it.\nOne way to do so is:\nIf I understood correctly and you want to achieve that by using Minus &amp; Plus buttons, you should create a global <strong>counter</strong> - (<code>int adultCounter;</code>) and then increment his value with each click (on the <strong>adultPlus</strong> button, of course)\nYou should set the <strong>adultfinalCount</strong> text value to this adultCounter value (as a String).\nThen, you'll be able to condition this value and manipulate everything you want.</p>\n"},{"tags":[],"owner":{"account_id":19381252,"reputation":332,"user_id":14172469,"display_name":"Dorian Feyerer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665578298,"creation_date":1665578298,"answer_id":74041962,"question_id":74041178,"body_markdown":"Basically you can implement a switch statement for choosing your buttons. Example:\r\n\r\n\r\n    public class CounterSystem implements OnClickListener {\r\n\r\n        Button b1 = (Button) findViewById(R.id.adultPos);   \r\n        Button b2 = (Button) findViewById(R.id.adultNeg); \r\n\r\n        b1.setOnClickListener(this);  \r\n        b2.setOnClickListener(this);\r\n\r\n        public void onClick(View click) {\r\n\r\n          switch(click.getId()) {\r\n\r\n            case R.id.adultPos:\r\n\r\n              // your code for counter etc. and button visibility\r\n              break;\r\n\r\n            case R.id.adultNeg:\r\n\r\n              // your code for counter etc. and button visibility\r\n              break;\r\n          }\r\n       }\r\n    }\r\n\r\nAfterwards you can implement a counter in your code and use counter++ in the switch cases on every button click. As soon as the counter reaches 9, use the Button method `setVisibility(int visibility)` (use if &amp; else depending on the actual value of the counter).\r\n\r\nE.g. you can make the button disappear with the method: &lt;br&gt; `b1.setVisibility(View.GONE)`\r\n\r\nhttps://developer.android.com/reference/android/view/View#setVisibility(int)\r\n\r\nTest this simple approach in a few ways and then build up your code for more elements (will be easier for you, if you have less items in your layout).","title":"Counter system implement Inside Dialog in android using Java","body":"<p>Basically you can implement a switch statement for choosing your buttons. Example:</p>\n<pre><code>public class CounterSystem implements OnClickListener {\n\n    Button b1 = (Button) findViewById(R.id.adultPos);   \n    Button b2 = (Button) findViewById(R.id.adultNeg); \n\n    b1.setOnClickListener(this);  \n    b2.setOnClickListener(this);\n\n    public void onClick(View click) {\n\n      switch(click.getId()) {\n\n        case R.id.adultPos:\n\n          // your code for counter etc. and button visibility\n          break;\n\n        case R.id.adultNeg:\n\n          // your code for counter etc. and button visibility\n          break;\n      }\n   }\n}\n</code></pre>\n<p>Afterwards you can implement a counter in your code and use counter++ in the switch cases on every button click. As soon as the counter reaches 9, use the Button method <code>setVisibility(int visibility)</code> (use if &amp; else depending on the actual value of the counter).</p>\n<p>E.g. you can make the button disappear with the method: <br> <code>b1.setVisibility(View.GONE)</code></p>\n<p><a href=\"https://developer.android.com/reference/android/view/View#setVisibility(int)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/view/View#setVisibility(int)</a></p>\n<p>Test this simple approach in a few ways and then build up your code for more elements (will be easier for you, if you have less items in your layout).</p>\n"}],"owner":{"account_id":24970699,"reputation":106,"user_id":19722572,"display_name":"CTOFlyFar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665578298,"creation_date":1665574628,"question_id":74041178,"body_markdown":"![enter image description here][1]\r\n\r\nI have created a dialog and made a counter system, as shown above.\r\n\r\nMy Code :\r\n\r\n    pax.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            Dialog dialog = new Dialog(getContext());\r\n            dialog.setContentView(R.layout.add_pax);\r\n            dialog.show();\r\n\r\n            EditText adultfinalCount = dialog.findViewById(R.id.adultCount);\r\n            EditText childfinalCount = dialog.findViewById(R.id.childCount);\r\n            EditText infantfinalCount = dialog.findViewById(R.id.infantCount);\r\n\r\n            Button adultPlus = dialog.findViewById(R.id.adultPos);\r\n            adultPlus.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    adultfinalCount.setText(&quot;1&quot;);\r\n                }\r\n            });\r\n\r\n            adultfinalCount.setText(&quot;&quot; + adultCounter[0]);\r\n            Button childPlus = dialog.findViewById(R.id.childPos);\r\n            Button infantPlus = dialog.findViewById(R.id.infantPos);\r\n            Button adultMinus = dialog.findViewById(R.id.adultNeg);\r\n            Button childMinus = dialog.findViewById(R.id.childNeg);\r\n            Button infantMinus = dialog.findViewById(R.id.infantNeg);\r\n\r\n            Button savebtn =  dialog.findViewById(R.id.saveBtn);\r\n            savebtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    dialog.dismiss();\r\n                }\r\n            });\r\n        }\r\n    });\r\n\r\nI have been try all this .\r\nSo How can I workable this as counter , Please Help Me.\r\nAdult always 1 and cannot more than 9 , Then If adult&gt;1 then Child option and Infant Option will be enabaled.\r\n\r\n  [1]: https://i.stack.imgur.com/Zzju3.jpg","title":"Counter system implement Inside Dialog in android using Java","body":"<p><img src=\"https://i.stack.imgur.com/Zzju3.jpg\" alt=\"enter image description here\" /></p>\n<p>I have created a dialog and made a counter system, as shown above.</p>\n<p>My Code :</p>\n<pre><code>pax.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        Dialog dialog = new Dialog(getContext());\n        dialog.setContentView(R.layout.add_pax);\n        dialog.show();\n\n        EditText adultfinalCount = dialog.findViewById(R.id.adultCount);\n        EditText childfinalCount = dialog.findViewById(R.id.childCount);\n        EditText infantfinalCount = dialog.findViewById(R.id.infantCount);\n\n        Button adultPlus = dialog.findViewById(R.id.adultPos);\n        adultPlus.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                adultfinalCount.setText(&quot;1&quot;);\n            }\n        });\n\n        adultfinalCount.setText(&quot;&quot; + adultCounter[0]);\n        Button childPlus = dialog.findViewById(R.id.childPos);\n        Button infantPlus = dialog.findViewById(R.id.infantPos);\n        Button adultMinus = dialog.findViewById(R.id.adultNeg);\n        Button childMinus = dialog.findViewById(R.id.childNeg);\n        Button infantMinus = dialog.findViewById(R.id.infantNeg);\n\n        Button savebtn =  dialog.findViewById(R.id.saveBtn);\n        savebtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                dialog.dismiss();\n            }\n        });\n    }\n});\n</code></pre>\n<p>I have been try all this .\nSo How can I workable this as counter , Please Help Me.\nAdult always 1 and cannot more than 9 , Then If adult&gt;1 then Child option and Infant Option will be enabaled.</p>\n"},{"tags":["java","html","sax","saxon"],"comments":[{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1549900305,"post_id":54598683,"comment_id":96060765,"body_markdown":"No idea why someone voted to close this.","body":"No idea why someone voted to close this."}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1549972996,"creation_date":1549900669,"answer_id":54634401,"question_id":54598683,"body_markdown":"It&#39;s hard to know without knowing what DaisyDiff is, or what calls it makes. It&#39;s quite possible that it&#39;s not tested or supported for use with Saxon.\r\n\r\nThe format of data passed to the startElement() event in a SAX ContentHandler depends on the configuration options of the XML parser, and the problem when Saxon is invoked as a ContentHandler in this way is that it has no way of discovering what configuration options the parser is using.\r\n\r\nAs stated in the Javadoc documentation here: http://www.saxonica.com/documentation/index.html#!javadoc/net.sf.saxon.event/ReceivingContentHandler@startElement if the events emitted by the parser don&#39;t correspond to what an appropriately configured parser would emit, the ReceivingContentHandler will fail in unpredictable ways.\r\n\r\nPosting the stack trace of the exception might be useful. ","title":"Getting NULL pointer exception net.sf.saxon.event.ReceivingContentHandler.startElement in DaisyDiff","body":"<p>It's hard to know without knowing what DaisyDiff is, or what calls it makes. It's quite possible that it's not tested or supported for use with Saxon.</p>\n\n<p>The format of data passed to the startElement() event in a SAX ContentHandler depends on the configuration options of the XML parser, and the problem when Saxon is invoked as a ContentHandler in this way is that it has no way of discovering what configuration options the parser is using.</p>\n\n<p>As stated in the Javadoc documentation here: <a href=\"http://www.saxonica.com/documentation/index.html#!javadoc/net.sf.saxon.event/ReceivingContentHandler@startElement\" rel=\"nofollow noreferrer\">http://www.saxonica.com/documentation/index.html#!javadoc/net.sf.saxon.event/ReceivingContentHandler@startElement</a> if the events emitted by the parser don't correspond to what an appropriately configured parser would emit, the ReceivingContentHandler will fail in unpredictable ways.</p>\n\n<p>Posting the stack trace of the exception might be useful. </p>\n"},{"tags":[],"owner":{"account_id":8669519,"reputation":538,"user_id":6488880,"display_name":"wprogLK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665578255,"creation_date":1665578255,"answer_id":74041946,"question_id":54598683,"body_markdown":"I had the same issue. The good news first, found a way thanks to [this post][1] to solve the issue:\r\n\r\nInstead of ```SAXTransformerFactory tf = (SAXTransformerFactory) SAXTransformerFactory.newInstance();``` instantiate directly ``` SAXTransformerFactory tf = new org.apache.xalan.processor.TransformerFactoryImpl();``` (make sure it&#39;s the apache xalan one!).\r\n\r\nMy stacktrace for completeness:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n\tat net.sf.saxon.event.ReceivingContentHandler.startElement(ReceivingContentHandler.java:310)\r\n\tat org.outerj.daisy.diff.html.HtmlSaxDiffOutput.generateOutput(HtmlSaxDiffOutput.java:147)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/55581151/trying-to-implement-html-files-comparison-in-java-but-ended-up-with-null-pointe","title":"Getting NULL pointer exception net.sf.saxon.event.ReceivingContentHandler.startElement in DaisyDiff","body":"<p>I had the same issue. The good news first, found a way thanks to <a href=\"https://stackoverflow.com/questions/55581151/trying-to-implement-html-files-comparison-in-java-but-ended-up-with-null-pointe\">this post</a> to solve the issue:</p>\n<p>Instead of <code>SAXTransformerFactory tf = (SAXTransformerFactory) SAXTransformerFactory.newInstance();</code> instantiate directly <code> SAXTransformerFactory tf = new org.apache.xalan.processor.TransformerFactoryImpl();</code> (make sure it's the apache xalan one!).</p>\n<p>My stacktrace for completeness:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\nat net.sf.saxon.event.ReceivingContentHandler.startElement(ReceivingContentHandler.java:310)\nat org.outerj.daisy.diff.html.HtmlSaxDiffOutput.generateOutput(HtmlSaxDiffOutput.java:147)\n</code></pre>\n"}],"owner":{"account_id":3577622,"reputation":153,"user_id":2986491,"display_name":"ArunBharath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":54634401,"answer_count":2,"score":0,"last_activity_date":1665578255,"creation_date":1549652338,"question_id":54598683,"body_markdown":"I&#39;m using DaizyDIff library to compare two html files. I wrote a java code to implement the DaizyDiff. but while running I&#39;m getting NULL pointer exception on  net.sf.saxon.event.ReceivingContentHandler.startElement\r\n\r\nI have tries multiple approach on SAXTransformerFactory , but I couldn&#39;t figure out \r\n\r\n\r\n\r\n\tpublic static void daisyDiffTest() throws Exception {\r\n\t\tString html1 = &quot;&lt;html&gt;&lt;body&gt;var v2&lt;/body&gt;&lt;/html&gt;&quot;;\r\n\t\tString html2 = &quot;&lt;html&gt;  \\n  &lt;body&gt;  \\n  Hello world  \\n  &lt;/body&gt;  \\n  &lt;/html&gt;&quot;;\r\n\r\n\t\ttry {\r\n\t\t\tStringWriter finalResult = new StringWriter();\r\n\t\t\tSAXTransformerFactory tf = (SAXTransformerFactory) SAXTransformerFactory.newInstance();\r\n\t\t\tTransformerHandler result = tf.newTransformerHandler();\r\n\t\t\tresult.getTransformer().setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\r\n\t\t\tresult.getTransformer().setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n\t\t\tresult.getTransformer().setOutputProperty(OutputKeys.METHOD, &quot;html&quot;);\r\n\t\t\tresult.getTransformer().setOutputProperty(OutputKeys.ENCODING, &quot;UTF-8&quot;);\r\n\t\t\tresult.setResult(new StreamResult(finalResult));\r\n\r\n\t\t\tContentHandler postProcess = result;\r\n\t\t\tLocale val = Locale.ENGLISH;\r\n\t\t\tDaisyDiff.diffHTML(new InputSource(new StringReader(html1)), new InputSource(new StringReader(html2)),\r\n\t\t\t\t\tpostProcess, &quot;test&quot;, val);\r\n\t\t\tSystem.out.println(finalResult.toString());\r\n\t\t} catch (SAXException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\nExpected result would be diff in the HTML file.\r\n\r\n","title":"Getting NULL pointer exception net.sf.saxon.event.ReceivingContentHandler.startElement in DaisyDiff","body":"<p>I'm using DaizyDIff library to compare two html files. I wrote a java code to implement the DaizyDiff. but while running I'm getting NULL pointer exception on  net.sf.saxon.event.ReceivingContentHandler.startElement</p>\n\n<p>I have tries multiple approach on SAXTransformerFactory , but I couldn't figure out </p>\n\n<pre><code>public static void daisyDiffTest() throws Exception {\n    String html1 = \"&lt;html&gt;&lt;body&gt;var v2&lt;/body&gt;&lt;/html&gt;\";\n    String html2 = \"&lt;html&gt;  \\n  &lt;body&gt;  \\n  Hello world  \\n  &lt;/body&gt;  \\n  &lt;/html&gt;\";\n\n    try {\n        StringWriter finalResult = new StringWriter();\n        SAXTransformerFactory tf = (SAXTransformerFactory) SAXTransformerFactory.newInstance();\n        TransformerHandler result = tf.newTransformerHandler();\n        result.getTransformer().setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, \"yes\");\n        result.getTransformer().setOutputProperty(OutputKeys.INDENT, \"yes\");\n        result.getTransformer().setOutputProperty(OutputKeys.METHOD, \"html\");\n        result.getTransformer().setOutputProperty(OutputKeys.ENCODING, \"UTF-8\");\n        result.setResult(new StreamResult(finalResult));\n\n        ContentHandler postProcess = result;\n        Locale val = Locale.ENGLISH;\n        DaisyDiff.diffHTML(new InputSource(new StringReader(html1)), new InputSource(new StringReader(html2)),\n                postProcess, \"test\", val);\n        System.out.println(finalResult.toString());\n    } catch (SAXException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>Expected result would be diff in the HTML file.</p>\n"},{"tags":["java","swing","jbutton","jlabel","jcomponent"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1665571960,"post_id":74040082,"comment_id":130730667,"body_markdown":"I would suggest you try using html + css - see [this](https://css-tricks.com/styling-underlines-web/)\nProbably easier than doing your own drawing","body":"I would suggest you try using html + css - see <a href=\"https://css-tricks.com/styling-underlines-web/\" rel=\"nofollow noreferrer\">this</a> Probably easier than doing your own drawing"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1665577715,"post_id":74040082,"comment_id":130732759,"body_markdown":"I don&#39;t see a difference between the two images.","body":"I don&#39;t see a difference between the two images."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1665579191,"post_id":74040082,"comment_id":130733354,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."}],"owner":{"account_id":17128388,"reputation":15,"user_id":12395025,"display_name":"Advaitya Jadhav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665577767,"creation_date":1665569414,"question_id":74040082,"body_markdown":"When I underlined a custom font it used the default single line underline. However, I want the underline to be the same style as the font which cannot be done. Then I noticed that underscore character can be used as an underline by drawing a string of underscores on top of the text I want underlined.\r\n\r\nNow when trying to draw string, I&#39;am having hard time to find the coordinates and I don&#39;t want to hardcode coordinates, so I need get the coordinates of the text I want to draw onto.\r\n\r\nApparently the text I&#39;am drawing onto is of JButton and JLabel, and there is no way to get the coordinates of its text.\r\n\r\nAny help on getting the coordinates or help on using the style of font on underline would be appreciated.\r\n\r\nEdit: By style of the font for the underline, I mean this:\r\n\r\n![this][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jOEbS.png","title":"How do I get screen coordinates of String of JButton or JLabel","body":"<p>When I underlined a custom font it used the default single line underline. However, I want the underline to be the same style as the font which cannot be done. Then I noticed that underscore character can be used as an underline by drawing a string of underscores on top of the text I want underlined.</p>\n<p>Now when trying to draw string, I'am having hard time to find the coordinates and I don't want to hardcode coordinates, so I need get the coordinates of the text I want to draw onto.</p>\n<p>Apparently the text I'am drawing onto is of JButton and JLabel, and there is no way to get the coordinates of its text.</p>\n<p>Any help on getting the coordinates or help on using the style of font on underline would be appreciated.</p>\n<p>Edit: By style of the font for the underline, I mean this:</p>\n<p><img src=\"https://i.stack.imgur.com/jOEbS.png\" alt=\"this\" /></p>\n"},{"tags":["java","jpa"],"answers":[{"tags":[],"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1665577685,"creation_date":1325774684,"answer_id":8744363,"question_id":8448950,"body_markdown":"JPA doesn&#39;t offer this feature yet. Here are three options you can check out :\r\n\r\n* [This work around :][1]&lt;br&gt;\r\n**1.** Generate a `persistence.xml` on the fly (simple XML file creation) with a new persistence unit.&lt;br&gt;\r\n**2.** Add persistence file to classpath dynamically (`URLCLassLoader`)&lt;br&gt;\r\n**3.** Ask `PersistenceProvider` to load new persistence unit (`createEntityManagerFactory`)\r\n\r\n*I did implement this workaround. However, it didn&#39;t scale well as the number of entities grows (100+). I finally switched to JDBC. Here is a capture of the memory consumption (-75%) before and after the switch from JPA to JDBC.*\r\n\r\n[![Memory consumption reduction by switching from JPA to JDBC][2]][2]\r\n\r\n* https://stackoverflow.com/q/2838634/363573&lt;br&gt;\r\n This question on SO is similar to yours. An answer reports that it feasible with Spring.&lt;br&gt;&lt;br&gt;\r\n\r\n* https://stackoverflow.com/q/6380728/363573&lt;br&gt;\r\n Good pointers are given here.&lt;br&gt;&lt;br&gt;\r\n\r\n\r\n**Nota**\r\n\r\nIf the JPA provider is Hibernate, since Hibernate 4.0, it&#39;s possible to pass directly entities to this JPA provider **without declaring them** in the `persistence.xml` file. Hibernate will handle the entities on the fly.\r\n\r\nHere is a sample configuration of JPA 2.1 + Hibernate 4.3.7.Final without declaring any entities :\r\n\r\n**META-INF/persistence.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\r\n    http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;\r\n        version=&quot;2.1&quot;&gt;\r\n\r\n        &lt;persistence-unit name=&quot;my-persistence-unit&quot;\r\n            transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n            &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n            &lt;properties&gt;\r\n                &lt;!-- Database Properties --&gt;\r\n                &lt;property name=&quot;javax.persistence.jdbc.url&quot;\r\n                    value=&quot;jdbc:postgresql://localhost:5432/my-database&quot; /&gt;\r\n                &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;login&quot; /&gt;\r\n                &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;password&quot; /&gt;\r\n\r\n                &lt;!-- Hibernate Properties --&gt;\r\n                &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;org.postgresql.Driver&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQLDialect&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.default_schema&quot; value=&quot;public&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;false&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot; /&gt;\r\n\r\n                &lt;!-- Connection Pool --&gt;\r\n                &lt;property name=&quot;hibernate.c3p0.min_size&quot; value=&quot;5&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.c3p0.max_size&quot; value=&quot;20&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.c3p0.timeout&quot; value=&quot;500&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.c3p0.max_statements&quot; value=&quot;50&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.c3p0.idle_test_period&quot; value=&quot;2000&quot; /&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/persistence-unit&gt;\r\n\r\n    &lt;/persistence&gt;\r\n\r\n**References**\r\n\r\n - [JPA 2.1 Specs : 8.2 Persistence Unit Packaging][3]\r\n - [JPA 2.1 Specs : 8.2.1.6 mapping-file, jar-file, class, exclude-unlisted-classes][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/8744363/363573\r\n  [2]: https://i.stack.imgur.com/tZQMW.png\r\n  [3]: http://download.oracle.com/otndocs/jcp/persistence-2_1-fr-eval-spec/index.html","title":"Adding entity classes dynamically at runtime","body":"<p>JPA doesn't offer this feature yet. Here are three options you can check out :</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/8744363/363573\">This work around :</a><br>\n<strong>1.</strong> Generate a <code>persistence.xml</code> on the fly (simple XML file creation) with a new persistence unit.<br>\n<strong>2.</strong> Add persistence file to classpath dynamically (<code>URLCLassLoader</code>)<br>\n<strong>3.</strong> Ask <code>PersistenceProvider</code> to load new persistence unit (<code>createEntityManagerFactory</code>)</li>\n</ul>\n<p><em>I did implement this workaround. However, it didn't scale well as the number of entities grows (100+). I finally switched to JDBC. Here is a capture of the memory consumption (-75%) before and after the switch from JPA to JDBC.</em></p>\n<p><a href=\"https://i.stack.imgur.com/tZQMW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tZQMW.png\" alt=\"Memory consumption reduction by switching from JPA to JDBC\" /></a></p>\n<ul>\n<li><p><a href=\"https://stackoverflow.com/q/2838634/363573\">Programmatically loading Entity classes with JPA 2.0?</a><br>\nThis question on SO is similar to yours. An answer reports that it feasible with Spring.<br><br></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/q/6380728/363573\">JPA 2.0: Adding entity classes to PersistenceUnit *from different jar* automatically</a><br>\nGood pointers are given here.<br><br></p>\n</li>\n</ul>\n<p><strong>Nota</strong></p>\n<p>If the JPA provider is Hibernate, since Hibernate 4.0, it's possible to pass directly entities to this JPA provider <strong>without declaring them</strong> in the <code>persistence.xml</code> file. Hibernate will handle the entities on the fly.</p>\n<p>Here is a sample configuration of JPA 2.1 + Hibernate 4.3.7.Final without declaring any entities :</p>\n<p><strong>META-INF/persistence.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\nhttp://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;\n    version=&quot;2.1&quot;&gt;\n\n    &lt;persistence-unit name=&quot;my-persistence-unit&quot;\n        transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n        &lt;properties&gt;\n            &lt;!-- Database Properties --&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot;\n                value=&quot;jdbc:postgresql://localhost:5432/my-database&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;login&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;password&quot; /&gt;\n\n            &lt;!-- Hibernate Properties --&gt;\n            &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;org.postgresql.Driver&quot; /&gt;\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQLDialect&quot; /&gt;\n            &lt;property name=&quot;hibernate.default_schema&quot; value=&quot;public&quot; /&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot; /&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;false&quot; /&gt;\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot; /&gt;\n\n            &lt;!-- Connection Pool --&gt;\n            &lt;property name=&quot;hibernate.c3p0.min_size&quot; value=&quot;5&quot; /&gt;\n            &lt;property name=&quot;hibernate.c3p0.max_size&quot; value=&quot;20&quot; /&gt;\n            &lt;property name=&quot;hibernate.c3p0.timeout&quot; value=&quot;500&quot; /&gt;\n            &lt;property name=&quot;hibernate.c3p0.max_statements&quot; value=&quot;50&quot; /&gt;\n            &lt;property name=&quot;hibernate.c3p0.idle_test_period&quot; value=&quot;2000&quot; /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n\n&lt;/persistence&gt;\n</code></pre>\n<p><strong>References</strong></p>\n<ul>\n<li><a href=\"http://download.oracle.com/otndocs/jcp/persistence-2_1-fr-eval-spec/index.html\" rel=\"nofollow noreferrer\">JPA 2.1 Specs : 8.2 Persistence Unit Packaging</a></li>\n<li><a href=\"http://download.oracle.com/otndocs/jcp/persistence-2_1-fr-eval-spec/index.html\" rel=\"nofollow noreferrer\">JPA 2.1 Specs : 8.2.1.6 mapping-file, jar-file, class, exclude-unlisted-classes</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3202753,"reputation":6346,"user_id":2704500,"accept_rate":50,"display_name":"pandaadb"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1466696479,"creation_date":1466441407,"answer_id":37927841,"question_id":8448950,"body_markdown":"I am late to the party, but I think this will save some people some headache. I implemented classpath scanning for pure JPA (no spring etc needed) that integrates with e.g. guice-persist if needed as well. \r\n\r\nHere&#39;s what you need to do. \r\n\r\nFirst, change the persistence.xml and add your own implementation, like:\r\n\r\n    &lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\r\n             http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;\r\n             version=&quot;2.1&quot;&gt;\r\n             \r\n\t&lt;persistence-unit name=&quot;my.persistence.unit&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n\r\n\t\t&lt;provider&gt;my.custom.package.HibernateDynamicPersistenceProvider&lt;/provider&gt;\r\n\t\t\r\n\t\t&lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\r\n\t\t\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.H2Dialect&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;hibernate.max_fetch_depth&quot; value=&quot;30&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n\t\t&lt;/properties&gt;\r\n\t&lt;/persistence-unit&gt;\r\n    \r\n&lt;/persistence&gt;\r\n\r\nIn order for the Providers to be recognised, you will have to make it discoverable. JPA discovers using the service loading mechanism, so we add: \r\n\r\n    /src/main/resources/META-INF/services/javax.persistence.spi.PersistenceProvider\r\n\r\nThis file has exactly one line:\r\n\r\n    my.custom.package.HibernateDynamicPersistenceProvider\r\n\r\nFinally add your own provider and base it on the HibernateProvider (I base it on that since I want to use hibernate): \r\n\r\n    public class HibernateDynamicPersistenceProvider extends HibernatePersistenceProvider implements PersistenceProvider {\r\n    \r\n    \tprivate static final Logger log = Logger.getLogger(HibernateDynamicPersistenceProvider.class);\r\n    \r\n    \tpublic static final String CUSTOM_CLASSES = &quot;CUSTOM_CLASSES&quot;;\r\n    \t\r\n    \t@Override\r\n    \tprotected EntityManagerFactoryBuilder getEntityManagerFactoryBuilder(\r\n    \t\t\tPersistenceUnitDescriptor persistenceUnitDescriptor, Map integration, ClassLoader providedClassLoader) {\r\n    \r\n    \t\tif(persistenceUnitDescriptor instanceof ParsedPersistenceXmlDescriptor) {\r\n    \t\t\tParsedPersistenceXmlDescriptor tmp = (ParsedPersistenceXmlDescriptor) persistenceUnitDescriptor;\r\n    \t\t\tObject object = integration.get(&quot;CUSTOM_CLASSES&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn super.getEntityManagerFactoryBuilder(persistenceUnitDescriptor, integration, providedClassLoader);\r\n    \t}\r\n    \t\r\n    \tprotected EntityManagerFactoryBuilder getEntityManagerFactoryBuilderOrNull(String persistenceUnitName, Map properties, ClassLoader providedClassLoader) {\r\n    \t\tlog.debug( String.format(&quot;Attempting to obtain correct EntityManagerFactoryBuilder for persistenceUnitName : %s&quot;, persistenceUnitName ));\r\n    \r\n    \t\tfinal Map integration = wrap( properties );\r\n    \t\tfinal List&lt;ParsedPersistenceXmlDescriptor&gt; units;\r\n    \t\ttry {\r\n    \t\t\tunits = PersistenceXmlParser.locatePersistenceUnits( integration );\r\n    \t\t}\r\n    \t\tcatch (Exception e) {\r\n    \t\t\tlog.debug( &quot;Unable to locate persistence units&quot;, e );\r\n    \t\t\tthrow new PersistenceException( &quot;Unable to locate persistence units&quot;, e );\r\n    \t\t}\r\n    \r\n    \t\tlog.debug( String.format(&quot;Located and parsed %s persistence units; checking each&quot;, units.size() ));\r\n    \r\n    \t\tif ( persistenceUnitName == null &amp;&amp; units.size() &gt; 1 ) {\r\n    \t\t\t// no persistence-unit name to look for was given and we found multiple persistence-units\r\n    \t\t\tthrow new PersistenceException( &quot;No name provided and multiple persistence units found&quot; );\r\n    \t\t}\r\n    \r\n    \t\tfor ( ParsedPersistenceXmlDescriptor persistenceUnit : units ) {\r\n    \t\t\tlog.debug( String.format(\r\n    \t\t\t\t\t&quot;Checking persistence-unit [name=%s, explicit-provider=%s] against incoming persistence unit name [%s]&quot;,\r\n    \t\t\t\t\tpersistenceUnit.getName(),\r\n    \t\t\t\t\tpersistenceUnit.getProviderClassName(),\r\n    \t\t\t\t\tpersistenceUnitName\r\n    \t\t\t));\r\n    \r\n    \t\t\tfinal boolean matches = persistenceUnitName == null || persistenceUnit.getName().equals( persistenceUnitName );\r\n    \t\t\tif ( !matches ) {\r\n    \t\t\t\tlog.debug( &quot;Excluding from consideration due to name mis-match&quot; );\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \r\n    \t\t\t// See if we (Hibernate) are the persistence provider\r\n    \t\t\t\r\n    \t\t\tString extractRequestedProviderName = ProviderChecker.extractRequestedProviderName(persistenceUnit, integration);\r\n    \t\t\t\r\n    \t\t\tif ( ! ProviderChecker.isProvider( persistenceUnit, properties ) &amp;&amp; !(this.getClass().getName().equals(extractRequestedProviderName))) {\r\n    \t\t\t\tlog.debug( &quot;Excluding from consideration due to provider mis-match&quot; );\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \r\n    \t\t\treturn getEntityManagerFactoryBuilder( persistenceUnit, integration, providedClassLoader );\r\n    \t\t}\r\n    \r\n    \t\tlog.debug( &quot;Found no matching persistence units&quot; );\r\n    \t\treturn null;\r\n    \t}\r\n    }\r\n\r\nI had to overwrite 2 methods, first:\r\n\r\n    protected EntityManagerFactoryBuilder getEntityManagerFactoryBuilder(\r\n    \t\t\tPersistenceUnitDescriptor persistenceUnitDescriptor, Map integration, ClassLoader providedClassLoader)\r\n\r\nThis is the intercepting method. I added a custom property &quot;CUSTOM_CLASSES&quot; which should really be called &quot;CUSTOM_PACKAGES&quot; which will list all packages that need to be scanned.\r\nAt this point I am a bit lazy and I will skip the actual classpath scanning, but you can do it yourself - it&#39;s quite straight forward. You can then call \r\n\r\n    tmp.addClasses(&quot;class1&quot;, &quot;class2&quot;);\r\n\r\nWhere the classes are the ones you discovered. \r\n\r\nThe second method we are overriding is:\r\n\r\n    protected EntityManagerFactoryBuilder getEntityManagerFactoryBuilderOrNull(String persistenceUnitName, Map properties, ClassLoader providedClassLoader)\r\n\r\nThis is because the provider we are extending is hardcoded to only allow hibernate classes to create an EMF. Since we have a custom class intercepting the construction, our names don&#39;t add up. So I added:\r\n\r\n    String extractRequestedProviderName = ProviderChecker.extractRequestedProviderName(persistenceUnit, integration);\r\n\t\t\r\n    if ( ! ProviderChecker.isProvider( persistenceUnit, properties ) &amp;&amp; !(this.getClass().getName().equals(extractRequestedProviderName))) {\r\n\t\t\tlog.debug( &quot;Excluding from consideration due to provider mis-match&quot; );\r\n\t\t\tcontinue;\r\n\t}\r\n\r\nThis extends the normal hibernate check to also include my custom provider to be valid.\r\n\r\nWola, we are done, you now have hibernate enabled classpath scanning with JPA. ","title":"Adding entity classes dynamically at runtime","body":"<p>I am late to the party, but I think this will save some people some headache. I implemented classpath scanning for pure JPA (no spring etc needed) that integrates with e.g. guice-persist if needed as well. </p>\n\n<p>Here's what you need to do. </p>\n\n<p>First, change the persistence.xml and add your own implementation, like:</p>\n\n<pre><code>&lt;persistence xmlns=\"http://xmlns.jcp.org/xml/ns/persistence\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/persistence\n         http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd\"\n         version=\"2.1\"&gt;\n\n&lt;persistence-unit name=\"my.persistence.unit\" transaction-type=\"RESOURCE_LOCAL\"&gt;\n\n    &lt;provider&gt;my.custom.package.HibernateDynamicPersistenceProvider&lt;/provider&gt;\n\n    &lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\n\n    &lt;properties&gt;\n        &lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.H2Dialect\" /&gt;\n        &lt;property name=\"hibernate.max_fetch_depth\" value=\"30\" /&gt;\n        &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"update\" /&gt;\n        &lt;property name=\"hibernate.show_sql\" value=\"true\" /&gt;\n    &lt;/properties&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n\n<p></p>\n\n<p>In order for the Providers to be recognised, you will have to make it discoverable. JPA discovers using the service loading mechanism, so we add: </p>\n\n<pre><code>/src/main/resources/META-INF/services/javax.persistence.spi.PersistenceProvider\n</code></pre>\n\n<p>This file has exactly one line:</p>\n\n<pre><code>my.custom.package.HibernateDynamicPersistenceProvider\n</code></pre>\n\n<p>Finally add your own provider and base it on the HibernateProvider (I base it on that since I want to use hibernate): </p>\n\n<pre><code>public class HibernateDynamicPersistenceProvider extends HibernatePersistenceProvider implements PersistenceProvider {\n\n    private static final Logger log = Logger.getLogger(HibernateDynamicPersistenceProvider.class);\n\n    public static final String CUSTOM_CLASSES = \"CUSTOM_CLASSES\";\n\n    @Override\n    protected EntityManagerFactoryBuilder getEntityManagerFactoryBuilder(\n            PersistenceUnitDescriptor persistenceUnitDescriptor, Map integration, ClassLoader providedClassLoader) {\n\n        if(persistenceUnitDescriptor instanceof ParsedPersistenceXmlDescriptor) {\n            ParsedPersistenceXmlDescriptor tmp = (ParsedPersistenceXmlDescriptor) persistenceUnitDescriptor;\n            Object object = integration.get(\"CUSTOM_CLASSES\");\n        }\n\n        return super.getEntityManagerFactoryBuilder(persistenceUnitDescriptor, integration, providedClassLoader);\n    }\n\n    protected EntityManagerFactoryBuilder getEntityManagerFactoryBuilderOrNull(String persistenceUnitName, Map properties, ClassLoader providedClassLoader) {\n        log.debug( String.format(\"Attempting to obtain correct EntityManagerFactoryBuilder for persistenceUnitName : %s\", persistenceUnitName ));\n\n        final Map integration = wrap( properties );\n        final List&lt;ParsedPersistenceXmlDescriptor&gt; units;\n        try {\n            units = PersistenceXmlParser.locatePersistenceUnits( integration );\n        }\n        catch (Exception e) {\n            log.debug( \"Unable to locate persistence units\", e );\n            throw new PersistenceException( \"Unable to locate persistence units\", e );\n        }\n\n        log.debug( String.format(\"Located and parsed %s persistence units; checking each\", units.size() ));\n\n        if ( persistenceUnitName == null &amp;&amp; units.size() &gt; 1 ) {\n            // no persistence-unit name to look for was given and we found multiple persistence-units\n            throw new PersistenceException( \"No name provided and multiple persistence units found\" );\n        }\n\n        for ( ParsedPersistenceXmlDescriptor persistenceUnit : units ) {\n            log.debug( String.format(\n                    \"Checking persistence-unit [name=%s, explicit-provider=%s] against incoming persistence unit name [%s]\",\n                    persistenceUnit.getName(),\n                    persistenceUnit.getProviderClassName(),\n                    persistenceUnitName\n            ));\n\n            final boolean matches = persistenceUnitName == null || persistenceUnit.getName().equals( persistenceUnitName );\n            if ( !matches ) {\n                log.debug( \"Excluding from consideration due to name mis-match\" );\n                continue;\n            }\n\n            // See if we (Hibernate) are the persistence provider\n\n            String extractRequestedProviderName = ProviderChecker.extractRequestedProviderName(persistenceUnit, integration);\n\n            if ( ! ProviderChecker.isProvider( persistenceUnit, properties ) &amp;&amp; !(this.getClass().getName().equals(extractRequestedProviderName))) {\n                log.debug( \"Excluding from consideration due to provider mis-match\" );\n                continue;\n            }\n\n            return getEntityManagerFactoryBuilder( persistenceUnit, integration, providedClassLoader );\n        }\n\n        log.debug( \"Found no matching persistence units\" );\n        return null;\n    }\n}\n</code></pre>\n\n<p>I had to overwrite 2 methods, first:</p>\n\n<pre><code>protected EntityManagerFactoryBuilder getEntityManagerFactoryBuilder(\n            PersistenceUnitDescriptor persistenceUnitDescriptor, Map integration, ClassLoader providedClassLoader)\n</code></pre>\n\n<p>This is the intercepting method. I added a custom property \"CUSTOM_CLASSES\" which should really be called \"CUSTOM_PACKAGES\" which will list all packages that need to be scanned.\nAt this point I am a bit lazy and I will skip the actual classpath scanning, but you can do it yourself - it's quite straight forward. You can then call </p>\n\n<pre><code>tmp.addClasses(\"class1\", \"class2\");\n</code></pre>\n\n<p>Where the classes are the ones you discovered. </p>\n\n<p>The second method we are overriding is:</p>\n\n<pre><code>protected EntityManagerFactoryBuilder getEntityManagerFactoryBuilderOrNull(String persistenceUnitName, Map properties, ClassLoader providedClassLoader)\n</code></pre>\n\n<p>This is because the provider we are extending is hardcoded to only allow hibernate classes to create an EMF. Since we have a custom class intercepting the construction, our names don't add up. So I added:</p>\n\n<pre><code>String extractRequestedProviderName = ProviderChecker.extractRequestedProviderName(persistenceUnit, integration);\n\nif ( ! ProviderChecker.isProvider( persistenceUnit, properties ) &amp;&amp; !(this.getClass().getName().equals(extractRequestedProviderName))) {\n        log.debug( \"Excluding from consideration due to provider mis-match\" );\n        continue;\n}\n</code></pre>\n\n<p>This extends the normal hibernate check to also include my custom provider to be valid.</p>\n\n<p>Wola, we are done, you now have hibernate enabled classpath scanning with JPA. </p>\n"}],"owner":{"account_id":1096708,"reputation":371,"user_id":1090154,"display_name":"user1090154"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35956,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"answer_count":2,"score":37,"last_activity_date":1665577685,"creation_date":1323449845,"question_id":8448950,"body_markdown":"I have this requirement to add entity classes to the persistence unit at runtime rather than specifying all of them in the persistence.xml. Can someone help me with the same? \r\n\r\nI am aware that Hibernate has its own mechanism of doing the same using:\r\n\r\n`AnnotationConfiguration.addAnnotatedClass(Class)`, etc - You can also add hibernate config (`*.hbm.xml`) files programmatically.\r\n\r\nThe requirement is that without restarting the app server, I should be able to keep adding entity classes / their config (mapping) files to the persistence unit dynamically.\r\n\r\nBut the solution to programmatically add entity classes / configuration files at runtime to the persistence unit should not be specific to a JPA implementation.","title":"Adding entity classes dynamically at runtime","body":"<p>I have this requirement to add entity classes to the persistence unit at runtime rather than specifying all of them in the persistence.xml. Can someone help me with the same? </p>\n\n<p>I am aware that Hibernate has its own mechanism of doing the same using:</p>\n\n<p><code>AnnotationConfiguration.addAnnotatedClass(Class)</code>, etc - You can also add hibernate config (<code>*.hbm.xml</code>) files programmatically.</p>\n\n<p>The requirement is that without restarting the app server, I should be able to keep adding entity classes / their config (mapping) files to the persistence unit dynamically.</p>\n\n<p>But the solution to programmatically add entity classes / configuration files at runtime to the persistence unit should not be specific to a JPA implementation.</p>\n"},{"tags":["java","linux","spring-boot","jar"],"comments":[{"owner":{"account_id":20186281,"reputation":111,"user_id":14805530,"display_name":"Vit Huy Nguyn"},"score":0,"creation_date":1665577530,"post_id":74041438,"comment_id":130732692,"body_markdown":"Can you please provide the build description file? maybe pom.xml if you&#39;re using Maven. or build.gradle if you&#39;re using gradle.","body":"Can you please provide the build description file? maybe pom.xml if you&#39;re using Maven. or build.gradle if you&#39;re using gradle."}],"answers":[{"tags":[],"owner":{"account_id":4335872,"reputation":77,"user_id":3540367,"display_name":"Vinit More"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665577176,"creation_date":1665577176,"answer_id":74041723,"question_id":74041438,"body_markdown":"Not sure how are you creating a jar of spring boot. If you may share steps to create a jar. Is it via dev tool (intellij/STS/eclipse) or a parameter in application.properties/yml file?","title":"Start the SpringBoot project as a Jar package","body":"<p>Not sure how are you creating a jar of spring boot. If you may share steps to create a jar. Is it via dev tool (intellij/STS/eclipse) or a parameter in application.properties/yml file?</p>\n"},{"tags":[],"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665577589,"creation_date":1665577589,"answer_id":74041794,"question_id":74041438,"body_markdown":"In your stacktrace it seems that \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/O3QUa.png\r\n\r\nCan you check at `CometClientRegistrar.java` 209 line? I think when you run from your ide, you are adding few settings like environment variables, options which you are missing when you run jar manually with `java -jar app.jar`","title":"Start the SpringBoot project as a Jar package","body":"<p>In your stacktrace it seems that</p>\n<p><a href=\"https://i.stack.imgur.com/O3QUa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O3QUa.png\" alt=\"enter image description here\" /></a></p>\n<p>Can you check at <code>CometClientRegistrar.java</code> 209 line? I think when you run from your ide, you are adding few settings like environment variables, options which you are missing when you run jar manually with <code>java -jar app.jar</code></p>\n"}],"owner":{"account_id":25946422,"reputation":3,"user_id":19665095,"display_name":""},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74041794,"answer_count":2,"score":0,"last_activity_date":1665577589,"creation_date":1665575816,"question_id":74041438,"body_markdown":"My SpringBoot project can be started normally in the development tool in the form of source code, but when I package it as a jar and upload it to Linux to start, it prompts me this error, please give me some advice on how to troubleshoot the problem.....(The erased part is the startup class of my project)[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NfCa5.jpg","title":"Start the SpringBoot project as a Jar package","body":"<p>My SpringBoot project can be started normally in the development tool in the form of source code, but when I package it as a jar and upload it to Linux to start, it prompts me this error, please give me some advice on how to troubleshoot the problem.....(The erased part is the startup class of my project)<a href=\"https://i.stack.imgur.com/NfCa5.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","file","character-encoding","decode"],"comments":[{"owner":{"account_id":7381830,"reputation":532,"user_id":5618266,"display_name":"Cedric"},"score":0,"creation_date":1504719692,"post_id":46080762,"comment_id":79124327,"body_markdown":"I assume you&#39;re not using the right code page. See [here](https://stackoverflow.com/questions/388490/unicode-characters-in-windows-command-line-how).","body":"I assume you&#39;re not using the right code page. See <a href=\"https://stackoverflow.com/questions/388490/unicode-characters-in-windows-command-line-how\">here</a>."},{"owner":{"account_id":2784789,"reputation":172,"user_id":2396497,"display_name":"bench_doos"},"score":0,"creation_date":1504729127,"post_id":46080762,"comment_id":79129304,"body_markdown":"@CedricKring That did not help, I&#39;ve tried.","body":"@CedricKring That did not help, I&#39;ve tried."}],"answers":[{"tags":[],"owner":{"account_id":2784789,"reputation":172,"user_id":2396497,"display_name":"bench_doos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665577264,"creation_date":1504787489,"answer_id":46096444,"question_id":46080762,"body_markdown":"Thanks to @MikitaBerazouski [question](https://stackoverflow.com/questions/46082954/how-to-pass-hieroglyphs-as-an-argument-to-the-main-method-from-command-line), we found out that it is an issue of Windows console encoding. \r\n\r\n\r\n[UPDATE]\r\n\r\n[Used JNI to get real command line arguments][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/70573213/2396497","title":"File path encoding","body":"<p>Thanks to @MikitaBerazouski <a href=\"https://stackoverflow.com/questions/46082954/how-to-pass-hieroglyphs-as-an-argument-to-the-main-method-from-command-line\">question</a>, we found out that it is an issue of Windows console encoding.</p>\n<p>[UPDATE]</p>\n<p><a href=\"https://stackoverflow.com/a/70573213/2396497\">Used JNI to get real command line arguments</a></p>\n"}],"owner":{"account_id":2784789,"reputation":172,"user_id":2396497,"display_name":"bench_doos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":46096444,"answer_count":1,"score":0,"last_activity_date":1665577264,"creation_date":1504717318,"question_id":46080762,"body_markdown":"Can you help me to get the correct file path? I give in the arguments a link to a file with the name:\r\n\r\n&gt; GovHK Homepage (Residents).webloc\r\n\r\nAnd instead of it I receive:\r\n\r\n&gt; GovHK ???????:Homepage (Residents).webloc\r\n\r\nSo I can not get file, `file.exists();` returns `false`\r\n\r\n\r\n \r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            if (args.length &gt; 0) {\r\n                File file = new File(args[0]);\r\n                System.out.println(&quot;Exists: &quot; + file.exists());\r\n            }\r\n        }\r\n    }\r\n\r\nFile was taken from MacOS to Windows.\r\n\r\nYou can see the original file [here][1] \r\n\r\nHow can I get the real file path to handle it?\r\nThank you!\r\n\r\n\r\n**UPD**\r\n\r\nIf I get list of files in the directory, file path is showing correctly and files exist. So the problem is on way `cmd -&gt; jar`\r\n\r\n  [1]: https://github.com/benchdoos/benchdoos.github.io/raw/master/GovHK%20%E9%A6%99%E6%B8%AF%E6%94%BF%E5%BA%9C%E4%B8%80%E7%AB%99%E9%80%9A%EF%BC%9AHomepage%20(Residents).webloc","title":"File path encoding","body":"<p>Can you help me to get the correct file path? I give in the arguments a link to a file with the name:</p>\n\n<blockquote>\n  <p>GovHK Homepage (Residents).webloc</p>\n</blockquote>\n\n<p>And instead of it I receive:</p>\n\n<blockquote>\n  <p>GovHK ???????:Homepage (Residents).webloc</p>\n</blockquote>\n\n<p>So I can not get file, <code>file.exists();</code> returns <code>false</code></p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        if (args.length &gt; 0) {\n            File file = new File(args[0]);\n            System.out.println(\"Exists: \" + file.exists());\n        }\n    }\n}\n</code></pre>\n\n<p>File was taken from MacOS to Windows.</p>\n\n<p>You can see the original file <a href=\"https://github.com/benchdoos/benchdoos.github.io/raw/master/GovHK%20%E9%A6%99%E6%B8%AF%E6%94%BF%E5%BA%9C%E4%B8%80%E7%AB%99%E9%80%9A%EF%BC%9AHomepage%20(Residents).webloc\" rel=\"nofollow noreferrer\">here</a> </p>\n\n<p>How can I get the real file path to handle it?\nThank you!</p>\n\n<p><strong>UPD</strong></p>\n\n<p>If I get list of files in the directory, file path is showing correctly and files exist. So the problem is on way <code>cmd -&gt; jar</code></p>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":1,"creation_date":1665571798,"post_id":74040524,"comment_id":130730600,"body_markdown":"Try calling `response.block()` or `Thread.sleep(10_000)` at the end. Your `main` might terminate (and with it the whole program) before your request is actually sent.","body":"Try calling <code>response.block()</code> or <code>Thread.sleep(10_000)</code> at the end. Your <code>main</code> might terminate (and with it the whole program) before your request is actually sent."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1665575491,"post_id":74040524,"comment_id":130731958,"body_markdown":"You should use `response.subscribe( it -&gt; System.out.println(&quot;Stop send request &quot; + it);`. Else it might not even do anything as you aren&#39;t actually subscribing to something. Much like a regular Stream in Java if there is no terminal operated nothing will happen.","body":"You should use <code>response.subscribe( it -&gt; System.out.println(&quot;Stop send request &quot; + it);</code>. Else it might not even do anything as you aren&#39;t actually subscribing to something. Much like a regular Stream in Java if there is no terminal operated nothing will happen."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665572608,"creation_date":1665572608,"answer_id":74040782,"question_id":74040524,"body_markdown":"WebClient is not your only option. You can try some other Http clients that might be simpler in use. Here are a few options:\r\n\r\n 1. [Apache HttpClient][1] - a very widely used library\r\n 2. [OK HttpClient][2] - Open Source library\r\n 3. And my favorite (Open Source library written by me) MgntUtils library\r\n\r\nWith MgntUtils library your code could be as simple as \r\n\r\n    private static void testHttpClient() {\r\n    \tHttpClient client = new HttpClient();\r\n    \tclient.setContentType(&quot;application/json; charset=utf-8&quot;);\r\n    \tclient.setConnectionUrl(&quot;http://www.your.url.com/&quot;);\r\n    \tString content = null;\r\n    \ttry {\r\n    \t\tcontent = client.sendHttpRequest(HttpMethod.POST, &quot;Some textual conent - like your JSON&quot;);\r\n    \t} catch (IOException e) {\r\n    \t\tcontent = TextUtils.getStacktrace(e, false);\r\n    \t}\r\n    \tSystem.out.println(content);\r\n    }\r\n\r\nHere is [Javadoc for MgntUtils HTTPClient class][3]. The library itself could be found here as [Maven artifacts][4] or on [Git][5] (including sources and JavaDoc). An article about the library (although it doesn&#39;t describe HttpClient feature) could be found [here][6]\r\n\r\n\r\n  [1]: https://hc.apache.org/httpcomponents-client-4.5.x/index.html\r\n  [2]: https://square.github.io/okhttp/\r\n  [3]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/httpclient/HttpClient.html\r\n  [4]: https://search.maven.org/search?q=g:com.github.michaelgantman%20AND%20a:MgntUtils\r\n  [5]: https://github.com/michaelgantman/Mgnt/releases\r\n  [6]: https://community.oracle.com/blogs/michaelgantman/2016/01/26/open-source-java-library-with-stacktrace-filtering-silent-string-parsing-and-version-comparison","title":"Java Spring WebClient - no request is made","body":"<p>WebClient is not your only option. You can try some other Http clients that might be simpler in use. Here are a few options:</p>\n<ol>\n<li><a href=\"https://hc.apache.org/httpcomponents-client-4.5.x/index.html\" rel=\"nofollow noreferrer\">Apache HttpClient</a> - a very widely used library</li>\n<li><a href=\"https://square.github.io/okhttp/\" rel=\"nofollow noreferrer\">OK HttpClient</a> - Open Source library</li>\n<li>And my favorite (Open Source library written by me) MgntUtils library</li>\n</ol>\n<p>With MgntUtils library your code could be as simple as</p>\n<pre><code>private static void testHttpClient() {\n    HttpClient client = new HttpClient();\n    client.setContentType(&quot;application/json; charset=utf-8&quot;);\n    client.setConnectionUrl(&quot;http://www.your.url.com/&quot;);\n    String content = null;\n    try {\n        content = client.sendHttpRequest(HttpMethod.POST, &quot;Some textual conent - like your JSON&quot;);\n    } catch (IOException e) {\n        content = TextUtils.getStacktrace(e, false);\n    }\n    System.out.println(content);\n}\n</code></pre>\n<p>Here is <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/httpclient/HttpClient.html\" rel=\"nofollow noreferrer\">Javadoc for MgntUtils HTTPClient class</a>. The library itself could be found here as <a href=\"https://search.maven.org/search?q=g:com.github.michaelgantman%20AND%20a:MgntUtils\" rel=\"nofollow noreferrer\">Maven artifacts</a> or on <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Git</a> (including sources and JavaDoc). An article about the library (although it doesn't describe HttpClient feature) could be found <a href=\"https://community.oracle.com/blogs/michaelgantman/2016/01/26/open-source-java-library-with-stacktrace-filtering-silent-string-parsing-and-version-comparison\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":20186281,"reputation":111,"user_id":14805530,"display_name":"Vit Huy Nguyn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665576489,"creation_date":1665576489,"answer_id":74041582,"question_id":74040524,"body_markdown":"Just did some debugging and found out that you&#39;ve made several mistakes:\r\n\r\n1, You&#39;re executing your application without the `SpringApplication.run(WebClientApplication.class, args);`\r\nThis means it will execute everything and then terminates before you can even receive the response (which will be done in another thread to achieve a-sync).\r\n\r\n2, You&#39;re working with a `Mono`, it&#39;s more like a `Promise` in JS, it stands as a wrapper for the response when it arrives, after the response comes to can subscribe and do things with it, but before that, there&#39;s basically nothing inside this object, so `toString()` won&#39;t get you the response you want.\r\n\r\n\r\nHere&#39;s my suggestion:\r\n\r\n1, Explicitly tell WebClient that you&#39;re waiting for your response, and you&#39;re not doing anything until you get that, by using `Mono.block()`\r\nLike this :\r\n\r\n `System.out.println(&quot;Stop send request &quot;+response.block());`\r\n\r\n2, You have a subscriber to handle the response when it comes, like this :\r\n\r\n    response.subscribe(e -&gt; {\r\n\t\t\tSystem.out.println(&quot;------------------------------RESPONSE----------------------------------&quot;);\r\n\t\t\tSystem.out.println(e);\r\n\t\t\tSystem.out.println(&quot;------------------------------END----------------------------------&quot;);\r\n\r\n\t\t});\r\n\r\nBut this `lambda` will also execute in another thread, and may get terminated before execution if you main thread dies. So if you still want to test it in you current example, you must tell the main thread to wait for a while, using `Thread.sleep()`\r\n\r\nAnd now you should see the response, or at least the request.","title":"Java Spring WebClient - no request is made","body":"<p>Just did some debugging and found out that you've made several mistakes:</p>\n<p>1, You're executing your application without the <code>SpringApplication.run(WebClientApplication.class, args);</code>\nThis means it will execute everything and then terminates before you can even receive the response (which will be done in another thread to achieve a-sync).</p>\n<p>2, You're working with a <code>Mono</code>, it's more like a <code>Promise</code> in JS, it stands as a wrapper for the response when it arrives, after the response comes to can subscribe and do things with it, but before that, there's basically nothing inside this object, so <code>toString()</code> won't get you the response you want.</p>\n<p>Here's my suggestion:</p>\n<p>1, Explicitly tell WebClient that you're waiting for your response, and you're not doing anything until you get that, by using <code>Mono.block()</code>\nLike this :</p>\n<p><code>System.out.println(&quot;Stop send request &quot;+response.block());</code></p>\n<p>2, You have a subscriber to handle the response when it comes, like this :</p>\n<pre><code>response.subscribe(e -&gt; {\n        System.out.println(&quot;------------------------------RESPONSE----------------------------------&quot;);\n        System.out.println(e);\n        System.out.println(&quot;------------------------------END----------------------------------&quot;);\n\n    });\n</code></pre>\n<p>But this <code>lambda</code> will also execute in another thread, and may get terminated before execution if you main thread dies. So if you still want to test it in you current example, you must tell the main thread to wait for a while, using <code>Thread.sleep()</code></p>\n<p>And now you should see the response, or at least the request.</p>\n"}],"owner":{"account_id":1636899,"reputation":494,"user_id":1510155,"display_name":"Victorqedu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":656,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74041582,"answer_count":2,"score":0,"last_activity_date":1665576489,"creation_date":1665571412,"question_id":74040524,"body_markdown":"I use java 1.8 and spring boot 2.7.4.\r\n\r\nI want to access a distant REST server and I&#39;m stuck at the beginning.\r\n\r\nI used [this][1] tutorial to write the code.\r\n\r\nThe compilation went fine but at the end of the execution no request was made and I don&#39;t understand why. I redirected java to a proxy and I can see no request is made, I should see an error regarding the missing certificate...\r\n\r\nThis is the code:\r\n\r\n    @SpringBootApplication\r\n    public class RestApplication {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Start build request&quot;);\r\n            WebClient client = WebClient.create(&quot;https://test.caido.ro&quot;);\r\n            UriSpec&lt;RequestBodySpec&gt; uriSpec = client.post();\r\n            RequestBodySpec bodySpec = uriSpec.uri(&quot;/api/login&quot;);\r\n            RequestHeadersSpec&lt;?&gt; headersSpec = bodySpec.body(BodyInserters.fromValue(&quot;{\\n&quot; +\r\n                &quot;  \\&quot;email\\&quot;: \\&quot;test\\&quot;,\\n&quot; +\r\n                &quot;  \\&quot;password\\&quot;: \\&quot;test\\&quot;\\n&quot; +\r\n                &quot;}&quot;));\r\n            System.out.println(&quot;Start send request&quot;);\r\n            Mono&lt;String&gt; response = headersSpec.retrieve().bodyToMono(String.class);\r\n            System.out.println(&quot;Stop send request &quot;+response.toString());\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-5-webclient","title":"Java Spring WebClient - no request is made","body":"<p>I use java 1.8 and spring boot 2.7.4.</p>\n<p>I want to access a distant REST server and I'm stuck at the beginning.</p>\n<p>I used <a href=\"https://www.baeldung.com/spring-5-webclient\" rel=\"nofollow noreferrer\">this</a> tutorial to write the code.</p>\n<p>The compilation went fine but at the end of the execution no request was made and I don't understand why. I redirected java to a proxy and I can see no request is made, I should see an error regarding the missing certificate...</p>\n<p>This is the code:</p>\n<pre><code>@SpringBootApplication\npublic class RestApplication {\n    public static void main(String[] args) {\n        System.out.println(&quot;Start build request&quot;);\n        WebClient client = WebClient.create(&quot;https://test.caido.ro&quot;);\n        UriSpec&lt;RequestBodySpec&gt; uriSpec = client.post();\n        RequestBodySpec bodySpec = uriSpec.uri(&quot;/api/login&quot;);\n        RequestHeadersSpec&lt;?&gt; headersSpec = bodySpec.body(BodyInserters.fromValue(&quot;{\\n&quot; +\n            &quot;  \\&quot;email\\&quot;: \\&quot;test\\&quot;,\\n&quot; +\n            &quot;  \\&quot;password\\&quot;: \\&quot;test\\&quot;\\n&quot; +\n            &quot;}&quot;));\n        System.out.println(&quot;Start send request&quot;);\n        Mono&lt;String&gt; response = headersSpec.retrieve().bodyToMono(String.class);\n        System.out.println(&quot;Stop send request &quot;+response.toString());\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","jsf","servlets","wildfly"],"answers":[{"tags":[],"owner":{"account_id":26183044,"reputation":3,"user_id":19866075,"display_name":"skver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665576356,"creation_date":1665576356,"answer_id":74041545,"question_id":74040247,"body_markdown":"intellij idea incorrectly makes imorts. \r\nIn maven, you need to change javax.faces on jakarta","title":"jsf Caused by: java.lang.NoClassDefFoundError: Failed to link javax/faces/webapp/FacesServlet","body":"<p>intellij idea incorrectly makes imorts.\nIn maven, you need to change javax.faces on jakarta</p>\n"}],"owner":{"account_id":26183044,"reputation":3,"user_id":19866075,"display_name":"skver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":699,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1665584798,"answer_count":1,"score":0,"last_activity_date":1665576356,"creation_date":1665570087,"question_id":74040247,"body_markdown":"I built the project using maven\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;lab3&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.faces&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jsf-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.faces&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jsf-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2-20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.faces&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.faces-war-archetype&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n            &lt;version&gt;9.1.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;lab3&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;webXml&gt;src\\main\\webapp\\WEB-INF\\web.xml&lt;/webXml&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nI&#39;m trying to start the server using wildfly.Catching the following error\r\n\r\n\r\n   \r\n    13:16:20,965 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0028: Stopped deployment lab3.war (runtime-name: lab3.war) in 14ms\r\n    [2022-10-12 01:16:20,998] Artifact lab3.war: Error during artifact deployment. See server log for details.\r\n    [2022-10-12 01:16:20,998] Artifact lab3.war: java.lang.Exception: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;lab3.war\\&quot;.undertow-deployment.UndertowDeploymentInfoService&quot; =&gt; &quot;Failed to start service\r\n        Caused by: java.lang.NoClassDefFoundError: Failed to link javax/faces/webapp/FacesServlet (Module \\&quot;deployment.lab3.war\\&quot; from Service Module Loader): javax/servlet/Servlet&quot;}} \r\n\r\nI have already assembled my own project, and tried to launch others&#39; ready-made ones. Everything doesn&#39;t work.\r\n\r\nalso that web.the xml that is generated in target works strangely\r\n[web.xml][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xdbMe.png","title":"jsf Caused by: java.lang.NoClassDefFoundError: Failed to link javax/faces/webapp/FacesServlet","body":"<p>I built the project using maven</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;org.example&lt;/groupId&gt;\n&lt;artifactId&gt;lab3&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n&lt;packaging&gt;war&lt;/packaging&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.faces&lt;/groupId&gt;\n        &lt;artifactId&gt;jsf-api&lt;/artifactId&gt;\n        &lt;version&gt;2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.faces&lt;/groupId&gt;\n        &lt;artifactId&gt;jsf-impl&lt;/artifactId&gt;\n        &lt;version&gt;1.2-20&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.faces&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.faces-war-archetype&lt;/artifactId&gt;\n        &lt;version&gt;2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n        &lt;version&gt;9.1.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;finalName&gt;lab3&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;webXml&gt;src\\main\\webapp\\WEB-INF\\web.xml&lt;/webXml&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;properties&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>I'm trying to start the server using wildfly.Catching the following error</p>\n<pre><code>13:16:20,965 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0028: Stopped deployment lab3.war (runtime-name: lab3.war) in 14ms\n[2022-10-12 01:16:20,998] Artifact lab3.war: Error during artifact deployment. See server log for details.\n[2022-10-12 01:16:20,998] Artifact lab3.war: java.lang.Exception: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;lab3.war\\&quot;.undertow-deployment.UndertowDeploymentInfoService&quot; =&gt; &quot;Failed to start service\n    Caused by: java.lang.NoClassDefFoundError: Failed to link javax/faces/webapp/FacesServlet (Module \\&quot;deployment.lab3.war\\&quot; from Service Module Loader): javax/servlet/Servlet&quot;}} \n</code></pre>\n<p>I have already assembled my own project, and tried to launch others' ready-made ones. Everything doesn't work.</p>\n<p>also that web.the xml that is generated in target works strangely\n<a href=\"https://i.stack.imgur.com/xdbMe.png\" rel=\"nofollow noreferrer\">web.xml</a></p>\n"},{"tags":["java","string","list","dictionary"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1665573574,"post_id":74040852,"comment_id":130731288,"body_markdown":"Don&#39;t use `map` or `tempRes`, just do it in two nested loops.","body":"Don&#39;t use <code>map</code> or <code>tempRes</code>, just do it in two nested loops."},{"owner":{"account_id":2679531,"reputation":2832,"user_id":2315162,"accept_rate":81,"display_name":"sinclair"},"score":0,"creation_date":1665574197,"post_id":74040852,"comment_id":130731500,"body_markdown":"Your approach is far over the line. You can solve this task with two for-loops, basically.","body":"Your approach is far over the line. You can solve this task with two for-loops, basically."}],"answers":[{"tags":[],"owner":{"account_id":2679531,"reputation":2832,"user_id":2315162,"accept_rate":81,"display_name":"sinclair"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665575837,"creation_date":1665574310,"answer_id":74041114,"question_id":74040852,"body_markdown":"    for ( int i = 0 ; i &lt; input.length() ; i++){\r\n          System.out.print(Character.toUpperCase(input.charAt(i)));\r\n          for (int j = 0; j &lt; i; j++){\r\n              System.out.print(Character.toLowerCase(input.charAt(i)));\r\n          }\r\n          if ( i &lt; input.length() - 1)\r\n            System.out.print(&quot;-&quot;);\r\n      }","title":"Convert String to another String","body":"<pre><code>for ( int i = 0 ; i &lt; input.length() ; i++){\n      System.out.print(Character.toUpperCase(input.charAt(i)));\n      for (int j = 0; j &lt; i; j++){\n          System.out.print(Character.toLowerCase(input.charAt(i)));\n      }\n      if ( i &lt; input.length() - 1)\n        System.out.print(&quot;-&quot;);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665575652,"creation_date":1665575652,"answer_id":74041403,"question_id":74040852,"body_markdown":"This looks like a convenient stream operation.\r\n\r\n    AtomicInteger index = new AtomicInteger(0);\r\n    String result = &quot;NyffsGeyylB&quot;\r\n        .chars()\r\n\t    .mapToObj(c -&gt; String.valueOf((char) c))\r\n        .map(s -&gt; s.repeat(index.addAndGet(1)))\r\n        .map(s -&gt; s.substring(0,1).toUpperCase() + s.substring(1).toLowerCase())\r\n        .collect(Collectors.joining(&quot;-&quot;));\r\n    System.out.println(result);\r\n\r\n1. Define an accumulator to hold the current index.\r\n2. Get the characters as an IntStream using String.chars().\r\n3. Convert the character to a single letter String.\r\n4. Increase the accumulator and repeat the single letter string by the value in the accumulator.\r\n5. Convert the first letter to upper case and rest to lower case.\r\n6. Join with &quot;-&quot; and return result.\r\n\r\nConvenience may or may not be in the eye of the reviewer.","title":"Convert String to another String","body":"<p>This looks like a convenient stream operation.</p>\n<pre><code>AtomicInteger index = new AtomicInteger(0);\nString result = &quot;NyffsGeyylB&quot;\n    .chars()\n    .mapToObj(c -&gt; String.valueOf((char) c))\n    .map(s -&gt; s.repeat(index.addAndGet(1)))\n    .map(s -&gt; s.substring(0,1).toUpperCase() + s.substring(1).toLowerCase())\n    .collect(Collectors.joining(&quot;-&quot;));\nSystem.out.println(result);\n</code></pre>\n<ol>\n<li>Define an accumulator to hold the current index.</li>\n<li>Get the characters as an IntStream using String.chars().</li>\n<li>Convert the character to a single letter String.</li>\n<li>Increase the accumulator and repeat the single letter string by the value in the accumulator.</li>\n<li>Convert the first letter to upper case and rest to lower case.</li>\n<li>Join with &quot;-&quot; and return result.</li>\n</ol>\n<p>Convenience may or may not be in the eye of the reviewer.</p>\n"}],"owner":{"account_id":26583611,"reputation":39,"user_id":20207878,"display_name":"IMBABOT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74041114,"answer_count":2,"score":2,"last_activity_date":1665575837,"creation_date":1665573009,"question_id":74040852,"body_markdown":"I&#39;ve got:\r\n \r\n    String s = &quot;NyffsGeyylB&quot;;\r\n\r\nI need to change it to:\r\n\r\n    String result = &quot;N-Yy-Fff-Ffff-Sssss-Gggggg-Eeeeeee-Yyyyyyyy-Yyyyyyyyy-Llllllllll-Bbbbbbbbbbb&quot;;\r\n\r\nHere is my code so far:\r\n\r\n    // I use HashMap to count elements\r\n    Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\r\n    for (int i = 0; i &lt; s.length(); i++) {\r\n        map.put(i + 1, String.valueOf(s.charAt(i)));\r\n    }\r\n\r\n    // Then I convert it to list\r\n    for (Map.Entry&lt;Integer, String&gt; m : map.entrySet()) {\r\n        for (int i = 0; i &lt; m.getKey(); i++) {\r\n            tempRes.add(m.getValue());\r\n        }\r\n    }\r\n\r\n    // Then I capitalize first letters and add dash\r\n    ListIterator&lt;String&gt; iterator = tempRes.listIterator();\r\n    while (iterator.hasNext()) {\r\n        iterator.set(iterator.next().toLowerCase());\r\n    }\r\n    \r\n    result.add(tempRes.get(0).toUpperCase());\r\n    for (int i = 1; i &lt; tempRes.size(); i++) {\r\n        if (tempRes.get(i).equalsIgnoreCase(tempRes.get(i - 1))) {\r\n            result.add(tempRes.get(i));\r\n        } else {\r\n            result.add(&quot;-&quot;);\r\n            result.add(tempRes.get(i).toUpperCase());\r\n        }\r\n    }\r\n\r\n    // And finally I add elements from result list to string:\r\n    for (int i = 0; i &lt; result.size(); i++) {\r\n        finalResult += result.get(i);\r\n    }\r\n\r\nAs a result, I get:\r\n\r\n    &quot;N-Yy-Fffffff-Sssss-Gggggg-Eeeeeee-Yyyyyyyyyyyyyyyyy-Llllllllll-Bbbbbbbbbbb&quot;\r\n\r\nBut I need to get:\r\n\r\n    &quot;N-Yy-Fff-Ffff-Sssss-Gggggg-Eeeeeee-Yyyyyyyy-Yyyyyyyyy-Llllllllll-Bbbbbbbbbbb&quot;;\r\n\r\nHow can I achieve it?","title":"Convert String to another String","body":"<p>I've got:</p>\n<pre><code>String s = &quot;NyffsGeyylB&quot;;\n</code></pre>\n<p>I need to change it to:</p>\n<pre><code>String result = &quot;N-Yy-Fff-Ffff-Sssss-Gggggg-Eeeeeee-Yyyyyyyy-Yyyyyyyyy-Llllllllll-Bbbbbbbbbbb&quot;;\n</code></pre>\n<p>Here is my code so far:</p>\n<pre><code>// I use HashMap to count elements\nMap&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\nfor (int i = 0; i &lt; s.length(); i++) {\n    map.put(i + 1, String.valueOf(s.charAt(i)));\n}\n\n// Then I convert it to list\nfor (Map.Entry&lt;Integer, String&gt; m : map.entrySet()) {\n    for (int i = 0; i &lt; m.getKey(); i++) {\n        tempRes.add(m.getValue());\n    }\n}\n\n// Then I capitalize first letters and add dash\nListIterator&lt;String&gt; iterator = tempRes.listIterator();\nwhile (iterator.hasNext()) {\n    iterator.set(iterator.next().toLowerCase());\n}\n\nresult.add(tempRes.get(0).toUpperCase());\nfor (int i = 1; i &lt; tempRes.size(); i++) {\n    if (tempRes.get(i).equalsIgnoreCase(tempRes.get(i - 1))) {\n        result.add(tempRes.get(i));\n    } else {\n        result.add(&quot;-&quot;);\n        result.add(tempRes.get(i).toUpperCase());\n    }\n}\n\n// And finally I add elements from result list to string:\nfor (int i = 0; i &lt; result.size(); i++) {\n    finalResult += result.get(i);\n}\n</code></pre>\n<p>As a result, I get:</p>\n<pre><code>&quot;N-Yy-Fffffff-Sssss-Gggggg-Eeeeeee-Yyyyyyyyyyyyyyyyy-Llllllllll-Bbbbbbbbbbb&quot;\n</code></pre>\n<p>But I need to get:</p>\n<pre><code>&quot;N-Yy-Fff-Ffff-Sssss-Gggggg-Eeeeeee-Yyyyyyyy-Yyyyyyyyy-Llllllllll-Bbbbbbbbbbb&quot;;\n</code></pre>\n<p>How can I achieve it?</p>\n"},{"tags":["java","jar","noclassdeffounderror"],"answers":[{"tags":[],"owner":{"account_id":31307,"reputation":11191,"user_id":85863,"display_name":"andri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1246547440,"creation_date":1246547440,"answer_id":1074962,"question_id":1074955,"body_markdown":"You&#39;re trying to execute `mypackage.LockUtil`, but you should use `mypackage.locking.LockUtil` (note the `package` statement at the beginning of the class.).\r\n\r\nAnother possibility is that you have moved the class and forgot the update the `package` statement.","title":"NoClassDefFound when running a jar","body":"<p>You're trying to execute <code>mypackage.LockUtil</code>, but you should use <code>mypackage.locking.LockUtil</code> (note the <code>package</code> statement at the beginning of the class.).</p>\n\n<p>Another possibility is that you have moved the class and forgot the update the <code>package</code> statement.</p>\n"},{"tags":[],"owner":{"account_id":29723,"reputation":12111,"user_id":80530,"accept_rate":71,"display_name":"LB40"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1246547454,"creation_date":1246547454,"answer_id":1074967,"question_id":1074955,"body_markdown":"It seems that the name of your package is mypackage.locking and not only mypackage","title":"NoClassDefFound when running a jar","body":"<p>It seems that the name of your package is mypackage.locking and not only mypackage</p>\n"},{"tags":[],"owner":{"account_id":44066,"reputation":3830,"user_id":129104,"display_name":"Rick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1246547493,"creation_date":1246547493,"answer_id":1074970,"question_id":1074955,"body_markdown":"It appears that your main-class definition in your manifest is pointing at mypackage/LockUtil rather than mypackage/locking/LockUtil.\r\n\r\n-Rick","title":"NoClassDefFound when running a jar","body":"<p>It appears that your main-class definition in your manifest is pointing at mypackage/LockUtil rather than mypackage/locking/LockUtil.</p>\n\n<p>-Rick</p>\n"},{"tags":[],"owner":{"account_id":20694,"reputation":24019,"user_id":49713,"accept_rate":80,"display_name":"lavinio"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665575792,"creation_date":1246550606,"answer_id":1075236,"question_id":1074955,"body_markdown":"If you do `jar -tf foo.jar`, do you see something like this?\r\n\r\n    META-INF/\r\n    META-INF/MANIFEST.MF\r\n    mypackage/\r\n    mypackage/LockUtil.class\r\n\r\nCould it be that there is another directory level in there somewhere?\r\n\r\nYou can be sure that Java knows the main file is there by building the jar file with something like this:\r\n\r\n    jar cfe foo.jar mypackage.LockUtil mypackage/LockUtil.class","title":"NoClassDefFound when running a jar","body":"<p>If you do <code>jar -tf foo.jar</code>, do you see something like this?</p>\n<pre><code>META-INF/\nMETA-INF/MANIFEST.MF\nmypackage/\nmypackage/LockUtil.class\n</code></pre>\n<p>Could it be that there is another directory level in there somewhere?</p>\n<p>You can be sure that Java knows the main file is there by building the jar file with something like this:</p>\n<pre><code>jar cfe foo.jar mypackage.LockUtil mypackage/LockUtil.class\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11385,"reputation":24062,"user_id":21925,"accept_rate":62,"display_name":"Robin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1246551541,"creation_date":1246551541,"answer_id":1075319,"question_id":1074955,"body_markdown":"Does LockUtil have a dependency on another class that is not resolvable, thereby not allowing LockUtil to load?","title":"NoClassDefFound when running a jar","body":"<p>Does LockUtil have a dependency on another class that is not resolvable, thereby not allowing LockUtil to load?</p>\n"}],"owner":{"account_id":6636,"reputation":224522,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6083,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1665575792,"creation_date":1246547346,"question_id":1074955,"body_markdown":"I built a jar using IntelliJ, setting the main class properly.\r\n\r\nWhen I run &quot;java -jar foo.jar&quot; from the command line (Windows), I get an exception that claims the main file is missing. The main class looks something like:\r\n\r\n    package mypackage;\r\n        \r\n    public class LockUtil {\r\n      public static void main(String[] args) {\r\n      ...\r\n\r\nI&#39;m getting the following exception:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: mypackage/LockUtil\r\n    Caused by: java.lang.ClassNotFoundException: mypackage.LockUtil\r\n            at java.net.URLClassLoader$1.run(Unknown Source)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at java.net.URLClassLoader.findClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClass(Unknown Source)\r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClassInternal(Unknown Source)\r\n    Could not find the main class: mypackage.LockUtil. Program will exit.\r\n\r\nThe manifest file contains:\r\n\r\n    Manifest-Version: 1.0\r\n    Created-By: IntelliJ IDEA\r\n    Main-Class: mypackage.LockUtil\r\n\r\nAnd the jar contains the appropriate directory structure with the .class file.","title":"NoClassDefFound when running a jar","body":"<p>I built a jar using IntelliJ, setting the main class properly.</p>\n\n<p>When I run \"java -jar foo.jar\" from the command line (Windows), I get an exception that claims the main file is missing. The main class looks something like:</p>\n\n<pre><code>package mypackage;\n\npublic class LockUtil {\n  public static void main(String[] args) {\n  ...\n</code></pre>\n\n<p>I'm getting the following exception:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: mypackage/LockUtil\nCaused by: java.lang.ClassNotFoundException: mypackage.LockUtil\n        at java.net.URLClassLoader$1.run(Unknown Source)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClassInternal(Unknown Source)\nCould not find the main class: mypackage.LockUtil. Program will exit.\n</code></pre>\n\n<p>The manifest file contains:</p>\n\n<pre><code>Manifest-Version: 1.0\nCreated-By: IntelliJ IDEA\nMain-Class: mypackage.LockUtil\n</code></pre>\n\n<p>And the jar contains the appropriate directory structure with the .class file.</p>\n"},{"tags":["java","decimalformat"],"comments":[{"owner":{"account_id":27004,"reputation":28823,"user_id":70795,"accept_rate":56,"display_name":"Mark"},"score":0,"creation_date":1552252120,"post_id":55091509,"comment_id":96929405,"body_markdown":"Reading the DecimalFormat javadoc section on scientific notation I suspect it is related to the minimum and maximum number of integer digits and how they impact the output? I&#39;ve not had a chance to look more deeply though.","body":"Reading the DecimalFormat javadoc section on scientific notation I suspect it is related to the minimum and maximum number of integer digits and how they impact the output? I&#39;ve not had a chance to look more deeply though."},{"owner":{"account_id":12695174,"reputation":45171,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1552254152,"post_id":55091509,"comment_id":96929865,"body_markdown":"When I read the doc it says that the number of significant digits in the mantissa is the minimum integer digits (1) plus the maximum fraction digits (1) so it should be at least 2 (1.23E3) but I can&#39;t conclude from the documentation why it becomes 3 digits.","body":"When I read the doc it says that the number of significant digits in the mantissa is the minimum integer digits (1) plus the maximum fraction digits (1) so it should be at least 2 (1.23E3) but I can&#39;t conclude from the documentation why it becomes 3 digits."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1552263363,"post_id":55091509,"comment_id":96931748,"body_markdown":"You are forcing it into engineering notation. See the Javadoc.","body":"You are forcing it into engineering notation. See the Javadoc."},{"owner":{"account_id":239789,"reputation":29807,"user_id":509627,"accept_rate":63,"display_name":"David Thielen"},"score":0,"creation_date":1552264924,"post_id":55091509,"comment_id":96932014,"body_markdown":"@user207421 Is there a way to take it out of engineering notation? I&#39;m trying to emulate what Excel does.","body":"@user207421 Is there a way to take it out of engineering notation? I&#39;m trying to emulate what Excel does."}],"answers":[{"tags":[],"owner":{"account_id":26592641,"reputation":1,"user_id":20215583,"display_name":"Adam Malick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665575567,"creation_date":1665506900,"answer_id":74031528,"question_id":55091509,"body_markdown":"`0.#E0` would give you the correct answer.","title":"DecimalFormat pattern of ##0.0E0 returning 1.235E3","body":"<p><code>0.#E0</code> would give you the correct answer.</p>\n"}],"owner":{"account_id":239789,"reputation":29807,"user_id":509627,"accept_rate":63,"display_name":"David Thielen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1665575567,"creation_date":1552246062,"question_id":55091509,"body_markdown":"DecimalFormat appears to be ignoring the pattern for the decimal part of a number.\r\n\r\n    DecimalFormat formatter = (DecimalFormat) NumberFormat.getNumberInstance(locale);\r\n    formatter.applyPattern(&quot;##0.0E&quot;);\r\n    String text = formatter.format(Double.valueOf(1234.5678));\r\n    // text is 1.235E3\r\n\r\nWhy doesn&#39;t it return 1.2E3?\r\n\r\n","title":"DecimalFormat pattern of ##0.0E0 returning 1.235E3","body":"<p>DecimalFormat appears to be ignoring the pattern for the decimal part of a number.</p>\n\n<pre><code>DecimalFormat formatter = (DecimalFormat) NumberFormat.getNumberInstance(locale);\nformatter.applyPattern(\"##0.0E\");\nString text = formatter.format(Double.valueOf(1234.5678));\n// text is 1.235E3\n</code></pre>\n\n<p>Why doesn't it return 1.2E3?</p>\n"},{"tags":["java","regex","spring","rest"],"comments":[{"owner":{"account_id":8741282,"reputation":1956,"user_id":6538278,"display_name":"0009laH"},"score":1,"creation_date":1665572937,"post_id":74040800,"comment_id":130731054,"body_markdown":"On the left side of Regex101, you&#39;ve selected `PCRE2` instead of `Java 8`","body":"On the left side of Regex101, you&#39;ve selected <code>PCRE2</code> instead of <code>Java 8</code>"},{"owner":{"account_id":12786516,"reputation":149,"user_id":9252607,"display_name":"divine_rythm"},"score":0,"creation_date":1665572992,"post_id":74040800,"comment_id":130731067,"body_markdown":"same output for java","body":"same output for java"},{"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"score":1,"creation_date":1665573038,"post_id":74040800,"comment_id":130731084,"body_markdown":"Could you share the error.","body":"Could you share the error."},{"owner":{"account_id":8741282,"reputation":1956,"user_id":6538278,"display_name":"0009laH"},"score":1,"creation_date":1665573085,"post_id":74040800,"comment_id":130731105,"body_markdown":"@divine_rythm you&#39;re right, my bad :)","body":"@divine_rythm you&#39;re right, my bad :)"},{"owner":{"account_id":12786516,"reputation":149,"user_id":9252607,"display_name":"divine_rythm"},"score":0,"creation_date":1665573113,"post_id":74040800,"comment_id":130731112,"body_markdown":"@Sumit - I am getting custom error which I have passed in pattern annotation : message = REGISTRY_CONFIG_TYPE_ERROR","body":"@Sumit - I am getting custom error which I have passed in pattern annotation : message = REGISTRY_CONFIG_TYPE_ERROR"},{"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"score":1,"creation_date":1665573843,"post_id":74040800,"comment_id":130731373,"body_markdown":"Have you tried without Constant variable like &quot;Type$&quot;","body":"Have you tried without Constant variable like &quot;Type$&quot;"},{"owner":{"account_id":12786516,"reputation":149,"user_id":9252607,"display_name":"divine_rythm"},"score":0,"creation_date":1665575697,"post_id":74040800,"comment_id":130732048,"body_markdown":"@Janil101 - yes same error","body":"@Janil101 - yes same error"}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1665574041,"creation_date":1665574041,"answer_id":74041038,"question_id":74040800,"body_markdown":"It may not be 100% clear from the javadoc, but the `regexp` must *match*. In other words, the entire input must be captured by the `regexp`. A simple fix: `.*Type`. Note that the `$` is unnecessary, as that&#39;s already implied by the matching.\r\n\r\nYour regex would be valid if _find_ where used instead of _match_.","title":"Javax Pattern annotation failing for correct values","body":"<p>It may not be 100% clear from the javadoc, but the <code>regexp</code> must <em>match</em>. In other words, the entire input must be captured by the <code>regexp</code>. A simple fix: <code>.*Type</code>. Note that the <code>$</code> is unnecessary, as that's already implied by the matching.</p>\n<p>Your regex would be valid if <em>find</em> where used instead of <em>match</em>.</p>\n"},{"tags":[],"owner":{"account_id":17596063,"reputation":53,"user_id":12766940,"display_name":"Novacean Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665574778,"creation_date":1665574778,"answer_id":74041206,"question_id":74040800,"body_markdown":"Try changing you constant to:\r\n\r\n```\r\nREGISTRY_CONFIG_TYPE_FORMAT = &quot;\\\\w*Type\\\\b&quot;;\r\n```\r\n\r\nFrom [RegExr][1]:\r\n```\r\n\\w  Word. Matches any word character (alphanumeric &amp; underscore).\r\n  *  Quantifier. Match 0 or more of the preceding token.\r\nT  Character. Matches a &quot;T&quot; character (char code 84). Case sensitive.\r\ny  Character. Matches a &quot;y&quot; character (char code 84). Case sensitive.\r\np  Character. Matches a &quot;p&quot; character (char code 84). Case sensitive.\r\ne  Character. Matches a &quot;e&quot; character (char code 84). Case sensitive.\r\n\\b  Word boundary. Matches a word boundary position between a word character and non-word character or position (start / end of string).\r\n```\r\n\r\nHope this will help.\r\n\r\n\r\n  [1]: https://regexr.com/","title":"Javax Pattern annotation failing for correct values","body":"<p>Try changing you constant to:</p>\n<pre><code>REGISTRY_CONFIG_TYPE_FORMAT = &quot;\\\\w*Type\\\\b&quot;;\n</code></pre>\n<p>From <a href=\"https://regexr.com/\" rel=\"nofollow noreferrer\">RegExr</a>:</p>\n<pre><code>\\w  Word. Matches any word character (alphanumeric &amp; underscore).\n  *  Quantifier. Match 0 or more of the preceding token.\nT  Character. Matches a &quot;T&quot; character (char code 84). Case sensitive.\ny  Character. Matches a &quot;y&quot; character (char code 84). Case sensitive.\np  Character. Matches a &quot;p&quot; character (char code 84). Case sensitive.\ne  Character. Matches a &quot;e&quot; character (char code 84). Case sensitive.\n\\b  Word boundary. Matches a word boundary position between a word character and non-word character or position (start / end of string).\n</code></pre>\n<p>Hope this will help.</p>\n"},{"tags":[],"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1665575524,"creation_date":1665575524,"answer_id":74041380,"question_id":74040800,"body_markdown":"Try this for your case\r\n\r\n    REGISTRY_CONFIG_TYPE_FORMAT= &quot;.*Type$&quot;;","title":"Javax Pattern annotation failing for correct values","body":"<p>Try this for your case</p>\n<pre><code>REGISTRY_CONFIG_TYPE_FORMAT= &quot;.*Type$&quot;;\n</code></pre>\n"}],"owner":{"account_id":12786516,"reputation":149,"user_id":9252607,"display_name":"divine_rythm"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74041038,"answer_count":3,"score":0,"last_activity_date":1665575524,"creation_date":1665572717,"question_id":74040800,"body_markdown":"I need to use validation where input value should end with &quot;Type&quot; So I came up with *Type$* regex, but it is failing for correct values. Here is how I am using this in Pattern annotation in my code\r\n\r\n    @Pattern(regexp = REGISTRY_CONFIG_TYPE_FORMAT,message = REGISTRY_CONFIG_TYPE_ERROR)\r\n    @ApiModelProperty(name = &quot;registryConfigType&quot;, dataType = &quot;String&quot;, value = &quot;OccasionType&quot;, example = &quot;OccasionType&quot;, required = true)\r\n    private String registryConfigType;\r\n\r\nthe constant value\r\n\r\n    REGISTRY_CONFIG_TYPE_FORMAT = &quot;Type$&quot;\r\n\r\nwhen I am passing value like : OccasionType, I am getting the error message. But on regex101 it&#39;s working fine. Not sure where is the problem.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sw01q.png\r\n\r\nfollowing is the error log which I am getting\r\n\r\n    Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public com.macys.registry.dataobject.v1.response.RegistryAppResponse&lt;java.lang.Object&gt; com.macys.registry.controller.RegistryConfigController.updateConfig(com.macys.registry.dataobject.v1.request.UpdateRegistryConfigRequest): [Field error in object &#39;updateRegistryConfigRequest&#39; on field &#39;registryConfigType&#39;: rejected value [OccasionType]; codes [Pattern.updateRegistryConfigRequest.registryConfigType,Pattern.registryConfigType,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [updateRegistryConfigRequest.registryConfigType,registryConfigType]; arguments []; default message [registryConfigType],[Ljavax.validation.constraints.Pattern$Flag;@20999237,Type$]; default message [Registry Config Type Should Not Be Null And Should End With [Type]]] ]","title":"Javax Pattern annotation failing for correct values","body":"<p>I need to use validation where input value should end with &quot;Type&quot; So I came up with <em>Type$</em> regex, but it is failing for correct values. Here is how I am using this in Pattern annotation in my code</p>\n<pre><code>@Pattern(regexp = REGISTRY_CONFIG_TYPE_FORMAT,message = REGISTRY_CONFIG_TYPE_ERROR)\n@ApiModelProperty(name = &quot;registryConfigType&quot;, dataType = &quot;String&quot;, value = &quot;OccasionType&quot;, example = &quot;OccasionType&quot;, required = true)\nprivate String registryConfigType;\n</code></pre>\n<p>the constant value</p>\n<pre><code>REGISTRY_CONFIG_TYPE_FORMAT = &quot;Type$&quot;\n</code></pre>\n<p>when I am passing value like : OccasionType, I am getting the error message. But on regex101 it's working fine. Not sure where is the problem.</p>\n<p><a href=\"https://i.stack.imgur.com/sw01q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sw01q.png\" alt=\"enter image description here\" /></a></p>\n<p>following is the error log which I am getting</p>\n<pre><code>Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public com.macys.registry.dataobject.v1.response.RegistryAppResponse&lt;java.lang.Object&gt; com.macys.registry.controller.RegistryConfigController.updateConfig(com.macys.registry.dataobject.v1.request.UpdateRegistryConfigRequest): [Field error in object 'updateRegistryConfigRequest' on field 'registryConfigType': rejected value [OccasionType]; codes [Pattern.updateRegistryConfigRequest.registryConfigType,Pattern.registryConfigType,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [updateRegistryConfigRequest.registryConfigType,registryConfigType]; arguments []; default message [registryConfigType],[Ljavax.validation.constraints.Pattern$Flag;@20999237,Type$]; default message [Registry Config Type Should Not Be Null And Should End With [Type]]] ]\n</code></pre>\n"},{"tags":["java","android","kotlin","android-room"],"answers":[{"tags":[],"owner":{"account_id":18280013,"reputation":9775,"user_id":13308991,"display_name":"Arpit Shukla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665552452,"creation_date":1665552452,"answer_id":74036875,"question_id":74036507,"body_markdown":"Probably not exactly what you want, but an alternative to writing complex SQL query can be to transform the flow of list of `ChapterDetails` which can be returned by the DAO easily.\r\n```kotlin\r\ninterface ChapterDetailsDao {\r\n    @Query(&quot;SELECT * FROM ChapterDetails&quot;)\r\n    fun getChapterDetails(): Flow&lt;List&lt;ChapterDetails&gt;&gt;\r\n}\r\n\r\nval chapterDetailsMapFlow: Flow&lt;Map&lt;Int, Pair&lt;Int, Int&gt;&gt;&gt; =  \r\n    dao.getChapterDetails().map { list -&gt;\r\n        list.associate { it.id to (it. correctAnswersCount to it. totalQuestionsCount) }\r\n    }\r\n```\r\nIf you are worried that fetching all the columns when you only need three will impact performance, I guess you will have to create a new data class consisting only those particular columns, but even then you will have to convert the list to map yourself as above.\r\n```kotlin\r\ndata class ChapterDetailsCounts(\r\n   val id: Int,\r\n   var correctAnswersCount: Int,\r\n   var totalQuestionsCount: Int\r\n)\r\n\r\ninterface ChapterDetailsDao {\r\n    @Query(&quot;SELECT id, correctAnswersCount, totalQuestionsCount FROM ChapterDetails&quot;)\r\n    fun getChapterDetails(): Flow&lt;List&lt;ChapterDetailsCounts&gt;&gt;\r\n}\r\n```","title":"Android room how to return a flow of Map where the map value can be a pair or an object?","body":"<p>Probably not exactly what you want, but an alternative to writing complex SQL query can be to transform the flow of list of <code>ChapterDetails</code> which can be returned by the DAO easily.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>interface ChapterDetailsDao {\n    @Query(&quot;SELECT * FROM ChapterDetails&quot;)\n    fun getChapterDetails(): Flow&lt;List&lt;ChapterDetails&gt;&gt;\n}\n\nval chapterDetailsMapFlow: Flow&lt;Map&lt;Int, Pair&lt;Int, Int&gt;&gt;&gt; =  \n    dao.getChapterDetails().map { list -&gt;\n        list.associate { it.id to (it. correctAnswersCount to it. totalQuestionsCount) }\n    }\n</code></pre>\n<p>If you are worried that fetching all the columns when you only need three will impact performance, I guess you will have to create a new data class consisting only those particular columns, but even then you will have to convert the list to map yourself as above.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class ChapterDetailsCounts(\n   val id: Int,\n   var correctAnswersCount: Int,\n   var totalQuestionsCount: Int\n)\n\ninterface ChapterDetailsDao {\n    @Query(&quot;SELECT id, correctAnswersCount, totalQuestionsCount FROM ChapterDetails&quot;)\n    fun getChapterDetails(): Flow&lt;List&lt;ChapterDetailsCounts&gt;&gt;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665575392,"creation_date":1665575392,"answer_id":74041353,"question_id":74036507,"body_markdown":"You could something like:-\r\n\r\nA) Have a suitable POJO e.g. :-\r\n\r\n    data class ChapterDetailsCount(\r\n        val chapterDetailsCount: Map&lt;Int,Pair&lt;Int,Int&gt;&gt;\r\n    )\r\n\r\nB) Have a base query that gets the respective ChapterDetails list. e.g.\r\n\r\n    @Query(&quot;SELECT * FROM ChapterDetails&quot;)\r\n    fun getChapterDetails(): List&lt;ChapterDetails&gt;\r\n\r\nC) Have a function (in the `@Dao` annotated interface) **with a body**, that uses the base query to get the ChapterDetails list but then returns the list of the POJO e.g.\r\n\r\n    fun getChapterDetailsCountList(): List&lt;ChapterDetailsCount&gt; {\r\n        val rv: ArrayList&lt;ChapterDetailsCount&gt; = arrayListOf()\r\n        for (cd in getChapterDetails()) {\r\n            rv.add(ChapterDetailsCount(mapOf(cd.id to Pair(first = cd.correctAnswersCount, second = cd.totalQuestionsCount))))\r\n        }\r\n        return rv.toList()\r\n    }\r\n\r\n- Note I haven&#39;t used Flow because I don&#39;t do stuff with Flow\r\n\r\n\r\nThe following demonstrates:-\r\n\r\n        db = TheDatabase.getInstance(this)\r\n        dao = db.getChapterDetailsDao()\r\n\r\n        val t1 = dao.getChapterDetailsCountList()\r\n        dao.insert(ChapterDetails(100,5,10))\r\n        val t2 = dao.getChapterDetailsCountList()\r\n\r\n\r\n- with a breakpoint after the last line and :-\r\n\r\n[![enter image description here][1]][1]\r\n\r\n- i.e. \r\n    - first is empty as expected (now rows exist at that point)\r\n    - second has the expected data from the first row\r\n\r\n- You just need to adapt it to use Flow\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s3T2I.png","title":"Android room how to return a flow of Map where the map value can be a pair or an object?","body":"<p>You could something like:-</p>\n<p>A) Have a suitable POJO e.g. :-</p>\n<pre><code>data class ChapterDetailsCount(\n    val chapterDetailsCount: Map&lt;Int,Pair&lt;Int,Int&gt;&gt;\n)\n</code></pre>\n<p>B) Have a base query that gets the respective ChapterDetails list. e.g.</p>\n<pre><code>@Query(&quot;SELECT * FROM ChapterDetails&quot;)\nfun getChapterDetails(): List&lt;ChapterDetails&gt;\n</code></pre>\n<p>C) Have a function (in the <code>@Dao</code> annotated interface) <strong>with a body</strong>, that uses the base query to get the ChapterDetails list but then returns the list of the POJO e.g.</p>\n<pre><code>fun getChapterDetailsCountList(): List&lt;ChapterDetailsCount&gt; {\n    val rv: ArrayList&lt;ChapterDetailsCount&gt; = arrayListOf()\n    for (cd in getChapterDetails()) {\n        rv.add(ChapterDetailsCount(mapOf(cd.id to Pair(first = cd.correctAnswersCount, second = cd.totalQuestionsCount))))\n    }\n    return rv.toList()\n}\n</code></pre>\n<ul>\n<li>Note I haven't used Flow because I don't do stuff with Flow</li>\n</ul>\n<p>The following demonstrates:-</p>\n<pre><code>    db = TheDatabase.getInstance(this)\n    dao = db.getChapterDetailsDao()\n\n    val t1 = dao.getChapterDetailsCountList()\n    dao.insert(ChapterDetails(100,5,10))\n    val t2 = dao.getChapterDetailsCountList()\n</code></pre>\n<ul>\n<li>with a breakpoint after the last line and :-</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/s3T2I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s3T2I.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li><p>i.e.</p>\n<ul>\n<li>first is empty as expected (now rows exist at that point)</li>\n<li>second has the expected data from the first row</li>\n</ul>\n</li>\n<li><p>You just need to adapt it to use Flow</p>\n</li>\n</ul>\n"}],"owner":{"account_id":12431895,"reputation":2066,"user_id":9053942,"display_name":"Qazi Fahim Farhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":583,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665575392,"creation_date":1665548923,"question_id":74036507,"body_markdown":"I have a table like this:\r\n```\r\ndata class ChapterDetails(\r\n   val id: Int,\r\n   var correctAnswersCount: Int,\r\n   var totalQuestionsCount: Int,\r\n   // ... ... ...\r\n)\r\n```\r\n\r\nI would like to return a Flow&lt;Map&lt;Int, Pair&lt;Int, Int&gt;&gt; &gt; from the room dao. I saw this [stackOverflow answer](https://stackoverflow.com/a/72990697/9053942), and this [mapInfo doc](https://developer.android.com/reference/androidx/room/MapInfo) but they return only 2 comumns. I need a map where the key is Id, and value is a pair of &lt;correctAnswersCount, totalQuestionsCount&gt;. What is the room way of doing this?","title":"Android room how to return a flow of Map where the map value can be a pair or an object?","body":"<p>I have a table like this:</p>\n<pre><code>data class ChapterDetails(\n   val id: Int,\n   var correctAnswersCount: Int,\n   var totalQuestionsCount: Int,\n   // ... ... ...\n)\n</code></pre>\n<p>I would like to return a Flow&lt;Map&lt;Int, Pair&lt;Int, Int&gt;&gt; &gt; from the room dao. I saw this <a href=\"https://stackoverflow.com/a/72990697/9053942\">stackOverflow answer</a>, and this <a href=\"https://developer.android.com/reference/androidx/room/MapInfo\" rel=\"nofollow noreferrer\">mapInfo doc</a> but they return only 2 comumns. I need a map where the key is Id, and value is a pair of &lt;correctAnswersCount, totalQuestionsCount&gt;. What is the room way of doing this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":2,"creation_date":1652715615,"post_id":72261851,"comment_id":127667211,"body_markdown":"&quot;I&#39;m working on a problem. I found a solution but it doesn&#39;t work&quot;. This is not a question we can answer in any form, without knowing what either the problem or the proposed solution is.","body":"&quot;I&#39;m working on a problem. I found a solution but it doesn&#39;t work&quot;. This is not a question we can answer in any form, without knowing what either the problem or the proposed solution is."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1652716836,"post_id":72261851,"comment_id":127667686,"body_markdown":"What about [How to set system property?](https://stackoverflow.com/questions/5189914/how-to-set-system-property) and similar questions? Do these help?","body":"What about <a href=\"https://stackoverflow.com/questions/5189914/how-to-set-system-property\">How to set system property?</a> and similar questions? Do these help?"},{"owner":{"account_id":25249238,"reputation":43,"user_id":19087351,"display_name":"Paulo Henrique Neves"},"score":0,"creation_date":1652718872,"post_id":72261851,"comment_id":127668398,"body_markdown":"Sorry about the lack of details, I changed the problem explanation.","body":"Sorry about the lack of details, I changed the problem explanation."}],"answers":[{"tags":[],"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1665575002,"creation_date":1652801593,"answer_id":72276869,"question_id":72261851,"body_markdown":"It seems you&#39;re running into this problem: https://stackoverflow.com/questions/71966064/java-fileoutputstreamnul-not-working-after-java-upgrade\r\n\r\nThe code you&#39;re referencing that is causing the problem is from https://code.yawk.at/org.jboss.xnio/xnio-api/3.8.4.Final/org/xnio/conduits/Conduits.java\r\n```\r\n    static {\r\n        NULL_FILE_CHANNEL = AccessController.doPrivileged(new PrivilegedAction&lt;FileChannel&gt;() {\r\n            public FileChannel run() {\r\n                final String osName = System.getProperty(&quot;os.name&quot;, &quot;unknown&quot;).toLowerCase(Locale.US);\r\n                try {\r\n                    if (osName.contains(&quot;windows&quot;)) {\r\n                        return new FileOutputStream(&quot;NUL:&quot;).getChannel();\r\n                    } else {\r\n                        return new FileOutputStream(&quot;/dev/null&quot;).getChannel();\r\n                    }\r\n                } catch (FileNotFoundException e) {\r\n                    throw new IOError(e);\r\n                }\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\nI&#39;ve looked at the sources for this release (`3.8.4`) and the most recent release on maven central (`3.8.7`): https://mvnrepository.com/artifact/org.jboss.xnio/xnio-api/3.8.7.Final\r\n\r\nAnd there is some good news, it has been fixed in the latest release of `xnio-api`. The current code in version `3.8.7` is now as follows: (`NUL:` was replaced by `NUL`)\r\n```\r\n                    if (osName.contains(&quot;windows&quot;)) {\r\n                        return new FileOutputStream(&quot;NUL&quot;).getChannel();\r\n                    } else {\r\n                        return new FileOutputStream(&quot;/dev/null&quot;).getChannel();\r\n                    }\r\n```\r\n\r\nSo if it&#39;s possible i would suggest you try to upgrade your dependency so that `xnio-api-3.8.7.Final.jar` is used.\r\n\r\n**Update 09-2022**\r\nThanks to the comment of @NicolasRiousset, who found the [following issue](https://github.com/jhipster/generator-jhipster/issues/18440) logged on jhipster&#39;s github, i have further traced this problematic dependency.\r\n\r\nIt starts with the `optional` dependency to `spring-boot-starter-undertow`, which in turn depends on `undertow-core`, and that depends on `xnio-api` from Jboss.\r\n\r\nThe earliest version that includes the fix (`xnio-api-3.8.7`) can be found in [`undertow-core 2.2.18.Final`](https://mvnrepository.com/artifact/io.undertow/undertow-core/2.2.18.Final). The earliest version that uses this is [`spring-boot-starter-undertow 2.7.1`](https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-undertow/2.7.1). \r\n\r\nAnd JHipster starts including `spring-boot` version &gt;= `2.7.1` from [`jhipster-framework 7.9.0`](https://mvnrepository.com/artifact/tech.jhipster/jhipster-framework/7.9.0).\r\n\r\nSo upgrading to JHipster &gt;= `7.9.0` should fix this problematic `xnio-api` dependency.\r\n\r\nIn case you don&#39;t strictly need `undertow` as your embedded web server, you can also switch (back) to `spring-boot-starter-tomcat`, since tomcat doesn&#39;t use the `xnio-api`.\r\n\r\n------\r\n\r\nOtherwise the mentioned system property should indeed also be a valid workaround for now. Since the code is statically loaded, i think you&#39;ll have to use VM arguments to include it in your program instead of using `System.setProperty`.\r\n\r\nSo add `-Djdk.io.File.enableADS=true` to your programs startup/command line.\r\nSee for reference the following question that was mentioned in the comments: https://stackoverflow.com/questions/5189914/how-to-set-system-property\r\n\r\nIt does also seem to be fixed in newer version of the Java runtime, so upgrading your JDK/JRE is also an option. According to the linked question at the top it&#39;s fixed in Java 8u333, and on my test system with Java 17.0.2 both versions of `NUL` also work.","title":"JHipster error when I try to connect in the site. Java.lang.noclassdeffounderror","body":"<p>It seems you're running into this problem: <a href=\"https://stackoverflow.com/questions/71966064/java-fileoutputstreamnul-not-working-after-java-upgrade\">Java: FileOutputStream(&quot;NUL:&quot;) not working after Java upgrade</a></p>\n<p>The code you're referencing that is causing the problem is from <a href=\"https://code.yawk.at/org.jboss.xnio/xnio-api/3.8.4.Final/org/xnio/conduits/Conduits.java\" rel=\"nofollow noreferrer\">https://code.yawk.at/org.jboss.xnio/xnio-api/3.8.4.Final/org/xnio/conduits/Conduits.java</a></p>\n<pre><code>    static {\n        NULL_FILE_CHANNEL = AccessController.doPrivileged(new PrivilegedAction&lt;FileChannel&gt;() {\n            public FileChannel run() {\n                final String osName = System.getProperty(&quot;os.name&quot;, &quot;unknown&quot;).toLowerCase(Locale.US);\n                try {\n                    if (osName.contains(&quot;windows&quot;)) {\n                        return new FileOutputStream(&quot;NUL:&quot;).getChannel();\n                    } else {\n                        return new FileOutputStream(&quot;/dev/null&quot;).getChannel();\n                    }\n                } catch (FileNotFoundException e) {\n                    throw new IOError(e);\n                }\n            }\n        });\n    }\n</code></pre>\n<p>I've looked at the sources for this release (<code>3.8.4</code>) and the most recent release on maven central (<code>3.8.7</code>): <a href=\"https://mvnrepository.com/artifact/org.jboss.xnio/xnio-api/3.8.7.Final\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.jboss.xnio/xnio-api/3.8.7.Final</a></p>\n<p>And there is some good news, it has been fixed in the latest release of <code>xnio-api</code>. The current code in version <code>3.8.7</code> is now as follows: (<code>NUL:</code> was replaced by <code>NUL</code>)</p>\n<pre><code>                    if (osName.contains(&quot;windows&quot;)) {\n                        return new FileOutputStream(&quot;NUL&quot;).getChannel();\n                    } else {\n                        return new FileOutputStream(&quot;/dev/null&quot;).getChannel();\n                    }\n</code></pre>\n<p>So if it's possible i would suggest you try to upgrade your dependency so that <code>xnio-api-3.8.7.Final.jar</code> is used.</p>\n<p><strong>Update 09-2022</strong>\nThanks to the comment of @NicolasRiousset, who found the <a href=\"https://github.com/jhipster/generator-jhipster/issues/18440\" rel=\"nofollow noreferrer\">following issue</a> logged on jhipster's github, i have further traced this problematic dependency.</p>\n<p>It starts with the <code>optional</code> dependency to <code>spring-boot-starter-undertow</code>, which in turn depends on <code>undertow-core</code>, and that depends on <code>xnio-api</code> from Jboss.</p>\n<p>The earliest version that includes the fix (<code>xnio-api-3.8.7</code>) can be found in <a href=\"https://mvnrepository.com/artifact/io.undertow/undertow-core/2.2.18.Final\" rel=\"nofollow noreferrer\"><code>undertow-core 2.2.18.Final</code></a>. The earliest version that uses this is <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-undertow/2.7.1\" rel=\"nofollow noreferrer\"><code>spring-boot-starter-undertow 2.7.1</code></a>.</p>\n<p>And JHipster starts including <code>spring-boot</code> version &gt;= <code>2.7.1</code> from <a href=\"https://mvnrepository.com/artifact/tech.jhipster/jhipster-framework/7.9.0\" rel=\"nofollow noreferrer\"><code>jhipster-framework 7.9.0</code></a>.</p>\n<p>So upgrading to JHipster &gt;= <code>7.9.0</code> should fix this problematic <code>xnio-api</code> dependency.</p>\n<p>In case you don't strictly need <code>undertow</code> as your embedded web server, you can also switch (back) to <code>spring-boot-starter-tomcat</code>, since tomcat doesn't use the <code>xnio-api</code>.</p>\n<hr />\n<p>Otherwise the mentioned system property should indeed also be a valid workaround for now. Since the code is statically loaded, i think you'll have to use VM arguments to include it in your program instead of using <code>System.setProperty</code>.</p>\n<p>So add <code>-Djdk.io.File.enableADS=true</code> to your programs startup/command line.\nSee for reference the following question that was mentioned in the comments: <a href=\"https://stackoverflow.com/questions/5189914/how-to-set-system-property\">How to set system property?</a></p>\n<p>It does also seem to be fixed in newer version of the Java runtime, so upgrading your JDK/JRE is also an option. According to the linked question at the top it's fixed in Java 8u333, and on my test system with Java 17.0.2 both versions of <code>NUL</code> also work.</p>\n"},{"tags":[],"owner":{"account_id":19421354,"reputation":51,"user_id":14203819,"display_name":"Cody McCarty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657990634,"creation_date":1657990634,"answer_id":73006118,"question_id":72261851,"body_markdown":"I ran into this same issue.  I closed and reopened IntelliJ.  Now it works.  Worth trying before getting too deep down the rabbit hole.","title":"JHipster error when I try to connect in the site. Java.lang.noclassdeffounderror","body":"<p>I ran into this same issue.  I closed and reopened IntelliJ.  Now it works.  Worth trying before getting too deep down the rabbit hole.</p>\n"}],"owner":{"account_id":25249238,"reputation":43,"user_id":19087351,"display_name":"Paulo Henrique Neves"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3759,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1665575002,"creation_date":1652715477,"question_id":72261851,"body_markdown":"I&#39;m trying to solve a problem with my Java project and one of the possible solutions is to change `jdk.io.File.enableADS` to `TRUE` in system properties. But, i don&#39;t know how to change it.\r\n \r\nI&#39;m also working in a project that uses jhipster and undertow. My project builds with no error, generating the connection link, but when I try to connect the page it doesn&#39;t load and the application shows the error: \r\n\r\n```\r\njava.lang.NoClassDefFoundError: Could not initialize class org.xnio.conduits.Conduit\r\n```\r\n\r\nI&#39;ve looked at the code, found the line that throws the error and I saw in many blogs people telling to change the config above the text. \r\n\r\nI&#39;m using the JDK 11.0.15\r\n\r\nThis is the code that throws the error:\r\n\r\n```java\r\n try {\r\n    if (osName.contains(&quot;windows&quot;)) {\r\n         return new FileOutputStream(&quot;NUL:&quot;).getChannel();\r\n    } else {\r\n         return new FileOutputStream(&quot;/dev/null&quot;).getChannel();\r\n    }\r\n} catch (FileNotFoundException e) {\r\n    throw new IOError(e);\r\n}\r\n```","title":"JHipster error when I try to connect in the site. Java.lang.noclassdeffounderror","body":"<p>I'm trying to solve a problem with my Java project and one of the possible solutions is to change <code>jdk.io.File.enableADS</code> to <code>TRUE</code> in system properties. But, i don't know how to change it.</p>\n<p>I'm also working in a project that uses jhipster and undertow. My project builds with no error, generating the connection link, but when I try to connect the page it doesn't load and the application shows the error:</p>\n<pre><code>java.lang.NoClassDefFoundError: Could not initialize class org.xnio.conduits.Conduit\n</code></pre>\n<p>I've looked at the code, found the line that throws the error and I saw in many blogs people telling to change the config above the text.</p>\n<p>I'm using the JDK 11.0.15</p>\n<p>This is the code that throws the error:</p>\n<pre class=\"lang-java prettyprint-override\"><code> try {\n    if (osName.contains(&quot;windows&quot;)) {\n         return new FileOutputStream(&quot;NUL:&quot;).getChannel();\n    } else {\n         return new FileOutputStream(&quot;/dev/null&quot;).getChannel();\n    }\n} catch (FileNotFoundException e) {\n    throw new IOError(e);\n}\n</code></pre>\n"},{"tags":["java","swing","mouselistener"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1665325604,"post_id":74004743,"comment_id":130668868,"body_markdown":"Instead of a JLabel use a `JButton`. Then you can add an ActionListener to the buttons to handle the clicking. You can make the button look like a label by setting a few properties of the button. For example: https://stackoverflow.com/a/17414765/131872","body":"Instead of a JLabel use a <code>JButton</code>. Then you can add an ActionListener to the buttons to handle the clicking. You can make the button look like a label by setting a few properties of the button. For example: <a href=\"https://stackoverflow.com/a/17414765/131872\">stackoverflow.com/a/17414765/131872</a>"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1665575388,"post_id":74004743,"comment_id":130731925,"body_markdown":"_I searched more and came to the MouseListener but I don&#39;t understand the explanations_ then the way to go is to learn how to use mouseListeners :) Starting f.i. at https://docs.oracle.com/javase/tutorial/uiswing/events/index.html","body":"<i>I searched more and came to the MouseListener but I don&#39;t understand the explanations</i> then the way to go is to learn how to use mouseListeners :) Starting f.i. at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/events/index.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":18021593,"reputation":316,"user_id":13098656,"display_name":"Steffi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665574475,"creation_date":1665574475,"answer_id":74041146,"question_id":74004743,"body_markdown":"You can try:\r\n\r\n    bgLabel.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n    bgLabel.addMouseListener(new MouseListener() {\r\n        @Override\r\n        public void mouseClicked(MouseEvent e) {\r\n            System.out.println(&quot;click&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void mousePressed(MouseEvent e) {\r\n            System.out.println(&quot;press&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void mouseReleased(MouseEvent e) {\r\n            System.out.println(&quot;released&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void mouseEntered(MouseEvent e) {\r\n            System.out.println(&quot;entered&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void mouseExited(MouseEvent e) {\r\n            System.out.println(&quot;exit&quot;);\r\n        }});\r\n\r\n\r\nSteffi","title":"What do I need to implement to make the JLabels clickable?","body":"<p>You can try:</p>\n<pre><code>bgLabel.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\nbgLabel.addMouseListener(new MouseListener() {\n    @Override\n    public void mouseClicked(MouseEvent e) {\n        System.out.println(&quot;click&quot;);\n    }\n\n    @Override\n    public void mousePressed(MouseEvent e) {\n        System.out.println(&quot;press&quot;);\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent e) {\n        System.out.println(&quot;released&quot;);\n    }\n\n    @Override\n    public void mouseEntered(MouseEvent e) {\n        System.out.println(&quot;entered&quot;);\n    }\n\n    @Override\n    public void mouseExited(MouseEvent e) {\n        System.out.println(&quot;exit&quot;);\n    }});\n</code></pre>\n<p>Steffi</p>\n"}],"owner":{"account_id":26500159,"reputation":1,"user_id":20137237,"display_name":"ntimo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1665574475,"creation_date":1665318460,"question_id":74004743,"body_markdown":"so I created a 2 JLabels which display an icon but now I want that if you click on of the JLabels it produces a text which is displayed on the JFrame. What I know is that you can add some kind of Listener, but the ActionListener doesnt work, so I searched more and came to the MouseListener but I don&#39;t understand the explanations and the projects are way more complicated to my. Everthing Im copy pasting is underlined in red. \r\n\r\n    void mouseClicked(MouseEvent e){}\r\n\r\nSo i came to this method and it looks kinda similar to the ActionListener method, but again, i dont know which correct Java class i should import or should i &quot;classname implement MouseListener&quot;?\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class Main1{\r\n    public static void main(String[] args){\r\n\r\n        ImageIcon frameBG = new ImageIcon(&quot;res/bg.png&quot;);\r\n        ImageIcon dogIcon = new ImageIcon(&quot;res/dog.png&quot;);\r\n        ImageIcon catIcon = new ImageIcon(&quot;res/cat.png&quot;);\r\n\r\n        JLabel bgLabel = new JLabel();\r\n        JLabel dogLabel = new JLabel();\r\n        JLabel catLabel = new JLabel();\r\n\r\n        bgLabel.setBounds(0, 0, 400, 250);\r\n        bgLabel.setIcon(frameBG);\r\n\r\n        dogLabel.setBounds(50, 30, 150, 150);\r\n        dogLabel.setIcon(dogIcon);\r\n        \r\n\r\n        catLabel.setBounds(210, 30, 150, 150);\r\n        catLabel.setIcon(catIcon);\r\n        \r\n        \r\n        \r\n        JFrame frame = new JFrame(&quot;Cat and Dog Clicker&quot;);\r\n        frame.setSize(400, 250);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setResizable(false);\r\n        \r\n        \r\n        frame.add(dogLabel);\r\n        frame.add(catLabel);\r\n        frame.add(bgLabel);\r\n\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    \r\n}","title":"What do I need to implement to make the JLabels clickable?","body":"<p>so I created a 2 JLabels which display an icon but now I want that if you click on of the JLabels it produces a text which is displayed on the JFrame. What I know is that you can add some kind of Listener, but the ActionListener doesnt work, so I searched more and came to the MouseListener but I don't understand the explanations and the projects are way more complicated to my. Everthing Im copy pasting is underlined in red.</p>\n<pre><code>void mouseClicked(MouseEvent e){}\n</code></pre>\n<p>So i came to this method and it looks kinda similar to the ActionListener method, but again, i dont know which correct Java class i should import or should i &quot;classname implement MouseListener&quot;?</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class Main1{\n    public static void main(String[] args){\n\n        ImageIcon frameBG = new ImageIcon(&quot;res/bg.png&quot;);\n        ImageIcon dogIcon = new ImageIcon(&quot;res/dog.png&quot;);\n        ImageIcon catIcon = new ImageIcon(&quot;res/cat.png&quot;);\n\n        JLabel bgLabel = new JLabel();\n        JLabel dogLabel = new JLabel();\n        JLabel catLabel = new JLabel();\n\n        bgLabel.setBounds(0, 0, 400, 250);\n        bgLabel.setIcon(frameBG);\n\n        dogLabel.setBounds(50, 30, 150, 150);\n        dogLabel.setIcon(dogIcon);\n        \n\n        catLabel.setBounds(210, 30, 150, 150);\n        catLabel.setIcon(catIcon);\n        \n        \n        \n        JFrame frame = new JFrame(&quot;Cat and Dog Clicker&quot;);\n        frame.setSize(400, 250);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setResizable(false);\n        \n        \n        frame.add(dogLabel);\n        frame.add(catLabel);\n        frame.add(bgLabel);\n\n        frame.setVisible(true);\n    }\n\n    \n}\n</code></pre>\n"},{"tags":["java","class"],"answers":[{"tags":[],"owner":{"account_id":26545592,"reputation":176,"user_id":20175711,"display_name":"Not A Number"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665570402,"creation_date":1665570402,"answer_id":74040322,"question_id":74039914,"body_markdown":"**1.**\r\nI dont know what is returned by `nameTimeValuePair.getValue()`, so I suppose it&#39;s instance of `ValueHolder` class. My idea based on using enum with fields instead of switch-case\r\n```\r\npublic enum ReflectionType {\r\n\r\n    STR_VALUE(String.class, ValueHolder::getStrValue),\r\n    INT64_VALUE(Integer.class, ValueHolder::getInt64Value),\r\n    //  other types\r\n    ;\r\n\r\n    ReflectiionType(Class&lt;?&gt; klass, Function&lt;ValueHolder, Object&gt; valueGetter) {\r\n        this.klass = klass;\r\n        this.valueGetter = valueGetter;\r\n    }\r\n\r\n    private final Class&lt;?&gt; klass;\r\n    private final Function&lt;ValueHolder, Object&gt; valueGetter;\r\n\r\n    public Class&lt;?&gt; getKlass() {\r\n        return klass;\r\n    }\r\n\r\n    public Function&lt;ValueHolder, Object&gt; getValueGetter() {\r\n        return valueGetter;\r\n    }\r\n}\r\n```\r\nThen your invoke logic shortens to\r\n```\r\nValueHolder valueHolder = nameTimeValuePair.getValue();\r\nReflectionType type = valueHolder.getValueTypeCase();\r\nMethod method = cls_name.getClass().getMethod(ATTR_METHOD_NAME, type.getKlass());\r\nmethod.invoke(cls_name, type.getKlass().cast(type.getValueGetter().apply(valueHolder)));\r\n```\r\n**2**. You can qualify static `.class` only by class name without generics. What about `List.class`?\r\n\r\n**UPD:** Also minor tip - `cls_name` should be named like `clsName`. Java likes camelcase","title":"Generic way of writing String.class, Long.class, Double.class in primitive and List type","body":"<p><strong>1.</strong>\nI dont know what is returned by <code>nameTimeValuePair.getValue()</code>, so I suppose it's instance of <code>ValueHolder</code> class. My idea based on using enum with fields instead of switch-case</p>\n<pre><code>public enum ReflectionType {\n\n    STR_VALUE(String.class, ValueHolder::getStrValue),\n    INT64_VALUE(Integer.class, ValueHolder::getInt64Value),\n    //  other types\n    ;\n\n    ReflectiionType(Class&lt;?&gt; klass, Function&lt;ValueHolder, Object&gt; valueGetter) {\n        this.klass = klass;\n        this.valueGetter = valueGetter;\n    }\n\n    private final Class&lt;?&gt; klass;\n    private final Function&lt;ValueHolder, Object&gt; valueGetter;\n\n    public Class&lt;?&gt; getKlass() {\n        return klass;\n    }\n\n    public Function&lt;ValueHolder, Object&gt; getValueGetter() {\n        return valueGetter;\n    }\n}\n</code></pre>\n<p>Then your invoke logic shortens to</p>\n<pre><code>ValueHolder valueHolder = nameTimeValuePair.getValue();\nReflectionType type = valueHolder.getValueTypeCase();\nMethod method = cls_name.getClass().getMethod(ATTR_METHOD_NAME, type.getKlass());\nmethod.invoke(cls_name, type.getKlass().cast(type.getValueGetter().apply(valueHolder)));\n</code></pre>\n<p><strong>2</strong>. You can qualify static <code>.class</code> only by class name without generics. What about <code>List.class</code>?</p>\n<p><strong>UPD:</strong> Also minor tip - <code>cls_name</code> should be named like <code>clsName</code>. Java likes camelcase</p>\n"}],"owner":{"account_id":18428716,"reputation":77,"user_id":13424370,"display_name":"Sanjit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1665573568,"creation_date":1665568644,"question_id":74039914,"body_markdown":"Consider below code in Java. I&#39;m writing these case for each primitive data types separately.\r\n\r\n```\r\nMethod method;\r\nswitch (nameTimeValuePair.getValue().getValueTypeCase()) {\r\n  case STR_VALUE:\r\n    method = cls_name.getClass().getMethod(ATTR_METHOD_NAME, String.class);\r\n    method.invoke(cls_name, nameTimeValuePair.getValue().getStrValue());\r\n    break;\r\n  case INT64_VALUE:\r\n    method = cls_name.getClass().getMethod(ATTR_METHOD_NAME, Long.class);\r\n    method.invoke(cls_name, nameTimeValuePair.getValue().getInt64Value());\r\n    break;\r\n  case STR_LIST:\r\n    method = cls_name.getClass().getMethod(ATTR_METHOD_NAME, String.class);\r\n    method.invoke(cls_name, nameTimeValuePair.getValue().getStrList());\r\n    break;\r\n  default:\r\n    log.info(&quot;Does not match any datatype&quot;)\r\n```\r\n\r\nHow can I change above code to something like below. Basically I want to club and minimise the code,\r\n\r\n```\r\nMethod method = cls_name.getClass().getMethod(ATTR_METHOD_NAME, Generic.class);\r\nswitch (nameTimeValuePair.getValue().getValueTypeCase()) {\r\n  case STR_VALUE:\r\n    method.invoke(cls_name, nameTimeValuePair.getValue().getStrValue());\r\n    break;\r\n  case INT64_VALUE:\r\n    method.invoke(cls_name, nameTimeValuePair.getValue().getInt64Value());\r\n    break;\r\n  case STR_LIST:\r\n    method.invoke(cls_name, nameTimeValuePair.getValue().getStrList());\r\n    break;\r\n  default:\r\n    log.info(&quot;Does not match any datatype&quot;)\r\n```\r\n\r\nHere, Generic.class does not works.\r\n\r\n\r\n\r\n\r\nI&#39;ve one another question. Consider below code,\r\n\r\n```\r\nMethod method;\r\nswitch (nameTimeValuePair.getValue().getValueTypeCase()) {\r\n  case STR_LIST:\r\n    method = cls_name.getClass().getMethod(ATTR_METHOD_NAME, String.class);\r\n    method.invoke(cls_name, nameTimeValuePair.getValue().getStrList());\r\n    break;\r\n  default:\r\n    log.info(&quot;Does not match any datatype&quot;)\r\n```\r\n\r\nHere I&#39;m getting warning message -&gt; Argument is not assignable to &#39;java.lang.String&#39;\r\n\r\nHow can I fix this. Can I write something like,\r\n\r\n\r\n```\r\nMethod method;\r\nswitch (nameTimeValuePair.getValue().getValueTypeCase()) {\r\n  case STR_LIST:\r\n    method = cls_name.getClass().getMethod(ATTR_METHOD_NAME, List&lt;String&gt;.class);\r\n    method.invoke(cls_name, nameTimeValuePair.getValue().getStrList());\r\n    break;\r\n  default:\r\n    log.info(&quot;Does not match any datatype&quot;)\r\n```\r\n\r\nHere, List\\&lt;String\\&gt;.class does not works.\r\n\r\nThanks for you inputs.","title":"Generic way of writing String.class, Long.class, Double.class in primitive and List type","body":"<p>Consider below code in Java. I'm writing these case for each primitive data types separately.</p>\n<pre><code>Method method;\nswitch (nameTimeValuePair.getValue().getValueTypeCase()) {\n  case STR_VALUE:\n    method = cls_name.getClass().getMethod(ATTR_METHOD_NAME, String.class);\n    method.invoke(cls_name, nameTimeValuePair.getValue().getStrValue());\n    break;\n  case INT64_VALUE:\n    method = cls_name.getClass().getMethod(ATTR_METHOD_NAME, Long.class);\n    method.invoke(cls_name, nameTimeValuePair.getValue().getInt64Value());\n    break;\n  case STR_LIST:\n    method = cls_name.getClass().getMethod(ATTR_METHOD_NAME, String.class);\n    method.invoke(cls_name, nameTimeValuePair.getValue().getStrList());\n    break;\n  default:\n    log.info(&quot;Does not match any datatype&quot;)\n</code></pre>\n<p>How can I change above code to something like below. Basically I want to club and minimise the code,</p>\n<pre><code>Method method = cls_name.getClass().getMethod(ATTR_METHOD_NAME, Generic.class);\nswitch (nameTimeValuePair.getValue().getValueTypeCase()) {\n  case STR_VALUE:\n    method.invoke(cls_name, nameTimeValuePair.getValue().getStrValue());\n    break;\n  case INT64_VALUE:\n    method.invoke(cls_name, nameTimeValuePair.getValue().getInt64Value());\n    break;\n  case STR_LIST:\n    method.invoke(cls_name, nameTimeValuePair.getValue().getStrList());\n    break;\n  default:\n    log.info(&quot;Does not match any datatype&quot;)\n</code></pre>\n<p>Here, Generic.class does not works.</p>\n<p>I've one another question. Consider below code,</p>\n<pre><code>Method method;\nswitch (nameTimeValuePair.getValue().getValueTypeCase()) {\n  case STR_LIST:\n    method = cls_name.getClass().getMethod(ATTR_METHOD_NAME, String.class);\n    method.invoke(cls_name, nameTimeValuePair.getValue().getStrList());\n    break;\n  default:\n    log.info(&quot;Does not match any datatype&quot;)\n</code></pre>\n<p>Here I'm getting warning message -&gt; Argument is not assignable to 'java.lang.String'</p>\n<p>How can I fix this. Can I write something like,</p>\n<pre><code>Method method;\nswitch (nameTimeValuePair.getValue().getValueTypeCase()) {\n  case STR_LIST:\n    method = cls_name.getClass().getMethod(ATTR_METHOD_NAME, List&lt;String&gt;.class);\n    method.invoke(cls_name, nameTimeValuePair.getValue().getStrList());\n    break;\n  default:\n    log.info(&quot;Does not match any datatype&quot;)\n</code></pre>\n<p>Here, List&lt;String&gt;.class does not works.</p>\n<p>Thanks for you inputs.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"score":0,"creation_date":1635287112,"post_id":69730526,"comment_id":123256055,"body_markdown":"Why use a DTO? You don&#39;t want annotations in your enum?","body":"Why use a DTO? You don&#39;t want annotations in your enum?"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1635287265,"post_id":69730526,"comment_id":123256084,"body_markdown":"It&#39;s unclear what part JSON has to play in this. Are you just trying to convert 4 enum constants into corresponding `TicketStatusTypesDTO` objects? Or are you trying to parse some JSON content into `TicketStatusTypesDTO` objects?","body":"It&#39;s unclear what part JSON has to play in this. Are you just trying to convert 4 enum constants into corresponding <code>TicketStatusTypesDTO</code> objects? Or are you trying to parse some JSON content into <code>TicketStatusTypesDTO</code> objects?"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1635287273,"post_id":69730526,"comment_id":123256085,"body_markdown":"Also, what have you tried so far?","body":"Also, what have you tried so far?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1635288322,"post_id":69730526,"comment_id":123256299,"body_markdown":"I need to convert 4 enum constants into corresponding TicketStatusTypesDTO objects.","body":"I need to convert 4 enum constants into corresponding TicketStatusTypesDTO objects."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1635289789,"post_id":69730526,"comment_id":123256591,"body_markdown":"So this has nothing to do with JSON and the Jackson annotations in your post?","body":"So this has nothing to do with JSON and the Jackson annotations in your post?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1635290418,"post_id":69730526,"comment_id":123256683,"body_markdown":"I think yes. How I can achieve this?","body":"I think yes. How I can achieve this?"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1635290530,"post_id":69730526,"comment_id":123256700,"body_markdown":"Its still not clear what you want to achieve, especially considering the answer you accepted. Please edit your question to clarify.","body":"Its still not clear what you want to achieve, especially considering the answer you accepted. Please edit your question to clarify."}],"answers":[{"tags":[],"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1635287340,"creation_date":1635286322,"answer_id":69730554,"question_id":69730526,"body_markdown":"You can use `@JsonProperty` for that.    \r\n\r\n        @Getter\r\n        @Setter\r\n        @NoArgsConstructor\r\n        @AllArgsConstructor\r\n        @Builder(toBuilder = true)\r\n        public class TicketStatusTypesDTO {    \r\n            @JsonProperty(&quot;shortName&quot;)\r\n            private String code;\r\n        \r\n            @JsonProperty(&quot;fullName&quot;)\r\n            private String name;\r\n        }\r\n\r\nYou could also do the mapping with the constructor like so:\r\n\r\n    @JsonCreator\r\n    public TicketStatusTypesDTO (\r\n      @JsonProperty(&quot;shortName&quot;) String code, \r\n      @JsonProperty(&quot;fullName&quot;) String name) {\r\n        this.code = code;\r\n        this.name = name;\r\n    }\r\n\r\nMore on this here: https://www.baeldung.com/jackson-annotations","title":"Convert ENUM to DTO","body":"<p>You can use <code>@JsonProperty</code> for that.</p>\n<pre><code>    @Getter\n    @Setter\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @Builder(toBuilder = true)\n    public class TicketStatusTypesDTO {    \n        @JsonProperty(&quot;shortName&quot;)\n        private String code;\n    \n        @JsonProperty(&quot;fullName&quot;)\n        private String name;\n    }\n</code></pre>\n<p>You could also do the mapping with the constructor like so:</p>\n<pre><code>@JsonCreator\npublic TicketStatusTypesDTO (\n  @JsonProperty(&quot;shortName&quot;) String code, \n  @JsonProperty(&quot;fullName&quot;) String name) {\n    this.code = code;\n    this.name = name;\n}\n</code></pre>\n<p>More on this here: <a href=\"https://www.baeldung.com/jackson-annotations\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-annotations</a></p>\n"},{"tags":[],"owner":{"account_id":26598637,"reputation":11,"user_id":20220578,"display_name":"Daniel Vichinyan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665572505,"creation_date":1665565227,"answer_id":74039160,"question_id":69730526,"body_markdown":"First, you don&#39;t need @JsonProperty annotation at all, I have tested it without it and it works.\r\n\r\nEnum:\r\n\r\n    public enum TicketStatus {\r\n        N(&quot;new&quot;, &quot;New&quot;),\r\n        A(&quot;assigned&quot;, &quot;Assigned&quot;),\r\n        IP(&quot;in_progress&quot;, &quot;In-progress&quot;),\r\n        C(&quot;closed&quot;, &quot;Closed&quot;);\r\n    \r\n        private String shortName;\r\n    \r\n        private String fullName;\r\n    \r\n        TicketStatus(String shortName, String fullName) {\r\n            this.shortName = shortName;\r\n            this.fullName = fullName;\r\n        }\r\n    \r\n        public String getShortName() {\r\n            return shortName;\r\n        }\r\n    \r\n        public String getFullName() {\r\n            return fullName;\r\n        }\r\n    }\r\n\r\nDTO:\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @Builder(toBuilder = true)\r\n    public class TicketStatusTypesDTO {\r\n        private String code;\r\n        private String name;\r\n    }\r\n\r\nYou can use:\r\n\r\n    Stream.of(TicketStatus.values()).map(\r\n                    ticketStatusType -&gt; new TicketStatusTypesDTO(\r\n                            ticketStatusType.getShortName(),\r\n                            ticketStatusType.getFullName()\r\n                    )\r\n            ).toList();\r\n\r\nThis will return List&lt;TicketStatusTypesDTO&gt; which you can use in your service as:\r\n\r\n    @Override\r\n        public List&lt;TicketStatusTypesDTO&gt; getAllTicketStatusTypes() {\r\n            return Stream.of(TicketStatus.values()).map(\r\n                    ticketStatusType -&gt; new TicketStatusTypesDTO(\r\n                            ticketStatusType.getShortName(),\r\n                            ticketStatusType.getFullName()\r\n                    )\r\n            ).toList();\r\n        }\r\n\r\nController:\r\n\r\n    @GetMapping(&quot;/statuses&quot;)\r\n        public ResponseEntity&lt;List&lt;TicketStatusTypesDTO&gt;&gt; getAllTicketStatusTypes() {\r\n            return new ResponseEntity&lt;&gt;(this.ticketService.getAllTicketStatusTypes(), HttpStatus.OK);\r\n        }\r\n\r\nResponse:\r\n\r\n    [\r\n        {\r\n            &quot;shortName&quot;: &quot;new&quot;,\r\n            &quot;fullName&quot;: &quot;New&quot;\r\n        },\r\n        {\r\n            &quot;shortName&quot;: &quot;assigned&quot;,\r\n            &quot;fullName&quot;: &quot;Assigned&quot;\r\n        },\r\n        {\r\n            &quot;shortName&quot;: &quot;in_progress&quot;,\r\n            &quot;fullName&quot;: &quot;In-progress&quot;\r\n        },\r\n        {\r\n            &quot;shortName&quot;: &quot;closed&quot;,\r\n            &quot;fullName&quot;: &quot;Closed&quot;\r\n        }\r\n    ]","title":"Convert ENUM to DTO","body":"<p>First, you don't need @JsonProperty annotation at all, I have tested it without it and it works.</p>\n<p>Enum:</p>\n<pre><code>public enum TicketStatus {\n    N(&quot;new&quot;, &quot;New&quot;),\n    A(&quot;assigned&quot;, &quot;Assigned&quot;),\n    IP(&quot;in_progress&quot;, &quot;In-progress&quot;),\n    C(&quot;closed&quot;, &quot;Closed&quot;);\n\n    private String shortName;\n\n    private String fullName;\n\n    TicketStatus(String shortName, String fullName) {\n        this.shortName = shortName;\n        this.fullName = fullName;\n    }\n\n    public String getShortName() {\n        return shortName;\n    }\n\n    public String getFullName() {\n        return fullName;\n    }\n}\n</code></pre>\n<p>DTO:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@Builder(toBuilder = true)\npublic class TicketStatusTypesDTO {\n    private String code;\n    private String name;\n}\n</code></pre>\n<p>You can use:</p>\n<pre><code>Stream.of(TicketStatus.values()).map(\n                ticketStatusType -&gt; new TicketStatusTypesDTO(\n                        ticketStatusType.getShortName(),\n                        ticketStatusType.getFullName()\n                )\n        ).toList();\n</code></pre>\n<p>This will return List which you can use in your service as:</p>\n<pre><code>@Override\n    public List&lt;TicketStatusTypesDTO&gt; getAllTicketStatusTypes() {\n        return Stream.of(TicketStatus.values()).map(\n                ticketStatusType -&gt; new TicketStatusTypesDTO(\n                        ticketStatusType.getShortName(),\n                        ticketStatusType.getFullName()\n                )\n        ).toList();\n    }\n</code></pre>\n<p>Controller:</p>\n<pre><code>@GetMapping(&quot;/statuses&quot;)\n    public ResponseEntity&lt;List&lt;TicketStatusTypesDTO&gt;&gt; getAllTicketStatusTypes() {\n        return new ResponseEntity&lt;&gt;(this.ticketService.getAllTicketStatusTypes(), HttpStatus.OK);\n    }\n</code></pre>\n<p>Response:</p>\n<pre><code>[\n    {\n        &quot;shortName&quot;: &quot;new&quot;,\n        &quot;fullName&quot;: &quot;New&quot;\n    },\n    {\n        &quot;shortName&quot;: &quot;assigned&quot;,\n        &quot;fullName&quot;: &quot;Assigned&quot;\n    },\n    {\n        &quot;shortName&quot;: &quot;in_progress&quot;,\n        &quot;fullName&quot;: &quot;In-progress&quot;\n    },\n    {\n        &quot;shortName&quot;: &quot;closed&quot;,\n        &quot;fullName&quot;: &quot;Closed&quot;\n    }\n]\n</code></pre>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1008,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69730554,"answer_count":2,"score":0,"last_activity_date":1665572505,"creation_date":1635286148,"question_id":69730526,"body_markdown":"I have this Java ENUM which I would like to convert to DTO:\r\n\r\n    public enum TicketStatus {\r\n        N(&quot;new&quot;, &quot;New&quot;),\r\n        A(&quot;assigned&quot;, &quot;Assigned&quot;),\r\n        IP(&quot;in_progress&quot;, &quot;In-progress&quot;),\r\n        C(&quot;closed&quot;, &quot;Closed&quot;);\r\n    \r\n        private String shortName;\r\n    \r\n        private String fullName;\r\n    \r\n        TicketStatus(String shortName, String fullName) {\r\n            this.shortName = shortName;\r\n            this.fullName = fullName;\r\n        }\r\n    \r\n        @JsonValue\r\n        public String getShortName() {\r\n            return shortName;\r\n        }\r\n    \r\n        @JsonValue\r\n        public String getFullName() {\r\n            return fullName;\r\n        }\r\n    }\r\n\r\n\r\nI want to convert the EMUM to a list of items:\r\n\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder(toBuilder = true)\r\n    public class TicketStatusTypesDTO {\r\n    \r\n        private String code;\r\n    \r\n        private String name;\r\n    }\r\n\r\n`code` should be mapped as `shortName` and `name` as `fullName`. How this can be converted?\r\n\r\nEDIT:\r\n\r\nI tried this:\r\n\r\n    List&lt;TicketStatusTypesDTO&gt; list = null;\r\n    for (TicketStatus status : TicketStatus.values()) {\r\n       list.add(new TicketStatusTypesDTO(status.getShortName(), status.getShortName()));\r\n    }\r\n\r\nHow I can improve the code by using stream? Something like this:\r\n\r\n    TicketStatus.values().entrySet().stream()\r\n                .map(g -&gt; new TicketStatusTypesDTO(g.getKey(), g.getValue())).collect(Collectors.toList());\r\n","title":"Convert ENUM to DTO","body":"<p>I have this Java ENUM which I would like to convert to DTO:</p>\n<pre><code>public enum TicketStatus {\n    N(&quot;new&quot;, &quot;New&quot;),\n    A(&quot;assigned&quot;, &quot;Assigned&quot;),\n    IP(&quot;in_progress&quot;, &quot;In-progress&quot;),\n    C(&quot;closed&quot;, &quot;Closed&quot;);\n\n    private String shortName;\n\n    private String fullName;\n\n    TicketStatus(String shortName, String fullName) {\n        this.shortName = shortName;\n        this.fullName = fullName;\n    }\n\n    @JsonValue\n    public String getShortName() {\n        return shortName;\n    }\n\n    @JsonValue\n    public String getFullName() {\n        return fullName;\n    }\n}\n</code></pre>\n<p>I want to convert the EMUM to a list of items:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder(toBuilder = true)\npublic class TicketStatusTypesDTO {\n\n    private String code;\n\n    private String name;\n}\n</code></pre>\n<p><code>code</code> should be mapped as <code>shortName</code> and <code>name</code> as <code>fullName</code>. How this can be converted?</p>\n<p>EDIT:</p>\n<p>I tried this:</p>\n<pre><code>List&lt;TicketStatusTypesDTO&gt; list = null;\nfor (TicketStatus status : TicketStatus.values()) {\n   list.add(new TicketStatusTypesDTO(status.getShortName(), status.getShortName()));\n}\n</code></pre>\n<p>How I can improve the code by using stream? Something like this:</p>\n<pre><code>TicketStatus.values().entrySet().stream()\n            .map(g -&gt; new TicketStatusTypesDTO(g.getKey(), g.getValue())).collect(Collectors.toList());\n</code></pre>\n"},{"tags":["java","spring","logging","jdbc","datasource"],"comments":[{"owner":{"account_id":60189,"reputation":6759,"user_id":179878,"display_name":"jasonmp85"},"score":0,"creation_date":1275029834,"post_id":2926961,"comment_id":2980353,"body_markdown":"What DataSource implementation are you using? Something like c3p0?","body":"What DataSource implementation are you using? Something like c3p0?"}],"answers":[{"tags":[],"owner":{"account_id":19417,"reputation":37980,"user_id":45525,"accept_rate":83,"display_name":"Synesso"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1275028780,"creation_date":1275028780,"answer_id":2927057,"question_id":2926961,"body_markdown":"If the field exists, would you consider using reflection to access it? The approach may not be future-proof but may be sufficient for your needs.","title":"JdbcTemplate  logging the dataSource connection url","body":"<p>If the field exists, would you consider using reflection to access it? The approach may not be future-proof but may be sufficient for your needs.</p>\n"},{"tags":[],"owner":{"account_id":60189,"reputation":6759,"user_id":179878,"display_name":"jasonmp85"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1275029768,"creation_date":1275029768,"answer_id":2927150,"question_id":2926961,"body_markdown":"I know you said you didn&#39;t want to have to get it from the context xml, but I can&#39;t see an easy and non-fragile way around it.\r\n\r\nIn Spring 2.0 and greater you can use the [`&lt;util:property-path /&gt;` element][1] to reference a property of another bean. Let&#39;s say your `DataSource` is declared like so (note: I&#39;m going to use the [`p-namespace`][2] throughout for brevity):\r\n\r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;com.example.SimpleDataSource&quot;\r\n        p:user=&quot;db_user&quot;\r\n        p:password=&quot;letmein&quot;\r\n        p:driverClass=&quot;com.example.CabDriver&quot;\r\n        p:jdbcUrl=&quot;jdbc:example:@localhost:1729:magicdb&quot; /&gt;\r\n\r\nI&#39;m assuming that your `JdbcTemplate` is being used by some data access object. Let&#39;s say it looks like this:\r\n\r\n    public class SimpleDao implements ExampleDao {\r\n        private JdbcTemplate jdbcTemplate;\r\n\r\n        public void setDataSource(DataSource dataSource) {\r\n            this.jdbcTemplate = new JdbcTemplate(dataSource);\r\n        }\r\n    }\r\n\r\nSo the Spring config to construct this DAO is like so:\r\n\r\n    &lt;bean id=&quot;dao&quot; class=&quot;com.example.SimpleDao&quot;\r\n        p:dataSource-ref=&quot;dataSource&quot; /&gt;\r\n\r\nNow to our problem: how to get the `JdbcUrl` property into our DAO? Let&#39;s add a setter:\r\n\r\n    public class SimpleDao implements ExampleDao {\r\n        private String jdbcUrl;\r\n        // ...\r\n        public void setJdbcUrl(String jdbcUrl) {\r\n            this.jdbcUrl = jdbcUrl;\r\n        }\r\n        // ...\r\n\r\nAnd finally we inject this using the aforementioned `&lt;util:property-path /&gt;` element:\r\n\r\n    &lt;bean id=&quot;dao&quot; class=&quot;com.example.SimpleDao&quot;\r\n        p:dataSource-ref=&quot;dataSource&quot;&gt;\r\n        &lt;property name=&quot;jdbcUrl&gt;\r\n            &lt;util:property-path path=&quot;dataSource.jdbcUrl&quot; /&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nThe URL is available from the bean named `dataSource` using `getJdbcUrl` (note that this is on the concrete DataSource, not the interface), so the property-path element tells Spring to get the value from there and use it as the value for the DAO&#39;s property.\r\n\r\nThis isn&#39;t too much code (it&#39;s one setter and one extra property) and you&#39;re guaranteed to always have the same value injected into both beans.\r\n\r\n  [1]: http://static.springsource.org/spring/docs/2.5.6/reference/xsd-config.html#xsd-config-body-schemas-util-property-path\r\n  [2]: http://static.springsource.org/spring/docs/2.5.x/reference/beans.html#beans-p-namespace","title":"JdbcTemplate  logging the dataSource connection url","body":"<p>I know you said you didn't want to have to get it from the context xml, but I can't see an easy and non-fragile way around it.</p>\n\n<p>In Spring 2.0 and greater you can use the <a href=\"http://static.springsource.org/spring/docs/2.5.6/reference/xsd-config.html#xsd-config-body-schemas-util-property-path\" rel=\"nofollow noreferrer\"><code>&lt;util:property-path /&gt;</code> element</a> to reference a property of another bean. Let's say your <code>DataSource</code> is declared like so (note: I'm going to use the <a href=\"http://static.springsource.org/spring/docs/2.5.x/reference/beans.html#beans-p-namespace\" rel=\"nofollow noreferrer\"><code>p-namespace</code></a> throughout for brevity):</p>\n\n<pre><code>&lt;bean id=\"dataSource\" class=\"com.example.SimpleDataSource\"\n    p:user=\"db_user\"\n    p:password=\"letmein\"\n    p:driverClass=\"com.example.CabDriver\"\n    p:jdbcUrl=\"jdbc:example:@localhost:1729:magicdb\" /&gt;\n</code></pre>\n\n<p>I'm assuming that your <code>JdbcTemplate</code> is being used by some data access object. Let's say it looks like this:</p>\n\n<pre><code>public class SimpleDao implements ExampleDao {\n    private JdbcTemplate jdbcTemplate;\n\n    public void setDataSource(DataSource dataSource) {\n        this.jdbcTemplate = new JdbcTemplate(dataSource);\n    }\n}\n</code></pre>\n\n<p>So the Spring config to construct this DAO is like so:</p>\n\n<pre><code>&lt;bean id=\"dao\" class=\"com.example.SimpleDao\"\n    p:dataSource-ref=\"dataSource\" /&gt;\n</code></pre>\n\n<p>Now to our problem: how to get the <code>JdbcUrl</code> property into our DAO? Let's add a setter:</p>\n\n<pre><code>public class SimpleDao implements ExampleDao {\n    private String jdbcUrl;\n    // ...\n    public void setJdbcUrl(String jdbcUrl) {\n        this.jdbcUrl = jdbcUrl;\n    }\n    // ...\n</code></pre>\n\n<p>And finally we inject this using the aforementioned <code>&lt;util:property-path /&gt;</code> element:</p>\n\n<pre><code>&lt;bean id=\"dao\" class=\"com.example.SimpleDao\"\n    p:dataSource-ref=\"dataSource\"&gt;\n    &lt;property name=\"jdbcUrl&gt;\n        &lt;util:property-path path=\"dataSource.jdbcUrl\" /&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>The URL is available from the bean named <code>dataSource</code> using <code>getJdbcUrl</code> (note that this is on the concrete DataSource, not the interface), so the property-path element tells Spring to get the value from there and use it as the value for the DAO's property.</p>\n\n<p>This isn't too much code (it's one setter and one extra property) and you're guaranteed to always have the same value injected into both beans.</p>\n"},{"tags":[],"owner":{"account_id":2384381,"reputation":357,"user_id":2085658,"accept_rate":33,"display_name":"snakedog"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487365988,"creation_date":1487365988,"answer_id":42307482,"question_id":2926961,"body_markdown":"Here&#39;s what I&#39;ve done with a JNDI datasource obtained from the Tomcat container and injected as a NamedParameterJdbcTemplate.\r\n\r\n    String datasourceUrl = null;\r\n    try { // Log which database we are connected to.\r\n\t    JdbcTemplate jdbcTemplate = (JdbcTemplate)onyxReportingNamedParameterJdbcTemplate.getJdbcOperations(); // Get underlying JdbcTemplate\r\n\t    datasourceUrl = jdbcTemplate.getDataSource().getConnection().getMetaData().getURL();\r\n    } catch (SQLException e) { // No biggie, don&#39;t exit, this was just for info.\r\n\t    log.error(&quot;Non-fatal error: unable to get datasource for logging which database we are connected to.&quot;, e);\r\n\t}\r\n    log.info(&quot;Datasource URL: &quot; + datasourceUrl);\r\n\r\nThe application context:\r\n\r\n\t&lt;jee:jndi-lookup id=&quot;onyxReportingDS&quot; jndi-name=&quot;jdbc/OnyxReadTLCDS&quot; expected-type=&quot;javax.sql.DataSource&quot; /&gt;\r\n\t&lt;bean id=&quot;onyxReportingNamedParameterJdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate&quot;&gt;\r\n\t\t&lt;constructor-arg ref=&quot;onyxReportingDS&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n","title":"JdbcTemplate  logging the dataSource connection url","body":"<p>Here's what I've done with a JNDI datasource obtained from the Tomcat container and injected as a NamedParameterJdbcTemplate.</p>\n\n<pre><code>String datasourceUrl = null;\ntry { // Log which database we are connected to.\n    JdbcTemplate jdbcTemplate = (JdbcTemplate)onyxReportingNamedParameterJdbcTemplate.getJdbcOperations(); // Get underlying JdbcTemplate\n    datasourceUrl = jdbcTemplate.getDataSource().getConnection().getMetaData().getURL();\n} catch (SQLException e) { // No biggie, don't exit, this was just for info.\n    log.error(\"Non-fatal error: unable to get datasource for logging which database we are connected to.\", e);\n}\nlog.info(\"Datasource URL: \" + datasourceUrl);\n</code></pre>\n\n<p>The application context:</p>\n\n<pre><code>&lt;jee:jndi-lookup id=\"onyxReportingDS\" jndi-name=\"jdbc/OnyxReadTLCDS\" expected-type=\"javax.sql.DataSource\" /&gt;\n&lt;bean id=\"onyxReportingNamedParameterJdbcTemplate\" class=\"org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate\"&gt;\n    &lt;constructor-arg ref=\"onyxReportingDS\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":101503,"reputation":703,"user_id":273043,"display_name":"foal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665572355,"creation_date":1665572355,"answer_id":74040735,"question_id":2926961,"body_markdown":"Cast data source to `org.springframework.jdbc.datasource.AbstractDriverBasedDataSource` \r\n\r\n```\r\nlog.warn(&quot;Spring URL - {}&quot;, ((AbstractDriverBasedDataSource) jdbcTemplate.getDataSource()).getUrl());\r\n```","title":"JdbcTemplate  logging the dataSource connection url","body":"<p>Cast data source to <code>org.springframework.jdbc.datasource.AbstractDriverBasedDataSource</code></p>\n<pre><code>log.warn(&quot;Spring URL - {}&quot;, ((AbstractDriverBasedDataSource) jdbcTemplate.getDataSource()).getUrl());\n</code></pre>\n"}],"owner":{"display_name":"user321068"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7676,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":2927057,"answer_count":4,"score":2,"last_activity_date":1665572355,"creation_date":1275027170,"question_id":2926961,"body_markdown":"is there a way to log the JdbcTemplate&#39;s DataSource connection URL in Java?\r\n\r\nThe field exists in the DataSource, but there ain&#39;t a getter to access it. Of course I could read the DataSource properties from the application context xml, but I&#39;d like to do it the other way.\r\n\r\n","title":"JdbcTemplate  logging the dataSource connection url","body":"<p>is there a way to log the JdbcTemplate's DataSource connection URL in Java?</p>\n\n<p>The field exists in the DataSource, but there ain't a getter to access it. Of course I could read the DataSource properties from the application context xml, but I'd like to do it the other way.</p>\n"},{"tags":["java","android","firebase"],"answers":[{"tags":[],"owner":{"account_id":17187348,"reputation":21,"user_id":12441725,"display_name":"Orest Shemeliuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605475870,"creation_date":1605475870,"answer_id":64850005,"question_id":64847214,"body_markdown":"it seems that you are using wrong listener - \r\n\r\n    import com.google.android.gms.tasks.OnCompleteListener;\r\n\r\ntry to remove the above import and add this one\r\n\r\n    com.google.android.play.core.tasks.OnCompleteListener;","title":"Firebase &amp; Play Core onCompleteListener Incompatible Types","body":"<p>it seems that you are using wrong listener -</p>\n<pre><code>import com.google.android.gms.tasks.OnCompleteListener;\n</code></pre>\n<p>try to remove the above import and add this one</p>\n<pre><code>com.google.android.play.core.tasks.OnCompleteListener;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19972988,"reputation":51,"user_id":14638023,"display_name":"kaigalmane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605980601,"creation_date":1605980291,"answer_id":64946105,"question_id":64847214,"body_markdown":"I resolved this issue like below.\n\r\n    import com.google.android.gms.tasks.OnCompleteListener;\r\n    import com.google.android.play.core.tasks.Task;\r\n\r\n    ReviewManager manager = ReviewManagerFactory.create(this);\r\n    Task&lt;ReviewInfo&gt; request = manager.requestReviewFlow();\r\n    request.addOnCompleteListener(task -&gt; {\r\n          if (task.isSuccessful()) {\r\n              ReviewInfo reviewInfo = task.getResult();\r\n              Task&lt;Void&gt; flow = manager.launchReviewFlow(MainActivity.this, reviewInfo);\r\n              flow.addOnCompleteListener(task2 -&gt; {\r\n                sharedPreferences.edit().putString(&quot;lastShowedDate&quot;,dateFormat.format(Calendar.getInstance().getTime())).apply();\r\n              });\r\n          } else {\r\n                                   \r\n            }\r\n     });\r\n\r\n\r\n    mFirebaseRemoteConfig.fetch()\r\n                .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull com.google.android.gms.tasks.Task&lt;Void&gt; task) {\r\n                if(task.isSuccessful()){\r\n                    mFirebaseRemoteConfig.activate();\r\n                    checkForUpdate();\r\n                }\r\n            }\r\n    });","title":"Firebase &amp; Play Core onCompleteListener Incompatible Types","body":"<p>I resolved this issue like below.</p>\n<pre><code>import com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.play.core.tasks.Task;\n\nReviewManager manager = ReviewManagerFactory.create(this);\nTask&lt;ReviewInfo&gt; request = manager.requestReviewFlow();\nrequest.addOnCompleteListener(task -&gt; {\n      if (task.isSuccessful()) {\n          ReviewInfo reviewInfo = task.getResult();\n          Task&lt;Void&gt; flow = manager.launchReviewFlow(MainActivity.this, reviewInfo);\n          flow.addOnCompleteListener(task2 -&gt; {\n            sharedPreferences.edit().putString(&quot;lastShowedDate&quot;,dateFormat.format(Calendar.getInstance().getTime())).apply();\n          });\n      } else {\n                               \n        }\n });\n\n\nmFirebaseRemoteConfig.fetch()\n            .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n        @Override\n        public void onComplete(@NonNull com.google.android.gms.tasks.Task&lt;Void&gt; task) {\n            if(task.isSuccessful()){\n                mFirebaseRemoteConfig.activate();\n                checkForUpdate();\n            }\n        }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11549946,"reputation":630,"user_id":8462925,"display_name":"Victor Marcoianu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665571978,"creation_date":1665571153,"answer_id":74040459,"question_id":64847214,"body_markdown":"For me, the problem was in the build.gradle(:app) file. I was using:\r\n\r\n    implementation &#39;com.google.android.play:review-ktx&#39;\r\n\r\ninstead of:\r\n\r\n    implementation &#39;com.google.android.play:core-ktx&#39;\r\n","title":"Firebase &amp; Play Core onCompleteListener Incompatible Types","body":"<p>For me, the problem was in the build.gradle(:app) file. I was using:</p>\n<pre><code>implementation 'com.google.android.play:review-ktx'\n</code></pre>\n<p>instead of:</p>\n<pre><code>implementation 'com.google.android.play:core-ktx'\n</code></pre>\n"}],"owner":{"account_id":9533601,"reputation":538,"user_id":13564911,"display_name":"Regex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1825,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":3,"score":4,"last_activity_date":1665571978,"creation_date":1605459448,"question_id":64847214,"body_markdown":"I&#39;m trying to add in-app review in an activity that has Firebase auth, but I get this error:\r\n\r\n&gt;    error: incompatible types: &lt;anonymous\r\n&gt; com.google.android.gms.tasks.OnCompleteListener&lt;Void&gt;&gt;\r\n&gt;     cannot be converted to com.google.android.play.core.tasks.OnCompleteListener&lt;Void&gt;\r\n&gt;     }).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n\r\nI have tried to add this to add play core listener, but it says &quot;already defined in a single-type import&quot;\r\n\r\nI also tried to use OnSuccessListener instead of OnCompleteListener, the error no longer shows, but in-app review dialog doesn&#39;t show.\r\n\r\nNote: in-app review dialog shows when I remove Firebase Auth.\r\n\r\nThis is my activity code:\r\n\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import com.google.android.gms.tasks.OnCompleteListener;\r\n    import com.google.android.play.core.tasks.OnCompleteListener;\r\n    import com.google.android.gms.tasks.Task;\r\n    import com.google.android.play.core.review.ReviewInfo;\r\n    import com.google.android.play.core.review.ReviewManager;\r\n    import com.google.android.play.core.review.ReviewManagerFactory;\r\n    import com.google.android.play.core.tasks.OnFailureListener;\r\n    import com.google.firebase.auth.AuthResult;\r\n    import com.google.firebase.auth.FirebaseAuth;\r\n    \r\n    public void _startInAppReview () {\r\n    \t\tfinal ReviewManager reviewManager = ReviewManagerFactory.create(this);\r\n    \t\t\r\n    \t\treviewManager.requestReviewFlow().addOnCompleteListener(new OnCompleteListener&lt;ReviewInfo&gt;() {\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void onComplete(@NonNull Task&lt;ReviewInfo&gt; task) {\r\n    \t\t\t\t\t\t\t\tif(task.isSuccessful()){\r\n    \t\t\t\t\t\t\t\t\t\t\tReviewInfo reviewInfo = task.getResult();\r\n    \t\t\t\t\t\t\t\t\t\t\treviewManager.launchReviewFlow(MainActivity.this, reviewInfo).addOnFailureListener(new OnFailureListener() {\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t@Override\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\tpublic void onFailure(Exception e) {\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//listner fail\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\t\t\t}).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t@Override\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\tpublic void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\t\t\t});\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t}\r\n    \t\t}).addOnFailureListener(new OnFailureListener() {\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void onFailure(Exception e) {\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t}\r\n    \t\t});\r\n    \t\t\r\n    \t}","title":"Firebase &amp; Play Core onCompleteListener Incompatible Types","body":"<p>I'm trying to add in-app review in an activity that has Firebase auth, but I get this error:</p>\n<blockquote>\n<p>error: incompatible types: &lt;anonymous\ncom.google.android.gms.tasks.OnCompleteListener&gt;\ncannot be converted to com.google.android.play.core.tasks.OnCompleteListener\n}).addOnCompleteListener(new OnCompleteListener() {</p>\n</blockquote>\n<p>I have tried to add this to add play core listener, but it says &quot;already defined in a single-type import&quot;</p>\n<p>I also tried to use OnSuccessListener instead of OnCompleteListener, the error no longer shows, but in-app review dialog doesn't show.</p>\n<p>Note: in-app review dialog shows when I remove Firebase Auth.</p>\n<p>This is my activity code:</p>\n<pre><code>import android.content.Intent;\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.play.core.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.android.play.core.review.ReviewInfo;\nimport com.google.android.play.core.review.ReviewManager;\nimport com.google.android.play.core.review.ReviewManagerFactory;\nimport com.google.android.play.core.tasks.OnFailureListener;\nimport com.google.firebase.auth.AuthResult;\nimport com.google.firebase.auth.FirebaseAuth;\n\npublic void _startInAppReview () {\n        final ReviewManager reviewManager = ReviewManagerFactory.create(this);\n        \n        reviewManager.requestReviewFlow().addOnCompleteListener(new OnCompleteListener&lt;ReviewInfo&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;ReviewInfo&gt; task) {\n                                if(task.isSuccessful()){\n                                            ReviewInfo reviewInfo = task.getResult();\n                                            reviewManager.launchReviewFlow(MainActivity.this, reviewInfo).addOnFailureListener(new OnFailureListener() {\n                                                        @Override\n                                                        public void onFailure(Exception e) {\n                                                                    //listner fail\n                                                        }\n                                            }).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                                                        @Override\n                                                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                                                    \n                                                        }\n                                            });\n                                }\n                                \n                    }\n        }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(Exception e) {\n                                \n                    }\n        });\n        \n    }\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","junit"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":4,"creation_date":1665572177,"post_id":74040644,"comment_id":130730744,"body_markdown":"It&#39;s `static`...thus probably always null! https://stackoverflow.com/q/1018797/592355","body":"It&#39;s <code>static</code>...thus probably always null! <a href=\"https://stackoverflow.com/q/1018797/592355\">stackoverflow.com/q/1018797/592355</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1665572332,"post_id":74040644,"comment_id":130730814,"body_markdown":"Just &quot;try to&quot; make the &quot;beforeAll&quot; (+variable) non-static!;) https://stackoverflow.com/q/55719014/592355","body":"Just &quot;try to&quot; make the &quot;beforeAll&quot; (+variable) non-static!;) <a href=\"https://stackoverflow.com/q/55719014/592355\">stackoverflow.com/q/55719014/592355</a>"},{"owner":{"account_id":2883526,"reputation":2320,"user_id":3439993,"accept_rate":33,"display_name":"Deltharis"},"score":1,"creation_date":1665572436,"post_id":74040644,"comment_id":130730859,"body_markdown":"Also, it&#39;s not really a unit test if you need to autowire something. Unit tests should use the constructor of the class under test, mocking dependencies as needed. If you do autowire something it becomes an integration test (testing multiple units)","body":"Also, it&#39;s not really a unit test if you need to autowire something. Unit tests should use the constructor of the class under test, mocking dependencies as needed. If you do autowire something it becomes an integration test (testing multiple units)"}],"owner":{"account_id":5659344,"reputation":520,"user_id":4477439,"accept_rate":73,"display_name":"Yu Fang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1665574997,"answer_count":0,"score":0,"last_activity_date":1665571939,"creation_date":1665571939,"question_id":74040644,"body_markdown":"I know there are many posts related to JUnit5 env setting, but I am not sure why I still get the null injection. My unittest is for bellow to be referred to.\r\n\r\n    import com.example.demo.service.processing.Task;\r\n    import org.junit.jupiter.api.BeforeAll;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;                 // the right one is used.\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n\r\n    import java.util.concurrent.ConcurrentHashMap;\r\n    import java.util.concurrent.ConcurrentLinkedQueue;\r\n\r\n    import static org.junit.jupiter.api.Assertions.*;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.test.context.junit.jupiter.SpringExtension;\r\n\r\n    @ExtendWith(SpringExtension.class)  //in JUnit5, these 2 are required.\r\n    @SpringBootTest\r\n    public class ProcessorUT {\r\n        // some works, settings,\r\n        @Autowired\r\n        private static TransactionServiceImpl service;\r\n        @BeforeAll\r\n        public static void initBeforeAll(){\r\n            //here the service is null\r\n        }\r\n        @BeforeEach\r\n        public void initBeforeEach() {\r\n            //service is null\r\n        }\r\n        @Test\r\n        public void test_initProcessor(){\r\n            //service is null\r\n        }\r\n    }\r\n\r\nthe maven dependency is from spring initializer,\r\n\r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n      &lt;/parent&gt;\r\nI also tried dependency bellow, but everything is the same. I think I am in the JUnit5 env based on https://stackoverflow.com/questions/52862349/spring-boot-starter-test-with-junit-5 . So what may be the issue? Any info is appreciated.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.4&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    ","title":"The injecton is null in JUnit5 Spring unittest","body":"<p>I know there are many posts related to JUnit5 env setting, but I am not sure why I still get the null injection. My unittest is for bellow to be referred to.</p>\n<pre><code>import com.example.demo.service.processing.Task;\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;                 // the right one is used.\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.concurrent.ConcurrentLinkedQueue;\n\nimport static org.junit.jupiter.api.Assertions.*;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\n\n@ExtendWith(SpringExtension.class)  //in JUnit5, these 2 are required.\n@SpringBootTest\npublic class ProcessorUT {\n    // some works, settings,\n    @Autowired\n    private static TransactionServiceImpl service;\n    @BeforeAll\n    public static void initBeforeAll(){\n        //here the service is null\n    }\n    @BeforeEach\n    public void initBeforeEach() {\n        //service is null\n    }\n    @Test\n    public void test_initProcessor(){\n        //service is null\n    }\n}\n</code></pre>\n<p>the maven dependency is from spring initializer,</p>\n<pre><code>  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.4&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n  &lt;/parent&gt;\n</code></pre>\n<p>I also tried dependency bellow, but everything is the same. I think I am in the JUnit5 env based on <a href=\"https://stackoverflow.com/questions/52862349/spring-boot-starter-test-with-junit-5\">spring-boot-starter-test with JUnit 5</a> . So what may be the issue? Any info is appreciated.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;version&gt;2.7.4&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","performance","garbage-collection"],"comments":[{"owner":{"account_id":12141,"reputation":11915,"user_id":23760,"accept_rate":90,"display_name":"ZeissS"},"score":7,"creation_date":1275034604,"post_id":2927396,"comment_id":2980764,"body_markdown":"Just a hint to an other approach (since process starting takes time, too): http://github.com/hudora/pyJasper contains a (java)server which runs jasperreports on requests, without the process startup/shutdown overhead.","body":"Just a hint to an other approach (since process starting takes time, too): <a href=\"http://github.com/hudora/pyJasper\" rel=\"nofollow noreferrer\">github.com/hudora/pyJasper</a> contains a (java)server which runs jasperreports on requests, without the process startup/shutdown overhead."},{"owner":{"account_id":481416,"reputation":355314,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":0,"creation_date":1425456504,"post_id":2927396,"comment_id":45966155,"body_markdown":"Related for specific objects: http://stackoverflow.com/questions/1329926/how-to-prevent-an-object-from-getting-garbage-collected","body":"Related for specific objects: <a href=\"http://stackoverflow.com/questions/1329926/how-to-prevent-an-object-from-getting-garbage-collected\" title=\"how to prevent an object from getting garbage collected\">stackoverflow.com/questions/1329926/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":142287,"reputation":29681,"user_id":349909,"display_name":"unbeli"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1275033221,"creation_date":1275033221,"answer_id":2927417,"question_id":2927396,"body_markdown":"GC only kicks in when JVM is short on memory, so you either GC or die. Try turning on verbose GC and see if it actually takes significant amount of time.\r\n\r\n    java -verbose:gc","title":"How can I disable Java garbage collector?","body":"<p>GC only kicks in when JVM is short on memory, so you either GC or die. Try turning on verbose GC and see if it actually takes significant amount of time.</p>\n\n<pre><code>java -verbose:gc\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27004,"reputation":28823,"user_id":70795,"accept_rate":56,"display_name":"Mark"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1275033390,"creation_date":1275033390,"answer_id":2927435,"question_id":2927396,"body_markdown":"Are you sure that it is garbage collection causing the slowdown? Have you run java with -verbose:gc to see what is happening?\r\n\r\nYou cannot disable garbage collection on the JVM. You could however look at [tuning][1] the garbage collector for better performance.\r\n\r\n\r\n\r\n\r\n  [1]: http://java.sun.com/javase/technologies/hotspot/gc/gc_tuning_6.html","title":"How can I disable Java garbage collector?","body":"<p>Are you sure that it is garbage collection causing the slowdown? Have you run java with -verbose:gc to see what is happening?</p>\n\n<p>You cannot disable garbage collection on the JVM. You could however look at <a href=\"http://java.sun.com/javase/technologies/hotspot/gc/gc_tuning_6.html\" rel=\"nofollow noreferrer\">tuning</a> the garbage collector for better performance.</p>\n"},{"tags":[],"owner":{"account_id":46249,"reputation":94060,"user_id":136540,"accept_rate":83,"display_name":"Michael Aaron Safyan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1275033572,"creation_date":1275033572,"answer_id":2927450,"question_id":2927396,"body_markdown":"You can use the &lt;code&gt;-Xmx&lt;/code&gt; option to set the maximum heap size; using a larger heap should prevent the VM from runnning out of memory and, thereby, requiring garbage collection so soon.","title":"How can I disable Java garbage collector?","body":"<p>You can use the <code>-Xmx</code> option to set the maximum heap size; using a larger heap should prevent the VM from runnning out of memory and, thereby, requiring garbage collection so soon.</p>\n"},{"tags":[],"owner":{"account_id":23515,"reputation":5397,"user_id":58991,"accept_rate":92,"display_name":"Ceilingfish"},"down_vote_count":1,"up_vote_count":34,"is_accepted":true,"score":33,"last_activity_date":1308780749,"creation_date":1275033573,"answer_id":2927451,"question_id":2927396,"body_markdown":"There is no way to disable garbage collection entirely. Garbage collection is only run when the JVM runs out of space, so you could give the program more memory. Add these command line options to the Java command\r\n\r\n    -Xmx256M -Xms256M\r\n\r\nThis gives the program 256Mb of ram (the default is 64Mb). Garbage collection will not take 3 seconds for a default size JVM though, so you might want to investigate more closely what the program is doing. [Yourkit profiler]( http://www.yourkit.com/) is very useful for figuring out what is taking a long time.","title":"How can I disable Java garbage collector?","body":"<p>There is no way to disable garbage collection entirely. Garbage collection is only run when the JVM runs out of space, so you could give the program more memory. Add these command line options to the Java command</p>\n\n<pre><code>-Xmx256M -Xms256M\n</code></pre>\n\n<p>This gives the program 256Mb of ram (the default is 64Mb). Garbage collection will not take 3 seconds for a default size JVM though, so you might want to investigate more closely what the program is doing. <a href=\"http://www.yourkit.com/\" rel=\"noreferrer\">Yourkit profiler</a> is very useful for figuring out what is taking a long time.</p>\n"},{"tags":[],"owner":{"account_id":135266,"reputation":6543,"user_id":338004,"display_name":"Paul Jowett"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1275033836,"creation_date":1275033836,"answer_id":2927470,"question_id":2927396,"body_markdown":"It sounds like you are trying to save time, but going about it the wrong way.  The time saved in disabling garbage collection would be trivial (for a single task) compared to the time taken to launch and shutdown the java process.  You might want to consider having a java process launch that you can ask multiple times to do the work you require if run-time performance is your goal.  ","title":"How can I disable Java garbage collector?","body":"<p>It sounds like you are trying to save time, but going about it the wrong way.  The time saved in disabling garbage collection would be trivial (for a single task) compared to the time taken to launch and shutdown the java process.  You might want to consider having a java process launch that you can ask multiple times to do the work you require if run-time performance is your goal.  </p>\n"},{"tags":[],"owner":{"account_id":56049,"reputation":2035,"user_id":167899,"display_name":"display101"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1275034995,"creation_date":1275034995,"answer_id":2927547,"question_id":2927396,"body_markdown":"As everyone as said you can&#39;t disable GC in the JVM, which makes sense right, because if you could there&#39;d be memory leaks due to java not having an explicit way for the developer to delete the heap data.\r\n\r\nDo you have access to the source of this java binary?  If so it might be worth analysing it and seeing if there&#39;s any bottle-necks which could be better written to cut down on GC activity.  This could be done with most java profilers, like JProbe for example.","title":"How can I disable Java garbage collector?","body":"<p>As everyone as said you can't disable GC in the JVM, which makes sense right, because if you could there'd be memory leaks due to java not having an explicit way for the developer to delete the heap data.</p>\n\n<p>Do you have access to the source of this java binary?  If so it might be worth analysing it and seeing if there's any bottle-necks which could be better written to cut down on GC activity.  This could be done with most java profilers, like JProbe for example.</p>\n"},{"tags":[],"owner":{"account_id":2608067,"reputation":93,"user_id":2258804,"display_name":"Rodrigo Hernandez"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1471246918,"creation_date":1471246918,"answer_id":38951133,"question_id":2927396,"body_markdown":"To avoid garbage collector release a variable or property from any object,\r\nyou must set this property (released by gc) as static in your class\r\nit was my solution.\r\n\r\nExample:\r\n\r\nprivate static String myProperty;","title":"How can I disable Java garbage collector?","body":"<p>To avoid garbage collector release a variable or property from any object,\nyou must set this property (released by gc) as static in your class\nit was my solution.</p>\n\n<p>Example:</p>\n\n<p>private static String myProperty;</p>\n"},{"tags":[],"owner":{"account_id":6333754,"reputation":2065,"user_id":4917881,"display_name":"aventurin"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1537638623,"creation_date":1537638623,"answer_id":52459327,"question_id":2927396,"body_markdown":"Java 11 comes with an [no-op garbage collector][1].\r\n\r\nIt can be enabled by the `-XX:+UseEpsilonGC` option at JVM start.\r\n\r\nAccording to the [JEP decription][1] one of its goals is to make certain short-lived jobs more efficient, what might be you use case:\r\n\r\n&gt; Extremely short lived jobs. A short-lived job might rely on exiting quickly to free the resources (e.g. heap memory). In this case, accepting the GC cycle to futilely clean up the heap is a waste of time, because the heap would be freed on exit anyway. Note that the GC cycle might take a while, because it would depend on the amount of live data in the heap, which can be a lot.\r\n\r\n  [1]: http://openjdk.java.net/jeps/318","title":"How can I disable Java garbage collector?","body":"<p>Java 11 comes with an <a href=\"http://openjdk.java.net/jeps/318\" rel=\"noreferrer\">no-op garbage collector</a>.</p>\n\n<p>It can be enabled by the <code>-XX:+UseEpsilonGC</code> option at JVM start.</p>\n\n<p>According to the <a href=\"http://openjdk.java.net/jeps/318\" rel=\"noreferrer\">JEP decription</a> one of its goals is to make certain short-lived jobs more efficient, what might be you use case:</p>\n\n<blockquote>\n  <p>Extremely short lived jobs. A short-lived job might rely on exiting quickly to free the resources (e.g. heap memory). In this case, accepting the GC cycle to futilely clean up the heap is a waste of time, because the heap would be freed on exit anyway. Note that the GC cycle might take a while, because it would depend on the amount of live data in the heap, which can be a lot.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1118131,"reputation":3724,"user_id":1106996,"display_name":"Cameron McKenzie"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1610663921,"creation_date":1610663921,"answer_id":65727930,"question_id":2927396,"body_markdown":"Java 11 gives you the binary option to either have Java GC on, or have Java GC turned off. To turn off Java GC you use the Epsilon Garbage Collector which must be turned off on the command line. On Java 11, use the following two JVM arguments:\r\n\r\n    -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\r\n\r\nWithout the `UnlockExperimentalVMOptions` argument, the JVM will fail to start, so make sure it&#39;s included.\r\n\r\nCan&#39;t Stop Java GC\r\n------------------\r\n\r\nUnfortunately, if you&#39;re not using Epsilon GC, there is no way to disable, stop or prevent garbage collection from happening. Just like not being able to trigger GC, you can&#39;t [stop Java GC][1] either. The algorithms are non-deterministic. Only the JVM can control when they occur.\r\n\r\n\r\n  [1]: https://youtu.be/aTMZGs0ZGPE","title":"How can I disable Java garbage collector?","body":"<p>Java 11 gives you the binary option to either have Java GC on, or have Java GC turned off. To turn off Java GC you use the Epsilon Garbage Collector which must be turned off on the command line. On Java 11, use the following two JVM arguments:</p>\n<pre><code>-XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n</code></pre>\n<p>Without the <code>UnlockExperimentalVMOptions</code> argument, the JVM will fail to start, so make sure it's included.</p>\n<h2>Can't Stop Java GC</h2>\n<p>Unfortunately, if you're not using Epsilon GC, there is no way to disable, stop or prevent garbage collection from happening. Just like not being able to trigger GC, you can't <a href=\"https://youtu.be/aTMZGs0ZGPE\" rel=\"noreferrer\">stop Java GC</a> either. The algorithms are non-deterministic. Only the JVM can control when they occur.</p>\n"},{"tags":[],"owner":{"account_id":1845234,"reputation":988,"user_id":1673705,"display_name":"barneypitt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665571841,"creation_date":1665571841,"answer_id":74040624,"question_id":2927396,"body_markdown":"Contrary to what everyone else has said, there *is* a way to suspend GC, though it&#39;s very convoluted.\r\n\r\nIf you call a native function via JNI, in between the native code calling GetPrimitiveArrayCritical and ReleasePrimitiveArrayCritical, GC is suspended. It has to do this because it is the mechanism used for sharing memory between Java and native code, and GC may move objects around in memory.\r\n\r\nSo to utilise this you&#39;d need to create a JNI function which calls the former, then polls a flag written to that critical array (which could just be a byte[1]) waiting till it sees the flag before calling the latter. When the Java code wishes to suspend GC it would call the JNI method and when it wishes to resume GC, set the aforementioned flag (I believe reads/writes to the critical array are volatile, so the native code would see the flag immediately).\r\n\r\nNow I&#39;m not saying this is a good idea, and certainly not the correct solution to the OP&#39;s problem. But if you absolutely had to temporarily suspend GC for some reason (perhaps you wish to manipulate raw memory via sun.misc.Unsafe and needed to ensure objects were not moved about by GC whilst doing so), that&#39;s how you could achieve it. ","title":"How can I disable Java garbage collector?","body":"<p>Contrary to what everyone else has said, there <em>is</em> a way to suspend GC, though it's very convoluted.</p>\n<p>If you call a native function via JNI, in between the native code calling GetPrimitiveArrayCritical and ReleasePrimitiveArrayCritical, GC is suspended. It has to do this because it is the mechanism used for sharing memory between Java and native code, and GC may move objects around in memory.</p>\n<p>So to utilise this you'd need to create a JNI function which calls the former, then polls a flag written to that critical array (which could just be a byte[1]) waiting till it sees the flag before calling the latter. When the Java code wishes to suspend GC it would call the JNI method and when it wishes to resume GC, set the aforementioned flag (I believe reads/writes to the critical array are volatile, so the native code would see the flag immediately).</p>\n<p>Now I'm not saying this is a good idea, and certainly not the correct solution to the OP's problem. But if you absolutely had to temporarily suspend GC for some reason (perhaps you wish to manipulate raw memory via sun.misc.Unsafe and needed to ensure objects were not moved about by GC whilst doing so), that's how you could achieve it.</p>\n"}],"owner":{"account_id":143958,"reputation":49544,"user_id":352672,"accept_rate":100,"display_name":"Nelson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55664,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":2927451,"answer_count":10,"score":40,"last_activity_date":1665571841,"creation_date":1275032983,"question_id":2927396,"body_markdown":"We have a PHP webapp that calls a Java binary to produce a PDF report (with JasperReports). The Java binary outputs the PDF to standard output and exits; the PHP then sends the PDF to browser. This Java command lasts about 3 to 6 seconds, and I think when it lasts 6 second it&#39;s because the GC kicks in. I would like to disable the GC because anyway when the command exits all memory is returned.\r\n\r\nI would like to know how to disable it for Java 1.4.2 and for Java 1.6.0 because we are currently testing both JVM to see which performs faster..","title":"How can I disable Java garbage collector?","body":"<p>We have a PHP webapp that calls a Java binary to produce a PDF report (with JasperReports). The Java binary outputs the PDF to standard output and exits; the PHP then sends the PDF to browser. This Java command lasts about 3 to 6 seconds, and I think when it lasts 6 second it's because the GC kicks in. I would like to disable the GC because anyway when the command exits all memory is returned.</p>\n\n<p>I would like to know how to disable it for Java 1.4.2 and for Java 1.6.0 because we are currently testing both JVM to see which performs faster..</p>\n"},{"tags":["java","rest","spring-boot","sqlexception"],"comments":[{"owner":{"account_id":12156027,"reputation":13933,"user_id":8874958,"display_name":"Kishan Solanki"},"score":0,"creation_date":1573128591,"post_id":54035808,"comment_id":103785373,"body_markdown":"https://stackoverflow.com/a/58748439/8874958","body":"<a href=\"https://stackoverflow.com/a/58748439/8874958\">stackoverflow.com/a/58748439/8874958</a>"}],"answers":[{"tags":[],"owner":{"account_id":2625978,"reputation":857,"user_id":2272958,"accept_rate":50,"display_name":"Kapil"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1546593364,"creation_date":1546593364,"answer_id":54035980,"question_id":54035808,"body_markdown":"Since you are using spring-data JPA repository to save entity you should catch `DataIntegrityViolationException` instead of `SQLException`","title":"How to handle the SQLIntegrityConstraintViolationException in Spring Boot?","body":"<p>Since you are using spring-data JPA repository to save entity you should catch <code>DataIntegrityViolationException</code> instead of <code>SQLException</code></p>\n"},{"tags":[],"owner":{"account_id":16964927,"reputation":11,"user_id":12271113,"display_name":"White Eagle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665571787,"creation_date":1665571787,"answer_id":74040611,"question_id":54035808,"body_markdown":"I&#39;m facing the same issue rn, what @Kapil suggested didn&#39;t work for me, When digging in the exception logs I&#39;ve found that the exception is thrown after the method finishes which is weird, I think there is some spring-boot mechanism underlining that makes it the way it is","title":"How to handle the SQLIntegrityConstraintViolationException in Spring Boot?","body":"<p>I'm facing the same issue rn, what @Kapil suggested didn't work for me, When digging in the exception logs I've found that the exception is thrown after the method finishes which is weird, I think there is some spring-boot mechanism underlining that makes it the way it is</p>\n"}],"owner":{"display_name":"user9608350"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12212,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":54035980,"answer_count":2,"score":7,"last_activity_date":1665571787,"creation_date":1546592503,"question_id":54035808,"body_markdown":"I&#39;m working at a RestController and I try to handle the SQLIntegrityConstraintViolationException using try-catch blocks but I don&#39;t know why the catch block is never executed.\r\n\r\nThis is the RestController:\r\n\r\n    import java.net.URI;\r\n    import java.sql.SQLException;\r\n    import java.sql.SQLIntegrityConstraintViolationException;\r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.web.bind.annotation.CrossOrigin;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.servlet.support.ServletUriComponentsBuilder;\r\n    \r\n    @CrossOrigin(origins=&quot;http://localhost:4200&quot;)\r\n    @RestController\r\n    public class UserJPAResource {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate UserJpaRepository userJpaRepository;\r\n    \t\r\n    \t@Autowired\r\n    \tprivate BCryptPasswordEncoder encoder;\r\n    \r\n    \t@GetMapping(&quot;/allusers&quot;)\r\n    \tpublic List&lt;User&gt; getAllUsers() {\r\n    \t\treturn userJpaRepository.findAll();\r\n    \t}\r\n    \t\r\n    \t@PostMapping(&quot;/allusers&quot;)\r\n    \tpublic ResponseEntity&lt;Void&gt; createUser(@RequestBody User user) {\r\n    \t\tuser.setPassword(encoder.encode(user.getPassword())); \r\n    \t\t\r\n    \t\tUser createdUser = new User();\r\n        \t\t\r\n    \t\ttry {    \r\n    \t\t    createdUser = save(user);\r\n    \t\t    \r\n    \t\t\t\r\n    \t\t} catch (SQLException e) {\r\n    \t\t    if(e instanceof SQLIntegrityConstraintViolationException) {\r\n    \t\t        if(e.getSQLState().equals(&quot;23000&quot;)) {\r\n    \t\t            if(e.getMessage().contains(&quot;Duplicate&quot;)) {\r\n    \t\t                if (e.getMessage().contains(&quot;username&quot;)) {\r\n    \t\t                \tSystem.out.println(&quot;Duplicate username&quot;); \r\n    \t\t                } else {\r\n    \t\t                \tSystem.out.println(&quot;Duplicate email&quot;); \r\n    \t\t                }\r\n    \t\t            }\r\n    \t\t        }\r\n    \t\t    }\r\n    \t\t}\r\n    \t\t\r\n    \t\tURI uri = ServletUriComponentsBuilder.fromCurrentRequest()\r\n    \t\t\t\t.path(&quot;/{id}&quot;).buildAndExpand(createdUser.getId()).toUri();\r\n    \t\t\r\n    \t\treturn ResponseEntity.created(uri).build();\r\n    \r\n    \t}\r\n    \t\r\n    \tpublic User save(User user) throws SQLException {\r\n    \t\tUser newUser = userJpaRepository.save(user);\r\n    \t\treturn newUser;\r\n    \t}\r\n    }\r\n\r\nIf I try to add an user with an username or email that is already in the database I get the SQLIntegrityConstraintViolationException error in the console:\r\n\r\n    java.sql.SQLIntegrityConstraintViolationException: Duplicate entry &#39;dgs&#39; for key &#39;username&#39;\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117) ~[mysql-connector-java-8.0.13.jar:8.0.13]\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.13.jar:8.0.13]\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.13.jar:8.0.13]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:974) ~[mysql-connector-java-8.0.13.jar:8.0.13]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1113) ~[mysql-connector-java-8.0.13.jar:8.0.13]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061) ~[mysql-connector-java-8.0.13.jar:8.0.13]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1381) ~[mysql-connector-java-8.0.13.jar:8.0.13]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1046) ~[mysql-connector-java-8.0.13.jar:8.0.13]\r\n    \tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-3.2.0.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-3.2.0.jar:na]\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:57) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:42) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3072) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3663) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:81) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:359) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:292) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:200) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:131) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:192) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:62) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:800) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:785) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_181]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_181]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_181]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_181]\r\n    \tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:350) ~[spring-orm-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat com.sun.proxy.$Proxy113.persist(Unknown Source) ~[na:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_181]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_181]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_181]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_181]\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:308) ~[spring-orm-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat com.sun.proxy.$Proxy113.persist(Unknown Source) ~[na:na]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:489) ~[spring-data-jpa-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_181]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_181]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_181]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_181]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:359) ~[spring-data-commons-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:200) ~[spring-data-commons-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:644) ~[spring-data-commons-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:608) ~[spring-data-commons-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$invoke$3(RepositoryFactorySupport.java:595) ~[spring-data-commons-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:595) ~[spring-data-commons-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:59) ~[spring-data-commons-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294) ~[spring-tx-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) ~[spring-data-jpa-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) ~[spring-data-commons-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat com.sun.proxy.$Proxy115.save(Unknown Source) ~[na:na]\r\n    \tat com.dgs.restful.webservices.goaltrackerservice.user.UserJPAResource.save(UserJPAResource.java:72) ~[classes/:na]\r\n    \tat com.dgs.restful.webservices.goaltrackerservice.user.UserJPAResource.createUser(UserJPAResource.java:44) ~[classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_181]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_181]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_181]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_181]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:215) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:142) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:998) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:901) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:875) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.12.jar:9.0.12]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\r\n    \tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n    \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.12.jar:9.0.12]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [tomcat-embed-core-9.0.12.jar:9.0.12]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.12.jar:9.0.12]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.12.jar:9.0.12]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.12.jar:9.0.12]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.12.jar:9.0.12]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.12.jar:9.0.12]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.12.jar:9.0.12]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:770) [tomcat-embed-core-9.0.12.jar:9.0.12]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415) [tomcat-embed-core-9.0.12.jar:9.0.12]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.12.jar:9.0.12]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_181]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_181]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.12.jar:9.0.12]\r\n    \tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_181]","title":"How to handle the SQLIntegrityConstraintViolationException in Spring Boot?","body":"<p>I'm working at a RestController and I try to handle the SQLIntegrityConstraintViolationException using try-catch blocks but I don't know why the catch block is never executed.</p>\n\n<p>This is the RestController:</p>\n\n<pre><code>import java.net.URI;\nimport java.sql.SQLException;\nimport java.sql.SQLIntegrityConstraintViolationException;\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.servlet.support.ServletUriComponentsBuilder;\n\n@CrossOrigin(origins=\"http://localhost:4200\")\n@RestController\npublic class UserJPAResource {\n\n    @Autowired\n    private UserJpaRepository userJpaRepository;\n\n    @Autowired\n    private BCryptPasswordEncoder encoder;\n\n    @GetMapping(\"/allusers\")\n    public List&lt;User&gt; getAllUsers() {\n        return userJpaRepository.findAll();\n    }\n\n    @PostMapping(\"/allusers\")\n    public ResponseEntity&lt;Void&gt; createUser(@RequestBody User user) {\n        user.setPassword(encoder.encode(user.getPassword())); \n\n        User createdUser = new User();\n\n        try {    \n            createdUser = save(user);\n\n\n        } catch (SQLException e) {\n            if(e instanceof SQLIntegrityConstraintViolationException) {\n                if(e.getSQLState().equals(\"23000\")) {\n                    if(e.getMessage().contains(\"Duplicate\")) {\n                        if (e.getMessage().contains(\"username\")) {\n                            System.out.println(\"Duplicate username\"); \n                        } else {\n                            System.out.println(\"Duplicate email\"); \n                        }\n                    }\n                }\n            }\n        }\n\n        URI uri = ServletUriComponentsBuilder.fromCurrentRequest()\n                .path(\"/{id}\").buildAndExpand(createdUser.getId()).toUri();\n\n        return ResponseEntity.created(uri).build();\n\n    }\n\n    public User save(User user) throws SQLException {\n        User newUser = userJpaRepository.save(user);\n        return newUser;\n    }\n}\n</code></pre>\n\n<p>If I try to add an user with an username or email that is already in the database I get the SQLIntegrityConstraintViolationException error in the console:</p>\n\n<pre><code>java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'dgs' for key 'username'\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117) ~[mysql-connector-java-8.0.13.jar:8.0.13]\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.13.jar:8.0.13]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.13.jar:8.0.13]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:974) ~[mysql-connector-java-8.0.13.jar:8.0.13]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1113) ~[mysql-connector-java-8.0.13.jar:8.0.13]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061) ~[mysql-connector-java-8.0.13.jar:8.0.13]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1381) ~[mysql-connector-java-8.0.13.jar:8.0.13]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1046) ~[mysql-connector-java-8.0.13.jar:8.0.13]\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-3.2.0.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-3.2.0.jar:na]\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:57) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:42) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3072) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3663) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:81) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:359) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:292) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:200) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:131) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:192) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:62) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:800) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:785) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_181]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_181]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_181]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_181]\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:350) ~[spring-orm-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at com.sun.proxy.$Proxy113.persist(Unknown Source) ~[na:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_181]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_181]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_181]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_181]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:308) ~[spring-orm-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at com.sun.proxy.$Proxy113.persist(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:489) ~[spring-data-jpa-2.1.2.RELEASE.jar:2.1.2.RELEASE]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_181]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_181]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_181]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_181]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:359) ~[spring-data-commons-2.1.2.RELEASE.jar:2.1.2.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:200) ~[spring-data-commons-2.1.2.RELEASE.jar:2.1.2.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:644) ~[spring-data-commons-2.1.2.RELEASE.jar:2.1.2.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:608) ~[spring-data-commons-2.1.2.RELEASE.jar:2.1.2.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$invoke$3(RepositoryFactorySupport.java:595) ~[spring-data-commons-2.1.2.RELEASE.jar:2.1.2.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:595) ~[spring-data-commons-2.1.2.RELEASE.jar:2.1.2.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:59) ~[spring-data-commons-2.1.2.RELEASE.jar:2.1.2.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294) ~[spring-tx-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) ~[spring-data-jpa-2.1.2.RELEASE.jar:2.1.2.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) ~[spring-data-commons-2.1.2.RELEASE.jar:2.1.2.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at com.sun.proxy.$Proxy115.save(Unknown Source) ~[na:na]\n    at com.dgs.restful.webservices.goaltrackerservice.user.UserJPAResource.save(UserJPAResource.java:72) ~[classes/:na]\n    at com.dgs.restful.webservices.goaltrackerservice.user.UserJPAResource.createUser(UserJPAResource.java:44) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_181]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_181]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_181]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_181]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:215) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:142) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:998) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:901) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:875) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\n    at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.1.1.RELEASE.jar:5.1.1.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:770) [tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415) [tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.12.jar:9.0.12]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_181]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_181]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.12.jar:9.0.12]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_181]\n</code></pre>\n"},{"tags":["java","jackson"],"answers":[{"tags":[],"owner":{"account_id":152539,"reputation":19707,"user_id":367141,"accept_rate":100,"display_name":"David"},"down_vote_count":0,"up_vote_count":78,"is_accepted":true,"score":78,"last_activity_date":1505286783,"creation_date":1436450035,"answer_id":31319631,"question_id":31319358,"body_markdown":"&gt; @JsonManagedReference is the forward part of reference  the one that\r\n&gt; gets serialized normally. @JsonBackReference is the back part of\r\n&gt; reference  it will be omitted from serialization.\r\n\r\nSo they really depend on the direction of your relationship\r\n\r\n    public class User {\r\n        public int id;\r\n        public String name;\r\n     \r\n        @JsonBackReference\r\n        public List&lt;Item&gt; userItems; \r\n    } \r\n\r\n    public class Item {\r\n        public int id;\r\n        public String itemName;\r\n     \r\n        @JsonManagedReference\r\n        public User owner; \r\n     }","title":"JsonManagedReference vs JsonBackReference","body":"<blockquote>\n  <p>@JsonManagedReference is the forward part of reference  the one that\n  gets serialized normally. @JsonBackReference is the back part of\n  reference  it will be omitted from serialization.</p>\n</blockquote>\n\n<p>So they really depend on the direction of your relationship</p>\n\n<pre><code>public class User {\n    public int id;\n    public String name;\n\n    @JsonBackReference\n    public List&lt;Item&gt; userItems; \n} \n\npublic class Item {\n    public int id;\n    public String itemName;\n\n    @JsonManagedReference\n    public User owner; \n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1800179,"reputation":3396,"user_id":1638718,"display_name":"ooozguuur"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1479461486,"creation_date":1479461486,"answer_id":40673538,"question_id":31319358,"body_markdown":"`@JsonManagedReference` and `@JsonBackReference` are designed to handle this two-way linkage between fields, one for Parent role, the other for Child role.\r\n\r\n&gt; For avoiding the problem, linkage is handled such that the property\r\n&gt; annotated with @JsonManagedReference annotation is handled normally\r\n&gt; (serialized normally, no special handling for deserialization) and the\r\n&gt; property annotated with @JsonBackReference annotation is not\r\n&gt; serialized; and during deserialization, its value is set to instance\r\n&gt; that has the &quot;managed&quot; (forward) link.","title":"JsonManagedReference vs JsonBackReference","body":"<p><code>@JsonManagedReference</code> and <code>@JsonBackReference</code> are designed to handle this two-way linkage between fields, one for Parent role, the other for Child role.</p>\n\n<blockquote>\n  <p>For avoiding the problem, linkage is handled such that the property\n  annotated with @JsonManagedReference annotation is handled normally\n  (serialized normally, no special handling for deserialization) and the\n  property annotated with @JsonBackReference annotation is not\n  serialized; and during deserialization, its value is set to instance\n  that has the \"managed\" (forward) link.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8012388,"reputation":3367,"user_id":6043669,"accept_rate":79,"display_name":"HopeKing"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1492522907,"creation_date":1492522907,"answer_id":43473926,"question_id":31319358,"body_markdown":" - @JsonManagedReference -&gt; Manages the forward part of the reference and the fields marked by this annotation are the ones that get Serialised \r\n - @JsonBackReference -&gt; Manages the reverse part of the reference and the fields/collections marked with this annotation are not serialised.\r\n\r\n**Use case:**\r\nYou have a one-many or many-many relationships in your entities/tables and not using the above would lead to errors like\r\n\r\n    Infinite Recursion and hence stackoverflow - &gt; Could not write content: Infinite recursion (StackOverflowError)\r\n\r\nThe above errors occurs because Jackson (or someother similiar) tries to serialise both ends of the relationship and ends up in a recursion.\r\n\r\n@JsonIgnore performs similiar functions but the above mentioned annotations are preferable.","title":"JsonManagedReference vs JsonBackReference","body":"<ul>\n<li>@JsonManagedReference -> Manages the forward part of the reference and the fields marked by this annotation are the ones that get Serialised </li>\n<li>@JsonBackReference -> Manages the reverse part of the reference and the fields/collections marked with this annotation are not serialised.</li>\n</ul>\n\n<p><strong>Use case:</strong>\nYou have a one-many or many-many relationships in your entities/tables and not using the above would lead to errors like</p>\n\n<pre><code>Infinite Recursion and hence stackoverflow - &gt; Could not write content: Infinite recursion (StackOverflowError)\n</code></pre>\n\n<p>The above errors occurs because Jackson (or someother similiar) tries to serialise both ends of the relationship and ends up in a recursion.</p>\n\n<p>@JsonIgnore performs similiar functions but the above mentioned annotations are preferable.</p>\n"},{"tags":[],"owner":{"account_id":5973459,"reputation":774,"user_id":4695118,"accept_rate":0,"display_name":"Andrew Sneck"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1563276635,"creation_date":1563274938,"answer_id":57055767,"question_id":31319358,"body_markdown":"As write Rajat Verma, his solution works perfectly. Thanks man you saved me lot of time and anger :-)\r\n\r\n&gt; **The important Part:**  \r\nYou need define fields as `List`, I had that as `Set` before and this solution NOT WORKING (appears as infinite loop)!\r\n\r\nI add my solution:\r\n\r\n    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;, scope = Long.class)\r\n    public class Agent {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n\r\n        @ManyToMany(mappedBy = &quot;subscribers&quot;)\r\n        @ApiModelProperty(dataType = &quot;List&quot;, example = &quot;[1,2,3]&quot;) // for Swagger\r\n        @JsonIdentityReference(alwaysAsId = true) // show only id of Topic\r\n        private final List&lt;Topic&gt; subscribeTopics = new ArrayList&lt;&gt;()\r\n    }\r\n\r\n     @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;, scope = Long.class)\r\n     public class Topic {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n\r\n        @ManyToMany(cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\r\n        @JoinTable(name = &quot;topic_agent&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;fk_topic_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;fk_agent_id&quot;))\r\n        @ApiModelProperty(dataType = &quot;List&quot;, example = &quot;[1,2,3]&quot;)\r\n        @JsonIdentityReference(alwaysAsId = true)\r\n        private final List&lt;Agent&gt; subscribers = new ArrayList&lt;&gt;();\r\n     }\r\n\r\n\r\n\r\n","title":"JsonManagedReference vs JsonBackReference","body":"<p>As write Rajat Verma, his solution works perfectly. Thanks man you saved me lot of time and anger :-)</p>\n\n<blockquote>\n  <p><strong>The important Part:</strong><br>\n  You need define fields as <code>List</code>, I had that as <code>Set</code> before and this solution NOT WORKING (appears as infinite loop)!</p>\n</blockquote>\n\n<p>I add my solution:</p>\n\n<pre><code>@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = \"id\", scope = Long.class)\npublic class Agent {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @ManyToMany(mappedBy = \"subscribers\")\n    @ApiModelProperty(dataType = \"List\", example = \"[1,2,3]\") // for Swagger\n    @JsonIdentityReference(alwaysAsId = true) // show only id of Topic\n    private final List&lt;Topic&gt; subscribeTopics = new ArrayList&lt;&gt;()\n}\n\n @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = \"id\", scope = Long.class)\n public class Topic {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @ManyToMany(cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\n    @JoinTable(name = \"topic_agent\",\n        joinColumns = @JoinColumn(name = \"fk_topic_id\"),\n        inverseJoinColumns = @JoinColumn(name = \"fk_agent_id\"))\n    @ApiModelProperty(dataType = \"List\", example = \"[1,2,3]\")\n    @JsonIdentityReference(alwaysAsId = true)\n    private final List&lt;Agent&gt; subscribers = new ArrayList&lt;&gt;();\n }\n</code></pre>\n"}],"owner":{"account_id":1800179,"reputation":3396,"user_id":1638718,"display_name":"ooozguuur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87352,"favorite_count":0,"down_vote_count":1,"up_vote_count":66,"accepted_answer_id":31319631,"answer_count":4,"score":65,"last_activity_date":1665571721,"creation_date":1436449401,"question_id":31319358,"body_markdown":"I would like to know the difference between `@JsonManagedReference` and `@JsonBackReference` in Jackson? ","title":"JsonManagedReference vs JsonBackReference","body":"<p>I would like to know the difference between <code>@JsonManagedReference</code> and <code>@JsonBackReference</code> in Jackson? </p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1665491779,"post_id":74028224,"comment_id":130708721,"body_markdown":"When creating the pending intent with `PendingIntent.get*` (even with `FLAG_NO_CREATE` I guess) you have to add that flag, e.g. `..., PendingIntent.FLAG_CANCEL_CURRENT | PendingIntent.FLAG_IMMUTABLE) ;` (bitwise &quot;or&quot; `|` adds bit flags). And not sure about that but wouldn&#39;t `alarmManager.cancel(alarmUp)` already do the trick?","body":"When creating the pending intent with <code>PendingIntent.get*</code> (even with <code>FLAG_NO_CREATE</code> I guess) you have to add that flag, e.g. <code>..., PendingIntent.FLAG_CANCEL_CURRENT | PendingIntent.FLAG_IMMUTABLE) ;</code> (bitwise &quot;or&quot; <code>|</code> adds bit flags). And not sure about that but wouldn&#39;t <code>alarmManager.cancel(alarmUp)</code> already do the trick?"},{"owner":{"account_id":2113491,"reputation":536,"user_id":6854117,"accept_rate":72,"display_name":"Moeez"},"score":0,"creation_date":1665492990,"post_id":74028224,"comment_id":130709247,"body_markdown":"where to add `alarmManager.cancel(alarmUp)`","body":"where to add <code>alarmManager.cancel(alarmUp)</code>"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1665493219,"post_id":74028224,"comment_id":130709380,"body_markdown":"I meant `if (alarmUp) { alarmManager.cancel(alarmUp); }` instead of creating a new updated intent just to cancel it. Not sure if that works though. but https://stackoverflow.com/a/28922621/995891 looks like you don&#39;t have  to do that nor cancel the intent itself","body":"I meant <code>if (alarmUp) { alarmManager.cancel(alarmUp); }</code> instead of creating a new updated intent just to cancel it. Not sure if that works though. but <a href=\"https://stackoverflow.com/a/28922621/995891\">stackoverflow.com/a/28922621/995891</a> looks like you don&#39;t have  to do that nor cancel the intent itself"},{"owner":{"account_id":13732063,"reputation":4892,"user_id":9909365,"display_name":"Ashvin solanki"},"score":0,"creation_date":1665571907,"post_id":74028224,"comment_id":130730645,"body_markdown":"Does this answer your question? [How to solve this Targeting S+ (version 31 and above) requires that one of FLAG\\_IMMUTABLE or FLAG\\_MUTABLE](https://stackoverflow.com/questions/72919110/how-to-solve-this-targeting-s-version-31-and-above-requires-that-one-of-flag)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/72919110/how-to-solve-this-targeting-s-version-31-and-above-requires-that-one-of-flag\">How to solve this Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE</a>"}],"answers":[{"tags":[],"owner":{"account_id":7214033,"reputation":4553,"user_id":5507158,"display_name":"Dewey Reed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665571660,"creation_date":1665497899,"answer_id":74029665,"question_id":74028224,"body_markdown":"&gt; If your app targets Android 12 or higher, you must specify the mutability of each PendingIntent object that your app creates.\r\n\r\nSource: &lt;https://developer.android.com/guide/components/intents-filters#DeclareMutabilityPendingIntent&gt;\r\n\r\nIn short, add `PendingIntent.FLAG_IMMUTABLE` or `PendingIntent.FLAG_MUTABLE` to other `PendingIntent` flags.\r\n\r\nWhether it&#39;s mutable or not depends. For alarms, it&#39;s normally immutable.\r\n\r\nFor example, before:\r\n\r\n```Kotlin\r\nPendingIntent.FLAG_UPDATE_CURRENT\r\n```\r\n\r\nNow:\r\n\r\n```Kotlin\r\nPendingIntent.FLAG_UPDATE_CURRENT or PendingIntent.FLAG_IMMUTABLE\r\n```\r\n\r\nIf you target Android 5 or lower, you need:\r\n\r\n```Kotlin\r\nPendingIntent.FLAG_UPDATE_CURRENT or\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n        PendingIntent.FLAG_IMMUTABLE\r\n    } else {\r\n        0\r\n    }\r\n```\r\n\r\nP.S. I happened to read [this commit](https://github.com/evernote/android-job/commit/69775d8be49499eee79507a3915a4a11cb4331b5) today. It has a similar modification.\r\n\r\nUpdated code for the question:\r\n\r\n```Java\r\n public static void initSyncReceiver(Context context) {\r\n    Intent intent = new Intent(context, SyncReciver.class);\r\n    AlarmManager alarmManager = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\r\n    boolean alarmUp = (PendingIntent.getBroadcast(context, 23231, intent, PendingIntent.FLAG_NO_CREATE | PendingIntent.FLAG_IMMUTABLE) != null);\r\n    if (!Common.SharedPreferenceHelper.getSharedPreference(context, context.getString(R.string.survey_sync_settings_key), true)) {\r\n        if (alarmUp) {\r\n            //alarm is up but not needed\r\n            Log.e(TAG, &quot;sync booking alarm is up but not needed, canceling..&quot;);\r\n            PendingIntent pendingIntent = PendingIntent.getBroadcast(context,\r\n                    23231, intent, PendingIntent.FLAG_CANCEL_CURRENT | PendingIntent.FLAG_IMMUTABLE);\r\n            pendingIntent.cancel();\r\n            alarmManager.cancel(pendingIntent);\r\n        } else {\r\n            Log.e(TAG, &quot;sync booking alarm neither up nor needed...&quot;);\r\n        }\r\n        return;\r\n    }\r\n    setAlarm(intent, context, 23231, 5);\r\n    Log.e(TAG, &quot;sync booking alarm needed so setting...&quot;);\r\n}\r\n```","title":"Android Studio unable to run app on version 31 or above","body":"<blockquote>\n<p>If your app targets Android 12 or higher, you must specify the mutability of each PendingIntent object that your app creates.</p>\n</blockquote>\n<p>Source: <a href=\"https://developer.android.com/guide/components/intents-filters#DeclareMutabilityPendingIntent\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/intents-filters#DeclareMutabilityPendingIntent</a></p>\n<p>In short, add <code>PendingIntent.FLAG_IMMUTABLE</code> or <code>PendingIntent.FLAG_MUTABLE</code> to other <code>PendingIntent</code> flags.</p>\n<p>Whether it's mutable or not depends. For alarms, it's normally immutable.</p>\n<p>For example, before:</p>\n<pre><code>PendingIntent.FLAG_UPDATE_CURRENT\n</code></pre>\n<p>Now:</p>\n<pre><code>PendingIntent.FLAG_UPDATE_CURRENT or PendingIntent.FLAG_IMMUTABLE\n</code></pre>\n<p>If you target Android 5 or lower, you need:</p>\n<pre><code>PendingIntent.FLAG_UPDATE_CURRENT or\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        PendingIntent.FLAG_IMMUTABLE\n    } else {\n        0\n    }\n</code></pre>\n<p>P.S. I happened to read <a href=\"https://github.com/evernote/android-job/commit/69775d8be49499eee79507a3915a4a11cb4331b5\" rel=\"nofollow noreferrer\">this commit</a> today. It has a similar modification.</p>\n<p>Updated code for the question:</p>\n<pre><code> public static void initSyncReceiver(Context context) {\n    Intent intent = new Intent(context, SyncReciver.class);\n    AlarmManager alarmManager = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\n    boolean alarmUp = (PendingIntent.getBroadcast(context, 23231, intent, PendingIntent.FLAG_NO_CREATE | PendingIntent.FLAG_IMMUTABLE) != null);\n    if (!Common.SharedPreferenceHelper.getSharedPreference(context, context.getString(R.string.survey_sync_settings_key), true)) {\n        if (alarmUp) {\n            //alarm is up but not needed\n            Log.e(TAG, &quot;sync booking alarm is up but not needed, canceling..&quot;);\n            PendingIntent pendingIntent = PendingIntent.getBroadcast(context,\n                    23231, intent, PendingIntent.FLAG_CANCEL_CURRENT | PendingIntent.FLAG_IMMUTABLE);\n            pendingIntent.cancel();\n            alarmManager.cancel(pendingIntent);\n        } else {\n            Log.e(TAG, &quot;sync booking alarm neither up nor needed...&quot;);\n        }\n        return;\n    }\n    setAlarm(intent, context, 23231, 5);\n    Log.e(TAG, &quot;sync booking alarm needed so setting...&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":2113491,"reputation":536,"user_id":6854117,"accept_rate":72,"display_name":"Moeez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74029665,"answer_count":1,"score":0,"last_activity_date":1665571660,"creation_date":1665491568,"question_id":74028224,"body_markdown":"I have developed an android app that is working perfectly alright on android versions less than `31`. For version 31 or greater I am getting the following error\r\n\r\n&gt; Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\r\nStrongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, \r\ne.g. if it needs to be used with inline replies or bubbles.\r\n\r\n**Code**\r\n\r\n\r\n     public static void initSyncReceiver(Context context) {\r\n        Intent intent = new Intent(context, SyncReciver.class);\r\n        AlarmManager alarmManager = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\r\n        boolean alarmUp = (PendingIntent.getBroadcast(context, 23231, intent, PendingIntent.FLAG_NO_CREATE) != null);\r\n        if (!Common.SharedPreferenceHelper.getSharedPreference(context, context.getString(R.string.survey_sync_settings_key), true)) {\r\n            if (alarmUp) {\r\n                //alarm is up but not needed\r\n                Log.e(TAG, &quot;sync booking alarm is up but not needed, canceling..&quot;);\r\n                PendingIntent pendingIntent = PendingIntent.getBroadcast(context,\r\n                        23231, intent, PendingIntent.FLAG_CANCEL_CURRENT);\r\n                pendingIntent.cancel();\r\n                alarmManager.cancel(pendingIntent);\r\n            } else {\r\n                Log.e(TAG, &quot;sync booking alarm neither up nor needed...&quot;);\r\n            }\r\n            return;\r\n        }\r\n        setAlarm(intent, context, 23231, 5);\r\n        Log.e(TAG, &quot;sync booking alarm needed so setting...&quot;);\r\n    }\r\n\r\nI am getting the error on `boolean alarmUp = (PendingIntent.getBroadcast(context, 23231, intent, PendingIntent.FLAG_NO_CREATE) != null);`\r\n\r\nI have already migrated to `androidx`. But no result. \r\n\r\nAny help would be highly appreciated.","title":"Android Studio unable to run app on version 31 or above","body":"<p>I have developed an android app that is working perfectly alright on android versions less than <code>31</code>. For version 31 or greater I am getting the following error</p>\n<blockquote>\n<p>Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\nStrongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable,\ne.g. if it needs to be used with inline replies or bubbles.</p>\n</blockquote>\n<p><strong>Code</strong></p>\n<pre><code> public static void initSyncReceiver(Context context) {\n    Intent intent = new Intent(context, SyncReciver.class);\n    AlarmManager alarmManager = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\n    boolean alarmUp = (PendingIntent.getBroadcast(context, 23231, intent, PendingIntent.FLAG_NO_CREATE) != null);\n    if (!Common.SharedPreferenceHelper.getSharedPreference(context, context.getString(R.string.survey_sync_settings_key), true)) {\n        if (alarmUp) {\n            //alarm is up but not needed\n            Log.e(TAG, &quot;sync booking alarm is up but not needed, canceling..&quot;);\n            PendingIntent pendingIntent = PendingIntent.getBroadcast(context,\n                    23231, intent, PendingIntent.FLAG_CANCEL_CURRENT);\n            pendingIntent.cancel();\n            alarmManager.cancel(pendingIntent);\n        } else {\n            Log.e(TAG, &quot;sync booking alarm neither up nor needed...&quot;);\n        }\n        return;\n    }\n    setAlarm(intent, context, 23231, 5);\n    Log.e(TAG, &quot;sync booking alarm needed so setting...&quot;);\n}\n</code></pre>\n<p>I am getting the error on <code>boolean alarmUp = (PendingIntent.getBroadcast(context, 23231, intent, PendingIntent.FLAG_NO_CREATE) != null);</code></p>\n<p>I have already migrated to <code>androidx</code>. But no result.</p>\n<p>Any help would be highly appreciated.</p>\n"},{"tags":["java","oracle","multithreading","tomcat","spring-batch"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1594684973,"post_id":62884526,"comment_id":111206081,"body_markdown":"Have you checked for blocked sessions in the db?","body":"Have you checked for blocked sessions in the db?"},{"owner":{"account_id":6512208,"reputation":25,"user_id":5039062,"display_name":"MiniH"},"score":0,"creation_date":1594706491,"post_id":62884526,"comment_id":111210908,"body_markdown":"Nothing there, didn&#39;t even come to DB.","body":"Nothing there, didn&#39;t even come to DB."}],"answers":[{"tags":[],"owner":{"account_id":6512208,"reputation":25,"user_id":5039062,"display_name":"MiniH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665571414,"creation_date":1665571414,"answer_id":74040525,"question_id":62884526,"body_markdown":"Late answer, but still better than no answer. \r\n\r\nI changed scope of dependency to oracle jdbc from compile to provided and that solved the problem. ","title":"Thread in runnable state 900 seconds for no reason","body":"<p>Late answer, but still better than no answer.</p>\n<p>I changed scope of dependency to oracle jdbc from compile to provided and that solved the problem.</p>\n"}],"owner":{"account_id":6512208,"reputation":25,"user_id":5039062,"display_name":"MiniH"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74040525,"answer_count":1,"score":1,"last_activity_date":1665571414,"creation_date":1594675583,"question_id":62884526,"body_markdown":"I&#39;m issuing some problems with application deployed on tomcat. It is actually servlet based SOAP web service. \r\n\r\nTomcat is Apache Tomcat/7.0.47, deployed on Linux OS, with Oracle DB (org.apache.tomcat.jdbc.pool.DataSource  used). \r\n\r\nCatalina OPTS are: `CATALINA_OPTS=&quot;-server -Xms8G -Xmx20G -XX:PermSize=512m -XX:+UseG1GC -XX:MaxGCPauseMillis=200 -XX:ParallelGCThreads=20 -XX:ConcGCThreads=5 -XX:InitiatingHeapOccupancyPercent=70&quot;`\r\n\r\nIn web service spring batch is used and thread pool job launcher with following parameters: \r\n\r\n    TE_CORE_POOL_SIZE=20\r\n    TE_MAX_POOL_SIZE=40\r\n    TE_QUEUE_CAPACITY=200\r\n\r\nSpring batch version: 2.1.9.RELEASE\r\n\r\nSpring: 3.1.3.RELEASE\r\n\r\nOracle: 11.1.0.6.0-Production+\r\n\r\nTomcat in server xml has executor defined as: \r\n\r\n    &lt;Executor name=&quot;tomcatThreadPool&quot; namePrefix=&quot;catalina-exec-&quot; maxThreads=&quot;800&quot; \r\n    \t\t\t    acceptCount=&quot;140&quot; minSpareThreads=&quot;80&quot; maxSpareThreads=&quot;160&quot;/&gt;\r\n\r\n\r\n**Problem:**\r\n\r\nSometimes threads are just in runnable state **for 15 mins without reason**. For example, in WS I have spring job launch: \r\n[![enter image description here][1]][1]\r\n\r\n\r\nI get log line: \r\n\r\n&gt;2020-07-13 15:52:47.894/CEST DEBUG MdmWS - Time for process everything before launcher run 0h 0m 0s 15ms 188us 682ns\r\n\r\nNow job should be started, and job is defined as tasklet, but actually it wait exactly 15 minutes before it starts as shown in spring batch log: \r\n\r\n&gt; 2020-07-13 16:08:16.390/CEST INFO  SimpleJobLauncher - Job: [FlowJob:\r\n&gt; [name=wizard_du_generation_job]] launched with the following\r\n&gt; parameters ...\r\n\r\nand as shown below:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ko7aE.png\r\n  [2]: https://i.stack.imgur.com/KeDBH.png\r\n\r\n&gt; 2020-07-13 16:08:16.514/CEST DEBUG RegularCalculation - Getting DUs\r\n&gt; for calc session: 3058, 2/954//, , , 1593554400000 2020-07-13\r\n&gt; 16:23:45.316/CEST DEBUG RegularCalculation - DUs received for calc\r\n&gt; session: 3058\r\n\r\nAs you can see here in log times, it took 15 minutes to get to the tasklet, and then 15 minutes to get results from facade. \r\n\r\nI am really not sure what can be issue here, it is not like server or tomcat had any memory issues at this moment. It simple happens sometimes. Maybe in 1 of 10 times, sometimes even worse. I cant find any timeout parameter set to 900 (seconds - 15 mins) or similar, so I am really confused here. \r\n\r\nI got thread dump and got these, but still not sure what can be issue: \r\n\r\n\r\n    &quot;threadPoolTaskExecutor-3&quot; prio=10 tid=0x00007fe834001800 nid=0x3279 runnable [0x00007fe751eda000]\r\n           java.lang.Thread.State: RUNNABLE\r\n        \tat java.net.SocketInputStream.socketRead0(Native Method)\r\n        \tat java.net.SocketInputStream.read(SocketInputStream.java:152)\r\n        \tat java.net.SocketInputStream.read(SocketInputStream.java:122)\r\n        \tat oracle.net.ns.Packet.receive(Packet.java:239)\r\n        \tat oracle.net.ns.DataPacket.receive(DataPacket.java:92)\r\n        \tat oracle.net.ns.NetInputStream.getNextPacket(NetInputStream.java:172)\r\n        \tat oracle.net.ns.NetInputStream.read(NetInputStream.java:117)\r\n        \tat oracle.net.ns.NetInputStream.read(NetInputStream.java:92)\r\n        \tat oracle.net.ns.NetInputStream.read(NetInputStream.java:77)\r\n        \tat oracle.jdbc.driver.T4CMAREngine.unmarshalUB1(T4CMAREngine.java:1023)\r\n        \tat oracle.jdbc.driver.T4CMAREngine.unmarshalSB1(T4CMAREngine.java:999)\r\n        \tat oracle.jdbc.driver.T4C8Oall.receive(T4C8Oall.java:584)\r\n        \tat oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:183)\r\n        \tat oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:774)\r\n        \tat oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:849)\r\n        \tat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1186)\r\n        \tat oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1770)\r\n        \tat oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1739)\r\n        \t- locked &lt;0x00000002e383bfa8&gt; (a oracle.jdbc.driver.T4CConnection)\r\n        \tat oracle.jdbc.driver.OracleStatementWrapper.execute(OracleStatementWrapper.java:298)\r\n        \tat org.apache.tomcat.jdbc.pool.PooledConnection.validate(PooledConnection.java:455)\r\n        \tat org.apache.tomcat.jdbc.pool.PooledConnection.validate(PooledConnection.java:395)\r\n        \tat org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:777)\r\n        \tat org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:618)\r\n        \tat org.apache.tomcat.jdbc.pool.ConnectionPool.getConnection(ConnectionPool.java:188)\r\n        \tat org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:128)\r\n        \tat ...core.common.dao.BaseDao.getConnection(BaseDao.java:224)\r\n        \tat ...core.common.dao.BaseDao.query(BaseDao.java:72)\r\n        \tat ...core.rr.dao.PrimaryRegDao.getUsagePointResources(PrimaryRegDao.java:219)\r\n        \tat ...core.rr.dao.PrimaryRegDao$$FastClassByCGLIB$$28d69ecb.invoke(&lt;generated&gt;)\r\n        \tat net.sf.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n        \tat org.springframework.aop.framework.Cglib2AopProxy$CglibMethodInvocation.invokeJoinpoint(Cglib2AopProxy.java:689)\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n        \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:110)\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        \tat org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept(Cglib2AopProxy.java:622)\r\n        \tat ...core.rr.dao.PrimaryRegDao$$EnhancerByCGLIB$$5487459d.getUsagePointResources(&lt;generated&gt;)\r\n        \tat ...core.rr.PrimaryRegFacadeImpl.getUsagePointResources(PrimaryRegFacadeImpl.java:47)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n        \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:319)\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n        \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:110)\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\r\n        \tat com.sun.proxy.$Proxy96.getUsagePointResources(Unknown Source)\r\n        \tat ...core.rr.validation.PrimaryRegRefDataCacheImpl.init(PrimaryRegRefDataCacheImpl.java:335)\r\n        \tat ...core.rr.validation.PrimaryRegProcessor.init(PrimaryRegProcessor.java:166)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1581)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1522)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1452)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory$2.getObject(AbstractBeanFactory.java:332)\r\n        \tat org.springframework.batch.core.scope.StepScope.get(StepScope.java:150)\r\n        \t- locked &lt;0x000000031c6949a8&gt; (a java.lang.Object)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\r\n        \tat org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:33)\r\n        \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:182)\r\n        \tat com.sun.proxy.$Proxy19.process(Unknown Source)\r\n        \tat org.springframework.batch.core.step.item.SimpleChunkProcessor.doProcess(SimpleChunkProcessor.java:125)\r\n        \tat org.springframework.batch.core.step.item.SimpleChunkProcessor.transform(SimpleChunkProcessor.java:291)\r\n        \tat org.springframework.batch.core.step.item.SimpleChunkProcessor.process(SimpleChunkProcessor.java:190)\r\n        \tat org.springframework.batch.core.step.item.ChunkOrientedTasklet.execute(ChunkOrientedTasklet.java:74)\r\n        \tat org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:386)\r\n        \tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:130)\r\n        \tat org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:264)\r\n        \tat org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:76)\r\n        \tat org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:367)\r\n        \tat org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:214)\r\n        \tat org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:143)\r\n        \tat org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:250)\r\n        \tat org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:195)\r\n        \tat org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:135)\r\n        \tat org.springframework.batch.core.job.flow.JobFlowExecutor.executeStep(JobFlowExecutor.java:61)\r\n        \tat org.springframework.batch.core.job.flow.support.state.StepState.handle(StepState.java:60)\r\n        \tat org.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:144)\r\n        \tat org.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:124)\r\n        \tat org.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:135)\r\n        \tat org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:293)\r\n        \tat org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:120)\r\n        \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n        \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n        \tat java.lang.Thread.run(Thread.java:745)\r\n\r\nSo as this one:\r\n\r\n    &quot;catalina-exec-38&quot; daemon prio=10 tid=0x00000000023ca800 nid=0x3291 runnable [0x00007fe751ad7000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \tat java.net.SocketInputStream.socketRead0(Native Method)\r\n    \tat java.net.SocketInputStream.read(SocketInputStream.java:152)\r\n    \tat java.net.SocketInputStream.read(SocketInputStream.java:122)\r\n    \tat oracle.net.ns.Packet.receive(Packet.java:239)\r\n    \tat oracle.net.ns.DataPacket.receive(DataPacket.java:92)\r\n    \tat oracle.net.ns.NetInputStream.getNextPacket(NetInputStream.java:172)\r\n    \tat oracle.net.ns.NetInputStream.read(NetInputStream.java:117)\r\n    \tat oracle.net.ns.NetInputStream.read(NetInputStream.java:92)\r\n    \tat oracle.net.ns.NetInputStream.read(NetInputStream.java:77)\r\n    \tat oracle.jdbc.driver.T4CMAREngine.unmarshalUB1(T4CMAREngine.java:1023)\r\n    \tat oracle.jdbc.driver.T4CMAREngine.unmarshalSB1(T4CMAREngine.java:999)\r\n    \tat oracle.jdbc.driver.T4C8Oall.receive(T4C8Oall.java:584)\r\n    \tat oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:183)\r\n    \tat oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:774)\r\n    \tat oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:849)\r\n    \tat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1186)\r\n    \tat oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1770)\r\n    \tat oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1739)\r\n    \t- locked &lt;0x00000002e40f0978&gt; (a oracle.jdbc.driver.T4CConnection)\r\n    \tat oracle.jdbc.driver.OracleStatementWrapper.execute(OracleStatementWrapper.java:298)\r\n    \tat org.apache.tomcat.jdbc.pool.PooledConnection.validate(PooledConnection.java:455)\r\n    \tat org.apache.tomcat.jdbc.pool.PooledConnection.validate(PooledConnection.java:395)\r\n    \tat org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:777)\r\n    \tat org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:618)\r\n    \tat org.apache.tomcat.jdbc.pool.ConnectionPool.getConnection(ConnectionPool.java:188)\r\n    \tat org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:128)\r\n    \tat org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:202)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:371)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:334)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:105)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\r\n    \tat com.sun.proxy.$Proxy29.getLastJobExecution(Unknown Source)\r\n    \tat org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:94)\r\n    \tat ...ws.MainProcessingWebService.executeJob(MainProcessingWebService.java:103)\r\n    \tat sun.reflect.GeneratedMethodAccessor166.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    \tat com.sun.xml.ws.api.server.InstanceResolver$1.invoke(InstanceResolver.java:250)\r\n    \tat com.sun.xml.ws.server.InvokerTube$2.invoke(InvokerTube.java:149)\r\n    \tat com.sun.xml.ws.server.sei.SEIInvokerTube.processRequest(SEIInvokerTube.java:88)\r\n    \tat com.sun.xml.ws.api.pipe.Fiber.__doRun(Fiber.java:1136)\r\n    \tat com.sun.xml.ws.api.pipe.Fiber._doRun(Fiber.java:1050)\r\n    \tat com.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:1019)\r\n    \tat com.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:877)\r\n    \tat com.sun.xml.ws.server.WSEndpointImpl$2.process(WSEndpointImpl.java:420)\r\n    \tat com.sun.xml.ws.transport.http.HttpAdapter$HttpToolkit.handle(HttpAdapter.java:687)\r\n    \tat com.sun.xml.ws.transport.http.HttpAdapter.handle(HttpAdapter.java:266)\r\n    \tat com.sun.xml.ws.transport.http.servlet.ServletAdapter.invokeAsync(ServletAdapter.java:225)\r\n    \tat com.sun.xml.ws.transport.http.servlet.WSServletDelegate.doGet(WSServletDelegate.java:161)\r\n    \tat com.sun.xml.ws.transport.http.servlet.WSServletDelegate.doPost(WSServletDelegate.java:197)\r\n    \tat com.sun.xml.ws.transport.http.servlet.WSSpringServlet.doPost(WSSpringServlet.java:52)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:647)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\r\n    \tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)\r\n    \t- locked &lt;0x00000002ea47d4a0&gt; (a org.apache.tomcat.util.net.SocketWrapper)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    \r\n    It is strange problem, so I am not sure if description is enough, but any help is welcome.\r\n\r\n\r\n","title":"Thread in runnable state 900 seconds for no reason","body":"<p>I'm issuing some problems with application deployed on tomcat. It is actually servlet based SOAP web service.</p>\n<p>Tomcat is Apache Tomcat/7.0.47, deployed on Linux OS, with Oracle DB (org.apache.tomcat.jdbc.pool.DataSource  used).</p>\n<p>Catalina OPTS are: <code>CATALINA_OPTS=&quot;-server -Xms8G -Xmx20G -XX:PermSize=512m -XX:+UseG1GC -XX:MaxGCPauseMillis=200 -XX:ParallelGCThreads=20 -XX:ConcGCThreads=5 -XX:InitiatingHeapOccupancyPercent=70&quot;</code></p>\n<p>In web service spring batch is used and thread pool job launcher with following parameters:</p>\n<pre><code>TE_CORE_POOL_SIZE=20\nTE_MAX_POOL_SIZE=40\nTE_QUEUE_CAPACITY=200\n</code></pre>\n<p>Spring batch version: 2.1.9.RELEASE</p>\n<p>Spring: 3.1.3.RELEASE</p>\n<p>Oracle: 11.1.0.6.0-Production+</p>\n<p>Tomcat in server xml has executor defined as:</p>\n<pre><code>&lt;Executor name=&quot;tomcatThreadPool&quot; namePrefix=&quot;catalina-exec-&quot; maxThreads=&quot;800&quot; \n                acceptCount=&quot;140&quot; minSpareThreads=&quot;80&quot; maxSpareThreads=&quot;160&quot;/&gt;\n</code></pre>\n<p><strong>Problem:</strong></p>\n<p>Sometimes threads are just in runnable state <strong>for 15 mins without reason</strong>. For example, in WS I have spring job launch:\n<a href=\"https://i.stack.imgur.com/Ko7aE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ko7aE.png\" alt=\"enter image description here\" /></a></p>\n<p>I get log line:</p>\n<blockquote>\n<p>2020-07-13 15:52:47.894/CEST DEBUG MdmWS - Time for process everything before launcher run 0h 0m 0s 15ms 188us 682ns</p>\n</blockquote>\n<p>Now job should be started, and job is defined as tasklet, but actually it wait exactly 15 minutes before it starts as shown in spring batch log:</p>\n<blockquote>\n<p>2020-07-13 16:08:16.390/CEST INFO  SimpleJobLauncher - Job: [FlowJob:\n[name=wizard_du_generation_job]] launched with the following\nparameters ...</p>\n</blockquote>\n<p>and as shown below:\n<a href=\"https://i.stack.imgur.com/KeDBH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KeDBH.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>2020-07-13 16:08:16.514/CEST DEBUG RegularCalculation - Getting DUs\nfor calc session: 3058, 2/954//, , , 1593554400000 2020-07-13\n16:23:45.316/CEST DEBUG RegularCalculation - DUs received for calc\nsession: 3058</p>\n</blockquote>\n<p>As you can see here in log times, it took 15 minutes to get to the tasklet, and then 15 minutes to get results from facade.</p>\n<p>I am really not sure what can be issue here, it is not like server or tomcat had any memory issues at this moment. It simple happens sometimes. Maybe in 1 of 10 times, sometimes even worse. I cant find any timeout parameter set to 900 (seconds - 15 mins) or similar, so I am really confused here.</p>\n<p>I got thread dump and got these, but still not sure what can be issue:</p>\n<pre><code>&quot;threadPoolTaskExecutor-3&quot; prio=10 tid=0x00007fe834001800 nid=0x3279 runnable [0x00007fe751eda000]\n       java.lang.Thread.State: RUNNABLE\n        at java.net.SocketInputStream.socketRead0(Native Method)\n        at java.net.SocketInputStream.read(SocketInputStream.java:152)\n        at java.net.SocketInputStream.read(SocketInputStream.java:122)\n        at oracle.net.ns.Packet.receive(Packet.java:239)\n        at oracle.net.ns.DataPacket.receive(DataPacket.java:92)\n        at oracle.net.ns.NetInputStream.getNextPacket(NetInputStream.java:172)\n        at oracle.net.ns.NetInputStream.read(NetInputStream.java:117)\n        at oracle.net.ns.NetInputStream.read(NetInputStream.java:92)\n        at oracle.net.ns.NetInputStream.read(NetInputStream.java:77)\n        at oracle.jdbc.driver.T4CMAREngine.unmarshalUB1(T4CMAREngine.java:1023)\n        at oracle.jdbc.driver.T4CMAREngine.unmarshalSB1(T4CMAREngine.java:999)\n        at oracle.jdbc.driver.T4C8Oall.receive(T4C8Oall.java:584)\n        at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:183)\n        at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:774)\n        at oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:849)\n        at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1186)\n        at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1770)\n        at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1739)\n        - locked &lt;0x00000002e383bfa8&gt; (a oracle.jdbc.driver.T4CConnection)\n        at oracle.jdbc.driver.OracleStatementWrapper.execute(OracleStatementWrapper.java:298)\n        at org.apache.tomcat.jdbc.pool.PooledConnection.validate(PooledConnection.java:455)\n        at org.apache.tomcat.jdbc.pool.PooledConnection.validate(PooledConnection.java:395)\n        at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:777)\n        at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:618)\n        at org.apache.tomcat.jdbc.pool.ConnectionPool.getConnection(ConnectionPool.java:188)\n        at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:128)\n        at ...core.common.dao.BaseDao.getConnection(BaseDao.java:224)\n        at ...core.common.dao.BaseDao.query(BaseDao.java:72)\n        at ...core.rr.dao.PrimaryRegDao.getUsagePointResources(PrimaryRegDao.java:219)\n        at ...core.rr.dao.PrimaryRegDao$$FastClassByCGLIB$$28d69ecb.invoke(&lt;generated&gt;)\n        at net.sf.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n        at org.springframework.aop.framework.Cglib2AopProxy$CglibMethodInvocation.invokeJoinpoint(Cglib2AopProxy.java:689)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:110)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n        at org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept(Cglib2AopProxy.java:622)\n        at ...core.rr.dao.PrimaryRegDao$$EnhancerByCGLIB$$5487459d.getUsagePointResources(&lt;generated&gt;)\n        at ...core.rr.PrimaryRegFacadeImpl.getUsagePointResources(PrimaryRegFacadeImpl.java:47)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:319)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:110)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\n        at com.sun.proxy.$Proxy96.getUsagePointResources(Unknown Source)\n        at ...core.rr.validation.PrimaryRegRefDataCacheImpl.init(PrimaryRegRefDataCacheImpl.java:335)\n        at ...core.rr.validation.PrimaryRegProcessor.init(PrimaryRegProcessor.java:166)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1581)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1522)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1452)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n        at org.springframework.beans.factory.support.AbstractBeanFactory$2.getObject(AbstractBeanFactory.java:332)\n        at org.springframework.batch.core.scope.StepScope.get(StepScope.java:150)\n        - locked &lt;0x000000031c6949a8&gt; (a java.lang.Object)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\n        at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:33)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:182)\n        at com.sun.proxy.$Proxy19.process(Unknown Source)\n        at org.springframework.batch.core.step.item.SimpleChunkProcessor.doProcess(SimpleChunkProcessor.java:125)\n        at org.springframework.batch.core.step.item.SimpleChunkProcessor.transform(SimpleChunkProcessor.java:291)\n        at org.springframework.batch.core.step.item.SimpleChunkProcessor.process(SimpleChunkProcessor.java:190)\n        at org.springframework.batch.core.step.item.ChunkOrientedTasklet.execute(ChunkOrientedTasklet.java:74)\n        at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:386)\n        at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:130)\n        at org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:264)\n        at org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:76)\n        at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:367)\n        at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:214)\n        at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:143)\n        at org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:250)\n        at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:195)\n        at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:135)\n        at org.springframework.batch.core.job.flow.JobFlowExecutor.executeStep(JobFlowExecutor.java:61)\n        at org.springframework.batch.core.job.flow.support.state.StepState.handle(StepState.java:60)\n        at org.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:144)\n        at org.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:124)\n        at org.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:135)\n        at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:293)\n        at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:120)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n        at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n<p>So as this one:</p>\n<pre><code>&quot;catalina-exec-38&quot; daemon prio=10 tid=0x00000000023ca800 nid=0x3291 runnable [0x00007fe751ad7000]\n   java.lang.Thread.State: RUNNABLE\n    at java.net.SocketInputStream.socketRead0(Native Method)\n    at java.net.SocketInputStream.read(SocketInputStream.java:152)\n    at java.net.SocketInputStream.read(SocketInputStream.java:122)\n    at oracle.net.ns.Packet.receive(Packet.java:239)\n    at oracle.net.ns.DataPacket.receive(DataPacket.java:92)\n    at oracle.net.ns.NetInputStream.getNextPacket(NetInputStream.java:172)\n    at oracle.net.ns.NetInputStream.read(NetInputStream.java:117)\n    at oracle.net.ns.NetInputStream.read(NetInputStream.java:92)\n    at oracle.net.ns.NetInputStream.read(NetInputStream.java:77)\n    at oracle.jdbc.driver.T4CMAREngine.unmarshalUB1(T4CMAREngine.java:1023)\n    at oracle.jdbc.driver.T4CMAREngine.unmarshalSB1(T4CMAREngine.java:999)\n    at oracle.jdbc.driver.T4C8Oall.receive(T4C8Oall.java:584)\n    at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:183)\n    at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:774)\n    at oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:849)\n    at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1186)\n    at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1770)\n    at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1739)\n    - locked &lt;0x00000002e40f0978&gt; (a oracle.jdbc.driver.T4CConnection)\n    at oracle.jdbc.driver.OracleStatementWrapper.execute(OracleStatementWrapper.java:298)\n    at org.apache.tomcat.jdbc.pool.PooledConnection.validate(PooledConnection.java:455)\n    at org.apache.tomcat.jdbc.pool.PooledConnection.validate(PooledConnection.java:395)\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:777)\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:618)\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.getConnection(ConnectionPool.java:188)\n    at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:128)\n    at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:202)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:371)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:334)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:105)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\n    at com.sun.proxy.$Proxy29.getLastJobExecution(Unknown Source)\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:94)\n    at ...ws.MainProcessingWebService.executeJob(MainProcessingWebService.java:103)\n    at sun.reflect.GeneratedMethodAccessor166.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at com.sun.xml.ws.api.server.InstanceResolver$1.invoke(InstanceResolver.java:250)\n    at com.sun.xml.ws.server.InvokerTube$2.invoke(InvokerTube.java:149)\n    at com.sun.xml.ws.server.sei.SEIInvokerTube.processRequest(SEIInvokerTube.java:88)\n    at com.sun.xml.ws.api.pipe.Fiber.__doRun(Fiber.java:1136)\n    at com.sun.xml.ws.api.pipe.Fiber._doRun(Fiber.java:1050)\n    at com.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:1019)\n    at com.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:877)\n    at com.sun.xml.ws.server.WSEndpointImpl$2.process(WSEndpointImpl.java:420)\n    at com.sun.xml.ws.transport.http.HttpAdapter$HttpToolkit.handle(HttpAdapter.java:687)\n    at com.sun.xml.ws.transport.http.HttpAdapter.handle(HttpAdapter.java:266)\n    at com.sun.xml.ws.transport.http.servlet.ServletAdapter.invokeAsync(ServletAdapter.java:225)\n    at com.sun.xml.ws.transport.http.servlet.WSServletDelegate.doGet(WSServletDelegate.java:161)\n    at com.sun.xml.ws.transport.http.servlet.WSServletDelegate.doPost(WSServletDelegate.java:197)\n    at com.sun.xml.ws.transport.http.servlet.WSSpringServlet.doPost(WSSpringServlet.java:52)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)\n    - locked &lt;0x00000002ea47d4a0&gt; (a org.apache.tomcat.util.net.SocketWrapper)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:745)\n\nIt is strange problem, so I am not sure if description is enough, but any help is welcome.\n</code></pre>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1665568393,"post_id":74039798,"comment_id":130729380,"body_markdown":"How does your test look like, where the connection is happening? Are you sure, that the test configuration is correct and the test can find the database? What error exactly are you getting (which exception)?","body":"How does your test look like, where the connection is happening? Are you sure, that the test configuration is correct and the test can find the database? What error exactly are you getting (which exception)?"},{"owner":{"account_id":11747902,"reputation":644,"user_id":8598112,"display_name":"Hamza Ince"},"score":0,"creation_date":1665568958,"post_id":74039798,"comment_id":130729593,"body_markdown":"You are mistaken, it&#39;s a test I wrote but a generated test, I agree that I should clarify my question.","body":"You are mistaken, it&#39;s a test I wrote but a generated test, I agree that I should clarify my question."},{"owner":{"account_id":9255220,"reputation":2956,"user_id":6874359,"display_name":"peterulb"},"score":0,"creation_date":1665569323,"post_id":74039798,"comment_id":130729713,"body_markdown":"Well, is your datasource url pointing to a database that is up and running?","body":"Well, is your datasource url pointing to a database that is up and running?"},{"owner":{"account_id":11747902,"reputation":644,"user_id":8598112,"display_name":"Hamza Ince"},"score":0,"creation_date":1665569547,"post_id":74039798,"comment_id":130729792,"body_markdown":"No, and that&#39;s the thing, I can&#39;t package my app expecting a database to be up and running, and more importantly, have access to it. For example, if I try to create a Docker image of this app, I can&#39;t expect to be connected to database, before I deploy the app. And what about CI/CD, I will not connect to my database, in a pipeline with job for unit test.","body":"No, and that&#39;s the thing, I can&#39;t package my app expecting a database to be up and running, and more importantly, have access to it. For example, if I try to create a Docker image of this app, I can&#39;t expect to be connected to database, before I deploy the app. And what about CI/CD, I will not connect to my database, in a pipeline with job for unit test."}],"answers":[{"tags":[],"owner":{"account_id":9255220,"reputation":2956,"user_id":6874359,"display_name":"peterulb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665571092,"creation_date":1665571092,"answer_id":74040446,"question_id":74039798,"body_markdown":"There are multiple solutions possible: \r\n\r\n - Configure a dedicated test environment and use that url in your test profile configuration\r\n\r\n- Use an in-memory database\r\n\r\n- Use a framework like testcontainers to spin up your postgres test-database and pass the url to your application \r\n\r\nHere&#39;s an example for the last one, use it in the appropriate beforeAll callback of the testing framework.\r\n\r\n```java\r\nenvironment = new DockerComposeContainer&lt;&gt;(new File(&quot;path/to/docker-compose.yml&quot;))\r\n  .withLocalCompose(true)\r\n  .withExposedService(&quot;postgres_1&quot;, 5432);\r\n\r\nenvironment.start();\r\n\r\n//build url with\r\n//environment.getServiceHost(&quot;postgres_1&quot;, 5432)\r\n//environment.getServicePort(&quot;postgres_1&quot;, 5432)\r\n//pass as datasource via System.setProperty(&quot;spring.datasource.url&quot; url)\r\n```\r\n\r\nor without docker-compose\r\n\r\n```\r\n    public static PostgreSQLContainer postgreSQLContainer = new PostgreSQLContainer(&quot;postgres:11.1&quot;)\r\n      .withDatabaseName(&quot;integration-tests-db&quot;)\r\n      .withUsername(&quot;sa&quot;)\r\n      .withPassword(&quot;sa&quot;);\r\n\r\n// use getters to get host, username, password etc\r\n```\r\n\r\nThis of course means whatever is executing your test in your test pipeline must be able to run docker containers.  \r\nOtherwise you&#39;d have to go with in-memory db instead of postgres.","title":"How to have a database connection without failing unit tests with Spring Boot?","body":"<p>There are multiple solutions possible:</p>\n<ul>\n<li><p>Configure a dedicated test environment and use that url in your test profile configuration</p>\n</li>\n<li><p>Use an in-memory database</p>\n</li>\n<li><p>Use a framework like testcontainers to spin up your postgres test-database and pass the url to your application</p>\n</li>\n</ul>\n<p>Here's an example for the last one, use it in the appropriate beforeAll callback of the testing framework.</p>\n<pre class=\"lang-java prettyprint-override\"><code>environment = new DockerComposeContainer&lt;&gt;(new File(&quot;path/to/docker-compose.yml&quot;))\n  .withLocalCompose(true)\n  .withExposedService(&quot;postgres_1&quot;, 5432);\n\nenvironment.start();\n\n//build url with\n//environment.getServiceHost(&quot;postgres_1&quot;, 5432)\n//environment.getServicePort(&quot;postgres_1&quot;, 5432)\n//pass as datasource via System.setProperty(&quot;spring.datasource.url&quot; url)\n</code></pre>\n<p>or without docker-compose</p>\n<pre><code>    public static PostgreSQLContainer postgreSQLContainer = new PostgreSQLContainer(&quot;postgres:11.1&quot;)\n      .withDatabaseName(&quot;integration-tests-db&quot;)\n      .withUsername(&quot;sa&quot;)\n      .withPassword(&quot;sa&quot;);\n\n// use getters to get host, username, password etc\n</code></pre>\n<p>This of course means whatever is executing your test in your test pipeline must be able to run docker containers.<br />\nOtherwise you'd have to go with in-memory db instead of postgres.</p>\n"}],"owner":{"account_id":11747902,"reputation":644,"user_id":8598112,"display_name":"Hamza Ince"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":757,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74040446,"answer_count":1,"score":-1,"last_activity_date":1665571092,"creation_date":1665568013,"question_id":74039798,"body_markdown":"I have a simple Spring boot project that can connect to a PostgreSQL Database.\r\n\r\nWhen I install the dependencies with `mvn clean install`, I get:\r\n&gt; org.postgresql.util.PSQLException: The connection attempt failed during Maven install\r\n\r\nA &quot;solution&quot; I found was using `-DskipTests`, but that doesn&#39;t solve the issue, it only postpones it.&lt;br&gt;\r\nBecause when I do `mvn test`, I will get the same error.&lt;br&gt;&lt;br&gt;\r\n### How can we have a database connection that will not crash tests?\r\n\r\n___\r\nThe dependencies are this:\r\n\r\n```\r\n  &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n...\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\n# PS:\r\n\r\nThe test is the automatically generated one, I think loading the context is what gives the error.\r\n\r\n```\r\npackage com.hamza.ince.bonptitcoinapi;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\n@SpringBootTest\r\nclass BonPtitCoinApiApplicationTests {\r\n\r\n    @Test\r\n    void contextLoads() {\r\n    }\r\n}\r\n```\r\n\r\n- application.properties:\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://postgresql-api:5432/annonce_db?user=annonce_username&amp;password=annonce_password\r\nspring.datasource.username= postgres\r\nspring.datasource.password= password\r\n\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.jpa.properties.hibernate.show_sql=true\r\n\r\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.PostgreSQLDialect\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\n```","title":"How to have a database connection without failing unit tests with Spring Boot?","body":"<p>I have a simple Spring boot project that can connect to a PostgreSQL Database.</p>\n<p>When I install the dependencies with <code>mvn clean install</code>, I get:</p>\n<blockquote>\n<p>org.postgresql.util.PSQLException: The connection attempt failed during Maven install</p>\n</blockquote>\n<p>A &quot;solution&quot; I found was using <code>-DskipTests</code>, but that doesn't solve the issue, it only postpones it.<br>\nBecause when I do <code>mvn test</code>, I will get the same error.<br><br></p>\n<h3>How can we have a database connection that will not crash tests?</h3>\n<hr />\n<p>The dependencies are this:</p>\n<pre><code>  &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n...\n    &lt;/dependencies&gt;\n</code></pre>\n<h1>PS:</h1>\n<p>The test is the automatically generated one, I think loading the context is what gives the error.</p>\n<pre><code>package com.hamza.ince.bonptitcoinapi;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\nclass BonPtitCoinApiApplicationTests {\n\n    @Test\n    void contextLoads() {\n    }\n}\n</code></pre>\n<ul>\n<li>application.properties:</li>\n</ul>\n<pre><code>spring.datasource.url=jdbc:postgresql://postgresql-api:5432/annonce_db?user=annonce_username&amp;password=annonce_password\nspring.datasource.username= postgres\nspring.datasource.password= password\n\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.show_sql=true\n\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.PostgreSQLDialect\nspring.datasource.driver-class-name=org.postgresql.Driver\n</code></pre>\n"},{"tags":["java","android","drawable"],"comments":[{"owner":{"account_id":395849,"reputation":46365,"user_id":759019,"accept_rate":98,"display_name":"Anirudh Ramanathan"},"score":1,"creation_date":1340481927,"post_id":11172582,"comment_id":14656841,"body_markdown":"Does it show up as a &quot;could not be resolved error?&quot; What error do you see?","body":"Does it show up as a &quot;could not be resolved error?&quot; What error do you see?"},{"owner":{"account_id":1238981,"reputation":132436,"user_id":1202025,"accept_rate":80,"display_name":" K"},"score":1,"creation_date":1340481986,"post_id":11172582,"comment_id":14656852,"body_markdown":"you have try after cleaning project from Project-&gt;Clean.. option on Eclipse IDE","body":"you have try after cleaning project from Project-&gt;Clean.. option on Eclipse IDE"},{"owner":{"account_id":1059184,"reputation":1891,"user_id":1061177,"accept_rate":86,"display_name":"Fasih Awan"},"score":0,"creation_date":1340482558,"post_id":11172582,"comment_id":14656950,"body_markdown":"Tried Clean, didn&#39;t help. The error I get is &quot;player cannot be resolved or is not a field&quot;. tried renaming too. didn&#39;t work","body":"Tried Clean, didn&#39;t help. The error I get is &quot;player cannot be resolved or is not a field&quot;. tried renaming too. didn&#39;t work"}],"answers":[{"tags":[],"owner":{"account_id":406618,"reputation":40008,"user_id":776244,"accept_rate":89,"display_name":"Samir Mangroliya"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1340482432,"creation_date":1340482432,"answer_id":11172647,"question_id":11172582,"body_markdown":"Are you sure You import `import com.yourcompanyname.product.R` ?\r\n\r\n**instead of** \r\n\r\n`import android.R;`","title":"R.drawable cannot resolve image","body":"<p>Are you sure You import <code>import com.yourcompanyname.product.R</code> ?</p>\n\n<p><strong>instead of</strong> </p>\n\n<p><code>import android.R;</code></p>\n"},{"tags":[],"owner":{"account_id":1703486,"reputation":3349,"user_id":1563038,"display_name":"Naveen Tamrakar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1377878689,"creation_date":1376304484,"answer_id":18185073,"question_id":11172582,"body_markdown":"`import com.yourcompanyname.product.R` differs from `import android.R`\r\n\r\n\r\nFirst is your project R file, that is generated by SDK.\r\n\r\n`import android.R` is built-in R file, that is provided by Android.","title":"R.drawable cannot resolve image","body":"<p><code>import com.yourcompanyname.product.R</code> differs from <code>import android.R</code></p>\n\n<p>First is your project R file, that is generated by SDK.</p>\n\n<p><code>import android.R</code> is built-in R file, that is provided by Android.</p>\n"},{"tags":[],"owner":{"account_id":2017075,"reputation":2307,"user_id":1804131,"accept_rate":0,"display_name":"Udit Kapahi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376305677,"creation_date":1376305677,"answer_id":18185440,"question_id":11172582,"body_markdown":"Make sure your image is png.\r\nAlso check that you have saved the layout where you have to inflate the image.","title":"R.drawable cannot resolve image","body":"<p>Make sure your image is png.\nAlso check that you have saved the layout where you have to inflate the image.</p>\n"},{"tags":[],"owner":{"account_id":6868647,"reputation":22249,"user_id":5279996,"display_name":"Braian Coronel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617478258,"creation_date":1617478258,"answer_id":66935135,"question_id":11172582,"body_markdown":"Check the package of the `AndroidManifest.xml` file of your module and make sure that it has been defined correctly.\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;app.mobius.featureWelcome&quot;&gt;\r\n    &lt;/manifest&gt;\r\n\r\n\r\nFinally use the package as an import in the class:\r\n\r\n    import app.mobius.featureWelcome.R","title":"R.drawable cannot resolve image","body":"<p>Check the package of the <code>AndroidManifest.xml</code> file of your module and make sure that it has been defined correctly.</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;app.mobius.featureWelcome&quot;&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>Finally use the package as an import in the class:</p>\n<pre><code>import app.mobius.featureWelcome.R\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15283123,"reputation":9,"user_id":11026852,"display_name":"Cashpi App"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665571067,"creation_date":1665571067,"answer_id":74040441,"question_id":11172582,"body_markdown":"Sure you import import android.R; delete this line and import again.\r\n\r\n    import android.R;\r\n\r\n","title":"R.drawable cannot resolve image","body":"<p>Sure you import import android.R; delete this line and import again.</p>\n<pre><code>import android.R;\n</code></pre>\n"}],"owner":{"account_id":1059184,"reputation":1891,"user_id":1061177,"accept_rate":86,"display_name":"Fasih Awan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22653,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":11172647,"answer_count":5,"score":8,"last_activity_date":1665571067,"creation_date":1340481868,"question_id":11172582,"body_markdown":"I have checked a lot of questions on stackoverflow and I seem to have all the correct things but my R.drawable wont detect my image. It is in /res/drawable and in all the other folders (mdpi, hdpi etc.) \r\n\r\n    ShipImage = context.getResources().getDrawable(R.drawable.player);\r\nAnd here is my R.java\r\n\r\n        public static final class drawable {\r\n            public static final int background=0x7f020000;\r\n            public static final int buttons=0x7f020001;\r\n            public static final int dead=0x7f020002;\r\n            public static final int enemy=0x7f020003;\r\n            public static final int ic_launcher=0x7f020004;\r\n            public static final int play_btn=0x7f020005;\r\n            public static final int player=0x7f020006;\r\n        }","title":"R.drawable cannot resolve image","body":"<p>I have checked a lot of questions on stackoverflow and I seem to have all the correct things but my R.drawable wont detect my image. It is in /res/drawable and in all the other folders (mdpi, hdpi etc.) </p>\n\n<pre><code>ShipImage = context.getResources().getDrawable(R.drawable.player);\n</code></pre>\n\n<p>And here is my R.java</p>\n\n<pre><code>    public static final class drawable {\n        public static final int background=0x7f020000;\n        public static final int buttons=0x7f020001;\n        public static final int dead=0x7f020002;\n        public static final int enemy=0x7f020003;\n        public static final int ic_launcher=0x7f020004;\n        public static final int play_btn=0x7f020005;\n        public static final int player=0x7f020006;\n    }\n</code></pre>\n"},{"tags":["java","kubernetes","apache-camel","quarkus"],"comments":[{"owner":{"account_id":3932765,"reputation":141,"user_id":3250543,"display_name":"Jakudaba"},"score":0,"creation_date":1660724951,"post_id":72435581,"comment_id":129597711,"body_markdown":"I have exactely the same issue. Sometimes it works and sometimes not. But mostly it doesn&#39;t build in Openshift and ends up with the same exception you are facing. Did you find a solution?","body":"I have exactely the same issue. Sometimes it works and sometimes not. But mostly it doesn&#39;t build in Openshift and ends up with the same exception you are facing. Did you find a solution?"},{"owner":{"account_id":2090586,"reputation":4006,"user_id":1860517,"accept_rate":85,"display_name":"mangusbrother"},"score":1,"creation_date":1660760551,"post_id":72435581,"comment_id":129611287,"body_markdown":"We changed our infrastructure a bit, but weirdly enough the fix for this was to use mvn clean install instead of mvn clean verify package (I know. Doesn&#39;t make sense)","body":"We changed our infrastructure a bit, but weirdly enough the fix for this was to use mvn clean install instead of mvn clean verify package (I know. Doesn&#39;t make sense)"},{"owner":{"account_id":3932765,"reputation":141,"user_id":3250543,"display_name":"Jakudaba"},"score":0,"creation_date":1660892517,"post_id":72435581,"comment_id":129645254,"body_markdown":"I did the same, without the package, it worked. Thank you for your feedback.","body":"I did the same, without the package, it worked. Thank you for your feedback."}],"answers":[{"tags":[],"owner":{"account_id":2090586,"reputation":4006,"user_id":1860517,"accept_rate":85,"display_name":"mangusbrother"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665570879,"creation_date":1665570879,"answer_id":74040412,"question_id":72435581,"body_markdown":"Weirdly, the solution for us was to use `mvn clean install` rather than `mvn clean verify package`\r\n\r\nTheoretically, shouldn&#39;t make the difference but it did.","title":"Quarkus Camel build failing on kubernetes","body":"<p>Weirdly, the solution for us was to use <code>mvn clean install</code> rather than <code>mvn clean verify package</code></p>\n<p>Theoretically, shouldn't make the difference but it did.</p>\n"}],"owner":{"account_id":2090586,"reputation":4006,"user_id":1860517,"accept_rate":85,"display_name":"mangusbrother"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74040412,"answer_count":1,"score":2,"last_activity_date":1665570879,"creation_date":1653919173,"question_id":72435581,"body_markdown":"I have a project using quarkus, camel which builds fine locally however when i try to build it on my CI environment (either through my jenkins environment or on bitbucket) I get a weird failure. I can&#39;t really track the source however and am quite stumped as to what can be causing this.  My kubernetes storage does not have any readonly flags enabled.\r\nThis fails only in kubernetes not even inside just a docker container started locally\r\n```\r\n\r\n[INFO] Building jar: /home/jenkins/agent/workspace/Build Jobs/Build Gateway Service Starter/target/gateway-service-starter-1.5.1.jar\r\n[INFO] \r\n[INFO] --- quarkus-maven-plugin:2.9.0.CR1:build (default) @ gateway-service-starter ---\r\n[INFO] No Git Properties File Url Defined. Attempting with default: git.properties\r\n[ERROR] Unable to load default git properties file git.properties\r\n[INFO] [io.quarkus.deployment.QuarkusAugmentor] Quarkus augmentation completed in 10087ms\r\n[INFO] \r\n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ gateway-service-starter ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] Copying 2 resources\r\n[INFO] \r\n[INFO] --- quarkus-maven-plugin:2.9.0.CR1:generate-code (default) @ gateway-service-starter ---\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.10.1:compile (default-compile) @ gateway-service-starter ---\r\n[INFO] Changes detected - recompiling the module!\r\n[INFO] Compiling 54 source files to /home/jenkins/agent/workspace/Build Jobs/Build Gateway Service Starter/target/classes\r\n[INFO] \r\n[INFO] --- quarkus-maven-plugin:2.9.0.CR1:generate-code-tests (default) @ gateway-service-starter ---\r\n[INFO] \r\n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ gateway-service-starter ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] Copying 2 resources\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.10.1:testCompile (default-testCompile) @ gateway-service-starter ---\r\n[INFO] Changes detected - recompiling the module!\r\n[INFO] Compiling 22 source files to /home/jenkins/agent/workspace/Build Jobs/Build Gateway Service Starter/target/test-classes\r\n[INFO] \r\n[INFO] --- maven-surefire-plugin:3.0.0-M6:test (default-test) @ gateway-service-starter ---\r\n[INFO] Skipping execution of surefire because it has already been run for this configuration\r\n[INFO] \r\n[INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ gateway-service-starter ---\r\n[INFO] Building jar: /home/jenkins/agent/workspace/Build Jobs/Build Gateway Service Starter/target/gateway-service-starter-1.5.1.jar\r\n[INFO] \r\n[INFO] --- quarkus-maven-plugin:2.9.0.CR1:build (default) @ gateway-service-starter ---\r\n[INFO] No Git Properties File Url Defined. Attempting with default: git.properties\r\n[ERROR] Unable to load default git properties file git.properties\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  02:14 min\r\n[INFO] Finished at: 2022-05-30T13:34:00Z\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal io.quarkus.platform:quarkus-maven-plugin:2.9.0.CR1:build (default) on project gateway-service-starter: Failed to build quarkus application: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n[ERROR] \t[error]: Build step org.apache.camel.quarkus.core.deployment.CamelNativeImageProcessor#camelRuntimeCatalog threw an exception: java.nio.file.ClosedFileSystemException\r\n[ERROR] \tat jdk.zipfs/jdk.nio.zipfs.ZipFileSystem.ensureOpen(ZipFileSystem.java:1619)\r\n[ERROR] \tat jdk.zipfs/jdk.nio.zipfs.ZipFileSystem.getFileAttributes(ZipFileSystem.java:531)\r\n[ERROR] \tat jdk.zipfs/jdk.nio.zipfs.ZipPath.readAttributes(ZipPath.java:767)\r\n[ERROR] \tat jdk.zipfs/jdk.nio.zipfs.ZipPath.readAttributes(ZipPath.java:777)\r\n[ERROR] \tat jdk.zipfs/jdk.nio.zipfs.ZipFileSystemProvider.readAttributes(ZipFileSystemProvider.java:276)\r\n[ERROR] \tat java.base/java.nio.file.Files.readAttributes(Files.java:1851)\r\n[ERROR] \tat java.base/java.nio.file.Files.isDirectory(Files.java:2322)\r\n[ERROR] \tat org.apache.camel.quarkus.core.deployment.util.CamelSupport.services(CamelSupport.java:71)\r\n[ERROR] \tat org.apache.camel.quarkus.core.deployment.CamelNativeImageProcessor.camelRuntimeCatalog(CamelNativeImageProcessor.java:170)\r\n[ERROR] \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n[ERROR] \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n[ERROR] \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n[ERROR] \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n[ERROR] \tat io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:925)\r\n[ERROR] \tat io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n[ERROR] \tat org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n[ERROR] \tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n[ERROR] \tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n[ERROR] \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n[ERROR] \tat org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n[ERROR] \r\n[ERROR] \t[error]: Build step org.apache.camel.quarkus.core.deployment.CamelProcessor#camelServices threw an exception: java.nio.file.ClosedFileSystemException\r\n[ERROR] \tat jdk.zipfs/jdk.nio.zipfs.ZipFileSystem.ensureOpen(ZipFileSystem.java:1619)\r\n[ERROR] \tat jdk.zipfs/jdk.nio.zipfs.ZipFileSystem.getFileAttributes(ZipFileSystem.java:531)\r\n[ERROR] \tat jdk.zipfs/jdk.nio.zipfs.ZipPath.readAttributes(ZipPath.java:767)\r\n[ERROR] \tat jdk.zipfs/jdk.nio.zipfs.ZipPath.readAttributes(ZipPath.java:777)\r\n[ERROR] \tat jdk.zipfs/jdk.nio.zipfs.ZipFileSystemProvider.readAttributes(ZipFileSystemProvider.java:276)\r\n[ERROR] \tat java.base/java.nio.file.Files.readAttributes(Files.java:1851)\r\n[ERROR] \tat java.base/java.nio.file.Files.isDirectory(Files.java:2322)\r\n[ERROR] \tat org.apache.camel.quarkus.core.deployment.util.CamelSupport.services(CamelSupport.java:71)\r\n[ERROR] \tat org.apache.camel.quarkus.core.deployment.CamelProcessor.camelServices(CamelProcessor.java:213)\r\n[ERROR] \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n[ERROR] \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n[ERROR] \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n[ERROR] \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n[ERROR] \tat io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:925)\r\n[ERROR] \tat io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n[ERROR] \tat org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n[ERROR] \tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n[ERROR] \tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n[ERROR] \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n[ERROR] \tat org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n```","title":"Quarkus Camel build failing on kubernetes","body":"<p>I have a project using quarkus, camel which builds fine locally however when i try to build it on my CI environment (either through my jenkins environment or on bitbucket) I get a weird failure. I can't really track the source however and am quite stumped as to what can be causing this.  My kubernetes storage does not have any readonly flags enabled.\nThis fails only in kubernetes not even inside just a docker container started locally</p>\n<pre><code>\n[INFO] Building jar: /home/jenkins/agent/workspace/Build Jobs/Build Gateway Service Starter/target/gateway-service-starter-1.5.1.jar\n[INFO] \n[INFO] --- quarkus-maven-plugin:2.9.0.CR1:build (default) @ gateway-service-starter ---\n[INFO] No Git Properties File Url Defined. Attempting with default: git.properties\n[ERROR] Unable to load default git properties file git.properties\n[INFO] [io.quarkus.deployment.QuarkusAugmentor] Quarkus augmentation completed in 10087ms\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ gateway-service-starter ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 2 resources\n[INFO] \n[INFO] --- quarkus-maven-plugin:2.9.0.CR1:generate-code (default) @ gateway-service-starter ---\n[INFO] \n[INFO] --- maven-compiler-plugin:3.10.1:compile (default-compile) @ gateway-service-starter ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 54 source files to /home/jenkins/agent/workspace/Build Jobs/Build Gateway Service Starter/target/classes\n[INFO] \n[INFO] --- quarkus-maven-plugin:2.9.0.CR1:generate-code-tests (default) @ gateway-service-starter ---\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ gateway-service-starter ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 2 resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.10.1:testCompile (default-testCompile) @ gateway-service-starter ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 22 source files to /home/jenkins/agent/workspace/Build Jobs/Build Gateway Service Starter/target/test-classes\n[INFO] \n[INFO] --- maven-surefire-plugin:3.0.0-M6:test (default-test) @ gateway-service-starter ---\n[INFO] Skipping execution of surefire because it has already been run for this configuration\n[INFO] \n[INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ gateway-service-starter ---\n[INFO] Building jar: /home/jenkins/agent/workspace/Build Jobs/Build Gateway Service Starter/target/gateway-service-starter-1.5.1.jar\n[INFO] \n[INFO] --- quarkus-maven-plugin:2.9.0.CR1:build (default) @ gateway-service-starter ---\n[INFO] No Git Properties File Url Defined. Attempting with default: git.properties\n[ERROR] Unable to load default git properties file git.properties\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  02:14 min\n[INFO] Finished at: 2022-05-30T13:34:00Z\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal io.quarkus.platform:quarkus-maven-plugin:2.9.0.CR1:build (default) on project gateway-service-starter: Failed to build quarkus application: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n[ERROR]     [error]: Build step org.apache.camel.quarkus.core.deployment.CamelNativeImageProcessor#camelRuntimeCatalog threw an exception: java.nio.file.ClosedFileSystemException\n[ERROR]     at jdk.zipfs/jdk.nio.zipfs.ZipFileSystem.ensureOpen(ZipFileSystem.java:1619)\n[ERROR]     at jdk.zipfs/jdk.nio.zipfs.ZipFileSystem.getFileAttributes(ZipFileSystem.java:531)\n[ERROR]     at jdk.zipfs/jdk.nio.zipfs.ZipPath.readAttributes(ZipPath.java:767)\n[ERROR]     at jdk.zipfs/jdk.nio.zipfs.ZipPath.readAttributes(ZipPath.java:777)\n[ERROR]     at jdk.zipfs/jdk.nio.zipfs.ZipFileSystemProvider.readAttributes(ZipFileSystemProvider.java:276)\n[ERROR]     at java.base/java.nio.file.Files.readAttributes(Files.java:1851)\n[ERROR]     at java.base/java.nio.file.Files.isDirectory(Files.java:2322)\n[ERROR]     at org.apache.camel.quarkus.core.deployment.util.CamelSupport.services(CamelSupport.java:71)\n[ERROR]     at org.apache.camel.quarkus.core.deployment.CamelNativeImageProcessor.camelRuntimeCatalog(CamelNativeImageProcessor.java:170)\n[ERROR]     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[ERROR]     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n[ERROR]     at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[ERROR]     at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n[ERROR]     at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:925)\n[ERROR]     at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\n[ERROR]     at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n[ERROR]     at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n[ERROR]     at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n[ERROR]     at java.base/java.lang.Thread.run(Thread.java:833)\n[ERROR]     at org.jboss.threads.JBossThread.run(JBossThread.java:501)\n[ERROR] \n[ERROR]     [error]: Build step org.apache.camel.quarkus.core.deployment.CamelProcessor#camelServices threw an exception: java.nio.file.ClosedFileSystemException\n[ERROR]     at jdk.zipfs/jdk.nio.zipfs.ZipFileSystem.ensureOpen(ZipFileSystem.java:1619)\n[ERROR]     at jdk.zipfs/jdk.nio.zipfs.ZipFileSystem.getFileAttributes(ZipFileSystem.java:531)\n[ERROR]     at jdk.zipfs/jdk.nio.zipfs.ZipPath.readAttributes(ZipPath.java:767)\n[ERROR]     at jdk.zipfs/jdk.nio.zipfs.ZipPath.readAttributes(ZipPath.java:777)\n[ERROR]     at jdk.zipfs/jdk.nio.zipfs.ZipFileSystemProvider.readAttributes(ZipFileSystemProvider.java:276)\n[ERROR]     at java.base/java.nio.file.Files.readAttributes(Files.java:1851)\n[ERROR]     at java.base/java.nio.file.Files.isDirectory(Files.java:2322)\n[ERROR]     at org.apache.camel.quarkus.core.deployment.util.CamelSupport.services(CamelSupport.java:71)\n[ERROR]     at org.apache.camel.quarkus.core.deployment.CamelProcessor.camelServices(CamelProcessor.java:213)\n[ERROR]     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[ERROR]     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n[ERROR]     at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[ERROR]     at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n[ERROR]     at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:925)\n[ERROR]     at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\n[ERROR]     at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n[ERROR]     at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n[ERROR]     at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n[ERROR]     at java.base/java.lang.Thread.run(Thread.java:833)\n[ERROR]     at org.jboss.threads.JBossThread.run(JBossThread.java:501)\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":3,"creation_date":1665467584,"post_id":74023478,"comment_id":130700709,"body_markdown":"That&#39;s a whole lot of code which immediately makes me ask for a [mcve]. Did you step through your code with a debugger already?","body":"That&#39;s a whole lot of code which immediately makes me ask for a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Did you step through your code with a debugger already?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":2,"creation_date":1665468275,"post_id":74023478,"comment_id":130700854,"body_markdown":"What do you mean by &#39;my setOnKeyPressed method does not work&#39;? Is it not called, or does it produce unexpected results? What does it produce, and what is expected?","body":"What do you mean by &#39;my setOnKeyPressed method does not work&#39;? Is it not called, or does it produce unexpected results? What does it produce, and what is expected?"}],"answers":[{"tags":[],"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665570865,"creation_date":1665534037,"answer_id":74035247,"question_id":74023478,"body_markdown":"Because there is nothing added to `keyCommandsBall` map.\r\n\r\nI am not sure if this is a typo mistake, but I can sense this part of the code is wrong. All the commands added to `keyCommands` map only.\r\n\r\n    Map&lt;KeyCode,Command&gt; keyCommands = new HashMap&lt;&gt;();\r\n    keyCommands.put(KeyCode.LEFT, moveLeft);\r\n    keyCommands.put(KeyCode.RIGHT, moveRight);\r\n            \r\n    Map&lt;KeyCode,Command&gt; keyCommandsBall = new HashMap&lt;&gt;();\r\n    keyCommands.put(KeyCode.SPACE, moveUp);\r\n            \r\n    Map&lt;KeyCode,Command&gt; keyCommands2 = new HashMap&lt;&gt;();\r\n    keyCommands.put(KeyCode.F19, moveLeft);\r\n    keyCommands.put(KeyCode.F18, moveRight);\r\n\r\n**Update:**\r\n\r\nI felt a bit interesting in this game so I tried to put my hands in this. Indeed this was quite fun when playing ;)\r\n\r\nBut few suggestions for you from your code:\r\n* Try to reuse to code by either keeping things in loop or by calling a common method. That way you can reduce the code drastically.\r\n* Try to create constants for the fixed sizes and positions. That way you accidentally don&#39;t get messed up with some wrong values. (Though I have not included that in my example)\r\n* When providing a minimal example, try to keep all the code in a single class with all imports (even if it has multiple classes or interfaces). The main aim should be that others should directly copy the class and should be able to run the program.\r\n\r\nBelow is the output of the code that I worked on. (There is still so much scope to optimize this)\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    import javafx.animation.AnimationTimer;\r\n    import javafx.application.Application;\r\n    import javafx.scene.Group;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.input.KeyCode;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.shape.Circle;\r\n    import javafx.scene.shape.Polygon;\r\n    import javafx.scene.shape.Rectangle;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class VideoGameClass extends Application {\r\n        private List&lt;Sprite&gt; circles = new ArrayList&lt;&gt;();\r\n        private List&lt;Sprite&gt; rectangles = new ArrayList&lt;&gt;();\r\n        private List&lt;Sprite&gt; all = new ArrayList&lt;&gt;();\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            Group root = new Group();\r\n            Scene scene = new Scene(root, 320, 240, Color.BLACK);\r\n            stage.setTitle(&quot;Target practice&quot;);\r\n            stage.setScene(scene);\r\n    \r\n            Sprite c1 = createCircle(20, 20);\r\n            Sprite c2 = createCircle(80, 20);\r\n            Sprite c3 = createCircle(140, 20);\r\n    \r\n            Sprite rec1 = createRectangle(15);\r\n            Sprite rec2 = createRectangle(75);\r\n            Sprite rec3 = createRectangle(135);\r\n            Sprite rec4 = createRectangle(195);\r\n    \r\n            Polygon t = new Polygon();\r\n            t.getPoints().addAll(new Double[]{\r\n                    25.0, 20.0,\r\n                    45.0, 20.0,\r\n                    35.0, 5.0,\r\n                    25.0, 20.0,\r\n            });\r\n            t.setFill(Color.WHITE);\r\n            t.setTranslateX(125);\r\n            t.setTranslateY(200);\r\n            Sprite player = new Sprite(t);\r\n            all.add(player);\r\n    \r\n            Sprite ball = new Sprite(new Circle(t.getTranslateX() + 35, t.getTranslateY(), 5, Color.WHITE));\r\n            all.add(ball);\r\n    \r\n            all.stream().map(Sprite::getNode).forEach(n -&gt; root.getChildren().add(n));\r\n    \r\n            Command moveLeft = sprite -&gt; sprite.setVelocity(-2, 0);\r\n            Command moveRight = sprite -&gt; sprite.setVelocity(2, 0);\r\n            Command moveUp = sprite -&gt; sprite.setVelocity(0, -2);\r\n            Command stopMoving = sprite -&gt; sprite.setVelocity(0, 0);\r\n    \r\n            Map&lt;KeyCode, Command&gt; keyCommands = new HashMap&lt;&gt;();\r\n            keyCommands.put(KeyCode.LEFT, moveLeft);\r\n            keyCommands.put(KeyCode.RIGHT, moveRight);\r\n    \r\n            Map&lt;KeyCode, Command&gt; keyCommandsBall = new HashMap&lt;&gt;();\r\n            keyCommandsBall.put(KeyCode.SPACE, moveUp);\r\n    \r\n            Map&lt;KeyCode, Command&gt; keyCommands2 = new HashMap&lt;&gt;();\r\n            keyCommands.put(KeyCode.F11, moveLeft);\r\n            keyCommands.put(KeyCode.F12, moveRight);\r\n    \r\n            AnimationTimer animation = new AnimationTimer() {\r\n                @Override\r\n                public void handle(long now) {\r\n                    circles.forEach(c -&gt; c.setVelocity(1.0, 0));\r\n                    rectangles.forEach(r -&gt; r.setVelocity(-2.0, 0));\r\n                    all.forEach(Sprite::update);\r\n    \r\n                    //check and handle collisions\r\n                    if (c3.getNode().getTranslateX() &gt; scene.getWidth() - 120) {\r\n                        c3.getNode().setTranslateX(-140);\r\n                    }\r\n                    if (c2.getNode().getTranslateX() &gt; scene.getWidth() - 75) {\r\n                        c2.getNode().setTranslateX(c3.getNode().getTranslateX() - 20);\r\n                    }\r\n                    if (c1.getNode().getTranslateX() &gt; scene.getWidth() - 10) {\r\n                        c1.getNode().setTranslateX(c2.getNode().getTranslateX() - 20);\r\n                    }\r\n    \r\n                    if (rec1.getNode().getTranslateX() &lt; -40) {\r\n                        rec1.getNode().setTranslateX(300);\r\n                    }\r\n                    if (rec2.getNode().getTranslateX() &lt; -100) {\r\n                        rec2.getNode().setTranslateX(rec1.getNode().getTranslateX() + 30);\r\n                    }\r\n                    if (rec3.getNode().getTranslateX() &lt; -135) {\r\n                        rec3.getNode().setTranslateX(rec2.getNode().getTranslateX() + 30);\r\n                    }\r\n                    if (rec4.getNode().getTranslateX() &lt; -225) {\r\n                        rec4.getNode().setTranslateX(rec3.getNode().getTranslateX() + 30);\r\n                    }\r\n    \r\n                    // Check for collision and stop the ball\r\n                    Stream.of(circles, rectangles).flatMap(List::stream).forEach(sprite -&gt; {\r\n                        if (ball.getNode().getBoundsInParent().intersects(sprite.getNode().getBoundsInParent())) {\r\n                            ball.setVelocity(0, 0);\r\n                        }\r\n                    });\r\n                }//end of handle\r\n            };\r\n    \r\n            scene.setOnKeyPressed(event -&gt; {\r\n                Command movement = keyCommands.get(event.getCode());\r\n                if (movement != null) {\r\n                    movement.execute(player);\r\n                }\r\n                Command shoot = keyCommandsBall.get(event.getCode());\r\n                if (shoot != null) {\r\n                    shoot.execute(ball);\r\n                }\r\n            });\r\n    \r\n            scene.setOnKeyReleased(event -&gt; {\r\n                Command movement = keyCommands2.get(event.getCode());\r\n                Command stop = stopMoving;\r\n                if (movement == null) {\r\n                    stop.execute(player);\r\n                }\r\n    \r\n                // Bring back the ball to the player\r\n                if(event.getCode() == KeyCode.Z){\r\n                    ball.setVelocity(0, 0);\r\n                    Circle ballNode = (Circle) ball.getNode();\r\n                    ballNode.setTranslateX(0);\r\n                    ballNode.setTranslateY(0);\r\n                    ballNode.setCenterX(player.getNode().getTranslateX() + 35);\r\n                    ballNode.setCenterY(player.getNode().getTranslateY());\r\n                }\r\n            });\r\n    \r\n            animation.start();\r\n            stage.show();\r\n        }\r\n    \r\n        private Sprite createCircle(double centerX, double centerY) {\r\n            Sprite circle = new Sprite(new Circle(centerX, centerY, 10, Color.RED));\r\n            circles.add(circle);\r\n            all.add(circle);\r\n            return circle;\r\n        }\r\n    \r\n        private Sprite createRectangle(double x) {\r\n            Rectangle r = new Rectangle(x, 40, 25, 10);\r\n            r.setFill(Color.YELLOW);\r\n            Sprite rectangle = new Sprite(r);\r\n            rectangles.add(rectangle);\r\n            all.add(rectangle);\r\n            return rectangle;\r\n        }\r\n    \r\n        class Sprite {\r\n            private final Node node;\r\n            private double dx, dy;\r\n    \r\n            public Sprite(Node node) {\r\n                this.node = node;\r\n            }\r\n    \r\n            public Node getNode() {\r\n                return node;\r\n            }\r\n    \r\n            public void setVelocity(double dx, double dy) {\r\n                this.dx = dx;\r\n                this.dy = dy;\r\n            }\r\n    \r\n            public void update() {\r\n                this.node.setTranslateX(this.node.getTranslateX() + dx);\r\n                this.node.setTranslateY(this.node.getTranslateY() + dy);\r\n            }\r\n        }\r\n    \r\n        interface Command {\r\n            void execute(Sprite sprite);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qRHSd.gif","title":"Why wont my ball object continously move up when i press space?","body":"<p>Because there is nothing added to <code>keyCommandsBall</code> map.</p>\n<p>I am not sure if this is a typo mistake, but I can sense this part of the code is wrong. All the commands added to <code>keyCommands</code> map only.</p>\n<pre><code>Map&lt;KeyCode,Command&gt; keyCommands = new HashMap&lt;&gt;();\nkeyCommands.put(KeyCode.LEFT, moveLeft);\nkeyCommands.put(KeyCode.RIGHT, moveRight);\n        \nMap&lt;KeyCode,Command&gt; keyCommandsBall = new HashMap&lt;&gt;();\nkeyCommands.put(KeyCode.SPACE, moveUp);\n        \nMap&lt;KeyCode,Command&gt; keyCommands2 = new HashMap&lt;&gt;();\nkeyCommands.put(KeyCode.F19, moveLeft);\nkeyCommands.put(KeyCode.F18, moveRight);\n</code></pre>\n<p><strong>Update:</strong></p>\n<p>I felt a bit interesting in this game so I tried to put my hands in this. Indeed this was quite fun when playing ;)</p>\n<p>But few suggestions for you from your code:</p>\n<ul>\n<li>Try to reuse to code by either keeping things in loop or by calling a common method. That way you can reduce the code drastically.</li>\n<li>Try to create constants for the fixed sizes and positions. That way you accidentally don't get messed up with some wrong values. (Though I have not included that in my example)</li>\n<li>When providing a minimal example, try to keep all the code in a single class with all imports (even if it has multiple classes or interfaces). The main aim should be that others should directly copy the class and should be able to run the program.</li>\n</ul>\n<p>Below is the output of the code that I worked on. (There is still so much scope to optimize this)\n<a href=\"https://i.stack.imgur.com/qRHSd.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qRHSd.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import javafx.animation.AnimationTimer;\nimport javafx.application.Application;\nimport javafx.scene.Group;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.input.KeyCode;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.scene.shape.Polygon;\nimport javafx.scene.shape.Rectangle;\nimport javafx.stage.Stage;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Stream;\n\npublic class VideoGameClass extends Application {\n    private List&lt;Sprite&gt; circles = new ArrayList&lt;&gt;();\n    private List&lt;Sprite&gt; rectangles = new ArrayList&lt;&gt;();\n    private List&lt;Sprite&gt; all = new ArrayList&lt;&gt;();\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        Group root = new Group();\n        Scene scene = new Scene(root, 320, 240, Color.BLACK);\n        stage.setTitle(&quot;Target practice&quot;);\n        stage.setScene(scene);\n\n        Sprite c1 = createCircle(20, 20);\n        Sprite c2 = createCircle(80, 20);\n        Sprite c3 = createCircle(140, 20);\n\n        Sprite rec1 = createRectangle(15);\n        Sprite rec2 = createRectangle(75);\n        Sprite rec3 = createRectangle(135);\n        Sprite rec4 = createRectangle(195);\n\n        Polygon t = new Polygon();\n        t.getPoints().addAll(new Double[]{\n                25.0, 20.0,\n                45.0, 20.0,\n                35.0, 5.0,\n                25.0, 20.0,\n        });\n        t.setFill(Color.WHITE);\n        t.setTranslateX(125);\n        t.setTranslateY(200);\n        Sprite player = new Sprite(t);\n        all.add(player);\n\n        Sprite ball = new Sprite(new Circle(t.getTranslateX() + 35, t.getTranslateY(), 5, Color.WHITE));\n        all.add(ball);\n\n        all.stream().map(Sprite::getNode).forEach(n -&gt; root.getChildren().add(n));\n\n        Command moveLeft = sprite -&gt; sprite.setVelocity(-2, 0);\n        Command moveRight = sprite -&gt; sprite.setVelocity(2, 0);\n        Command moveUp = sprite -&gt; sprite.setVelocity(0, -2);\n        Command stopMoving = sprite -&gt; sprite.setVelocity(0, 0);\n\n        Map&lt;KeyCode, Command&gt; keyCommands = new HashMap&lt;&gt;();\n        keyCommands.put(KeyCode.LEFT, moveLeft);\n        keyCommands.put(KeyCode.RIGHT, moveRight);\n\n        Map&lt;KeyCode, Command&gt; keyCommandsBall = new HashMap&lt;&gt;();\n        keyCommandsBall.put(KeyCode.SPACE, moveUp);\n\n        Map&lt;KeyCode, Command&gt; keyCommands2 = new HashMap&lt;&gt;();\n        keyCommands.put(KeyCode.F11, moveLeft);\n        keyCommands.put(KeyCode.F12, moveRight);\n\n        AnimationTimer animation = new AnimationTimer() {\n            @Override\n            public void handle(long now) {\n                circles.forEach(c -&gt; c.setVelocity(1.0, 0));\n                rectangles.forEach(r -&gt; r.setVelocity(-2.0, 0));\n                all.forEach(Sprite::update);\n\n                //check and handle collisions\n                if (c3.getNode().getTranslateX() &gt; scene.getWidth() - 120) {\n                    c3.getNode().setTranslateX(-140);\n                }\n                if (c2.getNode().getTranslateX() &gt; scene.getWidth() - 75) {\n                    c2.getNode().setTranslateX(c3.getNode().getTranslateX() - 20);\n                }\n                if (c1.getNode().getTranslateX() &gt; scene.getWidth() - 10) {\n                    c1.getNode().setTranslateX(c2.getNode().getTranslateX() - 20);\n                }\n\n                if (rec1.getNode().getTranslateX() &lt; -40) {\n                    rec1.getNode().setTranslateX(300);\n                }\n                if (rec2.getNode().getTranslateX() &lt; -100) {\n                    rec2.getNode().setTranslateX(rec1.getNode().getTranslateX() + 30);\n                }\n                if (rec3.getNode().getTranslateX() &lt; -135) {\n                    rec3.getNode().setTranslateX(rec2.getNode().getTranslateX() + 30);\n                }\n                if (rec4.getNode().getTranslateX() &lt; -225) {\n                    rec4.getNode().setTranslateX(rec3.getNode().getTranslateX() + 30);\n                }\n\n                // Check for collision and stop the ball\n                Stream.of(circles, rectangles).flatMap(List::stream).forEach(sprite -&gt; {\n                    if (ball.getNode().getBoundsInParent().intersects(sprite.getNode().getBoundsInParent())) {\n                        ball.setVelocity(0, 0);\n                    }\n                });\n            }//end of handle\n        };\n\n        scene.setOnKeyPressed(event -&gt; {\n            Command movement = keyCommands.get(event.getCode());\n            if (movement != null) {\n                movement.execute(player);\n            }\n            Command shoot = keyCommandsBall.get(event.getCode());\n            if (shoot != null) {\n                shoot.execute(ball);\n            }\n        });\n\n        scene.setOnKeyReleased(event -&gt; {\n            Command movement = keyCommands2.get(event.getCode());\n            Command stop = stopMoving;\n            if (movement == null) {\n                stop.execute(player);\n            }\n\n            // Bring back the ball to the player\n            if(event.getCode() == KeyCode.Z){\n                ball.setVelocity(0, 0);\n                Circle ballNode = (Circle) ball.getNode();\n                ballNode.setTranslateX(0);\n                ballNode.setTranslateY(0);\n                ballNode.setCenterX(player.getNode().getTranslateX() + 35);\n                ballNode.setCenterY(player.getNode().getTranslateY());\n            }\n        });\n\n        animation.start();\n        stage.show();\n    }\n\n    private Sprite createCircle(double centerX, double centerY) {\n        Sprite circle = new Sprite(new Circle(centerX, centerY, 10, Color.RED));\n        circles.add(circle);\n        all.add(circle);\n        return circle;\n    }\n\n    private Sprite createRectangle(double x) {\n        Rectangle r = new Rectangle(x, 40, 25, 10);\n        r.setFill(Color.YELLOW);\n        Sprite rectangle = new Sprite(r);\n        rectangles.add(rectangle);\n        all.add(rectangle);\n        return rectangle;\n    }\n\n    class Sprite {\n        private final Node node;\n        private double dx, dy;\n\n        public Sprite(Node node) {\n            this.node = node;\n        }\n\n        public Node getNode() {\n            return node;\n        }\n\n        public void setVelocity(double dx, double dy) {\n            this.dx = dx;\n            this.dy = dy;\n        }\n\n        public void update() {\n            this.node.setTranslateX(this.node.getTranslateX() + dx);\n            this.node.setTranslateY(this.node.getTranslateY() + dy);\n        }\n    }\n\n    interface Command {\n        void execute(Sprite sprite);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24322966,"reputation":21,"user_id":18263007,"display_name":"Hickymcmicky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665570865,"creation_date":1665467247,"question_id":74023478,"body_markdown":"I am trying to recreate the mini game shooting gallery from Zelda: A link to the past with a triangle polygon that acts as the player and a circle that acts as the projectile and when  the player presses space the projectile moves up at a quick speed, but my setOnKeyPressed method does not work, what am i missing?\r\n\r\n&gt;Method spoken about\r\n```\r\nscene.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() \r\n        {\r\n            @Override\r\n            public void handle(KeyEvent event)\r\n            {\r\n                Command movement = keyCommands.get(event.getCode());\r\n                if (movement != null){\r\n                    movement.execute(player);\r\n                }\r\n                \r\n                Command shoot = keyCommandsBall.get(event.getCode());\r\n                if (shoot != null){\r\n                    shoot.execute(ball);\r\n                }\r\n                \r\n            }\r\n        });\r\n```\r\n\r\n\r\n&gt;This is my main method\r\n\r\n```\r\npackage videogameclass;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport javafx.animation.AnimationTimer;\r\nimport javafx.application.Application;\r\nimport javafx.event.EventHandler;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.input.KeyCode;\r\nimport javafx.scene.input.KeyEvent;\r\nimport javafx.scene.paint.Color;\r\nimport static javafx.scene.paint.Color.color;\r\nimport javafx.scene.shape.Circle;\r\nimport javafx.scene.shape.Polygon;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.stage.Stage;\r\n/**\r\n *\r\n * @author \r\n */\r\npublic class VideoGameClass extends Application {\r\n    \r\n   \r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n        // TODO code application logic here\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception\r\n    {\r\n        \r\n        \r\n      stage.setTitle(&quot;Target practice&quot;);\r\n      \r\n      Group root = new Group();\r\n      Scene scene = new Scene(root, 320, 240);\r\n      stage.setScene(scene);\r\n        \r\n      Circle circle1 = new Circle(20,20,10);\r\n      Sprite c = new Sprite(circle1);\r\n      circle1.setFill(Color.RED);\r\n      root.getChildren().add(c.getNode());\r\n      \r\n      Circle circle2 = new Circle(80, 20, 10);\r\n      Sprite c2 = new Sprite(circle2);\r\n      circle2.setFill(Color.RED);\r\n      root.getChildren().add(c2.getNode());\r\n      \r\n      Circle circle3 = new Circle(140, 20, 10);\r\n      Sprite c3 = new Sprite(circle3);\r\n      circle3.setFill(Color.RED);\r\n      root.getChildren().add(c3.getNode());\r\n      \r\n      \r\n      \r\n      Rectangle rectangle = new Rectangle(15,40,25,10);\r\n      Sprite rec = new Sprite(rectangle);\r\n      rectangle.setFill(Color.BLACK);\r\n      root.getChildren().add(rec.getNode());\r\n      \r\n      Rectangle rectangle2 = new Rectangle(75,40,25,10);\r\n      Sprite rec2 = new Sprite(rectangle2);\r\n      rectangle2.setFill(Color.BLACK);\r\n      root.getChildren().add(rec2.getNode());\r\n      \r\n      Rectangle rectangle3 = new Rectangle(135,40,25,10);\r\n      Sprite rec3 = new Sprite(rectangle3);\r\n      rectangle3.setFill(Color.BLACK);\r\n      root.getChildren().add(rec3.getNode());\r\n      \r\n      Rectangle rectangle4 = new Rectangle(195,40,25,10);\r\n      Sprite rec4 = new Sprite(rectangle4);\r\n      rectangle4.setFill(Color.BLACK);\r\n      root.getChildren().add(rec4.getNode());\r\n      \r\n      \r\n      \r\n       Polygon t = new Polygon();\r\n        Sprite player = new Sprite(t);\r\n        root.getChildren().add(player.getNode());\r\n        t.getPoints().addAll(new Double[]{\r\n            25.0, 20.0,\r\n            45.0, 20.0,\r\n            35.0, 5.0,\r\n            25.0,20.0,\r\n        });\r\n        t.setTranslateX(125);\r\n        t.setTranslateY(200);\r\n      \r\n        Circle circle4 = new Circle(t.getTranslateX()+35,t.getTranslateY(),5);\r\n        Sprite ball = new Sprite(circle4);\r\n        root.getChildren().add(ball.getNode());\r\n        \r\n      Command moveLeft = new Command() \r\n        {\r\n            @Override\r\n            public void execute(Sprite sprite)\r\n            {\r\n              \r\n                sprite.setVelocity(-2, 0);\r\n                //sprite.update();\r\n                \r\n\r\n            }\r\n\r\n          \r\n        };\r\n        \r\n        \r\n       \r\n        \r\n        Command moveRight = new Command() \r\n        {\r\n            @Override\r\n            public void execute(Sprite sprite)\r\n            {\r\n                sprite.setVelocity(2, 0);\r\n                //sprite.update();\r\n\r\n            }\r\n        };\r\n        \r\n        Command moveUp = new Command(){\r\n            @Override\r\n            public void execute(Sprite sprite){\r\n                sprite.setVelocity(0,-2);\r\n            }\r\n        };\r\n        \r\n        \r\n        Command stopMoving = new Command()\r\n        {\r\n            @Override\r\n            public void execute(Sprite sprite)\r\n            {\r\n                sprite.setVelocity(0,0);\r\n            }\r\n            \r\n        };\r\n      \r\n      Map&lt;KeyCode,Command&gt; keyCommands = new HashMap&lt;&gt;();\r\n        keyCommands.put(KeyCode.LEFT, moveLeft);\r\n        keyCommands.put(KeyCode.RIGHT, moveRight);\r\n        \r\n      Map&lt;KeyCode,Command&gt; keyCommandsBall = new HashMap&lt;&gt;();\r\n        keyCommands.put(KeyCode.SPACE, moveUp);\r\n        \r\n        Map&lt;KeyCode,Command&gt; keyCommands2 = new HashMap&lt;&gt;();\r\n        keyCommands.put(KeyCode.F19, moveLeft);\r\n        keyCommands.put(KeyCode.F18, moveRight);\r\n      \r\n      AnimationTimer animation = new AnimationTimer()\r\n      {\r\n          @Override\r\n          public void handle(long now){\r\n              c.setVelocity(1.0, 0);\r\n              c2.setVelocity(1.0,0);\r\n              c3.setVelocity(1.0,0);\r\n              \r\n              ball.setVelocity(0, 0);\r\n              \r\n              rec.setVelocity(-2.0,0);\r\n              rec2.setVelocity(-2.0,0);\r\n              rec3.setVelocity(-2.0,0);\r\n              rec4.setVelocity(-2.0,0);\r\n              c.update();\r\n              c2.update();\r\n              c3.update();\r\n              ball.update();//projectile \r\n              rec.update();\r\n              rec2.update();\r\n              rec3.update();\r\n              rec4.update();\r\n              player.update();\r\n              //move sprites\r\n              \r\n              //check and handle collisions\r\n              if(c3.getNode().getTranslateX() &gt; scene.getWidth() - 120){\r\n                  c3.getNode().setTranslateX(-140);\r\n              }\r\n              if(c2.getNode().getTranslateX() &gt; scene.getWidth() - 75){\r\n                  c2.getNode().setTranslateX(c3.getNode().getTranslateX()-20);\r\n              }\r\n              if(c.getNode().getTranslateX() &gt; scene.getWidth() - 10){\r\n                  c.getNode().setTranslateX(c2.getNode().getTranslateX()-20);\r\n              }\r\n              \r\n              if (rec.getNode().getTranslateX() &lt; -40){\r\n                    rec.getNode().setTranslateX(300);\r\n              }\r\n              if(rec2.getNode().getTranslateX() &lt; -100){\r\n                  rec2.getNode().setTranslateX(rec.getNode().getTranslateX()+30);\r\n              }\r\n              if(rec3.getNode().getTranslateX() &lt; -135){\r\n                  rec3.getNode().setTranslateX(rec2.getNode().getTranslateX()+30);\r\n              }\r\n              if(rec4.getNode().getTranslateX() &lt; -225){\r\n                  rec4.getNode().setTranslateX(rec3.getNode().getTranslateX()+30);\r\n              }\r\n              \r\n              if(ball.getNode().getBoundsInParent().intersects(rec.getNode().getBoundsInParent())){\r\n            \r\n                    ball.setVelocity(0, 0);     \r\n        }\r\n              if(ball.getNode().getBoundsInParent().intersects(rec2.getNode().getBoundsInParent())){\r\n            \r\n                    ball.setVelocity(0, 0);     \r\n        }\r\n              if(ball.getNode().getBoundsInParent().intersects(rec3.getNode().getBoundsInParent())){\r\n            \r\n                    ball.setVelocity(0, 0);     \r\n        }\r\n              if(ball.getNode().getBoundsInParent().intersects(rec4.getNode().getBoundsInParent())){\r\n            \r\n                    ball.setVelocity(0, 0);     \r\n        }\r\n              if(ball.getNode().getBoundsInParent().intersects(c.getNode().getBoundsInParent())){\r\n            \r\n                    ball.setVelocity(0, 0);     \r\n        }\r\n              if(ball.getNode().getBoundsInParent().intersects(c2.getNode().getBoundsInParent())){\r\n            \r\n                    ball.setVelocity(0, 0);     \r\n        }\r\n              if(ball.getNode().getBoundsInParent().intersects(c3.getNode().getBoundsInParent())){\r\n            \r\n                    ball.setVelocity(0, 0);     \r\n        }\r\n              \r\n              \r\n              \r\n          }//end of handle\r\n      };\r\n      \r\n      scene.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() \r\n        {\r\n            @Override\r\n            public void handle(KeyEvent event)\r\n            {\r\n                Command movement = keyCommands.get(event.getCode());\r\n                if (movement != null){\r\n                    movement.execute(player);\r\n                }\r\n                Command shoot = keyCommandsBall.get(event.getCode());\r\n                if (shoot != null){\r\n                    shoot.execute(ball);\r\n                }\r\n                \r\n            }\r\n        });\r\n      \r\n      scene.setOnKeyReleased(new EventHandler&lt;KeyEvent&gt;()\r\n        {\r\n            @Override\r\n            public void handle(KeyEvent event)\r\n            {\r\n                Command movement = keyCommands2.get(event.getCode());\r\n                Command stop = stopMoving;\r\n                if (movement == null){\r\n                    stop.execute(player);\r\n                }\r\n                \r\n            }\r\n            \r\n        });\r\n      \r\n      \r\n      \r\n      \r\n      \r\n      animation.start();\r\n        stage.show();\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n}\r\n```\r\n\r\n&gt;This is my Sprite class\r\n\r\n```\r\npackage videogameclass;\r\nimport javafx.scene.Node;\r\n/**\r\n *\r\n * @author \r\n */\r\npublic class Sprite {\r\n    \r\n    private final Node node;\r\n    private double dx, dy;\r\n    \r\n    public Sprite(Node node){\r\n        this.node = node;\r\n    }\r\n    public Node getNode(){\r\n        return node;\r\n    }\r\n    public void setVelocity(double dx, double dy){\r\n        this.dx = dx;\r\n        this.dy = dy;\r\n    }\r\n    public double getVelocityX(){\r\n        return dx;\r\n    }\r\n    public double getVelocityY(){\r\n        return dy;\r\n    }\r\n    public void update(){\r\n        this.node.setTranslateX(this.node.getTranslateX()+dx);\r\n        this.node.setTranslateY(this.node.getTranslateY()+dy);\r\n    }\r\n}\r\n```\r\n\r\n&gt;This is my Command method\r\n\r\n```\r\npackage videogameclass;\r\n\r\n\r\npublic interface Command\r\n{\r\n    public void execute(Sprite sprite);\r\n    \r\n}\r\n```","title":"Why wont my ball object continously move up when i press space?","body":"<p>I am trying to recreate the mini game shooting gallery from Zelda: A link to the past with a triangle polygon that acts as the player and a circle that acts as the projectile and when  the player presses space the projectile moves up at a quick speed, but my setOnKeyPressed method does not work, what am i missing?</p>\n<blockquote>\n<p>Method spoken about</p>\n</blockquote>\n<pre><code>scene.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() \n        {\n            @Override\n            public void handle(KeyEvent event)\n            {\n                Command movement = keyCommands.get(event.getCode());\n                if (movement != null){\n                    movement.execute(player);\n                }\n                \n                Command shoot = keyCommandsBall.get(event.getCode());\n                if (shoot != null){\n                    shoot.execute(ball);\n                }\n                \n            }\n        });\n</code></pre>\n<blockquote>\n<p>This is my main method</p>\n</blockquote>\n<pre><code>package videogameclass;\nimport java.util.HashMap;\nimport java.util.Map;\nimport javafx.animation.AnimationTimer;\nimport javafx.application.Application;\nimport javafx.event.EventHandler;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.input.KeyCode;\nimport javafx.scene.input.KeyEvent;\nimport javafx.scene.paint.Color;\nimport static javafx.scene.paint.Color.color;\nimport javafx.scene.shape.Circle;\nimport javafx.scene.shape.Polygon;\nimport javafx.scene.shape.Rectangle;\nimport javafx.stage.Stage;\n/**\n *\n * @author \n */\npublic class VideoGameClass extends Application {\n    \n   \n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        // TODO code application logic here\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage stage) throws Exception\n    {\n        \n        \n      stage.setTitle(&quot;Target practice&quot;);\n      \n      Group root = new Group();\n      Scene scene = new Scene(root, 320, 240);\n      stage.setScene(scene);\n        \n      Circle circle1 = new Circle(20,20,10);\n      Sprite c = new Sprite(circle1);\n      circle1.setFill(Color.RED);\n      root.getChildren().add(c.getNode());\n      \n      Circle circle2 = new Circle(80, 20, 10);\n      Sprite c2 = new Sprite(circle2);\n      circle2.setFill(Color.RED);\n      root.getChildren().add(c2.getNode());\n      \n      Circle circle3 = new Circle(140, 20, 10);\n      Sprite c3 = new Sprite(circle3);\n      circle3.setFill(Color.RED);\n      root.getChildren().add(c3.getNode());\n      \n      \n      \n      Rectangle rectangle = new Rectangle(15,40,25,10);\n      Sprite rec = new Sprite(rectangle);\n      rectangle.setFill(Color.BLACK);\n      root.getChildren().add(rec.getNode());\n      \n      Rectangle rectangle2 = new Rectangle(75,40,25,10);\n      Sprite rec2 = new Sprite(rectangle2);\n      rectangle2.setFill(Color.BLACK);\n      root.getChildren().add(rec2.getNode());\n      \n      Rectangle rectangle3 = new Rectangle(135,40,25,10);\n      Sprite rec3 = new Sprite(rectangle3);\n      rectangle3.setFill(Color.BLACK);\n      root.getChildren().add(rec3.getNode());\n      \n      Rectangle rectangle4 = new Rectangle(195,40,25,10);\n      Sprite rec4 = new Sprite(rectangle4);\n      rectangle4.setFill(Color.BLACK);\n      root.getChildren().add(rec4.getNode());\n      \n      \n      \n       Polygon t = new Polygon();\n        Sprite player = new Sprite(t);\n        root.getChildren().add(player.getNode());\n        t.getPoints().addAll(new Double[]{\n            25.0, 20.0,\n            45.0, 20.0,\n            35.0, 5.0,\n            25.0,20.0,\n        });\n        t.setTranslateX(125);\n        t.setTranslateY(200);\n      \n        Circle circle4 = new Circle(t.getTranslateX()+35,t.getTranslateY(),5);\n        Sprite ball = new Sprite(circle4);\n        root.getChildren().add(ball.getNode());\n        \n      Command moveLeft = new Command() \n        {\n            @Override\n            public void execute(Sprite sprite)\n            {\n              \n                sprite.setVelocity(-2, 0);\n                //sprite.update();\n                \n\n            }\n\n          \n        };\n        \n        \n       \n        \n        Command moveRight = new Command() \n        {\n            @Override\n            public void execute(Sprite sprite)\n            {\n                sprite.setVelocity(2, 0);\n                //sprite.update();\n\n            }\n        };\n        \n        Command moveUp = new Command(){\n            @Override\n            public void execute(Sprite sprite){\n                sprite.setVelocity(0,-2);\n            }\n        };\n        \n        \n        Command stopMoving = new Command()\n        {\n            @Override\n            public void execute(Sprite sprite)\n            {\n                sprite.setVelocity(0,0);\n            }\n            \n        };\n      \n      Map&lt;KeyCode,Command&gt; keyCommands = new HashMap&lt;&gt;();\n        keyCommands.put(KeyCode.LEFT, moveLeft);\n        keyCommands.put(KeyCode.RIGHT, moveRight);\n        \n      Map&lt;KeyCode,Command&gt; keyCommandsBall = new HashMap&lt;&gt;();\n        keyCommands.put(KeyCode.SPACE, moveUp);\n        \n        Map&lt;KeyCode,Command&gt; keyCommands2 = new HashMap&lt;&gt;();\n        keyCommands.put(KeyCode.F19, moveLeft);\n        keyCommands.put(KeyCode.F18, moveRight);\n      \n      AnimationTimer animation = new AnimationTimer()\n      {\n          @Override\n          public void handle(long now){\n              c.setVelocity(1.0, 0);\n              c2.setVelocity(1.0,0);\n              c3.setVelocity(1.0,0);\n              \n              ball.setVelocity(0, 0);\n              \n              rec.setVelocity(-2.0,0);\n              rec2.setVelocity(-2.0,0);\n              rec3.setVelocity(-2.0,0);\n              rec4.setVelocity(-2.0,0);\n              c.update();\n              c2.update();\n              c3.update();\n              ball.update();//projectile \n              rec.update();\n              rec2.update();\n              rec3.update();\n              rec4.update();\n              player.update();\n              //move sprites\n              \n              //check and handle collisions\n              if(c3.getNode().getTranslateX() &gt; scene.getWidth() - 120){\n                  c3.getNode().setTranslateX(-140);\n              }\n              if(c2.getNode().getTranslateX() &gt; scene.getWidth() - 75){\n                  c2.getNode().setTranslateX(c3.getNode().getTranslateX()-20);\n              }\n              if(c.getNode().getTranslateX() &gt; scene.getWidth() - 10){\n                  c.getNode().setTranslateX(c2.getNode().getTranslateX()-20);\n              }\n              \n              if (rec.getNode().getTranslateX() &lt; -40){\n                    rec.getNode().setTranslateX(300);\n              }\n              if(rec2.getNode().getTranslateX() &lt; -100){\n                  rec2.getNode().setTranslateX(rec.getNode().getTranslateX()+30);\n              }\n              if(rec3.getNode().getTranslateX() &lt; -135){\n                  rec3.getNode().setTranslateX(rec2.getNode().getTranslateX()+30);\n              }\n              if(rec4.getNode().getTranslateX() &lt; -225){\n                  rec4.getNode().setTranslateX(rec3.getNode().getTranslateX()+30);\n              }\n              \n              if(ball.getNode().getBoundsInParent().intersects(rec.getNode().getBoundsInParent())){\n            \n                    ball.setVelocity(0, 0);     \n        }\n              if(ball.getNode().getBoundsInParent().intersects(rec2.getNode().getBoundsInParent())){\n            \n                    ball.setVelocity(0, 0);     \n        }\n              if(ball.getNode().getBoundsInParent().intersects(rec3.getNode().getBoundsInParent())){\n            \n                    ball.setVelocity(0, 0);     \n        }\n              if(ball.getNode().getBoundsInParent().intersects(rec4.getNode().getBoundsInParent())){\n            \n                    ball.setVelocity(0, 0);     \n        }\n              if(ball.getNode().getBoundsInParent().intersects(c.getNode().getBoundsInParent())){\n            \n                    ball.setVelocity(0, 0);     \n        }\n              if(ball.getNode().getBoundsInParent().intersects(c2.getNode().getBoundsInParent())){\n            \n                    ball.setVelocity(0, 0);     \n        }\n              if(ball.getNode().getBoundsInParent().intersects(c3.getNode().getBoundsInParent())){\n            \n                    ball.setVelocity(0, 0);     \n        }\n              \n              \n              \n          }//end of handle\n      };\n      \n      scene.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() \n        {\n            @Override\n            public void handle(KeyEvent event)\n            {\n                Command movement = keyCommands.get(event.getCode());\n                if (movement != null){\n                    movement.execute(player);\n                }\n                Command shoot = keyCommandsBall.get(event.getCode());\n                if (shoot != null){\n                    shoot.execute(ball);\n                }\n                \n            }\n        });\n      \n      scene.setOnKeyReleased(new EventHandler&lt;KeyEvent&gt;()\n        {\n            @Override\n            public void handle(KeyEvent event)\n            {\n                Command movement = keyCommands2.get(event.getCode());\n                Command stop = stopMoving;\n                if (movement == null){\n                    stop.execute(player);\n                }\n                \n            }\n            \n        });\n      \n      \n      \n      \n      \n      animation.start();\n        stage.show();\n    }\n    \n    \n    \n    \n}\n</code></pre>\n<blockquote>\n<p>This is my Sprite class</p>\n</blockquote>\n<pre><code>package videogameclass;\nimport javafx.scene.Node;\n/**\n *\n * @author \n */\npublic class Sprite {\n    \n    private final Node node;\n    private double dx, dy;\n    \n    public Sprite(Node node){\n        this.node = node;\n    }\n    public Node getNode(){\n        return node;\n    }\n    public void setVelocity(double dx, double dy){\n        this.dx = dx;\n        this.dy = dy;\n    }\n    public double getVelocityX(){\n        return dx;\n    }\n    public double getVelocityY(){\n        return dy;\n    }\n    public void update(){\n        this.node.setTranslateX(this.node.getTranslateX()+dx);\n        this.node.setTranslateY(this.node.getTranslateY()+dy);\n    }\n}\n</code></pre>\n<blockquote>\n<p>This is my Command method</p>\n</blockquote>\n<pre><code>package videogameclass;\n\n\npublic interface Command\n{\n    public void execute(Sprite sprite);\n    \n}\n</code></pre>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":14617388,"reputation":376,"user_id":10557120,"display_name":"javimovi"},"score":0,"creation_date":1542895745,"post_id":53432677,"comment_id":93739209,"body_markdown":"In test method, comment the line where the `createB()` function is executed","body":"In test method, comment the line where the <code>createB()</code> function is executed"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1542895961,"post_id":53432677,"comment_id":93739328,"body_markdown":"It seems you&#39;re asking how to use Mockito. Have you read its documentation? It&#39;s quite easy and pleasant to read. And you&#39;ll learn a lot of stuff. https://static.javadoc.io/org.mockito/mockito-core/2.23.4/org/mockito/Mockito.html. If you actually want an answer, then post code.","body":"It seems you&#39;re asking how to use Mockito. Have you read its documentation? It&#39;s quite easy and pleasant to read. And you&#39;ll learn a lot of stuff. <a href=\"https://static.javadoc.io/org.mockito/mockito-core/2.23.4/org/mockito/Mockito.html\" rel=\"nofollow noreferrer\">static.javadoc.io/org.mockito/mockito-core/2.23.4/org/mockit&zwnj;&#8203;o/&hellip;</a>. If you actually want an answer, then post code."},{"owner":{"account_id":6383695,"reputation":5206,"user_id":4952262,"accept_rate":71,"display_name":"Michu93"},"score":0,"creation_date":1542895974,"post_id":53432677,"comment_id":93739339,"body_markdown":"@javimovi `createB` is not even called in test method. Just `reserveA` is called and inside this `createB` is called.","body":"@javimovi <code>createB</code> is not even called in test method. Just <code>reserveA</code> is called and inside this <code>createB</code> is called."}],"answers":[{"tags":[],"owner":{"account_id":2003863,"reputation":531,"user_id":1794261,"accept_rate":100,"display_name":"Naan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1665570820,"creation_date":1542917220,"answer_id":53437472,"question_id":53432677,"body_markdown":"doNothing() is reserved only for void methods. \r\nIf your method returns something, then you are required to do as well (or throw exception).\r\nDepending on complexity of your `Account.reserveString()`, you may need to mock some more than just this one method call if result is used somewhere else.\r\n\r\nTrying to use `doNothing()` on non-void method results in error:\r\n\r\n    org.mockito.exceptions.base.MockitoException: \r\n    Only void methods can doNothing()!\r\n    Example of correct use of doNothing():\r\n        doNothing().\r\n        doThrow(new RuntimeException())\r\n        .when(mock).someVoidMethod();\r\n    Above means:\r\n    someVoidMethod() does nothing the 1st time but throws an exception the 2nd time is called\r\n\r\n\r\nConsider such classes:\r\n\r\n    @Component\r\n    public class BankDao {\r\n        public BankDao() {}\r\n\r\n        public void createVoid() {\r\n            System.out.println(&quot;sth - 1&quot;);\r\n        }\r\n    \r\n        public String createString(){\r\n            return &quot;sth - 2&quot;;\r\n        }\r\n    }\r\n\r\n    @Service\r\n    public class Account {\r\n        @Autowired\r\n        private final BankDao DAO;\r\n\r\n        public Account(BankDao dao) {\r\n            this.DAO = dao;\r\n        }\r\n        public void reserveVoid() {\r\n            System.out.println(&quot;before&quot;);\r\n            DAO.createVoid();\r\n            System.out.println(&quot;after&quot;);\r\n        }\r\n        public void reserveString() {\r\n            System.out.println(DAO.createString());\r\n        }\r\n    }\r\n\r\nFor which Test class is made:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class AccountTest {\r\n        @Mock\r\n        private BankDao bankDao;\r\n    \r\n        @InjectMocks\r\n        private Account account;\r\n    \r\n        @Test\r\n        public void reserveVoid_mockBankDaoAndDontUseRealMethod() {\r\n            doNothing().when(bankDao).createVoid();\r\n            account.reserveVoid();\r\n        }\r\n    \r\n        @Test\r\n        public void reserveString_mockBankDaoAndDontUseRealMethod() {\r\n            when(bankDao.createString()).thenReturn(&quot;nothing&quot;);\r\n            account.reserveString();\r\n        }\r\n    }\r\n\r\nRunning such a test will produce:\r\n\r\n    nothing\r\n    before\r\n    after\r\n\r\n\r\nIf you change @Mock to @Spy and remove lines with doNothing() and when(), then you&#39;ll be calling original methods. Result would be:\r\n\r\n    sth - 2\r\n    before\r\n    sth - 1\r\n    after\r\n","title":"Ignoring not void method inside testing method in Mockito","body":"<p>doNothing() is reserved only for void methods.\nIf your method returns something, then you are required to do as well (or throw exception).\nDepending on complexity of your <code>Account.reserveString()</code>, you may need to mock some more than just this one method call if result is used somewhere else.</p>\n<p>Trying to use <code>doNothing()</code> on non-void method results in error:</p>\n<pre><code>org.mockito.exceptions.base.MockitoException: \nOnly void methods can doNothing()!\nExample of correct use of doNothing():\n    doNothing().\n    doThrow(new RuntimeException())\n    .when(mock).someVoidMethod();\nAbove means:\nsomeVoidMethod() does nothing the 1st time but throws an exception the 2nd time is called\n</code></pre>\n<p>Consider such classes:</p>\n<pre><code>@Component\npublic class BankDao {\n    public BankDao() {}\n\n    public void createVoid() {\n        System.out.println(&quot;sth - 1&quot;);\n    }\n\n    public String createString(){\n        return &quot;sth - 2&quot;;\n    }\n}\n\n@Service\npublic class Account {\n    @Autowired\n    private final BankDao DAO;\n\n    public Account(BankDao dao) {\n        this.DAO = dao;\n    }\n    public void reserveVoid() {\n        System.out.println(&quot;before&quot;);\n        DAO.createVoid();\n        System.out.println(&quot;after&quot;);\n    }\n    public void reserveString() {\n        System.out.println(DAO.createString());\n    }\n}\n</code></pre>\n<p>For which Test class is made:</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class AccountTest {\n    @Mock\n    private BankDao bankDao;\n\n    @InjectMocks\n    private Account account;\n\n    @Test\n    public void reserveVoid_mockBankDaoAndDontUseRealMethod() {\n        doNothing().when(bankDao).createVoid();\n        account.reserveVoid();\n    }\n\n    @Test\n    public void reserveString_mockBankDaoAndDontUseRealMethod() {\n        when(bankDao.createString()).thenReturn(&quot;nothing&quot;);\n        account.reserveString();\n    }\n}\n</code></pre>\n<p>Running such a test will produce:</p>\n<pre><code>nothing\nbefore\nafter\n</code></pre>\n<p>If you change @Mock to @Spy and remove lines with doNothing() and when(), then you'll be calling original methods. Result would be:</p>\n<pre><code>sth - 2\nbefore\nsth - 1\nafter\n</code></pre>\n"}],"owner":{"account_id":6383695,"reputation":5206,"user_id":4952262,"accept_rate":71,"display_name":"Michu93"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53437472,"answer_count":1,"score":1,"last_activity_date":1665570820,"creation_date":1542895385,"question_id":53432677,"body_markdown":"In class Account I have a method `public Account reserveA()` which I want to test, inside `reserveA` is called a method `public Bank DAO.createB()`. Is there a way to call `reserveA()` in test method but ignore call `DAO.createB()`? Non of these methods are void.\r\nI tried:\r\n\r\n    doNothing().when(Account).reserveA(param1, param2);\r\n\r\nbut it&#39;s not the proper way.","title":"Ignoring not void method inside testing method in Mockito","body":"<p>In class Account I have a method <code>public Account reserveA()</code> which I want to test, inside <code>reserveA</code> is called a method <code>public Bank DAO.createB()</code>. Is there a way to call <code>reserveA()</code> in test method but ignore call <code>DAO.createB()</code>? Non of these methods are void.\nI tried:</p>\n\n<pre><code>doNothing().when(Account).reserveA(param1, param2);\n</code></pre>\n\n<p>but it's not the proper way.</p>\n"},{"tags":["java","android","gps"],"comments":[{"owner":{"account_id":1005212,"reputation":28558,"user_id":1019167,"accept_rate":92,"display_name":"AlexWien"},"score":0,"creation_date":1381783603,"post_id":19368818,"comment_id":28701943,"body_markdown":"Think again of your 3rd condition. raise it to 60s. 30s often works only with AGPS using internet.","body":"Think again of your 3rd condition. raise it to 60s. 30s often works only with AGPS using internet."}],"answers":[{"tags":[],"owner":{"account_id":1384064,"reputation":11115,"user_id":1316462,"display_name":"Jans"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1665570255,"creation_date":1381783125,"answer_id":19368889,"question_id":19368818,"body_markdown":"Just using this code, you can check `GPS` availability:\r\n\r\n    LocationManager mlocManager = (LocationManager) context.getSystemService(Context.LOCATION_SERVICE);;\r\n\tboolean enabled = mlocManager.isProviderEnabled(LocationManager.GPS_PROVIDER);","title":"How can I check if GPS is enabled before I try to use it","body":"<p>Just using this code, you can check <code>GPS</code> availability:</p>\n<pre><code>LocationManager mlocManager = (LocationManager) context.getSystemService(Context.LOCATION_SERVICE);;\nboolean enabled = mlocManager.isProviderEnabled(LocationManager.GPS_PROVIDER);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2226460,"reputation":13677,"user_id":1965099,"accept_rate":83,"display_name":"Martin Cazares"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1665570424,"creation_date":1381783152,"answer_id":19368898,"question_id":19368818,"body_markdown":"There&#39;s no standard way to do this, you have to do it on your own with the help of:\r\n\r\n    if (locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER)) {\r\n        //Do what you need if enabled...\r\n    } else {\r\n        //Do what you need if not enabled...\r\n    }\r\n\r\nAnd this permission in manifest:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\r\n\r\nAs recommendation if GPS is not enabled, usually the standard specifies to popup the Location Settings Activity so the user can specifically enable it...\r\n\r\nHope this helps.\r\n\r\nRegards!","title":"How can I check if GPS is enabled before I try to use it","body":"<p>There's no standard way to do this, you have to do it on your own with the help of:</p>\n<pre><code>if (locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER)) {\n    //Do what you need if enabled...\n} else {\n    //Do what you need if not enabled...\n}\n</code></pre>\n<p>And this permission in manifest:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\n</code></pre>\n<p>As recommendation if GPS is not enabled, usually the standard specifies to popup the Location Settings Activity so the user can specifically enable it...</p>\n<p>Hope this helps.</p>\n<p>Regards!</p>\n"},{"tags":[],"owner":{"account_id":1626069,"reputation":7110,"user_id":1501613,"accept_rate":100,"display_name":"cYrixmorten"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1381783336,"creation_date":1381783336,"answer_id":19368953,"question_id":19368818,"body_markdown":"Think you could use the code in my answer to: [https://stackoverflow.com/questions/19365035/location-servise-gps-force-closed/19366773#19366773][1]\r\n\r\nIt gives you a callback method for GPS first fix and location changes that can be very convenient. This also makes it easy to change the implementation of GPSTracker to switch to network if GPS takes too long to get a first fix.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19365035/location-servise-gps-force-closed/19366773#19366773","title":"How can I check if GPS is enabled before I try to use it","body":"<p>Think you could use the code in my answer to: <a href=\"https://stackoverflow.com/questions/19365035/location-servise-gps-force-closed/19366773#19366773\">Location servise GPS Force closed</a></p>\n\n<p>It gives you a callback method for GPS first fix and location changes that can be very convenient. This also makes it easy to change the implementation of GPSTracker to switch to network if GPS takes too long to get a first fix.</p>\n"}],"owner":{"account_id":246829,"reputation":21647,"user_id":521180,"accept_rate":56,"display_name":"124697"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28261,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":3,"score":12,"last_activity_date":1665570424,"creation_date":1381782850,"question_id":19368818,"body_markdown":"I have the following code and it&#39;s not good because sometimes GPS takes very long\r\n\r\nHow can I do the following:\r\n\r\n1. Check if GPS is enabled\r\n2. Use GPS if it is enabled otherwise use the network provider.\r\n3. If GPS takes more than 30 seconds, use network.\r\n\r\nI can do this with my own logic using a time or Thread.sleep but I think there might be a more stabndard way\r\n\r\n\t// Acquire a reference to the system Location Manager\r\n\tLocationManager locationManager = (LocationManager) this.getSystemService(Context.LOCATION_SERVICE);\r\n\r\n\t// Define a listener that responds to location updates\r\n\tLocationListener locationListener = new LocationListener() {\r\n\t\tpublic void onLocationChanged(Location location) {\r\n\t\t  // Called when a new location is found by the network location provider.\r\n\t\t\tlocationCallback(location);\r\n\t\t}\r\n\r\n\t\tpublic void onStatusChanged(String provider, int status, Bundle extras) {}\r\n\r\n\t\tpublic void onProviderEnabled(String provider) {}\r\n\r\n\t\tpublic void onProviderDisabled(String provider) {}\r\n\t  };\r\n\r\n\t// Register the listener with the Location Manager to receive location updates\r\n\tlocationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, locationListener);","title":"How can I check if GPS is enabled before I try to use it","body":"<p>I have the following code and it's not good because sometimes GPS takes very long</p>\n<p>How can I do the following:</p>\n<ol>\n<li>Check if GPS is enabled</li>\n<li>Use GPS if it is enabled otherwise use the network provider.</li>\n<li>If GPS takes more than 30 seconds, use network.</li>\n</ol>\n<p>I can do this with my own logic using a time or Thread.sleep but I think there might be a more stabndard way</p>\n<pre><code>// Acquire a reference to the system Location Manager\nLocationManager locationManager = (LocationManager) this.getSystemService(Context.LOCATION_SERVICE);\n\n// Define a listener that responds to location updates\nLocationListener locationListener = new LocationListener() {\n    public void onLocationChanged(Location location) {\n      // Called when a new location is found by the network location provider.\n        locationCallback(location);\n    }\n\n    public void onStatusChanged(String provider, int status, Bundle extras) {}\n\n    public void onProviderEnabled(String provider) {}\n\n    public void onProviderDisabled(String provider) {}\n  };\n\n// Register the listener with the Location Manager to receive location updates\nlocationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, locationListener);\n</code></pre>\n"},{"tags":["java","mariadb","eclipselink","database-migration","mariadb-10.5"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1665502048,"post_id":74030284,"comment_id":130713125,"body_markdown":"What is the database platform EclipseLink is using? If you don&#39;t know, turn on logging to fine/finest and it should show when it deploys/logs in. This level of logging might also show what it determines is set on your entity and why it isn&#39;t trying to pre-allocate a value from your sequence; first guess though is that you are not using the MariaDBPlatform and instead using a MySQLPlatform. Maria&#39;s main difference (I&#39;ve been told) is it supports sequences while MySQL only had identity, which might explain there not being an attempt to read a sequence value.","body":"What is the database platform EclipseLink is using? If you don&#39;t know, turn on logging to fine/finest and it should show when it deploys/logs in. This level of logging might also show what it determines is set on your entity and why it isn&#39;t trying to pre-allocate a value from your sequence; first guess though is that you are not using the MariaDBPlatform and instead using a MySQLPlatform. Maria&#39;s main difference (I&#39;ve been told) is it supports sequences while MySQL only had identity, which might explain there not being an attempt to read a sequence value."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1665502396,"post_id":74030284,"comment_id":130713227,"body_markdown":"You can specify the platform using the target-database persistence property (https://www.eclipse.org/eclipselink/documentation/2.5/jpa/extensions/p_target_database.htm ) and specify MariaDB , though I&#39;m not sure what version it was added in.","body":"You can specify the platform using the target-database persistence property (<a href=\"https://www.eclipse.org/eclipselink/documentation/2.5/jpa/extensions/p_target_database.htm\" rel=\"nofollow noreferrer\">eclipse.org/eclipselink/documentation/2.5/jpa/extensions/&hellip;</a> ) and specify MariaDB , though I&#39;m not sure what version it was added in."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1665571251,"post_id":74030284,"comment_id":130730395,"body_markdown":"GeneratedValue.generator should refer to sequence generator(!) name! (So `com_test_sample` in your case)","body":"GeneratedValue.generator should refer to sequence generator(!) name! (So <code>com_test_sample</code> in your case)"},{"owner":{"account_id":20128489,"reputation":1,"user_id":14761350,"display_name":"Arun"},"score":0,"creation_date":1665594291,"post_id":74030284,"comment_id":130739505,"body_markdown":"Chris, we are using &lt;property name=&quot;eclipselink.target-database&quot; value=&quot;Mysql&quot;/&gt; do u suggest to use mariadb instead of mysql ?","body":"Chris, we are using &lt;property name=&quot;eclipselink.target-database&quot; value=&quot;Mysql&quot;/&gt; do u suggest to use mariadb instead of mysql ?"},{"owner":{"account_id":20128489,"reputation":1,"user_id":14761350,"display_name":"Arun"},"score":0,"creation_date":1665594487,"post_id":74030284,"comment_id":130739568,"body_markdown":"@ xerx593, yes I have tried using the same generator name. \n@Column(name = &quot;ID&quot;)\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;com_test_sample &quot;)\n@SequenceGenerator(name = &quot;com_test_sample &quot;, sequenceName = &quot;com_seq&quot;, allocationSize=1)","body":"@ xerx593, yes I have tried using the same generator name.  @Column(name = &quot;ID&quot;) @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;com_test_sample &quot;) @SequenceGenerator(name = &quot;com_test_sample &quot;, sequenceName = &quot;com_seq&quot;, allocationSize=1)"},{"owner":{"account_id":20128489,"reputation":1,"user_id":14761350,"display_name":"Arun"},"score":0,"creation_date":1665594929,"post_id":74030284,"comment_id":130739710,"body_markdown":"Today I have tested with GenerationType.SEQUENCE, GenerationType.AUTO, GenerationType.Table, GenerationType.Identity.\nFor,\nGenerationType.SEQUENCE  -- field id does not have a default value.","body":"Today I have tested with GenerationType.SEQUENCE, GenerationType.AUTO, GenerationType.Table, GenerationType.Identity. For, GenerationType.SEQUENCE  -- field id does not have a default value."},{"owner":{"account_id":20128489,"reputation":1,"user_id":14761350,"display_name":"Arun"},"score":0,"creation_date":1665595500,"post_id":74030284,"comment_id":130739868,"body_markdown":"Includes seqeuncegenerator line as below\n\n@Column(name = &quot;ID&quot;)\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;com_seq&quot;)\n@SequenceGenerator(name = &quot;com_test_sample &quot;, sequenceName = &quot;com_seq&quot;, allocationSize=1)\n---------------------\n\nFor GenerationType.Auto, GenerationType.table -- commented sequencegenerator line as below\n\n@Column(name = &quot;ID&quot;)\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;com_seq&quot;)\n#@SequenceGenerator(name = &quot;com_test_sample &quot;, sequenceName = &quot;com_seq&quot;, allocationSize=1)","body":"Includes seqeuncegenerator line as below  @Column(name = &quot;ID&quot;) @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;com_seq&quot;) @SequenceGenerator(name = &quot;com_test_sample &quot;, sequenceName = &quot;com_seq&quot;, allocationSize=1) ---------------------  For GenerationType.Auto, GenerationType.table -- commented sequencegenerator line as below  @Column(name = &quot;ID&quot;) @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;com_seq&quot;) #@SequenceGenerator(name = &quot;com_test_sample &quot;, sequenceName = &quot;com_seq&quot;, allocationSize=1)"},{"owner":{"account_id":20128489,"reputation":1,"user_id":14761350,"display_name":"Arun"},"score":0,"creation_date":1665595505,"post_id":74030284,"comment_id":130739869,"body_markdown":"received error as \n\nInternal Exception: java.sql.SQLSyntaxErrorException: (conn=4344) Table &#39;dbname.sequence&#39; doesn&#39;t exist\nError Code: 1146\nCall: UPDATE SEQUENCE SET SEQ_COUNT = SEQ_COUNT + ? WHERE SEQ_NAME = ?\n        bind =&gt; [50, SEQ_GEN_TABLE]\nQuery: DataModifyQuery(name=&quot;SEQ_GEN_TABLE&quot; sql=&quot;UPDATE SEQUENCE SET SEQ_COUNT = SEQ_COUNT + ? WHERE SEQ_NAME = ?&quot;)\njavax.faces.FacesException: #{complaintEditView.createComplaint()}: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.6.4.v20160829-44060b6): org.eclipse.persistence.exceptions.DatabaseExceptio","body":"received error as   Internal Exception: java.sql.SQLSyntaxErrorException: (conn=4344) Table &#39;dbname.sequence&#39; doesn&#39;t exist Error Code: 1146 Call: UPDATE SEQUENCE SET SEQ_COUNT = SEQ_COUNT + ? WHERE SEQ_NAME = ?         bind =&gt; [50, SEQ_GEN_TABLE] Query: DataModifyQuery(name=&quot;SEQ_GEN_TABLE&quot; sql=&quot;UPDATE SEQUENCE SET SEQ_COUNT = SEQ_COUNT + ? WHERE SEQ_NAME = ?&quot;) javax.faces.FacesException: #{complaintEditView.createComplaint()}: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.6.4.v20160829-44060b6): org.eclipse.persistence.exceptions.DatabaseExceptio"},{"owner":{"account_id":20128489,"reputation":1,"user_id":14761350,"display_name":"Arun"},"score":0,"creation_date":1665596048,"post_id":74030284,"comment_id":130740048,"body_markdown":"As we got Table &#39;dbname.sequence&#39; doesn&#39;t exist  error: we created the table and started the server. but received the below mentioned error.\n\nCREATE TABLE ddname.`SEQUENCE` (\n\tSEQ_NAME VARCHAR(50),\n\tSEQ_COUNT DECIMAL(38,0),\n\tCONSTRAINT PK_SEQUENCE PRIMARY KEY (SEQ_NAME),\n\tCONSTRAINT SYS_C0087791 CHECK (&quot;SEQ_NAME&quot; IS NOT NULL)\n);\nCREATE UNIQUE INDEX PK_SEQUENCE ON A4PCCT.`SEQUENCE` (SEQ_NAME);","body":"As we got Table &#39;dbname.sequence&#39; doesn&#39;t exist  error: we created the table and started the server. but received the below mentioned error.  CREATE TABLE ddname.<code>SEQUENCE</code> ( \tSEQ_NAME VARCHAR(50), \tSEQ_COUNT DECIMAL(38,0), \tCONSTRAINT PK_SEQUENCE PRIMARY KEY (SEQ_NAME), \tCONSTRAINT SYS_C0087791 CHECK (&quot;SEQ_NAME&quot; IS NOT NULL) ); CREATE UNIQUE INDEX PK_SEQUENCE ON A4PCCT.<code>SEQUENCE</code> (SEQ_NAME);"},{"owner":{"account_id":20128489,"reputation":1,"user_id":14761350,"display_name":"Arun"},"score":0,"creation_date":1665596071,"post_id":74030284,"comment_id":130740053,"body_markdown":"WARNING [http-nio-8080-exec-2] com.sun.faces.lifecycle.InvokeApplicationPhase.execute #{complaintEditView.createComplaint()}: Exception [EclipseLink-4011] (Eclipse Persistence Services - 2.6.4.v20160829-44060b6): org.eclipse.persistence.exceptions.DatabaseException\nException Description: Error preallocating sequence numbers.  The sequence table information is not complete.","body":"WARNING [http-nio-8080-exec-2] com.sun.faces.lifecycle.InvokeApplicationPhase.execute #{complaintEditView.createComplaint()}: Exception [EclipseLink-4011] (Eclipse Persistence Services - 2.6.4.v20160829-44060b6): org.eclipse.persistence.exceptions.DatabaseException Exception Description: Error preallocating sequence numbers.  The sequence table information is not complete."},{"owner":{"account_id":20128489,"reputation":1,"user_id":14761350,"display_name":"Arun"},"score":0,"creation_date":1665596074,"post_id":74030284,"comment_id":130740056,"body_markdown":"javax.faces.FacesException: #{complaintEditView.createComplaint()}: Exception [EclipseLink-4011] (Eclipse Persistence Services - 2.6.4.v20160829-44060b6): org.eclipse.persistence.exceptions.DatabaseException\nException Description: Error preallocating sequence numbers.  The sequence table information is not complete.","body":"javax.faces.FacesException: #{complaintEditView.createComplaint()}: Exception [EclipseLink-4011] (Eclipse Persistence Services - 2.6.4.v20160829-44060b6): org.eclipse.persistence.exceptions.DatabaseException Exception Description: Error preallocating sequence numbers.  The sequence table information is not complete."},{"owner":{"account_id":20128489,"reputation":1,"user_id":14761350,"display_name":"Arun"},"score":0,"creation_date":1665596305,"post_id":74030284,"comment_id":130740119,"body_markdown":"We would like to know, whether eclipse link supports for maria db 10.5 RDS (aws) in the perspective of generating a sequence through database sequence object ?","body":"We would like to know, whether eclipse link supports for maria db 10.5 RDS (aws) in the perspective of generating a sequence through database sequence object ?"}],"owner":{"account_id":20128489,"reputation":1,"user_id":14761350,"display_name":"Arun"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665570383,"creation_date":1665500665,"question_id":74030284,"body_markdown":"The below code for Java works fine in Oracle-eclipselink-java, as we migrated the same to mariadb, we are facing the issue stated below. \r\n\r\nDb sequence:\r\n------------\r\n```sql \r\nCREATE OR REPLACE SEQUENCE `com_seq` start with 370700 minvalue 1 maxvalue\r\n9223372036854775806 increment by 1 cache 20 nocycle ENGINE=InnoDB\r\n```\r\n\r\nJava code/Entity class:\r\n-----------------------\r\n```java\r\n@Column(name = &quot;ID&quot;)\r\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;com_seq&quot;)\r\n@SequenceGenerator(name = &quot;com_test_sample &quot;, sequenceName = &quot;com_seq&quot;, allocationSize=1)\r\n\r\nprivate Integer id;\r\n```\r\n\r\nNote: `Strategy = sequence` or `GenerationType.SEQUENCE` (tried with both).\r\n\r\nWhen we try with above coding and it&#39;s defined values we are getting below error:\r\n\r\n```\r\nField &#39;ID&#39; doesn&#39;t have a default value\r\nError Code: 1364\r\nCall: INSERT INTO com_test_sample (ACTION, COMPLAINT_ID, TEXT_PARAMS, CREATE_TIMESTAMP, DELETE_REMARK, OVV_STATUS, PREV_OVV_STATUS, REMARK, VALUE, PERSON_ID, SUB_PERSON_ID) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n        bind =&gt; [DRAFT_STATUS_SET, 370703, null, 2022-10-11 19:37:38.22, null, DRAFT, null, null, null, 25071, 25071]\r\nQuery: InsertObjectQuery(de.wirthedv.OVV.complaintjournal.domain.ComplaintJournal@1f)\r\n```","title":"How to use @SequenceGenerator annotation through eclipselink to get the sequence next/last value from Maria db database sequence object","body":"<p>The below code for Java works fine in Oracle-eclipselink-java, as we migrated the same to mariadb, we are facing the issue stated below.</p>\n<h2>Db sequence:</h2>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE OR REPLACE SEQUENCE `com_seq` start with 370700 minvalue 1 maxvalue\n9223372036854775806 increment by 1 cache 20 nocycle ENGINE=InnoDB\n</code></pre>\n<h2>Java code/Entity class:</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@Column(name = &quot;ID&quot;)\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;com_seq&quot;)\n@SequenceGenerator(name = &quot;com_test_sample &quot;, sequenceName = &quot;com_seq&quot;, allocationSize=1)\n\nprivate Integer id;\n</code></pre>\n<p>Note: <code>Strategy = sequence</code> or <code>GenerationType.SEQUENCE</code> (tried with both).</p>\n<p>When we try with above coding and it's defined values we are getting below error:</p>\n<pre><code>Field 'ID' doesn't have a default value\nError Code: 1364\nCall: INSERT INTO com_test_sample (ACTION, COMPLAINT_ID, TEXT_PARAMS, CREATE_TIMESTAMP, DELETE_REMARK, OVV_STATUS, PREV_OVV_STATUS, REMARK, VALUE, PERSON_ID, SUB_PERSON_ID) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n        bind =&gt; [DRAFT_STATUS_SET, 370703, null, 2022-10-11 19:37:38.22, null, DRAFT, null, null, null, 25071, 25071]\nQuery: InsertObjectQuery(de.wirthedv.OVV.complaintjournal.domain.ComplaintJournal@1f)\n</code></pre>\n"},{"tags":["java","android","audio","signal-processing","audiotrack"],"comments":[{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":1,"creation_date":1550852440,"post_id":54830378,"comment_id":96437201,"body_markdown":"The documentation for `AudioTrack.write` states that _&quot;If the write mode is `WRITE_BLOCKING`, the write will normally block until all the data **has been enqueued** for playback&quot;_. That doesn&#39;t mean that actual playback of that data has started yet. It may be sitting in a buffer waiting to be processed by the mixer.","body":"The documentation for <code>AudioTrack.write</code> states that <i>&quot;If the write mode is <code>WRITE_BLOCKING</code>, the write will normally block until all the data <b>has been enqueued</b> for playback&quot;</i>. That doesn&#39;t mean that actual playback of that data has started yet. It may be sitting in a buffer waiting to be processed by the mixer."},{"owner":{"account_id":4037842,"reputation":1821,"user_id":3321579,"accept_rate":62,"display_name":"Scorb"},"score":0,"creation_date":1550854541,"post_id":54830378,"comment_id":96438377,"body_markdown":"In the WRITE_BLOCKING description is uses the word &quot;written&quot; in place of &quot;enqueued&quot;. These multiple terms are sort of confusing me as to what is actually happening under the hood.","body":"In the WRITE_BLOCKING description is uses the word &quot;written&quot; in place of &quot;enqueued&quot;. These multiple terms are sort of confusing me as to what is actually happening under the hood."},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":1,"creation_date":1550857748,"post_id":54830378,"comment_id":96439936,"body_markdown":"Well, Android is open source in case you want to investigate it further. For example, you can google _&quot;android googlesource AudioTrack.java&quot;_ and _&quot;android googlesource AudioTrack.cpp&quot;_.","body":"Well, Android is open source in case you want to investigate it further. For example, you can google <i>&quot;android googlesource AudioTrack.java&quot;</i> and <i>&quot;android googlesource AudioTrack.cpp&quot;</i>."},{"owner":{"account_id":4037842,"reputation":1821,"user_id":3321579,"accept_rate":62,"display_name":"Scorb"},"score":0,"creation_date":1550859410,"post_id":54830378,"comment_id":96440728,"body_markdown":"ya that is an ultimate option.","body":"ya that is an ultimate option."}],"answers":[{"tags":[],"owner":{"account_id":9078600,"reputation":4924,"user_id":6759241,"display_name":"greeble31"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1550866786,"creation_date":1550866786,"answer_id":54834603,"question_id":54830378,"body_markdown":"As @Michael mentioned, it blocks until the data has been enqueued. This is the same meaning as in the description for `WRITE_BLOCKING`; it blocks until the data has been _written_ to the internal buffer (the one for which you specified the size, during construction).\r\n\r\n`write( ..., 2048, WRITE_BLOCKING )` will block for approximately 2048 * (1000.0 / 44100) seconds, if the buffer is already full (data hasn&#39;t been played yet). If `write()` does block for any length of time, once it returns, you can be reasonably sure the internal buffer is maximally filled. In the absence of any further `write()s`, the `AudioTrack` will continue to supply the mixer with audio output, until the internal buffer is exhausted.\r\n\r\nThis design (internal buffer) is supposed to help you avoid buffer underruns. The bigger your buffer is, the longer you can go without a `write()`.","title":"AudioTrack WRITE_BLOCKING vs WRITE_NON_BLOCKING","body":"<p>As @Michael mentioned, it blocks until the data has been enqueued. This is the same meaning as in the description for <code>WRITE_BLOCKING</code>; it blocks until the data has been <em>written</em> to the internal buffer (the one for which you specified the size, during construction).</p>\n\n<p><code>write( ..., 2048, WRITE_BLOCKING )</code> will block for approximately 2048 * (1000.0 / 44100) seconds, if the buffer is already full (data hasn't been played yet). If <code>write()</code> does block for any length of time, once it returns, you can be reasonably sure the internal buffer is maximally filled. In the absence of any further <code>write()s</code>, the <code>AudioTrack</code> will continue to supply the mixer with audio output, until the internal buffer is exhausted.</p>\n\n<p>This design (internal buffer) is supposed to help you avoid buffer underruns. The bigger your buffer is, the longer you can go without a <code>write()</code>.</p>\n"}],"owner":{"account_id":4037842,"reputation":1821,"user_id":3321579,"accept_rate":62,"display_name":"Scorb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1429,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":54834603,"answer_count":1,"score":1,"last_activity_date":1665570367,"creation_date":1550849584,"question_id":54830378,"body_markdown":"I am trying to figure out exactly how Android AudioTrack works. One point of confusion for me is the write mode.\r\n\r\nThe [documentation for the write() method][1] indicates that you can pass either a write mode [WRITE_BLOCKING or WRITE_NON_BLOCKING][2].\r\n\r\nBased on the descriptions, does WRITE_BLOCKING block until all data has been played? So for example, if I have a buffer of mono audio at 44100 of size 2048 samples, calling write with WRITE_BLOCKING will block for 2048 * (1000.0 / 44100) milliseconds? Does this not mean that as soon as the write is complete, that you are immediately in a buffer underrun scenario?\r\n\r\n  [1]: https://developer.android.com/reference/android/media/AudioTrack#write(float[],%20int,%20int,%20int)\r\n  [2]: https://developer.android.com/reference/android/media/AudioTrack.html#WRITE_BLOCKING","title":"AudioTrack WRITE_BLOCKING vs WRITE_NON_BLOCKING","body":"<p>I am trying to figure out exactly how Android AudioTrack works. One point of confusion for me is the write mode.</p>\n\n<p>The <a href=\"https://developer.android.com/reference/android/media/AudioTrack#write(float[],%20int,%20int,%20int)\" rel=\"nofollow noreferrer\">documentation for the write() method</a> indicates that you can pass either a write mode <a href=\"https://developer.android.com/reference/android/media/AudioTrack.html#WRITE_BLOCKING\" rel=\"nofollow noreferrer\">WRITE_BLOCKING or WRITE_NON_BLOCKING</a>.</p>\n\n<p>Based on the descriptions, does WRITE_BLOCKING block until all data has been played? So for example, if I have a buffer of mono audio at 44100 of size 2048 samples, calling write with WRITE_BLOCKING will block for 2048 * (1000.0 / 44100) milliseconds? Does this not mean that as soon as the write is complete, that you are immediately in a buffer underrun scenario?</p>\n"},{"tags":["java","servlets","netbeans"],"answers":[{"tags":[],"owner":{"account_id":22030225,"reputation":61,"user_id":16297608,"display_name":"mahsa najaei"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1650974837,"creation_date":1650974837,"answer_id":72013655,"question_id":71793156,"body_markdown":"I had the same problem and then I&#39;ve figured out that Tomcat10 supports jakarta.servlet, so replace your dependency with the following one :\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n       &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n       &lt;version&gt;5.0.0&lt;/version&gt;\r\n       &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n \r\naccording to Tomcat website: &quot;There is a significant breaking change between Tomcat 9.0.x and Tomcat 10.0.x. The Java package used by the specification APIs has changed from javax... to jakarta.... It will be necessary to recompile web applications against the new APIs.&quot;","title":"java.lang.NoClassDefFoundError: javax/servlet/http/HttpServlet netbeans in netBeans","body":"<p>I had the same problem and then I've figured out that Tomcat10 supports jakarta.servlet, so replace your dependency with the following one :</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n   &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n   &lt;version&gt;5.0.0&lt;/version&gt;\n   &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>according to Tomcat website: &quot;There is a significant breaking change between Tomcat 9.0.x and Tomcat 10.0.x. The Java package used by the specification APIs has changed from javax... to jakarta.... It will be necessary to recompile web applications against the new APIs.&quot;</p>\n"},{"tags":[],"owner":{"account_id":26552242,"reputation":1,"user_id":20181372,"display_name":"Rarely_Someone"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1665570351,"creation_date":1665121851,"answer_id":73982902,"question_id":71793156,"body_markdown":"Just remove Tomcat 10 and use Tomcat 9, because Tomcat 9 comes with javax packages and Tomcat 10 comes with jakarta packages. Your Spring MVC version is trying to use the javax package but you are providing jakarta packages by using Tomcat 10. So, remove Tomcat 10 server and use Tomcat 9.","title":"java.lang.NoClassDefFoundError: javax/servlet/http/HttpServlet netbeans in netBeans","body":"<p>Just remove Tomcat 10 and use Tomcat 9, because Tomcat 9 comes with javax packages and Tomcat 10 comes with jakarta packages. Your Spring MVC version is trying to use the javax package but you are providing jakarta packages by using Tomcat 10. So, remove Tomcat 10 server and use Tomcat 9.</p>\n"}],"owner":{"account_id":21723056,"reputation":41,"user_id":16032865,"display_name":"Imtiyaz Nandasaniya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11521,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1665570351,"creation_date":1649402709,"question_id":71793156,"body_markdown":"I&#39;m developing a servlet that get a some detail from index.jsp form when i submit servlet throws following exception. I&#39;m using NetBeans and Apache Tomcat/10.0.16.\r\n\r\n\r\n```\r\nHTTP Status 500  Internal Server Error \r\nType Exception Report\r\n\r\nMessage Error instantiating servlet class [com.authFilter.AdminServlet]\r\n\r\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n\r\nException\r\n\r\njakarta.servlet.ServletException: Error instantiating servlet class [com.authFilter.AdminServlet]\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:355)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:866)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1708)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:832)\r\nRoot Cause\r\n\r\njava.lang.NoClassDefFoundError: javax/servlet/http/HttpServlet\r\n\tjava.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tjava.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n\tjava.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:151)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2516)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:872)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1408)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1252)\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:355)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:866)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1708)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:832)\r\nRoot Cause\r\n\r\njava.lang.ClassNotFoundException: javax.servlet.http.HttpServlet\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1444)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1252)\r\n\tjava.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tjava.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n\tjava.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:151)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2516)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:872)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1408)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1252)\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:355)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:866)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1708)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:832)\r\n```\r\n\r\nHow can i sove this problem, what can i do?\r\n\r\ni add this dependency \r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\non pom.xml but its not work.\r\n\r\nI searched for its solution online but didn&#39;t find it .\r\n\r\nso help me find out solution of this error.","title":"java.lang.NoClassDefFoundError: javax/servlet/http/HttpServlet netbeans in netBeans","body":"<p>I'm developing a servlet that get a some detail from index.jsp form when i submit servlet throws following exception. I'm using NetBeans and Apache Tomcat/10.0.16.</p>\n<pre><code>HTTP Status 500  Internal Server Error \nType Exception Report\n\nMessage Error instantiating servlet class [com.authFilter.AdminServlet]\n\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\n\nException\n\njakarta.servlet.ServletException: Error instantiating servlet class [com.authFilter.AdminServlet]\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:355)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:866)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1708)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:832)\nRoot Cause\n\njava.lang.NoClassDefFoundError: javax/servlet/http/HttpServlet\n    java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\n    java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:151)\n    org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2516)\n    org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:872)\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1408)\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1252)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:355)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:866)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1708)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:832)\nRoot Cause\n\njava.lang.ClassNotFoundException: javax.servlet.http.HttpServlet\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1444)\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1252)\n    java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\n    java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:151)\n    org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2516)\n    org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:872)\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1408)\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1252)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:355)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:866)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1708)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:832)\n</code></pre>\n<p>How can i sove this problem, what can i do?</p>\n<p>i add this dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>on pom.xml but its not work.</p>\n<p>I searched for its solution online but didn't find it .</p>\n<p>so help me find out solution of this error.</p>\n"},{"tags":["java","android-studio","gradle","android-gradle-plugin","admob"],"answers":[{"tags":[],"owner":{"account_id":23733633,"reputation":742,"user_id":17752564,"display_name":"ninhnau19"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665545339,"creation_date":1665545339,"answer_id":74036192,"question_id":74034931,"body_markdown":"It&#39;s maybe conflict version between your app and admob.\r\n\r\ntry upgrade admob version :\r\n```\r\n//with appcompat &amp; material:\r\nimplementation &#39;androidx.appcompat:appcompat:1.4.2&#39;\r\nimplementation &#39;com.google.android.material:material:1.6.1&#39;\r\n\r\nimplementation &#39;com.google.android.gms:play-services-ads:21.0.0&#39;\r\nimplementation &#39;com.google.android.play:core:1.10.3&#39;\r\n```\r\n\r\nthen sync project again.\r\n\r\nIf it don&#39;t work, try add **resolutionStrategy** in gradle file:\r\n```\r\nandroid {\r\n    defaultConfig {\r\n        configurations.all {\r\n            resolutionStrategy {\r\n                force &#39;androidx.appcompat:appcompat:1.5.1&#39;\r\n                force &#39;com.google.android.material:material:1.6.1&#39;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nthen clean project and re sync","title":"Project can&#39;t compile after adding admob library","body":"<p>It's maybe conflict version between your app and admob.</p>\n<p>try upgrade admob version :</p>\n<pre><code>//with appcompat &amp; material:\nimplementation 'androidx.appcompat:appcompat:1.4.2'\nimplementation 'com.google.android.material:material:1.6.1'\n\nimplementation 'com.google.android.gms:play-services-ads:21.0.0'\nimplementation 'com.google.android.play:core:1.10.3'\n</code></pre>\n<p>then sync project again.</p>\n<p>If it don't work, try add <strong>resolutionStrategy</strong> in gradle file:</p>\n<pre><code>android {\n    defaultConfig {\n        configurations.all {\n            resolutionStrategy {\n                force 'androidx.appcompat:appcompat:1.5.1'\n                force 'com.google.android.material:material:1.6.1'\n            }\n        }\n    }\n}\n</code></pre>\n<p>then clean project and re sync</p>\n"}],"owner":{"account_id":26573410,"reputation":1,"user_id":20199272,"display_name":"Bayden Ozayd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665570349,"creation_date":1665530003,"question_id":74034931,"body_markdown":"\r\nWhen I add adomb library to my project apps stop working without showing any errurs on android studio. [See here.][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Fg2Pe.png\r\n \r\n```\r\n    plugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n```\r\n```\r\nandroid {\r\n    compileSdk 32\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.ozayd.azkar&quot;\r\n        minSdk 23\r\n        targetSdk 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n```\r\n```\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.5.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.6.1&#39;\r\n\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n}\r\n```","title":"Project can&#39;t compile after adding admob library","body":"<p>When I add adomb library to my project apps stop working without showing any errurs on android studio. <a href=\"https://i.stack.imgur.com/Fg2Pe.png\" rel=\"nofollow noreferrer\">See here.</a></p>\n<pre><code>    plugins {\n    id 'com.android.application'\n}\n</code></pre>\n<pre><code>android {\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.ozayd.azkar&quot;\n        minSdk 23\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n</code></pre>\n<pre><code>dependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.5.1'\n    implementation 'com.google.android.material:material:1.6.1'\n\n    testImplementation 'junit:junit:4.13.2'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}\n</code></pre>\n"},{"tags":["java","iso8601"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1664970632,"post_id":73959786,"comment_id":130589165,"body_markdown":"There is joda.time.PeriodFormatter and java.time.Period suggests such a text. Interesting","body":"There is joda.time.PeriodFormatter and java.time.Period suggests such a text. Interesting"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1664986495,"post_id":73959786,"comment_id":130595296,"body_markdown":"Hang a moment......","body":"Hang a moment......"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1664989899,"post_id":73959786,"comment_id":130596431,"body_markdown":"Im pretty sure the [CLDR](https://cldr.unicode.org) itself (the official repository for all localization) has tools for doing this.  When I have a chance, I hope to provide an answer illustrating their use.","body":"Im pretty sure the <a href=\"https://cldr.unicode.org\" rel=\"nofollow noreferrer\">CLDR</a> itself (the official repository for all localization) has tools for doing this.  When I have a chance, I hope to provide an answer illustrating their use."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1664994027,"post_id":73959786,"comment_id":130597764,"body_markdown":"Although this question asks whether a library is available, it is not specifically asking for that, in my opinion.  It is asking how to accomplish a particular task which doesnt have a simple solution in Java SEnamely, localized formatting of Period instances.  Voting to reopen.","body":"Although this question asks whether a library is available, it is not specifically asking for that, in my opinion.  It is asking how to accomplish a particular task which doesnt have a simple solution in Java SEnamely, localized formatting of Period instances.  Voting to reopen."}],"answers":[{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1665570232,"creation_date":1664984989,"answer_id":73963044,"question_id":73959786,"body_markdown":"Sorry twice it seems, **but i&#39;d leave this post here, that problem is a terrible fright about calender display name fields**, back in 2010 i spent a couple of days looking for the hr,min,sec displayneames until i got info from Sun Microsystems forum there were no names for some. The API doc info almost says that, just not clearly. Niether does it say anything clearly for java.time.temporal.TemporalField and java.time.temporal.ChronoField\r\n and its method getDisplayName(Locale locale)\r\nSorry(deleted other answer), I thought you meant &quot;time&quot; itself, you meant **&quot;time UNITS&quot;** that are part of java **TemporalUnit** of the Duration is a Temporal with TemporalUnit&#39;s AND do have &quot;name retrieval methods&quot; but translated, no.\r\nHowever, **java.util.Calendar also has &quot;time units&quot; AND can be instantiated with Locale and should have class fields and methods that will return &quot;time unit&quot; foreign language names**\r\n\r\n\r\nThis is a test printer class for a field that does have a display name. The commented out code prints &quot;null&quot; returned by getDisplayName()\r\n\r\n\r\n\r\n    // CalendarTest.java\r\n    public class CalendarTest{\r\n    \r\n    int[] ipt = {java.util.Calendar.DAY_OF_WEEK,java.util.Calendar.MONTH,java.util.Calendar.ERA,java.util.Calendar.AM_PM};\r\n    \r\n    public CalendarTest(){\r\n    \r\n    //java.time.LocalDateTime tm = java.time.LocalDateTime.now();   +java.util.Calendar.HOUR   DAY_OF_WEEK\r\n    \r\n    for(int sd=0;sd&lt;ipt.length;sd++){\r\n    pr(ipt[sd],&quot;fr&quot;);\r\n    }\r\n    \r\n    for(int sd1=0;sd1&lt;ipt.length;sd1++){\r\n    pr(ipt[sd1],&quot;zh&quot;);\r\n    }\r\n    \r\n    for(int sd2=0;sd2&lt;ipt.length;sd2++){\r\n    pr(ipt[sd2],&quot;ar&quot;);\r\n    }\r\n    \r\n    /*\r\n    //java.util.Date dt = cal.getTime();\r\n    System.out.println(&quot;&quot;+cal.get(java.util.Calendar.HOUR));\r\n    String fieldname = cal.getDisplayName(java.util.Calendar.HOUR_OF_DAY, java.util.Calendar.SHORT, new java.util.Locale(&quot;en&quot;));\r\n    System.out.println(fieldname);\r\n    fieldname = cal.getDisplayName(java.util.Calendar.HOUR_OF_DAY, java.util.Calendar.LONG, new java.util.Locale(&quot;en&quot;));\r\n    System.out.println(fieldname);\r\n    */\r\n    }//enconstr\r\n    \r\n    public void pr(int fieldint,String loc){\r\n    java.util.Calendar cal = java.util.Calendar.getInstance(new java.util.Locale(loc));\r\n    java.util.Map&lt;String,Integer&gt; mp = cal.getDisplayNames(fieldint , java.util.Calendar.ALL_STYLES, new java.util.Locale(loc));\r\n    if(mp.isEmpty()==true){\r\n    System.out.println(&quot;Is Empty&quot;);\r\n    }else{\r\n    System.out.println(&quot;Contains&quot;);\r\n    }\r\n    java.util.Set&lt;String&gt; st = mp.keySet();\r\n    Object[] sta = st.toArray();\r\n    for(int fs=0;fs&lt;sta.length;fs++){\r\n    System.out.println(&quot;A VALUE : &quot;+sta[fs]);\r\n    }\r\n    \r\n    }//enmeth\r\n    \r\n    public static void main(String[] args){\r\n    new CalendarTest();\r\n    }//enmain\r\n    \r\n    }//enclss\r\n    \r\n    \r\n    /* prints Special field values and in Locale but not field names\r\n    \r\n    bash-5.1$ java CalendarTest\r\n    Contains\r\n    A VALUE : dimanche\r\n    A VALUE : mercredi\r\n    A VALUE : vendredi\r\n    A VALUE : samedi\r\n    A VALUE : jeudi\r\n    A VALUE : lundi\r\n    A VALUE : mardi\r\n    A VALUE : dim.\r\n    A VALUE : jeu.\r\n    A VALUE : lun.\r\n    A VALUE : mar.\r\n    A VALUE : mer.\r\n    A VALUE : sam.\r\n    A VALUE : ven.\r\n    Contains\r\n    A VALUE : septembre\r\n    A VALUE : d&#233;cembre\r\n    A VALUE : novembre\r\n    A VALUE : f&#233;vrier\r\n    A VALUE : janvier\r\n    A VALUE : juillet\r\n    A VALUE : octobre\r\n    A VALUE : avril\r\n    A VALUE : f&#233;vr.\r\n    A VALUE : janv.\r\n    A VALUE : juil.\r\n    A VALUE : sept.\r\n    A VALUE : ao&#251;t\r\n    A VALUE : avr.\r\n    A VALUE : d&#233;c.\r\n    A VALUE : juin\r\n    A VALUE : mars\r\n    A VALUE : nov.\r\n    A VALUE : oct.\r\n    A VALUE : mai\r\n    Contains\r\n    A VALUE : ap. J.-C.\r\n    A VALUE : av. J.-C.\r\n    A VALUE : BC\r\n    A VALUE : A\r\n    A VALUE : B\r\n    Contains\r\n    A VALUE : AM\r\n    A VALUE : PM\r\n    A VALUE : a\r\n    A VALUE : p\r\n    Contains\r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    Contains\r\n    A VALUE : 10\r\n    A VALUE : 11\r\n    A VALUE : 12\r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : 10\r\n    A VALUE : 11\r\n    A VALUE : 12\r\n    A VALUE : 1\r\n    A VALUE : 2\r\n    A VALUE : 3\r\n    A VALUE : 4\r\n    A VALUE : 5\r\n    A VALUE : 6\r\n    A VALUE : 7\r\n    A VALUE : 8\r\n    A VALUE : 9\r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : 1\r\n    A VALUE : 2\r\n    A VALUE : 3\r\n    A VALUE : 4\r\n    A VALUE : 5\r\n    A VALUE : 6\r\n    A VALUE : 7\r\n    A VALUE : 8\r\n    A VALUE : 9\r\n    Contains\r\n    A VALUE : \r\n    A VALUE : AD\r\n    A VALUE : BC\r\n    A VALUE : \r\n    A VALUE : A\r\n    A VALUE : B\r\n    Contains\r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : a\r\n    A VALUE : p\r\n    Contains\r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    Contains\r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    A VALUE : \r\n    Contains\r\n    A VALUE : .\r\n    A VALUE : A\r\n    A VALUE : B\r\n    A VALUE : \r\n    Contains\r\n    A VALUE : a\r\n    A VALUE : p\r\n    A VALUE : \r\n    A VALUE : \r\n    bash-5.1$ \r\n    \r\n    \r\n    */\r\n\r\n**The below code does not operate (as OleV.V. said) because some fields do not get a SHORT or LONG display name.**\r\n\r\n    java.util.Calendar cal =  java.util.Calendar.getInstance( java.util.TimeZone.getTimeZone(&quot;Asia/Shanghai&quot;) , java.util.Locale.CHINA);\r\n    String hourof =\tcal.getDisplayName(java.util.Calendar.HOUR , java.util.Calendar.LONG , java.util.Locale.CHINA);\r\n\r\nDisplaying it in html use attribute **lang=&quot;zh**&quot; in the text rendering element tag e.g. div , input , td\r\nUTF-8 is the normal charset to use bound to a locale although for Chinese it may be UTF-16\r\n\r\nTake a look at the &quot;field summary&quot; in the API docs for java.util.Calendar.\r\n\r\nWeek, appears to be a problem but int SHORT could display simply &quot;week&quot; perhaps.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Is there an implemented way to convert ISO 8601 period to a translated string readable by humans in Java?","body":"<p>Sorry twice it seems, <strong>but i'd leave this post here, that problem is a terrible fright about calender display name fields</strong>, back in 2010 i spent a couple of days looking for the hr,min,sec displayneames until i got info from Sun Microsystems forum there were no names for some. The API doc info almost says that, just not clearly. Niether does it say anything clearly for java.time.temporal.TemporalField and java.time.temporal.ChronoField\nand its method getDisplayName(Locale locale)\nSorry(deleted other answer), I thought you meant &quot;time&quot; itself, you meant <strong>&quot;time UNITS&quot;</strong> that are part of java <strong>TemporalUnit</strong> of the Duration is a Temporal with TemporalUnit's AND do have &quot;name retrieval methods&quot; but translated, no.\nHowever, <strong>java.util.Calendar also has &quot;time units&quot; AND can be instantiated with Locale and should have class fields and methods that will return &quot;time unit&quot; foreign language names</strong></p>\n<p>This is a test printer class for a field that does have a display name. The commented out code prints &quot;null&quot; returned by getDisplayName()</p>\n<pre><code>// CalendarTest.java\npublic class CalendarTest{\n\nint[] ipt = {java.util.Calendar.DAY_OF_WEEK,java.util.Calendar.MONTH,java.util.Calendar.ERA,java.util.Calendar.AM_PM};\n\npublic CalendarTest(){\n\n//java.time.LocalDateTime tm = java.time.LocalDateTime.now();   +java.util.Calendar.HOUR   DAY_OF_WEEK\n\nfor(int sd=0;sd&lt;ipt.length;sd++){\npr(ipt[sd],&quot;fr&quot;);\n}\n\nfor(int sd1=0;sd1&lt;ipt.length;sd1++){\npr(ipt[sd1],&quot;zh&quot;);\n}\n\nfor(int sd2=0;sd2&lt;ipt.length;sd2++){\npr(ipt[sd2],&quot;ar&quot;);\n}\n\n/*\n//java.util.Date dt = cal.getTime();\nSystem.out.println(&quot;&quot;+cal.get(java.util.Calendar.HOUR));\nString fieldname = cal.getDisplayName(java.util.Calendar.HOUR_OF_DAY, java.util.Calendar.SHORT, new java.util.Locale(&quot;en&quot;));\nSystem.out.println(fieldname);\nfieldname = cal.getDisplayName(java.util.Calendar.HOUR_OF_DAY, java.util.Calendar.LONG, new java.util.Locale(&quot;en&quot;));\nSystem.out.println(fieldname);\n*/\n}//enconstr\n\npublic void pr(int fieldint,String loc){\njava.util.Calendar cal = java.util.Calendar.getInstance(new java.util.Locale(loc));\njava.util.Map&lt;String,Integer&gt; mp = cal.getDisplayNames(fieldint , java.util.Calendar.ALL_STYLES, new java.util.Locale(loc));\nif(mp.isEmpty()==true){\nSystem.out.println(&quot;Is Empty&quot;);\n}else{\nSystem.out.println(&quot;Contains&quot;);\n}\njava.util.Set&lt;String&gt; st = mp.keySet();\nObject[] sta = st.toArray();\nfor(int fs=0;fs&lt;sta.length;fs++){\nSystem.out.println(&quot;A VALUE : &quot;+sta[fs]);\n}\n\n}//enmeth\n\npublic static void main(String[] args){\nnew CalendarTest();\n}//enmain\n\n}//enclss\n\n\n/* prints Special field values and in Locale but not field names\n\nbash-5.1$ java CalendarTest\nContains\nA VALUE : dimanche\nA VALUE : mercredi\nA VALUE : vendredi\nA VALUE : samedi\nA VALUE : jeudi\nA VALUE : lundi\nA VALUE : mardi\nA VALUE : dim.\nA VALUE : jeu.\nA VALUE : lun.\nA VALUE : mar.\nA VALUE : mer.\nA VALUE : sam.\nA VALUE : ven.\nContains\nA VALUE : septembre\nA VALUE : dcembre\nA VALUE : novembre\nA VALUE : fvrier\nA VALUE : janvier\nA VALUE : juillet\nA VALUE : octobre\nA VALUE : avril\nA VALUE : fvr.\nA VALUE : janv.\nA VALUE : juil.\nA VALUE : sept.\nA VALUE : aot\nA VALUE : avr.\nA VALUE : dc.\nA VALUE : juin\nA VALUE : mars\nA VALUE : nov.\nA VALUE : oct.\nA VALUE : mai\nContains\nA VALUE : ap. J.-C.\nA VALUE : av. J.-C.\nA VALUE : BC\nA VALUE : A\nA VALUE : B\nContains\nA VALUE : AM\nA VALUE : PM\nA VALUE : a\nA VALUE : p\nContains\nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nContains\nA VALUE : 10\nA VALUE : 11\nA VALUE : 12\nA VALUE : \nA VALUE : \nA VALUE : 10\nA VALUE : 11\nA VALUE : 12\nA VALUE : 1\nA VALUE : 2\nA VALUE : 3\nA VALUE : 4\nA VALUE : 5\nA VALUE : 6\nA VALUE : 7\nA VALUE : 8\nA VALUE : 9\nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : 1\nA VALUE : 2\nA VALUE : 3\nA VALUE : 4\nA VALUE : 5\nA VALUE : 6\nA VALUE : 7\nA VALUE : 8\nA VALUE : 9\nContains\nA VALUE : \nA VALUE : AD\nA VALUE : BC\nA VALUE : \nA VALUE : A\nA VALUE : B\nContains\nA VALUE : \nA VALUE : \nA VALUE : a\nA VALUE : p\nContains\nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nContains\nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nA VALUE : \nContains\nA VALUE : .\nA VALUE : A\nA VALUE : B\nA VALUE : \nContains\nA VALUE : a\nA VALUE : p\nA VALUE : \nA VALUE : \nbash-5.1$ \n\n\n*/\n</code></pre>\n<p><strong>The below code does not operate (as OleV.V. said) because some fields do not get a SHORT or LONG display name.</strong></p>\n<pre><code>java.util.Calendar cal =  java.util.Calendar.getInstance( java.util.TimeZone.getTimeZone(&quot;Asia/Shanghai&quot;) , java.util.Locale.CHINA);\nString hourof = cal.getDisplayName(java.util.Calendar.HOUR , java.util.Calendar.LONG , java.util.Locale.CHINA);\n</code></pre>\n<p>Displaying it in html use attribute <strong>lang=&quot;zh</strong>&quot; in the text rendering element tag e.g. div , input , td\nUTF-8 is the normal charset to use bound to a locale although for Chinese it may be UTF-16</p>\n<p>Take a look at the &quot;field summary&quot; in the API docs for java.util.Calendar.</p>\n<p>Week, appears to be a problem but int SHORT could display simply &quot;week&quot; perhaps.</p>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1665155063,"creation_date":1665155063,"answer_id":73989173,"question_id":73959786,"body_markdown":"The Unicode Common Locale Data Repository, commonly known as the CLDR, is an authoritative repository for localized information of all kinds, including translations.\r\n\r\nSince Java 9, Java SE has used the CLDR for a lot of (if not all) localization functionality. But I am not aware of any localized formatting of java.time.Period instances using CLDR data files.\r\n\r\nThe CLDR has its own Java tools, but I experimented with the compiled .jar for hours and could not figure out how to use it. I couldnt find documentation beyond the (very short) command line help. If it has an API for formatting periods, I would definitely favor using that.\r\n\r\nBut the [CLDR data files](https://cldr.unicode.org/index/downloads) are still the best place to get this information. (They can also be cloned from https://github.com/unicode-org/cldr) So, with that in mind, I wrote a (rather long) class to format Period instances using CLDR data files.\r\n\r\nThere are a few steps involved:\r\n\r\n* First, code must determine the language cardinality for a particular number.  In English, there are only two choices: singular and plural.  Other languages can be more complex.  The `common/supplemental/plurals.xml` file in the CLDR contains all of this data for all locales;  its format is documented [on unicode.org](http://unicode.org/reports/tr35/tr35-numbers.html#Language_Plural_Rules).\r\n* Most localized data is in the `common/main` directory of the CLDR, as .xml files named by locale.  The elements related to periods are in `&lt;ldml&gt;`  `&lt;units&gt;`  `&lt;unitLength type=&quot;long&quot;&gt;`  `&lt;unit type=&quot;duration-week&quot;&gt;`, as well as type=&quot;duration-year&quot;, type=&quot;duration-month&quot;, and type=&quot;duration-day&quot;.  Within the unit element are `&lt;unitPattern&gt;` elements, each with a `count` attribute referencing the cardinality described above.\r\n* Finally, the same locale-specific file in `common/main` contains `&lt;listPattern&gt;` elements which describe how to format a list of items, including `&lt;listPattern type=&quot;unit&quot;&gt;` for assembling a list of period parts.  The use of this data is described [here](https://unicode.org/reports/tr35/tr35-general.html#ListPatterns).\r\n\r\nNote that Period.parse accepts the ISO 8601 format, including weeks, but the Period class itself does not keep track of weeks, so if output with weeks is desired, code must divide the Periods days by 7.\r\n\r\nHere is what I came up with.  The parsing is not robust and makes a lot of assumptions about correct CLDR data.  There are probably ways to speed up the reading of the XML files, such as caching recently used ones, so consider this a proof of concept:\r\n\r\n    public class PeriodFormatter {\r\n        public enum Count {\r\n            EXACTLY0(&quot;0&quot;),\r\n            EXACTLY1(&quot;1&quot;),\r\n            ZERO,\r\n            ONE,\r\n            TWO,\r\n            FEW,\r\n            MANY,\r\n            OTHER;\r\n\r\n            private final String attributeValue;\r\n\r\n            Count() {\r\n                this.attributeValue = name().toLowerCase(Locale.US);\r\n            }\r\n\r\n            Count(String attributeValue) {\r\n                this.attributeValue = attributeValue;\r\n            }\r\n\r\n            String attributeValue() {\r\n                return attributeValue;\r\n            }\r\n\r\n            static Count forAttributeValue(String attrValue) {\r\n                for (Count count : values()) {\r\n                    if (count.attributeValue.equals(attrValue)) {\r\n                        return count;\r\n                    }\r\n                }\r\n                throw new IllegalArgumentException(\r\n                    &quot;No Count with attribute value \\&quot;&quot; + attrValue + &quot;\\&quot;&quot;);\r\n            }\r\n        }\r\n\r\n        private static class Range {\r\n            final long start;\r\n            final long end;\r\n\r\n            Range(long value) {\r\n                this(value, value);\r\n            }\r\n\r\n            Range(long start,\r\n                  long end) {\r\n                this.start = start;\r\n                this.end = end;\r\n            }\r\n\r\n            boolean contains(long value) {\r\n                return value &gt;= start &amp;&amp; value &lt;= end;\r\n            }\r\n\r\n            boolean contains(double value) {\r\n                return value &gt;= start &amp;&amp; value &lt;= end;\r\n            }\r\n        }\r\n\r\n        private enum Operand {\r\n            ABSOLUTE_VALUE(&quot;n&quot;),\r\n            INTEGER_PART(&quot;i&quot;),\r\n            FRACTIONAL_PRECISION(&quot;v&quot;),\r\n            FRACTIONAL_PRECISION_TRIMMED(&quot;w&quot;),\r\n            FRACTIONAL_PART(&quot;f&quot;),\r\n            FRACTIONAL_PART_TRIMMED(&quot;t&quot;),\r\n            EXPONENT_PART(&quot;c&quot;, &quot;e&quot;);\r\n\r\n            final String[] tokens;\r\n\r\n            private Operand(String... tokens) {\r\n                this.tokens = tokens;\r\n            }\r\n\r\n            static Operand forToken(String token) {\r\n                for (Operand op : values()) {\r\n                    if (Arrays.asList(op.tokens).contains(token)) {\r\n                        return op;\r\n                    }\r\n                }\r\n                throw new IllegalArgumentException(\r\n                    &quot;No Operand for token \\&quot;&quot; + token + &quot;\\&quot;&quot;);\r\n            }\r\n        }\r\n\r\n        private static class Expression {\r\n            final Operand operand;\r\n            final Long modValue;\r\n\r\n            Expression(Operand operand,\r\n                       Long modValue) {\r\n                this.operand = operand;\r\n                this.modValue = modValue;\r\n            }\r\n\r\n            double evaluate(BigDecimal value) {\r\n                switch (operand) {\r\n                    case ABSOLUTE_VALUE:\r\n                        return Math.abs(value.doubleValue());\r\n                    case INTEGER_PART:\r\n                        return value.longValue();\r\n                    case FRACTIONAL_PRECISION:\r\n                        return Math.max(value.scale(), 0);\r\n                    case FRACTIONAL_PRECISION_TRIMMED:\r\n                        return Math.max(value.stripTrailingZeros().scale(), 0);\r\n                    case FRACTIONAL_PART:\r\n                        BigDecimal frac = value.remainder(BigDecimal.ONE);\r\n                        frac = frac.movePointRight(Math.max(0, frac.scale()));\r\n                        return frac.doubleValue();\r\n                    case FRACTIONAL_PART_TRIMMED:\r\n                        BigDecimal trimmed =\r\n                            value.stripTrailingZeros().remainder(BigDecimal.ONE);\r\n                        trimmed = trimmed.movePointRight(\r\n                            Math.max(0, trimmed.scale()));\r\n                        return trimmed.longValue();\r\n                    case EXPONENT_PART:\r\n                        String expStr = String.format(&quot;%e&quot;, value);\r\n                        return Long.parseLong(\r\n                            expStr.substring(expStr.indexOf(&#39;e&#39;) + 1));\r\n                    default:\r\n                        break;\r\n                }\r\n                throw new RuntimeException(&quot;Unknown operand &quot; + operand);\r\n            }\r\n        }\r\n\r\n        private static abstract class Relation {\r\n            boolean negated;\r\n            Expression expr;\r\n\r\n            abstract boolean matches(BigDecimal value);\r\n\r\n            final boolean matchIfIntegral(BigDecimal value,\r\n                                          LongPredicate test) {\r\n                double evaluatedValue = expr.evaluate(value);\r\n                long rounded = Math.round(evaluatedValue);\r\n                return Math.abs(evaluatedValue - rounded) &lt; 0.000001\r\n                    &amp;&amp; test.test(rounded);\r\n            }\r\n        }\r\n\r\n        private static class IsRelation\r\n        extends Relation {\r\n            long value;\r\n\r\n            @Override\r\n            boolean matches(BigDecimal value) {\r\n                return matchIfIntegral(value, n -&gt; n == this.value);\r\n            }\r\n        }\r\n\r\n        private static class InRelation\r\n        extends Relation {\r\n            final List&lt;Range&gt; ranges = new ArrayList&lt;&gt;();\r\n\r\n            @Override\r\n            boolean matches(BigDecimal value) {\r\n                return ranges.stream().anyMatch(\r\n                    range -&gt; matchIfIntegral(value, n -&gt; range.contains(n)));\r\n            }\r\n        }\r\n\r\n        private static class WithinRelation\r\n        extends Relation {\r\n            final List&lt;Range&gt; ranges = new ArrayList&lt;&gt;();\r\n\r\n            @Override\r\n            boolean matches(BigDecimal value) {\r\n                return ranges.stream().anyMatch(r -&gt; r.contains(value.longValue()));\r\n            }\r\n        }\r\n\r\n        private static class Condition {\r\n            final List&lt;Relation&gt; relations = new ArrayList&lt;&gt;();\r\n\r\n            boolean matches(BigDecimal value) {\r\n                return relations.stream().allMatch(r -&gt; r.matches(value));\r\n            }\r\n        }\r\n\r\n        private static class AndConditionSequence {\r\n            final List&lt;Condition&gt; conditions = new ArrayList&lt;&gt;();\r\n\r\n            boolean matches(BigDecimal value) {\r\n                return conditions.stream().allMatch(c -&gt; c.matches(value));\r\n            }\r\n        }\r\n\r\n        private static class PluralRule {\r\n            final Count count;\r\n            final List&lt;AndConditionSequence&gt; conditions = new ArrayList&lt;&gt;();\r\n\r\n            PluralRule(String countSpec,\r\n                       String ruleSpec) {\r\n\r\n                this.count = Count.forAttributeValue(countSpec);\r\n\r\n                Scanner scanner = new Scanner(ruleSpec);\r\n\r\n                AndConditionSequence andSequence = new AndConditionSequence();\r\n                Condition condition = new Condition();\r\n                andSequence.conditions.add(condition);\r\n                this.conditions.add(andSequence);\r\n\r\n                while (true) {\r\n                    String token = scanner.findWithinHorizon(&quot;\\\\S&quot;, 0);\r\n                    if (token.equals(&quot;@&quot;)) {\r\n                        // Ignore samples.\r\n                        break;\r\n                    }\r\n\r\n                    Operand operand = Operand.forToken(token);\r\n                    Long modValue = null;\r\n\r\n                    token = scanner.findWithinHorizon(\r\n                        &quot;mod|%|is|in|within|!?=|not&quot;, 0);\r\n                    if (token.equals(&quot;mod&quot;) || token.equals(&quot;%&quot;)) {\r\n                        modValue = Long.valueOf(\r\n                            scanner.findWithinHorizon(&quot;\\\\d+&quot;, 0));\r\n                        token = scanner.findWithinHorizon(\r\n                            &quot;is|in|within|!?=|not&quot;, 0);\r\n                    }\r\n\r\n                    Relation relation;\r\n\r\n                    boolean negated = false;\r\n                    if (token.equals(&quot;not&quot;)) {\r\n                        token = scanner.findWithinHorizon(&quot;in|within&quot;, 0);\r\n                        if (token.equals(&quot;within&quot;)) {\r\n                            WithinRelation within = new WithinRelation();\r\n                            relation = within;\r\n                            within.negated = true;\r\n                            parseRanges(within.ranges, scanner);\r\n                        } else {\r\n                            InRelation in = new InRelation();\r\n                            relation = in;\r\n                            in.negated = true;\r\n                            parseRanges(in.ranges, scanner);\r\n                        }\r\n                        relation.negated = true;\r\n                    } else if (token.equals(&quot;is&quot;)) {\r\n                        IsRelation is = new IsRelation();\r\n                        relation = is;\r\n                        token = scanner.findWithinHorizon(&quot;not|\\\\d+&quot;, 0);\r\n                        if (token.equals(&quot;not&quot;)) {\r\n                            is.negated = true;\r\n                            token = scanner.findWithinHorizon(&quot;\\\\d+&quot;, 0);\r\n                        }\r\n                        is.value = Long.valueOf(token);\r\n                    } else if (token.endsWith(&quot;=&quot;)) {\r\n                        InRelation in = new InRelation();\r\n                        relation = in;\r\n                        in.negated = token.startsWith(&quot;!&quot;);\r\n                        parseRanges(in.ranges, scanner);\r\n                    } else {\r\n                        throw new RuntimeException(\r\n                            &quot;Unexpected token &#39;&quot; + token + &quot;&#39;&quot;);\r\n                    }\r\n\r\n                    relation.expr = new Expression(operand, modValue);\r\n                    condition.relations.add(relation);\r\n\r\n                    if (!scanner.hasNext(&quot;and|or&quot;)) {\r\n                        break;\r\n                    }\r\n\r\n                    token = scanner.next();\r\n                    if (token.equals(&quot;and&quot;)) {\r\n                        condition = new Condition();\r\n                        andSequence.conditions.add(condition);\r\n                    } else {\r\n                        andSequence = new AndConditionSequence();\r\n                        this.conditions.add(andSequence);\r\n                    }\r\n                }\r\n            }\r\n\r\n            static void parseRanges(Collection&lt;Range&gt; ranges,\r\n                                    Scanner scanner) {\r\n\r\n                boolean first = true;\r\n                while (true) {\r\n                    if (!first) {\r\n                        if (!scanner.hasNext(&quot;,.*&quot;)) {\r\n                             break;\r\n                        }\r\n                        scanner.findWithinHorizon(&quot;,&quot;, 0);\r\n                    }\r\n\r\n                    String token =\r\n                        scanner.findWithinHorizon(&quot;\\\\d+(?:\\\\.\\\\.\\\\d+)?&quot;, 0);\r\n\r\n                    int period = token.indexOf(&#39;.&#39;);\r\n                    if (period &gt; 0) {\r\n                        long start = Long.parseLong(token.substring(0, period));\r\n                        long end = Long.parseLong(token.substring(period + 2));\r\n                        ranges.add(new Range(start, end));\r\n                    } else {\r\n                        long value = Long.parseLong(token);\r\n                        ranges.add(new Range(value));\r\n                    }\r\n\r\n                    first = false;\r\n                }\r\n            }\r\n\r\n            boolean matches(BigDecimal value) {\r\n                return conditions.stream().anyMatch(c -&gt; c.matches(value));\r\n            }\r\n        }\r\n\r\n        private static final Map&lt;Locale, List&lt;PluralRule&gt;&gt; pluralRules =\r\n            new HashMap&lt;&gt;();\r\n\r\n        private static final Map&lt;Locale, Path&gt; dataFiles = new HashMap&lt;&gt;();\r\n\r\n        private static final Path cldrDir;\r\n\r\n        static {\r\n            String dir = System.getProperty(&quot;cldr&quot;);\r\n            if (dir == null) {\r\n                throw new RuntimeException(\r\n                    &quot;\\&quot;cldr\\&quot; system property must be set to root directory&quot;\r\n                    + &quot; of CLDR data.  That data can be downloaded from&quot;\r\n                    + &quot;https://cldr.unicode.org/index/downloads or&quot;\r\n                    + &quot;https://github.com/unicode-org/cldr .&quot;);\r\n            }\r\n            cldrDir = Paths.get(dir);\r\n        }\r\n\r\n        private final XPath xpath;\r\n\r\n        public PeriodFormatter() {\r\n            this.xpath = XPathFactory.newInstance().newXPath();\r\n        }\r\n\r\n        private static InputSource createSource(Path path) {\r\n            return new InputSource(path.toUri().toASCIIString());\r\n        }\r\n\r\n        private Count countFor(BigDecimal amount,\r\n                               Locale locale) {\r\n\r\n            synchronized (pluralRules) {\r\n                if (pluralRules.isEmpty()) {\r\n                    Path pluralsFile = cldrDir.resolve(\r\n                        Paths.get(&quot;common&quot;, &quot;supplemental&quot;, &quot;plurals.xml&quot;));\r\n\r\n                    NodeList rulesElements;\r\n                    try {\r\n                        rulesElements = (NodeList) xpath.evaluate(\r\n                            &quot;//plurals[@type=&#39;cardinal&#39;]/pluralRules&quot;,\r\n                            createSource(pluralsFile),\r\n                            XPathConstants.NODESET);\r\n                    } catch (XPathException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n\r\n                    int count = rulesElements.getLength();\r\n                    for (int i = 0; i &lt; count; i++) {\r\n                        Element rulesElement = (Element) rulesElements.item(i);\r\n                        String[] localeNames =\r\n                            rulesElement.getAttribute(&quot;locales&quot;).split(&quot;\\\\s+&quot;);\r\n\r\n                        NodeList ruleElements =\r\n                            rulesElement.getElementsByTagName(&quot;pluralRule&quot;);\r\n                        int ruleCount = ruleElements.getLength();\r\n                        List&lt;PluralRule&gt; ruleList = new ArrayList&lt;&gt;(ruleCount);\r\n                        for (int j = 0; j &lt; ruleCount; j++) {\r\n                            Element ruleElement = (Element) ruleElements.item(j);\r\n                            ruleList.add(new PluralRule(\r\n                                ruleElement.getAttribute(&quot;count&quot;),\r\n                                ruleElement.getTextContent()));\r\n                        }\r\n\r\n                        for (String localeName : localeNames) {\r\n                            localeName = localeName.replace(&#39;_&#39;, &#39;-&#39;);\r\n                            pluralRules.put(\r\n                                Locale.forLanguageTag(localeName),\r\n                                ruleList);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            Locale availableLocale = Locale.lookup(\r\n                Locale.LanguageRange.parse(locale.toLanguageTag()),\r\n                pluralRules.keySet());\r\n\r\n            if (availableLocale == null) {\r\n                availableLocale = Locale.ROOT;\r\n            }\r\n\r\n            List&lt;PluralRule&gt; rulesOfLocale = pluralRules.get(availableLocale);\r\n            for (PluralRule rule : rulesOfLocale) {\r\n                if (rule.matches(amount)) {\r\n                    return rule.count;\r\n                }\r\n            }\r\n            throw new IllegalArgumentException(&quot;No plural rule matches &quot; + amount);\r\n        }\r\n\r\n        private static List&lt;Locale&gt; listWithFallbacks(Locale locale) {\r\n            Collection&lt;Locale&gt; locales = new LinkedHashSet&lt;&gt;();\r\n            locales.add(locale);\r\n\r\n            Locale.Builder builder = new Locale.Builder();\r\n            builder.setLanguageTag(locale.toLanguageTag());\r\n\r\n            locales.add(builder.setVariant(null).build());\r\n            locales.add(builder.setRegion(null).build());\r\n            locales.add(builder.setScript(null).build());\r\n            locales.add(Locale.ROOT);\r\n\r\n            return new ArrayList&lt;&gt;(locales);\r\n        }\r\n\r\n        private Iterable&lt;Path&gt; dataFilesFor(Locale locale) {\r\n            synchronized (dataFiles) {\r\n                if (dataFiles.isEmpty()) {\r\n                    Path dataFileDir = cldrDir.resolve(Paths.get(&quot;common&quot;, &quot;main&quot;));\r\n                    try (DirectoryStream&lt;Path&gt; dir =\r\n                        Files.newDirectoryStream(dataFileDir, &quot;*.xml&quot;)) {\r\n\r\n                        for (Path dataFile : dir) {\r\n                            InputSource source = createSource(dataFile);\r\n\r\n                            NodeList identityElements = (NodeList)\r\n                                xpath.evaluate(&quot;/ldml/identity&quot;, source,\r\n                                    XPathConstants.NODESET);\r\n                            Element identity = (Element) identityElements.item(0);\r\n\r\n                            String lang =\r\n                                xpath.evaluate(&quot;language/@type&quot;, identity);\r\n                            String script =\r\n                                xpath.evaluate(&quot;script/@type&quot;, identity);\r\n                            String region =\r\n                                xpath.evaluate(&quot;territory/@type&quot;, identity);\r\n                            String variant =\r\n                                xpath.evaluate(&quot;variant/@type&quot;, identity);\r\n\r\n                            Locale dataFileLocale;\r\n                            if (lang.equals(&quot;root&quot;)) {\r\n                                dataFileLocale = Locale.ROOT;\r\n                            } else {\r\n                                Locale.Builder builder = new Locale.Builder();\r\n                                builder.setLanguage(lang);\r\n                                builder.setScript(script);\r\n                                builder.setRegion(region);\r\n                                builder.setVariant(variant);\r\n                                dataFileLocale = builder.build();\r\n                            }\r\n\r\n                            dataFiles.put(dataFileLocale, dataFile);\r\n                        }\r\n                    } catch (IOException | XPathException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            }\r\n\r\n            Collection&lt;Locale&gt; locales = listWithFallbacks(locale);\r\n\r\n            Collection&lt;Path&gt; dataFilesForLocale = new ArrayList&lt;&gt;();\r\n            for (Locale localeToCheck : locales) {\r\n                Path dataFile = dataFiles.get(localeToCheck);\r\n                if (dataFile != null) {\r\n                    dataFilesForLocale.add(dataFile);\r\n                }\r\n            }\r\n            return dataFilesForLocale;\r\n        }\r\n\r\n        private Optional&lt;Element&gt; locateElement(Object source,\r\n                                                String path) {\r\n\r\n            try {\r\n                Element element = null;\r\n                while (true) {\r\n                    NodeList elements;\r\n                    if (source instanceof InputSource) {\r\n                        elements = (NodeList) xpath.evaluate(path,\r\n                            (InputSource) source, XPathConstants.NODESET);\r\n                    } else {\r\n                        elements = (NodeList) xpath.evaluate(path,\r\n                            source, XPathConstants.NODESET);\r\n                    }\r\n                    if (elements.getLength() &lt; 1) {\r\n                        break;\r\n                    }\r\n\r\n                    element = (Element) elements.item(0);\r\n\r\n                    NodeList list = (NodeList) xpath.evaluate(&quot;alias&quot;, element,\r\n                        XPathConstants.NODESET);\r\n                    if (list.getLength() == 0) {\r\n                        // No more aliases to follow, so we&#39;ve found our target.\r\n                        break;\r\n                    }\r\n\r\n                    Element alias = (Element) list.item(0);\r\n                    path = alias.getAttribute(&quot;path&quot;);\r\n                    source = element;\r\n                }\r\n\r\n                return Optional.ofNullable(element);\r\n            } catch (XPathException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n\r\n        private Optional&lt;String&gt; readElement(Iterable&lt;? extends Path&gt; dataFiles,\r\n                                             String... paths)\r\n        throws XPathException {\r\n\r\n            Optional&lt;Element&gt; element = Optional.empty();\r\n            for (Path dataFile : dataFiles) {\r\n                Object source = createSource(dataFile);\r\n\r\n                element = Optional.empty();\r\n                for (String path : paths) {\r\n                    element = locateElement(source, path);\r\n                    if (!element.isPresent()) {\r\n                        break;\r\n                    }\r\n\r\n                    source = element.get();\r\n                }\r\n\r\n                if (element.isPresent()) {\r\n                    break;\r\n                }\r\n            }\r\n\r\n            return element.map(Element::getTextContent);\r\n        }\r\n\r\n        private String format(ChronoUnit units,\r\n                              BigDecimal amount,\r\n                              Locale locale) {\r\n\r\n            String type = null;\r\n            switch (units) {\r\n                case YEARS:\r\n                    type = &quot;duration-year&quot;;\r\n                    break;\r\n                case MONTHS:\r\n                    type = &quot;duration-month&quot;;\r\n                    break;\r\n                case WEEKS:\r\n                    type = &quot;duration-week&quot;;\r\n                    break;\r\n                case DAYS:\r\n                    type = &quot;duration-day&quot;;\r\n                    break;\r\n                default:\r\n                    throw new IllegalArgumentException(\r\n                        &quot;Valid units are YEARS, MONTHS, WEEKS, and DAYS.&quot;);\r\n            }\r\n\r\n            Count count = countFor(amount, locale);\r\n\r\n            try {\r\n                Optional&lt;String&gt; formatPattern = readElement(dataFilesFor(locale),\r\n                    &quot;/ldml/units&quot; +\r\n                        &quot;/unitLength[@type=&#39;long&#39;]&quot; +\r\n                        &quot;/unit[@type=&#39;&quot; + type + &quot;&#39;]&quot;,\r\n                    &quot;unitPattern[@count=&#39;&quot; + count.attributeValue() + &quot;&#39;]&quot;);\r\n\r\n                if (formatPattern.isPresent()) {\r\n                    String patternStr = formatPattern.get();\r\n                    if (!patternStr.isEmpty()) {\r\n                        MessageFormat format =\r\n                            new MessageFormat(patternStr, locale);\r\n                        return format.format(new Object[] { amount });\r\n                    }\r\n                }\r\n            } catch (XPathException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n\r\n            throw new IllegalArgumentException(\r\n                    &quot;Could not find pattern for units &quot; + units +\r\n                    &quot;, amount &quot; + amount + &quot;, locale &quot; + locale.toLanguageTag());\r\n        }\r\n\r\n        public String format(Period period,\r\n                             Locale locale) {\r\n            return format(period, false, locale);\r\n        }\r\n\r\n        public String format(Period period,\r\n                             boolean includeWeeks,\r\n                             Locale locale) {\r\n\r\n            int years = period.getYears();\r\n            int months = period.getMonths();\r\n            int days = period.getDays();\r\n\r\n            List&lt;String&gt; parts = new ArrayList&lt;&gt;(3);\r\n\r\n            if (years != 0) {\r\n                BigDecimal value = BigDecimal.valueOf(years);\r\n                String yearStr = format(ChronoUnit.YEARS, value, locale);\r\n                parts.add(yearStr);\r\n            }\r\n            if (months != 0) {\r\n                BigDecimal value = BigDecimal.valueOf(months);\r\n                String monthStr = format(ChronoUnit.MONTHS, value, locale);\r\n                parts.add(monthStr);\r\n            }\r\n            if (includeWeeks) {\r\n                int weeks = days / 7;\r\n                if (weeks != 0) {\r\n                    days %= 7;\r\n                    BigDecimal value = BigDecimal.valueOf(weeks);\r\n                    String weekStr = format(ChronoUnit.WEEKS, value, locale);\r\n                    parts.add(weekStr);\r\n                }\r\n            }\r\n            if (days != 0) {\r\n                BigDecimal value = BigDecimal.valueOf(days);\r\n                String dayStr = format(ChronoUnit.DAYS, value, locale);\r\n                parts.add(dayStr);\r\n            }\r\n\r\n            return formatList(parts, locale);\r\n        }\r\n\r\n        private String formatList(List&lt;?&gt; parts,\r\n                                  Locale locale) {\r\n\r\n            if (parts.isEmpty()) {\r\n                return &quot;&quot;;\r\n            }\r\n            int size = parts.size();\r\n            if (size == 1) {\r\n                return String.valueOf(parts.get(0));\r\n            }\r\n\r\n            Map&lt;String, String&gt; patternsByType = new HashMap&lt;&gt;();\r\n            for (Path dataFile : dataFilesFor(locale)) {\r\n                Object source = createSource(dataFile);\r\n\r\n                Optional&lt;Element&gt; listPatterns =\r\n                    locateElement(source, &quot;/ldml/listPatterns&quot;);\r\n\r\n                if (!listPatterns.isPresent()) {\r\n                    continue;\r\n                }\r\n\r\n                Optional&lt;Element&gt; listPattern =\r\n                    locateElement(listPatterns.get(), &quot;listPattern[@type=&#39;unit&#39;]&quot;);\r\n\r\n                if (!listPattern.isPresent()) {\r\n                    continue;\r\n                }\r\n\r\n                NodeList partList =\r\n                    listPattern.get().getElementsByTagName(&quot;listPatternPart&quot;);\r\n\r\n                int count = partList.getLength();\r\n                for (int i = 0; i &lt; count; i++) {\r\n                    Element part = (Element) partList.item(i);\r\n                    String type = part.getAttribute(&quot;type&quot;);\r\n                    String pattern = part.getTextContent();\r\n                    patternsByType.putIfAbsent(type, pattern);\r\n                }\r\n            }\r\n\r\n            if (size == 2 || size == 3) {\r\n                String pattern = patternsByType.get(String.valueOf(size));\r\n                if (pattern != null) {\r\n                    MessageFormat format =new MessageFormat(pattern, locale);\r\n                    return format.format(parts.toArray());\r\n                }\r\n            }\r\n\r\n            MessageFormat startFormat = new MessageFormat(\r\n                patternsByType.get(&quot;start&quot;), locale);\r\n            MessageFormat middleFormat = new MessageFormat(\r\n                patternsByType.get(&quot;middle&quot;), locale);\r\n            MessageFormat endFormat = new MessageFormat(\r\n                patternsByType.get(&quot;end&quot;), locale);\r\n\r\n            String text = endFormat.format(\r\n                new Object[] { parts.get(size - 2), parts.get(size - 1) });\r\n\r\n            int index = size - 2;\r\n            while (--index &gt; 0) {\r\n                text = middleFormat.format(new Object[] { parts.get(index), text });\r\n            }\r\n            text = startFormat.format(new Object[] { parts.get(index), text });\r\n\r\n            return text;\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            String localeStr = System.getProperty(&quot;locale&quot;);\r\n            Locale locale = localeStr != null ?\r\n                Locale.forLanguageTag(localeStr) : Locale.getDefault();\r\n\r\n            boolean showWeeks = Boolean.getBoolean(&quot;weeks&quot;);\r\n\r\n            PeriodFormatter formatter = new PeriodFormatter();\r\n\r\n            for (String arg : args) {\r\n                Period period = Period.parse(arg);\r\n                String s = formatter.format(period, showWeeks, locale);\r\n                System.out.println(arg + &quot; =&gt; &quot; + s);\r\n            }\r\n        }\r\n    }","title":"Is there an implemented way to convert ISO 8601 period to a translated string readable by humans in Java?","body":"<p>The Unicode Common Locale Data Repository, commonly known as the CLDR, is an authoritative repository for localized information of all kinds, including translations.</p>\n<p>Since Java 9, Java SE has used the CLDR for a lot of (if not all) localization functionality. But I am not aware of any localized formatting of java.time.Period instances using CLDR data files.</p>\n<p>The CLDR has its own Java tools, but I experimented with the compiled .jar for hours and could not figure out how to use it. I couldnt find documentation beyond the (very short) command line help. If it has an API for formatting periods, I would definitely favor using that.</p>\n<p>But the <a href=\"https://cldr.unicode.org/index/downloads\" rel=\"nofollow noreferrer\">CLDR data files</a> are still the best place to get this information. (They can also be cloned from <a href=\"https://github.com/unicode-org/cldr\" rel=\"nofollow noreferrer\">https://github.com/unicode-org/cldr</a>) So, with that in mind, I wrote a (rather long) class to format Period instances using CLDR data files.</p>\n<p>There are a few steps involved:</p>\n<ul>\n<li>First, code must determine the language cardinality for a particular number.  In English, there are only two choices: singular and plural.  Other languages can be more complex.  The <code>common/supplemental/plurals.xml</code> file in the CLDR contains all of this data for all locales;  its format is documented <a href=\"http://unicode.org/reports/tr35/tr35-numbers.html#Language_Plural_Rules\" rel=\"nofollow noreferrer\">on unicode.org</a>.</li>\n<li>Most localized data is in the <code>common/main</code> directory of the CLDR, as .xml files named by locale.  The elements related to periods are in <code>&lt;ldml&gt;</code>  <code>&lt;units&gt;</code>  <code>&lt;unitLength type=&quot;long&quot;&gt;</code>  <code>&lt;unit type=&quot;duration-week&quot;&gt;</code>, as well as type=&quot;duration-year&quot;, type=&quot;duration-month&quot;, and type=&quot;duration-day&quot;.  Within the unit element are <code>&lt;unitPattern&gt;</code> elements, each with a <code>count</code> attribute referencing the cardinality described above.</li>\n<li>Finally, the same locale-specific file in <code>common/main</code> contains <code>&lt;listPattern&gt;</code> elements which describe how to format a list of items, including <code>&lt;listPattern type=&quot;unit&quot;&gt;</code> for assembling a list of period parts.  The use of this data is described <a href=\"https://unicode.org/reports/tr35/tr35-general.html#ListPatterns\" rel=\"nofollow noreferrer\">here</a>.</li>\n</ul>\n<p>Note that Period.parse accepts the ISO 8601 format, including weeks, but the Period class itself does not keep track of weeks, so if output with weeks is desired, code must divide the Periods days by 7.</p>\n<p>Here is what I came up with.  The parsing is not robust and makes a lot of assumptions about correct CLDR data.  There are probably ways to speed up the reading of the XML files, such as caching recently used ones, so consider this a proof of concept:</p>\n<pre><code>public class PeriodFormatter {\n    public enum Count {\n        EXACTLY0(&quot;0&quot;),\n        EXACTLY1(&quot;1&quot;),\n        ZERO,\n        ONE,\n        TWO,\n        FEW,\n        MANY,\n        OTHER;\n\n        private final String attributeValue;\n\n        Count() {\n            this.attributeValue = name().toLowerCase(Locale.US);\n        }\n\n        Count(String attributeValue) {\n            this.attributeValue = attributeValue;\n        }\n\n        String attributeValue() {\n            return attributeValue;\n        }\n\n        static Count forAttributeValue(String attrValue) {\n            for (Count count : values()) {\n                if (count.attributeValue.equals(attrValue)) {\n                    return count;\n                }\n            }\n            throw new IllegalArgumentException(\n                &quot;No Count with attribute value \\&quot;&quot; + attrValue + &quot;\\&quot;&quot;);\n        }\n    }\n\n    private static class Range {\n        final long start;\n        final long end;\n\n        Range(long value) {\n            this(value, value);\n        }\n\n        Range(long start,\n              long end) {\n            this.start = start;\n            this.end = end;\n        }\n\n        boolean contains(long value) {\n            return value &gt;= start &amp;&amp; value &lt;= end;\n        }\n\n        boolean contains(double value) {\n            return value &gt;= start &amp;&amp; value &lt;= end;\n        }\n    }\n\n    private enum Operand {\n        ABSOLUTE_VALUE(&quot;n&quot;),\n        INTEGER_PART(&quot;i&quot;),\n        FRACTIONAL_PRECISION(&quot;v&quot;),\n        FRACTIONAL_PRECISION_TRIMMED(&quot;w&quot;),\n        FRACTIONAL_PART(&quot;f&quot;),\n        FRACTIONAL_PART_TRIMMED(&quot;t&quot;),\n        EXPONENT_PART(&quot;c&quot;, &quot;e&quot;);\n\n        final String[] tokens;\n\n        private Operand(String... tokens) {\n            this.tokens = tokens;\n        }\n\n        static Operand forToken(String token) {\n            for (Operand op : values()) {\n                if (Arrays.asList(op.tokens).contains(token)) {\n                    return op;\n                }\n            }\n            throw new IllegalArgumentException(\n                &quot;No Operand for token \\&quot;&quot; + token + &quot;\\&quot;&quot;);\n        }\n    }\n\n    private static class Expression {\n        final Operand operand;\n        final Long modValue;\n\n        Expression(Operand operand,\n                   Long modValue) {\n            this.operand = operand;\n            this.modValue = modValue;\n        }\n\n        double evaluate(BigDecimal value) {\n            switch (operand) {\n                case ABSOLUTE_VALUE:\n                    return Math.abs(value.doubleValue());\n                case INTEGER_PART:\n                    return value.longValue();\n                case FRACTIONAL_PRECISION:\n                    return Math.max(value.scale(), 0);\n                case FRACTIONAL_PRECISION_TRIMMED:\n                    return Math.max(value.stripTrailingZeros().scale(), 0);\n                case FRACTIONAL_PART:\n                    BigDecimal frac = value.remainder(BigDecimal.ONE);\n                    frac = frac.movePointRight(Math.max(0, frac.scale()));\n                    return frac.doubleValue();\n                case FRACTIONAL_PART_TRIMMED:\n                    BigDecimal trimmed =\n                        value.stripTrailingZeros().remainder(BigDecimal.ONE);\n                    trimmed = trimmed.movePointRight(\n                        Math.max(0, trimmed.scale()));\n                    return trimmed.longValue();\n                case EXPONENT_PART:\n                    String expStr = String.format(&quot;%e&quot;, value);\n                    return Long.parseLong(\n                        expStr.substring(expStr.indexOf('e') + 1));\n                default:\n                    break;\n            }\n            throw new RuntimeException(&quot;Unknown operand &quot; + operand);\n        }\n    }\n\n    private static abstract class Relation {\n        boolean negated;\n        Expression expr;\n\n        abstract boolean matches(BigDecimal value);\n\n        final boolean matchIfIntegral(BigDecimal value,\n                                      LongPredicate test) {\n            double evaluatedValue = expr.evaluate(value);\n            long rounded = Math.round(evaluatedValue);\n            return Math.abs(evaluatedValue - rounded) &lt; 0.000001\n                &amp;&amp; test.test(rounded);\n        }\n    }\n\n    private static class IsRelation\n    extends Relation {\n        long value;\n\n        @Override\n        boolean matches(BigDecimal value) {\n            return matchIfIntegral(value, n -&gt; n == this.value);\n        }\n    }\n\n    private static class InRelation\n    extends Relation {\n        final List&lt;Range&gt; ranges = new ArrayList&lt;&gt;();\n\n        @Override\n        boolean matches(BigDecimal value) {\n            return ranges.stream().anyMatch(\n                range -&gt; matchIfIntegral(value, n -&gt; range.contains(n)));\n        }\n    }\n\n    private static class WithinRelation\n    extends Relation {\n        final List&lt;Range&gt; ranges = new ArrayList&lt;&gt;();\n\n        @Override\n        boolean matches(BigDecimal value) {\n            return ranges.stream().anyMatch(r -&gt; r.contains(value.longValue()));\n        }\n    }\n\n    private static class Condition {\n        final List&lt;Relation&gt; relations = new ArrayList&lt;&gt;();\n\n        boolean matches(BigDecimal value) {\n            return relations.stream().allMatch(r -&gt; r.matches(value));\n        }\n    }\n\n    private static class AndConditionSequence {\n        final List&lt;Condition&gt; conditions = new ArrayList&lt;&gt;();\n\n        boolean matches(BigDecimal value) {\n            return conditions.stream().allMatch(c -&gt; c.matches(value));\n        }\n    }\n\n    private static class PluralRule {\n        final Count count;\n        final List&lt;AndConditionSequence&gt; conditions = new ArrayList&lt;&gt;();\n\n        PluralRule(String countSpec,\n                   String ruleSpec) {\n\n            this.count = Count.forAttributeValue(countSpec);\n\n            Scanner scanner = new Scanner(ruleSpec);\n\n            AndConditionSequence andSequence = new AndConditionSequence();\n            Condition condition = new Condition();\n            andSequence.conditions.add(condition);\n            this.conditions.add(andSequence);\n\n            while (true) {\n                String token = scanner.findWithinHorizon(&quot;\\\\S&quot;, 0);\n                if (token.equals(&quot;@&quot;)) {\n                    // Ignore samples.\n                    break;\n                }\n\n                Operand operand = Operand.forToken(token);\n                Long modValue = null;\n\n                token = scanner.findWithinHorizon(\n                    &quot;mod|%|is|in|within|!?=|not&quot;, 0);\n                if (token.equals(&quot;mod&quot;) || token.equals(&quot;%&quot;)) {\n                    modValue = Long.valueOf(\n                        scanner.findWithinHorizon(&quot;\\\\d+&quot;, 0));\n                    token = scanner.findWithinHorizon(\n                        &quot;is|in|within|!?=|not&quot;, 0);\n                }\n\n                Relation relation;\n\n                boolean negated = false;\n                if (token.equals(&quot;not&quot;)) {\n                    token = scanner.findWithinHorizon(&quot;in|within&quot;, 0);\n                    if (token.equals(&quot;within&quot;)) {\n                        WithinRelation within = new WithinRelation();\n                        relation = within;\n                        within.negated = true;\n                        parseRanges(within.ranges, scanner);\n                    } else {\n                        InRelation in = new InRelation();\n                        relation = in;\n                        in.negated = true;\n                        parseRanges(in.ranges, scanner);\n                    }\n                    relation.negated = true;\n                } else if (token.equals(&quot;is&quot;)) {\n                    IsRelation is = new IsRelation();\n                    relation = is;\n                    token = scanner.findWithinHorizon(&quot;not|\\\\d+&quot;, 0);\n                    if (token.equals(&quot;not&quot;)) {\n                        is.negated = true;\n                        token = scanner.findWithinHorizon(&quot;\\\\d+&quot;, 0);\n                    }\n                    is.value = Long.valueOf(token);\n                } else if (token.endsWith(&quot;=&quot;)) {\n                    InRelation in = new InRelation();\n                    relation = in;\n                    in.negated = token.startsWith(&quot;!&quot;);\n                    parseRanges(in.ranges, scanner);\n                } else {\n                    throw new RuntimeException(\n                        &quot;Unexpected token '&quot; + token + &quot;'&quot;);\n                }\n\n                relation.expr = new Expression(operand, modValue);\n                condition.relations.add(relation);\n\n                if (!scanner.hasNext(&quot;and|or&quot;)) {\n                    break;\n                }\n\n                token = scanner.next();\n                if (token.equals(&quot;and&quot;)) {\n                    condition = new Condition();\n                    andSequence.conditions.add(condition);\n                } else {\n                    andSequence = new AndConditionSequence();\n                    this.conditions.add(andSequence);\n                }\n            }\n        }\n\n        static void parseRanges(Collection&lt;Range&gt; ranges,\n                                Scanner scanner) {\n\n            boolean first = true;\n            while (true) {\n                if (!first) {\n                    if (!scanner.hasNext(&quot;,.*&quot;)) {\n                         break;\n                    }\n                    scanner.findWithinHorizon(&quot;,&quot;, 0);\n                }\n\n                String token =\n                    scanner.findWithinHorizon(&quot;\\\\d+(?:\\\\.\\\\.\\\\d+)?&quot;, 0);\n\n                int period = token.indexOf('.');\n                if (period &gt; 0) {\n                    long start = Long.parseLong(token.substring(0, period));\n                    long end = Long.parseLong(token.substring(period + 2));\n                    ranges.add(new Range(start, end));\n                } else {\n                    long value = Long.parseLong(token);\n                    ranges.add(new Range(value));\n                }\n\n                first = false;\n            }\n        }\n\n        boolean matches(BigDecimal value) {\n            return conditions.stream().anyMatch(c -&gt; c.matches(value));\n        }\n    }\n\n    private static final Map&lt;Locale, List&lt;PluralRule&gt;&gt; pluralRules =\n        new HashMap&lt;&gt;();\n\n    private static final Map&lt;Locale, Path&gt; dataFiles = new HashMap&lt;&gt;();\n\n    private static final Path cldrDir;\n\n    static {\n        String dir = System.getProperty(&quot;cldr&quot;);\n        if (dir == null) {\n            throw new RuntimeException(\n                &quot;\\&quot;cldr\\&quot; system property must be set to root directory&quot;\n                + &quot; of CLDR data.  That data can be downloaded from&quot;\n                + &quot;https://cldr.unicode.org/index/downloads or&quot;\n                + &quot;https://github.com/unicode-org/cldr .&quot;);\n        }\n        cldrDir = Paths.get(dir);\n    }\n\n    private final XPath xpath;\n\n    public PeriodFormatter() {\n        this.xpath = XPathFactory.newInstance().newXPath();\n    }\n\n    private static InputSource createSource(Path path) {\n        return new InputSource(path.toUri().toASCIIString());\n    }\n\n    private Count countFor(BigDecimal amount,\n                           Locale locale) {\n\n        synchronized (pluralRules) {\n            if (pluralRules.isEmpty()) {\n                Path pluralsFile = cldrDir.resolve(\n                    Paths.get(&quot;common&quot;, &quot;supplemental&quot;, &quot;plurals.xml&quot;));\n\n                NodeList rulesElements;\n                try {\n                    rulesElements = (NodeList) xpath.evaluate(\n                        &quot;//plurals[@type='cardinal']/pluralRules&quot;,\n                        createSource(pluralsFile),\n                        XPathConstants.NODESET);\n                } catch (XPathException e) {\n                    throw new RuntimeException(e);\n                }\n\n                int count = rulesElements.getLength();\n                for (int i = 0; i &lt; count; i++) {\n                    Element rulesElement = (Element) rulesElements.item(i);\n                    String[] localeNames =\n                        rulesElement.getAttribute(&quot;locales&quot;).split(&quot;\\\\s+&quot;);\n\n                    NodeList ruleElements =\n                        rulesElement.getElementsByTagName(&quot;pluralRule&quot;);\n                    int ruleCount = ruleElements.getLength();\n                    List&lt;PluralRule&gt; ruleList = new ArrayList&lt;&gt;(ruleCount);\n                    for (int j = 0; j &lt; ruleCount; j++) {\n                        Element ruleElement = (Element) ruleElements.item(j);\n                        ruleList.add(new PluralRule(\n                            ruleElement.getAttribute(&quot;count&quot;),\n                            ruleElement.getTextContent()));\n                    }\n\n                    for (String localeName : localeNames) {\n                        localeName = localeName.replace('_', '-');\n                        pluralRules.put(\n                            Locale.forLanguageTag(localeName),\n                            ruleList);\n                    }\n                }\n            }\n        }\n\n        Locale availableLocale = Locale.lookup(\n            Locale.LanguageRange.parse(locale.toLanguageTag()),\n            pluralRules.keySet());\n\n        if (availableLocale == null) {\n            availableLocale = Locale.ROOT;\n        }\n\n        List&lt;PluralRule&gt; rulesOfLocale = pluralRules.get(availableLocale);\n        for (PluralRule rule : rulesOfLocale) {\n            if (rule.matches(amount)) {\n                return rule.count;\n            }\n        }\n        throw new IllegalArgumentException(&quot;No plural rule matches &quot; + amount);\n    }\n\n    private static List&lt;Locale&gt; listWithFallbacks(Locale locale) {\n        Collection&lt;Locale&gt; locales = new LinkedHashSet&lt;&gt;();\n        locales.add(locale);\n\n        Locale.Builder builder = new Locale.Builder();\n        builder.setLanguageTag(locale.toLanguageTag());\n\n        locales.add(builder.setVariant(null).build());\n        locales.add(builder.setRegion(null).build());\n        locales.add(builder.setScript(null).build());\n        locales.add(Locale.ROOT);\n\n        return new ArrayList&lt;&gt;(locales);\n    }\n\n    private Iterable&lt;Path&gt; dataFilesFor(Locale locale) {\n        synchronized (dataFiles) {\n            if (dataFiles.isEmpty()) {\n                Path dataFileDir = cldrDir.resolve(Paths.get(&quot;common&quot;, &quot;main&quot;));\n                try (DirectoryStream&lt;Path&gt; dir =\n                    Files.newDirectoryStream(dataFileDir, &quot;*.xml&quot;)) {\n\n                    for (Path dataFile : dir) {\n                        InputSource source = createSource(dataFile);\n\n                        NodeList identityElements = (NodeList)\n                            xpath.evaluate(&quot;/ldml/identity&quot;, source,\n                                XPathConstants.NODESET);\n                        Element identity = (Element) identityElements.item(0);\n\n                        String lang =\n                            xpath.evaluate(&quot;language/@type&quot;, identity);\n                        String script =\n                            xpath.evaluate(&quot;script/@type&quot;, identity);\n                        String region =\n                            xpath.evaluate(&quot;territory/@type&quot;, identity);\n                        String variant =\n                            xpath.evaluate(&quot;variant/@type&quot;, identity);\n\n                        Locale dataFileLocale;\n                        if (lang.equals(&quot;root&quot;)) {\n                            dataFileLocale = Locale.ROOT;\n                        } else {\n                            Locale.Builder builder = new Locale.Builder();\n                            builder.setLanguage(lang);\n                            builder.setScript(script);\n                            builder.setRegion(region);\n                            builder.setVariant(variant);\n                            dataFileLocale = builder.build();\n                        }\n\n                        dataFiles.put(dataFileLocale, dataFile);\n                    }\n                } catch (IOException | XPathException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        }\n\n        Collection&lt;Locale&gt; locales = listWithFallbacks(locale);\n\n        Collection&lt;Path&gt; dataFilesForLocale = new ArrayList&lt;&gt;();\n        for (Locale localeToCheck : locales) {\n            Path dataFile = dataFiles.get(localeToCheck);\n            if (dataFile != null) {\n                dataFilesForLocale.add(dataFile);\n            }\n        }\n        return dataFilesForLocale;\n    }\n\n    private Optional&lt;Element&gt; locateElement(Object source,\n                                            String path) {\n\n        try {\n            Element element = null;\n            while (true) {\n                NodeList elements;\n                if (source instanceof InputSource) {\n                    elements = (NodeList) xpath.evaluate(path,\n                        (InputSource) source, XPathConstants.NODESET);\n                } else {\n                    elements = (NodeList) xpath.evaluate(path,\n                        source, XPathConstants.NODESET);\n                }\n                if (elements.getLength() &lt; 1) {\n                    break;\n                }\n\n                element = (Element) elements.item(0);\n\n                NodeList list = (NodeList) xpath.evaluate(&quot;alias&quot;, element,\n                    XPathConstants.NODESET);\n                if (list.getLength() == 0) {\n                    // No more aliases to follow, so we've found our target.\n                    break;\n                }\n\n                Element alias = (Element) list.item(0);\n                path = alias.getAttribute(&quot;path&quot;);\n                source = element;\n            }\n\n            return Optional.ofNullable(element);\n        } catch (XPathException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private Optional&lt;String&gt; readElement(Iterable&lt;? extends Path&gt; dataFiles,\n                                         String... paths)\n    throws XPathException {\n\n        Optional&lt;Element&gt; element = Optional.empty();\n        for (Path dataFile : dataFiles) {\n            Object source = createSource(dataFile);\n\n            element = Optional.empty();\n            for (String path : paths) {\n                element = locateElement(source, path);\n                if (!element.isPresent()) {\n                    break;\n                }\n\n                source = element.get();\n            }\n\n            if (element.isPresent()) {\n                break;\n            }\n        }\n\n        return element.map(Element::getTextContent);\n    }\n\n    private String format(ChronoUnit units,\n                          BigDecimal amount,\n                          Locale locale) {\n\n        String type = null;\n        switch (units) {\n            case YEARS:\n                type = &quot;duration-year&quot;;\n                break;\n            case MONTHS:\n                type = &quot;duration-month&quot;;\n                break;\n            case WEEKS:\n                type = &quot;duration-week&quot;;\n                break;\n            case DAYS:\n                type = &quot;duration-day&quot;;\n                break;\n            default:\n                throw new IllegalArgumentException(\n                    &quot;Valid units are YEARS, MONTHS, WEEKS, and DAYS.&quot;);\n        }\n\n        Count count = countFor(amount, locale);\n\n        try {\n            Optional&lt;String&gt; formatPattern = readElement(dataFilesFor(locale),\n                &quot;/ldml/units&quot; +\n                    &quot;/unitLength[@type='long']&quot; +\n                    &quot;/unit[@type='&quot; + type + &quot;']&quot;,\n                &quot;unitPattern[@count='&quot; + count.attributeValue() + &quot;']&quot;);\n\n            if (formatPattern.isPresent()) {\n                String patternStr = formatPattern.get();\n                if (!patternStr.isEmpty()) {\n                    MessageFormat format =\n                        new MessageFormat(patternStr, locale);\n                    return format.format(new Object[] { amount });\n                }\n            }\n        } catch (XPathException e) {\n            throw new RuntimeException(e);\n        }\n\n        throw new IllegalArgumentException(\n                &quot;Could not find pattern for units &quot; + units +\n                &quot;, amount &quot; + amount + &quot;, locale &quot; + locale.toLanguageTag());\n    }\n\n    public String format(Period period,\n                         Locale locale) {\n        return format(period, false, locale);\n    }\n\n    public String format(Period period,\n                         boolean includeWeeks,\n                         Locale locale) {\n\n        int years = period.getYears();\n        int months = period.getMonths();\n        int days = period.getDays();\n\n        List&lt;String&gt; parts = new ArrayList&lt;&gt;(3);\n\n        if (years != 0) {\n            BigDecimal value = BigDecimal.valueOf(years);\n            String yearStr = format(ChronoUnit.YEARS, value, locale);\n            parts.add(yearStr);\n        }\n        if (months != 0) {\n            BigDecimal value = BigDecimal.valueOf(months);\n            String monthStr = format(ChronoUnit.MONTHS, value, locale);\n            parts.add(monthStr);\n        }\n        if (includeWeeks) {\n            int weeks = days / 7;\n            if (weeks != 0) {\n                days %= 7;\n                BigDecimal value = BigDecimal.valueOf(weeks);\n                String weekStr = format(ChronoUnit.WEEKS, value, locale);\n                parts.add(weekStr);\n            }\n        }\n        if (days != 0) {\n            BigDecimal value = BigDecimal.valueOf(days);\n            String dayStr = format(ChronoUnit.DAYS, value, locale);\n            parts.add(dayStr);\n        }\n\n        return formatList(parts, locale);\n    }\n\n    private String formatList(List&lt;?&gt; parts,\n                              Locale locale) {\n\n        if (parts.isEmpty()) {\n            return &quot;&quot;;\n        }\n        int size = parts.size();\n        if (size == 1) {\n            return String.valueOf(parts.get(0));\n        }\n\n        Map&lt;String, String&gt; patternsByType = new HashMap&lt;&gt;();\n        for (Path dataFile : dataFilesFor(locale)) {\n            Object source = createSource(dataFile);\n\n            Optional&lt;Element&gt; listPatterns =\n                locateElement(source, &quot;/ldml/listPatterns&quot;);\n\n            if (!listPatterns.isPresent()) {\n                continue;\n            }\n\n            Optional&lt;Element&gt; listPattern =\n                locateElement(listPatterns.get(), &quot;listPattern[@type='unit']&quot;);\n\n            if (!listPattern.isPresent()) {\n                continue;\n            }\n\n            NodeList partList =\n                listPattern.get().getElementsByTagName(&quot;listPatternPart&quot;);\n\n            int count = partList.getLength();\n            for (int i = 0; i &lt; count; i++) {\n                Element part = (Element) partList.item(i);\n                String type = part.getAttribute(&quot;type&quot;);\n                String pattern = part.getTextContent();\n                patternsByType.putIfAbsent(type, pattern);\n            }\n        }\n\n        if (size == 2 || size == 3) {\n            String pattern = patternsByType.get(String.valueOf(size));\n            if (pattern != null) {\n                MessageFormat format =new MessageFormat(pattern, locale);\n                return format.format(parts.toArray());\n            }\n        }\n\n        MessageFormat startFormat = new MessageFormat(\n            patternsByType.get(&quot;start&quot;), locale);\n        MessageFormat middleFormat = new MessageFormat(\n            patternsByType.get(&quot;middle&quot;), locale);\n        MessageFormat endFormat = new MessageFormat(\n            patternsByType.get(&quot;end&quot;), locale);\n\n        String text = endFormat.format(\n            new Object[] { parts.get(size - 2), parts.get(size - 1) });\n\n        int index = size - 2;\n        while (--index &gt; 0) {\n            text = middleFormat.format(new Object[] { parts.get(index), text });\n        }\n        text = startFormat.format(new Object[] { parts.get(index), text });\n\n        return text;\n    }\n\n    public static void main(String[] args) {\n        String localeStr = System.getProperty(&quot;locale&quot;);\n        Locale locale = localeStr != null ?\n            Locale.forLanguageTag(localeStr) : Locale.getDefault();\n\n        boolean showWeeks = Boolean.getBoolean(&quot;weeks&quot;);\n\n        PeriodFormatter formatter = new PeriodFormatter();\n\n        for (String arg : args) {\n            Period period = Period.parse(arg);\n            String s = formatter.format(period, showWeeks, locale);\n            System.out.println(arg + &quot; =&gt; &quot; + s);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14889003,"reputation":121,"user_id":14908618,"display_name":"mar3g"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":412,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":2,"score":7,"last_activity_date":1665570232,"creation_date":1664969785,"question_id":73959786,"body_markdown":"Is there a way to convert a string given in ISO 8601 period format to a format readable by humans and also translated to specified language?\r\nExample:  \r\n - `P1W` --`en`--&gt; `1 Week`\r\n - `P2W` --`en`--&gt; `2 Weeks`\r\n - `P1W` --`pl`--&gt; `1 Tydzie`\r\n - `P2W` --`pl`--&gt; `2 Tygodnie`  \r\n  \r\nI am looking for an already implemented solution, without the necessity of defining periods translations.\r\n","title":"Is there an implemented way to convert ISO 8601 period to a translated string readable by humans in Java?","body":"<p>Is there a way to convert a string given in ISO 8601 period format to a format readable by humans and also translated to specified language?\nExample:</p>\n<ul>\n<li><code>P1W</code> --<code>en</code>--&gt; <code>1 Week</code></li>\n<li><code>P2W</code> --<code>en</code>--&gt; <code>2 Weeks</code></li>\n<li><code>P1W</code> --<code>pl</code>--&gt; <code>1 Tydzie</code></li>\n<li><code>P2W</code> --<code>pl</code>--&gt; <code>2 Tygodnie</code></li>\n</ul>\n<p>I am looking for an already implemented solution, without the necessity of defining periods translations.</p>\n"},{"tags":["java","android","flutter","push-notification","firebase-cloud-messaging"],"answers":[{"tags":[],"owner":{"account_id":12647385,"reputation":21,"user_id":9192665,"display_name":"Santosh Bastola"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643094474,"creation_date":1643094474,"answer_id":70844612,"question_id":70231976,"body_markdown":"If you using flutter_local_notification package, you can remove specific notification by their id.\r\n\r\nIf you are trying to remove remote notifications presented by firebase library itself, then I don&#39;t think there is a way to detect and remove specific notifications.","title":"How to remove my app&#39;s old notifications from notification bar in Flutter?","body":"<p>If you using flutter_local_notification package, you can remove specific notification by their id.</p>\n<p>If you are trying to remove remote notifications presented by firebase library itself, then I don't think there is a way to detect and remove specific notifications.</p>\n"},{"tags":[],"owner":{"account_id":13012907,"reputation":3760,"user_id":9405238,"display_name":"Doan Bui"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665570159,"creation_date":1665570159,"answer_id":74040259,"question_id":70231976,"body_markdown":"With lib [flutter_local_notifications][1]. Simple you can use below code to remove all notification of app:\r\n\r\n    logoutFirebase(){\r\n      // messaging.unsubscribeFromTopic(&quot;all&quot;);\r\n      FirebaseMessaging.instance.deleteToken();\r\n      // call to API delete columns ft_token with id and device if need\r\n      // this line to remove all notification\r\n      localNotification.cancelAll();\r\n    }\r\n\r\n\r\n  [1]: https://pub.dev/packages/flutter_local_notifications","title":"How to remove my app&#39;s old notifications from notification bar in Flutter?","body":"<p>With lib <a href=\"https://pub.dev/packages/flutter_local_notifications\" rel=\"nofollow noreferrer\">flutter_local_notifications</a>. Simple you can use below code to remove all notification of app:</p>\n<pre><code>logoutFirebase(){\n  // messaging.unsubscribeFromTopic(&quot;all&quot;);\n  FirebaseMessaging.instance.deleteToken();\n  // call to API delete columns ft_token with id and device if need\n  // this line to remove all notification\n  localNotification.cancelAll();\n}\n</code></pre>\n"}],"owner":{"account_id":19912683,"reputation":346,"user_id":14590393,"display_name":"Shehan DMG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2681,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1665570159,"creation_date":1638685655,"question_id":70231976,"body_markdown":"I have a app that give alarms(notifications with custom sounds). But notification sound doesn&#39;t work after having lot of notifications in notification bar. So I want to clear 1 hour old notifications from notification bar. Something like that...\r\n\r\nI know how to remove all notifications in notification bar but I want to remove older notifications only in FLUTTER. \r\nNOTE: devices running the app has android 8+\r\n\r\nAny idea how to achieve this?\r\n\r\n","title":"How to remove my app&#39;s old notifications from notification bar in Flutter?","body":"<p>I have a app that give alarms(notifications with custom sounds). But notification sound doesn't work after having lot of notifications in notification bar. So I want to clear 1 hour old notifications from notification bar. Something like that...</p>\n<p>I know how to remove all notifications in notification bar but I want to remove older notifications only in FLUTTER.\nNOTE: devices running the app has android 8+</p>\n<p>Any idea how to achieve this?</p>\n"},{"tags":["java","grails","grails-orm"],"answers":[{"tags":[],"owner":{"account_id":8750712,"reputation":3863,"user_id":6544083,"display_name":"Mike W"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1490545895,"creation_date":1490545895,"answer_id":43031431,"question_id":43013573,"body_markdown":"The following with get you a map with the property name as key and a map of constraints as values, works in Grails 3:\r\n\r\n    def d = new DefaultGrailsDomainClass(MyDomain.class)\r\n\r\n    def pp = d.persistentProperties.collectEntries {\r\n        [it.name, d.constrainedProperties[it.name]?.appliedConstraints ]\r\n    }","title":"How to get all the persistent properties of a grails Domain Class along with their constraints in a single Collection?","body":"<p>The following with get you a map with the property name as key and a map of constraints as values, works in Grails 3:</p>\n\n<pre><code>def d = new DefaultGrailsDomainClass(MyDomain.class)\n\ndef pp = d.persistentProperties.collectEntries {\n    [it.name, d.constrainedProperties[it.name]?.appliedConstraints ]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1738216,"reputation":1174,"user_id":1590293,"accept_rate":71,"display_name":"Trebla"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1517423524,"creation_date":1517423524,"answer_id":48549154,"question_id":43013573,"body_markdown":"As of grails 3.3, the accepted answer is no longer correct.  `DefaultGrailsDomainClass` is now deprecated and the single argument constructor will throw an Exception that mappingContext is not yet initialized.\r\n\r\nInject the `grailsDomainClassMappingContext` bean and get the `PersistentEntity` with \r\n\r\n    def persistentEntity = grailsDomainClassMappingContext.getPersistentEntity(MyDomain.class.name)\r\n    def propertyList = persistentEntity.getPersistentProperties()","title":"How to get all the persistent properties of a grails Domain Class along with their constraints in a single Collection?","body":"<p>As of grails 3.3, the accepted answer is no longer correct.  <code>DefaultGrailsDomainClass</code> is now deprecated and the single argument constructor will throw an Exception that mappingContext is not yet initialized.</p>\n\n<p>Inject the <code>grailsDomainClassMappingContext</code> bean and get the <code>PersistentEntity</code> with </p>\n\n<pre><code>def persistentEntity = grailsDomainClassMappingContext.getPersistentEntity(MyDomain.class.name)\ndef propertyList = persistentEntity.getPersistentProperties()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":323995,"reputation":1070,"user_id":644332,"display_name":"gargii"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1552469894,"creation_date":1552469894,"answer_id":55138550,"question_id":43013573,"body_markdown":"I use this solution on Grails 3.3.9:\r\n\r\n1) autowire this propoerty\r\n\r\n    MappingContext grailsDomainClassMappingContext\r\n\r\n2) retrieve `propertyList` and `constrainedProperties`\r\n\r\n    ConstrainedDiscovery constrainedDiscovery = GrailsFactoriesLoader.loadFactory(ConstrainedDiscovery.class);\r\n    PersistentEntity crlPe = grailsDomainClassMappingContext.getPersistentEntity(MyDomain.name)\r\n\r\n    def propertyList = persistentEntity.getPersistentProperties()\r\n    Map constrainedProperties = constrainedDiscovery.findConstrainedProperties(crlPe);\r\n\r\n---\r\n\r\nFurthermore the [documentation][1] states you should be able to retrieve constraints by calling this:\r\n\r\n    MyDomain.constrainedProperties\r\n\r\nIt indeed works but with an annoying warning in the log. This solution may be easily used with the log message suppressed by:\r\n\r\n    logger(&quot;org.grails.core.DefaultGrailsDomainClass&quot;, ERROR)\r\n\r\n  [1]: http://docs.grails.org/3.3.9/ref/Constraints/Usage.html","title":"How to get all the persistent properties of a grails Domain Class along with their constraints in a single Collection?","body":"<p>I use this solution on Grails 3.3.9:</p>\n\n<p>1) autowire this propoerty</p>\n\n<pre><code>MappingContext grailsDomainClassMappingContext\n</code></pre>\n\n<p>2) retrieve <code>propertyList</code> and <code>constrainedProperties</code></p>\n\n<pre><code>ConstrainedDiscovery constrainedDiscovery = GrailsFactoriesLoader.loadFactory(ConstrainedDiscovery.class);\nPersistentEntity crlPe = grailsDomainClassMappingContext.getPersistentEntity(MyDomain.name)\n\ndef propertyList = persistentEntity.getPersistentProperties()\nMap constrainedProperties = constrainedDiscovery.findConstrainedProperties(crlPe);\n</code></pre>\n\n<hr>\n\n<p>Furthermore the <a href=\"http://docs.grails.org/3.3.9/ref/Constraints/Usage.html\" rel=\"nofollow noreferrer\">documentation</a> states you should be able to retrieve constraints by calling this:</p>\n\n<pre><code>MyDomain.constrainedProperties\n</code></pre>\n\n<p>It indeed works but with an annoying warning in the log. This solution may be easily used with the log message suppressed by:</p>\n\n<pre><code>logger(\"org.grails.core.DefaultGrailsDomainClass\", ERROR)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":103812,"reputation":3551,"user_id":277861,"accept_rate":83,"display_name":"Al-Punk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612259071,"creation_date":1612259071,"answer_id":66007153,"question_id":43013573,"body_markdown":"Grails 4.x\r\n\r\n    def persistentEntity = grailsApplication.mappingContext.getPersistentEntity(object.getClass().getName())\r\n\r\n","title":"How to get all the persistent properties of a grails Domain Class along with their constraints in a single Collection?","body":"<p>Grails 4.x</p>\n<pre><code>def persistentEntity = grailsApplication.mappingContext.getPersistentEntity(object.getClass().getName())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18022654,"reputation":51,"user_id":13099445,"display_name":"Vahe92"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643880276,"creation_date":1643879687,"answer_id":70968553,"question_id":43013573,"body_markdown":"For Grails 4\r\n```scala\r\nList&lt;PersistentProperty&gt; props = Holders\r\n                .grailsApplication\r\n                .mappingContext\r\n                .getPersistentEntity(object.class.name)\r\n                .persistentProperties\r\n```","title":"How to get all the persistent properties of a grails Domain Class along with their constraints in a single Collection?","body":"<p>For Grails 4</p>\n<pre class=\"lang-scala prettyprint-override\"><code>List&lt;PersistentProperty&gt; props = Holders\n                .grailsApplication\n                .mappingContext\n                .getPersistentEntity(object.class.name)\n                .persistentProperties\n</code></pre>\n"}],"owner":{"account_id":4009545,"reputation":494,"user_id":3303358,"accept_rate":54,"display_name":"Shashank"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2925,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":43031431,"answer_count":5,"score":6,"last_activity_date":1665569889,"creation_date":1490425566,"question_id":43013573,"body_markdown":"I need to get all the information about a particular Grails domain class, i.e. the persistent properties and the constraints related to them in a single collection. How do I do that? ","title":"How to get all the persistent properties of a grails Domain Class along with their constraints in a single Collection?","body":"<p>I need to get all the information about a particular Grails domain class, i.e. the persistent properties and the constraints related to them in a single collection. How do I do that? </p>\n"},{"tags":["java","spring","spring-boot","rest","pagination"],"answers":[{"tags":[],"owner":{"account_id":9607023,"reputation":281,"user_id":7132739,"display_name":"The Frozen One"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665568607,"creation_date":1665567653,"answer_id":74039721,"question_id":74039413,"body_markdown":"I&#39;m not an expert on paging, but I think you have to create the Pageable object on your own consuming the request params if you don&#39;t use the default params &quot;page&quot; and &quot;size&quot;. Currently, these params are not consumed by your controller method at all. So create your own Pageable object in the controller using the params:\r\n\r\n    @GetMapping(path = {&quot;/v1/Log&quot;},\r\n        produces = {&quot;application/json&quot;},\r\n        consumes = {&quot;application/json&quot;})\r\n    public ResponseEntity&lt;LogsResponse&gt; getLog(@RequestParam(value = &quot;offset&quot;, required = false) Integer offset, @RequestParam(value = &quot;limit&quot;, required = false) Integer limit) {\r\n        //A check for null values in the request params would be a good idea here\r\n        PageRequest pageRequest = new PageRequest(offset, limit, Direction.DESC);\r\n        final Page&lt;Log&gt; log = LogService.getActionLog(pageRequest);\r\n        return ResponseEntity.ok(log.content);\r\n    }\r\n\r\nIf you use `@RequestParam` without &quot;value&quot;, Spring mvc expects the param name equal to the variable name, you can omit the &quot;value&quot; expression in this case. If you omit the &quot;required&quot; expression, it defaults to true which means that your request is failing if the param is missing.\r\n\r\nA different approach would be to override the default parameter names for paging, see [this tutorial][1].\r\n\r\n\r\n  [1]: https://springhow.com/spring-mvc-pagination-sorting/","title":"Offset and Limit are not Working in GET API","body":"<p>I'm not an expert on paging, but I think you have to create the Pageable object on your own consuming the request params if you don't use the default params &quot;page&quot; and &quot;size&quot;. Currently, these params are not consumed by your controller method at all. So create your own Pageable object in the controller using the params:</p>\n<pre><code>@GetMapping(path = {&quot;/v1/Log&quot;},\n    produces = {&quot;application/json&quot;},\n    consumes = {&quot;application/json&quot;})\npublic ResponseEntity&lt;LogsResponse&gt; getLog(@RequestParam(value = &quot;offset&quot;, required = false) Integer offset, @RequestParam(value = &quot;limit&quot;, required = false) Integer limit) {\n    //A check for null values in the request params would be a good idea here\n    PageRequest pageRequest = new PageRequest(offset, limit, Direction.DESC);\n    final Page&lt;Log&gt; log = LogService.getActionLog(pageRequest);\n    return ResponseEntity.ok(log.content);\n}\n</code></pre>\n<p>If you use <code>@RequestParam</code> without &quot;value&quot;, Spring mvc expects the param name equal to the variable name, you can omit the &quot;value&quot; expression in this case. If you omit the &quot;required&quot; expression, it defaults to true which means that your request is failing if the param is missing.</p>\n<p>A different approach would be to override the default parameter names for paging, see <a href=\"https://springhow.com/spring-mvc-pagination-sorting/\" rel=\"nofollow noreferrer\">this tutorial</a>.</p>\n"},{"tags":[],"owner":{"account_id":26562666,"reputation":119,"user_id":20190240,"display_name":"Jalena"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665569708,"creation_date":1665569708,"answer_id":74040158,"question_id":74039413,"body_markdown":"If you are trying to bind the values from the request parameter to pageable you have to use the same variables defined in pageable(or PageRequest to be more specific) which are `page` and `size`.\r\n\r\n[![PageRequest parameter names][1]][1]\r\n\r\nAnd that is why when you are using page and size it works. \r\n\r\nBut if you are passing those values in the request parameter with some other names you will have to do it something like this,\r\n\r\n    public ResponseEntity&lt;LogsResponse&gt; getLog(@RequestParam(defaultValue = &quot;0&quot;) Integer offset, @RequestParam(defaultValue = &quot;10&quot;) Integer limit) {\r\n        Pageable pageable = PageRequest.of(offset, limit);\r\n        \r\n        final Page&lt;Log&gt; log = LogService.getActionLog(pageable);\r\n        return ResponseEntity.ok(log.content);\r\n    }\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EH4IW.png","title":"Offset and Limit are not Working in GET API","body":"<p>If you are trying to bind the values from the request parameter to pageable you have to use the same variables defined in pageable(or PageRequest to be more specific) which are <code>page</code> and <code>size</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/EH4IW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EH4IW.png\" alt=\"PageRequest parameter names\" /></a></p>\n<p>And that is why when you are using page and size it works.</p>\n<p>But if you are passing those values in the request parameter with some other names you will have to do it something like this,</p>\n<pre><code>public ResponseEntity&lt;LogsResponse&gt; getLog(@RequestParam(defaultValue = &quot;0&quot;) Integer offset, @RequestParam(defaultValue = &quot;10&quot;) Integer limit) {\n    Pageable pageable = PageRequest.of(offset, limit);\n    \n    final Page&lt;Log&gt; log = LogService.getActionLog(pageable);\n    return ResponseEntity.ok(log.content);\n}\n</code></pre>\n"}],"owner":{"account_id":26598681,"reputation":1,"user_id":20220617,"display_name":"GenuineRR1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":633,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665569708,"creation_date":1665566309,"question_id":74039413,"body_markdown":"I have a spring application.\r\n\r\nMy Get api:\r\n\r\n```\r\nimport org.springframework.data.domain.Page;\r\nimport org.springframework.data.domain.Pageable;\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n @GetMapping(path = {&quot;/v1/Log&quot;},\r\n        produces = {&quot;application/json&quot;},\r\n        consumes = {&quot;application/json&quot;})\r\npublic ResponseEntity&lt;LogsResponse&gt; getLog(final Pageable pageable) {\r\n        final Page&lt;Log&gt; log = LogService.getActionLog(pageable);\r\n        return ResponseEntity.ok(log.content);\r\n}\r\n\r\n```\r\n\r\nMy Repository class:\r\n\r\n```\r\nimport org.springframework.data.domain.Page;\r\nimport org.springframework.data.domain.Pageable;\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface LogDBRepository extends MongoRepository&lt;Log, String&gt; {\r\n    Page&lt;Log&gt; findAll(final Pageable pageable);\r\n}\r\n\r\n```\r\n\r\nthis is how  I am testing offset and limit:\r\n\r\n**Issue I am facing is** -&gt; With **/log?offset=1&amp;limit=1** It is not returning the result by skipping or omitting the first page and also it should give only 1 result since my limit is 1 but it is returning all the rows/document present in the Mongo DB.\r\n\r\nwhile same api is working If I use **/log?page=1&amp;size=1**\r\n\r\n**My Expectation:**  how can I make it to return only 1 result and skip the first result?\r\n\r\n```\r\n\r\n@Test\r\npublic void givenPageRequest_whenGetLogCalled_returnSuccess() {\r\n\r\nLogDBRespository.saveAll(Arrays.asList(Log.builder().id(&quot;id1&quot;).transactionId(&quot;tx1&quot;).status(LogStatus.PENDING).build(),\r\n                Log.builder().id(&quot;id2&quot;).status(LogStatus.PENDING).transactionId(&quot;tx2&quot;).build()));\r\n\r\nfinal HttpHeaders headers = new HttpHeaders();\r\n        \r\nheaders.setContentType(MediaType.APPLICATION_JSON);\r\n\r\nfinal HttpEntity httpEntity = new HttpEntity(headers);\r\n\r\nResponseEntity&lt;LogsResponse&gt; responseEntity = testRestTemplate.exchange(&quot;/log?offset=1&amp;limit=1&quot;, HttpMethod.GET, httpEntity, LogsResponse.class);\r\n\r\nAssertions.assertEquals(HttpStatus.OK.value(), responseEntity.getStatusCode().value());\r\n\r\n}\r\n```","title":"Offset and Limit are not Working in GET API","body":"<p>I have a spring application.</p>\n<p>My Get api:</p>\n<pre><code>import org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.mongodb.repository.MongoRepository;\nimport org.springframework.stereotype.Repository;\n\n @GetMapping(path = {&quot;/v1/Log&quot;},\n        produces = {&quot;application/json&quot;},\n        consumes = {&quot;application/json&quot;})\npublic ResponseEntity&lt;LogsResponse&gt; getLog(final Pageable pageable) {\n        final Page&lt;Log&gt; log = LogService.getActionLog(pageable);\n        return ResponseEntity.ok(log.content);\n}\n\n</code></pre>\n<p>My Repository class:</p>\n<pre><code>import org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.mongodb.repository.MongoRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface LogDBRepository extends MongoRepository&lt;Log, String&gt; {\n    Page&lt;Log&gt; findAll(final Pageable pageable);\n}\n\n</code></pre>\n<p>this is how  I am testing offset and limit:</p>\n<p><strong>Issue I am facing is</strong> -&gt; With <strong>/log?offset=1&amp;limit=1</strong> It is not returning the result by skipping or omitting the first page and also it should give only 1 result since my limit is 1 but it is returning all the rows/document present in the Mongo DB.</p>\n<p>while same api is working If I use <strong>/log?page=1&amp;size=1</strong></p>\n<p><strong>My Expectation:</strong>  how can I make it to return only 1 result and skip the first result?</p>\n<pre><code>\n@Test\npublic void givenPageRequest_whenGetLogCalled_returnSuccess() {\n\nLogDBRespository.saveAll(Arrays.asList(Log.builder().id(&quot;id1&quot;).transactionId(&quot;tx1&quot;).status(LogStatus.PENDING).build(),\n                Log.builder().id(&quot;id2&quot;).status(LogStatus.PENDING).transactionId(&quot;tx2&quot;).build()));\n\nfinal HttpHeaders headers = new HttpHeaders();\n        \nheaders.setContentType(MediaType.APPLICATION_JSON);\n\nfinal HttpEntity httpEntity = new HttpEntity(headers);\n\nResponseEntity&lt;LogsResponse&gt; responseEntity = testRestTemplate.exchange(&quot;/log?offset=1&amp;limit=1&quot;, HttpMethod.GET, httpEntity, LogsResponse.class);\n\nAssertions.assertEquals(HttpStatus.OK.value(), responseEntity.getStatusCode().value());\n\n}\n</code></pre>\n"},{"tags":["java","jdbc","mybatis","hsqldb"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1656072274,"post_id":72743313,"comment_id":128488582,"body_markdown":"JDBC does not define support for ZonedDateTime. Support is therefor non-standard, and will vary by driver.","body":"JDBC does not define support for ZonedDateTime. Support is therefor non-standard, and will vary by driver."},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1656079435,"post_id":72743313,"comment_id":128491373,"body_markdown":"Exactly, this is why mybatis should not assume that it is supported. See my solution below to use setTimestamp(...) and getTimestamp(...) in a custom TypeHandler","body":"Exactly, this is why mybatis should not assume that it is supported. See my solution below to use setTimestamp(...) and getTimestamp(...) in a custom TypeHandler"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1656082185,"post_id":72743313,"comment_id":128492416,"body_markdown":"Consider using `LocalDateTime` (if the column is a `java.sql.Types.TIMESTAMP`) or `OffsetDateTime` (if the column is `java.sql.Types.TIMESTAMP_WITH_TIMEZONE`). Using `java.sql.Timestamp.from(Instant)` can produce inconsistent results given how `java.sql.Timestamp` is handled in &quot;the default JVM timezone&quot;.","body":"Consider using <code>LocalDateTime</code> (if the column is a <code>java.sql.Types.TIMESTAMP</code>) or <code>OffsetDateTime</code> (if the column is <code>java.sql.Types.TIMESTAMP_WITH_TIMEZONE</code>). Using <code>java.sql.Timestamp.from(Instant)</code> can produce inconsistent results given how <code>java.sql.Timestamp</code> is handled in &quot;the default JVM timezone&quot;."},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1656083919,"post_id":72743313,"comment_id":128493025,"body_markdown":"I&#39;m not sure I follow you, Timestamp and Date classes don&#39;t understand the concept of a timezone. They are both just a representation of milliseconds since epoch (1970-01-01T00:00:00Z).","body":"I&#39;m not sure I follow you, Timestamp and Date classes don&#39;t understand the concept of a timezone. They are both just a representation of milliseconds since epoch (1970-01-01T00:00:00Z)."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1656084774,"post_id":72743313,"comment_id":128493318,"body_markdown":"That is *technically* what `java.sql.Timestamp` is. But that is not how it is specified to be used. Given a value of `2022-06-24 17:30:00` in a `TIMESTAMP` (without time zone) column, that value needs to be interpreted in the JVM default timezone (as that is specified by JDBC). So if your JVM is in UTC, it will have an epoch millis of 1656091800000, is your timezone Europe/Berlin, then it is 1656084600000, etc.","body":"That is <i>technically</i> what <code>java.sql.Timestamp</code> is. But that is not how it is specified to be used. Given a value of <code>2022-06-24 17:30:00</code> in a <code>TIMESTAMP</code> (without time zone) column, that value needs to be interpreted in the JVM default timezone (as that is specified by JDBC). So if your JVM is in UTC, it will have an epoch millis of 1656091800000, is your timezone Europe/Berlin, then it is 1656084600000, etc."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1656084939,"post_id":72743313,"comment_id":128493365,"body_markdown":"And the other way around this also applies: storing a millisecond value of 1656091800000 (i.e. `new Timestamp(1656091800000L)`) when your default JVM time zone is UTC, produces a `TIMESTAMP` value of `2022-06-24 17:30:00`, but storing the same millisecond value in Europe/Berlin produces `2022-06-24 19:30:00`.","body":"And the other way around this also applies: storing a millisecond value of 1656091800000 (i.e. <code>new Timestamp(1656091800000L)</code>) when your default JVM time zone is UTC, produces a <code>TIMESTAMP</code> value of <code>2022-06-24 17:30:00</code>, but storing the same millisecond value in Europe/Berlin produces <code>2022-06-24 19:30:00</code>."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1656085180,"post_id":72743313,"comment_id":128493426,"body_markdown":"Consider the &quot;fun&quot; when you have applications in different JVM timezones (or the same application where the default time zone is changed at some point during the lifetime) accessing the same data and you expect the resulting milliseconds to be stable. This is why JDBC 4.2 introduced use of `java.time.LocalDateTime` for `TIMESTAMP`, and `java.time.OffsetDateTime` for `TIMESTAMP_WITH_TIMEZONE`.","body":"Consider the &quot;fun&quot; when you have applications in different JVM timezones (or the same application where the default time zone is changed at some point during the lifetime) accessing the same data and you expect the resulting milliseconds to be stable. This is why JDBC 4.2 introduced use of <code>java.time.LocalDateTime</code> for <code>TIMESTAMP</code>, and <code>java.time.OffsetDateTime</code> for <code>TIMESTAMP_WITH_TIMEZONE</code>."},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1656087746,"post_id":72743313,"comment_id":128494218,"body_markdown":"I can assure you that I am well versed in timezone issues. As you can see I&#39;m wanting to use ZonedDateTime in my application code (ultimately to pass dates to and from a client as json) and it&#39;s only mybatis that needs to deal with Timestamp under the hood. Since epoch is UTC, both Date and Timestamp are milliseconds since a point in time in UTC.  Date and Timestamp have no concept of timezone, it&#39;s only when we write them to a string (eg json or show on a UI) or convert them to a ZonedDateTime that the concept of a timezone appears","body":"I can assure you that I am well versed in timezone issues. As you can see I&#39;m wanting to use ZonedDateTime in my application code (ultimately to pass dates to and from a client as json) and it&#39;s only mybatis that needs to deal with Timestamp under the hood. Since epoch is UTC, both Date and Timestamp are milliseconds since a point in time in UTC.  Date and Timestamp have no concept of timezone, it&#39;s only when we write them to a string (eg json or show on a UI) or convert them to a ZonedDateTime that the concept of a timezone appears"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1656088596,"post_id":72743313,"comment_id":128494475,"body_markdown":"My point is that value that is stored for a `java.sql.Timestamp` with a certain epoch millisecond value depends on the current default JVM time zone, and thus can exhibit unexpected behaviour if you run from machines with different time zones, or if the machine hosting your JVM changes config of its time zone.","body":"My point is that value that is stored for a <code>java.sql.Timestamp</code> with a certain epoch millisecond value depends on the current default JVM time zone, and thus can exhibit unexpected behaviour if you run from machines with different time zones, or if the machine hosting your JVM changes config of its time zone."},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1656090132,"post_id":72743313,"comment_id":128494951,"body_markdown":"Regardless of where the JVM is running (and it&#39;s default timezone) clients will be passing in ZonedDateTime (either in the client timezone or UTC) and my application will respond with ZonedDateTime (in UTC). So the server can be running anywhere in the world and the behavior will be consistent. If I was passing around LocalDateTime  your comments are obviously true","body":"Regardless of where the JVM is running (and it&#39;s default timezone) clients will be passing in ZonedDateTime (either in the client timezone or UTC) and my application will respond with ZonedDateTime (in UTC). So the server can be running anywhere in the world and the behavior will be consistent. If I was passing around LocalDateTime  your comments are obviously true"},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1656113795,"post_id":72743313,"comment_id":128500169,"body_markdown":"This small [test](https://github.com/mybatis/mybatis-3/pull/1478#issuecomment-513266102) should demonstrate the fundamental issue of `java.sql.Timestamp`. `java.sql.Timestamp` (or `java.util.Date`) internally relies on the default time zone and it simply cannot hold &#39;a value that does not exist in the default time zone&#39;. So, as long as the conversion involves `java.sql.Timestamp`, there can be a scenario that produces an unexpected value.","body":"This small <a href=\"https://github.com/mybatis/mybatis-3/pull/1478#issuecomment-513266102\" rel=\"nofollow noreferrer\">test</a> should demonstrate the fundamental issue of <code>java.sql.Timestamp</code>. <code>java.sql.Timestamp</code> (or <code>java.util.Date</code>) internally relies on the default time zone and it simply cannot hold &#39;a value that does not exist in the default time zone&#39;. So, as long as the conversion involves <code>java.sql.Timestamp</code>, there can be a scenario that produces an unexpected value."},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1656116487,"post_id":72743313,"comment_id":128500545,"body_markdown":"Thanks, that test doesn&#39;t even involve a jdbc driver or database. Seems there&#39;s a bug in `java.sql.Timestamp`. I&#39;ll have to investigate further and perhaps switch to `OffsetDateTime` if both my drivers support it (hsqldb for unit testing, oracle in production)","body":"Thanks, that test doesn&#39;t even involve a jdbc driver or database. Seems there&#39;s a bug in <code>java.sql.Timestamp</code>. I&#39;ll have to investigate further and perhaps switch to <code>OffsetDateTime</code> if both my drivers support it (hsqldb for unit testing, oracle in production)"},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1656117457,"post_id":72743313,"comment_id":128500637,"body_markdown":"@lance-java Among the drivers I [tested](https://gist.github.com/harawata/2d14ece14581089180da4708df0e074f#file-zoneddatetimetest-java), only Oracle supported `ZonedDateTime`. `OffsetDateTime` is widely [supported](https://github.com/mybatis/mybatis-3/pull/1368#issuecomment-428922657) including HSQLDB and Oracle. It usually requires particular data type on the DB side, though.","body":"@lance-java Among the drivers I <a href=\"https://gist.github.com/harawata/2d14ece14581089180da4708df0e074f#file-zoneddatetimetest-java\" rel=\"nofollow noreferrer\">tested</a>, only Oracle supported <code>ZonedDateTime</code>. <code>OffsetDateTime</code> is widely <a href=\"https://github.com/mybatis/mybatis-3/pull/1368#issuecomment-428922657\" rel=\"nofollow noreferrer\">supported</a> including HSQLDB and Oracle. It usually requires particular data type on the DB side, though."},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1656150968,"post_id":72743313,"comment_id":128504679,"body_markdown":"And thanks Mark Rotteveel for your persistence, my assumption that Timestamp treats millis the same as `java.util.Date` was obviously incorrect","body":"And thanks Mark Rotteveel for your persistence, my assumption that Timestamp treats millis the same as <code>java.util.Date</code> was obviously incorrect"}],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665569686,"creation_date":1665494439,"answer_id":74028838,"question_id":72743313,"body_markdown":"HSQL does not have native support for `ZonedDateTime` but it does have support for `OffsetDateTime` for columns of type `TIMESTAMP WITH TIME ZONE` (see [HSQL datetime types](http://hsqldb.org/doc/2.0/guide/sqlgeneral-chapt.html#sgc_datetime_types)). HSQL was throwing exception with the built-in [OffsetDateTimeTypeHandler](https://github.com/mybatis/mybatis-3/blob/master/src/main/java/org/apache/ibatis/type/OffsetDateTimeTypeHandler.java) so I had to write a custom [TypeHandler](https://github.com/mybatis/mybatis-3/blob/master/src/main/java/org/apache/ibatis/type/TypeHandler.java)\r\n\r\n```java\r\npublic class HsqlOffsetDateTimeTypeHandler extends BaseTypeHandler&lt;OffsetDateTime&gt; {\r\n    @Override\r\n    public void setNonNullParameter(PreparedStatement ps, int i, OffsetDateTime parameter, JdbcType jdbcType) throws SQLException {\r\n        ps.setObject(i, parameter);\r\n    }\r\n\r\n    @Override\r\n    public OffsetDateTime getNullableResult(ResultSet rs, String columnName) throws SQLException {\r\n        return (OffsetDateTime) rs.getObject(columnName);\r\n    }\r\n\r\n    @Override\r\n    public OffsetDateTime getNullableResult(ResultSet rs, int columnIndex) throws SQLException {\r\n        return (OffsetDateTime) rs.getObject(columnIndex);\r\n    }\r\n\r\n    @Override\r\n    public OffsetDateTime getNullableResult(CallableStatement cs, int columnIndex) throws SQLException {\r\n        return (OffsetDateTime) cs.getObject(columnIndex);\r\n    }\r\n}\r\n```\r\nI registered this via\r\n```java\r\n    @Bean\r\n    public SqlSessionFactory sqlSessionFactory(DataSource dataSource) {\r\n        TransactionFactory transactionFactory = new JdbcTransactionFactory();\r\n        Environment environment = new Environment(&quot;default&quot;, transactionFactory, dataSource);\r\n        org.apache.ibatis.session.Configuration configuration = new org.apache.ibatis.session.Configuration(environment);\r\n\t\tTypeHandlerRegistry typeHandlerRegistry = configuration.getTypeHandlerRegistry();\r\n\t\ttypeHandlerRegistry.register(OffsetDateTime.class, new HsqlOffsetDateTimeTypeHandler());\r\n        configuration.addMapper(MyMapper.class);\r\n\t\t...\r\n        return new DefaultSqlSessionFactory(configuration);\r\n    }\t\t\t\r\n```\r\n\r\nI also had to declare my columns as `TIMESTAMP WITH TIME ZONE` instead of `DATE`\r\n```sql\r\nCREATE TABLE MY_TABLE (\r\n    PK            NUMBER(12),\r\n\tNAME          VARCHAR2(255),\r\n    CREATED_DATE  TIMESTAMP WITH TIME ZONE NOT NULL,\r\n    UPDATED_DATE  TIMESTAMP WITH TIME ZONE,\r\n    DELETED_DATE  TIMESTAMP WITH TIME ZONE,\r\n);\r\n```\r\n\r\nPrior to registering my custom TypeHandler I was getting the following exception\r\n```\r\nCaused by: org.apache.ibatis.executor.result.ResultMapException: Error attempting to get column &#39;UPDATED_DATE&#39; from result set.  Cause: java.sql.SQLSyntaxErrorException: incompatible data type in conversion\r\n\tat org.apache.ibatis.type.BaseTypeHandler.getResult(BaseTypeHandler.java:87)\r\n\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createParameterizedResultObject(DefaultResultSetHandler.java:678)\r\n\t... 78 more\r\nCaused by: java.sql.SQLSyntaxErrorException: incompatible data type in conversion\r\n\tat org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)\r\n\tat org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)\r\n\tat org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)\r\n\tat org.hsqldb.jdbc.JDBCResultSet.getObject(Unknown Source)\r\n\tat org.hsqldb.jdbc.JDBCResultSet.getObject(Unknown Source)\r\n\tat com.zaxxer.hikari.pool.HikariProxyResultSet.getObject(HikariProxyResultSet.java)\r\n\tat org.apache.ibatis.type.OffsetDateTimeTypeHandler.getNullableResult(OffsetDateTimeTypeHandler.java:38)\r\n\tat org.apache.ibatis.type.OffsetDateTimeTypeHandler.getNullableResult(OffsetDateTimeTypeHandler.java:28)\r\n\tat org.apache.ibatis.type.BaseTypeHandler.getResult(BaseTypeHandler.java:85)\r\n\t... 79 more\r\nCaused by: org.hsqldb.HsqlException: incompatible data type in conversion\r\n\tat org.hsqldb.error.Error.error(Unknown Source)\r\n\tat org.hsqldb.error.Error.error(Unknown Source)\r\n\t... 86 more\r\n```","title":"Mybatis not handling ZonedDateTime","body":"<p>HSQL does not have native support for <code>ZonedDateTime</code> but it does have support for <code>OffsetDateTime</code> for columns of type <code>TIMESTAMP WITH TIME ZONE</code> (see <a href=\"http://hsqldb.org/doc/2.0/guide/sqlgeneral-chapt.html#sgc_datetime_types\" rel=\"nofollow noreferrer\">HSQL datetime types</a>). HSQL was throwing exception with the built-in <a href=\"https://github.com/mybatis/mybatis-3/blob/master/src/main/java/org/apache/ibatis/type/OffsetDateTimeTypeHandler.java\" rel=\"nofollow noreferrer\">OffsetDateTimeTypeHandler</a> so I had to write a custom <a href=\"https://github.com/mybatis/mybatis-3/blob/master/src/main/java/org/apache/ibatis/type/TypeHandler.java\" rel=\"nofollow noreferrer\">TypeHandler</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HsqlOffsetDateTimeTypeHandler extends BaseTypeHandler&lt;OffsetDateTime&gt; {\n    @Override\n    public void setNonNullParameter(PreparedStatement ps, int i, OffsetDateTime parameter, JdbcType jdbcType) throws SQLException {\n        ps.setObject(i, parameter);\n    }\n\n    @Override\n    public OffsetDateTime getNullableResult(ResultSet rs, String columnName) throws SQLException {\n        return (OffsetDateTime) rs.getObject(columnName);\n    }\n\n    @Override\n    public OffsetDateTime getNullableResult(ResultSet rs, int columnIndex) throws SQLException {\n        return (OffsetDateTime) rs.getObject(columnIndex);\n    }\n\n    @Override\n    public OffsetDateTime getNullableResult(CallableStatement cs, int columnIndex) throws SQLException {\n        return (OffsetDateTime) cs.getObject(columnIndex);\n    }\n}\n</code></pre>\n<p>I registered this via</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public SqlSessionFactory sqlSessionFactory(DataSource dataSource) {\n        TransactionFactory transactionFactory = new JdbcTransactionFactory();\n        Environment environment = new Environment(&quot;default&quot;, transactionFactory, dataSource);\n        org.apache.ibatis.session.Configuration configuration = new org.apache.ibatis.session.Configuration(environment);\n        TypeHandlerRegistry typeHandlerRegistry = configuration.getTypeHandlerRegistry();\n        typeHandlerRegistry.register(OffsetDateTime.class, new HsqlOffsetDateTimeTypeHandler());\n        configuration.addMapper(MyMapper.class);\n        ...\n        return new DefaultSqlSessionFactory(configuration);\n    }           \n</code></pre>\n<p>I also had to declare my columns as <code>TIMESTAMP WITH TIME ZONE</code> instead of <code>DATE</code></p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE MY_TABLE (\n    PK            NUMBER(12),\n    NAME          VARCHAR2(255),\n    CREATED_DATE  TIMESTAMP WITH TIME ZONE NOT NULL,\n    UPDATED_DATE  TIMESTAMP WITH TIME ZONE,\n    DELETED_DATE  TIMESTAMP WITH TIME ZONE,\n);\n</code></pre>\n<p>Prior to registering my custom TypeHandler I was getting the following exception</p>\n<pre><code>Caused by: org.apache.ibatis.executor.result.ResultMapException: Error attempting to get column 'UPDATED_DATE' from result set.  Cause: java.sql.SQLSyntaxErrorException: incompatible data type in conversion\n    at org.apache.ibatis.type.BaseTypeHandler.getResult(BaseTypeHandler.java:87)\n    at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createParameterizedResultObject(DefaultResultSetHandler.java:678)\n    ... 78 more\nCaused by: java.sql.SQLSyntaxErrorException: incompatible data type in conversion\n    at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)\n    at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)\n    at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)\n    at org.hsqldb.jdbc.JDBCResultSet.getObject(Unknown Source)\n    at org.hsqldb.jdbc.JDBCResultSet.getObject(Unknown Source)\n    at com.zaxxer.hikari.pool.HikariProxyResultSet.getObject(HikariProxyResultSet.java)\n    at org.apache.ibatis.type.OffsetDateTimeTypeHandler.getNullableResult(OffsetDateTimeTypeHandler.java:38)\n    at org.apache.ibatis.type.OffsetDateTimeTypeHandler.getNullableResult(OffsetDateTimeTypeHandler.java:28)\n    at org.apache.ibatis.type.BaseTypeHandler.getResult(BaseTypeHandler.java:85)\n    ... 79 more\nCaused by: org.hsqldb.HsqlException: incompatible data type in conversion\n    at org.hsqldb.error.Error.error(Unknown Source)\n    at org.hsqldb.error.Error.error(Unknown Source)\n    ... 86 more\n</code></pre>\n"}],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1654,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665569686,"creation_date":1656069554,"question_id":72743313,"body_markdown":"I have columns in a database table of type `DATE` which I&#39;d like mybatis to convert to `java.time.ZonedDateTime` but it seems that the built in [ZonedDateTimeHandler](https://github.com/mybatis/mybatis-3/blob/master/src/main/java/org/apache/ibatis/type/ZonedDateTimeTypeHandler.java) is not working. I get the following exception\r\n\r\n```\r\nCaused by: org.apache.ibatis.executor.result.ResultMapException: Error attempting to get column &#39;UPDATED_DATE&#39; from result set.  Cause: java.sql.SQLSyntaxErrorException: incompatible data type in conversion\r\n\tat org.apache.ibatis.type.BaseTypeHandler.getResult(BaseTypeHandler.java:87)\r\n\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createUsingConstructor(DefaultResultSetHandler.java:711)\r\n\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createByConstructorSignature(DefaultResultSetHandler.java:694)\r\n\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createResultObject(DefaultResultSetHandler.java:658)\r\n\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createResultObject(DefaultResultSetHandler.java:631)\r\n\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(DefaultResultSetHandler.java:398)\r\n\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForSimpleResultMap(DefaultResultSetHandler.java:355)\r\n\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValues(DefaultResultSetHandler.java:329)\r\n\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSet(DefaultResultSetHandler.java:302)\r\n\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSets(DefaultResultSetHandler.java:195)\r\n\tat org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)\r\n\tat org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)\r\n\tat org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63)\r\n\tat org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)\r\n\tat org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)\r\n\tat org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)\r\n\tat org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:89)\r\n\tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)\r\n\t... 36 common frames omitted\r\nCaused by: java.sql.SQLSyntaxErrorException: incompatible data type in conversion\r\n\tat org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)\r\n\tat org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)\r\n\tat org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)\r\n\tat org.hsqldb.jdbc.JDBCResultSet.getObject(Unknown Source)\r\n\tat org.hsqldb.jdbc.JDBCResultSet.getObject(Unknown Source)\r\n\tat com.zaxxer.hikari.pool.HikariProxyResultSet.getObject(HikariProxyResultSet.java)\r\n\tat org.apache.ibatis.type.ZonedDateTimeTypeHandler.getNullableResult(ZonedDateTimeTypeHandler.java:38)\r\n\tat org.apache.ibatis.type.ZonedDateTimeTypeHandler.getNullableResult(ZonedDateTimeTypeHandler.java:28)\r\n\tat org.apache.ibatis.type.BaseTypeHandler.getResult(BaseTypeHandler.java:85)\r\n\t... 53 common frames omitted\r\nCaused by: org.hsqldb.HsqlException: incompatible data type in conversion\r\n\tat org.hsqldb.error.Error.error(Unknown Source)\r\n\tat org.hsqldb.error.Error.error(Unknown Source)\r\n\t... 60 common frames omitted\r\n```\r\n","title":"Mybatis not handling ZonedDateTime","body":"<p>I have columns in a database table of type <code>DATE</code> which I'd like mybatis to convert to <code>java.time.ZonedDateTime</code> but it seems that the built in <a href=\"https://github.com/mybatis/mybatis-3/blob/master/src/main/java/org/apache/ibatis/type/ZonedDateTimeTypeHandler.java\" rel=\"nofollow noreferrer\">ZonedDateTimeHandler</a> is not working. I get the following exception</p>\n<pre><code>Caused by: org.apache.ibatis.executor.result.ResultMapException: Error attempting to get column 'UPDATED_DATE' from result set.  Cause: java.sql.SQLSyntaxErrorException: incompatible data type in conversion\n    at org.apache.ibatis.type.BaseTypeHandler.getResult(BaseTypeHandler.java:87)\n    at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createUsingConstructor(DefaultResultSetHandler.java:711)\n    at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createByConstructorSignature(DefaultResultSetHandler.java:694)\n    at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createResultObject(DefaultResultSetHandler.java:658)\n    at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createResultObject(DefaultResultSetHandler.java:631)\n    at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(DefaultResultSetHandler.java:398)\n    at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForSimpleResultMap(DefaultResultSetHandler.java:355)\n    at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValues(DefaultResultSetHandler.java:329)\n    at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSet(DefaultResultSetHandler.java:302)\n    at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSets(DefaultResultSetHandler.java:195)\n    at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)\n    at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)\n    at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63)\n    at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)\n    at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)\n    at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)\n    at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:89)\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)\n    ... 36 common frames omitted\nCaused by: java.sql.SQLSyntaxErrorException: incompatible data type in conversion\n    at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)\n    at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)\n    at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)\n    at org.hsqldb.jdbc.JDBCResultSet.getObject(Unknown Source)\n    at org.hsqldb.jdbc.JDBCResultSet.getObject(Unknown Source)\n    at com.zaxxer.hikari.pool.HikariProxyResultSet.getObject(HikariProxyResultSet.java)\n    at org.apache.ibatis.type.ZonedDateTimeTypeHandler.getNullableResult(ZonedDateTimeTypeHandler.java:38)\n    at org.apache.ibatis.type.ZonedDateTimeTypeHandler.getNullableResult(ZonedDateTimeTypeHandler.java:28)\n    at org.apache.ibatis.type.BaseTypeHandler.getResult(BaseTypeHandler.java:85)\n    ... 53 common frames omitted\nCaused by: org.hsqldb.HsqlException: incompatible data type in conversion\n    at org.hsqldb.error.Error.error(Unknown Source)\n    at org.hsqldb.error.Error.error(Unknown Source)\n    ... 60 common frames omitted\n</code></pre>\n"},{"tags":["java","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":5999889,"reputation":564,"user_id":4713495,"display_name":"Svirin"},"score":4,"creation_date":1600870837,"post_id":64029790,"comment_id":113225807,"body_markdown":"Did you try to mark your `src` directory as `Source Root`?\n\nRight click on `src` folder -&gt; `Mark Directory As` -&gt; `Source Root`.\n\nAfter that try to right click on `src` directory and create a package","body":"Did you try to mark your <code>src</code> directory as <code>Source Root</code>?  Right click on <code>src</code> folder -&gt; <code>Mark Directory As</code> -&gt; <code>Source Root</code>.  After that try to right click on <code>src</code> directory and create a package"}],"answers":[{"tags":[],"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1600877320,"creation_date":1600877320,"answer_id":64032053,"question_id":64029790,"body_markdown":"Make sure that\r\n\r\n1. the module of the **Java** type\r\n2. the directory where you are trying to create a package or a Java/Kotlin class is marked as a [**source** root type](https://www.jetbrains.com/help/idea/content-roots.html#folder-categories).","title":"Intellij doesnt show package option when I right click","body":"<p>Make sure that</p>\n<ol>\n<li>the module of the <strong>Java</strong> type</li>\n<li>the directory where you are trying to create a package or a Java/Kotlin class is marked as a <a href=\"https://www.jetbrains.com/help/idea/content-roots.html#folder-categories\" rel=\"noreferrer\"><strong>source</strong> root type</a>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":26443994,"reputation":721,"user_id":20088068,"display_name":"Prajval Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665569653,"creation_date":1665569653,"answer_id":74040143,"question_id":64029790,"body_markdown":"The question already answered, as per the following [thread][1] there is very little difference between directories and packages in java parlance. \r\n\r\n[![Mark as Source root option][2]][2]\r\n\r\nMarking a directory as the source root means, it contains all the necessary code which will be deployed and will be required to run the application.\r\n\r\nIn my personal experience I could not find a way to create classes when the directories were just directories, but marking them as source root and tells IntellJ Idea that the source code is here so it can highlight them and actually look for errors and support us in our development of application. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9510932/java-package-vs-folder-structure-what-is-the-difference\r\n  [2]: https://i.stack.imgur.com/tF1Vi.png\r\n  [3]: https://stackoverflow.com/questions/39254216/when-would-i-use-the-mark-directory-as-option-in-intellij-idea#:~:text=Sources%20Root%20%2D%20this%20is%20where,check%20them%20for%20errors%2C%20etc.","title":"Intellij doesnt show package option when I right click","body":"<p>The question already answered, as per the following <a href=\"https://stackoverflow.com/questions/9510932/java-package-vs-folder-structure-what-is-the-difference\">thread</a> there is very little difference between directories and packages in java parlance.</p>\n<p><a href=\"https://i.stack.imgur.com/tF1Vi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tF1Vi.png\" alt=\"Mark as Source root option\" /></a></p>\n<p>Marking a directory as the source root means, it contains all the necessary code which will be deployed and will be required to run the application.</p>\n<p>In my personal experience I could not find a way to create classes when the directories were just directories, but marking them as source root and tells IntellJ Idea that the source code is here so it can highlight them and actually look for errors and support us in our development of application.</p>\n"}],"owner":{"account_id":10528101,"reputation":139,"user_id":7758452,"display_name":"vitaminJava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6107,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":64032053,"answer_count":2,"score":3,"last_activity_date":1665569653,"creation_date":1600869990,"question_id":64029790,"body_markdown":"Intellij doesnt show package option when I right click, I was trying to create new package on my project.\r\nI am adding the screenshot. Is there anybody know the solution?\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/feSw9.png","title":"Intellij doesnt show package option when I right click","body":"<p>Intellij doesnt show package option when I right click, I was trying to create new package on my project.\nI am adding the screenshot. Is there anybody know the solution?\n<a href=\"https://i.stack.imgur.com/feSw9.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","linked-list"],"answers":[{"tags":[],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665553041,"creation_date":1665553041,"answer_id":74036945,"question_id":74036795,"body_markdown":"There is a lot of code in your `swap()` method that isn&#39;t having any effect, and I expect that this is the reason for your trouble.  Let&#39;s take one small block as an example:\r\n\r\n    if(counter&lt; pos1-1){\r\n        temp= temp.next;\r\n        counter++;\r\n    }else{\r\n         swap = temp;\r\n         counter = 0;\r\n        return; \r\n    }\r\n\r\nThe first block, when `if` is `true`, makes sense.  It is just moving the pointer `temp` along to the next node in the list.  But the second block isn&#39;t doing anything.  You can take out the first two lines and no behavior will change.  Why?  Because `swap` and `counter` are both local variables.  When you call `return` and exit the method, those local variables disappear.  So setting them has no effect.  The only way to have a lasting effect is to change either `head` or `&lt;somenode&gt;.next`, the `next` pointer inside a node.\r\n\r\nThis problem is repeated a number of times in your `swap()` method.  Here&#39;s another block:\r\n\r\n      }else{\r\n          swap2 = temp;\r\n          temp = swap;\r\n          counter = 0;\r\n          return; \r\n      }\r\n\r\nWithout knowing anything else about the code except that `swap2`, `temp` and `counter` are local variables, I can tell you that those three lines of code before the `return` call will have no effect...you might as well remove them.\r\n\r\nRethink your logic to make sure that you are affecting the actual nodes in your linked list and you&#39;ll have better luck.\r\n\r\n","title":"How do I swap two elements in a linked list without java.util.*?","body":"<p>There is a lot of code in your <code>swap()</code> method that isn't having any effect, and I expect that this is the reason for your trouble.  Let's take one small block as an example:</p>\n<pre><code>if(counter&lt; pos1-1){\n    temp= temp.next;\n    counter++;\n}else{\n     swap = temp;\n     counter = 0;\n    return; \n}\n</code></pre>\n<p>The first block, when <code>if</code> is <code>true</code>, makes sense.  It is just moving the pointer <code>temp</code> along to the next node in the list.  But the second block isn't doing anything.  You can take out the first two lines and no behavior will change.  Why?  Because <code>swap</code> and <code>counter</code> are both local variables.  When you call <code>return</code> and exit the method, those local variables disappear.  So setting them has no effect.  The only way to have a lasting effect is to change either <code>head</code> or <code>&lt;somenode&gt;.next</code>, the <code>next</code> pointer inside a node.</p>\n<p>This problem is repeated a number of times in your <code>swap()</code> method.  Here's another block:</p>\n<pre><code>  }else{\n      swap2 = temp;\n      temp = swap;\n      counter = 0;\n      return; \n  }\n</code></pre>\n<p>Without knowing anything else about the code except that <code>swap2</code>, <code>temp</code> and <code>counter</code> are local variables, I can tell you that those three lines of code before the <code>return</code> call will have no effect...you might as well remove them.</p>\n<p>Rethink your logic to make sure that you are affecting the actual nodes in your linked list and you'll have better luck.</p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665569467,"creation_date":1665554290,"answer_id":74037092,"question_id":74036795,"body_markdown":"You have `insert()` and `remove()` operations in your linked list. You should add a `get(int pos)` so you can read an element at position pos.\r\n\r\nThen all you have to know is the indexes of the elements you want to swap.Then remove them from the list and insert them the other way round. \r\n\r\nWhen inserting you may have to fiddle a bit with the indexes since the length of the list changed due to the removals, but that&#39;s it.\r\n\r\n    void swap(int pos1, int pos2) {\r\n        if (pos1 == pos2)\r\n            return; // nothing to do\r\n\r\n        // ensure we have the first element in pos1\r\n        if (pos1 &gt; pos2) {\r\n            int t = pos1;\r\n            pos1 = pos2;\r\n            pos2 = t;\r\n        }\r\n\r\n        Planet p2 = get(pos2);\r\n        remove(pos2);\r\n\r\n        Planet p1 = get(pos1);\r\n        remove(pos1);\r\n\r\n        insert(p2, pos1);\r\n        insert(p1, pos2);\r\n    }\r\n    \r\n    Planet get(int pos) {\r\n        if(pos &gt;= countNodes() || pos &lt; 0 ){\r\n           throw new IndexOutOfBoundsException();\r\n        }\r\n\r\n        Planet temp = head.next;\r\n        int counter = pos;\r\n        while(temp != null &amp;&amp; counter&gt;0){\r\n            temp = temp.next;\r\n            counter--;\r\n        }\r\n\r\n        return temp;\r\n    }\r\n\r\nNote that the removal/insertion of the first position changes the list length such that the second position would change. Hence the sequence of the operations is important.\r\n\r\nAlso note that Java standard implementations of [List.remove()][1] return the removed element, which could eliminate the get() call and make the code look more elegant.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#remove(int)","title":"How do I swap two elements in a linked list without java.util.*?","body":"<p>You have <code>insert()</code> and <code>remove()</code> operations in your linked list. You should add a <code>get(int pos)</code> so you can read an element at position pos.</p>\n<p>Then all you have to know is the indexes of the elements you want to swap.Then remove them from the list and insert them the other way round.</p>\n<p>When inserting you may have to fiddle a bit with the indexes since the length of the list changed due to the removals, but that's it.</p>\n<pre><code>void swap(int pos1, int pos2) {\n    if (pos1 == pos2)\n        return; // nothing to do\n\n    // ensure we have the first element in pos1\n    if (pos1 &gt; pos2) {\n        int t = pos1;\n        pos1 = pos2;\n        pos2 = t;\n    }\n\n    Planet p2 = get(pos2);\n    remove(pos2);\n\n    Planet p1 = get(pos1);\n    remove(pos1);\n\n    insert(p2, pos1);\n    insert(p1, pos2);\n}\n\nPlanet get(int pos) {\n    if(pos &gt;= countNodes() || pos &lt; 0 ){\n       throw new IndexOutOfBoundsException();\n    }\n\n    Planet temp = head.next;\n    int counter = pos;\n    while(temp != null &amp;&amp; counter&gt;0){\n        temp = temp.next;\n        counter--;\n    }\n\n    return temp;\n}\n</code></pre>\n<p>Note that the removal/insertion of the first position changes the list length such that the second position would change. Hence the sequence of the operations is important.</p>\n<p>Also note that Java standard implementations of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#remove(int)\" rel=\"nofollow noreferrer\">List.remove()</a> return the removed element, which could eliminate the get() call and make the code look more elegant.</p>\n"}],"owner":{"account_id":26575078,"reputation":1,"user_id":20200634,"display_name":"pokemonmater940"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665569467,"creation_date":1665551727,"question_id":74036795,"body_markdown":"Hello I am currently trying to create a method swap() that takes the position of two different elements in the linked list and swaps the the elements in the linked list. For example if I have a mercury at index 0 and we have mars at index 3, then with the swap method, it should be mars at 0 and mercury at 3. I tried making temp and swap values and within my method and setting the temp values equal to swap values so it could swap those values with each other but it seems to not work.\r\nHere&#39;s the main\r\n``` \r\nimport java.io.File;\r\nimport java.util.Scanner;\r\nimport java.io.FileNotFoundException;\r\nclass test{\r\n    public static void main(String[] args){\r\n    // You are not allowed to change the main method.\r\n    String inputfilename = &quot;input.txt&quot;;    \r\n    String outputfilename= &quot;output.txt&quot;;\r\n    PlanetLinkedList solarSystem = constructLLFromFile(inputfilename);\r\n    \r\n    solarSystem.printLL();\r\n    \r\n   System.out.println();\r\n    \r\n    \r\n    solarSystem.printLL();\r\n    \r\n    System.out.println();\r\n\r\n    solarSystem.printLL();\r\n    \r\n    System.out.println();\r\n    \r\n    System.out.println(&quot;Number of nodes in the linked list: &quot;+solarSystem.countNodes());\r\n\r\n    System.out.println();\r\n    \r\n    System.out.println(&quot;I will find diameter 4879 in the linked list.&quot;);\r\n    solarSystem.search(4879);    \r\n    System.out.println();    \r\n\r\n    System.out.println(&quot;I will find diameter 12756 in the linked list.&quot;);\r\n    solarSystem.search(12756);    \r\n    System.out.println();  \r\n    \r\n    System.out.println(&quot;I will find Neptune in the linked list.&quot;);\r\n    solarSystem.search(&quot;Neptune&quot;);    \r\n    System.out.println();      \r\n    \r\n    System.out.println(&quot;I will find Pluto in the linked list.&quot;);\r\n    solarSystem.search(&quot;Pluto&quot;);    \r\n    System.out.println();          \r\n\r\n    System.out.println(&quot;I will find Jupiter in the linked list.&quot;);\r\n    solarSystem.search(&quot;Jupiter&quot;);    \r\n    System.out.println();              \r\n    \r\n    System.out.println(&quot;I am going to remove the current head.&quot;);\r\n    solarSystem.remove(0);\r\n    \r\n    System.out.println();\r\n    \r\n    solarSystem.printLL();\r\n    \r\n    System.out.println();\r\n    \r\n    System.out.println(&quot;I am going to insert a new record in position 4.&quot;);    \r\n    \r\n    Planet aNewPlanet = new Planet(&quot;Jupiter&quot;, 142984, 67);\r\n    solarSystem.insert(aNewPlanet, 4);\r\n\r\n    System.out.println();\r\n\r\n    solarSystem.printLL();    \r\n    \r\n    System.out.println(&quot;I am going to insert a new planet in position 5.&quot;);    \r\n    \r\n    aNewPlanet = new Planet(&quot;Uranus&quot;, 51118, 27);\r\n    solarSystem.insert(aNewPlanet, 5);\r\n\r\n    System.out.println();\r\n    \r\n    solarSystem.printLL();\r\n    \r\n    System.out.println(&quot;I am going to insert a new planet in position 7.&quot;);    \r\n    \r\n    aNewPlanet = new Planet(&quot;Neptune&quot;, 49528, 14);\r\n    solarSystem.insert(aNewPlanet, 7);\r\n\r\n    System.out.println();\r\n    \r\n    solarSystem.printLL();\r\n    \r\n    \r\n    System.out.println();   \r\n    System.out.println(&quot;I am going to swap position 0 and 3.&quot;);    \r\n    solarSystem.swap(0, 3);\r\n    \r\n    System.out.println();\r\n    solarSystem.printLL();       \r\n    \r\n    System.out.println();   \r\n    System.out.println(&quot;I am going to swap position 1 and 7.&quot;);    \r\n    solarSystem.swap(1, 7);\r\n    \r\n    System.out.println();   \r\n    System.out.println(&quot;I am going to swap position 1 and 4.&quot;);    \r\n    solarSystem.swap(1, 4);\r\n       \r\n    System.out.println();\r\n    solarSystem.printLL();      \r\n    \r\n    System.out.println();       \r\n    System.out.println(&quot;I am going to write the linked list to file: &quot;+outputfilename);        \r\n    solarSystem.writeLinkedListToFile(outputfilename);\r\n    \r\n  }\r\n  \r\nstatic PlanetLinkedList constructLLFromFile(String theInputFile){\r\n    System.out.println(&quot;Constructing the linked list from &quot;+theInputFile);\r\n    PlanetLinkedList head = new PlanetLinkedList();\r\n    try{\r\n      File file = new File(theInputFile);\r\n      Scanner scan = new Scanner(file);\r\n      int index = 0;\r\n      while(scan.hasNext()){\r\n        String name = scan.next();\r\n        long diamater = Long.parseLong(scan.next());\r\n        int moons  = Integer.parseInt(scan.next());\r\n       \r\n        Planet insertee = new Planet(name,diamater,moons);\r\n        head.insert(insertee,index);\r\n        index++;\r\n      }\r\n      \r\n      return head;\r\n\r\n    }catch(FileNotFoundException e){\r\n      System.out.println(&quot;file errors&quot;);\r\n    }\r\n\r\n    \r\n    return null;    \r\n\r\n  }\r\n}\r\n```\r\nThis is the linked list\r\n``` \r\nimport java.io.FileWriter;\r\n\r\nclass PlanetLinkedList{\r\n  private Planet head;\r\n  \r\n  PlanetLinkedList(){    \r\n  }\r\n  \r\n  PlanetLinkedList(Planet initial){\r\n    head=initial;\r\n  }\r\n  \r\n  PlanetLinkedList(String n, long d, int m){\r\n    head = new Planet(n, d, m);\r\n  }\r\n  \r\n void insert(Planet insertee, int pos){\r\n    int counter = 0;\r\n    if(pos==0 &amp;&amp; head == null){\r\n      //insertee.next = head;\r\n      head = insertee;\r\n      return;\r\n    }\r\n    if(pos &gt; countNodes() ){\r\n      System.out.println(&quot;Error out of bounds&quot;);\r\n      return; \r\n    }\r\n    if(pos== 0){\r\n      insertee.next = head;\r\n      head = insertee;\r\n      return;\r\n   }\r\n    Planet temp = head;\r\n    while(temp != null){\r\n      if(counter &lt; pos-1){\r\n        temp = temp.next;\r\n        counter++;\r\n      }else{\r\n         insertee.next = temp.next;\r\n         temp.next = insertee;\r\n         return;\r\n      }\r\n    }\r\n  }  \r\n \r\n void remove(int pos){\r\n    if(pos &gt; countNodes() || pos &lt; 0 ){\r\n       System.out.println(&quot;Error out of bounds&quot;);\r\n       return; \r\n    }\r\n    if(pos == 0){\r\n      head = head.next;\r\n    }\r\n    Planet temp = head.next;\r\n    Planet prev = head;\r\n    int counter = 0;\r\n    while(temp != null){\r\n      if(counter&lt; pos-1){\r\n        temp= temp.next;\r\n        counter++;\r\n      }\r\n      else{\r\n        prev = temp.next;\r\n        return;\r\n      }\r\n    }\r\n  }\r\n  \r\n  int countNodes(){\r\n     int count=0;\r\n     Planet temp = head;\r\n     while (temp != null){\r\n      temp = temp.next;\r\n      count++;\r\n     }   \r\n    return count;\r\n  }\r\n\r\n  void printLL(){\r\n    Planet temp = head;\r\n    if(head == null){\r\n      return;\r\n    }\r\n      while(temp != null ){\r\n     System.out.println(temp.getName());\r\n      System.out.println(temp.getDiameter());\r\n      System.out.println(temp.getMoon());\r\n      temp = temp.next;\r\n   }\r\n  }  \r\n  //need help here!\r\n  void swap(int pos1, int pos2){\r\n    Planet temp = head; \r\n    Planet swap = temp; \r\n    Planet swap2 = temp;\r\n    int counter = 0;\r\n    if(pos1 &gt; countNodes() || pos2 &gt; countNodes()){\r\n      System.out.println(&quot;Index error&quot;);\r\n      return;\r\n    }\r\n    while(temp != null ){\r\n      if(counter&lt; pos1-1){\r\n        temp= temp.next;\r\n        counter++;\r\n      }else{\r\n         swap = temp;\r\n         counter = 0;\r\n        return; \r\n      }\r\n      while(temp != null){\r\n        if(counter&lt; pos2-1){\r\n          temp= temp.next;\r\n          counter++; \r\n        }else{\r\n          swap2 = temp;\r\n          temp = swap;\r\n          counter = 0;\r\n          return; \r\n        }\r\n      }\r\n      while(temp != null){\r\n        if(counter&lt; pos1-1){\r\n          temp= temp.next;\r\n          counter++;\r\n        }else{\r\n          swap = temp;\r\n          temp = swap2.next;\r\n          counter = 0;\r\n        return; \r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  void search (String n){\r\n    int index = 0;\r\n    Planet temp = head;\r\n    boolean found = false;\r\n    while(temp != null){\r\n      if(n.equals(temp.getName())){\r\n        System.out.println(&quot;The record was found at postion &quot; + index);\r\n        found = true;\r\n      } \r\n        temp = temp.next; \r\n        index++;\r\n    }   \r\n     if(found == false){\r\n        System.out.println(&quot;The name &quot; + n + &quot; is not found in the linked list&quot;);\r\n    }   \r\n  }\r\n  \r\n  void search(long d){\r\n    Planet temp = head;\r\n    int index = 0;\r\n    boolean found = false;\r\n    while(temp != null){\r\n      if(d == temp.getDiameter()){\r\n        System.out.println(&quot;The record with the diameter &quot; + d + &quot; is found in postion &quot; + index);\r\n        found = true;\r\n      }\r\n      index++;\r\n      temp = temp.next;\r\n    }\r\n    if(found == false){\r\n       System.out.println(&quot;The diameter &quot; + d + &quot; is not found in the linked list&quot;);\r\n    } \r\n  }\r\n  \r\n  void writeLinkedListToFile(String filename){\r\n     \r\n\r\n\r\n  }\r\n  \r\n}\r\n```\r\nThis is the planet class\r\n```\r\nclass Planet{\r\n  private String name;\r\n  private long diameter;\r\n  private int moon;\r\n  \r\n  Planet next;\r\n  \r\n  Planet(String n, long d, int m){    \r\n    name = n;\r\n    diameter = d;\r\n    moon = m;\r\n  }\r\n  \r\n  \r\n  String getName(){\r\n    return name;\r\n  }\r\n  \r\n  long getDiameter(){\r\n    return diameter;\r\n  }\r\n  \r\n  int getMoon(){\r\n    return moon;\r\n  }\r\n  \r\n  public String toString(){\r\n    return &quot;Name: &quot;+name+\r\n           &quot;\\nDiameter: &quot;+diameter+\r\n           &quot;\\nMoon: &quot;+moon;\r\n  }\r\n}\r\n```\r\nHere is input file\r\n```\r\nMercury\r\n4879\r\n0\r\nVenus\r\n12104\r\n0\r\nEarth\r\n12756\r\n1\r\nMars\r\n6805\r\n2\r\nSaturn\r\n120536\r\n62\r\n```\r\nThank you for the help!\r\n","title":"How do I swap two elements in a linked list without java.util.*?","body":"<p>Hello I am currently trying to create a method swap() that takes the position of two different elements in the linked list and swaps the the elements in the linked list. For example if I have a mercury at index 0 and we have mars at index 3, then with the swap method, it should be mars at 0 and mercury at 3. I tried making temp and swap values and within my method and setting the temp values equal to swap values so it could swap those values with each other but it seems to not work.\nHere's the main</p>\n<pre><code>import java.io.File;\nimport java.util.Scanner;\nimport java.io.FileNotFoundException;\nclass test{\n    public static void main(String[] args){\n    // You are not allowed to change the main method.\n    String inputfilename = &quot;input.txt&quot;;    \n    String outputfilename= &quot;output.txt&quot;;\n    PlanetLinkedList solarSystem = constructLLFromFile(inputfilename);\n    \n    solarSystem.printLL();\n    \n   System.out.println();\n    \n    \n    solarSystem.printLL();\n    \n    System.out.println();\n\n    solarSystem.printLL();\n    \n    System.out.println();\n    \n    System.out.println(&quot;Number of nodes in the linked list: &quot;+solarSystem.countNodes());\n\n    System.out.println();\n    \n    System.out.println(&quot;I will find diameter 4879 in the linked list.&quot;);\n    solarSystem.search(4879);    \n    System.out.println();    \n\n    System.out.println(&quot;I will find diameter 12756 in the linked list.&quot;);\n    solarSystem.search(12756);    \n    System.out.println();  \n    \n    System.out.println(&quot;I will find Neptune in the linked list.&quot;);\n    solarSystem.search(&quot;Neptune&quot;);    \n    System.out.println();      \n    \n    System.out.println(&quot;I will find Pluto in the linked list.&quot;);\n    solarSystem.search(&quot;Pluto&quot;);    \n    System.out.println();          \n\n    System.out.println(&quot;I will find Jupiter in the linked list.&quot;);\n    solarSystem.search(&quot;Jupiter&quot;);    \n    System.out.println();              \n    \n    System.out.println(&quot;I am going to remove the current head.&quot;);\n    solarSystem.remove(0);\n    \n    System.out.println();\n    \n    solarSystem.printLL();\n    \n    System.out.println();\n    \n    System.out.println(&quot;I am going to insert a new record in position 4.&quot;);    \n    \n    Planet aNewPlanet = new Planet(&quot;Jupiter&quot;, 142984, 67);\n    solarSystem.insert(aNewPlanet, 4);\n\n    System.out.println();\n\n    solarSystem.printLL();    \n    \n    System.out.println(&quot;I am going to insert a new planet in position 5.&quot;);    \n    \n    aNewPlanet = new Planet(&quot;Uranus&quot;, 51118, 27);\n    solarSystem.insert(aNewPlanet, 5);\n\n    System.out.println();\n    \n    solarSystem.printLL();\n    \n    System.out.println(&quot;I am going to insert a new planet in position 7.&quot;);    \n    \n    aNewPlanet = new Planet(&quot;Neptune&quot;, 49528, 14);\n    solarSystem.insert(aNewPlanet, 7);\n\n    System.out.println();\n    \n    solarSystem.printLL();\n    \n    \n    System.out.println();   \n    System.out.println(&quot;I am going to swap position 0 and 3.&quot;);    \n    solarSystem.swap(0, 3);\n    \n    System.out.println();\n    solarSystem.printLL();       \n    \n    System.out.println();   \n    System.out.println(&quot;I am going to swap position 1 and 7.&quot;);    \n    solarSystem.swap(1, 7);\n    \n    System.out.println();   \n    System.out.println(&quot;I am going to swap position 1 and 4.&quot;);    \n    solarSystem.swap(1, 4);\n       \n    System.out.println();\n    solarSystem.printLL();      \n    \n    System.out.println();       \n    System.out.println(&quot;I am going to write the linked list to file: &quot;+outputfilename);        \n    solarSystem.writeLinkedListToFile(outputfilename);\n    \n  }\n  \nstatic PlanetLinkedList constructLLFromFile(String theInputFile){\n    System.out.println(&quot;Constructing the linked list from &quot;+theInputFile);\n    PlanetLinkedList head = new PlanetLinkedList();\n    try{\n      File file = new File(theInputFile);\n      Scanner scan = new Scanner(file);\n      int index = 0;\n      while(scan.hasNext()){\n        String name = scan.next();\n        long diamater = Long.parseLong(scan.next());\n        int moons  = Integer.parseInt(scan.next());\n       \n        Planet insertee = new Planet(name,diamater,moons);\n        head.insert(insertee,index);\n        index++;\n      }\n      \n      return head;\n\n    }catch(FileNotFoundException e){\n      System.out.println(&quot;file errors&quot;);\n    }\n\n    \n    return null;    \n\n  }\n}\n</code></pre>\n<p>This is the linked list</p>\n<pre><code>import java.io.FileWriter;\n\nclass PlanetLinkedList{\n  private Planet head;\n  \n  PlanetLinkedList(){    \n  }\n  \n  PlanetLinkedList(Planet initial){\n    head=initial;\n  }\n  \n  PlanetLinkedList(String n, long d, int m){\n    head = new Planet(n, d, m);\n  }\n  \n void insert(Planet insertee, int pos){\n    int counter = 0;\n    if(pos==0 &amp;&amp; head == null){\n      //insertee.next = head;\n      head = insertee;\n      return;\n    }\n    if(pos &gt; countNodes() ){\n      System.out.println(&quot;Error out of bounds&quot;);\n      return; \n    }\n    if(pos== 0){\n      insertee.next = head;\n      head = insertee;\n      return;\n   }\n    Planet temp = head;\n    while(temp != null){\n      if(counter &lt; pos-1){\n        temp = temp.next;\n        counter++;\n      }else{\n         insertee.next = temp.next;\n         temp.next = insertee;\n         return;\n      }\n    }\n  }  \n \n void remove(int pos){\n    if(pos &gt; countNodes() || pos &lt; 0 ){\n       System.out.println(&quot;Error out of bounds&quot;);\n       return; \n    }\n    if(pos == 0){\n      head = head.next;\n    }\n    Planet temp = head.next;\n    Planet prev = head;\n    int counter = 0;\n    while(temp != null){\n      if(counter&lt; pos-1){\n        temp= temp.next;\n        counter++;\n      }\n      else{\n        prev = temp.next;\n        return;\n      }\n    }\n  }\n  \n  int countNodes(){\n     int count=0;\n     Planet temp = head;\n     while (temp != null){\n      temp = temp.next;\n      count++;\n     }   \n    return count;\n  }\n\n  void printLL(){\n    Planet temp = head;\n    if(head == null){\n      return;\n    }\n      while(temp != null ){\n     System.out.println(temp.getName());\n      System.out.println(temp.getDiameter());\n      System.out.println(temp.getMoon());\n      temp = temp.next;\n   }\n  }  \n  //need help here!\n  void swap(int pos1, int pos2){\n    Planet temp = head; \n    Planet swap = temp; \n    Planet swap2 = temp;\n    int counter = 0;\n    if(pos1 &gt; countNodes() || pos2 &gt; countNodes()){\n      System.out.println(&quot;Index error&quot;);\n      return;\n    }\n    while(temp != null ){\n      if(counter&lt; pos1-1){\n        temp= temp.next;\n        counter++;\n      }else{\n         swap = temp;\n         counter = 0;\n        return; \n      }\n      while(temp != null){\n        if(counter&lt; pos2-1){\n          temp= temp.next;\n          counter++; \n        }else{\n          swap2 = temp;\n          temp = swap;\n          counter = 0;\n          return; \n        }\n      }\n      while(temp != null){\n        if(counter&lt; pos1-1){\n          temp= temp.next;\n          counter++;\n        }else{\n          swap = temp;\n          temp = swap2.next;\n          counter = 0;\n        return; \n        }\n      }\n    }\n  }\n  \n  void search (String n){\n    int index = 0;\n    Planet temp = head;\n    boolean found = false;\n    while(temp != null){\n      if(n.equals(temp.getName())){\n        System.out.println(&quot;The record was found at postion &quot; + index);\n        found = true;\n      } \n        temp = temp.next; \n        index++;\n    }   \n     if(found == false){\n        System.out.println(&quot;The name &quot; + n + &quot; is not found in the linked list&quot;);\n    }   \n  }\n  \n  void search(long d){\n    Planet temp = head;\n    int index = 0;\n    boolean found = false;\n    while(temp != null){\n      if(d == temp.getDiameter()){\n        System.out.println(&quot;The record with the diameter &quot; + d + &quot; is found in postion &quot; + index);\n        found = true;\n      }\n      index++;\n      temp = temp.next;\n    }\n    if(found == false){\n       System.out.println(&quot;The diameter &quot; + d + &quot; is not found in the linked list&quot;);\n    } \n  }\n  \n  void writeLinkedListToFile(String filename){\n     \n\n\n  }\n  \n}\n</code></pre>\n<p>This is the planet class</p>\n<pre><code>class Planet{\n  private String name;\n  private long diameter;\n  private int moon;\n  \n  Planet next;\n  \n  Planet(String n, long d, int m){    \n    name = n;\n    diameter = d;\n    moon = m;\n  }\n  \n  \n  String getName(){\n    return name;\n  }\n  \n  long getDiameter(){\n    return diameter;\n  }\n  \n  int getMoon(){\n    return moon;\n  }\n  \n  public String toString(){\n    return &quot;Name: &quot;+name+\n           &quot;\\nDiameter: &quot;+diameter+\n           &quot;\\nMoon: &quot;+moon;\n  }\n}\n</code></pre>\n<p>Here is input file</p>\n<pre><code>Mercury\n4879\n0\nVenus\n12104\n0\nEarth\n12756\n1\nMars\n6805\n2\nSaturn\n120536\n62\n</code></pre>\n<p>Thank you for the help!</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1597739120,"post_id":63461793,"comment_id":112224710,"body_markdown":"If you encounter problems, it&#39;s best to create a [MCVE](https://stackoverflow.com/help/mcve) when posting a question. You posted **almost 250 lines of code** for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.","body":"If you encounter problems, it&#39;s best to create a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> when posting a question. You posted <b>almost 250 lines of code</b> for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1597739184,"post_id":63461793,"comment_id":112224738,"body_markdown":"However, if you consider at some point in time to try using [Cloud Firestore](https://firebase.google.com/docs/firestore/), here you can find a tutorial on how to create a complete and functional [Firestore Chat App](https://www.youtube.com/playlist?list=PLn2n4GESV0Ak1HiH0tTPTJXsOEy-5v9qb), where this issue is already solved.","body":"However, if you consider at some point in time to try using <a href=\"https://firebase.google.com/docs/firestore/\" rel=\"nofollow noreferrer\">Cloud Firestore</a>, here you can find a tutorial on how to create a complete and functional <a href=\"https://www.youtube.com/playlist?list=PLn2n4GESV0Ak1HiH0tTPTJXsOEy-5v9qb\" rel=\"nofollow noreferrer\">Firestore Chat App</a>, where this issue is already solved."}],"owner":{"account_id":16231653,"reputation":43,"user_id":11720266,"display_name":"Harrison Kuria"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665569442,"creation_date":1597724084,"question_id":63461793,"body_markdown":"I am trying to come up with a chat app using Firebase Recycler adapter. The problem is that the sender&#39;s and receiver&#39;s chats are not displayed as expected. All the chats are displayed on the right. Despite the text being &quot;Morning&quot;, the text is displayed as &quot;Hello&quot;.\r\nBelow is my code\r\n\r\n    \r\n\r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    import androidx.recyclerview.widget.RecyclerView.ViewHolder;\r\n\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.ImageButton;\r\n    import android.widget.ImageView;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    import com.firebase.ui.database.FirebaseRecyclerAdapter;\r\n    import com.firebase.ui.database.FirebaseRecyclerOptions;\r\n\r\n    import com.firebase.ui.database.SnapshotParser;\r\n    import com.google.firebase.auth.FirebaseAuth;\r\n    import com.google.firebase.auth.FirebaseUser;\r\n    import com.google.firebase.database.DataSnapshot;\r\n    import com.google.firebase.database.DatabaseError;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    import com.google.firebase.database.ValueEventListener;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    \r\n    import de.hdodenhof.circleimageview.CircleImageView;\r\n    import ultramodern.activity.besha.Adapter.MessageAdapter;\r\n    import ultramodern.activity.besha.Model.Chat;\r\n    import ultramodern.activity.besha.Model.Users;\r\n\r\n    public class Complete_new_Group extends AppCompatActivity implements View.OnClickListener{\r\n\r\n    Button fab,paybtn, depobtn, borrowbtn, borrowicon, depoicon, payicon;\r\n    CircleImageView sendtextbutton;\r\n    EditText text_send;\r\n    RecyclerView chatrecyclerView;\r\n    MessageAdapter messageAdapter;\r\n   \r\n\r\n\r\n\r\n    public static final int MESSAGE_RIGHT=0;\r\n    public static final int MESSAGE_LEFT=1;\r\n    //private String user_id;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) { ;\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_complete_new__group);\r\n        Toast.makeText(this, &quot;This area is still under development&quot;, Toast.LENGTH_LONG).show();\r\n\r\n        fab = findViewById(R.id.fab_complete_group);\r\n        paybtn = findViewById(R.id.button6);\r\n        depobtn = findViewById(R.id.button5);\r\n        borrowbtn = findViewById(R.id.button3);\r\n        borrowicon = findViewById(R.id.button8);\r\n        depoicon = findViewById(R.id.button9);\r\n        payicon = findViewById(R.id.button10);\r\n        sendtextbutton = findViewById(R.id.sendtextButton);\r\n        text_send = findViewById(R.id.text_send);\r\n        chatrecyclerView = findViewById(R.id.chatrecycler);\r\n\r\n        chatrecyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n\r\n\r\n        fab.setOnClickListener(this);\r\n        paybtn.setOnClickListener(this);\r\n        depobtn.setOnClickListener(this);\r\n        borrowbtn.setOnClickListener(this);\r\n        borrowicon.setOnClickListener(this);\r\n        depoicon.setOnClickListener(this);\r\n        payicon.setOnClickListener(this);\r\n        sendtextbutton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String message = text_send.getText().toString();\r\n                if (!message.equals(&quot;&quot;)){\r\n                    FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\r\n                    String userId = getIntent().getStringExtra(&quot;userId&quot;);\r\n                    sendmessage(message,userId,firebaseUser.getUid());\r\n                }\r\n                else {\r\n                    Toast.makeText(Complete_new_Group.this, &quot;You can&#39;t send an empty message&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                text_send.setText(&quot;&quot;);\r\n            }\r\n        });\r\n\r\n        final FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\r\n\r\n        final String user_id;\r\n        Intent intent = getIntent();\r\n        user_id = intent.getStringExtra(&quot;userId&quot;);\r\n        assert user_id != null;\r\n    //    Log.d(&quot;TRACK&quot;,user_id);\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(firebaseUser.getUid());\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                Users users = snapshot.getValue(Users.class);\r\n\r\n                readMessage(firebaseUser.getUid(),user_id,users.getImageURL());\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        if (view==fab){\r\n            paybtn.setVisibility(View.VISIBLE);\r\n            depobtn.setVisibility(View.VISIBLE);\r\n            borrowbtn.setVisibility(View.VISIBLE);\r\n            borrowicon.setVisibility(View.VISIBLE);\r\n            depoicon.setVisibility(View.VISIBLE);\r\n            payicon.setVisibility(View.VISIBLE);\r\n        }\r\n        if (view==paybtn){\r\n            Intent intent = new Intent(getApplicationContext(),Group_pay.class);\r\n            startActivity(intent);\r\n        }\r\n        if (view==payicon){\r\n            Intent intent = new Intent(getApplicationContext(),Group_pay_icon_activity.class);\r\n            startActivity(intent);\r\n        }\r\n        if (view==depobtn){\r\n            Intent intent = new Intent(getApplicationContext(),Group_deposit_button_activity.class);\r\n            startActivity(intent);\r\n        }\r\n        if (view==depoicon){\r\n            Intent intent = new Intent(getApplicationContext(),Group_depo_icon_activity.class);\r\n            startActivity(intent);\r\n        }\r\n        if (view==borrowbtn){\r\n            Intent intent = new Intent(getApplicationContext(),Group_deposit_button_activity.class);\r\n            startActivity(intent);\r\n        }\r\n        if (view==borrowicon){\r\n            Intent intent = new Intent(getApplicationContext(),Group_borrow_icon_activity.class);\r\n            startActivity(intent);\r\n        }\r\n        if (view==sendtextbutton){\r\n\r\n\r\n        }\r\n\r\n\r\n    }\r\n    private void sendmessage(String message,String sender, String reciever){\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference();\r\n        HashMap&lt;String,Object&gt; hashMap = new HashMap&lt;&gt;();\r\n        hashMap.put(&quot;sender&quot;,sender);\r\n        hashMap.put(&quot;reciever&quot;,reciever);\r\n        hashMap.put(&quot;message&quot;,message);\r\n\r\n        reference.child(&quot;Chats&quot;).push().setValue(hashMap);\r\n    }\r\n\r\n    private void readMessage(final String myId, final String userId, String imageURL){\r\n        DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Chats&quot;);\r\n        FirebaseRecyclerOptions&lt;Chat&gt; firebaseRecyclerOptions = new FirebaseRecyclerOptions.Builder&lt;Chat&gt;().setQuery(databaseReference, new SnapshotParser&lt;Chat&gt;() {\r\n            @NonNull\r\n            @Override\r\n            public Chat parseSnapshot(@NonNull DataSnapshot snapshot) {\r\n                String message = String.valueOf(snapshot.child(&quot;message&quot;).getValue());\r\n                String sender = String.valueOf(snapshot.child(&quot;sender&quot;).getValue());\r\n                String receiver = String.valueOf(snapshot.child(&quot;reciever&quot;).getValue());\r\n                return new Chat(message,sender,receiver);\r\n            }\r\n        }).build();\r\n        final FirebaseRecyclerAdapter&lt;Chat,ViewHolder&gt; firebaseRecyclerAdapter  = new FirebaseRecyclerAdapter&lt;Chat,ViewHolder&gt;(firebaseRecyclerOptions) {\r\n            @Override\r\n            protected void onBindViewHolder(@NonNull final ViewHolder viewHolder, int i, @NonNull Chat chat) {\r\n                if (chat.getReceiver().equals(userId) &amp;&amp; chat.getSender().equals(myId) || chat.getReceiver()\r\n                        .equals(myId) &amp;&amp; chat.getSender().equals(userId)){\r\n                    viewHolder.showMessage.setText(chat.getMessage());\r\n                }\r\n\r\n\r\n\r\n            }\r\n\r\n\r\n            @NonNull\r\n            @Override\r\n            public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                if (viewType == MESSAGE_RIGHT){\r\n                    View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.chat_item_right,parent,false);\r\n                    return new ViewHolder(view);\r\n                }\r\n                else {\r\n                    View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.chat_item_left,parent,false);\r\n                    return new ViewHolder(view);\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public int getItemViewType(int position) {\r\n                Chat chat = getItem(position);\r\n                FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\r\n                if (chat.getSender().equals(firebaseUser.getUid())){\r\n                    return MESSAGE_LEFT;\r\n                }\r\n                else {\r\n                    return MESSAGE_RIGHT;\r\n                }\r\n                //return super.getItemViewType(position);\r\n            }\r\n        };\r\n        chatrecyclerView.setAdapter(firebaseRecyclerAdapter);\r\n        firebaseRecyclerAdapter.startListening();\r\n\r\n    }\r\n    public static class ViewHolder extends RecyclerView.ViewHolder {\r\n        public TextView showMessage;\r\n        public ImageView profilepic;\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            showMessage=itemView.findViewById(R.id.showMessage);\r\n            profilepic=itemView.findViewById(R.id.profilepic);\r\n        }\r\n        public void setText(String paramString){\r\n            this.showMessage.setText(paramString);\r\n        }\r\n    }\r\n\r\n    }\r\n\r\nThis is the output on both the sender and the receiver\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G6Wuk.png\r\n\r\n\r\nI need some assistance\r\n","title":"Firebase chat app not displaying messages like whatsapp does","body":"<p>I am trying to come up with a chat app using Firebase Recycler adapter. The problem is that the sender's and receiver's chats are not displayed as expected. All the chats are displayed on the right. Despite the text being &quot;Morning&quot;, the text is displayed as &quot;Hello&quot;.\nBelow is my code</p>\n<pre><code>import androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\nimport androidx.recyclerview.widget.RecyclerView.ViewHolder;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ImageButton;\nimport android.widget.ImageView;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport com.firebase.ui.database.FirebaseRecyclerAdapter;\nimport com.firebase.ui.database.FirebaseRecyclerOptions;\n\nimport com.firebase.ui.database.SnapshotParser;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\n\nimport de.hdodenhof.circleimageview.CircleImageView;\nimport ultramodern.activity.besha.Adapter.MessageAdapter;\nimport ultramodern.activity.besha.Model.Chat;\nimport ultramodern.activity.besha.Model.Users;\n\npublic class Complete_new_Group extends AppCompatActivity implements View.OnClickListener{\n\nButton fab,paybtn, depobtn, borrowbtn, borrowicon, depoicon, payicon;\nCircleImageView sendtextbutton;\nEditText text_send;\nRecyclerView chatrecyclerView;\nMessageAdapter messageAdapter;\n\n\n\n\npublic static final int MESSAGE_RIGHT=0;\npublic static final int MESSAGE_LEFT=1;\n//private String user_id;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) { ;\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_complete_new__group);\n    Toast.makeText(this, &quot;This area is still under development&quot;, Toast.LENGTH_LONG).show();\n\n    fab = findViewById(R.id.fab_complete_group);\n    paybtn = findViewById(R.id.button6);\n    depobtn = findViewById(R.id.button5);\n    borrowbtn = findViewById(R.id.button3);\n    borrowicon = findViewById(R.id.button8);\n    depoicon = findViewById(R.id.button9);\n    payicon = findViewById(R.id.button10);\n    sendtextbutton = findViewById(R.id.sendtextButton);\n    text_send = findViewById(R.id.text_send);\n    chatrecyclerView = findViewById(R.id.chatrecycler);\n\n    chatrecyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n\n\n    fab.setOnClickListener(this);\n    paybtn.setOnClickListener(this);\n    depobtn.setOnClickListener(this);\n    borrowbtn.setOnClickListener(this);\n    borrowicon.setOnClickListener(this);\n    depoicon.setOnClickListener(this);\n    payicon.setOnClickListener(this);\n    sendtextbutton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            String message = text_send.getText().toString();\n            if (!message.equals(&quot;&quot;)){\n                FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\n                String userId = getIntent().getStringExtra(&quot;userId&quot;);\n                sendmessage(message,userId,firebaseUser.getUid());\n            }\n            else {\n                Toast.makeText(Complete_new_Group.this, &quot;You can't send an empty message&quot;, Toast.LENGTH_SHORT).show();\n            }\n            text_send.setText(&quot;&quot;);\n        }\n    });\n\n    final FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\n\n    final String user_id;\n    Intent intent = getIntent();\n    user_id = intent.getStringExtra(&quot;userId&quot;);\n    assert user_id != null;\n//    Log.d(&quot;TRACK&quot;,user_id);\n    DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(firebaseUser.getUid());\n    reference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            Users users = snapshot.getValue(Users.class);\n\n            readMessage(firebaseUser.getUid(),user_id,users.getImageURL());\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n\n}\n\n\n\n@Override\npublic void onClick(View view) {\n    if (view==fab){\n        paybtn.setVisibility(View.VISIBLE);\n        depobtn.setVisibility(View.VISIBLE);\n        borrowbtn.setVisibility(View.VISIBLE);\n        borrowicon.setVisibility(View.VISIBLE);\n        depoicon.setVisibility(View.VISIBLE);\n        payicon.setVisibility(View.VISIBLE);\n    }\n    if (view==paybtn){\n        Intent intent = new Intent(getApplicationContext(),Group_pay.class);\n        startActivity(intent);\n    }\n    if (view==payicon){\n        Intent intent = new Intent(getApplicationContext(),Group_pay_icon_activity.class);\n        startActivity(intent);\n    }\n    if (view==depobtn){\n        Intent intent = new Intent(getApplicationContext(),Group_deposit_button_activity.class);\n        startActivity(intent);\n    }\n    if (view==depoicon){\n        Intent intent = new Intent(getApplicationContext(),Group_depo_icon_activity.class);\n        startActivity(intent);\n    }\n    if (view==borrowbtn){\n        Intent intent = new Intent(getApplicationContext(),Group_deposit_button_activity.class);\n        startActivity(intent);\n    }\n    if (view==borrowicon){\n        Intent intent = new Intent(getApplicationContext(),Group_borrow_icon_activity.class);\n        startActivity(intent);\n    }\n    if (view==sendtextbutton){\n\n\n    }\n\n\n}\nprivate void sendmessage(String message,String sender, String reciever){\n    DatabaseReference reference = FirebaseDatabase.getInstance().getReference();\n    HashMap&lt;String,Object&gt; hashMap = new HashMap&lt;&gt;();\n    hashMap.put(&quot;sender&quot;,sender);\n    hashMap.put(&quot;reciever&quot;,reciever);\n    hashMap.put(&quot;message&quot;,message);\n\n    reference.child(&quot;Chats&quot;).push().setValue(hashMap);\n}\n\nprivate void readMessage(final String myId, final String userId, String imageURL){\n    DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Chats&quot;);\n    FirebaseRecyclerOptions&lt;Chat&gt; firebaseRecyclerOptions = new FirebaseRecyclerOptions.Builder&lt;Chat&gt;().setQuery(databaseReference, new SnapshotParser&lt;Chat&gt;() {\n        @NonNull\n        @Override\n        public Chat parseSnapshot(@NonNull DataSnapshot snapshot) {\n            String message = String.valueOf(snapshot.child(&quot;message&quot;).getValue());\n            String sender = String.valueOf(snapshot.child(&quot;sender&quot;).getValue());\n            String receiver = String.valueOf(snapshot.child(&quot;reciever&quot;).getValue());\n            return new Chat(message,sender,receiver);\n        }\n    }).build();\n    final FirebaseRecyclerAdapter&lt;Chat,ViewHolder&gt; firebaseRecyclerAdapter  = new FirebaseRecyclerAdapter&lt;Chat,ViewHolder&gt;(firebaseRecyclerOptions) {\n        @Override\n        protected void onBindViewHolder(@NonNull final ViewHolder viewHolder, int i, @NonNull Chat chat) {\n            if (chat.getReceiver().equals(userId) &amp;&amp; chat.getSender().equals(myId) || chat.getReceiver()\n                    .equals(myId) &amp;&amp; chat.getSender().equals(userId)){\n                viewHolder.showMessage.setText(chat.getMessage());\n            }\n\n\n\n        }\n\n\n        @NonNull\n        @Override\n        public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n            if (viewType == MESSAGE_RIGHT){\n                View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.chat_item_right,parent,false);\n                return new ViewHolder(view);\n            }\n            else {\n                View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.chat_item_left,parent,false);\n                return new ViewHolder(view);\n            }\n\n        }\n\n        @Override\n        public int getItemViewType(int position) {\n            Chat chat = getItem(position);\n            FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\n            if (chat.getSender().equals(firebaseUser.getUid())){\n                return MESSAGE_LEFT;\n            }\n            else {\n                return MESSAGE_RIGHT;\n            }\n            //return super.getItemViewType(position);\n        }\n    };\n    chatrecyclerView.setAdapter(firebaseRecyclerAdapter);\n    firebaseRecyclerAdapter.startListening();\n\n}\npublic static class ViewHolder extends RecyclerView.ViewHolder {\n    public TextView showMessage;\n    public ImageView profilepic;\n    public ViewHolder(@NonNull View itemView) {\n        super(itemView);\n        showMessage=itemView.findViewById(R.id.showMessage);\n        profilepic=itemView.findViewById(R.id.profilepic);\n    }\n    public void setText(String paramString){\n        this.showMessage.setText(paramString);\n    }\n}\n\n}\n</code></pre>\n<p>This is the output on both the sender and the receiver</p>\n<p><a href=\"https://i.stack.imgur.com/G6Wuk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G6Wuk.png\" alt=\"enter image description here\" /></a></p>\n<p>I need some assistance</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","persistent"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1665560848,"post_id":74038207,"comment_id":130726649,"body_markdown":"There is no code to persist anything. All you show is the model","body":"There is no code to persist anything. All you show is the model"}],"answers":[{"tags":[],"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665563157,"creation_date":1665563157,"answer_id":74038699,"question_id":74038207,"body_markdown":"If you are not clear how to fire update queries with spring data jpa, \r\n\r\nYou can refer this document for partial updates:\r\n\r\nhttps://www.baeldung.com/spring-data-partial-update\r\n\r\nYou can also refer spring data jpa documentation.  \r\nhttps://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.modifying-queries\r\n\r\n","title":"How to Update a SQL database Table if the entity is Persistable in Spring Boot JPA","body":"<p>If you are not clear how to fire update queries with spring data jpa,</p>\n<p>You can refer this document for partial updates:</p>\n<p><a href=\"https://www.baeldung.com/spring-data-partial-update\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-partial-update</a></p>\n<p>You can also refer spring data jpa documentation.<br />\n<a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.modifying-queries\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.modifying-queries</a></p>\n"},{"tags":[],"owner":{"account_id":26557785,"reputation":159,"user_id":20186121,"display_name":"Abhishek Kumar Jena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665569257,"creation_date":1665569257,"answer_id":74040048,"question_id":74038207,"body_markdown":"I suggest you keep your entity simple, then create a repository that extends JpaRepository or CrudRepository where you can write your queries\r\n\r\n    @Repository\r\n    public interface TableModelRepository extends JpaRepository&lt;TableModel, String&gt;{\r\n    \r\n    @Modifying\r\n    @Query(&quot;update TableModel u set u.firstname = ?1 where u.lastname = ?2&quot;)\r\n    void updateTable(String firstname, String lastname);\r\n    \r\n    }\r\ncreate a service class where you can perform the update\r\n\r\n    @Service\r\n    public class TableModelServices{\r\n     \r\n        @Autowired\r\n    \tprivate TableModelRepository tableModelRepository;\r\n        \r\n        @Override\r\n    \tpublic String updateTable(String firstname, String lastname) {\r\n    \t\ttableModelRepository.updateTable(firstname, lastname);\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\nthe above codes are for reference, I will mention some links which will help you more\r\nhttps://www.baeldung.com/spring-data-jpa-dynamicupdate\r\n\r\nhttps://www.baeldung.com/spring-data-partial-update\r\n\r\nyou can refer to these two links.\r\n\r\n\r\n\r\n","title":"How to Update a SQL database Table if the entity is Persistable in Spring Boot JPA","body":"<p>I suggest you keep your entity simple, then create a repository that extends JpaRepository or CrudRepository where you can write your queries</p>\n<pre><code>@Repository\npublic interface TableModelRepository extends JpaRepository&lt;TableModel, String&gt;{\n\n@Modifying\n@Query(&quot;update TableModel u set u.firstname = ?1 where u.lastname = ?2&quot;)\nvoid updateTable(String firstname, String lastname);\n\n}\n</code></pre>\n<p>create a service class where you can perform the update</p>\n<pre><code>@Service\npublic class TableModelServices{\n \n    @Autowired\n    private TableModelRepository tableModelRepository;\n    \n    @Override\n    public String updateTable(String firstname, String lastname) {\n        tableModelRepository.updateTable(firstname, lastname);\n        return null;\n    }\n\n\n}\n</code></pre>\n<p>the above codes are for reference, I will mention some links which will help you more\n<a href=\"https://www.baeldung.com/spring-data-jpa-dynamicupdate\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-dynamicupdate</a></p>\n<p><a href=\"https://www.baeldung.com/spring-data-partial-update\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-partial-update</a></p>\n<p>you can refer to these two links.</p>\n"}],"owner":{"account_id":26597981,"reputation":1,"user_id":20220027,"display_name":"Bina Trivedi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":554,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665569257,"creation_date":1665560782,"question_id":74038207,"body_markdown":"I have created a Spring Boot JPA Application, In that, I have made an entity persistable.\r\nas Shown Below.\r\nthis is my code for creating an entity:\r\n\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @Entity\r\n    public class TableModel implements Persistable&lt;String&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;TableModel [PrimaryKey=&quot; + PrimaryKey + &quot;, Term_Guid=&quot; + Term_Guid + &quot;, Term_Name=&quot; + Term_Name\r\n    \t\t\t\t+ &quot;, Term_Description=&quot; + Term_Description + &quot;, Term_Qualified_Name=&quot; + Term_Qualified_Name\r\n    \t\t\t\t+ &quot;, Term_Status=&quot; + Term_Status + &quot;, Term_Created_Date=&quot; + Term_Created_Date + &quot;, Term_Updated_Date=&quot;\r\n    \t\t\t\t+ Term_Updated_Date + &quot;, Report_name=&quot; + Report_name + &quot;, Report_Guid=&quot; + Report_Guid + &quot;, Report_Type=&quot;\r\n    \t\t\t\t+ Report_Type + &quot;, classification=&quot; + classification + &quot;, Term_Expert_Username=&quot; + Term_Expert_Username\r\n    \t\t\t\t+ &quot;, Term_Steward_Username=&quot; + Term_Steward_Username + &quot;, Report_Expert_Username=&quot;\r\n    \t\t\t\t+ Report_Expert_Username + &quot;, Report_Owner_Username=&quot; + Report_Owner_Username + &quot;, Sql_db_load_time=&quot;\r\n    \t\t\t\t+ Sql_db_load_time + &quot;]&quot;;\r\n    \t}\r\n        @Id\r\n    \t@Column(name = &quot;Primary_Key&quot;)\r\n    \tprivate String PrimaryKey;\r\n    \t\r\n    \t@Column(name = &quot;Term_Guid&quot;)\r\n    \tprivate String Term_Guid;\r\n    \r\n    \t@Column(name = &quot;Term_Name&quot;)\r\n    \tprivate String Term_Name;\r\n    \r\n    \t@Column(name = &quot;Term_Description&quot;,columnDefinition = &quot;nvarchar(MAX)&quot;)\r\n        private String Term_Description;\r\n    \r\n    \t@Column(name = &quot;Term_Qualified_Name&quot;)\r\n    \tprivate String Term_Qualified_Name;\r\n    \r\n    \t@Column(name = &quot;Term_Status&quot;)\r\n    \tprivate String Term_Status;\r\n    \r\n    \t@Temporal(TemporalType.TIMESTAMP)\r\n    \tprivate java.util.Date Term_Created_Date;\r\n    \r\n    \t@Temporal(TemporalType.TIMESTAMP)\r\n    \tprivate java.util.Date Term_Updated_Date;\r\n    \r\n    \t@Column(name = &quot;Report_name&quot;)\r\n    \tprivate String Report_name;\r\n    \t\r\n    \t@Column(name = &quot;Report_Guid&quot;)\r\n    \tprivate String Report_Guid;\r\n    \t\r\n    \t@Column(name = &quot;Report_Type&quot;)\r\n    \tprivate String Report_Type;\r\n    \t\r\n    \t@Column(name = &quot;Classification&quot;)\r\n    \tprivate String classification;\r\n    \t\r\n    \t@Column(name = &quot;Term_Expert_Username&quot;)\r\n    \tprivate String Term_Expert_Username;\r\n    \t\r\n    \t@Column(name = &quot;Term_Steward_Username&quot;)\r\n    \tprivate String Term_Steward_Username;\r\n    \t\r\n    \t@Column(name = &quot;Report_Expert_Username&quot;)\r\n    \tprivate String Report_Expert_Username;\r\n    \t\r\n    \t@Column(name = &quot;Report_Owner_Username&quot;)\r\n    \tprivate String Report_Owner_Username;\r\n    \t\r\n    \t@Temporal(TemporalType.TIMESTAMP)\r\n    \tprivate java.util.Date Sql_db_load_time;\r\n    \r\n    \r\n    \t@Override\r\n    \tpublic boolean isNew() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn true;\r\n    \t}\r\n    \t\r\n    @Override\r\n    public String getId() {\r\n    \t// TODO Auto-generated method stub\r\n    \treturn null;\r\n    }\r\n    \t\r\n    }\r\n\r\nBy using this Code I am able to insert data successfully\r\nbut if I want to update the data which is inserted I m not able do,\r\nPlease Suggest how I can update the data if the entity is persistable using Springboot jpa","title":"How to Update a SQL database Table if the entity is Persistable in Spring Boot JPA","body":"<p>I have created a Spring Boot JPA Application, In that, I have made an entity persistable.\nas Shown Below.\nthis is my code for creating an entity:</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@Entity\npublic class TableModel implements Persistable&lt;String&gt; {\n\n    @Override\n    public String toString() {\n        return &quot;TableModel [PrimaryKey=&quot; + PrimaryKey + &quot;, Term_Guid=&quot; + Term_Guid + &quot;, Term_Name=&quot; + Term_Name\n                + &quot;, Term_Description=&quot; + Term_Description + &quot;, Term_Qualified_Name=&quot; + Term_Qualified_Name\n                + &quot;, Term_Status=&quot; + Term_Status + &quot;, Term_Created_Date=&quot; + Term_Created_Date + &quot;, Term_Updated_Date=&quot;\n                + Term_Updated_Date + &quot;, Report_name=&quot; + Report_name + &quot;, Report_Guid=&quot; + Report_Guid + &quot;, Report_Type=&quot;\n                + Report_Type + &quot;, classification=&quot; + classification + &quot;, Term_Expert_Username=&quot; + Term_Expert_Username\n                + &quot;, Term_Steward_Username=&quot; + Term_Steward_Username + &quot;, Report_Expert_Username=&quot;\n                + Report_Expert_Username + &quot;, Report_Owner_Username=&quot; + Report_Owner_Username + &quot;, Sql_db_load_time=&quot;\n                + Sql_db_load_time + &quot;]&quot;;\n    }\n    @Id\n    @Column(name = &quot;Primary_Key&quot;)\n    private String PrimaryKey;\n    \n    @Column(name = &quot;Term_Guid&quot;)\n    private String Term_Guid;\n\n    @Column(name = &quot;Term_Name&quot;)\n    private String Term_Name;\n\n    @Column(name = &quot;Term_Description&quot;,columnDefinition = &quot;nvarchar(MAX)&quot;)\n    private String Term_Description;\n\n    @Column(name = &quot;Term_Qualified_Name&quot;)\n    private String Term_Qualified_Name;\n\n    @Column(name = &quot;Term_Status&quot;)\n    private String Term_Status;\n\n    @Temporal(TemporalType.TIMESTAMP)\n    private java.util.Date Term_Created_Date;\n\n    @Temporal(TemporalType.TIMESTAMP)\n    private java.util.Date Term_Updated_Date;\n\n    @Column(name = &quot;Report_name&quot;)\n    private String Report_name;\n    \n    @Column(name = &quot;Report_Guid&quot;)\n    private String Report_Guid;\n    \n    @Column(name = &quot;Report_Type&quot;)\n    private String Report_Type;\n    \n    @Column(name = &quot;Classification&quot;)\n    private String classification;\n    \n    @Column(name = &quot;Term_Expert_Username&quot;)\n    private String Term_Expert_Username;\n    \n    @Column(name = &quot;Term_Steward_Username&quot;)\n    private String Term_Steward_Username;\n    \n    @Column(name = &quot;Report_Expert_Username&quot;)\n    private String Report_Expert_Username;\n    \n    @Column(name = &quot;Report_Owner_Username&quot;)\n    private String Report_Owner_Username;\n    \n    @Temporal(TemporalType.TIMESTAMP)\n    private java.util.Date Sql_db_load_time;\n\n\n    @Override\n    public boolean isNew() {\n        // TODO Auto-generated method stub\n        return true;\n    }\n    \n@Override\npublic String getId() {\n    // TODO Auto-generated method stub\n    return null;\n}\n    \n}\n</code></pre>\n<p>By using this Code I am able to insert data successfully\nbut if I want to update the data which is inserted I m not able do,\nPlease Suggest how I can update the data if the entity is persistable using Springboot jpa</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":10907310,"reputation":2214,"user_id":8017666,"display_name":"SRJ"},"score":0,"creation_date":1665377447,"post_id":74010282,"comment_id":130677469,"body_markdown":"This post might help you https://stackoverflow.com/questions/3393515/jpa-how-to-have-one-to-many-relation-of-the-same-entity-type","body":"This post might help you <a href=\"https://stackoverflow.com/questions/3393515/jpa-how-to-have-one-to-many-relation-of-the-same-entity-type\" title=\"jpa how to have one to many relation of the same entity type\">stackoverflow.com/questions/3393515/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13331423,"reputation":391,"user_id":10441871,"display_name":"Shyam Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665569232,"creation_date":1665569232,"answer_id":74040041,"question_id":74010282,"body_markdown":"It can be achived using the below , \r\n\r\n```\r\n@Entity\r\npublic class A implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.AUTO)\r\n    private Long id;\r\n    @ManyToOne\r\n    private A parent;\r\n    @OneToMany(mappedBy=&quot;parent&quot;)\r\n    private Collection&lt;A&gt; children;\r\n\r\n    // Getters, Setters, serialVersionUID, etc...\r\n}\r\n```\r\nto check the relations, here&#39;s an driver code of MainApplication.java\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\r\n    EntityManager em = ... // from EntityManagerFactory, injection, etc.\r\n\r\n    em.getTransaction().begin();\r\n\r\n    A parent   = new A();\r\n    A son      = new A();\r\n    A daughter = new A();\r\n\r\n    son.setParent(parent);\r\n    daughter.setParent(parent);\r\n    parent.setChildren(Arrays.asList(son, daughter));\r\n\r\n    em.persist(parent);\r\n    em.persist(son);\r\n    em.persist(daughter);\r\n\r\n    em.getTransaction().commit();\r\n}\r\n```\r\n\r\nif I set ```cascade=CascadeType.ALL``` on both of those annotations, I could safely persist one of the entities and ignore the others. Say I persisted parent in my transaction. The JPA implementation traverses parent&#39;s children property because it is marked with ```CascadeType.ALL```. The JPA implementation finds son and daughter there. It then persists both children on my behalf, even though I didn&#39;t explicitly request it.","title":"Persist @ManyToOne relation based on condition","body":"<p>It can be achived using the below ,</p>\n<pre><code>@Entity\npublic class A implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Long id;\n    @ManyToOne\n    private A parent;\n    @OneToMany(mappedBy=&quot;parent&quot;)\n    private Collection&lt;A&gt; children;\n\n    // Getters, Setters, serialVersionUID, etc...\n}\n</code></pre>\n<p>to check the relations, here's an driver code of MainApplication.java</p>\n<pre><code>public static void main(String[] args) {\n\n    EntityManager em = ... // from EntityManagerFactory, injection, etc.\n\n    em.getTransaction().begin();\n\n    A parent   = new A();\n    A son      = new A();\n    A daughter = new A();\n\n    son.setParent(parent);\n    daughter.setParent(parent);\n    parent.setChildren(Arrays.asList(son, daughter));\n\n    em.persist(parent);\n    em.persist(son);\n    em.persist(daughter);\n\n    em.getTransaction().commit();\n}\n</code></pre>\n<p>if I set <code>cascade=CascadeType.ALL</code> on both of those annotations, I could safely persist one of the entities and ignore the others. Say I persisted parent in my transaction. The JPA implementation traverses parent's children property because it is marked with <code>CascadeType.ALL</code>. The JPA implementation finds son and daughter there. It then persists both children on my behalf, even though I didn't explicitly request it.</p>\n"}],"owner":{"account_id":26488974,"reputation":13,"user_id":20127095,"display_name":"Joaquim Oliveira"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665569232,"creation_date":1665377075,"question_id":74010282,"body_markdown":"Suppose we have an Employee entity, this entity has a reflexive relation (relation with itself). The kind of the relation is `@ManyToOne` mapping meaning, multiple Employee are supervised by only one &quot;Boss&quot; (who&#39;s also an Employee). Also Employee entity has relation with a Company entity.\r\n\r\nMultiple Employee work for only one Company (@ManyToOne) and a Company know his boss (@OneToOne) \r\n\r\n****Question :**** \r\n\r\nHow can we persist this @ManyToOne and @OneToOne relation based on condition (criteria) ?\r\nWe can assign (persist) a Boss to an Employee only if they work for the same company. And we can assign an Employee to a company only if he&#39;s the boss (means he hasn&#39;t supervisor (NULL)).\r\n\r\n\r\nI guess there are many solution like using @Query, @Prepersist , @Filter, Do the checking in the service but how and which one is better for this case.\r\n\r\n","title":"Persist @ManyToOne relation based on condition","body":"<p>Suppose we have an Employee entity, this entity has a reflexive relation (relation with itself). The kind of the relation is <code>@ManyToOne</code> mapping meaning, multiple Employee are supervised by only one &quot;Boss&quot; (who's also an Employee). Also Employee entity has relation with a Company entity.</p>\n<p>Multiple Employee work for only one Company (@ManyToOne) and a Company know his boss (@OneToOne)</p>\n<p><strong><strong>Question :</strong></strong></p>\n<p>How can we persist this @ManyToOne and @OneToOne relation based on condition (criteria) ?\nWe can assign (persist) a Boss to an Employee only if they work for the same company. And we can assign an Employee to a company only if he's the boss (means he hasn't supervisor (NULL)).</p>\n<p>I guess there are many solution like using @Query, @Prepersist , @Filter, Do the checking in the service but how and which one is better for this case.</p>\n"},{"tags":["java","mongodb","spring-boot","rest","design-patterns"],"comments":[{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1665000121,"post_id":73896865,"comment_id":130599568,"body_markdown":"What are you looking from in terms of an answer for this question. General thoughts on whether or not a single database can support an application and ETL job processing? I&#39;m not sure this is a good question for this site. If you want specific troubleshooting about the behavior that you are experiencing (&quot;_sometimes it does not return back responses_&quot;) then you should ask about that instead and provide relevant information for us to assist.  See also https://stackoverflow.com/help/dont-ask","body":"What are you looking from in terms of an answer for this question. General thoughts on whether or not a single database can support an application and ETL job processing? I&#39;m not sure this is a good question for this site. If you want specific troubleshooting about the behavior that you are experiencing (&quot;<i>sometimes it does not return back responses</i>&quot;) then you should ask about that instead and provide relevant information for us to assist.  See also <a href=\"https://stackoverflow.com/help/dont-ask\">stackoverflow.com/help/dont-ask</a>"},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":1,"creation_date":1665026342,"post_id":73896865,"comment_id":130604189,"body_markdown":"Is your main concern the empty response of your api? Perform some stress to your api and share the results. Also a monitor of hardware of the app and db will help. Share the exact response of the api: http status, elapsed time, headers, etc. Add them to the question to avoid the downvotes","body":"Is your main concern the empty response of your api? Perform some stress to your api and share the results. Also a monitor of hardware of the app and db will help. Share the exact response of the api: http status, elapsed time, headers, etc. Add them to the question to avoid the downvotes"}],"answers":[{"tags":[],"owner":{"account_id":26458602,"reputation":137,"user_id":20100868,"display_name":"D.S."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665335848,"creation_date":1665335848,"answer_id":74006891,"question_id":73896865,"body_markdown":"this is design / architectural decision question.\r\n \r\ni) If both( ETL and REST) use the same DB Schema - Accessing the data and running the ETL job on the same database - not a good practice generally. Reasons- when the ETL runs ( may be for minutes or hours?) how do you make sure the data accuracy that are exposed by REST services? During that time - data will not be in consistent state as they might be getting changed by ETL job. So the REST clients might get inaccurate data.\r\n\r\nii) if ETL and REST are involved with different schema, for small to medium size application this is &#39;kind of ok&#39; but not the best one. But DB performance might be a challenge.\r\n\r\niii) For small size application this solution should be ok. But make sure the ETL runs only at midnight when the REST accesses are nil or minimum.\r\n","title":"access data and run jobs using same application, is it a good practice?","body":"<p>this is design / architectural decision question.</p>\n<p>i) If both( ETL and REST) use the same DB Schema - Accessing the data and running the ETL job on the same database - not a good practice generally. Reasons- when the ETL runs ( may be for minutes or hours?) how do you make sure the data accuracy that are exposed by REST services? During that time - data will not be in consistent state as they might be getting changed by ETL job. So the REST clients might get inaccurate data.</p>\n<p>ii) if ETL and REST are involved with different schema, for small to medium size application this is 'kind of ok' but not the best one. But DB performance might be a challenge.</p>\n<p>iii) For small size application this solution should be ok. But make sure the ETL runs only at midnight when the REST accesses are nil or minimum.</p>\n"},{"tags":[],"owner":{"account_id":4335872,"reputation":77,"user_id":3540367,"display_name":"Vinit More"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665569033,"creation_date":1665569033,"answer_id":74040003,"question_id":73896865,"body_markdown":"Agree with D.S.\r\nits a architect level question and individual architect for project should decide if they should be together or running differently.\r\n\r\n 1. If I am the architect for any project, I will keep both separate. No one knows what will come next and we have to do some major changes in any of modules either job or Rest api&#39;s.\r\n 2. Also in case I want to do any changes in one of module, I have to take whole applications which will stop accessing API&#39;s as well as job. This may not impact much if it is load balanced, but you never know. Better to stay ahead of known issues rather than complicating them.","title":"access data and run jobs using same application, is it a good practice?","body":"<p>Agree with D.S.\nits a architect level question and individual architect for project should decide if they should be together or running differently.</p>\n<ol>\n<li>If I am the architect for any project, I will keep both separate. No one knows what will come next and we have to do some major changes in any of modules either job or Rest api's.</li>\n<li>Also in case I want to do any changes in one of module, I have to take whole applications which will stop accessing API's as well as job. This may not impact much if it is load balanced, but you never know. Better to stay ahead of known issues rather than complicating them.</li>\n</ol>\n"}],"owner":{"account_id":22649232,"reputation":1287,"user_id":16824146,"display_name":"mr.Penguin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":74006891,"answer_count":2,"score":-3,"last_activity_date":1665569033,"creation_date":1664460187,"question_id":73896865,"body_markdown":"I have a spring boot application that I use to access and fetch a MongoDB database, this application use also a JobRuner solotion to run some ETL jobs and write their results in the same Mongodb database, furthermore this application expose some Rest web-services to be consumed by other applications. \r\n\r\nMy application is working fine, but sometimes it does not return back responses, when I looked for the reason why I did not find anything weird. \r\n\r\nAlso, in the beginning we had many applications that access the same database, and we wanted to have a single source of truth so we created this application which itself will expose results for them instead of letting them access our database. \r\n\r\nI&#39;m wondering if that is because of the jobs it launches, especially that it is often down when the jobs are running (but I&#39;m not sure yet!)","title":"access data and run jobs using same application, is it a good practice?","body":"<p>I have a spring boot application that I use to access and fetch a MongoDB database, this application use also a JobRuner solotion to run some ETL jobs and write their results in the same Mongodb database, furthermore this application expose some Rest web-services to be consumed by other applications.</p>\n<p>My application is working fine, but sometimes it does not return back responses, when I looked for the reason why I did not find anything weird.</p>\n<p>Also, in the beginning we had many applications that access the same database, and we wanted to have a single source of truth so we created this application which itself will expose results for them instead of letting them access our database.</p>\n<p>I'm wondering if that is because of the jobs it launches, especially that it is often down when the jobs are running (but I'm not sure yet!)</p>\n"},{"tags":["java","logging"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1665569292,"post_id":74039960,"comment_id":130729700,"body_markdown":"please don&#39;t expect us to go through your assignment. ask specific questions here, with all relevant information.","body":"please don&#39;t expect us to go through your assignment. ask specific questions here, with all relevant information."},{"owner":{"account_id":2679531,"reputation":2832,"user_id":2315162,"accept_rate":81,"display_name":"sinclair"},"score":0,"creation_date":1665569309,"post_id":74039960,"comment_id":130729706,"body_markdown":"Does this answer your question? [What does &quot;program to interfaces, not implementations&quot; mean?](https://stackoverflow.com/questions/2697783/what-does-program-to-interfaces-not-implementations-mean)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2697783/what-does-program-to-interfaces-not-implementations-mean\">What does &quot;program to interfaces, not implementations&quot; mean?</a>"},{"owner":{"account_id":26545592,"reputation":176,"user_id":20175711,"display_name":"Not A Number"},"score":0,"creation_date":1665572601,"post_id":74039960,"comment_id":130730931,"body_markdown":"Interesting task, sounds like simplified reverse-engineering of SLF4J","body":"Interesting task, sounds like simplified reverse-engineering of SLF4J"}],"owner":{"account_id":24093182,"reputation":1,"user_id":18066154,"display_name":"mirel01"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665568841,"creation_date":1665568841,"question_id":74039960,"body_markdown":"[Image with task of project][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qoU5L.png\r\n\r\nI have received a project from my university and i now have to implement a couple of features. I got stuck at this task because i don&#39;t know what the second paragraph means. I have imported the &quot;libraries&quot; for log files and it works fine. I can print in the console stuff like:\r\nlogger.INFO(&quot;This is some info&quot;);\r\n\r\nwhere do i go from here?\r\ndo i just have to implement pertinent logger&#39;s for each function in my code?\r\n\r\nThis is the rep in GitHub: https://github.com/mirelvitel/Training_PasswordSafeConsole_Java.git","title":"I have a problem with understanding the task about logging in java for this project. What does the task mean?","body":"<p><a href=\"https://i.stack.imgur.com/qoU5L.png\" rel=\"nofollow noreferrer\">Image with task of project</a></p>\n<p>I have received a project from my university and i now have to implement a couple of features. I got stuck at this task because i don't know what the second paragraph means. I have imported the &quot;libraries&quot; for log files and it works fine. I can print in the console stuff like:\nlogger.INFO(&quot;This is some info&quot;);</p>\n<p>where do i go from here?\ndo i just have to implement pertinent logger's for each function in my code?</p>\n<p>This is the rep in GitHub: <a href=\"https://github.com/mirelvitel/Training_PasswordSafeConsole_Java.git\" rel=\"nofollow noreferrer\">https://github.com/mirelvitel/Training_PasswordSafeConsole_Java.git</a></p>\n"},{"tags":["java","mysql","sql","mybatis"],"answers":[{"tags":[],"owner":{"account_id":8267179,"reputation":310,"user_id":6216284,"display_name":"feiyuerenhai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665568740,"creation_date":1665568740,"answer_id":74039927,"question_id":74039153,"body_markdown":"finally got it working, it should be something like `#{${item}}`","title":"insert dynamic columns in mybatis","body":"<p>finally got it working, it should be something like <code>#{${item}}</code></p>\n"}],"owner":{"account_id":8267179,"reputation":310,"user_id":6216284,"display_name":"feiyuerenhai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665568740,"creation_date":1665565202,"question_id":74039153,"body_markdown":"How to get the value of a dynamic column in mybatis ?\r\n\r\n```xml\r\n&lt;insert id=&quot;insertWording&quot; parameterType=&quot;my.pkg.Wording&quot;&gt;\r\nINSERT INTO wordings\r\n(id, parentId, &lt;foreach collection=&quot;@my.pkg.LangUtls@getLangs()&quot; item=&quot;item&quot; separator=&quot;,&quot;&gt;${item}&lt;foreach&gt;)\r\nVALUE\r\n(#{id}, #{parentId}, &lt;foreach collection=&quot;@my.pkg.LangUtls@getLangs()&quot; item=&quot;item&quot; separator=&quot;,&quot;&gt; ??? &lt;foreach&gt; })\r\n&lt;/insert&gt;\r\n```\r\n\r\n`LangUtils.getLangs()` returns something like the follwing\r\n\r\n```javascript\r\n[&quot;prop1&quot;, &quot;prop2&quot;, &quot;prop3&quot;];\r\n```\r\n\r\nthen what is the ??? should be ? I want to access value like `theWordingInstance[oneOfTheLangsProp]`.\r\n\r\nsince the prop1...propN is very much alike, i don&#39;t want to repeat a long list.","title":"insert dynamic columns in mybatis","body":"<p>How to get the value of a dynamic column in mybatis ?</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;insert id=&quot;insertWording&quot; parameterType=&quot;my.pkg.Wording&quot;&gt;\nINSERT INTO wordings\n(id, parentId, &lt;foreach collection=&quot;@my.pkg.LangUtls@getLangs()&quot; item=&quot;item&quot; separator=&quot;,&quot;&gt;${item}&lt;foreach&gt;)\nVALUE\n(#{id}, #{parentId}, &lt;foreach collection=&quot;@my.pkg.LangUtls@getLangs()&quot; item=&quot;item&quot; separator=&quot;,&quot;&gt; ??? &lt;foreach&gt; })\n&lt;/insert&gt;\n</code></pre>\n<p><code>LangUtils.getLangs()</code> returns something like the follwing</p>\n<pre class=\"lang-js prettyprint-override\"><code>[&quot;prop1&quot;, &quot;prop2&quot;, &quot;prop3&quot;];\n</code></pre>\n<p>then what is the ??? should be ? I want to access value like <code>theWordingInstance[oneOfTheLangsProp]</code>.</p>\n<p>since the prop1...propN is very much alike, i don't want to repeat a long list.</p>\n"},{"tags":["java","java-8","jboss","wildfly","jboss7.x"],"comments":[{"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"score":1,"creation_date":1663248973,"post_id":73730216,"comment_id":130198358,"body_markdown":"I&#39;m almost sure that EAP7.4.x doesn&#39;t run on openjdk version &quot;18.0.1.1&quot; 2022-04-22. It may run on Java 17 if you are using elytron and not the &#39;legacy&#39; security realms.","body":"I&#39;m almost sure that EAP7.4.x doesn&#39;t run on openjdk version &quot;18.0.1.1&quot; 2022-04-22. It may run on Java 17 if you are using elytron and not the &#39;legacy&#39; security realms."},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1663257974,"post_id":73730216,"comment_id":130202151,"body_markdown":"Did you also upgrade to a Java version that will not be supported in 2 weeks?","body":"Did you also upgrade to a Java version that will not be supported in 2 weeks?"},{"owner":{"account_id":26333864,"reputation":11,"user_id":19994007,"display_name":"L J"},"score":0,"creation_date":1663338403,"post_id":73730216,"comment_id":130222988,"body_markdown":"@ehsavoie \n\nthanks, you were partially right\naccording to the documentation, jboss only supports openjdk redhat","body":"@ehsavoie   thanks, you were partially right according to the documentation, jboss only supports openjdk redhat"},{"owner":{"account_id":57990,"reputation":3210,"user_id":173689,"accept_rate":85,"display_name":"Daniel Bleisteiner"},"score":0,"creation_date":1664954474,"post_id":73730216,"comment_id":130584194,"body_markdown":"Having the same problem... want to upgrade from **Java 11** to **17** (OpenJDK). While **EAP 7.4.0** starts properly... **7.4.6** refuses to start with these errors. The `standalone.xml` itself has not changed.","body":"Having the same problem... want to upgrade from <b>Java 11</b> to <b>17</b> (OpenJDK). While <b>EAP 7.4.0</b> starts properly... <b>7.4.6</b> refuses to start with these errors. The <code>standalone.xml</code> itself has not changed."},{"owner":{"account_id":57990,"reputation":3210,"user_id":173689,"accept_rate":85,"display_name":"Daniel Bleisteiner"},"score":0,"creation_date":1664955447,"post_id":73730216,"comment_id":130584439,"body_markdown":"The problem starts with 7.4.4... tried all single patches one by one. I can&#39;t find an easy to follow migration guide and would expect an untouched JBoss EAP to run out of the box &#160;a shame that it doesn&#39;t work.","body":"The problem starts with 7.4.4... tried all single patches one by one. I can&#39;t find an easy to follow migration guide and would expect an untouched JBoss EAP to run out of the box  a shame that it doesn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":1223747,"reputation":1055,"user_id":1189810,"display_name":"JSamir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665568108,"creation_date":1665558936,"answer_id":74037818,"question_id":73730216,"body_markdown":"OpenJDK17 is only supported starting with JBoss EAP version 7.4.7: https://access.redhat.com/articles/2026253\r\n\r\nHere is an article describing specifically some changes related to security which need to be applied in order for JBoss to work with JDK17: https://access.redhat.com/articles/6956863","title":"JBOSS 7.4 --&gt; 7.4.6 does not start","body":"<p>OpenJDK17 is only supported starting with JBoss EAP version 7.4.7: <a href=\"https://access.redhat.com/articles/2026253\" rel=\"nofollow noreferrer\">https://access.redhat.com/articles/2026253</a></p>\n<p>Here is an article describing specifically some changes related to security which need to be applied in order for JBoss to work with JDK17: <a href=\"https://access.redhat.com/articles/6956863\" rel=\"nofollow noreferrer\">https://access.redhat.com/articles/6956863</a></p>\n"}],"owner":{"account_id":26333864,"reputation":11,"user_id":19994007,"display_name":"L J"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4161,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665568108,"creation_date":1663240839,"question_id":73730216,"body_markdown":"\r\n**Hi, I have a problem after updating jboss EAP to version 7.4.6, the server does not start.\r\nbefore the update, the server was booting up**\r\n\r\nSystem:\r\n\r\nRHL8\r\n\r\nopenjdk version &quot;18.0.1.1&quot; 2022-04-22\r\n\r\nOpenJDK Runtime Environment (build 18.0.1.1+2-6)\r\n\r\nOpenJDK 64-Bit Server VM (build 18.0.1.1+2-6, mixed mode, sharing)\r\n\r\n\r\n\r\ninstalled by :\r\n\r\njava -jar jboss-eap-7.4.0-installer.jar\r\n\r\npatch applied by CLI (patch apply)\r\n \r\nJBoss EAP cumulative patch ID is: jboss-eap-7.4.6.CP, one-off patches include: none\r\n\r\n\r\nstart jboss\r\n\r\n$EAP_HOME/bin/standalone.sh -c standalone.xml -Djboss.bind.address=10.10.45.80 -Djboss.bind.address.management=10.10.45.80\r\n\r\n    12:28:26,857 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([\r\n        (&quot;core-service&quot; =&gt; &quot;management&quot;),\r\n        (&quot;management-interface&quot; =&gt; &quot;http-interface&quot;)\r\n    ]) - failure description: {\r\n        &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [\r\n            &quot;org.wildfly.core.management.security.realm.ManagementRealm&quot;,\r\n            &quot;jboss.http-upgrade-registry.http-management&quot;\r\n        ],\r\n        &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [\r\n            &quot;org.wildfly.management.http.extensible is missing [org.wildfly.core.management.security.realm.ManagementRealm]&quot;,\r\n            &quot;jboss.remoting.remoting-http-upgrade-service.http-management is missing [org.wildfly.core.management.security.realm.ManagementRealm, jboss.http-upgrade-registry.http-management]&quot;\r\n        ]\r\n    }\r\n    \r\n    \r\n    \r\n    12:28:26,885 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([\r\n        (&quot;subsystem&quot; =&gt; &quot;remoting&quot;),\r\n        (&quot;http-connector&quot; =&gt; &quot;http-remoting-connector&quot;)\r\n    ]) - failure description: {\r\n        &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;org.wildfly.core.management.security.realm.ApplicationRealm&quot;],\r\n        &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;jboss.remoting.remoting-http-upgrade-service.http-remoting-connector is missing [org.wildfly.core.management.security.realm.ApplicationRealm]&quot;]\r\n    }\r\n    \r\n    \r\n    \r\n    12:28:26,886 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([\r\n        (&quot;subsystem&quot; =&gt; &quot;security&quot;),\r\n        (&quot;security-domain&quot; =&gt; &quot;other&quot;)\r\n    ]) - failure description: {\r\n        &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [\r\n            &quot;jboss.security.security-management&quot;,\r\n            &quot;jboss.security.jaas&quot;\r\n        ],\r\n        &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;jboss.security.security-domain.other is missing [jboss.security.jaas, jboss.security.security-management]&quot;]\r\n    }\r\n    \r\n    \r\n    \r\n    12:28:26,886 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([\r\n        (&quot;subsystem&quot; =&gt; &quot;security&quot;),\r\n        (&quot;security-domain&quot; =&gt; &quot;jboss-web-policy&quot;)\r\n    ]) - failure description: {\r\n        &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [\r\n            &quot;jboss.security.security-management&quot;,\r\n            &quot;jboss.security.jaas&quot;\r\n        ],\r\n        &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;jboss.security.security-domain.jboss-web-policy is missing [jboss.security.jaas, jboss.security.security-management]&quot;]\r\n    }\r\n    \r\n    \r\n    \r\n    12:28:26,886 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([\r\n        (&quot;subsystem&quot; =&gt; &quot;security&quot;),\r\n        (&quot;security-domain&quot; =&gt; &quot;jaspitest&quot;)\r\n    ]) - failure description: {\r\n        &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [\r\n            &quot;jboss.security.security-management&quot;,\r\n            &quot;jboss.security.jaas&quot;\r\n        ],\r\n        &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;jboss.security.security-domain.jaspitest is missing [jboss.security.jaas, jboss.security.security-management]&quot;]\r\n    }\r\n    \r\n    \r\n    \r\n    12:28:26,886 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([\r\n        (&quot;subsystem&quot; =&gt; &quot;security&quot;),\r\n        (&quot;security-domain&quot; =&gt; &quot;jboss-ejb-policy&quot;)\r\n    ]) - failure description: {\r\n        &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [\r\n            &quot;jboss.security.security-management&quot;,\r\n            &quot;jboss.security.jaas&quot;\r\n        ],\r\n        &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;jboss.security.security-domain.jboss-ejb-policy is missing [jboss.security.jaas, jboss.security.security-management]&quot;]\r\n    }\r\n    \r\n    \r\n    \r\n    12:28:26,887 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([\r\n        (&quot;subsystem&quot; =&gt; &quot;undertow&quot;),\r\n        (&quot;server&quot; =&gt; &quot;default-server&quot;),\r\n        (&quot;https-listener&quot; =&gt; &quot;https&quot;)\r\n    ]) - failure description: {\r\n        &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;org.wildfly.core.management.security.realm.ApplicationRealm&quot;],\r\n        &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;org.wildfly.undertow.listener.https is missing [org.wildfly.core.management.security.realm.ApplicationRealm]&quot;]\r\n    }\r\n    \r\n    \r\n    \r\n    12:28:26,887 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([\r\n        (&quot;subsystem&quot; =&gt; &quot;undertow&quot;),\r\n        (&quot;server&quot; =&gt; &quot;default-server&quot;),\r\n        (&quot;host&quot; =&gt; &quot;default-host&quot;),\r\n        (&quot;setting&quot; =&gt; &quot;http-invoker&quot;)\r\n    ]) - failure description: {\r\n        &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;org.wildfly.core.management.security.realm.ApplicationRealm&quot;],\r\n        &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;org.wildfly.undertow.http-invoker.host.default-host.http-invoker is missing [org.wildfly.core.management.security.realm.ApplicationRealm]&quot;]\r\n    }\r\n    \r\n    \r\n    \r\n    12:28:26,887 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([\r\n        (&quot;core-service&quot; =&gt; &quot;management&quot;),\r\n        (&quot;security-realm&quot; =&gt; &quot;ManagementRealm&quot;)\r\n    ]) - failure description: &quot;WFLYDM0145: The resource &#39;security-realm&#39; is unsupported since Java 14&quot;\r\n    \r\n    \r\n    \r\n    12:28:26,888 ERROR [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0459: Triggering roll back due to missing management services.\r\n    12:28:26,888 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([\r\n        (&quot;core-service&quot; =&gt; &quot;management&quot;),\r\n        (&quot;management-interface&quot; =&gt; &quot;http-interface&quot;)\r\n    ]) - failure description: {\r\n        &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [\r\n            &quot;org.wildfly.core.management.security.realm.ManagementRealm&quot;,\r\n            &quot;jboss.http-upgrade-registry.http-management&quot;\r\n        ],\r\n        &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [\r\n            &quot;org.wildfly.management.http.extensible is missing [org.wildfly.core.management.security.realm.ManagementRealm]&quot;,\r\n            &quot;jboss.remoting.remoting-http-upgrade-service.http-management is missing [org.wildfly.core.management.security.realm.ManagementRealm, jboss.http-upgrade-registry.http-management]&quot;","title":"JBOSS 7.4 --&gt; 7.4.6 does not start","body":"<p><strong>Hi, I have a problem after updating jboss EAP to version 7.4.6, the server does not start.\nbefore the update, the server was booting up</strong></p>\n<p>System:</p>\n<p>RHL8</p>\n<p>openjdk version &quot;18.0.1.1&quot; 2022-04-22</p>\n<p>OpenJDK Runtime Environment (build 18.0.1.1+2-6)</p>\n<p>OpenJDK 64-Bit Server VM (build 18.0.1.1+2-6, mixed mode, sharing)</p>\n<p>installed by :</p>\n<p>java -jar jboss-eap-7.4.0-installer.jar</p>\n<p>patch applied by CLI (patch apply)</p>\n<p>JBoss EAP cumulative patch ID is: jboss-eap-7.4.6.CP, one-off patches include: none</p>\n<p>start jboss</p>\n<p>$EAP_HOME/bin/standalone.sh -c standalone.xml -Djboss.bind.address=10.10.45.80 -Djboss.bind.address.management=10.10.45.80</p>\n<pre><code>12:28:26,857 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([\n    (&quot;core-service&quot; =&gt; &quot;management&quot;),\n    (&quot;management-interface&quot; =&gt; &quot;http-interface&quot;)\n]) - failure description: {\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [\n        &quot;org.wildfly.core.management.security.realm.ManagementRealm&quot;,\n        &quot;jboss.http-upgrade-registry.http-management&quot;\n    ],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [\n        &quot;org.wildfly.management.http.extensible is missing [org.wildfly.core.management.security.realm.ManagementRealm]&quot;,\n        &quot;jboss.remoting.remoting-http-upgrade-service.http-management is missing [org.wildfly.core.management.security.realm.ManagementRealm, jboss.http-upgrade-registry.http-management]&quot;\n    ]\n}\n\n\n\n12:28:26,885 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([\n    (&quot;subsystem&quot; =&gt; &quot;remoting&quot;),\n    (&quot;http-connector&quot; =&gt; &quot;http-remoting-connector&quot;)\n]) - failure description: {\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;org.wildfly.core.management.security.realm.ApplicationRealm&quot;],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;jboss.remoting.remoting-http-upgrade-service.http-remoting-connector is missing [org.wildfly.core.management.security.realm.ApplicationRealm]&quot;]\n}\n\n\n\n12:28:26,886 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([\n    (&quot;subsystem&quot; =&gt; &quot;security&quot;),\n    (&quot;security-domain&quot; =&gt; &quot;other&quot;)\n]) - failure description: {\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [\n        &quot;jboss.security.security-management&quot;,\n        &quot;jboss.security.jaas&quot;\n    ],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;jboss.security.security-domain.other is missing [jboss.security.jaas, jboss.security.security-management]&quot;]\n}\n\n\n\n12:28:26,886 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([\n    (&quot;subsystem&quot; =&gt; &quot;security&quot;),\n    (&quot;security-domain&quot; =&gt; &quot;jboss-web-policy&quot;)\n]) - failure description: {\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [\n        &quot;jboss.security.security-management&quot;,\n        &quot;jboss.security.jaas&quot;\n    ],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;jboss.security.security-domain.jboss-web-policy is missing [jboss.security.jaas, jboss.security.security-management]&quot;]\n}\n\n\n\n12:28:26,886 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([\n    (&quot;subsystem&quot; =&gt; &quot;security&quot;),\n    (&quot;security-domain&quot; =&gt; &quot;jaspitest&quot;)\n]) - failure description: {\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [\n        &quot;jboss.security.security-management&quot;,\n        &quot;jboss.security.jaas&quot;\n    ],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;jboss.security.security-domain.jaspitest is missing [jboss.security.jaas, jboss.security.security-management]&quot;]\n}\n\n\n\n12:28:26,886 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([\n    (&quot;subsystem&quot; =&gt; &quot;security&quot;),\n    (&quot;security-domain&quot; =&gt; &quot;jboss-ejb-policy&quot;)\n]) - failure description: {\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [\n        &quot;jboss.security.security-management&quot;,\n        &quot;jboss.security.jaas&quot;\n    ],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;jboss.security.security-domain.jboss-ejb-policy is missing [jboss.security.jaas, jboss.security.security-management]&quot;]\n}\n\n\n\n12:28:26,887 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([\n    (&quot;subsystem&quot; =&gt; &quot;undertow&quot;),\n    (&quot;server&quot; =&gt; &quot;default-server&quot;),\n    (&quot;https-listener&quot; =&gt; &quot;https&quot;)\n]) - failure description: {\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;org.wildfly.core.management.security.realm.ApplicationRealm&quot;],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;org.wildfly.undertow.listener.https is missing [org.wildfly.core.management.security.realm.ApplicationRealm]&quot;]\n}\n\n\n\n12:28:26,887 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([\n    (&quot;subsystem&quot; =&gt; &quot;undertow&quot;),\n    (&quot;server&quot; =&gt; &quot;default-server&quot;),\n    (&quot;host&quot; =&gt; &quot;default-host&quot;),\n    (&quot;setting&quot; =&gt; &quot;http-invoker&quot;)\n]) - failure description: {\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;org.wildfly.core.management.security.realm.ApplicationRealm&quot;],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;org.wildfly.undertow.http-invoker.host.default-host.http-invoker is missing [org.wildfly.core.management.security.realm.ApplicationRealm]&quot;]\n}\n\n\n\n12:28:26,887 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([\n    (&quot;core-service&quot; =&gt; &quot;management&quot;),\n    (&quot;security-realm&quot; =&gt; &quot;ManagementRealm&quot;)\n]) - failure description: &quot;WFLYDM0145: The resource 'security-realm' is unsupported since Java 14&quot;\n\n\n\n12:28:26,888 ERROR [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0459: Triggering roll back due to missing management services.\n12:28:26,888 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([\n    (&quot;core-service&quot; =&gt; &quot;management&quot;),\n    (&quot;management-interface&quot; =&gt; &quot;http-interface&quot;)\n]) - failure description: {\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [\n        &quot;org.wildfly.core.management.security.realm.ManagementRealm&quot;,\n        &quot;jboss.http-upgrade-registry.http-management&quot;\n    ],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [\n        &quot;org.wildfly.management.http.extensible is missing [org.wildfly.core.management.security.realm.ManagementRealm]&quot;,\n        &quot;jboss.remoting.remoting-http-upgrade-service.http-management is missing [org.wildfly.core.management.security.realm.ManagementRealm, jboss.http-upgrade-registry.http-management]&quot;\n</code></pre>\n"},{"tags":["java","selenium","webdriver","selenium-webdriver"],"comments":[{"owner":{"account_id":1226870,"reputation":2957,"user_id":1192257,"display_name":"Anuragh27crony"},"score":0,"creation_date":1386320329,"post_id":20414729,"comment_id":30498018,"body_markdown":"can u try &quot;$.active&quot; instead of &quot;jQuery.active&quot;...and check if it works\nAnd to make it work...i think below should be defined:\n\njQuery.ajaxPrefilter(function( options ) {\n    options.global = true;\n});","body":"can u try &quot;$.active&quot; instead of &quot;jQuery.active&quot;...and check if it works And to make it work...i think below should be defined:  jQuery.ajaxPrefilter(function( options ) {     options.global = true; });"},{"owner":{"account_id":3435584,"reputation":110,"user_id":2878784,"display_name":"Illia"},"score":0,"creation_date":1386335489,"post_id":20414729,"comment_id":30506688,"body_markdown":"[This question](http://stackoverflow.com/questions/17208935/org-openqa-selenium-webdriverexception-referenceerror-jquery-is-not-defined) may also be relevant.","body":"<a href=\"http://stackoverflow.com/questions/17208935/org-openqa-selenium-webdriverexception-referenceerror-jquery-is-not-defined\">This question</a> may also be relevant."},{"owner":{"account_id":1418594,"reputation":2009,"user_id":1343698,"display_name":"Furious Duck"},"score":1,"creation_date":1386339872,"post_id":20414729,"comment_id":30509264,"body_markdown":"@Anuragh27crony, I would say `$$.active`, and no other manipulations needed.","body":"@Anuragh27crony, I would say <code>$$.active</code>, and no other manipulations needed."},{"owner":{"account_id":1590335,"reputation":405,"user_id":1473786,"accept_rate":69,"display_name":"nzsquall"},"score":0,"creation_date":1386536055,"post_id":20414729,"comment_id":30569530,"body_markdown":"$$.active appears to work, thanks.","body":"$$.active appears to work, thanks."},{"owner":{"account_id":2772348,"reputation":2191,"user_id":2386700,"accept_rate":58,"display_name":"Dingredient"},"score":0,"creation_date":1411579767,"post_id":20414729,"comment_id":40759549,"body_markdown":"@Alexander Petrovich, you should add your solution as an answer.","body":"@Alexander Petrovich, you should add your solution as an answer."}],"answers":[{"tags":[],"owner":{"account_id":3895790,"reputation":689,"user_id":3224874,"display_name":"Sensei_Shoh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1438372688,"creation_date":1438364464,"answer_id":31752079,"question_id":20414729,"body_markdown":"You could just add a check to see if `jQuery` is defined first so that it won&#39;t throw the exception:\r\n\r\n    public void waitForJQuery(WebDriver driver) {\r\n        (new WebDriverWait(driver, 10)).until(new ExpectedCondition&lt;Boolean&gt;() {\r\n            public Boolean apply(WebDriver d) {\r\n                JavascriptExecutor js = (JavascriptExecutor) d;\r\n                return (Boolean) js.executeScript(&quot;return !!window.jQuery &amp;&amp; window.jQuery.active == 0&quot;);\r\n            }\r\n        });\r\n    }","title":"WebDriver wait for JQuery to finish","body":"<p>You could just add a check to see if <code>jQuery</code> is defined first so that it won't throw the exception:</p>\n\n<pre><code>public void waitForJQuery(WebDriver driver) {\n    (new WebDriverWait(driver, 10)).until(new ExpectedCondition&lt;Boolean&gt;() {\n        public Boolean apply(WebDriver d) {\n            JavascriptExecutor js = (JavascriptExecutor) d;\n            return (Boolean) js.executeScript(\"return !!window.jQuery &amp;&amp; window.jQuery.active == 0\");\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1343546,"reputation":1623,"user_id":2443377,"accept_rate":67,"display_name":"cw24"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457087298,"creation_date":1457086277,"answer_id":35793276,"question_id":20414729,"body_markdown":"This is how I finally got it to work (with some print output for debugging). \r\n\r\nAdapted from here: \r\n\r\nhttp://pastebin.com/3uMWQ5L0\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    \tprivate static void waitForPageLoad(WebDriver driver) {\r\n\t\tSystem.out.println(&quot;Wating for ready state complete&quot;);\r\n\t\t(new WebDriverWait(driver, 5)).until(new ExpectedCondition&lt;Boolean&gt;() {\r\n\t\t\tpublic Boolean apply(WebDriver d) {\r\n\t\t\t\tJavascriptExecutor js = (JavascriptExecutor) d;\r\n\t\t\t\tString readyState = js.executeScript(&quot;return document.readyState&quot;).toString();\r\n\t\t\t\tSystem.out.println(&quot;Ready State: &quot; + readyState);\r\n\t\t\t\treturn (Boolean) readyState.equals(&quot;complete&quot;);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\nDebug Output:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    Wating for ready state complete\r\n    Ready State: interactive\r\n    Ready State: interactive\r\n    Ready State: complete\r\n\r\nFor JQuery just replace `&quot;return document.readyState&quot;` with `&quot;return !!window.jQuery &amp;&amp; window.jQuery.active == 0&quot;` and then change the return statement to `return (Boolean) readyState.equals(&quot;true&quot;);`\r\n\r\nHere the JQuery code Without the Debug info (less confusing I hope).\r\n\r\n&lt;!-- language: jave --&gt;\r\n\r\n    \tprivate static void waitForJQuery(PhantomJSDriver driver) {\r\n\t\t(new WebDriverWait(driver, 5)).until(new ExpectedCondition&lt;Boolean&gt;() {\r\n\t\t\tpublic Boolean apply(WebDriver d) {\r\n\t\t\t\tJavascriptExecutor js = (JavascriptExecutor) d;\r\n\t\t\t\treturn (Boolean) js.executeScript(&quot;return !!window.jQuery &amp;&amp; window.jQuery.active == 0&quot;);\r\n\t\t\t}\r\n\t\t});\r\n\t}","title":"WebDriver wait for JQuery to finish","body":"<p>This is how I finally got it to work (with some print output for debugging). </p>\n\n<p>Adapted from here: </p>\n\n<p><a href=\"http://pastebin.com/3uMWQ5L0\" rel=\"nofollow\">http://pastebin.com/3uMWQ5L0</a></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    private static void waitForPageLoad(WebDriver driver) {\n    System.out.println(\"Wating for ready state complete\");\n    (new WebDriverWait(driver, 5)).until(new ExpectedCondition&lt;Boolean&gt;() {\n        public Boolean apply(WebDriver d) {\n            JavascriptExecutor js = (JavascriptExecutor) d;\n            String readyState = js.executeScript(\"return document.readyState\").toString();\n            System.out.println(\"Ready State: \" + readyState);\n            return (Boolean) readyState.equals(\"complete\");\n        }\n    });\n}\n</code></pre>\n\n<p>Debug Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Wating for ready state complete\nReady State: interactive\nReady State: interactive\nReady State: complete\n</code></pre>\n\n<p>For JQuery just replace <code>\"return document.readyState\"</code> with <code>\"return !!window.jQuery &amp;&amp; window.jQuery.active == 0\"</code> and then change the return statement to <code>return (Boolean) readyState.equals(\"true\");</code></p>\n\n<p>Here the JQuery code Without the Debug info (less confusing I hope).</p>\n\n<pre><code>    private static void waitForJQuery(PhantomJSDriver driver) {\n    (new WebDriverWait(driver, 5)).until(new ExpectedCondition&lt;Boolean&gt;() {\n        public Boolean apply(WebDriver d) {\n            JavascriptExecutor js = (JavascriptExecutor) d;\n            return (Boolean) js.executeScript(\"return !!window.jQuery &amp;&amp; window.jQuery.active == 0\");\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":1590335,"reputation":405,"user_id":1473786,"accept_rate":69,"display_name":"nzsquall"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12868,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1665568088,"creation_date":1386296293,"question_id":20414729,"body_markdown":"I am using WebDriver in Java and I have a customized method to wait for DOM events (by JQuery):\r\n\r\n     public void waitForJQuery(WebDriver driver) {\r\n    (new WebDriverWait(driver, 10)).until(new ExpectedCondition&lt;Boolean&gt;() {\r\n        public Boolean apply(WebDriver d) {\r\n    \tJavascriptExecutor js = (JavascriptExecutor) d;\r\n    \treturn (Boolean) js.executeScript(&quot;return jQuery.active == 0&quot;);\r\n        }\r\n    });\r\n    }\r\n\r\nWhen this method is hit by the test and error are thrown as:\r\n\r\n    org.openqa.selenium.WebDriverException: jQuery is not defined\r\n    Build info: version: &#39;2.37.0&#39;, revision: &#39;a7c61cb&#39;, time: &#39;2013-10-18 17:14:00&#39;\r\n    System info: host: &#39;WMWIN70089&#39;, ip: &#39;10.68.44.231&#39;, os.name: &#39;Windows 7&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;6.1&#39;, java.version: &#39;1.7.0&#39;\r\n    Driver info: driver.version: unknown\r\n    Command duration or timeout: 190 milliseconds\r\n    Build info: version: &#39;2.37.0&#39;, revision: &#39;a7c61cb&#39;, time: &#39;2013-10-18 17:15:02&#39;\r\n    System info: host: &#39;LMWIN70038&#39;, ip: &#39;10.86.44.35&#39;, os.name: &#39;Windows 7&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;6.1&#39;, java.version: &#39;1.7.0_17&#39;\r\n    Session ID: 2cf19cb9-edcd-463e-b77e-0121eb05e246\r\n    Driver info: org.openqa.selenium.remote.RemoteWebDriver\r\n    Capabilities [{platform=XP, acceptSslCerts=true, javascriptEnabled=true, browserName=firefox, rotatable=false, locationContextEnabled=true, webdriver.remote.sessionid=2cf19cb9-edcd-463e-b77e-0121eb05e246, version=25.0.1, cssSelectorsEnabled=true, databaseEnabled=true, handlesAlerts=true, browserConnectionEnabled=true, nativeEvents=true, webStorageEnabled=true, applicationCacheEnabled=true, takesScreenshot=true}]\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n    \tat java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n    \tat org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:193)\r\n    \tat org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:145)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:554)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.executeScript(RemoteWebDriver.java:463)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.openqa.selenium.remote.Augmenter$CompoundHandler.intercept(Augmenter.java:280)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver$$EnhancerByCGLIB$$13369d6d.executeScript(&lt;generated&gt;)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.openqa.selenium.support.events.EventFiringWebDriver$2.invoke(EventFiringWebDriver.java:101)\r\n    \tat com.sun.proxy.$Proxy10.executeScript(Unknown Source)\r\n    \tat org.openqa.selenium.support.events.EventFiringWebDriver.executeScript(EventFiringWebDriver.java:209)\r\n    \tat driver.core.web.core.WebDriverMaster$2.apply(WebDriverMaster.java:186)\r\n    \tat driver.core.web.core.WebDriverMaster$2.apply(WebDriverMaster.java:1)\r\n    \tat org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:208)\r\n    \tat driver.core.web.core.WebDriverMaster.waitForJQuery(WebDriverMaster.java:183)\r\n    \tat driver.services.web.ib4b.template.CreateTemplateDetails.searchItemBy(CreateTemplateDetails.java:364)\r\n    \tat driver.services.web.csu.regression.testSearchAndSort.testSearchByAllFields(testSearchAndSort.java:59)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n    \tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n    \tat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55)\r\n    \tat org.junit.rules.RunRules.evaluate(RunRules.java:20)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\r\n\r\nCan you please help me solve this issue?\r\n\r\nThanks.","title":"WebDriver wait for JQuery to finish","body":"<p>I am using WebDriver in Java and I have a customized method to wait for DOM events (by JQuery):</p>\n\n<pre><code> public void waitForJQuery(WebDriver driver) {\n(new WebDriverWait(driver, 10)).until(new ExpectedCondition&lt;Boolean&gt;() {\n    public Boolean apply(WebDriver d) {\n    JavascriptExecutor js = (JavascriptExecutor) d;\n    return (Boolean) js.executeScript(\"return jQuery.active == 0\");\n    }\n});\n}\n</code></pre>\n\n<p>When this method is hit by the test and error are thrown as:</p>\n\n<pre><code>org.openqa.selenium.WebDriverException: jQuery is not defined\nBuild info: version: '2.37.0', revision: 'a7c61cb', time: '2013-10-18 17:14:00'\nSystem info: host: 'WMWIN70089', ip: '10.68.44.231', os.name: 'Windows 7', os.arch: 'amd64', os.version: '6.1', java.version: '1.7.0'\nDriver info: driver.version: unknown\nCommand duration or timeout: 190 milliseconds\nBuild info: version: '2.37.0', revision: 'a7c61cb', time: '2013-10-18 17:15:02'\nSystem info: host: 'LMWIN70038', ip: '10.86.44.35', os.name: 'Windows 7', os.arch: 'amd64', os.version: '6.1', java.version: '1.7.0_17'\nSession ID: 2cf19cb9-edcd-463e-b77e-0121eb05e246\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\nCapabilities [{platform=XP, acceptSslCerts=true, javascriptEnabled=true, browserName=firefox, rotatable=false, locationContextEnabled=true, webdriver.remote.sessionid=2cf19cb9-edcd-463e-b77e-0121eb05e246, version=25.0.1, cssSelectorsEnabled=true, databaseEnabled=true, handlesAlerts=true, browserConnectionEnabled=true, nativeEvents=true, webStorageEnabled=true, applicationCacheEnabled=true, takesScreenshot=true}]\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n    at java.lang.reflect.Constructor.newInstance(Unknown Source)\n    at org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:193)\n    at org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:145)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:554)\n    at org.openqa.selenium.remote.RemoteWebDriver.executeScript(RemoteWebDriver.java:463)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.openqa.selenium.remote.Augmenter$CompoundHandler.intercept(Augmenter.java:280)\n    at org.openqa.selenium.remote.RemoteWebDriver$$EnhancerByCGLIB$$13369d6d.executeScript(&lt;generated&gt;)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.openqa.selenium.support.events.EventFiringWebDriver$2.invoke(EventFiringWebDriver.java:101)\n    at com.sun.proxy.$Proxy10.executeScript(Unknown Source)\n    at org.openqa.selenium.support.events.EventFiringWebDriver.executeScript(EventFiringWebDriver.java:209)\n    at driver.core.web.core.WebDriverMaster$2.apply(WebDriverMaster.java:186)\n    at driver.core.web.core.WebDriverMaster$2.apply(WebDriverMaster.java:1)\n    at org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:208)\n    at driver.core.web.core.WebDriverMaster.waitForJQuery(WebDriverMaster.java:183)\n    at driver.services.web.ib4b.template.CreateTemplateDetails.searchItemBy(CreateTemplateDetails.java:364)\n    at driver.services.web.csu.regression.testSearchAndSort.testSearchByAllFields(testSearchAndSort.java:59)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55)\n    at org.junit.rules.RunRules.evaluate(RunRules.java:20)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\n</code></pre>\n\n<p>Can you please help me solve this issue?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","spring-boot","ignite"],"comments":[{"owner":{"account_id":13310696,"reputation":414,"user_id":9609031,"display_name":"antkr"},"score":0,"creation_date":1665589937,"post_id":74039786,"comment_id":130737951,"body_markdown":"Could you please share a whole application that you are trying to run with autoconfiguration plugin for Apache Ignite? Have you disabled the default configuration and did you try to modify existing configuration as the example states?\n\nhttps://github.com/apache/ignite-extensions/tree/master/modules/spring-boot-autoconfigure-ext/examples","body":"Could you please share a whole application that you are trying to run with autoconfiguration plugin for Apache Ignite? Have you disabled the default configuration and did you try to modify existing configuration as the example states?  <a href=\"https://github.com/apache/ignite-extensions/tree/master/modules/spring-boot-autoconfigure-ext/examples\" rel=\"nofollow noreferrer\">github.com/apache/ignite-extensions/tree/master/modules/&hellip;</a>"},{"owner":{"account_id":14422240,"reputation":167,"user_id":12446654,"display_name":"Capitano Giovarco"},"score":0,"creation_date":1665664482,"post_id":74039786,"comment_id":130755566,"body_markdown":"https://github.com/Giovarco/ignite-demo","body":"<a href=\"https://github.com/Giovarco/ignite-demo\" rel=\"nofollow noreferrer\">github.com/Giovarco/ignite-demo</a>"},{"owner":{"account_id":14422240,"reputation":167,"user_id":12446654,"display_name":"Capitano Giovarco"},"score":0,"creation_date":1665664540,"post_id":74039786,"comment_id":130755582,"body_markdown":"If you run it on IntelliJ like I do, make sure to set Java 11.0.2 otherwise you&#39;ll get a different error message","body":"If you run it on IntelliJ like I do, make sure to set Java 11.0.2 otherwise you&#39;ll get a different error message"}],"owner":{"account_id":14422240,"reputation":167,"user_id":12446654,"display_name":"Capitano Giovarco"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665567979,"creation_date":1665567979,"question_id":74039786,"body_markdown":"I have a project with Spring Boot and Ignite. Everything works as long as I use the default configuration provided for Spring. However, the default behavior is in-memory database and I&#39;d like to activate the Ignite Persistence so that I write records on disk in addition to have cache, which shouldn&#39;t be hard.\r\n\r\nI checked the `IgniteAutoConfiguration.java` and based on that I wrote this class:\r\n\r\n    @Configuration\r\n    public class IgniteManualConfiguration {\r\n    \r\n        @Bean\r\n        @ConfigurationProperties(prefix = &quot;ignite&quot;)\r\n        public IgniteConfiguration igniteConfiguration(IgniteConfigurer configurer) {\r\n            IgniteConfiguration cfg = new IgniteConfiguration();\r\n    \r\n            //data storage configuration\r\n            DataStorageConfiguration storageCfg = new DataStorageConfiguration();\r\n            storageCfg.getDefaultDataRegionConfiguration().setPersistenceEnabled(true);\r\n            cfg.setDataStorageConfiguration(storageCfg);\r\n    \r\n            configurer.accept(cfg);\r\n            return cfg;\r\n        }\r\n    }\r\n\r\nIt&#39;s the exact same as the auto-configuration implementation but with an additional storage configuration.\r\n\r\nWell, my app doesn&#39;t start anymore unfortunately. This is the stack trace:\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;queryController&#39;: Unsatisfied dependency expressed through field &#39;topic2MongoCollection&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;topic2MongoCollection&#39;: Unsatisfied dependency expressed through field &#39;databaseFacade&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;igniteFacade&#39;: Unsatisfied dependency expressed through field &#39;ignite&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;ignite&#39; defined in class path resource [org/apache/ignite/springframework/boot/autoconfigure/IgniteAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ignite.Ignite]: Factory method &#39;ignite&#39; threw exception; nested exception is class org.apache.ignite.IgniteException: Index 2 out of bounds for length 2\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:64) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat com.***.Application.main(Application.java:33) ~[classes/:na]\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;topic2MongoCollection&#39;: Unsatisfied dependency expressed through field &#39;databaseFacade&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;igniteFacade&#39;: Unsatisfied dependency expressed through field &#39;ignite&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;ignite&#39; defined in class path resource [org/apache/ignite/springframework/boot/autoconfigure/IgniteAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ignite.Ignite]: Factory method &#39;ignite&#39; threw exception; nested exception is class org.apache.ignite.IgniteException: Index 2 out of bounds for length 2\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \t... 18 common frames omitted\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;igniteFacade&#39;: Unsatisfied dependency expressed through field &#39;ignite&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;ignite&#39; defined in class path resource [org/apache/ignite/springframework/boot/autoconfigure/IgniteAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ignite.Ignite]: Factory method &#39;ignite&#39; threw exception; nested exception is class org.apache.ignite.IgniteException: Index 2 out of bounds for length 2\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \t... 32 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;ignite&#39; defined in class path resource [org/apache/ignite/springframework/boot/autoconfigure/IgniteAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ignite.Ignite]: Factory method &#39;ignite&#39; threw exception; nested exception is class org.apache.ignite.IgniteException: Index 2 out of bounds for length 2\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \t... 46 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ignite.Ignite]: Factory method &#39;ignite&#39; threw exception; nested exception is class org.apache.ignite.IgniteException: Index 2 out of bounds for length 2\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \t... 59 common frames omitted\r\n    Caused by: org.apache.ignite.IgniteException: Index 2 out of bounds for length 2\r\n    \tat org.apache.ignite.internal.util.IgniteUtils.convertException(IgniteUtils.java:1089) ~[ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.Ignition.start(Ignition.java:331) ~[ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration.ignite(IgniteAutoConfiguration.java:99) ~[ignite-spring-boot-autoconfigure-ext-1.0.0.jar:1.0.0]\r\n    \tat org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$7f1b3b34.CGLIB$ignite$2(&lt;generated&gt;) ~[ignite-spring-boot-autoconfigure-ext-1.0.0.jar:1.0.0]\r\n    \tat org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$7f1b3b34$$FastClassBySpringCGLIB$$c29139f4.invoke(&lt;generated&gt;) ~[ignite-spring-boot-autoconfigure-ext-1.0.0.jar:1.0.0]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$7f1b3b34.ignite(&lt;generated&gt;) ~[ignite-spring-boot-autoconfigure-ext-1.0.0.jar:1.0.0]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \t... 60 common frames omitted\r\n    Caused by: org.apache.ignite.IgniteCheckedException: Index 2 out of bounds for length 2\r\n    \tat org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1407) ~[ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start0(IgnitionEx.java:2052) ~[ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start(IgnitionEx.java:1698) ~[ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.IgnitionEx.start0(IgnitionEx.java:1114) ~[ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:634) ~[ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:560) ~[ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.Ignition.start(Ignition.java:328) ~[ignite-core-2.9.1.jar:2.9.1]\r\n    \t... 71 common frames omitted\r\n    Caused by: java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2\r\n    \tat org.apache.ignite.internal.processors.cache.persistence.tree.io.IOVersions.forVersion(IOVersions.java:87) ~[ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.cache.persistence.tree.io.PageIO.getPageIO(PageIO.java:665) ~[ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.cache.persistence.tree.io.PageIO.getPageIO(PageIO.java:629) ~[ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.cache.persistence.metastorage.MetaStorage.getOrAllocateMetas(MetaStorage.java:523) ~[ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.cache.persistence.metastorage.MetaStorage.initInternal(MetaStorage.java:250) ~[ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.cache.persistence.metastorage.MetaStorage.init(MetaStorage.java:167) ~[ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.createMetastorage(GridCacheDatabaseSharedManager.java:1098) ~[ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.readMetastore(GridCacheDatabaseSharedManager.java:875) ~[ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.notifyMetaStorageSubscribersOnReadyForRead(GridCacheDatabaseSharedManager.java:5022) ~[ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1251) ~[ignite-core-2.9.1.jar:2.9.1]\r\n    \t... 77 common frames omitted\r\n\r\nThis error message doesn&#39;t give me any information about where the problem is from my point of view.","title":"org.apache.ignite.IgniteCheckedException: Index 2 out of bounds for length 2","body":"<p>I have a project with Spring Boot and Ignite. Everything works as long as I use the default configuration provided for Spring. However, the default behavior is in-memory database and I'd like to activate the Ignite Persistence so that I write records on disk in addition to have cache, which shouldn't be hard.</p>\n<p>I checked the <code>IgniteAutoConfiguration.java</code> and based on that I wrote this class:</p>\n<pre><code>@Configuration\npublic class IgniteManualConfiguration {\n\n    @Bean\n    @ConfigurationProperties(prefix = &quot;ignite&quot;)\n    public IgniteConfiguration igniteConfiguration(IgniteConfigurer configurer) {\n        IgniteConfiguration cfg = new IgniteConfiguration();\n\n        //data storage configuration\n        DataStorageConfiguration storageCfg = new DataStorageConfiguration();\n        storageCfg.getDefaultDataRegionConfiguration().setPersistenceEnabled(true);\n        cfg.setDataStorageConfiguration(storageCfg);\n\n        configurer.accept(cfg);\n        return cfg;\n    }\n}\n</code></pre>\n<p>It's the exact same as the auto-configuration implementation but with an additional storage configuration.</p>\n<p>Well, my app doesn't start anymore unfortunately. This is the stack trace:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'queryController': Unsatisfied dependency expressed through field 'topic2MongoCollection'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'topic2MongoCollection': Unsatisfied dependency expressed through field 'databaseFacade'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'igniteFacade': Unsatisfied dependency expressed through field 'ignite'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ignite' defined in class path resource [org/apache/ignite/springframework/boot/autoconfigure/IgniteAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ignite.Ignite]: Factory method 'ignite' threw exception; nested exception is class org.apache.ignite.IgniteException: Index 2 out of bounds for length 2\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:64) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\n    at com.***.Application.main(Application.java:33) ~[classes/:na]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'topic2MongoCollection': Unsatisfied dependency expressed through field 'databaseFacade'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'igniteFacade': Unsatisfied dependency expressed through field 'ignite'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ignite' defined in class path resource [org/apache/ignite/springframework/boot/autoconfigure/IgniteAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ignite.Ignite]: Factory method 'ignite' threw exception; nested exception is class org.apache.ignite.IgniteException: Index 2 out of bounds for length 2\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.16.jar:5.3.16]\n    ... 18 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'igniteFacade': Unsatisfied dependency expressed through field 'ignite'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ignite' defined in class path resource [org/apache/ignite/springframework/boot/autoconfigure/IgniteAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ignite.Ignite]: Factory method 'ignite' threw exception; nested exception is class org.apache.ignite.IgniteException: Index 2 out of bounds for length 2\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.16.jar:5.3.16]\n    ... 32 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ignite' defined in class path resource [org/apache/ignite/springframework/boot/autoconfigure/IgniteAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ignite.Ignite]: Factory method 'ignite' threw exception; nested exception is class org.apache.ignite.IgniteException: Index 2 out of bounds for length 2\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.16.jar:5.3.16]\n    ... 46 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ignite.Ignite]: Factory method 'ignite' threw exception; nested exception is class org.apache.ignite.IgniteException: Index 2 out of bounds for length 2\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.16.jar:5.3.16]\n    ... 59 common frames omitted\nCaused by: org.apache.ignite.IgniteException: Index 2 out of bounds for length 2\n    at org.apache.ignite.internal.util.IgniteUtils.convertException(IgniteUtils.java:1089) ~[ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.Ignition.start(Ignition.java:331) ~[ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration.ignite(IgniteAutoConfiguration.java:99) ~[ignite-spring-boot-autoconfigure-ext-1.0.0.jar:1.0.0]\n    at org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$7f1b3b34.CGLIB$ignite$2(&lt;generated&gt;) ~[ignite-spring-boot-autoconfigure-ext-1.0.0.jar:1.0.0]\n    at org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$7f1b3b34$$FastClassBySpringCGLIB$$c29139f4.invoke(&lt;generated&gt;) ~[ignite-spring-boot-autoconfigure-ext-1.0.0.jar:1.0.0]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.16.jar:5.3.16]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$7f1b3b34.ignite(&lt;generated&gt;) ~[ignite-spring-boot-autoconfigure-ext-1.0.0.jar:1.0.0]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.16.jar:5.3.16]\n    ... 60 common frames omitted\nCaused by: org.apache.ignite.IgniteCheckedException: Index 2 out of bounds for length 2\n    at org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1407) ~[ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start0(IgnitionEx.java:2052) ~[ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start(IgnitionEx.java:1698) ~[ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.IgnitionEx.start0(IgnitionEx.java:1114) ~[ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:634) ~[ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:560) ~[ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.Ignition.start(Ignition.java:328) ~[ignite-core-2.9.1.jar:2.9.1]\n    ... 71 common frames omitted\nCaused by: java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2\n    at org.apache.ignite.internal.processors.cache.persistence.tree.io.IOVersions.forVersion(IOVersions.java:87) ~[ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.cache.persistence.tree.io.PageIO.getPageIO(PageIO.java:665) ~[ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.cache.persistence.tree.io.PageIO.getPageIO(PageIO.java:629) ~[ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.cache.persistence.metastorage.MetaStorage.getOrAllocateMetas(MetaStorage.java:523) ~[ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.cache.persistence.metastorage.MetaStorage.initInternal(MetaStorage.java:250) ~[ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.cache.persistence.metastorage.MetaStorage.init(MetaStorage.java:167) ~[ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.createMetastorage(GridCacheDatabaseSharedManager.java:1098) ~[ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.readMetastore(GridCacheDatabaseSharedManager.java:875) ~[ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.notifyMetaStorageSubscribersOnReadyForRead(GridCacheDatabaseSharedManager.java:5022) ~[ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1251) ~[ignite-core-2.9.1.jar:2.9.1]\n    ... 77 common frames omitted\n</code></pre>\n<p>This error message doesn't give me any information about where the problem is from my point of view.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665431076,"creation_date":1665427501,"answer_id":74019458,"question_id":74018397,"body_markdown":"For the last version of Spring Boot 2.7.2, Spring Boot doesn&#39;t check a connection itself, but gets a connection to determine some properties. Also Hibernate needs a connection to determine some properties itself (controlled by `spring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults`). \r\n\r\nAlso if you have `spring-boot-starter-actuator` as a dependency, a connection will be checked at the startup (controlled by `management.health.db.enabled`).\r\n\r\nIt needs to specify all automatically determined properties explicitly to not  get a connection during the startup (even `spring.jpa.hibernate.ddlAuto`)   \r\n\r\nAdd this to `application.yaml`\r\n```yaml\r\nspring.jpa.hibernate.ddlAuto: &quot;none&quot;\r\nspring.datasource.driver-class-name: org.postgresql.Driver\r\nspring.jpa.database-platform: org.hibernate.dialect.PostgreSQL94Dialect\r\n\r\nspring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults: false #Hibernate\r\n\r\n# disable datasource check on startup\r\nmanagement.health.db.enabled: false #spring-boot-starter-actuator \r\n``` \r\n\r\nBy default Hikari is used as a connection pool. The connection pool gets all connections at the first attempt to get a connection. That&#39;s why it doesn&#39;t get the connections during the startup.\r\n","title":"Spring boot and Jpa Related clarification","body":"<p>For the last version of Spring Boot 2.7.2, Spring Boot doesn't check a connection itself, but gets a connection to determine some properties. Also Hibernate needs a connection to determine some properties itself (controlled by <code>spring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults</code>).</p>\n<p>Also if you have <code>spring-boot-starter-actuator</code> as a dependency, a connection will be checked at the startup (controlled by <code>management.health.db.enabled</code>).</p>\n<p>It needs to specify all automatically determined properties explicitly to not  get a connection during the startup (even <code>spring.jpa.hibernate.ddlAuto</code>)</p>\n<p>Add this to <code>application.yaml</code></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring.jpa.hibernate.ddlAuto: &quot;none&quot;\nspring.datasource.driver-class-name: org.postgresql.Driver\nspring.jpa.database-platform: org.hibernate.dialect.PostgreSQL94Dialect\n\nspring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults: false #Hibernate\n\n# disable datasource check on startup\nmanagement.health.db.enabled: false #spring-boot-starter-actuator \n</code></pre>\n<p>By default Hikari is used as a connection pool. The connection pool gets all connections at the first attempt to get a connection. That's why it doesn't get the connections during the startup.</p>\n"},{"tags":[],"owner":{"account_id":13331423,"reputation":391,"user_id":10441871,"display_name":"Shyam Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665567924,"creation_date":1665567924,"answer_id":74039777,"question_id":74018397,"body_markdown":"Nothing much. Just execute your query. If the connection has died, either your JDBC driver will reconnect (if it supports it, and you enabled it in your connection string--most don&#39;t support it) or else you&#39;ll get an exception.\r\n\r\nour best chance is to just perform a simple query against one table, e.g.:\r\n\r\n```\r\nselect 1 from SOME_TABLE;\r\n```\r\n\r\n","title":"Spring boot and Jpa Related clarification","body":"<p>Nothing much. Just execute your query. If the connection has died, either your JDBC driver will reconnect (if it supports it, and you enabled it in your connection string--most don't support it) or else you'll get an exception.</p>\n<p>our best chance is to just perform a simple query against one table, e.g.:</p>\n<pre><code>select 1 from SOME_TABLE;\n</code></pre>\n"}],"owner":{"account_id":26582287,"reputation":21,"user_id":20206763,"display_name":"mautila registan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":526,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74019458,"answer_count":2,"score":1,"last_activity_date":1665567924,"creation_date":1665421480,"question_id":74018397,"body_markdown":"Suppose i have a spring-boot application that has starter-JPA dependencies.\r\nI need to know if spring checks the connection to the db at the startup? \r\n\r\nFor example, if i have mentioned a Database that i do not have access to (like below), will the application fail to start? If yes what would be the exception?\r\n\r\n\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/postgres\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    spring.jpa.hibernate.dialect=org.hibernate.dialect.PostgreSQL94Dialect\r\n    spring.datasource.driver-class-name=org.postgresql.Driver\r\n    spring.datasource.continue-on-error=true\r\n\r\n","title":"Spring boot and Jpa Related clarification","body":"<p>Suppose i have a spring-boot application that has starter-JPA dependencies.\nI need to know if spring checks the connection to the db at the startup?</p>\n<p>For example, if i have mentioned a Database that i do not have access to (like below), will the application fail to start? If yes what would be the exception?</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/postgres\nspring.datasource.username=root\nspring.datasource.password=root\nspring.jpa.hibernate.dialect=org.hibernate.dialect.PostgreSQL94Dialect\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.datasource.continue-on-error=true\n</code></pre>\n"},{"tags":["java","netty","nio","netty4","direct-buffer"],"answers":[{"tags":[],"owner":{"account_id":5962218,"reputation":91,"user_id":4687036,"display_name":"Ilker Ike kucuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665382969,"creation_date":1665382969,"answer_id":74010894,"question_id":73995631,"body_markdown":"You need to do the option 3 &quot;code 3&quot;\r\nThe handler on your channel pipeline is already calling release, when it is done with the bytebuf. ","title":"How to release Pooled direct ByteBuf in netty when written after by ChannelHandlerContext?","body":"<p>You need to do the option 3 &quot;code 3&quot;\nThe handler on your channel pipeline is already calling release, when it is done with the bytebuf.</p>\n"},{"tags":[],"owner":{"account_id":1677570,"reputation":18354,"user_id":1542723,"display_name":"Ferrybig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665567437,"creation_date":1665567437,"answer_id":74039679,"question_id":73995631,"body_markdown":"Use a try-finally block for this:\r\n\r\n    \r\n    // alloc larger size of memory to increase memory usage\r\n    ByteBuf buffer = PooledByteBufAllocator.DEFAULT.directBuffer(4* 1024 * 1024, 4* 1024 * 1024);\r\n    try {\r\n        // mock exchange message\r\n        for (int i = 0; i &lt; 1024 * 1024; i++) {\r\n            buffer.writeInt(i);\r\n        }\r\n        ctx.write(buffer.retain());\r\n    } finally {\r\n        buffer.release();\r\n    }\r\n\r\nWhen the buffer is acquired from the pool, it has a reference count of 1. You then do things with it, like filling, and if any exception happens here, the code goes into the finally part, releasing the buffer.\r\n\r\nA special thing happens when calling a function that is going to continue to run after your function is done, like write. Releasing the buffer manually will be to soon, while it is hard to do safely, so we use the retain trick. We call the method retain on the buffer, so the reference count becomes 2, meaning it our call to release in the finally block will decrement it back to 1, and when write is done, it will be converted to 0 and given back to the pool","title":"How to release Pooled direct ByteBuf in netty when written after by ChannelHandlerContext?","body":"<p>Use a try-finally block for this:</p>\n<pre><code>// alloc larger size of memory to increase memory usage\nByteBuf buffer = PooledByteBufAllocator.DEFAULT.directBuffer(4* 1024 * 1024, 4* 1024 * 1024);\ntry {\n    // mock exchange message\n    for (int i = 0; i &lt; 1024 * 1024; i++) {\n        buffer.writeInt(i);\n    }\n    ctx.write(buffer.retain());\n} finally {\n    buffer.release();\n}\n</code></pre>\n<p>When the buffer is acquired from the pool, it has a reference count of 1. You then do things with it, like filling, and if any exception happens here, the code goes into the finally part, releasing the buffer.</p>\n<p>A special thing happens when calling a function that is going to continue to run after your function is done, like write. Releasing the buffer manually will be to soon, while it is hard to do safely, so we use the retain trick. We call the method retain on the buffer, so the reference count becomes 2, meaning it our call to release in the finally block will decrement it back to 1, and when write is done, it will be converted to 0 and given back to the pool</p>\n"}],"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74010894,"answer_count":2,"score":0,"last_activity_date":1665567437,"creation_date":1665219128,"question_id":73995631,"body_markdown":"In my c/s project, c/s need to exchange fixed-size message with netty.  \r\nI use pooled direct buffer to buffer message.  \r\nCode just like below:  \r\n```\r\npublic void channelRead(ChannelHandlerContext ctx, Object msg) {\r\n\tByteBuf in = (ByteBuf) msg;\r\n\ttry {\r\n\t\t...\r\n\t} finally {\r\n\t\tReferenceCountUtil.release(msg);\r\n\t}\r\n\t// alloc larger size of memory to increase memory usage\r\n\tByteBuf buffer = PooledByteBufAllocator.DEFAULT.directBuffer(4* 1024 * 1024, 4* 1024 * 1024);\r\n\t// mock exchange message\r\n\tfor (int i = 0; i &lt; 1024 * 1024; i++) {\r\n\t\tbuffer.writeInt(i);\r\n\t}\r\n    // code 1\r\n\t// ctx.write(buffer);\r\n    // ReferenceCountUtil.release(buffer);\r\n    // code 2\r\n\t// ctx.write(buffer, ctx.newPromise().addListener(f -&gt; ReferenceCountUtil.release(buffer)));\r\n    // code 3\r\n    // ctx.write(buffer);\r\n}\r\n```  \r\nAs I know, I need to release ByteBuf.    \r\n**Which is the right way to use buffer, `code 1`, `code 2` or `code 3`**?  \r\nIntuitively `code 2` may be a good choice.  \r\nBut `code 2` occurs error,    \r\n```\r\ni.n.util.concurrent.DefaultPromise - An exception was thrown by XXXServerHandler$$Lambda$73/0x000000080018ac40.operationComplete()\r\nio.netty.util.IllegalReferenceCountException: refCnt: 0, decrement: 1\r\n```  \r\nThanks.","title":"How to release Pooled direct ByteBuf in netty when written after by ChannelHandlerContext?","body":"<p>In my c/s project, c/s need to exchange fixed-size message with netty.<br />\nI use pooled direct buffer to buffer message.<br />\nCode just like below:</p>\n<pre><code>public void channelRead(ChannelHandlerContext ctx, Object msg) {\n    ByteBuf in = (ByteBuf) msg;\n    try {\n        ...\n    } finally {\n        ReferenceCountUtil.release(msg);\n    }\n    // alloc larger size of memory to increase memory usage\n    ByteBuf buffer = PooledByteBufAllocator.DEFAULT.directBuffer(4* 1024 * 1024, 4* 1024 * 1024);\n    // mock exchange message\n    for (int i = 0; i &lt; 1024 * 1024; i++) {\n        buffer.writeInt(i);\n    }\n    // code 1\n    // ctx.write(buffer);\n    // ReferenceCountUtil.release(buffer);\n    // code 2\n    // ctx.write(buffer, ctx.newPromise().addListener(f -&gt; ReferenceCountUtil.release(buffer)));\n    // code 3\n    // ctx.write(buffer);\n}\n</code></pre>\n<p>As I know, I need to release ByteBuf.<br />\n<strong>Which is the right way to use buffer, <code>code 1</code>, <code>code 2</code> or <code>code 3</code></strong>?<br />\nIntuitively <code>code 2</code> may be a good choice.<br />\nBut <code>code 2</code> occurs error,</p>\n<pre><code>i.n.util.concurrent.DefaultPromise - An exception was thrown by XXXServerHandler$$Lambda$73/0x000000080018ac40.operationComplete()\nio.netty.util.IllegalReferenceCountException: refCnt: 0, decrement: 1\n</code></pre>\n<p>Thanks.</p>\n"},{"tags":["java","json","jackson","sbt","jackson-databind"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1663664652,"post_id":73784095,"comment_id":130287562,"body_markdown":"I don&#39;t understand why you&#39;d want either format; the preferred format for me will nearly always be an ISO format like `2022-09-20T11:04:13`.","body":"I don&#39;t understand why you&#39;d want either format; the preferred format for me will nearly always be an ISO format like <code>2022-09-20T11:04:13</code>."},{"owner":{"account_id":22196153,"reputation":13,"user_id":16437544,"display_name":"Charnel92"},"score":0,"creation_date":1663664924,"post_id":73784095,"comment_id":130287664,"body_markdown":"@RobSpoor because frontend, iOS and Android applications are also already used to such a response from the server and cannot process just a string or any other type, since this will lead to the need to update applications for all users and previous versions of applications will not work correctly","body":"@RobSpoor because frontend, iOS and Android applications are also already used to such a response from the server and cannot process just a string or any other type, since this will lead to the need to update applications for all users and previous versions of applications will not work correctly"}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663665060,"creation_date":1663665060,"answer_id":73784236,"question_id":73784095,"body_markdown":"You need to create a custom `JsonSerializer` that converts the `LocalDateTime` to a `Calendar`, then serializes that. Untested:\r\n```java\r\npublic void serialize(LocalDateTime value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n    Calendar calendar = GregorianCalendar.from(value.atZone(ZoneId.systemDefault()));\r\n    JsonSerializer&lt;Object&gt; calendarSerializer = serializers.findValueSerializer(calendar.getClass());\r\n    calendarSerializer.serialize(calendar, gen, serializers);\r\n}\r\n```","title":"serialize LocalDateTime to old format with Jackson Json mapper","body":"<p>You need to create a custom <code>JsonSerializer</code> that converts the <code>LocalDateTime</code> to a <code>Calendar</code>, then serializes that. Untested:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void serialize(LocalDateTime value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n    Calendar calendar = GregorianCalendar.from(value.atZone(ZoneId.systemDefault()));\n    JsonSerializer&lt;Object&gt; calendarSerializer = serializers.findValueSerializer(calendar.getClass());\n    calendarSerializer.serialize(calendar, gen, serializers);\n}\n</code></pre>\n"}],"owner":{"account_id":22196153,"reputation":13,"user_id":16437544,"display_name":"Charnel92"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73784236,"answer_count":1,"score":1,"last_activity_date":1665567333,"creation_date":1663664389,"question_id":73784095,"body_markdown":"After updating the Jackson library, the response changed, previously Json.toJSON(LocalDateTime.now()) was used, which calls ObjectMapper().valueToTree(data);\r\n\r\nI want the view to be the same as before :\r\n\r\n                    &quot;date&quot;: {\r\n                    &quot;year&quot;: 2022,\r\n                    &quot;month&quot;: &quot;SEPTEMBER&quot;,\r\n                    &quot;dayOfMonth&quot;: 8,\r\n                    &quot;dayOfWeek&quot;: &quot;THURSDAY&quot;,\r\n                    &quot;dayOfYear&quot;: 251,\r\n                    &quot;monthValue&quot;: 9,\r\n                    &quot;hour&quot;: 16,\r\n                    &quot;minute&quot;: 4,\r\n                    &quot;second&quot;: 30,\r\n                    &quot;nano&quot;: 0,\r\n                    &quot;chronology&quot;: {\r\n                        &quot;calendarType&quot;: &quot;iso8601&quot;,\r\n                        &quot;id&quot;: &quot;ISO&quot;\r\n                    }\r\n                }\r\n\r\nnow the answer looks like this:\r\n\r\n    [2022,9,20,11,28,9,598000000]\r\n\r\nBefore updating the libraries, serialization of the LocalDateTime object in JsonNode was enough to get the right answer, now I tried in different ways -\r\n\r\n            final String jsonNode = new ObjectMapper().findAndRegisterModules().writeValueAsString(LocalDateTime.now());\r\n        return ok(Json.toJson(jsonNode));\r\n\r\nor this without Json.toJson(jsonNode), just :\r\n\r\n                final String jsonNode = new ObjectMapper().findAndRegisterModules().writeValueAsString(LocalDateTime.now());\r\n        return ok(jsonNode);\r\nor:\r\n\r\n            final JsonNode jsonNode = new ObjectMapper().registerModule(new JSR310Module()).valueToTree(LocalDateTime.now());\r\n        return ok(Json.toJson(jsonNode));\r\n\r\nand various other options, which, unfortunately, do not give the desired effect even if I do not use Json.toJSON();\r\n\r\nJson.toJson() (code):\r\n\r\n        public static JsonNode toJson(final Object data) {\r\n        try {\r\n            return mapper().valueToTree(data);\r\n        } catch(Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\nI use Play and sbt for compilation, it is important for me not to change the code of the entire project just because of updating the libraries, but it should be noted that I needed to update them because some new modules that needed to be added are not compatible with the old version of Jackson. \r\nDependencies look like this\r\n\r\n    libraryDependencies += &quot;com.fasterxml.jackson.dataformat&quot; % &quot;jackson-dataformat-cbor&quot; % &quot;2.12.6&quot;\r\n        libraryDependencies += &quot;com.fasterxml.jackson.datatype&quot; % &quot;jackson-datatype-jdk8&quot; % &quot;2.12.6&quot;\r\n        libraryDependencies += &quot;com.fasterxml.jackson.datatype&quot; % &quot;jackson-datatype-jsr310&quot; % &quot;2.12.6&quot;\r\n        libraryDependencies += &quot;com.fasterxml.jackson.core&quot; % &quot;jackson-annotations&quot; % &quot;2.12.6&quot;\r\n        libraryDependencies += &quot;com.fasterxml.jackson.core&quot; % &quot;jackson-core&quot; % &quot;2.12.6&quot;here\r\n\r\nI will be very grateful for the answer, if it is possible to do this\r\n\r\n***UPD***\r\n\r\nI solved this problem like this, maybe it will be useful:\r\nfirst of all, I created the custom serializer:\r\n\r\n    public class LocalDateTimeKeySerializer extends StdSerializer&lt;LocalDateTime&gt; {\r\n\r\n    public static final LocalDateTimeKeySerializer INSTANCE = new LocalDateTimeKeySerializer();\r\n\r\n    public LocalDateTimeKeySerializer() {\r\n        super(LocalDateTime.class);\r\n    }\r\n\r\n    @Override\r\n    public void serialize(LocalDateTime value, JsonGenerator gen, SerializerProvider provider) throws IOException {\r\n        gen.writeStartObject();\r\n        gen.writeNumberField(&quot;year&quot;, value.getYear());\r\n        gen.writeNumberField(&quot;monthValue&quot;, value.getMonthValue());\r\n        gen.writeStringField(&quot;month&quot;, value.getMonth().name());\r\n        gen.writeNumberField(&quot;dayOfMonth&quot;, value.getDayOfMonth());\r\n        gen.writeNumberField(&quot;hour&quot;, value.getHour());\r\n        gen.writeNumberField(&quot;minute&quot;, value.getMinute());\r\n        gen.writeNumberField(&quot;second&quot;, value.getSecond());\r\n        gen.writeNumberField(&quot;nano&quot;, value.getNano());\r\n        gen.writeStringField(&quot;dayOfWeek&quot;, value.getDayOfWeek().name());\r\n        gen.writeNumberField(&quot;dayOfYear&quot;, value.getDayOfYear());\r\n        gen.writeEndObject();\r\n    }}\r\nafter that added this serializer in custom module:\r\n\r\n    public class JsonCustomModule extends SimpleModule {\r\n\r\n    public JsonCustomModule() {\r\n        super(PackageVersion.VERSION);\r\n        addSerializer(LocalDateTime.class, LocalDateTimeKeySerializer.INSTANCE);\r\n    }}\r\n\r\nhope it could be useful ^^","title":"serialize LocalDateTime to old format with Jackson Json mapper","body":"<p>After updating the Jackson library, the response changed, previously Json.toJSON(LocalDateTime.now()) was used, which calls ObjectMapper().valueToTree(data);</p>\n<p>I want the view to be the same as before :</p>\n<pre><code>                &quot;date&quot;: {\n                &quot;year&quot;: 2022,\n                &quot;month&quot;: &quot;SEPTEMBER&quot;,\n                &quot;dayOfMonth&quot;: 8,\n                &quot;dayOfWeek&quot;: &quot;THURSDAY&quot;,\n                &quot;dayOfYear&quot;: 251,\n                &quot;monthValue&quot;: 9,\n                &quot;hour&quot;: 16,\n                &quot;minute&quot;: 4,\n                &quot;second&quot;: 30,\n                &quot;nano&quot;: 0,\n                &quot;chronology&quot;: {\n                    &quot;calendarType&quot;: &quot;iso8601&quot;,\n                    &quot;id&quot;: &quot;ISO&quot;\n                }\n            }\n</code></pre>\n<p>now the answer looks like this:</p>\n<pre><code>[2022,9,20,11,28,9,598000000]\n</code></pre>\n<p>Before updating the libraries, serialization of the LocalDateTime object in JsonNode was enough to get the right answer, now I tried in different ways -</p>\n<pre><code>        final String jsonNode = new ObjectMapper().findAndRegisterModules().writeValueAsString(LocalDateTime.now());\n    return ok(Json.toJson(jsonNode));\n</code></pre>\n<p>or this without Json.toJson(jsonNode), just :</p>\n<pre><code>            final String jsonNode = new ObjectMapper().findAndRegisterModules().writeValueAsString(LocalDateTime.now());\n    return ok(jsonNode);\n</code></pre>\n<p>or:</p>\n<pre><code>        final JsonNode jsonNode = new ObjectMapper().registerModule(new JSR310Module()).valueToTree(LocalDateTime.now());\n    return ok(Json.toJson(jsonNode));\n</code></pre>\n<p>and various other options, which, unfortunately, do not give the desired effect even if I do not use Json.toJSON();</p>\n<p>Json.toJson() (code):</p>\n<pre><code>    public static JsonNode toJson(final Object data) {\n    try {\n        return mapper().valueToTree(data);\n    } catch(Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>I use Play and sbt for compilation, it is important for me not to change the code of the entire project just because of updating the libraries, but it should be noted that I needed to update them because some new modules that needed to be added are not compatible with the old version of Jackson.\nDependencies look like this</p>\n<pre><code>libraryDependencies += &quot;com.fasterxml.jackson.dataformat&quot; % &quot;jackson-dataformat-cbor&quot; % &quot;2.12.6&quot;\n    libraryDependencies += &quot;com.fasterxml.jackson.datatype&quot; % &quot;jackson-datatype-jdk8&quot; % &quot;2.12.6&quot;\n    libraryDependencies += &quot;com.fasterxml.jackson.datatype&quot; % &quot;jackson-datatype-jsr310&quot; % &quot;2.12.6&quot;\n    libraryDependencies += &quot;com.fasterxml.jackson.core&quot; % &quot;jackson-annotations&quot; % &quot;2.12.6&quot;\n    libraryDependencies += &quot;com.fasterxml.jackson.core&quot; % &quot;jackson-core&quot; % &quot;2.12.6&quot;here\n</code></pre>\n<p>I will be very grateful for the answer, if it is possible to do this</p>\n<p><em><strong>UPD</strong></em></p>\n<p>I solved this problem like this, maybe it will be useful:\nfirst of all, I created the custom serializer:</p>\n<pre><code>public class LocalDateTimeKeySerializer extends StdSerializer&lt;LocalDateTime&gt; {\n\npublic static final LocalDateTimeKeySerializer INSTANCE = new LocalDateTimeKeySerializer();\n\npublic LocalDateTimeKeySerializer() {\n    super(LocalDateTime.class);\n}\n\n@Override\npublic void serialize(LocalDateTime value, JsonGenerator gen, SerializerProvider provider) throws IOException {\n    gen.writeStartObject();\n    gen.writeNumberField(&quot;year&quot;, value.getYear());\n    gen.writeNumberField(&quot;monthValue&quot;, value.getMonthValue());\n    gen.writeStringField(&quot;month&quot;, value.getMonth().name());\n    gen.writeNumberField(&quot;dayOfMonth&quot;, value.getDayOfMonth());\n    gen.writeNumberField(&quot;hour&quot;, value.getHour());\n    gen.writeNumberField(&quot;minute&quot;, value.getMinute());\n    gen.writeNumberField(&quot;second&quot;, value.getSecond());\n    gen.writeNumberField(&quot;nano&quot;, value.getNano());\n    gen.writeStringField(&quot;dayOfWeek&quot;, value.getDayOfWeek().name());\n    gen.writeNumberField(&quot;dayOfYear&quot;, value.getDayOfYear());\n    gen.writeEndObject();\n}}\n</code></pre>\n<p>after that added this serializer in custom module:</p>\n<pre><code>public class JsonCustomModule extends SimpleModule {\n\npublic JsonCustomModule() {\n    super(PackageVersion.VERSION);\n    addSerializer(LocalDateTime.class, LocalDateTimeKeySerializer.INSTANCE);\n}}\n</code></pre>\n<p>hope it could be useful ^^</p>\n"},{"tags":["java","sql","spring","kotlin","jdbi"],"comments":[{"owner":{"account_id":25813925,"reputation":312,"user_id":19554161,"display_name":"Vivek Rahul"},"score":0,"creation_date":1665566787,"post_id":74039462,"comment_id":130728747,"body_markdown":"remove colon. for example, `@SqlQuery(&quot;SELECT * FROM users WHERE roles LIKE %role%&quot;)`","body":"remove colon. for example, <code>@SqlQuery(&quot;SELECT * FROM users WHERE roles LIKE %role%&quot;)</code>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1665572563,"post_id":74039462,"comment_id":130730922,"body_markdown":"Use the last one in your tries and add the `%` as prefix/suffix to the value you pass in.","body":"Use the last one in your tries and add the <code>%</code> as prefix/suffix to the value you pass in."}],"answers":[{"tags":[],"owner":{"account_id":13982700,"reputation":696,"user_id":10263616,"display_name":"Viktor Baert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665567157,"creation_date":1665567157,"answer_id":74039606,"question_id":74039462,"body_markdown":"From a colleague:\r\n\r\n    @SqlQuery(&quot;SELECT * FROM users WHERE roles LIKE CONCAT(&#39;%&#39;, :role, &#39;%&#39;)&quot;)\r\n    fun findAllByRole(@Bind(&quot;role&quot;) role: String): List&lt;UserRecord&gt;","title":"JDBI SQL Annotations how to query CLOB with LIKE","body":"<p>From a colleague:</p>\n<pre><code>@SqlQuery(&quot;SELECT * FROM users WHERE roles LIKE CONCAT('%', :role, '%')&quot;)\nfun findAllByRole(@Bind(&quot;role&quot;) role: String): List&lt;UserRecord&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26552100,"reputation":470,"user_id":20181249,"display_name":"Sandeep Kumar Nat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665567259,"creation_date":1665567259,"answer_id":74039626,"question_id":74039462,"body_markdown":"You can achieve this by:\r\n\r\n    @SqlQuery(&quot;SELECT * FROM users WHERE roles LIKE :role &quot;)\r\n\r\n\r\nor\r\n\r\n   \r\n\r\n    @SqlQuery(&quot;SELECT * FROM users WHERE roles LIKE CONCAT(&#39;%&#39;, :role, &#39;%&#39;)&quot;)\r\n\r\n","title":"JDBI SQL Annotations how to query CLOB with LIKE","body":"<p>You can achieve this by:</p>\n<pre><code>@SqlQuery(&quot;SELECT * FROM users WHERE roles LIKE :role &quot;)\n</code></pre>\n<p>or</p>\n<pre><code>@SqlQuery(&quot;SELECT * FROM users WHERE roles LIKE CONCAT('%', :role, '%')&quot;)\n</code></pre>\n"}],"owner":{"account_id":13982700,"reputation":696,"user_id":10263616,"display_name":"Viktor Baert"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1665567259,"creation_date":1665566508,"question_id":74039462,"body_markdown":"I&#39;m trying to fetch data from our database using a CLOB column.\r\n\r\nHardcoded strings work:\r\n\r\n    @SqlQuery(&quot;SELECT * FROM users WHERE roles LIKE &#39;%ADMIN%&#39;&quot;)\r\n    fun findAllByRole(@Bind(&quot;role&quot;) role: String): List&lt;UserRecord&gt;\r\n\r\nBut when trying using the binder parameter role it doesn&#39;t:\r\n\r\n    @SqlQuery(&quot;SELECT * FROM users WHERE roles LIKE %:role%&quot;)\r\n    @SqlQuery(&quot;SELECT * FROM users WHERE roles LIKE &#39;%:role%&#39;&quot;)\r\n    @SqlQuery(&quot;SELECT * FROM users WHERE roles LIKE :role&quot;)\r\n\r\nThe role parameter contains the string &quot;ADMIN&quot;.\r\n\r\nWhat&#39;s the correct way to use LIKE on a CLOB with jdbi sql annotations?","title":"JDBI SQL Annotations how to query CLOB with LIKE","body":"<p>I'm trying to fetch data from our database using a CLOB column.</p>\n<p>Hardcoded strings work:</p>\n<pre><code>@SqlQuery(&quot;SELECT * FROM users WHERE roles LIKE '%ADMIN%'&quot;)\nfun findAllByRole(@Bind(&quot;role&quot;) role: String): List&lt;UserRecord&gt;\n</code></pre>\n<p>But when trying using the binder parameter role it doesn't:</p>\n<pre><code>@SqlQuery(&quot;SELECT * FROM users WHERE roles LIKE %:role%&quot;)\n@SqlQuery(&quot;SELECT * FROM users WHERE roles LIKE '%:role%'&quot;)\n@SqlQuery(&quot;SELECT * FROM users WHERE roles LIKE :role&quot;)\n</code></pre>\n<p>The role parameter contains the string &quot;ADMIN&quot;.</p>\n<p>What's the correct way to use LIKE on a CLOB with jdbi sql annotations?</p>\n"},{"tags":["java","android","exception","android-activity"],"comments":[{"owner":{"account_id":8037762,"reputation":402,"user_id":6060388,"display_name":"ahjo4321hsotuhsa"},"score":0,"creation_date":1665252591,"post_id":73999359,"comment_id":130658403,"body_markdown":"is your applicationContext is  null or not when unCaughtException method is getting called ?","body":"is your applicationContext is  null or not when unCaughtException method is getting called ?"},{"owner":{"account_id":25660142,"reputation":55,"user_id":19425991,"display_name":"na29"},"score":0,"creation_date":1665252720,"post_id":73999359,"comment_id":130658423,"body_markdown":"@AshutoshOjha it isnt null","body":"@AshutoshOjha it isnt null"},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1665567113,"post_id":73999359,"comment_id":130728886,"body_markdown":"Removed tag `android-studio` as that tag is used for questions/issues regarding the Android Studio product. Your question has nothing to do with Android Studio.","body":"Removed tag <code>android-studio</code> as that tag is used for questions/issues regarding the Android Studio product. Your question has nothing to do with Android Studio."},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1665567132,"post_id":73999359,"comment_id":130728897,"body_markdown":"Please edit your question and post the relevant part of your manifest.","body":"Please edit your question and post the relevant part of your manifest."}],"owner":{"account_id":25660142,"reputation":55,"user_id":19425991,"display_name":"na29"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665567073,"creation_date":1665252091,"question_id":73999359,"body_markdown":"Hi i am trying to create an uncaught exception handler in android studio but when i try to start the activity it does nothing\r\n\r\nThis is the class:\r\n```\r\npublic class UncaughtExceptionHandler implements Thread.UncaughtExceptionHandler {\r\n\t@Override\r\n\tpublic void uncaughtException ( @NonNull Thread t, @NonNull Throwable e ) {\r\n\t\tBaseActivity.applicationContext.startActivity( new Intent().setClass( BaseActivity.applicationContext, ExceptionHandler.class )\r\n\t\t\t\t.putExtra( &quot;ex&quot;, e )\r\n\t\t\t\t.setFlags( Intent.FLAG_ACTIVITY_NEW_TASK ));\r\n\t}\r\n}\r\n```\r\nThis is the ExceptionHandler class:\r\n```\r\npublic class ExceptionHandler extends AppCompatActivity {\r\n\r\n\t@Override\r\n\tprotected void onCreate ( @Nullable Bundle savedInstanceState )\r\n\t{\r\n\t\tsuper.onCreate( savedInstanceState );\r\n\t\tsetContentView( R.layout.exception_screen );\r\n\t\tThrowable e = (Exception) getIntent().getExtras().get( &quot;ex&quot; );\r\n\t\tMain.showAlert( this, &quot;An exception occurred&quot;, e.getMessage() );\r\n\t}\r\n}\r\n```\r\nThis is the BaseActivity class:\r\n```\r\npublic class BaseActivity extends AppCompatActivity {\r\n\r\n\tpublic static Context applicationContext;\r\n\r\n\t@Override\r\n\tprotected void onCreate ( @Nullable Bundle savedInstanceState ) {\r\n\t\tsuper.onCreate( savedInstanceState );\r\n\t\tapplicationContext = getApplicationContext();\r\n\t\tThread.setDefaultUncaughtExceptionHandler( new UncaughtExceptionHandler() );\r\n\t\tint i = 2 / 0; // to test the exception handler\r\n\t}\r\n}\r\n```\r\nit calls the uncaughtException method but doesnt start the ExceptionHandler activity class\r\n\r\nI defined the activity in the manifest","title":"I cant start an activity using applicationContext and FLAG_ACTIVITY_NEW_TASK","body":"<p>Hi i am trying to create an uncaught exception handler in android studio but when i try to start the activity it does nothing</p>\n<p>This is the class:</p>\n<pre><code>public class UncaughtExceptionHandler implements Thread.UncaughtExceptionHandler {\n    @Override\n    public void uncaughtException ( @NonNull Thread t, @NonNull Throwable e ) {\n        BaseActivity.applicationContext.startActivity( new Intent().setClass( BaseActivity.applicationContext, ExceptionHandler.class )\n                .putExtra( &quot;ex&quot;, e )\n                .setFlags( Intent.FLAG_ACTIVITY_NEW_TASK ));\n    }\n}\n</code></pre>\n<p>This is the ExceptionHandler class:</p>\n<pre><code>public class ExceptionHandler extends AppCompatActivity {\n\n    @Override\n    protected void onCreate ( @Nullable Bundle savedInstanceState )\n    {\n        super.onCreate( savedInstanceState );\n        setContentView( R.layout.exception_screen );\n        Throwable e = (Exception) getIntent().getExtras().get( &quot;ex&quot; );\n        Main.showAlert( this, &quot;An exception occurred&quot;, e.getMessage() );\n    }\n}\n</code></pre>\n<p>This is the BaseActivity class:</p>\n<pre><code>public class BaseActivity extends AppCompatActivity {\n\n    public static Context applicationContext;\n\n    @Override\n    protected void onCreate ( @Nullable Bundle savedInstanceState ) {\n        super.onCreate( savedInstanceState );\n        applicationContext = getApplicationContext();\n        Thread.setDefaultUncaughtExceptionHandler( new UncaughtExceptionHandler() );\n        int i = 2 / 0; // to test the exception handler\n    }\n}\n</code></pre>\n<p>it calls the uncaughtException method but doesnt start the ExceptionHandler activity class</p>\n<p>I defined the activity in the manifest</p>\n"},{"tags":["java","dictionary","intellij-idea","live-templates"],"comments":[{"owner":{"account_id":2049508,"reputation":2457,"user_id":2525548,"accept_rate":80,"display_name":"Mustafa"},"score":0,"creation_date":1443017954,"post_id":32738990,"comment_id":53324962,"body_markdown":"Could you clarify what &quot;I want to inline the first line into &#39;entry&#39; variable&quot; menas? Perhaps you could post an example of what you are expecting.","body":"Could you clarify what &quot;I want to inline the first line into &#39;entry&#39; variable&quot; menas? Perhaps you could post an example of what you are expecting."},{"owner":{"account_id":3197774,"reputation":2997,"user_id":2700582,"accept_rate":50,"display_name":"Karbos 538"},"score":0,"creation_date":1443030692,"post_id":32738990,"comment_id":53333164,"body_markdown":"I just edited my question with an example. Thank you","body":"I just edited my question with an example. Thank you"},{"owner":{"account_id":329799,"reputation":3901,"user_id":653519,"display_name":"Trisha"},"score":0,"creation_date":1443085630,"post_id":32738990,"comment_id":53354174,"body_markdown":"Can you not simply replace the first two lines of your template with `for($ITER_TYPE$ $ITER$ : $ENTRY$.entrySet()) {`?","body":"Can you not simply replace the first two lines of your template with <code>for($ITER_TYPE$ $ITER$ : $ENTRY$.entrySet()) {</code>?"},{"owner":{"account_id":3197774,"reputation":2997,"user_id":2700582,"accept_rate":50,"display_name":"Karbos 538"},"score":0,"creation_date":1443173098,"post_id":32738990,"comment_id":53396263,"body_markdown":"Thanks for your suggestion @Trisha, it is the heart of my problem : I try it, but $ITER_TYPE$ uses the unction &quot;iterableComponentType(VAR)&quot;. And if I replace &quot;VAR&quot; by something like &quot;ENTRY.entrySet()&quot;, it doesn&#39;t work... So I genereate the first line to have this variable.","body":"Thanks for your suggestion @Trisha, it is the heart of my problem : I try it, but $ITER_TYPE$ uses the unction &quot;iterableComponentType(VAR)&quot;. And if I replace &quot;VAR&quot; by something like &quot;ENTRY.entrySet()&quot;, it doesn&#39;t work... So I genereate the first line to have this variable."},{"owner":{"account_id":329799,"reputation":3901,"user_id":653519,"display_name":"Trisha"},"score":0,"creation_date":1443173516,"post_id":32738990,"comment_id":53396508,"body_markdown":"Ah yes, I see.  To be honest, I couldn&#39;t get the iterableComponentType to work at all in my version for some reason. I think you won&#39;t be able to get the live template to automatically inline the variable, that&#39;s something you&#39;d have to do manually.","body":"Ah yes, I see.  To be honest, I couldn&#39;t get the iterableComponentType to work at all in my version for some reason. I think you won&#39;t be able to get the live template to automatically inline the variable, that&#39;s something you&#39;d have to do manually."},{"owner":{"account_id":329799,"reputation":3901,"user_id":653519,"display_name":"Trisha"},"score":0,"creation_date":1443173520,"post_id":32738990,"comment_id":53396512,"body_markdown":"The only other observation I have is that if you&#39;re following this pattern of iterating over Maps frequently, you might want to consider alternative data structures - although obviously you can iterate over Maps, this is not the main strength of this data structure.","body":"The only other observation I have is that if you&#39;re following this pattern of iterating over Maps frequently, you might want to consider alternative data structures - although obviously you can iterate over Maps, this is not the main strength of this data structure."}],"answers":[{"tags":[],"owner":{"account_id":3169,"reputation":24369,"user_id":4510,"display_name":"Bas Leijdekkers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665566342,"creation_date":1665566342,"answer_id":74039426,"question_id":32738990,"body_markdown":"For Java 10 and later, this has become easier, since we can use local variable type inference. A template like this should work:\r\n```\r\nfor(var $ITER$ : $ENTRY$.entrySet()) {\r\n    $KEY_TYPE$ $KEY_VAR$ = $ITER$.getKey();\r\n    $VALUE_TYPE$ $VALUE_VAR$ = $ITER$.getValue();\r\n    $END$\r\n}\r\n```\r\nwith all the (remaining) template variables set as in the original question.","title":"Adding an Intellij IDEA Live Template for Iterating over a java.util.Map","body":"<p>For Java 10 and later, this has become easier, since we can use local variable type inference. A template like this should work:</p>\n<pre><code>for(var $ITER$ : $ENTRY$.entrySet()) {\n    $KEY_TYPE$ $KEY_VAR$ = $ITER$.getKey();\n    $VALUE_TYPE$ $VALUE_VAR$ = $ITER$.getValue();\n    $END$\n}\n</code></pre>\n<p>with all the (remaining) template variables set as in the original question.</p>\n"}],"owner":{"account_id":3197774,"reputation":2997,"user_id":2700582,"accept_rate":50,"display_name":"Karbos 538"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1665566342,"creation_date":1443009514,"question_id":32738990,"body_markdown":"I&#39;m currently adding a Live Template for iterating over a java.util.Map in my IDEA, as we can do with &#39;itmap&#39; template under Netbeans.\r\n\r\nThe goal is to generate this kind of scriptlet :\r\n\r\n        for (Entry&lt;KeyObject, ValueObject&gt; entry : myMap.entrySet()) {\r\n            KeyObject key = entry.getKey();\r\n            ValueObject value = entry.getValue();\r\n            |\r\n        }\r\n\r\nHere my current work in progress :\r\n[![iterate over a Map template][1]][1]\r\n\r\n  [1]: http://i.stack.imgur.com/yNzEO.png\r\n\r\nRaw template code :\r\n\r\n    $ELEMENT_TYPE$ $VAR$ = $ENTRY$.entrySet();\r\n    for($ITER_TYPE$ $ITER$ : $VAR$) {\r\n        $KEY_TYPE$ $KEY_VAR$ = $ITER$.getKey();\r\n        $VALUE_TYPE$ $VALUE_VAR$ = $ITER$.getValue();\r\n        $END$\r\n    }\r\n\r\nCurrently, when I invoke the template, I obtain the following Java code :\r\n\r\n        Set&lt;Entry&lt;KeyObject, ValueObject&gt;&gt; entrySet = myMap.entrySet();\r\n        for (Entry&lt;KeyObject, ValueObject&gt; entry : entrySet) {\r\n            KeyObject key = entry.getKey();\r\n            ValueObject value = entry.getValue();\r\n            |\r\n        }\r\n\r\nThis code is pretty buy I want to inline the first line into &#39;entry&#39; variable.\r\n\r\nAny suggestion ?","title":"Adding an Intellij IDEA Live Template for Iterating over a java.util.Map","body":"<p>I'm currently adding a Live Template for iterating over a java.util.Map in my IDEA, as we can do with 'itmap' template under Netbeans.</p>\n\n<p>The goal is to generate this kind of scriptlet :</p>\n\n<pre><code>    for (Entry&lt;KeyObject, ValueObject&gt; entry : myMap.entrySet()) {\n        KeyObject key = entry.getKey();\n        ValueObject value = entry.getValue();\n        |\n    }\n</code></pre>\n\n<p>Here my current work in progress :\n<a href=\"https://i.stack.imgur.com/yNzEO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yNzEO.png\" alt=\"iterate over a Map template\"></a></p>\n\n<p>Raw template code :</p>\n\n<pre><code>$ELEMENT_TYPE$ $VAR$ = $ENTRY$.entrySet();\nfor($ITER_TYPE$ $ITER$ : $VAR$) {\n    $KEY_TYPE$ $KEY_VAR$ = $ITER$.getKey();\n    $VALUE_TYPE$ $VALUE_VAR$ = $ITER$.getValue();\n    $END$\n}\n</code></pre>\n\n<p>Currently, when I invoke the template, I obtain the following Java code :</p>\n\n<pre><code>    Set&lt;Entry&lt;KeyObject, ValueObject&gt;&gt; entrySet = myMap.entrySet();\n    for (Entry&lt;KeyObject, ValueObject&gt; entry : entrySet) {\n        KeyObject key = entry.getKey();\n        ValueObject value = entry.getValue();\n        |\n    }\n</code></pre>\n\n<p>This code is pretty buy I want to inline the first line into 'entry' variable.</p>\n\n<p>Any suggestion ?</p>\n"},{"tags":["java","scala","performance-testing","gatling","scala-gatling"],"answers":[{"tags":[],"owner":{"account_id":4704855,"reputation":181,"user_id":3807342,"display_name":"Cezary Kluczyski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1510481538,"creation_date":1510420106,"answer_id":47240590,"question_id":47240525,"body_markdown":"Apache JMeter is a known alternative to Gatling.\r\n\r\nIt is frequently updated (at least 2 major releases per year) and has a strong user base and a lot of commercial offers.\r\n\r\nThere is a Maven Plugin that is being recently much more frequently updated, there has been 4 releases in 2 months.\r\n\r\nLook at code coverage in more details.","title":"Alternative to Gatling","body":"<p>Apache JMeter is a known alternative to Gatling.</p>\n\n<p>It is frequently updated (at least 2 major releases per year) and has a strong user base and a lot of commercial offers.</p>\n\n<p>There is a Maven Plugin that is being recently much more frequently updated, there has been 4 releases in 2 months.</p>\n\n<p>Look at code coverage in more details.</p>\n"},{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1535628402,"creation_date":1510569688,"answer_id":47262419,"question_id":47240525,"body_markdown":"If you look for something code-based it would be:\r\n\r\n - [Locust][1] \r\n - [Grinder][2]\r\n\r\nFor UI and/or XML based scenario definition you can check out:\r\n\r\n - [Tsung][3] (this one can be reliably run on Linux/Unix only)\r\n - [Apache JMeter][4]\r\n\r\nCheck out [Open Source Load Testing Tools: Which One Should You Use?][5] to learn more about the aforementioned tools and decide which one fits to your most. \r\n\r\n\r\n  [1]: https://locust.io/\r\n  [2]: http://grinder.sourceforge.net/\r\n  [3]: http://tsung.erlang-projects.org/\r\n  [4]: http://jmeter.apache.org/\r\n  [5]: https://www.blazemeter.com/blog/open-source-load-testing-tools-which-one-should-you-use","title":"Alternative to Gatling","body":"<p>If you look for something code-based it would be:</p>\n\n<ul>\n<li><a href=\"https://locust.io/\" rel=\"noreferrer\">Locust</a> </li>\n<li><a href=\"http://grinder.sourceforge.net/\" rel=\"noreferrer\">Grinder</a></li>\n</ul>\n\n<p>For UI and/or XML based scenario definition you can check out:</p>\n\n<ul>\n<li><a href=\"http://tsung.erlang-projects.org/\" rel=\"noreferrer\">Tsung</a> (this one can be reliably run on Linux/Unix only)</li>\n<li><a href=\"http://jmeter.apache.org/\" rel=\"noreferrer\">Apache JMeter</a></li>\n</ul>\n\n<p>Check out <a href=\"https://www.blazemeter.com/blog/open-source-load-testing-tools-which-one-should-you-use\" rel=\"noreferrer\">Open Source Load Testing Tools: Which One Should You Use?</a> to learn more about the aforementioned tools and decide which one fits to your most. </p>\n"},{"tags":[],"owner":{"account_id":11992275,"reputation":76,"user_id":8774986,"display_name":"Michael Sj&#246;lin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1510598396,"creation_date":1510598396,"answer_id":47271323,"question_id":47240525,"body_markdown":"Here&#39;s also a [benchmark comparison][1] of different tools.\r\n\r\nIf you are javascript/Ecma familiar k6 does the job.\r\n\r\n  [1]: http://blog.loadimpact.com/comparing-load-testing-tools","title":"Alternative to Gatling","body":"<p>Here's also a <a href=\"http://blog.loadimpact.com/comparing-load-testing-tools\" rel=\"nofollow noreferrer\">benchmark comparison</a> of different tools.</p>\n\n<p>If you are javascript/Ecma familiar k6 does the job.</p>\n"},{"tags":[],"owner":{"account_id":9596714,"reputation":567,"user_id":7125614,"display_name":"Yuri Bushnev"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1516969261,"creation_date":1516969261,"answer_id":48461269,"question_id":47240525,"body_markdown":"As a nice replacement for Gatling I would recommend you to check the Locust. The good thing about the Locust specifically for you is that it is code based performance testing tool which does not enforce you to write the tests only in a specific programming language like Python. Because if you used Scala before, you might be more comfortable to switch to something like Java or even Kotlin while writing your tests which is more than doable using Locust framework. You can find the handy tutorial by this link:  \r\n\r\n\r\n https://www.blazemeter.com/blog/locust-performance-testing-using-java-and-kotlin","title":"Alternative to Gatling","body":"<p>As a nice replacement for Gatling I would recommend you to check the Locust. The good thing about the Locust specifically for you is that it is code based performance testing tool which does not enforce you to write the tests only in a specific programming language like Python. Because if you used Scala before, you might be more comfortable to switch to something like Java or even Kotlin while writing your tests which is more than doable using Locust framework. You can find the handy tutorial by this link:  </p>\n\n<p><a href=\"https://www.blazemeter.com/blog/locust-performance-testing-using-java-and-kotlin\" rel=\"noreferrer\">https://www.blazemeter.com/blog/locust-performance-testing-using-java-and-kotlin</a></p>\n"},{"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665566322,"creation_date":1665566322,"answer_id":74039419,"question_id":47240525,"body_markdown":"k6 is a good alternative, if js is not a problem for you. &lt;https://k6.io/&gt;\r\n","title":"Alternative to Gatling","body":"<p>k6 is a good alternative, if js is not a problem for you. <a href=\"https://k6.io/\" rel=\"nofollow noreferrer\">https://k6.io/</a></p>\n"}],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9028,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"closed_date":1665625852,"accepted_answer_id":47262419,"answer_count":5,"score":11,"last_activity_date":1665566322,"creation_date":1510419765,"question_id":47240525,"body_markdown":"Ive been having issues lately because my dependencies has been updated to use netty 4.1 and Gatling has not been updated for a while, and still work only on Netty 4.0. \n\nAnybody knows any alternative to Gatling to create similar Simulations and scenarios for the performance test to be run automatically in my Maven life cycle?","title":"Alternative to Gatling","body":"<p>Ive been having issues lately because my dependencies has been updated to use netty 4.1 and Gatling has not been updated for a while, and still work only on Netty 4.0. </p>\n\n<p>Anybody knows any alternative to Gatling to create similar Simulations and scenarios for the performance test to be run automatically in my Maven life cycle?</p>\n"},{"tags":["java","regex","apache-spark"],"comments":[{"owner":{"account_id":1948681,"reputation":522,"user_id":1753273,"accept_rate":86,"display_name":"agaonsindhe"},"score":0,"creation_date":1665554877,"post_id":74036919,"comment_id":130724908,"body_markdown":"I tested my regex in one of the online regex builder, passed on the input and t turns out it is excluding the quotes column and considering it as one column, so that means the regex is fine, is there something wrong with String.split method then.","body":"I tested my regex in one of the online regex builder, passed on the input and t turns out it is excluding the quotes column and considering it as one column, so that means the regex is fine, is there something wrong with String.split method then."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1665556786,"post_id":74036919,"comment_id":130725399,"body_markdown":"Hint: do not use regular expression for parsing (tokenizing)","body":"Hint: do not use regular expression for parsing (tokenizing)"},{"owner":{"account_id":25452201,"reputation":208,"user_id":19253406,"display_name":"Chicky"},"score":0,"creation_date":1665557646,"post_id":74036919,"comment_id":130725613,"body_markdown":"I&#39;ve worked pretty much with regex and from my experience, you should use csv parser library since there is numerous edge case we didn&#39;t expected","body":"I&#39;ve worked pretty much with regex and from my experience, you should use csv parser library since there is numerous edge case we didn&#39;t expected"},{"owner":{"account_id":1475,"reputation":533764,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":1,"creation_date":1665558584,"post_id":74036919,"comment_id":130725891,"body_markdown":"@user16320675 Uh, why?! Tokenisation is specifically what regex excels at, which it has been designed for, and in the context of which it has been extensively researched over decades.","body":"@user16320675 Uh, why?! Tokenisation is specifically what regex excels at, which it has been designed for, and in the context of which it has been extensively researched over decades."},{"owner":{"account_id":1475,"reputation":533764,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1665558804,"post_id":74036919,"comment_id":130725959,"body_markdown":"@user16320675 It is used this way without issues every day all over the world. And, like I said, it was specifically developed for this use-case. If *you* think its complicated by all means avoid it, but dont poo-poo it for others.","body":"@user16320675 It is used this way without issues every day all over the world. And, like I said, it was specifically developed for this use-case. If <i>you</i> think its complicated by all means avoid it, but dont poo-poo it for others."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1665559641,"post_id":74036919,"comment_id":130726257,"body_markdown":"Hint (redacted): do not solely use regular expression **alone** &#185; for parsing (tokenizing) || **&#185;** too much logic involved (in CSV handling)","body":"Hint (redacted): do not solely use regular expression <b>alone</b> &#185; for parsing (tokenizing) || <b>&#185;</b> too much logic involved (in CSV handling)"},{"owner":{"account_id":1948681,"reputation":522,"user_id":1753273,"accept_rate":86,"display_name":"agaonsindhe"},"score":0,"creation_date":1665561767,"post_id":74036919,"comment_id":130726978,"body_markdown":"I changed my implementation a bit and I have my scenario working - \n\n      `final Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\n        String split[] =  pattern.split(data,-1);`\n\nSo compiling this in a pattern matcher and then splitting is working as expected.","body":"I changed my implementation a bit and I have my scenario working -         <code>final Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE);         String split[] =  pattern.split(data,-1);</code>  So compiling this in a pattern matcher and then splitting is working as expected."}],"answers":[{"tags":[],"owner":{"account_id":1475,"reputation":533764,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665566210,"creation_date":1665566210,"answer_id":74039378,"question_id":74036919,"body_markdown":"I find that splitting by complex delimiters leads to convoluted regular expressions, as your code showcases. In fact, the sub-expression `&quot;[&quot;+delType+ &quot;]{&quot;+delType.length()+&quot;}&quot;` doesnt make a lot of sense, and I strongly suspect this is a bug in your code (for instance if `delType` is `&lt;&gt;` your code would also split on occurrences of `&gt;&lt;`).\r\n\r\nAs an alternative, consider using a regular expression that exhaustively describes the lexical syntax of your input, and then match all tokens. This works particularly well when using named groups.\r\n\r\nIn your case (CSV with quoted fields, using doubled-up quotes to escape them), the lexical syntax of the tokens can be described by the following token types:\r\n\r\n* A delimiter (which is configurable, so we might need to handle strings of length &gt; 1)\r\n* A quoted field (arbitrary tokens surrounded by `&quot;&quot;`, where the characters in `` can be anything except `&quot;`, but they can also include `&quot;&quot;`)\r\n* An unquoted field (arbitrary tokens up to the next delimiter).\r\n\r\nAs a regular expression, this can be written as follows in Java:\r\n\r\n```\r\nPattern.compile(\r\n    &quot;(?&lt;delim&gt;&quot; + d + &quot;)|&quot; +\r\n    &quot;\\&quot;(?&lt;quotedField&gt;(?:[^\\&quot;]|\\&quot;\\&quot;)*)\\&quot;|&quot; +\r\n    &quot;(?&lt;field&gt;.*?(?:(?=&quot; + d + &quot;)|$))&quot;\r\n);\r\n```\r\n\r\nWhere `d` is defined as `Pattern.quote(delim)` (the quoting is important, in case the delimiter contains a regex special char!).\r\n\r\nThe only slight complication here is the last token type, because we are matching everything up to the next delimiter (`.*?` matches non-greedily), or until the end of the string.\r\n\r\nAfterwards, we iterate over all matches and collect those where either the group `field` or `quotedField` is set. Putting it all together inside a method:\r\n\r\n```\r\nstatic String[] parseCsvRow(String row, String delim) {\r\n    final String d = Pattern.quote(delim);\r\n    final Pattern pattern = Pattern.compile(\r\n        &quot;(?&lt;delim&gt;&quot; + d + &quot;)|&quot; +\r\n        &quot;\\&quot;(?&lt;quotedField&gt;(?:[^\\&quot;]|\\&quot;\\&quot;)*)\\&quot;|&quot; +\r\n        &quot;(?&lt;field&gt;.*?(?:(?=&quot; + d + &quot;)|$))&quot;\r\n    );\r\n    final Matcher matcher = pattern.matcher(row);\r\n    final List&lt;String&gt; results = new ArrayList&lt;&gt;();\r\n\r\n    while (matcher.find()) {\r\n        if (matcher.group(&quot;field&quot;) != null) {\r\n            results.add(matcher.group(&quot;field&quot;));\r\n        } else if (matcher.group(&quot;quotedField&quot;) != null) {\r\n            results.add(matcher.group(&quot;quotedField&quot;).replaceAll(&quot;\\&quot;\\&quot;&quot;, &quot;\\&quot;&quot;));\r\n        }\r\n    }\r\n    return results.toArray(new String[0]);\r\n}\r\n```\r\n\r\nIn real code I would wrap this in a `CsvParser` class instead of a single method, where the constructor creates the pattern based on the delimiter so that the pattern doesnt have to be recompiled for each row.","title":"RegEx : Double quotes unable to escape delimiter","body":"<p>I find that splitting by complex delimiters leads to convoluted regular expressions, as your code showcases. In fact, the sub-expression <code>&quot;[&quot;+delType+ &quot;]{&quot;+delType.length()+&quot;}&quot;</code> doesnt make a lot of sense, and I strongly suspect this is a bug in your code (for instance if <code>delType</code> is <code>&lt;&gt;</code> your code would also split on occurrences of <code>&gt;&lt;</code>).</p>\n<p>As an alternative, consider using a regular expression that exhaustively describes the lexical syntax of your input, and then match all tokens. This works particularly well when using named groups.</p>\n<p>In your case (CSV with quoted fields, using doubled-up quotes to escape them), the lexical syntax of the tokens can be described by the following token types:</p>\n<ul>\n<li>A delimiter (which is configurable, so we might need to handle strings of length &gt; 1)</li>\n<li>A quoted field (arbitrary tokens surrounded by <code>&quot;&quot;</code>, where the characters in <code></code> can be anything except <code>&quot;</code>, but they can also include <code>&quot;&quot;</code>)</li>\n<li>An unquoted field (arbitrary tokens up to the next delimiter).</li>\n</ul>\n<p>As a regular expression, this can be written as follows in Java:</p>\n<pre><code>Pattern.compile(\n    &quot;(?&lt;delim&gt;&quot; + d + &quot;)|&quot; +\n    &quot;\\&quot;(?&lt;quotedField&gt;(?:[^\\&quot;]|\\&quot;\\&quot;)*)\\&quot;|&quot; +\n    &quot;(?&lt;field&gt;.*?(?:(?=&quot; + d + &quot;)|$))&quot;\n);\n</code></pre>\n<p>Where <code>d</code> is defined as <code>Pattern.quote(delim)</code> (the quoting is important, in case the delimiter contains a regex special char!).</p>\n<p>The only slight complication here is the last token type, because we are matching everything up to the next delimiter (<code>.*?</code> matches non-greedily), or until the end of the string.</p>\n<p>Afterwards, we iterate over all matches and collect those where either the group <code>field</code> or <code>quotedField</code> is set. Putting it all together inside a method:</p>\n<pre><code>static String[] parseCsvRow(String row, String delim) {\n    final String d = Pattern.quote(delim);\n    final Pattern pattern = Pattern.compile(\n        &quot;(?&lt;delim&gt;&quot; + d + &quot;)|&quot; +\n        &quot;\\&quot;(?&lt;quotedField&gt;(?:[^\\&quot;]|\\&quot;\\&quot;)*)\\&quot;|&quot; +\n        &quot;(?&lt;field&gt;.*?(?:(?=&quot; + d + &quot;)|$))&quot;\n    );\n    final Matcher matcher = pattern.matcher(row);\n    final List&lt;String&gt; results = new ArrayList&lt;&gt;();\n\n    while (matcher.find()) {\n        if (matcher.group(&quot;field&quot;) != null) {\n            results.add(matcher.group(&quot;field&quot;));\n        } else if (matcher.group(&quot;quotedField&quot;) != null) {\n            results.add(matcher.group(&quot;quotedField&quot;).replaceAll(&quot;\\&quot;\\&quot;&quot;, &quot;\\&quot;&quot;));\n        }\n    }\n    return results.toArray(new String[0]);\n}\n</code></pre>\n<p>In real code I would wrap this in a <code>CsvParser</code> class instead of a single method, where the constructor creates the pattern based on the delimiter so that the pattern doesnt have to be recompiled for each row.</p>\n"}],"owner":{"account_id":1948681,"reputation":522,"user_id":1753273,"accept_rate":86,"display_name":"agaonsindhe"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665566210,"creation_date":1665552808,"question_id":74036919,"body_markdown":"I have written a program which is going to read from csv file using a delimiter and at the same time I have a use case where I needed to create a string from of the delimited data so for that I have created a regex to split the column data using the delimiter.\r\n\r\nNow the challenge is when delimiter is present in in double quotes ideally I should not be splitting the data, spark is escaping that delimiter but my regex somehow are not.\r\n\r\n        private static void readFromSourceFile(SparkSession sparkSession) {\r\n        String delType = &quot;,&quot;;\r\n        final String regex = &quot;[&quot;+delType+ &quot;]{&quot;+delType.length()+&quot;}(?=(?:[^\\&quot;]*\\&quot;[^\\&quot;]*\\&quot;)*[^\\&quot;]*$)&quot;;\r\n        Dataset&lt;Row&gt; csv = sparkSession\r\n                .read().option(&quot;delimiter&quot;,delType)\r\n                .option(&quot;header&quot;,false)\r\n                .option(&quot;inferSchema&quot;,true)\r\n                .csv(&quot;src/main/resources/quotes2.csv&quot;);\r\n\r\n        char separator= &#39;\\u0001&#39;;\r\n        \r\n        csv.show(false);\r\n        List&lt;Row&gt; df = csv.collectAsList();\r\n        String split[] =  df.get(0).toString().split(regex);\r\n        System.out.println(split.length);\r\n        Arrays.stream(split).forEach(System.out::println);\r\n}\r\n\r\nThe O/P for the program is - \r\n\r\n[![output file][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/alHpG.png\r\n\r\n\r\nThe Red marked area is the string with double quotes, it shouldn&#39;t have split that column.\r\n\r\nInput file csv file - \r\n\r\nNew,667.88,In Stock.,Now,true,true,B09D7MQ69X,B09D7MQ69X,NUC10i5FNHN 16GB+512GB,&quot;Intel NUC10 NUC10i5FNHN Home &amp; Business Desktop Mini PC,10th Generation Intel&#174; Core i5-10210U, Upto 4.2 GHz, 4 core, 8 Thread, 25W Intel&#174; UHD Graphics, 16GB RAM, 512GB PCIe SSD, Win 10 Pro 8GB RAM + 256GB SSD&quot;,false,&quot;Intel NUC10i5FNHN with RAM &amp; SSD Intel NUC10 NUC10i5FNHN Mini PC/HTPC With All New Parts Assembled. Our store is HOT selling Intel NUC11 i5, i7, NUC10 i5, i7, NUC8, Barebone and Mini PC with various sizes of RAM or SSD. If you need to know more, please click on our Store Name:&quot;&quot;GEEK + Computer Mall&quot;&quot; --------- &quot;&quot;Products&quot;&quot;, OR click &quot;&quot;Visit the GEEK+ Store&quot;&quot; under the title.:BRK:Quad Core Processor &amp; Graphic  10th Generation Intel Core i5-10210U1.6 GHz  4.2 GHz Turbo, 4 core, 8 thread, 6MB Cache25W Intel UHD Graphics, up to 1.0 GHz, 80 EU units.:BRK:Storage Expansion Options Kingston 16GB DDR4 RAM&quot;\r\n\r\nCan someone suggest or provide a hint to improve the regex.\r\n\r\n","title":"RegEx : Double quotes unable to escape delimiter","body":"<p>I have written a program which is going to read from csv file using a delimiter and at the same time I have a use case where I needed to create a string from of the delimited data so for that I have created a regex to split the column data using the delimiter.</p>\n<p>Now the challenge is when delimiter is present in in double quotes ideally I should not be splitting the data, spark is escaping that delimiter but my regex somehow are not.</p>\n<pre><code>    private static void readFromSourceFile(SparkSession sparkSession) {\n    String delType = &quot;,&quot;;\n    final String regex = &quot;[&quot;+delType+ &quot;]{&quot;+delType.length()+&quot;}(?=(?:[^\\&quot;]*\\&quot;[^\\&quot;]*\\&quot;)*[^\\&quot;]*$)&quot;;\n    Dataset&lt;Row&gt; csv = sparkSession\n            .read().option(&quot;delimiter&quot;,delType)\n            .option(&quot;header&quot;,false)\n            .option(&quot;inferSchema&quot;,true)\n            .csv(&quot;src/main/resources/quotes2.csv&quot;);\n\n    char separator= '\\u0001';\n    \n    csv.show(false);\n    List&lt;Row&gt; df = csv.collectAsList();\n    String split[] =  df.get(0).toString().split(regex);\n    System.out.println(split.length);\n    Arrays.stream(split).forEach(System.out::println);\n</code></pre>\n<p>}</p>\n<p>The O/P for the program is -</p>\n<p><a href=\"https://i.stack.imgur.com/alHpG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/alHpG.png\" alt=\"output file\" /></a></p>\n<p>The Red marked area is the string with double quotes, it shouldn't have split that column.</p>\n<p>Input file csv file -</p>\n<p>New,667.88,In Stock.,Now,true,true,B09D7MQ69X,B09D7MQ69X,NUC10i5FNHN 16GB+512GB,&quot;Intel NUC10 NUC10i5FNHN Home &amp; Business Desktop Mini PC,10th Generation Intel Core i5-10210U, Upto 4.2 GHz, 4 core, 8 Thread, 25W Intel UHD Graphics, 16GB RAM, 512GB PCIe SSD, Win 10 Pro 8GB RAM + 256GB SSD&quot;,false,&quot;Intel NUC10i5FNHN with RAM &amp; SSD Intel NUC10 NUC10i5FNHN Mini PC/HTPC With All New Parts Assembled. Our store is HOT selling Intel NUC11 i5, i7, NUC10 i5, i7, NUC8, Barebone and Mini PC with various sizes of RAM or SSD. If you need to know more, please click on our Store Name:&quot;&quot;GEEK + Computer Mall&quot;&quot; --------- &quot;&quot;Products&quot;&quot;, OR click &quot;&quot;Visit the GEEK+ Store&quot;&quot; under the title.:BRK:Quad Core Processor &amp; Graphic  10th Generation Intel Core i5-10210U1.6 GHz  4.2 GHz Turbo, 4 core, 8 thread, 6MB Cache25W Intel UHD Graphics, up to 1.0 GHz, 80 EU units.:BRK:Storage Expansion Options Kingston 16GB DDR4 RAM&quot;</p>\n<p>Can someone suggest or provide a hint to improve the regex.</p>\n"},{"tags":["python","java","bytecode","endianness","bytebuffer"],"answers":[{"tags":[],"owner":{"account_id":23050385,"reputation":10403,"user_id":17167312,"display_name":"Homer512"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665566196,"creation_date":1665470689,"answer_id":74024012,"question_id":74022998,"body_markdown":"Here is one approach:\r\n\r\n1. We pack the integer into a bytes array of the format we want\r\n\r\n```python\r\nimport struct\r\nbstring = struct.pack(&#39;&gt;i&#39;, intvalue)\r\n```\r\n\r\n2. Iterating over the bytes object gives us integers range [0, 256). But from the looks of it, you want signed range [-128, 128). So we adjust for this\r\n\r\n```python\r\nfor byte in bstring:\r\n    if byte &gt;= 128:\r\n        byte -= 256\r\n    embedding32d.append(float(byte))\r\n```\r\n\r\nTo put the whole thing together:\r\n\r\n```python\r\n\r\nimport struct\r\n\r\ndef decodeEmbedding(embedding8d):\r\n    embedding32d = []\r\n    for intvalue in embedding8d:\r\n        bstring = struct.pack(&#39;&gt;i&#39;, intvalue)\r\n        signed = (byte - 256 if byte &gt;= 128 else byte for byte in bstring)\r\n        embedding32d.extend(float(byte) for byte in signed)\r\n    return embedding32d\r\n```\r\n\r\nThere is also a one-liner version.\r\n\r\n```python\r\ndef decodeEmbedding(embedding8d):\r\n    return [float(byte - 256 if byte &gt; 127 else byte) for byte in\r\n            struct.pack(&#39;&gt;&#39; + &#39;i&#39; * len(embedding8d), *embedding8d)]\r\n```","title":"Java ByteBuffer similar function in Python","body":"<p>Here is one approach:</p>\n<ol>\n<li>We pack the integer into a bytes array of the format we want</li>\n</ol>\n<pre class=\"lang-py prettyprint-override\"><code>import struct\nbstring = struct.pack('&gt;i', intvalue)\n</code></pre>\n<ol start=\"2\">\n<li>Iterating over the bytes object gives us integers range [0, 256). But from the looks of it, you want signed range [-128, 128). So we adjust for this</li>\n</ol>\n<pre class=\"lang-py prettyprint-override\"><code>for byte in bstring:\n    if byte &gt;= 128:\n        byte -= 256\n    embedding32d.append(float(byte))\n</code></pre>\n<p>To put the whole thing together:</p>\n<pre class=\"lang-py prettyprint-override\"><code>\nimport struct\n\ndef decodeEmbedding(embedding8d):\n    embedding32d = []\n    for intvalue in embedding8d:\n        bstring = struct.pack('&gt;i', intvalue)\n        signed = (byte - 256 if byte &gt;= 128 else byte for byte in bstring)\n        embedding32d.extend(float(byte) for byte in signed)\n    return embedding32d\n</code></pre>\n<p>There is also a one-liner version.</p>\n<pre class=\"lang-py prettyprint-override\"><code>def decodeEmbedding(embedding8d):\n    return [float(byte - 256 if byte &gt; 127 else byte) for byte in\n            struct.pack('&gt;' + 'i' * len(embedding8d), *embedding8d)]\n</code></pre>\n"}],"owner":{"account_id":1324076,"reputation":717,"user_id":1269298,"accept_rate":52,"display_name":"user1269298"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74024012,"answer_count":1,"score":1,"last_activity_date":1665566196,"creation_date":1665462639,"question_id":74022998,"body_markdown":"I need to reimplement following function which converts 8 digit List to 32 digit List via `ByteBuffer` to python. So it can be used a python pipeline.\r\nAs a data scientist, I have been scratching my head how to do it right. I assume I can try to find a way to call java code in python as work around. But I think just implement in python is more elegant if it is achievable. Any help is appreciated!\r\n\r\n``` java\r\nstatic public List&lt;Float&gt; decodeEmbedding(List&lt;Integer&gt; embedding8d) {\r\n\tList&lt;Float&gt; embedding32d = new ArrayList&lt;&gt;();\r\n\tfor (int index = 0; index &lt; embedding8d.size(); ++index) {\r\n\t\tInteger x = embedding8d.get(index);\r\n\t\tbyte[] bytes = ByteBuffer.allocate(4).putInt(x).array();\r\n\t\tfor (int byteIndex = 0; byteIndex &lt; 4; ++byteIndex) {\r\n\t\t\tembedding32d.add((float) bytes[byteIndex]);\r\n\t\t}\r\n\t}\r\n\treturn embedding32d;\r\n}\r\n\r\n//------------ main ----------\r\nList&lt;Integer&gt; input = Arrays.asList(\r\n\t-839660988,\r\n\t826572561,\r\n\t1885995405,\r\n\t819888698,\r\n\t-2010625315,\r\n\t-1614561409,\r\n\t-1220275962,\r\n\t-2135440498\r\n);\r\n\r\nSystem.out.println(decodeEmbedding(input));\r\n//[-51.0, -13.0, -54.0, 68.0, 49.0, 68.0, 127.0, 17.0, 112.0, 106.0, 1.0, -115.0, 48.0, -34.0, -126.0, 58.0, -120.0, 40.0, 74.0, -35.0, -97.0, -61.0, -65.0, 127.0, -73.0, 68.0, 17.0, 6.0, -128.0, -73.0, -61.0, -114.0]\r\n\r\n```","title":"Java ByteBuffer similar function in Python","body":"<p>I need to reimplement following function which converts 8 digit List to 32 digit List via <code>ByteBuffer</code> to python. So it can be used a python pipeline.\nAs a data scientist, I have been scratching my head how to do it right. I assume I can try to find a way to call java code in python as work around. But I think just implement in python is more elegant if it is achievable. Any help is appreciated!</p>\n<pre class=\"lang-java prettyprint-override\"><code>static public List&lt;Float&gt; decodeEmbedding(List&lt;Integer&gt; embedding8d) {\n    List&lt;Float&gt; embedding32d = new ArrayList&lt;&gt;();\n    for (int index = 0; index &lt; embedding8d.size(); ++index) {\n        Integer x = embedding8d.get(index);\n        byte[] bytes = ByteBuffer.allocate(4).putInt(x).array();\n        for (int byteIndex = 0; byteIndex &lt; 4; ++byteIndex) {\n            embedding32d.add((float) bytes[byteIndex]);\n        }\n    }\n    return embedding32d;\n}\n\n//------------ main ----------\nList&lt;Integer&gt; input = Arrays.asList(\n    -839660988,\n    826572561,\n    1885995405,\n    819888698,\n    -2010625315,\n    -1614561409,\n    -1220275962,\n    -2135440498\n);\n\nSystem.out.println(decodeEmbedding(input));\n//[-51.0, -13.0, -54.0, 68.0, 49.0, 68.0, 127.0, 17.0, 112.0, 106.0, 1.0, -115.0, 48.0, -34.0, -126.0, 58.0, -120.0, 40.0, 74.0, -35.0, -97.0, -61.0, -65.0, 127.0, -73.0, 68.0, 17.0, 6.0, -128.0, -73.0, -61.0, -114.0]\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1487883506,"post_id":42425956,"comment_id":71997522,"body_markdown":"You have a raw type on `List&lt;IConverters&gt;`...","body":"You have a raw type on <code>List&lt;IConverters&gt;</code>..."},{"owner":{"account_id":4613607,"reputation":688,"user_id":3740914,"display_name":"bart.s"},"score":0,"creation_date":1487886121,"post_id":42425956,"comment_id":71998914,"body_markdown":"What do you mean by &quot;blows up and fails to collect the components into a List&quot;? Do you have any stack trace?","body":"What do you mean by &quot;blows up and fails to collect the components into a List&quot;? Do you have any stack trace?"},{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":1,"creation_date":1487896881,"post_id":42425956,"comment_id":72003127,"body_markdown":"Are your `IConverter` implemented objects in a package that is being used for component scanning?","body":"Are your <code>IConverter</code> implemented objects in a package that is being used for component scanning?"},{"owner":{"account_id":1316021,"reputation":169,"user_id":2815142,"display_name":"Desiderantes"},"score":0,"creation_date":1487947485,"post_id":42425956,"comment_id":72026666,"body_markdown":"@Strelok yeah, i ended up reordering the basePackages array in the initial ComponentScan, so that my converters would get scanned first, and it worked. Thanks!","body":"@Strelok yeah, i ended up reordering the basePackages array in the initial ComponentScan, so that my converters would get scanned first, and it worked. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":9792136,"reputation":715,"user_id":10371569,"display_name":"FBH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665566126,"creation_date":1665566126,"answer_id":74039363,"question_id":42425956,"body_markdown":"Normaly you can do it\r\nSuppose you have an interface IService\r\nImplemented by 2 class AService and BService\r\nthese 2 classes should be annotated with @Component or whatever you want spring stereotype\r\n\r\nThen in CService bean you can add in constructor argument a List&lt;IService&gt; \r\nSpring will wire theses 2 implementations in your bean","title":"Inject list of components into a Bean","body":"<p>Normaly you can do it\nSuppose you have an interface IService\nImplemented by 2 class AService and BService\nthese 2 classes should be annotated with @Component or whatever you want spring stereotype</p>\n<p>Then in CService bean you can add in constructor argument a List\nSpring will wire theses 2 implementations in your bean</p>\n"}],"owner":{"account_id":1316021,"reputation":169,"user_id":2815142,"display_name":"Desiderantes"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":631,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665566126,"creation_date":1487883171,"question_id":42425956,"body_markdown":"I have a bunch of components that implement an interface, IConverters. I want to inject them in the creation of a Bean, but currently i had no success. \r\n\r\nI tried with field injection, but it blows up and fails to collect the components into a List\r\n\r\n\r\n    @Configuration\r\n    public class ConversionConfig {\r\n    \r\n        @Inject\r\n        private List&lt;IConverters&gt; converters;\r\n    \r\n        @Bean\r\n        public @Qualifier(&quot;dataConversionService&quot;) DefaultConversionService dataConversionService() {\r\n            DefaultConversionService conversionService = new DefaultConversionService();\r\n            for (IConverters converter : converters) {\r\n                converter.register(conversionService);\r\n            }\r\n            return conversionService;\r\n        }\r\n    }\r\n\r\nAnd my components look like this \r\n\r\n    @Component\r\n    @Qualifier(&quot;languageConverters&quot;)\r\n    public class LanguageConverters implements IConverters&lt;Language, example.persistence.jooq.tables.pojos.Language, Long, LanguageOutput&gt;{\r\n    \r\n        public LanguageConverters() {\r\n        }\r\n        \r\n        ...\r\n    }\r\nBut if fails reporting `No qualifying bean of type IConverter&lt;?, ?, ?, ?&gt;`. How can I inject the list, so that the next person just implements the interface and with the right annotations, the converters get into the list? ","title":"Inject list of components into a Bean","body":"<p>I have a bunch of components that implement an interface, IConverters. I want to inject them in the creation of a Bean, but currently i had no success. </p>\n\n<p>I tried with field injection, but it blows up and fails to collect the components into a List</p>\n\n<pre><code>@Configuration\npublic class ConversionConfig {\n\n    @Inject\n    private List&lt;IConverters&gt; converters;\n\n    @Bean\n    public @Qualifier(\"dataConversionService\") DefaultConversionService dataConversionService() {\n        DefaultConversionService conversionService = new DefaultConversionService();\n        for (IConverters converter : converters) {\n            converter.register(conversionService);\n        }\n        return conversionService;\n    }\n}\n</code></pre>\n\n<p>And my components look like this </p>\n\n<pre><code>@Component\n@Qualifier(\"languageConverters\")\npublic class LanguageConverters implements IConverters&lt;Language, example.persistence.jooq.tables.pojos.Language, Long, LanguageOutput&gt;{\n\n    public LanguageConverters() {\n    }\n\n    ...\n}\n</code></pre>\n\n<p>But if fails reporting <code>No qualifying bean of type IConverter&lt;?, ?, ?, ?&gt;</code>. How can I inject the list, so that the next person just implements the interface and with the right annotations, the converters get into the list? </p>\n"},{"tags":["java","ssh","jsch"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1665487351,"post_id":74027196,"comment_id":130707001,"body_markdown":"You may need to debug into `connect` method to find out what is happening.","body":"You may need to debug into <code>connect</code> method to find out what is happening."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1665487467,"post_id":74027196,"comment_id":130707045,"body_markdown":"Jsch works on a Windows machine. Have you checked your logs for any errors?","body":"Jsch works on a Windows machine. Have you checked your logs for any errors?"},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1665489178,"post_id":74027196,"comment_id":130707730,"body_markdown":"BTW most logging APIs support one liner form `logger.error(&quot;Some message&quot;, e);` to avoid you writing such verbose exception handlers.","body":"BTW most logging APIs support one liner form <code>logger.error(&quot;Some message&quot;, e);</code> to avoid you writing such verbose exception handlers."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1665490076,"post_id":74027196,"comment_id":130708072,"body_markdown":"I would probably try it with Putty on Windows with the same credentials","body":"I would probably try it with Putty on Windows with the same credentials"},{"owner":{"account_id":23711315,"reputation":1,"user_id":17733143,"display_name":"KayB"},"score":0,"creation_date":1665490308,"post_id":74027196,"comment_id":130708150,"body_markdown":"@Stultuske thats the sad thing. the logs don&#39;t get any message from connect() running into whatever exception. All it gives me is &quot;14:15:17.324 [main] INFO  controller.SshFileHandler - Establishing Connection...&quot;","body":"@Stultuske thats the sad thing. the logs don&#39;t get any message from connect() running into whatever exception. All it gives me is &quot;14:15:17.324 [main] INFO  controller.SshFileHandler - Establishing Connection...&quot;"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1665490843,"post_id":74027196,"comment_id":130708347,"body_markdown":"have you debugged and checked the values of host, port user, password, ... have you then tried with those manually?","body":"have you debugged and checked the values of host, port user, password, ... have you then tried with those manually?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665491579,"post_id":74027196,"comment_id":130708636,"body_markdown":"Just to avoid your wasting time, don&#39;t expect Jsch to give you debug on connect. At most (if its Logger is INFO-enabled) it will report what host and port it&#39;s connecting to. Try Putty first","body":"Just to avoid your wasting time, don&#39;t expect Jsch to give you debug on connect. At most (if its Logger is INFO-enabled) it will report what host and port it&#39;s connecting to. Try Putty first"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665496554,"post_id":74027196,"comment_id":130710933,"body_markdown":"I&#39;m not quite sure how all that will help if the JSch classes are barely using that logger, irrespective of *where* it logs to: ```JSch.getLogger().log(Logger.INFO, &quot;Connecting to &quot; + host + &quot; port &quot; + port);```  And there&#39;s no more *until* the connection is established. The OP already knows the host and port","body":"I&#39;m not quite sure how all that will help if the JSch classes are barely using that logger, irrespective of <i>where</i> it logs to: <code>JSch.getLogger().log(Logger.INFO, &quot;Connecting to &quot; + host + &quot; port &quot; + port);</code>  And there&#39;s no more <i>until</i> the connection is established. The OP already knows the host and port"},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":1,"creation_date":1665519811,"post_id":74027196,"comment_id":130719009,"body_markdown":"If the logs imply that there&#39;s a connectivity problem, debug it as a connectivity problem -- pull out your packet sniffer of choice and look at the network traffic going over the wire. Once you&#39;ve proven that there&#39;s a valid TCP connection made but the library isn&#39;t completing the handshake, _then_ come back; but the easy answer is that one of your machines has working connectivity, and the other does not -- whether that&#39;s the operating system&#39;s firewall rules or a routing issue or something else.","body":"If the logs imply that there&#39;s a connectivity problem, debug it as a connectivity problem -- pull out your packet sniffer of choice and look at the network traffic going over the wire. Once you&#39;ve proven that there&#39;s a valid TCP connection made but the library isn&#39;t completing the handshake, <i>then</i> come back; but the easy answer is that one of your machines has working connectivity, and the other does not -- whether that&#39;s the operating system&#39;s firewall rules or a routing issue or something else."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665525325,"post_id":74027196,"comment_id":130720383,"body_markdown":"Yes firewall is a good candidate for a problem but I think it&#39;s going to be a lot easier to use a client that displays verbose connecting rather than going down to the packet level","body":"Yes firewall is a good candidate for a problem but I think it&#39;s going to be a lot easier to use a client that displays verbose connecting rather than going down to the packet level"},{"owner":{"account_id":23711315,"reputation":1,"user_id":17733143,"display_name":"KayB"},"score":0,"creation_date":1665563837,"post_id":74027196,"comment_id":130727649,"body_markdown":"I added a screen shot of an exception that seems to be the root of all evil.","body":"I added a screen shot of an exception that seems to be the root of all evil."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1665564064,"post_id":74027196,"comment_id":130727737,"body_markdown":"Please add the exception as code formatted text, not as a screenshot. The error in the screenshot seems to indicate your Java install is broken and/or has incorrect manual modifications to its security config. I&#39;d recommend uninstalling Java, and reinstalling it. I guess the error means the `unlimited` directory is missing or incomplete inside `conf\\security\\policy` of your Java install.","body":"Please add the exception as code formatted text, not as a screenshot. The error in the screenshot seems to indicate your Java install is broken and/or has incorrect manual modifications to its security config. I&#39;d recommend uninstalling Java, and reinstalling it. I guess the error means the <code>unlimited</code> directory is missing or incomplete inside <code>conf\\security\\policy</code> of your Java install."},{"owner":{"account_id":23711315,"reputation":1,"user_id":17733143,"display_name":"KayB"},"score":0,"creation_date":1665566085,"post_id":74027196,"comment_id":130728485,"body_markdown":"@MarkRotteveel I was able to catch it before the console window closed and added the exception text to OP. I don&#39;t have Java installed for this project. On the Windows machine I provide an .exe made with [launch4j](https://launch4j.sourceforge.net/). It points to a directory that has the lib and bin folder of Java JRE according to that post. [how-to-bundle-a-jre-with-launch4j](https://stackoverflow.com/questions/7071133/how-to-bundle-a-jre-with-launch4j)","body":"@MarkRotteveel I was able to catch it before the console window closed and added the exception text to OP. I don&#39;t have Java installed for this project. On the Windows machine I provide an .exe made with <a href=\"https://launch4j.sourceforge.net/\" rel=\"nofollow noreferrer\">launch4j</a>. It points to a directory that has the lib and bin folder of Java JRE according to that post. <a href=\"https://stackoverflow.com/questions/7071133/how-to-bundle-a-jre-with-launch4j\">how-to-bundle-a-jre-with-launch4j</a>"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1665566461,"post_id":74027196,"comment_id":130728625,"body_markdown":"The use of launch4j seems pretty pertinent information that you have to include in your question. This would suggest that the bundled JRE generated by launch4j is incomplete (i.e. not having a complete `conf\\security`) or corrupted.","body":"The use of launch4j seems pretty pertinent information that you have to include in your question. This would suggest that the bundled JRE generated by launch4j is incomplete (i.e. not having a complete <code>conf\\security</code>) or corrupted."},{"owner":{"account_id":23711315,"reputation":1,"user_id":17733143,"display_name":"KayB"},"score":0,"creation_date":1665567662,"post_id":74027196,"comment_id":130729103,"body_markdown":"@MarkRotteveel Oh my god, you are a life saver! I downloaded the JDK again did replace everything in the JRE path, that launch4j directs the .exe to and now it runs \\o/. Can be closed.","body":"@MarkRotteveel Oh my god, you are a life saver! I downloaded the JDK again did replace everything in the JRE path, that launch4j directs the .exe to and now it runs \\o/. Can be closed."}],"owner":{"account_id":23711315,"reputation":1,"user_id":17733143,"display_name":"KayB"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665565944,"creation_date":1665486808,"question_id":74027196,"body_markdown":"I created a Java program that has to make a SSH connection and execute `ls` on an Linux archive. \r\n\r\nIt works fine when I run this code on a Linux system using JSch. However, I try to make the program run on a Windows machine, it exits without any message at `session.connect()`. \r\n\r\nUsing Log4j, the only thing I do know is, that it stops at the `session.connect()` line. \r\n\r\nIs there a difference in using Jsch from Linux and Windows?\r\n\r\nBelow is the code for the connection. \r\n```java\r\npublic void openSession() {\r\n\r\n    JSch jsch = new JSch();\r\n\r\n    try {\r\n        session = jsch.getSession(user, host, port);\r\n        session.setPassword(password);\r\n        session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n        System.out.println(&quot;Establishing Connection...&quot;);\r\n        logger.info(&quot;Establishing Connection...&quot;);\r\n        session.connect();\r\n        System.out.println(&quot;Connection established.&quot;);\r\n        logger.info(&quot;Connection established.&quot;);\r\n        System.out.println(&quot;Creating SFTP Channel.&quot;);\r\n        logger.info(&quot;Connection established.&quot;);\r\n        sftpChannel = (ChannelSftp) session.openChannel(&quot;sftp&quot;);\r\n        sftpChannel.connect();\r\n        System.out.println(&quot;SFTP Channel created.&quot;);\r\n        logger.info(&quot;SFTP Channel created.&quot;);\r\n    } catch (JSchException e) {\r\n        StringWriter errors = new StringWriter();\r\n        e.printStackTrace(new PrintWriter(errors));\r\n        logger.error(errors);\r\n        logger.error(e.getCause());\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere is the exception, that seems to cause the issue:\r\n\r\n```none \r\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n        at java.base/javax.crypto.Cipher.getInstance(Cipher.java:548)\r\n        at com.jcraft.jsch.jce.AES256CTR.init(AES256CTR.java:56)\r\n        at com.jcraft.jsch.Session.checkCipher(Session.java:2497)\r\n        at com.jcraft.jsch.Session.checkCiphers(Session.java:2474)\r\n        at com.jcraft.jsch.Session.send_kexinit(Session.java:624)\r\n        at com.jcraft.jsch.Session.connect(Session.java:307)\r\n        at com.jcraft.jsch.Session.connect(Session.java:183)\r\n        at controller.SshFileHandler.openSession(SshFileHandler.java:241)\r\n        at controller.SshFileHandler.&lt;init&gt;(SshFileHandler.java:50)\r\n        at controller.MainController.selectDataSource(MainController.java:69)\r\n        at controller.MainController.run(MainController.java:42)\r\n        at controller.Application.main(Application.java:22)\r\nCaused by: java.lang.SecurityException: Can not initialize cryptographic mechanism\r\n        at java.base/javax.crypto.JceSecurity.&lt;clinit&gt;(JceSecurity.java:119)\r\n        ... 12 more\r\nCaused by: java.lang.SecurityException: Can&#39;t read cryptographic policy directory: unlimited\r\n        at java.base/javax.crypto.JceSecurity.setupJurisdictionPolicies(JceSecurity.java:333)\r\n        at java.base/javax.crypto.JceSecurity$1.run(JceSecurity.java:110)\r\n        at java.base/javax.crypto.JceSecurity$1.run(JceSecurity.java:107)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n        at java.base/javax.crypto.JceSecurity.&lt;clinit&gt;(JceSecurity.java:106)\r\n        ... 12 more\r\n```","title":"Why does JSch work on a Linux system, but not on Windows?","body":"<p>I created a Java program that has to make a SSH connection and execute <code>ls</code> on an Linux archive.</p>\n<p>It works fine when I run this code on a Linux system using JSch. However, I try to make the program run on a Windows machine, it exits without any message at <code>session.connect()</code>.</p>\n<p>Using Log4j, the only thing I do know is, that it stops at the <code>session.connect()</code> line.</p>\n<p>Is there a difference in using Jsch from Linux and Windows?</p>\n<p>Below is the code for the connection.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void openSession() {\n\n    JSch jsch = new JSch();\n\n    try {\n        session = jsch.getSession(user, host, port);\n        session.setPassword(password);\n        session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n        System.out.println(&quot;Establishing Connection...&quot;);\n        logger.info(&quot;Establishing Connection...&quot;);\n        session.connect();\n        System.out.println(&quot;Connection established.&quot;);\n        logger.info(&quot;Connection established.&quot;);\n        System.out.println(&quot;Creating SFTP Channel.&quot;);\n        logger.info(&quot;Connection established.&quot;);\n        sftpChannel = (ChannelSftp) session.openChannel(&quot;sftp&quot;);\n        sftpChannel.connect();\n        System.out.println(&quot;SFTP Channel created.&quot;);\n        logger.info(&quot;SFTP Channel created.&quot;);\n    } catch (JSchException e) {\n        StringWriter errors = new StringWriter();\n        e.printStackTrace(new PrintWriter(errors));\n        logger.error(errors);\n        logger.error(e.getCause());\n    }\n\n}\n</code></pre>\n<p>Here is the exception, that seems to cause the issue:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\n        at java.base/javax.crypto.Cipher.getInstance(Cipher.java:548)\n        at com.jcraft.jsch.jce.AES256CTR.init(AES256CTR.java:56)\n        at com.jcraft.jsch.Session.checkCipher(Session.java:2497)\n        at com.jcraft.jsch.Session.checkCiphers(Session.java:2474)\n        at com.jcraft.jsch.Session.send_kexinit(Session.java:624)\n        at com.jcraft.jsch.Session.connect(Session.java:307)\n        at com.jcraft.jsch.Session.connect(Session.java:183)\n        at controller.SshFileHandler.openSession(SshFileHandler.java:241)\n        at controller.SshFileHandler.&lt;init&gt;(SshFileHandler.java:50)\n        at controller.MainController.selectDataSource(MainController.java:69)\n        at controller.MainController.run(MainController.java:42)\n        at controller.Application.main(Application.java:22)\nCaused by: java.lang.SecurityException: Can not initialize cryptographic mechanism\n        at java.base/javax.crypto.JceSecurity.&lt;clinit&gt;(JceSecurity.java:119)\n        ... 12 more\nCaused by: java.lang.SecurityException: Can't read cryptographic policy directory: unlimited\n        at java.base/javax.crypto.JceSecurity.setupJurisdictionPolicies(JceSecurity.java:333)\n        at java.base/javax.crypto.JceSecurity$1.run(JceSecurity.java:110)\n        at java.base/javax.crypto.JceSecurity$1.run(JceSecurity.java:107)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\n        at java.base/javax.crypto.JceSecurity.&lt;clinit&gt;(JceSecurity.java:106)\n        ... 12 more\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1665547085,"post_id":74036246,"comment_id":130723519,"body_markdown":"Welcome to Stack Overflow.  Is the result you show (which should be text, not an image) the output you desire, except that you think that not all iterations should have been performed by the same thread?  Or, did you expect to see three times the output?  Which of those you&#39;re expecting makes a big different as to the answer to your question.","body":"Welcome to Stack Overflow.  Is the result you show (which should be text, not an image) the output you desire, except that you think that not all iterations should have been performed by the same thread?  Or, did you expect to see three times the output?  Which of those you&#39;re expecting makes a big different as to the answer to your question."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1665548333,"post_id":74036246,"comment_id":130723703,"body_markdown":"...obviously, per my answer, I guessed that you probably wanted just a single sequence from 10 down to 1, just wanting to see the work shared across the threads.","body":"...obviously, per my answer, I guessed that you probably wanted just a single sequence from 10 down to 1, just wanting to see the work shared across the threads."}],"answers":[{"tags":[],"owner":{"account_id":18266081,"reputation":9,"user_id":13297775,"display_name":"Pengo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665565887,"creation_date":1665546568,"answer_id":74036300,"question_id":74036246,"body_markdown":"every thread should use it&#39;s own per object,like below:\r\n```java\r\n    public static void main(String[] args) {\r\n//        per per = new per();\r\n        Thread t1 = new Thread(new per());\r\n        Thread t2 = new Thread(new per());\r\n        Thread t3 = new Thread(new per());\r\n        t1.start();\r\n        t2.start();\r\n        t3.start();\r\n    }\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n@CryptoFool\r\n\r\nThere is some confusion,if I increase the number of ```tickets``` and reduce the ```sleep``` time. The program seems to be working properly.\r\n\r\n```java\r\npublic class TestThread {\r\n\r\n    public static void main(String[] args) {\r\n        per per = new per();\r\n        Thread t1 = new Thread(per);\r\n        Thread t2 = new Thread(per);\r\n        Thread t3 = new Thread(per);\r\n        t1.start();\r\n        t2.start();\r\n        t3.start();\r\n    }\r\n\r\n}\r\nclass per implements Runnable{\r\n    int ticket = 10000;\r\n    final String a = &quot;&quot;;\r\n    @Override\r\n    public void run() {\r\n        while (true) {\r\n            synchronized(a) {\r\n                if (ticket&gt;0) {\r\n                    try {\r\n                        Thread.sleep(1  );\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    System.out.println(Thread.currentThread().getName()+&quot; &quot;+ticket);\r\n                    ticket--;\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand I got the below result\r\n\r\n```\r\n...other output...\r\nThread-0 9965\r\nThread-0 9964\r\nThread-0 9963\r\nThread-0 9962\r\nThread-0 9961\r\nThread-1 9960\r\nThread-1 9959\r\nThread-1 9958\r\nThread-1 9957\r\nThread-1 9956\r\nThread-1 9955\r\nThread-1 9954\r\nThread-1 9953\r\nThread-1 9952\r\nThread-1 9951\r\nThread-1 9950\r\nThread-1 9949\r\nThread-1 9948\r\nThread-1 9947\r\nThread-1 9946\r\nThread-1 9945\r\nThread-1 9944\r\nThread-1 9943\r\nThread-1 9942\r\nThread-1 9941\r\nThread-1 9940\r\nThread-1 9939\r\nThread-1 9938\r\nThread-1 9937\r\nThread-1 9936\r\nThread-1 9935\r\nThread-1 9934\r\nThread-1 9933\r\nThread-1 9932\r\nThread-1 9931\r\nThread-1 9930\r\nThread-1 9929\r\nThread-1 9928\r\nThread-1 9927\r\nThread-1 9926\r\nThread-1 9925\r\nThread-1 9924\r\nThread-1 9923\r\nThread-1 9922\r\nThread-1 9921\r\nThread-1 9920\r\nThread-1 9919\r\nThread-1 9918\r\nThread-1 9917\r\nThread-1 9916\r\nThread-1 9915\r\nThread-1 9914\r\nThread-1 9913\r\nThread-1 9912\r\nThread-1 9911\r\nThread-1 9910\r\nThread-1 9909\r\nThread-1 9908\r\nThread-1 9907\r\nThread-1 9906\r\nThread-1 9905\r\nThread-1 9904\r\nThread-1 9903\r\nThread-1 9902\r\nThread-1 9901\r\nThread-1 9900\r\nThread-1 9899\r\nThread-1 9898\r\nThread-1 9897\r\nThread-2 9896\r\nThread-2 9895\r\nThread-2 9894\r\nThread-2 9893\r\nThread-2 9892\r\nThread-2 9891\r\n...other output...\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/JO7r8.jpg","title":"Java thread synchronized for multi-threaded ticket selling example","body":"<p>every thread should use it's own per object,like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) {\n//        per per = new per();\n        Thread t1 = new Thread(new per());\n        Thread t2 = new Thread(new per());\n        Thread t3 = new Thread(new per());\n        t1.start();\n        t2.start();\n        t3.start();\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/JO7r8.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JO7r8.jpg\" alt=\"enter image description here\" /></a></p>\n<p>@CryptoFool</p>\n<p>There is some confusion,if I increase the number of <code>tickets</code> and reduce the <code>sleep</code> time. The program seems to be working properly.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestThread {\n\n    public static void main(String[] args) {\n        per per = new per();\n        Thread t1 = new Thread(per);\n        Thread t2 = new Thread(per);\n        Thread t3 = new Thread(per);\n        t1.start();\n        t2.start();\n        t3.start();\n    }\n\n}\nclass per implements Runnable{\n    int ticket = 10000;\n    final String a = &quot;&quot;;\n    @Override\n    public void run() {\n        while (true) {\n            synchronized(a) {\n                if (ticket&gt;0) {\n                    try {\n                        Thread.sleep(1  );\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                    System.out.println(Thread.currentThread().getName()+&quot; &quot;+ticket);\n                    ticket--;\n                }\n            }\n\n        }\n    }\n}\n</code></pre>\n<p>and I got the below result</p>\n<pre><code>...other output...\nThread-0 9965\nThread-0 9964\nThread-0 9963\nThread-0 9962\nThread-0 9961\nThread-1 9960\nThread-1 9959\nThread-1 9958\nThread-1 9957\nThread-1 9956\nThread-1 9955\nThread-1 9954\nThread-1 9953\nThread-1 9952\nThread-1 9951\nThread-1 9950\nThread-1 9949\nThread-1 9948\nThread-1 9947\nThread-1 9946\nThread-1 9945\nThread-1 9944\nThread-1 9943\nThread-1 9942\nThread-1 9941\nThread-1 9940\nThread-1 9939\nThread-1 9938\nThread-1 9937\nThread-1 9936\nThread-1 9935\nThread-1 9934\nThread-1 9933\nThread-1 9932\nThread-1 9931\nThread-1 9930\nThread-1 9929\nThread-1 9928\nThread-1 9927\nThread-1 9926\nThread-1 9925\nThread-1 9924\nThread-1 9923\nThread-1 9922\nThread-1 9921\nThread-1 9920\nThread-1 9919\nThread-1 9918\nThread-1 9917\nThread-1 9916\nThread-1 9915\nThread-1 9914\nThread-1 9913\nThread-1 9912\nThread-1 9911\nThread-1 9910\nThread-1 9909\nThread-1 9908\nThread-1 9907\nThread-1 9906\nThread-1 9905\nThread-1 9904\nThread-1 9903\nThread-1 9902\nThread-1 9901\nThread-1 9900\nThread-1 9899\nThread-1 9898\nThread-1 9897\nThread-2 9896\nThread-2 9895\nThread-2 9894\nThread-2 9893\nThread-2 9892\nThread-2 9891\n...other output...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665546619,"creation_date":1665546619,"answer_id":74036304,"question_id":74036246,"body_markdown":"Nothing in this code would force other threads to be scheduled before ticket reaches 0 on the first thread. While it is possible that other threads could be scheduled between each iteration, it isnt required, and as an optimization the OS might choose to keep the first thread running instead of having to do a context switch to schedule one of the others.","title":"Java thread synchronized for multi-threaded ticket selling example","body":"<p>Nothing in this code would force other threads to be scheduled before ticket reaches 0 on the first thread. While it is possible that other threads could be scheduled between each iteration, it isnt required, and as an optimization the OS might choose to keep the first thread running instead of having to do a context switch to schedule one of the others.</p>\n"},{"tags":[],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665549996,"creation_date":1665547715,"answer_id":74036392,"question_id":74036246,"body_markdown":"Your problem is where you have placed your call to `syncronized()` in relation to where you have your call to `sleep()`.  What is likely happening is that because your first thread gets the mutex first and then has it most of the time, only giving it up for the briefest moments, the thread scheduler never decides to give the lock to a different thread.  If you sleep outside of the sync block, which is a much better simulation of what threads would be doing in real life, then your code acts the way you&#39;re expecting.  This code:\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            per per = new per();\r\n            Thread t1 = new Thread(Per);\r\n            Thread t2 = new Thread(Per);\r\n            Thread t3 = new Thread(Per);\r\n            t1.start();\r\n            t2.start();\r\n            t3.start();\r\n        }\r\n    }\r\n    \r\n    class Per implements Runnable{\r\n        int ticket = 10;\r\n        final String a = &quot;&quot;;\r\n        @Override\r\n        public void run() {\r\n            while (true) {\r\n                synchronized(a) {\r\n                    if (ticket&gt;0) {\r\n                        System.out.println(Thread.currentThread().getName()+&quot; &quot;+ticket);\r\n                        ticket--;\r\n                    }\r\n                }\r\n                try {\r\n                    Thread.sleep(1000);\r\n                } catch (InterruptedException e) {\r\n                    // TODO Auto-generated catch block\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nGive me this result:\r\n\r\n    Thread-0 10\r\n    Thread-2 9\r\n    Thread-1 8\r\n    Thread-0 7\r\n    Thread-2 6\r\n    Thread-1 5\r\n    Thread-1 4\r\n    Thread-0 3\r\n    Thread-2 2\r\n    Thread-2 1","title":"Java thread synchronized for multi-threaded ticket selling example","body":"<p>Your problem is where you have placed your call to <code>syncronized()</code> in relation to where you have your call to <code>sleep()</code>.  What is likely happening is that because your first thread gets the mutex first and then has it most of the time, only giving it up for the briefest moments, the thread scheduler never decides to give the lock to a different thread.  If you sleep outside of the sync block, which is a much better simulation of what threads would be doing in real life, then your code acts the way you're expecting.  This code:</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        per per = new per();\n        Thread t1 = new Thread(Per);\n        Thread t2 = new Thread(Per);\n        Thread t3 = new Thread(Per);\n        t1.start();\n        t2.start();\n        t3.start();\n    }\n}\n\nclass Per implements Runnable{\n    int ticket = 10;\n    final String a = &quot;&quot;;\n    @Override\n    public void run() {\n        while (true) {\n            synchronized(a) {\n                if (ticket&gt;0) {\n                    System.out.println(Thread.currentThread().getName()+&quot; &quot;+ticket);\n                    ticket--;\n                }\n            }\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Give me this result:</p>\n<pre><code>Thread-0 10\nThread-2 9\nThread-1 8\nThread-0 7\nThread-2 6\nThread-1 5\nThread-1 4\nThread-0 3\nThread-2 2\nThread-2 1\n</code></pre>\n"}],"owner":{"account_id":26596437,"reputation":11,"user_id":20218721,"display_name":"Sihan Adi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1665565887,"creation_date":1665545995,"question_id":74036246,"body_markdown":"I want to write a multi-threaded ticket selling example, but the output looks like only one thread is working\r\n\r\n    public class test2 {\r\n    public static void main(String[] args) {\r\n        per per = new per();\r\n        Thread t1 = new Thread(per);\r\n        Thread t2 = new Thread(per);\r\n        Thread t3 = new Thread(per);\r\n        t1.start();\r\n        t2.start();\r\n        t3.start();\r\n    }\r\n\r\n    }\r\n    class per implements Runnable{\r\n    int ticket = 10;\r\n    final String a = &quot;&quot;;\r\n    @Override\r\n    public void run() {\r\n        while (true) {\r\n            synchronized(a) {\r\n                if (ticket&gt;0) {\r\n                    try {\r\n                        Thread.sleep(1000);\r\n                    } catch (InterruptedException e) {\r\n                        // TODO Auto-generated catch block\r\n                        e.printStackTrace();\r\n                    }\r\n                    System.out.println(Thread.currentThread().getName()+&quot; &quot;+ticket);\r\n                    ticket--;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\nAs a result, only the thread has sold all the tickets.\r\nThe result is as follows:\r\n\r\n    Thread-1 ticket 9\r\n    Thread-1 ticket 8\r\n    Thread-1 ticket 7\r\n    Thread-1 ticket 6\r\n    Thread-1 ticket 5\r\n    Thread-1 ticket 4\r\n    Thread-1 ticket 3\r\n    Thread-1 ticket 2\r\n    Thread-1 ticket 1\r\n    Thread-1 ticket 0\r\n","title":"Java thread synchronized for multi-threaded ticket selling example","body":"<p>I want to write a multi-threaded ticket selling example, but the output looks like only one thread is working</p>\n<pre><code>public class test2 {\npublic static void main(String[] args) {\n    per per = new per();\n    Thread t1 = new Thread(per);\n    Thread t2 = new Thread(per);\n    Thread t3 = new Thread(per);\n    t1.start();\n    t2.start();\n    t3.start();\n}\n\n}\nclass per implements Runnable{\nint ticket = 10;\nfinal String a = &quot;&quot;;\n@Override\npublic void run() {\n    while (true) {\n        synchronized(a) {\n            if (ticket&gt;0) {\n                try {\n                    Thread.sleep(1000);\n                } catch (InterruptedException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n                System.out.println(Thread.currentThread().getName()+&quot; &quot;+ticket);\n                ticket--;\n            }\n        }\n    }\n}\n}\n</code></pre>\n<p>As a result, only the thread has sold all the tickets.\nThe result is as follows:</p>\n<pre><code>Thread-1 ticket 9\nThread-1 ticket 8\nThread-1 ticket 7\nThread-1 ticket 6\nThread-1 ticket 5\nThread-1 ticket 4\nThread-1 ticket 3\nThread-1 ticket 2\nThread-1 ticket 1\nThread-1 ticket 0\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661913617,"creation_date":1661913617,"answer_id":73550350,"question_id":73550297,"body_markdown":"I&#39;ve always used ***@EmbeddedId*** in case of Composite primary keys and ***@Id*** in case of simple primary key.\r\n\r\nI&#39;m surprised how ***@Id*** is also working.\r\n\r\nOther than readability, I believe you can skip using ***@Embeddable*** annotation with ***@EmbeddedId*** but won&#39;t be able to do that with ***@Id*** annotation.","title":"What is the difference between @EmbeddedId and @Id in Spring JPA?","body":"<p>I've always used <em><strong>@EmbeddedId</strong></em> in case of Composite primary keys and <em><strong>@Id</strong></em> in case of simple primary key.</p>\n<p>I'm surprised how <em><strong>@Id</strong></em> is also working.</p>\n<p>Other than readability, I believe you can skip using <em><strong>@Embeddable</strong></em> annotation with <em><strong>@EmbeddedId</strong></em> but won't be able to do that with <em><strong>@Id</strong></em> annotation.</p>\n"},{"tags":[],"owner":{"account_id":13331423,"reputation":391,"user_id":10441871,"display_name":"Shyam Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665565735,"creation_date":1665565735,"answer_id":74039274,"question_id":73550297,"body_markdown":"I referred hibernate docs [Hiberate 3.5 annotations][1] reference whereby there is the difference that with ```@EmbeddedId``` you can skip annotating the entity class ```@Embeddable``` but with ```@Id``` it&#39;s required.\r\n\r\nI tried using ```@Id``` without ```@Embeddable``` it gives exception:\r\n\r\n&gt; org.hibernate.mapping.SimpleValue cannot be cast to \r\n&gt; \r\n&gt; org.hibernate.mapping.Component\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/annotations/3.5/reference/en/html_single/#d0e2177","title":"What is the difference between @EmbeddedId and @Id in Spring JPA?","body":"<p>I referred hibernate docs <a href=\"https://docs.jboss.org/hibernate/annotations/3.5/reference/en/html_single/#d0e2177\" rel=\"nofollow noreferrer\">Hiberate 3.5 annotations</a> reference whereby there is the difference that with <code>@EmbeddedId</code> you can skip annotating the entity class <code>@Embeddable</code> but with <code>@Id</code> it's required.</p>\n<p>I tried using <code>@Id</code> without <code>@Embeddable</code> it gives exception:</p>\n<blockquote>\n<p>org.hibernate.mapping.SimpleValue cannot be cast to</p>\n<p>org.hibernate.mapping.Component</p>\n</blockquote>\n"}],"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":761,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1665573545,"answer_count":2,"score":0,"last_activity_date":1665565735,"creation_date":1661913003,"question_id":73550297,"body_markdown":"I have a composite key class annotated with `@Embeddable`. Then I have my entity class using this composite key class as its primary key. I tried to annotate it with either `@Id` and `@EmbeddedId`, both seems to work! Is there any functional difference except for readability?\r\n\r\ne.g.\r\n\r\n    @Embeddable public class CompositeKey { ... }\r\n    @Entity public class MyEntity {\r\n        @EmbeddedId private CompositeKey id\r\n    }\r\n\r\n    @Embeddable public class CompositeKey { ... }\r\n    @Entity public class MyEntity {\r\n        @Id private CompositeKey id\r\n    }\r\n","title":"What is the difference between @EmbeddedId and @Id in Spring JPA?","body":"<p>I have a composite key class annotated with <code>@Embeddable</code>. Then I have my entity class using this composite key class as its primary key. I tried to annotate it with either <code>@Id</code> and <code>@EmbeddedId</code>, both seems to work! Is there any functional difference except for readability?</p>\n<p>e.g.</p>\n<pre><code>@Embeddable public class CompositeKey { ... }\n@Entity public class MyEntity {\n    @EmbeddedId private CompositeKey id\n}\n\n@Embeddable public class CompositeKey { ... }\n@Entity public class MyEntity {\n    @Id private CompositeKey id\n}\n</code></pre>\n"},{"tags":["java","mysql","hibernate","spring-mvc","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":10318462,"reputation":83,"user_id":7612117,"display_name":"dta.hoan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491545163,"creation_date":1491545163,"answer_id":43270797,"question_id":43270058,"body_markdown":"Try:\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name=&quot;promoType_id&quot;, referencedColumnName=&quot;promoType_id&quot;)\r\n    private Promo_Type promo_Type;","title":"SQL Error: 1054, SQLState: 42S22 Unknown column in &#39;field list&#39; error Java Spring Boot Mysql error","body":"<p>Try:</p>\n\n<pre><code>@ManyToOne\n@JoinColumn(name=\"promoType_id\", referencedColumnName=\"promoType_id\")\nprivate Promo_Type promo_Type;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8666433,"reputation":727,"user_id":6486778,"display_name":"Vivien SA&#39;A"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1491559219,"creation_date":1491551063,"answer_id":43272480,"question_id":43270058,"body_markdown":"Your problem comes from the config(application.properties) used by SpringBoot in naming your column in your database. Actually if you want to solve this problem, you have to either avoid capital letters in your column name or change your Naming strategy in your application.properties\r\nand use this\r\n\r\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n\r\n","title":"SQL Error: 1054, SQLState: 42S22 Unknown column in &#39;field list&#39; error Java Spring Boot Mysql error","body":"<p>Your problem comes from the config(application.properties) used by SpringBoot in naming your column in your database. Actually if you want to solve this problem, you have to either avoid capital letters in your column name or change your Naming strategy in your application.properties\nand use this</p>\n\n<pre><code>spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2200783,"reputation":788,"user_id":1945240,"display_name":"Duncan O. N."},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1549702150,"creation_date":1549702150,"answer_id":54604676,"question_id":43270058,"body_markdown":"Encountered same error, changed on the *application.properties* from \r\n\r\n    spring.jpa.properties.hibernate.hbm2ddl.auto: none\r\n\r\nto\r\n\r\n    spring.jpa.properties.hibernate.hbm2ddl.auto: update\r\n\r\nHope it works for you. Cheers!","title":"SQL Error: 1054, SQLState: 42S22 Unknown column in &#39;field list&#39; error Java Spring Boot Mysql error","body":"<p>Encountered same error, changed on the <em>application.properties</em> from </p>\n\n<pre><code>spring.jpa.properties.hibernate.hbm2ddl.auto: none\n</code></pre>\n\n<p>to</p>\n\n<pre><code>spring.jpa.properties.hibernate.hbm2ddl.auto: update\n</code></pre>\n\n<p>Hope it works for you. Cheers!</p>\n"}],"owner":{"account_id":6918307,"reputation":188,"user_id":5311736,"accept_rate":83,"display_name":"mfr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47405,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":43272480,"answer_count":3,"score":9,"last_activity_date":1665565706,"creation_date":1491541558,"question_id":43270058,"body_markdown":"Basically  I am trying to make a simple promotion page, The error that I am getting is SQL Error: 1054, SQLState: 42S22  Error is Unknown column &#39;promotion0_.promo_type_id&#39; in &#39;field list&#39;\r\n\r\nHere are the model classes \r\n\r\n    package promotions.model;\r\n\r\n    \r\n    import java.io.Serializable;\r\n\r\n    import javax.persistence.CascadeType;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.JoinColumn;\r\n    import javax.persistence.ManyToOne;\r\n    import javax.persistence.OneToMany;\r\n    import javax.persistence.OneToOne;\r\n    import javax.persistence.Table;\r\n\r\n    @Entity\r\n    @Table(name=&quot;promotion&quot;)\r\n    public class Promotion implements Serializable{\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\t@Column(name=&quot;id&quot;)\r\n\tprivate int id;\r\n\tprivate String name;\r\n\tprivate boolean active;\r\n\tprivate boolean status;\r\n\t@ManyToOne\r\n\t@JoinColumn(name=&quot;promoType_id&quot;)\r\n\tprivate Promo_Type promo_Type;\r\n\t@ManyToOne\r\n\t@JoinColumn(name=&quot;roomType_id&quot;)\r\n\tprivate RoomType room_Types;\r\n\t\r\n\t\r\n\t\r\n\tpublic Promotion() {\r\n\t\t\r\n\t}\r\n\tpublic Promotion(String name, boolean active, boolean status, Promo_Type promo_Type, RoomType room_Types) {\r\n\t\tsuper();\r\n\t\tthis.name = name;\r\n\t\tthis.active = active;\r\n\t\tthis.status = status;\r\n\t\tthis.promo_Type = promo_Type;\r\n\t\tthis.room_Types = room_Types;\r\n\t}\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\tpublic boolean isActive() {\r\n\t\treturn active;\r\n\t}\r\n\tpublic void setActive(boolean active) {\r\n\t\tthis.active = active;\r\n\t}\r\n\tpublic boolean isStatus() {\r\n\t\treturn status;\r\n\t}\r\n\tpublic void setStatus(boolean status) {\r\n\t\tthis.status = status;\r\n\t}\r\n\t@OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;promoType_id&quot;)\r\n\tpublic Promo_Type getPromo_Type() {\r\n\t\treturn promo_Type;\r\n\t}\r\n\t\r\n\tpublic void setPromo_Type(Promo_Type promo_Type) {\r\n\t\tthis.promo_Type = promo_Type;\r\n\t}\r\n\t\r\n\t@OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;roomType_id&quot;)\r\n\tpublic RoomType getRoom_Types() {\r\n\t\treturn room_Types;\r\n\t}\r\n\tpublic void setRoom_Types(RoomType room_Types) {\r\n\t\tthis.room_Types = room_Types;\r\n\t}\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Promotions [id=&quot; + id + &quot;, name=&quot; + name + &quot;, active=&quot; + active + &quot;, status=&quot; + status + &quot;, promo_Type=&quot;\r\n\t\t\t\t+ promo_Type + &quot;, room_Types=&quot; + room_Types + &quot;]&quot;;\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n\r\n    package promotions.model;\r\n\r\n    import java.io.Serializable;\r\n    import java.util.Collection;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n\r\n    import javax.persistence.CascadeType;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.FetchType;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.OneToMany;\r\n    import javax.persistence.Table;\r\n\r\n    @Entity\r\n    @Table(name=&quot;roomType&quot;)\r\n    public class RoomType implements Serializable{\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\t@Column(name=&quot;roomType_id&quot;)\r\n\tprivate int id;\r\n\tprivate String name;\r\n\t\r\n\t@OneToMany(mappedBy=&quot;room_Types&quot;, cascade= CascadeType.ALL,fetch= FetchType.LAZY)\r\n\tprivate Collection&lt;Promotion&gt;promotions;\r\n\r\n\t\r\n\t\r\n\t\r\n\tpublic RoomType() {\r\n\t\t\r\n\t}\r\n\r\n\tpublic RoomType(String name, Collection&lt;Promotion&gt; promotions) {\r\n\t\tsuper();\r\n\t\tthis.name = name;\r\n\t\tthis.promotions = promotions;\r\n\t}\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic Collection&lt;Promotion&gt; getPromotions() {\r\n\t\treturn promotions;\r\n\t}\r\n\r\n\tpublic void setPromotions(Collection&lt;Promotion&gt; promotions) {\r\n\t\tthis.promotions = promotions;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t}\r\n\r\nhere is another model class\r\n\r\n    package promotions.model;\r\n\r\n    import java.io.Serializable;\r\n    import java.util.Collection;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n\r\n    import javax.persistence.CascadeType;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.FetchType;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.OneToMany;\r\n    import javax.persistence.OneToOne;\r\n    import javax.persistence.Table;\r\n\r\n\r\n    @Entity\r\n    @Table(name=&quot;promoType&quot;)\r\n    public class Promo_Type implements Serializable{\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\t@Column(name=&quot;promoType_id&quot;)\r\n\tprivate int id;\r\n\tprivate String name;\r\n\tprivate double discount;\r\n\t@OneToMany(mappedBy=&quot;promo_Type&quot;, cascade= CascadeType.ALL,fetch= FetchType.LAZY)\r\n\tprivate Collection&lt;Promotion&gt;promotions;\r\n\t\r\n\t\r\n\t\r\n\tpublic Promo_Type() {\r\n\t\t\r\n\t}\r\n\tpublic Promo_Type(String name, double discount, Collection&lt;Promotion&gt;      promotions) {\r\n\t\tsuper();\r\n\t\tthis.name = name;\r\n\t\tthis.discount = discount;\r\n\t\tthis.promotions = promotions;\r\n\t}\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\tpublic double getDiscount() {\r\n\t\treturn discount;\r\n\t}\r\n\tpublic void setDiscount(double discount) {\r\n\t\tthis.discount = discount;\r\n\t}\r\n\tpublic Collection&lt;Promotion&gt; getPromotions() {\r\n\t\treturn promotions;\r\n\t}\r\n\tpublic void setPromotions(Collection&lt;Promotion&gt; promotions) {\r\n\t\tthis.promotions = promotions;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\r\n}\r\n\r\n\r\nand here is the mysql query\r\n\r\n   \r\n\r\n     CREATE DATABASE `promotiondb`;\r\n     \r\n    use promotiondb;\r\n     \r\n    CREATE TABLE `promoType` (\r\n      `promoType_id` int(11) NOT NULL AUTO_INCREMENT,\r\n      `name` varchar(45) NOT NULL,\r\n      `discount` DOUBLE NOT NULL,\r\n      PRIMARY KEY (`promoType_id`)\r\n    );\r\n     \r\n     \r\n    CREATE TABLE `roomType` (\r\n      `roomType_id` int(11) NOT NULL AUTO_INCREMENT,\r\n      `name` varchar(70) NOT NULL,\r\n       PRIMARY KEY (`roomType_id`)\r\n    );\r\n     \r\n    CREATE TABLE `promotion` (\r\n      `id` INT NOT NULL AUTO_INCREMENT,\r\n      `name` VARCHAR(45) NULL,\r\n      `status` TINYINT(1) NULL,\r\n      `active` TINYINT(1) NULL,\r\n      `promoType_id` int(11) NOT NULL,\r\n      `roomType_id` int(11) NOT NULL,\r\n      PRIMARY KEY (`id`),\r\n      KEY `fk_promoType` (`promoType_id`),\r\n      KEY `fk_roomType` (`roomType_id`),\r\n      CONSTRAINT `fk_roomType` FOREIGN KEY (`roomType_id`) REFERENCES `roomType` (`roomType_id`),\r\n      CONSTRAINT `fk_promoType` FOREIGN KEY (`promoType_id`) REFERENCES `promoType` (`promoType_id`)\r\n    );\r\n\r\nHere is the error, SQL Error: 1054, SQLState: 42S22, Unknown column &#39;promotion0_.promo_type_id&#39; in &#39;field list&#39;ERROR 34768 --- [nio-8080-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unknown column &#39;promotion0_.promo_type_id&#39; in &#39;field list&#39;\r\n\r\n\r\n        com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column &#39;promotion0_.promo_type_id&#39; in &#39;field list&#39;\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_121]\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source) ~[na:1.8.0_121]\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source) ~[na:1.8.0_121]\r\n\tat java.lang.reflect.Constructor.newInstance(Unknown Source) ~[na:1.8.0_121]\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.41-bin.jar:5.1.41]\r\n\tat com.mysql.jdbc.Util.getInstance(Util.java:408) ~[mysql-connector-java-5.1.41-bin.jar:5.1.41]\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943) ~[mysql-connector-java-5.1.41-bin.jar:5.1.41]\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973) ~[mysql-connector-java-5.1.41-bin.jar:5.1.41]\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.41-bin.jar:5.1.41]\r\n\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.41-bin.jar:5.1.41]\r\n\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.41-bin.jar:5.1.41]\r\n\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501) ~[mysql-connector-java-5.1.41-bin.jar:5.1.41]\r\n\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.41-bin.jar:5.1.41]\r\n\tat com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1966) ~[mysql-connector-java-5.1.41-bin.jar:5.1.41]\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:70) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.loader.Loader.getResultSet(Loader.java:2117) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1900) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1876) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:919) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:336) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2617) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2600) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2429) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2424) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:501) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:371) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:216) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1326) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.internal.QueryImpl.list(QueryImpl.java:87) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.jpa.internal.QueryImpl.list(QueryImpl.java:606) ~[hibernate-entitymanager-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.jpa.internal.QueryImpl.getResultList(QueryImpl.java:483) ~[hibernate-entitymanager-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.jpa.criteria.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:50) ~[hibernate-entitymanager-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:329) ~[spring-data-jpa-1.11.0.RELEASE.jar:na]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:74) ~[spring-data-jpa-1.11.0.RELEASE.jar:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_121]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_121]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_121]\r\n\tat java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_121]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.0.RELEASE.jar:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.0.RELEASE.jar:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.0.RELEASE.jar:na]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.0.RELEASE.jar:na]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) ~[spring-tx-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) ~[spring-tx-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) ~[spring-tx-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:133) ~[spring-data-jpa-1.11.0.RELEASE.jar:na]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.0.RELEASE.jar:na]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat com.sun.proxy.$Proxy83.findAll(Unknown Source) ~[na:na]\r\n\tat promotions.service.PromotionsService.findAll(PromotionsService.java:28) ~[classes/:na]\r\n\tat promotions.service.PromotionsService$$FastClassBySpringCGLIB$$f95c210e.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) ~[spring-tx-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) ~[spring-tx-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) ~[spring-tx-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat promotions.service.PromotionsService$$EnhancerBySpringCGLIB$$30594b1.findAll(&lt;generated&gt;) ~[classes/:na]\r\n\tat promotions.controller.SampleRestController.allpromotions(SampleRestController.java:24) ~[classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_121]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_121]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_121]\r\n\tat java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_121]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116) ~[spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) ~[spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897) ~[spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:622) ~[servlet-api.jar:na]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729) ~[servlet-api.jar:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230) ~[catalina.jar:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) ~[catalina.jar:na]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-websocket.jar:8.5.6-dev]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) ~[catalina.jar:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) ~[catalina.jar:na]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) ~[catalina.jar:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) ~[catalina.jar:na]\r\n\tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) ~[catalina.jar:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) ~[catalina.jar:na]\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) ~[catalina.jar:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) ~[catalina.jar:na]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) ~[catalina.jar:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) ~[catalina.jar:na]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[catalina.jar:na]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108) [catalina.jar:na]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472) [catalina.jar:na]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [catalina.jar:na]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79) [catalina.jar:na]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [catalina.jar:na]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349) [catalina.jar:na]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784) [tomcat-coyote.jar:8.5.6-dev]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-coyote.jar:8.5.6-dev]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802) [tomcat-coyote.jar:8.5.6-dev]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410) [tomcat-coyote.jar:8.5.6-dev]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-coyote.jar:8.5.6-dev]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_121]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_121]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-util.jar:8.5.6-dev]\r\n\tat java.lang.Thread.run(Unknown Source) [na:1.8.0_121]","title":"SQL Error: 1054, SQLState: 42S22 Unknown column in &#39;field list&#39; error Java Spring Boot Mysql error","body":"<p>Basically  I am trying to make a simple promotion page, The error that I am getting is SQL Error: 1054, SQLState: 42S22  Error is Unknown column 'promotion0_.promo_type_id' in 'field list'</p>\n\n<p>Here are the model classes </p>\n\n<pre><code>package promotions.model;\n\n\nimport java.io.Serializable;\n\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.OneToMany;\nimport javax.persistence.OneToOne;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name=\"promotion\")\npublic class Promotion implements Serializable{\n\n@Id\n@GeneratedValue(strategy=GenerationType.AUTO)\n@Column(name=\"id\")\nprivate int id;\nprivate String name;\nprivate boolean active;\nprivate boolean status;\n@ManyToOne\n@JoinColumn(name=\"promoType_id\")\nprivate Promo_Type promo_Type;\n@ManyToOne\n@JoinColumn(name=\"roomType_id\")\nprivate RoomType room_Types;\n\n\n\npublic Promotion() {\n\n}\npublic Promotion(String name, boolean active, boolean status, Promo_Type promo_Type, RoomType room_Types) {\n    super();\n    this.name = name;\n    this.active = active;\n    this.status = status;\n    this.promo_Type = promo_Type;\n    this.room_Types = room_Types;\n}\npublic int getId() {\n    return id;\n}\npublic void setId(int id) {\n    this.id = id;\n}\npublic String getName() {\n    return name;\n}\npublic void setName(String name) {\n    this.name = name;\n}\npublic boolean isActive() {\n    return active;\n}\npublic void setActive(boolean active) {\n    this.active = active;\n}\npublic boolean isStatus() {\n    return status;\n}\npublic void setStatus(boolean status) {\n    this.status = status;\n}\n@OneToOne(cascade = CascadeType.ALL)\n@JoinColumn(name = \"promoType_id\")\npublic Promo_Type getPromo_Type() {\n    return promo_Type;\n}\n\npublic void setPromo_Type(Promo_Type promo_Type) {\n    this.promo_Type = promo_Type;\n}\n\n@OneToOne(cascade = CascadeType.ALL)\n@JoinColumn(name = \"roomType_id\")\npublic RoomType getRoom_Types() {\n    return room_Types;\n}\npublic void setRoom_Types(RoomType room_Types) {\n    this.room_Types = room_Types;\n}\n@Override\npublic String toString() {\n    return \"Promotions [id=\" + id + \", name=\" + name + \", active=\" + active + \", status=\" + status + \", promo_Type=\"\n            + promo_Type + \", room_Types=\" + room_Types + \"]\";\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>package promotions.model;\n\nimport java.io.Serializable;\nimport java.util.Collection;\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.OneToMany;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name=\"roomType\")\npublic class RoomType implements Serializable{\n\n@Id\n@GeneratedValue(strategy=GenerationType.AUTO)\n@Column(name=\"roomType_id\")\nprivate int id;\nprivate String name;\n\n@OneToMany(mappedBy=\"room_Types\", cascade= CascadeType.ALL,fetch= FetchType.LAZY)\nprivate Collection&lt;Promotion&gt;promotions;\n\n\n\n\npublic RoomType() {\n\n}\n\npublic RoomType(String name, Collection&lt;Promotion&gt; promotions) {\n    super();\n    this.name = name;\n    this.promotions = promotions;\n}\n\npublic int getId() {\n    return id;\n}\n\npublic void setId(int id) {\n    this.id = id;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic Collection&lt;Promotion&gt; getPromotions() {\n    return promotions;\n}\n\npublic void setPromotions(Collection&lt;Promotion&gt; promotions) {\n    this.promotions = promotions;\n}\n\n\n\n\n\n\n}\n</code></pre>\n\n<p>here is another model class</p>\n\n<pre><code>package promotions.model;\n\nimport java.io.Serializable;\nimport java.util.Collection;\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.OneToMany;\nimport javax.persistence.OneToOne;\nimport javax.persistence.Table;\n\n\n@Entity\n@Table(name=\"promoType\")\npublic class Promo_Type implements Serializable{\n@Id\n@GeneratedValue(strategy=GenerationType.AUTO)\n@Column(name=\"promoType_id\")\nprivate int id;\nprivate String name;\nprivate double discount;\n@OneToMany(mappedBy=\"promo_Type\", cascade= CascadeType.ALL,fetch= FetchType.LAZY)\nprivate Collection&lt;Promotion&gt;promotions;\n\n\n\npublic Promo_Type() {\n\n}\npublic Promo_Type(String name, double discount, Collection&lt;Promotion&gt;      promotions) {\n    super();\n    this.name = name;\n    this.discount = discount;\n    this.promotions = promotions;\n}\npublic int getId() {\n    return id;\n}\npublic void setId(int id) {\n    this.id = id;\n}\npublic String getName() {\n    return name;\n}\npublic void setName(String name) {\n    this.name = name;\n}\npublic double getDiscount() {\n    return discount;\n}\npublic void setDiscount(double discount) {\n    this.discount = discount;\n}\npublic Collection&lt;Promotion&gt; getPromotions() {\n    return promotions;\n}\npublic void setPromotions(Collection&lt;Promotion&gt; promotions) {\n    this.promotions = promotions;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>and here is the mysql query</p>\n\n<pre><code> CREATE DATABASE `promotiondb`;\n\nuse promotiondb;\n\nCREATE TABLE `promoType` (\n  `promoType_id` int(11) NOT NULL AUTO_INCREMENT,\n  `name` varchar(45) NOT NULL,\n  `discount` DOUBLE NOT NULL,\n  PRIMARY KEY (`promoType_id`)\n);\n\n\nCREATE TABLE `roomType` (\n  `roomType_id` int(11) NOT NULL AUTO_INCREMENT,\n  `name` varchar(70) NOT NULL,\n   PRIMARY KEY (`roomType_id`)\n);\n\nCREATE TABLE `promotion` (\n  `id` INT NOT NULL AUTO_INCREMENT,\n  `name` VARCHAR(45) NULL,\n  `status` TINYINT(1) NULL,\n  `active` TINYINT(1) NULL,\n  `promoType_id` int(11) NOT NULL,\n  `roomType_id` int(11) NOT NULL,\n  PRIMARY KEY (`id`),\n  KEY `fk_promoType` (`promoType_id`),\n  KEY `fk_roomType` (`roomType_id`),\n  CONSTRAINT `fk_roomType` FOREIGN KEY (`roomType_id`) REFERENCES `roomType` (`roomType_id`),\n  CONSTRAINT `fk_promoType` FOREIGN KEY (`promoType_id`) REFERENCES `promoType` (`promoType_id`)\n);\n</code></pre>\n\n<p>Here is the error, SQL Error: 1054, SQLState: 42S22, Unknown column 'promotion0_.promo_type_id' in 'field list'ERROR 34768 --- [nio-8080-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unknown column 'promotion0_.promo_type_id' in 'field list'</p>\n\n<pre><code>    com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'promotion0_.promo_type_id' in 'field list'\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_121]\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source) ~[na:1.8.0_121]\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source) ~[na:1.8.0_121]\nat java.lang.reflect.Constructor.newInstance(Unknown Source) ~[na:1.8.0_121]\nat com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.41-bin.jar:5.1.41]\nat com.mysql.jdbc.Util.getInstance(Util.java:408) ~[mysql-connector-java-5.1.41-bin.jar:5.1.41]\nat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943) ~[mysql-connector-java-5.1.41-bin.jar:5.1.41]\nat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973) ~[mysql-connector-java-5.1.41-bin.jar:5.1.41]\nat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.41-bin.jar:5.1.41]\nat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.41-bin.jar:5.1.41]\nat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.41-bin.jar:5.1.41]\nat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501) ~[mysql-connector-java-5.1.41-bin.jar:5.1.41]\nat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.41-bin.jar:5.1.41]\nat com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1966) ~[mysql-connector-java-5.1.41-bin.jar:5.1.41]\nat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:70) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\nat org.hibernate.loader.Loader.getResultSet(Loader.java:2117) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\nat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1900) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\nat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1876) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\nat org.hibernate.loader.Loader.doQuery(Loader.java:919) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\nat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:336) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\nat org.hibernate.loader.Loader.doList(Loader.java:2617) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\nat org.hibernate.loader.Loader.doList(Loader.java:2600) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\nat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2429) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\nat org.hibernate.loader.Loader.list(Loader.java:2424) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\nat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:501) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\nat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:371) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\nat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:216) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\nat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1326) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\nat org.hibernate.internal.QueryImpl.list(QueryImpl.java:87) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\nat org.hibernate.jpa.internal.QueryImpl.list(QueryImpl.java:606) ~[hibernate-entitymanager-5.0.11.Final.jar:5.0.11.Final]\nat org.hibernate.jpa.internal.QueryImpl.getResultList(QueryImpl.java:483) ~[hibernate-entitymanager-5.0.11.Final.jar:5.0.11.Final]\nat org.hibernate.jpa.criteria.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:50) ~[hibernate-entitymanager-5.0.11.Final.jar:5.0.11.Final]\nat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:329) ~[spring-data-jpa-1.11.0.RELEASE.jar:na]\nat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:74) ~[spring-data-jpa-1.11.0.RELEASE.jar:na]\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_121]\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_121]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_121]\nat java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_121]\nat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.0.RELEASE.jar:na]\nat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.0.RELEASE.jar:na]\nat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.0.RELEASE.jar:na]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.0.RELEASE.jar:na]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) ~[spring-tx-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) ~[spring-tx-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) ~[spring-tx-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:133) ~[spring-data-jpa-1.11.0.RELEASE.jar:na]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.0.RELEASE.jar:na]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat com.sun.proxy.$Proxy83.findAll(Unknown Source) ~[na:na]\nat promotions.service.PromotionsService.findAll(PromotionsService.java:28) ~[classes/:na]\nat promotions.service.PromotionsService$$FastClassBySpringCGLIB$$f95c210e.invoke(&lt;generated&gt;) ~[classes/:na]\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) ~[spring-tx-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) ~[spring-tx-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) ~[spring-tx-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat promotions.service.PromotionsService$$EnhancerBySpringCGLIB$$30594b1.findAll(&lt;generated&gt;) ~[classes/:na]\nat promotions.controller.SampleRestController.allpromotions(SampleRestController.java:24) ~[classes/:na]\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_121]\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_121]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_121]\nat java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_121]\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116) ~[spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) ~[spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897) ~[spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:622) ~[servlet-api.jar:na]\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:729) ~[servlet-api.jar:na]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230) ~[catalina.jar:na]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) ~[catalina.jar:na]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-websocket.jar:8.5.6-dev]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) ~[catalina.jar:na]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) ~[catalina.jar:na]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) ~[catalina.jar:na]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) ~[catalina.jar:na]\nat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) ~[catalina.jar:na]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) ~[catalina.jar:na]\nat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) ~[catalina.jar:na]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) ~[catalina.jar:na]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) ~[catalina.jar:na]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) ~[catalina.jar:na]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[catalina.jar:na]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108) [catalina.jar:na]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472) [catalina.jar:na]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [catalina.jar:na]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79) [catalina.jar:na]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [catalina.jar:na]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349) [catalina.jar:na]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784) [tomcat-coyote.jar:8.5.6-dev]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-coyote.jar:8.5.6-dev]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802) [tomcat-coyote.jar:8.5.6-dev]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410) [tomcat-coyote.jar:8.5.6-dev]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-coyote.jar:8.5.6-dev]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_121]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_121]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-util.jar:8.5.6-dev]\nat java.lang.Thread.run(Unknown Source) [na:1.8.0_121]\n</code></pre>\n"},{"tags":["java","spring","postgresql","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665565060,"creation_date":1665565060,"answer_id":74039125,"question_id":74039091,"body_markdown":"try adding below line to your application.properties file\r\n`spring.jpa.hibernate.ddl-auto=update`","title":"org.postgresql.util.PSQLException: ERROR: relation &quot;public.[table_name]&quot; does not exist","body":"<p>try adding below line to your application.properties file\n<code>spring.jpa.hibernate.ddl-auto=update</code></p>\n"}],"owner":{"account_id":8720587,"reputation":163,"user_id":6523875,"display_name":"StudentOfTheGame"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74039125,"answer_count":1,"score":1,"last_activity_date":1665565604,"creation_date":1665564926,"question_id":74039091,"body_markdown":"I am using the following model classes:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;TableA&quot;)\r\npublic class TableA {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(nullable = false, name=&quot;Id&quot;)\r\n\tprivate BigInteger id;\r\n\t\r\n\t@OneToOne\r\n\t@JoinColumn(name = &quot;Id&quot;, referencedColumnName = &quot;Id&quot;)\r\n\tprivate TableB tableB;\r\n\t\r\n\t//Setters Getters\r\n}\r\n\r\n\r\n\r\n@Entity\r\n@Table(name = &quot;TableB&quot;)\r\npublic class TableB {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(nullable = false, name=&quot;Id&quot;)\r\n\tprivate BigInteger id;\r\n\t\r\n\t//Setters Getters\r\n}\r\n```\r\n\r\nThen the following interface and controller to create the corresponding db records:\r\n\r\n```\r\npublic interface TableARepository extends CrudRepository&lt;TableA, BigInteger&gt;{}\r\n\r\n@Transactional(rollbackFor = Exception.class)\r\n@PostMapping(value=&quot;/CreateTableA&quot;) \r\npublic void createTableA(@RequestParam String something){\r\n\tTableB tableB = new TableB();\r\n\tTableA tableA = new TableA();\r\n\ttableA.setTableB(tableB);\r\n\t\r\n\tTableARepository.save(tableA);\r\n}\r\n\r\n\r\n```\r\n\r\nI have also declared my schema at the application.properties file\r\n\r\n```\r\nspring.jpa.properties.hibernate.default_schema=public\r\n```\r\n\r\nI get the following error:\r\n\r\n```\r\norg.postgresql.util.PSQLException: ERROR: relation &quot;public.tableA&quot; does not exist\r\n```","title":"org.postgresql.util.PSQLException: ERROR: relation &quot;public.[table_name]&quot; does not exist","body":"<p>I am using the following model classes:</p>\n<pre><code>@Entity\n@Table(name = &quot;TableA&quot;)\npublic class TableA {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(nullable = false, name=&quot;Id&quot;)\n    private BigInteger id;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;Id&quot;, referencedColumnName = &quot;Id&quot;)\n    private TableB tableB;\n    \n    //Setters Getters\n}\n\n\n\n@Entity\n@Table(name = &quot;TableB&quot;)\npublic class TableB {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(nullable = false, name=&quot;Id&quot;)\n    private BigInteger id;\n    \n    //Setters Getters\n}\n</code></pre>\n<p>Then the following interface and controller to create the corresponding db records:</p>\n<pre><code>public interface TableARepository extends CrudRepository&lt;TableA, BigInteger&gt;{}\n\n@Transactional(rollbackFor = Exception.class)\n@PostMapping(value=&quot;/CreateTableA&quot;) \npublic void createTableA(@RequestParam String something){\n    TableB tableB = new TableB();\n    TableA tableA = new TableA();\n    tableA.setTableB(tableB);\n    \n    TableARepository.save(tableA);\n}\n\n\n</code></pre>\n<p>I have also declared my schema at the application.properties file</p>\n<pre><code>spring.jpa.properties.hibernate.default_schema=public\n</code></pre>\n<p>I get the following error:</p>\n<pre><code>org.postgresql.util.PSQLException: ERROR: relation &quot;public.tableA&quot; does not exist\n</code></pre>\n"},{"tags":["java","maven","swing","servlets","java-8"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1665567431,"post_id":74036944,"comment_id":130729019,"body_markdown":"This is not clear. What do you mean by &quot; in browser only&quot; As in you want to open a web browser that goes to the specific page? It seems like you don&#39;t need to use an HttpClient at all then. Do you want to use something from the [Desktop](https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/java/awt/Desktop.html#browse(java.net.URI)) to open a browser?","body":"This is not clear. What do you mean by &quot; in browser only&quot; As in you want to open a web browser that goes to the specific page? It seems like you don&#39;t need to use an HttpClient at all then. Do you want to use something from the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/java/awt/Desktop.html#browse(java.net.URI)\" rel=\"nofollow noreferrer\">Desktop</a> to open a browser?"},{"owner":{"account_id":23707782,"reputation":1,"user_id":17730045,"display_name":"ved prakash kamma"},"score":0,"creation_date":1665574285,"post_id":74036944,"comment_id":130731528,"body_markdown":"yes need to open broswer that will open specific page.  Yes, don&#39;t want to use HTTPClient . Need to use some api in java which will take url and header (header will contain auth_token). that auth_token will help to authenicate.","body":"yes need to open broswer that will open specific page.  Yes, don&#39;t want to use HTTPClient . Need to use some api in java which will take url and header (header will contain auth_token). that auth_token will help to authenicate."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1665575083,"post_id":74036944,"comment_id":130731809,"body_markdown":"I don&#39;t think you can set the header. Desktop.browse would let you use the browser to open the webpage. You might be able to get away with including url encoded data in the URI. If it is the same browser that you authenticated with, it could just be a matter of going to the webpage. I think a good place to check is with the authentication system provider, they should provide a way. Zoom works with Okta in a similar fashion. It has me open the browser, and login, then the zoom app works.","body":"I don&#39;t think you can set the header. Desktop.browse would let you use the browser to open the webpage. You might be able to get away with including url encoded data in the URI. If it is the same browser that you authenticated with, it could just be a matter of going to the webpage. I think a good place to check is with the authentication system provider, they should provide a way. Zoom works with Okta in a similar fashion. It has me open the browser, and login, then the zoom app works."},{"owner":{"account_id":23707782,"reputation":1,"user_id":17730045,"display_name":"ved prakash kamma"},"score":0,"creation_date":1665575541,"post_id":74036944,"comment_id":130731978,"body_markdown":"ok i agree with you. But don&#39;t we have any such library in java which will help us to bypass the login for user . so user will see only website after authenicate.   Or as java 8 allow us to call  javascript . so is there any possibility to have any such api either in java or javascript ?","body":"ok i agree with you. But don&#39;t we have any such library in java which will help us to bypass the login for user . so user will see only website after authenicate.   Or as java 8 allow us to call  javascript . so is there any possibility to have any such api either in java or javascript ?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1665576285,"post_id":74036944,"comment_id":130732251,"body_markdown":"Really depends on the authentication framework. I cannot tell which part you need help with. Are you trying to generate the token? Are you trying to make a browser request with the token? If you&#39;re using the same browser, then it should just be a matter of authenticating one time.","body":"Really depends on the authentication framework. I cannot tell which part you need help with. Are you trying to generate the token? Are you trying to make a browser request with the token? If you&#39;re using the same browser, then it should just be a matter of authenticating one time."},{"owner":{"account_id":23707782,"reputation":1,"user_id":17730045,"display_name":"ved prakash kamma"},"score":0,"creation_date":1665578614,"post_id":74036944,"comment_id":130733114,"body_markdown":"Trying to make a browser request with the token","body":"Trying to make a browser request with the token"}],"owner":{"account_id":23707782,"reputation":1,"user_id":17730045,"display_name":"ved prakash kamma"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665565517,"creation_date":1665553041,"question_id":74036944,"body_markdown":"Currently, **In Desktop application**, I have **Help main menu**, when user click on Help it is opening website in browser.\r\n\r\nNow we are **planning to Authenicate through some auth service in browser** and once user authenicate success, it will redirect to requested page in browser only.\r\n\r\nWe are using some third party service(we are not concern about authenicate).\r\n\r\n**Website authenicate using auth token.**\r\n\r\nSo we need to write some logic in Java to provide service url with auth token in header (**GET request**) when user click on Help link by doing this it will bypass the login form and open the requested page.\r\n\r\nCan Someone assists on this ?\r\n\r\nOnce authenicate success open website https://my.abc.com/qa/pg/1  in browser only\r\n\r\nWith below implementation,i am getting HTML Content\r\n\r\n       import java.util.Scanner;\r\n       import org.apache.http.HttpResponse;\r\n       import org.apache.http.client.methods.HttpGet;\r\n       import org.apache.http.impl.client.CloseableHttpClient;\r\n       import org.apache.http.impl.client.HttpClients;\r\n       import java.awt.Desktop;\r\n\r\n       public class GetRequest {\r\n\r\n       private static String GET_URL = &quot;https://my.abc.com/qa/pg/1&quot;;\r\n      private static String HEADER_KEY = &quot;X-Auth-Token&quot;;\r\n       private static String HEDAER_VALUE = &quot;abcdededndnndd&quot;;\r\n        public static void main(String args[]) throws Exception{\r\n  \r\n     //  Desktop.getDesktop().browser(&quot;https://my.abc.com/qa/pg/1&quot;);\r\n     \r\n      //Creating a HttpClient object\r\n      CloseableHttpClient httpclient = HttpClients.createDefault();\r\n\r\n      //Creating a HttpGet object\r\n      HttpGet httpget = new HttpGet(GET_URL);\r\n      httpget.setHeader(HEADER_KEY, HEDAER_VALUE);\r\n      \r\n      //Printing the method used\r\n      System.out.println(&quot;Request Type: &quot;+httpget.getMethod());\r\n\r\n      //Executing the Get request\r\n      HttpResponse httpresponse = httpclient.execute(httpget);\r\n      \r\n      Scanner sc = new Scanner(httpresponse.getEntity().getContent());\r\n\r\n      //Printing the status line\r\n      System.out.println(httpresponse.getStatusLine());\r\n      while(sc.hasNext()) {\r\n         System.out.println(sc.nextLine());\r\n      }\r\n      httpclient.close();\r\n     }\r\n     } \r\n\r\n","title":"Is there any way to open link in browser and auth with Some Authenicate Service and open the home page","body":"<p>Currently, <strong>In Desktop application</strong>, I have <strong>Help main menu</strong>, when user click on Help it is opening website in browser.</p>\n<p>Now we are <strong>planning to Authenicate through some auth service in browser</strong> and once user authenicate success, it will redirect to requested page in browser only.</p>\n<p>We are using some third party service(we are not concern about authenicate).</p>\n<p><strong>Website authenicate using auth token.</strong></p>\n<p>So we need to write some logic in Java to provide service url with auth token in header (<strong>GET request</strong>) when user click on Help link by doing this it will bypass the login form and open the requested page.</p>\n<p>Can Someone assists on this ?</p>\n<p>Once authenicate success open website <a href=\"https://my.abc.com/qa/pg/1\" rel=\"nofollow noreferrer\">https://my.abc.com/qa/pg/1</a>  in browser only</p>\n<p>With below implementation,i am getting HTML Content</p>\n<pre><code>   import java.util.Scanner;\n   import org.apache.http.HttpResponse;\n   import org.apache.http.client.methods.HttpGet;\n   import org.apache.http.impl.client.CloseableHttpClient;\n   import org.apache.http.impl.client.HttpClients;\n   import java.awt.Desktop;\n\n   public class GetRequest {\n\n   private static String GET_URL = &quot;https://my.abc.com/qa/pg/1&quot;;\n  private static String HEADER_KEY = &quot;X-Auth-Token&quot;;\n   private static String HEDAER_VALUE = &quot;abcdededndnndd&quot;;\n    public static void main(String args[]) throws Exception{\n\n //  Desktop.getDesktop().browser(&quot;https://my.abc.com/qa/pg/1&quot;);\n \n  //Creating a HttpClient object\n  CloseableHttpClient httpclient = HttpClients.createDefault();\n\n  //Creating a HttpGet object\n  HttpGet httpget = new HttpGet(GET_URL);\n  httpget.setHeader(HEADER_KEY, HEDAER_VALUE);\n  \n  //Printing the method used\n  System.out.println(&quot;Request Type: &quot;+httpget.getMethod());\n\n  //Executing the Get request\n  HttpResponse httpresponse = httpclient.execute(httpget);\n  \n  Scanner sc = new Scanner(httpresponse.getEntity().getContent());\n\n  //Printing the status line\n  System.out.println(httpresponse.getStatusLine());\n  while(sc.hasNext()) {\n     System.out.println(sc.nextLine());\n  }\n  httpclient.close();\n }\n } \n</code></pre>\n"},{"tags":["java","date-formatting"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1665496860,"post_id":74029392,"comment_id":130711086,"body_markdown":"Use a `DateTimeFormatter`","body":"Use a <code>DateTimeFormatter</code>"},{"owner":{"account_id":26590926,"reputation":1,"user_id":20214173,"display_name":"Claudia Nastasiu"},"score":0,"creation_date":1665497049,"post_id":74029392,"comment_id":130711164,"body_markdown":"Can you give me more details please? @Jens","body":"Can you give me more details please? @Jens"}],"answers":[{"tags":[],"owner":{"account_id":26493810,"reputation":323,"user_id":20131874,"display_name":"mmartinez04"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665510696,"creation_date":1665497980,"answer_id":74029688,"question_id":74029392,"body_markdown":"First import as needed\r\n\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n\r\nNow, you can utilize `SimpleDateFormat` and `Date`\r\n\r\n    static int countValidData(String[] arrayDate) {\r\n        \r\n            //Initialize SimpleDateFormat\r\n            SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n\r\n            formatter.setLenient(false);\r\n\r\n            int counter = 0;\r\n\r\n            for (String currentWord : arrayDate) {\r\n                \r\n                //Iterate over each possible substring of currentWord\r\n                //Our first substring will end 2 digits after the final &quot;/&quot; in the date\r\n                for (int i = currentWord.lastIndexOf(&quot;/&quot;)+2; i &lt; currentWord.length() &amp;&amp; currentWord.lastIndexOf(&quot;/&quot;) != -1; i++){\r\n                    \r\n                    try {\r\n                    \r\n                        //Try to convert substring to Date using SimpleDateFormat\r\n                        Date myDate = formatter.parse(currentWord.substring(0,i+1));\r\n                    \r\n                        //Increment counter by 1\r\n                        counter += 1;\r\n                        \r\n                        //Stop looping the currentDate\r\n                        i = currentWord.length();\r\n                    \r\n                    } catch (Exception e){\r\n                        //If an exception was thrown, the date is invalid\r\n                    } \r\n                }\r\n            }\r\n\r\n            return counter;\r\n    }\r\n\r\n**Example**\r\n\r\n    public static void main(String[] args) {\r\n\t   \r\n        String[] array = new String[3];\r\n        array[0] = &quot;01/04/2019&quot;;\r\n        array[1] = &quot;01/13/2019&quot;;\r\n        array[2] = &quot;29/02/200s&quot;;\r\n        \r\n        System.out.println(countValidData(array));\r\n        \r\n    }\r\n\r\nI also placed `System.out.println(currentWord);` immediately after `counter += 1;` to see which dates are valid\r\n\r\n**Output**\r\n\r\n    01/04/2019\r\n    29/02/200s\r\n    2","title":"Counting the right data formats","body":"<p>First import as needed</p>\n<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Date;\n</code></pre>\n<p>Now, you can utilize <code>SimpleDateFormat</code> and <code>Date</code></p>\n<pre><code>static int countValidData(String[] arrayDate) {\n    \n        //Initialize SimpleDateFormat\n        SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n\n        formatter.setLenient(false);\n\n        int counter = 0;\n\n        for (String currentWord : arrayDate) {\n            \n            //Iterate over each possible substring of currentWord\n            //Our first substring will end 2 digits after the final &quot;/&quot; in the date\n            for (int i = currentWord.lastIndexOf(&quot;/&quot;)+2; i &lt; currentWord.length() &amp;&amp; currentWord.lastIndexOf(&quot;/&quot;) != -1; i++){\n                \n                try {\n                \n                    //Try to convert substring to Date using SimpleDateFormat\n                    Date myDate = formatter.parse(currentWord.substring(0,i+1));\n                \n                    //Increment counter by 1\n                    counter += 1;\n                    \n                    //Stop looping the currentDate\n                    i = currentWord.length();\n                \n                } catch (Exception e){\n                    //If an exception was thrown, the date is invalid\n                } \n            }\n        }\n\n        return counter;\n}\n</code></pre>\n<p><strong>Example</strong></p>\n<pre><code>public static void main(String[] args) {\n   \n    String[] array = new String[3];\n    array[0] = &quot;01/04/2019&quot;;\n    array[1] = &quot;01/13/2019&quot;;\n    array[2] = &quot;29/02/200s&quot;;\n    \n    System.out.println(countValidData(array));\n    \n}\n</code></pre>\n<p>I also placed <code>System.out.println(currentWord);</code> immediately after <code>counter += 1;</code> to see which dates are valid</p>\n<p><strong>Output</strong></p>\n<pre><code>01/04/2019\n29/02/200s\n2\n</code></pre>\n"}],"owner":{"account_id":26590926,"reputation":1,"user_id":20214173,"display_name":"Claudia Nastasiu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1665565424,"creation_date":1665496712,"question_id":74029392,"body_markdown":"im stuck at a problem where i need to make a class which counts all the right data formats given to a string.\r\n\r\n**Requirement:**\r\nWrite a ValidatorDate class that contains the following public countValidData enumeration.\r\n\r\nThe method will receive as a parameter a string of Strings (String[]) and will return an int representing the number of Strings in the string that respect the format dd/mm/yyyy.\r\n\r\n**Signature:**\r\n\r\n    public static int countValidData(String[] words)\r\n\r\n**Example:**\r\n\r\n    //Your class here\r\n        public class prog {\r\n          public static void main(String[] args) {\r\n            System.out.println(ValidatorDate.countValidData(new String[]{&quot;Today&quot;, &quot;is&quot;, &quot;01/04/2019&quot;, &quot;01/13/2019&quot;,\r\n              &quot;29/02/200s&quot;}));\r\n            // 2\r\n          }\r\n        }\r\nand this is what i&#39;ve done so far\r\n\r\n        import java.text.DateFormat;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    \r\n    class ValidatorDate {\r\n        static int numaraDateValide(String[] arrayDate) {\r\n            SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n            formatter.setLenient(false);\r\n            int counter = 0;\r\n            for (String currentWord : arrayDate) {\r\n                for (int i = currentWord.lastIndexOf(&quot;/&quot;) + 2; i &lt; currentWord.length() &amp;&amp; currentWord.lastIndexOf(&quot;/&quot;) != -1; i++) {\r\n                    try {\r\n                        Date myDate = formatter.parse(currentWord.substring(0, i + 1));\r\n                        counter += 1;\r\n                        i = currentWord.length();\r\n                    } catch (Exception e) {\r\n                    }\r\n                }\r\n            }\r\n            return counter;\r\n        }\r\n    }\r\n\r\nThis code needs a fix, if i introduce for example, the following date: &quot;99/99/9999&quot; it sees it as a valid date, i dont have this &quot;only 12 months&quot; and &quot;30 or 31 days, or 28 in february&quot; implementation, can someone help me with it? Thanks in advance!\r\n\r\n**IMPORTANT**\r\n\r\nHey, so on my platform, i am given this example : &quot;&quot;Today&quot;, &quot;is&quot;, &quot;01/04/2019&quot;, &quot;01/13/2019&quot;, &quot;29/02/200s&quot; and the solution is 2, the correct answers are 01/04/2019 and 29/02/200s and now i saw that they said &quot;the code will return the number of Strings which START with a correct date and they told me to use SimpleDateFormat, sorry because i missed to say these things.\r\nProbably i need to use SimpleDateFormat because this feature sees &quot;01/04/12m1jf1&quot; as valid\r\n\r\n","title":"Counting the right data formats","body":"<p>im stuck at a problem where i need to make a class which counts all the right data formats given to a string.</p>\n<p><strong>Requirement:</strong>\nWrite a ValidatorDate class that contains the following public countValidData enumeration.</p>\n<p>The method will receive as a parameter a string of Strings (String[]) and will return an int representing the number of Strings in the string that respect the format dd/mm/yyyy.</p>\n<p><strong>Signature:</strong></p>\n<pre><code>public static int countValidData(String[] words)\n</code></pre>\n<p><strong>Example:</strong></p>\n<pre><code>//Your class here\n    public class prog {\n      public static void main(String[] args) {\n        System.out.println(ValidatorDate.countValidData(new String[]{&quot;Today&quot;, &quot;is&quot;, &quot;01/04/2019&quot;, &quot;01/13/2019&quot;,\n          &quot;29/02/200s&quot;}));\n        // 2\n      }\n    }\n</code></pre>\n<p>and this is what i've done so far</p>\n<pre><code>    import java.text.DateFormat;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\nclass ValidatorDate {\n    static int numaraDateValide(String[] arrayDate) {\n        SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n        formatter.setLenient(false);\n        int counter = 0;\n        for (String currentWord : arrayDate) {\n            for (int i = currentWord.lastIndexOf(&quot;/&quot;) + 2; i &lt; currentWord.length() &amp;&amp; currentWord.lastIndexOf(&quot;/&quot;) != -1; i++) {\n                try {\n                    Date myDate = formatter.parse(currentWord.substring(0, i + 1));\n                    counter += 1;\n                    i = currentWord.length();\n                } catch (Exception e) {\n                }\n            }\n        }\n        return counter;\n    }\n}\n</code></pre>\n<p>This code needs a fix, if i introduce for example, the following date: &quot;99/99/9999&quot; it sees it as a valid date, i dont have this &quot;only 12 months&quot; and &quot;30 or 31 days, or 28 in february&quot; implementation, can someone help me with it? Thanks in advance!</p>\n<p><strong>IMPORTANT</strong></p>\n<p>Hey, so on my platform, i am given this example : &quot;&quot;Today&quot;, &quot;is&quot;, &quot;01/04/2019&quot;, &quot;01/13/2019&quot;, &quot;29/02/200s&quot; and the solution is 2, the correct answers are 01/04/2019 and 29/02/200s and now i saw that they said &quot;the code will return the number of Strings which START with a correct date and they told me to use SimpleDateFormat, sorry because i missed to say these things.\nProbably i need to use SimpleDateFormat because this feature sees &quot;01/04/12m1jf1&quot; as valid</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":5490196,"reputation":670,"user_id":4363776,"accept_rate":100,"display_name":"David Gomes"},"score":0,"creation_date":1646684154,"post_id":71386680,"comment_id":126180291,"body_markdown":"Check if &quot;$JAVA_HOME/bin&quot; is in your `echo $PATH` and try running `java -version` without root","body":"Check if &quot;$JAVA_HOME/bin&quot; is in your <code>echo $PATH</code> and try running <code>java -version</code> without root"},{"owner":{"account_id":4312800,"reputation":2232,"user_id":3523464,"accept_rate":88,"display_name":"sdgaw erzswer"},"score":0,"creation_date":1646715550,"post_id":71386680,"comment_id":126186549,"body_markdown":"`java --version` works fine, `/usr/lib/jvm/java-17-openjdk-amd64/bin` is present if `echo $PATH`","body":"<code>java --version</code> works fine, <code>&#47;usr&#47;lib&#47;jvm&#47;java-17-openjdk-amd64&#47;bin</code> is present if <code>echo $PATH</code>"}],"answers":[{"tags":[],"owner":{"account_id":4312800,"reputation":2232,"user_id":3523464,"accept_rate":88,"display_name":"sdgaw erzswer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646817037,"creation_date":1646817037,"answer_id":71406827,"question_id":71386680,"body_markdown":"Solved this by having a custom installation of maven, linked to Jenv. If you are doing this, be careful to:\r\n1. have matching Java versions (double check this)\r\n2. No JDK collisions\r\n3. permissions ok\r\n4. MVN recognizes JDK/bin/java as executable","title":"Maven works only if run as sudo","body":"<p>Solved this by having a custom installation of maven, linked to Jenv. If you are doing this, be careful to:</p>\n<ol>\n<li>have matching Java versions (double check this)</li>\n<li>No JDK collisions</li>\n<li>permissions ok</li>\n<li>MVN recognizes JDK/bin/java as executable</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8009016,"reputation":21,"user_id":6182118,"display_name":"Naf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665565411,"creation_date":1665565411,"answer_id":74039202,"question_id":71386680,"body_markdown":"If anyone else finds this looking for a solution, check your home directory for a .mavenrc file with it&#39;s own JAVA_HOME definition.\r\n\r\nThat&#39;s what I found with similar symptoms: https://stackoverflow.com/questions/73986675/maven-insists-java-home-is-not-defined-correctly-unless-i-run-it-as-sudo/","title":"Maven works only if run as sudo","body":"<p>If anyone else finds this looking for a solution, check your home directory for a .mavenrc file with it's own JAVA_HOME definition.</p>\n<p>That's what I found with similar symptoms: <a href=\"https://stackoverflow.com/questions/73986675/maven-insists-java-home-is-not-defined-correctly-unless-i-run-it-as-sudo/\">Maven insists JAVA_HOME is not defined correctly, unless I run it as sudo</a></p>\n"}],"owner":{"account_id":4312800,"reputation":2232,"user_id":3523464,"accept_rate":88,"display_name":"sdgaw erzswer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665565411,"creation_date":1646683587,"question_id":71386680,"body_markdown":"I&#39;ve been recently trying to set-up a java-env on an Ubuntu machine. My current problem is that maven won&#39;t pick up the `JAVA_HOME` as executable, and consequently fails:\r\n\r\n```\r\n$ JAVA_HOME=&quot;/usr/lib/jvm/java-17-openjdk-amd64&quot;\r\n$ mvn -v\r\n/usr/lib/jvm/java-17-oracle/bin/java\r\nThe JAVA_HOME environment variable is not defined correctly\r\nThis environment variable is needed to run this program\r\nNB: JAVA_HOME should point to a JDK not a JRE\r\n```\r\n\r\nIf I run `mvn` as sudo, the Java is found normally:\r\n\r\n```\r\n$ sudo mvn -v\r\n/usr/bin/java\r\nApache Maven 3.6.3\r\nMaven home: /usr/share/maven\r\nJava version: 17.0.1, vendor: Private Build, runtime: /usr/lib/jvm/java-17-openjdk-amd64\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;5.13.0-30-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n\r\n```\r\n\r\nI would prefer not to use the privileges, as it can cause down-stream problems. I was wondering whether this is a known issue that can be solved? \r\n\r\nThanks","title":"Maven works only if run as sudo","body":"<p>I've been recently trying to set-up a java-env on an Ubuntu machine. My current problem is that maven won't pick up the <code>JAVA_HOME</code> as executable, and consequently fails:</p>\n<pre><code>$ JAVA_HOME=&quot;/usr/lib/jvm/java-17-openjdk-amd64&quot;\n$ mvn -v\n/usr/lib/jvm/java-17-oracle/bin/java\nThe JAVA_HOME environment variable is not defined correctly\nThis environment variable is needed to run this program\nNB: JAVA_HOME should point to a JDK not a JRE\n</code></pre>\n<p>If I run <code>mvn</code> as sudo, the Java is found normally:</p>\n<pre><code>$ sudo mvn -v\n/usr/bin/java\nApache Maven 3.6.3\nMaven home: /usr/share/maven\nJava version: 17.0.1, vendor: Private Build, runtime: /usr/lib/jvm/java-17-openjdk-amd64\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;5.13.0-30-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n\n</code></pre>\n<p>I would prefer not to use the privileges, as it can cause down-stream problems. I was wondering whether this is a known issue that can be solved?</p>\n<p>Thanks</p>\n"},{"tags":["java","arrays","kotlin","hyperledger-fabric"],"answers":[{"tags":[],"owner":{"account_id":10273330,"reputation":5868,"user_id":7581078,"accept_rate":67,"display_name":"david_k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665435883,"creation_date":1665435883,"answer_id":74020657,"question_id":74018809,"body_markdown":"When using the contract api in your chaincode implementation it uses JSON as the serialisation mechanism and thus expects information sent from the client to be in stringified JSON format. \r\n\r\nThe client sdks don&#39;t do this for you as for example you can write chaincode without the contract api and define your own serialiation mechanism. \r\n\r\nWith the line  \r\n```\r\n        contract!!.submitTransaction(\r\n            &quot;testLimitSet&quot;, tl.toByteArray()\r\n        )\r\n```\r\nyou are sending an array of bytes as the string which won&#39;t mean anything to a JSON Parser. You need to convert `tl.toByteArray()` into a stringified JSON representation of that data, for example a stringified JSON representation of an array with bytes 01,02,03 might look like\r\n&#39;[&quot;\\\\u0001&quot;,&quot;\\\\u0002&quot;,&quot;\\\\u0003&quot;]&#39;\r\n\r\nHowever I am not really familiar with the java chaincode libraries so whether this will actually work I don&#39;t know given that the JSON representation allows for values larger that bytes and that may cause the contract api to deserialize the JSON into something that isn&#39;t type compatible with what you declare on your chaincode ie `testLimit: ByteArray` you may need to change the type or perhaps send the binary data in a different manner, for example encode it as a base64 string then send a string instead","title":"[Hyperledger Fabric][Kotlin] Passing client request parameters as ByteArray to chaincode","body":"<p>When using the contract api in your chaincode implementation it uses JSON as the serialisation mechanism and thus expects information sent from the client to be in stringified JSON format.</p>\n<p>The client sdks don't do this for you as for example you can write chaincode without the contract api and define your own serialiation mechanism.</p>\n<p>With the line</p>\n<pre><code>        contract!!.submitTransaction(\n            &quot;testLimitSet&quot;, tl.toByteArray()\n        )\n</code></pre>\n<p>you are sending an array of bytes as the string which won't mean anything to a JSON Parser. You need to convert <code>tl.toByteArray()</code> into a stringified JSON representation of that data, for example a stringified JSON representation of an array with bytes 01,02,03 might look like\n'[&quot;\\u0001&quot;,&quot;\\u0002&quot;,&quot;\\u0003&quot;]'</p>\n<p>However I am not really familiar with the java chaincode libraries so whether this will actually work I don't know given that the JSON representation allows for values larger that bytes and that may cause the contract api to deserialize the JSON into something that isn't type compatible with what you declare on your chaincode ie <code>testLimit: ByteArray</code> you may need to change the type or perhaps send the binary data in a different manner, for example encode it as a base64 string then send a string instead</p>\n"},{"tags":[],"owner":{"account_id":1931154,"reputation":453,"user_id":1740515,"accept_rate":29,"display_name":"Adr3nl"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665565363,"creation_date":1665565363,"answer_id":74039194,"question_id":74018809,"body_markdown":"I&#39;ve solved the problem by creating a string representation of the ByteArray. It is not the solution i originally wanted, but it works well nevertheless. I still find it strange to the SDK to provide this method: \r\n\r\n    byte[] submitTransaction(String name, byte[]... args) \r\n\r\nand im not able to use it because it doesn&#39;t reach the chaincode endpoint with the problem described above.\r\nMy solution uses this instead:\r\n\r\n    byte[] submitTransaction(String name, String[]... args) \r\n\r\nHere is my current solution:\r\n\r\n    val tl = MyClass()\r\n    tl.machineKey = &quot;machineHashKey&quot;\r\n    val path = File(&quot;/var/cenas.txt&quot;)\r\n    tl.loadFileFromPath(path.toPath())\r\n       \r\n    try {\r\n        val payload = tl.toByteArrayString()\r\n        contract!!.submitTransaction(\r\n            &quot;testLimitSet&quot;, payload\r\n        )\r\n    }catch (e: Exception){\r\n        printException(e)\r\n    }finally {\r\n        println(&quot;*** Transaction completed&quot;)\r\n    }\r\n\r\nWhere:\r\n\r\n    fun toByteArrayString(): String {\r\n        return toHexString(this.toByteArray())\r\n    }\r\n\r\n    // String &lt;- Hex(ByteArray)\r\n    fun toHexString(ba: ByteArray): String {\r\n        return BaseEncoding.base16().encode(ba)\r\n    }\r\n\r\n    // String -&gt; Hex(ByteArray)\r\n    fun toByteArray(s: String): ByteArray {\r\n        return BaseEncoding.base16().decode(s)\r\n    }\r\n\r\nNote that this is using \r\n\r\n    import com.google.common.io.BaseEncoding\r\n\r\nbut there are multiple implementations that can be used for this\r\n\r\n\r\n","title":"[Hyperledger Fabric][Kotlin] Passing client request parameters as ByteArray to chaincode","body":"<p>I've solved the problem by creating a string representation of the ByteArray. It is not the solution i originally wanted, but it works well nevertheless. I still find it strange to the SDK to provide this method:</p>\n<pre><code>byte[] submitTransaction(String name, byte[]... args) \n</code></pre>\n<p>and im not able to use it because it doesn't reach the chaincode endpoint with the problem described above.\nMy solution uses this instead:</p>\n<pre><code>byte[] submitTransaction(String name, String[]... args) \n</code></pre>\n<p>Here is my current solution:</p>\n<pre><code>val tl = MyClass()\ntl.machineKey = &quot;machineHashKey&quot;\nval path = File(&quot;/var/cenas.txt&quot;)\ntl.loadFileFromPath(path.toPath())\n   \ntry {\n    val payload = tl.toByteArrayString()\n    contract!!.submitTransaction(\n        &quot;testLimitSet&quot;, payload\n    )\n}catch (e: Exception){\n    printException(e)\n}finally {\n    println(&quot;*** Transaction completed&quot;)\n}\n</code></pre>\n<p>Where:</p>\n<pre><code>fun toByteArrayString(): String {\n    return toHexString(this.toByteArray())\n}\n\n// String &lt;- Hex(ByteArray)\nfun toHexString(ba: ByteArray): String {\n    return BaseEncoding.base16().encode(ba)\n}\n\n// String -&gt; Hex(ByteArray)\nfun toByteArray(s: String): ByteArray {\n    return BaseEncoding.base16().decode(s)\n}\n</code></pre>\n<p>Note that this is using</p>\n<pre><code>import com.google.common.io.BaseEncoding\n</code></pre>\n<p>but there are multiple implementations that can be used for this</p>\n"}],"owner":{"account_id":1931154,"reputation":453,"user_id":1740515,"accept_rate":29,"display_name":"Adr3nl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665565363,"creation_date":1665423735,"question_id":74018809,"body_markdown":"I&#39;ve been recently working with Hyperledger Fabric using kotlin as a development language. I have the local test network fully working and after some time i have pretty good understanding on how everything works. However, im still stuck passing arguments to the chaincode as Strings because every time i try to pass objects as ByteArrays it implodes somehow along the way before it reaches my chaincode method. Here is a sample of the client sending the data and the chaincode entrypoint:\r\n\r\nClient\r\n\r\n        val tl = MyClass()\r\n        tl.machineKey = &quot;machineHashKey&quot;\r\n        val path = File(&quot;/var/cenas.txt&quot;)\r\n        tl.loadFileFromPath(path.toPath())\r\n       \r\n        try {\r\n            contract!!.submitTransaction(\r\n                &quot;testLimitSet&quot;, tl.toByteArray()\r\n            )\r\n        }catch (e: Exception){\r\n            printException(e)\r\n        }finally {\r\n            println(&quot;*** Transaction completed&quot;)\r\n        }\r\n\r\n\r\nChainCode:\r\n\r\n    @Transaction(intent = Transaction.TYPE.SUBMIT)\r\n    fun testLimitSet(ctx: Context, testLimit: ByteArray){\r\n        println(&quot;Here 1!&quot;)\r\n        val id = IdentityChecks.checkIdentity(ctx)\r\n        println(&quot;Here 2!&quot;)\r\n        val x509 = id.second\r\n        println(&quot;Here 3!&quot;)\r\n    }\r\n\r\nMyClass simply contains 2 text fields and 1 byteArray.\r\nI&#39;ve already managed to serialize it and deserialize it locally.\r\n\r\nThe log on the chaincode machine is the following:\r\n\r\n    Thread[fabric-txinvoke:3,5,main] 16:39:28:613 INFO    org.hyperledger.fabric.contract.ContractRouter processRequest                    Got routing:testLimitSet:pt.fraunhofer.newgen.chaincode.NewGenMainContract\r\n    Thread[fabric-txinvoke:3,5,main] 16:39:28:625 SEVERE  org.hyperledger.fabric.Logger error                                              A JSONArray text must start with &#39;[&#39; at 1 [character 2 line 1]org.json.JSONException: A JSONArray text must start with &#39;[&#39; at 1 [character 2 line 1]\r\n    at org.json.JSONTokener.syntaxError(JSONTokener.java:507)\r\n    at org.json.JSONArray.&lt;init&gt;(JSONArray.java:109)\r\n    at org.json.JSONArray.&lt;init&gt;(JSONArray.java:162)\r\n    at org.hyperledger.fabric.contract.execution.JSONTransactionSerializer.convert(JSONTransactionSerializer.java:267)\r\n    at org.hyperledger.fabric.contract.execution.JSONTransactionSerializer.fromBuffer(JSONTransactionSerializer.java:165)\r\n    at org.hyperledger.fabric.contract.execution.impl.ContractExecutionService.convertArgs(ContractExecutionService.java:99)\r\n    at org.hyperledger.fabric.contract.execution.impl.ContractExecutionService.executeRequest(ContractExecutionService.java:57)\r\n    at org.hyperledger.fabric.contract.ContractRouter.processRequest(ContractRouter.java:123)\r\n    at org.hyperledger.fabric.contract.ContractRouter.invoke(ContractRouter.java:134)\r\n    at org.hyperledger.fabric.shim.impl.ChaincodeInvocationTask.call(ChaincodeInvocationTask.java:106)\r\n    at org.hyperledger.fabric.shim.impl.InvocationTaskManager.lambda$newTask$17(InvocationTaskManager.java:265)\r\n    at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1736)\r\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    at java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\nI think im most likely using the ByteArray arguments improperly. But i haven&#39;t found any chaincode examples in java/kotlin receiving data as ByteArrays.\r\n\r\nThanks in advance\r\n","title":"[Hyperledger Fabric][Kotlin] Passing client request parameters as ByteArray to chaincode","body":"<p>I've been recently working with Hyperledger Fabric using kotlin as a development language. I have the local test network fully working and after some time i have pretty good understanding on how everything works. However, im still stuck passing arguments to the chaincode as Strings because every time i try to pass objects as ByteArrays it implodes somehow along the way before it reaches my chaincode method. Here is a sample of the client sending the data and the chaincode entrypoint:</p>\n<p>Client</p>\n<pre><code>    val tl = MyClass()\n    tl.machineKey = &quot;machineHashKey&quot;\n    val path = File(&quot;/var/cenas.txt&quot;)\n    tl.loadFileFromPath(path.toPath())\n   \n    try {\n        contract!!.submitTransaction(\n            &quot;testLimitSet&quot;, tl.toByteArray()\n        )\n    }catch (e: Exception){\n        printException(e)\n    }finally {\n        println(&quot;*** Transaction completed&quot;)\n    }\n</code></pre>\n<p>ChainCode:</p>\n<pre><code>@Transaction(intent = Transaction.TYPE.SUBMIT)\nfun testLimitSet(ctx: Context, testLimit: ByteArray){\n    println(&quot;Here 1!&quot;)\n    val id = IdentityChecks.checkIdentity(ctx)\n    println(&quot;Here 2!&quot;)\n    val x509 = id.second\n    println(&quot;Here 3!&quot;)\n}\n</code></pre>\n<p>MyClass simply contains 2 text fields and 1 byteArray.\nI've already managed to serialize it and deserialize it locally.</p>\n<p>The log on the chaincode machine is the following:</p>\n<pre><code>Thread[fabric-txinvoke:3,5,main] 16:39:28:613 INFO    org.hyperledger.fabric.contract.ContractRouter processRequest                    Got routing:testLimitSet:pt.fraunhofer.newgen.chaincode.NewGenMainContract\nThread[fabric-txinvoke:3,5,main] 16:39:28:625 SEVERE  org.hyperledger.fabric.Logger error                                              A JSONArray text must start with '[' at 1 [character 2 line 1]org.json.JSONException: A JSONArray text must start with '[' at 1 [character 2 line 1]\nat org.json.JSONTokener.syntaxError(JSONTokener.java:507)\nat org.json.JSONArray.&lt;init&gt;(JSONArray.java:109)\nat org.json.JSONArray.&lt;init&gt;(JSONArray.java:162)\nat org.hyperledger.fabric.contract.execution.JSONTransactionSerializer.convert(JSONTransactionSerializer.java:267)\nat org.hyperledger.fabric.contract.execution.JSONTransactionSerializer.fromBuffer(JSONTransactionSerializer.java:165)\nat org.hyperledger.fabric.contract.execution.impl.ContractExecutionService.convertArgs(ContractExecutionService.java:99)\nat org.hyperledger.fabric.contract.execution.impl.ContractExecutionService.executeRequest(ContractExecutionService.java:57)\nat org.hyperledger.fabric.contract.ContractRouter.processRequest(ContractRouter.java:123)\nat org.hyperledger.fabric.contract.ContractRouter.invoke(ContractRouter.java:134)\nat org.hyperledger.fabric.shim.impl.ChaincodeInvocationTask.call(ChaincodeInvocationTask.java:106)\nat org.hyperledger.fabric.shim.impl.InvocationTaskManager.lambda$newTask$17(InvocationTaskManager.java:265)\nat java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1736)\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\nat java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>I think im most likely using the ByteArray arguments improperly. But i haven't found any chaincode examples in java/kotlin receiving data as ByteArrays.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1663270605,"post_id":73735438,"comment_id":130206371,"body_markdown":"Maybe a `@MappedSuperclass` and two different empty entities that extends `Orders` with two different schema?","body":"Maybe a <code>@MappedSuperclass</code> and two different empty entities that extends <code>Orders</code> with two different schema?"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664212548,"creation_date":1664212548,"answer_id":73857657,"question_id":73735438,"body_markdown":"What you are looking for is called schema based multitenancy. See the Hibernate documentation about how you can configure this: https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#multitenacy-separate-schema","title":"Dynamic Schema for the same table in Spring JPA?","body":"<p>What you are looking for is called schema based multitenancy. See the Hibernate documentation about how you can configure this: <a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#multitenacy-separate-schema\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#multitenacy-separate-schema</a></p>\n"},{"tags":[],"owner":{"account_id":13331423,"reputation":391,"user_id":10441871,"display_name":"Shyam Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665565322,"creation_date":1665565322,"answer_id":74039186,"question_id":73735438,"body_markdown":"You could use multitenancy in your project, \r\n\r\nA good documentation you can find on [baeldung][1]\r\n\r\n  [1]: https://www.baeldung.com/multitenancy-with-spring-data-jpa\r\n\r\nI hope it helps!","title":"Dynamic Schema for the same table in Spring JPA?","body":"<p>You could use multitenancy in your project,</p>\n<p>A good documentation you can find on <a href=\"https://www.baeldung.com/multitenancy-with-spring-data-jpa\" rel=\"nofollow noreferrer\">baeldung</a></p>\n<p>I hope it helps!</p>\n"}],"owner":{"account_id":10845289,"reputation":103,"user_id":7975022,"display_name":"Bishwajit Vikram"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1427,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1665565322,"creation_date":1663263943,"question_id":73735438,"body_markdown":"I have a table Orders.\r\nEntity Class\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;orders&quot;, schema = &quot;myschema&quot;)\r\npublic class Orders {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer id;\r\n\tprivate String name;\r\n\r\n\tpublic Integer getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(Integer id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nNow I want the schema should change dynamically during runtime.\r\nI have two different Schema(public and myschema) in the database(Postgres SQL), both have the same table, but based on the condition it should call the schema.\r\nIs there a way to do it?\r\n\r\nThis is my JPA class\r\n```\r\npublic interface OrdersRepository extends JpaRepository&lt;Orders, Integer&gt; {\r\n\r\n\t@Query(value = &quot;SELECT * From  secondpublic.orders&quot;, nativeQuery = true)\r\n\tpublic List&lt;Orders&gt; findAllSecondOrders();\r\n\r\n\t@Query(value = &quot;SELECT * From public.orders&quot;, nativeQuery = true)\r\n\tpublic List&lt;Orders&gt; findAllPublicOrders();\r\n}\r\n```\r\n\r\nController class\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/orders&quot;)\r\npublic class OrdersController {\r\n\t\r\n\t@Autowired\r\n\tprivate OrdersRepository ordersRepo;\r\n\r\n\t@Value(&quot;${name}&quot;)\r\n\tprivate String name;\r\n\t\r\n\t@GetMapping()\r\n\tpublic List&lt;Orders&gt; getEmployees(@RequestParam String mode) {\r\n\t\treturn ordersRepo.findAll();\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\nBased on some condition, schema should be variable/dynamic.\r\n\r\n@Table(name = &quot;orders&quot;, schema = &quot;{myschema}&quot;)\r\n","title":"Dynamic Schema for the same table in Spring JPA?","body":"<p>I have a table Orders.\nEntity Class</p>\n<pre><code>@Entity\n@Table(name = &quot;orders&quot;, schema = &quot;myschema&quot;)\npublic class Orders {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    private String name;\n\n    public Integer getId() {\n        return id;\n    }\n    public void setId(Integer id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n\n}\n</code></pre>\n<p>Now I want the schema should change dynamically during runtime.\nI have two different Schema(public and myschema) in the database(Postgres SQL), both have the same table, but based on the condition it should call the schema.\nIs there a way to do it?</p>\n<p>This is my JPA class</p>\n<pre><code>public interface OrdersRepository extends JpaRepository&lt;Orders, Integer&gt; {\n\n    @Query(value = &quot;SELECT * From  secondpublic.orders&quot;, nativeQuery = true)\n    public List&lt;Orders&gt; findAllSecondOrders();\n\n    @Query(value = &quot;SELECT * From public.orders&quot;, nativeQuery = true)\n    public List&lt;Orders&gt; findAllPublicOrders();\n}\n</code></pre>\n<p>Controller class</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/orders&quot;)\npublic class OrdersController {\n    \n    @Autowired\n    private OrdersRepository ordersRepo;\n\n    @Value(&quot;${name}&quot;)\n    private String name;\n    \n    @GetMapping()\n    public List&lt;Orders&gt; getEmployees(@RequestParam String mode) {\n        return ordersRepo.findAll();\n    }\n}\n</code></pre>\n<p>Based on some condition, schema should be variable/dynamic.</p>\n<p>@Table(name = &quot;orders&quot;, schema = &quot;{myschema}&quot;)</p>\n"},{"tags":["java","rabbitmq"],"comments":[{"owner":{"account_id":17263784,"reputation":1860,"user_id":12501050,"display_name":"Muhammadzohir Rustamov"},"score":0,"creation_date":1665565480,"post_id":74039164,"comment_id":130728282,"body_markdown":"Does this answer your question? [How to access a value defined in the application.properties file in Spring Boot](https://stackoverflow.com/questions/30528255/how-to-access-a-value-defined-in-the-application-properties-file-in-spring-boot)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/30528255/how-to-access-a-value-defined-in-the-application-properties-file-in-spring-boot\">How to access a value defined in the application.properties file in Spring Boot</a>"},{"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"score":0,"creation_date":1665565522,"post_id":74039164,"comment_id":130728300,"body_markdown":"Hi, try to remove outer curly braces from `{&quot;${queue.name}&quot;}` so it will look like this: `&quot;${queue.name}&quot;`","body":"Hi, try to remove outer curly braces from <code>{&quot;${queue.name}&quot;}</code> so it will look like this: <code>&quot;${queue.name}&quot;</code>"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1665566611,"post_id":74039164,"comment_id":130728675,"body_markdown":"@artiomi I doubt that &#39;ll solve it, though. Pierre, are you sure that that is the properties file used?","body":"@artiomi I doubt that &#39;ll solve it, though. Pierre, are you sure that that is the properties file used?"}],"owner":{"account_id":26598649,"reputation":1,"user_id":20220587,"display_name":"Pierre"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665565246,"creation_date":1665565246,"question_id":74039164,"body_markdown":"I have an error with this code, I can&#39;t find a functional solution.\r\n\r\n    @RabbitListener(queues = {&quot;${queue.name}&quot;}) \r\n    public void receive(@Payload String payload) {\r\n    \ttry {\r\n    \t\tAlert temp = new ObjectMapper().readValue(payload, Alert.class);\r\n        \tif(temp != null) {\r\n            \tint idTemp = temp.getId();\r\n            \twhile(verifyID(idTemp) != -1) {\r\n            \t\tidTemp++;\r\n            \t}\r\n            \ttemp.setId(idTemp);\r\n            \talertArray.add(temp);\r\n        \t}\r\n    \t} catch(IOException e) {\r\n    \t\t\r\n    \t}\r\n\r\n    }\r\napplication.properties :\r\n```\r\nspring.rabbitmq.host=localhost\r\nspring.rabbitmq.port=5672\r\nspring.rabbitmq.username=guest\r\nspring.rabbitmq.password=guest\r\nqueue.name=test\r\n```\r\n\r\nError : \r\n```\r\nCaused by: java.lang.IllegalArgumentException: Could not resolve placeholder &#39;queue.name&#39; in value &quot;${queue.name}&quot;\r\n```\r\n","title":"Could not resolve placeholder &#39;queue.name&#39; in value &quot;${queue.name}&quot;","body":"<p>I have an error with this code, I can't find a functional solution.</p>\n<pre><code>@RabbitListener(queues = {&quot;${queue.name}&quot;}) \npublic void receive(@Payload String payload) {\n    try {\n        Alert temp = new ObjectMapper().readValue(payload, Alert.class);\n        if(temp != null) {\n            int idTemp = temp.getId();\n            while(verifyID(idTemp) != -1) {\n                idTemp++;\n            }\n            temp.setId(idTemp);\n            alertArray.add(temp);\n        }\n    } catch(IOException e) {\n        \n    }\n\n}\n</code></pre>\n<p>application.properties :</p>\n<pre><code>spring.rabbitmq.host=localhost\nspring.rabbitmq.port=5672\nspring.rabbitmq.username=guest\nspring.rabbitmq.password=guest\nqueue.name=test\n</code></pre>\n<p>Error :</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'queue.name' in value &quot;${queue.name}&quot;\n</code></pre>\n"},{"tags":["java","ocr","apache-tika"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1665501416,"post_id":74029734,"comment_id":130712878,"body_markdown":"Can you pass in a Tika Config XML file?","body":"Can you pass in a Tika Config XML file?"},{"owner":{"account_id":2495843,"reputation":11,"user_id":2172266,"display_name":"K Hanchett"},"score":0,"creation_date":1665502999,"post_id":74029734,"comment_id":130713443,"body_markdown":"I don&#39;t use one due to the ACCELQ integration","body":"I don&#39;t use one due to the ACCELQ integration"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1665508865,"post_id":74029734,"comment_id":130715485,"body_markdown":"Are you able to create your own `TikaConfig` object, or does your framework give you that too? (Sorry, I know Tika, never heard of ACCELQ....)","body":"Are you able to create your own <code>TikaConfig</code> object, or does your framework give you that too? (Sorry, I know Tika, never heard of ACCELQ....)"},{"owner":{"account_id":2495843,"reputation":11,"user_id":2172266,"display_name":"K Hanchett"},"score":0,"creation_date":1665580893,"post_id":74029734,"comment_id":130734114,"body_markdown":"Yes I believe I could use a TikaConfig.  I may be mistaken, but it seemed like it was still looking for the tesseract.exe.  If it doesn&#39;t it sounds like that may be my only solution.","body":"Yes I believe I could use a TikaConfig.  I may be mistaken, but it seemed like it was still looking for the tesseract.exe.  If it doesn&#39;t it sounds like that may be my only solution."}],"owner":{"account_id":2495843,"reputation":11,"user_id":2172266,"display_name":"K Hanchett"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665564671,"creation_date":1665498209,"question_id":74029734,"body_markdown":"*This is my first question, so apologies if it&#39;s missing anything.*\r\n\r\nI am using a product called ACCELQ and importing my own Java code using user extensions to create a custom ACCELQ command.  When doing this only the *.java program is submitted to the user extensions.  I&#39;m using Tika to accomplish this.\r\n- Everything works smoothly on my local machine. I get the expected string of values I expect to see.\r\n- I create a runnable jar file and I can use this by running from a command line in ACCELQ.  Problem is it&#39;s super slow and a user extension is the way to speed it up.\r\n- I&#39;ve created the Java code to execute, there is no OCR needed, this is just for an Excel file raw data extraction. (long story but this is the only option POI doesn&#39;t work for opening the file).\r\n- Creating the java code, I used the Tika-app.jar (2.4.1)\r\n\r\n**The problem:**  When running from ACCELQ I get this error:  \r\n&gt; org.apache.tika.parser.external.ExternalParser - exception trying to run  tesseract.exe\r\njava.io.IOException: Cannot run program &quot;tesseract.exe&quot;: CreateProcess error=2, The system cannot find the file specified.\r\n\r\nThe tesseract.exe file is not on my local machine that I can see (unless it&#39;s here by default somewhere I don&#39;t know).  If this was wrapped in the Tika-app API then ACCELQ would have it too, so I don&#39;t believe it is there.\r\n\r\nI&#39;ve scoured the web and basically I&#39;m trying to find how to not have OCR engaged.  From what I can read it needs the Tesseract.exe file installed regardless if you want to turn it off/on?  Not sure if this is true.  \r\n\r\n**So my ask is this:**\r\n- Can I do this without installing Tesseract.exe?  If so how do I avoid this error.\r\n- If I absolutely have to install this, then where does the file need to reside?\r\n  - I still need to disengage OCR so how to do this so it runs optimally?\r\n\r\nI&#39;m trying to keep this basic program light and fast as possible without having to load a bunch of unnecessary things.\r\n\r\n**What I&#39;ve tried**\r\n- I&#39;ve basically combed through the Apache site here:  https://cwiki.apache.org/confluence/display/tika/tikaocr \r\n- I cannot use Maven since this is only using one *.java file that needs to be formatted a certain way for ACCELQ to pull into their commands.\r\n- I&#39;ve tried using the Parser and Facade route with Tika, but it still tries to use tesseract.exe. it errors at \r\n  - Facade:  `content = tika.parseToString(is); `\r\n  - Parser:  `Parser parser = new AutoDetectParser();`\r\n```java\r\nTesseractOCRConfig config = new TesseractOCRConfig();\r\nconfig.setSkipOcr(true);\r\nParseContext context = new ParseContext();\r\ncontext.set(TesseractOCRConfig.class, config);\r\n\r\nParser parser = new AutoDetectParser();\r\nparser.parse(inputStream, handler, metadata, context);\r\n```\r\n- The following 2 methods are the ones I&#39;ve tried and both give errors at the parser line.\r\n```java\r\nprivate static String extractContentUsingParser(InputStream is) {\r\n\tBodyContentHandler handler = new BodyContentHandler();\r\n\tMetadata metadata = new Metadata();\r\n\tParser parser = new AutoDetectParser();\r\n\r\n\ttry {\r\n\t\tParseContext context = new ParseContext();\r\n\t\tparser.parse(is, handler, metadata, context);\r\n\t} catch (IOException | TikaException | SAXException e) {\r\n\t\tSystem.out.println(&quot;ERROR extractContentUsingParser routine:  Tika parse caused an error&quot;);\r\n\t}\r\n\treturn handler.toString();\r\n}\r\n    \r\npublic static String extractContentUsingFacade(InputStream is) {\r\n\tTika tika = new Tika();\r\n\tString content = &quot;&quot;;\r\n\ttry {\r\n\t\tcontent = tika.parseToString(is);\r\n\t} catch (IOException | TikaException e) {\r\n\t\tSystem.out.println(&quot;ERROR extractContentUsingFacade routine:  Tika parse caused an error&quot;);\r\n\t}\r\n\treturn content;\r\n}\r\n```","title":"Using Tika for Excel data extraction, getting Tesseract.exe not found error. Not using OCR","body":"<p><em>This is my first question, so apologies if it's missing anything.</em></p>\n<p>I am using a product called ACCELQ and importing my own Java code using user extensions to create a custom ACCELQ command.  When doing this only the *.java program is submitted to the user extensions.  I'm using Tika to accomplish this.</p>\n<ul>\n<li>Everything works smoothly on my local machine. I get the expected string of values I expect to see.</li>\n<li>I create a runnable jar file and I can use this by running from a command line in ACCELQ.  Problem is it's super slow and a user extension is the way to speed it up.</li>\n<li>I've created the Java code to execute, there is no OCR needed, this is just for an Excel file raw data extraction. (long story but this is the only option POI doesn't work for opening the file).</li>\n<li>Creating the java code, I used the Tika-app.jar (2.4.1)</li>\n</ul>\n<p><strong>The problem:</strong>  When running from ACCELQ I get this error:</p>\n<blockquote>\n<p>org.apache.tika.parser.external.ExternalParser - exception trying to run  tesseract.exe\njava.io.IOException: Cannot run program &quot;tesseract.exe&quot;: CreateProcess error=2, The system cannot find the file specified.</p>\n</blockquote>\n<p>The tesseract.exe file is not on my local machine that I can see (unless it's here by default somewhere I don't know).  If this was wrapped in the Tika-app API then ACCELQ would have it too, so I don't believe it is there.</p>\n<p>I've scoured the web and basically I'm trying to find how to not have OCR engaged.  From what I can read it needs the Tesseract.exe file installed regardless if you want to turn it off/on?  Not sure if this is true.</p>\n<p><strong>So my ask is this:</strong></p>\n<ul>\n<li>Can I do this without installing Tesseract.exe?  If so how do I avoid this error.</li>\n<li>If I absolutely have to install this, then where does the file need to reside?\n<ul>\n<li>I still need to disengage OCR so how to do this so it runs optimally?</li>\n</ul>\n</li>\n</ul>\n<p>I'm trying to keep this basic program light and fast as possible without having to load a bunch of unnecessary things.</p>\n<p><strong>What I've tried</strong></p>\n<ul>\n<li>I've basically combed through the Apache site here:  <a href=\"https://cwiki.apache.org/confluence/display/tika/tikaocr\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/tika/tikaocr</a></li>\n<li>I cannot use Maven since this is only using one *.java file that needs to be formatted a certain way for ACCELQ to pull into their commands.</li>\n<li>I've tried using the Parser and Facade route with Tika, but it still tries to use tesseract.exe. it errors at\n<ul>\n<li>Facade:  <code>content = tika.parseToString(is); </code></li>\n<li>Parser:  <code>Parser parser = new AutoDetectParser();</code></li>\n</ul>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>TesseractOCRConfig config = new TesseractOCRConfig();\nconfig.setSkipOcr(true);\nParseContext context = new ParseContext();\ncontext.set(TesseractOCRConfig.class, config);\n\nParser parser = new AutoDetectParser();\nparser.parse(inputStream, handler, metadata, context);\n</code></pre>\n<ul>\n<li>The following 2 methods are the ones I've tried and both give errors at the parser line.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>private static String extractContentUsingParser(InputStream is) {\n    BodyContentHandler handler = new BodyContentHandler();\n    Metadata metadata = new Metadata();\n    Parser parser = new AutoDetectParser();\n\n    try {\n        ParseContext context = new ParseContext();\n        parser.parse(is, handler, metadata, context);\n    } catch (IOException | TikaException | SAXException e) {\n        System.out.println(&quot;ERROR extractContentUsingParser routine:  Tika parse caused an error&quot;);\n    }\n    return handler.toString();\n}\n    \npublic static String extractContentUsingFacade(InputStream is) {\n    Tika tika = new Tika();\n    String content = &quot;&quot;;\n    try {\n        content = tika.parseToString(is);\n    } catch (IOException | TikaException e) {\n        System.out.println(&quot;ERROR extractContentUsingFacade routine:  Tika parse caused an error&quot;);\n    }\n    return content;\n}\n</code></pre>\n"},{"tags":["java","android","regex"],"comments":[{"owner":{"account_id":4042004,"reputation":13550,"user_id":3324556,"accept_rate":97,"display_name":"Kevin Kopf"},"score":0,"creation_date":1477801536,"post_id":40325879,"comment_id":67907409,"body_markdown":"[How to ask questions on Stack Overflow](http://stackoverflow.com/help/asking)","body":"<a href=\"http://stackoverflow.com/help/asking\">How to ask questions on Stack Overflow</a>"},{"owner":{"account_id":7183623,"reputation":384,"user_id":5486521,"display_name":"kajahno"},"score":0,"creation_date":1478868334,"post_id":40325879,"comment_id":68334877,"body_markdown":"More than suggesting, good to try something first and see what happens","body":"More than suggesting, good to try something first and see what happens"}],"answers":[{"tags":[],"owner":{"account_id":7183623,"reputation":384,"user_id":5486521,"display_name":"kajahno"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1477802713,"creation_date":1477802713,"answer_id":40326087,"question_id":40325879,"body_markdown":"&gt; It should consist of 4-7 numbers\r\n\r\nAs you mentioned this one&#39;s trivial:\r\n\r\n    ^[0-9]{4,7}$\r\n\r\n&gt; It should not have consecutive numbers like 1111\r\n\r\nThis one just check that there is **no** match for:\r\n\r\n    ([0-9])\\1+\r\n\r\n - Matches the same text as the previously matching group ([0-9]), more than 1 times (starting with duplicates of two numbers). If you have a more specific repetition criteria just use brackets as in first case.\r\n\r\n&gt; It should not have sequential numbers like 1234\r\n\r\nI believe pretty much all regex engines do not perform numeric comparisons within the actual symbols matched. More info [here][1]. I&#39;d try to use something else than regex for this, for example *a simple for loop starting from the second element comparing if the previous element is the current element plus one*. O(n)\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8880088/regular-expression-to-match-3-or-more-consecutive-sequential-characters-and-cons","title":"Regular expression for without consecutive or sequential digits","body":"<blockquote>\n  <p>It should consist of 4-7 numbers</p>\n</blockquote>\n\n<p>As you mentioned this one's trivial:</p>\n\n<pre><code>^[0-9]{4,7}$\n</code></pre>\n\n<blockquote>\n  <p>It should not have consecutive numbers like 1111</p>\n</blockquote>\n\n<p>This one just check that there is <strong>no</strong> match for:</p>\n\n<pre><code>([0-9])\\1+\n</code></pre>\n\n<ul>\n<li>Matches the same text as the previously matching group ([0-9]), more than 1 times (starting with duplicates of two numbers). If you have a more specific repetition criteria just use brackets as in first case.</li>\n</ul>\n\n<blockquote>\n  <p>It should not have sequential numbers like 1234</p>\n</blockquote>\n\n<p>I believe pretty much all regex engines do not perform numeric comparisons within the actual symbols matched. More info <a href=\"https://stackoverflow.com/questions/8880088/regular-expression-to-match-3-or-more-consecutive-sequential-characters-and-cons\">here</a>. I'd try to use something else than regex for this, for example <em>a simple for loop starting from the second element comparing if the previous element is the current element plus one</em>. O(n)</p>\n"},{"tags":[],"owner":{"account_id":315980,"reputation":10348,"user_id":631911,"display_name":"Tatarize"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1477803855,"creation_date":1477803855,"answer_id":40326163,"question_id":40325879,"body_markdown":"Use two sets of regex. Use one to match the obvious things like 1111|2222|3333|4444|5555|6666|7777|8888|9999|0000|1234|2345|3456|4567... and force fail. Then do the easy mode: &#39;^[0-9]{4,7}$&#39;\r\n\r\nYour problem is trying to do it all on one regex. Search positively for the exclusions and for the permitted bits.","title":"Regular expression for without consecutive or sequential digits","body":"<p>Use two sets of regex. Use one to match the obvious things like 1111|2222|3333|4444|5555|6666|7777|8888|9999|0000|1234|2345|3456|4567... and force fail. Then do the easy mode: '^[0-9]{4,7}$'</p>\n\n<p>Your problem is trying to do it all on one regex. Search positively for the exclusions and for the permitted bits.</p>\n"},{"tags":[],"owner":{"account_id":3796857,"reputation":89,"user_id":3151648,"display_name":"Belhe001"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623008802,"creation_date":1477931098,"answer_id":40346348,"question_id":40325879,"body_markdown":"Don&#39;t use regex.\r\n\r\nAlgo &gt; \r\n\r\n 1. stop if input is not number.\r\n\r\n (try catch)\r\n\r\n 2. convert input str to number and array of number.\r\n```java    \r\n   str.split(&quot;&quot;);\r\n\r\n   Integer.parseInt(str); \r\n```\r\n\r\n 3. use number to check range 4-7.\r\n\r\n `(num&gt;1111 &amp;&amp; num&lt;9999999)`\r\n\r\n 4. use array to check consecutive &amp; sequential numbers.\r\n\r\n```java\r\n if (numarr[i] + 1 != numarr[i + 1]) {//Not sequential}\r\n\r\n if (numarr[i]     != numarr[i + 1]) {//Not repeated}\r\n```\r\n\r\n 5. print decisions.\r\n\r\n```java\r\n    public class myjava {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString str;\r\n    \t\tstr = &quot;12346a&quot;;\r\n    \t\tstr = &quot;12345&quot;;\r\n    \t\tstr = &quot;22222&quot;;\r\n    \t\tstr = &quot;12346&quot;;\r\n    \t\ttry{\r\n    \t\t\tint num = Integer.parseInt(str);\r\n    \t\t\tint[] numarr= getarr(str);\t\t\t\r\n    \t\t\tif((num &gt; 1111 &amp;&amp; num &lt; 9999999) &amp;&amp; !issequential(numarr) &amp;&amp; !isrepeated(numarr) ){\r\n    \t\t\t\tSystem.out.println(&quot;valid user:&quot;+num);\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\tSystem.out.println(&quot;Invalid user:&quot;+num);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tcatch(java.lang.NumberFormatException e){\r\n    \t\t\tSystem.err.println(&quot;ID is not number :&quot;+e);\r\n    \t\t}\r\n    \t}\r\n    \tprivate static boolean isrepeated(int[] numarr) {\r\n    \t\tfor (int i = 0; i &lt; numarr.length - 1; i++) {\r\n    \t\t\tif (numarr[i] != numarr[i + 1]) {\r\n    \t\t\t\tSystem.out.println(&quot;Not repeated&quot;);\r\n    \t\t\t\treturn false; }\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;repeated&quot;);\r\n    \t\treturn true;\r\n    \t}\r\n    \tprivate static boolean issequential(int[] numarr) {\r\n    \t\tfor (int i = 0; i &lt; numarr.length - 1; i++) {\r\n    \t\t\tif (numarr[i] + 1 != numarr[i + 1]) {\r\n    \t\t\t\tSystem.out.println(&quot;Not sequential&quot;);\r\n    \t\t\t\treturn false; }\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;sequential&quot;);\r\n    \t\treturn true;\r\n    \t}\r\n    \tprivate static int[] getarr(String str) {\r\n    \t\tString[] strarr = str.split(&quot;&quot;);\r\n    \t\tint[] intarr = new int[str.length()];\r\n    \t\tfor(int i=0;i &lt; strarr.length;i++) intarr[i]=Integer.parseInt(strarr[i]);\r\n    \t\treturn intarr;\r\n    \t}\r\n    }\r\n```\r\n","title":"Regular expression for without consecutive or sequential digits","body":"<p>Don't use regex.</p>\n<p>Algo &gt;</p>\n<ol>\n<li>stop if input is not number.</li>\n</ol>\n<p>(try catch)</p>\n<ol start=\"2\">\n<li>convert input str to number and array of number.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>   str.split(&quot;&quot;);\n\n   Integer.parseInt(str); \n</code></pre>\n<ol start=\"3\">\n<li>use number to check range 4-7.</li>\n</ol>\n<p><code>(num&gt;1111 &amp;&amp; num&lt;9999999)</code></p>\n<ol start=\"4\">\n<li>use array to check consecutive &amp; sequential numbers.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code> if (numarr[i] + 1 != numarr[i + 1]) {//Not sequential}\n\n if (numarr[i]     != numarr[i + 1]) {//Not repeated}\n</code></pre>\n<ol start=\"5\">\n<li>print decisions.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    public class myjava {\n        public static void main(String[] args) {\n            String str;\n            str = &quot;12346a&quot;;\n            str = &quot;12345&quot;;\n            str = &quot;22222&quot;;\n            str = &quot;12346&quot;;\n            try{\n                int num = Integer.parseInt(str);\n                int[] numarr= getarr(str);          \n                if((num &gt; 1111 &amp;&amp; num &lt; 9999999) &amp;&amp; !issequential(numarr) &amp;&amp; !isrepeated(numarr) ){\n                    System.out.println(&quot;valid user:&quot;+num);\n                }\n                else {\n                    System.out.println(&quot;Invalid user:&quot;+num);\n                }\n            }\n            catch(java.lang.NumberFormatException e){\n                System.err.println(&quot;ID is not number :&quot;+e);\n            }\n        }\n        private static boolean isrepeated(int[] numarr) {\n            for (int i = 0; i &lt; numarr.length - 1; i++) {\n                if (numarr[i] != numarr[i + 1]) {\n                    System.out.println(&quot;Not repeated&quot;);\n                    return false; }\n            }\n            System.out.println(&quot;repeated&quot;);\n            return true;\n        }\n        private static boolean issequential(int[] numarr) {\n            for (int i = 0; i &lt; numarr.length - 1; i++) {\n                if (numarr[i] + 1 != numarr[i + 1]) {\n                    System.out.println(&quot;Not sequential&quot;);\n                    return false; }\n            }\n            System.out.println(&quot;sequential&quot;);\n            return true;\n        }\n        private static int[] getarr(String str) {\n            String[] strarr = str.split(&quot;&quot;);\n            int[] intarr = new int[str.length()];\n            for(int i=0;i &lt; strarr.length;i++) intarr[i]=Integer.parseInt(strarr[i]);\n            return intarr;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11164162,"reputation":103,"user_id":8193334,"display_name":"Fawaz Ashraf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665564556,"creation_date":1665564556,"answer_id":74039007,"question_id":40325879,"body_markdown":"You can use the following regular expression to avoid sequential digits:-\r\n\r\n    ^(?!.*([0-9])\\\\1{2})[0-9]{6,}\\$\r\n\r\nThis is assuming you want atleast 6 digits and that you can have sequential digits upto a length of 2. Let me break this up for you:-\r\n\r\n`(?!.*([0-9])\\1{2})` makes sure that none of the chars repeat more than twice in a row. If you do not want even 2 consecutive digits, then remove {2} from this part.\r\n\r\n`[0-9]{6,}` looks for atleast 6 digits\r\n\r\nAs for the consecutive numbers part, I don&#39;t have a proper solution for that. You may use\r\n\r\n    &quot;^(?!.*012)(?!.*123)(?!.*234)(?!.*345)(?!.*456)(?!.*567)(?!.*678)(?!.*789)(?!.*([0-9])\\\\1{2})(?=.*\\\\d)[0-9]{6}\\$&quot;\r\n   ","title":"Regular expression for without consecutive or sequential digits","body":"<p>You can use the following regular expression to avoid sequential digits:-</p>\n<pre><code>^(?!.*([0-9])\\\\1{2})[0-9]{6,}\\$\n</code></pre>\n<p>This is assuming you want atleast 6 digits and that you can have sequential digits upto a length of 2. Let me break this up for you:-</p>\n<p><code>(?!.*([0-9])\\1{2})</code> makes sure that none of the chars repeat more than twice in a row. If you do not want even 2 consecutive digits, then remove {2} from this part.</p>\n<p><code>[0-9]{6,}</code> looks for atleast 6 digits</p>\n<p>As for the consecutive numbers part, I don't have a proper solution for that. You may use</p>\n<pre><code>&quot;^(?!.*012)(?!.*123)(?!.*234)(?!.*345)(?!.*456)(?!.*567)(?!.*678)(?!.*789)(?!.*([0-9])\\\\1{2})(?=.*\\\\d)[0-9]{6}\\$&quot;\n</code></pre>\n"}],"owner":{"account_id":1521547,"reputation":419,"user_id":1421042,"accept_rate":54,"display_name":"ashok reddy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7688,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":4,"score":0,"last_activity_date":1665564556,"creation_date":1477799325,"question_id":40325879,"body_markdown":"I want to validate my user input to meet below criteria.\r\nIt should consist of 4-7 numbers\r\nIt should not have consecutive numbers like 1111\r\nIt should not have sequential numbers like 1234\r\n\r\nwe can apply the range 4-7 by using {4,7} but not sure about remaining conditions.\r\n\r\nCould you please suggest how can we achieve this for java \r\n\r\n","title":"Regular expression for without consecutive or sequential digits","body":"<p>I want to validate my user input to meet below criteria.\nIt should consist of 4-7 numbers\nIt should not have consecutive numbers like 1111\nIt should not have sequential numbers like 1234</p>\n\n<p>we can apply the range 4-7 by using {4,7} but not sure about remaining conditions.</p>\n\n<p>Could you please suggest how can we achieve this for java </p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":5951263,"reputation":4554,"user_id":4679143,"accept_rate":80,"display_name":"Soniya Mohan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665564192,"creation_date":1665564192,"answer_id":74038932,"question_id":74026289,"body_markdown":"A version updation of hibernate worked for me!\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n        &lt;version&gt;5.6.10.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"while deploy in tomcat - No bean named &#39;entityManagerFactory&#39; available","body":"<p>A version updation of hibernate worked for me!</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;5.6.10.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":5951263,"reputation":4554,"user_id":4679143,"accept_rate":80,"display_name":"Soniya Mohan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74038932,"answer_count":1,"score":-1,"last_activity_date":1665564287,"creation_date":1665482340,"question_id":74026289,"body_markdown":"While deploying project to tomcat I got this error,but with sts ide all works perfectly. spoiled my 2days :(\r\n.\r\n\r\n     org.apache.catalina.startup.HostConfig.deployWAR Error deploying web application archive [F:\\Softwares\\apache-tomcat-9.0.58\\webapps\\PRInspection.war]\r\n        java.lang.IllegalStateException: Error starting child\r\n                at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:729)\r\n                at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n                at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\r\n                at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1024)\r\n                at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1911)\r\n                at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n                at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n                at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n                at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:112)\r\n                at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:825)\r\n                at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:475)\r\n                at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618)\r\n                at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\r\n                at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n                at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\n                at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\n                at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946)\r\n                at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\r\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n                at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n                at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n                at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n                at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n                at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\r\n                at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n                at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\r\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n                at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\r\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n                at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927)\r\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n                at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n                at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n                at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n                at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n                at java.lang.reflect.Method.invoke(Method.java:498)\r\n                at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\r\n                at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\n        Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/PRInspection]]\r\n                at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n                at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n                ... 37 more\r\n        Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;mainController&#39;: Unsatisfied dependency expressed through field &#39;newScheduleService&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;newScheduleService&#39;: Unsatisfied dependency expressed through field &#39;newScheduleRepository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;INewScheduleRepository&#39; defined in com.eoffice.PRInspection.repository.INewScheduleRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean &#39;(inner bean)#3ee9eaa7&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#3ee9eaa7&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n                at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)\r\n                at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\r\n                at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n                at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n                at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n                at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n                at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n                at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n                at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\r\n                at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n                at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n                at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\r\n                at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\r\n                at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\r\n                at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n                at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:175)\r\n                at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:155)\r\n                at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97)\r\n                at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174)\r\n                at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5219)\r\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n                ... 38 more\r\n        Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;newScheduleService&#39;: Unsatisfied dependency expressed through field &#39;newScheduleRepository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;INewScheduleRepository&#39; defined in com.eoffice.PRInspection.repository.INewScheduleRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean &#39;(inner bean)#3ee9eaa7&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#3ee9eaa7&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n                at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)\r\n                at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\r\n                at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n                at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n                at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n                at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n                at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n                at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n                at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n                at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\r\n                at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\r\n                at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\r\n                ... 61 more\r\n        Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;INewScheduleRepository&#39; defined in com.eoffice.PRInspection.repository.INewScheduleRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean &#39;(inner bean)#3ee9eaa7&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#3ee9eaa7&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n                at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:389)\r\n                at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:134)\r\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707)\r\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452)\r\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n                at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n                at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n                at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n                at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n                at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n                at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\r\n                at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\r\n                at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\r\n                ... 75 more\r\n        Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#3ee9eaa7&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n                at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342)\r\n                at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113)\r\n                at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)\r\n                at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:510)\r\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n                at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:374)\r\n                ... 88 more\r\n        Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n                at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:872)\r\n                at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1344)\r\n                at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:309)\r\n                at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n                at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330)\r\n                ... 96 more\r\n\r\n\r\n\r\n**pom.xml**\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.4&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.eoffice&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;PRInspection&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;PRInspection&lt;/name&gt;\r\n    \t&lt;description&gt;PRInspection Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.tomcat/tomcat-jasper --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;9.0.62&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt; &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt; \r\n    \t\t\t&lt;/dependency&gt; --&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.6.5.Final&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-annotations --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-annotations&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.5.6-Final&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-devtools --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.6.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/javax.servlet/jstl --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.3&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.9.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-configuration&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-configuration&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.9&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;PRInspection&lt;/finalName&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"while deploy in tomcat - No bean named &#39;entityManagerFactory&#39; available","body":"<p>While deploying project to tomcat I got this error,but with sts ide all works perfectly. spoiled my 2days :(\n.</p>\n<pre><code> org.apache.catalina.startup.HostConfig.deployWAR Error deploying web application archive [F:\\Softwares\\apache-tomcat-9.0.58\\webapps\\PRInspection.war]\n    java.lang.IllegalStateException: Error starting child\n            at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:729)\n            at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n            at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\n            at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1024)\n            at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1911)\n            at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n            at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n            at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n            at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:112)\n            at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:825)\n            at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:475)\n            at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618)\n            at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\n            at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n            at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\n            at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\n            at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946)\n            at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n            at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n            at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n            at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n            at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n            at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\n            at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n            at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n            at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n            at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927)\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n            at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n            at java.lang.reflect.Method.invoke(Method.java:498)\n            at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\n            at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/PRInspection]]\n            at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n            at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n            ... 37 more\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mainController': Unsatisfied dependency expressed through field 'newScheduleService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'newScheduleService': Unsatisfied dependency expressed through field 'newScheduleRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'INewScheduleRepository' defined in com.eoffice.PRInspection.repository.INewScheduleRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#3ee9eaa7' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#3ee9eaa7': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\n            at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\n            at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\n            at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n            at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:175)\n            at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:155)\n            at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97)\n            at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174)\n            at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5219)\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n            ... 38 more\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'newScheduleService': Unsatisfied dependency expressed through field 'newScheduleRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'INewScheduleRepository' defined in com.eoffice.PRInspection.repository.INewScheduleRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#3ee9eaa7' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#3ee9eaa7': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\n            at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n            at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\n            ... 61 more\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'INewScheduleRepository' defined in com.eoffice.PRInspection.repository.INewScheduleRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#3ee9eaa7' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#3ee9eaa7': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n            at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:389)\n            at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:134)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n            at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\n            ... 75 more\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#3ee9eaa7': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n            at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342)\n            at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113)\n            at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)\n            at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:510)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n            at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:374)\n            ... 88 more\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:872)\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1344)\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:309)\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n            at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330)\n            ... 96 more\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.eoffice&lt;/groupId&gt;\n    &lt;artifactId&gt;PRInspection&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;PRInspection&lt;/name&gt;\n    &lt;description&gt;PRInspection Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.tomcat/tomcat-jasper --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\n            &lt;version&gt;9.0.62&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt; &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt; \n            &lt;/dependency&gt; --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.6.5.Final&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-annotations --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-annotations&lt;/artifactId&gt;\n            &lt;version&gt;3.5.6-Final&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-devtools --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet/jstl --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.3&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-configuration&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-configuration&lt;/artifactId&gt;\n            &lt;version&gt;1.9&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;PRInspection&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","bluetooth","android-bluetooth","rfcomm"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1665597214,"post_id":74038896,"comment_id":130740433,"body_markdown":"Try looking at [Android Bluetooth API connect to multiple devices](https://stackoverflow.com/questions/4468658/android-bluetooth-api-connect-to-multiple-devices).","body":"Try looking at <a href=\"https://stackoverflow.com/questions/4468658/android-bluetooth-api-connect-to-multiple-devices\">Android Bluetooth API connect to multiple devices</a>."}],"owner":{"account_id":25239978,"reputation":21,"user_id":19073973,"display_name":"Michel Guth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1665564217,"creation_date":1665564026,"question_id":74038896,"body_markdown":"I am currently working on an application that requires the use of classic Bluetooth to transfer data between smartphones by making multiple connections. What do I mean by multiple connections? A device can maintain a Bluetooth connection with at least 2 devices at the same time and more if possible.&lt;br&gt;&lt;br&gt;\r\nI read in the [Android documentation](https://developer.android.com/guide/topics/connectivity/bluetooth) dedicated to setting up a connection through RFCOMM channels that it is possible to set up multiple connections and use multiple channels. Everything suggests that multiple connections are possible. The problem is that at no point does the documentation indicate how this can be done: the [example provided by Android](https://github.com/android/connectivity-samples/tree/master/BluetoothChat) on the classic Bluetooth only allows one connection at a time.&lt;br&gt;&lt;br&gt;\r\nTherefore, I wonder:\r\n&gt;Should another UUID be set up using a different socket?&lt;br&gt;\r\n&gt;Can a device connect using a socket already in use?&lt;br&gt;\r\n&gt;How many simultaneous connections can be set up?","title":"How can we set up multiple classic Bluetooth connections simultaneously?","body":"<p>I am currently working on an application that requires the use of classic Bluetooth to transfer data between smartphones by making multiple connections. What do I mean by multiple connections? A device can maintain a Bluetooth connection with at least 2 devices at the same time and more if possible.<br><br>\nI read in the <a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth\" rel=\"nofollow noreferrer\">Android documentation</a> dedicated to setting up a connection through RFCOMM channels that it is possible to set up multiple connections and use multiple channels. Everything suggests that multiple connections are possible. The problem is that at no point does the documentation indicate how this can be done: the <a href=\"https://github.com/android/connectivity-samples/tree/master/BluetoothChat\" rel=\"nofollow noreferrer\">example provided by Android</a> on the classic Bluetooth only allows one connection at a time.<br><br>\nTherefore, I wonder:</p>\n<blockquote>\n<p>Should another UUID be set up using a different socket?<br>\nCan a device connect using a socket already in use?<br>\nHow many simultaneous connections can be set up?</p>\n</blockquote>\n"},{"tags":["java","spring","postgresql","spring-data-jpa"],"comments":[{"owner":{"display_name":"user330315"},"score":3,"creation_date":1664723694,"post_id":73926962,"comment_id":130532372,"body_markdown":"https://wiki.postgresql.org/wiki/Don&#39;t_Do_This#Don.27t_use_upper_case_table_or_column_names","body":"<a href=\"https://wiki.postgresql.org/wiki/Don&#39;t_Do_This#Don.27t_use_upper_case_table_or_column_names\" rel=\"nofollow noreferrer\">wiki.postgresql.org/wiki/&hellip;</a>"},{"owner":{"account_id":10335627,"reputation":13845,"user_id":7623856,"display_name":"Belayer"},"score":0,"creation_date":1664731603,"post_id":73926962,"comment_id":130534166,"body_markdown":"Postgres knows nothing about @column syntax - it does not exist. If your obscurification language (spring) does not put the column in double quotes (&quot;) then Postgres [folds it to lower case](https://www.postgresql.org/docs/current/sql-syntax-lexical.html). See post by \na_horse_with_no_name.","body":"Postgres knows nothing about @column syntax - it does not exist. If your obscurification language (spring) does not put the column in double quotes (&quot;) then Postgres <a href=\"https://www.postgresql.org/docs/current/sql-syntax-lexical.html\" rel=\"nofollow noreferrer\">folds it to lower case</a>. See post by  a_horse_with_no_name."}],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665045504,"creation_date":1665045504,"answer_id":73970854,"question_id":73926962,"body_markdown":"Try to use\r\n\r\n    @Column(name=&quot;`MYUPCASECOLUMN`&quot;)\r\n\r\nImportant is the `-charcter.","title":"Postgres spring jpa column with uppercase error","body":"<p>Try to use</p>\n<pre><code>@Column(name=&quot;`MYUPCASECOLUMN`&quot;)\n</code></pre>\n<p>Important is the `-charcter.</p>\n"},{"tags":[],"owner":{"account_id":13331423,"reputation":391,"user_id":10441871,"display_name":"Shyam Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665564131,"creation_date":1665564131,"answer_id":74038924,"question_id":73926962,"body_markdown":"Identifiers (including column names) that are not double-quoted are folded to lowercase in PostgreSQL. Column names that were created with double-quotes and thereby retained uppercase letters (and/or other syntax violations) have to be double-quoted for the rest of their life:\r\n\r\n```\r\n&quot;first_Name&quot;\r\n```\r\nValues (string literals / constants) are enclosed in single quotes:\r\n```\r\n&#39;xyz&#39;\r\n```\r\n\r\nYou can also check this [documentation][1]\r\n\r\nI hope, it helps!\r\n\r\n  [1]: https://www.postgresql.org/docs/current/sql-syntax-lexical.html#SQL-SYNTAX-IDENTIFIERS","title":"Postgres spring jpa column with uppercase error","body":"<p>Identifiers (including column names) that are not double-quoted are folded to lowercase in PostgreSQL. Column names that were created with double-quotes and thereby retained uppercase letters (and/or other syntax violations) have to be double-quoted for the rest of their life:</p>\n<pre><code>&quot;first_Name&quot;\n</code></pre>\n<p>Values (string literals / constants) are enclosed in single quotes:</p>\n<pre><code>'xyz'\n</code></pre>\n<p>You can also check this <a href=\"https://www.postgresql.org/docs/current/sql-syntax-lexical.html#SQL-SYNTAX-IDENTIFIERS\" rel=\"nofollow noreferrer\">documentation</a></p>\n<p>I hope, it helps!</p>\n"}],"owner":{"account_id":23623466,"reputation":1,"user_id":17656332,"display_name":"Harshini R"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":720,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665564131,"creation_date":1664723596,"question_id":73926962,"body_markdown":"My POSTGRESQL table column in Uppercase and in entity i mentioned colume name with uppercase using @column but it gives error as column doesnt exists ? Posgress doesn&#39;t support @column with uppercase value","title":"Postgres spring jpa column with uppercase error","body":"<p>My POSTGRESQL table column in Uppercase and in entity i mentioned colume name with uppercase using @column but it gives error as column doesnt exists ? Posgress doesn't support @column with uppercase value</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":26552100,"reputation":470,"user_id":20181249,"display_name":"Sandeep Kumar Nat"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1665564075,"creation_date":1665563386,"answer_id":74038757,"question_id":74038693,"body_markdown":"This is your choice:)\r\n\r\nSpring Security provides OOTB support for the CSRF token and its enabled by default. We dont need any specific steps to enable this feature, however, you can disable this feature by csrf().disable() in your Spring security config class.\r\n\r\n\r\nWe should activate the Spring security CSRF for the following use cases:\r\n\r\n1. If a normal user triggers the request.\r\n2. In case its processed by browser.\r\n\r\nWe can disable this in case a client other than browser or user start and process the request.\r\n\r\nIn the case of Rest API, I suggest not using it.\r\n\r\nBut Enabling CSRF is recommended when using REST APIs with cookies for authentication. If your REST API uses the WCToken or WCTrustedToken tokens for authentication, then additional CSRF protection is not required.\r\n\r\nCSRF is a type of malicious attack that tricks a user into sending unintended requests to modify data when only cookies are used for authentication. For example, an attacker can trick an authenticated user into clicking a link that updates their personal information without their knowledge. In such an example, an unprotected HCL Commerce site would accept this request as valid, as proper session cookies exist as part of the request.\r\n\r\nHowever, when CSRF protection is enabled, a special HTTP header, called WCAuthToken, is required as part of the request. If the token is expected, its value must be equal to the authToken request attribute set by the store runtime.\r\n\r\n","title":"Is CSRF token require for Rest API in Spring boot","body":"<p>This is your choice:)</p>\n<p>Spring Security provides OOTB support for the CSRF token and its enabled by default. We dont need any specific steps to enable this feature, however, you can disable this feature by csrf().disable() in your Spring security config class.</p>\n<p>We should activate the Spring security CSRF for the following use cases:</p>\n<ol>\n<li>If a normal user triggers the request.</li>\n<li>In case its processed by browser.</li>\n</ol>\n<p>We can disable this in case a client other than browser or user start and process the request.</p>\n<p>In the case of Rest API, I suggest not using it.</p>\n<p>But Enabling CSRF is recommended when using REST APIs with cookies for authentication. If your REST API uses the WCToken or WCTrustedToken tokens for authentication, then additional CSRF protection is not required.</p>\n<p>CSRF is a type of malicious attack that tricks a user into sending unintended requests to modify data when only cookies are used for authentication. For example, an attacker can trick an authenticated user into clicking a link that updates their personal information without their knowledge. In such an example, an unprotected HCL Commerce site would accept this request as valid, as proper session cookies exist as part of the request.</p>\n<p>However, when CSRF protection is enabled, a special HTTP header, called WCAuthToken, is required as part of the request. If the token is expected, its value must be equal to the authToken request attribute set by the store runtime.</p>\n"},{"tags":[],"owner":{"account_id":13331423,"reputation":391,"user_id":10441871,"display_name":"Shyam Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665563387,"creation_date":1665563387,"answer_id":74038760,"question_id":74038693,"body_markdown":"No, I don&#39;t think you would need csrf token in REST APIs,\r\n\r\nYou just need to enable httpBasic() in your filterChain.\r\n\r\nwhile in postman, you just need to select BasicAuth and provide your auth details\r\n\r\ndon&#39;t forget to add some peace of code below.\r\n```\r\nYOUR_ANTMATCHERS\r\n.formLogin()\r\n.and()\r\n.httpBasic()\r\n.and()\r\n.logout(LogoutConfigurer::permitAll)\r\n.build();\r\n```\r\n\r\nI hope, it helps!","title":"Is CSRF token require for Rest API in Spring boot","body":"<p>No, I don't think you would need csrf token in REST APIs,</p>\n<p>You just need to enable httpBasic() in your filterChain.</p>\n<p>while in postman, you just need to select BasicAuth and provide your auth details</p>\n<p>don't forget to add some peace of code below.</p>\n<pre><code>YOUR_ANTMATCHERS\n.formLogin()\n.and()\n.httpBasic()\n.and()\n.logout(LogoutConfigurer::permitAll)\n.build();\n</code></pre>\n<p>I hope, it helps!</p>\n"}],"owner":{"account_id":20549176,"reputation":153,"user_id":15082243,"display_name":"Study Planet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2509,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74038757,"answer_count":2,"score":0,"last_activity_date":1665564075,"creation_date":1665563132,"question_id":74038693,"body_markdown":"I am creating a Rest API using Spring boot on back-end and React js on frontend . I have a login form on React , should I enable csrf token on login/register form or not .\r\n\r\nAfter user logs in that user will get access token which I will store in memory in React and Refresh token in http only secure cookies . Should I use CSRF token here as well .\r\n\r\nWhenever access token expires I will send a request to refresh token route using axios interceptors after that if refresh token is valid then I will get a new pair of access and refresh token . \r\n\r\nFrontend is running on localhost:3000 , I have configured cors on backend only allowing request from origin localhost:3000 .\r\n\r\nShould I use CSRF token .","title":"Is CSRF token require for Rest API in Spring boot","body":"<p>I am creating a Rest API using Spring boot on back-end and React js on frontend . I have a login form on React , should I enable csrf token on login/register form or not .</p>\n<p>After user logs in that user will get access token which I will store in memory in React and Refresh token in http only secure cookies . Should I use CSRF token here as well .</p>\n<p>Whenever access token expires I will send a request to refresh token route using axios interceptors after that if refresh token is valid then I will get a new pair of access and refresh token .</p>\n<p>Frontend is running on localhost:3000 , I have configured cors on backend only allowing request from origin localhost:3000 .</p>\n<p>Should I use CSRF token .</p>\n"},{"tags":["java","jvm","thread-dump","jcmd"],"comments":[{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1665778525,"post_id":74038730,"comment_id":130786057,"body_markdown":"Are you sure the version of the class loaded in the JVM matches your local version of the class? Are there any bytecode instrumentation agents used in the application? Try to [extract](https://github.com/apangin/class-file-extractor) the class from the loaded JVM, disassemble it and see what bytecode corresponds to the line number 546.","body":"Are you sure the version of the class loaded in the JVM matches your local version of the class? Are there any bytecode instrumentation agents used in the application? Try to <a href=\"https://github.com/apangin/class-file-extractor\" rel=\"nofollow noreferrer\">extract</a> the class from the loaded JVM, disassemble it and see what bytecode corresponds to the line number 546."},{"owner":{"account_id":7909307,"reputation":409,"user_id":5973816,"display_name":"Poison"},"score":0,"creation_date":1665849238,"post_id":74038730,"comment_id":130797222,"body_markdown":"@apangin The version is matched, there is indeed an Agent, [Arthas](https://github.com/alibaba/arthas) was watching the method at that time, and I only checked the class file in the jar, and confirmed that the disassembled bytecode of the class file in the jar corresponds to line 559, after you reminder, now I suspect that it is related to bytecode instrumentation, how to get the enhanced class file?","body":"@apangin The version is matched, there is indeed an Agent, <a href=\"https://github.com/alibaba/arthas\" rel=\"nofollow noreferrer\">Arthas</a> was watching the method at that time, and I only checked the class file in the jar, and confirmed that the disassembled bytecode of the class file in the jar corresponds to line 559, after you reminder, now I suspect that it is related to bytecode instrumentation, how to get the enhanced class file?"},{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1665850711,"post_id":74038730,"comment_id":130797532,"body_markdown":"[`class-file-extractor`](https://github.com/apangin/class-file-extractor) tool mentioned above or [`jvm-explorer`](https://github.com/Naton1/jvm-explorer)","body":"<a href=\"https://github.com/apangin/class-file-extractor\" rel=\"nofollow noreferrer\"><code>class-file-extractor</code></a> tool mentioned above or <a href=\"https://github.com/Naton1/jvm-explorer\" rel=\"nofollow noreferrer\"><code>jvm-explorer</code></a>"},{"owner":{"account_id":7909307,"reputation":409,"user_id":5973816,"display_name":"Poison"},"score":0,"creation_date":1665889896,"post_id":74038730,"comment_id":130803443,"body_markdown":"@apangin Thanks for your reminder, I have reproduced the problem, confirmed that it is caused by Agent, and the line number in `jcmd` is wrong, but the line number in `jmap` is correct, I use [class-file-extractor](https://github.com/apangin/class-file-extractor) to execute the following command `java -jar extractor. jar 19026 output.jar` on further investigation, but it throws the following exception: `Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/sun/tools/attach/VirtualMachine`, and JDK version is Oracle JDK 1.8.0_321","body":"@apangin Thanks for your reminder, I have reproduced the problem, confirmed that it is caused by Agent, and the line number in <code>jcmd</code> is wrong, but the line number in <code>jmap</code> is correct, I use <a href=\"https://github.com/apangin/class-file-extractor\" rel=\"nofollow noreferrer\">class-file-extractor</a> to execute the following command <code>java -jar extractor. jar 19026 output.jar</code> on further investigation, but it throws the following exception: <code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com&#47;sun&#47;tools&#47;attach&#47;VirtualMachine</code>, and JDK version is Oracle JDK 1.8.0_321"},{"owner":{"account_id":7909307,"reputation":409,"user_id":5973816,"display_name":"Poison"},"score":0,"creation_date":1665929928,"post_id":74038730,"comment_id":130809379,"body_markdown":"I add the option `-Xbootclasspath/a:$JAVA_HOME/lib/tools.jar` and throw the following exception: `Exception in thread &quot;main&quot; com.sun.tools.attach.AgentLoadException: Agent JAR not found or no Agent-Class attribute `, does [class-file-extractor](https://github.com/apangin/class-file-extractor) work for JDK 8?","body":"I add the option <code>-Xbootclasspath&#47;a:$JAVA_HOME&#47;lib&#47;tools.jar</code> and throw the following exception: <code>Exception in thread &quot;main&quot; com.sun.tools.attach.AgentLoadException: Agent JAR not found or no Agent-Class attribute </code>, does <a href=\"https://github.com/apangin/class-file-extractor\" rel=\"nofollow noreferrer\">class-file-extractor</a> work for JDK 8?"},{"owner":{"account_id":7909307,"reputation":409,"user_id":5973816,"display_name":"Poison"},"score":0,"creation_date":1665930617,"post_id":74038730,"comment_id":130809513,"body_markdown":"I used [jvm-explorer](https://github.com/Naton1/jvm-explorer) to see the enhanced class, and now I need to troubleshoot why `jcmd` and `jmap` have inconsistent line numbers for the same class.","body":"I used <a href=\"https://github.com/Naton1/jvm-explorer\" rel=\"nofollow noreferrer\">jvm-explorer</a> to see the enhanced class, and now I need to troubleshoot why <code>jcmd</code> and <code>jmap</code> have inconsistent line numbers for the same class."}],"owner":{"account_id":7909307,"reputation":409,"user_id":5973816,"display_name":"Poison"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665564021,"creation_date":1665563275,"question_id":74038730,"body_markdown":"I grabbed the stack frames of all threads using `jcmd pid Thread.print` on the production server to troubleshoot the problem, but found that one of the methods had a clearly incorrect line number, so I grabbed a heap dump using the internal diagnostic tool, And the line number in the thread stack frame in the heap dump is correct, because it is a commercial application, so I can&#39;t provide all the source code, I want to know the reason why `jcmd` returns the wrong line number. I checked the relevant underlying implementations, and it seems that they all use bci to query the corresponding line number in LineNumberTable.\r\n\r\n\r\nStack frame returned by `jcmd`, sensitive information is replaced by `*`:\r\n```\r\n&quot;myScheduler-7&quot; #131 prio=5 os_prio=0 tid=0x00007ffb039df000 nid=0x91 waiting on condition [0x00007ffae9364000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\tat sun.misc.Unsafe.park(Native Method)\r\n\t- parking to wait for  &lt;0x00000006d3406010&gt; (a java.util.concurrent.CountDownLatch$Sync)\r\n\tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:997)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1304)\r\n\tat java.util.concurrent.CountDownLatch.await(CountDownLatch.java:231)\r\n\tat ***.*****.***.service.impl.ScheduledServiceImpl.analyze*****(ScheduledServiceImpl.java:546)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\nIn this stack frame, `ScheduledServiceImpl` has line number 546, which is clearly incorrect.\r\n\r\nStack frame returned by internal diagnostic tool, heap dump is generated by the following command: `ManagementFactory.getPlatformMXBean(HotSpotDiagnosticMXBean.class).dumpHeap(dumpFilePath, true)`, sensitive information is mosaicked:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn this stack frame, `ScheduledServiceImpl` has line number 559, which is correct.\r\n\r\nRelated source code:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TtLcB.png\r\n  [2]: https://i.stack.imgur.com/xEloa.png\r\n\r\n\r\nJDK version: Oracle JDK 1.8.0_291\r\n\r\nOS: Linux 4.15.0-139-generic #143-Ubuntu SMP Tue Mar 16 01:30:17 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\nReference:\r\n* [java - What is &quot;bci&quot; while debugging in jdb? - Stack Overflow](https://stackoverflow.com/questions/7660673/what-is-bci-while-debugging-in-jdb)\r\n* [jdk8u/method.cpp at master &#183; openjdk/jdk8u &#183; GitHub](https://github.com/openjdk/jdk8u/blob/master/hotspot/src/share/vm/oops/method.cpp#L633-L657)","title":"Wrong line number returned when grabbing stack frame with jcmd","body":"<p>I grabbed the stack frames of all threads using <code>jcmd pid Thread.print</code> on the production server to troubleshoot the problem, but found that one of the methods had a clearly incorrect line number, so I grabbed a heap dump using the internal diagnostic tool, And the line number in the thread stack frame in the heap dump is correct, because it is a commercial application, so I can't provide all the source code, I want to know the reason why <code>jcmd</code> returns the wrong line number. I checked the relevant underlying implementations, and it seems that they all use bci to query the corresponding line number in LineNumberTable.</p>\n<p>Stack frame returned by <code>jcmd</code>, sensitive information is replaced by <code>*</code>:</p>\n<pre><code>&quot;myScheduler-7&quot; #131 prio=5 os_prio=0 tid=0x00007ffb039df000 nid=0x91 waiting on condition [0x00007ffae9364000]\n   java.lang.Thread.State: WAITING (parking)\n    at sun.misc.Unsafe.park(Native Method)\n    - parking to wait for  &lt;0x00000006d3406010&gt; (a java.util.concurrent.CountDownLatch$Sync)\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:997)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1304)\n    at java.util.concurrent.CountDownLatch.await(CountDownLatch.java:231)\n    at ***.*****.***.service.impl.ScheduledServiceImpl.analyze*****(ScheduledServiceImpl.java:546)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>In this stack frame, <code>ScheduledServiceImpl</code> has line number 546, which is clearly incorrect.</p>\n<p>Stack frame returned by internal diagnostic tool, heap dump is generated by the following command: <code>ManagementFactory.getPlatformMXBean(HotSpotDiagnosticMXBean.class).dumpHeap(dumpFilePath, true)</code>, sensitive information is mosaicked:</p>\n<p><a href=\"https://i.stack.imgur.com/TtLcB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TtLcB.png\" alt=\"enter image description here\" /></a></p>\n<p>In this stack frame, <code>ScheduledServiceImpl</code> has line number 559, which is correct.</p>\n<p>Related source code:\n<a href=\"https://i.stack.imgur.com/xEloa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xEloa.png\" alt=\"enter image description here\" /></a></p>\n<p>JDK version: Oracle JDK 1.8.0_291</p>\n<p>OS: Linux 4.15.0-139-generic #143-Ubuntu SMP Tue Mar 16 01:30:17 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux</p>\n<p>Reference:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/7660673/what-is-bci-while-debugging-in-jdb\">java - What is &quot;bci&quot; while debugging in jdb? - Stack Overflow</a></li>\n<li><a href=\"https://github.com/openjdk/jdk8u/blob/master/hotspot/src/share/vm/oops/method.cpp#L633-L657\" rel=\"nofollow noreferrer\">jdk8u/method.cpp at master  openjdk/jdk8u  GitHub</a></li>\n</ul>\n"},{"tags":["java","marklogic"],"comments":[{"owner":{"account_id":13663996,"reputation":310,"user_id":9858320,"display_name":"Waleed Jubeh"},"score":0,"creation_date":1665564094,"post_id":74038876,"comment_id":130727745,"body_markdown":"I believe you should remove special character like double quote &quot; in your file","body":"I believe you should remove special character like double quote &quot; in your file"},{"owner":{"account_id":24159498,"reputation":457,"user_id":18123235,"display_name":"Rashmita Purkayastha"},"score":0,"creation_date":1665565656,"post_id":74038876,"comment_id":130728348,"body_markdown":"Thanks for your comment, But I am not using any quotes anywhere in the mlcp config file or anywhere in the command. Is it something to do with the java installation in windows 11. As I was having no issue in running mlcp in windows 10 with same set up but with different java version though. Currently using JDK19.","body":"Thanks for your comment, But I am not using any quotes anywhere in the mlcp config file or anywhere in the command. Is it something to do with the java installation in windows 11. As I was having no issue in running mlcp in windows 10 with same set up but with different java version though. Currently using JDK19."},{"owner":{"account_id":8112,"reputation":64592,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"score":0,"creation_date":1665584771,"post_id":74038876,"comment_id":130735822,"body_markdown":"https://github.com/marklogic/marklogic-contentpump/issues/169","body":"<a href=\"https://github.com/marklogic/marklogic-contentpump/issues/169\" rel=\"nofollow noreferrer\">github.com/marklogic/marklogic-contentpump/issues/169</a>"},{"owner":{"account_id":8112,"reputation":64592,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"score":0,"creation_date":1665585028,"post_id":74038876,"comment_id":130735940,"body_markdown":"https://stackoverflow.com/a/68861729/14419 this issue will be addressed in MLCP 11","body":"<a href=\"https://stackoverflow.com/a/68861729/14419\">stackoverflow.com/a/68861729/14419</a> this issue will be addressed in MLCP 11"}],"owner":{"account_id":24159498,"reputation":457,"user_id":18123235,"display_name":"Rashmita Purkayastha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665563969,"creation_date":1665563969,"question_id":74038876,"body_markdown":"I am trying to import a file into MarkLogic database using mlcp command. \r\nAnd I am getting a java string exception in return. \r\n\r\nI am running the mlcp-10.0.9 on windows 11 which has the java version:\r\njava 19 2022-09-20\r\nJava(TM) SE Runtime Environment (build 19+36-2238)\r\nJava HotSpot(TM) 64-Bit Server VM (build 19+36-2238, mixed mode, sharing)\r\n\r\nHere is my mlcp command I am using \r\n\r\n``` mlcp.bat -options_file mlcp_config.txt ```\r\n\r\nAnd here is the error I am getting in return - \r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n        at org.apache.hadoop.util.GenericOptionsParser.preProcessForWindows(GenericOptionsParser.java:440)\r\n        at org.apache.hadoop.util.GenericOptionsParser.parseGeneralOptions(GenericOptionsParser.java:486)\r\n        at org.apache.hadoop.util.GenericOptionsParser.&lt;init&gt;(GenericOptionsParser.java:170)\r\n        at org.apache.hadoop.util.GenericOptionsParser.&lt;init&gt;(GenericOptionsParser.java:153)\r\n        at com.marklogic.contentpump.ContentPump.runCommand(ContentPump.java:120)\r\n        at com.marklogic.contentpump.ContentPump.main(ContentPump.java:74)\r\nCaused by: java.lang.StringIndexOutOfBoundsException: Range [0, 3) out of bounds for length 2\r\n        at java.base/jdk.internal.util.Preconditions$1.apply(Preconditions.java:55)\r\n        at java.base/jdk.internal.util.Preconditions$1.apply(Preconditions.java:52)\r\n        at java.base/jdk.internal.util.Preconditions$4.apply(Preconditions.java:213)\r\n        at java.base/jdk.internal.util.Preconditions$4.apply(Preconditions.java:210)\r\n        at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:98)\r\n        at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckFromToIndex(Preconditions.java:112)\r\n        at java.base/jdk.internal.util.Preconditions.checkFromToIndex(Preconditions.java:349)\r\n        at java.base/java.lang.String.checkBoundsBeginEnd(String.java:4602)\r\n        at java.base/java.lang.String.substring(String.java:2715)\r\n        at org.apache.hadoop.util.Shell.&lt;clinit&gt;(Shell.java:51)\r\n```\r\n\r\nPlease suggest on what might be going wrong.","title":"Getting Java string index range exception in MLCP import","body":"<p>I am trying to import a file into MarkLogic database using mlcp command.\nAnd I am getting a java string exception in return.</p>\n<p>I am running the mlcp-10.0.9 on windows 11 which has the java version:\njava 19 2022-09-20\nJava(TM) SE Runtime Environment (build 19+36-2238)\nJava HotSpot(TM) 64-Bit Server VM (build 19+36-2238, mixed mode, sharing)</p>\n<p>Here is my mlcp command I am using</p>\n<p><code>mlcp.bat -options_file mlcp_config.txt</code></p>\n<p>And here is the error I am getting in return -</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\n        at org.apache.hadoop.util.GenericOptionsParser.preProcessForWindows(GenericOptionsParser.java:440)\n        at org.apache.hadoop.util.GenericOptionsParser.parseGeneralOptions(GenericOptionsParser.java:486)\n        at org.apache.hadoop.util.GenericOptionsParser.&lt;init&gt;(GenericOptionsParser.java:170)\n        at org.apache.hadoop.util.GenericOptionsParser.&lt;init&gt;(GenericOptionsParser.java:153)\n        at com.marklogic.contentpump.ContentPump.runCommand(ContentPump.java:120)\n        at com.marklogic.contentpump.ContentPump.main(ContentPump.java:74)\nCaused by: java.lang.StringIndexOutOfBoundsException: Range [0, 3) out of bounds for length 2\n        at java.base/jdk.internal.util.Preconditions$1.apply(Preconditions.java:55)\n        at java.base/jdk.internal.util.Preconditions$1.apply(Preconditions.java:52)\n        at java.base/jdk.internal.util.Preconditions$4.apply(Preconditions.java:213)\n        at java.base/jdk.internal.util.Preconditions$4.apply(Preconditions.java:210)\n        at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:98)\n        at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckFromToIndex(Preconditions.java:112)\n        at java.base/jdk.internal.util.Preconditions.checkFromToIndex(Preconditions.java:349)\n        at java.base/java.lang.String.checkBoundsBeginEnd(String.java:4602)\n        at java.base/java.lang.String.substring(String.java:2715)\n        at org.apache.hadoop.util.Shell.&lt;clinit&gt;(Shell.java:51)\n</code></pre>\n<p>Please suggest on what might be going wrong.</p>\n"},{"tags":["java","apache","apache-poi","docx"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1544425171,"post_id":53664034,"comment_id":94256465,"body_markdown":"Please don&#39;t change your question into a totally different one. And at least don&#39;t change your code into code which not even compiles. Neither [XWPFHeader](https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFHeader.html)  nor [XWPFHeaderFooter](https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFHeaderFooter.html) has a method `getRuns()`.","body":"Please don&#39;t change your question into a totally different one. And at least don&#39;t change your code into code which not even compiles. Neither <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFHeader.html\" rel=\"nofollow noreferrer\">XWPFHeader</a>  nor <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFHeaderFooter.html\" rel=\"nofollow noreferrer\">XWPFHeaderFooter</a> has a method <code>getRuns()</code>."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1544275195,"creation_date":1544275195,"answer_id":53682927,"question_id":53664034,"body_markdown":"In a `*.docx` document, which contains multiple sections, each section starts in a paragraph which has section properties set. To get the headers and footers out of section properties there is [public XWPFHeaderFooterPolicy(XWPFDocument doc, org.openxmlformats.schemas.wordprocessingml.x2006.main.CTSectPr sectPr)](https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/model/XWPFHeaderFooterPolicy.html#XWPFHeaderFooterPolicy-org.apache.poi.xwpf.usermodel.XWPFDocument-org.openxmlformats.schemas.wordprocessingml.x2006.main.CTSectPr-) constructor.\r\n\r\nOnly the section properties for the last section are set in document&#39;s body.\r\n\r\nSo the following code should get all headers and footers out of all sections in the document.\r\n\r\n    import java.io.FileInputStream;\r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    import org.apache.poi.xwpf.model.XWPFHeaderFooterPolicy;\r\n    \r\n    public class ReadWordAllHeaderFooters {\r\n    \r\n     static void getAllHeaderFooterFromPolicy(XWPFHeaderFooterPolicy headerFooterPolicy) {\r\n      XWPFHeader header;\r\n      XWPFFooter footer;\r\n      header = headerFooterPolicy.getDefaultHeader();\r\n      if (header != null) System.out.println(&quot;DefaultHeader: &quot; + header.getText());\r\n      header = headerFooterPolicy.getFirstPageHeader();\r\n      if (header != null) System.out.println(&quot;FirstPageHeader: &quot; + header.getText());\r\n      header = headerFooterPolicy.getEvenPageHeader();\r\n      if (header != null) System.out.println(&quot;EvenPageHeader: &quot; + header.getText());\r\n      header = headerFooterPolicy.getOddPageHeader();\r\n      if (header != null) System.out.println(&quot;OddPageHeader: &quot; + header.getText());\r\n    \r\n      footer = headerFooterPolicy.getDefaultFooter();\r\n      if (footer != null) System.out.println(&quot;DefaultFooter: &quot; + footer.getText());\r\n      footer = headerFooterPolicy.getFirstPageFooter();\r\n      if (footer != null) System.out.println(&quot;FirstPageFooter: &quot; + footer.getText());\r\n      footer = headerFooterPolicy.getEvenPageFooter();\r\n      if (footer != null) System.out.println(&quot;EvenPageFooter: &quot; + footer.getText());\r\n      footer = headerFooterPolicy.getOddPageFooter();\r\n      if (footer != null) System.out.println(&quot;OddPageFooter: &quot; + footer.getText());\r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n      XWPFDocument document = new XWPFDocument(new FileInputStream(&quot;MultipleHeaderFooters.docx&quot;));\r\n      XWPFHeaderFooterPolicy headerFooterPolicy;\r\n    \r\n      //are there paragraphs to start sections?\r\n      int section = 1;\r\n      for (XWPFParagraph paragraph : document.getParagraphs()) {\r\n       if (paragraph.getCTP().isSetPPr()) { //paragraph has paragraph properties set\r\n        if (paragraph.getCTP().getPPr().isSetSectPr()) { //paragraph property has section properties set\r\n         //headers and footers in paragraphs section properties:\r\n         headerFooterPolicy = new XWPFHeaderFooterPolicy(document, paragraph.getCTP().getPPr().getSectPr());\r\n         System.out.println(&quot;headers and footers in section properties of section &quot; + section++ + &quot;:&quot;);\r\n         getAllHeaderFooterFromPolicy(headerFooterPolicy);\r\n        }\r\n       }\r\n      }\r\n    \r\n      //headers and footers in documents body = headers and footers of last section:\r\n      headerFooterPolicy = new XWPFHeaderFooterPolicy(document);\r\n      System.out.println(&quot;headers and footers in documents body = headers and footers of last section &quot; + section + &quot;:&quot;);\r\n      getAllHeaderFooterFromPolicy(headerFooterPolicy);\r\n    \r\n     }\r\n    }","title":"find and replace a text in different header for each section in docx using java","body":"<p>In a <code>*.docx</code> document, which contains multiple sections, each section starts in a paragraph which has section properties set. To get the headers and footers out of section properties there is <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/model/XWPFHeaderFooterPolicy.html#XWPFHeaderFooterPolicy-org.apache.poi.xwpf.usermodel.XWPFDocument-org.openxmlformats.schemas.wordprocessingml.x2006.main.CTSectPr-\" rel=\"nofollow noreferrer\">public XWPFHeaderFooterPolicy(XWPFDocument doc, org.openxmlformats.schemas.wordprocessingml.x2006.main.CTSectPr sectPr)</a> constructor.</p>\n\n<p>Only the section properties for the last section are set in document's body.</p>\n\n<p>So the following code should get all headers and footers out of all sections in the document.</p>\n\n<pre><code>import java.io.FileInputStream;\nimport org.apache.poi.xwpf.usermodel.*;\nimport org.apache.poi.xwpf.model.XWPFHeaderFooterPolicy;\n\npublic class ReadWordAllHeaderFooters {\n\n static void getAllHeaderFooterFromPolicy(XWPFHeaderFooterPolicy headerFooterPolicy) {\n  XWPFHeader header;\n  XWPFFooter footer;\n  header = headerFooterPolicy.getDefaultHeader();\n  if (header != null) System.out.println(\"DefaultHeader: \" + header.getText());\n  header = headerFooterPolicy.getFirstPageHeader();\n  if (header != null) System.out.println(\"FirstPageHeader: \" + header.getText());\n  header = headerFooterPolicy.getEvenPageHeader();\n  if (header != null) System.out.println(\"EvenPageHeader: \" + header.getText());\n  header = headerFooterPolicy.getOddPageHeader();\n  if (header != null) System.out.println(\"OddPageHeader: \" + header.getText());\n\n  footer = headerFooterPolicy.getDefaultFooter();\n  if (footer != null) System.out.println(\"DefaultFooter: \" + footer.getText());\n  footer = headerFooterPolicy.getFirstPageFooter();\n  if (footer != null) System.out.println(\"FirstPageFooter: \" + footer.getText());\n  footer = headerFooterPolicy.getEvenPageFooter();\n  if (footer != null) System.out.println(\"EvenPageFooter: \" + footer.getText());\n  footer = headerFooterPolicy.getOddPageFooter();\n  if (footer != null) System.out.println(\"OddPageFooter: \" + footer.getText());\n }\n\n public static void main(String[] args) throws Exception {\n  XWPFDocument document = new XWPFDocument(new FileInputStream(\"MultipleHeaderFooters.docx\"));\n  XWPFHeaderFooterPolicy headerFooterPolicy;\n\n  //are there paragraphs to start sections?\n  int section = 1;\n  for (XWPFParagraph paragraph : document.getParagraphs()) {\n   if (paragraph.getCTP().isSetPPr()) { //paragraph has paragraph properties set\n    if (paragraph.getCTP().getPPr().isSetSectPr()) { //paragraph property has section properties set\n     //headers and footers in paragraphs section properties:\n     headerFooterPolicy = new XWPFHeaderFooterPolicy(document, paragraph.getCTP().getPPr().getSectPr());\n     System.out.println(\"headers and footers in section properties of section \" + section++ + \":\");\n     getAllHeaderFooterFromPolicy(headerFooterPolicy);\n    }\n   }\n  }\n\n  //headers and footers in documents body = headers and footers of last section:\n  headerFooterPolicy = new XWPFHeaderFooterPolicy(document);\n  System.out.println(\"headers and footers in documents body = headers and footers of last section \" + section + \":\");\n  getAllHeaderFooterFromPolicy(headerFooterPolicy);\n\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16026090,"reputation":21,"user_id":11566288,"display_name":"Recared"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1559036052,"creation_date":1559034350,"answer_id":56338594,"question_id":53664034,"body_markdown":"This function should do the job\r\n\r\n    static void replaceHeaderText(XWPFDocument document, String searchValue, String replacement)\r\n    {\r\n        List&lt;XWPFHeader&gt; headers = document.getHeaderList();\r\n        for(XWPFHeader h : headers)\r\n        {\r\n            for (XWPFParagraph p : h.getParagraphs()) {\r\n                List&lt;XWPFRun&gt; runs = p.getRuns();\r\n                if (runs != null) {\r\n                    for (XWPFRun r : runs) {\r\n                        String text = r.getText(0);\r\n                        if (text != null &amp;&amp; text.contains(searchValue)) {\r\n                            text = text.replace(searchValue, replacement);\r\n                            r.setText(text, 0);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            for (XWPFTable tbl : h.getTables()) {\r\n                for (XWPFTableRow row : tbl.getRows()) {\r\n                    for (XWPFTableCell cell : row.getTableCells()) {\r\n                        for (XWPFParagraph p : cell.getParagraphs()) {\r\n                            for (XWPFRun r : p.getRuns()) {\r\n                                String text = r.getText(0);\r\n                                if (text != null &amp;&amp; text.contains(searchValue)) {\r\n                                    text = text.replace(searchValue, replacement);\r\n                                    r.setText(text,0);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"find and replace a text in different header for each section in docx using java","body":"<p>This function should do the job</p>\n\n<pre><code>static void replaceHeaderText(XWPFDocument document, String searchValue, String replacement)\n{\n    List&lt;XWPFHeader&gt; headers = document.getHeaderList();\n    for(XWPFHeader h : headers)\n    {\n        for (XWPFParagraph p : h.getParagraphs()) {\n            List&lt;XWPFRun&gt; runs = p.getRuns();\n            if (runs != null) {\n                for (XWPFRun r : runs) {\n                    String text = r.getText(0);\n                    if (text != null &amp;&amp; text.contains(searchValue)) {\n                        text = text.replace(searchValue, replacement);\n                        r.setText(text, 0);\n                    }\n                }\n            }\n        }\n        for (XWPFTable tbl : h.getTables()) {\n            for (XWPFTableRow row : tbl.getRows()) {\n                for (XWPFTableCell cell : row.getTableCells()) {\n                    for (XWPFParagraph p : cell.getParagraphs()) {\n                        for (XWPFRun r : p.getRuns()) {\n                            String text = r.getText(0);\n                            if (text != null &amp;&amp; text.contains(searchValue)) {\n                                text = text.replace(searchValue, replacement);\n                                r.setText(text,0);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17076275,"reputation":596,"user_id":12355831,"display_name":"stefan-dan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665563239,"creation_date":1665563239,"answer_id":74038720,"question_id":53664034,"body_markdown":"Here is a code snippet that replaces all the occurrences of a key like `${firstName}` with its String value in an `XWPFDocument`. All the parameters to be replaced will be stored in a `Map&lt;String, String&gt;`.\r\n\r\n    private void replaceParameters(XWPFDocument document, Map&lt;String, String&gt; replacements) {\r\n        for (Map.Entry&lt;String, String&gt; parameter : replacements.entrySet()) {\r\n            // replaces all occurrences in the headers\r\n            replaceHeadersParams(document.getHeaderList(), parameter);\r\n\r\n            // replaces all occurrences in the document&#39;s body\r\n            replaceParagraphsParams(document.getParagraphs(), parameter);\r\n            replaceTablesParams(document.getTables(), parameter);\r\n\r\n            // replaces all occurrences in the footers\r\n            replaceFootersParams(document.getFooterList(), parameter);\r\n        }\r\n    }\r\n\r\n    private void replaceHeadersParams(List&lt;XWPFHeader&gt; headers, Map.Entry&lt;String, String&gt; paramToReplace) {\r\n        for (XWPFHeader header : headers) {\r\n            replaceParagraphsParams(header.getParagraphs(), paramToReplace);\r\n            replaceTablesParams(header.getTables(), paramToReplace);\r\n        }\r\n    }\r\n\r\n    private void replaceFootersParams(List&lt;XWPFFooter&gt; footers, Map.Entry&lt;String, String&gt; parameter) {\r\n        for (XWPFFooter footer : footers) {\r\n            replaceParagraphsParams(footer.getParagraphs(), parameter);\r\n            replaceTablesParams(footer.getTables(), parameter);\r\n        }\r\n    }\r\n\r\n    private void replaceTablesParams(List&lt;XWPFTable&gt; tables, Map.Entry&lt;String, String&gt; paramToReplace) {\r\n        for (XWPFTable tbl : tables) {\r\n            for (XWPFTableRow row : tbl.getRows()) {\r\n                for (XWPFTableCell cell : row.getTableCells()) {\r\n                    replaceParagraphsParams(cell.getParagraphs(), paramToReplace);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nReplace the `startIndex` and `endIndex` with your values `$$`. Keep in mind that this implementation replaces all the occurrences ignoring the case. \r\n\r\n    private void replaceParagraphsParams(List&lt;XWPFParagraph&gt; paragraphs, Map.Entry&lt;String, String&gt; paramToReplace) throws POIXMLException {\r\n        for (XWPFParagraph p : paragraphs) {\r\n            for (XWPFRun r : p.getRuns()) {\r\n                String text = r.getText(0);\r\n                if (text != null &amp;&amp; text.toLowerCase().contains(paramToReplace.getKey().toLowerCase())) {\r\n                    int startIndex = text.indexOf(&quot;${&quot;);\r\n                    int endIndex = text.indexOf(&quot;}&quot;);\r\n                    String toBeReplaced = text.substring(startIndex, endIndex + 1);\r\n                    text = text.replace(toBeReplaced, paramToReplace.getValue());\r\n                    r.setText(text, 0);\r\n                }\r\n            }\r\n        }\r\n    }","title":"find and replace a text in different header for each section in docx using java","body":"<p>Here is a code snippet that replaces all the occurrences of a key like <code>${firstName}</code> with its String value in an <code>XWPFDocument</code>. All the parameters to be replaced will be stored in a <code>Map&lt;String, String&gt;</code>.</p>\n<pre><code>private void replaceParameters(XWPFDocument document, Map&lt;String, String&gt; replacements) {\n    for (Map.Entry&lt;String, String&gt; parameter : replacements.entrySet()) {\n        // replaces all occurrences in the headers\n        replaceHeadersParams(document.getHeaderList(), parameter);\n\n        // replaces all occurrences in the document's body\n        replaceParagraphsParams(document.getParagraphs(), parameter);\n        replaceTablesParams(document.getTables(), parameter);\n\n        // replaces all occurrences in the footers\n        replaceFootersParams(document.getFooterList(), parameter);\n    }\n}\n\nprivate void replaceHeadersParams(List&lt;XWPFHeader&gt; headers, Map.Entry&lt;String, String&gt; paramToReplace) {\n    for (XWPFHeader header : headers) {\n        replaceParagraphsParams(header.getParagraphs(), paramToReplace);\n        replaceTablesParams(header.getTables(), paramToReplace);\n    }\n}\n\nprivate void replaceFootersParams(List&lt;XWPFFooter&gt; footers, Map.Entry&lt;String, String&gt; parameter) {\n    for (XWPFFooter footer : footers) {\n        replaceParagraphsParams(footer.getParagraphs(), parameter);\n        replaceTablesParams(footer.getTables(), parameter);\n    }\n}\n\nprivate void replaceTablesParams(List&lt;XWPFTable&gt; tables, Map.Entry&lt;String, String&gt; paramToReplace) {\n    for (XWPFTable tbl : tables) {\n        for (XWPFTableRow row : tbl.getRows()) {\n            for (XWPFTableCell cell : row.getTableCells()) {\n                replaceParagraphsParams(cell.getParagraphs(), paramToReplace);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Replace the <code>startIndex</code> and <code>endIndex</code> with your values <code>$$</code>. Keep in mind that this implementation replaces all the occurrences ignoring the case.</p>\n<pre><code>private void replaceParagraphsParams(List&lt;XWPFParagraph&gt; paragraphs, Map.Entry&lt;String, String&gt; paramToReplace) throws POIXMLException {\n    for (XWPFParagraph p : paragraphs) {\n        for (XWPFRun r : p.getRuns()) {\n            String text = r.getText(0);\n            if (text != null &amp;&amp; text.toLowerCase().contains(paramToReplace.getKey().toLowerCase())) {\n                int startIndex = text.indexOf(&quot;${&quot;);\n                int endIndex = text.indexOf(&quot;}&quot;);\n                String toBeReplaced = text.substring(startIndex, endIndex + 1);\n                text = text.replace(toBeReplaced, paramToReplace.getValue());\n                r.setText(text, 0);\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10719407,"reputation":93,"user_id":7888968,"display_name":"venkatesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2910,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":53682927,"answer_count":3,"score":3,"last_activity_date":1665563239,"creation_date":1544162105,"question_id":53664034,"body_markdown":"I am trying to find and replace a text different sections of header in each page using Apache poi but getting only null data, but Docx has different header sections and footer too\n\n \n\n        package com.concretepage;\n        import java.io.FileInputStream;\n        import org.apache.poi.openxml4j.opc.OPCPackage;\n        import org.apache.poi.xwpf.model.XWPFHeaderFooterPolicy;\n        import org.apache.poi.xwpf.usermodel.XWPFDocument;\n        import org.apache.poi.xwpf.usermodel.XWPFFooter;\n        import org.apache.poi.xwpf.usermodel.XWPFHeader;\n        public class ReadDOCXHeaderFooter {\n            public static void main(String[] args) {\n                try {\n                    FileInputStream fis = new FileInputStream(&quot;D:/docx/read-test.docx&quot;);\n                    XWPFDocument xdoc=new XWPFDocument(OPCPackage.open(fis));\n                    XWPFHeaderFooterPolicy policy = new XWPFHeaderFooterPolicy(xdoc);\n                    //read header\n     \n                    for(int i=0;i&lt;90;i++)\n                    {\n                     XWPFHeader header = policy.getHeader(i);\n           List&lt;XWPFRun&gt; runs = header.getRuns();\n      if (runs != null) {\n             for (XWPFRun r : runs) {\n              String text = r.getText(0);\n              if (text != null &amp;&amp; text.contains(&quot;$$key$$&quot;)) {\n               text = text.replace(&quot;$$key$$&quot;, &quot;ABCD&quot;);//your content\n               r.setText(text, 0);\n              }\n             }\n                        System.out.println(header.getText());\n    \n                        //read footer\n                        XWPFFooter footer = policy.getFooter(i);\n                        System.out.println(footer.getText());\n                    }\n                } catch(Exception ex) {\n                    ex.printStackTrace();\n                }\n            }\n        }\n\n**1.Screen shot of Docx header sections.**\n\n   ![Docx header sections][1]\n\n**2.Screen shot of Docx header another section.**\n\n  ![Docx header another section][2]\n\n**3.Screen shot of Docx header another section.** \n\n![Docx header another section][3]\n\n**4.Screen Shot**\n\n![Screen Shot][4]\n\n\n\n  [1]: https://i.stack.imgur.com/qTLtL.jpg\n  [2]: https://i.stack.imgur.com/fEzXp.jpg\n  [3]: https://i.stack.imgur.com/yLXUb.jpg\n  [4]: https://i.stack.imgur.com/ygNYv.jpg","title":"find and replace a text in different header for each section in docx using java","body":"<p>I am trying to find and replace a text different sections of header in each page using Apache poi but getting only null data, but Docx has different header sections and footer too</p>\n<pre><code>    package com.concretepage;\n    import java.io.FileInputStream;\n    import org.apache.poi.openxml4j.opc.OPCPackage;\n    import org.apache.poi.xwpf.model.XWPFHeaderFooterPolicy;\n    import org.apache.poi.xwpf.usermodel.XWPFDocument;\n    import org.apache.poi.xwpf.usermodel.XWPFFooter;\n    import org.apache.poi.xwpf.usermodel.XWPFHeader;\n    public class ReadDOCXHeaderFooter {\n        public static void main(String[] args) {\n            try {\n                FileInputStream fis = new FileInputStream(&quot;D:/docx/read-test.docx&quot;);\n                XWPFDocument xdoc=new XWPFDocument(OPCPackage.open(fis));\n                XWPFHeaderFooterPolicy policy = new XWPFHeaderFooterPolicy(xdoc);\n                //read header\n \n                for(int i=0;i&lt;90;i++)\n                {\n                 XWPFHeader header = policy.getHeader(i);\n       List&lt;XWPFRun&gt; runs = header.getRuns();\n  if (runs != null) {\n         for (XWPFRun r : runs) {\n          String text = r.getText(0);\n          if (text != null &amp;&amp; text.contains(&quot;$$key$$&quot;)) {\n           text = text.replace(&quot;$$key$$&quot;, &quot;ABCD&quot;);//your content\n           r.setText(text, 0);\n          }\n         }\n                    System.out.println(header.getText());\n\n                    //read footer\n                    XWPFFooter footer = policy.getFooter(i);\n                    System.out.println(footer.getText());\n                }\n            } catch(Exception ex) {\n                ex.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n<p><strong>1.Screen shot of Docx header sections.</strong></p>\n<p><img src=\"https://i.stack.imgur.com/qTLtL.jpg\" alt=\"Docx header sections\" /></p>\n<p><strong>2.Screen shot of Docx header another section.</strong></p>\n<p><img src=\"https://i.stack.imgur.com/fEzXp.jpg\" alt=\"Docx header another section\" /></p>\n<p><strong>3.Screen shot of Docx header another section.</strong></p>\n<p><img src=\"https://i.stack.imgur.com/yLXUb.jpg\" alt=\"Docx header another section\" /></p>\n<p><strong>4.Screen Shot</strong></p>\n<p><img src=\"https://i.stack.imgur.com/ygNYv.jpg\" alt=\"Screen Shot\" /></p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data-rest"],"comments":[{"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"score":0,"creation_date":1664855413,"post_id":73942279,"comment_id":130560432,"body_markdown":"without looking at your code it is hard to tell whats wrong with it neither able to give any helpful answer","body":"without looking at your code it is hard to tell whats wrong with it neither able to give any helpful answer"},{"owner":{"account_id":22631941,"reputation":142,"user_id":16809133,"display_name":"XintongTheCoder"},"score":0,"creation_date":1667003813,"post_id":73942279,"comment_id":131075483,"body_markdown":"Ah, that search is pretty much shipped with data rest. There is no implementation needed. Also I feel the data rest is limited. So I decided to not use it and removed it from my dependency","body":"Ah, that search is pretty much shipped with data rest. There is no implementation needed. Also I feel the data rest is limited. So I decided to not use it and removed it from my dependency"}],"answers":[{"tags":[],"owner":{"account_id":20389701,"reputation":36,"user_id":14957869,"display_name":"Dng "},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664854250,"creation_date":1664853467,"answer_id":73942812,"question_id":73942279,"body_markdown":"in StudentController\r\n\r\n    @GetMapping(&quot;/classes/{classId}/students/search/findByName&quot;)\r\n    public ResponseEntity&lt;?&gt; findStudent(@PathParam(&quot;name&quot;) String name,\r\n                        @PathVariable(&quot;classId&quot;) String classId) {\r\n        return ResponseEntity.ok(studentService.findByNameAndClassId(name, classId));\r\n    } \r\n\r\n\r\nin StudentService \r\n\r\n    public List&lt;Student&gt; findByNameAndClassId(String name, String classId) {\r\n        return studentRepository.findByNameAndClassId(name, classId);\r\n    }\r\n\r\nin StudentRepository     (I use mongoDB; if u use SQL , extends JpaRepository)\r\n\r\n    @Repository\r\n    public interface CustomUserRepo extends MongoRepository&lt;Student, String&gt; {\r\n        List&lt;Student&gt; findByNameAndClassId(String name, String classId);\r\n    }","title":"How to search in parent entity scope when using spring boot data rest","body":"<p>in StudentController</p>\n<pre><code>@GetMapping(&quot;/classes/{classId}/students/search/findByName&quot;)\npublic ResponseEntity&lt;?&gt; findStudent(@PathParam(&quot;name&quot;) String name,\n                    @PathVariable(&quot;classId&quot;) String classId) {\n    return ResponseEntity.ok(studentService.findByNameAndClassId(name, classId));\n} \n</code></pre>\n<p>in StudentService</p>\n<pre><code>public List&lt;Student&gt; findByNameAndClassId(String name, String classId) {\n    return studentRepository.findByNameAndClassId(name, classId);\n}\n</code></pre>\n<p>in StudentRepository     (I use mongoDB; if u use SQL , extends JpaRepository)</p>\n<pre><code>@Repository\npublic interface CustomUserRepo extends MongoRepository&lt;Student, String&gt; {\n    List&lt;Student&gt; findByNameAndClassId(String name, String classId);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13331423,"reputation":391,"user_id":10441871,"display_name":"Shyam Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665563197,"creation_date":1665563197,"answer_id":74038710,"question_id":73942279,"body_markdown":"As far as I understand, \r\nYou need to access the parent entity,\r\n\r\nIt can be easily achieved using HQL queries, please look below code.\r\n\r\n```\r\n    @Query(&quot;select student from Student student where student.professor = ?1&quot;)\r\n    List&lt;String&gt; getProfessors(String[] professors); \r\n\r\n```\r\nI hope, it helps!","title":"How to search in parent entity scope when using spring boot data rest","body":"<p>As far as I understand,\nYou need to access the parent entity,</p>\n<p>It can be easily achieved using HQL queries, please look below code.</p>\n<pre><code>    @Query(&quot;select student from Student student where student.professor = ?1&quot;)\n    List&lt;String&gt; getProfessors(String[] professors); \n\n</code></pre>\n<p>I hope, it helps!</p>\n"}],"owner":{"account_id":22631941,"reputation":142,"user_id":16809133,"display_name":"XintongTheCoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73942812,"answer_count":2,"score":0,"last_activity_date":1665563197,"creation_date":1664846594,"question_id":73942279,"body_markdown":"Now I know how to findBySomething on root level entity.\r\n\r\nLet&#39;s say I have a one to many relation of `class -&gt; student`\r\n\r\nI can now `students/search/findByName?name=Tom`\r\n\r\nBut it will give me Tom in all classes. Can I do something like\r\n\r\n`classes/1/students/search/findByName?name=Tom`\r\n\r\nIt gives error right now. ","title":"How to search in parent entity scope when using spring boot data rest","body":"<p>Now I know how to findBySomething on root level entity.</p>\n<p>Let's say I have a one to many relation of <code>class -&gt; student</code></p>\n<p>I can now <code>students/search/findByName?name=Tom</code></p>\n<p>But it will give me Tom in all classes. Can I do something like</p>\n<p><code>classes/1/students/search/findByName?name=Tom</code></p>\n<p>It gives error right now.</p>\n"},{"tags":["java","android","serial-port","serial-communication"],"comments":[{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1665570294,"post_id":74038653,"comment_id":130730017,"body_markdown":"What is the launchMode of the ScanActivity? Also getIntent().removeExtra(&quot;event&quot;); AFAIK this doesn&#39;t work.","body":"What is the launchMode of the ScanActivity? Also getIntent().removeExtra(&quot;event&quot;); AFAIK this doesn&#39;t work."},{"owner":{"account_id":21029676,"reputation":13,"user_id":15454343,"display_name":"Why I code"},"score":0,"creation_date":1665571448,"post_id":74038653,"comment_id":130730466,"body_markdown":"@TheLibrarian The actual launchMode is the default (standard)","body":"@TheLibrarian The actual launchMode is the default (standard)"}],"owner":{"account_id":21029676,"reputation":13,"user_id":15454343,"display_name":"Why I code"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665562983,"creation_date":1665562983,"question_id":74038653,"body_markdown":"I use serialportlib library from &lt;https://github.com/GeekBugs/Android-SerialPort/tree/master/serialportlib&gt; in Android project.\r\n\r\nI have the two activities below: \r\n* EventListActivity which redirects me to the second activity (ScanActivity) when I click an item from the list\r\n```\r\n@Override\r\n    public void onEventClick(int position) {\r\n        Intent intent = new Intent(EventListActivity.this, ScanActivity.class);\r\n        intent.putExtra(&quot;event&quot;,  events.get(position));\r\n        startActivity(intent);\r\n    }\r\n```\r\n\r\n- And ScanActivity, which receive the event sent from EventListActivity and where I open the SerialPort to receive data from qrCode scanned by external scanner\r\n```\r\npublic class ScanActivity extends AppCompatActivity {\r\n    private static final String OPEN_SIGNAL = &quot;AA5501F303&quot;;\r\n    private static final String CLOSE_SIGNAL = &quot;AA5501F305&quot;;\r\n    private SerialPortHelper inputSerialPortHelper;\r\n\r\n    private ByteArrayOutputStream byteArrayOutputStream;\r\n    private Event event;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_scan);\r\n        byteArrayOutputStream = new ByteArrayOutputStream();\r\n        event = (Event) getIntent().getExtras().get(&quot;event&quot;);\r\n        this.getSupportActionBar().setTitle(event.getTitle());\r\n        openScannerPort();\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n        if(inputSerialPortHelper != null) inputSerialPortHelper.close();\r\n        getIntent().removeExtra(&quot;event&quot;);\r\n        inputSerialPortHelper.setISerialPortDataListener(null);\r\n        finish();\r\n    }\r\n\r\n    private void openScannerPort() {\r\n        byteArrayOutputStream.reset();\r\n        inputSerialPortHelper = new SerialPortHelper();\r\n        openPort(inputSerialPortHelper, BAUDRATE.getBaudrate(BAUDRATE.B115200));\r\n        if (!inputSerialPortHelper.isOpen()) inputSerialPortHelper.open();\r\n        inputSerialPortHelper.setISerialPortDataListener(new ISerialPortDataListener() {\r\n            @RequiresApi(api = Build.VERSION_CODES.KITKAT)\r\n            @Override\r\n            public void onDataReceived(byte[] bytes) {\r\n                // process the received bytes\r\n                byteArrayOutputStream.write(bytes);\r\n            }\r\n\r\n            @Override\r\n            public void onDataSend(byte[] bytes) {\r\n                Log.i(&quot;data sent input&quot;, String.valueOf(bytes.length));\r\n            }\r\n\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nThe scenario is:\r\n- Launching the application and I see the list of event\r\n- I select an event and see the ScanActivity\r\n- When I scan a qrCode on the Scanner, the code inside the &quot;onDataReceived&quot; is executed and everything is fine till then\r\n- When I go back to the EventList and select another event, in the onCreate function I get the selected event information, but when I scan and inside the onDataReceived, I still get the previously selected event information \r\n\r\nWhy do I still have the previous variable inside the onDataReceived?","title":"Got old Activity variables inside onDataReceived Java Android SerialPort","body":"<p>I use serialportlib library from <a href=\"https://github.com/GeekBugs/Android-SerialPort/tree/master/serialportlib\" rel=\"nofollow noreferrer\">https://github.com/GeekBugs/Android-SerialPort/tree/master/serialportlib</a> in Android project.</p>\n<p>I have the two activities below:</p>\n<ul>\n<li>EventListActivity which redirects me to the second activity (ScanActivity) when I click an item from the list</li>\n</ul>\n<pre><code>@Override\n    public void onEventClick(int position) {\n        Intent intent = new Intent(EventListActivity.this, ScanActivity.class);\n        intent.putExtra(&quot;event&quot;,  events.get(position));\n        startActivity(intent);\n    }\n</code></pre>\n<ul>\n<li>And ScanActivity, which receive the event sent from EventListActivity and where I open the SerialPort to receive data from qrCode scanned by external scanner</li>\n</ul>\n<pre><code>public class ScanActivity extends AppCompatActivity {\n    private static final String OPEN_SIGNAL = &quot;AA5501F303&quot;;\n    private static final String CLOSE_SIGNAL = &quot;AA5501F305&quot;;\n    private SerialPortHelper inputSerialPortHelper;\n\n    private ByteArrayOutputStream byteArrayOutputStream;\n    private Event event;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_scan);\n        byteArrayOutputStream = new ByteArrayOutputStream();\n        event = (Event) getIntent().getExtras().get(&quot;event&quot;);\n        this.getSupportActionBar().setTitle(event.getTitle());\n        openScannerPort();\n    }\n\n    @Override\n    public void onBackPressed() {\n        super.onBackPressed();\n        if(inputSerialPortHelper != null) inputSerialPortHelper.close();\n        getIntent().removeExtra(&quot;event&quot;);\n        inputSerialPortHelper.setISerialPortDataListener(null);\n        finish();\n    }\n\n    private void openScannerPort() {\n        byteArrayOutputStream.reset();\n        inputSerialPortHelper = new SerialPortHelper();\n        openPort(inputSerialPortHelper, BAUDRATE.getBaudrate(BAUDRATE.B115200));\n        if (!inputSerialPortHelper.isOpen()) inputSerialPortHelper.open();\n        inputSerialPortHelper.setISerialPortDataListener(new ISerialPortDataListener() {\n            @RequiresApi(api = Build.VERSION_CODES.KITKAT)\n            @Override\n            public void onDataReceived(byte[] bytes) {\n                // process the received bytes\n                byteArrayOutputStream.write(bytes);\n            }\n\n            @Override\n            public void onDataSend(byte[] bytes) {\n                Log.i(&quot;data sent input&quot;, String.valueOf(bytes.length));\n            }\n\n        });\n    }\n}\n</code></pre>\n<p>The scenario is:</p>\n<ul>\n<li>Launching the application and I see the list of event</li>\n<li>I select an event and see the ScanActivity</li>\n<li>When I scan a qrCode on the Scanner, the code inside the &quot;onDataReceived&quot; is executed and everything is fine till then</li>\n<li>When I go back to the EventList and select another event, in the onCreate function I get the selected event information, but when I scan and inside the onDataReceived, I still get the previously selected event information</li>\n</ul>\n<p>Why do I still have the previous variable inside the onDataReceived?</p>\n"},{"tags":["java","android","notifications","android-8.0-oreo"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1665174092,"post_id":73992222,"comment_id":130646116,"body_markdown":"Note that a `NotificationChannel` is write-once; you cannot modify it once it is created. You may wish to fully uninstall and reinstall your app, then see if your channel works better.","body":"Note that a <code>NotificationChannel</code> is write-once; you cannot modify it once it is created. You may wish to fully uninstall and reinstall your app, then see if your channel works better."},{"owner":{"account_id":22638364,"reputation":11,"user_id":16814877,"display_name":"bruno13"},"score":0,"creation_date":1665174446,"post_id":73992222,"comment_id":130646197,"body_markdown":"@CommonsWare, It didn&#39;t work for me.","body":"@CommonsWare, It didn&#39;t work for me."}],"answers":[{"tags":[],"owner":{"account_id":22638364,"reputation":11,"user_id":16814877,"display_name":"bruno13"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665562820,"creation_date":1665562820,"answer_id":74038622,"question_id":73992222,"body_markdown":"Figured it out. The checks ```if (isSoundEnabled)``` and  ```if (isVibrationEnabled)``` were unnecessary. To control vibration and notification sounds on android oreo+, you need to create separate channels.","title":"an&#39;t set custom sound and vibration for notifications on Android Oreo+","body":"<p>Figured it out. The checks <code>if (isSoundEnabled)</code> and  <code>if (isVibrationEnabled)</code> were unnecessary. To control vibration and notification sounds on android oreo+, you need to create separate channels.</p>\n"}],"owner":{"account_id":22638364,"reputation":11,"user_id":16814877,"display_name":"bruno13"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74038622,"answer_count":1,"score":0,"last_activity_date":1665562820,"creation_date":1665173844,"question_id":73992222,"body_markdown":"I can&#39;t set custom notification sound and vibration pattern for android oreo and above. For earlier versions of android everything works as it should. I wrote my code based on these answers:\r\nhttps://stackoverflow.com/questions/51029659/custom-notification-sound-android-oreo,  \r\nhttps://stackoverflow.com/questions/50567164/custom-notification-sound-not-working-in-android-oreo \r\nand others.\r\nBut none of this had the desired result.\r\nThe notification comes, but without sound and vibration. The values of isSoundEnabled and isVibrationEnabled are transmitted correctly.\r\n\r\nMy method:\r\n\r\n```\r\n   private void sendNotif(String title, String text, boolean isSoundEnabled, boolean isVibrationEnabled) {\r\n\r\n        NotificationManagerCompat notificationManager = NotificationManagerCompat.from(context);\r\n\r\n        String channelName = &quot;EEE&quot;;\r\n        String channelId = &quot;CHANNEL_1&quot;;\r\n        long[] vibrationPattern = new long[]{40, 75, 75, 75, 75, 75, 75, 750};\r\n        long[] vibrationEmpty = new long[]{0};\r\n        Uri soundUri = Uri.parse(&quot;android.resource://&quot; + context.getPackageName() + &quot;/&quot; + R.raw.notification);\r\n\r\n        Intent intent = new Intent(context, ActivityOne.class);\r\n        PendingIntent pIntent = PendingIntent\r\n                .getActivity(context, 0, intent, PendingIntent.FLAG_CANCEL_CURRENT);\r\n\r\n        NotificationCompat.Builder builder;\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n\r\n            builder = new NotificationCompat.Builder(context, channelId)\r\n                            .setSmallIcon(R.mipmap.ic_launcher)\r\n                            .setContentTitle(title)\r\n                            .setContentText(text)\r\n                            .setPriority(NotificationCompat.PRIORITY_MAX)\r\n                            .setAutoCancel(true)\r\n                            .setContentIntent(pIntent);\r\n\r\n            NotificationChannel channel = new NotificationChannel(channelId, channelName, NotificationManager.IMPORTANCE_HIGH);\r\n\r\n            channel.enableLights(true);\r\n\r\n            if (isSoundEnabled) {\r\n                AudioAttributes audioAttributes = new AudioAttributes\r\n                        .Builder()\r\n                        .setContentType(AudioAttributes.CONTENT_TYPE_SONIFICATION)\r\n                        .setUsage(AudioAttributes.USAGE_NOTIFICATION)\r\n                        .build();\r\n                channel.setSound(soundUri, audioAttributes);\r\n            } else {\r\n                channel.setSound(null, null);\r\n            }\r\n\r\n            channel.enableVibration(isVibrationEnabled);\r\n\r\n            if (isVibrationEnabled){\r\n                channel.setVibrationPattern(vibrationPattern);\r\n            } else {\r\n                channel.setVibrationPattern(vibrationEmpty);\r\n            }\r\n            notificationManager.createNotificationChannel(channel);\r\n            builder.setChannelId(channelId);\r\n\r\n\r\n        } else {\r\n\r\n            builder = new NotificationCompat.Builder(context, channelName)\r\n                    .setSmallIcon(R.mipmap.ic_launcher)\r\n                    .setContentTitle(title)\r\n                    .setContentText(text)\r\n                    .setPriority(NotificationCompat.PRIORITY_MAX)\r\n                    .setAutoCancel(true)\r\n                    .setContentIntent(pIntent);\r\n\r\n            if (isSoundEnabled) {\r\n                builder.setSound(soundUri);\r\n            }\r\n            if (isVibrationEnabled) {\r\n                builder.setVibrate(vibrationPattern);\r\n            } else {\r\n                builder.setVibrate(vibrationEmpty);\r\n            }\r\n        }\r\n\r\n        notificationManager.notify(new Random().nextInt(10000), builder.build());\r\n    }\r\n\r\n```\r\n\r\nWhat am I doing wrong?\r\n\r\n","title":"an&#39;t set custom sound and vibration for notifications on Android Oreo+","body":"<p>I can't set custom notification sound and vibration pattern for android oreo and above. For earlier versions of android everything works as it should. I wrote my code based on these answers:\n<a href=\"https://stackoverflow.com/questions/51029659/custom-notification-sound-android-oreo\">Custom notification sound , android Oreo?</a>,<br />\n<a href=\"https://stackoverflow.com/questions/50567164/custom-notification-sound-not-working-in-android-oreo\">Custom Notification Sound not working in Android Oreo</a>\nand others.\nBut none of this had the desired result.\nThe notification comes, but without sound and vibration. The values of isSoundEnabled and isVibrationEnabled are transmitted correctly.</p>\n<p>My method:</p>\n<pre><code>   private void sendNotif(String title, String text, boolean isSoundEnabled, boolean isVibrationEnabled) {\n\n        NotificationManagerCompat notificationManager = NotificationManagerCompat.from(context);\n\n        String channelName = &quot;EEE&quot;;\n        String channelId = &quot;CHANNEL_1&quot;;\n        long[] vibrationPattern = new long[]{40, 75, 75, 75, 75, 75, 75, 750};\n        long[] vibrationEmpty = new long[]{0};\n        Uri soundUri = Uri.parse(&quot;android.resource://&quot; + context.getPackageName() + &quot;/&quot; + R.raw.notification);\n\n        Intent intent = new Intent(context, ActivityOne.class);\n        PendingIntent pIntent = PendingIntent\n                .getActivity(context, 0, intent, PendingIntent.FLAG_CANCEL_CURRENT);\n\n        NotificationCompat.Builder builder;\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n\n            builder = new NotificationCompat.Builder(context, channelId)\n                            .setSmallIcon(R.mipmap.ic_launcher)\n                            .setContentTitle(title)\n                            .setContentText(text)\n                            .setPriority(NotificationCompat.PRIORITY_MAX)\n                            .setAutoCancel(true)\n                            .setContentIntent(pIntent);\n\n            NotificationChannel channel = new NotificationChannel(channelId, channelName, NotificationManager.IMPORTANCE_HIGH);\n\n            channel.enableLights(true);\n\n            if (isSoundEnabled) {\n                AudioAttributes audioAttributes = new AudioAttributes\n                        .Builder()\n                        .setContentType(AudioAttributes.CONTENT_TYPE_SONIFICATION)\n                        .setUsage(AudioAttributes.USAGE_NOTIFICATION)\n                        .build();\n                channel.setSound(soundUri, audioAttributes);\n            } else {\n                channel.setSound(null, null);\n            }\n\n            channel.enableVibration(isVibrationEnabled);\n\n            if (isVibrationEnabled){\n                channel.setVibrationPattern(vibrationPattern);\n            } else {\n                channel.setVibrationPattern(vibrationEmpty);\n            }\n            notificationManager.createNotificationChannel(channel);\n            builder.setChannelId(channelId);\n\n\n        } else {\n\n            builder = new NotificationCompat.Builder(context, channelName)\n                    .setSmallIcon(R.mipmap.ic_launcher)\n                    .setContentTitle(title)\n                    .setContentText(text)\n                    .setPriority(NotificationCompat.PRIORITY_MAX)\n                    .setAutoCancel(true)\n                    .setContentIntent(pIntent);\n\n            if (isSoundEnabled) {\n                builder.setSound(soundUri);\n            }\n            if (isVibrationEnabled) {\n                builder.setVibrate(vibrationPattern);\n            } else {\n                builder.setVibrate(vibrationEmpty);\n            }\n        }\n\n        notificationManager.notify(new Random().nextInt(10000), builder.build());\n    }\n\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","oauth-2.0","google-api","offline","credentials"],"answers":[{"tags":[],"owner":{"account_id":11685067,"reputation":401,"user_id":8555304,"display_name":"Emre Dalkiran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525108434,"creation_date":1525107790,"answer_id":50105040,"question_id":50104138,"body_markdown":"According to documentation after you call `authorize` method, it calls `onAuthorization` method which eventually calls `browse` method using `authorizationUrl` to try to open browser automatically.\r\n\r\n    public static void browse(String url) {\r\n    Preconditions.checkNotNull(url);\r\n    // Ask user to open in their browser using copy-paste\r\n    System.out.println(&quot;Please open the following address in your browser:&quot;);\r\n    System.out.println(&quot;  &quot; + url);\r\n    // Attempt to open it in the browser\r\n    try {\r\n      if (Desktop.isDesktopSupported()) {\r\n        Desktop desktop = Desktop.getDesktop();\r\n        if (desktop.isSupported(Action.BROWSE)) {\r\n          System.out.println(&quot;Attempting to open that address in the default browser now...&quot;);\r\n          desktop.browse(URI.create(url));\r\n        }\r\n      }\r\n    } catch (IOException e) {\r\n      LOGGER.log(Level.WARNING, &quot;Unable to open browser&quot;, e);\r\n    } catch (InternalError e) {\r\n      // A bug in a JRE can cause Desktop.isDesktopSupported() to throw an\r\n      // InternalError rather than returning false. The error reads,\r\n      // &quot;Can&#39;t connect to X11 window server using &#39;:0.0&#39; as the value of the\r\n      // DISPLAY variable.&quot; The exact error message may vary slightly.\r\n      LOGGER.log(Level.WARNING, &quot;Unable to open browser&quot;, e);\r\n    }\r\n  }\r\n\r\nIt should be inside try block where it tries to open a browser. Look for `Desktop.isDesktopSuported` `and desktop.isSupported(Action.BROWSE)` is true for the platform you run your program.\r\n\r\n**Edit:** Above example is taken from Gmail service but oauth authorization flow is same for all Google products AFAIK.","title":"Google Java API for AuthorizationCodeInstalledApp for web application","body":"<p>According to documentation after you call <code>authorize</code> method, it calls <code>onAuthorization</code> method which eventually calls <code>browse</code> method using <code>authorizationUrl</code> to try to open browser automatically.</p>\n\n<pre><code>public static void browse(String url) {\nPreconditions.checkNotNull(url);\n// Ask user to open in their browser using copy-paste\nSystem.out.println(\"Please open the following address in your browser:\");\nSystem.out.println(\"  \" + url);\n// Attempt to open it in the browser\ntry {\n  if (Desktop.isDesktopSupported()) {\n    Desktop desktop = Desktop.getDesktop();\n    if (desktop.isSupported(Action.BROWSE)) {\n      System.out.println(\"Attempting to open that address in the default browser now...\");\n      desktop.browse(URI.create(url));\n    }\n  }\n} catch (IOException e) {\n  LOGGER.log(Level.WARNING, \"Unable to open browser\", e);\n} catch (InternalError e) {\n  // A bug in a JRE can cause Desktop.isDesktopSupported() to throw an\n  // InternalError rather than returning false. The error reads,\n  // \"Can't connect to X11 window server using ':0.0' as the value of the\n  // DISPLAY variable.\" The exact error message may vary slightly.\n  LOGGER.log(Level.WARNING, \"Unable to open browser\", e);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>It should be inside try block where it tries to open a browser. Look for <code>Desktop.isDesktopSuported</code> <code>and desktop.isSupported(Action.BROWSE)</code> is true for the platform you run your program.</p>\n\n<p><strong>Edit:</strong> Above example is taken from Gmail service but oauth authorization flow is same for all Google products AFAIK.</p>\n"},{"tags":[],"owner":{"account_id":14629088,"reputation":41,"user_id":10565515,"display_name":"Nicho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665562771,"creation_date":1665562771,"answer_id":74038607,"question_id":50104138,"body_markdown":"I&#39;m a bit late to the party but just in case anyone else is still looking for a solution.  This approach works within the Vaadin framework.\r\n\r\nImplement a custom browser and replace the default browser implementation.\r\n\r\n    import com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp.Browser;\r\n    import com.vaadin.base.devserver.util.BrowserLauncher;\r\n\r\n    public class CustomBrowser implements Browser {\r\n  \r\n        public void browse(String url) {\r\n            BrowserLauncher.launch(url, &quot;Unable to open browser&quot;);\r\n        }\r\n    }\r\n\r\n[BrowserLauncher Javadoc](https://vaadin.com/api/platform/23.2.4/com/vaadin/base/devserver/util/BrowserLauncher.html) - under the hood it uses the Node JavaScript library.\r\n\r\nThen replace the default browser with the custom browser.\r\n\r\n    credential = new AuthorizationCodeInstalledApp(flow, new LocalServerReceiver(), new CustomBrowser()).authorize(&quot;user&quot;);","title":"Google Java API for AuthorizationCodeInstalledApp for web application","body":"<p>I'm a bit late to the party but just in case anyone else is still looking for a solution.  This approach works within the Vaadin framework.</p>\n<p>Implement a custom browser and replace the default browser implementation.</p>\n<pre><code>import com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp.Browser;\nimport com.vaadin.base.devserver.util.BrowserLauncher;\n\npublic class CustomBrowser implements Browser {\n\n    public void browse(String url) {\n        BrowserLauncher.launch(url, &quot;Unable to open browser&quot;);\n    }\n}\n</code></pre>\n<p><a href=\"https://vaadin.com/api/platform/23.2.4/com/vaadin/base/devserver/util/BrowserLauncher.html\" rel=\"nofollow noreferrer\">BrowserLauncher Javadoc</a> - under the hood it uses the Node JavaScript library.</p>\n<p>Then replace the default browser with the custom browser.</p>\n<pre><code>credential = new AuthorizationCodeInstalledApp(flow, new LocalServerReceiver(), new CustomBrowser()).authorize(&quot;user&quot;);\n</code></pre>\n"}],"owner":{"account_id":3581220,"reputation":171,"user_id":2989397,"display_name":"user2989397"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2259,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1665562771,"creation_date":1525103969,"question_id":50104138,"body_markdown":"I&#39;m having some confusion with the API documentation and my use case, and how to handle the authorization token for my web application. I have a web service where users are signed into my application (not a Google app) and I need them to provide my service (Java with Spring Boot) authorization to upload for Youtube.  Later, I need to be able to use that authorization &quot;offline&quot; to upload videos to their channel, without them being logged into my service (an &quot;auto publishing&quot; type feature).  I&#39;ve tried numerous methodologies, and generally have this working, but run into some bumps for clean implementation:\r\n\r\n\t\t    GoogleAuthorizationCodeFlow flow =\r\n\t\t            new GoogleAuthorizationCodeFlow.Builder(\r\n\t\t            \t\thttpTransport, JSON_FACTORY, clientSecrets, scopes)\r\n\t\t                    .setDataStoreFactory(dataStoreFactory)\r\n\t\t                    .setAccessType(&quot;offline&quot;)\r\n\t\t                    .build();\r\n\r\n            credential = new AuthorizationCodeInstalledApp(\r\n\t\t            flow, new LocalServerReceiver()).authorize(&quot;user&quot;);\r\n\r\nProduces a console message with the url to provide the user to open in their browser.  I would have hoped the user would have be actually redirected.  I don&#39;t want this to be a manual process where I have to be at the console and then provide the user the url returned from this process for them to open in their own browser. The LocalServerReceiver, as I understand it, is for handling the actual access token response once authorization is given by the user.  I&#39;ve explored this at length, and couldn&#39;t find any document solution or anything in the examples where this didn&#39;t produce a console message to the affect &quot;paste the following url into your browser....&quot; with the authorization url.\r\n\r\nI tried using GoogleAuthorizationCodeFlow with:\r\n\r\n\t\t    GoogleAuthorizationCodeFlow flow = (new GoogleAuthorizationCodeFlow.Builder(httpTransport, JSON_FACTORY, clientSecrets, scopes))\r\n\t\t            .setDataStoreFactory(dataStoreFactory)\r\n\t\t            .setAccessType(&quot;offline&quot;)\r\n\t\t            .build();\r\n\t\t\t\t\t    \r\n\t\t    return flow.newAuthorizationUrl()\r\n\t\t            .setScopes(scopes)\r\n\t\t            .setAccessType(&quot;offline&quot;)\r\n\t\t            .setClientId(clientSecrets.getDetails().getClientId())\r\n\t\t            .setRedirectUri(redirectionUrl)\r\n\t\t            .toString();\r\n\r\nI put &quot;/oauth2-callback&quot; for my redirectionUrl, and this works (somewhat). I get the user to the Google authorization page, they authorize it and I get a token to my &quot;callback&quot; end point (&quot;/oauth2-callback&quot;), but that token doesn&#39;t appear to be fully authorized.  I store it in my data store ok, and see it there, but when I try to use it offline, I get an authorization error.  Going through more of the docs, I came upon this remaining code for handling the token sent back to my callback:\r\n\r\n\t\t    GoogleTokenResponse response = flow.newTokenRequest(token)\r\n\t\t            .setRedirectUri(redirectUrl).execute();\r\n\r\n\t\t    Credential credential = flow.createAndStoreCredential(response, &quot;user&quot;);\r\n\r\n The problem with this is that I&#39;m already in my callback endpoint, and this wants another redirectURL.  The token from the authorization doesn&#39;t work in offline mode until I do this &quot;newTokenRequest&quot;, which requires another redirect URL.  It appears to require the original redirectURL that was in the flow.newAuthorizationUrl() call, but when the newTokenRequest is executed, it produces another call back into that URL, and I end up getting a &quot;token already redeemed&quot; error.  \r\n\r\nIn either of my scenarios above, with AuthorizationCodeInstalledApp, or using flow.newAuthorizationUrl() with a callback url that I handle with the token with flow.newTokenRequest and flow.createAndStoreCredential, I do get a credential I can use offline later.  But I&#39;m having problem getting a smooth user experience in either one.  \r\n\r\nWhat am I missing in my scenario?\r\n","title":"Google Java API for AuthorizationCodeInstalledApp for web application","body":"<p>I'm having some confusion with the API documentation and my use case, and how to handle the authorization token for my web application. I have a web service where users are signed into my application (not a Google app) and I need them to provide my service (Java with Spring Boot) authorization to upload for Youtube.  Later, I need to be able to use that authorization \"offline\" to upload videos to their channel, without them being logged into my service (an \"auto publishing\" type feature).  I've tried numerous methodologies, and generally have this working, but run into some bumps for clean implementation:</p>\n\n<pre><code>        GoogleAuthorizationCodeFlow flow =\n                new GoogleAuthorizationCodeFlow.Builder(\n                        httpTransport, JSON_FACTORY, clientSecrets, scopes)\n                        .setDataStoreFactory(dataStoreFactory)\n                        .setAccessType(\"offline\")\n                        .build();\n\n        credential = new AuthorizationCodeInstalledApp(\n                flow, new LocalServerReceiver()).authorize(\"user\");\n</code></pre>\n\n<p>Produces a console message with the url to provide the user to open in their browser.  I would have hoped the user would have be actually redirected.  I don't want this to be a manual process where I have to be at the console and then provide the user the url returned from this process for them to open in their own browser. The LocalServerReceiver, as I understand it, is for handling the actual access token response once authorization is given by the user.  I've explored this at length, and couldn't find any document solution or anything in the examples where this didn't produce a console message to the affect \"paste the following url into your browser....\" with the authorization url.</p>\n\n<p>I tried using GoogleAuthorizationCodeFlow with:</p>\n\n<pre><code>        GoogleAuthorizationCodeFlow flow = (new GoogleAuthorizationCodeFlow.Builder(httpTransport, JSON_FACTORY, clientSecrets, scopes))\n                .setDataStoreFactory(dataStoreFactory)\n                .setAccessType(\"offline\")\n                .build();\n\n        return flow.newAuthorizationUrl()\n                .setScopes(scopes)\n                .setAccessType(\"offline\")\n                .setClientId(clientSecrets.getDetails().getClientId())\n                .setRedirectUri(redirectionUrl)\n                .toString();\n</code></pre>\n\n<p>I put \"/oauth2-callback\" for my redirectionUrl, and this works (somewhat). I get the user to the Google authorization page, they authorize it and I get a token to my \"callback\" end point (\"/oauth2-callback\"), but that token doesn't appear to be fully authorized.  I store it in my data store ok, and see it there, but when I try to use it offline, I get an authorization error.  Going through more of the docs, I came upon this remaining code for handling the token sent back to my callback:</p>\n\n<pre><code>        GoogleTokenResponse response = flow.newTokenRequest(token)\n                .setRedirectUri(redirectUrl).execute();\n\n        Credential credential = flow.createAndStoreCredential(response, \"user\");\n</code></pre>\n\n<p>The problem with this is that I'm already in my callback endpoint, and this wants another redirectURL.  The token from the authorization doesn't work in offline mode until I do this \"newTokenRequest\", which requires another redirect URL.  It appears to require the original redirectURL that was in the flow.newAuthorizationUrl() call, but when the newTokenRequest is executed, it produces another call back into that URL, and I end up getting a \"token already redeemed\" error.  </p>\n\n<p>In either of my scenarios above, with AuthorizationCodeInstalledApp, or using flow.newAuthorizationUrl() with a callback url that I handle with the token with flow.newTokenRequest and flow.createAndStoreCredential, I do get a credential I can use offline later.  But I'm having problem getting a smooth user experience in either one.  </p>\n\n<p>What am I missing in my scenario?</p>\n"},{"tags":["java","javafx","texture-mapping","javafx-3d"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1665412853,"post_id":74015876,"comment_id":130688376,"body_markdown":"Perhaps patch the [Sphere class](https://github.com/openjdk/jfx/blob/master/modules/javafx.graphics/src/main/java/javafx/scene/shape/Sphere.java#L336) in your installation with the suggested fix from the bug report.  You could instead modify the input texture so that the default JavaFX sphere texture mapper will work for your texture, but I don&#39;t know how you would do that.","body":"Perhaps patch the <a href=\"https://github.com/openjdk/jfx/blob/master/modules/javafx.graphics/src/main/java/javafx/scene/shape/Sphere.java#L336\" rel=\"nofollow noreferrer\">Sphere class</a> in your installation with the suggested fix from the bug report.  You could instead modify the input texture so that the default JavaFX sphere texture mapper will work for your texture, but I don&#39;t know how you would do that."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1665413065,"post_id":74015876,"comment_id":130688456,"body_markdown":"If anybody is wondering what the earth should look like, you can see it at [nasa](https://solarsystem.nasa.gov/resources/2393/earth-3d-model/).","body":"If anybody is wondering what the earth should look like, you can see it at <a href=\"https://solarsystem.nasa.gov/resources/2393/earth-3d-model/\" rel=\"nofollow noreferrer\">nasa</a>."}],"answers":[{"tags":[],"owner":{"account_id":15278389,"reputation":86,"user_id":11023497,"display_name":"Dario"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665562741,"creation_date":1665562741,"answer_id":74038601,"question_id":74015876,"body_markdown":"At the end I implement it myself using a mesh, for the purposes I needed for. Here is the code, in case you are interested (it will end up in a GitHub project anyway):\r\n\r\n    public static Group createEarthSphere() {\r\n        // Use triangular mesh\r\n        int latLevels = 90;\r\n        int lonLevels = 180;\r\n\r\n        TriangleMesh mesh = new TriangleMesh(VertexFormat.POINT_NORMAL_TEXCOORD);\r\n        double radius = EARTH_RADIUS;\r\n\r\n        double latIncAngle = (Math.PI/latLevels);\r\n        double lonIncAngle = (Math.PI * 2)/lonLevels;\r\n        double textLatIncr = 1.0/latLevels;\r\n        double textLonIncr = 1.0/lonLevels;\r\n\r\n        int currentPointOffset = 0;\r\n        int currentNormalOffset = 0;\r\n        int currentTextOffset = 0;\r\n        for(int i = 0; i &lt; latLevels; ++i) {\r\n            for(int j = 0; j &lt; lonLevels; ++j) {\r\n                // The point list is: top left - bottom left - bottom right - top right\r\n                // The faces-normal points are: (0,0) (1,1) (2,2) (0,3) (2,4) (3,5)\r\n                Point3D tp1 = new Point3D(0,radius * Math.cos(Math.PI - (i * latIncAngle)), radius * Math.sin(Math.PI - (i * latIncAngle)));\r\n                Point3D tp2 = new Point3D(0,radius * Math.cos(Math.PI - (i * latIncAngle + latIncAngle)), radius * Math.sin(Math.PI - (i * latIncAngle + latIncAngle)));\r\n                Point3D topLeft = new Rotate(Math.toDegrees(j * lonIncAngle), new Point3D(0, 1, 0)).transform(tp1);\r\n                Point3D bottomLeft =  new Rotate(Math.toDegrees(j * lonIncAngle), new Point3D(0, 1, 0)).transform(tp2);\r\n                Point3D bottomRight = new Rotate(Math.toDegrees(j * lonIncAngle + lonIncAngle), new Point3D(0, 1, 0)).transform(tp2);\r\n                Point3D topRight = new Rotate(Math.toDegrees(j * lonIncAngle + lonIncAngle), new Point3D(0, 1, 0)).transform(tp1);\r\n\r\n                // Compute normals\r\n                Point3D topLeftNormal_1 = computeNormal(topLeft, bottomLeft, bottomRight); // 0\r\n                Point3D bottomLeftNormal_1 = computeNormal(bottomLeft, bottomRight, topLeft); // 1\r\n                Point3D bottomRightNormal_1 = computeNormal(bottomRight, topLeft, bottomLeft); // 2\r\n                Point3D topLeftNormal_2 = computeNormal(topLeft, bottomRight, topRight); // 3\r\n                Point3D bottomRightNormal_2 = computeNormal(bottomRight, topRight, topLeft); // 4\r\n                Point3D topRightNormal_2 = computeNormal(topRight, topLeft, bottomRight); // 5\r\n\r\n                // Add points\r\n                mesh.getPoints().addAll((float) topLeft.getX(), (float) topLeft.getY(), (float) topLeft.getZ()); // 0\r\n                mesh.getPoints().addAll((float) bottomLeft.getX(), (float) bottomLeft.getY(), (float) bottomLeft.getZ()); // 1\r\n                mesh.getPoints().addAll((float) bottomRight.getX(), (float) bottomRight.getY(), (float) bottomRight.getZ()); // 2\r\n                mesh.getPoints().addAll((float) topRight.getX(), (float) topRight.getY(), (float) topRight.getZ()); // 3\r\n\r\n                // Add normals\r\n                mesh.getNormals().addAll((float) topLeftNormal_1.getX(), (float) topLeftNormal_1.getY(), (float) topLeftNormal_1.getZ()); // 0\r\n                mesh.getNormals().addAll((float) bottomLeftNormal_1.getX(), (float) bottomLeftNormal_1.getY(), (float) bottomLeftNormal_1.getZ()); // 1\r\n                mesh.getNormals().addAll((float) bottomRightNormal_1.getX(), (float) bottomRightNormal_1.getY(), (float) bottomRightNormal_1.getZ()); // 2\r\n                mesh.getNormals().addAll((float) topLeftNormal_2.getX(), (float) topLeftNormal_2.getY(), (float) topLeftNormal_2.getZ()); // 3\r\n                mesh.getNormals().addAll((float) bottomRightNormal_2.getX(), (float) bottomRightNormal_2.getY(), (float) bottomRightNormal_2.getZ()); // 4\r\n                mesh.getNormals().addAll((float) topRightNormal_2.getX(), (float) topRightNormal_2.getY(), (float) topRightNormal_2.getZ()); // 5\r\n\r\n                // Add texture\r\n                float[] p0t = { (float) (i * textLatIncr), 1.0f - (float) (j * textLonIncr) };\r\n                float[] p1t = { (float) (i * textLatIncr + textLatIncr), 1.0f - (float) (j * textLonIncr) };\r\n                float[] p2t = { (float) (i * textLatIncr + textLatIncr), 1.0f - (float) (j * textLonIncr + textLonIncr) };\r\n                float[] p3t = { (float) (i * textLatIncr), 1.0f - (float) (j * textLonIncr + textLonIncr) };\r\n\r\n                mesh.getTexCoords().addAll(\r\n                        p0t[1], p0t[0],\r\n                        p1t[1], p1t[0],\r\n                        p2t[1], p2t[0],\r\n                        p3t[1], p3t[0]\r\n                );\r\n\r\n                // Add faces\r\n                mesh.getFaces().addAll(\r\n                        currentPointOffset + 0, currentNormalOffset + 0, currentTextOffset + 0,\r\n                        currentPointOffset + 2, currentNormalOffset + 2, currentTextOffset + 2,\r\n                        currentPointOffset + 1, currentNormalOffset + 1, currentTextOffset + 1,\r\n                        currentPointOffset + 0, currentNormalOffset + 3, currentTextOffset + 0,\r\n                        currentPointOffset + 3, currentNormalOffset + 5, currentTextOffset + 3,\r\n                        currentPointOffset + 2, currentNormalOffset + 4, currentTextOffset + 2\r\n\r\n                );\r\n\r\n                currentPointOffset += 4;\r\n                currentNormalOffset += 6;\r\n                currentTextOffset += 4;\r\n            }\r\n        }\r\n\r\n        MeshView meshView = new MeshView(mesh);\r\n        meshView.setCullFace(CullFace.BACK);\r\n        PhongMaterial material = new PhongMaterial();\r\n        material.setDiffuseMap(new Image(Main.class.getResourceAsStream(&quot;/images/earth.jpg&quot;)));\r\n        meshView.setMaterial(material);\r\n        return new Group(meshView);\r\n    }\r\n\r\n    private static Point3D computeNormal(Point3D p1, Point3D p2, Point3D p3) {\r\n        return (p3.subtract(p1).normalize()).crossProduct(p2.subtract(p1).normalize()).normalize();\r\n    }\r\n\r\nThe result is:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNow everything is exactly where it should be, and lat/lon are correctly matching the texture.\r\n\r\n  [1]: https://i.stack.imgur.com/UXobI.png","title":"JavaFX 3d Sphere - texture mapping saving proportions?","body":"<p>At the end I implement it myself using a mesh, for the purposes I needed for. Here is the code, in case you are interested (it will end up in a GitHub project anyway):</p>\n<pre><code>public static Group createEarthSphere() {\n    // Use triangular mesh\n    int latLevels = 90;\n    int lonLevels = 180;\n\n    TriangleMesh mesh = new TriangleMesh(VertexFormat.POINT_NORMAL_TEXCOORD);\n    double radius = EARTH_RADIUS;\n\n    double latIncAngle = (Math.PI/latLevels);\n    double lonIncAngle = (Math.PI * 2)/lonLevels;\n    double textLatIncr = 1.0/latLevels;\n    double textLonIncr = 1.0/lonLevels;\n\n    int currentPointOffset = 0;\n    int currentNormalOffset = 0;\n    int currentTextOffset = 0;\n    for(int i = 0; i &lt; latLevels; ++i) {\n        for(int j = 0; j &lt; lonLevels; ++j) {\n            // The point list is: top left - bottom left - bottom right - top right\n            // The faces-normal points are: (0,0) (1,1) (2,2) (0,3) (2,4) (3,5)\n            Point3D tp1 = new Point3D(0,radius * Math.cos(Math.PI - (i * latIncAngle)), radius * Math.sin(Math.PI - (i * latIncAngle)));\n            Point3D tp2 = new Point3D(0,radius * Math.cos(Math.PI - (i * latIncAngle + latIncAngle)), radius * Math.sin(Math.PI - (i * latIncAngle + latIncAngle)));\n            Point3D topLeft = new Rotate(Math.toDegrees(j * lonIncAngle), new Point3D(0, 1, 0)).transform(tp1);\n            Point3D bottomLeft =  new Rotate(Math.toDegrees(j * lonIncAngle), new Point3D(0, 1, 0)).transform(tp2);\n            Point3D bottomRight = new Rotate(Math.toDegrees(j * lonIncAngle + lonIncAngle), new Point3D(0, 1, 0)).transform(tp2);\n            Point3D topRight = new Rotate(Math.toDegrees(j * lonIncAngle + lonIncAngle), new Point3D(0, 1, 0)).transform(tp1);\n\n            // Compute normals\n            Point3D topLeftNormal_1 = computeNormal(topLeft, bottomLeft, bottomRight); // 0\n            Point3D bottomLeftNormal_1 = computeNormal(bottomLeft, bottomRight, topLeft); // 1\n            Point3D bottomRightNormal_1 = computeNormal(bottomRight, topLeft, bottomLeft); // 2\n            Point3D topLeftNormal_2 = computeNormal(topLeft, bottomRight, topRight); // 3\n            Point3D bottomRightNormal_2 = computeNormal(bottomRight, topRight, topLeft); // 4\n            Point3D topRightNormal_2 = computeNormal(topRight, topLeft, bottomRight); // 5\n\n            // Add points\n            mesh.getPoints().addAll((float) topLeft.getX(), (float) topLeft.getY(), (float) topLeft.getZ()); // 0\n            mesh.getPoints().addAll((float) bottomLeft.getX(), (float) bottomLeft.getY(), (float) bottomLeft.getZ()); // 1\n            mesh.getPoints().addAll((float) bottomRight.getX(), (float) bottomRight.getY(), (float) bottomRight.getZ()); // 2\n            mesh.getPoints().addAll((float) topRight.getX(), (float) topRight.getY(), (float) topRight.getZ()); // 3\n\n            // Add normals\n            mesh.getNormals().addAll((float) topLeftNormal_1.getX(), (float) topLeftNormal_1.getY(), (float) topLeftNormal_1.getZ()); // 0\n            mesh.getNormals().addAll((float) bottomLeftNormal_1.getX(), (float) bottomLeftNormal_1.getY(), (float) bottomLeftNormal_1.getZ()); // 1\n            mesh.getNormals().addAll((float) bottomRightNormal_1.getX(), (float) bottomRightNormal_1.getY(), (float) bottomRightNormal_1.getZ()); // 2\n            mesh.getNormals().addAll((float) topLeftNormal_2.getX(), (float) topLeftNormal_2.getY(), (float) topLeftNormal_2.getZ()); // 3\n            mesh.getNormals().addAll((float) bottomRightNormal_2.getX(), (float) bottomRightNormal_2.getY(), (float) bottomRightNormal_2.getZ()); // 4\n            mesh.getNormals().addAll((float) topRightNormal_2.getX(), (float) topRightNormal_2.getY(), (float) topRightNormal_2.getZ()); // 5\n\n            // Add texture\n            float[] p0t = { (float) (i * textLatIncr), 1.0f - (float) (j * textLonIncr) };\n            float[] p1t = { (float) (i * textLatIncr + textLatIncr), 1.0f - (float) (j * textLonIncr) };\n            float[] p2t = { (float) (i * textLatIncr + textLatIncr), 1.0f - (float) (j * textLonIncr + textLonIncr) };\n            float[] p3t = { (float) (i * textLatIncr), 1.0f - (float) (j * textLonIncr + textLonIncr) };\n\n            mesh.getTexCoords().addAll(\n                    p0t[1], p0t[0],\n                    p1t[1], p1t[0],\n                    p2t[1], p2t[0],\n                    p3t[1], p3t[0]\n            );\n\n            // Add faces\n            mesh.getFaces().addAll(\n                    currentPointOffset + 0, currentNormalOffset + 0, currentTextOffset + 0,\n                    currentPointOffset + 2, currentNormalOffset + 2, currentTextOffset + 2,\n                    currentPointOffset + 1, currentNormalOffset + 1, currentTextOffset + 1,\n                    currentPointOffset + 0, currentNormalOffset + 3, currentTextOffset + 0,\n                    currentPointOffset + 3, currentNormalOffset + 5, currentTextOffset + 3,\n                    currentPointOffset + 2, currentNormalOffset + 4, currentTextOffset + 2\n\n            );\n\n            currentPointOffset += 4;\n            currentNormalOffset += 6;\n            currentTextOffset += 4;\n        }\n    }\n\n    MeshView meshView = new MeshView(mesh);\n    meshView.setCullFace(CullFace.BACK);\n    PhongMaterial material = new PhongMaterial();\n    material.setDiffuseMap(new Image(Main.class.getResourceAsStream(&quot;/images/earth.jpg&quot;)));\n    meshView.setMaterial(material);\n    return new Group(meshView);\n}\n\nprivate static Point3D computeNormal(Point3D p1, Point3D p2, Point3D p3) {\n    return (p3.subtract(p1).normalize()).crossProduct(p2.subtract(p1).normalize()).normalize();\n}\n</code></pre>\n<p>The result is:</p>\n<p><a href=\"https://i.stack.imgur.com/UXobI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UXobI.png\" alt=\"enter image description here\" /></a></p>\n<p>Now everything is exactly where it should be, and lat/lon are correctly matching the texture.</p>\n"}],"owner":{"account_id":15278389,"reputation":86,"user_id":11023497,"display_name":"Dario"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":74038601,"answer_count":1,"score":4,"last_activity_date":1665562741,"creation_date":1665409437,"question_id":74015876,"body_markdown":"I am trying to have a JavaFX 3D Sphere, textured with a texture of the earth. The texture is this one (from Wikipedia, an equirectangular projection):\r\n[![enter image description here][1]][1]\r\n\r\nThe sphere is rendered as follows:\r\n[![enter image description here][2]][2]\r\n\r\nYou can clearly see that, at the poles, the texture is not preserving the proportions anymore. I found a bug files on the openJDK system, which I think is related to this behaviour: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8092112\r\n\r\nSadly, in 7 years nobody made the change that the person filing the bug requested. Do you know if there is an alternative way to properly render an equirectangular sphere projection on a JavaFX 3D Sphere?\r\n\r\nJust for reference, the code that I using is:\r\n\r\n        Sphere earthSphere = new Sphere(EARTH_RADIUS, 256);\r\n        PhongMaterial material = new PhongMaterial();\r\n        material.setDiffuseMap(new Image(Main.class.getResourceAsStream(&quot;/images/earth2.jpg&quot;)));\r\n        earthSphere.setMaterial(material);\r\n\r\n  [1]: https://i.stack.imgur.com/3nxSO.jpg\r\n  [2]: https://i.stack.imgur.com/0Lme6.png","title":"JavaFX 3d Sphere - texture mapping saving proportions?","body":"<p>I am trying to have a JavaFX 3D Sphere, textured with a texture of the earth. The texture is this one (from Wikipedia, an equirectangular projection):\n<a href=\"https://i.stack.imgur.com/3nxSO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3nxSO.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The sphere is rendered as follows:\n<a href=\"https://i.stack.imgur.com/0Lme6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0Lme6.png\" alt=\"enter image description here\" /></a></p>\n<p>You can clearly see that, at the poles, the texture is not preserving the proportions anymore. I found a bug files on the openJDK system, which I think is related to this behaviour: <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8092112\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8092112</a></p>\n<p>Sadly, in 7 years nobody made the change that the person filing the bug requested. Do you know if there is an alternative way to properly render an equirectangular sphere projection on a JavaFX 3D Sphere?</p>\n<p>Just for reference, the code that I using is:</p>\n<pre><code>    Sphere earthSphere = new Sphere(EARTH_RADIUS, 256);\n    PhongMaterial material = new PhongMaterial();\n    material.setDiffuseMap(new Image(Main.class.getResourceAsStream(&quot;/images/earth2.jpg&quot;)));\n    earthSphere.setMaterial(material);\n</code></pre>\n"},{"tags":["java","android","android-room"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665562402,"creation_date":1665562034,"answer_id":74038457,"question_id":74038203,"body_markdown":"**The issue**\r\n\r\nWhen `@Relation` is used Room extracts the children (ALL children) per parent (effectively running a second query to extract the children, hence the recommendation for using `@Transaction` ). By specifying the JOIN you are extracting the same parent for each child (i.e. the cartesian product) and hence the duplication. \r\n\r\n- i.e. Room does the equivalent of the `JOIN` internally\r\n\r\n**The Fix**\r\n\r\n    @Transaction\r\n    @Query(&quot;SELECT * FROM customer_table&quot;)\r\n    List&lt;CustomerInvoice&gt; getAllCustInvoices();\r\n\r\n","title":"Android Room Relationship duplicating information","body":"<p><strong>The issue</strong></p>\n<p>When <code>@Relation</code> is used Room extracts the children (ALL children) per parent (effectively running a second query to extract the children, hence the recommendation for using <code>@Transaction</code> ). By specifying the JOIN you are extracting the same parent for each child (i.e. the cartesian product) and hence the duplication.</p>\n<ul>\n<li>i.e. Room does the equivalent of the <code>JOIN</code> internally</li>\n</ul>\n<p><strong>The Fix</strong></p>\n<pre><code>@Transaction\n@Query(&quot;SELECT * FROM customer_table&quot;)\nList&lt;CustomerInvoice&gt; getAllCustInvoices();\n</code></pre>\n"}],"owner":{"account_id":6239183,"reputation":347,"user_id":4853389,"display_name":"Raymond Herring"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74038457,"answer_count":1,"score":1,"last_activity_date":1665562402,"creation_date":1665560774,"question_id":74038203,"body_markdown":"Having the weirdest issue here, all is working fine, except that my 1-to-M query is duplicating the data.\r\n\r\n\r\n**Customer table**\r\n\r\n    @Entity(tableName = &quot;customer_table&quot;)\r\n    public class Customer {\r\n      @ColumnInfo(name = &quot;Customer_Serial&quot;, index = true)\r\n      @PrimaryKey\r\n      private int customerSerial;\r\n    \r\n      @ColumnInfo(name = &quot;Customer_Name&quot;)\r\n      private String customerName;\r\n    \r\n      public Customer(int customerSerial, String customerName) {\r\n        this.customerSerial = customerSerial;\r\n        this.customerName = customerName;\r\n      }\r\n    }\r\n\r\n\r\n**Invoice table**\r\n\r\n    @Entity(tableName = &quot;invoice_table&quot;)\r\n    public class Invoice {\r\n      @ColumnInfo(name = &quot;Invoice_Number&quot;, index = true)\r\n      @PrimaryKey\r\n      private int invoiceNumber;\r\n    \r\n      @ColumnInfo(name = &quot;Customer_Serial&quot;)\r\n      private int customerSerial;\r\n    \r\n      public Invoice(int invoiceNumber, int customerSerial) {\r\n        this.invoiceNumber = invoiceNumber;\r\n        this.customerSerial = customerSerial;\r\n      }\r\n    }\r\n\r\n**CustomerInvoice** relation\r\n\r\n    public class CustomerInvoice {\r\n      @Embedded public Customer customer;\r\n      @Relation(\r\n        parentColumn = &quot;Customer_Serial&quot;,\r\n        entityColumn = &quot;Customer_Serial&quot;\r\n      )\r\n    public List&lt;Invoice&gt; invoices;\r\n    }\r\n\r\n**DAO**\r\n\r\n    @Transaction\r\n    @Query(&quot;SELECT * FROM customer_table INNER JOIN invoice_table ON invoice_table.Customer_Serial = customer_table.Customer_Serial&quot;)\r\n    List&lt;CustomerInvoice&gt; getAllCustInvoices();\r\n\r\n    @Insert\r\n    void insertInvoice(Invoice... invoice);\r\n    \r\n    @Insert\r\n    void insertCustomer(Customer... customer);\r\n\r\n\r\nIf I debug my application, set a breakpoint to test the Room stuff, then use the &#39;Evaluate&#39; feature in Android Studio, I do the following\r\n\r\n\r\n    Invoice invoice1 = new Invoice(1234, 1);\r\n    Invoice invoice2 = new Invoice(2468, 1);\r\n    Customer customer = new Customer(1, &quot;Test Customer&quot;);\r\n    \r\n    dao.insertCustomer(customer);\r\n    dao.insertInvoice(invoice1);\r\n    dao.insertInvoice(invoice2);\r\n\r\n\r\n\r\nIf I then retrieve the information using ```getAllCustInvoices()```\r\n\r\nThe list returned has 2 in it.\r\n\r\nIt has the customer duplicated for each invoice assigned to them, and then both invoices listed in each 1.\r\n\r\nI&#39;m not entirely sure where I am going wrong here, this is a simplified example of what the app itself is actually doing, simplified enough to see if something else in my code was causing the problem or not.\r\n\r\nTurns out, even with the simplified example, it has the issue.","title":"Android Room Relationship duplicating information","body":"<p>Having the weirdest issue here, all is working fine, except that my 1-to-M query is duplicating the data.</p>\n<p><strong>Customer table</strong></p>\n<pre><code>@Entity(tableName = &quot;customer_table&quot;)\npublic class Customer {\n  @ColumnInfo(name = &quot;Customer_Serial&quot;, index = true)\n  @PrimaryKey\n  private int customerSerial;\n\n  @ColumnInfo(name = &quot;Customer_Name&quot;)\n  private String customerName;\n\n  public Customer(int customerSerial, String customerName) {\n    this.customerSerial = customerSerial;\n    this.customerName = customerName;\n  }\n}\n</code></pre>\n<p><strong>Invoice table</strong></p>\n<pre><code>@Entity(tableName = &quot;invoice_table&quot;)\npublic class Invoice {\n  @ColumnInfo(name = &quot;Invoice_Number&quot;, index = true)\n  @PrimaryKey\n  private int invoiceNumber;\n\n  @ColumnInfo(name = &quot;Customer_Serial&quot;)\n  private int customerSerial;\n\n  public Invoice(int invoiceNumber, int customerSerial) {\n    this.invoiceNumber = invoiceNumber;\n    this.customerSerial = customerSerial;\n  }\n}\n</code></pre>\n<p><strong>CustomerInvoice</strong> relation</p>\n<pre><code>public class CustomerInvoice {\n  @Embedded public Customer customer;\n  @Relation(\n    parentColumn = &quot;Customer_Serial&quot;,\n    entityColumn = &quot;Customer_Serial&quot;\n  )\npublic List&lt;Invoice&gt; invoices;\n}\n</code></pre>\n<p><strong>DAO</strong></p>\n<pre><code>@Transaction\n@Query(&quot;SELECT * FROM customer_table INNER JOIN invoice_table ON invoice_table.Customer_Serial = customer_table.Customer_Serial&quot;)\nList&lt;CustomerInvoice&gt; getAllCustInvoices();\n\n@Insert\nvoid insertInvoice(Invoice... invoice);\n\n@Insert\nvoid insertCustomer(Customer... customer);\n</code></pre>\n<p>If I debug my application, set a breakpoint to test the Room stuff, then use the 'Evaluate' feature in Android Studio, I do the following</p>\n<pre><code>Invoice invoice1 = new Invoice(1234, 1);\nInvoice invoice2 = new Invoice(2468, 1);\nCustomer customer = new Customer(1, &quot;Test Customer&quot;);\n\ndao.insertCustomer(customer);\ndao.insertInvoice(invoice1);\ndao.insertInvoice(invoice2);\n</code></pre>\n<p>If I then retrieve the information using <code>getAllCustInvoices()</code></p>\n<p>The list returned has 2 in it.</p>\n<p>It has the customer duplicated for each invoice assigned to them, and then both invoices listed in each 1.</p>\n<p>I'm not entirely sure where I am going wrong here, this is a simplified example of what the app itself is actually doing, simplified enough to see if something else in my code was causing the problem or not.</p>\n<p>Turns out, even with the simplified example, it has the issue.</p>\n"},{"tags":["java","mysql","database","spring-boot","entity"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":1,"creation_date":1665563849,"post_id":74038353,"comment_id":130727658,"body_markdown":"`deliverable_to` could be considered as JSON object. You can convert your map to JSON and store that JSON","body":"<code>deliverable_to</code> could be considered as JSON object. You can convert your map to JSON and store that JSON"},{"owner":{"account_id":2303214,"reputation":1704,"user_id":2023052,"accept_rate":100,"display_name":"Kevvvvyp"},"score":1,"creation_date":1665607209,"post_id":74038353,"comment_id":130743304,"body_markdown":"It sounds like the deliverableTo information should probably be in a separate database table (perhaps with product code being the mapping key).","body":"It sounds like the deliverableTo information should probably be in a separate database table (perhaps with product code being the mapping key)."},{"owner":{"account_id":18810786,"reputation":556,"user_id":13719014,"display_name":"Innomight"},"score":0,"creation_date":1665723213,"post_id":74038353,"comment_id":130769422,"body_markdown":"Yeah, I put it in a seperate table with pincodes and days needed to deliver to that location. Thanks!","body":"Yeah, I put it in a seperate table with pincodes and days needed to deliver to that location. Thanks!"}],"owner":{"account_id":18810786,"reputation":556,"user_id":13719014,"display_name":"Innomight"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665562230,"creation_date":1665561482,"question_id":74038353,"body_markdown":"I have an Entity which has a HashMap&lt;String, Integer&gt; in it. \r\nMy Product.java Entity file - \r\n\r\n    import java.util.HashMap;\r\n    import java.util.Objects;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    \r\n    @Entity\r\n    public class Product {\r\n    \r\n    \t@Id\r\n    \tprivate int productCode;\r\n    \t\r\n    \tprivate String name;\r\n    \tprivate String brand;\r\n    \tprivate String description;\r\n    \tprivate int price;\r\n    \tprivate HashMap&lt;String, Integer&gt; deliverableTo;\r\n\r\nThe deliverableTo has a HashMap&lt;String, Integer&gt;. I am writing this query - \r\n\r\n    INSERT INTO `product-browser`.`product` (`product_code`, `brand`, `deliverable_to`, `description`, `name`, `price`) VALUES (&#39;101&#39;, &#39;nVidia&#39;, (&#39;Mumbai&#39;, &#39;3&#39;), &#39;Graphics Card&#39;, &#39;RTX 3060&#39;, &#39;30000&#39;)\r\n\r\nI have also tried - \r\n\r\n    INSERT INTO `product-browser`.`product` (`product_code`, `brand`, `deliverable_to`, `description`, `name`, `price`) VALUES (&#39;101&#39;, &#39;nVidia&#39;, {&#39;Mumbai&#39;: &#39;3&#39;}, &#39;Graphics Card&#39;, &#39;RTX 3060&#39;, &#39;30000&#39;)\r\n\r\nI do not know how to enter a hashmap value into mysql table. \r\nI have product-browser database with product table in it.\r\n\r\nHere is a screenshot to make it more clear how the table looks like and what I am trying to do.\r\n[![Product Table][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qaErm.png","title":"How to enter a hashmap&lt;&gt; into mysql column attribute? [Java, MySql]","body":"<p>I have an Entity which has a HashMap&lt;String, Integer&gt; in it.\nMy Product.java Entity file -</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Objects;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\n\n@Entity\npublic class Product {\n\n    @Id\n    private int productCode;\n    \n    private String name;\n    private String brand;\n    private String description;\n    private int price;\n    private HashMap&lt;String, Integer&gt; deliverableTo;\n</code></pre>\n<p>The deliverableTo has a HashMap&lt;String, Integer&gt;. I am writing this query -</p>\n<pre><code>INSERT INTO `product-browser`.`product` (`product_code`, `brand`, `deliverable_to`, `description`, `name`, `price`) VALUES ('101', 'nVidia', ('Mumbai', '3'), 'Graphics Card', 'RTX 3060', '30000')\n</code></pre>\n<p>I have also tried -</p>\n<pre><code>INSERT INTO `product-browser`.`product` (`product_code`, `brand`, `deliverable_to`, `description`, `name`, `price`) VALUES ('101', 'nVidia', {'Mumbai': '3'}, 'Graphics Card', 'RTX 3060', '30000')\n</code></pre>\n<p>I do not know how to enter a hashmap value into mysql table.\nI have product-browser database with product table in it.</p>\n<p>Here is a screenshot to make it more clear how the table looks like and what I am trying to do.\n<a href=\"https://i.stack.imgur.com/qaErm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qaErm.png\" alt=\"Product Table\" /></a></p>\n"},{"tags":["java","jax-rs","dropwizard"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1665517230,"post_id":74033264,"comment_id":130718149,"body_markdown":"*What* is the error reading from the input stream?  There is almost certainly more information.  And is `InactiveAgentsDto` [Serializable](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Serializable.html)?","body":"<i>What</i> is the error reading from the input stream?  There is almost certainly more information.  And is <code>InactiveAgentsDto</code> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Serializable.html\" rel=\"nofollow noreferrer\">Serializable</a>?"},{"owner":{"account_id":25785912,"reputation":52,"user_id":19530736,"display_name":"CuriousCat"},"score":0,"creation_date":1665517523,"post_id":74033264,"comment_id":130718251,"body_markdown":"The Object is Serializable. There is no other error message apart from that","body":"The Object is Serializable. There is no other error message apart from that"}],"answers":[{"tags":[],"owner":{"account_id":25785912,"reputation":52,"user_id":19530736,"display_name":"CuriousCat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665561817,"creation_date":1665561817,"answer_id":74038425,"question_id":74033264,"body_markdown":"This is the fix. I created a new class that contains a List of inactive agents. The class is called AllAgentsInfo.\r\n\r\n    public class AllAgentsInfo {\r\n        private List&lt;InactiveAgentsDto&gt; data;\r\n    }\r\nThen I had to rewrite the method to this\r\n\r\n \r\n\r\n    public AllAgentsInfo fetchAgentsUnderAggregator(String aggregatorId, String token) throws RecordNotFoundException,\r\n                IOException {\r\n            String url = this.baseUrl+&quot;/api/v1/users/aggregator/agent/&quot; + aggregatorId;\r\n            Response response = client.target(url).request().header(HttpHeaders.AUTHORIZATION, token).get();\r\n    \r\n            String stringEntity = response.readEntity(String.class);\r\n    \r\n            ResponseDto responseDto  = new ObjectMapper().readValue(stringEntity, ResponseDto.class);\r\n    \r\n            if(Objects.isNull(responseDto) || !responseDto.isStatus()){\r\n                String message = Objects.isNull(responseDto) || Objects.isNull(responseDto.getMessage()) ? &quot;Unable to get agent information&quot; : responseDto.getMessage();\r\n                throw new InternalServerErrorException(message);\r\n            }\r\n            return  new ObjectMapper().convertValue(responseDto, AllAgentsInfo.class);\r\n    \r\n        }\r\nThis fixed my problem. In case you are wondering what the ResponseDTO.\r\n\r\n    public class ResponseDto&lt;T&gt; {\r\n        private String message;\r\n        private String responseCode;\r\n        private boolean status;\r\n        private T data;\r\n    \r\n        public ResponseDto(String message, String responseCode, boolean status, T data) {\r\n            this.message = message;\r\n            this.responseCode = responseCode;\r\n            this.status = status;\r\n            this.data = data;\r\n        }\r\n    }\r\n\r\n","title":"javax.ws.rs.ProcessingException: Error reading entity from input stream while reading List of an Object in Java","body":"<p>This is the fix. I created a new class that contains a List of inactive agents. The class is called AllAgentsInfo.</p>\n<pre><code>public class AllAgentsInfo {\n    private List&lt;InactiveAgentsDto&gt; data;\n}\n</code></pre>\n<p>Then I had to rewrite the method to this</p>\n<pre><code>public AllAgentsInfo fetchAgentsUnderAggregator(String aggregatorId, String token) throws RecordNotFoundException,\n            IOException {\n        String url = this.baseUrl+&quot;/api/v1/users/aggregator/agent/&quot; + aggregatorId;\n        Response response = client.target(url).request().header(HttpHeaders.AUTHORIZATION, token).get();\n\n        String stringEntity = response.readEntity(String.class);\n\n        ResponseDto responseDto  = new ObjectMapper().readValue(stringEntity, ResponseDto.class);\n\n        if(Objects.isNull(responseDto) || !responseDto.isStatus()){\n            String message = Objects.isNull(responseDto) || Objects.isNull(responseDto.getMessage()) ? &quot;Unable to get agent information&quot; : responseDto.getMessage();\n            throw new InternalServerErrorException(message);\n        }\n        return  new ObjectMapper().convertValue(responseDto, AllAgentsInfo.class);\n\n    }\n</code></pre>\n<p>This fixed my problem. In case you are wondering what the ResponseDTO.</p>\n<pre><code>public class ResponseDto&lt;T&gt; {\n    private String message;\n    private String responseCode;\n    private boolean status;\n    private T data;\n\n    public ResponseDto(String message, String responseCode, boolean status, T data) {\n        this.message = message;\n        this.responseCode = responseCode;\n        this.status = status;\n        this.data = data;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25785912,"reputation":52,"user_id":19530736,"display_name":"CuriousCat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":902,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74038425,"answer_count":1,"score":0,"last_activity_date":1665562230,"creation_date":1665516952,"question_id":74033264,"body_markdown":"I am using Dropwizard. I am trying to use Response to read a class that returns a list of an Object. I have tried using Generic Type and read comments of people who have similar issues but I still have the same error message on hitting the endpoint.\r\n\r\nThis is the method that calls the api.\r\n\r\n    public List&lt;InactiveAgentsDto&gt; fetchAgentsUnderAggregator(String aggregatorId, String token) throws RecordNotFoundException, IOException {\r\n            String url = this.baseUrl+&quot;/api/v1/users/aggregator/agent/&quot; + aggregatorId;\r\n            Response response = client.target(url).request().header(HttpHeaders.AUTHORIZATION, token).get();\r\n            \r\n            if(response.getStatus() == 200){\r\n                List&lt;InactiveAgentsDto&gt; allAgents = response.readEntity(new GenericType&lt;List&lt;InactiveAgentsDto&gt;&gt;(){});\r\n                return allAgents;\r\n            }\r\n            throw new RecordNotFoundException(response.getStatusInfo().getReasonPhrase());\r\n        }\r\n\r\nThis is the error that I have.\r\n\r\n    javax.ws.rs.ProcessingException: Error reading entity from input stream\r\n\r\n\r\nI have also tried this \r\n\r\n     return response.readEntity(new ArrayList&lt;InactiveAgentsDto&gt;().getClass());\r\n\r\nI get the same error message as above. \r\n\r\non logging String.class, I get the desired data that I need.\r\n\r\n    log.info(&quot;This is the error message {}&quot;, response.readEntity(String.class)); \r\n\r\nThis prints the list of data to the console. Still wondering what I am doing wrong.\r\n\r\nThis is the content of inactiveAgentsDTO \r\n\r\n\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public classInactiveAgentsDto {\r\n    \r\n        private String agentId;\r\n        private String firstName;\r\n        private String lastName;\r\n        private String state;\r\n        private String aggregatorId;\r\n        private String phoneNumber;\r\n        private BigDecimal cashOutAmount;\r\n        private long cashOutCount;\r\n        private Types.AgentTransactionStatus status;\r\n    }\r\nI have taken out the imports. \r\n\r\n","title":"javax.ws.rs.ProcessingException: Error reading entity from input stream while reading List of an Object in Java","body":"<p>I am using Dropwizard. I am trying to use Response to read a class that returns a list of an Object. I have tried using Generic Type and read comments of people who have similar issues but I still have the same error message on hitting the endpoint.</p>\n<p>This is the method that calls the api.</p>\n<pre><code>public List&lt;InactiveAgentsDto&gt; fetchAgentsUnderAggregator(String aggregatorId, String token) throws RecordNotFoundException, IOException {\n        String url = this.baseUrl+&quot;/api/v1/users/aggregator/agent/&quot; + aggregatorId;\n        Response response = client.target(url).request().header(HttpHeaders.AUTHORIZATION, token).get();\n        \n        if(response.getStatus() == 200){\n            List&lt;InactiveAgentsDto&gt; allAgents = response.readEntity(new GenericType&lt;List&lt;InactiveAgentsDto&gt;&gt;(){});\n            return allAgents;\n        }\n        throw new RecordNotFoundException(response.getStatusInfo().getReasonPhrase());\n    }\n</code></pre>\n<p>This is the error that I have.</p>\n<pre><code>javax.ws.rs.ProcessingException: Error reading entity from input stream\n</code></pre>\n<p>I have also tried this</p>\n<pre><code> return response.readEntity(new ArrayList&lt;InactiveAgentsDto&gt;().getClass());\n</code></pre>\n<p>I get the same error message as above.</p>\n<p>on logging String.class, I get the desired data that I need.</p>\n<pre><code>log.info(&quot;This is the error message {}&quot;, response.readEntity(String.class)); \n</code></pre>\n<p>This prints the list of data to the console. Still wondering what I am doing wrong.</p>\n<p>This is the content of inactiveAgentsDTO</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic classInactiveAgentsDto {\n\n    private String agentId;\n    private String firstName;\n    private String lastName;\n    private String state;\n    private String aggregatorId;\n    private String phoneNumber;\n    private BigDecimal cashOutAmount;\n    private long cashOutCount;\n    private Types.AgentTransactionStatus status;\n}\n</code></pre>\n<p>I have taken out the imports.</p>\n"},{"tags":["java","spring-boot","gradle"],"comments":[{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":0,"creation_date":1665562755,"post_id":74038428,"comment_id":130727286,"body_markdown":"I feel you are selecting wrong project it should be discoverymind&gt; discoverymind\n\ncheck which is actual java project and point to that","body":"I feel you are selecting wrong project it should be discoverymind&gt; discoverymind  check which is actual java project and point to that"},{"owner":{"account_id":10859543,"reputation":1,"user_id":7984789,"display_name":"Debashish Chakraborty"},"score":0,"creation_date":1665567261,"post_id":74038428,"comment_id":130728945,"body_markdown":"i tried woth discoverymind&gt;discoverymind its not working .I found the same is working with mac OS the problem is with windows only .Suspecting any issue with gradle file or not .But not sure","body":"i tried woth discoverymind&gt;discoverymind its not working .I found the same is working with mac OS the problem is with windows only .Suspecting any issue with gradle file or not .But not sure"}],"owner":{"account_id":10859543,"reputation":1,"user_id":7984789,"display_name":"Debashish Chakraborty"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665561840,"creation_date":1665561840,"question_id":74038428,"body_markdown":"After importing existing gradle project while setting the Run configuration the project dropdown is showing as disabled .Also the imported project in not showing in package structure.[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nOF7D.png","title":"After importing existing gradle project while setting the Run configuration the project dropdown is showing as disabled","body":"<p>After importing existing gradle project while setting the Run configuration the project dropdown is showing as disabled .Also the imported project in not showing in package structure.<a href=\"https://i.stack.imgur.com/nOF7D.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","android","node.js","android-studio","websocket"],"owner":{"account_id":14608940,"reputation":158,"user_id":15010114,"display_name":"Ah Fook"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665561168,"creation_date":1665552529,"question_id":74036890,"body_markdown":"I have a websocket server file called `server.js`\r\n\r\n    const express = require(&#39;express&#39;);\r\n    const http = require(&#39;http&#39;);\r\n    const WebSocket = require(&#39;ws&#39;);\r\n    \r\n    const port = 1234;\r\n    const server = http.createServer(express);\r\n    const wss = new WebSocket.Server({ server });\r\n    \r\n    server.listen(port, function() {\r\n        console.log(`Server is listening on port ${port}`);\r\n    })\r\n    \r\n    wss.on(&#39;connection&#39;, function connection(ws, req) {\r\n        console.log(&quot;connected&quot;);\r\n    \r\n        ws.on(&#39;message&#39;, function incoming(data) {\r\n            wss.clients.forEach(function each(client) {\r\n                if(client !== ws &amp;&amp; client.readyState == WebSocket.OPEN) {\r\n                    client.send(data.toString());\r\n                    console.log(client.id + &quot; =&gt; &quot; + data.toString());\r\n                }\r\n            })\r\n        })\r\n    })\r\n\r\nIn java i wanted to connect to the websocket with `initiateWebSocket()` function\r\n\r\n    private void instantiateWebSocket() {\r\n        OkHttpClient client = new OkHttpClient();\r\n        Request request = new Request.Builder().url(WEBSOCKET_URL).build();\r\n        SocketListener socketListener = new SocketListener(this);\r\n        webSocket = client.newWebSocket(request, socketListener);\r\n    }\r\n\r\n    public class SocketListener extends WebSocketListener {\r\n\r\n        public MainActivity activity;\r\n        public SocketListener (MainActivity activity) {\r\n            this.activity = activity;\r\n        }\r\n\r\n        @Override\r\n        public void onOpen(@NonNull WebSocket webSocket, @NonNull Response response) {\r\n            super.onOpen(webSocket, response);\r\n\r\n            activity.runOnUiThread(() -&gt; Toast.makeText(activity, &quot;Connection starts&quot;, Toast.LENGTH_LONG).show());\r\n            webSocket.send(&quot;Hello...&quot;); // send message here Hello\r\n        }\r\n    }\r\n\r\nSo I wanted to send the word &quot;**Hello...**&quot; when the connection is connected to the websocket.\r\n\r\nOn my `server.js`, it showed `connected`, which means ws.on(&quot;connection&quot;) is executed...\r\n\r\nBut the weird part is ws.on(&quot;message&quot;) is not executed and **Hello...** is not received\r\n\r\nAlso note that I didn&#39;t received any errors, everything is working fine, only **Hello...** is not received.\r\n\r\nAny advice? Thank you.\r\n","title":"Java Android Studio + NodeJS Server Websocket connected but no message sent","body":"<p>I have a websocket server file called <code>server.js</code></p>\n<pre><code>const express = require('express');\nconst http = require('http');\nconst WebSocket = require('ws');\n\nconst port = 1234;\nconst server = http.createServer(express);\nconst wss = new WebSocket.Server({ server });\n\nserver.listen(port, function() {\n    console.log(`Server is listening on port ${port}`);\n})\n\nwss.on('connection', function connection(ws, req) {\n    console.log(&quot;connected&quot;);\n\n    ws.on('message', function incoming(data) {\n        wss.clients.forEach(function each(client) {\n            if(client !== ws &amp;&amp; client.readyState == WebSocket.OPEN) {\n                client.send(data.toString());\n                console.log(client.id + &quot; =&gt; &quot; + data.toString());\n            }\n        })\n    })\n})\n</code></pre>\n<p>In java i wanted to connect to the websocket with <code>initiateWebSocket()</code> function</p>\n<pre><code>private void instantiateWebSocket() {\n    OkHttpClient client = new OkHttpClient();\n    Request request = new Request.Builder().url(WEBSOCKET_URL).build();\n    SocketListener socketListener = new SocketListener(this);\n    webSocket = client.newWebSocket(request, socketListener);\n}\n\npublic class SocketListener extends WebSocketListener {\n\n    public MainActivity activity;\n    public SocketListener (MainActivity activity) {\n        this.activity = activity;\n    }\n\n    @Override\n    public void onOpen(@NonNull WebSocket webSocket, @NonNull Response response) {\n        super.onOpen(webSocket, response);\n\n        activity.runOnUiThread(() -&gt; Toast.makeText(activity, &quot;Connection starts&quot;, Toast.LENGTH_LONG).show());\n        webSocket.send(&quot;Hello...&quot;); // send message here Hello\n    }\n}\n</code></pre>\n<p>So I wanted to send the word &quot;<strong>Hello...</strong>&quot; when the connection is connected to the websocket.</p>\n<p>On my <code>server.js</code>, it showed <code>connected</code>, which means ws.on(&quot;connection&quot;) is executed...</p>\n<p>But the weird part is ws.on(&quot;message&quot;) is not executed and <strong>Hello...</strong> is not received</p>\n<p>Also note that I didn't received any errors, everything is working fine, only <strong>Hello...</strong> is not received.</p>\n<p>Any advice? Thank you.</p>\n"},{"tags":["java","events","jakarta-ee","cdi","cdi-2.0"],"answers":[{"tags":[],"owner":{"account_id":6963528,"reputation":6523,"user_id":5342297,"display_name":"Siliarus"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1497614304,"creation_date":1497614304,"answer_id":44588733,"question_id":44586297,"body_markdown":"A very good question indeed, here is a bit of insight.\r\n\r\nCDI EG (expert group) decided against mixing those two for several reasons:\r\n\r\n * Backward compatibility\r\n  * Existing applications use synchronous and it needs to behave equally\r\n  * Keeping the same annotation would require you to add extra option to differentiate anyway\r\n * Return type\r\n  * Calling `Event.fireAsync()` gives you a `CompletionStage` to which you can chain next steps with `exceptionally()` or `thenApply()` etc. This naturally fits into asynchronous programming model.\r\n  * Good old `Event.fire()` only gives you `void`, to which you cannot react at all - not good for async\r\n  * Again, the return value of synchronous one cannot be changed due to backward compatibility  \r\n * Excepting handling differs **a lot**\r\n  * Exception in synchronous notification == end of chain, you blow up\r\n  * Exception in asynchronous notification == you keep going and gather all exceptions from observer methods (possibly from multiple threads!) and then present them back to invoking code. Since it&#39;s `CompletionStage`, you can easily react to that.\r\n  * Mixing the two would lead to a very confusing result on user side - when would you blow up and when do you keep going? What is the true outcome of `Event.fire()` (if it were for async as well)\r\n * Internal observer processing\r\n  * It would be very complex (assuming it would even be possible) to mix sync and async\r\n  * Bear in mind that you need to strictly draw a line between which is going to be sync and async as contexts do not propagate in other threads (for instance `RequestScoped` needs to be re-activated, by Weld, in the async observer thread)\r\n  * Similar troubles come with security context propagation for integrators\r\n  * There is often pre-processing of observers to make it work really fast, if you have one observer method for both, you cannot really pre-process it as you never know what it will be used for\r\n\r\nOther advantages of the current model I can think of:\r\n\r\n * Presence of `fireAsync()` allows you to fire event with additional options\r\n  * There are so called [`NotificationOptions`][1] which allow you to specify an executor for your notifications\r\n  * This also gives more firepower to implementations - Weld already offers [parallel execution and timeouts][2] through these options\r\n * Last but not least - user experience\r\n  * This way it is clear, that what you had before works exactly the same\r\n  * And that for `fireAsync()` you have matching `@ObservesAsync`\r\n\r\n\r\n  [1]: http://docs.jboss.org/cdi/spec/2.0/cdi-spec.html#event\r\n  [2]: http://docs.jboss.org/weld/reference/latest-master/en-US/html_single/#_asynchronous_event_producers","title":"Why Event.fireAsync() requires an @ObservesAsync annotation?","body":"<p>A very good question indeed, here is a bit of insight.</p>\n\n<p>CDI EG (expert group) decided against mixing those two for several reasons:</p>\n\n<ul>\n<li>Backward compatibility\n\n<ul>\n<li>Existing applications use synchronous and it needs to behave equally</li>\n<li>Keeping the same annotation would require you to add extra option to differentiate anyway</li>\n</ul></li>\n<li>Return type\n\n<ul>\n<li>Calling <code>Event.fireAsync()</code> gives you a <code>CompletionStage</code> to which you can chain next steps with <code>exceptionally()</code> or <code>thenApply()</code> etc. This naturally fits into asynchronous programming model.</li>\n<li>Good old <code>Event.fire()</code> only gives you <code>void</code>, to which you cannot react at all - not good for async</li>\n<li>Again, the return value of synchronous one cannot be changed due to backward compatibility  </li>\n</ul></li>\n<li>Excepting handling differs <strong>a lot</strong>\n\n<ul>\n<li>Exception in synchronous notification == end of chain, you blow up</li>\n<li>Exception in asynchronous notification == you keep going and gather all exceptions from observer methods (possibly from multiple threads!) and then present them back to invoking code. Since it's <code>CompletionStage</code>, you can easily react to that.</li>\n<li>Mixing the two would lead to a very confusing result on user side - when would you blow up and when do you keep going? What is the true outcome of <code>Event.fire()</code> (if it were for async as well)</li>\n</ul></li>\n<li>Internal observer processing\n\n<ul>\n<li>It would be very complex (assuming it would even be possible) to mix sync and async</li>\n<li>Bear in mind that you need to strictly draw a line between which is going to be sync and async as contexts do not propagate in other threads (for instance <code>RequestScoped</code> needs to be re-activated, by Weld, in the async observer thread)</li>\n<li>Similar troubles come with security context propagation for integrators</li>\n<li>There is often pre-processing of observers to make it work really fast, if you have one observer method for both, you cannot really pre-process it as you never know what it will be used for</li>\n</ul></li>\n</ul>\n\n<p>Other advantages of the current model I can think of:</p>\n\n<ul>\n<li>Presence of <code>fireAsync()</code> allows you to fire event with additional options\n\n<ul>\n<li>There are so called <a href=\"http://docs.jboss.org/cdi/spec/2.0/cdi-spec.html#event\" rel=\"noreferrer\"><code>NotificationOptions</code></a> which allow you to specify an executor for your notifications</li>\n<li>This also gives more firepower to implementations - Weld already offers <a href=\"http://docs.jboss.org/weld/reference/latest-master/en-US/html_single/#_asynchronous_event_producers\" rel=\"noreferrer\">parallel execution and timeouts</a> through these options</li>\n</ul></li>\n<li>Last but not least - user experience\n\n<ul>\n<li>This way it is clear, that what you had before works exactly the same</li>\n<li>And that for <code>fireAsync()</code> you have matching <code>@ObservesAsync</code></li>\n</ul></li>\n</ul>\n"}],"owner":{"account_id":108510,"reputation":26313,"user_id":287976,"accept_rate":92,"display_name":"brandizzi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2947,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":44588733,"answer_count":1,"score":7,"last_activity_date":1665561101,"creation_date":1497606963,"question_id":44586297,"body_markdown":"In CDI 2.0 one [can fire an event asynchronously](http://weld.cdi-spec.org/news/2017/05/19/tour-around-weld-3/#_async_events_and_notification_options) by calling `Event.fireAsync()` and then listen to this event by with a `@ObservesAsync` annotated listener.\r\n\r\nWhy do we need both `Event.firesAsync()` and `@ObservesAsync`?\r\n\r\n* Couldn&#39;t CDI 2.0 process asynchronously an event fired by `Event.fire()` and caught with `@ObservesAsync`?\r\n* Or reversely, why couldn&#39;t CDI 2.0 asynchronously process an event fired by `Event.fireAsync()` and caught with `@Observes`?","title":"Why Event.fireAsync() requires an @ObservesAsync annotation?","body":"<p>In CDI 2.0 one <a href=\"http://weld.cdi-spec.org/news/2017/05/19/tour-around-weld-3/#_async_events_and_notification_options\" rel=\"nofollow noreferrer\">can fire an event asynchronously</a> by calling <code>Event.fireAsync()</code> and then listen to this event by with a <code>@ObservesAsync</code> annotated listener.</p>\n<p>Why do we need both <code>Event.firesAsync()</code> and <code>@ObservesAsync</code>?</p>\n<ul>\n<li>Couldn't CDI 2.0 process asynchronously an event fired by <code>Event.fire()</code> and caught with <code>@ObservesAsync</code>?</li>\n<li>Or reversely, why couldn't CDI 2.0 asynchronously process an event fired by <code>Event.fireAsync()</code> and caught with <code>@Observes</code>?</li>\n</ul>\n"},{"tags":["java","spring-boot","ignite"],"answers":[{"tags":[],"owner":{"account_id":14422240,"reputation":167,"user_id":12446654,"display_name":"Capitano Giovarco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665560826,"creation_date":1665560826,"answer_id":74038220,"question_id":74038012,"body_markdown":"It turns out that the path doesn&#39;t exist and it doesn&#39;t get created automatically. This resolves my error message but creates a new one, for which I create a new question","title":"Cannot override Spring Ignite Autoconfiguration","body":"<p>It turns out that the path doesn't exist and it doesn't get created automatically. This resolves my error message but creates a new one, for which I create a new question</p>\n"}],"owner":{"account_id":14422240,"reputation":167,"user_id":12446654,"display_name":"Capitano Giovarco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665560826,"creation_date":1665559827,"question_id":74038012,"body_markdown":"I have a project with Spring Boot and Ignite. Everything works as long as I use the default configuration provided for Spring. However, the default behavior is in-memory database and I&#39;d like to activate the Ignite Persistence so that I write records on disk in addition to have cache, which shouldn&#39;t be hard.\r\n\r\nI checked the `IgniteAutoConfiguration.java` and based on that I wrote this class:\r\n\r\n    @Configuration\r\n    public class IgniteManualConfiguration {\r\n    \r\n        @Bean\r\n        @ConfigurationProperties(prefix = &quot;ignite&quot;)\r\n        public IgniteConfiguration igniteConfiguration(IgniteConfigurer configurer) {\r\n            IgniteConfiguration cfg = new IgniteConfiguration();\r\n    \r\n            //data storage configuration\r\n            DataStorageConfiguration storageCfg = new DataStorageConfiguration();\r\n            storageCfg.getDefaultDataRegionConfiguration().setPersistenceEnabled(true);\r\n            storageCfg.setStoragePath(&quot;/opt/storage&quot;);\r\n            cfg.setDataStorageConfiguration(storageCfg);\r\n    \r\n            configurer.accept(cfg);\r\n            return cfg;\r\n        }\r\n    }\r\n\r\nIt&#39;s the exact same as the auto-configuration implementation but with an additional storage configuration.\r\n\r\nWell, my app doesn&#39;t start anymore unfortunately. This is the stack trace:\r\n\r\n    [09:21:21,079][SEVERE][main][IgniteKernal] Exception during start processors, node will be stopped and close connections\r\n    java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.Method.invoke(Object, Object[])&quot; because &quot;org.apache.ignite.internal.processors.cache.persistence.wal.filehandle.FileWriteHandleImpl.mappingOffset&quot; is null\r\n    \tat org.apache.ignite.internal.processors.cache.persistence.wal.filehandle.FileWriteHandleImpl.fsync(FileWriteHandleImpl.java:450)\r\n    \tat org.apache.ignite.internal.processors.cache.persistence.wal.filehandle.FileWriteHandleImpl.fsync(FileWriteHandleImpl.java:419)\r\n    \tat org.apache.ignite.internal.processors.cache.persistence.wal.filehandle.FileHandleManagerImpl.flush(FileHandleManagerImpl.java:270)\r\n    \tat org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager.flush(FileWriteAheadLogManager.java:905)\r\n    \tat org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.tailPointer(GridCacheDatabaseSharedManager.java:2159)\r\n    \tat org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.startMemoryRestore(GridCacheDatabaseSharedManager.java:2087)\r\n    \tat org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1257)\r\n    \tat org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start0(IgnitionEx.java:2052)\r\n    \tat org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start(IgnitionEx.java:1698)\r\n    \tat org.apache.ignite.internal.IgnitionEx.start0(IgnitionEx.java:1114)\r\n    \tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:634)\r\n    \tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:560)\r\n    \tat org.apache.ignite.Ignition.start(Ignition.java:328)\r\n    \tat org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration.ignite(IgniteAutoConfiguration.java:99)\r\n    \tat org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$77ea27f1.CGLIB$ignite$0(&lt;generated&gt;)\r\n    \tat org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$77ea27f1$$FastClassBySpringCGLIB$$64f93230.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n    \tat org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$77ea27f1.ignite(&lt;generated&gt;)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n    \tat org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:64)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n    \tat com.***.Application.main(Application.java:33)\r\n    [09:21:21,079][SEVERE][main][IgniteKernal] Got exception while starting (will rollback startup routine).\r\n    java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.Method.invoke(Object, Object[])&quot; because &quot;org.apache.ignite.internal.processors.cache.persistence.wal.filehandle.FileWriteHandleImpl.mappingOffset&quot; is null\r\n    \tat org.apache.ignite.internal.processors.cache.persistence.wal.filehandle.FileWriteHandleImpl.fsync(FileWriteHandleImpl.java:450)\r\n    \tat org.apache.ignite.internal.processors.cache.persistence.wal.filehandle.FileWriteHandleImpl.fsync(FileWriteHandleImpl.java:419)\r\n    \tat org.apache.ignite.internal.processors.cache.persistence.wal.filehandle.FileHandleManagerImpl.flush(FileHandleManagerImpl.java:270)\r\n    \tat org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager.flush(FileWriteAheadLogManager.java:905)\r\n    \tat org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.tailPointer(GridCacheDatabaseSharedManager.java:2159)\r\n    \tat org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.startMemoryRestore(GridCacheDatabaseSharedManager.java:2087)\r\n    \tat org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1257)\r\n    \tat org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start0(IgnitionEx.java:2052)\r\n    \tat org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start(IgnitionEx.java:1698)\r\n    \tat org.apache.ignite.internal.IgnitionEx.start0(IgnitionEx.java:1114)\r\n    \tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:634)\r\n    \tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:560)\r\n    \tat org.apache.ignite.Ignition.start(Ignition.java:328)\r\n    \tat org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration.ignite(IgniteAutoConfiguration.java:99)\r\n    \tat org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$77ea27f1.CGLIB$ignite$0(&lt;generated&gt;)\r\n    \tat org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$77ea27f1$$FastClassBySpringCGLIB$$64f93230.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n    \tat org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$77ea27f1.ignite(&lt;generated&gt;)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n    \tat org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:64)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n    \tat com.***.Application.main(Application.java:33)\r\n\r\nThis error message doesn&#39;t give me any information about where the problem is from my point of view.","title":"Cannot override Spring Ignite Autoconfiguration","body":"<p>I have a project with Spring Boot and Ignite. Everything works as long as I use the default configuration provided for Spring. However, the default behavior is in-memory database and I'd like to activate the Ignite Persistence so that I write records on disk in addition to have cache, which shouldn't be hard.</p>\n<p>I checked the <code>IgniteAutoConfiguration.java</code> and based on that I wrote this class:</p>\n<pre><code>@Configuration\npublic class IgniteManualConfiguration {\n\n    @Bean\n    @ConfigurationProperties(prefix = &quot;ignite&quot;)\n    public IgniteConfiguration igniteConfiguration(IgniteConfigurer configurer) {\n        IgniteConfiguration cfg = new IgniteConfiguration();\n\n        //data storage configuration\n        DataStorageConfiguration storageCfg = new DataStorageConfiguration();\n        storageCfg.getDefaultDataRegionConfiguration().setPersistenceEnabled(true);\n        storageCfg.setStoragePath(&quot;/opt/storage&quot;);\n        cfg.setDataStorageConfiguration(storageCfg);\n\n        configurer.accept(cfg);\n        return cfg;\n    }\n}\n</code></pre>\n<p>It's the exact same as the auto-configuration implementation but with an additional storage configuration.</p>\n<p>Well, my app doesn't start anymore unfortunately. This is the stack trace:</p>\n<pre><code>[09:21:21,079][SEVERE][main][IgniteKernal] Exception during start processors, node will be stopped and close connections\njava.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.Method.invoke(Object, Object[])&quot; because &quot;org.apache.ignite.internal.processors.cache.persistence.wal.filehandle.FileWriteHandleImpl.mappingOffset&quot; is null\n    at org.apache.ignite.internal.processors.cache.persistence.wal.filehandle.FileWriteHandleImpl.fsync(FileWriteHandleImpl.java:450)\n    at org.apache.ignite.internal.processors.cache.persistence.wal.filehandle.FileWriteHandleImpl.fsync(FileWriteHandleImpl.java:419)\n    at org.apache.ignite.internal.processors.cache.persistence.wal.filehandle.FileHandleManagerImpl.flush(FileHandleManagerImpl.java:270)\n    at org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager.flush(FileWriteAheadLogManager.java:905)\n    at org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.tailPointer(GridCacheDatabaseSharedManager.java:2159)\n    at org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.startMemoryRestore(GridCacheDatabaseSharedManager.java:2087)\n    at org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1257)\n    at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start0(IgnitionEx.java:2052)\n    at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start(IgnitionEx.java:1698)\n    at org.apache.ignite.internal.IgnitionEx.start0(IgnitionEx.java:1114)\n    at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:634)\n    at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:560)\n    at org.apache.ignite.Ignition.start(Ignition.java:328)\n    at org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration.ignite(IgniteAutoConfiguration.java:99)\n    at org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$77ea27f1.CGLIB$ignite$0(&lt;generated&gt;)\n    at org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$77ea27f1$$FastClassBySpringCGLIB$$64f93230.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\n    at org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$77ea27f1.ignite(&lt;generated&gt;)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:64)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n    at com.***.Application.main(Application.java:33)\n[09:21:21,079][SEVERE][main][IgniteKernal] Got exception while starting (will rollback startup routine).\njava.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.Method.invoke(Object, Object[])&quot; because &quot;org.apache.ignite.internal.processors.cache.persistence.wal.filehandle.FileWriteHandleImpl.mappingOffset&quot; is null\n    at org.apache.ignite.internal.processors.cache.persistence.wal.filehandle.FileWriteHandleImpl.fsync(FileWriteHandleImpl.java:450)\n    at org.apache.ignite.internal.processors.cache.persistence.wal.filehandle.FileWriteHandleImpl.fsync(FileWriteHandleImpl.java:419)\n    at org.apache.ignite.internal.processors.cache.persistence.wal.filehandle.FileHandleManagerImpl.flush(FileHandleManagerImpl.java:270)\n    at org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager.flush(FileWriteAheadLogManager.java:905)\n    at org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.tailPointer(GridCacheDatabaseSharedManager.java:2159)\n    at org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.startMemoryRestore(GridCacheDatabaseSharedManager.java:2087)\n    at org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1257)\n    at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start0(IgnitionEx.java:2052)\n    at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start(IgnitionEx.java:1698)\n    at org.apache.ignite.internal.IgnitionEx.start0(IgnitionEx.java:1114)\n    at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:634)\n    at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:560)\n    at org.apache.ignite.Ignition.start(Ignition.java:328)\n    at org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration.ignite(IgniteAutoConfiguration.java:99)\n    at org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$77ea27f1.CGLIB$ignite$0(&lt;generated&gt;)\n    at org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$77ea27f1$$FastClassBySpringCGLIB$$64f93230.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\n    at org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$77ea27f1.ignite(&lt;generated&gt;)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:64)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n    at com.***.Application.main(Application.java:33)\n</code></pre>\n<p>This error message doesn't give me any information about where the problem is from my point of view.</p>\n"},{"tags":["java","arrays","jna"],"answers":[{"tags":[],"owner":{"account_id":37911,"reputation":1523,"user_id":108546,"accept_rate":84,"display_name":"ravun"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1496983276,"creation_date":1253112080,"answer_id":1433426,"question_id":1433175,"body_markdown":"The C code &lt;s&gt;is fine&lt;/s&gt; should be better (see other comments), however, the main issue is that I was misusing the java `getInt()` method for the pointer.  It seems I should&#39;ve been using the `getIntArray()`.","title":"Returning C array to Java using JNA","body":"<p>The C code <s>is fine</s> should be better (see other comments), however, the main issue is that I was misusing the java <code>getInt()</code> method for the pointer.  It seems I should've been using the <code>getIntArray()</code>.</p>\n"},{"tags":[],"owner":{"account_id":223422,"reputation":1108,"user_id":482609,"accept_rate":100,"display_name":"Taichman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1288278641,"creation_date":1288278641,"answer_id":4044220,"question_id":1433175,"body_markdown":"The longer and perhaps more clear explanation is that you prototype your Java function to receive Pointer (or a successor of Pointer) - \r\n\r\n    byte[] myFunc(Pointer result, int numBytes);\r\n\r\nWhen creating the callback itself, you use getByteArray(int), or one of the other getArrays.\r\n\r\n    byte[] myFunc(Pointer resuls, int numBytes)\r\n    {\r\n         return Pointer.getByteArray(numBytes);\r\n    }\r\n\r\n","title":"Returning C array to Java using JNA","body":"<p>The longer and perhaps more clear explanation is that you prototype your Java function to receive Pointer (or a successor of Pointer) - </p>\n\n<pre><code>byte[] myFunc(Pointer result, int numBytes);\n</code></pre>\n\n<p>When creating the callback itself, you use getByteArray(int), or one of the other getArrays.</p>\n\n<pre><code>byte[] myFunc(Pointer resuls, int numBytes)\n{\n     return Pointer.getByteArray(numBytes);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":198193,"reputation":1515,"user_id":442716,"accept_rate":68,"display_name":"Ustaman Sangat"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1343429120,"creation_date":1320255015,"answer_id":7984722,"question_id":1433175,"body_markdown":"I would not use such a function, because the returned array will never be freed/deleted.\r\nI would rather change the C function if I can to:\r\n   \r\n\r\n&gt; `void myFunc(Pointer resuls, int numBytes, byte const *  returnArray)`\r\n","title":"Returning C array to Java using JNA","body":"<p>I would not use such a function, because the returned array will never be freed/deleted.\nI would rather change the C function if I can to:</p>\n\n<blockquote>\n  <p><code>void myFunc(Pointer resuls, int numBytes, byte const *  returnArray)</code></p>\n</blockquote>\n"}],"owner":{"account_id":37911,"reputation":1523,"user_id":108546,"accept_rate":84,"display_name":"ravun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6490,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":7984722,"answer_count":3,"score":7,"last_activity_date":1665560810,"creation_date":1253109750,"question_id":1433175,"body_markdown":"I am not too familiar with C, but I need to use a C library in my java code.  I have created the DLL and am able to access it just fine, but I am attempting to return an array of ints from the C code to the java code.\r\n\r\nIn C I thought you could simply return a pointer to the array, but it&#39;s not working like I expect in my Java code.  Here&#39;s the C code:\r\n\r\n    int * getConusXY(double latitude, double longitude) {\r\n    \tmaparam stcprm;\r\n    \tdouble reflat = 25, reflon = -95,\r\n    \t\t\tlat1 = 20.191999, lon1 = -121.54001,\r\n    \t\t\tx1 = 0, y1 = 0, x2 = 1073, y2 = 689,\r\n    \t\t\tgsize = 5.079, scaLat = 25, scaLon = -95, orient = 0;\r\n    \tdouble x, y;\r\n    \tint* xy;\r\n    \r\n    \txy = malloc(2 * sizeof *xy);\r\n    \r\n    \tstlmbr(&amp;stcprm, reflat, reflon);\r\n    \tstcm1p(&amp;stcprm, x1, y1, lat1, lon1, scaLat, scaLon, gsize, orient);\r\n    \tcll2xy(&amp;stcprm, latitude, longitude, &amp;x, &amp;y);\r\n    \r\n    \txy[0] = (int) x;\r\n    \txy[1] = (int) y;\r\n    \r\n    \treturn xy;\r\n    }\r\n\r\nIf I test this in C++ by doing\r\n\r\n    int* xy = getConusXY(33.92, -84.33);\r\n    cout &lt;&lt; xy[0] &lt;&lt; &quot; &quot; &lt;&lt; xy[1] &lt;&lt; endl;\r\nthen it works fine and I get the values 739, 255 like expected.\r\n\r\nI try using it in Java with the JNA package like so (but this gives me 739, -16777214):\r\n\r\n    public class DmapFDllLibrary {\r\n    \tinterface DmapFLibrary extends Library {\r\n    \t\tDmapFLibrary INSTANCE = (DmapFLibrary) Native.loadLibrary(&quot;DmapFDll&quot;,\r\n    \t\t\t\tDmapFLibrary.class);\r\n    \r\n    \t\tIntByReference getConusXY(double latitude, double longitude);\r\n    \t}\r\n    \r\n    \tpublic static void main(String... strings) {\r\n    \t\tIntByReference xy_ref = DmapFLibrary.INSTANCE.getConusXY(33.92, -84.33);\r\n    \t\tPointer p = xy_ref.getPointer();\r\n    \t\tSystem.out.println(p.getInt(0) + &quot; &quot; + p.getInt(1));\r\n    \t}\r\n    }\r\n\r\nIn the JNA documentation it says primitive arrays such as `int *buf` would be mapped to `int[] buf` in Java, but when I try changing the return type from `IntByReference` to `int[]` then I get an illegalArgumentException.\r\n\r\nI don&#39;t know if I&#39;m returning the array correctly from C or if I&#39;m just not accessing it correctly in Java.  Any help would be appreciated.","title":"Returning C array to Java using JNA","body":"<p>I am not too familiar with C, but I need to use a C library in my java code.  I have created the DLL and am able to access it just fine, but I am attempting to return an array of ints from the C code to the java code.</p>\n\n<p>In C I thought you could simply return a pointer to the array, but it's not working like I expect in my Java code.  Here's the C code:</p>\n\n<pre><code>int * getConusXY(double latitude, double longitude) {\n    maparam stcprm;\n    double reflat = 25, reflon = -95,\n            lat1 = 20.191999, lon1 = -121.54001,\n            x1 = 0, y1 = 0, x2 = 1073, y2 = 689,\n            gsize = 5.079, scaLat = 25, scaLon = -95, orient = 0;\n    double x, y;\n    int* xy;\n\n    xy = malloc(2 * sizeof *xy);\n\n    stlmbr(&amp;stcprm, reflat, reflon);\n    stcm1p(&amp;stcprm, x1, y1, lat1, lon1, scaLat, scaLon, gsize, orient);\n    cll2xy(&amp;stcprm, latitude, longitude, &amp;x, &amp;y);\n\n    xy[0] = (int) x;\n    xy[1] = (int) y;\n\n    return xy;\n}\n</code></pre>\n\n<p>If I test this in C++ by doing</p>\n\n<pre><code>int* xy = getConusXY(33.92, -84.33);\ncout &lt;&lt; xy[0] &lt;&lt; \" \" &lt;&lt; xy[1] &lt;&lt; endl;\n</code></pre>\n\n<p>then it works fine and I get the values 739, 255 like expected.</p>\n\n<p>I try using it in Java with the JNA package like so (but this gives me 739, -16777214):</p>\n\n<pre><code>public class DmapFDllLibrary {\n    interface DmapFLibrary extends Library {\n        DmapFLibrary INSTANCE = (DmapFLibrary) Native.loadLibrary(\"DmapFDll\",\n                DmapFLibrary.class);\n\n        IntByReference getConusXY(double latitude, double longitude);\n    }\n\n    public static void main(String... strings) {\n        IntByReference xy_ref = DmapFLibrary.INSTANCE.getConusXY(33.92, -84.33);\n        Pointer p = xy_ref.getPointer();\n        System.out.println(p.getInt(0) + \" \" + p.getInt(1));\n    }\n}\n</code></pre>\n\n<p>In the JNA documentation it says primitive arrays such as <code>int *buf</code> would be mapped to <code>int[] buf</code> in Java, but when I try changing the return type from <code>IntByReference</code> to <code>int[]</code> then I get an illegalArgumentException.</p>\n\n<p>I don't know if I'm returning the array correctly from C or if I'm just not accessing it correctly in Java.  Any help would be appreciated.</p>\n"},{"tags":["java","multithreading","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1625565869,"post_id":68267922,"comment_id":120654289,"body_markdown":"Could it be the batch partitioner that&#39;s introducing the task limit of 10?","body":"Could it be the batch partitioner that&#39;s introducing the task limit of 10?"},{"owner":{"account_id":6790269,"reputation":185,"user_id":5227666,"display_name":"ACH"},"score":0,"creation_date":1625569972,"post_id":68267922,"comment_id":120656098,"body_markdown":"The batch partitionner is a very simple code which basically just loop from 0 to 35 and add the int value in returned map","body":"The batch partitionner is a very simple code which basically just loop from 0 to 35 and add the int value in returned map"},{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":1,"creation_date":1625580341,"post_id":68267922,"comment_id":120660814,"body_markdown":"Try setting the log for `org.springframework.core.task.SimpleAsyncTaskExecutor.ConcurrencyThrottleAdapter` in debug mode. It has some helpful logging messages, as seen in [`ConcurrencyThrottleSupport`](https://github.com/spring-projects/spring-framework/blob/main/spring-core/src/main/java/org/springframework/util/ConcurrencyThrottleSupport.java) (yes, that `Adapter` class is not public, but you should be able to set logs in debug for it anyways).","body":"Try setting the log for <code>org.springframework.core.task.SimpleAsyncTaskExecutor.Concur&zwnj;&#8203;rencyThrottleAdapter</code> in debug mode. It has some helpful logging messages, as seen in <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-core/src/main/java/org/springframework/util/ConcurrencyThrottleSupport.java\" rel=\"nofollow noreferrer\"><code>ConcurrencyThrottleSupport</code></a> (yes, that <code>Adapter</code> class is not public, but you should be able to set logs in debug for it anyways)."},{"owner":{"account_id":6790269,"reputation":185,"user_id":5227666,"display_name":"ACH"},"score":0,"creation_date":1625584605,"post_id":68267922,"comment_id":120662843,"body_markdown":"@Olivier Gr&#233;goire, Thanks for the tip: [beforeAccess](https://github.com/spring-projects/spring-framework/blob/main/spring-core/src/main/java/org/springframework/util/ConcurrencyThrottleSupport.java#L105) is being ran the 15 times before any thread is launched with the correct concurrency limit (15) and count (0 to 15)\nI&#39;m adding the debug logs to the post","body":"@Olivier Gr&#233;goire, Thanks for the tip: <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-core/src/main/java/org/springframework/util/ConcurrencyThrottleSupport.java#L105\" rel=\"nofollow noreferrer\">beforeAccess</a> is being ran the 15 times before any thread is launched with the correct concurrency limit (15) and count (0 to 15) I&#39;m adding the debug logs to the post"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1625586062,"post_id":68267922,"comment_id":120663557,"body_markdown":"I don&#39;t see from what you shared where this limit of 10 is coming from. I am not able to reproduce the issue based on your sample, see https://github.com/benas/spring-batch-lab/tree/main/issues/so68267922. In the logs, I see 15 threads running in parallel each time (for 35 partitions, the first 15 partitions running in parallel, then the next 15 partitions in parallel as well, and finally the remaining 5 in parallel as well). Can you share a [minimal complete example](https://stackoverflow.com/help/minimal-reproducible-example) that reproduces the issue?","body":"I don&#39;t see from what you shared where this limit of 10 is coming from. I am not able to reproduce the issue based on your sample, see <a href=\"https://github.com/benas/spring-batch-lab/tree/main/issues/so68267922\" rel=\"nofollow noreferrer\">github.com/benas/spring-batch-lab/tree/main/issues/so6826792&zwnj;&#8203;2</a>. In the logs, I see 15 threads running in parallel each time (for 35 partitions, the first 15 partitions running in parallel, then the next 15 partitions in parallel as well, and finally the remaining 5 in parallel as well). Can you share a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal complete example</a> that reproduces the issue?"},{"owner":{"account_id":6790269,"reputation":185,"user_id":5227666,"display_name":"ACH"},"score":0,"creation_date":1625586493,"post_id":68267922,"comment_id":120663770,"body_markdown":"@Mahmoud Ben Hassine I deduced that there is a limit of 10 because of the time of the 11th log of &quot;starting step:&quot; which is 10s later than the 10 first. I will try to create a minimal complete example and get back to you","body":"@Mahmoud Ben Hassine I deduced that there is a limit of 10 because of the time of the 11th log of &quot;starting step:&quot; which is 10s later than the 10 first. I will try to create a minimal complete example and get back to you"},{"owner":{"account_id":6790269,"reputation":185,"user_id":5227666,"display_name":"ACH"},"score":0,"creation_date":1625591170,"post_id":68267922,"comment_id":120665596,"body_markdown":"@Mahmoud Ben Hassine, Indeed I do not reproduce with your code sample. Here is an example that reproduces the error: https://github.com/AlexandreChi/spring-batch-lab/tree/main/issues/so68267922/src/main/java/com/example/testthreads. The only difference with your code sample is the annotation SpringBootApplication instead of Configuration.","body":"@Mahmoud Ben Hassine, Indeed I do not reproduce with your code sample. Here is an example that reproduces the error: <a href=\"https://github.com/AlexandreChi/spring-batch-lab/tree/main/issues/so68267922/src/main/java/com/example/testthreads\" rel=\"nofollow noreferrer\">github.com/AlexandreChi/spring-batch-lab/tree/main/issues/&hellip;</a>. The only difference with your code sample is the annotation SpringBootApplication instead of Configuration."},{"owner":{"account_id":6790269,"reputation":185,"user_id":5227666,"display_name":"ACH"},"score":0,"creation_date":1625642539,"post_id":68267922,"comment_id":120677571,"body_markdown":"@MahmoudBenHassine I added the build.gradle. I think I am getting close, associating EnableAutoConfiguration and implementation &#39;com.h2database:h2:1.4.198&#39; is generating the issue. It seems it creates an autowired datasource which has a limited number of simultaneous connections","body":"@MahmoudBenHassine I added the build.gradle. I think I am getting close, associating EnableAutoConfiguration and implementation &#39;com.h2database:h2:1.4.198&#39; is generating the issue. It seems it creates an autowired datasource which has a limited number of simultaneous connections"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1625647085,"post_id":68267922,"comment_id":120679585,"body_markdown":"I added an answer. Hope it helps.","body":"I added an answer. Hope it helps."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1625654246,"creation_date":1625647061,"answer_id":68282709,"question_id":68267922,"body_markdown":"&gt; Indeed I do not reproduce with your code sample. Here is an example that reproduces the error: github.com/AlexandreChi/spring-batch-lab/tree/main/issues/. The only difference with your code sample is the annotation SpringBootApplication instead of Configuration.\r\n\r\nSo I conclude this is something related to the auto-configuration by boot.\r\n\r\n\r\n&gt;  I think I am getting close, associating EnableAutoConfiguration and implementation &#39;com.h2database:h2:1.4.198&#39; is generating the issue. It seems it creates an autowired datasource which has a limited number of simultaneous connections\r\n\r\nIndeed, in the logs I see: \r\n\r\n```\r\nDEBUG com.zaxxer.hikari.HikariConfig - maximumPoolSize.................10\r\n```\r\n\r\nwhich is the default value of the max pool size using HikariCP. This means the 15 threads could not acquire more than 10 database connections, and hence only 10 of them could be running in parallel at a time.\r\n\r\nIncreasing the max pool size to 15 by adding the following property fixes the issue:\r\n\r\n```\r\nspring.datasource.hikari.maximum-pool-size=15\r\n```\r\n\r\nI updated the [repo](https://github.com/benas/spring-batch-lab/tree/main/issues/so68267922) accordingly so you can check the result.","title":"Number of parallel threads processing is capped to 10 with Spring Batch","body":"<blockquote>\n<p>Indeed I do not reproduce with your code sample. Here is an example that reproduces the error: github.com/AlexandreChi/spring-batch-lab/tree/main/issues/. The only difference with your code sample is the annotation SpringBootApplication instead of Configuration.</p>\n</blockquote>\n<p>So I conclude this is something related to the auto-configuration by boot.</p>\n<blockquote>\n<p>I think I am getting close, associating EnableAutoConfiguration and implementation 'com.h2database:h2:1.4.198' is generating the issue. It seems it creates an autowired datasource which has a limited number of simultaneous connections</p>\n</blockquote>\n<p>Indeed, in the logs I see:</p>\n<pre><code>DEBUG com.zaxxer.hikari.HikariConfig - maximumPoolSize.................10\n</code></pre>\n<p>which is the default value of the max pool size using HikariCP. This means the 15 threads could not acquire more than 10 database connections, and hence only 10 of them could be running in parallel at a time.</p>\n<p>Increasing the max pool size to 15 by adding the following property fixes the issue:</p>\n<pre><code>spring.datasource.hikari.maximum-pool-size=15\n</code></pre>\n<p>I updated the <a href=\"https://github.com/benas/spring-batch-lab/tree/main/issues/so68267922\" rel=\"nofollow noreferrer\">repo</a> accordingly so you can check the result.</p>\n"}],"owner":{"account_id":6790269,"reputation":185,"user_id":5227666,"display_name":"ACH"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68282709,"answer_count":1,"score":1,"last_activity_date":1665560748,"creation_date":1625563635,"question_id":68267922,"body_markdown":"I have the following task executor which is used to run a 10s sleep time tasklet with partitions:\r\n```\r\n    &lt;bean id=&quot;taskExecutor&quot; class=&quot;org.springframework.core.task.SimpleAsyncTaskExecutor&quot;&gt;\r\n        &lt;property name=&quot;concurrencyLimit&quot; value=&quot;${concurrency_limit}&quot;/&gt;\r\n    &lt;/bean&gt;\r\n```\r\n```\r\n    &lt;batch:step id=&quot;stepWait&quot;&gt;\r\n        &lt;batch:partition partitioner=&quot;partitionerWait&quot;&gt;\r\n            &lt;batch:handler grid-size=&quot;1&quot; task-executor=&quot;taskExecutor&quot;/&gt;\r\n            &lt;batch:step&gt;\r\n                &lt;batch:tasklet ref=&quot;taskletWait&quot;/&gt;\r\n            &lt;/batch:step&gt;\r\n        &lt;/batch:partition&gt;\r\n    &lt;/batch:step&gt;\r\n```\r\n```\r\npublic class TaskletWait implements Tasklet {\r\n    private final Logger logger = LoggerFactory.getLogger(TaskletWait.class);\r\n   @Override\r\n   public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext){\r\n       String stepName = contribution.getStepExecution().getStepName();\r\n       logger.info(&quot;starting step: &quot; + stepName);\r\n        try {\r\n           TimeUnit.SECONDS.sleep(10);\r\n        } catch (InterruptedException e) {\r\n           logger.error(e.getMessage());\r\n        }\r\n        contribution.setExitStatus(ExitStatus.COMPLETED);\r\n        return RepeatStatus.FINISHED;\r\n   }\r\n}\r\n```\r\nThe number of threads running in parallel is correctly adjusting with the value I set in application.properties, until it reaches 10. Whether I set 10, 15, 25 or 100, only 10 threads run in parallel. Example with `concurrency_limit=15`:\r\n```\r\n2021-07-06 13:31:34.937 INFO [SimpleAsyncTaskExecutor-12] [execute] starting step: stepWait:4 \r\n2021-07-06 13:31:34.937 INFO [SimpleAsyncTaskExecutor-2] [execute] starting step: stepWait:30 \r\n2021-07-06 13:31:34.937 INFO [SimpleAsyncTaskExecutor-1] [execute] starting step: stepWait:26 \r\n2021-07-06 13:31:34.937 INFO [SimpleAsyncTaskExecutor-9] [execute] starting step: stepWait:17 \r\n2021-07-06 13:31:34.937 INFO [SimpleAsyncTaskExecutor-3] [execute] starting step: stepWait:15 \r\n2021-07-06 13:31:34.937 INFO [SimpleAsyncTaskExecutor-8] [execute] starting step: stepWait:11 \r\n2021-07-06 13:31:34.939 INFO [SimpleAsyncTaskExecutor-10] [execute] starting step: stepWait:7 \r\n2021-07-06 13:31:34.940 INFO [SimpleAsyncTaskExecutor-5] [execute] starting step: stepWait:1 \r\n2021-07-06 13:31:34.941 INFO [SimpleAsyncTaskExecutor-15] [execute] starting step: stepWait:5 \r\n2021-07-06 13:31:34.943 INFO [SimpleAsyncTaskExecutor-14] [execute] starting step: stepWait:23 \r\n2021-07-06 13:31:44.941 INFO [SimpleAsyncTaskExecutor-6] [execute] starting step: stepWait:32 \r\n2021-07-06 13:31:44.941 INFO [SimpleAsyncTaskExecutor-4] [execute] starting step: stepWait:19 \r\n2021-07-06 13:31:44.941 INFO [SimpleAsyncTaskExecutor-7] [execute] starting step: stepWait:16 \r\n2021-07-06 13:31:44.942 INFO [SimpleAsyncTaskExecutor-11] [execute] starting step: stepWait:13 \r\n2021-07-06 13:31:44.943 INFO [SimpleAsyncTaskExecutor-13] [execute] starting step: stepWait:20 \r\n2021-07-06 13:31:44.950 INFO [SimpleAsyncTaskExecutor-2] [execute] Step: [stepWait:30] executed in 10s21ms \r\n2021-07-06 13:31:44.950 INFO [SimpleAsyncTaskExecutor-8] [execute] Step: [stepWait:11] executed in 10s20ms \r\n2021-07-06 13:31:44.950 INFO [SimpleAsyncTaskExecutor-5] [execute] Step: [stepWait:1] executed in 10s21ms \r\n2021-07-06 13:31:44.950 INFO [SimpleAsyncTaskExecutor-9] [execute] Step: [stepWait:17] executed in 10s20ms \r\n2021-07-06 13:31:44.950 INFO [SimpleAsyncTaskExecutor-14] [execute] Step: [stepWait:23] executed in 10s18ms \r\n2021-07-06 13:31:44.950 INFO [SimpleAsyncTaskExecutor-10] [execute] Step: [stepWait:7] executed in 10s20ms \r\n2021-07-06 13:31:44.950 INFO [SimpleAsyncTaskExecutor-1] [execute] Step: [stepWait:26] executed in 10s22ms \r\n2021-07-06 13:31:44.951 INFO [SimpleAsyncTaskExecutor-3] [execute] Step: [stepWait:15] executed in 10s22ms \r\n2021-07-06 13:31:44.958 INFO [SimpleAsyncTaskExecutor-12] [execute] Step: [stepWait:4] executed in 10s29ms \r\n2021-07-06 13:31:44.959 INFO [SimpleAsyncTaskExecutor-15] [execute] Step: [stepWait:5] executed in 10s27ms \r\n2021-07-06 13:31:44.961 INFO [SimpleAsyncTaskExecutor-16] [execute] starting step: stepWait:6 \r\n2021-07-06 13:31:44.962 INFO [SimpleAsyncTaskExecutor-17] [execute] starting step: stepWait:9 \r\n2021-07-06 13:31:44.963 INFO [SimpleAsyncTaskExecutor-18] [execute] starting step: stepWait:24 \r\n2021-07-06 13:31:44.963 INFO [SimpleAsyncTaskExecutor-19] [execute] starting step: stepWait:27 \r\n2021-07-06 13:31:44.963 INFO [SimpleAsyncTaskExecutor-20] [execute] starting step: stepWait:3 \r\n2021-07-06 13:31:54.944 INFO [SimpleAsyncTaskExecutor-21] [execute] starting step: stepWait:10 \r\n2021-07-06 13:31:54.946 INFO [SimpleAsyncTaskExecutor-23] [execute] starting step: stepWait:33 \r\n2021-07-06 13:31:54.947 INFO [SimpleAsyncTaskExecutor-22] [execute] starting step: stepWait:12 \r\n2021-07-06 13:31:54.948 INFO [SimpleAsyncTaskExecutor-7] [execute] Step: [stepWait:16] executed in 20s19ms \r\n2021-07-06 13:31:54.951 INFO [SimpleAsyncTaskExecutor-13] [execute] Step: [stepWait:20] executed in 20s20ms \r\n2021-07-06 13:31:54.952 INFO [SimpleAsyncTaskExecutor-6] [execute] Step: [stepWait:32] executed in 20s22ms \r\n2021-07-06 13:31:54.954 INFO [SimpleAsyncTaskExecutor-24] [execute] starting step: stepWait:2 \r\n2021-07-06 13:31:54.954 INFO [SimpleAsyncTaskExecutor-4] [execute] Step: [stepWait:19] executed in 20s25ms \r\n2021-07-06 13:31:54.955 INFO [SimpleAsyncTaskExecutor-11] [execute] Step: [stepWait:13] executed in 20s25ms \r\n2021-07-06 13:31:54.957 INFO [SimpleAsyncTaskExecutor-25] [execute] starting step: stepWait:22 \r\n2021-07-06 13:31:54.967 INFO [SimpleAsyncTaskExecutor-16] [execute] Step: [stepWait:6] executed in 10s13ms \r\n2021-07-06 13:31:54.968 INFO [SimpleAsyncTaskExecutor-17] [execute] Step: [stepWait:9] executed in 10s13ms \r\n[...]\r\n```\r\n\r\n11th to 15th seems to be started but wait for one thread to be over to actually execute, it can be seen with the time execution of 20s for them.\r\n\r\nCurrent logs are generated with java 11 on windows.\r\nI have tried with `org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor` instead of `SimpleAsyncTaskExecutor` but same result.\r\nI have tried both on Windows and Linux but same result\r\n\r\n\r\nWhat could cause this limitation and how can I make it run more than 10 threads in parallel?\r\n\r\n**EDIT:** I&#39;m adding debug logs of ConcurrencyThrottleSupport\r\n```\r\n2021-07-06 17:24:04.860 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 0 \r\n2021-07-06 17:24:04.860 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 1 \r\n2021-07-06 17:24:04.861 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 2 \r\n2021-07-06 17:24:04.861 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 3 \r\n2021-07-06 17:24:04.861 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 4 \r\n2021-07-06 17:24:04.862 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 5 \r\n2021-07-06 17:24:04.864 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 6 \r\n2021-07-06 17:24:04.864 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 7 \r\n2021-07-06 17:24:04.865 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 8 \r\n2021-07-06 17:24:04.865 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 9 \r\n2021-07-06 17:24:04.866 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 10 \r\n2021-07-06 17:24:04.866 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 11 \r\n2021-07-06 17:24:04.866 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 12 \r\n2021-07-06 17:24:04.867 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 13 \r\n2021-07-06 17:24:04.867 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 14 \r\n2021-07-06 17:24:04.868 DEBUG [main] [beforeAccess] Concurrency count 15 has reached limit 15 - blocking \r\n2021-07-06 17:24:04.869 INFO [SimpleAsyncTaskExecutor-9] [execute] starting step: wait:3 \r\n2021-07-06 17:24:04.869 INFO [SimpleAsyncTaskExecutor-7] [execute] starting step: wait:7 \r\n2021-07-06 17:24:04.869 INFO [SimpleAsyncTaskExecutor-2] [execute] starting step: wait:11 \r\n2021-07-06 17:24:04.869 INFO [SimpleAsyncTaskExecutor-3] [execute] starting step: wait:2 \r\n2021-07-06 17:24:04.869 INFO [SimpleAsyncTaskExecutor-5] [execute] starting step: wait:16 \r\n2021-07-06 17:24:04.869 INFO [SimpleAsyncTaskExecutor-12] [execute] starting step: wait:4 \r\n2021-07-06 17:24:04.869 INFO [SimpleAsyncTaskExecutor-10] [execute] starting step: wait:34 \r\n2021-07-06 17:24:04.869 INFO [SimpleAsyncTaskExecutor-11] [execute] starting step: wait:27 \r\n2021-07-06 17:24:04.869 INFO [SimpleAsyncTaskExecutor-4] [execute] starting step: wait:18 \r\n2021-07-06 17:24:04.869 INFO [SimpleAsyncTaskExecutor-1] [execute] starting step: wait:29 \r\n2021-07-06 17:24:14.873 INFO [SimpleAsyncTaskExecutor-6] [execute] starting step: wait:33 \r\n2021-07-06 17:24:14.873 INFO [SimpleAsyncTaskExecutor-13] [execute] starting step: wait:0 \r\n2021-07-06 17:24:14.875 INFO [SimpleAsyncTaskExecutor-15] [execute] starting step: wait:25 \r\n2021-07-06 17:24:14.875 INFO [SimpleAsyncTaskExecutor-14] [execute] starting step: wait:13 \r\n2021-07-06 17:24:14.882 INFO [SimpleAsyncTaskExecutor-8] [execute] starting step: wait:6 \r\n2021-07-06 17:24:14.885 INFO [SimpleAsyncTaskExecutor-3] [execute] Step: [wait:2] executed in 10s23ms \r\n2021-07-06 17:24:14.885 INFO [SimpleAsyncTaskExecutor-11] [execute] Step: [wait:27] executed in 10s18ms \r\n2021-07-06 17:24:14.885 INFO [SimpleAsyncTaskExecutor-5] [execute] Step: [wait:16] executed in 10s22ms \r\n2021-07-06 17:24:14.885 INFO [SimpleAsyncTaskExecutor-9] [execute] Step: [wait:3] executed in 10s19ms \r\n2021-07-06 17:24:14.885 INFO [SimpleAsyncTaskExecutor-12] [execute] Step: [wait:4] executed in 10s18ms \r\n2021-07-06 17:24:14.885 INFO [SimpleAsyncTaskExecutor-10] [execute] Step: [wait:34] executed in 10s19ms \r\n2021-07-06 17:24:14.885 INFO [SimpleAsyncTaskExecutor-7] [execute] Step: [wait:7] executed in 10s20ms \r\n2021-07-06 17:24:14.885 INFO [SimpleAsyncTaskExecutor-2] [execute] Step: [wait:11] executed in 10s24ms \r\n2021-07-06 17:24:14.885 INFO [SimpleAsyncTaskExecutor-1] [execute] Step: [wait:29] executed in 10s25ms \r\n2021-07-06 17:24:14.886 DEBUG [SimpleAsyncTaskExecutor-3] [afterAccess] Returning from throttle at concurrency count 14 \r\n2021-07-06 17:24:14.887 DEBUG [SimpleAsyncTaskExecutor-12] [afterAccess] Returning from throttle at concurrency count 13 \r\n2021-07-06 17:24:14.887 DEBUG [SimpleAsyncTaskExecutor-9] [afterAccess] Returning from throttle at concurrency count 12 \r\n2021-07-06 17:24:14.887 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 12 \r\n2021-07-06 17:24:14.888 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 13 \r\n2021-07-06 17:24:14.888 DEBUG [SimpleAsyncTaskExecutor-10] [afterAccess] Returning from throttle at concurrency count 13 \r\n2021-07-06 17:24:14.888 DEBUG [SimpleAsyncTaskExecutor-5] [afterAccess] Returning from throttle at concurrency count 12 \r\n2021-07-06 17:24:14.888 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 12 \r\n2021-07-06 17:24:14.889 DEBUG [SimpleAsyncTaskExecutor-7] [afterAccess] Returning from throttle at concurrency count 12 \r\n2021-07-06 17:24:14.889 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 12 \r\n2021-07-06 17:24:14.889 DEBUG [SimpleAsyncTaskExecutor-2] [afterAccess] Returning from throttle at concurrency count 12 \r\n2021-07-06 17:24:14.890 DEBUG [SimpleAsyncTaskExecutor-11] [afterAccess] Returning from throttle at concurrency count 11 \r\n2021-07-06 17:24:14.890 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 11 \r\n2021-07-06 17:24:14.890 DEBUG [SimpleAsyncTaskExecutor-1] [afterAccess] Returning from throttle at concurrency count 11 \r\n2021-07-06 17:24:14.890 INFO [SimpleAsyncTaskExecutor-4] [execute] Step: [wait:18] executed in 10s29ms \r\n2021-07-06 17:24:14.890 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 11 \r\n2021-07-06 17:24:14.890 INFO [SimpleAsyncTaskExecutor-16] [execute] starting step: wait:30 \r\n2021-07-06 17:24:14.891 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 12 \r\n2021-07-06 17:24:14.892 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 13 \r\n2021-07-06 17:24:14.892 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 14 \r\n2021-07-06 17:24:14.892 INFO [SimpleAsyncTaskExecutor-17] [execute] starting step: wait:12 \r\n2021-07-06 17:24:14.892 DEBUG [main] [beforeAccess] Concurrency count 15 has reached limit 15 - blocking \r\n2021-07-06 17:24:14.893 DEBUG [SimpleAsyncTaskExecutor-4] [afterAccess] Returning from throttle at concurrency count 14 \r\n2021-07-06 17:24:14.893 INFO [SimpleAsyncTaskExecutor-18] [execute] starting step: wait:28 \r\n2021-07-06 17:24:14.893 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 14 \r\n2021-07-06 17:24:14.894 DEBUG [main] [beforeAccess] Concurrency count 15 has reached limit 15 - blocking \r\n2021-07-06 17:24:14.894 INFO [SimpleAsyncTaskExecutor-19] [execute] starting step: wait:24 \r\n2021-07-06 17:24:14.899 INFO [SimpleAsyncTaskExecutor-21] [execute] starting step: wait:23 \r\n2021-07-06 17:24:24.878 INFO [SimpleAsyncTaskExecutor-20] [execute] starting step: wait:1 \r\n2021-07-06 17:24:24.879 INFO [SimpleAsyncTaskExecutor-22] [execute] starting step: wait:32 \r\n2021-07-06 17:24:24.879 INFO [SimpleAsyncTaskExecutor-23] [execute] starting step: wait:15 \r\n2021-07-06 17:24:24.879 INFO [SimpleAsyncTaskExecutor-24] [execute] starting step: wait:10 \r\n2021-07-06 17:24:24.884 INFO [SimpleAsyncTaskExecutor-6] [execute] Step: [wait:33] executed in 20s19ms \r\n2021-07-06 17:24:24.884 INFO [SimpleAsyncTaskExecutor-13] [execute] Step: [wait:0] executed in 20s17ms \r\n2021-07-06 17:24:24.885 INFO [SimpleAsyncTaskExecutor-15] [execute] Step: [wait:25] executed in 20s17ms \r\n2021-07-06 17:24:24.885 INFO [SimpleAsyncTaskExecutor-25] [execute] starting step: wait:17 \r\n2021-07-06 17:24:24.894 INFO [SimpleAsyncTaskExecutor-14] [execute] Step: [wait:13] executed in 20s26ms \r\n2021-07-06 17:24:24.894 INFO [SimpleAsyncTaskExecutor-8] [execute] Step: [wait:6] executed in 20s29ms \r\n2021-07-06 17:24:24.897 DEBUG [SimpleAsyncTaskExecutor-6] [afterAccess] Returning from throttle at concurrency count 14 \r\n2021-07-06 17:24:24.898 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 14 \r\n2021-07-06 17:24:24.898 DEBUG [SimpleAsyncTaskExecutor-13] [afterAccess] Returning from throttle at concurrency count 14 \r\n2021-07-06 17:24:24.899 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 14 \r\n2021-07-06 17:24:24.899 INFO [SimpleAsyncTaskExecutor-16] [execute] Step: [wait:30] executed in 10s12ms \r\n2021-07-06 17:24:24.899 DEBUG [SimpleAsyncTaskExecutor-15] [afterAccess] Returning from throttle at concurrency count 14 \r\n2021-07-06 17:24:24.899 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 14 \r\n2021-07-06 17:24:24.900 INFO [SimpleAsyncTaskExecutor-17] [execute] Step: [wait:12] executed in 10s12ms \r\n```\r\n","title":"Number of parallel threads processing is capped to 10 with Spring Batch","body":"<p>I have the following task executor which is used to run a 10s sleep time tasklet with partitions:</p>\n<pre><code>    &lt;bean id=&quot;taskExecutor&quot; class=&quot;org.springframework.core.task.SimpleAsyncTaskExecutor&quot;&gt;\n        &lt;property name=&quot;concurrencyLimit&quot; value=&quot;${concurrency_limit}&quot;/&gt;\n    &lt;/bean&gt;\n</code></pre>\n<pre><code>    &lt;batch:step id=&quot;stepWait&quot;&gt;\n        &lt;batch:partition partitioner=&quot;partitionerWait&quot;&gt;\n            &lt;batch:handler grid-size=&quot;1&quot; task-executor=&quot;taskExecutor&quot;/&gt;\n            &lt;batch:step&gt;\n                &lt;batch:tasklet ref=&quot;taskletWait&quot;/&gt;\n            &lt;/batch:step&gt;\n        &lt;/batch:partition&gt;\n    &lt;/batch:step&gt;\n</code></pre>\n<pre><code>public class TaskletWait implements Tasklet {\n    private final Logger logger = LoggerFactory.getLogger(TaskletWait.class);\n   @Override\n   public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext){\n       String stepName = contribution.getStepExecution().getStepName();\n       logger.info(&quot;starting step: &quot; + stepName);\n        try {\n           TimeUnit.SECONDS.sleep(10);\n        } catch (InterruptedException e) {\n           logger.error(e.getMessage());\n        }\n        contribution.setExitStatus(ExitStatus.COMPLETED);\n        return RepeatStatus.FINISHED;\n   }\n}\n</code></pre>\n<p>The number of threads running in parallel is correctly adjusting with the value I set in application.properties, until it reaches 10. Whether I set 10, 15, 25 or 100, only 10 threads run in parallel. Example with <code>concurrency_limit=15</code>:</p>\n<pre><code>2021-07-06 13:31:34.937 INFO [SimpleAsyncTaskExecutor-12] [execute] starting step: stepWait:4 \n2021-07-06 13:31:34.937 INFO [SimpleAsyncTaskExecutor-2] [execute] starting step: stepWait:30 \n2021-07-06 13:31:34.937 INFO [SimpleAsyncTaskExecutor-1] [execute] starting step: stepWait:26 \n2021-07-06 13:31:34.937 INFO [SimpleAsyncTaskExecutor-9] [execute] starting step: stepWait:17 \n2021-07-06 13:31:34.937 INFO [SimpleAsyncTaskExecutor-3] [execute] starting step: stepWait:15 \n2021-07-06 13:31:34.937 INFO [SimpleAsyncTaskExecutor-8] [execute] starting step: stepWait:11 \n2021-07-06 13:31:34.939 INFO [SimpleAsyncTaskExecutor-10] [execute] starting step: stepWait:7 \n2021-07-06 13:31:34.940 INFO [SimpleAsyncTaskExecutor-5] [execute] starting step: stepWait:1 \n2021-07-06 13:31:34.941 INFO [SimpleAsyncTaskExecutor-15] [execute] starting step: stepWait:5 \n2021-07-06 13:31:34.943 INFO [SimpleAsyncTaskExecutor-14] [execute] starting step: stepWait:23 \n2021-07-06 13:31:44.941 INFO [SimpleAsyncTaskExecutor-6] [execute] starting step: stepWait:32 \n2021-07-06 13:31:44.941 INFO [SimpleAsyncTaskExecutor-4] [execute] starting step: stepWait:19 \n2021-07-06 13:31:44.941 INFO [SimpleAsyncTaskExecutor-7] [execute] starting step: stepWait:16 \n2021-07-06 13:31:44.942 INFO [SimpleAsyncTaskExecutor-11] [execute] starting step: stepWait:13 \n2021-07-06 13:31:44.943 INFO [SimpleAsyncTaskExecutor-13] [execute] starting step: stepWait:20 \n2021-07-06 13:31:44.950 INFO [SimpleAsyncTaskExecutor-2] [execute] Step: [stepWait:30] executed in 10s21ms \n2021-07-06 13:31:44.950 INFO [SimpleAsyncTaskExecutor-8] [execute] Step: [stepWait:11] executed in 10s20ms \n2021-07-06 13:31:44.950 INFO [SimpleAsyncTaskExecutor-5] [execute] Step: [stepWait:1] executed in 10s21ms \n2021-07-06 13:31:44.950 INFO [SimpleAsyncTaskExecutor-9] [execute] Step: [stepWait:17] executed in 10s20ms \n2021-07-06 13:31:44.950 INFO [SimpleAsyncTaskExecutor-14] [execute] Step: [stepWait:23] executed in 10s18ms \n2021-07-06 13:31:44.950 INFO [SimpleAsyncTaskExecutor-10] [execute] Step: [stepWait:7] executed in 10s20ms \n2021-07-06 13:31:44.950 INFO [SimpleAsyncTaskExecutor-1] [execute] Step: [stepWait:26] executed in 10s22ms \n2021-07-06 13:31:44.951 INFO [SimpleAsyncTaskExecutor-3] [execute] Step: [stepWait:15] executed in 10s22ms \n2021-07-06 13:31:44.958 INFO [SimpleAsyncTaskExecutor-12] [execute] Step: [stepWait:4] executed in 10s29ms \n2021-07-06 13:31:44.959 INFO [SimpleAsyncTaskExecutor-15] [execute] Step: [stepWait:5] executed in 10s27ms \n2021-07-06 13:31:44.961 INFO [SimpleAsyncTaskExecutor-16] [execute] starting step: stepWait:6 \n2021-07-06 13:31:44.962 INFO [SimpleAsyncTaskExecutor-17] [execute] starting step: stepWait:9 \n2021-07-06 13:31:44.963 INFO [SimpleAsyncTaskExecutor-18] [execute] starting step: stepWait:24 \n2021-07-06 13:31:44.963 INFO [SimpleAsyncTaskExecutor-19] [execute] starting step: stepWait:27 \n2021-07-06 13:31:44.963 INFO [SimpleAsyncTaskExecutor-20] [execute] starting step: stepWait:3 \n2021-07-06 13:31:54.944 INFO [SimpleAsyncTaskExecutor-21] [execute] starting step: stepWait:10 \n2021-07-06 13:31:54.946 INFO [SimpleAsyncTaskExecutor-23] [execute] starting step: stepWait:33 \n2021-07-06 13:31:54.947 INFO [SimpleAsyncTaskExecutor-22] [execute] starting step: stepWait:12 \n2021-07-06 13:31:54.948 INFO [SimpleAsyncTaskExecutor-7] [execute] Step: [stepWait:16] executed in 20s19ms \n2021-07-06 13:31:54.951 INFO [SimpleAsyncTaskExecutor-13] [execute] Step: [stepWait:20] executed in 20s20ms \n2021-07-06 13:31:54.952 INFO [SimpleAsyncTaskExecutor-6] [execute] Step: [stepWait:32] executed in 20s22ms \n2021-07-06 13:31:54.954 INFO [SimpleAsyncTaskExecutor-24] [execute] starting step: stepWait:2 \n2021-07-06 13:31:54.954 INFO [SimpleAsyncTaskExecutor-4] [execute] Step: [stepWait:19] executed in 20s25ms \n2021-07-06 13:31:54.955 INFO [SimpleAsyncTaskExecutor-11] [execute] Step: [stepWait:13] executed in 20s25ms \n2021-07-06 13:31:54.957 INFO [SimpleAsyncTaskExecutor-25] [execute] starting step: stepWait:22 \n2021-07-06 13:31:54.967 INFO [SimpleAsyncTaskExecutor-16] [execute] Step: [stepWait:6] executed in 10s13ms \n2021-07-06 13:31:54.968 INFO [SimpleAsyncTaskExecutor-17] [execute] Step: [stepWait:9] executed in 10s13ms \n[...]\n</code></pre>\n<p>11th to 15th seems to be started but wait for one thread to be over to actually execute, it can be seen with the time execution of 20s for them.</p>\n<p>Current logs are generated with java 11 on windows.\nI have tried with <code>org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor</code> instead of <code>SimpleAsyncTaskExecutor</code> but same result.\nI have tried both on Windows and Linux but same result</p>\n<p>What could cause this limitation and how can I make it run more than 10 threads in parallel?</p>\n<p><strong>EDIT:</strong> I'm adding debug logs of ConcurrencyThrottleSupport</p>\n<pre><code>2021-07-06 17:24:04.860 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 0 \n2021-07-06 17:24:04.860 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 1 \n2021-07-06 17:24:04.861 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 2 \n2021-07-06 17:24:04.861 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 3 \n2021-07-06 17:24:04.861 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 4 \n2021-07-06 17:24:04.862 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 5 \n2021-07-06 17:24:04.864 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 6 \n2021-07-06 17:24:04.864 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 7 \n2021-07-06 17:24:04.865 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 8 \n2021-07-06 17:24:04.865 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 9 \n2021-07-06 17:24:04.866 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 10 \n2021-07-06 17:24:04.866 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 11 \n2021-07-06 17:24:04.866 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 12 \n2021-07-06 17:24:04.867 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 13 \n2021-07-06 17:24:04.867 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 14 \n2021-07-06 17:24:04.868 DEBUG [main] [beforeAccess] Concurrency count 15 has reached limit 15 - blocking \n2021-07-06 17:24:04.869 INFO [SimpleAsyncTaskExecutor-9] [execute] starting step: wait:3 \n2021-07-06 17:24:04.869 INFO [SimpleAsyncTaskExecutor-7] [execute] starting step: wait:7 \n2021-07-06 17:24:04.869 INFO [SimpleAsyncTaskExecutor-2] [execute] starting step: wait:11 \n2021-07-06 17:24:04.869 INFO [SimpleAsyncTaskExecutor-3] [execute] starting step: wait:2 \n2021-07-06 17:24:04.869 INFO [SimpleAsyncTaskExecutor-5] [execute] starting step: wait:16 \n2021-07-06 17:24:04.869 INFO [SimpleAsyncTaskExecutor-12] [execute] starting step: wait:4 \n2021-07-06 17:24:04.869 INFO [SimpleAsyncTaskExecutor-10] [execute] starting step: wait:34 \n2021-07-06 17:24:04.869 INFO [SimpleAsyncTaskExecutor-11] [execute] starting step: wait:27 \n2021-07-06 17:24:04.869 INFO [SimpleAsyncTaskExecutor-4] [execute] starting step: wait:18 \n2021-07-06 17:24:04.869 INFO [SimpleAsyncTaskExecutor-1] [execute] starting step: wait:29 \n2021-07-06 17:24:14.873 INFO [SimpleAsyncTaskExecutor-6] [execute] starting step: wait:33 \n2021-07-06 17:24:14.873 INFO [SimpleAsyncTaskExecutor-13] [execute] starting step: wait:0 \n2021-07-06 17:24:14.875 INFO [SimpleAsyncTaskExecutor-15] [execute] starting step: wait:25 \n2021-07-06 17:24:14.875 INFO [SimpleAsyncTaskExecutor-14] [execute] starting step: wait:13 \n2021-07-06 17:24:14.882 INFO [SimpleAsyncTaskExecutor-8] [execute] starting step: wait:6 \n2021-07-06 17:24:14.885 INFO [SimpleAsyncTaskExecutor-3] [execute] Step: [wait:2] executed in 10s23ms \n2021-07-06 17:24:14.885 INFO [SimpleAsyncTaskExecutor-11] [execute] Step: [wait:27] executed in 10s18ms \n2021-07-06 17:24:14.885 INFO [SimpleAsyncTaskExecutor-5] [execute] Step: [wait:16] executed in 10s22ms \n2021-07-06 17:24:14.885 INFO [SimpleAsyncTaskExecutor-9] [execute] Step: [wait:3] executed in 10s19ms \n2021-07-06 17:24:14.885 INFO [SimpleAsyncTaskExecutor-12] [execute] Step: [wait:4] executed in 10s18ms \n2021-07-06 17:24:14.885 INFO [SimpleAsyncTaskExecutor-10] [execute] Step: [wait:34] executed in 10s19ms \n2021-07-06 17:24:14.885 INFO [SimpleAsyncTaskExecutor-7] [execute] Step: [wait:7] executed in 10s20ms \n2021-07-06 17:24:14.885 INFO [SimpleAsyncTaskExecutor-2] [execute] Step: [wait:11] executed in 10s24ms \n2021-07-06 17:24:14.885 INFO [SimpleAsyncTaskExecutor-1] [execute] Step: [wait:29] executed in 10s25ms \n2021-07-06 17:24:14.886 DEBUG [SimpleAsyncTaskExecutor-3] [afterAccess] Returning from throttle at concurrency count 14 \n2021-07-06 17:24:14.887 DEBUG [SimpleAsyncTaskExecutor-12] [afterAccess] Returning from throttle at concurrency count 13 \n2021-07-06 17:24:14.887 DEBUG [SimpleAsyncTaskExecutor-9] [afterAccess] Returning from throttle at concurrency count 12 \n2021-07-06 17:24:14.887 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 12 \n2021-07-06 17:24:14.888 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 13 \n2021-07-06 17:24:14.888 DEBUG [SimpleAsyncTaskExecutor-10] [afterAccess] Returning from throttle at concurrency count 13 \n2021-07-06 17:24:14.888 DEBUG [SimpleAsyncTaskExecutor-5] [afterAccess] Returning from throttle at concurrency count 12 \n2021-07-06 17:24:14.888 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 12 \n2021-07-06 17:24:14.889 DEBUG [SimpleAsyncTaskExecutor-7] [afterAccess] Returning from throttle at concurrency count 12 \n2021-07-06 17:24:14.889 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 12 \n2021-07-06 17:24:14.889 DEBUG [SimpleAsyncTaskExecutor-2] [afterAccess] Returning from throttle at concurrency count 12 \n2021-07-06 17:24:14.890 DEBUG [SimpleAsyncTaskExecutor-11] [afterAccess] Returning from throttle at concurrency count 11 \n2021-07-06 17:24:14.890 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 11 \n2021-07-06 17:24:14.890 DEBUG [SimpleAsyncTaskExecutor-1] [afterAccess] Returning from throttle at concurrency count 11 \n2021-07-06 17:24:14.890 INFO [SimpleAsyncTaskExecutor-4] [execute] Step: [wait:18] executed in 10s29ms \n2021-07-06 17:24:14.890 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 11 \n2021-07-06 17:24:14.890 INFO [SimpleAsyncTaskExecutor-16] [execute] starting step: wait:30 \n2021-07-06 17:24:14.891 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 12 \n2021-07-06 17:24:14.892 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 13 \n2021-07-06 17:24:14.892 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 14 \n2021-07-06 17:24:14.892 INFO [SimpleAsyncTaskExecutor-17] [execute] starting step: wait:12 \n2021-07-06 17:24:14.892 DEBUG [main] [beforeAccess] Concurrency count 15 has reached limit 15 - blocking \n2021-07-06 17:24:14.893 DEBUG [SimpleAsyncTaskExecutor-4] [afterAccess] Returning from throttle at concurrency count 14 \n2021-07-06 17:24:14.893 INFO [SimpleAsyncTaskExecutor-18] [execute] starting step: wait:28 \n2021-07-06 17:24:14.893 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 14 \n2021-07-06 17:24:14.894 DEBUG [main] [beforeAccess] Concurrency count 15 has reached limit 15 - blocking \n2021-07-06 17:24:14.894 INFO [SimpleAsyncTaskExecutor-19] [execute] starting step: wait:24 \n2021-07-06 17:24:14.899 INFO [SimpleAsyncTaskExecutor-21] [execute] starting step: wait:23 \n2021-07-06 17:24:24.878 INFO [SimpleAsyncTaskExecutor-20] [execute] starting step: wait:1 \n2021-07-06 17:24:24.879 INFO [SimpleAsyncTaskExecutor-22] [execute] starting step: wait:32 \n2021-07-06 17:24:24.879 INFO [SimpleAsyncTaskExecutor-23] [execute] starting step: wait:15 \n2021-07-06 17:24:24.879 INFO [SimpleAsyncTaskExecutor-24] [execute] starting step: wait:10 \n2021-07-06 17:24:24.884 INFO [SimpleAsyncTaskExecutor-6] [execute] Step: [wait:33] executed in 20s19ms \n2021-07-06 17:24:24.884 INFO [SimpleAsyncTaskExecutor-13] [execute] Step: [wait:0] executed in 20s17ms \n2021-07-06 17:24:24.885 INFO [SimpleAsyncTaskExecutor-15] [execute] Step: [wait:25] executed in 20s17ms \n2021-07-06 17:24:24.885 INFO [SimpleAsyncTaskExecutor-25] [execute] starting step: wait:17 \n2021-07-06 17:24:24.894 INFO [SimpleAsyncTaskExecutor-14] [execute] Step: [wait:13] executed in 20s26ms \n2021-07-06 17:24:24.894 INFO [SimpleAsyncTaskExecutor-8] [execute] Step: [wait:6] executed in 20s29ms \n2021-07-06 17:24:24.897 DEBUG [SimpleAsyncTaskExecutor-6] [afterAccess] Returning from throttle at concurrency count 14 \n2021-07-06 17:24:24.898 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 14 \n2021-07-06 17:24:24.898 DEBUG [SimpleAsyncTaskExecutor-13] [afterAccess] Returning from throttle at concurrency count 14 \n2021-07-06 17:24:24.899 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 14 \n2021-07-06 17:24:24.899 INFO [SimpleAsyncTaskExecutor-16] [execute] Step: [wait:30] executed in 10s12ms \n2021-07-06 17:24:24.899 DEBUG [SimpleAsyncTaskExecutor-15] [afterAccess] Returning from throttle at concurrency count 14 \n2021-07-06 17:24:24.899 DEBUG [main] [beforeAccess] Entering throttle at concurrency count 14 \n2021-07-06 17:24:24.900 INFO [SimpleAsyncTaskExecutor-17] [execute] Step: [wait:12] executed in 10s12ms \n</code></pre>\n"},{"tags":["java","spring","spring-boot","kotlin","jdbc"],"answers":[{"tags":[],"owner":{"account_id":26552100,"reputation":470,"user_id":20181249,"display_name":"Sandeep Kumar Nat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665499597,"creation_date":1665499597,"answer_id":74030052,"question_id":74029959,"body_markdown":"Try adding these in your application.properties\r\n```\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.show-sql=true","title":"Kotlin Spring Boot: database is empty despite creating a table in schema.sql","body":"<p>Try adding these in your application.properties</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12214453,"reputation":538,"user_id":8915326,"display_name":"Inspi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665560594,"creation_date":1665560594,"answer_id":74038164,"question_id":74029959,"body_markdown":"Solved it !\r\nThis IntelliJ tutorial was written for Spring 2.6 (no longer available in Spring Initializr) and in 2.7 these 2 keys changed in application.properties:  \r\n`spring.datasource.initialization-mode` -&gt; `spring.sql.init.mode`  \r\n`spring.datasource.schema`  -&gt; `spring.sql.init.schema-locations`  \r\n[full list of key changes][1]\r\n\r\nReplacing them in my application.properties worked !\r\n\r\nNew application.properties:\r\n```\r\nspring.datasource.driver-class-name=org.h2.Driver\r\nspring.datasource.url=jdbc:h2:file:./data/testdb\r\nspring.datasource.username=sa\r\nspring.datasource.password=password\r\nspring.sql.init.schema-locations=classpath:sql/schema.sql\r\nspring.sql.init.mode=always\r\n```\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7.0-Configuration-Changelog","title":"Kotlin Spring Boot: database is empty despite creating a table in schema.sql","body":"<p>Solved it !\nThis IntelliJ tutorial was written for Spring 2.6 (no longer available in Spring Initializr) and in 2.7 these 2 keys changed in application.properties:<br />\n<code>spring.datasource.initialization-mode</code> -&gt; <code>spring.sql.init.mode</code><br />\n<code>spring.datasource.schema</code>  -&gt; <code>spring.sql.init.schema-locations</code><br />\n<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7.0-Configuration-Changelog\" rel=\"nofollow noreferrer\">full list of key changes</a></p>\n<p>Replacing them in my application.properties worked !</p>\n<p>New application.properties:</p>\n<pre><code>spring.datasource.driver-class-name=org.h2.Driver\nspring.datasource.url=jdbc:h2:file:./data/testdb\nspring.datasource.username=sa\nspring.datasource.password=password\nspring.sql.init.schema-locations=classpath:sql/schema.sql\nspring.sql.init.mode=always\n</code></pre>\n"}],"owner":{"account_id":12214453,"reputation":538,"user_id":8915326,"display_name":"Inspi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74038164,"answer_count":2,"score":0,"last_activity_date":1665560594,"creation_date":1665499148,"question_id":74029959,"body_markdown":"I&#39;m following this very simple tutorial to setup a REST API using Kotlin, Gradle and Spring Boot:  \r\n[https://kotlinlang.org/docs/jvm-spring-boot-restful.html][1]  \r\nBut when I run the app (by clicking play) and visit localhost:8080 I get an error saying that the table &quot;MESSAGES&quot; is not found and the database is empty.  \r\nI know for sure that my application.properties is read because changing `server.port` worked,  \r\nI&#39;ve tried many things like moving schema.sql directly under main/resources, adding `spring.jpa.hibernate.ddl-auto=none` in application.properties or marking the resources folder as &quot;Source&quot; but to no avail.\r\n\r\nIt seems my schema.sql is not being executed and I can&#39;t figure out why !\r\n\r\nVersions: Windows 10, IntelliJ IDEA 2022.2.2, Java 17, Spring 2.7.4  \r\n\r\n[Main file gist][2]  \r\n\r\napplication.properties:\r\n```\r\nspring.datasource.driver-class-name=org.h2.Driver\r\nspring.datasource.url=jdbc:h2:file:./data/testdb\r\nspring.datasource.username=sa\r\nspring.datasource.password=password\r\nspring.datasource.schema=classpath:sql/schema.sql\r\nspring.datasource.initialization-mode=always\r\n```\r\nsql/schema.sql:\r\n```sql\r\nCREATE TABLE IF NOT EXISTS messages (\r\n  id     VARCHAR(60)  DEFAULT RANDOM_UUID() PRIMARY KEY,\r\n  text   VARCHAR      NOT NULL\r\n);\r\n```\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/jvm-spring-boot-restful.html\r\n  [2]: https://gist.github.com/Inspirateur/a8d478f04498d1b61f0b5a006b00a9da","title":"Kotlin Spring Boot: database is empty despite creating a table in schema.sql","body":"<p>I'm following this very simple tutorial to setup a REST API using Kotlin, Gradle and Spring Boot:<br />\n<a href=\"https://kotlinlang.org/docs/jvm-spring-boot-restful.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/jvm-spring-boot-restful.html</a><br />\nBut when I run the app (by clicking play) and visit localhost:8080 I get an error saying that the table &quot;MESSAGES&quot; is not found and the database is empty.<br />\nI know for sure that my application.properties is read because changing <code>server.port</code> worked,<br />\nI've tried many things like moving schema.sql directly under main/resources, adding <code>spring.jpa.hibernate.ddl-auto=none</code> in application.properties or marking the resources folder as &quot;Source&quot; but to no avail.</p>\n<p>It seems my schema.sql is not being executed and I can't figure out why !</p>\n<p>Versions: Windows 10, IntelliJ IDEA 2022.2.2, Java 17, Spring 2.7.4</p>\n<p><a href=\"https://gist.github.com/Inspirateur/a8d478f04498d1b61f0b5a006b00a9da\" rel=\"nofollow noreferrer\">Main file gist</a></p>\n<p>application.properties:</p>\n<pre><code>spring.datasource.driver-class-name=org.h2.Driver\nspring.datasource.url=jdbc:h2:file:./data/testdb\nspring.datasource.username=sa\nspring.datasource.password=password\nspring.datasource.schema=classpath:sql/schema.sql\nspring.datasource.initialization-mode=always\n</code></pre>\n<p>sql/schema.sql:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE IF NOT EXISTS messages (\n  id     VARCHAR(60)  DEFAULT RANDOM_UUID() PRIMARY KEY,\n  text   VARCHAR      NOT NULL\n);\n</code></pre>\n"},{"tags":["java","android","filter","android-recyclerview"],"comments":[{"owner":{"account_id":3577678,"reputation":11003,"user_id":2986537,"accept_rate":100,"display_name":"Razib"},"score":2,"creation_date":1441129940,"post_id":32337908,"comment_id":52550134,"body_markdown":"Don&#39;t just paste your code. Where is actually the `NullPointerExcepton` occurred mention it - by comment.","body":"Don&#39;t just paste your code. Where is actually the <code>NullPointerExcepton</code> occurred mention it - by comment."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1441129943,"post_id":32337908,"comment_id":52550135,"body_markdown":"What line throws the exception?","body":"What line throws the exception?"},{"owner":{"display_name":"user3623979"},"score":0,"creation_date":1441130103,"post_id":32337908,"comment_id":52550227,"body_markdown":"I have mentioned..          return  ItemList.size(); -------This line throws exception","body":"I have mentioned..          return  ItemList.size(); -------This line throws exception"},{"owner":{"account_id":5375978,"reputation":477,"user_id":4951605,"accept_rate":100,"display_name":"SwiftySwift"},"score":0,"creation_date":1441130186,"post_id":32337908,"comment_id":52550270,"body_markdown":"If it throws an exception it means that `ItemList` is null.\n\nAre you calling the constructor `ItemAdapter` before calling `getItemCount` (and passing a non-null `ArrayList` to it)?","body":"If it throws an exception it means that <code>ItemList</code> is null.  Are you calling the constructor <code>ItemAdapter</code> before calling <code>getItemCount</code> (and passing a non-null <code>ArrayList</code> to it)?"},{"owner":{"display_name":"user3623979"},"score":0,"creation_date":1441130343,"post_id":32337908,"comment_id":52550337,"body_markdown":"public ItemAdapter(Context context,ArrayList&lt;Item&gt; ItemList) {\n           this.context= context;\n            this.ItemList = ItemList;\n\n        }\n--------------------------------------This is constructor","body":"public ItemAdapter(Context context,ArrayList&lt;Item&gt; ItemList) {            this.context= context;             this.ItemList = ItemList;          } --------------------------------------This is constructor"}],"answers":[{"tags":[],"owner":{"account_id":5186197,"reputation":643,"user_id":4150528,"display_name":"dhun"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1665560266,"creation_date":1441129919,"answer_id":32337988,"question_id":32337908,"body_markdown":"Just initialize your ItemList like,\r\n\r\n      private ArrayList&lt;Item&gt; ItemList = new ArrayList&lt;Item&gt;();\r\n\r\n1. Below method not work your app open close again and again.\r\n2. But above method work for null pointer exception. You should initialize this on recycler view activity.java section.\r\n\r\n\r\nOR, Add a check in your getItemCount()\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            If (ItemList == null)\r\n               return 0;\r\n            else\r\n               return  ItemList.size();\r\n        }\r\n     \r\n**EDITED**\r\n        \r\n        @Override\r\n        public int getItemCount() {\r\n            if (ItemList == null)\r\n               return 0;\r\n            else\r\n               return  ItemList.size();\r\n        }","title":"Null pointer Exception in method getItemCount","body":"<p>Just initialize your ItemList like,</p>\n<pre><code>  private ArrayList&lt;Item&gt; ItemList = new ArrayList&lt;Item&gt;();\n</code></pre>\n<ol>\n<li>Below method not work your app open close again and again.</li>\n<li>But above method work for null pointer exception. You should initialize this on recycler view activity.java section.</li>\n</ol>\n<p>OR, Add a check in your getItemCount()</p>\n<pre><code>    @Override\n    public int getItemCount() {\n        If (ItemList == null)\n           return 0;\n        else\n           return  ItemList.size();\n    }\n \n</code></pre>\n<p><strong>EDITED</strong></p>\n<pre><code>    @Override\n    public int getItemCount() {\n        if (ItemList == null)\n           return 0;\n        else\n           return  ItemList.size();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":149420,"reputation":4879,"user_id":361902,"accept_rate":71,"display_name":"WindsurferOak"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1441130282,"creation_date":1441130282,"answer_id":32338080,"question_id":32337908,"body_markdown":"`ItemList` is getting set to `null` somewhere. One way to guard against this is to change your `getItemCount` method to return 0 if the list is null:\r\n\r\n\r\n    int getItemCount(){\r\n        return  ItemList == null ? 0 : ItemList.size();\r\n    }","title":"Null pointer Exception in method getItemCount","body":"<p><code>ItemList</code> is getting set to <code>null</code> somewhere. One way to guard against this is to change your <code>getItemCount</code> method to return 0 if the list is null:</p>\n\n<pre><code>int getItemCount(){\n    return  ItemList == null ? 0 : ItemList.size();\n}\n</code></pre>\n"}],"owner":{"display_name":"user3623979"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1441156712,"answer_count":2,"score":0,"last_activity_date":1665560266,"creation_date":1441129626,"question_id":32337908,"body_markdown":"I am using a list with card view and recyclerview.  I have added adapter for the list and added the getItemCount method. I want to add a search function for my list. So I have added a filter too. But when I am typing in the search view I am getting an Exception on return  ItemList.size(); this line.. What Am I missing??\r\n\r\nAdapter\r\n\r\n        \r\n    public class ItemAdapter  extends RecyclerView.Adapter&lt;ListViewHolder&gt; implements Filterable{\r\n    \r\n        public ItemsFilter itemFilter;\r\n        ArrayList&lt;Item&gt; mStringFilterList;\r\n        private ArrayList&lt;Item&gt; ItemList;\r\n        private Context context;\r\n        private MyItemClickListener mItemClickListener;\r\n        private MyItemLongClickListener mItemLongClickListener;\r\n    \r\n            public ItemAdapter(Context context,ArrayList&lt;Item&gt; ItemList) {\r\n               this.context= context;\r\n                this.ItemList = ItemList;\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public ListViewHolder onCreateViewHolder(ViewGroup viewGroup, int i) {\r\n                View v = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.card_layout, null);\r\n                ListViewHolder mh = new ListViewHolder(v);\r\n    \r\n                return mh;\r\n            }\r\n    \r\n            @Override\r\n            public void onBindViewHolder(final ListViewHolder ListViewHolder, int i) {\r\n                Item Item = ItemList.get(i);\r\n                ListViewHolder.textName.setText(Item.getItem_name());\r\n                ListViewHolder.textDesc.setText(Item.getItem_desc());\r\n                ListViewHolder.textQty.setText(Item.getItem_qty());\r\n                ListViewHolder.textName.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n    \r\n                    }\r\n                });\r\n            }\r\n    \r\n            @Override\r\n            public int getItemCount() {\r\n                return  ItemList.size();\r\n            }\r\n        public class ItemsFilter extends Filter {\r\n    \r\n                @Override\r\n                protected FilterResults performFiltering(CharSequence constraint) {\r\n                    FilterResults results = new FilterResults();\r\n    \r\n                    if (constraint != null &amp;&amp; constraint.length() &gt; 0) {\r\n                        ArrayList&lt;Item&gt; filterList = new ArrayList&lt;Item&gt;();\r\n                        for (int i = 0; i &lt; mStringFilterList.size(); i++) {\r\n                            if ((mStringFilterList.get(i).getItem_name())\r\n                                    .contains(constraint.toString())) {\r\n    \r\n                                Item item = new Item(mStringFilterList.get(i)\r\n                                        .getItem_name(), mStringFilterList.get(i)\r\n                                        .getItem_desc(), mStringFilterList.get(i)\r\n                                        .getItem_qty());\r\n    \r\n                                filterList.add(item);\r\n                            }\r\n                        }\r\n                        results.count = filterList.size();\r\n                        results.values = filterList;\r\n                    } else {\r\n                        results.count = mStringFilterList.size();\r\n                        results.values = mStringFilterList;\r\n                    }\r\n                    return results;\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void publishResults(CharSequence constraint,\r\n                                           Filter.FilterResults results) {\r\n                    ItemList = (ArrayList&lt;Item&gt;) results.values;\r\n                    notifyDataSetChanged();\r\n                }\r\n    \r\n    \r\n            }\r\n        @Override\r\n        public Filter getFilter() {\r\n            // return a filter that filters data based on a constraint\r\n    \r\n            if (itemFilter == null) {\r\n                itemFilter = new ItemsFilter();\r\n            }\r\n            return itemFilter;\r\n        }\r\n    }\r\n\r\nfragment\r\n\r\n\r\n        \r\n    public class ViewStock extends Fragment  implements SearchView.OnQueryTextListener {\r\n        final MainActivity act = (MainActivity) this.getActivity();\r\n    \r\n    \r\n        public ViewStock() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n            View rootview = inflater.inflate(R.layout.fragment_view_stock, container, false);\r\n            setHasOptionsMenu(true);\r\n            act.array_data = new ArrayList&lt;Item&gt;();\r\n            //   act.listview.setTextFilterEnabled(true);\r\n           // act. = new ArrayList&lt;Item&gt;();\r\n            // Context mCtx = getActivity().getApplicationContext();\r\n            RecyclerView mRecyclerView = (RecyclerView)rootview.findViewById(R.id.my_recycler_view);\r\n            LinearLayoutManager llm = new LinearLayoutManager(getActivity());\r\n            llm.setOrientation(LinearLayoutManager.VERTICAL);\r\n            mRecyclerView.setLayoutManager(llm);\r\n    \r\n            //   ItemAdapter adapter = new ItemAdapter(getActivity(), R.layout.list_item, act.arrayList);\r\n            // listview.setAdapter(adapter);\r\n            act.db = new DBHandler(getActivity());\r\n            ArrayList&lt;Item&gt; item_array_from_db = act.db.Get_items();\r\n    \r\n            for (int i = 0; i &lt; item_array_from_db.size(); i++) {\r\n    \r\n                int idno = item_array_from_db.get(i).getID();\r\n                String name = item_array_from_db.get(i).getItem_name();\r\n                String desc = item_array_from_db.get(i).getItem_desc();\r\n                String qty = item_array_from_db.get(i).getItem_qty();\r\n                Item cnt = new Item();\r\n                cnt.setID(idno);\r\n                cnt.setItem_name(name);\r\n                cnt.setItem_desc(desc);\r\n                cnt.setItem_qty(qty);\r\n    \r\n                act.array_data.add(cnt);\r\n            }\r\n            act.db.close();\r\n            act.adapter=new ItemAdapter(getActivity(),act.array_data);\r\n            mRecyclerView.setAdapter(act.adapter);\r\n    \r\n            return rootview;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\r\n            inflater.inflate(R.menu.menu_main, menu);\r\n    \r\n            final MenuItem item = menu.findItem(R.id.menu_search);\r\n            final SearchView searchView = (SearchView) MenuItemCompat.getActionView(item);\r\n            searchView.setOnQueryTextListener(this);\r\n        }\r\n    \r\n        @Override\r\n        public boolean onQueryTextChange(String newText) {\r\n            if (TextUtils.isEmpty(newText)) {\r\n                act.adapter.getFilter().filter(&quot;&quot;);\r\n            } else {\r\n                act.adapter.getFilter().filter(newText.toString());\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean onQueryTextSubmit(String query) {\r\n            return false;\r\n        }\r\n    }\r\n\r\nclass\r\n\r\n        \r\n    public class Item {\r\n        public int id;\r\n        public String item_name;\r\n        public String item_desc;\r\n        public String item_qty;\r\n    \r\n        public Item(){}\r\n        public Item(int id, String item_name, String item_desc, String item_qty) {\r\n            super();\r\n            this.item_name = item_name;\r\n            this.item_desc = item_desc;\r\n            this.item_qty = item_qty;\r\n        }\r\n    \r\n        public Item(String item_name, String item_desc, String item_qty){\r\n            this.item_name = item_name;\r\n            this.item_desc=item_desc;\r\n            this.item_qty = item_qty;\r\n        }\r\n    \r\n        public int getID(){\r\n            return id;\r\n        }\r\n    \r\n        public void setID(int id){\r\n            this.id= id;\r\n        }\r\n        public String getItem_name(){\r\n            return item_name;\r\n        }\r\n    \r\n        public void setItem_name(String item_name)\r\n        {\r\n            this.item_name=item_name;\r\n        }\r\n    \r\n        public String getItem_desc()\r\n        {\r\n            return  item_desc;\r\n        }\r\n        public  void setItem_desc(String item_desc)\r\n        {\r\n            this.item_desc=item_desc;\r\n        }\r\n        public String getItem_qty()\r\n        {\r\n            return  item_qty;\r\n        }\r\n        public void setItem_qty(String item_qty) {\r\n            this.item_qty = item_qty;\r\n        }\r\n    }\r\n\r\n","title":"Null pointer Exception in method getItemCount","body":"<p>I am using a list with card view and recyclerview.  I have added adapter for the list and added the getItemCount method. I want to add a search function for my list. So I have added a filter too. But when I am typing in the search view I am getting an Exception on return  ItemList.size(); this line.. What Am I missing??</p>\n\n<p>Adapter</p>\n\n<pre><code>public class ItemAdapter  extends RecyclerView.Adapter&lt;ListViewHolder&gt; implements Filterable{\n\n    public ItemsFilter itemFilter;\n    ArrayList&lt;Item&gt; mStringFilterList;\n    private ArrayList&lt;Item&gt; ItemList;\n    private Context context;\n    private MyItemClickListener mItemClickListener;\n    private MyItemLongClickListener mItemLongClickListener;\n\n        public ItemAdapter(Context context,ArrayList&lt;Item&gt; ItemList) {\n           this.context= context;\n            this.ItemList = ItemList;\n\n        }\n\n        @Override\n        public ListViewHolder onCreateViewHolder(ViewGroup viewGroup, int i) {\n            View v = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.card_layout, null);\n            ListViewHolder mh = new ListViewHolder(v);\n\n            return mh;\n        }\n\n        @Override\n        public void onBindViewHolder(final ListViewHolder ListViewHolder, int i) {\n            Item Item = ItemList.get(i);\n            ListViewHolder.textName.setText(Item.getItem_name());\n            ListViewHolder.textDesc.setText(Item.getItem_desc());\n            ListViewHolder.textQty.setText(Item.getItem_qty());\n            ListViewHolder.textName.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n\n                }\n            });\n        }\n\n        @Override\n        public int getItemCount() {\n            return  ItemList.size();\n        }\n    public class ItemsFilter extends Filter {\n\n            @Override\n            protected FilterResults performFiltering(CharSequence constraint) {\n                FilterResults results = new FilterResults();\n\n                if (constraint != null &amp;&amp; constraint.length() &gt; 0) {\n                    ArrayList&lt;Item&gt; filterList = new ArrayList&lt;Item&gt;();\n                    for (int i = 0; i &lt; mStringFilterList.size(); i++) {\n                        if ((mStringFilterList.get(i).getItem_name())\n                                .contains(constraint.toString())) {\n\n                            Item item = new Item(mStringFilterList.get(i)\n                                    .getItem_name(), mStringFilterList.get(i)\n                                    .getItem_desc(), mStringFilterList.get(i)\n                                    .getItem_qty());\n\n                            filterList.add(item);\n                        }\n                    }\n                    results.count = filterList.size();\n                    results.values = filterList;\n                } else {\n                    results.count = mStringFilterList.size();\n                    results.values = mStringFilterList;\n                }\n                return results;\n\n            }\n\n            @Override\n            public void publishResults(CharSequence constraint,\n                                       Filter.FilterResults results) {\n                ItemList = (ArrayList&lt;Item&gt;) results.values;\n                notifyDataSetChanged();\n            }\n\n\n        }\n    @Override\n    public Filter getFilter() {\n        // return a filter that filters data based on a constraint\n\n        if (itemFilter == null) {\n            itemFilter = new ItemsFilter();\n        }\n        return itemFilter;\n    }\n}\n</code></pre>\n\n<p>fragment</p>\n\n<pre><code>public class ViewStock extends Fragment  implements SearchView.OnQueryTextListener {\n    final MainActivity act = (MainActivity) this.getActivity();\n\n\n    public ViewStock() {\n        // Required empty public constructor\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View rootview = inflater.inflate(R.layout.fragment_view_stock, container, false);\n        setHasOptionsMenu(true);\n        act.array_data = new ArrayList&lt;Item&gt;();\n        //   act.listview.setTextFilterEnabled(true);\n       // act. = new ArrayList&lt;Item&gt;();\n        // Context mCtx = getActivity().getApplicationContext();\n        RecyclerView mRecyclerView = (RecyclerView)rootview.findViewById(R.id.my_recycler_view);\n        LinearLayoutManager llm = new LinearLayoutManager(getActivity());\n        llm.setOrientation(LinearLayoutManager.VERTICAL);\n        mRecyclerView.setLayoutManager(llm);\n\n        //   ItemAdapter adapter = new ItemAdapter(getActivity(), R.layout.list_item, act.arrayList);\n        // listview.setAdapter(adapter);\n        act.db = new DBHandler(getActivity());\n        ArrayList&lt;Item&gt; item_array_from_db = act.db.Get_items();\n\n        for (int i = 0; i &lt; item_array_from_db.size(); i++) {\n\n            int idno = item_array_from_db.get(i).getID();\n            String name = item_array_from_db.get(i).getItem_name();\n            String desc = item_array_from_db.get(i).getItem_desc();\n            String qty = item_array_from_db.get(i).getItem_qty();\n            Item cnt = new Item();\n            cnt.setID(idno);\n            cnt.setItem_name(name);\n            cnt.setItem_desc(desc);\n            cnt.setItem_qty(qty);\n\n            act.array_data.add(cnt);\n        }\n        act.db.close();\n        act.adapter=new ItemAdapter(getActivity(),act.array_data);\n        mRecyclerView.setAdapter(act.adapter);\n\n        return rootview;\n    }\n\n    @Override\n    public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\n        inflater.inflate(R.menu.menu_main, menu);\n\n        final MenuItem item = menu.findItem(R.id.menu_search);\n        final SearchView searchView = (SearchView) MenuItemCompat.getActionView(item);\n        searchView.setOnQueryTextListener(this);\n    }\n\n    @Override\n    public boolean onQueryTextChange(String newText) {\n        if (TextUtils.isEmpty(newText)) {\n            act.adapter.getFilter().filter(\"\");\n        } else {\n            act.adapter.getFilter().filter(newText.toString());\n        }\n        return true;\n    }\n\n    @Override\n    public boolean onQueryTextSubmit(String query) {\n        return false;\n    }\n}\n</code></pre>\n\n<p>class</p>\n\n<pre><code>public class Item {\n    public int id;\n    public String item_name;\n    public String item_desc;\n    public String item_qty;\n\n    public Item(){}\n    public Item(int id, String item_name, String item_desc, String item_qty) {\n        super();\n        this.item_name = item_name;\n        this.item_desc = item_desc;\n        this.item_qty = item_qty;\n    }\n\n    public Item(String item_name, String item_desc, String item_qty){\n        this.item_name = item_name;\n        this.item_desc=item_desc;\n        this.item_qty = item_qty;\n    }\n\n    public int getID(){\n        return id;\n    }\n\n    public void setID(int id){\n        this.id= id;\n    }\n    public String getItem_name(){\n        return item_name;\n    }\n\n    public void setItem_name(String item_name)\n    {\n        this.item_name=item_name;\n    }\n\n    public String getItem_desc()\n    {\n        return  item_desc;\n    }\n    public  void setItem_desc(String item_desc)\n    {\n        this.item_desc=item_desc;\n    }\n    public String getItem_qty()\n    {\n        return  item_qty;\n    }\n    public void setItem_qty(String item_qty) {\n        this.item_qty = item_qty;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":418189,"reputation":1882,"user_id":794606,"accept_rate":80,"display_name":"Jacek Cz"},"score":3,"creation_date":1507806874,"post_id":46708063,"comment_id":80362712,"body_markdown":"yes, this is normal in managed (JEE / JTA) eninvronment. Every attached object is saved","body":"yes, this is normal in managed (JEE / JTA) eninvronment. Every attached object is saved"},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":3,"creation_date":1507808172,"post_id":46708063,"comment_id":80363492,"body_markdown":"@YannicKlem persisted entities are saved by Hibernate when a transaction is flushed, so no manual `save()` is necessary. This is described in [11.5 Modifying persistent objects](http://docs.jboss.org/hibernate/core/3.6/reference/en-US/html/objectstate.html#objectstate-modifying). No clue if this is a feature solely within Hibernate, or if this is described within the JPA specification as well.","body":"@YannicKlem persisted entities are saved by Hibernate when a transaction is flushed, so no manual <code>save()</code> is necessary. This is described in <a href=\"http://docs.jboss.org/hibernate/core/3.6/reference/en-US/html/objectstate.html#objectstate-modifying\" rel=\"nofollow noreferrer\">11.5 Modifying persistent objects</a>. No clue if this is a feature solely within Hibernate, or if this is described within the JPA specification as well."},{"owner":{"account_id":3039084,"reputation":6351,"user_id":2576531,"accept_rate":88,"display_name":"Yannic B&#252;rgmann"},"score":0,"creation_date":1507809054,"post_id":46708063,"comment_id":80364036,"body_markdown":"Thank you for clarification. I was completely unaware of this behavior!","body":"Thank you for clarification. I was completely unaware of this behavior!"},{"owner":{"account_id":7589958,"reputation":1655,"user_id":5757916,"accept_rate":50,"display_name":"Gregor Sklorz"},"score":0,"creation_date":1507814260,"post_id":46708063,"comment_id":80367680,"body_markdown":"Thank you :) That clears it","body":"Thank you :) That clears it"}],"answers":[{"tags":[],"owner":{"account_id":2535057,"reputation":25845,"user_id":2202415,"display_name":"Maciej Kowalski"},"down_vote_count":0,"up_vote_count":82,"is_accepted":true,"score":82,"last_activity_date":1665559710,"creation_date":1507807202,"answer_id":46708295,"question_id":46708063,"body_markdown":"If you retrieve an entity, for example using the `findOne` method call within a transactional method it has become **managed** from that point by the persistence provider.\r\n\r\nNow if you make any changes to that entity (which is actually a proxy object), upon transaction commit, those changes will be persisted to the database, regardless of the fact of invoking the `save` or `update` methods.\r\n\r\n`save` or `persist` has to be used when you are creating a new entity from scratch and persistence provider does not know of its existence yet.\r\n\r\nRemember that you can prevent making any changes upon commit, if you use `detach` or `evict` methods on that particular entity before those changes occur.","title":"SpringBoot JPA need no .save() on @Transactional?","body":"<p>If you retrieve an entity, for example using the <code>findOne</code> method call within a transactional method it has become <strong>managed</strong> from that point by the persistence provider.</p>\n<p>Now if you make any changes to that entity (which is actually a proxy object), upon transaction commit, those changes will be persisted to the database, regardless of the fact of invoking the <code>save</code> or <code>update</code> methods.</p>\n<p><code>save</code> or <code>persist</code> has to be used when you are creating a new entity from scratch and persistence provider does not know of its existence yet.</p>\n<p>Remember that you can prevent making any changes upon commit, if you use <code>detach</code> or <code>evict</code> methods on that particular entity before those changes occur.</p>\n"}],"owner":{"account_id":7589958,"reputation":1655,"user_id":5757916,"accept_rate":50,"display_name":"Gregor Sklorz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35393,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"closed_date":1507810455,"accepted_answer_id":46708295,"answer_count":1,"score":47,"last_activity_date":1665559710,"creation_date":1507806426,"question_id":46708063,"body_markdown":"I have short question:\r\n\r\nDo I need a `repo.save(x)` call on `@Transactional` methods?\r\n\r\nI ask cause I see changes on my DB without save, and read no clear docs about it.\r\n\r\nSo is it working as intended, or just a (welcome) unexpected behavior?\r\n\r\nexample:\r\n\r\n    @Autowired\r\n    private UserRepo repo;\r\n    \r\n    @Transactional\t\r\n    @PutMapping\r\n    public Long put(@RequestBody User user)\r\n    {\r\n      User u = repo.findOne(user.getId());\r\n      u.setName(&quot;Paul&quot;);\r\n      repo.save(u); // DO I NEED THIS LINE?\r\n    }\r\n\r\nI&#39;am just unsure about it, so maybe someone can shed some light on the subject?","title":"SpringBoot JPA need no .save() on @Transactional?","body":"<p>I have short question:</p>\n\n<p>Do I need a <code>repo.save(x)</code> call on <code>@Transactional</code> methods?</p>\n\n<p>I ask cause I see changes on my DB without save, and read no clear docs about it.</p>\n\n<p>So is it working as intended, or just a (welcome) unexpected behavior?</p>\n\n<p>example:</p>\n\n<pre><code>@Autowired\nprivate UserRepo repo;\n\n@Transactional  \n@PutMapping\npublic Long put(@RequestBody User user)\n{\n  User u = repo.findOne(user.getId());\n  u.setName(\"Paul\");\n  repo.save(u); // DO I NEED THIS LINE?\n}\n</code></pre>\n\n<p>I'am just unsure about it, so maybe someone can shed some light on the subject?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9024,"page":968,"page_size":100}
