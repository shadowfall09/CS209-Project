{"items":[{"tags":["java","mysql"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1613784305,"post_id":66287030,"comment_id":117191642,"body_markdown":"You named your class `Connection`. Don&#39;t do that. You want a `java.sql.Connection` not a `com.claim.classes.Connection` and your code is hard to follow on that basis.","body":"You named your class <code>Connection</code>. Don&#39;t do that. You want a <code>java.sql.Connection</code> not a <code>com.claim.classes.Connection</code> and your code is hard to follow on that basis."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1613786198,"creation_date":1613786198,"answer_id":66287245,"question_id":66287030,"body_markdown":"You have _horrible_ exception handling and it is at the root of this problem.\r\n\r\nThe best way to handle an exception, is to just throw it onwards, especially if the exception is the kind of thing the method would obviously throw based not on its implementation but solely its specification (so, the name of it, and its parameter types, and its javadoc). A method named `createConnection`, in a class named `DbConnection`, obviously should be declared to `throws SQLException`. Thus, fix your createConnection method; it should be:\r\n\r\n```\r\nprivate Connection createConnection() throws SQLException {\r\n    Connection connection = DriverManager.getConnection(URL, USER, PASSWORD);\r\n    System.out.println(&quot;Connected to Database.&quot;);\r\n    return connection;\r\n}\r\n```\r\n\r\nNote how much cleaner that is.\r\n\r\nIf that is not possible (either because you are overriding a method and therefore cannot add any checked exceptions, or the exception is due to an implementation detail and should not be exposed), then the next best thing is to rethrow it as a different exception:\r\n\r\n```\r\nprivate Connection createConnection() {\r\n    try {\r\n        Connection connection = DriverManager.getConnection(URL, USER, PASSWORD);\r\n        System.out.println(&quot;Connected to Database.&quot;);\r\n        return connection;\r\n    } catch (SQLException e) {\r\n        throw new RuntimeException(&quot;Cannot connect to database&quot;, e);\r\n    }\r\n}\r\n```\r\n\r\nTo be clear, __that is bad design__ here, this method should just be declared to throw SQLException, it&#39;s a fundamental part of interacting with DBs.\r\n\r\nWhat you&#39;re doing is much, _much_ worse:\r\n\r\nIt led to this problem, for starters. The primarily problem is twofold:\r\n\r\n1. You&#39;re tossing out a lot of useful info. That `e` object has a stack trace, a type, a message, causes, and more. By catching it and then just printing some stuff to syserr and continuing, you&#39;ve tossed all this useful info in the bin.\r\n\r\n2. By continuing the code, your app is now in a state you never expected (in this case, `Connection connection;` is null and thus null is returned. This results in two subproblems:\r\n\r\n2a. The actual problem now occurs in an irrelevant place: The problem is that your &#39;connect to the DB&#39; call is failing, but because of your exception handler, now a problem occurs on a line that has nothing to do with this (namely, the line that tries to use the null reference)\r\n\r\n2b. &#39;stack trace explosion&#39; - because code continues, but the app is in a state you did not expect, _obviously_ the app is going to throw some sort of exception real soon. If all your exception handling code is like this, that, too, will get swallowed and results in some `System.out` traffic, and the situation continues onwards. The effect is that 1 problem causes a hundred stack traces to be dumped to sysout, and they are all __completely irrelevant__, except for the first one.\r\n\r\nThat last bit happened to you. Here is the simple rule:\r\n\r\n__You must never catch an exception unless you will actually handle it OR rethrow it or some other exception from the catch block. System.err is NOT TO BE CALLED in them__.\r\n","title":"Cannot invoke &quot;java.sql.Connection.prepareStatement(String)&quot; because &quot;dbConnection&quot; is null (Mysql connection)","body":"<p>You have <em>horrible</em> exception handling and it is at the root of this problem.</p>\n<p>The best way to handle an exception, is to just throw it onwards, especially if the exception is the kind of thing the method would obviously throw based not on its implementation but solely its specification (so, the name of it, and its parameter types, and its javadoc). A method named <code>createConnection</code>, in a class named <code>DbConnection</code>, obviously should be declared to <code>throws SQLException</code>. Thus, fix your createConnection method; it should be:</p>\n<pre><code>private Connection createConnection() throws SQLException {\n    Connection connection = DriverManager.getConnection(URL, USER, PASSWORD);\n    System.out.println(&quot;Connected to Database.&quot;);\n    return connection;\n}\n</code></pre>\n<p>Note how much cleaner that is.</p>\n<p>If that is not possible (either because you are overriding a method and therefore cannot add any checked exceptions, or the exception is due to an implementation detail and should not be exposed), then the next best thing is to rethrow it as a different exception:</p>\n<pre><code>private Connection createConnection() {\n    try {\n        Connection connection = DriverManager.getConnection(URL, USER, PASSWORD);\n        System.out.println(&quot;Connected to Database.&quot;);\n        return connection;\n    } catch (SQLException e) {\n        throw new RuntimeException(&quot;Cannot connect to database&quot;, e);\n    }\n}\n</code></pre>\n<p>To be clear, <strong>that is bad design</strong> here, this method should just be declared to throw SQLException, it's a fundamental part of interacting with DBs.</p>\n<p>What you're doing is much, <em>much</em> worse:</p>\n<p>It led to this problem, for starters. The primarily problem is twofold:</p>\n<ol>\n<li><p>You're tossing out a lot of useful info. That <code>e</code> object has a stack trace, a type, a message, causes, and more. By catching it and then just printing some stuff to syserr and continuing, you've tossed all this useful info in the bin.</p>\n</li>\n<li><p>By continuing the code, your app is now in a state you never expected (in this case, <code>Connection connection;</code> is null and thus null is returned. This results in two subproblems:</p>\n</li>\n</ol>\n<p>2a. The actual problem now occurs in an irrelevant place: The problem is that your 'connect to the DB' call is failing, but because of your exception handler, now a problem occurs on a line that has nothing to do with this (namely, the line that tries to use the null reference)</p>\n<p>2b. 'stack trace explosion' - because code continues, but the app is in a state you did not expect, <em>obviously</em> the app is going to throw some sort of exception real soon. If all your exception handling code is like this, that, too, will get swallowed and results in some <code>System.out</code> traffic, and the situation continues onwards. The effect is that 1 problem causes a hundred stack traces to be dumped to sysout, and they are all <strong>completely irrelevant</strong>, except for the first one.</p>\n<p>That last bit happened to you. Here is the simple rule:</p>\n<p><strong>You must never catch an exception unless you will actually handle it OR rethrow it or some other exception from the catch block. System.err is NOT TO BE CALLED in them</strong>.</p>\n"},{"tags":[],"owner":{"account_id":28145216,"reputation":1,"user_id":21507631,"display_name":"Lehlohonolo Sehako"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684187178,"creation_date":1679986936,"answer_id":75863234,"question_id":66287030,"body_markdown":"I had a similar issue. All I had to do was update my pom.xml file to include postgresql as a dependency - but that is if your are using maven as your project dependency management tool. See below.\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.5.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nversions might differ with time.\r\n\r\nI hope that helps","title":"Cannot invoke &quot;java.sql.Connection.prepareStatement(String)&quot; because &quot;dbConnection&quot; is null (Mysql connection)","body":"<p>I had a similar issue. All I had to do was update my pom.xml file to include postgresql as a dependency - but that is if your are using maven as your project dependency management tool. See below.</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;version&gt;42.5.4&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>versions might differ with time.</p>\n<p>I hope that helps</p>\n"}],"owner":{"account_id":15783700,"reputation":19,"user_id":15039622,"display_name":"F west"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66287245,"answer_count":2,"score":0,"last_activity_date":1684187178,"creation_date":1613783942,"question_id":66287030,"body_markdown":"I&#39;m getting this error **Cannot invoke &quot;java.sql.Connection.prepareStatement(String)&quot; because &quot;dbConnection&quot; is null** \r\n\r\n**at com.claim.classes.Connection.selectRecordsFromTable(Connection.java:24)\r\nat com.claim.classes.Connection.main(Connection.java:12)**\r\n\r\nLooking at my code, everything looks right so I&#39;m not sure why I&#39;m getting this error. Below is the code for my Connection class and DbConnection class\r\n\r\n**Connection.java**\r\n\r\n        package com.claim.classes;\r\n    \r\n            import java.sql.PreparedStatement;\r\n            import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    \r\n    public class Connection {\r\n    \r\n        \r\n     public static void main(String args[])throws Exception{  \r\n     selectRecordsFromTable();\r\n     } \r\n     \r\n     private static void selectRecordsFromTable() throws SQLException {\r\n    \r\n     Connection dbConnection = null;\r\n     PreparedStatement preparedStatement = null;\r\n    \r\n     String selectSQL = &quot;SELECT * FROM USER WHERE id = ?&quot;;\r\n    \r\n     try {\r\n     dbConnection = (Connection) DbConnection.getConnection();\r\n     preparedStatement = ((java.sql.Connection) dbConnection).prepareStatement(selectSQL);\r\n     preparedStatement.setInt(1, 16);\r\n    \r\n     // execute select SQL statement\r\n     ResultSet rs = preparedStatement.executeQuery();\r\n    \r\n     while (rs.next()) {\r\n    \r\n       int id  = rs.getInt(&quot;id&quot;);          \r\n              String email = rs.getString(&quot;email&quot;);\r\n              String fname = rs.getString(&quot;first_name&quot;);\r\n              String lname = rs.getString(&quot;lanst_name&quot;);\r\n    \r\n              //Display values\r\n              System.out.print(&quot;\\nID: &quot; + id +&quot;\\nEmail: &quot; + email+ &quot;\\nfirst name: &quot; + fname+&quot;\\nlast Name: &quot; + lname);          \r\n           \r\n     }\r\n    \r\n     } catch (SQLException e) {\r\n    \r\n     System.out.println(e.getMessage());\r\n    \r\n     } finally {\r\n    \r\n     if (preparedStatement != null) {\r\n     preparedStatement.close();\r\n     }\r\n    \r\n     if (dbConnection != null) {\r\n     ((Statement) dbConnection).close();\r\n     }\r\n    \r\n     }\r\n    \r\n     }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n**DbConnection.java**\r\n\r\n\r\n    package com.claim.classes;\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n    \r\n    public class DbConnection{\r\n    \r\n    // public Connection conn;\r\n    //static reference to itself\r\n        private static DbConnection instance = new DbConnection();    \r\n        public static final String URL = &quot;jdbc:mysql://localhost:3306/root&quot;;\r\n        public static final String USER = &quot;root&quot;;\r\n        public static final String PASSWORD = &quot;root&quot;;\r\n        public static final String DRIVER_CLASS = &quot;com.mysql.cj.jdbc.Driver&quot;; \r\n         \r\n        //private constructor\r\n        private DbConnection() {\r\n            try {\r\n                Class.forName(DRIVER_CLASS);\r\n            } catch (ClassNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n         \r\n        private Connection createConnection() {\r\n            Connection connection = null;\r\n            try {                  \r\n                connection = DriverManager.getConnection(URL, USER, PASSWORD);\r\n                System.out.println(&quot;Connected to Database.&quot;);\r\n            } catch (SQLException e) {\r\n                System.out.println(&quot;ERROR: Unable to Connect to Database.&quot;);\r\n            }\r\n            return connection;\r\n        }   \r\n         \r\n        public static Connection getConnection() {\r\n            return instance.createConnection();\r\n        }\r\n     \r\n    }\r\n\r\nThere was a related question on here but that person was having a different problem than me. Thanks for the help :)","title":"Cannot invoke &quot;java.sql.Connection.prepareStatement(String)&quot; because &quot;dbConnection&quot; is null (Mysql connection)","body":"<p>I'm getting this error <strong>Cannot invoke &quot;java.sql.Connection.prepareStatement(String)&quot; because &quot;dbConnection&quot; is null</strong></p>\n<p><strong>at com.claim.classes.Connection.selectRecordsFromTable(Connection.java:24)\nat com.claim.classes.Connection.main(Connection.java:12)</strong></p>\n<p>Looking at my code, everything looks right so I'm not sure why I'm getting this error. Below is the code for my Connection class and DbConnection class</p>\n<p><strong>Connection.java</strong></p>\n<pre><code>    package com.claim.classes;\n\n        import java.sql.PreparedStatement;\n        import java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class Connection {\n\n    \n public static void main(String args[])throws Exception{  \n selectRecordsFromTable();\n } \n \n private static void selectRecordsFromTable() throws SQLException {\n\n Connection dbConnection = null;\n PreparedStatement preparedStatement = null;\n\n String selectSQL = &quot;SELECT * FROM USER WHERE id = ?&quot;;\n\n try {\n dbConnection = (Connection) DbConnection.getConnection();\n preparedStatement = ((java.sql.Connection) dbConnection).prepareStatement(selectSQL);\n preparedStatement.setInt(1, 16);\n\n // execute select SQL statement\n ResultSet rs = preparedStatement.executeQuery();\n\n while (rs.next()) {\n\n   int id  = rs.getInt(&quot;id&quot;);          \n          String email = rs.getString(&quot;email&quot;);\n          String fname = rs.getString(&quot;first_name&quot;);\n          String lname = rs.getString(&quot;lanst_name&quot;);\n\n          //Display values\n          System.out.print(&quot;\\nID: &quot; + id +&quot;\\nEmail: &quot; + email+ &quot;\\nfirst name: &quot; + fname+&quot;\\nlast Name: &quot; + lname);          \n       \n }\n\n } catch (SQLException e) {\n\n System.out.println(e.getMessage());\n\n } finally {\n\n if (preparedStatement != null) {\n preparedStatement.close();\n }\n\n if (dbConnection != null) {\n ((Statement) dbConnection).close();\n }\n\n }\n\n }\n}\n</code></pre>\n<p><strong>DbConnection.java</strong></p>\n<pre><code>package com.claim.classes;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n\npublic class DbConnection{\n\n// public Connection conn;\n//static reference to itself\n    private static DbConnection instance = new DbConnection();    \n    public static final String URL = &quot;jdbc:mysql://localhost:3306/root&quot;;\n    public static final String USER = &quot;root&quot;;\n    public static final String PASSWORD = &quot;root&quot;;\n    public static final String DRIVER_CLASS = &quot;com.mysql.cj.jdbc.Driver&quot;; \n     \n    //private constructor\n    private DbConnection() {\n        try {\n            Class.forName(DRIVER_CLASS);\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n     \n    private Connection createConnection() {\n        Connection connection = null;\n        try {                  \n            connection = DriverManager.getConnection(URL, USER, PASSWORD);\n            System.out.println(&quot;Connected to Database.&quot;);\n        } catch (SQLException e) {\n            System.out.println(&quot;ERROR: Unable to Connect to Database.&quot;);\n        }\n        return connection;\n    }   \n     \n    public static Connection getConnection() {\n        return instance.createConnection();\n    }\n \n}\n</code></pre>\n<p>There was a related question on here but that person was having a different problem than me. Thanks for the help :)</p>\n"},{"tags":["java","json","jackson","httpurlconnection"],"comments":[{"owner":{"account_id":10759610,"reputation":12648,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1684099435,"post_id":76249668,"comment_id":134463414,"body_markdown":"Does `System.out.println(query);` print what you expect? Remember you can also have `System.out.println(query.asText());` if you want to see what it produces.","body":"Does <code>System.out.println(query);</code> print what you expect? Remember you can also have <code>System.out.println(query.asText());</code> if you want to see what it produces."},{"owner":{"account_id":9539746,"reputation":127,"user_id":7088477,"display_name":"ricksant"},"score":0,"creation_date":1684100399,"post_id":76249668,"comment_id":134463492,"body_markdown":"when I try `System.out.println(query);` it prints out what I expect. but when I try `System.out.println(query.asText());` I get nothing (blank output). Anyway, from the code above I got an answer from the server thats seems I am &quot;querying&quot; nothing: It seems I got all entries an not the ones who have &quot;to be or not to be&quot;. When I am using curl command it works fine.","body":"when I try <code>System.out.println(query);</code> it prints out what I expect. but when I try <code>System.out.println(query.asText());</code> I get nothing (blank output). Anyway, from the code above I got an answer from the server thats seems I am &quot;querying&quot; nothing: It seems I got all entries an not the ones who have &quot;to be or not to be&quot;. When I am using curl command it works fine."},{"owner":{"account_id":9539746,"reputation":127,"user_id":7088477,"display_name":"ricksant"},"score":0,"creation_date":1684143412,"post_id":76249668,"comment_id":134468371,"body_markdown":"When I print `query.ltoString()`I got: `{&quot;query&quot;:{&quot;match_phrase&quot;:{&quot;text_entry&quot;:&quot;to be or not to be&quot;}}}`, which seems ok. I tried:\n`try(OutputStream os = connection.getOutputStream()) {    byte[] input = uery.toString().getBytes(&quot;utf-8&quot;);      os.write(input, 0, input.length);\t}` But I got error 406 from server. Ok, I will try to figure out this error, but anyway, I was not able to send a request to server as I did with curl command.","body":"When I print <code>query.ltoString()</code>I got: <code>{&quot;query&quot;:{&quot;match_phrase&quot;:{&quot;text_entry&quot;:&quot;to be or not to be&quot;}}}</code>, which seems ok. I tried: <code>try(OutputStream os = connection.getOutputStream()) {    byte[] input = uery.toString().getBytes(&quot;utf-8&quot;);      os.write(input, 0, input.length);\t}</code> But I got error 406 from server. Ok, I will try to figure out this error, but anyway, I was not able to send a request to server as I did with curl command."},{"owner":{"account_id":10759610,"reputation":12648,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1684226554,"post_id":76249668,"comment_id":134482939,"body_markdown":"Ehm, sorry about the late reaction, but I think the problem mainly comes from that a [`GET`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/GET) request is normally not expected to have a body, see the &quot;Note&quot; explicitly pointing this out. With a `GET` you usually have a query string, the `?` thing at the end of the URL itself. Chances are that you should work towards a `POST` request instead (which `curl` also defaults to when providing data with `-d`, that&#39;s why you needed to use `-X`, which is always suspicious, as it&#39;s an override of the standard behaviour)","body":"Ehm, sorry about the late reaction, but I think the problem mainly comes from that a <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/GET\" rel=\"nofollow noreferrer\"><code>GET</code></a> request is normally not expected to have a body, see the &quot;Note&quot; explicitly pointing this out. With a <code>GET</code> you usually have a query string, the <code>?</code> thing at the end of the URL itself. Chances are that you should work towards a <code>POST</code> request instead (which <code>curl</code> also defaults to when providing data with <code>-d</code>, that&#39;s why you needed to use <code>-X</code>, which is always suspicious, as it&#39;s an override of the standard behaviour)"}],"answers":[{"tags":[],"owner":{"account_id":9539746,"reputation":127,"user_id":7088477,"display_name":"ricksant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684186253,"creation_date":1684186253,"answer_id":76258051,"question_id":76249668,"body_markdown":"Since it took me some undesirable time, I am putting the solution for future reference. I just had to set UTF-8 in Context-Type property: `connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);`, and use query.toString() when writing the String in OutputStream. Here is the entire code extract: \r\n\r\n```\r\nURL url = new URL(&quot;http://192.168.0.121:9200/shakespeare/_search?pretty&quot;);\r\n\t\t\tHttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n\t\t\t\r\n\t\t\tconnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);\r\n\t\t\tconnection.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\t\t\tconnection.setRequestMethod(&quot;GET&quot;);\r\n\t\t\t\r\n\t\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\t\t\r\n\t\t\tObjectNode text = mapper.createObjectNode();\r\n\t\t\ttext.put(&quot;text_entry&quot;, &quot;to be or not to be&quot;);\r\n\t\t\t\r\n\t\t\tObjectNode match = mapper.createObjectNode();\r\n\t\t\tmatch.set(&quot;match_phrase&quot;,text);\r\n\t\t\t\r\n\t\t\tObjectNode query = mapper.createObjectNode();\r\n\t\t\tquery.set(&quot;query&quot;, match);\r\n\t\t\t\r\n\t\t\tconnection.setDoOutput(true);\r\n\t\t\tOutputStreamWriter wr = new OutputStreamWriter(connection.getOutputStream());\r\n\t\t\twr.write(query.toString());\r\n\t\t\twr.flush();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tSystem.out.println(query.toString());\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tInputStream responseStream = connection.getInputStream();\r\n\t\t\t\r\n\t\t\tString result = new BufferedReader(new InputStreamReader(responseStream))\r\n\t\t\t\t\t   .lines().collect(Collectors.joining(&quot;\\n&quot;));\r\n\t\t\tSystem.out.println(result);\r\n```","title":"How to send json data in Java using HttpURLConnection and Jackson","body":"<p>Since it took me some undesirable time, I am putting the solution for future reference. I just had to set UTF-8 in Context-Type property: <code>connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);</code>, and use query.toString() when writing the String in OutputStream. Here is the entire code extract:</p>\n<pre><code>URL url = new URL(&quot;http://192.168.0.121:9200/shakespeare/_search?pretty&quot;);\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n            \n            connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);\n            connection.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n            connection.setRequestMethod(&quot;GET&quot;);\n            \n            ObjectMapper mapper = new ObjectMapper();\n            \n            ObjectNode text = mapper.createObjectNode();\n            text.put(&quot;text_entry&quot;, &quot;to be or not to be&quot;);\n            \n            ObjectNode match = mapper.createObjectNode();\n            match.set(&quot;match_phrase&quot;,text);\n            \n            ObjectNode query = mapper.createObjectNode();\n            query.set(&quot;query&quot;, match);\n            \n            connection.setDoOutput(true);\n            OutputStreamWriter wr = new OutputStreamWriter(connection.getOutputStream());\n            wr.write(query.toString());\n            wr.flush();\n            \n            \n            System.out.println(query.toString());\n            \n            \n            InputStream responseStream = connection.getInputStream();\n            \n            String result = new BufferedReader(new InputStreamReader(responseStream))\n                       .lines().collect(Collectors.joining(&quot;\\n&quot;));\n            System.out.println(result);\n</code></pre>\n"}],"owner":{"account_id":9539746,"reputation":127,"user_id":7088477,"display_name":"ricksant"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684186253,"creation_date":1684098266,"question_id":76249668,"body_markdown":"when I use the following command line when trying to send a json request it works perfectly:\r\n\r\n```\r\n$ curl -H &quot;Content-Type: application/json&quot; -XGET &#39;192.168.0.121:9200/shakespeare/_search?pretty&#39; -d &#39; { &quot;query&quot; : { &quot;match_phrase&quot; : { &quot;text_entry&quot; : &quot;to be or not to be&quot; } } }&#39;\r\n```\r\nSo, now, and just for fun, I am trying to do the same using Java. So I have the following code extract:\r\n\r\n```\r\nURL url = new URL(&quot;http://192.168.0.121:9200/shakespeare/_search?pretty&quot;);\r\nHttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\nconnection.setRequestProperty(&quot;accept&quot;, &quot;application/json&quot;);\r\nconnection.setRequestMethod(&quot;GET&quot;);\r\n\t\t\t\r\nObjectMapper mapper = new ObjectMapper();\r\n\t\t\t\r\nObjectNode text = mapper.createObjectNode();\r\ntext.put(&quot;text_entry&quot;, &quot;to be or not to be&quot;);\r\n\t\t\t\r\nObjectNode match = mapper.createObjectNode();\r\nmatch.set(&quot;match_phrase&quot;,text);\r\n\t\t\t\r\nObjectNode query = mapper.createObjectNode();\r\nquery.set(&quot;query&quot;, match);\r\n\t\t\t\r\nconnection.setDoOutput(true);\r\nOutputStreamWriter wr = new OutputStreamWriter(connection.getOutputStream());\r\nwr.write(query.asText());\r\nwr.flush();\r\n\t\t\t\r\nSystem.out.println(query);\r\n\t\t\t\r\nInputStream responseStream = connection.getInputStream();\r\nString result = new BufferedReader(new InputStreamReader(responseStream))\r\n\t\t   .lines().collect(Collectors.joining(&quot;\\n&quot;));\r\nSystem.out.println(result);\r\n```\r\n\r\nThe output from Java code is completely different from the output from the curl command. As far as I could, query.asText() used in wr.write(query.asText()) is blank. so, it seems no query is sent to the server. but I&#39;ve tried query.toString() or just query and I got nothing. Does anyone have any clue ? ","title":"How to send json data in Java using HttpURLConnection and Jackson","body":"<p>when I use the following command line when trying to send a json request it works perfectly:</p>\n<pre><code>$ curl -H &quot;Content-Type: application/json&quot; -XGET '192.168.0.121:9200/shakespeare/_search?pretty' -d ' { &quot;query&quot; : { &quot;match_phrase&quot; : { &quot;text_entry&quot; : &quot;to be or not to be&quot; } } }'\n</code></pre>\n<p>So, now, and just for fun, I am trying to do the same using Java. So I have the following code extract:</p>\n<pre><code>URL url = new URL(&quot;http://192.168.0.121:9200/shakespeare/_search?pretty&quot;);\nHttpURLConnection connection = (HttpURLConnection) url.openConnection();\nconnection.setRequestProperty(&quot;accept&quot;, &quot;application/json&quot;);\nconnection.setRequestMethod(&quot;GET&quot;);\n            \nObjectMapper mapper = new ObjectMapper();\n            \nObjectNode text = mapper.createObjectNode();\ntext.put(&quot;text_entry&quot;, &quot;to be or not to be&quot;);\n            \nObjectNode match = mapper.createObjectNode();\nmatch.set(&quot;match_phrase&quot;,text);\n            \nObjectNode query = mapper.createObjectNode();\nquery.set(&quot;query&quot;, match);\n            \nconnection.setDoOutput(true);\nOutputStreamWriter wr = new OutputStreamWriter(connection.getOutputStream());\nwr.write(query.asText());\nwr.flush();\n            \nSystem.out.println(query);\n            \nInputStream responseStream = connection.getInputStream();\nString result = new BufferedReader(new InputStreamReader(responseStream))\n           .lines().collect(Collectors.joining(&quot;\\n&quot;));\nSystem.out.println(result);\n</code></pre>\n<p>The output from Java code is completely different from the output from the curl command. As far as I could, query.asText() used in wr.write(query.asText()) is blank. so, it seems no query is sent to the server. but I've tried query.toString() or just query and I got nothing. Does anyone have any clue ?</p>\n"},{"tags":["java","eclipse","javafx","fxml"],"comments":[{"owner":{"account_id":2565865,"reputation":5531,"user_id":2225960,"display_name":"Juan"},"score":1,"creation_date":1551035979,"post_id":54855553,"comment_id":96482674,"body_markdown":"What version of java are you using?","body":"What version of java are you using?"},{"owner":{"account_id":7831038,"reputation":116,"user_id":5921049,"accept_rate":50,"display_name":"Andy Lin"},"score":0,"creation_date":1551036379,"post_id":54855553,"comment_id":96482782,"body_markdown":"javase-11 seems that the library JavaFx sdk cannot be added to my project, have no idea how to fix this. Tried removing and readding, still does not work","body":"javase-11 seems that the library JavaFx sdk cannot be added to my project, have no idea how to fix this. Tried removing and readding, still does not work"},{"owner":{"account_id":2565865,"reputation":5531,"user_id":2225960,"display_name":"Juan"},"score":0,"creation_date":1551036435,"post_id":54855553,"comment_id":96482797,"body_markdown":"Check this out https://openjfx.io/","body":"Check this out <a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">openjfx.io</a>"},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1551036675,"post_id":54855553,"comment_id":96482872,"body_markdown":"does it work if you try to `import java.util.List;`  ?","body":"does it work if you try to <code>import java.util.List;</code>  ?"},{"owner":{"account_id":2565865,"reputation":5531,"user_id":2225960,"display_name":"Juan"},"score":0,"creation_date":1551036724,"post_id":54855553,"comment_id":96482882,"body_markdown":"You could also use an older version of java which has javafx included.","body":"You could also use an older version of java which has javafx included."},{"owner":{"account_id":7831038,"reputation":116,"user_id":5921049,"accept_rate":50,"display_name":"Andy Lin"},"score":0,"creation_date":1551036965,"post_id":54855553,"comment_id":96482957,"body_markdown":"@MikeNakis this import works","body":"@MikeNakis this import works"},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1551037094,"post_id":54855553,"comment_id":96482997,"body_markdown":"@Juan why, was the comment so totally off the mark?  I am asking because I have seen situations where all imports seem to fail due to an unconfigured / misconfigured JDK.  So, I thought it would be best to eliminate that simple possibility before going on a wild goose chase.","body":"@Juan why, was the comment so totally off the mark?  I am asking because I have seen situations where all imports seem to fail due to an unconfigured / misconfigured JDK.  So, I thought it would be best to eliminate that simple possibility before going on a wild goose chase."},{"owner":{"account_id":7831038,"reputation":116,"user_id":5921049,"accept_rate":50,"display_name":"Andy Lin"},"score":0,"creation_date":1551037237,"post_id":54855553,"comment_id":96483046,"body_markdown":"@Juan may I ask which version is it?","body":"@Juan may I ask which version is it?"},{"owner":{"account_id":2565865,"reputation":5531,"user_id":2225960,"display_name":"Juan"},"score":0,"creation_date":1551037311,"post_id":54855553,"comment_id":96483069,"body_markdown":"@MikeNakis Honestly I really thought you had targetted the wrong question. I didn&#39;t mean any offence.","body":"@MikeNakis Honestly I really thought you had targetted the wrong question. I didn&#39;t mean any offence."},{"owner":{"account_id":2565865,"reputation":5531,"user_id":2225960,"display_name":"Juan"},"score":1,"creation_date":1551037443,"post_id":54855553,"comment_id":96483111,"body_markdown":"I use java 8 which, though java 10 should also come with javafx. It is as of java 11 that it has been separated from the distribution.","body":"I use java 8 which, though java 10 should also come with javafx. It is as of java 11 that it has been separated from the distribution."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1551037731,"post_id":54855553,"comment_id":96483194,"body_markdown":"Read the instructions in [Getting Started with JavaFX 11](https://openjfx.io/openjfx-docs/)—specifically the _JavaFX and Eclipse_ section. The JavaFX modules were separated from the JDK in Java 11 and now must be pulled in like any other dependency.","body":"Read the instructions in <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">Getting Started with JavaFX 11</a>—specifically the <i>JavaFX and Eclipse</i> section. The JavaFX modules were separated from the JDK in Java 11 and now must be pulled in like any other dependency."},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1551037745,"post_id":54855553,"comment_id":96483201,"body_markdown":"@Juan no problem, I did not take any offense at all, I always accept the possibility that I may be terribly wrong on any given thing that I say.","body":"@Juan no problem, I did not take any offense at all, I always accept the possibility that I may be terribly wrong on any given thing that I say."},{"owner":{"account_id":7831038,"reputation":116,"user_id":5921049,"accept_rate":50,"display_name":"Andy Lin"},"score":0,"creation_date":1551037821,"post_id":54855553,"comment_id":96483228,"body_markdown":"@Juan I tried java-1.8 and java.10 both give me the same errors, I just want to start my lab as soon as possible, would using a different IDE be the quickest solution, any recommendation which IDE to use that is more user-friendly?","body":"@Juan I tried java-1.8 and java.10 both give me the same errors, I just want to start my lab as soon as possible, would using a different IDE be the quickest solution, any recommendation which IDE to use that is more user-friendly?"},{"owner":{"account_id":2565865,"reputation":5531,"user_id":2225960,"display_name":"Juan"},"score":0,"creation_date":1551038316,"post_id":54855553,"comment_id":96483376,"body_markdown":"I use it with Eclipse where i also installed the e(fx)clipse plugin.","body":"I use it with Eclipse where i also installed the e(fx)clipse plugin."},{"owner":{"account_id":7831038,"reputation":116,"user_id":5921049,"accept_rate":50,"display_name":"Andy Lin"},"score":0,"creation_date":1551038929,"post_id":54855553,"comment_id":96483571,"body_markdown":"@juan I just added the jfxrt.jar manually and the errors go away however when I run the main, it&#39;s still giving me &quot;Error: Could not find or load main class application.Main\nCaused by: java.lang.NoClassDefFoundError: javafx/application/Application&quot;","body":"@juan I just added the jfxrt.jar manually and the errors go away however when I run the main, it&#39;s still giving me &quot;Error: Could not find or load main class application.Main Caused by: java.lang.NoClassDefFoundError: javafx/application/Application&quot;"},{"owner":{"account_id":2565865,"reputation":5531,"user_id":2225960,"display_name":"Juan"},"score":0,"creation_date":1551039588,"post_id":54855553,"comment_id":96483778,"body_markdown":"You shouldn&#39;t add it manually.  This link has a tutorial for both netbeans and eclipse. https://www.tutorialspoint.com/javafx/javafx_environment.htm","body":"You shouldn&#39;t add it manually.  This link has a tutorial for both netbeans and eclipse. <a href=\"https://www.tutorialspoint.com/javafx/javafx_environment.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/javafx/javafx_environment.htm</a>"}],"answers":[{"tags":[],"owner":{"account_id":27985176,"reputation":9,"user_id":21372181,"display_name":"Powerscore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684185842,"creation_date":1684185842,"answer_id":76258017,"question_id":54855553,"body_markdown":"There are 4 main steps to check: (There are other ways to do this but this is one way)\r\n\r\nIn your case I think the issue is in the 4th step.\r\n\r\n1) Make sure you installed javafx from the marketplace, in case of eclipse it is eclipse marketplace.\r\n\r\n2) Download and unzip the appropriate Java SDK folder for you system from here: [https://gluonhq.com/products/javafx/][1]\r\n\r\n3) On your project, configure build path, add a user library, new , then add external JARs, then choose all the .jar files on your Java SDK folder then add that library to your project\r\n\r\n4) Run your project as a normal java application (so that you don&#39;t have to search for it later in the configurations) then choose run as, configure the run and you will find an arguments tab, add this to your VM arguments but replace what is inside the double quotations with the file path of your Java SDK lib folder- make sure it&#39;s the lib folder, inside the Java SDK. Here is what you will paste: --module-path &quot;\\path\\to\\javafx-sdk-11\\lib&quot; --add-modules javafx.controls,javafx.fxml\r\n\r\n\r\n  [1]: https://gluonhq.com/products/javafx/","title":"javafx import cannot be resolved in eclipse","body":"<p>There are 4 main steps to check: (There are other ways to do this but this is one way)</p>\n<p>In your case I think the issue is in the 4th step.</p>\n<ol>\n<li><p>Make sure you installed javafx from the marketplace, in case of eclipse it is eclipse marketplace.</p>\n</li>\n<li><p>Download and unzip the appropriate Java SDK folder for you system from here: <a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">https://gluonhq.com/products/javafx/</a></p>\n</li>\n<li><p>On your project, configure build path, add a user library, new , then add external JARs, then choose all the .jar files on your Java SDK folder then add that library to your project</p>\n</li>\n<li><p>Run your project as a normal java application (so that you don't have to search for it later in the configurations) then choose run as, configure the run and you will find an arguments tab, add this to your VM arguments but replace what is inside the double quotations with the file path of your Java SDK lib folder- make sure it's the lib folder, inside the Java SDK. Here is what you will paste: --module-path &quot;\\path\\to\\javafx-sdk-11\\lib&quot; --add-modules javafx.controls,javafx.fxml</p>\n</li>\n</ol>\n"}],"owner":{"account_id":7831038,"reputation":116,"user_id":5921049,"accept_rate":50,"display_name":"Andy Lin"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7778,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684185842,"creation_date":1551035760,"question_id":54855553,"body_markdown":"I am starting an assignment and just installed javafx from the Eclipse marketplace, after I installed and created a javafx project with fxml however in main the imports are showing errors saying &quot;the import javafx cannot be resolved&quot;. I am new to Java and Eclipse and have tried to search for similar questions but they all seem to be different cases.\r\n\r\nI would appreciate any help thank you.    \r\n\r\nBelow is the code, and all the imports are showing errors:\r\n\r\n    package application;\r\n    \t\r\n    import javafx.application.Application;\r\n    import javafx.stage.Stage;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.fxml.FXMLLoader;\r\n    \r\n    \r\n    public class Main extends Application {\r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage) {\r\n    \t\ttry {\r\n    \t\t\tBorderPane root = (BorderPane)FXMLLoader.load(getClass().getResource(&quot;Student.fxml&quot;));\r\n    \t\t\tScene scene = new Scene(root,400,400);\r\n    \t\t\tscene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\r\n    \t\t\tprimaryStage.setScene(scene);\r\n    \t\t\tprimaryStage.show();\r\n    \t\t} catch(Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n}\r\n\r\nI have figured that it is the library JavaFx SDK which is not able to be added to the project, is anyone good with Eclipse can help solve this problem? I tried configure build path and removing the JavaFx SDK and readding, still does not work.","title":"javafx import cannot be resolved in eclipse","body":"<p>I am starting an assignment and just installed javafx from the Eclipse marketplace, after I installed and created a javafx project with fxml however in main the imports are showing errors saying \"the import javafx cannot be resolved\". I am new to Java and Eclipse and have tried to search for similar questions but they all seem to be different cases.</p>\n\n<p>I would appreciate any help thank you.    </p>\n\n<p>Below is the code, and all the imports are showing errors:</p>\n\n<pre><code>package application;\n\nimport javafx.application.Application;\nimport javafx.stage.Stage;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.BorderPane;\nimport javafx.fxml.FXMLLoader;\n\n\npublic class Main extends Application {\n    @Override\n    public void start(Stage primaryStage) {\n        try {\n            BorderPane root = (BorderPane)FXMLLoader.load(getClass().getResource(\"Student.fxml\"));\n            Scene scene = new Scene(root,400,400);\n            scene.getStylesheets().add(getClass().getResource(\"application.css\").toExternalForm());\n            primaryStage.setScene(scene);\n            primaryStage.show();\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n\npublic static void main(String[] args) {\n    launch(args);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I have figured that it is the library JavaFx SDK which is not able to be added to the project, is anyone good with Eclipse can help solve this problem? I tried configure build path and removing the JavaFx SDK and readding, still does not work.</p>\n"},{"tags":["java","kubernetes","openshift","openshift-origin","fabric8"],"answers":[{"comments":[{"owner":{"account_id":3163843,"reputation":685,"user_id":2674285,"accept_rate":75,"display_name":"Chamalee De Silva"},"score":0,"creation_date":1504774535,"post_id":46068480,"comment_id":79145686,"body_markdown":"Matthew, thanks for the response. I need to support this both from inside and outside of the cluster. How should I handle this then ?","body":"Matthew, thanks for the response. I need to support this both from inside and outside of the cluster. How should I handle this then ?"}],"tags":[],"owner":{"account_id":79319,"reputation":31744,"user_id":225016,"display_name":"mdaniel"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504680148,"creation_date":1504680148,"answer_id":46068480,"question_id":46046871,"body_markdown":"From within a Pod, the service account token is volume-mounted as `/var/run/secrets/kubernetes.io/serviceaccount/token` [as seen here](https://github.com/fabric8io/kubernetes-client/blob/v2.6.2/kubernetes-client/src/main/java/io/fabric8/kubernetes/client/Config.java#L88). The fact that the path is hard-coded in (at least v2.6.2 of) the fabric8 `Client` leads me to believe that perhaps if one merely omits the `withOauthToken()` call that the `Client` may Just Work&amp;trade;\r\n\r\nIt&#39;s slightly unclear whether the code snippet you provided is expected to run _outside_ of the cluster, but if so then you have a small chicken-and-egg problem of providing auth to the API so you can acquire the `Secret`","title":"How to get kubernetes service account access token using fabric8 java client?","body":"<p>From within a Pod, the service account token is volume-mounted as <code>/var/run/secrets/kubernetes.io/serviceaccount/token</code> <a href=\"https://github.com/fabric8io/kubernetes-client/blob/v2.6.2/kubernetes-client/src/main/java/io/fabric8/kubernetes/client/Config.java#L88\" rel=\"nofollow noreferrer\">as seen here</a>. The fact that the path is hard-coded in (at least v2.6.2 of) the fabric8 <code>Client</code> leads me to believe that perhaps if one merely omits the <code>withOauthToken()</code> call that the <code>Client</code> may Just Work&trade;</p>\n\n<p>It's slightly unclear whether the code snippet you provided is expected to run <em>outside</em> of the cluster, but if so then you have a small chicken-and-egg problem of providing auth to the API so you can acquire the <code>Secret</code></p>\n"},{"comments":[{"owner":{"account_id":313297,"reputation":2095,"user_id":627855,"accept_rate":57,"display_name":"ImranRazaKhan"},"score":1,"creation_date":1572702812,"post_id":46219308,"comment_id":103645286,"body_markdown":"how can we get oauthtoken from outside cluster with client?","body":"how can we get oauthtoken from outside cluster with client?"}],"tags":[],"owner":{"account_id":1742917,"reputation":570,"user_id":1593808,"display_name":"iocanel"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1505392432,"creation_date":1505392432,"answer_id":46219308,"question_id":46046871,"body_markdown":"The client already does that for you.\r\n\r\nIf you just create an empty Config object:\r\n\r\n    Config config = new ConfigBuilder().build();\r\n\r\nor create the client, like:\r\n\r\n    KubernetesClient client = new DefaultKubernetesClient();\r\n\r\n\r\n\r\nfrom within a pod, it will automatically read the token for you.\r\n\r\nIf you need to pass it elsewhere, you can just:\r\n\r\n    String token = config.getOauthToken();\r\n\r\nor \r\n\r\n    String token = client.getConfiguration().getOauthToken();\r\n","title":"How to get kubernetes service account access token using fabric8 java client?","body":"<p>The client already does that for you.</p>\n\n<p>If you just create an empty Config object:</p>\n\n<pre><code>Config config = new ConfigBuilder().build();\n</code></pre>\n\n<p>or create the client, like:</p>\n\n<pre><code>KubernetesClient client = new DefaultKubernetesClient();\n</code></pre>\n\n<p>from within a pod, it will automatically read the token for you.</p>\n\n<p>If you need to pass it elsewhere, you can just:</p>\n\n<pre><code>String token = config.getOauthToken();\n</code></pre>\n\n<p>or </p>\n\n<pre><code>String token = client.getConfiguration().getOauthToken();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11297414,"reputation":17,"user_id":8284501,"display_name":"dharmalingam lingam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664267119,"creation_date":1664267119,"answer_id":73864474,"question_id":46046871,"body_markdown":"Create a service account with below yaml definition\r\n\r\nStep 1: create api-manager.yaml with below content\r\n\r\nkind: Role\r\napiVersion: rbac.authorization.k8s.io/v1\r\nmetadata:\r\n   name: api-manager\r\n   namespace: default\r\nrules:\r\n- apiGroups: [&quot;batch&quot;, &quot;extensions&quot;]\r\n  resources: [&quot;jobs&quot;,&quot;cronjob&quot;]\r\n  verbs: [&quot;get&quot;, &quot;list&quot;, &quot;watch&quot;, &quot;create&quot;, &quot;update&quot;, &quot;patch&quot;, &quot;delete&quot;]\r\n---\r\nkind: RoleBinding\r\napiVersion: rbac.authorization.k8s.io/v1\r\nmetadata:\r\n   name: udefreadonlybinding\r\n   namespace: default\r\nsubjects:\r\n - kind: ServiceAccount\r\n   name: api-manager\r\n   namespace: default\r\nroleRef:\r\n   kind: Role\r\n   name: job-creator\r\n   apiGroup: rbac.authorization.k8s.io\r\n\r\nStep 2:\r\nkubectl create -f api-manager.yaml\r\n\r\nStep 3:\r\nEdit your pod dp file and map the service account \r\nThen map this service account to the pod which internally map the service account inside the container ( path :/var/run/secrets/kubernetes.io/serviceaccount/token)\r\n\r\nStep 4:  In java code\r\nio.fabric8.kubernetes.client.DefaultKubernetesClient client = new DefaultKubernetesClient();\r\nSystem.out.println(&quot;client&quot;+client.getNamespace());\r\n\r\n","title":"How to get kubernetes service account access token using fabric8 java client?","body":"<p>Create a service account with below yaml definition</p>\n<p>Step 1: create api-manager.yaml with below content</p>\n<p>kind: Role\napiVersion: rbac.authorization.k8s.io/v1\nmetadata:\nname: api-manager\nnamespace: default\nrules:</p>\n<ul>\n<li>apiGroups: [&quot;batch&quot;, &quot;extensions&quot;]\nresources: [&quot;jobs&quot;,&quot;cronjob&quot;]\nverbs: [&quot;get&quot;, &quot;list&quot;, &quot;watch&quot;, &quot;create&quot;, &quot;update&quot;, &quot;patch&quot;, &quot;delete&quot;]</li>\n</ul>\n<hr />\n<p>kind: RoleBinding\napiVersion: rbac.authorization.k8s.io/v1\nmetadata:\nname: udefreadonlybinding\nnamespace: default\nsubjects:</p>\n<ul>\n<li>kind: ServiceAccount\nname: api-manager\nnamespace: default\nroleRef:\nkind: Role\nname: job-creator\napiGroup: rbac.authorization.k8s.io</li>\n</ul>\n<p>Step 2:\nkubectl create -f api-manager.yaml</p>\n<p>Step 3:\nEdit your pod dp file and map the service account\nThen map this service account to the pod which internally map the service account inside the container ( path :/var/run/secrets/kubernetes.io/serviceaccount/token)</p>\n<p>Step 4:  In java code\nio.fabric8.kubernetes.client.DefaultKubernetesClient client = new DefaultKubernetesClient();\nSystem.out.println(&quot;client&quot;+client.getNamespace());</p>\n"},{"tags":[],"owner":{"account_id":19888427,"reputation":337,"user_id":14570999,"display_name":"Piotr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684185631,"creation_date":1684167082,"answer_id":76256014,"question_id":46046871,"body_markdown":"```\r\nConfig config = new ConfigBuilder().withMasterUrl(externalTunnelUrl).withOauthToken(managementTokenProvider.getManagementToken(clusterName)).withUsername(&quot;management-token&quot;).build();\r\n```\r\nJust had the same need. OauthToken is maybe not the obvious name, but works.\r\n\r\nNote that I do not specify client cert file there.","title":"How to get kubernetes service account access token using fabric8 java client?","body":"<pre><code>Config config = new ConfigBuilder().withMasterUrl(externalTunnelUrl).withOauthToken(managementTokenProvider.getManagementToken(clusterName)).withUsername(&quot;management-token&quot;).build();\n</code></pre>\n<p>Just had the same need. OauthToken is maybe not the obvious name, but works.</p>\n<p>Note that I do not specify client cert file there.</p>\n"}],"owner":{"account_id":3163843,"reputation":685,"user_id":2674285,"accept_rate":75,"display_name":"Chamalee De Silva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7114,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1684185631,"creation_date":1504584325,"question_id":46046871,"body_markdown":"I have configured minikube in my local machine and going to use kubernetes externally. I have created a Service Account in kubernetes and using it&#39;s secret I can get the access token using below command.\r\n\r\n    kubectl get secret &lt;service-account-secret&gt; -o yaml -n mynamespace\r\n\r\nMy question is how can I do this using fabric8 java client in runtime ? What I want is to obtain the access token by giving the secret of the Service account as a parameter.\r\n\r\nI am initiating the config as bellow.\r\n\r\n    Config config = new ConfigBuilder().withMasterUrl(masterURL)\r\n                    .withClientCertFile(certFile).withOauthToken(serviceAccountAccessToken).build();\r\n\r\nCan I know how to get the serviceAccountAccessToken as described above using fabric8 java client ?\r\n\r\n","title":"How to get kubernetes service account access token using fabric8 java client?","body":"<p>I have configured minikube in my local machine and going to use kubernetes externally. I have created a Service Account in kubernetes and using it's secret I can get the access token using below command.</p>\n\n<pre><code>kubectl get secret &lt;service-account-secret&gt; -o yaml -n mynamespace\n</code></pre>\n\n<p>My question is how can I do this using fabric8 java client in runtime ? What I want is to obtain the access token by giving the secret of the Service account as a parameter.</p>\n\n<p>I am initiating the config as bellow.</p>\n\n<pre><code>Config config = new ConfigBuilder().withMasterUrl(masterURL)\n                .withClientCertFile(certFile).withOauthToken(serviceAccountAccessToken).build();\n</code></pre>\n\n<p>Can I know how to get the serviceAccountAccessToken as described above using fabric8 java client ?</p>\n"},{"tags":["java","junit","enums","mockito","switch-statement"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1684162523,"post_id":76255317,"comment_id":134472856,"body_markdown":"You do not need to cover everything with a unit test. But generally returning `null` is a very idea.","body":"You do not need to cover everything with a unit test. But generally returning <code>null</code> is a very idea."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":4,"creation_date":1684162815,"post_id":76255317,"comment_id":134472938,"body_markdown":"@luk2302 I assume: very bad idea :)","body":"@luk2302 I assume: very bad idea :)"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1684163015,"post_id":76255317,"comment_id":134472989,"body_markdown":"You cannot add a test that covers the default clause here. Also, you may want to consider moving logic to the individual enum instances, instead of using a switch, then your code can be `return blockType.someMethod()`, removing the need for the switch (and its default) entirely.","body":"You cannot add a test that covers the default clause here. Also, you may want to consider moving logic to the individual enum instances, instead of using a switch, then your code can be <code>return blockType.someMethod()</code>, removing the need for the switch (and its default) entirely."}],"answers":[{"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1684164845,"post_id":76255395,"comment_id":134473504,"body_markdown":"I guess the real answer would be to eliminate the switch/case entirely and instead define and override a method inside the enum constants.","body":"I guess the real answer would be to eliminate the switch/case entirely and instead define and override a method inside the enum constants."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1684165031,"post_id":76255395,"comment_id":134473562,"body_markdown":"I&#39;d suggest using `AssertionError` instead of just `Error`.","body":"I&#39;d suggest using <code>AssertionError</code> instead of just <code>Error</code>."},{"owner":{"account_id":12000414,"reputation":27,"user_id":8780539,"display_name":"ASHOK KUMAR"},"score":0,"creation_date":1684165436,"post_id":76255395,"comment_id":134473648,"body_markdown":"@f1sh , can you please add more details like how to do that or a code snippet if possible ?","body":"@f1sh , can you please add more details like how to do that or a code snippet if possible ?"},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1684185226,"post_id":76255395,"comment_id":134477739,"body_markdown":"@MarkRotteveel – In my code, I defined an `UnexpectedEnumError`, derived from `AssertionError` for this purpose. So yes, it should not be just `Error`.","body":"@MarkRotteveel – In my code, I defined an <code>UnexpectedEnumError</code>, derived from <code>AssertionError</code> for this purpose. So yes, it should not be just <code>Error</code>."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1684333588,"post_id":76255395,"comment_id":134503352,"body_markdown":"@f1sh – If you have just two enum values as in the sample, replacing the `switch` by an `if` could be an option. But if there are more, the `switch` is the better approach, also if it would be possible to have more enum values in the future. So in general, the real answer is ***not*** to eliminate the `switch`.","body":"@f1sh – If you have just two enum values as in the sample, replacing the <code>switch</code> by an <code>if</code> could be an option. But if there are more, the <code>switch</code> is the better approach, also if it would be possible to have more enum values in the future. So in general, the real answer is <b><i>not</i></b> to eliminate the <code>switch</code>."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1684333769,"post_id":76255395,"comment_id":134503411,"body_markdown":"@tquadrat why? You can attach the relevant code directly to the enum constant. There is no need for a switch, not even when thinking about extending the enum in the future.","body":"@tquadrat why? You can attach the relevant code directly to the enum constant. There is no need for a switch, not even when thinking about extending the enum in the future."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1684359534,"post_id":76255395,"comment_id":134508953,"body_markdown":"@f1sh – In case the ellipse after `return` stands for `blockType.getValue()` you might be correct. But as this is unclear, the missing code could be anything, including stuff that does not work as a method for an enum because it is not generic enough …","body":"@f1sh – In case the ellipse after <code>return</code> stands for <code>blockType.getValue()</code> you might be correct. But as this is unclear, the missing code could be anything, including stuff that does not work as a method for an enum because it is not generic enough …"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1684447533,"post_id":76255395,"comment_id":134523102,"body_markdown":"@tquadrat what does &quot;not generic enough&quot; mean? Just define+override a method for each constant and pass everything you need as a parameter. That covers everything you need.","body":"@tquadrat what does &quot;not generic enough&quot; mean? Just define+override a method for each constant and pass everything you need as a parameter. That covers everything you need."}],"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"comment_count":8,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684185275,"creation_date":1684162960,"answer_id":76255395,"question_id":76255317,"body_markdown":"If the default case is really unreachable (as in your case), you have two options:\r\n\r\n 1. You just drop it.\r\n 2. You throw an error instead of returning `null`:\r\n    ```Java\r\n    switch( blockType ) \r\n    {\r\n        case TEXTBLOCK:\r\n            return ...\r\n        case IMAGEBLOCK:\r\n            return ...\r\n        default: throw new AssertionError( &quot;Invalid blockType: &quot; + blockType.name() );\r\n    }\r\n    ```\r\n    In this case, you learn *really* fast that something does not work in case you add an additional `BlockType` enum value, instead of some spurious `NullPointerExceptions` occurring far away from the `switch`.\r\n\r\nBut in regard of your original question: you cannot test it without massively modifying your code. But this is not uncommon for &quot;safety nets&quot; like this default label.","title":"Covering unreachable default clause in switch case in java","body":"<p>If the default case is really unreachable (as in your case), you have two options:</p>\n<ol>\n<li>You just drop it.</li>\n<li>You throw an error instead of returning <code>null</code>:\n<pre><code>switch( blockType ) \n{\n    case TEXTBLOCK:\n        return ...\n    case IMAGEBLOCK:\n        return ...\n    default: throw new AssertionError( &quot;Invalid blockType: &quot; + blockType.name() );\n}\n</code></pre>\nIn this case, you learn <em>really</em> fast that something does not work in case you add an additional <code>BlockType</code> enum value, instead of some spurious <code>NullPointerExceptions</code> occurring far away from the <code>switch</code>.</li>\n</ol>\n<p>But in regard of your original question: you cannot test it without massively modifying your code. But this is not uncommon for &quot;safety nets&quot; like this default label.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684166575,"creation_date":1684165391,"answer_id":76255775,"question_id":76255317,"body_markdown":"There is a way to do get coverage of the `default` case in your example.  But it is nasty.\r\n\r\nFirst, we need to understand why the `default` case in your example is not marked as unreachable code.  This is a logical consequence of the rules for evolution of `enum` classes as set out in [JLS 13.4.26](https://docs.oracle.com/javase/specs/jls/se17/html/jls-13.html#jls-13.4.26).  These say that adding extra constants to an existing `enum` does not break binary compatibility.\r\n\r\nThus, while the `default` branch in your example is not effectively reachable *at the time that the code was compiled*, it *could* become reachable if another constant is added to the `enum` later on.  And the Java compiler *doesn&#39;t* flag the `default` branch as unreachable code ... as you can see!\r\n\r\nSo ... the *nasty* way to get 100% unit test coverage for the `default` branch in your example is to simulate the code evolution.  Write an alternate version of the `enum` class with an extra constant, and then write a unit test that feeds that constant to the code with that `switch` statement.\r\n\r\n&gt; Also, I don&#39;t want to add any dummy value in my enum just for testing purpose.\r\n\r\nThat&#39;s not what is going on.  What we are doing is simulating a (hypothetical) *future* version of the `enum`.  The *current* version doesn&#39;t have the extra constant.\r\n\r\n&lt;sup&gt;Making it work in the context of a typical unit test framework and a typical Java build tool is left as an exercise to the reader.&lt;/sup&gt;\r\n\r\nIs it a good idea to do this?  IMO no!  It is better to acknowledge that it is (typically) not worthwhile going to extremes to &quot;achieve&quot; 100% coverage.  Indeed, if you have a &quot;this should never happen&quot; case in your code, there is no value in trying to make that condition actually happen during testing.\r\n\r\n&lt;sup&gt;But ... if it is a design goal for your application to *deal* with evolution of the `enum`, then achieving coverage of the unreachable `default` case is maybe justifiable.&lt;/sup&gt;\r\n\r\n--------------------\r\n\r\nHowever ... returning `null` in this case is really bad idea; see the comments and the above answer for reasons why, and what you can do instead.","title":"Covering unreachable default clause in switch case in java","body":"<p>There is a way to do get coverage of the <code>default</code> case in your example.  But it is nasty.</p>\n<p>First, we need to understand why the <code>default</code> case in your example is not marked as unreachable code.  This is a logical consequence of the rules for evolution of <code>enum</code> classes as set out in <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-13.html#jls-13.4.26\" rel=\"nofollow noreferrer\">JLS 13.4.26</a>.  These say that adding extra constants to an existing <code>enum</code> does not break binary compatibility.</p>\n<p>Thus, while the <code>default</code> branch in your example is not effectively reachable <em>at the time that the code was compiled</em>, it <em>could</em> become reachable if another constant is added to the <code>enum</code> later on.  And the Java compiler <em>doesn't</em> flag the <code>default</code> branch as unreachable code ... as you can see!</p>\n<p>So ... the <em>nasty</em> way to get 100% unit test coverage for the <code>default</code> branch in your example is to simulate the code evolution.  Write an alternate version of the <code>enum</code> class with an extra constant, and then write a unit test that feeds that constant to the code with that <code>switch</code> statement.</p>\n<blockquote>\n<p>Also, I don't want to add any dummy value in my enum just for testing purpose.</p>\n</blockquote>\n<p>That's not what is going on.  What we are doing is simulating a (hypothetical) <em>future</em> version of the <code>enum</code>.  The <em>current</em> version doesn't have the extra constant.</p>\n<p><sup>Making it work in the context of a typical unit test framework and a typical Java build tool is left as an exercise to the reader.</sup></p>\n<p>Is it a good idea to do this?  IMO no!  It is better to acknowledge that it is (typically) not worthwhile going to extremes to &quot;achieve&quot; 100% coverage.  Indeed, if you have a &quot;this should never happen&quot; case in your code, there is no value in trying to make that condition actually happen during testing.</p>\n<p><sup>But ... if it is a design goal for your application to <em>deal</em> with evolution of the <code>enum</code>, then achieving coverage of the unreachable <code>default</code> case is maybe justifiable.</sup></p>\n<hr />\n<p>However ... returning <code>null</code> in this case is really bad idea; see the comments and the above answer for reasons why, and what you can do instead.</p>\n"}],"owner":{"account_id":12000414,"reputation":27,"user_id":8780539,"display_name":"ASHOK KUMAR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1684185275,"creation_date":1684162419,"question_id":76255317,"body_markdown":"I have below code snippet, and I&#39;m not sure how to cover the default clause with a unit test.\r\n\r\n```java\r\npublic Block solve(String str) {\r\n\r\n    try {\r\n            \r\n        final BlockType blockType = BlockType.valueOf(str);\r\n\r\n        switch (blockType) {\r\n            case TEXTBLOCK:\r\n                return ...\r\n            case IMAGEBLOCK:\r\n                return ...\r\n            default:\r\n                return null;\r\n        }\r\n    } catch (final IllegalArgumentException e) {\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@AllArgsConstructor\r\npublic enum BlockType {\r\n    IMAGEBLOCK(&quot;imageBlock&quot;),\r\n    TEXTBLOCK(&quot;textBlock&quot;);\r\n\r\n    private String value;\r\n}\r\n```\r\n\r\nNOTE: I have the constraint that the argument in `solve` method has to be of `String` type only. Also, I don&#39;t want to add any dummy value in my enum just for testing purpose.","title":"Covering unreachable default clause in switch case in java","body":"<p>I have below code snippet, and I'm not sure how to cover the default clause with a unit test.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Block solve(String str) {\n\n    try {\n            \n        final BlockType blockType = BlockType.valueOf(str);\n\n        switch (blockType) {\n            case TEXTBLOCK:\n                return ...\n            case IMAGEBLOCK:\n                return ...\n            default:\n                return null;\n        }\n    } catch (final IllegalArgumentException e) {\n        return null;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\npublic enum BlockType {\n    IMAGEBLOCK(&quot;imageBlock&quot;),\n    TEXTBLOCK(&quot;textBlock&quot;);\n\n    private String value;\n}\n</code></pre>\n<p>NOTE: I have the constraint that the argument in <code>solve</code> method has to be of <code>String</code> type only. Also, I don't want to add any dummy value in my enum just for testing purpose.</p>\n"},{"tags":["java","xml","soap","cxf"],"owner":{"account_id":13588641,"reputation":4687,"user_id":9802634,"display_name":"danny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684184404,"creation_date":1684161956,"question_id":76255249,"body_markdown":"I create request to SOAP service using Apache CXF. In my xml payload I have this part:\r\n      \r\n\r\n    &gt;  &lt;ds:KeyInfo Id=&quot;KI-247c2b79-9a61-42ea-822e-e5e23e9132f0&quot;&gt;\r\n    &gt;                 &lt;wsse:SecurityTokenReference\r\n    &gt;                         xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;\r\n    &gt;                         xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;\r\n    &gt;                         wsu:Id=&quot;STR-b87ecccc-604a-4851-8331-3aef53d99661&quot;&gt;\r\n    &gt;                     &lt;wsse:KeyIdentifier\r\n    &gt;                             EncodingType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot;\r\n    &gt;                             ValueType=&quot;http://docs.oasis-open.org/wss/oasis-wss-soap-message-security-1.1#ThumbprintSHA1&quot;&gt;\r\n    &gt;                         ZrB9tQsoAOkiwFiAAMSG87/T8bg=\r\n    &gt;                     &lt;/wsse:KeyIdentifier&gt;\r\n    &gt;                 &lt;/wsse:SecurityTokenReference&gt;\r\n    &gt;             &lt;/ds:KeyInfo&gt;\r\n\r\nand I nedd to change ValueType to http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3 because my binary token needs it. How can I overwrite it?","title":"How to change default KeyInfo generated by Apache CXF 4.0.0","body":"<p>I create request to SOAP service using Apache CXF. In my xml payload I have this part:</p>\n<pre><code>&gt;  &lt;ds:KeyInfo Id=&quot;KI-247c2b79-9a61-42ea-822e-e5e23e9132f0&quot;&gt;\n&gt;                 &lt;wsse:SecurityTokenReference\n&gt;                         xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;\n&gt;                         xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;\n&gt;                         wsu:Id=&quot;STR-b87ecccc-604a-4851-8331-3aef53d99661&quot;&gt;\n&gt;                     &lt;wsse:KeyIdentifier\n&gt;                             EncodingType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot;\n&gt;                             ValueType=&quot;http://docs.oasis-open.org/wss/oasis-wss-soap-message-security-1.1#ThumbprintSHA1&quot;&gt;\n&gt;                         ZrB9tQsoAOkiwFiAAMSG87/T8bg=\n&gt;                     &lt;/wsse:KeyIdentifier&gt;\n&gt;                 &lt;/wsse:SecurityTokenReference&gt;\n&gt;             &lt;/ds:KeyInfo&gt;\n</code></pre>\n<p>and I nedd to change ValueType to <a href=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3\" rel=\"nofollow noreferrer\">http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3</a> because my binary token needs it. How can I overwrite it?</p>\n"},{"tags":["java","android","flutter","build","android-gradle-plugin"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684197731,"post_id":76257868,"comment_id":134479104,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28606537,"reputation":11,"user_id":21902374,"display_name":"Ayoub Kessar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":661,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684184247,"creation_date":1684184247,"question_id":76257868,"body_markdown":"The supplied phased action failed with an exception.\r\nA problem occurred configuring root project &#39;android&#39;.\r\nCould not resolve all files for configuration &#39;:classpath&#39;.\r\nCould not find com.android.tools.build:gradle:7.5.\r\nSearched in the following locations:\r\n  - https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/7.5/gradle-7.5.pom\r\n  - https://repo.maven.apache.org/maven2/com/android/tools/build/gradle/7.5/gradle-7.5.pom\r\nRequired by:\r\n    project :\r\n\r\nfix it from android studio \r\n","title":"The supplied phased action failed with an exception. A problem occurred configuring root project &#39;android&#39;","body":"<p>The supplied phased action failed with an exception.\nA problem occurred configuring root project 'android'.\nCould not resolve all files for configuration ':classpath'.\nCould not find com.android.tools.build:gradle:7.5.\nSearched in the following locations:</p>\n<ul>\n<li><a href=\"https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/7.5/gradle-7.5.pom\" rel=\"nofollow noreferrer\">https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/7.5/gradle-7.5.pom</a></li>\n<li><a href=\"https://repo.maven.apache.org/maven2/com/android/tools/build/gradle/7.5/gradle-7.5.pom\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/com/android/tools/build/gradle/7.5/gradle-7.5.pom</a>\nRequired by:\nproject :</li>\n</ul>\n<p>fix it from android studio</p>\n"},{"tags":["java","maven","maven-assembly-plugin"],"answers":[{"comments":[{"owner":{"account_id":217966,"reputation":12439,"user_id":474034,"accept_rate":67,"display_name":"lanoxx"},"score":7,"creation_date":1469027963,"post_id":38484021,"comment_id":64371216,"body_markdown":"Tunaki, thanks a lot for your explanations. They really helped me to understand whats going on. I now realize that if I set `attach` to `false` then the warning goes away and I kind of get the desired result, but it also implies that the artifact will not be installed. So I have two more questions: 1. Should I just avoid setting the `appendAssemblyId` to false and instead live with the resulting file name? 2. Would you recommend that I do not use the `finalName` property? My original intension was just to have a more user-friendly name for the executable jar, am I not supposed to do that?","body":"Tunaki, thanks a lot for your explanations. They really helped me to understand whats going on. I now realize that if I set <code>attach</code> to <code>false</code> then the warning goes away and I kind of get the desired result, but it also implies that the artifact will not be installed. So I have two more questions: 1. Should I just avoid setting the <code>appendAssemblyId</code> to false and instead live with the resulting file name? 2. Would you recommend that I do not use the <code>finalName</code> property? My original intension was just to have a more user-friendly name for the executable jar, am I not supposed to do that?"},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":1,"creation_date":1469028601,"post_id":38484021,"comment_id":64371535,"body_markdown":"@lanoxx 1. If you want to install and release the 2 artifacts then you will have to use a classifier so yes, you must keep `appendAssemblyId` to `true`. 2. It all depends on how your users going to get the executable JAR. If they download it from a Maven repo that you deploy to, the name is forced by the repo itself based on the coordinates so you really have no say in the matter, and you&#39;ll have to live with it. The finalName is only used for the local file inside `target`.","body":"@lanoxx 1. If you want to install and release the 2 artifacts then you will have to use a classifier so yes, you must keep <code>appendAssemblyId</code> to <code>true</code>. 2. It all depends on how your users going to get the executable JAR. If they download it from a Maven repo that you deploy to, the name is forced by the repo itself based on the coordinates so you really have no say in the matter, and you&#39;ll have to live with it. The finalName is only used for the local file inside <code>target</code>."},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1469028610,"post_id":38484021,"comment_id":64371543,"body_markdown":"@lanoxx (continued) If they get it from somewhere else, then you can rename it there to the name you want. Maven repos are mainly for fetching dependencies really. See also the mails http://maven.40175.n5.nabble.com/What-is-the-purpose-of-lt-finalName-gt-really-td113492.html and http://maven.40175.n5.nabble.com/Jar-finalName-to-m2-repository-td2639096.html. I will also mention that you could also potentially &quot;ignore&quot; the warning: let the Assembly Plugin replace the main artifact; maybe you don&#39;t need it anyway.","body":"@lanoxx (continued) If they get it from somewhere else, then you can rename it there to the name you want. Maven repos are mainly for fetching dependencies really. See also the mails <a href=\"http://maven.40175.n5.nabble.com/What-is-the-purpose-of-lt-finalName-gt-really-td113492.html\" rel=\"nofollow noreferrer\">maven.40175.n5.nabble.com/&hellip;</a> and <a href=\"http://maven.40175.n5.nabble.com/Jar-finalName-to-m2-repository-td2639096.html\" rel=\"nofollow noreferrer\">maven.40175.n5.nabble.com/&hellip;</a>. I will also mention that you could also potentially &quot;ignore&quot; the warning: let the Assembly Plugin replace the main artifact; maybe you don&#39;t need it anyway."},{"owner":{"account_id":217966,"reputation":12439,"user_id":474034,"accept_rate":67,"display_name":"lanoxx"},"score":0,"creation_date":1469097555,"post_id":38484021,"comment_id":64402827,"body_markdown":"another thought I had today. If the name given in finalName is unique for the project and given the fact that the name used for the artifact installation still uses the standard maven GAVC coordinates, then actually I would say its not really necessary to append the assemblyId to the local name (in the target folder), as long as its still appended during artifact installation.","body":"another thought I had today. If the name given in finalName is unique for the project and given the fact that the name used for the artifact installation still uses the standard maven GAVC coordinates, then actually I would say its not really necessary to append the assemblyId to the local name (in the target folder), as long as its still appended during artifact installation."},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1469097986,"post_id":38484021,"comment_id":64403098,"body_markdown":"@lanoxx Yeah but AFAIK the assembly id (so the classifier of the artifact) will always be appended into the local file name.","body":"@lanoxx Yeah but AFAIK the assembly id (so the classifier of the artifact) will always be appended into the local file name."}],"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"comment_count":5,"down_vote_count":0,"up_vote_count":66,"is_accepted":true,"score":66,"last_activity_date":1469024841,"creation_date":1469024841,"answer_id":38484021,"question_id":38482839,"body_markdown":"That is because you are mis-interpreting the warnings.\r\n\r\n&lt;hr&gt;\r\n\r\nLet&#39;s recap. A Maven project that is not of type `pom` will always produce, by default, what is called a main artifact. For a JAR, this artifact is the result of packaging the compiled sources into a JAR; for a WAR, it is the result of building the web-application.\r\n\r\nWhat is important to remember is that this artifact is _attached_ to the project: this terminology is useful when the project is installed (with `mvn install`), deployed (with `mvn deploy`) or released (with the `maven-release-plugin`). _Attached_ means that this artifact will be installed / deployed / released when the project is. Not all files generated during a Maven build (basically, everything under the `target` folder) are; only the files that were attached. As such, you can very well create a lot of files under `target` but have a single installed artifact.\r\n\r\nAlongside this main artifact, you may want your build to produce other artifacts to install or deploy. That&#39;s the concept of additional or secondary attached artifacts. The main examples are the Javadoc or the sources: typically when a project is released, its Javadoc and its sources also are. And that is where [the notion `classifier` kicks in](https://stackoverflow.com/questions/20909634/what-is-the-purpose-of-classifier-tag-in-maven).\r\n\r\nIn a Maven repository, each and every file has to follow the same naming convention: `artifactId-version(-classifier).type`. Every secondary artifact will have the same GAV (group id, artifact id, version) as the main artifact so if you want to put inside a Maven repo 1 main artifact and 1 attached artifact (like it would be the case for  a main JAR along with its JAR Javadoc and JAR sources), you need some way to distinguish them. Which is what the `classifier` is for: distinguish secondary artifacts from the main artifact.\r\n\r\n&lt;hr&gt;\r\n\r\nLet&#39;s go back to your example now. Your Maven project, which is of `jar` packaging, will produce by default a main JAR artifact called `my.module-5.0.0-SNAPSHOT.jar`; still by default, this main JAR is attached to the project (and ready to be installed / deployed). Now you&#39;re configuring the `maven-assembly-plugin` to create a new JAR artifact (called `helper-5.0.0-SNAPSHOT.jar` but it really doesn&#39;t matter). The Assembly Plugin, by default, [attaches to the project the artifact it produces](http://maven.apache.org/plugins/maven-assembly-plugin/single-mojo.html#attach). So you end up with 2 attached artifacts\r\n\r\n 1. having the same artifact id of `my.module`; the fact that the file on disk inside the `target` folder is named `helper` for one is irrelevant, only the GAV coordinates matter\r\n 2. having the same version of `5.0.0-SNAPSHOT`\r\n 3. having the same packaging of JAR\r\n\r\nand no classifier to distinguish them. This is what raises the warning: you end up attaching to the project a secondary artifact that effectively replaces the main one, simply because it has the same coordinates. So the result is:\r\n\r\n 1. Both files having different names on disk inside `target`, but that is irrelevant because\r\n 2. Both share the same coordinates so only 1 will survive.\r\n\r\nIt is the one produced by the Assembly Plugin that will win the conflict, and replace the attached main artifact.\r\n\r\nIf you want to convince yourself of all that, run `mvn clean install` on the project and check your local repo. You will notice that only the `jar-with-dependencies` artifact will be installed. The other one (the main artifact) went poof.\r\n\r\nYou can also configure a `&lt;distributionManagement&gt;`:\r\n\r\n\t&lt;distributionManagement&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;local-repo-test&lt;/id&gt;\r\n\t\t\t&lt;url&gt;file://...&lt;/url&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/distributionManagement&gt;\r\n\r\nand invoke `mvn clean deploy`. You can then check that the only deployed artifact will be the `jar-with-dependencies`.\r\n\r\n&lt;hr&gt;\r\n\r\nFinal note: Yes, the [`classifier`](http://maven.apache.org/plugins/maven-assembly-plugin/single-mojo.html#classifier) parameter of the Assembly Plugin is deprecated, because you should just use the assembly id as classifier.","title":"maven-assembly-plugin: How to use appendAssemblyId","body":"<p>That is because you are mis-interpreting the warnings.</p>\n\n<hr>\n\n<p>Let's recap. A Maven project that is not of type <code>pom</code> will always produce, by default, what is called a main artifact. For a JAR, this artifact is the result of packaging the compiled sources into a JAR; for a WAR, it is the result of building the web-application.</p>\n\n<p>What is important to remember is that this artifact is <em>attached</em> to the project: this terminology is useful when the project is installed (with <code>mvn install</code>), deployed (with <code>mvn deploy</code>) or released (with the <code>maven-release-plugin</code>). <em>Attached</em> means that this artifact will be installed / deployed / released when the project is. Not all files generated during a Maven build (basically, everything under the <code>target</code> folder) are; only the files that were attached. As such, you can very well create a lot of files under <code>target</code> but have a single installed artifact.</p>\n\n<p>Alongside this main artifact, you may want your build to produce other artifacts to install or deploy. That's the concept of additional or secondary attached artifacts. The main examples are the Javadoc or the sources: typically when a project is released, its Javadoc and its sources also are. And that is where <a href=\"https://stackoverflow.com/questions/20909634/what-is-the-purpose-of-classifier-tag-in-maven\">the notion <code>classifier</code> kicks in</a>.</p>\n\n<p>In a Maven repository, each and every file has to follow the same naming convention: <code>artifactId-version(-classifier).type</code>. Every secondary artifact will have the same GAV (group id, artifact id, version) as the main artifact so if you want to put inside a Maven repo 1 main artifact and 1 attached artifact (like it would be the case for  a main JAR along with its JAR Javadoc and JAR sources), you need some way to distinguish them. Which is what the <code>classifier</code> is for: distinguish secondary artifacts from the main artifact.</p>\n\n<hr>\n\n<p>Let's go back to your example now. Your Maven project, which is of <code>jar</code> packaging, will produce by default a main JAR artifact called <code>my.module-5.0.0-SNAPSHOT.jar</code>; still by default, this main JAR is attached to the project (and ready to be installed / deployed). Now you're configuring the <code>maven-assembly-plugin</code> to create a new JAR artifact (called <code>helper-5.0.0-SNAPSHOT.jar</code> but it really doesn't matter). The Assembly Plugin, by default, <a href=\"http://maven.apache.org/plugins/maven-assembly-plugin/single-mojo.html#attach\" rel=\"noreferrer\">attaches to the project the artifact it produces</a>. So you end up with 2 attached artifacts</p>\n\n<ol>\n<li>having the same artifact id of <code>my.module</code>; the fact that the file on disk inside the <code>target</code> folder is named <code>helper</code> for one is irrelevant, only the GAV coordinates matter</li>\n<li>having the same version of <code>5.0.0-SNAPSHOT</code></li>\n<li>having the same packaging of JAR</li>\n</ol>\n\n<p>and no classifier to distinguish them. This is what raises the warning: you end up attaching to the project a secondary artifact that effectively replaces the main one, simply because it has the same coordinates. So the result is:</p>\n\n<ol>\n<li>Both files having different names on disk inside <code>target</code>, but that is irrelevant because</li>\n<li>Both share the same coordinates so only 1 will survive.</li>\n</ol>\n\n<p>It is the one produced by the Assembly Plugin that will win the conflict, and replace the attached main artifact.</p>\n\n<p>If you want to convince yourself of all that, run <code>mvn clean install</code> on the project and check your local repo. You will notice that only the <code>jar-with-dependencies</code> artifact will be installed. The other one (the main artifact) went poof.</p>\n\n<p>You can also configure a <code>&lt;distributionManagement&gt;</code>:</p>\n\n<pre><code>&lt;distributionManagement&gt;\n    &lt;repository&gt;\n        &lt;id&gt;local-repo-test&lt;/id&gt;\n        &lt;url&gt;file://...&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/distributionManagement&gt;\n</code></pre>\n\n<p>and invoke <code>mvn clean deploy</code>. You can then check that the only deployed artifact will be the <code>jar-with-dependencies</code>.</p>\n\n<hr>\n\n<p>Final note: Yes, the <a href=\"http://maven.apache.org/plugins/maven-assembly-plugin/single-mojo.html#classifier\" rel=\"noreferrer\"><code>classifier</code></a> parameter of the Assembly Plugin is deprecated, because you should just use the assembly id as classifier.</p>\n"},{"tags":[],"owner":{"account_id":26682180,"reputation":1,"user_id":20291988,"display_name":"Kyle Seaman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684184011,"creation_date":1684184011,"answer_id":76257852,"question_id":38482839,"body_markdown":"If you want use the pre-defined decriptor `jar-with-dependencies` but have a classifier that is different from &quot;jar-with-dependencies&quot;, you can simply copy the &quot;jar-with-dependencies&quot; format into your own assembly file and re-name the id to whatever classifier you&#39;d like.\r\n\r\nHere is the pre-defined descriptor format (source: https://maven.apache.org/plugins/maven-assembly-plugin/descriptor-refs.html#jar-with-dependencies):\r\n\r\n    &lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.2.0&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.2.0 https://maven.apache.org/xsd/assembly-2.2.0.xsd&quot;&gt;\r\n      &lt;!-- TODO: a jarjar format would be better --&gt;\r\n      &lt;id&gt;jar-with-dependencies&lt;/id&gt;\r\n      &lt;formats&gt;\r\n        &lt;format&gt;jar&lt;/format&gt;\r\n      &lt;/formats&gt;\r\n      &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n      &lt;dependencySets&gt;\r\n        &lt;dependencySet&gt;\r\n          &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\r\n          &lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\r\n          &lt;unpack&gt;true&lt;/unpack&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependencySet&gt;\r\n      &lt;/dependencySets&gt;\r\n    &lt;/assembly&gt;\r\n\r\n\r\nCopy this into your own assembly.xml, and rename the id:\r\n\r\n    &lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.2.0&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.2.0 https://maven.apache.org/xsd/assembly-2.2.0.xsd&quot;&gt;\r\n      &lt;!-- TODO: a jarjar format would be better --&gt;\r\n      &lt;id&gt;my-classifier&lt;/id&gt;\r\n      &lt;formats&gt;\r\n        &lt;format&gt;jar&lt;/format&gt;\r\n      &lt;/formats&gt;\r\n      &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n      &lt;dependencySets&gt;\r\n        &lt;dependencySet&gt;\r\n          &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\r\n          &lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\r\n          &lt;unpack&gt;true&lt;/unpack&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependencySet&gt;\r\n      &lt;/dependencySets&gt;\r\n    &lt;/assembly&gt;\r\n\r\nNow, if you set `&lt;appendAssemblyId&gt;` to true, you will get the same jar as before, but with a custom classifier.","title":"maven-assembly-plugin: How to use appendAssemblyId","body":"<p>If you want use the pre-defined decriptor <code>jar-with-dependencies</code> but have a classifier that is different from &quot;jar-with-dependencies&quot;, you can simply copy the &quot;jar-with-dependencies&quot; format into your own assembly file and re-name the id to whatever classifier you'd like.</p>\n<p>Here is the pre-defined descriptor format (source: <a href=\"https://maven.apache.org/plugins/maven-assembly-plugin/descriptor-refs.html#jar-with-dependencies\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-assembly-plugin/descriptor-refs.html#jar-with-dependencies</a>):</p>\n<pre><code>&lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.2.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.2.0 https://maven.apache.org/xsd/assembly-2.2.0.xsd&quot;&gt;\n  &lt;!-- TODO: a jarjar format would be better --&gt;\n  &lt;id&gt;jar-with-dependencies&lt;/id&gt;\n  &lt;formats&gt;\n    &lt;format&gt;jar&lt;/format&gt;\n  &lt;/formats&gt;\n  &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n  &lt;dependencySets&gt;\n    &lt;dependencySet&gt;\n      &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n      &lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\n      &lt;unpack&gt;true&lt;/unpack&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependencySet&gt;\n  &lt;/dependencySets&gt;\n&lt;/assembly&gt;\n</code></pre>\n<p>Copy this into your own assembly.xml, and rename the id:</p>\n<pre><code>&lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.2.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.2.0 https://maven.apache.org/xsd/assembly-2.2.0.xsd&quot;&gt;\n  &lt;!-- TODO: a jarjar format would be better --&gt;\n  &lt;id&gt;my-classifier&lt;/id&gt;\n  &lt;formats&gt;\n    &lt;format&gt;jar&lt;/format&gt;\n  &lt;/formats&gt;\n  &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n  &lt;dependencySets&gt;\n    &lt;dependencySet&gt;\n      &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n      &lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\n      &lt;unpack&gt;true&lt;/unpack&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependencySet&gt;\n  &lt;/dependencySets&gt;\n&lt;/assembly&gt;\n</code></pre>\n<p>Now, if you set <code>&lt;appendAssemblyId&gt;</code> to true, you will get the same jar as before, but with a custom classifier.</p>\n"}],"owner":{"account_id":217966,"reputation":12439,"user_id":474034,"accept_rate":67,"display_name":"lanoxx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24829,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":38484021,"answer_count":2,"score":44,"last_activity_date":1684184011,"creation_date":1469021691,"question_id":38482839,"body_markdown":"I have a multi-module Maven project and in one module I want to create two artifacts during the build:\r\n\r\n * The main artifact which is a jar library that some of the other modules will depend on.\r\n * An executable jar file that executes some helper functions. No other modules depends on this and its only intended for the user to run it manually in certain situations.\r\n\r\nHere is the code that I use to configure the `maven-assembly-plugin` plugin:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;\r\n            maven-assembly-plugin\r\n        &lt;/artifactId&gt;\r\n        &lt;version&gt;2.4&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;dist-assembly&lt;/id&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;single&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n\r\n            &lt;configuration&gt;\r\n              &lt;finalName&gt;bso&lt;/finalName&gt;\r\n              &lt;descriptorRefs&gt;\r\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n              &lt;/descriptorRefs&gt;\r\n              &lt;finalName&gt;helper-${project.version}&lt;/finalName&gt;\r\n              &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n              &lt;archive&gt;\r\n                &lt;manifest&gt;\r\n                  &lt;mainClass&gt;HelperMain&lt;mainClass&gt;\r\n                &lt;/manifest&gt;\r\n              &lt;/archive&gt;\r\n            &lt;/configuration&gt;\r\n\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\nI am setting `appendAssemblyId` to `false` because otherwise `-jar-with-dependencies` will be appended to the final name and I do not see the need for it. Omitting it gives a cleaner and easier to use file name.\r\n\r\nWhen I run `mvn integration-test` then I receive the following warnings:\r\n\r\n&gt;[WARNING] Configuration options: &#39;appendAssemblyId&#39; is set to false, and &#39;classifier&#39; is missing.\r\n&gt;Instead of attaching the assembly file: [...]/target/helper-5.0.0-SNAPSHOT.jar, it will become the file for main project artifact.\r\n\r\n&gt;NOTE: If multiple descriptors or descriptor-formats are provided for this project, the value of this file will be non-deterministic!\r\n\r\n&gt;[WARNING] Replacing pre-existing project main-artifact file: [...]/target/my.module-5.0.0-SNAPSHOT.jar\r\nwith assembly file: [...]/target/helper-5.0.0-SNAPSHOT.jar\r\n\r\n\r\n\r\nThere are two things which irritate me:\r\n\r\n1. Despite the fact that the warning claims it will replace my.module-5.0.0-SNAPSHOT.jar with helper-5.0.0-SNAPSHOT.jar it does not actually do so and when the build has finished both files still have different sizes.\r\n\r\n2. Why does the warning about replacing the artifact appear at all?\r\n\r\n3. It seems that `classifier` is deprecated why does the warning ask me to use it?\r\n","title":"maven-assembly-plugin: How to use appendAssemblyId","body":"<p>I have a multi-module Maven project and in one module I want to create two artifacts during the build:</p>\n\n<ul>\n<li>The main artifact which is a jar library that some of the other modules will depend on.</li>\n<li>An executable jar file that executes some helper functions. No other modules depends on this and its only intended for the user to run it manually in certain situations.</li>\n</ul>\n\n<p>Here is the code that I use to configure the <code>maven-assembly-plugin</code> plugin:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;\n        maven-assembly-plugin\n    &lt;/artifactId&gt;\n    &lt;version&gt;2.4&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;dist-assembly&lt;/id&gt;\n        &lt;phase&gt;package&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;single&lt;/goal&gt;\n        &lt;/goals&gt;\n\n        &lt;configuration&gt;\n          &lt;finalName&gt;bso&lt;/finalName&gt;\n          &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n          &lt;/descriptorRefs&gt;\n          &lt;finalName&gt;helper-${project.version}&lt;/finalName&gt;\n          &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;mainClass&gt;HelperMain&lt;mainClass&gt;\n            &lt;/manifest&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n\n<p>I am setting <code>appendAssemblyId</code> to <code>false</code> because otherwise <code>-jar-with-dependencies</code> will be appended to the final name and I do not see the need for it. Omitting it gives a cleaner and easier to use file name.</p>\n\n<p>When I run <code>mvn integration-test</code> then I receive the following warnings:</p>\n\n<blockquote>\n  <p>[WARNING] Configuration options: 'appendAssemblyId' is set to false, and 'classifier' is missing.\n  Instead of attaching the assembly file: [...]/target/helper-5.0.0-SNAPSHOT.jar, it will become the file for main project artifact.</p>\n  \n  <p>NOTE: If multiple descriptors or descriptor-formats are provided for this project, the value of this file will be non-deterministic!</p>\n  \n  <p>[WARNING] Replacing pre-existing project main-artifact file: [...]/target/my.module-5.0.0-SNAPSHOT.jar\n  with assembly file: [...]/target/helper-5.0.0-SNAPSHOT.jar</p>\n</blockquote>\n\n<p>There are two things which irritate me:</p>\n\n<ol>\n<li><p>Despite the fact that the warning claims it will replace my.module-5.0.0-SNAPSHOT.jar with helper-5.0.0-SNAPSHOT.jar it does not actually do so and when the build has finished both files still have different sizes.</p></li>\n<li><p>Why does the warning about replacing the artifact appear at all?</p></li>\n<li><p>It seems that <code>classifier</code> is deprecated why does the warning ask me to use it?</p></li>\n</ol>\n"},{"tags":["java","json","jackson","apache-camel"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1684166468,"post_id":76255813,"comment_id":134473927,"body_markdown":"Assuming the parser is using streaming-json, then it would only look for the first pair of open-close brackets, and ignore the rest of the payload. But also, the double-quote should throw an error, yes","body":"Assuming the parser is using streaming-json, then it would only look for the first pair of open-close brackets, and ignore the rest of the payload. But also, the double-quote should throw an error, yes"}],"answers":[{"tags":[],"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684172840,"creation_date":1684172840,"answer_id":76256703,"question_id":76255813,"body_markdown":"You can customize the config of the Jackson mapper that is used internally by Camel for the binding.\r\n\r\nHave a try with the &quot;json.in.*&quot; properties to enable/disable some Jackson settings.\r\nThere is maybe one to be more strict ?\r\n\r\n    restConfiguration().component(&quot;...&quot;) \r\n    \t\t\t.bindingMode(RestBindingMode.json)\r\n    \t\t\t.dataFormatProperty(&quot;json.in.disableFeatures&quot;, &quot;FAIL_ON_UNKNOWN_PROPERTIES,ADJUST_DATES_TO_CONTEXT_TIME_ZONE&quot;)\r\n       \t\t\t.dataFormatProperty(&quot;json.in.enableFeatures&quot;, &quot;FAIL_ON_NUMBERS_FOR_ENUMS,USE_BIG_DECIMAL_FOR_FLOATS&quot;);\r\n\t\t\t","title":"Apache Camel consumes() accepts invalid JSON","body":"<p>You can customize the config of the Jackson mapper that is used internally by Camel for the binding.</p>\n<p>Have a try with the &quot;json.in.*&quot; properties to enable/disable some Jackson settings.\nThere is maybe one to be more strict ?</p>\n<pre><code>restConfiguration().component(&quot;...&quot;) \n            .bindingMode(RestBindingMode.json)\n            .dataFormatProperty(&quot;json.in.disableFeatures&quot;, &quot;FAIL_ON_UNKNOWN_PROPERTIES,ADJUST_DATES_TO_CONTEXT_TIME_ZONE&quot;)\n            .dataFormatProperty(&quot;json.in.enableFeatures&quot;, &quot;FAIL_ON_NUMBERS_FOR_ENUMS,USE_BIG_DECIMAL_FOR_FLOATS&quot;);\n        \n</code></pre>\n"}],"owner":{"account_id":318482,"reputation":1198,"user_id":635733,"accept_rate":79,"display_name":"Rob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684183373,"creation_date":1684165672,"question_id":76255813,"body_markdown":"I have a RESTful endpoint to create a user:\r\n\r\n```json\r\nPOST /users/new\r\n\r\n{\r\n    &quot;id&quot;: 1,\r\n    &quot;name&quot;: &quot;John Doe&quot;\r\n}\r\n```\r\n\r\nCamel handles the request via `consumes()` and magically (with the help of Jackson?) transforms keys of the JSON object into message headers, which I access to store the user.\r\n\r\n```java\r\nthis.restConfiguration()\r\n    .component(&quot;netty4-http&quot;)\r\n    .bindingMode(RestBindingMode.json)\r\n    .contextPath(&quot;/&quot;).port(AbstractRestRoute.PORT)\r\n    .enableCORS(true)\r\n    .corsAllowCredentials(true)\r\n    .corsHeaderProperty(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, Accept, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers, Authorization&quot;);\r\n\r\nthis.rest.(&quot;/users&quot;)\r\n    .post(&quot;/new&quot;)\r\n        .consumes(&quot;application/json&quot;)\r\n        .produces(&quot;application/json&quot;)\r\n        .to(&quot;direct:rest:newuser&quot;);\r\n```\r\n\r\nThis works as expected. However, one client managed to pass two users objects to the endpoint like this:\r\n\r\n```json\r\nPOST /users/new\r\n\r\n{\r\n    &quot;id&quot;: 1,\r\n    &quot;name&quot;: &quot;John Doe&quot;\r\n}\r\n{\r\n    &quot;id&quot;: 2,\r\n    &quot;name&quot;: &quot;Jane Doe&quot;\r\n}\r\n```\r\n\r\nI would expect Camel to throw a JSON parsing error here.\r\n\r\nBut: It turns out, the app serves the request (!) and silently ignores the second object. So the request produces the same result as the one above.\r\n\r\nCan I put Camel into strict JSON parsing mode to throw an error here?","title":"Apache Camel consumes() accepts invalid JSON","body":"<p>I have a RESTful endpoint to create a user:</p>\n<pre class=\"lang-json prettyprint-override\"><code>POST /users/new\n\n{\n    &quot;id&quot;: 1,\n    &quot;name&quot;: &quot;John Doe&quot;\n}\n</code></pre>\n<p>Camel handles the request via <code>consumes()</code> and magically (with the help of Jackson?) transforms keys of the JSON object into message headers, which I access to store the user.</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.restConfiguration()\n    .component(&quot;netty4-http&quot;)\n    .bindingMode(RestBindingMode.json)\n    .contextPath(&quot;/&quot;).port(AbstractRestRoute.PORT)\n    .enableCORS(true)\n    .corsAllowCredentials(true)\n    .corsHeaderProperty(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, Accept, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers, Authorization&quot;);\n\nthis.rest.(&quot;/users&quot;)\n    .post(&quot;/new&quot;)\n        .consumes(&quot;application/json&quot;)\n        .produces(&quot;application/json&quot;)\n        .to(&quot;direct:rest:newuser&quot;);\n</code></pre>\n<p>This works as expected. However, one client managed to pass two users objects to the endpoint like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>POST /users/new\n\n{\n    &quot;id&quot;: 1,\n    &quot;name&quot;: &quot;John Doe&quot;\n}\n{\n    &quot;id&quot;: 2,\n    &quot;name&quot;: &quot;Jane Doe&quot;\n}\n</code></pre>\n<p>I would expect Camel to throw a JSON parsing error here.</p>\n<p>But: It turns out, the app serves the request (!) and silently ignores the second object. So the request produces the same result as the one above.</p>\n<p>Can I put Camel into strict JSON parsing mode to throw an error here?</p>\n"},{"tags":["java","elasticsearch","elasticsearch-java-api-client"],"answers":[{"comments":[{"owner":{"account_id":8143395,"reputation":55,"user_id":6132761,"display_name":"Indrapreet"},"score":0,"creation_date":1684237438,"post_id":76257753,"comment_id":134485410,"body_markdown":"Thanks, @rabbitbr. Can we also do the same for aggregation? Although I understand that it&#39;s not a part of the question.","body":"Thanks, @rabbitbr. Can we also do the same for aggregation? Although I understand that it&#39;s not a part of the question."},{"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"score":0,"creation_date":1684241449,"post_id":76257753,"comment_id":134486456,"body_markdown":"With aggregations it is not possible. In a project I used json files with queries so I didn&#39;t have to write in java. In this [post](https://medium.com/@andre.luiz1987/query-template-with-handlebars-elasticsearch-9ecb375c7cfd) there is a part of what I did. Maybe it will help you.","body":"With aggregations it is not possible. In a project I used json files with queries so I didn&#39;t have to write in java. In this <a href=\"https://medium.com/@andre.luiz1987/query-template-with-handlebars-elasticsearch-9ecb375c7cfd\" rel=\"nofollow noreferrer\">post</a> there is a part of what I did. Maybe it will help you."}],"tags":[],"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684182852,"creation_date":1684182852,"answer_id":76257753,"question_id":76254555,"body_markdown":"I tried with [Wrapper Query][1].\r\n\r\nConvert query to [Base64][2] and run the code bellow.\r\n\r\nQuery {&quot;match_all&quot;: {}} is ewogICAgIm1hdGNoX2FsbCI6IHt9CiAgfQ==.\r\n\r\n    var wrapper = WrapperQuery.of(wq -&gt; wq.query(&quot;ewogICAgIm1hdGNoX2FsbCI6IHt9CiAgfQ==&quot;));\r\n    \r\n    var request = SearchRequest.of(sr -&gt; sr\r\n        .index(&quot;idx_movies&quot;)\r\n        .query(Query.of(q -&gt; q.wrapper(wrapper))));\r\n    \r\n    SearchResponse&lt;Movie&gt; response = ClientUtils.getClient().search(request, Movie.class);\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-wrapper-query.html\r\n  [2]: https://codebeautify.org/json-to-base64-converter#","title":"Is there a way to create an object of co.elastic.clients.elasticsearch._types.query_dsl.Query from a queryString?","body":"<p>I tried with <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-wrapper-query.html\" rel=\"nofollow noreferrer\">Wrapper Query</a>.</p>\n<p>Convert query to <a href=\"https://codebeautify.org/json-to-base64-converter#\" rel=\"nofollow noreferrer\">Base64</a> and run the code bellow.</p>\n<p>Query {&quot;match_all&quot;: {}} is ewogICAgIm1hdGNoX2FsbCI6IHt9CiAgfQ==.</p>\n<pre><code>var wrapper = WrapperQuery.of(wq -&gt; wq.query(&quot;ewogICAgIm1hdGNoX2FsbCI6IHt9CiAgfQ==&quot;));\n\nvar request = SearchRequest.of(sr -&gt; sr\n    .index(&quot;idx_movies&quot;)\n    .query(Query.of(q -&gt; q.wrapper(wrapper))));\n\nSearchResponse&lt;Movie&gt; response = ClientUtils.getClient().search(request, Movie.class);\n</code></pre>\n"}],"owner":{"account_id":8143395,"reputation":55,"user_id":6132761,"display_name":"Indrapreet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684182852,"creation_date":1684157062,"question_id":76254555,"body_markdown":"I have a complex Elasticsearch String query which I don&#39;t want to create using Java classes. \r\n\r\nIs there a way I can achieve it so as to use it something like:\r\n\r\n```\r\nQuery query = getQueryFromString(queryString);\r\n    \r\nco.elastic.clients.elasticsearch.core.SearchResponse searchResponse = null;\r\n    try {\r\n\r\n        co.elastic.clients.elasticsearch.core.SearchRequest request = new co.elastic.clients.elasticsearch.core.SearchRequest.Builder()\r\n                .index(indexName)\r\n                .size(pageSize)\r\n                .query(query\r\n                ).build();\r\n\r\n        searchResponse = esClient.withTransportOptions(getRequestOptions()).search(request, Object.class);\r\n\r\n    } catch (Exception ex) {\r\n        log.error(&quot;Some exception occurred while requesting response from elasticsearch&quot;, ex);\r\n    }\r\n\r\n```\r\n\r\nI went through the documentation but couldn&#39;t really find a way to achieve so.\r\nAny help would be really appreciated.","title":"Is there a way to create an object of co.elastic.clients.elasticsearch._types.query_dsl.Query from a queryString?","body":"<p>I have a complex Elasticsearch String query which I don't want to create using Java classes.</p>\n<p>Is there a way I can achieve it so as to use it something like:</p>\n<pre><code>Query query = getQueryFromString(queryString);\n    \nco.elastic.clients.elasticsearch.core.SearchResponse searchResponse = null;\n    try {\n\n        co.elastic.clients.elasticsearch.core.SearchRequest request = new co.elastic.clients.elasticsearch.core.SearchRequest.Builder()\n                .index(indexName)\n                .size(pageSize)\n                .query(query\n                ).build();\n\n        searchResponse = esClient.withTransportOptions(getRequestOptions()).search(request, Object.class);\n\n    } catch (Exception ex) {\n        log.error(&quot;Some exception occurred while requesting response from elasticsearch&quot;, ex);\n    }\n\n</code></pre>\n<p>I went through the documentation but couldn't really find a way to achieve so.\nAny help would be really appreciated.</p>\n"},{"tags":["java","serialization"],"comments":[{"owner":{"account_id":2492859,"reputation":1508,"user_id":2169998,"display_name":"Sridhar"},"score":0,"creation_date":1507815409,"post_id":46710644,"comment_id":80368471,"body_markdown":"Implement `Serializeable` Interface &amp; save it to file [refer](http://www.studytonight.com/java/serialization-and-deserialization.php)","body":"Implement <code>Serializeable</code> Interface &amp; save it to file <a href=\"http://www.studytonight.com/java/serialization-and-deserialization.php\" rel=\"nofollow noreferrer\">refer</a>"},{"owner":{"account_id":11973256,"reputation":45,"user_id":8761169,"display_name":"Andrew Linington"},"score":0,"creation_date":1507815592,"post_id":46710644,"comment_id":80368581,"body_markdown":"@ClementAmarnath Sorry i didn&#39;t clarify this but this file is utilized to store large sums of data from a different class and through some of my testing in that other file i was unable to Serialize the object from that class due to errors which i will now add to my post.","body":"@ClementAmarnath Sorry i didn&#39;t clarify this but this file is utilized to store large sums of data from a different class and through some of my testing in that other file i was unable to Serialize the object from that class due to errors which i will now add to my post."},{"owner":{"account_id":11973256,"reputation":45,"user_id":8761169,"display_name":"Andrew Linington"},"score":0,"creation_date":1507816203,"post_id":46710644,"comment_id":80369049,"body_markdown":"information is updated with a sample example of my issues with the recieving of data. In case it is necesary the variables are all declared as so:      rasPath is a file folder path which is where the data will be placed in the file.    FullPath is the place where the data is held for the object.","body":"information is updated with a sample example of my issues with the recieving of data. In case it is necesary the variables are all declared as so:      rasPath is a file folder path which is where the data will be placed in the file.    FullPath is the place where the data is held for the object."},{"owner":{"account_id":2671839,"reputation":5341,"user_id":2309068,"display_name":"Clement Amarnath"},"score":0,"creation_date":1507817770,"post_id":46710644,"comment_id":80370180,"body_markdown":"@AndrewLinington - I could only see `out.flush();` missing before `out.close();` , try by adding flush to your code","body":"@AndrewLinington - I could only see <code>out.flush();</code> missing before <code>out.close();</code> , try by adding flush to your code"},{"owner":{"account_id":11973256,"reputation":45,"user_id":8761169,"display_name":"Andrew Linington"},"score":0,"creation_date":1507818300,"post_id":46710644,"comment_id":80370578,"body_markdown":"@ClementAmarnath got it to work by changing the way my path name was declared but what does out.flush(); do?","body":"@ClementAmarnath got it to work by changing the way my path name was declared but what does out.flush(); do?"},{"owner":{"account_id":2293921,"reputation":9958,"user_id":2015912,"accept_rate":70,"display_name":"scottb"},"score":2,"creation_date":1507828588,"post_id":46710644,"comment_id":80376985,"body_markdown":"@ClementAmarnath: *&quot;...explain why you need serialization here, since there is no ... data transfer over the network?&quot;*  There are other valid uses for serialization.  Implementations of the Enterprise Java Bean specification 3.1+, for example, may use serialization/deserialization as the mechanism for passivation &amp; re-activation of stateful beans from/to application server memory.","body":"@ClementAmarnath: <i>&quot;...explain why you need serialization here, since there is no ... data transfer over the network?&quot;</i>  There are other valid uses for serialization.  Implementations of the Enterprise Java Bean specification 3.1+, for example, may use serialization/deserialization as the mechanism for passivation &amp; re-activation of stateful beans from/to application server memory."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1508146870,"post_id":46710644,"comment_id":80479711,"body_markdown":"@ClementAmarnath It is for you to explain why you think that serialization should only be used over a network. Your comment is incomprehensible.","body":"@ClementAmarnath It is for you to explain why you think that serialization should only be used over a network. Your comment is incomprehensible."},{"owner":{"account_id":11973256,"reputation":45,"user_id":8761169,"display_name":"Andrew Linington"},"score":0,"creation_date":1508160453,"post_id":46710644,"comment_id":80488412,"body_markdown":"@scottb but in regards to the use of what i am doing I A) am not using java bean but instead eclipse and B) am only using serialization to store data to be called on that specific computer it is used on. I thank you for some of the clarification.","body":"@scottb but in regards to the use of what i am doing I A) am not using java bean but instead eclipse and B) am only using serialization to store data to be called on that specific computer it is used on. I thank you for some of the clarification."}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1507944215,"post_id":46712197,"comment_id":80426600,"body_markdown":"That would cause a `FileNotFoundExveption`, not an empty file. You must have created the file with the correct name as an empty file somewhere. Are you using `File.createNewFile()` before trying to open it? If so, don&#39;t","body":"That would cause a <code>FileNotFoundExveption</code>, not an empty file. You must have created the file with the correct name as an empty file somewhere. Are you using <code>File.createNewFile()</code> before trying to open it? If so, don&#39;t"},{"owner":{"account_id":11973256,"reputation":45,"user_id":8761169,"display_name":"Andrew Linington"},"score":0,"creation_date":1507997768,"post_id":46712197,"comment_id":80439367,"body_markdown":"upon closing java the file appeared thus i must reload to see it sorry about that. @EJP","body":"upon closing java the file appeared thus i must reload to see it sorry about that. @EJP"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1508116373,"post_id":46712197,"comment_id":80468626,"body_markdown":"I can only repeat If you saved it to a wrong name you would have got a `FileNotFoundException` when you tried to open it with the right name, and if you tried to open it with the name you saved it with, it would have worked. None of this explains an `EOFExecption`, which in this case is caused by an empty file, as it happened when reading the stream header.","body":"I can only repeat If you saved it to a wrong name you would have got a <code>FileNotFoundException</code> when you tried to open it with the right name, and if you tried to open it with the name you saved it with, it would have worked. None of this explains an <code>EOFExecption</code>, which in this case is caused by an empty file, as it happened when reading the stream header."}],"tags":[],"owner":{"account_id":11973256,"reputation":45,"user_id":8761169,"display_name":"Andrew Linington"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1507997799,"creation_date":1507818478,"answer_id":46712197,"question_id":46710644,"body_markdown":"in regards to my issue i found out it was actually due to my path name having an extension created inaccurately thus preventing the data from being located. All is good","title":"Serializing an object containing an array and an int","body":"<p>in regards to my issue i found out it was actually due to my path name having an extension created inaccurately thus preventing the data from being located. All is good</p>\n"},{"comments":[{"owner":{"account_id":11973256,"reputation":45,"user_id":8761169,"display_name":"Andrew Linington"},"score":0,"creation_date":1507903696,"post_id":46715261,"comment_id":80409832,"body_markdown":"In a sense yes I was as the file itself was created with a path akin to that of /**/**/**/Ras.txt.ser. It should have been /**/**/**/Ras.ser so as a result the data file was empty.","body":"In a sense yes I was as the file itself was created with a path akin to that of /**/**/**/Ras.txt.ser. It should have been /**/**/**/Ras.ser so as a result the data file was empty."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1507935198,"post_id":46715261,"comment_id":80424948,"body_markdown":"I do not understand. If you created it with a different path, it was *missing*, not empty. Do you have a pointless `File.createNewFile()` somewhere? Remove it. NB Serialized data is not text and should not be saved in files with the .txt extension.","body":"I do not understand. If you created it with a different path, it was <i>missing</i>, not empty. Do you have a pointless <code>File.createNewFile()</code> somewhere? Remove it. NB Serialized data is not text and should not be saved in files with the .txt extension."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1507828022,"creation_date":1507828022,"answer_id":46715261,"question_id":46710644,"body_markdown":"You are trying to deserialize from an empty file.","title":"Serializing an object containing an array and an int","body":"<p>You are trying to deserialize from an empty file.</p>\n"}],"owner":{"account_id":11973256,"reputation":45,"user_id":8761169,"display_name":"Andrew Linington"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":46715261,"answer_count":2,"score":5,"last_activity_date":1684182796,"creation_date":1507814193,"question_id":46710644,"body_markdown":"I have been trying to implement a way to save some of my Objects in a file so that I can cut down on the need for filling a variable each run time which can take upwards of 20 minutes. I am currently in the midst of using an Object called a Raster which can be filled using a type File which is used to pull data into the fields. I am wondering how I would be able to serialize the following.\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.io.Serializable;\r\n    \r\n    public class Raster implements Serializable {\r\n    \t\r\n    \tprivate static final long serialVersionUID = 15L;\r\n    \tprivate int col,row,NODATA;\r\n    \tprivate double [] [] Ras;\r\n    \tpublic Raster (File inData) throws IOException\r\n    \t{\r\n    \t//open file as f\r\n    \tBufferedReader f = new BufferedReader(new FileReader(inData));\r\n    \tthis.col = Integer.parseInt(f.readLine().substring(5).trim());\r\n    \tthis.row = Integer.parseInt(f.readLine().substring(5).trim());\r\n    \tf.readLine();\r\n    \tf.readLine();\r\n    \tf.readLine();\r\n    \tthis.NODATA = Integer.parseInt(f.readLine().substring(12).trim());\r\n    \t//now the data will be added\r\n    \tthis.Ras = new double [row] [col];\r\n    \tfor (int r = 0 ; r &lt;row;r ++ )\r\n    \t\t{\r\n    \t\tString[] vals = f.readLine().split(&quot; &quot;);\r\n    \t\tfor (int c = 0 ; c &lt; col; c ++ )\r\n    \t\t\tthis.Ras[r][c]= Double.parseDouble(vals[c]);\r\n    \t\t}\r\n    \tf.close();\r\n    \t}\r\n    \tpublic int getRows() {\r\n    \t\treturn row;\r\n    \t}\r\n    \tpublic int getCols() {\r\n    \t\treturn col;\r\n    \t}\r\n    \tpublic double getData(int rowPos, int colPos) {\r\n    \t\treturn Ras[rowPos][colPos];\r\n    \t}\r\n    }\r\n\r\nI have looked at some other examples but they all seem to be rather specific to other types of data other than an array inside of an object and so I hope that someone might be able to explain a way I might be able to serialize this.\r\n\r\nP.S.\r\nI have edited the code to better Explain my problem as it sems it isn&#39;t clear enough. When using the serialize this class it would come up with an error like this:\r\n\r\n    Exception in thread &quot;main&quot; java.io.EOFException\r\n    \tat java.io.ObjectInputStream$PeekInputStream.readFully(Unknown Source)\r\n    \tat java.io.ObjectInputStream$BlockDataInputStream.readShort(Unknown Source)\r\n    \tat java.io.ObjectInputStream.readStreamHeader(Unknown Source)\r\n    \tat java.io.ObjectInputStream.&lt;init&gt;(Unknown Source)\r\n\r\n\r\nwhen I ran my code which looks like this \r\n\r\n    if (rasPath.exists()) {\r\n    \t\t\t\tObjectInputStream in = new ObjectInputStream(new FileInputStream(rasPath));\r\n    \t\t\t\tRaster SqrRas =  (Raster) (in).readObject();\r\n    \t\t\t\tin.close();\t\t\t\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\tRaster SqrRas = new Raster (fullPath);\r\n    \t\t\t\tObjectOutputStream out = new ObjectOutputStream(new FileOutputStream(rasPath));\r\n    \t\t\t\tout.writeObject(SqrRas);\r\n    \t\t\t\tout.close();\r\n    \t\t\t}\r\n\r\n","title":"Serializing an object containing an array and an int","body":"<p>I have been trying to implement a way to save some of my Objects in a file so that I can cut down on the need for filling a variable each run time which can take upwards of 20 minutes. I am currently in the midst of using an Object called a Raster which can be filled using a type File which is used to pull data into the fields. I am wondering how I would be able to serialize the following.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.io.Serializable;\n\npublic class Raster implements Serializable {\n    \n    private static final long serialVersionUID = 15L;\n    private int col,row,NODATA;\n    private double [] [] Ras;\n    public Raster (File inData) throws IOException\n    {\n    //open file as f\n    BufferedReader f = new BufferedReader(new FileReader(inData));\n    this.col = Integer.parseInt(f.readLine().substring(5).trim());\n    this.row = Integer.parseInt(f.readLine().substring(5).trim());\n    f.readLine();\n    f.readLine();\n    f.readLine();\n    this.NODATA = Integer.parseInt(f.readLine().substring(12).trim());\n    //now the data will be added\n    this.Ras = new double [row] [col];\n    for (int r = 0 ; r &lt;row;r ++ )\n        {\n        String[] vals = f.readLine().split(&quot; &quot;);\n        for (int c = 0 ; c &lt; col; c ++ )\n            this.Ras[r][c]= Double.parseDouble(vals[c]);\n        }\n    f.close();\n    }\n    public int getRows() {\n        return row;\n    }\n    public int getCols() {\n        return col;\n    }\n    public double getData(int rowPos, int colPos) {\n        return Ras[rowPos][colPos];\n    }\n}\n</code></pre>\n<p>I have looked at some other examples but they all seem to be rather specific to other types of data other than an array inside of an object and so I hope that someone might be able to explain a way I might be able to serialize this.</p>\n<p>P.S.\nI have edited the code to better Explain my problem as it sems it isn't clear enough. When using the serialize this class it would come up with an error like this:</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.EOFException\n    at java.io.ObjectInputStream$PeekInputStream.readFully(Unknown Source)\n    at java.io.ObjectInputStream$BlockDataInputStream.readShort(Unknown Source)\n    at java.io.ObjectInputStream.readStreamHeader(Unknown Source)\n    at java.io.ObjectInputStream.&lt;init&gt;(Unknown Source)\n</code></pre>\n<p>when I ran my code which looks like this</p>\n<pre><code>if (rasPath.exists()) {\n                ObjectInputStream in = new ObjectInputStream(new FileInputStream(rasPath));\n                Raster SqrRas =  (Raster) (in).readObject();\n                in.close();         \n            }\n            else {\n                Raster SqrRas = new Raster (fullPath);\n                ObjectOutputStream out = new ObjectOutputStream(new FileOutputStream(rasPath));\n                out.writeObject(SqrRas);\n                out.close();\n            }\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7783437,"reputation":10208,"user_id":5889131,"accept_rate":100,"display_name":"jeremysprofile"},"score":0,"creation_date":1559601645,"post_id":5681458,"comment_id":99464955,"body_markdown":"Note that this will *not* match all RICs, just a small subset of RICs that OP apparently cares about.","body":"Note that this will <i>not</i> match all RICs, just a small subset of RICs that OP apparently cares about."}],"answers":[{"comments":[{"owner":{"account_id":28581,"reputation":32029,"user_id":76456,"accept_rate":78,"display_name":"Paul Alexander"},"score":0,"creation_date":1302896457,"post_id":5681504,"comment_id":6487262,"body_markdown":"Almost exactly what I had :) Just need to add the ^/$ anchors so it doesn&#39;t validate A.B.C.","body":"Almost exactly what I had :) Just need to add the ^/$ anchors so it doesn&#39;t validate A.B.C."}],"tags":[],"owner":{"account_id":7949,"reputation":2766,"user_id":14019,"accept_rate":80,"display_name":"Adam Straughan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1302896177,"creation_date":1302896177,"answer_id":5681504,"question_id":5681458,"body_markdown":"how about this?\r\n\r\n    [A-Z]{1,4}\\.[A-Z]{1,2}\r\n\r\nthis Java focused page may help http://www.shiffman.net/teaching/a2z/regex/","title":"Java Regular Expression for RIC code","body":"<p>how about this?</p>\n\n<pre><code>[A-Z]{1,4}\\.[A-Z]{1,2}\n</code></pre>\n\n<p>this Java focused page may help <a href=\"http://www.shiffman.net/teaching/a2z/regex/\" rel=\"nofollow\">http://www.shiffman.net/teaching/a2z/regex/</a></p>\n"},{"tags":[],"owner":{"account_id":28581,"reputation":32029,"user_id":76456,"accept_rate":78,"display_name":"Paul Alexander"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683076720,"creation_date":1302896409,"answer_id":5681538,"question_id":5681458,"body_markdown":"    /^[A-Z]{1,4}\\.[A-Z]{1,2}$/\r\n\r\nSample and tests can be found at http://refiddle.co/10o","title":"Java Regular Expression for RIC code","body":"<pre><code>/^[A-Z]{1,4}\\.[A-Z]{1,2}$/\n</code></pre>\n<p>Sample and tests can be found at <a href=\"http://refiddle.co/10o\" rel=\"nofollow noreferrer\">http://refiddle.co/10o</a></p>\n"},{"tags":[],"owner":{"account_id":91814,"reputation":893,"user_id":251930,"display_name":"Nathan Crause"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684182636,"creation_date":1684173953,"answer_id":76256857,"question_id":5681458,"body_markdown":"Your specific use-case and the above answers lack support for option symbols, which are also valid RIC codes, nor do they take into account compound &quot;exchange&quot; markers, or indices, such as &quot;.SPSUPX&quot; for S&amp;P 1500.\r\n\r\nFor example, while the other answers will identify &quot;IBM.N&quot;, it won&#39;t identify &quot;SPXWF162320000.U&quot;, which is a weekly SPX option.\r\n\r\nThe following regex will cover both cases, and will split it up into it&#39;s constituent parts. Do note that &quot;expiryMonth&quot; is a single character flag representing the month, type (whether CALL or PUT) as well as the denomination of the strike price.\r\n\r\nFor example an &quot;A&quot; means January, CALL, strike price &lt; 1000 (so strike price is represented in 10 cents. By comparison a &quot;n&quot; (explicitly lower-case) means February, PUT, strike price &gt; 1000 (so strike price is represented in cents).\r\n\r\n    Pattern.compile(&quot;^(?&lt;symbol&gt;\\\\w+?)(?:(?&lt;expiryMonth&gt;[a-xA-X])(?&lt;expiryDay&gt;\\\\d{2})(?&lt;expiryYear&gt;\\\\d{2})(?&lt;strikePrice&gt;\\\\d+))?\\\\.(?&lt;exchange&gt;.+)$&quot;);","title":"Java Regular Expression for RIC code","body":"<p>Your specific use-case and the above answers lack support for option symbols, which are also valid RIC codes, nor do they take into account compound &quot;exchange&quot; markers, or indices, such as &quot;.SPSUPX&quot; for S&amp;P 1500.</p>\n<p>For example, while the other answers will identify &quot;IBM.N&quot;, it won't identify &quot;SPXWF162320000.U&quot;, which is a weekly SPX option.</p>\n<p>The following regex will cover both cases, and will split it up into it's constituent parts. Do note that &quot;expiryMonth&quot; is a single character flag representing the month, type (whether CALL or PUT) as well as the denomination of the strike price.</p>\n<p>For example an &quot;A&quot; means January, CALL, strike price &lt; 1000 (so strike price is represented in 10 cents. By comparison a &quot;n&quot; (explicitly lower-case) means February, PUT, strike price &gt; 1000 (so strike price is represented in cents).</p>\n<pre><code>Pattern.compile(&quot;^(?&lt;symbol&gt;\\\\w+?)(?:(?&lt;expiryMonth&gt;[a-xA-X])(?&lt;expiryDay&gt;\\\\d{2})(?&lt;expiryYear&gt;\\\\d{2})(?&lt;strikePrice&gt;\\\\d+))?\\\\.(?&lt;exchange&gt;.+)$&quot;);\n</code></pre>\n"}],"owner":{"account_id":738575,"reputation":11,"user_id":710435,"display_name":"Risa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1174,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1684182636,"creation_date":1302895882,"question_id":5681458,"body_markdown":"I&#39;m looking for a regular expression in Java that will determine if a string is of a valid market data format (RIC).  The acceptable instrument codes are composed of a root (one to four characters – A through Z), followed by a period sign, then a one- or two-character (A through Z) code.  ","title":"Java Regular Expression for RIC code","body":"<p>I'm looking for a regular expression in Java that will determine if a string is of a valid market data format (RIC).  The acceptable instrument codes are composed of a root (one to four characters – A through Z), followed by a period sign, then a one- or two-character (A through Z) code.  </p>\n"},{"tags":["java","vert.x"],"comments":[{"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"score":1,"creation_date":1685471902,"post_id":76257711,"comment_id":134663954,"body_markdown":"why do you need the event queue at all? You are going down the wrong path","body":"why do you need the event queue at all? You are going down the wrong path"}],"owner":{"account_id":19817696,"reputation":49,"user_id":14514967,"display_name":"namnv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684182285,"creation_date":1684182285,"question_id":76257711,"body_markdown":"&quot;I am learning about Vert.x and trying to find a way to get the event queue in Vert.x, but I cannot find any documentation or instructions on how to do this. I am wondering if I misunderstood that Vert.x does not have an event queue or if it&#39;s located in Netty.&quot;","title":"Is there a way to get the event queue in Vert.x?","body":"<p>&quot;I am learning about Vert.x and trying to find a way to get the event queue in Vert.x, but I cannot find any documentation or instructions on how to do this. I am wondering if I misunderstood that Vert.x does not have an event queue or if it's located in Netty.&quot;</p>\n"},{"tags":["java","eclipse","batch-file"],"comments":[{"owner":{"account_id":913338,"reputation":4944,"user_id":946679,"accept_rate":100,"display_name":"zeller"},"score":1,"creation_date":1355303051,"post_id":13836092,"comment_id":19043241,"body_markdown":"It is not clear what you want. Run an external program  from java? Or run an exernal program from eclipse? Also that program must run on a different machine?","body":"It is not clear what you want. Run an external program  from java? Or run an exernal program from eclipse? Also that program must run on a different machine?"},{"owner":{"account_id":1744463,"reputation":12621,"user_id":1594980,"accept_rate":85,"display_name":"Jiri Kremser"},"score":0,"creation_date":1355303611,"post_id":13836092,"comment_id":19043475,"body_markdown":"If it is the only thing you want to do, pick some different language. Bash or some other scripting lang. is much more suitable. Or just plain old bat files.","body":"If it is the only thing you want to do, pick some different language. Bash or some other scripting lang. is much more suitable. Or just plain old bat files."}],"answers":[{"tags":[],"owner":{"account_id":28344158,"reputation":1,"user_id":21676648,"display_name":"AlejoPolo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684182230,"creation_date":1684175005,"answer_id":76256972,"question_id":13836092,"body_markdown":"Solution:\r\n\r\n    AWSBatch client = AWSBatchClientBuilder.standard().build();\r\n    SubmitJobRequest request = new SubmitJobRequest().withJobName(&quot;example&quot;).withJobQueue(&quot;HighPriority&quot;).withJobDefinition(&quot;sleep60&quot;);\r\n    SubmitJobResult response = client.submitJob(request);\r\n\r\nLink info: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/batch/AWSBatch.html#listJobs-com.amazonaws.services.batch.model.ListJobsRequest-\r\n","title":"Execute batch in java using eclipse","body":"<p>Solution:</p>\n<pre><code>AWSBatch client = AWSBatchClientBuilder.standard().build();\nSubmitJobRequest request = new SubmitJobRequest().withJobName(&quot;example&quot;).withJobQueue(&quot;HighPriority&quot;).withJobDefinition(&quot;sleep60&quot;);\nSubmitJobResult response = client.submitJob(request);\n</code></pre>\n<p>Link info: <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/batch/AWSBatch.html#listJobs-com.amazonaws.services.batch.model.ListJobsRequest-\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/batch/AWSBatch.html#listJobs-com.amazonaws.services.batch.model.ListJobsRequest-</a></p>\n"}],"owner":{"account_id":2137754,"reputation":21,"user_id":1897099,"display_name":"user1897099"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684182230,"creation_date":1355302649,"question_id":13836092,"body_markdown":"I have a batch that is run in putty.  How can I run it using java in eclipse. Can it be executed in a command prompt?","title":"Execute batch in java using eclipse","body":"<p>I have a batch that is run in putty.  How can I run it using java in eclipse. Can it be executed in a command prompt?</p>\n"},{"tags":["java","cobol","mainframe","ebcdic","jrecord"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1505881964,"post_id":46313332,"comment_id":79588273,"body_markdown":"Could you please add proper tags to the question, so that its open to a wider audience.","body":"Could you please add proper tags to the question, so that its open to a wider audience."},{"owner":{"account_id":325503,"reputation":10378,"user_id":646723,"display_name":"Bruce Martin"},"score":1,"creation_date":1505882350,"post_id":46313332,"comment_id":79588382,"body_markdown":"This is a Question I intend to Answer my-self. I want to cover the whole proccess. I will more tags later","body":"This is a Question I intend to Answer my-self. I want to cover the whole proccess. I will more tags later"}],"answers":[{"tags":[],"owner":{"account_id":325503,"reputation":10378,"user_id":646723,"display_name":"Bruce Martin"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1529968545,"creation_date":1505881897,"answer_id":46313341,"question_id":46313332,"body_markdown":"## File Transfer\r\n\r\nTo transfer a **Binary** file from the Mainframe to Windows / *nix box you\r\nmust do a **Binary Transfer** for a very simple reason: the Ebcdic --&gt; Ascii\r\nprogram can not distinguish between binary fields and Text fields.\r\n\r\n    Comp-3 value   hex     hex after Ascii conversion\r\n\r\n     400          x&#39;400c&#39;       x&#39;200c&#39;       x&#39;40&#39; is the ebcdic space character\r\n                                              it gets converted to the ascii\r\n                                              space character x&#39;20&#39;\r\n\r\n                                              \r\nYou need to do a **Binary** transfer from the Mainframe. This will keep the file as EBCDIC and any binary fields will be untouched. You then read the file using Ebcdic. \r\n\r\nYou will **need** to check the **RECFM** on the Mainframe. If the **RECFM** is\r\n\r\n* **FB** - no problems just transfer\r\n* **VB** - either convert to FB on the mainframe of include the **RDW (Record Descriptor Word)** option in the file transfer.\r\n* **Other** - Convert to FB/VB on the mainframe\r\n\r\n\r\n## RecordEditor CodeGen\r\n\r\nThe [RecordEditor](https://sourceforge.net/projects/record-editor/) will use\r\ndetails from a Cobol Copybook and a Sample file to generate Java~JRecord Code.\r\n\r\n### Installing the Recordeditor\r\n\r\nInstall version 0.98.4 or later. Consider the USB version, you just unzip to a normal directory and run from there. No install is needed\r\n\r\nIf you install either HSQL version, restart the computer before use\r\n\r\n\r\n### Starting the Code Generator\r\n\r\nTo start the Code-Generator, select **Generate &gt;&gt;&gt; Java~JRecord code for Cobol**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n### First Generate Screen\r\n\r\nOn this screen enter the Cobol Copybook and Sample file (if you have one).\r\nThe **RecordEditor** will try and fill in the fields for you.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nYou may need to fix up the control fields though. When everything is correct\r\n\r\n[![enter image description here][3]][3]\r\n\r\nWhen everything is correct *press* the **Generate Java~JRecord** button\r\n  \r\n### Second Generate Screen\r\n\r\nOn this screen you can \r\n\r\n* Select the *Template* or *Model*\r\n* How the Java names are formated\r\n* package id etc.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n### Generated code\r\n\r\nThere are several *Templates* or *Models* that can be used, including\r\n\r\n* **Standard** - generates basic JRecord code. It will generate Java classes with Cobol field names as constants. This allows you to use IDE code completion instead of typing in the &quot;Cobol-Field-Names&quot;.\r\n* **lineWrapper** - Create a Java Wrapper around the Cobol Data.\r\n* **Pojo** - Creates Readers / Writers to convert Cobol Data to/from Java Pojo&#39;s \r\n\r\npress the **Generate Code** button to generate java code.\r\n\r\n**LineWrapper:**\r\n\r\n[![enter image description here][5]][5]\r\n\r\n**Pojo:**\r\n[![enter image description here][6]][6]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f7Etb.png\r\n  [2]: https://i.stack.imgur.com/E591A.png\r\n  [3]: https://i.stack.imgur.com/ANl1l.png\r\n  [4]: https://i.stack.imgur.com/YaLYr.png\r\n  [5]: https://i.stack.imgur.com/jxVQ0.png\r\n  [6]: https://i.stack.imgur.com/Z3ipP.png","title":"How do you generate java~jrecord code for a Cobol copybook","body":"<h2>File Transfer</h2>\n\n<p>To transfer a <strong>Binary</strong> file from the Mainframe to Windows / *nix box you\nmust do a <strong>Binary Transfer</strong> for a very simple reason: the Ebcdic --> Ascii\nprogram can not distinguish between binary fields and Text fields.</p>\n\n<pre><code>Comp-3 value   hex     hex after Ascii conversion\n\n 400          x'400c'       x'200c'       x'40' is the ebcdic space character\n                                          it gets converted to the ascii\n                                          space character x'20'\n</code></pre>\n\n<p>You need to do a <strong>Binary</strong> transfer from the Mainframe. This will keep the file as EBCDIC and any binary fields will be untouched. You then read the file using Ebcdic. </p>\n\n<p>You will <strong>need</strong> to check the <strong>RECFM</strong> on the Mainframe. If the <strong>RECFM</strong> is</p>\n\n<ul>\n<li><strong>FB</strong> - no problems just transfer</li>\n<li><strong>VB</strong> - either convert to FB on the mainframe of include the <strong>RDW (Record Descriptor Word)</strong> option in the file transfer.</li>\n<li><strong>Other</strong> - Convert to FB/VB on the mainframe</li>\n</ul>\n\n<h2>RecordEditor CodeGen</h2>\n\n<p>The <a href=\"https://sourceforge.net/projects/record-editor/\" rel=\"nofollow noreferrer\">RecordEditor</a> will use\ndetails from a Cobol Copybook and a Sample file to generate Java~JRecord Code.</p>\n\n<h3>Installing the Recordeditor</h3>\n\n<p>Install version 0.98.4 or later. Consider the USB version, you just unzip to a normal directory and run from there. No install is needed</p>\n\n<p>If you install either HSQL version, restart the computer before use</p>\n\n<h3>Starting the Code Generator</h3>\n\n<p>To start the Code-Generator, select <strong>Generate >>> Java~JRecord code for Cobol</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/f7Etb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f7Etb.png\" alt=\"enter image description here\"></a></p>\n\n<h3>First Generate Screen</h3>\n\n<p>On this screen enter the Cobol Copybook and Sample file (if you have one).\nThe <strong>RecordEditor</strong> will try and fill in the fields for you.</p>\n\n<p><a href=\"https://i.stack.imgur.com/E591A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E591A.png\" alt=\"enter image description here\"></a></p>\n\n<p>You may need to fix up the control fields though. When everything is correct</p>\n\n<p><a href=\"https://i.stack.imgur.com/ANl1l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ANl1l.png\" alt=\"enter image description here\"></a></p>\n\n<p>When everything is correct <em>press</em> the <strong>Generate Java~JRecord</strong> button</p>\n\n<h3>Second Generate Screen</h3>\n\n<p>On this screen you can </p>\n\n<ul>\n<li>Select the <em>Template</em> or <em>Model</em></li>\n<li>How the Java names are formated</li>\n<li>package id etc.</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/YaLYr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YaLYr.png\" alt=\"enter image description here\"></a></p>\n\n<h3>Generated code</h3>\n\n<p>There are several <em>Templates</em> or <em>Models</em> that can be used, including</p>\n\n<ul>\n<li><strong>Standard</strong> - generates basic JRecord code. It will generate Java classes with Cobol field names as constants. This allows you to use IDE code completion instead of typing in the \"Cobol-Field-Names\".</li>\n<li><strong>lineWrapper</strong> - Create a Java Wrapper around the Cobol Data.</li>\n<li><strong>Pojo</strong> - Creates Readers / Writers to convert Cobol Data to/from Java Pojo's </li>\n</ul>\n\n<p>press the <strong>Generate Code</strong> button to generate java code.</p>\n\n<p><strong>LineWrapper:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/jxVQ0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jxVQ0.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Pojo:</strong>\n<a href=\"https://i.stack.imgur.com/Z3ipP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z3ipP.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":20022941,"reputation":70,"user_id":14677456,"display_name":"Lovelin B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684181679,"creation_date":1684181679,"answer_id":76257664,"question_id":46313332,"body_markdown":"RecordEditor portable wants to use Java 1.6. ","title":"How do you generate java~jrecord code for a Cobol copybook","body":"<p>RecordEditor portable wants to use Java 1.6.</p>\n"}],"owner":{"account_id":325503,"reputation":10378,"user_id":646723,"display_name":"Bruce Martin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7689,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"accepted_answer_id":46313341,"answer_count":2,"score":5,"last_activity_date":1684181679,"creation_date":1505881846,"question_id":46313332,"body_markdown":"How do you use the [RecordEditor][1] to *Generate* [Java~JRecord][2] code\r\nfrom a *Cobol Copybook* to read/write a *Binary  EBCDIC Mainframe File*.\r\n\r\nThis a **Question** and **answer** to try an prevent some poor/misleading questions being asked or the answer can be pointed to.\r\n\r\n  [1]: https://sourceforge.net/projects/record-editor/\r\n  [2]: https://sourceforge.net/projects/jrecord/","title":"How do you generate java~jrecord code for a Cobol copybook","body":"<p>How do you use the <a href=\"https://sourceforge.net/projects/record-editor/\" rel=\"noreferrer\">RecordEditor</a> to <em>Generate</em> <a href=\"https://sourceforge.net/projects/jrecord/\" rel=\"noreferrer\">Java~JRecord</a> code\nfrom a <em>Cobol Copybook</em> to read/write a <em>Binary  EBCDIC Mainframe File</em>.</p>\n\n<p>This a <strong>Question</strong> and <strong>answer</strong> to try an prevent some poor/misleading questions being asked or the answer can be pointed to.</p>\n"},{"tags":["java","http","cookies","servlet-filters"],"comments":[{"owner":{"account_id":6196004,"reputation":131,"user_id":4827241,"display_name":"Alexander Martyushov"},"score":0,"creation_date":1579853310,"post_id":50668961,"comment_id":105912672,"body_markdown":"Please find my detailed answer to this case [HERE](https://stackoverflow.com/a/59892503/4827241).","body":"Please find my detailed answer to this case <a href=\"https://stackoverflow.com/a/59892503/4827241\">HERE</a>."},{"owner":{"account_id":5582102,"reputation":1071,"user_id":4423695,"display_name":"ThilankaD"},"score":0,"creation_date":1603862190,"post_id":50668961,"comment_id":114167537,"body_markdown":"check this one which used GenericFilterBean / temporary redirect request to solve the same kind of issue  https://stackoverflow.com/questions/63939078/how-to-set-samesite-and-secure-attribute-to-jsessionid-cookie/63939775#63939775","body":"check this one which used GenericFilterBean / temporary redirect request to solve the same kind of issue  <a href=\"https://stackoverflow.com/questions/63939078/how-to-set-samesite-and-secure-attribute-to-jsessionid-cookie/63939775#63939775\" title=\"how to set samesite and secure attribute to jsessionid cookie\">stackoverflow.com/questions/63939078/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":4302920,"reputation":85,"user_id":3516189,"display_name":"jatin Goyal"},"score":0,"creation_date":1609155543,"post_id":50704516,"comment_id":115760402,"body_markdown":"it did not worked for me, i am using jetty 6.1 and servlet API 2.5 that might be the reason ? SameSite=Strict attribute is visible on console but not on browser.","body":"it did not worked for me, i am using jetty 6.1 and servlet API 2.5 that might be the reason ? SameSite=Strict attribute is visible on console but not on browser."}],"tags":[],"owner":{"account_id":9827160,"reputation":191,"user_id":7280032,"display_name":"mwyrzyk"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1601419805,"creation_date":1528214677,"answer_id":50704516,"question_id":50668961,"body_markdown":"It turns out that using `setHeader()` method remove all previous headers with the same name so I just create simple for loop in `doFilter()` method. It adds `SameSite=Strict` attribute to every cookie that is set.\r\n```java\r\nboolean firstHeader = true;\r\nfor (String header : cookiesHeaders) {\r\n    if (firstHeader) {\r\n        httpResponse.setHeader(&quot;Set-Cookie&quot;,\r\n                String.format(&quot;%s; %s&quot;, header, &quot;SameSite=Strict&quot;));\r\n        firstHeader = false;\r\n        continue;\r\n    }\r\n    httpResponse.addHeader(&quot;Set-Cookie&quot;,\r\n            String.format(&quot;%s; %s&quot;, header, &quot;SameSite=Strict&quot;));\r\n}\r\n```","title":"How to set SameSite attribute?","body":"<p>It turns out that using <code>setHeader()</code> method remove all previous headers with the same name so I just create simple for loop in <code>doFilter()</code> method. It adds <code>SameSite=Strict</code> attribute to every cookie that is set.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean firstHeader = true;\nfor (String header : cookiesHeaders) {\n    if (firstHeader) {\n        httpResponse.setHeader(&quot;Set-Cookie&quot;,\n                String.format(&quot;%s; %s&quot;, header, &quot;SameSite=Strict&quot;));\n        firstHeader = false;\n        continue;\n    }\n    httpResponse.addHeader(&quot;Set-Cookie&quot;,\n            String.format(&quot;%s; %s&quot;, header, &quot;SameSite=Strict&quot;));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3167351,"reputation":654,"user_id":2677034,"display_name":"user2677034"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571100945,"creation_date":1571100945,"answer_id":58385794,"question_id":50668961,"body_markdown":"In etc/apache2/httpd.conf\r\n\r\nHeader edit Set-Cookie ^(.*)$ $1;SameSite=Strict\r\n\r\n----------------------------\r\nworks for me.....","title":"How to set SameSite attribute?","body":"<p>In etc/apache2/httpd.conf</p>\n\n<p>Header edit Set-Cookie ^(.*)$ $1;SameSite=Strict</p>\n\n<hr>\n\n<p>works for me.....</p>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585193375,"creation_date":1585193375,"answer_id":60860625,"question_id":50668961,"body_markdown":"New Tomcat supports SameSite cookies via `TomcatContextCustomizer`. \r\n\r\n- for Spring Boot in could be done in `@Configuration`, see https://stackoverflow.com/a/60860531/548473 \r\n- for Tomcat application - in `context.xml`, see  https://stackoverflow.com/a/57622508/548473","title":"How to set SameSite attribute?","body":"<p>New Tomcat supports SameSite cookies via <code>TomcatContextCustomizer</code>. </p>\n\n<ul>\n<li>for Spring Boot in could be done in <code>@Configuration</code>, see <a href=\"https://stackoverflow.com/a/60860531/548473\">https://stackoverflow.com/a/60860531/548473</a> </li>\n<li>for Tomcat application - in <code>context.xml</code>, see  <a href=\"https://stackoverflow.com/a/57622508/548473\">https://stackoverflow.com/a/57622508/548473</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14676735,"reputation":139,"user_id":10599548,"display_name":"GioPoe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684181398,"creation_date":1684181398,"answer_id":76257645,"question_id":50668961,"body_markdown":"If javax still has no implementation for Samesite, you can try extending the Cookie class and using a cookie library that already has a Samesite implementation. In my case it was Springframework ResponseCookie class. \r\n\r\nHere is the extended class\r\n\r\n    public class SamesiteHttpServletResponse extends HttpServletResponseWrapper\r\n    {\r\n    \r\n      public SamesiteHttpServletResponse(HttpServletResponse response)\r\n      {\r\n        super(response);\r\n      }\r\n    \r\n      @Override\r\n      public void addCookie(Cookie cookie)\r\n      {\r\n    \r\n        ResponseCookie responseCookie = ResponseCookie\r\n          .from(cookie.getName(), cookie.getValue())\r\n          .secure(true)\r\n          .httpOnly(true)\r\n          .path(cookie.getPath())\r\n          .maxAge(cookie.getMaxAge())\r\n          .sameSite(&quot;Lax&quot;)\r\n          .build();\r\n    \r\n          this.addHeader(HttpHeaders.SET_COOKIE, responseCookie.toString());\r\n      }\r\n    \r\n      }\r\n\r\nThen use this class by exposing HttpServletResponse and adding cookies to that response. For example: \r\n\r\n\r\n    public void exampleMethod(HttpServletResponse res){\r\n    \r\n    HttpServletResponse response = new SamesiteHttpServletResponse(res); \r\n    \r\n    // create or get a hold of the javax Cookie you want to add the samesite to\r\n    \r\n    response.addCookie(mycookie); \r\n    \r\n    }\r\n\r\n","title":"How to set SameSite attribute?","body":"<p>If javax still has no implementation for Samesite, you can try extending the Cookie class and using a cookie library that already has a Samesite implementation. In my case it was Springframework ResponseCookie class.</p>\n<p>Here is the extended class</p>\n<pre><code>public class SamesiteHttpServletResponse extends HttpServletResponseWrapper\n{\n\n  public SamesiteHttpServletResponse(HttpServletResponse response)\n  {\n    super(response);\n  }\n\n  @Override\n  public void addCookie(Cookie cookie)\n  {\n\n    ResponseCookie responseCookie = ResponseCookie\n      .from(cookie.getName(), cookie.getValue())\n      .secure(true)\n      .httpOnly(true)\n      .path(cookie.getPath())\n      .maxAge(cookie.getMaxAge())\n      .sameSite(&quot;Lax&quot;)\n      .build();\n\n      this.addHeader(HttpHeaders.SET_COOKIE, responseCookie.toString());\n  }\n\n  }\n</code></pre>\n<p>Then use this class by exposing HttpServletResponse and adding cookies to that response. For example:</p>\n<pre><code>public void exampleMethod(HttpServletResponse res){\n\nHttpServletResponse response = new SamesiteHttpServletResponse(res); \n\n// create or get a hold of the javax Cookie you want to add the samesite to\n\nresponse.addCookie(mycookie); \n\n}\n</code></pre>\n"}],"owner":{"account_id":9827160,"reputation":191,"user_id":7280032,"display_name":"mwyrzyk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27107,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":50704516,"answer_count":4,"score":7,"last_activity_date":1684181398,"creation_date":1528045899,"question_id":50668961,"body_markdown":"I have a problem with setting SameSite attribute in Cookie. I wanted to set this attribute, but neither `javax.servlet.http.Cookie` nor `java.net.HttpCookie` provide method to deal with it. Therefore, I have an idea to create a response `javax.servlet.Filter` that catch &quot;Set-Cookie&quot; header and add &quot;SameSite=Strict&quot; attribute. \r\n\r\n    response.setHeader(&quot;Set-Cookie&quot;, response.getHeader(&quot;Set-Cookie&quot;) + &quot;; SameSite=strict&quot;);\r\n\r\nIt works ok but problem appeares when I have more than one &quot;Set-Cookie&quot; header in one response. `javax.servlet.http.HttpServletResponse` does not provide method to remove or overwrite more than one heder with the same name (iterating over them and using `setHeader()` doesn&#39;t work because it always sets the last one). Do you have any idea how to set SameSite attribute to cookie or how to overwrite headers in response filter? \r\n\r\nThanks in advance.\r\n\r\n\r\n","title":"How to set SameSite attribute?","body":"<p>I have a problem with setting SameSite attribute in Cookie. I wanted to set this attribute, but neither <code>javax.servlet.http.Cookie</code> nor <code>java.net.HttpCookie</code> provide method to deal with it. Therefore, I have an idea to create a response <code>javax.servlet.Filter</code> that catch \"Set-Cookie\" header and add \"SameSite=Strict\" attribute. </p>\n\n<pre><code>response.setHeader(\"Set-Cookie\", response.getHeader(\"Set-Cookie\") + \"; SameSite=strict\");\n</code></pre>\n\n<p>It works ok but problem appeares when I have more than one \"Set-Cookie\" header in one response. <code>javax.servlet.http.HttpServletResponse</code> does not provide method to remove or overwrite more than one heder with the same name (iterating over them and using <code>setHeader()</code> doesn't work because it always sets the last one). Do you have any idea how to set SameSite attribute to cookie or how to overwrite headers in response filter? </p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","fire-sharp"],"answers":[{"comments":[{"owner":{"account_id":7313499,"reputation":337,"user_id":5571913,"accept_rate":85,"display_name":"FrenchyNYC"},"score":2,"creation_date":1487007805,"post_id":37483668,"comment_id":71581566,"body_markdown":"He didn&#39;t mark it as an answer because it does not answer his question since Firebase generates automatically a child with a random key whatever you push or set into the database.","body":"He didn&#39;t mark it as an answer because it does not answer his question since Firebase generates automatically a child with a random key whatever you push or set into the database."},{"owner":{"account_id":368567,"reputation":5435,"user_id":715458,"accept_rate":66,"display_name":"Bojan Kogoj"},"score":1,"creation_date":1490615028,"post_id":37483668,"comment_id":73175089,"body_markdown":"@FrenchyNYC Not if you use `.child(&#39;customkey&#39;)...`","body":"@FrenchyNYC Not if you use <code>.child(&#39;customkey&#39;)...</code>"},{"owner":{"account_id":2061715,"reputation":1475,"user_id":1838098,"display_name":"trojan"},"score":1,"creation_date":1493975104,"post_id":37483668,"comment_id":74641192,"body_markdown":"And how to do it with angularfire2?","body":"And how to do it with angularfire2?"},{"owner":{"account_id":5334136,"reputation":709,"user_id":4253794,"accept_rate":92,"display_name":"Diego"},"score":6,"creation_date":1497512985,"post_id":37483668,"comment_id":76112364,"body_markdown":"@trojan setting in the constructor: constructor(private db: AngularFireDatabase) you can do: this.db.database.ref().child(&#39;somechild&#39;).set(&#39;somevalue&#39;)","body":"@trojan setting in the constructor: constructor(private db: AngularFireDatabase) you can do: this.db.database.ref().child(&#39;somechild&#39;).set(&#39;somevalue&#39;)"},{"owner":{"account_id":6541280,"reputation":3498,"user_id":5058757,"accept_rate":62,"display_name":"azizj"},"score":0,"creation_date":1527354766,"post_id":37483668,"comment_id":88101409,"body_markdown":"How would you do this for an array of data with custom ids? push() can take a dictionary of data, but child() cannot","body":"How would you do this for an array of data with custom ids? push() can take a dictionary of data, but child() cannot"},{"owner":{"account_id":246505,"reputation":3023,"user_id":520702,"accept_rate":71,"display_name":"Horse"},"score":8,"creation_date":1581875621,"post_id":37483668,"comment_id":106574311,"body_markdown":"in 2020, `set()` should be used instead of `setValue()`","body":"in 2020, <code>set()</code> should be used instead of <code>setValue()</code>"}],"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":6,"down_vote_count":0,"up_vote_count":146,"is_accepted":false,"score":146,"last_activity_date":1684181246,"creation_date":1464352270,"answer_id":37483668,"question_id":37483406,"body_markdown":"Calling `push()` will generate a key for you. \r\n\r\nIf instead you use `child()`, you can determine the key/path yourself.\r\n\r\n    ref.child(&quot;Victor&quot;).setValue(&quot;setting custom key when pushing new data to firebase database&quot;);","title":"Setting custom key when pushing new data to firebase database","body":"<p>Calling <code>push()</code> will generate a key for you.</p>\n<p>If instead you use <code>child()</code>, you can determine the key/path yourself.</p>\n<pre><code>ref.child(&quot;Victor&quot;).setValue(&quot;setting custom key when pushing new data to firebase database&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8692931,"reputation":131,"user_id":6538685,"display_name":"Rand"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1633122685,"creation_date":1496414038,"answer_id":44331452,"question_id":37483406,"body_markdown":"You can create a custom key using **setValue()** even if the root contains many children\r\nfor example if &#39;Users&#39; is the root and you want to add users with email as a key it will be like this\r\n\r\n    firebase.child(&quot;firebase url&quot;).child(&quot;Users&quot;).child(&quot;user_1 email&quot;).setValue(...)\r\n\r\n    firebase.child(&quot;firebase url&quot;).child(&quot;Users&quot;).child(&quot;user_2 email&quot;).setValue(...)\r\n\r\netc","title":"Setting custom key when pushing new data to firebase database","body":"<p>You can create a custom key using <strong>setValue()</strong> even if the root contains many children\nfor example if 'Users' is the root and you want to add users with email as a key it will be like this</p>\n<pre><code>firebase.child(&quot;firebase url&quot;).child(&quot;Users&quot;).child(&quot;user_1 email&quot;).setValue(...)\n\nfirebase.child(&quot;firebase url&quot;).child(&quot;Users&quot;).child(&quot;user_2 email&quot;).setValue(...)\n</code></pre>\n<p>etc</p>\n"},{"comments":[{"owner":{"account_id":1051439,"reputation":24363,"user_id":1055279,"accept_rate":99,"display_name":"realtebo"},"score":0,"creation_date":1577884310,"post_id":44612182,"comment_id":105274115,"body_markdown":"if key key doesn&#39;t exists, it throws an error, because setValue is not defined","body":"if key key doesn&#39;t exists, it throws an error, because setValue is not defined"}],"tags":[],"owner":{"account_id":3517306,"reputation":459,"user_id":2940405,"display_name":"Mohmad Iqbal Lone"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1497765533,"creation_date":1497765533,"answer_id":44612182,"question_id":37483406,"body_markdown":"\r\n            String key=&quot;1234567sdfsf8&quot;;\r\n            //custom object\r\n            User user=new User();\r\n            DatabaseReference mDatabase;\r\n            mDatabase = FirebaseDatabase.getInstance().getReference();\r\n            mDatabase.child(&quot;Users&quot;).child(key).setValue(user);","title":"Setting custom key when pushing new data to firebase database","body":"<pre><code>        String key=\"1234567sdfsf8\";\n        //custom object\n        User user=new User();\n        DatabaseReference mDatabase;\n        mDatabase = FirebaseDatabase.getInstance().getReference();\n        mDatabase.child(\"Users\").child(key).setValue(user);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4315175,"reputation":4770,"user_id":3525279,"accept_rate":87,"display_name":"Phil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515510135,"creation_date":1515510135,"answer_id":48171011,"question_id":37483406,"body_markdown":"If you are using [FirebaseUI][1] :\r\n\r\n    private static final CollectionReference usersCollection = FirebaseFirestore.getInstance().collection(&quot;users&quot;);\r\n            \r\n    User user = new User(&quot;MyUsername&quot;, &quot;MyPictureUrl&quot;);\r\n    String userKey = &quot;1234567sdfsf8&quot;;\r\n            \r\n    usersCollection.document(userKey).set(user); //MAGIC LINE\r\n\r\n  [1]: https://github.com/firebase/FirebaseUI-Android\r\n","title":"Setting custom key when pushing new data to firebase database","body":"<p>If you are using <a href=\"https://github.com/firebase/FirebaseUI-Android\" rel=\"nofollow noreferrer\">FirebaseUI</a> :</p>\n\n<pre><code>private static final CollectionReference usersCollection = FirebaseFirestore.getInstance().collection(\"users\");\n\nUser user = new User(\"MyUsername\", \"MyPictureUrl\");\nString userKey = \"1234567sdfsf8\";\n\nusersCollection.document(userKey).set(user); //MAGIC LINE\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1011135,"reputation":18988,"user_id":1023687,"accept_rate":91,"display_name":"Talha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516619005,"creation_date":1516619005,"answer_id":48380096,"question_id":37483406,"body_markdown":"Just for sharing the knowledge.\r\n\r\nif you are using fire-sharp, you can create the custom key as follows\r\n\r\n                IFirebaseConfig config = new FirebaseConfig\r\n                {\r\n                    AuthSecret = &quot;SecretKey&quot;,\r\n                    BasePath = &quot;https://abc.firebaseio.com/&quot;,\r\n                    Host = &quot;abc.firebaseio.com/&quot;\r\n                };\r\n                IFirebaseClient client = new FirebaseClient(config);\r\n               \r\n                var obj = new Users\r\n                {\r\n                    FirstName = &quot;test&quot;,\r\n                    MiddleName = &quot;user&quot;,\r\n                    LastName = &quot;xyz&quot;\r\n                    \r\n                };\r\n               \r\n                SetResponse response = client.SetAsync(&quot;Profile&quot;, &quot;YourID&quot;);//you can use Set() as well\r\n                response = client.SetAsync(&quot;Profile/YourID&quot;, obj);//you can use Set() as well","title":"Setting custom key when pushing new data to firebase database","body":"<p>Just for sharing the knowledge.</p>\n\n<p>if you are using fire-sharp, you can create the custom key as follows</p>\n\n<pre><code>            IFirebaseConfig config = new FirebaseConfig\n            {\n                AuthSecret = \"SecretKey\",\n                BasePath = \"https://abc.firebaseio.com/\",\n                Host = \"abc.firebaseio.com/\"\n            };\n            IFirebaseClient client = new FirebaseClient(config);\n\n            var obj = new Users\n            {\n                FirstName = \"test\",\n                MiddleName = \"user\",\n                LastName = \"xyz\"\n\n            };\n\n            SetResponse response = client.SetAsync(\"Profile\", \"YourID\");//you can use Set() as well\n            response = client.SetAsync(\"Profile/YourID\", obj);//you can use Set() as well\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13167056,"reputation":527,"user_id":9510813,"display_name":"Tarsbir Singh"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1532855773,"creation_date":1532855773,"answer_id":51578878,"question_id":37483406,"body_markdown":"Simple and Fast\r\n\r\n     Map&lt;String,Object&gt; taskMap = new HashMap&lt;&gt;();\r\n           taskMap.put(&quot;Name&quot;, name.getText().toString());\r\n           taskMap.put(&quot;km&quot;, km.getText().toString());\r\n          // taskMap.put(&quot;age&quot;, &quot;45&quot;);\r\n           taskMap.put(&quot;Day&quot;, day.getText().toString());\r\n           mDatabaseReference.push().setValue(taskMap);","title":"Setting custom key when pushing new data to firebase database","body":"<p>Simple and Fast</p>\n\n<pre><code> Map&lt;String,Object&gt; taskMap = new HashMap&lt;&gt;();\n       taskMap.put(\"Name\", name.getText().toString());\n       taskMap.put(\"km\", km.getText().toString());\n      // taskMap.put(\"age\", \"45\");\n       taskMap.put(\"Day\", day.getText().toString());\n       mDatabaseReference.push().setValue(taskMap);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6702832,"reputation":396,"user_id":5168788,"display_name":"Alberto"},"comment_count":0,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1550723341,"creation_date":1550723341,"answer_id":54799270,"question_id":37483406,"body_markdown":"As an update to the top answer, the [Firebase API has been changed][1] and `setValue()` does not work anymore. Now you must use the `set()` function instead:\r\n\r\n    ref.child(&quot;Victor&quot;).set(&quot;setting custom key when pushing new data to firebase database&quot;);\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/js/firebase.database.Reference","title":"Setting custom key when pushing new data to firebase database","body":"<p>As an update to the top answer, the <a href=\"https://firebase.google.com/docs/reference/js/firebase.database.Reference\" rel=\"noreferrer\">Firebase API has been changed</a> and <code>setValue()</code> does not work anymore. Now you must use the <code>set()</code> function instead:</p>\n\n<pre><code>ref.child(\"Victor\").set(\"setting custom key when pushing new data to firebase database\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12180882,"reputation":368,"user_id":8892336,"display_name":"Arafat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553707422,"creation_date":1553707422,"answer_id":55383174,"question_id":37483406,"body_markdown":"if database reference child is fixed string, new value will not add. just it will update the previous value. for example :\r\n\r\n`DatabaseReference myRef = FirebaseDatabase.getInstance().getReference();\r\nString mText = // get data from editText or set your own custom data`\r\n\r\nnow if I insert data like this:\r\n\r\n`myRef.child(&quot;abc&quot;).child(&quot;cba&quot;).setValue(mText);`\r\n\r\nevery time I insert data it will update my previous data. It will not add new data. Because my reference is fixed here(`myRef.child(&quot;abc&quot;).child(&quot;cba&quot;)` // this one, which is always fixed). \r\n\r\nNow change the the value of child &quot;cba&quot; to a random or dynamic value which will not fix. For example:\r\n\r\n`Random rand = new Random();\r\n// Obtain a number between [0 - 49].\r\nint n = rand.nextInt(50);\r\nmyRef.child(&quot;abc&quot;).child(String.valueOf(n)).setValue(mText);`\r\n\r\nIn this case it will add a new value instead of updating. because this time reference is not fixed here. it is dynamic. push() method exactly do the same thing. it generates random key to maintain unique reference.\r\n","title":"Setting custom key when pushing new data to firebase database","body":"<p>if database reference child is fixed string, new value will not add. just it will update the previous value. for example :</p>\n\n<p><code>DatabaseReference myRef = FirebaseDatabase.getInstance().getReference();\nString mText = // get data from editText or set your own custom data</code></p>\n\n<p>now if I insert data like this:</p>\n\n<p><code>myRef.child(\"abc\").child(\"cba\").setValue(mText);</code></p>\n\n<p>every time I insert data it will update my previous data. It will not add new data. Because my reference is fixed here(<code>myRef.child(\"abc\").child(\"cba\")</code> // this one, which is always fixed). </p>\n\n<p>Now change the the value of child \"cba\" to a random or dynamic value which will not fix. For example:</p>\n\n<p><code>Random rand = new Random();\n// Obtain a number between [0 - 49].\nint n = rand.nextInt(50);\nmyRef.child(\"abc\").child(String.valueOf(n)).setValue(mText);</code></p>\n\n<p>In this case it will add a new value instead of updating. because this time reference is not fixed here. it is dynamic. push() method exactly do the same thing. it generates random key to maintain unique reference.</p>\n"},{"tags":[],"owner":{"account_id":14315490,"reputation":503,"user_id":10340381,"display_name":"pramod singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561381048,"creation_date":1561381048,"answer_id":56737105,"question_id":37483406,"body_markdown":"In POST request it will generate ID&#39;s but in PATCH, PUT request it will mention the key which will be provided by you.","title":"Setting custom key when pushing new data to firebase database","body":"<p>In POST request it will generate ID's but in PATCH, PUT request it will mention the key which will be provided by you.</p>\n"},{"tags":[],"owner":{"account_id":13996556,"reputation":938,"user_id":10109195,"display_name":"Energy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1604886738,"creation_date":1604886738,"answer_id":64744932,"question_id":37483406,"body_markdown":"let&#39;s say your db look like\r\n\r\n\r\n     &quot;BookShelf&quot; : {\r\n        &quot;book1&quot; : {\r\n          &quot;bookName&quot; : &quot;book1_push&quot;\r\n           ...\r\n         }\r\n\r\n\r\nyour code to be (don&#39;t use push(), push() generate a random key)\r\n\r\n    DatabaseReference mDatabase = FirebaseDatabase.getInstance().getReference();\r\n    Book data = new Book();\r\n    mDatabase.child(&quot;BookShelf&quot;).child(&quot;book1&quot;).setValue(data);\r\n        \r\n         \r\n\r\n","title":"Setting custom key when pushing new data to firebase database","body":"<p>let's say your db look like</p>\n<pre><code> &quot;BookShelf&quot; : {\n    &quot;book1&quot; : {\n      &quot;bookName&quot; : &quot;book1_push&quot;\n       ...\n     }\n</code></pre>\n<p>your code to be (don't use push(), push() generate a random key)</p>\n<pre><code>DatabaseReference mDatabase = FirebaseDatabase.getInstance().getReference();\nBook data = new Book();\nmDatabase.child(&quot;BookShelf&quot;).child(&quot;book1&quot;).setValue(data);\n    \n     \n</code></pre>\n"},{"tags":[],"owner":{"account_id":17522427,"reputation":559,"user_id":12708160,"display_name":"Awshaf Ishtiaque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619234193,"creation_date":1619234193,"answer_id":67239022,"question_id":37483406,"body_markdown":"If you are using Node.js to write to firebase Realtime Database here&#39;s a function:\r\n\r\n    function registerVibinScores( reference, childId, dataToWrite){\r\n\r\n        var ref = db.ref(reference); //vibinScores\r\n        usersRef = ref.child(childId);\r\n        usersRef.set(\r\n            dataToWrite\r\n        );\r\n\r\n    }\r\n\r\n    //Example to invoke it:\r\n    var vibinEntry = {\r\n        &quot;viberId&quot;: &quot;425904090208534528&quot;,\r\n        &quot;person&quot;: {\r\n            &quot;name&quot;: &quot;kukur&quot;,\r\n            &quot;score&quot;: 0,\r\n            &quot;id&quot;: &quot;425904090208534528&quot;\r\n        },\r\n        &quot;vibinScore&quot;: 0,\r\n        &quot;timeOfEntry&quot;: &quot;2021-04-19T16:59:23.077Z&quot;\r\n    }\r\n\r\n    registerVibinScores(&#39;vibinScores/allEntries&#39;, 112, vibinEntry);\r\n\r\n\r\n[The sample entry in your database would look like this][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0i2jO.png","title":"Setting custom key when pushing new data to firebase database","body":"<p>If you are using Node.js to write to firebase Realtime Database here's a function:</p>\n<pre><code>function registerVibinScores( reference, childId, dataToWrite){\n\n    var ref = db.ref(reference); //vibinScores\n    usersRef = ref.child(childId);\n    usersRef.set(\n        dataToWrite\n    );\n\n}\n\n//Example to invoke it:\nvar vibinEntry = {\n    &quot;viberId&quot;: &quot;425904090208534528&quot;,\n    &quot;person&quot;: {\n        &quot;name&quot;: &quot;kukur&quot;,\n        &quot;score&quot;: 0,\n        &quot;id&quot;: &quot;425904090208534528&quot;\n    },\n    &quot;vibinScore&quot;: 0,\n    &quot;timeOfEntry&quot;: &quot;2021-04-19T16:59:23.077Z&quot;\n}\n\nregisterVibinScores('vibinScores/allEntries', 112, vibinEntry);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0i2jO.png\" rel=\"nofollow noreferrer\">The sample entry in your database would look like this</a></p>\n"}],"owner":{"account_id":8525234,"reputation":601,"user_id":6390879,"display_name":"Victor Davis Lenz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75899,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"answer_count":11,"score":60,"last_activity_date":1684181246,"creation_date":1464351533,"question_id":37483406,"body_markdown":"Well, I am new to Firebase and I want to have my own keys while pushing new data to database. \r\n\r\nProblem:\r\n\r\n    FireBase.push().setValue(mapped_values);\r\n\r\nThis gives structure like below:\r\n\r\n![ database output][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/i9VCG.png\r\n\r\nHow can I create my own custom key there?\r\nSuch as username or something.","title":"Setting custom key when pushing new data to firebase database","body":"<p>Well, I am new to Firebase and I want to have my own keys while pushing new data to database. </p>\n\n<p>Problem:</p>\n\n<pre><code>FireBase.push().setValue(mapped_values);\n</code></pre>\n\n<p>This gives structure like below:</p>\n\n<p><img src=\"https://i.stack.imgur.com/i9VCG.png\" alt=\" database output\"></p>\n\n<p>How can I create my own custom key there?\nSuch as username or something.</p>\n"},{"tags":["java","json","spring","model-view-controller"],"answers":[{"comments":[{"owner":{"account_id":16583157,"reputation":63,"user_id":11983275,"display_name":"Kyeiv"},"score":1,"creation_date":1665672625,"post_id":74057492,"comment_id":130758662,"body_markdown":"I want to do It only in controller, using `@Valid` unfortunately does not work. When I add the change in config it works but everywhere so I have a lot of errors since I use ObjectMapper in other parts of the code.","body":"I want to do It only in controller, using <code>@Valid</code> unfortunately does not work. When I add the change in config it works but everywhere so I have a lot of errors since I use ObjectMapper in other parts of the code."},{"owner":{"account_id":26552100,"reputation":470,"user_id":20181249,"display_name":"Sandeep Kumar Nat"},"score":0,"creation_date":1665672991,"post_id":74057492,"comment_id":130758798,"body_markdown":"that could be the solution. I don&#39;t know exactly how your code is so can&#39;t say for sure, but try maybe that can work.","body":"that could be the solution. I don&#39;t know exactly how your code is so can&#39;t say for sure, but try maybe that can work."},{"owner":{"account_id":16583157,"reputation":63,"user_id":11983275,"display_name":"Kyeiv"},"score":0,"creation_date":1665673073,"post_id":74057492,"comment_id":130758834,"body_markdown":"unfortunately it works like your solution - so not exactly how I want it to","body":"unfortunately it works like your solution - so not exactly how I want it to"},{"owner":{"account_id":26552100,"reputation":470,"user_id":20181249,"display_name":"Sandeep Kumar Nat"},"score":0,"creation_date":1665673170,"post_id":74057492,"comment_id":130758869,"body_markdown":"maybe you can ask another question with sharing your code, that might help you to get your solution the way you want.","body":"maybe you can ask another question with sharing your code, that might help you to get your solution the way you want."}],"tags":[],"owner":{"account_id":26552100,"reputation":470,"user_id":20181249,"display_name":"Sandeep Kumar Nat"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1684180807,"creation_date":1665671302,"answer_id":74057492,"question_id":74057242,"body_markdown":"You can do this in the controller when saving:\r\n\r\n    @PostMapping(&quot;/add&quot;)\r\n    public ResponseEntity&lt;Body&gt; registerUser(@Valid @RequestBody Body saveUser) {\r\n        Body createdUser = userService.save(saveUser);\r\n        \r\n        return new ResponseEntity&lt;&gt;(createdUser, HttpStatus.CREATED);\r\n    }\r\n\r\nWhen Spring finds an argument annotated with @Valid, it automatically validates the argument and throws an exception if the validation fails.\r\n\r\nOr you can add this in the `application.properties`:\r\n\r\n    spring.jackson.deserialization.fail-on-unknown-properties=true\r\n\r\nThis helps us to make deserialization fail on unknown properties and throw an exception which we can handle using `handleHttpMessageNotReadable`.\r\n\r\nCreate controller advice to handle exceptions:\r\n\r\n    @ControllerAdvice\r\n    public class CustomExceptionHandler extends ResponseEntityExceptionHandler {\r\n        @Override\r\n        protected ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(\r\n                HttpMessageNotReadableException ex, HttpHeaders headers,\r\n                HttpStatus status, WebRequest request) {\r\n            return new ResponseEntity(&quot;Your Response Object&quot;, \r\n                    HttpStatus.INTERNAL_SERVER_ERROR);\r\n        } \r\n    }\r\n\r\n   \r\n","title":"How to not accept additional fields in incoming JSON request body","body":"<p>You can do this in the controller when saving:</p>\n<pre><code>@PostMapping(&quot;/add&quot;)\npublic ResponseEntity&lt;Body&gt; registerUser(@Valid @RequestBody Body saveUser) {\n    Body createdUser = userService.save(saveUser);\n    \n    return new ResponseEntity&lt;&gt;(createdUser, HttpStatus.CREATED);\n}\n</code></pre>\n<p>When Spring finds an argument annotated with @Valid, it automatically validates the argument and throws an exception if the validation fails.</p>\n<p>Or you can add this in the <code>application.properties</code>:</p>\n<pre><code>spring.jackson.deserialization.fail-on-unknown-properties=true\n</code></pre>\n<p>This helps us to make deserialization fail on unknown properties and throw an exception which we can handle using <code>handleHttpMessageNotReadable</code>.</p>\n<p>Create controller advice to handle exceptions:</p>\n<pre><code>@ControllerAdvice\npublic class CustomExceptionHandler extends ResponseEntityExceptionHandler {\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(\n            HttpMessageNotReadableException ex, HttpHeaders headers,\n            HttpStatus status, WebRequest request) {\n        return new ResponseEntity(&quot;Your Response Object&quot;, \n                HttpStatus.INTERNAL_SERVER_ERROR);\n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16296860,"reputation":579,"user_id":11768882,"display_name":"Arturo Mendes"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684143953,"creation_date":1684142801,"answer_id":76252644,"question_id":74057242,"body_markdown":"TL;DR;\r\n--\r\n\r\nIf you want the controller to return an error **when the `RequestBody` does not match what you are expecting** it is enough to add this to your `application.properties`:\r\n\r\n```\r\nspring.jackson.deserialization.fail-on-unknown-properties=true\r\n```\r\n\r\nThis will return a default 400 response on malformed requests.\r\n\r\nThe `@Valid` annotation\r\n--\r\n\r\n**Adding the `@Valid` annotation to your controller performs constraint validation** and it will only fail when, for example, you mark a field as to be of a maximum value of `1` but the request tries to set it to `2`. As per the docs:\r\n\r\n&gt; Marks a property, method parameter or method return type for validation cascading. Constraints defined on the object and its properties are validated when the property, method parameter or method return type is validated.\r\n\r\nBut **since you are not using any of the tools provided by `jakarta.validation` this annotation will have no effect on your code**.","title":"How to not accept additional fields in incoming JSON request body","body":"<h2>TL;DR;</h2>\n<p>If you want the controller to return an error <strong>when the <code>RequestBody</code> does not match what you are expecting</strong> it is enough to add this to your <code>application.properties</code>:</p>\n<pre><code>spring.jackson.deserialization.fail-on-unknown-properties=true\n</code></pre>\n<p>This will return a default 400 response on malformed requests.</p>\n<h2>The <code>@Valid</code> annotation</h2>\n<p><strong>Adding the <code>@Valid</code> annotation to your controller performs constraint validation</strong> and it will only fail when, for example, you mark a field as to be of a maximum value of <code>1</code> but the request tries to set it to <code>2</code>. As per the docs:</p>\n<blockquote>\n<p>Marks a property, method parameter or method return type for validation cascading. Constraints defined on the object and its properties are validated when the property, method parameter or method return type is validated.</p>\n</blockquote>\n<p>But <strong>since you are not using any of the tools provided by <code>jakarta.validation</code> this annotation will have no effect on your code</strong>.</p>\n"}],"owner":{"account_id":16583157,"reputation":63,"user_id":11983275,"display_name":"Kyeiv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1458,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1684180807,"creation_date":1665670344,"question_id":74057242,"body_markdown":"I have a Spring Boot server that listens on endpoint. I accept `@RequestBody` as an object:\r\n\r\n```\r\nclass Body {\r\n   private String name;\r\n}\r\n```\r\n\r\nI want it to accept requests like:\r\n\r\n```\r\n{\r\n   &quot;name&quot;: &quot;some_name&quot;\r\n}\r\n```\r\n\r\nHowever, it also accepts:\r\n\r\n```\r\n{\r\n   &quot;name&quot;: &quot;some_name&quot;,\r\n   &quot;dummy key&quot;:&quot;dummy key value&quot;\r\n}\r\n```\r\n\r\nIn that case I want it to throw error. How can I achieve it?","title":"How to not accept additional fields in incoming JSON request body","body":"<p>I have a Spring Boot server that listens on endpoint. I accept <code>@RequestBody</code> as an object:</p>\n<pre><code>class Body {\n   private String name;\n}\n</code></pre>\n<p>I want it to accept requests like:</p>\n<pre><code>{\n   &quot;name&quot;: &quot;some_name&quot;\n}\n</code></pre>\n<p>However, it also accepts:</p>\n<pre><code>{\n   &quot;name&quot;: &quot;some_name&quot;,\n   &quot;dummy key&quot;:&quot;dummy key value&quot;\n}\n</code></pre>\n<p>In that case I want it to throw error. How can I achieve it?</p>\n"},{"tags":["java","spring-boot","configuration","flyway","migrate"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684180688,"creation_date":1684180688,"answer_id":76257575,"question_id":76256353,"body_markdown":"`@Autowired` is being ignored as you&#39;re creating the instance of `FlywayCallback` and Spring knows nothing about it:\r\n\r\n```\r\nconfiguration.callbacks(new FlywayCallback());\r\n```\r\n\r\nThis means that it isn&#39;t a Spring-managed bean. To make it a Spring-managed bean you could, assuming its package is covered by component scanning, annotate it with `@Component`. Alternatively, you could return an instance of it from a `@Bean` method in a `@Configuration` class.","title":"Spring Boot Autowire Service inside custom Flywayconfiguration","body":"<p><code>@Autowired</code> is being ignored as you're creating the instance of <code>FlywayCallback</code> and Spring knows nothing about it:</p>\n<pre><code>configuration.callbacks(new FlywayCallback());\n</code></pre>\n<p>This means that it isn't a Spring-managed bean. To make it a Spring-managed bean you could, assuming its package is covered by component scanning, annotate it with <code>@Component</code>. Alternatively, you could return an instance of it from a <code>@Bean</code> method in a <code>@Configuration</code> class.</p>\n"}],"owner":{"account_id":15823020,"reputation":23,"user_id":21579284,"display_name":"bentinhoj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76257575,"answer_count":1,"score":0,"last_activity_date":1684180688,"creation_date":1684169991,"question_id":76256353,"body_markdown":"I use Flyway 8.5 and Springboot 2.7.\r\nI am trying to call a function from a service after the migration of flyway has been completed (i.e. at an After_Migrate event) which adjusts the database again.\r\n\r\n```\r\n@Configuration\r\npublic class FlywayConfiguration implements FlywayConfigurationCustomizer {\r\n\r\n    @Override\r\n    public void customize(FluentConfiguration configuration) {\r\n        configuration.callbacks(new FlywayCallback());\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class FlywayCallback extends BaseCallback {\r\n\r\n    @Autowired\r\n    @Lazy\r\n    private ProfileService profileService;\r\n    \r\n    @Override\r\n    public void handle(Event event, Context context) {\r\n        if (event == Event.AFTER_MIGRATE) {\r\n            profileService.setMissingThumbnailsForProfiles();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nHowever it doesn&#39;t quite work as profileService is always null.\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.api.FlywayException: Error while executing afterMigrate callback: null\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156) ~[spring-context-5.3.27.jar:5.3.27]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:910) ~[spring-context-5.3.27.jar:5.3.27]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.27.jar:5.3.27]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.11.jar:2.7.11]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.11.jar:2.7.11]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.11.jar:2.7.11]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.11.jar:2.7.11]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.11.jar:2.7.11]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.11.jar:2.7.11]\r\n\tat de.openknowledge.mipro2.Mipro2Application.main(Mipro2Application.java:11) ~[classes/:na]\r\nCaused by: org.flywaydb.core.api.FlywayException: Error while executing afterMigrate callback: null\r\n\tat org.flywaydb.core.internal.callback.DefaultCallbackExecutor.handleEvent(DefaultCallbackExecutor.java:136) ~[flyway-core-8.5.13.jar:na]\r\n\tat org.flywaydb.core.internal.callback.DefaultCallbackExecutor.execute(DefaultCallbackExecutor.java:129) ~[flyway-core-8.5.13.jar:na]\r\n\tat org.flywaydb.core.internal.callback.DefaultCallbackExecutor.lambda$execute$0(DefaultCallbackExecutor.java:116) ~[flyway-core-8.5.13.jar:na]\r\n\tat org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55) ~[flyway-core-8.5.13.jar:na]\r\n\tat org.flywaydb.core.internal.callback.DefaultCallbackExecutor.execute(DefaultCallbackExecutor.java:114) ~[flyway-core-8.5.13.jar:na]\r\n\tat org.flywaydb.core.internal.callback.DefaultCallbackExecutor.onMigrateOrUndoEvent(DefaultCallbackExecutor.java:70) ~[flyway-core-8.5.13.jar:na]\r\n\tat org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:114) ~[flyway-core-8.5.13.jar:na]\r\n\tat org.flywaydb.core.Flyway$1.execute(Flyway.java:172) ~[flyway-core-8.5.13.jar:na]\r\n\tat org.flywaydb.core.Flyway$1.execute(Flyway.java:124) ~[flyway-core-8.5.13.jar:na]\r\n\tat org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:205) ~[flyway-core-8.5.13.jar:na]\r\n\tat org.flywaydb.core.Flyway.migrate(Flyway.java:124) ~[flyway-core-8.5.13.jar:na]\r\n\tat org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-2.7.11.jar:2.7.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\t... 18 common frames omitted\r\nCaused by: java.lang.NullPointerException: null\r\n\tat de.openknowledge.mipro2.infrastructure.FlywayCallback.handle(FlywayCallback.java:20) ~[classes/:na]\r\n\tat org.flywaydb.core.internal.callback.DefaultCallbackExecutor.handleEvent(DefaultCallbackExecutor.java:134) ~[flyway-core-8.5.13.jar:na]\r\n\t... 31 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nI also tried to [This](https://stackoverflow.com/questions/48214783/flyway-spring-boot-autowired-beans-with-jpa-dependency) approach which results in a cyclic bean exception.","title":"Spring Boot Autowire Service inside custom Flywayconfiguration","body":"<p>I use Flyway 8.5 and Springboot 2.7.\nI am trying to call a function from a service after the migration of flyway has been completed (i.e. at an After_Migrate event) which adjusts the database again.</p>\n<pre><code>@Configuration\npublic class FlywayConfiguration implements FlywayConfigurationCustomizer {\n\n    @Override\n    public void customize(FluentConfiguration configuration) {\n        configuration.callbacks(new FlywayCallback());\n    }\n\n}\n</code></pre>\n<pre><code>public class FlywayCallback extends BaseCallback {\n\n    @Autowired\n    @Lazy\n    private ProfileService profileService;\n    \n    @Override\n    public void handle(Event event, Context context) {\n        if (event == Event.AFTER_MIGRATE) {\n            profileService.setMissingThumbnailsForProfiles();\n        }\n    }\n\n}\n</code></pre>\n<p>However it doesn't quite work as profileService is always null.</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.api.FlywayException: Error while executing afterMigrate callback: null\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156) ~[spring-context-5.3.27.jar:5.3.27]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:910) ~[spring-context-5.3.27.jar:5.3.27]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.27.jar:5.3.27]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.11.jar:2.7.11]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.11.jar:2.7.11]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.11.jar:2.7.11]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.11.jar:2.7.11]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.11.jar:2.7.11]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.11.jar:2.7.11]\n    at de.openknowledge.mipro2.Mipro2Application.main(Mipro2Application.java:11) ~[classes/:na]\nCaused by: org.flywaydb.core.api.FlywayException: Error while executing afterMigrate callback: null\n    at org.flywaydb.core.internal.callback.DefaultCallbackExecutor.handleEvent(DefaultCallbackExecutor.java:136) ~[flyway-core-8.5.13.jar:na]\n    at org.flywaydb.core.internal.callback.DefaultCallbackExecutor.execute(DefaultCallbackExecutor.java:129) ~[flyway-core-8.5.13.jar:na]\n    at org.flywaydb.core.internal.callback.DefaultCallbackExecutor.lambda$execute$0(DefaultCallbackExecutor.java:116) ~[flyway-core-8.5.13.jar:na]\n    at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55) ~[flyway-core-8.5.13.jar:na]\n    at org.flywaydb.core.internal.callback.DefaultCallbackExecutor.execute(DefaultCallbackExecutor.java:114) ~[flyway-core-8.5.13.jar:na]\n    at org.flywaydb.core.internal.callback.DefaultCallbackExecutor.onMigrateOrUndoEvent(DefaultCallbackExecutor.java:70) ~[flyway-core-8.5.13.jar:na]\n    at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:114) ~[flyway-core-8.5.13.jar:na]\n    at org.flywaydb.core.Flyway$1.execute(Flyway.java:172) ~[flyway-core-8.5.13.jar:na]\n    at org.flywaydb.core.Flyway$1.execute(Flyway.java:124) ~[flyway-core-8.5.13.jar:na]\n    at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:205) ~[flyway-core-8.5.13.jar:na]\n    at org.flywaydb.core.Flyway.migrate(Flyway.java:124) ~[flyway-core-8.5.13.jar:na]\n    at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-2.7.11.jar:2.7.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.27.jar:5.3.27]\n    ... 18 common frames omitted\nCaused by: java.lang.NullPointerException: null\n    at de.openknowledge.mipro2.infrastructure.FlywayCallback.handle(FlywayCallback.java:20) ~[classes/:na]\n    at org.flywaydb.core.internal.callback.DefaultCallbackExecutor.handleEvent(DefaultCallbackExecutor.java:134) ~[flyway-core-8.5.13.jar:na]\n    ... 31 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>I also tried to <a href=\"https://stackoverflow.com/questions/48214783/flyway-spring-boot-autowired-beans-with-jpa-dependency\">This</a> approach which results in a cyclic bean exception.</p>\n"},{"tags":["java","database","postgresql","rule-engine"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1684158687,"post_id":76254574,"comment_id":134471841,"body_markdown":"If your model is rarely changed - as you stated &quot;one time thing&quot; - then you should keep it in memory for better performance. I can think here about cache systems like Redis, Hazelcast or Aerospike. To name only few examples.","body":"If your model is rarely changed - as you stated &quot;one time thing&quot; - then you should keep it in memory for better performance. I can think here about cache systems like Redis, Hazelcast or Aerospike. To name only few examples."},{"owner":{"account_id":21762970,"reputation":39,"user_id":16067287,"display_name":"Mukund Mundhra"},"score":0,"creation_date":1684162321,"post_id":76254574,"comment_id":134472788,"body_markdown":"There are more than 20million conditions/rows, any of them can be true at any point of time. Keeping conditions cashed does not make sense for me. Can u suggest some other database?","body":"There are more than 20million conditions/rows, any of them can be true at any point of time. Keeping conditions cashed does not make sense for me. Can u suggest some other database?"},{"owner":{"account_id":4349512,"reputation":2216,"user_id":20151367,"display_name":"JohnH"},"score":0,"creation_date":1684179646,"post_id":76254574,"comment_id":134476736,"body_markdown":"Please update the post with the table&#39;s DDL including indexes.","body":"Please update the post with the table&#39;s DDL including indexes."},{"owner":{"account_id":4349512,"reputation":2216,"user_id":20151367,"display_name":"JohnH"},"score":0,"creation_date":1684193883,"post_id":76254574,"comment_id":134478751,"body_markdown":"Please post the actual probelmatic query and the results of running `EXPLAIN ANALYZE` on that query. Does the reported response time of ~1s apply to just the query, or does it include additional rule engine processing?","body":"Please post the actual probelmatic query and the results of running <code>EXPLAIN ANALYZE</code> on that query. Does the reported response time of ~1s apply to just the query, or does it include additional rule engine processing?"}],"owner":{"account_id":21762970,"reputation":39,"user_id":16067287,"display_name":"Mukund Mundhra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684180401,"creation_date":1684157201,"question_id":76254574,"body_markdown":"I have a use case where I have to save conditions in my database, this Is a one time thing. Once this is done we just provide the dto and need to get all the valid conditions. \r\nI have around 20million conditions.\r\nExample of a condition is as follows -&gt;\r\n\r\n    [\r\n      {\r\n        &quot;dataType&quot;: &quot;STRING&quot;,\r\n        &quot;operator&quot;: &quot;EQUALS&quot;,\r\n        &quot;criteria&quot;: &quot;model&quot;,\r\n        &quot;value&quot;: &quot;1000&quot;\r\n      },\r\n      {\r\n        &quot;dataType&quot;: &quot;STRING&quot;,\r\n        &quot;operator&quot;: &quot;EQUALS&quot;,\r\n        &quot;criteria&quot;: &quot;ID&quot;,\r\n        &quot;value&quot;: &quot;test2&quot;\r\n      },\r\n      {\r\n        &quot;dataType&quot;: &quot;STRING&quot;,\r\n        &quot;operator&quot;: &quot;GREATER_THAN&quot;,\r\n        &quot;criteria&quot;: &quot;DEVICE_MODEL&quot;,\r\n        &quot;value&quot;: &quot;100&quot;\r\n      }\r\n    ]\r\n\r\nAs you can see this is 1 condition. Right now I am using jsonb column in Postgres and when I get a request body I have a or condition and I just query for any matching response. \r\n\r\n    SELECT * FROM data WHERE condition_list @&gt; &#39;[{&quot;value&quot;: &quot;test2&quot;}]&#39; OR condition_list @&gt; &#39;[{&quot;value&quot;: &quot;1000&quot;}] .....&#39;;\r\n\r\nAnd In my codebase I am validating rest of the conditions. The response time for me is around 1s. I want much faster response time , to achieve this I will need a database which will give me a better response, by validating the complete conditions. \r\n\r\nRule engines seem to be slow. What should I plan on using? \r\nOr should I just stick with the jsonb column in psql ? \r\n\r\nMy service is running on spring boot. \r\n\r\nHere is the table ddl \r\n\r\n    CREATE TABLE IF NOT EXISTS public.data\r\n    (\r\n        id bigint NOT NULL DEFAULT nextval(&#39;data_id_seq&#39;::regclass),\r\n        condition_list jsonb,\r\n        return_value character varying(4000) COLLATE pg_catalog.&quot;default&quot;,\r\n        name character varying(255) COLLATE pg_catalog.&quot;default&quot;,\r\n        service_id character varying(255) COLLATE pg_catalog.&quot;default&quot;,\r\n        CONSTRAINT data PRIMARY KEY (id),\r\n        CONSTRAINT fk_dp FOREIGN KEY (name, service_id)\r\n            REFERENCES public.default_properties (name, service_id) MATCH SIMPLE\r\n            ON UPDATE NO ACTION\r\n            ON DELETE NO ACTION\r\n    )\r\n\r\n\r\n\r\nIndex is on jsonb column \r\n\r\n    CREATE INDEX idx_jsonb ON data USING GIN (condition_list jsonb_path_ops);\r\n\r\nReason of using a jsonb column is that there criteria are not fixed and sometimes there can be only 1 condition in the list , sometimes more than 5. So there will be so many columns that will be empty.","title":"I have a scenario where I need valid conditions existing in my database on the fly","body":"<p>I have a use case where I have to save conditions in my database, this Is a one time thing. Once this is done we just provide the dto and need to get all the valid conditions.\nI have around 20million conditions.\nExample of a condition is as follows -&gt;</p>\n<pre><code>[\n  {\n    &quot;dataType&quot;: &quot;STRING&quot;,\n    &quot;operator&quot;: &quot;EQUALS&quot;,\n    &quot;criteria&quot;: &quot;model&quot;,\n    &quot;value&quot;: &quot;1000&quot;\n  },\n  {\n    &quot;dataType&quot;: &quot;STRING&quot;,\n    &quot;operator&quot;: &quot;EQUALS&quot;,\n    &quot;criteria&quot;: &quot;ID&quot;,\n    &quot;value&quot;: &quot;test2&quot;\n  },\n  {\n    &quot;dataType&quot;: &quot;STRING&quot;,\n    &quot;operator&quot;: &quot;GREATER_THAN&quot;,\n    &quot;criteria&quot;: &quot;DEVICE_MODEL&quot;,\n    &quot;value&quot;: &quot;100&quot;\n  }\n]\n</code></pre>\n<p>As you can see this is 1 condition. Right now I am using jsonb column in Postgres and when I get a request body I have a or condition and I just query for any matching response.</p>\n<pre><code>SELECT * FROM data WHERE condition_list @&gt; '[{&quot;value&quot;: &quot;test2&quot;}]' OR condition_list @&gt; '[{&quot;value&quot;: &quot;1000&quot;}] .....';\n</code></pre>\n<p>And In my codebase I am validating rest of the conditions. The response time for me is around 1s. I want much faster response time , to achieve this I will need a database which will give me a better response, by validating the complete conditions.</p>\n<p>Rule engines seem to be slow. What should I plan on using?\nOr should I just stick with the jsonb column in psql ?</p>\n<p>My service is running on spring boot.</p>\n<p>Here is the table ddl</p>\n<pre><code>CREATE TABLE IF NOT EXISTS public.data\n(\n    id bigint NOT NULL DEFAULT nextval('data_id_seq'::regclass),\n    condition_list jsonb,\n    return_value character varying(4000) COLLATE pg_catalog.&quot;default&quot;,\n    name character varying(255) COLLATE pg_catalog.&quot;default&quot;,\n    service_id character varying(255) COLLATE pg_catalog.&quot;default&quot;,\n    CONSTRAINT data PRIMARY KEY (id),\n    CONSTRAINT fk_dp FOREIGN KEY (name, service_id)\n        REFERENCES public.default_properties (name, service_id) MATCH SIMPLE\n        ON UPDATE NO ACTION\n        ON DELETE NO ACTION\n)\n</code></pre>\n<p>Index is on jsonb column</p>\n<pre><code>CREATE INDEX idx_jsonb ON data USING GIN (condition_list jsonb_path_ops);\n</code></pre>\n<p>Reason of using a jsonb column is that there criteria are not fixed and sometimes there can be only 1 condition in the list , sometimes more than 5. So there will be so many columns that will be empty.</p>\n"},{"tags":["java","meta-inf"],"comments":[{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1674473889,"post_id":4544899,"comment_id":132714191,"body_markdown":"Related question: https://stackoverflow.com/q/70216/2987755","body":"Related question: <a href=\"https://stackoverflow.com/q/70216/2987755\">stackoverflow.com/q/70216/2987755</a>"}],"answers":[{"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":14,"creation_date":1577109119,"post_id":4547796,"comment_id":105094055,"body_markdown":"Whilst this may theoretically answer the question, [it would be preferable](//meta.stackexchange.com/q/8259) to include the essential parts of the answer here, and provide the link for reference.","body":"Whilst this may theoretically answer the question, <a href=\"//meta.stackexchange.com/q/8259\">it would be preferable</a> to include the essential parts of the answer here, and provide the link for reference."}],"tags":[],"owner":{"account_id":158014,"reputation":5676,"user_id":376340,"display_name":"kschneid"},"comment_count":1,"down_vote_count":5,"up_vote_count":23,"is_accepted":false,"score":18,"last_activity_date":1293555985,"creation_date":1293555985,"answer_id":4547796,"question_id":4544899,"body_markdown":"Take a look at the [`ServiceLoader` docs][1].\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html","title":"Java META-INF/services","body":"<p>Take a look at the <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html\" rel=\"noreferrer\"><code>ServiceLoader</code> docs</a>.</p>\n"},{"tags":[],"owner":{"account_id":6988253,"reputation":401,"user_id":5358368,"display_name":"Marco Sigismondi"},"comment_count":0,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1628420125,"creation_date":1539250246,"answer_id":52756718,"question_id":4544899,"body_markdown":"It&#39;s intended to store service provider configuration files. \r\n\r\nA Service provider is an implementation of a Service Provider Interface packaged as JAR.\r\n\r\nA Service loader discover and load all implementations declared in the service provider configuration file.\r\n\r\nA configuration file is a file named as the fully qualified name of the interface and its content is a list of fully qualified names of implementations.\r\n\r\nFollowing is an example of provider configuration file for  javax.servlet.ServletContainerInitializer that is used by Servlet 3.0 at webapp startup.\r\n\r\n    org.apache.jasper.servlet.JasperInitializer\r\n    org.springframework.web.SpringServletContainerInitializer\r\n\r\nIn this example\r\n\r\n - Tomcat is the Service Loader;\r\n - javax.servlet.ServletContainerInitializer is the Service Provider Interface\r\n - file named javax.servlet.ServletContainerInitializer is the Service Provider configuration file;\r\n - org.apache.jasper.servlet.JasperInitializer and org.springframework.web.SpringServletContainerInitializer are Service providers\r\n\r\nWhen tomcat startup webapp call both \r\n\r\n    onStartup(java.util.Set&lt;java.lang.Class&lt;?&gt;&gt; types, ServletContext context)\r\n\r\nmethods on JasperInitializer and SpringServletContainerInitializer classes\r\n\r\n","title":"Java META-INF/services","body":"<p>It's intended to store service provider configuration files.</p>\n<p>A Service provider is an implementation of a Service Provider Interface packaged as JAR.</p>\n<p>A Service loader discover and load all implementations declared in the service provider configuration file.</p>\n<p>A configuration file is a file named as the fully qualified name of the interface and its content is a list of fully qualified names of implementations.</p>\n<p>Following is an example of provider configuration file for  javax.servlet.ServletContainerInitializer that is used by Servlet 3.0 at webapp startup.</p>\n<pre><code>org.apache.jasper.servlet.JasperInitializer\norg.springframework.web.SpringServletContainerInitializer\n</code></pre>\n<p>In this example</p>\n<ul>\n<li>Tomcat is the Service Loader;</li>\n<li>javax.servlet.ServletContainerInitializer is the Service Provider Interface</li>\n<li>file named javax.servlet.ServletContainerInitializer is the Service Provider configuration file;</li>\n<li>org.apache.jasper.servlet.JasperInitializer and org.springframework.web.SpringServletContainerInitializer are Service providers</li>\n</ul>\n<p>When tomcat startup webapp call both</p>\n<pre><code>onStartup(java.util.Set&lt;java.lang.Class&lt;?&gt;&gt; types, ServletContext context)\n</code></pre>\n<p>methods on JasperInitializer and SpringServletContainerInitializer classes</p>\n"},{"comments":[{"owner":{"account_id":6615438,"reputation":1121,"user_id":5108875,"display_name":"vab2048"},"score":0,"creation_date":1651529063,"post_id":68700025,"comment_id":127381964,"body_markdown":"I think this is wrong. META-INF does not contain modules? Can you point to an example where they do?","body":"I think this is wrong. META-INF does not contain modules? Can you point to an example where they do?"}],"tags":[],"owner":{"account_id":10894943,"reputation":529,"user_id":8009264,"display_name":"Yuresh Karunanayake"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1628419680,"creation_date":1628419680,"answer_id":68700025,"question_id":4544899,"body_markdown":"Before Java 9, [ServiceLoader][1] find the implementations for a Service from the file in META-INF/services which has fully qualified name same as the Service interface. It contain list of fully qualified names of the implementations.\r\n\r\nFrom Java 9 It have modules and modules have module descriptors. \r\nThose &#39;module&#39; can define the services and their implementation that a ServiceLoader could load.\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html","title":"Java META-INF/services","body":"<p>Before Java 9, <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">ServiceLoader</a> find the implementations for a Service from the file in META-INF/services which has fully qualified name same as the Service interface. It contain list of fully qualified names of the implementations.</p>\n<p>From Java 9 It have modules and modules have module descriptors.\nThose 'module' can define the services and their implementation that a ServiceLoader could load.</p>\n"}],"owner":{"account_id":267560,"reputation":501,"user_id":555810,"display_name":"dialloc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26449,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"answer_count":3,"score":50,"last_activity_date":1684180338,"creation_date":1293527375,"question_id":4544899,"body_markdown":"What is the purpose of META-INF/services in Java ?","title":"Java META-INF/services","body":"<p>What is the purpose of META-INF/services in Java ?</p>\n"},{"tags":["java","neo4j"],"comments":[{"owner":{"account_id":101080,"reputation":69720,"user_id":272109,"display_name":"David Makogon"},"score":0,"creation_date":1480262736,"post_id":40816493,"comment_id":68879514,"body_markdown":"This seems like a tool/framework recommendation question. What you use is entirely up to your preference (assuming you even need one), and I doubt the generation of a UUID is going to have anywhere near the operation cost as a database call.","body":"This seems like a tool/framework recommendation question. What you use is entirely up to your preference (assuming you even need one), and I doubt the generation of a UUID is going to have anywhere near the operation cost as a database call."}],"answers":[{"tags":[],"owner":{"account_id":3180712,"reputation":8436,"user_id":2954199,"display_name":"William Lyon"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1480623753,"creation_date":1480623753,"answer_id":40919673,"question_id":40816493,"body_markdown":"It is true that you should not reference an internal id in an external system as internal ids are not stable. \r\n\r\nOne option for generating a UUID would be using the [`apoc.create.uuid`](https://neo4j-contrib.github.io/neo4j-apoc-procedures/#_creating_data) function available in the [apoc procedure library](https://github.com/neo4j-contrib/neo4j-apoc-procedures). For example:\r\n\r\n    CREATE (p:Person)\r\n    SET p.name = &quot;Bob&quot;,\r\n        p.uuid = apoc.create.uuid()\r\n\r\nSee [this blog post](https://neo4j.com/blog/intro-user-defined-procedures-apoc/) for more information on user defined procedures and functions. \r\n\r\n","title":"What is the best way to generatej uuid in java for neo4j nodes","body":"<p>It is true that you should not reference an internal id in an external system as internal ids are not stable. </p>\n\n<p>One option for generating a UUID would be using the <a href=\"https://neo4j-contrib.github.io/neo4j-apoc-procedures/#_creating_data\" rel=\"noreferrer\"><code>apoc.create.uuid</code></a> function available in the <a href=\"https://github.com/neo4j-contrib/neo4j-apoc-procedures\" rel=\"noreferrer\">apoc procedure library</a>. For example:</p>\n\n<pre><code>CREATE (p:Person)\nSET p.name = \"Bob\",\n    p.uuid = apoc.create.uuid()\n</code></pre>\n\n<p>See <a href=\"https://neo4j.com/blog/intro-user-defined-procedures-apoc/\" rel=\"noreferrer\">this blog post</a> for more information on user defined procedures and functions. </p>\n"},{"comments":[{"owner":{"account_id":4942306,"reputation":389,"user_id":3978694,"accept_rate":45,"display_name":"Prabudda Sri Rahal"},"score":1,"creation_date":1481007005,"post_id":40925126,"comment_id":69187518,"body_markdown":"@Luanna I have tried your suggestion and seems it generate string based uuid. Is there any performance impact in terms of searching and indexing using string based uuid rather than number based uuid?","body":"@Luanna I have tried your suggestion and seems it generate string based uuid. Is there any performance impact in terms of searching and indexing using string based uuid rather than number based uuid?"}],"tags":[],"owner":{"account_id":82853,"reputation":19225,"user_id":232671,"accept_rate":67,"display_name":"Luanne"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1480654950,"creation_date":1480654950,"answer_id":40925126,"question_id":40816493,"body_markdown":"Another option is to to use GraphAware UUID to assign UUIDs to nodes and optionally relationships, transparently. It will also make sure that the UUIDs are not changed or deleted.\r\n\r\nhttps://github.com/graphaware/neo4j-uuid\r\n\r\nDisclaimer: I work at GraphAware","title":"What is the best way to generatej uuid in java for neo4j nodes","body":"<p>Another option is to to use GraphAware UUID to assign UUIDs to nodes and optionally relationships, transparently. It will also make sure that the UUIDs are not changed or deleted.</p>\n\n<p><a href=\"https://github.com/graphaware/neo4j-uuid\" rel=\"nofollow noreferrer\">https://github.com/graphaware/neo4j-uuid</a></p>\n\n<p>Disclaimer: I work at GraphAware</p>\n"},{"tags":[],"owner":{"account_id":16292528,"reputation":71,"user_id":11765660,"display_name":"JohnSmith"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1684179965,"creation_date":1562770399,"answer_id":56973393,"question_id":40816493,"body_markdown":"Now Cypher has a `randomUUID` native function, see https://neo4j.com/docs/cypher-manual/current/functions/scalar/#functions-randomuuid\r\n\r\n &gt; The function randomUUID() returns a randomly-generated Universally Unique Identifier (UUID), also known as a Globally Unique Identifier (GUID). This is a 128-bit value with strong guarantees of uniqueness.\r\n\r\nExample:\r\n\r\n```\r\nRETURN randomUUID() AS uuid\r\n```","title":"What is the best way to generatej uuid in java for neo4j nodes","body":"<p>Now Cypher has a <code>randomUUID</code> native function, see <a href=\"https://neo4j.com/docs/cypher-manual/current/functions/scalar/#functions-randomuuid\" rel=\"nofollow noreferrer\">https://neo4j.com/docs/cypher-manual/current/functions/scalar/#functions-randomuuid</a></p>\n<blockquote>\n<p>The function randomUUID() returns a randomly-generated Universally Unique Identifier (UUID), also known as a Globally Unique Identifier (GUID). This is a 128-bit value with strong guarantees of uniqueness.</p>\n</blockquote>\n<p>Example:</p>\n<pre><code>RETURN randomUUID() AS uuid\n</code></pre>\n"}],"owner":{"account_id":4942306,"reputation":389,"user_id":3978694,"accept_rate":45,"display_name":"Prabudda Sri Rahal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5542,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":3,"score":5,"last_activity_date":1684179965,"creation_date":1480149310,"question_id":40816493,"body_markdown":"Neo4j does not recommend to use node id to store in third party system for later referencing. \r\n\r\n 1. So what is best ways to generate uuid in java for neo4j nodes?\r\n 2. Currently I&#39;m using UUID.randomUUID(); to generate uuid. Is there any performance impact for neo4j search if I use UUID.randomUUID()?\r\n","title":"What is the best way to generatej uuid in java for neo4j nodes","body":"<p>Neo4j does not recommend to use node id to store in third party system for later referencing. </p>\n\n<ol>\n<li>So what is best ways to generate uuid in java for neo4j nodes?</li>\n<li>Currently I'm using UUID.randomUUID(); to generate uuid. Is there any performance impact for neo4j search if I use UUID.randomUUID()?</li>\n</ol>\n"},{"tags":["java","swing","jtree","treemodel"],"owner":{"account_id":5830612,"reputation":93,"user_id":4595266,"accept_rate":56,"display_name":"cdubbs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684178912,"creation_date":1684178912,"question_id":76257387,"body_markdown":"I&#39;m try to create a custom JTree using Checkboxes following the code from [this post](https://stackoverflow.com/questions/70818575/checkbox-jtree-with-selectable-nodes/70825861#70825861). But I&#39;m running into three issues:\r\n\r\n1) When I try to change the name of one of the CheckBoxNodes (using the `keyReleased` handler), it wont update the text even though I am calling `model.nodeChanged(node);` this seems to have no effect unless I subsequently call `tree.updateUI();` which I understand is not the proper way to do things (even though it works).\r\n\r\n2) When I try to insert a CheckBoxNode, it is always adding it to the first NameVector because something is changing the selection when I press the &#39;a&#39; key as a trigger. I&#39;ve run through the KeyMappings and tried to consume the event, but it seems to occur before `keyReleased` is called. How do I disable this behavior?\r\n\r\n3) How do I correctly update the NameVector&#39;s text to reflect the current number of selected CheckBoxNodes and total CheckboxNodes that I have in the `NamedVector.toString()` function after I add/remove/check/uncheck a CheckBoxNode?\r\n\r\nThanks in advance!\r\n\r\n```\r\npublic class CheckBoxNodeTreeSample2 \r\n{\r\n    private JTree tree;\r\n    \r\n    public static void main(String... s)\r\n    {\r\n        new CheckBoxNodeTreeSample2();\r\n    }\r\n\r\n    public CheckBoxNodeTreeSample2() \r\n    {\r\n        JFrame frame = new JFrame(&quot;CheckBox Tree&quot;);\r\n    \r\n        CheckBoxNode accessibilityOptions[] = \r\n        {\r\n            new CheckBoxNode(&quot;Move system caret with focus/selection changes&quot;, false),\r\n            new CheckBoxNode(&quot;Always expand alt text for images&quot;, true) \r\n        };\r\n        CheckBoxNode browsingOptions[] = \r\n        {\r\n            new CheckBoxNode(&quot;Notify when downloads complete&quot;, true),\r\n            new CheckBoxNode(&quot;Disable script debugging&quot;, true),\r\n            new CheckBoxNode(&quot;Use AutoComplete&quot;, true),\r\n            new CheckBoxNode(&quot;Browse in a new process&quot;, false) \r\n        };\r\n      \r\n        Vector accessVector = new NamedVector(&quot;Accessibility&quot;,accessibilityOptions);\r\n        Vector browseVector = new NamedVector(&quot;Browsing&quot;, browsingOptions);\r\n\r\n        Object rootNodes[] = { accessVector, browseVector };\r\n        Vector rootVector = new NamedVector(&quot;Root&quot;, rootNodes);\r\n        tree = new JTree(rootVector);\r\n    \r\n        CheckBoxNodeRenderer renderer = new CheckBoxNodeRenderer();\r\n        tree.setCellRenderer(renderer);\r\n        tree.setCellEditor(new CheckBoxNodeEditor());\r\n        tree.setEditable(true);\r\n        //tree.setRootVisible(true);\r\n           \r\n        //expand the tree on launch\r\n        for(int i=0;i&lt;tree.getRowCount();++i) { tree.expandRow(i); }\r\n        \r\n\t\t// listen for changes in the selection\r\n\t\ttree.addTreeSelectionListener(new TreeSelectionListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void valueChanged(final TreeSelectionEvent e) {\r\n\t\t\t\tSystem.out.println(System.currentTimeMillis() + &quot;: selection changed&quot;);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// listen for changes in the model (including check box toggles)\r\n\t\ttree.getModel().addTreeModelListener(new TreeModelListener() \r\n\t\t{\r\n\t\t\t@Override\r\n\t\t\tpublic void treeNodesChanged(TreeModelEvent e) {\r\n\t\t\t\tSystem.out.println(System.currentTimeMillis() + &quot;: nodes changed&quot;);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void treeNodesInserted(final TreeModelEvent e) {\r\n\t\t\t\tSystem.out.println(System.currentTimeMillis() + &quot;: nodes inserted&quot;);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void treeNodesRemoved(final TreeModelEvent e) {\r\n\t\t\t\tSystem.out.println(System.currentTimeMillis() + &quot;: nodes removed&quot;);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void treeStructureChanged(final TreeModelEvent e) {\r\n\t\t\t\tSystem.out.println(System.currentTimeMillis() + &quot;: structure changed&quot;);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n        \r\n        JScrollPane scrollPane = new JScrollPane(tree);\r\n        frame.getContentPane().add(scrollPane, BorderLayout.CENTER);\r\n        frame.setSize(360, 260);\r\n        frame.setVisible(true);\r\n        \r\n        tree.addKeyListener(new KeyListener() \r\n\t    { \t\t\r\n\t    \tpublic void keyTyped(KeyEvent e) { }\r\n\t    \tpublic void keyPressed(KeyEvent e) { } \r\n\t    \tpublic void keyReleased(KeyEvent e) \r\n\t    \t{ \t\r\n\t\t\t\tTreePath treePath = tree.getSelectionPath();\t\r\n\t\t\t\tDefaultMutableTreeNode node = (DefaultMutableTreeNode)treePath.getLastPathComponent();\r\n\t\t\t\tObject userObject = node.getUserObject();\r\n\t\t\t\t\r\n\t\t\t\tif(e.getKeyChar() == &#39;a&#39;) //add\r\n\t\t\t\t{\t\t\t\t\r\n\t\t\t\t\t//only add to NamedVectors\r\n\t\t\t\t\tif(userObject instanceof NamedVector)\r\n\t\t\t\t\t{\t\t\t         \t\t\t\t\t\r\n\t\t\t\t\t\tDefaultTreeModel model = (DefaultTreeModel) tree.getModel();\t\t\t           \r\n\t\t\t            model.insertNodeInto(new DefaultMutableTreeNode(new CheckBoxNode(&quot;ADDED NODE &quot; + System.currentTimeMillis(), true)), node, node.getChildCount());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if(e.getKeyChar() == &#39;e&#39;) //edit\r\n\t\t\t\t{\t\t\t\t\r\n\t\t\t\t\t//Only edit CheckBoxNodes\r\n\t\t\t\t\tif(userObject instanceof CheckBoxNode)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tCheckBoxNode checkBoxNode = (CheckBoxNode)userObject;\r\n\t\t\t\t\t\tcheckBoxNode.setText(&quot;Edited at &quot;  + System.currentTimeMillis());\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tDefaultTreeModel model = (DefaultTreeModel) tree.getModel();\r\n\t\t\t\t\t\tnode.setUserObject(checkBoxNode);\r\n\t\t\t\t\t    model.nodeChanged(node);\r\n\t\t\t\t\t    //tree.updateUI(); \r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t}\t\r\n\t\t\t\telse if(e.getKeyChar() == &#39;r&#39;) //add\r\n\t\t\t\t{\t\t\t\t\t\t\t\r\n\t\t\t\t\t//Only remove CheckBoxNodes\r\n\t\t\t\t\tif(userObject instanceof CheckBoxNode)\r\n\t\t\t\t\t{\r\n\t\t\t       \r\n\t\t\t            DefaultMutableTreeNode currentNode = (DefaultMutableTreeNode) (treePath.getLastPathComponent());\r\n\t\t\t            MutableTreeNode parent = (MutableTreeNode)(currentNode.getParent());\r\n\t\t\t            if (parent != null) \r\n\t\t\t            {\r\n\t\t\t\t\t\t\tDefaultTreeModel model = (DefaultTreeModel) tree.getModel();\r\n\t\t\t                model.removeNodeFromParent(currentNode);\r\n\t\t\t            } \r\n\t\t\t\t    }\t\t\t\t   \t\t\t\t \r\n\t    \t\t}\t\r\n\t\t\t} \r\n\t    });\t\r\n    }\r\n}\r\n\r\nclass CheckBoxPanel extends JPanel\r\n{\r\n    public JCheckBox checkBox;\r\n    public JLabel label;\r\n\r\n    public CheckBoxPanel() \r\n    { \r\n        super();\r\n    \r\n        checkBox = new JCheckBox();\r\n        label = new JLabel();\r\n    \r\n        checkBox.setBorder(new EmptyBorder(0, 0, 0, 0));\r\n\r\n        add(checkBox);\r\n        add(label);\r\n        \r\n        //Passes KeyEvents to the tree\r\n        checkBox.addKeyListener(new KeyListener() \r\n\t    { \t\t\r\n\t    \tpublic void keyTyped(KeyEvent e) { }\r\n\t    \tpublic void keyPressed(KeyEvent e) { } \r\n\t    \tpublic void keyReleased(KeyEvent e) \r\n\t    \t{ \r\n\t    \t\tgetParent().dispatchEvent(e);\r\n\t\t\t} \r\n\t    });\r\n    }\r\n}\r\n\r\nclass CheckBoxNodeRenderer implements TreeCellRenderer \r\n{\r\n    private CheckBoxPanel leafRenderer = new CheckBoxPanel();\r\n\r\n    private DefaultTreeCellRenderer nonLeafRenderer = new DefaultTreeCellRenderer();\r\n\r\n    Color selectionBorderColor, selectionForeground, selectionBackground,\r\n                    textForeground, textBackground;\r\n\r\n    protected CheckBoxPanel getLeafRenderer() \r\n    {\r\n            return leafRenderer;\r\n    }\r\n\r\n    public CheckBoxNodeRenderer() {\r\n            Font fontValue;\r\n            fontValue = UIManager.getFont(&quot;Tree.font&quot;);\r\n            if (fontValue != null) {\r\n                    leafRenderer.checkBox.setFont(fontValue);\r\n                    leafRenderer.label.setFont(fontValue);\r\n            }\r\n            Boolean booleanValue = (Boolean) UIManager\r\n                            .get(&quot;Tree.drawsFocusBorderAroundIcon&quot;);\r\n            leafRenderer.checkBox.setFocusPainted((booleanValue != null)\r\n                            &amp;&amp; (booleanValue.booleanValue()));\r\n\r\n            selectionBorderColor = UIManager.getColor(&quot;Tree.selectionBorderColor&quot;);\r\n            selectionForeground = UIManager.getColor(&quot;Tree.selectionForeground&quot;);\r\n            selectionBackground = UIManager.getColor(&quot;Tree.selectionBackground&quot;);\r\n            textForeground = UIManager.getColor(&quot;Tree.textForeground&quot;);\r\n            textBackground = UIManager.getColor(&quot;Tree.textBackground&quot;);\r\n    }\r\n\r\n    public Component getTreeCellRendererComponent(JTree tree, Object value,\r\n                    boolean selected, boolean expanded, boolean leaf, int row,\r\n                    boolean hasFocus) {\r\n\r\n            Component returnValue;\r\n            if (leaf) {\r\n\r\n                    String stringValue = tree.convertValueToText(value, selected,\r\n                                    expanded, leaf, row, false);\r\n                    \r\n                    leafRenderer.checkBox.setSelected(false);\r\n                    leafRenderer.label.setText(stringValue);\r\n\r\n                    leafRenderer.setEnabled(tree.isEnabled());\r\n\r\n                    if (selected) {\r\n                            leafRenderer.setForeground(selectionForeground);\r\n                            leafRenderer.setBackground(selectionBackground);\r\n                    } else {\r\n                            leafRenderer.setForeground(textForeground);\r\n                            leafRenderer.setBackground(textBackground);\r\n                    }\r\n\r\n                    if ((value != null) &amp;&amp; (value instanceof DefaultMutableTreeNode)) {\r\n                            Object userObject = ((DefaultMutableTreeNode) value)\r\n                                            .getUserObject();\r\n                            if (userObject instanceof CheckBoxNode) {\r\n                                    CheckBoxNode node = (CheckBoxNode) userObject;                                        \r\n                                    leafRenderer.checkBox.setSelected(node.isSelected());\r\n                                    leafRenderer.label.setText(node.getText());\r\n                            }\r\n                    }\r\n                    returnValue = leafRenderer;\r\n            } else {\r\n                    returnValue = nonLeafRenderer.getTreeCellRendererComponent(tree,\r\n                                    value, selected, expanded, leaf, row, hasFocus);\r\n            }\r\n            return returnValue;\r\n    }\r\n}\r\n\r\nclass CheckBoxNodeEditor extends AbstractCellEditor implements TreeCellEditor {\r\n\r\n    CheckBoxNodeRenderer renderer = new CheckBoxNodeRenderer();\r\n\r\n    ChangeEvent changeEvent = null;\r\n\r\n    public Object getCellEditorValue() \r\n    {\r\n            CheckBoxPanel checkBoxPanel = renderer.getLeafRenderer();\r\n            CheckBoxNode checkBoxNode = new CheckBoxNode(checkBoxPanel.label.getText(), checkBoxPanel.checkBox.isSelected());\r\n            return checkBoxNode;\r\n    }\r\n\r\n    public boolean isCellEditable(EventObject event) {\r\n            boolean returnValue = false;\r\n            if (event instanceof MouseEvent) {\r\n                    MouseEvent mouseEvent = (MouseEvent) event;\r\n                    JTree tree = (JTree)event.getSource();\r\n\r\n                    TreePath path = tree.getPathForLocation(mouseEvent.getX(),\r\n                                    mouseEvent.getY());\r\n                    if (path != null) {\r\n                            Object node = path.getLastPathComponent();\r\n                            if ((node != null) &amp;&amp; (node instanceof DefaultMutableTreeNode)) {\r\n                                    DefaultMutableTreeNode treeNode = (DefaultMutableTreeNode) node;\r\n                                    Object userObject = treeNode.getUserObject();\r\n                                    returnValue = ((treeNode.isLeaf()) &amp;&amp; (userObject instanceof CheckBoxNode));   \r\n\r\n                            }\r\n                    }\r\n            }\r\n            return returnValue;\r\n    }\r\n\r\n    public Component getTreeCellEditorComponent(JTree tree, Object value,\r\n                    boolean selected, boolean expanded, boolean leaf, int row)  {\r\n\r\n            Component editor = renderer.getTreeCellRendererComponent(tree, value,\r\n                            true, expanded, leaf, row, true);\r\n\r\n            // editor always selected / focused\r\n            ItemListener itemListener = new ItemListener() {\r\n                    public void itemStateChanged(ItemEvent itemEvent) {\r\n                            if (stopCellEditing()) {\r\n                                    fireEditingStopped();\r\n                            }\r\n                    }\r\n            };\r\n            \r\n            if (editor instanceof CheckBoxPanel) \r\n            {\r\n                ((CheckBoxPanel) editor).checkBox.addItemListener(itemListener);\r\n            }\r\n\r\n            return editor;\r\n    }\r\n}\r\n\r\nclass CheckBoxNode {\r\n\t\r\n    String text;\r\n    boolean selected;\r\n\r\n    public CheckBoxNode(String text, boolean selected) {\r\n            this.text = text;\r\n            this.selected = selected;\r\n    }\r\n\r\n    public boolean isSelected() {\r\n            return selected;\r\n    }\r\n\r\n    public void setSelected(boolean newValue) {\r\n            selected = newValue;\r\n    }\r\n\r\n    public String getText() {\r\n            return text;\r\n    }\r\n\r\n    public void setText(String newValue) {\r\n            text = newValue;\r\n    }\r\n\r\n    public String toString() {\r\n            return getClass().getName() + &quot;[&quot; + text + &quot;/&quot; + selected + &quot;]&quot;;\r\n    }\r\n}\r\n\r\nclass NamedVector extends Vector \r\n{\r\n    String name;\r\n\r\n    public NamedVector(String name) {\r\n            this.name = name;\r\n    }\r\n\r\n    public NamedVector(String name, Object elements[]) {\r\n            this.name = name;\r\n            for (int i = 0, n = elements.length; i &lt; n; i++) {\r\n                    add(elements[i]);\r\n            }\r\n    }\r\n\r\n\tpublic String toString() \r\n\t{\r\n\t\tint selectedCount = 0;\r\n\t\tfor(int i = 0; i &lt; size(); i++)\r\n\t\t{\t\t\t\t\t\r\n\t\t\tif(get(i) instanceof CheckBoxNode)\r\n\t\t\t{\r\n\t\t\t\tif(((CheckBoxNode)get(i)).isSelected()) { selectedCount++; } \r\n\t\t\t}\r\n\t\t}\r\n\t\treturn name + &quot; [&quot; + selectedCount + &quot;/&quot; + size() + &quot;]&quot;;\r\n\t}\r\n}\r\n```","title":"JTree Issues Updating Nodes and with Key Handlers","body":"<p>I'm try to create a custom JTree using Checkboxes following the code from <a href=\"https://stackoverflow.com/questions/70818575/checkbox-jtree-with-selectable-nodes/70825861#70825861\">this post</a>. But I'm running into three issues:</p>\n<ol>\n<li><p>When I try to change the name of one of the CheckBoxNodes (using the <code>keyReleased</code> handler), it wont update the text even though I am calling <code>model.nodeChanged(node);</code> this seems to have no effect unless I subsequently call <code>tree.updateUI();</code> which I understand is not the proper way to do things (even though it works).</p>\n</li>\n<li><p>When I try to insert a CheckBoxNode, it is always adding it to the first NameVector because something is changing the selection when I press the 'a' key as a trigger. I've run through the KeyMappings and tried to consume the event, but it seems to occur before <code>keyReleased</code> is called. How do I disable this behavior?</p>\n</li>\n<li><p>How do I correctly update the NameVector's text to reflect the current number of selected CheckBoxNodes and total CheckboxNodes that I have in the <code>NamedVector.toString()</code> function after I add/remove/check/uncheck a CheckBoxNode?</p>\n</li>\n</ol>\n<p>Thanks in advance!</p>\n<pre><code>public class CheckBoxNodeTreeSample2 \n{\n    private JTree tree;\n    \n    public static void main(String... s)\n    {\n        new CheckBoxNodeTreeSample2();\n    }\n\n    public CheckBoxNodeTreeSample2() \n    {\n        JFrame frame = new JFrame(&quot;CheckBox Tree&quot;);\n    \n        CheckBoxNode accessibilityOptions[] = \n        {\n            new CheckBoxNode(&quot;Move system caret with focus/selection changes&quot;, false),\n            new CheckBoxNode(&quot;Always expand alt text for images&quot;, true) \n        };\n        CheckBoxNode browsingOptions[] = \n        {\n            new CheckBoxNode(&quot;Notify when downloads complete&quot;, true),\n            new CheckBoxNode(&quot;Disable script debugging&quot;, true),\n            new CheckBoxNode(&quot;Use AutoComplete&quot;, true),\n            new CheckBoxNode(&quot;Browse in a new process&quot;, false) \n        };\n      \n        Vector accessVector = new NamedVector(&quot;Accessibility&quot;,accessibilityOptions);\n        Vector browseVector = new NamedVector(&quot;Browsing&quot;, browsingOptions);\n\n        Object rootNodes[] = { accessVector, browseVector };\n        Vector rootVector = new NamedVector(&quot;Root&quot;, rootNodes);\n        tree = new JTree(rootVector);\n    \n        CheckBoxNodeRenderer renderer = new CheckBoxNodeRenderer();\n        tree.setCellRenderer(renderer);\n        tree.setCellEditor(new CheckBoxNodeEditor());\n        tree.setEditable(true);\n        //tree.setRootVisible(true);\n           \n        //expand the tree on launch\n        for(int i=0;i&lt;tree.getRowCount();++i) { tree.expandRow(i); }\n        \n        // listen for changes in the selection\n        tree.addTreeSelectionListener(new TreeSelectionListener() {\n            @Override\n            public void valueChanged(final TreeSelectionEvent e) {\n                System.out.println(System.currentTimeMillis() + &quot;: selection changed&quot;);\n            }\n        });\n\n        // listen for changes in the model (including check box toggles)\n        tree.getModel().addTreeModelListener(new TreeModelListener() \n        {\n            @Override\n            public void treeNodesChanged(TreeModelEvent e) {\n                System.out.println(System.currentTimeMillis() + &quot;: nodes changed&quot;);\n            }\n\n            @Override\n            public void treeNodesInserted(final TreeModelEvent e) {\n                System.out.println(System.currentTimeMillis() + &quot;: nodes inserted&quot;);\n            }\n\n            @Override\n            public void treeNodesRemoved(final TreeModelEvent e) {\n                System.out.println(System.currentTimeMillis() + &quot;: nodes removed&quot;);\n            }\n\n            @Override\n            public void treeStructureChanged(final TreeModelEvent e) {\n                System.out.println(System.currentTimeMillis() + &quot;: structure changed&quot;);\n            }\n        });\n        \n        \n        JScrollPane scrollPane = new JScrollPane(tree);\n        frame.getContentPane().add(scrollPane, BorderLayout.CENTER);\n        frame.setSize(360, 260);\n        frame.setVisible(true);\n        \n        tree.addKeyListener(new KeyListener() \n        {       \n            public void keyTyped(KeyEvent e) { }\n            public void keyPressed(KeyEvent e) { } \n            public void keyReleased(KeyEvent e) \n            {   \n                TreePath treePath = tree.getSelectionPath();    \n                DefaultMutableTreeNode node = (DefaultMutableTreeNode)treePath.getLastPathComponent();\n                Object userObject = node.getUserObject();\n                \n                if(e.getKeyChar() == 'a') //add\n                {               \n                    //only add to NamedVectors\n                    if(userObject instanceof NamedVector)\n                    {                                       \n                        DefaultTreeModel model = (DefaultTreeModel) tree.getModel();                       \n                        model.insertNodeInto(new DefaultMutableTreeNode(new CheckBoxNode(&quot;ADDED NODE &quot; + System.currentTimeMillis(), true)), node, node.getChildCount());\n                    }\n                }\n                else if(e.getKeyChar() == 'e') //edit\n                {               \n                    //Only edit CheckBoxNodes\n                    if(userObject instanceof CheckBoxNode)\n                    {\n                        CheckBoxNode checkBoxNode = (CheckBoxNode)userObject;\n                        checkBoxNode.setText(&quot;Edited at &quot;  + System.currentTimeMillis());\n                        \n                        DefaultTreeModel model = (DefaultTreeModel) tree.getModel();\n                        node.setUserObject(checkBoxNode);\n                        model.nodeChanged(node);\n                        //tree.updateUI(); \n                    }                   \n                }   \n                else if(e.getKeyChar() == 'r') //add\n                {                           \n                    //Only remove CheckBoxNodes\n                    if(userObject instanceof CheckBoxNode)\n                    {\n                   \n                        DefaultMutableTreeNode currentNode = (DefaultMutableTreeNode) (treePath.getLastPathComponent());\n                        MutableTreeNode parent = (MutableTreeNode)(currentNode.getParent());\n                        if (parent != null) \n                        {\n                            DefaultTreeModel model = (DefaultTreeModel) tree.getModel();\n                            model.removeNodeFromParent(currentNode);\n                        } \n                    }                                \n                }   \n            } \n        }); \n    }\n}\n\nclass CheckBoxPanel extends JPanel\n{\n    public JCheckBox checkBox;\n    public JLabel label;\n\n    public CheckBoxPanel() \n    { \n        super();\n    \n        checkBox = new JCheckBox();\n        label = new JLabel();\n    \n        checkBox.setBorder(new EmptyBorder(0, 0, 0, 0));\n\n        add(checkBox);\n        add(label);\n        \n        //Passes KeyEvents to the tree\n        checkBox.addKeyListener(new KeyListener() \n        {       \n            public void keyTyped(KeyEvent e) { }\n            public void keyPressed(KeyEvent e) { } \n            public void keyReleased(KeyEvent e) \n            { \n                getParent().dispatchEvent(e);\n            } \n        });\n    }\n}\n\nclass CheckBoxNodeRenderer implements TreeCellRenderer \n{\n    private CheckBoxPanel leafRenderer = new CheckBoxPanel();\n\n    private DefaultTreeCellRenderer nonLeafRenderer = new DefaultTreeCellRenderer();\n\n    Color selectionBorderColor, selectionForeground, selectionBackground,\n                    textForeground, textBackground;\n\n    protected CheckBoxPanel getLeafRenderer() \n    {\n            return leafRenderer;\n    }\n\n    public CheckBoxNodeRenderer() {\n            Font fontValue;\n            fontValue = UIManager.getFont(&quot;Tree.font&quot;);\n            if (fontValue != null) {\n                    leafRenderer.checkBox.setFont(fontValue);\n                    leafRenderer.label.setFont(fontValue);\n            }\n            Boolean booleanValue = (Boolean) UIManager\n                            .get(&quot;Tree.drawsFocusBorderAroundIcon&quot;);\n            leafRenderer.checkBox.setFocusPainted((booleanValue != null)\n                            &amp;&amp; (booleanValue.booleanValue()));\n\n            selectionBorderColor = UIManager.getColor(&quot;Tree.selectionBorderColor&quot;);\n            selectionForeground = UIManager.getColor(&quot;Tree.selectionForeground&quot;);\n            selectionBackground = UIManager.getColor(&quot;Tree.selectionBackground&quot;);\n            textForeground = UIManager.getColor(&quot;Tree.textForeground&quot;);\n            textBackground = UIManager.getColor(&quot;Tree.textBackground&quot;);\n    }\n\n    public Component getTreeCellRendererComponent(JTree tree, Object value,\n                    boolean selected, boolean expanded, boolean leaf, int row,\n                    boolean hasFocus) {\n\n            Component returnValue;\n            if (leaf) {\n\n                    String stringValue = tree.convertValueToText(value, selected,\n                                    expanded, leaf, row, false);\n                    \n                    leafRenderer.checkBox.setSelected(false);\n                    leafRenderer.label.setText(stringValue);\n\n                    leafRenderer.setEnabled(tree.isEnabled());\n\n                    if (selected) {\n                            leafRenderer.setForeground(selectionForeground);\n                            leafRenderer.setBackground(selectionBackground);\n                    } else {\n                            leafRenderer.setForeground(textForeground);\n                            leafRenderer.setBackground(textBackground);\n                    }\n\n                    if ((value != null) &amp;&amp; (value instanceof DefaultMutableTreeNode)) {\n                            Object userObject = ((DefaultMutableTreeNode) value)\n                                            .getUserObject();\n                            if (userObject instanceof CheckBoxNode) {\n                                    CheckBoxNode node = (CheckBoxNode) userObject;                                        \n                                    leafRenderer.checkBox.setSelected(node.isSelected());\n                                    leafRenderer.label.setText(node.getText());\n                            }\n                    }\n                    returnValue = leafRenderer;\n            } else {\n                    returnValue = nonLeafRenderer.getTreeCellRendererComponent(tree,\n                                    value, selected, expanded, leaf, row, hasFocus);\n            }\n            return returnValue;\n    }\n}\n\nclass CheckBoxNodeEditor extends AbstractCellEditor implements TreeCellEditor {\n\n    CheckBoxNodeRenderer renderer = new CheckBoxNodeRenderer();\n\n    ChangeEvent changeEvent = null;\n\n    public Object getCellEditorValue() \n    {\n            CheckBoxPanel checkBoxPanel = renderer.getLeafRenderer();\n            CheckBoxNode checkBoxNode = new CheckBoxNode(checkBoxPanel.label.getText(), checkBoxPanel.checkBox.isSelected());\n            return checkBoxNode;\n    }\n\n    public boolean isCellEditable(EventObject event) {\n            boolean returnValue = false;\n            if (event instanceof MouseEvent) {\n                    MouseEvent mouseEvent = (MouseEvent) event;\n                    JTree tree = (JTree)event.getSource();\n\n                    TreePath path = tree.getPathForLocation(mouseEvent.getX(),\n                                    mouseEvent.getY());\n                    if (path != null) {\n                            Object node = path.getLastPathComponent();\n                            if ((node != null) &amp;&amp; (node instanceof DefaultMutableTreeNode)) {\n                                    DefaultMutableTreeNode treeNode = (DefaultMutableTreeNode) node;\n                                    Object userObject = treeNode.getUserObject();\n                                    returnValue = ((treeNode.isLeaf()) &amp;&amp; (userObject instanceof CheckBoxNode));   \n\n                            }\n                    }\n            }\n            return returnValue;\n    }\n\n    public Component getTreeCellEditorComponent(JTree tree, Object value,\n                    boolean selected, boolean expanded, boolean leaf, int row)  {\n\n            Component editor = renderer.getTreeCellRendererComponent(tree, value,\n                            true, expanded, leaf, row, true);\n\n            // editor always selected / focused\n            ItemListener itemListener = new ItemListener() {\n                    public void itemStateChanged(ItemEvent itemEvent) {\n                            if (stopCellEditing()) {\n                                    fireEditingStopped();\n                            }\n                    }\n            };\n            \n            if (editor instanceof CheckBoxPanel) \n            {\n                ((CheckBoxPanel) editor).checkBox.addItemListener(itemListener);\n            }\n\n            return editor;\n    }\n}\n\nclass CheckBoxNode {\n    \n    String text;\n    boolean selected;\n\n    public CheckBoxNode(String text, boolean selected) {\n            this.text = text;\n            this.selected = selected;\n    }\n\n    public boolean isSelected() {\n            return selected;\n    }\n\n    public void setSelected(boolean newValue) {\n            selected = newValue;\n    }\n\n    public String getText() {\n            return text;\n    }\n\n    public void setText(String newValue) {\n            text = newValue;\n    }\n\n    public String toString() {\n            return getClass().getName() + &quot;[&quot; + text + &quot;/&quot; + selected + &quot;]&quot;;\n    }\n}\n\nclass NamedVector extends Vector \n{\n    String name;\n\n    public NamedVector(String name) {\n            this.name = name;\n    }\n\n    public NamedVector(String name, Object elements[]) {\n            this.name = name;\n            for (int i = 0, n = elements.length; i &lt; n; i++) {\n                    add(elements[i]);\n            }\n    }\n\n    public String toString() \n    {\n        int selectedCount = 0;\n        for(int i = 0; i &lt; size(); i++)\n        {                   \n            if(get(i) instanceof CheckBoxNode)\n            {\n                if(((CheckBoxNode)get(i)).isSelected()) { selectedCount++; } \n            }\n        }\n        return name + &quot; [&quot; + selectedCount + &quot;/&quot; + size() + &quot;]&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","sorting","radix-sort"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1684156755,"post_id":76254453,"comment_id":134471375,"body_markdown":"Why not just sort the `float`s themselves? No need to convert to `int` or `String`.","body":"Why not just sort the <code>float</code>s themselves? No need to convert to <code>int</code> or <code>String</code>."},{"owner":{"account_id":10036978,"reputation":71,"user_id":17064199,"display_name":"benkyou"},"score":0,"creation_date":1684157368,"post_id":76254453,"comment_id":134471526,"body_markdown":"@Jorn How would I go about doing that? I thought they had to be `int`s because radix sort only handles integers. I converted it to `String` to find the longest decimal places.","body":"@Jorn How would I go about doing that? I thought they had to be <code>int</code>s because radix sort only handles integers. I converted it to <code>String</code> to find the longest decimal places."}],"answers":[{"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1684178358,"post_id":76254618,"comment_id":134476492,"body_markdown":"It could (isn&#39;t that pretty much what I have said in my answer?) - but to be honest, I don&#39;t think it would be faster than e.g. quicksort in practice as you probably don&#39;t have that many numbers to sort (you have to maintain all of the queues etc.). However, measure, don&#39;t guess!","body":"It could (isn&#39;t that pretty much what I have said in my answer?) - but to be honest, I don&#39;t think it would be faster than e.g. quicksort in practice as you probably don&#39;t have that many numbers to sort (you have to maintain all of the queues etc.). However, measure, don&#39;t guess!"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1684190009,"post_id":76254618,"comment_id":134478360,"body_markdown":"The OP is using `Queue`s for their radix sort implementation and having a `List` of `Queue`s _might_ harm locality (and boxed types are not that efficient as well).","body":"The OP is using <code>Queue</code>s for their radix sort implementation and having a <code>List</code> of <code>Queue</code>s <i>might</i> harm locality (and boxed types are not that efficient as well)."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1684190571,"post_id":76254618,"comment_id":134478415,"body_markdown":"Also, you need to at least pass through the whole mantissa for floating point numbers before reaching the exponent whereas you might be able to skip later iterations for integers if the values are relatively low (depending on the use-case).","body":"Also, you need to at least pass through the whole mantissa for floating point numbers before reaching the exponent whereas you might be able to skip later iterations for integers if the values are relatively low (depending on the use-case)."},{"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"score":0,"creation_date":1684203051,"post_id":76254618,"comment_id":134479623,"body_markdown":"There&#39;s the option of doing one most significant digit first, normally used to get each &quot;bucket&quot; to fit within cache. [Example code](https://stackoverflow.com/a/44792724/3282056).  In this case, the first digit could be 12 bits (sign bit, which in this case is 0, and exponent).","body":"There&#39;s the option of doing one most significant digit first, normally used to get each &quot;bucket&quot; to fit within cache. <a href=\"https://stackoverflow.com/a/44792724/3282056\">Example code</a>.  In this case, the first digit could be 12 bits (sign bit, which in this case is 0, and exponent)."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1684243188,"post_id":76254618,"comment_id":134486977,"body_markdown":"And how is that relevant to the question? The OP is not doing that.","body":"And how is that relevant to the question? The OP is not doing that."},{"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"score":0,"creation_date":1684251668,"post_id":76254618,"comment_id":134489441,"body_markdown":"The OP usage of queues is inefficient, but I don&#39;t see a significant difference between using the OP&#39;s implementation for longs, versus using it for doubles converted to longs. I deleted my prior comments.","body":"The OP usage of queues is inefficient, but I don&#39;t see a significant difference between using the OP&#39;s implementation for longs, versus using it for doubles converted to longs. I deleted my prior comments."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1684254869,"post_id":76254618,"comment_id":134490274,"body_markdown":"For `int`s, there might be the case where all of the numbers to sort are e.g. &lt;1024. In such cases, you could skip all passes after that point. For `double`s, this would not work so easily as one would hit a non-zero exponent. However, I meant this as something that _could_ happen which needs to be tested on a case-per-case basis.","body":"For <code>int</code>s, there might be the case where all of the numbers to sort are e.g. &lt;1024. In such cases, you could skip all passes after that point. For <code>double</code>s, this would not work so easily as one would hit a non-zero exponent. However, I meant this as something that <i>could</i> happen which needs to be tested on a case-per-case basis."},{"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"score":0,"creation_date":1684269377,"post_id":76254618,"comment_id":134493109,"body_markdown":"If the doubles were all integers in the range 0 to 1024, then the bottom 40 bits would be zero, and similar logic could be used to skip the passes before reaching the 40th bit.","body":"If the doubles were all integers in the range 0 to 1024, then the bottom 40 bits would be zero, and similar logic could be used to skip the passes before reaching the 40th bit."}],"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":8,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684178690,"creation_date":1684157500,"answer_id":76254618,"question_id":76254453,"body_markdown":"Floating point numbers can go over a wide range (they could be very close or very far from zero) so I would not use that approach. Instead, you could sort by sign, exponent and mantissa:\r\n\r\nYou could try using the binary representation. You can convert a floating point number to its binary representation using [`Double#doubleToRawLongBits`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Double.html#doubleToRawLongBits(double)) or similar.\r\n\r\nThen, you can extract the sign part, exponent and mantissa:\r\n```java\r\ndouble yourNumber=13.37;\r\nlong longRepresentation=Double.doubleToRawLongBits(yourNumber);\r\nlong sign=longRepresentation&amp;0x8000000000000000L;\r\nlong exponent = longRepresentation&amp;0x7ff0000000000000L;\r\nlong mantissa = longRepresentation&amp;0x000fffffffffffffL;\r\n```\r\n\r\nObserve that if the `long` representation of one number is greater than the other, the same holds for the corresponding floating point numbers.\r\n\r\nThe sign is at the same position as it would be for `long` values. Also, the exponent (which is more significant than the mantissa) is in the significant position. So, you could just sort the `long` representations instead of the actual `double`s. However, you should make sure that your sorting algorithm really works for negative numbers as well.\r\n\r\nSince you probably don&#39;t want to call `Double#doubleToLongBits` over and over, you might want to first convert your data `long`s first, then sort them and finally convert them back:\r\n```java\r\npublic static void radixSort(double[] array) {\r\n    long[] longArray=new long[array.length];\r\n    for(int i=0;i&lt;array.length;i++){\r\n        longArray[i]=Double.doubleToRawLongBits(array[i]);\r\n    }\r\n    radixSort(longArray);\r\n    for(int i=0;i&lt;array.length;i++){\r\n        array[i]=Double.longBitsToDouble(longArray[i]);\r\n    }\r\n}\r\n```\r\n\r\nIt shall be noted that it is very likely not efficient to use radix sort for `long` values due to their structure. Sorting algorithms based on comparison are probably more efficient if you don&#39;t have _that_ many numbers to sort.","title":"LSD radix sort in Java for positive floating points","body":"<p>Floating point numbers can go over a wide range (they could be very close or very far from zero) so I would not use that approach. Instead, you could sort by sign, exponent and mantissa:</p>\n<p>You could try using the binary representation. You can convert a floating point number to its binary representation using <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Double.html#doubleToRawLongBits(double)\" rel=\"nofollow noreferrer\"><code>Double#doubleToRawLongBits</code></a> or similar.</p>\n<p>Then, you can extract the sign part, exponent and mantissa:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double yourNumber=13.37;\nlong longRepresentation=Double.doubleToRawLongBits(yourNumber);\nlong sign=longRepresentation&amp;0x8000000000000000L;\nlong exponent = longRepresentation&amp;0x7ff0000000000000L;\nlong mantissa = longRepresentation&amp;0x000fffffffffffffL;\n</code></pre>\n<p>Observe that if the <code>long</code> representation of one number is greater than the other, the same holds for the corresponding floating point numbers.</p>\n<p>The sign is at the same position as it would be for <code>long</code> values. Also, the exponent (which is more significant than the mantissa) is in the significant position. So, you could just sort the <code>long</code> representations instead of the actual <code>double</code>s. However, you should make sure that your sorting algorithm really works for negative numbers as well.</p>\n<p>Since you probably don't want to call <code>Double#doubleToLongBits</code> over and over, you might want to first convert your data <code>long</code>s first, then sort them and finally convert them back:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void radixSort(double[] array) {\n    long[] longArray=new long[array.length];\n    for(int i=0;i&lt;array.length;i++){\n        longArray[i]=Double.doubleToRawLongBits(array[i]);\n    }\n    radixSort(longArray);\n    for(int i=0;i&lt;array.length;i++){\n        array[i]=Double.longBitsToDouble(longArray[i]);\n    }\n}\n</code></pre>\n<p>It shall be noted that it is very likely not efficient to use radix sort for <code>long</code> values due to their structure. Sorting algorithms based on comparison are probably more efficient if you don't have <em>that</em> many numbers to sort.</p>\n"}],"owner":{"account_id":10036978,"reputation":71,"user_id":17064199,"display_name":"benkyou"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76254618,"answer_count":1,"score":0,"last_activity_date":1684178690,"creation_date":1684156420,"question_id":76254453,"body_markdown":"I am implementing radix sort using queues. As of now, it works for sorting integers, but I want to modify it to sort positive floating points as well.\r\n\r\n```java\r\npublic static void radixSort(int[] array) {\r\n\tint max = getMaxElement(array);\r\n\r\n\tList&lt;Queue&lt;Integer&gt;&gt; queues = new ArrayList&lt;&gt;(10);\r\n\r\n\tfor (int i = 0; i &lt; 10; i++)\r\n\t\tqueues.add(new LinkedList&lt;&gt;());\r\n\r\n\t/* insert into queues based on radix */\r\n\tfor (int exp = 1; max / exp &gt; 1; exp *= 10) {\r\n\t\tfor (int value: array) {\r\n\t\t\tint digit = value / exp % 10;\r\n\t\t\tqueues.get(digit).add(value);\r\n\t\t}\r\n\t} \r\n\r\n\t/* dequeue into original array */\r\n\tint index = 0;\r\n\tfor (int i = 0; i &lt; 10; i++) {\r\n\t\twhile (!queue.get(i).isEmpty())\r\n\t\t\tarray[index++] = queues.get(i).remove();\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nI tried by finding the longest decimal places then multiplying each element in the array by 10 raised to the power of it so that the floating points can be sorted as integers. However, the method I used would require converting them to strings to find the `.` longest decimal places. Is there a more elegant way for sorting floating points?","title":"LSD radix sort in Java for positive floating points","body":"<p>I am implementing radix sort using queues. As of now, it works for sorting integers, but I want to modify it to sort positive floating points as well.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void radixSort(int[] array) {\n    int max = getMaxElement(array);\n\n    List&lt;Queue&lt;Integer&gt;&gt; queues = new ArrayList&lt;&gt;(10);\n\n    for (int i = 0; i &lt; 10; i++)\n        queues.add(new LinkedList&lt;&gt;());\n\n    /* insert into queues based on radix */\n    for (int exp = 1; max / exp &gt; 1; exp *= 10) {\n        for (int value: array) {\n            int digit = value / exp % 10;\n            queues.get(digit).add(value);\n        }\n    } \n\n    /* dequeue into original array */\n    int index = 0;\n    for (int i = 0; i &lt; 10; i++) {\n        while (!queue.get(i).isEmpty())\n            array[index++] = queues.get(i).remove();\n    }\n}\n\n</code></pre>\n<p>I tried by finding the longest decimal places then multiplying each element in the array by 10 raised to the power of it so that the floating points can be sorted as integers. However, the method I used would require converting them to strings to find the <code>.</code> longest decimal places. Is there a more elegant way for sorting floating points?</p>\n"},{"tags":["java","backend"],"owner":{"account_id":28607581,"reputation":1,"user_id":21903202,"display_name":"Rangesh Surendran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684178344,"creation_date":1684178344,"question_id":76257339,"body_markdown":"This is the sample CSV File, it was separated by header and footer\r\nso here I need to skip the last two lines from the input. I need only the two lines starting from 2234.... I want to skip those two lines starting from AccountNo....\r\n\r\n`223435434,CDF,0.00,-591.93,591.93,0.00,0.00,0.00,591.93\r\n223435434,CDF,0.00,-591.93,591.93,0.00,0.00,0.00,591.93\r\nAccountNo,Currency,EQ_SettledCashBalance,EQ_OutstandingCash,EQ_TotalCashBalance,ETO_SettledCashBalance,ETO_OutstandingCash,ETO_TotalCashBalance,TotalCashBalance\r\nAccountNo,Currency,EQ_SettledCashBalance,EQ_OutstandingCash,EQ_TotalCashBalance,ETO_SettledCashBalance,ETO_OutstandingCash,ETO_TotalCashBalance,TotalCashBalance` \r\n\r\nHere is the Header code, \r\n```\r\n                .when(PredicateBuilder.and(header(Constants.EXCLUDE_HEADER).isEqualTo(Constants.HEADER),\r\n                        header(Exchange.SPLIT_INDEX).isLessThan(serviceMetaData.getSkipLines()))) // Skip configurable number of records\r\n                        .to(Constants.DUMMY_URI)\r\n                        .endChoice()\r\n```\r\nThe footer code as below,\r\n\r\n```\r\n //remove footer\r\n                .when(PredicateBuilder.and(header(Constants.EXCLUDE_FOOTER).isEqualTo(Constants.FOOTER),\r\n                        header(Exchange.SPLIT_COMPLETE).isLessThan(serviceMetaData.getSkipLines())))\r\n                .to(Constants.DUMMY_URI)\r\n                .endChoice()\r\n```\r\nI need to modify the footer code \r\nto skip the lines from the last as per given Skip line count using java.\r\n\r\n\r\n\r\n\r\n\r\nThanks for your support\r\n\r\nI need to modify the footer code \r\nto skip the lines from the last as per given Skip line count using java.","title":"Skip Footer lines from the CSV Input file starting from the last by given skip lines count in Java","body":"<p>This is the sample CSV File, it was separated by header and footer\nso here I need to skip the last two lines from the input. I need only the two lines starting from 2234.... I want to skip those two lines starting from AccountNo....</p>\n<p><code>223435434,CDF,0.00,-591.93,591.93,0.00,0.00,0.00,591.93 223435434,CDF,0.00,-591.93,591.93,0.00,0.00,0.00,591.93 AccountNo,Currency,EQ_SettledCashBalance,EQ_OutstandingCash,EQ_TotalCashBalance,ETO_SettledCashBalance,ETO_OutstandingCash,ETO_TotalCashBalance,TotalCashBalance AccountNo,Currency,EQ_SettledCashBalance,EQ_OutstandingCash,EQ_TotalCashBalance,ETO_SettledCashBalance,ETO_OutstandingCash,ETO_TotalCashBalance,TotalCashBalance</code></p>\n<p>Here is the Header code,</p>\n<pre><code>                .when(PredicateBuilder.and(header(Constants.EXCLUDE_HEADER).isEqualTo(Constants.HEADER),\n                        header(Exchange.SPLIT_INDEX).isLessThan(serviceMetaData.getSkipLines()))) // Skip configurable number of records\n                        .to(Constants.DUMMY_URI)\n                        .endChoice()\n</code></pre>\n<p>The footer code as below,</p>\n<pre><code> //remove footer\n                .when(PredicateBuilder.and(header(Constants.EXCLUDE_FOOTER).isEqualTo(Constants.FOOTER),\n                        header(Exchange.SPLIT_COMPLETE).isLessThan(serviceMetaData.getSkipLines())))\n                .to(Constants.DUMMY_URI)\n                .endChoice()\n</code></pre>\n<p>I need to modify the footer code\nto skip the lines from the last as per given Skip line count using java.</p>\n<p>Thanks for your support</p>\n<p>I need to modify the footer code\nto skip the lines from the last as per given Skip line count using java.</p>\n"},{"tags":["javascript","java","swagger","jersey"],"comments":[{"owner":{"account_id":10182380,"reputation":141,"user_id":7518651,"display_name":"Balaji"},"score":0,"creation_date":1684250899,"post_id":76257338,"comment_id":134489235,"body_markdown":"You have to skip the `swagger.json` path in the Interceptor to get the proper response.","body":"You have to skip the <code>swagger.json</code> path in the Interceptor to get the proper response."},{"owner":{"account_id":20669014,"reputation":31,"user_id":15175189,"display_name":"S Mugunthan kumar"},"score":0,"creation_date":1684341549,"post_id":76257338,"comment_id":134505429,"body_markdown":"Yes, made it same way you suggested","body":"Yes, made it same way you suggested"}],"owner":{"account_id":20669014,"reputation":31,"user_id":15175189,"display_name":"S Mugunthan kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684178328,"creation_date":1684178328,"question_id":76257338,"body_markdown":"I am trying to implement swagger in my project. it works fine in recent days I implemented a token to authenticate the API. After implementing the authorization when the swagger URL is loaded http://localhost:8080/bms2-api/swagger/ it loads UI and gives the message on the screen as **401: {&quot;msg&quot;: &quot;token not found&quot;, &quot;msgs&quot;:{&quot;*&quot;: &quot;token not found&quot;}, &quot;unauthorized&quot;: false} http://localhost:8080/bms2-api/api/swagger.json** I don&#39;t know how to pass the token in the header for swagger.json URL. Screen capture are given below\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TCfpC.png","title":"Swagger Documentation in jersey related framework swagger.json url needs authentication 401","body":"<p>I am trying to implement swagger in my project. it works fine in recent days I implemented a token to authenticate the API. After implementing the authorization when the swagger URL is loaded http://localhost:8080/bms2-api/swagger/ it loads UI and gives the message on the screen as <strong>401: {&quot;msg&quot;: &quot;token not found&quot;, &quot;msgs&quot;:{&quot;*&quot;: &quot;token not found&quot;}, &quot;unauthorized&quot;: false} http://localhost:8080/bms2-api/api/swagger.json</strong> I don't know how to pass the token in the header for swagger.json URL. Screen capture are given below\n<a href=\"https://i.stack.imgur.com/TCfpC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TCfpC.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684178036,"creation_date":1684178036,"answer_id":76257307,"question_id":76251064,"body_markdown":"I was able to get it running by auto wiring annotation context instead of using new operator. ","title":"Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path","body":"<p>I was able to get it running by auto wiring annotation context instead of using new operator.</p>\n"}],"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1684178036,"creation_date":1684128161,"question_id":76251064,"body_markdown":"I am trying to run a simple spring boot application but it&#39;s giving me below error which I am unable to resolve. I am able to connect to database using the same connection string as in `application.properties` file. Please advice\r\n\r\n    C:\\Users\\shiva\\.jdks\\jbr-17.0.6\\bin\\java.exe &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3\\lib\\idea_rt.jar=51074:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\Users\\shiva\\Documents\\spring-projects\\learn\\learn\\target\\classes;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-data-jpa\\3.0.6\\spring-boot-starter-data-jpa-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-aop\\3.0.6\\spring-boot-starter-aop-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-aop\\6.0.8\\spring-aop-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\aspectj\\aspectjweaver\\1.9.19\\aspectjweaver-1.9.19.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-jdbc\\3.0.6\\spring-boot-starter-jdbc-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\com\\zaxxer\\HikariCP\\5.0.1\\HikariCP-5.0.1.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-jdbc\\6.0.8\\spring-jdbc-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\hibernate\\orm\\hibernate-core\\6.1.7.Final\\hibernate-core-6.1.7.Final.jar;C:\\Users\\shiva\\.m2\\repository\\jakarta\\persistence\\jakarta.persistence-api\\3.1.0\\jakarta.persistence-api-3.1.0.jar;C:\\Users\\shiva\\.m2\\repository\\jakarta\\transaction\\jakarta.transaction-api\\2.0.1\\jakarta.transaction-api-2.0.1.jar;C:\\Users\\shiva\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.5.0.Final\\jboss-logging-3.5.0.Final.jar;C:\\Users\\shiva\\.m2\\repository\\org\\hibernate\\common\\hibernate-commons-annotations\\6.0.6.Final\\hibernate-commons-annotations-6.0.6.Final.jar;C:\\Users\\shiva\\.m2\\repository\\org\\jboss\\jandex\\2.4.2.Final\\jandex-2.4.2.Final.jar;C:\\Users\\shiva\\.m2\\repository\\com\\fasterxml\\classmate\\1.5.1\\classmate-1.5.1.jar;C:\\Users\\shiva\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.12.23\\byte-buddy-1.12.23.jar;C:\\Users\\shiva\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-runtime\\4.0.2\\jaxb-runtime-4.0.2.jar;C:\\Users\\shiva\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-core\\4.0.2\\jaxb-core-4.0.2.jar;C:\\Users\\shiva\\.m2\\repository\\org\\eclipse\\angus\\angus-activation\\2.0.0\\angus-activation-2.0.0.jar;C:\\Users\\shiva\\.m2\\repository\\org\\glassfish\\jaxb\\txw2\\4.0.2\\txw2-4.0.2.jar;C:\\Users\\shiva\\.m2\\repository\\com\\sun\\istack\\istack-commons-runtime\\4.1.1\\istack-commons-runtime-4.1.1.jar;C:\\Users\\shiva\\.m2\\repository\\jakarta\\inject\\jakarta.inject-api\\2.0.0\\jakarta.inject-api-2.0.0.jar;C:\\Users\\shiva\\.m2\\repository\\org\\antlr\\antlr4-runtime\\4.10.1\\antlr4-runtime-4.10.1.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\data\\spring-data-jpa\\3.0.5\\spring-data-jpa-3.0.5.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\data\\spring-data-commons\\3.0.5\\spring-data-commons-3.0.5.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-orm\\6.0.8\\spring-orm-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-context\\6.0.8\\spring-context-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-tx\\6.0.8\\spring-tx-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-beans\\6.0.8\\spring-beans-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\jakarta\\annotation\\jakarta.annotation-api\\2.1.1\\jakarta.annotation-api-2.1.1.jar;C:\\Users\\shiva\\.m2\\repository\\org\\slf4j\\slf4j-api\\2.0.7\\slf4j-api-2.0.7.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-aspects\\6.0.8\\spring-aspects-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-web\\3.0.6\\spring-boot-starter-web-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter\\3.0.6\\spring-boot-starter-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-logging\\3.0.6\\spring-boot-starter-logging-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\ch\\qos\\logback\\logback-classic\\1.4.7\\logback-classic-1.4.7.jar;C:\\Users\\shiva\\.m2\\repository\\ch\\qos\\logback\\logback-core\\1.4.7\\logback-core-1.4.7.jar;C:\\Users\\shiva\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-to-slf4j\\2.19.0\\log4j-to-slf4j-2.19.0.jar;C:\\Users\\shiva\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-api\\2.19.0\\log4j-api-2.19.0.jar;C:\\Users\\shiva\\.m2\\repository\\org\\slf4j\\jul-to-slf4j\\2.0.7\\jul-to-slf4j-2.0.7.jar;C:\\Users\\shiva\\.m2\\repository\\org\\yaml\\snakeyaml\\1.33\\snakeyaml-1.33.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-json\\3.0.6\\spring-boot-starter-json-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.14.2\\jackson-databind-2.14.2.jar;C:\\Users\\shiva\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.14.2\\jackson-annotations-2.14.2.jar;C:\\Users\\shiva\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-core\\2.14.2\\jackson-core-2.14.2.jar;C:\\Users\\shiva\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jdk8\\2.14.2\\jackson-datatype-jdk8-2.14.2.jar;C:\\Users\\shiva\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jsr310\\2.14.2\\jackson-datatype-jsr310-2.14.2.jar;C:\\Users\\shiva\\.m2\\repository\\com\\fasterxml\\jackson\\module\\jackson-module-parameter-names\\2.14.2\\jackson-module-parameter-names-2.14.2.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-tomcat\\3.0.6\\spring-boot-starter-tomcat-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-core\\10.1.8\\tomcat-embed-core-10.1.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-el\\10.1.8\\tomcat-embed-el-10.1.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-websocket\\10.1.8\\tomcat-embed-websocket-10.1.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-web\\6.0.8\\spring-web-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\io\\micrometer\\micrometer-observation\\1.10.6\\micrometer-observation-1.10.6.jar;C:\\Users\\shiva\\.m2\\repository\\io\\micrometer\\micrometer-commons\\1.10.6\\micrometer-commons-1.10.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-webmvc\\6.0.8\\spring-webmvc-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-expression\\6.0.8\\spring-expression-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-devtools\\3.0.6\\spring-boot-devtools-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\3.0.6\\spring-boot-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-autoconfigure\\3.0.6\\spring-boot-autoconfigure-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\jakarta\\xml\\bind\\jakarta.xml.bind-api\\4.0.0\\jakarta.xml.bind-api-4.0.0.jar;C:\\Users\\shiva\\.m2\\repository\\jakarta\\activation\\jakarta.activation-api\\2.1.1\\jakarta.activation-api-2.1.1.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-core\\6.0.8\\spring-core-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-jcl\\6.0.8\\spring-jcl-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\com\\oracle\\database\\jdbc\\ojdbc8\\21.7.0.0\\ojdbc8-21.7.0.0.jar com.shivam.learn.LearnApplication debug\r\n    \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::                (v3.0.6)\r\n    \r\n    2023-05-15T10:43:26.370+05:30  INFO 14460 --- [  restartedMain] com.shivam.learn.LearnApplication        : Starting LearnApplication using Java 17.0.6 with PID 14460 (C:\\Users\\shiva\\Documents\\spring-projects\\learn\\learn\\target\\classes started by shiva in C:\\Users\\shiva\\Documents\\spring-projects\\learn\\learn)\r\n    2023-05-15T10:43:26.374+05:30  INFO 14460 --- [  restartedMain] com.shivam.learn.LearnApplication        : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-05-15T10:43:26.454+05:30  INFO 14460 --- [  restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\\Users\\shiva\\.m2\\repository\\com\\oracle\\database\\jdbc\\ojdbc8\\21.7.0.0\\ojdbc8-21.7.0.0.jar referenced one or more files that do not exist: file:/C:/Users/shiva/.m2/repository/com/oracle/database/jdbc/ojdbc8/21.7.0.0/oraclepki.jar\r\n    2023-05-15T10:43:26.456+05:30  INFO 14460 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n    2023-05-15T10:43:26.457+05:30  INFO 14460 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n    2023-05-15T10:43:27.540+05:30  INFO 14460 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2023-05-15T10:43:27.569+05:30  INFO 14460 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 0 JPA repository interfaces.\r\n    2023-05-15T10:43:28.533+05:30  INFO 14460 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2023-05-15T10:43:28.552+05:30  INFO 14460 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2023-05-15T10:43:28.552+05:30  INFO 14460 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\r\n    2023-05-15T10:43:28.644+05:30  INFO 14460 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2023-05-15T10:43:28.647+05:30  INFO 14460 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2186 ms\r\n    2023-05-15T10:43:29.061+05:30  INFO 14460 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2023-05-15T10:43:29.154+05:30  INFO 14460 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\r\n    2023-05-15T10:43:29.585+05:30  INFO 14460 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2023-05-15T10:43:29.591+05:30  WARN 14460 --- [  restartedMain] c.zaxxer.hikari.util.DriverDataSource    : Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.\r\n    2023-05-15T10:43:30.038+05:30  INFO 14460 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection oracle.jdbc.driver.T4CConnection@2dfdda19\r\n    2023-05-15T10:43:30.041+05:30  INFO 14460 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2023-05-15T10:43:30.125+05:30  INFO 14460 --- [  restartedMain] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.OracleDialect\r\n    2023-05-15T10:43:30.841+05:30  INFO 14460 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2023-05-15T10:43:30.856+05:30  INFO 14460 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2023-05-15T10:43:30.946+05:30  WARN 14460 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    2023-05-15T10:43:31.607+05:30  INFO 14460 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n    2023-05-15T10:43:31.659+05:30  INFO 14460 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2023-05-15T10:43:31.678+05:30  INFO 14460 --- [  restartedMain] com.shivam.learn.LearnApplication        : Started LearnApplication in 5.718 seconds (process running for 7.515)\r\n    2023-05-15T10:43:31.870+05:30  INFO 14460 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2023-05-15T10:43:31.872+05:30  INFO 14460 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 JPA repository interfaces.\r\n    2023-05-15T10:43:31.907+05:30  WARN 14460 --- [  restartedMain] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception with message: Failed to determine a suitable driver class\r\n    2023-05-15T10:43:31.910+05:30  INFO 14460 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : \r\n    \r\n    Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n    2023-05-15T10:43:31.929+05:30 ERROR 14460 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n    \r\n    Reason: Failed to determine a suitable driver class\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider the following:\r\n    \tIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\r\n    \tIf you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\r\n    \r\n    2023-05-15T10:43:31.953+05:30  INFO 14460 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2023-05-15T10:43:31.958+05:30  INFO 14460 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n    2023-05-15T10:43:31.979+05:30  INFO 14460 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n    \r\n    Process finished with exit code 0\r\n\r\nBelow is my `application.properties` file. I changed my computer name few weeks ago due to which I had to update the listener.ora and tnsnames.ora files. After update I am able to connect to database successfully from sql developer and I am using those same connection details in my properties files which resolved the earlier issues related to connecting to database but this new issue I am unable to resolve and did not find much help on google.\r\n\r\n    spring.datasource.username=system\r\n    spring.datasource.password=system\r\n    spring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver\r\n    spring.jpa.hibernate.ddl-auto=create\r\n    spring.datasource.url=jdbc:oracle:thin:@localhost:1521:XE\r\n\r\n\r\nEDIT: When I remove `implements CommandLineRunne`r it starts fine, could you please help me start it with CommandLineRunner so I can learn things by printing on console.\r\n","title":"Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path","body":"<p>I am trying to run a simple spring boot application but it's giving me below error which I am unable to resolve. I am able to connect to database using the same connection string as in <code>application.properties</code> file. Please advice</p>\n<pre><code>C:\\Users\\shiva\\.jdks\\jbr-17.0.6\\bin\\java.exe &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3\\lib\\idea_rt.jar=51074:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\Users\\shiva\\Documents\\spring-projects\\learn\\learn\\target\\classes;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-data-jpa\\3.0.6\\spring-boot-starter-data-jpa-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-aop\\3.0.6\\spring-boot-starter-aop-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-aop\\6.0.8\\spring-aop-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\aspectj\\aspectjweaver\\1.9.19\\aspectjweaver-1.9.19.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-jdbc\\3.0.6\\spring-boot-starter-jdbc-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\com\\zaxxer\\HikariCP\\5.0.1\\HikariCP-5.0.1.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-jdbc\\6.0.8\\spring-jdbc-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\hibernate\\orm\\hibernate-core\\6.1.7.Final\\hibernate-core-6.1.7.Final.jar;C:\\Users\\shiva\\.m2\\repository\\jakarta\\persistence\\jakarta.persistence-api\\3.1.0\\jakarta.persistence-api-3.1.0.jar;C:\\Users\\shiva\\.m2\\repository\\jakarta\\transaction\\jakarta.transaction-api\\2.0.1\\jakarta.transaction-api-2.0.1.jar;C:\\Users\\shiva\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.5.0.Final\\jboss-logging-3.5.0.Final.jar;C:\\Users\\shiva\\.m2\\repository\\org\\hibernate\\common\\hibernate-commons-annotations\\6.0.6.Final\\hibernate-commons-annotations-6.0.6.Final.jar;C:\\Users\\shiva\\.m2\\repository\\org\\jboss\\jandex\\2.4.2.Final\\jandex-2.4.2.Final.jar;C:\\Users\\shiva\\.m2\\repository\\com\\fasterxml\\classmate\\1.5.1\\classmate-1.5.1.jar;C:\\Users\\shiva\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.12.23\\byte-buddy-1.12.23.jar;C:\\Users\\shiva\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-runtime\\4.0.2\\jaxb-runtime-4.0.2.jar;C:\\Users\\shiva\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-core\\4.0.2\\jaxb-core-4.0.2.jar;C:\\Users\\shiva\\.m2\\repository\\org\\eclipse\\angus\\angus-activation\\2.0.0\\angus-activation-2.0.0.jar;C:\\Users\\shiva\\.m2\\repository\\org\\glassfish\\jaxb\\txw2\\4.0.2\\txw2-4.0.2.jar;C:\\Users\\shiva\\.m2\\repository\\com\\sun\\istack\\istack-commons-runtime\\4.1.1\\istack-commons-runtime-4.1.1.jar;C:\\Users\\shiva\\.m2\\repository\\jakarta\\inject\\jakarta.inject-api\\2.0.0\\jakarta.inject-api-2.0.0.jar;C:\\Users\\shiva\\.m2\\repository\\org\\antlr\\antlr4-runtime\\4.10.1\\antlr4-runtime-4.10.1.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\data\\spring-data-jpa\\3.0.5\\spring-data-jpa-3.0.5.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\data\\spring-data-commons\\3.0.5\\spring-data-commons-3.0.5.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-orm\\6.0.8\\spring-orm-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-context\\6.0.8\\spring-context-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-tx\\6.0.8\\spring-tx-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-beans\\6.0.8\\spring-beans-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\jakarta\\annotation\\jakarta.annotation-api\\2.1.1\\jakarta.annotation-api-2.1.1.jar;C:\\Users\\shiva\\.m2\\repository\\org\\slf4j\\slf4j-api\\2.0.7\\slf4j-api-2.0.7.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-aspects\\6.0.8\\spring-aspects-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-web\\3.0.6\\spring-boot-starter-web-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter\\3.0.6\\spring-boot-starter-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-logging\\3.0.6\\spring-boot-starter-logging-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\ch\\qos\\logback\\logback-classic\\1.4.7\\logback-classic-1.4.7.jar;C:\\Users\\shiva\\.m2\\repository\\ch\\qos\\logback\\logback-core\\1.4.7\\logback-core-1.4.7.jar;C:\\Users\\shiva\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-to-slf4j\\2.19.0\\log4j-to-slf4j-2.19.0.jar;C:\\Users\\shiva\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-api\\2.19.0\\log4j-api-2.19.0.jar;C:\\Users\\shiva\\.m2\\repository\\org\\slf4j\\jul-to-slf4j\\2.0.7\\jul-to-slf4j-2.0.7.jar;C:\\Users\\shiva\\.m2\\repository\\org\\yaml\\snakeyaml\\1.33\\snakeyaml-1.33.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-json\\3.0.6\\spring-boot-starter-json-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.14.2\\jackson-databind-2.14.2.jar;C:\\Users\\shiva\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.14.2\\jackson-annotations-2.14.2.jar;C:\\Users\\shiva\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-core\\2.14.2\\jackson-core-2.14.2.jar;C:\\Users\\shiva\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jdk8\\2.14.2\\jackson-datatype-jdk8-2.14.2.jar;C:\\Users\\shiva\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jsr310\\2.14.2\\jackson-datatype-jsr310-2.14.2.jar;C:\\Users\\shiva\\.m2\\repository\\com\\fasterxml\\jackson\\module\\jackson-module-parameter-names\\2.14.2\\jackson-module-parameter-names-2.14.2.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-tomcat\\3.0.6\\spring-boot-starter-tomcat-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-core\\10.1.8\\tomcat-embed-core-10.1.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-el\\10.1.8\\tomcat-embed-el-10.1.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-websocket\\10.1.8\\tomcat-embed-websocket-10.1.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-web\\6.0.8\\spring-web-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\io\\micrometer\\micrometer-observation\\1.10.6\\micrometer-observation-1.10.6.jar;C:\\Users\\shiva\\.m2\\repository\\io\\micrometer\\micrometer-commons\\1.10.6\\micrometer-commons-1.10.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-webmvc\\6.0.8\\spring-webmvc-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-expression\\6.0.8\\spring-expression-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-devtools\\3.0.6\\spring-boot-devtools-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\3.0.6\\spring-boot-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-autoconfigure\\3.0.6\\spring-boot-autoconfigure-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\jakarta\\xml\\bind\\jakarta.xml.bind-api\\4.0.0\\jakarta.xml.bind-api-4.0.0.jar;C:\\Users\\shiva\\.m2\\repository\\jakarta\\activation\\jakarta.activation-api\\2.1.1\\jakarta.activation-api-2.1.1.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-core\\6.0.8\\spring-core-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-jcl\\6.0.8\\spring-jcl-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\com\\oracle\\database\\jdbc\\ojdbc8\\21.7.0.0\\ojdbc8-21.7.0.0.jar com.shivam.learn.LearnApplication debug\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.6)\n\n2023-05-15T10:43:26.370+05:30  INFO 14460 --- [  restartedMain] com.shivam.learn.LearnApplication        : Starting LearnApplication using Java 17.0.6 with PID 14460 (C:\\Users\\shiva\\Documents\\spring-projects\\learn\\learn\\target\\classes started by shiva in C:\\Users\\shiva\\Documents\\spring-projects\\learn\\learn)\n2023-05-15T10:43:26.374+05:30  INFO 14460 --- [  restartedMain] com.shivam.learn.LearnApplication        : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-05-15T10:43:26.454+05:30  INFO 14460 --- [  restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\\Users\\shiva\\.m2\\repository\\com\\oracle\\database\\jdbc\\ojdbc8\\21.7.0.0\\ojdbc8-21.7.0.0.jar referenced one or more files that do not exist: file:/C:/Users/shiva/.m2/repository/com/oracle/database/jdbc/ojdbc8/21.7.0.0/oraclepki.jar\n2023-05-15T10:43:26.456+05:30  INFO 14460 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2023-05-15T10:43:26.457+05:30  INFO 14460 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2023-05-15T10:43:27.540+05:30  INFO 14460 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-05-15T10:43:27.569+05:30  INFO 14460 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 0 JPA repository interfaces.\n2023-05-15T10:43:28.533+05:30  INFO 14460 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-05-15T10:43:28.552+05:30  INFO 14460 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-05-15T10:43:28.552+05:30  INFO 14460 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\n2023-05-15T10:43:28.644+05:30  INFO 14460 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-05-15T10:43:28.647+05:30  INFO 14460 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2186 ms\n2023-05-15T10:43:29.061+05:30  INFO 14460 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-05-15T10:43:29.154+05:30  INFO 14460 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\n2023-05-15T10:43:29.585+05:30  INFO 14460 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-05-15T10:43:29.591+05:30  WARN 14460 --- [  restartedMain] c.zaxxer.hikari.util.DriverDataSource    : Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.\n2023-05-15T10:43:30.038+05:30  INFO 14460 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection oracle.jdbc.driver.T4CConnection@2dfdda19\n2023-05-15T10:43:30.041+05:30  INFO 14460 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-05-15T10:43:30.125+05:30  INFO 14460 --- [  restartedMain] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.OracleDialect\n2023-05-15T10:43:30.841+05:30  INFO 14460 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-05-15T10:43:30.856+05:30  INFO 14460 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-05-15T10:43:30.946+05:30  WARN 14460 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-05-15T10:43:31.607+05:30  INFO 14460 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2023-05-15T10:43:31.659+05:30  INFO 14460 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-05-15T10:43:31.678+05:30  INFO 14460 --- [  restartedMain] com.shivam.learn.LearnApplication        : Started LearnApplication in 5.718 seconds (process running for 7.515)\n2023-05-15T10:43:31.870+05:30  INFO 14460 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-05-15T10:43:31.872+05:30  INFO 14460 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 JPA repository interfaces.\n2023-05-15T10:43:31.907+05:30  WARN 14460 --- [  restartedMain] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class\n2023-05-15T10:43:31.910+05:30  INFO 14460 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-05-15T10:43:31.929+05:30 ERROR 14460 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n\n\nAction:\n\nConsider the following:\n    If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\n    If you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\n\n2023-05-15T10:43:31.953+05:30  INFO 14460 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2023-05-15T10:43:31.958+05:30  INFO 14460 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-05-15T10:43:31.979+05:30  INFO 14460 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n\nProcess finished with exit code 0\n</code></pre>\n<p>Below is my <code>application.properties</code> file. I changed my computer name few weeks ago due to which I had to update the listener.ora and tnsnames.ora files. After update I am able to connect to database successfully from sql developer and I am using those same connection details in my properties files which resolved the earlier issues related to connecting to database but this new issue I am unable to resolve and did not find much help on google.</p>\n<pre><code>spring.datasource.username=system\nspring.datasource.password=system\nspring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver\nspring.jpa.hibernate.ddl-auto=create\nspring.datasource.url=jdbc:oracle:thin:@localhost:1521:XE\n</code></pre>\n<p>EDIT: When I remove <code>implements CommandLineRunne</code>r it starts fine, could you please help me start it with CommandLineRunner so I can learn things by printing on console.</p>\n"},{"tags":["java","hibernate","postgresql","blob"],"comments":[{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":1,"creation_date":1551801115,"post_id":4645007,"comment_id":96768567,"body_markdown":"A caveat for large objects - as all chunks share the same system table, the limit on how much you can store in total is lower than for `bytea`.","body":"A caveat for large objects - as all chunks share the same system table, the limit on how much you can store in total is lower than for <code>bytea</code>."},{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1551801366,"post_id":4645007,"comment_id":96768709,"body_markdown":"Depending on what they are, `lo_compat_privileges` may solve the compatibility issues.","body":"Depending on what they are, <code>lo_compat_privileges</code> may solve the compatibility issues."}],"answers":[{"comments":[{"owner":{"account_id":1750416,"reputation":25628,"user_id":1599619,"accept_rate":100,"display_name":"Chris Travers"},"score":0,"creation_date":1384574980,"post_id":4645132,"comment_id":29802710,"body_markdown":"Also it isn&#39;t stored as hex, and I think libpq (and maybe even the protocol) has an interface for binary transfers of both.","body":"Also it isn&#39;t stored as hex, and I think libpq (and maybe even the protocol) has an interface for binary transfers of both."}],"tags":[],"owner":{"account_id":101001,"reputation":119808,"user_id":271959,"display_name":"Frank Heikens"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1294650453,"creation_date":1294650453,"answer_id":4645132,"question_id":4645007,"body_markdown":"&gt; But I am concerned that bytea fields\r\n&gt; are encoded in Hex\r\n\r\nbytea input can be in hex or escape format, that&#39;s your choice. Storage will be the same. As of version 9.0, the output default is hex, but you can change this by editting the parameter [bytea_output][1].\r\n\r\nI haven&#39;t seen any benchmarks.\r\n\r\n\r\n  [1]: http://www.postgresql.org/docs/current/interactive/runtime-config-client.html#GUC-BYTEA-OUTPUT","title":"PostgreSQL: BYTEA vs OID+Large Object?","body":"<blockquote>\n  <p>But I am concerned that bytea fields\n  are encoded in Hex</p>\n</blockquote>\n\n<p>bytea input can be in hex or escape format, that's your choice. Storage will be the same. As of version 9.0, the output default is hex, but you can change this by editting the parameter <a href=\"http://www.postgresql.org/docs/current/interactive/runtime-config-client.html#GUC-BYTEA-OUTPUT\" rel=\"noreferrer\">bytea_output</a>.</p>\n\n<p>I haven't seen any benchmarks.</p>\n"},{"tags":[],"owner":{"account_id":34837,"reputation":35511,"user_id":98530,"accept_rate":40,"display_name":"Peter Eisentraut"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1294667767,"creation_date":1294667767,"answer_id":4647517,"question_id":4645007,"body_markdown":"I don&#39;t have a comparison of large objects and bytea handy, but note that the switch to the hex output format in 9.0 was made also because it is faster than the previous custom encoding.  As far as text encoding of binary data goes, you probably won&#39;t get much faster than what there currently is.\r\n\r\nIf that is not good enough for you, you can consider using the binary protocol between PostgreSQL client and server.  Then you basically get the stuff straight from disk, much like large objects.  I don&#39;t know if the PostgreSQL JDBC supports that yet, but a quick search suggests no.","title":"PostgreSQL: BYTEA vs OID+Large Object?","body":"<p>I don't have a comparison of large objects and bytea handy, but note that the switch to the hex output format in 9.0 was made also because it is faster than the previous custom encoding.  As far as text encoding of binary data goes, you probably won't get much faster than what there currently is.</p>\n\n<p>If that is not good enough for you, you can consider using the binary protocol between PostgreSQL client and server.  Then you basically get the stuff straight from disk, much like large objects.  I don't know if the PostgreSQL JDBC supports that yet, but a quick search suggests no.</p>\n"},{"comments":[{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1551801372,"post_id":12278174,"comment_id":96768712,"body_markdown":"I assume large objects are compressed, same as TOASTed `bytea` columns?","body":"I assume large objects are compressed, same as TOASTed <code>bytea</code> columns?"}],"tags":[],"owner":{"account_id":1750416,"reputation":25628,"user_id":1599619,"accept_rate":100,"display_name":"Chris Travers"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1346836679,"creation_date":1346836679,"answer_id":12278174,"question_id":4645007,"body_markdown":"Basically there are cases where each makes sense.  bytea is simpler and generally preferred.  The client libs give you the decoding so that&#39;s not an issue.\r\n\r\nHowever LOBs have some neat features, such as an ability to seek within them and treat the LOB as a byte stream instead of a byte array.\r\n\r\n&quot;Big&quot; means &quot;Big enough you don&#39;t want to send it to the client all at once.&quot;  Technically bytea is limited to 1GB compressed and a lob is limited to 2GB compressed, but really you hit the other limit first anyway.  If it&#39;s big enough you don&#39;t want it directly in your result set and you don&#39;;t want to send it to the client all at once, use a LOB.","title":"PostgreSQL: BYTEA vs OID+Large Object?","body":"<p>Basically there are cases where each makes sense.  bytea is simpler and generally preferred.  The client libs give you the decoding so that's not an issue.</p>\n\n<p>However LOBs have some neat features, such as an ability to seek within them and treat the LOB as a byte stream instead of a byte array.</p>\n\n<p>\"Big\" means \"Big enough you don't want to send it to the client all at once.\"  Technically bytea is limited to 1GB compressed and a lob is limited to 2GB compressed, but really you hit the other limit first anyway.  If it's big enough you don't want it directly in your result set and you don';t want to send it to the client all at once, use a LOB.</p>\n"},{"comments":[{"owner":{"account_id":13222712,"reputation":101,"user_id":9548903,"display_name":"Ola"},"score":0,"creation_date":1683822301,"post_id":65588738,"comment_id":134428896,"body_markdown":"I read in the docs that large object allows values up to 4 TB in size. It also admits that &quot;TOAST&quot; way of storage made the large objects partially obsolete.","body":"I read in the docs that large object allows values up to 4 TB in size. It also admits that &quot;TOAST&quot; way of storage made the large objects partially obsolete."},{"owner":{"account_id":1252466,"reputation":79549,"user_id":1212596,"accept_rate":52,"display_name":"Paul Draper"},"score":0,"creation_date":1683847631,"post_id":65588738,"comment_id":134433371,"body_markdown":"Thank you, you are correct @Ola. The 2GB limit is an older one. I have updated the answer.","body":"Thank you, you are correct @Ola. The 2GB limit is an older one. I have updated the answer."}],"tags":[],"owner":{"account_id":1252466,"reputation":79549,"user_id":1212596,"accept_rate":52,"display_name":"Paul Draper"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1684177317,"creation_date":1609894683,"answer_id":65588738,"question_id":4645007,"body_markdown":"# tl;dr Use bytea\r\n\r\n...unless you need streaming or &gt;1GB values\r\n\r\n---\r\n\r\n**Bytea:** A byte sequence that works like any other TOAST-able value. Limited to 1GB per value, 32TB per table.\r\n\r\n**Large object:** Binary data split up into multiple rows. Supports seek, read, and write like an OS file, so operations don&#39;t require loading it all into memory at once. Limited to 4TB per value, 32TB per database.\r\n\r\n---\r\n\r\nLarge objects have the following downsides:\r\n\r\n1. The is only large object table per database.\r\n\r\n2. Large objects aren&#39;t automatically removed when the &quot;owning&quot; record is deleted. See the `lo_manage` function in the `lo` module.\r\n\r\n3. Since there is only one table, large object permissions have to be handled record by record.\r\n\r\n4. Streaming is difficult, and has less support by client drivers than simple `bytea`.\r\n\r\n5. It&#39;s part of the system schema, so you have limited to no control over options like partitioning and tablespaces.\r\n\r\n---\r\n\r\nI venture that 93% of real-world uses of large objects would be better served by `bytea`.","title":"PostgreSQL: BYTEA vs OID+Large Object?","body":"<h1>tl;dr Use bytea</h1>\n<p>...unless you need streaming or &gt;1GB values</p>\n<hr />\n<p><strong>Bytea:</strong> A byte sequence that works like any other TOAST-able value. Limited to 1GB per value, 32TB per table.</p>\n<p><strong>Large object:</strong> Binary data split up into multiple rows. Supports seek, read, and write like an OS file, so operations don't require loading it all into memory at once. Limited to 4TB per value, 32TB per database.</p>\n<hr />\n<p>Large objects have the following downsides:</p>\n<ol>\n<li><p>The is only large object table per database.</p>\n</li>\n<li><p>Large objects aren't automatically removed when the &quot;owning&quot; record is deleted. See the <code>lo_manage</code> function in the <code>lo</code> module.</p>\n</li>\n<li><p>Since there is only one table, large object permissions have to be handled record by record.</p>\n</li>\n<li><p>Streaming is difficult, and has less support by client drivers than simple <code>bytea</code>.</p>\n</li>\n<li><p>It's part of the system schema, so you have limited to no control over options like partitioning and tablespaces.</p>\n</li>\n</ol>\n<hr />\n<p>I venture that 93% of real-world uses of large objects would be better served by <code>bytea</code>.</p>\n"}],"owner":{"account_id":61169,"reputation":1527,"user_id":182462,"accept_rate":58,"display_name":"malaverdiere"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10846,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":12278174,"answer_count":4,"score":13,"last_activity_date":1684177317,"creation_date":1294649431,"question_id":4645007,"body_markdown":"I started an application with Hibernate 3.2 and PostgreSQL 8.4. I have some `byte[]` fields that were mapped as `@Basic` (= PG bytea) and others that got mapped as `@Lob` (=PG Large Object). Why the inconsistency? Because I was a Hibernate noob.\r\n\r\nNow, those fields are max 4 Kb (but average is 2-3 kb). The PostgreSQL documentation mentioned that the LOs are good when the fields are big, but I didn&#39;t see what &#39;big&#39; meant.\r\n\r\nI have upgraded to PostgreSQL 9.0 with Hibernate 3.6 and I was stuck to change the annotation to `@Type(type=&quot;org.hibernate.type.PrimitiveByteArrayBlobType&quot;)`. This bug has brought forward a potential compatibility issue, and I eventually found out that Large Objects are a pain to deal with, compared to a normal field.\r\n\r\nSo I am thinking of changing all of it to `bytea`. But I am concerned that `bytea` fields are encoded in Hex, so there is some overhead in encoding and decoding, and this would hurt the performance.\r\n\r\nAre there good benchmarks about the performance of both of these?\r\nAnybody has made the switch and saw a difference?","title":"PostgreSQL: BYTEA vs OID+Large Object?","body":"<p>I started an application with Hibernate 3.2 and PostgreSQL 8.4. I have some <code>byte[]</code> fields that were mapped as <code>@Basic</code> (= PG bytea) and others that got mapped as <code>@Lob</code> (=PG Large Object). Why the inconsistency? Because I was a Hibernate noob.</p>\n\n<p>Now, those fields are max 4 Kb (but average is 2-3 kb). The PostgreSQL documentation mentioned that the LOs are good when the fields are big, but I didn't see what 'big' meant.</p>\n\n<p>I have upgraded to PostgreSQL 9.0 with Hibernate 3.6 and I was stuck to change the annotation to <code>@Type(type=\"org.hibernate.type.PrimitiveByteArrayBlobType\")</code>. This bug has brought forward a potential compatibility issue, and I eventually found out that Large Objects are a pain to deal with, compared to a normal field.</p>\n\n<p>So I am thinking of changing all of it to <code>bytea</code>. But I am concerned that <code>bytea</code> fields are encoded in Hex, so there is some overhead in encoding and decoding, and this would hurt the performance.</p>\n\n<p>Are there good benchmarks about the performance of both of these?\nAnybody has made the switch and saw a difference?</p>\n"},{"tags":["java","graphics","physics","game-development"],"comments":[{"owner":{"account_id":14542561,"reputation":185,"user_id":10503795,"display_name":"CRT TV"},"score":0,"creation_date":1544020946,"post_id":53616918,"comment_id":94129053,"body_markdown":"I don&#39;t know how to rewrite the code to do so... I have tried adding the gravity separately from the velocity calculation and flipping the sign of the velocity to the appropriate direction before adding gravity but that breaks my collision detecion","body":"I don&#39;t know how to rewrite the code to do so... I have tried adding the gravity separately from the velocity calculation and flipping the sign of the velocity to the appropriate direction before adding gravity but that breaks my collision detecion"},{"owner":{"account_id":14542561,"reputation":185,"user_id":10503795,"display_name":"CRT TV"},"score":0,"creation_date":1544024365,"post_id":53616918,"comment_id":94131294,"body_markdown":"When I tried to rewrite my code using the model in the bouncing ball example my ball just moves extremely fast and It doesn&#39;t work","body":"When I tried to rewrite my code using the model in the bouncing ball example my ball just moves extremely fast and It doesn&#39;t work"},{"owner":{"account_id":14542561,"reputation":185,"user_id":10503795,"display_name":"CRT TV"},"score":0,"creation_date":1544027274,"post_id":53616918,"comment_id":94133042,"body_markdown":"No matter what I do this won&#39;t work I have tried tweaking everything","body":"No matter what I do this won&#39;t work I have tried tweaking everything"},{"owner":{"account_id":14542561,"reputation":185,"user_id":10503795,"display_name":"CRT TV"},"score":0,"creation_date":1544028731,"post_id":53616918,"comment_id":94133900,"body_markdown":"I just figured it out, the issue was double collisions not math.I just needed to displace the ball up by the distance of the ball after a collision to avoid this.  Thank you for the help, sorry to bother","body":"I just figured it out, the issue was double collisions not math.I just needed to displace the ball up by the distance of the ball after a collision to avoid this.  Thank you for the help, sorry to bother"},{"owner":{"account_id":2968584,"reputation":50571,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1544030785,"post_id":53616918,"comment_id":94135033,"body_markdown":"I moved the comments into answer along small C++ example with friction","body":"I moved the comments into answer along small C++ example with friction"}],"answers":[{"tags":[],"owner":{"account_id":2968584,"reputation":50571,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669873911,"creation_date":1544030321,"answer_id":53637567,"question_id":53616918,"body_markdown":"you are not really doing reflection ... to reflect by major axis you should negate the appropriate coordinate of the speed vector (and correct the position) I do not see such behavior in your code. Instead your y velocity has no sign regardless of the direction up/down hence you just add gravity acc to it ... to remedy either rewrite the code or add the `yreflection` to your gravity related code too... also you got theta? I would expect angle only in the first shooting\r\n\r\nsee\r\n\r\n- [Bouncing Ball Making it slow down at peak of height](https://stackoverflow.com/a/20017455/2521214)\r\n- [My Algorithm to Calculate Position of Smartphone - GPS and Sensors](https://stackoverflow.com/a/19764828/2521214)\r\n- [pendulum simulation](https://stackoverflow.com/a/74628552/2521214)\r\n\r\n  You just use/add forces you want to use. **But in your collision once you detect you are inside wall you need to correct the position along with the reflection of speed too** otherwise you risk **double collisions** ...\r\n\r\nHere small C++ example with air friction:\r\n\r\n&lt;!-- language: cpp --&gt;\r\n\r\n    //---------------------------------------------------------------------------\r\n    double pos[2],vel[2],acc[2],r;  // ball\r\n    double x0,y0,x1,y1;             // walls\r\n    //---------------------------------------------------------------------------\r\n    void ball_update(double dt)\r\n        {\r\n        int i;\r\n        double v,k=0.0001,g=9.81;\r\n        dt*=10.0;                                   // time multiplier for simulation speed ...\r\n        // compute driving force/acceleration\r\n        v=sqrt((vel[0]*vel[0])+(vel[1]*vel[1]));    // |vel|\r\n        acc[0]=  -(k*vel[0]*v);                     // gravity + air friction (k*vel^2)\r\n        acc[1]=+g-(k*vel[1]*v);\r\n        // Newton/D&#39;Alembert simulation\r\n        for (i=0;i&lt;2;i++) vel[i]+=acc[i]*dt;\r\n        for (i=0;i&lt;2;i++) pos[i]+=vel[i]*dt;\r\n        // colision/reflect\r\n        if (pos[0]&lt;x0+r){ pos[0]=x0+r; vel[0]=-vel[0]; }\r\n        if (pos[0]&gt;x1-r){ pos[0]=x1-r; vel[0]=-vel[0]; }\r\n        if (pos[1]&lt;y0+r){ pos[1]=y0+r; vel[1]=-vel[1]; }\r\n        if (pos[1]&gt;y1-r){ pos[1]=y1-r; vel[1]=-vel[1]; }\r\n        }\r\n    //---------------------------------------------------------------------------\r\n    void ball_init()\r\n        {\r\n        Randomize();\r\n        pos[0]=0.5*(x0+x1);\r\n        pos[1]=0.5*(y0+y1);\r\n        double a=2.0*M_PI*Random(),v=50.0;\r\n        vel[0]=v*cos(a);\r\n        vel[1]=v*sin(a);\r\n        r=20.0;\r\n        }\r\n    //---------------------------------------------------------------------------\r\n\r\n\r\nMy coordinate system is (0,0) is top left and x point right and y points down ...\r\nTo use this just init the walls `x0,y0,x1,y1` call the `ball_init()` and then in some timer call `ball_update(dt)` and render ball at `pos` and radius `r` ...\r\n\r\nThis is how it look like:\r\n\r\n [![preview][1]][1]\r\n\r\n**PS.** You need to tweak the parameters like delta time `dt`, accelerations or add pixel scale to match your needs... You need to have all units compatible ... I recommend using **SI** (m,m/s,m/s^2,s,N,.. ) so you also need to decide how big is pixel (in meters) \r\n\r\n  [1]: https://i.stack.imgur.com/sP7ba.gif","title":"Can&#39;t flip direction of ball without messing up gravity","body":"<p>you are not really doing reflection ... to reflect by major axis you should negate the appropriate coordinate of the speed vector (and correct the position) I do not see such behavior in your code. Instead your y velocity has no sign regardless of the direction up/down hence you just add gravity acc to it ... to remedy either rewrite the code or add the <code>yreflection</code> to your gravity related code too... also you got theta? I would expect angle only in the first shooting</p>\n<p>see</p>\n<ul>\n<li><p><a href=\"https://stackoverflow.com/a/20017455/2521214\">Bouncing Ball Making it slow down at peak of height</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/a/19764828/2521214\">My Algorithm to Calculate Position of Smartphone - GPS and Sensors</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/a/74628552/2521214\">pendulum simulation</a></p>\n<p>You just use/add forces you want to use. <strong>But in your collision once you detect you are inside wall you need to correct the position along with the reflection of speed too</strong> otherwise you risk <strong>double collisions</strong> ...</p>\n</li>\n</ul>\n<p>Here small C++ example with air friction:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>//---------------------------------------------------------------------------\ndouble pos[2],vel[2],acc[2],r;  // ball\ndouble x0,y0,x1,y1;             // walls\n//---------------------------------------------------------------------------\nvoid ball_update(double dt)\n    {\n    int i;\n    double v,k=0.0001,g=9.81;\n    dt*=10.0;                                   // time multiplier for simulation speed ...\n    // compute driving force/acceleration\n    v=sqrt((vel[0]*vel[0])+(vel[1]*vel[1]));    // |vel|\n    acc[0]=  -(k*vel[0]*v);                     // gravity + air friction (k*vel^2)\n    acc[1]=+g-(k*vel[1]*v);\n    // Newton/D'Alembert simulation\n    for (i=0;i&lt;2;i++) vel[i]+=acc[i]*dt;\n    for (i=0;i&lt;2;i++) pos[i]+=vel[i]*dt;\n    // colision/reflect\n    if (pos[0]&lt;x0+r){ pos[0]=x0+r; vel[0]=-vel[0]; }\n    if (pos[0]&gt;x1-r){ pos[0]=x1-r; vel[0]=-vel[0]; }\n    if (pos[1]&lt;y0+r){ pos[1]=y0+r; vel[1]=-vel[1]; }\n    if (pos[1]&gt;y1-r){ pos[1]=y1-r; vel[1]=-vel[1]; }\n    }\n//---------------------------------------------------------------------------\nvoid ball_init()\n    {\n    Randomize();\n    pos[0]=0.5*(x0+x1);\n    pos[1]=0.5*(y0+y1);\n    double a=2.0*M_PI*Random(),v=50.0;\n    vel[0]=v*cos(a);\n    vel[1]=v*sin(a);\n    r=20.0;\n    }\n//---------------------------------------------------------------------------\n</code></pre>\n<p>My coordinate system is (0,0) is top left and x point right and y points down ...\nTo use this just init the walls <code>x0,y0,x1,y1</code> call the <code>ball_init()</code> and then in some timer call <code>ball_update(dt)</code> and render ball at <code>pos</code> and radius <code>r</code> ...</p>\n<p>This is how it look like:</p>\n<p><a href=\"https://i.stack.imgur.com/sP7ba.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sP7ba.gif\" alt=\"preview\" /></a></p>\n<p><strong>PS.</strong> You need to tweak the parameters like delta time <code>dt</code>, accelerations or add pixel scale to match your needs... You need to have all units compatible ... I recommend using <strong>SI</strong> (m,m/s,m/s^2,s,N,.. ) so you also need to decide how big is pixel (in meters)</p>\n"}],"owner":{"account_id":14542561,"reputation":185,"user_id":10503795,"display_name":"CRT TV"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1684177299,"creation_date":1543939376,"question_id":53616918,"body_markdown":"I am making a game like pong except that there is only one paddle and the ball moves in projectile motion. The goal is to keep the ball bouncing on your paddle for as long as possible.\r\n\r\nWhen the ball is hit by the paddle, the `y` component of its velocity has it&#39;s sign flipped. The issue with this is that gravity also acts upon the ball, so when a ball is hit upwards it to speeds up due to the reversed effect of gravity.\r\n\r\nThis is the code for the ball class, including the `tick` method which is called 60 times a second:\r\n\r\n    public Ball(double x, double y, Game game) {\r\n\t\tsuper(x,y);\r\n\t\tthis.game=game;\r\n\t}\r\n\tpublic void tick() {\r\n\t\ttime+=1.0/60.0;\r\n\t\tif(x&lt;=0)\r\n\t\t\txreflection=1.0;\r\n\t\telse if(x&gt;=Game.Width-15)\r\n\t\t\txreflection=-1.0;\r\n\t\tif(y&lt;=0)\r\n\t\t\tyreflection=1.0;\r\n\t\telse if(y&gt;=Game.Height-15)\r\n\t\t\tgameover=1;//different variable here as I use this to end the game if the ball hits the bottom of the screen\r\n\t\tx+=traj.xvel()*xreflection;\r\n\t\ty-=traj.yvel(time)*yreflection;\r\n\t\t\r\n\t\tif(Physics.Collision(this, game.getP())) {\r\n\t\ttime=2;\r\n\t\t\tSystem.out.println(&quot;Collision&quot;);\r\n\t\t\tyreflection=-1;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nThis is the ball Trajectory class which handles all the math:\r\n\r\n    public double xvel() {\r\n\t\tdouble xvelo=initvel*Math.cos(Math.toRadians(theta));\r\n\t\treturn xvelo;\r\n\t}\r\n\t\r\n\tpublic double yvel(double time) {\r\n\t\tdouble yvelo;\r\n\t\t\tyvelo=initvel*Math.sin(Math.toRadians(theta))-(9.8*time);\r\n\t\treturn yvelo;\r\n\t}\r\n\r\nI have tried to use an `if` statement with `y` reflection to make 9.8 negative when y-reflection is 1 and positive when it is -1.","title":"Can&#39;t flip direction of ball without messing up gravity","body":"<p>I am making a game like pong except that there is only one paddle and the ball moves in projectile motion. The goal is to keep the ball bouncing on your paddle for as long as possible.</p>\n<p>When the ball is hit by the paddle, the <code>y</code> component of its velocity has it's sign flipped. The issue with this is that gravity also acts upon the ball, so when a ball is hit upwards it to speeds up due to the reversed effect of gravity.</p>\n<p>This is the code for the ball class, including the <code>tick</code> method which is called 60 times a second:</p>\n<pre><code>public Ball(double x, double y, Game game) {\n    super(x,y);\n    this.game=game;\n}\npublic void tick() {\n    time+=1.0/60.0;\n    if(x&lt;=0)\n        xreflection=1.0;\n    else if(x&gt;=Game.Width-15)\n        xreflection=-1.0;\n    if(y&lt;=0)\n        yreflection=1.0;\n    else if(y&gt;=Game.Height-15)\n        gameover=1;//different variable here as I use this to end the game if the ball hits the bottom of the screen\n    x+=traj.xvel()*xreflection;\n    y-=traj.yvel(time)*yreflection;\n    \n    if(Physics.Collision(this, game.getP())) {\n    time=2;\n        System.out.println(&quot;Collision&quot;);\n        yreflection=-1;\n        \n    }\n    \n}\n</code></pre>\n<p>This is the ball Trajectory class which handles all the math:</p>\n<pre><code>public double xvel() {\n    double xvelo=initvel*Math.cos(Math.toRadians(theta));\n    return xvelo;\n}\n\npublic double yvel(double time) {\n    double yvelo;\n        yvelo=initvel*Math.sin(Math.toRadians(theta))-(9.8*time);\n    return yvelo;\n}\n</code></pre>\n<p>I have tried to use an <code>if</code> statement with <code>y</code> reflection to make 9.8 negative when y-reflection is 1 and positive when it is -1.</p>\n"},{"tags":["java","junit","junit5"],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684176588,"creation_date":1684176588,"answer_id":76257152,"question_id":76257068,"body_markdown":"You are not passing actual values. You need to collect the stream objects and then pass the list to `Argument.of()`\r\n\r\n    private static Stream&lt;Arguments&gt; provideNamespaceGroupIdMapping() {\r\n        List&lt;String&gt; keys = new ArrayList&lt;&gt;(myMap.keySet());\r\n        List&lt;String&gt; values = new ArrayList&lt;&gt;(myMap.values());\r\n        return IntStream.range(0, myMap.size())\r\n                .mapToObj(i -&gt; Arguments.of(keys.get(i), values.get(i)));\r\n    }\r\n\r\nWhen you run a parameterized test with the provideNamespaceGroupIdMapping() method as the source, each key value pair from the map should be passed as separate arguments to the my_test() method.","title":"How to pass map key and value as separate parameters to Junit test","body":"<p>You are not passing actual values. You need to collect the stream objects and then pass the list to <code>Argument.of()</code></p>\n<pre><code>private static Stream&lt;Arguments&gt; provideNamespaceGroupIdMapping() {\n    List&lt;String&gt; keys = new ArrayList&lt;&gt;(myMap.keySet());\n    List&lt;String&gt; values = new ArrayList&lt;&gt;(myMap.values());\n    return IntStream.range(0, myMap.size())\n            .mapToObj(i -&gt; Arguments.of(keys.get(i), values.get(i)));\n}\n</code></pre>\n<p>When you run a parameterized test with the provideNamespaceGroupIdMapping() method as the source, each key value pair from the map should be passed as separate arguments to the my_test() method.</p>\n"}],"owner":{"account_id":28480154,"reputation":13,"user_id":21794238,"display_name":"Shazzer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76257152,"answer_count":1,"score":1,"last_activity_date":1684176588,"creation_date":1684175858,"question_id":76257068,"body_markdown":"first of all, I&#39;m a java beginner and new to stacktrace, so please have mercy ;).\r\n\r\nI have a static map and my goal is to pass the key / value pairings as separate parameters into my test.\r\n\r\nThat&#39;s my simple map:\r\n```java\r\nMap&lt;String, String&gt; myMap=Map.ofEntries(\r\n          entry(&quot;foo1&quot;, &quot;bar1&quot;),\r\n          entry(&quot;foo2&quot;, &quot;bar2&quot;));\r\n```\r\n\r\n\r\nI thought of something like this:\r\n\r\n\r\n```java\r\n@ParameterizedTest\r\n@MethodSource(&quot;provideNamespaceGroupIdMapping&quot;)\r\nvoid my_test(String key, String value) {\r\n\r\nprepareFile(key);\r\nprepareOtherStuff(value);\r\n...\r\n}\r\n```\r\n\r\nwith a method that provides every entry as separate arguments. So probably something like this:\r\n\r\n```java\r\nprivate static Stream&lt;Arguments&gt; provideNamespaceGroupIdMapping() {\r\n  return Stream.of(\r\n    Arguments.of(\r\n      myMap.keySet().stream().toString(), \r\n      myMap.values().stream().toString()));\r\n  }\r\n```\r\n\r\nThis results in a IndexOutOfBoundsException\r\n```\r\njava.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\r\n```\r\n\r\nAs I said, I&#39;m a beginner. I tried some other ideas I had but without any success :(.\r\n\r\nIs there even a solution for what I want to achive?","title":"How to pass map key and value as separate parameters to Junit test","body":"<p>first of all, I'm a java beginner and new to stacktrace, so please have mercy ;).</p>\n<p>I have a static map and my goal is to pass the key / value pairings as separate parameters into my test.</p>\n<p>That's my simple map:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; myMap=Map.ofEntries(\n          entry(&quot;foo1&quot;, &quot;bar1&quot;),\n          entry(&quot;foo2&quot;, &quot;bar2&quot;));\n</code></pre>\n<p>I thought of something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ParameterizedTest\n@MethodSource(&quot;provideNamespaceGroupIdMapping&quot;)\nvoid my_test(String key, String value) {\n\nprepareFile(key);\nprepareOtherStuff(value);\n...\n}\n</code></pre>\n<p>with a method that provides every entry as separate arguments. So probably something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static Stream&lt;Arguments&gt; provideNamespaceGroupIdMapping() {\n  return Stream.of(\n    Arguments.of(\n      myMap.keySet().stream().toString(), \n      myMap.values().stream().toString()));\n  }\n</code></pre>\n<p>This results in a IndexOutOfBoundsException</p>\n<pre><code>java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\n</code></pre>\n<p>As I said, I'm a beginner. I tried some other ideas I had but without any success :(.</p>\n<p>Is there even a solution for what I want to achive?</p>\n"},{"tags":["java","android","webview","incognito-mode"],"comments":[{"owner":{"account_id":5771601,"reputation":742,"user_id":4554899,"display_name":"Vinay"},"score":0,"creation_date":1684176339,"post_id":76253243,"comment_id":134476089,"body_markdown":"To launch a WebView in private mode in Android you have to clear all the history and cache stored by the webview.","body":"To launch a WebView in private mode in Android you have to clear all the history and cache stored by the webview."}],"answers":[{"tags":[],"owner":{"account_id":5771601,"reputation":742,"user_id":4554899,"display_name":"Vinay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684176557,"creation_date":1684176557,"answer_id":76257149,"question_id":76253243,"body_markdown":"To launch a WebView in private mode in Android you have to clear all the history and cache stored by the webview. \r\n\r\n            // init webview\r\n            WebSettings webSettings = webView.getSettings();\r\n            webSettings.setJavaScriptEnabled(true);\r\n    \r\n            // Enable private browsing mode\r\n            webSettings.setCacheMode(WebSettings.LOAD_NO_CACHE);\r\n            webSettings.setAppCacheEnabled(false);\r\n            webSettings.setDomStorageEnabled(false);\r\n            webSettings.setDatabaseEnabled(false);\r\n    \r\n            // Load a URL in the WebView\r\n            webView.loadUrl(&quot;https://google.com&quot;);\r\n\r\nand in onDestroy clear all stored cache and data by the webview.\r\n\r\n    @Override\r\n        protected void onDestroy() {\r\n            // Destroy WebView to free resources\r\n            if (webView != null) {\r\n                webView.clearHistory();\r\n                webView.clearCache(true);\r\n                webView.loadUrl(&quot;about:blank&quot;);\r\n                webView.onPause();\r\n                webView.removeAllViews();\r\n                webView.destroyDrawingCache();\r\n                webView.destroy();\r\n            }\r\n            super.onDestroy();\r\n        }\r\n\r\nor It is better to use Chrome Custom Tabs for opening URLs inside your app. Follow this link for more details https://developer.chrome.com/docs/android/custom-tabs/guide-get-started/","title":"How to use android webview for incognito tab?","body":"<p>To launch a WebView in private mode in Android you have to clear all the history and cache stored by the webview.</p>\n<pre><code>        // init webview\n        WebSettings webSettings = webView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n\n        // Enable private browsing mode\n        webSettings.setCacheMode(WebSettings.LOAD_NO_CACHE);\n        webSettings.setAppCacheEnabled(false);\n        webSettings.setDomStorageEnabled(false);\n        webSettings.setDatabaseEnabled(false);\n\n        // Load a URL in the WebView\n        webView.loadUrl(&quot;https://google.com&quot;);\n</code></pre>\n<p>and in onDestroy clear all stored cache and data by the webview.</p>\n<pre><code>@Override\n    protected void onDestroy() {\n        // Destroy WebView to free resources\n        if (webView != null) {\n            webView.clearHistory();\n            webView.clearCache(true);\n            webView.loadUrl(&quot;about:blank&quot;);\n            webView.onPause();\n            webView.removeAllViews();\n            webView.destroyDrawingCache();\n            webView.destroy();\n        }\n        super.onDestroy();\n    }\n</code></pre>\n<p>or It is better to use Chrome Custom Tabs for opening URLs inside your app. Follow this link for more details <a href=\"https://developer.chrome.com/docs/android/custom-tabs/guide-get-started/\" rel=\"nofollow noreferrer\">https://developer.chrome.com/docs/android/custom-tabs/guide-get-started/</a></p>\n"}],"owner":{"account_id":3666023,"reputation":470,"user_id":3054437,"accept_rate":25,"display_name":"mohammad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684176557,"creation_date":1684147178,"question_id":76253243,"body_markdown":"I&#39;m writing a light browser for my website and have to create incognito tab like chrome. I have used android `webview`. My problem is that when I use `webview` I can&#39;t save the cookies in a temporary location and delete the cookies file after the incognito tab is closed.  \r\nthis is my code:  \r\n\r\n        CookieManager cookieManager = CookieManager.getInstance();\r\n        if (this.isIncognito) {\r\n            cookieManager.setAcceptCookie(false);\r\n            webView.getSettings().setSaveFormData(false);\r\n        } else {\r\n            cookieManager.setAcceptCookie(true);\r\n        }\r\n\r\nhow should I save cookies and delete it after closing tab?","title":"How to use android webview for incognito tab?","body":"<p>I'm writing a light browser for my website and have to create incognito tab like chrome. I have used android <code>webview</code>. My problem is that when I use <code>webview</code> I can't save the cookies in a temporary location and delete the cookies file after the incognito tab is closed.<br />\nthis is my code:</p>\n<pre><code>    CookieManager cookieManager = CookieManager.getInstance();\n    if (this.isIncognito) {\n        cookieManager.setAcceptCookie(false);\n        webView.getSettings().setSaveFormData(false);\n    } else {\n        cookieManager.setAcceptCookie(true);\n    }\n</code></pre>\n<p>how should I save cookies and delete it after closing tab?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1653764723,"post_id":72418357,"comment_id":127932711,"body_markdown":"Show the command you&#39;re using, for [example](https://github.com/openjfx/samples/tree/master/HelloFX/CLI), and any errors; a similar example is cited [here](https://stackoverflow.com/a/71288497/230513).","body":"Show the command you&#39;re using, for <a href=\"https://github.com/openjfx/samples/tree/master/HelloFX/CLI\" rel=\"nofollow noreferrer\">example</a>, and any errors; a similar example is cited <a href=\"https://stackoverflow.com/a/71288497/230513\">here</a>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1653768948,"post_id":72418357,"comment_id":127933501,"body_markdown":"Try using a version of the JDK which includes JavaFX, for example Bellsoft Liberica JDK, ensure it is the “full jdk” version.  Then it will be much easier to use the command line tools as you won’t need to supply additional module information and paths.","body":"Try using a version of the JDK which includes JavaFX, for example Bellsoft Liberica JDK, ensure it is the “full jdk” version.  Then it will be much easier to use the command line tools as you won’t need to supply additional module information and paths."}],"answers":[{"comments":[{"owner":{"account_id":18082943,"reputation":11,"user_id":19221903,"display_name":"Carlos Yeddiel"},"score":1,"creation_date":1653764679,"post_id":72418467,"comment_id":127932702,"body_markdown":"I&#39;ll be sure to try out Maven ty\nI already looked at the documentation (that&#39;s where I got the application and the path from) but It doesn&#39;t seem to be working.","body":"I&#39;ll be sure to try out Maven ty I already looked at the documentation (that&#39;s where I got the application and the path from) but It doesn&#39;t seem to be working."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1653768653,"post_id":72418467,"comment_id":127933444,"body_markdown":"If you are using Maven then you don’t need to directly call javac as you are doing in your question.  Maven will call javac for you (which is *much* easier).","body":"If you are using Maven then you don’t need to directly call javac as you are doing in your question.  Maven will call javac for you (which is <i>much</i> easier)."}],"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653764164,"creation_date":1653764164,"answer_id":72418467,"question_id":72418357,"body_markdown":"Even if IntelliJ does not work for you, you could still use either Maven or Gradle to build your project which would already simplify things a lot. You should also have a look at the official documentation.\r\nhttps://openjfx.io/openjfx-docs/","title":"problem installing and compling in JavaFX","body":"<p>Even if IntelliJ does not work for you, you could still use either Maven or Gradle to build your project which would already simplify things a lot. You should also have a look at the official documentation.\n<a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">https://openjfx.io/openjfx-docs/</a></p>\n"},{"tags":[],"owner":{"account_id":27985176,"reputation":9,"user_id":21372181,"display_name":"Powerscore"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684176455,"creation_date":1684176455,"answer_id":76257131,"question_id":72418357,"body_markdown":"There are 4 main steps to check: (There are other ways to do this but this is one way)\r\n\r\n1) Make sure you installed javafx from the marketplace, in case of eclipse it is eclipse marketplace.\r\n\r\n2) Download and unzip the appropriate Java SDK folder for you system from here: [https://gluonhq.com/products/javafx/][1]\r\n\r\n3) On your project, configure build path, add a user library, new , then add external JARs, then choose all the .jar files on your Java SDK folder then add that library to your project\r\n\r\n4) Run your project as a normal java application (so that you don&#39;t have to search for it later in the configurations) then choose run as, configure the run and you will find an arguments tab, add this to your VM arguments but replace what is inside the double quotations with the file path of your Java SDK lib folder- make sure it&#39;s the lib folder, inside the Java SDK. Here is what you will paste: --module-path &quot;\\path\\to\\javafx-sdk-11\\lib&quot; --add-modules javafx.controls,javafx.fxml\r\n\r\n\r\n  [1]: https://gluonhq.com/products/javafx/","title":"problem installing and compling in JavaFX","body":"<p>There are 4 main steps to check: (There are other ways to do this but this is one way)</p>\n<ol>\n<li><p>Make sure you installed javafx from the marketplace, in case of eclipse it is eclipse marketplace.</p>\n</li>\n<li><p>Download and unzip the appropriate Java SDK folder for you system from here: <a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">https://gluonhq.com/products/javafx/</a></p>\n</li>\n<li><p>On your project, configure build path, add a user library, new , then add external JARs, then choose all the .jar files on your Java SDK folder then add that library to your project</p>\n</li>\n<li><p>Run your project as a normal java application (so that you don't have to search for it later in the configurations) then choose run as, configure the run and you will find an arguments tab, add this to your VM arguments but replace what is inside the double quotations with the file path of your Java SDK lib folder- make sure it's the lib folder, inside the Java SDK. Here is what you will paste: --module-path &quot;\\path\\to\\javafx-sdk-11\\lib&quot; --add-modules javafx.controls,javafx.fxml</p>\n</li>\n</ol>\n"}],"owner":{"account_id":18082943,"reputation":11,"user_id":19221903,"display_name":"Carlos Yeddiel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":482,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1684176455,"creation_date":1653763174,"question_id":72418357,"body_markdown":"I am trying to install JavaFX and in particular just run [this application](https://github.com/openjfx/samples/blob/master/HelloFX/CLI/hellofx/HelloFX.java). I&#39;ve been using Java for a while and I have to compile from console since IntelliJ just won&#39;t load in my laptop. Whenever I try compiling with &quot;javac HelloFX.java&quot; I get a lot of errors and in particular **error: package javafx.application does not exist**. This is what my java folder looks like\r\n\r\n[Java Folder][1]\r\n\r\nI also already set up a path C:\\Program Files\\Java\\javafx-sdk-18.0.1\\lib\r\n\r\nI really have no clue as to what I am doing wrong, and the solutions I&#39;ve been able to find seem rather complex, or use IntelliJ tools. Thank you in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7PnRo.png","title":"problem installing and compling in JavaFX","body":"<p>I am trying to install JavaFX and in particular just run <a href=\"https://github.com/openjfx/samples/blob/master/HelloFX/CLI/hellofx/HelloFX.java\" rel=\"nofollow noreferrer\">this application</a>. I've been using Java for a while and I have to compile from console since IntelliJ just won't load in my laptop. Whenever I try compiling with &quot;javac HelloFX.java&quot; I get a lot of errors and in particular <strong>error: package javafx.application does not exist</strong>. This is what my java folder looks like</p>\n<p><a href=\"https://i.stack.imgur.com/7PnRo.png\" rel=\"nofollow noreferrer\">Java Folder</a></p>\n<p>I also already set up a path C:\\Program Files\\Java\\javafx-sdk-18.0.1\\lib</p>\n<p>I really have no clue as to what I am doing wrong, and the solutions I've been able to find seem rather complex, or use IntelliJ tools. Thank you in advance.</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud-feign","feign"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1683882263,"post_id":76234142,"comment_id":134437665,"body_markdown":"Please add the **full stacktrace** instead of some arbitrary snippet. I do think however tha tyou cannot include the response in the list of parameters (and what good would it be to a feign client anyway?).","body":"Please add the <b>full stacktrace</b> instead of some arbitrary snippet. I do think however tha tyou cannot include the response in the list of parameters (and what good would it be to a feign client anyway?)."}],"answers":[{"tags":[],"owner":{"account_id":2981248,"reputation":1121,"user_id":2531159,"display_name":"swist"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684176445,"creation_date":1684176445,"answer_id":76257127,"question_id":76234142,"body_markdown":"Remove `HttpServletResponse response` parameter - it is your another body. It make sense for server method to have `HttpServletResponse` as a parameter, but Feign cannot do much with it. Return value is your response.","title":"SpringBoot - Feign Client java.lang.IllegalStateException: Method has too many Body parameters:","body":"<p>Remove <code>HttpServletResponse response</code> parameter - it is your another body. It make sense for server method to have <code>HttpServletResponse</code> as a parameter, but Feign cannot do much with it. Return value is your response.</p>\n"}],"owner":{"account_id":8774591,"reputation":25,"user_id":17188780,"display_name":"SmlCodes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":561,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684176445,"creation_date":1683877261,"question_id":76234142,"body_markdown":"I trying call another service to Print my data to excel. im uisng Feign clinet to call thet Service.\r\n\r\nIm getting below error while running the application\r\n\r\n&gt; Caused by: java.lang.IllegalStateException: Method has too many Body\r\n&gt; parameters: public abstract org.springframework.http.ResponseEntity\r\n&gt; com.client.ReportClient.generateReport(java.lang.String,javax.servlet.http.HttpServletResponse,com.dto.ReportRequestDto)\r\n\r\nBelow is Feign clinet code.\r\n\r\n```java\r\n\r\n    @PostMapping(value = &quot;/report&quot;, produces = {\r\n            MediaType.APPLICATION_PDF_VALUE,\r\n            &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;,\r\n            &quot;application/msword&quot;}, consumes = {MediaType.APPLICATION_JSON_VALUE})\r\n     ResponseEntity&lt;ByteArrayResource&gt; generateReport(\r\n            @RequestHeader(&quot;Accept&quot;) String contentType,\r\n            HttpServletResponse response,\r\n            @RequestBody ReportRequestDto body) ;\r\n```\r\n\r\nReportRequestDto\r\n```java\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\npublic class ReportRequestDto {\r\n    List&lt;Object[]&gt; data;\r\n    List&lt;ReportColumnHeaderDto&gt; columnHeaders;\r\n    Map&lt;String, Object&gt; params;\r\n    Integer columnCount;\r\n    String fileName;\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nReportColumnHeaderDto\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\npublic class ReportColumnHeaderDto {\r\n    private String columnHeader;\r\n    private String columnWidth;\r\n\r\n    public ReportColumnHeaderDto(String columnHeader) {\r\n        this.columnHeader = columnHeader;\r\n    }\r\n}\r\n```\r\n\r\nCan you guys Please help me what&#39;s wrong with this code\r\n\r\n","title":"SpringBoot - Feign Client java.lang.IllegalStateException: Method has too many Body parameters:","body":"<p>I trying call another service to Print my data to excel. im uisng Feign clinet to call thet Service.</p>\n<p>Im getting below error while running the application</p>\n<blockquote>\n<p>Caused by: java.lang.IllegalStateException: Method has too many Body\nparameters: public abstract org.springframework.http.ResponseEntity\ncom.client.ReportClient.generateReport(java.lang.String,javax.servlet.http.HttpServletResponse,com.dto.ReportRequestDto)</p>\n</blockquote>\n<p>Below is Feign clinet code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @PostMapping(value = &quot;/report&quot;, produces = {\n            MediaType.APPLICATION_PDF_VALUE,\n            &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;,\n            &quot;application/msword&quot;}, consumes = {MediaType.APPLICATION_JSON_VALUE})\n     ResponseEntity&lt;ByteArrayResource&gt; generateReport(\n            @RequestHeader(&quot;Accept&quot;) String contentType,\n            HttpServletResponse response,\n            @RequestBody ReportRequestDto body) ;\n</code></pre>\n<p>ReportRequestDto</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class ReportRequestDto {\n    List&lt;Object[]&gt; data;\n    List&lt;ReportColumnHeaderDto&gt; columnHeaders;\n    Map&lt;String, Object&gt; params;\n    Integer columnCount;\n    String fileName;\n}\n\n</code></pre>\n<p>ReportColumnHeaderDto</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class ReportColumnHeaderDto {\n    private String columnHeader;\n    private String columnWidth;\n\n    public ReportColumnHeaderDto(String columnHeader) {\n        this.columnHeader = columnHeader;\n    }\n}\n</code></pre>\n<p>Can you guys Please help me what's wrong with this code</p>\n"},{"tags":["java","spring-boot","amazon-s3"],"comments":[{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1684178646,"post_id":76257119,"comment_id":134476542,"body_markdown":"A NoClassDefFoundError with the message &quot;Could not initialize class XYZ&quot; tells you that the JVM has already tried and failed to load this class and so refuses to load it again.  If you restart your app and go back through the logs, is there a different exception first time, probably an `ExceptionInInitializerError`? If so, that&#39;s the next thing to look at.","body":"A NoClassDefFoundError with the message &quot;Could not initialize class XYZ&quot; tells you that the JVM has already tried and failed to load this class and so refuses to load it again.  If you restart your app and go back through the logs, is there a different exception first time, probably an <code>ExceptionInInitializerError</code>? If so, that&#39;s the next thing to look at."}],"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684176369,"creation_date":1684176369,"question_id":76257119,"body_markdown":"I encountered this exception when I try to call an endpoint from my spring boot application. What causes this exception?  \r\n\r\n```Handler dispatch failed; nested exception is java.lang.noclassdeffounderror: could not initialize class com.amazonaws.auth.internal.aws4signerutils```\r\n\r\nContext: my controller calls a external service class to store a file in the S3 bucket.","title":"Could not initialize class com.amazonaws.auth.internal.aws4signerutils","body":"<p>I encountered this exception when I try to call an endpoint from my spring boot application. What causes this exception?</p>\n<p><code>Handler dispatch failed; nested exception is java.lang.noclassdeffounderror: could not initialize class com.amazonaws.auth.internal.aws4signerutils</code></p>\n<p>Context: my controller calls a external service class to store a file in the S3 bucket.</p>\n"},{"tags":["java","elasticsearch","opensearch"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1683616701,"post_id":76172055,"comment_id":134389727,"body_markdown":"Why do you need to send raw JSON?","body":"Why do you need to send raw JSON?"},{"owner":{"account_id":9365930,"reputation":470,"user_id":6950847,"display_name":"zeg"},"score":0,"creation_date":1683734405,"post_id":76172055,"comment_id":134413247,"body_markdown":"Can you use a normal http rest client instead?","body":"Can you use a normal http rest client instead?"}],"answers":[{"tags":[],"owner":{"account_id":28581853,"reputation":26,"user_id":21882695,"display_name":"mkr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683881661,"creation_date":1683881661,"answer_id":76234662,"question_id":76172055,"body_markdown":"I don&#39;t think there is a supported way to do this. The JSON Deserializers seem to only be meant for the JSON body of the respective request (i.e. the &quot;aliases&quot;, &quot;mappings&quot; and &quot;settings&quot; in your CreateIndexRequest) so any non-nullable field that is not part of the expected JSON body would need to be passed in separately. The currently exposed methods don&#39;t really allow for this. One hacky way is to setup your own deserializer using the protected (!) setup methods of the API using Reflection.\r\n\r\nExample:\r\n\r\n    private static ObjectDeserializer&lt;CreateIndexRequest.Builder&gt; getDeserializerWithPreconfiguredBuilder(\r\n                Supplier&lt;CreateIndexRequest.Builder&gt; builderSupplier) throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {\r\n      Class&lt;CreateIndexRequest&gt; clazz = CreateIndexRequest.class;\r\n      Method method = clazz.getDeclaredMethod(&quot;setupCreateIndexRequestDeserializer&quot;, ObjectDeserializer.class);\r\n      method.setAccessible(true);\r\n    \r\n      ObjectDeserializer&lt;CreateIndexRequest.Builder&gt; deserializer = new ObjectDeserializer&lt;&gt;(builderSupplier);\r\n      method.invoke(null, deserializer);\r\n      return deserializer;\r\n    }\r\n\r\nand then\r\n\r\n    JsonParser jsonParser = JsonProvider.provider().createParser(new StringReader(&quot;{}&quot;)); // &lt;-- your JSON request body\r\n    Supplier&lt;CreateIndexRequest.Builder&gt; builderSupplier = () -&gt; new CreateIndexRequest.Builder().index(&quot;my-index&quot;);\r\n    ObjectDeserializer&lt;CreateIndexRequest.Builder&gt; deserializer = getDeserializerWithPreconfiguredBuilder(builderSupplier);\r\n    CreateIndexRequest req = deserializer.deserialize(jsonParser, new JsonbJsonpMapper()).build();\r\n\r\nBtw: Elasticsearch [has added][1] raw JSON support to the API. OpenSearch could draw some inspiration there.\r\n\r\n\r\n  [1]: https://github.com/elastic/elasticsearch-java/pull/200","title":"Is there a way to do Raw JSON Requests using the Opensearch Java Client?","body":"<p>I don't think there is a supported way to do this. The JSON Deserializers seem to only be meant for the JSON body of the respective request (i.e. the &quot;aliases&quot;, &quot;mappings&quot; and &quot;settings&quot; in your CreateIndexRequest) so any non-nullable field that is not part of the expected JSON body would need to be passed in separately. The currently exposed methods don't really allow for this. One hacky way is to setup your own deserializer using the protected (!) setup methods of the API using Reflection.</p>\n<p>Example:</p>\n<pre><code>private static ObjectDeserializer&lt;CreateIndexRequest.Builder&gt; getDeserializerWithPreconfiguredBuilder(\n            Supplier&lt;CreateIndexRequest.Builder&gt; builderSupplier) throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {\n  Class&lt;CreateIndexRequest&gt; clazz = CreateIndexRequest.class;\n  Method method = clazz.getDeclaredMethod(&quot;setupCreateIndexRequestDeserializer&quot;, ObjectDeserializer.class);\n  method.setAccessible(true);\n\n  ObjectDeserializer&lt;CreateIndexRequest.Builder&gt; deserializer = new ObjectDeserializer&lt;&gt;(builderSupplier);\n  method.invoke(null, deserializer);\n  return deserializer;\n}\n</code></pre>\n<p>and then</p>\n<pre><code>JsonParser jsonParser = JsonProvider.provider().createParser(new StringReader(&quot;{}&quot;)); // &lt;-- your JSON request body\nSupplier&lt;CreateIndexRequest.Builder&gt; builderSupplier = () -&gt; new CreateIndexRequest.Builder().index(&quot;my-index&quot;);\nObjectDeserializer&lt;CreateIndexRequest.Builder&gt; deserializer = getDeserializerWithPreconfiguredBuilder(builderSupplier);\nCreateIndexRequest req = deserializer.deserialize(jsonParser, new JsonbJsonpMapper()).build();\n</code></pre>\n<p>Btw: Elasticsearch <a href=\"https://github.com/elastic/elasticsearch-java/pull/200\" rel=\"nofollow noreferrer\">has added</a> raw JSON support to the API. OpenSearch could draw some inspiration there.</p>\n"}],"owner":{"account_id":14370116,"reputation":403,"user_id":10380101,"display_name":"Bakar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1073,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76234662,"answer_count":1,"score":1,"last_activity_date":1684176321,"creation_date":1683195275,"question_id":76172055,"body_markdown":"The [Opensearch Java Client](https://opensearch.org/docs/latest/clients/java/) does not have methods which take it in raw JSON requests. \r\n\r\nAll of the methods require some Java POJO/Class to exist before doing a request such creating an index or even adding a document to an index. \r\n\r\nI have tried to use the [JSON Deserializers](https://github.com/opensearch-project/opensearch-java/blob/e422eb0263847bd1ca867c8c109bbb15463fae5b/java-client/src/main/java/org/opensearch/client/opensearch/indices/CreateIndexRequest.java#L437) and also using the Jackson ObjectMapper to convert the JSON to the Opensearch Request types but it doesn&#39;t have a native mapping for it. \r\n\r\n","title":"Is there a way to do Raw JSON Requests using the Opensearch Java Client?","body":"<p>The <a href=\"https://opensearch.org/docs/latest/clients/java/\" rel=\"nofollow noreferrer\">Opensearch Java Client</a> does not have methods which take it in raw JSON requests.</p>\n<p>All of the methods require some Java POJO/Class to exist before doing a request such creating an index or even adding a document to an index.</p>\n<p>I have tried to use the <a href=\"https://github.com/opensearch-project/opensearch-java/blob/e422eb0263847bd1ca867c8c109bbb15463fae5b/java-client/src/main/java/org/opensearch/client/opensearch/indices/CreateIndexRequest.java#L437\" rel=\"nofollow noreferrer\">JSON Deserializers</a> and also using the Jackson ObjectMapper to convert the JSON to the Opensearch Request types but it doesn't have a native mapping for it.</p>\n"},{"tags":["java","swing","lambda","netbeans"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1684176310,"post_id":76256884,"comment_id":134476080,"body_markdown":"*I have to submit the project tommorow* - not relevant to the question. My advice is to NOT use the IDE to generate code because you spend time learning the IDE and not Java/Swing. Write the code yourself and just use the IDE to help compile, debug etc.","body":"<i>I have to submit the project tommorow</i> - not relevant to the question. My advice is to NOT use the IDE to generate code because you spend time learning the IDE and not Java/Swing. Write the code yourself and just use the IDE to help compile, debug etc."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1684178579,"post_id":76256884,"comment_id":134476534,"body_markdown":"Code completion offers both and lets you switch; see Help &gt; Keyboard Shortcuts.","body":"Code completion offers both and lets you switch; see Help &gt; Keyboard Shortcuts."}],"owner":{"account_id":27971545,"reputation":11,"user_id":21361160,"display_name":"TrignoLord"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684176149,"creation_date":1684174052,"question_id":76256884,"body_markdown":"For some reason, it is not letting me use lambda expressions instead of \r\n\r\n    private void btn_addActionPerformed(java.awt.event.ActionEvent evt) {\r\n    }        \r\n\r\nHow do I implement lambda expressions in netbeans on buttons which were dragged and dropped on the GUI. I want the lambda expression to act as a MouseClick event handler\r\n\r\nI tried right clicking on button on the gui and selecting actionPerformed and then try deleting actionPerformed in the code but it doesnt let me delete the method. MY plan was to do this and then replace it with \r\n\r\n    btn_Add.addActionListener((event) -&gt; {\r\n        \r\n    });\r\n\r\nBut it doesnt let me delete. Even if I go to events sections in properties and remove the event. It still doesnt work adn shows an error when I type the lambda expression. This is a swing project.I have to submit the project tommorow. Any help regarding this would mean a lot.\r\n\r\n","title":"Why isnt netbeans letting me use lambda expressions on dragged and dropped buttons in GUI","body":"<p>For some reason, it is not letting me use lambda expressions instead of</p>\n<pre><code>private void btn_addActionPerformed(java.awt.event.ActionEvent evt) {\n}        \n</code></pre>\n<p>How do I implement lambda expressions in netbeans on buttons which were dragged and dropped on the GUI. I want the lambda expression to act as a MouseClick event handler</p>\n<p>I tried right clicking on button on the gui and selecting actionPerformed and then try deleting actionPerformed in the code but it doesnt let me delete the method. MY plan was to do this and then replace it with</p>\n<pre><code>btn_Add.addActionListener((event) -&gt; {\n    \n});\n</code></pre>\n<p>But it doesnt let me delete. Even if I go to events sections in properties and remove the event. It still doesnt work adn shows an error when I type the lambda expression. This is a swing project.I have to submit the project tommorow. Any help regarding this would mean a lot.</p>\n"},{"tags":["java","encoding","base64","bufferedinputstream"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1471878921,"post_id":39082816,"comment_id":65514092,"body_markdown":"What do you mean &quot;with a buffer&quot;. What is going to be the input, and what do you expect the output to be? A stream? A channel? A string?","body":"What do you mean &quot;with a buffer&quot;. What is going to be the input, and what do you expect the output to be? A stream? A channel? A string?"},{"owner":{"account_id":1267713,"reputation":130,"user_id":1224655,"display_name":"fforbeck"},"score":0,"creation_date":1471880985,"post_id":39082816,"comment_id":65515501,"body_markdown":"The input is an InputStream, the output is a base64 string content. The buffer would be the BufferedReader.","body":"The input is an InputStream, the output is a base64 string content. The buffer would be the BufferedReader."}],"answers":[{"comments":[{"owner":{"account_id":1267713,"reputation":130,"user_id":1224655,"display_name":"fforbeck"},"score":0,"creation_date":1471963817,"post_id":39099064,"comment_id":65555722,"body_markdown":"thanks a lot!! I just needed to switch the encoder because I am using java 6. Before this change it was taking ~900ms to encode, now it takes 103ms on avg for the same file.","body":"thanks a lot!! I just needed to switch the encoder because I am using java 6. Before this change it was taking ~900ms to encode, now it takes 103ms on avg for the same file."},{"owner":{"account_id":1521093,"reputation":3980,"user_id":1420715,"accept_rate":89,"display_name":"Lakatos Gyula"},"score":0,"creation_date":1559209795,"post_id":39099064,"comment_id":99352673,"body_markdown":"This solution doesn&#39;t seem to work correctly with InputStreams from urls, unless I buffer everything into a byte[] then input a new ByteArrayInputStream.","body":"This solution doesn&#39;t seem to work correctly with InputStreams from urls, unless I buffer everything into a byte[] then input a new ByteArrayInputStream."},{"owner":{"account_id":1521093,"reputation":3980,"user_id":1420715,"accept_rate":89,"display_name":"Lakatos Gyula"},"score":0,"creation_date":1559211345,"post_id":39099064,"comment_id":99353339,"body_markdown":"Fixed it for variable length streams. https://gist.github.com/laxika/b9475e042973cf69ae4f2b3524575abb However, I&#39;m not sure that it works for every InputStream implementation out there.","body":"Fixed it for variable length streams. <a href=\"https://gist.github.com/laxika/b9475e042973cf69ae4f2b3524575abb\" rel=\"nofollow noreferrer\">gist.github.com/laxika/b9475e042973cf69ae4f2b3524575abb</a> However, I&#39;m not sure that it works for every InputStream implementation out there."},{"owner":{"account_id":463157,"reputation":1366,"user_id":865882,"accept_rate":62,"display_name":"artejera"},"score":0,"creation_date":1658110402,"post_id":39099064,"comment_id":128961534,"body_markdown":"Hi.  I would only add that input streams may not complete any partial read operation to multiple of 3, as long as it fits in the buffer (and is more than 0 bytes).","body":"Hi.  I would only add that input streams may not complete any partial read operation to multiple of 3, as long as it fits in the buffer (and is more than 0 bytes)."}],"tags":[],"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"comment_count":4,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1471949261,"creation_date":1471949261,"answer_id":39099064,"question_id":39082816,"body_markdown":"Fun fact about Base64: It takes three bytes, and converts them into four letters. This means that if you read binary data in chunks that are divisible by three, you can feed the chunks to *any* Base64 encoder, and it will encode it in the same way as if you fed it the entire file.\r\n\r\nNow, if you want your output stream to just be one long line of Base64 data - which is perfectly legal - then all you need to do is something along the lines of: \r\n\r\n    private static final int BUFFER_SIZE = 3 * 1024;\r\n\r\n    try ( BufferedInputStream in = new BufferedInputStream(input, BUFFER_SIZE); ) {\r\n        Base64.Encoder encoder = Base64.getEncoder();\r\n        StringBuilder result = new StringBuilder();\r\n        byte[] chunk = new byte[BUFFER_SIZE];\r\n        int len = 0;\r\n        while ( (len = in.read(chunk)) == BUFFER_SIZE ) {\r\n             result.append( encoder.encodeToString(chunk) );\r\n        }\r\n        if ( len &gt; 0 ) {\r\n             chunk = Arrays.copyOf(chunk,len);\r\n             result.append( encoder.encodeToString(chunk) );\r\n        }\r\n    }\r\n\r\nThis means that only the last chunk may have a length that is not divisible by three and will therefore contain the padding characters.\r\n\r\nThe above example is with Java 8 Base64, but you can really use any encoder that takes a byte array of an arbitrary length and returns the base64 string of that byte array.\r\n\r\nThis means that you can play around with the buffer size as you wish.\r\n\r\nIf you want your output to be MIME compatible, however, you need to have the output separated into lines. In this case, I would set the chunk size in the above example to something that, when multiplied by 4/3, gives you a round number of lines. For example, if you want to have 64 characters per line, each line encodes 64 / 4 * 3, which is 48 bytes. If you encode 48 bytes, you&#39;ll get one line. If you encode 480 bytes, you&#39;ll get 10 full lines.\r\n\r\nSo modify the above BUFFER_SIZE to something like 4800. Instead of `Base64.getEncoder()` use `Base64.getMimeEncoder(64,new byte[] { 13, 10})`. And then, when it encodes, you&#39;ll get 100 full-sized lines from each chunk except the last. You may need to add a `result.append(&quot;\\r\\n&quot;)` to the while loop.","title":"Java buffered base64 encoder for streams","body":"<p>Fun fact about Base64: It takes three bytes, and converts them into four letters. This means that if you read binary data in chunks that are divisible by three, you can feed the chunks to <em>any</em> Base64 encoder, and it will encode it in the same way as if you fed it the entire file.</p>\n\n<p>Now, if you want your output stream to just be one long line of Base64 data - which is perfectly legal - then all you need to do is something along the lines of: </p>\n\n<pre><code>private static final int BUFFER_SIZE = 3 * 1024;\n\ntry ( BufferedInputStream in = new BufferedInputStream(input, BUFFER_SIZE); ) {\n    Base64.Encoder encoder = Base64.getEncoder();\n    StringBuilder result = new StringBuilder();\n    byte[] chunk = new byte[BUFFER_SIZE];\n    int len = 0;\n    while ( (len = in.read(chunk)) == BUFFER_SIZE ) {\n         result.append( encoder.encodeToString(chunk) );\n    }\n    if ( len &gt; 0 ) {\n         chunk = Arrays.copyOf(chunk,len);\n         result.append( encoder.encodeToString(chunk) );\n    }\n}\n</code></pre>\n\n<p>This means that only the last chunk may have a length that is not divisible by three and will therefore contain the padding characters.</p>\n\n<p>The above example is with Java 8 Base64, but you can really use any encoder that takes a byte array of an arbitrary length and returns the base64 string of that byte array.</p>\n\n<p>This means that you can play around with the buffer size as you wish.</p>\n\n<p>If you want your output to be MIME compatible, however, you need to have the output separated into lines. In this case, I would set the chunk size in the above example to something that, when multiplied by 4/3, gives you a round number of lines. For example, if you want to have 64 characters per line, each line encodes 64 / 4 * 3, which is 48 bytes. If you encode 48 bytes, you'll get one line. If you encode 480 bytes, you'll get 10 full lines.</p>\n\n<p>So modify the above BUFFER_SIZE to something like 4800. Instead of <code>Base64.getEncoder()</code> use <code>Base64.getMimeEncoder(64,new byte[] { 13, 10})</code>. And then, when it encodes, you'll get 100 full-sized lines from each chunk except the last. You may need to add a <code>result.append(\"\\r\\n\")</code> to the while loop.</p>\n"},{"tags":[],"owner":{"account_id":1535921,"reputation":3060,"user_id":1431979,"display_name":"Pierre C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684175780,"creation_date":1684175374,"answer_id":76257016,"question_id":39082816,"body_markdown":"If your goal is to read many files and convert them all to base64, there is a much shorter way of doing this.\r\n\r\nLeave the burden of opening the files for reading, creating the file for writing and copying the data from one to the other to `Files.copy`. \r\n\r\nAnd concentrate on encoding the bytes to base64 by wrapping the outputSteam through the `java.util.Base64` encoder function : `Base64.getEncoder().wrap(yourFileOutputStream)`.\r\n\r\nSo the whole process of converting the files inside `/yourSubdirectory` to base64 could be performed like this :\r\n\r\n```java\r\nFiles.walk(Paths.get(&quot;/yourSubdirectory&quot;))\r\n    .filter(Files::isRegularFile)\r\n    .forEach(path -&gt; {\r\n        try {\r\n            // Add &quot;.b64&quot; to the new base64 output file\r\n            File base64file = Paths.get(path.toString() + &quot;.b64&quot;).toFile();\r\n            // Read the input file, convert to base 64 and write output file\r\n            Files.copy(path, Base64.getEncoder().wrap(new FileOutuptStream(base64file)));\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    });\r\n\r\n```","title":"Java buffered base64 encoder for streams","body":"<p>If your goal is to read many files and convert them all to base64, there is a much shorter way of doing this.</p>\n<p>Leave the burden of opening the files for reading, creating the file for writing and copying the data from one to the other to <code>Files.copy</code>.</p>\n<p>And concentrate on encoding the bytes to base64 by wrapping the outputSteam through the <code>java.util.Base64</code> encoder function : <code>Base64.getEncoder().wrap(yourFileOutputStream)</code>.</p>\n<p>So the whole process of converting the files inside <code>/yourSubdirectory</code> to base64 could be performed like this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Files.walk(Paths.get(&quot;/yourSubdirectory&quot;))\n    .filter(Files::isRegularFile)\n    .forEach(path -&gt; {\n        try {\n            // Add &quot;.b64&quot; to the new base64 output file\n            File base64file = Paths.get(path.toString() + &quot;.b64&quot;).toFile();\n            // Read the input file, convert to base 64 and write output file\n            Files.copy(path, Base64.getEncoder().wrap(new FileOutuptStream(base64file)));\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    });\n\n</code></pre>\n"}],"owner":{"account_id":1267713,"reputation":130,"user_id":1224655,"display_name":"fforbeck"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15414,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":39099064,"answer_count":2,"score":5,"last_activity_date":1684175780,"creation_date":1471877960,"question_id":39082816,"body_markdown":"I have lots of PDF files that I need to get its content encoded using base64. I have an Akka app which fetch the files as stream and distributes to many workers to encode these files and returns the string base64 for each file. I got a basic solution for encoding:\r\n\r\n        org.apache.commons.codec.binary.Base64InputStream;\r\n        ...\r\n        Base64InputStream b64IStream = null;\r\n        InputStreamReader reader = null;\r\n        BufferedReader br = null;\r\n        StringBuilder sb = new StringBuilder();\r\n        try {\r\n            b64IStream = new Base64InputStream(input, true);\r\n            reader = new InputStreamReader(b64IStream);\r\n            br = new BufferedReader(reader);\r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                sb.append(line);\r\n            }\r\n        } finally {\r\n            if (b64IStream != null) {\r\n                b64IStream.close();\r\n            }\r\n            if (reader != null) {\r\n                reader.close();\r\n            }\r\n            if (br != null) {\r\n                br.close();\r\n            }\r\n        }\r\n\r\nIt works, but I would like to know what would be the best way that I can encode the files using a buffer and if there is a faster alternative for this. \r\n\r\nI tested some other approaches such as:\r\n\r\n - Base64.getEncoder\r\n - sun.misc.BASE64Encoder\r\n - Base64.encodeBase64\r\n - javax.xml.bind.DatatypeConverter.printBase64\r\n - com.google.guava.BaseEncoding.base64\r\n\r\nThey are faster but they need the entire file, correct? Also, I do not want to block other threads while encoding 1 PDF file.\r\n\r\nAny input is really helpful. Thank you!\r\n ","title":"Java buffered base64 encoder for streams","body":"<p>I have lots of PDF files that I need to get its content encoded using base64. I have an Akka app which fetch the files as stream and distributes to many workers to encode these files and returns the string base64 for each file. I got a basic solution for encoding:</p>\n\n<pre><code>    org.apache.commons.codec.binary.Base64InputStream;\n    ...\n    Base64InputStream b64IStream = null;\n    InputStreamReader reader = null;\n    BufferedReader br = null;\n    StringBuilder sb = new StringBuilder();\n    try {\n        b64IStream = new Base64InputStream(input, true);\n        reader = new InputStreamReader(b64IStream);\n        br = new BufferedReader(reader);\n        String line;\n        while ((line = br.readLine()) != null) {\n            sb.append(line);\n        }\n    } finally {\n        if (b64IStream != null) {\n            b64IStream.close();\n        }\n        if (reader != null) {\n            reader.close();\n        }\n        if (br != null) {\n            br.close();\n        }\n    }\n</code></pre>\n\n<p>It works, but I would like to know what would be the best way that I can encode the files using a buffer and if there is a faster alternative for this. </p>\n\n<p>I tested some other approaches such as:</p>\n\n<ul>\n<li>Base64.getEncoder</li>\n<li>sun.misc.BASE64Encoder</li>\n<li>Base64.encodeBase64</li>\n<li>javax.xml.bind.DatatypeConverter.printBase64</li>\n<li>com.google.guava.BaseEncoding.base64</li>\n</ul>\n\n<p>They are faster but they need the entire file, correct? Also, I do not want to block other threads while encoding 1 PDF file.</p>\n\n<p>Any input is really helpful. Thank you!</p>\n"},{"tags":["java","maven","thymeleaf"],"comments":[{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1684173652,"post_id":76256715,"comment_id":134475555,"body_markdown":"keep empty body `&lt;body&gt;&lt;/body&gt;` and check if there is any issue.","body":"keep empty body <code>&lt;body&gt;&lt;&#47;body&gt;</code> and check if there is any issue."},{"owner":{"account_id":28607158,"reputation":11,"user_id":21902876,"display_name":"kledek"},"score":0,"creation_date":1684174308,"post_id":76256715,"comment_id":134475678,"body_markdown":"@ChetanAhirrao didn&#39;t work. still got the same error","body":"@ChetanAhirrao didn&#39;t work. still got the same error"}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684175430,"creation_date":1684175430,"answer_id":76257021,"question_id":76256715,"body_markdown":"I would use the newest versions of the frameworks:\r\n\r\n- jakarta.servlet-api 6.0.0 (instead of outdated javax.servlet-api from 2018)\r\n- thymeleaf 3.1.1.RELEASE\r\n- ogn 3.3.4","title":"problem running webpage with thymeleaf without springboot","body":"<p>I would use the newest versions of the frameworks:</p>\n<ul>\n<li>jakarta.servlet-api 6.0.0 (instead of outdated javax.servlet-api from 2018)</li>\n<li>thymeleaf 3.1.1.RELEASE</li>\n<li>ogn 3.3.4</li>\n</ul>\n"}],"owner":{"account_id":28607158,"reputation":11,"user_id":21902876,"display_name":"kledek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684175430,"creation_date":1684172928,"question_id":76256715,"body_markdown":"I am building a webshop for a class assignment using maven. Currently I am trying to create a &quot;genreOverview&quot; page that displays books based on the genre picked by the user using thymeleaf WITHOUT SPRING. But when i start the server and try to run the page, i get the error:\r\n\r\n\r\n```\r\n[/WebShop23Maven_war_exploded] threw exception [Servlet execution threw an exception] with root cause\r\n\tjava.lang.NoClassDefFoundError: Could not initialize class org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator\r\n\t\tat org.thymeleaf.standard.StandardDialect.getVariableExpressionEvaluator(StandardDialect.java:179)\r\n\t\tat org.thymeleaf.standard.StandardDialect.getExecutionAttributes(StandardDialect.java:393)\r\n\t\tat org.thymeleaf.DialectSetConfiguration.build(DialectSetConfiguration.java:263)\r\n\t\tat org.thymeleaf.EngineConfiguration.&lt;init&gt;(EngineConfiguration.java:123)\r\n\t\tat org.thymeleaf.TemplateEngine.initialize(TemplateEngine.java:336)\r\n\t\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1079)\r\n\t\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1067)\r\n\t\tat org.chaotec.servlets.GenreOverview.doGet(GenreOverview.java:34)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\t\tat org.apache.tomee.catalina.OpenEJBValve.invoke(OpenEJBValve.java:45)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t\tat org.apache.tomee.catalina.OpenEJBSecurityListener$RequestCapturer.invoke(OpenEJBSecurityListener.java:97)\r\n\t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nthis is the thymeleafConfig:\r\n\r\n\r\n```\r\npackage org.chaotec.thymeleaf;\r\n\r\nimport org.thymeleaf.TemplateEngine;\r\n\r\nimport javax.servlet.ServletContext;\r\nimport javax.servlet.ServletContextEvent;\r\nimport javax.servlet.ServletContextListener;\r\nimport javax.servlet.annotation.WebListener;\r\nimport org.thymeleaf.templatemode.TemplateMode;\r\nimport org.thymeleaf.templateresolver.ITemplateResolver;\r\nimport org.thymeleaf.templateresolver.ServletContextTemplateResolver;\r\n\r\nimport java.util.logging.Logger;\r\n\r\n@WebListener\r\npublic class ThymeleafConfig implements ServletContextListener {\r\n    private static final Logger log = Logger.getLogger(ThymeleafConfig.class.getName());\r\n    private static TemplateEngine engine;\r\n\r\n    @Override\r\n    public void contextInitialized(ServletContextEvent sce) {\r\n        /* This method is called when the servlet context is initialized(when the Web application is deployed). */\r\n        log.info(&quot;Anwendung gestartet.&quot;);\r\n        log.info(sce.getServletContext().getServerInfo());\r\n        engine = templateEngine(sce.getServletContext());\r\n    }\r\n\r\n\r\n    @Override\r\n    public void contextDestroyed(ServletContextEvent sce) {\r\n        /* This method is called when the servlet Context is undeployed or Application Server shuts down. */\r\n    }\r\n    public static TemplateEngine getTemplateEngine() {\r\n        return engine;\r\n    }\r\n\r\n    \r\n    private TemplateEngine templateEngine(ServletContext servletContext) {\r\n        TemplateEngine engine = new TemplateEngine();\r\n        engine.setTemplateResolver(templateResolver(servletContext));\r\n        return engine;\r\n    }\r\n    \r\n    private ITemplateResolver templateResolver(ServletContext servletContext) {\r\n        ServletContextTemplateResolver resolver = new ServletContextTemplateResolver(servletContext);\r\n        resolver.setPrefix(&quot;/WEB-INF/templates/&quot;);\r\n        resolver.setTemplateMode(TemplateMode.HTML);\r\n        return resolver;\r\n    }\r\n}\r\n\r\n```\r\nthis is my servlet (the code is not what the genreOverview should be, but an example that i use when i first learned about thymeleaf):\r\n\r\n\r\n```\r\npackage org.chaotec.servlets;\r\n\r\nimport org.chaotec.backend.Book;\r\nimport org.chaotec.database.Database;\r\nimport org.chaotec.thymeleaf.ThymeleafConfig;\r\nimport org.thymeleaf.TemplateEngine;\r\nimport org.thymeleaf.context.WebContext;\r\n\r\n\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@WebServlet(name = &quot;GenreOverview&quot;, value = &quot;/genreOverview&quot;)\r\npublic class GenreOverview extends HttpServlet {\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n        TemplateEngine engine = ThymeleafConfig.getTemplateEngine();\r\n        WebContext context = new WebContext(request, response, request.getServletContext());\r\n        response.setCharacterEncoding(&quot;UTF-8&quot;);\r\n\r\n\r\n        context.setVariable(&quot;recipient&quot;, &quot;World&quot;);\r\n        List&lt;String&gt; staedte = new ArrayList&lt;&gt;();\r\n        staedte.add(&quot;Emden&quot;); staedte.add(&quot;Leer&quot;); staedte.add(&quot;Aurich&quot;);\r\n        context.setVariable(&quot;staedte&quot;, staedte);\r\n        context.setVariable(&quot;modul&quot;,\r\n                request.getServletContext().getInitParameter(&quot;modul&quot;));\r\n        engine.process(&quot;genreOverview.html&quot;, context, response.getWriter());\r\n    }\r\n}\r\n```\r\n\r\nand this is the genreOverview.html (also not the actual genreOverview page, just the example):\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Title&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;h1&gt;Hello &lt;span th:text=&quot;${recipient}&quot;&gt;Peter&lt;/span&gt;!!!&lt;/h1&gt;\r\n    &lt;h2&gt;Modul &lt;span th:text=&quot;${modul}&quot;&gt;Java&lt;/span&gt;&lt;/h2&gt;\r\n    &lt;ul&gt;\r\n        &lt;li th:each=&quot;stadt : ${staedte}&quot; th:text=&quot;${stadt}&quot;&gt;Berlin&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nthis is my pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.chaotec&lt;/groupId&gt;\r\n    &lt;artifactId&gt;WebShop23Maven&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.primefaces&lt;/groupId&gt;\r\n            &lt;artifactId&gt;primefaces&lt;/artifactId&gt;\r\n            &lt;version&gt;12.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.15.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.opencsv/opencsv --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ognl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ognl&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.26&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nthe original error i got was actually &quot;java.lang.NoClassDefFoundError: ognl/PropertyAccessor&quot; but then i added the ognl dependancy i am currently stuck with this error. I&#39;ve tried rerunning a clean build to even making a 1-to-1 copy of a new project but still nothing works. I only want to solve this error so i can see what my output looks like and start working on the actual page display","title":"problem running webpage with thymeleaf without springboot","body":"<p>I am building a webshop for a class assignment using maven. Currently I am trying to create a &quot;genreOverview&quot; page that displays books based on the genre picked by the user using thymeleaf WITHOUT SPRING. But when i start the server and try to run the page, i get the error:</p>\n<pre><code>[/WebShop23Maven_war_exploded] threw exception [Servlet execution threw an exception] with root cause\n    java.lang.NoClassDefFoundError: Could not initialize class org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator\n        at org.thymeleaf.standard.StandardDialect.getVariableExpressionEvaluator(StandardDialect.java:179)\n        at org.thymeleaf.standard.StandardDialect.getExecutionAttributes(StandardDialect.java:393)\n        at org.thymeleaf.DialectSetConfiguration.build(DialectSetConfiguration.java:263)\n        at org.thymeleaf.EngineConfiguration.&lt;init&gt;(EngineConfiguration.java:123)\n        at org.thymeleaf.TemplateEngine.initialize(TemplateEngine.java:336)\n        at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1079)\n        at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1067)\n        at org.chaotec.servlets.GenreOverview.doGet(GenreOverview.java:34)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.tomee.catalina.OpenEJBValve.invoke(OpenEJBValve.java:45)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.tomee.catalina.OpenEJBSecurityListener$RequestCapturer.invoke(OpenEJBSecurityListener.java:97)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>this is the thymeleafConfig:</p>\n<pre><code>package org.chaotec.thymeleaf;\n\nimport org.thymeleaf.TemplateEngine;\n\nimport javax.servlet.ServletContext;\nimport javax.servlet.ServletContextEvent;\nimport javax.servlet.ServletContextListener;\nimport javax.servlet.annotation.WebListener;\nimport org.thymeleaf.templatemode.TemplateMode;\nimport org.thymeleaf.templateresolver.ITemplateResolver;\nimport org.thymeleaf.templateresolver.ServletContextTemplateResolver;\n\nimport java.util.logging.Logger;\n\n@WebListener\npublic class ThymeleafConfig implements ServletContextListener {\n    private static final Logger log = Logger.getLogger(ThymeleafConfig.class.getName());\n    private static TemplateEngine engine;\n\n    @Override\n    public void contextInitialized(ServletContextEvent sce) {\n        /* This method is called when the servlet context is initialized(when the Web application is deployed). */\n        log.info(&quot;Anwendung gestartet.&quot;);\n        log.info(sce.getServletContext().getServerInfo());\n        engine = templateEngine(sce.getServletContext());\n    }\n\n\n    @Override\n    public void contextDestroyed(ServletContextEvent sce) {\n        /* This method is called when the servlet Context is undeployed or Application Server shuts down. */\n    }\n    public static TemplateEngine getTemplateEngine() {\n        return engine;\n    }\n\n    \n    private TemplateEngine templateEngine(ServletContext servletContext) {\n        TemplateEngine engine = new TemplateEngine();\n        engine.setTemplateResolver(templateResolver(servletContext));\n        return engine;\n    }\n    \n    private ITemplateResolver templateResolver(ServletContext servletContext) {\n        ServletContextTemplateResolver resolver = new ServletContextTemplateResolver(servletContext);\n        resolver.setPrefix(&quot;/WEB-INF/templates/&quot;);\n        resolver.setTemplateMode(TemplateMode.HTML);\n        return resolver;\n    }\n}\n\n</code></pre>\n<p>this is my servlet (the code is not what the genreOverview should be, but an example that i use when i first learned about thymeleaf):</p>\n<pre><code>package org.chaotec.servlets;\n\nimport org.chaotec.backend.Book;\nimport org.chaotec.database.Database;\nimport org.chaotec.thymeleaf.ThymeleafConfig;\nimport org.thymeleaf.TemplateEngine;\nimport org.thymeleaf.context.WebContext;\n\n\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@WebServlet(name = &quot;GenreOverview&quot;, value = &quot;/genreOverview&quot;)\npublic class GenreOverview extends HttpServlet {\n\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\n        TemplateEngine engine = ThymeleafConfig.getTemplateEngine();\n        WebContext context = new WebContext(request, response, request.getServletContext());\n        response.setCharacterEncoding(&quot;UTF-8&quot;);\n\n\n        context.setVariable(&quot;recipient&quot;, &quot;World&quot;);\n        List&lt;String&gt; staedte = new ArrayList&lt;&gt;();\n        staedte.add(&quot;Emden&quot;); staedte.add(&quot;Leer&quot;); staedte.add(&quot;Aurich&quot;);\n        context.setVariable(&quot;staedte&quot;, staedte);\n        context.setVariable(&quot;modul&quot;,\n                request.getServletContext().getInitParameter(&quot;modul&quot;));\n        engine.process(&quot;genreOverview.html&quot;, context, response.getWriter());\n    }\n}\n</code></pre>\n<p>and this is the genreOverview.html (also not the actual genreOverview page, just the example):</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Hello &lt;span th:text=&quot;${recipient}&quot;&gt;Peter&lt;/span&gt;!!!&lt;/h1&gt;\n    &lt;h2&gt;Modul &lt;span th:text=&quot;${modul}&quot;&gt;Java&lt;/span&gt;&lt;/h2&gt;\n    &lt;ul&gt;\n        &lt;li th:each=&quot;stadt : ${staedte}&quot; th:text=&quot;${stadt}&quot;&gt;Berlin&lt;/li&gt;\n    &lt;/ul&gt;\n\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>this is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.chaotec&lt;/groupId&gt;\n    &lt;artifactId&gt;WebShop23Maven&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.primefaces&lt;/groupId&gt;\n            &lt;artifactId&gt;primefaces&lt;/artifactId&gt;\n            &lt;version&gt;12.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\n            &lt;version&gt;3.0.15.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.opencsv/opencsv --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n            &lt;version&gt;5.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;ognl&lt;/groupId&gt;\n            &lt;artifactId&gt;ognl&lt;/artifactId&gt;\n            &lt;version&gt;3.1.26&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n    &lt;/dependencies&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p>the original error i got was actually &quot;java.lang.NoClassDefFoundError: ognl/PropertyAccessor&quot; but then i added the ognl dependancy i am currently stuck with this error. I've tried rerunning a clean build to even making a 1-to-1 copy of a new project but still nothing works. I only want to solve this error so i can see what my output looks like and start working on the actual page display</p>\n"},{"tags":["java","json","spring","postgresql","jdb"],"comments":[{"owner":{"account_id":2064333,"reputation":113,"user_id":1840185,"display_name":"Viktor Reinok"},"score":0,"creation_date":1684175260,"post_id":76256832,"comment_id":134475863,"body_markdown":"Could you elaborate on why exactly you need a string representation of students?","body":"Could you elaborate on why exactly you need a string representation of students?"},{"owner":{"account_id":28607229,"reputation":1,"user_id":21902930,"display_name":"Obai Mohammad"},"score":0,"creation_date":1684269477,"post_id":76256832,"comment_id":134493129,"body_markdown":"The idea is to send it back to the front end. What do you suggest","body":"The idea is to send it back to the front end. What do you suggest"}],"answers":[{"tags":[],"owner":{"account_id":2064333,"reputation":113,"user_id":1840185,"display_name":"Viktor Reinok"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684175229,"creation_date":1684175229,"answer_id":76257000,"question_id":76256832,"body_markdown":" 1. I would try to create Entity aka. DBO for student instead of Returning JSONObject. \r\n 2. Use ObjectMapper that returns a string JSON representation.\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();   String studentsJSON\r\n    = objectMapper.writeValueAsString(students);\r\n\r\n","title":"spring native query call a function that returns a json","body":"<ol>\n<li><p>I would try to create Entity aka. DBO for student instead of Returning JSONObject.</p>\n</li>\n<li><p>Use ObjectMapper that returns a string JSON representation.</p>\n<p>ObjectMapper objectMapper = new ObjectMapper();   String studentsJSON\n= objectMapper.writeValueAsString(students);</p>\n</li>\n</ol>\n"}],"owner":{"account_id":28607229,"reputation":1,"user_id":21902930,"display_name":"Obai Mohammad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684175229,"creation_date":1684173733,"question_id":76256832,"body_markdown":"I am new to java and I am trying to call a function that returns a json object, However the java method returns a String. \r\n\r\nIs there a way  in postrgres to convert Json to VARCHAR, or in java to vonvert JSONObject to a json String\r\n```\r\n@Repository\r\npublic interface CourseRepository extends JpaRepository&lt;Course, Long&gt; {\r\n    @Query(value = &quot;select* from get_enrolled_courses(:id);&quot;, nativeQuery = true)\r\n    JSONObject getStudents(@Param(&quot;id&quot;) int courseId);\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\n`    \r\n@Service\r\npublic class CourseServices {\r\npublic JSONObject getEnrolledStudentsLight(int id){\r\n\r\n        return repository.getStudents(id);\r\n    }`\r\n}\r\n```\r\n\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/v2/courses&quot;)\r\npublic class CourseController {\r\n    @GetMapping (&quot;/{courseId}/students/light&quot;)\r\n    public String getEnrolledStudentsLight (@PathVariable int courseId ){\r\n        return service.getEnrolledStudentsLight(courseId).toJSONString();\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI tried toJSONString() but the out put is key:value String and I only want the values as string just like the out put from the database\r\n\r\n\r\n```\r\ncreate or replace  FUNCTION get_enrolled_courses (student_id int)\r\n    RETURNS  varchar\r\n    LANGUAGE plpgsql\r\nAs $$\r\nDECLARE s_id INTEGER;\r\nbegin\r\n    select student_id into s_id;\r\n    return (select COALESCE(array_to_json(array_agg(row_to_json(t)) ),&#39;[]&#39;::json)\r\n            from (\r\n                     select c.id,c.title,c.credits,c.updated_at,c.created_at\r\n                     from course_student cs join courses c on c.id = cs.course_id\r\n                     where cs.student_id = s_id\r\n                 ) t);\r\nend;\r\n$$;\r\n\r\n```\r\n\r\nthe output of the DB is : [\r\n  {\r\n    &quot;id&quot;: 14,\r\n    &quot;title&quot;: &quot;Intoduction to computer scince&quot;,\r\n    &quot;credits&quot;: 9,\r\n    &quot;updated_at&quot;: &quot;2023-05-05T20:56:58.160225&quot;,\r\n    &quot;created_at&quot;: &quot;2023-05-05T20:56:58.160225&quot;\r\n  },\r\n  {\r\n    &quot;id&quot;: 18,\r\n    &quot;title&quot;: &quot;Data Base 2&quot;,\r\n    &quot;credits&quot;: 12,\r\n    &quot;updated_at&quot;: &quot;2023-05-05T20:57:20.064462&quot;,\r\n    &quot;created_at&quot;: &quot;2023-05-05T20:57:20.064462&quot;\r\n  },\r\n  {\r\n    &quot;id&quot;: 19,\r\n    &quot;title&quot;: &quot;Signal and Systems&quot;,\r\n    &quot;credits&quot;: 9,\r\n    &quot;updated_at&quot;: &quot;2023-05-05T20:57:20.066494&quot;,\r\n    &quot;created_at&quot;: &quot;2023-05-05T20:57:20.066494&quot;\r\n  }\r\n]\r\n\r\nany suggestions?\r\n","title":"spring native query call a function that returns a json","body":"<p>I am new to java and I am trying to call a function that returns a json object, However the java method returns a String.</p>\n<p>Is there a way  in postrgres to convert Json to VARCHAR, or in java to vonvert JSONObject to a json String</p>\n<pre><code>@Repository\npublic interface CourseRepository extends JpaRepository&lt;Course, Long&gt; {\n    @Query(value = &quot;select* from get_enrolled_courses(:id);&quot;, nativeQuery = true)\n    JSONObject getStudents(@Param(&quot;id&quot;) int courseId);\n\n\n}\n</code></pre>\n<pre><code>`    \n@Service\npublic class CourseServices {\npublic JSONObject getEnrolledStudentsLight(int id){\n\n        return repository.getStudents(id);\n    }`\n}\n</code></pre>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v2/courses&quot;)\npublic class CourseController {\n    @GetMapping (&quot;/{courseId}/students/light&quot;)\n    public String getEnrolledStudentsLight (@PathVariable int courseId ){\n        return service.getEnrolledStudentsLight(courseId).toJSONString();\n    }\n\n}\n\n</code></pre>\n<p>I tried toJSONString() but the out put is key:value String and I only want the values as string just like the out put from the database</p>\n<pre><code>create or replace  FUNCTION get_enrolled_courses (student_id int)\n    RETURNS  varchar\n    LANGUAGE plpgsql\nAs $$\nDECLARE s_id INTEGER;\nbegin\n    select student_id into s_id;\n    return (select COALESCE(array_to_json(array_agg(row_to_json(t)) ),'[]'::json)\n            from (\n                     select c.id,c.title,c.credits,c.updated_at,c.created_at\n                     from course_student cs join courses c on c.id = cs.course_id\n                     where cs.student_id = s_id\n                 ) t);\nend;\n$$;\n\n</code></pre>\n<p>the output of the DB is : [\n{\n&quot;id&quot;: 14,\n&quot;title&quot;: &quot;Intoduction to computer scince&quot;,\n&quot;credits&quot;: 9,\n&quot;updated_at&quot;: &quot;2023-05-05T20:56:58.160225&quot;,\n&quot;created_at&quot;: &quot;2023-05-05T20:56:58.160225&quot;\n},\n{\n&quot;id&quot;: 18,\n&quot;title&quot;: &quot;Data Base 2&quot;,\n&quot;credits&quot;: 12,\n&quot;updated_at&quot;: &quot;2023-05-05T20:57:20.064462&quot;,\n&quot;created_at&quot;: &quot;2023-05-05T20:57:20.064462&quot;\n},\n{\n&quot;id&quot;: 19,\n&quot;title&quot;: &quot;Signal and Systems&quot;,\n&quot;credits&quot;: 9,\n&quot;updated_at&quot;: &quot;2023-05-05T20:57:20.066494&quot;,\n&quot;created_at&quot;: &quot;2023-05-05T20:57:20.066494&quot;\n}\n]</p>\n<p>any suggestions?</p>\n"},{"tags":["java","flutter","kotlin","dart"],"owner":{"account_id":18400866,"reputation":1,"user_id":13403975,"display_name":"Muhammad Ismail"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684173521,"creation_date":1684173521,"question_id":76256800,"body_markdown":"When I add any dependancy in my flutter project and it resolve dependancy completely no error \r\nbut when I run the app it give this error \r\nLaunching lib\\main.dart on Android SDK built for x86 in debug mode...\r\nRunning Gradle task &#39;assembleDebug&#39;...\r\n[Fatal Error] kotlin-stdlib-jdk7-1.5.30.pom:2:1: Content is not allowed in prolog.\r\n[Fatal Error] kotlin-stdlib-jdk7-1.5.30.pom:2:1: Content is not allowed in prolog.\r\n[Fatal Error] kotlin-stdlib-jdk7-1.5.30.pom:2:1: Content is not allowed in prolog.\r\n[Fatal Error] kotlin-stdlib-jdk7-1.5.30.pom:2:1: Content is not allowed in prolog.\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:shared_preferences_android:generateDebugRFile&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:shared_preferences_android:debugCompileClasspath&#39;.\r\n   &gt; Could not resolve org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.5.30.\r\n     Required by:\r\n         project :shared_preferences_android &gt; org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.5.30\r\n      &gt; Could not resolve org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.5.30.\r\n         &gt; Could not parse POM https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-stdlib-jdk7/1.5.30/kotlin-stdlib-jdk7-1.5.30.pom\r\n            &gt; Content is not allowed in prolog.\r\n      &gt; Could not resolve org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.5.30.\r\n         &gt; Could not parse POM https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-stdlib-jdk7/1.5.30/kotlin-stdlib-jdk7-1.5.30.pom\r\n            &gt; Content is not allowed in prolog.\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 1m\r\nException: Gradle task assembleDebug failed with exit code 1\r\n\r\n\r\nPlease help me to resolve such an error ","title":"Flutter &quot;[Fatal Error] kotlin-stdlib-jdk7-1.5.30.pom:2:1: Content is not allowed in prolog.&quot; Error","body":"<p>When I add any dependancy in my flutter project and it resolve dependancy completely no error\nbut when I run the app it give this error\nLaunching lib\\main.dart on Android SDK built for x86 in debug mode...\nRunning Gradle task 'assembleDebug'...\n[Fatal Error] kotlin-stdlib-jdk7-1.5.30.pom:2:1: Content is not allowed in prolog.\n[Fatal Error] kotlin-stdlib-jdk7-1.5.30.pom:2:1: Content is not allowed in prolog.\n[Fatal Error] kotlin-stdlib-jdk7-1.5.30.pom:2:1: Content is not allowed in prolog.\n[Fatal Error] kotlin-stdlib-jdk7-1.5.30.pom:2:1: Content is not allowed in prolog.</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':shared_preferences_android:generateDebugRFile'.</li>\n</ul>\n<blockquote>\n<p>Could not resolve all files for configuration ':shared_preferences_android:debugCompileClasspath'.\nCould not resolve org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.5.30.\nRequired by:\nproject :shared_preferences_android &gt; org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.5.30\n&gt; Could not resolve org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.5.30.\n&gt; Could not parse POM <a href=\"https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-stdlib-jdk7/1.5.30/kotlin-stdlib-jdk7-1.5.30.pom\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-stdlib-jdk7/1.5.30/kotlin-stdlib-jdk7-1.5.30.pom</a>\n&gt; Content is not allowed in prolog.\n&gt; Could not resolve org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.5.30.\n&gt; Could not parse POM <a href=\"https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-stdlib-jdk7/1.5.30/kotlin-stdlib-jdk7-1.5.30.pom\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-stdlib-jdk7/1.5.30/kotlin-stdlib-jdk7-1.5.30.pom</a>\n&gt; Content is not allowed in prolog.</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<ul>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></li>\n</ul>\n<p>BUILD FAILED in 1m\nException: Gradle task assembleDebug failed with exit code 1</p>\n<p>Please help me to resolve such an error</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":1439380,"reputation":15777,"user_id":1750757,"accept_rate":83,"display_name":"VP."},"score":1,"creation_date":1438077818,"post_id":31672897,"comment_id":51288679,"body_markdown":"Why is not it working? Where is the problem? Maybe some debugger use? Or error status of some function call ? What have you tried in order to fix the problem?","body":"Why is not it working? Where is the problem? Maybe some debugger use? Or error status of some function call ? What have you tried in order to fix the problem?"},{"owner":{"account_id":6696382,"reputation":41,"user_id":5164273,"display_name":"Vinod Kumar"},"score":1,"creation_date":1438077942,"post_id":31672897,"comment_id":51288755,"body_markdown":"Actually when I click a button, pdf should be downloaded automatically, In previous browser versions it works properly. My browser was updated and the pdf is opening instead of downloading","body":"Actually when I click a button, pdf should be downloaded automatically, In previous browser versions it works properly. My browser was updated and the pdf is opening instead of downloading"}],"answers":[{"comments":[{"owner":{"account_id":6696382,"reputation":41,"user_id":5164273,"display_name":"Vinod Kumar"},"score":0,"creation_date":1438084396,"post_id":31675388,"comment_id":51292952,"body_markdown":"Previously I done like that only by disabling the pdf viewer but after updating the browser i&#39;m getting the problem even though the plugin is in disable mode. Second thing is if I do lik unchecking pdf browser in adobe i may get prob in IE","body":"Previously I done like that only by disabling the pdf viewer but after updating the browser i&#39;m getting the problem even though the plugin is in disable mode. Second thing is if I do lik unchecking pdf browser in adobe i may get prob in IE"},{"owner":{"account_id":6305239,"reputation":389,"user_id":4898493,"accept_rate":75,"display_name":"fahad"},"score":0,"creation_date":1438084475,"post_id":31675388,"comment_id":51293002,"body_markdown":"then you can do this when ever selenium scrip runs it should disable all extensions simply by your selenium code try this at link http://stackoverflow.com/questions/14049151/how-to-disable-chrome-extension-in-selenium","body":"then you can do this when ever selenium scrip runs it should disable all extensions simply by your selenium code try this at link <a href=\"http://stackoverflow.com/questions/14049151/how-to-disable-chrome-extension-in-selenium\" title=\"how to disable chrome extension in selenium\">stackoverflow.com/questions/14049151/&hellip;</a>"},{"owner":{"account_id":6305239,"reputation":389,"user_id":4898493,"accept_rate":75,"display_name":"fahad"},"score":1,"creation_date":1438084905,"post_id":31675388,"comment_id":51293320,"body_markdown":"you can try this use ROBOT class and press ctrl+S to save pdf and then hit Enter from robot that would save pdf in hard disk ? try this","body":"you can try this use ROBOT class and press ctrl+S to save pdf and then hit Enter from robot that would save pdf in hard disk ? try this"},{"owner":{"account_id":6696382,"reputation":41,"user_id":5164273,"display_name":"Vinod Kumar"},"score":0,"creation_date":1438085374,"post_id":31675388,"comment_id":51293671,"body_markdown":"Fahad I refered that link I think it is for extensions and not for plugins, even though I tried it but no use.","body":"Fahad I refered that link I think it is for extensions and not for plugins, even though I tried it but no use."},{"owner":{"account_id":6696382,"reputation":41,"user_id":5164273,"display_name":"Vinod Kumar"},"score":0,"creation_date":1438085456,"post_id":31675388,"comment_id":51293737,"body_markdown":"And for FF IE I&#39;m using sikuli and ff profiles. So I need to change the code in so many places to use robot class","body":"And for FF IE I&#39;m using sikuli and ff profiles. So I need to change the code in so many places to use robot class"},{"owner":{"account_id":6696382,"reputation":41,"user_id":5164273,"display_name":"Vinod Kumar"},"score":0,"creation_date":1438753007,"post_id":31675388,"comment_id":51572172,"body_markdown":"Can anyone please help me out","body":"Can anyone please help me out"},{"owner":{"account_id":6305239,"reputation":389,"user_id":4898493,"accept_rate":75,"display_name":"fahad"},"score":0,"creation_date":1438758997,"post_id":31675388,"comment_id":51574950,"body_markdown":"i dont see any other solution sorry","body":"i dont see any other solution sorry"},{"owner":{"account_id":6696382,"reputation":41,"user_id":5164273,"display_name":"Vinod Kumar"},"score":0,"creation_date":1438864327,"post_id":31675388,"comment_id":51631037,"body_markdown":"its ok fahad i&#39;m still trying on it","body":"its ok fahad i&#39;m still trying on it"}],"tags":[],"owner":{"account_id":6305239,"reputation":389,"user_id":4898493,"accept_rate":75,"display_name":"fahad"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438084302,"creation_date":1438083991,"answer_id":31675388,"question_id":31672897,"body_markdown":"Are you using Adobe Acrobat/Adobe Reader to display the PDFs? If so, it is probably Abode&#39;s behavior you need to modify.\r\n\r\nHere are the steps I had to take:\r\n\r\n 1. Open Adobe Reader\r\n 2. Edit menu, Preferences\r\n 3. Selcet Internet from the Categories list\r\n 4. Uncheck Display PDF in browser\r\n 5. Press OK\r\n\r\nyou can also disable the Adobe plugin in Chrome, which will force Chrome to download the PDF.\r\n\r\nIt&#39;s under chrome://plugins.\r\n\r\nbut as you said its latest chrome browser then check is chrome PDF view visible in plugin if Yes disable it too. \r\n\r\n - Disable &quot;Chrome PDF Viewer&quot; or unmark always allowed to run check box try both \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/RcHeo.png","title":"How to download a pdf file in chrome using selenium webdriver","body":"<p>Are you using Adobe Acrobat/Adobe Reader to display the PDFs? If so, it is probably Abode's behavior you need to modify.</p>\n\n<p>Here are the steps I had to take:</p>\n\n<ol>\n<li>Open Adobe Reader</li>\n<li>Edit menu, Preferences</li>\n<li>Selcet Internet from the Categories list</li>\n<li>Uncheck Display PDF in browser</li>\n<li>Press OK</li>\n</ol>\n\n<p>you can also disable the Adobe plugin in Chrome, which will force Chrome to download the PDF.</p>\n\n<p>It's under chrome://plugins.</p>\n\n<p>but as you said its latest chrome browser then check is chrome PDF view visible in plugin if Yes disable it too. </p>\n\n<ul>\n<li>Disable \"Chrome PDF Viewer\" or unmark always allowed to run check box try both </li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/RcHeo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RcHeo.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":6696382,"reputation":41,"user_id":5164273,"display_name":"Vinod Kumar"},"score":0,"creation_date":1438087089,"post_id":31676486,"comment_id":51294967,"body_markdown":"For firefox i&#39;m using the same code i.e ff profile. I tried with that command also but no use","body":"For firefox i&#39;m using the same code i.e ff profile. I tried with that command also but no use"}],"tags":[],"owner":{"account_id":4446214,"reputation":2261,"user_id":3619412,"display_name":"Manu"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438086865,"creation_date":1438086865,"answer_id":31676486,"question_id":31672897,"body_markdown":"You would need to add below statement to your chrome profile:\r\n\r\n    chromePrefs.put(&quot;pdfjs.disabled&quot;, true);\r\n\r\nIt seems that newer versions of browsers are coming with built-in ability of displaying PDF files inside browser. Refer [this][1] for more information, though it is for firefox profile but still a good read.\r\n\r\nHope that solves your issue, else you may need to downgrade your chrome to make it work. Let me know if you have any queries.\r\n\r\n  [1]: http://yizeng.me/2014/05/23/download-pdf-files-automatically-in-firefox-using-selenium-webdriver/","title":"How to download a pdf file in chrome using selenium webdriver","body":"<p>You would need to add below statement to your chrome profile:</p>\n\n<pre><code>chromePrefs.put(\"pdfjs.disabled\", true);\n</code></pre>\n\n<p>It seems that newer versions of browsers are coming with built-in ability of displaying PDF files inside browser. Refer <a href=\"http://yizeng.me/2014/05/23/download-pdf-files-automatically-in-firefox-using-selenium-webdriver/\" rel=\"nofollow\">this</a> for more information, though it is for firefox profile but still a good read.</p>\n\n<p>Hope that solves your issue, else you may need to downgrade your chrome to make it work. Let me know if you have any queries.</p>\n"},{"tags":[],"owner":{"account_id":472176,"reputation":1686,"user_id":880498,"display_name":"rogercampos"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1494940091,"creation_date":1494940091,"answer_id":44002391,"question_id":31672897,"body_markdown":"Since chrome 57 the automatic pdf preview no longer works as a plugin, there&#39;s now a setting you can change to make this work. You can actually inspect the name of the pref by inspecting the chrome&#39;s own preference dialog, under &quot;Content Settings&quot; the flag that says &quot;Open PDF files in the default PDF viewer application.&quot;\r\n[![automatic pdf open pref][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QeoFb.png\r\n\r\nYou can set that to false to avoid automatic pdf preview, like this (ruby example):\r\n\r\n    caps = Selenium::WebDriver::Remote::Capabilities.chrome(\r\n            &quot;chromeOptions&quot; =&gt; {           \r\n                &#39;args&#39; =&gt; [&#39;disable-gpu&#39;, &quot;--window-size=1920,1080&quot;],\r\n                prefs: {\r\n                    &quot;download.prompt_for_download&quot;: false,\r\n                    &quot;download.directory_upgrade&quot;: true,\r\n                    &quot;plugins.always_open_pdf_externally&quot;: true,\r\n                    &quot;download.default_directory&quot;: DownloadHelpers::PATH.to_s\r\n                }\r\n            }\r\n        )\r\n    Capybara::Selenium::Driver.new(\r\n            app,\r\n            browser: :chrome,\r\n            desired_capabilities: caps\r\n        )","title":"How to download a pdf file in chrome using selenium webdriver","body":"<p>Since chrome 57 the automatic pdf preview no longer works as a plugin, there's now a setting you can change to make this work. You can actually inspect the name of the pref by inspecting the chrome's own preference dialog, under \"Content Settings\" the flag that says \"Open PDF files in the default PDF viewer application.\"\n<a href=\"https://i.stack.imgur.com/QeoFb.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/QeoFb.png\" alt=\"automatic pdf open pref\"></a></p>\n\n<p>You can set that to false to avoid automatic pdf preview, like this (ruby example):</p>\n\n<pre><code>caps = Selenium::WebDriver::Remote::Capabilities.chrome(\n        \"chromeOptions\" =&gt; {           \n            'args' =&gt; ['disable-gpu', \"--window-size=1920,1080\"],\n            prefs: {\n                \"download.prompt_for_download\": false,\n                \"download.directory_upgrade\": true,\n                \"plugins.always_open_pdf_externally\": true,\n                \"download.default_directory\": DownloadHelpers::PATH.to_s\n            }\n        }\n    )\nCapybara::Selenium::Driver.new(\n        app,\n        browser: :chrome,\n        desired_capabilities: caps\n    )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8694495,"reputation":115,"user_id":6506387,"display_name":"Arash Vahabpour"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1503354304,"creation_date":1503352815,"answer_id":45806123,"question_id":31672897,"body_markdown":"You might load this page and change the setting using selenium navigations:\r\n\r\n    chrome://settings/content/pdfDocuments\r\n\r\n","title":"How to download a pdf file in chrome using selenium webdriver","body":"<p>You might load this page and change the setting using selenium navigations:</p>\n\n<pre><code>chrome://settings/content/pdfDocuments\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1557350,"reputation":141,"user_id":1448034,"display_name":"windchaser"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1572298539,"creation_date":1572298539,"answer_id":58598697,"question_id":31672897,"body_markdown":"Here are the C# options for anyone working with .NET\r\n\r\n\tvar tsTimeout = new TimeSpan(0, 5, 0);\r\n\r\n\tChromeOptions chromeOptions = new ChromeOptions(); \r\n\tchromeOptions.AddUserProfilePreference(&quot;download.default_directory&quot;, _downloadFolder); \r\n\tchromeOptions.AddUserProfilePreference(&quot;download.prompt_for_download&quot;, false); \r\n\tchromeOptions.AddUserProfilePreference(&quot;download.directory_upgrade&quot;, true); \r\n\tchromeOptions.AddUserProfilePreference(&quot;plugins.plugins_disabled&quot;, &quot;Chrome PDF Viewer&quot;); \r\n\tchromeOptions.AddUserProfilePreference(&quot;plugins.always_open_pdf_externally&quot;, true);\r\n\r\n\t_driver = new ChromeDriver(CWebCrawler.WebCrawlerRootFolder, chromeOptions, tsTimeout);","title":"How to download a pdf file in chrome using selenium webdriver","body":"<p>Here are the C# options for anyone working with .NET</p>\n\n<pre><code>var tsTimeout = new TimeSpan(0, 5, 0);\n\nChromeOptions chromeOptions = new ChromeOptions(); \nchromeOptions.AddUserProfilePreference(\"download.default_directory\", _downloadFolder); \nchromeOptions.AddUserProfilePreference(\"download.prompt_for_download\", false); \nchromeOptions.AddUserProfilePreference(\"download.directory_upgrade\", true); \nchromeOptions.AddUserProfilePreference(\"plugins.plugins_disabled\", \"Chrome PDF Viewer\"); \nchromeOptions.AddUserProfilePreference(\"plugins.always_open_pdf_externally\", true);\n\n_driver = new ChromeDriver(CWebCrawler.WebCrawlerRootFolder, chromeOptions, tsTimeout);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15560211,"reputation":1411,"user_id":11225521,"display_name":"Bibin Gangadharan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684173419,"creation_date":1660836046,"answer_id":73405607,"question_id":31672897,"body_markdown":"The following python code worked for me in Chrome to download pdf by disabling the pdf viewer:\r\n\r\n    options = webdriver.ChromeOptions()\r\n    prefs = {&quot;download.default_directory&quot;: chromeDownloadPath,\r\n             &quot;download.prompt_for_download&quot;: False,\r\n             &quot;download.extensions_to_open&quot;: &quot;applications/pdf&quot;,\r\n             &quot;plugins.plugins_disabled&quot;: &quot;Chrome PDF Viewer&quot;,\r\n             &quot;plugins.always_open_pdf_externally&quot;: True}\r\n    options.add_experimental_option(&quot;prefs&quot;, prefs)    \r\n    driver = webdriver.Chrome(&#39;chromedriver&#39;, options=options)","title":"How to download a pdf file in chrome using selenium webdriver","body":"<p>The following python code worked for me in Chrome to download pdf by disabling the pdf viewer:</p>\n<pre><code>options = webdriver.ChromeOptions()\nprefs = {&quot;download.default_directory&quot;: chromeDownloadPath,\n         &quot;download.prompt_for_download&quot;: False,\n         &quot;download.extensions_to_open&quot;: &quot;applications/pdf&quot;,\n         &quot;plugins.plugins_disabled&quot;: &quot;Chrome PDF Viewer&quot;,\n         &quot;plugins.always_open_pdf_externally&quot;: True}\noptions.add_experimental_option(&quot;prefs&quot;, prefs)    \ndriver = webdriver.Chrome('chromedriver', options=options)\n</code></pre>\n"}],"owner":{"account_id":6696382,"reputation":41,"user_id":5164273,"display_name":"Vinod Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39499,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":6,"score":4,"last_activity_date":1684173419,"creation_date":1438077196,"question_id":31672897,"body_markdown":"I want to download pdf in chrome using selenium. \r\n\r\n\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, System.getProperty(&quot;user.dir&quot;)  \r\n\t\t\t\t   + System.getProperty(&quot;file.separator&quot;)\r\n\t\t\t\t   + &quot;BrowserDrivers&quot;\r\n\t\t\t\t   + System.getProperty(&quot;file.separator&quot;)\r\n\t\t\t\t   + &quot;chromedriver.exe&quot;);\r\n\r\n\tString downloadFilepath = &quot;C:\\\\Users\\\\Vinod\\\\Downloads&quot;;\r\n\r\n\tHashMap&lt;String, Object&gt; chromePrefs = new HashMap&lt;String, Object&gt;();\r\n\tchromePrefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\r\n\tchromePrefs.put(&quot;download.default_directory&quot;, downloadFilepath);\r\n\r\n\t//Save Chrome Opions\r\n\tChromeOptions options = new ChromeOptions();\r\n\tHashMap&lt;String, Object&gt; chromeOptionsMap = new HashMap&lt;String, Object&gt;();\r\n\toptions.setExperimentalOption(&quot;prefs&quot;, chromePrefs);\r\n\toptions.addArguments(&quot;--test-type&quot;);\r\n\r\n\r\n\tDesiredCapabilities cap = DesiredCapabilities.chrome();\r\n\tcap.setCapability(ChromeOptions.CAPABILITY, chromeOptionsMap);\r\n\tcap.setCapability(CapabilityType.ACCEPT_SSL_CERTS, true);\r\n\tcap.setCapability(ChromeOptions.CAPABILITY, options);\r\n\r\n\r\n\tdriver = new ChromeDriver(cap);\r\n\tdriver.get(url);\r\n\r\nI tried above code but its not working\r\n","title":"How to download a pdf file in chrome using selenium webdriver","body":"<p>I want to download pdf in chrome using selenium. </p>\n\n<pre><code>System.setProperty(\"webdriver.chrome.driver\", System.getProperty(\"user.dir\")  \n               + System.getProperty(\"file.separator\")\n               + \"BrowserDrivers\"\n               + System.getProperty(\"file.separator\")\n               + \"chromedriver.exe\");\n\nString downloadFilepath = \"C:\\\\Users\\\\Vinod\\\\Downloads\";\n\nHashMap&lt;String, Object&gt; chromePrefs = new HashMap&lt;String, Object&gt;();\nchromePrefs.put(\"profile.default_content_settings.popups\", 0);\nchromePrefs.put(\"download.default_directory\", downloadFilepath);\n\n//Save Chrome Opions\nChromeOptions options = new ChromeOptions();\nHashMap&lt;String, Object&gt; chromeOptionsMap = new HashMap&lt;String, Object&gt;();\noptions.setExperimentalOption(\"prefs\", chromePrefs);\noptions.addArguments(\"--test-type\");\n\n\nDesiredCapabilities cap = DesiredCapabilities.chrome();\ncap.setCapability(ChromeOptions.CAPABILITY, chromeOptionsMap);\ncap.setCapability(CapabilityType.ACCEPT_SSL_CERTS, true);\ncap.setCapability(ChromeOptions.CAPABILITY, options);\n\n\ndriver = new ChromeDriver(cap);\ndriver.get(url);\n</code></pre>\n\n<p>I tried above code but its not working</p>\n"},{"tags":["java","kafka-consumer-api","reactor-kafka"],"answers":[{"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":4,"creation_date":1684173850,"post_id":76256744,"comment_id":134475594,"body_markdown":"Welcome to Stack Overflow! While this code may solve the question, [including an explanation](//meta.stackexchange.com/q/114762) of how and why this solves the problem would really help to improve the quality of your post, and probably result in more up-votes. Remember that you are answering the question for readers in the future, not just the person asking now. Please [edit] your answer to add explanations and give an indication of what limitations and assumptions apply.","body":"Welcome to Stack Overflow! While this code may solve the question, <a href=\"//meta.stackexchange.com/q/114762\">including an explanation</a> of how and why this solves the problem would really help to improve the quality of your post, and probably result in more up-votes. Remember that you are answering the question for readers in the future, not just the person asking now. Please <a href=\"https://stackoverflow.com/posts/76256744/edit\">edit</a> your answer to add explanations and give an indication of what limitations and assumptions apply."}],"tags":[],"owner":{"account_id":28607123,"reputation":21,"user_id":21902847,"display_name":"Aashish Goyal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684173102,"creation_date":1684173102,"answer_id":76256744,"question_id":73272348,"body_markdown":"you can try - `r.receiverOffset().commit();`","title":"Kafka consumer Not committing offset using reactor-kafka","body":"<p>you can try - <code>r.receiverOffset().commit();</code></p>\n"}],"owner":{"account_id":6816720,"reputation":473,"user_id":5245143,"accept_rate":25,"display_name":"Vijay Manohar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1684173102,"creation_date":1659924796,"question_id":73272348,"body_markdown":"I am newbie to Kafka and my kafka consumer is not commiting offset after specified number of messages are consumed.I am trying to do manual commit after consuming every 5 messages using reactor-kafka project.I am verifying my offset commit using lenses consumers UI.\r\n\r\nThe following are my configurations:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.projectreactor.kafka&lt;/groupId&gt;\r\n        &lt;artifactId&gt;reactor-kafka&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.11&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n \r\n\r\n \r\n\r\n       @EventListener(ApplicationReadyEvent.class)\r\n            public void consumerListener() {\r\n                Properties props = new Properties();\r\n        \r\n                props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,bootstrapServersUrl);\r\n                props.put(ConsumerConfig.GROUP_ID_CONFIG,&quot;consumer-group-1&quot;);\r\n                props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG,false);\r\n                props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG,&quot;latest&quot;);\r\n                props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n    props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,StringDeserializer.class.getName());\r\n                props.put(ApplicationConstants.SECURITY_PROTOCOL,&quot;SSL&quot;);\r\n                props.put(SslConfigs.SSL_TRUSTSTORE_LOCATION_CONFIG,&quot;/etc/security/truststore.jks&quot;);\r\n                props.put(SslConfigs.SSL_TRUSTSTORE_PASSWORD_CONFIG,&quot;Password&quot;);\r\n                props.put(SslConfigs.SSL_KEYSTORE_TYPE_CONFIG,&quot;SSL&quot;);\r\n                props.put(SslConfigs.SSL_KEYSTORE_LOCATION_CONFIG,&quot;/etc/security/keystore.jks&quot;);\r\n                props.put(SslConfigs.SSL_KEYSTORE_PASSWORD_CONFIG,&quot;Password&quot;);\r\n                props.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG,300000);\r\n                props.put(ConsumerConfig.REQUEST_TIMEOUT_MS_CONFIG,300000);\r\n                props.put(ConsumerConfig.HEARTBEAT_INTERVAL_MS_CONFIG,15000);\r\n                props.put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG,30000);\r\n                props.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG,100);\r\n                props.put(ConsumerConfig.PARTITION_ASSIGNMENT_STRATEGY_CONFIG,&quot;org.apache.kafka.clients.consumer.CooperativeStickyAssignor&quot;);\r\n            \r\n\r\n     ReceiverOptions&lt;String,String&gt; receiverOptions = ReceiverOptions&lt;String,String&gt;.create(props)                                                             \r\n                                   .subscription(Collections.singleton(&quot;kafkaprodTopic&quot;))                                                                          \r\n                                   .commitBatchSize(5);\r\n\r\n        Flux&lt;ReceiverRecord&lt;String,String&gt;&gt; prodFlux = KafkaReceiver.create(receiverOptions)\r\n                                                           .receive();\r\n\r\n\r\n                                           prodFlux.subscribe(r -&gt;{\r\n                                                //do business logic\r\n                                                r.receiverOffset().acknowledge();\r\n                                           });\r\n    }\r\n\r\nMy consumer is able to consume messages succesfully and I am not seeing any Kafka exceptions as well , only problem is commit offset is not getting updated.","title":"Kafka consumer Not committing offset using reactor-kafka","body":"<p>I am newbie to Kafka and my kafka consumer is not commiting offset after specified number of messages are consumed.I am trying to do manual commit after consuming every 5 messages using reactor-kafka project.I am verifying my offset commit using lenses consumers UI.</p>\n<p>The following are my configurations:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.projectreactor.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;reactor-kafka&lt;/artifactId&gt;\n    &lt;version&gt;1.3.11&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n\n\n\n   @EventListener(ApplicationReadyEvent.class)\n        public void consumerListener() {\n            Properties props = new Properties();\n    \n            props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,bootstrapServersUrl);\n            props.put(ConsumerConfig.GROUP_ID_CONFIG,&quot;consumer-group-1&quot;);\n            props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG,false);\n            props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG,&quot;latest&quot;);\n            props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\nprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,StringDeserializer.class.getName());\n            props.put(ApplicationConstants.SECURITY_PROTOCOL,&quot;SSL&quot;);\n            props.put(SslConfigs.SSL_TRUSTSTORE_LOCATION_CONFIG,&quot;/etc/security/truststore.jks&quot;);\n            props.put(SslConfigs.SSL_TRUSTSTORE_PASSWORD_CONFIG,&quot;Password&quot;);\n            props.put(SslConfigs.SSL_KEYSTORE_TYPE_CONFIG,&quot;SSL&quot;);\n            props.put(SslConfigs.SSL_KEYSTORE_LOCATION_CONFIG,&quot;/etc/security/keystore.jks&quot;);\n            props.put(SslConfigs.SSL_KEYSTORE_PASSWORD_CONFIG,&quot;Password&quot;);\n            props.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG,300000);\n            props.put(ConsumerConfig.REQUEST_TIMEOUT_MS_CONFIG,300000);\n            props.put(ConsumerConfig.HEARTBEAT_INTERVAL_MS_CONFIG,15000);\n            props.put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG,30000);\n            props.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG,100);\n            props.put(ConsumerConfig.PARTITION_ASSIGNMENT_STRATEGY_CONFIG,&quot;org.apache.kafka.clients.consumer.CooperativeStickyAssignor&quot;);\n        \n\n ReceiverOptions&lt;String,String&gt; receiverOptions = ReceiverOptions&lt;String,String&gt;.create(props)                                                             \n                               .subscription(Collections.singleton(&quot;kafkaprodTopic&quot;))                                                                          \n                               .commitBatchSize(5);\n\n    Flux&lt;ReceiverRecord&lt;String,String&gt;&gt; prodFlux = KafkaReceiver.create(receiverOptions)\n                                                       .receive();\n\n\n                                       prodFlux.subscribe(r -&gt;{\n                                            //do business logic\n                                            r.receiverOffset().acknowledge();\n                                       });\n}\n</code></pre>\n<p>My consumer is able to consume messages succesfully and I am not seeing any Kafka exceptions as well , only problem is commit offset is not getting updated.</p>\n"},{"tags":["java","spring-boot","jpa","intellij-idea"],"comments":[{"owner":{"account_id":20960875,"reputation":136,"user_id":15400334,"display_name":"Superchamp"},"score":1,"creation_date":1625729173,"post_id":68296786,"comment_id":120705243,"body_markdown":"Look at the section &quot;Getting Started&quot; in the tutorial - it says add the following dependencies - Web, JPA, H2. If you performed this step, you will see them in the POM file of your project. If you have already added them, then in IntelliJ, right click on project -&gt; select &quot;Maven&quot; -&gt; &quot;Reload Project&quot;","body":"Look at the section &quot;Getting Started&quot; in the tutorial - it says add the following dependencies - Web, JPA, H2. If you performed this step, you will see them in the POM file of your project. If you have already added them, then in IntelliJ, right click on project -&gt; select &quot;Maven&quot; -&gt; &quot;Reload Project&quot;"},{"owner":{"account_id":22260524,"reputation":119,"user_id":16492009,"display_name":"Ziv"},"score":0,"creation_date":1683817263,"post_id":68296786,"comment_id":134427571,"body_markdown":"If you already check the dependencies. You can [clear IntelliJ cache](https://www.jetbrains.com/help/idea/invalidate-caches.html).","body":"If you already check the dependencies. You can <a href=\"https://www.jetbrains.com/help/idea/invalidate-caches.html\" rel=\"nofollow noreferrer\">clear IntelliJ cache</a>."},{"owner":{"account_id":12205661,"reputation":332,"user_id":8908834,"display_name":"Mauricio Buffon"},"score":1,"creation_date":1683837345,"post_id":68296786,"comment_id":134431974,"body_markdown":"Which version of spring-boot are you using? Are you taking into account the jakarta namespace change?","body":"Which version of spring-boot are you using? Are you taking into account the jakarta namespace change?"}],"answers":[{"tags":[],"owner":{"account_id":6193930,"reputation":2587,"user_id":4825845,"display_name":"Juan Moreno"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683751241,"creation_date":1683751241,"answer_id":76222406,"question_id":68296786,"body_markdown":"That dependency comes from the [`spring-boot-starter-data-jpa`][1].\r\n\r\nPlease review the suggested dependencies in the tutorial (jpa, web, h2).\r\n\r\nIf you&#39;re using [Gradle][2] you should have:\r\n```groovy\r\ndependencies {\r\n  implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n  implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n  runtimeOnly &#39;com.h2database:h2&#39;\r\n  testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n```\r\n\r\nOr [Maven][3]:\r\n```xml\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n      &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n```\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/tree/main/spring-boot-project/spring-boot-starters/spring-boot-starter-data-jpa\r\n  [2]: https://start.spring.io/#!type=gradle-project&amp;language=java&amp;platformVersion=3.0.6&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=data-jpa,web,h2\r\n  [3]: https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=3.0.6&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=data-jpa,web,h2","title":"Java add javax.persistence in IntelliJ","body":"<p>That dependency comes from the <a href=\"https://github.com/spring-projects/spring-boot/tree/main/spring-boot-project/spring-boot-starters/spring-boot-starter-data-jpa\" rel=\"nofollow noreferrer\"><code>spring-boot-starter-data-jpa</code></a>.</p>\n<p>Please review the suggested dependencies in the tutorial (jpa, web, h2).</p>\n<p>If you're using <a href=\"https://start.spring.io/#!type=gradle-project&amp;language=java&amp;platformVersion=3.0.6&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=data-jpa,web,h2\" rel=\"nofollow noreferrer\">Gradle</a> you should have:</p>\n<pre><code>dependencies {\n  implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n  implementation 'org.springframework.boot:spring-boot-starter-web'\n  runtimeOnly 'com.h2database:h2'\n  testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n</code></pre>\n<p>Or <a href=\"https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=3.0.6&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=data-jpa,web,h2\" rel=\"nofollow noreferrer\">Maven</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n      &lt;artifactId&gt;h2&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1793,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76222406,"answer_count":1,"score":2,"last_activity_date":1684172887,"creation_date":1625726762,"question_id":68296786,"body_markdown":"I am trying to create a basic Java Spring program. Where do I get javax.persistence? It cannot resolve persistence, and cannot Find JAR on Web after attempting. Currently using IntelliJ .\r\n\r\nhttps://spring.io/guides/tutorials/rest/\r\n\r\n    package payroll;\r\n    \r\n    import java.util.Objects;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.Id;\r\n    \r\n    @Entity\r\n    class Employee {\r\n    \r\n      private @Id @GeneratedValue Long id;\r\n      private String name;\r\n      private String role;\r\n    \r\n\r\n[![enter image description here][1]][1]\r\n      \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7dYKt.png","title":"Java add javax.persistence in IntelliJ","body":"<p>I am trying to create a basic Java Spring program. Where do I get javax.persistence? It cannot resolve persistence, and cannot Find JAR on Web after attempting. Currently using IntelliJ .</p>\n<p><a href=\"https://spring.io/guides/tutorials/rest/\" rel=\"nofollow noreferrer\">https://spring.io/guides/tutorials/rest/</a></p>\n<pre><code>package payroll;\n\nimport java.util.Objects;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\n\n@Entity\nclass Employee {\n\n  private @Id @GeneratedValue Long id;\n  private String name;\n  private String role;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7dYKt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7dYKt.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","apache-kafka","apache-camel","quarkus","kafka-producer-api"],"comments":[{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":0,"creation_date":1684218140,"post_id":76256687,"comment_id":134481128,"body_markdown":"The code is a bit confusing. First, the log complains about a `person-in` channel not consumed by anyone. Then, the log is confusing in the sense it seems that the channel `person-out` is consumed somewhere, but I can&#39;t see where. Can you provide the full code, or clean up the question?  The best might be a github repo.","body":"The code is a bit confusing. First, the log complains about a <code>person-in</code> channel not consumed by anyone. Then, the log is confusing in the sense it seems that the channel <code>person-out</code> is consumed somewhere, but I can&#39;t see where. Can you provide the full code, or clean up the question?  The best might be a github repo."}],"owner":{"account_id":27891309,"reputation":1,"user_id":21297630,"display_name":"William Santos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684172738,"creation_date":1684172738,"question_id":76256687,"body_markdown":"I&#39;m completely new to Kafka and i have some troubles using the KafkaProducer. Even though I&#39;m using the same logic of a previous more simple project it seems as the class with emitter is going null and so it doesn&#39;t send any message though the message I need sent is correct.\r\n\r\nHow can I solve this?\r\n\r\n\r\n---\r\n\r\nMy project:\r\n\r\n---\r\n\r\nPersonEntity:\r\n```\r\npackage org.acme.Entities;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n\r\nimport io.quarkus.hibernate.orm.panache.PanacheEntityBase;\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Embeddable;\r\nimport jakarta.persistence.Embedded;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\nimport jakarta.xml.bind.annotation.XmlTransient;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport lombok.ToString;\r\n\r\n@Entity\r\n@ToString\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n@Table(name = &quot;KafkaWorkerService&quot;)\r\npublic class PersonEntity extends PanacheEntityBase {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id&quot;)\r\n\t@ToString.Exclude\r\n\t@JsonIgnore\r\n\t@XmlTransient\r\n\tprivate Long id;\r\n\r\n\t@Getter\r\n\t@Setter\r\n\t@Embedded\r\n\tprivate Name name;\r\n\r\n\t@Getter\r\n\t@Setter\r\n\t@Column(name = &quot;age&quot;)\r\n\tprivate Integer age;\r\n\r\n\t@Getter\r\n\t@Setter\r\n\t@Column(name = &quot;email&quot;)\r\n\tprivate String email;\r\n\r\n\t@Embeddable\r\n\tpublic static class Name {\r\n\r\n\t\t@Getter\r\n\t\t@Setter\r\n\t\t@XmlTransient\r\n\t\tprivate String first;\r\n\r\n\t\t@Getter\r\n\t\t@Setter\r\n\t\t@XmlTransient\r\n\t\tprivate String last;\r\n\t}\r\n}\r\n```\r\nMyRouteBuilder:\r\n\r\n```\r\npackage org.acme.Routes;\r\n\r\nimport org.acme.Processors.JsonProcessor;\r\nimport org.apache.camel.builder.RouteBuilder;\r\n\r\npublic class MyRouteBuilder extends RouteBuilder {\r\n\r\n    private final String inputDirectory = &quot;C:\\\\Users\\\\william.santos\\\\Desktop\\\\IntegrationTest\\\\Input\\\\&quot;;\r\n    private final String outputDirectory = &quot;C:\\\\Users\\\\william.santos\\\\Desktop\\\\IntegrationTest\\\\Output\\\\&quot;;\r\n    \r\n    boolean isJson = true;\r\n    \r\n\r\n    @Override\r\n    public void configure() throws Exception {\r\n    \t\r\n\r\n        from(&quot;file:&quot; + inputDirectory + &quot;?maxMessagesPerPoll=1&quot;)\r\n            .choice()\r\n                .when(header(&quot;CamelFileName&quot;).endsWith(&quot;.json&quot;))\r\n                    .process(new JsonProcessor())\r\n                .otherwise()**/\r\n                    .log(&quot;Unsupported file type&quot;)\r\n            .end()\r\n\t\t\t\t.to(&quot;file:&quot; + outputDirectory);\r\n\t}\r\n}\r\n```\r\n\r\n\r\nJsonProcessor:\r\n\r\n\r\n```\r\npackage org.acme.Processors;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.acme.Entities.PersonEntity;\r\nimport org.acme.Resources.PersonResource;\r\nimport org.apache.camel.Exchange;\r\nimport org.apache.camel.Processor;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nimport jakarta.enterprise.context.ApplicationScoped;\r\nimport jakarta.inject.Inject;\r\nimport jakarta.inject.Named;\r\n\r\n@ApplicationScoped\r\n@Named(&quot;jsonProcessor&quot;)\r\npublic class JsonProcessor implements Processor {\r\n\r\n\t@Inject\r\n\t@Named(&quot;personResource&quot;)\r\n\tPersonResource personResource;\r\n\r\n\t@Override\r\n\tpublic void process(Exchange exchange) throws Exception {\r\n\r\n\t\t// Extract JSON data from the exchange\r\n\t\tString json = exchange.getIn().getBody(String.class);\r\n\r\n\t\t// Deserialize the JSON data into a PersonEntity array\r\n\t\tObjectMapper objectMapper = new ObjectMapper();\r\n\t\tobjectMapper.addMixIn(PersonEntity.class, IgnoreIdMixin.class);\r\n\t\tPersonEntity[] personEntities = objectMapper.readValue(json, PersonEntity[].class);\r\n\r\n\t\t// List to hold all entities\r\n\t\tList&lt;PersonEntity&gt; allEntities = new ArrayList&lt;&gt;();\r\n\r\n\t\t// Extract the fields you need from the PersonEntity objects and add them to a\r\n\t\t// list\r\n\t\tfor (PersonEntity personEntity : personEntities) {\r\n\t\t\tallEntities.add(personEntity);\r\n\t\t}\r\n\r\n\t\t// Send each entity to Kafka one at a time\r\n\t\tfor (PersonEntity personEntity : allEntities) {\r\n\t\t\t// Extract the fields from the current PersonEntity\r\n\t\t\tString name = personEntity.getName().getFirst() + &quot; &quot; + personEntity.getName().getLast();\r\n\t\t\tString age = personEntity.getAge().toString();\r\n\t\t\tString email = personEntity.getEmail();\r\n\r\n\t\t\t// Create a message for the current person\r\n\t\t\tString[] fields = { name, age, email };\r\n\r\n\t\t\tString message = String.join(&quot;, &quot;, fields);\r\n\r\n\t\t\tSystem.out.println(&quot;Message to send: &quot; + message);\r\n\r\n\t\t\t// Send the message to Kafka\r\n\t\t\t// Send the message to Kafka\r\n\t\t\tif (personResource != null) {\r\n\t\t\t\tpersonResource.sendPerson(message);\r\n\t\t\t} else {\r\n\t\t\t\t// Handle the case when personResource is null\r\n\t\t\t\tSystem.out.println(&quot;personResource is null. Cannot send the message to Kafka.&quot;);\r\n\t\t\t}\r\n\t\t\t// Wait for the acknowledgement or confirmation of the previous message\r\n\t\t\twaitForPreviousMessageToBeSent();\r\n\t\t}\r\n\t}\r\n\r\n\t// Mixin class to ignore the &quot;id&quot; field during deserialization\r\n\tprivate static abstract class IgnoreIdMixin {\r\n\t\t@JsonIgnore\r\n\t\tprivate Long id;\r\n\t}\r\n\r\n\tprivate void waitForPreviousMessageToBeSent() throws InterruptedException {\r\n\t\t// You can implement your own mechanism here to wait for the previous message to\r\n\t\t// be sent.\r\n\t\t// This can be done using synchronization, a queue, or any other suitable\r\n\t\t// approach.\r\n\t\t// For demonstration purposes, let&#39;s add a sleep of 1 second as a simple way to\r\n\t\t// simulate the wait.\r\n\t\tThread.sleep(1000);\r\n\t}\r\n}\r\n```\r\nPersonResource:\r\n```\r\npackage org.acme.Resources;\r\n\r\nimport org.acme.Processors.JsonProcessor;\r\nimport org.eclipse.microprofile.reactive.messaging.Channel;\r\nimport org.eclipse.microprofile.reactive.messaging.Emitter;\r\n\r\nimport jakarta.enterprise.context.ApplicationScoped;\r\nimport jakarta.inject.Inject;\r\nimport jakarta.inject.Named;\r\nimport jakarta.ws.rs.POST;\r\nimport jakarta.ws.rs.Path;\r\nimport jakarta.ws.rs.core.Response;\r\nimport jakarta.ws.rs.core.Response.ResponseBuilder;\r\n\r\n@ApplicationScoped\r\n@Named(&quot;personResource&quot;)\r\n@Path(&quot;/person&quot;)\r\npublic class PersonResource {\r\n\r\n\t@Inject\r\n\t@Named(&quot;jsonProcessor&quot;)\r\n\tJsonProcessor jsonProcessor;\r\n\r\n\t/**\r\n\t * @Inject @Named(&quot;xmlProcessor&quot;) XmlProcessor xmlProcessor;\r\n\t **/\r\n\r\n\t@Inject\r\n\t@Channel(&quot;person-out&quot;)\r\n\tEmitter&lt;String&gt; kafkaEmitter;\r\n\r\n\t@POST\r\n\t@Path(&quot;/send-person&quot;)\r\n\tpublic Response sendPerson(String message) {\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tkafkaEmitter.send(message);\r\n\t\t\tSystem.out.println(&quot;Message sent: &quot; + message);\r\n\r\n\t\t\tResponseBuilder builder = Response.status(Response.Status.OK);\r\n\t\t\treturn builder.build();\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(&quot;An error occurred: &quot; + e.getMessage())\r\n\t\t\t\t\t.build();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\ngetting the following:\r\n\r\n```\r\n[[1;34mINFO[m] Scanning for projects...\r\n[[1;34mINFO[m] \r\n[[1;34mINFO[m] [1m---------------------&lt; [0;36morg.acme:code-with-quarkus[0;1m &gt;---------------------[m\r\n[[1;34mINFO[m] [1mBuilding code-with-quarkus 1.0.0-SNAPSHOT[m\r\n[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m\r\n[[1;34mINFO[m] \r\n[[1;34mINFO[m] [1m--- [0;32mquarkus-maven-plugin:3.0.2.Final:dev[m [1m(default-cli)[m @ [36mcode-with-quarkus[0;1m ---[m\r\n[[1;34mINFO[m] Invoking org.apache.maven.plugins:maven-resources-plugin:2.6:resources @ code-with-quarkus\r\n[[1;34mINFO[m] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[[1;34mINFO[m] Copying 3 resources\r\n[[1;34mINFO[m] Invoking io.quarkus.platform:quarkus-maven-plugin:3.0.2.Final:generate-code @ code-with-quarkus\r\n[[1;34mINFO[m] Invoking org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile @ code-with-quarkus\r\n[[1;34mINFO[m] Nothing to compile - all classes are up to date\r\n[[1;34mINFO[m] Invoking org.apache.maven.plugins:maven-resources-plugin:2.6:testResources @ code-with-quarkus\r\n[[1;34mINFO[m] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[[1;34mINFO[m] skip non existing resourceDirectory C:\\Users\\william.santos\\Desktop\\Quarkus\\Quarkus-Integration-Exercise\\src\\test\\resources\r\n[[1;34mINFO[m] Invoking io.quarkus.platform:quarkus-maven-plugin:3.0.2.Final:generate-code-tests @ code-with-quarkus\r\n[[1;34mINFO[m] Invoking org.apache.maven.plugins:maven-compiler-plugin:3.10.1:testCompile @ code-with-quarkus\r\n[[1;34mINFO[m] Nothing to compile - all classes are up to date\r\nListening for transport dt_socket at address: 5005\r\nPress [h] for more options&gt;\r\nTests paused\r\nPress [r] to resume testing, [h] for more options&gt;\r\nPress [r] to resume testing, [o] Toggle test output, [h] for more options&gt;\r\n__  ____  __  _____   ___  __ ____  ______ \r\n --/ __ \\/ / / / _ | / _ \\/ //_/ / / / __/ \r\n -/ /_/ / /_/ / __ |/ , _/ ,&lt; / /_/ /\\ \\   \r\n--\\___\\_\\____/_/ |_/_/|_/_/|_|\\____/___/   \r\n2023-05-15 13:19:58,889 INFO  [org.apa.cam.qua.cor.CamelBootstrapRecorder] (Quarkus Main Thread) Bootstrap runtime: org.apache.camel.quarkus.main.CamelMainRuntime\r\n2023-05-15 13:19:58,895 INFO  [org.apa.cam.mai.MainSupport] (Quarkus Main Thread) Apache Camel (Main) 4.0.0-M2 is starting\r\n2023-05-15 13:19:59,067 INFO  [org.apa.cam.imp.eng.AbstractCamelContext] (Quarkus Main Thread) Apache Camel 4.0.0-M2 (camel-1) is starting\r\n2023-05-15 13:19:59,085 INFO  [org.apa.cam.imp.eng.AbstractCamelContext] (Quarkus Main Thread) Routes startup (started:1)\r\n2023-05-15 13:19:59,086 INFO  [org.apa.cam.imp.eng.AbstractCamelContext] (Quarkus Main Thread)     Started route1 (file://C:%5CUsers%5Cwilliam.santos%5CDesktop%5CIntegrationTest%5CInput%5C)\r\n2023-05-15 13:19:59,086 INFO  [org.apa.cam.imp.eng.AbstractCamelContext] (Quarkus Main Thread) Apache Camel 4.0.0-M2 (camel-1) started in 109ms (build:0ms init:91ms start:18ms)\r\n2023-05-15 13:19:59,162 INFO  [io.sma.rea.mes.kafka] (Quarkus Main Thread) SRMSG18229: Configured topics for channel &#39;person-in&#39;: [first_kafka_topic]\r\n2023-05-15 13:19:59,177 INFO  [io.sma.rea.mes.kafka] (Quarkus Main Thread) SRMSG18214: Key deserializer omitted, using String as default\r\n2023-05-15 13:19:59,293 INFO  [org.apa.kaf.com.sec.aut.AbstractLogin] (smallrye-kafka-consumer-thread-0) Successfully logged in.\r\n2023-05-15 13:19:59,411 INFO  [io.sma.rea.mes.kafka] (smallrye-kafka-producer-thread-0) SRMSG18258: Kafka producer kafka-producer-person-out, connected to Kafka brokers &#39;192.168.1.95:9092&#39;, is configured to write records to &#39;first_kafka_topic&#39;\r\n2023-05-15 13:19:59,422 WARN  [io.sma.rea.mes.provider] (Quarkus Main Thread) SRMSG00208: The connector &#39;IncomingConnector{channel:&#39;person-in&#39;, attribute:&#39;mp.messaging.incoming.person-in&#39;}&#39; has no downstreams\r\n2023-05-15 13:19:59,423 WARN  [io.sma.rea.mes.provider] (Quarkus Main Thread) SRMSG00207: Some components are not connected to either downstream consumers or upstream producers:\r\n\t- IncomingConnector{channel:&#39;person-in&#39;, attribute:&#39;mp.messaging.incoming.person-in&#39;} has no downstream\r\n\r\n2023-05-15 13:19:59,586 INFO  [io.quarkus] (Quarkus Main Thread) code-with-quarkus 1.0.0-SNAPSHOT on JVM (powered by Quarkus 3.0.2.Final) started in 6.080s. Listening on: http://localhost:8080\r\n2023-05-15 13:19:59,587 INFO  [io.quarkus] (Quarkus Main Thread) Profile dev activated. Live Coding activated.\r\n2023-05-15 13:19:59,587 INFO  [io.quarkus] (Quarkus Main Thread) Installed features: [agroal, camel-core, camel-file, camel-sql, cdi, hibernate-orm, hibernate-orm-panache, jdbc-postgresql, kafka-client, narayana-jta, resteasy-reactive, smallrye-context-propagation, smallrye-reactive-messaging, smallrye-reactive-messaging-kafka, vertx]\r\nMessage to send: John Doe, 25, johndoe0125@gmail.com\r\npersonResource is null. Cannot send the message to Kafka.\r\nMessage to send: Paul Johnson, 29, Paul229Johnson@gmail.com\r\npersonResource is null. Cannot send the message to Kafka.\r\n2023-05-15 13:20:06,673 INFO  [route1] (Camel (camel-1) thread #1 - file://C:%5CUsers%5Cwilliam.santos%5CDesktop%5CIntegrationTest%5CInput%5C) Unsupported file type\r\n\r\n```\r\n\r\nHow can I solve this?","title":"Why is my kafkaproducer not sending the apropriate message? &quot;personResource is null. Cannot send the message to Kafka&quot;","body":"<p>I'm completely new to Kafka and i have some troubles using the KafkaProducer. Even though I'm using the same logic of a previous more simple project it seems as the class with emitter is going null and so it doesn't send any message though the message I need sent is correct.</p>\n<p>How can I solve this?</p>\n<hr />\n<p>My project:</p>\n<hr />\n<p>PersonEntity:</p>\n<pre><code>package org.acme.Entities;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\nimport io.quarkus.hibernate.orm.panache.PanacheEntityBase;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Embeddable;\nimport jakarta.persistence.Embedded;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\nimport jakarta.xml.bind.annotation.XmlTransient;\nimport lombok.Getter;\nimport lombok.Setter;\nimport lombok.ToString;\n\n@Entity\n@ToString\n@JsonIgnoreProperties(ignoreUnknown = true)\n@Table(name = &quot;KafkaWorkerService&quot;)\npublic class PersonEntity extends PanacheEntityBase {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    @ToString.Exclude\n    @JsonIgnore\n    @XmlTransient\n    private Long id;\n\n    @Getter\n    @Setter\n    @Embedded\n    private Name name;\n\n    @Getter\n    @Setter\n    @Column(name = &quot;age&quot;)\n    private Integer age;\n\n    @Getter\n    @Setter\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    @Embeddable\n    public static class Name {\n\n        @Getter\n        @Setter\n        @XmlTransient\n        private String first;\n\n        @Getter\n        @Setter\n        @XmlTransient\n        private String last;\n    }\n}\n</code></pre>\n<p>MyRouteBuilder:</p>\n<pre><code>package org.acme.Routes;\n\nimport org.acme.Processors.JsonProcessor;\nimport org.apache.camel.builder.RouteBuilder;\n\npublic class MyRouteBuilder extends RouteBuilder {\n\n    private final String inputDirectory = &quot;C:\\\\Users\\\\william.santos\\\\Desktop\\\\IntegrationTest\\\\Input\\\\&quot;;\n    private final String outputDirectory = &quot;C:\\\\Users\\\\william.santos\\\\Desktop\\\\IntegrationTest\\\\Output\\\\&quot;;\n    \n    boolean isJson = true;\n    \n\n    @Override\n    public void configure() throws Exception {\n        \n\n        from(&quot;file:&quot; + inputDirectory + &quot;?maxMessagesPerPoll=1&quot;)\n            .choice()\n                .when(header(&quot;CamelFileName&quot;).endsWith(&quot;.json&quot;))\n                    .process(new JsonProcessor())\n                .otherwise()**/\n                    .log(&quot;Unsupported file type&quot;)\n            .end()\n                .to(&quot;file:&quot; + outputDirectory);\n    }\n}\n</code></pre>\n<p>JsonProcessor:</p>\n<pre><code>package org.acme.Processors;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.acme.Entities.PersonEntity;\nimport org.acme.Resources.PersonResource;\nimport org.apache.camel.Exchange;\nimport org.apache.camel.Processor;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport jakarta.enterprise.context.ApplicationScoped;\nimport jakarta.inject.Inject;\nimport jakarta.inject.Named;\n\n@ApplicationScoped\n@Named(&quot;jsonProcessor&quot;)\npublic class JsonProcessor implements Processor {\n\n    @Inject\n    @Named(&quot;personResource&quot;)\n    PersonResource personResource;\n\n    @Override\n    public void process(Exchange exchange) throws Exception {\n\n        // Extract JSON data from the exchange\n        String json = exchange.getIn().getBody(String.class);\n\n        // Deserialize the JSON data into a PersonEntity array\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.addMixIn(PersonEntity.class, IgnoreIdMixin.class);\n        PersonEntity[] personEntities = objectMapper.readValue(json, PersonEntity[].class);\n\n        // List to hold all entities\n        List&lt;PersonEntity&gt; allEntities = new ArrayList&lt;&gt;();\n\n        // Extract the fields you need from the PersonEntity objects and add them to a\n        // list\n        for (PersonEntity personEntity : personEntities) {\n            allEntities.add(personEntity);\n        }\n\n        // Send each entity to Kafka one at a time\n        for (PersonEntity personEntity : allEntities) {\n            // Extract the fields from the current PersonEntity\n            String name = personEntity.getName().getFirst() + &quot; &quot; + personEntity.getName().getLast();\n            String age = personEntity.getAge().toString();\n            String email = personEntity.getEmail();\n\n            // Create a message for the current person\n            String[] fields = { name, age, email };\n\n            String message = String.join(&quot;, &quot;, fields);\n\n            System.out.println(&quot;Message to send: &quot; + message);\n\n            // Send the message to Kafka\n            // Send the message to Kafka\n            if (personResource != null) {\n                personResource.sendPerson(message);\n            } else {\n                // Handle the case when personResource is null\n                System.out.println(&quot;personResource is null. Cannot send the message to Kafka.&quot;);\n            }\n            // Wait for the acknowledgement or confirmation of the previous message\n            waitForPreviousMessageToBeSent();\n        }\n    }\n\n    // Mixin class to ignore the &quot;id&quot; field during deserialization\n    private static abstract class IgnoreIdMixin {\n        @JsonIgnore\n        private Long id;\n    }\n\n    private void waitForPreviousMessageToBeSent() throws InterruptedException {\n        // You can implement your own mechanism here to wait for the previous message to\n        // be sent.\n        // This can be done using synchronization, a queue, or any other suitable\n        // approach.\n        // For demonstration purposes, let's add a sleep of 1 second as a simple way to\n        // simulate the wait.\n        Thread.sleep(1000);\n    }\n}\n</code></pre>\n<p>PersonResource:</p>\n<pre><code>package org.acme.Resources;\n\nimport org.acme.Processors.JsonProcessor;\nimport org.eclipse.microprofile.reactive.messaging.Channel;\nimport org.eclipse.microprofile.reactive.messaging.Emitter;\n\nimport jakarta.enterprise.context.ApplicationScoped;\nimport jakarta.inject.Inject;\nimport jakarta.inject.Named;\nimport jakarta.ws.rs.POST;\nimport jakarta.ws.rs.Path;\nimport jakarta.ws.rs.core.Response;\nimport jakarta.ws.rs.core.Response.ResponseBuilder;\n\n@ApplicationScoped\n@Named(&quot;personResource&quot;)\n@Path(&quot;/person&quot;)\npublic class PersonResource {\n\n    @Inject\n    @Named(&quot;jsonProcessor&quot;)\n    JsonProcessor jsonProcessor;\n\n    /**\n     * @Inject @Named(&quot;xmlProcessor&quot;) XmlProcessor xmlProcessor;\n     **/\n\n    @Inject\n    @Channel(&quot;person-out&quot;)\n    Emitter&lt;String&gt; kafkaEmitter;\n\n    @POST\n    @Path(&quot;/send-person&quot;)\n    public Response sendPerson(String message) {\n        try {\n            \n            kafkaEmitter.send(message);\n            System.out.println(&quot;Message sent: &quot; + message);\n\n            ResponseBuilder builder = Response.status(Response.Status.OK);\n            return builder.build();\n        } catch (Exception e) {\n            return Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(&quot;An error occurred: &quot; + e.getMessage())\n                    .build();\n        }\n    }\n\n}\n</code></pre>\n<p>getting the following:</p>\n<pre><code>[[1;34mINFO[m] Scanning for projects...\n[[1;34mINFO[m] \n[[1;34mINFO[m] [1m---------------------&lt; [0;36morg.acme:code-with-quarkus[0;1m &gt;---------------------[m\n[[1;34mINFO[m] [1mBuilding code-with-quarkus 1.0.0-SNAPSHOT[m\n[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m\n[[1;34mINFO[m] \n[[1;34mINFO[m] [1m--- [0;32mquarkus-maven-plugin:3.0.2.Final:dev[m [1m(default-cli)[m @ [36mcode-with-quarkus[0;1m ---[m\n[[1;34mINFO[m] Invoking org.apache.maven.plugins:maven-resources-plugin:2.6:resources @ code-with-quarkus\n[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.\n[[1;34mINFO[m] Copying 3 resources\n[[1;34mINFO[m] Invoking io.quarkus.platform:quarkus-maven-plugin:3.0.2.Final:generate-code @ code-with-quarkus\n[[1;34mINFO[m] Invoking org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile @ code-with-quarkus\n[[1;34mINFO[m] Nothing to compile - all classes are up to date\n[[1;34mINFO[m] Invoking org.apache.maven.plugins:maven-resources-plugin:2.6:testResources @ code-with-quarkus\n[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.\n[[1;34mINFO[m] skip non existing resourceDirectory C:\\Users\\william.santos\\Desktop\\Quarkus\\Quarkus-Integration-Exercise\\src\\test\\resources\n[[1;34mINFO[m] Invoking io.quarkus.platform:quarkus-maven-plugin:3.0.2.Final:generate-code-tests @ code-with-quarkus\n[[1;34mINFO[m] Invoking org.apache.maven.plugins:maven-compiler-plugin:3.10.1:testCompile @ code-with-quarkus\n[[1;34mINFO[m] Nothing to compile - all classes are up to date\nListening for transport dt_socket at address: 5005\nPress [h] for more options&gt;\nTests paused\nPress [r] to resume testing, [h] for more options&gt;\nPress [r] to resume testing, [o] Toggle test output, [h] for more options&gt;\n__  ____  __  _____   ___  __ ____  ______ \n --/ __ \\/ / / / _ | / _ \\/ //_/ / / / __/ \n -/ /_/ / /_/ / __ |/ , _/ ,&lt; / /_/ /\\ \\   \n--\\___\\_\\____/_/ |_/_/|_/_/|_|\\____/___/   \n2023-05-15 13:19:58,889 INFO  [org.apa.cam.qua.cor.CamelBootstrapRecorder] (Quarkus Main Thread) Bootstrap runtime: org.apache.camel.quarkus.main.CamelMainRuntime\n2023-05-15 13:19:58,895 INFO  [org.apa.cam.mai.MainSupport] (Quarkus Main Thread) Apache Camel (Main) 4.0.0-M2 is starting\n2023-05-15 13:19:59,067 INFO  [org.apa.cam.imp.eng.AbstractCamelContext] (Quarkus Main Thread) Apache Camel 4.0.0-M2 (camel-1) is starting\n2023-05-15 13:19:59,085 INFO  [org.apa.cam.imp.eng.AbstractCamelContext] (Quarkus Main Thread) Routes startup (started:1)\n2023-05-15 13:19:59,086 INFO  [org.apa.cam.imp.eng.AbstractCamelContext] (Quarkus Main Thread)     Started route1 (file://C:%5CUsers%5Cwilliam.santos%5CDesktop%5CIntegrationTest%5CInput%5C)\n2023-05-15 13:19:59,086 INFO  [org.apa.cam.imp.eng.AbstractCamelContext] (Quarkus Main Thread) Apache Camel 4.0.0-M2 (camel-1) started in 109ms (build:0ms init:91ms start:18ms)\n2023-05-15 13:19:59,162 INFO  [io.sma.rea.mes.kafka] (Quarkus Main Thread) SRMSG18229: Configured topics for channel 'person-in': [first_kafka_topic]\n2023-05-15 13:19:59,177 INFO  [io.sma.rea.mes.kafka] (Quarkus Main Thread) SRMSG18214: Key deserializer omitted, using String as default\n2023-05-15 13:19:59,293 INFO  [org.apa.kaf.com.sec.aut.AbstractLogin] (smallrye-kafka-consumer-thread-0) Successfully logged in.\n2023-05-15 13:19:59,411 INFO  [io.sma.rea.mes.kafka] (smallrye-kafka-producer-thread-0) SRMSG18258: Kafka producer kafka-producer-person-out, connected to Kafka brokers '192.168.1.95:9092', is configured to write records to 'first_kafka_topic'\n2023-05-15 13:19:59,422 WARN  [io.sma.rea.mes.provider] (Quarkus Main Thread) SRMSG00208: The connector 'IncomingConnector{channel:'person-in', attribute:'mp.messaging.incoming.person-in'}' has no downstreams\n2023-05-15 13:19:59,423 WARN  [io.sma.rea.mes.provider] (Quarkus Main Thread) SRMSG00207: Some components are not connected to either downstream consumers or upstream producers:\n    - IncomingConnector{channel:'person-in', attribute:'mp.messaging.incoming.person-in'} has no downstream\n\n2023-05-15 13:19:59,586 INFO  [io.quarkus] (Quarkus Main Thread) code-with-quarkus 1.0.0-SNAPSHOT on JVM (powered by Quarkus 3.0.2.Final) started in 6.080s. Listening on: http://localhost:8080\n2023-05-15 13:19:59,587 INFO  [io.quarkus] (Quarkus Main Thread) Profile dev activated. Live Coding activated.\n2023-05-15 13:19:59,587 INFO  [io.quarkus] (Quarkus Main Thread) Installed features: [agroal, camel-core, camel-file, camel-sql, cdi, hibernate-orm, hibernate-orm-panache, jdbc-postgresql, kafka-client, narayana-jta, resteasy-reactive, smallrye-context-propagation, smallrye-reactive-messaging, smallrye-reactive-messaging-kafka, vertx]\nMessage to send: John Doe, 25, johndoe0125@gmail.com\npersonResource is null. Cannot send the message to Kafka.\nMessage to send: Paul Johnson, 29, Paul229Johnson@gmail.com\npersonResource is null. Cannot send the message to Kafka.\n2023-05-15 13:20:06,673 INFO  [route1] (Camel (camel-1) thread #1 - file://C:%5CUsers%5Cwilliam.santos%5CDesktop%5CIntegrationTest%5CInput%5C) Unsupported file type\n\n</code></pre>\n<p>How can I solve this?</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1684169108,"post_id":76256222,"comment_id":134474572,"body_markdown":"Please add the compilation error to the question.","body":"Please add the compilation error to the question."},{"owner":{"account_id":7275154,"reputation":1283,"user_id":5546850,"accept_rate":66,"display_name":"James"},"score":0,"creation_date":1684169432,"post_id":76256222,"comment_id":134474646,"body_markdown":"@user16320675 it was just an oversight ;)","body":"@user16320675 it was just an oversight ;)"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1684169527,"post_id":76256222,"comment_id":134474677,"body_markdown":"`Set` is not sorted and so does not have a `sort()` method (neither `sorted()` as commented out)","body":"<code>Set</code> is not sorted and so does not have a <code>sort()</code> method (neither <code>sorted()</code> as commented out)"},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":1,"creation_date":1684169873,"post_id":76256222,"comment_id":134474750,"body_markdown":"You need to convert the set to a list, before you can sort it.","body":"You need to convert the set to a list, before you can sort it."},{"owner":{"account_id":7275154,"reputation":1283,"user_id":5546850,"accept_rate":66,"display_name":"James"},"score":0,"creation_date":1684171594,"post_id":76256222,"comment_id":134475112,"body_markdown":"@Mr.Polywhirl thanks the sorting is working . could you explain please why sorted not working with Set ?","body":"@Mr.Polywhirl thanks the sorting is working . could you explain please why sorted not working with Set ?"},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1684172434,"post_id":76256222,"comment_id":134475262,"body_markdown":"@James I added a response below.","body":"@James I added a response below."}],"answers":[{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684172419,"creation_date":1684172102,"answer_id":76256614,"question_id":76256222,"body_markdown":"By its definition, a [set][set] is _an abstract data type that can store unique values, without any particular order_. They are always unordered, because they are designed for fast-access. This is why they are not sortable.\r\n\r\nIf your courses come back as a `Set` from the database, you will need to convert them to a `List` to sort them.\r\n\r\n```java\r\nprivate static class UserMapper {\r\n    public UserDTO mapUserDTO(User user) {\r\n        if (user == null) {\r\n            return null;\r\n        }\r\n        UserDTO dto = new UserDTO();\r\n        dto.setName(user.getName());\r\n        // Sort when mapping...\r\n        dto.setCourseList(user.getCourses().stream()\r\n                .sorted(Comparator.comparing(Course::getName))\r\n                .collect(Collectors.toList()));\r\n        return dto;\r\n    }\r\n}\r\n```\r\n\r\n## Full example\r\n\r\nI mocked out all the repository and mapper stuff below.\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport java.util.*;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class UserService {\r\n    private static final Map&lt;Long, User&gt; userLookup;\r\n\r\n    static {\r\n        // Add a default user as ID=1\r\n        User user = new User();\r\n        user.setId(1L);\r\n        user.setName(&quot;John Doe&quot;);\r\n        Set&lt;Course&gt; courseSet = new HashSet&lt;&gt;();\r\n        courseSet.add(new Course(&quot;CMSC100&quot;, &quot;Bits and Bytes of Computer and Information Sciences&quot;));\r\n        courseSet.add(new Course(&quot;CMSC106&quot;, &quot;Introduction to C Programming&quot;));\r\n        courseSet.add(new Course(&quot;CMSC133&quot;, &quot;Object Oriented Programming I Beyond Fundamentals&quot;));\r\n        courseSet.add(new Course(&quot;CMSC250&quot;, &quot;Discrete Structures&quot;));\r\n        user.setCourses(courseSet);\r\n        userLookup = Collections.singletonMap(1L, user);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        UserService userService = new UserService();\r\n        try {\r\n            UserDTO dto = userService.getUserById(1L);\r\n            System.out.println(dto);\r\n        } catch (UserNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private UserRepository userRepository = new UserRepositoryImpl();\r\n    private UserMapper userMapper = new UserMapper();\r\n\r\n    public UserDTO getUserById(Long id) throws UserNotFoundException {\r\n        return userRepository.findById(id).map(user -&gt; {\r\n            UserDTO userDTO = userMapper.mapUserDTO(user);\r\n            return userDTO;\r\n        }).orElseThrow(() -&gt; new UserNotFoundException(String.format(&quot;User with id %s not found&quot;, id)));\r\n    }\r\n\r\n    private static class UserMapper {\r\n        public UserDTO mapUserDTO(User user) {\r\n            if (user == null) {\r\n                return null;\r\n            }\r\n            UserDTO dto = new UserDTO();\r\n            dto.setName(user.getName());\r\n            // Sort when mapping...\r\n            dto.setCourseList(user.getCourses().stream()\r\n                    .sorted(Comparator.comparing(Course::getName))\r\n                    .collect(Collectors.toList()));\r\n            return dto;\r\n        }\r\n    }\r\n\r\n    private static class UserRepositoryImpl implements UserRepository {\r\n        @Override\r\n        public Optional&lt;User&gt; findById(Long id) {\r\n            return Optional.ofNullable(userLookup.get(id));\r\n        }\r\n    }\r\n\r\n    private static class UserDTO {\r\n        private String name;\r\n        private List&lt;Course&gt; courseList;\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public List&lt;Course&gt; getCourseList() {\r\n            return courseList;\r\n        }\r\n\r\n        public void setCourseList(List&lt;Course&gt; courseList) {\r\n            this.courseList = courseList;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;[User={name=%s,courseList=%s}]&quot;, name, courseList);\r\n        }\r\n    }\r\n\r\n    private static class Course {\r\n        private String id;\r\n        private String name;\r\n\r\n        public Course(String id, String name) {\r\n            this.id = id;\r\n            this.name = name;\r\n        }\r\n\r\n        public String getId() {\r\n            return id;\r\n        }\r\n\r\n        public void setId(String id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;[Course={id=%s,name=%s}]&quot;, id, name);\r\n        }\r\n    }\r\n\r\n    private static class User {\r\n        private long id;\r\n        private String name;\r\n        private Set&lt;Course&gt; courses;\r\n\r\n        public long getId() {\r\n            return id;\r\n        }\r\n\r\n        public void setId(long id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public Set&lt;Course&gt; getCourses() {\r\n            return courses;\r\n        }\r\n\r\n        public void setCourses(Set&lt;Course&gt; courses) {\r\n            this.courses = courses;\r\n        }\r\n    }\r\n\r\n    private static interface UserRepository extends Repository&lt;User, Long&gt; {\r\n        // See: UserRepositoryImpl\r\n    }\r\n\r\n    private static class UserNotFoundException extends Exception {\r\n        public UserNotFoundException(String message) {\r\n            super(message);\r\n        }\r\n    }\r\n\r\n    private static interface Repository&lt;ENTITY, ID_TYPE&gt; {\r\n        Optional&lt;ENTITY&gt; findById(ID_TYPE id);\r\n    }\r\n}\r\n```\r\n\r\n## Output\r\n\r\n&gt; [User={name=John Doe,courseList=[[Course={id=CMSC100,name=Bits and Bytes of Computer and Information Sciences}], [Course={id=CMSC250,name=Discrete Structures}], [Course={id=CMSC106,name=Introduction to C Programming}], [Course={id=CMSC133,name=Object Oriented Programming I Beyond Fundamentals}]]}]\r\n\r\n  [set]: https://en.wikipedia.org/wiki/Set_(abstract_data_type)","title":"Java lambda SortId inside map operator","body":"<p>By its definition, a <a href=\"https://en.wikipedia.org/wiki/Set_(abstract_data_type)\" rel=\"nofollow noreferrer\">set</a> is <em>an abstract data type that can store unique values, without any particular order</em>. They are always unordered, because they are designed for fast-access. This is why they are not sortable.</p>\n<p>If your courses come back as a <code>Set</code> from the database, you will need to convert them to a <code>List</code> to sort them.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static class UserMapper {\n    public UserDTO mapUserDTO(User user) {\n        if (user == null) {\n            return null;\n        }\n        UserDTO dto = new UserDTO();\n        dto.setName(user.getName());\n        // Sort when mapping...\n        dto.setCourseList(user.getCourses().stream()\n                .sorted(Comparator.comparing(Course::getName))\n                .collect(Collectors.toList()));\n        return dto;\n    }\n}\n</code></pre>\n<h2>Full example</h2>\n<p>I mocked out all the repository and mapper stuff below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport java.util.*;\nimport java.util.stream.Collectors;\n\npublic class UserService {\n    private static final Map&lt;Long, User&gt; userLookup;\n\n    static {\n        // Add a default user as ID=1\n        User user = new User();\n        user.setId(1L);\n        user.setName(&quot;John Doe&quot;);\n        Set&lt;Course&gt; courseSet = new HashSet&lt;&gt;();\n        courseSet.add(new Course(&quot;CMSC100&quot;, &quot;Bits and Bytes of Computer and Information Sciences&quot;));\n        courseSet.add(new Course(&quot;CMSC106&quot;, &quot;Introduction to C Programming&quot;));\n        courseSet.add(new Course(&quot;CMSC133&quot;, &quot;Object Oriented Programming I Beyond Fundamentals&quot;));\n        courseSet.add(new Course(&quot;CMSC250&quot;, &quot;Discrete Structures&quot;));\n        user.setCourses(courseSet);\n        userLookup = Collections.singletonMap(1L, user);\n    }\n\n    public static void main(String[] args) {\n        UserService userService = new UserService();\n        try {\n            UserDTO dto = userService.getUserById(1L);\n            System.out.println(dto);\n        } catch (UserNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private UserRepository userRepository = new UserRepositoryImpl();\n    private UserMapper userMapper = new UserMapper();\n\n    public UserDTO getUserById(Long id) throws UserNotFoundException {\n        return userRepository.findById(id).map(user -&gt; {\n            UserDTO userDTO = userMapper.mapUserDTO(user);\n            return userDTO;\n        }).orElseThrow(() -&gt; new UserNotFoundException(String.format(&quot;User with id %s not found&quot;, id)));\n    }\n\n    private static class UserMapper {\n        public UserDTO mapUserDTO(User user) {\n            if (user == null) {\n                return null;\n            }\n            UserDTO dto = new UserDTO();\n            dto.setName(user.getName());\n            // Sort when mapping...\n            dto.setCourseList(user.getCourses().stream()\n                    .sorted(Comparator.comparing(Course::getName))\n                    .collect(Collectors.toList()));\n            return dto;\n        }\n    }\n\n    private static class UserRepositoryImpl implements UserRepository {\n        @Override\n        public Optional&lt;User&gt; findById(Long id) {\n            return Optional.ofNullable(userLookup.get(id));\n        }\n    }\n\n    private static class UserDTO {\n        private String name;\n        private List&lt;Course&gt; courseList;\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        public List&lt;Course&gt; getCourseList() {\n            return courseList;\n        }\n\n        public void setCourseList(List&lt;Course&gt; courseList) {\n            this.courseList = courseList;\n        }\n\n        @Override\n        public String toString() {\n            return String.format(&quot;[User={name=%s,courseList=%s}]&quot;, name, courseList);\n        }\n    }\n\n    private static class Course {\n        private String id;\n        private String name;\n\n        public Course(String id, String name) {\n            this.id = id;\n            this.name = name;\n        }\n\n        public String getId() {\n            return id;\n        }\n\n        public void setId(String id) {\n            this.id = id;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        @Override\n        public String toString() {\n            return String.format(&quot;[Course={id=%s,name=%s}]&quot;, id, name);\n        }\n    }\n\n    private static class User {\n        private long id;\n        private String name;\n        private Set&lt;Course&gt; courses;\n\n        public long getId() {\n            return id;\n        }\n\n        public void setId(long id) {\n            this.id = id;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        public Set&lt;Course&gt; getCourses() {\n            return courses;\n        }\n\n        public void setCourses(Set&lt;Course&gt; courses) {\n            this.courses = courses;\n        }\n    }\n\n    private static interface UserRepository extends Repository&lt;User, Long&gt; {\n        // See: UserRepositoryImpl\n    }\n\n    private static class UserNotFoundException extends Exception {\n        public UserNotFoundException(String message) {\n            super(message);\n        }\n    }\n\n    private static interface Repository&lt;ENTITY, ID_TYPE&gt; {\n        Optional&lt;ENTITY&gt; findById(ID_TYPE id);\n    }\n}\n</code></pre>\n<h2>Output</h2>\n<blockquote>\n<p>[User={name=John Doe,courseList=[[Course={id=CMSC100,name=Bits and Bytes of Computer and Information Sciences}], [Course={id=CMSC250,name=Discrete Structures}], [Course={id=CMSC106,name=Introduction to C Programming}], [Course={id=CMSC133,name=Object Oriented Programming I Beyond Fundamentals}]]}]</p>\n</blockquote>\n"}],"owner":{"account_id":7275154,"reputation":1283,"user_id":5546850,"accept_rate":66,"display_name":"James"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76256614,"answer_count":1,"score":0,"last_activity_date":1684172419,"creation_date":1684168895,"question_id":76256222,"body_markdown":"I have the following method, and I want to sort the list of courses of my user object, but I&#39;m getting a compilation error: \r\n\r\n```java\r\npublic UserDTO getUserById(Long id) {\r\n  return userRepository.findById(id).map(user -&gt; {\r\n    UserDTO userDTO = userMapper.mapUserDTO(user);\r\n\r\n    // This line is not working. I want to sort the list of courses.\r\n    //userDTO.getListOfcourses().sorted(Comparator.comparingInt(CourseDTO::getSortingNumber));\r\n\r\n    return userDTO;\r\n  }).orElseThrow(() -&gt; new UserNotFound(String.format(&quot;User with id %s not found&quot;, id)));\r\n}\r\n```\r\n\r\nThis is the compilation error:\r\n\r\n&gt; The method `sort(Comparator.comparingInt(CourseDTO::getSortingNumber))` is undefined for the type `Set&lt;CourseDTO&gt;`","title":"Java lambda SortId inside map operator","body":"<p>I have the following method, and I want to sort the list of courses of my user object, but I'm getting a compilation error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public UserDTO getUserById(Long id) {\n  return userRepository.findById(id).map(user -&gt; {\n    UserDTO userDTO = userMapper.mapUserDTO(user);\n\n    // This line is not working. I want to sort the list of courses.\n    //userDTO.getListOfcourses().sorted(Comparator.comparingInt(CourseDTO::getSortingNumber));\n\n    return userDTO;\n  }).orElseThrow(() -&gt; new UserNotFound(String.format(&quot;User with id %s not found&quot;, id)));\n}\n</code></pre>\n<p>This is the compilation error:</p>\n<blockquote>\n<p>The method <code>sort(Comparator.comparingInt(CourseDTO::getSortingNumber))</code> is undefined for the type <code>Set&lt;CourseDTO&gt;</code></p>\n</blockquote>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3378015,"reputation":991,"user_id":2835764,"accept_rate":75,"display_name":"Sujal Mandal"},"score":0,"creation_date":1511504482,"post_id":42393211,"comment_id":81889162,"body_markdown":"you don&#39;t really need tomcat dependency, spring starter web &amp; thymeleaf should do it.","body":"you don&#39;t really need tomcat dependency, spring starter web &amp; thymeleaf should do it."},{"owner":{"account_id":3404868,"reputation":3924,"user_id":2856202,"accept_rate":50,"display_name":"daparic"},"score":0,"creation_date":1604587361,"post_id":42393211,"comment_id":114396720,"body_markdown":"`thymeloaf` is not needed. Just put `index.html` in `src/main/resources/static/` folder and static html is done!","body":"<code>thymeloaf</code> is not needed. Just put <code>index.html</code> in <code>src&#47;main&#47;resources&#47;static&#47;</code> folder and static html is done!"}],"answers":[{"comments":[{"owner":{"account_id":3579638,"reputation":1004,"user_id":2988146,"accept_rate":100,"display_name":"osmingo"},"score":0,"creation_date":1487771737,"post_id":42393332,"comment_id":71934332,"body_markdown":"oh, ok so I saw that localhost:8080/index2.html is viewable from the browser actually, and there is no way to serve it from the controller ?","body":"oh, ok so I saw that localhost:8080/index2.html is viewable from the browser actually, and there is no way to serve it from the controller ?"},{"owner":{"account_id":4779947,"reputation":3849,"user_id":3862022,"display_name":"csenga"},"score":0,"creation_date":1487772346,"post_id":42393332,"comment_id":71934802,"body_markdown":"check my second ref link, or if u dont want to handle parameters:\nhttp://stackoverflow.com/a/27279742/3862022","body":"check my second ref link, or if u dont want to handle parameters: <a href=\"http://stackoverflow.com/a/27279742/3862022\">stackoverflow.com/a/27279742/3862022</a>"},{"owner":{"account_id":3579638,"reputation":1004,"user_id":2988146,"accept_rate":100,"display_name":"osmingo"},"score":2,"creation_date":1487775526,"post_id":42393332,"comment_id":71937165,"body_markdown":"I have to add spring-boot-starter-thymeleaf and only refer to files in the templates directory, I think I got it, thank you","body":"I have to add spring-boot-starter-thymeleaf and only refer to files in the templates directory, I think I got it, thank you"},{"owner":{"account_id":3879192,"reputation":7671,"user_id":3212266,"accept_rate":80,"display_name":"Juan Saravia"},"score":2,"creation_date":1508631678,"post_id":42393332,"comment_id":80685881,"body_markdown":"thanks! I created the folders `resources/static`, put a `index.html` file and it just works!","body":"thanks! I created the folders <code>resources&#47;static</code>, put a <code>index.html</code> file and it just works!"},{"owner":{"account_id":1149936,"reputation":14493,"user_id":1131857,"accept_rate":76,"display_name":"wutzebaer"},"score":1,"creation_date":1575545112,"post_id":42393332,"comment_id":104606539,"body_markdown":"where exactly should these directorys be? i hope src/main/resources is not served automatically","body":"where exactly should these directorys be? i hope src/main/resources is not served automatically"},{"owner":{"account_id":4779947,"reputation":3849,"user_id":3862022,"display_name":"csenga"},"score":1,"creation_date":1575552461,"post_id":42393332,"comment_id":104610581,"body_markdown":"These dirs should be located in `src/main/resources`. `src/main/resources` is not served automatically.","body":"These dirs should be located in <code>src&#47;main&#47;resources</code>. <code>src&#47;main&#47;resources</code> is not served automatically."},{"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"score":0,"creation_date":1651053995,"post_id":42393332,"comment_id":127269112,"body_markdown":"I have my `app.properties` in resources and it doesn&#39;t serve it","body":"I have my <code>app.properties</code> in resources and it doesn&#39;t serve it"},{"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"score":0,"creation_date":1651054201,"post_id":42393332,"comment_id":127269194,"body_markdown":"@csenga any diff between `src/main/resources` and `src/main/resources`?","body":"@csenga any diff between <code>src&#47;main&#47;resources</code> and <code>src&#47;main&#47;resources</code>?"}],"tags":[],"owner":{"account_id":4779947,"reputation":3849,"user_id":3862022,"display_name":"csenga"},"comment_count":8,"down_vote_count":4,"up_vote_count":98,"is_accepted":true,"score":94,"last_activity_date":1655022911,"creation_date":1487771390,"answer_id":42393332,"question_id":42393211,"body_markdown":"Static files should be served from resources, not from a controller.\r\n&gt; Spring Boot will automatically add static web resources located within\r\n&gt; any of the following directories:\r\n&gt; \r\n&gt;     /META-INF/resources/  \r\n&gt;     /resources/  \r\n&gt;     /static/  \r\n&gt;     /public/\r\n\r\nrefs:  \r\nhttps://spring.io/blog/2013/12/19/serving-static-web-content-with-spring-boot  \r\nhttps://spring.io/guides/gs/serving-web-content/","title":"How can I serve static html from spring boot?","body":"<p>Static files should be served from resources, not from a controller.</p>\n<blockquote>\n<p>Spring Boot will automatically add static web resources located within\nany of the following directories:</p>\n<pre><code>/META-INF/resources/  \n/resources/  \n/static/  \n/public/\n</code></pre>\n</blockquote>\n<p>refs:<br />\n<a href=\"https://spring.io/blog/2013/12/19/serving-static-web-content-with-spring-boot\" rel=\"noreferrer\">https://spring.io/blog/2013/12/19/serving-static-web-content-with-spring-boot</a><br />\n<a href=\"https://spring.io/guides/gs/serving-web-content/\" rel=\"noreferrer\">https://spring.io/guides/gs/serving-web-content/</a></p>\n"},{"comments":[{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":0,"creation_date":1682624815,"post_id":48862637,"comment_id":134249539,"body_markdown":"What if I want the file in the static folder to be returned by a Spring controller? Which path should I use in `new File()`?","body":"What if I want the file in the static folder to be returned by a Spring controller? Which path should I use in <code>new File()</code>?"}],"tags":[],"owner":{"account_id":1895890,"reputation":4097,"user_id":1712880,"accept_rate":27,"display_name":"Hamid Mohayeji"},"comment_count":1,"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1632475766,"creation_date":1519031388,"answer_id":48862637,"question_id":42393211,"body_markdown":"In Spring boot, `/META-INF/resources/`, `/resources/`, `static/` and `public/` directories are available to serve static contents.\r\n\r\nSo you can create a `static/` or `public/` directory under `resources/` directory and put your static contents there. And they will be accessible by: `http://localhost:8080/your-file.ext`. (assuming the `server.port` is 8080)\r\n\r\nYou can customize these directories using `spring.resources.static-locations` in the `application.properties`.\r\n\r\nFor example:\r\n\r\n    spring.resources.static-locations=classpath:/custom/\r\n\r\nNow you can use `custom/` folder under `resources/` to serve static files.\r\n\r\nThis is also possible using Java config in Spring Boot 2:\r\n\r\n    @Configuration\r\n    public class StaticConfig implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n            registry.addResourceHandler(&quot;/static/**&quot;).addResourceLocations(&quot;classpath:/custom/&quot;);\r\n        }\r\n    }\r\n\r\nThis confugration maps contents of `custom` directory to the `http://localhost:8080/static/**` url.","title":"How can I serve static html from spring boot?","body":"<p>In Spring boot, <code>/META-INF/resources/</code>, <code>/resources/</code>, <code>static/</code> and <code>public/</code> directories are available to serve static contents.</p>\n<p>So you can create a <code>static/</code> or <code>public/</code> directory under <code>resources/</code> directory and put your static contents there. And they will be accessible by: <code>http://localhost:8080/your-file.ext</code>. (assuming the <code>server.port</code> is 8080)</p>\n<p>You can customize these directories using <code>spring.resources.static-locations</code> in the <code>application.properties</code>.</p>\n<p>For example:</p>\n<pre><code>spring.resources.static-locations=classpath:/custom/\n</code></pre>\n<p>Now you can use <code>custom/</code> folder under <code>resources/</code> to serve static files.</p>\n<p>This is also possible using Java config in Spring Boot 2:</p>\n<pre><code>@Configuration\npublic class StaticConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/static/**&quot;).addResourceLocations(&quot;classpath:/custom/&quot;);\n    }\n}\n</code></pre>\n<p>This confugration maps contents of <code>custom</code> directory to the <code>http://localhost:8080/static/**</code> url.</p>\n"},{"tags":[],"owner":{"account_id":907774,"reputation":9217,"user_id":942317,"accept_rate":87,"display_name":"STEEL"},"comment_count":0,"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1521469377,"creation_date":1521469377,"answer_id":49365261,"question_id":42393211,"body_markdown":"You can quickly serve static content in JAVA Spring-boot App via `thymeleaf` (ref: [source][1])\r\n\r\nI assume you have already added Spring Boot plugin `apply plugin: &#39;org.springframework.boot&#39;` and the necessary `buildscript`\r\n\r\nThen go ahead and ADD **thymeleaf** to your `build.gradle` ==&gt; \r\n\r\n\r\n    dependencies {\r\n        compile(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n        compile(&quot;org.springframework.boot:spring-boot-starter-thymeleaf&quot;)\r\n        testCompile(&#39;org.springframework.boot:spring-boot-starter-test&#39;)\r\n    }\r\n\r\n\r\nLets assume you have added **home.html** at `src/main/resources`\r\nTo serve this file, you will need to create a controller.\r\n  \r\n\r\n    package com.ajinkya.th.controller;\r\n    \r\n      import org.springframework.stereotype.Controller;\r\n      import org.springframework.web.bind.annotation.RequestMapping;\r\n    \r\n      @Controller\r\n      public class HomePageController {\r\n    \r\n          @RequestMapping(&quot;/&quot;)\r\n          public String homePage() {\r\n            return &quot;home&quot;;\r\n          }\r\n    \r\n      }\r\n\r\n\r\nThats it ! Now restart your gradle server. `./gradlew bootRun`\r\n\r\n  [1]: https://github.com/spring-guides/gs-serving-web-content","title":"How can I serve static html from spring boot?","body":"<p>You can quickly serve static content in JAVA Spring-boot App via <code>thymeleaf</code> (ref: <a href=\"https://github.com/spring-guides/gs-serving-web-content\" rel=\"nofollow noreferrer\">source</a>)</p>\n\n<p>I assume you have already added Spring Boot plugin <code>apply plugin: 'org.springframework.boot'</code> and the necessary <code>buildscript</code></p>\n\n<p>Then go ahead and ADD <strong>thymeleaf</strong> to your <code>build.gradle</code> ==> </p>\n\n<pre><code>dependencies {\n    compile('org.springframework.boot:spring-boot-starter-web')\n    compile(\"org.springframework.boot:spring-boot-starter-thymeleaf\")\n    testCompile('org.springframework.boot:spring-boot-starter-test')\n}\n</code></pre>\n\n<p>Lets assume you have added <strong>home.html</strong> at <code>src/main/resources</code>\nTo serve this file, you will need to create a controller.</p>\n\n<pre><code>package com.ajinkya.th.controller;\n\n  import org.springframework.stereotype.Controller;\n  import org.springframework.web.bind.annotation.RequestMapping;\n\n  @Controller\n  public class HomePageController {\n\n      @RequestMapping(\"/\")\n      public String homePage() {\n        return \"home\";\n      }\n\n  }\n</code></pre>\n\n<p>Thats it ! Now restart your gradle server. <code>./gradlew bootRun</code></p>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1542722201,"creation_date":1542722201,"answer_id":53394600,"question_id":42393211,"body_markdown":"I am using `:: Spring Boot :: (v2.0.4.`[*`RELEASE`*](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Release-Notes)`) with Spring Framework 5`\r\n  \r\n&gt; Spring Boot 2.0 requires Java 8 as a minimum version. Many existing APIs have been updated to take advantage of Java 8 features such as: default methods on interfaces, functional callbacks, and new APIs such as javax.time.\r\n\r\n###### **Static Content**\r\n\r\nBy default, Spring Boot serves static content from a directory called &lt;kbd&gt;/static&lt;/kbd&gt; (or &lt;kbd&gt;/public&lt;/kbd&gt; or &lt;kbd&gt;/resources&lt;/kbd&gt; or &lt;kbd&gt;/META-INF/&lt;/kbd&gt;resources) in the classpath or from the root of the ServletContext. It uses the ResourceHttpRequestHandler from Spring MVC so that you can modify that behavior by adding your own `WebMvcConfigurer` and overriding the `addResourceHandlers` method.\r\n\r\nBy default, resources are mapped on `/**` and located on `/static` directory.\r\nBut you can customize the static loactions programmatically inside our web context configuration class.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\t@Configuration @EnableWebMvc\r\n\tpublic class Static_ResourceHandler implements WebMvcConfigurer {\r\n\r\n\t\t@Override\r\n\t\tpublic void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n\t\t\t// When overriding default behavior, you need to add default(/) as well as added static paths(/webapp).\r\n\t\t\t\r\n\t\t\t// src/main/resources/static/...\r\n\t\t\tregistry\r\n\t\t\t\t//.addResourceHandler(&quot;/**&quot;) // &#171; /css/myStatic.css\r\n\t\t\t\t.addResourceHandler(&quot;/static/**&quot;) // &#171; /static/css/myStatic.css\r\n\t\t\t\t.addResourceLocations(&quot;classpath:/static/&quot;) // Default Static Loaction\r\n\t\t\t\t.setCachePeriod( 3600 )\r\n\t\t\t\t.resourceChain(true) // 4.1\r\n\t\t\t\t.addResolver(new GzipResourceResolver()) // 4.1\r\n\t\t\t\t.addResolver(new PathResourceResolver()); //4.1\r\n\t\t\t\r\n\t\t\t// src/main/resources/templates/static/...\r\n\t\t\tregistry\r\n\t\t\t\t.addResourceHandler(&quot;/templates/**&quot;) // &#171; /templates/style.css\r\n\t\t\t\t.addResourceLocations(&quot;classpath:/templates/static/&quot;);\r\n\t\t\t\r\n\t\t\t// Do not use the src/main/webapp/... directory if your application is packaged as a jar.\r\n\t\t\tregistry\r\n\t\t\t\t.addResourceHandler(&quot;/webapp/**&quot;) // &#171; /webapp/css/style.css\r\n\t\t\t\t.addResourceLocations(&quot;/&quot;);\r\n\t\t\t\r\n\t\t\t// File located on disk\r\n\t\t\tregistry\r\n\t\t\t\t.addResourceHandler(&quot;/system/files/**&quot;)\r\n\t\t\t\t.addResourceLocations(&quot;file:///D:/&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\r\n\thttp://localhost:8080/handlerPath/resource-path+name\r\n\t\t\t\t\t\t/static\t\t\t/css/myStatic.css\r\n\t\t\t\t\t\t/webapp\t\t\t/css/style.css\r\n\t\t\t\t\t\t/templates\t\t/style.css\r\n\r\n\r\n*In Spring every request will go through the DispatcherServlet. To avoid Static file request through DispatcherServlet(Front contoller) we configure MVC [Static content](https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-spring-mvc-static-content).*\r\n\r\nAs `@STEEL` said static resources should not go through Controller. `Thymleaf` is a ViewResolver which takes the view name form controller and adds `prefix` and `suffix` to View Layer.\r\n","title":"How can I serve static html from spring boot?","body":"<p>I am using <code>:: Spring Boot :: (v2.0.4.</code><a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Release-Notes\" rel=\"noreferrer\"><em><code>RELEASE</code></em></a><code>) with Spring Framework 5</code></p>\n\n<blockquote>\n  <p>Spring Boot 2.0 requires Java 8 as a minimum version. Many existing APIs have been updated to take advantage of Java 8 features such as: default methods on interfaces, functional callbacks, and new APIs such as javax.time.</p>\n</blockquote>\n\n<strong>Static Content</strong>\n\n<p>By default, Spring Boot serves static content from a directory called <kbd>/static</kbd> (or <kbd>/public</kbd> or <kbd>/resources</kbd> or <kbd>/META-INF/</kbd>resources) in the classpath or from the root of the ServletContext. It uses the ResourceHttpRequestHandler from Spring MVC so that you can modify that behavior by adding your own <code>WebMvcConfigurer</code> and overriding the <code>addResourceHandlers</code> method.</p>\n\n<p>By default, resources are mapped on <code>/**</code> and located on <code>/static</code> directory.\nBut you can customize the static loactions programmatically inside our web context configuration class.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration @EnableWebMvc\npublic class Static_ResourceHandler implements WebMvcConfigurer {\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        // When overriding default behavior, you need to add default(/) as well as added static paths(/webapp).\n\n        // src/main/resources/static/...\n        registry\n            //.addResourceHandler(\"/**\") // « /css/myStatic.css\n            .addResourceHandler(\"/static/**\") // « /static/css/myStatic.css\n            .addResourceLocations(\"classpath:/static/\") // Default Static Loaction\n            .setCachePeriod( 3600 )\n            .resourceChain(true) // 4.1\n            .addResolver(new GzipResourceResolver()) // 4.1\n            .addResolver(new PathResourceResolver()); //4.1\n\n        // src/main/resources/templates/static/...\n        registry\n            .addResourceHandler(\"/templates/**\") // « /templates/style.css\n            .addResourceLocations(\"classpath:/templates/static/\");\n\n        // Do not use the src/main/webapp/... directory if your application is packaged as a jar.\n        registry\n            .addResourceHandler(\"/webapp/**\") // « /webapp/css/style.css\n            .addResourceLocations(\"/\");\n\n        // File located on disk\n        registry\n            .addResourceHandler(\"/system/files/**\")\n            .addResourceLocations(\"file:///D:/\");\n    }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>http://localhost:8080/handlerPath/resource-path+name\n                    /static         /css/myStatic.css\n                    /webapp         /css/style.css\n                    /templates      /style.css\n</code></pre>\n\n<p><em>In Spring every request will go through the DispatcherServlet. To avoid Static file request through DispatcherServlet(Front contoller) we configure MVC <a href=\"https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-spring-mvc-static-content\" rel=\"noreferrer\">Static content</a>.</em></p>\n\n<p>As <code>@STEEL</code> said static resources should not go through Controller. <code>Thymleaf</code> is a ViewResolver which takes the view name form controller and adds <code>prefix</code> and <code>suffix</code> to View Layer.</p>\n"},{"tags":[],"owner":{"account_id":1241163,"reputation":1555,"user_id":1203728,"accept_rate":80,"display_name":"SaWo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1564648258,"creation_date":1564648258,"answer_id":57304878,"question_id":42393211,"body_markdown":"As it is written before, some folders (/META-INF/resources/, /resources/, /static/, /public/) serve static content by default, conroller misconfiguration can break this behaviour.\r\n\r\nIt is a common pitfall that people define the base url of a controller in the `@RestController` annotation, instead of the `@RequestMapping` annotation on the top of the controllers.\r\n\r\nThis is wrong:\r\n\r\n    @RestController(&quot;/api/base&quot;)\r\n    public class MyController {\r\n        \r\n        @PostMapping\r\n        public String myPostMethod( ...) {\r\n\r\nThe above example will prevent you from opening the index.html. The Spring expects a POST method at the root, because the `myPostMethod` is mapped to the &quot;/&quot; path.\r\n\r\nYou have to use this instead:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/base&quot;)\r\n    public class MyController {\r\n        \r\n        @PostMapping\r\n        public String myPostMethod( ...) {","title":"How can I serve static html from spring boot?","body":"<p>As it is written before, some folders (/META-INF/resources/, /resources/, /static/, /public/) serve static content by default, conroller misconfiguration can break this behaviour.</p>\n\n<p>It is a common pitfall that people define the base url of a controller in the <code>@RestController</code> annotation, instead of the <code>@RequestMapping</code> annotation on the top of the controllers.</p>\n\n<p>This is wrong:</p>\n\n<pre><code>@RestController(\"/api/base\")\npublic class MyController {\n\n    @PostMapping\n    public String myPostMethod( ...) {\n</code></pre>\n\n<p>The above example will prevent you from opening the index.html. The Spring expects a POST method at the root, because the <code>myPostMethod</code> is mapped to the \"/\" path.</p>\n\n<p>You have to use this instead:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api/base\")\npublic class MyController {\n\n    @PostMapping\n    public String myPostMethod( ...) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3339986,"reputation":521,"user_id":2806467,"display_name":"Kike Lebowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1601540272,"creation_date":1601540272,"answer_id":64151498,"question_id":42393211,"body_markdown":"I had to add thymeleaf dependency to pom.xml. Without this dependency Spring boot didn&#39;t find static resources.\r\n\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"How can I serve static html from spring boot?","body":"<p>I had to add thymeleaf dependency to pom.xml. Without this dependency Spring boot didn't find static resources.</p>\n<pre><code> &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15441060,"reputation":71,"user_id":11139624,"display_name":"constantem"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684172259,"creation_date":1684172259,"answer_id":76256629,"question_id":42393211,"body_markdown":"There are three kinds of url in Spring Boot:\r\n\r\n 1. relative to web application root: eg. `&quot;/abc&quot;`\r\n 2. relative to classpath: eg.  `&quot;classpath:/abc&quot;`\r\n 3. relative to file system: eg. `&quot;file:/abc&quot;`\r\n\r\nReturn to the subject, in Spring Boot, static resources in the following 4 url can be accessed via \r\n`&quot;http://localhost:8080/${context root}/${your static resources}&quot;`.\r\n\r\n    classpath:/META-INF/resources\r\n    classpath:/resources\r\n    classpath:/static\r\n    classpath:/public","title":"How can I serve static html from spring boot?","body":"<p>There are three kinds of url in Spring Boot:</p>\n<ol>\n<li>relative to web application root: eg. <code>&quot;/abc&quot;</code></li>\n<li>relative to classpath: eg.  <code>&quot;classpath:/abc&quot;</code></li>\n<li>relative to file system: eg. <code>&quot;file:/abc&quot;</code></li>\n</ol>\n<p>Return to the subject, in Spring Boot, static resources in the following 4 url can be accessed via\n<code>&quot;http://localhost:8080/${context root}/${your static resources}&quot;</code>.</p>\n<pre><code>classpath:/META-INF/resources\nclasspath:/resources\nclasspath:/static\nclasspath:/public\n</code></pre>\n"}],"owner":{"account_id":3579638,"reputation":1004,"user_id":2988146,"accept_rate":100,"display_name":"osmingo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202649,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"accepted_answer_id":42393332,"answer_count":7,"score":73,"last_activity_date":1684172259,"creation_date":1487771064,"question_id":42393211,"body_markdown":"I ran the spring-boot-sample-web-static project from [here][1], made this alteration to the pom\r\n\r\n&lt;!-- language. xml --&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\nAnd added this class to serve a duplicate page index2.html from the same `static` folder location:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    \r\n    @Controller\r\n    public class Rester {\r\n    \r\n        @RequestMapping(value = &quot;/rand&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        @ResponseBody\r\n        private RandomObj jsonEndpoint() {\r\n            return new RandomObj();\r\n        }\r\n    \r\n        @RequestMapping(value = &quot;/tw&quot;)\r\n        public String somePg() {\r\n            return &quot;index2&quot;;\r\n        }\r\n    }\r\nThe json url works fine, but when I try to access localhost:8080/tw I get a blank page, and this error in the console:\r\n\r\n    2017-02-22 15:37:22.076 ERROR 21494 --- [nio-8080-exec-9] o.s.boot.web.support.ErrorPageFilter     : Cannot forward to error page for request [/tw] as the response has already been committed. As a result, the response may have the wrong status code. If your application is running on WebSphere Application Server you may be able to resolve this problem by setting com.ibm.ws.webcontainer.invokeFlushAfterService to false\r\n\r\nAm I doing something wrong?\r\n  [1]: https://github.com/spring-projects/spring-boot/tree/1.5.x","title":"How can I serve static html from spring boot?","body":"<p>I ran the spring-boot-sample-web-static project from <a href=\"https://github.com/spring-projects/spring-boot/tree/1.5.x\" rel=\"noreferrer\">here</a>, made this alteration to the pom</p>\n\n\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And added this class to serve a duplicate page index2.html from the same <code>static</code> folder location:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.http.MediaType;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\n@Controller\npublic class Rester {\n\n    @RequestMapping(value = \"/rand\", produces = MediaType.APPLICATION_JSON_VALUE)\n    @ResponseBody\n    private RandomObj jsonEndpoint() {\n        return new RandomObj();\n    }\n\n    @RequestMapping(value = \"/tw\")\n    public String somePg() {\n        return \"index2\";\n    }\n}\n</code></pre>\n\n<p>The json url works fine, but when I try to access localhost:8080/tw I get a blank page, and this error in the console:</p>\n\n<pre><code>2017-02-22 15:37:22.076 ERROR 21494 --- [nio-8080-exec-9] o.s.boot.web.support.ErrorPageFilter     : Cannot forward to error page for request [/tw] as the response has already been committed. As a result, the response may have the wrong status code. If your application is running on WebSphere Application Server you may be able to resolve this problem by setting com.ibm.ws.webcontainer.invokeFlushAfterService to false\n</code></pre>\n\n<p>Am I doing something wrong?</p>\n"},{"tags":["java","crystal-reports","business-objects","business-objects-sdk"],"answers":[{"tags":[],"owner":{"account_id":2098586,"reputation":37,"user_id":1866812,"accept_rate":100,"display_name":"Elliot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1490888155,"creation_date":1490888155,"answer_id":43122319,"question_id":42843592,"body_markdown":"Hi Found my own answer.\r\n\r\nFor people facing the same issue : we have a firewall between the two machines.\r\n\r\nWhen we open a connection between our app and BO, the port is dynamically chosen on the app side.\r\n\r\nFor now, we disabled the firewall and are looking into a way to set a static port to use on the app side.\r\n\r\n","title":"Business Objects JAVA SDK ISessionMgr.logon hangs","body":"<p>Hi Found my own answer.</p>\n\n<p>For people facing the same issue : we have a firewall between the two machines.</p>\n\n<p>When we open a connection between our app and BO, the port is dynamically chosen on the app side.</p>\n\n<p>For now, we disabled the firewall and are looking into a way to set a static port to use on the app side.</p>\n"}],"owner":{"account_id":2098586,"reputation":37,"user_id":1866812,"accept_rate":100,"display_name":"Elliot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1409,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":43122319,"answer_count":1,"score":0,"last_activity_date":1684171487,"creation_date":1489693872,"question_id":42843592,"body_markdown":"We recently upgraded our Business Object XI environment for a new Business Objects 4.1 but we are now experiencing some issues with it\r\n\r\nWe have an Java web application hosted on a Weblogic server  that use the BO SDK to schedule Crystal Report on another server (Windows VM + tomcat server &amp; BO 4.1)\r\n\r\nHere’s the code used for the schedule : \r\n    \r\n      /**\r\n       * Schedule a report inside CrystalReport\r\n       */\r\n      public void executeReport(ReportContext reportContext) throws Exception { \r\n      logger.info(&quot;Class CrystalReportHelper, Executing report request for report &#39;&quot; + reportContext.getReportName() + &quot;&#39;&quot;);\r\n\r\n      IEnterpriseSession enterpriseSession = null;\r\n      try {\r\n         String password = getPassword(reportContext);\r\n         logger.info(&quot;Class CrystalReportHelper, Retrievieving password &quot;);\r\n         if (password != null) {\r\n            if (logger.isDebugEnabled()) {\r\n               logger.debug(&quot;Class CrystalReportHelper, Password obtained &#39;&quot; + password + &quot;&#39;&quot;);\r\n            }\r\n            else {\r\n               logger.info(&quot;Class CrystalReportHelper, Password obtained &quot;);\r\n            }\r\n         }\r\n         else {\r\n            logger.error(&quot;Class CrystalReportHelper, Invalid password for BO Logon&quot;);\r\n            throw new Exception(&quot;Invalid password for BO Logon - password is null&quot;);\r\n         }\r\n\r\n         String username = getUserName(reportContext);\r\n         logger.info(&quot;Class CrystalReportHelper, Retrievieving username &quot;);\r\n         if (username != null) {\r\n            logger.info(&quot;Class CrystalReportHelper, User name obtained &#39;&quot; + username + &quot;&#39;&quot;);\r\n         }\r\n         else {\r\n            logger.error(&quot;Class CrystalReportHelper, Invalid username for BO Logon&quot;);\r\n            throw new Exception(&quot;Invalid username for BO Logon - username is null&quot;);\r\n         }\r\n\r\n         String cmsName = getCentralManagementServerName();\r\n         logger.info(&quot;Class CrystalReportHelper, Retrievieving Central Management Server Name &quot;);\r\n         if (cmsName != null) {\r\n            logger.info(&quot;Class CrystalReportHelper,Central Management Server Name obtained = &quot; + cmsName);\r\n         }\r\n         else {\r\n            logger.error(&quot;Class CrystalReportHelper, Invalid Central Management Server Name for BO Logon.&quot;);\r\n            throw new Exception(&quot;Invalid Central Management Server Name for BO Logon - Central Management Server Name is null&quot;);\r\n         }\r\n\r\n         enterpriseSession = getSession(username, password, cmsName);\r\n         if (logger.isDebugEnabled()) {\r\n            logger.debug(&quot;Class CrystalReportHelper, Retrieving BusinessObjectEnterprise Session with username&#39;&quot; + username + &quot;&#39; password &#39;&quot; + password + &quot;&#39; cmsName &#39;&quot; + cmsName + &quot;&#39; &quot;);\r\n         }\r\n         else {\r\n            logger.info(&quot;Class CrystalReportHelper, Retrieving BusinessObjectEnterprise Session with username&#39;&quot; + username + &quot;&#39; password &#39;&quot; + &quot;XXXX&quot; + &quot;&#39; cmsName &#39;&quot; + cmsName + &quot;&#39; &quot;);\r\n         }\r\n         if (enterpriseSession == null) {\r\n            logger.error(&quot;Class CrystalReportHelper, Coud not retrieve BusinessObjectEnterprise Session with username&#39;&quot; + username + &quot;&#39; password &#39;&quot; + password + &quot;&#39; cmsName &#39;&quot; + cmsName + &quot;&#39; &quot;);\r\n            throw new Exception(&quot;Could not retreive BO Session with username : &quot; + username + &quot; and CMS : &quot; + cmsName);\r\n         }\r\n         if (logger.isDebugEnabled()) {\r\n            logger.debug(&quot;Class CrystalReportHelper, BusinessObjectEnterprise Session retrieve with username&#39;&quot; + username + &quot;&#39; password &#39;&quot; + password + &quot;&#39; cmsName &#39;&quot; + cmsName + &quot;&#39; &quot;);\r\n         }\r\n         else {\r\n            logger.info(&quot;Class CrystalReportHelper, BusinessObjectEnterprise Session retrieve with username&#39;&quot; + username + &quot;&#39; password &#39;&quot; + &quot;XXXX&quot; + &quot;&#39; cmsName &#39;&quot; + cmsName + &quot;&#39; &quot;);\r\n         }\r\n\r\n         IInfoStore infoStore = (IInfoStore) enterpriseSession.getService(cmsName, BO_INFO_STORE);\r\n         logger.info(&quot;Class CrystalReportHelper, Retrieving BO service with cmsName&#39;&quot; + cmsName + &quot;&#39; BO_INFO_STORE &#39;&quot; + BO_INFO_STORE + &quot;&#39;&quot;);\r\n         if (infoStore == null) {\r\n            logger.error(&quot;Class CrystalReportHelper, Coud not obtain BO service with cmsName&#39;&quot; + cmsName + &quot;&#39; BO_INFO_STORE &#39;&quot; + BO_INFO_STORE + &quot;&#39;&quot;);\r\n            throw new Exception(&quot;Could not obtain BO service : &quot; + BO_INFO_STORE);\r\n         }\r\n\r\n         // Queries the CMS for the report.\r\n         logger.info(&quot;Class CrystalReportHelper, BO service retrieved with cmsName&#39;&quot; + cmsName + &quot;&#39; BO_INFO_STORE &#39;&quot; + BO_INFO_STORE + &quot;&#39;&quot;);\r\n\r\n         String queryReport = REPORT_QUERY.replaceFirst(REPLACE_REPORT_NAME, getReportName(reportContext));\r\n\r\n         logger.info(&quot;Class CrystalReportHelper, Executing query report &#39;&quot; + queryReport + &quot;&#39;.&quot;);\r\n         IInfoObjects reports = infoStore.query(queryReport);\r\n         if (reports.size() == 0) {\r\n            logger.error(&quot;Class CrystalReportHelper, Report &#39;&quot; + queryReport + &quot;&#39; not found..&quot;);\r\n            throw new Exception(&quot;Report &quot; + getReportName(reportContext) + &quot; not found in BusinessObject&quot;);\r\n         }\r\n         IReport report = (IReport) reports.get(0);\r\n\r\n         // Set report format.\r\n         IReportFormatOptions reportFormat = report.getReportFormatOptions();\r\n\r\n         int formatType = IReportFormatOptions.CeReportFormat.CRYSTAL_REPORT;\r\n         reportFormat.setFormat(formatType);\r\n\r\n         String destinationInbox = getDestinationInbox(reportContext);\r\n         IDestinationPlugin destinationPlugin = getDestinationPlugin(infoStore, destinationInbox);\r\n\r\n         // Create an interface to the scheduling options for the report.\r\n         ISchedulingInfo scheduleInfo = report.getSchedulingInfo();\r\n         scheduleInfo.setType(CeScheduleType.ONCE);\r\n         scheduleInfo.setRightNow(true);\r\n\r\n         IDestination destination = scheduleInfo.getDestination();\r\n         destination.setFromPlugin(destinationPlugin);\r\n\r\n         // copy the report parameters\r\n         this.setParameters(reportContext, report);\r\n\r\n         logger.info(&quot;Class CrystalReportHelper, Scheduling report &#39;&quot; + getReportName(reportContext) + &quot;&#39;. &quot;);\r\n         infoStore.schedule(reports);\r\n         logger.info(&quot;Class CrystalReportHelper, Report &#39;&quot; + getReportName(reportContext) + &quot;&#39; has been scheduled. &quot;);\r\n\r\n         if (reportContext.isEmailRequired() &amp; isEmailEnabled()) {\r\n            sendEmail(reportContext);\r\n         }\r\n      }\r\n      catch (SDKRuntimeException SDKre) {\r\n         logger.error(&quot;Class CrystalReportHelper, Could not execute report request for report &#39;&quot; + reportContext.getReportName() + &quot;&#39; caught SDKRuntimeException:  &quot; + SDKre.getMessage(), SDKre);\r\n         throw new Exception(SDKre);\r\n      }\r\n      catch (SDKException SDKe) {\r\n         logger.error(&quot;Class CrystalReportHelper, Could not execute report request for report &#39;&quot; + reportContext.getReportName() + &quot;&#39; caught SDKException:  &quot; + SDKe.getMessage(), SDKe);\r\n         throw new Exception(SDKe);\r\n      }\r\n      finally {\r\n         if (null != enterpriseSession) {\r\n            enterpriseSession.logoff();\r\n         }\r\n      }\r\n\r\nHere’s some data info :\r\n\r\n1. `Reportcontext` contains things like user/password for BO, report name and report prompt parameter to use\r\n2. `BO_INFO_STORE = “InfoStore”;`\r\n3. `REPORT_QUERY = &quot;Select * From CI_INFOOBJECTS WHERE SI_NAME=&#39;&quot; + REPLACE_REPORT_NAME + &quot;&#39; AND SI_INSTANCE = &#39;false&#39;&quot;;`\r\n\r\nHere&#39;s the method `getSession` used to connect to BO :\r\n\r\n        /**\r\n         * return BusinessObjectEnterprise session\r\n         *\r\n         * @param username\r\n         * @param password\r\n         * @return IEnterpriseSession\r\n         * @throws SDKException\r\n         */\r\n         public IEnterpriseSession getSession(String username, String password,      String cmsName) throws SDKException {\r\n         logger.debug(&quot;Class CrystalReportHelper, Retrieving    BusinessObjectEnterprise Session  username&#39;&quot; + username + &quot;&#39; password &#39;&quot; +   password + &quot;&#39; cmsName &#39;&quot; + cmsName + &quot;&#39; &quot;);\r\n\r\n      IEnterpriseSession enterpriseSession = null;\r\n      ISessionMgr sessionMgr = CrystalEnterprise.getSessionMgr();\r\n\r\n      boolean isAuthenticateEnterprise = getReportProperties().getAuthenticationTypeEnterprise();\r\n      logger.debug(&quot;Class CrystalReportHelper, isAuthenticateEnterprise  &#39;&quot; + isAuthenticateEnterprise + &quot;&#39; &quot;);\r\n      if (isAuthenticateEnterprise) {\r\n         enterpriseSession = sessionMgr.logon(username, password, cmsName, CeProgID.SEC_ENTERPRISE);\r\n      }\r\n      else {\r\n         enterpriseSession = sessionMgr.logon(username, password, cmsName, CeProgID.SEC_LDAP);\r\n      }\r\n\r\n      logger.debug(&quot;Class CrystalReportHelper, BusinessObjectEnterprise Session  obtained for username&#39;&quot; + username + &quot;&#39; password &#39;&quot; + password + &quot;&#39; cmsName &#39;&quot; + cmsName + &quot;&#39; &quot;);\r\n      return enterpriseSession;\r\n    }\r\n\r\nThe problem we’re experiencing is sometimes the process will hang on this line for about 45min : \r\n\r\n    enterpriseSession = sessionMgr.logon(username, password, cmsName, CeProgID.SEC_ENTERPRISE);\r\n\r\nHere’s a stacktrace from Weblogic when this occurs : \r\n\r\n&gt; ```\r\n&gt; &quot;[ACTIVE] ExecuteThread: &#39;7&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;&quot; waiting for lock java.lang.Object@3d24ae2c WAITING\r\n&gt;    java.lang.Object.wait(Native Method)\r\n&gt;    java.lang.Object.wait(Object.java:485)\r\n&gt;        com.crystaldecisions.thirdparty.com.ooc.OB.Downcall.waitUntilCompleted(Downcall.java:831)\r\n&gt;        com.crystaldecisions.thirdparty.com.ooc.OB.GIOPClientWorkerThreaded.receive(GIOPClientWorkerThreaded.java:327)\r\n&gt;        com.crystaldecisions.thirdparty.com.ooc.OB.GIOPClientWorkerThreaded.sendReceive(GIOPClientWorkerThreaded.java:353)\r\n&gt;    com.crystaldecisions.thirdparty.com.ooc.OB.Downcall.request(Downcall.java:336)\r\n&gt;    com.crystaldecisions.thirdparty.com.ooc.OB.DowncallStub.invoke(DowncallStub.java:583)\r\n&gt;    com.crystaldecisions.thirdparty.com.ooc.CORBA.Delegate.invoke(Delegate.java:579)\r\n&gt;        com.crystaldecisions.thirdparty.org.omg.CORBA.portable.ObjectImpl._invoke(ObjectImpl.java:125)\r\n&gt;        com.crystaldecisions.enterprise.ocaframework.idl.ImplServ._OSCAFactoryStub.newService(_OSCAFactoryStub.java:78)\r\n&gt;    com.crystaldecisions.enterprise.ocaframework.i.a(Unknown Source)\r\n&gt;    com.crystaldecisions.enterprise.ocaframework.i.a(Unknown Source)\r\n&gt;    com.crystaldecisions.enterprise.ocaframework.i.buildClusterInfo(Unknown Source)\r\n&gt;    com.crystaldecisions.enterprise.ocaframework.aa.int(Unknown Source)\r\n&gt;    com.crystaldecisions.enterprise.ocaframework.ServiceMgr.int(Unknown Source)\r\n&gt;    com.crystaldecisions.enterprise.ocaframework.p.a(Unknown Source)\r\n&gt;    com.crystaldecisions.enterprise.ocaframework.ServiceMgr.getManagedService(Unknown Source)\r\n&gt;    com.crystaldecisions.sdk.occa.security.internal.f.if(Unknown Source)\r\n&gt;    com.crystaldecisions.sdk.occa.security.internal.f.&lt;init&gt;(Unknown Source)\r\n&gt;        com.crystaldecisions.sdk.occa.security.internal.SecurityFactory.makeSecuritySession(Unknown Source)\r\n&gt;    com.crystaldecisions.sdk.occa.security.internal.t.a(Unknown Source)\r\n&gt;    com.crystaldecisions.sdk.occa.security.internal.t.userLogon(Unknown Source)\r\n&gt;    com.crystaldecisions.sdk.occa.security.internal.l.userLogon(Unknown Source)\r\n&gt;    com.crystaldecisions.sdk.framework.internal.b.logon(Unknown Source)\r\n&gt;        com.tranme.guide.commonservices.report.CrystalReportHelper.getSession(CrystalReportHelper.java:156)\r\n&gt;        com.tranme.guide.commonservices.report.CrystalReportHelper.getReportInfoObjectsByReportName(CrystalReportHelper.java:503)\r\n&gt;        com.tranme.guide.notificationmgt.manager.reports.util.ReportManagementTools.getReportInstanceStatuses(ReportManagementTools.java:81)\r\n&gt;        com.tranme.guide.notificationmgt.manager.reports.util.ReportManagementTools.getGenerationStatusResults(ReportManagementTools.java:51)\r\n&gt;        com.tranme.guide.notificationmgt.manager.BaseNotificationManager.updateReportGenerationStatus(BaseNotificationManager.java:244)\r\n&gt;        com.tranme.guide.notificationmgt.business.ejb.impl.NotificationManagementFacadeBeanImpl.updateReportGenerationStatus(NotificationManagementFacadeBeanImpl.java:123)\r\n&gt;         com.tranme.guide.notificationmgt.business.ejb.impl.NotificationManagementFacadeBeanImpl_z3lp9c_EOImpl.updateReportGenerationStatus(NotificationManagementFacadeBeanImpl_z3lp9c_EOImpl.java:140)\r\n&gt;        com.tranme.guide.notificationmgt.business.ejb.impl.NotificationManagementFacadeBeanImpl_z3lp9c_EOImpl_WLSkel.invoke(Unknown Source)\r\n&gt;    weblogic.rmi.internal.BasicServerRef.invoke(BasicServerRef.java:589)\r\n&gt;    weblogic.rmi.cluster.ClusterableServerRef.invoke(ClusterableServerRef.java:230)\r\n&gt;    weblogic.rmi.internal.BasicServerRef$1.run(BasicServerRef.java:477)\r\n&gt;    weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:363)\r\n&gt;    weblogic.security.service.SecurityManager.runAs(SecurityManager.java:147)\r\n&gt;    weblogic.rmi.internal.BasicServerRef.handleRequest(BasicServerRef.java:473)\r\n&gt;    weblogic.rmi.internal.wls.WLSExecuteRequest.run(WLSExecuteRequest.java:118)\r\n&gt;    weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)\r\n&gt;    weblogic.work.ExecuteThread.run(ExecuteThread.java:173)\r\n&gt; &quot;Business Objects - Sessions Clean up&quot; TIMED_WAITING\r\n&gt;    java.lang.Thread.sleep(Native Method)\r\n&gt;    com.crystaldecisions.enterprise.ocaframework.n.run(Unknown Source)\r\n&gt;    java.lang.Thread.run(Thread.java:619)\r\n&gt; &quot;OracleTimeoutPollingThread&quot; TIMED_WAITING\r\n&gt;    java.lang.Thread.sleep(Native Method)\r\n&gt;    oracle.jdbc.driver.OracleTimeoutPollingThread.run(OracleTimeoutPollingThread.java:150)\r\n&gt; ```\r\n\r\nThis never happened before on our BO XI environment.\r\n","title":"Business Objects JAVA SDK ISessionMgr.logon hangs","body":"<p>We recently upgraded our Business Object XI environment for a new Business Objects 4.1 but we are now experiencing some issues with it</p>\n<p>We have an Java web application hosted on a Weblogic server  that use the BO SDK to schedule Crystal Report on another server (Windows VM + tomcat server &amp; BO 4.1)</p>\n<p>Here’s the code used for the schedule :</p>\n<pre><code>  /**\n   * Schedule a report inside CrystalReport\n   */\n  public void executeReport(ReportContext reportContext) throws Exception { \n  logger.info(&quot;Class CrystalReportHelper, Executing report request for report '&quot; + reportContext.getReportName() + &quot;'&quot;);\n\n  IEnterpriseSession enterpriseSession = null;\n  try {\n     String password = getPassword(reportContext);\n     logger.info(&quot;Class CrystalReportHelper, Retrievieving password &quot;);\n     if (password != null) {\n        if (logger.isDebugEnabled()) {\n           logger.debug(&quot;Class CrystalReportHelper, Password obtained '&quot; + password + &quot;'&quot;);\n        }\n        else {\n           logger.info(&quot;Class CrystalReportHelper, Password obtained &quot;);\n        }\n     }\n     else {\n        logger.error(&quot;Class CrystalReportHelper, Invalid password for BO Logon&quot;);\n        throw new Exception(&quot;Invalid password for BO Logon - password is null&quot;);\n     }\n\n     String username = getUserName(reportContext);\n     logger.info(&quot;Class CrystalReportHelper, Retrievieving username &quot;);\n     if (username != null) {\n        logger.info(&quot;Class CrystalReportHelper, User name obtained '&quot; + username + &quot;'&quot;);\n     }\n     else {\n        logger.error(&quot;Class CrystalReportHelper, Invalid username for BO Logon&quot;);\n        throw new Exception(&quot;Invalid username for BO Logon - username is null&quot;);\n     }\n\n     String cmsName = getCentralManagementServerName();\n     logger.info(&quot;Class CrystalReportHelper, Retrievieving Central Management Server Name &quot;);\n     if (cmsName != null) {\n        logger.info(&quot;Class CrystalReportHelper,Central Management Server Name obtained = &quot; + cmsName);\n     }\n     else {\n        logger.error(&quot;Class CrystalReportHelper, Invalid Central Management Server Name for BO Logon.&quot;);\n        throw new Exception(&quot;Invalid Central Management Server Name for BO Logon - Central Management Server Name is null&quot;);\n     }\n\n     enterpriseSession = getSession(username, password, cmsName);\n     if (logger.isDebugEnabled()) {\n        logger.debug(&quot;Class CrystalReportHelper, Retrieving BusinessObjectEnterprise Session with username'&quot; + username + &quot;' password '&quot; + password + &quot;' cmsName '&quot; + cmsName + &quot;' &quot;);\n     }\n     else {\n        logger.info(&quot;Class CrystalReportHelper, Retrieving BusinessObjectEnterprise Session with username'&quot; + username + &quot;' password '&quot; + &quot;XXXX&quot; + &quot;' cmsName '&quot; + cmsName + &quot;' &quot;);\n     }\n     if (enterpriseSession == null) {\n        logger.error(&quot;Class CrystalReportHelper, Coud not retrieve BusinessObjectEnterprise Session with username'&quot; + username + &quot;' password '&quot; + password + &quot;' cmsName '&quot; + cmsName + &quot;' &quot;);\n        throw new Exception(&quot;Could not retreive BO Session with username : &quot; + username + &quot; and CMS : &quot; + cmsName);\n     }\n     if (logger.isDebugEnabled()) {\n        logger.debug(&quot;Class CrystalReportHelper, BusinessObjectEnterprise Session retrieve with username'&quot; + username + &quot;' password '&quot; + password + &quot;' cmsName '&quot; + cmsName + &quot;' &quot;);\n     }\n     else {\n        logger.info(&quot;Class CrystalReportHelper, BusinessObjectEnterprise Session retrieve with username'&quot; + username + &quot;' password '&quot; + &quot;XXXX&quot; + &quot;' cmsName '&quot; + cmsName + &quot;' &quot;);\n     }\n\n     IInfoStore infoStore = (IInfoStore) enterpriseSession.getService(cmsName, BO_INFO_STORE);\n     logger.info(&quot;Class CrystalReportHelper, Retrieving BO service with cmsName'&quot; + cmsName + &quot;' BO_INFO_STORE '&quot; + BO_INFO_STORE + &quot;'&quot;);\n     if (infoStore == null) {\n        logger.error(&quot;Class CrystalReportHelper, Coud not obtain BO service with cmsName'&quot; + cmsName + &quot;' BO_INFO_STORE '&quot; + BO_INFO_STORE + &quot;'&quot;);\n        throw new Exception(&quot;Could not obtain BO service : &quot; + BO_INFO_STORE);\n     }\n\n     // Queries the CMS for the report.\n     logger.info(&quot;Class CrystalReportHelper, BO service retrieved with cmsName'&quot; + cmsName + &quot;' BO_INFO_STORE '&quot; + BO_INFO_STORE + &quot;'&quot;);\n\n     String queryReport = REPORT_QUERY.replaceFirst(REPLACE_REPORT_NAME, getReportName(reportContext));\n\n     logger.info(&quot;Class CrystalReportHelper, Executing query report '&quot; + queryReport + &quot;'.&quot;);\n     IInfoObjects reports = infoStore.query(queryReport);\n     if (reports.size() == 0) {\n        logger.error(&quot;Class CrystalReportHelper, Report '&quot; + queryReport + &quot;' not found..&quot;);\n        throw new Exception(&quot;Report &quot; + getReportName(reportContext) + &quot; not found in BusinessObject&quot;);\n     }\n     IReport report = (IReport) reports.get(0);\n\n     // Set report format.\n     IReportFormatOptions reportFormat = report.getReportFormatOptions();\n\n     int formatType = IReportFormatOptions.CeReportFormat.CRYSTAL_REPORT;\n     reportFormat.setFormat(formatType);\n\n     String destinationInbox = getDestinationInbox(reportContext);\n     IDestinationPlugin destinationPlugin = getDestinationPlugin(infoStore, destinationInbox);\n\n     // Create an interface to the scheduling options for the report.\n     ISchedulingInfo scheduleInfo = report.getSchedulingInfo();\n     scheduleInfo.setType(CeScheduleType.ONCE);\n     scheduleInfo.setRightNow(true);\n\n     IDestination destination = scheduleInfo.getDestination();\n     destination.setFromPlugin(destinationPlugin);\n\n     // copy the report parameters\n     this.setParameters(reportContext, report);\n\n     logger.info(&quot;Class CrystalReportHelper, Scheduling report '&quot; + getReportName(reportContext) + &quot;'. &quot;);\n     infoStore.schedule(reports);\n     logger.info(&quot;Class CrystalReportHelper, Report '&quot; + getReportName(reportContext) + &quot;' has been scheduled. &quot;);\n\n     if (reportContext.isEmailRequired() &amp; isEmailEnabled()) {\n        sendEmail(reportContext);\n     }\n  }\n  catch (SDKRuntimeException SDKre) {\n     logger.error(&quot;Class CrystalReportHelper, Could not execute report request for report '&quot; + reportContext.getReportName() + &quot;' caught SDKRuntimeException:  &quot; + SDKre.getMessage(), SDKre);\n     throw new Exception(SDKre);\n  }\n  catch (SDKException SDKe) {\n     logger.error(&quot;Class CrystalReportHelper, Could not execute report request for report '&quot; + reportContext.getReportName() + &quot;' caught SDKException:  &quot; + SDKe.getMessage(), SDKe);\n     throw new Exception(SDKe);\n  }\n  finally {\n     if (null != enterpriseSession) {\n        enterpriseSession.logoff();\n     }\n  }\n</code></pre>\n<p>Here’s some data info :</p>\n<ol>\n<li><code>Reportcontext</code> contains things like user/password for BO, report name and report prompt parameter to use</li>\n<li><code>BO_INFO_STORE = “InfoStore”;</code></li>\n<li><code>REPORT_QUERY = &quot;Select * From CI_INFOOBJECTS WHERE SI_NAME='&quot; + REPLACE_REPORT_NAME + &quot;' AND SI_INSTANCE = 'false'&quot;;</code></li>\n</ol>\n<p>Here's the method <code>getSession</code> used to connect to BO :</p>\n<pre><code>    /**\n     * return BusinessObjectEnterprise session\n     *\n     * @param username\n     * @param password\n     * @return IEnterpriseSession\n     * @throws SDKException\n     */\n     public IEnterpriseSession getSession(String username, String password,      String cmsName) throws SDKException {\n     logger.debug(&quot;Class CrystalReportHelper, Retrieving    BusinessObjectEnterprise Session  username'&quot; + username + &quot;' password '&quot; +   password + &quot;' cmsName '&quot; + cmsName + &quot;' &quot;);\n\n  IEnterpriseSession enterpriseSession = null;\n  ISessionMgr sessionMgr = CrystalEnterprise.getSessionMgr();\n\n  boolean isAuthenticateEnterprise = getReportProperties().getAuthenticationTypeEnterprise();\n  logger.debug(&quot;Class CrystalReportHelper, isAuthenticateEnterprise  '&quot; + isAuthenticateEnterprise + &quot;' &quot;);\n  if (isAuthenticateEnterprise) {\n     enterpriseSession = sessionMgr.logon(username, password, cmsName, CeProgID.SEC_ENTERPRISE);\n  }\n  else {\n     enterpriseSession = sessionMgr.logon(username, password, cmsName, CeProgID.SEC_LDAP);\n  }\n\n  logger.debug(&quot;Class CrystalReportHelper, BusinessObjectEnterprise Session  obtained for username'&quot; + username + &quot;' password '&quot; + password + &quot;' cmsName '&quot; + cmsName + &quot;' &quot;);\n  return enterpriseSession;\n}\n</code></pre>\n<p>The problem we’re experiencing is sometimes the process will hang on this line for about 45min :</p>\n<pre><code>enterpriseSession = sessionMgr.logon(username, password, cmsName, CeProgID.SEC_ENTERPRISE);\n</code></pre>\n<p>Here’s a stacktrace from Weblogic when this occurs :</p>\n<blockquote>\n<pre><code>&quot;[ACTIVE] ExecuteThread: '7' for queue: 'weblogic.kernel.Default (self-tuning)'&quot; waiting for lock java.lang.Object@3d24ae2c WAITING\n   java.lang.Object.wait(Native Method)\n   java.lang.Object.wait(Object.java:485)\n       com.crystaldecisions.thirdparty.com.ooc.OB.Downcall.waitUntilCompleted(Downcall.java:831)\n       com.crystaldecisions.thirdparty.com.ooc.OB.GIOPClientWorkerThreaded.receive(GIOPClientWorkerThreaded.java:327)\n       com.crystaldecisions.thirdparty.com.ooc.OB.GIOPClientWorkerThreaded.sendReceive(GIOPClientWorkerThreaded.java:353)\n   com.crystaldecisions.thirdparty.com.ooc.OB.Downcall.request(Downcall.java:336)\n   com.crystaldecisions.thirdparty.com.ooc.OB.DowncallStub.invoke(DowncallStub.java:583)\n   com.crystaldecisions.thirdparty.com.ooc.CORBA.Delegate.invoke(Delegate.java:579)\n       com.crystaldecisions.thirdparty.org.omg.CORBA.portable.ObjectImpl._invoke(ObjectImpl.java:125)\n       com.crystaldecisions.enterprise.ocaframework.idl.ImplServ._OSCAFactoryStub.newService(_OSCAFactoryStub.java:78)\n   com.crystaldecisions.enterprise.ocaframework.i.a(Unknown Source)\n   com.crystaldecisions.enterprise.ocaframework.i.a(Unknown Source)\n   com.crystaldecisions.enterprise.ocaframework.i.buildClusterInfo(Unknown Source)\n   com.crystaldecisions.enterprise.ocaframework.aa.int(Unknown Source)\n   com.crystaldecisions.enterprise.ocaframework.ServiceMgr.int(Unknown Source)\n   com.crystaldecisions.enterprise.ocaframework.p.a(Unknown Source)\n   com.crystaldecisions.enterprise.ocaframework.ServiceMgr.getManagedService(Unknown Source)\n   com.crystaldecisions.sdk.occa.security.internal.f.if(Unknown Source)\n   com.crystaldecisions.sdk.occa.security.internal.f.&lt;init&gt;(Unknown Source)\n       com.crystaldecisions.sdk.occa.security.internal.SecurityFactory.makeSecuritySession(Unknown Source)\n   com.crystaldecisions.sdk.occa.security.internal.t.a(Unknown Source)\n   com.crystaldecisions.sdk.occa.security.internal.t.userLogon(Unknown Source)\n   com.crystaldecisions.sdk.occa.security.internal.l.userLogon(Unknown Source)\n   com.crystaldecisions.sdk.framework.internal.b.logon(Unknown Source)\n       com.tranme.guide.commonservices.report.CrystalReportHelper.getSession(CrystalReportHelper.java:156)\n       com.tranme.guide.commonservices.report.CrystalReportHelper.getReportInfoObjectsByReportName(CrystalReportHelper.java:503)\n       com.tranme.guide.notificationmgt.manager.reports.util.ReportManagementTools.getReportInstanceStatuses(ReportManagementTools.java:81)\n       com.tranme.guide.notificationmgt.manager.reports.util.ReportManagementTools.getGenerationStatusResults(ReportManagementTools.java:51)\n       com.tranme.guide.notificationmgt.manager.BaseNotificationManager.updateReportGenerationStatus(BaseNotificationManager.java:244)\n       com.tranme.guide.notificationmgt.business.ejb.impl.NotificationManagementFacadeBeanImpl.updateReportGenerationStatus(NotificationManagementFacadeBeanImpl.java:123)\n        com.tranme.guide.notificationmgt.business.ejb.impl.NotificationManagementFacadeBeanImpl_z3lp9c_EOImpl.updateReportGenerationStatus(NotificationManagementFacadeBeanImpl_z3lp9c_EOImpl.java:140)\n       com.tranme.guide.notificationmgt.business.ejb.impl.NotificationManagementFacadeBeanImpl_z3lp9c_EOImpl_WLSkel.invoke(Unknown Source)\n   weblogic.rmi.internal.BasicServerRef.invoke(BasicServerRef.java:589)\n   weblogic.rmi.cluster.ClusterableServerRef.invoke(ClusterableServerRef.java:230)\n   weblogic.rmi.internal.BasicServerRef$1.run(BasicServerRef.java:477)\n   weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:363)\n   weblogic.security.service.SecurityManager.runAs(SecurityManager.java:147)\n   weblogic.rmi.internal.BasicServerRef.handleRequest(BasicServerRef.java:473)\n   weblogic.rmi.internal.wls.WLSExecuteRequest.run(WLSExecuteRequest.java:118)\n   weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)\n   weblogic.work.ExecuteThread.run(ExecuteThread.java:173)\n&quot;Business Objects - Sessions Clean up&quot; TIMED_WAITING\n   java.lang.Thread.sleep(Native Method)\n   com.crystaldecisions.enterprise.ocaframework.n.run(Unknown Source)\n   java.lang.Thread.run(Thread.java:619)\n&quot;OracleTimeoutPollingThread&quot; TIMED_WAITING\n   java.lang.Thread.sleep(Native Method)\n   oracle.jdbc.driver.OracleTimeoutPollingThread.run(OracleTimeoutPollingThread.java:150)\n</code></pre>\n</blockquote>\n<p>This never happened before on our BO XI environment.</p>\n"},{"tags":["java","docker","intellij-idea","spring-security","h2"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1682797519,"post_id":76123402,"comment_id":134272854,"body_markdown":"*However, my project has an h2 database that opens its console at the start of the project in the browser.* How do you open a browser in your Docker container? What kind of docker container do you use? Anyway, Spring Boot doesn&#39;t open a browser by default. You have to do it by yourself (manual or coding).","body":"<i>However, my project has an h2 database that opens its console at the start of the project in the browser.</i> How do you open a browser in your Docker container? What kind of docker container do you use? Anyway, Spring Boot doesn&#39;t open a browser by default. You have to do it by yourself (manual or coding)."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1682797672,"post_id":76123402,"comment_id":134272875,"body_markdown":"*Browser detection failed, and java property\n&#39;h2.browser&#39; and environment variable BROWSER are not set to a browser executable.* This error is clear, your app cannot open a browser. So you have to change your code, to not open any browser.","body":"<i>Browser detection failed, and java property &#39;h2.browser&#39; and environment variable BROWSER are not set to a browser executable.</i> This error is clear, your app cannot open a browser. So you have to change your code, to not open any browser."},{"owner":{"account_id":19719481,"reputation":111,"user_id":15397886,"display_name":"Сергей"},"score":0,"creation_date":1683043930,"post_id":76123402,"comment_id":134304745,"body_markdown":"How do you open a browser in your Docker container?\nThe H2 database tries to open it.\n_\nWhat kind of docker container do you use?\nI am creating a Docker Container from this image.\n\nFROM openjdk:11\nMAINTAINER Sergey Zavyalov\nCOPY out/artifacts/KameleoonTestTask_jar/KameleoonTestTask.jar /app/KameleoonTestTask.jar\nWORKDIR /app\nEXPOSE 3000\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/KameleoonTestTask.jar&quot;]","body":"How do you open a browser in your Docker container? The H2 database tries to open it. _ What kind of docker container do you use? I am creating a Docker Container from this image.  FROM openjdk:11 MAINTAINER Sergey Zavyalov COPY out/artifacts/KameleoonTestTask_jar/KameleoonTestTask.jar /app/KameleoonTestTask.jar WORKDIR /app EXPOSE 3000 ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/KameleoonTestTask.jar&quot;]"},{"owner":{"account_id":19719481,"reputation":111,"user_id":15397886,"display_name":"Сергей"},"score":0,"creation_date":1683044359,"post_id":76123402,"comment_id":134304858,"body_markdown":"What kind of docker container do you use?\npart2\n_\nThen I create an image\ndocker build -t sergzv/kameleoon:v0.0.1 .\n_\nThen I create a container\ndocker run --rm --name testtask sergzv/kameleoon:v0.0.1","body":"What kind of docker container do you use? part2 _ Then I create an image docker build -t sergzv/kameleoon:v0.0.1 . _ Then I create a container docker run --rm --name testtask sergzv/kameleoon:v0.0.1"},{"owner":{"account_id":19719481,"reputation":111,"user_id":15397886,"display_name":"Сергей"},"score":0,"creation_date":1683044601,"post_id":76123402,"comment_id":134304911,"body_markdown":"What kind of docker container do you use? Anyway, Spring Boot doesn&#39;t open a browser by default. You have to do it by yourself.\nYes, I read about it. And this is the strangest thing. Therefore, I am now trying to create a new project and see if there will be this error in it. I repeat, with a simple launch of the project, there is no console. It only occurs when I create artifacts and run it in the terminal via the java -jar command out/artifacts/KameleoonTestTask_jar/KameleoonTestTask.jar . Is it possible that this is the case?","body":"What kind of docker container do you use? Anyway, Spring Boot doesn&#39;t open a browser by default. You have to do it by yourself. Yes, I read about it. And this is the strangest thing. Therefore, I am now trying to create a new project and see if there will be this error in it. I repeat, with a simple launch of the project, there is no console. It only occurs when I create artifacts and run it in the terminal via the java -jar command out/artifacts/KameleoonTestTask_jar/KameleoonTestTask.jar . Is it possible that this is the case?"},{"owner":{"account_id":19719481,"reputation":111,"user_id":15397886,"display_name":"Сергей"},"score":0,"creation_date":1683044736,"post_id":76123402,"comment_id":134304941,"body_markdown":"This error is clear, your app cannot open a browser. So you have to change your code, to not open any browser. \nYes, this is the way I decided to go. Actually, that was my question. How to disable the console, which should already be disabled by default so that it does not launch the browser when the application starts. In addition, I read that the console is needed only for tests and in ready-made applications it should be disabled.","body":"This error is clear, your app cannot open a browser. So you have to change your code, to not open any browser.  Yes, this is the way I decided to go. Actually, that was my question. How to disable the console, which should already be disabled by default so that it does not launch the browser when the application starts. In addition, I read that the console is needed only for tests and in ready-made applications it should be disabled."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1683052287,"post_id":76123402,"comment_id":134306544,"body_markdown":"The only way I know how to get the web console to pop up is if I explicitly start the H2 DB server - for example, using `java -cp h2-2.1.214.jar org.h2.tools.Server -baseDir .` (and there are other equivalent ways, also). When I do that, I see a `Web Console server running at ...` message. On the other hand, if I only have a web app running with a JDBC connection, I never see the console (including when running on the command line).","body":"The only way I know how to get the web console to pop up is if I explicitly start the H2 DB server - for example, using <code>java -cp h2-2.1.214.jar org.h2.tools.Server -baseDir .</code> (and there are other equivalent ways, also). When I do that, I see a <code>Web Console server running at ...</code> message. On the other hand, if I only have a web app running with a JDBC connection, I never see the console (including when running on the command line)."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1683052327,"post_id":76123402,"comment_id":134306552,"body_markdown":"You are using an in-memory H2 instance - so is it safe to assume you do not have any code in your Spring Boot app doing anything like this: `Server server = Server.createTcpServer(args).start();`? Or any other place where there is an explicit command to start the H2 in server mode?","body":"You are using an in-memory H2 instance - so is it safe to assume you do not have any code in your Spring Boot app doing anything like this: <code>Server server = Server.createTcpServer(args).start();</code>? Or any other place where there is an explicit command to start the H2 in server mode?"},{"owner":{"account_id":19719481,"reputation":111,"user_id":15397886,"display_name":"Сергей"},"score":0,"creation_date":1683140325,"post_id":76123402,"comment_id":134322379,"body_markdown":"Everything is right. I don&#39;t explicitly call the h2 database start anywhere. Except in application.properties (the settings of which I described in the main question), when connecting dependencies in pom.xml I don&#39;t call it anywhere. I don&#39;t know if it&#39;s possible to give a link to the full project here and whether anyone will dig into it, but just in case here https://github.com/SERGZV/KameleoonTestTask .","body":"Everything is right. I don&#39;t explicitly call the h2 database start anywhere. Except in application.properties (the settings of which I described in the main question), when connecting dependencies in pom.xml I don&#39;t call it anywhere. I don&#39;t know if it&#39;s possible to give a link to the full project here and whether anyone will dig into it, but just in case here <a href=\"https://github.com/SERGZV/KameleoonTestTask\" rel=\"nofollow noreferrer\">github.com/SERGZV/KameleoonTestTask</a> ."}],"answers":[{"tags":[],"owner":{"account_id":19719481,"reputation":111,"user_id":15397886,"display_name":"Сергей"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684171316,"creation_date":1684171316,"answer_id":76256511,"question_id":76123402,"body_markdown":"The problem has been solved. What have I done for this:\r\n1. I installed the latest 30-day trial version of Idea Ultimate\r\n2. In pom.xml I removed all the plugins that were there and added this one:\r\n\r\n    &lt;plugin\\&gt;                                                                   \t\t\t\t\t\t\t\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \t\t\t\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\t\r\n    &lt;/plugin\\&gt;\t\r\n\r\n3. This time I did not build the JAR artifact using Idea (File &gt; Project Structure &gt; + JAR from modules with dependencies).\r\nNow I produced it with Maven (Go to &quot;Toolbar&quot; from the right with the name Maven &gt; &quot;name of your project&quot; &gt; Lifecycle &gt; package)\r\n4. Now the artifact is in the target folder and when I run it using &quot;java -jar...&quot; the login window to the h2database console no longer opens in the browser\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n5. Of course, in order for Docker container to use a new artifact, I changed the path in the Makefile and re-created the image and the container based on the new JAR file.\r\n\r\nNow, during the launch of the Docker file or the jar artifact itself, the H2 console window does not pop up in the browser.","title":"How do I turn off the h2 console in a java project in the IntelliJ Idea development environment?","body":"<p>The problem has been solved. What have I done for this:</p>\n<ol>\n<li><p>I installed the latest 30-day trial version of Idea Ultimate</p>\n</li>\n<li><p>In pom.xml I removed all the plugins that were there and added this one:</p>\n<p>&lt;plugin&gt;<br />\norg.springframework.boot<br />\nspring-boot-maven-plugin<br />\n&lt;/plugin&gt;</p>\n</li>\n<li><p>This time I did not build the JAR artifact using Idea (File &gt; Project Structure &gt; + JAR from modules with dependencies).\nNow I produced it with Maven (Go to &quot;Toolbar&quot; from the right with the name Maven &gt; &quot;name of your project&quot; &gt; Lifecycle &gt; package)</p>\n</li>\n<li><p>Now the artifact is in the target folder and when I run it using &quot;java -jar...&quot; the login window to the h2database console no longer opens in the browser</p>\n</li>\n<li><p>Of course, in order for Docker container to use a new artifact, I changed the path in the Makefile and re-created the image and the container based on the new JAR file.</p>\n</li>\n</ol>\n<p>Now, during the launch of the Docker file or the jar artifact itself, the H2 console window does not pop up in the browser.</p>\n"}],"owner":{"account_id":19719481,"reputation":111,"user_id":15397886,"display_name":"Сергей"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1684171316,"creation_date":1682618527,"question_id":76123402,"body_markdown":"I want to put my program in a Docker container. However, my project has an h2 database that opens its console at the start of the project in the browser. As a result, an error appears when starting the container: \r\n**Failed to start a browser to open the URL http://172.17.0.2:8082?key=9cfa612432aa32f89b955f102b129e4b8123dcec3f9841e74c6bd5e319f3a3a5: Browser detection failed, and java property      \r\n    &#39;h2.browser&#39; and environment variable BROWSER are not set to a browser executable.**\r\n\r\nAs a result, it was decided to go the easy way and disable the h2 console, since I still don&#39;t use it yet. Following the advice of chat-gpt-3, I tried to disable it using the **application.properties** file :\r\n\r\n    spring.datasource.url=jdbc:h2:mem:default\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n    spring.datasource.DriverClassName=org.h2.Driver\r\n    spring.h2.console.enabled=false\r\n    spring.h2.console.path=/myh2console\r\n\r\nI created a jar artifact and launched it using the command: **java -jar out/artifacts/KameleoonTestTask_jar/KameleoonTestTask.jar**\r\n\r\nBut it did not bring the desired result. As soon as I launch the artifact, a new tab opens in the browser with the h2 database window and prompts me to enter a name and password, and the h2 database console icon appears at the bottom of the tray.\r\n\r\nThen following his other advice I tried disabling the console by denying the console access to the browser using SpringSecurity:\r\n\r\n    package project.config;\r\n    \r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.Enable Web Security;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter\r\n    {\r\n        @Override\r\n        protected void configure(Http Security http) throws Exception\r\n        {\r\n            http.authorizerequest()\r\n            .antMatchers(&quot;/h2-console/*&quot;).denyAll()\r\n            .and().headers().frameOptions().disable();\r\n        }\r\n    }\r\n\r\nThe console keeps popping up.\r\n\r\nIt is also worth noting that the console does not appear during the normal launch of the application in Idea. It appears only when I run the artifact with the above command. I run the artifact manually to check how the program will behave inside the docker container.\r\n\r\nIf anyone knows how to disable this console, please help.","title":"How do I turn off the h2 console in a java project in the IntelliJ Idea development environment?","body":"<p>I want to put my program in a Docker container. However, my project has an h2 database that opens its console at the start of the project in the browser. As a result, an error appears when starting the container:\n<strong>Failed to start a browser to open the URL <a href=\"http://172.17.0.2:8082?key=9cfa612432aa32f89b955f102b129e4b8123dcec3f9841e74c6bd5e319f3a3a5\" rel=\"nofollow noreferrer\">http://172.17.0.2:8082?key=9cfa612432aa32f89b955f102b129e4b8123dcec3f9841e74c6bd5e319f3a3a5</a>: Browser detection failed, and java property<br />\n'h2.browser' and environment variable BROWSER are not set to a browser executable.</strong></p>\n<p>As a result, it was decided to go the easy way and disable the h2 console, since I still don't use it yet. Following the advice of chat-gpt-3, I tried to disable it using the <strong>application.properties</strong> file :</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:default\nspring.datasource.username=sa\nspring.datasource.password=\nspring.datasource.DriverClassName=org.h2.Driver\nspring.h2.console.enabled=false\nspring.h2.console.path=/myh2console\n</code></pre>\n<p>I created a jar artifact and launched it using the command: <strong>java -jar out/artifacts/KameleoonTestTask_jar/KameleoonTestTask.jar</strong></p>\n<p>But it did not bring the desired result. As soon as I launch the artifact, a new tab opens in the browser with the h2 database window and prompts me to enter a name and password, and the h2 database console icon appears at the bottom of the tray.</p>\n<p>Then following his other advice I tried disabling the console by denying the console access to the browser using SpringSecurity:</p>\n<pre><code>package project.config;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.Enable Web Security;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter\n{\n    @Override\n    protected void configure(Http Security http) throws Exception\n    {\n        http.authorizerequest()\n        .antMatchers(&quot;/h2-console/*&quot;).denyAll()\n        .and().headers().frameOptions().disable();\n    }\n}\n</code></pre>\n<p>The console keeps popping up.</p>\n<p>It is also worth noting that the console does not appear during the normal launch of the application in Idea. It appears only when I run the artifact with the above command. I run the artifact manually to check how the program will behave inside the docker container.</p>\n<p>If anyone knows how to disable this console, please help.</p>\n"},{"tags":["java","android","mobile"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1684172057,"post_id":76256489,"comment_id":134475195,"body_markdown":"Don&#39;t use a different MediaPlayer.  MediaPlayer is expensive, you shouldn&#39;t have more than one of them per Activity.","body":"Don&#39;t use a different MediaPlayer.  MediaPlayer is expensive, you shouldn&#39;t have more than one of them per Activity."},{"owner":{"account_id":28607004,"reputation":1,"user_id":21902750,"display_name":"Whoami"},"score":0,"creation_date":1684174858,"post_id":76256489,"comment_id":134475781,"body_markdown":"I didn&#39;t use more than one. when I choose another item in RecView AudioPlayer class work again.","body":"I didn&#39;t use more than one. when I choose another item in RecView AudioPlayer class work again."}],"owner":{"account_id":28607004,"reputation":1,"user_id":21902750,"display_name":"Whoami"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684171043,"creation_date":1684171043,"question_id":76256489,"body_markdown":"I developed a music player using Java in Android Studio. However, when I press the back button on the player and then click on another song in the Recycler View, two music sounds overlap. Please do not suggest using methods like OnDestroy because I want the current song to keep playing when the screen is turned off or when the user goes back, and I only want it to stop when another song is played. The main reason for the problem is that when playing any song, starting another song uses a different MediaPlayer element. How can I solve this?\r\n\r\nThis is my AudioPlayer code:\r\n\r\n    package com.example.musicplayer;\r\n    \r\n    import android.content.Intent; import android.media.MediaMetadataRetriever; import android.media.MediaPlayer; import android.os.Bundle; import android.os.Handler; import android.view.View; import android.widget.ImageView; import android.widget.SeekBar; import android.widget.TextView; import android.widget.Toast;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import com.bumptech.glide.Glide; import com.connunity.rhythmia.R.drawable;\r\n    \r\n    import java.io.IOException; import java.util.ArrayList; import java.util.Random; import java.util.concurrent.TimeUnit;\r\n    \r\n    public class AudioPlayer extends AppCompatActivity { Boolean shuffle = false; Boolean repeat = false; MediaPlayer mediaPlayer = new MediaPlayer(); TextView title, artist, album, currentTime, actualTime; ImageView previous, play, next, closeAct, shuffleBtn, repeatBtn; ImageView songIcon; ArrayList&lt;AudioModel&gt; songArray; AudioModel currentSong; SeekBar seekBar; Intent listening;\r\n    public static String convertTime(String duration) {\r\n        long millis = Long.parseLong(duration);\r\n        return String.format(&quot;%02d:%02d&quot;,\r\n                TimeUnit.MILLISECONDS.toMinutes(millis) % TimeUnit.HOURS.toMinutes(1),\r\n                TimeUnit.MILLISECONDS.toSeconds(millis) % TimeUnit.MINUTES.toSeconds(1));\r\n    \r\n    }\r\n    \r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.audioplayer);\r\n        shuffleBtn = findViewById(R.id.shuffleButton);\r\n        repeatBtn = findViewById(R.id.repeatButton);\r\n        listening = new Intent(AudioPlayer.this, MainActivity.class);\r\n        mediaPlayer = new MediaPlayer();\r\n        title = findViewById(R.id.playerSongName);\r\n        artist = findViewById(R.id.playerArtistName);\r\n        album = findViewById(R.id.playerAlbumName);\r\n        currentTime = findViewById(R.id.currentTime);\r\n        actualTime = findViewById(R.id.songActualTime);\r\n        next = findViewById(R.id.playernext);\r\n        previous = findViewById(R.id.playerprevious);\r\n        play = findViewById(R.id.playAndPauseButton);\r\n        closeAct = findViewById(R.id.playerCloseActButton);\r\n        seekBar = findViewById(R.id.playerSeekBar);\r\n        songArray = (ArrayList&lt;AudioModel&gt;) getIntent().getSerializableExtra(&quot;List&quot;);\r\n        title.setSelected(true);\r\n        setCurrentSong();\r\n        AudioPlayer.this.runOnUiThread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                if (mediaPlayer != null) {\r\n                    seekBar.setProgress(mediaPlayer.getCurrentPosition());\r\n                    listening.putExtra(&quot;seekBar&quot;, seekBar.getProgress());\r\n                    currentTime.setText(convertTime(mediaPlayer.getCurrentPosition() + &quot;&quot;));\r\n                    if (mediaPlayer.isPlaying()) {\r\n                        play.setImageResource(drawable.pausebutton);\r\n                    } else {\r\n                        play.setImageResource(drawable.playingbutton);\r\n                    }\r\n                }\r\n                new Handler().postDelayed(this, 100);\r\n            }\r\n        });\r\n        seekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n            @Override\r\n            public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\r\n                if (mediaPlayer != null &amp;&amp; fromUser) {\r\n                    mediaPlayer.seekTo(progress);\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public void onStartTrackingTouch(SeekBar seekBar) {\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public void onStopTrackingTouch(SeekBar seekBar) {\r\n    \r\n            }\r\n        });\r\n        shuffleBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Toast.makeText(AudioPlayer.this, &quot;Shuffle clicked&quot;, Toast.LENGTH_SHORT).show();\r\n                if (shuffle) {\r\n                    shuffleBtn.setImageResource(drawable.shuffle_off);\r\n                    shuffle = false;\r\n                }else{\r\n                    shuffleBtn.setImageResource(drawable.shuffle_on);\r\n                    shuffle = true;\r\n                    repeat = false;\r\n                    repeatBtn.setImageResource(drawable.repeat_off);\r\n                }\r\n            }\r\n    \r\n        });\r\n    repeatBtn.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            if(repeat){\r\n                repeat = false;\r\n                repeatBtn.setImageResource(drawable.repeat_off);\r\n            }\r\n            else {repeat = true;\r\n                shuffle = false;\r\n                shuffleBtn.setImageResource(drawable.shuffle_off);\r\n            repeatBtn.setImageResource(drawable.repeat_on);}\r\n        }\r\n    });\r\n    }\r\n    \r\n    \r\n    public void setCurrentSong() {\r\n        this.currentSong = songArray.get(TMediaPlayer.currentIndex);\r\n        title.setText(currentSong.getTitle());\r\n        artist.setText(currentSong.getArtist());\r\n        album.setText(currentSong.getAlbum());\r\n        currentTime.setText(convertTime(currentSong.getDuration()));\r\n        byte[] image = getSongIcon(currentSong.getPath());\r\n        try {\r\n            Glide.with(this).asBitmap().load(image).into(songIcon);\r\n        } catch (Exception e) {\r\n            Toast.makeText(this, &quot;Olmadı&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        play.setOnClickListener(v -&gt; playAndPauseMusic());\r\n        next.setOnClickListener(v -&gt; nextMusic());\r\n        previous.setOnClickListener(v -&gt; previousMusic());\r\n        next.setOnLongClickListener(v -&gt; forward5());\r\n        previous.setOnLongClickListener(v -&gt; backTo5());\r\n        listening.putExtra(&quot;name&quot;, currentSong.getTitle());\r\n        listening.putExtra(&quot;artist&quot;, currentSong.getArtist());\r\n        playMusic();\r\n    \r\n    }\r\n    \r\n    void playMusic() {\r\n        if (mediaPlayer != null) {\r\n        }\r\n        try {\r\n            mediaPlayer.setDataSource(currentSong.getPath());\r\n            mediaPlayer.prepare();\r\n            mediaPlayer.start();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        seekBar.setProgress(0);\r\n        seekBar.setMax(mediaPlayer.getDuration());\r\n        mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\r\n            @Override\r\n            public void onCompletion(MediaPlayer mp) {\r\n                mediaPlayer.stop();\r\n                nextMusic();\r\n            }\r\n        });\r\n    }\r\n    \r\n    void nextMusic() {\r\n        if (TMediaPlayer.currentIndex == songArray.size() - 1) {\r\n            TMediaPlayer.currentIndex = 0;\r\n            return;\r\n        }\r\n        if (shuffle){playRandom();\r\n        mediaPlayer.reset();\r\n        setCurrentSong();}\r\n        if (repeat){\r\n            TMediaPlayer.currentIndex-=1;\r\n        }\r\n        TMediaPlayer.currentIndex += 1;\r\n        mediaPlayer.reset();\r\n        setCurrentSong();\r\n    }\r\n    \r\n    void previousMusic() {\r\n        if (TMediaPlayer.currentIndex == 0) {\r\n            TMediaPlayer.currentIndex = songArray.size();\r\n            return;\r\n        }\r\n        TMediaPlayer.currentIndex -= 1;\r\n        mediaPlayer.reset();\r\n        setCurrentSong();\r\n    }\r\n    \r\n    boolean forward5() {\r\n        if (mediaPlayer != null &amp;&amp; mediaPlayer.isPlaying()) {\r\n            int currentPosition = mediaPlayer.getCurrentPosition();\r\n            int duration = mediaPlayer.getDuration();\r\n            int forwardTime = 5000;\r\n            if (currentPosition + forwardTime &lt;= duration) {\r\n                mediaPlayer.seekTo(currentPosition + forwardTime);\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    \r\n    boolean backTo5() {\r\n        if (mediaPlayer != null &amp;&amp; mediaPlayer.isPlaying()) {\r\n            int currentPosition = mediaPlayer.getCurrentPosition();\r\n            int backwardTime = 5000;\r\n            if (currentPosition - backwardTime &gt;= 0) {\r\n                mediaPlayer.seekTo(currentPosition - backwardTime);\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    \r\n    void playAndPauseMusic() {\r\n        if (mediaPlayer.isPlaying()) {\r\n            mediaPlayer.pause();\r\n        } else mediaPlayer.start();\r\n    }\r\n    \r\n    private byte[] getSongIcon(String uri) {\r\n        MediaMetadataRetriever retriever = new MediaMetadataRetriever();\r\n        retriever.setDataSource(uri);\r\n        byte[] icon = retriever.getEmbeddedPicture();\r\n        try {\r\n            retriever.release();\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        return icon;\r\n    }\r\n    \r\n    void playRandom() {\r\n        Random r = new Random();\r\n        TMediaPlayer.currentIndex = r.nextInt(songArray.size());\r\n    }\r\n\r\n}\\`","title":"Overlapping song sounds on my music player","body":"<p>I developed a music player using Java in Android Studio. However, when I press the back button on the player and then click on another song in the Recycler View, two music sounds overlap. Please do not suggest using methods like OnDestroy because I want the current song to keep playing when the screen is turned off or when the user goes back, and I only want it to stop when another song is played. The main reason for the problem is that when playing any song, starting another song uses a different MediaPlayer element. How can I solve this?</p>\n<p>This is my AudioPlayer code:</p>\n<pre><code>package com.example.musicplayer;\n\nimport android.content.Intent; import android.media.MediaMetadataRetriever; import android.media.MediaPlayer; import android.os.Bundle; import android.os.Handler; import android.view.View; import android.widget.ImageView; import android.widget.SeekBar; import android.widget.TextView; import android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.bumptech.glide.Glide; import com.connunity.rhythmia.R.drawable;\n\nimport java.io.IOException; import java.util.ArrayList; import java.util.Random; import java.util.concurrent.TimeUnit;\n\npublic class AudioPlayer extends AppCompatActivity { Boolean shuffle = false; Boolean repeat = false; MediaPlayer mediaPlayer = new MediaPlayer(); TextView title, artist, album, currentTime, actualTime; ImageView previous, play, next, closeAct, shuffleBtn, repeatBtn; ImageView songIcon; ArrayList&lt;AudioModel&gt; songArray; AudioModel currentSong; SeekBar seekBar; Intent listening;\npublic static String convertTime(String duration) {\n    long millis = Long.parseLong(duration);\n    return String.format(&quot;%02d:%02d&quot;,\n            TimeUnit.MILLISECONDS.toMinutes(millis) % TimeUnit.HOURS.toMinutes(1),\n            TimeUnit.MILLISECONDS.toSeconds(millis) % TimeUnit.MINUTES.toSeconds(1));\n\n}\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.audioplayer);\n    shuffleBtn = findViewById(R.id.shuffleButton);\n    repeatBtn = findViewById(R.id.repeatButton);\n    listening = new Intent(AudioPlayer.this, MainActivity.class);\n    mediaPlayer = new MediaPlayer();\n    title = findViewById(R.id.playerSongName);\n    artist = findViewById(R.id.playerArtistName);\n    album = findViewById(R.id.playerAlbumName);\n    currentTime = findViewById(R.id.currentTime);\n    actualTime = findViewById(R.id.songActualTime);\n    next = findViewById(R.id.playernext);\n    previous = findViewById(R.id.playerprevious);\n    play = findViewById(R.id.playAndPauseButton);\n    closeAct = findViewById(R.id.playerCloseActButton);\n    seekBar = findViewById(R.id.playerSeekBar);\n    songArray = (ArrayList&lt;AudioModel&gt;) getIntent().getSerializableExtra(&quot;List&quot;);\n    title.setSelected(true);\n    setCurrentSong();\n    AudioPlayer.this.runOnUiThread(new Runnable() {\n        @Override\n        public void run() {\n            if (mediaPlayer != null) {\n                seekBar.setProgress(mediaPlayer.getCurrentPosition());\n                listening.putExtra(&quot;seekBar&quot;, seekBar.getProgress());\n                currentTime.setText(convertTime(mediaPlayer.getCurrentPosition() + &quot;&quot;));\n                if (mediaPlayer.isPlaying()) {\n                    play.setImageResource(drawable.pausebutton);\n                } else {\n                    play.setImageResource(drawable.playingbutton);\n                }\n            }\n            new Handler().postDelayed(this, 100);\n        }\n    });\n    seekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n        @Override\n        public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\n            if (mediaPlayer != null &amp;&amp; fromUser) {\n                mediaPlayer.seekTo(progress);\n            }\n        }\n\n        @Override\n        public void onStartTrackingTouch(SeekBar seekBar) {\n\n        }\n\n        @Override\n        public void onStopTrackingTouch(SeekBar seekBar) {\n\n        }\n    });\n    shuffleBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Toast.makeText(AudioPlayer.this, &quot;Shuffle clicked&quot;, Toast.LENGTH_SHORT).show();\n            if (shuffle) {\n                shuffleBtn.setImageResource(drawable.shuffle_off);\n                shuffle = false;\n            }else{\n                shuffleBtn.setImageResource(drawable.shuffle_on);\n                shuffle = true;\n                repeat = false;\n                repeatBtn.setImageResource(drawable.repeat_off);\n            }\n        }\n\n    });\nrepeatBtn.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        if(repeat){\n            repeat = false;\n            repeatBtn.setImageResource(drawable.repeat_off);\n        }\n        else {repeat = true;\n            shuffle = false;\n            shuffleBtn.setImageResource(drawable.shuffle_off);\n        repeatBtn.setImageResource(drawable.repeat_on);}\n    }\n});\n}\n\n\npublic void setCurrentSong() {\n    this.currentSong = songArray.get(TMediaPlayer.currentIndex);\n    title.setText(currentSong.getTitle());\n    artist.setText(currentSong.getArtist());\n    album.setText(currentSong.getAlbum());\n    currentTime.setText(convertTime(currentSong.getDuration()));\n    byte[] image = getSongIcon(currentSong.getPath());\n    try {\n        Glide.with(this).asBitmap().load(image).into(songIcon);\n    } catch (Exception e) {\n        Toast.makeText(this, &quot;Olmadı&quot;, Toast.LENGTH_SHORT).show();\n    }\n    play.setOnClickListener(v -&gt; playAndPauseMusic());\n    next.setOnClickListener(v -&gt; nextMusic());\n    previous.setOnClickListener(v -&gt; previousMusic());\n    next.setOnLongClickListener(v -&gt; forward5());\n    previous.setOnLongClickListener(v -&gt; backTo5());\n    listening.putExtra(&quot;name&quot;, currentSong.getTitle());\n    listening.putExtra(&quot;artist&quot;, currentSong.getArtist());\n    playMusic();\n\n}\n\nvoid playMusic() {\n    if (mediaPlayer != null) {\n    }\n    try {\n        mediaPlayer.setDataSource(currentSong.getPath());\n        mediaPlayer.prepare();\n        mediaPlayer.start();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    seekBar.setProgress(0);\n    seekBar.setMax(mediaPlayer.getDuration());\n    mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n        @Override\n        public void onCompletion(MediaPlayer mp) {\n            mediaPlayer.stop();\n            nextMusic();\n        }\n    });\n}\n\nvoid nextMusic() {\n    if (TMediaPlayer.currentIndex == songArray.size() - 1) {\n        TMediaPlayer.currentIndex = 0;\n        return;\n    }\n    if (shuffle){playRandom();\n    mediaPlayer.reset();\n    setCurrentSong();}\n    if (repeat){\n        TMediaPlayer.currentIndex-=1;\n    }\n    TMediaPlayer.currentIndex += 1;\n    mediaPlayer.reset();\n    setCurrentSong();\n}\n\nvoid previousMusic() {\n    if (TMediaPlayer.currentIndex == 0) {\n        TMediaPlayer.currentIndex = songArray.size();\n        return;\n    }\n    TMediaPlayer.currentIndex -= 1;\n    mediaPlayer.reset();\n    setCurrentSong();\n}\n\nboolean forward5() {\n    if (mediaPlayer != null &amp;&amp; mediaPlayer.isPlaying()) {\n        int currentPosition = mediaPlayer.getCurrentPosition();\n        int duration = mediaPlayer.getDuration();\n        int forwardTime = 5000;\n        if (currentPosition + forwardTime &lt;= duration) {\n            mediaPlayer.seekTo(currentPosition + forwardTime);\n        }\n    }\n    return true;\n}\n\nboolean backTo5() {\n    if (mediaPlayer != null &amp;&amp; mediaPlayer.isPlaying()) {\n        int currentPosition = mediaPlayer.getCurrentPosition();\n        int backwardTime = 5000;\n        if (currentPosition - backwardTime &gt;= 0) {\n            mediaPlayer.seekTo(currentPosition - backwardTime);\n        }\n    }\n    return true;\n}\n\nvoid playAndPauseMusic() {\n    if (mediaPlayer.isPlaying()) {\n        mediaPlayer.pause();\n    } else mediaPlayer.start();\n}\n\nprivate byte[] getSongIcon(String uri) {\n    MediaMetadataRetriever retriever = new MediaMetadataRetriever();\n    retriever.setDataSource(uri);\n    byte[] icon = retriever.getEmbeddedPicture();\n    try {\n        retriever.release();\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n    return icon;\n}\n\nvoid playRandom() {\n    Random r = new Random();\n    TMediaPlayer.currentIndex = r.nextInt(songArray.size());\n}\n</code></pre>\n<p>}`</p>\n"},{"tags":["java","spring-boot","pagination"],"owner":{"account_id":5084578,"reputation":399,"user_id":4079729,"display_name":"Altaf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684170925,"creation_date":1684170925,"question_id":76256472,"body_markdown":"I’m trying to implement pagination in an existing codebase. I wrote this ExperimentService class:\r\n\r\n`ExperimentService.java`\r\n``` \r\n@Service\r\npublic class ExperimentService {\r\n\r\n    @Autowired\r\n    private ExperimentRepository experimentRepository;\r\n\r\n    public Page&lt;Experiment&gt; fetchExperiments(Integer pageNo, Integer pageSize) {\r\n\r\n        Pageable pageable = PageRequest.of(pageNo, pageSize);\r\n        return experimentRepository.findAll(pageable);\r\n    }\r\n\r\n    public Page&lt;Experiment&gt; fetchExperimentsByKeyword(String keyword, Pageable pageable) {\r\n        return experimentRepository.findByKeywordPage(keyword, pageable);\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe existing code I am trying to modify looks like this:\r\n\r\n`Controller`\r\n```\r\n@GetMapping({ &quot;/list&quot;, &quot;/&quot;, &quot;/search&quot;})\r\npublic ModelAndView getAllExperiments(Authentication authentication,HttpSession session,@RequestParam(defaultValue =&quot;0&quot;) int page,String keyword)\r\n\t{\r\n\t\tModelAndView mav = new ModelAndView(&quot;experiment&quot;);\r\n\t\tString loggedInUser = authentication.getName();\r\n\t\t//String loggedInUser = &quot;kaufmafi&quot;;\r\n\t\tSystem.out.println(&quot;loggedInUser------&quot;+loggedInUser);\r\n\t\tsession.setAttribute(&quot;user&quot;, loggedInUser);\r\n\t\ttry{\r\n          int isCsmg = eRepo.isCsmg(loggedInUser);\r\n\t\t  session.setAttribute(&quot;isCsmg&quot;, isCsmg);\t\r\n\t\tif(isCsmg==1){\r\n\t\t\tif(keyword!=null){\r\n\t\t\tkeyword =keyword.trim().toUpperCase();\r\n\t\t\tSystem.out.println(&quot;keyword------&quot;+keyword);\r\n\t\t\tList&lt;Experiment&gt; proList1=eRepo.findByKeyword(keyword);\r\n\t\t\tmav.addObject(&quot;experiments&quot;, proList1);\r\n\t\t\tSystem.out.println(&quot;code name------&quot;+proList1.size()+&quot;name----------&quot;+proList1.get(1).getCodeName());\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t//Page&lt;Experiment&gt; experiment = eRepo.findAll(PageRequest.of(page,10));\r\n\t\t\tmav.addObject(&quot;experiments&quot;, eRepo.findAll());\r\n\t\t\t}\r\n\r\n\t\t}else{\r\n\t\t\tif(keyword!=null){\r\n\t\t\tkeyword =keyword.trim().toUpperCase();\r\n\t\t\tSystem.out.println(&quot;keyword------&quot;+keyword);\r\n\t\t\tmav.addObject(&quot;experiments&quot;, eRepo.getExperimentsByKeyword(loggedInUser,keyword));\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\tmav.addObject(&quot;experiments&quot;, eRepo.getAllByuserId(loggedInUser));\r\n\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\tcatch(Exception e){\r\n\r\n\t\t}\r\n\t\treturn mav;\r\n}\r\n```\r\n\r\nI&#39;ve modified the code as follows:\r\n```\r\n@GetMapping({ &quot;/list&quot;, &quot;/&quot;, &quot;/search&quot;, &quot;/list/{pageNo}&quot; })\r\n    public ModelAndView getAllExperiments(Authentication authentication, HttpSession session,\r\n            @PathVariable(&quot;pageNo&quot;) Integer pageNo, String keyword) {\r\n        // should use @PathVariable instead of @RequestParam\r\n\r\n        ModelAndView mav = new ModelAndView(&quot;experiment&quot;);\r\n        String loggedInUser = authentication.getName();\r\n\r\n        System.out.println(&quot;loggedInUser------&quot; + loggedInUser);\r\n        session.setAttribute(&quot;user&quot;, loggedInUser);\r\n\r\n        try {\r\n            // initialize pageNo\r\n            if (pageNo == null) {\r\n                pageNo = 0;\r\n            }\r\n            int isCsmg = eRepo.isCsmg(loggedInUser);\r\n            session.setAttribute(&quot;isCsmg&quot;, isCsmg);\r\n            if (isCsmg == 1) {\r\n                mav.addObject(&quot;experiments&quot;, experimentService.fetchExperiments(pageNo, 10));\r\n                if (keyword != null) {\r\n                    keyword = keyword.trim().toUpperCase();\r\n                    System.out.println(&quot;\\n\\nkeyword------&quot; + keyword + &quot;\\n\\n&quot;);\r\n\r\n                    //pass pageable to method\r\n                    Pageable pageable = PageRequest.of(pageNo, 20);\r\n                    Page&lt;Experiment&gt; page = experimentService.fetchExperimentsByKeyword(keyword, pageable);\r\n                    List&lt;Experiment&gt; proList1 = page.getContent();\r\n\r\n                    mav.addObject(&quot;experiments&quot;, proList1);\r\n\r\n                } else if (keyword.equalsIgnoreCase(&quot;&quot;)) {\r\n                    mav.addObject(&quot;experiments&quot;, experimentService.fetchExperiments(pageNo, 10));\r\n                }\r\n\r\n                else {\r\n                    mav.addObject(&quot;experiments&quot;, experimentService.fetchExperiments(pageNo, 10));\r\n                }\r\n\r\n            } else {\r\n                if (keyword != null) {\r\n                    keyword = keyword.trim().toUpperCase();\r\n                    System.out.println(&quot;keyword------&quot; + keyword);\r\n                    mav.addObject(&quot;experiments&quot;, eRepo.getExperimentsByKeyword(loggedInUser, keyword));\r\n                } else\r\n                    mav.addObject(&quot;experiments&quot;, eRepo.getAllByuserId(loggedInUser));\r\n            }\r\n\r\n        } catch (Exception e) {\r\n\r\n        }\r\n        return mav;\r\n  \r\n}\r\n```\r\n\r\nI’ve looked at this documentation https://docs.spring.io/spring-framework/reference/6.1-SNAPSHOT/web/webmvc/mvc-controller/ann-requestmapping.html\r\nto understand how to correctly setup multiple endpoints, which documentation doesn’t truly address; however, the paths are not working correctly. The issues I am facing are when the application is initially launched and logged into I receive the following error:\r\n\r\n&gt;Required URI template variable &#39;pageNo&#39; for method parameter type Integer is not present\r\norg.springframework.web.bind.MissingPathVariableException: Required URI template variable &#39;pageNo&#39; for method parameter type Integer is not present\r\n\r\nbut I am initializing the `pageNo` with a value of zero (1st page) in the `try catch` block.\r\n2nd issue is the search criteria does not work when I introduce the new endpoint, what am I doing wrong?\r\n","title":"Pagination is not working with multiple endpoints in GetMapping","body":"<p>I’m trying to implement pagination in an existing codebase. I wrote this ExperimentService class:</p>\n<p><code>ExperimentService.java</code></p>\n<pre><code>@Service\npublic class ExperimentService {\n\n    @Autowired\n    private ExperimentRepository experimentRepository;\n\n    public Page&lt;Experiment&gt; fetchExperiments(Integer pageNo, Integer pageSize) {\n\n        Pageable pageable = PageRequest.of(pageNo, pageSize);\n        return experimentRepository.findAll(pageable);\n    }\n\n    public Page&lt;Experiment&gt; fetchExperimentsByKeyword(String keyword, Pageable pageable) {\n        return experimentRepository.findByKeywordPage(keyword, pageable);\n    }\n}\n\n</code></pre>\n<p>The existing code I am trying to modify looks like this:</p>\n<p><code>Controller</code></p>\n<pre><code>@GetMapping({ &quot;/list&quot;, &quot;/&quot;, &quot;/search&quot;})\npublic ModelAndView getAllExperiments(Authentication authentication,HttpSession session,@RequestParam(defaultValue =&quot;0&quot;) int page,String keyword)\n    {\n        ModelAndView mav = new ModelAndView(&quot;experiment&quot;);\n        String loggedInUser = authentication.getName();\n        //String loggedInUser = &quot;kaufmafi&quot;;\n        System.out.println(&quot;loggedInUser------&quot;+loggedInUser);\n        session.setAttribute(&quot;user&quot;, loggedInUser);\n        try{\n          int isCsmg = eRepo.isCsmg(loggedInUser);\n          session.setAttribute(&quot;isCsmg&quot;, isCsmg);   \n        if(isCsmg==1){\n            if(keyword!=null){\n            keyword =keyword.trim().toUpperCase();\n            System.out.println(&quot;keyword------&quot;+keyword);\n            List&lt;Experiment&gt; proList1=eRepo.findByKeyword(keyword);\n            mav.addObject(&quot;experiments&quot;, proList1);\n            System.out.println(&quot;code name------&quot;+proList1.size()+&quot;name----------&quot;+proList1.get(1).getCodeName());\n            }\n            else{\n            //Page&lt;Experiment&gt; experiment = eRepo.findAll(PageRequest.of(page,10));\n            mav.addObject(&quot;experiments&quot;, eRepo.findAll());\n            }\n\n        }else{\n            if(keyword!=null){\n            keyword =keyword.trim().toUpperCase();\n            System.out.println(&quot;keyword------&quot;+keyword);\n            mav.addObject(&quot;experiments&quot;, eRepo.getExperimentsByKeyword(loggedInUser,keyword));\n            }\n            else\n            mav.addObject(&quot;experiments&quot;, eRepo.getAllByuserId(loggedInUser));\n    \n        }\n        \n    }\n        catch(Exception e){\n\n        }\n        return mav;\n}\n</code></pre>\n<p>I've modified the code as follows:</p>\n<pre><code>@GetMapping({ &quot;/list&quot;, &quot;/&quot;, &quot;/search&quot;, &quot;/list/{pageNo}&quot; })\n    public ModelAndView getAllExperiments(Authentication authentication, HttpSession session,\n            @PathVariable(&quot;pageNo&quot;) Integer pageNo, String keyword) {\n        // should use @PathVariable instead of @RequestParam\n\n        ModelAndView mav = new ModelAndView(&quot;experiment&quot;);\n        String loggedInUser = authentication.getName();\n\n        System.out.println(&quot;loggedInUser------&quot; + loggedInUser);\n        session.setAttribute(&quot;user&quot;, loggedInUser);\n\n        try {\n            // initialize pageNo\n            if (pageNo == null) {\n                pageNo = 0;\n            }\n            int isCsmg = eRepo.isCsmg(loggedInUser);\n            session.setAttribute(&quot;isCsmg&quot;, isCsmg);\n            if (isCsmg == 1) {\n                mav.addObject(&quot;experiments&quot;, experimentService.fetchExperiments(pageNo, 10));\n                if (keyword != null) {\n                    keyword = keyword.trim().toUpperCase();\n                    System.out.println(&quot;\\n\\nkeyword------&quot; + keyword + &quot;\\n\\n&quot;);\n\n                    //pass pageable to method\n                    Pageable pageable = PageRequest.of(pageNo, 20);\n                    Page&lt;Experiment&gt; page = experimentService.fetchExperimentsByKeyword(keyword, pageable);\n                    List&lt;Experiment&gt; proList1 = page.getContent();\n\n                    mav.addObject(&quot;experiments&quot;, proList1);\n\n                } else if (keyword.equalsIgnoreCase(&quot;&quot;)) {\n                    mav.addObject(&quot;experiments&quot;, experimentService.fetchExperiments(pageNo, 10));\n                }\n\n                else {\n                    mav.addObject(&quot;experiments&quot;, experimentService.fetchExperiments(pageNo, 10));\n                }\n\n            } else {\n                if (keyword != null) {\n                    keyword = keyword.trim().toUpperCase();\n                    System.out.println(&quot;keyword------&quot; + keyword);\n                    mav.addObject(&quot;experiments&quot;, eRepo.getExperimentsByKeyword(loggedInUser, keyword));\n                } else\n                    mav.addObject(&quot;experiments&quot;, eRepo.getAllByuserId(loggedInUser));\n            }\n\n        } catch (Exception e) {\n\n        }\n        return mav;\n  \n}\n</code></pre>\n<p>I’ve looked at this documentation <a href=\"https://docs.spring.io/spring-framework/reference/6.1-SNAPSHOT/web/webmvc/mvc-controller/ann-requestmapping.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/reference/6.1-SNAPSHOT/web/webmvc/mvc-controller/ann-requestmapping.html</a>\nto understand how to correctly setup multiple endpoints, which documentation doesn’t truly address; however, the paths are not working correctly. The issues I am facing are when the application is initially launched and logged into I receive the following error:</p>\n<blockquote>\n<p>Required URI template variable 'pageNo' for method parameter type Integer is not present\norg.springframework.web.bind.MissingPathVariableException: Required URI template variable 'pageNo' for method parameter type Integer is not present</p>\n</blockquote>\n<p>but I am initializing the <code>pageNo</code> with a value of zero (1st page) in the <code>try catch</code> block.\n2nd issue is the search criteria does not work when I introduce the new endpoint, what am I doing wrong?</p>\n"},{"tags":["java","sql","mysql"],"comments":[{"owner":{"account_id":6740011,"reputation":46648,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1684169982,"post_id":76256285,"comment_id":134474777,"body_markdown":"the column names as variable seems unnecessary","body":"the column names as variable seems unnecessary"},{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":1,"creation_date":1684170130,"post_id":76256285,"comment_id":134474804,"body_markdown":"OK, first you have made a bad database design desision that would be better fixed now rather than later. Create a Users table and in that create a flag to indictae the user is an User or Admin. Dont use 2 seperate tables","body":"OK, first you have made a bad database design desision that would be better fixed now rather than later. Create a Users table and in that create a flag to indictae the user is an User or Admin. Dont use 2 seperate tables"},{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":1,"creation_date":1684170266,"post_id":76256285,"comment_id":134474827,"body_markdown":"You also appear to be using **Plain Text Passwords**. Thats a major __NoNo__ I am sure there is a hashing function in Java, please use it for the safety of your users, and your sanity","body":"You also appear to be using <b>Plain Text Passwords</b>. Thats a major <b>NoNo</b> I am sure there is a hashing function in Java, please use it for the safety of your users, and your sanity"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1684170845,"post_id":76256285,"comment_id":134474945,"body_markdown":"When posting here, strip down your code and your problem description to a *minimum* needed to show the issue.","body":"When posting here, strip down your code and your problem description to a <i>minimum</i> needed to show the issue."}],"owner":{"account_id":28606710,"reputation":1,"user_id":21902510,"display_name":"Hmmmyep"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684170759,"creation_date":1684169402,"question_id":76256285,"body_markdown":"i am student who working on Railway management system in Java with mysql database integration,i almost finished my project, but there is one problem in the code that i&#39;m sitting on for a couple of days and can&#39;t solve it, i also tried different resources chatGPT , github , and so on. \r\n\r\nThis is my question - I create an account in my system, and when I try to book a ticket, I get the error \r\n\r\n&gt;Cannot add or update a child row: a foreign key constraint fails (`rms`.`booking`, CONSTRAINT `booking_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `user` (`user_id`))&quot;\r\n\r\nI want the information to be stored in the &quot;booking&quot; table when booking a ticket, so that it can then be displayed as bookingHistory.\r\n\r\nbelow are the tables I use:\r\n\r\n```sql\r\nCREATE TABLE user (\r\nuser_id INT AUTO_INCREMENT PRIMARY KEY,\r\nuser_login VARCHAR(25) UNIQUE NOT NULL,\r\nuser_password VARCHAR(40) NOT NULL\r\n);\r\n\r\nCREATE TABLE admin (\r\nadmin_id INT AUTO_INCREMENT PRIMARY KEY,\r\nadmin_login VARCHAR(25) UNIQUE NOT NULL,\r\nadmin_password VARCHAR(40) NOT NULL\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS journey (\r\n    journey_id INT PRIMARY KEY AUTO_INCREMENT,\r\n    source_station VARCHAR(100) NOT NULL,\r\n    destination_station VARCHAR(100) NOT NULL,\r\n    departure_time DATETIME NOT NULL,\r\n    arrival_time DATETIME NOT NULL,\r\n    price DECIMAL(10, 2) NOT NULL,\r\n    available_seats INT NOT NULL\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS booking (\r\n    booking_id INT PRIMARY KEY AUTO_INCREMENT,\r\n    user_id INT NOT NULL,\r\n    journey_id INT NOT NULL,\r\n    booking_time DATETIME NOT NULL,\r\n    FOREIGN KEY (user_id) REFERENCES user(user_id),\r\n    FOREIGN KEY (journey_id) REFERENCES journey(journey_id)\r\n);\r\n```\r\nBelow is the code I use:\r\n\r\n```java\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.*;\r\nimport java.util.Scanner;\r\nimport java.util.InputMismatchException;\r\n\r\n\r\npublic class RailwayMS {\r\n    private static final String DB_URL = &quot;jdbc:mysql://localhost:3306/RMS&quot;;\r\n    private static final String USER = &quot;ignat&quot;;\r\n    private static final String PASSWORD = &quot;gowent&quot;;\r\n    private static boolean isAdmin = false;\r\n    private static boolean isLoggedIn = false;\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            Connection conn = DriverManager.getConnection(DB_URL, USER, PASSWORD);\r\n\r\n            while (true) {\r\n                System.out.println(&quot;Welcome to the Ticket Booking System!&quot;);\r\n                System.out.println(&quot;Please choose an option:&quot;);\r\n                System.out.println(&quot;1. Login as Admin&quot;);\r\n                System.out.println(&quot;2. Login as User&quot;);\r\n                System.out.println(&quot;3. Register as User&quot;);\r\n                System.out.println(&quot;4. Register as Admin&quot;);\r\n                System.out.println(&quot;5. Exit&quot;);\r\n\r\n                Scanner scanner = new Scanner(System.in);\r\n                int choice = 0;\r\n\r\n                try {\r\n                    choice = scanner.nextInt();\r\n                } catch (InputMismatchException e) {\r\n                    System.out.println(&quot;Invalid input. Please enter a valid option.&quot;);\r\n                    scanner.nextLine(); // Очистка буфера сканера\r\n                    continue; // Возврат к началу цикла\r\n                }\r\n\r\n                switch (choice) {\r\n                    case 1:\r\n                        login(conn, true);\r\n                        break;\r\n                    case 2:\r\n                        login(conn, false);\r\n                        break;\r\n                    case 3:\r\n                        registerUser(conn);\r\n                        break;\r\n                    case 4:\r\n                        registerAdmin(conn);\r\n                        break;\r\n                    case 5:\r\n                        System.out.println(&quot;Goodbye!&quot;);\r\n                        System.exit(0);\r\n                        break;\r\n                    default:\r\n                        System.out.println(&quot;Invalid choice. Please try again.&quot;);\r\n                }\r\n            }\r\n        } catch (SQLException e) {\r\n            System.out.println(&quot;An error occurred: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n\r\n    private static void login(Connection conn, boolean isAdminLogin) throws SQLException {\r\n        System.out.println(&quot;Please enter your username:&quot;);\r\n        Scanner scanner = new Scanner(System.in);\r\n        String username = scanner.nextLine();\r\n\r\n        System.out.println(&quot;Please enter your password:&quot;);\r\n        String password = scanner.nextLine();\r\n\r\n        String tableName = isAdminLogin ? &quot;admin&quot; : &quot;user&quot;;\r\n        String idColumnName = isAdminLogin ? &quot;admin_id&quot; : &quot;user_id&quot;;\r\n        String loginColumnName = isAdminLogin ? &quot;admin_login&quot; : &quot;user_login&quot;;\r\n        String passwordColumnName = isAdminLogin ? &quot;admin_password&quot; : &quot;user_password&quot;;\r\n\r\n        PreparedStatement statement = conn.prepareStatement(&quot;SELECT * FROM &quot; + tableName + &quot; WHERE &quot; + loginColumnName + &quot; = ? AND &quot; + passwordColumnName + &quot; = ?&quot;);\r\n        statement.setString(1, username);\r\n        statement.setString(2, password);\r\n\r\n        ResultSet result = statement.executeQuery();\r\n        if (result.next()) {\r\n            isLoggedIn = true;\r\n            isAdmin = isAdminLogin;\r\n            System.out.println(&quot;Login successful!&quot;);\r\n            if (isAdmin) {\r\n                showAdminMenu(conn);\r\n            } else {\r\n                showUserMenu(conn);\r\n            }\r\n        } else {\r\n            System.out.println(&quot;Invalid username or password.&quot;);\r\n        }\r\n    }\r\n\r\n    private static void showUserMenu(Connection conn) throws SQLException {\r\n        while (true) {\r\n            System.out.println(&quot;Welcome to the Ticket Booking System!&quot;);\r\n            System.out.println(&quot;Please choose an option:&quot;);\r\n            System.out.println(&quot;1. Book a ticket&quot;);\r\n            System.out.println(&quot;2. View my booking history&quot;);\r\n            System.out.println(&quot;3. View existing journeys&quot;);\r\n            System.out.println(&quot;4. Logout&quot;);\r\n            System.out.println(&quot;5. Exit&quot;);\r\n\r\n            Scanner scanner = new Scanner(System.in);\r\n            int choice = scanner.nextInt();\r\n\r\n            switch (choice) {\r\n                case 1:\r\n                    bookTicket(conn);\r\n                    break;\r\n                case 2:\r\n                    viewBookingHistory(conn);\r\n                    break;\r\n                case 3:\r\n                    viewJourneys(conn);\r\n                    break;\r\n                case 4:\r\n                    logout();\r\n                    return;\r\n                case 5:\r\n                    exitProgram();\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;Invalid choice. Please try again.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    private static void showAdminMenu(Connection conn) throws SQLException {\r\n        while (true) {\r\n            System.out.println(&quot;Welcome to the Ticket Booking System!&quot;);\r\n            System.out.println(&quot;Please choose an option:&quot;);\r\n            System.out.println(&quot;1. Book a ticket&quot;);\r\n            System.out.println(&quot;2. View my booking history&quot;);\r\n            System.out.println(&quot;3. View booking history of a user using username&quot;);\r\n            System.out.println(&quot;4. Add a new journey&quot;);\r\n            System.out.println(&quot;5. View existing journeys&quot;);\r\n            System.out.println(&quot;6. Logout&quot;);\r\n            System.out.println(&quot;7. Exit&quot;);\r\n\r\n            Scanner scanner = new Scanner(System.in);\r\n            int choice = scanner.nextInt();\r\n\r\n            switch (choice) {\r\n                case 1:\r\n                    bookTicket(conn);\r\n                    break;\r\n                case 2:\r\n                    viewBookingHistory(conn);\r\n                    break;\r\n                case 3:\r\n                    viewUserBookingHistory(conn);\r\n                    break;\r\n                case 4:\r\n                    addJourney(conn);\r\n                    break;\r\n                case 5:\r\n                    viewJourneys(conn);\r\n                    break;\r\n                case 6:\r\n                    logout();\r\n                    return;\r\n                case 7:\r\n                    exitProgram();\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;Invalid choice. Please try again.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private static void registerAdmin(Connection conn) {\r\n        boolean registrationSuccessful = false;\r\n        while (!registrationSuccessful) {\r\n            try {\r\n                System.out.println(&quot;Please enter an admin username:&quot;);\r\n                Scanner scanner = new Scanner(System.in);\r\n                String username = scanner.nextLine();\r\n\r\n                System.out.println(&quot;Please enter an admin password:&quot;);\r\n                String password = scanner.nextLine();\r\n\r\n                String tableName = &quot;admin&quot;;\r\n                String loginColumnName = &quot;admin_login&quot;;\r\n                String passwordColumnName = &quot;admin_password&quot;;\r\n\r\n                PreparedStatement statement = conn.prepareStatement(&quot;INSERT INTO &quot; + tableName + &quot; (&quot; + loginColumnName + &quot;, &quot; + passwordColumnName + &quot;) VALUES (?, ?)&quot;);\r\n                statement.setString(1, username);\r\n                statement.setString(2, password);\r\n\r\n                int rowsInserted = statement.executeUpdate();\r\n                if (rowsInserted &gt; 0) {\r\n                    System.out.println(&quot;Admin registration successful!&quot;);\r\n                    registrationSuccessful = true;\r\n                } else {\r\n                    System.out.println(&quot;Admin registration failed. Please try again.&quot;);\r\n                }\r\n            } catch (SQLException e) {\r\n                if (e.getErrorCode() == 1062) {\r\n                    System.out.println(&quot;Admin username already exists. Please try a different username.&quot;);\r\n                } else {\r\n                    System.out.println(&quot;An error occurred during admin registration. Please try again.&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private static void registerUser(Connection conn) {\r\n        boolean registrationSuccessful = false;\r\n        while (!registrationSuccessful) {\r\n            try {\r\n                System.out.println(&quot;Please enter a username:&quot;);\r\n                Scanner scanner = new Scanner(System.in);\r\n                String username = scanner.nextLine();\r\n\r\n                System.out.println(&quot;Please enter a password:&quot;);\r\n                String password = scanner.nextLine();\r\n\r\n                String tableName = &quot;user&quot;;\r\n                String loginColumnName = &quot;user_login&quot;;\r\n                String passwordColumnName = &quot;user_password&quot;;\r\n\r\n                PreparedStatement statement = conn.prepareStatement(&quot;INSERT INTO &quot; + tableName + &quot; (&quot; + loginColumnName + &quot;, &quot; + passwordColumnName + &quot;) VALUES (?, ?)&quot;);\r\n                statement.setString(1, username);\r\n                statement.setString(2, password);\r\n\r\n                int rowsInserted = statement.executeUpdate();\r\n                if (rowsInserted &gt; 0) {\r\n                    System.out.println(&quot;User registration successful!&quot;);\r\n                    registrationSuccessful = true;\r\n                } else {\r\n                    System.out.println(&quot;User registration failed. Please try again.&quot;);\r\n                }\r\n            } catch (SQLException e) {\r\n                if (e.getErrorCode() == 1062) {\r\n                    System.out.println(&quot;Username already exists. Please try a different username.&quot;);\r\n                } else {\r\n                    System.out.println(&quot;An error occurred during user registration. Please try again.&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private static void bookTicket(Connection conn) throws SQLException {\r\n        System.out.println(&quot;Please enter the journey ID:&quot;);\r\n        Scanner scanner = new Scanner(System.in);\r\n        int journeyId = scanner.nextInt();\r\n\r\n        PreparedStatement journeyStatement = conn.prepareStatement(&quot;SELECT * FROM journey WHERE journey_id = ?&quot;);\r\n        journeyStatement.setInt(1, journeyId);\r\n        ResultSet journeyResult = journeyStatement.executeQuery();\r\n\r\n        if (journeyResult.next()) {\r\n            int availableSeats = journeyResult.getInt(&quot;available_seats&quot;);\r\n            if (availableSeats &gt; 0) {\r\n                System.out.println(&quot;Seats available. Booking ticket...&quot;);\r\n\r\n                PreparedStatement updateStatement = conn.prepareStatement(&quot;UPDATE journey SET available_seats = ? WHERE journey_id = ?&quot;);\r\n                updateStatement.setInt(1, availableSeats - 1);\r\n                updateStatement.setInt(2, journeyId);\r\n                updateStatement.executeUpdate();\r\n\r\n                System.out.println(&quot;Ticket booked successfully!&quot;);\r\n\r\n\r\n\r\n                try {\r\n                    PreparedStatement insertStatement = conn.prepareStatement(&quot;INSERT INTO booking (user_id, journey_id, booking_time) VALUES (?, ?, CURRENT_TIMESTAMP)&quot;);\r\n                    insertStatement.setInt(1, getUserId(conn));\r\n                    insertStatement.setInt(2, journeyId);\r\n                    insertStatement.executeUpdate();\r\n                } catch (SQLException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            } else {\r\n                System.out.println(&quot;No seats available for this journey.&quot;);\r\n            }\r\n        } else {\r\n            System.out.println(&quot;Journey not found.&quot;);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    private static void viewBookingHistory(Connection conn) throws SQLException {\r\n\r\n        int userId = getUserId(conn);\r\n\r\n        PreparedStatement statement = conn.prepareStatement(&quot;SELECT * FROM booking INNER JOIN journey ON booking.journey_id = journey.journey_id WHERE user_id = ?&quot;);\r\n        statement.setInt(1, userId);\r\n\r\n        ResultSet result = statement.executeQuery();\r\n        if (result.next()) {\r\n            System.out.println(&quot;Booking History:&quot;);\r\n            System.out.println(&quot;-------------------------------&quot;);\r\n            do {\r\n                int bookingId = result.getInt(&quot;booking_id&quot;);\r\n                String source = result.getString(&quot;source_station&quot;);\r\n                String destination = result.getString(&quot;destination_station&quot;);\r\n                String departureTime = result.getString(&quot;departure_time&quot;);\r\n                String arrivalTime = result.getString(&quot;arrival_time&quot;);\r\n                double price = result.getDouble(&quot;price&quot;);\r\n                String bookingDate = result.getString(&quot;booking_time&quot;);\r\n\r\n\r\n                System.out.println(&quot;Booking ID: &quot; + bookingId);\r\n                System.out.println(&quot;Journey: &quot; + source + &quot; to &quot; + destination);\r\n                System.out.println(&quot;Departure Time: &quot; + departureTime);\r\n                System.out.println(&quot;Arrival Time: &quot; + arrivalTime);\r\n                System.out.println(&quot;Price: &quot; + price);\r\n                System.out.println(&quot;Booking Date: &quot; + bookingDate);\r\n                System.out.println(&quot;-------------------------------&quot;);\r\n            } while (result.next());\r\n        } else {\r\n            System.out.println(&quot;No booking history found.&quot;);\r\n        }\r\n    }\r\n\r\n    private static void viewUserBookingHistory(Connection conn) throws SQLException {\r\n        // Fetch the booking history for a specific user\r\n\r\n        System.out.println(&quot;Enter the user ID:&quot;);\r\n        Scanner scanner = new Scanner(System.in);\r\n        int userId = scanner.nextInt();\r\n\r\n        // Fetch the booking history for the user\r\n        PreparedStatement statement = conn.prepareStatement(&quot;SELECT * FROM booking INNER JOIN journey ON booking.journey_id = journey.journey_id WHERE user_id = ?&quot;);\r\n        statement.setInt(1, userId);\r\n\r\n        ResultSet result = statement.executeQuery();\r\n        if (result.next()) {\r\n            System.out.println(&quot;Booking History for User ID &quot; + userId + &quot;:&quot;);\r\n            System.out.println(&quot;-------------------------------&quot;);\r\n            do {\r\n                int bookingId = result.getInt(&quot;booking_id&quot;);\r\n                String source = result.getString(&quot;source_station&quot;);\r\n                String destination = result.getString(&quot;destination_station&quot;);\r\n                String departureTime = result.getString(&quot;departure_time&quot;);\r\n                String arrivalTime = result.getString(&quot;arrival_time&quot;);\r\n                double price = result.getDouble(&quot;price&quot;);\r\n                String bookingDate = result.getString(&quot;booking_time&quot;);\r\n\r\n\r\n                System.out.println(&quot;Booking ID: &quot; + bookingId);\r\n                System.out.println(&quot;Journey: &quot; + source + &quot; to &quot; + destination);\r\n                System.out.println(&quot;Departure Time: &quot; + departureTime);\r\n                System.out.println(&quot;Arrival Time: &quot; + arrivalTime);\r\n                System.out.println(&quot;Price: &quot; + price);\r\n                System.out.println(&quot;Booking Date: &quot; + bookingDate);\r\n                System.out.println(&quot;-------------------------------&quot;);\r\n            } while (result.next());\r\n        } else {\r\n            System.out.println(&quot;No booking history found for User ID &quot; + userId + &quot;.&quot;);\r\n        }\r\n    }\r\n\r\n\r\n    private static void addJourney(Connection conn) throws SQLException {\r\n        if (isAdmin) {\r\n            System.out.println(&quot;Please enter the journey details:&quot;);\r\n\r\n            Scanner scanner = new Scanner(System.in);\r\n\r\n            System.out.println(&quot;Source Station: &quot;);\r\n            String source = scanner.nextLine();\r\n\r\n            System.out.println(&quot;Destination Station: &quot;);\r\n            String destination = scanner.nextLine();\r\n\r\n            System.out.println(&quot;Departure Time (YYYY-MM-DD HH:MM:SS): &quot;);\r\n            String departureTime = scanner.nextLine();\r\n\r\n            System.out.println(&quot;Arrival Time (YYYY-MM-DD HH:MM:SS): &quot;);\r\n            String arrivalTime = scanner.nextLine();\r\n\r\n            System.out.println(&quot;Price: &quot;);\r\n            double price = scanner.nextDouble();\r\n\r\n            System.out.println(&quot;Available Seats: &quot;);\r\n            int availableSeats = scanner.nextInt();\r\n\r\n            // Insert the new journey into the database\r\n            PreparedStatement statement = conn.prepareStatement(&quot;INSERT INTO journey (source_station, destination_station, departure_time, arrival_time, price, available_seats) VALUES (?, ?, ?, ?, ?, ?)&quot;);\r\n            statement.setString(1, source);\r\n            statement.setString(2, destination);\r\n            statement.setString(3, departureTime);\r\n            statement.setString(4, arrivalTime);\r\n            statement.setDouble(5, price);\r\n            statement.setInt(6, availableSeats);\r\n\r\n            int rowsInserted = statement.executeUpdate();\r\n            if (rowsInserted &gt; 0) {\r\n                System.out.println(&quot;Journey added successfully!&quot;);\r\n            } else {\r\n                System.out.println(&quot;Failed to add journey. Please try again.&quot;);\r\n            }\r\n        } else {\r\n            System.out.println(&quot;Only admins can add journeys.&quot;);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    private static void viewJourneys(Connection conn) throws SQLException {\r\n        Statement statement = conn.createStatement();\r\n        ResultSet result = statement.executeQuery(&quot;SELECT * FROM journey&quot;);\r\n\r\n        if (result.next()) {\r\n            System.out.println(&quot;Existing Journeys:&quot;);\r\n            System.out.println(&quot;-------------------------------&quot;);\r\n            do {\r\n                int journeyId = result.getInt(&quot;journey_id&quot;);\r\n                String source = result.getString(&quot;source_station&quot;);\r\n                String destination = result.getString(&quot;destination_station&quot;);\r\n                String departureTime = result.getString(&quot;departure_time&quot;);\r\n                String arrivalTime = result.getString(&quot;arrival_time&quot;);\r\n                double price = result.getDouble(&quot;price&quot;);\r\n\r\n                System.out.println(&quot;Journey ID: &quot; + journeyId);\r\n                System.out.println(&quot;Source Station: &quot; + source);\r\n                System.out.println(&quot;Destination Station: &quot; + destination);\r\n                System.out.println(&quot;Departure Time: &quot; + departureTime);\r\n                System.out.println(&quot;Arrival Time: &quot; + arrivalTime);\r\n                System.out.println(&quot;Price: &quot; + price);\r\n                System.out.println(&quot;-------------------------------&quot;);\r\n            } while (result.next());\r\n        } else {\r\n            System.out.println(&quot;No existing journeys found.&quot;);\r\n        }\r\n    }\r\n\r\n    private static int getUserId(Connection conn) throws SQLException {\r\n        String tableName = isAdmin ? &quot;admin&quot; : &quot;user&quot;;\r\n        String idColumnName = isAdmin ? &quot;admin_id&quot; : &quot;user_id&quot;;\r\n        String loginColumnName = isAdmin ? &quot;admin_login&quot; : &quot;user_login&quot;;\r\n\r\n        PreparedStatement statement = conn.prepareStatement(&quot;SELECT &quot; + idColumnName + &quot; FROM &quot; + tableName + &quot; WHERE &quot; + loginColumnName + &quot; = ?&quot;);\r\n        statement.setString(1, getLoggedInUsername());\r\n\r\n        ResultSet result = statement.executeQuery();\r\n        if (result.next()) {\r\n            return result.getInt(idColumnName);\r\n        } else {\r\n            return -1;\r\n        }\r\n    }\r\n\r\n    private static int getUserIdByUsername(Connection conn, String username) throws SQLException {\r\n        String tableName = &quot;user&quot;;\r\n        String idColumnName = &quot;user_id&quot;;\r\n        String loginColumnName = &quot;user_login&quot;;\r\n\r\n        PreparedStatement statement = conn.prepareStatement(&quot;SELECT &quot; + idColumnName + &quot; FROM &quot; + tableName + &quot; WHERE &quot; + loginColumnName + &quot; = ?&quot;);\r\n        statement.setString(1, username);\r\n\r\n        ResultSet result = statement.executeQuery();\r\n        if (result.next()) {\r\n            return result.getInt(idColumnName);\r\n        } else {\r\n            return -1;\r\n        }\r\n    }\r\n\r\n    private static String getLoggedInUsername() {\r\n        return isLoggedIn ? &quot;loggedInUsername&quot; : &quot;&quot;;\r\n    }\r\n\r\n    private static void logout() {\r\n        isLoggedIn = false;\r\n        isAdmin = false;\r\n        System.out.println(&quot;Logged out successfully!&quot;);\r\n    }\r\n\r\n    private static void exitProgram() {\r\n        System.out.println(&quot;Goodbye!&quot;);\r\n        System.exit(0);\r\n    }\r\n}\r\n```\r\nThis is the first time I ask such questions on such sites, and I will immediately say that I will be extremely grateful for any answer.\r\n\r\n\r\nI read information about the error on different sites + searched for the solution code on github and asked chatGPT, but I did not receive the desired answer.\r\nI just want to understand what the problem is and what needs to be changed in mysql or in java code in order to finally finish this project =)))","title":"Java project with mysql database integration","body":"<p>i am student who working on Railway management system in Java with mysql database integration,i almost finished my project, but there is one problem in the code that i'm sitting on for a couple of days and can't solve it, i also tried different resources chatGPT , github , and so on.</p>\n<p>This is my question - I create an account in my system, and when I try to book a ticket, I get the error</p>\n<blockquote>\n<p>Cannot add or update a child row: a foreign key constraint fails (<code>rms</code>.<code>booking</code>, CONSTRAINT <code>booking_ibfk_1</code> FOREIGN KEY (<code>user_id</code>) REFERENCES <code>user</code> (<code>user_id</code>))&quot;</p>\n</blockquote>\n<p>I want the information to be stored in the &quot;booking&quot; table when booking a ticket, so that it can then be displayed as bookingHistory.</p>\n<p>below are the tables I use:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE user (\nuser_id INT AUTO_INCREMENT PRIMARY KEY,\nuser_login VARCHAR(25) UNIQUE NOT NULL,\nuser_password VARCHAR(40) NOT NULL\n);\n\nCREATE TABLE admin (\nadmin_id INT AUTO_INCREMENT PRIMARY KEY,\nadmin_login VARCHAR(25) UNIQUE NOT NULL,\nadmin_password VARCHAR(40) NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS journey (\n    journey_id INT PRIMARY KEY AUTO_INCREMENT,\n    source_station VARCHAR(100) NOT NULL,\n    destination_station VARCHAR(100) NOT NULL,\n    departure_time DATETIME NOT NULL,\n    arrival_time DATETIME NOT NULL,\n    price DECIMAL(10, 2) NOT NULL,\n    available_seats INT NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS booking (\n    booking_id INT PRIMARY KEY AUTO_INCREMENT,\n    user_id INT NOT NULL,\n    journey_id INT NOT NULL,\n    booking_time DATETIME NOT NULL,\n    FOREIGN KEY (user_id) REFERENCES user(user_id),\n    FOREIGN KEY (journey_id) REFERENCES journey(journey_id)\n);\n</code></pre>\n<p>Below is the code I use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.PreparedStatement;\nimport java.sql.*;\nimport java.util.Scanner;\nimport java.util.InputMismatchException;\n\n\npublic class RailwayMS {\n    private static final String DB_URL = &quot;jdbc:mysql://localhost:3306/RMS&quot;;\n    private static final String USER = &quot;ignat&quot;;\n    private static final String PASSWORD = &quot;gowent&quot;;\n    private static boolean isAdmin = false;\n    private static boolean isLoggedIn = false;\n\n    public static void main(String[] args) {\n        try {\n            Connection conn = DriverManager.getConnection(DB_URL, USER, PASSWORD);\n\n            while (true) {\n                System.out.println(&quot;Welcome to the Ticket Booking System!&quot;);\n                System.out.println(&quot;Please choose an option:&quot;);\n                System.out.println(&quot;1. Login as Admin&quot;);\n                System.out.println(&quot;2. Login as User&quot;);\n                System.out.println(&quot;3. Register as User&quot;);\n                System.out.println(&quot;4. Register as Admin&quot;);\n                System.out.println(&quot;5. Exit&quot;);\n\n                Scanner scanner = new Scanner(System.in);\n                int choice = 0;\n\n                try {\n                    choice = scanner.nextInt();\n                } catch (InputMismatchException e) {\n                    System.out.println(&quot;Invalid input. Please enter a valid option.&quot;);\n                    scanner.nextLine(); // Очистка буфера сканера\n                    continue; // Возврат к началу цикла\n                }\n\n                switch (choice) {\n                    case 1:\n                        login(conn, true);\n                        break;\n                    case 2:\n                        login(conn, false);\n                        break;\n                    case 3:\n                        registerUser(conn);\n                        break;\n                    case 4:\n                        registerAdmin(conn);\n                        break;\n                    case 5:\n                        System.out.println(&quot;Goodbye!&quot;);\n                        System.exit(0);\n                        break;\n                    default:\n                        System.out.println(&quot;Invalid choice. Please try again.&quot;);\n                }\n            }\n        } catch (SQLException e) {\n            System.out.println(&quot;An error occurred: &quot; + e.getMessage());\n        }\n    }\n\n\n    private static void login(Connection conn, boolean isAdminLogin) throws SQLException {\n        System.out.println(&quot;Please enter your username:&quot;);\n        Scanner scanner = new Scanner(System.in);\n        String username = scanner.nextLine();\n\n        System.out.println(&quot;Please enter your password:&quot;);\n        String password = scanner.nextLine();\n\n        String tableName = isAdminLogin ? &quot;admin&quot; : &quot;user&quot;;\n        String idColumnName = isAdminLogin ? &quot;admin_id&quot; : &quot;user_id&quot;;\n        String loginColumnName = isAdminLogin ? &quot;admin_login&quot; : &quot;user_login&quot;;\n        String passwordColumnName = isAdminLogin ? &quot;admin_password&quot; : &quot;user_password&quot;;\n\n        PreparedStatement statement = conn.prepareStatement(&quot;SELECT * FROM &quot; + tableName + &quot; WHERE &quot; + loginColumnName + &quot; = ? AND &quot; + passwordColumnName + &quot; = ?&quot;);\n        statement.setString(1, username);\n        statement.setString(2, password);\n\n        ResultSet result = statement.executeQuery();\n        if (result.next()) {\n            isLoggedIn = true;\n            isAdmin = isAdminLogin;\n            System.out.println(&quot;Login successful!&quot;);\n            if (isAdmin) {\n                showAdminMenu(conn);\n            } else {\n                showUserMenu(conn);\n            }\n        } else {\n            System.out.println(&quot;Invalid username or password.&quot;);\n        }\n    }\n\n    private static void showUserMenu(Connection conn) throws SQLException {\n        while (true) {\n            System.out.println(&quot;Welcome to the Ticket Booking System!&quot;);\n            System.out.println(&quot;Please choose an option:&quot;);\n            System.out.println(&quot;1. Book a ticket&quot;);\n            System.out.println(&quot;2. View my booking history&quot;);\n            System.out.println(&quot;3. View existing journeys&quot;);\n            System.out.println(&quot;4. Logout&quot;);\n            System.out.println(&quot;5. Exit&quot;);\n\n            Scanner scanner = new Scanner(System.in);\n            int choice = scanner.nextInt();\n\n            switch (choice) {\n                case 1:\n                    bookTicket(conn);\n                    break;\n                case 2:\n                    viewBookingHistory(conn);\n                    break;\n                case 3:\n                    viewJourneys(conn);\n                    break;\n                case 4:\n                    logout();\n                    return;\n                case 5:\n                    exitProgram();\n                    break;\n                default:\n                    System.out.println(&quot;Invalid choice. Please try again.&quot;);\n            }\n        }\n    }\n\n    private static void showAdminMenu(Connection conn) throws SQLException {\n        while (true) {\n            System.out.println(&quot;Welcome to the Ticket Booking System!&quot;);\n            System.out.println(&quot;Please choose an option:&quot;);\n            System.out.println(&quot;1. Book a ticket&quot;);\n            System.out.println(&quot;2. View my booking history&quot;);\n            System.out.println(&quot;3. View booking history of a user using username&quot;);\n            System.out.println(&quot;4. Add a new journey&quot;);\n            System.out.println(&quot;5. View existing journeys&quot;);\n            System.out.println(&quot;6. Logout&quot;);\n            System.out.println(&quot;7. Exit&quot;);\n\n            Scanner scanner = new Scanner(System.in);\n            int choice = scanner.nextInt();\n\n            switch (choice) {\n                case 1:\n                    bookTicket(conn);\n                    break;\n                case 2:\n                    viewBookingHistory(conn);\n                    break;\n                case 3:\n                    viewUserBookingHistory(conn);\n                    break;\n                case 4:\n                    addJourney(conn);\n                    break;\n                case 5:\n                    viewJourneys(conn);\n                    break;\n                case 6:\n                    logout();\n                    return;\n                case 7:\n                    exitProgram();\n                    break;\n                default:\n                    System.out.println(&quot;Invalid choice. Please try again.&quot;);\n            }\n        }\n    }\n\n\n    private static void registerAdmin(Connection conn) {\n        boolean registrationSuccessful = false;\n        while (!registrationSuccessful) {\n            try {\n                System.out.println(&quot;Please enter an admin username:&quot;);\n                Scanner scanner = new Scanner(System.in);\n                String username = scanner.nextLine();\n\n                System.out.println(&quot;Please enter an admin password:&quot;);\n                String password = scanner.nextLine();\n\n                String tableName = &quot;admin&quot;;\n                String loginColumnName = &quot;admin_login&quot;;\n                String passwordColumnName = &quot;admin_password&quot;;\n\n                PreparedStatement statement = conn.prepareStatement(&quot;INSERT INTO &quot; + tableName + &quot; (&quot; + loginColumnName + &quot;, &quot; + passwordColumnName + &quot;) VALUES (?, ?)&quot;);\n                statement.setString(1, username);\n                statement.setString(2, password);\n\n                int rowsInserted = statement.executeUpdate();\n                if (rowsInserted &gt; 0) {\n                    System.out.println(&quot;Admin registration successful!&quot;);\n                    registrationSuccessful = true;\n                } else {\n                    System.out.println(&quot;Admin registration failed. Please try again.&quot;);\n                }\n            } catch (SQLException e) {\n                if (e.getErrorCode() == 1062) {\n                    System.out.println(&quot;Admin username already exists. Please try a different username.&quot;);\n                } else {\n                    System.out.println(&quot;An error occurred during admin registration. Please try again.&quot;);\n                }\n            }\n        }\n    }\n\n\n    private static void registerUser(Connection conn) {\n        boolean registrationSuccessful = false;\n        while (!registrationSuccessful) {\n            try {\n                System.out.println(&quot;Please enter a username:&quot;);\n                Scanner scanner = new Scanner(System.in);\n                String username = scanner.nextLine();\n\n                System.out.println(&quot;Please enter a password:&quot;);\n                String password = scanner.nextLine();\n\n                String tableName = &quot;user&quot;;\n                String loginColumnName = &quot;user_login&quot;;\n                String passwordColumnName = &quot;user_password&quot;;\n\n                PreparedStatement statement = conn.prepareStatement(&quot;INSERT INTO &quot; + tableName + &quot; (&quot; + loginColumnName + &quot;, &quot; + passwordColumnName + &quot;) VALUES (?, ?)&quot;);\n                statement.setString(1, username);\n                statement.setString(2, password);\n\n                int rowsInserted = statement.executeUpdate();\n                if (rowsInserted &gt; 0) {\n                    System.out.println(&quot;User registration successful!&quot;);\n                    registrationSuccessful = true;\n                } else {\n                    System.out.println(&quot;User registration failed. Please try again.&quot;);\n                }\n            } catch (SQLException e) {\n                if (e.getErrorCode() == 1062) {\n                    System.out.println(&quot;Username already exists. Please try a different username.&quot;);\n                } else {\n                    System.out.println(&quot;An error occurred during user registration. Please try again.&quot;);\n                }\n            }\n        }\n    }\n\n    private static void bookTicket(Connection conn) throws SQLException {\n        System.out.println(&quot;Please enter the journey ID:&quot;);\n        Scanner scanner = new Scanner(System.in);\n        int journeyId = scanner.nextInt();\n\n        PreparedStatement journeyStatement = conn.prepareStatement(&quot;SELECT * FROM journey WHERE journey_id = ?&quot;);\n        journeyStatement.setInt(1, journeyId);\n        ResultSet journeyResult = journeyStatement.executeQuery();\n\n        if (journeyResult.next()) {\n            int availableSeats = journeyResult.getInt(&quot;available_seats&quot;);\n            if (availableSeats &gt; 0) {\n                System.out.println(&quot;Seats available. Booking ticket...&quot;);\n\n                PreparedStatement updateStatement = conn.prepareStatement(&quot;UPDATE journey SET available_seats = ? WHERE journey_id = ?&quot;);\n                updateStatement.setInt(1, availableSeats - 1);\n                updateStatement.setInt(2, journeyId);\n                updateStatement.executeUpdate();\n\n                System.out.println(&quot;Ticket booked successfully!&quot;);\n\n\n\n                try {\n                    PreparedStatement insertStatement = conn.prepareStatement(&quot;INSERT INTO booking (user_id, journey_id, booking_time) VALUES (?, ?, CURRENT_TIMESTAMP)&quot;);\n                    insertStatement.setInt(1, getUserId(conn));\n                    insertStatement.setInt(2, journeyId);\n                    insertStatement.executeUpdate();\n                } catch (SQLException e) {\n                    e.printStackTrace();\n                }\n            } else {\n                System.out.println(&quot;No seats available for this journey.&quot;);\n            }\n        } else {\n            System.out.println(&quot;Journey not found.&quot;);\n        }\n    }\n\n\n\n    private static void viewBookingHistory(Connection conn) throws SQLException {\n\n        int userId = getUserId(conn);\n\n        PreparedStatement statement = conn.prepareStatement(&quot;SELECT * FROM booking INNER JOIN journey ON booking.journey_id = journey.journey_id WHERE user_id = ?&quot;);\n        statement.setInt(1, userId);\n\n        ResultSet result = statement.executeQuery();\n        if (result.next()) {\n            System.out.println(&quot;Booking History:&quot;);\n            System.out.println(&quot;-------------------------------&quot;);\n            do {\n                int bookingId = result.getInt(&quot;booking_id&quot;);\n                String source = result.getString(&quot;source_station&quot;);\n                String destination = result.getString(&quot;destination_station&quot;);\n                String departureTime = result.getString(&quot;departure_time&quot;);\n                String arrivalTime = result.getString(&quot;arrival_time&quot;);\n                double price = result.getDouble(&quot;price&quot;);\n                String bookingDate = result.getString(&quot;booking_time&quot;);\n\n\n                System.out.println(&quot;Booking ID: &quot; + bookingId);\n                System.out.println(&quot;Journey: &quot; + source + &quot; to &quot; + destination);\n                System.out.println(&quot;Departure Time: &quot; + departureTime);\n                System.out.println(&quot;Arrival Time: &quot; + arrivalTime);\n                System.out.println(&quot;Price: &quot; + price);\n                System.out.println(&quot;Booking Date: &quot; + bookingDate);\n                System.out.println(&quot;-------------------------------&quot;);\n            } while (result.next());\n        } else {\n            System.out.println(&quot;No booking history found.&quot;);\n        }\n    }\n\n    private static void viewUserBookingHistory(Connection conn) throws SQLException {\n        // Fetch the booking history for a specific user\n\n        System.out.println(&quot;Enter the user ID:&quot;);\n        Scanner scanner = new Scanner(System.in);\n        int userId = scanner.nextInt();\n\n        // Fetch the booking history for the user\n        PreparedStatement statement = conn.prepareStatement(&quot;SELECT * FROM booking INNER JOIN journey ON booking.journey_id = journey.journey_id WHERE user_id = ?&quot;);\n        statement.setInt(1, userId);\n\n        ResultSet result = statement.executeQuery();\n        if (result.next()) {\n            System.out.println(&quot;Booking History for User ID &quot; + userId + &quot;:&quot;);\n            System.out.println(&quot;-------------------------------&quot;);\n            do {\n                int bookingId = result.getInt(&quot;booking_id&quot;);\n                String source = result.getString(&quot;source_station&quot;);\n                String destination = result.getString(&quot;destination_station&quot;);\n                String departureTime = result.getString(&quot;departure_time&quot;);\n                String arrivalTime = result.getString(&quot;arrival_time&quot;);\n                double price = result.getDouble(&quot;price&quot;);\n                String bookingDate = result.getString(&quot;booking_time&quot;);\n\n\n                System.out.println(&quot;Booking ID: &quot; + bookingId);\n                System.out.println(&quot;Journey: &quot; + source + &quot; to &quot; + destination);\n                System.out.println(&quot;Departure Time: &quot; + departureTime);\n                System.out.println(&quot;Arrival Time: &quot; + arrivalTime);\n                System.out.println(&quot;Price: &quot; + price);\n                System.out.println(&quot;Booking Date: &quot; + bookingDate);\n                System.out.println(&quot;-------------------------------&quot;);\n            } while (result.next());\n        } else {\n            System.out.println(&quot;No booking history found for User ID &quot; + userId + &quot;.&quot;);\n        }\n    }\n\n\n    private static void addJourney(Connection conn) throws SQLException {\n        if (isAdmin) {\n            System.out.println(&quot;Please enter the journey details:&quot;);\n\n            Scanner scanner = new Scanner(System.in);\n\n            System.out.println(&quot;Source Station: &quot;);\n            String source = scanner.nextLine();\n\n            System.out.println(&quot;Destination Station: &quot;);\n            String destination = scanner.nextLine();\n\n            System.out.println(&quot;Departure Time (YYYY-MM-DD HH:MM:SS): &quot;);\n            String departureTime = scanner.nextLine();\n\n            System.out.println(&quot;Arrival Time (YYYY-MM-DD HH:MM:SS): &quot;);\n            String arrivalTime = scanner.nextLine();\n\n            System.out.println(&quot;Price: &quot;);\n            double price = scanner.nextDouble();\n\n            System.out.println(&quot;Available Seats: &quot;);\n            int availableSeats = scanner.nextInt();\n\n            // Insert the new journey into the database\n            PreparedStatement statement = conn.prepareStatement(&quot;INSERT INTO journey (source_station, destination_station, departure_time, arrival_time, price, available_seats) VALUES (?, ?, ?, ?, ?, ?)&quot;);\n            statement.setString(1, source);\n            statement.setString(2, destination);\n            statement.setString(3, departureTime);\n            statement.setString(4, arrivalTime);\n            statement.setDouble(5, price);\n            statement.setInt(6, availableSeats);\n\n            int rowsInserted = statement.executeUpdate();\n            if (rowsInserted &gt; 0) {\n                System.out.println(&quot;Journey added successfully!&quot;);\n            } else {\n                System.out.println(&quot;Failed to add journey. Please try again.&quot;);\n            }\n        } else {\n            System.out.println(&quot;Only admins can add journeys.&quot;);\n        }\n    }\n\n\n\n    private static void viewJourneys(Connection conn) throws SQLException {\n        Statement statement = conn.createStatement();\n        ResultSet result = statement.executeQuery(&quot;SELECT * FROM journey&quot;);\n\n        if (result.next()) {\n            System.out.println(&quot;Existing Journeys:&quot;);\n            System.out.println(&quot;-------------------------------&quot;);\n            do {\n                int journeyId = result.getInt(&quot;journey_id&quot;);\n                String source = result.getString(&quot;source_station&quot;);\n                String destination = result.getString(&quot;destination_station&quot;);\n                String departureTime = result.getString(&quot;departure_time&quot;);\n                String arrivalTime = result.getString(&quot;arrival_time&quot;);\n                double price = result.getDouble(&quot;price&quot;);\n\n                System.out.println(&quot;Journey ID: &quot; + journeyId);\n                System.out.println(&quot;Source Station: &quot; + source);\n                System.out.println(&quot;Destination Station: &quot; + destination);\n                System.out.println(&quot;Departure Time: &quot; + departureTime);\n                System.out.println(&quot;Arrival Time: &quot; + arrivalTime);\n                System.out.println(&quot;Price: &quot; + price);\n                System.out.println(&quot;-------------------------------&quot;);\n            } while (result.next());\n        } else {\n            System.out.println(&quot;No existing journeys found.&quot;);\n        }\n    }\n\n    private static int getUserId(Connection conn) throws SQLException {\n        String tableName = isAdmin ? &quot;admin&quot; : &quot;user&quot;;\n        String idColumnName = isAdmin ? &quot;admin_id&quot; : &quot;user_id&quot;;\n        String loginColumnName = isAdmin ? &quot;admin_login&quot; : &quot;user_login&quot;;\n\n        PreparedStatement statement = conn.prepareStatement(&quot;SELECT &quot; + idColumnName + &quot; FROM &quot; + tableName + &quot; WHERE &quot; + loginColumnName + &quot; = ?&quot;);\n        statement.setString(1, getLoggedInUsername());\n\n        ResultSet result = statement.executeQuery();\n        if (result.next()) {\n            return result.getInt(idColumnName);\n        } else {\n            return -1;\n        }\n    }\n\n    private static int getUserIdByUsername(Connection conn, String username) throws SQLException {\n        String tableName = &quot;user&quot;;\n        String idColumnName = &quot;user_id&quot;;\n        String loginColumnName = &quot;user_login&quot;;\n\n        PreparedStatement statement = conn.prepareStatement(&quot;SELECT &quot; + idColumnName + &quot; FROM &quot; + tableName + &quot; WHERE &quot; + loginColumnName + &quot; = ?&quot;);\n        statement.setString(1, username);\n\n        ResultSet result = statement.executeQuery();\n        if (result.next()) {\n            return result.getInt(idColumnName);\n        } else {\n            return -1;\n        }\n    }\n\n    private static String getLoggedInUsername() {\n        return isLoggedIn ? &quot;loggedInUsername&quot; : &quot;&quot;;\n    }\n\n    private static void logout() {\n        isLoggedIn = false;\n        isAdmin = false;\n        System.out.println(&quot;Logged out successfully!&quot;);\n    }\n\n    private static void exitProgram() {\n        System.out.println(&quot;Goodbye!&quot;);\n        System.exit(0);\n    }\n}\n</code></pre>\n<p>This is the first time I ask such questions on such sites, and I will immediately say that I will be extremely grateful for any answer.</p>\n<p>I read information about the error on different sites + searched for the solution code on github and asked chatGPT, but I did not receive the desired answer.\nI just want to understand what the problem is and what needs to be changed in mysql or in java code in order to finally finish this project =)))</p>\n"},{"tags":["java","javascript","html"],"comments":[{"owner":{"account_id":3709827,"reputation":982,"user_id":3087450,"display_name":"joker"},"score":0,"creation_date":1395120533,"post_id":22471055,"comment_id":34181422,"body_markdown":"use `&lt;iframe src=&#39;path of file&#39;&gt;&lt;/iframe&gt;` to show a pdf file on browser.","body":"use <code>&lt;iframe src=&#39;path of file&#39;&gt;&lt;&#47;iframe&gt;</code> to show a pdf file on browser."},{"owner":{"account_id":3406333,"reputation":29,"user_id":2857294,"display_name":"user2857294"},"score":0,"creation_date":1395120937,"post_id":22471055,"comment_id":34181567,"body_markdown":"I done with that but problem is It was downloading with idm I need to prevent that one help me","body":"I done with that but problem is It was downloading with idm I need to prevent that one help me"}],"answers":[{"tags":[],"owner":{"account_id":2641437,"reputation":549,"user_id":2284979,"display_name":"Uchit Shrestha"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1395125897,"creation_date":1395125897,"answer_id":22472347,"question_id":22471055,"body_markdown":"One option is to render the PDF to JPEG or some other image format and only serve the rendered images to the user. Some of the PDF libraries allow you to render PDF&#39;s to other file formats.\r\n\r\nAnother option may be to send/redirect the PDF through to an online PDF viewing app in the same way Google does with attachments in GMail. That way the user sees a JPEG of the PDF and cannot download the PDF.","title":"How to prevent downloading PDF file when displaying on web pages?","body":"<p>One option is to render the PDF to JPEG or some other image format and only serve the rendered images to the user. Some of the PDF libraries allow you to render PDF's to other file formats.</p>\n\n<p>Another option may be to send/redirect the PDF through to an online PDF viewing app in the same way Google does with attachments in GMail. That way the user sees a JPEG of the PDF and cannot download the PDF.</p>\n"},{"tags":[],"owner":{"account_id":28607027,"reputation":1,"user_id":21902769,"display_name":"KMP"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684170649,"creation_date":1684170594,"answer_id":76256421,"question_id":22471055,"body_markdown":"After weeks of searching, trying tons of plugins, viewers, embedders, etc., I finally came up with a solution.  It&#39;s a combination of a paid plugin and a free plugin.  The free plugin I&#39;m using is &quot;Prevent Files / Folders Access&quot; https://wordpress.org/plugins/prevent-file-access/ which protects the url of the PDF if somebody manages to get it by viewing page source.  And I purchased PDF Poster: https://wordpress.org/plugins/pdf-poster/  However, I&#39;m waiting for this plugin developer to answer my request for a bit of CSS to add to it to enable vertical scrolling and the hand tool both by default. I would have preferred a free solution, but this is the best I could come up with, and I needed to move ahead and get my hundreds of embeds done.  I hope this is helpful to someone else out there. ","title":"How to prevent downloading PDF file when displaying on web pages?","body":"<p>After weeks of searching, trying tons of plugins, viewers, embedders, etc., I finally came up with a solution.  It's a combination of a paid plugin and a free plugin.  The free plugin I'm using is &quot;Prevent Files / Folders Access&quot; <a href=\"https://wordpress.org/plugins/prevent-file-access/\" rel=\"nofollow noreferrer\">https://wordpress.org/plugins/prevent-file-access/</a> which protects the url of the PDF if somebody manages to get it by viewing page source.  And I purchased PDF Poster: <a href=\"https://wordpress.org/plugins/pdf-poster/\" rel=\"nofollow noreferrer\">https://wordpress.org/plugins/pdf-poster/</a>  However, I'm waiting for this plugin developer to answer my request for a bit of CSS to add to it to enable vertical scrolling and the hand tool both by default. I would have preferred a free solution, but this is the best I could come up with, and I needed to move ahead and get my hundreds of embeds done.  I hope this is helpful to someone else out there.</p>\n"}],"owner":{"account_id":3406333,"reputation":29,"user_id":2857294,"display_name":"user2857294"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1009,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":22472347,"answer_count":2,"score":0,"last_activity_date":1684170649,"creation_date":1395120401,"question_id":22471055,"body_markdown":"How to prevent downloading **PDF** file when displaying on web pages? \r\n\r\nI tried the *content disposition inline*  but it didn&#39;t work.\r\n\r\nHow can i do this ?\r\n","title":"How to prevent downloading PDF file when displaying on web pages?","body":"<p>How to prevent downloading <strong>PDF</strong> file when displaying on web pages? </p>\n\n<p>I tried the <em>content disposition inline</em>  but it didn't work.</p>\n\n<p>How can i do this ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1638861722,"post_id":70256229,"comment_id":124193669,"body_markdown":"You need to `get` the previous count, not just increment the current loop index. Or even better replace the whole lot with `map.merge(char, 1, Integer::sum)`. Or rewrite as a `Stream` using `groupingBy` and `Collectors.counting`.","body":"You need to <code>get</code> the previous count, not just increment the current loop index. Or even better replace the whole lot with <code>map.merge(char, 1, Integer::sum)</code>. Or rewrite as a <code>Stream</code> using <code>groupingBy</code> and <code>Collectors.counting</code>."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1638861839,"post_id":70256229,"comment_id":124193693,"body_markdown":"Since you&#39;re already retrieving the count as `value` it should be `map.put(String.valueOf(A.charAt(i)), value+1);`. However, also note that `map.get(A.charAt(i))` uses the _character_ to lookup the value which doesn&#39;t matrch because you&#39;re converting the characters to strings when putting them into the map. So either always use a string or change the map key to `Character`.","body":"Since you&#39;re already retrieving the count as <code>value</code> it should be <code>map.put(String.valueOf(A.charAt(i)), value+1);</code>. However, also note that <code>map.get(A.charAt(i))</code> uses the <i>character</i> to lookup the value which doesn&#39;t matrch because you&#39;re converting the characters to strings when putting them into the map. So either always use a string or change the map key to <code>Character</code>."}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638861884,"creation_date":1638861884,"answer_id":70256282,"question_id":70256229,"body_markdown":"I would use the following logic:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public static void solve(String A) {\r\n        Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\n        for (int i=0; i &lt; A.length(); i++) {\r\n            char letter = A.charAt(i);\r\n            int count = map.get(letter) != null ? map.get(letter) : 0;\r\n            map.put(letter, ++count);\r\n        }\r\n\r\n        System.out.println(map);  // prints {a=2, b=2, c=2, d=1}\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        solve(&quot;aabbccd&quot;);\r\n    }\r\n\r\nThe main changes I made were to switch to using a `Map&lt;Character, Integer&gt;`, since we want to keep track of character key counts, rather than strings.  In addition, I tightened the lookup logic to set the initial count at either zero, in case a new letter comes along, or the previous value in the map, in case the letter be already known.","title":"Trying to count occurence of each letter in String in Java","body":"<p>I would use the following logic:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void solve(String A) {\n    Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\n    for (int i=0; i &lt; A.length(); i++) {\n        char letter = A.charAt(i);\n        int count = map.get(letter) != null ? map.get(letter) : 0;\n        map.put(letter, ++count);\n    }\n\n    System.out.println(map);  // prints {a=2, b=2, c=2, d=1}\n}\n\npublic static void main(String[] args) {\n    solve(&quot;aabbccd&quot;);\n}\n</code></pre>\n<p>The main changes I made were to switch to using a <code>Map&lt;Character, Integer&gt;</code>, since we want to keep track of character key counts, rather than strings.  In addition, I tightened the lookup logic to set the initial count at either zero, in case a new letter comes along, or the previous value in the map, in case the letter be already known.</p>\n"},{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638862155,"creation_date":1638862155,"answer_id":70256333,"question_id":70256229,"body_markdown":"Using `Map.merge()` you can rid of checking this yourself:\r\n\r\n    Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\n    for( char c : A.toCharArray()) {\r\n\t  \tmap.merge(c, 1, Integer::sum);\t    \t\t    \t\r\n\t}\r\n\r\n`merge()` takes 3 parameters:\r\n- A key which is the character in your case\r\n- A value to put for the key, which is 1 in your case\r\n- A merge bi-function to combine the new and existing values if the entry already existed. `Integer::sum` refers to `Integer&#39;s` method `static int sum(int a, int b)` which basically is the same as your `value + 1`.","title":"Trying to count occurence of each letter in String in Java","body":"<p>Using <code>Map.merge()</code> you can rid of checking this yourself:</p>\n<pre><code>Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\nfor( char c : A.toCharArray()) {\n    map.merge(c, 1, Integer::sum);                      \n}\n</code></pre>\n<p><code>merge()</code> takes 3 parameters:</p>\n<ul>\n<li>A key which is the character in your case</li>\n<li>A value to put for the key, which is 1 in your case</li>\n<li>A merge bi-function to combine the new and existing values if the entry already existed. <code>Integer::sum</code> refers to <code>Integer's</code> method <code>static int sum(int a, int b)</code> which basically is the same as your <code>value + 1</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638862716,"creation_date":1638862313,"answer_id":70256359,"question_id":70256229,"body_markdown":"A more generic solution is to use `Map&lt;Character, Integer&gt;`:\r\n\r\n```java\r\npublic static void solve(String str) {\r\n    Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\n    \r\n    for(int i = 0; i &lt; str.length(); i++) {\r\n        char ch = Character.toLowerCase(str.charAt(i));\r\n        map.merge(ch, 1, Integer::sum);\r\n    }\r\n    \r\n    System.out.println(map);\r\n}\r\n```\r\n\r\nIn case you have only English letter, then solution could be more memory effective:\r\n```java\r\npublic static void solve(String str) {\r\n    str = str.toLowerCase();\r\n    int[] letters = new int[26];\r\n\r\n    for (int i = 0; i &lt; str.length(); i++)\r\n        letters[str.charAt(i) - &#39;a&#39;]++;\r\n\r\n    for (int i = 0; i &lt; letters.length; i++)\r\n        if (letters[i] &gt; 0)\r\n            System.out.format(&quot;%c=%d\\n&quot;, &#39;a&#39; + i, letters[i]);\r\n}\r\n```","title":"Trying to count occurence of each letter in String in Java","body":"<p>A more generic solution is to use <code>Map&lt;Character, Integer&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void solve(String str) {\n    Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\n    \n    for(int i = 0; i &lt; str.length(); i++) {\n        char ch = Character.toLowerCase(str.charAt(i));\n        map.merge(ch, 1, Integer::sum);\n    }\n    \n    System.out.println(map);\n}\n</code></pre>\n<p>In case you have only English letter, then solution could be more memory effective:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void solve(String str) {\n    str = str.toLowerCase();\n    int[] letters = new int[26];\n\n    for (int i = 0; i &lt; str.length(); i++)\n        letters[str.charAt(i) - 'a']++;\n\n    for (int i = 0; i &lt; letters.length; i++)\n        if (letters[i] &gt; 0)\n            System.out.format(&quot;%c=%d\\n&quot;, 'a' + i, letters[i]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1500413,"reputation":320,"user_id":1405280,"accept_rate":80,"display_name":"Tanbir Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638863388,"creation_date":1638863388,"answer_id":70256557,"question_id":70256229,"body_markdown":"The problem seems to be in this line `map.put(String.valueOf(A.charAt(i)),i+1)` where it is resetting the count every time it found a recurrence of a character. You need to get the previous count of a character if it recurred. Try changing the line to `map.put(String.valueOf(A.charAt(i)),map.get(String.valueOf(A.charAt(i)))+1)`.  \r\n\r\nAlso you can use `Character` directly as the key in your `HashMap` object, which will make the code much simpler. Hope the following code will be helpful:\r\n\r\n    public static String solve(String A, int B) {\r\n        HashMap&lt;Character, Integer&gt; count = new HashMap&lt;&gt;();\r\n        for(Character ch: A.toCharArray()){\r\n            if(count.containsKey(ch) == false){\r\n                count.put(ch, 0);\r\n            }\r\n            count.put(ch, count.get(ch)+1);\r\n        }\r\n        \r\n        System.out.println(count);\r\n        String text = &quot;i feel good&quot;;\r\n        return text;\r\n    }\r\n\r\n    // A = &quot;aabbccd&quot;\r\n    // count = {a=2, b=2, c=2, d=1}\r\n\r\n\r\n","title":"Trying to count occurence of each letter in String in Java","body":"<p>The problem seems to be in this line <code>map.put(String.valueOf(A.charAt(i)),i+1)</code> where it is resetting the count every time it found a recurrence of a character. You need to get the previous count of a character if it recurred. Try changing the line to <code>map.put(String.valueOf(A.charAt(i)),map.get(String.valueOf(A.charAt(i)))+1)</code>.</p>\n<p>Also you can use <code>Character</code> directly as the key in your <code>HashMap</code> object, which will make the code much simpler. Hope the following code will be helpful:</p>\n<pre><code>public static String solve(String A, int B) {\n    HashMap&lt;Character, Integer&gt; count = new HashMap&lt;&gt;();\n    for(Character ch: A.toCharArray()){\n        if(count.containsKey(ch) == false){\n            count.put(ch, 0);\n        }\n        count.put(ch, count.get(ch)+1);\n    }\n    \n    System.out.println(count);\n    String text = &quot;i feel good&quot;;\n    return text;\n}\n\n// A = &quot;aabbccd&quot;\n// count = {a=2, b=2, c=2, d=1}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4202011,"reputation":187,"user_id":3952707,"accept_rate":100,"display_name":"ashish malgawa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638863493,"creation_date":1638863493,"answer_id":70256577,"question_id":70256229,"body_markdown":"The reason why it is not working is that you are putting a key of type String and you are trying to get using a character value.\r\nThe fastest way to solve the bug would be to change the get to \r\n\r\n&gt; map.get(String.valueOf(A.charAt(i)))\r\n\r\nAnother way to do a check if a key does not exist is to use the contains method. \r\n\r\n&gt; map.containsKey(String.valueOf(A.charAt(i)))","title":"Trying to count occurence of each letter in String in Java","body":"<p>The reason why it is not working is that you are putting a key of type String and you are trying to get using a character value.\nThe fastest way to solve the bug would be to change the get to</p>\n<blockquote>\n<p>map.get(String.valueOf(A.charAt(i)))</p>\n</blockquote>\n<p>Another way to do a check if a key does not exist is to use the contains method.</p>\n<blockquote>\n<p>map.containsKey(String.valueOf(A.charAt(i)))</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9439696,"reputation":51,"user_id":7020611,"display_name":"Behnam Nikbakht"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684170362,"creation_date":1684170362,"answer_id":76256388,"question_id":70256229,"body_markdown":"Try this using getOrDefault instead of checking if the map contains the key:\r\n\r\n        Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\n        for(char c: A.toCharArray()){\r\n            map.put(c, map.getOrDefault(c, 0) + 1);\r\n        }","title":"Trying to count occurence of each letter in String in Java","body":"<p>Try this using getOrDefault instead of checking if the map contains the key:</p>\n<pre><code>    Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\n    for(char c: A.toCharArray()){\n        map.put(c, map.getOrDefault(c, 0) + 1);\n    }\n</code></pre>\n"}],"owner":{"account_id":21690681,"reputation":33,"user_id":16005336,"display_name":"Rasika Joshi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70256333,"answer_count":6,"score":0,"last_activity_date":1684170362,"creation_date":1638861538,"question_id":70256229,"body_markdown":"I am not able to get the correct occurrence of each letter present in the string. What is wrong with my code?\r\n\r\nCode:\r\n\r\n    public class consecutiveCharacters {\r\n        public static String solve(String A, int B) {\r\n            HashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n            for (int i=0;i&lt;A.length();i++) {\r\n                Integer value = map.get(A.charAt(i));\r\n                if(value == null){\r\n                    map.put(String.valueOf(A.charAt(i)),1);\r\n                }\r\n                else {\r\n                    map.put(String.valueOf(A.charAt(i)),i+1);\r\n                }\r\n            }\r\n            System.out.println(map); \r\n            String text = &quot;i feel good&quot;;\r\n            return text;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            solve(&quot;aabbccd&quot;,2);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nThe output of the map should be: \r\n```\r\n{a=2, b=2, c=2, d=1}\r\n```\r\nYet the output that the above code is giving is:\r\n```\r\n{a=1, b=1, c=1, d=1}\r\n```","title":"Trying to count occurence of each letter in String in Java","body":"<p>I am not able to get the correct occurrence of each letter present in the string. What is wrong with my code?</p>\n<p>Code:</p>\n<pre><code>public class consecutiveCharacters {\n    public static String solve(String A, int B) {\n        HashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n        for (int i=0;i&lt;A.length();i++) {\n            Integer value = map.get(A.charAt(i));\n            if(value == null){\n                map.put(String.valueOf(A.charAt(i)),1);\n            }\n            else {\n                map.put(String.valueOf(A.charAt(i)),i+1);\n            }\n        }\n        System.out.println(map); \n        String text = &quot;i feel good&quot;;\n        return text;\n    }\n\n    public static void main(String[] args) {\n        solve(&quot;aabbccd&quot;,2);\n    }\n}\n</code></pre>\n<p>The output of the map should be:</p>\n<pre><code>{a=2, b=2, c=2, d=1}\n</code></pre>\n<p>Yet the output that the above code is giving is:</p>\n<pre><code>{a=1, b=1, c=1, d=1}\n</code></pre>\n"},{"tags":["java","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"score":1,"creation_date":1684139773,"post_id":76235084,"comment_id":134467565,"body_markdown":"Based on your description, it should work.\nCan you share the Project? You can upload it using https://uploads.jetbrains.com and share the upload ID.\nAlso make sure you are running the latest version of IDE and try File | Invalidate caches... | Invalidate and Restart","body":"Based on your description, it should work. Can you share the Project? You can upload it using <a href=\"https://uploads.jetbrains.com\" rel=\"nofollow noreferrer\">uploads.jetbrains.com</a> and share the upload ID. Also make sure you are running the latest version of IDE and try File | Invalidate caches... | Invalidate and Restart"},{"owner":{"account_id":7514817,"reputation":81,"user_id":5708610,"display_name":"beld"},"score":0,"creation_date":1684170088,"post_id":76235084,"comment_id":134474795,"body_markdown":"Thanks for your comment. Trying to upload the file solved the issue. I&#39;ll add an answer accordingly","body":"Thanks for your comment. Trying to upload the file solved the issue. I&#39;ll add an answer accordingly"}],"answers":[{"comments":[{"owner":{"account_id":7514817,"reputation":81,"user_id":5708610,"display_name":"beld"},"score":0,"creation_date":1683890086,"post_id":76235333,"comment_id":134439369,"body_markdown":"I also assume that this is some IntelliJ issue. Unfortunately this didn&#39;t help. It&#39;s very annoying because the setting &quot;Build project automatically&quot; also doesn&#39;t work and I think it&#39;s because of the error message. This means that I have to run maven clean install every time I do a code change...","body":"I also assume that this is some IntelliJ issue. Unfortunately this didn&#39;t help. It&#39;s very annoying because the setting &quot;Build project automatically&quot; also doesn&#39;t work and I think it&#39;s because of the error message. This means that I have to run maven clean install every time I do a code change..."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1683891709,"post_id":76235333,"comment_id":134439738,"body_markdown":"Those two issues are definitely related and I suggest you focus on &quot;Build project automatically&quot; not working, because that&#39;s more likely to be the root cause.","body":"Those two issues are definitely related and I suggest you focus on &quot;Build project automatically&quot; not working, because that&#39;s more likely to be the root cause."}],"tags":[],"owner":{"account_id":22145072,"reputation":78,"user_id":16394491,"display_name":"Drake"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683886911,"creation_date":1683886911,"answer_id":76235333,"question_id":76235084,"body_markdown":"Try &#39;Reload files from disk&#39;/&#39;Reload project&#39;/&#39;Invalidate caches&#39;. Sometimes Intellij shows errors like that without any reason","title":"Arrays.asList Cannot access class in same package","body":"<p>Try 'Reload files from disk'/'Reload project'/'Invalidate caches'. Sometimes Intellij shows errors like that without any reason</p>\n"},{"tags":[],"owner":{"account_id":7514817,"reputation":81,"user_id":5708610,"display_name":"beld"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684170171,"creation_date":1684170171,"answer_id":76256376,"question_id":76235084,"body_markdown":"It turned out to be an issue with where I saved the project on the system. By mistake, I saved it in the folder `C:\\Users\\USERNAME\\IdeaProjects\\.idea` instead of `C:\\Users\\USERNAME\\IdeaProjects\\`\r\n\r\nAfter moving the project there are no more issues and automatically rebuilding works as well.","title":"Arrays.asList Cannot access class in same package","body":"<p>It turned out to be an issue with where I saved the project on the system. By mistake, I saved it in the folder <code>C:\\Users\\USERNAME\\IdeaProjects\\.idea</code> instead of <code>C:\\Users\\USERNAME\\IdeaProjects\\</code></p>\n<p>After moving the project there are no more issues and automatically rebuilding works as well.</p>\n"}],"owner":{"account_id":7514817,"reputation":81,"user_id":5708610,"display_name":"beld"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76256376,"answer_count":2,"score":0,"last_activity_date":1684170171,"creation_date":1683884902,"question_id":76235084,"body_markdown":"I&#39;m following a Spring Boot tutorial with 2 simple classes. This is the controller class:\r\n\r\n```java\r\npackage org.example.springbootquickstart.topic;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class TopicController {\r\n\r\n   @RequestMapping( &quot;/topics&quot; )\r\n   public List&lt;Topic&gt; getAllTopics() {\r\n      return Arrays.asList(\r\n            new Topic(&quot;123123123&quot;, &quot;Spring Framework&quot;, &quot;Spring Framework Description&quot;),\r\n            new Topic(&quot;java&quot;, &quot;Core Java&quot;, &quot;Core Java Description&quot;),\r\n            new Topic(&quot;javascript&quot;, &quot;JavaScript&quot;, &quot;JavaScript Description&quot;));\r\n   }\r\n}\r\n```\r\n\r\nThis is the Topic class:\r\n\r\n```java\r\npackage org.example.springbootquickstart.topic;\r\n\r\npublic class Topic {\r\n\r\n   private String id;\r\n   private String name;\r\n   private String description;\r\n\r\n   public Topic() {\r\n\r\n   }\r\n\r\n   public Topic( String id, String name, String description ) {\r\n      super();\r\n      this.id = id;\r\n      this.name = name;\r\n      this.description = description;\r\n   }\r\n\r\n// getters and setters ...\r\n\r\n}\r\n\r\n```\r\n\r\nThe main class is in the package `org.example.springbootquickstart`. Now, this code runs without any issues, I can see the JSON response when opening the route:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe issue is that IntelliJ shows the following error message and I can&#39;t figure out why this is the case:\r\n`Cannot access org.example.springbootquickstart.topic.Topic`\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/96vKu.png\r\n  [2]: https://i.stack.imgur.com/ilbZi.png","title":"Arrays.asList Cannot access class in same package","body":"<p>I'm following a Spring Boot tutorial with 2 simple classes. This is the controller class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example.springbootquickstart.topic;\n\nimport java.util.Arrays;\nimport java.util.List;\n\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class TopicController {\n\n   @RequestMapping( &quot;/topics&quot; )\n   public List&lt;Topic&gt; getAllTopics() {\n      return Arrays.asList(\n            new Topic(&quot;123123123&quot;, &quot;Spring Framework&quot;, &quot;Spring Framework Description&quot;),\n            new Topic(&quot;java&quot;, &quot;Core Java&quot;, &quot;Core Java Description&quot;),\n            new Topic(&quot;javascript&quot;, &quot;JavaScript&quot;, &quot;JavaScript Description&quot;));\n   }\n}\n</code></pre>\n<p>This is the Topic class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example.springbootquickstart.topic;\n\npublic class Topic {\n\n   private String id;\n   private String name;\n   private String description;\n\n   public Topic() {\n\n   }\n\n   public Topic( String id, String name, String description ) {\n      super();\n      this.id = id;\n      this.name = name;\n      this.description = description;\n   }\n\n// getters and setters ...\n\n}\n\n</code></pre>\n<p>The main class is in the package <code>org.example.springbootquickstart</code>. Now, this code runs without any issues, I can see the JSON response when opening the route:</p>\n<p><a href=\"https://i.stack.imgur.com/96vKu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/96vKu.png\" alt=\"enter image description here\" /></a></p>\n<p>The issue is that IntelliJ shows the following error message and I can't figure out why this is the case:\n<code>Cannot access org.example.springbootquickstart.topic.Topic</code></p>\n<p><a href=\"https://i.stack.imgur.com/ilbZi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ilbZi.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","ms-word","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1684151768,"post_id":76253583,"comment_id":134470170,"body_markdown":"Really a shape? The better approach would be a thick left [border line for each paragraph](https://support.microsoft.com/en-us/office/add-a-border-to-some-text-dc90dbd4-11ec-4859-91b7-a41a38e73cd3) or a thick left [page border](https://support.microsoft.com/en-us/office/add-a-border-to-a-page-82c2078a-af86-4f5a-ae2a-517164ba5801).","body":"Really a shape? The better approach would be a thick left <a href=\"https://support.microsoft.com/en-us/office/add-a-border-to-some-text-dc90dbd4-11ec-4859-91b7-a41a38e73cd3\" rel=\"nofollow noreferrer\">border line for each paragraph</a> or a thick left <a href=\"https://support.microsoft.com/en-us/office/add-a-border-to-a-page-82c2078a-af86-4f5a-ae2a-517164ba5801\" rel=\"nofollow noreferrer\">page border</a>."},{"owner":{"account_id":11317917,"reputation":51,"user_id":8299076,"display_name":"Bharath Naidu Yenumula"},"score":0,"creation_date":1684153112,"post_id":76253583,"comment_id":134470511,"body_markdown":"Hi Axel Richter. Thanks for your reply. I have checked both of your links that you have provided. The first link talks about how to set border line for each paragraph. I do not need borders for the paragraph for now. The second link talks about setting the border across the page. However i want a border only to the left side of the document as shown in the first image. Any help would be appreciated and thanks for commenting.","body":"Hi Axel Richter. Thanks for your reply. I have checked both of your links that you have provided. The first link talks about how to set border line for each paragraph. I do not need borders for the paragraph for now. The second link talks about setting the border across the page. However i want a border only to the left side of the document as shown in the first image. Any help would be appreciated and thanks for commenting."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1684153353,"post_id":76253583,"comment_id":134470577,"body_markdown":"For the borders setting left border only also is possible.","body":"For the borders setting left border only also is possible."},{"owner":{"account_id":11317917,"reputation":51,"user_id":8299076,"display_name":"Bharath Naidu Yenumula"},"score":0,"creation_date":1684154235,"post_id":76253583,"comment_id":134470799,"body_markdown":"Hi Axel Richter. Thanks again. I could now see that we can add left border to the first page of the document. Would you be kind enough to guide me how to draw left border to the first page of the word document? Any insights for you would be helpful. Thank you Axel.","body":"Hi Axel Richter. Thanks again. I could now see that we can add left border to the first page of the document. Would you be kind enough to guide me how to draw left border to the first page of the word document? Any insights for you would be helpful. Thank you Axel."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684167471,"creation_date":1684167471,"answer_id":76256053,"question_id":76253583,"body_markdown":"Using a shape for what you seem to want will be very impractical. A shape must be anchored to some element and will shift if this element shifts. Also a shape will either be before or behind the text. So either text will overlap the shape or the shape will overlap text.\r\n\r\nThe better approach is using a left page border as shown in [Add a border to a page](https://support.microsoft.com/en-us/office/add-a-border-to-a-page-82c2078a-af86-4f5a-ae2a-517164ba5801).\r\n\r\nUnfortunately Apache POI does not support this using the high level `XWPF` classes. But a `*.docx` is simply a ZIP archive and so one can simple unzip that file to have a look into it. So create a page border using Microsoft Word GUI. Then save as `*.docx`. Then open as ZIP archive and look into `/word/document.xml`. You will see something like:\r\n\r\n    ...\r\n    &lt;w:sectPr&gt;\r\n     &lt;w:pgSz w:w=&quot;12240&quot; w:h=&quot;15840&quot;/&gt;\r\n     &lt;w:pgMar w:left=&quot;1440&quot; w:right=&quot;1440&quot;/&gt;\r\n     ...\r\n     &lt;w:pgBorders w:display=&quot;firstPage&quot;&gt;\r\n      &lt;w:left w:val=&quot;single&quot; w:sz=&quot;48&quot; w:space=&quot;4&quot; w:color=&quot;FFB000&quot;/&gt;\r\n     &lt;/w:pgBorders&gt;\r\n     ...\r\n    &lt;/w:sectPr&gt;\r\n    ...\r\n\r\nThis are section properties having page settings and page border settings.\r\n\r\nNow you can create that using the low level `org.openxmlformats.schemas.wordprocessingml.x2006.main.*` classes. \r\n\r\nTo get some API documentation for this, download `poi-ooxml-full-5.*-sources.jar`, unzip this and do `javadoc` from the sources.\r\n\r\nMinimal complete example:\r\n\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    \r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.*;\r\n    \r\n    import java.math.BigInteger;\r\n    \r\n    public class CreateWordPageBorder {\r\n         \r\n     static void setDefaultPageSettings(XWPFDocument doc, int pageWidth, int pageHeight, int pageLeftMargin , int pageRightMargin) {\r\n      CTDocument1 document1 = doc.getDocument();\r\n      CTBody body = document1.getBody();\r\n      CTSectPr sectPr = body.getSectPr();\r\n      if (sectPr == null) sectPr = doc.getDocument().getBody().addNewSectPr();\r\n      if (sectPr.isSetPgSz()) sectPr.unsetPgSz();\r\n      CTPageSz pageSz = sectPr.addNewPgSz();\r\n      pageSz.setW(BigInteger.valueOf(pageWidth));\r\n      pageSz.setH(BigInteger.valueOf(pageHeight));\r\n      CTPageMar pageMar = sectPr.addNewPgMar();\r\n      pageMar.setLeft(BigInteger.valueOf(pageLeftMargin)); \r\n      pageMar.setRight(BigInteger.valueOf(pageRightMargin));\r\n     }\r\n    \r\n     static void setLeftPageBorderFirstPage(XWPFDocument doc, int size, String color) {\r\n      CTDocument1 document1 = doc.getDocument();\r\n      CTBody body = document1.getBody();\r\n      CTSectPr sectPr = body.getSectPr();\r\n      if (sectPr == null) return; // there must be section properties (page settings) already\r\n      if (sectPr.isSetPgBorders()) sectPr.unsetPgBorders();\r\n      CTPageBorders pageBorders = sectPr.addNewPgBorders();\r\n      pageBorders.setDisplay​(STPageBorderDisplay.FIRST_PAGE); //LibreOffice will not support this\r\n      CTPageBorder pageBorder = pageBorders.addNewLeft();\r\n      pageBorder.setVal​(STBorder.SINGLE);\r\n      pageBorder.setSz​(BigInteger.valueOf(size));\r\n      pageBorder.setSpace​(BigInteger.valueOf(4));\r\n      pageBorder.setColor​(color);\r\n     }\r\n     \r\n     public static void main(String[] args) throws Exception {\r\n         \r\n      int TWIPS_PER_INCH = 1440;\r\n      \r\n      try (\r\n       XWPFDocument doc = new XWPFDocument();\r\n       FileOutputStream out = new FileOutputStream(&quot;./CreateWordPageBorder.docx&quot;);\r\n       ) {\r\n           \r\n       int pageWidth = (int)Math.round(8.5 * TWIPS_PER_INCH); // page size letter\r\n       int pageHeight = (int)Math.round(11 * TWIPS_PER_INCH); // page size letter\r\n       int pageLeftMargin = (int)Math.round(1 * TWIPS_PER_INCH);\r\n       int pageRightMargin = (int)Math.round(1 * TWIPS_PER_INCH);\r\n    \r\n       setDefaultPageSettings(doc, pageWidth, pageHeight, pageLeftMargin, pageRightMargin);\r\n       \r\n       setLeftPageBorderFirstPage(doc, 48, &quot;FFB000&quot;);\r\n       \r\n       // the body content\r\n       XWPFParagraph paragraph = doc.createParagraph();\r\n       XWPFRun run = paragraph.createRun();  \r\n       run.setText(&quot;The Body... lorem ipsum...&quot;);\r\n       \r\n       paragraph = doc.createParagraph();\r\n       run = paragraph.createRun();  \r\n       run.addBreak(BreakType.PAGE);\r\n    \r\n       paragraph = doc.createParagraph();\r\n      \r\n       doc.write(out);\r\n       \r\n      }\r\n     }\r\n    }\r\n\r\n\r\n\r\n","title":"Add a shape to word document by overlapping with present paragraphs","body":"<p>Using a shape for what you seem to want will be very impractical. A shape must be anchored to some element and will shift if this element shifts. Also a shape will either be before or behind the text. So either text will overlap the shape or the shape will overlap text.</p>\n<p>The better approach is using a left page border as shown in <a href=\"https://support.microsoft.com/en-us/office/add-a-border-to-a-page-82c2078a-af86-4f5a-ae2a-517164ba5801\" rel=\"nofollow noreferrer\">Add a border to a page</a>.</p>\n<p>Unfortunately Apache POI does not support this using the high level <code>XWPF</code> classes. But a <code>*.docx</code> is simply a ZIP archive and so one can simple unzip that file to have a look into it. So create a page border using Microsoft Word GUI. Then save as <code>*.docx</code>. Then open as ZIP archive and look into <code>/word/document.xml</code>. You will see something like:</p>\n<pre><code>...\n&lt;w:sectPr&gt;\n &lt;w:pgSz w:w=&quot;12240&quot; w:h=&quot;15840&quot;/&gt;\n &lt;w:pgMar w:left=&quot;1440&quot; w:right=&quot;1440&quot;/&gt;\n ...\n &lt;w:pgBorders w:display=&quot;firstPage&quot;&gt;\n  &lt;w:left w:val=&quot;single&quot; w:sz=&quot;48&quot; w:space=&quot;4&quot; w:color=&quot;FFB000&quot;/&gt;\n &lt;/w:pgBorders&gt;\n ...\n&lt;/w:sectPr&gt;\n...\n</code></pre>\n<p>This are section properties having page settings and page border settings.</p>\n<p>Now you can create that using the low level <code>org.openxmlformats.schemas.wordprocessingml.x2006.main.*</code> classes.</p>\n<p>To get some API documentation for this, download <code>poi-ooxml-full-5.*-sources.jar</code>, unzip this and do <code>javadoc</code> from the sources.</p>\n<p>Minimal complete example:</p>\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.xwpf.usermodel.*;\n\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.*;\n\nimport java.math.BigInteger;\n\npublic class CreateWordPageBorder {\n     \n static void setDefaultPageSettings(XWPFDocument doc, int pageWidth, int pageHeight, int pageLeftMargin , int pageRightMargin) {\n  CTDocument1 document1 = doc.getDocument();\n  CTBody body = document1.getBody();\n  CTSectPr sectPr = body.getSectPr();\n  if (sectPr == null) sectPr = doc.getDocument().getBody().addNewSectPr();\n  if (sectPr.isSetPgSz()) sectPr.unsetPgSz();\n  CTPageSz pageSz = sectPr.addNewPgSz();\n  pageSz.setW(BigInteger.valueOf(pageWidth));\n  pageSz.setH(BigInteger.valueOf(pageHeight));\n  CTPageMar pageMar = sectPr.addNewPgMar();\n  pageMar.setLeft(BigInteger.valueOf(pageLeftMargin)); \n  pageMar.setRight(BigInteger.valueOf(pageRightMargin));\n }\n\n static void setLeftPageBorderFirstPage(XWPFDocument doc, int size, String color) {\n  CTDocument1 document1 = doc.getDocument();\n  CTBody body = document1.getBody();\n  CTSectPr sectPr = body.getSectPr();\n  if (sectPr == null) return; // there must be section properties (page settings) already\n  if (sectPr.isSetPgBorders()) sectPr.unsetPgBorders();\n  CTPageBorders pageBorders = sectPr.addNewPgBorders();\n  pageBorders.setDisplay​(STPageBorderDisplay.FIRST_PAGE); //LibreOffice will not support this\n  CTPageBorder pageBorder = pageBorders.addNewLeft();\n  pageBorder.setVal​(STBorder.SINGLE);\n  pageBorder.setSz​(BigInteger.valueOf(size));\n  pageBorder.setSpace​(BigInteger.valueOf(4));\n  pageBorder.setColor​(color);\n }\n \n public static void main(String[] args) throws Exception {\n     \n  int TWIPS_PER_INCH = 1440;\n  \n  try (\n   XWPFDocument doc = new XWPFDocument();\n   FileOutputStream out = new FileOutputStream(&quot;./CreateWordPageBorder.docx&quot;);\n   ) {\n       \n   int pageWidth = (int)Math.round(8.5 * TWIPS_PER_INCH); // page size letter\n   int pageHeight = (int)Math.round(11 * TWIPS_PER_INCH); // page size letter\n   int pageLeftMargin = (int)Math.round(1 * TWIPS_PER_INCH);\n   int pageRightMargin = (int)Math.round(1 * TWIPS_PER_INCH);\n\n   setDefaultPageSettings(doc, pageWidth, pageHeight, pageLeftMargin, pageRightMargin);\n   \n   setLeftPageBorderFirstPage(doc, 48, &quot;FFB000&quot;);\n   \n   // the body content\n   XWPFParagraph paragraph = doc.createParagraph();\n   XWPFRun run = paragraph.createRun();  \n   run.setText(&quot;The Body... lorem ipsum...&quot;);\n   \n   paragraph = doc.createParagraph();\n   run = paragraph.createRun();  \n   run.addBreak(BreakType.PAGE);\n\n   paragraph = doc.createParagraph();\n  \n   doc.write(out);\n   \n  }\n }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11317917,"reputation":51,"user_id":8299076,"display_name":"Bharath Naidu Yenumula"},"score":0,"creation_date":1684233559,"post_id":76256304,"comment_id":134484565,"body_markdown":"Hi Axel Richter. This is exactly what i need. Thanks a lot.","body":"Hi Axel Richter. This is exactly what i need. Thanks a lot."},{"owner":{"account_id":11317917,"reputation":51,"user_id":8299076,"display_name":"Bharath Naidu Yenumula"},"score":0,"creation_date":1684402614,"post_id":76256304,"comment_id":134513888,"body_markdown":"Hi @Axel Richter. Any chance of creating a shape without paragraph? I am trying to draw a shape that starts at the end of header and ends at the start of footer. The above code that you have provided works fine but the shape color is slightly light since we created a paragraph in the header. Thanks again.","body":"Hi @Axel Richter. Any chance of creating a shape without paragraph? I am trying to draw a shape that starts at the end of header and ends at the start of footer. The above code that you have provided works fine but the shape color is slightly light since we created a paragraph in the header. Thanks again."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1684421193,"post_id":76256304,"comment_id":134517711,"body_markdown":"@Bharath Naidu Yenumula: &quot;but the shape color is slightly light since we created a paragraph in the header&quot;: It is light because and as long the header is not focused. It is light to show that it is not focused. It is light only in GUI. It will be normal colored elsewhere, when printed, exported to PDF, ...","body":"@Bharath Naidu Yenumula: &quot;but the shape color is slightly light since we created a paragraph in the header&quot;: It is light because and as long the header is not focused. It is light to show that it is not focused. It is light only in GUI. It will be normal colored elsewhere, when printed, exported to PDF, ..."},{"owner":{"account_id":11317917,"reputation":51,"user_id":8299076,"display_name":"Bharath Naidu Yenumula"},"score":0,"creation_date":1685009966,"post_id":76256304,"comment_id":134602283,"body_markdown":"Hi  @Axel Richter. Is there any way to remove the black border around the shape in the above code? Thanks.","body":"Hi  @Axel Richter. Is there any way to remove the black border around the shape in the above code? Thanks."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1685014917,"post_id":76256304,"comment_id":134603359,"body_markdown":"@Bharath Naidu Yenumula: Have you tried to get `javadoc` from `/com/microsoft/schemas/vml`? If so you will find `com.microsoft.schemas.vml.CTRect` has a property `stroked`: `ctRect.setStroked(org.openxmlformats.schemas.officeDocument.x2006.sharedTypes.STTrueFalse.FALSE);`.","body":"@Bharath Naidu Yenumula: Have you tried to get <code>javadoc</code> from <code>&#47;com&#47;microsoft&#47;schemas&#47;vml</code>? If so you will find <code>com.microsoft.schemas.vml.CTRect</code> has a property <code>stroked</code>: <code>ctRect.setStroked(org.openxmlformats.schemas.officeDocument.&zwnj;&#8203;x2006.sharedTypes.ST&zwnj;&#8203;TrueFalse.FALSE);</code>."}],"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684169958,"creation_date":1684169586,"answer_id":76256304,"question_id":76253583,"body_markdown":"Using shapes in Apache POI `XWPF` is not really supported. And there are many compatibility problems using shapes in Microsoft Word. The most compatible approach will be using VML-shapes. This is what Microsoft Word had used up to Word 2007.\r\n\r\nTo solve what you seems to want, I would take the VML-shape outside the document body into the first page header. So the shape is outside the document body and so protected from changes within the document body.\r\n\r\nMinimal complete example:\r\n\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    import org.apache.poi.wp.usermodel.HeaderFooterType;\r\n    \r\n    public class CreateWordHeaderFirstPageWithShape {\r\n        \r\n     private static void createRectShape(XWPFParagraph paragraph, String fillcolor, String style) throws Exception {\r\n      XWPFRun run = paragraph.createRun(); \r\n      com.microsoft.schemas.vml.CTGroup ctGroup = com.microsoft.schemas.vml.CTGroup.Factory.newInstance();\r\n      com.microsoft.schemas.vml.CTRect ctRect = ctGroup.addNewRect();\r\n      ctRect.setStyle(style);\r\n      ctRect.setFillcolor(fillcolor);\r\n         \r\n      org.w3c.dom.Node ctGroupNode = ctGroup.getDomNode(); \r\n      org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPicture ctPicture = \r\n       org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPicture.Factory.parse(ctGroupNode);\r\n      org.openxmlformats.schemas.wordprocessingml.x2006.main.CTR cTR = run.getCTR();\r\n      cTR.addNewPict();\r\n      cTR.setPictArray(0, ctPicture);  \r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      try (\r\n       XWPFDocument doc = new XWPFDocument();\r\n       FileOutputStream out = new FileOutputStream(&quot;./CreateWordHeaderFirstPageWithShape.docx&quot;);\r\n       ) {\r\n           \r\n       // create header\r\n       XWPFHeader header = doc.createHeader(HeaderFooterType.FIRST);\r\n       XWPFParagraph paragraph = header.createParagraph();\r\n       createRectShape(paragraph, \r\n        &quot;#FFB000&quot;, \r\n        &quot;position:absolute;left:-10pt;top:30pt;width:10pt;height:700pt&quot;);\r\n    \r\n       // the body content\r\n       paragraph = doc.createParagraph();\r\n       XWPFRun run = paragraph.createRun();  \r\n       run.setText(&quot;The Body... lorem ipsum...&quot;);\r\n       \r\n       paragraph = doc.createParagraph();\r\n       run = paragraph.createRun();  \r\n       run.addBreak(BreakType.PAGE);\r\n    \r\n       paragraph = doc.createParagraph();\r\n      \r\n       doc.write(out);\r\n       \r\n      }\r\n     }\r\n    }\r\n\r\nTo get some API documentation for this, download `poi-ooxml-full-5.*-sources.jar` and unzip this.  It contains `/com/microsoft/schemas/vml`. Then do `javadoc` from the sources in `-subpackages com`.\r\n","title":"Add a shape to word document by overlapping with present paragraphs","body":"<p>Using shapes in Apache POI <code>XWPF</code> is not really supported. And there are many compatibility problems using shapes in Microsoft Word. The most compatible approach will be using VML-shapes. This is what Microsoft Word had used up to Word 2007.</p>\n<p>To solve what you seems to want, I would take the VML-shape outside the document body into the first page header. So the shape is outside the document body and so protected from changes within the document body.</p>\n<p>Minimal complete example:</p>\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.xwpf.usermodel.*;\nimport org.apache.poi.wp.usermodel.HeaderFooterType;\n\npublic class CreateWordHeaderFirstPageWithShape {\n    \n private static void createRectShape(XWPFParagraph paragraph, String fillcolor, String style) throws Exception {\n  XWPFRun run = paragraph.createRun(); \n  com.microsoft.schemas.vml.CTGroup ctGroup = com.microsoft.schemas.vml.CTGroup.Factory.newInstance();\n  com.microsoft.schemas.vml.CTRect ctRect = ctGroup.addNewRect();\n  ctRect.setStyle(style);\n  ctRect.setFillcolor(fillcolor);\n     \n  org.w3c.dom.Node ctGroupNode = ctGroup.getDomNode(); \n  org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPicture ctPicture = \n   org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPicture.Factory.parse(ctGroupNode);\n  org.openxmlformats.schemas.wordprocessingml.x2006.main.CTR cTR = run.getCTR();\n  cTR.addNewPict();\n  cTR.setPictArray(0, ctPicture);  \n }\n\n public static void main(String[] args) throws Exception {\n\n  try (\n   XWPFDocument doc = new XWPFDocument();\n   FileOutputStream out = new FileOutputStream(&quot;./CreateWordHeaderFirstPageWithShape.docx&quot;);\n   ) {\n       \n   // create header\n   XWPFHeader header = doc.createHeader(HeaderFooterType.FIRST);\n   XWPFParagraph paragraph = header.createParagraph();\n   createRectShape(paragraph, \n    &quot;#FFB000&quot;, \n    &quot;position:absolute;left:-10pt;top:30pt;width:10pt;height:700pt&quot;);\n\n   // the body content\n   paragraph = doc.createParagraph();\n   XWPFRun run = paragraph.createRun();  \n   run.setText(&quot;The Body... lorem ipsum...&quot;);\n   \n   paragraph = doc.createParagraph();\n   run = paragraph.createRun();  \n   run.addBreak(BreakType.PAGE);\n\n   paragraph = doc.createParagraph();\n  \n   doc.write(out);\n   \n  }\n }\n}\n</code></pre>\n<p>To get some API documentation for this, download <code>poi-ooxml-full-5.*-sources.jar</code> and unzip this.  It contains <code>/com/microsoft/schemas/vml</code>. Then do <code>javadoc</code> from the sources in <code>-subpackages com</code>.</p>\n"}],"owner":{"account_id":11317917,"reputation":51,"user_id":8299076,"display_name":"Bharath Naidu Yenumula"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76256304,"answer_count":2,"score":0,"last_activity_date":1684169958,"creation_date":1684149962,"question_id":76253583,"body_markdown":"I am trying to build a document using apache POI. The starting page of the document should have a rectangular shape(vertical) to the left of the document[![output should be like this][1]][1]\r\n\r\n\r\nBefore asking for help let me tell you what all I tried. I have tried to create a paragraph and add this shape to it(I have taken the screenshot of the shape and tried to add it to the paragraph). But there are multiple paragraphs in the page, so the image is overlapping the remaining paragraphs and giving me the shape for the paragraph[![Overlapped shape][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X9Krl.png\r\n  [2]: https://i.stack.imgur.com/gzmvf.png\r\nI want the similar shape to be on the left side of the document from start of the page to the end of the page. I am new to web application development and any help would be appreciated.","title":"Add a shape to word document by overlapping with present paragraphs","body":"<p>I am trying to build a document using apache POI. The starting page of the document should have a rectangular shape(vertical) to the left of the document<a href=\"https://i.stack.imgur.com/X9Krl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X9Krl.png\" alt=\"output should be like this\" /></a></p>\n<p>Before asking for help let me tell you what all I tried. I have tried to create a paragraph and add this shape to it(I have taken the screenshot of the shape and tried to add it to the paragraph). But there are multiple paragraphs in the page, so the image is overlapping the remaining paragraphs and giving me the shape for the paragraph<a href=\"https://i.stack.imgur.com/gzmvf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gzmvf.png\" alt=\"Overlapped shape\" /></a></p>\n<p>I want the similar shape to be on the left side of the document from start of the page to the end of the page. I am new to web application development and any help would be appreciated.</p>\n"},{"tags":["java","for-loop","linked-list","out-of-memory"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1684169790,"post_id":76256265,"comment_id":134474730,"body_markdown":"Removed JavaFX tag as it not relevant.","body":"Removed JavaFX tag as it not relevant."},{"owner":{"account_id":28606761,"reputation":5,"user_id":21902556,"display_name":"KimetsuVentex"},"score":0,"creation_date":1684169839,"post_id":76256265,"comment_id":134474740,"body_markdown":"thanks a lot!\nadding a break is indeed the answer, i feels so stupid overlooking this.","body":"thanks a lot! adding a break is indeed the answer, i feels so stupid overlooking this."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1684169904,"post_id":76256265,"comment_id":134474756,"body_markdown":"Actually, adding a `break` is not a particularly good solution. See answer.","body":"Actually, adding a <code>break</code> is not a particularly good solution. See answer."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684169748,"creation_date":1684169748,"answer_id":76256324,"question_id":76256265,"body_markdown":"The problem arises because you don&#39;t terminate the loop when there are no more spaces in the string.\r\n\r\nWhen this happens, as your code acknowledges with the `if (emptySpace != -1)` clause, `emptySpace` will be `-1`. The loop modification clause `x = emptySpace + 1` then sets `x` to `0`, and the process starts from the beginning of the string. Consequently, you just add elements to the list indefinitely.\r\n\r\nThis is a good example of trying to reinvent potentially tricky algorithms that are already implemented by the API. You should always use API methods where possible. [`String.split()`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#split(java.lang.String)) already implements splitting a string into parts at a delimiter:\r\n\r\n    public void stringtoInteger(String strInput) {\r\n        for (String str : strInput.split(&quot; &quot;)) {\r\n            inputList.add(Integer.parseInt(str.trim())); // Convert the substring to an integer and add it to the LinkedList.\r\n        }\r\n    }","title":"Java / JavaFX - java.lang.OutOfMemoryError in a short and relatively simple programm","body":"<p>The problem arises because you don't terminate the loop when there are no more spaces in the string.</p>\n<p>When this happens, as your code acknowledges with the <code>if (emptySpace != -1)</code> clause, <code>emptySpace</code> will be <code>-1</code>. The loop modification clause <code>x = emptySpace + 1</code> then sets <code>x</code> to <code>0</code>, and the process starts from the beginning of the string. Consequently, you just add elements to the list indefinitely.</p>\n<p>This is a good example of trying to reinvent potentially tricky algorithms that are already implemented by the API. You should always use API methods where possible. <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\"><code>String.split()</code></a> already implements splitting a string into parts at a delimiter:</p>\n<pre><code>public void stringtoInteger(String strInput) {\n    for (String str : strInput.split(&quot; &quot;)) {\n        inputList.add(Integer.parseInt(str.trim())); // Convert the substring to an integer and add it to the LinkedList.\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28606761,"reputation":5,"user_id":21902556,"display_name":"KimetsuVentex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76256324,"answer_count":1,"score":0,"last_activity_date":1684169776,"creation_date":1684169290,"question_id":76256265,"body_markdown":"I am currently working on a JavaFX application and am trying to implement a function that converts a string of any length, which contains numbers separated by empty spaces, into integers. I am pretty sure the function I wrote should work, although for some reason, I am getting &quot;java.lang.OutOfMemoryError&quot; errors.\r\n\r\nI am using Java and JavaFX version 17!\r\n\r\n\r\nMy Function:\r\n```\r\n// Create an empty LinkedList to store the converted integers.\r\nLinkedList&lt;Integer&gt; inputList = new LinkedList&lt;&gt;();\r\n\r\n\r\npublic void StringtoInteger(String strInput) {\r\n    int emptySpace = 0; // This variable keeps track of the index of the empty space.\r\n    int endString = strInput.length(); // The size of the input string.\r\n    String str; // Temporary string variable to hold substrings.\r\n\r\n    // Iterate over the input string to extract substrings.\r\n    for(int x=0; x&lt;endString; x = emptySpace + 1) {\r\n        emptySpace = strInput.indexOf(&quot; &quot;, x); // Find the index of the next empty space.\r\n\r\n        if (emptySpace != -1) {\r\n            str = strInput.substring(x, emptySpace); // Extract the substring from the start to the empty space.\r\n        } else {\r\n            str = strInput.substring(x); // If no empty space is found, extract the remaining substring.\r\n        }\r\n\r\n        inputList.add(Integer.parseInt(str.trim())); // Convert the substring to an integer and add it to the LinkedList.\r\n    }\r\n}\r\n```\r\n\r\nMy Main is as follows:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    String testHeap = &quot;5 6 1 7 12 21 58&quot;;\r\n    StringtoInteger(testHeap);\r\n    System.out.println(inputList);\r\n}\r\n```\r\n\r\nThe full Error message is as follows\r\n\r\n```\r\nERROR!\r\nException in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n\tat java.base/java.util.Arrays.copyOfRange(Arrays.java:4030)\r\nat java.base/java.lang.StringLatin1.newString(StringLatin1.java:715)\r\n\tat java.base/java.lang.String.substring(String.java:1879)\r\n\tat ExampleClass.stringToInteger(ExampleClass.java:15)\r\n\tat ExampleClass.main(ExampleClass.java:26)\r\n```\r\n\r\n\r\nI tried reallocating the memory my program uses, but it just keeps crashing or showing me the error.\r\nIf I run the program in IntelliJ, it crashes. If I run the function explicitly in a separate Java environment, it shows the error message.\r\n\r\nThanks for any help beforehand.","title":"Java / JavaFX - java.lang.OutOfMemoryError in a short and relatively simple programm","body":"<p>I am currently working on a JavaFX application and am trying to implement a function that converts a string of any length, which contains numbers separated by empty spaces, into integers. I am pretty sure the function I wrote should work, although for some reason, I am getting &quot;java.lang.OutOfMemoryError&quot; errors.</p>\n<p>I am using Java and JavaFX version 17!</p>\n<p>My Function:</p>\n<pre><code>// Create an empty LinkedList to store the converted integers.\nLinkedList&lt;Integer&gt; inputList = new LinkedList&lt;&gt;();\n\n\npublic void StringtoInteger(String strInput) {\n    int emptySpace = 0; // This variable keeps track of the index of the empty space.\n    int endString = strInput.length(); // The size of the input string.\n    String str; // Temporary string variable to hold substrings.\n\n    // Iterate over the input string to extract substrings.\n    for(int x=0; x&lt;endString; x = emptySpace + 1) {\n        emptySpace = strInput.indexOf(&quot; &quot;, x); // Find the index of the next empty space.\n\n        if (emptySpace != -1) {\n            str = strInput.substring(x, emptySpace); // Extract the substring from the start to the empty space.\n        } else {\n            str = strInput.substring(x); // If no empty space is found, extract the remaining substring.\n        }\n\n        inputList.add(Integer.parseInt(str.trim())); // Convert the substring to an integer and add it to the LinkedList.\n    }\n}\n</code></pre>\n<p>My Main is as follows:</p>\n<pre><code>public static void main(String[] args) {\n    String testHeap = &quot;5 6 1 7 12 21 58&quot;;\n    StringtoInteger(testHeap);\n    System.out.println(inputList);\n}\n</code></pre>\n<p>The full Error message is as follows</p>\n<pre><code>ERROR!\nException in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\n    at java.base/java.util.Arrays.copyOfRange(Arrays.java:4030)\nat java.base/java.lang.StringLatin1.newString(StringLatin1.java:715)\n    at java.base/java.lang.String.substring(String.java:1879)\n    at ExampleClass.stringToInteger(ExampleClass.java:15)\n    at ExampleClass.main(ExampleClass.java:26)\n</code></pre>\n<p>I tried reallocating the memory my program uses, but it just keeps crashing or showing me the error.\nIf I run the program in IntelliJ, it crashes. If I run the function explicitly in a separate Java environment, it shows the error message.</p>\n<p>Thanks for any help beforehand.</p>\n"},{"tags":["java","spring","jwt","jhipster","feign"],"comments":[{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1598597824,"post_id":63624910,"comment_id":112516280,"body_markdown":"Your title talks about FeignClient but you show only code from server. Why did you modify the code of the receiver endpoint, the default security configuration from JHipster  should require a JWT, no change needed; Only the caller should be changed. How do you retrieve the token in caller, with `SecurityUtils.getCurrentUserJWT()` ? Did you test your endpoint with swagger  or curl?","body":"Your title talks about FeignClient but you show only code from server. Why did you modify the code of the receiver endpoint, the default security configuration from JHipster  should require a JWT, no change needed; Only the caller should be changed. How do you retrieve the token in caller, with <code>SecurityUtils.getCurrentUserJWT()</code> ? Did you test your endpoint with swagger  or curl?"}],"answers":[{"tags":[],"owner":{"account_id":18191790,"reputation":1488,"user_id":13237531,"display_name":"Vladimir Stanciu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684168923,"creation_date":1598597119,"answer_id":63628796,"question_id":63624910,"body_markdown":"Should work like this `@RequestHeader(value = &quot;Authorization&quot;) String authorization`, but make sure you pass the right value, must be something like `Bearer token`.","title":"add Authorization token using Feign client","body":"<p>Should work like this <code>@RequestHeader(value = &quot;Authorization&quot;) String authorization</code>, but make sure you pass the right value, must be something like <code>Bearer token</code>.</p>\n"},{"comments":[{"owner":{"account_id":12711139,"reputation":373,"user_id":11697033,"display_name":"whatspoppin"},"score":0,"creation_date":1598604118,"post_id":63629107,"comment_id":112518797,"body_markdown":"Thank you this is what I was missing","body":"Thank you this is what I was missing"}],"tags":[],"owner":{"account_id":12982621,"reputation":443,"user_id":9384494,"display_name":"Tushar Jajodia"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598598708,"creation_date":1598598708,"answer_id":63629107,"question_id":63624910,"body_markdown":"Your this code is absolutely correct.    \r\n \r\n\r\n        @GetMapping(&quot;/api/users/find&quot;)\r\n        Optional&lt;UserDTO&gt; findUserByEmail(\r\n        @RequestHeaders(&quot;Authorization&quot;) String token, @RequestParam(&quot;email&quot;) String email);\r\n\r\nJust when you are calling this particular method add &quot;Bearer &quot; in front of the value of the token\r\n\r\n    token = &quot;Bearer &quot; + token;\r\n    findUserByEmail(token,email);\r\n\r\n\r\n","title":"add Authorization token using Feign client","body":"<p>Your this code is absolutely correct.</p>\n<pre><code>    @GetMapping(&quot;/api/users/find&quot;)\n    Optional&lt;UserDTO&gt; findUserByEmail(\n    @RequestHeaders(&quot;Authorization&quot;) String token, @RequestParam(&quot;email&quot;) String email);\n</code></pre>\n<p>Just when you are calling this particular method add &quot;Bearer &quot; in front of the value of the token</p>\n<pre><code>token = &quot;Bearer &quot; + token;\nfindUserByEmail(token,email);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":938323,"reputation":348,"user_id":7393841,"display_name":"Deepu George Jacob"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676838222,"creation_date":1676838222,"answer_id":75503200,"question_id":63624910,"body_markdown":"Create Header like this and pass to your feign client\r\n\r\n```\r\nprivate HttpHeaders getHeaders(final HttpServletRequest httpServletRequest) {\r\n        final HttpHeaders headers = new HttpHeaders();\r\n        headers.add(&quot;authorization&quot;, httpServletRequest.getHeader(&quot;authorization&quot;));\r\n        return headers;\r\n```\r\n\r\n[Example 1](https://github.com/DeepuGeorgeJacob1/school-management/blob/main/docs/FeignClientJDBCUserSecurityS1.md)\r\n\r\nOr very simple add intercepter\r\n\r\n```\r\n@Component\r\npublic class AuthFeignInterceptor implements RequestInterceptor {\r\n\r\n    @Override\r\n    public void apply(RequestTemplate template) {\r\n        final RequestAttributes requestAttributes = RequestContextHolder.getRequestAttributes();\r\n        if (requestAttributes != null) {\r\n            final HttpServletRequest httpServletRequest = ((ServletRequestAttributes) requestAttributes).getRequest();\r\n            template.header(HttpHeaders.AUTHORIZATION, httpServletRequest.getHeader(HttpHeaders.AUTHORIZATION));\r\n        }\r\n    }\r\n}\r\n``` \r\n\r\n[Example 2](https://github.com/DeepuGeorgeJacob1/school-management/blob/main/docs/FeignClientJDBCUserSecurityS2.md)","title":"add Authorization token using Feign client","body":"<p>Create Header like this and pass to your feign client</p>\n<pre><code>private HttpHeaders getHeaders(final HttpServletRequest httpServletRequest) {\n        final HttpHeaders headers = new HttpHeaders();\n        headers.add(&quot;authorization&quot;, httpServletRequest.getHeader(&quot;authorization&quot;));\n        return headers;\n</code></pre>\n<p><a href=\"https://github.com/DeepuGeorgeJacob1/school-management/blob/main/docs/FeignClientJDBCUserSecurityS1.md\" rel=\"nofollow noreferrer\">Example 1</a></p>\n<p>Or very simple add intercepter</p>\n<pre><code>@Component\npublic class AuthFeignInterceptor implements RequestInterceptor {\n\n    @Override\n    public void apply(RequestTemplate template) {\n        final RequestAttributes requestAttributes = RequestContextHolder.getRequestAttributes();\n        if (requestAttributes != null) {\n            final HttpServletRequest httpServletRequest = ((ServletRequestAttributes) requestAttributes).getRequest();\n            template.header(HttpHeaders.AUTHORIZATION, httpServletRequest.getHeader(HttpHeaders.AUTHORIZATION));\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://github.com/DeepuGeorgeJacob1/school-management/blob/main/docs/FeignClientJDBCUserSecurityS2.md\" rel=\"nofollow noreferrer\">Example 2</a></p>\n"}],"owner":{"account_id":12711139,"reputation":373,"user_id":11697033,"display_name":"whatspoppin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1704,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63628796,"answer_count":3,"score":2,"last_activity_date":1684168923,"creation_date":1598566972,"question_id":63624910,"body_markdown":"I have two service connected to a registry, one of them need to query some data from the other, the token need to be passed to the endpoint.\r\n\r\nI Have tried the following but it didn&#39;t work, the endpoint act as if no token is provided.\r\n\r\n```\r\n    @GetMapping(&quot;/api/users/find&quot;)\r\n    @Headers(&quot;Authorization: Bearer {token}&quot;)\r\n    Optional&lt;UserDTO&gt; findUserByEmail(\r\n        @Param(&quot;token&quot;) String token, @RequestParam(&quot;email&quot;) String email);\r\n```\r\n\r\n```\r\n    @GetMapping(&quot;/api/users/find&quot;)\r\n    Optional&lt;UserDTO&gt; findUserByEmail(\r\n        @RequestHeaders(&quot;Authorization&quot;) String token, @RequestParam(&quot;email&quot;) String email);\r\n```\r\n```\r\n    @GetMapping(&quot;/api/users/find&quot;)\r\n    Optional&lt;UserDTO&gt; findUserByEmail(\r\n        @HeaderMap Map&lt;String, Object&gt; headers , @RequestParam(&quot;email&quot;) String email);\r\n```","title":"add Authorization token using Feign client","body":"<p>I have two service connected to a registry, one of them need to query some data from the other, the token need to be passed to the endpoint.</p>\n<p>I Have tried the following but it didn't work, the endpoint act as if no token is provided.</p>\n<pre><code>    @GetMapping(&quot;/api/users/find&quot;)\n    @Headers(&quot;Authorization: Bearer {token}&quot;)\n    Optional&lt;UserDTO&gt; findUserByEmail(\n        @Param(&quot;token&quot;) String token, @RequestParam(&quot;email&quot;) String email);\n</code></pre>\n<pre><code>    @GetMapping(&quot;/api/users/find&quot;)\n    Optional&lt;UserDTO&gt; findUserByEmail(\n        @RequestHeaders(&quot;Authorization&quot;) String token, @RequestParam(&quot;email&quot;) String email);\n</code></pre>\n<pre><code>    @GetMapping(&quot;/api/users/find&quot;)\n    Optional&lt;UserDTO&gt; findUserByEmail(\n        @HeaderMap Map&lt;String, Object&gt; headers , @RequestParam(&quot;email&quot;) String email);\n</code></pre>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":28606755,"reputation":1,"user_id":21902550,"display_name":"DanutSRL"},"score":0,"creation_date":1684169217,"post_id":76256216,"comment_id":134474594,"body_markdown":"I changed but still the same error","body":"I changed but still the same error"},{"owner":{"account_id":11740419,"reputation":32,"user_id":8592937,"display_name":"Ivan Stefner"},"score":0,"creation_date":1684169925,"post_id":76256216,"comment_id":134474762,"body_markdown":"ok, try this \n@Query(value = &quot;select * from product WHERE product.id NOT IN( select product_id FROM orders WHERE from_date = :fromDate and to_date = :toDate)&quot;, nativeQuery = true )\nand check if the product table has the id field with the name id","body":"ok, try this  @Query(value = &quot;select * from product WHERE product.id NOT IN( select product_id FROM orders WHERE from_date = :fromDate and to_date = :toDate)&quot;, nativeQuery = true ) and check if the product table has the id field with the name id"},{"owner":{"account_id":28606755,"reputation":1,"user_id":21902550,"display_name":"DanutSRL"},"score":0,"creation_date":1684170854,"post_id":76256216,"comment_id":134474948,"body_markdown":"The query is working all perfect i tested it on postgres","body":"The query is working all perfect i tested it on postgres"}],"tags":[],"owner":{"account_id":11740419,"reputation":32,"user_id":8592937,"display_name":"Ivan Stefner"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684168845,"creation_date":1684168845,"answer_id":76256216,"question_id":76256176,"body_markdown":"you selected only the name in your query\r\n\r\n    @Query(value = &quot;select product.name from product WHERE product.id NOT IN( select product_id FROM orders WHERE from_date = :fromDate and to_date = :toDate)&quot;, nativeQuery = true )\r\n\r\ninsetead you should use\r\n\r\n    @Query(value = &quot;select product from product WHERE product.id NOT IN( select product_id FROM orders WHERE from_date = :fromDate and to_date = :toDate)&quot;, nativeQuery = true )","title":"org.postgresql.util.PSQLException: The column name id was not found in this ResultSet","body":"<p>you selected only the name in your query</p>\n<pre><code>@Query(value = &quot;select product.name from product WHERE product.id NOT IN( select product_id FROM orders WHERE from_date = :fromDate and to_date = :toDate)&quot;, nativeQuery = true )\n</code></pre>\n<p>insetead you should use</p>\n<pre><code>@Query(value = &quot;select product from product WHERE product.id NOT IN( select product_id FROM orders WHERE from_date = :fromDate and to_date = :toDate)&quot;, nativeQuery = true )\n</code></pre>\n"}],"owner":{"account_id":28606755,"reputation":1,"user_id":21902550,"display_name":"DanutSRL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684168845,"creation_date":1684168495,"question_id":76256176,"body_markdown":"Entity Product Class\r\n\r\n```\r\n@Entity(name = &quot;product&quot;)\r\n@Table(name = &quot;product&quot;)\r\npublic class Product {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Integer id;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;name&quot;)\r\n    private EProduct name;\r\n\r\n    private int priceUnit;\r\n\r\n    private int priceWeekend;\r\n\r\n   @OneToMany(mappedBy=&quot;product&quot;)\r\n   @JsonIgnore\r\n    private Set&lt;Orders&gt; orders = new HashSet&lt;&gt;();\r\n```\r\n\r\nEntity Orders Class\r\n\r\n```\r\nEntity(name = &quot;orders&quot;)\r\n@Table(name = &quot;orders&quot;)\r\npublic class Orders {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Integer id;\r\n\r\n\r\n//    @ManyToOne\r\n//    @JoinColumn(name = &quot;user_id&quot;,nullable = true)\r\n//    private User user;\r\n\r\n\r\n@ManyToOne\r\n@JoinColumn(name = &quot;product_id&quot;, nullable = true)\r\n@OnDelete(action = OnDeleteAction.CASCADE)\r\n    @ToString.Exclude\r\n    private Product product;\r\n\r\n\r\n\r\n\r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n    private LocalDate fromDate;\r\n\r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n    private LocalDate toDate;\r\n\r\n    private int totalPrice;\r\n\r\n    private boolean isPaid  = false;\r\n```\r\n\r\nProduct Repository\r\n\r\n```\r\n@Repository\r\npublic interface ProductRepository extends JpaRepository&lt;Product,Integer&gt; {\r\n\r\n  \r\n   @Query(value = &quot;select product.name from product WHERE product.id NOT IN( select product_id FROM orders WHERE from_date = :fromDate and to_date = :toDate)&quot;, nativeQuery = true )\r\n    List&lt;Product&gt; findProductsById(@DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;) @Param(&quot;fromDate&quot;) LocalDate fromDate, @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;) @Param(&quot;toDate&quot;) LocalDate toDate);\r\n\r\n```\r\n\r\nError Message\r\norg.postgresql.util.PSQLException: The column name id was not found in this ResultSet.\r\n\tat org.postgresql.jdbc.PgResultSet.findColumn(PgResultSet.java:2775) ~[postgresql-42.2.24.jar:42.2.24]\r\n\tat org.postgresql.jdbc.PgResultSet.getInt(PgResultSet.java:2653) ~[postgresql-42.2.24.jar:42.2.24]\r\n\tat com.zaxxer.hikari.pool.HikariProxyResultSet.getInt(HikariProxyResultSet.java) ~[HikariCP-4.0.3.jar:na]\r\n\tat \r\n\r\nI dont know what to do","title":"org.postgresql.util.PSQLException: The column name id was not found in this ResultSet","body":"<p>Entity Product Class</p>\n<pre><code>@Entity(name = &quot;product&quot;)\n@Table(name = &quot;product&quot;)\npublic class Product {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;name&quot;)\n    private EProduct name;\n\n    private int priceUnit;\n\n    private int priceWeekend;\n\n   @OneToMany(mappedBy=&quot;product&quot;)\n   @JsonIgnore\n    private Set&lt;Orders&gt; orders = new HashSet&lt;&gt;();\n</code></pre>\n<p>Entity Orders Class</p>\n<pre><code>Entity(name = &quot;orders&quot;)\n@Table(name = &quot;orders&quot;)\npublic class Orders {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n\n\n//    @ManyToOne\n//    @JoinColumn(name = &quot;user_id&quot;,nullable = true)\n//    private User user;\n\n\n@ManyToOne\n@JoinColumn(name = &quot;product_id&quot;, nullable = true)\n@OnDelete(action = OnDeleteAction.CASCADE)\n    @ToString.Exclude\n    private Product product;\n\n\n\n\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    private LocalDate fromDate;\n\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    private LocalDate toDate;\n\n    private int totalPrice;\n\n    private boolean isPaid  = false;\n</code></pre>\n<p>Product Repository</p>\n<pre><code>@Repository\npublic interface ProductRepository extends JpaRepository&lt;Product,Integer&gt; {\n\n  \n   @Query(value = &quot;select product.name from product WHERE product.id NOT IN( select product_id FROM orders WHERE from_date = :fromDate and to_date = :toDate)&quot;, nativeQuery = true )\n    List&lt;Product&gt; findProductsById(@DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;) @Param(&quot;fromDate&quot;) LocalDate fromDate, @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;) @Param(&quot;toDate&quot;) LocalDate toDate);\n\n</code></pre>\n<p>Error Message\norg.postgresql.util.PSQLException: The column name id was not found in this ResultSet.\nat org.postgresql.jdbc.PgResultSet.findColumn(PgResultSet.java:2775) ~[postgresql-42.2.24.jar:42.2.24]\nat org.postgresql.jdbc.PgResultSet.getInt(PgResultSet.java:2653) ~[postgresql-42.2.24.jar:42.2.24]\nat com.zaxxer.hikari.pool.HikariProxyResultSet.getInt(HikariProxyResultSet.java) ~[HikariCP-4.0.3.jar:na]\nat</p>\n<p>I dont know what to do</p>\n"},{"tags":["java","multithreading","concurrency","java.util.concurrent"],"comments":[{"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"score":3,"creation_date":1402925475,"post_id":24241335,"comment_id":37447604,"body_markdown":"That is a SchedeuledExecutorService which will be `waiting` probably most of the time.  You should look else where.  The waiting in here does not consume CPU so would not cause further performance problems.","body":"That is a SchedeuledExecutorService which will be <code>waiting</code> probably most of the time.  You should look else where.  The waiting in here does not consume CPU so would not cause further performance problems."},{"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"score":0,"creation_date":1402926092,"post_id":24241335,"comment_id":37447979,"body_markdown":"If I were a betting man, I would look at your memory usage and GC occurrence.","body":"If I were a betting man, I would look at your memory usage and GC occurrence."},{"owner":{"account_id":31546,"reputation":1641,"user_id":86723,"accept_rate":87,"display_name":"Konrad Pawlus"},"score":0,"creation_date":1403002954,"post_id":24241335,"comment_id":37480111,"body_markdown":"Ok, thanks. I enabled GC logging, will see what I can find there.","body":"Ok, thanks. I enabled GC logging, will see what I can find there."},{"owner":{"account_id":4429568,"reputation":480,"user_id":3607022,"accept_rate":62,"display_name":"user3607022"},"score":1,"creation_date":1429728699,"post_id":24241335,"comment_id":47740725,"body_markdown":"@JohnVint If you were a betting man, what would you suspect in the memory usage and GC occurance? I have a similar problem","body":"@JohnVint If you were a betting man, what would you suspect in the memory usage and GC occurance? I have a similar problem"},{"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"score":4,"creation_date":1429728885,"post_id":24241335,"comment_id":47740831,"body_markdown":"@user3607022 `GC Overhead limit reached`.  That is a clear indication your app has memory issues.  If you see that, that means the old generation is pretty much filled and can&#39;t be GC&#39;d any further.","body":"@user3607022 <code>GC Overhead limit reached</code>.  That is a clear indication your app has memory issues.  If you see that, that means the old generation is pretty much filled and can&#39;t be GC&#39;d any further."},{"owner":{"account_id":4429568,"reputation":480,"user_id":3607022,"accept_rate":62,"display_name":"user3607022"},"score":0,"creation_date":1429729020,"post_id":24241335,"comment_id":47740917,"body_markdown":"Ok, thanks for the insight. Would that possibly cause the application to hang without throwing anything?","body":"Ok, thanks for the insight. Would that possibly cause the application to hang without throwing anything?"},{"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"score":0,"creation_date":1429729133,"post_id":24241335,"comment_id":47740984,"body_markdown":"If it&#39;s nearly unresponsive you should see that particular error in the logs.  If the thread dump doesn&#39;t show anything obvious you can look at the CPU usage.  If the memory is reasonable and the CPU is low then it is probably something else.","body":"If it&#39;s nearly unresponsive you should see that particular error in the logs.  If the thread dump doesn&#39;t show anything obvious you can look at the CPU usage.  If the memory is reasonable and the CPU is low then it is probably something else."}],"answers":[{"comments":[{"owner":{"account_id":41328,"reputation":5186,"user_id":120044,"display_name":"Harold L"},"score":24,"creation_date":1458165085,"post_id":26239873,"comment_id":59743804,"body_markdown":"And it is parked because this thread is part of a thread pool for an `ExecutorService`, and it is waiting for some task to be put on the work queue via methods like `ExecutorService.submit(...)`.","body":"And it is parked because this thread is part of a thread pool for an <code>ExecutorService</code>, and it is waiting for some task to be put on the work queue via methods like <code>ExecutorService.submit(...)</code>."},{"owner":{"account_id":1489099,"reputation":1596,"user_id":1396659,"accept_rate":56,"display_name":"Nithin Satheesan"},"score":1,"creation_date":1608744707,"post_id":26239873,"comment_id":115674500,"body_markdown":"Could it also indicate it&#39;s waiting for a response from a connection? Like a backend call?","body":"Could it also indicate it&#39;s waiting for a response from a connection? Like a backend call?"},{"owner":{"account_id":482697,"reputation":6106,"user_id":897272,"accept_rate":90,"display_name":"dsollen"},"score":0,"creation_date":1608747247,"post_id":26239873,"comment_id":115675502,"body_markdown":"@NithinSatheesan that seems plausible.  best way to know is to look at the stack trace and see who is calling it.","body":"@NithinSatheesan that seems plausible.  best way to know is to look at the stack trace and see who is calling it."},{"owner":{"account_id":1489099,"reputation":1596,"user_id":1396659,"accept_rate":56,"display_name":"Nithin Satheesan"},"score":0,"creation_date":1608753638,"post_id":26239873,"comment_id":115677822,"body_markdown":"@dsollen The stack trace is same as in the post here. It just starts at Thread.run and ends at Unsafe.park.","body":"@dsollen The stack trace is same as in the post here. It just starts at Thread.run and ends at Unsafe.park."}],"tags":[],"owner":{"account_id":482697,"reputation":6106,"user_id":897272,"accept_rate":90,"display_name":"dsollen"},"comment_count":4,"down_vote_count":0,"up_vote_count":232,"is_accepted":true,"score":232,"last_activity_date":1440712425,"creation_date":1412696304,"answer_id":26239873,"question_id":24241335,"body_markdown":"unsafe.park is pretty much the same as thread.wait, except that it&#39;s using architecture specific code (thus the reason it&#39;s &#39;unsafe&#39;). unsafe is not made available publicly, but is used within java internal libraries where architecture specific code would offer significant optimization benefits. It&#39;s used a lot for thread pooling.\r\n\r\nSo, to answer your question, all the thread is doing is waiting for something, it&#39;s not really using any CPU. Considering that your original stack trace shows that you&#39;re using a lock I would assume a deadlock is going on in your case.\r\n\r\nYes I know you have almost certainly already solved this issue by now. However, you&#39;re one of the top results if someone googles sun.misc.unsafe.park. I figure answering the question may help others trying to understand what this method that seems to be using all their CPU is.","title":"WAITING at sun.misc.Unsafe.park(Native Method)","body":"<p>unsafe.park is pretty much the same as thread.wait, except that it's using architecture specific code (thus the reason it's 'unsafe'). unsafe is not made available publicly, but is used within java internal libraries where architecture specific code would offer significant optimization benefits. It's used a lot for thread pooling.</p>\n\n<p>So, to answer your question, all the thread is doing is waiting for something, it's not really using any CPU. Considering that your original stack trace shows that you're using a lock I would assume a deadlock is going on in your case.</p>\n\n<p>Yes I know you have almost certainly already solved this issue by now. However, you're one of the top results if someone googles sun.misc.unsafe.park. I figure answering the question may help others trying to understand what this method that seems to be using all their CPU is.</p>\n"},{"tags":[],"owner":{"account_id":8541824,"reputation":357,"user_id":6442528,"display_name":"Yoga Gowda"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1684168671,"creation_date":1465419921,"answer_id":37712919,"question_id":24241335,"body_markdown":"From the stack trace it&#39;s clear that the `ThreadPoolExecutor &gt; Worker` thread started. It&#39;s waiting for the task to be available on the `BlockingQueue` (`DelayedWorkQueue`) and to pick the task and execute. So, this thread will be in `WAIT` status until it gets a `SIGNAL` from the publisher thread.","title":"WAITING at sun.misc.Unsafe.park(Native Method)","body":"<p>From the stack trace it's clear that the <code>ThreadPoolExecutor &gt; Worker</code> thread started. It's waiting for the task to be available on the <code>BlockingQueue</code> (<code>DelayedWorkQueue</code>) and to pick the task and execute. So, this thread will be in <code>WAIT</code> status until it gets a <code>SIGNAL</code> from the publisher thread.</p>\n"},{"tags":[],"owner":{"account_id":2047499,"reputation":1845,"user_id":1827276,"accept_rate":56,"display_name":"boly38"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1648655153,"creation_date":1506949891,"answer_id":46526172,"question_id":24241335,"body_markdown":"I had a similar issue, and following previous answers (thanks!), I was able to search and find how to handle correctly the ThreadPoolExecutor terminaison.\r\n\r\nIn my case, that just fix my progressive increase of similar blocked threads:\r\n\r\n- I&#39;ve used `ExecutorService::awaitTermination(x, TimeUnit)` and `ExecutorService::shutdownNow()` (if necessary) in my finally clause.\r\n- For information, I&#39;ve used the following commands to detect thread count &amp; list locked threads:\r\n\r\n```bash\r\nps -u javaAppuser -L|wc -l\r\n   \r\njcmd \\`ps -C java -o pid=\\` Thread.print &gt;&gt; threadPrintDayA.log\r\n    \r\njcmd \\`ps -C java -o pid=\\` Thread.print &gt;&gt; threadPrintDayAPlusOne.log\r\n    \r\ncat threadPrint*.log |grep &quot;pool-&quot;|wc -l\r\n```\r\n\r\n","title":"WAITING at sun.misc.Unsafe.park(Native Method)","body":"<p>I had a similar issue, and following previous answers (thanks!), I was able to search and find how to handle correctly the ThreadPoolExecutor terminaison.</p>\n<p>In my case, that just fix my progressive increase of similar blocked threads:</p>\n<ul>\n<li>I've used <code>ExecutorService::awaitTermination(x, TimeUnit)</code> and <code>ExecutorService::shutdownNow()</code> (if necessary) in my finally clause.</li>\n<li>For information, I've used the following commands to detect thread count &amp; list locked threads:</li>\n</ul>\n<pre class=\"lang-sh prettyprint-override\"><code>ps -u javaAppuser -L|wc -l\n   \njcmd \\`ps -C java -o pid=\\` Thread.print &gt;&gt; threadPrintDayA.log\n    \njcmd \\`ps -C java -o pid=\\` Thread.print &gt;&gt; threadPrintDayAPlusOne.log\n    \ncat threadPrint*.log |grep &quot;pool-&quot;|wc -l\n</code></pre>\n"}],"owner":{"account_id":31546,"reputation":1641,"user_id":86723,"accept_rate":87,"display_name":"Konrad Pawlus"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160667,"favorite_count":0,"down_vote_count":0,"up_vote_count":105,"accepted_answer_id":26239873,"answer_count":3,"score":105,"last_activity_date":1684168671,"creation_date":1402913659,"question_id":24241335,"body_markdown":"One of my applications hangs under some period of running under load, does anyone know what could cause such output in jstack:\r\n\r\n    &quot;scheduler-5&quot; prio=10 tid=0x00007f49481d0000 nid=0x2061 waiting on condition [0x00007f494e8d0000]\r\n       java.lang.Thread.State: WAITING (parking)\r\n            at sun.misc.Unsafe.park(Native Method)\r\n            - parking to wait for  &lt;0x00000006ee117310&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n            at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\r\n            at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\r\n            at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1085)\r\n            at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:807)\r\n            at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1043)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1103)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\r\n            at java.lang.Thread.run(Thread.java:722)\r\n\r\nI am seeing this a lot in jstack output when it hangs.\r\n\r\nI heavily using Spring @Async &amp; maps, synchronized maps &amp; ehcache.\r\n\r\nWhat is interesting this only happens on one of app instances. Two others are running perfectly fine.\r\nWhat else I could investigate to get more details in such case?\r\n\r\nI found this post https://stackoverflow.com/questions/23992787/parking-to-wait-for-0xd8cf0070-a-java-util-concurrent-locks-abstractqueueds but it is not very useful in my case.","title":"WAITING at sun.misc.Unsafe.park(Native Method)","body":"<p>One of my applications hangs under some period of running under load, does anyone know what could cause such output in jstack:</p>\n\n<pre><code>\"scheduler-5\" prio=10 tid=0x00007f49481d0000 nid=0x2061 waiting on condition [0x00007f494e8d0000]\n   java.lang.Thread.State: WAITING (parking)\n        at sun.misc.Unsafe.park(Native Method)\n        - parking to wait for  &lt;0x00000006ee117310&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n        at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\n        at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1085)\n        at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:807)\n        at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1043)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1103)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n        at java.lang.Thread.run(Thread.java:722)\n</code></pre>\n\n<p>I am seeing this a lot in jstack output when it hangs.</p>\n\n<p>I heavily using Spring @Async &amp; maps, synchronized maps &amp; ehcache.</p>\n\n<p>What is interesting this only happens on one of app instances. Two others are running perfectly fine.\nWhat else I could investigate to get more details in such case?</p>\n\n<p>I found this post <a href=\"https://stackoverflow.com/questions/23992787/parking-to-wait-for-0xd8cf0070-a-java-util-concurrent-locks-abstractqueueds\">https://stackoverflow.com/questions/23992787/parking-to-wait-for-0xd8cf0070-a-java-util-concurrent-locks-abstractqueueds</a> but it is not very useful in my case.</p>\n"},{"tags":["java","email","log4j","log4j2","java-11"],"answers":[{"comments":[{"owner":{"account_id":321061,"reputation":827,"user_id":2751039,"accept_rate":86,"display_name":"Matt"},"score":0,"creation_date":1631628822,"post_id":69172192,"comment_id":122270710,"body_markdown":"Thank you! I didn&#39;t even think to look at the 1.6.x version of the jakarta.mail artifact.","body":"Thank you! I didn&#39;t even think to look at the 1.6.x version of the jakarta.mail artifact."}],"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1631596800,"creation_date":1631596800,"answer_id":69172192,"question_id":69165740,"body_markdown":"As you are probably aware, the transfer of Java EE from Oracle to the Eclipse Foundation required a change from the `javax.*` namespace (in Java EE 8/Jakarta EE 8) to the `jakarta.*` namespace (Jakarta EE 9).\r\n\r\nSince many years may pass until all libraries switch to Jakarta EE 9 and considering the fact that the switch must be done **simultaneously** for all Jakarta EE 9 technologies, Jakarta EE 8 implementations will probably get updates for a very long time.\r\n\r\nSince Log4j is one of those libraries that did not migrate yet, use the [`jakarta.mail`](https://mvnrepository.com/artifact/com.sun.mail/jakarta.mail) artifact, version 1.6.x from the `com.sun.mail` group. As you can see it still gets updates (latest version today: 1.6.7).","title":"Log4j2 SMTP Appender on Java 11: javax.mail or jakarta.mail?","body":"<p>As you are probably aware, the transfer of Java EE from Oracle to the Eclipse Foundation required a change from the <code>javax.*</code> namespace (in Java EE 8/Jakarta EE 8) to the <code>jakarta.*</code> namespace (Jakarta EE 9).</p>\n<p>Since many years may pass until all libraries switch to Jakarta EE 9 and considering the fact that the switch must be done <strong>simultaneously</strong> for all Jakarta EE 9 technologies, Jakarta EE 8 implementations will probably get updates for a very long time.</p>\n<p>Since Log4j is one of those libraries that did not migrate yet, use the <a href=\"https://mvnrepository.com/artifact/com.sun.mail/jakarta.mail\" rel=\"nofollow noreferrer\"><code>jakarta.mail</code></a> artifact, version 1.6.x from the <code>com.sun.mail</code> group. As you can see it still gets updates (latest version today: 1.6.7).</p>\n"},{"tags":[],"owner":{"account_id":10526054,"reputation":1943,"user_id":7757040,"display_name":"Gary Mendonca"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684168012,"creation_date":1684168012,"answer_id":76256119,"question_id":69165740,"body_markdown":"Since log4j2 2.18.0, an additional dependency log4j-jakarta-smtp can be included in pom along with log4j-core and log4j-api to make log4j2 use latest version of jakarta.mail instead of javax.mail\r\n\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-jakarta-smtp --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-jakarta-smtp&lt;/artifactId&gt;\r\n    &lt;version&gt;2.19.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Log4j2 SMTP Appender on Java 11: javax.mail or jakarta.mail?","body":"<p>Since log4j2 2.18.0, an additional dependency log4j-jakarta-smtp can be included in pom along with log4j-core and log4j-api to make log4j2 use latest version of jakarta.mail instead of javax.mail</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-jakarta-smtp --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n&lt;artifactId&gt;log4j-jakarta-smtp&lt;/artifactId&gt;\n&lt;version&gt;2.19.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":321061,"reputation":827,"user_id":2751039,"accept_rate":86,"display_name":"Matt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1291,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69172192,"answer_count":2,"score":1,"last_activity_date":1684168012,"creation_date":1631548496,"question_id":69165740,"body_markdown":"I&#39;m using Java 11 (Corretto 11), log4j 2.12.1, and jakarta.mail 2.0.1. My log4j configuration is using the SMTP appender, but I&#39;m not receiving any emails. I do see the log statements in the file (when using the File or Console appenders). And also when using the exact same log4j config with Java 8, log4j 2.12.1, and javax.mail 1.6.2, I did receive emails. I can&#39;t use both javax.mail and jakarta.mail since there are overlapping classes (such as `com.sun.mail.util.MimeUtil`). It *does* work with javax.mail 1.6.2.\r\n\r\nWhat is the recommendation for Java 11 + log4j2 + SMTP Appender? Am I stuck with using the older javax.mail 1.6.2 that&#39;s no longer maintained if I want to use log4j?\r\n\r\nThis may be a quirk in Eclipse, but when I look at the source of `org.apache.logging.log4j.core.net.MimeMessageBuilder` from log4j 2.12.1, the imports show `javax.mail.*`, but the javadoc for the `MimeMessage` class shows `jakarta.mail.internet.MimeMessage`. \r\n\r\n[![log4j2 source code showing use of both javax.mail and jakarta.mail packages.][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9ArlT.png","title":"Log4j2 SMTP Appender on Java 11: javax.mail or jakarta.mail?","body":"<p>I'm using Java 11 (Corretto 11), log4j 2.12.1, and jakarta.mail 2.0.1. My log4j configuration is using the SMTP appender, but I'm not receiving any emails. I do see the log statements in the file (when using the File or Console appenders). And also when using the exact same log4j config with Java 8, log4j 2.12.1, and javax.mail 1.6.2, I did receive emails. I can't use both javax.mail and jakarta.mail since there are overlapping classes (such as <code>com.sun.mail.util.MimeUtil</code>). It <em>does</em> work with javax.mail 1.6.2.</p>\n<p>What is the recommendation for Java 11 + log4j2 + SMTP Appender? Am I stuck with using the older javax.mail 1.6.2 that's no longer maintained if I want to use log4j?</p>\n<p>This may be a quirk in Eclipse, but when I look at the source of <code>org.apache.logging.log4j.core.net.MimeMessageBuilder</code> from log4j 2.12.1, the imports show <code>javax.mail.*</code>, but the javadoc for the <code>MimeMessage</code> class shows <code>jakarta.mail.internet.MimeMessage</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/9ArlT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9ArlT.png\" alt=\"log4j2 source code showing use of both javax.mail and jakarta.mail packages.\" /></a></p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684167892,"post_id":76256071,"comment_id":134474293,"body_markdown":"Do you refer to the code snippet? What parsing are you doing exactly?","body":"Do you refer to the code snippet? What parsing are you doing exactly?"},{"owner":{"account_id":4602502,"reputation":886,"user_id":3865607,"accept_rate":73,"display_name":"Bad Coder"},"score":0,"creation_date":1684167959,"post_id":76256071,"comment_id":134474308,"body_markdown":"@aled i am writing these statement manually `statement.setInt(1, row.getQuantity());` , is better way to do it","body":"@aled i am writing these statement manually <code>statement.setInt(1, row.getQuantity());</code> , is better way to do it"},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1684168247,"post_id":76256071,"comment_id":134474379,"body_markdown":"you would  have to write some mapping class that takes your input parameters, converts to a specific type if needed, then call the setXXX methods.  Not really less work.  There is no automatic way.  How would PDBC know what parameters to use?","body":"you would  have to write some mapping class that takes your input parameters, converts to a specific type if needed, then call the setXXX methods.  Not really less work.  There is no automatic way.  How would PDBC know what parameters to use?"},{"owner":{"account_id":4602502,"reputation":886,"user_id":3865607,"accept_rate":73,"display_name":"Bad Coder"},"score":0,"creation_date":1684169074,"post_id":76256071,"comment_id":134474563,"body_markdown":"if i have 10000 columns and do this insert ? So i have to manually to it ?","body":"if i have 10000 columns and do this insert ? So i have to manually to it ?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684169324,"post_id":76256071,"comment_id":134474628,"body_markdown":"Ehrm, it appears you are using JPA and try very hard to work around that, why? Not to mention the errors you have in your code to start with. Instead of all that cruft just do `entityManager.persist(row)`. Replace `executeBatch` and `clearBatch` with `entityManager.flush()` and `entityManager.clear()`.","body":"Ehrm, it appears you are using JPA and try very hard to work around that, why? Not to mention the errors you have in your code to start with. Instead of all that cruft just do <code>entityManager.persist(row)</code>. Replace <code>executeBatch</code> and <code>clearBatch</code> with <code>entityManager.flush()</code> and <code>entityManager.clear()</code>."},{"owner":{"account_id":4602502,"reputation":886,"user_id":3865607,"accept_rate":73,"display_name":"Bad Coder"},"score":0,"creation_date":1684178662,"post_id":76256071,"comment_id":134476545,"body_markdown":"@M.Deinum i can&#39;t use `@Trancational` in my method directly it&#39;s call via protected method","body":"@M.Deinum i can&#39;t use <code>@Trancational</code> in my method directly it&#39;s call via protected method"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684214798,"post_id":76256071,"comment_id":134480664,"body_markdown":"Where did I mention `@Transactional`? You can wrap the method call in a `TransactionTemplate` if needed. But still I don&#39;t get where that transaction suddenly comes from I now where mentioned it, nor does your code show one (and there will be one somewhere on your toplevel method).","body":"Where did I mention <code>@Transactional</code>? You can wrap the method call in a <code>TransactionTemplate</code> if needed. But still I don&#39;t get where that transaction suddenly comes from I now where mentioned it, nor does your code show one (and there will be one somewhere on your toplevel method)."},{"owner":{"account_id":4602502,"reputation":886,"user_id":3865607,"accept_rate":73,"display_name":"Bad Coder"},"score":0,"creation_date":1684431932,"post_id":76256071,"comment_id":134520256,"body_markdown":"@M.Deinum Thanks for suggesting `TransactionTemplate` i am able to do via `entitymanager.presist`.","body":"@M.Deinum Thanks for suggesting <code>TransactionTemplate</code> i am able to do via <code>entitymanager.presist</code>."}],"owner":{"account_id":4602502,"reputation":886,"user_id":3865607,"accept_rate":73,"display_name":"Bad Coder"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684168007,"creation_date":1684167647,"question_id":76256071,"body_markdown":"Here is my code to do the insert in my DB : \r\n\r\n      private void saveAllBatchDetail(List&lt;ReportingDetail&gt; reportingDetails) {\r\n    \r\n            EntityManagerFactoryInfo info = (EntityManagerFactoryInfo) entityManager.getEntityManagerFactory();\r\n            String sql = String.format(&quot;INSERT INTO %s (col,col2,col3) VALUES (?, ?, ?, ?,?.....)&quot;, ReportingDetail.class.getAnnotation(Table.class).name());\r\n    \r\n            try (Connection connection = info.getDataSource().getConnection();\r\n                 PreparedStatement statement = connection.prepareStatement(sql);\r\n            ) {\r\n                int counter = 0;\r\n                for (ReportingDetail row : reportingDetails) {\r\n                    statement.clearParameters();\r\n                    statement.setInt(1, row.getQuantity());\r\n                    statement.setDate(2, Date.valueOf(row.getDate()));\r\n                    statement.setFloat(3, row.getId());\r\n                   ..... so on ma be 50 more columns \r\n    \r\n                    statement.addBatch();\r\n                    if ((counter + 1) % 500 == 0 || (counter + 1) == reportingDeliveryDetails.size()) {\r\n                        statement.executeBatch();\r\n                        statement.clearBatch();\r\n                    }\r\n                    counter++;\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\nWhat&#39;s is the best way to insert so i don&#39;t have manually do the parsing, as i have write for each columns i,e  `statement.setInt(1, row.getQuantity())`?","title":"How to Optimise the Insert statement","body":"<p>Here is my code to do the insert in my DB :</p>\n<pre><code>  private void saveAllBatchDetail(List&lt;ReportingDetail&gt; reportingDetails) {\n\n        EntityManagerFactoryInfo info = (EntityManagerFactoryInfo) entityManager.getEntityManagerFactory();\n        String sql = String.format(&quot;INSERT INTO %s (col,col2,col3) VALUES (?, ?, ?, ?,?.....)&quot;, ReportingDetail.class.getAnnotation(Table.class).name());\n\n        try (Connection connection = info.getDataSource().getConnection();\n             PreparedStatement statement = connection.prepareStatement(sql);\n        ) {\n            int counter = 0;\n            for (ReportingDetail row : reportingDetails) {\n                statement.clearParameters();\n                statement.setInt(1, row.getQuantity());\n                statement.setDate(2, Date.valueOf(row.getDate()));\n                statement.setFloat(3, row.getId());\n               ..... so on ma be 50 more columns \n\n                statement.addBatch();\n                if ((counter + 1) % 500 == 0 || (counter + 1) == reportingDeliveryDetails.size()) {\n                    statement.executeBatch();\n                    statement.clearBatch();\n                }\n                counter++;\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>What's is the best way to insert so i don't have manually do the parsing, as i have write for each columns i,e  <code>statement.setInt(1, row.getQuantity())</code>?</p>\n"},{"tags":["java","json","xml"],"comments":[{"owner":{"account_id":7984646,"reputation":565,"user_id":6024604,"accept_rate":0,"display_name":"rohit prakash"},"score":0,"creation_date":1591521139,"post_id":62243203,"comment_id":110082019,"body_markdown":"duplicate https://stackoverflow.com/questions/19977979/converting-json-to-xml-in-java","body":"duplicate <a href=\"https://stackoverflow.com/questions/19977979/converting-json-to-xml-in-java\" title=\"converting json to xml in java\">stackoverflow.com/questions/19977979/&hellip;</a>"},{"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"score":0,"creation_date":1592192446,"post_id":62243203,"comment_id":110326435,"body_markdown":"Underscore-java library has a static method U.jsonToXml(json).","body":"Underscore-java library has a static method U.jsonToXml(json)."}],"answers":[{"tags":[],"owner":{"account_id":9141171,"reputation":21,"user_id":6798963,"display_name":"purshottam tiwari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591522708,"creation_date":1591522708,"answer_id":62243488,"question_id":62243203,"body_markdown":"    ##Use json.jar for creating JSON to xml \r\n    Steps:\r\n    1 .Add below mentioned artifacts to pom\r\n      \r\n    \r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20200518&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n     \r\n    2.Use below code template for converting JOSN to xml       \r\n            JSONObject obj = new JSONObject(json_data);\r\n            String xml_data = XML.toString(obj);","title":"How to convert JSON to a specified XML format","body":"<pre><code>##Use json.jar for creating JSON to xml \nSteps:\n1 .Add below mentioned artifacts to pom\n\n\n&lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20200518&lt;/version&gt;\n &lt;/dependency&gt;\n\n2.Use below code template for converting JOSN to xml       \n        JSONObject obj = new JSONObject(json_data);\n        String xml_data = XML.toString(obj);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591538015,"creation_date":1591538015,"answer_id":62246368,"question_id":62243203,"body_markdown":"No standard library for JSON-to-XML or XML-to-JSON is ever going to give you exactly the format you want. Let the library create the XML it creates, and then transform it using an XSLT stylesheet. Alternatively do a custom conversion all the way from JSON to XML using XSLT 3.0.","title":"How to convert JSON to a specified XML format","body":"<p>No standard library for JSON-to-XML or XML-to-JSON is ever going to give you exactly the format you want. Let the library create the XML it creates, and then transform it using an XSLT stylesheet. Alternatively do a custom conversion all the way from JSON to XML using XSLT 3.0.</p>\n"},{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684167882,"creation_date":1684167882,"answer_id":76256108,"question_id":62243203,"body_markdown":"This json\r\n\r\n```json\r\n{\r\n   &quot;a&quot;: {\r\n      &quot;-attribute1&quot;: &quot;&quot;,\r\n      &quot;-attribute2&quot;: &quot;&quot;,\r\n      &quot;-self-closing&quot;: &quot;true&quot;\r\n   },\r\n   &quot;#omit-xml-declaration&quot;: &quot;yes&quot;\r\n}\r\n```\r\n\r\nmay be converted to this xml\r\n```xml\r\n&lt;a attribute1=&quot;&quot; attribute2=&quot;&quot;/&gt;\r\n```\r\n\r\n[Underscore-java][1] library\r\n\r\n\r\n  [1]: https://github.com/javadev/underscore-java","title":"How to convert JSON to a specified XML format","body":"<p>This json</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;a&quot;: {\n      &quot;-attribute1&quot;: &quot;&quot;,\n      &quot;-attribute2&quot;: &quot;&quot;,\n      &quot;-self-closing&quot;: &quot;true&quot;\n   },\n   &quot;#omit-xml-declaration&quot;: &quot;yes&quot;\n}\n</code></pre>\n<p>may be converted to this xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;a attribute1=&quot;&quot; attribute2=&quot;&quot;/&gt;\n</code></pre>\n<p><a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">Underscore-java</a> library</p>\n"}],"owner":{"account_id":16535807,"reputation":57,"user_id":11947882,"display_name":"Lucazade"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1684167882,"creation_date":1591520952,"question_id":62243203,"body_markdown":"I am new to JAVA and I faced the following problem.\r\n\r\nI have a JSON file and the target is to convert to XML. Conversion should be in the following format.\r\n\r\n```xml\r\n&lt;a attribute1 = &quot;&quot; attribute2 = &quot;&quot; /&gt;\r\n```\r\n\r\nbut the conversion happened as follows \r\n```xml\r\n&lt;a&gt;&lt;attribute1&gt;value&lt;/attribute1&gt;&lt;attribute2&gt;value&lt;attribute2&gt;&lt;/a&gt;\r\n```\r\nHow exactly can i convert maintaining the desired XML format? ","title":"How to convert JSON to a specified XML format","body":"<p>I am new to JAVA and I faced the following problem.</p>\n\n<p>I have a JSON file and the target is to convert to XML. Conversion should be in the following format.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;a attribute1 = \"\" attribute2 = \"\" /&gt;\n</code></pre>\n\n<p>but the conversion happened as follows </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;a&gt;&lt;attribute1&gt;value&lt;/attribute1&gt;&lt;attribute2&gt;value&lt;attribute2&gt;&lt;/a&gt;\n</code></pre>\n\n<p>How exactly can i convert maintaining the desired XML format? </p>\n"},{"tags":["java","oracle","exception","jdbc","record"],"comments":[{"owner":{"account_id":2456088,"reputation":5545,"user_id":2141278,"display_name":"Dmitriy"},"score":0,"creation_date":1416859336,"post_id":27113075,"comment_id":42729075,"body_markdown":"As I can understand, you want to find any indirect way (because direct way is not supported) to pass a record to procedure, yes?","body":"As I can understand, you want to find any indirect way (because direct way is not supported) to pass a record to procedure, yes?"},{"owner":{"account_id":2920668,"reputation":2280,"user_id":2503007,"accept_rate":96,"display_name":"Chiseled"},"score":0,"creation_date":1416860223,"post_id":27113075,"comment_id":42729499,"body_markdown":"yup that&#39;s the attempt","body":"yup that&#39;s the attempt"}],"answers":[{"comments":[{"owner":{"account_id":3717492,"reputation":17702,"user_id":3093319,"accept_rate":95,"display_name":"Maheswaran Ravisankar"},"score":0,"creation_date":1416955352,"post_id":27113204,"comment_id":42774242,"body_markdown":"We cannot create a object type with **%type**","body":"We cannot create a object type with <b>%type</b>"},{"owner":{"account_id":497155,"reputation":1862,"user_id":959296,"accept_rate":100,"display_name":"ivanatpr"},"score":0,"creation_date":1489079352,"post_id":27113204,"comment_id":72524791,"body_markdown":"That&#39;s not true anymore in Oracle 12c. You can now interact with package-defined records using jdbc: https://docs.oracle.com/database/121/JJDBC/apxref.htm#JJDBC28913","body":"That&#39;s not true anymore in Oracle 12c. You can now interact with package-defined records using jdbc: <a href=\"https://docs.oracle.com/database/121/JJDBC/apxref.htm#JJDBC28913\" rel=\"nofollow noreferrer\">docs.oracle.com/database/121/JJDBC/apxref.htm#JJDBC28913</a>"}],"tags":[],"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1478983877,"creation_date":1416859454,"answer_id":27113204,"question_id":27113075,"body_markdown":"Yes, it&#39;s allowed to pass user-defined datatypes as IN parameters using JDBC.  But it can&#39;t be a `RECORD`.  It must be a schema level object, e.g.\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    CREATE TYPE EMP_REC AS OBJECT\r\n    (\r\n     id employees.employee_id%type,\r\n     name employees.last_name%type,\r\n     dept_name departments.department_name%type,\r\n     job_title jobs.job_title%type,\r\n     salary employees.salary%type,\r\n     manager_id employees.employee_id%type,\r\n     city locations.city%type,\r\n     phone employees.phone_number%type\r\n    );\r\n\r\nIn your PL/SQL, you could change references to your record to your new object type, or you could write a quick little translator function to translate the object type to the record type if you can&#39;t change the rest of the code.","title":"Calling PL/SQL procedure with user defined record as its IN parameter using JDBC","body":"<p>Yes, it's allowed to pass user-defined datatypes as IN parameters using JDBC.  But it can't be a <code>RECORD</code>.  It must be a schema level object, e.g.</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TYPE EMP_REC AS OBJECT\n(\n id employees.employee_id%type,\n name employees.last_name%type,\n dept_name departments.department_name%type,\n job_title jobs.job_title%type,\n salary employees.salary%type,\n manager_id employees.employee_id%type,\n city locations.city%type,\n phone employees.phone_number%type\n);\n</code></pre>\n\n<p>In your PL/SQL, you could change references to your record to your new object type, or you could write a quick little translator function to translate the object type to the record type if you can't change the rest of the code.</p>\n"},{"tags":[],"owner":{"account_id":3717492,"reputation":17702,"user_id":3093319,"accept_rate":95,"display_name":"Maheswaran Ravisankar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478983898,"creation_date":1416859485,"answer_id":27113216,"question_id":27113075,"body_markdown":"There&#39;s no way to pass records. Because it has to be SQL object to be referred, not a pure `PL/SQL` object.\r\n\r\nCreating an object would be like,\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n       -- User Defined Record\r\n       CREATE TYPE EMP_REC AS OBJECT\r\n       (\r\n        id  NUMBER,\r\n        name VARCHAR2(100),\r\n        dept_name ...,\r\n        job_title ..,\r\n        salary ..,\r\n        manager_id ..,\r\n        city ..,\r\n        phone ...\r\n       );\r\n\r\nAnd it is again a pain though. You cannot use `TYPE` attribute here. Because a TYPE cannot have a dependency that way. **Instead specify the exact datatype.**","title":"Calling PL/SQL procedure with user defined record as its IN parameter using JDBC","body":"<p>There's no way to pass records. Because it has to be SQL object to be referred, not a pure <code>PL/SQL</code> object.</p>\n\n<p>Creating an object would be like,</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>   -- User Defined Record\n   CREATE TYPE EMP_REC AS OBJECT\n   (\n    id  NUMBER,\n    name VARCHAR2(100),\n    dept_name ...,\n    job_title ..,\n    salary ..,\n    manager_id ..,\n    city ..,\n    phone ...\n   );\n</code></pre>\n\n<p>And it is again a pain though. You cannot use <code>TYPE</code> attribute here. Because a TYPE cannot have a dependency that way. <strong>Instead specify the exact datatype.</strong></p>\n"},{"tags":[],"owner":{"account_id":2456088,"reputation":5545,"user_id":2141278,"display_name":"Dmitriy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1416860529,"creation_date":1416860529,"answer_id":27113473,"question_id":27113075,"body_markdown":"If you can execute anonymous PL/SQL block (as I know, it is possible), you can execute following:\r\n\r\n    declare\r\n      rec EMP_REC;\r\n    begin\r\n      rec.id := :ID;\r\n      rec.name:= :NAME;\r\n      -- and so on, rest of fields of record...\r\n      ...\r\n      my_procedure(rec);\r\n    end;\r\n    /\r\n\r\nIn this case you don&#39;t need create new database objects or change existing. You just need to pass values of parameters to fill a record.","title":"Calling PL/SQL procedure with user defined record as its IN parameter using JDBC","body":"<p>If you can execute anonymous PL/SQL block (as I know, it is possible), you can execute following:</p>\n\n<pre><code>declare\n  rec EMP_REC;\nbegin\n  rec.id := :ID;\n  rec.name:= :NAME;\n  -- and so on, rest of fields of record...\n  ...\n  my_procedure(rec);\nend;\n/\n</code></pre>\n\n<p>In this case you don't need create new database objects or change existing. You just need to pass values of parameters to fill a record.</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478983772,"creation_date":1478983772,"answer_id":40567508,"question_id":27113075,"body_markdown":"I&#39;d like to complement [Dmitry&#39;s answer][1] which suggests you could use an anonymous PL/SQL block through JDBC and compose your `RECORD` types manually and explicitly. If you&#39;re looking for a solution for that single stored procedure, then writing that block manually will do. But if you&#39;re looking for a *general solution* that generates code for *all* procedures that have `IN`, `OUT`, or `IN OUT` `RECORD` parameters, you should probably write a code generator that generates stubs based on the following query\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    SELECT\r\n      x.TYPE_OWNER, x.TYPE_NAME, x.TYPE_SUBNAME, a.ARGUMENT_NAME ATTR_NAME,\r\n      a.SEQUENCE ATTR_NO, a.TYPE_OWNER ATTR_TYPE_OWNER,\r\n      nvl2(a.TYPE_SUBNAME, a.TYPE_NAME, NULL) package_name,\r\n      COALESCE(a.TYPE_SUBNAME, a.TYPE_NAME, a.DATA_TYPE) ATTR_TYPE_NAME,\r\n      a.DATA_LENGTH LENGTH, a.DATA_PRECISION PRECISION, a.DATA_SCALE SCALE\r\n    FROM SYS.ALL_ARGUMENTS a\r\n    JOIN (\r\n      SELECT\r\n        a.TYPE_OWNER, a.TYPE_NAME, a.TYPE_SUBNAME,\r\n        MIN(a.OWNER) KEEP (DENSE_RANK FIRST ORDER BY a.OWNER ASC, a.PACKAGE_NAME ASC, a.SUBPROGRAM_ID ASC, a.SEQUENCE ASC) OWNER,\r\n        MIN(a.PACKAGE_NAME) KEEP (DENSE_RANK FIRST ORDER BY a.OWNER ASC, a.PACKAGE_NAME ASC, a.SUBPROGRAM_ID ASC, a.SEQUENCE ASC) PACKAGE_NAME,\r\n        MIN(a.SUBPROGRAM_ID) KEEP (DENSE_RANK FIRST ORDER BY a.OWNER ASC, a.PACKAGE_NAME ASC, a.SUBPROGRAM_ID ASC, a.SEQUENCE ASC) SUBPROGRAM_ID,\r\n        MIN(a.SEQUENCE) KEEP (DENSE_RANK FIRST ORDER BY a.OWNER ASC, a.PACKAGE_NAME ASC, a.SUBPROGRAM_ID ASC, a.SEQUENCE ASC) SEQUENCE,\r\n        MIN(next_sibling) KEEP (DENSE_RANK FIRST ORDER BY a.OWNER ASC, a.PACKAGE_NAME ASC, a.SUBPROGRAM_ID ASC, a.SEQUENCE ASC) next_sibling,\r\n        MIN(a.DATA_LEVEL) KEEP (DENSE_RANK FIRST ORDER BY a.OWNER ASC, a.PACKAGE_NAME ASC, a.SUBPROGRAM_ID ASC, a.SEQUENCE ASC) DATA_LEVEL\r\n      FROM (\r\n        SELECT\r\n          lead(a.SEQUENCE, 1, a.SEQUENCE) OVER (\r\n            PARTITION BY a.OWNER, a.PACKAGE_NAME, a.SUBPROGRAM_ID, a.DATA_LEVEL\r\n            ORDER BY a.SEQUENCE ASC\r\n          ) next_sibling,\r\n          a.TYPE_OWNER, a.TYPE_NAME, a.TYPE_SUBNAME, a.OWNER, a.PACKAGE_NAME, \r\n          a.SUBPROGRAM_ID, a.SEQUENCE, a.DATA_LEVEL, a.DATA_TYPE\r\n        FROM SYS.ALL_ARGUMENTS a\r\n        WHERE a.OWNER IN (&#39;MY_SCHEMA&#39;)     -- Possibly replace schema here\r\n        ) a\r\n      WHERE (a.TYPE_OWNER IN (&#39;MY_SCHEMA&#39;) -- Possibly replace schema here\r\n      AND a.OWNER         IN (&#39;MY_SCHEMA&#39;) -- Possibly replace schema here\r\n      AND a.DATA_TYPE      = &#39;PL/SQL RECORD&#39;)\r\n      GROUP BY a.TYPE_OWNER, a.TYPE_NAME, a.TYPE_SUBNAME\r\n      ) x\r\n    ON ((a.OWNER, a.PACKAGE_NAME, a.SUBPROGRAM_ID) = ((x.OWNER, x.PACKAGE_NAME, x.SUBPROGRAM_ID))\r\n    AND a.SEQUENCE BETWEEN x.SEQUENCE AND next_sibling\r\n    AND a.DATA_LEVEL = (x.DATA_LEVEL + 1))\r\n    ORDER BY x.TYPE_OWNER ASC, x.TYPE_NAME ASC, x.TYPE_SUBNAME ASC, a.SEQUENCE ASC\r\n\r\nThis will provide you formal definitions of all the `RECORD` types in all the packages contained in the `MY_SCHEMA` schema, from which you can generate stubs that look like the one in Dmitry&#39;s answer:\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    declare\r\n      rec EMP_REC;\r\n    begin\r\n      rec.id := :ID;\r\n      rec.name:= :NAME;\r\n      -- and so on, rest of fields of record...\r\n      ...\r\n      my_procedure(rec);\r\n    end;\r\n    /\r\n\r\n[See more details about this technique in this blog post (from which the query was taken)][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/27113473/521799\r\n  [2]: https://blog.jooq.org/2016/11/08/use-jooq-to-read-write-oracle-plsql-record-types/","title":"Calling PL/SQL procedure with user defined record as its IN parameter using JDBC","body":"<p>I'd like to complement <a href=\"https://stackoverflow.com/a/27113473/521799\">Dmitry's answer</a> which suggests you could use an anonymous PL/SQL block through JDBC and compose your <code>RECORD</code> types manually and explicitly. If you're looking for a solution for that single stored procedure, then writing that block manually will do. But if you're looking for a <em>general solution</em> that generates code for <em>all</em> procedures that have <code>IN</code>, <code>OUT</code>, or <code>IN OUT</code> <code>RECORD</code> parameters, you should probably write a code generator that generates stubs based on the following query</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT\n  x.TYPE_OWNER, x.TYPE_NAME, x.TYPE_SUBNAME, a.ARGUMENT_NAME ATTR_NAME,\n  a.SEQUENCE ATTR_NO, a.TYPE_OWNER ATTR_TYPE_OWNER,\n  nvl2(a.TYPE_SUBNAME, a.TYPE_NAME, NULL) package_name,\n  COALESCE(a.TYPE_SUBNAME, a.TYPE_NAME, a.DATA_TYPE) ATTR_TYPE_NAME,\n  a.DATA_LENGTH LENGTH, a.DATA_PRECISION PRECISION, a.DATA_SCALE SCALE\nFROM SYS.ALL_ARGUMENTS a\nJOIN (\n  SELECT\n    a.TYPE_OWNER, a.TYPE_NAME, a.TYPE_SUBNAME,\n    MIN(a.OWNER) KEEP (DENSE_RANK FIRST ORDER BY a.OWNER ASC, a.PACKAGE_NAME ASC, a.SUBPROGRAM_ID ASC, a.SEQUENCE ASC) OWNER,\n    MIN(a.PACKAGE_NAME) KEEP (DENSE_RANK FIRST ORDER BY a.OWNER ASC, a.PACKAGE_NAME ASC, a.SUBPROGRAM_ID ASC, a.SEQUENCE ASC) PACKAGE_NAME,\n    MIN(a.SUBPROGRAM_ID) KEEP (DENSE_RANK FIRST ORDER BY a.OWNER ASC, a.PACKAGE_NAME ASC, a.SUBPROGRAM_ID ASC, a.SEQUENCE ASC) SUBPROGRAM_ID,\n    MIN(a.SEQUENCE) KEEP (DENSE_RANK FIRST ORDER BY a.OWNER ASC, a.PACKAGE_NAME ASC, a.SUBPROGRAM_ID ASC, a.SEQUENCE ASC) SEQUENCE,\n    MIN(next_sibling) KEEP (DENSE_RANK FIRST ORDER BY a.OWNER ASC, a.PACKAGE_NAME ASC, a.SUBPROGRAM_ID ASC, a.SEQUENCE ASC) next_sibling,\n    MIN(a.DATA_LEVEL) KEEP (DENSE_RANK FIRST ORDER BY a.OWNER ASC, a.PACKAGE_NAME ASC, a.SUBPROGRAM_ID ASC, a.SEQUENCE ASC) DATA_LEVEL\n  FROM (\n    SELECT\n      lead(a.SEQUENCE, 1, a.SEQUENCE) OVER (\n        PARTITION BY a.OWNER, a.PACKAGE_NAME, a.SUBPROGRAM_ID, a.DATA_LEVEL\n        ORDER BY a.SEQUENCE ASC\n      ) next_sibling,\n      a.TYPE_OWNER, a.TYPE_NAME, a.TYPE_SUBNAME, a.OWNER, a.PACKAGE_NAME, \n      a.SUBPROGRAM_ID, a.SEQUENCE, a.DATA_LEVEL, a.DATA_TYPE\n    FROM SYS.ALL_ARGUMENTS a\n    WHERE a.OWNER IN ('MY_SCHEMA')     -- Possibly replace schema here\n    ) a\n  WHERE (a.TYPE_OWNER IN ('MY_SCHEMA') -- Possibly replace schema here\n  AND a.OWNER         IN ('MY_SCHEMA') -- Possibly replace schema here\n  AND a.DATA_TYPE      = 'PL/SQL RECORD')\n  GROUP BY a.TYPE_OWNER, a.TYPE_NAME, a.TYPE_SUBNAME\n  ) x\nON ((a.OWNER, a.PACKAGE_NAME, a.SUBPROGRAM_ID) = ((x.OWNER, x.PACKAGE_NAME, x.SUBPROGRAM_ID))\nAND a.SEQUENCE BETWEEN x.SEQUENCE AND next_sibling\nAND a.DATA_LEVEL = (x.DATA_LEVEL + 1))\nORDER BY x.TYPE_OWNER ASC, x.TYPE_NAME ASC, x.TYPE_SUBNAME ASC, a.SEQUENCE ASC\n</code></pre>\n\n<p>This will provide you formal definitions of all the <code>RECORD</code> types in all the packages contained in the <code>MY_SCHEMA</code> schema, from which you can generate stubs that look like the one in Dmitry's answer:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>declare\n  rec EMP_REC;\nbegin\n  rec.id := :ID;\n  rec.name:= :NAME;\n  -- and so on, rest of fields of record...\n  ...\n  my_procedure(rec);\nend;\n/\n</code></pre>\n\n<p><a href=\"https://blog.jooq.org/2016/11/08/use-jooq-to-read-write-oracle-plsql-record-types/\" rel=\"nofollow noreferrer\">See more details about this technique in this blog post (from which the query was taken)</a>.</p>\n"},{"tags":[],"owner":{"account_id":28606093,"reputation":1,"user_id":21902007,"display_name":"Dan Sievewright"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684166129,"creation_date":1684166129,"answer_id":76255886,"question_id":27113075,"body_markdown":"I know the original poster mentioned they use ojdbc6 but I wanted to provide a more up-to-date solution if you use a more recent ojdbc driver (I can confirm my solution works in ojdbc8).  If the record is defined in the package, then you can create a class that implements OracleData that matches the record type.  https://docs.oracle.com/en/database/oracle/oracle-database/19/jjdbc/Oracle-object-types.html#GUID-5905674A-A045-40B1-96DE-726761517D50\r\n\r\nIn the toJDBCObject method, just use createStruct\r\n\r\n    public class EmpRec implements OracleData {\r\n    \r\n        //getters/setters for all the fields\r\n\r\n        @Override\r\n        public Object toJDBCObject(Connection arg0) throws SQLException {\r\n\r\n            return arg0.createStruct(&quot;PKG_NAME.EMP_REC&quot;, new Object[] {employeeId, lastName, departmentName, ...etc...});\r\n        }\r\n    }\r\n\r\n","title":"Calling PL/SQL procedure with user defined record as its IN parameter using JDBC","body":"<p>I know the original poster mentioned they use ojdbc6 but I wanted to provide a more up-to-date solution if you use a more recent ojdbc driver (I can confirm my solution works in ojdbc8).  If the record is defined in the package, then you can create a class that implements OracleData that matches the record type.  <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/jjdbc/Oracle-object-types.html#GUID-5905674A-A045-40B1-96DE-726761517D50\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/database/oracle/oracle-database/19/jjdbc/Oracle-object-types.html#GUID-5905674A-A045-40B1-96DE-726761517D50</a></p>\n<p>In the toJDBCObject method, just use createStruct</p>\n<pre><code>public class EmpRec implements OracleData {\n\n    //getters/setters for all the fields\n\n    @Override\n    public Object toJDBCObject(Connection arg0) throws SQLException {\n\n        return arg0.createStruct(&quot;PKG_NAME.EMP_REC&quot;, new Object[] {employeeId, lastName, departmentName, ...etc...});\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2920668,"reputation":2280,"user_id":2503007,"accept_rate":96,"display_name":"Chiseled"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10110,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":27113204,"answer_count":5,"score":3,"last_activity_date":1684166129,"creation_date":1416858951,"question_id":27113075,"body_markdown":"I am trying to call the following PL/SQL procedure that takes a user defined record type as an `IN` parameter.\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n       -- User Defined Record\r\n       TYPE EMP_REC IS RECORD\r\n       (\r\n        id employees.employee_id%type,\r\n        name employees.last_name%type,\r\n        dept_name departments.department_name%type,\r\n        job_title jobs.job_title%type,\r\n        salary employees.salary%type,\r\n        manager_id employees.employee_id%type,\r\n        city locations.city%type,\r\n        phone employees.phone_number%type\r\n       );\r\n\r\nHere is the definition of the user defined record:\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n      -- PURPOSE: Prints all employee information from the employee record \r\n      -- Example Of: PROCEDURE that takes in a parameter of RECORD type \r\n      PROCEDURE print_employee_all_details(empl1 emp_rec , emp_rec_string OUT VARCHAR2)\r\n\r\nI was looking at the [Oracle JDBC Documentation][1] that indicated JDBC does not support composite types like RECORDS:\r\n\r\n![enter image description here][2]\r\n\r\nSearching the internet took me to [this link][3] \r\n\r\nHere is the code that I tried to pass a user defined record to a PL/SQL procedure:\r\n\r\n```java\r\npublic String printEmployeeAllDetails() {\r\n    Connection conn = null;\r\n    CallableStatement callStmt = null;\r\n    String empDetails = null;\r\n\r\n    try {\r\n        // Register the Jdbc Driver\r\n        // Class.forName(JDBC_DRIVER_ORACLE);\r\n\r\n        // Create a Database Connection\r\n        conn = DriverManager.getConnection(DB_URL, DB_USER, DB_PWD);\r\n\r\n        // Create a query string\r\n        String callProc = &quot;{call HR.EMP_PKG.print_employee_all_details( ? , ?) }&quot;;\r\n\r\n        // Create a Callable Statement\r\n        callStmt = conn.prepareCall(callProc);\r\n\r\n\r\n        // Create descriptor for the Oracle Record type &quot;EMP_REC&quot; required\r\n        StructDescriptor recDescriptor = StructDescriptor.createDescriptor(&quot;EMP_REC&quot;, conn);\r\n\r\n        // Stage values for each field in the Oracle record\tin an array\r\n        Object[] javaEmpRec = new Object[8];\r\n\r\n\r\n        // Populate those values in the Array\r\n        javaEmpRec[0] = 100;\r\n        javaEmpRec[1] = &quot;Joe Matthew&quot;;\r\n        javaEmpRec[2] = &quot;IT&quot;;\r\n        javaEmpRec[3] = &quot;Senior Consultant&quot;;\r\n        javaEmpRec[4] = 20000;\r\n        javaEmpRec[5] = 101;\r\n        javaEmpRec[6] = &quot;lombard&quot;;\r\n        javaEmpRec[7] = &quot;222333444&quot;;\r\n\r\n        // Cast the java array into the oracle record type\r\n        STRUCT oracleEmpRec = new STRUCT(recDescriptor, conn, javaEmpRec);\r\n\r\n\r\n        // Bind Values to the IN parameter\r\n        callStmt.setObject(1, oracleEmpRec);\r\n\r\n        // Register OUT parameter\r\n        callStmt.registerOutParameter(2, java.sql.Types.VARCHAR);\r\n\r\n        // Execute the Callable Statement\r\n        callStmt.execute();\r\n\r\n        // Retrieve the value from the OUT parameter\r\n        empDetails = callStmt.getString(2);\r\n        System.out.println(&quot;Emp Details: &quot; + empDetails);\r\n\r\n    } catch (SQLException se) {\r\n        System.out.println(&quot;Exception occured in the database&quot;);\r\n        System.out.println(&quot;Exception message: &quot; + se.getMessage());\r\n        System.out.println(&quot;Database error code: &quot; + se.getErrorCode());\r\n        se.printStackTrace();\r\n    } finally {\r\n        // Clean up\r\n        if (callStmt != null) {\r\n            try {\r\n                callStmt.close();\r\n            } catch (SQLException se2) {\r\n                se2.printStackTrace();\r\n            }\r\n        }\r\n\r\n        if (conn != null) {\r\n            try {\r\n                conn.close();\r\n            } catch (SQLException se2) {\r\n                se2.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    return empDetails;\r\n}\r\n```\r\n\r\nOn running this code I get the following exception:\r\n\r\n    Exception occured in the database\r\n    Exception message: invalid name pattern: HR.EMP_REC\r\n    java.sql.SQLException: invalid name pattern: HR.EMP_REC\r\n    \tat oracle.jdbc.oracore.OracleTypeADT.initMetadata(OracleTypeADT.java:554)\r\n    \tat oracle.jdbc.oracore.OracleTypeADT.init(OracleTypeADT.java:471)\r\n    \tat oracle.sql.StructDescriptor.initPickler(StructDescriptor.java:324)\r\n    \tat oracle.sql.StructDescriptor.&lt;init&gt;(StructDescriptor.java:254)\r\n    \tat oracle.sql.StructDescriptor.createDescriptor(StructDescriptor.java:135)\r\n    \tat oracle.sql.StructDescriptor.createDescriptor(StructDescriptor.java:103)\r\n    Database error code: 17074\r\n    \tat oracle.sql.StructDescriptor.createDescriptor(StructDescriptor.java:72)\r\n    \tat com.rolta.HrManager.printEmployeeAllDetails(HrManager.java:1214)\r\n    \tat com.rolta.HrManager.main(HrManager.java:1334)\r\n    \r\nI am using the `ojdbc6.jar` the very first jar under heading `JDBC Thin for All Platforms` for  `Oracle Database 11g Release 2 (11.2.0.4) JDBC Drivers`[on this page][4].\r\n\r\n**I want to know if passing user defined records (as IN parameter) to a PL/SQL procedure is allowed ?  Has anybody tried doing the above ?**\r\n\r\n\r\n  [1]: http://docs.oracle.com/cd/E11882_01/java.112/e16548/oraint.htm#JJDBC28180\r\n  [2]: http://i.stack.imgur.com/2VGbx.jpg\r\n  [3]: http://betteratoracle.com/posts/31-passing-record-types-between-oracle-and-java\r\n  [4]: http://www.oracle.com/technetwork/apps-tech/jdbc-112010-090769.html","title":"Calling PL/SQL procedure with user defined record as its IN parameter using JDBC","body":"<p>I am trying to call the following PL/SQL procedure that takes a user defined record type as an <code>IN</code> parameter.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>   -- User Defined Record\n   TYPE EMP_REC IS RECORD\n   (\n    id employees.employee_id%type,\n    name employees.last_name%type,\n    dept_name departments.department_name%type,\n    job_title jobs.job_title%type,\n    salary employees.salary%type,\n    manager_id employees.employee_id%type,\n    city locations.city%type,\n    phone employees.phone_number%type\n   );\n</code></pre>\n<p>Here is the definition of the user defined record:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>  -- PURPOSE: Prints all employee information from the employee record \n  -- Example Of: PROCEDURE that takes in a parameter of RECORD type \n  PROCEDURE print_employee_all_details(empl1 emp_rec , emp_rec_string OUT VARCHAR2)\n</code></pre>\n<p>I was looking at the <a href=\"http://docs.oracle.com/cd/E11882_01/java.112/e16548/oraint.htm#JJDBC28180\" rel=\"nofollow noreferrer\">Oracle JDBC Documentation</a> that indicated JDBC does not support composite types like RECORDS:</p>\n<p><img src=\"https://i.stack.imgur.com/2VGbx.jpg\" alt=\"enter image description here\" /></p>\n<p>Searching the internet took me to <a href=\"http://betteratoracle.com/posts/31-passing-record-types-between-oracle-and-java\" rel=\"nofollow noreferrer\">this link</a></p>\n<p>Here is the code that I tried to pass a user defined record to a PL/SQL procedure:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String printEmployeeAllDetails() {\n    Connection conn = null;\n    CallableStatement callStmt = null;\n    String empDetails = null;\n\n    try {\n        // Register the Jdbc Driver\n        // Class.forName(JDBC_DRIVER_ORACLE);\n\n        // Create a Database Connection\n        conn = DriverManager.getConnection(DB_URL, DB_USER, DB_PWD);\n\n        // Create a query string\n        String callProc = &quot;{call HR.EMP_PKG.print_employee_all_details( ? , ?) }&quot;;\n\n        // Create a Callable Statement\n        callStmt = conn.prepareCall(callProc);\n\n\n        // Create descriptor for the Oracle Record type &quot;EMP_REC&quot; required\n        StructDescriptor recDescriptor = StructDescriptor.createDescriptor(&quot;EMP_REC&quot;, conn);\n\n        // Stage values for each field in the Oracle record in an array\n        Object[] javaEmpRec = new Object[8];\n\n\n        // Populate those values in the Array\n        javaEmpRec[0] = 100;\n        javaEmpRec[1] = &quot;Joe Matthew&quot;;\n        javaEmpRec[2] = &quot;IT&quot;;\n        javaEmpRec[3] = &quot;Senior Consultant&quot;;\n        javaEmpRec[4] = 20000;\n        javaEmpRec[5] = 101;\n        javaEmpRec[6] = &quot;lombard&quot;;\n        javaEmpRec[7] = &quot;222333444&quot;;\n\n        // Cast the java array into the oracle record type\n        STRUCT oracleEmpRec = new STRUCT(recDescriptor, conn, javaEmpRec);\n\n\n        // Bind Values to the IN parameter\n        callStmt.setObject(1, oracleEmpRec);\n\n        // Register OUT parameter\n        callStmt.registerOutParameter(2, java.sql.Types.VARCHAR);\n\n        // Execute the Callable Statement\n        callStmt.execute();\n\n        // Retrieve the value from the OUT parameter\n        empDetails = callStmt.getString(2);\n        System.out.println(&quot;Emp Details: &quot; + empDetails);\n\n    } catch (SQLException se) {\n        System.out.println(&quot;Exception occured in the database&quot;);\n        System.out.println(&quot;Exception message: &quot; + se.getMessage());\n        System.out.println(&quot;Database error code: &quot; + se.getErrorCode());\n        se.printStackTrace();\n    } finally {\n        // Clean up\n        if (callStmt != null) {\n            try {\n                callStmt.close();\n            } catch (SQLException se2) {\n                se2.printStackTrace();\n            }\n        }\n\n        if (conn != null) {\n            try {\n                conn.close();\n            } catch (SQLException se2) {\n                se2.printStackTrace();\n            }\n        }\n    }\n\n    return empDetails;\n}\n</code></pre>\n<p>On running this code I get the following exception:</p>\n<pre><code>Exception occured in the database\nException message: invalid name pattern: HR.EMP_REC\njava.sql.SQLException: invalid name pattern: HR.EMP_REC\n    at oracle.jdbc.oracore.OracleTypeADT.initMetadata(OracleTypeADT.java:554)\n    at oracle.jdbc.oracore.OracleTypeADT.init(OracleTypeADT.java:471)\n    at oracle.sql.StructDescriptor.initPickler(StructDescriptor.java:324)\n    at oracle.sql.StructDescriptor.&lt;init&gt;(StructDescriptor.java:254)\n    at oracle.sql.StructDescriptor.createDescriptor(StructDescriptor.java:135)\n    at oracle.sql.StructDescriptor.createDescriptor(StructDescriptor.java:103)\nDatabase error code: 17074\n    at oracle.sql.StructDescriptor.createDescriptor(StructDescriptor.java:72)\n    at com.rolta.HrManager.printEmployeeAllDetails(HrManager.java:1214)\n    at com.rolta.HrManager.main(HrManager.java:1334)\n</code></pre>\n<p>I am using the <code>ojdbc6.jar</code> the very first jar under heading <code>JDBC Thin for All Platforms</code> for  <code>Oracle Database 11g Release 2 (11.2.0.4) JDBC Drivers</code><a href=\"http://www.oracle.com/technetwork/apps-tech/jdbc-112010-090769.html\" rel=\"nofollow noreferrer\">on this page</a>.</p>\n<p><strong>I want to know if passing user defined records (as IN parameter) to a PL/SQL procedure is allowed ?  Has anybody tried doing the above ?</strong></p>\n"},{"tags":["java","generics","inner-classes"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":3,"creation_date":1523473864,"post_id":49782750,"comment_id":86580822,"body_markdown":"Remove `&lt;A,B&gt;` from the `TaggedUnion` class. Since the nested class isn&#39;t static, the `&lt;A,B&gt;` type parameters of `TaggedUnionBuilder` applies to `TaggedUnion` too,","body":"Remove <code>&lt;A,B&gt;</code> from the <code>TaggedUnion</code> class. Since the nested class isn&#39;t static, the <code>&lt;A,B&gt;</code> type parameters of <code>TaggedUnionBuilder</code> applies to <code>TaggedUnion</code> too,"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":2,"creation_date":1523473879,"post_id":49782750,"comment_id":86580830,"body_markdown":"You don&#39;t need to declare type parameters in `TaggedUnion`. Just use `A` and `B`, what&#39;s the problem?","body":"You don&#39;t need to declare type parameters in <code>TaggedUnion</code>. Just use <code>A</code> and <code>B</code>, what&#39;s the problem?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1523473900,"post_id":49782750,"comment_id":86580838,"body_markdown":"If you deploy the Builder pattern, you normally write the builder as inner class of the class, not the other way around. Aside from that, the inner class is generic, when the enclosing class is generic. You can already use the generic parameters of the outer class.","body":"If you deploy the Builder pattern, you normally write the builder as inner class of the class, not the other way around. Aside from that, the inner class is generic, when the enclosing class is generic. You can already use the generic parameters of the outer class."},{"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"score":0,"creation_date":1523473981,"post_id":49782750,"comment_id":86580888,"body_markdown":"@Andreas then you cannot return `TaggedUnion` as generic from TaggedUnionBuilder&#39;s `left` &amp; `right` methods. You get the error &gt;java: type TaggedUnionBuilder.TaggedUnion does not take parameters","body":"@Andreas then you cannot return <code>TaggedUnion</code> as generic from TaggedUnionBuilder&#39;s <code>left</code> &amp; <code>right</code> methods. You get the error &gt;java: type TaggedUnionBuilder.TaggedUnion does not take parameters"},{"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"score":0,"creation_date":1523474019,"post_id":49782750,"comment_id":86580907,"body_markdown":"@lexicore because then consumers of the union won&#39;t know the possible types","body":"@lexicore because then consumers of the union won&#39;t know the possible types"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1523474023,"post_id":49782750,"comment_id":86580911,"body_markdown":"@ArtB The parameters go on  `TaggedUnionBuilder`, not on `TaggedUnion`","body":"@ArtB The parameters go on  <code>TaggedUnionBuilder</code>, not on <code>TaggedUnion</code>"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1523474023,"post_id":49782750,"comment_id":86580912,"body_markdown":"@ArtB Well, you&#39;ll have to remove `&lt;A, B&gt;` and `&lt;&gt;` there as well.","body":"@ArtB Well, you&#39;ll have to remove <code>&lt;A, B&gt;</code> and <code>&lt;&gt;</code> there as well."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1523474057,"post_id":49782750,"comment_id":86580922,"body_markdown":"@ArtB When you remove type parameter from `TaggedUnion`, remove them everywhere, including on the `left` method: `TaggedUnion left( A aA ){ return new TaggedUnion( true, aA  ); }`","body":"@ArtB When you remove type parameter from <code>TaggedUnion</code>, remove them everywhere, including on the <code>left</code> method: <code>TaggedUnion left( A aA ){ return new TaggedUnion( true, aA  ); }</code>"},{"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"score":0,"creation_date":1523474112,"post_id":49782750,"comment_id":86580937,"body_markdown":"@lexicore Yeah, sure, that makes it compile, but useless. The goal is to have a TaggedUnion with generic types.","body":"@lexicore Yeah, sure, that makes it compile, but useless. The goal is to have a TaggedUnion with generic types."},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1523474113,"post_id":49782750,"comment_id":86580939,"body_markdown":"With the solution proposed above, the returned type will be a `TaggedUnionBuilder&lt;A,B&gt;.TaggedUnion`, the generic is still ok with this","body":"With the solution proposed above, the returned type will be a <code>TaggedUnionBuilder&lt;A,B&gt;.TaggedUnion</code>, the generic is still ok with this"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1523474160,"post_id":49782750,"comment_id":86580960,"body_markdown":"@ArtB well the whole class seems pretty useless because if you can cast one type into another, they stand in some kind of inheritance relationship...","body":"@ArtB well the whole class seems pretty useless because if you can cast one type into another, they stand in some kind of inheritance relationship..."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1523474163,"post_id":49782750,"comment_id":86580961,"body_markdown":"Because `TaggedUnion` is non-static, the full name, as seen by caller, is `TaggedUnionBuilder&lt;Foo,Bar&gt;.TaggedUnion`. Perhaps you wanted `TaggedUnion` to be static with it&#39;s own `A` and `B`?","body":"Because <code>TaggedUnion</code> is non-static, the full name, as seen by caller, is <code>TaggedUnionBuilder&lt;Foo,Bar&gt;.TaggedUnion</code>. Perhaps you wanted <code>TaggedUnion</code> to be static with it&#39;s own <code>A</code> and <code>B</code>?"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":2,"creation_date":1523474168,"post_id":49782750,"comment_id":86580962,"body_markdown":"@ArtB `TaggedUnion` *is* generic. `left()` and `right()` return `TaggedUnionBuilder&lt;A, B&gt;.TaggedUnion`.","body":"@ArtB <code>TaggedUnion</code> <i>is</i> generic. <code>left()</code> and <code>right()</code> return <code>TaggedUnionBuilder&lt;A, B&gt;.TaggedUnion</code>."},{"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"score":0,"creation_date":1523474290,"post_id":49782750,"comment_id":86581034,"body_markdown":"@lexicore Yeah, I didn&#39;t think about referencing it with the parent name, I just wanted to have `TaggedUnion&lt;A,B&gt;` because otherwise it&#39;s verbose, but yes, it works for the question as stated... just not ergonmic :-/","body":"@lexicore Yeah, I didn&#39;t think about referencing it with the parent name, I just wanted to have <code>TaggedUnion&lt;A,B&gt;</code> because otherwise it&#39;s verbose, but yes, it works for the question as stated... just not ergonmic :-/"},{"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"score":0,"creation_date":1523474696,"post_id":49782750,"comment_id":86581248,"body_markdown":"@lexicore Used your comment to create a new answer. If you want to copy and paste it to claim it as your own I&#39;ll accept it.","body":"@lexicore Used your comment to create a new answer. If you want to copy and paste it to claim it as your own I&#39;ll accept it."},{"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"score":0,"creation_date":1523474822,"post_id":49782750,"comment_id":86581328,"body_markdown":"@Turing85 They are not expected to be related, you know which method is safe to call by checking the `isLeft()` method before calling `left()`","body":"@Turing85 They are not expected to be related, you know which method is safe to call by checking the <code>isLeft()</code> method before calling <code>left()</code>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1523475908,"post_id":49782750,"comment_id":86581906,"body_markdown":"@ArtB from [the documentation of `Class#cast(Object o)`](https://docs.oracle.com/javase/9/docs/api/java/lang/Class.html#cast-java.lang.Object-): &quot;*Throws: ClassCastException - if the object is not null and is not assignable to the type T.*&quot; In other words: if `A` and `B` are not related, you will get an `ClassCastException`.","body":"@ArtB from <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Class.html#cast-java.lang.Object-\" rel=\"nofollow noreferrer\">the documentation of <code>Class#cast(Object o)</code></a>: &quot;<i>Throws: ClassCastException - if the object is not null and is not assignable to the type T.</i>&quot; In other words: if <code>A</code> and <code>B</code> are not related, you will get an <code>ClassCastException</code>."},{"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"score":0,"creation_date":1523476118,"post_id":49782750,"comment_id":86582028,"body_markdown":"@Turing85 yes, if you call `left()` without ensuring that `isLeft()` is `true` you will get a `ClassCastException`. That is why that code is there to catch that instead of silently failing because of erasure. If you didn&#39;t care about that you wouldn&#39;t need to pass in the `Class` objects at all.","body":"@Turing85 yes, if you call <code>left()</code> without ensuring that <code>isLeft()</code> is <code>true</code> you will get a <code>ClassCastException</code>. That is why that code is there to catch that instead of silently failing because of erasure. If you didn&#39;t care about that you wouldn&#39;t need to pass in the <code>Class</code> objects at all."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1523476292,"post_id":49782750,"comment_id":86582126,"body_markdown":"How come you have some variable and you don&#39;t know whether it is a `String` or a `Date`?","body":"How come you have some variable and you don&#39;t know whether it is a <code>String</code> or a <code>Date</code>?"},{"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"score":0,"creation_date":1523477300,"post_id":49782750,"comment_id":86582686,"body_markdown":"@Turing85 A contrived example. A list of appointments with the date as a free text field. Some of them can be parsed into a real date &quot;2018-04-11&quot;, and some that can&#39;t &quot;after Jon&#39;s birthday&quot;. In that case we can parse it into a date, we can do additional logic, but otherwise we still need to track the data even if we cannot action it.","body":"@Turing85 A contrived example. A list of appointments with the date as a free text field. Some of them can be parsed into a real date &quot;2018-04-11&quot;, and some that can&#39;t &quot;after Jon&#39;s birthday&quot;. In that case we can parse it into a date, we can do additional logic, but otherwise we still need to track the data even if we cannot action it."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1523477799,"post_id":49782750,"comment_id":86582933,"body_markdown":"Wouldn&#39;t it be cleaner to have separate `Appointment` implementations for those cases? This way, you can define the &quot;additional logic&quot; behaviour in the right context.","body":"Wouldn&#39;t it be cleaner to have separate <code>Appointment</code> implementations for those cases? This way, you can define the &quot;additional logic&quot; behaviour in the right context."},{"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"score":0,"creation_date":1523478083,"post_id":49782750,"comment_id":86583089,"body_markdown":"@Turing85 if you would like model it as part of your domain then yes, but if you need it as a one off in a small method this is nicer. Same argument goes for Guava&#39;s Pair and Triple classes.","body":"@Turing85 if you would like model it as part of your domain then yes, but if you need it as a one off in a small method this is nicer. Same argument goes for Guava&#39;s Pair and Triple classes."}],"answers":[{"comments":[{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1523475207,"post_id":49782751,"comment_id":86581526,"body_markdown":"It is a workaround but change the context a bit, a nested class and a static nested class are two different thing... This can be confusing to find twice `L` and `R` but those can actually be different types in these classes.","body":"It is a workaround but change the context a bit, a nested class and a static nested class are two different thing... This can be confusing to find twice <code>L</code> and <code>R</code> but those can actually be different types in these classes."},{"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"score":0,"creation_date":1523475294,"post_id":49782751,"comment_id":86581575,"body_markdown":"Well it is safe because of the private constructor ensures they will always be the same, but yes, you are right.","body":"Well it is safe because of the private constructor ensures they will always be the same, but yes, you are right."},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1523475379,"post_id":49782751,"comment_id":86581632,"body_markdown":"Yes, I was editing to add that you used a safeguard that is MANDATORY to use safely that solution ;)","body":"Yes, I was editing to add that you used a safeguard that is MANDATORY to use safely that solution ;)"}],"tags":[],"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523547021,"creation_date":1523473665,"answer_id":49782751,"question_id":49782750,"body_markdown":"One work around it to make the inner class `TaggedUnion` a `static class` and pass in an instance of `TaggedUnionBuilder` explicitly. This would resolve the issue.\r\n\r\n\r\n    public class TaggedUnionBuilder&lt;L,R&gt;{\r\n        private final Class&lt;L&gt; leftClass;\r\n        private final Class&lt;R&gt; rightClass;\r\n    \r\n        public TaggedUnionBuilder( Class&lt; L &gt; leftClass, Class&lt; R &gt; rightClass ) {\r\n            this.leftClass  = leftClass;\r\n            this.rightClass = rightClass;\r\n        }\r\n    \r\n        public TaggedUnion&lt;L,R&gt; left( L aLeft ){\r\n            return new TaggedUnion&lt;&gt;( this, true, aLeft  );\r\n        }\r\n    \r\n        public TaggedUnion&lt;L,R&gt; right( R aRight ){\r\n            return new TaggedUnion&lt;&gt;( this, false, aRight  );\r\n        }\r\n    \r\n    \r\n        public static class TaggedUnion&lt;L,R&gt;{\r\n            private final boolean isLeftClass;\r\n            private final Object value;\r\n            private final TaggedUnionBuilder&lt;L,R&gt; parent;\r\n    \r\n    \r\n            private TaggedUnion( TaggedUnionBuilder&lt;L,R&gt; aParent, boolean isLeftClass, Object aValue ) {\r\n                this.parent = aParent;\r\n                this.isLeftClass = isLeftClass;\r\n                this.value = aValue;\r\n            }\r\n    \r\n            public L left(){\r\n                return parent.leftClass.cast( value );\r\n            }\r\n    \r\n            public R right(){\r\n                return parent.rightClass.cast( value );\r\n            }\r\n    \r\n            public boolean isLeft(){\r\n                return isLeftClass;\r\n            }\r\n    \r\n            public boolean isRight(){\r\n                return !isLeftClass;\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nbut effectively makes `TaggedUnion` a separate class (would just need to make accessors for the classes on `TaggedUnionBuilder`).\r\n","title":"Is there any way to declare that an inner class has the same generic type as the outer?","body":"<p>One work around it to make the inner class <code>TaggedUnion</code> a <code>static class</code> and pass in an instance of <code>TaggedUnionBuilder</code> explicitly. This would resolve the issue.</p>\n\n<pre><code>public class TaggedUnionBuilder&lt;L,R&gt;{\n    private final Class&lt;L&gt; leftClass;\n    private final Class&lt;R&gt; rightClass;\n\n    public TaggedUnionBuilder( Class&lt; L &gt; leftClass, Class&lt; R &gt; rightClass ) {\n        this.leftClass  = leftClass;\n        this.rightClass = rightClass;\n    }\n\n    public TaggedUnion&lt;L,R&gt; left( L aLeft ){\n        return new TaggedUnion&lt;&gt;( this, true, aLeft  );\n    }\n\n    public TaggedUnion&lt;L,R&gt; right( R aRight ){\n        return new TaggedUnion&lt;&gt;( this, false, aRight  );\n    }\n\n\n    public static class TaggedUnion&lt;L,R&gt;{\n        private final boolean isLeftClass;\n        private final Object value;\n        private final TaggedUnionBuilder&lt;L,R&gt; parent;\n\n\n        private TaggedUnion( TaggedUnionBuilder&lt;L,R&gt; aParent, boolean isLeftClass, Object aValue ) {\n            this.parent = aParent;\n            this.isLeftClass = isLeftClass;\n            this.value = aValue;\n        }\n\n        public L left(){\n            return parent.leftClass.cast( value );\n        }\n\n        public R right(){\n            return parent.rightClass.cast( value );\n        }\n\n        public boolean isLeft(){\n            return isLeftClass;\n        }\n\n        public boolean isRight(){\n            return !isLeftClass;\n        }\n    }\n\n}\n</code></pre>\n\n<p>but effectively makes <code>TaggedUnion</code> a separate class (would just need to make accessors for the classes on <code>TaggedUnionBuilder</code>).</p>\n"},{"tags":[],"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523474653,"creation_date":1523474653,"answer_id":49783015,"question_id":49782750,"body_markdown":"The real answer to the question as stated (given by @lexicore in the comments) is to qualify the returned type using the parent name like such:\r\n\r\n    public class TaggedUnionBuilder&lt;A,B&gt;{\r\n        private final Class&lt;A&gt; classA;\r\n        private final Class&lt;B&gt; classB;\r\n\r\n        public TaggedUnionBuilder( Class&lt; A &gt; classA, Class&lt; B &gt; classB ) {\r\n            this.classA = classA;\r\n            this.classB = classB;\r\n        }\r\n\r\n        public TaggedUnionBuilder&lt;A,B&gt;.TaggedUnion left( A aA ){\r\n            return new TaggedUnion( true, aA  );\r\n        }\r\n\r\n        public TaggedUnionBuilder&lt;A,B&gt;.TaggedUnion right( B aB ){\r\n            return new TaggedUnion( false, aB  );\r\n        }\r\n\r\n\r\n        public class TaggedUnion{\r\n            private final boolean isClassA;\r\n            private final Object value;\r\n\r\n            private TaggedUnion( boolean isClassA, Object aValue ) {\r\n                this.isClassA = isClassA;\r\n                this.value = aValue;\r\n            }\r\n\r\n            A left(){\r\n                return classA.cast( value );\r\n            }\r\n\r\n            B right(){\r\n                return classB.cast( value );\r\n            }\r\n\r\n            boolean isA(){\r\n                return isClassA;\r\n            }\r\n\r\n            boolean isB(){\r\n                return !isClassA;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nBut this means you cannot refer to `TaggedUnion` genericly _without_ including the containing class in the type (ie always `TaggedUnionBuilder&lt;A,B&gt;.TaggedUnion` instead of `TaggedUnion`) which is brutal ergonomically but answers the question as stated.","title":"Is there any way to declare that an inner class has the same generic type as the outer?","body":"<p>The real answer to the question as stated (given by @lexicore in the comments) is to qualify the returned type using the parent name like such:</p>\n\n<pre><code>public class TaggedUnionBuilder&lt;A,B&gt;{\n    private final Class&lt;A&gt; classA;\n    private final Class&lt;B&gt; classB;\n\n    public TaggedUnionBuilder( Class&lt; A &gt; classA, Class&lt; B &gt; classB ) {\n        this.classA = classA;\n        this.classB = classB;\n    }\n\n    public TaggedUnionBuilder&lt;A,B&gt;.TaggedUnion left( A aA ){\n        return new TaggedUnion( true, aA  );\n    }\n\n    public TaggedUnionBuilder&lt;A,B&gt;.TaggedUnion right( B aB ){\n        return new TaggedUnion( false, aB  );\n    }\n\n\n    public class TaggedUnion{\n        private final boolean isClassA;\n        private final Object value;\n\n        private TaggedUnion( boolean isClassA, Object aValue ) {\n            this.isClassA = isClassA;\n            this.value = aValue;\n        }\n\n        A left(){\n            return classA.cast( value );\n        }\n\n        B right(){\n            return classB.cast( value );\n        }\n\n        boolean isA(){\n            return isClassA;\n        }\n\n        boolean isB(){\n            return !isClassA;\n        }\n    }\n\n}\n</code></pre>\n\n<p>But this means you cannot refer to <code>TaggedUnion</code> genericly <em>without</em> including the containing class in the type (ie always <code>TaggedUnionBuilder&lt;A,B&gt;.TaggedUnion</code> instead of <code>TaggedUnion</code>) which is brutal ergonomically but answers the question as stated.</p>\n"},{"tags":[],"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684166018,"creation_date":1523474686,"answer_id":49783023,"question_id":49782750,"body_markdown":"Since you have an inner class, the generic type are &quot;propagated&quot; into the inner class too.\r\n\r\n    public class Outer&lt;A&gt; {\r\n    \r\n        Inner in;\r\n    \r\n        Outer( A a ) {\r\n            in = new Inner( a );\r\n        }\r\n    \r\n        Inner get() {\r\n            return in;\r\n        }\r\n    \r\n        class Inner {\r\n            A value;\r\n    \r\n             Inner( A value ) {\r\n                this.value = value;\r\n            }\r\n        }\r\n    \r\n        public static void main( String[] args ) {\r\n            String s = new Outer&lt;&gt;( &quot;test&quot; ).get().value;\r\n            //And to declare an variable Inner\r\n            Outer&lt;String&gt;.Inner i = new Outer&lt;&gt;( &quot;test&quot; ).get();\r\n        }\r\n    }\r\n\r\n\r\nDeclaring an `Outer&lt;String&gt;` will then give a `Outer&lt;String&gt;.Inner`, the `value` will be a `String`.\r\n\r\nIf you declare an `Inner`, you need to use the full class name to specify the generic type, a bit more verbose but a correct solution.","title":"Is there any way to declare that an inner class has the same generic type as the outer?","body":"<p>Since you have an inner class, the generic type are &quot;propagated&quot; into the inner class too.</p>\n<pre><code>public class Outer&lt;A&gt; {\n\n    Inner in;\n\n    Outer( A a ) {\n        in = new Inner( a );\n    }\n\n    Inner get() {\n        return in;\n    }\n\n    class Inner {\n        A value;\n\n         Inner( A value ) {\n            this.value = value;\n        }\n    }\n\n    public static void main( String[] args ) {\n        String s = new Outer&lt;&gt;( &quot;test&quot; ).get().value;\n        //And to declare an variable Inner\n        Outer&lt;String&gt;.Inner i = new Outer&lt;&gt;( &quot;test&quot; ).get();\n    }\n}\n</code></pre>\n<p>Declaring an <code>Outer&lt;String&gt;</code> will then give a <code>Outer&lt;String&gt;.Inner</code>, the <code>value</code> will be a <code>String</code>.</p>\n<p>If you declare an <code>Inner</code>, you need to use the full class name to specify the generic type, a bit more verbose but a correct solution.</p>\n"},{"comments":[{"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"score":0,"creation_date":1523475935,"post_id":49783251,"comment_id":86581921,"body_markdown":"It is not an inheritance relationship. It is used for in my case Strings and Dates. If the type `TaggedUnion&lt;String,Date&gt;` you know that if `isLeft()` is `true` then `left()` will return a `String` and `right()` will produce `ClassCastException`, likewise when `isRight()` is `true` (ie `isLeft()` is `false`) `right()` returns a `Date` and `left()` a `ClassCastException`... and the whole thing get weird with `null`.","body":"It is not an inheritance relationship. It is used for in my case Strings and Dates. If the type <code>TaggedUnion&lt;String,Date&gt;</code> you know that if <code>isLeft()</code> is <code>true</code> then <code>left()</code> will return a <code>String</code> and <code>right()</code> will produce <code>ClassCastException</code>, likewise when <code>isRight()</code> is <code>true</code> (ie <code>isLeft()</code> is <code>false</code>) <code>right()</code> returns a <code>Date</code> and <code>left()</code> a <code>ClassCastException</code>... and the whole thing get weird with <code>null</code>."}],"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523476384,"creation_date":1523475687,"answer_id":49783251,"question_id":49782750,"body_markdown":"**Preface**\r\n\r\nLet me start by doubting the usefulness of a class like the one you showed. If one is able to cast one type into another, either at least one type is an interface or both types stand in an inheritance relationship. From my point of view, you can do all this with [`Class#isAssignableForm(Object obj)`][1], [`Class#isInstance(Object obj)`][2] and [`Class#cast(Object obj)`][3].\r\n\r\nWhen deploying the [Builder Pattern][4], one normally writes the builder as inner static class of the actual type. This facilitates readability (the important class is the POJO, not the builder). Furthermore, an inner (non-static) class always has an implicit reference to the instance of the surrounding class it was created from.\r\n\r\n---\r\n**Is there any way to reuse the generic parameters of an outer clas by an inner class?**\r\n\r\nYes there is. Let&#39;s look at some simplified version of your code.\r\n\r\n    public class TaggedUnionBuilder&lt;A, B&gt; {\r\n        // ...\r\n        public class TaggedUnion {\r\n            // ...\r\n        }\r\n    }\r\n\r\nAs we know, we instantiate inner classes by first instantiating an instance of the outer class and THEN calling `new &lt;InnerClass&gt;()` on this instance like so:\r\n\r\n    TaggedUnionBuilder&lt;String, Object&gt; builder = new TaggedUnionBuilder&lt;String, Object&gt;();\r\n    TaggedUnionBuilder&lt;String, Object&gt;.TaggedUnion union = builder.new TaggedUnion();\r\n\r\nWriting this, one sees that the complete type of `union` is indeed `TaggedUnionBuilder&lt;String, Object&gt;.TaggedUnion`.\r\n\r\n---\r\n**What does this mean for the implementation?**\r\n\r\nWe can use generic parameters `A` and `B` already in `TaggedUnion`. Thus, we can refactor the code to:\r\n\r\n\r\n    public class TaggedUnionBuilder&lt;A, B&gt; {\r\n        private final Class&lt;A&gt; classA;\r\n        private final Class&lt;B&gt; classB;\r\n    \r\n        public TaggedUnionBuilder(Class&lt;A&gt; classA, Class&lt;B&gt; classB) {\r\n            this.classA = classA;\r\n            this.classB = classB;\r\n        }\r\n    \r\n        TaggedUnion left(A a) {\r\n            return new TaggedUnion(true, a);\r\n        }\r\n    \r\n        TaggedUnion right(B b) {\r\n            return new TaggedUnion(false, b);\r\n        }\r\n    \r\n        public class TaggedUnion {\r\n            private final boolean isClassA;\r\n            private final Object  value;\r\n    \r\n            private TaggedUnion(boolean isClassA, Object value) {\r\n                this.isClassA = isClassA;\r\n                this.value = value;\r\n            }\r\n    \r\n            A left() {\r\n                return classA.cast(value);\r\n            }\r\n    \r\n            B right() {\r\n                return classB.cast(value);\r\n            }\r\n    \r\n            boolean isA() {\r\n                return isClassA;\r\n            }\r\n    \r\n            boolean isB() {\r\n                return !isClassA;\r\n            }\r\n        }\r\n    }\r\n\r\n[1]: https://docs.oracle.com/javase/9/docs/api/java/lang/Class.html#isAssignableFrom-java.lang.Class-\r\n\r\n[2]: https://docs.oracle.com/javase/9/docs/api/java/lang/Class.html#isInstance-java.lang.Object-\r\n\r\n[3]: https://docs.oracle.com/javase/9/docs/api/java/lang/Class.html#cast-java.lang.Object-\r\n\r\n[4]: https://en.wikipedia.org/wiki/Builder_pattern\r\n","title":"Is there any way to declare that an inner class has the same generic type as the outer?","body":"<p><strong>Preface</strong></p>\n\n<p>Let me start by doubting the usefulness of a class like the one you showed. If one is able to cast one type into another, either at least one type is an interface or both types stand in an inheritance relationship. From my point of view, you can do all this with <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Class.html#isAssignableFrom-java.lang.Class-\" rel=\"nofollow noreferrer\"><code>Class#isAssignableForm(Object obj)</code></a>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Class.html#isInstance-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>Class#isInstance(Object obj)</code></a> and <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Class.html#cast-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>Class#cast(Object obj)</code></a>.</p>\n\n<p>When deploying the <a href=\"https://en.wikipedia.org/wiki/Builder_pattern\" rel=\"nofollow noreferrer\">Builder Pattern</a>, one normally writes the builder as inner static class of the actual type. This facilitates readability (the important class is the POJO, not the builder). Furthermore, an inner (non-static) class always has an implicit reference to the instance of the surrounding class it was created from.</p>\n\n<hr>\n\n<p><strong>Is there any way to reuse the generic parameters of an outer clas by an inner class?</strong></p>\n\n<p>Yes there is. Let's look at some simplified version of your code.</p>\n\n<pre><code>public class TaggedUnionBuilder&lt;A, B&gt; {\n    // ...\n    public class TaggedUnion {\n        // ...\n    }\n}\n</code></pre>\n\n<p>As we know, we instantiate inner classes by first instantiating an instance of the outer class and THEN calling <code>new &lt;InnerClass&gt;()</code> on this instance like so:</p>\n\n<pre><code>TaggedUnionBuilder&lt;String, Object&gt; builder = new TaggedUnionBuilder&lt;String, Object&gt;();\nTaggedUnionBuilder&lt;String, Object&gt;.TaggedUnion union = builder.new TaggedUnion();\n</code></pre>\n\n<p>Writing this, one sees that the complete type of <code>union</code> is indeed <code>TaggedUnionBuilder&lt;String, Object&gt;.TaggedUnion</code>.</p>\n\n<hr>\n\n<p><strong>What does this mean for the implementation?</strong></p>\n\n<p>We can use generic parameters <code>A</code> and <code>B</code> already in <code>TaggedUnion</code>. Thus, we can refactor the code to:</p>\n\n<pre><code>public class TaggedUnionBuilder&lt;A, B&gt; {\n    private final Class&lt;A&gt; classA;\n    private final Class&lt;B&gt; classB;\n\n    public TaggedUnionBuilder(Class&lt;A&gt; classA, Class&lt;B&gt; classB) {\n        this.classA = classA;\n        this.classB = classB;\n    }\n\n    TaggedUnion left(A a) {\n        return new TaggedUnion(true, a);\n    }\n\n    TaggedUnion right(B b) {\n        return new TaggedUnion(false, b);\n    }\n\n    public class TaggedUnion {\n        private final boolean isClassA;\n        private final Object  value;\n\n        private TaggedUnion(boolean isClassA, Object value) {\n            this.isClassA = isClassA;\n            this.value = value;\n        }\n\n        A left() {\n            return classA.cast(value);\n        }\n\n        B right() {\n            return classB.cast(value);\n        }\n\n        boolean isA() {\n            return isClassA;\n        }\n\n        boolean isB() {\n            return !isClassA;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"comment_count":22,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":977,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49783023,"answer_count":4,"score":0,"last_activity_date":1684166018,"creation_date":1523473665,"question_id":49782750,"body_markdown":"Is there any way to reuse the generic parameters of an outer class by an inner class?\n\n---\n\nI have the following class \n\n    public class TaggedUnionBuilder&lt;L,R&gt;{\n        private final Class&lt;L&gt; leftClass;\n        private final Class&lt;R&gt; rightClass;\n    \n        public TaggedUnionBuilder( Class&lt; L &gt; leftClass, Class&lt; R &gt; rightClass ) {\n            this.leftClass = leftClass;\n            this.rightClass = rightClass;\n        }\n    \n        TaggedUnion&lt;L,R&gt; left( L aLeft ){\n            return new TaggedUnion&lt;&gt;( true, aLeft  );\n        }\n    \n        TaggedUnion&lt;L,R&gt; right( R aRight ){\n            return new TaggedUnion&lt;&gt;( false, aRight  );\n        }\n    \n    \n        public class TaggedUnion&lt;L,R&gt;{\n            private final boolean isLeftClass;\n            private final Object value;\n    \n    \n            private TaggedUnion( boolean isLeftClass, Object value ) {\n                this.isLeftClass = isLeftClass;\n                this.value = value;\n            }\n    \n            L left(){\n                //vvv compiler error vvv\n                return leftClass.cast( value );\n                //^^^ compiler error ^^^\n            }\n    \n            R right(){\n                //vvv compiler error vvv\n                return rightClass.cast( value );\n                //^^^ compiler error ^^^\n            }\n    \n            boolean isLeft(){\n                return isLeftClass;\n            }\n    \n            boolean isRight(){\n                return !isLeftClass;\n            }\n        }\n    \n    }\n\nHowever, I have a get the errors: \n\n&gt; java: incompatible types: L cannot be converted to L\n&gt;\n&gt; java: incompatible types: R cannot be converted to R\n\nin the `left()` and `right()` methods. \n\nIt seems like the declaration of `L` and `R` in `TaggedUnion` are shadowing the declaration in `TaggedUnionBuilder`. If I remove the generic parameter declaration for `TaggedUnion` I cannot return it as a generic type.\n\nIf I remove the generic parameters off of `TaggedUnion` I get the errors\n\n&gt; java: type TaggedUnionBuilder.TaggedUnion does not take parameters ","title":"Is there any way to declare that an inner class has the same generic type as the outer?","body":"<p>Is there any way to reuse the generic parameters of an outer class by an inner class?</p>\n<hr />\n<p>I have the following class</p>\n<pre><code>public class TaggedUnionBuilder&lt;L,R&gt;{\n    private final Class&lt;L&gt; leftClass;\n    private final Class&lt;R&gt; rightClass;\n\n    public TaggedUnionBuilder( Class&lt; L &gt; leftClass, Class&lt; R &gt; rightClass ) {\n        this.leftClass = leftClass;\n        this.rightClass = rightClass;\n    }\n\n    TaggedUnion&lt;L,R&gt; left( L aLeft ){\n        return new TaggedUnion&lt;&gt;( true, aLeft  );\n    }\n\n    TaggedUnion&lt;L,R&gt; right( R aRight ){\n        return new TaggedUnion&lt;&gt;( false, aRight  );\n    }\n\n\n    public class TaggedUnion&lt;L,R&gt;{\n        private final boolean isLeftClass;\n        private final Object value;\n\n\n        private TaggedUnion( boolean isLeftClass, Object value ) {\n            this.isLeftClass = isLeftClass;\n            this.value = value;\n        }\n\n        L left(){\n            //vvv compiler error vvv\n            return leftClass.cast( value );\n            //^^^ compiler error ^^^\n        }\n\n        R right(){\n            //vvv compiler error vvv\n            return rightClass.cast( value );\n            //^^^ compiler error ^^^\n        }\n\n        boolean isLeft(){\n            return isLeftClass;\n        }\n\n        boolean isRight(){\n            return !isLeftClass;\n        }\n    }\n\n}\n</code></pre>\n<p>However, I have a get the errors:</p>\n<blockquote>\n<p>java: incompatible types: L cannot be converted to L</p>\n<p>java: incompatible types: R cannot be converted to R</p>\n</blockquote>\n<p>in the <code>left()</code> and <code>right()</code> methods.</p>\n<p>It seems like the declaration of <code>L</code> and <code>R</code> in <code>TaggedUnion</code> are shadowing the declaration in <code>TaggedUnionBuilder</code>. If I remove the generic parameter declaration for <code>TaggedUnion</code> I cannot return it as a generic type.</p>\n<p>If I remove the generic parameters off of <code>TaggedUnion</code> I get the errors</p>\n<blockquote>\n<p>java: type TaggedUnionBuilder.TaggedUnion does not take parameters</p>\n</blockquote>\n"},{"tags":["java","json","jackson","quarkus"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1683870340,"post_id":76228719,"comment_id":134435560,"body_markdown":"I&#39;m not completely sure about that, but empty ctor should call `this(Highlight.class)` to made serializer works","body":"I&#39;m not completely sure about that, but empty ctor should call <code>this(Highlight.class)</code> to made serializer works"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1683874430,"post_id":76228719,"comment_id":134436138,"body_markdown":"I tried this same thing on some example code and it worked just fine. See https://github.com/geoand/quarkus/tree/so-76228719","body":"I tried this same thing on some example code and it worked just fine. See <a href=\"https://github.com/geoand/quarkus/tree/so-76228719\" rel=\"nofollow noreferrer\">github.com/geoand/quarkus/tree/so-76228719</a>"},{"owner":{"account_id":945173,"reputation":962,"user_id":1167759,"display_name":"Niklas Heidloff"},"score":0,"creation_date":1684131999,"post_id":76228719,"comment_id":134466079,"body_markdown":"Thanks @geoand and Luca. I&#39;ve tried more variations but cannot get it to work in my setup. Simple samples work, but there might be a conflict with other serializers in my code (see below). How can I debug which serializers are registered and in which order? Thanks!","body":"Thanks @geoand and Luca. I&#39;ve tried more variations but cannot get it to work in my setup. Simple samples work, but there might be a conflict with other serializers in my code (see below). How can I debug which serializers are registered and in which order? Thanks!"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1684133882,"post_id":76228719,"comment_id":134466369,"body_markdown":"Not sure honestly. Whenever I have had such issues, I had to debug Jackson code.","body":"Not sure honestly. Whenever I have had such issues, I had to debug Jackson code."},{"owner":{"account_id":945173,"reputation":962,"user_id":1167759,"display_name":"Niklas Heidloff"},"score":0,"creation_date":1684156246,"post_id":76228719,"comment_id":134471258,"body_markdown":"@geoand I&#39;ve simplified the code. The issue is related to the REST Client. The same serialization code in a REST endpoint, but not when invoking another REST API. https://github.com/nheidloff/quarkus-stackoverflow-76228719 Could you please help? Or should I submit a Quarkus issue?","body":"@geoand I&#39;ve simplified the code. The issue is related to the REST Client. The same serialization code in a REST endpoint, but not when invoking another REST API. <a href=\"https://github.com/nheidloff/quarkus-stackoverflow-76228719\" rel=\"nofollow noreferrer\">github.com/nheidloff/quarkus-stackoverflow-76228719</a> Could you please help? Or should I submit a Quarkus issue?"}],"answers":[{"comments":[{"owner":{"account_id":945173,"reputation":962,"user_id":1167759,"display_name":"Niklas Heidloff"},"score":0,"creation_date":1684131650,"post_id":76240555,"comment_id":134466014,"body_markdown":"Thanks Borislav! It works in your little sample, but not in my case. I use other customizers. How can I make sure object mapper is not deregistered? Adding @Unremovable didn&#39;t help. Is there a way to debug this?","body":"Thanks Borislav! It works in your little sample, but not in my case. I use other customizers. How can I make sure object mapper is not deregistered? Adding @Unremovable didn&#39;t help. Is there a way to debug this?"},{"owner":{"account_id":1335627,"reputation":1470,"user_id":1278463,"display_name":"Borislav Gizdov"},"score":0,"creation_date":1684219342,"post_id":76240555,"comment_id":134481320,"body_markdown":"@NiklasHeidloff, perhaps something else is preventing the mapper from working. Check the logs for anything suspicious or start removing parts of your code one by one to identify when it starts working.","body":"@NiklasHeidloff, perhaps something else is preventing the mapper from working. Check the logs for anything suspicious or start removing parts of your code one by one to identify when it starts working."}],"tags":[],"owner":{"account_id":1335627,"reputation":1470,"user_id":1278463,"display_name":"Borislav Gizdov"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683936816,"creation_date":1683936816,"answer_id":76240555,"question_id":76228719,"body_markdown":"I created a sample app using your code and it&#39;s functioning properly. https://github.com/bgizdov/quarkus-reactive-jackson-serializer\r\n\r\nOne modification to make is adding &quot;jsonGenerator.writeStartObject();&quot; before writing fields in the serialize method.\r\n\r\n```\r\n  @Override\r\n  public void serialize(Highlight value, JsonGenerator jsonGenerator, SerializerProvider provider)\r\n      throws IOException {\r\n    System.out.println(&quot;serialize&quot;);\r\n    jsonGenerator.writeStartObject();\r\n    jsonGenerator.writeStringField(&quot;foo_bar&quot;, &quot;fooobar&quot;);\r\n    jsonGenerator.writeStringField(&quot;niklas&quot;, &quot;niklas&quot;);\r\n  }\r\n```\r\n\r\nThe endpoint http://localhost:8080/hello/highlight returns:\r\n\r\n```\r\n{\r\n    &quot;foo_bar&quot;:&quot;fooobar&quot;,\r\n    &quot;niklas&quot;:&quot;niklas&quot;\r\n}\r\n```\r\n\r\nIf your project is not working, consider the following:\r\n- Check if you have another Jackson object mapper customizer.\r\n- Make sure the object mapper is not deregistered.\r\n- Check logs if the bean is not removed from the project as unused, to prevent this try adding &quot;@Unremovable&quot;.\r\n\r\n\r\nHere is my log:\r\n```\r\ncustomize\r\nconstuctor\r\nconstuctor\r\n__  ____  __  _____   ___  __ ____  ______ \r\n --/ __ \\/ / / / _ | / _ \\/ //_/ / / / __/ \r\n -/ /_/ / /_/ / __ |/ , _/ ,&lt; / /_/ /\\ \\   \r\n--\\___\\_\\____/_/ |_/_/|_/_/|_|\\____/___/   \r\n2023-05-13 03:07:15,961 INFO  [io.quarkus] (Quarkus Main Thread) code-with-quarkus 1.0.0-SNAPSHOT on JVM (powered by Quarkus 2.16.7.Final) started in 1.340s. Listening on: http://localhost:8080\r\n2023-05-13 03:07:15,965 INFO  [io.quarkus] (Quarkus Main Thread) Profile dev activated. Live Coding activated.\r\n2023-05-13 03:07:15,965 INFO  [io.quarkus] (Quarkus Main Thread) Installed features: [cdi, resteasy-reactive, resteasy-reactive-jackson, smallrye-context-propagation, vertx]\r\nserialize\r\n```","title":"Jackson Serializer not invoked in Quarkus","body":"<p>I created a sample app using your code and it's functioning properly. <a href=\"https://github.com/bgizdov/quarkus-reactive-jackson-serializer\" rel=\"nofollow noreferrer\">https://github.com/bgizdov/quarkus-reactive-jackson-serializer</a></p>\n<p>One modification to make is adding &quot;jsonGenerator.writeStartObject();&quot; before writing fields in the serialize method.</p>\n<pre><code>  @Override\n  public void serialize(Highlight value, JsonGenerator jsonGenerator, SerializerProvider provider)\n      throws IOException {\n    System.out.println(&quot;serialize&quot;);\n    jsonGenerator.writeStartObject();\n    jsonGenerator.writeStringField(&quot;foo_bar&quot;, &quot;fooobar&quot;);\n    jsonGenerator.writeStringField(&quot;niklas&quot;, &quot;niklas&quot;);\n  }\n</code></pre>\n<p>The endpoint http://localhost:8080/hello/highlight returns:</p>\n<pre><code>{\n    &quot;foo_bar&quot;:&quot;fooobar&quot;,\n    &quot;niklas&quot;:&quot;niklas&quot;\n}\n</code></pre>\n<p>If your project is not working, consider the following:</p>\n<ul>\n<li>Check if you have another Jackson object mapper customizer.</li>\n<li>Make sure the object mapper is not deregistered.</li>\n<li>Check logs if the bean is not removed from the project as unused, to prevent this try adding &quot;@Unremovable&quot;.</li>\n</ul>\n<p>Here is my log:</p>\n<pre><code>customize\nconstuctor\nconstuctor\n__  ____  __  _____   ___  __ ____  ______ \n --/ __ \\/ / / / _ | / _ \\/ //_/ / / / __/ \n -/ /_/ / /_/ / __ |/ , _/ ,&lt; / /_/ /\\ \\   \n--\\___\\_\\____/_/ |_/_/|_/_/|_|\\____/___/   \n2023-05-13 03:07:15,961 INFO  [io.quarkus] (Quarkus Main Thread) code-with-quarkus 1.0.0-SNAPSHOT on JVM (powered by Quarkus 2.16.7.Final) started in 1.340s. Listening on: http://localhost:8080\n2023-05-13 03:07:15,965 INFO  [io.quarkus] (Quarkus Main Thread) Profile dev activated. Live Coding activated.\n2023-05-13 03:07:15,965 INFO  [io.quarkus] (Quarkus Main Thread) Installed features: [cdi, resteasy-reactive, resteasy-reactive-jackson, smallrye-context-propagation, vertx]\nserialize\n</code></pre>\n"},{"tags":[],"owner":{"account_id":945173,"reputation":962,"user_id":1167759,"display_name":"Niklas Heidloff"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684165735,"creation_date":1684165735,"answer_id":76255826,"question_id":76228719,"body_markdown":"Au, this is embarrassing. I simply forgot to create the object. Can&#39;t make this up.\r\n\r\n```\r\noutput.highlight = new Highlight(); \r\n```","title":"Jackson Serializer not invoked in Quarkus","body":"<p>Au, this is embarrassing. I simply forgot to create the object. Can't make this up.</p>\n<pre><code>output.highlight = new Highlight(); \n</code></pre>\n"}],"owner":{"account_id":945173,"reputation":962,"user_id":1167759,"display_name":"Niklas Heidloff"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":521,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684165735,"creation_date":1683815104,"question_id":76228719,"body_markdown":"I use the MicroProfile REST Client in Quarkus and have declared quarkus-rest-client-reactive-jackson as dependency. For the invocation I need run my own code to serialize my data into JSON. I&#39;ve built a custom serializer extending StdSerializer and registered it via ObjectMapperCustomizer.\r\n\r\nI&#39;ve followed the instructions in this documentation:\r\n- https://quarkus.io/guides/rest-json\r\n- https://github.com/quarkusio/quarkus/issues/15018\r\n\r\nBut my code is never invoked. The code in my ObjectMapperCustomizer in run and the constructors of my serializer are run, but the serialize methhod is never invoked.\r\n\r\n```\r\npublic class HighlightSerializer extends StdSerializer&lt;Highlight&gt; { \r\n    public HighlightSerializer() {\r\n        this(null);\r\n        System.out.println(&quot;constuctor&quot;);\r\n    }\r\n  \r\n    public HighlightSerializer(Class&lt;Highlight&gt; t) {\r\n        super(t);\r\n        System.out.println(&quot;constuctor&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void serialize(Highlight value, JsonGenerator jsonGenerator, SerializerProvider provider) throws IOException, JsonProcessingException {\r\n        System.out.println(&quot;serialize&quot;);\r\n        jsonGenerator.writeStringField(&quot;niklas&quot;, &quot;niklas&quot;);        \r\n    }\r\n```\r\n\r\n```\r\n@Singleton\r\npublic class RegisterCustomModuleCustomizer implements ObjectMapperCustomizer {\r\n    @Override\r\n    public int priority() {\r\n        return MINIMUM_PRIORITY; \r\n    }\r\n\r\n    public void customize(ObjectMapper mapper) {\r\n        System.out.println(&quot;customize&quot;);\r\n        SimpleModule module = new SimpleModule();\r\n        module.addSerializer(Highlight.class, new HighlightSerializer());\r\n        mapper.registerModule(module);\r\n    }\r\n}\r\n```\r\n\r\nHere are pointers to my code:\r\n - Desired JSON that needs to be created with a variable field name: https://github.com/nheidloff/question-answering/blob/299c9131310d5cbfd8fe3620a07738f973852c64/service/src/main/java/com/ibm/question_answering/elasticsearch/AskElasticService.java#L129\r\n - Serializer that is not invoked: https://github.com/nheidloff/question-answering/blob/299c9131310d5cbfd8fe3620a07738f973852c64/service/src/main/java/com/ibm/question_answering/elasticsearch/HighlightSerializer.java#L21\r\n- Attempt to register the serializer: https://github.com/nheidloff/question-answering/blob/299c9131310d5cbfd8fe3620a07738f973852c64/service/src/main/java/com/ibm/question_answering/elasticsearch/RegisterCustomModuleCustomizer.java#L18\r\n\r\n\r\nDoes anyone know how to fix this?\r\nThanks\r\n\r\n**Update May 15th:** \r\n\r\nI&#39;ve simplified the code. The issue is related to the REST Client. The same serialization code works in a REST endpoint, but not when invoking another REST API. So the issue is not related to using different serializers together and not a basic issue in my code.\r\n\r\nhttps://github.com/nheidloff/quarkus-stackoverflow-76228719\r\n\r\nAny ideas how to fix this?","title":"Jackson Serializer not invoked in Quarkus","body":"<p>I use the MicroProfile REST Client in Quarkus and have declared quarkus-rest-client-reactive-jackson as dependency. For the invocation I need run my own code to serialize my data into JSON. I've built a custom serializer extending StdSerializer and registered it via ObjectMapperCustomizer.</p>\n<p>I've followed the instructions in this documentation:</p>\n<ul>\n<li><a href=\"https://quarkus.io/guides/rest-json\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/rest-json</a></li>\n<li><a href=\"https://github.com/quarkusio/quarkus/issues/15018\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/issues/15018</a></li>\n</ul>\n<p>But my code is never invoked. The code in my ObjectMapperCustomizer in run and the constructors of my serializer are run, but the serialize methhod is never invoked.</p>\n<pre><code>public class HighlightSerializer extends StdSerializer&lt;Highlight&gt; { \n    public HighlightSerializer() {\n        this(null);\n        System.out.println(&quot;constuctor&quot;);\n    }\n  \n    public HighlightSerializer(Class&lt;Highlight&gt; t) {\n        super(t);\n        System.out.println(&quot;constuctor&quot;);\n    }\n\n    @Override\n    public void serialize(Highlight value, JsonGenerator jsonGenerator, SerializerProvider provider) throws IOException, JsonProcessingException {\n        System.out.println(&quot;serialize&quot;);\n        jsonGenerator.writeStringField(&quot;niklas&quot;, &quot;niklas&quot;);        \n    }\n</code></pre>\n<pre><code>@Singleton\npublic class RegisterCustomModuleCustomizer implements ObjectMapperCustomizer {\n    @Override\n    public int priority() {\n        return MINIMUM_PRIORITY; \n    }\n\n    public void customize(ObjectMapper mapper) {\n        System.out.println(&quot;customize&quot;);\n        SimpleModule module = new SimpleModule();\n        module.addSerializer(Highlight.class, new HighlightSerializer());\n        mapper.registerModule(module);\n    }\n}\n</code></pre>\n<p>Here are pointers to my code:</p>\n<ul>\n<li>Desired JSON that needs to be created with a variable field name: <a href=\"https://github.com/nheidloff/question-answering/blob/299c9131310d5cbfd8fe3620a07738f973852c64/service/src/main/java/com/ibm/question_answering/elasticsearch/AskElasticService.java#L129\" rel=\"nofollow noreferrer\">https://github.com/nheidloff/question-answering/blob/299c9131310d5cbfd8fe3620a07738f973852c64/service/src/main/java/com/ibm/question_answering/elasticsearch/AskElasticService.java#L129</a></li>\n<li>Serializer that is not invoked: <a href=\"https://github.com/nheidloff/question-answering/blob/299c9131310d5cbfd8fe3620a07738f973852c64/service/src/main/java/com/ibm/question_answering/elasticsearch/HighlightSerializer.java#L21\" rel=\"nofollow noreferrer\">https://github.com/nheidloff/question-answering/blob/299c9131310d5cbfd8fe3620a07738f973852c64/service/src/main/java/com/ibm/question_answering/elasticsearch/HighlightSerializer.java#L21</a></li>\n<li>Attempt to register the serializer: <a href=\"https://github.com/nheidloff/question-answering/blob/299c9131310d5cbfd8fe3620a07738f973852c64/service/src/main/java/com/ibm/question_answering/elasticsearch/RegisterCustomModuleCustomizer.java#L18\" rel=\"nofollow noreferrer\">https://github.com/nheidloff/question-answering/blob/299c9131310d5cbfd8fe3620a07738f973852c64/service/src/main/java/com/ibm/question_answering/elasticsearch/RegisterCustomModuleCustomizer.java#L18</a></li>\n</ul>\n<p>Does anyone know how to fix this?\nThanks</p>\n<p><strong>Update May 15th:</strong></p>\n<p>I've simplified the code. The issue is related to the REST Client. The same serialization code works in a REST endpoint, but not when invoking another REST API. So the issue is not related to using different serializers together and not a basic issue in my code.</p>\n<p><a href=\"https://github.com/nheidloff/quarkus-stackoverflow-76228719\" rel=\"nofollow noreferrer\">https://github.com/nheidloff/quarkus-stackoverflow-76228719</a></p>\n<p>Any ideas how to fix this?</p>\n"},{"tags":["java","r","cytoscape"],"answers":[{"comments":[{"owner":{"account_id":6157002,"reputation":1322,"user_id":4799667,"display_name":"Scooter Morris"},"score":0,"creation_date":1595517907,"post_id":63057711,"comment_id":111509146,"body_markdown":"I should mention that if you switch back to Cytoscape 3.7.2, you will need to restart again.  Essentially, switching versions takes two starts of Cytoscape to allow CyREST to reset.","body":"I should mention that if you switch back to Cytoscape 3.7.2, you will need to restart again.  Essentially, switching versions takes two starts of Cytoscape to allow CyREST to reset."},{"owner":{"account_id":8721230,"reputation":718,"user_id":6524326,"display_name":"Wasim Aftab"},"score":0,"creation_date":1595530220,"post_id":63057711,"comment_id":111515113,"body_markdown":"the error is not that trivial! it comes back again after restart, sometimes works though. moreover, CyREST works all the time with Cytoscape 3.7.x but erratically with 3.8.0.","body":"the error is not that trivial! it comes back again after restart, sometimes works though. moreover, CyREST works all the time with Cytoscape 3.7.x but erratically with 3.8.0."}],"tags":[],"owner":{"account_id":6157002,"reputation":1322,"user_id":4799667,"display_name":"Scooter Morris"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597331657,"creation_date":1595517844,"answer_id":63057711,"question_id":63016846,"body_markdown":"As stated in the error message, you need to restart Cytoscape when that dialog pops up.  Until you do, Cytoscape won&#39;t be listening on port 1234.  Once you restart and that dialog no longer pops up, things should be fine.","title":"Cytoscape 3.8.0 launches with errors and R package RCy3 not working with it","body":"<p>As stated in the error message, you need to restart Cytoscape when that dialog pops up.  Until you do, Cytoscape won't be listening on port 1234.  Once you restart and that dialog no longer pops up, things should be fine.</p>\n"},{"tags":[],"owner":{"account_id":19817212,"reputation":1,"user_id":17265734,"display_name":"Jorge Vasquez Arriaga"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684165610,"creation_date":1683820537,"answer_id":76229518,"question_id":63016846,"body_markdown":"Open Cytoscape App, restart R, load `library(RCy3); library(phytools); library(ape); ` and add\r\n`options(&quot;cyRestApi&quot;=&quot;http://localhost:1234&quot;)`\r\nand check that everything is right with\r\n`cytoscapePing ()` the output should be *You are connected to Cytoscape!*\r\n","title":"Cytoscape 3.8.0 launches with errors and R package RCy3 not working with it","body":"<p>Open Cytoscape App, restart R, load <code>library(RCy3); library(phytools); library(ape); </code> and add\n<code>options(&quot;cyRestApi&quot;=&quot;http://localhost:1234&quot;)</code>\nand check that everything is right with\n<code>cytoscapePing ()</code> the output should be <em>You are connected to Cytoscape!</em></p>\n"}],"owner":{"account_id":8721230,"reputation":718,"user_id":6524326,"display_name":"Wasim Aftab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":753,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684165610,"creation_date":1595341934,"question_id":63016846,"body_markdown":"when I launch Cytoscape 3.8.0, i see following error message [![Cytoscape 3.8.0 error][1]][1]\r\n\r\nThen I looked into the task history and I see many errors as shown below,\r\n\r\n    &#160;couldn&#39;t find resource &#39;groupSettings.props&#39; in jar.\r\n    &#160;couldn&#39;t find resource &#39;layout.grid.props&#39; in jar.\r\n    &#160;couldn&#39;t find resource &#39;layout.hierarchical.props&#39; in jar.\r\n    &#160;couldn&#39;t find resource &#39;layout.circular.props&#39; in jar.\r\n    &#160;couldn&#39;t find resource &#39;layout.stacked-node-layout.props&#39; in jar.\r\n    &#160;couldn&#39;t find resource &#39;layout.attribute-circle.props&#39; in jar.\r\n    &#160;couldn&#39;t find resource &#39;layout.degree-circle.props&#39; in jar.\r\n    &#160;couldn&#39;t find resource &#39;layout.attributes-layout.props&#39; in jar.\r\n    &#160;couldn&#39;t find resource &#39;layout.kamada-kawai.props&#39; in jar.\r\n    &#160;couldn&#39;t find resource &#39;layout.fruchterman-rheingold.props&#39; in jar.\r\n    &#160;couldn&#39;t find resource &#39;layout.cose.props&#39; in jar.\r\n    &#160;couldn&#39;t find resource &#39;layout.isom.props&#39; in jar.\r\n    &#160;couldn&#39;t find resource &#39;layout.force-directed.props&#39; in jar.\r\n    &#160;couldn&#39;t find resource &#39;stringApp.props&#39; in jar.\r\n    &#160;couldn&#39;t find resource &#39;enrichmentmap.props&#39; in jar.\r\n    &#160;couldn&#39;t find resource &#39;layout.genemania-force-directed.props&#39; in jar.\r\n\r\n\r\nWhen I run `RCy3::cytoscapePing()` in R console, I see the following error\r\n\r\n    Error in curl::curl_fetch_memory(url, handle = handle) : \r\n      Failed to connect to localhost port 1234: Connection refused\r\n\r\nHowever, Cytoscape 3.7.x launches smoothly and `RCy3::cytoscapePing()` produces `[1] &quot;You are connected to Cytoscape!&quot;`. RCy3 version is 2.4.6.\r\nTo me, it looks like a java error as Cytoscape 3.8.0 uses java11  and Cytoscape 3.7.x uses java 1.8. How to fix this error? \r\n\r\n`whereis -b java` produces \r\n`java: /usr/bin/java /etc/java /usr/share/java /opt/jdk1.8.0_73/bin/java /usr/lib/jvm/java-8-oracle/bin/java /usr/lib/jvm/java-8-oracle/jre/bin/java /usr/lib/jvm/jdk-11.0.8/bin/java\r\n`. java11 is clearly on the path.\r\n\r\n`update-alternatives --config java` shows that the java11 is selected as default java.\r\n\r\n      Selection        Path                                     Priority   Status\r\n      -------------------------------------------------------------------------------\r\n         0            /usr/lib/jvm/java-8-oracle/jre/bin/java    1081      auto mode\r\n         1            /usr/lib/jvm/java-8-oracle/jre/bin/java    1081      manual mode\r\n       * 2            /usr/lib/jvm/jdk-11.0.8/bin/java           1         manual mode\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9yBv3.png\r\n","title":"Cytoscape 3.8.0 launches with errors and R package RCy3 not working with it","body":"<p>when I launch Cytoscape 3.8.0, i see following error message <a href=\"https://i.stack.imgur.com/9yBv3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9yBv3.png\" alt=\"Cytoscape 3.8.0 error\" /></a></p>\n<p>Then I looked into the task history and I see many errors as shown below,</p>\n<pre><code> couldn't find resource 'groupSettings.props' in jar.\n couldn't find resource 'layout.grid.props' in jar.\n couldn't find resource 'layout.hierarchical.props' in jar.\n couldn't find resource 'layout.circular.props' in jar.\n couldn't find resource 'layout.stacked-node-layout.props' in jar.\n couldn't find resource 'layout.attribute-circle.props' in jar.\n couldn't find resource 'layout.degree-circle.props' in jar.\n couldn't find resource 'layout.attributes-layout.props' in jar.\n couldn't find resource 'layout.kamada-kawai.props' in jar.\n couldn't find resource 'layout.fruchterman-rheingold.props' in jar.\n couldn't find resource 'layout.cose.props' in jar.\n couldn't find resource 'layout.isom.props' in jar.\n couldn't find resource 'layout.force-directed.props' in jar.\n couldn't find resource 'stringApp.props' in jar.\n couldn't find resource 'enrichmentmap.props' in jar.\n couldn't find resource 'layout.genemania-force-directed.props' in jar.\n</code></pre>\n<p>When I run <code>RCy3::cytoscapePing()</code> in R console, I see the following error</p>\n<pre><code>Error in curl::curl_fetch_memory(url, handle = handle) : \n  Failed to connect to localhost port 1234: Connection refused\n</code></pre>\n<p>However, Cytoscape 3.7.x launches smoothly and <code>RCy3::cytoscapePing()</code> produces <code>[1] &quot;You are connected to Cytoscape!&quot;</code>. RCy3 version is 2.4.6.\nTo me, it looks like a java error as Cytoscape 3.8.0 uses java11  and Cytoscape 3.7.x uses java 1.8. How to fix this error?</p>\n<p><code>whereis -b java</code> produces\n<code>java: /usr/bin/java /etc/java /usr/share/java /opt/jdk1.8.0_73/bin/java /usr/lib/jvm/java-8-oracle/bin/java /usr/lib/jvm/java-8-oracle/jre/bin/java /usr/lib/jvm/jdk-11.0.8/bin/java </code>. java11 is clearly on the path.</p>\n<p><code>update-alternatives --config java</code> shows that the java11 is selected as default java.</p>\n<pre><code>  Selection        Path                                     Priority   Status\n  -------------------------------------------------------------------------------\n     0            /usr/lib/jvm/java-8-oracle/jre/bin/java    1081      auto mode\n     1            /usr/lib/jvm/java-8-oracle/jre/bin/java    1081      manual mode\n   * 2            /usr/lib/jvm/jdk-11.0.8/bin/java           1         manual mode\n</code></pre>\n"},{"tags":["java","pentaho","embedding","pentaho-data-integration","pentaho-report-designer"],"owner":{"account_id":23049721,"reputation":11,"user_id":17166748,"display_name":"Shadow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684165580,"creation_date":1684165580,"question_id":76255801,"body_markdown":"I am trying to learn more about the functionality of pentaho reporting in general. I was looking for a way to implement custom classes for the available interfaces in pentaho. As of now, it would really help me if I can know how do I implement and make pentaho use my own LocalizationContext clas avalable in pentaho.library.formula. It uses DefaultLocalizationContext by default. \r\n\r\nI have tried adding an editableconfig in ClassicEngineBoot. and adding the class in libformula.properties","title":"Is there a way to make embedded pentaho reporting engine to use a custom Implementation of Localization Context?","body":"<p>I am trying to learn more about the functionality of pentaho reporting in general. I was looking for a way to implement custom classes for the available interfaces in pentaho. As of now, it would really help me if I can know how do I implement and make pentaho use my own LocalizationContext clas avalable in pentaho.library.formula. It uses DefaultLocalizationContext by default.</p>\n<p>I have tried adding an editableconfig in ClassicEngineBoot. and adding the class in libformula.properties</p>\n"},{"tags":["java","android","android-studio","kotlin","mobile"],"answers":[{"tags":[],"owner":{"account_id":3807206,"reputation":12673,"user_id":3159267,"display_name":"Rajan Kali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684165284,"creation_date":1684165284,"answer_id":76255758,"question_id":76254832,"body_markdown":"The reason your data is not loaded is because you are setting different instance of `adapter` to `recyclerview` and submitting list to different instance!\r\n```\r\nprivate fun loadingSimilarData(){\r\n    //remove reassigning adapter here\r\n    lifecycleScope.launch {\r\n        viewModel.movieSimilarList.collect{pagingData-&gt;\r\n            similarMovieAdapter.submitData(pagingData)\r\n        }\r\n    }\r\n\r\n}\r\nprivate fun similarMovieRv(){\r\n//remove val here and assign instance to class variable\r\n    similarMovieAdapter = SimilarMovieAdapter()\r\n    binding.similarMovieRv.apply {\r\n        layoutManager = LinearLayoutManager(requireContext(),LinearLayoutManager.HORIZONTAL,false)\r\n        adapter = similarMovieAdapter\r\n        setHasFixedSize(true)\r\n\r\n    }\r\n}\r\n```","title":"I can&#39;t show my data in the Recyclerview inside the fragment?","body":"<p>The reason your data is not loaded is because you are setting different instance of <code>adapter</code> to <code>recyclerview</code> and submitting list to different instance!</p>\n<pre><code>private fun loadingSimilarData(){\n    //remove reassigning adapter here\n    lifecycleScope.launch {\n        viewModel.movieSimilarList.collect{pagingData-&gt;\n            similarMovieAdapter.submitData(pagingData)\n        }\n    }\n\n}\nprivate fun similarMovieRv(){\n//remove val here and assign instance to class variable\n    similarMovieAdapter = SimilarMovieAdapter()\n    binding.similarMovieRv.apply {\n        layoutManager = LinearLayoutManager(requireContext(),LinearLayoutManager.HORIZONTAL,false)\n        adapter = similarMovieAdapter\n        setHasFixedSize(true)\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22479618,"reputation":5,"user_id":16678868,"display_name":"Berkay Sazak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76255758,"answer_count":1,"score":0,"last_activity_date":1684165284,"creation_date":1684158850,"question_id":76254832,"body_markdown":"Firstly It&#39;s my repo: https://github.com/Berkayszk/FiWoApp\r\n\r\nIn my application, I pull my data from Api and show it in Recyclerview with PagingData. I have created a similar section in the Details fragment and I am thinking of pulling my data by calling similar with the help of the Api in this part, but I see that my data is not loaded, no matter how hard I try, I cannot understand why this does not happen. I am trying to pull my data from a list in ViewModel to an adapter, but the data is not loaded.\r\n\r\nIt&#39;s my similarMovieAdapter\r\n\r\n    class SimilarMovieAdapter : PagingDataAdapter&lt;Result,SimilarMovieAdapter.SimilarMovieViewHolder&gt;(diffCallBack) {\r\n    class SimilarMovieViewHolder(val binding : PopularTvRowBinding): ViewHolder(binding.root)\r\n\r\n    companion object{\r\n        val diffCallBack = object : DiffUtil.ItemCallback&lt;com.example.fiwoapp.model.similarmovie.Result&gt;(){\r\n            override fun areItemsTheSame(oldItem: Result, newItem: Result): Boolean {\r\n                return oldItem.id==newItem.id\r\n            }\r\n\r\n            override fun areContentsTheSame(oldItem: Result, newItem: Result): Boolean {\r\n                return oldItem==newItem\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    override fun onBindViewHolder(holder: SimilarMovieViewHolder, position: Int) {\r\n        val currentItem = getItem(position)\r\n        holder.binding.apply {\r\n            val imageLinkBackground = &quot;${Constants.IMAGE_BASE_UR}${currentItem!!.poster_path}&quot;\r\n            imageViewPoster.load(imageLinkBackground){\r\n                crossfade(1000)\r\n                crossfade(true)\r\n            }\r\n            movieName.text = currentItem.title\r\n\r\n        }\r\n    }\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): SimilarMovieViewHolder {\r\n        return SimilarMovieViewHolder(PopularTvRowBinding.inflate(LayoutInflater.from(parent.context),parent,false))\r\n    }\r\n\r\nThis is my DetailsFragment, RecyclerView is in DetailsFragment. Here I get my data from viewmodel, but when I open my application, no data is visible.\r\n\r\n\r\n\r\n     @AndroidEntryPoint\r\n    class MovieDetailsFragment : Fragment() {\r\n\r\n    private var _binding : FragmentMovieDetailsBinding?=null\r\n    private val binding get() = _binding!!\r\n    private var movieId = 0\r\n    private val viewModel: MovieViewModel by viewModels()\r\n    private val args : MovieDetailsFragmentArgs by navArgs()\r\n    private lateinit var similarMovieAdapter : SimilarMovieAdapter\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View {\r\n        // Inflate the layout for this fragment\r\n        _binding = FragmentMovieDetailsBinding.inflate(layoutInflater,container,false)\r\n        return binding.root\r\n\r\n\r\n    }\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        movieId = args.movieId\r\n        if (movieId&gt;0){\r\n            viewModel.loadDetailsMovie(movieId)\r\n        }\r\n    }\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n\r\n        similarMovieRv()\r\n        loadingSimilarData()\r\n        showData()\r\n\r\n\r\n    }\r\n\r\n    private fun loadingSimilarData(){\r\n        similarMovieAdapter = SimilarMovieAdapter()\r\n        lifecycleScope.launch {\r\n            viewModel.movieSimilarList.collect{pagingData-&gt;\r\n                similarMovieAdapter.submitData(pagingData)\r\n            }\r\n        }\r\n\r\n    }\r\n    private fun showDataSimilar(){\r\n\r\n    }\r\n\r\n    private fun showData(){\r\n        binding.apply {\r\n            viewModel.detailsMovie.observe(viewLifecycleOwner) {\r\n                val moviePosterUrlOrg = Constants.IMAGE_BASE_OR + it.backdrop_path\r\n                val moviePosterUrl = Constants.IMAGE_BASE_UR+it.poster_path\r\n                val studioPicture = Constants.IMAGE_BASE_UR+it.production_companies.get(0).logo_path\r\n                imageDetailOriginal.load(moviePosterUrlOrg){\r\n                    crossfade(true)\r\n                    crossfade(1000)\r\n                    scale(Scale.FILL)\r\n                }\r\n                imageViewPoster.load(moviePosterUrl){\r\n                    crossfade(1000)\r\n                    crossfade(true)\r\n                    scale(Scale.FILL)\r\n                }\r\n                studioImageView.load(studioPicture){\r\n                    crossfade(true)\r\n                    crossfade(1000)\r\n                    scale(Scale.FILL)\r\n                }\r\n                tagLineText.text = it.tagline\r\n                movieName.text = it.title\r\n                releaseDate.text = it.release_date\r\n                releaseDateInfo.text = &quot;${&quot;Revenue: &quot;+ it.revenue.toString()}&quot;\r\n                studioName.text = it.production_companies.get(0).name\r\n                subjectText.text = it.overview\r\n                runTimeText.text = &quot;${it.runtime.toString() +  &quot;min&quot;}&quot;\r\n                genreText.text = it.genres.get(0).name\r\n                countryText.text = it.production_countries.get(0).name\r\n                voteText.text = it.vote_average.toString()\r\n                voteTextAll.text = it.vote_count.toString()\r\n\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    private fun similarMovieRv(){\r\n        val similarMovieAdapter = SimilarMovieAdapter()\r\n        binding.similarMovieRv.apply {\r\n            layoutManager = LinearLayoutManager(requireContext(),LinearLayoutManager.HORIZONTAL,false)\r\n            adapter = similarMovieAdapter\r\n            setHasFixedSize(true)\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    override fun onDestroy() {\r\n        super.onDestroy()\r\n        _binding=null\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n","title":"I can&#39;t show my data in the Recyclerview inside the fragment?","body":"<p>Firstly It's my repo: <a href=\"https://github.com/Berkayszk/FiWoApp\" rel=\"nofollow noreferrer\">https://github.com/Berkayszk/FiWoApp</a></p>\n<p>In my application, I pull my data from Api and show it in Recyclerview with PagingData. I have created a similar section in the Details fragment and I am thinking of pulling my data by calling similar with the help of the Api in this part, but I see that my data is not loaded, no matter how hard I try, I cannot understand why this does not happen. I am trying to pull my data from a list in ViewModel to an adapter, but the data is not loaded.</p>\n<p>It's my similarMovieAdapter</p>\n<pre><code>class SimilarMovieAdapter : PagingDataAdapter&lt;Result,SimilarMovieAdapter.SimilarMovieViewHolder&gt;(diffCallBack) {\nclass SimilarMovieViewHolder(val binding : PopularTvRowBinding): ViewHolder(binding.root)\n\ncompanion object{\n    val diffCallBack = object : DiffUtil.ItemCallback&lt;com.example.fiwoapp.model.similarmovie.Result&gt;(){\n        override fun areItemsTheSame(oldItem: Result, newItem: Result): Boolean {\n            return oldItem.id==newItem.id\n        }\n\n        override fun areContentsTheSame(oldItem: Result, newItem: Result): Boolean {\n            return oldItem==newItem\n        }\n\n    }\n}\n\noverride fun onBindViewHolder(holder: SimilarMovieViewHolder, position: Int) {\n    val currentItem = getItem(position)\n    holder.binding.apply {\n        val imageLinkBackground = &quot;${Constants.IMAGE_BASE_UR}${currentItem!!.poster_path}&quot;\n        imageViewPoster.load(imageLinkBackground){\n            crossfade(1000)\n            crossfade(true)\n        }\n        movieName.text = currentItem.title\n\n    }\n}\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): SimilarMovieViewHolder {\n    return SimilarMovieViewHolder(PopularTvRowBinding.inflate(LayoutInflater.from(parent.context),parent,false))\n}\n</code></pre>\n<p>This is my DetailsFragment, RecyclerView is in DetailsFragment. Here I get my data from viewmodel, but when I open my application, no data is visible.</p>\n<pre><code> @AndroidEntryPoint\nclass MovieDetailsFragment : Fragment() {\n\nprivate var _binding : FragmentMovieDetailsBinding?=null\nprivate val binding get() = _binding!!\nprivate var movieId = 0\nprivate val viewModel: MovieViewModel by viewModels()\nprivate val args : MovieDetailsFragmentArgs by navArgs()\nprivate lateinit var similarMovieAdapter : SimilarMovieAdapter\n\noverride fun onCreateView(\n    inflater: LayoutInflater, container: ViewGroup?,\n    savedInstanceState: Bundle?\n): View {\n    // Inflate the layout for this fragment\n    _binding = FragmentMovieDetailsBinding.inflate(layoutInflater,container,false)\n    return binding.root\n\n\n}\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    movieId = args.movieId\n    if (movieId&gt;0){\n        viewModel.loadDetailsMovie(movieId)\n    }\n}\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n\n    similarMovieRv()\n    loadingSimilarData()\n    showData()\n\n\n}\n\nprivate fun loadingSimilarData(){\n    similarMovieAdapter = SimilarMovieAdapter()\n    lifecycleScope.launch {\n        viewModel.movieSimilarList.collect{pagingData-&gt;\n            similarMovieAdapter.submitData(pagingData)\n        }\n    }\n\n}\nprivate fun showDataSimilar(){\n\n}\n\nprivate fun showData(){\n    binding.apply {\n        viewModel.detailsMovie.observe(viewLifecycleOwner) {\n            val moviePosterUrlOrg = Constants.IMAGE_BASE_OR + it.backdrop_path\n            val moviePosterUrl = Constants.IMAGE_BASE_UR+it.poster_path\n            val studioPicture = Constants.IMAGE_BASE_UR+it.production_companies.get(0).logo_path\n            imageDetailOriginal.load(moviePosterUrlOrg){\n                crossfade(true)\n                crossfade(1000)\n                scale(Scale.FILL)\n            }\n            imageViewPoster.load(moviePosterUrl){\n                crossfade(1000)\n                crossfade(true)\n                scale(Scale.FILL)\n            }\n            studioImageView.load(studioPicture){\n                crossfade(true)\n                crossfade(1000)\n                scale(Scale.FILL)\n            }\n            tagLineText.text = it.tagline\n            movieName.text = it.title\n            releaseDate.text = it.release_date\n            releaseDateInfo.text = &quot;${&quot;Revenue: &quot;+ it.revenue.toString()}&quot;\n            studioName.text = it.production_companies.get(0).name\n            subjectText.text = it.overview\n            runTimeText.text = &quot;${it.runtime.toString() +  &quot;min&quot;}&quot;\n            genreText.text = it.genres.get(0).name\n            countryText.text = it.production_countries.get(0).name\n            voteText.text = it.vote_average.toString()\n            voteTextAll.text = it.vote_count.toString()\n\n        }\n\n    }\n}\n\nprivate fun similarMovieRv(){\n    val similarMovieAdapter = SimilarMovieAdapter()\n    binding.similarMovieRv.apply {\n        layoutManager = LinearLayoutManager(requireContext(),LinearLayoutManager.HORIZONTAL,false)\n        adapter = similarMovieAdapter\n        setHasFixedSize(true)\n\n    }\n\n\n}\n\n\n\noverride fun onDestroy() {\n    super.onDestroy()\n    _binding=null\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","html","itext","pdf-generation","itext7"],"owner":{"account_id":27735742,"reputation":11,"user_id":21173377,"display_name":"Tomas Sexenian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684164918,"creation_date":1684164918,"question_id":76255709,"body_markdown":"I&#39;m using itext7-core version 7.2.5 along with html2pdf version 4.0.5 to implement the following functionality on my Java web application that is intended for PDF generation: The user inputs a string holding HTML code and specifies a rectangular area of the page where the HTML must be rendered.\r\n\r\nI&#39;m using the *HtmlConverter.convertToElements(htmlString)* method to create a variable of type List\\&lt;IElement\\&gt; that holds the list of all the elements that must be rendered into the canvas.\r\n\r\n```\r\nfor (IElement element : elements){\r\n\tfloat padding = 5f;\r\n\tif (blockElement instanceof Paragraph){\r\n\t\tParagraph p = (Paragraph) blockElement;\r\n\r\n\t\t// calculate the height of the Paragraph\r\n\t\tfloat marginTop = (p.getMarginTop() != null) ? p.getMarginTop().getValue() : 0;\r\n\t\tfloat marginBottom = (p.getMarginBottom() != null) ? p.getMarginBottom().getValue() : 0;\r\n\t\tfloat paddingTop = (p.getPaddingTop() != null) ? p.getPaddingTop().getValue() : 0;\r\n\t\tfloat paddingBottom = (p.getPaddingBottom() != null) ? p.getPaddingBottom().getValue() : 0;\r\n\t\tfloat height = marginTop + marginBottom + paddingTop + paddingBottom;\r\n\r\n\t\t// check if the currentYPosition has enough space for the new Paragraph\r\n\t\tif ((currentYPosition.getCurrentYPosition() - height) &lt; htmlRectangle.getBottom()) {\r\n\t\t\t// add new page and reset the currentYPosition\r\n\t\t\tcanvas = new Canvas(new PdfCanvas(pdfDocument.addNewPage()), htmlRectangle);\r\n\t\t\tcurrentYPosition.setCurrentYPosition(htmlRectangle.getTop());\r\n\t\t}\r\n\r\n\t\tcanvas.showTextAligned(p, htmlRectangle.getLeft(), currentYPosition.getCurrentYPosition() - p.getMarginTop().getValue(), txtAlignment);\r\n\t\tcurrentYPosition.setCurrentYPosition(currentYPosition.getCurrentYPosition() - (height + padding));\r\n\t} else if (blockElement instanceof Div) {\r\n\t\tDiv div = (Div) blockElement;\r\n\t\t...\r\n\t} else if (blockElement instance of whatever){\r\n\t\t...\r\n\t} ...\r\n}\r\n```\r\n\r\nThat works but has two major restrictions\r\n\r\n- The styling of most of the elements is not preserved very well. For example \\&lt;h1\\&gt;Sample Heading\\&lt;/h1\\&gt; is not rendered as a big blod text but is instead rendered as a small, almost plain, text.\r\n\r\n- This approach involves a very long *else - if* chain to check for all possible HTML tags that the blockElement could be representing.\r\n\r\nI understand that my use case is very restricted as I cannot use *HtmlConverter.convertToPdf* because that creates a new document, while what I want is to add a small piece of HTML to an existing document. And I also can&#39;t just use the Document.add((IBlockElement)element) method because I want the element to be added to a specific location on the canvas.\r\n\r\nWith that said, is there a better way to do this?","title":"How to use iText7 to parse HTML into a list of elements than can be added to a PDF document while preserving styles?","body":"<p>I'm using itext7-core version 7.2.5 along with html2pdf version 4.0.5 to implement the following functionality on my Java web application that is intended for PDF generation: The user inputs a string holding HTML code and specifies a rectangular area of the page where the HTML must be rendered.</p>\n<p>I'm using the <em>HtmlConverter.convertToElements(htmlString)</em> method to create a variable of type List&lt;IElement&gt; that holds the list of all the elements that must be rendered into the canvas.</p>\n<pre><code>for (IElement element : elements){\n    float padding = 5f;\n    if (blockElement instanceof Paragraph){\n        Paragraph p = (Paragraph) blockElement;\n\n        // calculate the height of the Paragraph\n        float marginTop = (p.getMarginTop() != null) ? p.getMarginTop().getValue() : 0;\n        float marginBottom = (p.getMarginBottom() != null) ? p.getMarginBottom().getValue() : 0;\n        float paddingTop = (p.getPaddingTop() != null) ? p.getPaddingTop().getValue() : 0;\n        float paddingBottom = (p.getPaddingBottom() != null) ? p.getPaddingBottom().getValue() : 0;\n        float height = marginTop + marginBottom + paddingTop + paddingBottom;\n\n        // check if the currentYPosition has enough space for the new Paragraph\n        if ((currentYPosition.getCurrentYPosition() - height) &lt; htmlRectangle.getBottom()) {\n            // add new page and reset the currentYPosition\n            canvas = new Canvas(new PdfCanvas(pdfDocument.addNewPage()), htmlRectangle);\n            currentYPosition.setCurrentYPosition(htmlRectangle.getTop());\n        }\n\n        canvas.showTextAligned(p, htmlRectangle.getLeft(), currentYPosition.getCurrentYPosition() - p.getMarginTop().getValue(), txtAlignment);\n        currentYPosition.setCurrentYPosition(currentYPosition.getCurrentYPosition() - (height + padding));\n    } else if (blockElement instanceof Div) {\n        Div div = (Div) blockElement;\n        ...\n    } else if (blockElement instance of whatever){\n        ...\n    } ...\n}\n</code></pre>\n<p>That works but has two major restrictions</p>\n<ul>\n<li><p>The styling of most of the elements is not preserved very well. For example &lt;h1&gt;Sample Heading&lt;/h1&gt; is not rendered as a big blod text but is instead rendered as a small, almost plain, text.</p>\n</li>\n<li><p>This approach involves a very long <em>else - if</em> chain to check for all possible HTML tags that the blockElement could be representing.</p>\n</li>\n</ul>\n<p>I understand that my use case is very restricted as I cannot use <em>HtmlConverter.convertToPdf</em> because that creates a new document, while what I want is to add a small piece of HTML to an existing document. And I also can't just use the Document.add((IBlockElement)element) method because I want the element to be added to a specific location on the canvas.</p>\n<p>With that said, is there a better way to do this?</p>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":5,"creation_date":1282946230,"post_id":1240077,"comment_id":3765069,"body_markdown":"Enumeration was replaced by Iterator in Java 1.2 in 1998 and is retained for legacy support.  The real question is why you want to use it.  Possibly because you use a library which forces you to do so?","body":"Enumeration was replaced by Iterator in Java 1.2 in 1998 and is retained for legacy support.  The real question is why you want to use it.  Possibly because you use a library which forces you to do so?"},{"owner":{"account_id":6636,"reputation":224532,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"score":2,"creation_date":1283113181,"post_id":1240077,"comment_id":3774968,"body_markdown":"@Peter - yes, an external library is the answer.","body":"@Peter - yes, an external library is the answer."}],"answers":[{"comments":[{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":27,"creation_date":1249576630,"post_id":1240084,"comment_id":1066112,"body_markdown":"Next question: why aren&#39;t Enumerations Iterable? http://stackoverflow.com/questions/27240/why-arent-enumerations-iterable","body":"Next question: why aren&#39;t Enumerations Iterable? <a href=\"http://stackoverflow.com/questions/27240/why-arent-enumerations-iterable\" title=\"why arent enumerations iterable\">stackoverflow.com/questions/27240/&hellip;</a>"},{"owner":{"account_id":6636,"reputation":224532,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"score":1,"creation_date":1249576642,"post_id":1240084,"comment_id":1066116,"body_markdown":"Is there a semantic difference between the two? (I&#39;m not familiar with the Iterable class)? Why not have for work on Enumeration as well?","body":"Is there a semantic difference between the two? (I&#39;m not familiar with the Iterable class)? Why not have for work on Enumeration as well?"},{"owner":{"account_id":36521,"reputation":59667,"user_id":104200,"accept_rate":95,"display_name":"Tim"},"score":5,"creation_date":1249576824,"post_id":1240084,"comment_id":1066139,"body_markdown":"Because Enumerations are more akin to Iterator, not Iterable (see the stackoverflow question mmyers posted). As a workaround, you can do `for(; e.hasMoreElements(); ) { e.getNextElement(); }`","body":"Because Enumerations are more akin to Iterator, not Iterable (see the stackoverflow question mmyers posted). As a workaround, you can do <code>for(; e.hasMoreElements(); ) { e.getNextElement(); }</code>"},{"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"score":4,"creation_date":1249578370,"post_id":1240084,"comment_id":1066280,"body_markdown":"But `Iterators` are not `Iterable` either. You can&#39;t do `for (obj : itr)`. The reason for this is that `Iterable` is really *repeatedly iterable*, whereas an iterator can only be iterated over once.","body":"But <code>Iterators</code> are not <code>Iterable</code> either. You can&#39;t do <code>for (obj : itr)</code>. The reason for this is that <code>Iterable</code> is really <i>repeatedly iterable</i>, whereas an iterator can only be iterated over once."},{"owner":{"account_id":52109,"reputation":16183,"user_id":155695,"accept_rate":86,"display_name":"Jimmy"},"score":1,"creation_date":1282839994,"post_id":1240084,"comment_id":3751662,"body_markdown":"Do you mean &quot;Enumeration&lt;T&gt; doesnt Implement Iterably&lt;T&gt;&quot; instead of extends?","body":"Do you mean &quot;Enumeration&lt;T&gt; doesnt Implement Iterably&lt;T&gt;&quot; instead of extends?"},{"owner":{"account_id":279220,"reputation":2393,"user_id":574263,"accept_rate":44,"display_name":"mjaggard"},"score":4,"creation_date":1364911057,"post_id":1240084,"comment_id":22409124,"body_markdown":"This doesn&#39;t explain why Sun/Oracle didn&#39;t allow an `Enumeration` in the new `for` syntax as well as an `Iterable` and an `array`.","body":"This doesn&#39;t explain why Sun/Oracle didn&#39;t allow an <code>Enumeration</code> in the new <code>for</code> syntax as well as an <code>Iterable</code> and an <code>array</code>."},{"owner":{"account_id":435987,"reputation":1349,"user_id":822870,"accept_rate":33,"display_name":"David Balažic"},"score":0,"creation_date":1556527987,"post_id":1240084,"comment_id":98455905,"body_markdown":"[here](https://stackoverflow.com/a/46674/822870) is a one line &quot;fix&quot; to use an Enumeration in an enhanced for loop (&quot;foreach&quot;)","body":"<a href=\"https://stackoverflow.com/a/46674/822870\">here</a> is a one line &quot;fix&quot; to use an Enumeration in an enhanced for loop (&quot;foreach&quot;)"}],"tags":[],"owner":{"account_id":9867,"reputation":618201,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"comment_count":7,"down_vote_count":1,"up_vote_count":67,"is_accepted":true,"score":66,"last_activity_date":1684163999,"creation_date":1249576576,"answer_id":1240084,"question_id":1240077,"body_markdown":"Because [`Enumeration&lt;T&gt;`][1] doesn&#39;t extend [`Iterable&lt;T&gt;`][2]. Here is an [example of making Iterable Enumerations][3] using the adapter pattern.\r\n\r\nAs to why that&#39;s an interesting question. This isn&#39;t exactly your question but it sheds some light on it. From the [Java Collections API Design FAQ][4]:\r\n\r\n&gt; **Why doesn&#39;t Iterator extend Enumeration?**\r\n&gt; \r\n&gt; We view the method names for\r\n&gt; Enumeration as unfortunate. They&#39;re\r\n&gt; very long, and very frequently used.\r\n&gt; Given that we were adding a method and\r\n&gt; creating a whole new framework, we\r\n&gt; felt that it would be foolish not to\r\n&gt; take advantage of the opportunity to\r\n&gt; improve the names. Of course we could\r\n&gt; support the new and old names in\r\n&gt; Iterator, but it doesn&#39;t seem\r\n&gt; worthwhile.\r\n\r\nThat basically suggests to me that Sun wants to distance themselves from Enumeration, which is very early Java with quite a verbose syntax.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Enumeration.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/lang/Iterable.html\r\n  [3]: http://www.javaspecialists.eu/archive/Issue107.html\r\n  [4]: http://docs.oracle.com/javase/7/docs/technotes/guides/collections/designfaq.html","title":"Why can&#39;t I use foreach on Java Enumeration?","body":"<p>Because <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Enumeration.html\" rel=\"nofollow noreferrer\"><code>Enumeration&lt;T&gt;</code></a> doesn't extend <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Iterable.html\" rel=\"nofollow noreferrer\"><code>Iterable&lt;T&gt;</code></a>. Here is an <a href=\"http://www.javaspecialists.eu/archive/Issue107.html\" rel=\"nofollow noreferrer\">example of making Iterable Enumerations</a> using the adapter pattern.</p>\n<p>As to why that's an interesting question. This isn't exactly your question but it sheds some light on it. From the <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/collections/designfaq.html\" rel=\"nofollow noreferrer\">Java Collections API Design FAQ</a>:</p>\n<blockquote>\n<p><strong>Why doesn't Iterator extend Enumeration?</strong></p>\n<p>We view the method names for\nEnumeration as unfortunate. They're\nvery long, and very frequently used.\nGiven that we were adding a method and\ncreating a whole new framework, we\nfelt that it would be foolish not to\ntake advantage of the opportunity to\nimprove the names. Of course we could\nsupport the new and old names in\nIterator, but it doesn't seem\nworthwhile.</p>\n</blockquote>\n<p>That basically suggests to me that Sun wants to distance themselves from Enumeration, which is very early Java with quite a verbose syntax.</p>\n"},{"comments":[{"owner":{"account_id":6055,"reputation":14786,"user_id":10026,"accept_rate":68,"display_name":"ykaganovich"},"score":4,"creation_date":1249579545,"post_id":1240100,"comment_id":1066413,"body_markdown":"Let&#39;s be careful with terms here. Deprecation means something very specific when discussing APIs. Use of Enumeration is discouraged, but it&#39;s _not_ deprecated.","body":"Let&#39;s be careful with terms here. Deprecation means something very specific when discussing APIs. Use of Enumeration is discouraged, but it&#39;s <i>not</i> deprecated."},{"owner":{"account_id":32681,"reputation":138933,"user_id":90848,"accept_rate":90,"display_name":"Laurence Gonsalves"},"score":0,"creation_date":1249587520,"post_id":1240100,"comment_id":1067129,"body_markdown":"ykaganovich: good point. I&#39;ve corrected the text in the answer.","body":"ykaganovich: good point. I&#39;ve corrected the text in the answer."}],"tags":[],"owner":{"account_id":32681,"reputation":138933,"user_id":90848,"accept_rate":90,"display_name":"Laurence Gonsalves"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1249587476,"creation_date":1249576743,"answer_id":1240100,"question_id":1240077,"body_markdown":"The new-style-for-loop (&quot;foreach&quot;) works on arrays, and things that implement the `Iterable` interface.\r\n\r\nIt&#39;s also more analogous to `Iterator` than to `Iterable`, so it wouldn&#39;t make sense for `Enumeration` to work with foreach unless `Iterator` did too (and it doesn&#39;t). \r\n`Enumeration` is also discouraged in favor of `Iterator`.","title":"Why can&#39;t I use foreach on Java Enumeration?","body":"<p>The new-style-for-loop (\"foreach\") works on arrays, and things that implement the <code>Iterable</code> interface.</p>\n\n<p>It's also more analogous to <code>Iterator</code> than to <code>Iterable</code>, so it wouldn't make sense for <code>Enumeration</code> to work with foreach unless <code>Iterator</code> did too (and it doesn't). \n<code>Enumeration</code> is also discouraged in favor of <code>Iterator</code>.</p>\n"},{"comments":[{"owner":{"account_id":32681,"reputation":138933,"user_id":90848,"accept_rate":90,"display_name":"Laurence Gonsalves"},"score":2,"creation_date":1249587631,"post_id":1240101,"comment_id":1067139,"body_markdown":"You shouldn&#39;t write a wrapper for Enumeration that turns it into an Iterable any more than you should create such a wrapper for Iterator. Iterator and Enumeration objects are stateful with respect to iteration. Iterables are not.","body":"You shouldn&#39;t write a wrapper for Enumeration that turns it into an Iterable any more than you should create such a wrapper for Iterator. Iterator and Enumeration objects are stateful with respect to iteration. Iterables are not."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":1,"creation_date":1684164490,"post_id":1240101,"comment_id":134473390,"body_markdown":"@LaurenceGonsalves Surprisingly enough, while that appears to be the pattern (and a good pattern to continue to follow), there doesn&#39;t appear to be any documented restriction that an `Iterable` needs to be able to statelessly produce `Iterators`.","body":"@LaurenceGonsalves Surprisingly enough, while that appears to be the pattern (and a good pattern to continue to follow), there doesn&#39;t appear to be any documented restriction that an <code>Iterable</code> needs to be able to statelessly produce <code>Iterators</code>."}],"tags":[],"owner":{"account_id":12009,"reputation":4327,"user_id":23428,"accept_rate":83,"display_name":"Stroboskop"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1249576745,"creation_date":1249576745,"answer_id":1240101,"question_id":1240077,"body_markdown":"Because an Enumeration (and most classes derived from this interface) does not implement Iterable.\r\n\r\nYou can try to write your own wrapper class.","title":"Why can&#39;t I use foreach on Java Enumeration?","body":"<p>Because an Enumeration (and most classes derived from this interface) does not implement Iterable.</p>\n\n<p>You can try to write your own wrapper class.</p>\n"},{"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1684135879,"creation_date":1375237908,"answer_id":17960641,"question_id":1240077,"body_markdown":"I have solved this problem with two very simple classes, one for `Enumeration` and one for `Iterator`.  The enumeration wrapper is as follows:\r\n\r\n    static class IterableEnumeration&lt;T&gt;\r\n    extends Object\r\n    implements Iterable&lt;T&gt;, Iterator&lt;T&gt;\r\n    {\r\n    private final Enumeration&lt;T&gt;        enumeration;\r\n    private boolean                     used=false;\r\n\r\n    IterableEnumeration(final Enumeration&lt;T&gt; enm) {\r\n        enumeration=enm;\r\n        }\r\n\r\n    public Iterator&lt;T&gt; iterator() {\r\n        if(used) { throw new IllegalStateException(&quot;Cannot use iterator from asIterable wrapper more than once&quot;); }\r\n        used=true;\r\n        return this;\r\n        }\r\n\r\n    public boolean hasNext() { return enumeration.hasMoreElements(); }\r\n    public T       next()    { return enumeration.nextElement();     }\r\n    public void    remove()  { throw new UnsupportedOperationException(&quot;Cannot remove elements from AsIterator wrapper around Enumeration&quot;); }\r\n    }\r\n\r\nWhich can be used either with a static utility method (which is my preference):\r\n\r\n    /**\r\n     * Convert an `Enumeration&lt;T&gt;` to an `Iterable&lt;T&gt;` for a once-off use in an enhanced for loop.\r\n     */\r\n    static public &lt;T&gt; Iterable&lt;T&gt; asIterable(final Enumeration&lt;T&gt; enm) {\r\n        return new IterableEnumeration&lt;T&gt;(enm);\r\n        }\r\n\r\n    ...\r\n  \r\n    for(String val: Util.asIterable(enm)) {\r\n        ...\r\n        }\r\n\r\nor by instantiating the class:\r\n\r\n    for(String val: new IterableEnumeration&lt;String&gt;(enm)) {\r\n        ...\r\n        }\r\n","title":"Why can&#39;t I use foreach on Java Enumeration?","body":"<p>I have solved this problem with two very simple classes, one for <code>Enumeration</code> and one for <code>Iterator</code>.  The enumeration wrapper is as follows:</p>\n<pre><code>static class IterableEnumeration&lt;T&gt;\nextends Object\nimplements Iterable&lt;T&gt;, Iterator&lt;T&gt;\n{\nprivate final Enumeration&lt;T&gt;        enumeration;\nprivate boolean                     used=false;\n\nIterableEnumeration(final Enumeration&lt;T&gt; enm) {\n    enumeration=enm;\n    }\n\npublic Iterator&lt;T&gt; iterator() {\n    if(used) { throw new IllegalStateException(&quot;Cannot use iterator from asIterable wrapper more than once&quot;); }\n    used=true;\n    return this;\n    }\n\npublic boolean hasNext() { return enumeration.hasMoreElements(); }\npublic T       next()    { return enumeration.nextElement();     }\npublic void    remove()  { throw new UnsupportedOperationException(&quot;Cannot remove elements from AsIterator wrapper around Enumeration&quot;); }\n}\n</code></pre>\n<p>Which can be used either with a static utility method (which is my preference):</p>\n<pre><code>/**\n * Convert an `Enumeration&lt;T&gt;` to an `Iterable&lt;T&gt;` for a once-off use in an enhanced for loop.\n */\nstatic public &lt;T&gt; Iterable&lt;T&gt; asIterable(final Enumeration&lt;T&gt; enm) {\n    return new IterableEnumeration&lt;T&gt;(enm);\n    }\n\n...\n\nfor(String val: Util.asIterable(enm)) {\n    ...\n    }\n</code></pre>\n<p>or by instantiating the class:</p>\n<pre><code>for(String val: new IterableEnumeration&lt;String&gt;(enm)) {\n    ...\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"score":6,"creation_date":1418894479,"post_id":22129586,"comment_id":43513005,"body_markdown":"The elements are copied in a new list before starting the iteration, this solution should be avoided for long enumerations. The solutions turning an Enumeration into an Iterator have less memory overhead.","body":"The elements are copied in a new list before starting the iteration, this solution should be avoided for long enumerations. The solutions turning an Enumeration into an Iterator have less memory overhead."},{"owner":{"account_id":364020,"reputation":1527,"user_id":708128,"accept_rate":64,"display_name":"P.P&#233;ter"},"score":0,"creation_date":1458211191,"post_id":22129586,"comment_id":59762988,"body_markdown":"@EmmanuelBourg but they have side effects, as enumerations are stateful.","body":"@EmmanuelBourg but they have side effects, as enumerations are stateful."},{"owner":{"account_id":218174,"reputation":2090,"user_id":474365,"accept_rate":57,"display_name":"Geert Schuring"},"score":1,"creation_date":1459340804,"post_id":22129586,"comment_id":60240870,"body_markdown":"This is by far the easiest answer! No dependencies needed, and clearly readable. Thanks!","body":"This is by far the easiest answer! No dependencies needed, and clearly readable. Thanks!"}],"tags":[],"owner":{"account_id":1693831,"reputation":501,"user_id":1555669,"display_name":"user1555669"},"comment_count":3,"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1684163810,"creation_date":1393774432,"answer_id":22129586,"question_id":1240077,"body_markdown":"Using the `Collections` utility class, `Enumeration` can be made iterable like:\r\n\r\n```lang-java\r\nEnumeration headerValues=request.getHeaders(&quot;mycustomheader&quot;);\r\nList headerValuesList=Collections.list(headerValues);\r\n\r\nfor(Object headerValueObj:headerValuesList){\r\n ... do whatever you want to do with headerValueObj\r\n}\r\n```\r\n\r\nThis uses the [`Collections.list`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#list(java.util.Enumeration)) method, which copies the `Enumeration` data into a new `ArrayList`.\r\n\r\n&gt; Returns an array list containing the elements returned by the specified enumeration in the order they are returned by the enumeration. This method provides interoperability between legacy APIs that return enumerations and new APIs that require collections.","title":"Why can&#39;t I use foreach on Java Enumeration?","body":"<p>Using the <code>Collections</code> utility class, <code>Enumeration</code> can be made iterable like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Enumeration headerValues=request.getHeaders(&quot;mycustomheader&quot;);\nList headerValuesList=Collections.list(headerValues);\n\nfor(Object headerValueObj:headerValuesList){\n ... do whatever you want to do with headerValueObj\n}\n</code></pre>\n<p>This uses the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#list(java.util.Enumeration)\" rel=\"nofollow noreferrer\"><code>Collections.list</code></a> method, which copies the <code>Enumeration</code> data into a new <code>ArrayList</code>.</p>\n<blockquote>\n<p>Returns an array list containing the elements returned by the specified enumeration in the order they are returned by the enumeration. This method provides interoperability between legacy APIs that return enumerations and new APIs that require collections.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1642450,"reputation":481,"user_id":1514647,"display_name":"luckyluke"},"score":0,"creation_date":1478293980,"post_id":24184310,"comment_id":68112006,"body_markdown":"do you mean [IteratorIterable](http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/iterators/IteratorIterable.html) ?","body":"do you mean <a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/iterators/IteratorIterable.html\" rel=\"nofollow noreferrer\">IteratorIterable</a> ?"}],"tags":[],"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1478299879,"creation_date":1402575726,"answer_id":24184310,"question_id":1240077,"body_markdown":"`Enumeration` doesn&#39;t implement `Iterable` and as such can&#39;t be used directly in a foreach loop. However using [Apache Commons Collections][1] it&#39;s possible to iterate over an enumeration with:\r\n\r\n    for (Object o : new IteratorIterable(new EnumerationIterator(e))) {\r\n        ...\r\n    }\r\n\r\nYou could also use a shorter syntax with `Collections.list()` but this is less efficient (two iterations over the elements and more memory usage) :\r\n\r\n    for (Object o : Collections.list(e))) {\r\n        ...\r\n    }\r\n\r\n\r\n\r\n  [1]: http://commons.apache.org/collections","title":"Why can&#39;t I use foreach on Java Enumeration?","body":"<p><code>Enumeration</code> doesn't implement <code>Iterable</code> and as such can't be used directly in a foreach loop. However using <a href=\"http://commons.apache.org/collections\" rel=\"nofollow noreferrer\">Apache Commons Collections</a> it's possible to iterate over an enumeration with:</p>\n\n<pre><code>for (Object o : new IteratorIterable(new EnumerationIterator(e))) {\n    ...\n}\n</code></pre>\n\n<p>You could also use a shorter syntax with <code>Collections.list()</code> but this is less efficient (two iterations over the elements and more memory usage) :</p>\n\n<pre><code>for (Object o : Collections.list(e))) {\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1558707698,"creation_date":1558707698,"answer_id":56294570,"question_id":1240077,"body_markdown":"With java 8 and beyond this is possible:\r\n\r\n    import java.util.Collections;\r\n    import java.util.Enumeration;\r\n\r\n    Enumeration e = ...;\r\n    Collections.list(e).forEach(o -&gt; {\r\n        ... // use item &quot;o&quot;\r\n    });","title":"Why can&#39;t I use foreach on Java Enumeration?","body":"<p>With java 8 and beyond this is possible:</p>\n\n<pre><code>import java.util.Collections;\nimport java.util.Enumeration;\n\nEnumeration e = ...;\nCollections.list(e).forEach(o -&gt; {\n    ... // use item \"o\"\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683650867,"creation_date":1683650867,"answer_id":76211700,"question_id":1240077,"body_markdown":"The [`Enumeration`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Enumeration.html) legacy class is analogous to the modern [`Iterator`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Iterator.html) class.  Both represent a current iteration over data.\r\n\r\nThe enhanced for loop was designed to work with [`Iterable`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Iterable.html) and arrays, but notably _not_ with `Iterator`.  `Iterable` provides an [`iterator`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Iterable.html#iterator()) method, which returns an `Iterator` over its data.\r\n\r\nWhile it isn&#39;t possible to use the enhanced for loop with `Enumeration` or its modern `Iterator` equivalent, the [`forEachRemaining`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Iterator.html#forEachRemaining(java.util.function.Consumer)) method in `Iterator` (added in Java 8) provides similar functionality.  Combining with [`Enumeration.asIterator`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Enumeration.html#asIterator()) (added in Java 9) allows iterating over an enumeration in a similar manner as the enhanced for loop:\r\n\r\n```lang-java\r\nEnumeration&lt;Object&gt; e = ...\r\ne.asIterator().forEachRemaining(o -&gt; {\r\n  // ...\r\n});\r\n```","title":"Why can&#39;t I use foreach on Java Enumeration?","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Enumeration.html\" rel=\"nofollow noreferrer\"><code>Enumeration</code></a> legacy class is analogous to the modern <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Iterator.html\" rel=\"nofollow noreferrer\"><code>Iterator</code></a> class.  Both represent a current iteration over data.</p>\n<p>The enhanced for loop was designed to work with <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Iterable.html\" rel=\"nofollow noreferrer\"><code>Iterable</code></a> and arrays, but notably <em>not</em> with <code>Iterator</code>.  <code>Iterable</code> provides an <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Iterable.html#iterator()\" rel=\"nofollow noreferrer\"><code>iterator</code></a> method, which returns an <code>Iterator</code> over its data.</p>\n<p>While it isn't possible to use the enhanced for loop with <code>Enumeration</code> or its modern <code>Iterator</code> equivalent, the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Iterator.html#forEachRemaining(java.util.function.Consumer)\" rel=\"nofollow noreferrer\"><code>forEachRemaining</code></a> method in <code>Iterator</code> (added in Java 8) provides similar functionality.  Combining with <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Enumeration.html#asIterator()\" rel=\"nofollow noreferrer\"><code>Enumeration.asIterator</code></a> (added in Java 9) allows iterating over an enumeration in a similar manner as the enhanced for loop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Enumeration&lt;Object&gt; e = ...\ne.asIterator().forEachRemaining(o -&gt; {\n  // ...\n});\n</code></pre>\n"}],"owner":{"account_id":6636,"reputation":224532,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72904,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":1240084,"answer_count":8,"score":79,"last_activity_date":1684163999,"creation_date":1249576482,"question_id":1240077,"body_markdown":"Why can&#39;t I do:\r\n\r\n    Enumeration e = ...\r\n    for (Object o : e)\r\n      ...","title":"Why can&#39;t I use foreach on Java Enumeration?","body":"<p>Why can't I do:</p>\n\n<pre><code>Enumeration e = ...\nfor (Object o : e)\n  ...\n</code></pre>\n"},{"tags":["java","json","spring-boot"],"comments":[{"owner":{"account_id":81168,"reputation":234365,"user_id":229044,"accept_rate":83,"display_name":"user229044"},"score":1,"creation_date":1684163866,"post_id":76255299,"comment_id":134473208,"body_markdown":"This has nothing to do with Vue or or the front-end. Your Java process is out of memory.","body":"This has nothing to do with Vue or or the front-end. Your Java process is out of memory."},{"owner":{"account_id":27430794,"reputation":23,"user_id":20927545,"display_name":"Mass Mak"},"score":0,"creation_date":1684165036,"post_id":76255299,"comment_id":134473566,"body_markdown":"yes this message is for the backend. but in the frontend too i have problems in case the backend has no problem the frontend stops when it tries to display a lot of data and the web page flatlines completely.","body":"yes this message is for the backend. but in the frontend too i have problems in case the backend has no problem the frontend stops when it tries to display a lot of data and the web page flatlines completely."}],"answers":[{"comments":[{"owner":{"account_id":27430794,"reputation":23,"user_id":20927545,"display_name":"Mass Mak"},"score":0,"creation_date":1684164782,"post_id":76255521,"comment_id":134473492,"body_markdown":"thank you it gives me clues for the next step. i&#39;ll see.","body":"thank you it gives me clues for the next step. i&#39;ll see."}],"tags":[],"owner":{"account_id":1434440,"reputation":5177,"user_id":1356141,"accept_rate":75,"display_name":"Marc"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684163709,"creation_date":1684163709,"answer_id":76255521,"question_id":76255299,"body_markdown":"A virtual list scroll lib might help with this, you will have to find something suitable for your needs. Here is a link to the general concept (this one demos using react but you are looking for a similar thing):\r\n\r\nhttps://blog.logrocket.com/virtual-scrolling-core-principles-and-basic-implementation-in-react/\r\n\r\n---\r\n\r\nIf the amount of data is simply too much to load in the first place, I would introduce pagination and use the page position to read a and return a limited range of the original source.\r\n\r\nPerhaps parse the entire file and hold it in memory as a set of records you can page. Try reading up on large data iteration patterns like this:\r\n\r\nhttps://www.baeldung.com/spring-data-jpa-iterate-large-result-sets","title":"how can I display the data contained in a JSON file in my web page using : (vuejs) (springboot)","body":"<p>A virtual list scroll lib might help with this, you will have to find something suitable for your needs. Here is a link to the general concept (this one demos using react but you are looking for a similar thing):</p>\n<p><a href=\"https://blog.logrocket.com/virtual-scrolling-core-principles-and-basic-implementation-in-react/\" rel=\"nofollow noreferrer\">https://blog.logrocket.com/virtual-scrolling-core-principles-and-basic-implementation-in-react/</a></p>\n<hr />\n<p>If the amount of data is simply too much to load in the first place, I would introduce pagination and use the page position to read a and return a limited range of the original source.</p>\n<p>Perhaps parse the entire file and hold it in memory as a set of records you can page. Try reading up on large data iteration patterns like this:</p>\n<p><a href=\"https://www.baeldung.com/spring-data-jpa-iterate-large-result-sets\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-iterate-large-result-sets</a></p>\n"}],"owner":{"account_id":27430794,"reputation":23,"user_id":20927545,"display_name":"Mass Mak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684163852,"creation_date":1684162300,"question_id":76255299,"body_markdown":"I&#39;m trying to display data from a JSON file on a web page. I&#39;m using a Spring Boot backend to send the streaming data to vue Js which displays it in an array.\r\n\r\n**My Spring Boot code :** \r\n\r\n    @RequestMapping(value = &quot;/getData&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\n    public ResponseEntity&lt;StreamingResponseBody&gt; getData() throws IOException {\r\n        Path filePath = Paths.get(&quot;My_Data.json&quot;);\r\n        InputStream inputStream = Files.newInputStream(filePath);\r\n        StreamingResponseBody responseBody = outputStream -&gt; {\r\n            byte[] buffer = new byte[1024];\r\n            int bytesRead;\r\n            while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n                outputStream.write(buffer, 0, bytesRead);\r\n            }\r\n            inputStream.close();\r\n        };\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.TEXT_EVENT_STREAM);\r\n        return new ResponseEntity&lt;&gt;(responseBody, headers, HttpStatus.OK);\r\n    }\r\n\r\n**My vuejs code :** \r\n\r\n       AffichageData() {\r\n      axios\r\n        .get(&#39;http://localhost:8080/apii/getData&#39;)\r\n        .then((response) =&gt; {\r\n          this.items = response.data\r\n          console.log(&#39;la reponse est&#39;, response)\r\n        })\r\n        .catch((error) =&gt; {\r\n          console.log(error)\r\n        })\r\n    },\r\n\r\nTo display my data  : \r\n\r\n    &lt;table class=&quot;content-table&quot;&gt;\r\n      &lt;thead&gt;\r\n        &lt;tr&gt;\r\n          &lt;th&gt;Data1&lt;/th&gt;\r\n          &lt;th&gt;Data2&lt;/th&gt;\r\n          &lt;th&gt;Data3&lt;/th&gt;\r\n          &lt;th&gt;Data4&lt;/th&gt;\r\n          &lt;th&gt;Data5&lt;/th&gt;\r\n          &lt;th&gt;Data6&lt;/th&gt;\r\n          &lt;th&gt;More&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n      &lt;/thead&gt;\r\n      &lt;tbody v-for=&quot;item in items&quot; :key=&quot;item.id&quot;&gt;\r\n        &lt;tr&gt;\r\n          &lt;td&gt;{{ item.Data1 }}&lt;/td&gt;\r\n          &lt;td&gt;{{ item.Data2 }}&lt;/td&gt;\r\n          &lt;td&gt;{{ item.Data3 }}&lt;/td&gt;\r\n          &lt;td&gt;{{ item.Data4 }}&lt;/td&gt;\r\n          &lt;td&gt;{{ item.Data5 }}&lt;/td&gt;\r\n          &lt;td&gt;{{ item.Data6 }}&lt;/td&gt;\r\n          &lt;td&gt;\r\n            &lt;button id=&quot;MoreInfo&quot; v-on:click=&quot;afficher(item)&quot;&gt;&lt;a href=&quot;/Detail&quot;&gt;...&lt;/a&gt;&lt;/button&gt;\r\n          &lt;/td&gt;\r\n        &lt;/tr&gt;\r\n      &lt;/tbody&gt;\r\n    &lt;/table&gt;\r\n\r\nIt works but for files that are not very big. I have files that are bigger than 210 MB and for these files the display freezes.\r\n\r\n&gt; org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.OutOfMemoryError: Java heap space\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1087) ~[spring-webmvc-5.3.27.jar:5.3.27]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]\r\n.......\r\n&gt; \r\n&gt; Caused by: java.lang.OutOfMemoryError: Java heap space\r\n\tat java.util.Arrays.copyOf(Arrays.java:3537) ~[?:?]\r\n\tat java.lang.AbstractStringBuilder.ensureCapacityInternal(AbstractStringBuilder.java:228) ~[?:?]\r\n\tat java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:740) ~[?:?]\r\n......\r\n\r\nIf anyone has a solution of how I can display and solve this problem? and how I can display the data on multiple pages instead of all displaying on one ?\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"how can I display the data contained in a JSON file in my web page using : (vuejs) (springboot)","body":"<p>I'm trying to display data from a JSON file on a web page. I'm using a Spring Boot backend to send the streaming data to vue Js which displays it in an array.</p>\n<p><strong>My Spring Boot code :</strong></p>\n<pre><code>@RequestMapping(value = &quot;/getData&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\npublic ResponseEntity&lt;StreamingResponseBody&gt; getData() throws IOException {\n    Path filePath = Paths.get(&quot;My_Data.json&quot;);\n    InputStream inputStream = Files.newInputStream(filePath);\n    StreamingResponseBody responseBody = outputStream -&gt; {\n        byte[] buffer = new byte[1024];\n        int bytesRead;\n        while ((bytesRead = inputStream.read(buffer)) != -1) {\n            outputStream.write(buffer, 0, bytesRead);\n        }\n        inputStream.close();\n    };\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.TEXT_EVENT_STREAM);\n    return new ResponseEntity&lt;&gt;(responseBody, headers, HttpStatus.OK);\n}\n</code></pre>\n<p><strong>My vuejs code :</strong></p>\n<pre><code>   AffichageData() {\n  axios\n    .get('http://localhost:8080/apii/getData')\n    .then((response) =&gt; {\n      this.items = response.data\n      console.log('la reponse est', response)\n    })\n    .catch((error) =&gt; {\n      console.log(error)\n    })\n},\n</code></pre>\n<p>To display my data  :</p>\n<pre><code>&lt;table class=&quot;content-table&quot;&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th&gt;Data1&lt;/th&gt;\n      &lt;th&gt;Data2&lt;/th&gt;\n      &lt;th&gt;Data3&lt;/th&gt;\n      &lt;th&gt;Data4&lt;/th&gt;\n      &lt;th&gt;Data5&lt;/th&gt;\n      &lt;th&gt;Data6&lt;/th&gt;\n      &lt;th&gt;More&lt;/th&gt;\n    &lt;/tr&gt;\n  &lt;/thead&gt;\n  &lt;tbody v-for=&quot;item in items&quot; :key=&quot;item.id&quot;&gt;\n    &lt;tr&gt;\n      &lt;td&gt;{{ item.Data1 }}&lt;/td&gt;\n      &lt;td&gt;{{ item.Data2 }}&lt;/td&gt;\n      &lt;td&gt;{{ item.Data3 }}&lt;/td&gt;\n      &lt;td&gt;{{ item.Data4 }}&lt;/td&gt;\n      &lt;td&gt;{{ item.Data5 }}&lt;/td&gt;\n      &lt;td&gt;{{ item.Data6 }}&lt;/td&gt;\n      &lt;td&gt;\n        &lt;button id=&quot;MoreInfo&quot; v-on:click=&quot;afficher(item)&quot;&gt;&lt;a href=&quot;/Detail&quot;&gt;...&lt;/a&gt;&lt;/button&gt;\n      &lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n<p>It works but for files that are not very big. I have files that are bigger than 210 MB and for these files the display freezes.</p>\n<blockquote>\n<p>org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.OutOfMemoryError: Java heap space\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1087) ~[spring-webmvc-5.3.27.jar:5.3.27]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]\n.......</p>\n<p>Caused by: java.lang.OutOfMemoryError: Java heap space\nat java.util.Arrays.copyOf(Arrays.java:3537) ~[?:?]\nat java.lang.AbstractStringBuilder.ensureCapacityInternal(AbstractStringBuilder.java:228) ~[?:?]\nat java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:740) ~[?:?]\n......</p>\n</blockquote>\n<p>If anyone has a solution of how I can display and solve this problem? and how I can display the data on multiple pages instead of all displaying on one ?</p>\n"},{"tags":["java","spring-boot","docker","maven"],"owner":{"account_id":18608482,"reputation":88,"user_id":13561545,"display_name":"Vikingslord"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684163489,"creation_date":1684163489,"question_id":76255484,"body_markdown":"I was trying to add Docker Image Configuration to my pom.xml file but i am getting **Cannot resolve symbol &#39;app.image.tag&#39;** error while trying to add the `${app.image.tag}` to the `&lt;image&gt;&lt;/image&gt;` tag. \r\n\r\nHere is the code:\r\n\r\n```\r\n&lt;executions&gt;\r\n   &lt;execution&gt;\r\n     &lt;id&gt;push-custom-tag&lt;/id&gt;\r\n     &lt;configuration&gt;\r\n       &lt;to&gt;\r\n         &lt;image&gt;docker.io/vikinglsord98/${app.image.name}:${app.image.tag}&lt;/image&gt;\r\n       &lt;/to&gt;\r\n     &lt;/configuration&gt;\r\n     &lt;goals&gt;\r\n       &lt;goal&gt;build&lt;/goal&gt;\r\n     &lt;/goals&gt;\r\n &lt;/execution&gt;\r\n```\r\n\r\n\r\nI have tried searching online but couldn&#39;t find anything relating to this error for Spring Boot. ","title":"Cannot resolve symbol &#39;app.image.tag&#39; error for spring boot maven project","body":"<p>I was trying to add Docker Image Configuration to my pom.xml file but i am getting <strong>Cannot resolve symbol 'app.image.tag'</strong> error while trying to add the <code>${app.image.tag}</code> to the <code>&lt;image&gt;&lt;/image&gt;</code> tag.</p>\n<p>Here is the code:</p>\n<pre><code>&lt;executions&gt;\n   &lt;execution&gt;\n     &lt;id&gt;push-custom-tag&lt;/id&gt;\n     &lt;configuration&gt;\n       &lt;to&gt;\n         &lt;image&gt;docker.io/vikinglsord98/${app.image.name}:${app.image.tag}&lt;/image&gt;\n       &lt;/to&gt;\n     &lt;/configuration&gt;\n     &lt;goals&gt;\n       &lt;goal&gt;build&lt;/goal&gt;\n     &lt;/goals&gt;\n &lt;/execution&gt;\n</code></pre>\n<p>I have tried searching online but couldn't find anything relating to this error for Spring Boot.</p>\n"},{"tags":["java","android","kotlin","webp"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1684154917,"post_id":76254207,"comment_id":134470958,"body_markdown":"https://developers.google.com/speed/webp/docs/riff_container explains the format.","body":"<a href=\"https://developers.google.com/speed/webp/docs/riff_container\" rel=\"nofollow noreferrer\">developers.google.com/speed/webp/docs/riff_container</a> explains the format."}],"answers":[{"tags":[],"owner":{"account_id":28605355,"reputation":16,"user_id":21901410,"display_name":"t2techno"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684163389,"creation_date":1684155241,"answer_id":76254288,"question_id":76254207,"body_markdown":"Based on the [official documentation](https://developers.google.com/speed/webp/docs/riff_container#extended_file_format), it looks like it can be found right after the Reserved section of the header.","title":"The width and height of a webp image are stored in which byte","body":"<p>Based on the <a href=\"https://developers.google.com/speed/webp/docs/riff_container#extended_file_format\" rel=\"nofollow noreferrer\">official documentation</a>, it looks like it can be found right after the Reserved section of the header.</p>\n"}],"owner":{"account_id":26048913,"reputation":1,"user_id":19752508,"display_name":"ke le"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76254288,"answer_count":1,"score":-1,"last_activity_date":1684163389,"creation_date":1684154687,"question_id":76254207,"body_markdown":"I want to get the width and height of the webp image in the gradle plugin, so I want to translate the bytes into width and height by finding the byte position where the width and height are located\r\n\r\nnothing,I can&#39;t find the file format for webp","title":"The width and height of a webp image are stored in which byte","body":"<p>I want to get the width and height of the webp image in the gradle plugin, so I want to translate the bytes into width and height by finding the byte position where the width and height are located</p>\n<p>nothing,I can't find the file format for webp</p>\n"},{"tags":["java","jackson","micronaut","micronaut-data","micronaut-serde"],"comments":[{"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"score":1,"creation_date":1683991556,"post_id":76243021,"comment_id":134452841,"body_markdown":"You need to add more details. Please show your Controller and the Java type (class) you want to serialize with Micronaut Serde.","body":"You need to add more details. Please show your Controller and the Java type (class) you want to serialize with Micronaut Serde."},{"owner":{"account_id":26071740,"reputation":35,"user_id":19771288,"display_name":"user19771288"},"score":0,"creation_date":1684146830,"post_id":76243021,"comment_id":134469131,"body_markdown":"I&#39;ve added all relevant classes to the original question.","body":"I&#39;ve added all relevant classes to the original question."}],"answers":[{"comments":[{"owner":{"account_id":26071740,"reputation":35,"user_id":19771288,"display_name":"user19771288"},"score":1,"creation_date":1684171776,"post_id":76255464,"comment_id":134475144,"body_markdown":"I&#39;ve wondered if it was possible to configure Serde to work without providing a custom serializer, however for now I guess I&#39;ve gotta settle with that solution. Thanks!","body":"I&#39;ve wondered if it was possible to configure Serde to work without providing a custom serializer, however for now I guess I&#39;ve gotta settle with that solution. Thanks!"}],"tags":[],"owner":{"account_id":1200295,"reputation":603,"user_id":1171094,"display_name":"Denis"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684163353,"creation_date":1684163353,"answer_id":76255464,"question_id":76243021,"body_markdown":"You can use a custom serializer:\r\n```java\r\n@Prototype\r\nfinal class DefaultPageSerializer implements Serializer&lt;DefaultPage&lt;Object&gt;&gt; {\r\n\r\n    @Override\r\n    public void serialize(Encoder encoder, EncoderContext context, Argument&lt;? extends DefaultPage&lt;Object&gt;&gt; type, DefaultPage&lt;Object&gt; page) throws IOException {\r\n        Encoder e = encoder.encodeObject(type);\r\n\r\n        e.encodeKey(&quot;content&quot;);\r\n        Argument&lt;List&lt;Object&gt;&gt; contentType = Argument.listOf((Argument&lt;Object&gt;) type.getFirstTypeVariable().orElse(Argument.OBJECT_ARGUMENT));\r\n        context.findSerializer(contentType)\r\n            .createSpecific(context, contentType)\r\n            .serialize(e, context, contentType, page.getContent());\r\n\r\n        e.encodeKey(&quot;pageable&quot;);\r\n        Argument&lt;Pageable&gt; pageable = Argument.of(Pageable.class);\r\n        context.findSerializer(pageable)\r\n            .createSpecific(context, pageable)\r\n            .serialize(e, context, pageable, page.getPageable());\r\n\r\n        e.encodeKey(&quot;totalSize&quot;);\r\n        e.encodeLong(page.getTotalSize());\r\n\r\n        e.finishStructure();\r\n    }\r\n}\r\n```\r\nThis should be fixed in Micronaut 4.","title":"Micronaut&#39;s Page used as a controller method return type is serialized without Page properties","body":"<p>You can use a custom serializer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Prototype\nfinal class DefaultPageSerializer implements Serializer&lt;DefaultPage&lt;Object&gt;&gt; {\n\n    @Override\n    public void serialize(Encoder encoder, EncoderContext context, Argument&lt;? extends DefaultPage&lt;Object&gt;&gt; type, DefaultPage&lt;Object&gt; page) throws IOException {\n        Encoder e = encoder.encodeObject(type);\n\n        e.encodeKey(&quot;content&quot;);\n        Argument&lt;List&lt;Object&gt;&gt; contentType = Argument.listOf((Argument&lt;Object&gt;) type.getFirstTypeVariable().orElse(Argument.OBJECT_ARGUMENT));\n        context.findSerializer(contentType)\n            .createSpecific(context, contentType)\n            .serialize(e, context, contentType, page.getContent());\n\n        e.encodeKey(&quot;pageable&quot;);\n        Argument&lt;Pageable&gt; pageable = Argument.of(Pageable.class);\n        context.findSerializer(pageable)\n            .createSpecific(context, pageable)\n            .serialize(e, context, pageable, page.getPageable());\n\n        e.encodeKey(&quot;totalSize&quot;);\n        e.encodeLong(page.getTotalSize());\n\n        e.finishStructure();\n    }\n}\n</code></pre>\n<p>This should be fixed in Micronaut 4.</p>\n"}],"owner":{"account_id":26071740,"reputation":35,"user_id":19771288,"display_name":"user19771288"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76255464,"answer_count":1,"score":1,"last_activity_date":1684163353,"creation_date":1683985211,"question_id":76243021,"body_markdown":"I&#39;m trying to implement a simple paged API using Micronaut 3.7.9, with micronaut-serde-jackson and I&#39;ve encountered an issue with how my response is serialized, as Page properties are not included. My controller method return type is io.micronaut.data.model.Page.\r\n\r\n\r\nInstead of getting a response looking like this (example response generated with micronaut-openapi&#39;s swagger):\r\n\r\n```\r\n{\r\n  &quot;content&quot;: [\r\n  {\r\n    &quot;id&quot;: 0,\r\n    &quot;name&quot;: &quot;Group1&quot;\r\n  }\r\n  ],\r\n  &quot;pageable&quot;: {\r\n    &quot;orderBy&quot;: [\r\n      {\r\n        &quot;ignoreCase&quot;: true,\r\n        &quot;direction&quot;: &quot;ASC&quot;,\r\n        &quot;property&quot;: &quot;string&quot;,\r\n        &quot;ascending&quot;: true\r\n      }\r\n    ],\r\n    &quot;number&quot;: 0,\r\n    &quot;size&quot;: 0,\r\n    &quot;sort&quot;: {\r\n      &quot;orderBy&quot;: [\r\n        {\r\n          &quot;ignoreCase&quot;: true,\r\n          &quot;direction&quot;: &quot;ASC&quot;,\r\n          &quot;property&quot;: &quot;string&quot;,\r\n          &quot;ascending&quot;: true\r\n        }\r\n      ]\r\n    },\r\n    &quot;sorted&quot;: true\r\n  },\r\n  &quot;pageNumber&quot;: 0,\r\n  &quot;offset&quot;: 0,\r\n  &quot;size&quot;: 0,\r\n  &quot;empty&quot;: true,\r\n  &quot;numberOfElements&quot;: 0,\r\n  &quot;totalSize&quot;: 0,\r\n  &quot;totalPages&quot;: 0\r\n}\r\n```\r\n\r\nI&#39;m getting just the plain array of the items from pageable&#39;s content array:\r\n\r\n\r\n```\r\n[\r\n  {\r\n    &quot;id&quot;: 0,\r\n    &quot;name&quot;: &quot;Group1&quot;\r\n  }\r\n]\r\n```\r\n\r\nI&#39;ve traced this issue back to the io.micronaut.serde.support.DefaultSerdeRegistry&#39;s findSerializer method which returns a io.micronaut.serde.support.serializers.IterableSerializer for a Page instance (which is understandable as Page effectively implements Iterable). \r\n\r\nI&#39;m wondering if there is a way to configure Serde to serialize Pageable with its instance fields (size, totalPages etc.), other than creating a custom Page which does not inherit from Iterable or registering own Serializer instance especially for io.micronaut.data.model.Page?\r\n\r\n[EDIT]\r\nRelevant classes:\r\n\r\n**Page:**\r\n\r\nhttps://github.com/micronaut-projects/micronaut-data/blob/master/data-model/src/main/java/io/micronaut/data/model/Page.java\r\n\r\n\r\n**Repository:**\r\n\r\n    package org.example.repository;\r\n    \r\n    import io.micronaut.data.annotation.Repository;\r\n    import io.micronaut.data.repository.PageableRepository;\r\n    import org.example.model.Group;\r\n    \r\n    @Repository\r\n    public interface GroupRepository extends PageableRepository&lt;Group, Long&gt; {\r\n    }\r\n\r\n**Service:**\r\n\r\n    package org.example.service;\r\n    \r\n    import io.micronaut.data.model.Page;\r\n    import io.micronaut.data.model.Pageable;\r\n    import jakarta.inject.Singleton;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.example.dto.GroupDto;\r\n    import org.example.repository.GroupRepository;\r\n    \r\n    @Singleton\r\n    @RequiredArgsConstructor\r\n    public class GroupService {\r\n        private final GroupRepository groupRepository;\r\n    \r\n        public Page&lt;GroupDto&gt; findAllGroups(Pageable pageable) {\r\n            return groupRepository.findAll(pageable).map(GroupDto::from);\r\n        }\r\n    }\r\n\r\n**Controller:**\r\n\r\n    package org.example.controller;\r\n    \r\n    import io.micronaut.data.model.Page;\r\n    import io.micronaut.data.model.Pageable;\r\n    import io.micronaut.http.annotation.Controller;\r\n    import io.micronaut.http.annotation.Get;\r\n    import io.swagger.v3.oas.annotations.Parameter;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.example.dto.GroupDto;\r\n    import org.example.service.GroupService;\r\n    \r\n    @Controller(&quot;/groups&quot;)\r\n    @RequiredArgsConstructor\r\n    public class GroupController {\r\n        private final GroupService groupService;\r\n    \r\n        @Get\r\n        public Page&lt;GroupDto&gt; findAllGroups(@Parameter(hidden = true) Pageable pageable) {\r\n            return groupService.findAllGroups(pageable);\r\n        }\r\n    }\r\n\r\n**DTO**\r\n\r\n    package org.example.dto;\r\n    \r\n    import io.micronaut.serde.annotation.Serdeable;\r\n    import org.example.model.Group;\r\n    \r\n    @Serdeable\r\n    public record GroupDto(Long id, String name, int version) {\r\n        public static GroupDto from(Group group) {\r\n            return new GroupDto(group.getId(), group.getName(), group.getVersion());\r\n        }\r\n    }\r\n\r\n**Entity:**\r\n\r\n    package org.example.model;\r\n    \r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;_group&quot;)\r\n    @NoArgsConstructor @Getter @Setter\r\n    public class Group {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n        private Long id;\r\n        private String name;\r\n        @Version\r\n        private int version;\r\n    }\r\n\r\n\r\n","title":"Micronaut&#39;s Page used as a controller method return type is serialized without Page properties","body":"<p>I'm trying to implement a simple paged API using Micronaut 3.7.9, with micronaut-serde-jackson and I've encountered an issue with how my response is serialized, as Page properties are not included. My controller method return type is io.micronaut.data.model.Page.</p>\n<p>Instead of getting a response looking like this (example response generated with micronaut-openapi's swagger):</p>\n<pre><code>{\n  &quot;content&quot;: [\n  {\n    &quot;id&quot;: 0,\n    &quot;name&quot;: &quot;Group1&quot;\n  }\n  ],\n  &quot;pageable&quot;: {\n    &quot;orderBy&quot;: [\n      {\n        &quot;ignoreCase&quot;: true,\n        &quot;direction&quot;: &quot;ASC&quot;,\n        &quot;property&quot;: &quot;string&quot;,\n        &quot;ascending&quot;: true\n      }\n    ],\n    &quot;number&quot;: 0,\n    &quot;size&quot;: 0,\n    &quot;sort&quot;: {\n      &quot;orderBy&quot;: [\n        {\n          &quot;ignoreCase&quot;: true,\n          &quot;direction&quot;: &quot;ASC&quot;,\n          &quot;property&quot;: &quot;string&quot;,\n          &quot;ascending&quot;: true\n        }\n      ]\n    },\n    &quot;sorted&quot;: true\n  },\n  &quot;pageNumber&quot;: 0,\n  &quot;offset&quot;: 0,\n  &quot;size&quot;: 0,\n  &quot;empty&quot;: true,\n  &quot;numberOfElements&quot;: 0,\n  &quot;totalSize&quot;: 0,\n  &quot;totalPages&quot;: 0\n}\n</code></pre>\n<p>I'm getting just the plain array of the items from pageable's content array:</p>\n<pre><code>[\n  {\n    &quot;id&quot;: 0,\n    &quot;name&quot;: &quot;Group1&quot;\n  }\n]\n</code></pre>\n<p>I've traced this issue back to the io.micronaut.serde.support.DefaultSerdeRegistry's findSerializer method which returns a io.micronaut.serde.support.serializers.IterableSerializer for a Page instance (which is understandable as Page effectively implements Iterable).</p>\n<p>I'm wondering if there is a way to configure Serde to serialize Pageable with its instance fields (size, totalPages etc.), other than creating a custom Page which does not inherit from Iterable or registering own Serializer instance especially for io.micronaut.data.model.Page?</p>\n<p>[EDIT]\nRelevant classes:</p>\n<p><strong>Page:</strong></p>\n<p><a href=\"https://github.com/micronaut-projects/micronaut-data/blob/master/data-model/src/main/java/io/micronaut/data/model/Page.java\" rel=\"nofollow noreferrer\">https://github.com/micronaut-projects/micronaut-data/blob/master/data-model/src/main/java/io/micronaut/data/model/Page.java</a></p>\n<p><strong>Repository:</strong></p>\n<pre><code>package org.example.repository;\n\nimport io.micronaut.data.annotation.Repository;\nimport io.micronaut.data.repository.PageableRepository;\nimport org.example.model.Group;\n\n@Repository\npublic interface GroupRepository extends PageableRepository&lt;Group, Long&gt; {\n}\n</code></pre>\n<p><strong>Service:</strong></p>\n<pre><code>package org.example.service;\n\nimport io.micronaut.data.model.Page;\nimport io.micronaut.data.model.Pageable;\nimport jakarta.inject.Singleton;\nimport lombok.RequiredArgsConstructor;\nimport org.example.dto.GroupDto;\nimport org.example.repository.GroupRepository;\n\n@Singleton\n@RequiredArgsConstructor\npublic class GroupService {\n    private final GroupRepository groupRepository;\n\n    public Page&lt;GroupDto&gt; findAllGroups(Pageable pageable) {\n        return groupRepository.findAll(pageable).map(GroupDto::from);\n    }\n}\n</code></pre>\n<p><strong>Controller:</strong></p>\n<pre><code>package org.example.controller;\n\nimport io.micronaut.data.model.Page;\nimport io.micronaut.data.model.Pageable;\nimport io.micronaut.http.annotation.Controller;\nimport io.micronaut.http.annotation.Get;\nimport io.swagger.v3.oas.annotations.Parameter;\nimport lombok.RequiredArgsConstructor;\nimport org.example.dto.GroupDto;\nimport org.example.service.GroupService;\n\n@Controller(&quot;/groups&quot;)\n@RequiredArgsConstructor\npublic class GroupController {\n    private final GroupService groupService;\n\n    @Get\n    public Page&lt;GroupDto&gt; findAllGroups(@Parameter(hidden = true) Pageable pageable) {\n        return groupService.findAllGroups(pageable);\n    }\n}\n</code></pre>\n<p><strong>DTO</strong></p>\n<pre><code>package org.example.dto;\n\nimport io.micronaut.serde.annotation.Serdeable;\nimport org.example.model.Group;\n\n@Serdeable\npublic record GroupDto(Long id, String name, int version) {\n    public static GroupDto from(Group group) {\n        return new GroupDto(group.getId(), group.getName(), group.getVersion());\n    }\n}\n</code></pre>\n<p><strong>Entity:</strong></p>\n<pre><code>package org.example.model;\n\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport javax.persistence.*;\n\n@Entity\n@Table(name = &quot;_group&quot;)\n@NoArgsConstructor @Getter @Setter\npublic class Group {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private Long id;\n    private String name;\n    @Version\n    private int version;\n}\n</code></pre>\n"},{"tags":["java","garbage-collection","finalizer"],"comments":[{"owner":{"account_id":1336108,"reputation":8046,"user_id":1278839,"accept_rate":69,"display_name":"CodeChimp"},"score":3,"creation_date":1389012574,"post_id":20950086,"comment_id":31465702,"body_markdown":"Not that I know of, not without byte-code manipulation.  I would suggest trying to refactor your application to remove the finalizers if you believe they are the issue.","body":"Not that I know of, not without byte-code manipulation.  I would suggest trying to refactor your application to remove the finalizers if you believe they are the issue."},{"owner":{"account_id":1000314,"reputation":12261,"user_id":1015327,"display_name":"JimmyB"},"score":0,"creation_date":1389013108,"post_id":20950086,"comment_id":31466024,"body_markdown":"Do you think the application will work without the code in the finalizers running at some point? IIrc, finalizers *will* be run for every object collected during normal operation of the VM; exception: abrupt shutdown of the VM.","body":"Do you think the application will work without the code in the finalizers running at some point? IIrc, finalizers <i>will</i> be run for every object collected during normal operation of the VM; exception: abrupt shutdown of the VM."},{"owner":{"account_id":2314453,"reputation":4203,"user_id":2031799,"display_name":"Mikhail"},"score":0,"creation_date":1389014204,"post_id":20950086,"comment_id":31466654,"body_markdown":"@HannoBinder Finalizers also make escape analysis impossible. So if application is heavy loaded they might be the cause.","body":"@HannoBinder Finalizers also make escape analysis impossible. So if application is heavy loaded they might be the cause."},{"owner":{"account_id":2577836,"reputation":119494,"user_id":2235132,"display_name":"devnull"},"score":0,"creation_date":1389015822,"post_id":20950086,"comment_id":31467529,"body_markdown":"`Very slow GC` isn&#39;t likely due to exceptions -- it&#39;s likely due to lack of heap space.","body":"<code>Very slow GC</code> isn&#39;t likely due to exceptions -- it&#39;s likely due to lack of heap space."},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":0,"creation_date":1389021389,"post_id":20950086,"comment_id":31470838,"body_markdown":"I&#39;ve added some further notes - would appreciate all suggestions offered.","body":"I&#39;ve added some further notes - would appreciate all suggestions offered."},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":0,"creation_date":1389021888,"post_id":20950086,"comment_id":31471116,"body_markdown":"@HannoBinder - Yes I am - mostly because Java makes no promises about when, or even if finalizers are run so the code *should* survive that.","body":"@HannoBinder - Yes I am - mostly because Java makes no promises about when, or even if finalizers are run so the code <i>should</i> survive that."},{"owner":{"account_id":1000314,"reputation":12261,"user_id":1015327,"display_name":"JimmyB"},"score":1,"creation_date":1389033542,"post_id":20950086,"comment_id":31478186,"body_markdown":"Certainly the application logic will not suffer if finalizers are not run. - I&#39;m rather thinking about resource de-allocations which, if never performed, may break the application through resource depletion. After all, that finalizer code was written for *some* reason. If it can be omitted completely, the assumption that lead to its implementation was erroneous; but if it does something useful, probably just at the &quot;wrong&quot; place, turning finalizer code off *will* break something.","body":"Certainly the application logic will not suffer if finalizers are not run. - I&#39;m rather thinking about resource de-allocations which, if never performed, may break the application through resource depletion. After all, that finalizer code was written for <i>some</i> reason. If it can be omitted completely, the assumption that lead to its implementation was erroneous; but if it does something useful, probably just at the &quot;wrong&quot; place, turning finalizer code off <i>will</i> break something."},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":0,"creation_date":1389053650,"post_id":20950086,"comment_id":31488263,"body_markdown":"@HannoBinder - You are too generous - I would say *if you are relying on finalizers to clean up your mess you are an .....* expletive deleted.","body":"@HannoBinder - You are too generous - I would say <i>if you are relying on finalizers to clean up your mess you are an .....</i> expletive deleted."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1389065416,"creation_date":1389020073,"answer_id":20952631,"question_id":20950086,"body_markdown":"&gt; Is there any way to persuade the JVM to completely skip all finalization processes?\r\n\r\nIn a word No.\r\n\r\nBut unless a large proportion of your objects have `finalize` methods and/or the `finalize` methods are particularly expensive, I think that they are unlikely to make GC &quot;very slow&quot;.  I expect the problem is something else.\r\n\r\nI suggest that you turn on GC logging to try and get a better picture of what is actually happening.\r\n\r\nBut I also agree, that refactoring the code to get rid of the `finalize()` methods would probably be a good thing in the long run.  (There are very few situations where using `finalize` is genuinely the best solution.)\r\n\r\n\r\n---------\r\n\r\n*UPDATE* - your new evidence is pretty convincing, though not a proof!.  \r\n\r\n&gt; I do not have the power to demand a refactor.\r\n\r\nThen, I suggest you place the evidence at the feet of the people who do :-).\r\n\r\nAlternatively, you could add an exception handler to the suspect `finalize` methods to see if they *are* throwing exceptions.  (And if they are, then change them to avoid the exceptions being thrown ...)\r\n\r\nBut the bottom line is that if finalization is the real cause of your performance problems then the best (and probably the only) way to cure them is to change the code.","title":"Can we switch off finalizers?","body":"<blockquote>\n  <p>Is there any way to persuade the JVM to completely skip all finalization processes?</p>\n</blockquote>\n\n<p>In a word No.</p>\n\n<p>But unless a large proportion of your objects have <code>finalize</code> methods and/or the <code>finalize</code> methods are particularly expensive, I think that they are unlikely to make GC \"very slow\".  I expect the problem is something else.</p>\n\n<p>I suggest that you turn on GC logging to try and get a better picture of what is actually happening.</p>\n\n<p>But I also agree, that refactoring the code to get rid of the <code>finalize()</code> methods would probably be a good thing in the long run.  (There are very few situations where using <code>finalize</code> is genuinely the best solution.)</p>\n\n<hr>\n\n<p><em>UPDATE</em> - your new evidence is pretty convincing, though not a proof!.  </p>\n\n<blockquote>\n  <p>I do not have the power to demand a refactor.</p>\n</blockquote>\n\n<p>Then, I suggest you place the evidence at the feet of the people who do :-).</p>\n\n<p>Alternatively, you could add an exception handler to the suspect <code>finalize</code> methods to see if they <em>are</em> throwing exceptions.  (And if they are, then change them to avoid the exceptions being thrown ...)</p>\n\n<p>But the bottom line is that if finalization is the real cause of your performance problems then the best (and probably the only) way to cure them is to change the code.</p>\n"},{"tags":[],"owner":{"account_id":250725,"reputation":9776,"user_id":527617,"accept_rate":69,"display_name":"UVM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389065777,"creation_date":1389065777,"answer_id":20963467,"question_id":20950086,"body_markdown":"You cannot switch off `finalizer` in java, but all you can do is write code that will facilitate GC :-).","title":"Can we switch off finalizers?","body":"<p>You cannot switch off <code>finalizer</code> in java, but all you can do is write code that will facilitate GC :-).</p>\n"},{"tags":[],"owner":{"account_id":1966542,"reputation":4462,"user_id":1766655,"accept_rate":100,"display_name":"Mishax"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498577669,"creation_date":1498566911,"answer_id":44780454,"question_id":20950086,"body_markdown":"It **is** possible to suppress finalization on certain objects. It does **not** require bytecode manipulation as one commenter noted. \r\n\r\nThe procedure is described [here][1] and source code is provided. The class `java.lang.ref.Finalizer` is responsible for maintaining a list of objects that have not yet been finalized. To suppress finalization of your objects of interest, it suffices to use reflection APIs to acquire a lock on the field `lock`, iterate over the linked list `unfinalized` that the Finalizer class maintains, and remove your object from this list.\r\n\r\nI&#39;ve tried this method to safely instantiate custom-serialized objects while bypassing constructor invocation, and avoiding problems when the finalizer would be invoked with normal GC. Before applying this method my JVM would break with hard faults in the finalizer thread; since applying this method the faults do not occur.\r\n\r\n\r\n\r\n  [1]: http://lukequinane.blogspot.de/2009/03/java-suppress-finalizer.html","title":"Can we switch off finalizers?","body":"<p>It <strong>is</strong> possible to suppress finalization on certain objects. It does <strong>not</strong> require bytecode manipulation as one commenter noted. </p>\n\n<p>The procedure is described <a href=\"http://lukequinane.blogspot.de/2009/03/java-suppress-finalizer.html\" rel=\"nofollow noreferrer\">here</a> and source code is provided. The class <code>java.lang.ref.Finalizer</code> is responsible for maintaining a list of objects that have not yet been finalized. To suppress finalization of your objects of interest, it suffices to use reflection APIs to acquire a lock on the field <code>lock</code>, iterate over the linked list <code>unfinalized</code> that the Finalizer class maintains, and remove your object from this list.</p>\n\n<p>I've tried this method to safely instantiate custom-serialized objects while bypassing constructor invocation, and avoiding problems when the finalizer would be invoked with normal GC. Before applying this method my JVM would break with hard faults in the finalizer thread; since applying this method the faults do not occur.</p>\n"},{"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684162678,"creation_date":1684162325,"answer_id":76255302,"question_id":20950086,"body_markdown":"Java 18 (released in 2022) deprecated finalization for removal with [JEP 421](https://openjdk.org/jeps/421) and [added an option for disabling it](https://openjdk.org/jeps/421#Command-line-option-to-disable-finalization).\r\n\r\nYou can now start your application with `--finalization=disabled` and it won&#39;t run finalizers.\r\n\r\n```bash\r\njava --finalization=disabled -jar your-app.jar\r\n```\r\n\r\nThe JEP also mentions a JFR event called `jdk.FinalizerStatistics` which gives you more information about finalization:\r\n```bash\r\n# start Java with the JFR event jdk.FinalizerStatistics enabled\r\njava -XX:StartFlightRecording:filename=recording.jfr -jar your-app.jar\r\n# print events\r\njfr print --events FinalizerStatistics recording.jfr\r\n```","title":"Can we switch off finalizers?","body":"<p>Java 18 (released in 2022) deprecated finalization for removal with <a href=\"https://openjdk.org/jeps/421\" rel=\"nofollow noreferrer\">JEP 421</a> and <a href=\"https://openjdk.org/jeps/421#Command-line-option-to-disable-finalization\" rel=\"nofollow noreferrer\">added an option for disabling it</a>.</p>\n<p>You can now start your application with <code>--finalization=disabled</code> and it won't run finalizers.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java --finalization=disabled -jar your-app.jar\n</code></pre>\n<p>The JEP also mentions a JFR event called <code>jdk.FinalizerStatistics</code> which gives you more information about finalization:</p>\n<pre class=\"lang-bash prettyprint-override\"><code># start Java with the JFR event jdk.FinalizerStatistics enabled\njava -XX:StartFlightRecording:filename=recording.jfr -jar your-app.jar\n# print events\njfr print --events FinalizerStatistics recording.jfr\n</code></pre>\n"}],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":915,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":20952631,"answer_count":4,"score":16,"last_activity_date":1684162678,"creation_date":1389011474,"question_id":20950086,"body_markdown":"As there is little guarantee about when and even if finalizers run and finalizers are almost considered a smell nowadays - is there any way to persuade the JVM to completely skip all finalization processes?\r\n\r\nI ask because we have a mammoth application which, when moved to a newer JVM (not sure which at this stage) is brought to its knees by what looks very much like the known problems with finalisers (exceptions being thrown and therefore very slow GC).\r\n\r\n**Added**\r\n\r\nThere is some discussion on https://stackoverflow.com/q/7644556/823393 where it is suggested that the primary problem arises when exceptions are thrown within finalizers because that slows down the finalization process dramatically.\r\n\r\nMy issue shows as a dramatic slow-down when memory becomes low and analysis of heap dumps show a large number of `Finalizer` objects (over 10,000,000) - suggesting to me that the slowdown could be their fault because they are delaying the GC. Obviously I may be wrong.\r\n\r\nI do not have the power to demand a refactor.\r\n","title":"Can we switch off finalizers?","body":"<p>As there is little guarantee about when and even if finalizers run and finalizers are almost considered a smell nowadays - is there any way to persuade the JVM to completely skip all finalization processes?</p>\n\n<p>I ask because we have a mammoth application which, when moved to a newer JVM (not sure which at this stage) is brought to its knees by what looks very much like the known problems with finalisers (exceptions being thrown and therefore very slow GC).</p>\n\n<p><strong>Added</strong></p>\n\n<p>There is some discussion on <a href=\"https://stackoverflow.com/q/7644556/823393\">Troubleshooting a java memory leak: finalization?</a> where it is suggested that the primary problem arises when exceptions are thrown within finalizers because that slows down the finalization process dramatically.</p>\n\n<p>My issue shows as a dramatic slow-down when memory becomes low and analysis of heap dumps show a large number of <code>Finalizer</code> objects (over 10,000,000) - suggesting to me that the slowdown could be their fault because they are delaying the GC. Obviously I may be wrong.</p>\n\n<p>I do not have the power to demand a refactor.</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"score":0,"creation_date":1508156178,"post_id":46769744,"comment_id":80485475,"body_markdown":"What do you mean with &quot;depending on the transferred parameter&quot;? Can you please provide some more information.","body":"What do you mean with &quot;depending on the transferred parameter&quot;? Can you please provide some more information."},{"owner":{"account_id":7024326,"reputation":315,"user_id":5415416,"accept_rate":88,"display_name":"Denis Bolshakov"},"score":0,"creation_date":1508156954,"post_id":46769744,"comment_id":80486006,"body_markdown":"@StefanBirkner For example: if jenkins get parameter FirstTest then start testsuite FirstTest. If jenkins get parameter testOther then start testsuite testOther and so on","body":"@StefanBirkner For example: if jenkins get parameter FirstTest then start testsuite FirstTest. If jenkins get parameter testOther then start testsuite testOther and so on"},{"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"score":0,"creation_date":1508157129,"post_id":46769744,"comment_id":80486109,"body_markdown":"Are you using a build tool like Ant, Gradle or Maven?","body":"Are you using a build tool like Ant, Gradle or Maven?"},{"owner":{"account_id":7024326,"reputation":315,"user_id":5415416,"accept_rate":88,"display_name":"Denis Bolshakov"},"score":0,"creation_date":1508157263,"post_id":46769744,"comment_id":80486199,"body_markdown":"@StefanBirkner I use Maven.","body":"@StefanBirkner I use Maven."},{"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"score":0,"creation_date":1508162548,"post_id":46769744,"comment_id":80489962,"body_markdown":"Please have a look at Atul&#39;s answer.","body":"Please have a look at Atul&#39;s answer."}],"answers":[{"tags":[],"owner":{"account_id":339454,"reputation":2681,"user_id":668951,"accept_rate":88,"display_name":"Atul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508158009,"creation_date":1508158009,"answer_id":46770704,"question_id":46769744,"body_markdown":"I believe you can do something like that using [junit test categories][1]. For example, for running integration tests, you can configure a separate annotation for the tests. \r\n\r\nMaven [supports][2] test categories.\r\n\r\nDoes it solve your problem or is the jenkins input parameter critical? If it is a jenkins parameter, I believe it is some environment/build configuration and you can customize your build (maven tests to be run) as per the the environment or build job.\r\n\r\n\r\n  [1]: http://junit.org/junit4/javadoc/4.12/org/junit/experimental/categories/Categories.html\r\n  [2]: http://maven.apache.org/surefire/maven-surefire-plugin/examples/junit.html","title":"How launch of certain TestSuite using the parameter in jUnit?","body":"<p>I believe you can do something like that using <a href=\"http://junit.org/junit4/javadoc/4.12/org/junit/experimental/categories/Categories.html\" rel=\"nofollow noreferrer\">junit test categories</a>. For example, for running integration tests, you can configure a separate annotation for the tests. </p>\n\n<p>Maven <a href=\"http://maven.apache.org/surefire/maven-surefire-plugin/examples/junit.html\" rel=\"nofollow noreferrer\">supports</a> test categories.</p>\n\n<p>Does it solve your problem or is the jenkins input parameter critical? If it is a jenkins parameter, I believe it is some environment/build configuration and you can customize your build (maven tests to be run) as per the the environment or build job.</p>\n"}],"owner":{"account_id":7024326,"reputation":315,"user_id":5415416,"accept_rate":88,"display_name":"Denis Bolshakov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684161984,"creation_date":1508154926,"question_id":46769744,"body_markdown":"I have test classes which uses other test classes. It is necessary to run these classes depending on the transferred parameter in Jenkins. (For example: if jenkins get parameter testOne then start testsuite testOne. If jenkins get parameter testOther then start testsuite testOther and so on)\r\n\r\nHow can I implement this in jUnit?\r\n\r\nThis is an example of one of the test suites:\r\n\r\n    @RunWith(Categories.class)\r\n    @Suite.SuiteClasses({UserLogin.class,\r\n            ExampleTests.class\r\n            }\r\n    )\r\n    public class FirstTest {","title":"How launch of certain TestSuite using the parameter in jUnit?","body":"<p>I have test classes which uses other test classes. It is necessary to run these classes depending on the transferred parameter in Jenkins. (For example: if jenkins get parameter testOne then start testsuite testOne. If jenkins get parameter testOther then start testsuite testOther and so on)</p>\n<p>How can I implement this in jUnit?</p>\n<p>This is an example of one of the test suites:</p>\n<pre><code>@RunWith(Categories.class)\n@Suite.SuiteClasses({UserLogin.class,\n        ExampleTests.class\n        }\n)\npublic class FirstTest {\n</code></pre>\n"},{"tags":["java","html","css","model-view-controller"],"comments":[{"owner":{"account_id":26408874,"reputation":215,"user_id":20058203,"display_name":"AJ Zack"},"score":0,"creation_date":1684155927,"post_id":76254367,"comment_id":134471186,"body_markdown":"you gave a screenshot of the link that works but no screenshot for the link that doesn&#39;t work.","body":"you gave a screenshot of the link that works but no screenshot for the link that doesn&#39;t work."},{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":2,"creation_date":1684156423,"post_id":76254367,"comment_id":134471303,"body_markdown":"In your browser&#39;s debugging tools, on the network tab, when the page makes a request for the CSS file, what is the URL of that request?  Does it match what you expect?  What is the server&#39;s response?","body":"In your browser&#39;s debugging tools, on the network tab, when the page makes a request for the CSS file, what is the URL of that request?  Does it match what you expect?  What is the server&#39;s response?"},{"owner":{"account_id":29476,"reputation":31520,"user_id":79677,"accept_rate":68,"display_name":"Chris Barr"},"score":0,"creation_date":1684156647,"post_id":76254367,"comment_id":134471347,"body_markdown":"Please include actual code and not screenshots of code.  Also please actually include your code that does not work so people can help you with it.","body":"Please include actual code and not screenshots of code.  Also please actually include your code that does not work so people can help you with it."},{"owner":{"account_id":10162,"reputation":922420,"user_id":19068,"display_name":"Quentin"},"score":0,"creation_date":1684156794,"post_id":76254367,"comment_id":134471382,"body_markdown":"Things that you need to know to solve your problem. (1) The URL of the HTML document that your server is generating from your template. (2) The absolute URL that the relative URL in your `&lt;link&gt;` resolves to. (3) How the HTTP server you are using generates static URLs for static files. (4) Where on your file system you should put static files for *3* to work.","body":"Things that you need to know to solve your problem. (1) The URL of the HTML document that your server is generating from your template. (2) The absolute URL that the relative URL in your <code>&lt;link&gt;</code> resolves to. (3) How the HTTP server you are using generates static URLs for static files. (4) Where on your file system you should put static files for <i>3</i> to work."},{"owner":{"account_id":21821517,"reputation":13,"user_id":16253011,"display_name":"trying  to be developer"},"score":0,"creation_date":1684157511,"post_id":76254367,"comment_id":134471564,"body_markdown":"it is first time i am publishing the question here, i am sorry for non-informativeness","body":"it is first time i am publishing the question here, i am sorry for non-informativeness"},{"owner":{"account_id":1449141,"reputation":38288,"user_id":1447509,"accept_rate":89,"display_name":"cssyphus"},"score":0,"creation_date":1684157683,"post_id":76254367,"comment_id":134471601,"body_markdown":"Not at all - that is why WE are here - to answer questions of every level. Remember that we once were where you are now, so we are happy to lend a helping hand. Ask away! But do NOT become discouraged if some people are rude. Sometimes even people with very high rep scores are unkind. Just keep asking!","body":"Not at all - that is why WE are here - to answer questions of every level. Remember that we once were where you are now, so we are happy to lend a helping hand. Ask away! But do NOT become discouraged if some people are rude. Sometimes even people with very high rep scores are unkind. Just keep asking!"},{"owner":{"account_id":21821517,"reputation":13,"user_id":16253011,"display_name":"trying  to be developer"},"score":0,"creation_date":1684157966,"post_id":76254367,"comment_id":134471664,"body_markdown":"i posted the screenshot of the code that does not work, i highlighted the link to css url and there is no response from browser","body":"i posted the screenshot of the code that does not work, i highlighted the link to css url and there is no response from browser"}],"answers":[{"comments":[{"owner":{"account_id":10162,"reputation":922420,"user_id":19068,"display_name":"Quentin"},"score":0,"creation_date":1684156423,"post_id":76254415,"comment_id":134471304,"body_markdown":"&quot;The webserver will look for your CSS file starting from the location of your index file.&quot; — Since the template is in a directory called &quot;templates&quot; and there is a folder named &quot;static&quot; in the image, that statement is probably incorrect for this web server.","body":"&quot;The webserver will look for your CSS file starting from the location of your index file.&quot; — Since the template is in a directory called &quot;templates&quot; and there is a folder named &quot;static&quot; in the image, that statement is probably incorrect for this web server."},{"owner":{"account_id":21821517,"reputation":13,"user_id":16253011,"display_name":"trying  to be developer"},"score":0,"creation_date":1684157392,"post_id":76254415,"comment_id":134471536,"body_markdown":"my html file and css fila are in the same directory","body":"my html file and css fila are in the same directory"},{"owner":{"account_id":21821517,"reputation":13,"user_id":16253011,"display_name":"trying  to be developer"},"score":0,"creation_date":1684157412,"post_id":76254415,"comment_id":134471542,"body_markdown":"capitalization matters","body":"capitalization matters"},{"owner":{"account_id":21821517,"reputation":13,"user_id":16253011,"display_name":"trying  to be developer"},"score":0,"creation_date":1684162512,"post_id":76254415,"comment_id":134472849,"body_markdown":"checked everything, tried some ways to fix problem, still html file does not see css file, there is no bug appears, browser show page without css, anybody help, show the place where the the mistake is, it spent 4 fours to fix this bug","body":"checked everything, tried some ways to fix problem, still html file does not see css file, there is no bug appears, browser show page without css, anybody help, show the place where the the mistake is, it spent 4 fours to fix this bug"},{"owner":{"account_id":1449141,"reputation":38288,"user_id":1447509,"accept_rate":89,"display_name":"cssyphus"},"score":0,"creation_date":1684168269,"post_id":76254415,"comment_id":134474380,"body_markdown":"Use DevTools. On the page created by your HTML, press F12 (or Right-Click and choose Inspect). This shows the HTML that created the page. Go up to the **head** element and locate the style tag. What does the tag say? Now, create a new tab and try the URL: `https://yourdomain.com/path-to-your-style.css` - or, on localhost: `http://localhost/templates/style.css`. THEN, experiment with that URL until you actually open the style.css and see the text. Update your question and post a screenshot of what you see in DevTools for the style tag.","body":"Use DevTools. On the page created by your HTML, press F12 (or Right-Click and choose Inspect). This shows the HTML that created the page. Go up to the <b>head</b> element and locate the style tag. What does the tag say? Now, create a new tab and try the URL: <code>https:&#47;&#47;yourdomain.com&#47;path-to-your-style.css</code> - or, on localhost: <code>http:&#47;&#47;localhost&#47;templates&#47;style.css</code>. THEN, experiment with that URL until you actually open the style.css and see the text. Update your question and post a screenshot of what you see in DevTools for the style tag."},{"owner":{"account_id":1449141,"reputation":38288,"user_id":1447509,"accept_rate":89,"display_name":"cssyphus"},"score":0,"creation_date":1684169517,"post_id":76254415,"comment_id":134474673,"body_markdown":"What happens if you change the `&lt;link&gt;` for your stylesheet to just `style.css` ?  Also, because you had a capitalization issue earlier, try renaming your stylesheet just to `bob.css`. The trick is to be able to open your stylesheet from the browser address bar - that will help you discover the relationship between the index file and the style.css file. Are they in the same folder? If so, you should be able to open `http://domain_or_127.0.0.1/style.css`","body":"What happens if you change the <code>&lt;link&gt;</code> for your stylesheet to just <code>style.css</code> ?  Also, because you had a capitalization issue earlier, try renaming your stylesheet just to <code>bob.css</code>. The trick is to be able to open your stylesheet from the browser address bar - that will help you discover the relationship between the index file and the style.css file. Are they in the same folder? If so, you should be able to open <code>http:&#47;&#47;domain_or_127.0.0.1&#47;style.css</code>"}],"tags":[],"owner":{"account_id":1449141,"reputation":38288,"user_id":1447509,"accept_rate":89,"display_name":"cssyphus"},"comment_count":6,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1684157863,"creation_date":1684156179,"answer_id":76254415,"question_id":76254367,"body_markdown":"The webserver will look for your CSS file starting from the location of your index file. ***Important: See Quentin&#39;s note under your question for important information when you are using templates and frameworks. This sentence only applies to traditional HTML construction - but it also applies once your project has been generated and uploaded to the web server.***\r\n\r\nAccording to that code, the file `style.css` should be in the same folder as the index file, and spelled exactly as specified. Capitalization matters: Style.css is not style.css.\r\n\r\nDid you move the style.css file into a subfolder? Is the capitalization different?\r\n","title":"the link to css file does not work, a have check everything, still does not work, anybody answer me, what is wrong?","body":"<p>The webserver will look for your CSS file starting from the location of your index file. <em><strong>Important: See Quentin's note under your question for important information when you are using templates and frameworks. This sentence only applies to traditional HTML construction - but it also applies once your project has been generated and uploaded to the web server.</strong></em></p>\n<p>According to that code, the file <code>style.css</code> should be in the same folder as the index file, and spelled exactly as specified. Capitalization matters: Style.css is not style.css.</p>\n<p>Did you move the style.css file into a subfolder? Is the capitalization different?</p>\n"}],"owner":{"account_id":21821517,"reputation":13,"user_id":16253011,"display_name":"trying  to be developer"},"comment_count":7,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1684156520,"accepted_answer_id":76254415,"answer_count":1,"score":-3,"last_activity_date":1684161972,"creation_date":1684155815,"question_id":76254367,"body_markdown":"html file cannot see css file\r\n\r\nin my previous project the same link to css file worked[enter image description here](https://i.stac## \r\n\r\n 1. \r\n\r\n\r\n----------\r\n## **[![Heading][1]][1]** ##\r\n\r\n ##k.imgur.com/u6L9P.png)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/thcs8.png","title":"the link to css file does not work, a have check everything, still does not work, anybody answer me, what is wrong?","body":"<p>html file cannot see css file</p>\n<p>in my previous project the same link to css file worked[enter image description here](<a href=\"https://i.stac##\" rel=\"nofollow noreferrer\">https://i.stac##</a></p>\n<p>1.</p>\n<hr />\n<h2><strong><a href=\"https://i.stack.imgur.com/thcs8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/thcs8.png\" alt=\"Heading\" /></a></strong></h2>\n<p>##k.imgur.com/u6L9P.png)</p>\n"},{"tags":["java","jpa","desktop-application"],"owner":{"account_id":27647727,"reputation":31,"user_id":21103267,"display_name":"Deema Shaath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":0,"score":1,"last_activity_date":1684161763,"creation_date":1684066129,"question_id":76247405,"body_markdown":"I&#39;m new to JPA in Java. I followed a tutorial (I can&#39;t share it to public) step by step and the code runs successfully. But, when I run my code it shows:\r\n\r\n&gt; WARNING: jakarta.persistence.spi::No valid providers found.\r\n\r\n I asked many experts in the field but no one found a solution.\r\n\r\nI tried all solutions like adding the hibernate-core.jar and many other solutions for this error mentioned in Stack Overflow.\r\nI&#39;m not using maven, like the tutorial I followed did! Here is my persistence.xml file the same as the tutorial:\r\n```xnl\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n    &lt;persistence-unit name=&quot;Prog3Assi3PU&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n        &lt;class&gt;Ch5Apps.Department&lt;/class&gt;\r\n        &lt;class&gt;Ch5Apps.Employee&lt;/class&gt;\r\n        &lt;class&gt;Ch5Apps.EmployeeProjects&lt;/class&gt;\r\n        &lt;class&gt;Ch5Apps.Project&lt;/class&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3308/companyjpa?serverTimezone=UTC&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;root&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;create&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\nI&#39;m sure that port number of the localhost is correct, and the persistence.xml is in the right path. I tried using *javax.persistence* and the same error appears.\r\nPlease note: I&#39;m using NetBeans 17, JDK 20 and tried JDK 17 but the problem still appears.","title":"ERROR: jakarta.persistence.PersistenceException: No Persistence provider for EntityManager named","body":"<p>I'm new to JPA in Java. I followed a tutorial (I can't share it to public) step by step and the code runs successfully. But, when I run my code it shows:</p>\n<blockquote>\n<p>WARNING: jakarta.persistence.spi::No valid providers found.</p>\n</blockquote>\n<p>I asked many experts in the field but no one found a solution.</p>\n<p>I tried all solutions like adding the hibernate-core.jar and many other solutions for this error mentioned in Stack Overflow.\nI'm not using maven, like the tutorial I followed did! Here is my persistence.xml file the same as the tutorial:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\n    &lt;persistence-unit name=&quot;Prog3Assi3PU&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n        &lt;class&gt;Ch5Apps.Department&lt;/class&gt;\n        &lt;class&gt;Ch5Apps.Employee&lt;/class&gt;\n        &lt;class&gt;Ch5Apps.EmployeeProjects&lt;/class&gt;\n        &lt;class&gt;Ch5Apps.Project&lt;/class&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3308/companyjpa?serverTimezone=UTC&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;root&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;create&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>I'm sure that port number of the localhost is correct, and the persistence.xml is in the right path. I tried using <em>javax.persistence</em> and the same error appears.\nPlease note: I'm using NetBeans 17, JDK 20 and tried JDK 17 but the problem still appears.</p>\n"},{"tags":["java","android","digital-persona-sdk"],"answers":[{"tags":[],"owner":{"account_id":28594600,"reputation":16,"user_id":21893068,"display_name":"Jaco foran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684075514,"creation_date":1684060744,"answer_id":76247014,"question_id":76243048,"body_markdown":"contact with \r\n```\r\n ReaderCollection rc = UareUGlobal.GetReaderCollection();\r\n        rc.GetReaders();\r\n```\r\nhttp://digital.persona.sdk.android.brainwaveappstudio.com/","title":"How to connect digital persona fingerprint device with an android","body":"<p>contact with</p>\n<pre><code> ReaderCollection rc = UareUGlobal.GetReaderCollection();\n        rc.GetReaders();\n</code></pre>\n<p><a href=\"http://digital.persona.sdk.android.brainwaveappstudio.com/\" rel=\"nofollow noreferrer\">http://digital.persona.sdk.android.brainwaveappstudio.com/</a></p>\n"}],"owner":{"account_id":27197905,"reputation":3,"user_id":20730531,"display_name":"Adal Ponal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76247014,"answer_count":1,"score":0,"last_activity_date":1684161720,"creation_date":1683985543,"question_id":76243048,"body_markdown":"I want to connect digital persona fingerprint device with an Android. This means I need the app source code for Android.\r\n\r\nLike this app:\r\nhttps://play.google.com/store/apps/details?id=com.digitalpersona.digitalpersona\r\n\r\n```java\r\nimport com.digitalpersona.uareu.*; \r\n\r\nprivate void start_scanning() {\r\n    try {\r\n        // Pick first available reader\r\n        ReaderCollection rc = UareUGlobal.GetReaderCollection();\r\n        rc.GetReaders();\r\n        r = rc.get(0);\r\n        if (r==null)\r\n            return;\r\n\r\n        // Open Reader\r\n        r.Open(Reader.Priority.COOPERATIVE);\r\n        System.out.println(r.GetStatus().status); // Outputs READY\r\n\r\n        // The following call just hangs and never returns...\r\n        Reader.CaptureResult\r\n                cr = r.Capture(Fid.Format.ISO_19794_4_2005, Reader.ImageProcessing.IMG_PROC_DEFAULT, 500, -1);\r\n        System.out.println(cr.quality.name()); // Just to test\r\n\r\n    } catch (UareUException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```","title":"How to connect digital persona fingerprint device with an android","body":"<p>I want to connect digital persona fingerprint device with an Android. This means I need the app source code for Android.</p>\n<p>Like this app:\n<a href=\"https://play.google.com/store/apps/details?id=com.digitalpersona.digitalpersona\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=com.digitalpersona.digitalpersona</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.digitalpersona.uareu.*; \n\nprivate void start_scanning() {\n    try {\n        // Pick first available reader\n        ReaderCollection rc = UareUGlobal.GetReaderCollection();\n        rc.GetReaders();\n        r = rc.get(0);\n        if (r==null)\n            return;\n\n        // Open Reader\n        r.Open(Reader.Priority.COOPERATIVE);\n        System.out.println(r.GetStatus().status); // Outputs READY\n\n        // The following call just hangs and never returns...\n        Reader.CaptureResult\n                cr = r.Capture(Fid.Format.ISO_19794_4_2005, Reader.ImageProcessing.IMG_PROC_DEFAULT, 500, -1);\n        System.out.println(cr.quality.name()); // Just to test\n\n    } catch (UareUException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","oracle","jdbc","plsql"],"comments":[{"owner":{"account_id":15582151,"reputation":1890,"user_id":11241615,"display_name":"xavier"},"score":0,"creation_date":1561404726,"post_id":56742820,"comment_id":100044664,"body_markdown":"Please explain what you tried to do to solve this problem. Don&#39;t just copy-paste your code and expect someone is going to do debug it all...","body":"Please explain what you tried to do to solve this problem. Don&#39;t just copy-paste your code and expect someone is going to do debug it all..."},{"owner":{"account_id":16196567,"reputation":11,"user_id":11694082,"display_name":"jdbcuser"},"score":0,"creation_date":1561405346,"post_id":56742820,"comment_id":100044883,"body_markdown":"I tried to follow Oracle documentation here - https://docs.oracle.com/database/121/JJDBC/oraint.htm#JJDBC28180. Its mentioned - Oracle JDBC drivers support PL/SQL Associative Arrays of VARCHAR and NUMBER types. Does it mean it won&#39;t support associate arrays of complex types as shown in my code ?","body":"I tried to follow Oracle documentation here - <a href=\"https://docs.oracle.com/database/121/JJDBC/oraint.htm#JJDBC28180\" rel=\"nofollow noreferrer\">docs.oracle.com/database/121/JJDBC/oraint.htm#JJDBC28180</a>. Its mentioned - Oracle JDBC drivers support PL/SQL Associative Arrays of VARCHAR and NUMBER types. Does it mean it won&#39;t support associate arrays of complex types as shown in my code ?"},{"owner":{"account_id":74118,"reputation":49342,"user_id":213136,"accept_rate":100,"display_name":"Bob Jarvis - Слава Україні"},"score":0,"creation_date":1561414854,"post_id":56742820,"comment_id":100047993,"body_markdown":"That&#39;s certainly the way I read it. I suggest that instead of trying to pass back a complex type, you should form something like a comma-separated values string from your data and return that, or something else similar. Best of luck.","body":"That&#39;s certainly the way I read it. I suggest that instead of trying to pass back a complex type, you should form something like a comma-separated values string from your data and return that, or something else similar. Best of luck."},{"owner":{"account_id":1061472,"reputation":11336,"user_id":1062992,"accept_rate":94,"display_name":"egerardus"},"score":0,"creation_date":1561415630,"post_id":56742820,"comment_id":100048180,"body_markdown":"Fixed the code formatting and added a question to the ...question.","body":"Fixed the code formatting and added a question to the ...question."},{"owner":{"account_id":16044618,"reputation":1278,"user_id":11580129,"display_name":"Tad Harrison"},"score":0,"creation_date":1561551309,"post_id":56742820,"comment_id":100100564,"body_markdown":"You are correct--you are limited to simple arrays like `String[]` and `BigDecimal[]`. Would you be able to do what you need with simple arrays alone?","body":"You are correct--you are limited to simple arrays like <code>String[]</code> and <code>BigDecimal[]</code>. Would you be able to do what you need with simple arrays alone?"}],"answers":[{"tags":[],"owner":{"account_id":28606093,"reputation":1,"user_id":21902007,"display_name":"Dan Sievewright"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684161526,"creation_date":1684161526,"answer_id":76255187,"question_id":56742820,"body_markdown":"This can be done if you use SQLData and OracleData per the docs, https://docs.oracle.com/en/database/oracle/oracle-database/19/jjdbc/Oracle-object-types.html#GUID-5905674A-A045-40B1-96DE-726761517D50.\r\n\r\nYou can start with a SQLData object representing the row type, then create the OracleData object for the array and Oracle will take care of the rest.\r\n\r\n\r\nexample EmpRow:\r\n\r\n    class EmpRow implements SQLData {\r\n        private String employeeNumber;\r\n        private String employeeName;\r\n        private String employeeDept;\r\n        \r\n        // add getters/setters/construtor\r\n\r\n        @Override\r\n        public String getSQLTypeName() throws SQLException {\r\n\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public void readSQL(SQLInput stream, String typeName) throws SQLException {\r\n\r\n            employeeNumber = stream.readString();\r\n            employeeName = stream.readString();\r\n            employeeDept = stream.readString();\r\n\r\n        }\r\n\r\n        @Override\r\n        public void writeSQL(SQLOutput stream) throws SQLException {\r\n\r\n            stream.writeString(employeeNumber);\r\n            stream.writeString(employeeName);\r\n            stream.writeString(employeeDept);\r\n        }\r\n    }\r\n\r\nexample call:\r\n\r\n    // values is the associative array.  The keys will need to be numbered 1, 2, ... consecutively.  \r\n    public void runProcedure(Map&lt;Integer, EmpRow&gt; values) {\r\n        \r\n        Connection conn = //get connection\r\n        conn.prepareCall(&quot;begin PKG_SP_EMPLOYEE.MAIN (?,?); end;&quot;);\r\n        conn.setObject(1, new OracleData() {\r\n            \r\n            @Override\r\n            public Object toJDBCObject(Connection arg0) throws SQLException {\r\n                \r\n                // TODO Auto-generated method stub\r\n                return ((OracleConnection) arg0).createOracleArray(&quot;PKG_SP_EMPLOYEE.tbl_employees_in&quot;, values);\r\n            }\r\n        }); \r\n\r\n        conn.registerOutParameter(2, Types.VARCHAR); \r\n        conn.execute ();\r\n        \r\n        // rest of procedure\r\n    }\r\n\r\nPersonally, I have a separate PlsqlArray class that implements OracleData with a constructor that passes in the type name and the values. I haven&#39;t tested with your particular example so let me know if anything is amiss.","title":"How do I call a PL/SQL procedure with associative arrays?","body":"<p>This can be done if you use SQLData and OracleData per the docs, <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/jjdbc/Oracle-object-types.html#GUID-5905674A-A045-40B1-96DE-726761517D50\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/database/oracle/oracle-database/19/jjdbc/Oracle-object-types.html#GUID-5905674A-A045-40B1-96DE-726761517D50</a>.</p>\n<p>You can start with a SQLData object representing the row type, then create the OracleData object for the array and Oracle will take care of the rest.</p>\n<p>example EmpRow:</p>\n<pre><code>class EmpRow implements SQLData {\n    private String employeeNumber;\n    private String employeeName;\n    private String employeeDept;\n    \n    // add getters/setters/construtor\n\n    @Override\n    public String getSQLTypeName() throws SQLException {\n\n        return null;\n    }\n\n    @Override\n    public void readSQL(SQLInput stream, String typeName) throws SQLException {\n\n        employeeNumber = stream.readString();\n        employeeName = stream.readString();\n        employeeDept = stream.readString();\n\n    }\n\n    @Override\n    public void writeSQL(SQLOutput stream) throws SQLException {\n\n        stream.writeString(employeeNumber);\n        stream.writeString(employeeName);\n        stream.writeString(employeeDept);\n    }\n}\n</code></pre>\n<p>example call:</p>\n<pre><code>// values is the associative array.  The keys will need to be numbered 1, 2, ... consecutively.  \npublic void runProcedure(Map&lt;Integer, EmpRow&gt; values) {\n    \n    Connection conn = //get connection\n    conn.prepareCall(&quot;begin PKG_SP_EMPLOYEE.MAIN (?,?); end;&quot;);\n    conn.setObject(1, new OracleData() {\n        \n        @Override\n        public Object toJDBCObject(Connection arg0) throws SQLException {\n            \n            // TODO Auto-generated method stub\n            return ((OracleConnection) arg0).createOracleArray(&quot;PKG_SP_EMPLOYEE.tbl_employees_in&quot;, values);\n        }\n    }); \n\n    conn.registerOutParameter(2, Types.VARCHAR); \n    conn.execute ();\n    \n    // rest of procedure\n}\n</code></pre>\n<p>Personally, I have a separate PlsqlArray class that implements OracleData with a constructor that passes in the type name and the values. I haven't tested with your particular example so let me know if anything is amiss.</p>\n"}],"owner":{"account_id":16196567,"reputation":11,"user_id":11694082,"display_name":"jdbcuser"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":750,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684161526,"creation_date":1561404600,"question_id":56742820,"body_markdown":"I am calling a PL/SQL procedure with an associative array as per the [documentation here](https://docs.oracle.com/database/121/JJDBC/oraint.htm#JJDBC28180). \r\n\r\nHowever I am getting an exception `array bind type must match PL/SQL table row type` though I believe that is what I am passing.\r\n\r\nSpecifically, I have a table, PL/SQL package and JDBC code as follows:\r\n\r\n--------------------------------------------------------\r\nTable EMPLOYEE\r\n--------------------------------------------------------\r\n\r\n    CREATE TABLE EMPLOYEE \r\n    (\t\r\n    &quot;EMPLOYEE_NUMBER&quot; VARCHAR2(20 BYTE), \r\n    &quot;EMPLOYEE_NAME&quot; VARCHAR2(80 BYTE), \r\n    &quot;EMPLOYEE_DEPT&quot; VARCHAR2(40 BYTE)\r\n    );\r\n\r\n--------------------------------------------------------\r\nPackage PKG_SP_EMPLOYEE\r\n--------------------------------------------------------\r\n\r\n    create or replace PACKAGE PKG_SP_EMPLOYEE\r\n    AS\r\n    TYPE tbl_employees_in\r\n    IS\r\n    TABLE OF EMPLOYEE%ROWTYPE INDEX BY PLS_INTEGER;\r\n       \r\n    PROCEDURE main(\r\n        p_employee IN PKG_SP_EMPLOYEE.tbl_employees_in,\r\n        x_status OUT VARCHAR \r\n    );\r\n    END PKG_SP_EMPLOYEE;\r\n\r\n--------------------------------------------------------\r\nPackage Body PKG_SP_EMPLOYEE\r\n--------------------------------------------------------\r\n\r\n    create or replace PACKAGE BODY PKG_SP_EMPLOYEE\r\n    AS\r\n    \r\n    PROCEDURE main(\r\n        p_employee IN PKG_SP_EMPLOYEE.tbl_employees_in,\r\n        x_status OUT VARCHAR\r\n        )\r\n    IS\r\n    BEGIN \r\n    FOR i in 1..p_employee.count\r\n    \r\n        loop\r\n        INSERT INTO &quot;EMPLOYEE&quot;\r\n               (\r\n               EMPLOYEE_NUMBER, \r\n               EMPLOYEE_NAME, \r\n               EMPLOYEE_DEPT\r\n               )\r\n        VALUES (\r\n               p_employee(i).EMPLOYEE_NUMBER,\r\n               p_employee(i).EMPLOYEE_NAME,\r\n               p_employee(i).EMPLOYEE_DEPT\r\n               );\r\n                                      \r\n        end loop;\r\n      \r\n        dbms_output.put_line(&#39;Success&#39;);\r\n        x_status  := &#39;Success&#39;;\r\n    \r\n    EXCEPTION\r\n        WHEN OTHERS THEN\r\n            dbms_output.put_line(&#39;Failure&#39;);\r\n            x_status  := &#39;Failure&#39;;           \r\n    \r\n    END main;\r\n    END PKG_SP_EMPLOYEE;\r\n\r\n\r\n--------------------------------------------------------\r\nJDBC Code\r\n--------------------------------------------------------\r\n\r\n    Connection con= null;\r\n    OracleCallableStatement cstmt = null;\r\n            \r\n    try {\r\n    \t\t\t\r\n      \tClass.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n       \tcon=DriverManager.getConnection(&quot;jdbc:oracle:thin:@test.com:1521:TESTAD&quot;,\r\n                        &quot;user&quot;,&quot;password&quot;);\r\n    \r\n        cstmt = (OracleCallableStatement)con.prepareCall (\r\n                    &quot;begin PKG_SP_EMPLOYEE.MAIN (?,?); end;&quot;); \r\n    \t\t\t\r\n        String[] values = { &quot;1&quot;, &quot;John Doe&quot;, &quot;HR&quot; };\r\n    \t\t\t\r\n        cstmt.setPlsqlIndexTable (1, values, values.length, values.length, OracleTypes.VARCHAR, 3);\r\n    \t\t\t\r\n    \tcstmt.registerOutParameter(2, java.sql.Types.VARCHAR); \r\n    \t\t\t\r\n    \tcstmt.execute ();\r\n    \r\n    //...\r\n\r\n--------------------------------------------------------\r\nJava Exception\r\n--------------------------------------------------------\r\n\r\n    java.sql.SQLException: ORA-06550: line 1, column 7:\r\n    PLS-00306: wrong number or types of arguments in call to &#39;MAIN&#39;\r\n    ORA-06550: line 1, column 43:\r\n    **PLS-00418: array bind type must match PL/SQL table row type**\r\n    ORA-06550: line 1, column 7:\r\n    PL/SQL: Statement ignored\r\n\r\n\r\nAfter reviewing the [Oracle documentation here](https://docs.oracle.com/database/121/JJDBC/oraint.htm#JJDBC28180) I see that Oracle JDBC drivers support PL/SQL Associative Arrays of VARCHAR and NUMBER types. Does this mean it won&#39;t support associate arrays of complex types as shown in my code?\r\n\r\n","title":"How do I call a PL/SQL procedure with associative arrays?","body":"<p>I am calling a PL/SQL procedure with an associative array as per the <a href=\"https://docs.oracle.com/database/121/JJDBC/oraint.htm#JJDBC28180\" rel=\"nofollow noreferrer\">documentation here</a>. </p>\n\n<p>However I am getting an exception <code>array bind type must match PL/SQL table row type</code> though I believe that is what I am passing.</p>\n\n<p>Specifically, I have a table, PL/SQL package and JDBC code as follows:</p>\n\n<hr>\n\n<h2>Table EMPLOYEE</h2>\n\n<pre><code>CREATE TABLE EMPLOYEE \n(   \n\"EMPLOYEE_NUMBER\" VARCHAR2(20 BYTE), \n\"EMPLOYEE_NAME\" VARCHAR2(80 BYTE), \n\"EMPLOYEE_DEPT\" VARCHAR2(40 BYTE)\n);\n</code></pre>\n\n<hr>\n\n<h2>Package PKG_SP_EMPLOYEE</h2>\n\n<pre><code>create or replace PACKAGE PKG_SP_EMPLOYEE\nAS\nTYPE tbl_employees_in\nIS\nTABLE OF EMPLOYEE%ROWTYPE INDEX BY PLS_INTEGER;\n\nPROCEDURE main(\n    p_employee IN PKG_SP_EMPLOYEE.tbl_employees_in,\n    x_status OUT VARCHAR \n);\nEND PKG_SP_EMPLOYEE;\n</code></pre>\n\n<hr>\n\n<h2>Package Body PKG_SP_EMPLOYEE</h2>\n\n<pre><code>create or replace PACKAGE BODY PKG_SP_EMPLOYEE\nAS\n\nPROCEDURE main(\n    p_employee IN PKG_SP_EMPLOYEE.tbl_employees_in,\n    x_status OUT VARCHAR\n    )\nIS\nBEGIN \nFOR i in 1..p_employee.count\n\n    loop\n    INSERT INTO \"EMPLOYEE\"\n           (\n           EMPLOYEE_NUMBER, \n           EMPLOYEE_NAME, \n           EMPLOYEE_DEPT\n           )\n    VALUES (\n           p_employee(i).EMPLOYEE_NUMBER,\n           p_employee(i).EMPLOYEE_NAME,\n           p_employee(i).EMPLOYEE_DEPT\n           );\n\n    end loop;\n\n    dbms_output.put_line('Success');\n    x_status  := 'Success';\n\nEXCEPTION\n    WHEN OTHERS THEN\n        dbms_output.put_line('Failure');\n        x_status  := 'Failure';           \n\nEND main;\nEND PKG_SP_EMPLOYEE;\n</code></pre>\n\n<hr>\n\n<h2>JDBC Code</h2>\n\n<pre><code>Connection con= null;\nOracleCallableStatement cstmt = null;\n\ntry {\n\n    Class.forName(\"oracle.jdbc.driver.OracleDriver\");\n    con=DriverManager.getConnection(\"jdbc:oracle:thin:@test.com:1521:TESTAD\",\n                    \"user\",\"password\");\n\n    cstmt = (OracleCallableStatement)con.prepareCall (\n                \"begin PKG_SP_EMPLOYEE.MAIN (?,?); end;\"); \n\n    String[] values = { \"1\", \"John Doe\", \"HR\" };\n\n    cstmt.setPlsqlIndexTable (1, values, values.length, values.length, OracleTypes.VARCHAR, 3);\n\n    cstmt.registerOutParameter(2, java.sql.Types.VARCHAR); \n\n    cstmt.execute ();\n\n//...\n</code></pre>\n\n<hr>\n\n<h2>Java Exception</h2>\n\n<pre><code>java.sql.SQLException: ORA-06550: line 1, column 7:\nPLS-00306: wrong number or types of arguments in call to 'MAIN'\nORA-06550: line 1, column 43:\n**PLS-00418: array bind type must match PL/SQL table row type**\nORA-06550: line 1, column 7:\nPL/SQL: Statement ignored\n</code></pre>\n\n<p>After reviewing the <a href=\"https://docs.oracle.com/database/121/JJDBC/oraint.htm#JJDBC28180\" rel=\"nofollow noreferrer\">Oracle documentation here</a> I see that Oracle JDBC drivers support PL/SQL Associative Arrays of VARCHAR and NUMBER types. Does this mean it won't support associate arrays of complex types as shown in my code?</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1514878944,"post_id":48056863,"comment_id":83086691,"body_markdown":"Do you have a good reason to need this? If so, what is it?","body":"Do you have a good reason to need this? If so, what is it?"},{"owner":{"account_id":10998031,"reputation":23,"user_id":8079474,"display_name":"Yue S"},"score":0,"creation_date":1514880155,"post_id":48056863,"comment_id":83087129,"body_markdown":"Simply I don&#39;t want the classes to be read in any way when they are distributed and deployed to our client&#39;s server. I&#39;ve already had a tool to encrypt the classes and decrypt them when loaded in jvm. I want them not be dumped.","body":"Simply I don&#39;t want the classes to be read in any way when they are distributed and deployed to our client&#39;s server. I&#39;ve already had a tool to encrypt the classes and decrypt them when loaded in jvm. I want them not be dumped."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1514881882,"post_id":48056863,"comment_id":83087703,"body_markdown":"That&#39;s just not possible to do reliably. Tell your clients that you&#39;ll sue them if they dump the classes, that&#39;s a lot more effective and a lot cheaper.","body":"That&#39;s just not possible to do reliably. Tell your clients that you&#39;ll sue them if they dump the classes, that&#39;s a lot more effective and a lot cheaper."},{"owner":{"account_id":10998031,"reputation":23,"user_id":8079474,"display_name":"Yue S"},"score":0,"creation_date":1514883963,"post_id":48056863,"comment_id":83088459,"body_markdown":"Thanks, will do it","body":"Thanks, will do it"}],"answers":[{"comments":[{"owner":{"account_id":10998031,"reputation":23,"user_id":8079474,"display_name":"Yue S"},"score":0,"creation_date":1514954753,"post_id":48066590,"comment_id":83116177,"body_markdown":"thanks for your clear answer, I explained to the client and it&#39;s beyond our scope and we simply give it up......","body":"thanks for your clear answer, I explained to the client and it&#39;s beyond our scope and we simply give it up......"},{"owner":{"account_id":3526238,"reputation":906,"user_id":2947239,"accept_rate":25,"display_name":"Sisyphus"},"score":0,"creation_date":1563543596,"post_id":48066590,"comment_id":100746157,"body_markdown":"you can disable `ptrace` on linux","body":"you can disable <code>ptrace</code> on linux"}],"tags":[],"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1514920694,"creation_date":1514920694,"answer_id":48066590,"question_id":48056863,"body_markdown":"In general, this is not possible.\r\n\r\nServiceability Agent (sa-jdi) does not require cooperation from the target process. It just stops target JVM using [ptrace](http://man7.org/linux/man-pages/man2/ptrace.2.html) syscall, and reads the memory of the process without JVM even knowing about that.\r\n\r\nHowever, you can make debugging harder by overwriting the variables used by Serviceability Agent. Particularly, if you reset `gHotSpotVMStructs` global variable, SA will not be able to reconstruct internal VM structures, so that tools based on SA will stop working.\r\n\r\nIn order to do this, compile the following `novmstructs.c` program:\r\n\r\n    extern void *gHotSpotVMStructs;\r\n\r\n    int Agent_OnLoad(void *vm, char *options, void *reserved) {\r\n        gHotSpotVMStructs = 0;\r\n        return 0;\r\n    }\r\n\r\nHow to compile:\r\n\r\n    gcc -fPIC -nostdlib -shared -olibnostructs.so -O2 nostructs.c\r\n\r\nThen run your Java application with the produced library attached as the agent:\r\n\r\n    java -agentpath:/path/to/libnostructs.so ...\r\n\r\nThe next time someone tries to invoke ClassDump or other SA-based utility, the exception will occur:\r\n\r\n    Attaching to process ID 574, please wait...\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at sun.tools.jstack.JStack.runJStackTool(JStack.java:140)\r\n            at sun.tools.jstack.JStack.main(JStack.java:106)\r\n    Caused by: java.lang.RuntimeException: gHotSpotVMStructs was not initialized properly in the remote process; can not continue\r\n            at sun.jvm.hotspot.HotSpotTypeDataBase.readVMStructs(HotSpotTypeDataBase.java:418)\r\n            at sun.jvm.hotspot.HotSpotTypeDataBase.&lt;init&gt;(HotSpotTypeDataBase.java:91)\r\n            at sun.jvm.hotspot.HotSpotAgent.setupVM(HotSpotAgent.java:395)\r\n            at sun.jvm.hotspot.HotSpotAgent.go(HotSpotAgent.java:305)\r\n            at sun.jvm.hotspot.HotSpotAgent.attach(HotSpotAgent.java:140)\r\n            at sun.jvm.hotspot.tools.Tool.start(Tool.java:185)\r\n            at sun.jvm.hotspot.tools.Tool.execute(Tool.java:118)\r\n            at sun.jvm.hotspot.tools.JStack.main(JStack.java:92)\r\n            ... 6 more\r\n","title":"Disable ClassDump to a running JVM process by using sa-jli","body":"<p>In general, this is not possible.</p>\n\n<p>Serviceability Agent (sa-jdi) does not require cooperation from the target process. It just stops target JVM using <a href=\"http://man7.org/linux/man-pages/man2/ptrace.2.html\" rel=\"noreferrer\">ptrace</a> syscall, and reads the memory of the process without JVM even knowing about that.</p>\n\n<p>However, you can make debugging harder by overwriting the variables used by Serviceability Agent. Particularly, if you reset <code>gHotSpotVMStructs</code> global variable, SA will not be able to reconstruct internal VM structures, so that tools based on SA will stop working.</p>\n\n<p>In order to do this, compile the following <code>novmstructs.c</code> program:</p>\n\n<pre><code>extern void *gHotSpotVMStructs;\n\nint Agent_OnLoad(void *vm, char *options, void *reserved) {\n    gHotSpotVMStructs = 0;\n    return 0;\n}\n</code></pre>\n\n<p>How to compile:</p>\n\n<pre><code>gcc -fPIC -nostdlib -shared -olibnostructs.so -O2 nostructs.c\n</code></pre>\n\n<p>Then run your Java application with the produced library attached as the agent:</p>\n\n<pre><code>java -agentpath:/path/to/libnostructs.so ...\n</code></pre>\n\n<p>The next time someone tries to invoke ClassDump or other SA-based utility, the exception will occur:</p>\n\n<pre><code>Attaching to process ID 574, please wait...\nException in thread \"main\" java.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at sun.tools.jstack.JStack.runJStackTool(JStack.java:140)\n        at sun.tools.jstack.JStack.main(JStack.java:106)\nCaused by: java.lang.RuntimeException: gHotSpotVMStructs was not initialized properly in the remote process; can not continue\n        at sun.jvm.hotspot.HotSpotTypeDataBase.readVMStructs(HotSpotTypeDataBase.java:418)\n        at sun.jvm.hotspot.HotSpotTypeDataBase.&lt;init&gt;(HotSpotTypeDataBase.java:91)\n        at sun.jvm.hotspot.HotSpotAgent.setupVM(HotSpotAgent.java:395)\n        at sun.jvm.hotspot.HotSpotAgent.go(HotSpotAgent.java:305)\n        at sun.jvm.hotspot.HotSpotAgent.attach(HotSpotAgent.java:140)\n        at sun.jvm.hotspot.tools.Tool.start(Tool.java:185)\n        at sun.jvm.hotspot.tools.Tool.execute(Tool.java:118)\n        at sun.jvm.hotspot.tools.JStack.main(JStack.java:92)\n        ... 6 more\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28546152,"reputation":79,"user_id":21851535,"display_name":"uglibubla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684161518,"creation_date":1684161518,"answer_id":76255184,"question_id":48056863,"body_markdown":"Old question but here we go\r\n\r\n```java\r\nField jvmField = ManagementFactory.getRuntimeMXBean().getClass().getDeclaredField(&quot;jvm&quot;);\r\njvmField.setAccessible(true);\r\nVMManagement jvmInstance = (VMManagement) jvmField.get(ManagementFactory.getRuntimeMXBean());\r\nList&lt;String&gt; jvmArguments = jvmInstance.getVmArguments();\r\n```\r\n`jvmArguments` will have all the the arguments the jvm was started with, you can check these before loading in the actual classes and if there is a flag used you don&#39;t want abort loading.\r\n\r\nBut keep in mind that this is just one of the many ways classes can be dumped from a jvm, you can attach an agent, hook ClassLoader#defineClass and many other things as long as you are in the jvm there is no way to be 100% &quot;dump proof&quot;.","title":"Disable ClassDump to a running JVM process by using sa-jli","body":"<p>Old question but here we go</p>\n<pre class=\"lang-java prettyprint-override\"><code>Field jvmField = ManagementFactory.getRuntimeMXBean().getClass().getDeclaredField(&quot;jvm&quot;);\njvmField.setAccessible(true);\nVMManagement jvmInstance = (VMManagement) jvmField.get(ManagementFactory.getRuntimeMXBean());\nList&lt;String&gt; jvmArguments = jvmInstance.getVmArguments();\n</code></pre>\n<p><code>jvmArguments</code> will have all the the arguments the jvm was started with, you can check these before loading in the actual classes and if there is a flag used you don't want abort loading.</p>\n<p>But keep in mind that this is just one of the many ways classes can be dumped from a jvm, you can attach an agent, hook ClassLoader#defineClass and many other things as long as you are in the jvm there is no way to be 100% &quot;dump proof&quot;.</p>\n"}],"owner":{"account_id":10998031,"reputation":23,"user_id":8079474,"display_name":"Yue S"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":856,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48066590,"answer_count":2,"score":2,"last_activity_date":1684161518,"creation_date":1514876717,"question_id":48056863,"body_markdown":"I&#39;m trying to protect my classes in a running JVM by setting -XX:+DisableAttachMechanism. \r\n\r\nHowever, I found that the process prevents tools like jconsole to attach, but still I can use following command the dump all the loaded classes in that JVM:\r\n\r\n    java -Dsun.jvm.hotspot.tools.jcore.PackageNameFilter.pkgList=com.xxxx -classpath &quot;.:./bin:$JAVA_HOME/lib/sa-jdi.jar&quot; sun.jvm.hotspot.tools.jcore.ClassDump 1234\r\n\r\nIs there any way to stop this behavior by setting some options in the running JVM? Or anything to work around?\r\n\r\nThanks.","title":"Disable ClassDump to a running JVM process by using sa-jli","body":"<p>I'm trying to protect my classes in a running JVM by setting -XX:+DisableAttachMechanism. </p>\n\n<p>However, I found that the process prevents tools like jconsole to attach, but still I can use following command the dump all the loaded classes in that JVM:</p>\n\n<pre><code>java -Dsun.jvm.hotspot.tools.jcore.PackageNameFilter.pkgList=com.xxxx -classpath \".:./bin:$JAVA_HOME/lib/sa-jdi.jar\" sun.jvm.hotspot.tools.jcore.ClassDump 1234\n</code></pre>\n\n<p>Is there any way to stop this behavior by setting some options in the running JVM? Or anything to work around?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","string","unit-testing","testing","bytearrayinputstream"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":2,"creation_date":1683920094,"post_id":76239380,"comment_id":134445984,"body_markdown":"try do design your system for testability: Don&#39;t instanciate a new `Scanner` everywhere you need it, but pass it into your functions as parameter. So for the tests you can either use a mocked scanner or prepare a Scanner with an `InputStream` that represents your test input. But you will have either to reset that InputStream or create a new one per test.","body":"try do design your system for testability: Don&#39;t instanciate a new <code>Scanner</code> everywhere you need it, but pass it into your functions as parameter. So for the tests you can either use a mocked scanner or prepare a Scanner with an <code>InputStream</code> that represents your test input. But you will have either to reset that InputStream or create a new one per test."},{"owner":{"account_id":16391519,"reputation":332,"user_id":11840155,"display_name":"Aoof"},"score":0,"creation_date":1683921427,"post_id":76239380,"comment_id":134446200,"body_markdown":"cyberbrain I tried to pass it through and was faced with the same issue but let me try it out again and see if it worked then update the thread appropriately.","body":"cyberbrain I tried to pass it through and was faced with the same issue but let me try it out again and see if it worked then update the thread appropriately."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683922807,"post_id":76239380,"comment_id":134446462,"body_markdown":"What thread do you mean?","body":"What thread do you mean?"}],"answers":[{"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1684060880,"post_id":76240640,"comment_id":134458699,"body_markdown":"is this your solution, or how you tried to solve the problem? If it&#39;s your trial to solve the problem, please [edit](https://stackoverflow.com/posts/76239380/edit) your question instead of adding an answer that isn&#39;t one. If it solved your problem, please accept your own answer (and as a bonus add some words to it that make that clear ;-)","body":"is this your solution, or how you tried to solve the problem? If it&#39;s your trial to solve the problem, please <a href=\"https://stackoverflow.com/posts/76239380/edit\">edit</a> your question instead of adding an answer that isn&#39;t one. If it solved your problem, please accept your own answer (and as a bonus add some words to it that make that clear ;-)"},{"owner":{"account_id":16391519,"reputation":332,"user_id":11840155,"display_name":"Aoof"},"score":0,"creation_date":1684161233,"post_id":76240640,"comment_id":134472492,"body_markdown":"it was the solution but I needed 2 days to accept the answer. I don’t believe I can word it better than you did but I’ll add more to it.","body":"it was the solution but I needed 2 days to accept the answer. I don’t believe I can word it better than you did but I’ll add more to it."}],"tags":[],"owner":{"account_id":16391519,"reputation":332,"user_id":11840155,"display_name":"Aoof"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684161387,"creation_date":1683939064,"answer_id":76240640,"question_id":76239380,"body_markdown":"&gt; try do design your system for testability: Don&#39;t instanciate a new `Scanner` everywhere you need it, but pass it into your functions as parameter. So for the tests you can either use a mocked scanner or prepare a Scanner with an InputStream that represents your test input. But you will have either to reset that InputStream or create a new one per test. – \r\ncyberbrain\r\n\r\nThis is based on cyberbrain’s suggestion, passing the scanner as a parameter to every function that may require a scanner was the solution, now it is optimized for testability and we can use string input unit tests without any issues\r\n\r\n```java\r\nimport java.io.ByteArrayInputStream;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String data = &quot;1\\nThis is the first input\\nThis is the second input&quot;;\r\n\r\n        ByteArrayInputStream is = new ByteArrayInputStream(data.getBytes());\r\n        System.setIn(is);\r\n        \r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(scanner.nextLine());\r\n\r\n        func(scanner);\r\n\r\n        scanner.close();\r\n    }\r\n\r\n    private static void func(Scanner scanner) {\r\n        System.out.println(&quot;First input: &quot; + scanner.nextLine());\r\n        System.out.println(&quot;Second input: &quot; + scanner.nextLine());\r\n    }\r\n}\r\n```","title":"How to take predefined user input for unit tests in Java?","body":"<blockquote>\n<p>try do design your system for testability: Don't instanciate a new <code>Scanner</code> everywhere you need it, but pass it into your functions as parameter. So for the tests you can either use a mocked scanner or prepare a Scanner with an InputStream that represents your test input. But you will have either to reset that InputStream or create a new one per test. –\ncyberbrain</p>\n</blockquote>\n<p>This is based on cyberbrain’s suggestion, passing the scanner as a parameter to every function that may require a scanner was the solution, now it is optimized for testability and we can use string input unit tests without any issues</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.ByteArrayInputStream;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        String data = &quot;1\\nThis is the first input\\nThis is the second input&quot;;\n\n        ByteArrayInputStream is = new ByteArrayInputStream(data.getBytes());\n        System.setIn(is);\n        \n        Scanner scanner = new Scanner(System.in);\n        System.out.println(scanner.nextLine());\n\n        func(scanner);\n\n        scanner.close();\n    }\n\n    private static void func(Scanner scanner) {\n        System.out.println(&quot;First input: &quot; + scanner.nextLine());\n        System.out.println(&quot;Second input: &quot; + scanner.nextLine());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16391519,"reputation":332,"user_id":11840155,"display_name":"Aoof"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76240640,"answer_count":1,"score":0,"last_activity_date":1684161387,"creation_date":1683919616,"question_id":76239380,"body_markdown":"I am trying to use the same input from the unit test throughout the entire program, but the program has different scanner instances across its functions and classes and the input stream withdrawn from the string only works at the very first scanner but not the rest.\r\n\r\n```java\r\nimport java.io.ByteArrayInputStream;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String data = &quot;1\\nThis is the first input\\nThis is the second input&quot;;\r\n\r\n        ByteArrayInputStream is = new ByteArrayInputStream(data.getBytes());\r\n        System.setIn(is);\r\n        \r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(scanner.nextLine());\r\n        scanner.close();\r\n\r\n        func();\r\n    }\r\n\r\n    private static void func() {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;First input: &quot; + scanner.nextLine());\r\n        System.out.println(&quot;Second input: &quot; + scanner.nextLine());\r\n\r\n        scanner.close();\r\n    }\r\n}\r\n```\r\n\r\nThis is a representation of the issue I am facing, my real version has more complex foundation, but the end result is the same.\r\n\r\n```\r\n1\r\nException in thread &quot;main&quot; java.util.NoSuchElementException: No line found\r\n        at java.base/java.util.Scanner.nextLine(Scanner.java:1651)\r\n        at Main.func(Main.java:21)\r\n        at Main.main(Main.java:15)\r\n```","title":"How to take predefined user input for unit tests in Java?","body":"<p>I am trying to use the same input from the unit test throughout the entire program, but the program has different scanner instances across its functions and classes and the input stream withdrawn from the string only works at the very first scanner but not the rest.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.ByteArrayInputStream;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        String data = &quot;1\\nThis is the first input\\nThis is the second input&quot;;\n\n        ByteArrayInputStream is = new ByteArrayInputStream(data.getBytes());\n        System.setIn(is);\n        \n        Scanner scanner = new Scanner(System.in);\n        System.out.println(scanner.nextLine());\n        scanner.close();\n\n        func();\n    }\n\n    private static void func() {\n        Scanner scanner = new Scanner(System.in);\n\n        System.out.println(&quot;First input: &quot; + scanner.nextLine());\n        System.out.println(&quot;Second input: &quot; + scanner.nextLine());\n\n        scanner.close();\n    }\n}\n</code></pre>\n<p>This is a representation of the issue I am facing, my real version has more complex foundation, but the end result is the same.</p>\n<pre><code>1\nException in thread &quot;main&quot; java.util.NoSuchElementException: No line found\n        at java.base/java.util.Scanner.nextLine(Scanner.java:1651)\n        at Main.func(Main.java:21)\n        at Main.main(Main.java:15)\n</code></pre>\n"},{"tags":["java","soap","wsdl","maven-jaxb2-plugin"],"comments":[{"owner":{"account_id":6179310,"reputation":2644,"user_id":4815321,"display_name":"mr mcwolf"},"score":0,"creation_date":1683266052,"post_id":76178871,"comment_id":134343257,"body_markdown":"To see what the serialization problem is you should also give the code of `com.example.camel.client.stub.Generic`","body":"To see what the serialization problem is you should also give the code of <code>com.example.camel.client.stub.Generic</code>"},{"owner":{"account_id":2246079,"reputation":7967,"user_id":1979380,"accept_rate":89,"display_name":"jarvo69"},"score":0,"creation_date":1683346346,"post_id":76178871,"comment_id":134356695,"body_markdown":"added it. THat is basically generated automatically from plugin defined in pom file.","body":"added it. THat is basically generated automatically from plugin defined in pom file."}],"owner":{"account_id":2246079,"reputation":7967,"user_id":1979380,"accept_rate":89,"display_name":"jarvo69"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":612,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684161235,"creation_date":1683261307,"question_id":76178871,"body_markdown":"\r\n**NOT A DUPLICATE BECAUSE** I have tried many solutions from the stackoverflow like adding the `@XmlRootElement(name=&quot;Generic&quot;)` \r\nAnd also tried wrapping the request and response objects in `javax.xml.bind.JAXBElement` but nothing has worked for me so far. The marshalling/unmarshalling keeps failing and its been 2 days since am debugging and struggling with this issue.\r\n\r\nThe wsdl file is large so just posting here the important stuff from WSDL file.\r\n\r\nsoap.wsdl\r\n\r\n    &lt;types&gt;\r\n            &lt;xs:schema xmlns:tns=&quot;http://www.oracle.com/UCM&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; elementFormDefault=&quot;qualified&quot; targetNamespace=&quot;http://www.oracle.com/UCM&quot; version=&quot;1.0&quot;&gt;\r\n                &lt;xs:element name=&quot;Field&quot;&gt;\r\n                    &lt;xs:complexType&gt;\r\n                        &lt;xs:simpleContent&gt;\r\n                            &lt;xs:extension base=&quot;xs:string&quot;&gt;\r\n                                &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:anySimpleType&quot;/&gt;\r\n                            &lt;/xs:extension&gt;\r\n                        &lt;/xs:simpleContent&gt;\r\n                    &lt;/xs:complexType&gt;\r\n                &lt;/xs:element&gt;\r\n                &lt;xs:element name=&quot;GenericRequest&quot; type=&quot;tns:Generic&quot;/&gt;\r\n                &lt;xs:element name=&quot;GenericResponse&quot; type=&quot;tns:Generic&quot;/&gt;\r\n                &lt;xs:complexType name=&quot;Generic&quot;&gt;\r\n                    &lt;xs:sequence&gt;\r\n                        &lt;xs:element name=&quot;Service&quot; type=&quot;tns:Service&quot;/&gt;\r\n                    &lt;/xs:sequence&gt;\r\n                    &lt;xs:attribute name=&quot;webKey&quot; type=&quot;xs:anySimpleType&quot;/&gt;\r\n                &lt;/xs:complexType&gt;\r\n                &lt;xs:complexType name=&quot;Service&quot;&gt;\r\n                    &lt;xs:sequence&gt;\r\n                        &lt;xs:element minOccurs=&quot;0&quot; name=&quot;User&quot; type=&quot;tns:Container&quot;/&gt;\r\n                        &lt;xs:element minOccurs=&quot;0&quot; name=&quot;Document&quot;&gt;\r\n                            &lt;xs:complexType&gt;\r\n                                &lt;xs:complexContent&gt;\r\n                                    &lt;xs:extension base=&quot;tns:Container&quot;&gt;\r\n                                        &lt;xs:sequence&gt;\r\n                                            &lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;File&quot; type=&quot;tns:File&quot;/&gt;\r\n                                        &lt;/xs:sequence&gt;\r\n                                        &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;skip&quot;/&gt;\r\n                                    &lt;/xs:extension&gt;\r\n                                &lt;/xs:complexContent&gt;\r\n                            &lt;/xs:complexType&gt;\r\n                        &lt;/xs:element&gt;\r\n                    &lt;/xs:sequence&gt;\r\n                    &lt;xs:attribute name=&quot;IdcService&quot; type=&quot;xs:anySimpleType&quot;/&gt;\r\n                &lt;/xs:complexType&gt;\r\n                &lt;xs:complexType name=&quot;Container&quot;&gt;\r\n                    &lt;xs:sequence&gt;\r\n                        &lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; ref=&quot;tns:Field&quot;/&gt;\r\n                        &lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;ResultSet&quot; type=&quot;tns:ResultSet&quot;/&gt;\r\n                        &lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;OptionList&quot; type=&quot;tns:OptionList&quot;/&gt;\r\n                    &lt;/xs:sequence&gt;\r\n                    &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;skip&quot;/&gt;\r\n                &lt;/xs:complexType&gt;\r\n                &lt;xs:complexType name=&quot;ResultSet&quot;&gt;\r\n                    &lt;xs:sequence&gt;\r\n                        &lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;Row&quot; type=&quot;tns:Row&quot;/&gt;\r\n                    &lt;/xs:sequence&gt;\r\n                    &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:anySimpleType&quot;/&gt;\r\n                &lt;/xs:complexType&gt;\r\n                &lt;xs:complexType name=&quot;Row&quot;&gt;\r\n                    &lt;xs:sequence&gt;\r\n                        &lt;xs:element maxOccurs=&quot;unbounded&quot; ref=&quot;tns:Field&quot;/&gt;\r\n                    &lt;/xs:sequence&gt;\r\n                    &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;skip&quot;/&gt;\r\n                &lt;/xs:complexType&gt;\r\n                &lt;xs:complexType name=&quot;OptionList&quot;&gt;\r\n                    &lt;xs:sequence&gt;\r\n                        &lt;xs:element maxOccurs=&quot;unbounded&quot; name=&quot;Option&quot; type=&quot;xs:string&quot;/&gt;\r\n                    &lt;/xs:sequence&gt;\r\n                    &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:anySimpleType&quot;/&gt;\r\n                &lt;/xs:complexType&gt;\r\n                &lt;xs:complexType name=&quot;File&quot;&gt;\r\n                    &lt;xs:sequence&gt;\r\n                        &lt;xs:element xmlns:ns1=&quot;http://www.w3.org/2005/05/xmlmime&quot; name=&quot;Contents&quot; ns1:expectedContentTypes=&quot;application/octet-stream&quot; type=&quot;xs:base64Binary&quot;/&gt;\r\n                    &lt;/xs:sequence&gt;\r\n                    &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:anySimpleType&quot;/&gt;\r\n                    &lt;xs:attribute name=&quot;href&quot; type=&quot;xs:anySimpleType&quot;/&gt;\r\n                &lt;/xs:complexType&gt;\r\n            &lt;/xs:schema&gt;\r\n        &lt;/types&gt;\r\n        &lt;message name=&quot;GenericSoapOperationInput&quot;&gt;\r\n            &lt;part name=&quot;GenericRequest&quot; element=&quot;ns0:GenericRequest&quot;/&gt;\r\n        &lt;/message&gt;\r\n        &lt;message name=&quot;GenericSoapOperationOutput&quot;&gt;\r\n            &lt;part name=&quot;GenericResponse&quot; element=&quot;ns0:GenericResponse&quot;/&gt;\r\n        &lt;/message&gt;\r\n        &lt;portType name=&quot;GenericSoapPortType&quot;&gt;\r\n            &lt;operation name=&quot;GenericSoapOperation&quot;&gt;\r\n                &lt;input xmlns:ns1=&quot;http://www.w3.org/2006/05/addressing/wsdl&quot; message=&quot;tns:GenericSoapOperationInput&quot; ns1:Action=&quot;urn:GenericSoap/GenericSoapOperation&quot;/&gt;\r\n                &lt;output xmlns:ns1=&quot;http://www.w3.org/2006/05/addressing/wsdl&quot; message=&quot;tns:GenericSoapOperationOutput&quot; ns1:Action=&quot;urn:GenericSoap/GenericSoapPortType/GenericSoapOperationResponse&quot;/&gt;\r\n            &lt;/operation&gt;\r\n        &lt;/portType&gt;\r\n        &lt;binding name=&quot;GenericSoapPortTypeSoapHttp&quot; type=&quot;tns:GenericSoapPortType&quot;&gt;\r\n            &lt;soap:binding style=&quot;document&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&gt;\r\n            &lt;wsp:PolicyReference xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot; URI=&quot;#wss11_saml_or_username_token_with_message_protection_service_policy&quot; wsdl:required=&quot;false&quot;/&gt;\r\n            &lt;wsp:PolicyReference xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot; URI=&quot;#wsmtom_policy&quot; wsdl:required=&quot;false&quot;/&gt;\r\n            &lt;operation name=&quot;GenericSoapOperation&quot;&gt;\r\n                &lt;soap:operation soapAction=&quot;urn:GenericSoap/GenericSoapOperation&quot;/&gt;\r\n                &lt;input&gt;\r\n                    &lt;soap:body use=&quot;literal&quot; parts=&quot;GenericRequest&quot;/&gt;\r\n                    &lt;wsp:PolicyReference xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot; URI=&quot;#GenericSoapPort_Input_Policy&quot; wsdl:required=&quot;false&quot;/&gt;\r\n                &lt;/input&gt;\r\n                &lt;output&gt;\r\n                    &lt;soap:body use=&quot;literal&quot; parts=&quot;GenericResponse&quot;/&gt;\r\n                    &lt;wsp:PolicyReference xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot; URI=&quot;#GenericSoapPort_Output_Policy&quot; wsdl:required=&quot;false&quot;/&gt;\r\n                &lt;/output&gt;\r\n            &lt;/operation&gt;\r\n        &lt;/binding&gt;\r\n        &lt;service name=&quot;GenericSoapService&quot;&gt;\r\n            &lt;port name=&quot;GenericSoapPort&quot; binding=&quot;tns:GenericSoapPortTypeSoapHttp&quot;&gt;\r\n                &lt;soap:address location=&quot;https://myenvtest.oraclecloud.com:443/idcws/GenericSoapPort&quot;/&gt;\r\n                &lt;wsa:EndpointReference xmlns:wsa=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;\r\n                    &lt;wsa:Address xmlns:wsa=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;https://myenvtest.oraclecloud.com:443/idcws/GenericSoapPort&lt;/wsa:Address&gt;\r\n                    \r\n                &lt;/wsa:EndpointReference&gt;\r\n            &lt;/port&gt;\r\n        &lt;/service&gt;\r\n\r\n\r\n**Java config class for WSDL:**\r\n\r\n    @EnableWs\r\n    @Configuration\r\n    public class WebServiceConfig extends WsConfigurerAdapter {\r\n    \r\n    \r\n        @Bean\r\n        public Jaxb2Marshaller jaxb2Marshaller() {\r\n            Jaxb2Marshaller jaxb2Marshaller = new Jaxb2Marshaller();\r\n            jaxb2Marshaller.setContextPath(&quot;com.example.camel.client.stub&quot;);\r\n            jaxb2Marshaller.setMarshallerProperties(new HashMap&lt;&gt;() {{\r\n                put(javax.xml.bind.Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n            }});\r\n            return jaxb2Marshaller;\r\n        }\r\n    \r\n    \r\n        @Bean\r\n        public Marshaller marshaller() {\r\n            return jaxb2Marshaller().createMarshaller();\r\n        }\r\n    \r\n        @Bean\r\n        public Unmarshaller unmarshaller() {\r\n           return jaxb2Marshaller().createUnmarshaller();\r\n        }\r\n    \r\n        @Bean\r\n        public SoapClient soapClient(Jaxb2Marshaller marshaller) {\r\n            SoapClient client = new SoapClient();\r\n            client.setDefaultUri(&quot;https://myenvtest.oraclecloud.com:443/idcws/GenericSoapPort&quot;);\r\n            client.setMarshaller(marshaller);\r\n            client.setUnmarshaller(marshaller);\r\n            return client;\r\n        }\r\n\r\nBelow is the **SoapClient** class that will call the SOAP service\r\n\r\n**SoapClient.java**\r\n\r\n    public javax.xml.bind.JAXBElement&lt;Generic&gt; getGenericResponse() throws JAXBException {\r\n            Generic request = new ObjectFactory().createGeneric();\r\n            Service service = new ObjectFactory().createService();\r\n            Service.Document document = new ObjectFactory().createServiceDocument();\r\n            Field field = new ObjectFactory().createField();\r\n            Container container = new ObjectFactory().createContainer();\r\n            container.getField().add(field);\r\n            service.setUser(container);\r\n            field.setName(&quot;dID&quot;);\r\n            field.setValue(&quot;2088250&quot;);\r\n            document.getField().add(field);\r\n            service.setIdcService(&quot;GET_FILE&quot;);\r\n            service.setDocument(document);\r\n            request.setService(service);\r\n            request.setWebKey(&quot;cs&quot;);\r\n    \r\n    \r\n    \r\n           /* jakarta.xml.bind.Marshaller marshaller = jaxb2Marshaller.createMarshaller();\r\n            marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\r\n            marshaller.marshal(new JAXBElement&lt;Generic&gt;(new QName(&quot;http://www.oracle.com/UCM&quot;,&quot;GenericRequest&quot;), Generic.class, request),\r\n                    System.out);\r\n    \r\n            String t = marshallXml(request);*/\r\n    \r\n            javax.xml.bind.JAXBElement&lt;Generic&gt; res = ( javax.xml.bind.JAXBElement&lt;Generic&gt;)\r\n            getWebServiceTemplate().marshalSendAndReceive(&quot;https://myenvtest.oraclecloud.com/idcws/GenericSoapPort&quot;, request, new SoapActionCallback(&quot;https://myenvtest.oraclecloud.com/idcws/Generic&quot;));\r\n            \r\n    return null;\r\n        }\r\n\r\nThe error I keep getting is:\r\n\r\n\r\n    com.sun.istack.SAXException2: unable to marshal type &quot;com.example.camel.client.stub.Generic&quot; as an element because it is missing an @XmlRootElement annotation\r\n\r\n\r\n**Generic.java**\r\n\r\n    //\r\n    // This file was generated by the JavaTM Architecture for XML Binding(JAXB) Reference Implementation, v2.3.0 \r\n    // See &lt;a href=&quot;https://javaee.github.io/jaxb-v2/&quot;&gt;https://javaee.github.io/jaxb-v2/&lt;/a&gt; \r\n    // Any modifications to this file will be lost upon recompilation of the source schema. \r\n    // Generated on: 2023.05.06 at 09:42:41 AM IST \r\n    //\r\n    \r\n    \r\n    package com.example.camel.client.stub;\r\n    \r\n    import javax.xml.bind.annotation.XmlAccessType;\r\n    import javax.xml.bind.annotation.XmlAccessorType;\r\n    import javax.xml.bind.annotation.XmlAttribute;\r\n    import javax.xml.bind.annotation.XmlElement;\r\n    import javax.xml.bind.annotation.XmlSchemaType;\r\n    import javax.xml.bind.annotation.XmlType;\r\n    \r\n    \r\n    /**\r\n     * &lt;p&gt;Java class for Generic complex type.\r\n     * \r\n     * &lt;p&gt;The following schema fragment specifies the expected content contained within this class.\r\n     * \r\n     * &lt;pre&gt;\r\n     * &amp;lt;complexType name=&quot;Generic&quot;&amp;gt;\r\n     *   &amp;lt;complexContent&amp;gt;\r\n     *     &amp;lt;restriction base=&quot;{http://www.w3.org/2001/XMLSchema}anyType&quot;&amp;gt;\r\n     *       &amp;lt;sequence&amp;gt;\r\n     *         &amp;lt;element name=&quot;Service&quot; type=&quot;{http://www.oracle.com/UCM}Service&quot;/&amp;gt;\r\n     *       &amp;lt;/sequence&amp;gt;\r\n     *       &amp;lt;attribute name=&quot;webKey&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}anySimpleType&quot; /&amp;gt;\r\n     *     &amp;lt;/restriction&amp;gt;\r\n     *   &amp;lt;/complexContent&amp;gt;\r\n     * &amp;lt;/complexType&amp;gt;\r\n     * &lt;/pre&gt;\r\n     * \r\n     * \r\n     */\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;Generic&quot;, propOrder = {\r\n        &quot;service&quot;\r\n    })\r\n    public class Generic {\r\n    \r\n        @XmlElement(name = &quot;Service&quot;, required = true)\r\n        protected Service service;\r\n        @XmlAttribute(name = &quot;webKey&quot;)\r\n        @XmlSchemaType(name = &quot;anySimpleType&quot;)\r\n        protected String webKey;\r\n    \r\n        /**\r\n         * Gets the value of the service property.\r\n         * \r\n         * @return\r\n         *     possible object is\r\n         *     {@link Service }\r\n         *     \r\n         */\r\n        public Service getService() {\r\n            return service;\r\n        }\r\n    \r\n        /**\r\n         * Sets the value of the service property.\r\n         * \r\n         * @param value\r\n         *     allowed object is\r\n         *     {@link Service }\r\n         *     \r\n         */\r\n        public void setService(Service value) {\r\n            this.service = value;\r\n        }\r\n    \r\n        /**\r\n         * Gets the value of the webKey property.\r\n         * \r\n         * @return\r\n         *     possible object is\r\n         *     {@link String }\r\n         *     \r\n         */\r\n        public String getWebKey() {\r\n            return webKey;\r\n        }\r\n    \r\n        /**\r\n         * Sets the value of the webKey property.\r\n         * \r\n         * @param value\r\n         *     allowed object is\r\n         *     {@link String }\r\n         *     \r\n         */\r\n        public void setWebKey(String value) {\r\n            this.webKey = value;\r\n        }\r\n    \r\n    }\r\n\r\nNote: **Using Java 18**\r\n","title":"unable to marshal type &lt;CLASSNAME&gt; as an element because it is missing an @XmlRootElement annotation","body":"<p><strong>NOT A DUPLICATE BECAUSE</strong> I have tried many solutions from the stackoverflow like adding the <code>@XmlRootElement(name=&quot;Generic&quot;)</code>\nAnd also tried wrapping the request and response objects in <code>javax.xml.bind.JAXBElement</code> but nothing has worked for me so far. The marshalling/unmarshalling keeps failing and its been 2 days since am debugging and struggling with this issue.</p>\n<p>The wsdl file is large so just posting here the important stuff from WSDL file.</p>\n<p>soap.wsdl</p>\n<pre><code>&lt;types&gt;\n        &lt;xs:schema xmlns:tns=&quot;http://www.oracle.com/UCM&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; elementFormDefault=&quot;qualified&quot; targetNamespace=&quot;http://www.oracle.com/UCM&quot; version=&quot;1.0&quot;&gt;\n            &lt;xs:element name=&quot;Field&quot;&gt;\n                &lt;xs:complexType&gt;\n                    &lt;xs:simpleContent&gt;\n                        &lt;xs:extension base=&quot;xs:string&quot;&gt;\n                            &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:anySimpleType&quot;/&gt;\n                        &lt;/xs:extension&gt;\n                    &lt;/xs:simpleContent&gt;\n                &lt;/xs:complexType&gt;\n            &lt;/xs:element&gt;\n            &lt;xs:element name=&quot;GenericRequest&quot; type=&quot;tns:Generic&quot;/&gt;\n            &lt;xs:element name=&quot;GenericResponse&quot; type=&quot;tns:Generic&quot;/&gt;\n            &lt;xs:complexType name=&quot;Generic&quot;&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=&quot;Service&quot; type=&quot;tns:Service&quot;/&gt;\n                &lt;/xs:sequence&gt;\n                &lt;xs:attribute name=&quot;webKey&quot; type=&quot;xs:anySimpleType&quot;/&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=&quot;Service&quot;&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element minOccurs=&quot;0&quot; name=&quot;User&quot; type=&quot;tns:Container&quot;/&gt;\n                    &lt;xs:element minOccurs=&quot;0&quot; name=&quot;Document&quot;&gt;\n                        &lt;xs:complexType&gt;\n                            &lt;xs:complexContent&gt;\n                                &lt;xs:extension base=&quot;tns:Container&quot;&gt;\n                                    &lt;xs:sequence&gt;\n                                        &lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;File&quot; type=&quot;tns:File&quot;/&gt;\n                                    &lt;/xs:sequence&gt;\n                                    &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;skip&quot;/&gt;\n                                &lt;/xs:extension&gt;\n                            &lt;/xs:complexContent&gt;\n                        &lt;/xs:complexType&gt;\n                    &lt;/xs:element&gt;\n                &lt;/xs:sequence&gt;\n                &lt;xs:attribute name=&quot;IdcService&quot; type=&quot;xs:anySimpleType&quot;/&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=&quot;Container&quot;&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; ref=&quot;tns:Field&quot;/&gt;\n                    &lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;ResultSet&quot; type=&quot;tns:ResultSet&quot;/&gt;\n                    &lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;OptionList&quot; type=&quot;tns:OptionList&quot;/&gt;\n                &lt;/xs:sequence&gt;\n                &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;skip&quot;/&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=&quot;ResultSet&quot;&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;Row&quot; type=&quot;tns:Row&quot;/&gt;\n                &lt;/xs:sequence&gt;\n                &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:anySimpleType&quot;/&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=&quot;Row&quot;&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element maxOccurs=&quot;unbounded&quot; ref=&quot;tns:Field&quot;/&gt;\n                &lt;/xs:sequence&gt;\n                &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;skip&quot;/&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=&quot;OptionList&quot;&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element maxOccurs=&quot;unbounded&quot; name=&quot;Option&quot; type=&quot;xs:string&quot;/&gt;\n                &lt;/xs:sequence&gt;\n                &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:anySimpleType&quot;/&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=&quot;File&quot;&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element xmlns:ns1=&quot;http://www.w3.org/2005/05/xmlmime&quot; name=&quot;Contents&quot; ns1:expectedContentTypes=&quot;application/octet-stream&quot; type=&quot;xs:base64Binary&quot;/&gt;\n                &lt;/xs:sequence&gt;\n                &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:anySimpleType&quot;/&gt;\n                &lt;xs:attribute name=&quot;href&quot; type=&quot;xs:anySimpleType&quot;/&gt;\n            &lt;/xs:complexType&gt;\n        &lt;/xs:schema&gt;\n    &lt;/types&gt;\n    &lt;message name=&quot;GenericSoapOperationInput&quot;&gt;\n        &lt;part name=&quot;GenericRequest&quot; element=&quot;ns0:GenericRequest&quot;/&gt;\n    &lt;/message&gt;\n    &lt;message name=&quot;GenericSoapOperationOutput&quot;&gt;\n        &lt;part name=&quot;GenericResponse&quot; element=&quot;ns0:GenericResponse&quot;/&gt;\n    &lt;/message&gt;\n    &lt;portType name=&quot;GenericSoapPortType&quot;&gt;\n        &lt;operation name=&quot;GenericSoapOperation&quot;&gt;\n            &lt;input xmlns:ns1=&quot;http://www.w3.org/2006/05/addressing/wsdl&quot; message=&quot;tns:GenericSoapOperationInput&quot; ns1:Action=&quot;urn:GenericSoap/GenericSoapOperation&quot;/&gt;\n            &lt;output xmlns:ns1=&quot;http://www.w3.org/2006/05/addressing/wsdl&quot; message=&quot;tns:GenericSoapOperationOutput&quot; ns1:Action=&quot;urn:GenericSoap/GenericSoapPortType/GenericSoapOperationResponse&quot;/&gt;\n        &lt;/operation&gt;\n    &lt;/portType&gt;\n    &lt;binding name=&quot;GenericSoapPortTypeSoapHttp&quot; type=&quot;tns:GenericSoapPortType&quot;&gt;\n        &lt;soap:binding style=&quot;document&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&gt;\n        &lt;wsp:PolicyReference xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot; URI=&quot;#wss11_saml_or_username_token_with_message_protection_service_policy&quot; wsdl:required=&quot;false&quot;/&gt;\n        &lt;wsp:PolicyReference xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot; URI=&quot;#wsmtom_policy&quot; wsdl:required=&quot;false&quot;/&gt;\n        &lt;operation name=&quot;GenericSoapOperation&quot;&gt;\n            &lt;soap:operation soapAction=&quot;urn:GenericSoap/GenericSoapOperation&quot;/&gt;\n            &lt;input&gt;\n                &lt;soap:body use=&quot;literal&quot; parts=&quot;GenericRequest&quot;/&gt;\n                &lt;wsp:PolicyReference xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot; URI=&quot;#GenericSoapPort_Input_Policy&quot; wsdl:required=&quot;false&quot;/&gt;\n            &lt;/input&gt;\n            &lt;output&gt;\n                &lt;soap:body use=&quot;literal&quot; parts=&quot;GenericResponse&quot;/&gt;\n                &lt;wsp:PolicyReference xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot; URI=&quot;#GenericSoapPort_Output_Policy&quot; wsdl:required=&quot;false&quot;/&gt;\n            &lt;/output&gt;\n        &lt;/operation&gt;\n    &lt;/binding&gt;\n    &lt;service name=&quot;GenericSoapService&quot;&gt;\n        &lt;port name=&quot;GenericSoapPort&quot; binding=&quot;tns:GenericSoapPortTypeSoapHttp&quot;&gt;\n            &lt;soap:address location=&quot;https://myenvtest.oraclecloud.com:443/idcws/GenericSoapPort&quot;/&gt;\n            &lt;wsa:EndpointReference xmlns:wsa=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;\n                &lt;wsa:Address xmlns:wsa=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;https://myenvtest.oraclecloud.com:443/idcws/GenericSoapPort&lt;/wsa:Address&gt;\n                \n            &lt;/wsa:EndpointReference&gt;\n        &lt;/port&gt;\n    &lt;/service&gt;\n</code></pre>\n<p><strong>Java config class for WSDL:</strong></p>\n<pre><code>@EnableWs\n@Configuration\npublic class WebServiceConfig extends WsConfigurerAdapter {\n\n\n    @Bean\n    public Jaxb2Marshaller jaxb2Marshaller() {\n        Jaxb2Marshaller jaxb2Marshaller = new Jaxb2Marshaller();\n        jaxb2Marshaller.setContextPath(&quot;com.example.camel.client.stub&quot;);\n        jaxb2Marshaller.setMarshallerProperties(new HashMap&lt;&gt;() {{\n            put(javax.xml.bind.Marshaller.JAXB_FORMATTED_OUTPUT, true);\n        }});\n        return jaxb2Marshaller;\n    }\n\n\n    @Bean\n    public Marshaller marshaller() {\n        return jaxb2Marshaller().createMarshaller();\n    }\n\n    @Bean\n    public Unmarshaller unmarshaller() {\n       return jaxb2Marshaller().createUnmarshaller();\n    }\n\n    @Bean\n    public SoapClient soapClient(Jaxb2Marshaller marshaller) {\n        SoapClient client = new SoapClient();\n        client.setDefaultUri(&quot;https://myenvtest.oraclecloud.com:443/idcws/GenericSoapPort&quot;);\n        client.setMarshaller(marshaller);\n        client.setUnmarshaller(marshaller);\n        return client;\n    }\n</code></pre>\n<p>Below is the <strong>SoapClient</strong> class that will call the SOAP service</p>\n<p><strong>SoapClient.java</strong></p>\n<pre><code>public javax.xml.bind.JAXBElement&lt;Generic&gt; getGenericResponse() throws JAXBException {\n        Generic request = new ObjectFactory().createGeneric();\n        Service service = new ObjectFactory().createService();\n        Service.Document document = new ObjectFactory().createServiceDocument();\n        Field field = new ObjectFactory().createField();\n        Container container = new ObjectFactory().createContainer();\n        container.getField().add(field);\n        service.setUser(container);\n        field.setName(&quot;dID&quot;);\n        field.setValue(&quot;2088250&quot;);\n        document.getField().add(field);\n        service.setIdcService(&quot;GET_FILE&quot;);\n        service.setDocument(document);\n        request.setService(service);\n        request.setWebKey(&quot;cs&quot;);\n\n\n\n       /* jakarta.xml.bind.Marshaller marshaller = jaxb2Marshaller.createMarshaller();\n        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\n        marshaller.marshal(new JAXBElement&lt;Generic&gt;(new QName(&quot;http://www.oracle.com/UCM&quot;,&quot;GenericRequest&quot;), Generic.class, request),\n                System.out);\n\n        String t = marshallXml(request);*/\n\n        javax.xml.bind.JAXBElement&lt;Generic&gt; res = ( javax.xml.bind.JAXBElement&lt;Generic&gt;)\n        getWebServiceTemplate().marshalSendAndReceive(&quot;https://myenvtest.oraclecloud.com/idcws/GenericSoapPort&quot;, request, new SoapActionCallback(&quot;https://myenvtest.oraclecloud.com/idcws/Generic&quot;));\n        \nreturn null;\n    }\n</code></pre>\n<p>The error I keep getting is:</p>\n<pre><code>com.sun.istack.SAXException2: unable to marshal type &quot;com.example.camel.client.stub.Generic&quot; as an element because it is missing an @XmlRootElement annotation\n</code></pre>\n<p><strong>Generic.java</strong></p>\n<pre><code>//\n// This file was generated by the JavaTM Architecture for XML Binding(JAXB) Reference Implementation, v2.3.0 \n// See &lt;a href=&quot;https://javaee.github.io/jaxb-v2/&quot;&gt;https://javaee.github.io/jaxb-v2/&lt;/a&gt; \n// Any modifications to this file will be lost upon recompilation of the source schema. \n// Generated on: 2023.05.06 at 09:42:41 AM IST \n//\n\n\npackage com.example.camel.client.stub;\n\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlAttribute;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlSchemaType;\nimport javax.xml.bind.annotation.XmlType;\n\n\n/**\n * &lt;p&gt;Java class for Generic complex type.\n * \n * &lt;p&gt;The following schema fragment specifies the expected content contained within this class.\n * \n * &lt;pre&gt;\n * &amp;lt;complexType name=&quot;Generic&quot;&amp;gt;\n *   &amp;lt;complexContent&amp;gt;\n *     &amp;lt;restriction base=&quot;{http://www.w3.org/2001/XMLSchema}anyType&quot;&amp;gt;\n *       &amp;lt;sequence&amp;gt;\n *         &amp;lt;element name=&quot;Service&quot; type=&quot;{http://www.oracle.com/UCM}Service&quot;/&amp;gt;\n *       &amp;lt;/sequence&amp;gt;\n *       &amp;lt;attribute name=&quot;webKey&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}anySimpleType&quot; /&amp;gt;\n *     &amp;lt;/restriction&amp;gt;\n *   &amp;lt;/complexContent&amp;gt;\n * &amp;lt;/complexType&amp;gt;\n * &lt;/pre&gt;\n * \n * \n */\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;Generic&quot;, propOrder = {\n    &quot;service&quot;\n})\npublic class Generic {\n\n    @XmlElement(name = &quot;Service&quot;, required = true)\n    protected Service service;\n    @XmlAttribute(name = &quot;webKey&quot;)\n    @XmlSchemaType(name = &quot;anySimpleType&quot;)\n    protected String webKey;\n\n    /**\n     * Gets the value of the service property.\n     * \n     * @return\n     *     possible object is\n     *     {@link Service }\n     *     \n     */\n    public Service getService() {\n        return service;\n    }\n\n    /**\n     * Sets the value of the service property.\n     * \n     * @param value\n     *     allowed object is\n     *     {@link Service }\n     *     \n     */\n    public void setService(Service value) {\n        this.service = value;\n    }\n\n    /**\n     * Gets the value of the webKey property.\n     * \n     * @return\n     *     possible object is\n     *     {@link String }\n     *     \n     */\n    public String getWebKey() {\n        return webKey;\n    }\n\n    /**\n     * Sets the value of the webKey property.\n     * \n     * @param value\n     *     allowed object is\n     *     {@link String }\n     *     \n     */\n    public void setWebKey(String value) {\n        this.webKey = value;\n    }\n\n}\n</code></pre>\n<p>Note: <strong>Using Java 18</strong></p>\n"},{"tags":["javascript","java","reactjs","spring-boot","webpack"],"answers":[{"comments":[{"owner":{"account_id":10170052,"reputation":45263,"user_id":7510657,"accept_rate":56,"display_name":"Ashh"},"score":0,"creation_date":1683905344,"post_id":76234010,"comment_id":134443068,"body_markdown":"Thanks but I have tried such things nothing worked","body":"Thanks but I have tried such things nothing worked"}],"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683876171,"creation_date":1683876171,"answer_id":76234010,"question_id":76197718,"body_markdown":"Your router is configured to handle all URLs and return an HTML page:\r\n\r\n```java\r\nreturn RouterFunctions.route(\r\n\tGET(&quot;/*&quot;),\r\n\trequest -&gt; ServerResponse.ok().contentType(MediaType.TEXT_HTML).bodyValue(html)\r\n);\r\n```\r\n\r\nIf your page contains a `&lt;script src=&quot;...&quot;&gt;` tag, the browser will fetch the URL to get the script.\r\nThe server will return an HTML page with the `text/html` content-type, which triggers the error message\r\nbecause the browser expects `text/javascript` instead.\r\n","title":"Issue with SSR with React and Spring boot java","body":"<p>Your router is configured to handle all URLs and return an HTML page:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return RouterFunctions.route(\n    GET(&quot;/*&quot;),\n    request -&gt; ServerResponse.ok().contentType(MediaType.TEXT_HTML).bodyValue(html)\n);\n</code></pre>\n<p>If your page contains a <code>&lt;script src=&quot;...&quot;&gt;</code> tag, the browser will fetch the URL to get the script.\nThe server will return an HTML page with the <code>text/html</code> content-type, which triggers the error message\nbecause the browser expects <code>text/javascript</code> instead.</p>\n"},{"comments":[{"owner":{"account_id":352393,"reputation":7153,"user_id":6404321,"display_name":"walen"},"score":1,"creation_date":1684139625,"post_id":76240110,"comment_id":134467541,"body_markdown":"Nashorn was deprecated in Java 11 (2018) and ultimately removed in Java 15 (2020).","body":"Nashorn was deprecated in Java 11 (2018) and ultimately removed in Java 15 (2020)."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1684160313,"post_id":76240110,"comment_id":134472278,"body_markdown":"Thank you very much for the feedback @walen, I appreciate it. Yes, I was aware of that, but the OP doesn&#39;t mention the JDK version that he is using and, as you can read in the answer, the current documentation of Spring nowadays still mentions it as the appropriate Javascript engine for this purpose: I think GraalVM is not suitable, at least in this context.","body":"Thank you very much for the feedback @walen, I appreciate it. Yes, I was aware of that, but the OP doesn&#39;t mention the JDK version that he is using and, as you can read in the answer, the current documentation of Spring nowadays still mentions it as the appropriate Javascript engine for this purpose: I think GraalVM is not suitable, at least in this context."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1684164488,"post_id":76240110,"comment_id":134473389,"body_markdown":"@walen It turns out that in fact GraalVM seems that can be used for this purpose as well, it is true than in a [different context of React](https://tangent-jotey.medium.com/svelte-ssr-but-its-java-spring-boot-6536d5226dea), and in a bit more elaborated way [1](https://github.com/tncrazvan/svelte-3-jssr-starter/tree/master) [2](https://github.com/tncrazvan/java-springboot-svelte3-ssr-template/issues/5#issuecomment-903292777).","body":"@walen It turns out that in fact GraalVM seems that can be used for this purpose as well, it is true than in a <a href=\"https://tangent-jotey.medium.com/svelte-ssr-but-its-java-spring-boot-6536d5226dea\" rel=\"nofollow noreferrer\">different context of React</a>, and in a bit more elaborated way <a href=\"https://github.com/tncrazvan/svelte-3-jssr-starter/tree/master\" rel=\"nofollow noreferrer\">1</a> <a href=\"https://github.com/tncrazvan/java-springboot-svelte3-ssr-template/issues/5#issuecomment-903292777\" rel=\"nofollow noreferrer\">2</a>."}],"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684161173,"creation_date":1683927957,"answer_id":76240110,"question_id":76197718,"body_markdown":"You may try using Spring&#39;s [script views](https://docs.spring.io/spring-framework/reference/web/webmvc-view/mvc-script.html) for this purpose: if you think about that, in the end you need some type of engine for dealing with SSR. For React, the documentation suggest the use of Nashorn.\r\n\r\nThe documentation suggest a possible [configuration](https://docs.spring.io/spring-framework/reference/web/webmvc-view/mvc-script.html#mvc-view-script-integrate) for different scripting libraries:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebMvc\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n\t@Override\r\n\tpublic void configureViewResolvers(ViewResolverRegistry registry) {\r\n\t\tregistry.scriptTemplate();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ScriptTemplateConfigurer configurer() {\r\n\t\tScriptTemplateConfigurer configurer = new ScriptTemplateConfigurer();\r\n\t\tconfigurer.setEngineName(&quot;nashorn&quot;);\r\n\t\tconfigurer.setScripts(&quot;mustache.js&quot;);\r\n\t\tconfigurer.setRenderObject(&quot;Mustache&quot;);\r\n\t\tconfigurer.setRenderFunction(&quot;render&quot;);\r\n\t\treturn configurer;\r\n\t}\r\n}\r\n```\r\n\r\nIn the specific use case of React we can find different, more complete examples, for instance in [this Github repository](https://github.com/onready/spring-react-ssr/blob/master/src/main/java/com/onready/springreactssr/config/WebConfig.java):\r\n\r\n```java\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.ViewResolverRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\nimport org.springframework.web.servlet.view.script.ScriptTemplateConfigurer;\r\n\r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n  @Override\r\n  public void configureViewResolvers(ViewResolverRegistry viewResolverRegistry) {\r\n    viewResolverRegistry.scriptTemplate().prefix(&quot;/templates/&quot;).suffix(&quot;.html&quot;);\r\n  }\r\n\r\n  @Bean\r\n  public ScriptTemplateConfigurer scriptTemplateConfigurer() {\r\n    ScriptTemplateConfigurer scriptTemplateConfigurer = new ScriptTemplateConfigurer(&quot;nashorn&quot;);\r\n    scriptTemplateConfigurer.setScripts(&quot;/js/polyfill.js&quot;, &quot;/js/built/bundle-server.js&quot;);\r\n    scriptTemplateConfigurer.setRenderFunction(&quot;render&quot;);\r\n    scriptTemplateConfigurer.setSharedEngine(false);\r\n    return scriptTemplateConfigurer;\r\n  }\r\n\r\n}\r\n```\r\n\r\nOr [this other one](https://github.com/davehancock/react-ssr-sample-java-nashorn/blob/master/src/main/java/com/djh/SSRConfiguration.java), dated, but I think still useful as well:\r\n\r\n```java\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.ViewResolver;\r\nimport org.springframework.web.servlet.view.script.ScriptTemplateConfigurer;\r\nimport org.springframework.web.servlet.view.script.ScriptTemplateViewResolver;\r\n\r\n/**\r\n * @author David Hancock\r\n */\r\n@Configuration\r\npublic class SSRConfiguration {\r\n\r\n    @Bean\r\n    public ViewResolver reactViewResolver() {\r\n        return new ScriptTemplateViewResolver(&quot;/public/&quot;, &quot;.html&quot;);\r\n    }\r\n\r\n    @Bean\r\n    public ScriptTemplateConfigurer reactConfigurer() {\r\n        ScriptTemplateConfigurer configurer = new ScriptTemplateConfigurer();\r\n        configurer.setEngineName(&quot;nashorn&quot;);\r\n        configurer.setScripts(\r\n                &quot;public/nashorn-polyfill.js&quot;,\r\n                &quot;public/server.js&quot;\r\n        );\r\n        configurer.setRenderFunction(&quot;render&quot;);\r\n        configurer.setSharedEngine(false);\r\n        return configurer;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAs you can see they look quite similar in the implementation: basically, you need to indicate the scripts that should be loaded by the script engine, one of course the `bundle` generated by `webpack`, and at least one more (see [this](https://github.com/onready/spring-react-ssr/blob/master/src/main/resources/js/polyfill.js) or [this other example](https://github.com/davehancock/react-ssr-sample-java-nashorn/blob/master/public/nashorn-polyfill.js)), a polyfill for supporting `window`, etc.\r\n\r\nI came across [another good example](https://github.com/terwer/spring-vue-ssr/blob/master/src/main/java/com/terwergreen/vue/VueRenderer.java): it is for Vue, not for React, but even in that case it provides a good example of using the Nashorn engine for SSR.\r\n\r\nAs a follow-up of the comment provided by @walen, probably a much better solution than using Spring Boot and some type of script engine implemented in Java - nowadays deprecated - for serving the React content, is architecting your application in a different way, deploying independently your backend and your frontend. Then, use `NodeJS` actually run your React application, and optionally nginx, Apache, or other type of reverse proxy to serve everything, it is the normal way to proceed. You can use Docker (Kubernetes, etc) or some type of equivalent container infrastructure to deploy the solution as a whole. From a microservices point of view this different architecture is preferable.","title":"Issue with SSR with React and Spring boot java","body":"<p>You may try using Spring's <a href=\"https://docs.spring.io/spring-framework/reference/web/webmvc-view/mvc-script.html\" rel=\"nofollow noreferrer\">script views</a> for this purpose: if you think about that, in the end you need some type of engine for dealing with SSR. For React, the documentation suggest the use of Nashorn.</p>\n<p>The documentation suggest a possible <a href=\"https://docs.spring.io/spring-framework/reference/web/webmvc-view/mvc-script.html#mvc-view-script-integrate\" rel=\"nofollow noreferrer\">configuration</a> for different scripting libraries:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebMvc\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Override\n    public void configureViewResolvers(ViewResolverRegistry registry) {\n        registry.scriptTemplate();\n    }\n\n    @Bean\n    public ScriptTemplateConfigurer configurer() {\n        ScriptTemplateConfigurer configurer = new ScriptTemplateConfigurer();\n        configurer.setEngineName(&quot;nashorn&quot;);\n        configurer.setScripts(&quot;mustache.js&quot;);\n        configurer.setRenderObject(&quot;Mustache&quot;);\n        configurer.setRenderFunction(&quot;render&quot;);\n        return configurer;\n    }\n}\n</code></pre>\n<p>In the specific use case of React we can find different, more complete examples, for instance in <a href=\"https://github.com/onready/spring-react-ssr/blob/master/src/main/java/com/onready/springreactssr/config/WebConfig.java\" rel=\"nofollow noreferrer\">this Github repository</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.ViewResolverRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\nimport org.springframework.web.servlet.view.script.ScriptTemplateConfigurer;\n\n@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n\n  @Override\n  public void configureViewResolvers(ViewResolverRegistry viewResolverRegistry) {\n    viewResolverRegistry.scriptTemplate().prefix(&quot;/templates/&quot;).suffix(&quot;.html&quot;);\n  }\n\n  @Bean\n  public ScriptTemplateConfigurer scriptTemplateConfigurer() {\n    ScriptTemplateConfigurer scriptTemplateConfigurer = new ScriptTemplateConfigurer(&quot;nashorn&quot;);\n    scriptTemplateConfigurer.setScripts(&quot;/js/polyfill.js&quot;, &quot;/js/built/bundle-server.js&quot;);\n    scriptTemplateConfigurer.setRenderFunction(&quot;render&quot;);\n    scriptTemplateConfigurer.setSharedEngine(false);\n    return scriptTemplateConfigurer;\n  }\n\n}\n</code></pre>\n<p>Or <a href=\"https://github.com/davehancock/react-ssr-sample-java-nashorn/blob/master/src/main/java/com/djh/SSRConfiguration.java\" rel=\"nofollow noreferrer\">this other one</a>, dated, but I think still useful as well:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.ViewResolver;\nimport org.springframework.web.servlet.view.script.ScriptTemplateConfigurer;\nimport org.springframework.web.servlet.view.script.ScriptTemplateViewResolver;\n\n/**\n * @author David Hancock\n */\n@Configuration\npublic class SSRConfiguration {\n\n    @Bean\n    public ViewResolver reactViewResolver() {\n        return new ScriptTemplateViewResolver(&quot;/public/&quot;, &quot;.html&quot;);\n    }\n\n    @Bean\n    public ScriptTemplateConfigurer reactConfigurer() {\n        ScriptTemplateConfigurer configurer = new ScriptTemplateConfigurer();\n        configurer.setEngineName(&quot;nashorn&quot;);\n        configurer.setScripts(\n                &quot;public/nashorn-polyfill.js&quot;,\n                &quot;public/server.js&quot;\n        );\n        configurer.setRenderFunction(&quot;render&quot;);\n        configurer.setSharedEngine(false);\n        return configurer;\n    }\n\n}\n</code></pre>\n<p>As you can see they look quite similar in the implementation: basically, you need to indicate the scripts that should be loaded by the script engine, one of course the <code>bundle</code> generated by <code>webpack</code>, and at least one more (see <a href=\"https://github.com/onready/spring-react-ssr/blob/master/src/main/resources/js/polyfill.js\" rel=\"nofollow noreferrer\">this</a> or <a href=\"https://github.com/davehancock/react-ssr-sample-java-nashorn/blob/master/public/nashorn-polyfill.js\" rel=\"nofollow noreferrer\">this other example</a>), a polyfill for supporting <code>window</code>, etc.</p>\n<p>I came across <a href=\"https://github.com/terwer/spring-vue-ssr/blob/master/src/main/java/com/terwergreen/vue/VueRenderer.java\" rel=\"nofollow noreferrer\">another good example</a>: it is for Vue, not for React, but even in that case it provides a good example of using the Nashorn engine for SSR.</p>\n<p>As a follow-up of the comment provided by @walen, probably a much better solution than using Spring Boot and some type of script engine implemented in Java - nowadays deprecated - for serving the React content, is architecting your application in a different way, deploying independently your backend and your frontend. Then, use <code>NodeJS</code> actually run your React application, and optionally nginx, Apache, or other type of reverse proxy to serve everything, it is the normal way to proceed. You can use Docker (Kubernetes, etc) or some type of equivalent container infrastructure to deploy the solution as a whole. From a microservices point of view this different architecture is preferable.</p>\n"}],"owner":{"account_id":10170052,"reputation":45263,"user_id":7510657,"accept_rate":56,"display_name":"Ashh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":450,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76240110,"answer_count":2,"score":1,"last_activity_date":1684161173,"creation_date":1683523482,"question_id":76197718,"body_markdown":"We have a web application in which the backend is spring boot and front end is react. We are trying to integrate these applications in such a way that we can make use of spring boot jar file to run them both on the same port.\r\n\r\nFollowing piece of java code is being used for integration.\r\n    \r\n```\r\n@Bean\r\n    public RouterFunction&lt;ServerResponse&gt; htmlRouter(@Value(&quot;classpath:/static/index.html&quot;) Resource html) {\r\n        return RouterFunctions.route(\r\n                GET(&quot;/*&quot;),\r\n                request -&gt; ServerResponse.ok().contentType(MediaType.TEXT_HTML).bodyValue(html)\r\n        );\r\n    }\r\n```\r\n\r\nThis is working fine when we create frontend build using react-scripts build. We want to make use of webpack build as there will be multiple such applications and they will be integrated using micro front-end which will work only when webpack is in place.\r\nWhen trying do so the jar file is getting built. When we run this jar file and hit the url we get following error- \r\n\r\n    refused to execute script from &#39;http://localhost:8765/abc/xyz&#39; because its MIME type (&#39;text/html&#39;) is not executable, and strict MIME type checking is enabled.\r\n\r\nPart of webpack config\r\n```\r\noutput: {\r\n        path: path.join(__dirname, &#39;build&#39;),\r\n        publicPath: &#39;/&#39;,\r\n        filename: &#39;bundle.js&#39;,\r\n    }\r\n```\r\n\r\nFollowing is the folder structure of the project\r\n\r\n[![enter image description here](https://i.stack.imgur.com/eMfip.png)](https://i.stack.imgur.com/eMfip.png)\r\n","title":"Issue with SSR with React and Spring boot java","body":"<p>We have a web application in which the backend is spring boot and front end is react. We are trying to integrate these applications in such a way that we can make use of spring boot jar file to run them both on the same port.</p>\n<p>Following piece of java code is being used for integration.</p>\n<pre><code>@Bean\n    public RouterFunction&lt;ServerResponse&gt; htmlRouter(@Value(&quot;classpath:/static/index.html&quot;) Resource html) {\n        return RouterFunctions.route(\n                GET(&quot;/*&quot;),\n                request -&gt; ServerResponse.ok().contentType(MediaType.TEXT_HTML).bodyValue(html)\n        );\n    }\n</code></pre>\n<p>This is working fine when we create frontend build using react-scripts build. We want to make use of webpack build as there will be multiple such applications and they will be integrated using micro front-end which will work only when webpack is in place.\nWhen trying do so the jar file is getting built. When we run this jar file and hit the url we get following error-</p>\n<pre><code>refused to execute script from 'http://localhost:8765/abc/xyz' because its MIME type ('text/html') is not executable, and strict MIME type checking is enabled.\n</code></pre>\n<p>Part of webpack config</p>\n<pre><code>output: {\n        path: path.join(__dirname, 'build'),\n        publicPath: '/',\n        filename: 'bundle.js',\n    }\n</code></pre>\n<p>Following is the folder structure of the project</p>\n<p><a href=\"https://i.stack.imgur.com/eMfip.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eMfip.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","authentication","callback","background-process"],"answers":[{"comments":[{"owner":{"account_id":22465491,"reputation":39,"user_id":21788758,"display_name":"kumarvhat"},"score":0,"creation_date":1684076026,"post_id":76244805,"comment_id":134460516,"body_markdown":"Hi vinay6kr, thank you for this, I think I follow it.  I&#39;ve updated my code and am receiving an error of such: error, method does not override or implement a method from supertype when referring to &quot;@override&quot; and that super.onNewIntent cannot find symbol.  I&#39;ve tried to search the documentation at: https://developer.android.com/reference/android/content/Context#startActivity(android.content.Intent) with no luck as well.  Could I be missing an import or could this have been replaced by another method recently?  -- thank you again","body":"Hi vinay6kr, thank you for this, I think I follow it.  I&#39;ve updated my code and am receiving an error of such: error, method does not override or implement a method from supertype when referring to &quot;@override&quot; and that super.onNewIntent cannot find symbol.  I&#39;ve tried to search the documentation at: <a href=\"https://developer.android.com/reference/android/content/Context#startActivity(android.content.Intent)\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/content/&hellip;</a> with no luck as well.  Could I be missing an import or could this have been replaced by another method recently?  -- thank you again"},{"owner":{"account_id":22465491,"reputation":39,"user_id":21788758,"display_name":"kumarvhat"},"score":0,"creation_date":1684112427,"post_id":76244805,"comment_id":134464391,"body_markdown":"extends Activity .. i just needed to add this to my class definition and your code seems to work.  I&#39;ll be back if I need any more clarification.  Thank you","body":"extends Activity .. i just needed to add this to my class definition and your code seems to work.  I&#39;ll be back if I need any more clarification.  Thank you"}],"tags":[],"owner":{"account_id":5771601,"reputation":742,"user_id":4554899,"display_name":"Vinay"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684010762,"creation_date":1684010762,"answer_id":76244805,"question_id":76243893,"body_markdown":"define your custom schema on intent filter \r\n\r\n        &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n        &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n        &lt;data android:scheme=&quot;your_custom_scheme&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n\r\ndefine a callback url \r\n\r\n    String callbackUrl = &quot;your_custom_scheme://callback&quot;;\r\n\r\npass this to your intent as below\r\n\r\n    intent.putExtra(&quot;android.intent.extra.REFERRER&quot;, Uri.parse(callbackUrl));\r\n\r\nWhen the user performs the desired action in the external browser and triggers the callback, the browser should attempt to open the callback URL. This should bring your app back to the foreground.\r\nIn your activity, override the onNewIntent method to handle the callback when your app is already running\r\n\r\n        @Override\r\n    protected void onNewIntent(Intent intent) {\r\n        super.onNewIntent(intent);\r\n        Uri data = intent.getData();\r\n        if (data != null &amp;&amp; data.getScheme().equals(&quot;your_custom_scheme&quot;)) {\r\n            // Handle the callback here\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to receive callback with app in background","body":"<p>define your custom schema on intent filter</p>\n<pre><code>    &lt;intent-filter&gt;\n    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\n    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n    &lt;data android:scheme=&quot;your_custom_scheme&quot; /&gt;\n&lt;/intent-filter&gt;\n</code></pre>\n<p>define a callback url</p>\n<pre><code>String callbackUrl = &quot;your_custom_scheme://callback&quot;;\n</code></pre>\n<p>pass this to your intent as below</p>\n<pre><code>intent.putExtra(&quot;android.intent.extra.REFERRER&quot;, Uri.parse(callbackUrl));\n</code></pre>\n<p>When the user performs the desired action in the external browser and triggers the callback, the browser should attempt to open the callback URL. This should bring your app back to the foreground.\nIn your activity, override the onNewIntent method to handle the callback when your app is already running</p>\n<pre><code>    @Override\nprotected void onNewIntent(Intent intent) {\n    super.onNewIntent(intent);\n    Uri data = intent.getData();\n    if (data != null &amp;&amp; data.getScheme().equals(&quot;your_custom_scheme&quot;)) {\n        // Handle the callback here\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22465491,"reputation":39,"user_id":21788758,"display_name":"kumarvhat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76244805,"answer_count":1,"score":0,"last_activity_date":1684161166,"creation_date":1683996455,"question_id":76243893,"body_markdown":"I would like to be able to receive a callback when my app is in the background and then switch back to the application without any manual steps from the user when the callback is received. An activity opens an external browser for the user to perform some action. Then the phone should receive a callback; which it does, but not until the user manually switches back to the application from the webview (an undesired step). Until then, the page seems to get hung up. My questions are...\r\n\r\n1) Do I need to create a websocket? or Notification Handler?\r\n2) If so, how would I go about that for this case?\r\n3) Do I need to switch this to an activityforResult and when the result (any result) happens to then switch back to the application?\r\n4) if so, how would I do that?\r\n\r\n\r\nHere is what I have in terms of code:\r\nOpen the web page where &#39;exe&#39; is the webpage as a string\r\n\r\n```\r\nLog.i(&quot;inititating commands for&quot;, exe);\r\n                Intent i = new Intent(Intent.ACTION_VIEW, Uri.parse(exe));\r\n                i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                i.setPackage(&quot;com.android.chrome&quot;);\r\n                try {\r\n                    context.startActivity(i);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n```\r\n\r\nmainfest.xml intent filters (i&#39;m not certain this is neccessary, nor am I sure it changed anything for me)\r\n\r\n```\r\n&lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n                           &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n                           &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n                           &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n                           &lt;data android:host=&quot;127.0.0.1:54321/&quot; android:scheme=&quot;http&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI&#39;m experiencing quasi-success.  The flow completes, but with extra steps from the user.  I would like to remove those manual steps, and make the flow seamless from the user&#39;s perspective.\r\n\r\n","title":"How to receive callback with app in background","body":"<p>I would like to be able to receive a callback when my app is in the background and then switch back to the application without any manual steps from the user when the callback is received. An activity opens an external browser for the user to perform some action. Then the phone should receive a callback; which it does, but not until the user manually switches back to the application from the webview (an undesired step). Until then, the page seems to get hung up. My questions are...</p>\n<ol>\n<li>Do I need to create a websocket? or Notification Handler?</li>\n<li>If so, how would I go about that for this case?</li>\n<li>Do I need to switch this to an activityforResult and when the result (any result) happens to then switch back to the application?</li>\n<li>if so, how would I do that?</li>\n</ol>\n<p>Here is what I have in terms of code:\nOpen the web page where 'exe' is the webpage as a string</p>\n<pre><code>Log.i(&quot;inititating commands for&quot;, exe);\n                Intent i = new Intent(Intent.ACTION_VIEW, Uri.parse(exe));\n                i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                i.setPackage(&quot;com.android.chrome&quot;);\n                try {\n                    context.startActivity(i);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n\n</code></pre>\n<p>mainfest.xml intent filters (i'm not certain this is neccessary, nor am I sure it changed anything for me)</p>\n<pre><code>&lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n                           &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n                           &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\n                           &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n                           &lt;data android:host=&quot;127.0.0.1:54321/&quot; android:scheme=&quot;http&quot;/&gt;\n            &lt;/intent-filter&gt;\n</code></pre>\n<p>I'm experiencing quasi-success.  The flow completes, but with extra steps from the user.  I would like to remove those manual steps, and make the flow seamless from the user's perspective.</p>\n"},{"tags":["java","android","exoplayer","exoplayer2.x"],"answers":[{"comments":[{"owner":{"account_id":3001073,"reputation":328,"user_id":2546579,"display_name":"hannunehg"},"score":0,"creation_date":1684157500,"post_id":67387978,"comment_id":134471559,"body_markdown":"Youtube stopped supporting the sdk and recommend using an Iframe inside a webview even for Android, which is quite complex tbh","body":"Youtube stopped supporting the sdk and recommend using an Iframe inside a webview even for Android, which is quite complex tbh"},{"owner":{"account_id":133209,"reputation":24579,"user_id":334402,"accept_rate":50,"display_name":"Mick"},"score":0,"creation_date":1684160557,"post_id":67387978,"comment_id":134472340,"body_markdown":"Thanks, @hannunehg for flagging this.","body":"Thanks, @hannunehg for flagging this."}],"tags":[],"owner":{"account_id":133209,"reputation":24579,"user_id":334402,"accept_rate":50,"display_name":"Mick"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684160534,"creation_date":1620143127,"answer_id":67387978,"question_id":67358205,"body_markdown":"**Update 2023**\r\n\r\nThe YouTube player SDK has been deprecated as pointed out by  \r\nhannunehg in the comments. The new advice is to use their iFrame player and the documentation is here: https://developers.google.com/youtube/iframe_api_reference\r\n\r\n**Original answer**\r\n\r\nYouTube prefer you to use their own player and provide an SDK and API for this:\r\n\r\n - https://developers.google.com/youtube/android/player\r\n\r\nIf you do build a solution which will extract the streams and play them in your custom player, and there are plenty of examples on SO for this, you will be at the mercy of something changing that may break you implementation without warning - look at the comments histories in some of the examples.\r\n\r\nYou also run the risk of the Android App review algorithms having a check for this and your app suddenly not complying with the the guidelines and being rejected - being accepted in the past is not really a guarantee that it will be again in the future.\r\n\r\nThe ExoPlayer track selector expects that your source manifest will have multiple tracks and its job is then to choose between them. In your case you don&#39;t have this so would either need to build some sort of proxy to create a new manifest combining the individual URL&#39;s you get by querying each resolution as you show above, or modify the player to request a completely new manifest with the single resolution you want.","title":"ExoPlayer multiple DASH URLs of different resolutions as tracks","body":"<p><strong>Update 2023</strong></p>\n<p>The YouTube player SDK has been deprecated as pointed out by<br />\nhannunehg in the comments. The new advice is to use their iFrame player and the documentation is here: <a href=\"https://developers.google.com/youtube/iframe_api_reference\" rel=\"nofollow noreferrer\">https://developers.google.com/youtube/iframe_api_reference</a></p>\n<p><strong>Original answer</strong></p>\n<p>YouTube prefer you to use their own player and provide an SDK and API for this:</p>\n<ul>\n<li><a href=\"https://developers.google.com/youtube/android/player\" rel=\"nofollow noreferrer\">https://developers.google.com/youtube/android/player</a></li>\n</ul>\n<p>If you do build a solution which will extract the streams and play them in your custom player, and there are plenty of examples on SO for this, you will be at the mercy of something changing that may break you implementation without warning - look at the comments histories in some of the examples.</p>\n<p>You also run the risk of the Android App review algorithms having a check for this and your app suddenly not complying with the the guidelines and being rejected - being accepted in the past is not really a guarantee that it will be again in the future.</p>\n<p>The ExoPlayer track selector expects that your source manifest will have multiple tracks and its job is then to choose between them. In your case you don't have this so would either need to build some sort of proxy to create a new manifest combining the individual URL's you get by querying each resolution as you show above, or modify the player to request a completely new manifest with the single resolution you want.</p>\n"}],"owner":{"account_id":5254759,"reputation":111,"user_id":11084616,"display_name":"Mihir Kandoi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684160534,"creation_date":1619969967,"question_id":67358205,"body_markdown":"I am working with an app that is supposed to play YouTube videos using ExoPlayer2. To fetch the DASH URL of the video I am using [this][1] library. The problem with this approach is that the library returns different URLs based on what resolution (itag) you want. For example, if you want the 720p variant of a video you will do something like:\r\n\r\n```\r\nString youtubeLink = &quot;http://youtube.com/watch?v=xxxx&quot;;\r\n\r\nnew YouTubeExtractor(this) {\r\n    @Override\r\n    public void onExtractionComplete(SparseArray&lt;YtFile&gt; ytFiles, VideoMeta vMeta) {\r\n        if (ytFiles != null) {\r\n            int itag = 22;    //22 == 720p\r\n\t    String downloadUrl = ytFiles.get(itag).getUrl();\r\n        }\r\n    }\r\n}.extract(youtubeLink, true, true);\r\n```\r\n\r\nI can make this URL as a MediaSource and set it using `setMediaSource` and it works but with only a single resolution (720p in this case). I want to do something like the photo attached to the answer to [this][2] question. \r\n\r\nI tried reading the docs, I tried Google-Fu but all went in vain. Any ideas on how can I create different tracks with different resolutions for the same video? I tried putting `MediaItem`s and setting them to the player but it instead creates a playlist rather than tracks. Any help?\r\n\r\nSorry for the lack of code, the previous developer has made a complete mess in organizing the code and I do not know what is where. If I can just get a rough code that would be insanely helpful.\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://github.com/HaarigerHarald/android-youtubeExtractor\r\n  [2]: https://stackoverflow.com/questions/44061924/is-it-possible-to-change-resolution-of-exoplayer-manually/44068596#44068596","title":"ExoPlayer multiple DASH URLs of different resolutions as tracks","body":"<p>I am working with an app that is supposed to play YouTube videos using ExoPlayer2. To fetch the DASH URL of the video I am using <a href=\"https://github.com/HaarigerHarald/android-youtubeExtractor\" rel=\"nofollow noreferrer\">this</a> library. The problem with this approach is that the library returns different URLs based on what resolution (itag) you want. For example, if you want the 720p variant of a video you will do something like:</p>\n<pre><code>String youtubeLink = &quot;http://youtube.com/watch?v=xxxx&quot;;\n\nnew YouTubeExtractor(this) {\n    @Override\n    public void onExtractionComplete(SparseArray&lt;YtFile&gt; ytFiles, VideoMeta vMeta) {\n        if (ytFiles != null) {\n            int itag = 22;    //22 == 720p\n        String downloadUrl = ytFiles.get(itag).getUrl();\n        }\n    }\n}.extract(youtubeLink, true, true);\n</code></pre>\n<p>I can make this URL as a MediaSource and set it using <code>setMediaSource</code> and it works but with only a single resolution (720p in this case). I want to do something like the photo attached to the answer to <a href=\"https://stackoverflow.com/questions/44061924/is-it-possible-to-change-resolution-of-exoplayer-manually/44068596#44068596\">this</a> question.</p>\n<p>I tried reading the docs, I tried Google-Fu but all went in vain. Any ideas on how can I create different tracks with different resolutions for the same video? I tried putting <code>MediaItem</code>s and setting them to the player but it instead creates a playlist rather than tracks. Any help?</p>\n<p>Sorry for the lack of code, the previous developer has made a complete mess in organizing the code and I do not know what is where. If I can just get a rough code that would be insanely helpful.</p>\n<p>Thanks</p>\n"},{"tags":["java","jwt"],"answers":[{"tags":[],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684160453,"creation_date":1429127812,"answer_id":29659690,"question_id":29659536,"body_markdown":"I implemented the code to use &quot;nimbus-jose-jwt&quot; library, please find the code below\r\n\r\n```java\r\nJWTClaimsSet jwtClaims = new JWTClaimsSet();\r\njwtClaims.setIssuer(ISSUER);\r\njwtClaims.setSubject(SUBJECT);\r\n\r\nList&lt;String&gt; aud = new ArrayList&lt;String&gt;();\r\naud.add(&quot;https://app-one.com&quot;);\r\naud.add(&quot;https://app-two.com&quot;);\r\n\r\njwtClaims.setAudience(aud);\r\n// Set expiration in 10 minutes\r\njwtClaims.setExpirationTime(new Date(new Date().getTime() + 1000*60*10));\r\njwtClaims.setNotBeforeTime(new Date());\r\njwtClaims.setIssueTime(new Date());\r\njwtClaims.setJWTID(UUID.randomUUID().toString());\r\n\r\nSystem.out.println(&quot;=========== JWT CLAMINS =============&quot;);\r\nSystem.out.println(jwtClaims.toJSONObject());\r\n\r\n\r\n// Request JWT encrypted with RSA-OAEP and 128-bit AES/GCM\r\nJWEHeader header = new JWEHeader(JWEAlgorithm.RSA_OAEP, EncryptionMethod.A128GCM);\r\n\r\n// Create the encrypted JWT object\r\nEncryptedJWT jwt = new EncryptedJWT(header, jwtClaims);\r\n\r\n\r\n// Create an encrypter with the specified public RSA key\r\nRSAEncrypter encrypter = new RSAEncrypter(publicKey);\r\njwt.encrypt(encrypter);\r\n\r\nString jwtString = jwt.serialize();\r\n\r\nSystem.out.println(jwtString);\r\n\r\n\r\n// Parse back\r\njwt = EncryptedJWT.parse(jwtString);\r\n\r\n// Create a decrypter with the specified private RSA key\r\nRSADecrypter decrypter = new RSADecrypter(privateKey);\r\n\r\n// Decrypt\r\njwt.decrypt(decrypter);\r\n\r\n// Retrieve JWT claims\r\nSystem.out.println(jwt.getJWTClaimsSet().getIssuer());;\r\nSystem.out.println(jwt.getJWTClaimsSet().getSubject());\r\nSystem.out.println(jwt.getJWTClaimsSet().getAudience().size());\r\nSystem.out.println(jwt.getJWTClaimsSet().getExpirationTime());\r\nSystem.out.println(jwt.getJWTClaimsSet().getNotBeforeTime());\r\nSystem.out.println(jwt.getJWTClaimsSet().getIssueTime());\r\nSystem.out.println(jwt.getJWTClaimsSet().getJWTID());\r\n```\r\n\r\nThis code has also use the public and private keys to create JWT token, also you will need those keys to extract claims and validate it.\r\n    \r\nOnce you run this code, you should be able to see following jwtClaims:\r\n\r\n```json       \r\n{\r\n    &quot;exp&quot;: 1429126207,\r\n    &quot;sub&quot;: &quot;alice&quot;,\r\n    &quot;nbf&quot;: 1429125607,\r\n    &quot;aud&quot;: [\r\n          &quot;https://app-one.com&quot;,\r\n          &quot;https://app-two.com&quot;\r\n    ],\r\n    &quot;iss&quot;: &quot;A FaceBook Cooperation&quot;,    \r\n    &quot;jti&quot;: &quot;5c94d2db-e818-4746-b2f2-a4cd084d5a44&quot;,\r\n    &quot;iat&quot;: 1429125607\r\n}\r\n```","title":"Create JWT (Json Web Token) with RSA encryption using Java library","body":"<p>I implemented the code to use &quot;nimbus-jose-jwt&quot; library, please find the code below</p>\n<pre class=\"lang-java prettyprint-override\"><code>JWTClaimsSet jwtClaims = new JWTClaimsSet();\njwtClaims.setIssuer(ISSUER);\njwtClaims.setSubject(SUBJECT);\n\nList&lt;String&gt; aud = new ArrayList&lt;String&gt;();\naud.add(&quot;https://app-one.com&quot;);\naud.add(&quot;https://app-two.com&quot;);\n\njwtClaims.setAudience(aud);\n// Set expiration in 10 minutes\njwtClaims.setExpirationTime(new Date(new Date().getTime() + 1000*60*10));\njwtClaims.setNotBeforeTime(new Date());\njwtClaims.setIssueTime(new Date());\njwtClaims.setJWTID(UUID.randomUUID().toString());\n\nSystem.out.println(&quot;=========== JWT CLAMINS =============&quot;);\nSystem.out.println(jwtClaims.toJSONObject());\n\n\n// Request JWT encrypted with RSA-OAEP and 128-bit AES/GCM\nJWEHeader header = new JWEHeader(JWEAlgorithm.RSA_OAEP, EncryptionMethod.A128GCM);\n\n// Create the encrypted JWT object\nEncryptedJWT jwt = new EncryptedJWT(header, jwtClaims);\n\n\n// Create an encrypter with the specified public RSA key\nRSAEncrypter encrypter = new RSAEncrypter(publicKey);\njwt.encrypt(encrypter);\n\nString jwtString = jwt.serialize();\n\nSystem.out.println(jwtString);\n\n\n// Parse back\njwt = EncryptedJWT.parse(jwtString);\n\n// Create a decrypter with the specified private RSA key\nRSADecrypter decrypter = new RSADecrypter(privateKey);\n\n// Decrypt\njwt.decrypt(decrypter);\n\n// Retrieve JWT claims\nSystem.out.println(jwt.getJWTClaimsSet().getIssuer());;\nSystem.out.println(jwt.getJWTClaimsSet().getSubject());\nSystem.out.println(jwt.getJWTClaimsSet().getAudience().size());\nSystem.out.println(jwt.getJWTClaimsSet().getExpirationTime());\nSystem.out.println(jwt.getJWTClaimsSet().getNotBeforeTime());\nSystem.out.println(jwt.getJWTClaimsSet().getIssueTime());\nSystem.out.println(jwt.getJWTClaimsSet().getJWTID());\n</code></pre>\n<p>This code has also use the public and private keys to create JWT token, also you will need those keys to extract claims and validate it.</p>\n<p>Once you run this code, you should be able to see following jwtClaims:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;exp&quot;: 1429126207,\n    &quot;sub&quot;: &quot;alice&quot;,\n    &quot;nbf&quot;: 1429125607,\n    &quot;aud&quot;: [\n          &quot;https://app-one.com&quot;,\n          &quot;https://app-two.com&quot;\n    ],\n    &quot;iss&quot;: &quot;A FaceBook Cooperation&quot;,    \n    &quot;jti&quot;: &quot;5c94d2db-e818-4746-b2f2-a4cd084d5a44&quot;,\n    &quot;iat&quot;: 1429125607\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4821194"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1471519539,"creation_date":1471116149,"answer_id":38936203,"question_id":29659536,"body_markdown":"If you&#39;re using the latest version of 4.23 of &#39;Nimbus Jose JWT&#39; then there is some minor changes in the API.\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.23&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI&#39;ve shown the code below for reference:\r\n    \r\n    public class JwtJoseExample {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tKeyPairGenerator keyPairGenerator;\r\n    \t\ttry {\r\n    \t\t\tkeyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n    \r\n    \t\t\tkeyPairGenerator.initialize(1024);\r\n    \r\n    \t\t\t// generate the key pair\r\n    \t\t\tKeyPair keyPair = keyPairGenerator.genKeyPair();\r\n    \r\n    \t\t\t// create KeyFactory and RSA Keys Specs\r\n    \t\t\tKeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n    \t\t\tRSAPublicKeySpec publicKeySpec = keyFactory.getKeySpec(keyPair.getPublic(), RSAPublicKeySpec.class);\r\n    \t\t\tRSAPrivateKeySpec privateKeySpec = keyFactory.getKeySpec(keyPair.getPrivate(), RSAPrivateKeySpec.class);\r\n    \r\n    \t\t\t// generate (and retrieve) RSA Keys from the KeyFactory using Keys Specs\r\n    \t\t\tRSAPublicKey publicRsaKey = (RSAPublicKey) keyFactory.generatePublic(publicKeySpec);\r\n    \t\t\tRSAPrivateKey privateRsaKey  = (RSAPrivateKey) keyFactory.generatePrivate(privateKeySpec);\r\n    \r\n    \t\t\tJWTClaimsSet.Builder claimsSet = new JWTClaimsSet.Builder();\r\n    \t\t\tclaimsSet.issuer(&quot;https://my-auth-server.com&quot;);\r\n    \t\t\tclaimsSet.subject(&quot;John Kerr&quot;);\r\n    \t\t\tclaimsSet.audience(getAudience());\r\n    \t\t\tclaimsSet.expirationTime(new Date(new Date().getTime() + 1000*60*10));\r\n    \t\t\tclaimsSet.notBeforeTime(new Date());\r\n    \t\t\tclaimsSet.jwtID(UUID.randomUUID().toString());\r\n    \r\n    \t\t\tSystem.out.println(&quot;--------------------------&quot;);\r\n    \t\t\tSystem.out.println(&quot;Claim Set : \\n&quot;+claimsSet.build());\r\n    \r\n    \t\t\t// create the JWT header and specify:\r\n    \t\t\t//  RSA-OAEP as the encryption algorithm\r\n    \t\t\t//  128-bit AES/GCM as the encryption method\r\n    \t\t\tJWEHeader header = new JWEHeader(JWEAlgorithm.RSA_OAEP, EncryptionMethod.A128GCM);\r\n    \r\n    \t\t\t// create the EncryptedJWT object\r\n    \t\t\tEncryptedJWT jwt = new EncryptedJWT(header, claimsSet.build());\r\n    \r\n    \t\t\t// create an RSA encrypter with the specified public RSA key\r\n    \t\t\tRSAEncrypter encrypter = new RSAEncrypter(publicRsaKey);\r\n    \r\n    \t\t\t// do the actual encryption\r\n    \t\t\tjwt.encrypt(encrypter);\r\n    \r\n    \t\t\t// serialize to JWT compact form\r\n    \t\t\tString jwtString = jwt.serialize();\r\n    \t\t\tSystem.out.println(&quot;\\nJwt Compact Form : &quot;+jwtString);\r\n    \r\n    \t\t\t// in order to read back the data from the token using your private RSA key:\r\n    \t\t\t// parse the JWT text string using EncryptedJWT object\r\n    \t\t\tjwt = EncryptedJWT.parse(jwtString);\r\n    \r\n    \t\t\t// create a decrypter with the specified private RSA key\r\n    \t\t\tRSADecrypter decrypter = new RSADecrypter(privateRsaKey);\r\n    \r\n    \t\t\t// do the decryption\r\n    \t\t\tjwt.decrypt(decrypter);\r\n    \r\n    \t\t\t// print out the claims\r\n    \r\n    \t\t\tSystem.out.println(&quot;===========================================================&quot;);\r\n    \t\t\tSystem.out.println(&quot;Issuer: [ &quot; + jwt.getJWTClaimsSet().getIssuer() + &quot;]&quot;);\r\n    \t\t\tSystem.out.println(&quot;Subject: [&quot; + jwt.getJWTClaimsSet().getSubject()+ &quot;]&quot;);\r\n    \t\t\tSystem.out.println(&quot;Audience size: [&quot; + jwt.getJWTClaimsSet().getAudience().size()+ &quot;]&quot;);\r\n    \t\t\tSystem.out.println(&quot;Expiration Time: [&quot; + jwt.getJWTClaimsSet().getExpirationTime()+ &quot;]&quot;);\r\n    \t\t\tSystem.out.println(&quot;Not Before Time: [&quot; + jwt.getJWTClaimsSet().getNotBeforeTime()+ &quot;]&quot;);\r\n    \t\t\tSystem.out.println(&quot;Issue At: [&quot; + jwt.getJWTClaimsSet().getIssueTime()+ &quot;]&quot;);\r\n    \t\t\tSystem.out.println(&quot;JWT ID: [&quot; + jwt.getJWTClaimsSet().getJWTID()+ &quot;]&quot;);\r\n    \t\t\tSystem.out.println(&quot;===========================================================&quot;);\r\n    \r\n    \t\t} catch (NoSuchAlgorithmException | InvalidKeySpecException | JOSEException | ParseException e) {\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static List&lt;String&gt; getAudience(){\r\n    \t\tList&lt;String&gt; audience = new ArrayList&lt;&gt;();\r\n    \t\taudience.add(&quot;https://my-web-app.com&quot;);\r\n    \t\taudience.add(&quot;https://your-web-app.com&quot;);\r\n    \t\treturn audience;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n   The output is:\r\n--------------------------\r\nClaim Set : \r\n\r\n    {&quot;sub&quot;:&quot;John Kerr&quot;,&quot;aud&quot;:[&quot;https:\\/\\/my-web-app.com&quot;,&quot;https:\\/\\/your-web-app.com&quot;],&quot;nbf&quot;:1471116052,&quot;iss&quot;:&quot;https:\\/\\/my-auth-server.com&quot;,&quot;exp&quot;:1471116652,&quot;jti&quot;:&quot;8769fc6d-b69f-45e3-b1a5-52695c23675e&quot;}\r\n\r\nJwt Compact Form : \r\n\r\n    eyJlbmMiOiJBMTI4R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.f2ZZyMaJi03RqunyWsLvIr7tNX1KvTRUcpN9qsBHvbXIouZCyepQMsbI1v88GHuLIV3f6SviCDyICp7kZCj_9q-yIi_dIuroADWQ-P_UnqNPRXQ1yEwbmrLUK80lBtKyc3Z6g_3Db_HLtD6QPEq-zUAh3wJ7uSPxhql2oc9otGc.Xbyrf4iWM0shNp4S.TCKoJGAEQ4rpJJk2qZP11awxTEWTg-r5VpppGgZNhiHCBhnGnyR2sb86O7ISc3j-i4OYp7Xl2vThzztD1ojy_IKPYQkg_iACuo6yjzdopQQT143vjYuFLfFhQFfjfCoO6iibTqK7vmqfF0bUWD6Nj-4MwjlW6dFV7mNQEN50dkiMrFMZkmiVKZRa50jOK1NcoWYiKSrCOQduJYibJfF6jSQARX9MsX5tib-3BXSsKtPLNrQ6mFfvDzzruBuO4gKWLE3PQPUfIQ.gXt5KcpxEbfYLP854GvcQw\r\n    ===========================================================\r\n    Issuer: [ https://my-auth-server.com]\r\n    Subject: [John Kerr]\r\n    Audience size: [2]\r\n    Expiration Time: [Sun Aug 14 01:00:52 IST 2016]\r\n    Not Before Time: [Sun Aug 14 00:50:52 IST 2016]\r\n    Issue At: [null]\r\n    JWT ID: [8769fc6d-b69f-45e3-b1a5-52695c23675e]\r\n    ===========================================================\r\n\r\n","title":"Create JWT (Json Web Token) with RSA encryption using Java library","body":"<p>If you're using the latest version of 4.23 of 'Nimbus Jose JWT' then there is some minor changes in the API.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\n    &lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\n    &lt;version&gt;4.23&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I've shown the code below for reference:</p>\n\n<pre><code>public class JwtJoseExample {\n    public static void main(String[] args) {\n        KeyPairGenerator keyPairGenerator;\n        try {\n            keyPairGenerator = KeyPairGenerator.getInstance(\"RSA\");\n\n            keyPairGenerator.initialize(1024);\n\n            // generate the key pair\n            KeyPair keyPair = keyPairGenerator.genKeyPair();\n\n            // create KeyFactory and RSA Keys Specs\n            KeyFactory keyFactory = KeyFactory.getInstance(\"RSA\");\n            RSAPublicKeySpec publicKeySpec = keyFactory.getKeySpec(keyPair.getPublic(), RSAPublicKeySpec.class);\n            RSAPrivateKeySpec privateKeySpec = keyFactory.getKeySpec(keyPair.getPrivate(), RSAPrivateKeySpec.class);\n\n            // generate (and retrieve) RSA Keys from the KeyFactory using Keys Specs\n            RSAPublicKey publicRsaKey = (RSAPublicKey) keyFactory.generatePublic(publicKeySpec);\n            RSAPrivateKey privateRsaKey  = (RSAPrivateKey) keyFactory.generatePrivate(privateKeySpec);\n\n            JWTClaimsSet.Builder claimsSet = new JWTClaimsSet.Builder();\n            claimsSet.issuer(\"https://my-auth-server.com\");\n            claimsSet.subject(\"John Kerr\");\n            claimsSet.audience(getAudience());\n            claimsSet.expirationTime(new Date(new Date().getTime() + 1000*60*10));\n            claimsSet.notBeforeTime(new Date());\n            claimsSet.jwtID(UUID.randomUUID().toString());\n\n            System.out.println(\"--------------------------\");\n            System.out.println(\"Claim Set : \\n\"+claimsSet.build());\n\n            // create the JWT header and specify:\n            //  RSA-OAEP as the encryption algorithm\n            //  128-bit AES/GCM as the encryption method\n            JWEHeader header = new JWEHeader(JWEAlgorithm.RSA_OAEP, EncryptionMethod.A128GCM);\n\n            // create the EncryptedJWT object\n            EncryptedJWT jwt = new EncryptedJWT(header, claimsSet.build());\n\n            // create an RSA encrypter with the specified public RSA key\n            RSAEncrypter encrypter = new RSAEncrypter(publicRsaKey);\n\n            // do the actual encryption\n            jwt.encrypt(encrypter);\n\n            // serialize to JWT compact form\n            String jwtString = jwt.serialize();\n            System.out.println(\"\\nJwt Compact Form : \"+jwtString);\n\n            // in order to read back the data from the token using your private RSA key:\n            // parse the JWT text string using EncryptedJWT object\n            jwt = EncryptedJWT.parse(jwtString);\n\n            // create a decrypter with the specified private RSA key\n            RSADecrypter decrypter = new RSADecrypter(privateRsaKey);\n\n            // do the decryption\n            jwt.decrypt(decrypter);\n\n            // print out the claims\n\n            System.out.println(\"===========================================================\");\n            System.out.println(\"Issuer: [ \" + jwt.getJWTClaimsSet().getIssuer() + \"]\");\n            System.out.println(\"Subject: [\" + jwt.getJWTClaimsSet().getSubject()+ \"]\");\n            System.out.println(\"Audience size: [\" + jwt.getJWTClaimsSet().getAudience().size()+ \"]\");\n            System.out.println(\"Expiration Time: [\" + jwt.getJWTClaimsSet().getExpirationTime()+ \"]\");\n            System.out.println(\"Not Before Time: [\" + jwt.getJWTClaimsSet().getNotBeforeTime()+ \"]\");\n            System.out.println(\"Issue At: [\" + jwt.getJWTClaimsSet().getIssueTime()+ \"]\");\n            System.out.println(\"JWT ID: [\" + jwt.getJWTClaimsSet().getJWTID()+ \"]\");\n            System.out.println(\"===========================================================\");\n\n        } catch (NoSuchAlgorithmException | InvalidKeySpecException | JOSEException | ParseException e) {\n            System.out.println(e.getMessage());\n        }\n    }\n\n    private static List&lt;String&gt; getAudience(){\n        List&lt;String&gt; audience = new ArrayList&lt;&gt;();\n        audience.add(\"https://my-web-app.com\");\n        audience.add(\"https://your-web-app.com\");\n        return audience;\n    }\n}\n</code></pre>\n\n<h2>   The output is:</h2>\n\n<p>Claim Set : </p>\n\n<pre><code>{\"sub\":\"John Kerr\",\"aud\":[\"https:\\/\\/my-web-app.com\",\"https:\\/\\/your-web-app.com\"],\"nbf\":1471116052,\"iss\":\"https:\\/\\/my-auth-server.com\",\"exp\":1471116652,\"jti\":\"8769fc6d-b69f-45e3-b1a5-52695c23675e\"}\n</code></pre>\n\n<p>Jwt Compact Form : </p>\n\n<pre><code>eyJlbmMiOiJBMTI4R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.f2ZZyMaJi03RqunyWsLvIr7tNX1KvTRUcpN9qsBHvbXIouZCyepQMsbI1v88GHuLIV3f6SviCDyICp7kZCj_9q-yIi_dIuroADWQ-P_UnqNPRXQ1yEwbmrLUK80lBtKyc3Z6g_3Db_HLtD6QPEq-zUAh3wJ7uSPxhql2oc9otGc.Xbyrf4iWM0shNp4S.TCKoJGAEQ4rpJJk2qZP11awxTEWTg-r5VpppGgZNhiHCBhnGnyR2sb86O7ISc3j-i4OYp7Xl2vThzztD1ojy_IKPYQkg_iACuo6yjzdopQQT143vjYuFLfFhQFfjfCoO6iibTqK7vmqfF0bUWD6Nj-4MwjlW6dFV7mNQEN50dkiMrFMZkmiVKZRa50jOK1NcoWYiKSrCOQduJYibJfF6jSQARX9MsX5tib-3BXSsKtPLNrQ6mFfvDzzruBuO4gKWLE3PQPUfIQ.gXt5KcpxEbfYLP854GvcQw\n===========================================================\nIssuer: [ https://my-auth-server.com]\nSubject: [John Kerr]\nAudience size: [2]\nExpiration Time: [Sun Aug 14 01:00:52 IST 2016]\nNot Before Time: [Sun Aug 14 00:50:52 IST 2016]\nIssue At: [null]\nJWT ID: [8769fc6d-b69f-45e3-b1a5-52695c23675e]\n===========================================================\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12125902,"reputation":29,"user_id":8854768,"display_name":"VAIBHAV SHEERSH"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526899963,"creation_date":1526899963,"answer_id":50447276,"question_id":29659536,"body_markdown":"    //This is a complete encryption and decryption module using \r\n    //Algorithm: JWEAlgorithm.RSA_OAEP_256\r\n    //Encryption Method: A128CBC_HS256\r\n    \r\n    public static String  encrypt(String text) throws Exception {\r\n        // Set the plain text\r\n        Payload payload = new Payload(text);\r\n        // Create the header\r\n        JWEHeader header = new JWEHeader(JWEAlgorithm.RSA_OAEP_256, EncryptionMethod.A128CBC_HS256);\r\n        // Create the JWE object and encrypt it\r\n        JWEObject jweObject = new JWEObject(header, payload);\r\n        jweObject.encrypt(new RSAEncrypter(getPublicKey()));\r\n        // Serialise to compact JOSE form...\r\n        String jweString = jweObject.serialize();\r\n        LOG.info(&quot;Generated Encrypted Key : {}&quot;, jweString);\r\n        return jweString;\r\n    }\r\n    \r\n    public static String decrypt(String text) throws Exception {\r\n        // Parse into JWE object...\r\n        JWEObject jweObject = JWEObject.parse(text);\r\n        jweObject.decrypt(new RSADecrypter(getPrivateKey()));\r\n        // Get the plain text\r\n        Payload payload = jweObject.getPayload();\r\n        System.out.println(payload.toString());\r\n        return payload.toString();\r\n    }\r\n    \r\n    private static RSAPublicKey getPublicKey() throws Exception {\r\n        String filename = &quot;/home/vaibhav/Setups/cert/pub.der&quot;;\r\n        File f = new File(filename);\r\n        FileInputStream fis = new FileInputStream(f);\r\n        DataInputStream dis = new DataInputStream(fis);\r\n        byte[] keyBytes = new byte[(int)f.length()];\r\n        dis.readFully(keyBytes);\r\n        dis.close();\r\n    \r\n        X509EncodedKeySpec spec = new X509EncodedKeySpec(keyBytes);\r\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        return (RSAPublicKey) kf.generatePublic(spec);\r\n    }\r\n    \r\n    private static RSAPrivateKey getPrivateKey() throws Exception {\r\n        String filename = &quot;/home/vaibhav/Setups/cert/private.pkcs8&quot;;\r\n        File f = new File(filename);\r\n        FileInputStream fis = new FileInputStream(f);\r\n        DataInputStream dis = new DataInputStream(fis);\r\n        byte[] keyBytes = new byte[(int)f.length()];\r\n        dis.readFully(keyBytes);\r\n        dis.close();\r\n    \r\n        PKCS8EncodedKeySpec spec1 = new PKCS8EncodedKeySpec(keyBytes);\r\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        return (RSAPrivateKey) kf.generatePrivate(spec1);\r\n    }","title":"Create JWT (Json Web Token) with RSA encryption using Java library","body":"<pre><code>//This is a complete encryption and decryption module using \n//Algorithm: JWEAlgorithm.RSA_OAEP_256\n//Encryption Method: A128CBC_HS256\n\npublic static String  encrypt(String text) throws Exception {\n    // Set the plain text\n    Payload payload = new Payload(text);\n    // Create the header\n    JWEHeader header = new JWEHeader(JWEAlgorithm.RSA_OAEP_256, EncryptionMethod.A128CBC_HS256);\n    // Create the JWE object and encrypt it\n    JWEObject jweObject = new JWEObject(header, payload);\n    jweObject.encrypt(new RSAEncrypter(getPublicKey()));\n    // Serialise to compact JOSE form...\n    String jweString = jweObject.serialize();\n    LOG.info(\"Generated Encrypted Key : {}\", jweString);\n    return jweString;\n}\n\npublic static String decrypt(String text) throws Exception {\n    // Parse into JWE object...\n    JWEObject jweObject = JWEObject.parse(text);\n    jweObject.decrypt(new RSADecrypter(getPrivateKey()));\n    // Get the plain text\n    Payload payload = jweObject.getPayload();\n    System.out.println(payload.toString());\n    return payload.toString();\n}\n\nprivate static RSAPublicKey getPublicKey() throws Exception {\n    String filename = \"/home/vaibhav/Setups/cert/pub.der\";\n    File f = new File(filename);\n    FileInputStream fis = new FileInputStream(f);\n    DataInputStream dis = new DataInputStream(fis);\n    byte[] keyBytes = new byte[(int)f.length()];\n    dis.readFully(keyBytes);\n    dis.close();\n\n    X509EncodedKeySpec spec = new X509EncodedKeySpec(keyBytes);\n    KeyFactory kf = KeyFactory.getInstance(\"RSA\");\n    return (RSAPublicKey) kf.generatePublic(spec);\n}\n\nprivate static RSAPrivateKey getPrivateKey() throws Exception {\n    String filename = \"/home/vaibhav/Setups/cert/private.pkcs8\";\n    File f = new File(filename);\n    FileInputStream fis = new FileInputStream(f);\n    DataInputStream dis = new DataInputStream(fis);\n    byte[] keyBytes = new byte[(int)f.length()];\n    dis.readFully(keyBytes);\n    dis.close();\n\n    PKCS8EncodedKeySpec spec1 = new PKCS8EncodedKeySpec(keyBytes);\n    KeyFactory kf = KeyFactory.getInstance(\"RSA\");\n    return (RSAPrivateKey) kf.generatePrivate(spec1);\n}\n</code></pre>\n"}],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15964,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":38936203,"answer_count":3,"score":3,"last_activity_date":1684160453,"creation_date":1429127401,"question_id":29659536,"body_markdown":"I am looking to develop a JWT app with RSA encryption using &quot;Nimbus JOSE+JWT&quot; library. I am seeking sample code.\r\n\r\nI would like to use the following Maven dependency:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.10&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNote: Please always use the latest version from Maven Central repository.\r\n\r\n","title":"Create JWT (Json Web Token) with RSA encryption using Java library","body":"<p>I am looking to develop a JWT app with RSA encryption using &quot;Nimbus JOSE+JWT&quot; library. I am seeking sample code.</p>\n<p>I would like to use the following Maven dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\n    &lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\n    &lt;version&gt;3.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Note: Please always use the latest version from Maven Central repository.</p>\n"},{"tags":["java","open-telemetry"],"comments":[{"owner":{"account_id":73144,"reputation":318,"user_id":210800,"display_name":"Tyler B"},"score":0,"creation_date":1683836089,"post_id":76230135,"comment_id":134431733,"body_markdown":"The MDC instrumentation currently only goes the other way as demonstrated in this document: https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/logger-mdc-instrumentation.md.  Certainly sounds like an interesting idea.  Consider [adding an issue](https://github.com/open-telemetry/opentelemetry-java-instrumentation/issues/new/choose) or [write an extension](https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/examples/extension/README.md).","body":"The MDC instrumentation currently only goes the other way as demonstrated in this document: <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/logger-mdc-instrumentation.md\" rel=\"nofollow noreferrer\">github.com/open-telemetry/opentelemetry-java-instrumentation&zwnj;&#8203;/&hellip;</a>.  Certainly sounds like an interesting idea.  Consider <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/issues/new/choose\" rel=\"nofollow noreferrer\">adding an issue</a> or <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/examples/extension/README.md\" rel=\"nofollow noreferrer\">write an extension</a>."},{"owner":{"account_id":8110945,"reputation":69,"user_id":16004993,"display_name":"James Courtney"},"score":0,"creation_date":1683915352,"post_id":76230135,"comment_id":134445204,"body_markdown":"Thanks @TylerB - any thoughts on the fallback approach (2) above?  If we can do that cleanly we can try and generalize it as an extension.","body":"Thanks @TylerB - any thoughts on the fallback approach (2) above?  If we can do that cleanly we can try and generalize it as an extension."}],"answers":[{"tags":[],"owner":{"account_id":73144,"reputation":318,"user_id":210800,"display_name":"Tyler B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684160111,"creation_date":1684160111,"answer_id":76255007,"question_id":76230135,"body_markdown":"Since MDC is statically accessible, I believe you can implement a `SpanProcessor` that adds the desired attributes to `span` in the `onStart` method.","title":"Can OpenTelemetry (Java) be configured or otherwise convinced to tag spans with MDC values?","body":"<p>Since MDC is statically accessible, I believe you can implement a <code>SpanProcessor</code> that adds the desired attributes to <code>span</code> in the <code>onStart</code> method.</p>\n"}],"owner":{"account_id":8110945,"reputation":69,"user_id":16004993,"display_name":"James Courtney"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684160111,"creation_date":1683825589,"question_id":76230135,"body_markdown":"Requests to our application are associated with a customer ID.  This metadata value is available during the scope of the request via MDC (slf4j) and used for logging and a handful of other telemetry/observability/meta sorts of activities.  It would be useful for us to have that value as a tag on all OTEL spans.\r\n\r\n1) Is there a way to configure OTEL to automatically tag spans with values from MDC context.  Ideally I&#39;d be able to configure OTEL with a set of key pairs providing the name of the tag I&#39;d like to add to the Span and the MDC key who&#39;s associated value should be set as the value of the tag.\r\n\r\n2) If the configuration-based approach articulated isn&#39;t possible, is there the ability to place a small amount of code at the start of a request (i.e. in a filter on a servlet container or similar) which would copy desired MDC values to OTEL context such that all spans created in the request thereafter would implicitly be created with / inherit those tags.\r\n\r\nIf there&#39;s another way to achieve tagging all spans for a request more or less implicitly I&#39;m all ears. \r\n\r\nThanks in advance for any help / guidance you can provide.","title":"Can OpenTelemetry (Java) be configured or otherwise convinced to tag spans with MDC values?","body":"<p>Requests to our application are associated with a customer ID.  This metadata value is available during the scope of the request via MDC (slf4j) and used for logging and a handful of other telemetry/observability/meta sorts of activities.  It would be useful for us to have that value as a tag on all OTEL spans.</p>\n<ol>\n<li><p>Is there a way to configure OTEL to automatically tag spans with values from MDC context.  Ideally I'd be able to configure OTEL with a set of key pairs providing the name of the tag I'd like to add to the Span and the MDC key who's associated value should be set as the value of the tag.</p>\n</li>\n<li><p>If the configuration-based approach articulated isn't possible, is there the ability to place a small amount of code at the start of a request (i.e. in a filter on a servlet container or similar) which would copy desired MDC values to OTEL context such that all spans created in the request thereafter would implicitly be created with / inherit those tags.</p>\n</li>\n</ol>\n<p>If there's another way to achieve tagging all spans for a request more or less implicitly I'm all ears.</p>\n<p>Thanks in advance for any help / guidance you can provide.</p>\n"},{"tags":["java","html","keycloak"],"comments":[{"owner":{"account_id":1973116,"reputation":9881,"user_id":1771556,"display_name":"Vadim Ashikhman"},"score":0,"creation_date":1566997893,"post_id":57692616,"comment_id":101830581,"body_markdown":"Did you create custom email theme and override `password-reset.ftl`?","body":"Did you create custom email theme and override <code>password-reset.ftl</code>?"},{"owner":{"account_id":13871758,"reputation":129,"user_id":10014655,"display_name":"javamat"},"score":0,"creation_date":1567089113,"post_id":57692616,"comment_id":101867122,"body_markdown":"Yes I did. I tried adding an image to theme/email/resources/img and reference to it by calling ${url.resourcePath}/img/myImage.jpg in img tag but still doesn&#39;t work","body":"Yes I did. I tried adding an image to theme/email/resources/img and reference to it by calling ${url.resourcePath}/img/myImage.jpg in img tag but still doesn&#39;t work"}],"answers":[{"comments":[{"owner":{"account_id":13871758,"reputation":129,"user_id":10014655,"display_name":"javamat"},"score":0,"creation_date":1567089367,"post_id":57694584,"comment_id":101867264,"body_markdown":"Thanks for your reply but I&#39;ve already got all of my custom themes available in keycloak. The problem is just with adding a logo to the email related to password-reset","body":"Thanks for your reply but I&#39;ve already got all of my custom themes available in keycloak. The problem is just with adding a logo to the email related to password-reset"},{"owner":{"account_id":2909206,"reputation":5133,"user_id":2493852,"display_name":"Ariel Carrera"},"score":0,"creation_date":1567091840,"post_id":57694584,"comment_id":101868656,"body_markdown":"You need to modify your html/password-reset.ftl and add your logo in html code... I will try to complete the answer.","body":"You need to modify your html/password-reset.ftl and add your logo in html code... I will try to complete the answer."},{"owner":{"account_id":2909206,"reputation":5133,"user_id":2493852,"display_name":"Ariel Carrera"},"score":0,"creation_date":1567480081,"post_id":57694584,"comment_id":101964792,"body_markdown":"Hi @javamat, could you finally add the image? Could you solve it or have you got lost?","body":"Hi @javamat, could you finally add the image? Could you solve it or have you got lost?"},{"owner":{"account_id":13871758,"reputation":129,"user_id":10014655,"display_name":"javamat"},"score":0,"creation_date":1568182522,"post_id":57694584,"comment_id":102188882,"body_markdown":"Hi, I decided to add an image by passing the URL to the service which is hosting the logo","body":"Hi, I decided to add an image by passing the URL to the service which is hosting the logo"},{"owner":{"account_id":13871758,"reputation":129,"user_id":10014655,"display_name":"javamat"},"score":0,"creation_date":1568182611,"post_id":57694584,"comment_id":102188918,"body_markdown":"Unfortunately Gmail doesn&#39;t support base64 encoding","body":"Unfortunately Gmail doesn&#39;t support base64 encoding"},{"owner":{"account_id":2909206,"reputation":5133,"user_id":2493852,"display_name":"Ariel Carrera"},"score":0,"creation_date":1568204474,"post_id":57694584,"comment_id":102199664,"body_markdown":"You can place the image file in your template jar and reference it. I will search,  I think that I have an old sample about it.","body":"You can place the image file in your template jar and reference it. I will search,  I think that I have an old sample about it."},{"owner":{"account_id":2909206,"reputation":5133,"user_id":2493852,"display_name":"Ariel Carrera"},"score":0,"creation_date":1568241029,"post_id":57694584,"comment_id":102215979,"body_markdown":"Hi @javamat, look at the info added and the link provided.","body":"Hi @javamat, look at the info added and the link provided."}],"tags":[],"owner":{"account_id":2909206,"reputation":5133,"user_id":2493852,"display_name":"Ariel Carrera"},"comment_count":7,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1568240971,"creation_date":1567002050,"answer_id":57694584,"question_id":57692616,"body_markdown":"You need to create a custom theme.\r\nCheck Keycloak&#39;s docs chapter 3: [docs][1]\r\n\r\nThere are five types of themes/pages:\r\n\r\n - Account - Account management   \r\n - Admin - Admin console\r\n - **Email - Emails**\r\n - Login - Login forms    \r\n - Welcome - Welcome page\r\n\r\nYou can start with a checkout of this sample repository [kc themes sample][2], edit templates and deploy it in your keycloak.\r\n\r\nLike the link says... to deploy it:\r\n\r\n&gt; **Copy**\r\n&gt; \r\n&gt; Simplest way to deploy the themes is to copy\r\n&gt; src/main/resources/theme/* to themes/.\r\n&gt; \r\n&gt; **Module**\r\n&gt;\r\n&gt; Alternatively you can deploy as modules. This can be done by\r\n&gt; first running:\r\n&gt; \r\n&gt; `mvn clean install $KEYCLOAK_HOME/bin/jboss-cli.sh --command=&quot;module add --name=org.keycloak.example.themes --resources=target/keycloak-example-themes.jar&quot;`\r\n&gt; \r\n&gt; Then open `standalone/configuration/standalone.xml`\r\n&gt; and register the theme module by adding:\r\n&gt; \r\n&gt;     &lt;theme&gt;\r\n&gt;         ...\r\n&gt;         &lt;modules&gt;\r\n&gt;             &lt;module&gt;org.keycloak.example.themes&lt;/module&gt;\r\n&gt;         &lt;/modules&gt;\r\n&gt;     &lt;/theme&gt;\r\n\r\nYou can copy other themes or extend it copying from [base templates][3] to your custom themes project.\r\n\r\nEmail base templates: [email templates][4]\r\n\r\nTake care to select same Keycloak version before checkout project and sources.\r\n\r\n**Steps to Add a logo to email template inside an existing custom theme**\r\n\r\n 1. Locate your template file: /html/password-reset.ftl (e.g. [base sample file][5])\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n        &lt;html&gt;\r\n        &lt;body&gt;\r\n        ${kcSanitize(msg(&quot;passwordResetBodyHtml&quot;,link, linkExpiration, realmName, linkExpirationFormatter(linkExpiration)))?no_esc}\r\n        &lt;/body&gt;\r\n        &lt;/html&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n 2. Replace with your code. E.g. with a base64 image or a linked reference to your image file (https://static.myserver.com/image.png, etc ...)\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n        &lt;html&gt;\r\n        &lt;body&gt;\r\n            &lt;div&gt;\r\n                &lt;img src=&quot;data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAAUA\r\n        AAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO\r\n            9TXL0Y4OHwAAAABJRU5ErkJggg==&quot; alt=&quot;Red Logo&quot;&gt;\r\n            &lt;/div&gt;\r\n            &lt;div&gt;\r\n            ${kcSanitize(msg(&quot;passwordResetBodyHtml&quot;,link, linkExpiration, realmName, linkExpirationFormatter(linkExpiration)))?no_esc}\r\n            &lt;/div&gt;\r\n        &lt;/body&gt;\r\n        &lt;/html&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n 3. Update your plain-text template too (if you need because not all client support html). You cannot add the image here but if a text message [file text/password-reset.ftl]\r\n\r\n\r\n 4. Package and deploy your theme in Keycloak\r\n \r\n 5. Select your email template in Realm Configuration tab\r\n\r\n\r\nAs you can see in class [DefaultEmailSenderProvider.java][6] Keycloak will try to send a HTML email and if you don&#39;t define it uses text-plain (file: text/password-reset.ftl\r\n\r\n## Update:\r\n\r\nThere are currently some limitations imposed by some email clients.\r\nI advise you to read the following note about it ([read me][7]).\r\n\r\nAs it says, many web clients do not display emails that contain more than one image in base64 embedded (or none of them).\r\n\r\nTherefore a good strategy with Keycloak emails is to use a reference to an image that is served from a static content server (if you do not have one of them, keycloak is over a wildfly that could also be configured as a static server).\r\n\r\nSo, the best solution you can implement is to add your image as follows:\r\nEg.\r\n\r\n    &lt;img src = &quot;https://static.myserver.com/static/logo.png&quot; alt = &quot;img&quot; /&gt;\r\n\r\n\r\n  [1]: https://www.keycloak.org/docs/latest/server_development/index.html#_themes\r\n  [2]: https://github.com/keycloak/keycloak/tree/master/examples/themes\r\n  [3]: https://github.com/keycloak/keycloak/tree/master/themes/src/main/resources/theme/base\r\n  [4]: https://github.com/keycloak/keycloak/tree/master/themes/src/main/resources/theme/base/email/html\r\n  [5]: https://github.com/keycloak/keycloak/blob/master/themes/src/main/resources/theme/base/email/html/password-reset.ftl\r\n  [6]: https://github.com/keycloak/keycloak/blob/3e4fbb5ecee52a842b5adfbd9a1108817140c1f7/services/src/main/java/org/keycloak/email/DefaultEmailSenderProvider.java#L113\r\n  [7]: https://blog.mailtrap.io/embedding-images-in-html-email-have-the-rules-changed/","title":"Keycloak add company logo to the reset password email","body":"<p>You need to create a custom theme.\nCheck Keycloak's docs chapter 3: <a href=\"https://www.keycloak.org/docs/latest/server_development/index.html#_themes\" rel=\"nofollow noreferrer\">docs</a></p>\n\n<p>There are five types of themes/pages:</p>\n\n<ul>\n<li>Account - Account management   </li>\n<li>Admin - Admin console</li>\n<li><strong>Email - Emails</strong></li>\n<li>Login - Login forms    </li>\n<li>Welcome - Welcome page</li>\n</ul>\n\n<p>You can start with a checkout of this sample repository <a href=\"https://github.com/keycloak/keycloak/tree/master/examples/themes\" rel=\"nofollow noreferrer\">kc themes sample</a>, edit templates and deploy it in your keycloak.</p>\n\n<p>Like the link says... to deploy it:</p>\n\n<blockquote>\n  <p><strong>Copy</strong></p>\n  \n  <p>Simplest way to deploy the themes is to copy\n  src/main/resources/theme/* to themes/.</p>\n  \n  <p><strong>Module</strong></p>\n  \n  <p>Alternatively you can deploy as modules. This can be done by\n  first running:</p>\n  \n  <p><code>mvn clean install $KEYCLOAK_HOME/bin/jboss-cli.sh --command=\"module add --name=org.keycloak.example.themes --resources=target/keycloak-example-themes.jar\"</code></p>\n  \n  <p>Then open <code>standalone/configuration/standalone.xml</code>\n  and register the theme module by adding:</p>\n\n<pre><code>&lt;theme&gt;\n    ...\n    &lt;modules&gt;\n        &lt;module&gt;org.keycloak.example.themes&lt;/module&gt;\n    &lt;/modules&gt;\n&lt;/theme&gt;\n</code></pre>\n</blockquote>\n\n<p>You can copy other themes or extend it copying from <a href=\"https://github.com/keycloak/keycloak/tree/master/themes/src/main/resources/theme/base\" rel=\"nofollow noreferrer\">base templates</a> to your custom themes project.</p>\n\n<p>Email base templates: <a href=\"https://github.com/keycloak/keycloak/tree/master/themes/src/main/resources/theme/base/email/html\" rel=\"nofollow noreferrer\">email templates</a></p>\n\n<p>Take care to select same Keycloak version before checkout project and sources.</p>\n\n<p><strong>Steps to Add a logo to email template inside an existing custom theme</strong></p>\n\n<ol>\n<li>Locate your template file: /html/password-reset.ftl (e.g. <a href=\"https://github.com/keycloak/keycloak/blob/master/themes/src/main/resources/theme/base/email/html/password-reset.ftl\" rel=\"nofollow noreferrer\">base sample file</a>)</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    &lt;html&gt;\r\n    &lt;body&gt;\r\n    ${kcSanitize(msg(\"passwordResetBodyHtml\",link, linkExpiration, realmName, linkExpirationFormatter(linkExpiration)))?no_esc}\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<ol start=\"2\">\n<li>Replace with your code. E.g. with a base64 image or a linked reference to your image file (<a href=\"https://static.myserver.com/image.png\" rel=\"nofollow noreferrer\">https://static.myserver.com/image.png</a>, etc ...)</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    &lt;html&gt;\r\n    &lt;body&gt;\r\n        &lt;div&gt;\r\n            &lt;img src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAAUA\r\n    AAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO\r\n        9TXL0Y4OHwAAAABJRU5ErkJggg==\" alt=\"Red Logo\"&gt;\r\n        &lt;/div&gt;\r\n        &lt;div&gt;\r\n        ${kcSanitize(msg(\"passwordResetBodyHtml\",link, linkExpiration, realmName, linkExpirationFormatter(linkExpiration)))?no_esc}\r\n        &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<ol start=\"3\">\n<li><p>Update your plain-text template too (if you need because not all client support html). You cannot add the image here but if a text message [file text/password-reset.ftl]</p></li>\n<li><p>Package and deploy your theme in Keycloak</p></li>\n<li><p>Select your email template in Realm Configuration tab</p></li>\n</ol>\n\n<p>As you can see in class <a href=\"https://github.com/keycloak/keycloak/blob/3e4fbb5ecee52a842b5adfbd9a1108817140c1f7/services/src/main/java/org/keycloak/email/DefaultEmailSenderProvider.java#L113\" rel=\"nofollow noreferrer\">DefaultEmailSenderProvider.java</a> Keycloak will try to send a HTML email and if you don't define it uses text-plain (file: text/password-reset.ftl</p>\n\n<h2>Update:</h2>\n\n<p>There are currently some limitations imposed by some email clients.\nI advise you to read the following note about it (<a href=\"https://blog.mailtrap.io/embedding-images-in-html-email-have-the-rules-changed/\" rel=\"nofollow noreferrer\">read me</a>).</p>\n\n<p>As it says, many web clients do not display emails that contain more than one image in base64 embedded (or none of them).</p>\n\n<p>Therefore a good strategy with Keycloak emails is to use a reference to an image that is served from a static content server (if you do not have one of them, keycloak is over a wildfly that could also be configured as a static server).</p>\n\n<p>So, the best solution you can implement is to add your image as follows:\nEg.</p>\n\n<pre><code>&lt;img src = \"https://static.myserver.com/static/logo.png\" alt = \"img\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4341359,"reputation":36,"user_id":3544513,"display_name":"woocash"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587543246,"creation_date":1587506773,"answer_id":61354069,"question_id":57692616,"body_markdown":"[`DefaultEmailSenderProvider`][1] class allows only for text and html content as `multipart/alternative`. This is not enough to have working well (in most mail clients) embedded image like logo or so. \r\n\r\nThe html part should be wrapped together with image(s) by the `multipart/related` section. Therefore, some custom `EmailSenderProvider` seems to be needed. It should expose another param for inline imagies which one could be embeded in html section. The result should be a structure similar to this below.\r\n\r\n    - alternative\r\n    -- text\r\n    -- related\r\n    --- html\r\n    --- inline image \r\n    --- inline image\r\n\r\nAs I have spent some time on research which haven&#39;t brought any result yet I plan to make a request to keycloak contributors. \r\n\r\n[Here][2] is a good explenation of how it works with link to interesting Apache project. \r\n\r\n\r\n  [1]: https://github.com/keycloak/keycloak/blob/master/services/src/main/java/org/keycloak/email/DefaultEmailSenderProvider.java\r\n  [2]: https://stackoverflow.com/a/23853079/3544513","title":"Keycloak add company logo to the reset password email","body":"<p><a href=\"https://github.com/keycloak/keycloak/blob/master/services/src/main/java/org/keycloak/email/DefaultEmailSenderProvider.java\" rel=\"nofollow noreferrer\"><code>DefaultEmailSenderProvider</code></a> class allows only for text and html content as <code>multipart/alternative</code>. This is not enough to have working well (in most mail clients) embedded image like logo or so. </p>\n\n<p>The html part should be wrapped together with image(s) by the <code>multipart/related</code> section. Therefore, some custom <code>EmailSenderProvider</code> seems to be needed. It should expose another param for inline imagies which one could be embeded in html section. The result should be a structure similar to this below.</p>\n\n<pre><code>- alternative\n-- text\n-- related\n--- html\n--- inline image \n--- inline image\n</code></pre>\n\n<p>As I have spent some time on research which haven't brought any result yet I plan to make a request to keycloak contributors. </p>\n\n<p><a href=\"https://stackoverflow.com/a/23853079/3544513\">Here</a> is a good explenation of how it works with link to interesting Apache project. </p>\n"},{"comments":[{"owner":{"account_id":12991286,"reputation":420,"user_id":9390432,"display_name":"Kevin O."},"score":0,"creation_date":1663588128,"post_id":73152168,"comment_id":130267633,"body_markdown":"If you print `&lt;p&gt;${url.resourcesPath}/img/&lt;/p&gt;` the result will be `/auth/resources/t1chj/email/myTheme/img/`.","body":"If you print <code>&lt;p&gt;${url.resourcesPath}&#47;img&#47;&lt;&#47;p&gt;</code> the result will be <code>&#47;auth&#47;resources&#47;t1chj&#47;email&#47;myTheme&#47;img&#47;</code>."},{"owner":{"account_id":12646061,"reputation":1376,"user_id":9191773,"display_name":"josias"},"score":1,"creation_date":1663590792,"post_id":73152168,"comment_id":130268541,"body_markdown":"@KevinO. on my instance of keycloak v18 it is `resources/xxxx/email/mytheme`","body":"@KevinO. on my instance of keycloak v18 it is <code>resources&#47;xxxx&#47;email&#47;mytheme</code>"},{"owner":{"account_id":12991286,"reputation":420,"user_id":9390432,"display_name":"Kevin O."},"score":0,"creation_date":1663679795,"post_id":73152168,"comment_id":130292905,"body_markdown":"I use Keycloak `v19`, seems that they changed it.","body":"I use Keycloak <code>v19</code>, seems that they changed it."},{"owner":{"account_id":12646061,"reputation":1376,"user_id":9191773,"display_name":"josias"},"score":1,"creation_date":1663682702,"post_id":73152168,"comment_id":130294222,"body_markdown":"@KevinO. Are you using `v19.x.x-legacy`? I remember when we switched from `-legacy` to the new distribution some changes in the URLs too","body":"@KevinO. Are you using <code>v19.x.x-legacy</code>? I remember when we switched from <code>-legacy</code> to the new distribution some changes in the URLs too"},{"owner":{"account_id":12991286,"reputation":420,"user_id":9390432,"display_name":"Kevin O."},"score":0,"creation_date":1663700622,"post_id":73152168,"comment_id":130300539,"body_markdown":"Yes, `v19.x.x-legacy`","body":"Yes, <code>v19.x.x-legacy</code>"},{"owner":{"account_id":12646061,"reputation":1376,"user_id":9191773,"display_name":"josias"},"score":0,"creation_date":1663747318,"post_id":73152168,"comment_id":130309583,"body_markdown":"Okay, I will add this to the answer, I think that is what is causing the difference","body":"Okay, I will add this to the answer, I think that is what is causing the difference"}],"tags":[],"owner":{"account_id":12646061,"reputation":1376,"user_id":9191773,"display_name":"josias"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663748365,"creation_date":1659007920,"answer_id":73152168,"question_id":57692616,"body_markdown":"As @Ariel Carrera already mentioned, inline data uri src for images are not well-supported by clients such as gmail.\r\n\r\nBut instead of uploading your images somewhere externally to use it in the template, you can include an image that comes directly from your template, like so:\r\n\r\n```html\r\n&lt;img src=&quot;${url.resourcesUrl}/img/MyCompany_Logo.png&quot; title=&quot;MyCompany&quot; alt=&quot;MyCompany Logo&quot;&gt;\r\n```\r\n\r\nFor the above code to work, you need to have a file in the following directory of your theme:\r\n\r\n`mytheme/email/resources/img/MyCompany_Logo.png`\r\n\r\n&gt; Note: SVGs also have less support by email clients. I would recommend a PNG and not an SVG for your email template\r\n\r\n**Note:**\r\n\r\nI have implemented this on v18.x.x keycloak, not v18.x.x-**legacy**.\r\n\r\nWith the legacy versions I don&#39;t know if the same result is possible, because there are differences in the `url.resourcesUrl` path that is returned","title":"Keycloak add company logo to the reset password email","body":"<p>As @Ariel Carrera already mentioned, inline data uri src for images are not well-supported by clients such as gmail.</p>\n<p>But instead of uploading your images somewhere externally to use it in the template, you can include an image that comes directly from your template, like so:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;img src=&quot;${url.resourcesUrl}/img/MyCompany_Logo.png&quot; title=&quot;MyCompany&quot; alt=&quot;MyCompany Logo&quot;&gt;\n</code></pre>\n<p>For the above code to work, you need to have a file in the following directory of your theme:</p>\n<p><code>mytheme/email/resources/img/MyCompany_Logo.png</code></p>\n<blockquote>\n<p>Note: SVGs also have less support by email clients. I would recommend a PNG and not an SVG for your email template</p>\n</blockquote>\n<p><strong>Note:</strong></p>\n<p>I have implemented this on v18.x.x keycloak, not v18.x.x-<strong>legacy</strong>.</p>\n<p>With the legacy versions I don't know if the same result is possible, because there are differences in the <code>url.resourcesUrl</code> path that is returned</p>\n"},{"tags":[],"owner":{"account_id":9336247,"reputation":1,"user_id":6930339,"display_name":"Kulla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669972816,"creation_date":1669641737,"answer_id":74601237,"question_id":57692616,"body_markdown":"A simple way to get the logo url correct in keycloak&#39;s reset password email is to use the `link` variable together with freemarker&#39;s built-in `keep_before`,  effectively removing `path` section from reset password link and then adding `url.resourcesPath` variable plus the path to your logo saved in email theme: \r\n\r\n```html\r\n&lt;img src=&quot;${link?keep_before(&quot;/auth/realms/&quot;)}${url.resourcesPath}/images/logo.png&quot; /&gt;\r\n```\r\n\r\n\r\n\r\n","title":"Keycloak add company logo to the reset password email","body":"<p>A simple way to get the logo url correct in keycloak's reset password email is to use the <code>link</code> variable together with freemarker's built-in <code>keep_before</code>,  effectively removing <code>path</code> section from reset password link and then adding <code>url.resourcesPath</code> variable plus the path to your logo saved in email theme:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;img src=&quot;${link?keep_before(&quot;/auth/realms/&quot;)}${url.resourcesPath}/images/logo.png&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3159209,"reputation":636,"user_id":2670847,"display_name":"GLinBoy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683121516,"creation_date":1683121516,"answer_id":76164610,"question_id":57692616,"body_markdown":"Here is my solution for the Keycloak 21.x, hope to help somebody to save more time.\r\n\r\n **1.** First step is adding our logo to our theme:\r\n\r\n    themes/{THEME_NAME}/email/resources/images/logo.png\r\n\r\n **2.** Then we need to access our hostname in the Keycloak. I am using Keycloak on the K8s environment so it is easy for me. I can use **KC_HOSTNAME_URL** and move forward. Afterward, we need to access this variable in our theme. So we need to define a variable in our **theme.properties** (create this file if it doesn&#39;t exist). I can split this step into two steps:  \r\n  **2.1.** Create the theme.properties in the email directory (if doesn&#39;t exist)  \r\n\r\n    /themes/{THEME_NAME}/email/theme.properties  \r\n  **2.2.** Add a variable to set env. variable to it\r\n\r\n    hostnameUrl=${env.KC_HOSTNAME_URL} \r\n\r\n **3.** Now, you can use this variable in the src of your logo image:\r\n\r\n    src=&quot;${properties.hostnameUrl!}${url.resourcesPath}/images/logo.png&quot;\r\n\r\n\r\nPS: Don&#39;t forget to set ***KC_HOSTNAME_URL*** (or any env. variable you defined for this purpose) while running your Keycloak.\r\n","title":"Keycloak add company logo to the reset password email","body":"<p>Here is my solution for the Keycloak 21.x, hope to help somebody to save more time.</p>\n<p><strong>1.</strong> First step is adding our logo to our theme:</p>\n<pre><code>themes/{THEME_NAME}/email/resources/images/logo.png\n</code></pre>\n<p><strong>2.</strong> Then we need to access our hostname in the Keycloak. I am using Keycloak on the K8s environment so it is easy for me. I can use <strong>KC_HOSTNAME_URL</strong> and move forward. Afterward, we need to access this variable in our theme. So we need to define a variable in our <strong>theme.properties</strong> (create this file if it doesn't exist). I can split this step into two steps:<br />\n<strong>2.1.</strong> Create the theme.properties in the email directory (if doesn't exist)</p>\n<pre><code>/themes/{THEME_NAME}/email/theme.properties  \n</code></pre>\n<p><strong>2.2.</strong> Add a variable to set env. variable to it</p>\n<pre><code>hostnameUrl=${env.KC_HOSTNAME_URL} \n</code></pre>\n<p><strong>3.</strong> Now, you can use this variable in the src of your logo image:</p>\n<pre><code>src=&quot;${properties.hostnameUrl!}${url.resourcesPath}/images/logo.png&quot;\n</code></pre>\n<p>PS: Don't forget to set <em><strong>KC_HOSTNAME_URL</strong></em> (or any env. variable you defined for this purpose) while running your Keycloak.</p>\n"},{"tags":[],"owner":{"account_id":5576691,"reputation":1878,"user_id":4419882,"display_name":"Patrick"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684160098,"creation_date":1684159786,"answer_id":76254968,"question_id":57692616,"body_markdown":"I was dealing with a similar problem on Keycloak version `19.0.3` when I was trying to access an image from the `resources/img` directory of my custom email theme.\r\n\r\nInside `template.ftl`:\r\n```\r\n...\r\n&lt;img src=&quot;${url.resourcesUrl}/img/logo.png&quot;&gt;\r\n...\r\n```\r\ncaused a NPE because `url` was &quot;null or missing&quot; when trying to send a test email or when triggering an email after to a certain Keycloak event.\r\n\r\nI&#39;m unsure why this is the case because I was simply following the [docs][1] for version `19.0.3.` which describe to use `${url.resourcesPath}`.\r\n\r\nThe only thing that resolved my issue was to upgrade Keycloak to version `20.0.0.` (I tested it with `21.1.1.` as well).\r\n\r\nHope this helps someone out as well.\r\n\r\n\r\n  [1]: https://www.keycloak.org/docs/19.0.3/server_development/index.html#adding-an-image-to-a-theme","title":"Keycloak add company logo to the reset password email","body":"<p>I was dealing with a similar problem on Keycloak version <code>19.0.3</code> when I was trying to access an image from the <code>resources/img</code> directory of my custom email theme.</p>\n<p>Inside <code>template.ftl</code>:</p>\n<pre><code>...\n&lt;img src=&quot;${url.resourcesUrl}/img/logo.png&quot;&gt;\n...\n</code></pre>\n<p>caused a NPE because <code>url</code> was &quot;null or missing&quot; when trying to send a test email or when triggering an email after to a certain Keycloak event.</p>\n<p>I'm unsure why this is the case because I was simply following the <a href=\"https://www.keycloak.org/docs/19.0.3/server_development/index.html#adding-an-image-to-a-theme\" rel=\"nofollow noreferrer\">docs</a> for version <code>19.0.3.</code> which describe to use <code>${url.resourcesPath}</code>.</p>\n<p>The only thing that resolved my issue was to upgrade Keycloak to version <code>20.0.0.</code> (I tested it with <code>21.1.1.</code> as well).</p>\n<p>Hope this helps someone out as well.</p>\n"}],"owner":{"account_id":13871758,"reputation":129,"user_id":10014655,"display_name":"javamat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15441,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":6,"score":5,"last_activity_date":1684160098,"creation_date":1566995904,"question_id":57692616,"body_markdown":"I&#39;m trying to display the company logo in the reset password email. \r\nI&#39;ve already checked keycloak docs and found out it&#39;s not supported by them. I also tried encoding an image into base64 but Gmail doesn&#39;t support that. How can i do that?","title":"Keycloak add company logo to the reset password email","body":"<p>I'm trying to display the company logo in the reset password email. \nI've already checked keycloak docs and found out it's not supported by them. I also tried encoding an image into base64 but Gmail doesn't support that. How can i do that?</p>\n"},{"tags":["java","spring-boot","rest","model-view-controller"],"comments":[{"owner":{"account_id":3595426,"reputation":1163,"user_id":3000316,"accept_rate":33,"display_name":"Monkey Supersonic"},"score":0,"creation_date":1518772619,"post_id":48823378,"comment_id":84650234,"body_markdown":"Have you tried changing the method parameter to `Map&lt;String,Map&lt;String,String&gt;&gt;`?","body":"Have you tried changing the method parameter to <code>Map&lt;String,Map&lt;String,String&gt;&gt;</code>?"},{"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"score":0,"creation_date":1518772858,"post_id":48823378,"comment_id":84650360,"body_markdown":"Not helping @MonkeySupersonic","body":"Not helping @MonkeySupersonic"}],"answers":[{"comments":[{"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"score":0,"creation_date":1518775906,"post_id":48823525,"comment_id":84652273,"body_markdown":"OK it worked. But then i wanted to take an integer value along with that. say i want to send Map&lt;String,String&gt; and an Integer. So now its taking that integer as well in the map. Ex. `a=ab&amp;b=bc&amp;integerVal=10`  it takes all 3 in map. i want `a=ab` , `b=bc` and `integer value=10` separately.","body":"OK it worked. But then i wanted to take an integer value along with that. say i want to send Map&lt;String,String&gt; and an Integer. So now its taking that integer as well in the map. Ex. <code>a=ab&amp;b=bc&amp;integerVal=10</code>  it takes all 3 in map. i want <code>a=ab</code> , <code>b=bc</code> and <code>integer value=10</code> separately."},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1518777476,"post_id":48823525,"comment_id":84653293,"body_markdown":"There&#39;s nobody stopping you from adding another `@RequestParam` for the integer separately. But the `Map&lt;String, String&gt;` **always** contains **all** parameters. If you specifically don&#39;t want the `integerValue` to be in there as well, you&#39;ll have to remove it by yourself. Considering that it&#39;s a `Map`, that&#39;s easily done, using `params.remove(&quot;integerValue&quot;)`. However, if you&#39;re looking for a dynamic list of integer parameters as well, then you&#39;ll have to parse those numbers by yourself.","body":"There&#39;s nobody stopping you from adding another <code>@RequestParam</code> for the integer separately. But the <code>Map&lt;String, String&gt;</code> <b>always</b> contains <b>all</b> parameters. If you specifically don&#39;t want the <code>integerValue</code> to be in there as well, you&#39;ll have to remove it by yourself. Considering that it&#39;s a <code>Map</code>, that&#39;s easily done, using <code>params.remove(&quot;integerValue&quot;)</code>. However, if you&#39;re looking for a dynamic list of integer parameters as well, then you&#39;ll have to parse those numbers by yourself."}],"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1518772849,"creation_date":1518772849,"answer_id":48823525,"question_id":48823378,"body_markdown":"This is documented in the [Spring MVC guide][1]:\r\n\r\n&gt; When an `@RequestParam` annotation is declared as `Map&lt;String, String&gt;` or `MultiValueMap&lt;String, String&gt;` argument, the map is populated with all request parameters.\r\n\r\nThis means that the response you currently get is the expected result. The `Map` contains a list of all parameters, and in your case, you only have a single parameter called `param`.\r\n\r\nIf you need a custom parameter mapping, you&#39;ll have to implement it by yourself. Since you&#39;re not using JSON either, you probably have to manually parse the parameter.\r\n\r\nHowever, if your goal is to have a dynamic map of parameters, you can still use the `Map&lt;String, String&gt;`, but you&#39;ll have to change your request into:\r\n\r\n    http://localhost:8080/test?a=abc&amp;b=bcd\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-ann-requestparam","title":"How to send map(key-value pair) as request parameter in a GET call","body":"<p>This is documented in the <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-ann-requestparam\" rel=\"noreferrer\">Spring MVC guide</a>:</p>\n\n<blockquote>\n  <p>When an <code>@RequestParam</code> annotation is declared as <code>Map&lt;String, String&gt;</code> or <code>MultiValueMap&lt;String, String&gt;</code> argument, the map is populated with all request parameters.</p>\n</blockquote>\n\n<p>This means that the response you currently get is the expected result. The <code>Map</code> contains a list of all parameters, and in your case, you only have a single parameter called <code>param</code>.</p>\n\n<p>If you need a custom parameter mapping, you'll have to implement it by yourself. Since you're not using JSON either, you probably have to manually parse the parameter.</p>\n\n<p>However, if your goal is to have a dynamic map of parameters, you can still use the <code>Map&lt;String, String&gt;</code>, but you'll have to change your request into:</p>\n\n<pre><code>http://localhost:8080/test?a=abc&amp;b=bcd\n</code></pre>\n"}],"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30162,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":48823525,"answer_count":1,"score":7,"last_activity_date":1684159966,"creation_date":1518772314,"question_id":48823378,"body_markdown":"Is it possible to send map as parameter in a GET call.? i searched and i could find for list and set collection. But did not find anything for map collection.\r\n\r\nI tried the following,\r\nMy controller method looks like this.\r\n\r\n    @GetMapping(&quot;/test&quot;)\r\n    \tpublic ResponseEntity&lt;?&gt; mapTest(@RequestParam Map&lt;String,String&gt; params) {\r\n    \t\t\r\n    \t\tLOG.info(&quot;inside test with map  &quot;+  params );\r\n    \t\t\t\t\r\n    \t\treturn new ResponseEntity&lt;String&gt;(&quot;MAP&quot;, HttpStatus.OK);\r\n    \t}\r\n\r\nAnd i sent the following request from postman\r\n\r\n    http://localhost:8080/test?params={a:abc,b:bcd}\r\n\r\nEverything works without errors and exceptions. But the map which i received looks like `key=params , value={a:abc,b:bcd}`\r\n\r\nI expected the received map to be like `key1=&quot;a&quot; value1=abc ,key2=&quot;b&quot; value2=&quot;bcd&quot;`","title":"How to send map(key-value pair) as request parameter in a GET call","body":"<p>Is it possible to send map as parameter in a GET call.? i searched and i could find for list and set collection. But did not find anything for map collection.</p>\n\n<p>I tried the following,\nMy controller method looks like this.</p>\n\n<pre><code>@GetMapping(\"/test\")\n    public ResponseEntity&lt;?&gt; mapTest(@RequestParam Map&lt;String,String&gt; params) {\n\n        LOG.info(\"inside test with map  \"+  params );\n\n        return new ResponseEntity&lt;String&gt;(\"MAP\", HttpStatus.OK);\n    }\n</code></pre>\n\n<p>And i sent the following request from postman</p>\n\n<pre><code>http://localhost:8080/test?params={a:abc,b:bcd}\n</code></pre>\n\n<p>Everything works without errors and exceptions. But the map which i received looks like <code>key=params , value={a:abc,b:bcd}</code></p>\n\n<p>I expected the received map to be like <code>key1=\"a\" value1=abc ,key2=\"b\" value2=\"bcd\"</code></p>\n"},{"tags":["java","spring","redis"],"owner":{"account_id":17974901,"reputation":542,"user_id":13062745,"display_name":"zxcisnoias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684159769,"creation_date":1684159769,"question_id":76254961,"body_markdown":"This is how I declare and inject:\r\n```\r\n    private final RedisTemplate redisTemplate;\r\n    @Autowired\r\n    public SomeController(RedisTemplate redisTemplate) {\r\n        this.redisTemplate = redisTemplate;\r\n    }\r\n```\r\n\r\nThis is how I use it:\r\n```\r\nredisTemplate.opsForValue().set(key, dtoList, 60, TimeUnit.MINUTES);\r\n\r\n```\r\nWhere key is of type String, and dtoList is of type List&lt;SomeClass&gt;; &lt;br&gt;\r\nbut the ide complains that ```Unchecked call to &#39;set(K, V, long, TimeUnit)&#39; as a member of raw type &#39;org.springframework.data.redis.core.ValueOperations&#39; ``` when I set the value. &lt;br&gt;&lt;br&gt;\r\n\r\nif instead, ```private final RedisTemplate&lt;String, List&lt;?&gt;&gt; redisTemplate;``` were used, the warning is gone,; But I don&#39;t want to specifically enforce the type because I might be setting values of different types later.\r\n","title":"Raw use of parameterized class &#39;RedisTemplate&#39; warning","body":"<p>This is how I declare and inject:</p>\n<pre><code>    private final RedisTemplate redisTemplate;\n    @Autowired\n    public SomeController(RedisTemplate redisTemplate) {\n        this.redisTemplate = redisTemplate;\n    }\n</code></pre>\n<p>This is how I use it:</p>\n<pre><code>redisTemplate.opsForValue().set(key, dtoList, 60, TimeUnit.MINUTES);\n\n</code></pre>\n<p>Where key is of type String, and dtoList is of type List; <br>\nbut the ide complains that <code>Unchecked call to 'set(K, V, long, TimeUnit)' as a member of raw type 'org.springframework.data.redis.core.ValueOperations' </code> when I set the value. <br><br></p>\n<p>if instead, <code>private final RedisTemplate&lt;String, List&lt;?&gt;&gt; redisTemplate;</code> were used, the warning is gone,; But I don't want to specifically enforce the type because I might be setting values of different types later.</p>\n"},{"tags":["java","mysql","sql-server","hibernate"],"comments":[{"owner":{"account_id":20264817,"reputation":56105,"user_id":14868997,"display_name":"Charlieface"},"score":0,"creation_date":1684156722,"post_id":76254475,"comment_id":134471364,"body_markdown":"`and user_id = :userId` is not correct syntax, you need `and user_id = @userId`","body":"<code>and user_id = :userId</code> is not correct syntax, you need <code>and user_id = @userId</code>"},{"owner":{"account_id":20798008,"reputation":181,"user_id":15274669,"display_name":"majixin"},"score":0,"creation_date":1684156839,"post_id":76254475,"comment_id":134471399,"body_markdown":"This question appears to be a duplicate of: https://stackoverflow.com/questions/8991866/org-hibernate-mappingexception-no-dialect-mapping-for-jdbc-type-9","body":"This question appears to be a duplicate of: <a href=\"https://stackoverflow.com/questions/8991866/org-hibernate-mappingexception-no-dialect-mapping-for-jdbc-type-9\" title=\"org hibernate mappingexception no dialect mapping for jdbc type 9\">stackoverflow.com/questions/8991866/&hellip;</a>"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1684157380,"post_id":76254475,"comment_id":134471532,"body_markdown":"you probably set wrong hibernate settings, you have to use correct dialects for different dbs","body":"you probably set wrong hibernate settings, you have to use correct dialects for different dbs"},{"owner":{"account_id":1089097,"reputation":359,"user_id":1084147,"display_name":"purush"},"score":0,"creation_date":1684157675,"post_id":76254475,"comment_id":134471599,"body_markdown":"@siggemannen \nHere I am using the dialect for SQL Server,\nhibernate.connection.driver_class=com.microsoft.sqlserver.jdbc.SQLServerDriver\nhibernate.dialect=org.hibernate.dialect.SQLServerDialect\n\nFor MySql I am using,\nhibernate.connection.driver_class=com.mysql.jdbc.Driver\nhibernate.dialect=org.hibernate.dialect.MySQLDialect","body":"@siggemannen  Here I am using the dialect for SQL Server, hibernate.connection.driver_class=com.microsoft.sqlserver.jd&zwnj;&#8203;bc.SQLServerDriver hibernate.dialect=org.hibernate.dialect.SQLServerDialect  For MySql I am using, hibernate.connection.driver_class=com.mysql.jdbc.Driver hibernate.dialect=org.hibernate.dialect.MySQLDialect"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1684157845,"post_id":76254475,"comment_id":134471635,"body_markdown":"@purush, add this info to the question instead!","body":"@purush, add this info to the question instead!"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1684160759,"post_id":76254475,"comment_id":134472390,"body_markdown":"i have a feeling you&#39;re doing something wrong, because if ppl had problems using hibernate with NVARCHARs, i&#39;m pretty sure it would be fixed quite quickly. Perhaps your settings aren&#39;t correct.","body":"i have a feeling you&#39;re doing something wrong, because if ppl had problems using hibernate with NVARCHARs, i&#39;m pretty sure it would be fixed quite quickly. Perhaps your settings aren&#39;t correct."}],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684159518,"creation_date":1684159518,"answer_id":76254922,"question_id":76254475,"body_markdown":"Look, you have not given anywhere near enough information to help: \r\n\r\n- Where is the code which calls this query? \r\n- Where are the mapped entities? \r\n\r\n_However_, note that `-9` is the JDBC type code for the SQL type `NVARCHAR`, as defined by `java.sql.Types`.\r\n\r\nNow, SQL Server handles &quot;nationalized&quot; (i.e. Unicode) strings _very differently_ to MySQL. So it&#39;s completely unsurprising when things related to `NVARCHAR` columns behave a bit differently between the two databases.\r\n\r\nThings which affect this in Hibernate include:\r\n\r\n1. the `@Nationalized` annotation, and\r\n2. the setting `hibernate.use_nationalized_character_data`.\r\n\r\nBeyond that there&#39;s not much I can tell you because you have not told us very much.","title":"Query in SQL Server giving error while running the same query with MySql working fine","body":"<p>Look, you have not given anywhere near enough information to help:</p>\n<ul>\n<li>Where is the code which calls this query?</li>\n<li>Where are the mapped entities?</li>\n</ul>\n<p><em>However</em>, note that <code>-9</code> is the JDBC type code for the SQL type <code>NVARCHAR</code>, as defined by <code>java.sql.Types</code>.</p>\n<p>Now, SQL Server handles &quot;nationalized&quot; (i.e. Unicode) strings <em>very differently</em> to MySQL. So it's completely unsurprising when things related to <code>NVARCHAR</code> columns behave a bit differently between the two databases.</p>\n<p>Things which affect this in Hibernate include:</p>\n<ol>\n<li>the <code>@Nationalized</code> annotation, and</li>\n<li>the setting <code>hibernate.use_nationalized_character_data</code>.</li>\n</ol>\n<p>Beyond that there's not much I can tell you because you have not told us very much.</p>\n"}],"owner":{"account_id":1089097,"reputation":359,"user_id":1084147,"display_name":"purush"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684159518,"creation_date":1684156570,"question_id":76254475,"body_markdown":"I have the following query,  and executing through hibernate.\r\n\r\n```\r\nString userIdQueryString = &quot;select distinct user_id from l_catalog_user_object_access  where REPORT_HEADER_ID in (&quot;\r\n\t\t\t\t\t\t+ &quot; select REPORT_HEADER_ID from l_report_header_data &quot;\r\n\t\t\t\t\t\t+ &quot; where report_types_id in (select REPORT_TYPES_ID from l_report_types where display_value like &#39;%Report&#39;) )&quot;\r\n\t\t\t\t\t\t+ &quot; and user_id = :userId&quot;;\t\r\n```\r\n\r\nWhen I have connected to SQL Server, getting below error,\r\n\r\n```\r\norg.hibernate.MappingException: No Dialect mapping for JDBC type: -9\r\n```\r\n\r\nWhen I have connected to MySql, it working fine without any error.\r\n\r\n```\r\nHere I am using the dialect for SQL Server,\r\nhibernate.connection.driver_class=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\nhibernate.dialect=org.hibernate.dialect.SQLServerDialect\r\n\r\nFor MySql I am using,\r\nhibernate.connection.driver_class=com.mysql.jdbc.Driver\r\nhibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n```\r\n\r\nAny help/suggestions.","title":"Query in SQL Server giving error while running the same query with MySql working fine","body":"<p>I have the following query,  and executing through hibernate.</p>\n<pre><code>String userIdQueryString = &quot;select distinct user_id from l_catalog_user_object_access  where REPORT_HEADER_ID in (&quot;\n                        + &quot; select REPORT_HEADER_ID from l_report_header_data &quot;\n                        + &quot; where report_types_id in (select REPORT_TYPES_ID from l_report_types where display_value like '%Report') )&quot;\n                        + &quot; and user_id = :userId&quot;; \n</code></pre>\n<p>When I have connected to SQL Server, getting below error,</p>\n<pre><code>org.hibernate.MappingException: No Dialect mapping for JDBC type: -9\n</code></pre>\n<p>When I have connected to MySql, it working fine without any error.</p>\n<pre><code>Here I am using the dialect for SQL Server,\nhibernate.connection.driver_class=com.microsoft.sqlserver.jdbc.SQLServerDriver\nhibernate.dialect=org.hibernate.dialect.SQLServerDialect\n\nFor MySql I am using,\nhibernate.connection.driver_class=com.mysql.jdbc.Driver\nhibernate.dialect=org.hibernate.dialect.MySQLDialect\n</code></pre>\n<p>Any help/suggestions.</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":8181388,"reputation":2251,"user_id":6158454,"display_name":"Patrick Mcvay"},"score":0,"creation_date":1683565675,"post_id":76199917,"comment_id":134382745,"body_markdown":"Do you have any control over the format that is returned from the API?","body":"Do you have any control over the format that is returned from the API?"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1683586500,"post_id":76199917,"comment_id":134386590,"body_markdown":"Try looking at [Parse a nested JSON using gson](https://stackoverflow.com/q/8233542/16653700).","body":"Try looking at <a href=\"https://stackoverflow.com/q/8233542/16653700\">Parse a nested JSON using gson</a>."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1684076108,"post_id":76199917,"comment_id":134460525,"body_markdown":"Does this answer your question? [Jsonpath with Jackson or Gson](https://stackoverflow.com/questions/34111276/jsonpath-with-jackson-or-gson)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/34111276/jsonpath-with-jackson-or-gson\">Jsonpath with Jackson or Gson</a>"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1684076250,"post_id":76199917,"comment_id":134460538,"body_markdown":"If you want to use your approach of having model classes, you can probably change the type of `results` to `Map&lt;String, List&lt;ZipcodeResult&gt;&gt;`, where the map keys are the ZIP codes, such as `&quot;94016&quot;`","body":"If you want to use your approach of having model classes, you can probably change the type of <code>results</code> to <code>Map&lt;String, List&lt;ZipcodeResult&gt;&gt;</code>, where the map keys are the ZIP codes, such as <code>&quot;94016&quot;</code>"}],"owner":{"account_id":11865637,"reputation":33,"user_id":8683235,"display_name":"Wes Graham"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684158978,"creation_date":1683543696,"question_id":76199917,"body_markdown":"I have some JSON text from an API that will always come in this format.\r\n```json\r\n{\r\n    &quot;query&quot;: {\r\n        &quot;codes&quot;: [\r\n            &quot;94016&quot;\r\n        ],\r\n        &quot;country&quot;: &quot;US&quot;\r\n    },\r\n    &quot;results&quot;: {\r\n        &quot;94016&quot;: [\r\n            {\r\n                &quot;postal_code&quot;: &quot;94016&quot;,\r\n                &quot;country_code&quot;: &quot;US&quot;,\r\n                &quot;latitude&quot;: &quot;37.70580000&quot;,\r\n                &quot;longitude&quot;: &quot;-122.46190000&quot;,\r\n                &quot;city&quot;: &quot;Daly City&quot;,\r\n                &quot;state&quot;: &quot;California&quot;,\r\n                &quot;city_en&quot;: &quot;Daly City&quot;,\r\n                &quot;state_en&quot;: &quot;California&quot;,\r\n                &quot;state_code&quot;: &quot;CA&quot;,\r\n                &quot;province&quot;: &quot;San Mateo&quot;,\r\n                &quot;province_code&quot;: &quot;081&quot;\r\n            }\r\n        ]\r\n    }\r\n}\r\n```\r\nThe above code block shows the output for using 94016 as a zip code. I&#39;m only concerned with the city key and the value associated with it. For this example, the only text I want to return is &quot;Daly City&quot; without the quotes.\r\n\r\nI created 2 classes for using Gson later in my project with the following code:\r\n\r\n```java\r\npublic class ZipcodeResponse {\r\n    ZipcodeResult[] results;\r\n}\r\n    \r\n```\r\n\r\n```java\r\npublic class ZipcodeResult {\r\n    String[] ???;\r\n}\r\n```\r\nMy first problem is that I&#39;m not sure what to call my string array (presumably I would name it whatever zip code is searched), since the zipcode will be different each time and the value for it is stored in another class while the program executes. If there&#39;s a way I can skip over this value and only get the city, then that would be awesome.","title":"Is there a way to access nested values stored in JSON using Gson?","body":"<p>I have some JSON text from an API that will always come in this format.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;query&quot;: {\n        &quot;codes&quot;: [\n            &quot;94016&quot;\n        ],\n        &quot;country&quot;: &quot;US&quot;\n    },\n    &quot;results&quot;: {\n        &quot;94016&quot;: [\n            {\n                &quot;postal_code&quot;: &quot;94016&quot;,\n                &quot;country_code&quot;: &quot;US&quot;,\n                &quot;latitude&quot;: &quot;37.70580000&quot;,\n                &quot;longitude&quot;: &quot;-122.46190000&quot;,\n                &quot;city&quot;: &quot;Daly City&quot;,\n                &quot;state&quot;: &quot;California&quot;,\n                &quot;city_en&quot;: &quot;Daly City&quot;,\n                &quot;state_en&quot;: &quot;California&quot;,\n                &quot;state_code&quot;: &quot;CA&quot;,\n                &quot;province&quot;: &quot;San Mateo&quot;,\n                &quot;province_code&quot;: &quot;081&quot;\n            }\n        ]\n    }\n}\n</code></pre>\n<p>The above code block shows the output for using 94016 as a zip code. I'm only concerned with the city key and the value associated with it. For this example, the only text I want to return is &quot;Daly City&quot; without the quotes.</p>\n<p>I created 2 classes for using Gson later in my project with the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ZipcodeResponse {\n    ZipcodeResult[] results;\n}\n    \n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class ZipcodeResult {\n    String[] ???;\n}\n</code></pre>\n<p>My first problem is that I'm not sure what to call my string array (presumably I would name it whatever zip code is searched), since the zipcode will be different each time and the value for it is stored in another class while the program executes. If there's a way I can skip over this value and only get the city, then that would be awesome.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":6634565,"reputation":617,"user_id":5122077,"accept_rate":56,"display_name":"JavaLearner1"},"score":0,"creation_date":1684159439,"post_id":76254830,"comment_id":134472053,"body_markdown":"can you try with @Qualifier annotation along with Autowired, \n     Qualifier(TypeB.class)\n     List&lt;IValue&lt;TypeB&gt;&gt; values;","body":"can you try with @Qualifier annotation along with Autowired,       Qualifier(TypeB.class)      List&lt;IValue&lt;TypeB&gt;&gt; values;"},{"owner":{"account_id":23417359,"reputation":25,"user_id":17478118,"display_name":"JavaStudent"},"score":0,"creation_date":1684159731,"post_id":76254830,"comment_id":134472135,"body_markdown":"In truth my actual problem has multiple generic types, I&#39;m not sure how to qualify that.","body":"In truth my actual problem has multiple generic types, I&#39;m not sure how to qualify that."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1684163691,"post_id":76254830,"comment_id":134473159,"body_markdown":"A guess, but how about `List&lt;? extends IValue&lt;TypeB&gt;&gt;`?","body":"A guess, but how about <code>List&lt;? extends IValue&lt;TypeB&gt;&gt;</code>?"}],"owner":{"account_id":23417359,"reputation":25,"user_id":17478118,"display_name":"JavaStudent"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684158839,"creation_date":1684158839,"question_id":76254830,"body_markdown":"Suppose I have an interface\r\n\r\n```\r\npublic interface IType {}\r\npublic class TypeA implements IType {}\r\npublic class TypeB implements IType {}\r\n```\r\n\r\nAnd another interface of which the above interface is a generic type\r\n\r\n```\r\npublic interface IValue&lt;T extends IType&gt; {}\r\n\r\n@Component public class ValueA&lt;T extends IType&gt; implements IValue&lt;T&gt; {}\r\n@Component public class ValueB&lt;T extends IType&gt; implements IValue&lt;T&gt; {}\r\n```\r\n\r\nAnd finally a class which uses these\r\n\r\n```\r\n@Component\r\npublic class DoThings\r\n{\r\n    @Autowired\r\n    List&lt;IValue&lt;TypeB&gt;&gt; values;\r\n}\r\n```\r\n\r\nSpring throws a `NoSuchBeanDefinitionException` and doesn&#39;t seem to be finding the beans. What have I missed?","title":"Autowiring a list of Java generic classes","body":"<p>Suppose I have an interface</p>\n<pre><code>public interface IType {}\npublic class TypeA implements IType {}\npublic class TypeB implements IType {}\n</code></pre>\n<p>And another interface of which the above interface is a generic type</p>\n<pre><code>public interface IValue&lt;T extends IType&gt; {}\n\n@Component public class ValueA&lt;T extends IType&gt; implements IValue&lt;T&gt; {}\n@Component public class ValueB&lt;T extends IType&gt; implements IValue&lt;T&gt; {}\n</code></pre>\n<p>And finally a class which uses these</p>\n<pre><code>@Component\npublic class DoThings\n{\n    @Autowired\n    List&lt;IValue&lt;TypeB&gt;&gt; values;\n}\n</code></pre>\n<p>Spring throws a <code>NoSuchBeanDefinitionException</code> and doesn't seem to be finding the beans. What have I missed?</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-data-jpa"],"owner":{"account_id":28604849,"reputation":1,"user_id":21901006,"display_name":"Aone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684158809,"creation_date":1684158809,"question_id":76254826,"body_markdown":"I have a task. Create a web application similar to a REST employee directory stored in an embedded database. Each employee record should include information of his department and his manager. Manager&#39;s manager should be usually null.If parameter named full_chain exists and is set to true then full manager chain should be written (include employee`s manager, manager of manager, manager of manager of manager and so on up to the organization head).\r\n\r\nEmployee class\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;EMPLOYEE&quot;)\r\npublic class Employee {\r\n    @Id\r\n    @Column(name = &quot;ID&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    @Embedded\r\n    @AttributeOverrides({\r\n            @AttributeOverride( name = &quot;firstName&quot;, column = @Column(name = &quot;FIRSTNAME&quot;)),\r\n            @AttributeOverride( name = &quot;lastName&quot;, column = @Column(name = &quot;LASTNAME&quot;)),\r\n            @AttributeOverride( name = &quot;middleName&quot;, column = @Column(name = &quot;MIDDLENAME&quot;))\r\n    })\r\n    private FullName fullName;\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name=&quot;POSITION&quot;)\r\n    private Position position;\r\n    @Column(name=&quot;HIREDATE&quot;)\r\n    private LocalDate hired;\r\n    @Column(name=&quot;SALARY&quot;)\r\n    private BigDecimal salary;\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;manager&quot;)\r\n    private Employee manager;\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;department&quot;)\r\n    private Department department;\r\n```\r\nSQL schema\r\n\r\n```\r\nCREATE TABLE DEPARTMENT\r\n(\r\n    ID       INTEGER PRIMARY KEY,\r\n    NAME     VARCHAR(14),\r\n    LOCATION VARCHAR(13)\r\n);\r\nCREATE TABLE EMPLOYEE\r\n(\r\n    ID         INTEGER PRIMARY KEY,\r\n    FIRSTNAME  VARCHAR(10),\r\n    LASTNAME   VARCHAR(10),\r\n    MIDDLENAME VARCHAR(10),\r\n    POSITION   VARCHAR(9),\r\n    MANAGER    INTEGER,\r\n    HIREDATE   DATE,\r\n    SALARY     DOUBLE,\r\n    DEPARTMENT INTEGER,\r\n    CONSTRAINT FK_DEPTNO FOREIGN KEY (DEPARTMENT) REFERENCES DEPARTMENT (ID),\r\n    CONSTRAINT FK_EMPNO FOREIGN KEY (MANAGER) REFERENCES EMPLOYEE (ID)\r\n);\r\nCOMMIT;\r\n```\r\nImplemented via PagingAndSortingRepository. Now Employees are displayed with full_chain parameters. How do I set up the class config so that the Employee&#39;s manager does not have a manager.\r\nOutput example\r\n\r\n```\r\n{\r\n  &quot;id&quot;: 7698,\r\n  &quot;fullName&quot;: {\r\n    &quot;firstName&quot;: &quot;JOHN&quot;,\r\n    &quot;lastName&quot;: &quot;BLAKE&quot;,\r\n    &quot;middleName&quot;: &quot;MARIA&quot;\r\n  },\r\n  &quot;position&quot;: &quot;MANAGER&quot;,\r\n  &quot;hired&quot;: &quot;1981-05-01&quot;,\r\n  &quot;salary&quot;: 2850.00000,\r\n  &quot;manager&quot;: {\r\n    &quot;id&quot;: 7839,\r\n    &quot;fullName&quot;: {\r\n      &quot;firstName&quot;: &quot;JOHN&quot;,\r\n      &quot;lastName&quot;: &quot;KING&quot;,\r\n      &quot;middleName&quot;: &quot;MARIA&quot;\r\n    },\r\n    &quot;position&quot;: &quot;PRESIDENT&quot;,\r\n    &quot;hired&quot;: &quot;1981-11-17&quot;,\r\n    &quot;salary&quot;: 5000.00000,\r\n    &quot;manager&quot;: null,\r\n    &quot;department&quot;: null\r\n  },\r\n  &quot;department&quot;: {\r\n    &quot;id&quot;: 30,\r\n    &quot;fullName&quot;: &quot;SALES&quot;,\r\n    &quot;position&quot;: &quot;CHICAGO&quot;\r\n  }\r\n}\r\n```\r\n","title":"Spring Data JPA. How to stop a recursive query?","body":"<p>I have a task. Create a web application similar to a REST employee directory stored in an embedded database. Each employee record should include information of his department and his manager. Manager's manager should be usually null.If parameter named full_chain exists and is set to true then full manager chain should be written (include employee`s manager, manager of manager, manager of manager of manager and so on up to the organization head).</p>\n<p>Employee class</p>\n<pre><code>@Entity\n@Table(name = &quot;EMPLOYEE&quot;)\npublic class Employee {\n    @Id\n    @Column(name = &quot;ID&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Embedded\n    @AttributeOverrides({\n            @AttributeOverride( name = &quot;firstName&quot;, column = @Column(name = &quot;FIRSTNAME&quot;)),\n            @AttributeOverride( name = &quot;lastName&quot;, column = @Column(name = &quot;LASTNAME&quot;)),\n            @AttributeOverride( name = &quot;middleName&quot;, column = @Column(name = &quot;MIDDLENAME&quot;))\n    })\n    private FullName fullName;\n    @Enumerated(EnumType.STRING)\n    @Column(name=&quot;POSITION&quot;)\n    private Position position;\n    @Column(name=&quot;HIREDATE&quot;)\n    private LocalDate hired;\n    @Column(name=&quot;SALARY&quot;)\n    private BigDecimal salary;\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;manager&quot;)\n    private Employee manager;\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;department&quot;)\n    private Department department;\n</code></pre>\n<p>SQL schema</p>\n<pre><code>CREATE TABLE DEPARTMENT\n(\n    ID       INTEGER PRIMARY KEY,\n    NAME     VARCHAR(14),\n    LOCATION VARCHAR(13)\n);\nCREATE TABLE EMPLOYEE\n(\n    ID         INTEGER PRIMARY KEY,\n    FIRSTNAME  VARCHAR(10),\n    LASTNAME   VARCHAR(10),\n    MIDDLENAME VARCHAR(10),\n    POSITION   VARCHAR(9),\n    MANAGER    INTEGER,\n    HIREDATE   DATE,\n    SALARY     DOUBLE,\n    DEPARTMENT INTEGER,\n    CONSTRAINT FK_DEPTNO FOREIGN KEY (DEPARTMENT) REFERENCES DEPARTMENT (ID),\n    CONSTRAINT FK_EMPNO FOREIGN KEY (MANAGER) REFERENCES EMPLOYEE (ID)\n);\nCOMMIT;\n</code></pre>\n<p>Implemented via PagingAndSortingRepository. Now Employees are displayed with full_chain parameters. How do I set up the class config so that the Employee's manager does not have a manager.\nOutput example</p>\n<pre><code>{\n  &quot;id&quot;: 7698,\n  &quot;fullName&quot;: {\n    &quot;firstName&quot;: &quot;JOHN&quot;,\n    &quot;lastName&quot;: &quot;BLAKE&quot;,\n    &quot;middleName&quot;: &quot;MARIA&quot;\n  },\n  &quot;position&quot;: &quot;MANAGER&quot;,\n  &quot;hired&quot;: &quot;1981-05-01&quot;,\n  &quot;salary&quot;: 2850.00000,\n  &quot;manager&quot;: {\n    &quot;id&quot;: 7839,\n    &quot;fullName&quot;: {\n      &quot;firstName&quot;: &quot;JOHN&quot;,\n      &quot;lastName&quot;: &quot;KING&quot;,\n      &quot;middleName&quot;: &quot;MARIA&quot;\n    },\n    &quot;position&quot;: &quot;PRESIDENT&quot;,\n    &quot;hired&quot;: &quot;1981-11-17&quot;,\n    &quot;salary&quot;: 5000.00000,\n    &quot;manager&quot;: null,\n    &quot;department&quot;: null\n  },\n  &quot;department&quot;: {\n    &quot;id&quot;: 30,\n    &quot;fullName&quot;: &quot;SALES&quot;,\n    &quot;position&quot;: &quot;CHICAGO&quot;\n  }\n}\n</code></pre>\n"},{"tags":["java","kotlin","exception","ktor","ktor-client"],"comments":[{"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1684164955,"post_id":76254805,"comment_id":134473538,"body_markdown":"What problem are you facing if you just don&#39;t do anything?","body":"What problem are you facing if you just don&#39;t do anything?"},{"owner":{"account_id":19118793,"reputation":5178,"user_id":13963150,"display_name":"Aleksei Tirman"},"score":0,"creation_date":1684398702,"post_id":76254805,"comment_id":134513113,"body_markdown":"I think the solution with wrapping into the `RuntimeException` is fine as long as you can access an original exception.","body":"I think the solution with wrapping into the <code>RuntimeException</code> is fine as long as you can access an original exception."}],"owner":{"account_id":9702664,"reputation":705,"user_id":7197120,"display_name":"chriptus13"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684158637,"creation_date":1684158637,"question_id":76254805,"body_markdown":"I&#39;m currently developing/using a library which uses Ktor HTTP client to expose common functions for calling other services. \r\n\r\nThe thing is I&#39;m calling this library from Java and I know Ktor calls (eg.: `httpClient.post(...)`) may throw some exceptions that are checked in Java. \r\n\r\nThe easy approach is to annotate all my functions with [`@Throws`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-throws/) and specify which checked exceptions the function may throw (where [Kotlin does not care about checked exceptions](https://kotlinlang.org/docs/exceptions.html#checked-exceptions)).\r\n\r\nInstead of this I wanted to understand if it would make sense to use a response exception handler ([ref](https://api.ktor.io/ktor-client/ktor-client-core/io.ktor.client.plugins/-http-call-validator/-config/index.html#1007054276%2FFunctions%2F-1897681819)) and wrap all checked exceptions into `RuntimeException`s.\r\n\r\nSomething like the following:\r\n\r\n```kotlin\r\nval httpClient = HttpClient {\r\n    install(HttpCallValidator) {\r\n        handleResponseExceptionWithRequest { ex, _ -&gt;\r\n            if(ex !is RuntimeException) throw RuntimeException(ex)\r\n        }\r\n    }\r\n}\r\n```","title":"Calling Ktor client from java - checked exceptions","body":"<p>I'm currently developing/using a library which uses Ktor HTTP client to expose common functions for calling other services.</p>\n<p>The thing is I'm calling this library from Java and I know Ktor calls (eg.: <code>httpClient.post(...)</code>) may throw some exceptions that are checked in Java.</p>\n<p>The easy approach is to annotate all my functions with <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-throws/\" rel=\"nofollow noreferrer\"><code>@Throws</code></a> and specify which checked exceptions the function may throw (where <a href=\"https://kotlinlang.org/docs/exceptions.html#checked-exceptions\" rel=\"nofollow noreferrer\">Kotlin does not care about checked exceptions</a>).</p>\n<p>Instead of this I wanted to understand if it would make sense to use a response exception handler (<a href=\"https://api.ktor.io/ktor-client/ktor-client-core/io.ktor.client.plugins/-http-call-validator/-config/index.html#1007054276%2FFunctions%2F-1897681819\" rel=\"nofollow noreferrer\">ref</a>) and wrap all checked exceptions into <code>RuntimeException</code>s.</p>\n<p>Something like the following:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val httpClient = HttpClient {\n    install(HttpCallValidator) {\n        handleResponseExceptionWithRequest { ex, _ -&gt;\n            if(ex !is RuntimeException) throw RuntimeException(ex)\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684158522,"creation_date":1684157734,"answer_id":76254650,"question_id":76253700,"body_markdown":"The correct query would be:\r\n\r\n\r\n```hql\r\nSELECT m\r\nFROM Member m\r\nWHERE m.disabledOn IS NULL\r\n  AND ROLE_CONSUMER member of m.roles\r\n```\r\n\r\nBut due to a bug in the query translator this does not work in the current release.\r\n\r\nThe workaround solution is:\r\n\r\n```hql\r\nSELECT m\r\nFROM Member m\r\nWHERE m.disabledOn IS NULL\r\n  AND &#39;ROLE_CONSUMER&#39; member of m.roles\r\n```\r\n\r\n### UPDATE\r\n\r\nIssue is here: &lt;https://hibernate.atlassian.net/browse/HHH-16604&gt;\r\n\r\nI already have a partial fix here: https://github.com/hibernate/hibernate-orm/pull/6573","title":"Set&lt;Enum&gt; attribute in JPQL query returns exception at runtime","body":"<p>The correct query would be:</p>\n<pre><code>SELECT m\nFROM Member m\nWHERE m.disabledOn IS NULL\n  AND ROLE_CONSUMER member of m.roles\n</code></pre>\n<p>But due to a bug in the query translator this does not work in the current release.</p>\n<p>The workaround solution is:</p>\n<pre><code>SELECT m\nFROM Member m\nWHERE m.disabledOn IS NULL\n  AND 'ROLE_CONSUMER' member of m.roles\n</code></pre>\n<h3>UPDATE</h3>\n<p>Issue is here: <a href=\"https://hibernate.atlassian.net/browse/HHH-16604\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-16604</a></p>\n<p>I already have a partial fix here: <a href=\"https://github.com/hibernate/hibernate-orm/pull/6573\" rel=\"nofollow noreferrer\">https://github.com/hibernate/hibernate-orm/pull/6573</a></p>\n"}],"owner":{"account_id":81885,"reputation":487,"user_id":230638,"accept_rate":82,"display_name":"Jasper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76254650,"answer_count":1,"score":0,"last_activity_date":1684158522,"creation_date":1684150915,"question_id":76253700,"body_markdown":"I migrated an application from Spring Boot 2 to Spring Boot 3. It worked before, but now I have a problem.\r\nGiven an entity with this attribute:\r\n\r\n```\r\n    @JsonIgnore\r\n    @ElementCollection(fetch = EAGER)\r\n    @CollectionTable(name = &quot;MEMBER_ROLES&quot;, joinColumns = @JoinColumn(name = &quot;MEMBER_ID&quot;))\r\n    @Column(name = &quot;AUTHORITY&quot;)\r\n    @Enumerated(STRING)\r\n    private Set&lt;MemberRoleType&gt; roles;\r\n```\r\n\r\nWhen this query is executed:\r\n\r\n```\r\n    @Query(&quot;&quot;&quot;\r\n        SELECT m\r\n        FROM Member m\r\n        WHERE m.disabledOn IS NULL\r\n            AND m.roles = eu.company.backend.model.domain.enumeration.MemberRoleType.ROLE_CONSUMER \r\n        &quot;&quot;&quot;)\r\n    Set&lt;Member&gt; findActiveMembers();\r\n```\r\n\r\nThen this exception occurs, that google doesn&#39;t know about:\r\n\r\n```\r\n2023-05-15 13:31:59,109 ERROR [http-nio-8888-exec-1] [] o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class org.hibernate.metamodel.mapping.internal.PluralAttributeMappingImpl cannot be cast to class org.hibernate.metamodel.mapping.BasicValuedMapping (org.hibernate.metamodel.mapping.internal.PluralAttributeMappingImpl and org.hibernate.metamodel.mapping.BasicValuedMapping are in unnamed module of loader &#39;app&#39;)] with root cause\r\njava.lang.ClassCastException: class org.hibernate.metamodel.mapping.internal.PluralAttributeMappingImpl cannot be cast to class org.hibernate.metamodel.mapping.BasicValuedMapping (org.hibernate.metamodel.mapping.internal.PluralAttributeMappingImpl and org.hibernate.metamodel.mapping.BasicValuedMapping are in unnamed module of loader &#39;app&#39;)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitEnumLiteral(BaseSqmToSqlAstConverter.java:6290)\r\n\tat org.hibernate.query.sqm.tree.expression.SqmEnumLiteral.accept(SqmEnumLiteral.java:150)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitComparisonPredicate(BaseSqmToSqlAstConverter.java:6557)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitComparisonPredicate(BaseSqmToSqlAstConverter.java:416)\r\n\tat org.hibernate.query.sqm.tree.predicate.SqmComparisonPredicate.accept(SqmComparisonPredicate.java:104)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitJunctionPredicate(BaseSqmToSqlAstConverter.java:6364)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitJunctionPredicate(BaseSqmToSqlAstConverter.java:416)\r\n\tat org.hibernate.query.sqm.tree.predicate.SqmJunctionPredicate.accept(SqmJunctionPredicate.java:74)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitWhereClause(BaseSqmToSqlAstConverter.java:2276)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQuerySpec(BaseSqmToSqlAstConverter.java:1823)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQuerySpec(BaseSqmToSqlAstConverter.java:416)\r\n\tat org.hibernate.query.sqm.tree.select.SqmQuerySpec.accept(SqmQuerySpec.java:122)\r\n\tat org.hibernate.query.sqm.spi.BaseSemanticQueryWalker.visitQueryPart(BaseSemanticQueryWalker.java:213)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQueryPart(BaseSqmToSqlAstConverter.java:1679)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectStatement(BaseSqmToSqlAstConverter.java:1477)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectStatement(BaseSqmToSqlAstConverter.java:416)\r\n\tat org.hibernate.query.sqm.tree.select.SqmSelectStatement.accept(SqmSelectStatement.java:213)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.translate(BaseSqmToSqlAstConverter.java:711)\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.buildCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:380)\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:300)\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:276)\r\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:571)\r\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:363)\r\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.list(QuerySqmImpl.java:1073)\r\n\tat org.hibernate.query.Query.getResultList(Query.java:94)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:127)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:148)\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:136)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:390)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:134)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy202.findActiveMembers(Unknown Source)\r\n\tat eu.company.backend.service.LoyaltyService.recalculateLoyaltyPointsAndTiers(LoyaltyService.java:97)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\r\n```\r\n\r\nI already tried variations like this, but didn&#39;t help.\r\n\r\n```\r\neu.company.backend.model.domain.enumeration.MemberRoleType.ROLE_CONSUMER MEMBER OF m.roles\r\n```\r\n\r\nWhat can be wrong?","title":"Set&lt;Enum&gt; attribute in JPQL query returns exception at runtime","body":"<p>I migrated an application from Spring Boot 2 to Spring Boot 3. It worked before, but now I have a problem.\nGiven an entity with this attribute:</p>\n<pre><code>    @JsonIgnore\n    @ElementCollection(fetch = EAGER)\n    @CollectionTable(name = &quot;MEMBER_ROLES&quot;, joinColumns = @JoinColumn(name = &quot;MEMBER_ID&quot;))\n    @Column(name = &quot;AUTHORITY&quot;)\n    @Enumerated(STRING)\n    private Set&lt;MemberRoleType&gt; roles;\n</code></pre>\n<p>When this query is executed:</p>\n<pre><code>    @Query(&quot;&quot;&quot;\n        SELECT m\n        FROM Member m\n        WHERE m.disabledOn IS NULL\n            AND m.roles = eu.company.backend.model.domain.enumeration.MemberRoleType.ROLE_CONSUMER \n        &quot;&quot;&quot;)\n    Set&lt;Member&gt; findActiveMembers();\n</code></pre>\n<p>Then this exception occurs, that google doesn't know about:</p>\n<pre><code>2023-05-15 13:31:59,109 ERROR [http-nio-8888-exec-1] [] o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class org.hibernate.metamodel.mapping.internal.PluralAttributeMappingImpl cannot be cast to class org.hibernate.metamodel.mapping.BasicValuedMapping (org.hibernate.metamodel.mapping.internal.PluralAttributeMappingImpl and org.hibernate.metamodel.mapping.BasicValuedMapping are in unnamed module of loader 'app')] with root cause\njava.lang.ClassCastException: class org.hibernate.metamodel.mapping.internal.PluralAttributeMappingImpl cannot be cast to class org.hibernate.metamodel.mapping.BasicValuedMapping (org.hibernate.metamodel.mapping.internal.PluralAttributeMappingImpl and org.hibernate.metamodel.mapping.BasicValuedMapping are in unnamed module of loader 'app')\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitEnumLiteral(BaseSqmToSqlAstConverter.java:6290)\n    at org.hibernate.query.sqm.tree.expression.SqmEnumLiteral.accept(SqmEnumLiteral.java:150)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitComparisonPredicate(BaseSqmToSqlAstConverter.java:6557)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitComparisonPredicate(BaseSqmToSqlAstConverter.java:416)\n    at org.hibernate.query.sqm.tree.predicate.SqmComparisonPredicate.accept(SqmComparisonPredicate.java:104)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitJunctionPredicate(BaseSqmToSqlAstConverter.java:6364)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitJunctionPredicate(BaseSqmToSqlAstConverter.java:416)\n    at org.hibernate.query.sqm.tree.predicate.SqmJunctionPredicate.accept(SqmJunctionPredicate.java:74)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitWhereClause(BaseSqmToSqlAstConverter.java:2276)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQuerySpec(BaseSqmToSqlAstConverter.java:1823)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQuerySpec(BaseSqmToSqlAstConverter.java:416)\n    at org.hibernate.query.sqm.tree.select.SqmQuerySpec.accept(SqmQuerySpec.java:122)\n    at org.hibernate.query.sqm.spi.BaseSemanticQueryWalker.visitQueryPart(BaseSemanticQueryWalker.java:213)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQueryPart(BaseSqmToSqlAstConverter.java:1679)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectStatement(BaseSqmToSqlAstConverter.java:1477)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectStatement(BaseSqmToSqlAstConverter.java:416)\n    at org.hibernate.query.sqm.tree.select.SqmSelectStatement.accept(SqmSelectStatement.java:213)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.translate(BaseSqmToSqlAstConverter.java:711)\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.buildCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:380)\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:300)\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:276)\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:571)\n    at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:363)\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.list(QuerySqmImpl.java:1073)\n    at org.hibernate.query.Query.getResultList(Query.java:94)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:127)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:148)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:136)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:390)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:134)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\n    at jdk.proxy3/jdk.proxy3.$Proxy202.findActiveMembers(Unknown Source)\n    at eu.company.backend.service.LoyaltyService.recalculateLoyaltyPointsAndTiers(LoyaltyService.java:97)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n\n</code></pre>\n<p>I already tried variations like this, but didn't help.</p>\n<pre><code>eu.company.backend.model.domain.enumeration.MemberRoleType.ROLE_CONSUMER MEMBER OF m.roles\n</code></pre>\n<p>What can be wrong?</p>\n"},{"tags":["java","maven","selenium-webdriver","github-actions","allure"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1684152362,"post_id":76253565,"comment_id":134470311,"body_markdown":"Just a suggestion but from my experience, usually it requires that you create the folder allure-results and chmod it as well in a step prior to writting to it.\n\nAt least this is how it is done when using our self-hosted runners, but it is worth a try.","body":"Just a suggestion but from my experience, usually it requires that you create the folder allure-results and chmod it as well in a step prior to writting to it.  At least this is how it is done when using our self-hosted runners, but it is worth a try."},{"owner":{"account_id":5276537,"reputation":5302,"user_id":4213132,"accept_rate":86,"display_name":"Helping Hands"},"score":0,"creation_date":1684152897,"post_id":76253565,"comment_id":134470450,"body_markdown":"@JCompetence - Can you please share some reference how to do that? As I am not much good on yml and linux commands.","body":"@JCompetence - Can you please share some reference how to do that? As I am not much good on yml and linux commands."}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684157964,"creation_date":1684157964,"answer_id":76254695,"question_id":76253565,"body_markdown":"Try to add the step:\r\n\r\n **- name: Update allure-results folder permissions**\r\n\r\nas shown below.\r\n\r\n\r\n\r\njobs:\r\n  build:\r\n\r\n    runs-on: ubuntu-latest\r\n\r\n    steps:\r\n    - uses: actions/checkout@v3\r\n    - name: Set up JDK 11\r\n      uses: actions/setup-java@v3\r\n      with:\r\n        java-version: &#39;11&#39;\r\n        distribution: &#39;temurin&#39;\r\n        cache: maven\r\n    - name: Install Google Chrome #Using shell script to install Google Chrome\r\n      run:   |\r\n              chmod +x ./scripts/InstallChrome.sh\r\n                          ./scripts/InstallChrome.sh\r\n                          \r\n    - name: Build with Maven\r\n      run: mvn test -P placeOrder_stage -Denv=stage\r\n\r\n\r\n\r\n\r\n\r\n    - name: Update allure-results folder permissions\r\n      run: |\r\n             mkdir -p allure-results/Reports/\r\n             chmod 777 -R allure-results/Reports/\r\n                \r\n\r\n\r\n\r\n\r\n\r\n    - name: Test marketplace action\r\n      uses: simple-elf/allure-report-action@master\r\n      if: always()\r\n      id: allure-report\r\n      with:\r\n        allure_results: allure-results/Reports/*\r\n        gh_pages: gh-pages\r\n        allure_report: allure-report\r\n        allure_history: allure-history\r\n\r\n\r\n    - name: Deploy report to Github Pages\r\n      if: always()\r\n      uses: peaceiris/actions-gh-pages@v2\r\n      env:\r\n        PERSONAL_TOKEN: ${{ secrets.GITHUB_TOKEN }}\r\n        PUBLISH_BRANCH: gh-pages\r\n        PUBLISH_DIR: allure-history","title":"Github Actions - Getting Could not Write Error on Allure Report","body":"<p>Try to add the step:</p>\n<p><strong>- name: Update allure-results folder permissions</strong></p>\n<p>as shown below.</p>\n<p>jobs:\nbuild:</p>\n<pre><code>runs-on: ubuntu-latest\n\nsteps:\n- uses: actions/checkout@v3\n- name: Set up JDK 11\n  uses: actions/setup-java@v3\n  with:\n    java-version: '11'\n    distribution: 'temurin'\n    cache: maven\n- name: Install Google Chrome #Using shell script to install Google Chrome\n  run:   |\n          chmod +x ./scripts/InstallChrome.sh\n                      ./scripts/InstallChrome.sh\n                      \n- name: Build with Maven\n  run: mvn test -P placeOrder_stage -Denv=stage\n\n\n\n\n\n- name: Update allure-results folder permissions\n  run: |\n         mkdir -p allure-results/Reports/\n         chmod 777 -R allure-results/Reports/\n            \n\n\n\n\n\n- name: Test marketplace action\n  uses: simple-elf/allure-report-action@master\n  if: always()\n  id: allure-report\n  with:\n    allure_results: allure-results/Reports/*\n    gh_pages: gh-pages\n    allure_report: allure-report\n    allure_history: allure-history\n\n\n- name: Deploy report to Github Pages\n  if: always()\n  uses: peaceiris/actions-gh-pages@v2\n  env:\n    PERSONAL_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n    PUBLISH_BRANCH: gh-pages\n    PUBLISH_DIR: allure-history\n</code></pre>\n"}],"owner":{"account_id":5276537,"reputation":5302,"user_id":4213132,"accept_rate":86,"display_name":"Helping Hands"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684157964,"creation_date":1684149808,"question_id":76253565,"body_markdown":"I am having project where it is using following : \r\n\r\n1. Java - 11\r\n2. Maven\r\n3. TestNG\r\n4. Selenium Webdriver\r\n5. Allure Report\r\n\r\nEverything works fine on local machine but when I run on Github actions , I am getting error and allure report is not being generated.\r\n\r\nError is : \r\n\r\n     io.qameta.allure.AllureResultsWriteException: Could not write Allure test result container\r\n    Error:  \tat io.qameta.allure.FileSystemResultsWriter.write(FileSystemResultsWriter.java:68)\r\n    Error:  \tat io.qameta.allure.AllureLifecycle.writeTestContainer(AllureLifecycle.java:170)\r\n    Error:  \tat io.qameta.allure.testng.AllureTestNg.onFinish(AllureTestNg.java:195)\r\n    Error:  \tat org.testng.SuiteRunner.invokeListeners(SuiteRunner.java:269)\r\n    Error:  \tat org.testng.SuiteRunner.run(SuiteRunner.java:332)\r\n    Error:  \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n    Error:  \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n    Error:  \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\r\n    Error:  \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\r\n    Error:  \tat org.testng.TestNG.runSuites(TestNG.java:1099)\r\n    Error:  \tat org.testng.TestNG.run(TestNG.java:1067)\r\n    Error:  \tat org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:295)\r\n    Error:  \tat org.apache.maven.surefire.testng.TestNGXmlTestSuite.execute(TestNGXmlTestSuite.java:84)\r\n    Error:  \tat org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:90)\r\n    Error:  \tat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)\r\n    Error:  \tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)\r\n    Error:  \tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)\r\n    Error:  Caused by: java.io.FileNotFoundException: allure-results/94d424ca-48b8-454e-b49d-d398a77c5cab-container.json (Permission denied)\r\n    Error:  \tat java.base/java.io.FileOutputStream.open0(Native Method)\r\n    Error:  \tat java.base/java.io.FileOutputStream.open(FileOutputStream.java:298)\r\n    Error:  \tat java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:237)\r\n    Error:  \tat java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:187)\r\n    Error:  \tat com.fasterxml.jackson.core.TokenStreamFactory._fileOutputStream(TokenStreamFactory.java:278)\r\n    Error:  \tat com.fasterxml.jackson.core.JsonFactory.createGenerator(JsonFactory.java:1369)\r\n    Error:  \tat com.fasterxml.jackson.databind.ObjectMapper.createGenerator(ObjectMapper.java:1230)\r\n    Error:  \tat com.fasterxml.jackson.databind.ObjectMapper.writeValue(ObjectMapper.java:3811)\r\n    Error:  \tat io.qameta.allure.FileSystemResultsWriter.write(FileSystemResultsWriter.java:66)\r\n    Error:  \t... 16 more \r\n\r\n\r\nBelow is my Github YML file : \r\n\r\n    # This workflow will build a Java project with Maven, and cache/restore any dependencies to improve the workflow execution time\r\n    # For more information see: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-java-with-maven\r\n    \r\n    # This workflow uses actions that are not certified by GitHub.\r\n    # They are provided by a third-party and are governed by\r\n    # separate terms of service, privacy policy, and support\r\n    # documentation.\r\n    \r\n    name: Stage - Automation\r\n    \r\n    on:\r\n      push:\r\n        branches: [ &quot;main&quot; ]\r\n      pull_request:\r\n        branches: [ &quot;main&quot; ]\r\n    \r\n    jobs:\r\n      build:\r\n    \r\n        runs-on: ubuntu-latest\r\n    \r\n        steps:\r\n        - uses: actions/checkout@v3\r\n        - name: Set up JDK 11\r\n          uses: actions/setup-java@v3\r\n          with:\r\n            java-version: &#39;11&#39;\r\n            distribution: &#39;temurin&#39;\r\n            cache: maven\r\n        - name: Install Google Chrome #Using shell script to install Google Chrome\r\n          run:   |\r\n                  chmod +x ./scripts/InstallChrome.sh\r\n                              ./scripts/InstallChrome.sh\r\n                              \r\n        - name: Build with Maven\r\n          run: mvn test -P placeOrder_stage -Denv=stage\r\n    \r\n    \r\n        - name: Test marketplace action\r\n          uses: simple-elf/allure-report-action@master\r\n          if: always()\r\n          id: allure-report\r\n          with:\r\n            allure_results: allure-results/Reports/*\r\n            gh_pages: gh-pages\r\n            allure_report: allure-report\r\n            allure_history: allure-history\r\n    \r\n    \r\n        - name: Deploy report to Github Pages\r\n          if: always()\r\n          uses: peaceiris/actions-gh-pages@v2\r\n          env:\r\n            PERSONAL_TOKEN: ${{ secrets.GITHUB_TOKEN }}\r\n            PUBLISH_BRANCH: gh-pages\r\n            PUBLISH_DIR: allure-history\r\n\r\n\r\n","title":"Github Actions - Getting Could not Write Error on Allure Report","body":"<p>I am having project where it is using following :</p>\n<ol>\n<li>Java - 11</li>\n<li>Maven</li>\n<li>TestNG</li>\n<li>Selenium Webdriver</li>\n<li>Allure Report</li>\n</ol>\n<p>Everything works fine on local machine but when I run on Github actions , I am getting error and allure report is not being generated.</p>\n<p>Error is :</p>\n<pre><code> io.qameta.allure.AllureResultsWriteException: Could not write Allure test result container\nError:      at io.qameta.allure.FileSystemResultsWriter.write(FileSystemResultsWriter.java:68)\nError:      at io.qameta.allure.AllureLifecycle.writeTestContainer(AllureLifecycle.java:170)\nError:      at io.qameta.allure.testng.AllureTestNg.onFinish(AllureTestNg.java:195)\nError:      at org.testng.SuiteRunner.invokeListeners(SuiteRunner.java:269)\nError:      at org.testng.SuiteRunner.run(SuiteRunner.java:332)\nError:      at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\nError:      at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\nError:      at org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\nError:      at org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\nError:      at org.testng.TestNG.runSuites(TestNG.java:1099)\nError:      at org.testng.TestNG.run(TestNG.java:1067)\nError:      at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:295)\nError:      at org.apache.maven.surefire.testng.TestNGXmlTestSuite.execute(TestNGXmlTestSuite.java:84)\nError:      at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:90)\nError:      at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)\nError:      at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)\nError:      at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)\nError:  Caused by: java.io.FileNotFoundException: allure-results/94d424ca-48b8-454e-b49d-d398a77c5cab-container.json (Permission denied)\nError:      at java.base/java.io.FileOutputStream.open0(Native Method)\nError:      at java.base/java.io.FileOutputStream.open(FileOutputStream.java:298)\nError:      at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:237)\nError:      at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:187)\nError:      at com.fasterxml.jackson.core.TokenStreamFactory._fileOutputStream(TokenStreamFactory.java:278)\nError:      at com.fasterxml.jackson.core.JsonFactory.createGenerator(JsonFactory.java:1369)\nError:      at com.fasterxml.jackson.databind.ObjectMapper.createGenerator(ObjectMapper.java:1230)\nError:      at com.fasterxml.jackson.databind.ObjectMapper.writeValue(ObjectMapper.java:3811)\nError:      at io.qameta.allure.FileSystemResultsWriter.write(FileSystemResultsWriter.java:66)\nError:      ... 16 more \n</code></pre>\n<p>Below is my Github YML file :</p>\n<pre><code># This workflow will build a Java project with Maven, and cache/restore any dependencies to improve the workflow execution time\n# For more information see: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-java-with-maven\n\n# This workflow uses actions that are not certified by GitHub.\n# They are provided by a third-party and are governed by\n# separate terms of service, privacy policy, and support\n# documentation.\n\nname: Stage - Automation\n\non:\n  push:\n    branches: [ &quot;main&quot; ]\n  pull_request:\n    branches: [ &quot;main&quot; ]\n\njobs:\n  build:\n\n    runs-on: ubuntu-latest\n\n    steps:\n    - uses: actions/checkout@v3\n    - name: Set up JDK 11\n      uses: actions/setup-java@v3\n      with:\n        java-version: '11'\n        distribution: 'temurin'\n        cache: maven\n    - name: Install Google Chrome #Using shell script to install Google Chrome\n      run:   |\n              chmod +x ./scripts/InstallChrome.sh\n                          ./scripts/InstallChrome.sh\n                          \n    - name: Build with Maven\n      run: mvn test -P placeOrder_stage -Denv=stage\n\n\n    - name: Test marketplace action\n      uses: simple-elf/allure-report-action@master\n      if: always()\n      id: allure-report\n      with:\n        allure_results: allure-results/Reports/*\n        gh_pages: gh-pages\n        allure_report: allure-report\n        allure_history: allure-history\n\n\n    - name: Deploy report to Github Pages\n      if: always()\n      uses: peaceiris/actions-gh-pages@v2\n      env:\n        PERSONAL_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n        PUBLISH_BRANCH: gh-pages\n        PUBLISH_DIR: allure-history\n</code></pre>\n"},{"tags":["java","java-8","java-9"],"comments":[{"owner":{"account_id":10759610,"reputation":12648,"user_id":7916438,"display_name":"tevemadar"},"score":2,"creation_date":1684149514,"post_id":76253470,"comment_id":134469623,"body_markdown":"You could &quot;steal&quot; it from a newer JDK, it&#39;s a couple lines of code: https://github.com/openjdk/jdk/blob/ad348a8cec50561d3e295b6289772530f541c6b1/src/java.base/share/classes/java/util/Enumeration.java#L119 - I think that may have happened in this answer once: https://stackoverflow.com/a/23276455/7916438","body":"You could &quot;steal&quot; it from a newer JDK, it&#39;s a couple lines of code: <a href=\"https://github.com/openjdk/jdk/blob/ad348a8cec50561d3e295b6289772530f541c6b1/src/java.base/share/classes/java/util/Enumeration.java#L119\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/&hellip;</a> - I think that may have happened in this answer once: <a href=\"https://stackoverflow.com/a/23276455/7916438\">stackoverflow.com/a/23276455/7916438</a>"}],"answers":[{"comments":[{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1684150649,"post_id":76253589,"comment_id":134469880,"body_markdown":"interface default method is feature of java 8 https://www.geeksforgeeks.org/default-methods-java/","body":"interface default method is feature of java 8 <a href=\"https://www.geeksforgeeks.org/default-methods-java/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/default-methods-java</a>"},{"owner":{"account_id":1835033,"reputation":5468,"user_id":1665592,"accept_rate":77,"display_name":"Swapnil Kotwal"},"score":0,"creation_date":1684153763,"post_id":76253589,"comment_id":134470675,"body_markdown":"Thank you @k314159 but one more silly question. I&#39;m getting `Cannot resolve symbol &#39;E&#39;` how to get rid of it?","body":"Thank you @k314159 but one more silly question. I&#39;m getting <code>Cannot resolve symbol &#39;E&#39;</code> how to get rid of it?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1684156342,"post_id":76253589,"comment_id":134471281,"body_markdown":"Thanks, @user16320675, I&#39;ve modified my answer with your correction.","body":"Thanks, @user16320675, I&#39;ve modified my answer with your correction."}],"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1684156309,"creation_date":1684150040,"answer_id":76253589,"question_id":76253470,"body_markdown":"To begin with, look up &quot;jdk source code&quot; in your favourite search engine to find the source of `asIterator`, so that you can copy it. You&#39;ll find it here:\r\n\r\nhttps://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Enumeration.java\r\n\r\nThere you&#39;ll find `Enumeration.asIterator()`, which is an interface default method. You can define it locally as a method that takes an Enumeration argument:\r\n\r\n    private static &lt;E&gt; Iterator&lt;E&gt; asIterator(Enumeration&lt;E&gt; enumeration) {\r\n        return new Iterator&lt;&gt;() {\r\n            @Override public boolean hasNext() {\r\n                return enumeration.hasMoreElements();\r\n            }\r\n            @Override public E next() {\r\n                return enumeration.nextElement();\r\n            }\r\n        };\r\n    }\r\n\r\nand then use it like this:\r\n\r\n        Iterator&lt;URL&gt; iterator = asIterator(cl.getResources(packageDir));\r\n\r\nHowever, @tevemadar commented with a link to an [answer to a related question][1] that might suit you better \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/23261803/iterate-an-enumeration-in-java-8/23276455#23276455","title":"Java9 &#39;asIterator&#39; equivalent implementation in Java8","body":"<p>To begin with, look up &quot;jdk source code&quot; in your favourite search engine to find the source of <code>asIterator</code>, so that you can copy it. You'll find it here:</p>\n<p><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Enumeration.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Enumeration.java</a></p>\n<p>There you'll find <code>Enumeration.asIterator()</code>, which is an interface default method. You can define it locally as a method that takes an Enumeration argument:</p>\n<pre><code>private static &lt;E&gt; Iterator&lt;E&gt; asIterator(Enumeration&lt;E&gt; enumeration) {\n    return new Iterator&lt;&gt;() {\n        @Override public boolean hasNext() {\n            return enumeration.hasMoreElements();\n        }\n        @Override public E next() {\n            return enumeration.nextElement();\n        }\n    };\n}\n</code></pre>\n<p>and then use it like this:</p>\n<pre><code>    Iterator&lt;URL&gt; iterator = asIterator(cl.getResources(packageDir));\n</code></pre>\n<p>However, @tevemadar commented with a link to an <a href=\"https://stackoverflow.com/questions/23261803/iterate-an-enumeration-in-java-8/23276455#23276455\">answer to a related question</a> that might suit you better</p>\n"}],"owner":{"account_id":1835033,"reputation":5468,"user_id":1665592,"accept_rate":77,"display_name":"Swapnil Kotwal"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684232460,"accepted_answer_id":76253589,"answer_count":1,"score":0,"last_activity_date":1684157822,"creation_date":1684149026,"question_id":76253470,"body_markdown":"Below piece of code is using `asIterator()` method from Java 9 can someone please help me to convert below code compatible with Java 8?\r\n\r\n``` \r\nprivate static Function&lt;ClassLoader, Stream&lt;URL&gt;&gt; asURLs(String packageDir) {\r\n    return cl -&gt; {\r\n      try {\r\n        Iterator&lt;URL&gt; iterator = cl.getResources(packageDir).asIterator();\r\n        return StreamSupport.stream(\r\n            Spliterators.spliteratorUnknownSize(iterator, Spliterator.ORDERED), false);\r\n      } catch (IOException e) {\r\n        throw new UnhandledIOException(e);\r\n      }\r\n    };\r\n```\r\n  ","title":"Java9 &#39;asIterator&#39; equivalent implementation in Java8","body":"<p>Below piece of code is using <code>asIterator()</code> method from Java 9 can someone please help me to convert below code compatible with Java 8?</p>\n<pre><code>private static Function&lt;ClassLoader, Stream&lt;URL&gt;&gt; asURLs(String packageDir) {\n    return cl -&gt; {\n      try {\n        Iterator&lt;URL&gt; iterator = cl.getResources(packageDir).asIterator();\n        return StreamSupport.stream(\n            Spliterators.spliteratorUnknownSize(iterator, Spliterator.ORDERED), false);\n      } catch (IOException e) {\n        throw new UnhandledIOException(e);\n      }\n    };\n</code></pre>\n"},{"tags":["java","android","json","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1684141685,"post_id":76252478,"comment_id":134467948,"body_markdown":"To understand better, you need a class with fields that can be mapped in the above database schmea?","body":"To understand better, you need a class with fields that can be mapped in the above database schmea?"}],"owner":{"account_id":26106749,"reputation":1,"user_id":19801339,"display_name":"Petar Barac"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684157434,"creation_date":1684141561,"question_id":76252478,"body_markdown":"I want to organize data in Firebase like this, also I want that task_id_1 is type UID. How do I need to organize Java classes in order to do that?\r\n\r\n```json\r\n{\r\n  &quot;users&quot;: {\r\n    &quot;uid_1&quot;: {\r\n      &quot;tasks&quot;: {\r\n        &quot;task_id_1&quot;: {\r\n          &quot;name&quot;: &quot;Ime prvog taska&quot;,\r\n          &quot;date&quot;: &quot;2023-05-15&quot;\r\n        },\r\n        &quot;task_id_2&quot;: {\r\n          &quot;name&quot;: &quot;Ime drugog taska&quot;,\r\n          &quot;date&quot;: &quot;2023-05-16&quot;\r\n        }\r\n      }\r\n    },\r\n    &quot;uid_2&quot;: {\r\n      &quot;tasks&quot;: {\r\n        &quot;task_id_3&quot;: {\r\n          &quot;name&quot;: &quot;Ime trećeg taska&quot;,\r\n          &quot;date&quot;: &quot;2023-05-17&quot;\r\n        },\r\n        &quot;task_id_4&quot;: {\r\n          &quot;name&quot;: &quot;Ime cetvrtog taska&quot;,\r\n          &quot;date&quot;: &quot;2023-05-18&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI know I can add tasks like this:\r\n\r\n```java\r\npublic class User {\r\n    private String uid;\r\n    private List&lt;Task&gt; tasks;\r\n}\r\n```\r\n\r\nBut in that way I will get members of array list instead of uid as a parent for Task class.","title":"How do I need organize Java classes in order to save data to Firebase that has uid as parent of its children","body":"<p>I want to organize data in Firebase like this, also I want that task_id_1 is type UID. How do I need to organize Java classes in order to do that?</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;users&quot;: {\n    &quot;uid_1&quot;: {\n      &quot;tasks&quot;: {\n        &quot;task_id_1&quot;: {\n          &quot;name&quot;: &quot;Ime prvog taska&quot;,\n          &quot;date&quot;: &quot;2023-05-15&quot;\n        },\n        &quot;task_id_2&quot;: {\n          &quot;name&quot;: &quot;Ime drugog taska&quot;,\n          &quot;date&quot;: &quot;2023-05-16&quot;\n        }\n      }\n    },\n    &quot;uid_2&quot;: {\n      &quot;tasks&quot;: {\n        &quot;task_id_3&quot;: {\n          &quot;name&quot;: &quot;Ime trećeg taska&quot;,\n          &quot;date&quot;: &quot;2023-05-17&quot;\n        },\n        &quot;task_id_4&quot;: {\n          &quot;name&quot;: &quot;Ime cetvrtog taska&quot;,\n          &quot;date&quot;: &quot;2023-05-18&quot;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>I know I can add tasks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class User {\n    private String uid;\n    private List&lt;Task&gt; tasks;\n}\n</code></pre>\n<p>But in that way I will get members of array list instead of uid as a parent for Task class.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9791,"page":434,"page_size":100}
