{"items":[{"tags":["java","spring","spring-webflux","webclient","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656378247,"creation_date":1656377857,"answer_id":72779662,"question_id":72779224,"body_markdown":"You would need to implement custom `Retry` to achieve this. Here is an example\r\n\r\n```\r\nprivate static class CustomRetrySpec extends Retry {\r\n    private final int retries;\r\n    private final Duration firstTime;\r\n    private final Duration secondTime;\r\n    private final Duration restTime;\r\n\r\n    public CustomRetrySpec(int retries, Duration firstTime, Duration secondTime, Duration restTime) {\r\n        this.retries = retries;\r\n        this.firstTime = firstTime;\r\n        this.secondTime = secondTime;\r\n        this.restTime = restTime;\r\n    }\r\n\r\n    @Override\r\n    public Publisher&lt;?&gt; generateCompanion(Flux&lt;RetrySignal&gt; retrySignals) {\r\n        return retrySignals.flatMap(this::getRetry);\r\n    }\r\n\r\n    private Mono&lt;Long&gt; getRetry(Retry.RetrySignal rs) {\r\n        if (rs.totalRetries() &lt; retries) {\r\n            Duration delay;\r\n            if (rs.totalRetries() == 0) {\r\n                delay = firstTime;\r\n            } else if (rs.totalRetries() == 1) {\r\n                delay = secondTime;\r\n            } else {\r\n                delay = restTime;\r\n            }\r\n\r\n            log.debug(&quot;retry {} with backoff {}min&quot;, rs.totalRetries(), delay.toMinutes());\r\n            return Mono.delay(delay)\r\n                    .thenReturn(rs.totalRetries());\r\n        } else {\r\n            log.debug(&quot;retries exhausted with error: {}&quot;, rs.failure().getMessage());\r\n            throw Exceptions.propagate(rs.failure());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is a test using `StepVerifier.withVirtualTime`\r\n\r\n```\r\n@Test\r\nvoid testCustomRetrySpec() {\r\n    StepVerifier.withVirtualTime(() -&gt;\r\n                    process()\r\n                            .retryWhen(new CustomRetrySpec(3,\r\n                                    Duration.ofMinutes(5),\r\n                                    Duration.ofMinutes(30),\r\n                                    Duration.ofMinutes(60))\r\n                            )\r\n            )\r\n            .expectSubscription()\r\n            .expectNoEvent(Duration.ofMinutes(5))\r\n            .expectNoEvent(Duration.ofMinutes(30))\r\n            .expectNoEvent(Duration.ofMinutes(60))\r\n            .expectError()\r\n            .verify();\r\n\r\n}\r\n\r\nprivate Mono&lt;?&gt; process() {\r\n    return Mono.error(new RuntimeException(&quot;oops&quot;));\r\n}\r\n```","title":"Custom Retry strategy for Spring WebClient","body":"<p>You would need to implement custom <code>Retry</code> to achieve this. Here is an example</p>\n<pre><code>private static class CustomRetrySpec extends Retry {\n    private final int retries;\n    private final Duration firstTime;\n    private final Duration secondTime;\n    private final Duration restTime;\n\n    public CustomRetrySpec(int retries, Duration firstTime, Duration secondTime, Duration restTime) {\n        this.retries = retries;\n        this.firstTime = firstTime;\n        this.secondTime = secondTime;\n        this.restTime = restTime;\n    }\n\n    @Override\n    public Publisher&lt;?&gt; generateCompanion(Flux&lt;RetrySignal&gt; retrySignals) {\n        return retrySignals.flatMap(this::getRetry);\n    }\n\n    private Mono&lt;Long&gt; getRetry(Retry.RetrySignal rs) {\n        if (rs.totalRetries() &lt; retries) {\n            Duration delay;\n            if (rs.totalRetries() == 0) {\n                delay = firstTime;\n            } else if (rs.totalRetries() == 1) {\n                delay = secondTime;\n            } else {\n                delay = restTime;\n            }\n\n            log.debug(&quot;retry {} with backoff {}min&quot;, rs.totalRetries(), delay.toMinutes());\n            return Mono.delay(delay)\n                    .thenReturn(rs.totalRetries());\n        } else {\n            log.debug(&quot;retries exhausted with error: {}&quot;, rs.failure().getMessage());\n            throw Exceptions.propagate(rs.failure());\n        }\n    }\n}\n</code></pre>\n<p>Here is a test using <code>StepVerifier.withVirtualTime</code></p>\n<pre><code>@Test\nvoid testCustomRetrySpec() {\n    StepVerifier.withVirtualTime(() -&gt;\n                    process()\n                            .retryWhen(new CustomRetrySpec(3,\n                                    Duration.ofMinutes(5),\n                                    Duration.ofMinutes(30),\n                                    Duration.ofMinutes(60))\n                            )\n            )\n            .expectSubscription()\n            .expectNoEvent(Duration.ofMinutes(5))\n            .expectNoEvent(Duration.ofMinutes(30))\n            .expectNoEvent(Duration.ofMinutes(60))\n            .expectError()\n            .verify();\n\n}\n\nprivate Mono&lt;?&gt; process() {\n    return Mono.error(new RuntimeException(&quot;oops&quot;));\n}\n</code></pre>\n"}],"owner":{"account_id":9819271,"reputation":15,"user_id":7274684,"display_name":"Richi101"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":768,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72779662,"answer_count":1,"score":1,"last_activity_date":1659203888,"creation_date":1656372205,"question_id":72779224,"body_markdown":"I&#39;m using a fixedRetry in order to repeat HTTP calls using WebClient.\r\nI want the first retry to be called after 5 minutes, the second one after 30 minutes, and the rest after 60 minutes. Is there a way to do this using the fixedRetry? I checked https://www.baeldung.com/spring-webflux-retry several times, but I haven&#39;t found a way to use 3 different values for the delay time.\r\n\r\nThis how the constructor looks like:\r\n```\r\npublic MyService(WebClient client,\r\n\t\t\t@Value(&quot;${retry.quantity}&quot;) int retries,\r\n\t\t\t@Value(&quot;${retry.time.first}&quot;) int firstTime,\r\n\t\t\t@Value(&quot;${retry.time.second}&quot;) int secondTime,\r\n\t\t\t@Value(&quot;${retry.time.rest}&quot;) int restTime) \r\n{\r\n\t\tthis.client = client;\r\n\t\tthis.fixedRetry = Retry.anyOf(ResponseException.class)\r\n\t\t\t\t.fixedBackoff(Duration.ofSeconds(restTime))\r\n\t\t\t\t.retryMax(retries)\r\n\t\t\t\t.doOnRetry(exception -&gt;\r\n\t\t\t\t\tlog.error(&quot;Exception on Retry is {} .&quot;, exception)\r\n\t\t\t\t);\r\n}\r\n```","title":"Custom Retry strategy for Spring WebClient","body":"<p>I'm using a fixedRetry in order to repeat HTTP calls using WebClient.\nI want the first retry to be called after 5 minutes, the second one after 30 minutes, and the rest after 60 minutes. Is there a way to do this using the fixedRetry? I checked <a href=\"https://www.baeldung.com/spring-webflux-retry\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-webflux-retry</a> several times, but I haven't found a way to use 3 different values for the delay time.</p>\n<p>This how the constructor looks like:</p>\n<pre><code>public MyService(WebClient client,\n            @Value(&quot;${retry.quantity}&quot;) int retries,\n            @Value(&quot;${retry.time.first}&quot;) int firstTime,\n            @Value(&quot;${retry.time.second}&quot;) int secondTime,\n            @Value(&quot;${retry.time.rest}&quot;) int restTime) \n{\n        this.client = client;\n        this.fixedRetry = Retry.anyOf(ResponseException.class)\n                .fixedBackoff(Duration.ofSeconds(restTime))\n                .retryMax(retries)\n                .doOnRetry(exception -&gt;\n                    log.error(&quot;Exception on Retry is {} .&quot;, exception)\n                );\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","junit","selenium-jupiter"],"comments":[{"owner":{"account_id":15309789,"reputation":86,"user_id":11045434,"display_name":"Kai Hoelscher"},"score":0,"creation_date":1550132130,"post_id":54632176,"comment_id":96159853,"body_markdown":"For anyone who is also stumbling across the same problem, this is my **ugly workaround**:\n\n1. In the base class (here: `UiTest`), I declare a String member, containing the Selenium Grid&#39;s URL and annotate it with `@DriverUrl` (this makes the tests pass in CI environment)\n\n2. When executing a test locally, I _comment this annotation_, which leads to a Firefox being started on my local machine","body":"For anyone who is also stumbling across the same problem, this is my <b>ugly workaround</b>:  1. In the base class (here: <code>UiTest</code>), I declare a String member, containing the Selenium Grid&#39;s URL and annotate it with <code>@DriverUrl</code> (this makes the tests pass in CI environment)  2. When executing a test locally, I <i>comment this annotation</i>, which leads to a Firefox being started on my local machine"},{"owner":{"account_id":15309789,"reputation":86,"user_id":11045434,"display_name":"Kai Hoelscher"},"score":0,"creation_date":1550237587,"post_id":54632176,"comment_id":96206246,"body_markdown":"The &quot;ugly workaround&quot; is not needed any more (see &quot;Example 3&quot;).","body":"The &quot;ugly workaround&quot; is not needed any more (see &quot;Example 3&quot;)."},{"owner":{"account_id":6470112,"reputation":138,"user_id":5234720,"accept_rate":50,"display_name":"Paulus"},"score":0,"creation_date":1587159635,"post_id":54632176,"comment_id":108410226,"body_markdown":"Did you resolve issue #2? Does each test class still need to have 2 methods to execute one test in 2 browsers?","body":"Did you resolve issue #2? Does each test class still need to have 2 methods to execute one test in 2 browsers?"},{"owner":{"account_id":15309789,"reputation":86,"user_id":11045434,"display_name":"Kai Hoelscher"},"score":0,"creation_date":1587740810,"post_id":54632176,"comment_id":108636979,"body_markdown":"Yes, that&#39;s still the case...but note that this has also advantages: Like having explicit test results.","body":"Yes, that&#39;s still the case...but note that this has also advantages: Like having explicit test results."}],"answers":[{"tags":[],"owner":{"account_id":2343390,"reputation":242,"user_id":2054206,"display_name":"eidottermihi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659203766,"creation_date":1659203766,"answer_id":73177915,"question_id":54632176,"body_markdown":"You can use `@TestTemplate` and leverage browser configuration using two `browsers.json` files.\r\n\r\n1. Write your test annotated with `@TestTemplate`:\r\n\r\n```java\r\nclass MyTest {\r\n\r\n  @TestTemplate\r\n  void my_logic_test_case(WebDriver webDriver) {\r\n    // ...       \r\n  }\r\n}\r\n```\r\n\r\n2. add a `browsers.json` to your classpath (Default, use local Firefox installation):\r\n\r\n```json\r\n{\r\n  &quot;browsers&quot;: [\r\n    [\r\n      {\r\n        &quot;type&quot;: &quot;firefox&quot;\r\n      }\r\n    ]\r\n  ]\r\n}\r\n```\r\n\r\n3. add a `browsers-ci.json` to your classpath (not default, uses Selenium Grid / RemoteWebDriver):\r\n\r\n```json\r\n{\r\n  &quot;browsers&quot;: [\r\n    [\r\n      {\r\n        &quot;type&quot;: &quot;firefox&quot;,\r\n        &quot;capabilities&quot;: {\r\n          &quot;browserName&quot;: &quot;firefox&quot;\r\n        },\r\n        &quot;arguments&quot;: [\r\n          &quot;--headless&quot;\r\n        ],\r\n        &quot;remoteUrl&quot;: &quot;https://mygrid.com/wd/hub&quot;\r\n      }\r\n    ]\r\n  ]\r\n}\r\n```\r\n\r\nNow, you can run the test locally and it will use a local Firefox.\r\nIf you run your tests on your CI environment, configure your CI script to set the system property `sel.jup.browser.template.json.file` to point to `browsers-ci.json`.\r\n\r\nFor example, if you use Maven to run your Selenium-Jupiter tests:\r\n\r\n```\r\nmvn test -Dsel.jup.browser.template.json.file=classpath:browsers-ci.json\r\n```","title":"How to programmatically configure WebDriver in base class in Selenium Jupiter?","body":"<p>You can use <code>@TestTemplate</code> and leverage browser configuration using two <code>browsers.json</code> files.</p>\n<ol>\n<li>Write your test annotated with <code>@TestTemplate</code>:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>class MyTest {\n\n  @TestTemplate\n  void my_logic_test_case(WebDriver webDriver) {\n    // ...       \n  }\n}\n</code></pre>\n<ol start=\"2\">\n<li>add a <code>browsers.json</code> to your classpath (Default, use local Firefox installation):</li>\n</ol>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;browsers&quot;: [\n    [\n      {\n        &quot;type&quot;: &quot;firefox&quot;\n      }\n    ]\n  ]\n}\n</code></pre>\n<ol start=\"3\">\n<li>add a <code>browsers-ci.json</code> to your classpath (not default, uses Selenium Grid / RemoteWebDriver):</li>\n</ol>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;browsers&quot;: [\n    [\n      {\n        &quot;type&quot;: &quot;firefox&quot;,\n        &quot;capabilities&quot;: {\n          &quot;browserName&quot;: &quot;firefox&quot;\n        },\n        &quot;arguments&quot;: [\n          &quot;--headless&quot;\n        ],\n        &quot;remoteUrl&quot;: &quot;https://mygrid.com/wd/hub&quot;\n      }\n    ]\n  ]\n}\n</code></pre>\n<p>Now, you can run the test locally and it will use a local Firefox.\nIf you run your tests on your CI environment, configure your CI script to set the system property <code>sel.jup.browser.template.json.file</code> to point to <code>browsers-ci.json</code>.</p>\n<p>For example, if you use Maven to run your Selenium-Jupiter tests:</p>\n<pre><code>mvn test -Dsel.jup.browser.template.json.file=classpath:browsers-ci.json\n</code></pre>\n"}],"owner":{"account_id":15309789,"reputation":86,"user_id":11045434,"display_name":"Kai Hoelscher"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1659203766,"creation_date":1549893482,"question_id":54632176,"body_markdown":"I want to migrate existing Selenium-Tests based on JUnit 4 to JUnit 5. For this purpose, I want to make use of [Selenium-Jupiter](https://bonigarcia.github.io/selenium-jupiter/).\r\n\r\nOne requirement, that the tests must fulfill is, to be able to *switch the WebDriver implementation at runtime* - based on the execution environment - using **one common base class for all tests**: \r\n\r\n - When executed on a developer machine (Windows 10), a FirefoxDriver should be used, launching a locally installed Firefox.\r\n - In the CI-environment (CentOS 7), a RemoteWebDriver should be used, delegating test execution to a Selenium Grid\r\n\r\nI already tried to configure a &quot;Generic WebDriver&quot; [according to documentation](https://bonigarcia.github.io/selenium-jupiter/#generic-driver), but I don&#39;t know how to achieve this for a RemoteWebDriver (&quot;Example 2&quot; should make things clearer).\r\n\r\nWith regards to content [this stackoverflow-posting is quite related](https://stackoverflow.com/questions/50857858/how-to-use-different-webdrivers-based-on-environment), but does not yield a satisfying answer.\r\n\r\n**UPDATE:** I solved the problem by myself. See &quot;Example 3&quot;...\r\n\r\n&lt;hr /&gt;\r\n\r\nHey [Boni](https://stackoverflow.com/users/3877746/boni-garc%c3%ada), maybe you want to update the Selenium Jupiter documentation a bit. At least I had some problems, figuring it out... oh, and thanks a lot for the awesome work you have done with Selenium Jupiter (and the underlying WebDriverManger).\r\n\r\n&lt;hr /&gt;\r\n\r\n**Example 1: What works, but is not elegant**\r\n\r\n    @ExtendWith(SeleniumExtension.class)\r\n    class MyTest {\r\n\r\n      @EnabledIfSystemProperty(named = &quot;os.name&quot;, matches = &quot;Windows 10&quot;)\r\n      @Test\r\n      void test_executed_with_local_firefox(FirefoxDriver ffDriver) {\r\n         executeTestCaseWith(ffDriver);\r\n      }\r\n\r\n      @EnabledIfSystemProperty(named = &quot;os.name&quot;, matches = &quot;Linux&quot;)\r\n      @Test\r\n      void test_executed_with_firefox_from_selenium_grid(@DriverUrl(&quot;http://...&quot;) RemoteWebDriver remoteDriver) {\r\n         executeTestCaseWith(remoteDriver);\r\n      }\r\n\r\n      void executeTestCaseWith(WebDriver webDriver) {\r\n         webDriver.get(...)\r\n         Assert(...)\r\n      }\r\n    }\r\n\r\nThe problems I see hee, are:\r\n\r\n0. Pretty verbose (tho&#39; this might by handable with custom annotations)\r\n0. Each test class needs **two** @Test-methods for *one* logical/semantical test case\r\n0. The concrete WebDriver implementation is exposed, thus, allowing test authors to rely on WebDriver implementation detail (for example, Firefox profiles)\r\n\r\n\r\n**Example 2: What I would like to do, but doesn&#39;t work, yet**\r\n\r\nBase class, that does WebDriver configuration:\r\n\r\n    abstract class UiTest {\r\n\r\n       @RegisterExtension\r\n       static SeleniumExtension seleniumExtension = new SeleniumExtension();     \r\n\r\n       @BeforeAll\r\n       static void setUpOnce() {\r\n\r\n         // This check is not the problem discussed here\r\n         boolean isRunningInCiEnvironment = ...\r\n         Browser firefox;\r\n\r\n          if( ! isRunningInCiEnvironment ) {\r\n            // This works\r\n            firefox = BrowserBuilder.firefox().build();\r\n          } else {\r\n            // this does not exist yet!\r\n            //firefox = BrowserBuilder.remoteWebDriver().url(&quot;http://...&quot;).build();\r\n\r\n            // This executes, but does not behave as expected\r\n            // The URL is pretty much ignored.\r\n            firefox = BrowserBuilder.firefox().url(&quot;http://...&quot;).build();\r\n          }\r\n\r\n         seleniumExtension.addBrowsers(firefox);\r\n       }       \r\n    }\r\n\r\nIn the test I would then only need to do sth. like this.\r\n\r\n    class MyTest extends UiTest {\r\n\r\n      @Test\r\n      void my_one_logic_test_case(WebDriver webDriver) {\r\n\r\n         webDriver.get(...)\r\n         Assert(...)        \r\n      }\r\n    }\r\n\r\nNote, how the type of the parameter is only WebDriver!\r\n\r\n\r\n**Example 3: My current solution**\r\n\r\n    abstract class UiTest {\r\n\r\n       @RegisterExtension\r\n       static SeleniumExtension seleniumExtension = new SeleniumExtension();     \r\n\r\n       @BeforeAll\r\n       static void setUpOnce() {\r\n\r\n         // This check is not the problem discussed here\r\n         boolean isRunningInCiEnvironment = ...\r\n\r\n          if( isRunningInCiEnvironment ) {\r\n            // This is doing the trick!\r\n            seleniumExtension.getConfig().setSeleniumServerUrl(&quot;http://...&quot;);\r\n          }\r\n\r\n         seleniumExtension.addBrowsers( BrowserBuilder.firefox().build() );\r\n       }       \r\n    }\r\n\r\nThe concrete test can now be implemented as depicted in &quot;Example 2&quot;.\r\n\r\n\r\n","title":"How to programmatically configure WebDriver in base class in Selenium Jupiter?","body":"<p>I want to migrate existing Selenium-Tests based on JUnit 4 to JUnit 5. For this purpose, I want to make use of <a href=\"https://bonigarcia.github.io/selenium-jupiter/\" rel=\"nofollow noreferrer\">Selenium-Jupiter</a>.</p>\n\n<p>One requirement, that the tests must fulfill is, to be able to <em>switch the WebDriver implementation at runtime</em> - based on the execution environment - using <strong>one common base class for all tests</strong>: </p>\n\n<ul>\n<li>When executed on a developer machine (Windows 10), a FirefoxDriver should be used, launching a locally installed Firefox.</li>\n<li>In the CI-environment (CentOS 7), a RemoteWebDriver should be used, delegating test execution to a Selenium Grid</li>\n</ul>\n\n<p>I already tried to configure a \"Generic WebDriver\" <a href=\"https://bonigarcia.github.io/selenium-jupiter/#generic-driver\" rel=\"nofollow noreferrer\">according to documentation</a>, but I don't know how to achieve this for a RemoteWebDriver (\"Example 2\" should make things clearer).</p>\n\n<p>With regards to content <a href=\"https://stackoverflow.com/questions/50857858/how-to-use-different-webdrivers-based-on-environment\">this stackoverflow-posting is quite related</a>, but does not yield a satisfying answer.</p>\n\n<p><strong>UPDATE:</strong> I solved the problem by myself. See \"Example 3\"...</p>\n\n<hr />\n\n<p>Hey <a href=\"https://stackoverflow.com/users/3877746/boni-garc%c3%ada\">Boni</a>, maybe you want to update the Selenium Jupiter documentation a bit. At least I had some problems, figuring it out... oh, and thanks a lot for the awesome work you have done with Selenium Jupiter (and the underlying WebDriverManger).</p>\n\n<hr />\n\n<p><strong>Example 1: What works, but is not elegant</strong></p>\n\n<pre><code>@ExtendWith(SeleniumExtension.class)\nclass MyTest {\n\n  @EnabledIfSystemProperty(named = \"os.name\", matches = \"Windows 10\")\n  @Test\n  void test_executed_with_local_firefox(FirefoxDriver ffDriver) {\n     executeTestCaseWith(ffDriver);\n  }\n\n  @EnabledIfSystemProperty(named = \"os.name\", matches = \"Linux\")\n  @Test\n  void test_executed_with_firefox_from_selenium_grid(@DriverUrl(\"http://...\") RemoteWebDriver remoteDriver) {\n     executeTestCaseWith(remoteDriver);\n  }\n\n  void executeTestCaseWith(WebDriver webDriver) {\n     webDriver.get(...)\n     Assert(...)\n  }\n}\n</code></pre>\n\n<p>The problems I see hee, are:</p>\n\n<ol>\n<li>Pretty verbose (tho' this might by handable with custom annotations)</li>\n<li>Each test class needs <strong>two</strong> @Test-methods for <em>one</em> logical/semantical test case</li>\n<li>The concrete WebDriver implementation is exposed, thus, allowing test authors to rely on WebDriver implementation detail (for example, Firefox profiles)</li>\n</ol>\n\n<p><strong>Example 2: What I would like to do, but doesn't work, yet</strong></p>\n\n<p>Base class, that does WebDriver configuration:</p>\n\n<pre><code>abstract class UiTest {\n\n   @RegisterExtension\n   static SeleniumExtension seleniumExtension = new SeleniumExtension();     \n\n   @BeforeAll\n   static void setUpOnce() {\n\n     // This check is not the problem discussed here\n     boolean isRunningInCiEnvironment = ...\n     Browser firefox;\n\n      if( ! isRunningInCiEnvironment ) {\n        // This works\n        firefox = BrowserBuilder.firefox().build();\n      } else {\n        // this does not exist yet!\n        //firefox = BrowserBuilder.remoteWebDriver().url(\"http://...\").build();\n\n        // This executes, but does not behave as expected\n        // The URL is pretty much ignored.\n        firefox = BrowserBuilder.firefox().url(\"http://...\").build();\n      }\n\n     seleniumExtension.addBrowsers(firefox);\n   }       \n}\n</code></pre>\n\n<p>In the test I would then only need to do sth. like this.</p>\n\n<pre><code>class MyTest extends UiTest {\n\n  @Test\n  void my_one_logic_test_case(WebDriver webDriver) {\n\n     webDriver.get(...)\n     Assert(...)        \n  }\n}\n</code></pre>\n\n<p>Note, how the type of the parameter is only WebDriver!</p>\n\n<p><strong>Example 3: My current solution</strong></p>\n\n<pre><code>abstract class UiTest {\n\n   @RegisterExtension\n   static SeleniumExtension seleniumExtension = new SeleniumExtension();     \n\n   @BeforeAll\n   static void setUpOnce() {\n\n     // This check is not the problem discussed here\n     boolean isRunningInCiEnvironment = ...\n\n      if( isRunningInCiEnvironment ) {\n        // This is doing the trick!\n        seleniumExtension.getConfig().setSeleniumServerUrl(\"http://...\");\n      }\n\n     seleniumExtension.addBrowsers( BrowserBuilder.firefox().build() );\n   }       \n}\n</code></pre>\n\n<p>The concrete test can now be implemented as depicted in \"Example 2\".</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":1,"creation_date":1658498868,"post_id":73072423,"comment_id":129073560,"body_markdown":"Why do you want to retrieve the authorities in the filter? Why don&#39;t use the `authorizeHttpRequests()` DSL?","body":"Why do you want to retrieve the authorities in the filter? Why don&#39;t use the <code>authorizeHttpRequests()</code> DSL?"},{"owner":{"account_id":8950570,"reputation":955,"user_id":6676704,"display_name":"Beno"},"score":0,"creation_date":1658510082,"post_id":73072423,"comment_id":129077659,"body_markdown":"@MarcusHertdaCoregio in the filter there is a logic where I must filter some attributes based on authorities and set in Authentication object.","body":"@MarcusHertdaCoregio in the filter there is a logic where I must filter some attributes based on authorities and set in Authentication object."},{"owner":{"account_id":208843,"reputation":8250,"user_id":459579,"display_name":"ThomasRS"},"score":0,"creation_date":1659125031,"post_id":73072423,"comment_id":129227138,"body_markdown":"@BenoArakelyan care to add some more details? This sounds like a complete antipattern.","body":"@BenoArakelyan care to add some more details? This sounds like a complete antipattern."},{"owner":{"account_id":8950570,"reputation":955,"user_id":6676704,"display_name":"Beno"},"score":0,"creation_date":1659142642,"post_id":73072423,"comment_id":129230247,"body_markdown":"@ThomasRS I know. It is for solving business logic I don&#39;t want to write business details.","body":"@ThomasRS I know. It is for solving business logic I don&#39;t want to write business details."},{"owner":{"account_id":80984,"reputation":825,"user_id":228649,"display_name":"Corneil du Plessis"},"score":0,"creation_date":1659214613,"post_id":73072423,"comment_id":129242591,"body_markdown":"Filters shouldn&#39;t be used for business logic. Filter is for security or auditing. What attributes would you want to remove? If they are security related then you are doing security wrong.","body":"Filters shouldn&#39;t be used for business logic. Filter is for security or auditing. What attributes would you want to remove? If they are security related then you are doing security wrong."}],"answers":[{"tags":[],"owner":{"account_id":11119792,"reputation":2581,"user_id":8163025,"display_name":"saver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658832943,"creation_date":1658832943,"answer_id":73122108,"question_id":73072423,"body_markdown":"I recommend to move ```hasAuthority(&#39;SOME_AUTHORITY&#39;)``` into separate method in spring bean and use that method in filter and in ```@PreAuthorize``` annotation. In that way you will have common place for validate logic and you will keep code consistency as well.\r\n\r\nLet me know if you need code examples.","title":"Spring Security: How to get endpoint&#39;s authorities in Filter","body":"<p>I recommend to move <code>hasAuthority('SOME_AUTHORITY')</code> into separate method in spring bean and use that method in filter and in <code>@PreAuthorize</code> annotation. In that way you will have common place for validate logic and you will keep code consistency as well.</p>\n<p>Let me know if you need code examples.</p>\n"},{"tags":[],"owner":{"account_id":11835383,"reputation":121,"user_id":8660862,"display_name":"Murugesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658945001,"creation_date":1658945001,"answer_id":73142681,"question_id":73072423,"body_markdown":"You can do this in Spring Security&#39;s way, by using Pointcuts similar to `AuthorizationMethodPointcuts`. `AuthorizationManagerBeforeMethodInterceptor` reads these annotations using this pointcut. \r\n\r\nGitHub link to spring-security for reference. \r\n\r\nhttps://github.com/spring-projects/spring-security/tree/main/core/src/main/java/org/springframework/security/authorization\r\n","title":"Spring Security: How to get endpoint&#39;s authorities in Filter","body":"<p>You can do this in Spring Security's way, by using Pointcuts similar to <code>AuthorizationMethodPointcuts</code>. <code>AuthorizationManagerBeforeMethodInterceptor</code> reads these annotations using this pointcut.</p>\n<p>GitHub link to spring-security for reference.</p>\n<p><a href=\"https://github.com/spring-projects/spring-security/tree/main/core/src/main/java/org/springframework/security/authorization\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-security/tree/main/core/src/main/java/org/springframework/security/authorization</a></p>\n"},{"tags":[],"owner":{"account_id":6284572,"reputation":5615,"user_id":4884334,"accept_rate":77,"display_name":"Bhushan Uniyal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659203536,"creation_date":1659203536,"answer_id":73177886,"question_id":73072423,"body_markdown":"A filter dynamically intercepts requests and responses to transform or use the information contained in the requests or responses. Filters typically do not themselves create responses, but instead provide universal functions that can be &quot;attached&quot; to any endpoint.\r\n\r\n**OncePerRequestFilter** . Spring guarantees that the OncePerRequestFilter is executed only once for a given request.\r\n\r\nIn your case you are extending OncePerRequestFilter in AuthTokenFilter and as you mentioned in comment you are authorizing user in this filter if user have valid details (in this case setting Authentication object).\r\n\r\n- Once you will hit your endpoint Spring will execute AuthTokenFilter logic\r\n- If details will valid then AuthTokenFilter will set Authentication in Spring context.\r\n- Spring Security supports authorization at the method level with help of different type of annotation like @PreAuthorize, @Secured . But  enable annotation based security, we need to add the @EnableGlobalMethodSecurity annotation on any @Configuration class. example :\r\n\r\n \r\n\r\n       @Configuration\r\n        @EnableGlobalMethodSecurity(\r\n          prePostEnabled = true, \r\n          securedEnabled = true, \r\n          jsr250Enabled = true)\r\n        public class MethodSecurityConfiguration {\r\n            //default configuration class\r\n        }\r\n\r\n- HttpSecurity is tied to URL endpoints while @PreAuthorize is tied to controller methods and is actually located within the code adjacent to the controller definitions. \r\n- authorities/roles should set in Authentication object inside AuthTokenFilter (in your case)  and those role can validated with  @PreAuthorize annotation.\r\n-  @PreAuthorize will trigger after AuthTokenFilter  filter\r\n\r\n","title":"Spring Security: How to get endpoint&#39;s authorities in Filter","body":"<p>A filter dynamically intercepts requests and responses to transform or use the information contained in the requests or responses. Filters typically do not themselves create responses, but instead provide universal functions that can be &quot;attached&quot; to any endpoint.</p>\n<p><strong>OncePerRequestFilter</strong> . Spring guarantees that the OncePerRequestFilter is executed only once for a given request.</p>\n<p>In your case you are extending OncePerRequestFilter in AuthTokenFilter and as you mentioned in comment you are authorizing user in this filter if user have valid details (in this case setting Authentication object).</p>\n<ul>\n<li><p>Once you will hit your endpoint Spring will execute AuthTokenFilter logic</p>\n</li>\n<li><p>If details will valid then AuthTokenFilter will set Authentication in Spring context.</p>\n</li>\n<li><p>Spring Security supports authorization at the method level with help of different type of annotation like @PreAuthorize, @Secured . But  enable annotation based security, we need to add the @EnableGlobalMethodSecurity annotation on any @Configuration class. example :</p>\n<pre><code> @Configuration\n  @EnableGlobalMethodSecurity(\n    prePostEnabled = true, \n    securedEnabled = true, \n    jsr250Enabled = true)\n  public class MethodSecurityConfiguration {\n      //default configuration class\n  }\n</code></pre>\n</li>\n<li><p>HttpSecurity is tied to URL endpoints while @PreAuthorize is tied to controller methods and is actually located within the code adjacent to the controller definitions.</p>\n</li>\n<li><p>authorities/roles should set in Authentication object inside AuthTokenFilter (in your case)  and those role can validated with  @PreAuthorize annotation.</p>\n</li>\n<li><p>@PreAuthorize will trigger after AuthTokenFilter  filter</p>\n</li>\n</ul>\n"}],"owner":{"account_id":8950570,"reputation":955,"user_id":6676704,"display_name":"Beno"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1110,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":3,"score":-4,"last_activity_date":1659203536,"creation_date":1658436229,"question_id":73072423,"body_markdown":"In spring boot project I have a controller which has an endpoint with `@PreAuthorize` annotation\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/path&quot;)\r\n    class SomeController {\r\n      \r\n        @PostMapping\r\n        @PreAuthorize(&quot;hasAuthority(&#39;SOME_AUTHORITY&#39;)&quot;)\r\n        public ResponseEntity&lt;Object&gt; doSomething() {\r\n\r\n        }\r\n    }\r\n\r\nAnd also I have a filter that extends the `OncePerRequestFilter`\r\n\r\n    public class AuthTokenFilter extends OncePerRequestFilter {\r\n\r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest req, HttpServletResponse res, FilterChain f) throws IOException, ServletException {\r\n            //here I want to get the authorities specified in the controllers&#39; endpoints\r\n        }\r\n    }\r\n\r\n\r\nThe question is how to get controllers&#39; endpoints&#39; authorities specified by the `@PreAuthorize` annotation in the above filter? ","title":"Spring Security: How to get endpoint&#39;s authorities in Filter","body":"<p>In spring boot project I have a controller which has an endpoint with <code>@PreAuthorize</code> annotation</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/path&quot;)\nclass SomeController {\n  \n    @PostMapping\n    @PreAuthorize(&quot;hasAuthority('SOME_AUTHORITY')&quot;)\n    public ResponseEntity&lt;Object&gt; doSomething() {\n\n    }\n}\n</code></pre>\n<p>And also I have a filter that extends the <code>OncePerRequestFilter</code></p>\n<pre><code>public class AuthTokenFilter extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest req, HttpServletResponse res, FilterChain f) throws IOException, ServletException {\n        //here I want to get the authorities specified in the controllers' endpoints\n    }\n}\n</code></pre>\n<p>The question is how to get controllers' endpoints' authorities specified by the <code>@PreAuthorize</code> annotation in the above filter?</p>\n"},{"tags":["java","gradle","plugins"],"answers":[{"tags":[],"owner":{"account_id":10762791,"reputation":81,"user_id":7918715,"display_name":"Attila Mate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659203284,"creation_date":1659203284,"answer_id":73177863,"question_id":72041254,"body_markdown":"&#39;jacocoTestReport&#39; is actually a task, so you can configure it like this:\r\n\r\n        proj.tasks.getByName(&quot;jacocoTestReport&quot;, {\r\n            reports {\r\n                xml.required = true\r\n            }\r\n        })\r\n\r\nIf you&#39;d like to dig deeper, it&#39;s class is [JacocoReport][1], which has a \r\n[JacocoReportsContainer][2] reports property, so you may use type safe property getters / setters from there, but IMHO the above solution is more like build.gradle, so it&#39;s more readable.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/dsl/org.gradle.testing.jacoco.tasks.JacocoReport.html\r\n  [2]: https://docs.gradle.org/current/javadoc/org/gradle/testing/jacoco/tasks/JacocoReportsContainer.html","title":"How to configure JaCoCo in a custom gradle plugin?","body":"<p>'jacocoTestReport' is actually a task, so you can configure it like this:</p>\n<pre><code>    proj.tasks.getByName(&quot;jacocoTestReport&quot;, {\n        reports {\n            xml.required = true\n        }\n    })\n</code></pre>\n<p>If you'd like to dig deeper, it's class is <a href=\"https://docs.gradle.org/current/dsl/org.gradle.testing.jacoco.tasks.JacocoReport.html\" rel=\"nofollow noreferrer\">JacocoReport</a>, which has a\n<a href=\"https://docs.gradle.org/current/javadoc/org/gradle/testing/jacoco/tasks/JacocoReportsContainer.html\" rel=\"nofollow noreferrer\">JacocoReportsContainer</a> reports property, so you may use type safe property getters / setters from there, but IMHO the above solution is more like build.gradle, so it's more readable.</p>\n"}],"owner":{"account_id":242694,"reputation":4648,"user_id":514389,"accept_rate":71,"display_name":"Bastian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1659203284,"creation_date":1651138097,"question_id":72041254,"body_markdown":"I am writing a custom Gradle plugin which shall unifiedly abstract from my custom gradle configurations which are spread across multiple Java projects. For this purpose, I generally try to find [fitting extensions][1] for the various tasks that need custom configuration. \r\n\r\nSo, I got to the point where I wanted to move my [JaCoCo configuration][2] to the plugin. The excerpt from build.gradle looks like this:\r\n\r\n```lang-groovy\r\njacocoTestReport {\r\n    reports {\r\n        xml.required = true\r\n    }\r\n}\r\n```\r\n\r\nThe first part is manageable: check if the plugin is loaded.\r\n\r\n```lang-java\r\nproject.getPlugins().withType(JacocoPlugin.class, jacocoPlugin -&gt; {\r\n  // configure it\r\n})\r\n```\r\n\r\nHowever, I am stuck with how to actually configure the plugin via an extension method. The only extension that is available seems to be `JacocoPluginExtension`. From there, I don&#39;t see a way how to add the `reports` part from build.gradle.\r\n\r\nIs there some other mechanism besides extensions that I missed?\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/implementing_gradle_plugins.html#reacting_to_plugins\r\n  [2]: https://docs.gradle.org/current/userguide/jacoco_plugin.html#sec:jacoco_report_configuration","title":"How to configure JaCoCo in a custom gradle plugin?","body":"<p>I am writing a custom Gradle plugin which shall unifiedly abstract from my custom gradle configurations which are spread across multiple Java projects. For this purpose, I generally try to find <a href=\"https://docs.gradle.org/current/userguide/implementing_gradle_plugins.html#reacting_to_plugins\" rel=\"nofollow noreferrer\">fitting extensions</a> for the various tasks that need custom configuration.</p>\n<p>So, I got to the point where I wanted to move my <a href=\"https://docs.gradle.org/current/userguide/jacoco_plugin.html#sec:jacoco_report_configuration\" rel=\"nofollow noreferrer\">JaCoCo configuration</a> to the plugin. The excerpt from build.gradle looks like this:</p>\n<pre class=\"lang-groovy prettyprint-override\"><code>jacocoTestReport {\n    reports {\n        xml.required = true\n    }\n}\n</code></pre>\n<p>The first part is manageable: check if the plugin is loaded.</p>\n<pre class=\"lang-java prettyprint-override\"><code>project.getPlugins().withType(JacocoPlugin.class, jacocoPlugin -&gt; {\n  // configure it\n})\n</code></pre>\n<p>However, I am stuck with how to actually configure the plugin via an extension method. The only extension that is available seems to be <code>JacocoPluginExtension</code>. From there, I don't see a way how to add the <code>reports</code> part from build.gradle.</p>\n<p>Is there some other mechanism besides extensions that I missed?</p>\n"},{"tags":["java","android","itext","itext7"],"comments":[{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1649832812,"post_id":71849847,"comment_id":126972459,"body_markdown":"which version do you use of itext?","body":"which version do you use of itext?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1649852786,"post_id":71849847,"comment_id":126980117,"body_markdown":"Indeed, some of your code pieces are for iText 5 (or earlier), some for iText 7. Which version do you (want to) use?","body":"Indeed, some of your code pieces are for iText 5 (or earlier), some for iText 7. Which version do you (want to) use?"},{"owner":{"account_id":13597017,"reputation":51,"user_id":9808767,"display_name":"Ayman.dev"},"score":0,"creation_date":1649875312,"post_id":71849847,"comment_id":126989111,"body_markdown":"@mkl any thing can finish the mission ,can you help me ?","body":"@mkl any thing can finish the mission ,can you help me ?"}],"answers":[{"tags":[],"owner":{"account_id":13597017,"reputation":51,"user_id":9808767,"display_name":"Ayman.dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649888030,"creation_date":1649888030,"answer_id":71864362,"question_id":71849847,"body_markdown":"i have solved it,  \r\nthe idea is:\r\n1.we need to save the file with out water mark ,and that was easy:\r\n\r\n     File docsFolder = new File(Environment.getExternalStoragePublicDirectory(\r\n                    Environment.DIRECTORY_DOWNLOADS), &quot;osary/estmara&quot;);\r\n         String currentDate = new SimpleDateFormat(&quot;dd-MM-yyyy_hh_mm_aaa&quot;, Locale.getDefault()).format(new Date());\r\n            String pdfname = myEstmaraa.getTalabId() + &quot;_&quot; + currentDate + &quot;.pdf&quot;;\r\n            pdfFile = new File(docsFolder, pdfname);\r\n            OutputStream output = new FileOutputStream(pdfFile);\r\n            Document document = new Document(PageSize.A4);\r\n            document.setMargins(5, 5, 5, 5);\r\n            PdfWriter PdfWriters = PdfWriter.getInstance(document, output);\r\n            PdfWriters.createXmpMetadata();\r\n            PdfWriters.setTagged();\r\n            document.open();\r\n            //todo 2 preparing Header and directions and margin row 0\r\n            PdfPTable tableForRowZero = new PdfPTable(new float[]{1});\r\n            tableForRowZero.setSpacingBefore(5);\r\n            tableForRowZero.setRunDirection(PdfWriter.RUN_DIRECTION_RTL);\r\n            tableForRowZero.getDefaultCell().setFixedHeight(34);\r\n            tableForRowZero.setTotalWidth(PageSize.A4.getWidth());\r\n            tableForRowZero.setWidthPercentage(100);\r\n            tableForRowZero.setHeaderRows(0);\r\n            tableForRowZero.getDefaultCell().setVerticalAlignment(Element.ALIGN_MIDDLE);\r\n            cellss = new PdfPCell(new Phrase(&quot;رقم الاستمارة&quot;, FONT2));\r\n            cellss.setHorizontalAlignment(Element.ALIGN_CENTER);\r\n            cellss.setVerticalAlignment(Element.ALIGN_CENTER);\r\n            cellss.setBackgroundColor(BaseColor.GRAY);\r\n            tableForRowZero.addCell(cellss);\r\n            tableForRowZero.setHeaderRows(0);\r\n            cellss = new PdfPCell(new Phrase(String.valueOf(myEstmaraa.getTalabId()), FONT2));\r\n            cellss.setHorizontalAlignment(Element.ALIGN_CENTER);\r\n            cellss.setVerticalAlignment(Element.ALIGN_CENTER);\r\n            tableForRowZero.addCell(cellss);\r\n            document.add(tableForRowZero);\r\n            document.close();\r\n\r\n2.we will open the file but we can not override it directly, \r\nso: \r\n\r\na. we will save it in a temp file with the watermark and close it:\r\n\r\n         File tempFile = new File(docsFolder.getPath(), &quot;temp.pdf&quot;);\r\n                com.itextpdf.kernel.pdf.PdfWriter TempWriter = new com.itextpdf.kernel.pdf.PdfWriter(tempFile);\r\n                String font = &quot;/res/font/arialbd.ttf&quot;;\r\n                PdfFontFactory.register(font);\r\n                FontProgram fontProgram = FontProgramFactory.createFont(font, true);\r\n                PdfFont f = PdfFontFactory.createFont(fontProgram, PdfEncodings.IDENTITY_H);\r\n                LanguageProcessor languageProcessor = new ArabicLigaturizer();\r\n                com.itextpdf.kernel.pdf.PdfDocument tempPdfDoc = new com.itextpdf.kernel.pdf.PdfDocument(new PdfReader(pdfFile.getPath()), TempWriter);\r\n                com.itextpdf.layout.Document TempDoc = new com.itextpdf.layout.Document(tempPdfDoc);\r\n                com.itextpdf.layout.element.Paragraph paragraph0 = new com.itextpdf.layout.element.Paragraph(languageProcessor.process(&quot;الاستماره الالكترونية--الاستماره الالكترونية--الاستماره الالكترونية--الاستماره الالكترونية&quot;))\r\n                        .setFont(f).setBaseDirection(BaseDirection.RIGHT_TO_LEFT)\r\n                        .setFontSize(15);\r\n     Drawable d_ketm_estmara = getResources().getDrawable(R.drawable.ketm_estmara);\r\n                Bitmap bitDw_estmara = ((BitmapDrawable) d_ketm_estmara).getBitmap();\r\n                ByteArrayOutputStream stream_estmara = new ByteArrayOutputStream();\r\n                bitDw_estmara.compress(Bitmap.CompressFormat.PNG, 100, stream_estmara);\r\n                byte[] data = stream_estmara.toByteArray();\r\n                ImageData img = ImageDataFactory.create(data);\r\n                PdfExtGState gs1 = new PdfExtGState().setFillOpacity(0.2f);\r\n                for (int i = 1; i &lt;= tempPdfDoc.getNumberOfPages(); i++) {\r\n                    PdfPage pdfPage = tempPdfDoc.getPage(i);\r\n                    com.itextpdf.kernel.geom.Rectangle pageSize = pdfPage.getPageSize();\r\n                    float x = (pageSize.getLeft() + pageSize.getRight()) / 2;\r\n                    float y = (pageSize.getTop() + pageSize.getBottom()) / 3;\r\n                    PdfCanvas over = new PdfCanvas(pdfPage);\r\n                    over.saveState();\r\n                    over.setExtGState(gs1);\r\n                    TempDoc.showTextAligned(paragraph0, 300, 760, i, TextAlignment.CENTER, VerticalAlignment.TOP, 0);\r\n     float leftImage = 20;\r\n                    float bottomImage = 120;\r\n                    float rightImage = 550;\r\n                    float topImage = 720;\r\n                    over.addImageWithTransformationMatrix(img, rightImage, 0, 0, topImage, leftImage, bottomImage, true);\r\n                    over.restoreState();\r\n                }\r\n\r\n                TempDoc.close();\r\n                tempPdfDoc.close();\r\n\r\nb. we will open the temp file and save it with the old name:\r\n\r\n\r\n                com.itextpdf.kernel.pdf.PdfDocument pdfDoc = new com.itextpdf.kernel.pdf.PdfDocument(new PdfReader(tempFile.getPath()), new com.itextpdf.kernel.pdf.PdfWriter(new File(docsFolder.getPath(), pdfname)));\r\n                com.itextpdf.layout.Document doc = new com.itextpdf.layout.Document(pdfDoc);\r\n                doc.close();\r\n                pdfDoc.close();","title":"add itext WaterMark to android java pdf","body":"<p>i have solved it,<br />\nthe idea is:\n1.we need to save the file with out water mark ,and that was easy:</p>\n<pre><code> File docsFolder = new File(Environment.getExternalStoragePublicDirectory(\n                Environment.DIRECTORY_DOWNLOADS), &quot;osary/estmara&quot;);\n     String currentDate = new SimpleDateFormat(&quot;dd-MM-yyyy_hh_mm_aaa&quot;, Locale.getDefault()).format(new Date());\n        String pdfname = myEstmaraa.getTalabId() + &quot;_&quot; + currentDate + &quot;.pdf&quot;;\n        pdfFile = new File(docsFolder, pdfname);\n        OutputStream output = new FileOutputStream(pdfFile);\n        Document document = new Document(PageSize.A4);\n        document.setMargins(5, 5, 5, 5);\n        PdfWriter PdfWriters = PdfWriter.getInstance(document, output);\n        PdfWriters.createXmpMetadata();\n        PdfWriters.setTagged();\n        document.open();\n        //todo 2 preparing Header and directions and margin row 0\n        PdfPTable tableForRowZero = new PdfPTable(new float[]{1});\n        tableForRowZero.setSpacingBefore(5);\n        tableForRowZero.setRunDirection(PdfWriter.RUN_DIRECTION_RTL);\n        tableForRowZero.getDefaultCell().setFixedHeight(34);\n        tableForRowZero.setTotalWidth(PageSize.A4.getWidth());\n        tableForRowZero.setWidthPercentage(100);\n        tableForRowZero.setHeaderRows(0);\n        tableForRowZero.getDefaultCell().setVerticalAlignment(Element.ALIGN_MIDDLE);\n        cellss = new PdfPCell(new Phrase(&quot;رقم الاستمارة&quot;, FONT2));\n        cellss.setHorizontalAlignment(Element.ALIGN_CENTER);\n        cellss.setVerticalAlignment(Element.ALIGN_CENTER);\n        cellss.setBackgroundColor(BaseColor.GRAY);\n        tableForRowZero.addCell(cellss);\n        tableForRowZero.setHeaderRows(0);\n        cellss = new PdfPCell(new Phrase(String.valueOf(myEstmaraa.getTalabId()), FONT2));\n        cellss.setHorizontalAlignment(Element.ALIGN_CENTER);\n        cellss.setVerticalAlignment(Element.ALIGN_CENTER);\n        tableForRowZero.addCell(cellss);\n        document.add(tableForRowZero);\n        document.close();\n</code></pre>\n<p>2.we will open the file but we can not override it directly,\nso:</p>\n<p>a. we will save it in a temp file with the watermark and close it:</p>\n<pre><code>     File tempFile = new File(docsFolder.getPath(), &quot;temp.pdf&quot;);\n            com.itextpdf.kernel.pdf.PdfWriter TempWriter = new com.itextpdf.kernel.pdf.PdfWriter(tempFile);\n            String font = &quot;/res/font/arialbd.ttf&quot;;\n            PdfFontFactory.register(font);\n            FontProgram fontProgram = FontProgramFactory.createFont(font, true);\n            PdfFont f = PdfFontFactory.createFont(fontProgram, PdfEncodings.IDENTITY_H);\n            LanguageProcessor languageProcessor = new ArabicLigaturizer();\n            com.itextpdf.kernel.pdf.PdfDocument tempPdfDoc = new com.itextpdf.kernel.pdf.PdfDocument(new PdfReader(pdfFile.getPath()), TempWriter);\n            com.itextpdf.layout.Document TempDoc = new com.itextpdf.layout.Document(tempPdfDoc);\n            com.itextpdf.layout.element.Paragraph paragraph0 = new com.itextpdf.layout.element.Paragraph(languageProcessor.process(&quot;الاستماره الالكترونية--الاستماره الالكترونية--الاستماره الالكترونية--الاستماره الالكترونية&quot;))\n                    .setFont(f).setBaseDirection(BaseDirection.RIGHT_TO_LEFT)\n                    .setFontSize(15);\n Drawable d_ketm_estmara = getResources().getDrawable(R.drawable.ketm_estmara);\n            Bitmap bitDw_estmara = ((BitmapDrawable) d_ketm_estmara).getBitmap();\n            ByteArrayOutputStream stream_estmara = new ByteArrayOutputStream();\n            bitDw_estmara.compress(Bitmap.CompressFormat.PNG, 100, stream_estmara);\n            byte[] data = stream_estmara.toByteArray();\n            ImageData img = ImageDataFactory.create(data);\n            PdfExtGState gs1 = new PdfExtGState().setFillOpacity(0.2f);\n            for (int i = 1; i &lt;= tempPdfDoc.getNumberOfPages(); i++) {\n                PdfPage pdfPage = tempPdfDoc.getPage(i);\n                com.itextpdf.kernel.geom.Rectangle pageSize = pdfPage.getPageSize();\n                float x = (pageSize.getLeft() + pageSize.getRight()) / 2;\n                float y = (pageSize.getTop() + pageSize.getBottom()) / 3;\n                PdfCanvas over = new PdfCanvas(pdfPage);\n                over.saveState();\n                over.setExtGState(gs1);\n                TempDoc.showTextAligned(paragraph0, 300, 760, i, TextAlignment.CENTER, VerticalAlignment.TOP, 0);\n float leftImage = 20;\n                float bottomImage = 120;\n                float rightImage = 550;\n                float topImage = 720;\n                over.addImageWithTransformationMatrix(img, rightImage, 0, 0, topImage, leftImage, bottomImage, true);\n                over.restoreState();\n            }\n\n            TempDoc.close();\n            tempPdfDoc.close();\n</code></pre>\n<p>b. we will open the temp file and save it with the old name:</p>\n<pre><code>            com.itextpdf.kernel.pdf.PdfDocument pdfDoc = new com.itextpdf.kernel.pdf.PdfDocument(new PdfReader(tempFile.getPath()), new com.itextpdf.kernel.pdf.PdfWriter(new File(docsFolder.getPath(), pdfname)));\n            com.itextpdf.layout.Document doc = new com.itextpdf.layout.Document(pdfDoc);\n            doc.close();\n            pdfDoc.close();\n</code></pre>\n"}],"owner":{"account_id":13597017,"reputation":51,"user_id":9808767,"display_name":"Ayman.dev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":383,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659203274,"creation_date":1649802979,"question_id":71849847,"body_markdown":"I need to add an itext watermark to my pdf android java pdf file\r\nmy sample current code for creating the pdf file:\r\n\r\n       File docsFolder = new File(Environment.getExternalStoragePublicDirectory(\r\n                        Environment.DIRECTORY_DOWNLOADS), &quot;osary/estmara&quot;);\r\n             String currentDate = new SimpleDateFormat(&quot;dd-MM-yyyy_hh_mm_aaa&quot;, Locale.getDefault()).format(new Date());\r\n                String pdfname = myEstmaraa.getTalabId() + &quot;_&quot; + currentDate + &quot;.pdf&quot;;\r\n                pdfFile = new File(docsFolder, pdfname);\r\n                OutputStream output = new FileOutputStream(pdfFile);\r\n                Document document = new Document(PageSize.A4);\r\n                document.setMargins(5, 5, 5, 5);\r\n                PdfWriter PdfWriters = PdfWriter.getInstance(document, output);\r\n                PdfWriters.createXmpMetadata();\r\n                PdfWriters.setTagged();\r\n                document.open();\r\n                //todo 2 preparing Header and directions and margin row 0\r\n                PdfPTable tableForRowZero = new PdfPTable(new float[]{1});\r\n                tableForRowZero.setSpacingBefore(5);\r\n                tableForRowZero.setRunDirection(PdfWriter.RUN_DIRECTION_RTL);\r\n                tableForRowZero.getDefaultCell().setFixedHeight(34);\r\n                tableForRowZero.setTotalWidth(PageSize.A4.getWidth());\r\n                tableForRowZero.setWidthPercentage(100);\r\n                tableForRowZero.setHeaderRows(0);\r\n                tableForRowZero.getDefaultCell().setVerticalAlignment(Element.ALIGN_MIDDLE);\r\n                cellss = new PdfPCell(new Phrase(&quot;رقم الاستمارة&quot;, FONT2));\r\n                cellss.setHorizontalAlignment(Element.ALIGN_CENTER);\r\n                cellss.setVerticalAlignment(Element.ALIGN_CENTER);\r\n                cellss.setBackgroundColor(BaseColor.GRAY);\r\n                tableForRowZero.addCell(cellss);\r\n                tableForRowZero.setHeaderRows(0);\r\n                cellss = new PdfPCell(new Phrase(String.valueOf(myEstmaraa.getTalabId()), FONT2));\r\n                cellss.setHorizontalAlignment(Element.ALIGN_CENTER);\r\n                cellss.setVerticalAlignment(Element.ALIGN_CENTER);\r\n                tableForRowZero.addCell(cellss);\r\n                document.add(tableForRowZero);\r\n                document.close();\r\n\r\n\r\ni have tried this code but it for desktop java:\r\n[enter link description here][1]\r\n\r\n\r\n  [1]: https://github.com/itext/i7js-examples/blob/master/src/main/java/com/itextpdf/samples/sandbox/stamper/TransparentWatermark2.java\r\nand the problem that i faced is this line:\r\n\r\n            PdfDocument pdfDoc = new PdfDocument(new PdfReader(SRC), new PdfWriter(dest));\r\nwhen i change it to android i face a problem, i tried it like:\r\n\r\n            com.itextpdf.kernel.pdf.PdfDocument pdfDoc = new com.itextpdf.kernel.pdf.PdfDocument(new PdfReader(pdfFile.getPath()),new PdfWriter(pdfFile.getPath()));\r\nit gives me this hint:\r\n\r\n&gt; Cannot resolve constructor &#39;PdfWriter(java.lang.String)&#39;\r\n\r\nthe code i tried to make watermark:\r\n\r\n       com.itextpdf.kernel.pdf.PdfDocument pdfDoc = new com.itextpdf.kernel.pdf.PdfDocument(new PdfReader(pdfFile.getPath()),new PdfWriter(pdfFile.getPath()));\r\n               PdfCanvas under = new PdfCanvas(pdfDoc.getFirstPage().newContentStreamBefore(), new PdfResources(), pdfDoc);\r\n                PdfFont font = PdfFontFactory.createFont(FontProgramFactory.createFont(StandardFonts.HELVETICA));\r\n                com.itextpdf.layout.element.Paragraph paragraph2 = new com.itextpdf.layout.element.Paragraph(&quot;This watermark is added UNDER the existing content&quot;)\r\n                        .setFont(font)\r\n              .setFontSize(15);\r\n\r\n                Canvas canvasWatermark1 = new Canvas(under, pdfDoc.getDefaultPageSize())\r\n                        .showTextAligned(paragraph2, 297, 550, 1, TextAlignment.CENTER, VerticalAlignment.TOP, 0);\r\n                canvasWatermark1.close();\r\n                PdfCanvas over = new PdfCanvas(pdfDoc.getFirstPage());\r\n                over.setFillColor(ColorConstants.BLACK);\r\n                paragraph2 = new com.itextpdf.layout.element.Paragraph(&quot;This watermark is added ON TOP OF the existing content&quot;)\r\n                        .setFont(font)\r\n                        .setFontSize(15);\r\n\r\n                Canvas canvasWatermark2 = new Canvas(over, pdfDoc.getDefaultPageSize())\r\n                        .showTextAligned(paragraph2, 297, 500, 1, TextAlignment.CENTER, VerticalAlignment.TOP, 0);\r\n                canvasWatermark2.close();\r\n                paragraph2 = new com.itextpdf.layout.element.Paragraph(&quot;This TRANSPARENT watermark is added ON TOP OF the existing content&quot;)\r\n                        .setFont(font)\r\n                        .setFontSize(15);\r\n                over.saveState();\r\n\r\n                // Creating a dictionary that maps resource names to graphics state parameter dictionaries\r\n                PdfExtGState gs1 = new PdfExtGState();\r\n                gs1.setFillOpacity(0.5f);\r\n                over.setExtGState(gs1);\r\n                Canvas canvasWatermark3 = new Canvas(over, pdfDoc.getDefaultPageSize())\r\n                        .showTextAligned(paragraph2, 297, 450, 1, TextAlignment.CENTER, VerticalAlignment.TOP, 0);\r\n                canvasWatermark3.close();\r\n                over.restoreState();\r\ni tried also to add png image and set its opacity but it cover the content\r\n\r\n          try {\r\n\r\n\r\n                    com.itextpdf.text.Image image1_emp_osary = null;\r\n                    Drawable d_emp_osary = getResources().getDrawable(R.drawable.ketm_estmara);\r\n                    BitmapDrawable bitDw_emp_osary = ((BitmapDrawable) d_emp_osary);\r\n                    Bitmap bmp_emp_osary = bitDw_emp_osary.getBitmap();\r\n                    ByteArrayOutputStream stream_emp_osary = new ByteArrayOutputStream();\r\n                    bmp_emp_osary.compress(Bitmap.CompressFormat.PNG, 100, stream_emp_osary);\r\n                    image1_emp_osary = com.itextpdf.text.Image.getInstance(stream_emp_osary.toByteArray());\r\n                    image1_emp_osary.scaleToFit(200, 200);\r\n                    image1_emp_osary.setAlignment(Element.ALIGN_BOTTOM);\r\n                    image1_emp_osary.setSpacingBefore(200);\r\n                    image1_emp_osary.setTransparency(new int[]{5, 5});\r\n                    document.add(new Chunk(image1_emp_osary, 0, 200));\r\n                    PdfContentByte canvas = PdfWriters.getDirectContentUnder();\r\n                    PdfGState state = new PdfGState();\r\n                    state.setFillOpacity(0.6f);\r\n                    canvas.setGState(state);\r\n                    canvas.addImage(image1_emp_osary);\r\n                    canvas.restoreState();\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }","title":"add itext WaterMark to android java pdf","body":"<p>I need to add an itext watermark to my pdf android java pdf file\nmy sample current code for creating the pdf file:</p>\n<pre><code>   File docsFolder = new File(Environment.getExternalStoragePublicDirectory(\n                    Environment.DIRECTORY_DOWNLOADS), &quot;osary/estmara&quot;);\n         String currentDate = new SimpleDateFormat(&quot;dd-MM-yyyy_hh_mm_aaa&quot;, Locale.getDefault()).format(new Date());\n            String pdfname = myEstmaraa.getTalabId() + &quot;_&quot; + currentDate + &quot;.pdf&quot;;\n            pdfFile = new File(docsFolder, pdfname);\n            OutputStream output = new FileOutputStream(pdfFile);\n            Document document = new Document(PageSize.A4);\n            document.setMargins(5, 5, 5, 5);\n            PdfWriter PdfWriters = PdfWriter.getInstance(document, output);\n            PdfWriters.createXmpMetadata();\n            PdfWriters.setTagged();\n            document.open();\n            //todo 2 preparing Header and directions and margin row 0\n            PdfPTable tableForRowZero = new PdfPTable(new float[]{1});\n            tableForRowZero.setSpacingBefore(5);\n            tableForRowZero.setRunDirection(PdfWriter.RUN_DIRECTION_RTL);\n            tableForRowZero.getDefaultCell().setFixedHeight(34);\n            tableForRowZero.setTotalWidth(PageSize.A4.getWidth());\n            tableForRowZero.setWidthPercentage(100);\n            tableForRowZero.setHeaderRows(0);\n            tableForRowZero.getDefaultCell().setVerticalAlignment(Element.ALIGN_MIDDLE);\n            cellss = new PdfPCell(new Phrase(&quot;رقم الاستمارة&quot;, FONT2));\n            cellss.setHorizontalAlignment(Element.ALIGN_CENTER);\n            cellss.setVerticalAlignment(Element.ALIGN_CENTER);\n            cellss.setBackgroundColor(BaseColor.GRAY);\n            tableForRowZero.addCell(cellss);\n            tableForRowZero.setHeaderRows(0);\n            cellss = new PdfPCell(new Phrase(String.valueOf(myEstmaraa.getTalabId()), FONT2));\n            cellss.setHorizontalAlignment(Element.ALIGN_CENTER);\n            cellss.setVerticalAlignment(Element.ALIGN_CENTER);\n            tableForRowZero.addCell(cellss);\n            document.add(tableForRowZero);\n            document.close();\n</code></pre>\n<p>i have tried this code but it for desktop java:\n<a href=\"https://github.com/itext/i7js-examples/blob/master/src/main/java/com/itextpdf/samples/sandbox/stamper/TransparentWatermark2.java\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n<p>and the problem that i faced is this line:</p>\n<pre><code>        PdfDocument pdfDoc = new PdfDocument(new PdfReader(SRC), new PdfWriter(dest));\n</code></pre>\n<p>when i change it to android i face a problem, i tried it like:</p>\n<pre><code>        com.itextpdf.kernel.pdf.PdfDocument pdfDoc = new com.itextpdf.kernel.pdf.PdfDocument(new PdfReader(pdfFile.getPath()),new PdfWriter(pdfFile.getPath()));\n</code></pre>\n<p>it gives me this hint:</p>\n<blockquote>\n<p>Cannot resolve constructor 'PdfWriter(java.lang.String)'</p>\n</blockquote>\n<p>the code i tried to make watermark:</p>\n<pre><code>   com.itextpdf.kernel.pdf.PdfDocument pdfDoc = new com.itextpdf.kernel.pdf.PdfDocument(new PdfReader(pdfFile.getPath()),new PdfWriter(pdfFile.getPath()));\n           PdfCanvas under = new PdfCanvas(pdfDoc.getFirstPage().newContentStreamBefore(), new PdfResources(), pdfDoc);\n            PdfFont font = PdfFontFactory.createFont(FontProgramFactory.createFont(StandardFonts.HELVETICA));\n            com.itextpdf.layout.element.Paragraph paragraph2 = new com.itextpdf.layout.element.Paragraph(&quot;This watermark is added UNDER the existing content&quot;)\n                    .setFont(font)\n          .setFontSize(15);\n\n            Canvas canvasWatermark1 = new Canvas(under, pdfDoc.getDefaultPageSize())\n                    .showTextAligned(paragraph2, 297, 550, 1, TextAlignment.CENTER, VerticalAlignment.TOP, 0);\n            canvasWatermark1.close();\n            PdfCanvas over = new PdfCanvas(pdfDoc.getFirstPage());\n            over.setFillColor(ColorConstants.BLACK);\n            paragraph2 = new com.itextpdf.layout.element.Paragraph(&quot;This watermark is added ON TOP OF the existing content&quot;)\n                    .setFont(font)\n                    .setFontSize(15);\n\n            Canvas canvasWatermark2 = new Canvas(over, pdfDoc.getDefaultPageSize())\n                    .showTextAligned(paragraph2, 297, 500, 1, TextAlignment.CENTER, VerticalAlignment.TOP, 0);\n            canvasWatermark2.close();\n            paragraph2 = new com.itextpdf.layout.element.Paragraph(&quot;This TRANSPARENT watermark is added ON TOP OF the existing content&quot;)\n                    .setFont(font)\n                    .setFontSize(15);\n            over.saveState();\n\n            // Creating a dictionary that maps resource names to graphics state parameter dictionaries\n            PdfExtGState gs1 = new PdfExtGState();\n            gs1.setFillOpacity(0.5f);\n            over.setExtGState(gs1);\n            Canvas canvasWatermark3 = new Canvas(over, pdfDoc.getDefaultPageSize())\n                    .showTextAligned(paragraph2, 297, 450, 1, TextAlignment.CENTER, VerticalAlignment.TOP, 0);\n            canvasWatermark3.close();\n            over.restoreState();\n</code></pre>\n<p>i tried also to add png image and set its opacity but it cover the content</p>\n<pre><code>      try {\n\n\n                com.itextpdf.text.Image image1_emp_osary = null;\n                Drawable d_emp_osary = getResources().getDrawable(R.drawable.ketm_estmara);\n                BitmapDrawable bitDw_emp_osary = ((BitmapDrawable) d_emp_osary);\n                Bitmap bmp_emp_osary = bitDw_emp_osary.getBitmap();\n                ByteArrayOutputStream stream_emp_osary = new ByteArrayOutputStream();\n                bmp_emp_osary.compress(Bitmap.CompressFormat.PNG, 100, stream_emp_osary);\n                image1_emp_osary = com.itextpdf.text.Image.getInstance(stream_emp_osary.toByteArray());\n                image1_emp_osary.scaleToFit(200, 200);\n                image1_emp_osary.setAlignment(Element.ALIGN_BOTTOM);\n                image1_emp_osary.setSpacingBefore(200);\n                image1_emp_osary.setTransparency(new int[]{5, 5});\n                document.add(new Chunk(image1_emp_osary, 0, 200));\n                PdfContentByte canvas = PdfWriters.getDirectContentUnder();\n                PdfGState state = new PdfGState();\n                state.setFillOpacity(0.6f);\n                canvas.setGState(state);\n                canvas.addImage(image1_emp_osary);\n                canvas.restoreState();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n</code></pre>\n"},{"tags":["java","android","imageview"],"comments":[{"owner":{"account_id":4986235,"reputation":1822,"user_id":4009768,"display_name":"d.j.brown"},"score":0,"creation_date":1508235648,"post_id":46787614,"comment_id":80521821,"body_markdown":"Are the values of `getImageResource(choice_num)` and `mAnswer` what you would expect them to be? Put in some print statements to check that these are all as expected. You may want to also print your `mAnswers[]` array to cross reference.","body":"Are the values of <code>getImageResource(choice_num)</code> and <code>mAnswer</code> what you would expect them to be? Put in some print statements to check that these are all as expected. You may want to also print your <code>mAnswers[]</code> array to cross reference."},{"owner":{"display_name":"user5913742"},"score":0,"creation_date":1508237263,"post_id":46787614,"comment_id":80522686,"body_markdown":"i use setTag  for `getImageResource` but i dont know how to retrieve the values from `mAnswer`","body":"i use setTag  for <code>getImageResource</code> but i dont know how to retrieve the values from <code>mAnswer</code>"}],"answers":[{"tags":[],"owner":{"account_id":3959419,"reputation":501,"user_id":3266929,"display_name":"Jatin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1508237628,"creation_date":1508237628,"answer_id":46788427,"question_id":46787614,"body_markdown":"You are doing wrong comparison in\r\n\r\n    getImageResource(choice_one) == mAnswer\r\n\r\nYou are comparing resource Id with tag that you have provided (1,2,3,4). This is wrong.\r\n\r\nYou may do it in this way:-\r\n\r\n        private void updateQuestions(int num){\r\n            question.setImageResource(mQuestions.getQuestion(num));\r\n            question. setTag(mQuestions.getQuestion(num));\r\n            choice_one.setImageResource(mQuestions.getChoice1(num));\r\n            choice_one.setTag(mQuestions.getChoice1(num));\r\n            choice_two.setImageResource(mQuestions.getChoice2(num));\r\n            choice_two.setTag(mQuestions.getChoice2(num));\r\n            choice_three.setImageResource(mQuestions.getChoice3(num));\r\n            choice_three.setTag(mQuestions.getChoice3(num));\r\n            choice_four.setImageResource(mQuestions.getChoice4(num));\r\n            choice_four.setTag(mQuestions.getChoice4(num));\r\n    \r\n            mAnswer = mQuestions.getAnswer(num);\r\n        } \r\n\r\nRemove the tags(below code) that you have provided and try\r\n\r\n            choice_one.setTag(1);\r\n            choice_two.setTag(2);\r\n            choice_three.setTag(3);\r\n            choice_four.setTag(4);\r\n\r\n","title":"How can I compare images","body":"<p>You are doing wrong comparison in</p>\n\n<pre><code>getImageResource(choice_one) == mAnswer\n</code></pre>\n\n<p>You are comparing resource Id with tag that you have provided (1,2,3,4). This is wrong.</p>\n\n<p>You may do it in this way:-</p>\n\n<pre><code>    private void updateQuestions(int num){\n        question.setImageResource(mQuestions.getQuestion(num));\n        question. setTag(mQuestions.getQuestion(num));\n        choice_one.setImageResource(mQuestions.getChoice1(num));\n        choice_one.setTag(mQuestions.getChoice1(num));\n        choice_two.setImageResource(mQuestions.getChoice2(num));\n        choice_two.setTag(mQuestions.getChoice2(num));\n        choice_three.setImageResource(mQuestions.getChoice3(num));\n        choice_three.setTag(mQuestions.getChoice3(num));\n        choice_four.setImageResource(mQuestions.getChoice4(num));\n        choice_four.setTag(mQuestions.getChoice4(num));\n\n        mAnswer = mQuestions.getAnswer(num);\n    } \n</code></pre>\n\n<p>Remove the tags(below code) that you have provided and try</p>\n\n<pre><code>        choice_one.setTag(1);\n        choice_two.setTag(2);\n        choice_three.setTag(3);\n        choice_four.setTag(4);\n</code></pre>\n"}],"owner":{"display_name":"user5913742"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":46788427,"answer_count":1,"score":0,"last_activity_date":1659202632,"creation_date":1508234882,"question_id":46787614,"body_markdown":"I am developing a multiple choice quiz app in which I am using images as questions and answers the problem here is that I don&#39;t know how to compare images from array.\r\n\r\nIn onclick method I am comparing the clicked choice with the correct answer stored in array but it&#39;s not working; I even used `setTag` and `getTag` methods for choices. I don&#39;t know what is wrong with the code, I have tried everything.\r\n\r\nHere is my code:\r\n \r\n\r\n    public class counting extends AppCompatActivity {\r\n        ImageView choice_one, choice_two, choice_three, choice_four;\r\n        ImageView question;\r\n        MediaPlayer mp;\r\n        private Questions mQuestions = new Questions();\r\n        private int mAnswer;\r\n        private int mQuestionsLength = mQuestions.mQuestions.length;\r\n\r\n        Random r;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_counting);\r\n\r\n            r = new Random();\r\n\r\n            choice_one=(ImageView)findViewById(R.id.choice_1);\r\n            choice_two=(ImageView)findViewById(R.id.choice_2);\r\n            choice_three=(ImageView)findViewById(R.id.choice_3);\r\n            choice_four=(ImageView)findViewById(R.id.choice_4);\r\n\r\n            choice_one.setTag(1);\r\n            choice_two.setTag(2);\r\n            choice_three.setTag(3);\r\n            choice_four.setTag(4);\r\n\r\n            question=(ImageView)findViewById(R.id.question);\r\n\r\n            updateQuestions(r.nextInt(mQuestionsLength));\r\n\r\n            choice_one.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if(getImageResource(choice_one) == mAnswer ){\r\n                        mp=MediaPlayer.create(counting.this,R.raw.bird);\r\n                        mp.start();\r\n                        updateQuestions(r.nextInt(mQuestionsLength));\r\n                    }else{\r\n                        mp=MediaPlayer.create(counting.this,R.raw.april);\r\n                        mp.start();\r\n                    }\r\n                }\r\n            });\r\n\r\n            choice_two.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if(getImageResource(choice_two) == mAnswer){\r\n                        mp=MediaPlayer.create(counting.this,R.raw.bird);\r\n                        mp.start();\r\n                        updateQuestions(r.nextInt(mQuestionsLength));\r\n                    }else{\r\n                        mp=MediaPlayer.create(counting.this,R.raw.april);\r\n                        mp.start();\r\n                    }\r\n                }\r\n            });\r\n\r\n            choice_three.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if(getImageResource(choice_three) == mAnswer){\r\n                        mp=MediaPlayer.create(counting.this,R.raw.bird);\r\n                        mp.start();\r\n                        updateQuestions(r.nextInt(mQuestionsLength));\r\n                    }else{\r\n                        mp=MediaPlayer.create(counting.this,R.raw.april);\r\n                        mp.start();\r\n                    }\r\n                }\r\n            });\r\n\r\n            choice_four.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if(getImageResource(choice_four) == mAnswer){\r\n                        mp=MediaPlayer.create(counting.this,R.raw.bird);\r\n                        mp.start();\r\n                        updateQuestions(r.nextInt(mQuestionsLength));\r\n                    }else{\r\n                        mp=MediaPlayer.create(counting.this,R.raw.april);\r\n                        mp.start();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        private int getImageResource(ImageView iv ){\r\n            return (Integer)iv.getTag();\r\n        }\r\n\r\n        private void updateQuestions(int num){\r\n            question.setImageResource(mQuestions.getQuestion(num));\r\n            choice_one.setImageResource(mQuestions.getChoice1(num));\r\n            choice_two.setImageResource(mQuestions.getChoice2(num));\r\n            choice_three.setImageResource(mQuestions.getChoice3(num));\r\n            choice_four.setImageResource(mQuestions.getChoice4(num));\r\n\r\n            mAnswer = mQuestions.getAnswer(num);\r\n        } \r\n    }\r\n\r\n question class:\r\n\r\n    public class Questions {\r\n        public int mQuestions[]={\r\n            R.drawable.onee,  R.drawable.twoe,  R.drawable.threee,  R.drawable.foure, R.drawable.sixe, R.drawable.eighte\r\n        };\r\n\r\n        public int mChoices[][]={\r\n            {R.drawable.counting_one,  R.drawable.counting_two,  R.drawable.counting_three,  R.drawable.counting_four},\r\n            {R.drawable.counting_one,  R.drawable.counting_two,  R.drawable.counting_three,  R.drawable.counting_four},\r\n            {R.drawable.counting_one,  R.drawable.counting_two,  R.drawable.counting_three,  R.drawable.counting_four},\r\n            {R.drawable.counting_one,  R.drawable.counting_two,  R.drawable.counting_three,  R.drawable.counting_four},\r\n            {R.drawable.counting_one,  R.drawable.counting_two,  R.drawable.counting_six,  R.drawable.counting_four},\r\n            {R.drawable.counting_one,  R.drawable.counting_eight,  R.drawable.counting_three,  R.drawable.counting_four}\r\n\r\n         };\r\n\r\n        public int mAnswers[]=\r\n    {R.drawable.counting_one,R.drawable.counting_two,R.drawable.counting_three,\r\n            R.drawable.counting_four, R.drawable.counting_six, R.drawable.counting_eight};\r\n\r\n        public int getQuestion(int a){\r\n            int question = mQuestions[a];\r\n            return question;\r\n        }\r\n\r\n        public int getChoice1(int a){\r\n            int choice = mChoices[a][0];\r\n            return choice;\r\n        }\r\n\r\n        public int getChoice2(int a){\r\n            int choice = mChoices[a][1];\r\n            return choice;\r\n        }\r\n\r\n        public int getChoice3(int a){\r\n            int choice = mChoices[a][2];\r\n            return choice;\r\n        }\r\n\r\n        public int getChoice4(int a){\r\n            int choice = mChoices[a][3];\r\n            return choice;\r\n        }\r\n\r\n        public int getAnswer(int a){\r\n            int answer = mAnswers[a];\r\n            return answer;\r\n        }\r\n    }\r\n","title":"How can I compare images","body":"<p>I am developing a multiple choice quiz app in which I am using images as questions and answers the problem here is that I don't know how to compare images from array.</p>\n<p>In onclick method I am comparing the clicked choice with the correct answer stored in array but it's not working; I even used <code>setTag</code> and <code>getTag</code> methods for choices. I don't know what is wrong with the code, I have tried everything.</p>\n<p>Here is my code:</p>\n<pre><code>public class counting extends AppCompatActivity {\n    ImageView choice_one, choice_two, choice_three, choice_four;\n    ImageView question;\n    MediaPlayer mp;\n    private Questions mQuestions = new Questions();\n    private int mAnswer;\n    private int mQuestionsLength = mQuestions.mQuestions.length;\n\n    Random r;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_counting);\n\n        r = new Random();\n\n        choice_one=(ImageView)findViewById(R.id.choice_1);\n        choice_two=(ImageView)findViewById(R.id.choice_2);\n        choice_three=(ImageView)findViewById(R.id.choice_3);\n        choice_four=(ImageView)findViewById(R.id.choice_4);\n\n        choice_one.setTag(1);\n        choice_two.setTag(2);\n        choice_three.setTag(3);\n        choice_four.setTag(4);\n\n        question=(ImageView)findViewById(R.id.question);\n\n        updateQuestions(r.nextInt(mQuestionsLength));\n\n        choice_one.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if(getImageResource(choice_one) == mAnswer ){\n                    mp=MediaPlayer.create(counting.this,R.raw.bird);\n                    mp.start();\n                    updateQuestions(r.nextInt(mQuestionsLength));\n                }else{\n                    mp=MediaPlayer.create(counting.this,R.raw.april);\n                    mp.start();\n                }\n            }\n        });\n\n        choice_two.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if(getImageResource(choice_two) == mAnswer){\n                    mp=MediaPlayer.create(counting.this,R.raw.bird);\n                    mp.start();\n                    updateQuestions(r.nextInt(mQuestionsLength));\n                }else{\n                    mp=MediaPlayer.create(counting.this,R.raw.april);\n                    mp.start();\n                }\n            }\n        });\n\n        choice_three.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if(getImageResource(choice_three) == mAnswer){\n                    mp=MediaPlayer.create(counting.this,R.raw.bird);\n                    mp.start();\n                    updateQuestions(r.nextInt(mQuestionsLength));\n                }else{\n                    mp=MediaPlayer.create(counting.this,R.raw.april);\n                    mp.start();\n                }\n            }\n        });\n\n        choice_four.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if(getImageResource(choice_four) == mAnswer){\n                    mp=MediaPlayer.create(counting.this,R.raw.bird);\n                    mp.start();\n                    updateQuestions(r.nextInt(mQuestionsLength));\n                }else{\n                    mp=MediaPlayer.create(counting.this,R.raw.april);\n                    mp.start();\n                }\n            }\n        });\n    }\n\n    private int getImageResource(ImageView iv ){\n        return (Integer)iv.getTag();\n    }\n\n    private void updateQuestions(int num){\n        question.setImageResource(mQuestions.getQuestion(num));\n        choice_one.setImageResource(mQuestions.getChoice1(num));\n        choice_two.setImageResource(mQuestions.getChoice2(num));\n        choice_three.setImageResource(mQuestions.getChoice3(num));\n        choice_four.setImageResource(mQuestions.getChoice4(num));\n\n        mAnswer = mQuestions.getAnswer(num);\n    } \n}\n</code></pre>\n<p>question class:</p>\n<pre><code>public class Questions {\n    public int mQuestions[]={\n        R.drawable.onee,  R.drawable.twoe,  R.drawable.threee,  R.drawable.foure, R.drawable.sixe, R.drawable.eighte\n    };\n\n    public int mChoices[][]={\n        {R.drawable.counting_one,  R.drawable.counting_two,  R.drawable.counting_three,  R.drawable.counting_four},\n        {R.drawable.counting_one,  R.drawable.counting_two,  R.drawable.counting_three,  R.drawable.counting_four},\n        {R.drawable.counting_one,  R.drawable.counting_two,  R.drawable.counting_three,  R.drawable.counting_four},\n        {R.drawable.counting_one,  R.drawable.counting_two,  R.drawable.counting_three,  R.drawable.counting_four},\n        {R.drawable.counting_one,  R.drawable.counting_two,  R.drawable.counting_six,  R.drawable.counting_four},\n        {R.drawable.counting_one,  R.drawable.counting_eight,  R.drawable.counting_three,  R.drawable.counting_four}\n\n     };\n\n    public int mAnswers[]=\n{R.drawable.counting_one,R.drawable.counting_two,R.drawable.counting_three,\n        R.drawable.counting_four, R.drawable.counting_six, R.drawable.counting_eight};\n\n    public int getQuestion(int a){\n        int question = mQuestions[a];\n        return question;\n    }\n\n    public int getChoice1(int a){\n        int choice = mChoices[a][0];\n        return choice;\n    }\n\n    public int getChoice2(int a){\n        int choice = mChoices[a][1];\n        return choice;\n    }\n\n    public int getChoice3(int a){\n        int choice = mChoices[a][2];\n        return choice;\n    }\n\n    public int getChoice4(int a){\n        int choice = mChoices[a][3];\n        return choice;\n    }\n\n    public int getAnswer(int a){\n        int answer = mAnswers[a];\n        return answer;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","database","jpa","boot"],"answers":[{"tags":[],"owner":{"account_id":25934452,"reputation":1,"user_id":19654987,"display_name":"Brasilian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659200255,"creation_date":1659200255,"answer_id":73177549,"question_id":73177470,"body_markdown":"If your user class has getters you can dot access them instead of just returning the user \r\n\r\nLike user.getName\r\n\r\nYou can also after adding each user to users iterate through them with the getter and return a List&lt;String&gt;","title":"Spring Boot JPA - How can you fetch only the usernames from repository?","body":"<p>If your user class has getters you can dot access them instead of just returning the user</p>\n<p>Like user.getName</p>\n<p>You can also after adding each user to users iterate through them with the getter and return a List</p>\n"},{"tags":[],"owner":{"account_id":2324765,"reputation":3694,"user_id":2039546,"display_name":"İsmail Y."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659201569,"creation_date":1659200644,"answer_id":73177589,"question_id":73177470,"body_markdown":"You can convert the users list you have into a list containing only names using **[Stream](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html)** and pass it return.\r\n\r\n##### If you want to do it with the new method;\r\n\r\nAdd a new method, call the method that takes existing users, and then you can extract the list of **`name` field** in one shot in this way:\r\n\r\n```java\r\npublic List&lt;String&gt; findAllOnlyNames() {\r\n    List&lt;User&gt; users = findAll();\r\n    return users.stream()\r\n            .map(User::getName)\r\n            .collect(Collectors.toList());\r\n}\r\n```\r\n\r\n##### If you want to change the method as it is;\r\n\r\n```java\r\npublic List&lt;String&gt; findAll() {\r\n    List&lt;User&gt; users = new ArrayList&lt;&gt;();\r\n    repository.findAll().forEach(users::add);\r\n    return users.stream()\r\n            .map(User::getName)\r\n            .collect(Collectors.toList());\r\n}","title":"Spring Boot JPA - How can you fetch only the usernames from repository?","body":"<p>You can convert the users list you have into a list containing only names using <strong><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\">Stream</a></strong> and pass it return.</p>\n<h5>If you want to do it with the new method;</h5>\n<p>Add a new method, call the method that takes existing users, and then you can extract the list of <strong><code>name</code> field</strong> in one shot in this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;String&gt; findAllOnlyNames() {\n    List&lt;User&gt; users = findAll();\n    return users.stream()\n            .map(User::getName)\n            .collect(Collectors.toList());\n}\n</code></pre>\n<h5>If you want to change the method as it is;</h5>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;String&gt; findAll() {\n    List&lt;User&gt; users = new ArrayList&lt;&gt;();\n    repository.findAll().forEach(users::add);\n    return users.stream()\n            .map(User::getName)\n            .collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659202015,"creation_date":1659202015,"answer_id":73177756,"question_id":73177470,"body_markdown":"You can also create a new method on the repository:\r\n\r\n    interface UserRepository extends ... {\r\n        @Query(&quot;select name from #{#entityName}&quot;)\r\n        List&lt;String&gt; findAllUserName();\r\n    } \r\n\r\nWhich would avoid returning the whole `User` entity when you don&#39;t need it.\r\n\r\nSee documentation: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query\r\n\r\n","title":"Spring Boot JPA - How can you fetch only the usernames from repository?","body":"<p>You can also create a new method on the repository:</p>\n<pre><code>interface UserRepository extends ... {\n    @Query(&quot;select name from #{#entityName}&quot;)\n    List&lt;String&gt; findAllUserName();\n} \n</code></pre>\n<p>Which would avoid returning the whole <code>User</code> entity when you don't need it.</p>\n<p>See documentation: <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query</a></p>\n"}],"owner":{"account_id":5954392,"reputation":153,"user_id":4681515,"display_name":"Adam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1659202015,"creation_date":1659199556,"question_id":73177470,"body_markdown":"How can you modify this function so it only returns the users&#39; names?\r\n\r\n    public List&lt;User&gt; findAll() \r\n\t{\r\n\t\tList&lt;User&gt; users = new ArrayList&lt;&gt;();\r\n\t\trepository.findAll().forEach(users::add);\r\n\t    return users;\r\n\t}\r\n","title":"Spring Boot JPA - How can you fetch only the usernames from repository?","body":"<p>How can you modify this function so it only returns the users' names?</p>\n<pre><code>public List&lt;User&gt; findAll() \n{\n    List&lt;User&gt; users = new ArrayList&lt;&gt;();\n    repository.findAll().forEach(users::add);\n    return users;\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1659187115,"post_id":73175833,"comment_id":129236572,"body_markdown":"Can you clarify what behavior you are trying to get from `onTouchListener` and how it is different from just using `onClickListener`?","body":"Can you clarify what behavior you are trying to get from <code>onTouchListener</code> and how it is different from just using <code>onClickListener</code>?"},{"owner":{"account_id":25916181,"reputation":1,"user_id":19639547,"display_name":"Xtra 514"},"score":0,"creation_date":1659190280,"post_id":73175833,"comment_id":129237263,"body_markdown":"Yes Both Are different we cant control time in OnLongClickListener but we can do this In OnTouchListener","body":"Yes Both Are different we cant control time in OnLongClickListener but we can do this In OnTouchListener"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1659190635,"post_id":73175833,"comment_id":129237358,"body_markdown":"So put - *specifically* - what you want to do in the question. &quot;Control time&quot; is not specific. Here&#39;s an example &quot;I want the user to go to the web page after holding the button down for 1.5 seconds&quot;.","body":"So put - <i>specifically</i> - what you want to do in the question. &quot;Control time&quot; is not specific. Here&#39;s an example &quot;I want the user to go to the web page after holding the button down for 1.5 seconds&quot;."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1659190733,"post_id":73175833,"comment_id":129237374,"body_markdown":"Also, have you tried the solutions [here](https://stackoverflow.com/questions/7934245/longclick-event-happens-too-quickly-how-can-i-increase-the-clicktime-required-t)? You should probably also consider whether it will be confusing for your app&#39;s users to have some custom long-click behavior in your app that is different from &quot;standard android long clicks&quot;. Usually it is much better for usability to stick with convention so your app behaves in a way that is consistent with other android programs.","body":"Also, have you tried the solutions <a href=\"https://stackoverflow.com/questions/7934245/longclick-event-happens-too-quickly-how-can-i-increase-the-clicktime-required-t\">here</a>? You should probably also consider whether it will be confusing for your app&#39;s users to have some custom long-click behavior in your app that is different from &quot;standard android long clicks&quot;. Usually it is much better for usability to stick with convention so your app behaves in a way that is consistent with other android programs."}],"answers":[{"tags":[],"owner":{"account_id":25906822,"reputation":66,"user_id":19631789,"display_name":"Jon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659201186,"creation_date":1659189089,"answer_id":73176162,"question_id":73175833,"body_markdown":"Not sure why you want to use OnTouchListener instead of OnClickListener since I don&#39;t think there is any difference between them referring to button events.\r\n\r\nwhit OnClickListener you could capture long press with:\r\n\r\n        button.setOnLongClickListener {\r\n            //ACTION\r\n            \r\n            true\r\n        }\r\n\r\nEDIT: (for custom duration, you should use OnTouchListener, thats right) \r\n\r\nyou can do something like this:\r\n\r\n      long time = 0;\r\n\r\n      button.setOnTouchListener(new View.OnTouchListener() {\r\n      @Override\r\n      public boolean onTouch(View view, MotionEvent motionEvent) {\r\n           if(motionEvent.getAction() == MotionEvent.ACTION_DOWN){\r\n                time = System.currentTimeMillis();\r\n           }\r\n           else if(motionEvent.getAction() == MotionEvent.ACTION_UP){\r\n                double duration = (System.currentTimeMillis() - time / 1000.0);\r\n                if(duration &gt; 5){\r\n                    action2();\r\n                    return true;\r\n                }else if(duration &gt; 3.2){\r\n                    action1();\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n            }\r\n       });","title":"How To Use OnTouchListener To Open New Activity","body":"<p>Not sure why you want to use OnTouchListener instead of OnClickListener since I don't think there is any difference between them referring to button events.</p>\n<p>whit OnClickListener you could capture long press with:</p>\n<pre><code>    button.setOnLongClickListener {\n        //ACTION\n        \n        true\n    }\n</code></pre>\n<p>EDIT: (for custom duration, you should use OnTouchListener, thats right)</p>\n<p>you can do something like this:</p>\n<pre><code>  long time = 0;\n\n  button.setOnTouchListener(new View.OnTouchListener() {\n  @Override\n  public boolean onTouch(View view, MotionEvent motionEvent) {\n       if(motionEvent.getAction() == MotionEvent.ACTION_DOWN){\n            time = System.currentTimeMillis();\n       }\n       else if(motionEvent.getAction() == MotionEvent.ACTION_UP){\n            double duration = (System.currentTimeMillis() - time / 1000.0);\n            if(duration &gt; 5){\n                action2();\n                return true;\n            }else if(duration &gt; 3.2){\n                action1();\n                return true;\n            }\n        }\n        return false;\n        }\n   });\n</code></pre>\n"}],"owner":{"account_id":25916181,"reputation":1,"user_id":19639547,"display_name":"Xtra 514"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1659201186,"creation_date":1659185962,"question_id":73175833,"body_markdown":"I Tried OnClickListener an OnLongClickListener And yea it worked but those are too quick and i want to make them even more longer and i am just unable to use OntouchListener To Open New Activity And i have no clue almost tried everything nothing worked\r\n\r\n**Activity Name: Website**\r\n\r\n**Button id: action_button (its a floatingActionbutton)**\r\n\r\n\r\n    @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.activity_main);\r\n        \r\n        \r\n                FloatingActionButton actionButton = findViewById(R.id.action_button);\r\n        \r\n                defineView();\r\n                handleIntent();\r\n                defineActionBar();\r\n                checkPermission();\r\n                          \r\n                           //i tried both here \r\n        \r\n        \r\n            public void openWebsite() {\r\n                Intent intent = new Intent(this, Website.class);\r\n                startActivity(intent);","title":"How To Use OnTouchListener To Open New Activity","body":"<p>I Tried OnClickListener an OnLongClickListener And yea it worked but those are too quick and i want to make them even more longer and i am just unable to use OntouchListener To Open New Activity And i have no clue almost tried everything nothing worked</p>\n<p><strong>Activity Name: Website</strong></p>\n<p><strong>Button id: action_button (its a floatingActionbutton)</strong></p>\n<pre><code>@Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n    \n    \n            FloatingActionButton actionButton = findViewById(R.id.action_button);\n    \n            defineView();\n            handleIntent();\n            defineActionBar();\n            checkPermission();\n                      \n                       //i tried both here \n    \n    \n        public void openWebsite() {\n            Intent intent = new Intent(this, Website.class);\n            startActivity(intent);\n</code></pre>\n"},{"tags":["java","try-catch","bufferedreader"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1384969796,"post_id":20103215,"comment_id":29953922,"body_markdown":"Any Java sentence must be inside a method. This code is not.","body":"Any Java sentence must be inside a method. This code is not."}],"answers":[{"tags":[],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1384970254,"creation_date":1384969843,"answer_id":20103245,"question_id":20103215,"body_markdown":"Any Java sentence must be inside a method. This code is not.\r\n\r\nThe fact that `BufferedWriter wr = new BufferedWriter(new FileWriter(&quot;target.txt&quot;));` works is because is declared as a [default field](https://stackoverflow.com/questions/714791/what-is-the-default-scope-of-a-method-in-java) (no scope mark was given) in your `file_interface` class and is being initialized. It is similar to do:\r\n\r\n    public class file_interface {\r\n        BufferedWriter wr;\r\n        public file_interface() {\r\n             wr = new BufferedWriter(new FileWriter(&quot;target.txt&quot;));\r\n        }\r\n    }\r\n\r\nJust create a method to hold your logic:\r\n\r\n    public class file_interface {\r\n        public void foo() {\r\n            //your code goes here...\r\n            //now this is not a field but a variable in the method\r\n            BufferedWriter wr = new BufferedWriter(new FileWriter(&quot;target.txt&quot;));\r\n            BufferedReader br = new BufferedReader(new FileReader(&quot;Assign4.txt&quot;));\r\n            //rest of your code...\r\n            try  {\r\n                 //...\r\n            } catch (...) {\r\n                 //...\r\n            }\r\n            //...\r\n        }\r\n    }\r\n\r\nThen just call your method in your client class. For example, a class with the `main` method:\r\n\r\n    public class AMainClass {\r\n        public static void main(String[] args) {\r\n            file_interface fi = new file_interface();\r\n            fi.foo();\r\n        }\r\n    }\r\n\r\nAnother example, a class with another method:\r\n\r\n    public class SomeClientClass {\r\n        public void bar() {\r\n            file_interface fi = new file_interface();\r\n            fi.foo();\r\n        }\r\n    }\r\n\r\nNote: You should also follow the Java Naming Conventions, so you should rename `file_interface` by `FileInterface` or even `MyFileUtil` since `interface` word sounds more to declare an, uhm, `interface`.\r\n","title":"Getting Illegal start of type on try block","body":"<p>Any Java sentence must be inside a method. This code is not.</p>\n\n<p>The fact that <code>BufferedWriter wr = new BufferedWriter(new FileWriter(\"target.txt\"));</code> works is because is declared as a <a href=\"https://stackoverflow.com/questions/714791/what-is-the-default-scope-of-a-method-in-java\">default field</a> (no scope mark was given) in your <code>file_interface</code> class and is being initialized. It is similar to do:</p>\n\n<pre><code>public class file_interface {\n    BufferedWriter wr;\n    public file_interface() {\n         wr = new BufferedWriter(new FileWriter(\"target.txt\"));\n    }\n}\n</code></pre>\n\n<p>Just create a method to hold your logic:</p>\n\n<pre><code>public class file_interface {\n    public void foo() {\n        //your code goes here...\n        //now this is not a field but a variable in the method\n        BufferedWriter wr = new BufferedWriter(new FileWriter(\"target.txt\"));\n        BufferedReader br = new BufferedReader(new FileReader(\"Assign4.txt\"));\n        //rest of your code...\n        try  {\n             //...\n        } catch (...) {\n             //...\n        }\n        //...\n    }\n}\n</code></pre>\n\n<p>Then just call your method in your client class. For example, a class with the <code>main</code> method:</p>\n\n<pre><code>public class AMainClass {\n    public static void main(String[] args) {\n        file_interface fi = new file_interface();\n        fi.foo();\n    }\n}\n</code></pre>\n\n<p>Another example, a class with another method:</p>\n\n<pre><code>public class SomeClientClass {\n    public void bar() {\n        file_interface fi = new file_interface();\n        fi.foo();\n    }\n}\n</code></pre>\n\n<p>Note: You should also follow the Java Naming Conventions, so you should rename <code>file_interface</code> by <code>FileInterface</code> or even <code>MyFileUtil</code> since <code>interface</code> word sounds more to declare an, uhm, <code>interface</code>.</p>\n"}],"owner":{"account_id":3613670,"reputation":405,"user_id":3014100,"accept_rate":80,"display_name":"Taylor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15067,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":20103245,"answer_count":1,"score":2,"last_activity_date":1659200882,"creation_date":1384969763,"question_id":20103215,"body_markdown":"So Im trying to get a basic reader going so that I can work with files for an authentication process later.\r\n\r\nThe problem I am having is that I get an error on my BufferedReader line that causes my try function to throw an illegal start exception and it wont run.  Eclipse is showing me an error on the semicolon at the end of the br declaration and says I should be putting a { but I can&#39;t see why that would be neccessary.\r\n\r\n\tBufferedReader br = new BufferedReader(new FileReader(&quot;Assign4.txt&quot;));\r\n\r\nI have tried to put that there but it breaks the entire try section.\r\n\r\n\r\n    package main;\r\n    \r\n    import java.io.*;\r\n    \r\n    public class file_interface\r\n    {\r\n    \tBufferedWriter wr = new BufferedWriter(new FileWriter(&quot;target.txt&quot;));\r\n    \tBufferedReader br = new BufferedReader(new FileReader(&quot;Assign4.txt&quot;));\r\n    \r\n    \t    try \r\n    \t    {\r\n    \t        int count = 1;  \r\n    \t        StringBuilder sb = new StringBuilder();\r\n    \t        String line = br.readLine();            \r\n    \t        while (line != null) \r\n    \t        {\r\n    \t            sb.append(count++);\r\n    \t            sb.append(line);\r\n    \t            sb.append(&quot;\\n&quot;);\r\n    \t            wr.write(line);\r\n    \t            line = br.readLine();    \r\n    \t        }\r\n    \t    } \r\n    \t    catch (IOException e) \r\n    \t    {\r\n    \t    \tSystem.err.println(&quot;Error: &quot; + e);\r\n    \t    }\r\n    \t    \r\n    \t    finally\r\n    \t    {\r\n    \t        br.close();\r\n    \t        wr.close();\r\n    \t    }\r\n    }\r\n    }\r\n\r\n\r\n","title":"Getting Illegal start of type on try block","body":"<p>So Im trying to get a basic reader going so that I can work with files for an authentication process later.</p>\n\n<p>The problem I am having is that I get an error on my BufferedReader line that causes my try function to throw an illegal start exception and it wont run.  Eclipse is showing me an error on the semicolon at the end of the br declaration and says I should be putting a { but I can't see why that would be neccessary.</p>\n\n<pre><code>BufferedReader br = new BufferedReader(new FileReader(\"Assign4.txt\"));\n</code></pre>\n\n<p>I have tried to put that there but it breaks the entire try section.</p>\n\n<pre><code>package main;\n\nimport java.io.*;\n\npublic class file_interface\n{\n    BufferedWriter wr = new BufferedWriter(new FileWriter(\"target.txt\"));\n    BufferedReader br = new BufferedReader(new FileReader(\"Assign4.txt\"));\n\n        try \n        {\n            int count = 1;  \n            StringBuilder sb = new StringBuilder();\n            String line = br.readLine();            \n            while (line != null) \n            {\n                sb.append(count++);\n                sb.append(line);\n                sb.append(\"\\n\");\n                wr.write(line);\n                line = br.readLine();    \n            }\n        } \n        catch (IOException e) \n        {\n            System.err.println(\"Error: \" + e);\n        }\n\n        finally\n        {\n            br.close();\n            wr.close();\n        }\n}\n}\n</code></pre>\n"},{"tags":["java","visual-studio-code","compilation","javac"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1642694384,"post_id":70789408,"comment_id":125144779,"body_markdown":"`javac A.java B.java C.java`? (And note that this isn&#39;t _starting_ the program, it&#39;s just compiling it).","body":"<code>javac A.java B.java C.java</code>? (And note that this isn&#39;t <i>starting</i> the program, it&#39;s just compiling it)."},{"owner":{"account_id":13555211,"reputation":59,"user_id":13900113,"display_name":"Sandmann"},"score":0,"creation_date":1642694628,"post_id":70789408,"comment_id":125144897,"body_markdown":"@AndyTurner OMG that worked, thank you so much!","body":"@AndyTurner OMG that worked, thank you so much!"}],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659200495,"creation_date":1659198679,"answer_id":73177365,"question_id":70789408,"body_markdown":"You can _compile_ the set of files –&#160;A.java, B.java, and C.java – by [using `javac` and a wildcard](https://docs.oracle.com/en/java/javase/18/docs/specs/man/javac.html#example-of-compiling-multiple-source-files), like this:\r\n```\r\njavac *.java\r\n```\r\n\r\nTo _run_ (or &quot;start&quot;) your program, you would use `java` to [start the Java Virtual Machine](https://docs.oracle.com/javase/specs/jls/se18/html/jls-12.html#jls-12.1), followed by whatever classes or jars you want to run in the JVM.\r\n\r\nHere&#39;s a section in the Java Tutorial which includes examples for [compiling and running in Windows](https://docs.oracle.com/javase/tutorial/getStarted/cupojava/win32.html), and a similar example for [Mac, Linux and Solaris](https://docs.oracle.com/javase/tutorial/getStarted/cupojava/unix.html).\r\n","title":"How to start java programm in this scenario?","body":"<p>You can <em>compile</em> the set of files – A.java, B.java, and C.java – by <a href=\"https://docs.oracle.com/en/java/javase/18/docs/specs/man/javac.html#example-of-compiling-multiple-source-files\" rel=\"nofollow noreferrer\">using <code>javac</code> and a wildcard</a>, like this:</p>\n<pre><code>javac *.java\n</code></pre>\n<p>To <em>run</em> (or &quot;start&quot;) your program, you would use <code>java</code> to <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-12.html#jls-12.1\" rel=\"nofollow noreferrer\">start the Java Virtual Machine</a>, followed by whatever classes or jars you want to run in the JVM.</p>\n<p>Here's a section in the Java Tutorial which includes examples for <a href=\"https://docs.oracle.com/javase/tutorial/getStarted/cupojava/win32.html\" rel=\"nofollow noreferrer\">compiling and running in Windows</a>, and a similar example for <a href=\"https://docs.oracle.com/javase/tutorial/getStarted/cupojava/unix.html\" rel=\"nofollow noreferrer\">Mac, Linux and Solaris</a>.</p>\n"}],"owner":{"account_id":13555211,"reputation":59,"user_id":13900113,"display_name":"Sandmann"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73177365,"answer_count":1,"score":0,"last_activity_date":1659200495,"creation_date":1642694268,"question_id":70789408,"body_markdown":"Im trying to open a java file where I reference an other java file. \r\nSetup as follows:\r\nI have classes A, B and C like the following:\r\n\r\nclass A:\r\n\r\n    package proj;\r\n\r\n    public class A {\r\n        public static void main(String[] args) {\r\n            B b = new B();\r\n        }\r\n    }\r\nclass B:\r\n\r\n    package proj;\r\n    public class B {\r\n        C c;\r\n    }\r\n\r\nclass C:\r\n\r\n    package proj;\r\n    public class C {\r\n        B b;\r\n    }\r\n\r\n\r\nWhen I try to type in terminal ```javac A.java```, an error occurrs (see below). Same when I try  ```javac B.java``` or ```javac C.java```. How can I start my java programm?\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nerror:\r\n\r\n    Desktop\\test\\proj&gt; javac A.java\r\n    A.java:5: error: cannot find symbol\r\n            B b = new B();\r\n            ^\r\n    symbol:   class B\r\n    location: class A\r\n    A.java:5: error: cannot find symbol\r\n            B b = new B();\r\n                    ^\r\n    symbol:   class B\r\n    location: class A\r\n    2 errors\r\n  [1]: https://i.stack.imgur.com/e5f2M.png","title":"How to start java programm in this scenario?","body":"<p>Im trying to open a java file where I reference an other java file.\nSetup as follows:\nI have classes A, B and C like the following:</p>\n<p>class A:</p>\n<pre><code>package proj;\n\npublic class A {\n    public static void main(String[] args) {\n        B b = new B();\n    }\n}\n</code></pre>\n<p>class B:</p>\n<pre><code>package proj;\npublic class B {\n    C c;\n}\n</code></pre>\n<p>class C:</p>\n<pre><code>package proj;\npublic class C {\n    B b;\n}\n</code></pre>\n<p>When I try to type in terminal <code>javac A.java</code>, an error occurrs (see below). Same when I try  <code>javac B.java</code> or <code>javac C.java</code>. How can I start my java programm?</p>\n<p><a href=\"https://i.stack.imgur.com/e5f2M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e5f2M.png\" alt=\"enter image description here\" /></a></p>\n<p>error:</p>\n<pre><code>Desktop\\test\\proj&gt; javac A.java\nA.java:5: error: cannot find symbol\n        B b = new B();\n        ^\nsymbol:   class B\nlocation: class A\nA.java:5: error: cannot find symbol\n        B b = new B();\n                ^\nsymbol:   class B\nlocation: class A\n2 errors\n</code></pre>\n"},{"tags":["java","android","toast","app-inventor"],"comments":[{"owner":{"account_id":18264438,"reputation":467,"user_id":13296516,"display_name":"null_override"},"score":0,"creation_date":1596880792,"post_id":63314077,"comment_id":111956909,"body_markdown":"I use Toasty for beautiful toasts.Here&#39;s the link:  https://github.com/GrenderG/Toasty","body":"I use Toasty for beautiful toasts.Here&#39;s the link:  <a href=\"https://github.com/GrenderG/Toasty\" rel=\"nofollow noreferrer\">github.com/GrenderG/Toasty</a>"},{"owner":{"account_id":17330248,"reputation":46,"user_id":12553545,"display_name":"Devil TM"},"score":0,"creation_date":1596882027,"post_id":63314077,"comment_id":111957218,"body_markdown":"Thanks for providing me information but I have to create without using any library","body":"Thanks for providing me information but I have to create without using any library"},{"owner":{"account_id":10045574,"reputation":771,"user_id":10388072,"display_name":"Manuel Mato"},"score":0,"creation_date":1596906089,"post_id":63314077,"comment_id":111963928,"body_markdown":"If you want to avoid problems, Android blocks the custom Toast if use the setView method. https://developer.android.com/preview/features/toasts?hl=es-419","body":"If you want to avoid problems, Android blocks the custom Toast if use the setView method. <a href=\"https://developer.android.com/preview/features/toasts?hl=es-419\" rel=\"nofollow noreferrer\">developer.android.com/preview/features/toasts?hl=es-419</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user18340346"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659200209,"creation_date":1659200209,"answer_id":73177542,"question_id":63314077,"body_markdown":"I don&#39;t use app inventor and it&#39;s been a long time, but here is a solution using only java, in case someone still needs it.\r\n\r\n    public void createToast(AndroidViewComponent component,int gravity1,int gravity2){\r\n       \r\n        View content = component.getView();\r\n        try{\r\n            //declare content\r\n            Toast toast = new Toast(context);\r\n            LinearLayout toast_layout = new LinearLayout(context);\r\n            TextView toast_msg = new TextView(context);\r\n            //add rounded border to toast\r\n            android.graphics.drawable.GradientDrawable toast_borders = new android.graphics.drawable.GradientDrawable();\r\n            //background color of toast\r\n            toast_borders.setColor(Color.parseColor(&quot;#434343&quot;));\r\n            //round size\r\n            toast_borders.setCornerRadius(20);\r\n            //add shadow\r\n            toast_layout.setElevation(15);\r\n            toast_layout.setBackground(toast_borders);\r\n\r\n            //set layout type\r\n            toast_layout.setLayoutParams(new LinearLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));\r\n            toast_layout.setOrientation(LinearLayout.VERTICAL);\r\n\r\n            //layout padding\r\n            toast_layout.setPadding(15, 15, 16, 15);\r\n\r\n            //text size\r\n            toast_msg.setTextSize(15);\r\n            //text padding\r\n            toast_msg.setPadding(15, 15, 16, 15);\r\n            //text color\r\n            toast_msg.setTextColor(Color.parseColor(&quot;#ff0000&quot;));\r\n            //set text\r\n            toast_msg.setText(&quot;Your Message!&quot;);\r\n\r\n            //add your text to the toast layout\r\n            toast_layout.addView(toast_msg);  \r\n            //set the layout to your toast\r\n            toast.setView(toast_layout);\r\n\r\n            //set toast duration\r\n            toast.setDuration(Toast.LENGTH_LONG);\r\n            toast.setGravity(gravity1 | gravity2, 32, 32);\r\n            toast.show();\r\n            if(autoInvisible == true){\r\n                content.setVisibility(View.GONE);}\r\n        }catch (Exception e){e.printStackTrace();}\r\n    }","title":"Custom toast without using XML","body":"<p>I don't use app inventor and it's been a long time, but here is a solution using only java, in case someone still needs it.</p>\n<pre><code>public void createToast(AndroidViewComponent component,int gravity1,int gravity2){\n   \n    View content = component.getView();\n    try{\n        //declare content\n        Toast toast = new Toast(context);\n        LinearLayout toast_layout = new LinearLayout(context);\n        TextView toast_msg = new TextView(context);\n        //add rounded border to toast\n        android.graphics.drawable.GradientDrawable toast_borders = new android.graphics.drawable.GradientDrawable();\n        //background color of toast\n        toast_borders.setColor(Color.parseColor(&quot;#434343&quot;));\n        //round size\n        toast_borders.setCornerRadius(20);\n        //add shadow\n        toast_layout.setElevation(15);\n        toast_layout.setBackground(toast_borders);\n\n        //set layout type\n        toast_layout.setLayoutParams(new LinearLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));\n        toast_layout.setOrientation(LinearLayout.VERTICAL);\n\n        //layout padding\n        toast_layout.setPadding(15, 15, 16, 15);\n\n        //text size\n        toast_msg.setTextSize(15);\n        //text padding\n        toast_msg.setPadding(15, 15, 16, 15);\n        //text color\n        toast_msg.setTextColor(Color.parseColor(&quot;#ff0000&quot;));\n        //set text\n        toast_msg.setText(&quot;Your Message!&quot;);\n\n        //add your text to the toast layout\n        toast_layout.addView(toast_msg);  \n        //set the layout to your toast\n        toast.setView(toast_layout);\n\n        //set toast duration\n        toast.setDuration(Toast.LENGTH_LONG);\n        toast.setGravity(gravity1 | gravity2, 32, 32);\n        toast.show();\n        if(autoInvisible == true){\n            content.setVisibility(View.GONE);}\n    }catch (Exception e){e.printStackTrace();}\n}\n</code></pre>\n"}],"owner":{"account_id":17330248,"reputation":46,"user_id":12553545,"display_name":"Devil TM"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659200209,"creation_date":1596880683,"question_id":63314077,"body_markdown":" I am creating a extension for app inventor for custom toast in which I am only allowed to use java but in the android it can be done using Inflater. Is there any way to create custom toast with only Java.\r\n\r\nHere is what I have did\r\n\r\n    public void createToast(AndroidViewComponent component,int gravity1,int gravity2){\r\n\ttoast = new Toast(context);\r\n        View content = component.getView();\r\n        try{\r\n        toast.setView(content);\r\n        toast.setDuration(Toast.LENGTH_LONG);\r\n        toast.setGravity(gravity1 | gravity2, 32, 32);\r\n        toast.show();\r\n            if(autoInvisible == true){\r\n                content.setVisibility(View.GONE);}\r\n       \t  }catch (Exception e){e.printStackTrace();}\r\n      }\r\n\r\n\r\n ","title":"Custom toast without using XML","body":"<p>I am creating a extension for app inventor for custom toast in which I am only allowed to use java but in the android it can be done using Inflater. Is there any way to create custom toast with only Java.</p>\n<p>Here is what I have did</p>\n<pre><code>public void createToast(AndroidViewComponent component,int gravity1,int gravity2){\ntoast = new Toast(context);\n    View content = component.getView();\n    try{\n    toast.setView(content);\n    toast.setDuration(Toast.LENGTH_LONG);\n    toast.setGravity(gravity1 | gravity2, 32, 32);\n    toast.show();\n        if(autoInvisible == true){\n            content.setVisibility(View.GONE);}\n      }catch (Exception e){e.printStackTrace();}\n  }\n</code></pre>\n"},{"tags":["java","enums","static","public"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1659174041,"post_id":73174426,"comment_id":129234019,"body_markdown":"They are `static` so that the constants are associated with the class instead of an instance of the class. This ensures the constants are singletons, and that you can reference them without first needing an instance of the enum (which would not be possible to obtain as you are not allowed to instantiate enums yourself). They are `public` so that they are visible to outside code. Not sure what else to say about that, other than you control the visibility of an enum by changing the visibility of the enum class itself.","body":"They are <code>static</code> so that the constants are associated with the class instead of an instance of the class. This ensures the constants are singletons, and that you can reference them without first needing an instance of the enum (which would not be possible to obtain as you are not allowed to instantiate enums yourself). They are <code>public</code> so that they are visible to outside code. Not sure what else to say about that, other than you control the visibility of an enum by changing the visibility of the enum class itself."},{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":3,"creation_date":1659174331,"post_id":73174426,"comment_id":129234058,"body_markdown":"As a counter-question: why would you think it makes sense for them not to be `static` or `public`?","body":"As a counter-question: why would you think it makes sense for them not to be <code>static</code> or <code>public</code>?"}],"answers":[{"tags":[],"owner":{"account_id":19038874,"reputation":66,"user_id":13899433,"display_name":"Meenal Garg"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1659200166,"creation_date":1659176704,"answer_id":73174783,"question_id":73174426,"body_markdown":"If you would look at Java documentation, it is clearly mentioned that:\r\n\r\n&gt;Programmers can not invoke constructors of enum. \r\n\r\nwhich basically means that we can not create any object of enum using the keyword `new`. Now if enums weren&#39;t static, then how would we access them without any instance/object?\r\n\r\n    enum Color { RED, GREEN, BLUE; } // enum declaration\r\n    Color.RED //accessing enum constant\r\n\r\n\r\nIf you have noticed only have to access enum constants is through enum name (similar to how we access static members of any class).\r\nSo to be able to access enum constants without any object we need them to be static.\r\n\r\nAnd enums are by default public so that we can freely access them anywhere however this is not a necessity we can use private or protected modifiers as well.\r\n","title":"Why are enums in java public and static implicitly by nature?","body":"<p>If you would look at Java documentation, it is clearly mentioned that:</p>\n<blockquote>\n<p>Programmers can not invoke constructors of enum.</p>\n</blockquote>\n<p>which basically means that we can not create any object of enum using the keyword <code>new</code>. Now if enums weren't static, then how would we access them without any instance/object?</p>\n<pre><code>enum Color { RED, GREEN, BLUE; } // enum declaration\nColor.RED //accessing enum constant\n</code></pre>\n<p>If you have noticed only have to access enum constants is through enum name (similar to how we access static members of any class).\nSo to be able to access enum constants without any object we need them to be static.</p>\n<p>And enums are by default public so that we can freely access them anywhere however this is not a necessity we can use private or protected modifiers as well.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659198767,"creation_date":1659192266,"answer_id":73176543,"question_id":73174426,"body_markdown":"&gt; I have been recently studying Java `enums` and couldn&#39;t understand why they are implicitly public and static by nature.\r\n&gt;\r\n&gt; `final` I understand because they are constants but why the other tags?\r\n\r\nIt is complicated, but I think you have some of the facts incorrect there.\r\n\r\nAccording to the Java 17 Language Specification ([JLS 8.9][1])\r\n\r\n  - *&quot;It is a compile-time error if an `enum` declaration has the modifier `abstract`, `final`, `sealed`, or `non-sealed`.&quot;*\r\n\r\n    See below. \r\n\r\n  - *&quot;A **NESTED** `enum` class is implicitly `static`. That is, every member `enum` class and local `enum` class is `static`.&quot;*\r\n\r\n    And non-nested classes are implicitly static too.\r\n\r\n  - *&quot;It is a compile-time error if ... an enum declaration has **MORE THAN ONE OF** the access modifiers `public`, `protected`, and `private` (&#167;6.6).&quot;*\r\n\r\n    But that is the same as any other class.  This doesn&#39;t say that it is implicitly `public`.\r\n\r\n  - *&quot;An `enum` class is either implicitly `final` **OR** implicitly `sealed` ...&quot;*\r\n\r\n    There is something rather subtle going on here.  If an `enum` constant has a class body, then it actually defines an anonymous subclass of the `enum` class.  In this case, the `enum` class is not final in the sense of &quot;having no subclasses&quot;\r\n\r\n----------------\r\n\r\nSo:\r\n\r\n1.  Enum classes are NOT implicitly `public`.  They can be `private`, for example.\r\n\r\n2.  Enum classes MAY BE implicitly `final` in the &quot;has no subclasses&quot; sense.   But you were using `final` in the &quot;constantness&quot; sense.  The binding between an `enum` constant name and the corresponding value cannot change; i.e. it is implicitly final in that sense. \r\n\r\n    However, the `enum` values can have mutable fields, so they are not *necessarily* constant in the sense that `42` is a constant.  Just like you can change the array content with the following &quot;constant&quot;:\r\n    \r\n         final int[] CONST = new int[]{1, 2, 3};\r\n\r\n3.  Enum classes ARE implicitly `static` in contexts where another class *could* be non-static.\r\n\r\n\r\nWhy are they implicitly static?  Well if they weren&#39;t, what would it mean?  An implicitly static `enum` is effectively a set of singleton values.  But it it wasn&#39;t, then each time you created an instance of the class that enclosed the `enum` class, you would be creating a *new set* of `enum` values.  They are no longer singleton.  This would be most unexpected ... and I am finding it hard to see how it would be useful.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.9","title":"Why are enums in java public and static implicitly by nature?","body":"<blockquote>\n<p>I have been recently studying Java <code>enums</code> and couldn't understand why they are implicitly public and static by nature.</p>\n<p><code>final</code> I understand because they are constants but why the other tags?</p>\n</blockquote>\n<p>It is complicated, but I think you have some of the facts incorrect there.</p>\n<p>According to the Java 17 Language Specification (<a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.9\" rel=\"nofollow noreferrer\">JLS 8.9</a>)</p>\n<ul>\n<li><p><em>&quot;It is a compile-time error if an <code>enum</code> declaration has the modifier <code>abstract</code>, <code>final</code>, <code>sealed</code>, or <code>non-sealed</code>.&quot;</em></p>\n<p>See below.</p>\n</li>\n<li><p><em>&quot;A <strong>NESTED</strong> <code>enum</code> class is implicitly <code>static</code>. That is, every member <code>enum</code> class and local <code>enum</code> class is <code>static</code>.&quot;</em></p>\n<p>And non-nested classes are implicitly static too.</p>\n</li>\n<li><p><em>&quot;It is a compile-time error if ... an enum declaration has <strong>MORE THAN ONE OF</strong> the access modifiers <code>public</code>, <code>protected</code>, and <code>private</code> (§6.6).&quot;</em></p>\n<p>But that is the same as any other class.  This doesn't say that it is implicitly <code>public</code>.</p>\n</li>\n<li><p><em>&quot;An <code>enum</code> class is either implicitly <code>final</code> <strong>OR</strong> implicitly <code>sealed</code> ...&quot;</em></p>\n<p>There is something rather subtle going on here.  If an <code>enum</code> constant has a class body, then it actually defines an anonymous subclass of the <code>enum</code> class.  In this case, the <code>enum</code> class is not final in the sense of &quot;having no subclasses&quot;</p>\n</li>\n</ul>\n<hr />\n<p>So:</p>\n<ol>\n<li><p>Enum classes are NOT implicitly <code>public</code>.  They can be <code>private</code>, for example.</p>\n</li>\n<li><p>Enum classes MAY BE implicitly <code>final</code> in the &quot;has no subclasses&quot; sense.   But you were using <code>final</code> in the &quot;constantness&quot; sense.  The binding between an <code>enum</code> constant name and the corresponding value cannot change; i.e. it is implicitly final in that sense.</p>\n<p>However, the <code>enum</code> values can have mutable fields, so they are not <em>necessarily</em> constant in the sense that <code>42</code> is a constant.  Just like you can change the array content with the following &quot;constant&quot;:</p>\n<pre><code> final int[] CONST = new int[]{1, 2, 3};\n</code></pre>\n</li>\n<li><p>Enum classes ARE implicitly <code>static</code> in contexts where another class <em>could</em> be non-static.</p>\n</li>\n</ol>\n<p>Why are they implicitly static?  Well if they weren't, what would it mean?  An implicitly static <code>enum</code> is effectively a set of singleton values.  But it it wasn't, then each time you created an instance of the class that enclosed the <code>enum</code> class, you would be creating a <em>new set</em> of <code>enum</code> values.  They are no longer singleton.  This would be most unexpected ... and I am finding it hard to see how it would be useful.</p>\n"}],"owner":{"account_id":24085059,"reputation":3,"user_id":18059185,"display_name":"Phoenix_Fire"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1659276365,"accepted_answer_id":73176543,"answer_count":2,"score":-1,"last_activity_date":1659200166,"creation_date":1659173405,"question_id":73174426,"body_markdown":"I have been recently studying java enums and couldn&#39;t understand why they are implicitly public and static by nature. final I understand because they are constants but why the other tags?","title":"Why are enums in java public and static implicitly by nature?","body":"<p>I have been recently studying java enums and couldn't understand why they are implicitly public and static by nature. final I understand because they are constants but why the other tags?</p>\n"},{"tags":["java","performance","graphics","rendering","pixel"],"comments":[{"owner":{"display_name":"user1196549"},"score":0,"creation_date":1659200288,"post_id":73176493,"comment_id":129239507,"body_markdown":"You will probably observe some speedup by inlining the code of setRGB and splitting the rgb bytes once for all.","body":"You will probably observe some speedup by inlining the code of setRGB and splitting the rgb bytes once for all."}],"answers":[{"tags":[],"owner":{"account_id":25934165,"reputation":31,"user_id":19654754,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659197189,"creation_date":1659197189,"answer_id":73177168,"question_id":73176493,"body_markdown":"In general, setting every single pixel in a loop is a time consuming process. You could try to speed up your code by using various methods of WritableRaster but personally, I would use a 3d-library like [LWJGL](https://lwjgl.org) or even a 3d-game engine.","title":"Why set pixels images very slow","body":"<p>In general, setting every single pixel in a loop is a time consuming process. You could try to speed up your code by using various methods of WritableRaster but personally, I would use a 3d-library like <a href=\"https://lwjgl.org\" rel=\"nofollow noreferrer\">LWJGL</a> or even a 3d-game engine.</p>\n"},{"tags":[],"owner":{"account_id":12514905,"reputation":2235,"user_id":9194639,"display_name":"new Q Open Wid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659199996,"creation_date":1659199996,"answer_id":73177519,"question_id":73176493,"body_markdown":"Generally it&#39;s not a good idea to use Java&#39;s provided libraries when one wants to create a 3D game. They are very limited and have poor performance. I would advise looking at third-party libraries such as LWJGL. To replace the Java graphics libraries, use OpenGL and GLFW.\r\n\r\nThere are many tutorials on OpenGL which will help you learn, such as ThinMatrix&#39;s tutorials.\r\n\r\nIf you don&#39;t want to do all the work yourself, try a game engine or framework such as libGDX or jmonkeyengine, which are already optimized and provide an easy way to make your 3D game.","title":"Why set pixels images very slow","body":"<p>Generally it's not a good idea to use Java's provided libraries when one wants to create a 3D game. They are very limited and have poor performance. I would advise looking at third-party libraries such as LWJGL. To replace the Java graphics libraries, use OpenGL and GLFW.</p>\n<p>There are many tutorials on OpenGL which will help you learn, such as ThinMatrix's tutorials.</p>\n<p>If you don't want to do all the work yourself, try a game engine or framework such as libGDX or jmonkeyengine, which are already optimized and provide an easy way to make your 3D game.</p>\n"}],"owner":{"account_id":25933518,"reputation":33,"user_id":19654211,"display_name":"Teixayo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73177519,"answer_count":2,"score":1,"last_activity_date":1659199996,"creation_date":1659191826,"question_id":73176493,"body_markdown":"I am trying to render an image where I can manipulate all the pixels of the image, it works but I get 40 fps.\r\nWhile with graphics.fillrect I get 4000 fps and it&#39;s really slow and I need this to make a 3D game but it&#39;s very very slow.\r\n‍‍‍‍‍\r\n```\r\npublic class Renderer {\r\n\r\n\tprivate BufferedImage image = TextureLoader.load(&quot;./res/image.png&quot;);\r\n\r\n\tbyte[] pixels = ((DataBufferByte) image.getRaster().getDataBuffer()).getData();\r\n\r\n\tpublic void render(Graphics2D g) {\r\n\t\tfor(int x = 0; x &lt; 1920; x++) {\r\n\t\t\tfor(int y = 0; y &lt; 1080; y++) {\r\n\t\t\t\tsetRGB(x,y, Color.RED.getRGB());\r\n\t\t\t}\r\n\t\t}\r\n\t\tg.drawImage(image, 0, 0, 1920, 1080, null);\r\n\t}\r\n\t\r\n\tpublic void setRGB(int x, int y, int rgb) {\r\n\t\tint a = (y * 1920 + x) * 3;\r\n\t\tpixels[a] = (byte) ((rgb &gt;&gt; 0) &amp; 0xFF);\r\n\t\tpixels[a + 1] = (byte) ((rgb &gt;&gt; 8) &amp; 0xFF); \r\n\t\tpixels[a + 2] = (byte) ((rgb &gt;&gt; 16) &amp; 0xFF);\r\n\t\t\r\n\t}\r\n\r\n\r\n}\r\n\r\n```\r\n‍‍‍‍‍","title":"Why set pixels images very slow","body":"<p>I am trying to render an image where I can manipulate all the pixels of the image, it works but I get 40 fps.\nWhile with graphics.fillrect I get 4000 fps and it's really slow and I need this to make a 3D game but it's very very slow.\n‍‍‍‍‍</p>\n<pre><code>public class Renderer {\n\n    private BufferedImage image = TextureLoader.load(&quot;./res/image.png&quot;);\n\n    byte[] pixels = ((DataBufferByte) image.getRaster().getDataBuffer()).getData();\n\n    public void render(Graphics2D g) {\n        for(int x = 0; x &lt; 1920; x++) {\n            for(int y = 0; y &lt; 1080; y++) {\n                setRGB(x,y, Color.RED.getRGB());\n            }\n        }\n        g.drawImage(image, 0, 0, 1920, 1080, null);\n    }\n    \n    public void setRGB(int x, int y, int rgb) {\n        int a = (y * 1920 + x) * 3;\n        pixels[a] = (byte) ((rgb &gt;&gt; 0) &amp; 0xFF);\n        pixels[a + 1] = (byte) ((rgb &gt;&gt; 8) &amp; 0xFF); \n        pixels[a + 2] = (byte) ((rgb &gt;&gt; 16) &amp; 0xFF);\n        \n    }\n\n\n}\n\n</code></pre>\n<p>‍‍‍‍‍</p>\n"},{"tags":["java","android","autocompletetextview","material-components-android"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1659148639,"post_id":73172102,"comment_id":129230822,"body_markdown":"Are you sure that stack trace came from that exact code? Is `ArrayAdapter` the platform class, or is it your own custom class?","body":"Are you sure that stack trace came from that exact code? Is <code>ArrayAdapter</code> the platform class, or is it your own custom class?"},{"owner":{"account_id":9984377,"reputation":2086,"user_id":7386152,"accept_rate":52,"display_name":"Learn2Code"},"score":0,"creation_date":1659149191,"post_id":73172102,"comment_id":129230884,"body_markdown":"@MikeM. platform class, i did not implement any customization","body":"@MikeM. platform class, i did not implement any customization"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1659149436,"post_id":73172102,"comment_id":129230909,"body_markdown":"Hmm, dunno. The only way I can figure that particular Exception happening is if the `AutoCompleteTextView`&#39;s `Adapter` gives a null `Filter`, but `ArrayAdapter` won&#39;t do that.","body":"Hmm, dunno. The only way I can figure that particular Exception happening is if the <code>AutoCompleteTextView</code>&#39;s <code>Adapter</code> gives a null <code>Filter</code>, but <code>ArrayAdapter</code> won&#39;t do that."},{"owner":{"account_id":9984377,"reputation":2086,"user_id":7386152,"accept_rate":52,"display_name":"Learn2Code"},"score":0,"creation_date":1659193889,"post_id":73172102,"comment_id":129238064,"body_markdown":"@MikeM. well the error sates `Attempt to invoke virtual method &#39;java.lang.CharSequence android.widget.Filter.convertResultToString(java.lang.Object)&#39; on a null object reference` which its referencing a Filter!? Im so confused...","body":"@MikeM. well the error sates <code>Attempt to invoke virtual method &#39;java.lang.CharSequence android.widget.Filter.convertResultToString(java.lang.Object&zwnj;&#8203;)&#39; on a null object reference</code> which its referencing a Filter!? Im so confused..."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1659194389,"post_id":73172102,"comment_id":129238178,"body_markdown":"`AutoCompleteTextView` does some prep work right before showing its dropdown, including using the `Filter` to get the current item texts. That `Filter` comes from the `Adapter` set on the `AutoCompleteTextView`. As you can see in [the source](https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/widget/ArrayAdapter.java#522), `ArrayAdapter` can&#39;t really return a null `Filter`. About the only thing that could cause the given stack trace is if the `Adapter` returns a null `Filter`, so my first thought is that either the code or the stack trace here isn&#39;t current.","body":"<code>AutoCompleteTextView</code> does some prep work right before showing its dropdown, including using the <code>Filter</code> to get the current item texts. That <code>Filter</code> comes from the <code>Adapter</code> set on the <code>AutoCompleteTextView</code>. As you can see in <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/widget/ArrayAdapter.java#522\" rel=\"nofollow noreferrer\">the source</a>, <code>ArrayAdapter</code> can&#39;t really return a null <code>Filter</code>. About the only thing that could cause the given stack trace is if the <code>Adapter</code> returns a null <code>Filter</code>, so my first thought is that either the code or the stack trace here isn&#39;t current."},{"owner":{"account_id":9984377,"reputation":2086,"user_id":7386152,"accept_rate":52,"display_name":"Learn2Code"},"score":0,"creation_date":1659197737,"post_id":73172102,"comment_id":129238920,"body_markdown":"@MikeM. I have edited my question to include the full code, which what I provided earlier was also current (including the stack trace). Let me know if you see anything that sticks out to you.","body":"@MikeM. I have edited my question to include the full code, which what I provided earlier was also current (including the stack trace). Let me know if you see anything that sticks out to you."},{"owner":{"account_id":9984377,"reputation":2086,"user_id":7386152,"accept_rate":52,"display_name":"Learn2Code"},"score":0,"creation_date":1659200020,"post_id":73172102,"comment_id":129239436,"body_markdown":"@MikeM. sorry about that, i do assign it on the onCreate function `activity = this;`, i updated my question to reflect that as well. Again sorry for not adding that in initially","body":"@MikeM. sorry about that, i do assign it on the onCreate function <code>activity = this;</code>, i updated my question to reflect that as well. Again sorry for not adding that in initially"},{"owner":{"account_id":9984377,"reputation":2086,"user_id":7386152,"accept_rate":52,"display_name":"Learn2Code"},"score":0,"creation_date":1659200227,"post_id":73172102,"comment_id":129239488,"body_markdown":"@MikeM. i am thinking that the issue has to be there since if i comment that line out `numPlayersAdapter = new ArrayAdapter&lt;&gt;(activity, …);`, the view shows up fine and if i click on the material textview item the app doesn&#39;t crash, but nothing is displayed as well...","body":"@MikeM. i am thinking that the issue has to be there since if i comment that line out <code>numPlayersAdapter = new ArrayAdapter&lt;&gt;(activity, …);</code>, the view shows up fine and if i click on the material textview item the app doesn&#39;t crash, but nothing is displayed as well..."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1659201041,"post_id":73172102,"comment_id":129239674,"body_markdown":"Yeah, `AutoCompleteTextView` works just fine with a null `Adapter`. It&#39;s only when you have an `Adapter` that specifically returns null from `getFilter()` that would cause the given Exception, AFAICT.","body":"Yeah, <code>AutoCompleteTextView</code> works just fine with a null <code>Adapter</code>. It&#39;s only when you have an <code>Adapter</code> that specifically returns null from <code>getFilter()</code> that would cause the given Exception, AFAICT."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1659201595,"post_id":73172102,"comment_id":129239774,"body_markdown":"The only other thing that comes to mind atm is that maybe there&#39;s some sort of race condition with the Firebase callbacks, but that doesn&#39;t really make sense to me either. What happens if you set up the `AutoCompleteTextView` with dummy data directly in `onCreate()` instead?","body":"The only other thing that comes to mind atm is that maybe there&#39;s some sort of race condition with the Firebase callbacks, but that doesn&#39;t really make sense to me either. What happens if you set up the <code>AutoCompleteTextView</code> with dummy data directly in <code>onCreate()</code> instead?"},{"owner":{"account_id":9984377,"reputation":2086,"user_id":7386152,"accept_rate":52,"display_name":"Learn2Code"},"score":0,"creation_date":1659201618,"post_id":73172102,"comment_id":129239779,"body_markdown":"@MikeM. so what/how can the adapter return null from getFilter!?","body":"@MikeM. so what/how can the adapter return null from getFilter!?"},{"owner":{"account_id":9984377,"reputation":2086,"user_id":7386152,"accept_rate":52,"display_name":"Learn2Code"},"score":0,"creation_date":1659201718,"post_id":73172102,"comment_id":129239812,"body_markdown":"@MikeM. even if i use a static `String []` like such `String[] type = new String[] {&quot;item1&quot;, &quot;item2&quot;, &quot;item3&quot;};` and try and use it `numPlayersAdapter = new ArrayAdapter&lt;&gt;(activity, R.layout.number_of_players_dropdown_layout, type);` i get the exact same error!?","body":"@MikeM. even if i use a static <code>String []</code> like such <code>String[] type = new String[] {&quot;item1&quot;, &quot;item2&quot;, &quot;item3&quot;};</code> and try and use it <code>numPlayersAdapter = new ArrayAdapter&lt;&gt;(activity, R.layout.number_of_players_dropdown_layout, type);</code> i get the exact same error!?"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1659201759,"post_id":73172102,"comment_id":129239825,"body_markdown":"Threading mishap would be the only way that I can see, with `ArrayAdapter`, but everything you&#39;ve shown should be running on the UI thread, methinks.","body":"Threading mishap would be the only way that I can see, with <code>ArrayAdapter</code>, but everything you&#39;ve shown should be running on the UI thread, methinks."},{"owner":{"account_id":9984377,"reputation":2086,"user_id":7386152,"accept_rate":52,"display_name":"Learn2Code"},"score":0,"creation_date":1659202082,"post_id":73172102,"comment_id":129239907,"body_markdown":"@MikeM. still in the call back, should i move it to onCreate u think?","body":"@MikeM. still in the call back, should i move it to onCreate u think?"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1659202119,"post_id":73172102,"comment_id":129239916,"body_markdown":"At least for testing right now, yeah.","body":"At least for testing right now, yeah."},{"owner":{"account_id":9984377,"reputation":2086,"user_id":7386152,"accept_rate":52,"display_name":"Learn2Code"},"score":0,"creation_date":1659203793,"post_id":73172102,"comment_id":129240283,"body_markdown":"@MikeM. so if i move all the code to the onCreate it works just fine...","body":"@MikeM. so if i move all the code to the onCreate it works just fine..."},{"owner":{"account_id":9984377,"reputation":2086,"user_id":7386152,"accept_rate":52,"display_name":"Learn2Code"},"score":0,"creation_date":1659204060,"post_id":73172102,"comment_id":129240333,"body_markdown":"@MikeM. thank you for assisting on finding the reason it was crashing, now i just dont understand why its crashing. I &quot;think&quot; it should work as I had coded it in the callback, but im new to android app dev so i&#39;m likely wrong. Also thx you for offering to go to a discussion room, i had to step away and was not able to accept it on time.","body":"@MikeM. thank you for assisting on finding the reason it was crashing, now i just dont understand why its crashing. I &quot;think&quot; it should work as I had coded it in the callback, but im new to android app dev so i&#39;m likely wrong. Also thx you for offering to go to a discussion room, i had to step away and was not able to accept it on time."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1659205615,"post_id":73172102,"comment_id":129240682,"body_markdown":"I don&#39;t know. I just cannot reproduce the given Exception with the described behavior. There must be something else going on in the overall setup. In any case, if it&#39;s working in `onCreate()`, you can leave it there and only update the list in the callback; e.g., https://drive.google.com/file/d/1DTlS3YKAts2s9wvbaUzOXkZFuZjXqPuZ/view?usp=sharing. I have no idea if the underlying issue will cause problems with this setup too, though.","body":"I don&#39;t know. I just cannot reproduce the given Exception with the described behavior. There must be something else going on in the overall setup. In any case, if it&#39;s working in <code>onCreate()</code>, you can leave it there and only update the list in the callback; e.g., <a href=\"https://drive.google.com/file/d/1DTlS3YKAts2s9wvbaUzOXkZFuZjXqPuZ/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1DTlS3YKAts2s9wvbaUzOXkZFuZjXqPuZ/&hellip;</a>. I have no idea if the underlying issue will cause problems with this setup too, though."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1659205684,"post_id":73172102,"comment_id":129240705,"body_markdown":"Yeah, I accidentally deleted the chat room comment. My bad. We can still use it though: https://chat.stackoverflow.com/rooms/246914/discussion-between-mike-m-and-learn2code.","body":"Yeah, I accidentally deleted the chat room comment. My bad. We can still use it though: <a href=\"https://chat.stackoverflow.com/rooms/246914/discussion-between-mike-m-and-learn2code\">chat.stackoverflow.com/rooms/246914/&hellip;</a>."},{"owner":{"account_id":9984377,"reputation":2086,"user_id":7386152,"accept_rate":52,"display_name":"Learn2Code"},"score":0,"creation_date":1659206036,"post_id":73172102,"comment_id":129240803,"body_markdown":"@MikeM. it works as you have in your example!!! Put that as the answer and you are getting the CHECKMARK!!!! THX U again for all the time you spent helping me resolve this!!!!!","body":"@MikeM. it works as you have in your example!!! Put that as the answer and you are getting the CHECKMARK!!!! THX U again for all the time you spent helping me resolve this!!!!!"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1659206414,"post_id":73172102,"comment_id":129240889,"body_markdown":"Ah, cool. No problem! If I ever figure out what was happening there, I&#39;ll let you know, but doing whatever setup you can in `onCreate()` is usually preferred anyway. I don&#39;t post answers here anymore, so please feel free to finish this up however you like. Thank you, though. I appreciate the offer. Glad we got something working. Cheers!","body":"Ah, cool. No problem! If I ever figure out what was happening there, I&#39;ll let you know, but doing whatever setup you can in <code>onCreate()</code> is usually preferred anyway. I don&#39;t post answers here anymore, so please feel free to finish this up however you like. Thank you, though. I appreciate the offer. Glad we got something working. Cheers!"}],"owner":{"account_id":9984377,"reputation":2086,"user_id":7386152,"accept_rate":52,"display_name":"Learn2Code"},"comment_count":21,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659199938,"creation_date":1659141362,"question_id":73172102,"body_markdown":"\r\n\r\nI have the following material textfield in my `create_pool_details_layout` xml view:\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/numPlayersDropdown&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;\r\n            android:hint=&quot;Number of Player to Purchase&quot;\r\n            android:labelFor=&quot;@+id/numOfPlayersSelected&quot; &gt;\r\n\r\n            &lt;AutoCompleteTextView\r\n                android:id=&quot;@+id/numOfPlayersSelected&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:inputType=&quot;none&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:padding=&quot;14dp&quot;\r\n                android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\nand the following item for the autocompletetextview in my `number_of_players_dropdown_layout` xml view:\r\n\r\n    &lt;TextView \r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:padding=&quot;14dp&quot;\r\n        android:maxLines=&quot;1&quot;\r\n        android:ellipsize=&quot;end&quot;\r\n        android:textAppearance=&quot;@style/TextAppearance.MaterialComponents.Subtitle1&quot; /&gt;\r\n\r\n\r\nIn my Activity class I have the following:\r\n\r\n    public class CreatePoolDetailsActivity extends AppCompatActivity implements PurchasesUpdatedListener {\r\n  \r\n        // BILLING PROCESSOR\r\n        private BillingClient billingClient;\r\n        //\r\n        List&lt;String&gt; skuList = new ArrayList&lt;&gt;();\r\n\r\n        public static Activity activity = null;\r\n\r\n        private EditText inputPoolName, inputPoolPassword, inputConfirmPoolPassword, inputPoolNote;\r\n        private Button btnCreatePool, btnCancel;\r\n\r\n        //\r\n        private static FirebaseDatabase mFirebaseDatabase = FirebaseDatabase.getInstance();\r\n\r\n        private FirebaseAuth mAuth;\r\n        private FirebaseAuth.AuthStateListener mAuthListener;\r\n\r\n        private DatabaseReference iapReference = mFirebaseDatabase.getReference(&quot;IAP&quot;);\r\n\r\n        private SkuDetails playerQtySKU;\r\n\r\n        private AutoCompleteTextView numPlayersSelected;\r\n\r\n        ArrayList&lt;String&gt; numPlayersArray;\r\n        \r\n        ArrayAdapter&lt;String&gt; numPlayersAdapter;\r\n\r\n\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n        \r\n\r\n            setContentView(R.layout.create_pool_details_layout);\r\n\r\n            // Set the activity to &#39;this&#39;\r\n            activity = this;\r\n\r\n\r\n            iapReference.addListenerForSingleValueEvent(new ValueEventListener() {\r\n\r\n                @Override\r\n                public void onDataChange(DataSnapshot dataSnapshot) {\r\n\r\n                    if (dataSnapshot.exists()) {\r\n\r\n                        int counter = 0;\r\n\r\n                        skuList.clear();\r\n\r\n                        for (DataSnapshot pickSnapshot : dataSnapshot.getChildren()) {\r\n\r\n                            counter = counter + 1;\r\n\r\n                            String sku = pickSnapshot.getValue().toString();\r\n\r\n                            skuList.add(sku.toLowerCase());\r\n\r\n                            if (counter == dataSnapshot.getChildrenCount()) {\r\n\r\n                                connectToGooglePlayBilling();\r\n\r\n                             }\r\n                         \r\n                         }\r\n                     \r\n                     }\r\n                     \r\n                 }\r\n\r\n                @Override\r\n                public void onCancelled(DatabaseError databaseError) { }\r\n         \r\n             });\r\n\r\n\r\n             inputPoolName = (EditText) findViewById(R.id.poolname);\r\n\r\n             inputPoolPassword = (EditText) findViewById(R.id.poolpassword);\r\n\r\n             inputConfirmPoolPassword = (EditText) findViewById(R.id.confirmpassword);\r\n\r\n             inputPoolNote = (EditText) findViewById(R.id.poolNote);\r\n\r\n             btnCreatePool = (Button) findViewById(R.id.create_pool_button);\r\n\r\n             btnCancel = (Button) findViewById(R.id.btn_cancel);\r\n\r\n\r\n             billingClient = BillingClient.newBuilder(this)\r\n                .enablePendingPurchases()\r\n                .setListener(new PurchasesUpdatedListener() {\r\n\r\n                    @Override\r\n                    public void onPurchasesUpdated(@NonNull @NotNull BillingResult billingResult, @Nullable @org.jetbrains.annotations.Nullable List&lt;Purchase&gt; list) {\r\n\r\n                    }\r\n\r\n                })\r\n                .build();\r\n\r\n         }\r\n     \r\n    }\r\n\r\n\r\n    private void connectToGooglePlayBilling() {\r\n\r\n        billingClient.startConnection(new BillingClientStateListener() {\r\n\r\n            @Override\r\n            public void onBillingSetupFinished(@NonNull BillingResult billingResult) {\r\n\r\n                if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n\r\n                    getProductDetails();\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\nFinally:\r\n\r\n    private void getProductDetails() {\r\n\r\n\r\n        SkuDetailsParams getProductDetailsQuery = SkuDetailsParams\r\n                .newBuilder()\r\n                .setSkusList(skuList)\r\n                .setType(INAPP)\r\n                .build();\r\n\r\n        billingClient.querySkuDetailsAsync(getProductDetailsQuery, new SkuDetailsResponseListener() {\r\n\r\n            @Override\r\n            public void onSkuDetailsResponse(@NonNull @NotNull BillingResult billingResult, @Nullable @org.jetbrains.annotations.Nullable List&lt;SkuDetails&gt; list) {\r\n\r\n                if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; list != null) {\r\n\r\n                    numPlayersSelected = findViewById(R.id.numOfPlayersSelected);\r\n                    //\r\n                    numPlayersArray = new ArrayList&lt;&gt;();\r\n\r\n                    for (int i = 0; i &lt; list.size(); i++) {\r\n\r\n                        numPlayersArray.add(list.get(i).getTitle());\r\n\r\n                    }\r\n\r\n\r\n                    // THE ERROR SEEMS TO OCCUR HERE!!!\r\n                    numPlayersAdapter = new ArrayAdapter&lt;&gt;(activity, R.layout.number_of_players_dropdown_layout, numPlayersArray);\r\n\r\n                    numPlayersSelected.setAdapter(numPlayersAdapter);\r\n\r\n                    numPlayersSelected.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n\r\n                        @Override\r\n                        public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n\r\n                            playerQtySKU = list.get(i);\r\n\r\n                        }\r\n\r\n                    });\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\nWhich throws the following error, which i do not understand why its happening!?\r\n\r\n    E/InputEventReceiver: Exception dispatching input event.\r\n    E/MessageQueue-JNI: Exception in MessageQueue callback: handleReceiveCallback\r\n    E/MessageQueue-JNI: java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.CharSequence android.widget.Filter.convertResultToString(java.lang.Object)&#39; on a null object reference\r\n        at android.widget.AutoCompleteTextView.convertSelectionToString(AutoCompleteTextView.java:927)\r\n        at android.widget.AutoCompleteTextView.buildImeCompletions(AutoCompleteTextView.java:1246)\r\n        at android.widget.AutoCompleteTextView.showDropDown(AutoCompleteTextView.java:1203)\r\n        at com.google.android.material.textfield.MaterialAutoCompleteTextView.showDropDown(MaterialAutoCompleteTextView.java:151)\r\n        at com.google.android.material.textfield.DropdownMenuEndIconDelegate.showHideDropdown(DropdownMenuEndIconDelegate.java:332)\r\n        at com.google.android.material.textfield.DropdownMenuEndIconDelegate.access$500(DropdownMenuEndIconDelegate.java:71)\r\n        at com.google.android.material.textfield.DropdownMenuEndIconDelegate$9.onTouch(DropdownMenuEndIconDelegate.java:459)\r\n        at android.view.View.dispatchTouchEvent(View.java:12537)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\r\n        at com.android.internal.policy.DecorView.superDispatchTouchEvent(DecorView.java:441)\r\n        at com.android.internal.policy.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1830)\r\n        at android.app.Activity.dispatchTouchEvent(Activity.java:3400)\r\n        at androidx.appcompat.view.WindowCallbackWrapper.dispatchTouchEvent(WindowCallbackWrapper.java:69)\r\n        at com.android.internal.policy.DecorView.dispatchTouchEvent(DecorView.java:399)\r\n        at android.view.View.dispatchPointerEvent(View.java:12789)\r\n        at android.view.ViewRootImpl$ViewPostImeInputStage.processPointerEvent(ViewRootImpl.java:5291)\r\n        at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:5085)\r\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4598)\r\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4651)\r\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4617)\r\n        at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:4757)\r\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:4625)\r\n        at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:4814)\r\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4598)\r\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4651)\r\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4617)\r\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:4625)\r\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4598)\r\n        at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:7354)\r\n        at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:7323)\r\n        at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:7274)\r\n    \tat android.view.ViewRootImpl$WindowInputEve\r\n    D/AndroidRuntime: Shutting down VM\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.replaysport.pickemparty, PID: 13894\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.CharSequence android.widget.Filter.convertResultToString(java.lang.Object)&#39; on a null object reference\r\n        at android.widget.AutoCompleteTextView.convertSelectionToString(AutoCompleteTextView.java:927)\r\n        at android.widget.AutoCompleteTextView.buildImeCompletions(AutoCompleteTextView.java:1246)\r\n        at android.widget.AutoCompleteTextView.showDropDown(AutoCompleteTextView.java:1203)\r\n        at com.google.android.material.textfield.MaterialAutoCompleteTextView.showDropDown(MaterialAutoCompleteTextView.java:151)\r\n        at com.google.android.material.textfield.DropdownMenuEndIconDelegate.showHideDropdown(DropdownMenuEndIconDelegate.java:332)\r\n        at com.google.android.material.textfield.DropdownMenuEndIconDelegate.access$500(DropdownMenuEndIconDelegate.java:71)\r\n        at com.google.android.material.textfield.DropdownMenuEndIconDelegate$9.onTouch(DropdownMenuEndIconDelegate.java:459)\r\n        at android.view.View.dispatchTouchEvent(View.java:12537)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\r\n        at com.android.internal.policy.DecorView.superDispatchTouchEvent(DecorView.java:441)\r\n        at com.android.internal.policy.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1830)\r\n        at android.app.Activity.dispatchTouchEvent(Activity.java:3400)\r\n        at androidx.appcompat.view.WindowCallbackWrapper.dispatchTouchEvent(WindowCallbackWrapper.java:69)\r\n        at com.android.internal.policy.DecorView.dispatchTouchEvent(DecorView.java:399)\r\n        at android.view.View.dispatchPointerEvent(View.java:12789)\r\n        at android.view.ViewRootImpl$ViewPostImeInputStage.processPointerEvent(ViewRootImpl.java:5291)\r\n        at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:5085)\r\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4598)\r\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4651)\r\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4617)\r\n        at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:4757)\r\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:4625)\r\n        at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:4814)\r\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4598)\r\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4651)\r\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4617)\r\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:4625)\r\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4598)\r\n        at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:7354)\r\n        at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:7323)\r\n    E/AndroidRuntime:     at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:7274)\r\n        at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:7471)\r\n        at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:186)\r\n        at android.os.MessageQueue.nativePollOnce(Native Method)\r\n        at android.os.MessageQueue.next(MessageQueue.java:326)\r\n        at android.os.Looper.loop(Looper.java:160)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6702)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:911)`\r\n\r\nDoes anyone know what I am doing wrong?","title":"Error when clicking on a material textfield dropdown list in Android","body":"<p>I have the following material textfield in my <code>create_pool_details_layout</code> xml view:</p>\n<pre><code>&lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/numPlayersDropdown&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;\n        android:hint=&quot;Number of Player to Purchase&quot;\n        android:labelFor=&quot;@+id/numOfPlayersSelected&quot; &gt;\n\n        &lt;AutoCompleteTextView\n            android:id=&quot;@+id/numOfPlayersSelected&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:inputType=&quot;none&quot;\n            android:layout_weight=&quot;1&quot;\n            android:padding=&quot;14dp&quot;\n            android:textSize=&quot;16sp&quot; /&gt;\n\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n<p>and the following item for the autocompletetextview in my <code>number_of_players_dropdown_layout</code> xml view:</p>\n<pre><code>&lt;TextView \n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:padding=&quot;14dp&quot;\n    android:maxLines=&quot;1&quot;\n    android:ellipsize=&quot;end&quot;\n    android:textAppearance=&quot;@style/TextAppearance.MaterialComponents.Subtitle1&quot; /&gt;\n</code></pre>\n<p>In my Activity class I have the following:</p>\n<pre><code>public class CreatePoolDetailsActivity extends AppCompatActivity implements PurchasesUpdatedListener {\n\n    // BILLING PROCESSOR\n    private BillingClient billingClient;\n    //\n    List&lt;String&gt; skuList = new ArrayList&lt;&gt;();\n\n    public static Activity activity = null;\n\n    private EditText inputPoolName, inputPoolPassword, inputConfirmPoolPassword, inputPoolNote;\n    private Button btnCreatePool, btnCancel;\n\n    //\n    private static FirebaseDatabase mFirebaseDatabase = FirebaseDatabase.getInstance();\n\n    private FirebaseAuth mAuth;\n    private FirebaseAuth.AuthStateListener mAuthListener;\n\n    private DatabaseReference iapReference = mFirebaseDatabase.getReference(&quot;IAP&quot;);\n\n    private SkuDetails playerQtySKU;\n\n    private AutoCompleteTextView numPlayersSelected;\n\n    ArrayList&lt;String&gt; numPlayersArray;\n    \n    ArrayAdapter&lt;String&gt; numPlayersAdapter;\n\n\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    \n\n        setContentView(R.layout.create_pool_details_layout);\n\n        // Set the activity to 'this'\n        activity = this;\n\n\n        iapReference.addListenerForSingleValueEvent(new ValueEventListener() {\n\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n\n                if (dataSnapshot.exists()) {\n\n                    int counter = 0;\n\n                    skuList.clear();\n\n                    for (DataSnapshot pickSnapshot : dataSnapshot.getChildren()) {\n\n                        counter = counter + 1;\n\n                        String sku = pickSnapshot.getValue().toString();\n\n                        skuList.add(sku.toLowerCase());\n\n                        if (counter == dataSnapshot.getChildrenCount()) {\n\n                            connectToGooglePlayBilling();\n\n                         }\n                     \n                     }\n                 \n                 }\n                 \n             }\n\n            @Override\n            public void onCancelled(DatabaseError databaseError) { }\n     \n         });\n\n\n         inputPoolName = (EditText) findViewById(R.id.poolname);\n\n         inputPoolPassword = (EditText) findViewById(R.id.poolpassword);\n\n         inputConfirmPoolPassword = (EditText) findViewById(R.id.confirmpassword);\n\n         inputPoolNote = (EditText) findViewById(R.id.poolNote);\n\n         btnCreatePool = (Button) findViewById(R.id.create_pool_button);\n\n         btnCancel = (Button) findViewById(R.id.btn_cancel);\n\n\n         billingClient = BillingClient.newBuilder(this)\n            .enablePendingPurchases()\n            .setListener(new PurchasesUpdatedListener() {\n\n                @Override\n                public void onPurchasesUpdated(@NonNull @NotNull BillingResult billingResult, @Nullable @org.jetbrains.annotations.Nullable List&lt;Purchase&gt; list) {\n\n                }\n\n            })\n            .build();\n\n     }\n \n}\n\n\nprivate void connectToGooglePlayBilling() {\n\n    billingClient.startConnection(new BillingClientStateListener() {\n\n        @Override\n        public void onBillingSetupFinished(@NonNull BillingResult billingResult) {\n\n            if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n\n                getProductDetails();\n\n            }\n\n        }\n\n    }\n\n}\n</code></pre>\n<p>Finally:</p>\n<pre><code>private void getProductDetails() {\n\n\n    SkuDetailsParams getProductDetailsQuery = SkuDetailsParams\n            .newBuilder()\n            .setSkusList(skuList)\n            .setType(INAPP)\n            .build();\n\n    billingClient.querySkuDetailsAsync(getProductDetailsQuery, new SkuDetailsResponseListener() {\n\n        @Override\n        public void onSkuDetailsResponse(@NonNull @NotNull BillingResult billingResult, @Nullable @org.jetbrains.annotations.Nullable List&lt;SkuDetails&gt; list) {\n\n            if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; list != null) {\n\n                numPlayersSelected = findViewById(R.id.numOfPlayersSelected);\n                //\n                numPlayersArray = new ArrayList&lt;&gt;();\n\n                for (int i = 0; i &lt; list.size(); i++) {\n\n                    numPlayersArray.add(list.get(i).getTitle());\n\n                }\n\n\n                // THE ERROR SEEMS TO OCCUR HERE!!!\n                numPlayersAdapter = new ArrayAdapter&lt;&gt;(activity, R.layout.number_of_players_dropdown_layout, numPlayersArray);\n\n                numPlayersSelected.setAdapter(numPlayersAdapter);\n\n                numPlayersSelected.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n\n                    @Override\n                    public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n\n                        playerQtySKU = list.get(i);\n\n                    }\n\n                });\n\n            }\n\n        }\n\n    }\n\n}\n</code></pre>\n<p>Which throws the following error, which i do not understand why its happening!?</p>\n<pre><code>E/InputEventReceiver: Exception dispatching input event.\nE/MessageQueue-JNI: Exception in MessageQueue callback: handleReceiveCallback\nE/MessageQueue-JNI: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.CharSequence android.widget.Filter.convertResultToString(java.lang.Object)' on a null object reference\n    at android.widget.AutoCompleteTextView.convertSelectionToString(AutoCompleteTextView.java:927)\n    at android.widget.AutoCompleteTextView.buildImeCompletions(AutoCompleteTextView.java:1246)\n    at android.widget.AutoCompleteTextView.showDropDown(AutoCompleteTextView.java:1203)\n    at com.google.android.material.textfield.MaterialAutoCompleteTextView.showDropDown(MaterialAutoCompleteTextView.java:151)\n    at com.google.android.material.textfield.DropdownMenuEndIconDelegate.showHideDropdown(DropdownMenuEndIconDelegate.java:332)\n    at com.google.android.material.textfield.DropdownMenuEndIconDelegate.access$500(DropdownMenuEndIconDelegate.java:71)\n    at com.google.android.material.textfield.DropdownMenuEndIconDelegate$9.onTouch(DropdownMenuEndIconDelegate.java:459)\n    at android.view.View.dispatchTouchEvent(View.java:12537)\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\n    at com.android.internal.policy.DecorView.superDispatchTouchEvent(DecorView.java:441)\n    at com.android.internal.policy.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1830)\n    at android.app.Activity.dispatchTouchEvent(Activity.java:3400)\n    at androidx.appcompat.view.WindowCallbackWrapper.dispatchTouchEvent(WindowCallbackWrapper.java:69)\n    at com.android.internal.policy.DecorView.dispatchTouchEvent(DecorView.java:399)\n    at android.view.View.dispatchPointerEvent(View.java:12789)\n    at android.view.ViewRootImpl$ViewPostImeInputStage.processPointerEvent(ViewRootImpl.java:5291)\n    at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:5085)\n    at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4598)\n    at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4651)\n    at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4617)\n    at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:4757)\n    at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:4625)\n    at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:4814)\n    at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4598)\n    at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4651)\n    at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4617)\n    at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:4625)\n    at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4598)\n    at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:7354)\n    at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:7323)\n    at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:7274)\n    at android.view.ViewRootImpl$WindowInputEve\nD/AndroidRuntime: Shutting down VM\nE/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.replaysport.pickemparty, PID: 13894\njava.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.CharSequence android.widget.Filter.convertResultToString(java.lang.Object)' on a null object reference\n    at android.widget.AutoCompleteTextView.convertSelectionToString(AutoCompleteTextView.java:927)\n    at android.widget.AutoCompleteTextView.buildImeCompletions(AutoCompleteTextView.java:1246)\n    at android.widget.AutoCompleteTextView.showDropDown(AutoCompleteTextView.java:1203)\n    at com.google.android.material.textfield.MaterialAutoCompleteTextView.showDropDown(MaterialAutoCompleteTextView.java:151)\n    at com.google.android.material.textfield.DropdownMenuEndIconDelegate.showHideDropdown(DropdownMenuEndIconDelegate.java:332)\n    at com.google.android.material.textfield.DropdownMenuEndIconDelegate.access$500(DropdownMenuEndIconDelegate.java:71)\n    at com.google.android.material.textfield.DropdownMenuEndIconDelegate$9.onTouch(DropdownMenuEndIconDelegate.java:459)\n    at android.view.View.dispatchTouchEvent(View.java:12537)\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3083)\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2741)\n    at com.android.internal.policy.DecorView.superDispatchTouchEvent(DecorView.java:441)\n    at com.android.internal.policy.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1830)\n    at android.app.Activity.dispatchTouchEvent(Activity.java:3400)\n    at androidx.appcompat.view.WindowCallbackWrapper.dispatchTouchEvent(WindowCallbackWrapper.java:69)\n    at com.android.internal.policy.DecorView.dispatchTouchEvent(DecorView.java:399)\n    at android.view.View.dispatchPointerEvent(View.java:12789)\n    at android.view.ViewRootImpl$ViewPostImeInputStage.processPointerEvent(ViewRootImpl.java:5291)\n    at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:5085)\n    at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4598)\n    at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4651)\n    at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4617)\n    at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:4757)\n    at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:4625)\n    at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:4814)\n    at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4598)\n    at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4651)\n    at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4617)\n    at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:4625)\n    at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4598)\n    at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:7354)\n    at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:7323)\nE/AndroidRuntime:     at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:7274)\n    at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:7471)\n    at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:186)\n    at android.os.MessageQueue.nativePollOnce(Native Method)\n    at android.os.MessageQueue.next(MessageQueue.java:326)\n    at android.os.Looper.loop(Looper.java:160)\n    at android.app.ActivityThread.main(ActivityThread.java:6702)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:911)`\n</code></pre>\n<p>Does anyone know what I am doing wrong?</p>\n"},{"tags":["java","curl","graphql","selenium-grid","selenium4"],"comments":[{"owner":{"account_id":7687582,"reputation":381,"user_id":5824795,"accept_rate":71,"display_name":"SacTan"},"score":0,"creation_date":1658764115,"post_id":73111928,"comment_id":129127030,"body_markdown":"it seems issue with &#39;&quot;&#39;(double quotes) and &#39;\\&quot;&#39; in curl command but not able to get the solution.","body":"it seems issue with &#39;&quot;&#39;(double quotes) and &#39;\\&quot;&#39; in curl command but not able to get the solution."},{"owner":{"account_id":6921189,"reputation":1490,"user_id":5313817,"display_name":"Rishal"},"score":0,"creation_date":1658948595,"post_id":73111928,"comment_id":129181811,"body_markdown":"try this `&quot;curl&quot;, &quot;-X&quot;, &quot;POST&quot;, &quot;-H&quot;, &quot;Content-Type: application/json&quot;, &quot;--data&quot;, &quot;{\\&quot;query\\&quot;: \\&quot;{ session (id: \\&quot;&lt;sessionId&gt;\\&quot;) { id, capabilities, startTime, uri, nodeId, nodeUri, sessionDurationMillis, slot { id, stereotype, lastStarted } } } \\&quot;}&quot;, &quot;-s&quot;, &quot;http://localhost:4444/graphql&quot;`","body":"try this <code>&quot;curl&quot;, &quot;-X&quot;, &quot;POST&quot;, &quot;-H&quot;, &quot;Content-Type: application&#47;json&quot;, &quot;--data&quot;, &quot;{\\&quot;query\\&quot;: \\&quot;{ session (id: \\&quot;&lt;sessionId&gt;\\&quot;) { id, capabilities, startTime, uri, nodeId, nodeUri, sessionDurationMillis, slot { id, stereotype, lastStarted } } } \\&quot;}&quot;, &quot;-s&quot;, &quot;http:&#47;&#47;localhost:4444&#47;graphql&quot;</code>"},{"owner":{"account_id":7687582,"reputation":381,"user_id":5824795,"accept_rate":71,"display_name":"SacTan"},"score":0,"creation_date":1658953465,"post_id":73111928,"comment_id":129183279,"body_markdown":"@Rishal Thanks for response, I tried it but got the null pointer exception.","body":"@Rishal Thanks for response, I tried it but got the null pointer exception."},{"owner":{"account_id":6921189,"reputation":1490,"user_id":5313817,"display_name":"Rishal"},"score":0,"creation_date":1658994753,"post_id":73111928,"comment_id":129191398,"body_markdown":"Have you passed your session id accordingly, can you show us what you did and what exception you got after modifying the query","body":"Have you passed your session id accordingly, can you show us what you did and what exception you got after modifying the query"}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659011640,"creation_date":1658958199,"answer_id":73144933,"question_id":73111928,"body_markdown":"I think the issue is caused because Selenium is unable to process your request as a valid JSON information, probably as you guessed because you missed the double quotes.\r\n\r\nMy advice would be that first try issuing the `curl` command from a terminal and see if it works.\r\n\r\nThe [Selenium documentation](https://www.selenium.dev/documentation/grid/advanced_features/graphql_support/#query-to-get-session-information-for-a-given-session) provides exactly one example you can take for reference:\r\n\r\n```\r\ncurl -X POST -H &quot;Content-Type: application/json&quot; --data &#39;{&quot;query&quot;:&quot;{ session (id: \\&quot;&lt;session-id&gt;\\&quot;) { id, capabilities, startTime, uri, nodeId, nodeUri, sessionDurationMillis, slot { id, stereotype, lastStarted } } } &quot;}&#39; -s &lt;LINK_TO_GRAPHQL_ENDPOINT&gt;\r\n```\r\n\r\nPlease, note how they defined `query` and the GraphQL query itself as a valid JSON object, and how they escaped the session identifier.\r\n\r\nIn your Java code, it would mean changing your command to something like this:\r\n\r\n```java\r\nString[] command = {\r\n  &quot;curl&quot;,\r\n  &quot;-X&quot;, &quot;POST&quot;,\r\n  &quot;-H&quot;, &quot;Content-Type: application/json&quot;,\r\n  &quot;--data&quot;, &quot;{ \\&quot;query\\&quot;: \\&quot;{ session (id: \\\\\\&quot;&quot;+sessionId+&quot;\\\\\\&quot;) { id, capabilities, startTime, uri, nodeId, nodeUri, sessionDurationMillis, slot { id, stereotype, lastStarted } } } \\&quot;}&quot;,\r\n  &quot;-s&quot;, &quot;http://localhost:4444/graphql&quot;\r\n};\r\n```\r\n\r\nNote the treatment of the session identifier again.\r\n\r\nPlease, consider reading [this related Github issue](https://github.com/SeleniumHQ/selenium/issues/10275), I think it could be of help as well.\r\n\r\nAdditionally, although the Selenium documentation itself recommends using `curl`, from Java you can try a different approach and try obtaining the information in other ways. Consider for example the following, based on the [excellent article of Mykong](https://mkyong.com/webservices/jax-rs/restfull-java-client-with-java-net-url/):\r\n\r\n```java\r\nURL url = new URL(&quot;http://localhost:4444/graphql&quot;);\r\nHttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\nconn.setDoOutput(true);\r\nconn.setRequestMethod(&quot;POST&quot;);\r\nconn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\r\nString sessionId = &quot;123456&quot;;\r\n\r\nString query = &quot;{ \\&quot;query\\&quot;: \\&quot;{ session (id: \\\\\\&quot;&quot;+sessionId+&quot;\\\\\\&quot;) { id, capabilities, startTime, uri, nodeId, nodeUri, sessionDurationMillis, slot { id, stereotype, lastStarted } } } \\&quot;}&quot;;\r\n\r\nOutputStream os = conn.getOutputStream();\r\nos.write(query.getBytes());\r\nos.flush();\r\n\r\nBufferedReader br = new BufferedReader(new InputStreamReader(\r\n  (conn.getInputStream())));\r\n\r\nStringBuilder sb = new StringBuilder();\r\nString line;\r\nwhile ((line = br.readLine()) != null) {\r\n  sb.append(line);\r\n  sb.append(System.getProperty(&quot;line.separator&quot;));\r\n}\r\n\r\nString result = sb.toString();\r\n\r\nSystem.out.println(&quot;Response from Selenium .... \\n&quot; + result);\r\n\r\nconn.disconnect();\r\n```","title":"Curl Query : JSON Parser error while Querying to get session information for a given session","body":"<p>I think the issue is caused because Selenium is unable to process your request as a valid JSON information, probably as you guessed because you missed the double quotes.</p>\n<p>My advice would be that first try issuing the <code>curl</code> command from a terminal and see if it works.</p>\n<p>The <a href=\"https://www.selenium.dev/documentation/grid/advanced_features/graphql_support/#query-to-get-session-information-for-a-given-session\" rel=\"nofollow noreferrer\">Selenium documentation</a> provides exactly one example you can take for reference:</p>\n<pre><code>curl -X POST -H &quot;Content-Type: application/json&quot; --data '{&quot;query&quot;:&quot;{ session (id: \\&quot;&lt;session-id&gt;\\&quot;) { id, capabilities, startTime, uri, nodeId, nodeUri, sessionDurationMillis, slot { id, stereotype, lastStarted } } } &quot;}' -s &lt;LINK_TO_GRAPHQL_ENDPOINT&gt;\n</code></pre>\n<p>Please, note how they defined <code>query</code> and the GraphQL query itself as a valid JSON object, and how they escaped the session identifier.</p>\n<p>In your Java code, it would mean changing your command to something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] command = {\n  &quot;curl&quot;,\n  &quot;-X&quot;, &quot;POST&quot;,\n  &quot;-H&quot;, &quot;Content-Type: application/json&quot;,\n  &quot;--data&quot;, &quot;{ \\&quot;query\\&quot;: \\&quot;{ session (id: \\\\\\&quot;&quot;+sessionId+&quot;\\\\\\&quot;) { id, capabilities, startTime, uri, nodeId, nodeUri, sessionDurationMillis, slot { id, stereotype, lastStarted } } } \\&quot;}&quot;,\n  &quot;-s&quot;, &quot;http://localhost:4444/graphql&quot;\n};\n</code></pre>\n<p>Note the treatment of the session identifier again.</p>\n<p>Please, consider reading <a href=\"https://github.com/SeleniumHQ/selenium/issues/10275\" rel=\"nofollow noreferrer\">this related Github issue</a>, I think it could be of help as well.</p>\n<p>Additionally, although the Selenium documentation itself recommends using <code>curl</code>, from Java you can try a different approach and try obtaining the information in other ways. Consider for example the following, based on the <a href=\"https://mkyong.com/webservices/jax-rs/restfull-java-client-with-java-net-url/\" rel=\"nofollow noreferrer\">excellent article of Mykong</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL url = new URL(&quot;http://localhost:4444/graphql&quot;);\nHttpURLConnection conn = (HttpURLConnection) url.openConnection();\nconn.setDoOutput(true);\nconn.setRequestMethod(&quot;POST&quot;);\nconn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n\nString sessionId = &quot;123456&quot;;\n\nString query = &quot;{ \\&quot;query\\&quot;: \\&quot;{ session (id: \\\\\\&quot;&quot;+sessionId+&quot;\\\\\\&quot;) { id, capabilities, startTime, uri, nodeId, nodeUri, sessionDurationMillis, slot { id, stereotype, lastStarted } } } \\&quot;}&quot;;\n\nOutputStream os = conn.getOutputStream();\nos.write(query.getBytes());\nos.flush();\n\nBufferedReader br = new BufferedReader(new InputStreamReader(\n  (conn.getInputStream())));\n\nStringBuilder sb = new StringBuilder();\nString line;\nwhile ((line = br.readLine()) != null) {\n  sb.append(line);\n  sb.append(System.getProperty(&quot;line.separator&quot;));\n}\n\nString result = sb.toString();\n\nSystem.out.println(&quot;Response from Selenium .... \\n&quot; + result);\n\nconn.disconnect();\n</code></pre>\n"}],"owner":{"account_id":7687582,"reputation":381,"user_id":5824795,"accept_rate":71,"display_name":"SacTan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":674,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73144933,"answer_count":1,"score":1,"last_activity_date":1659199543,"creation_date":1658763763,"question_id":73111928,"body_markdown":"We have recently migrated to selenium 4.3.0 and observed API for getting session Node IP and Port is totally changes and it has to capture through graphql now. \r\nAccordingly we have did the changes but still getting an error while running it through Java code.\r\n\r\nUpdated command in java:\r\n\r\n    String[] command = {&quot;curl&quot;, &quot;-X&quot;, &quot;POST&quot;, &quot;-H&quot;, &quot;Content-Type: application/json&quot;, &quot;--data&quot;, &quot;{query: { session (id: \\&quot;&quot;+sessionId+&quot;\\&quot;) { id, capabilities, startTime, uri, nodeId, nodeUri, sessionDurationMillis, slot { id, stereotype, lastStarted } } } }&quot;, &quot;-s&quot;, &quot;http://localhost:4444/graphql&quot;};\r\n    ProcessBuilder process = new ProcessBuilder(command); \r\n    \t        \r\n    \t        Process p;\r\n    \t        try\r\n    \t        {\r\n    \t            p = process.start();\r\n    \t             BufferedReader reader =  new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n    \t                StringBuilder builder = new StringBuilder();\r\n    \t                String line = null;\r\n    \t                while ( (line = reader.readLine()) != null) {\r\n    \t                        builder.append(line);\r\n    \t                        builder.append(System.getProperty(&quot;line.separator&quot;));\r\n    \t                }\r\n    \t                String result = builder.toString();\r\n    \t                System.out.print(result);\r\n    \r\n    \t        }\r\n\r\nConsole O/P Error:\r\n\r\n    {\r\n      &quot;value&quot;: {\r\n        &quot;error&quot;: &quot;unknown error&quot;,\r\n        &quot;message&quot;: &quot;Unable to parse: {query: { session (id: d5382daee94860671ae972fcba359e03) { id, capabilities, startTime, uri, nodeId, nodeUri, sessionDurationMillis, slot { id, stereotype, lastStarted } } } }&quot;,\r\n        &quot;stacktrace&quot;: &quot;org.openqa.selenium.json.JsonException: Unable to parse: {query: { session (id: d5382daee94860671ae972fcba359e03) { id, capabilities, startTime, uri, nodeId, nodeUri, sessionDurationMillis, slot { id, stereotype, lastStarted } } } }\\r\\n\\tat org.openqa.selenium.json.Json.toType(Json.java:57)\\r\\n\\tat org.openqa.selenium.json.Json.toType(Json.java:50)\\r\\n\\tat org.openqa.selenium.grid.graphql.GraphqlHandler.execute(GraphqlHandler.java:114)\\r\\n\\tat org.openqa.selenium.remote.http.Route$TemplatizedRoute.handle(Route.java:192)\\r\\n\\tat org.openqa.selenium.remote.http.Route.execute(Route.java:68)\\r\\n\\tat org.openqa.selenium.remote.http.Route$CombinedRoute.handle(Route.java:336)\\r\\n\\tat org.openqa.selenium.remote.http.Route.execute(Route.java:68)\\r\\n\\tat org.openqa.selenium.remote.http.Route$CombinedRoute.handle(Route.java:336)\\r\\n\\tat org.openqa.selenium.remote.http.Route.execute(Route.java:68)\\r\\n\\tat org.openqa.selenium.remote.AddWebDriverSpecHeaders.lambda$apply$0(AddWebDriverSpecHeaders.java:35)\\r\\n\\tat org.openqa.selenium.remote.ErrorFilter.lambda$apply$0(ErrorFilter.java:44)\\r\\n\\tat org.openqa.selenium.remote.http.Filter$1.execute(Filter.java:64)\\r\\n\\tat org.openqa.selenium.remote.ErrorFilter.lambda$apply$0(ErrorFilter.java:44)\\r\\n\\tat org.openqa.selenium.remote.http.Filter$1.execute(Filter.java:64)\\r\\n\\tat org.openqa.selenium.netty.server.SeleniumHandler.lambda$channelRead0$0(SeleniumHandler.java:44)\\r\\n\\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\\r\\n\\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\\r\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\r\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\r\\n\\tat java.lang.Thread.run(Thread.java:748)\\r\\nCaused by: org.openqa.selenium.json.JsonException: Unable to determine type from: q. Last 2 characters read: {q\\nBuild info: version: &#39;4.3.0&#39;, revision: &#39;a4995e2c09*&#39;\\nSystem info: host: &#39;13.12.13.14&#39;, ip: &#39;127.0.0.1&#39;, os.name: &#39;Windows Server 2019&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_271&#39;\\nDriver info: driver.version: unknown\\r\\n\\tat org.openqa.selenium.json.JsonInput.peek(JsonInput.java:126)\\r\\n\\tat org.openqa.selenium.json.JsonInput.hasNext(JsonInput.java:207)\\r\\n\\tat org.openqa.selenium.json.JsonInputIterator.hasNext(JsonInputIterator.java:41)\\r\\n\\tat java.util.Iterator.forEachRemaining(Iterator.java:115)\\r\\n\\tat java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\\r\\n\\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\\r\\n\\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\\r\\n\\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\\r\\n\\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\\r\\n\\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\\r\\n\\tat org.openqa.selenium.json.MapCoercer.lambda$apply$1(MapCoercer.java:72)\\r\\n\\tat org.openqa.selenium.json.JsonTypeCoercer.lambda$buildCoercer$6(JsonTypeCoercer.java:145)\\r\\n\\tat org.openqa.selenium.json.JsonTypeCoercer.coerce(JsonTypeCoercer.java:127)\\r\\n\\tat org.openqa.selenium.json.Json.toType(Json.java:71)\\r\\n\\tat org.openqa.selenium.json.Json.toType(Json.java:55)\\r\\n\\t... 19 more\\r\\n&quot;\r\n      }\r\n\r\n`Showing error somewhere here in --data &quot;.json.JsonException: Unable to determine type from: q. Last 2 characters read: {q\\n`&quot;\r\n\r\nWe tried with different combination of curl command but still facing the same issues. Please help us to get this resolve.\r\n","title":"Curl Query : JSON Parser error while Querying to get session information for a given session","body":"<p>We have recently migrated to selenium 4.3.0 and observed API for getting session Node IP and Port is totally changes and it has to capture through graphql now.\nAccordingly we have did the changes but still getting an error while running it through Java code.</p>\n<p>Updated command in java:</p>\n<pre><code>String[] command = {&quot;curl&quot;, &quot;-X&quot;, &quot;POST&quot;, &quot;-H&quot;, &quot;Content-Type: application/json&quot;, &quot;--data&quot;, &quot;{query: { session (id: \\&quot;&quot;+sessionId+&quot;\\&quot;) { id, capabilities, startTime, uri, nodeId, nodeUri, sessionDurationMillis, slot { id, stereotype, lastStarted } } } }&quot;, &quot;-s&quot;, &quot;http://localhost:4444/graphql&quot;};\nProcessBuilder process = new ProcessBuilder(command); \n            \n            Process p;\n            try\n            {\n                p = process.start();\n                 BufferedReader reader =  new BufferedReader(new InputStreamReader(p.getInputStream()));\n                    StringBuilder builder = new StringBuilder();\n                    String line = null;\n                    while ( (line = reader.readLine()) != null) {\n                            builder.append(line);\n                            builder.append(System.getProperty(&quot;line.separator&quot;));\n                    }\n                    String result = builder.toString();\n                    System.out.print(result);\n\n            }\n</code></pre>\n<p>Console O/P Error:</p>\n<pre><code>{\n  &quot;value&quot;: {\n    &quot;error&quot;: &quot;unknown error&quot;,\n    &quot;message&quot;: &quot;Unable to parse: {query: { session (id: d5382daee94860671ae972fcba359e03) { id, capabilities, startTime, uri, nodeId, nodeUri, sessionDurationMillis, slot { id, stereotype, lastStarted } } } }&quot;,\n    &quot;stacktrace&quot;: &quot;org.openqa.selenium.json.JsonException: Unable to parse: {query: { session (id: d5382daee94860671ae972fcba359e03) { id, capabilities, startTime, uri, nodeId, nodeUri, sessionDurationMillis, slot { id, stereotype, lastStarted } } } }\\r\\n\\tat org.openqa.selenium.json.Json.toType(Json.java:57)\\r\\n\\tat org.openqa.selenium.json.Json.toType(Json.java:50)\\r\\n\\tat org.openqa.selenium.grid.graphql.GraphqlHandler.execute(GraphqlHandler.java:114)\\r\\n\\tat org.openqa.selenium.remote.http.Route$TemplatizedRoute.handle(Route.java:192)\\r\\n\\tat org.openqa.selenium.remote.http.Route.execute(Route.java:68)\\r\\n\\tat org.openqa.selenium.remote.http.Route$CombinedRoute.handle(Route.java:336)\\r\\n\\tat org.openqa.selenium.remote.http.Route.execute(Route.java:68)\\r\\n\\tat org.openqa.selenium.remote.http.Route$CombinedRoute.handle(Route.java:336)\\r\\n\\tat org.openqa.selenium.remote.http.Route.execute(Route.java:68)\\r\\n\\tat org.openqa.selenium.remote.AddWebDriverSpecHeaders.lambda$apply$0(AddWebDriverSpecHeaders.java:35)\\r\\n\\tat org.openqa.selenium.remote.ErrorFilter.lambda$apply$0(ErrorFilter.java:44)\\r\\n\\tat org.openqa.selenium.remote.http.Filter$1.execute(Filter.java:64)\\r\\n\\tat org.openqa.selenium.remote.ErrorFilter.lambda$apply$0(ErrorFilter.java:44)\\r\\n\\tat org.openqa.selenium.remote.http.Filter$1.execute(Filter.java:64)\\r\\n\\tat org.openqa.selenium.netty.server.SeleniumHandler.lambda$channelRead0$0(SeleniumHandler.java:44)\\r\\n\\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\\r\\n\\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\\r\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\r\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\r\\n\\tat java.lang.Thread.run(Thread.java:748)\\r\\nCaused by: org.openqa.selenium.json.JsonException: Unable to determine type from: q. Last 2 characters read: {q\\nBuild info: version: '4.3.0', revision: 'a4995e2c09*'\\nSystem info: host: '13.12.13.14', ip: '127.0.0.1', os.name: 'Windows Server 2019', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_271'\\nDriver info: driver.version: unknown\\r\\n\\tat org.openqa.selenium.json.JsonInput.peek(JsonInput.java:126)\\r\\n\\tat org.openqa.selenium.json.JsonInput.hasNext(JsonInput.java:207)\\r\\n\\tat org.openqa.selenium.json.JsonInputIterator.hasNext(JsonInputIterator.java:41)\\r\\n\\tat java.util.Iterator.forEachRemaining(Iterator.java:115)\\r\\n\\tat java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\\r\\n\\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\\r\\n\\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\\r\\n\\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\\r\\n\\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\\r\\n\\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\\r\\n\\tat org.openqa.selenium.json.MapCoercer.lambda$apply$1(MapCoercer.java:72)\\r\\n\\tat org.openqa.selenium.json.JsonTypeCoercer.lambda$buildCoercer$6(JsonTypeCoercer.java:145)\\r\\n\\tat org.openqa.selenium.json.JsonTypeCoercer.coerce(JsonTypeCoercer.java:127)\\r\\n\\tat org.openqa.selenium.json.Json.toType(Json.java:71)\\r\\n\\tat org.openqa.selenium.json.Json.toType(Json.java:55)\\r\\n\\t... 19 more\\r\\n&quot;\n  }\n</code></pre>\n<p><code>Showing error somewhere here in --data &quot;.json.JsonException: Unable to determine type from: q. Last 2 characters read: {q\\n</code>&quot;</p>\n<p>We tried with different combination of curl command but still facing the same issues. Please help us to get this resolve.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":0,"creation_date":1571416146,"post_id":58454788,"comment_id":103246998,"body_markdown":"What is the error you are getting?","body":"What is the error you are getting?"},{"owner":{"account_id":2437651,"reputation":1465,"user_id":2127121,"accept_rate":88,"display_name":"Villat"},"score":1,"creation_date":1571416191,"post_id":58454788,"comment_id":103247019,"body_markdown":"Check this `b.length &gt; b1`, that&#39;s not valid. Also, you should declare your attributes as private and use getters and setters.","body":"Check this <code>b.length &gt; b1</code>, that&#39;s not valid. Also, you should declare your attributes as private and use getters and setters."},{"owner":{"account_id":16416424,"reputation":165,"user_id":11858512,"display_name":"dSanders"},"score":0,"creation_date":1571416833,"post_id":58454788,"comment_id":103247264,"body_markdown":"`b.length &gt; b1` should be `b.length &gt; b1.length`","body":"<code>b.length &gt; b1</code> should be <code>b.length &gt; b1.length</code>"},{"owner":{"account_id":13941320,"reputation":1230,"user_id":10067128,"display_name":"User_67128"},"score":0,"creation_date":1571416858,"post_id":58454788,"comment_id":103247271,"body_markdown":"b.getLongestSide();\nb1.getShortestSide(); these two statements are useless, you should have something like int longside = b.getLongestSide();","body":"b.getLongestSide(); b1.getShortestSide(); these two statements are useless, you should have something like int longside = b.getLongestSide();"}],"answers":[{"tags":[],"owner":{"account_id":12029411,"reputation":46,"user_id":8800136,"display_name":"Archaos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571837133,"creation_date":1571418579,"answer_id":58455381,"question_id":58454788,"body_markdown":"I see multiple issues here.\r\n\r\nAs Villat pointed out in his answer, you try to compare an `int` with an instance of your `Box` object. The relational comparator `&gt;` expects two `int` or `char`, not an `Object`.\r\n\r\nThese statements are useless, since you do not use the output:\r\n\r\n    b.getLongestSide();\r\n    b1.getShortestSide();\r\n\r\nAnd, just a little precision, your log in the else part of your method is not correct, you&#39;re not sure that b fits in b1.\r\nTo be sure, you should do something like this:\r\n\r\n    if(b.length &gt; b1 &amp;&amp; b.width &gt; b1.width &amp;&amp; b.height &gt; b1.height)\r\n    {\r\n        System.out.println(&quot;b1 will fit in b&quot;);\r\n    }\r\n    else if(b1.length &gt; b.length &amp;&amp; b.width &gt; b1.width &amp;&amp; b1.height &gt; b.height)\r\n    {\r\n        System.out.println(&quot;b will fit in b1&quot;);\r\n    }\r\n    else\r\n    {\r\n        // Neither b fits in b1 nor b1 fits in b.\r\n    }\r\n\r\nA more elegant way (and more object oriented) would be to create a method `boolean Box#fitsIn(Box)` in your `Box` object.\r\n\r\n    public class Box \r\n    {\r\n        int length = 0;\r\n        int width = 0;\r\n        int height = 0;\r\n    \r\n        // ...\r\n        \r\n        public boolean fitsIn(@Nonnull final Box otherBox)\r\n        {\r\n            return \r\n                length &lt; otherBox.length\r\n                &amp;&amp; width &lt; otherBox.width \r\n                &amp;&amp; height &lt; otherBox.height;\r\n        }\r\n    }\r\n                ","title":"a program which fits one box into another","body":"<p>I see multiple issues here.</p>\n\n<p>As Villat pointed out in his answer, you try to compare an <code>int</code> with an instance of your <code>Box</code> object. The relational comparator <code>&gt;</code> expects two <code>int</code> or <code>char</code>, not an <code>Object</code>.</p>\n\n<p>These statements are useless, since you do not use the output:</p>\n\n<pre><code>b.getLongestSide();\nb1.getShortestSide();\n</code></pre>\n\n<p>And, just a little precision, your log in the else part of your method is not correct, you're not sure that b fits in b1.\nTo be sure, you should do something like this:</p>\n\n<pre><code>if(b.length &gt; b1 &amp;&amp; b.width &gt; b1.width &amp;&amp; b.height &gt; b1.height)\n{\n    System.out.println(\"b1 will fit in b\");\n}\nelse if(b1.length &gt; b.length &amp;&amp; b.width &gt; b1.width &amp;&amp; b1.height &gt; b.height)\n{\n    System.out.println(\"b will fit in b1\");\n}\nelse\n{\n    // Neither b fits in b1 nor b1 fits in b.\n}\n</code></pre>\n\n<p>A more elegant way (and more object oriented) would be to create a method <code>boolean Box#fitsIn(Box)</code> in your <code>Box</code> object.</p>\n\n<pre><code>public class Box \n{\n    int length = 0;\n    int width = 0;\n    int height = 0;\n\n    // ...\n\n    public boolean fitsIn(@Nonnull final Box otherBox)\n    {\n        return \n            length &lt; otherBox.length\n            &amp;&amp; width &lt; otherBox.width \n            &amp;&amp; height &lt; otherBox.height;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16914377,"reputation":7,"user_id":12232731,"display_name":"Enock Bansah"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":715,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1659199406,"creation_date":1571415874,"question_id":58454788,"body_markdown":"This program is suppose to determine if one box could fit into another box. What is wrong with my code? It is giving me error when I compile it.\r\n\r\n    public class Box {\r\n\t    int length = 0;\r\n\t    int width = 0;\r\n\t    int height = 0;\r\n\t\r\n\t\r\n\tpublic int getLongestSide() {\r\n\t\t\r\n\t\tint max = length;\r\n\t\tif(width &gt; max) {\r\n\t\t\tmax = width;\r\n\t\t}\r\n\t\tif(height &gt; max) {\r\n\t\t\tmax = height;\r\n\t\t}\r\n\t\treturn max;\r\n\t}\r\n    public int getShortestSide() {\r\n\t\t\r\n\t\tint max = length;\r\n\t\tif(width &gt; max) {\r\n\t\t\tmax = width;\r\n\t\t}\r\n\t\tif(height &gt; max) {\r\n\t\t\tmax = height;\r\n\t\t}\r\n\r\nThis is the main class. I was thinking maybe I should write an if statement in the main class to compare the sides of the boxes to determine which one will fit into the other. Any help please.\r\n         \r\n    import java.util.Scanner;\r\n\r\n    public class apples {\r\n\r\n    public static void main(String[] args) {\r\n\tScanner input = new Scanner(System.in);\r\n\t\r\n\tBox b = new Box();\r\n\tBox b1 = new Box();\r\n\t\r\n\tb.length = input.nextInt();\r\n\tb.width = input.nextInt();\r\n\tb.height = input.nextInt();\r\n\t\r\n\tb1.length = input.nextInt();\r\n\tb1.width = input.nextInt();\r\n\tb1.height = input.nextInt();\r\n\tb.getLongestSide();\r\n\tb1.getShortestSide();\r\n\t\r\n\tif(b.length &gt; b1 &amp;&amp; b.width &gt; b1.width &amp;&amp; b.height &gt; b1.height) {\r\n\t\tSystem.out.println(&quot;b1 will fit in b&quot;);\r\n\t}else {\r\n\t\tSystem.out.println(&quot;b will fit in b1&quot;);\r\n          }\r\n        }\r\n     }","title":"a program which fits one box into another","body":"<p>This program is suppose to determine if one box could fit into another box. What is wrong with my code? It is giving me error when I compile it.</p>\n\n<pre><code>public class Box {\n    int length = 0;\n    int width = 0;\n    int height = 0;\n\n\npublic int getLongestSide() {\n\n    int max = length;\n    if(width &gt; max) {\n        max = width;\n    }\n    if(height &gt; max) {\n        max = height;\n    }\n    return max;\n}\npublic int getShortestSide() {\n\n    int max = length;\n    if(width &gt; max) {\n        max = width;\n    }\n    if(height &gt; max) {\n        max = height;\n    }\n</code></pre>\n\n<p>This is the main class. I was thinking maybe I should write an if statement in the main class to compare the sides of the boxes to determine which one will fit into the other. Any help please.</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class apples {\n\npublic static void main(String[] args) {\nScanner input = new Scanner(System.in);\n\nBox b = new Box();\nBox b1 = new Box();\n\nb.length = input.nextInt();\nb.width = input.nextInt();\nb.height = input.nextInt();\n\nb1.length = input.nextInt();\nb1.width = input.nextInt();\nb1.height = input.nextInt();\nb.getLongestSide();\nb1.getShortestSide();\n\nif(b.length &gt; b1 &amp;&amp; b.width &gt; b1.width &amp;&amp; b.height &gt; b1.height) {\n    System.out.println(\"b1 will fit in b\");\n}else {\n    System.out.println(\"b will fit in b1\");\n      }\n    }\n }\n</code></pre>\n"},{"tags":["java","mockito"],"owner":{"account_id":14982249,"reputation":71,"user_id":10815937,"display_name":"Ajay Negi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659198906,"creation_date":1659195274,"question_id":73176922,"body_markdown":"I have fairly simple Test case below which is passing when I use the Mockito 1.19 version but failing when I switched to Mockito 3.x.\r\n\r\n\r\n    @Test(expected = DBMapperRetryableException.class)\r\n    public void testUpdateInventoryWithException() throws DBMapperRetryableException, DBMapperNonRetryableException {\r\n        when(baseDBOperations.partialUpdate(anyString(), any(PrimaryKey.class), anyString(), anyString(), any(ReturnValue.class), any(ValueMap.class))).thenThrow(new DBMapperRetryableException(&quot;Exception&quot;, new Throwable()));\r\n\r\n        assertNull(prebookInventoryDao.updateInventory(PrebookInventoryUpdateInfo.builder().hashKey(DUMMY).sortKey(123).incrementValue(1).build()));\r\n        // verify(baseDBOperations, times(1)).partialUpdate(anyString(), any(PrimaryKey.class), anyString(), anyString(), any(ReturnValue.class), any(ValueMap.class));\r\n    }\r\n\r\nAbove shows the below message when I run it on Intellij:\r\n\r\n```\r\n[MockitoHint] PrebookInventoryDaoTest.testUpdateInventoryWithException (see javadoc for MockitoHint):\r\n[MockitoHint] 1. Unused... -&gt; at com.amazon.pbxcoreservice.dao.PrebookInventoryDaoTest.testUpdateInventoryWithException(PrebookInventoryDaoTest.java:68)\r\n[MockitoHint]  ...args ok? -&gt; at com.amazon.pbxcoreservice.dao.PrebookInventoryDao.updateInventory(PrebookInventoryDao.java:51)\r\n```\r\n\r\nError shown: `java.lang.AssertionError: Expected exception: com.amazon.pbxcoreservice.dynamodb.exception.DBMapperRetryableException`\r\n\r\nHere&#39;s the PrebookInventoryDao class. I&#39;ve skipped a few methods like getUpdateExpression, getPrimaryKey.\r\n\r\n    public class PrebookInventoryDao {\r\n\r\n    private final BaseDBOperations baseDBOperations;\r\n\r\n    public PrebookInventoryDao(final BaseDBOperations baseDBOperations) {\r\n        this.baseDBOperations = baseDBOperations;\r\n    }\r\n\r\n    public UpdateItemOutcome updateInventory(PrebookInventoryUpdateInfo prebookInventoryUpdateInfo)\r\n            throws DBMapperRetryableException, DBMapperNonRetryableException {\r\n\r\n        ConditionalExpressionRequest conditionalExpressionRequest = prebookInventoryUpdateInfo.getConditionalExpressionRequest();\r\n        String conditionalExpression = conditionalExpressionRequest != null ? conditionalExpressionRequest.getQuery() : null;\r\n\r\n        return baseDBOperations.partialUpdate(DynamoDBConstants.PREBOOK_INVENTORY.TABLE,\r\n                getPrimaryKey(prebookInventoryUpdateInfo), getUpdateExpression(),\r\n                conditionalExpression, ReturnValue.UPDATED_NEW, getValueMap(prebookInventoryUpdateInfo, conditionalExpressionRequest));\r\n    }\r\n\r\nCould anyone help as to why such discrepancy?\r\n\r\nPS: Looks like when I use ```when(baseDBOperations.partialUpdate(any(), any(), any(), any(), any(), any())).thenThrow(new DBMapperRetryableException(&quot;Exception&quot;, new Throwable()));```\r\n, then the test passes. Not sure why ```when(baseDBOperations.partialUpdate(anyString(), any(PrimaryKey.class), anyString(), anyString(), any(ReturnValue.class), any(ValueMap.class))).thenThrow(new DBMapperRetryableException(&quot;Exception&quot;, new Throwable()));``` isn&#39;t working.","title":"Mockito versions behaving differently on a test case","body":"<p>I have fairly simple Test case below which is passing when I use the Mockito 1.19 version but failing when I switched to Mockito 3.x.</p>\n<pre><code>@Test(expected = DBMapperRetryableException.class)\npublic void testUpdateInventoryWithException() throws DBMapperRetryableException, DBMapperNonRetryableException {\n    when(baseDBOperations.partialUpdate(anyString(), any(PrimaryKey.class), anyString(), anyString(), any(ReturnValue.class), any(ValueMap.class))).thenThrow(new DBMapperRetryableException(&quot;Exception&quot;, new Throwable()));\n\n    assertNull(prebookInventoryDao.updateInventory(PrebookInventoryUpdateInfo.builder().hashKey(DUMMY).sortKey(123).incrementValue(1).build()));\n    // verify(baseDBOperations, times(1)).partialUpdate(anyString(), any(PrimaryKey.class), anyString(), anyString(), any(ReturnValue.class), any(ValueMap.class));\n}\n</code></pre>\n<p>Above shows the below message when I run it on Intellij:</p>\n<pre><code>[MockitoHint] PrebookInventoryDaoTest.testUpdateInventoryWithException (see javadoc for MockitoHint):\n[MockitoHint] 1. Unused... -&gt; at com.amazon.pbxcoreservice.dao.PrebookInventoryDaoTest.testUpdateInventoryWithException(PrebookInventoryDaoTest.java:68)\n[MockitoHint]  ...args ok? -&gt; at com.amazon.pbxcoreservice.dao.PrebookInventoryDao.updateInventory(PrebookInventoryDao.java:51)\n</code></pre>\n<p>Error shown: <code>java.lang.AssertionError: Expected exception: com.amazon.pbxcoreservice.dynamodb.exception.DBMapperRetryableException</code></p>\n<p>Here's the PrebookInventoryDao class. I've skipped a few methods like getUpdateExpression, getPrimaryKey.</p>\n<pre><code>public class PrebookInventoryDao {\n\nprivate final BaseDBOperations baseDBOperations;\n\npublic PrebookInventoryDao(final BaseDBOperations baseDBOperations) {\n    this.baseDBOperations = baseDBOperations;\n}\n\npublic UpdateItemOutcome updateInventory(PrebookInventoryUpdateInfo prebookInventoryUpdateInfo)\n        throws DBMapperRetryableException, DBMapperNonRetryableException {\n\n    ConditionalExpressionRequest conditionalExpressionRequest = prebookInventoryUpdateInfo.getConditionalExpressionRequest();\n    String conditionalExpression = conditionalExpressionRequest != null ? conditionalExpressionRequest.getQuery() : null;\n\n    return baseDBOperations.partialUpdate(DynamoDBConstants.PREBOOK_INVENTORY.TABLE,\n            getPrimaryKey(prebookInventoryUpdateInfo), getUpdateExpression(),\n            conditionalExpression, ReturnValue.UPDATED_NEW, getValueMap(prebookInventoryUpdateInfo, conditionalExpressionRequest));\n}\n</code></pre>\n<p>Could anyone help as to why such discrepancy?</p>\n<p>PS: Looks like when I use <code>when(baseDBOperations.partialUpdate(any(), any(), any(), any(), any(), any())).thenThrow(new DBMapperRetryableException(&quot;Exception&quot;, new Throwable()));</code>\n, then the test passes. Not sure why <code>when(baseDBOperations.partialUpdate(anyString(), any(PrimaryKey.class), anyString(), anyString(), any(ReturnValue.class), any(ValueMap.class))).thenThrow(new DBMapperRetryableException(&quot;Exception&quot;, new Throwable()));</code> isn't working.</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":12712205,"reputation":1604,"user_id":9235482,"display_name":"Lakshitha Wisumperuma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659197572,"creation_date":1659197572,"answer_id":73177218,"question_id":73169657,"body_markdown":"Hibernate provides multiple strategies for retrieving data. Few are `Select`, `join`, `batch`.\r\n\r\nHowever, this seems like N+1 problem. The first query retrieves N records from the database. For each Parent, a new query retrieves the Child. Therefore for N Parent, N queries retrieve information from the child table.\r\n\r\nThe fetching strategy depends on how our application works, so gonna leave you to that. You can find more details [here][1]\r\n\r\n\r\n  [1]: https://mkyong.com/hibernate/hibernate-fetching-strategies-examples/","title":"Why hibernate @ManyToOne generating multiple select query for same table?","body":"<p>Hibernate provides multiple strategies for retrieving data. Few are <code>Select</code>, <code>join</code>, <code>batch</code>.</p>\n<p>However, this seems like N+1 problem. The first query retrieves N records from the database. For each Parent, a new query retrieves the Child. Therefore for N Parent, N queries retrieve information from the child table.</p>\n<p>The fetching strategy depends on how our application works, so gonna leave you to that. You can find more details <a href=\"https://mkyong.com/hibernate/hibernate-fetching-strategies-examples/\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":15272562,"reputation":9,"user_id":13573572,"display_name":"Ajit Barik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":828,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659197572,"creation_date":1659119514,"question_id":73169657,"body_markdown":"Why Hibernate generate multiple select statement for same table/entity ?\r\nBelow is @ManyToOne Mapping :\t\r\n```\r\nclass Student{\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;student_id&quot;, insertable = false, updatable = false, referencedColumnName = &quot;student_id&quot;)\r\n\tSubject subject;\r\n}\r\n```\r\n\r\nGenerated HQL :3 times select query is genereating for subject table\r\n```\r\nHibernate: \r\n    select\r\n        subject0_.subject_cd as subject_cd1_12_0_,\r\n        subject0_.subjectname as subject_name_12_0_ \r\n    from\r\n        smart.vw_subject subject0_\r\n    where\r\n        fundhierar0_.subject_cd =?\r\nHibernate: \r\n    select\r\n        subject0_.subject_cd as subject_cd1_12_0_,\r\n        subject0_.subjectname as subject_name_12_0_ \r\n    from\r\n        smart.vw_subject subject0_\r\n    where\r\n        fundhierar0_.subject_cd =?\r\nHibernate: \r\n    select\r\n        subject0_.subject_cd as subject_cd1_12_0_,\r\n        subject0_.subjectname as subject_name_12_0_ \r\n    from\r\n        smart.vw_subject subject0_\r\n    where\r\n        fundhierar0_.subject_cd =?","title":"Why hibernate @ManyToOne generating multiple select query for same table?","body":"<p>Why Hibernate generate multiple select statement for same table/entity ?\nBelow is @ManyToOne Mapping :</p>\n<pre><code>class Student{\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;student_id&quot;, insertable = false, updatable = false, referencedColumnName = &quot;student_id&quot;)\n    Subject subject;\n}\n</code></pre>\n<p>Generated HQL :3 times select query is genereating for subject table</p>\n<pre><code>Hibernate: \n    select\n        subject0_.subject_cd as subject_cd1_12_0_,\n        subject0_.subjectname as subject_name_12_0_ \n    from\n        smart.vw_subject subject0_\n    where\n        fundhierar0_.subject_cd =?\nHibernate: \n    select\n        subject0_.subject_cd as subject_cd1_12_0_,\n        subject0_.subjectname as subject_name_12_0_ \n    from\n        smart.vw_subject subject0_\n    where\n        fundhierar0_.subject_cd =?\nHibernate: \n    select\n        subject0_.subject_cd as subject_cd1_12_0_,\n        subject0_.subjectname as subject_name_12_0_ \n    from\n        smart.vw_subject subject0_\n    where\n        fundhierar0_.subject_cd =?\n</code></pre>\n"},{"tags":["java","swing","gwt","swt","windowbuilder"],"answers":[{"tags":[],"owner":{"account_id":4035096,"reputation":94,"user_id":3319870,"display_name":"Francis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424366629,"creation_date":1424366629,"answer_id":28612824,"question_id":10520494,"body_markdown":"Well there&#39;s not much of a difference between the two since the only thing unique about the JFrame wizard is that it voluntarily creates a JFrame subclass. On the other hand, a subclass of Object that has a JFrame is automatically created in the Application Window wizard from the Swing Designer. The JFrame Wizard is always more favorable to use in my opinion.","title":"Application Window in Eclipse with WindowBuilder","body":"<p>Well there's not much of a difference between the two since the only thing unique about the JFrame wizard is that it voluntarily creates a JFrame subclass. On the other hand, a subclass of Object that has a JFrame is automatically created in the Application Window wizard from the Swing Designer. The JFrame Wizard is always more favorable to use in my opinion.</p>\n"}],"owner":{"account_id":1474384,"reputation":51,"user_id":1385171,"display_name":"DrDeath86"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7632,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1659197030,"creation_date":1336581960,"question_id":10520494,"body_markdown":"I am relatively new in Java programming, I have been using Eclipse with WindowBuilder but I don&#39;t get what is the difference between using a `JFrame` or Application Window in Swing Designer. Can anyone explain it?","title":"Application Window in Eclipse with WindowBuilder","body":"<p>I am relatively new in Java programming, I have been using Eclipse with WindowBuilder but I don't get what is the difference between using a <code>JFrame</code> or Application Window in Swing Designer. Can anyone explain it?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1810,"reputation":28237,"user_id":2486,"accept_rate":100,"display_name":"Josh Mein"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659196840,"creation_date":1329600829,"answer_id":9344281,"question_id":9344271,"body_markdown":"**(IntElement)** casts otherElement which is of type **DataElement** to type **IntElement**\r\n\r\nCheck out this link about [Java Types and Type Conversion (Casting)][1] for a more thorough description.\r\n\r\n\r\n  [1]: http://xahlee.info/java-a-day/casting.html","title":"Parentheses around data type?","body":"<p><strong>(IntElement)</strong> casts otherElement which is of type <strong>DataElement</strong> to type <strong>IntElement</strong></p>\n<p>Check out this link about <a href=\"http://xahlee.info/java-a-day/casting.html\" rel=\"nofollow noreferrer\">Java Types and Type Conversion (Casting)</a> for a more thorough description.</p>\n"},{"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1329600883,"creation_date":1329600883,"answer_id":9344288,"question_id":9344271,"body_markdown":"The purpose of `(IntElement)` after `temp` is performing a type conversion, more technically, a _cast_, where you&#39;re saying that `otherElement`, which is a parameter of type `DataElement`, should be taken as an object of the more concrete type `IntElement`.","title":"Parentheses around data type?","body":"<p>The purpose of <code>(IntElement)</code> after <code>temp</code> is performing a type conversion, more technically, a <em>cast</em>, where you're saying that <code>otherElement</code>, which is a parameter of type <code>DataElement</code>, should be taken as an object of the more concrete type <code>IntElement</code>.</p>\n"},{"tags":[],"owner":{"account_id":195577,"reputation":28172,"user_id":438544,"accept_rate":38,"display_name":"icyrock.com"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1329601370,"creation_date":1329600888,"answer_id":9344289,"question_id":9344271,"body_markdown":"This is called casting, see here:\r\n\r\n* http://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html\r\n\r\nBasically, by doing this:\r\n\r\n    IntElement temp = (IntElement) otherElement;  \r\n\r\nyou are telling compiler to ignore the fact you declared `otherElement` as `DataElement` and trust you it is going to be an `IntElement` and not `DataElement` or some other subclass of `DataElement`.\r\n\r\nYou cannot do just `IntElement temp = otherElement;` as this way you would make `otherElement`, which was defined as `DataElement` become some other element, in this case `IntElement`. This will be a big blow to type-safety, which is the reason types are defined at the first place.\r\n\r\nThis could technically be done using type inference:\r\n\r\n* http://en.wikipedia.org/wiki/Type_inference\r\n\r\nhowever Java does not support that and you have to be explicit. \r\n\r\nIf it&#39;s possible to get other elements, you may want to use `instanceof` to check the type runtime before casting:\r\n\r\n* http://www.java2s.com/Tutorial/Java/0060__Operators/TheinstanceofKeyword.htm\r\n\r\nAt some point after you go through this, you might want to take a look at generics, too:\r\n\r\n* http://en.wikipedia.org/wiki/Generics_in_Java","title":"Parentheses around data type?","body":"<p>This is called casting, see here:</p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html</a></li>\n</ul>\n\n<p>Basically, by doing this:</p>\n\n<pre><code>IntElement temp = (IntElement) otherElement;  \n</code></pre>\n\n<p>you are telling compiler to ignore the fact you declared <code>otherElement</code> as <code>DataElement</code> and trust you it is going to be an <code>IntElement</code> and not <code>DataElement</code> or some other subclass of <code>DataElement</code>.</p>\n\n<p>You cannot do just <code>IntElement temp = otherElement;</code> as this way you would make <code>otherElement</code>, which was defined as <code>DataElement</code> become some other element, in this case <code>IntElement</code>. This will be a big blow to type-safety, which is the reason types are defined at the first place.</p>\n\n<p>This could technically be done using type inference:</p>\n\n<ul>\n<li><a href=\"http://en.wikipedia.org/wiki/Type_inference\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Type_inference</a></li>\n</ul>\n\n<p>however Java does not support that and you have to be explicit. </p>\n\n<p>If it's possible to get other elements, you may want to use <code>instanceof</code> to check the type runtime before casting:</p>\n\n<ul>\n<li>Operators/TheinstanceofKeyword.htm\">http://www.java2s.com/Tutorial/Java/0060_Operators/TheinstanceofKeyword.htm</li>\n</ul>\n\n<p>At some point after you go through this, you might want to take a look at generics, too:</p>\n\n<ul>\n<li><a href=\"http://en.wikipedia.org/wiki/Generics_in_Java\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Generics_in_Java</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":282589,"reputation":8239,"user_id":579580,"accept_rate":85,"display_name":"aviad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1329600989,"creation_date":1329600989,"answer_id":9344299,"question_id":9344271,"body_markdown":"It is a type cast[See the example here][1]\r\n\r\n\r\n  [1]: http://www.javabeginner.com/learn-java/java-object-typecasting","title":"Parentheses around data type?","body":"<p>It is a type cast<a href=\"http://www.javabeginner.com/learn-java/java-object-typecasting\" rel=\"nofollow\">See the example here</a></p>\n"},{"tags":[],"owner":{"account_id":1152105,"reputation":2765,"user_id":1133577,"accept_rate":86,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1329601022,"creation_date":1329601022,"answer_id":9344304,"question_id":9344271,"body_markdown":"jmein is correct, it tells the compiler/interpreter to turn the one variable type into another. In reality it is just telling the processor to treat it as another type. In C this is a blessing and a curse, in java, what looks like you are writing, you MUST cast the variable to treat it differently.","title":"Parentheses around data type?","body":"<p>jmein is correct, it tells the compiler/interpreter to turn the one variable type into another. In reality it is just telling the processor to treat it as another type. In C this is a blessing and a curse, in java, what looks like you are writing, you MUST cast the variable to treat it differently.</p>\n"}],"owner":{"account_id":410915,"reputation":403,"user_id":783036,"accept_rate":75,"display_name":"aearon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8806,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":9344289,"answer_count":5,"score":12,"last_activity_date":1659196840,"creation_date":1329600668,"question_id":9344271,"body_markdown":"I am a beginning programmer and came across this in my textbook:\r\n\r\n    public boolean equals(DataElement otherElement)\r\n    {\r\n    \tIntElement temp = (IntElement) otherElement;\t\t\t\r\n    \treturn (num == temp.num);\r\n    }\r\n\r\n`IntElement` is a subclass of `DataElement`. `num` is an int storing a value for a linked list.\r\n\r\nWhat is the purpose of `(IntElement)` after `temp =?` What would be wrong with `IntElement temp = otherElement`? And, in general, what does putting a data type in parentheses like that do?","title":"Parentheses around data type?","body":"<p>I am a beginning programmer and came across this in my textbook:</p>\n\n<pre><code>public boolean equals(DataElement otherElement)\n{\n    IntElement temp = (IntElement) otherElement;            \n    return (num == temp.num);\n}\n</code></pre>\n\n<p><code>IntElement</code> is a subclass of <code>DataElement</code>. <code>num</code> is an int storing a value for a linked list.</p>\n\n<p>What is the purpose of <code>(IntElement)</code> after <code>temp =?</code> What would be wrong with <code>IntElement temp = otherElement</code>? And, in general, what does putting a data type in parentheses like that do?</p>\n"},{"tags":["java","spring","date"],"comments":[{"owner":{"account_id":3980890,"reputation":8836,"user_id":3282808,"accept_rate":36,"display_name":"SparkOn"},"score":0,"creation_date":1659197162,"post_id":73177071,"comment_id":129238797,"body_markdown":"Looks like an interval problem to me","body":"Looks like an interval problem to me"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":2,"creation_date":1659197715,"post_id":73177071,"comment_id":129238911,"body_markdown":"Show the code you have so far. Anyway, loop through the list and check `courseList.get(i).getEndDate().isBefore(courseList.get(i+1).getStartDate())` ...","body":"Show the code you have so far. Anyway, loop through the list and check <code>courseList.get(i).getEndDate().isBefore(courseList.get(i+1).&zwnj;&#8203;getStartDate())</code> ..."}],"owner":{"account_id":13430110,"reputation":11,"user_id":9690174,"display_name":"PUNJRAJ SINGH RATHORE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659196816,"creation_date":1659196458,"question_id":73177071,"body_markdown":"I am working on a validation scenario where an Array List will have different courses with start date and end date \r\nlike : `List&lt;Course&gt; courseList = new ArrayList&lt;&gt;();`\r\n\r\nlets suppose `courseList` has 10 items \r\n\r\nNow I have to validate that `startDate` of 2nd course can not be before `endDate` of first course.\r\nBasically 2 courses can not run concurrently.\r\n\r\nWhat could be the most efficient way of achieving this? ","title":"how to validate dates scenarios in array List containing different items with start date and end date","body":"<p>I am working on a validation scenario where an Array List will have different courses with start date and end date\nlike : <code>List&lt;Course&gt; courseList = new ArrayList&lt;&gt;();</code></p>\n<p>lets suppose <code>courseList</code> has 10 items</p>\n<p>Now I have to validate that <code>startDate</code> of 2nd course can not be before <code>endDate</code> of first course.\nBasically 2 courses can not run concurrently.</p>\n<p>What could be the most efficient way of achieving this?</p>\n"},{"tags":["java","formatting","sonarqube"],"comments":[{"owner":{"account_id":1212429,"reputation":19082,"user_id":1180720,"accept_rate":74,"display_name":"gefei"},"score":0,"creation_date":1352674242,"post_id":13336281,"comment_id":18197688,"body_markdown":"how should a tool determine where to put a closing bracket?","body":"how should a tool determine where to put a closing bracket?"},{"owner":{"account_id":83369,"reputation":15890,"user_id":233792,"accept_rate":72,"display_name":"Christian Kuetbach"},"score":3,"creation_date":1352674653,"post_id":13336281,"comment_id":18197779,"body_markdown":"@gefai: Thats easy. The closind bracket must be placed behind the next statement, exectly as the compiler would place it. Statemens are delimitted bei ; or linebreak. Comments have te filtered out.","body":"@gefai: Thats easy. The closind bracket must be placed behind the next statement, exectly as the compiler would place it. Statemens are delimitted bei ; or linebreak. Comments have te filtered out."},{"owner":{"account_id":41366,"reputation":93989,"user_id":120163,"accept_rate":59,"display_name":"Ira Baxter"},"score":0,"creation_date":1352679326,"post_id":13336281,"comment_id":18198747,"body_markdown":"Why don&#39;t you just simply shut off that Sonar rule?  Is that really the big issue in your code base?","body":"Why don&#39;t you just simply shut off that Sonar rule?  Is that really the big issue in your code base?"}],"answers":[{"tags":[],"owner":{"account_id":2031896,"reputation":4590,"user_id":1815355,"display_name":"ShyJ"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1352674235,"creation_date":1352674235,"answer_id":13336311,"question_id":13336281,"body_markdown":"The easiest thing would be to use [Eclipse](http://www.eclipse.org) and click `Clean-up` on the whole project. In `Clean-up` profile configuration select `Code style` tab. There you can select `Use blocks in if/while/for/do statements` as `Always`.","title":"automatically add curly brackets to all if/else/for/while etc. in a java code-base","body":"<p>The easiest thing would be to use <a href=\"http://www.eclipse.org\" rel=\"noreferrer\">Eclipse</a> and click <code>Clean-up</code> on the whole project. In <code>Clean-up</code> profile configuration select <code>Code style</code> tab. There you can select <code>Use blocks in if/while/for/do statements</code> as <code>Always</code>.</p>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1352678991,"creation_date":1352674260,"answer_id":13336313,"question_id":13336281,"body_markdown":"This strikes me as potentially quite dangerous. Do you have comprehensive unit test coverage ?\r\n\r\nI can see some immediately difficult cases e.g.\r\n\r\n    if (x) doMethodA(); doMethodB();\r\n\r\nand\r\n\r\n    if (x) \r\n      // doMethodA();\r\n      doMethodB();\r\n\r\nare two that spring to mind and can&#39;t be *naively* handled (you should be language-aware to tackle these). I wouldn&#39;t try and automate such a task unless you have language-aware and reliable tool, but rather enforce a policy that you amend code when you&#39;re changing it for other reasons, and can at that stage assert code coverage through unit tests prior to changing the code.","title":"automatically add curly brackets to all if/else/for/while etc. in a java code-base","body":"<p>This strikes me as potentially quite dangerous. Do you have comprehensive unit test coverage ?</p>\n\n<p>I can see some immediately difficult cases e.g.</p>\n\n<pre><code>if (x) doMethodA(); doMethodB();\n</code></pre>\n\n<p>and</p>\n\n<pre><code>if (x) \n  // doMethodA();\n  doMethodB();\n</code></pre>\n\n<p>are two that spring to mind and can't be <em>naively</em> handled (you should be language-aware to tackle these). I wouldn't try and automate such a task unless you have language-aware and reliable tool, but rather enforce a policy that you amend code when you're changing it for other reasons, and can at that stage assert code coverage through unit tests prior to changing the code.</p>\n"},{"tags":[],"owner":{"account_id":71001,"reputation":24087,"user_id":205426,"accept_rate":60,"display_name":"Woot4Moo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1352674420,"creation_date":1352674420,"answer_id":13336337,"question_id":13336281,"body_markdown":"While it may be a quick sonar win, you are doing some dangerous stuff.  The recommended approach is to only fix legacy code when that code has to be revisited.  These blanket approaches are going to potentially cause very subtle bugs.  Because policy has changed your management team needs to understand that this is a massive undertaking, and should guarantee that all future code is developed to the standard.","title":"automatically add curly brackets to all if/else/for/while etc. in a java code-base","body":"<p>While it may be a quick sonar win, you are doing some dangerous stuff.  The recommended approach is to only fix legacy code when that code has to be revisited.  These blanket approaches are going to potentially cause very subtle bugs.  Because policy has changed your management team needs to understand that this is a massive undertaking, and should guarantee that all future code is developed to the standard.</p>\n"},{"tags":[],"owner":{"account_id":83369,"reputation":15890,"user_id":233792,"accept_rate":72,"display_name":"Christian Kuetbach"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1659196604,"creation_date":1352674516,"answer_id":13336352,"question_id":13336281,"body_markdown":"First enable `Control flow statement without braces` in the inspection settings.\r\n\r\nIntelliJ Idea -&gt; Run Code Inspection -&gt; Quick Fix (works at least in the commercial version)\r\n\r\nIn newer IntelliJ versions (e.g. 2022.02) execute menu `Code` -&gt; `Analyze Code` -&gt; `Run Inspection By Name` -&gt; `Code flow statement without braces` -&gt; `Fix All`","title":"automatically add curly brackets to all if/else/for/while etc. in a java code-base","body":"<p>First enable <code>Control flow statement without braces</code> in the inspection settings.</p>\n<p>IntelliJ Idea -&gt; Run Code Inspection -&gt; Quick Fix (works at least in the commercial version)</p>\n<p>In newer IntelliJ versions (e.g. 2022.02) execute menu <code>Code</code> -&gt; <code>Analyze Code</code> -&gt; <code>Run Inspection By Name</code> -&gt; <code>Code flow statement without braces</code> -&gt; <code>Fix All</code></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1352679257,"creation_date":1352678641,"answer_id":13336843,"question_id":13336281,"body_markdown":"While it is advisable to be cautious with legacy code, it is also a good thing to detect bugs in legacy code ... or at least make the bugs easier to spot.\r\n\r\nLet us consider Brian Agnew&#39;s difficult cases:\r\n\r\n    // Case #1\r\n    if (x) doMethodA(); doMethodB();\r\n\r\nIn fact, as far as the JLS and the Java compiler are concerned, this *means*\r\n\r\n    if (x) doMethodA();\r\n    doMethodB();\r\n\r\nSo when the transformer rewrites the code to:\r\n\r\n    if (x) { \r\n        doMethodA();\r\n    }\r\n    doMethodB();\r\n\r\nit is not changing the meaning of the code, but it is correcting a problem that is likely to cause someone to *misread* the code, and *miss* a potential bug *that is in the code already*; i.e. if the 2nd call is supposed to be conditional ...\r\n\r\n    // Case #2\r\n    if (x) \r\n        // doMethodA();\r\n        doMethodB();\r\n\r\nOnce again, when that is rewritten, you should get:\r\n\r\n     if (x) {\r\n        // doMethodA();\r\n        doMethodB();\r\n     }\r\n\r\nwhich means the same thing as the original.  Furthermore, this most likely reflects the intent of the programmer ... if the indentation is to be believed.  But consider this:\r\n\r\n    // Case #2a\r\n    if (x) \r\n        // doMethodA();\r\n    doMethodB();\r\n\r\nWhen we rewrite that as \r\n\r\n    if (x) {\r\n        // doMethodA();\r\n        doMethodB();\r\n    }\r\n\r\nthe actual meaning of the code doesn&#39;t change, and the incorrect indentation is no longer going to mislead.  If the programmer decides to uncomment the first call, he might not realize that the previous commenting out had had an unintended consequence.  (The evidence was in the original indentation that we have &quot;fixed&quot;.)  But there is a potential solution; see below.\r\n\r\n----------------------------\r\n\r\nIf we assume that the code transformation tool operates with a proper understanding of the syntax and semantics of Java, then it will no break anything that wasn&#39;t already broken, and it will (to a degree) make any existing brokenness more obvious to someone reading the code.  To me, that is a zero-risk win, even for legacy code.\r\n\r\nNow if we make the transformer smarter, it could *detect* some of the cases where the original indentation indicates a possible bug (like cases #1 and #2a above) and flag them for closer code inspection.\r\n\r\n","title":"automatically add curly brackets to all if/else/for/while etc. in a java code-base","body":"<p>While it is advisable to be cautious with legacy code, it is also a good thing to detect bugs in legacy code ... or at least make the bugs easier to spot.</p>\n\n<p>Let us consider Brian Agnew's difficult cases:</p>\n\n<pre><code>// Case #1\nif (x) doMethodA(); doMethodB();\n</code></pre>\n\n<p>In fact, as far as the JLS and the Java compiler are concerned, this <em>means</em></p>\n\n<pre><code>if (x) doMethodA();\ndoMethodB();\n</code></pre>\n\n<p>So when the transformer rewrites the code to:</p>\n\n<pre><code>if (x) { \n    doMethodA();\n}\ndoMethodB();\n</code></pre>\n\n<p>it is not changing the meaning of the code, but it is correcting a problem that is likely to cause someone to <em>misread</em> the code, and <em>miss</em> a potential bug <em>that is in the code already</em>; i.e. if the 2nd call is supposed to be conditional ...</p>\n\n<pre><code>// Case #2\nif (x) \n    // doMethodA();\n    doMethodB();\n</code></pre>\n\n<p>Once again, when that is rewritten, you should get:</p>\n\n<pre><code> if (x) {\n    // doMethodA();\n    doMethodB();\n }\n</code></pre>\n\n<p>which means the same thing as the original.  Furthermore, this most likely reflects the intent of the programmer ... if the indentation is to be believed.  But consider this:</p>\n\n<pre><code>// Case #2a\nif (x) \n    // doMethodA();\ndoMethodB();\n</code></pre>\n\n<p>When we rewrite that as </p>\n\n<pre><code>if (x) {\n    // doMethodA();\n    doMethodB();\n}\n</code></pre>\n\n<p>the actual meaning of the code doesn't change, and the incorrect indentation is no longer going to mislead.  If the programmer decides to uncomment the first call, he might not realize that the previous commenting out had had an unintended consequence.  (The evidence was in the original indentation that we have \"fixed\".)  But there is a potential solution; see below.</p>\n\n<hr>\n\n<p>If we assume that the code transformation tool operates with a proper understanding of the syntax and semantics of Java, then it will no break anything that wasn't already broken, and it will (to a degree) make any existing brokenness more obvious to someone reading the code.  To me, that is a zero-risk win, even for legacy code.</p>\n\n<p>Now if we make the transformer smarter, it could <em>detect</em> some of the cases where the original indentation indicates a possible bug (like cases #1 and #2a above) and flag them for closer code inspection.</p>\n"},{"tags":[],"owner":{"account_id":41366,"reputation":93989,"user_id":120163,"accept_rate":59,"display_name":"Ira Baxter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1352728566,"creation_date":1352728566,"answer_id":13345010,"question_id":13336281,"body_markdown":"Robert in a comment said: &quot;@ira i would also be interested in hearing of this truly language aware tool!&quot;\r\n\r\nSorry for the tease.  For the cause of the tease, check my bio.\r\n\r\nUntease: see http://www.semanticdesigns/Products/DMS/DMSToolkit.html as the foundation engine, and http://www.semanticdesigns.com/Products/FrontEnds/JavaFrontEnd.html.  The pair make a fully language aware source-to-source program program transformation system.\r\n\r\nOne would accomplish this task with DMS with two source-to-source transformation rules:\r\n\r\n      rule curlies_for_then_statement:(c:expression, s: statement}: \r\n                 statement-&gt;statement\r\n           &quot; if (\\c) \\s &quot; -&gt; &quot;if (\\c) { \\s } &quot;;\r\n\r\n\r\n      rule curlies_for_else_statement:(c:expression, b: block, s: statement}:\r\n                  statement-&gt;statement\r\n           &quot; if (\\c) \\b else \\s &quot; -&gt; &quot;if (\\c) \\b else { \\s } &quot;;\r\n\r\nThis works reliably because DMS is driven completely from a formal grammar (for Java in this case), and is not operating on raw text, but rather abstract syntax trees; this also makes in independent of layout. (It is probably useful to understand the rules that &quot;block&quot;, &quot;expression&quot; and &quot;statement&quot; are grammar nonterminals.\r\n\r\n\r\n","title":"automatically add curly brackets to all if/else/for/while etc. in a java code-base","body":"<p>Robert in a comment said: \"@ira i would also be interested in hearing of this truly language aware tool!\"</p>\n\n<p>Sorry for the tease.  For the cause of the tease, check my bio.</p>\n\n<p>Untease: see <a href=\"http://www.semanticdesigns/Products/DMS/DMSToolkit.html\" rel=\"nofollow\">http://www.semanticdesigns/Products/DMS/DMSToolkit.html</a> as the foundation engine, and <a href=\"http://www.semanticdesigns.com/Products/FrontEnds/JavaFrontEnd.html\" rel=\"nofollow\">http://www.semanticdesigns.com/Products/FrontEnds/JavaFrontEnd.html</a>.  The pair make a fully language aware source-to-source program program transformation system.</p>\n\n<p>One would accomplish this task with DMS with two source-to-source transformation rules:</p>\n\n<pre><code>  rule curlies_for_then_statement:(c:expression, s: statement}: \n             statement-&gt;statement\n       \" if (\\c) \\s \" -&gt; \"if (\\c) { \\s } \";\n\n\n  rule curlies_for_else_statement:(c:expression, b: block, s: statement}:\n              statement-&gt;statement\n       \" if (\\c) \\b else \\s \" -&gt; \"if (\\c) \\b else { \\s } \";\n</code></pre>\n\n<p>This works reliably because DMS is driven completely from a formal grammar (for Java in this case), and is not operating on raw text, but rather abstract syntax trees; this also makes in independent of layout. (It is probably useful to understand the rules that \"block\", \"expression\" and \"statement\" are grammar nonterminals.</p>\n"},{"tags":[],"owner":{"account_id":5844270,"reputation":318,"user_id":4604830,"display_name":"Marcus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501854437,"creation_date":1501854305,"answer_id":45508479,"question_id":13336281,"body_markdown":"Intellij 2017 support this with **Reformat Code**, if you set the right coding style in the editor settings first.\r\n\r\n    File -&gt; Settings -&gt; Editor -&gt; Code Style -&gt; Java -&gt; Wrapping and Braces\r\n\r\n![Editor settings Intellij][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cPCxD.png","title":"automatically add curly brackets to all if/else/for/while etc. in a java code-base","body":"<p>Intellij 2017 support this with <strong>Reformat Code</strong>, if you set the right coding style in the editor settings first.</p>\n\n<pre><code>File -&gt; Settings -&gt; Editor -&gt; Code Style -&gt; Java -&gt; Wrapping and Braces\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/cPCxD.png\" alt=\"Editor settings Intellij\"></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1547866653,"creation_date":1547866136,"answer_id":54263675,"question_id":13336281,"body_markdown":"&gt; The rule is non-negotiable by the way, so this really is the best approach.\r\n\r\nInteresting.\r\n\r\nYou have a legacy codebase that is full of style errors, AND it is not negotiable that the style errors must be fixed.\r\n\r\nThe value proposition of this exercise is (to say the least) dubious. &quot;Legacy codebase&quot; is often a polite way of say that the code ought to be thrown away and rewritten ... but you can&#39;t afford it.  However, apparently, you can afford to spend correcting missing braces, which is unlikely to make any real difference to maintainability. \r\n\r\nAs previous answers point out.  If you automate this style correction properly:  \r\n\r\n  - It won&#39;t actually fix any bugs but it won&#39;t introduce any new ones either.  \r\n\r\n  - It might remove &quot;clues&quot; (e.g. dubious indentation) that are would be flags for existing bugs.\r\n\r\nBut if you do the style corrections manually:\r\n\r\n  - There is a chance that you will notice some bugs.  These can be added to your issue tracker for further diagnosis and fixing.\r\n\r\n  - There is also a chance that you will introduce new bugs.  And if we assume that the existing unit / systems are non-existent or of low quality (this is a legacy codebase) then these new bugs have a fair chance of going undetected.\r\n\r\nNow generalize across style-related errors that Sonar detects.\r\n\r\nIn summary, this whole process of fixing all of the style errors in a *legacy codebase* is (IMO) largely a waste of time if automated, and possibly risky if manual.   \r\n\r\nThis *should* be negotiable.  You should be able to tell management of these concerns ...","title":"automatically add curly brackets to all if/else/for/while etc. in a java code-base","body":"<blockquote>\n  <p>The rule is non-negotiable by the way, so this really is the best approach.</p>\n</blockquote>\n\n<p>Interesting.</p>\n\n<p>You have a legacy codebase that is full of style errors, AND it is not negotiable that the style errors must be fixed.</p>\n\n<p>The value proposition of this exercise is (to say the least) dubious. \"Legacy codebase\" is often a polite way of say that the code ought to be thrown away and rewritten ... but you can't afford it.  However, apparently, you can afford to spend correcting missing braces, which is unlikely to make any real difference to maintainability. </p>\n\n<p>As previous answers point out.  If you automate this style correction properly:  </p>\n\n<ul>\n<li><p>It won't actually fix any bugs but it won't introduce any new ones either.  </p></li>\n<li><p>It might remove \"clues\" (e.g. dubious indentation) that are would be flags for existing bugs.</p></li>\n</ul>\n\n<p>But if you do the style corrections manually:</p>\n\n<ul>\n<li><p>There is a chance that you will notice some bugs.  These can be added to your issue tracker for further diagnosis and fixing.</p></li>\n<li><p>There is also a chance that you will introduce new bugs.  And if we assume that the existing unit / systems are non-existent or of low quality (this is a legacy codebase) then these new bugs have a fair chance of going undetected.</p></li>\n</ul>\n\n<p>Now generalize across style-related errors that Sonar detects.</p>\n\n<p>In summary, this whole process of fixing all of the style errors in a <em>legacy codebase</em> is (IMO) largely a waste of time if automated, and possibly risky if manual.   </p>\n\n<p>This <em>should</em> be negotiable.  You should be able to tell management of these concerns ...</p>\n"}],"owner":{"account_id":177955,"reputation":4667,"user_id":409638,"accept_rate":78,"display_name":"robert"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9641,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":13336311,"answer_count":8,"score":12,"last_activity_date":1659196604,"creation_date":1352673964,"question_id":13336281,"body_markdown":"I want to reduce the number of sonar violations in a large legacy java code-base, and it seems a &quot;quick win&quot; would be to update all these conditional statements to have curly brackets. This seems like an easy thing to do and I can&#39;t see why it wouldn&#39;t be readily automatable.\r\n\r\nDoes anybody know of a tool that could perform a bulk operation like this? Or why to do such a thing might be a bad idea before I go and spend the time writing something myself? If I were to write one myself what would be the best tools to use? Ideally something that is java language aware, so that I don&#39;t have to deal with formatting corner-cases and the like.\r\n\r\nThe rule is non-negotiable by the way, so this really is the best approach.","title":"automatically add curly brackets to all if/else/for/while etc. in a java code-base","body":"<p>I want to reduce the number of sonar violations in a large legacy java code-base, and it seems a \"quick win\" would be to update all these conditional statements to have curly brackets. This seems like an easy thing to do and I can't see why it wouldn't be readily automatable.</p>\n\n<p>Does anybody know of a tool that could perform a bulk operation like this? Or why to do such a thing might be a bad idea before I go and spend the time writing something myself? If I were to write one myself what would be the best tools to use? Ideally something that is java language aware, so that I don't have to deal with formatting corner-cases and the like.</p>\n\n<p>The rule is non-negotiable by the way, so this really is the best approach.</p>\n"},{"tags":["java","swing","jtextfield","documentfilter"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1657758246,"post_id":72973728,"comment_id":128889299,"body_markdown":"Yes, see [How To limit the number of characters in JTextField?](https://stackoverflow.com/questions/3519151/how-to-limit-the-number-of-characters-in-jtextfield) and combine it with this answer: [Allow only numbers in JTextfield](https://stackoverflow.com/questions/20541230/allow-only-numbers-in-jtextfield) just change it to work with the character types you want.","body":"Yes, see <a href=\"https://stackoverflow.com/questions/3519151/how-to-limit-the-number-of-characters-in-jtextfield\">How To limit the number of characters in JTextField?</a> and combine it with this answer: <a href=\"https://stackoverflow.com/questions/20541230/allow-only-numbers-in-jtextfield\">Allow only numbers in JTextfield</a> just change it to work with the character types you want."},{"owner":{"account_id":25724502,"reputation":9,"user_id":19481067,"display_name":"Korenji"},"score":0,"creation_date":1657759255,"post_id":72973728,"comment_id":128889437,"body_markdown":"The first question is solved using setDocument() with a PlainDocument, the second one actually uses a DocumentFilter. Anyway, I tried to set both the document using JTextField#setDocument and the document filter through setDocumentFilter() on the AbstractDocument obtained from JTextField#getDocument, but the second instruction I wrote overwrites the first one. In other words, I cannot set both a PlainDocument and a DocumentFilter this way.","body":"The first question is solved using setDocument() with a PlainDocument, the second one actually uses a DocumentFilter. Anyway, I tried to set both the document using JTextField#setDocument and the document filter through setDocumentFilter() on the AbstractDocument obtained from JTextField#getDocument, but the second instruction I wrote overwrites the first one. In other words, I cannot set both a PlainDocument and a DocumentFilter this way."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1657760470,"post_id":72973728,"comment_id":128889586,"body_markdown":"You need to combine both answers into a single document and set it once. A PlainDocument is a Subclasses of AbstractDocument, so in the first example that extends a PlainDocument you can also override the replace method and any other methods of the Abstract/PlainDocument as shown here https://stackoverflow.com/questions/11093326/restricting-jtextfield-input-to-integers Or you can just override an AbstractDocument and implement the limit in there instead. And when you set the document you only need to sit it once for example `yourTextField.setDocument(new yourCustomDocument(textLimit));`","body":"You need to combine both answers into a single document and set it once. A PlainDocument is a Subclasses of AbstractDocument, so in the first example that extends a PlainDocument you can also override the replace method and any other methods of the Abstract/PlainDocument as shown here <a href=\"https://stackoverflow.com/questions/11093326/restricting-jtextfield-input-to-integers\" title=\"restricting jtextfield input to integers\">stackoverflow.com/questions/11093326/&hellip;</a> Or you can just override an AbstractDocument and implement the limit in there instead. And when you set the document you only need to sit it once for example <code>yourTextField.setDocument(new yourCustomDocument(textLimit));</code>"},{"owner":{"account_id":25724502,"reputation":9,"user_id":19481067,"display_name":"Korenji"},"score":0,"creation_date":1657766653,"post_id":72973728,"comment_id":128890365,"body_markdown":"@sorifiend That&#39;s what I was trying to do, but I cannot grasp how to correctly override that method. My only result for now is a `JTextField` that doubles any inserted valid character, lets write once the banned ones and is able to exceed the text limit.","body":"@sorifiend That&#39;s what I was trying to do, but I cannot grasp how to correctly override that method. My only result for now is a <code>JTextField</code> that doubles any inserted valid character, lets write once the banned ones and is able to exceed the text limit."}],"answers":[{"tags":[],"owner":{"account_id":25724502,"reputation":9,"user_id":19481067,"display_name":"Korenji"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659196516,"creation_date":1657768471,"answer_id":72974794,"question_id":72973728,"body_markdown":"Ok, I finally get how it works! I needed to use `if`s in `replace()` method, because that&#39;s the code that gets called everytime the user inputs/pastes anything in the `JTextField`:\r\n\r\n 1. if the already inserted text length (`fb.getDocument().getLength()`) summed to the user current input/paste (`text.length()`) is greater than the intended limit (I setted it to 12 characters), first delete any invalid characters from the user input (`text.replaceAll(regex, &quot;&quot;)`) and then truncate it so that it does not exceed the limit;\r\n 2. otherwise, if the text would not exceed the limit, just delete any possible invalid characters.\r\n\r\n&#160;\r\n\r\n\tclass NameFilter extends DocumentFilter {\r\n\t\t@Override\r\n\t\tpublic void replace(FilterBypass fb, int offset, int length, String text, AttributeSet attrs) throws BadLocationException {\r\n\t\t\tint finalLength = fb.getDocument().getLength() + text.length();\r\n\r\n\t\t\tif(finalLength &gt; 12) {\r\n\t\t\t\tfb.replace(offset, length, text.replaceAll(&quot;[^a-zA-Z0-9/&amp;\\\\-&#39;:;.,?!@]&quot;, &quot;&quot;).substring(0, 12-fb.getDocument().getLength()), attrs);\r\n\t\t\t\tToolkit.getDefaultToolkit().beep();\r\n\t\t\t} else\r\n\t\t\t\tfb.replace(offset, length, text.replaceAll(&quot;[^a-zA-Z0-9/&amp;\\\\-&#39;:;.,?!@]&quot;, &quot;&quot;), attrs);\r\n\t\t}\r\n\t}","title":"Java - Use a DocumentFilter to limit allowed characters and length","body":"<p>Ok, I finally get how it works! I needed to use <code>if</code>s in <code>replace()</code> method, because that's the code that gets called everytime the user inputs/pastes anything in the <code>JTextField</code>:</p>\n<ol>\n<li>if the already inserted text length (<code>fb.getDocument().getLength()</code>) summed to the user current input/paste (<code>text.length()</code>) is greater than the intended limit (I setted it to 12 characters), first delete any invalid characters from the user input (<code>text.replaceAll(regex, &quot;&quot;)</code>) and then truncate it so that it does not exceed the limit;</li>\n<li>otherwise, if the text would not exceed the limit, just delete any possible invalid characters.</li>\n</ol>\n<p> </p>\n<pre><code>class NameFilter extends DocumentFilter {\n    @Override\n    public void replace(FilterBypass fb, int offset, int length, String text, AttributeSet attrs) throws BadLocationException {\n        int finalLength = fb.getDocument().getLength() + text.length();\n\n        if(finalLength &gt; 12) {\n            fb.replace(offset, length, text.replaceAll(&quot;[^a-zA-Z0-9/&amp;\\\\-':;.,?!@]&quot;, &quot;&quot;).substring(0, 12-fb.getDocument().getLength()), attrs);\n            Toolkit.getDefaultToolkit().beep();\n        } else\n            fb.replace(offset, length, text.replaceAll(&quot;[^a-zA-Z0-9/&amp;\\\\-':;.,?!@]&quot;, &quot;&quot;), attrs);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25724502,"reputation":9,"user_id":19481067,"display_name":"Korenji"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1657774176,"accepted_answer_id":72974794,"answer_count":1,"score":-1,"last_activity_date":1659196516,"creation_date":1657755490,"question_id":72973728,"body_markdown":"Is it possible to use a single `DocumentFilter` to limit both the allowed characters and the number of characters in a `JTextField`?\r\nI don&#39;t get how to do both and I didn&#39;t find any fully working workaround.","title":"Java - Use a DocumentFilter to limit allowed characters and length","body":"<p>Is it possible to use a single <code>DocumentFilter</code> to limit both the allowed characters and the number of characters in a <code>JTextField</code>?\nI don't get how to do both and I didn't find any fully working workaround.</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659196379,"creation_date":1659196379,"answer_id":73177059,"question_id":73176895,"body_markdown":"Your cast is wrong.  You don&#39;t case by using the name of the class like that, so it&#39;s looking for a function or variable with that name.  Try `val telephoneManager: TelephonyManager = getSystemService(Context.TELEPHONY_SERVICE) as TelephonyManager`\r\n\r\nIn fact the `: TelephonyManager` part is also probably unneeded, but won&#39;t hurt to keep.","title":"Classifier &#39;TelephonyManager&#39; does not have a companion object, and thus must be initialized here","body":"<p>Your cast is wrong.  You don't case by using the name of the class like that, so it's looking for a function or variable with that name.  Try <code>val telephoneManager: TelephonyManager = getSystemService(Context.TELEPHONY_SERVICE) as TelephonyManager</code></p>\n<p>In fact the <code>: TelephonyManager</code> part is also probably unneeded, but won't hurt to keep.</p>\n"}],"owner":{"display_name":"user19551207"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73177059,"answer_count":1,"score":0,"last_activity_date":1659196379,"creation_date":1659195068,"question_id":73176895,"body_markdown":"I saw few answers on SO regarding this but none worked for me. \r\n\r\nI am getting this error:\r\n\r\n     Classifier &#39;TelephonyManager&#39; does not have a companion object, and thus must be initialized here\r\n\r\non the line:\r\n\r\n    val telephoneManager: TelephonyManager = TelephonyManager getSystemService(Context.TELEPHONY_SERVICE)\r\n\r\nI am trying to typecaste the variable to `TelephonyManager` and that&#39;s where it is giving me this compile-time error. Any suggestions?","title":"Classifier &#39;TelephonyManager&#39; does not have a companion object, and thus must be initialized here","body":"<p>I saw few answers on SO regarding this but none worked for me.</p>\n<p>I am getting this error:</p>\n<pre><code> Classifier 'TelephonyManager' does not have a companion object, and thus must be initialized here\n</code></pre>\n<p>on the line:</p>\n<pre><code>val telephoneManager: TelephonyManager = TelephonyManager getSystemService(Context.TELEPHONY_SERVICE)\n</code></pre>\n<p>I am trying to typecaste the variable to <code>TelephonyManager</code> and that's where it is giving me this compile-time error. Any suggestions?</p>\n"},{"tags":["java","encryption","aes"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1659198004,"post_id":73177021,"comment_id":129238986,"body_markdown":"`getCipher()` calls `init()` with `Cipher.ENCRYPT_MODE`. While this is correct for encryption, it is of course wrong for decryption, here `Cipher.DECRYPT_MODE` must be applied.","body":"<code>getCipher()</code> calls <code>init()</code> with <code>Cipher.ENCRYPT_MODE</code>. While this is correct for encryption, it is of course wrong for decryption, here <code>Cipher.DECRYPT_MODE</code> must be applied."},{"owner":{"account_id":22495353,"reputation":23,"user_id":16692426,"display_name":"Konstanius EU"},"score":0,"creation_date":1659198205,"post_id":73177021,"comment_id":129239039,"body_markdown":"Thanks a lot, that solved the problem. Would you mind posting your comment as an answer?","body":"Thanks a lot, that solved the problem. Would you mind posting your comment as an answer?"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1659206431,"post_id":73177021,"comment_id":129240895,"body_markdown":"A key is never a String. There are only two methods in your `getCipher` and now it requires three arguments. At that point in time it would be easier to remove the method.","body":"A key is never a String. There are only two methods in your <code>getCipher</code> and now it requires three arguments. At that point in time it would be easier to remove the method."}],"owner":{"account_id":22495353,"reputation":23,"user_id":16692426,"display_name":"Konstanius EU"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659196042,"creation_date":1659196042,"question_id":73177021,"body_markdown":"I am trying to have 2 clients communicate securely with one another using the CBC algorithm of the Advanced Encryption Standard in Java. To implement this, I pad a plaintext String to be a multiple of 16 bytes, then encrypt it with a random 16 byte Initialization Vector and a set, shared, 32 byte key. The resulting cipher will be encoded in Base64 and appended by a &quot;:&quot; followed by the IV, also encoded in Base64.\r\n\r\nHere is the implementation in Java:\r\n\r\n    public static String encrypt(String plainText, String keyString) throws IllegalBlockSizeException, BadPaddingException {\r\n        // add padding to the plain text\r\n        while (plainText.length() % 16 != 0) {\r\n            plainText += &quot; &quot;;\r\n        }\r\n\r\n        // keyString is utf-8 encoded\r\n        // use a 16 byte randomly populated iv\r\n        byte[] iv = new byte[16];\r\n        new SecureRandom().nextBytes(iv);\r\n        // create a new cipher with the specified key and iv\r\n        Cipher cipher = getCipher(keyString, iv);\r\n        // encrypt the plain text\r\n        byte[] cipherText = cipher.doFinal(plainText.getBytes());\r\n        // return the (cipher:iv), individually base64 encoded\r\n        return Base64.getEncoder().encodeToString(cipherText) + &quot;:&quot; + Base64.getEncoder().encodeToString(iv);\r\n    }\r\n\r\nThe method getCipher() is shared between the encryption and decryption method:\r\n\r\n    private static Cipher getCipher(String keyString, byte[] iv) {\r\n        // keyString is utf-8 encoded\r\n        // use a 16 byte randomly populated iv\r\n        // create a new cipher with the specified key and iv\r\n        Cipher cipher = null;\r\n        try {\r\n            cipher = Cipher.getInstance(&quot;AES/CBC/NOPADDING&quot;);\r\n            cipher.init(Cipher.ENCRYPT_MODE, new SecretKeySpec(keyString.getBytes(StandardCharsets.UTF_8), &quot;AES&quot;), new IvParameterSpec(iv));\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return cipher;\r\n    }\r\n\r\nAn example of this is the key being &quot;12345678901234567890123456789012&quot;, plainText &quot;Hello World&quot;, resulting in: &quot;tEGeM6ls3Z2J1ov8qb5Anw==:Mn3UKr4CwrBLJmT9tih9Pw==&quot;.\r\n\r\nThis now needs to be decrypted using the exact reverse of the encrypt method, which I have come up with as follows:\r\n\r\n    public static String decrypt(String cipherText, String keyString) throws IllegalBlockSizeException, BadPaddingException {\r\n        // split the cipher text and iv\r\n        String[] cipherTextAndIv = cipherText.split(&quot;:&quot;);\r\n        // decode the cipher text and iv\r\n        byte[] cipherTextBytes = Base64.getDecoder().decode(cipherTextAndIv[0]);\r\n        byte[] iv = Base64.getDecoder().decode(cipherTextAndIv[1]);\r\n        // create a new cipher with the specified key and iv\r\n        Cipher cipher = getCipher(keyString, iv);\r\n        // decrypt the cipher text\r\n        byte[] plainTextBytes = cipher.doFinal(cipherTextBytes);\r\n        // return the plain text\r\n        return new String(plainTextBytes, StandardCharsets.UTF_8);\r\n    }\r\n\r\nHowever, this only returns the same, constant garbage:\r\n- &quot;???2?(????\u0015?.(&quot; as resulting String or\r\n- [-71, -70, -22, -127, 50, -33, -65, 40, -100, -98, -26, -28, 21, -3, 46, 40] as the byte array\r\n\r\nMay someone please help me in telling me where the issue is with my decryption method?\r\n","title":"Java - How to decrypt using algorithm &quot;AES/CBC/NOPADDING&quot;?","body":"<p>I am trying to have 2 clients communicate securely with one another using the CBC algorithm of the Advanced Encryption Standard in Java. To implement this, I pad a plaintext String to be a multiple of 16 bytes, then encrypt it with a random 16 byte Initialization Vector and a set, shared, 32 byte key. The resulting cipher will be encoded in Base64 and appended by a &quot;:&quot; followed by the IV, also encoded in Base64.</p>\n<p>Here is the implementation in Java:</p>\n<pre><code>public static String encrypt(String plainText, String keyString) throws IllegalBlockSizeException, BadPaddingException {\n    // add padding to the plain text\n    while (plainText.length() % 16 != 0) {\n        plainText += &quot; &quot;;\n    }\n\n    // keyString is utf-8 encoded\n    // use a 16 byte randomly populated iv\n    byte[] iv = new byte[16];\n    new SecureRandom().nextBytes(iv);\n    // create a new cipher with the specified key and iv\n    Cipher cipher = getCipher(keyString, iv);\n    // encrypt the plain text\n    byte[] cipherText = cipher.doFinal(plainText.getBytes());\n    // return the (cipher:iv), individually base64 encoded\n    return Base64.getEncoder().encodeToString(cipherText) + &quot;:&quot; + Base64.getEncoder().encodeToString(iv);\n}\n</code></pre>\n<p>The method getCipher() is shared between the encryption and decryption method:</p>\n<pre><code>private static Cipher getCipher(String keyString, byte[] iv) {\n    // keyString is utf-8 encoded\n    // use a 16 byte randomly populated iv\n    // create a new cipher with the specified key and iv\n    Cipher cipher = null;\n    try {\n        cipher = Cipher.getInstance(&quot;AES/CBC/NOPADDING&quot;);\n        cipher.init(Cipher.ENCRYPT_MODE, new SecretKeySpec(keyString.getBytes(StandardCharsets.UTF_8), &quot;AES&quot;), new IvParameterSpec(iv));\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return cipher;\n}\n</code></pre>\n<p>An example of this is the key being &quot;12345678901234567890123456789012&quot;, plainText &quot;Hello World&quot;, resulting in: &quot;tEGeM6ls3Z2J1ov8qb5Anw==:Mn3UKr4CwrBLJmT9tih9Pw==&quot;.</p>\n<p>This now needs to be decrypted using the exact reverse of the encrypt method, which I have come up with as follows:</p>\n<pre><code>public static String decrypt(String cipherText, String keyString) throws IllegalBlockSizeException, BadPaddingException {\n    // split the cipher text and iv\n    String[] cipherTextAndIv = cipherText.split(&quot;:&quot;);\n    // decode the cipher text and iv\n    byte[] cipherTextBytes = Base64.getDecoder().decode(cipherTextAndIv[0]);\n    byte[] iv = Base64.getDecoder().decode(cipherTextAndIv[1]);\n    // create a new cipher with the specified key and iv\n    Cipher cipher = getCipher(keyString, iv);\n    // decrypt the cipher text\n    byte[] plainTextBytes = cipher.doFinal(cipherTextBytes);\n    // return the plain text\n    return new String(plainTextBytes, StandardCharsets.UTF_8);\n}\n</code></pre>\n<p>However, this only returns the same, constant garbage:</p>\n<ul>\n<li>&quot;???2?(?????.(&quot; as resulting String or</li>\n<li>[-71, -70, -22, -127, 50, -33, -65, 40, -100, -98, -26, -28, 21, -3, 46, 40] as the byte array</li>\n</ul>\n<p>May someone please help me in telling me where the issue is with my decryption method?</p>\n"},{"tags":["java","android","textview"],"answers":[{"tags":[],"owner":{"account_id":20058741,"reputation":309,"user_id":14705907,"display_name":"hardkgosai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606317516,"creation_date":1606316382,"answer_id":65007229,"question_id":65006830,"body_markdown":"You can define global value for your color just like this\r\n         \r\n     public static final int RED = 0xffff0000;\r\n\r\nAnd use like this.\r\n    \r\n     shapeDrawable.setFillColor(ContextCompat....(this, RED));","title":"Android/Java: how to set background color of MaterialShapeDrawable with int Color?","body":"<p>You can define global value for your color just like this</p>\n<pre><code> public static final int RED = 0xffff0000;\n</code></pre>\n<p>And use like this.</p>\n<pre><code> shapeDrawable.setFillColor(ContextCompat....(this, RED));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2294849,"reputation":331976,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606319062,"creation_date":1606319062,"answer_id":65008033,"question_id":65006830,"body_markdown":"The method `setFillColor` works with a `ColorStateList`.  \r\nYou can use something like:\r\n\r\n    int[][] states = new int[][] {\r\n        new int[] { android.R.attr.state_focused}, // focused\r\n        new int[] { android.R.attr.state_hovered}, // hovered\r\n        new int[] { android.R.attr.state_enabled}, // enabled\r\n        new int[] { }  // \r\n    };\r\n    \r\n    int[] colors = new int[] {\r\n        Color.BLACK,\r\n        Color.RED,\r\n        Color....,\r\n        Color....\r\n    };\r\n    \r\n    ColorStateList myColorList = new ColorStateList(states, colors);","title":"Android/Java: how to set background color of MaterialShapeDrawable with int Color?","body":"<p>The method <code>setFillColor</code> works with a <code>ColorStateList</code>.<br />\nYou can use something like:</p>\n<pre><code>int[][] states = new int[][] {\n    new int[] { android.R.attr.state_focused}, // focused\n    new int[] { android.R.attr.state_hovered}, // hovered\n    new int[] { android.R.attr.state_enabled}, // enabled\n    new int[] { }  // \n};\n\nint[] colors = new int[] {\n    Color.BLACK,\n    Color.RED,\n    Color....,\n    Color....\n};\n\nColorStateList myColorList = new ColorStateList(states, colors);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":169667,"reputation":14696,"user_id":395869,"accept_rate":51,"display_name":"toto_tata"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1606395303,"creation_date":1606395303,"answer_id":65022472,"question_id":65006830,"body_markdown":"**ANSWER to my question.**\r\n\r\nHere is the code I added in order to be able to set any background color :\r\n\r\n\r\n     int[][] states = new int[][] {\r\n                    new int[] { android.R.attr.state_hovered}, // hovered\r\n            };\r\n    \r\n     int[] colors = new int[] {color};\r\n     ColorStateList myColorList = new ColorStateList(states, colors);\r\n     shapeDrawable.setFillColor(myColorList);\r\n     shapeDrawable.setState(states[0]);\r\n\r\n\r\nCrazy to have to write so much code just to change a background color... \r\n\r\nThanks all for your help !\r\n","title":"Android/Java: how to set background color of MaterialShapeDrawable with int Color?","body":"<p><strong>ANSWER to my question.</strong></p>\n<p>Here is the code I added in order to be able to set any background color :</p>\n<pre><code> int[][] states = new int[][] {\n                new int[] { android.R.attr.state_hovered}, // hovered\n        };\n\n int[] colors = new int[] {color};\n ColorStateList myColorList = new ColorStateList(states, colors);\n shapeDrawable.setFillColor(myColorList);\n shapeDrawable.setState(states[0]);\n</code></pre>\n<p>Crazy to have to write so much code just to change a background color...</p>\n<p>Thanks all for your help !</p>\n"},{"tags":[],"owner":{"account_id":16235985,"reputation":21,"user_id":11723462,"display_name":"Ali Kashan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659195282,"creation_date":1659195282,"answer_id":73176923,"question_id":65006830,"body_markdown":"simply use [setTint][1] method in your MaterialShapeDrawable like this:\r\n\r\n    val shape = MaterialShapeDrawable(shape)\r\n    shape.setTint(resources.getColor(R.color.colorPrimary, null))\r\n\r\n  [1]: https://developer.android.com/reference/com/google/android/material/shape/MaterialShapeDrawable#setTint(int)","title":"Android/Java: how to set background color of MaterialShapeDrawable with int Color?","body":"<p>simply use <a href=\"https://developer.android.com/reference/com/google/android/material/shape/MaterialShapeDrawable#setTint(int)\" rel=\"nofollow noreferrer\">setTint</a> method in your MaterialShapeDrawable like this:</p>\n<pre><code>val shape = MaterialShapeDrawable(shape)\nshape.setTint(resources.getColor(R.color.colorPrimary, null))\n</code></pre>\n"}],"owner":{"account_id":169667,"reputation":14696,"user_id":395869,"accept_rate":51,"display_name":"toto_tata"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1056,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65022472,"answer_count":4,"score":2,"last_activity_date":1659195282,"creation_date":1606315129,"question_id":65006830,"body_markdown":"I have a TextView with rounded corners.\r\n\r\nHere is my code:\r\n\r\n    float radius = 10f;\r\n    ShapeAppearanceModel shapeAppearanceModel = new ShapeAppearanceModel()\r\n       .toBuilder()\r\n       .setAllCorners(CornerFamily.ROUNDED,radius)\r\n       .build();\r\n        \r\n    MaterialShapeDrawable shapeDrawable = new MaterialShapeDrawable(shapeAppearanceModel);\r\n        \r\n    ViewCompat.setBackground(textView,shapeDrawable);\r\n\r\nNow, I want to change programmatically the background color of the textView.\r\n\r\nWhen I do :\r\n \r\n\r\n    shapeDrawable.setFillColor(ContextCompat.getColorStateList(this,R.color.design_default_color_background));\r\n\r\nit works; the background color is changed.\r\n\r\nNow, I want to change the background color with an int color like Color.RED or any random color defined with  Color.RGB(r, g, b, a) or Color.RGB(r, g, b). \r\n\r\nHow can I do that? Should I use shapeDrawable.setFillColor or another method?\r\n\r\nThanks.","title":"Android/Java: how to set background color of MaterialShapeDrawable with int Color?","body":"<p>I have a TextView with rounded corners.</p>\n<p>Here is my code:</p>\n<pre><code>float radius = 10f;\nShapeAppearanceModel shapeAppearanceModel = new ShapeAppearanceModel()\n   .toBuilder()\n   .setAllCorners(CornerFamily.ROUNDED,radius)\n   .build();\n    \nMaterialShapeDrawable shapeDrawable = new MaterialShapeDrawable(shapeAppearanceModel);\n    \nViewCompat.setBackground(textView,shapeDrawable);\n</code></pre>\n<p>Now, I want to change programmatically the background color of the textView.</p>\n<p>When I do :</p>\n<pre><code>shapeDrawable.setFillColor(ContextCompat.getColorStateList(this,R.color.design_default_color_background));\n</code></pre>\n<p>it works; the background color is changed.</p>\n<p>Now, I want to change the background color with an int color like Color.RED or any random color defined with  Color.RGB(r, g, b, a) or Color.RGB(r, g, b).</p>\n<p>How can I do that? Should I use shapeDrawable.setFillColor or another method?</p>\n<p>Thanks.</p>\n"},{"tags":["java","http","multipartform-data","serversocket"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1659031021,"post_id":73157050,"comment_id":129204850,"body_markdown":"You need to be more specific, the question is to broad. I would advise checking a simple but working open source server, for example https://github.com/NanoHttpd/nanohttpd. By looking at working code you can understand how it works; then you can write your own.","body":"You need to be more specific, the question is to broad. I would advise checking a simple but working open source server, for example <a href=\"https://github.com/NanoHttpd/nanohttpd\" rel=\"nofollow noreferrer\">github.com/NanoHttpd/nanohttpd</a>. By looking at working code you can understand how it works; then you can write your own."},{"owner":{"account_id":18549489,"reputation":1,"user_id":13516013,"display_name":"Relampago Rojo"},"score":0,"creation_date":1659031916,"post_id":73157050,"comment_id":129205069,"body_markdown":"@ewramner I wanted to know if someone had any clear idea from the start to go kinda faster, but I see the way is working this code, but it&#39;s still hard to read. At least the question about if I have to work with bytes since a start seems to be answered by this code so I&#39;ll try to understand it better and make my code, tysm","body":"@ewramner I wanted to know if someone had any clear idea from the start to go kinda faster, but I see the way is working this code, but it&#39;s still hard to read. At least the question about if I have to work with bytes since a start seems to be answered by this code so I&#39;ll try to understand it better and make my code, tysm"},{"owner":{"account_id":25589,"reputation":562121,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"score":0,"creation_date":1659047793,"post_id":73157050,"comment_id":129209325,"body_markdown":"@RelampagoRojo since multipart data is both textual and binary, you are going to have to do your own buffering of the socket data so you have more control and know where the data switches back and forth. At the very least, since you can read binary data directly from a `BufferedInputStream`, and access its internal buffer, you can let it handle the actual buffering for you, and it is not difficult to write a custom `readLine()` method that can read a line of text from a `BufferedInputStream` without using `BufferedReader`.","body":"@RelampagoRojo since multipart data is both textual and binary, you are going to have to do your own buffering of the socket data so you have more control and know where the data switches back and forth. At the very least, since you can read binary data directly from a <code>BufferedInputStream</code>, and access its internal buffer, you can let it handle the actual buffering for you, and it is not difficult to write a custom <code>readLine()</code> method that can read a line of text from a <code>BufferedInputStream</code> without using <code>BufferedReader</code>."},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1659084590,"post_id":73157050,"comment_id":129216070,"body_markdown":"You could also check https://github.com/erik-wramner/HttpClient (disclaimer - written by me). It is a client not a server and it is fairly dumb, but that is the point - fewer features and simple code makes it easier to see what is going on.","body":"You could also check <a href=\"https://github.com/erik-wramner/HttpClient\" rel=\"nofollow noreferrer\">github.com/erik-wramner/HttpClient</a> (disclaimer - written by me). It is a client not a server and it is fairly dumb, but that is the point - fewer features and simple code makes it easier to see what is going on."},{"owner":{"account_id":18549489,"reputation":1,"user_id":13516013,"display_name":"Relampago Rojo"},"score":0,"creation_date":1659192060,"post_id":73157050,"comment_id":129237659,"body_markdown":"@ewramner thank you for your source. Mostly it&#39;ll become useful for me to read a little bit more about the HTTP standards so I can make classes for each element, meanwhile I&#39;m still working on the reading process of the server, and actually I made the custom BufferedInputStream reader to include the readLine() method, and I was able to read it as a binary and retrieve the files from the Mutlipart content. Thank you so much","body":"@ewramner thank you for your source. Mostly it&#39;ll become useful for me to read a little bit more about the HTTP standards so I can make classes for each element, meanwhile I&#39;m still working on the reading process of the server, and actually I made the custom BufferedInputStream reader to include the readLine() method, and I was able to read it as a binary and retrieve the files from the Mutlipart content. Thank you so much"}],"answers":[{"tags":[],"owner":{"account_id":18549489,"reputation":1,"user_id":13516013,"display_name":"Relampago Rojo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659195189,"creation_date":1659192153,"answer_id":73176534,"question_id":73157050,"body_markdown":"Answer from [Remy Lebeau][1], that can be found on the comments, which become useful for me:\r\n\r\n&gt; since multipart data is both textual and binary, you are going to have to do your own buffering of the socket data so you have more control and know where the data switches back and forth. At the very least, since you can read binary data directly from a BufferedInputStream, and access its internal buffer, you can let it handle the actual buffering for you, and it is not difficult to write a custom readLine() method that can read a line of text from a BufferedInputStream without using BufferedReader\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/65863/remy-lebeau","title":"Handle HTTP POST multipart response through ServerSocket","body":"<p>Answer from <a href=\"https://stackoverflow.com/users/65863/remy-lebeau\">Remy Lebeau</a>, that can be found on the comments, which become useful for me:</p>\n<blockquote>\n<p>since multipart data is both textual and binary, you are going to have to do your own buffering of the socket data so you have more control and know where the data switches back and forth. At the very least, since you can read binary data directly from a BufferedInputStream, and access its internal buffer, you can let it handle the actual buffering for you, and it is not difficult to write a custom readLine() method that can read a line of text from a BufferedInputStream without using BufferedReader</p>\n</blockquote>\n"}],"owner":{"account_id":18549489,"reputation":1,"user_id":13516013,"display_name":"Relampago Rojo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659195189,"creation_date":1659029860,"question_id":73157050,"body_markdown":"Good afternoon everyone,\r\n\r\nFirst of all, I&#39;ll say that it&#39;s only for personal purpose in a certain way, it&#39;s made to use for little projects to improve my Java knowledge, but my idea is to make this kind of things to understand better the way developers works with sockets and bytes, as I really like to understand this kind of things better for my future ideas.\r\n\r\nActually I&#39;m making a lightweight HTTP server in Java to understand the way it works, and I&#39;ve been reading documentation but still have some difficulties to actually understand part of the official documentation. The main problem I&#39;m facing is that, something I&#39;d like to know if it&#39;s related or not, the content-length seems to have a higher length than the one I get from the BufferedReader. I don&#39;t know if the issue is about the way chars are managed and bytes are being parsed to chars on the BufferedReader, so it has less data, so probably what I have to do is treat this part as a binary, so I&#39;d have to read the bytes of the InputStream, but here comes the real deal I&#39;m facing.\r\n\r\nAs Readers reads a certain amount of bytes, and then it stops and uses this as buffer, this means the data from the InputStream is being used on the Reader, and it&#39;s no longer on the stream, so using read() would end up on a -1 as there aren&#39;t more bytes to read. A multipart is divided in multiple elements separated with a boundary, and a newline that delimiters the information from the content. I still have to get the information as an String to process it, but the content should be parsed into a binary data, and, without modifying the buffer length, implying I&#39;d require knowledge about the exact length I require to get only the information, the most probably result would be the content being transferred to the BufferedReader buffer. Is it possible to do it even with the processed data from the BufferedStream, or should I find a way to get that certain content as binary without being processed?\r\n\r\nAs I said, I&#39;m new working with sockets and services, so I don&#39;t exactly know which are the possibilities it&#39;s another kind of issue, so any help would be appreciated, thank you in advance.","title":"Handle HTTP POST multipart response through ServerSocket","body":"<p>Good afternoon everyone,</p>\n<p>First of all, I'll say that it's only for personal purpose in a certain way, it's made to use for little projects to improve my Java knowledge, but my idea is to make this kind of things to understand better the way developers works with sockets and bytes, as I really like to understand this kind of things better for my future ideas.</p>\n<p>Actually I'm making a lightweight HTTP server in Java to understand the way it works, and I've been reading documentation but still have some difficulties to actually understand part of the official documentation. The main problem I'm facing is that, something I'd like to know if it's related or not, the content-length seems to have a higher length than the one I get from the BufferedReader. I don't know if the issue is about the way chars are managed and bytes are being parsed to chars on the BufferedReader, so it has less data, so probably what I have to do is treat this part as a binary, so I'd have to read the bytes of the InputStream, but here comes the real deal I'm facing.</p>\n<p>As Readers reads a certain amount of bytes, and then it stops and uses this as buffer, this means the data from the InputStream is being used on the Reader, and it's no longer on the stream, so using read() would end up on a -1 as there aren't more bytes to read. A multipart is divided in multiple elements separated with a boundary, and a newline that delimiters the information from the content. I still have to get the information as an String to process it, but the content should be parsed into a binary data, and, without modifying the buffer length, implying I'd require knowledge about the exact length I require to get only the information, the most probably result would be the content being transferred to the BufferedReader buffer. Is it possible to do it even with the processed data from the BufferedStream, or should I find a way to get that certain content as binary without being processed?</p>\n<p>As I said, I'm new working with sockets and services, so I don't exactly know which are the possibilities it's another kind of issue, so any help would be appreciated, thank you in advance.</p>\n"},{"tags":["java","sql-server","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":11172711,"reputation":300,"user_id":8199232,"display_name":"swapnil"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1629568480,"creation_date":1629568480,"answer_id":68875503,"question_id":68852255,"body_markdown":"I was able to resolve my problem by adding\r\n\r\n    spring.jpa.properties.hibernate.globally_quoted_identifiers=true\r\n\r\nto my application.properties file","title":"GenerationTarget encountered exception accepting Error executing DDL","body":"<p>I was able to resolve my problem by adding</p>\n<pre><code>spring.jpa.properties.hibernate.globally_quoted_identifiers=true\n</code></pre>\n<p>to my application.properties file</p>\n"}],"owner":{"account_id":11172711,"reputation":300,"user_id":8199232,"display_name":"swapnil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8555,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":68875503,"answer_count":1,"score":6,"last_activity_date":1659195005,"creation_date":1629394135,"question_id":68852255,"body_markdown":"I am trying to create create a table using jpa entity in SQL Server but when i run the application I am receiving error in creating the table by hibernate. I saw some other solutions as well but they were for mysql as the problem was with the hibernate dialect. I tried different dialect but none of them worked.\r\n\r\nEntity Class\r\n\r\n        \r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @Table(name=&quot;Tenders&quot;)\r\n    public class Tender {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private @NotNull int IDENTITY;\r\n    private @NotNull String grade;\r\n    }\r\n \r\napplication properties\r\n\r\n    spring.datasource.url=jdbc:sqlserver://localhost;databaseName=np\r\n    spring.datasource.username=swap\r\n    spring.datasource.password=*****\r\n    spring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.hibernate.dialect=org.hibernate.dialect.SQLServerDialect\r\n    spring.jpa.hibernate.ddl-auto = update\r\n\r\nError Log\r\n\r\n    Hibernate: create table tenders (identity int identity not null, grade varchar(255), primary key (identity))\r\n    2021-08-19 22:45:29.549  WARN 2064 --- [  restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;create table tenders (identity int identity not null, grade varchar(255), primary key (identity))&quot; via JDBC Statement\r\n    \r\n    org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table tenders (identity int identity not null, grade varchar(255), primary key (identity))&quot; via JDBC Statement\r\n    \tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:562) [hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:507) [hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:277) [hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:71) [hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207) [hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114) [hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:184) [hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) [hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:318) [hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) [hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259) [hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) [spring-orm-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) [spring-orm-5.3.9.jar:5.3.9]\r\n\r\n","title":"GenerationTarget encountered exception accepting Error executing DDL","body":"<p>I am trying to create create a table using jpa entity in SQL Server but when i run the application I am receiving error in creating the table by hibernate. I saw some other solutions as well but they were for mysql as the problem was with the hibernate dialect. I tried different dialect but none of them worked.</p>\n<p>Entity Class</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name=&quot;Tenders&quot;)\npublic class Tender {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate @NotNull int IDENTITY;\nprivate @NotNull String grade;\n}\n</code></pre>\n<p>application properties</p>\n<pre><code>spring.datasource.url=jdbc:sqlserver://localhost;databaseName=np\nspring.datasource.username=swap\nspring.datasource.password=*****\nspring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\nspring.jpa.show-sql=true\nspring.jpa.hibernate.dialect=org.hibernate.dialect.SQLServerDialect\nspring.jpa.hibernate.ddl-auto = update\n</code></pre>\n<p>Error Log</p>\n<pre><code>Hibernate: create table tenders (identity int identity not null, grade varchar(255), primary key (identity))\n2021-08-19 22:45:29.549  WARN 2064 --- [  restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;create table tenders (identity int identity not null, grade varchar(255), primary key (identity))&quot; via JDBC Statement\n\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table tenders (identity int identity not null, grade varchar(255), primary key (identity))&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:562) [hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:507) [hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:277) [hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:71) [hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207) [hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114) [hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:184) [hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) [hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:318) [hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) [hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259) [hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) [spring-orm-5.3.9.jar:5.3.9]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) [spring-orm-5.3.9.jar:5.3.9]\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":2,"creation_date":1435735692,"post_id":31155053,"comment_id":50319283,"body_markdown":"usually it means J2SE, without need for enterprise edition knowledge or other frameworks (Spring, etc)","body":"usually it means J2SE, without need for enterprise edition knowledge or other frameworks (Spring, etc)"},{"owner":{"account_id":3467749,"reputation":926,"user_id":2902894,"accept_rate":80,"display_name":"drgPP"},"score":0,"creation_date":1435735692,"post_id":31155053,"comment_id":50319284,"body_markdown":"Pure java = java core?","body":"Pure java = java core?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":3,"creation_date":1435736723,"post_id":31155053,"comment_id":50319836,"body_markdown":"Ask them what they mean by pure Java. It&#39;s not exactly a standard term (unlike Java EE which would be understood by everyone).","body":"Ask them what they mean by pure Java. It&#39;s not exactly a standard term (unlike Java EE which would be understood by everyone)."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1659168463,"post_id":31155053,"comment_id":129233026,"body_markdown":"Well actually there is/was a (related) standard term: &quot;100% Pure Java&quot;.  It was even trademarked!  See my answer.","body":"Well actually there is/was a (related) standard term: &quot;100% Pure Java&quot;.  It was even trademarked!  See my answer."}],"answers":[{"tags":[],"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1435736210,"creation_date":1435735843,"answer_id":31155128,"question_id":31155053,"body_markdown":"Pure Java code is code that [&quot;conforms to Java&#39;s ideal of universal portability&quot;](http://www.javacoffeebreak.com/faq/faq0006.html)\r\n\r\nIt means *code that does not rely on native features*.\r\n\r\nAn aspect of Java is to be portable across different operating systems (write once, run anywhere). **Writing code that can only be used on specific operating systems contradicts this**.\r\n\r\nSimply by googling &quot;Pure Java&quot;, you can find resources on it, such as PDFs and other articles.","title":"What is Pure Java","body":"<p>Pure Java code is code that <a href=\"http://www.javacoffeebreak.com/faq/faq0006.html\" rel=\"nofollow\">\"conforms to Java's ideal of universal portability\"</a></p>\n\n<p>It means <em>code that does not rely on native features</em>.</p>\n\n<p>An aspect of Java is to be portable across different operating systems (write once, run anywhere). <strong>Writing code that can only be used on specific operating systems contradicts this</strong>.</p>\n\n<p>Simply by googling \"Pure Java\", you can find resources on it, such as PDFs and other articles.</p>\n"},{"tags":[],"owner":{"account_id":3744004,"reputation":7,"user_id":3113132,"display_name":"Lewis Evans"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1435736055,"creation_date":1435736055,"answer_id":31155195,"question_id":31155053,"body_markdown":"I would consider &#39;Pure Java&#39; to be Core Java. The Classes, Interfaces and APIs that are referenced as part of the Javadoc for that particular JDK.\r\n\r\nE.g. Oracle JDK 8 - https://docs.oracle.com/javase/8/docs/api/\r\n\r\n","title":"What is Pure Java","body":"<p>I would consider 'Pure Java' to be Core Java. The Classes, Interfaces and APIs that are referenced as part of the Javadoc for that particular JDK.</p>\n\n<p>E.g. Oracle JDK 8 - <a href=\"https://docs.oracle.com/javase/8/docs/api/\" rel=\"nofollow\">https://docs.oracle.com/javase/8/docs/api/</a></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1659194821,"creation_date":1659162727,"answer_id":73173389,"question_id":31155053,"body_markdown":"What does &quot;pure Java&quot; mean?  \r\n\r\nWell, you would need to ask the person who used the phrase&lt;sup&gt;1&lt;/sup&gt; to know what *they* meant.  But when a seasoned Java professional hears the phrase, they are *likely* to think it refers to &quot;100% Pure Java&quot;.\r\n\r\n&quot;100% Pure Java&quot; was a pre-2000 Sun Microsystems initiative to promote the writing of portable Java code.  There is even a [&quot;100% Pure Java Cookbook&quot;](https://www.oracle.com/technetwork/java/100percentpurejavacookbook-4-1-1-150165.pdf) that says how to do it.\r\n\r\nWhat does the &quot;100% pure&quot; mean?\r\n\r\nThe Cookbook says it like this:\r\n\r\n&gt; The 100% Pure Java™ Standard\r\n&gt; ----------------------\r\n&gt; \r\n&gt; The &quot;100% Pure Java™ Standard&quot; is part of Sun Microsystems initiative\r\n&gt; to promote the development of portable applications, applets&lt;sup&gt;2&lt;/sup&gt;, beans,\r\n&gt; class libraries, and servlets written using the Java™ Programming\r\n&gt; language. Compliance to the standard consists of code analysis and\r\n&gt; testing the program on multiple Java Application Environments.\r\n\r\nBasically, 100% pure Java is about portability.  It means avoiding things like:\r\n\r\n  - using native code libraries,\r\n  - using external applications, \r\n  - making platform and operating system specific assumptions; e.g. that `&quot;\\n&quot;` is the line separator or `&quot;/&quot;` is the pathname separator,\r\n  - and so on.\r\n\r\nThis does NOT mean &quot;uses only Java SE or Java EE APIs&quot;, although:\r\n\r\n  - using Java platform vendor&#39;s extensions to the standard APIs, or\r\n  - using new platform features such as Java 8 streams, etc\r\n\r\nboth arguably work against Java platform independence.   And Java has *dropped* certain features in more recent releases, which also affects portability and platform independence.  (Try running an applet on a modern JVM ...)\r\n\r\n---------------\r\n\r\n&lt;sup&gt;1 - Lots of people are happy to borrow someone else&#39;s terminology and give a new meaning to it, then state their new meaning as the real meaning.  In this case, my guess is that the person who invited you to the interview is a recruiter or manager who has minimal technical understanding.  They may be saying &quot;pure Java&quot; because they think it will make the job more attractive to the right kind of prospects.  Or maybe they are confusing &quot;pure Java&quot; with &quot;core Java&quot;.  Who knows ...&lt;br&gt;\r\n2- Ahem ... dead technology.&lt;/sup&gt;\r\n\r\n","title":"What is Pure Java","body":"<p>What does &quot;pure Java&quot; mean?</p>\n<p>Well, you would need to ask the person who used the phrase<sup>1</sup> to know what <em>they</em> meant.  But when a seasoned Java professional hears the phrase, they are <em>likely</em> to think it refers to &quot;100% Pure Java&quot;.</p>\n<p>&quot;100% Pure Java&quot; was a pre-2000 Sun Microsystems initiative to promote the writing of portable Java code.  There is even a <a href=\"https://www.oracle.com/technetwork/java/100percentpurejavacookbook-4-1-1-150165.pdf\" rel=\"nofollow noreferrer\">&quot;100% Pure Java Cookbook&quot;</a> that says how to do it.</p>\n<p>What does the &quot;100% pure&quot; mean?</p>\n<p>The Cookbook says it like this:</p>\n<blockquote>\n<h2>The 100% Pure Java™ Standard</h2>\n<p>The &quot;100% Pure Java™ Standard&quot; is part of Sun Microsystems initiative\nto promote the development of portable applications, applets<sup>2</sup>, beans,\nclass libraries, and servlets written using the Java™ Programming\nlanguage. Compliance to the standard consists of code analysis and\ntesting the program on multiple Java Application Environments.</p>\n</blockquote>\n<p>Basically, 100% pure Java is about portability.  It means avoiding things like:</p>\n<ul>\n<li>using native code libraries,</li>\n<li>using external applications,</li>\n<li>making platform and operating system specific assumptions; e.g. that <code>&quot;\\n&quot;</code> is the line separator or <code>&quot;/&quot;</code> is the pathname separator,</li>\n<li>and so on.</li>\n</ul>\n<p>This does NOT mean &quot;uses only Java SE or Java EE APIs&quot;, although:</p>\n<ul>\n<li>using Java platform vendor's extensions to the standard APIs, or</li>\n<li>using new platform features such as Java 8 streams, etc</li>\n</ul>\n<p>both arguably work against Java platform independence.   And Java has <em>dropped</em> certain features in more recent releases, which also affects portability and platform independence.  (Try running an applet on a modern JVM ...)</p>\n<hr />\n<p><sup>1 - Lots of people are happy to borrow someone else's terminology and give a new meaning to it, then state their new meaning as the real meaning.  In this case, my guess is that the person who invited you to the interview is a recruiter or manager who has minimal technical understanding.  They may be saying &quot;pure Java&quot; because they think it will make the job more attractive to the right kind of prospects.  Or maybe they are confusing &quot;pure Java&quot; with &quot;core Java&quot;.  Who knows ...<br>\n2- Ahem ... dead technology.</sup></p>\n"}],"owner":{"account_id":5684601,"reputation":262,"user_id":4494563,"accept_rate":100,"display_name":"Orlov Andrey"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6495,"favorite_count":0,"down_vote_count":3,"up_vote_count":7,"closed_date":1659199077,"accepted_answer_id":31155128,"answer_count":3,"score":4,"last_activity_date":1659194821,"creation_date":1435735603,"question_id":31155053,"body_markdown":"I was invited to interview for Pure Java Developer\r\n\r\nPlease help me to understand what is Pure Java.\r\n\r\nCan&#39;t find any information about it.\r\n","title":"What is Pure Java","body":"<p>I was invited to interview for Pure Java Developer</p>\n<p>Please help me to understand what is Pure Java.</p>\n<p>Can't find any information about it.</p>\n"},{"tags":["java","android","android-snackbar"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1659193694,"post_id":73176679,"comment_id":129238026,"body_markdown":"`findViewById()` is a method on `Activity` and `View`. Most likely, the `findViewById(android.R.id.content)` call is to be made on your `Activity`. What you really should be passing in is some child of a `CoordinatorLayout`. This is covered in [the documentation for `Snackbar.make()`](https://developer.android.com/reference/com/google/android/material/snackbar/Snackbar?hl=en#make(android.view.View,%20java.lang.CharSequence,%20int)).","body":"<code>findViewById()</code> is a method on <code>Activity</code> and <code>View</code>. Most likely, the <code>findViewById(android.R.id.content)</code> call is to be made on your <code>Activity</code>. What you really should be passing in is some child of a <code>CoordinatorLayout</code>. This is covered in <a href=\"https://developer.android.com/reference/com/google/android/material/snackbar/Snackbar?hl=en#make(android.view.View,%20java.lang.CharSequence,%20int)\" rel=\"nofollow noreferrer\">the documentation for <code>Snackbar.make()</code></a>."},{"owner":{"account_id":8441332,"reputation":375,"user_id":6333708,"display_name":"Emmanuel Conradie"},"score":0,"creation_date":1659193847,"post_id":73176679,"comment_id":129238058,"body_markdown":"The solution may be to use\nSnackbar.make(context, view, text, duration)\nBecause you are using it outside the View layer, you need to pass the context.","body":"The solution may be to use Snackbar.make(context, view, text, duration) Because you are using it outside the View layer, you need to pass the context."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1659194207,"post_id":73176679,"comment_id":129238137,"body_markdown":"@CommonsWare: Thanks for your answer. I tried to use `findViewById` in my Fragment class (which is a UI class) and there I get the same error. Further, in the documentation of Snackbar you see, that it expects a View. By using `binding.getRoot()` as an argument I pass a view to it as you can read in the official documentation of ViewBinding (https://developer.android.com/topic/libraries/view-binding). So I don&#39;t understand why this error occurs with the Illegal Argument","body":"@CommonsWare: Thanks for your answer. I tried to use <code>findViewById</code> in my Fragment class (which is a UI class) and there I get the same error. Further, in the documentation of Snackbar you see, that it expects a View. By using <code>binding.getRoot()</code> as an argument I pass a view to it as you can read in the official documentation of ViewBinding (<a href=\"https://developer.android.com/topic/libraries/view-binding\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/view-binding</a>). So I don&#39;t understand why this error occurs with the Illegal Argument"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1659194315,"post_id":73176679,"comment_id":129238160,"body_markdown":"@EmmanuelConradie: Thanks for your answer. The question is what is the context and how can I create and pass it? Furthermore, there is a constructor in SnackBar that does not need any context and I try to use this one with 3 arguments that I pass to it. Unforunately I still get the error message.","body":"@EmmanuelConradie: Thanks for your answer. The question is what is the context and how can I create and pass it? Furthermore, there is a constructor in SnackBar that does not need any context and I try to use this one with 3 arguments that I pass to it. Unforunately I still get the error message."},{"owner":{"account_id":8441332,"reputation":375,"user_id":6333708,"display_name":"Emmanuel Conradie"},"score":0,"creation_date":1659194384,"post_id":73176679,"comment_id":129238176,"body_markdown":"@VanessaF you already have the context, it is the activity you are passing","body":"@VanessaF you already have the context, it is the activity you are passing"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1659194453,"post_id":73176679,"comment_id":129238193,"body_markdown":"@EmmanuelConradie: What is then the view? I thought the activity is the view? Or shall it serve as both the view and the context?","body":"@EmmanuelConradie: What is then the view? I thought the activity is the view? Or shall it serve as both the view and the context?"},{"owner":{"account_id":8441332,"reputation":375,"user_id":6333708,"display_name":"Emmanuel Conradie"},"score":0,"creation_date":1659194565,"post_id":73176679,"comment_id":129238220,"body_markdown":"@VanessaF Try the updated answer","body":"@VanessaF Try the updated answer"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1659195395,"post_id":73176679,"comment_id":129238401,"body_markdown":"@EmmanuelConradie: Does not work. Yields the same error.","body":"@EmmanuelConradie: Does not work. Yields the same error."},{"owner":{"account_id":8441332,"reputation":375,"user_id":6333708,"display_name":"Emmanuel Conradie"},"score":0,"creation_date":1659195559,"post_id":73176679,"comment_id":129238437,"body_markdown":"@VanessaF could you please specify which line you are getting the error on?\nBecause I don&#39;t think the problem is the currentSnackbar. I think it is when you are trying to get the snackbar view","body":"@VanessaF could you please specify which line you are getting the error on? Because I don&#39;t think the problem is the currentSnackbar. I think it is when you are trying to get the snackbar view"},{"owner":{"account_id":8441332,"reputation":375,"user_id":6333708,"display_name":"Emmanuel Conradie"},"score":0,"creation_date":1659196038,"post_id":73176679,"comment_id":129238536,"body_markdown":"Have you made sure your root view has loaded correctly before passing it?","body":"Have you made sure your root view has loaded correctly before passing it?"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1659196129,"post_id":73176679,"comment_id":129238555,"body_markdown":"@EmmanuelConradie: How can I make sure that the root view has loaded correctly? I just use the following command `binding.getRoot()` and that should actually do it. What else can I do?","body":"@EmmanuelConradie: How can I make sure that the root view has loaded correctly? I just use the following command <code>binding.getRoot()</code> and that should actually do it. What else can I do?"},{"owner":{"account_id":8441332,"reputation":375,"user_id":6333708,"display_name":"Emmanuel Conradie"},"score":0,"creation_date":1659196213,"post_id":73176679,"comment_id":129238579,"body_markdown":"@VanessaF please post the code of how you are loading your view and where you are calling show snackbar","body":"@VanessaF please post the code of how you are loading your view and where you are calling show snackbar"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1659197544,"post_id":73176679,"comment_id":129238871,"body_markdown":"@EmmanuelConradie: Unforunately the code is quite long (more than 1000 lines). So I don&#39;t think it makes sense to post it. But do you know what I can do to ensure that the&quot;root view has loaded correctly before passing it&quot; as you wrote? The error comes from the line `Snackbar currentSnackBar = Snackbar.make( activity, root, message, Snackbar.LENGTH_LONG);`. I don&#39;t think that I need an activity here because on other occasions in the app I never use the activity and so far everything has been okay. Strangely in this case this IllegalArgumentException occurs and I don&#39;t know why. Any suggestions?","body":"@EmmanuelConradie: Unforunately the code is quite long (more than 1000 lines). So I don&#39;t think it makes sense to post it. But do you know what I can do to ensure that the&quot;root view has loaded correctly before passing it&quot; as you wrote? The error comes from the line <code>Snackbar currentSnackBar = Snackbar.make( activity, root, message, Snackbar.LENGTH_LONG);</code>. I don&#39;t think that I need an activity here because on other occasions in the app I never use the activity and so far everything has been okay. Strangely in this case this IllegalArgumentException occurs and I don&#39;t know why. Any suggestions?"},{"owner":{"account_id":8441332,"reputation":375,"user_id":6333708,"display_name":"Emmanuel Conradie"},"score":0,"creation_date":1659197809,"post_id":73176679,"comment_id":129238934,"body_markdown":"@VanessaF your first problem is that your view class is 1000 lines long. Your view should not contain any logic.\nCall showSnackbar right after you called onBind(view)","body":"@VanessaF your first problem is that your view class is 1000 lines long. Your view should not contain any logic. Call showSnackbar right after you called onBind(view)"},{"owner":{"account_id":8441332,"reputation":375,"user_id":6333708,"display_name":"Emmanuel Conradie"},"score":0,"creation_date":1659197895,"post_id":73176679,"comment_id":129238955,"body_markdown":"@VanessaF I do not know in which method you are binding or inflating your view so without code I cannot help you","body":"@VanessaF I do not know in which method you are binding or inflating your view so without code I cannot help you"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1659252968,"post_id":73176679,"comment_id":129246905,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/246924/discussion-between-vanessaf-and-emmanuel-conradie).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/246924/discussion-between-vanessaf-and-emmanuel-conradie\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":8441332,"reputation":375,"user_id":6333708,"display_name":"Emmanuel Conradie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659194332,"creation_date":1659194332,"answer_id":73176808,"question_id":73176679,"body_markdown":"As stated in the documentation.\r\n\r\n&gt; Snackbar will try and find a parent view to hold Snackbar&#39;s view from the value given to view. Snackbar will walk up the view tree trying to find a suitable parent, which is defined as a CoordinatorLayout or the window decor&#39;s content view, whichever comes first. \r\n\r\nYou need to now provide context direct the view up the hierarchy\r\n\r\n&gt; Context: The context to use to create the Snackbar view.\r\n\r\nTherefore use `Snackbar.make(Context context, View view, CharSequence text, int duration)`\r\n\r\nPass it like\r\n\r\n    public static void showSnackBar(Activity activity, String message, View root){\r\n        Snackbar currentSnackBar = Snackbar.make( activity, root, message, Snackbar.LENGTH_LONG);\r\n    }","title":"Android Snackbar: No suitable parent found from the given view. Please provide a valid view","body":"<p>As stated in the documentation.</p>\n<blockquote>\n<p>Snackbar will try and find a parent view to hold Snackbar's view from the value given to view. Snackbar will walk up the view tree trying to find a suitable parent, which is defined as a CoordinatorLayout or the window decor's content view, whichever comes first.</p>\n</blockquote>\n<p>You need to now provide context direct the view up the hierarchy</p>\n<blockquote>\n<p>Context: The context to use to create the Snackbar view.</p>\n</blockquote>\n<p>Therefore use <code>Snackbar.make(Context context, View view, CharSequence text, int duration)</code></p>\n<p>Pass it like</p>\n<pre><code>public static void showSnackBar(Activity activity, String message, View root){\n    Snackbar currentSnackBar = Snackbar.make( activity, root, message, Snackbar.LENGTH_LONG);\n}\n</code></pre>\n"}],"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659194332,"creation_date":1659193306,"question_id":73176679,"body_markdown":"I have a Fragment class and a normal HelpFunctionsclass. I want the Fragment class to show a Snackbar by calling a method in the HelpFunctionsclass. \r\n\r\nIn the Fragment class I call the following code after a certain button has been pressed:\r\n\r\n    HelpFunctions.showSnackBar(getActivity(), getString(R.string.message_ratingSubmittedNotSuccessfully),  binding.getRoot());\r\n\r\nAnd in the HelpFunctions class the method for displaying the Snackbar looks like this:\r\n\r\n    public static void showSnackBar(Activity activity, String message, View root){\r\n    \r\n        Snackbar currentSnackBar = Snackbar.make( root, message, Snackbar.LENGTH_LONG);\r\n        View sbView = currentSnackBar.getView();\r\n        sbView.setBackgroundColor(ContextCompat.getColor(activity, R.color.colorBlue));\r\n        currentSnackBar.show();\r\n    }\r\n\r\nWhen I execute my code I get the following error message &quot;java.lang.IllegalArgumentException: No suitable parent found from the given view. Please provide a valid view.&quot;. I looked for a solution to this problem and found this answer: https://stackoverflow.com/questions/47666685/java-lang-illegalargumentexception-no-suitable-parent-found-from-the-given-view. Here it is stated that I should use `findViewById(android.R.id.content)` for the root. Unfortunately, when I use this in my method `showSnackBar` in the line `Snackbar currentSnackBar = Snackbar.make( findViewById(android.R.id.content), message, Snackbar.LENGTH_LONG);` I get the error message from the compiler &quot;Cannot resolve method &#39;findViewById&#39; in &#39;HelpFunctions&#39;&quot;. \r\n\r\nAny idea why I am getting this error message and why I can&#39;t change it with findViewById? How else can I show a Snackbar?\r\n\r\n","title":"Android Snackbar: No suitable parent found from the given view. Please provide a valid view","body":"<p>I have a Fragment class and a normal HelpFunctionsclass. I want the Fragment class to show a Snackbar by calling a method in the HelpFunctionsclass.</p>\n<p>In the Fragment class I call the following code after a certain button has been pressed:</p>\n<pre><code>HelpFunctions.showSnackBar(getActivity(), getString(R.string.message_ratingSubmittedNotSuccessfully),  binding.getRoot());\n</code></pre>\n<p>And in the HelpFunctions class the method for displaying the Snackbar looks like this:</p>\n<pre><code>public static void showSnackBar(Activity activity, String message, View root){\n\n    Snackbar currentSnackBar = Snackbar.make( root, message, Snackbar.LENGTH_LONG);\n    View sbView = currentSnackBar.getView();\n    sbView.setBackgroundColor(ContextCompat.getColor(activity, R.color.colorBlue));\n    currentSnackBar.show();\n}\n</code></pre>\n<p>When I execute my code I get the following error message &quot;java.lang.IllegalArgumentException: No suitable parent found from the given view. Please provide a valid view.&quot;. I looked for a solution to this problem and found this answer: <a href=\"https://stackoverflow.com/questions/47666685/java-lang-illegalargumentexception-no-suitable-parent-found-from-the-given-view\">java.lang.IllegalArgumentException: No suitable parent found from the given view. Please provide a valid view</a>. Here it is stated that I should use <code>findViewById(android.R.id.content)</code> for the root. Unfortunately, when I use this in my method <code>showSnackBar</code> in the line <code>Snackbar currentSnackBar = Snackbar.make( findViewById(android.R.id.content), message, Snackbar.LENGTH_LONG);</code> I get the error message from the compiler &quot;Cannot resolve method 'findViewById' in 'HelpFunctions'&quot;.</p>\n<p>Any idea why I am getting this error message and why I can't change it with findViewById? How else can I show a Snackbar?</p>\n"},{"tags":["java","algorithm","graph-theory","depth-first-search","breadth-first-search"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":2,"creation_date":1658738725,"post_id":73102698,"comment_id":129116629,"body_markdown":"The result `{e1=phone-1, e2=phone-2}` does not match the requirements described. Shouldn&#39;t only `e2` appear in the result, because the reportees of `e1` both live in SF? And why a string array, wouldn&#39;t a custom object `Employee` be much easier?","body":"The result <code>{e1=phone-1, e2=phone-2}</code> does not match the requirements described. Shouldn&#39;t only <code>e2</code> appear in the result, because the reportees of <code>e1</code> both live in SF? And why a string array, wouldn&#39;t a custom object <code>Employee</code> be much easier?"},{"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"score":0,"creation_date":1658754375,"post_id":73102698,"comment_id":129122712,"body_markdown":"@OTUser does &#39;City&#39; represent the city of the manager or the employee ?","body":"@OTUser does &#39;City&#39; represent the city of the manager or the employee ?"},{"owner":{"account_id":1310600,"reputation":3828,"user_id":1258669,"accept_rate":73,"display_name":"OTUser"},"score":0,"creation_date":1658760282,"post_id":73102698,"comment_id":129125325,"body_markdown":"@AbdennacerLachiheb city represents employee city","body":"@AbdennacerLachiheb city represents employee city"},{"owner":{"account_id":1310600,"reputation":3828,"user_id":1258669,"accept_rate":73,"display_name":"OTUser"},"score":0,"creation_date":1658760581,"post_id":73102698,"comment_id":129125467,"body_markdown":"@Eritrean The requirement is to find out the employees who lives in more than one city in the direct report employee hierarchy without considering the manager city. E1 is in the result because 2 or more employees lives in different city under the hierarchy of e1","body":"@Eritrean The requirement is to find out the employees who lives in more than one city in the direct report employee hierarchy without considering the manager city. E1 is in the result because 2 or more employees lives in different city under the hierarchy of e1"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1658882363,"post_id":73102698,"comment_id":129160732,"body_markdown":"FWIW I think O(n * d) where d is the average depth, is the best you can do. If it was immediate reports only, O(n) is doable. If the depth (max levels of management) is &quot;shallow&quot;, then O(n * d) could be considered O(n). Would O(n * d) be OK as O(n)?","body":"FWIW I think O(n * d) where d is the average depth, is the best you can do. If it was immediate reports only, O(n) is doable. If the depth (max levels of management) is &quot;shallow&quot;, then O(n * d) could be considered O(n). Would O(n * d) be OK as O(n)?"},{"owner":{"account_id":2460360,"reputation":64577,"user_id":2144669,"display_name":"David Eisenstat"},"score":2,"creation_date":1658917420,"post_id":73102698,"comment_id":129169204,"body_markdown":"Does &quot;direct reporting hierarchy&quot; include reports&#39; reports? &quot;Direct&quot; implies no, &quot;hierarchy&quot; implies yes, so I would say either &quot;direct reports&quot; or &quot;reporting tree&quot;.","body":"Does &quot;direct reporting hierarchy&quot; include reports&#39; reports? &quot;Direct&quot; implies no, &quot;hierarchy&quot; implies yes, so I would say either &quot;direct reports&quot; or &quot;reporting tree&quot;."},{"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1659003360,"post_id":73102698,"comment_id":129194477,"body_markdown":"@Bohemian O(N) is possible; but not using the `java.util` collection classes as you need to merge collections and they all implement the `addAll` method by adding elements one-by-one which will take O(N) time. If you create a custom linked list class then you can merge lists in O(1) time.","body":"@Bohemian O(N) is possible; but not using the <code>java.util</code> collection classes as you need to merge collections and they all implement the <code>addAll</code> method by adding elements one-by-one which will take O(N) time. If you create a custom linked list class then you can merge lists in O(1) time."}],"answers":[{"tags":[],"owner":{"account_id":1630212,"reputation":323,"user_id":1504926,"display_name":"ram adhikari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658893819,"creation_date":1658893819,"answer_id":73132062,"question_id":73102698,"body_markdown":"Here&#39;s a possible algo:\r\n1. Maintain two maps  - one for all employees, one for managers\r\n2. Define a class/DS for the manager -- info, reportees, set of distinct cities the reportees belong to\r\n3. The above two can be constructed in O(n)\r\n4. Once you have it, you can iterate (in O(n)) to find all managers with reportees city set with size &gt; 1\r\n\r\n\r\nDefining class to represent Manager - reportees info like below\r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class MgrReportees {\r\n    private String mngr_id = null;\r\n    private String[] mngr_info = null;\r\n    private List&lt;String&gt; reportee_ids  = new ArrayList&lt;&gt;();\r\n    private Map&lt;String,String[]&gt; reportee_info = new HashMap&lt;&gt;();\r\n    private Set&lt;String&gt; reportee_city = new LinkedHashSet&lt;&gt;();\r\n\r\n    public void process(String[] emp, Map&lt;String, String[]&gt; all_emp) {\r\n        this.mngr_id = emp[1];\r\n        if(emp[0].equals(emp[1])) { // this one is manager&#39;s info\r\n            this.mngr_info = emp;\r\n        }else {\r\n            if(all_emp.containsKey(emp[1])) { // if available, then update manager&#39;s ifo\r\n                this.mngr_info = all_emp.get(emp[1]);\r\n            }\r\n            if(!reportee_info.containsKey(emp[0])) {\r\n                reportee_ids.add(emp[0]);\r\n            }\r\n            reportee_info.put(emp[0], emp);\r\n            reportee_city.add(emp[2]);\r\n        }\r\n    }\r\n\r\n    public String getMngr_id() {\r\n        return mngr_id;\r\n    }\r\n\r\n    public String[] getMngr_info() {\r\n        return mngr_info;\r\n    }\r\n\r\n    public List&lt;String&gt; getReportee_ids() {\r\n        return reportee_ids;\r\n    }\r\n\r\n    public Map&lt;String, String[]&gt; getReportee_info() {\r\n        return reportee_info;\r\n    }\r\n\r\n    public String[] getReportee_info(String reportee_id) {\r\n        return reportee_info.get(reportee_id);\r\n    }\r\n\r\n    public Set&lt;String&gt; getReportee_cities() {\r\n        return reportee_city;\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s how to construct a map of managers info, notice the two maps - all employees and managers\r\n\r\n```\r\npublic static Map&lt;String, MgrReportees&gt; constructManagerReportees(String[][] input) {\r\n\t\tMap&lt;String, MgrReportees&gt; mngr_registry = new HashMap&lt;&gt;();\r\n\t\tMap&lt;String, String[]&gt; employees_registry = new HashMap&lt;&gt;();\r\n\t\tfor (String[] emp : input) {\r\n\t\t\temployees_registry.put(emp[0],emp );\r\n\t\t\tMgrReportees mgr = mngr_registry.containsKey(emp[1]) ? mngr_registry.get(emp[1])  : new MgrReportees();\r\n\t\t\tmgr.process(emp, employees_registry);\r\n\t\t\tmngr_registry.put(emp[1],mgr);\r\n\t\t}\r\n\r\n\t\treturn mngr_registry;\r\n\t}\r\n```\r\n\r\nand finally calling it &amp; basic city size check:\r\n\r\n```\r\n\tpublic static void main(String[] args) {\r\n\t\tString[][] emps2 = new String[][]{\r\n\t\t\t\t//&quot;EmployeeID&quot;, &quot;ManagerID&quot;, &quot;City&quot;, &quot;Phone number&quot;\r\n\t\t\t\t{&quot;e1&quot;, &quot;e1&quot;, &quot;SF&quot;, &quot;phone-1&quot;},\r\n\t\t\t\t{&quot;e2&quot;, &quot;e1&quot;, &quot;SF&quot;, &quot;phone-2&quot;},\r\n\t\t\t\t{&quot;e3&quot;, &quot;e1&quot;, &quot;SF&quot;, &quot;phone-3&quot;},\r\n\t\t\t\t{&quot;e4&quot;, &quot;e2&quot;, &quot;SF&quot;, &quot;phone-4&quot;},\r\n\t\t\t\t{&quot;e5&quot;, &quot;e2&quot;, &quot;PH&quot;, &quot;phone-5&quot;},\r\n\t\t\t\t{&quot;e6&quot;, &quot;e3&quot;, &quot;NY&quot;, &quot;phone-6&quot;}\r\n\t\t};\r\n\t\tMap&lt;String, MgrReportees&gt; mgrs = constructManagerReportees(emps2);\r\n\t\t// Find manager&#39;s phone with reportees in more than 1 city\r\n\t\tSystem.out.println(&quot;Finding Managers with reportees in more tha 1 city&quot;);\r\n\t\tfor (Map.Entry&lt;String,MgrReportees&gt; entry : mgrs.entrySet()) {\r\n\t\t\tMgrReportees r = entry.getValue();\r\n\t\t\tint cityCount = r.getReportee_cities().size();\r\n\t\t\tif( cityCount &gt; 1) {\r\n\t\t\t\tSystem.out.println(String.format(&quot;Found Manager Id = %s , Mngr Phone = %s, Reportees City Count = %d &quot;\r\n\t\t\t\t\t\t,entry.getKey()\r\n\t\t\t\t\t\t,r.getMngr_info()[3]\r\n\t\t\t\t\t\t,cityCount));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tSystem.out.println(&quot;Done&quot;);\r\n\t}\r\n```\r\n\r\nfor the given sample data, the output will be\r\n\r\n```\r\nFinding Managers with reportees in more tha 1 city\r\nFound Manager Id = e2 , Mngr Phone = phone-2, Reportees City Count = 2 \r\nDone\r\n```\r\n\r\nHope this helps &#128077;\r\n","title":"Optimal way to find manager phone number whose subordinates live in more than one city in a graph","body":"<p>Here's a possible algo:</p>\n<ol>\n<li>Maintain two maps  - one for all employees, one for managers</li>\n<li>Define a class/DS for the manager -- info, reportees, set of distinct cities the reportees belong to</li>\n<li>The above two can be constructed in O(n)</li>\n<li>Once you have it, you can iterate (in O(n)) to find all managers with reportees city set with size &gt; 1</li>\n</ol>\n<p>Defining class to represent Manager - reportees info like below</p>\n<pre><code>import java.util.*;\n\npublic class MgrReportees {\n    private String mngr_id = null;\n    private String[] mngr_info = null;\n    private List&lt;String&gt; reportee_ids  = new ArrayList&lt;&gt;();\n    private Map&lt;String,String[]&gt; reportee_info = new HashMap&lt;&gt;();\n    private Set&lt;String&gt; reportee_city = new LinkedHashSet&lt;&gt;();\n\n    public void process(String[] emp, Map&lt;String, String[]&gt; all_emp) {\n        this.mngr_id = emp[1];\n        if(emp[0].equals(emp[1])) { // this one is manager's info\n            this.mngr_info = emp;\n        }else {\n            if(all_emp.containsKey(emp[1])) { // if available, then update manager's ifo\n                this.mngr_info = all_emp.get(emp[1]);\n            }\n            if(!reportee_info.containsKey(emp[0])) {\n                reportee_ids.add(emp[0]);\n            }\n            reportee_info.put(emp[0], emp);\n            reportee_city.add(emp[2]);\n        }\n    }\n\n    public String getMngr_id() {\n        return mngr_id;\n    }\n\n    public String[] getMngr_info() {\n        return mngr_info;\n    }\n\n    public List&lt;String&gt; getReportee_ids() {\n        return reportee_ids;\n    }\n\n    public Map&lt;String, String[]&gt; getReportee_info() {\n        return reportee_info;\n    }\n\n    public String[] getReportee_info(String reportee_id) {\n        return reportee_info.get(reportee_id);\n    }\n\n    public Set&lt;String&gt; getReportee_cities() {\n        return reportee_city;\n    }\n}\n</code></pre>\n<p>Here's how to construct a map of managers info, notice the two maps - all employees and managers</p>\n<pre><code>public static Map&lt;String, MgrReportees&gt; constructManagerReportees(String[][] input) {\n        Map&lt;String, MgrReportees&gt; mngr_registry = new HashMap&lt;&gt;();\n        Map&lt;String, String[]&gt; employees_registry = new HashMap&lt;&gt;();\n        for (String[] emp : input) {\n            employees_registry.put(emp[0],emp );\n            MgrReportees mgr = mngr_registry.containsKey(emp[1]) ? mngr_registry.get(emp[1])  : new MgrReportees();\n            mgr.process(emp, employees_registry);\n            mngr_registry.put(emp[1],mgr);\n        }\n\n        return mngr_registry;\n    }\n</code></pre>\n<p>and finally calling it &amp; basic city size check:</p>\n<pre><code>    public static void main(String[] args) {\n        String[][] emps2 = new String[][]{\n                //&quot;EmployeeID&quot;, &quot;ManagerID&quot;, &quot;City&quot;, &quot;Phone number&quot;\n                {&quot;e1&quot;, &quot;e1&quot;, &quot;SF&quot;, &quot;phone-1&quot;},\n                {&quot;e2&quot;, &quot;e1&quot;, &quot;SF&quot;, &quot;phone-2&quot;},\n                {&quot;e3&quot;, &quot;e1&quot;, &quot;SF&quot;, &quot;phone-3&quot;},\n                {&quot;e4&quot;, &quot;e2&quot;, &quot;SF&quot;, &quot;phone-4&quot;},\n                {&quot;e5&quot;, &quot;e2&quot;, &quot;PH&quot;, &quot;phone-5&quot;},\n                {&quot;e6&quot;, &quot;e3&quot;, &quot;NY&quot;, &quot;phone-6&quot;}\n        };\n        Map&lt;String, MgrReportees&gt; mgrs = constructManagerReportees(emps2);\n        // Find manager's phone with reportees in more than 1 city\n        System.out.println(&quot;Finding Managers with reportees in more tha 1 city&quot;);\n        for (Map.Entry&lt;String,MgrReportees&gt; entry : mgrs.entrySet()) {\n            MgrReportees r = entry.getValue();\n            int cityCount = r.getReportee_cities().size();\n            if( cityCount &gt; 1) {\n                System.out.println(String.format(&quot;Found Manager Id = %s , Mngr Phone = %s, Reportees City Count = %d &quot;\n                        ,entry.getKey()\n                        ,r.getMngr_info()[3]\n                        ,cityCount));\n            }\n        }\n\n        System.out.println(&quot;Done&quot;);\n    }\n</code></pre>\n<p>for the given sample data, the output will be</p>\n<pre><code>Finding Managers with reportees in more tha 1 city\nFound Manager Id = e2 , Mngr Phone = phone-2, Reportees City Count = 2 \nDone\n</code></pre>\n<p>Hope this helps 👍</p>\n"},{"tags":[],"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658894129,"creation_date":1658894129,"answer_id":73132089,"question_id":73102698,"body_markdown":"Done it with an employee class and java 8 way:\r\n\r\n    public class EmployeePhoneNums {\r\n    \t\r\n    \tpublic static void main(String[] args) {            \r\n            List&lt;Employee&gt; emps2 = List.of(\r\n            \t\tnew Employee(&quot;e1&quot;, &quot;e1&quot;, &quot;SF&quot;, &quot;phone-1&quot;),\r\n            \t\tnew Employee(&quot;e2&quot;, &quot;e1&quot;, &quot;SF&quot;, &quot;phone-2&quot;),\r\n            \t\tnew Employee(&quot;e3&quot;, &quot;e1&quot;, &quot;SF&quot;, &quot;phone-3&quot;),\r\n            \t\tnew Employee(&quot;e4&quot;, &quot;e2&quot;, &quot;SF&quot;, &quot;phone-4&quot;),\r\n            \t\tnew Employee(&quot;e5&quot;, &quot;e2&quot;, &quot;PH&quot;, &quot;phone-5&quot;),\r\n            \t\tnew Employee(&quot;e6&quot;, &quot;e3&quot;, &quot;NY&quot;, &quot;phone-6&quot;));\r\n            Map&lt;String, String&gt; managerPhoneNums = emps2.stream().collect(Collectors.toMap(Employee::getEmpolyeeId, Employee::getPhoneNumber));\r\n            Map&lt;String, Set&lt;String&gt;&gt; managerAndCityOfEmployee = emps2.stream().filter(e -&gt; !e.getEmpolyeeId().equals(e.getManagerId())).collect(Collectors.groupingBy(Employee::getManagerId, Collectors.mapping(Employee::getCity, Collectors.toSet())));\r\n    \t    List&lt;String&gt; resultManager = managerAndCityOfEmployee.entrySet().stream().filter(m -&gt; m.getValue().size() &gt; 1).map(m -&gt; m.getKey()).collect(Collectors.toList());\r\n            resultManager.forEach(rm -&gt; System.out.println(rm + &quot; : &quot; + managerPhoneNums.get(rm)));\r\n        \r\n    \t}\r\n    }\r\n    \r\n    class Employee {\r\n    \tString empolyeeId;\r\n    \tString managerId;\r\n    \tString city;\r\n    \tString phoneNumber;\r\n    \t\r\n    \tpublic Employee(String empolyeeId, String managerId, String city, String phoneNumber) {\r\n    \t\tsuper();\r\n    \t\tthis.empolyeeId = empolyeeId;\r\n    \t\tthis.managerId = managerId;\r\n    \t\tthis.city = city;\r\n    \t\tthis.phoneNumber = phoneNumber;\r\n    \t}\r\n    \r\n    \tpublic String getEmpolyeeId() {\r\n    \t\treturn empolyeeId;\r\n    \t}\r\n    \r\n    \tpublic void setEmpolyeeId(String empolyeeId) {\r\n    \t\tthis.empolyeeId = empolyeeId;\r\n    \t}\r\n    \r\n    \tpublic String getManagerId() {\r\n    \t\treturn managerId;\r\n    \t}\r\n    \r\n    \tpublic void setManagerId(String managerId) {\r\n    \t\tthis.managerId = managerId;\r\n    \t}\r\n    \r\n    \tpublic String getCity() {\r\n    \t\treturn city;\r\n    \t}\r\n    \r\n    \tpublic void setCity(String city) {\r\n    \t\tthis.city = city;\r\n    \t}\r\n    \r\n    \tpublic String getPhoneNumber() {\r\n    \t\treturn phoneNumber;\r\n    \t}\r\n    \r\n    \tpublic void setPhoneNumber(String phoneNumber) {\r\n    \t\tthis.phoneNumber = phoneNumber;\r\n    \t}\r\n    \r\n    }\r\n\r\nPS: Not understand why e1 is in your output, all his employees live in SF","title":"Optimal way to find manager phone number whose subordinates live in more than one city in a graph","body":"<p>Done it with an employee class and java 8 way:</p>\n<pre><code>public class EmployeePhoneNums {\n    \n    public static void main(String[] args) {            \n        List&lt;Employee&gt; emps2 = List.of(\n                new Employee(&quot;e1&quot;, &quot;e1&quot;, &quot;SF&quot;, &quot;phone-1&quot;),\n                new Employee(&quot;e2&quot;, &quot;e1&quot;, &quot;SF&quot;, &quot;phone-2&quot;),\n                new Employee(&quot;e3&quot;, &quot;e1&quot;, &quot;SF&quot;, &quot;phone-3&quot;),\n                new Employee(&quot;e4&quot;, &quot;e2&quot;, &quot;SF&quot;, &quot;phone-4&quot;),\n                new Employee(&quot;e5&quot;, &quot;e2&quot;, &quot;PH&quot;, &quot;phone-5&quot;),\n                new Employee(&quot;e6&quot;, &quot;e3&quot;, &quot;NY&quot;, &quot;phone-6&quot;));\n        Map&lt;String, String&gt; managerPhoneNums = emps2.stream().collect(Collectors.toMap(Employee::getEmpolyeeId, Employee::getPhoneNumber));\n        Map&lt;String, Set&lt;String&gt;&gt; managerAndCityOfEmployee = emps2.stream().filter(e -&gt; !e.getEmpolyeeId().equals(e.getManagerId())).collect(Collectors.groupingBy(Employee::getManagerId, Collectors.mapping(Employee::getCity, Collectors.toSet())));\n        List&lt;String&gt; resultManager = managerAndCityOfEmployee.entrySet().stream().filter(m -&gt; m.getValue().size() &gt; 1).map(m -&gt; m.getKey()).collect(Collectors.toList());\n        resultManager.forEach(rm -&gt; System.out.println(rm + &quot; : &quot; + managerPhoneNums.get(rm)));\n    \n    }\n}\n\nclass Employee {\n    String empolyeeId;\n    String managerId;\n    String city;\n    String phoneNumber;\n    \n    public Employee(String empolyeeId, String managerId, String city, String phoneNumber) {\n        super();\n        this.empolyeeId = empolyeeId;\n        this.managerId = managerId;\n        this.city = city;\n        this.phoneNumber = phoneNumber;\n    }\n\n    public String getEmpolyeeId() {\n        return empolyeeId;\n    }\n\n    public void setEmpolyeeId(String empolyeeId) {\n        this.empolyeeId = empolyeeId;\n    }\n\n    public String getManagerId() {\n        return managerId;\n    }\n\n    public void setManagerId(String managerId) {\n        this.managerId = managerId;\n    }\n\n    public String getCity() {\n        return city;\n    }\n\n    public void setCity(String city) {\n        this.city = city;\n    }\n\n    public String getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public void setPhoneNumber(String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n}\n</code></pre>\n<p>PS: Not understand why e1 is in your output, all his employees live in SF</p>\n"},{"tags":[],"owner":{"account_id":25780936,"reputation":858,"user_id":19526570,"display_name":"Maksym"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658924566,"creation_date":1658924566,"answer_id":73137862,"question_id":73102698,"body_markdown":"There are few caveats with 0(n) complexity here:\r\n\r\n1. First note on data ordering, if it not exists 0(n) probably be unreachable.\r\n2. Take a note on data ordering again, you have child of childs at the end and parent on top. So iteration better to start from end of array (not start), this would allow accumulation of results.\r\n\r\nPseudocode in C# (to demonstrate an idea)\r\n\r\n    string[][] emps2 = new string[][] {\r\n        //&quot;EmployeeID&quot;, &quot;ManagerID&quot;, &quot;City&quot;, &quot;Phone number&quot;\r\n        new string[] {&quot;e1&quot;, &quot;e1&quot;, &quot;SF&quot;, &quot;phone-1&quot;},\r\n        new string[] {&quot;e2&quot;, &quot;e1&quot;, &quot;SF&quot;, &quot;phone-2&quot;},\r\n        new string[] {&quot;e3&quot;, &quot;e1&quot;, &quot;SF&quot;, &quot;phone-3&quot;},\r\n        new string[] {&quot;e4&quot;, &quot;e2&quot;, &quot;SF&quot;, &quot;phone-4&quot;},\r\n        new string[] {&quot;e5&quot;, &quot;e2&quot;, &quot;PH&quot;, &quot;phone-5&quot;},\r\n        new string[] {&quot;e6&quot;, &quot;e3&quot;, &quot;NY&quot;, &quot;phone-6&quot;}};\r\n    \r\n    //&quot;EmployeeID&quot;, &quot;ManagerID&quot;, &quot;City&quot;, &quot;Phone number&quot;\r\n    \r\n    string[][] emps3 = new string[][]\r\n    {\r\n        new string[] {&quot;e1&quot;, &quot;&quot;},\r\n        new string[] {&quot;e2&quot;, &quot;&quot;},\r\n        new string[] {&quot;e3&quot;, &quot;&quot;},\r\n        new string[] {&quot;e4&quot;, &quot;&quot;},\r\n        new string[] {&quot;e5&quot;, &quot;&quot;},\r\n        new string[] {&quot;e6&quot;, &quot;&quot;}\r\n    };\r\n    \r\n    Dictionary&lt;string, string&gt; managers = new Dictionary&lt;string, string&gt;();\r\n    \r\n    for (int i = emps2.Length - 1; i &gt;= 0; i--)\r\n    {\r\n        if (emps2[i][0] != emps2[i][1])\r\n        {\r\n            string managerId;\r\n            if (!managers.TryGetValue(emps2[i][0], out managerId))\r\n            {\r\n                managers.Add(emps2[i][0], &quot;&quot;);\r\n            }\r\n    \r\n            string current;\r\n            if (managers.TryGetValue(emps2[i][1], out current))\r\n            {\r\n                current = current + emps2[i][2] + managerId;\r\n                managers[emps2[i][1]] = current;\r\n            }\r\n            else\r\n            {\r\n                managers.Add(emps2[i][1], emps2[i][2]);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nSome explanations, I&#39;ve started from last element and do accumulation of employee city in a separate object. On each step I check my manager and my employee in the new object and populate data (possibly can be done simpler). If I see child I append child cities to the value as well.\r\n\r\nIn result I got employees and cities where they have subordinates (as a concatenated string, but that&#39;s trivial to split, distinct and count). \r\n\r\nTL;DR You can check dynamic programming technics/example for more details on subj. ","title":"Optimal way to find manager phone number whose subordinates live in more than one city in a graph","body":"<p>There are few caveats with 0(n) complexity here:</p>\n<ol>\n<li>First note on data ordering, if it not exists 0(n) probably be unreachable.</li>\n<li>Take a note on data ordering again, you have child of childs at the end and parent on top. So iteration better to start from end of array (not start), this would allow accumulation of results.</li>\n</ol>\n<p>Pseudocode in C# (to demonstrate an idea)</p>\n<pre><code>string[][] emps2 = new string[][] {\n    //&quot;EmployeeID&quot;, &quot;ManagerID&quot;, &quot;City&quot;, &quot;Phone number&quot;\n    new string[] {&quot;e1&quot;, &quot;e1&quot;, &quot;SF&quot;, &quot;phone-1&quot;},\n    new string[] {&quot;e2&quot;, &quot;e1&quot;, &quot;SF&quot;, &quot;phone-2&quot;},\n    new string[] {&quot;e3&quot;, &quot;e1&quot;, &quot;SF&quot;, &quot;phone-3&quot;},\n    new string[] {&quot;e4&quot;, &quot;e2&quot;, &quot;SF&quot;, &quot;phone-4&quot;},\n    new string[] {&quot;e5&quot;, &quot;e2&quot;, &quot;PH&quot;, &quot;phone-5&quot;},\n    new string[] {&quot;e6&quot;, &quot;e3&quot;, &quot;NY&quot;, &quot;phone-6&quot;}};\n\n//&quot;EmployeeID&quot;, &quot;ManagerID&quot;, &quot;City&quot;, &quot;Phone number&quot;\n\nstring[][] emps3 = new string[][]\n{\n    new string[] {&quot;e1&quot;, &quot;&quot;},\n    new string[] {&quot;e2&quot;, &quot;&quot;},\n    new string[] {&quot;e3&quot;, &quot;&quot;},\n    new string[] {&quot;e4&quot;, &quot;&quot;},\n    new string[] {&quot;e5&quot;, &quot;&quot;},\n    new string[] {&quot;e6&quot;, &quot;&quot;}\n};\n\nDictionary&lt;string, string&gt; managers = new Dictionary&lt;string, string&gt;();\n\nfor (int i = emps2.Length - 1; i &gt;= 0; i--)\n{\n    if (emps2[i][0] != emps2[i][1])\n    {\n        string managerId;\n        if (!managers.TryGetValue(emps2[i][0], out managerId))\n        {\n            managers.Add(emps2[i][0], &quot;&quot;);\n        }\n\n        string current;\n        if (managers.TryGetValue(emps2[i][1], out current))\n        {\n            current = current + emps2[i][2] + managerId;\n            managers[emps2[i][1]] = current;\n        }\n        else\n        {\n            managers.Add(emps2[i][1], emps2[i][2]);\n        }\n    }\n\n}\n</code></pre>\n<p>Some explanations, I've started from last element and do accumulation of employee city in a separate object. On each step I check my manager and my employee in the new object and populate data (possibly can be done simpler). If I see child I append child cities to the value as well.</p>\n<p>In result I got employees and cities where they have subordinates (as a concatenated string, but that's trivial to split, distinct and count).</p>\n<p>TL;DR You can check dynamic programming technics/example for more details on subj.</p>\n"},{"tags":[],"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659087521,"creation_date":1659001503,"answer_id":73150631,"question_id":73102698,"body_markdown":"The collections in the `java.util` package all implement the `addAll` method in O(N) time complexity (since elements are added one-by-one rather than combining the two collections directly).\r\n\r\nTo get an O(N) solution, you need a data structure that can combine two linked lists in O(1) time which means that you need to create your own class (here is one that was prepared earlier, but is slightly over-engineered for your purposes):\r\n\r\n``` java\r\nimport java.util.ConcurrentModificationException;\r\nimport java.util.Iterator;\r\n\r\n/**\r\n * &lt;p&gt;A doubly linked list structure that allows elements of the given enumerated type\r\n * to be added to, or retrieved from, the head or tail of the list and can iterate over\r\n * the entire list. The structure has no capability to: remove items from the list; edit\r\n * the order of the list; insert items in the middle of the list; or directly access\r\n * elements in the middle of the list.&lt;/p&gt;\r\n * \r\n * &lt;p&gt;The structure can be accessed in Constant time to:&lt;/p&gt;\r\n * &lt;ul&gt;\r\n * &lt;li&gt;Add an element to the head or tail;&lt;/li&gt;\r\n * &lt;li&gt;Concatenate this list with another of the same enumerated type;&lt;/li&gt;\r\n * &lt;li&gt;Retrieve the head or tail element of the list; and&lt;/li&gt;\r\n * &lt;li&gt;Get the next element in the list from the iterator.&lt;/li&gt;\r\n * &lt;/ul&gt;\r\n * &lt;p&gt;The structure can be accessed in Linear tile to:&lt;/p&gt;\r\n * &lt;ul&gt;\r\n * &lt;li&gt;Query the list to see if it contains an element; and&lt;/li&gt;\r\n * &lt;li&gt;Get a string representation of the list.&lt;/li&gt;\r\n * &lt;/ul&gt;\r\n *\r\n * @param &lt;E&gt;\r\n */\r\npublic class UnmodifiableLinkList&lt;E&gt; implements Iterable&lt;E&gt; {\r\n\t/**\r\n\t * Whether elements can be removed from the list.\r\n\t */\r\n\tprotected boolean isModifiable = false;\r\n\r\n\t/**\r\n\t * The wrapper for the head element of the list.\r\n\t */\r\n\tprotected ListElement head = null;\r\n\r\n\t/**\r\n\t * The wrapper for the tail element of the list.\r\n\t */\r\n\tprotected ListElement tail = null;\r\n\r\n\t/**\r\n\t * The number of elements in the list.\r\n\t */\r\n\tprotected int size = 0;\r\n\r\n\t/**\r\n\t * A reference variable to track changes to the data structure and\r\n\t * is used to highlight concurrent modification exceptions.\r\n\t */\r\n\tprotected long changes = Long.MIN_VALUE;\r\n\r\n\t/**\r\n\t * Checks whether elements can be removed from the list.\r\n\t * @return boolean\r\n\t */\r\n\tpublic boolean canRemoveElements() {\r\n\t\treturn isModifiable;\r\n\t}\r\n\r\n\t/**\r\n\t * Checks whether there are no elements in the list.\r\n\t * @return boolean\r\n\t */\r\n\tpublic boolean isEmpty() {\r\n\t\treturn size() == 0;\r\n\t}\r\n\r\n\t/**\r\n\t * Add an element to the head of the list.\r\n\t * \r\n\t * @param element - The non-null element to be added.\r\n\t * @throws ConcurrentModificationException Thrown if the list is modified\r\n\t * \t\t\tduring the execution of this method. \r\n\t * @throws IllegalArgumentException Thrown if the head of the list is connected\r\n\t * \t\t\tto another list and cannot be appended to.\r\n\t */\r\n\tpublic void addHead( E element ) {\r\n\t\tif ( element == null )\r\n\t\t\tthrow new IllegalArgumentException( &quot;Cannot add a null element.&quot; );\r\n\t\tif ( head != null &amp;&amp; head.getHeadwards() != null )\r\n\t\t\tthrow new IllegalArgumentException( &quot;Head element is connected to another list and cannot be appended to.&quot;);\r\n\t\tlong change = changes;\r\n\t\tif ( size == 0 ) {\r\n\t\t\thead = tail = new ListElement( element );\r\n\t\t} else {\r\n\t\t\tListElement le = new ListElement( element );\r\n\t\t\tle.setTailwards( head );\r\n\t\t\thead.setHeadwards( le );\r\n\t\t\thead = le;\r\n\t\t}\r\n\t\tsize++;\r\n\t\tif ( change != changes )\r\n\t\t\tthrow new ConcurrentModificationException();\r\n\t\tincrementChange();\r\n\t}\r\n\r\n\t/**\r\n\t * Add an element to the tail of the list.\r\n\t * \r\n\t * @param element - The non-null element to be added.\r\n\t * @throws ConcurrentModificationException Thrown if the list is modified\r\n\t * \t\t\tduring the execution of this method.\r\n\t * @throws IllegalArgumentException Thrown if the tail of the list is connected\r\n\t * \t\t\tto another list and cannot be appended to.\r\n\t */\r\n\tpublic void addTail( E element ) {\r\n\t\tif ( element == null )\r\n\t\t\tthrow new IllegalArgumentException( &quot;Cannot add a null element.&quot; );\r\n\t\tif ( tail != null &amp;&amp; tail.getTailwards() != null )\r\n\t\t\tthrow new IllegalArgumentException( &quot;Tail element is connected to another list and cannot be appended to.&quot;);\r\n\t\tlong change = changes;\r\n\t\tif ( size == 0 ) {\r\n\t\t\thead = tail = new ListElement( element );\r\n\t\t} else {\r\n\t\t\tListElement le = new ListElement( element );\r\n\t\t\tle.setHeadwards( tail );\r\n\t\t\ttail.setTailwards( le );\r\n\t\t\ttail = le;\r\n\t\t}\r\n\t\tsize++;\r\n\t\tif ( change != changes )\r\n\t\t\tthrow new ConcurrentModificationException();\r\n\t\tincrementChange();\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the head element from the list or null if the list is empty.\r\n\t * \r\n\t * @return &amp;lt;E&amp;gt;\r\n\t */\r\n\tpublic E getHead() {\r\n\t\tif ( size == 0 )\r\n\t\t\treturn null;\r\n\t\treturn head.getElement();\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the tail element from the list or null if the list is empty.\r\n\t * \r\n\t * @return &amp;lt;E&amp;gt;\r\n\t */\r\n\tpublic E getTail() {\r\n\t\tif ( size == 0 )\r\n\t\t\treturn null;\r\n\t\treturn tail.getElement();\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the element before the tail element from the list or null if\r\n\t * the list does not have at least two elements.\r\n\t * \r\n\t * @return &amp;lt;E&amp;gt;\r\n\t */\r\n\tpublic E getPenultimateTail() {\r\n\t\tif ( size &lt; 2 )\r\n\t\t\treturn null;\r\n\t\treturn tail.getHeadwards().getElement();\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the size of the list.\r\n\t * @return int\r\n\t */\r\n\tpublic int size() {\r\n\t\treturn size;\r\n\t}\r\n\r\n\t/**\r\n\t * Appends the contents of the given list to the head of this list.\r\n\t * \r\n\t * @param list - A non-null list of the same enumerated type.\r\n\t * @throws IllegalArgumentException Thrown if the head of this list or the tail\r\n\t * \t\t\tof the given list are connected to another list and, therefore, cannot\r\n\t * \t\t\tbe appended to.\r\n\t */\r\n\tpublic void addAllHead( UnmodifiableLinkList&lt;E&gt; list ) {\r\n\t\tif ( list == null )\r\n\t\t\tthrow new IllegalArgumentException( &quot;Cannot append a null list.&quot; );\r\n\t\tif ( head != null &amp;&amp; head.getHeadwards() != null )\r\n\t\t\tthrow new IllegalArgumentException( &quot;This list&#39;s head element is connected to another list and cannot be appended to.&quot;);\r\n\t\tif ( list.tail != null &amp;&amp; list.tail.getTailwards() != null )\r\n\t\t\tthrow new IllegalArgumentException( &quot;Given list&#39;s tail element is connected to another list and cannot be appended to.&quot;);\r\n\t\tif ( list.size() == 0 )\r\n\t\t\treturn;\r\n\t\tlong change = changes;\r\n\t\tlong listChange = list.changes;\r\n\r\n\t\tisModifiable &amp;= list.isModifiable;\r\n\r\n\t\tif ( size == 0 ) {\r\n\t\t\thead = list.head;\r\n\t\t\ttail = list.tail;\r\n\t\t\tsize = list.size;\r\n\t\t} else {\r\n\t\t\thead.setHeadwards( list.tail );\r\n\t\t\tlist.tail.setTailwards( head );\r\n\t\t\thead = list.head;\r\n\t\t\tsize += list.size;\r\n\t\t}\r\n\r\n\t\tlist.head = list.tail = null;\r\n\t\tlist.size = 0;\r\n\r\n\t\tif ( change != changes || listChange != list.changes )\r\n\t\t\tthrow new ConcurrentModificationException();\r\n\t\tincrementChange();\r\n\t}\r\n\r\n\t/**\r\n\t * Appends the contents of the given list to the tail of this list.\r\n\t * \r\n\t * @param list - A non-null list of the same enumerated type.\r\n\t * @throws IllegalArgumentException Thrown if the tail of this list or the head\r\n\t * \t\t\tof the given list are connected to another list and, therefore, cannot\r\n\t * \t\t\tbe appended to.\r\n\t */\r\n\tpublic void addAllTail( UnmodifiableLinkList&lt;E&gt; list ) {\r\n\t\tif ( list == null )\r\n\t\t\tthrow new IllegalArgumentException( &quot;Cannot append a null list.&quot; );\r\n\t\tif ( tail != null &amp;&amp; tail.getTailwards() != null )\r\n\t\t\tthrow new IllegalArgumentException( &quot;This list&#39;s tail element is connected to another list and cannot be appended to.&quot;);\r\n\t\tif ( list.head != null &amp;&amp; list.head.getHeadwards() != null )\r\n\t\t\tthrow new IllegalArgumentException( &quot;Given list&#39;s head element is connected to another list and cannot be appended to.&quot;);\r\n\t\tif ( list.size() == 0 )\r\n\t\t\treturn;\r\n\t\tlong change = changes;\r\n\t\tlong listChange = list.changes;\r\n\r\n\t\tisModifiable &amp;= list.isModifiable;\r\n\r\n\t\tif ( size == 0 ) {\r\n\t\t\thead = list.head;\r\n\t\t\ttail = list.tail;\r\n\t\t\tsize = list.size;\r\n\t\t} else {\r\n\t\t\ttail.setTailwards( list.head );\r\n\t\t\tlist.head.setHeadwards( tail );\r\n\t\t\ttail = list.tail;\r\n\t\t\tsize += list.size;\r\n\t\t}\r\n\r\n\t\tlist.head = list.tail = null;\r\n\t\tlist.size = 0;\r\n\r\n\t\tif ( change != changes || listChange != list.changes )\r\n\t\t\tthrow new ConcurrentModificationException();\r\n\t\tincrementChange();\r\n\t}\r\n\r\n\t/**\r\n\t * Checks whether a given element is contained within the list.\r\n\t * @param element - The element to locate in the list. \r\n\t * @return boolean\r\n\t */\r\n\tpublic boolean contains( final E element ) {\r\n\t\treturn findElement( element ) != null;\r\n\t}\r\n\r\n\t/**\r\n\t * Finds the internal list data structure containing the given element\r\n\t * within the list. \r\n\t * @param element - The element to locate in the list.\r\n\t * @return ListElement\r\n\t */\r\n\tprotected ListElement findElement( final E element ) {\r\n\t\tListElement current = head;\r\n\t\twhile ( current != null ) {\r\n\t\t\tif ( current.getElement() == element )\r\n\t\t\t\treturn current;\r\n\t\t\tcurrent = current.getTailwards();\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\t/**\r\n\t * Returns a comma-space separated sequence representing the contents\r\n\t * of the list. The return value is bracketed by angle brackets (&lt;&gt;). \r\n\t * @see UnmodifiableLinkList#toString(String) toString( String )\r\n\t * @return String \r\n\t */\r\n\tpublic String toString() {\r\n\t\treturn toString( &quot;, &quot; );\r\n\t}\r\n\r\n\t/**\r\n\t * Returns a sequence representing the contents of the list. The return\r\n\t * value is bracketed by angle brackets (&lt;&gt;) and pairs of elements are\r\n\t * separated by the value of the function&#39;s separator argument. \r\n\t * @param separator - A string defining the separator between list\r\n\t * \t\t\telements.\r\n\t * @return String\r\n\t */\r\n\tpublic String toString( String separator ) {\r\n\t\tStringBuffer b = new StringBuffer();\r\n\t\tb.append( &#39;&lt;&#39; );\r\n\t\tboolean first = true;\r\n\t\tfor ( E e: this ) {\r\n\t\t\tif ( first )\r\n\t\t\t\tfirst = false;\r\n\t\t\telse\r\n\t\t\t\tb.append( separator );\r\n\t\t\tb.append( e );\r\n\t\t}\r\n\t\tb.append( &#39;&gt;&#39; );\r\n\t\treturn b.toString();\r\n\t\t\r\n\t}\r\n\r\n\t/**\r\n\t * &lt;p&gt;Increments the counter recording the number of changes to the\r\n\t * data structure.&lt;/p&gt;\r\n\t * &lt;p&gt;Used as a simple (imperfect) method to detect concurrent\r\n\t * modification of a list.&lt;/p&gt;\r\n\t */\r\n\tprotected synchronized void incrementChange() {\r\n\t\tif ( changes == Long.MAX_VALUE )\r\n\t\t\tchanges = Long.MIN_VALUE;\r\n\t\telse\r\n\t\t\tchanges++;\r\n\t}\r\n\r\n\t/**\r\n\t * &lt;p&gt;The data structure used to store a single element of data within\r\n\t * the list&lt;/p&gt;\r\n\t */\r\n\tprotected class ListElement {\r\n\t\tprivate E element;\r\n\t\tprivate ListElement tailwards = null;\r\n\t\tprivate ListElement headwards = null;\r\n\r\n\t\tprotected ListElement( E element ) {\r\n\t\t\tthis.element = element;\r\n\t\t}\r\n\r\n\t\tprotected void setElement( E element ) \t\t\t{ this.element = element; }\r\n\t\tprotected void setTailwards( ListElement next ) { this.tailwards = next; }\r\n\t\tprotected void setHeadwards( ListElement prev ) { this.headwards = prev; }\r\n\r\n\t\tprotected E getElement()\t{ return element; }\r\n\t\tprotected ListElement getTailwards()\t{ return tailwards; }\r\n\t\tprotected ListElement getHeadwards()\t{ return headwards; }\r\n\t}\r\n\r\n\t/**\r\n\t * Returns an iterator to loop through the list from head-to-tail.\r\n\t * @return Iterator&lt;E&gt;\r\n\t */\r\n\t@Override\r\n\tpublic Iterator&lt;E&gt; iterator() {\r\n\t\treturn new Iterator&lt;E&gt;() {\r\n\t\t\tListElement current = head;\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic boolean hasNext() {\r\n\t\t\t\treturn current != null;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic E next() {\r\n\t\t\t\tif ( current == null )\r\n\t\t\t\t\treturn null;\r\n\t\t\t\tE next = current.getElement();\r\n\t\t\t\tcurrent = current.getTailwards();\r\n\t\t\t\treturn next;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void remove() {\r\n\t\t\t\tthrow new IllegalArgumentException( &quot;Cannot remove from this list.&quot; );\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t * Returns an iterator to loop through the list from tail-to-head.\r\n\t * @return Iterator&lt;E&gt;\r\n\t */\r\n\tpublic Iterator&lt;E&gt; reverseIterator() {\r\n\t\treturn new Iterator&lt;E&gt;() {\r\n\t\t\tListElement current = tail;\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic boolean hasNext() {\r\n\t\t\t\treturn current != null;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic E next() {\r\n\t\t\t\tif ( current == null )\r\n\t\t\t\t\treturn null;\r\n\t\t\t\tE next = current.getElement();\r\n\t\t\t\tcurrent = current.getHeadwards();\r\n\t\t\t\treturn next;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void remove() {\r\n\t\t\t\tthrow new IllegalArgumentException( &quot;Cannot remove from this list.&quot; );\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n}\r\n```\r\n\r\nThen, you can implement an O(N) depth-first solution using:\r\n\r\n``` java\r\nimport java.util.Iterator;\r\n\r\npublic class Employee\r\n{\r\n    private static UnmodifiableLinkList&lt;Employee&gt; ALL_EMPLOYEES\r\n        = new UnmodifiableLinkList&lt;Employee&gt;();\r\n\r\n    private String   id;\r\n    private Employee manager;\r\n    private String   city;\r\n    private UnmodifiableLinkList&lt;Employee&gt; reports;\r\n    private String   phone;\r\n\r\n    public Employee(\r\n        final String   id,\r\n        final Employee manager,\r\n        final String   city,\r\n        final String   phone\r\n    )\r\n    {\r\n        this.id      = id;\r\n        this.manager = manager;\r\n        this.city    = city;\r\n        this.phone   = phone;\r\n        this.reports = new UnmodifiableLinkList&lt;Employee&gt;();\r\n        if (this.manager != null)\r\n        {\r\n            this.manager.reports.addTail(this);\r\n        }\r\n        ALL_EMPLOYEES.addTail(this);\r\n    }\r\n\r\n    public boolean hasReportsInDifferentCities()\r\n    {\r\n        Iterator&lt;Employee&gt; reportIterator = this.reports.iterator();\r\n        if (!reportIterator.hasNext())\r\n        {\r\n            return false;\r\n        }\r\n        String city = reportIterator.next().city;\r\n        while (reportIterator.hasNext())\r\n        {\r\n            if (city != reportIterator.next().city)\r\n            {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public UnmodifiableLinkList&lt;Employee&gt; dfs()\r\n    {\r\n        UnmodifiableLinkList&lt;Employee&gt; matches = new UnmodifiableLinkList&lt;&gt;();\r\n        for (final Employee employee: this.reports)\r\n        {\r\n            UnmodifiableLinkList&lt;Employee&gt; empMatches = employee.dfs();\r\n            if (!empMatches.isEmpty())\r\n            {\r\n                matches.addAllTail(empMatches);\r\n            }\r\n        }\r\n        if (!matches.isEmpty() || this.hasReportsInDifferentCities())\r\n        {\r\n            matches.addHead(this);\r\n        }\r\n        return matches;\r\n    }\r\n\r\n    public String toString()\r\n    {\r\n        return this.id + &quot;: &quot; + this.phone;\r\n    }\r\n\r\n    public static void main(\r\n        final String[] args\r\n    )\r\n    {\r\n        Employee e1 = new Employee(&quot;e1&quot;, null, &quot;SF&quot;, &quot;phone-1&quot;);\r\n        Employee e2 = new Employee(&quot;e2&quot;, e1, &quot;SF&quot;, &quot;phone-2&quot;);\r\n        Employee e3 = new Employee(&quot;e3&quot;, e1, &quot;SF&quot;, &quot;phone-3&quot;);\r\n        new Employee(&quot;e4&quot;, e2, &quot;SF&quot;, &quot;phone-4&quot;);\r\n        new Employee(&quot;e5&quot;, e2, &quot;PH&quot;, &quot;phone-5&quot;);\r\n        new Employee(&quot;e6&quot;, e3, &quot;NY&quot;, &quot;phone-6&quot;);\r\n\r\n        for (Employee employee: ALL_EMPLOYEES)\r\n        {\r\n            if (employee.manager == null)\r\n            {\r\n                // Root of the hierarchy\r\n                UnmodifiableLinkList&lt;Employee&gt; matches = employee.dfs();\r\n                System.out.println(matches);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhich outputs:\r\n\r\n&gt; ``` none\r\n&gt; &lt;e1: phone-1, e2: phone-2&gt;\r\n&gt; ```\r\n\r\n---\r\n\r\n### Time Complexity:\r\n\r\n - The `hasReportsInDifferentCities` method will iterate over each `report` for that Employee so, for an individual employee is `O(R)` where `R` is the number of reports. However, for each tree hierarchy of employees, there are `T` employees in the tree and there will be `1` top level manager and `T-1` reportees and each reportee only has a single manager; therefore, when traversing the entire tree the `hasReportsInDifferentCities` method will be called `T` times and iterates over each of the `T-1` relationships between manager-and-reportees only once and therefore to process the entire tree the complexity is O(T) [and the average time complexity of a call to the `hasReportsInDifferentCities` method when amortised over the entire tree is O(1)].\r\n - Similarly, the `dfs` method will, for each Employee, iterate over its `report` and for `R` reportees will be O(R); however, with exactly the same logic as above, for a tree the `T` employees the total number of reports will be `T-1` then for each Employee to iterate over its reports once to perform the DFS and then potentially a second time in a call to `hasReportsInDifferentCities` will mean that each of the `T-1` manager-reportee relationships will be processed at most twice and the total time complexity of processing the entire tree is O(T) [and, similarly, the average time complexity of a call to the `dfs` method when amortised over the entire tree is O(1)].\r\n - The `main` method will:\r\n     - create `N` employees each in constant time for a total of O(N).\r\n     - loop through all `N` employees and call the `dfs` method only if the employee is a top-level manager splitting the employees up into a forest of trees (in this case, a single tree but there is the potential for multiple disjoint trees). If the N employees are split into disjoint trees with the number of employees T&lt;sub&gt;1&lt;/sub&gt; ... T&lt;sub&gt;m&lt;/sub&gt; then Σ&lt;sub&gt;k=1..m&lt;/sub&gt;T = N and given that the `dfs` function for T employees has the time complexity O(T) then the total time complexity for processing all the trees will be O(N).","title":"Optimal way to find manager phone number whose subordinates live in more than one city in a graph","body":"<p>The collections in the <code>java.util</code> package all implement the <code>addAll</code> method in O(N) time complexity (since elements are added one-by-one rather than combining the two collections directly).</p>\n<p>To get an O(N) solution, you need a data structure that can combine two linked lists in O(1) time which means that you need to create your own class (here is one that was prepared earlier, but is slightly over-engineered for your purposes):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ConcurrentModificationException;\nimport java.util.Iterator;\n\n/**\n * &lt;p&gt;A doubly linked list structure that allows elements of the given enumerated type\n * to be added to, or retrieved from, the head or tail of the list and can iterate over\n * the entire list. The structure has no capability to: remove items from the list; edit\n * the order of the list; insert items in the middle of the list; or directly access\n * elements in the middle of the list.&lt;/p&gt;\n * \n * &lt;p&gt;The structure can be accessed in Constant time to:&lt;/p&gt;\n * &lt;ul&gt;\n * &lt;li&gt;Add an element to the head or tail;&lt;/li&gt;\n * &lt;li&gt;Concatenate this list with another of the same enumerated type;&lt;/li&gt;\n * &lt;li&gt;Retrieve the head or tail element of the list; and&lt;/li&gt;\n * &lt;li&gt;Get the next element in the list from the iterator.&lt;/li&gt;\n * &lt;/ul&gt;\n * &lt;p&gt;The structure can be accessed in Linear tile to:&lt;/p&gt;\n * &lt;ul&gt;\n * &lt;li&gt;Query the list to see if it contains an element; and&lt;/li&gt;\n * &lt;li&gt;Get a string representation of the list.&lt;/li&gt;\n * &lt;/ul&gt;\n *\n * @param &lt;E&gt;\n */\npublic class UnmodifiableLinkList&lt;E&gt; implements Iterable&lt;E&gt; {\n    /**\n     * Whether elements can be removed from the list.\n     */\n    protected boolean isModifiable = false;\n\n    /**\n     * The wrapper for the head element of the list.\n     */\n    protected ListElement head = null;\n\n    /**\n     * The wrapper for the tail element of the list.\n     */\n    protected ListElement tail = null;\n\n    /**\n     * The number of elements in the list.\n     */\n    protected int size = 0;\n\n    /**\n     * A reference variable to track changes to the data structure and\n     * is used to highlight concurrent modification exceptions.\n     */\n    protected long changes = Long.MIN_VALUE;\n\n    /**\n     * Checks whether elements can be removed from the list.\n     * @return boolean\n     */\n    public boolean canRemoveElements() {\n        return isModifiable;\n    }\n\n    /**\n     * Checks whether there are no elements in the list.\n     * @return boolean\n     */\n    public boolean isEmpty() {\n        return size() == 0;\n    }\n\n    /**\n     * Add an element to the head of the list.\n     * \n     * @param element - The non-null element to be added.\n     * @throws ConcurrentModificationException Thrown if the list is modified\n     *          during the execution of this method. \n     * @throws IllegalArgumentException Thrown if the head of the list is connected\n     *          to another list and cannot be appended to.\n     */\n    public void addHead( E element ) {\n        if ( element == null )\n            throw new IllegalArgumentException( &quot;Cannot add a null element.&quot; );\n        if ( head != null &amp;&amp; head.getHeadwards() != null )\n            throw new IllegalArgumentException( &quot;Head element is connected to another list and cannot be appended to.&quot;);\n        long change = changes;\n        if ( size == 0 ) {\n            head = tail = new ListElement( element );\n        } else {\n            ListElement le = new ListElement( element );\n            le.setTailwards( head );\n            head.setHeadwards( le );\n            head = le;\n        }\n        size++;\n        if ( change != changes )\n            throw new ConcurrentModificationException();\n        incrementChange();\n    }\n\n    /**\n     * Add an element to the tail of the list.\n     * \n     * @param element - The non-null element to be added.\n     * @throws ConcurrentModificationException Thrown if the list is modified\n     *          during the execution of this method.\n     * @throws IllegalArgumentException Thrown if the tail of the list is connected\n     *          to another list and cannot be appended to.\n     */\n    public void addTail( E element ) {\n        if ( element == null )\n            throw new IllegalArgumentException( &quot;Cannot add a null element.&quot; );\n        if ( tail != null &amp;&amp; tail.getTailwards() != null )\n            throw new IllegalArgumentException( &quot;Tail element is connected to another list and cannot be appended to.&quot;);\n        long change = changes;\n        if ( size == 0 ) {\n            head = tail = new ListElement( element );\n        } else {\n            ListElement le = new ListElement( element );\n            le.setHeadwards( tail );\n            tail.setTailwards( le );\n            tail = le;\n        }\n        size++;\n        if ( change != changes )\n            throw new ConcurrentModificationException();\n        incrementChange();\n    }\n\n    /**\n     * Returns the head element from the list or null if the list is empty.\n     * \n     * @return &amp;lt;E&amp;gt;\n     */\n    public E getHead() {\n        if ( size == 0 )\n            return null;\n        return head.getElement();\n    }\n\n    /**\n     * Returns the tail element from the list or null if the list is empty.\n     * \n     * @return &amp;lt;E&amp;gt;\n     */\n    public E getTail() {\n        if ( size == 0 )\n            return null;\n        return tail.getElement();\n    }\n\n    /**\n     * Returns the element before the tail element from the list or null if\n     * the list does not have at least two elements.\n     * \n     * @return &amp;lt;E&amp;gt;\n     */\n    public E getPenultimateTail() {\n        if ( size &lt; 2 )\n            return null;\n        return tail.getHeadwards().getElement();\n    }\n\n    /**\n     * Returns the size of the list.\n     * @return int\n     */\n    public int size() {\n        return size;\n    }\n\n    /**\n     * Appends the contents of the given list to the head of this list.\n     * \n     * @param list - A non-null list of the same enumerated type.\n     * @throws IllegalArgumentException Thrown if the head of this list or the tail\n     *          of the given list are connected to another list and, therefore, cannot\n     *          be appended to.\n     */\n    public void addAllHead( UnmodifiableLinkList&lt;E&gt; list ) {\n        if ( list == null )\n            throw new IllegalArgumentException( &quot;Cannot append a null list.&quot; );\n        if ( head != null &amp;&amp; head.getHeadwards() != null )\n            throw new IllegalArgumentException( &quot;This list's head element is connected to another list and cannot be appended to.&quot;);\n        if ( list.tail != null &amp;&amp; list.tail.getTailwards() != null )\n            throw new IllegalArgumentException( &quot;Given list's tail element is connected to another list and cannot be appended to.&quot;);\n        if ( list.size() == 0 )\n            return;\n        long change = changes;\n        long listChange = list.changes;\n\n        isModifiable &amp;= list.isModifiable;\n\n        if ( size == 0 ) {\n            head = list.head;\n            tail = list.tail;\n            size = list.size;\n        } else {\n            head.setHeadwards( list.tail );\n            list.tail.setTailwards( head );\n            head = list.head;\n            size += list.size;\n        }\n\n        list.head = list.tail = null;\n        list.size = 0;\n\n        if ( change != changes || listChange != list.changes )\n            throw new ConcurrentModificationException();\n        incrementChange();\n    }\n\n    /**\n     * Appends the contents of the given list to the tail of this list.\n     * \n     * @param list - A non-null list of the same enumerated type.\n     * @throws IllegalArgumentException Thrown if the tail of this list or the head\n     *          of the given list are connected to another list and, therefore, cannot\n     *          be appended to.\n     */\n    public void addAllTail( UnmodifiableLinkList&lt;E&gt; list ) {\n        if ( list == null )\n            throw new IllegalArgumentException( &quot;Cannot append a null list.&quot; );\n        if ( tail != null &amp;&amp; tail.getTailwards() != null )\n            throw new IllegalArgumentException( &quot;This list's tail element is connected to another list and cannot be appended to.&quot;);\n        if ( list.head != null &amp;&amp; list.head.getHeadwards() != null )\n            throw new IllegalArgumentException( &quot;Given list's head element is connected to another list and cannot be appended to.&quot;);\n        if ( list.size() == 0 )\n            return;\n        long change = changes;\n        long listChange = list.changes;\n\n        isModifiable &amp;= list.isModifiable;\n\n        if ( size == 0 ) {\n            head = list.head;\n            tail = list.tail;\n            size = list.size;\n        } else {\n            tail.setTailwards( list.head );\n            list.head.setHeadwards( tail );\n            tail = list.tail;\n            size += list.size;\n        }\n\n        list.head = list.tail = null;\n        list.size = 0;\n\n        if ( change != changes || listChange != list.changes )\n            throw new ConcurrentModificationException();\n        incrementChange();\n    }\n\n    /**\n     * Checks whether a given element is contained within the list.\n     * @param element - The element to locate in the list. \n     * @return boolean\n     */\n    public boolean contains( final E element ) {\n        return findElement( element ) != null;\n    }\n\n    /**\n     * Finds the internal list data structure containing the given element\n     * within the list. \n     * @param element - The element to locate in the list.\n     * @return ListElement\n     */\n    protected ListElement findElement( final E element ) {\n        ListElement current = head;\n        while ( current != null ) {\n            if ( current.getElement() == element )\n                return current;\n            current = current.getTailwards();\n        }\n        return null;\n    }\n\n    /**\n     * Returns a comma-space separated sequence representing the contents\n     * of the list. The return value is bracketed by angle brackets (&lt;&gt;). \n     * @see UnmodifiableLinkList#toString(String) toString( String )\n     * @return String \n     */\n    public String toString() {\n        return toString( &quot;, &quot; );\n    }\n\n    /**\n     * Returns a sequence representing the contents of the list. The return\n     * value is bracketed by angle brackets (&lt;&gt;) and pairs of elements are\n     * separated by the value of the function's separator argument. \n     * @param separator - A string defining the separator between list\n     *          elements.\n     * @return String\n     */\n    public String toString( String separator ) {\n        StringBuffer b = new StringBuffer();\n        b.append( '&lt;' );\n        boolean first = true;\n        for ( E e: this ) {\n            if ( first )\n                first = false;\n            else\n                b.append( separator );\n            b.append( e );\n        }\n        b.append( '&gt;' );\n        return b.toString();\n        \n    }\n\n    /**\n     * &lt;p&gt;Increments the counter recording the number of changes to the\n     * data structure.&lt;/p&gt;\n     * &lt;p&gt;Used as a simple (imperfect) method to detect concurrent\n     * modification of a list.&lt;/p&gt;\n     */\n    protected synchronized void incrementChange() {\n        if ( changes == Long.MAX_VALUE )\n            changes = Long.MIN_VALUE;\n        else\n            changes++;\n    }\n\n    /**\n     * &lt;p&gt;The data structure used to store a single element of data within\n     * the list&lt;/p&gt;\n     */\n    protected class ListElement {\n        private E element;\n        private ListElement tailwards = null;\n        private ListElement headwards = null;\n\n        protected ListElement( E element ) {\n            this.element = element;\n        }\n\n        protected void setElement( E element )          { this.element = element; }\n        protected void setTailwards( ListElement next ) { this.tailwards = next; }\n        protected void setHeadwards( ListElement prev ) { this.headwards = prev; }\n\n        protected E getElement()    { return element; }\n        protected ListElement getTailwards()    { return tailwards; }\n        protected ListElement getHeadwards()    { return headwards; }\n    }\n\n    /**\n     * Returns an iterator to loop through the list from head-to-tail.\n     * @return Iterator&lt;E&gt;\n     */\n    @Override\n    public Iterator&lt;E&gt; iterator() {\n        return new Iterator&lt;E&gt;() {\n            ListElement current = head;\n\n            @Override\n            public boolean hasNext() {\n                return current != null;\n            }\n\n            @Override\n            public E next() {\n                if ( current == null )\n                    return null;\n                E next = current.getElement();\n                current = current.getTailwards();\n                return next;\n            }\n\n            @Override\n            public void remove() {\n                throw new IllegalArgumentException( &quot;Cannot remove from this list.&quot; );\n            }\n        };\n    }\n\n    /**\n     * Returns an iterator to loop through the list from tail-to-head.\n     * @return Iterator&lt;E&gt;\n     */\n    public Iterator&lt;E&gt; reverseIterator() {\n        return new Iterator&lt;E&gt;() {\n            ListElement current = tail;\n\n            @Override\n            public boolean hasNext() {\n                return current != null;\n            }\n\n            @Override\n            public E next() {\n                if ( current == null )\n                    return null;\n                E next = current.getElement();\n                current = current.getHeadwards();\n                return next;\n            }\n\n            @Override\n            public void remove() {\n                throw new IllegalArgumentException( &quot;Cannot remove from this list.&quot; );\n            }\n        };\n    }\n}\n</code></pre>\n<p>Then, you can implement an O(N) depth-first solution using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Iterator;\n\npublic class Employee\n{\n    private static UnmodifiableLinkList&lt;Employee&gt; ALL_EMPLOYEES\n        = new UnmodifiableLinkList&lt;Employee&gt;();\n\n    private String   id;\n    private Employee manager;\n    private String   city;\n    private UnmodifiableLinkList&lt;Employee&gt; reports;\n    private String   phone;\n\n    public Employee(\n        final String   id,\n        final Employee manager,\n        final String   city,\n        final String   phone\n    )\n    {\n        this.id      = id;\n        this.manager = manager;\n        this.city    = city;\n        this.phone   = phone;\n        this.reports = new UnmodifiableLinkList&lt;Employee&gt;();\n        if (this.manager != null)\n        {\n            this.manager.reports.addTail(this);\n        }\n        ALL_EMPLOYEES.addTail(this);\n    }\n\n    public boolean hasReportsInDifferentCities()\n    {\n        Iterator&lt;Employee&gt; reportIterator = this.reports.iterator();\n        if (!reportIterator.hasNext())\n        {\n            return false;\n        }\n        String city = reportIterator.next().city;\n        while (reportIterator.hasNext())\n        {\n            if (city != reportIterator.next().city)\n            {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    public UnmodifiableLinkList&lt;Employee&gt; dfs()\n    {\n        UnmodifiableLinkList&lt;Employee&gt; matches = new UnmodifiableLinkList&lt;&gt;();\n        for (final Employee employee: this.reports)\n        {\n            UnmodifiableLinkList&lt;Employee&gt; empMatches = employee.dfs();\n            if (!empMatches.isEmpty())\n            {\n                matches.addAllTail(empMatches);\n            }\n        }\n        if (!matches.isEmpty() || this.hasReportsInDifferentCities())\n        {\n            matches.addHead(this);\n        }\n        return matches;\n    }\n\n    public String toString()\n    {\n        return this.id + &quot;: &quot; + this.phone;\n    }\n\n    public static void main(\n        final String[] args\n    )\n    {\n        Employee e1 = new Employee(&quot;e1&quot;, null, &quot;SF&quot;, &quot;phone-1&quot;);\n        Employee e2 = new Employee(&quot;e2&quot;, e1, &quot;SF&quot;, &quot;phone-2&quot;);\n        Employee e3 = new Employee(&quot;e3&quot;, e1, &quot;SF&quot;, &quot;phone-3&quot;);\n        new Employee(&quot;e4&quot;, e2, &quot;SF&quot;, &quot;phone-4&quot;);\n        new Employee(&quot;e5&quot;, e2, &quot;PH&quot;, &quot;phone-5&quot;);\n        new Employee(&quot;e6&quot;, e3, &quot;NY&quot;, &quot;phone-6&quot;);\n\n        for (Employee employee: ALL_EMPLOYEES)\n        {\n            if (employee.manager == null)\n            {\n                // Root of the hierarchy\n                UnmodifiableLinkList&lt;Employee&gt; matches = employee.dfs();\n                System.out.println(matches);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Which outputs:</p>\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>&lt;e1: phone-1, e2: phone-2&gt;\n</code></pre>\n</blockquote>\n<hr />\n<h3>Time Complexity:</h3>\n<ul>\n<li>The <code>hasReportsInDifferentCities</code> method will iterate over each <code>report</code> for that Employee so, for an individual employee is <code>O(R)</code> where <code>R</code> is the number of reports. However, for each tree hierarchy of employees, there are <code>T</code> employees in the tree and there will be <code>1</code> top level manager and <code>T-1</code> reportees and each reportee only has a single manager; therefore, when traversing the entire tree the <code>hasReportsInDifferentCities</code> method will be called <code>T</code> times and iterates over each of the <code>T-1</code> relationships between manager-and-reportees only once and therefore to process the entire tree the complexity is O(T) [and the average time complexity of a call to the <code>hasReportsInDifferentCities</code> method when amortised over the entire tree is O(1)].</li>\n<li>Similarly, the <code>dfs</code> method will, for each Employee, iterate over its <code>report</code> and for <code>R</code> reportees will be O(R); however, with exactly the same logic as above, for a tree the <code>T</code> employees the total number of reports will be <code>T-1</code> then for each Employee to iterate over its reports once to perform the DFS and then potentially a second time in a call to <code>hasReportsInDifferentCities</code> will mean that each of the <code>T-1</code> manager-reportee relationships will be processed at most twice and the total time complexity of processing the entire tree is O(T) [and, similarly, the average time complexity of a call to the <code>dfs</code> method when amortised over the entire tree is O(1)].</li>\n<li>The <code>main</code> method will:\n<ul>\n<li>create <code>N</code> employees each in constant time for a total of O(N).</li>\n<li>loop through all <code>N</code> employees and call the <code>dfs</code> method only if the employee is a top-level manager splitting the employees up into a forest of trees (in this case, a single tree but there is the potential for multiple disjoint trees). If the N employees are split into disjoint trees with the number of employees T<sub>1</sub> ... T<sub>m</sub> then Σ<sub>k=1..m</sub>T = N and given that the <code>dfs</code> function for T employees has the time complexity O(T) then the total time complexity for processing all the trees will be O(N).</li>\n</ul>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659193967,"creation_date":1659129931,"answer_id":73171134,"question_id":73102698,"body_markdown":"For this problem, we can model relationships between employee as a [*Directed Acyclic Graph*](https://en.wikipedia.org/wiki/Directed_acyclic_graph) (*or DAG*) perfectly well.\r\n\r\nThat will allow finding managers having subordinates that from at least two different cities in a liner time **O(n)**.\r\n\r\nFor this task we don&#39;t need to distinguish between the job-rolls, meaning we can assume that each *employee* can potentially have a *manager* and *subordinates*, the vertex of the graph would represented by the `Employee` class.\r\n\r\nThere would be no cycles in this *graph* because according to the sample data each *employee* can have *at most* one manager (I&#39;ll ignore the case with employee `e1` which happens to be the boss to themself because it doesn&#39;t make sense from the perspective of this problem), and connected vertexes would from so-called *N-ary tree*.\r\n\r\nThere also could be a situation when there are several groups of employee that have no connection with each other, they will form so-called [*connected components*](https://en.wikipedia.org/wiki/Component_(graph_theory)). To ensure that all vertexes would be examined in case when *graph* contains several *connected components*, we need to iterate over the collection of all vertexes and fire the traversal algorithm for every vertex that hasn&#39;t been encountered yet.\r\n\r\nTo understand the logic of traversal, let&#39;s consider the following graph of employees.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see, *Employee-1* (with `id1`) and *Employee-3* (with `id3`) are marked with a green tick denoted that they have subordinates that live in more than one city. Orange arrows represent relation *employee-subordinates*, black arrows - *direction of traversal*.\r\n\r\nLet&#39;s assume traversal starts from *Employee-1*. To traverse the *graph*, we would use the [*Depth first search algorithm*](https://en.wikipedia.org/wiki/Depth-first_search) (*for short DFS*), tweaked a little bit for our purposes. Internally it uses a *stack* data structure (in the code below denoted simply as `stack`). And in every branch when we hit the employee that has no subordinates we need to be able to traverse backwards *propagating the properties* (that&#39;s the tweak I&#39;ve mentioned), and for that we will use another *stack* (denoted as `isBeingVisited`, meaning that we are not done yet with examining the employees it contains because we are traversing their subordinates).\r\n\r\nSo we are starting by allocating *Employee-1* on the top of the `stack`. Each step of the traversal begins with removing an element from of `stack`. And initially we have only *Employee-1*, it&#39;s being removed and since it has subordinates it would be placed on the top of the stack `isBeingVisited`, and its subordinates *Employee-2* and *Employee-3* would be pushed onto the `stack`.\r\n\r\nAt the beginning of the second step, we have *Employee-3* on the top of the `stack`. It&#39;s being removing and allocated on the top of the `isBeingVisited`, while its subordinates *Employee-4* and *Employee-5* would be pushed onto the `stack`.\r\n\r\nThe third step would start with removal *Employee-5* from the `stack` pushing it onto the `isBeingVisited` and allocating its subordinate *Employee-6* on the `stack`.\r\n\r\nHere we&#39;ve reached the leave of the *N-ary tree*, it means two things: *Employee-6* has no chances to appear in the resulting list (they luck subordinates) and we don&#39;t need to push them into `isBeingVisited` (we&#39;re done here), but as the last action to tell its manages where they leave. So we are starting to moving backwards, propagating either the properties, which is either a `boolaen` field `isSelected` (denoting whether this employee matches the given criterion), or a *set* of cities (for more detail see the implementation of `propagateSelection()`). \r\n\r\n***Note:** in the code logic for backward traversal decoupled from the DFS-implementation, and stack `isBeingVisited` is being processed in one go.*\r\n\r\nIn short, method `getSelectedEmployee()` fires the traversal by invoking DFS-implementation, method `dfs()`, whenever it encounters the vertex that hasn&#39;t been seen before. And when `dfs()` is done, method `select()` performs traversal in the backward direction (from subordinate to manager), propagating the properties of the subordinates and populating the resulting list.\r\n\r\nThe implementation might of the *graph* might look like this.\r\n\r\n    public static class EmployeeGraph {\r\n        \r\n        private Map&lt;String, Employee&gt; employeeById = new HashMap&lt;&gt;();\r\n        \r\n        public List&lt;Employee&gt; getSelectedEmployee() {\r\n            List&lt;Employee&gt; result = new ArrayList&lt;&gt;();  // will store the managers having subordinates from more than one city\r\n            Deque&lt;Employee&gt; stack = new ArrayDeque&lt;&gt;(); // will be used for performing traversal in the DFS implementation\r\n            Set&lt;Employee&gt; seen = new HashSet&lt;&gt;();       // is meant to store every encountered vertex\r\n            \r\n            for (Employee next : employeeById.values()) {\r\n                if (!seen.contains(next)) {\r\n                    stack.push(next);\r\n                    seen.add(next);\r\n                    dfs(result, stack, seen);\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n        \r\n        private void dfs(List&lt;Employee&gt; result, Deque&lt;Employee&gt; stack, Set&lt;Employee&gt; seen) { // DFS implementation\r\n            Deque&lt;Employee&gt; isBeingVisited = new ArrayDeque&lt;&gt;(); // stack of vertices that are being visited, i.e. managers which subordinates haven&#39;t been fully examined\r\n            \r\n            while (!stack.isEmpty()) {\r\n                Employee current = stack.pop();\r\n                List&lt;Employee&gt; subordinates = current.getSubordinates();\r\n                \r\n                if (subordinates.isEmpty()) {\r\n                    current.propagateSelection(); // share the city with a direct manager\r\n                } else {\r\n                    isBeingVisited.push(current);\r\n                    for (Employee subordinate: current.getSubordinates()) {\r\n                        if (seen.add(subordinate)) stack.push(subordinate); // allocating subordinates on the stack\r\n                    }\r\n                }\r\n            }\r\n            select(result, isBeingVisited); // examining the properties of managers that has been visited\r\n        }\r\n        \r\n        private void select(List&lt;Employee&gt; result, Deque&lt;Employee&gt; isBeingVisited) {\r\n            while (!isBeingVisited.isEmpty()) {\r\n                Employee manager = isBeingVisited.pop();\r\n                if (manager.isSelected()) result.add(manager); // if manager is marked as selected - add to the result list\r\n                manager.propagateSelection();                  // propagating the properties to the direct manager (if any)\r\n            }\r\n        }\r\n        \r\n        // NOT a part of the Algorithm - convenience-method for initializing the graph by parsing string arguments into instances of employee\r\n        public void addEmployee(String... args) {\r\n            if (args.length == 1) {\r\n                employeeById.computeIfAbsent(args[0], Employee::new);\r\n            } else if (args.length == 4) {\r\n                Employee manager = args[1] != null ? employeeById.computeIfAbsent(args[1], Employee::new) : null;\r\n                \r\n                if (employeeById.containsKey(args[0])) {\r\n                    Employee employee = employeeById.get(args[0]);\r\n                    \r\n                    employee.setManager(manager)\r\n                        .setCity(args[2])\r\n                        .setPhone(args[3]);\r\n                } else {\r\n                    employeeById.put(args[0], new Employee(args[0],manager, args[2], args[3]));\r\n                }\r\n                \r\n                if (args[1] != null) {\r\n                    manager.addSubordinate(employeeById.get(args[0]));\r\n                }\r\n            } else {\r\n                throw new IllegalArgumentException();\r\n            }\r\n        }\r\n        \r\n        public static class Employee {\r\n            private String id;\r\n            private String city;\r\n            private String phone;\r\n            private Employee manager;\r\n            private List&lt;Employee&gt; subordinates = new ArrayList&lt;&gt;();\r\n            \r\n            private Set&lt;String&gt; subordinateCities = new HashSet&lt;&gt;();\r\n            private boolean isSelected;\r\n            \r\n            public Employee(String id) {\r\n                this.id = id;\r\n            }\r\n            \r\n            public Employee(String id, Employee manager, String city, String phone) {\r\n                this.id = id;\r\n                this.city = city;\r\n                this.phone = phone;\r\n                this.manager = manager;\r\n            }\r\n            \r\n            public void addSubordinate(Employee employee) {\r\n                subordinates.add(employee);\r\n            }\r\n            \r\n            public void propagateSelection() {\r\n                if (manager == null) return;\r\n                \r\n                if (isSelected) {\r\n                    manager.setSelected();\r\n                } else {\r\n                    shareSubordinateCitiesWithManager();\r\n                    manager.trySelect();\r\n                }\r\n            }\r\n            \r\n            public void shareSubordinateCitiesWithManager() {\r\n                Set&lt;String&gt; managersSubCities = manager.subordinateCities;\r\n                managersSubCities.addAll(this.subordinateCities);\r\n                managersSubCities.add(this.city);\r\n            }\r\n            \r\n            public void trySelect() {\r\n                if (subordinateCities.size() &gt;= 2) {\r\n                    setSelected();\r\n                }\r\n            }\r\n            \r\n            public List&lt;Employee&gt; getSubordinates() {\r\n                return subordinates;\r\n            }\r\n    \r\n            public String getPhone() {\r\n                return phone;\r\n            }\r\n            \r\n            public void setSelected() {\r\n                isSelected = true;\r\n            }\r\n            \r\n            public boolean isSelected() {\r\n                return isSelected;\r\n            }\r\n    \r\n            public Employee setCity(String city) {\r\n                this.city = city;\r\n                return this;\r\n            }\r\n    \r\n            public Employee setPhone(String phone) {\r\n                this.phone = phone;\r\n                return this;\r\n            }\r\n    \r\n            public Employee setManager(Employee manager) {\r\n                this.manager = manager;\r\n                return this;\r\n            }\r\n        }\r\n    }\r\n\r\n***Note:** as suggested by the documentation, as the implementation of the *stack data structure* we need to use classes that implement `Deque` interface (class `Stack` is legacy and shouldn&#39;t be used). And the best choice when we need a general purpose implementation of the `Deque` is an `ArrayDeque`, which is backed by the plain array as its name suggests, and its methods are much chipper than corresponding methods of the `LinkedList`. The only reason you can encounter `LinkedList` in the code, espesially while implementing graph traversal algorithms is because since the earlier days of Java it was the only general perpose implementation of the `Queue` and `Deque` interfaces until the Java 6 when `ArrayDeque` was introduced in the JDK.*\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        String[][] emps = new String[][]{\r\n            //&quot;EmployeeID&quot;, &quot;ManagerID&quot;, &quot;City&quot;, &quot;Phone number&quot;\r\n            {&quot;e1&quot;, null, &quot;SF&quot;, &quot;phone-1&quot;},\r\n            {&quot;e2&quot;, &quot;e1&quot;, &quot;SF&quot;, &quot;phone-2&quot;},\r\n            {&quot;e3&quot;, &quot;e1&quot;, &quot;SF&quot;, &quot;phone-3&quot;},\r\n            {&quot;e4&quot;, &quot;e2&quot;, &quot;SF&quot;, &quot;phone-4&quot;},\r\n            {&quot;e5&quot;, &quot;e2&quot;, &quot;PH&quot;, &quot;phone-5&quot;},\r\n            {&quot;e6&quot;, &quot;e3&quot;, &quot;NY&quot;, &quot;phone-6&quot;}\r\n        };\r\n    \r\n        EmployeeGraph graph = new EmployeeGraph();\r\n        for (String[] arr: emps) graph.addEmployee(arr); // initializing the graph\r\n        \r\n        graph.getSelectedEmployee().forEach(e -&gt; System.out.println(e.getPhone())); // printing the result - phones of the selected managers\r\n    }\r\n\r\n*Output:*\r\n```\r\nphone-2\r\nphone-1\r\n```\r\n\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/tD1)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X71EP.jpg","title":"Optimal way to find manager phone number whose subordinates live in more than one city in a graph","body":"<p>For this problem, we can model relationships between employee as a <a href=\"https://en.wikipedia.org/wiki/Directed_acyclic_graph\" rel=\"nofollow noreferrer\"><em>Directed Acyclic Graph</em></a> (<em>or DAG</em>) perfectly well.</p>\n<p>That will allow finding managers having subordinates that from at least two different cities in a liner time <strong>O(n)</strong>.</p>\n<p>For this task we don't need to distinguish between the job-rolls, meaning we can assume that each <em>employee</em> can potentially have a <em>manager</em> and <em>subordinates</em>, the vertex of the graph would represented by the <code>Employee</code> class.</p>\n<p>There would be no cycles in this <em>graph</em> because according to the sample data each <em>employee</em> can have <em>at most</em> one manager (I'll ignore the case with employee <code>e1</code> which happens to be the boss to themself because it doesn't make sense from the perspective of this problem), and connected vertexes would from so-called <em>N-ary tree</em>.</p>\n<p>There also could be a situation when there are several groups of employee that have no connection with each other, they will form so-called <a href=\"https://en.wikipedia.org/wiki/Component_(graph_theory)\" rel=\"nofollow noreferrer\"><em>connected components</em></a>. To ensure that all vertexes would be examined in case when <em>graph</em> contains several <em>connected components</em>, we need to iterate over the collection of all vertexes and fire the traversal algorithm for every vertex that hasn't been encountered yet.</p>\n<p>To understand the logic of traversal, let's consider the following graph of employees.</p>\n<p><a href=\"https://i.stack.imgur.com/X71EP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X71EP.jpg\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, <em>Employee-1</em> (with <code>id1</code>) and <em>Employee-3</em> (with <code>id3</code>) are marked with a green tick denoted that they have subordinates that live in more than one city. Orange arrows represent relation <em>employee-subordinates</em>, black arrows - <em>direction of traversal</em>.</p>\n<p>Let's assume traversal starts from <em>Employee-1</em>. To traverse the <em>graph</em>, we would use the <a href=\"https://en.wikipedia.org/wiki/Depth-first_search\" rel=\"nofollow noreferrer\"><em>Depth first search algorithm</em></a> (<em>for short DFS</em>), tweaked a little bit for our purposes. Internally it uses a <em>stack</em> data structure (in the code below denoted simply as <code>stack</code>). And in every branch when we hit the employee that has no subordinates we need to be able to traverse backwards <em>propagating the properties</em> (that's the tweak I've mentioned), and for that we will use another <em>stack</em> (denoted as <code>isBeingVisited</code>, meaning that we are not done yet with examining the employees it contains because we are traversing their subordinates).</p>\n<p>So we are starting by allocating <em>Employee-1</em> on the top of the <code>stack</code>. Each step of the traversal begins with removing an element from of <code>stack</code>. And initially we have only <em>Employee-1</em>, it's being removed and since it has subordinates it would be placed on the top of the stack <code>isBeingVisited</code>, and its subordinates <em>Employee-2</em> and <em>Employee-3</em> would be pushed onto the <code>stack</code>.</p>\n<p>At the beginning of the second step, we have <em>Employee-3</em> on the top of the <code>stack</code>. It's being removing and allocated on the top of the <code>isBeingVisited</code>, while its subordinates <em>Employee-4</em> and <em>Employee-5</em> would be pushed onto the <code>stack</code>.</p>\n<p>The third step would start with removal <em>Employee-5</em> from the <code>stack</code> pushing it onto the <code>isBeingVisited</code> and allocating its subordinate <em>Employee-6</em> on the <code>stack</code>.</p>\n<p>Here we've reached the leave of the <em>N-ary tree</em>, it means two things: <em>Employee-6</em> has no chances to appear in the resulting list (they luck subordinates) and we don't need to push them into <code>isBeingVisited</code> (we're done here), but as the last action to tell its manages where they leave. So we are starting to moving backwards, propagating either the properties, which is either a <code>boolaen</code> field <code>isSelected</code> (denoting whether this employee matches the given criterion), or a <em>set</em> of cities (for more detail see the implementation of <code>propagateSelection()</code>).</p>\n<p><em><strong>Note:</strong> in the code logic for backward traversal decoupled from the DFS-implementation, and stack <code>isBeingVisited</code> is being processed in one go.</em></p>\n<p>In short, method <code>getSelectedEmployee()</code> fires the traversal by invoking DFS-implementation, method <code>dfs()</code>, whenever it encounters the vertex that hasn't been seen before. And when <code>dfs()</code> is done, method <code>select()</code> performs traversal in the backward direction (from subordinate to manager), propagating the properties of the subordinates and populating the resulting list.</p>\n<p>The implementation might of the <em>graph</em> might look like this.</p>\n<pre><code>public static class EmployeeGraph {\n    \n    private Map&lt;String, Employee&gt; employeeById = new HashMap&lt;&gt;();\n    \n    public List&lt;Employee&gt; getSelectedEmployee() {\n        List&lt;Employee&gt; result = new ArrayList&lt;&gt;();  // will store the managers having subordinates from more than one city\n        Deque&lt;Employee&gt; stack = new ArrayDeque&lt;&gt;(); // will be used for performing traversal in the DFS implementation\n        Set&lt;Employee&gt; seen = new HashSet&lt;&gt;();       // is meant to store every encountered vertex\n        \n        for (Employee next : employeeById.values()) {\n            if (!seen.contains(next)) {\n                stack.push(next);\n                seen.add(next);\n                dfs(result, stack, seen);\n            }\n        }\n        return result;\n    }\n    \n    private void dfs(List&lt;Employee&gt; result, Deque&lt;Employee&gt; stack, Set&lt;Employee&gt; seen) { // DFS implementation\n        Deque&lt;Employee&gt; isBeingVisited = new ArrayDeque&lt;&gt;(); // stack of vertices that are being visited, i.e. managers which subordinates haven't been fully examined\n        \n        while (!stack.isEmpty()) {\n            Employee current = stack.pop();\n            List&lt;Employee&gt; subordinates = current.getSubordinates();\n            \n            if (subordinates.isEmpty()) {\n                current.propagateSelection(); // share the city with a direct manager\n            } else {\n                isBeingVisited.push(current);\n                for (Employee subordinate: current.getSubordinates()) {\n                    if (seen.add(subordinate)) stack.push(subordinate); // allocating subordinates on the stack\n                }\n            }\n        }\n        select(result, isBeingVisited); // examining the properties of managers that has been visited\n    }\n    \n    private void select(List&lt;Employee&gt; result, Deque&lt;Employee&gt; isBeingVisited) {\n        while (!isBeingVisited.isEmpty()) {\n            Employee manager = isBeingVisited.pop();\n            if (manager.isSelected()) result.add(manager); // if manager is marked as selected - add to the result list\n            manager.propagateSelection();                  // propagating the properties to the direct manager (if any)\n        }\n    }\n    \n    // NOT a part of the Algorithm - convenience-method for initializing the graph by parsing string arguments into instances of employee\n    public void addEmployee(String... args) {\n        if (args.length == 1) {\n            employeeById.computeIfAbsent(args[0], Employee::new);\n        } else if (args.length == 4) {\n            Employee manager = args[1] != null ? employeeById.computeIfAbsent(args[1], Employee::new) : null;\n            \n            if (employeeById.containsKey(args[0])) {\n                Employee employee = employeeById.get(args[0]);\n                \n                employee.setManager(manager)\n                    .setCity(args[2])\n                    .setPhone(args[3]);\n            } else {\n                employeeById.put(args[0], new Employee(args[0],manager, args[2], args[3]));\n            }\n            \n            if (args[1] != null) {\n                manager.addSubordinate(employeeById.get(args[0]));\n            }\n        } else {\n            throw new IllegalArgumentException();\n        }\n    }\n    \n    public static class Employee {\n        private String id;\n        private String city;\n        private String phone;\n        private Employee manager;\n        private List&lt;Employee&gt; subordinates = new ArrayList&lt;&gt;();\n        \n        private Set&lt;String&gt; subordinateCities = new HashSet&lt;&gt;();\n        private boolean isSelected;\n        \n        public Employee(String id) {\n            this.id = id;\n        }\n        \n        public Employee(String id, Employee manager, String city, String phone) {\n            this.id = id;\n            this.city = city;\n            this.phone = phone;\n            this.manager = manager;\n        }\n        \n        public void addSubordinate(Employee employee) {\n            subordinates.add(employee);\n        }\n        \n        public void propagateSelection() {\n            if (manager == null) return;\n            \n            if (isSelected) {\n                manager.setSelected();\n            } else {\n                shareSubordinateCitiesWithManager();\n                manager.trySelect();\n            }\n        }\n        \n        public void shareSubordinateCitiesWithManager() {\n            Set&lt;String&gt; managersSubCities = manager.subordinateCities;\n            managersSubCities.addAll(this.subordinateCities);\n            managersSubCities.add(this.city);\n        }\n        \n        public void trySelect() {\n            if (subordinateCities.size() &gt;= 2) {\n                setSelected();\n            }\n        }\n        \n        public List&lt;Employee&gt; getSubordinates() {\n            return subordinates;\n        }\n\n        public String getPhone() {\n            return phone;\n        }\n        \n        public void setSelected() {\n            isSelected = true;\n        }\n        \n        public boolean isSelected() {\n            return isSelected;\n        }\n\n        public Employee setCity(String city) {\n            this.city = city;\n            return this;\n        }\n\n        public Employee setPhone(String phone) {\n            this.phone = phone;\n            return this;\n        }\n\n        public Employee setManager(Employee manager) {\n            this.manager = manager;\n            return this;\n        }\n    }\n}\n</code></pre>\n<p><em><strong>Note:</strong> as suggested by the documentation, as the implementation of the <em>stack data structure</em> we need to use classes that implement <code>Deque</code> interface (class <code>Stack</code> is legacy and shouldn't be used). And the best choice when we need a general purpose implementation of the <code>Deque</code> is an <code>ArrayDeque</code>, which is backed by the plain array as its name suggests, and its methods are much chipper than corresponding methods of the <code>LinkedList</code>. The only reason you can encounter <code>LinkedList</code> in the code, espesially while implementing graph traversal algorithms is because since the earlier days of Java it was the only general perpose implementation of the <code>Queue</code> and <code>Deque</code> interfaces until the Java 6 when <code>ArrayDeque</code> was introduced in the JDK.</em></p>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    String[][] emps = new String[][]{\n        //&quot;EmployeeID&quot;, &quot;ManagerID&quot;, &quot;City&quot;, &quot;Phone number&quot;\n        {&quot;e1&quot;, null, &quot;SF&quot;, &quot;phone-1&quot;},\n        {&quot;e2&quot;, &quot;e1&quot;, &quot;SF&quot;, &quot;phone-2&quot;},\n        {&quot;e3&quot;, &quot;e1&quot;, &quot;SF&quot;, &quot;phone-3&quot;},\n        {&quot;e4&quot;, &quot;e2&quot;, &quot;SF&quot;, &quot;phone-4&quot;},\n        {&quot;e5&quot;, &quot;e2&quot;, &quot;PH&quot;, &quot;phone-5&quot;},\n        {&quot;e6&quot;, &quot;e3&quot;, &quot;NY&quot;, &quot;phone-6&quot;}\n    };\n\n    EmployeeGraph graph = new EmployeeGraph();\n    for (String[] arr: emps) graph.addEmployee(arr); // initializing the graph\n    \n    graph.getSelectedEmployee().forEach(e -&gt; System.out.println(e.getPhone())); // printing the result - phones of the selected managers\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>phone-2\nphone-1\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/tD1\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n"}],"owner":{"account_id":1310600,"reputation":3828,"user_id":1258669,"accept_rate":73,"display_name":"OTUser"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73171134,"answer_count":5,"score":1,"last_activity_date":1659193967,"creation_date":1658703928,"question_id":73102698,"body_markdown":"I am trying Find the phone numbers of all managers whose direct report hierarchy live in more than 1 city in `O(n)` time complexity. Below is my approach which is using with Time Complexity `O(M*N)` where M is the number of managers and N is the Number of employess.\r\nCan someone please help me with `O(N)` solution for this problem.\r\n\r\n\r\n\timport java.util.*;\r\n\r\n\tpublic class EmployeePhoneNums {\r\n\t\tpublic static void main(String[] args) {\t\t\t\r\n\t\t\tString[][] emps2 = new String[][]{\r\n         //&quot;EmployeeID&quot;, &quot;ManagerID&quot;, &quot;City&quot;, &quot;Phone number&quot;\r\n\t\t\t\t\t{&quot;e1&quot;, &quot;e1&quot;, &quot;SF&quot;, &quot;phone-1&quot;},\r\n\t\t\t\t\t{&quot;e2&quot;, &quot;e1&quot;, &quot;SF&quot;, &quot;phone-2&quot;},\r\n\t\t\t\t\t{&quot;e3&quot;, &quot;e1&quot;, &quot;SF&quot;, &quot;phone-3&quot;},\r\n\t\t\t\t\t{&quot;e4&quot;, &quot;e2&quot;, &quot;SF&quot;, &quot;phone-4&quot;},\r\n\t\t\t\t\t{&quot;e5&quot;, &quot;e2&quot;, &quot;PH&quot;, &quot;phone-5&quot;},\r\n\t\t\t\t\t{&quot;e6&quot;, &quot;e3&quot;, &quot;NY&quot;, &quot;phone-6&quot;}\t\t\t\t\t\r\n\t\t\t};\r\n\t\t\tMap&lt;String, String&gt; phoneNums = getmanagerPhoneNums(emps2);\r\n\t\t\tSystem.out.println(phoneNums);\r\n\t\t}\r\n\r\n\t\tpublic static Map&lt;String, String&gt; getmanagerPhoneNums(String[][] input) {\r\n\t\t\tMap&lt;String, String&gt; managerPhoneNums = new HashMap&lt;&gt;();\r\n\t\t\tMap&lt;String, String&gt; phoneMap = new HashMap&lt;&gt;();\r\n\t\t\tMap&lt;String, String&gt; cityMap = new HashMap&lt;&gt;();\r\n\t\t\tMap&lt;String, Set&lt;String&gt;&gt; mgrEmps = new HashMap&lt;&gt;();\r\n\t\t\tSet&lt;String&gt; managers = new LinkedHashSet&lt;&gt;();\r\n\t\t\tfor (String[] emp : input) {\r\n\t\t\t\tphoneMap.put(emp[0], emp[3]);\r\n\t\t\t\tcityMap.put(emp[0], emp[2]);\r\n\t\t\t\tmanagers.add(emp[1]);\r\n\t\t\t\tif (emp[0].equals(emp[1]))\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\telse {\r\n\t\t\t\t\tmgrEmps.putIfAbsent(emp[1], new HashSet&lt;&gt;());\r\n\t\t\t\t\tmgrEmps.get(emp[1]).add(emp[0]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println(mgrEmps);\r\n\t\t\tQueue&lt;String&gt; managersQ = new LinkedList&lt;&gt;(managers);\r\n\t\t\twhile (!managersQ.isEmpty()) {\r\n\t\t\t\tString manager = managersQ.poll();\r\n\t\t\t\tbfs(manager, mgrEmps, phoneMap, cityMap, managerPhoneNums);\r\n\t\t\t}\r\n\t\t\treturn managerPhoneNums;\r\n\t\t}\r\n\r\n\t\tpublic static void bfs(String manager, Map&lt;String, Set&lt;String&gt;&gt; mgrEmps, Map&lt;String, String&gt; phoneMap, Map&lt;String, String&gt; cityMap, Map&lt;String, String&gt; resultPhoneNums) {\r\n\t\t\tQueue&lt;String&gt; reportees = new LinkedList&lt;&gt;();\r\n\t\t\tif (mgrEmps.containsKey(manager)) reportees.addAll(mgrEmps.get(manager));\r\n\t\t\tSet&lt;String&gt; cities = new HashSet&lt;&gt;();\r\n\t\t\twhile (!reportees.isEmpty()) {\r\n\t\t\t\tint size = reportees.size();\r\n\t\t\t\tfor (int i = 0; i &lt; size; i++) {\r\n\t\t\t\t\tString emp = reportees.poll();\r\n\t\t\t\t\tif (mgrEmps.get(emp) != null &amp;&amp; mgrEmps.get(emp).size() &gt; 0) reportees.addAll(mgrEmps.get(emp));\r\n\t\t\t\t\tcities.add(cityMap.get(emp));\r\n\t\t\t\t\tif (cities.size() &gt; 1) break;\r\n\t\t\t\t}\r\n\t\t\t\tif (cities.size() &gt; 1) {\r\n\t\t\t\t\tresultPhoneNums.put(manager, phoneMap.get(manager));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"Optimal way to find manager phone number whose subordinates live in more than one city in a graph","body":"<p>I am trying Find the phone numbers of all managers whose direct report hierarchy live in more than 1 city in <code>O(n)</code> time complexity. Below is my approach which is using with Time Complexity <code>O(M*N)</code> where M is the number of managers and N is the Number of employess.\nCan someone please help me with <code>O(N)</code> solution for this problem.</p>\n<pre><code>import java.util.*;\n\npublic class EmployeePhoneNums {\n    public static void main(String[] args) {            \n        String[][] emps2 = new String[][]{\n     //&quot;EmployeeID&quot;, &quot;ManagerID&quot;, &quot;City&quot;, &quot;Phone number&quot;\n                {&quot;e1&quot;, &quot;e1&quot;, &quot;SF&quot;, &quot;phone-1&quot;},\n                {&quot;e2&quot;, &quot;e1&quot;, &quot;SF&quot;, &quot;phone-2&quot;},\n                {&quot;e3&quot;, &quot;e1&quot;, &quot;SF&quot;, &quot;phone-3&quot;},\n                {&quot;e4&quot;, &quot;e2&quot;, &quot;SF&quot;, &quot;phone-4&quot;},\n                {&quot;e5&quot;, &quot;e2&quot;, &quot;PH&quot;, &quot;phone-5&quot;},\n                {&quot;e6&quot;, &quot;e3&quot;, &quot;NY&quot;, &quot;phone-6&quot;}                   \n        };\n        Map&lt;String, String&gt; phoneNums = getmanagerPhoneNums(emps2);\n        System.out.println(phoneNums);\n    }\n\n    public static Map&lt;String, String&gt; getmanagerPhoneNums(String[][] input) {\n        Map&lt;String, String&gt; managerPhoneNums = new HashMap&lt;&gt;();\n        Map&lt;String, String&gt; phoneMap = new HashMap&lt;&gt;();\n        Map&lt;String, String&gt; cityMap = new HashMap&lt;&gt;();\n        Map&lt;String, Set&lt;String&gt;&gt; mgrEmps = new HashMap&lt;&gt;();\n        Set&lt;String&gt; managers = new LinkedHashSet&lt;&gt;();\n        for (String[] emp : input) {\n            phoneMap.put(emp[0], emp[3]);\n            cityMap.put(emp[0], emp[2]);\n            managers.add(emp[1]);\n            if (emp[0].equals(emp[1]))\n                continue;\n            else {\n                mgrEmps.putIfAbsent(emp[1], new HashSet&lt;&gt;());\n                mgrEmps.get(emp[1]).add(emp[0]);\n            }\n        }\n        System.out.println(mgrEmps);\n        Queue&lt;String&gt; managersQ = new LinkedList&lt;&gt;(managers);\n        while (!managersQ.isEmpty()) {\n            String manager = managersQ.poll();\n            bfs(manager, mgrEmps, phoneMap, cityMap, managerPhoneNums);\n        }\n        return managerPhoneNums;\n    }\n\n    public static void bfs(String manager, Map&lt;String, Set&lt;String&gt;&gt; mgrEmps, Map&lt;String, String&gt; phoneMap, Map&lt;String, String&gt; cityMap, Map&lt;String, String&gt; resultPhoneNums) {\n        Queue&lt;String&gt; reportees = new LinkedList&lt;&gt;();\n        if (mgrEmps.containsKey(manager)) reportees.addAll(mgrEmps.get(manager));\n        Set&lt;String&gt; cities = new HashSet&lt;&gt;();\n        while (!reportees.isEmpty()) {\n            int size = reportees.size();\n            for (int i = 0; i &lt; size; i++) {\n                String emp = reportees.poll();\n                if (mgrEmps.get(emp) != null &amp;&amp; mgrEmps.get(emp).size() &gt; 0) reportees.addAll(mgrEmps.get(emp));\n                cities.add(cityMap.get(emp));\n                if (cities.size() &gt; 1) break;\n            }\n            if (cities.size() &gt; 1) {\n                resultPhoneNums.put(manager, phoneMap.get(manager));\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","exception"],"comments":[{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":0,"creation_date":1659192134,"post_id":73176486,"comment_id":129237672,"body_markdown":"Please edit your question to show the code for CounterPartyRepository.","body":"Please edit your question to show the code for CounterPartyRepository."}],"answers":[{"tags":[],"owner":{"display_name":"user19030239"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659193805,"creation_date":1659193805,"answer_id":73176747,"question_id":73176486,"body_markdown":"Data access exception thrown when a result was expected to have at least one row (or element) but zero rows (or elements) were actually returned.\r\n\r\nUse a try-catch block to catch the exception if thrown and alter your logic accordingly so that when the code follows a happy path, at least one row is returned.\r\n\r\n&gt; try { //code to delete rows } catch(final\r\n&gt; EmptyResultDataAccessException e) { //exception message }\r\n\r\n","title":"org.springframework.dao.EmptyResultDataAccessException --&gt;Help me fix this","body":"<p>Data access exception thrown when a result was expected to have at least one row (or element) but zero rows (or elements) were actually returned.</p>\n<p>Use a try-catch block to catch the exception if thrown and alter your logic accordingly so that when the code follows a happy path, at least one row is returned.</p>\n<blockquote>\n<p>try { //code to delete rows } catch(final\nEmptyResultDataAccessException e) { //exception message }</p>\n</blockquote>\n"}],"owner":{"account_id":25916000,"reputation":3,"user_id":19639384,"display_name":"green"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73176747,"answer_count":1,"score":-1,"last_activity_date":1659193805,"creation_date":1659191770,"question_id":73176486,"body_markdown":"    public String deleteCounterParty(List&lt;CounterParty&gt;counterParties)\r\n    {\r\n        String message = &quot;&quot;;\r\n        for(CounterParty counterParty:counterParties) {\r\n            if (counterParty.getId() != null &amp;&amp; counterPartyRepository.getById(counterParty.getId()) != null) {\r\n                counterPartyRepository.deleteById(counterParty.getId());\r\n                message=&quot;deleted successfully&quot;;\r\n            }\r\n            else {\r\n                message=&quot;id not found&quot;;\r\n            }\r\n        }\r\n\r\n      return message;\r\n\r\n    }\r\n\r\n\r\nI&#39;m using this method to delete rows by giving list of ids if the given id is found it is deleted,if not it throws this **EmptyResultDataAccessException** help me fix this\r\n","title":"org.springframework.dao.EmptyResultDataAccessException --&gt;Help me fix this","body":"<pre><code>public String deleteCounterParty(List&lt;CounterParty&gt;counterParties)\n{\n    String message = &quot;&quot;;\n    for(CounterParty counterParty:counterParties) {\n        if (counterParty.getId() != null &amp;&amp; counterPartyRepository.getById(counterParty.getId()) != null) {\n            counterPartyRepository.deleteById(counterParty.getId());\n            message=&quot;deleted successfully&quot;;\n        }\n        else {\n            message=&quot;id not found&quot;;\n        }\n    }\n\n  return message;\n\n}\n</code></pre>\n<p>I'm using this method to delete rows by giving list of ids if the given id is found it is deleted,if not it throws this <strong>EmptyResultDataAccessException</strong> help me fix this</p>\n"},{"tags":["java","eclipse","fxml","javafx-11"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":3,"creation_date":1603824487,"post_id":64560205,"comment_id":114157732,"body_markdown":"You need to add the JavaFX JAR files to the _Modulepath_ and not to the _Classpath_ Although not mandatory, you should also try to match the JavaFX version with the JDK version. So if you are using JavaFX 14, then install JDK 14. You also don&#39;t have to use e(fx)clipse. I use Eclipse IDE for Java and have no problem writing JavaFX applications. I am using Eclipse 2020-09 with JDK 15 and JavaFX 15. Did you look at [Getting Started](https://openjfx.io/openjfx-docs/) on _openjfx_ Web site?","body":"You need to add the JavaFX JAR files to the <i>Modulepath</i> and not to the <i>Classpath</i> Although not mandatory, you should also try to match the JavaFX version with the JDK version. So if you are using JavaFX 14, then install JDK 14. You also don&#39;t have to use e(fx)clipse. I use Eclipse IDE for Java and have no problem writing JavaFX applications. I am using Eclipse 2020-09 with JDK 15 and JavaFX 15. Did you look at <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">Getting Started</a> on <i>openjfx</i> Web site?"},{"owner":{"account_id":18385688,"reputation":39,"user_id":13392789,"display_name":"Oleko Dundich"},"score":0,"creation_date":1603849740,"post_id":64560205,"comment_id":114165323,"body_markdown":"@Abra Thanks! I will try your suggestion and will get back to you with result. I had JDK 15 and I updated Eclipse IDE to 2020-09 but it gave me incompatibility warning so I went back to Eclipse 2020-03.","body":"@Abra Thanks! I will try your suggestion and will get back to you with result. I had JDK 15 and I updated Eclipse IDE to 2020-09 but it gave me incompatibility warning so I went back to Eclipse 2020-03."}],"answers":[{"tags":[],"owner":{"account_id":19837431,"reputation":1,"user_id":14530808,"display_name":"juppi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603823342,"creation_date":1603823342,"answer_id":64560765,"question_id":64560205,"body_markdown":"JavaFX isn&#39;t part of the JDK anymore. So treat it like a normal dependency. Like any other maven library too: `https://mvnrepository.com/artifact/org.openjfx`\r\n\r\nI&#39;m using OpenJDK 11 and here is an example of a my pom.xml File: `https://pastebin.com/6hjDtaiw`\r\n\r\nThe `javafx-maven-plugin` is to get the platform specific libraries (.dll for Windows, .so for linux ...)\r\n\r\n`javafx-controls` is for the Labels, Buttons, and other JavaFX UI elements\r\n\r\nAnd do not start your Application Class directly. Otherwise you&#39;ll get the following error:\r\n`Error: JavaFX runtime components are missing, and are required to run this application`\r\n\r\nJust write an additional class to call the &quot;main&quot; method of your Application class.","title":"Getting &quot;Module javafx.controls not found&quot; error Java Eclipse IDE","body":"<p>JavaFX isn't part of the JDK anymore. So treat it like a normal dependency. Like any other maven library too: <code>https://mvnrepository.com/artifact/org.openjfx</code></p>\n<p>I'm using OpenJDK 11 and here is an example of a my pom.xml File: <code>https://pastebin.com/6hjDtaiw</code></p>\n<p>The <code>javafx-maven-plugin</code> is to get the platform specific libraries (.dll for Windows, .so for linux ...)</p>\n<p><code>javafx-controls</code> is for the Labels, Buttons, and other JavaFX UI elements</p>\n<p>And do not start your Application Class directly. Otherwise you'll get the following error:\n<code>Error: JavaFX runtime components are missing, and are required to run this application</code></p>\n<p>Just write an additional class to call the &quot;main&quot; method of your Application class.</p>\n"},{"tags":[],"owner":{"account_id":18385688,"reputation":39,"user_id":13392789,"display_name":"Oleko Dundich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605900375,"creation_date":1605900375,"answer_id":64935689,"question_id":64560205,"body_markdown":"Thanks everyone! I managed make it work. I installed the latest Eclipse IDE 2020-09\r\n\r\nVersion: 2020-09 (4.17.0)\r\nBuild id: 20200910-1200\r\n\r\nInstalled jdk15.0.1 back and placed it under Modulepath not under Classpath and it is working now.\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bMq4w.png","title":"Getting &quot;Module javafx.controls not found&quot; error Java Eclipse IDE","body":"<p>Thanks everyone! I managed make it work. I installed the latest Eclipse IDE 2020-09</p>\n<p>Version: 2020-09 (4.17.0)\nBuild id: 20200910-1200</p>\n<p>Installed jdk15.0.1 back and placed it under Modulepath not under Classpath and it is working now.</p>\n<p><a href=\"https://i.stack.imgur.com/bMq4w.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":18791277,"reputation":1,"user_id":13703652,"display_name":"Mohsin Bilal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1624799943,"creation_date":1624799943,"answer_id":68151593,"question_id":64560205,"body_markdown":"i tried all the above solutions but nothing work, then I just creat module-info.java file and my program start working.\r\njust right click on your project and goto&gt;&gt;configure&gt;&gt;creat module-info.java","title":"Getting &quot;Module javafx.controls not found&quot; error Java Eclipse IDE","body":"<p>i tried all the above solutions but nothing work, then I just creat module-info.java file and my program start working.\njust right click on your project and goto&gt;&gt;configure&gt;&gt;creat module-info.java</p>\n"},{"tags":[],"owner":{"account_id":20836256,"reputation":99,"user_id":15304078,"display_name":"creativeAxe"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1626315855,"creation_date":1626315855,"answer_id":68387146,"question_id":64560205,"body_markdown":"I also encountered the same issue. My problem originated from the fact that for some reason the javafx sdk library was located under module path instead of the class path in the build configurations. After moving the JavaFX SDK from the module path to the class path the error was fixed. \r\n\r\nIf this is your case also, you can do fix this by simply right-clicking on the javaFX project folder-&gt; Build Path-&gt; Configure Build Path-&gt; Select JavaFX SDK-&gt; Remove library-&gt; Select classpath -&gt; add library-&gt; user library-&gt; select library-&gt; apply. \r\n\r\nEssentially it should look like this: \r\n[![Some description][1]][1]\r\n\r\nA great tutorial to help me set up was found on [here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Eo4CS.png\r\n  [2]: https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=&amp;cad=rja&amp;uact=8&amp;ved=2ahUKEwi56tmgguTxAhUFMVkFHRtuAUsQtwIwAXoECAIQAw&amp;url=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3D9XJicRt_FaI&amp;usg=AOvVaw2twlE0cFfGra3lw4NbRlEW\r\n\r\nHope that this helps","title":"Getting &quot;Module javafx.controls not found&quot; error Java Eclipse IDE","body":"<p>I also encountered the same issue. My problem originated from the fact that for some reason the javafx sdk library was located under module path instead of the class path in the build configurations. After moving the JavaFX SDK from the module path to the class path the error was fixed.</p>\n<p>If this is your case also, you can do fix this by simply right-clicking on the javaFX project folder-&gt; Build Path-&gt; Configure Build Path-&gt; Select JavaFX SDK-&gt; Remove library-&gt; Select classpath -&gt; add library-&gt; user library-&gt; select library-&gt; apply.</p>\n<p>Essentially it should look like this:\n<a href=\"https://i.stack.imgur.com/Eo4CS.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Eo4CS.png\" alt=\"Some description\" /></a></p>\n<p>A great tutorial to help me set up was found on <a href=\"https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=&amp;cad=rja&amp;uact=8&amp;ved=2ahUKEwi56tmgguTxAhUFMVkFHRtuAUsQtwIwAXoECAIQAw&amp;url=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3D9XJicRt_FaI&amp;usg=AOvVaw2twlE0cFfGra3lw4NbRlEW\" rel=\"noreferrer\">here</a></p>\n<p>Hope that this helps</p>\n"},{"tags":[],"owner":{"account_id":7510799,"reputation":238,"user_id":5705804,"display_name":"Jhovanny Uribe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641750291,"creation_date":1641750291,"answer_id":70643940,"question_id":64560205,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7Vl0W.png\r\n\r\nIf you are using the newer versions you should put everything in the ModulePath.\r\n\r\njava -version\r\nopenjdk version &quot;17.0.1&quot; 2021-10-19\r\nOpenJDK Runtime Environment (build 17.0.1+12-39)\r\nOpenJDK 64-Bit Server VM (build 17.0.1+12-39, mixed mode, sharing)","title":"Getting &quot;Module javafx.controls not found&quot; error Java Eclipse IDE","body":"<p><a href=\"https://i.stack.imgur.com/7Vl0W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Vl0W.png\" alt=\"enter image description here\" /></a></p>\n<p>If you are using the newer versions you should put everything in the ModulePath.</p>\n<p>java -version\nopenjdk version &quot;17.0.1&quot; 2021-10-19\nOpenJDK Runtime Environment (build 17.0.1+12-39)\nOpenJDK 64-Bit Server VM (build 17.0.1+12-39, mixed mode, sharing)</p>\n"},{"tags":[],"owner":{"account_id":13202229,"reputation":30,"user_id":9952440,"display_name":"Bhaskar Arya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659193738,"creation_date":1659193738,"answer_id":73176737,"question_id":64560205,"body_markdown":"I know this old post, if anyone still facing this problem, then try to follow any one of these solutions that work for me. \r\n\r\n  1-&gt; put both JavaFX and JavaFX SDK under the module path.\r\n   [![enter image description here][1]][1] \r\n \r\n  2-&gt; or you can add this command inside the virtual arguments. \r\n ```  --module-path &quot;\\path\\to\\javafx-sdk-15.0.1\\lib&quot; --add-modules JavaFX.controls,JavaFX.fxml```\r\nhere module path is the location of your external JAR file. \r\nHope this work for you. \r\n[![enter image description here][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/VJwT7.png\r\n  [2]: https://i.stack.imgur.com/q8M7r.png","title":"Getting &quot;Module javafx.controls not found&quot; error Java Eclipse IDE","body":"<p>I know this old post, if anyone still facing this problem, then try to follow any one of these solutions that work for me.</p>\n<p>1-&gt; put both JavaFX and JavaFX SDK under the module path.\n<a href=\"https://i.stack.imgur.com/VJwT7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VJwT7.png\" alt=\"enter image description here\" /></a></p>\n<p>2-&gt; or you can add this command inside the virtual arguments.\n<code>  --module-path &quot;\\path\\to\\javafx-sdk-15.0.1\\lib&quot; --add-modules JavaFX.controls,JavaFX.fxml</code>\nhere module path is the location of your external JAR file.\nHope this work for you.\n<a href=\"https://i.stack.imgur.com/q8M7r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q8M7r.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18385688,"reputation":39,"user_id":13392789,"display_name":"Oleko Dundich"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26899,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":6,"score":3,"last_activity_date":1659193738,"creation_date":1603821124,"question_id":64560205,"body_markdown":"I am using Eclipse IDE 2020-03 version with Java. I am trying to use FXML, checked some tutorials and steps online and followed them. But I am still getting the following error:\r\n\r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Module javafx.controls not found\r\n\r\nI googled for help. There are a lot of people having the same issue and were able to resolve this issue. But all I&#39;ve seen is they are using either NetBeans IDE or IntelliJ. Does anybody have solution for Eclipse? Any help would be appreciated.\r\n\r\nI followed this tutorial -&gt; https://www.youtube.com/watch?v=bC4XB6JAaoU . Here is what I currently have:\r\n\r\n[e(fx)clipse 3.6.0 installed from Market Place][1]\r\n\r\n\r\n\r\n&quot;Java Build Path&quot; contains libraries (I was on 15.0, then switched back to 14.0 but the error still exist)\r\n\r\n[javafs-sdk jar files][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iSr5r.png\r\n\r\n\r\n&quot;Java Build Path&quot; contains libraries (I was on 15.0, then switched back to 14.0 but the error still exist)\r\n\r\n\r\n  [2]: https://i.stack.imgur.com/PT16W.png\r\n\r\nVM Arguments has the following line (pointing library location): --module-path &quot;C:\\Users\\my_name\\Documents\\Scene Builder\\openjfx-14.0.1_windows-x64_bin-sdk\\javafx-sdk-14.0.1\\lib&quot; --add-modules javafx.controls,javafx.fxml \r\n\r\nI tried to use &quot;-clean&quot; in eclipse.ini file but it didn&#39;t help. Matter fact, when I tried to create new simple project and follow all the steps again, Java doesn&#39;t even recognize JavaFX.\r\n\r\nThanks!","title":"Getting &quot;Module javafx.controls not found&quot; error Java Eclipse IDE","body":"<p>I am using Eclipse IDE 2020-03 version with Java. I am trying to use FXML, checked some tutorials and steps online and followed them. But I am still getting the following error:</p>\n<p>Error occurred during initialization of boot layer\njava.lang.module.FindException: Module javafx.controls not found</p>\n<p>I googled for help. There are a lot of people having the same issue and were able to resolve this issue. But all I've seen is they are using either NetBeans IDE or IntelliJ. Does anybody have solution for Eclipse? Any help would be appreciated.</p>\n<p>I followed this tutorial -&gt; <a href=\"https://www.youtube.com/watch?v=bC4XB6JAaoU\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=bC4XB6JAaoU</a> . Here is what I currently have:</p>\n<p><a href=\"https://i.stack.imgur.com/iSr5r.png\" rel=\"nofollow noreferrer\">e(fx)clipse 3.6.0 installed from Market Place</a></p>\n<p>&quot;Java Build Path&quot; contains libraries (I was on 15.0, then switched back to 14.0 but the error still exist)</p>\n<p><a href=\"https://i.stack.imgur.com/PT16W.png\" rel=\"nofollow noreferrer\">javafs-sdk jar files</a></p>\n<p>&quot;Java Build Path&quot; contains libraries (I was on 15.0, then switched back to 14.0 but the error still exist)</p>\n<p>VM Arguments has the following line (pointing library location): --module-path &quot;C:\\Users\\my_name\\Documents\\Scene Builder\\openjfx-14.0.1_windows-x64_bin-sdk\\javafx-sdk-14.0.1\\lib&quot; --add-modules javafx.controls,javafx.fxml</p>\n<p>I tried to use &quot;-clean&quot; in eclipse.ini file but it didn't help. Matter fact, when I tried to create new simple project and follow all the steps again, Java doesn't even recognize JavaFX.</p>\n<p>Thanks!</p>\n"},{"tags":["java","javac"],"comments":[{"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1659149784,"post_id":25190374,"comment_id":129230952,"body_markdown":"Can you show more of the code? Right now it’s not very clear","body":"Can you show more of the code? Right now it’s not very clear"}],"answers":[{"tags":[],"owner":{"account_id":4938233,"reputation":1,"user_id":3975760,"display_name":"Jeroen van Maanen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409132144,"creation_date":1409132144,"answer_id":25523681,"question_id":25190374,"body_markdown":"Both `Collections.singleton()` and `Collections.EMPTY_LIST` implement `Collection` (and extend `Object` for that matter). No type conversions are necessary to return the result of the ternary operator as a `Collection` or an `Object`.\r\n\r\nThe java compiler finds the most specific type that matches both parts. It gets tricky with primitive types, but only `void` is flatly forbidden. See the Java Language Specification on the [conditional operator](http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.25).","title":"type-mismatch in a conditional operator (java)","body":"<p>Both <code>Collections.singleton()</code> and <code>Collections.EMPTY_LIST</code> implement <code>Collection</code> (and extend <code>Object</code> for that matter). No type conversions are necessary to return the result of the ternary operator as a <code>Collection</code> or an <code>Object</code>.</p>\n\n<p>The java compiler finds the most specific type that matches both parts. It gets tricky with primitive types, but only <code>void</code> is flatly forbidden. See the Java Language Specification on the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.25\" rel=\"nofollow\">conditional operator</a>.</p>\n"},{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659193156,"creation_date":1659148791,"answer_id":73172503,"question_id":25190374,"body_markdown":"### Starting point\r\n\r\nThis code by itself is not the whole picture –&#160;it contains a &quot;return&quot; statement, but we do not see the method signature, and thus do not see the return type.\r\n\r\n```\r\nboolean condition = true;\r\nreturn condition ? Collections.singleton(&quot;a field&quot;) : Collections.EMPTY_LIST;\r\n```\r\n\r\n### Method: return type Object\r\n\r\nIt would be totally fine to mix object types with a method return type of Object. For example, here&#39;s a method returning either a HashMap or an Integer. This is allowed because the method return type is Object, and both of those return types are Objects.\r\n```\r\nprivate static Object returnObject() {\r\n    boolean condition = true;\r\n    return condition ? new HashMap&lt;&gt;() : Integer.valueOf(1);\r\n}\r\n```\r\n\r\nYou could put the original code in a method with return type Object, and the compiler would be fine with it.\r\n\r\n\r\n-----\r\n\r\n### Actual object types\r\n\r\nThe type of `Collections.singleton(&quot;a field&quot;)` is `Set&lt;String&gt;`, \r\nand [Set](https://docs.oracle.com/javase/9/docs/api/java/util/Set.html) has the following definition, showing it extends Collection:\r\n```\r\npublic interface Set&lt;E&gt; extends Collection&lt;E&gt;\r\n```\r\n\r\nThe type of `Collections.EMPTY_LIST` is [List](https://docs.oracle.com/javase/9/docs/api/java/util/List.html) which has this definition, showing it extends Collection, too:\r\n```\r\npublic interface List&lt;E&gt; extends Collection&lt;E&gt;\r\n```\r\n\r\nBoth the set and the list share a common parent: Collection.\r\n\r\n-----\r\n\r\n### Method: return type Collection\r\n\r\nIf you put the original lines of code along with a method signature having return type &quot;Collection&quot;, that would be allowed by the compiler since both possible return values are Collections.\r\n\r\n```\r\nprivate static Collection returnCollection() {\r\n    boolean condition = true;\r\n    return condition ? Collections.singleton(&quot;a field&quot;) : Collections.EMPTY_LIST;\r\n}\r\n```\r\n\r\n----\r\n\r\n### Third option: Iterable\r\n\r\nAs shown above, the method can have a return type of either Collection or Object. \r\nAdditionally, you could specify the return type as\r\n[Iterable](https://docs.oracle.com/javase/9/docs/api/java/lang/Iterable.html),\r\nsince Iterable is the parent of [Collection](https://docs.oracle.com/javase/9/docs/api/java/util/Collection.html).\r\n\r\n","title":"type-mismatch in a conditional operator (java)","body":"<h3>Starting point</h3>\n<p>This code by itself is not the whole picture – it contains a &quot;return&quot; statement, but we do not see the method signature, and thus do not see the return type.</p>\n<pre><code>boolean condition = true;\nreturn condition ? Collections.singleton(&quot;a field&quot;) : Collections.EMPTY_LIST;\n</code></pre>\n<h3>Method: return type Object</h3>\n<p>It would be totally fine to mix object types with a method return type of Object. For example, here's a method returning either a HashMap or an Integer. This is allowed because the method return type is Object, and both of those return types are Objects.</p>\n<pre><code>private static Object returnObject() {\n    boolean condition = true;\n    return condition ? new HashMap&lt;&gt;() : Integer.valueOf(1);\n}\n</code></pre>\n<p>You could put the original code in a method with return type Object, and the compiler would be fine with it.</p>\n<hr />\n<h3>Actual object types</h3>\n<p>The type of <code>Collections.singleton(&quot;a field&quot;)</code> is <code>Set&lt;String&gt;</code>,\nand <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Set.html\" rel=\"nofollow noreferrer\">Set</a> has the following definition, showing it extends Collection:</p>\n<pre><code>public interface Set&lt;E&gt; extends Collection&lt;E&gt;\n</code></pre>\n<p>The type of <code>Collections.EMPTY_LIST</code> is <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/List.html\" rel=\"nofollow noreferrer\">List</a> which has this definition, showing it extends Collection, too:</p>\n<pre><code>public interface List&lt;E&gt; extends Collection&lt;E&gt;\n</code></pre>\n<p>Both the set and the list share a common parent: Collection.</p>\n<hr />\n<h3>Method: return type Collection</h3>\n<p>If you put the original lines of code along with a method signature having return type &quot;Collection&quot;, that would be allowed by the compiler since both possible return values are Collections.</p>\n<pre><code>private static Collection returnCollection() {\n    boolean condition = true;\n    return condition ? Collections.singleton(&quot;a field&quot;) : Collections.EMPTY_LIST;\n}\n</code></pre>\n<hr />\n<h3>Third option: Iterable</h3>\n<p>As shown above, the method can have a return type of either Collection or Object.\nAdditionally, you could specify the return type as\n<a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Iterable.html\" rel=\"nofollow noreferrer\">Iterable</a>,\nsince Iterable is the parent of <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Collection.html\" rel=\"nofollow noreferrer\">Collection</a>.</p>\n"}],"owner":{"account_id":1355087,"reputation":22605,"user_id":1293653,"accept_rate":60,"display_name":"One Two Three"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1659193156,"creation_date":1407438785,"question_id":25190374,"body_markdown":"I don&#39;t understand why the following would NOT cause an error.\r\n\r\n\r\n    boolean condition = &lt;whatever&gt;;\r\n    return condition ? Collections.singleton(&quot;a field&quot;) : Collections.EMPTY_LIST;\r\n\r\n`Collections.singleton()` returns a `java.util.Set` which obviously is NOT the same type as `EMPTY_LIST`. \r\n\r\nShould that really NOT cause a type-mismatch error?","title":"type-mismatch in a conditional operator (java)","body":"<p>I don't understand why the following would NOT cause an error.</p>\n\n<pre><code>boolean condition = &lt;whatever&gt;;\nreturn condition ? Collections.singleton(\"a field\") : Collections.EMPTY_LIST;\n</code></pre>\n\n<p><code>Collections.singleton()</code> returns a <code>java.util.Set</code> which obviously is NOT the same type as <code>EMPTY_LIST</code>. </p>\n\n<p>Should that really NOT cause a type-mismatch error?</p>\n"},{"tags":["java","arraylist","processing","simulation"],"answers":[{"tags":[],"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659192244,"creation_date":1659172118,"answer_id":73174276,"question_id":73173829,"body_markdown":"The issue is in `target()` which defaults the return value to `origin` (0,0).\r\n\r\nTherefore, if a `Rabbit` is closer to `origin` than any `Grass` (initially or at any time) it will _always_ head to origin.  \r\n\r\nSo this code below corrects for that by targeting the closest `Grass` **unless** there is no `Grass` left in which case it targets `origin`.\r\nI&#39;ll make some assumptions:\r\n\r\n 1. If there is any `Grass` remaining a `Rabbit` should target the closest `Grass`.\r\n 2. If there is no `Grass` remaining a `Rabbit` should head to origin (or home).\r\n\r\nThen alter your `target` class as such:\r\n\r\n    PVector target(){\r\n        //Each rabbit eats grass so we could make a greedy approach where the rabbit focuses on the grass closest to it\r\n        if (G.isEmpty()) {\r\n            // no more grass - head to origin\r\n            return new PVector(0,0);\r\n        }\r\n        PVector mi = G.get(0).pos;\r\n        for(Grass g : G){\r\n           float a = this.pos.dist(g.pos);\r\n\r\n           // this can be optimized by retaining the distance to the current `mi` rather\r\n           // than recalculating it (this was not done).\r\n           if(a &lt; pos.dist(mi)) {\r\n               mi = g.pos;\r\n           }\r\n        }\r\n        // return a new PVector with the selected grass position.\r\n        return new PVector(mi.x,mi.y);\r\n    }\r\n\r\nAlso your velocity calculation (which uses `target`) needs some work. It uses the result of `target` which is a position as a velocity - this likely results in instantaneous travel.\r\n\r\nTo avoid creating lots of garbage `PVectors` you should alter `target()` to pass in a `PVector` reference as in :\r\n\r\n    PVector target(PVector p) {\r\n        // and the return becomes\r\n        p.x = mi.x;\r\n        p.y = mi.y;\r\n        return p;\r\n    }\r\n\r\nAnd the invocation comes:\r\n\r\n    vel = target(vel);\r\n    \r\n","title":"How to make an object move towards another object (its food) in processing?","body":"<p>The issue is in <code>target()</code> which defaults the return value to <code>origin</code> (0,0).</p>\n<p>Therefore, if a <code>Rabbit</code> is closer to <code>origin</code> than any <code>Grass</code> (initially or at any time) it will <em>always</em> head to origin.</p>\n<p>So this code below corrects for that by targeting the closest <code>Grass</code> <strong>unless</strong> there is no <code>Grass</code> left in which case it targets <code>origin</code>.\nI'll make some assumptions:</p>\n<ol>\n<li>If there is any <code>Grass</code> remaining a <code>Rabbit</code> should target the closest <code>Grass</code>.</li>\n<li>If there is no <code>Grass</code> remaining a <code>Rabbit</code> should head to origin (or home).</li>\n</ol>\n<p>Then alter your <code>target</code> class as such:</p>\n<pre><code>PVector target(){\n    //Each rabbit eats grass so we could make a greedy approach where the rabbit focuses on the grass closest to it\n    if (G.isEmpty()) {\n        // no more grass - head to origin\n        return new PVector(0,0);\n    }\n    PVector mi = G.get(0).pos;\n    for(Grass g : G){\n       float a = this.pos.dist(g.pos);\n\n       // this can be optimized by retaining the distance to the current `mi` rather\n       // than recalculating it (this was not done).\n       if(a &lt; pos.dist(mi)) {\n           mi = g.pos;\n       }\n    }\n    // return a new PVector with the selected grass position.\n    return new PVector(mi.x,mi.y);\n}\n</code></pre>\n<p>Also your velocity calculation (which uses <code>target</code>) needs some work. It uses the result of <code>target</code> which is a position as a velocity - this likely results in instantaneous travel.</p>\n<p>To avoid creating lots of garbage <code>PVectors</code> you should alter <code>target()</code> to pass in a <code>PVector</code> reference as in :</p>\n<pre><code>PVector target(PVector p) {\n    // and the return becomes\n    p.x = mi.x;\n    p.y = mi.y;\n    return p;\n}\n</code></pre>\n<p>And the invocation comes:</p>\n<pre><code>vel = target(vel);\n</code></pre>\n"}],"owner":{"account_id":21764721,"reputation":23,"user_id":19652289,"display_name":"Kaushal Tiwari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1659192244,"creation_date":1659167360,"question_id":73173829,"body_markdown":"I am trying to simulate a herd of rabbits in a grass field using processing. As I am a beginner, I decided to skip acceleration while moving, that is the rabbits have a constant magnitude of velocity.\r\nEach rabbit has a separation radius in order to keep them separated. For food, I decided to greedily search all the grass objects near me and move towards the closest, however whenever I try to run the program, all the grass objects teleport towards the origin and I can&#39;t find the reason for it.\r\n\r\nThis is the main file.\r\n\r\n    ArrayList&lt;Rabbit&gt; R = new ArrayList&lt;Rabbit&gt;();\r\n    ArrayList&lt;Grass&gt; G = new ArrayList&lt;Grass&gt;();\r\n    ArrayList&lt;Grass&gt; K = G;\r\n    int grass = 25;\r\n    int r_Size = 10;\r\n    int day = 0;\r\n    int i = 0;\r\n    \r\n    void setup(){\r\n     size(1000,8000);\r\n     for(int i = 0;i&lt;r_Size;i++){\r\n       R.add(new Rabbit());\r\n     }\r\n      for(int i = 0;i&lt;grass;i++){\r\n       G.add(new Grass());\r\n     }\r\n    }\r\n    \r\n    void draw(){\r\n      background(120);\r\n      i++;\r\n      \r\n    \r\n      \r\n      for(Grass r : G){\r\n        r.show();\r\n        r.find();\r\n      }\r\n      for(Rabbit r : R){\r\n        r.show();\r\n        r.move();\r\n      }\r\n      \r\n      fill(255);\r\n      text(day,10,100);\r\n      if(i &gt;= 10){\r\n        day++;\r\n        i = 0;\r\n       ArrayList&lt;Grass&gt; d = new ArrayList&lt;Grass&gt;();\r\n       for(Grass g : G){\r\n        if(g.isEaten){\r\n          d.add(g);\r\n        }\r\n       }\r\n       for(Grass g : d){\r\n        G.remove(g); \r\n       }\r\n      }\r\n      \r\n      if(day &gt;= 30){\r\n       System.out.println(R.size());\r\n       for(Grass r : G){\r\n        r.update();\r\n       }\r\n       for(int i = 0;i&lt;10;i++){\r\n        G.add(new Grass()); \r\n       }\r\n    \r\n       ArrayList&lt;Rabbit&gt; dead = new ArrayList&lt;Rabbit&gt;();\r\n       for (Rabbit r : R){\r\n        r.update();\r\n        if(r.isDead == true) \r\n          dead.add(r);\r\n       }\r\n       for(Rabbit r : dead){\r\n        R.remove(r); \r\n       }\r\n       day = 0;\r\n      }\r\n    }\r\n\r\nThis is the Grass Class.\r\n\r\n    class Grass{\r\n     PVector pos;\r\n     int age = 0;\r\n     int side = 20;\r\n     boolean isEaten = false;\r\n     int perTurn = 10;\r\n     Grass(){\r\n      pos = new PVector(random(0,width-side),random(0,height-side)); \r\n     }\r\n     \r\n     void update(){\r\n      age++;\r\n     }\r\n     \r\n     boolean find(){\r\n      if(isEaten)\r\n        return true;\r\n      for(Rabbit r : R){\r\n       if(pos.dist(r.pos) &lt; side){\r\n        isEaten = true;\r\n        r.hasBeenHungry = 0;\r\n        return true;\r\n       }\r\n      }\r\n      return false;\r\n     }\r\n     \r\n     \r\n     void show(){\r\n      float c = map(age,0,10,100,255);\r\n      fill(0,0+c,0);\r\n      noStroke();\r\n      square(pos.x,pos.y,side);\r\n     }\r\n    }\r\n\r\nSecond is the animal class which I wanted to extend to rabbits and foxes (I will add them later).\r\n\r\n    class Animal{\r\n      PVector pos;\r\n      PVector vel;\r\n      boolean isDead;\r\n      int age;\r\n      int gender;\r\n      int max_age;\r\n      float max_speed;\r\n      int hasBeenHungry = 0;\r\n      \r\n      //gender 0 means female and 1 means male;\r\n      \r\n      // update means age in months;\r\n      void update(){\r\n       this.age++;\r\n       hasBeenHungry++;\r\n       if(this.age &gt;= max_age){\r\n        isDead = true; \r\n       }\r\n       float k = (int)random(10);\r\n       if(k == 0){\r\n        isDead = true; \r\n       }\r\n       if(hasBeenHungry &gt;= 5){\r\n        isDead = true; \r\n       }\r\n      }\r\n      \r\n      void move(){\r\n       pos.add(this.vel);\r\n       checkBound();\r\n       //this.vel.mult(0);\r\n      }\r\n      \r\n      void checkBound(){\r\n       if(pos.x &lt; 0 || pos.x &gt; width){\r\n           vel.x *= -1;\r\n       }\r\n       if(pos.y &lt; 0|| pos.y &gt; height){\r\n        vel.y *= -1;\r\n       }\r\n      }\r\n      \r\n    }\r\n\r\nFinally, the Rabbit class (I think the issue is with the target function).\r\n\r\n    class Rabbit extends Animal{\r\n      \r\n      \r\n      Rabbit(){\r\n       pos = new PVector(random(0,width),random(0,height));\r\n       vel = new PVector(2,1);\r\n       int k = (int)(random(0,2));\r\n       this.isDead = false;\r\n       this.gender = k;\r\n       this.max_age = 10;\r\n       this.max_speed = 3;\r\n      }\r\n     \r\n      \r\n      void show(){\r\n       if(this.gender == 0){\r\n        fill(120,0,0 );\r\n       }\r\n       else{\r\n        fill(0,0,120); \r\n       }\r\n       circle(this.pos.x,this.pos.y,15);\r\n      }\r\n      \r\n      void seperate(){\r\n       float desiredRadius = 30;\r\n       int count = 0;\r\n       PVector c = new PVector(0,0);\r\n       for(Rabbit r : R){\r\n         if(r != this){\r\n          float a = pos.dist(r.pos);\r\n          if(a &gt; 0 &amp;&amp; a &lt; desiredRadius){\r\n            PVector diff = PVector.sub(pos, r.pos);\r\n            //diff.normalize();\r\n            diff.div(a);        // Weight by distance\r\n            c.add(diff);\r\n            count++;  \r\n          }\r\n         }\r\n       }\r\n        if (count &gt; 0){\r\n          c.div((float)count);\r\n          vel.add(c);\r\n          vel.normalize();\r\n          vel.mult(max_speed);\r\n        }\r\n      }\r\n      \r\n      PVector target(){\r\n       //Each rabbit eats grass so we could make a greedy approach where the rabbit focuses on the grass closest to it\r\n       PVector mi = new PVector(0,0);\r\n       //int distance =  1000;\r\n       for(Grass g : G){\r\n        float a = this.pos.dist(g.pos);\r\n         if(a &lt; pos.dist(mi)){\r\n          mi = g.pos;\r\n         }\r\n        }\r\n        return mi;\r\n      }\r\n      \r\n      void move(){\r\n       super.move();\r\n       vel = target();\r\n       seperate();\r\n       vel.normalize();\r\n       vel.mult(max_speed);\r\n      }\r\n    }\r\n\r\nP.S I am a beginner so some implementations may not be up to the mark, if you find any such issue please tell me so that I can improve.\r\n","title":"How to make an object move towards another object (its food) in processing?","body":"<p>I am trying to simulate a herd of rabbits in a grass field using processing. As I am a beginner, I decided to skip acceleration while moving, that is the rabbits have a constant magnitude of velocity.\nEach rabbit has a separation radius in order to keep them separated. For food, I decided to greedily search all the grass objects near me and move towards the closest, however whenever I try to run the program, all the grass objects teleport towards the origin and I can't find the reason for it.</p>\n<p>This is the main file.</p>\n<pre><code>ArrayList&lt;Rabbit&gt; R = new ArrayList&lt;Rabbit&gt;();\nArrayList&lt;Grass&gt; G = new ArrayList&lt;Grass&gt;();\nArrayList&lt;Grass&gt; K = G;\nint grass = 25;\nint r_Size = 10;\nint day = 0;\nint i = 0;\n\nvoid setup(){\n size(1000,8000);\n for(int i = 0;i&lt;r_Size;i++){\n   R.add(new Rabbit());\n }\n  for(int i = 0;i&lt;grass;i++){\n   G.add(new Grass());\n }\n}\n\nvoid draw(){\n  background(120);\n  i++;\n  \n\n  \n  for(Grass r : G){\n    r.show();\n    r.find();\n  }\n  for(Rabbit r : R){\n    r.show();\n    r.move();\n  }\n  \n  fill(255);\n  text(day,10,100);\n  if(i &gt;= 10){\n    day++;\n    i = 0;\n   ArrayList&lt;Grass&gt; d = new ArrayList&lt;Grass&gt;();\n   for(Grass g : G){\n    if(g.isEaten){\n      d.add(g);\n    }\n   }\n   for(Grass g : d){\n    G.remove(g); \n   }\n  }\n  \n  if(day &gt;= 30){\n   System.out.println(R.size());\n   for(Grass r : G){\n    r.update();\n   }\n   for(int i = 0;i&lt;10;i++){\n    G.add(new Grass()); \n   }\n\n   ArrayList&lt;Rabbit&gt; dead = new ArrayList&lt;Rabbit&gt;();\n   for (Rabbit r : R){\n    r.update();\n    if(r.isDead == true) \n      dead.add(r);\n   }\n   for(Rabbit r : dead){\n    R.remove(r); \n   }\n   day = 0;\n  }\n}\n</code></pre>\n<p>This is the Grass Class.</p>\n<pre><code>class Grass{\n PVector pos;\n int age = 0;\n int side = 20;\n boolean isEaten = false;\n int perTurn = 10;\n Grass(){\n  pos = new PVector(random(0,width-side),random(0,height-side)); \n }\n \n void update(){\n  age++;\n }\n \n boolean find(){\n  if(isEaten)\n    return true;\n  for(Rabbit r : R){\n   if(pos.dist(r.pos) &lt; side){\n    isEaten = true;\n    r.hasBeenHungry = 0;\n    return true;\n   }\n  }\n  return false;\n }\n \n \n void show(){\n  float c = map(age,0,10,100,255);\n  fill(0,0+c,0);\n  noStroke();\n  square(pos.x,pos.y,side);\n }\n}\n</code></pre>\n<p>Second is the animal class which I wanted to extend to rabbits and foxes (I will add them later).</p>\n<pre><code>class Animal{\n  PVector pos;\n  PVector vel;\n  boolean isDead;\n  int age;\n  int gender;\n  int max_age;\n  float max_speed;\n  int hasBeenHungry = 0;\n  \n  //gender 0 means female and 1 means male;\n  \n  // update means age in months;\n  void update(){\n   this.age++;\n   hasBeenHungry++;\n   if(this.age &gt;= max_age){\n    isDead = true; \n   }\n   float k = (int)random(10);\n   if(k == 0){\n    isDead = true; \n   }\n   if(hasBeenHungry &gt;= 5){\n    isDead = true; \n   }\n  }\n  \n  void move(){\n   pos.add(this.vel);\n   checkBound();\n   //this.vel.mult(0);\n  }\n  \n  void checkBound(){\n   if(pos.x &lt; 0 || pos.x &gt; width){\n       vel.x *= -1;\n   }\n   if(pos.y &lt; 0|| pos.y &gt; height){\n    vel.y *= -1;\n   }\n  }\n  \n}\n</code></pre>\n<p>Finally, the Rabbit class (I think the issue is with the target function).</p>\n<pre><code>class Rabbit extends Animal{\n  \n  \n  Rabbit(){\n   pos = new PVector(random(0,width),random(0,height));\n   vel = new PVector(2,1);\n   int k = (int)(random(0,2));\n   this.isDead = false;\n   this.gender = k;\n   this.max_age = 10;\n   this.max_speed = 3;\n  }\n \n  \n  void show(){\n   if(this.gender == 0){\n    fill(120,0,0 );\n   }\n   else{\n    fill(0,0,120); \n   }\n   circle(this.pos.x,this.pos.y,15);\n  }\n  \n  void seperate(){\n   float desiredRadius = 30;\n   int count = 0;\n   PVector c = new PVector(0,0);\n   for(Rabbit r : R){\n     if(r != this){\n      float a = pos.dist(r.pos);\n      if(a &gt; 0 &amp;&amp; a &lt; desiredRadius){\n        PVector diff = PVector.sub(pos, r.pos);\n        //diff.normalize();\n        diff.div(a);        // Weight by distance\n        c.add(diff);\n        count++;  \n      }\n     }\n   }\n    if (count &gt; 0){\n      c.div((float)count);\n      vel.add(c);\n      vel.normalize();\n      vel.mult(max_speed);\n    }\n  }\n  \n  PVector target(){\n   //Each rabbit eats grass so we could make a greedy approach where the rabbit focuses on the grass closest to it\n   PVector mi = new PVector(0,0);\n   //int distance =  1000;\n   for(Grass g : G){\n    float a = this.pos.dist(g.pos);\n     if(a &lt; pos.dist(mi)){\n      mi = g.pos;\n     }\n    }\n    return mi;\n  }\n  \n  void move(){\n   super.move();\n   vel = target();\n   seperate();\n   vel.normalize();\n   vel.mult(max_speed);\n  }\n}\n</code></pre>\n<p>P.S I am a beginner so some implementations may not be up to the mark, if you find any such issue please tell me so that I can improve.</p>\n"},{"tags":["java","minecraft","minecraft-forge"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":4,"creation_date":1656698560,"post_id":72829870,"comment_id":128643954,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":19663761,"reputation":26,"user_id":18432736,"display_name":"mnikpro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659191977,"creation_date":1659191977,"answer_id":73176514,"question_id":72829870,"body_markdown":"If you trying to change the texture of sun and moon you first need to create a texture pack and then include it in your mod.\r\n\r\nFirst create a custom texture pack.\r\n\r\nThen in the ```YourTexturePack\\assets\\minecraft\\textures\\environment```.\r\n\r\nChange the ```sun.png``` and the ```moon.png``` with you custom textures.\r\n\r\nNow That You Have The Texture Pack Ready You Need To Put It In Your Mod.\r\n\r\nCopy the ```assets``` folder of your texture pack, And paste it in the \r\n ```src\\main\\``` of your mod folder.\r\n\r\nI hope that helped you","title":"Custom Moon/sun texture minecraft mod 1.18.2","body":"<p>If you trying to change the texture of sun and moon you first need to create a texture pack and then include it in your mod.</p>\n<p>First create a custom texture pack.</p>\n<p>Then in the <code>YourTexturePack\\assets\\minecraft\\textures\\environment</code>.</p>\n<p>Change the <code>sun.png</code> and the <code>moon.png</code> with you custom textures.</p>\n<p>Now That You Have The Texture Pack Ready You Need To Put It In Your Mod.</p>\n<p>Copy the <code>assets</code> folder of your texture pack, And paste it in the\n<code>src\\main\\</code> of your mod folder.</p>\n<p>I hope that helped you</p>\n"}],"owner":{"account_id":25700609,"reputation":11,"user_id":19460711,"display_name":"Scripter stuff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":593,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1659191977,"creation_date":1656681349,"question_id":72829870,"body_markdown":"I&#39;m currently working on a forge mod for 1.18.2, I don&#39;t really know anything about java, I just want to replace the sun and moon textures for my custom dimension, I&#39;ve been searching for day to find an answer and that has gotten me nowhere, I really need help.","title":"Custom Moon/sun texture minecraft mod 1.18.2","body":"<p>I'm currently working on a forge mod for 1.18.2, I don't really know anything about java, I just want to replace the sun and moon textures for my custom dimension, I've been searching for day to find an answer and that has gotten me nowhere, I really need help.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1659172596,"post_id":73173103,"comment_id":129233805,"body_markdown":"What do you mean by ` I need to have different version ` ... for a dependency or for the project itself? Please pom the full pom file?","body":"What do you mean by ` I need to have different version ` ... for a dependency or for the project itself? Please pom the full pom file?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1659177917,"post_id":73173103,"comment_id":129234692,"body_markdown":"This sounds like you are overworking a single pom. Consider splitting into more than one","body":"This sounds like you are overworking a single pom. Consider splitting into more than one"}],"answers":[{"tags":[],"owner":{"account_id":25933323,"reputation":76,"user_id":19654044,"display_name":"choco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659191546,"creation_date":1659191546,"answer_id":73176456,"question_id":73173103,"body_markdown":"you can create profiles like below \r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n\t        &lt;id&gt;demo1&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n\t        &lt;properties&gt;\r\n\t\t        &lt;demolib.version&gt;1.0.0&lt;/demolib.version&gt;\r\n\t        &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n\t        &lt;id&gt;demo2&lt;/id&gt;\r\n\t        &lt;properties&gt;\r\n\t\t        &lt;demolib.version&gt;2.0.0&lt;/demolib.version&gt;\r\n\t        &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\nthen your default profile is demo1, and version is 1.0.0\r\nyou can use variables in profile in your maven\r\n\r\n    &lt;GroupId&gt;com.company.com&lt;/GroupId&gt;\r\n    &lt;ArtifactId&gt;xxx&lt;ArtifactId/&gt;\r\n    &lt;Version&gt;{demolib.version}&lt;/version&gt;\r\n\r\nif you want to build with version 2.0.0\r\njust run maven with \r\n`mvn -Pdemo2 package`\r\nalso you can use multiple parameter like\r\n`mvn -Pdemo2,example2 package`\r\n","title":"How to set different version based on profile maven","body":"<p>you can create profiles like below</p>\n<pre><code>&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;demo1&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n        &lt;/activation&gt;\n        &lt;properties&gt;\n            &lt;demolib.version&gt;1.0.0&lt;/demolib.version&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;id&gt;demo2&lt;/id&gt;\n        &lt;properties&gt;\n            &lt;demolib.version&gt;2.0.0&lt;/demolib.version&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n<p>then your default profile is demo1, and version is 1.0.0\nyou can use variables in profile in your maven</p>\n<pre><code>&lt;GroupId&gt;com.company.com&lt;/GroupId&gt;\n&lt;ArtifactId&gt;xxx&lt;ArtifactId/&gt;\n&lt;Version&gt;{demolib.version}&lt;/version&gt;\n</code></pre>\n<p>if you want to build with version 2.0.0\njust run maven with\n<code>mvn -Pdemo2 package</code>\nalso you can use multiple parameter like\n<code>mvn -Pdemo2,example2 package</code></p>\n"}],"owner":{"account_id":1551684,"reputation":1024,"user_id":1443928,"accept_rate":93,"display_name":"Hard Worker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73176456,"answer_count":1,"score":0,"last_activity_date":1659191546,"creation_date":1659159012,"question_id":73173103,"body_markdown":"I have a java project with mvn \r\nI need to have different version based on the mvn profile\r\n\r\n\r\n    &lt;GroupId&gt;com.company.com&lt;/GroupId&gt;\r\n    &lt;ArtifactId&gt;xxx&lt;ArtifactId/&gt;\r\n    &lt;Version&gt;{version.profile}&lt;/version&gt;\r\n\r\nHow do I set version.profile based on the profile ?\r\n\r\n\r\n","title":"How to set different version based on profile maven","body":"<p>I have a java project with mvn\nI need to have different version based on the mvn profile</p>\n<pre><code>&lt;GroupId&gt;com.company.com&lt;/GroupId&gt;\n&lt;ArtifactId&gt;xxx&lt;ArtifactId/&gt;\n&lt;Version&gt;{version.profile}&lt;/version&gt;\n</code></pre>\n<p>How do I set version.profile based on the profile ?</p>\n"},{"tags":["java","spring-boot","jackson"],"comments":[{"owner":{"account_id":11440117,"reputation":194,"user_id":8386024,"display_name":"oubaydos"},"score":1,"creation_date":1659190188,"post_id":73176247,"comment_id":129237238,"body_markdown":"try using ``@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd-MM-yyyy&quot;, timezone = &quot;GMT&quot;)``","body":"try using <code>@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd-MM-yyyy&quot;, timezone = &quot;GMT&quot;)</code>"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1659190344,"post_id":73176247,"comment_id":129237280,"body_markdown":"`java.util.Date`? Really?","body":"<code>java.util.Date</code>? Really?"},{"owner":{"account_id":21428653,"reputation":25,"user_id":15785531,"display_name":"titanium"},"score":0,"creation_date":1659191226,"post_id":73176247,"comment_id":129237474,"body_markdown":"@Seelenvirtuose what&#39;s wrong with `java.util.Date`","body":"@Seelenvirtuose what&#39;s wrong with <code>java.util.Date</code>"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1659198412,"post_id":73176247,"comment_id":129239092,"body_markdown":"Oh ... Please got and put your quesion &quot;what&#39;s wrong with java.util.Date&quot; into the search machine of your choice. I am sure you get a hell lot of good articles. Let me tell you one: https://codeblog.jonskeet.uk/2017/04/23/all-about-java-util-date/","body":"Oh ... Please got and put your quesion &quot;what&#39;s wrong with java.util.Date&quot; into the search machine of your choice. I am sure you get a hell lot of good articles. Let me tell you one: <a href=\"https://codeblog.jonskeet.uk/2017/04/23/all-about-java-util-date/\" rel=\"nofollow noreferrer\">codeblog.jonskeet.uk/2017/04/23/all-about-java-util-date</a>"}],"owner":{"account_id":21428653,"reputation":25,"user_id":15785531,"display_name":"titanium"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":589,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659191152,"creation_date":1659189723,"question_id":73176247,"body_markdown":"I using RestController in Spring Boot and I have problem with Jackson auto converting time zone. When I try to send date to RestController, the date is auto convert to my current time zone and I don&#39;t want to prevent it to happened.\r\nIf I send\r\n```\r\n&quot;NGAY&quot;: &quot;2022-07-29T17:00:00.000+00:00&quot;,\r\n```\r\nI want to receive \r\n```\r\n2022-07-29\r\n```\r\nno matter what the time zone is\r\n\r\nNot\r\n```\r\n2022-07-30\r\n```\r\nThis is code in model class\r\n```\r\n    @Column(name = &quot;NGAY&quot;)\r\n    private java.util.Date ngay;\r\n```\r\nAnd this is code in my RestController\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/sanluong/ngay&quot;)\r\npublic class Controller {\r\n\t@PostMapping(&quot;/savedata&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; uploadFile(@RequestBody List&lt;MLoadprofileView&gt; lstData)  {\r\n\t\tResponseData result = sanLuongNgayService.onSaveData(lstData);\r\n\t\treturn ResponseEntity.ok(result);\r\n\t}\r\n}\r\n```\r\nI tried in `application.properties` but it has no effect\r\n```\r\nspring.jackson.serialization.WRITE_DATES_AS_TIMESTAMPS=false\r\nspring.jackson.deserialization.ADJUST_DATES_TO_CONTEXT_TIME_ZONE = false\r\n```\r\nEDIT: I want to applied to all java.ulti.Date field in all class\r\n\r\n\r\n","title":"Prevent Jackson auto convert time zone in spring boot","body":"<p>I using RestController in Spring Boot and I have problem with Jackson auto converting time zone. When I try to send date to RestController, the date is auto convert to my current time zone and I don't want to prevent it to happened.\nIf I send</p>\n<pre><code>&quot;NGAY&quot;: &quot;2022-07-29T17:00:00.000+00:00&quot;,\n</code></pre>\n<p>I want to receive</p>\n<pre><code>2022-07-29\n</code></pre>\n<p>no matter what the time zone is</p>\n<p>Not</p>\n<pre><code>2022-07-30\n</code></pre>\n<p>This is code in model class</p>\n<pre><code>    @Column(name = &quot;NGAY&quot;)\n    private java.util.Date ngay;\n</code></pre>\n<p>And this is code in my RestController</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/sanluong/ngay&quot;)\npublic class Controller {\n    @PostMapping(&quot;/savedata&quot;)\n    public ResponseEntity&lt;?&gt; uploadFile(@RequestBody List&lt;MLoadprofileView&gt; lstData)  {\n        ResponseData result = sanLuongNgayService.onSaveData(lstData);\n        return ResponseEntity.ok(result);\n    }\n}\n</code></pre>\n<p>I tried in <code>application.properties</code> but it has no effect</p>\n<pre><code>spring.jackson.serialization.WRITE_DATES_AS_TIMESTAMPS=false\nspring.jackson.deserialization.ADJUST_DATES_TO_CONTEXT_TIME_ZONE = false\n</code></pre>\n<p>EDIT: I want to applied to all java.ulti.Date field in all class</p>\n"},{"tags":["java","swing","jfreechart"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1593846763,"creation_date":1593821833,"answer_id":62724042,"question_id":62720620,"body_markdown":"Use the [`ChartPanel`][1] methods [`setDomainZoomable()`][2] and [`setRangeZoomable()`][3] to control the axes individually. As a concrete example, edit `createChartPanel()` in this [example][4] as follows to enable zoom on the `&quot;Value&quot;` axis, while leaving the `&quot;Count&quot;` axis unchanged:\r\n\r\n    panel.setMouseWheelEnabled(true);\r\n    panel.setDomainZoomable(true);\r\n    panel.setRangeZoomable(false);\r\n\r\nFor convenience, \r\n\r\n- Use the [context menu][5] to change the zoom settings as needed. \r\n- Use zoom buttons such as [these][6] as needed.\r\n\r\n- Use other applicable features described [here][7].\r\n\r\nZoomed in:\r\n[![zoomed in][8]][8]\r\n\r\nZoomed out:\r\n[![zoomed out][9]][9]\r\n\r\n\r\n  [1]: http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/ChartPanel.html\r\n  [2]: http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/ChartPanel.html#setDomainZoomable-boolean-\r\n  [3]: http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/ChartPanel.html#setRangeZoomable-boolean-\r\n  [4]: https://stackoverflow.com/a/28519356/230513\r\n  [5]: https://stackoverflow.com/a/19284972/230513\r\n  [6]: https://stackoverflow.com/a/41544007/230513\r\n  [7]: https://stackoverflow.com/a/44151032/230513\r\n  [8]: https://i.stack.imgur.com/avNRX.jpg\r\n  [9]: https://i.stack.imgur.com/QPZmt.png","title":"How to make mouse wheel zoom(setMouseWheelEnabled()) in Jfreechart only affect specific axis?","body":"<p>Use the <a href=\"http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/ChartPanel.html\" rel=\"nofollow noreferrer\"><code>ChartPanel</code></a> methods <a href=\"http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/ChartPanel.html#setDomainZoomable-boolean-\" rel=\"nofollow noreferrer\"><code>setDomainZoomable()</code></a> and <a href=\"http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/ChartPanel.html#setRangeZoomable-boolean-\" rel=\"nofollow noreferrer\"><code>setRangeZoomable()</code></a> to control the axes individually. As a concrete example, edit <code>createChartPanel()</code> in this <a href=\"https://stackoverflow.com/a/28519356/230513\">example</a> as follows to enable zoom on the <code>&quot;Value&quot;</code> axis, while leaving the <code>&quot;Count&quot;</code> axis unchanged:</p>\n<pre><code>panel.setMouseWheelEnabled(true);\npanel.setDomainZoomable(true);\npanel.setRangeZoomable(false);\n</code></pre>\n<p>For convenience,</p>\n<ul>\n<li><p>Use the <a href=\"https://stackoverflow.com/a/19284972/230513\">context menu</a> to change the zoom settings as needed.</p>\n</li>\n<li><p>Use zoom buttons such as <a href=\"https://stackoverflow.com/a/41544007/230513\">these</a> as needed.</p>\n</li>\n<li><p>Use other applicable features described <a href=\"https://stackoverflow.com/a/44151032/230513\">here</a>.</p>\n</li>\n</ul>\n<p>Zoomed in:\n<a href=\"https://i.stack.imgur.com/avNRX.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/avNRX.jpg\" alt=\"zoomed in\" /></a></p>\n<p>Zoomed out:\n<a href=\"https://i.stack.imgur.com/QPZmt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QPZmt.png\" alt=\"zoomed out\" /></a></p>\n"}],"owner":{"account_id":10711368,"reputation":93,"user_id":8774685,"display_name":"Achmad Fathoni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":758,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":62724042,"answer_count":1,"score":4,"last_activity_date":1659190203,"creation_date":1593799417,"question_id":62720620,"body_markdown":"When I enable the mouse wheel zoom in my chart using this code line:\r\n\r\n```\r\nchartPanel.setMouseWheelEnabled(true);\r\n```\r\nScrolling the mouse wheel will zoom in/out **both** x and y axis. How can I disable mouse wheel zooming on **one** of the axis?\r\n\r\nJfreechart Version: 1.0.13","title":"How to make mouse wheel zoom(setMouseWheelEnabled()) in Jfreechart only affect specific axis?","body":"<p>When I enable the mouse wheel zoom in my chart using this code line:</p>\n<pre><code>chartPanel.setMouseWheelEnabled(true);\n</code></pre>\n<p>Scrolling the mouse wheel will zoom in/out <strong>both</strong> x and y axis. How can I disable mouse wheel zooming on <strong>one</strong> of the axis?</p>\n<p>Jfreechart Version: 1.0.13</p>\n"},{"tags":["java","apache-spark","junit5"],"comments":[{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1657521258,"post_id":72934338,"comment_id":128820523,"body_markdown":"How did you use Mockito in JUnit 4? Jupiter‘s MockitoExtension configures a few defaults that might be in conflict with your old testing approach.","body":"How did you use Mockito in JUnit 4? Jupiter‘s MockitoExtension configures a few defaults that might be in conflict with your old testing approach."},{"owner":{"account_id":12509045,"reputation":661,"user_id":9104942,"display_name":"Abdusoli"},"score":0,"creation_date":1657521522,"post_id":72934338,"comment_id":128820593,"body_markdown":"in JUnit 4, it was ```@RunWith(MockitoJUnitRunner.class)``` in class definition. And I changed it to ```@ExtendWith(MockitoExtension.class)``` in JUnit 5. What do you recommend to do?","body":"in JUnit 4, it was <code>@RunWith(MockitoJUnitRunner.class)</code> in class definition. And I changed it to <code>@ExtendWith(MockitoExtension.class)</code> in JUnit 5. What do you recommend to do?"}],"answers":[{"tags":[],"owner":{"account_id":12509045,"reputation":661,"user_id":9104942,"display_name":"Abdusoli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658298164,"creation_date":1658298164,"answer_id":73046817,"question_id":72934338,"body_markdown":"I resolved above issue by increasing jupiter-engine and mockito versions in build.gradle file. \r\n\r\n```\r\njunit-jupiter-engine:5.6.0 -&gt; 5.8.2\r\nmockito-junit-jupiter:2.23.4 -&gt; 4.6.1\r\n```\r\n\r\nAfter that ```Task not serializable``` issue is lost. Even if I remove **implements Serializable** from Test class definition, it is working fine","title":"SparkException: Task not serializable - Java","body":"<p>I resolved above issue by increasing jupiter-engine and mockito versions in build.gradle file.</p>\n<pre><code>junit-jupiter-engine:5.6.0 -&gt; 5.8.2\nmockito-junit-jupiter:2.23.4 -&gt; 4.6.1\n</code></pre>\n<p>After that <code>Task not serializable</code> issue is lost. Even if I remove <strong>implements Serializable</strong> from Test class definition, it is working fine</p>\n"}],"owner":{"account_id":12509045,"reputation":661,"user_id":9104942,"display_name":"Abdusoli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659189713,"creation_date":1657519756,"question_id":72934338,"body_markdown":"I am migrating my tests from JUnit4 to JUnit5. Code is working fine in JUnit4, but in JUnit 5, it is throwing ```org.apache.spark.SparkException: Task not serializable```  exception. I tried multiple ways, but now working. ```testAlternativeVegetableIdWithDifferentReadCount``` test is failing, when in ```assertTrue``` line. And when I tried to show Dataset value, it is also throwing an error. What I am doing wrong?\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\npublic class ExportLogicTest implements Serializable {\r\n\r\n    @Mock(serializable = true)\r\n    private TimeProvider timeProvider = new TimeProvider();\r\n\r\n    @Mock(serializable = true)\r\n    private VCFVariantDataProvider vcfVariantDataProvider;\r\n\r\n    @Mock(serializable = true)\r\n    private VCFGenotypeProvider vcfGenotypeProvider;\r\n\r\n    @Mock(serializable = true)\r\n    private AllelesToTargetAssemblyConverter targetToAssemblyConverter;\r\n\r\n    private ExporterParameters&lt;VariantGenotypeExportRequest&gt; defaultParameters = new ExporterParameters&lt;&gt;();\r\n\r\n    private static SparkSession sparkSession;\r\n\r\n    @BeforeAll\r\n    public static void beforeAll() {\r\n        System.setProperty(&quot;parametersKeys&quot;, &quot;unit-tests&quot;);\r\n        sparkSession = SparkSessionTestWrapper.getSparkSession();\r\n    }\r\n\r\n    @AfterAll\r\n    public static void afterAll() {\r\n        sparkSession.close();\r\n    }\r\n\r\n    @AfterEach\r\n    public void afterEach() {\r\n        sparkSession.sql(&quot;DROP DATABASE IF EXISTS dbname CASCADE&quot;);\r\n    }\r\n\r\n    @BeforeEach\r\n    public void init() {\r\n        sparkSession = SparkSessionTestWrapper.getSparkSession();\r\n        sparkSession.sql(&quot;CREATE DATABASE IF NOT EXISTS dbname&quot;);\r\n        VariantGenotypeExportRequest request = new VariantGenotypeExportRequest();\r\n        List&lt;MaterialsProjectIdPairs&gt; projectIdPairsList = new LinkedList&lt;&gt;();\r\n        MaterialsProjectIdPairs projectIdPairs1 = new MaterialsProjectIdPairs();\r\n        projectIdPairs1.setProjectId(&quot;project1&quot;);\r\n        projectIdPairsList.add(projectIdPairs1);\r\n        request.setProjectAndMaterialsPairs(projectIdPairsList);\r\n        defaultParameters.setExportRequest(request);\r\n    }\r\n\r\n    @Test\r\n    void testAlternativeVegetableIdWithDifferentReadCount() throws IOException {\r\n        TestFiles testFiles = new TestFiles(&quot;different_read_count_for_the_same_allele_uid&quot;);\r\n        saveAsTable(readAssemblyCSV(testFiles.getAssemblyFile(), sparkSession), PropertyUtils.getAssemblyTable());\r\n        defaultParameters.getExportRequest().setAssemblyId(&quot;15&quot;);\r\n\r\n        VCFExportLogic exporter = createVCFExporterAndSetUpDefaultParameters(testFiles, sparkSession);\r\n\r\n        Dataset&lt;String&gt; result = vcfFileAndHeaderToString(exporter.runExport(defaultParameters));\r\n        Dataset&lt;String&gt; expectedDF = readExpectedFileToDS(testFiles.getExpectedResult(), sparkSession);\r\n        result.show();\r\n        assertTrue(JavaSparkHelper.equalsDataSets(result, expectedDF));\r\n    }\r\n\r\n    private Dataset&lt;String&gt; vcfFileAndHeaderToString(VCFHeaderAndRows headerAndRows) {\r\n        List&lt;String&gt; columns = Collections.singletonList(headerAndRows.getHeader().get(headerAndRows.getHeader().size() - 1));\r\n        Dataset&lt;String&gt; columnsDS = sparkSession.sqlContext().createDataset(columns, Encoders.STRING());\r\n        Dataset&lt;String&gt; rows = headerAndRows.getRows()\r\n                .map((MapFunction&lt;VCFRow, String&gt;) x -&gt; x.getRow(), Encoders.STRING());\r\n        return columnsDS.union(rows).coalesce(1);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n**Error looks like as below** I am using gradle project.\r\n```\r\nTask not serializable\r\norg.apache.spark.SparkException: Task not serializable\r\n\tat org.apache.spark.util.ClosureCleaner$.ensureSerializable(ClosureCleaner.scala:403)\r\n\tat org.apache.spark.util.ClosureCleaner$.org$apache$spark$util$ClosureCleaner$$clean(ClosureCleaner.scala:393)\r\n\tat org.apache.spark.util.ClosureCleaner$.clean(ClosureCleaner.scala:162)\r\n\tat org.apache.spark.SparkContext.clean(SparkContext.scala:2326)\r\n\tat org.apache.spark.rdd.RDD$$anonfun$mapPartitionsWithIndex$1.apply(RDD.scala:850)\r\n\tat org.apache.spark.rdd.RDD$$anonfun$mapPartitionsWithIndex$1.apply(RDD.scala:849)\r\nCaused by: java.io.NotSerializableException: org.mockito.internal.junit.DefaultStubbingLookupListener\r\nSerialization stack:\r\n\t- object not serializable (class: org.mockito.internal.junit.DefaultStubbingLookupListener, value: org.mockito.internal.junit.DefaultStubbingLookupListener@534cc4a1)\r\n\t- writeObject data (class: java.util.ArrayList)\r\n\t- object (class java.util.ArrayList, [org.mockito.internal.junit.DefaultStubbingLookupListener@534cc4a1])\r\n```","title":"SparkException: Task not serializable - Java","body":"<p>I am migrating my tests from JUnit4 to JUnit5. Code is working fine in JUnit4, but in JUnit 5, it is throwing <code>org.apache.spark.SparkException: Task not serializable</code>  exception. I tried multiple ways, but now working. <code>testAlternativeVegetableIdWithDifferentReadCount</code> test is failing, when in <code>assertTrue</code> line. And when I tried to show Dataset value, it is also throwing an error. What I am doing wrong?</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class ExportLogicTest implements Serializable {\n\n    @Mock(serializable = true)\n    private TimeProvider timeProvider = new TimeProvider();\n\n    @Mock(serializable = true)\n    private VCFVariantDataProvider vcfVariantDataProvider;\n\n    @Mock(serializable = true)\n    private VCFGenotypeProvider vcfGenotypeProvider;\n\n    @Mock(serializable = true)\n    private AllelesToTargetAssemblyConverter targetToAssemblyConverter;\n\n    private ExporterParameters&lt;VariantGenotypeExportRequest&gt; defaultParameters = new ExporterParameters&lt;&gt;();\n\n    private static SparkSession sparkSession;\n\n    @BeforeAll\n    public static void beforeAll() {\n        System.setProperty(&quot;parametersKeys&quot;, &quot;unit-tests&quot;);\n        sparkSession = SparkSessionTestWrapper.getSparkSession();\n    }\n\n    @AfterAll\n    public static void afterAll() {\n        sparkSession.close();\n    }\n\n    @AfterEach\n    public void afterEach() {\n        sparkSession.sql(&quot;DROP DATABASE IF EXISTS dbname CASCADE&quot;);\n    }\n\n    @BeforeEach\n    public void init() {\n        sparkSession = SparkSessionTestWrapper.getSparkSession();\n        sparkSession.sql(&quot;CREATE DATABASE IF NOT EXISTS dbname&quot;);\n        VariantGenotypeExportRequest request = new VariantGenotypeExportRequest();\n        List&lt;MaterialsProjectIdPairs&gt; projectIdPairsList = new LinkedList&lt;&gt;();\n        MaterialsProjectIdPairs projectIdPairs1 = new MaterialsProjectIdPairs();\n        projectIdPairs1.setProjectId(&quot;project1&quot;);\n        projectIdPairsList.add(projectIdPairs1);\n        request.setProjectAndMaterialsPairs(projectIdPairsList);\n        defaultParameters.setExportRequest(request);\n    }\n\n    @Test\n    void testAlternativeVegetableIdWithDifferentReadCount() throws IOException {\n        TestFiles testFiles = new TestFiles(&quot;different_read_count_for_the_same_allele_uid&quot;);\n        saveAsTable(readAssemblyCSV(testFiles.getAssemblyFile(), sparkSession), PropertyUtils.getAssemblyTable());\n        defaultParameters.getExportRequest().setAssemblyId(&quot;15&quot;);\n\n        VCFExportLogic exporter = createVCFExporterAndSetUpDefaultParameters(testFiles, sparkSession);\n\n        Dataset&lt;String&gt; result = vcfFileAndHeaderToString(exporter.runExport(defaultParameters));\n        Dataset&lt;String&gt; expectedDF = readExpectedFileToDS(testFiles.getExpectedResult(), sparkSession);\n        result.show();\n        assertTrue(JavaSparkHelper.equalsDataSets(result, expectedDF));\n    }\n\n    private Dataset&lt;String&gt; vcfFileAndHeaderToString(VCFHeaderAndRows headerAndRows) {\n        List&lt;String&gt; columns = Collections.singletonList(headerAndRows.getHeader().get(headerAndRows.getHeader().size() - 1));\n        Dataset&lt;String&gt; columnsDS = sparkSession.sqlContext().createDataset(columns, Encoders.STRING());\n        Dataset&lt;String&gt; rows = headerAndRows.getRows()\n                .map((MapFunction&lt;VCFRow, String&gt;) x -&gt; x.getRow(), Encoders.STRING());\n        return columnsDS.union(rows).coalesce(1);\n    }\n\n}\n</code></pre>\n<p><strong>Error looks like as below</strong> I am using gradle project.</p>\n<pre><code>Task not serializable\norg.apache.spark.SparkException: Task not serializable\n    at org.apache.spark.util.ClosureCleaner$.ensureSerializable(ClosureCleaner.scala:403)\n    at org.apache.spark.util.ClosureCleaner$.org$apache$spark$util$ClosureCleaner$$clean(ClosureCleaner.scala:393)\n    at org.apache.spark.util.ClosureCleaner$.clean(ClosureCleaner.scala:162)\n    at org.apache.spark.SparkContext.clean(SparkContext.scala:2326)\n    at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsWithIndex$1.apply(RDD.scala:850)\n    at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsWithIndex$1.apply(RDD.scala:849)\nCaused by: java.io.NotSerializableException: org.mockito.internal.junit.DefaultStubbingLookupListener\nSerialization stack:\n    - object not serializable (class: org.mockito.internal.junit.DefaultStubbingLookupListener, value: org.mockito.internal.junit.DefaultStubbingLookupListener@534cc4a1)\n    - writeObject data (class: java.util.ArrayList)\n    - object (class java.util.ArrayList, [org.mockito.internal.junit.DefaultStubbingLookupListener@534cc4a1])\n</code></pre>\n"},{"tags":["java","android","google-cloud-firestore"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1659188765,"post_id":73175814,"comment_id":129236908,"body_markdown":"Going forward, please only use the `android-studio` tag for questions about the Android Studio IDE itself. For questions about Android programming in general, use the `android` tag.","body":"Going forward, please only use the <code>android-studio</code> tag for questions about the Android Studio IDE itself. For questions about Android programming in general, use the <code>android</code> tag."},{"owner":{"account_id":24526295,"reputation":31,"user_id":18438715,"display_name":"Kersey"},"score":0,"creation_date":1659188917,"post_id":73175814,"comment_id":129236938,"body_markdown":"Understood! Apologies for my mistake.","body":"Understood! Apologies for my mistake."}],"answers":[{"tags":[],"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659187880,"creation_date":1659187880,"answer_id":73176033,"question_id":73175814,"body_markdown":"Your code is explicitly asking Firestore for a long (integer) value:\r\n\r\n```\r\ndocumentSnapshot.getLong(&quot;Points&quot;)\r\n```\r\n\r\nThat&#39;s not what you want.  You want a double (floating point) value instead using [getDouble()][1]:\r\n\r\n```\r\ndocumentSnapshot.getDouble(&quot;Points&quot;)\r\n```\r\n\r\nYou can then turn that into a string for your TextView.\r\n\r\n  [1]: https://documentSnapshot.getLong(%22Points%22)","title":"How to display decimal value from firestore database to android studio","body":"<p>Your code is explicitly asking Firestore for a long (integer) value:</p>\n<pre><code>documentSnapshot.getLong(&quot;Points&quot;)\n</code></pre>\n<p>That's not what you want.  You want a double (floating point) value instead using <a href=\"https://documentSnapshot.getLong(%22Points%22)\" rel=\"nofollow noreferrer\">getDouble()</a>:</p>\n<pre><code>documentSnapshot.getDouble(&quot;Points&quot;)\n</code></pre>\n<p>You can then turn that into a string for your TextView.</p>\n"}],"owner":{"account_id":24526295,"reputation":31,"user_id":18438715,"display_name":"Kersey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73176033,"answer_count":1,"score":1,"last_activity_date":1659188745,"creation_date":1659185860,"question_id":73175814,"body_markdown":"I&#39;m trying to show the points from my firestore database unto my android application but it only shows whole number instead of actually including the decimal numbers.\r\nFirestore database: https://i.stack.imgur.com/UyexJ.jpg\r\nAndroid application: https://i.stack.imgur.com/zffM3.jpg\r\n\r\nI have read previous posts about format(&quot;#.##&quot;) or \r\nDecimalFormat(&quot;#,###.####&quot;) \r\nbut I&#39;m not entirely sure how to apply that to my code.\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    private TextView powents;\r\n    FirebaseFirestore fStore;\r\n    FirebaseAuth fAuth;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Button logout = findViewById(R.id.logout);\r\n        ImageView qrimage = findViewById(R.id.qrimage);\r\n        powents = findViewById(R.id.powents);\r\n        fStore = FirebaseFirestore.getInstance();\r\n        fAuth = FirebaseAuth.getInstance();\r\n\r\n        FirebaseUser user = fAuth.getCurrentUser();\r\n        if (user != null) {\r\n            String mail = user.getEmail();\r\n            DocumentReference docref = fStore.collection(&quot;Users&quot;).document(mail);\r\n            docref.addSnapshotListener(this, (documentSnapshot, error) -&gt; {\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n                    powents.setText(String.valueOf(Math.toIntExact(documentSnapshot.getLong(&quot;Points&quot;))));\r\n                }\r\n            });\r\n        }\r\n        try {\r\n            BarcodeEncoder barcode = new BarcodeEncoder();\r\n            Bitmap bitmap = barcode.encodeBitmap(Objects.requireNonNull(FirebaseAuth.getInstance().getCurrentUser()).getEmail(), BarcodeFormat.QR_CODE, 650, 650);\r\n            qrimage.setImageBitmap(bitmap);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        logout.setOnClickListener(view -&gt; {\r\n            FirebaseAuth.getInstance().signOut();\r\n            Toast.makeText(MainActivity.this, &quot;Logged Out!&quot;, Toast.LENGTH_SHORT).show();\r\n            startActivity(new Intent(MainActivity.this, Login.class));\r\n            finish();\r\n        });\r\n    }\r\n}\r\n```","title":"How to display decimal value from firestore database to android studio","body":"<p>I'm trying to show the points from my firestore database unto my android application but it only shows whole number instead of actually including the decimal numbers.\nFirestore database: <a href=\"https://i.stack.imgur.com/UyexJ.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/UyexJ.jpg</a>\nAndroid application: <a href=\"https://i.stack.imgur.com/zffM3.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/zffM3.jpg</a></p>\n<p>I have read previous posts about format(&quot;#.##&quot;) or\nDecimalFormat(&quot;#,###.####&quot;)\nbut I'm not entirely sure how to apply that to my code.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private TextView powents;\n    FirebaseFirestore fStore;\n    FirebaseAuth fAuth;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Button logout = findViewById(R.id.logout);\n        ImageView qrimage = findViewById(R.id.qrimage);\n        powents = findViewById(R.id.powents);\n        fStore = FirebaseFirestore.getInstance();\n        fAuth = FirebaseAuth.getInstance();\n\n        FirebaseUser user = fAuth.getCurrentUser();\n        if (user != null) {\n            String mail = user.getEmail();\n            DocumentReference docref = fStore.collection(&quot;Users&quot;).document(mail);\n            docref.addSnapshotListener(this, (documentSnapshot, error) -&gt; {\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n                    powents.setText(String.valueOf(Math.toIntExact(documentSnapshot.getLong(&quot;Points&quot;))));\n                }\n            });\n        }\n        try {\n            BarcodeEncoder barcode = new BarcodeEncoder();\n            Bitmap bitmap = barcode.encodeBitmap(Objects.requireNonNull(FirebaseAuth.getInstance().getCurrentUser()).getEmail(), BarcodeFormat.QR_CODE, 650, 650);\n            qrimage.setImageBitmap(bitmap);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        logout.setOnClickListener(view -&gt; {\n            FirebaseAuth.getInstance().signOut();\n            Toast.makeText(MainActivity.this, &quot;Logged Out!&quot;, Toast.LENGTH_SHORT).show();\n            startActivity(new Intent(MainActivity.this, Login.class));\n            finish();\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","servlets","cookies"],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1328246119,"creation_date":1328189807,"answer_id":9113287,"question_id":9109318,"body_markdown":"Version 0 cookie values are restrictive in allowed characters. It only allows URL-safe characters. This covers among others the alphanumeric characters (a-z, A-Z and 0-9) and only a few lexical characters, including `-`, `_`, `.`, `~` and `%`. All other characters are invalid in version 0 cookies.\r\n\r\nYour best bet is to URL-encode those characters. This way every character which is not allowed in URLs will be percent-encoded in this form `%xx` which is valid as cookie value.\r\n\r\nSo, when creating the cookie do:\r\n\r\n    Cookie cookie = new Cookie(name, URLEncoder.encode(value, &quot;UTF-8&quot;));\r\n    // ...\r\n\r\nAnd when reading the cookie, do:\r\n\r\n    String value = URLDecoder.decode(cookie.getValue(), &quot;UTF-8&quot;);\r\n    // ...","title":"java.lang.IllegalArgumentException: Control character in cookie value or attribute","body":"<p>Version 0 cookie values are restrictive in allowed characters. It only allows URL-safe characters. This covers among others the alphanumeric characters (a-z, A-Z and 0-9) and only a few lexical characters, including <code>-</code>, <code>_</code>, <code>.</code>, <code>~</code> and <code>%</code>. All other characters are invalid in version 0 cookies.</p>\n\n<p>Your best bet is to URL-encode those characters. This way every character which is not allowed in URLs will be percent-encoded in this form <code>%xx</code> which is valid as cookie value.</p>\n\n<p>So, when creating the cookie do:</p>\n\n<pre><code>Cookie cookie = new Cookie(name, URLEncoder.encode(value, \"UTF-8\"));\n// ...\n</code></pre>\n\n<p>And when reading the cookie, do:</p>\n\n<pre><code>String value = URLDecoder.decode(cookie.getValue(), \"UTF-8\");\n// ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9430282,"reputation":21,"user_id":7014041,"display_name":"Ertan Cakir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659187716,"creation_date":1659187394,"answer_id":73175984,"question_id":9109318,"body_markdown":"this answer might be not relevant for this question but i get this error with JBoss EAP\r\nso if you are using JBoss EAP you should change EAP language in standalone.conf.bat\r\n\r\n\r\nfind this line\r\n&gt; set &quot;JAVA_OPTS=-Xms1G -Xmx1G -XX:MetaspaceSize=96M\r\n&gt; -XX:MaxMetaspaceSize=256m&quot;\r\n\r\nand add this parameter after -Xmx1G\r\n\r\n&gt; -Duser.language=en\r\n\r\n\r\n\r\n","title":"java.lang.IllegalArgumentException: Control character in cookie value or attribute","body":"<p>this answer might be not relevant for this question but i get this error with JBoss EAP\nso if you are using JBoss EAP you should change EAP language in standalone.conf.bat</p>\n<p>find this line</p>\n<blockquote>\n<p>set &quot;JAVA_OPTS=-Xms1G -Xmx1G -XX:MetaspaceSize=96M\n-XX:MaxMetaspaceSize=256m&quot;</p>\n</blockquote>\n<p>and add this parameter after -Xmx1G</p>\n<blockquote>\n<p>-Duser.language=en</p>\n</blockquote>\n"}],"owner":{"account_id":1096321,"reputation":1559,"user_id":1089851,"accept_rate":42,"display_name":"Nishit Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31695,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":9113287,"answer_count":2,"score":14,"last_activity_date":1659187716,"creation_date":1328172220,"question_id":9109318,"body_markdown":"I am trying to set the unicode value inside the cookie but it doesn&#39;t accept this and throws Exception. I have checked the hexadecimal value of the string and it is correct but throws Exception while adding to a cookie.\r\n\r\n\r\n    private void fnSetCookieValues(HttpServletRequest request,HttpServletResponse response) \r\n    \t{\r\n    \t\t\r\n    \t\tCookie[] cookies=request.getCookies();\r\n    \t\tfor (int i = 0; i &lt; cookies.length; i++) {\r\n    \t\t\t\t\r\n    \t\t\tSystem.out.println(&quot;&quot;+cookies.length+&quot;Name&quot;+cookies[i].getName());\r\n    \t\t\t\t\t\t\r\n    \t\t\tif(cookies[i].getName().equals(&quot;DNString&quot;))\r\n    \t\t\t{\t\r\n    \t\t\t\tSystem.out.println(&quot;Inside if:: &quot;+cookies[i].getValue()+&quot;&quot;+cookies.length);\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tString strValue;\r\n    \t\t\t\t\tstrValue = new String(request.getParameter(&quot;txtIIDN&quot;).getBytes(&quot;8859_1&quot;),&quot;UTF8&quot;);\r\n    \t\t\t\t\tSystem.out.println(&quot;Cookie Value To be stored&quot;+strValue);\r\n    \t\t\t\t\tfor (int j = 0; j &lt; strValue.length(); j++) {\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\tSystem.out.println(&quot;Code Point&quot;+Integer.toHexString(strValue.codePointAt(j)));\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tCookie ck = new Cookie(&quot;DNString&quot;,strValue);\r\n    \t\t\t\t\tresponse.addCookie(ck);\r\n    \t\t\t\t\r\n    \t\t\t\t} catch (UnsupportedEncodingException e) {\r\n    \t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\r\n    \t}\r\n\r\n\r\nI get:\r\n\r\n    java.lang.IllegalArgumentException: Control character in cookie value or attribute.\r\n\r\nwhen adding the cookie to response object. I am using Tomcat 7 and Java 7 as the runtime environment.","title":"java.lang.IllegalArgumentException: Control character in cookie value or attribute","body":"<p>I am trying to set the unicode value inside the cookie but it doesn't accept this and throws Exception. I have checked the hexadecimal value of the string and it is correct but throws Exception while adding to a cookie.</p>\n\n<pre><code>private void fnSetCookieValues(HttpServletRequest request,HttpServletResponse response) \n    {\n\n        Cookie[] cookies=request.getCookies();\n        for (int i = 0; i &lt; cookies.length; i++) {\n\n            System.out.println(\"\"+cookies.length+\"Name\"+cookies[i].getName());\n\n            if(cookies[i].getName().equals(\"DNString\"))\n            {   \n                System.out.println(\"Inside if:: \"+cookies[i].getValue()+\"\"+cookies.length);\n                try {\n\n                    String strValue;\n                    strValue = new String(request.getParameter(\"txtIIDN\").getBytes(\"8859_1\"),\"UTF8\");\n                    System.out.println(\"Cookie Value To be stored\"+strValue);\n                    for (int j = 0; j &lt; strValue.length(); j++) {\n\n                        System.out.println(\"Code Point\"+Integer.toHexString(strValue.codePointAt(j)));\n\n                    }\n\n\n                    Cookie ck = new Cookie(\"DNString\",strValue);\n                    response.addCookie(ck);\n\n                } catch (UnsupportedEncodingException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n\n\n            }\n        }\n\n    }\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>java.lang.IllegalArgumentException: Control character in cookie value or attribute.\n</code></pre>\n\n<p>when adding the cookie to response object. I am using Tomcat 7 and Java 7 as the runtime environment.</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":4,"creation_date":1659056771,"post_id":73160611,"comment_id":129210547,"body_markdown":"There is no difference.  This is not worth caring about.","body":"There is no difference.  This is not worth caring about."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":5,"creation_date":1659058261,"post_id":73160611,"comment_id":129210738,"body_markdown":"Actually, in the general case there **can be** a performance difference.  But you need to look at the specific `List` implementation to understand what it will be.  (For the standard `ArrayList` and `LinkedList` there is no difference.)","body":"Actually, in the general case there <b>can be</b> a performance difference.  But you need to look at the specific <code>List</code> implementation to understand what it will be.  (For the standard <code>ArrayList</code> and <code>LinkedList</code> there is no difference.)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1659058516,"post_id":73160611,"comment_id":129210767,"body_markdown":"There is a general principle: don&#39;t optimize things unless you *know* that optimization is necessary.  And they only real what to know that (accurately) is to benchmark and profile *at the application level* ... before you start optimizing.  Then just optimize the hotspots.  Beware of premature optimization.  It is a waste of time and effort.","body":"There is a general principle: don&#39;t optimize things unless you <i>know</i> that optimization is necessary.  And they only real what to know that (accurately) is to benchmark and profile <i>at the application level</i> ... before you start optimizing.  Then just optimize the hotspots.  Beware of premature optimization.  It is a waste of time and effort."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1659178015,"post_id":73160611,"comment_id":129234709,"body_markdown":"There are only two possible scenarios 1) implementations where `isEmpty()` as just the same as `size() == 0` (where the current size is stored in a field) and 2) implementations where `size()` has to perform an actual, potentially expensive counting operation but `isEmpty()` can be much cheaper, as the actual count is not needed. In general, there is no reason not to use `isEmpty()` when you want to know whether a collections *is empty*.","body":"There are only two possible scenarios 1) implementations where <code>isEmpty()</code> as just the same as <code>size() == 0</code> (where the current size is stored in a field) and 2) implementations where <code>size()</code> has to perform an actual, potentially expensive counting operation but <code>isEmpty()</code> can be much cheaper, as the actual count is not needed. In general, there is no reason not to use <code>isEmpty()</code> when you want to know whether a collections <i>is empty</i>."}],"answers":[{"tags":[],"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1659187680,"creation_date":1659056949,"answer_id":73160647,"question_id":73160611,"body_markdown":"For common list implementations, they&#39;re exactly the same. Looking at the source code of OpenJDK&#39;s [`ArrayList`](https://github.com/openjdk/jdk8u/blob/master/jdk/src/share/classes/java/util/ArrayList.java), the implementation of `isEmpty()` is as follows:\r\n\r\n    public boolean isEmpty() {\r\n        return size == 0;\r\n    }\r\n\r\nAnd the implementation of `size()`:\r\n\r\n    public int size() {\r\n        return size;\r\n    }\r\n\r\nIn general, this type of *nano*-optimization is almost never worth caring about. If a more readable standard method is available, use it.\r\n\r\nWhen in doubt, check the Javadoc, the source code of the JDK you&#39;re using, or perform a micro-benchmark.","title":"{list}.size() == 0 or {list}.isEmpty() ? what is more performance effective?","body":"<p>For common list implementations, they're exactly the same. Looking at the source code of OpenJDK's <a href=\"https://github.com/openjdk/jdk8u/blob/master/jdk/src/share/classes/java/util/ArrayList.java\" rel=\"nofollow noreferrer\"><code>ArrayList</code></a>, the implementation of <code>isEmpty()</code> is as follows:</p>\n<pre><code>public boolean isEmpty() {\n    return size == 0;\n}\n</code></pre>\n<p>And the implementation of <code>size()</code>:</p>\n<pre><code>public int size() {\n    return size;\n}\n</code></pre>\n<p>In general, this type of <em>nano</em>-optimization is almost never worth caring about. If a more readable standard method is available, use it.</p>\n<p>When in doubt, check the Javadoc, the source code of the JDK you're using, or perform a micro-benchmark.</p>\n"}],"owner":{"account_id":6853454,"reputation":13,"user_id":5269875,"display_name":"Dilan Madurapperuma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1659058137,"accepted_answer_id":73160647,"answer_count":1,"score":-3,"last_activity_date":1659187680,"creation_date":1659056492,"question_id":73160611,"body_markdown":"Appreciate if you could explain the performance efficiency of the following 2 methods to check the emptiness of List in Java. \r\n\r\n - {list}.size() == 0 \r\n - {list}.isEmpty() \r\n\r\n ","title":"{list}.size() == 0 or {list}.isEmpty() ? what is more performance effective?","body":"<p>Appreciate if you could explain the performance efficiency of the following 2 methods to check the emptiness of List in Java.</p>\n<ul>\n<li>{list}.size() == 0</li>\n<li>{list}.isEmpty()</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","jwt"],"comments":[{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1659261165,"post_id":70174558,"comment_id":129248366,"body_markdown":"I&#39;m not sure about putting lipstick on this one, @PeterMortensen. There&#39;s nothing Spring Boot specific neither in the question, nor in the answer, and honestly speaking I&#39;m not 100% convinced the answerer fully understood refresh tokens either.","body":"I&#39;m not sure about putting lipstick on this one, @PeterMortensen. There&#39;s nothing Spring Boot specific neither in the question, nor in the answer, and honestly speaking I&#39;m not 100% convinced the answerer fully understood refresh tokens either."}],"answers":[{"tags":[],"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659187479,"creation_date":1638309408,"answer_id":70176632,"question_id":70174558,"body_markdown":"In the case of the refresh token flow, it&#39;s the client&#39;s responsibility to securely manage the refresh token. Once the access token expires, the client can use an earlier saved refresh token to get new access and an optional refresh token. \r\n\r\nAs you asked about the approach for storing the refresh token on the server-side, I think storing it in the datastore for later validation purposes while issuing the new access token has one important advantage. By doing so you can always restrict or revoke access to the services. It will make sense in the case where the refresh token has a longer validation time and the server is not issuing a new refresh token with a new access token during the refresh token flow.\r\n\r\n","title":"What is the best practice for JWT in Spring Boot?","body":"<p>In the case of the refresh token flow, it's the client's responsibility to securely manage the refresh token. Once the access token expires, the client can use an earlier saved refresh token to get new access and an optional refresh token.</p>\n<p>As you asked about the approach for storing the refresh token on the server-side, I think storing it in the datastore for later validation purposes while issuing the new access token has one important advantage. By doing so you can always restrict or revoke access to the services. It will make sense in the case where the refresh token has a longer validation time and the server is not issuing a new refresh token with a new access token during the refresh token flow.</p>\n"}],"owner":{"account_id":15806216,"reputation":13,"user_id":11404662,"display_name":"M.Cyber"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":383,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1659268588,"accepted_answer_id":70176632,"answer_count":1,"score":1,"last_activity_date":1659187479,"creation_date":1638298184,"question_id":70174558,"body_markdown":"I would like to start a project with [Spring Boot][1] and [JWT][2]. I saw some examples which save the refresh tokens in the database. Do I have to insert refresh tokens into the database, or do I have another best practice way?\r\n\r\nAnd if I have to insert into the database, for removing expired tokens, should I make a job in Spring?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Spring_Framework#Spring_Boot\r\n  [2]: https://en.wikipedia.org/wiki/JSON_Web_Token\r\n\r\n\r\n","title":"What is the best practice for JWT in Spring Boot?","body":"<p>I would like to start a project with <a href=\"https://en.wikipedia.org/wiki/Spring_Framework#Spring_Boot\" rel=\"nofollow noreferrer\">Spring Boot</a> and <a href=\"https://en.wikipedia.org/wiki/JSON_Web_Token\" rel=\"nofollow noreferrer\">JWT</a>. I saw some examples which save the refresh tokens in the database. Do I have to insert refresh tokens into the database, or do I have another best practice way?</p>\n<p>And if I have to insert into the database, for removing expired tokens, should I make a job in Spring?</p>\n"},{"tags":["java","javafx","imageview","hbox"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1659190163,"post_id":73175982,"comment_id":129237235,"body_markdown":"Is `hbox` part of a Scene when you call `localToScene`?","body":"Is <code>hbox</code> part of a Scene when you call <code>localToScene</code>?"},{"owner":{"account_id":23711524,"reputation":9,"user_id":17733319,"display_name":"Oleg Boldov"},"score":0,"creation_date":1659191504,"post_id":73175982,"comment_id":129237541,"body_markdown":"Yes, hbox is part","body":"Yes, hbox is part"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1659193394,"post_id":73175982,"comment_id":129237960,"body_markdown":"You’re trying to access the layout coordinates before the hbox has been laid out. You can try calling `layout()` before accessing the coordinates, but this seems like an x-y problem. You should probably find a way to do whatever it is you’re trying to do that doesn’t need those coordinates (typically by using an appropriate layout pane that does the layout for you).","body":"You’re trying to access the layout coordinates before the hbox has been laid out. You can try calling <code>layout()</code> before accessing the coordinates, but this seems like an x-y problem. You should probably find a way to do whatever it is you’re trying to do that doesn’t need those coordinates (typically by using an appropriate layout pane that does the layout for you)."},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":0,"creation_date":1659281864,"post_id":73175982,"comment_id":129252519,"body_markdown":"Using an HBox or some other managed layout region and then peeking in to see where things are in X/Y coordinates is usually some kind of a design smell.  What are you going to do with this knowledge?  Maybe you&#39;d be better off using Pane and manually placing everything - then it won&#39;t move around on you automatically.","body":"Using an HBox or some other managed layout region and then peeking in to see where things are in X/Y coordinates is usually some kind of a design smell.  What are you going to do with this knowledge?  Maybe you&#39;d be better off using Pane and manually placing everything - then it won&#39;t move around on you automatically."}],"owner":{"account_id":23711524,"reputation":9,"user_id":17733319,"display_name":"Oleg Boldov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1659205081,"answer_count":0,"score":0,"last_activity_date":1659187377,"creation_date":1659187377,"question_id":73175982,"body_markdown":"I have an Hbox into which I upload images (more than one) in a loop. I&#39;m trying to figure out their coordinates, but the layoutX of each of them = 0, as if they are at the same point (although everything is fine in the application as a result). Moreover, if after some interaction you add an image to another hbox, then its layout is displayed normally.\r\n\r\n        for (Card card:data.getCards()) {\r\n            ImageView imageView=new ImageView(&quot;imageSrc&quot;);\r\n            hbox.getChildren().add(imageView);\r\n            System.out.println(imageView.localToScene(new Point2D(0,0)));\r\n            System.out.println(imageView.getLayoutX());\r\n        }\r\nresult:\r\n\r\n    Point2D [x = 124.0, y = 225.0]\r\n    \r\n    0.0\r\n    \r\n    Point2D [x = 124.0, y = 225.0]\r\n    \r\n    0.0\r\n    \r\n    Point2D [x = 124.0, y = 225.0]\r\n    \r\n    0.0\r\n\r\nhow do I determine the object&#39;s coordinate in this case?\r\n","title":"how to calculate the coordinate of an image in javafx?","body":"<p>I have an Hbox into which I upload images (more than one) in a loop. I'm trying to figure out their coordinates, but the layoutX of each of them = 0, as if they are at the same point (although everything is fine in the application as a result). Moreover, if after some interaction you add an image to another hbox, then its layout is displayed normally.</p>\n<pre><code>    for (Card card:data.getCards()) {\n        ImageView imageView=new ImageView(&quot;imageSrc&quot;);\n        hbox.getChildren().add(imageView);\n        System.out.println(imageView.localToScene(new Point2D(0,0)));\n        System.out.println(imageView.getLayoutX());\n    }\n</code></pre>\n<p>result:</p>\n<pre><code>Point2D [x = 124.0, y = 225.0]\n\n0.0\n\nPoint2D [x = 124.0, y = 225.0]\n\n0.0\n\nPoint2D [x = 124.0, y = 225.0]\n\n0.0\n</code></pre>\n<p>how do I determine the object's coordinate in this case?</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1659187874,"post_id":73175962,"comment_id":129236734,"body_markdown":"Using `apache poi 5.2.2` [CellStyle.getFontIndex](https://svn.apache.org/viewvc/poi/tags/REL_5_2_2/poi/src/main/java/org/apache/poi/ss/usermodel/CellStyle.java?view=markup#l56) returns a `int` and [Workbook.getFontAt](https://svn.apache.org/viewvc/poi/tags/REL_5_2_2/poi/src/main/java/org/apache/poi/ss/usermodel/Workbook.java?view=markup#l309) expects a `int` too.","body":"Using <code>apache poi 5.2.2</code> <a href=\"https://svn.apache.org/viewvc/poi/tags/REL_5_2_2/poi/src/main/java/org/apache/poi/ss/usermodel/CellStyle.java?view=markup#l56\" rel=\"nofollow noreferrer\">CellStyle.getFontIndex</a> returns a <code>int</code> and <a href=\"https://svn.apache.org/viewvc/poi/tags/REL_5_2_2/poi/src/main/java/org/apache/poi/ss/usermodel/Workbook.java?view=markup#l309\" rel=\"nofollow noreferrer\">Workbook.getFontAt</a> expects a <code>int</code> too."},{"owner":{"account_id":11582689,"reputation":35,"user_id":8486037,"display_name":"Alexdu98"},"score":0,"creation_date":1659188238,"post_id":73175962,"comment_id":129236804,"body_markdown":"Thanks. Intellij needed to rebuild Maven projects in addition to mvn clean install to get the update.","body":"Thanks. Intellij needed to rebuild Maven projects in addition to mvn clean install to get the update."}],"owner":{"account_id":11582689,"reputation":35,"user_id":8486037,"display_name":"Alexdu98"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659187247,"creation_date":1659187247,"question_id":73175962,"body_markdown":"I migrate Apache POI from 3.17 to 5.2.2.\r\n\r\nThe code below produces an error &quot;incompatible types: possible lossy conversion from int to short&quot; in compile step on third line and I don&#39;t understand why because getFontIndex return a short and getFontAt take a short too.\r\n\r\nCan you help me please ?\r\n\r\n    Workbook wb = sheet.getWorkbook();\r\n    CellStyle cellStyle = longestTextCell.getCellStyle();\r\n    short fontIndex = cellStyle.getFontIndex();\r\n    Font excelFont = wb.getFontAt(fontIndex);\r\n\r\nPS : fontIndex is not used elsewhere.","title":"Apache POI getFontIndex : incompatible types: possible lossy conversion from int to short","body":"<p>I migrate Apache POI from 3.17 to 5.2.2.</p>\n<p>The code below produces an error &quot;incompatible types: possible lossy conversion from int to short&quot; in compile step on third line and I don't understand why because getFontIndex return a short and getFontAt take a short too.</p>\n<p>Can you help me please ?</p>\n<pre><code>Workbook wb = sheet.getWorkbook();\nCellStyle cellStyle = longestTextCell.getCellStyle();\nshort fontIndex = cellStyle.getFontIndex();\nFont excelFont = wb.getFontAt(fontIndex);\n</code></pre>\n<p>PS : fontIndex is not used elsewhere.</p>\n"},{"tags":["java","memory","jvm"],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1659103936,"creation_date":1659103936,"answer_id":73167790,"question_id":73126185,"body_markdown":"The overhead of Native Memory Tracking obviously depends on how often the application allocates native memory. Usually, this is not something too frequent in a Java application, but cases may differ. Since you&#39;ve already tried and didn&#39;t notice performance difference, your application is apparently not an exception.\r\n\r\nIn the `summary` mode, Native Memory Tracking roughly does the following things:\r\n\r\n - increases every `malloc` request in the JVM by 2 machine words (16 bytes);\r\n - records the allocation size and flags in these 2 words;\r\n - atomically increments (or decrements on `free`) the counter corresponding to the given memory type;\r\n - besides `malloc` and `free`, it also handles changes in virtual memory reservation and allocations of new arenas, but these are even less frequent than `malloc/free` calls.\r\n\r\nSo, to me, the overhead is quite small; 5-10% is definitely a large overestimation (the numbers would make sense for `detail` mode which collects and stores stack traces, which is expensive, but `summary` doesn&#39;t do that).\r\n\r\nWhen many threads concurrently allocate/free native memory, the update of an atomic counter could become a bottleneck, but again, that&#39;s more like an extreme case. In short, if you measured a real application and didn&#39;t notice any degradation, you&#39;re likely safe to enable NMT summary in production.","title":"What is overhead of Java Native Memory Tracking in &quot;summary&quot; mode?","body":"<p>The overhead of Native Memory Tracking obviously depends on how often the application allocates native memory. Usually, this is not something too frequent in a Java application, but cases may differ. Since you've already tried and didn't notice performance difference, your application is apparently not an exception.</p>\n<p>In the <code>summary</code> mode, Native Memory Tracking roughly does the following things:</p>\n<ul>\n<li>increases every <code>malloc</code> request in the JVM by 2 machine words (16 bytes);</li>\n<li>records the allocation size and flags in these 2 words;</li>\n<li>atomically increments (or decrements on <code>free</code>) the counter corresponding to the given memory type;</li>\n<li>besides <code>malloc</code> and <code>free</code>, it also handles changes in virtual memory reservation and allocations of new arenas, but these are even less frequent than <code>malloc/free</code> calls.</li>\n</ul>\n<p>So, to me, the overhead is quite small; 5-10% is definitely a large overestimation (the numbers would make sense for <code>detail</code> mode which collects and stores stack traces, which is expensive, but <code>summary</code> doesn't do that).</p>\n<p>When many threads concurrently allocate/free native memory, the update of an atomic counter could become a bottleneck, but again, that's more like an extreme case. In short, if you measured a real application and didn't notice any degradation, you're likely safe to enable NMT summary in production.</p>\n"},{"tags":[],"owner":{"account_id":4374240,"reputation":405,"user_id":3689118,"display_name":"Thomas Stuefe"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1659185855,"creation_date":1659185388,"answer_id":73175766,"question_id":73126185,"body_markdown":"*Disclaimer: I base my answer on JDK 18. Most of what I write should be valid for older releases. When in doubt, you need to measure for yourself.*\r\n\r\n## Background:\r\n\r\nNMT tracks hotspot VM memory usage and memory usage done via Direct Byte Buffers. Basically, it hooks into malloc/free and mmap/munmap calls and does accounting.\r\n\r\nIt does *not* track other JDK memory usage (outside hotspot VM) or usage by third-party libraries. That matters here, since it makes NMT behavior somewhat predictable. Hotspot tries to avoid fine-grained allocations via malloc. Instead, it relies on custom memory managers like Arenas, code heap or Metaspace.\r\n\r\nTherefore, for most applications, mallocs/mmap from hotspot are not that &quot;hot&quot; and the number of mallocs is not that large.\r\n\r\nI&#39;ll focus on malloc/free for the rest of this writeup since they outnumber the number of mmaps/munmaps by far:\r\n\r\n### Memory cost:\r\n\r\n1) (detail+summary): \t2 words per malloc()\r\n2) (detail only):  \t    Malloc site table\r\n3) (detail+summary):    mapping lists for vm mappings and thread stacks\r\n\r\nHere, (1) completely dwarfs (2) and (3). Therefore the memory overhead between summary and detail mode is not significant.\r\n\r\nNote that even (1) may not matter that much, since the underlying libc allocator already dictates a minimal allocation size that may be larger than (pure allocation size + 16 byte malloc header). So, how much of the NMT memory overhead actually translates into RSS increase needs to be measured.\r\n\r\nHow much memory overhead in total this means cannot be answered since JVM memory costs are usually dominated by heap size. So, comparing RSS with NMT cost is almost meaningless. But just to give an example, for spring petclinic with 1GB pretouched heap NMT memory overhead is about 0.5%.\r\n\r\nIn my experience, NMT memory overhead only matters in pathological situations or in corner cases that cause the JVM to do tons of fine-grained allocations. E.g. if one does insane amount of class loading. But often these are the cases where you want NMT enabled, to see what&#39;s going on.\r\n\r\n## Performance cost:\r\n\r\nNMT does need some synchronization. It atomically increases counters on each malloc/free in summary mode. \r\n\r\nIn detail mode, it does a lot more: \r\n- capture call stack on malloc site\r\n- look for call stack in hash map\r\n- increase hash map entry counters\r\n\r\nThis requires more cycles. Hash map is lock free, but still modified with atomic operations. It looks expensive, especially if hotspot does many mallocs from different threads. How bad is it really?\r\n\r\n### Worst case example\r\n\r\nMicro-benchmark, 64 mio malloc allocations (via Unsafe.allocateMemory()) done by 100 concurrent threads, on a 24 core machine:\r\n\r\n```\r\nNMT off: \t\t6 \tsecs\r\nNMT summary: \t34  secs\r\nNMT detail:     46  secs\r\n```\r\n\r\nThat looks insane. However, it may not matter in practice, since this is no real-life example.\r\n\r\n### Spring petclinic bootup, average of ten runs:\r\n\r\n```\r\nNMT off:               3.79 secs\r\nNMT summary:           3.79 secs  (+0%)\r\nNMT detail:            3.91 secs  (+3%)\r\n```\r\n\r\nSo, here, not so bad. Cost of summary mode actually disappeared in test noise.\r\n\r\n### Renaissance, philosophers benchmark\r\n\r\nInteresting example, since this does a lot of synchronization, leads to many object monitors being inflated, and those are malloced:\r\n\r\nAverage benchmark scores:\r\n\r\n```\r\nNMT off:               4697\r\nNMT summary:           4599  (-2%)\r\nNMT detail:            4190  (-11%)\r\n```\r\n\r\nSomewhat in the middle between the two other examples.\r\n\r\n### Conclusion\r\n\r\nThere is no clear answer.\r\n\r\nBoth memory- and performance cost depend on how many allocations the JVM does. \r\n\r\nThis number is small for normal well-behaved applications, but it may be large in pathological situations (e.g. JVM bugs) as well as in some corner case scenarios caused by user programs, e.g., lots of class loading or synchronization. To be really sure, you need to measure yourself.\r\n\r\n\r\n","title":"What is overhead of Java Native Memory Tracking in &quot;summary&quot; mode?","body":"<p><em>Disclaimer: I base my answer on JDK 18. Most of what I write should be valid for older releases. When in doubt, you need to measure for yourself.</em></p>\n<h2>Background:</h2>\n<p>NMT tracks hotspot VM memory usage and memory usage done via Direct Byte Buffers. Basically, it hooks into malloc/free and mmap/munmap calls and does accounting.</p>\n<p>It does <em>not</em> track other JDK memory usage (outside hotspot VM) or usage by third-party libraries. That matters here, since it makes NMT behavior somewhat predictable. Hotspot tries to avoid fine-grained allocations via malloc. Instead, it relies on custom memory managers like Arenas, code heap or Metaspace.</p>\n<p>Therefore, for most applications, mallocs/mmap from hotspot are not that &quot;hot&quot; and the number of mallocs is not that large.</p>\n<p>I'll focus on malloc/free for the rest of this writeup since they outnumber the number of mmaps/munmaps by far:</p>\n<h3>Memory cost:</h3>\n<ol>\n<li>(detail+summary):    2 words per malloc()</li>\n<li>(detail only):       Malloc site table</li>\n<li>(detail+summary):    mapping lists for vm mappings and thread stacks</li>\n</ol>\n<p>Here, (1) completely dwarfs (2) and (3). Therefore the memory overhead between summary and detail mode is not significant.</p>\n<p>Note that even (1) may not matter that much, since the underlying libc allocator already dictates a minimal allocation size that may be larger than (pure allocation size + 16 byte malloc header). So, how much of the NMT memory overhead actually translates into RSS increase needs to be measured.</p>\n<p>How much memory overhead in total this means cannot be answered since JVM memory costs are usually dominated by heap size. So, comparing RSS with NMT cost is almost meaningless. But just to give an example, for spring petclinic with 1GB pretouched heap NMT memory overhead is about 0.5%.</p>\n<p>In my experience, NMT memory overhead only matters in pathological situations or in corner cases that cause the JVM to do tons of fine-grained allocations. E.g. if one does insane amount of class loading. But often these are the cases where you want NMT enabled, to see what's going on.</p>\n<h2>Performance cost:</h2>\n<p>NMT does need some synchronization. It atomically increases counters on each malloc/free in summary mode.</p>\n<p>In detail mode, it does a lot more:</p>\n<ul>\n<li>capture call stack on malloc site</li>\n<li>look for call stack in hash map</li>\n<li>increase hash map entry counters</li>\n</ul>\n<p>This requires more cycles. Hash map is lock free, but still modified with atomic operations. It looks expensive, especially if hotspot does many mallocs from different threads. How bad is it really?</p>\n<h3>Worst case example</h3>\n<p>Micro-benchmark, 64 mio malloc allocations (via Unsafe.allocateMemory()) done by 100 concurrent threads, on a 24 core machine:</p>\n<pre><code>NMT off:        6   secs\nNMT summary:    34  secs\nNMT detail:     46  secs\n</code></pre>\n<p>That looks insane. However, it may not matter in practice, since this is no real-life example.</p>\n<h3>Spring petclinic bootup, average of ten runs:</h3>\n<pre><code>NMT off:               3.79 secs\nNMT summary:           3.79 secs  (+0%)\nNMT detail:            3.91 secs  (+3%)\n</code></pre>\n<p>So, here, not so bad. Cost of summary mode actually disappeared in test noise.</p>\n<h3>Renaissance, philosophers benchmark</h3>\n<p>Interesting example, since this does a lot of synchronization, leads to many object monitors being inflated, and those are malloced:</p>\n<p>Average benchmark scores:</p>\n<pre><code>NMT off:               4697\nNMT summary:           4599  (-2%)\nNMT detail:            4190  (-11%)\n</code></pre>\n<p>Somewhat in the middle between the two other examples.</p>\n<h3>Conclusion</h3>\n<p>There is no clear answer.</p>\n<p>Both memory- and performance cost depend on how many allocations the JVM does.</p>\n<p>This number is small for normal well-behaved applications, but it may be large in pathological situations (e.g. JVM bugs) as well as in some corner case scenarios caused by user programs, e.g., lots of class loading or synchronization. To be really sure, you need to measure yourself.</p>\n"}],"owner":{"account_id":1217449,"reputation":4099,"user_id":1184752,"accept_rate":43,"display_name":"Juraj Martinka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2173,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":73167790,"answer_count":2,"score":14,"last_activity_date":1659185855,"creation_date":1658849686,"question_id":73126185,"body_markdown":"I&#39;m wondering what is the real/typical overhead when NMT is enabled via `‑XX:NativeMemoryTracking=summary` (the full command options I&#39;m after are `-XX:+UnlockDiagnosticVMOptions ‑XX:NativeMemoryTracking=summary ‑XX:+PrintNMTStatistics`)\r\n\r\nI could not find much information anywhere - either on SO, blog posts or the official docs.\r\nThe docs say: \r\n&gt; Note: Enabling NMT causes a **5% -10% performance overhead**.\r\n\r\nBut they do not say which mode is expected to have this performance overhead (both *summary* and *detail*?) \r\nand what this overhead really is (CPU, memory, ...).\r\nIn [Native Memory Tracking guide][1] they claim: \r\n\r\n&gt;  Enabling NMT will result in a 5-10 percent JVM performance drop, and memory usage for NMT adds 2 machine words to all malloc memory as a malloc header. NMT memory usage is also tracked by NMT.\r\n\r\nBut again, is this true for both *summary* and *detail* mode?\r\n\r\n\r\nWhat I&#39;m after is basically whether it&#39;s safe to add `‑XX:NativeMemoryTracking=summary` permanently for a production app (similar to *continuous* JFR recording) and what are potential costs.\r\nSo far, when testing this on our app, I didn&#39;t spot a difference but it&#39;s difficult to \r\n\r\nIs there an authoritative source of information containing more details about this performance overhead? \r\nDoes somebody have experience with enabling this permanently for production apps? \r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/troubleshoot/diagnostic-tools.html#GUID-1F53A50E-86FF-491D-A023-8EC4F1D1AC77","title":"What is overhead of Java Native Memory Tracking in &quot;summary&quot; mode?","body":"<p>I'm wondering what is the real/typical overhead when NMT is enabled via <code>‑XX:NativeMemoryTracking=summary</code> (the full command options I'm after are <code>-XX:+UnlockDiagnosticVMOptions ‑XX:NativeMemoryTracking=summary ‑XX:+PrintNMTStatistics</code>)</p>\n<p>I could not find much information anywhere - either on SO, blog posts or the official docs.\nThe docs say:</p>\n<blockquote>\n<p>Note: Enabling NMT causes a <strong>5% -10% performance overhead</strong>.</p>\n</blockquote>\n<p>But they do not say which mode is expected to have this performance overhead (both <em>summary</em> and <em>detail</em>?)\nand what this overhead really is (CPU, memory, ...).\nIn <a href=\"https://docs.oracle.com/en/java/javase/18/troubleshoot/diagnostic-tools.html#GUID-1F53A50E-86FF-491D-A023-8EC4F1D1AC77\" rel=\"noreferrer\">Native Memory Tracking guide</a> they claim:</p>\n<blockquote>\n<p>Enabling NMT will result in a 5-10 percent JVM performance drop, and memory usage for NMT adds 2 machine words to all malloc memory as a malloc header. NMT memory usage is also tracked by NMT.</p>\n</blockquote>\n<p>But again, is this true for both <em>summary</em> and <em>detail</em> mode?</p>\n<p>What I'm after is basically whether it's safe to add <code>‑XX:NativeMemoryTracking=summary</code> permanently for a production app (similar to <em>continuous</em> JFR recording) and what are potential costs.\nSo far, when testing this on our app, I didn't spot a difference but it's difficult to</p>\n<p>Is there an authoritative source of information containing more details about this performance overhead?\nDoes somebody have experience with enabling this permanently for production apps?</p>\n"},{"tags":["java","json","spring-boot"],"comments":[{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":0,"creation_date":1659187485,"post_id":73175810,"comment_id":129236648,"body_markdown":"is there any specific reason for using the file? why don&#39;t you use some kind of database?","body":"is there any specific reason for using the file? why don&#39;t you use some kind of database?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1659189345,"post_id":73175810,"comment_id":129237012,"body_markdown":"&quot;_I would like to open the file when the web app starts_&quot; - Does the following answer this piece of your question? [Running code after Spring Boot starts](https://stackoverflow.com/q/27405713/12567365)","body":"&quot;<i>I would like to open the file when the web app starts</i>&quot; - Does the following answer this piece of your question? <a href=\"https://stackoverflow.com/q/27405713/12567365\">Running code after Spring Boot starts</a>"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1659189383,"post_id":73175810,"comment_id":129237020,"body_markdown":"&quot;_&amp; close the file when the app terminates_&quot; - And for this piece? [Spring Boot shutdown hook](https://stackoverflow.com/q/26678208/12567365)","body":"&quot;<i>&amp; close the file when the app terminates</i>&quot; - And for this piece? <a href=\"https://stackoverflow.com/q/26678208/12567365\">Spring Boot shutdown hook</a>"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1659200062,"post_id":73175810,"comment_id":129239449,"body_markdown":"`To reduce overhead, ...` you won&#39;t notice the difference if you open (,read, write) and close the file on each request. But you should synchronize, because it is a shared resource among requests at the same time.","body":"<code>To reduce overhead, ...</code> you won&#39;t notice the difference if you open (,read, write) and close the file on each request. But you should synchronize, because it is a shared resource among requests at the same time."},{"owner":{"account_id":3343351,"reputation":95,"user_id":2809072,"display_name":"user2809072"},"score":0,"creation_date":1659218785,"post_id":73175810,"comment_id":129243225,"body_markdown":"Thanks @deadshot - I am trying to do a PoC for an existing application (COBOL app on x86) which writes to flat files. I would like to understand how this would behave running this across 2 servers in a GFS2/Pacemaker cluster.","body":"Thanks @deadshot - I am trying to do a PoC for an existing application (COBOL app on x86) which writes to flat files. I would like to understand how this would behave running this across 2 servers in a GFS2/Pacemaker cluster."},{"owner":{"account_id":3343351,"reputation":95,"user_id":2809072,"display_name":"user2809072"},"score":0,"creation_date":1659218853,"post_id":73175810,"comment_id":129243236,"body_markdown":"Hey  @andrewJames - The app I am trying to PoC creates some files on startup &amp; keeps them open until the process shuts down or a new file needs to be created.","body":"Hey  @andrewJames - The app I am trying to PoC creates some files on startup &amp; keeps them open until the process shuts down or a new file needs to be created."},{"owner":{"account_id":3343351,"reputation":95,"user_id":2809072,"display_name":"user2809072"},"score":0,"creation_date":1659218877,"post_id":73175810,"comment_id":129243242,"body_markdown":"Hi @PeterMmm - Thanks, will look into it. That’s where it gets a bit tricky.","body":"Hi @PeterMmm - Thanks, will look into it. That’s where it gets a bit tricky."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1659220030,"post_id":73175810,"comment_id":129243447,"body_markdown":"Yes, that is my understanding of your question.","body":"Yes, that is my understanding of your question."}],"owner":{"account_id":3343351,"reputation":95,"user_id":2809072,"display_name":"user2809072"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659185805,"creation_date":1659185805,"question_id":73175810,"body_markdown":"First time using Spring boot. \r\n\r\nI am trying to create a service with two methods. First one to consume json messages &amp; append them to a file. The other to read the file &amp; return list of messages. \r\n\r\nTo reduce overhead, I would like to open the file when the web app starts &amp; close the file when the app terminates. \r\n\r\nAny pointers would be appreciated. \r\n\r\nThanks ","title":"Reading &amp; writing JSON messages to a file using spring boot web","body":"<p>First time using Spring boot.</p>\n<p>I am trying to create a service with two methods. First one to consume json messages &amp; append them to a file. The other to read the file &amp; return list of messages.</p>\n<p>To reduce overhead, I would like to open the file when the web app starts &amp; close the file when the app terminates.</p>\n<p>Any pointers would be appreciated.</p>\n<p>Thanks</p>\n"},{"tags":["java","android","admob","ads"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1659164927,"post_id":73172044,"comment_id":129232444,"body_markdown":"Please post the layout file.","body":"Please post the layout file."},{"owner":{"account_id":25929375,"reputation":69,"user_id":19650731,"display_name":"Eldestornillador"},"score":0,"creation_date":1659185190,"post_id":73172044,"comment_id":129236179,"body_markdown":"I have edited the question with the ad attributes","body":"I have edited the question with the ad attributes"},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1659379697,"post_id":73172044,"comment_id":129276190,"body_markdown":"This might be a creative issue then, do live ads also have this issue?","body":"This might be a creative issue then, do live ads also have this issue?"}],"owner":{"account_id":25929375,"reputation":69,"user_id":19650731,"display_name":"Eldestornillador"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659185146,"creation_date":1659140250,"question_id":73172044,"body_markdown":"So I have added a `SMART_BANNER` banner at the end of the layout.\r\n\r\nbut as you can see in image2, sometimes the bottom of the banner is a little cut off and the banner is like not fully displayed.\r\n\r\nIs this a problem? Or it is normal in test ads but in real ads it won&#39;t happen?\r\n\r\n[image1][1]\r\n\r\n\r\n[image2][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/geaSO.jpg\r\n  [2]: https://i.stack.imgur.com/yC0Lb.jpg\r\n\r\n```\r\n  &lt;com.google.android.gms.ads.AdView\r\n                    android:id=&quot;@+id/ad_id&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    app:adSize=&quot;SMART_BANNER&quot;\r\n                    app:adUnitId=&quot;@string/id&quot;&gt;\r\n\r\n                &lt;/com.google.android.gms.ads.AdView&gt;\r\n\r\n\r\n``` ","title":"Admob banner ad is somewhat cut off in Android app","body":"<p>So I have added a <code>SMART_BANNER</code> banner at the end of the layout.</p>\n<p>but as you can see in image2, sometimes the bottom of the banner is a little cut off and the banner is like not fully displayed.</p>\n<p>Is this a problem? Or it is normal in test ads but in real ads it won't happen?</p>\n<p><a href=\"https://i.stack.imgur.com/geaSO.jpg\" rel=\"nofollow noreferrer\">image1</a></p>\n<p><a href=\"https://i.stack.imgur.com/yC0Lb.jpg\" rel=\"nofollow noreferrer\">image2</a></p>\n<pre><code>  &lt;com.google.android.gms.ads.AdView\n                    android:id=&quot;@+id/ad_id&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    app:adSize=&quot;SMART_BANNER&quot;\n                    app:adUnitId=&quot;@string/id&quot;&gt;\n\n                &lt;/com.google.android.gms.ads.AdView&gt;\n\n\n</code></pre>\n"},{"tags":["java","eclipse","load-balancing"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1659181104,"post_id":73174927,"comment_id":129235393,"body_markdown":"[Please do not upload images of code/data/errors when asking a question.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors when asking a question.</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659187661,"post_id":73174927,"comment_id":129236684,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659182587,"creation_date":1659180658,"answer_id":73175221,"question_id":73174927,"body_markdown":"It looks like Cloudsim / CloudAnalyst is referring to internal JDK classes that have been removed in later Java versions.  Assuming that you just trying to build and use it, the simple approach is to use the version of Java that CloudAnalyst was developed for; i.e. Java 8.\r\n\r\nHmmm ... it looks like the code is: \r\n\r\n  https://github.com/vondrt4/CloudAnalyst-interactive/blob/master/source/cloudsim/ext/gui/screens/ConfigureSimulationPanel.java\r\n\r\nor similar.  I have a feeling that this is just a bug that has been lurking in the code for a long time.  I suspect that they were really intending to catch `java.text.ParseException`, but their IDE suggested `com.sun.org.apache.xerces.internal.impl.xpath.regex.ParseException` instead.\r\n\r\nLooking at the place where that exception is being caught, I can&#39;t see how it could possibly occur.  The code is trying to parse some characters taken from a `JTextField` using `Integer.parseInteger`.  That cannot throw an (Xerces internal) `ParseException`.\r\n\r\nNote: this would be harmless on Java 8 and earlier.  It only causes problems in later releases because the exception class has been removed.","title":"import cloud Analyst to Eclipse","body":"<p>It looks like Cloudsim / CloudAnalyst is referring to internal JDK classes that have been removed in later Java versions.  Assuming that you just trying to build and use it, the simple approach is to use the version of Java that CloudAnalyst was developed for; i.e. Java 8.</p>\n<p>Hmmm ... it looks like the code is:</p>\n<p><a href=\"https://github.com/vondrt4/CloudAnalyst-interactive/blob/master/source/cloudsim/ext/gui/screens/ConfigureSimulationPanel.java\" rel=\"nofollow noreferrer\">https://github.com/vondrt4/CloudAnalyst-interactive/blob/master/source/cloudsim/ext/gui/screens/ConfigureSimulationPanel.java</a></p>\n<p>or similar.  I have a feeling that this is just a bug that has been lurking in the code for a long time.  I suspect that they were really intending to catch <code>java.text.ParseException</code>, but their IDE suggested <code>com.sun.org.apache.xerces.internal.impl.xpath.regex.ParseException</code> instead.</p>\n<p>Looking at the place where that exception is being caught, I can't see how it could possibly occur.  The code is trying to parse some characters taken from a <code>JTextField</code> using <code>Integer.parseInteger</code>.  That cannot throw an (Xerces internal) <code>ParseException</code>.</p>\n<p>Note: this would be harmless on Java 8 and earlier.  It only causes problems in later releases because the exception class has been removed.</p>\n"}],"owner":{"account_id":20406825,"reputation":1,"user_id":14971189,"display_name":"Razieh Shojaei"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1659183932,"creation_date":1659177903,"question_id":73174927,"body_markdown":"I am comparing load balancing algorithms in cloud computing for my master thesis, and after importing Cloud Analyst to Eclipse, I faced these errors.\r\nI should add some additional load Balancing Algorithm to Cloud Analyst, can someone help me?\r\n[Error screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HVJnE.png","title":"import cloud Analyst to Eclipse","body":"<p>I am comparing load balancing algorithms in cloud computing for my master thesis, and after importing Cloud Analyst to Eclipse, I faced these errors.\nI should add some additional load Balancing Algorithm to Cloud Analyst, can someone help me?\n<a href=\"https://i.stack.imgur.com/HVJnE.png\" rel=\"nofollow noreferrer\">Error screenshot</a></p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":3,"creation_date":1642002522,"post_id":70684449,"comment_id":124957647,"body_markdown":"Please provide a [mcve].","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":21192804,"reputation":1215,"user_id":15584964,"display_name":"RaBaKa 78"},"score":1,"creation_date":1642002788,"post_id":70684449,"comment_id":124957746,"body_markdown":"use `finish()` each time you navigate from one activity to another","body":"use <code>finish()</code> each time you navigate from one activity to another"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1642003628,"post_id":70684449,"comment_id":124958193,"body_markdown":"@RaBaKa78 That&#39;s only if you want to close the activity. Don&#39;t call `finish()` for activities you want to keep it in the backstack.","body":"@RaBaKa78 That&#39;s only if you want to close the activity. Don&#39;t call <code>finish()</code> for activities you want to keep it in the backstack."},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1642067084,"post_id":70684449,"comment_id":124975077,"body_markdown":"refer this,https://medium.com/mindorks/android-launch-mode-787d28952959","body":"refer this,<a href=\"https://medium.com/mindorks/android-launch-mode-787d28952959\" rel=\"nofollow noreferrer\">medium.com/mindorks/android-launch-mode-787d28952959</a>"}],"answers":[{"tags":[],"owner":{"account_id":23860974,"reputation":41,"user_id":17863927,"display_name":"Ehsan Abid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659183830,"creation_date":1659183830,"answer_id":73175578,"question_id":70684449,"body_markdown":"use `finishAffinity();` insted of `finish();`","title":"Android App not closing after clicking back in main screen","body":"<p>use <code>finishAffinity();</code> insted of <code>finish();</code></p>\n"}],"owner":{"account_id":23860974,"reputation":41,"user_id":17863927,"display_name":"Ehsan Abid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659183830,"creation_date":1642002366,"question_id":70684449,"body_markdown":"if i add 2 activities in the android app and make them open each other using buttons So when I open the same screen 5,6 times and then I press the back button in android my app goes back on each screen even it goes back to the second screen from 1st screen instead of closing.","title":"Android App not closing after clicking back in main screen","body":"<p>if i add 2 activities in the android app and make them open each other using buttons So when I open the same screen 5,6 times and then I press the back button in android my app goes back on each screen even it goes back to the second screen from 1st screen instead of closing.</p>\n"},{"tags":["java","annotations","lombok"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659183638,"creation_date":1659183638,"answer_id":73175565,"question_id":73175224,"body_markdown":"The only way to add new lombok annotations is to fork lombok, _and_ for your annotation typename (`@PrintValue`) _and_ the handlers to be in a package that starts with &#39;lombok.&#39;. The reasons for this are hard to explain in a succint answer: It&#39;s a combination of:\r\n\r\n* How lombok needs to integrate into the various relevant modules in the Equinox engine (the runtime modularization platform that eclipse runs on top of).\r\n* Lombok does not want to expose any methods/types except those that it wants, i.e., the lombok annotations and nothing more. In particular, if the ASM library (which lombok uses internally) is &#39;exposed&#39;, that would make it somewhat more difficult to use lombok with any project that also uses ASM. Lombok solved this problem, but it is part of the reason for why you have to fork to create annotations.\r\n\r\nWhen I say &#39;fork lombok&#39;, I mean:\r\n\r\n* You end up with a single jar. This jar contains everything lombok contains, and also contains your PrintValue annotation and your handlers.\r\n* It is built by the lombok buildsystem, such that e.g. your annotation type is a class file in the jar file, but the handler class file ends up as a file entry in the jar with extension `.SCL.lombok` and not `.class`.\r\n\r\nThe easiest way to do this, by far, is to just get the lombok sources (clone the git repo), and create your annotation type in the same place lombok has them (`/src/core/lombok/PrintValue.java`), and create your handlers in the same place lombok has them (`/src/core/lombok/eclipse/handlers/HandlePrintValue.java` for example).\r\n\r\nThen just `ant dist` and then `java -jar dist/lombok.jar install /path/to/your/eclipse`.\r\n\r\nIf you want to create your own sub-package of lombok for these, do a search for `lombok.extern` and `lombok/extern` - particularly in the build files (in the `buildScripts` subdir); if you want your annotation&#39;s full name to be e.g. `lombok.houria.PrintValue`, you need to tell lombok&#39;s build process that `lombok.houria` must not get the `.SCL.lombok` treatment, just like `lombok.extern`, `lombok`, and `lombok.experimental` don&#39;t.\r\n","title":"Create custom annotation for Lombok 1.16.8","body":"<p>The only way to add new lombok annotations is to fork lombok, <em>and</em> for your annotation typename (<code>@PrintValue</code>) <em>and</em> the handlers to be in a package that starts with 'lombok.'. The reasons for this are hard to explain in a succint answer: It's a combination of:</p>\n<ul>\n<li>How lombok needs to integrate into the various relevant modules in the Equinox engine (the runtime modularization platform that eclipse runs on top of).</li>\n<li>Lombok does not want to expose any methods/types except those that it wants, i.e., the lombok annotations and nothing more. In particular, if the ASM library (which lombok uses internally) is 'exposed', that would make it somewhat more difficult to use lombok with any project that also uses ASM. Lombok solved this problem, but it is part of the reason for why you have to fork to create annotations.</li>\n</ul>\n<p>When I say 'fork lombok', I mean:</p>\n<ul>\n<li>You end up with a single jar. This jar contains everything lombok contains, and also contains your PrintValue annotation and your handlers.</li>\n<li>It is built by the lombok buildsystem, such that e.g. your annotation type is a class file in the jar file, but the handler class file ends up as a file entry in the jar with extension <code>.SCL.lombok</code> and not <code>.class</code>.</li>\n</ul>\n<p>The easiest way to do this, by far, is to just get the lombok sources (clone the git repo), and create your annotation type in the same place lombok has them (<code>/src/core/lombok/PrintValue.java</code>), and create your handlers in the same place lombok has them (<code>/src/core/lombok/eclipse/handlers/HandlePrintValue.java</code> for example).</p>\n<p>Then just <code>ant dist</code> and then <code>java -jar dist/lombok.jar install /path/to/your/eclipse</code>.</p>\n<p>If you want to create your own sub-package of lombok for these, do a search for <code>lombok.extern</code> and <code>lombok/extern</code> - particularly in the build files (in the <code>buildScripts</code> subdir); if you want your annotation's full name to be e.g. <code>lombok.houria.PrintValue</code>, you need to tell lombok's build process that <code>lombok.houria</code> must not get the <code>.SCL.lombok</code> treatment, just like <code>lombok.extern</code>, <code>lombok</code>, and <code>lombok.experimental</code> don't.</p>\n"}],"owner":{"account_id":21257274,"reputation":11,"user_id":15638573,"display_name":"Houria Marref"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":960,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659183638,"creation_date":1659180680,"question_id":73175224,"body_markdown":"I&#39;m writing a custom Lombok annotation, named @PrintedValue that generates method printing Hiii.\r\nFor that, I created the annotation class as below:\r\n``` \r\n@Target({ElementType.TYPE})\r\n@Retention(RetentionPolicy.SOURCE)\r\npublic @interface PrintValue {\r\n\t}\r\n```\r\nThen, I&#39;ve created two handlers (javac and eclipse handlers). Here is my code:\r\n``` \r\n@ProviderFor(EclipseAnnotationHandler.class) public class HandlePrintValue extends EclipseAnnotationHandler&lt;PrintValue&gt; {\r\n\t\r\n\t@Override public void handle(AnnotationValues&lt;PrintValue&gt; annotation, Annotation ast, EclipseNode annotationNode) {\r\n\t\thandleFlagUsage(annotationNode, ConfigurationKeys.PRINT_VALUE_FLAG_USAGE, &quot;@PrintValue&quot;);\r\n\t\tEclipseHandlerUtil.unboxAndRemoveAnnotationParameter(ast, &quot;onType&quot;, &quot;@PrintValue(onType=&quot;, annotationNode);\r\n\t\tEclipseNode typeNode = annotationNode.up();\r\n\t\tMethodDeclaration printValMethod = createPrintVal(typeNode, annotationNode, annotationNode.get(), ast);\r\n\t\tinjectMethod(typeNode, printValMethod);\r\n\t\treturn;\r\n\t}\r\n\t\r\n\tprivate MethodDeclaration createPrintVal(EclipseNode typeNode, EclipseNode errorNode, ASTNode astNode, Annotation source) {\r\n\t\tTypeDeclaration typeDecl = (TypeDeclaration) typeNode.get();\r\n\t\t\r\n\t\tMethodDeclaration method = new MethodDeclaration(typeDecl.compilationResult);\r\n\t\tsetGeneratedBy(method, astNode);\r\n\t\tmethod.annotations = null;\r\n\t\tmethod.modifiers = toEclipseModifier(AccessLevel.PUBLIC);\r\n\t\tmethod.typeParameters = null;\r\n\t\tmethod.returnType = TypeReference.baseTypeReference(TypeIds.T_void, 0);\r\n\t\tmethod.selector = &quot;printVal&quot;.toCharArray();\r\n\t\tmethod.arguments = null;\r\n\t\tmethod.binding = null;\r\n\t\tmethod.thrownExceptions = null;\r\n\t\tmethod.bits |= ECLIPSE_DO_NOT_TOUCH_FLAG;\r\n\t\t\r\n\t\tNameReference systemOutReference = createNameReference(&quot;System.out&quot;, source);\r\n\t\tExpression[] printlnArguments = new Expression[] {new StringLiteral(&quot;Hiiii&quot;.toCharArray(), astNode.sourceStart, astNode.sourceEnd, 0)};\r\n\t\t\r\n\t\tMessageSend printlnInvocation = new MessageSend();\r\n\t\tprintlnInvocation.arguments = printlnArguments;\r\n\t\tprintlnInvocation.receiver = systemOutReference;\r\n\t\tprintlnInvocation.selector = &quot;println&quot;.toCharArray();\r\n\t\tsetGeneratedBy(printlnInvocation, source);\r\n\t\t\r\n\t\tmethod.bodyStart = method.declarationSourceStart = method.sourceStart = astNode.sourceStart;\r\n\t\tmethod.bodyEnd = method.declarationSourceEnd = method.sourceEnd = astNode.sourceEnd;\r\n\t\tmethod.statements = new Statement[] {printlnInvocation};\r\n\t\treturn method;\r\n\t}\r\n\t\r\n}\r\n\r\n ```\r\n```\r\n@ProviderFor(JavacAnnotationHandler.class)\r\npublic class HandlePrintValue extends JavacAnnotationHandler&lt;PrintValue&gt; {\r\n\t\r\n\t@Override\r\n\tpublic void handle(AnnotationValues&lt;PrintValue&gt; annotation, JCAnnotation ast, JavacNode annotationNode) {\r\n\t\t// JavacHandlerUtil.markAnnotationAsProcessed(annotationNode,\r\n\t\t// HelloWorld.class);\r\n\t\thandleFlagUsage(annotationNode, ConfigurationKeys.PRINT_VALUE_FLAG_USAGE, &quot;@PrintValue&quot;);\r\n\t\tContext context = annotationNode.getContext();\r\n\t\tJavac8BasedLombokOptions options = Javac8BasedLombokOptions.replaceWithDelombokOptions(context);\r\n\t\toptions.deleteLombokAnnotations();\r\n\t\tJavacHandlerUtil.deleteAnnotationIfNeccessary(annotationNode, PrintValue.class);\r\n\t\tJavacHandlerUtil.deleteImportFromCompilationUnit(annotationNode, &quot;lombok.AccessLevel&quot;);\r\n\t\tJavacNode typeNode = annotationNode.up();\r\n\t\tJCMethodDecl printValMethod = createPrintVal(typeNode);\r\n\t\t\r\n\t\tJavacHandlerUtil.injectMethod(typeNode, printValMethod);\r\n\t\treturn;\r\n\t}\r\n\t\r\n\tprivate JCMethodDecl createPrintVal(JavacNode type) {\r\n\t\tJavacTreeMaker treeMaker = type.getTreeMaker();\r\n\t\t\r\n\t\tJCModifiers modifiers = treeMaker.Modifiers(Flags.PUBLIC);\r\n\t\tList&lt;JCTypeParameter&gt; methodGenericTypes = List.&lt;JCTypeParameter&gt;nil();\r\n\t\tJCExpression methodType = treeMaker.Type(Javac.createVoidType(treeMaker, CTC_VOID));\r\n\t\tName methodName = type.toName(&quot;printVal&quot;);\r\n\t\tList&lt;JCVariableDecl&gt; methodParameters = List.&lt;JCVariableDecl&gt;nil();\r\n\t\tList&lt;JCExpression&gt; methodThrows = List.&lt;JCExpression&gt;nil();\r\n\t\t\r\n\t\tJCExpression printlnMethod = JavacHandlerUtil.chainDots(type, &quot;System&quot;, &quot;out&quot;, &quot;println&quot;);\r\n\t\tList&lt;JCExpression&gt; printlnArgs = List.&lt;JCExpression&gt;of(treeMaker.Literal(&quot;val&quot;));\r\n\t\tJCMethodInvocation printlnInvocation = treeMaker.Apply(List.&lt;JCExpression&gt;nil(), printlnMethod, printlnArgs);\r\n\t\tJCBlock methodBody = treeMaker.Block(0, List.&lt;JCStatement&gt;of(treeMaker.Exec(printlnInvocation)));\r\n\t\t\r\n\t\tJCExpression defaultValue = null;\r\n\t\t\r\n\t\treturn treeMaker.MethodDef(modifiers, methodName, methodType, methodGenericTypes, methodParameters, methodThrows, methodBody, defaultValue);\r\n\t}\r\n}\r\n ```\r\nAfter building my project and adding the generated lombok jar to my project, I can call @PrintValue annotation but the printVal method is undefined for Student class.\r\nimport lombok.PrintValue;\r\n```\r\npublic @PrintValue class Student {\r\n\tprivate int age;\r\n\tprivate String name;\r\n}\r\n```\r\nI tried enabling the annotation processing, but still having the same problem.\r\nif anyone can help me, I&#39;ll be thankfull.\r\n\r\n**jdk**:8\r\n**eclipse** 2018-09\r\n**lombok** 1.16.8\r\n","title":"Create custom annotation for Lombok 1.16.8","body":"<p>I'm writing a custom Lombok annotation, named @PrintedValue that generates method printing Hiii.\nFor that, I created the annotation class as below:</p>\n<pre><code>@Target({ElementType.TYPE})\n@Retention(RetentionPolicy.SOURCE)\npublic @interface PrintValue {\n    }\n</code></pre>\n<p>Then, I've created two handlers (javac and eclipse handlers). Here is my code:</p>\n<pre><code>@ProviderFor(EclipseAnnotationHandler.class) public class HandlePrintValue extends EclipseAnnotationHandler&lt;PrintValue&gt; {\n    \n    @Override public void handle(AnnotationValues&lt;PrintValue&gt; annotation, Annotation ast, EclipseNode annotationNode) {\n        handleFlagUsage(annotationNode, ConfigurationKeys.PRINT_VALUE_FLAG_USAGE, &quot;@PrintValue&quot;);\n        EclipseHandlerUtil.unboxAndRemoveAnnotationParameter(ast, &quot;onType&quot;, &quot;@PrintValue(onType=&quot;, annotationNode);\n        EclipseNode typeNode = annotationNode.up();\n        MethodDeclaration printValMethod = createPrintVal(typeNode, annotationNode, annotationNode.get(), ast);\n        injectMethod(typeNode, printValMethod);\n        return;\n    }\n    \n    private MethodDeclaration createPrintVal(EclipseNode typeNode, EclipseNode errorNode, ASTNode astNode, Annotation source) {\n        TypeDeclaration typeDecl = (TypeDeclaration) typeNode.get();\n        \n        MethodDeclaration method = new MethodDeclaration(typeDecl.compilationResult);\n        setGeneratedBy(method, astNode);\n        method.annotations = null;\n        method.modifiers = toEclipseModifier(AccessLevel.PUBLIC);\n        method.typeParameters = null;\n        method.returnType = TypeReference.baseTypeReference(TypeIds.T_void, 0);\n        method.selector = &quot;printVal&quot;.toCharArray();\n        method.arguments = null;\n        method.binding = null;\n        method.thrownExceptions = null;\n        method.bits |= ECLIPSE_DO_NOT_TOUCH_FLAG;\n        \n        NameReference systemOutReference = createNameReference(&quot;System.out&quot;, source);\n        Expression[] printlnArguments = new Expression[] {new StringLiteral(&quot;Hiiii&quot;.toCharArray(), astNode.sourceStart, astNode.sourceEnd, 0)};\n        \n        MessageSend printlnInvocation = new MessageSend();\n        printlnInvocation.arguments = printlnArguments;\n        printlnInvocation.receiver = systemOutReference;\n        printlnInvocation.selector = &quot;println&quot;.toCharArray();\n        setGeneratedBy(printlnInvocation, source);\n        \n        method.bodyStart = method.declarationSourceStart = method.sourceStart = astNode.sourceStart;\n        method.bodyEnd = method.declarationSourceEnd = method.sourceEnd = astNode.sourceEnd;\n        method.statements = new Statement[] {printlnInvocation};\n        return method;\n    }\n    \n}\n\n</code></pre>\n<pre><code>@ProviderFor(JavacAnnotationHandler.class)\npublic class HandlePrintValue extends JavacAnnotationHandler&lt;PrintValue&gt; {\n    \n    @Override\n    public void handle(AnnotationValues&lt;PrintValue&gt; annotation, JCAnnotation ast, JavacNode annotationNode) {\n        // JavacHandlerUtil.markAnnotationAsProcessed(annotationNode,\n        // HelloWorld.class);\n        handleFlagUsage(annotationNode, ConfigurationKeys.PRINT_VALUE_FLAG_USAGE, &quot;@PrintValue&quot;);\n        Context context = annotationNode.getContext();\n        Javac8BasedLombokOptions options = Javac8BasedLombokOptions.replaceWithDelombokOptions(context);\n        options.deleteLombokAnnotations();\n        JavacHandlerUtil.deleteAnnotationIfNeccessary(annotationNode, PrintValue.class);\n        JavacHandlerUtil.deleteImportFromCompilationUnit(annotationNode, &quot;lombok.AccessLevel&quot;);\n        JavacNode typeNode = annotationNode.up();\n        JCMethodDecl printValMethod = createPrintVal(typeNode);\n        \n        JavacHandlerUtil.injectMethod(typeNode, printValMethod);\n        return;\n    }\n    \n    private JCMethodDecl createPrintVal(JavacNode type) {\n        JavacTreeMaker treeMaker = type.getTreeMaker();\n        \n        JCModifiers modifiers = treeMaker.Modifiers(Flags.PUBLIC);\n        List&lt;JCTypeParameter&gt; methodGenericTypes = List.&lt;JCTypeParameter&gt;nil();\n        JCExpression methodType = treeMaker.Type(Javac.createVoidType(treeMaker, CTC_VOID));\n        Name methodName = type.toName(&quot;printVal&quot;);\n        List&lt;JCVariableDecl&gt; methodParameters = List.&lt;JCVariableDecl&gt;nil();\n        List&lt;JCExpression&gt; methodThrows = List.&lt;JCExpression&gt;nil();\n        \n        JCExpression printlnMethod = JavacHandlerUtil.chainDots(type, &quot;System&quot;, &quot;out&quot;, &quot;println&quot;);\n        List&lt;JCExpression&gt; printlnArgs = List.&lt;JCExpression&gt;of(treeMaker.Literal(&quot;val&quot;));\n        JCMethodInvocation printlnInvocation = treeMaker.Apply(List.&lt;JCExpression&gt;nil(), printlnMethod, printlnArgs);\n        JCBlock methodBody = treeMaker.Block(0, List.&lt;JCStatement&gt;of(treeMaker.Exec(printlnInvocation)));\n        \n        JCExpression defaultValue = null;\n        \n        return treeMaker.MethodDef(modifiers, methodName, methodType, methodGenericTypes, methodParameters, methodThrows, methodBody, defaultValue);\n    }\n}\n</code></pre>\n<p>After building my project and adding the generated lombok jar to my project, I can call @PrintValue annotation but the printVal method is undefined for Student class.\nimport lombok.PrintValue;</p>\n<pre><code>public @PrintValue class Student {\n    private int age;\n    private String name;\n}\n</code></pre>\n<p>I tried enabling the annotation processing, but still having the same problem.\nif anyone can help me, I'll be thankfull.</p>\n<p><strong>jdk</strong>:8\n<strong>eclipse</strong> 2018-09\n<strong>lombok</strong> 1.16.8</p>\n"},{"tags":["java","spring-boot","rest","crud-repository"],"comments":[{"owner":{"account_id":6821181,"reputation":3364,"user_id":5248299,"accept_rate":89,"display_name":"Kihats"},"score":0,"creation_date":1659181632,"post_id":73175266,"comment_id":129235488,"body_markdown":"Kindly add the code for the Account entity in the question","body":"Kindly add the code for the Account entity in the question"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659183486,"creation_date":1659181529,"answer_id":73175318,"question_id":73175266,"body_markdown":"Remove the id from the payload. Create or update logic is triggered by having or not having id. If the id is set beforehand, the entity with specified id is updated, otherwise new entity is created and id will be assigned by the database.","title":"SpringBoot CrudRepository trying to update instead of create new entity","body":"<p>Remove the id from the payload. Create or update logic is triggered by having or not having id. If the id is set beforehand, the entity with specified id is updated, otherwise new entity is created and id will be assigned by the database.</p>\n"}],"owner":{"account_id":17065357,"reputation":103,"user_id":12347681,"display_name":"DGulyasar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":704,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73175318,"answer_count":1,"score":1,"last_activity_date":1659183486,"creation_date":1659181072,"question_id":73175266,"body_markdown":"Spring Boot save method is trying to update and returns error like:\r\n\r\n&gt; org.springframework.dao.IncorrectUpdateSemanticsDataAccessException:\r\n&gt; Failed to update entity [com.xx.xx.Account@78a31407]. Id [1] not found\r\n&gt; in database.\r\n\r\nBut my database is completely empty and I want to add **new** Entity. Here is the screenshots:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FJzUn.png\r\n\r\n\r\nAnd here is the code:\r\n\r\n    \r\n    @RequestMapping(path = &quot;/banking/add&quot;, method = RequestMethod.POST)\r\n    public @ResponseBody ResponseEntity addAccount(@Validated @RequestBody Account account) throws IOException {\r\n        if(!account.getType().equals(&quot;TL&quot;)  &amp;&amp; !account.getType().equals(&quot;Altın&quot;)  &amp;&amp; !account.getType().equals(&quot;Dolar&quot;)) {\r\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(&quot;Invalid Account Type: &quot; + account.getType());\r\n        }\r\n\r\n        System.out.println(account.getId());\r\n        account.setLastDate(new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).format(new Date()));\r\n        BankingLogger.writeAccountToTheFile(account);\r\n\r\n        AccountCreateSuccessResponse res = new AccountCreateSuccessResponse(&quot;Account Created&quot;, account.getId());\r\n        this.repository.save(account);\r\n        return ResponseEntity.status(HttpStatus.CREATED).body(res);\r\n    }\r\n\r\n\r\nand here is the request json:\r\n\r\n    {\r\n            &quot;id&quot;: &quot;1&quot;,\r\n            &quot;name&quot; : &quot;Doğukan&quot;,\r\n            &quot;surname&quot; : &quot;G&#252;lyaşar&quot;,\r\n            &quot;email&quot; : &quot;xxxx@gmail.com&quot;,\r\n            &quot;tc&quot; : &quot;123123123&quot;,\r\n            &quot;type&quot; : &quot;Dolar&quot;,\r\n            &quot;isDeleted&quot;: &quot;false&quot;\r\n    }","title":"SpringBoot CrudRepository trying to update instead of create new entity","body":"<p>Spring Boot save method is trying to update and returns error like:</p>\n<blockquote>\n<p>org.springframework.dao.IncorrectUpdateSemanticsDataAccessException:\nFailed to update entity [com.xx.xx.Account@78a31407]. Id <a href=\"https://i.stack.imgur.com/FJzUn.png\" rel=\"nofollow noreferrer\">1</a> not found\nin database.</p>\n</blockquote>\n<p>But my database is completely empty and I want to add <strong>new</strong> Entity. Here is the screenshots:</p>\n<p><a href=\"https://i.stack.imgur.com/FJzUn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FJzUn.png\" alt=\"enter image description here\" /></a></p>\n<p>And here is the code:</p>\n<pre><code>@RequestMapping(path = &quot;/banking/add&quot;, method = RequestMethod.POST)\npublic @ResponseBody ResponseEntity addAccount(@Validated @RequestBody Account account) throws IOException {\n    if(!account.getType().equals(&quot;TL&quot;)  &amp;&amp; !account.getType().equals(&quot;Altın&quot;)  &amp;&amp; !account.getType().equals(&quot;Dolar&quot;)) {\n        return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(&quot;Invalid Account Type: &quot; + account.getType());\n    }\n\n    System.out.println(account.getId());\n    account.setLastDate(new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).format(new Date()));\n    BankingLogger.writeAccountToTheFile(account);\n\n    AccountCreateSuccessResponse res = new AccountCreateSuccessResponse(&quot;Account Created&quot;, account.getId());\n    this.repository.save(account);\n    return ResponseEntity.status(HttpStatus.CREATED).body(res);\n}\n</code></pre>\n<p>and here is the request json:</p>\n<pre><code>{\n        &quot;id&quot;: &quot;1&quot;,\n        &quot;name&quot; : &quot;Doğukan&quot;,\n        &quot;surname&quot; : &quot;Gülyaşar&quot;,\n        &quot;email&quot; : &quot;xxxx@gmail.com&quot;,\n        &quot;tc&quot; : &quot;123123123&quot;,\n        &quot;type&quot; : &quot;Dolar&quot;,\n        &quot;isDeleted&quot;: &quot;false&quot;\n}\n</code></pre>\n"},{"tags":["java","testing","junit","mockito"],"comments":[{"owner":{"account_id":2712514,"reputation":10118,"user_id":2340612,"accept_rate":83,"display_name":"user2340612"},"score":0,"creation_date":1659115934,"post_id":73167881,"comment_id":129224595,"body_markdown":"Does this answer your question? [Invalid use of argument matchers](https://stackoverflow.com/questions/24468456/invalid-use-of-argument-matchers)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/24468456/invalid-use-of-argument-matchers\">Invalid use of argument matchers</a>"}],"answers":[{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659182991,"creation_date":1659121855,"answer_id":73170032,"question_id":73167881,"body_markdown":"Using `any()` in the response `thenReturn(new ResponseEntity&lt;&gt;(any(), HttpStatus.OK));` is illegal and causes a mess with subsequent stubbing\r\n\r\nSee [Argument Matchers](https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#argument_matchers)\r\n\r\n&gt; Matcher methods like any(), eq() do not return matchers. **Internally, they record a matcher on a stack and return a dummy value (usually null).** This implementation is due to static type safety imposed by the java compiler. **The consequence is that you cannot use any(), eq() methods outside of verified/stubbed method.**","title":"Mockito Error :.InvalidUseOfMatchersException: Invalid use of argument matchers","body":"<p>Using <code>any()</code> in the response <code>thenReturn(new ResponseEntity&lt;&gt;(any(), HttpStatus.OK));</code> is illegal and causes a mess with subsequent stubbing</p>\n<p>See <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#argument_matchers\" rel=\"nofollow noreferrer\">Argument Matchers</a></p>\n<blockquote>\n<p>Matcher methods like any(), eq() do not return matchers. <strong>Internally, they record a matcher on a stack and return a dummy value (usually null).</strong> This implementation is due to static type safety imposed by the java compiler. <strong>The consequence is that you cannot use any(), eq() methods outside of verified/stubbed method.</strong></p>\n</blockquote>\n"}],"owner":{"account_id":20770274,"reputation":61,"user_id":15253155,"display_name":"Sujan Ponnappa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":501,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659182991,"creation_date":1659106599,"question_id":73167881,"body_markdown":"     @Test\r\n    @DisplayName(&quot;Success scenario for Card Replace for Lost&quot;)\r\n    void testcardReplaceLostSuccess() throws Exception {\r\n        final CardReplaceRqst cardReplaceRqst = mockCardReplaceRequest(&quot;Lost&quot;);\r\n        when(cardBlockService.sendBlockRequest(cardReplaceRqst)).thenReturn(new ResponseEntity&lt;&gt;(any(), HttpStatus.OK));\r\n        when(cardReplaceService.replaceCard(ArgumentMatchers.eq(cardReplaceRqst), any(CardType.class)))\r\n            .thenReturn(mockCardReplaceResponse());\r\n\r\n        mockMvc\r\n            .perform(MockMvcRequestBuilders.post(REPLACE_REQUEST_URL).contentType(MediaType.APPLICATION_JSON_VALUE)\r\n                .content(TestUtils.toJson(cardReplaceRqst)).characterEncoding(&quot;utf-8&quot;))\r\n            .andExpect(MockMvcResultMatchers.status().isOk()).andExpect(jsonPath(&quot;$.successCode&quot;).value(&quot;Success&quot;));\r\n    }\r\n\r\n\r\n\r\nWhen I run this code, I get the below error.\r\n\r\n    org.mockito.exceptions.misusing.InvalidUseOfMatchersException: \r\nInvalid use of argument matchers!\r\n2 matchers expected, 3 recorded:\r\n\r\n\r\nAny suggestions?\r\n\r\np.s. I had to add ArgumentMatcher.eq() because of a sonar rule &quot;Add an &quot;eq()&quot; argument matcher on this parameter.&quot; ","title":"Mockito Error :.InvalidUseOfMatchersException: Invalid use of argument matchers","body":"<pre><code> @Test\n@DisplayName(&quot;Success scenario for Card Replace for Lost&quot;)\nvoid testcardReplaceLostSuccess() throws Exception {\n    final CardReplaceRqst cardReplaceRqst = mockCardReplaceRequest(&quot;Lost&quot;);\n    when(cardBlockService.sendBlockRequest(cardReplaceRqst)).thenReturn(new ResponseEntity&lt;&gt;(any(), HttpStatus.OK));\n    when(cardReplaceService.replaceCard(ArgumentMatchers.eq(cardReplaceRqst), any(CardType.class)))\n        .thenReturn(mockCardReplaceResponse());\n\n    mockMvc\n        .perform(MockMvcRequestBuilders.post(REPLACE_REQUEST_URL).contentType(MediaType.APPLICATION_JSON_VALUE)\n            .content(TestUtils.toJson(cardReplaceRqst)).characterEncoding(&quot;utf-8&quot;))\n        .andExpect(MockMvcResultMatchers.status().isOk()).andExpect(jsonPath(&quot;$.successCode&quot;).value(&quot;Success&quot;));\n}\n</code></pre>\n<p>When I run this code, I get the below error.</p>\n<pre><code>org.mockito.exceptions.misusing.InvalidUseOfMatchersException: \n</code></pre>\n<p>Invalid use of argument matchers!\n2 matchers expected, 3 recorded:</p>\n<p>Any suggestions?</p>\n<p>p.s. I had to add ArgumentMatcher.eq() because of a sonar rule &quot;Add an &quot;eq()&quot; argument matcher on this parameter.&quot;</p>\n"},{"tags":["java","scala","maven","sbt","nexus"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1659184809,"post_id":73175486,"comment_id":129236111,"body_markdown":"Is that Nexus that tries to download from the second URL? Or is that your laptop that uses this Nexus URL?","body":"Is that Nexus that tries to download from the second URL? Or is that your laptop that uses this Nexus URL?"},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1659184865,"post_id":73175486,"comment_id":129236122,"body_markdown":"SBT plugins do not have same repository structure as maven dependencies. You have to tweak some things. Have a look to https://www.jfrog.com/confluence/display/JFROG/SBT+Repositories for instance (not for Nexus but idea is the same).","body":"SBT plugins do not have same repository structure as maven dependencies. You have to tweak some things. Have a look to <a href=\"https://www.jfrog.com/confluence/display/JFROG/SBT+Repositories\" rel=\"nofollow noreferrer\">jfrog.com/confluence/display/JFROG/SBT+Repositories</a> for instance (not for Nexus but idea is the same)."},{"owner":{"account_id":12247998,"reputation":994,"user_id":8939187,"display_name":"Mohammad Reza Mousavi"},"score":0,"creation_date":1659185570,"post_id":73175486,"comment_id":129236258,"body_markdown":"@Ga&#235;lJ my laptop use nexus URL, When I Upload manually Jars to nexus It works!","body":"@Ga&#235;lJ my laptop use nexus URL, When I Upload manually Jars to nexus It works!"},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1659200926,"post_id":73175486,"comment_id":129239653,"body_markdown":"Then you likely have to configure your SBT settings properly so that it uses right pattern when trying to download from Nexus.","body":"Then you likely have to configure your SBT settings properly so that it uses right pattern when trying to download from Nexus."}],"owner":{"account_id":12247998,"reputation":994,"user_id":8939187,"display_name":"Mohammad Reza Mousavi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659182905,"creation_date":1659182905,"question_id":73175486,"body_markdown":"I use Nexus for Proxy Scala Repository but have this Error!\r\nMy Nexus Maven2 Proxy configuration is:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pTNAg.png\r\n\r\nFor example I want to get `https://repo.scala-sbt.org/scalasbt/sbt-plugin-releases/com.github.gseitz/sbt-release/scala_2.10/sbt_0.13/1.0.0/jars/sbt-release.jar` \r\n\r\nBut Nexus try to download from below address:\r\n`https://x.x.x.x/repository/sbt-plugin-releases/com/github/gseitz/sbt-release_2.10_0.13/1.0.0/sbt-release-1.0.0.pom`\r\n\r\nchange this part of address **.../com.github.gseitz/...** to **.../com/github/gseitz/...**","title":"Nexus Maven proxy change address and I got Error in SCALA builds","body":"<p>I use Nexus for Proxy Scala Repository but have this Error!\nMy Nexus Maven2 Proxy configuration is:\n<a href=\"https://i.stack.imgur.com/pTNAg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pTNAg.png\" alt=\"enter image description here\" /></a></p>\n<p>For example I want to get <code>https://repo.scala-sbt.org/scalasbt/sbt-plugin-releases/com.github.gseitz/sbt-release/scala_2.10/sbt_0.13/1.0.0/jars/sbt-release.jar</code></p>\n<p>But Nexus try to download from below address:\n<code>https://x.x.x.x/repository/sbt-plugin-releases/com/github/gseitz/sbt-release_2.10_0.13/1.0.0/sbt-release-1.0.0.pom</code></p>\n<p>change this part of address <strong>.../com.github.gseitz/...</strong> to <strong>.../com/github/gseitz/...</strong></p>\n"},{"tags":["java","python-3.x","modbus","pymodbus"],"comments":[{"owner":{"account_id":15905511,"reputation":3406,"user_id":11476836,"display_name":"Marcos G."},"score":0,"creation_date":1593338892,"post_id":62609386,"comment_id":110740058,"body_markdown":"You are likely having a hardware issue, there is nothing wrong with your code. Double check your wiring and make sure you have a GND cable if you are using battery powered devices. There might be a problem on the slave firmware and/or hardware. If you need further help on those topics feel free to edit your question to add more details","body":"You are likely having a hardware issue, there is nothing wrong with your code. Double check your wiring and make sure you have a GND cable if you are using battery powered devices. There might be a problem on the slave firmware and/or hardware. If you need further help on those topics feel free to edit your question to add more details"},{"owner":{"account_id":18777020,"reputation":13,"user_id":13692528,"display_name":"Yash Akbari"},"score":0,"creation_date":1593573048,"post_id":62609386,"comment_id":110825638,"body_markdown":"But when i run java code it gives perfect output everytime.","body":"But when i run java code it gives perfect output everytime."},{"owner":{"account_id":15905511,"reputation":3406,"user_id":11476836,"display_name":"Marcos G."},"score":0,"creation_date":1593581282,"post_id":62609386,"comment_id":110827520,"body_markdown":"Hello Yash. That&#39;s the kind of thing you should include in your question. If you add your Java code maybe somebody will be able to notice any problems comparing to your Python code. As far as I can tell there is nothing wrong with your Python code...","body":"Hello Yash. That&#39;s the kind of thing you should include in your question. If you add your Java code maybe somebody will be able to notice any problems comparing to your Python code. As far as I can tell there is nothing wrong with your Python code..."},{"owner":{"account_id":15905511,"reputation":3406,"user_id":11476836,"display_name":"Marcos G."},"score":0,"creation_date":1593682471,"post_id":62609386,"comment_id":110867837,"body_markdown":"Hello Yash, nice edit. I see three obvious differences: you are using two stop bits in Python and one in your Java code, why is that? Two: you are reading input registers with Java but holding registers with Pythons, there might be something going on with the slave... And three: you have 5 seconds timeout versus 1 second, that can also make a difference depending on the slave (but I don&#39;t think that should be the main culprit here).","body":"Hello Yash, nice edit. I see three obvious differences: you are using two stop bits in Python and one in your Java code, why is that? Two: you are reading input registers with Java but holding registers with Pythons, there might be something going on with the slave... And three: you have 5 seconds timeout versus 1 second, that can also make a difference depending on the slave (but I don&#39;t think that should be the main culprit here)."},{"owner":{"account_id":18777020,"reputation":13,"user_id":13692528,"display_name":"Yash Akbari"},"score":0,"creation_date":1597058556,"post_id":62609386,"comment_id":112000707,"body_markdown":"When i ruuned it in raspberrypi,it succesfully runned, may be problem was with windows.","body":"When i ruuned it in raspberrypi,it succesfully runned, may be problem was with windows."}],"owner":{"account_id":18777020,"reputation":13,"user_id":13692528,"display_name":"Yash Akbari"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659182240,"creation_date":1593257324,"question_id":62609386,"body_markdown":"I am using RS485 to USB Converter for commmunication.\r\nI am trying to read input registers but sometimes its result comes and sometimes not.\r\nI am using pymodbus-2.3.0 external library &amp; I use pycharm for the code.\r\n\r\n```\r\nimport logging\r\nfrom pymodbus.client.sync import ModbusSerialClient as ModbusClient\r\n\r\nfrom pymodbus.register_read_message import ReadInputRegistersResponse\r\n\r\n\r\nlogging.basicConfig()\r\nlog = logging.getLogger()\r\nlog.setLevel(logging.DEBUG)\r\n\r\nclient = ModbusClient(method=&#39;rtu&#39;, port=&#39;COM3&#39;,\r\n                      baudrate=9600, timeout=1, parity=&#39;N&#39;, stopbits=2)\r\nprint(client.connect())\r\nclient.debug_enabled()\r\n\r\nlog.debug(&quot;Read Holding registers&quot;)\r\nresponse = client.read_holding_registers(0, 10, unit=0x01)\r\n\r\nif not response.isError():\r\n    &#39;&#39;&#39;isError() method implemented in pymodbus 1.4.0 and above&#39;&#39;&#39;\r\n\r\n    print(response.registers)  # Note.\r\n\r\nelse:\r\n    # Handle Error.\r\n    print(&#39;Unable to read or there is the connection problem.&#39;)\r\n\r\n    # print(response.getRegister(0));  #This returns value of only one\r\n\r\n    client.close()\r\n```\r\n\r\nIn the output due to logging u may watch difference in it.\r\n\r\n\r\noutput:\r\n```\r\nC:\\Users\\meet2\\PycharmProjects\\Modbus\\venv\\Scripts\\python.exe C:/Users/meet2/PycharmProjects/Modbus/o.py\r\nDEBUG:root:Read holding registers\r\nDEBUG:pymodbus.transaction:Current transaction state - IDLE\r\nDEBUG:pymodbus.transaction:Running transaction 1\r\nDEBUG:pymodbus.transaction:SEND: 0x1 0x4 0x0 0x0 0x0 0xa 0x70 0xd\r\nDEBUG:pymodbus.client.sync:New Transaction state &#39;SENDING&#39;\r\nDEBUG:pymodbus.transaction:Changing transaction state from &#39;SENDING&#39; to &#39;WAITING FOR REPLY&#39;\r\nTrue\r\nDEBUG:pymodbus.transaction:Changing transaction state from &#39;WAITING FOR REPLY&#39; to &#39;PROCESSING REPLY&#39;\r\nDEBUG:pymodbus.transaction:RECV: 0x1 0x4 0x14 0x0 0xf 0x0 0x0 0x0 0x5a 0x0 0x5a 0x0 0x5a 0x0 0x5a 0x0 0x0 0x0 0x0 0x0 0x0 0x0 0x0 0x62 0x8f\r\nDEBUG:pymodbus.framer.rtu_framer:Getting Frame - 0x4 0x14 0x0 0xf 0x0 0x0 0x0 0x5a 0x0 0x5a 0x0 0x5a 0x0 0x5a 0x0 0x0 0x0 0x0 0x0 0x0 0x0 0x0\r\nDEBUG:pymodbus.factory:Factory Response[ReadInputRegistersResponse: 4]\r\nDEBUG:pymodbus.framer.rtu_framer:Frame advanced, resetting header!!\r\nDEBUG:pymodbus.transaction:Adding transaction 1\r\nDEBUG:pymodbus.transaction:Getting transaction 1\r\nDEBUG:pymodbus.transaction:Changing transaction state from &#39;PROCESSING REPLY&#39; to &#39;TRANSACTION_COMPLETE&#39;\r\n[15, 0, 90, 90, 90, 90, 0, 0, 0, 0]\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nError:\r\n```\r\nC:\\Users\\meet2\\PycharmProjects\\Modbus\\venv\\Scripts\\python.exe C:/Users/meet2/PycharmProjects/Modbus/o.py\r\nTrue\r\nDEBUG:root:Read holding registers\r\nDEBUG:pymodbus.transaction:Current transaction state - IDLE\r\nDEBUG:pymodbus.transaction:Running transaction 1\r\nDEBUG:pymodbus.transaction:SEND: 0x1 0x4 0x0 0x0 0x0 0xa 0x70 0xd\r\nDEBUG:pymodbus.client.sync:New Transaction state &#39;SENDING&#39;\r\nDEBUG:pymodbus.transaction:Changing transaction state from &#39;SENDING&#39; to &#39;WAITING FOR REPLY&#39;\r\nDEBUG:pymodbus.transaction:Incomplete message received, Expected 25 bytes Recieved 5 bytes !!!!\r\nDEBUG:pymodbus.transaction:Changing transaction state from &#39;WAITING FOR REPLY&#39; to &#39;PROCESSING REPLY&#39;\r\nDEBUG:pymodbus.transaction:RECV: 0x1 0x4 0x14 0x0 0xf\r\nDEBUG:pymodbus.framer.rtu_framer:Frame check failed, ignoring!!\r\nDEBUG:pymodbus.framer.rtu_framer:Resetting frame - Current Frame in buffer - 0x1 0x4 0x14 0x0 0xf\r\nDEBUG:pymodbus.transaction:Getting transaction 1\r\nDEBUG:pymodbus.transaction:Changing transaction state from &#39;PROCESSING REPLY&#39; to &#39;TRANSACTION_COMPLETE&#39;\r\nUnable to read or there is the connection problem.\r\n\r\nProcess finished with exit code 0\r\n\r\n```\r\n\r\nyour help will be appreciated.\r\n\r\nHere is my java code which runs perfectly\r\n```\r\n\r\nimport com.ghgande.j2mod.modbus.facade.ModbusSerialMaster;\r\nimport com.ghgande.j2mod.modbus.Modbus;\r\nimport com.ghgande.j2mod.modbus.ModbusException;\r\nimport com.ghgande.j2mod.modbus.procimg.Register;\r\nimport com.ghgande.j2mod.modbus.util.SerialParameters;\r\n\r\nclass ModbusMaster\r\n{\r\n\r\n/**\r\n * @param args\r\n */\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\t/* The important instances of the classes mentioned before */\r\n\t\tModbusSerialMaster serialMaster = null; // the connection\r\n\t\t\r\n\t\t/* Variables for storying the parameters */\r\n\t\tString portname = &quot;USB3&quot;; // the name of the serial port to be used\r\n\t\tint unitID = 1 ; // the unit identifier we will be talking to\r\n\t\tint startingRegister = 1; // the reference, where to start reading from\r\n\t\tint registerCount = 10; // the count of the input registers to read\r\n\t\tRegister[] slaveResponse = new Register[registerCount];\r\n\t\r\n\t\ttry \r\n\t\t{\r\n\t\t\t/* Setup the serial parameters */\r\n\t\t\tSerialParameters parameters = new SerialParameters();\r\n\t\t\tparameters.setPortName(portname);\r\n\t\t\tparameters.setBaudRate(9600);\r\n\t\t\tparameters.setDatabits(8);\r\n\t\t\tparameters.setParity(&quot;None&quot;);\r\n\t\t\tparameters.setStopbits(1);\r\n\t\t\tparameters.setEncoding(Modbus.SERIAL_ENCODING_RTU);\r\n\t\t\tparameters.setEcho(false);\r\n\t\t\tparameters.setTimeout(5);\r\n\t\t\t\r\n\t\t\t/* Open the connection */\r\n\t\t\tserialMaster = new ModbusSerialMaster(parameters);\r\n\t\t\tserialMaster.connect();\r\n\t\r\n\t\t} \r\n\t\t\r\n\t\tcatch (Exception exception) \r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Not Run&quot;);\r\n\t\t\texception.printStackTrace();\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t\t/* Read the first four holding registers */\r\n\t\ttry \r\n\t\t{\r\n\t\t\tslaveResponse = serialMaster.readMultipleRegisters(unitID, startingRegister, registerCount);\r\n\t\t\tfor (int i = 0; i &lt; slaveResponse.length; i++) \r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;reg&quot; + i + &quot; = &quot; + slaveResponse[i]);\r\n\t\t\t}\r\n\t\t} \r\n\t\t\r\n\t\tcatch (ModbusException e) \r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t/* Close the connection */\r\n\t\tserialMaster.disconnect();\r\n\t\r\n\t}\r\n}\r\n\r\n```\r\nit gives output like\r\n```\r\nreg0=15\r\nreg1=90\r\nreg2=15\r\nreg3=15\r\nreg4=14\r\nreg5=18\r\nreg6=85\r\nreg7=45\r\nreg8=10\r\nreg9=11\r\n```","title":"Pymodbus - Someimes runs &amp; sometimes runtime Error","body":"<p>I am using RS485 to USB Converter for commmunication.\nI am trying to read input registers but sometimes its result comes and sometimes not.\nI am using pymodbus-2.3.0 external library &amp; I use pycharm for the code.</p>\n<pre><code>import logging\nfrom pymodbus.client.sync import ModbusSerialClient as ModbusClient\n\nfrom pymodbus.register_read_message import ReadInputRegistersResponse\n\n\nlogging.basicConfig()\nlog = logging.getLogger()\nlog.setLevel(logging.DEBUG)\n\nclient = ModbusClient(method='rtu', port='COM3',\n                      baudrate=9600, timeout=1, parity='N', stopbits=2)\nprint(client.connect())\nclient.debug_enabled()\n\nlog.debug(&quot;Read Holding registers&quot;)\nresponse = client.read_holding_registers(0, 10, unit=0x01)\n\nif not response.isError():\n    '''isError() method implemented in pymodbus 1.4.0 and above'''\n\n    print(response.registers)  # Note.\n\nelse:\n    # Handle Error.\n    print('Unable to read or there is the connection problem.')\n\n    # print(response.getRegister(0));  #This returns value of only one\n\n    client.close()\n</code></pre>\n<p>In the output due to logging u may watch difference in it.</p>\n<p>output:</p>\n<pre><code>C:\\Users\\meet2\\PycharmProjects\\Modbus\\venv\\Scripts\\python.exe C:/Users/meet2/PycharmProjects/Modbus/o.py\nDEBUG:root:Read holding registers\nDEBUG:pymodbus.transaction:Current transaction state - IDLE\nDEBUG:pymodbus.transaction:Running transaction 1\nDEBUG:pymodbus.transaction:SEND: 0x1 0x4 0x0 0x0 0x0 0xa 0x70 0xd\nDEBUG:pymodbus.client.sync:New Transaction state 'SENDING'\nDEBUG:pymodbus.transaction:Changing transaction state from 'SENDING' to 'WAITING FOR REPLY'\nTrue\nDEBUG:pymodbus.transaction:Changing transaction state from 'WAITING FOR REPLY' to 'PROCESSING REPLY'\nDEBUG:pymodbus.transaction:RECV: 0x1 0x4 0x14 0x0 0xf 0x0 0x0 0x0 0x5a 0x0 0x5a 0x0 0x5a 0x0 0x5a 0x0 0x0 0x0 0x0 0x0 0x0 0x0 0x0 0x62 0x8f\nDEBUG:pymodbus.framer.rtu_framer:Getting Frame - 0x4 0x14 0x0 0xf 0x0 0x0 0x0 0x5a 0x0 0x5a 0x0 0x5a 0x0 0x5a 0x0 0x0 0x0 0x0 0x0 0x0 0x0 0x0\nDEBUG:pymodbus.factory:Factory Response[ReadInputRegistersResponse: 4]\nDEBUG:pymodbus.framer.rtu_framer:Frame advanced, resetting header!!\nDEBUG:pymodbus.transaction:Adding transaction 1\nDEBUG:pymodbus.transaction:Getting transaction 1\nDEBUG:pymodbus.transaction:Changing transaction state from 'PROCESSING REPLY' to 'TRANSACTION_COMPLETE'\n[15, 0, 90, 90, 90, 90, 0, 0, 0, 0]\n\nProcess finished with exit code 0\n</code></pre>\n<p>Error:</p>\n<pre><code>C:\\Users\\meet2\\PycharmProjects\\Modbus\\venv\\Scripts\\python.exe C:/Users/meet2/PycharmProjects/Modbus/o.py\nTrue\nDEBUG:root:Read holding registers\nDEBUG:pymodbus.transaction:Current transaction state - IDLE\nDEBUG:pymodbus.transaction:Running transaction 1\nDEBUG:pymodbus.transaction:SEND: 0x1 0x4 0x0 0x0 0x0 0xa 0x70 0xd\nDEBUG:pymodbus.client.sync:New Transaction state 'SENDING'\nDEBUG:pymodbus.transaction:Changing transaction state from 'SENDING' to 'WAITING FOR REPLY'\nDEBUG:pymodbus.transaction:Incomplete message received, Expected 25 bytes Recieved 5 bytes !!!!\nDEBUG:pymodbus.transaction:Changing transaction state from 'WAITING FOR REPLY' to 'PROCESSING REPLY'\nDEBUG:pymodbus.transaction:RECV: 0x1 0x4 0x14 0x0 0xf\nDEBUG:pymodbus.framer.rtu_framer:Frame check failed, ignoring!!\nDEBUG:pymodbus.framer.rtu_framer:Resetting frame - Current Frame in buffer - 0x1 0x4 0x14 0x0 0xf\nDEBUG:pymodbus.transaction:Getting transaction 1\nDEBUG:pymodbus.transaction:Changing transaction state from 'PROCESSING REPLY' to 'TRANSACTION_COMPLETE'\nUnable to read or there is the connection problem.\n\nProcess finished with exit code 0\n\n</code></pre>\n<p>your help will be appreciated.</p>\n<p>Here is my java code which runs perfectly</p>\n<pre><code>\nimport com.ghgande.j2mod.modbus.facade.ModbusSerialMaster;\nimport com.ghgande.j2mod.modbus.Modbus;\nimport com.ghgande.j2mod.modbus.ModbusException;\nimport com.ghgande.j2mod.modbus.procimg.Register;\nimport com.ghgande.j2mod.modbus.util.SerialParameters;\n\nclass ModbusMaster\n{\n\n/**\n * @param args\n */\n    public static void main(String[] args) \n    {\n        /* The important instances of the classes mentioned before */\n        ModbusSerialMaster serialMaster = null; // the connection\n        \n        /* Variables for storying the parameters */\n        String portname = &quot;USB3&quot;; // the name of the serial port to be used\n        int unitID = 1 ; // the unit identifier we will be talking to\n        int startingRegister = 1; // the reference, where to start reading from\n        int registerCount = 10; // the count of the input registers to read\n        Register[] slaveResponse = new Register[registerCount];\n    \n        try \n        {\n            /* Setup the serial parameters */\n            SerialParameters parameters = new SerialParameters();\n            parameters.setPortName(portname);\n            parameters.setBaudRate(9600);\n            parameters.setDatabits(8);\n            parameters.setParity(&quot;None&quot;);\n            parameters.setStopbits(1);\n            parameters.setEncoding(Modbus.SERIAL_ENCODING_RTU);\n            parameters.setEcho(false);\n            parameters.setTimeout(5);\n            \n            /* Open the connection */\n            serialMaster = new ModbusSerialMaster(parameters);\n            serialMaster.connect();\n    \n        } \n        \n        catch (Exception exception) \n        {\n            System.out.println(&quot;Not Run&quot;);\n            exception.printStackTrace();\n            \n        }\n    \n        /* Read the first four holding registers */\n        try \n        {\n            slaveResponse = serialMaster.readMultipleRegisters(unitID, startingRegister, registerCount);\n            for (int i = 0; i &lt; slaveResponse.length; i++) \n            {\n                System.out.println(&quot;reg&quot; + i + &quot; = &quot; + slaveResponse[i]);\n            }\n        } \n        \n        catch (ModbusException e) \n        {\n            e.printStackTrace();\n        }\n        /* Close the connection */\n        serialMaster.disconnect();\n    \n    }\n}\n\n</code></pre>\n<p>it gives output like</p>\n<pre><code>reg0=15\nreg1=90\nreg2=15\nreg3=15\nreg4=14\nreg5=18\nreg6=85\nreg7=45\nreg8=10\nreg9=11\n</code></pre>\n"},{"tags":["java","sendgrid"],"answers":[{"tags":[],"owner":{"account_id":13978,"reputation":71446,"user_id":28376,"accept_rate":86,"display_name":"philnash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659181965,"creation_date":1659181965,"answer_id":73175370,"question_id":73165055,"body_markdown":"In your screenshot of your code it looks like you are trying to get your API key by calling `System.getenv(&quot;YOUR_ACTUAL_API_KEY&quot;)`.\r\n\r\nWhen calling on `System.getenv` you should pass the name of an environment variable in which you have stored your API key. So, you should store your environment variable in a variable called something like `SENDGRID_API_KEY` and then retrieve it in your program like:\r\n\r\n```java\r\nSystem.getenv(&quot;SENDGRID_API_KEY&quot;)\r\n```\r\n\r\nYou can read more about [working with environment variables in Java][1] and [how to set environment variables][2].\r\n\r\n\r\n  [1]: https://www.twilio.com/blog/working-with-environment-variables-in-java\r\n  [2]: https://www.twilio.com/blog/2017/01/how-to-set-environment-variables.html","title":"Fetching of mail status by using Sendgrid API","body":"<p>In your screenshot of your code it looks like you are trying to get your API key by calling <code>System.getenv(&quot;YOUR_ACTUAL_API_KEY&quot;)</code>.</p>\n<p>When calling on <code>System.getenv</code> you should pass the name of an environment variable in which you have stored your API key. So, you should store your environment variable in a variable called something like <code>SENDGRID_API_KEY</code> and then retrieve it in your program like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.getenv(&quot;SENDGRID_API_KEY&quot;)\n</code></pre>\n<p>You can read more about <a href=\"https://www.twilio.com/blog/working-with-environment-variables-in-java\" rel=\"nofollow noreferrer\">working with environment variables in Java</a> and <a href=\"https://www.twilio.com/blog/2017/01/how-to-set-environment-variables.html\" rel=\"nofollow noreferrer\">how to set environment variables</a>.</p>\n"}],"owner":{"account_id":25923180,"reputation":3,"user_id":19645426,"display_name":"Prasenjit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73175370,"answer_count":1,"score":0,"last_activity_date":1659181965,"creation_date":1659089566,"question_id":73165055,"body_markdown":"I want to fetch the sent mail status by using Sendgrid API. While I am trying to call it through a java code, the code is running properly but I am getting a 403- Access Forbidden error. \r\n\r\nWhat is the reason and the solution for it? The API key has full permission. I have attached two image links(code and output) below.\r\n\r\n![enter image description here][1]\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LQUfz.jpg\r\n  [2]: https://i.stack.imgur.com/6J7vY.jpg","title":"Fetching of mail status by using Sendgrid API","body":"<p>I want to fetch the sent mail status by using Sendgrid API. While I am trying to call it through a java code, the code is running properly but I am getting a 403- Access Forbidden error.</p>\n<p>What is the reason and the solution for it? The API key has full permission. I have attached two image links(code and output) below.</p>\n<p><img src=\"https://i.stack.imgur.com/LQUfz.jpg\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/6J7vY.jpg\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1659338849,"post_id":73173613,"comment_id":129262319,"body_markdown":"Do you mean that it works fine if you comment &quot;id &#39;idea&#39;&quot; line?","body":"Do you mean that it works fine if you comment &quot;id &#39;idea&#39;&quot; line?"},{"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"score":0,"creation_date":1659340334,"post_id":73173613,"comment_id":129262748,"body_markdown":"@y.bedrov It&#39;s works if I remove section &quot;idea {...}&quot;","body":"@y.bedrov It&#39;s works if I remove section &quot;idea {...}&quot;"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1659948096,"post_id":73173613,"comment_id":129407425,"body_markdown":"Why did you add this part there?","body":"Why did you add this part there?"},{"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"score":0,"creation_date":1659953092,"post_id":73173613,"comment_id":129409181,"body_markdown":"@y.bedrov Can you ask me correct place for idea {}?","body":"@y.bedrov Can you ask me correct place for idea {}?"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1659966654,"post_id":73173613,"comment_id":129414026,"body_markdown":"Please describe why do you need that part? Seems it should work without it.","body":"Please describe why do you need that part? Seems it should work without it."},{"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"score":0,"creation_date":1659968377,"post_id":73173613,"comment_id":129414715,"body_markdown":"@y.bedrov With this section the IntellIJ IDEA is better work with Gradle","body":"@y.bedrov With this section the IntellIJ IDEA is better work with Gradle"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1660594011,"post_id":73173613,"comment_id":129564624,"body_markdown":"Similar issue is discussed here: https://github.com/JetBrains/gradle-idea-ext-plugin/issues/58. Seems new issue should be reported against &quot;gradle-idea-ext-plugin&quot;","body":"Similar issue is discussed here: <a href=\"https://github.com/JetBrains/gradle-idea-ext-plugin/issues/58\" rel=\"nofollow noreferrer\">github.com/JetBrains/gradle-idea-ext-plugin/issues/58</a>. Seems new issue should be reported against &quot;gradle-idea-ext-plugin&quot;"}],"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659181904,"creation_date":1659165137,"question_id":73173613,"body_markdown":"intelliJ IDEA 2022.2 (Community Edition)\r\n\r\njava 8\r\n\r\n \r\nIn build.gradle:\r\n\r\n    plugins {\r\n        id &#39;application&#39;\r\n        id &quot;com.nocwriter.runsql&quot; version &quot;1.0.3&quot;\r\n        id &#39;idea&#39;\r\n        id &quot;io.spring.dependency-management&quot; version &quot;1.0.11.RELEASE&quot;\r\n    }\r\n    apply plugin: &quot;io.spring.dependency-management&quot;\r\n    \r\n    group = &#39;com.myproject&#39;\r\n    version = &#39;2.0.6&#39;\r\n    \r\n    sourceCompatibility = JavaVersion.VERSION_1_8\r\n    targetCompatibility = JavaVersion.VERSION_1_8\r\n    \r\n    idea {\r\n        project {\r\n            languageLevel = JavaVersion.VERSION_1_8\r\n        }\r\n        module {\r\n            downloadJavadoc = true\r\n            downloadSources = true\r\n        }\r\n    }\r\n    }\r\n\r\nBut I get error in this line:\r\n\r\n    project {\r\n\r\n\r\n    Error:\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * Where:\r\n    Build file &#39;/myproject/app/build.gradle&#39; line: 31\r\n    \r\n    * What went wrong:\r\n    A problem occurred evaluating project &#39;:app&#39;.\r\n    &gt; Value is null","title":"A problem occurred evaluating project &#39;:app&#39; when add plugin idea","body":"<p>intelliJ IDEA 2022.2 (Community Edition)</p>\n<p>java 8</p>\n<p>In build.gradle:</p>\n<pre><code>plugins {\n    id 'application'\n    id &quot;com.nocwriter.runsql&quot; version &quot;1.0.3&quot;\n    id 'idea'\n    id &quot;io.spring.dependency-management&quot; version &quot;1.0.11.RELEASE&quot;\n}\napply plugin: &quot;io.spring.dependency-management&quot;\n\ngroup = 'com.myproject'\nversion = '2.0.6'\n\nsourceCompatibility = JavaVersion.VERSION_1_8\ntargetCompatibility = JavaVersion.VERSION_1_8\n\nidea {\n    project {\n        languageLevel = JavaVersion.VERSION_1_8\n    }\n    module {\n        downloadJavadoc = true\n        downloadSources = true\n    }\n}\n}\n</code></pre>\n<p>But I get error in this line:</p>\n<pre><code>project {\n\n\nError:\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file '/myproject/app/build.gradle' line: 31\n\n* What went wrong:\nA problem occurred evaluating project ':app'.\n&gt; Value is null\n</code></pre>\n"},{"tags":["java","spring-boot","graphql"],"comments":[{"owner":{"account_id":6519964,"reputation":107,"user_id":5044508,"display_name":"Yuvaraj R"},"score":0,"creation_date":1653371217,"post_id":72357575,"comment_id":127828921,"body_markdown":"how does your schema looks like?","body":"how does your schema looks like?"},{"owner":{"account_id":24373227,"reputation":121,"user_id":18305889,"display_name":"BugMaker"},"score":0,"creation_date":1653372420,"post_id":72357575,"comment_id":127829205,"body_markdown":"I use a very simple schema to test","body":"I use a very simple schema to test"},{"owner":{"account_id":24373227,"reputation":121,"user_id":18305889,"display_name":"BugMaker"},"score":0,"creation_date":1653372782,"post_id":72357575,"comment_id":127829324,"body_markdown":"I add it in my issue","body":"I add it in my issue"}],"answers":[{"tags":[],"owner":{"account_id":338971,"reputation":1160,"user_id":668148,"accept_rate":100,"display_name":"Bogdan Kobylynskyi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653853344,"creation_date":1653853344,"answer_id":72426777,"question_id":72357575,"body_markdown":"Include `graphql-java-extended-scalars` dependency:\r\n\r\nhttps://github.com/graphql-java/graphql-java-extended-scalars\r\n\r\nAnd make sure in your `@Configuration` class you are using:\r\n\r\n```java\r\n@Bean\r\npublic graphql.schema.GraphQLScalarType extendedScalarLong() {\r\n    return graphql.scalars.ExtendedScalars.GraphQLLong;\r\n}\r\n```\r\n\r\nAlso, if you are defining your ExtendedScalar as a `@Bean`, then there&#39;s no need to specify it in `graphql.extended-scalars` property.\r\n","title":"Graphql java spring boot -- Scalar type error -- There is no scalar implementation for the named &#39;XXX&#39; scalar type","body":"<p>Include <code>graphql-java-extended-scalars</code> dependency:</p>\n<p><a href=\"https://github.com/graphql-java/graphql-java-extended-scalars\" rel=\"nofollow noreferrer\">https://github.com/graphql-java/graphql-java-extended-scalars</a></p>\n<p>And make sure in your <code>@Configuration</code> class you are using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic graphql.schema.GraphQLScalarType extendedScalarLong() {\n    return graphql.scalars.ExtendedScalars.GraphQLLong;\n}\n</code></pre>\n<p>Also, if you are defining your ExtendedScalar as a <code>@Bean</code>, then there's no need to specify it in <code>graphql.extended-scalars</code> property.</p>\n"},{"tags":[],"owner":{"account_id":25932556,"reputation":51,"user_id":19653386,"display_name":"Krach Achraf"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1659181359,"creation_date":1659181359,"answer_id":73175300,"question_id":72357575,"body_markdown":"Use this :\r\n```\r\n@Bean \r\npublic RuntimeWiringConfigurer runtimeWiringConfigurer() { \r\n   return wiringBuilder -&gt; wiringBuilder.scalar(ExtendedScalars.GraphQLLong); \r\n}\r\n```\r\nInstead of :\r\n\r\n```\r\n@Bean\r\npublic GraphQLScalarType graphQLLong() {\r\n   return ExtendedScalars.GraphQLLong;\r\n}\r\n```","title":"Graphql java spring boot -- Scalar type error -- There is no scalar implementation for the named &#39;XXX&#39; scalar type","body":"<p>Use this :</p>\n<pre><code>@Bean \npublic RuntimeWiringConfigurer runtimeWiringConfigurer() { \n   return wiringBuilder -&gt; wiringBuilder.scalar(ExtendedScalars.GraphQLLong); \n}\n</code></pre>\n<p>Instead of :</p>\n<pre><code>@Bean\npublic GraphQLScalarType graphQLLong() {\n   return ExtendedScalars.GraphQLLong;\n}\n</code></pre>\n"}],"owner":{"account_id":24373227,"reputation":121,"user_id":18305889,"display_name":"BugMaker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7669,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1659181359,"creation_date":1653369922,"question_id":72357575,"body_markdown":"I want to make scalar type it will report an error\r\nEven I use extended-scalars, It did not work at all.\r\n\r\n - Version:\r\n\r\nspring-boot: 2.7.0\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\r\n            &lt;artifactId&gt;graphql-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;12.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\r\n            &lt;artifactId&gt;graphql-java-tools&lt;/artifactId&gt;\r\n            &lt;version&gt;12.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\r\n            &lt;artifactId&gt;graphiql-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n - Code\r\n\r\n```java\r\n@Configuration\r\npublic class Conf {\r\n\r\n    @Bean\r\n    public GraphQLScalarType graphQLLong() {\r\n        return ExtendedScalars.GraphQLLong;\r\n    }\r\n}\r\n```\r\n\r\n```\r\nCaused by: SchemaProblem{errors=[There is no scalar implementation for the named  &#39;Long&#39; scalar type]}\r\n```\r\n\r\n - Schema structure (a very simple one)\r\n\r\n```\r\nscalar Long\r\n\r\ntype Mutation {\r\n\r\n}\r\n```\r\n\r\n - yml config\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\nSo what config was I lost?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G5HEX.png\r\n  [2]: https://i.stack.imgur.com/YVvFV.png","title":"Graphql java spring boot -- Scalar type error -- There is no scalar implementation for the named &#39;XXX&#39; scalar type","body":"<p>I want to make scalar type it will report an error\nEven I use extended-scalars, It did not work at all.</p>\n<ul>\n<li>Version:</li>\n</ul>\n<p>spring-boot: 2.7.0</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\n        &lt;artifactId&gt;graphql-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;12.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\n        &lt;artifactId&gt;graphql-java-tools&lt;/artifactId&gt;\n        &lt;version&gt;12.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\n        &lt;artifactId&gt;graphiql-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;5.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<ul>\n<li>Code</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class Conf {\n\n    @Bean\n    public GraphQLScalarType graphQLLong() {\n        return ExtendedScalars.GraphQLLong;\n    }\n}\n</code></pre>\n<pre><code>Caused by: SchemaProblem{errors=[There is no scalar implementation for the named  'Long' scalar type]}\n</code></pre>\n<ul>\n<li>Schema structure (a very simple one)</li>\n</ul>\n<pre><code>scalar Long\n\ntype Mutation {\n\n}\n</code></pre>\n<ul>\n<li>yml config</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/G5HEX.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/G5HEX.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/YVvFV.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/YVvFV.png\" alt=\"enter image description here\" /></a>\nSo what config was I lost?</p>\n"},{"tags":["java","keyboard"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1659180985,"post_id":73175187,"comment_id":129235367,"body_markdown":"Any solution will be OS-specific, since you&#39;re trying to do something that requires making OS calls.","body":"Any solution will be OS-specific, since you&#39;re trying to do something that requires making OS calls."},{"owner":{"account_id":25932432,"reputation":1,"user_id":19653279,"display_name":"Teddy"},"score":0,"creation_date":1659181642,"post_id":73175187,"comment_id":129235491,"body_markdown":"Well I&#39;m on windows. So I would need a solutiion for windows.","body":"Well I&#39;m on windows. So I would need a solutiion for windows."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1659181772,"post_id":73175187,"comment_id":129235513,"body_markdown":"Then check out the answers in the duplicate. Also, to search Google better, perhaps use the term &quot;key logger&quot; because that is what you want. Also note that there is no simple Java solution to this type of problem as Java has been built to be as OS-agnostic as possible, and so it tries to avoid letting coders get close to &quot;the metal&quot;, the OS and hardware. To solve this will require that you delve into more advanced programming concepts, including possibly using JNI or JNA.","body":"Then check out the answers in the duplicate. Also, to search Google better, perhaps use the term &quot;key logger&quot; because that is what you want. Also note that there is no simple Java solution to this type of problem as Java has been built to be as OS-agnostic as possible, and so it tries to avoid letting coders get close to &quot;the metal&quot;, the OS and hardware. To solve this will require that you delve into more advanced programming concepts, including possibly using JNI or JNA."},{"owner":{"account_id":25932432,"reputation":1,"user_id":19653279,"display_name":"Teddy"},"score":0,"creation_date":1659182212,"post_id":73175187,"comment_id":129235609,"body_markdown":"Thank you so much! I&#39;ve been searching for hours for a solution so thank you","body":"Thank you so much! I&#39;ve been searching for hours for a solution so thank you"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1659182282,"post_id":73175187,"comment_id":129235625,"body_markdown":"You&#39;re welcome.  I don&#39;t know you or your skill ability, but I&#39;ve been doing Java for over 30 years, and doing this sort of project would be daunting for me. Perhaps it will be easier for you.","body":"You&#39;re welcome.  I don&#39;t know you or your skill ability, but I&#39;ve been doing Java for over 30 years, and doing this sort of project would be daunting for me. Perhaps it will be easier for you."}],"owner":{"account_id":25932432,"reputation":1,"user_id":19653279,"display_name":"Teddy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1659180702,"answer_count":0,"score":0,"last_activity_date":1659180383,"creation_date":1659180383,"question_id":73175187,"body_markdown":"I&#39;ve been searching a while for a way my code could check for Keystrokes while another window is active. For eg. while I&#39;m writing on word and then I could press a combination of keys to trigger something in my code. But the only thing I was able to find on the internet is KeyListener, witch is great but unfortunally only cheks for Keystrokes while the last thing you interacted with is a JFrame, Frame, TextField...(same thing with MouseListener)  I want a way to check for Keystrokes **no matter what my last interaction was**. I hope any of you guys can help me.","title":"JAVA-How can I call events whenever a Keystroke has occured, no matter what window I&#39;m on?","body":"<p>I've been searching a while for a way my code could check for Keystrokes while another window is active. For eg. while I'm writing on word and then I could press a combination of keys to trigger something in my code. But the only thing I was able to find on the internet is KeyListener, witch is great but unfortunally only cheks for Keystrokes while the last thing you interacted with is a JFrame, Frame, TextField...(same thing with MouseListener)  I want a way to check for Keystrokes <strong>no matter what my last interaction was</strong>. I hope any of you guys can help me.</p>\n"},{"tags":["java","rest","spring-cloud-feign"],"answers":[{"tags":[],"owner":{"account_id":1910654,"reputation":2086,"user_id":1724560,"accept_rate":72,"display_name":"Gloria Santin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593087961,"creation_date":1593087961,"answer_id":62575311,"question_id":62462301,"body_markdown":"we solved this problem. The url and path were wrong on the FeignClient.  The error was misleading us to think it was an unauthorized error when actually it was a 404 error. ","title":"feign.FeignException: status 401 error when REST API using a feign client tries to connect","body":"<p>we solved this problem. The url and path were wrong on the FeignClient.  The error was misleading us to think it was an unauthorized error when actually it was a 404 error.</p>\n"},{"tags":[],"owner":{"account_id":5362341,"reputation":688,"user_id":4273204,"accept_rate":0,"display_name":"Akash Verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659180131,"creation_date":1659180131,"answer_id":73175156,"question_id":62462301,"body_markdown":"Add below code in your feign client configuration (in application.yml file)\r\n\r\n    feign:\r\n      hystrix:\r\n        enabled: true","title":"feign.FeignException: status 401 error when REST API using a feign client tries to connect","body":"<p>Add below code in your feign client configuration (in application.yml file)</p>\n<pre><code>feign:\n  hystrix:\n    enabled: true\n</code></pre>\n"}],"owner":{"account_id":1910654,"reputation":2086,"user_id":1724560,"accept_rate":72,"display_name":"Gloria Santin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10235,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1659180131,"creation_date":1592533347,"question_id":62462301,"body_markdown":"I have a Spring Boot REST API written in Java.  I am using a Feign client to connect to another REST API.  The endpoint uses to header parameters, apikey and serviceName.\r\nI get this error when the endpoint calls the feign client.\r\n\r\n    feign.FeignException: status 401 reading FacilityViewClient#getFacilities(Map,String,String)\\r\\n\\tat feign.FeignException.errorStatus(FeignException.java:78)\r\n\r\nThis is how I have implemented the feign client with header parameters:\r\n\r\n    @GetMapping(path = &quot;/schedule-svc/api/v1/facilities&quot;)\r\n        FacilitiesViewResponse getFacilities(@RequestHeader Map headers,\r\n                                             @RequestParam(&quot;facilityType&quot;) String facilityType,\r\n                                             @RequestParam(&quot;stateProvinceCode&quot;) String stateProvinceCode);\r\n\r\nThis is the call using the feign client:\r\n\r\n    Map&lt;String, Object&gt; headerMap = new HashMap&lt;&gt;();\r\n     headerMap.put(&quot;apikey&quot;, &quot;xxxxxxx&quot; );\r\n     headerMap.put(&quot;SERVICE-NAME&quot;, &quot;Location&quot;);\r\n        \r\n     FacilitiesViewResponse facilitiesViewResponse = facilityViewClient.getFacilities( headerMap,&quot;RALYD&quot;, &quot;PA&quot;);\r\n\r\nI have also tried to use individual @RequestHeader string parameters and get the same error.  Like this:\r\n\r\n    @RequestHeader(&quot;apikey&quot;) String apiKey\r\n    @RequestHeader(&quot;SERVICE-NAME&quot;) String serviceName\r\n\r\nThe same error occurs.\r\n\r\nI can hit the service using Postman and the header information looks like this:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zSHW0.png\r\n\r\nAre there other properties that need to be defined in the feign client to successfully set the header parameters","title":"feign.FeignException: status 401 error when REST API using a feign client tries to connect","body":"<p>I have a Spring Boot REST API written in Java.  I am using a Feign client to connect to another REST API.  The endpoint uses to header parameters, apikey and serviceName.\nI get this error when the endpoint calls the feign client.</p>\n\n<pre><code>feign.FeignException: status 401 reading FacilityViewClient#getFacilities(Map,String,String)\\r\\n\\tat feign.FeignException.errorStatus(FeignException.java:78)\n</code></pre>\n\n<p>This is how I have implemented the feign client with header parameters:</p>\n\n<pre><code>@GetMapping(path = \"/schedule-svc/api/v1/facilities\")\n    FacilitiesViewResponse getFacilities(@RequestHeader Map headers,\n                                         @RequestParam(\"facilityType\") String facilityType,\n                                         @RequestParam(\"stateProvinceCode\") String stateProvinceCode);\n</code></pre>\n\n<p>This is the call using the feign client:</p>\n\n<pre><code>Map&lt;String, Object&gt; headerMap = new HashMap&lt;&gt;();\n headerMap.put(\"apikey\", \"xxxxxxx\" );\n headerMap.put(\"SERVICE-NAME\", \"Location\");\n\n FacilitiesViewResponse facilitiesViewResponse = facilityViewClient.getFacilities( headerMap,\"RALYD\", \"PA\");\n</code></pre>\n\n<p>I have also tried to use individual @RequestHeader string parameters and get the same error.  Like this:</p>\n\n<pre><code>@RequestHeader(\"apikey\") String apiKey\n@RequestHeader(\"SERVICE-NAME\") String serviceName\n</code></pre>\n\n<p>The same error occurs.</p>\n\n<p>I can hit the service using Postman and the header information looks like this:\n<a href=\"https://i.stack.imgur.com/zSHW0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zSHW0.png\" alt=\"enter image description here\"></a></p>\n\n<p>Are there other properties that need to be defined in the feign client to successfully set the header parameters</p>\n"},{"tags":["java","spring","rest","testing","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7421,"reputation":20226,"user_id":12890,"accept_rate":83,"display_name":"Arne Burmeister"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1513245363,"creation_date":1513241569,"answer_id":47809281,"question_id":47809038,"body_markdown":"First of all, testing a controller using a Spring context is no unit test. You should consider writing a unit test for the controller by using mocks for the dependencies and creating a [standalone mock MVC][1]:\r\n\r\n    public class MyControllerTest {\r\n      @InjectMocks\r\n      private MyController tested;\r\n      // add @Mock annotated members for all dependencies used by the controller here\r\n      private MockMvc mvc;\r\n    \r\n      // add your tests here using mvc.perform()\r\n      @Test\r\n      public void getHealthReturnsStatusAsJson() throws Exception {\r\n        mvc.perform(get(&quot;/health&quot;))\r\n          .andExpect(status().isOk())\r\n          .andExpect(content().contentTypeCompatibleWith(MediaType.APPLICATION_JSON))\r\n          .andExpect(jsonPath(&quot;$.status&quot;, is(&quot;OK&quot;)));\r\n      }\r\n    \r\n      @Before\r\n      public void createControllerWithMocks() {\r\n        MockitoAnnotations.initMocks(this);\r\n        MockMvcBuilders.standaloneSetup(controller).build()\r\n      }\r\n    }\r\n\r\nThis even works if you use an external `@ControllerAdvice` for error handling etc by simply calling `setControllerAdvice()` on the MVC builder.\r\n\r\nSuch a test has no problems running in parallel and is much faster by no need to setup a Spring context at all.\r\n\r\nThe partial integration test you described is also useful to make sure the right wiring is used and all tested units work together as expected. But I would more go for a more general integration test including multiple/all endpoints checking if they work in general (not checking the edge cases) and mocking only services reaching out to external (like internal REST clients, replacing the database by one in memory, ...). With this setup you start with a fresh database and maybe will not even need to rollback any transaction. This is of course most comfortable using a database migration framework like [Liquibase][2] which would setup your in memory db on the fly.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/test/web/servlet/setup/MockMvcBuilders.html#standaloneSetup-java.lang.Object...-\r\n  [2]: http://www.liquibase.org","title":"Is it possible to test Spring REST Controllers without @DirtiesContext?","body":"<p>First of all, testing a controller using a Spring context is no unit test. You should consider writing a unit test for the controller by using mocks for the dependencies and creating a <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/test/web/servlet/setup/MockMvcBuilders.html#standaloneSetup-java.lang.Object...-\" rel=\"nofollow noreferrer\">standalone mock MVC</a>:</p>\n\n<pre><code>public class MyControllerTest {\n  @InjectMocks\n  private MyController tested;\n  // add @Mock annotated members for all dependencies used by the controller here\n  private MockMvc mvc;\n\n  // add your tests here using mvc.perform()\n  @Test\n  public void getHealthReturnsStatusAsJson() throws Exception {\n    mvc.perform(get(\"/health\"))\n      .andExpect(status().isOk())\n      .andExpect(content().contentTypeCompatibleWith(MediaType.APPLICATION_JSON))\n      .andExpect(jsonPath(\"$.status\", is(\"OK\")));\n  }\n\n  @Before\n  public void createControllerWithMocks() {\n    MockitoAnnotations.initMocks(this);\n    MockMvcBuilders.standaloneSetup(controller).build()\n  }\n}\n</code></pre>\n\n<p>This even works if you use an external <code>@ControllerAdvice</code> for error handling etc by simply calling <code>setControllerAdvice()</code> on the MVC builder.</p>\n\n<p>Such a test has no problems running in parallel and is much faster by no need to setup a Spring context at all.</p>\n\n<p>The partial integration test you described is also useful to make sure the right wiring is used and all tested units work together as expected. But I would more go for a more general integration test including multiple/all endpoints checking if they work in general (not checking the edge cases) and mocking only services reaching out to external (like internal REST clients, replacing the database by one in memory, ...). With this setup you start with a fresh database and maybe will not even need to rollback any transaction. This is of course most comfortable using a database migration framework like <a href=\"http://www.liquibase.org\" rel=\"nofollow noreferrer\">Liquibase</a> which would setup your in memory db on the fly.</p>\n"},{"tags":[],"owner":{"account_id":15337978,"reputation":41,"user_id":11065755,"display_name":"Nate Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659180023,"creation_date":1659180023,"answer_id":73175149,"question_id":47809038,"body_markdown":"Below is my implement followed by #4\r\n\r\n    private MockMvc mockMvc;\r\n    @Mock\r\n    private LoginService loginService;\r\n    @Mock\r\n    private PersonalService personalService;\r\n\r\n    @InjectMocks\r\n    private LoginController loginController;\r\n\r\n    @BeforeEach\r\n    public void setUp() {\r\n        MockitoAnnotations.openMocks(this);\r\n        mockMvc = MockMvcBuilders.standaloneSetup(loginController).build();\r\n    }\r\n\r\n    @Test\r\n    void simple_login() throws Exception {\r\n        Mockito.when(loginService.login(Mockito.anyString(), Mockito.anyString()))\r\n                .thenReturn(UserAccessData.builder()\r\n                        .accessToken(&quot;access_token_content&quot;)\r\n                        .refreshToken(&quot;refresh_token_count&quot;)\r\n                        .build());\r\n\r\n        mockMvc.perform(\r\n                        MockMvcRequestBuilders.post(&quot;/login/simple&quot;)\r\n                                .contentType(MediaType.APPLICATION_JSON_VALUE)\r\n                                .param(&quot;accountName&quot;, &quot;1234561&quot;)\r\n                                .param(&quot;password&quot;, &quot;e10adc3949ba59abbe56e057f20f883e&quot;)\r\n                )\r\n                .andDo(print())\r\n                .andExpect(MockMvcResultMatchers.status().isOk())\r\n                .andExpect(jsonPath(&quot;$.tokens.accessToken&quot;, is(&quot;access_token_content&quot;)))\r\n                .andExpect(jsonPath(&quot;$.tokens.refreshToken&quot;, is(&quot;refresh_token_count&quot;)))\r\n        ;\r\n    }\r\n\r\n    ","title":"Is it possible to test Spring REST Controllers without @DirtiesContext?","body":"<p>Below is my implement followed by #4</p>\n<pre><code>private MockMvc mockMvc;\n@Mock\nprivate LoginService loginService;\n@Mock\nprivate PersonalService personalService;\n\n@InjectMocks\nprivate LoginController loginController;\n\n@BeforeEach\npublic void setUp() {\n    MockitoAnnotations.openMocks(this);\n    mockMvc = MockMvcBuilders.standaloneSetup(loginController).build();\n}\n\n@Test\nvoid simple_login() throws Exception {\n    Mockito.when(loginService.login(Mockito.anyString(), Mockito.anyString()))\n            .thenReturn(UserAccessData.builder()\n                    .accessToken(&quot;access_token_content&quot;)\n                    .refreshToken(&quot;refresh_token_count&quot;)\n                    .build());\n\n    mockMvc.perform(\n                    MockMvcRequestBuilders.post(&quot;/login/simple&quot;)\n                            .contentType(MediaType.APPLICATION_JSON_VALUE)\n                            .param(&quot;accountName&quot;, &quot;1234561&quot;)\n                            .param(&quot;password&quot;, &quot;e10adc3949ba59abbe56e057f20f883e&quot;)\n            )\n            .andDo(print())\n            .andExpect(MockMvcResultMatchers.status().isOk())\n            .andExpect(jsonPath(&quot;$.tokens.accessToken&quot;, is(&quot;access_token_content&quot;)))\n            .andExpect(jsonPath(&quot;$.tokens.refreshToken&quot;, is(&quot;refresh_token_count&quot;)))\n    ;\n}\n</code></pre>\n"}],"owner":{"account_id":3719550,"reputation":6826,"user_id":3094906,"accept_rate":71,"display_name":"Martin H&#228;usler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5198,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47809281,"answer_count":2,"score":1,"last_activity_date":1659180023,"creation_date":1513240603,"question_id":47809038,"body_markdown":"I&#39;m working on a Spring-Boot web application. The usual way of writing integration tests is:\r\n\r\n    @Test\r\n    @Transactional\r\n    @Rollback(true)\r\n    public void myTest() {\r\n        // ...\r\n    }\r\n\r\nThis works nicely as long as only *one thread* does the work. `@Rollback` cannot work if there are multiple threads.\r\n\r\nHowever, when testing a `@RestController` class using the Spring REST templates, there are *always* multiple threads (by design):\r\n\r\n - the test thread which acts as the client and runs the REST template\r\n - the server thread which receives and processes the request\r\n\r\nSo you can&#39;t use `@Rollback` in a REST test.  The question is: **what do you use instead to make tests repeatable and have them play nicely in a test suite?** \r\n\r\n`@DirtiesContext` works, but is a bad option because restarting the Spring application context after each REST test method makes the suite really slow to execute; each test takes a couple of milliseconds to run, but restarting the context takes several seconds.","title":"Is it possible to test Spring REST Controllers without @DirtiesContext?","body":"<p>I'm working on a Spring-Boot web application. The usual way of writing integration tests is:</p>\n\n<pre><code>@Test\n@Transactional\n@Rollback(true)\npublic void myTest() {\n    // ...\n}\n</code></pre>\n\n<p>This works nicely as long as only <em>one thread</em> does the work. <code>@Rollback</code> cannot work if there are multiple threads.</p>\n\n<p>However, when testing a <code>@RestController</code> class using the Spring REST templates, there are <em>always</em> multiple threads (by design):</p>\n\n<ul>\n<li>the test thread which acts as the client and runs the REST template</li>\n<li>the server thread which receives and processes the request</li>\n</ul>\n\n<p>So you can't use <code>@Rollback</code> in a REST test.  The question is: <strong>what do you use instead to make tests repeatable and have them play nicely in a test suite?</strong> </p>\n\n<p><code>@DirtiesContext</code> works, but is a bad option because restarting the Spring application context after each REST test method makes the suite really slow to execute; each test takes a couple of milliseconds to run, but restarting the context takes several seconds.</p>\n"},{"tags":["java","jpa"],"answers":[{"tags":[],"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659167281,"creation_date":1659162857,"answer_id":73173404,"question_id":73172977,"body_markdown":"You have some errors in your SQL and Spring code. In `create table &#39;user&#39;` SQL you define `gid` as the primary key, but actually, your primary key is `user_id`!!  However, for your purpose first, add the foreign key constraints:\r\n\r\n    FOREIGN KEY (user_id) REFERENCES user(user_id)\r\n\r\nTo the database as:\r\n\r\n    create table `rank_season` (\r\n           `start_date` date not null,\r\n            `user_id` varchar(255) not null,\r\n            `prize_top` decimal(19,2),\r\n            primary key (`start_date`, `user_id`),\r\n            FOREIGN KEY (user_id) REFERENCES user(user_id)\r\n        ) engine=InnoDB;\r\n\r\nAnd in your Java code add this annotation on top of the `userId` property in order to define `ManyToOne` relation:\r\n\r\n    @Id\r\n    @ManyToOne\r\n    @JoinColumn(name=&quot;user_id&quot;, nullable=false)\r\n    private User user;\r\n\r\nClass `GameSeason` complete code:\r\n\r\n\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table\r\n    @IdClass(GameSeason.Pk.class)\r\n    public class GameSeason {\r\n    \r\n        @Id\r\n        private LocalDate startDate;\r\n        \r\n        @Id\r\n        @ManyToOne\r\n        @JoinColumn(name=&quot;user_id&quot;, nullable=false)\r\n        private User user;\r\n    \r\n        private BigInteger prizeTop;\r\n    \r\n        @Getter\r\n        @Setter\r\n        @NoArgsConstructor(access = AccessLevel.PROTECTED)\r\n        @EqualsAndHashCode(callSuper = false)\r\n        public static class Pk implements Serializable {\r\n            @Id\r\n            private LocalDate startDate;\r\n            @Id\r\n            private String userId;\r\n        }\r\n    }\r\n\r\n","title":"how to define the one of composite key to the certain entity in jpa?","body":"<p>You have some errors in your SQL and Spring code. In <code>create table 'user'</code> SQL you define <code>gid</code> as the primary key, but actually, your primary key is <code>user_id</code>!!  However, for your purpose first, add the foreign key constraints:</p>\n<pre><code>FOREIGN KEY (user_id) REFERENCES user(user_id)\n</code></pre>\n<p>To the database as:</p>\n<pre><code>create table `rank_season` (\n       `start_date` date not null,\n        `user_id` varchar(255) not null,\n        `prize_top` decimal(19,2),\n        primary key (`start_date`, `user_id`),\n        FOREIGN KEY (user_id) REFERENCES user(user_id)\n    ) engine=InnoDB;\n</code></pre>\n<p>And in your Java code add this annotation on top of the <code>userId</code> property in order to define <code>ManyToOne</code> relation:</p>\n<pre><code>@Id\n@ManyToOne\n@JoinColumn(name=&quot;user_id&quot;, nullable=false)\nprivate User user;\n</code></pre>\n<p>Class <code>GameSeason</code> complete code:</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@Table\n@IdClass(GameSeason.Pk.class)\npublic class GameSeason {\n\n    @Id\n    private LocalDate startDate;\n    \n    @Id\n    @ManyToOne\n    @JoinColumn(name=&quot;user_id&quot;, nullable=false)\n    private User user;\n\n    private BigInteger prizeTop;\n\n    @Getter\n    @Setter\n    @NoArgsConstructor(access = AccessLevel.PROTECTED)\n    @EqualsAndHashCode(callSuper = false)\n    public static class Pk implements Serializable {\n        @Id\n        private LocalDate startDate;\n        @Id\n        private String userId;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13038047,"reputation":476,"user_id":9422268,"display_name":"Joonseo Lee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659179773,"creation_date":1659157036,"question_id":73172977,"body_markdown":"I&#39;m curious how to define the one field that an entity has to the certain entity.  \r\nyou can see the below two tables ddl.  \r\n\r\n```sql\r\ncreate table `rank_season` (\r\n       `start_date` date not null,\r\n        `user_id` varchar(255) not null,\r\n        `prize_top` decimal(19,2),\r\n        primary key (`start_date`, `user_id`)\r\n    ) engine=InnoDB;\r\n\r\ncreate table `user` (\r\n       `user_id` varchar(255) not null,\r\n       `reg_date` datetime(6),\r\n       primary key (`user_id`)\r\n    ) engine=InnoDB\r\n```\r\n\r\nI use the entities like this.  \r\nbut I would like to change the field, user_id, to User entity.  \r\nI tried to do several times but it didn&#39;t work.  \r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table\r\n@IdClass(GameSeason.Pk.class)\r\npublic class GameSeason {\r\n\r\n    @Id\r\n    private LocalDate startDate;\r\n    @Id\r\n    private String userId; // todo: change to User entity\r\n    private BigInteger prizeTop;\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor(access = AccessLevel.PROTECTED)\r\n    @EqualsAndHashCode(callSuper = false)\r\n    public static class Pk implements Serializable {\r\n        @Id\r\n        private LocalDate startDate;\r\n        @Id\r\n        private String userId;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table\r\npublic class User {\r\n\r\n    @Id\r\n    private String userId;\r\n    private LocalDateTime regDate;\r\n}\r\n```\r\n\r\n---\r\n\r\nI made it like this.  \r\njust plus related entity field to `GameSeason`\r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table\r\n@IdClass(GameSeason.Pk.class)\r\npublic class GameSeason {\r\n\r\n    @Id\r\n    private LocalDate startDate;\r\n    @Id\r\n    private String userId;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false, insertable = false, updatable = false)\r\n    private User user;\r\n    private BigInteger prizeTop;\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor(access = AccessLevel.PROTECTED)\r\n    @EqualsAndHashCode(callSuper = false)\r\n    public static class Pk implements Serializable {\r\n        @Id\r\n        private LocalDate startDate;\r\n        @Id\r\n        private String userId;\r\n    }\r\n}\r\n```\r\n","title":"how to define the one of composite key to the certain entity in jpa?","body":"<p>I'm curious how to define the one field that an entity has to the certain entity.<br />\nyou can see the below two tables ddl.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table `rank_season` (\n       `start_date` date not null,\n        `user_id` varchar(255) not null,\n        `prize_top` decimal(19,2),\n        primary key (`start_date`, `user_id`)\n    ) engine=InnoDB;\n\ncreate table `user` (\n       `user_id` varchar(255) not null,\n       `reg_date` datetime(6),\n       primary key (`user_id`)\n    ) engine=InnoDB\n</code></pre>\n<p>I use the entities like this.<br />\nbut I would like to change the field, user_id, to User entity.<br />\nI tried to do several times but it didn't work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@Entity\n@Table\n@IdClass(GameSeason.Pk.class)\npublic class GameSeason {\n\n    @Id\n    private LocalDate startDate;\n    @Id\n    private String userId; // todo: change to User entity\n    private BigInteger prizeTop;\n\n    @Getter\n    @Setter\n    @NoArgsConstructor(access = AccessLevel.PROTECTED)\n    @EqualsAndHashCode(callSuper = false)\n    public static class Pk implements Serializable {\n        @Id\n        private LocalDate startDate;\n        @Id\n        private String userId;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@Entity\n@Table\npublic class User {\n\n    @Id\n    private String userId;\n    private LocalDateTime regDate;\n}\n</code></pre>\n<hr />\n<p>I made it like this.<br />\njust plus related entity field to <code>GameSeason</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@Entity\n@Table\n@IdClass(GameSeason.Pk.class)\npublic class GameSeason {\n\n    @Id\n    private LocalDate startDate;\n    @Id\n    private String userId;\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false, insertable = false, updatable = false)\n    private User user;\n    private BigInteger prizeTop;\n\n    @Getter\n    @Setter\n    @NoArgsConstructor(access = AccessLevel.PROTECTED)\n    @EqualsAndHashCode(callSuper = false)\n    public static class Pk implements Serializable {\n        @Id\n        private LocalDate startDate;\n        @Id\n        private String userId;\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","logging","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":17016092,"reputation":13,"user_id":12309952,"display_name":"Human Bean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658960826,"creation_date":1658960654,"answer_id":73145214,"question_id":73141142,"body_markdown":"Use logback. Put this logback.xml file in your resources\r\n\r\n    &lt;configuration&gt;\r\n      &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n        &lt;file&gt;logs/output.log&lt;/file&gt;\r\n        &lt;append&gt;false&lt;/append&gt;\r\n        &lt;immediateFlush&gt;true&lt;/immediateFlush&gt;\r\n        &lt;encoder&gt;\r\n          &lt;pattern&gt;%-4relative [%thread] %-5level %logger{35} - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n      &lt;/appender&gt;\r\n            \r\n      &lt;root level=&quot;DEBUG&quot;&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n      &lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAnd add this line to your application.properties file\r\n\r\n    logging.config=example/path/logback.xml\r\n\r\n","title":"Log4j2 does not write logs to console or file (properties)","body":"<p>Use logback. Put this logback.xml file in your resources</p>\n<pre><code>&lt;configuration&gt;\n  &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\n    &lt;file&gt;logs/output.log&lt;/file&gt;\n    &lt;append&gt;false&lt;/append&gt;\n    &lt;immediateFlush&gt;true&lt;/immediateFlush&gt;\n    &lt;encoder&gt;\n      &lt;pattern&gt;%-4relative [%thread] %-5level %logger{35} - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n  &lt;/appender&gt;\n        \n  &lt;root level=&quot;DEBUG&quot;&gt;\n    &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n  &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>And add this line to your application.properties file</p>\n<pre><code>logging.config=example/path/logback.xml\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21806266,"reputation":50,"user_id":16104419,"display_name":"Богдан Иманкулов"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659179603,"creation_date":1659179603,"answer_id":73175109,"question_id":73141142,"body_markdown":"I finally resolved that problem, but not with log4j2. I used logback instead.\r\nLogback.xml file: \r\n\r\n```&lt;configuration&gt;\r\n    &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n        &lt;file&gt;logs/output.log&lt;/file&gt;\r\n        &lt;append&gt;false&lt;/append&gt;\r\n        &lt;immediateFlush&gt;true&lt;/immediateFlush&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%-4relative [%thread] %-5level %logger{35} - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;append&gt;false&lt;/append&gt;\r\n        &lt;immediateFlush&gt;true&lt;/immediateFlush&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%d{HH:mm:ss} [%thread] %-5level %logger{35} - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\nand added this code: \r\n\r\n```\r\nprivate static final Logger logger;\r\n\r\n\tstatic {\r\n\t\ttry {\r\n\t\t\tlogger = logbackConfigure();\r\n\t\t} catch (JoranException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}\r\n\r\n    public static Logger logbackConfigure() throws JoranException {\r\n\t\tLoggerContext context = (LoggerContext) LoggerFactory.getILoggerFactory();\r\n\t\tcontext.reset();\r\n\t\tJoranConfigurator configurator = new JoranConfigurator();\r\n\t\tconfigurator.setContext(context);\r\n\t\tconfigurator.doConfigure(&quot;src/main/resources/logback.xml&quot;);\r\n\r\n\t\tLogger root = (Logger) LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);\r\n\t\troot.setLevel(Level.INFO);\r\n\t\treturn root;\r\n\t}\r\n```\r\nistead of: \r\n```\r\nprivate static final Logger logger = LogManager.getLogger();\r\n```","title":"Log4j2 does not write logs to console or file (properties)","body":"<p>I finally resolved that problem, but not with log4j2. I used logback instead.\nLogback.xml file:</p>\n<pre><code>    &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\n        &lt;file&gt;logs/output.log&lt;/file&gt;\n        &lt;append&gt;false&lt;/append&gt;\n        &lt;immediateFlush&gt;true&lt;/immediateFlush&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%-4relative [%thread] %-5level %logger{35} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;append&gt;false&lt;/append&gt;\n        &lt;immediateFlush&gt;true&lt;/immediateFlush&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss} [%thread] %-5level %logger{35} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>and added this code:</p>\n<pre><code>private static final Logger logger;\n\n    static {\n        try {\n            logger = logbackConfigure();\n        } catch (JoranException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public static Logger logbackConfigure() throws JoranException {\n        LoggerContext context = (LoggerContext) LoggerFactory.getILoggerFactory();\n        context.reset();\n        JoranConfigurator configurator = new JoranConfigurator();\n        configurator.setContext(context);\n        configurator.doConfigure(&quot;src/main/resources/logback.xml&quot;);\n\n        Logger root = (Logger) LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);\n        root.setLevel(Level.INFO);\n        return root;\n    }\n</code></pre>\n<p>istead of:</p>\n<pre><code>private static final Logger logger = LogManager.getLogger();\n</code></pre>\n"}],"owner":{"account_id":21806266,"reputation":50,"user_id":16104419,"display_name":"Богдан Иманкулов"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":668,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73175109,"answer_count":2,"score":0,"last_activity_date":1659179603,"creation_date":1658937446,"question_id":73141142,"body_markdown":"i tried to add log4j2 to my project, and i want it to write logs to the file and to the console, but no one works... \r\n\r\nMy log4j2.properties file\r\n\r\n    appenders = myfileappender,console\r\n    appender.myfileappender.type = file\r\n    appender.myfileappender.name = myfileappender\r\n    appender.myfileappender.fileName = logs/app.log\r\n    appender.myfileappender.layout.type = PatternLayout\r\n    appender.myfileappender.layout.pattern = %C{1.} {%-5level} %d{HH:mm:ss} - %msg%n\r\n    appender.console.type = console\r\n    appender.console.name = console\r\n    appender.console.layout.type = PatternLayout\r\n    appender.console.layout.pattern = %C{1.} {%-5level} %d{HH:mm:ss} - %msg%n\r\n    rootLogger.appenderRefs = file,console\r\n    rootLogger.appenderRefs.file.ref = myfileappender\r\n    rootLogger.appenderRefs.console.ref = console\r\n    rootLogger.level = all\r\n\r\nand my main class:\r\n\r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    \r\n    public class Main {\r\n    \tprivate static final Logger logger = LogManager.getLogger();\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tlogger.info(&quot;Info msg&quot;);\r\n    \t\tlogger.warn(&quot;Warn msg&quot;);\r\n    \t\tlogger.debug(&quot;Debug msg&quot;);\r\n    \t\tlogger.error(&quot;Err msg&quot;);\r\n    \t\tlogger.fatal(&quot;Fat msg&quot;);\r\n    \t}\r\n    }\r\n\r\nmy properties file is in src/main/resources, main class is in src/main/java. I want log4j to write log files to {my-project-root}/logs/app.log","title":"Log4j2 does not write logs to console or file (properties)","body":"<p>i tried to add log4j2 to my project, and i want it to write logs to the file and to the console, but no one works...</p>\n<p>My log4j2.properties file</p>\n<pre><code>appenders = myfileappender,console\nappender.myfileappender.type = file\nappender.myfileappender.name = myfileappender\nappender.myfileappender.fileName = logs/app.log\nappender.myfileappender.layout.type = PatternLayout\nappender.myfileappender.layout.pattern = %C{1.} {%-5level} %d{HH:mm:ss} - %msg%n\nappender.console.type = console\nappender.console.name = console\nappender.console.layout.type = PatternLayout\nappender.console.layout.pattern = %C{1.} {%-5level} %d{HH:mm:ss} - %msg%n\nrootLogger.appenderRefs = file,console\nrootLogger.appenderRefs.file.ref = myfileappender\nrootLogger.appenderRefs.console.ref = console\nrootLogger.level = all\n</code></pre>\n<p>and my main class:</p>\n<pre><code>import org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\npublic class Main {\n    private static final Logger logger = LogManager.getLogger();\n\n    public static void main(String[] args) {\n        logger.info(&quot;Info msg&quot;);\n        logger.warn(&quot;Warn msg&quot;);\n        logger.debug(&quot;Debug msg&quot;);\n        logger.error(&quot;Err msg&quot;);\n        logger.fatal(&quot;Fat msg&quot;);\n    }\n}\n</code></pre>\n<p>my properties file is in src/main/resources, main class is in src/main/java. I want log4j to write log files to {my-project-root}/logs/app.log</p>\n"},{"tags":["java","recursion","taylor-series"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1393299073,"post_id":22003994,"comment_id":33350808,"body_markdown":"As is usually the case here -- please show what you&#39;ve tried.","body":"As is usually the case here -- please show what you&#39;ve tried."}],"answers":[{"tags":[],"owner":{"account_id":410237,"reputation":12627,"user_id":781965,"accept_rate":72,"display_name":"Jeff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1393300036,"creation_date":1393300036,"answer_id":22004159,"question_id":22003994,"body_markdown":"Since the method is static, you can actually just store it in a static variable in the first call. You&#39;ll need to throw an if statement in to check if it&#39;s the first iteration too. I&#39;ll add code later but don&#39;t have time right now.\r\n\r\nOr you can keep track of the number of iterations in a variable. Delegate to another method which is the &quot;real&quot; recursive method, and pass different arguments.\r\n\r\nAll kinds of different possible solutions.\r\n\r\nYou could turn it in to a loop, but that would possibly not impress your supervisor.","title":"Computing e^x using recursion and taylor series","body":"<p>Since the method is static, you can actually just store it in a static variable in the first call. You'll need to throw an if statement in to check if it's the first iteration too. I'll add code later but don't have time right now.</p>\n\n<p>Or you can keep track of the number of iterations in a variable. Delegate to another method which is the \"real\" recursive method, and pass different arguments.</p>\n\n<p>All kinds of different possible solutions.</p>\n\n<p>You could turn it in to a loop, but that would possibly not impress your supervisor.</p>\n"}],"owner":{"account_id":2033723,"reputation":39,"user_id":1816648,"accept_rate":100,"display_name":"Tim S."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3161,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":22004159,"answer_count":1,"score":0,"last_activity_date":1659179179,"creation_date":1393298977,"question_id":22003994,"body_markdown":"So I am required to recursively calculate e^x using a factored form of a Taylor series:\r\n\r\nequation: e^x = 1 +x + (x^2)/2! + ... + ((x^n)/n!))\r\n\r\nfactored form: e^x = 1 + x (1+x/2*(1+x/3*(...(1+x/n))))\r\n\r\nIn the function definition below, &#39;x&#39; is the power and &#39;n&#39; is the total number of terms to estimate e^x. I would prefer if someone could point me in the right direction. I have tried many different ways, including using a base case of the innermost term of the factored equation, but to no avail. \r\n\r\n\r\n    static double eThree(double x, long n) {\r\n       //this is what i tried\r\n       if(n==0){\r\n            return 1 +x/n;\r\n        }else{\r\n            double a= (1+(x/n)) * (eThree(x,n-1));\r\n            System.out.println(a);\r\n            return a;\r\n        }\r\n       \r\n        \r\n    }\r\nI have realized that &#39;n&#39; should increase not decrease as I have attempted, however, the original call to the function has the total number of iterations in variable &#39;n&#39; and there is no way to keep track of the total number of iterations throughout all the recursive calls.\r\n\r\nthe value of each term&#39;s divisor in (1 +(x/n)), where n is the divisor, should increase by one each time, and in the final iteration be equal to the total number of iterations.","title":"Computing e^x using recursion and taylor series","body":"<p>So I am required to recursively calculate e^x using a factored form of a Taylor series:</p>\n\n<p>equation: e^x = 1 +x + (x^2)/2! + ... + ((x^n)/n!))</p>\n\n<p>factored form: e^x = 1 + x (1+x/2*(1+x/3*(...(1+x/n))))</p>\n\n<p>In the function definition below, 'x' is the power and 'n' is the total number of terms to estimate e^x. I would prefer if someone could point me in the right direction. I have tried many different ways, including using a base case of the innermost term of the factored equation, but to no avail. </p>\n\n<pre><code>static double eThree(double x, long n) {\n   //this is what i tried\n   if(n==0){\n        return 1 +x/n;\n    }else{\n        double a= (1+(x/n)) * (eThree(x,n-1));\n        System.out.println(a);\n        return a;\n    }\n\n\n}\n</code></pre>\n\n<p>I have realized that 'n' should increase not decrease as I have attempted, however, the original call to the function has the total number of iterations in variable 'n' and there is no way to keep track of the total number of iterations throughout all the recursive calls.</p>\n\n<p>the value of each term's divisor in (1 +(x/n)), where n is the divisor, should increase by one each time, and in the final iteration be equal to the total number of iterations.</p>\n"},{"tags":["java","selenium","cucumber"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1659183025,"post_id":73175064,"comment_id":129235785,"body_markdown":"Can you update the question with your step defination, test runner and test class details?","body":"Can you update the question with your step defination, test runner and test class details?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659187626,"post_id":73175064,"comment_id":129236675,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":21057864,"reputation":13,"user_id":15476820,"display_name":"slimshaney"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659179155,"creation_date":1659179155,"question_id":73175064,"body_markdown":"Error says \r\n\r\nTesting started at 12:03 ...\r\n12:03:10.624 [main] DEBUG io.github.bonigarcia.wdm.cache.ResolutionCache - Resolution chrome=103 in cache (valid until 12:20:19 30/07/2022 BST)\r\n12:03:10.634 [main] DEBUG io.github.bonigarcia.wdm.cache.ResolutionCache - Resolution chrome103=103.0.5060.134 in cache (valid until 17:22:03 30/07/2022 BST)\r\n12:03:10.635 [main] INFO io.github.bonigarcia.wdm.WebDriverManager - Using chromedriver 103.0.5060.134 (resolved driver for Chrome 103)\r\n12:03:10.678 [main] DEBUG io.github.bonigarcia.wdm.WebDriverManager - Driver chromedriver 103.0.5060.134 found in cache\r\n12:03:10.681 [main] INFO io.github.bonigarcia.wdm.WebDriverManager - Exporting webdriver.chrome.driver as C:\\Users\\lukem\\.cache\\selenium\\chromedriver\\win32\\103.0.5060.134\\chromedriver.exe\r\n\r\n0 Scenarios\r\n0 Steps\r\n0m1.300s","title":"My ChromeBrowser doesn&#39;t open, despite my step definitions, feature files and my code looking fine (JavaSeleniumCucumber) testing)","body":"<p>Error says</p>\n<p>Testing started at 12:03 ...\n12:03:10.624 [main] DEBUG io.github.bonigarcia.wdm.cache.ResolutionCache - Resolution chrome=103 in cache (valid until 12:20:19 30/07/2022 BST)\n12:03:10.634 [main] DEBUG io.github.bonigarcia.wdm.cache.ResolutionCache - Resolution chrome103=103.0.5060.134 in cache (valid until 17:22:03 30/07/2022 BST)\n12:03:10.635 [main] INFO io.github.bonigarcia.wdm.WebDriverManager - Using chromedriver 103.0.5060.134 (resolved driver for Chrome 103)\n12:03:10.678 [main] DEBUG io.github.bonigarcia.wdm.WebDriverManager - Driver chromedriver 103.0.5060.134 found in cache\n12:03:10.681 [main] INFO io.github.bonigarcia.wdm.WebDriverManager - Exporting webdriver.chrome.driver as C:\\Users\\lukem.cache\\selenium\\chromedriver\\win32\\103.0.5060.134\\chromedriver.exe</p>\n<p>0 Scenarios\n0 Steps\n0m1.300s</p>\n"},{"tags":["java","spring","dependency-injection"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1659178191,"post_id":73174799,"comment_id":129234740,"body_markdown":"yes as long as the service is a bean and make sure you dont get circular dependencies","body":"yes as long as the service is a bean and make sure you dont get circular dependencies"},{"owner":{"account_id":6409722,"reputation":2936,"user_id":4969870,"display_name":"Paweł Głowacz"},"score":2,"creation_date":1659179007,"post_id":73174799,"comment_id":129234956,"body_markdown":"It is not bad practice. Depends on situation.","body":"It is not bad practice. Depends on situation."}],"answers":[{"tags":[],"owner":{"account_id":17589164,"reputation":4047,"user_id":12761369,"display_name":"k-wasilewski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659178635,"creation_date":1659178635,"answer_id":73175013,"question_id":73174799,"body_markdown":"I would say that it&#39;s just not making use of the framework you&#39;re operating within. That&#39;s exactly what DI is for: letting the container handle the components and their relations (eg. if you inject sth multiple times, DI helps you avoid multiple instantiations).\r\n\r\nNow, in your case, you can use the `@Configurable` annotation, which adds a POJO component to the Spring context, and so lets you inject stuff into it.","title":"Is passing a service as a parameter bad practice?","body":"<p>I would say that it's just not making use of the framework you're operating within. That's exactly what DI is for: letting the container handle the components and their relations (eg. if you inject sth multiple times, DI helps you avoid multiple instantiations).</p>\n<p>Now, in your case, you can use the <code>@Configurable</code> annotation, which adds a POJO component to the Spring context, and so lets you inject stuff into it.</p>\n"}],"owner":{"account_id":538159,"reputation":1990,"user_id":906308,"accept_rate":78,"display_name":"BigJ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":574,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73175013,"answer_count":1,"score":0,"last_activity_date":1659178635,"creation_date":1659176845,"question_id":73174799,"body_markdown":"Suppose I want to use a service in a POJO class, like an implementation of some sort, can I just pass this service as a parameter to this POJO? Or would that be bad practice? \r\n\r\n```\r\n@Service\r\npublic class MyService {\r\n\r\n    // Inject AnotherService in this service\r\n    public MyService(AnotherService anotherService) {\r\n        // Now pass that service in a POJO\r\n        SomeImplementation impl = new SomeImplementation(anotherService);       \r\n    }\r\n}\r\n \r\npublic class SomeImplementation {\r\n\r\n    public SomeImplementation(AnotherService anotherService) {\r\n        // start using the AnotherService here...\r\n    }\r\n}\r\n\r\n```\r\n\r\nFor this example I used Java and Spring, but this question applies to all languages with dependency injection.","title":"Is passing a service as a parameter bad practice?","body":"<p>Suppose I want to use a service in a POJO class, like an implementation of some sort, can I just pass this service as a parameter to this POJO? Or would that be bad practice?</p>\n<pre><code>@Service\npublic class MyService {\n\n    // Inject AnotherService in this service\n    public MyService(AnotherService anotherService) {\n        // Now pass that service in a POJO\n        SomeImplementation impl = new SomeImplementation(anotherService);       \n    }\n}\n \npublic class SomeImplementation {\n\n    public SomeImplementation(AnotherService anotherService) {\n        // start using the AnotherService here...\n    }\n}\n\n</code></pre>\n<p>For this example I used Java and Spring, but this question applies to all languages with dependency injection.</p>\n"},{"tags":["java","eclipse","editor","mouse-cursor"],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":242,"is_accepted":true,"score":242,"last_activity_date":1355827474,"creation_date":1335854821,"answer_id":10394490,"question_id":10394479,"body_markdown":"Most likely this is the block edit mode. Try pressing &lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;A&lt;/kbd&gt;.","title":"Eclipse cursor changes to crosshair","body":"<p>Most likely this is the block edit mode. Try pressing <kbd>Alt</kbd>+<kbd>Shift</kbd>+<kbd>A</kbd>.</p>\n"},{"tags":[],"owner":{"account_id":389921,"reputation":956,"user_id":749665,"accept_rate":40,"display_name":"rohtakdev"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1413765081,"creation_date":1413765081,"answer_id":26456960,"question_id":10394479,"body_markdown":"Just so to provide solution for MAC again-\r\n\r\n&lt;kbd&gt;cmd&lt;/kbd&gt; + &lt;kbd&gt;alt&lt;/kbd&gt; + &lt;kbd&gt;A &lt;/kbd&gt;\r\n\r\nThanks to @vsm","title":"Eclipse cursor changes to crosshair","body":"<p>Just so to provide solution for MAC again-</p>\n\n<p><kbd>cmd</kbd> + <kbd>alt</kbd> + <kbd>A </kbd></p>\n\n<p>Thanks to @vsm</p>\n"},{"tags":[],"owner":{"account_id":6667715,"reputation":7474,"user_id":5144855,"accept_rate":47,"display_name":"Ruchir Baronia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449196265,"creation_date":1449196265,"answer_id":34079946,"question_id":10394479,"body_markdown":"Clicking the `0` button while on `num lock` can also cause it to change...\r\n\r\nJust wrote this incase any one else was not finding a solution! :-)\r\n","title":"Eclipse cursor changes to crosshair","body":"<p>Clicking the <code>0</code> button while on <code>num lock</code> can also cause it to change...</p>\n\n<p>Just wrote this incase any one else was not finding a solution! :-)</p>\n"},{"tags":[],"owner":{"account_id":10107394,"reputation":9,"user_id":7469491,"display_name":"Louis Pegu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1485355153,"creation_date":1485355153,"answer_id":41854324,"question_id":10394479,"body_markdown":"Due to certain typo slips these anoying crusor change might turn up.You save your work on diffrent txt file and then close down the work without saving it on the ide .Build up a new class file paste the already written code from the txt file and continue.Enjoy;","title":"Eclipse cursor changes to crosshair","body":"<p>Due to certain typo slips these anoying crusor change might turn up.You save your work on diffrent txt file and then close down the work without saving it on the ide .Build up a new class file paste the already written code from the txt file and continue.Enjoy;</p>\n"}],"owner":{"account_id":184519,"reputation":22782,"user_id":420613,"accept_rate":87,"display_name":"Muhammad Imran Tariq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49356,"favorite_count":0,"down_vote_count":0,"up_vote_count":101,"accepted_answer_id":10394490,"answer_count":4,"score":101,"last_activity_date":1659178547,"creation_date":1335854731,"question_id":10394479,"body_markdown":"I was working in Eclipse Java EE IDE. While using it, mouse cursor changes to cross-hair. Now its displaying as cross-hair in editors. Where to change it?","title":"Eclipse cursor changes to crosshair","body":"<p>I was working in Eclipse Java EE IDE. While using it, mouse cursor changes to cross-hair. Now its displaying as cross-hair in editors. Where to change it?</p>\n"},{"tags":["java","session","spring-security","spring-session"],"answers":[{"tags":[],"owner":{"account_id":4462082,"reputation":95,"user_id":3630620,"display_name":"Programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597879971,"creation_date":1597876176,"answer_id":63495800,"question_id":61303023,"body_markdown":"I have solved the same issue by adding the following config:\r\n\r\n    .antMatchers(&quot;/login-invalid&quot;).permitAll()\r\n\r\n","title":"Spring Security - Public pages redirected to login with invalid session id","body":"<p>I have solved the same issue by adding the following config:</p>\n<pre><code>.antMatchers(&quot;/login-invalid&quot;).permitAll()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3717858,"reputation":1233,"user_id":3093580,"accept_rate":30,"display_name":"Yuki  Yoshida"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659176213,"creation_date":1659173033,"answer_id":73174372,"question_id":61303023,"body_markdown":"I had same issue, and solved like below.\r\n\r\n## 0. pre-requisite\r\n- jdk 17\r\n- spring-boot 2.7\r\n\r\n## 1. create custom `InvalidSessionStrategy `\r\n\r\n    @Component\r\n    public class MyInvalidSessionStrategy implements InvalidSessionStrategy {\r\n\r\n      private final InvalidSessionStrategy simpleRedirectStrategy;\r\n\r\n      private final InvalidSessionStrategy requestedUrlRedirectStrategy;\r\n\r\n      private final HandlerMappingIntrospector handlerMappingIntrospector;\r\n\r\n      public MyInvalidSessionStrategy(HandlerMappingIntrospector handlerMappingIntrospector) {\r\n        this.simpleRedirectInvalidSessionStrategy = new SimpleRedirectInvalidSessionStrategy(&quot;/login?logoutcause=sessiontimeout&quot;);\r\n        this.requestedUrlRedirectStrategy = new RequestedUrlRedirectInvalidSessionStrategy();\r\n        this.handlerMappingIntrospector = handlerMappingIntrospector;\r\n      }\r\n\r\n      @Override\r\n      public void onInvalidSessionDetected(HttpServletRequest request, HttpServletResponse response)\r\n          throws IOException {\r\n\r\n        var matcher = new MvcRequestMatcher(handlerMappingIntrospector, &quot;/register/**&quot;);\r\n\r\n        if (matcher.matches(request))) {      \r\n          requestedUrlRedirectStrategy.onInvalidSessionDetected(request, response);\r\n        } else {\r\n          simpleRedirectStrategy.onInvalidSessionDetected(request, response);\r\n        }\r\n      }\r\n    }\r\n\r\n## 2. configure `spring-securiry` and register custom `InvalidSessionStrategy`\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig {\r\n\r\n      @Bean\r\n      SecurityFilterChain filterChain(\r\n          HttpSecurity http,\r\n          MyInvalidSessionStrategy invalidSessionStrategy)\r\n          throws Exception {\r\n\r\n        return http\r\n          .login(...)\r\n          .logout(...)\r\n          .sessionManagement(\r\n            configurer -&gt; configurer\r\n              .invalidSessionStrategy(invalidSessionStrategy))\r\n          .build();\r\n      }\r\n    }\r\n\r\n","title":"Spring Security - Public pages redirected to login with invalid session id","body":"<p>I had same issue, and solved like below.</p>\n<h2>0. pre-requisite</h2>\n<ul>\n<li>jdk 17</li>\n<li>spring-boot 2.7</li>\n</ul>\n<h2>1. create custom <code>InvalidSessionStrategy </code></h2>\n<pre><code>@Component\npublic class MyInvalidSessionStrategy implements InvalidSessionStrategy {\n\n  private final InvalidSessionStrategy simpleRedirectStrategy;\n\n  private final InvalidSessionStrategy requestedUrlRedirectStrategy;\n\n  private final HandlerMappingIntrospector handlerMappingIntrospector;\n\n  public MyInvalidSessionStrategy(HandlerMappingIntrospector handlerMappingIntrospector) {\n    this.simpleRedirectInvalidSessionStrategy = new SimpleRedirectInvalidSessionStrategy(&quot;/login?logoutcause=sessiontimeout&quot;);\n    this.requestedUrlRedirectStrategy = new RequestedUrlRedirectInvalidSessionStrategy();\n    this.handlerMappingIntrospector = handlerMappingIntrospector;\n  }\n\n  @Override\n  public void onInvalidSessionDetected(HttpServletRequest request, HttpServletResponse response)\n      throws IOException {\n\n    var matcher = new MvcRequestMatcher(handlerMappingIntrospector, &quot;/register/**&quot;);\n\n    if (matcher.matches(request))) {      \n      requestedUrlRedirectStrategy.onInvalidSessionDetected(request, response);\n    } else {\n      simpleRedirectStrategy.onInvalidSessionDetected(request, response);\n    }\n  }\n}\n</code></pre>\n<h2>2. configure <code>spring-securiry</code> and register custom <code>InvalidSessionStrategy</code></h2>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n  @Bean\n  SecurityFilterChain filterChain(\n      HttpSecurity http,\n      MyInvalidSessionStrategy invalidSessionStrategy)\n      throws Exception {\n\n    return http\n      .login(...)\n      .logout(...)\n      .sessionManagement(\n        configurer -&gt; configurer\n          .invalidSessionStrategy(invalidSessionStrategy))\n      .build();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":4136335,"reputation":740,"user_id":3453279,"display_name":"Sunchezz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1834,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1659176213,"creation_date":1587293044,"question_id":61303023,"body_markdown":"I came across an Issue where public urls won&#39;t work in Spring security, when you already have an SessionID which is not valid anymore.\r\n\r\nExample:  \r\nI have the user-register page and gave it a permitAll access like so:\r\n```\r\nhttp.authorizeRequests().antMatchers(&quot;/register**&quot;).permitAll();\r\nhttp.authorizeRequests().anyRequest().authenticated();\r\nhttp.formLogin().loginPage(&quot;/login&quot;).permitAll();\r\n```\r\n\r\nFor my Session settings i have:  \r\n```java\r\nhttp.sessionManagement().invalidSessionUrl(&quot;/login?logoutcause=sessiontimeout&quot;);\r\nhttp.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED);\r\nhttp.sessionManagement().sessionAuthenticationErrorUrl(&quot;/login&quot;);\r\nhttp.sessionManagement().maximumSessions(1).maxSessionsPreventsLogin(true);\r\nhttp.sessionManagement().sessionFixation().newSession();\r\n```\r\n---\r\nIf i have a sessionID from a previous session, which is maybe an old and invalid one, and i hit the Route &quot;/register&quot;, spring complains about the invalid session ID and redirects me to &quot;/login&quot;.    \r\nJust to mention it: Everything else, like login, ressource management, protected urls and logout is working as expected with the configuration.\r\n\r\n**Reproducing this:** Use Redis-Session management in Spring. Got to login page, flush redis db with console. Access the register page directly in browser -&gt; redirected to login because of invalid session id.\r\n```\r\no.s.s.w.s.SessionManagementFilter        : Requested session ID 8ad2e166-bc21-4646-8390-ad8d1043baec is invalid.\r\nw.s.SimpleRedirectInvalidSessionStrategy : Starting new session (if required) and redirecting to &#39;/login?logoutcause=sessiontimeout&#39;\r\no.s.s.w.DefaultRedirectStrategy          : Redirecting to &#39;/login?logoutcause=sessiontimeout&#39;\r\n```\r\nWhy does Spring even check the session id for a route that have &quot;public&quot; access?\r\n\r\nThe next Step:\r\nif i fully disable any security checks on the route itself, sadly the required ressources like js and css assets trigger the same behavior and either i get redirected to login, or the assets simply do not get delivered (both no option :D )\r\n```\r\n@Override\r\npublic void configure(WebSecurity web) throws Exception {\r\n  web.ignoring().antMatchers(&quot;/register/**&quot;);\r\n  super.configure(web);\r\n}\r\n```\r\n---\r\n### My Solution and Workaround\r\nI disabled the following config which solved all my problems\r\n```\r\n// DISABLED\r\n// http.sessionManagement().invalidSessionUrl(&quot;/login?logoutcause=sessiontimeout&quot;); \r\n```\r\n\r\n### My Question\r\nThis can not be the best way to do it, right?\r\nWhat is the better and more secure way to do it.\r\nPlease help me to understand why this is done this way by spring, or what i configured the wrong way.","title":"Spring Security - Public pages redirected to login with invalid session id","body":"<p>I came across an Issue where public urls won't work in Spring security, when you already have an SessionID which is not valid anymore.</p>\n\n<p>Example:<br>\nI have the user-register page and gave it a permitAll access like so:</p>\n\n<pre><code>http.authorizeRequests().antMatchers(\"/register**\").permitAll();\nhttp.authorizeRequests().anyRequest().authenticated();\nhttp.formLogin().loginPage(\"/login\").permitAll();\n</code></pre>\n\n<p>For my Session settings i have:  </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>http.sessionManagement().invalidSessionUrl(\"/login?logoutcause=sessiontimeout\");\nhttp.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED);\nhttp.sessionManagement().sessionAuthenticationErrorUrl(\"/login\");\nhttp.sessionManagement().maximumSessions(1).maxSessionsPreventsLogin(true);\nhttp.sessionManagement().sessionFixation().newSession();\n</code></pre>\n\n<hr>\n\n<p>If i have a sessionID from a previous session, which is maybe an old and invalid one, and i hit the Route \"/register\", spring complains about the invalid session ID and redirects me to \"/login\".<br>\nJust to mention it: Everything else, like login, ressource management, protected urls and logout is working as expected with the configuration.</p>\n\n<p><strong>Reproducing this:</strong> Use Redis-Session management in Spring. Got to login page, flush redis db with console. Access the register page directly in browser -> redirected to login because of invalid session id.</p>\n\n<pre><code>o.s.s.w.s.SessionManagementFilter        : Requested session ID 8ad2e166-bc21-4646-8390-ad8d1043baec is invalid.\nw.s.SimpleRedirectInvalidSessionStrategy : Starting new session (if required) and redirecting to '/login?logoutcause=sessiontimeout'\no.s.s.w.DefaultRedirectStrategy          : Redirecting to '/login?logoutcause=sessiontimeout'\n</code></pre>\n\n<p>Why does Spring even check the session id for a route that have \"public\" access?</p>\n\n<p>The next Step:\nif i fully disable any security checks on the route itself, sadly the required ressources like js and css assets trigger the same behavior and either i get redirected to login, or the assets simply do not get delivered (both no option :D )</p>\n\n<pre><code>@Override\npublic void configure(WebSecurity web) throws Exception {\n  web.ignoring().antMatchers(\"/register/**\");\n  super.configure(web);\n}\n</code></pre>\n\n<hr>\n\n<h3>My Solution and Workaround</h3>\n\n<p>I disabled the following config which solved all my problems</p>\n\n<pre><code>// DISABLED\n// http.sessionManagement().invalidSessionUrl(\"/login?logoutcause=sessiontimeout\"); \n</code></pre>\n\n<h3>My Question</h3>\n\n<p>This can not be the best way to do it, right?\nWhat is the better and more secure way to do it.\nPlease help me to understand why this is done this way by spring, or what i configured the wrong way.</p>\n"},{"tags":["java","linux","performance","tomcat","memory"],"comments":[{"owner":{"account_id":39617,"reputation":6179,"user_id":114340,"display_name":"AngerClown"},"score":1,"creation_date":1371690735,"post_id":17203111,"comment_id":24919242,"body_markdown":"Better question is why is Tomcat using so much memory? You can still get a heap dump by sending the process SIGQUIT (kill -3) or with `jmap`. Eclipse MAT is probably the easiest way to analyze the dump if most of the memory is all coming from one place.","body":"Better question is why is Tomcat using so much memory? You can still get a heap dump by sending the process SIGQUIT (kill -3) or with <code>jmap</code>. Eclipse MAT is probably the easiest way to analyze the dump if most of the memory is all coming from one place."},{"owner":{"account_id":1957253,"reputation":193,"user_id":1759973,"display_name":"baggiowen"},"score":0,"creation_date":1371765523,"post_id":17203111,"comment_id":24954583,"body_markdown":"thank you! that is a better question. I&#39;ll definitely take a look at heap dump. But looks like there&#39;s also a lot off-heap memory usage going on. Is there any way that I can monitor them?","body":"thank you! that is a better question. I&#39;ll definitely take a look at heap dump. But looks like there&#39;s also a lot off-heap memory usage going on. Is there any way that I can monitor them?"},{"owner":{"account_id":39617,"reputation":6179,"user_id":114340,"display_name":"AngerClown"},"score":0,"creation_date":1371776123,"post_id":17203111,"comment_id":24957544,"body_markdown":"Not sure if it will help, but [VMMap](http://technet.microsoft.com/en-us/sysinternals/dd535533.aspx) can show you native memory usage of the JVM. You may first want to check open connections with `netstat` - the most likely cause of a leak with native mem usage is web container threads.","body":"Not sure if it will help, but <a href=\"http://technet.microsoft.com/en-us/sysinternals/dd535533.aspx\" rel=\"nofollow noreferrer\">VMMap</a> can show you native memory usage of the JVM. You may first want to check open connections with <code>netstat</code> - the most likely cause of a leak with native mem usage is web container threads."}],"answers":[{"tags":[],"owner":{"account_id":2804991,"reputation":3469,"user_id":2412419,"display_name":"faffaffaff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1371685578,"creation_date":1371685578,"answer_id":17203156,"question_id":17203111,"body_markdown":"You probably have other processes on the same computer that also use memory. It looks like your java process reaches around 5.3GB before the machine is desperately out of RAM and swap. (Other processes are then probably using 12GB-5.3GB = 6.7GB) So your linux kernel sacrifices your java process to keep other processes running. The java memory limit is never reached so you&#39;re not getting an OutOfMemoryException. \r\n\r\nConsider all the processes you need running on the entire machine, and adjust your Xmx setting accordingly (enough to leave room for all the other processes). Perhaps 5gb?\r\n\r\nIn any case, counting of OutOfMemoryExceptions being delivered is a pretty bad code smell. If I recall correctly, getting even a single OutOfMemoryException can leave the JVM in an &quot;all-bets-are-off&quot; state and should probably be restarted to not become unstable.","title":"Tomcat process killed by Linux kernel after running out of swap space; don&#39;t get any JVM OutOfMemory error","body":"<p>You probably have other processes on the same computer that also use memory. It looks like your java process reaches around 5.3GB before the machine is desperately out of RAM and swap. (Other processes are then probably using 12GB-5.3GB = 6.7GB) So your linux kernel sacrifices your java process to keep other processes running. The java memory limit is never reached so you're not getting an OutOfMemoryException. </p>\n\n<p>Consider all the processes you need running on the entire machine, and adjust your Xmx setting accordingly (enough to leave room for all the other processes). Perhaps 5gb?</p>\n\n<p>In any case, counting of OutOfMemoryExceptions being delivered is a pretty bad code smell. If I recall correctly, getting even a single OutOfMemoryException can leave the JVM in an \"all-bets-are-off\" state and should probably be restarted to not become unstable.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1371688044,"creation_date":1371686560,"answer_id":17203323,"question_id":17203111,"body_markdown":"&gt; Why would this issue happen? When JVM runs out of memory why is there no OutOfMemoryException thrown?\r\n\r\nIt is not the JVM that has run out of memory.  It is the **Host Operating System** that has run out of memory-related resources, and is taking *drastic action*.  The OS has no way of knowing that the process (in this case the JVM) is capable of shutting down in an orderly fashion when told &quot;No&quot; in response to a request for more memory.  It HAS to hard-kill something or else there is a serious risk of the entire OS hanging.\r\n\r\nAnyway, the reason you are not seeing OOMEs is that this is not an OOME situation.  In reality, the JVM has *already* been given *too much* memory by the OS, and there is no way to take it back.  That&#39;s the problem the OS has to deal with by hard-killing processes.\r\n\r\n&gt; And why does it go straight to using swap?\r\n\r\nIt uses swap because the total virtual memory demand of the entire system won&#39;t fit in physical memory.  This is NORMAL behaviour for a UNIX / Linux operating system.\r\n\r\n&gt; Why top RES shows that java is using 5.3G memory, there&#39;s much more memory consumed\r\n\r\nThe RES numbers can be a little misleading.  What they refer to is the amount of physical memory that the process is currently using ... excluding stuff that is shared or shareable with other processes.  The VIRT number is more relevant to your problem.  It says your JVM is using 10.4g of virtual ... which is *more* than the available physical memory on your system.\r\n\r\n------------------------------\r\n\r\nAs the other answer says, it is concerning that it concerns you that you don&#39;t get an OOME.  Even if you did get one, it would be **unwise** to do anything with it.  An OOME is liable to do *collateral damage* to your application / container that is hard to detect and harder to recover from.  That&#39;s why OOME is an `Error` not an `Exception`.\r\n\r\n-----------------------------\r\n\r\nRecommendations:\r\n\r\n  - Don&#39;t try to use significantly more virtual memory than you have physical memory, especially with Java.  When a JVM is running a full garbage collection, it will touch *most* of its VM pages, *multiple times* in *random* order.  If you have over-allocated your memory significantly this is liable to cause thrashing which kills performance for the entire system.\r\n\r\n  - Do increase your system&#39;s swap space.  (But that might not help ...)\r\n\r\n  - Don&#39;t try to recover from OOMEs.","title":"Tomcat process killed by Linux kernel after running out of swap space; don&#39;t get any JVM OutOfMemory error","body":"<blockquote>\n  <p>Why would this issue happen? When JVM runs out of memory why is there no OutOfMemoryException thrown?</p>\n</blockquote>\n\n<p>It is not the JVM that has run out of memory.  It is the <strong>Host Operating System</strong> that has run out of memory-related resources, and is taking <em>drastic action</em>.  The OS has no way of knowing that the process (in this case the JVM) is capable of shutting down in an orderly fashion when told \"No\" in response to a request for more memory.  It HAS to hard-kill something or else there is a serious risk of the entire OS hanging.</p>\n\n<p>Anyway, the reason you are not seeing OOMEs is that this is not an OOME situation.  In reality, the JVM has <em>already</em> been given <em>too much</em> memory by the OS, and there is no way to take it back.  That's the problem the OS has to deal with by hard-killing processes.</p>\n\n<blockquote>\n  <p>And why does it go straight to using swap?</p>\n</blockquote>\n\n<p>It uses swap because the total virtual memory demand of the entire system won't fit in physical memory.  This is NORMAL behaviour for a UNIX / Linux operating system.</p>\n\n<blockquote>\n  <p>Why top RES shows that java is using 5.3G memory, there's much more memory consumed</p>\n</blockquote>\n\n<p>The RES numbers can be a little misleading.  What they refer to is the amount of physical memory that the process is currently using ... excluding stuff that is shared or shareable with other processes.  The VIRT number is more relevant to your problem.  It says your JVM is using 10.4g of virtual ... which is <em>more</em> than the available physical memory on your system.</p>\n\n<hr>\n\n<p>As the other answer says, it is concerning that it concerns you that you don't get an OOME.  Even if you did get one, it would be <strong>unwise</strong> to do anything with it.  An OOME is liable to do <em>collateral damage</em> to your application / container that is hard to detect and harder to recover from.  That's why OOME is an <code>Error</code> not an <code>Exception</code>.</p>\n\n<hr>\n\n<p>Recommendations:</p>\n\n<ul>\n<li><p>Don't try to use significantly more virtual memory than you have physical memory, especially with Java.  When a JVM is running a full garbage collection, it will touch <em>most</em> of its VM pages, <em>multiple times</em> in <em>random</em> order.  If you have over-allocated your memory significantly this is liable to cause thrashing which kills performance for the entire system.</p></li>\n<li><p>Do increase your system's swap space.  (But that might not help ...)</p></li>\n<li><p>Don't try to recover from OOMEs.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4434432,"reputation":354,"user_id":3610643,"accept_rate":75,"display_name":"M.Namjo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659176103,"creation_date":1659176103,"answer_id":73174702,"question_id":17203111,"body_markdown":"One night I left the system alone, the next morning it was fixed by itself! without any change. without even restarting.","title":"Tomcat process killed by Linux kernel after running out of swap space; don&#39;t get any JVM OutOfMemory error","body":"<p>One night I left the system alone, the next morning it was fixed by itself! without any change. without even restarting.</p>\n"}],"owner":{"account_id":1957253,"reputation":193,"user_id":1759973,"display_name":"baggiowen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11784,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":17203323,"answer_count":3,"score":14,"last_activity_date":1659176103,"creation_date":1371685283,"question_id":17203111,"body_markdown":"I was performing load testing against a tomcat server. The server has 10G physical memory and 2G swap space. The heap size (xms and xmx) was set to 3G before, and the server just worked fine. Since I still saw a lot free memory left and the performance was not good, I increased heap size to 7G and ran the load testing again. This time I observed physical memory was eaten up very quickly, and the system started consuming swap space. Later, tomcat crashed after running out of swap space. I included `-XX:+HeapDumpOnOutOfMemoryError` when starting tomcat, but I didn&#39;t get any heap dump. When I checked `/var/log/messages`, I saw `kernel: Out of memory: Kill process 2259 (java) score 634 or sacrifice child`.\r\n\r\nTo provide more info, here&#39;s what I saw from Linux `top` command when heap size set to 3G and 7G\r\n\r\n**xms&amp;xmx = 3G (which worked fine):**\r\n\r\n - Before starting tomcat:\r\n\r\n        Mem:  10129972k total,  1135388k used,  8994584k free,    19832k buffers\r\n        Swap:  2097144k total,        0k used,  2097144k free,    56008k cached\r\n\r\n - After starting tomcat:\r\n\r\n        Mem:  10129972k total,  3468208k used,  6661764k free,    21528k buffers\r\n        Swap:  2097144k total,        0k used,  2097144k free,   143428k cached\r\n        PID  USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND\r\n        2257 tomcat    20   0 5991m 1.9g  19m S 352.9 19.2   3:09.64 java\r\n\r\n - After starting load for 10 min:\r\n\r\n        Mem:  10129972k total,  6354756k used,  3775216k free,    21960k buffers\r\n        Swap:  2097144k total,        0k used,  2097144k free,   144016k cached\r\n        PID  USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND\r\n        2257 tomcat    20   0 6549m 3.3g  10m S 332.1 34.6  16:46.87 java\r\n\r\n\r\n**xms&amp;xmx = 7G (which caused tomcat crash):**\r\n\r\n - Before starting tomcat:\r\n\r\n        Mem:  10129972k total,  1270348k used,  8859624k free,    98504k buffers\r\n        Swap:  2097144k total,        0k used,  2097144k free,    74656k cached\r\n\r\n - After starting tomcat:\r\n\r\n        Mem:  10129972k total,  6415932k used,  3714040k free,    98816k buffers\r\n        Swap:  2097144k total,        0k used,  2097144k free,   144008k cached\r\n        PID  USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND\r\n        2310 tomcat    20   0  9.9g 3.5g  10m S  0.3 36.1   3:01.66 java\r\n\r\n - After starting load for 10 min (right before tomcat was killed):\r\n\r\n        Mem:  10129972k total,  9960256k used,   169716k free,      164k buffers\r\n        Swap:  2097144k total,  2095056k used,     2088k free,     3284k cached\r\n        PID  USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND\r\n        2310 tomcat    20   0 10.4g 5.3g  776 S  9.8 54.6  14:42.56 java\r\n\r\nJava and JVM Version:\r\n\r\n    Java(TM) SE Runtime Environment (build 1.7.0_21-b11)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 23.21-b01, mixed mode)\r\n\r\nTomcat Version:\r\n\r\n    6.0.36\r\n\r\nLinux Server:\r\n\r\n    Red Hat Enterprise Linux Server release 6.4 (Santiago)\r\n\r\n\r\nSo my questions are:\r\n\r\n 1. Why would this issue happen? When JVM runs out of memory why is there no OutOfMemoryError thrown? And why does it go straight to using swap? \r\n 2. Why `top` `RES` shows that java is using 5.3G memory, there&#39;s much more memory consumed?\r\n\r\nI have been investigating and searching for a while, still cannot find the root cause for this issue. Thanks a lot!","title":"Tomcat process killed by Linux kernel after running out of swap space; don&#39;t get any JVM OutOfMemory error","body":"<p>I was performing load testing against a tomcat server. The server has 10G physical memory and 2G swap space. The heap size (xms and xmx) was set to 3G before, and the server just worked fine. Since I still saw a lot free memory left and the performance was not good, I increased heap size to 7G and ran the load testing again. This time I observed physical memory was eaten up very quickly, and the system started consuming swap space. Later, tomcat crashed after running out of swap space. I included <code>-XX:+HeapDumpOnOutOfMemoryError</code> when starting tomcat, but I didn't get any heap dump. When I checked <code>/var/log/messages</code>, I saw <code>kernel: Out of memory: Kill process 2259 (java) score 634 or sacrifice child</code>.</p>\n\n<p>To provide more info, here's what I saw from Linux <code>top</code> command when heap size set to 3G and 7G</p>\n\n<p><strong>xms&amp;xmx = 3G (which worked fine):</strong></p>\n\n<ul>\n<li><p>Before starting tomcat:</p>\n\n<pre><code>Mem:  10129972k total,  1135388k used,  8994584k free,    19832k buffers\nSwap:  2097144k total,        0k used,  2097144k free,    56008k cached\n</code></pre></li>\n<li><p>After starting tomcat:</p>\n\n<pre><code>Mem:  10129972k total,  3468208k used,  6661764k free,    21528k buffers\nSwap:  2097144k total,        0k used,  2097144k free,   143428k cached\nPID  USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND\n2257 tomcat    20   0 5991m 1.9g  19m S 352.9 19.2   3:09.64 java\n</code></pre></li>\n<li><p>After starting load for 10 min:</p>\n\n<pre><code>Mem:  10129972k total,  6354756k used,  3775216k free,    21960k buffers\nSwap:  2097144k total,        0k used,  2097144k free,   144016k cached\nPID  USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND\n2257 tomcat    20   0 6549m 3.3g  10m S 332.1 34.6  16:46.87 java\n</code></pre></li>\n</ul>\n\n<p><strong>xms&amp;xmx = 7G (which caused tomcat crash):</strong></p>\n\n<ul>\n<li><p>Before starting tomcat:</p>\n\n<pre><code>Mem:  10129972k total,  1270348k used,  8859624k free,    98504k buffers\nSwap:  2097144k total,        0k used,  2097144k free,    74656k cached\n</code></pre></li>\n<li><p>After starting tomcat:</p>\n\n<pre><code>Mem:  10129972k total,  6415932k used,  3714040k free,    98816k buffers\nSwap:  2097144k total,        0k used,  2097144k free,   144008k cached\nPID  USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND\n2310 tomcat    20   0  9.9g 3.5g  10m S  0.3 36.1   3:01.66 java\n</code></pre></li>\n<li><p>After starting load for 10 min (right before tomcat was killed):</p>\n\n<pre><code>Mem:  10129972k total,  9960256k used,   169716k free,      164k buffers\nSwap:  2097144k total,  2095056k used,     2088k free,     3284k cached\nPID  USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND\n2310 tomcat    20   0 10.4g 5.3g  776 S  9.8 54.6  14:42.56 java\n</code></pre></li>\n</ul>\n\n<p>Java and JVM Version:</p>\n\n<pre><code>Java(TM) SE Runtime Environment (build 1.7.0_21-b11)\nJava HotSpot(TM) 64-Bit Server VM (build 23.21-b01, mixed mode)\n</code></pre>\n\n<p>Tomcat Version:</p>\n\n<pre><code>6.0.36\n</code></pre>\n\n<p>Linux Server:</p>\n\n<pre><code>Red Hat Enterprise Linux Server release 6.4 (Santiago)\n</code></pre>\n\n<p>So my questions are:</p>\n\n<ol>\n<li>Why would this issue happen? When JVM runs out of memory why is there no OutOfMemoryError thrown? And why does it go straight to using swap? </li>\n<li>Why <code>top</code> <code>RES</code> shows that java is using 5.3G memory, there's much more memory consumed?</li>\n</ol>\n\n<p>I have been investigating and searching for a while, still cannot find the root cause for this issue. Thanks a lot!</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1658928965,"post_id":73138840,"comment_id":129173970,"body_markdown":"If you&#39;re updating the model, it should update automatically.  If it&#39;s not you might need to fire off model.fireTableDataChanged()","body":"If you&#39;re updating the model, it should update automatically.  If it&#39;s not you might need to fire off model.fireTableDataChanged()"},{"owner":{"account_id":3297248,"reputation":666,"user_id":2774232,"accept_rate":95,"display_name":"corneliu"},"score":0,"creation_date":1658929050,"post_id":73138840,"comment_id":129174011,"body_markdown":"If Ryan&#39;s suggestion does not work, try to revalidate or repaint the table component. You can do that programmatically by calling the appropriate methods.","body":"If Ryan&#39;s suggestion does not work, try to revalidate or repaint the table component. You can do that programmatically by calling the appropriate methods."},{"owner":{"account_id":24597139,"reputation":1,"user_id":18500381,"display_name":"John"},"score":0,"creation_date":1658929219,"post_id":73138840,"comment_id":129174064,"body_markdown":"@Ryan where should I add it to","body":"@Ryan where should I add it to"},{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1658929521,"post_id":73138840,"comment_id":129174191,"body_markdown":"@John In your button function immediately after you update the cell values.  Alternatively, you could call `model.fireTableCellUpdated()` if you know the row and column.  Oh, and you should be doing all of this inside a `SwingWorker`","body":"@John In your button function immediately after you update the cell values.  Alternatively, you could call <code>model.fireTableCellUpdated()</code> if you know the row and column.  Oh, and you should be doing all of this inside a <code>SwingWorker</code>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1658931382,"post_id":73138840,"comment_id":129175111,"body_markdown":"@Ryan Actually, changes to model objects and calls to fireTableCellUpdated should *not* be done in a SwingWorker or in any thread other than the event dispatch thread.  Obviously long-running tasks should be, but the eventual changes to the model should be in the thread which reads the model, namely the event dispatch thread.","body":"@Ryan Actually, changes to model objects and calls to fireTableCellUpdated should <i>not</i> be done in a SwingWorker or in any thread other than the event dispatch thread.  Obviously long-running tasks should be, but the eventual changes to the model should be in the thread which reads the model, namely the event dispatch thread."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1658937396,"post_id":73138840,"comment_id":129177962,"body_markdown":"@Ryan _If you&#39;re updating the model, it should update automatically_ correct - but _If it&#39;s not you might need to fire off model.fireTableDataChanged() ... In your button function immediately after you update the cell values_ (merged 2 comments) is utterly wrong: the firing has to be done by the __model__, not by client code. Fix the model, if it doesn&#39;t","body":"@Ryan <i>If you&#39;re updating the model, it should update automatically</i> correct - but <i>If it&#39;s not you might need to fire off model.fireTableDataChanged() ... In your button function immediately after you update the cell values</i> (merged 2 comments) is utterly wrong: the firing has to be done by the <b>model</b>, not by client code. Fix the model, if it doesn&#39;t"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1658937465,"post_id":73138840,"comment_id":129177986,"body_markdown":"@corneliu _try to revalidate or repaint the table component_ that&#39;s utterly __wrong__: if the table doesn&#39;t update itself, then there&#39;s an error in the model - fix it instead of smearing over it","body":"@corneliu <i>try to revalidate or repaint the table component</i> that&#39;s utterly <b>wrong</b>: if the table doesn&#39;t update itself, then there&#39;s an error in the model - fix it instead of smearing over it"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1658937671,"post_id":73138840,"comment_id":129178059,"body_markdown":"why did you comment calling of the fireXX methods? That&#39;s what you __have to__ do to make your model behave correctly when subclassing AbstractTableModel ..","body":"why did you comment calling of the fireXX methods? That&#39;s what you <b>have to</b> do to make your model behave correctly when subclassing AbstractTableModel .."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1659178071,"post_id":73138840,"comment_id":129234717,"body_markdown":"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/components/table.htm&zwnj;&#8203;l</a>"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1659175989,"creation_date":1658932224,"answer_id":73139822,"question_id":73138840,"body_markdown":"The `JTable` listens for changes in the `TableModel`. Hence class `AbstractTableModel` has methods such as `fireTableCellUpdated(rowIndex, columnIndex)` (which you commented out in your code - why?). If you override method `setValueAt` then you need to call that method, otherwise the `JTable` will not update when its data is changed. I&#39;m guessing that changing the size of the `JFrame` causes a repaint of the `JTable` which causes the `JTable` to reload the data from its model (but I could be wrong).\r\n\r\nYour class `Model1Data` should extend [DefaultTableModel][1], rather than `AbstractTableModel`, since that class already contains all the functionality you require. The only method that class `Model1Data` needs to override is [getColumnClass][2] (which it already does). You also need to override at least one constructor. Since you didn&#39;t post a [minimal, reproducible example][3], I&#39;m guessing that [this constructor][4] may be appropriate. Hence the code for class `Model1Data` should be:\r\n```java\r\npublic class Model1Data extends javax.swing.table.DefaultTableModel {\r\n    Class&lt;?&gt; colClasses[] = { String.class, String.class, Integer.class, Integer.class };\r\n\r\n    public Model1Data(Object[] columnNames, int rowCount) {\r\n        super(columnNames, rowCount);\r\n    }\r\n\r\n    public Class&lt;?&gt; getColumnClass(int columnIndex) {\r\n        return colClasses[columnIndex];\r\n    }\r\n}\r\n```\r\nAnd in class `Test1` (which does not need to extend `JFrame`, by the way) you can create the [JTable][5] like so:\r\n```java\r\nJTable table = new JTable(new Model1Data(new String[]{ &quot;Name&quot;, &quot;Team&quot;, &quot;No of first Places&quot;, &quot;Total Points&quot; }, 0));\r\n```\r\nEdit\r\n----\r\nHere&#39;s my take on what you are trying to do. The below code can be copied as is, compiled and run. Just click on the *Random Race* button and the data in the `JTable` will update.\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.EventQueue;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.KeyEvent;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTable;\r\nimport javax.swing.table.DefaultTableModel;\r\nimport javax.swing.table.TableModel;\r\n\r\npublic class Test1 {\r\n    private JTable  table;\r\n\r\n    private void buildAndDisplayGui() {\r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(createTable(), BorderLayout.CENTER);\r\n        frame.add(createButtonsPanel(), BorderLayout.PAGE_END);\r\n        frame.pack();\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private JButton createButton(String text, int mnemonic, ActionListener listener) {\r\n        JButton button = new JButton(text);\r\n        button.setMnemonic(mnemonic);\r\n        button.addActionListener(listener);\r\n        return button;\r\n    }\r\n\r\n    private JPanel createButtonsPanel() {\r\n        JPanel buttonsPanel = new JPanel();\r\n        buttonsPanel.add(createButton(&quot;Random Race&quot;, KeyEvent.VK_R, this::randomRace));\r\n        return buttonsPanel;\r\n    }\r\n\r\n    private JScrollPane createTable() {\r\n        table = new JTable(new Model1Data());\r\n        table.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\r\n        JScrollPane scrollPane = new JScrollPane(table);\r\n        return scrollPane;\r\n    }\r\n\r\n    /**\r\n     * Simulates a race and randomly determines placings of the drivers and assigns appropriate\r\n     * points scores.\r\n     * \r\n     * @param event - encapsulates button press event\r\n     */\r\n    private void randomRace(ActionEvent event) {\r\n        Formula1ChampionsManager.simulate();\r\n        TableModel tm = table.getModel();\r\n        if (tm instanceof Model1Data) {\r\n            Model1Data model = (Model1Data) tm;\r\n            model.setRowCount(0);\r\n            model.init();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; {\r\n            new Test1().buildAndDisplayGui();\r\n        });\r\n    }\r\n}\r\n\r\nclass Model1Data extends DefaultTableModel {\r\n    private static final String[] COLUMN_NAMES = {&quot;Name&quot;, &quot;Team&quot;, &quot;No of first Places&quot;, &quot;Total Points&quot;};\r\n\r\n    public Model1Data() {\r\n        super(COLUMN_NAMES, 0);\r\n        init();\r\n    }\r\n\r\n    public void addDriver(F1Driver driver) {\r\n        addRow(new Object[]{driver.getName(),\r\n                            driver.getTeam(),\r\n                            driver.getFirstPlace(),\r\n                            driver.getTotalPoints()});\r\n    }\r\n\r\n    public void init() {\r\n        Formula1ChampionsManager.getDrivers()\r\n                                .stream()\r\n                                .forEach(this::addDriver);\r\n    }\r\n}\r\n\r\nclass Formula1ChampionsManager {\r\n    private static List&lt;F1Driver&gt;  drivers;\r\n\r\n    static {\r\n        drivers = List.of(new F1Driver(&quot;Lewis Hamilton&quot;, F1Teams.MERCEDES),\r\n                          new F1Driver(&quot;Max Verstappen&quot;,F1Teams.RED_BULL),\r\n                          new F1Driver(&quot;Charles Leclerc&quot;,F1Teams.FERRARI),\r\n                          new F1Driver(&quot;Lando Norris&quot;,F1Teams.MCLAREN),\r\n                          new F1Driver(&quot;Fernando Alonso&quot;,F1Teams.ALPINE),\r\n                          new F1Driver(&quot;Pierre Gasly&quot;,F1Teams.ALPHATAURI),\r\n                          new F1Driver(&quot;Sebastian Vettel&quot;,F1Teams.ASTON_MARTIN),\r\n                          new F1Driver(&quot;Nicholas Latifi&quot;,F1Teams.WILLIAMS),\r\n                          new F1Driver(&quot;Valtteri Bottas&quot;,F1Teams.ALFA_ROMEO),\r\n                          new F1Driver(&quot;Mick Schumacher&quot;,F1Teams.HAAS));\r\n    }\r\n\r\n    public static List&lt;F1Driver&gt; getDrivers() {\r\n        return drivers;\r\n    }\r\n\r\n    public static void simulate() {\r\n        List&lt;F1Driver&gt; result = new ArrayList&lt;&gt;(drivers);\r\n        Collections.shuffle(result);\r\n        F1Driver first = result.get(0);\r\n        first.update(F1Driver.FIRST);\r\n        F1Driver second = result.get(1);\r\n        second.update(F1Driver.SECOND);\r\n        F1Driver third = result.get(2);\r\n        third.update(F1Driver.THIRD);\r\n        F1Driver fourth = result.get(3);\r\n        fourth.update(F1Driver.FOURTH);\r\n        F1Driver fifth = result.get(4);\r\n        fifth.update(F1Driver.FIFTH);\r\n        F1Driver sixth = result.get(5);\r\n        sixth.update(F1Driver.SIXTH);\r\n        F1Driver seventh = result.get(6);\r\n        seventh.update(F1Driver.SEVENTH);\r\n        F1Driver eighth = result.get(7);\r\n        eighth.update(F1Driver.EIGHTH);\r\n        F1Driver ninth = result.get(8);\r\n        ninth.update(F1Driver.NINTH);\r\n        F1Driver tenth = result.get(9);\r\n        tenth.update(F1Driver.TENTH);\r\n    }\r\n}\r\n\r\nenum F1Teams {\r\n    MERCEDES(&quot;Mercedes&quot;),\r\n    RED_BULL(&quot;Red Bull&quot;),\r\n    FERRARI(&quot;Ferrari&quot;),\r\n    MCLAREN(&quot;McLaren&quot;),\r\n    ALPINE(&quot;Alpine&quot;),\r\n    ALPHATAURI(&quot;AlphaTauri&quot;),\r\n    ASTON_MARTIN(&quot;Aston Martin&quot;),\r\n    WILLIAMS(&quot;Williams&quot;),\r\n    ALFA_ROMEO(&quot;Alfa Romeo&quot;),\r\n    HAAS(&quot;Haas&quot;);\r\n\r\n    private String  name;\r\n\r\n    private F1Teams(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @Override // java.lang.Enum\r\n    public String toString() {\r\n        return name;\r\n    }\r\n}\r\n\r\nclass F1Driver {\r\n    public static final int  FIRST = 25;\r\n    public static final int  SECOND = 18;\r\n    public static final int  THIRD = 15;\r\n    public static final int  FOURTH = 12;\r\n    public static final int  FIFTH = 10;\r\n    public static final int  SIXTH = 8;\r\n    public static final int  SEVENTH = 6;\r\n    public static final int  EIGHTH = 4;\r\n    public static final int  NINTH = 2;\r\n    public static final int  TENTH = 1;\r\n\r\n    private String  name;\r\n    private F1Teams  team;\r\n    private int  firstPlace;\r\n    private int  totalPoints;\r\n\r\n    public F1Driver(String name, F1Teams team) {\r\n        this(name, team, 0, 0);\r\n    }\r\n\r\n    public F1Driver(String name, F1Teams team, int firstPlace, int totalPoints) {\r\n        Objects.requireNonNull(name, &quot;Missing name.&quot;);\r\n        this.name = name;\r\n        this.team = team;\r\n        this.firstPlace = firstPlace;\r\n        this.totalPoints = totalPoints;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public F1Teams getTeam() {\r\n        return team;\r\n    }\r\n\r\n    public void setTeam(F1Teams team) {\r\n        this.team = team;\r\n    }\r\n\r\n    public int getFirstPlace() {\r\n        return firstPlace;\r\n    }\r\n\r\n    public void setFirstPlace(int firstPlace) {\r\n        this.firstPlace = firstPlace;\r\n    }\r\n\r\n    public int getTotalPoints() {\r\n        return totalPoints;\r\n    }\r\n\r\n    public void setTotalPoints(int totalPoints) {\r\n        this.totalPoints = totalPoints;\r\n    }\r\n\r\n    @Override // java.lang.Object\r\n    public boolean equals(Object obj) {\r\n        boolean equal = this == obj;\r\n        if (!equal) {\r\n            if (obj instanceof F1Driver) {\r\n                F1Driver other = (F1Driver) obj;\r\n                equal = name != null             &amp;&amp;\r\n                        name.equals(other.name)  &amp;&amp;\r\n                        team == other.team;\r\n            }\r\n        }\r\n        return equal;\r\n    }\r\n\r\n    @Override // java.lang.Object\r\n    public int hashCode() {\r\n        return (String.valueOf(name) + String.valueOf(team)).hashCode();\r\n    }\r\n\r\n    @Override // java.lang.Object\r\n    public String toString() {\r\n        return String.format(&quot;%s [%s] %d [%d]&quot;, name, team, totalPoints, firstPlace);\r\n    }\r\n\r\n    public void update(int points) {\r\n        totalPoints += points;\r\n        if (points == FIRST) {\r\n            firstPlace++;\r\n        }\r\n    }\r\n}\r\n```\r\nHere&#39;s how it looks when I run the above code.\r\n\r\n[![animated GIF of running app][6]][6]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/table/DefaultTableModel.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/table/TableModel.html#getColumnClass(int)\r\n  [3]: https://stackoverflow.com/help/minimal-reproducible-example\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/table/DefaultTableModel.html#%3Cinit%3E(java.lang.Object%5B%5D,int)\r\n  [5]: https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\r\n  [6]: https://i.stack.imgur.com/WotZr.gif","title":"How to update Jtable immediately or automtically when I press a button","body":"<p>The <code>JTable</code> listens for changes in the <code>TableModel</code>. Hence class <code>AbstractTableModel</code> has methods such as <code>fireTableCellUpdated(rowIndex, columnIndex)</code> (which you commented out in your code - why?). If you override method <code>setValueAt</code> then you need to call that method, otherwise the <code>JTable</code> will not update when its data is changed. I'm guessing that changing the size of the <code>JFrame</code> causes a repaint of the <code>JTable</code> which causes the <code>JTable</code> to reload the data from its model (but I could be wrong).</p>\n<p>Your class <code>Model1Data</code> should extend <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/table/DefaultTableModel.html\" rel=\"nofollow noreferrer\">DefaultTableModel</a>, rather than <code>AbstractTableModel</code>, since that class already contains all the functionality you require. The only method that class <code>Model1Data</code> needs to override is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/table/TableModel.html#getColumnClass(int)\" rel=\"nofollow noreferrer\">getColumnClass</a> (which it already does). You also need to override at least one constructor. Since you didn't post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a>, I'm guessing that <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/table/DefaultTableModel.html#%3Cinit%3E(java.lang.Object%5B%5D,int)\" rel=\"nofollow noreferrer\">this constructor</a> may be appropriate. Hence the code for class <code>Model1Data</code> should be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Model1Data extends javax.swing.table.DefaultTableModel {\n    Class&lt;?&gt; colClasses[] = { String.class, String.class, Integer.class, Integer.class };\n\n    public Model1Data(Object[] columnNames, int rowCount) {\n        super(columnNames, rowCount);\n    }\n\n    public Class&lt;?&gt; getColumnClass(int columnIndex) {\n        return colClasses[columnIndex];\n    }\n}\n</code></pre>\n<p>And in class <code>Test1</code> (which does not need to extend <code>JFrame</code>, by the way) you can create the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">JTable</a> like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JTable table = new JTable(new Model1Data(new String[]{ &quot;Name&quot;, &quot;Team&quot;, &quot;No of first Places&quot;, &quot;Total Points&quot; }, 0));\n</code></pre>\n<h2>Edit</h2>\n<p>Here's my take on what you are trying to do. The below code can be copied as is, compiled and run. Just click on the <em>Random Race</em> button and the data in the <code>JTable</code> will update.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Objects;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.table.DefaultTableModel;\nimport javax.swing.table.TableModel;\n\npublic class Test1 {\n    private JTable  table;\n\n    private void buildAndDisplayGui() {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(createTable(), BorderLayout.CENTER);\n        frame.add(createButtonsPanel(), BorderLayout.PAGE_END);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JButton createButton(String text, int mnemonic, ActionListener listener) {\n        JButton button = new JButton(text);\n        button.setMnemonic(mnemonic);\n        button.addActionListener(listener);\n        return button;\n    }\n\n    private JPanel createButtonsPanel() {\n        JPanel buttonsPanel = new JPanel();\n        buttonsPanel.add(createButton(&quot;Random Race&quot;, KeyEvent.VK_R, this::randomRace));\n        return buttonsPanel;\n    }\n\n    private JScrollPane createTable() {\n        table = new JTable(new Model1Data());\n        table.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\n        JScrollPane scrollPane = new JScrollPane(table);\n        return scrollPane;\n    }\n\n    /**\n     * Simulates a race and randomly determines placings of the drivers and assigns appropriate\n     * points scores.\n     * \n     * @param event - encapsulates button press event\n     */\n    private void randomRace(ActionEvent event) {\n        Formula1ChampionsManager.simulate();\n        TableModel tm = table.getModel();\n        if (tm instanceof Model1Data) {\n            Model1Data model = (Model1Data) tm;\n            model.setRowCount(0);\n            model.init();\n        }\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; {\n            new Test1().buildAndDisplayGui();\n        });\n    }\n}\n\nclass Model1Data extends DefaultTableModel {\n    private static final String[] COLUMN_NAMES = {&quot;Name&quot;, &quot;Team&quot;, &quot;No of first Places&quot;, &quot;Total Points&quot;};\n\n    public Model1Data() {\n        super(COLUMN_NAMES, 0);\n        init();\n    }\n\n    public void addDriver(F1Driver driver) {\n        addRow(new Object[]{driver.getName(),\n                            driver.getTeam(),\n                            driver.getFirstPlace(),\n                            driver.getTotalPoints()});\n    }\n\n    public void init() {\n        Formula1ChampionsManager.getDrivers()\n                                .stream()\n                                .forEach(this::addDriver);\n    }\n}\n\nclass Formula1ChampionsManager {\n    private static List&lt;F1Driver&gt;  drivers;\n\n    static {\n        drivers = List.of(new F1Driver(&quot;Lewis Hamilton&quot;, F1Teams.MERCEDES),\n                          new F1Driver(&quot;Max Verstappen&quot;,F1Teams.RED_BULL),\n                          new F1Driver(&quot;Charles Leclerc&quot;,F1Teams.FERRARI),\n                          new F1Driver(&quot;Lando Norris&quot;,F1Teams.MCLAREN),\n                          new F1Driver(&quot;Fernando Alonso&quot;,F1Teams.ALPINE),\n                          new F1Driver(&quot;Pierre Gasly&quot;,F1Teams.ALPHATAURI),\n                          new F1Driver(&quot;Sebastian Vettel&quot;,F1Teams.ASTON_MARTIN),\n                          new F1Driver(&quot;Nicholas Latifi&quot;,F1Teams.WILLIAMS),\n                          new F1Driver(&quot;Valtteri Bottas&quot;,F1Teams.ALFA_ROMEO),\n                          new F1Driver(&quot;Mick Schumacher&quot;,F1Teams.HAAS));\n    }\n\n    public static List&lt;F1Driver&gt; getDrivers() {\n        return drivers;\n    }\n\n    public static void simulate() {\n        List&lt;F1Driver&gt; result = new ArrayList&lt;&gt;(drivers);\n        Collections.shuffle(result);\n        F1Driver first = result.get(0);\n        first.update(F1Driver.FIRST);\n        F1Driver second = result.get(1);\n        second.update(F1Driver.SECOND);\n        F1Driver third = result.get(2);\n        third.update(F1Driver.THIRD);\n        F1Driver fourth = result.get(3);\n        fourth.update(F1Driver.FOURTH);\n        F1Driver fifth = result.get(4);\n        fifth.update(F1Driver.FIFTH);\n        F1Driver sixth = result.get(5);\n        sixth.update(F1Driver.SIXTH);\n        F1Driver seventh = result.get(6);\n        seventh.update(F1Driver.SEVENTH);\n        F1Driver eighth = result.get(7);\n        eighth.update(F1Driver.EIGHTH);\n        F1Driver ninth = result.get(8);\n        ninth.update(F1Driver.NINTH);\n        F1Driver tenth = result.get(9);\n        tenth.update(F1Driver.TENTH);\n    }\n}\n\nenum F1Teams {\n    MERCEDES(&quot;Mercedes&quot;),\n    RED_BULL(&quot;Red Bull&quot;),\n    FERRARI(&quot;Ferrari&quot;),\n    MCLAREN(&quot;McLaren&quot;),\n    ALPINE(&quot;Alpine&quot;),\n    ALPHATAURI(&quot;AlphaTauri&quot;),\n    ASTON_MARTIN(&quot;Aston Martin&quot;),\n    WILLIAMS(&quot;Williams&quot;),\n    ALFA_ROMEO(&quot;Alfa Romeo&quot;),\n    HAAS(&quot;Haas&quot;);\n\n    private String  name;\n\n    private F1Teams(String name) {\n        this.name = name;\n    }\n\n    @Override // java.lang.Enum\n    public String toString() {\n        return name;\n    }\n}\n\nclass F1Driver {\n    public static final int  FIRST = 25;\n    public static final int  SECOND = 18;\n    public static final int  THIRD = 15;\n    public static final int  FOURTH = 12;\n    public static final int  FIFTH = 10;\n    public static final int  SIXTH = 8;\n    public static final int  SEVENTH = 6;\n    public static final int  EIGHTH = 4;\n    public static final int  NINTH = 2;\n    public static final int  TENTH = 1;\n\n    private String  name;\n    private F1Teams  team;\n    private int  firstPlace;\n    private int  totalPoints;\n\n    public F1Driver(String name, F1Teams team) {\n        this(name, team, 0, 0);\n    }\n\n    public F1Driver(String name, F1Teams team, int firstPlace, int totalPoints) {\n        Objects.requireNonNull(name, &quot;Missing name.&quot;);\n        this.name = name;\n        this.team = team;\n        this.firstPlace = firstPlace;\n        this.totalPoints = totalPoints;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public F1Teams getTeam() {\n        return team;\n    }\n\n    public void setTeam(F1Teams team) {\n        this.team = team;\n    }\n\n    public int getFirstPlace() {\n        return firstPlace;\n    }\n\n    public void setFirstPlace(int firstPlace) {\n        this.firstPlace = firstPlace;\n    }\n\n    public int getTotalPoints() {\n        return totalPoints;\n    }\n\n    public void setTotalPoints(int totalPoints) {\n        this.totalPoints = totalPoints;\n    }\n\n    @Override // java.lang.Object\n    public boolean equals(Object obj) {\n        boolean equal = this == obj;\n        if (!equal) {\n            if (obj instanceof F1Driver) {\n                F1Driver other = (F1Driver) obj;\n                equal = name != null             &amp;&amp;\n                        name.equals(other.name)  &amp;&amp;\n                        team == other.team;\n            }\n        }\n        return equal;\n    }\n\n    @Override // java.lang.Object\n    public int hashCode() {\n        return (String.valueOf(name) + String.valueOf(team)).hashCode();\n    }\n\n    @Override // java.lang.Object\n    public String toString() {\n        return String.format(&quot;%s [%s] %d [%d]&quot;, name, team, totalPoints, firstPlace);\n    }\n\n    public void update(int points) {\n        totalPoints += points;\n        if (points == FIRST) {\n            firstPlace++;\n        }\n    }\n}\n</code></pre>\n<p>Here's how it looks when I run the above code.</p>\n<p><a href=\"https://i.stack.imgur.com/WotZr.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WotZr.gif\" alt=\"animated GIF of running app\" /></a></p>\n"}],"owner":{"account_id":24597139,"reputation":1,"user_id":18500381,"display_name":"John"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1659175989,"creation_date":1658928530,"question_id":73138840,"body_markdown":"I have created a `JTable` with some information about formula 1 racing car drivers. The below code is for the `JTable`\r\n\r\n    import java.awt.LayoutManager;\r\n\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.table.AbstractTableModel;\r\n\r\n    import java.awt.event.*;\r\n\r\n\r\n    public class Test1 extends JFrame implements ActionListener  {\r\n    JButton button;\r\n    Test1() {\r\n        //setBounds(100, 100, 500, 400);\r\n        \r\n        JFrame frame = new JFrame();\r\n        button = new JButton();\r\n        \r\n        //button.setBounds(50, 50, 20, 10);s\r\n        button.setText(&quot;Random Race&quot;);\r\n        button.addActionListener(this);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        JTable table = new JTable(new Model1Data()); \r\n       \r\n        frame.setBounds(100, 100, 500, 400);\r\n        JPanel panel = new JPanel();\r\n        frame.add(panel);\r\n        panel.add(new JScrollPane(table));\r\n        panel.add(button);\r\n        \r\n        //add(new J\r\n        frame.setVisible(true);\r\n        //this.add(button);\r\n        pack();\r\n    }\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        Formula1ChampionsManager d= new Formula1ChampionsManager();\r\n        d.button();\r\n    }\r\n    }\r\n\r\nThis is the code for the `Model1Data`. This is the code for the table to update its cells. \r\n\r\n    import javax.swing.table.AbstractTableModel;\r\n\r\n    public class Model1Data extends AbstractTableModel implements ChampionsManager {\r\n\r\n    String colNames[] = { &quot;Name&quot;, &quot;Team&quot;, &quot;No of first Places&quot;, &quot;Total Points&quot; };\r\n    Class&lt;?&gt; colClasses[] = { String.class, String.class, Integer.class, Integer.class };\r\n\r\n    public int getRowCount() {\r\n        return myDrivers.size();\r\n    }\r\n\r\n    public int getColumnCount() {\r\n        return colNames.length;\r\n    }\r\n\r\n    public Object getValueAt(int rowIndex, int columnIndex) {\r\n        if (columnIndex == 0) {\r\n            return myDrivers.get(rowIndex).getName();\r\n        }\r\n        if (columnIndex == 1) {\r\n            return myDrivers.get(rowIndex).getTeam();\r\n        }\r\n        if (columnIndex == 2) {\r\n            return myDrivers.get(rowIndex).getfirstPlace();\r\n        }\r\n        if (columnIndex == 3) {\r\n            return myDrivers.get(rowIndex).totalPoints();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public String getColumnName(int columnIndex) {\r\n        return colNames[columnIndex];\r\n    }\r\n\r\n    public Class&lt;?&gt; getColumnClass(int columnIndex) {\r\n        return colClasses[columnIndex];\r\n    }\r\n\r\n    public boolean isCellEditable(int rowIndex, int columnIndex) {\r\n        return false;\r\n    }\r\n\r\n    public void setValueAt(Object aValue, int rowIndex, int columnIndex) {\r\n        if (columnIndex == 0) {\r\n            myDrivers.get(rowIndex).setName((String) aValue);\r\n        }\r\n        if (columnIndex == 1) {\r\n            myDrivers.get(rowIndex).setTeam((String) aValue);\r\n        }\r\n        if (columnIndex == 2) {\r\n            myDrivers.get(rowIndex).setfirstPlace((Integer) aValue);\r\n        }\r\n        if (columnIndex == 3) {\r\n            myDrivers.get(rowIndex).settotalPoints((Integer) aValue);\r\n        }\r\n        \r\n        //fireTableCellUpdated(rowIndex, columnIndex);\r\n        \r\n    }\r\n    }\r\n\r\nThis what the table GUI looks like [Table GUI][1]. When I click the button the values for *No of first places* and *Total Points* are changed randomly. But the table doesn&#39;t get updated with the values. If I pull on the side of the frame it gets updated. How do I get it to update when I click the button?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LmhJz.png","title":"How to update Jtable immediately or automtically when I press a button","body":"<p>I have created a <code>JTable</code> with some information about formula 1 racing car drivers. The below code is for the <code>JTable</code></p>\n<pre><code>import java.awt.LayoutManager;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.table.AbstractTableModel;\n\nimport java.awt.event.*;\n\n\npublic class Test1 extends JFrame implements ActionListener  {\nJButton button;\nTest1() {\n    //setBounds(100, 100, 500, 400);\n    \n    JFrame frame = new JFrame();\n    button = new JButton();\n    \n    //button.setBounds(50, 50, 20, 10);s\n    button.setText(&quot;Random Race&quot;);\n    button.addActionListener(this);\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    JTable table = new JTable(new Model1Data()); \n   \n    frame.setBounds(100, 100, 500, 400);\n    JPanel panel = new JPanel();\n    frame.add(panel);\n    panel.add(new JScrollPane(table));\n    panel.add(button);\n    \n    //add(new J\n    frame.setVisible(true);\n    //this.add(button);\n    pack();\n}\n@Override\npublic void actionPerformed(ActionEvent e) {\n    Formula1ChampionsManager d= new Formula1ChampionsManager();\n    d.button();\n}\n}\n</code></pre>\n<p>This is the code for the <code>Model1Data</code>. This is the code for the table to update its cells.</p>\n<pre><code>import javax.swing.table.AbstractTableModel;\n\npublic class Model1Data extends AbstractTableModel implements ChampionsManager {\n\nString colNames[] = { &quot;Name&quot;, &quot;Team&quot;, &quot;No of first Places&quot;, &quot;Total Points&quot; };\nClass&lt;?&gt; colClasses[] = { String.class, String.class, Integer.class, Integer.class };\n\npublic int getRowCount() {\n    return myDrivers.size();\n}\n\npublic int getColumnCount() {\n    return colNames.length;\n}\n\npublic Object getValueAt(int rowIndex, int columnIndex) {\n    if (columnIndex == 0) {\n        return myDrivers.get(rowIndex).getName();\n    }\n    if (columnIndex == 1) {\n        return myDrivers.get(rowIndex).getTeam();\n    }\n    if (columnIndex == 2) {\n        return myDrivers.get(rowIndex).getfirstPlace();\n    }\n    if (columnIndex == 3) {\n        return myDrivers.get(rowIndex).totalPoints();\n    }\n    return null;\n}\n\npublic String getColumnName(int columnIndex) {\n    return colNames[columnIndex];\n}\n\npublic Class&lt;?&gt; getColumnClass(int columnIndex) {\n    return colClasses[columnIndex];\n}\n\npublic boolean isCellEditable(int rowIndex, int columnIndex) {\n    return false;\n}\n\npublic void setValueAt(Object aValue, int rowIndex, int columnIndex) {\n    if (columnIndex == 0) {\n        myDrivers.get(rowIndex).setName((String) aValue);\n    }\n    if (columnIndex == 1) {\n        myDrivers.get(rowIndex).setTeam((String) aValue);\n    }\n    if (columnIndex == 2) {\n        myDrivers.get(rowIndex).setfirstPlace((Integer) aValue);\n    }\n    if (columnIndex == 3) {\n        myDrivers.get(rowIndex).settotalPoints((Integer) aValue);\n    }\n    \n    //fireTableCellUpdated(rowIndex, columnIndex);\n    \n}\n}\n</code></pre>\n<p>This what the table GUI looks like <a href=\"https://i.stack.imgur.com/LmhJz.png\" rel=\"nofollow noreferrer\">Table GUI</a>. When I click the button the values for <em>No of first places</em> and <em>Total Points</em> are changed randomly. But the table doesn't get updated with the values. If I pull on the side of the frame it gets updated. How do I get it to update when I click the button?</p>\n"},{"tags":["java","spring","spring-boot","elasticsearch","geolocation"],"comments":[{"owner":{"account_id":25789431,"reputation":96,"user_id":19533736,"display_name":"Prakher Jindal"},"score":0,"creation_date":1659190587,"post_id":73174615,"comment_id":129237342,"body_markdown":"can you check whether you have defined the &quot;location&quot; field in your document and its type and if yes can you check whether it is present in all the documents or is it in missing in some of them","body":"can you check whether you have defined the &quot;location&quot; field in your document and its type and if yes can you check whether it is present in all the documents or is it in missing in some of them"},{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":0,"creation_date":1659420746,"post_id":73174615,"comment_id":129284023,"body_markdown":"Can you please add index mapping as well for your index. you can get index mapping with `GET index_name` command from kibana.","body":"Can you please add index mapping as well for your index. you can get index mapping with <code>GET index_name</code> command from kibana."}],"owner":{"account_id":25130960,"reputation":11,"user_id":18978219,"display_name":"emr1717"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659175197,"creation_date":1659175197,"question_id":73174615,"body_markdown":"I get this error when i call nearest3 function. Can you help? I am trying to get nearest 3 locations in the database according to given request data parametre for example : {\r\n    &quot;lat&quot;: 51.53266860674158,\r\n    &quot;lon&quot;: -0.1593017578125\r\n}\r\n\r\nFunction: \r\n```\r\n    @PostMapping(&quot;/nearest3&quot;)\r\n    List&lt;ResultData&gt; nearest3(@RequestBody RequestData requestData) {\r\n\r\n        GeoPoint location = new GeoPoint(requestData.getLat(), requestData.getLon());\r\n        Sort sort = Sort.by(new GeoDistanceOrder(&quot;location&quot;, location).withUnit(&quot;km&quot;));\r\n\r\n        List&lt;SearchHit&lt;FoodPOI&gt;&gt; searchHits;\r\n\r\n        if (StringUtils.hasText(requestData.getName())) {\r\n            searchHits = repository.searchTop3ByName(requestData.getName(), sort);\r\n        } else {\r\n            searchHits = repository.searchTop3By(sort);\r\n        }\r\n\r\n        return toResultData(searchHits);\r\n    }\r\n\r\n```\r\n\r\nError: \r\n```\r\n\r\norg.elasticsearch.ElasticsearchException: Elasticsearch exception [type=illegal_argument_exception, reason=failed to find mapper for [location] for geo distance based sort]\r\n\tat org.elasticsearch.ElasticsearchException.innerFromXContent(ElasticsearchException.java:496) ~[elasticsearch-7.6.2.jar:7.6.2]\r\n\tat org.elasticsearch.ElasticsearchException.fromXContent(ElasticsearchException.java:407) ~[elasticsearch-7.6.2.jar:7.6.2]\r\n\tat org.elasticsearch.ElasticsearchException.innerFromXContent(ElasticsearchException.java:437) ~[elasticsearch-7.6.2.jar:7.6.2]\r\n\tat org.elasticsearch.ElasticsearchException.fromXContent(ElasticsearchException.java:407) ~[elasticsearch-7.6.2.jar:7.6.2]\r\n\tat org.elasticsearch.ElasticsearchException.innerFromXContent(ElasticsearchException.java:437) ~[elasticsearch-7.6.2.jar:7.6.2]\r\n\tat org.elasticsearch.ElasticsearchException.failureFromXContent(ElasticsearchException.java:603) ~[elasticsearch-7.6.2.jar:7.6.2]\r\n\tat org.elasticsearch.rest.BytesRestResponse.errorFromXContent(BytesRestResponse.java:169) ~[elasticsearch-7.6.2.jar:7.6.2]\r\n\tat org.elasticsearch.client.RestHighLevelClient.parseEntity(RestHighLevelClient.java:1793) ~[elasticsearch-rest-high-level-client-7.6.2.jar:7.6.2]\r\n\tat org.elasticsearch.client.RestHighLevelClient.parseResponseException(RestHighLevelClient.java:1770) ~[elasticsearch-rest-high-level-client-7.6.2.jar:7.6.2]\r\n\tat org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1527) ~[elasticsearch-rest-high-level-client-7.6.2.jar:7.6.2]\r\n\tat org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1484) ~[elasticsearch-rest-high-level-client-7.6.2.jar:7.6.2]\r\n\tat org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1454) ~[elasticsearch-rest-high-level-client-7.6.2.jar:7.6.2]\r\n\tat org.elasticsearch.client.RestHighLevelClient.search(RestHighLevelClient.java:970) ~[elasticsearch-rest-high-level-client-7.6.2.jar:7.6.2]\r\n\tat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.lambda$count$9(ElasticsearchRestTemplate.java:263) ~[spring-data-elasticsearch-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n\tat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.execute(ElasticsearchRestTemplate.java:359) ~[spring-data-elasticsearch-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n\tat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.count(ElasticsearchRestTemplate.java:263) ~[spring-data-elasticsearch-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n\tat org.springframework.data.elasticsearch.repository.query.ElasticsearchPartQuery.execute(ElasticsearchPartQuery.java:102) ~[spring-data-elasticsearch-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor$QueryMethodInvoker.invoke(QueryExecutorMethodInterceptor.java:195) ~[spring-data-commons-2.3.3.RELEASE.jar:2.3.3.RELEASE]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:152) ~[spring-data-commons-2.3.3.RELEASE.jar:2.3.3.RELEASE]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:130) ~[spring-data-commons-2.3.3.RELEASE.jar:2.3.3.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.3.3.RELEASE.jar:2.3.3.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186","title":"Elasticsearch spring boot error: failed to find mapper for [location] for geo distance based sort]","body":"<p>I get this error when i call nearest3 function. Can you help? I am trying to get nearest 3 locations in the database according to given request data parametre for example : {\n&quot;lat&quot;: 51.53266860674158,\n&quot;lon&quot;: -0.1593017578125\n}</p>\n<p>Function:</p>\n<pre><code>    @PostMapping(&quot;/nearest3&quot;)\n    List&lt;ResultData&gt; nearest3(@RequestBody RequestData requestData) {\n\n        GeoPoint location = new GeoPoint(requestData.getLat(), requestData.getLon());\n        Sort sort = Sort.by(new GeoDistanceOrder(&quot;location&quot;, location).withUnit(&quot;km&quot;));\n\n        List&lt;SearchHit&lt;FoodPOI&gt;&gt; searchHits;\n\n        if (StringUtils.hasText(requestData.getName())) {\n            searchHits = repository.searchTop3ByName(requestData.getName(), sort);\n        } else {\n            searchHits = repository.searchTop3By(sort);\n        }\n\n        return toResultData(searchHits);\n    }\n\n</code></pre>\n<p>Error:</p>\n<pre><code>\norg.elasticsearch.ElasticsearchException: Elasticsearch exception [type=illegal_argument_exception, reason=failed to find mapper for [location] for geo distance based sort]\n    at org.elasticsearch.ElasticsearchException.innerFromXContent(ElasticsearchException.java:496) ~[elasticsearch-7.6.2.jar:7.6.2]\n    at org.elasticsearch.ElasticsearchException.fromXContent(ElasticsearchException.java:407) ~[elasticsearch-7.6.2.jar:7.6.2]\n    at org.elasticsearch.ElasticsearchException.innerFromXContent(ElasticsearchException.java:437) ~[elasticsearch-7.6.2.jar:7.6.2]\n    at org.elasticsearch.ElasticsearchException.fromXContent(ElasticsearchException.java:407) ~[elasticsearch-7.6.2.jar:7.6.2]\n    at org.elasticsearch.ElasticsearchException.innerFromXContent(ElasticsearchException.java:437) ~[elasticsearch-7.6.2.jar:7.6.2]\n    at org.elasticsearch.ElasticsearchException.failureFromXContent(ElasticsearchException.java:603) ~[elasticsearch-7.6.2.jar:7.6.2]\n    at org.elasticsearch.rest.BytesRestResponse.errorFromXContent(BytesRestResponse.java:169) ~[elasticsearch-7.6.2.jar:7.6.2]\n    at org.elasticsearch.client.RestHighLevelClient.parseEntity(RestHighLevelClient.java:1793) ~[elasticsearch-rest-high-level-client-7.6.2.jar:7.6.2]\n    at org.elasticsearch.client.RestHighLevelClient.parseResponseException(RestHighLevelClient.java:1770) ~[elasticsearch-rest-high-level-client-7.6.2.jar:7.6.2]\n    at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1527) ~[elasticsearch-rest-high-level-client-7.6.2.jar:7.6.2]\n    at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1484) ~[elasticsearch-rest-high-level-client-7.6.2.jar:7.6.2]\n    at org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1454) ~[elasticsearch-rest-high-level-client-7.6.2.jar:7.6.2]\n    at org.elasticsearch.client.RestHighLevelClient.search(RestHighLevelClient.java:970) ~[elasticsearch-rest-high-level-client-7.6.2.jar:7.6.2]\n    at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.lambda$count$9(ElasticsearchRestTemplate.java:263) ~[spring-data-elasticsearch-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.execute(ElasticsearchRestTemplate.java:359) ~[spring-data-elasticsearch-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.count(ElasticsearchRestTemplate.java:263) ~[spring-data-elasticsearch-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.data.elasticsearch.repository.query.ElasticsearchPartQuery.execute(ElasticsearchPartQuery.java:102) ~[spring-data-elasticsearch-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor$QueryMethodInvoker.invoke(QueryExecutorMethodInterceptor.java:195) ~[spring-data-commons-2.3.3.RELEASE.jar:2.3.3.RELEASE]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:152) ~[spring-data-commons-2.3.3.RELEASE.jar:2.3.3.RELEASE]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:130) ~[spring-data-commons-2.3.3.RELEASE.jar:2.3.3.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.3.3.RELEASE.jar:2.3.3.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186\n</code></pre>\n"},{"tags":["java","android","list"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1659173322,"post_id":73174348,"comment_id":129233928,"body_markdown":"I am not sure what&#39;s the problem. Is it parsing a line of the file to a list of doubles? And if that&#39;s the problem did you try to do it?","body":"I am not sure what&#39;s the problem. Is it parsing a line of the file to a list of doubles? And if that&#39;s the problem did you try to do it?"},{"owner":{"account_id":25488816,"reputation":49,"user_id":19283976,"display_name":"Ayse"},"score":0,"creation_date":1659173748,"post_id":73174348,"comment_id":129233984,"body_markdown":"@Chaosfire when reading the file it takes each line as a string . for example &quot;-0.140625000000000,0.986816000000000,-0.209473000000000&quot;","body":"@Chaosfire when reading the file it takes each line as a string . for example &quot;-0.140625000000000,0.986816000000000,-0.209473000000000&quot;"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659175108,"creation_date":1659175108,"answer_id":73174610,"question_id":73174348,"body_markdown":"I am sure there is already an answer to this, but i can&#39;t find it. You need to first split the line by the delimiter(looks like comma).\r\n```\r\nString[] strings = line.split(&quot;,&quot;);\r\n```\r\nThen you need to iterate the strings, parse each string to double and add it to the list.\r\n```\r\nList&lt;Double&gt; parsedLine = new ArrayList&lt;&gt;(strings.length);\r\nfor (String string : strings) {\r\n    parsedLine.add(Double.parseDouble(string));\r\n}\r\n```\r\nOr you can do the same with java 8 stream:\r\n```\r\nList&lt;Double&gt; parsedLine = Arrays.stream(line.split(&quot;,&quot;))\r\n           .map(Double::parseDouble)\r\n           .collect(Collectors.toList());\r\n```","title":"Android Java read file to list","body":"<p>I am sure there is already an answer to this, but i can't find it. You need to first split the line by the delimiter(looks like comma).</p>\n<pre><code>String[] strings = line.split(&quot;,&quot;);\n</code></pre>\n<p>Then you need to iterate the strings, parse each string to double and add it to the list.</p>\n<pre><code>List&lt;Double&gt; parsedLine = new ArrayList&lt;&gt;(strings.length);\nfor (String string : strings) {\n    parsedLine.add(Double.parseDouble(string));\n}\n</code></pre>\n<p>Or you can do the same with java 8 stream:</p>\n<pre><code>List&lt;Double&gt; parsedLine = Arrays.stream(line.split(&quot;,&quot;))\n           .map(Double::parseDouble)\n           .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":25488816,"reputation":49,"user_id":19283976,"display_name":"Ayse"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73174610,"answer_count":1,"score":-1,"last_activity_date":1659175108,"creation_date":1659172804,"question_id":73174348,"body_markdown":" I asked for more detailed help on this. But again I need help. I first worked in the compiler to read my file. Later, when I moved my code to the project, other problems arose. I had to use the getAssets() method to read the file. As a result, can you help me to create the same list again? \r\n\r\n What I want to do is create a `List&lt;List&lt;Double&gt;&gt;` list. I am creating the same list as below but as `List&lt;String&gt;`.  \r\n\r\nThe problem :  when reading the file it takes each line as a string . for example &quot;-0.140625000000000,0.986816000000000,-0.209473000000000&quot;    \r\n\r\nMy text file\r\n     \r\n    -0.140625000000000,0.986816000000000,-0.209473000000000\r\n    -0.144531000000000,0.959473000000000,-0.262207000000000\r\n    -0.168945000000000,0.945312000000000,-0.340820000000000\r\n    -0.141602000000000,0.939453000000000,-0.289551000000000\r\n    -0.145508000000000,0.950195000000000,-0.305664000000000\r\n    -0.147461000000000,0.946777000000000,-0.302246000000000\r\n    -0.146484000000000,0.950684000000000,-0.305176000000000\r\n    -0.145996000000000,0.951660000000000,-0.305176000000000\r\n      ....\r\nFor Example \r\n\r\n    List&lt;List&lt;double&gt;&gt; list =  [\r\n       [-0.447266000000000, 0.417969000000000, 0.738770000000000], \r\n       [-0.447266000000000, 0.417969000000000, 0.738770000000000], \r\n       [-0.447266000000000, 0.417969000000000, 0.738770000000000], \r\n       [-0.447266000000000, 0.417969000000000, 0.738770000000000],\r\n       [-0.447266000000000, 0.417969000000000, 0.738770000000000]\r\n     ]\r\n\r\nMy code\r\n\r\nThe code I got in the comment line was my old working code.\r\n\r\n\r\n        public void myPatienListMethod() {\r\n\r\n        List&lt;List&lt;Double&gt;&gt; myList = new ArrayList&lt;&gt;();\r\n        List&lt;String&gt; myLists = new ArrayList&lt;&gt;();\r\n\r\n        //try (CSVReader reader = new CSVReader( new FileReader(fileName))) {\r\n        //List&lt;String[]&gt; r = reader.readAll();\r\n        // r.forEach(lineArr -&gt; {\r\n        //      List&lt;Double&gt; line = new ArrayList&lt;&gt;();\r\n        //        for (String str : lineArr) {\r\n        //      line.add(Double.parseDouble(str));\r\n        //    }\r\n        //      myList.add(line);\r\n        //    });\r\n        //  }\r\n\r\n        String filename = &quot;aaa.txt&quot;;\r\n        BufferedReader bufferedReader = null;\r\n\r\n        try {\r\n            bufferedReader = new BufferedReader(new InputStreamReader\r\n                    (this.getAssets().open(filename)));\r\n\r\n            String line;\r\n\r\n            while ((line = bufferedReader.readLine()) != null) {\r\n                myLists.add(line);\r\n                // Log.i(&quot;list&quot;, myLists.toString());\r\n            }\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            if (bufferedReader != null) {\r\n                try {\r\n                    bufferedReader.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n","title":"Android Java read file to list","body":"<p>I asked for more detailed help on this. But again I need help. I first worked in the compiler to read my file. Later, when I moved my code to the project, other problems arose. I had to use the getAssets() method to read the file. As a result, can you help me to create the same list again?</p>\n<p>What I want to do is create a <code>List&lt;List&lt;Double&gt;&gt;</code> list. I am creating the same list as below but as <code>List&lt;String&gt;</code>.</p>\n<p>The problem :  when reading the file it takes each line as a string . for example &quot;-0.140625000000000,0.986816000000000,-0.209473000000000&quot;</p>\n<p>My text file</p>\n<pre><code>-0.140625000000000,0.986816000000000,-0.209473000000000\n-0.144531000000000,0.959473000000000,-0.262207000000000\n-0.168945000000000,0.945312000000000,-0.340820000000000\n-0.141602000000000,0.939453000000000,-0.289551000000000\n-0.145508000000000,0.950195000000000,-0.305664000000000\n-0.147461000000000,0.946777000000000,-0.302246000000000\n-0.146484000000000,0.950684000000000,-0.305176000000000\n-0.145996000000000,0.951660000000000,-0.305176000000000\n  ....\n</code></pre>\n<p>For Example</p>\n<pre><code>List&lt;List&lt;double&gt;&gt; list =  [\n   [-0.447266000000000, 0.417969000000000, 0.738770000000000], \n   [-0.447266000000000, 0.417969000000000, 0.738770000000000], \n   [-0.447266000000000, 0.417969000000000, 0.738770000000000], \n   [-0.447266000000000, 0.417969000000000, 0.738770000000000],\n   [-0.447266000000000, 0.417969000000000, 0.738770000000000]\n ]\n</code></pre>\n<p>My code</p>\n<p>The code I got in the comment line was my old working code.</p>\n<pre><code>    public void myPatienListMethod() {\n\n    List&lt;List&lt;Double&gt;&gt; myList = new ArrayList&lt;&gt;();\n    List&lt;String&gt; myLists = new ArrayList&lt;&gt;();\n\n    //try (CSVReader reader = new CSVReader( new FileReader(fileName))) {\n    //List&lt;String[]&gt; r = reader.readAll();\n    // r.forEach(lineArr -&gt; {\n    //      List&lt;Double&gt; line = new ArrayList&lt;&gt;();\n    //        for (String str : lineArr) {\n    //      line.add(Double.parseDouble(str));\n    //    }\n    //      myList.add(line);\n    //    });\n    //  }\n\n    String filename = &quot;aaa.txt&quot;;\n    BufferedReader bufferedReader = null;\n\n    try {\n        bufferedReader = new BufferedReader(new InputStreamReader\n                (this.getAssets().open(filename)));\n\n        String line;\n\n        while ((line = bufferedReader.readLine()) != null) {\n            myLists.add(line);\n            // Log.i(&quot;list&quot;, myLists.toString());\n        }\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    } finally {\n        if (bufferedReader != null) {\n            try {\n                bufferedReader.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","executorservice","completable-future"],"comments":[{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1659008391,"post_id":73146591,"comment_id":129196228,"body_markdown":"&quot;Though it may be possible that parent stages can be GC&#39;d once completed, assuming no other strong references to them exist.&quot; Slaw, that is the very question I&#39;m asking. &#128578; I think I hear you saying that you don&#39;t know the answer. But thanks for thinking about it.","body":"&quot;Though it may be possible that parent stages can be GC&#39;d once completed, assuming no other strong references to them exist.&quot; Slaw, that is the very question I&#39;m asking. 🙂 I think I hear you saying that you don&#39;t know the answer. But thanks for thinking about it."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1659033172,"post_id":73146591,"comment_id":129205406,"body_markdown":"Ah, sorry. I thought you were worried they would be garbage collected **before** they were completed. My bad. There&#39;s nothing in the documentation about this, so you&#39;d have to go into the implementation to determine the answer (which unfortunately would make the answer implementation-dependent).","body":"Ah, sorry. I thought you were worried they would be garbage collected <b>before</b> they were completed. My bad. There&#39;s nothing in the documentation about this, so you&#39;d have to go into the implementation to determine the answer (which unfortunately would make the answer implementation-dependent)."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659174729,"creation_date":1659034856,"answer_id":73157976,"question_id":73146591,"body_markdown":"There&#39;s nothing in the public documentation about whether a `CompletableFuture` can be garbage collected after completion, assuming no other &quot;external&quot; strong references to it exist. However, if you look at the source code then you&#39;ll find [this comment][1]&lt;sup&gt;1&lt;/sup&gt;:\r\n\r\n&gt; ```lang-java\r\n&gt; /*\r\n&gt;  [...]\r\n&gt;  * Without precautions, CompletableFutures would be prone to\r\n&gt;  * garbage accumulation as chains of Completions build up, each\r\n&gt;  * pointing back to its sources. So we null out fields as soon as\r\n&gt;  * possible.  The screening checks needed anyway harmlessly ignore\r\n&gt;  * null arguments that may have been obtained during races with\r\n&gt;  * threads nulling out fields.  We also try to unlink non-isLive\r\n&gt;  * (fired or cancelled) Completions from stacks that might\r\n&gt;  * otherwise never be popped: Method cleanStack always unlinks non\r\n&gt;  * isLive completions from the head of stack; others may\r\n&gt;  * occasionally remain if racing with other cancellations or\r\n&gt;  * removals.\r\n&gt;  [...]\r\n&gt;  */\r\n&gt; ```\r\n\r\nAnd if you look through the implementation, you&#39;ll see lines like [this one][4]:\r\n\r\n&gt; ```lang-java\r\n&gt; src = null; dep = null; fn = null;\r\n&gt; ```\r\n\r\nSo, at least as currently implemented, it looks like a `CompletableFuture` becomes eligible for garbage collection after it completes, assuming you don&#39;t maintain a separate strong reference to it yourself, regardless of the subsequent chain.\r\n\r\n---\r\n\r\n&lt;sup&gt;1. That link is to the source code tagged `jdk-20+8`. But it looks like that comment (and associated improvements) was added as part of [this commit][2] from September 2014. Perhaps as part of [JDK-8056249][3], which was &quot;fixed&quot; for version 9, but looks to have been backported to Java 8&lt;/sup&gt; \r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/jdk-20+8/src/java.base/share/classes/java/util/concurrent/CompletableFuture.java#L248\r\n  [2]: https://github.com/openjdk/jdk/commit/01112ca52ae793692401ef4dd47413e4ee8ec0b7\r\n  [3]: https://bugs.openjdk.org/browse/JDK-8056249\r\n  [4]: https://github.com/openjdk/jdk/blob/jdk-20+8/src/java.base/share/classes/java/util/concurrent/CompletableFuture.java#L652","title":"Do &quot;chained&quot; CompletableFuture instances stay in memory?","body":"<p>There's nothing in the public documentation about whether a <code>CompletableFuture</code> can be garbage collected after completion, assuming no other &quot;external&quot; strong references to it exist. However, if you look at the source code then you'll find <a href=\"https://github.com/openjdk/jdk/blob/jdk-20+8/src/java.base/share/classes/java/util/concurrent/CompletableFuture.java#L248\" rel=\"nofollow noreferrer\">this comment</a><sup>1</sup>:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>/*\n [...]\n * Without precautions, CompletableFutures would be prone to\n * garbage accumulation as chains of Completions build up, each\n * pointing back to its sources. So we null out fields as soon as\n * possible.  The screening checks needed anyway harmlessly ignore\n * null arguments that may have been obtained during races with\n * threads nulling out fields.  We also try to unlink non-isLive\n * (fired or cancelled) Completions from stacks that might\n * otherwise never be popped: Method cleanStack always unlinks non\n * isLive completions from the head of stack; others may\n * occasionally remain if racing with other cancellations or\n * removals.\n [...]\n */\n</code></pre>\n</blockquote>\n<p>And if you look through the implementation, you'll see lines like <a href=\"https://github.com/openjdk/jdk/blob/jdk-20+8/src/java.base/share/classes/java/util/concurrent/CompletableFuture.java#L652\" rel=\"nofollow noreferrer\">this one</a>:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>src = null; dep = null; fn = null;\n</code></pre>\n</blockquote>\n<p>So, at least as currently implemented, it looks like a <code>CompletableFuture</code> becomes eligible for garbage collection after it completes, assuming you don't maintain a separate strong reference to it yourself, regardless of the subsequent chain.</p>\n<hr />\n<p><sup>1. That link is to the source code tagged <code>jdk-20+8</code>. But it looks like that comment (and associated improvements) was added as part of <a href=\"https://github.com/openjdk/jdk/commit/01112ca52ae793692401ef4dd47413e4ee8ec0b7\" rel=\"nofollow noreferrer\">this commit</a> from September 2014. Perhaps as part of <a href=\"https://bugs.openjdk.org/browse/JDK-8056249\" rel=\"nofollow noreferrer\">JDK-8056249</a>, which was &quot;fixed&quot; for version 9, but looks to have been backported to Java 8</sup></p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73157976,"answer_count":1,"score":0,"last_activity_date":1659174729,"creation_date":1658975395,"question_id":73146591,"body_markdown":"Let&#39;s say that in Java I have a method `doSomethingAsync(input)` that schedules some work via an executor service and returns a `CompletableFuture&lt;FooBar&gt;`. Let&#39;s say that I have a billion (or whatever huge number of distinct `input`s). And let&#39;s say I chain the `CompleteableFuture&lt;FooBar&gt;` instances together using `thenCombine()`, but I don&#39;t keep a reference to the previous `CompleteableFuture&lt;FooBar&gt;` instance. Something like this:\r\n\r\n```java\r\nCompletableFuture&lt;FooBar&gt; future = doSomethingAsync(0);\r\nfor(int input = 1; i &lt; 1_000_000_000; i++) {\r\n  future = future.thenCombine(doSomethingAsync(i), (foo, bar) -&gt; bar);\r\n}\r\nfuture.join();\r\n```\r\n\r\nThe interesting thing is that I can then do `future.join()` to wait until they all finish. And I can set a bound (e.g. 100) on the queue on the executor service inside `doSomethingAsync()` so that it makes the submission block when there are two many unfinished tasks in play. That would provides some back-pressure so that I don&#39;t run out of memory in the executor service with all 1,000,000,000 tasks being submitted to the executor service at the same time.\r\n\r\nAt the end of the process, the logic only has a reference to a single `CompletableFuture&lt;&gt;`—the final one representing the outcome of the final submission to `doSomethingAsync()`. But there were one billion of them chained together. Here&#39;s the big question: will all those 1,000,000,000 `CompletableFuture&lt;&gt;` instances stick around in memory until the last one is finished because they were chained using `thenComposeAsync()`, or will the initial `CompletableFuture&lt;&gt;` instances be garbage collected after they are completed and the executor service submits the &quot;next&quot; task via `thenCombine()`?","title":"Do &quot;chained&quot; CompletableFuture instances stay in memory?","body":"<p>Let's say that in Java I have a method <code>doSomethingAsync(input)</code> that schedules some work via an executor service and returns a <code>CompletableFuture&lt;FooBar&gt;</code>. Let's say that I have a billion (or whatever huge number of distinct <code>input</code>s). And let's say I chain the <code>CompleteableFuture&lt;FooBar&gt;</code> instances together using <code>thenCombine()</code>, but I don't keep a reference to the previous <code>CompleteableFuture&lt;FooBar&gt;</code> instance. Something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;FooBar&gt; future = doSomethingAsync(0);\nfor(int input = 1; i &lt; 1_000_000_000; i++) {\n  future = future.thenCombine(doSomethingAsync(i), (foo, bar) -&gt; bar);\n}\nfuture.join();\n</code></pre>\n<p>The interesting thing is that I can then do <code>future.join()</code> to wait until they all finish. And I can set a bound (e.g. 100) on the queue on the executor service inside <code>doSomethingAsync()</code> so that it makes the submission block when there are two many unfinished tasks in play. That would provides some back-pressure so that I don't run out of memory in the executor service with all 1,000,000,000 tasks being submitted to the executor service at the same time.</p>\n<p>At the end of the process, the logic only has a reference to a single <code>CompletableFuture&lt;&gt;</code>—the final one representing the outcome of the final submission to <code>doSomethingAsync()</code>. But there were one billion of them chained together. Here's the big question: will all those 1,000,000,000 <code>CompletableFuture&lt;&gt;</code> instances stick around in memory until the last one is finished because they were chained using <code>thenComposeAsync()</code>, or will the initial <code>CompletableFuture&lt;&gt;</code> instances be garbage collected after they are completed and the executor service submits the &quot;next&quot; task via <code>thenCombine()</code>?</p>\n"},{"tags":["java","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659174607,"creation_date":1659174607,"answer_id":73174555,"question_id":73171918,"body_markdown":"By *&quot;simpler&quot;*, you probably mean:\r\n\r\n- No need to declare column names\r\n- No need to declare local variables for `key` and `value` (that&#39;s not necessary in your example, though)\r\n\r\nYou could use this, as an alternative:\r\n\r\n```java\r\ncreate.fetch(&quot;SHOW VARIABLES&quot;).intoMap(\r\n  r -&gt; r.get(0, String.class), \r\n  r -&gt; r.get(1, String.class)\r\n);\r\n```","title":"Jooq fetch into a Map using SHOW VARIABLES results","body":"<p>By <em>&quot;simpler&quot;</em>, you probably mean:</p>\n<ul>\n<li>No need to declare column names</li>\n<li>No need to declare local variables for <code>key</code> and <code>value</code> (that's not necessary in your example, though)</li>\n</ul>\n<p>You could use this, as an alternative:</p>\n<pre class=\"lang-java prettyprint-override\"><code>create.fetch(&quot;SHOW VARIABLES&quot;).intoMap(\n  r -&gt; r.get(0, String.class), \n  r -&gt; r.get(1, String.class)\n);\n</code></pre>\n"}],"owner":{"account_id":48251,"reputation":35403,"user_id":143269,"accept_rate":48,"display_name":"helion3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73174555,"answer_count":1,"score":0,"last_activity_date":1659174607,"creation_date":1659138404,"question_id":73171918,"body_markdown":"\r\n\r\nI&#39;m trying to use jooq to execute a `SHOW VARIABLES` query for mysql/maria. I&#39;m trying to use jooq only because I have jooq for everything else but this SQL isn&#39;t something jooq can &quot;abstract&quot;. I could also use jdbc directly but am trying to stay consistent and also learn jooq better.\r\n\r\n`SHOW VARIABLES` returns two string columns, `Variable_name` and `Value`.\r\n\r\nI&#39;ve been trying to find a way to get a `Map` of these key/values, but nothing is working.\r\n\r\n`Map&lt;String, String&gt; dbVars = create.fetch(&quot;SHOW VARIABLES&quot;).intoMap(...?)`\r\n\r\n \r\nSeems like this works, but not sure if there&#39;s a simpler way:\r\n\r\n```\r\nField&lt;String&gt; key = field(&quot;Variable_name&quot;, String.class);\r\nField&lt;String&gt; value = field(&quot;Value&quot;, String.class);\r\nMap&lt;String, String&gt; dbVars = create.fetch(&quot;SHOW VARIABLES&quot;).intoMap(key, value);\r\n```","title":"Jooq fetch into a Map using SHOW VARIABLES results","body":"<p>I'm trying to use jooq to execute a <code>SHOW VARIABLES</code> query for mysql/maria. I'm trying to use jooq only because I have jooq for everything else but this SQL isn't something jooq can &quot;abstract&quot;. I could also use jdbc directly but am trying to stay consistent and also learn jooq better.</p>\n<p><code>SHOW VARIABLES</code> returns two string columns, <code>Variable_name</code> and <code>Value</code>.</p>\n<p>I've been trying to find a way to get a <code>Map</code> of these key/values, but nothing is working.</p>\n<p><code>Map&lt;String, String&gt; dbVars = create.fetch(&quot;SHOW VARIABLES&quot;).intoMap(...?)</code></p>\n<p>Seems like this works, but not sure if there's a simpler way:</p>\n<pre><code>Field&lt;String&gt; key = field(&quot;Variable_name&quot;, String.class);\nField&lt;String&gt; value = field(&quot;Value&quot;, String.class);\nMap&lt;String, String&gt; dbVars = create.fetch(&quot;SHOW VARIABLES&quot;).intoMap(key, value);\n</code></pre>\n"},{"tags":["java","android","android-sensors","sensormanager"],"owner":{"account_id":25822197,"reputation":23,"user_id":19561078,"display_name":"Ribter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659174153,"creation_date":1659174153,"question_id":73174507,"body_markdown":"Hello I`m doing step counter.\r\nIn manifest I added the permission\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACTIVITY_RECOGNITION&quot;/&gt;\r\nI also added a check in the onCreate method:\r\n\r\n   \r\n\r\n    sensorManager = (SensorManager) getSystemService(Context.SENSOR_SERVICE);\r\n\r\n    if(ContextCompat.checkSelfPermission(this,\r\n                Manifest.permission.ACTIVITY_RECOGNITION) == PackageManager.PERMISSION_DENIED){\r\n            //ask for permission\r\n            requestPermissions(new String[]{Manifest.permission.ACTIVITY_RECOGNITION}, 1);\r\n        }\r\n\r\nBut my `countSensor` is null:\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        running = true;\r\n        Sensor countSensor = sensorManager.getDefaultSensor(Sensor.TYPE_STEP_COUNTER);\r\n        if(countSensor != null){\r\n            sensorManager.registerListener(this,countSensor,SensorManager.SENSOR_DELAY_UI);\r\n        }else{\r\n            Toast.makeText(this, &quot;Sensor not found&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\nI am using a real device(Samsung Galaxy A30). Who knows what&#39;s the problem? Thank you!\r\n\r\n\r\n","title":"TYPE_STEP_COUNTER sensor not found on a real device(Android Studio)","body":"<p>Hello I`m doing step counter.\nIn manifest I added the permission</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACTIVITY_RECOGNITION&quot;/&gt;\n</code></pre>\n<p>I also added a check in the onCreate method:</p>\n<pre><code>sensorManager = (SensorManager) getSystemService(Context.SENSOR_SERVICE);\n\nif(ContextCompat.checkSelfPermission(this,\n            Manifest.permission.ACTIVITY_RECOGNITION) == PackageManager.PERMISSION_DENIED){\n        //ask for permission\n        requestPermissions(new String[]{Manifest.permission.ACTIVITY_RECOGNITION}, 1);\n    }\n</code></pre>\n<p>But my <code>countSensor</code> is null:</p>\n<pre><code>@Override\nprotected void onResume() {\n    super.onResume();\n    running = true;\n    Sensor countSensor = sensorManager.getDefaultSensor(Sensor.TYPE_STEP_COUNTER);\n    if(countSensor != null){\n        sensorManager.registerListener(this,countSensor,SensorManager.SENSOR_DELAY_UI);\n    }else{\n        Toast.makeText(this, &quot;Sensor not found&quot;, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<p>I am using a real device(Samsung Galaxy A30). Who knows what's the problem? Thank you!</p>\n"},{"tags":["java","spring","mongodb","spring-data"],"answers":[{"tags":[],"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659173343,"creation_date":1659173343,"answer_id":73174414,"question_id":73174178,"body_markdown":"I think compound indexes are the way to go here, try this:\r\n\r\n    @Document\r\n    @CompoundIndexes({\r\n        @CompoundIndex(name = &quot;superfield_field1&quot;, def = &quot;{ &#39;superField.field1&#39;: 1 }&quot;)\r\n    })\r\n    class Doc {\r\n      @Indexed\r\n      private MySuperField superField;\r\n    \r\n      // id, getter setter ignored\r\n    }","title":"Create index on a converted sub document field with Spring Data MongoDB","body":"<p>I think compound indexes are the way to go here, try this:</p>\n<pre><code>@Document\n@CompoundIndexes({\n    @CompoundIndex(name = &quot;superfield_field1&quot;, def = &quot;{ 'superField.field1': 1 }&quot;)\n})\nclass Doc {\n  @Indexed\n  private MySuperField superField;\n\n  // id, getter setter ignored\n}\n</code></pre>\n"}],"owner":{"account_id":92137,"reputation":584,"user_id":252642,"display_name":"Marcanpilami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73174414,"answer_count":1,"score":1,"last_activity_date":1659174074,"creation_date":1659171138,"question_id":73174178,"body_markdown":"Using Spring Data for Mongo (any recent version) I&#39;m trying to set an index on a field that is persisted as a sub-document through the help of a `org.springframework.core.convert.converter.Converter` (it is actually two fields)\r\n\r\n\r\nMy document class looks like this:\r\n```\r\n@Document\r\nclass Doc {\r\n  @Indexed\r\n  private MySuperField superField;\r\n\r\n  // id, getter setter ignored\r\n}\r\n```\r\n\r\nWhile my document structure in database looks like this:\r\n```\r\n{\r\n  &quot;superField&quot;: {\r\n     &quot;field1&quot;: 123,\r\n     &quot;field2&quot;: 456\r\n  }\r\n}\r\n```\r\n\r\nThe index gets created on `superField` - while I would like it to be on `superField.field1`. of course from Spring&#39;s point of view it is logical - only the `Converter` has any notion of the sub document.\r\n\r\nIs there any way to position the index on the right field while still using annotations? Otherwise I&#39;ll have to use a mongo template to explicitely create it...\r\n\r\nNote : the actual use case behind this is to store a ZonedDateTime without loosing the original timezone information. First field is epoch, second is original timezone.\r\n\r\n**EDIT** : I need to set expiration time of the index. Which makes compound indices irrelevant sadly.\r\n","title":"Create index on a converted sub document field with Spring Data MongoDB","body":"<p>Using Spring Data for Mongo (any recent version) I'm trying to set an index on a field that is persisted as a sub-document through the help of a <code>org.springframework.core.convert.converter.Converter</code> (it is actually two fields)</p>\n<p>My document class looks like this:</p>\n<pre><code>@Document\nclass Doc {\n  @Indexed\n  private MySuperField superField;\n\n  // id, getter setter ignored\n}\n</code></pre>\n<p>While my document structure in database looks like this:</p>\n<pre><code>{\n  &quot;superField&quot;: {\n     &quot;field1&quot;: 123,\n     &quot;field2&quot;: 456\n  }\n}\n</code></pre>\n<p>The index gets created on <code>superField</code> - while I would like it to be on <code>superField.field1</code>. of course from Spring's point of view it is logical - only the <code>Converter</code> has any notion of the sub document.</p>\n<p>Is there any way to position the index on the right field while still using annotations? Otherwise I'll have to use a mongo template to explicitely create it...</p>\n<p>Note : the actual use case behind this is to store a ZonedDateTime without loosing the original timezone information. First field is epoch, second is original timezone.</p>\n<p><strong>EDIT</strong> : I need to set expiration time of the index. Which makes compound indices irrelevant sadly.</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659173968,"creation_date":1659170497,"answer_id":73174108,"question_id":73173898,"body_markdown":"Yes, that&#39;s right. You only have to use:\r\n\r\n    FirebaseDatabase.getInstance().setPersistenceEnabled(true);\r\n\r\n&gt; Now my question is where and how often do I have to use this line?\r\n\r\nYou can add that line of code, directly to your code, when the application starts. So you might consider creating a class that extends Application:\r\n\r\n```\r\npublic class MyApplication extends Application {\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        FirebaseDatabase.getInstance().setPersistenceEnabled(true);\r\n    }\r\n}\r\n```\r\n\r\nBut be careful to only call setPersistenceEnabled before you have called getReference() for the first time.\r\n\r\nRegarding how often, you only need to call it once.\r\n\r\n&gt; Do I have to use it before each of the firebase operations (queries, LiveData, writeOperations) in every Java class\r\n\r\nNo. By default, it caches all the databases. So if you perform different operations in different places in your application, all those operations are cached. Besides that, there is no way you can only cache partial data. It&#39;s all the database or nothing.\r\n\r\n&gt; And do I just need this one line of code or do I also need the other stuff mentioned on the site (like Keeping Data Fresh, Querying Data Offline, etc.)?\r\n\r\nYou only need that line of code.","title":"Where and how often do I have to enable Offline Capabilities of Firebase in Android","body":"<p>Yes, that's right. You only have to use:</p>\n<pre><code>FirebaseDatabase.getInstance().setPersistenceEnabled(true);\n</code></pre>\n<blockquote>\n<p>Now my question is where and how often do I have to use this line?</p>\n</blockquote>\n<p>You can add that line of code, directly to your code, when the application starts. So you might consider creating a class that extends Application:</p>\n<pre><code>public class MyApplication extends Application {\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        FirebaseDatabase.getInstance().setPersistenceEnabled(true);\n    }\n}\n</code></pre>\n<p>But be careful to only call setPersistenceEnabled before you have called getReference() for the first time.</p>\n<p>Regarding how often, you only need to call it once.</p>\n<blockquote>\n<p>Do I have to use it before each of the firebase operations (queries, LiveData, writeOperations) in every Java class</p>\n</blockquote>\n<p>No. By default, it caches all the databases. So if you perform different operations in different places in your application, all those operations are cached. Besides that, there is no way you can only cache partial data. It's all the database or nothing.</p>\n<blockquote>\n<p>And do I just need this one line of code or do I also need the other stuff mentioned on the site (like Keeping Data Fresh, Querying Data Offline, etc.)?</p>\n</blockquote>\n<p>You only need that line of code.</p>\n"}],"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73174108,"answer_count":1,"score":0,"last_activity_date":1659173968,"creation_date":1659168248,"question_id":73173898,"body_markdown":"I have an app with many different fragments that use different types of Firebase Realtime Database actions (Queries, LiveData, writeOperations) on different nodes. Now I would like to enable offline capabilities on the real-time database such that queries, livedata and write operations are executed even if the device losses internet connection. In the official documentation, it is written that I just have to use the following code (https://firebase.google.com/docs/database/android/offline-capabilities?hl=en):\r\n\r\n    FirebaseDatabase.getInstance().setPersistenceEnabled(true);\r\n\r\nNow my question is where and how often do I have to use this line? Do I have to use it before each of the firebase operations (queries, LiveData, writeOperations) in every Java class, or do I only need it once in the MainActivity class or do I need it once per Fragment (maybe in the onCreate method)? And do I just need this one line of code or do I also need the other stuff mentioned on the site (like Keeping Data Fresh, Querying Data Offline, etc.)?\r\n\r\n","title":"Where and how often do I have to enable Offline Capabilities of Firebase in Android","body":"<p>I have an app with many different fragments that use different types of Firebase Realtime Database actions (Queries, LiveData, writeOperations) on different nodes. Now I would like to enable offline capabilities on the real-time database such that queries, livedata and write operations are executed even if the device losses internet connection. In the official documentation, it is written that I just have to use the following code (<a href=\"https://firebase.google.com/docs/database/android/offline-capabilities?hl=en\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/database/android/offline-capabilities?hl=en</a>):</p>\n<pre><code>FirebaseDatabase.getInstance().setPersistenceEnabled(true);\n</code></pre>\n<p>Now my question is where and how often do I have to use this line? Do I have to use it before each of the firebase operations (queries, LiveData, writeOperations) in every Java class, or do I only need it once in the MainActivity class or do I need it once per Fragment (maybe in the onCreate method)? And do I just need this one line of code or do I also need the other stuff mentioned on the site (like Keeping Data Fresh, Querying Data Offline, etc.)?</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1659117168,"post_id":73165099,"comment_id":129224944,"body_markdown":"Different fields shouldn&#39;t have the same name. I&#39;m not sure I understand the problem, maybe attach the result file that doesn&#39;t work and describe what you expected and what happened instead.","body":"Different fields shouldn&#39;t have the same name. I&#39;m not sure I understand the problem, maybe attach the result file that doesn&#39;t work and describe what you expected and what happened instead."},{"owner":{"account_id":25908967,"reputation":13,"user_id":19633587,"display_name":"Seyed Ahamed Bilal"},"score":0,"creation_date":1659174187,"post_id":73165099,"comment_id":129234039,"body_markdown":"Added the image link of expected and actual behavior outputs. For combo box alone the name should remains same and the export values may vary so that any one of the combo box selected with unique export value","body":"Added the image link of expected and actual behavior outputs. For combo box alone the name should remains same and the export values may vary so that any one of the combo box selected with unique export value"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1659181468,"post_id":73165099,"comment_id":129235458,"body_markdown":"@Tilman multiple fields, in particular check boxes or radio buttons, may have the same name, and even the same on-value...","body":"@Tilman multiple fields, in particular check boxes or radio buttons, may have the same name, and even the same on-value..."},{"owner":{"account_id":25908967,"reputation":13,"user_id":19633587,"display_name":"Seyed Ahamed Bilal"},"score":0,"creation_date":1659352822,"post_id":73165099,"comment_id":129266858,"body_markdown":"Dears, Any luck on this?","body":"Dears, Any luck on this?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1659411574,"post_id":73165099,"comment_id":129282502,"body_markdown":"Each time I read this it&#39;s more confusing. Now it&#39;s combo boxes? From looking at the image and assuming that gender can be male or female and not both &#128514;, I think what you really want are radio buttons (which can look like check boxes). There is an example for this but it creates round buttons. You&#39;d have to combine this with the appearance code from the checkbox example.","body":"Each time I read this it&#39;s more confusing. Now it&#39;s combo boxes? From looking at the image and assuming that gender can be male or female and not both 😂, I think what you really want are radio buttons (which can look like check boxes). There is an example for this but it creates round buttons. You&#39;d have to combine this with the appearance code from the checkbox example."},{"owner":{"account_id":25908967,"reputation":13,"user_id":19633587,"display_name":"Seyed Ahamed Bilal"},"score":0,"creation_date":1659505924,"post_id":73165099,"comment_id":129307725,"body_markdown":"Radio button view coming from auto prediction part on Adobe acrobat. I want the name to be set as same for two of the check boxes. Kindly help me out for the particular snippet alone @mkl","body":"Radio button view coming from auto prediction part on Adobe acrobat. I want the name to be set as same for two of the check boxes. Kindly help me out for the particular snippet alone @mkl"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1659514612,"post_id":73165099,"comment_id":129310340,"body_markdown":"Seyed Ahamed Bilal, maybe you should have a look at the examples pointed out by @Tilman. Tilman, could you provide links to the examples you have in mind?","body":"Seyed Ahamed Bilal, maybe you should have a look at the examples pointed out by @Tilman. Tilman, could you provide links to the examples you have in mind?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1659516229,"post_id":73165099,"comment_id":129310950,"body_markdown":"https://svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/java/org/apache/pdfbox/examples/interactive/form/CreateRadioButtons.java?view=markup","body":"<a href=\"https://svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/java/org/apache/pdfbox/examples/interactive/form/CreateRadioButtons.java?view=markup\" rel=\"nofollow noreferrer\">svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1659544832,"post_id":73165099,"comment_id":129321335,"body_markdown":"I just started reading all this and it is really unclear. So what does the OP want? A radiobutton group with appearances of checkboxes? Or combo boxes? @SeyedAhamedBilal It seems you own *crobat - Can you create a result PDF with shows the behaviour you want?","body":"I just started reading all this and it is really unclear. So what does the OP want? A radiobutton group with appearances of checkboxes? Or combo boxes? @SeyedAhamedBilal It seems you own *crobat - Can you create a result PDF with shows the behaviour you want?"}],"owner":{"account_id":25908967,"reputation":13,"user_id":19633587,"display_name":"Seyed Ahamed Bilal"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659173910,"creation_date":1659089762,"question_id":73165099,"body_markdown":"I am looking for adding up 2 or more checkbox values with same name as a single group checkbox values with different export values.\r\n\r\nIf I try to add multiple checkbox values with the same name causing an issue. First checkbox alone drawing on pdf file. If I change the name then it&#39;s loading. How to resolve this issue.\r\n\r\n\r\n    for (StructElementDetail element : _pgstrele.getStructElementDetails()) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif ((element.getElementType().startsWith(&quot;TB&quot;))) {\r\n\t\t\t\t\t\tif (element.getIsFillableFormField()) {\r\n\r\n\t\t\t\t\t\t\tList&lt;Integer&gt; _int_bbox_list = convertBBOXtoIntegerList(element.getBBOX());\r\n\t\t\t\t\t\t\tInteger xVal = _int_bbox_list.get(0);\r\n\t\t\t\t\t\t\tInteger yVal = pageHeight - _int_bbox_list.get(1);\r\n\t\t\t\t\t\t\tInteger width = _int_bbox_list.get(2) - _int_bbox_list.get(0);\r\n\t\t\t\t\t\t\tInteger height = _int_bbox_list.get(1) - _int_bbox_list.get(3);\r\n\t\t\t\t\t\t\tString formFieldName = null, toolTip = null, fontSize = null, fontFamily = null;\r\n\t\t\t\t\t\t\tlong maxLength = 12;\r\n\t\t\t\t\t\t\tBoolean required = false, multiLine = false, checkSpelling = false, combofChar = false;\r\n\t\t\t\t\t\t\tJSONArray formFieldProperties = (JSONArray) element.getFormFieldProperties();\r\n\t\t\t\t\t\t\tfor (Object eleObj : formFieldProperties) {\r\n\t\t\t\t\t\t\t\tformFieldName = (String) ((JSONObject) eleObj).get(&quot;FormFieldName&quot;);\r\n\t\t\t\t\t\t\t\ttoolTip = (String) ((JSONObject) eleObj).get(&quot;ToolTips&quot;);\r\n\t\t\t\t\t\t\t\tfontSize = (String) ((JSONObject) eleObj).get(&quot;FontSize&quot;);\r\n\t\t\t\t\t\t\t\tfontFamily = (String) ((JSONObject) eleObj).get(&quot;FontFamily&quot;);\r\n\t\t\t\t\t\t\t\tmaxLength = (long) ((JSONObject) eleObj).get(&quot;MaxLength&quot;);\r\n\t\t\t\t\t\t\t\trequired = (Boolean) ((JSONObject) eleObj).get(&quot;Required&quot;);\r\n\t\t\t\t\t\t\t\tmultiLine = (Boolean) ((JSONObject) eleObj).get(&quot;MultiLine&quot;);\r\n\t\t\t\t\t\t\t\tcheckSpelling = (Boolean) ((JSONObject) eleObj).get(&quot;CheckSpelling&quot;);\r\n\t\t\t\t\t\t\t\tcombofChar = (Boolean) ((JSONObject) eleObj).get(&quot;CombofChar&quot;);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\taddTBField(acroForm, page, formFieldName, xVal, yVal, width, height, toolTip, fontSize,\r\n\t\t\t\t\t\t\t\t\tfontFamily, maxLength, required, multiLine, checkSpelling, combofChar);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if ((element.getElementType().startsWith(&quot;CB&quot;))) {\r\n\t\t\t\t\t\tif (element.getIsFillableFormField()) {\r\n\r\n\t\t\t\t\t\t\tList&lt;Integer&gt; _int_bbox_list = convertBBOXtoIntegerList(element.getBBOX());\r\n\t\t\t\t\t\t\tInteger xVal = _int_bbox_list.get(0);\r\n\t\t\t\t\t\t\tInteger yVal = pageHeight - _int_bbox_list.get(1);\r\n\t\t\t\t\t\t\tInteger width = _int_bbox_list.get(2) - _int_bbox_list.get(0);\r\n\t\t\t\t\t\t\tInteger height = _int_bbox_list.get(1) - _int_bbox_list.get(3);\r\n\t\t\t\t\t\t\tString formFieldName = null, toolTip = null, exportValue = null;\r\n\t\t\t\t\t\t\tList&lt;String&gt; exportList = new ArrayList&lt;String&gt;();\r\n\t\t\t\t\t\t\tJSONArray formFieldProperties = (JSONArray) element.getFormFieldProperties();\r\n\t\t\t\t\t\t\tfor (Object eleObj : formFieldProperties) {\r\n\t\t\t\t\t\t\t\tformFieldName = (String) ((JSONObject) eleObj).get(&quot;FormFieldName&quot;);\r\n\t\t\t\t\t\t\t\ttoolTip = (String) ((JSONObject) eleObj).get(&quot;ToolTips&quot;);\r\n\t\t\t\t\t\t\t\texportValue = (String) ((JSONObject) eleObj).get(&quot;ExportValue&quot;);\r\n\t\t\t\t\t\t\t\texportList.add(exportValue);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\taddCBField(_pdfDocumentObj, acroForm, page, formFieldName, false, xVal, yVal, width, height,\r\n\t\t\t\t\t\t\t\t\ttoolTip, exportList);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\tSystem.out.println(&quot;Error in Form Field&quot;);\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n    private static void addCBField(PDDocument document, PDAcroForm acroForm, PDPage page, String name, boolean checked,\r\n\t\t\tfloat x, float y, float width, float height, String toolTip, List&lt;String&gt; exportList) {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tPDRectangle rect = new PDRectangle(x, y, width, height);\r\n\r\n\t\t\tPDCheckBox checkbox = new PDCheckBox(acroForm);\r\n\t\t\tcheckbox.setPartialName(name);\r\n\t\t\tPDAnnotationWidget widget = checkbox.getWidgets().get(0);\r\n\t\t\twidget.setPage(page);\r\n\t\t\twidget.setRectangle(rect);\r\n\t\t\twidget.setPrinted(true);\r\n\r\n\t\t\tPDAppearanceCharacteristicsDictionary appearanceCharacteristics = new PDAppearanceCharacteristicsDictionary(\r\n\t\t\t\t\tnew COSDictionary());\r\n\r\n\t\t\tappearanceCharacteristics.setNormalCaption(&quot;4&quot;);\r\n\t\t\twidget.setAppearanceCharacteristics(appearanceCharacteristics);\r\n\r\n\t\t\t/*\r\n\t\t\t * PDBorderStyleDictionary borderStyleDictionary = new\r\n\t\t\t * PDBorderStyleDictionary(); borderStyleDictionary.setWidth(1);\r\n\t\t\t * borderStyleDictionary.setStyle(PDBorderStyleDictionary.STYLE_SOLID);\r\n\t\t\t * widget.setBorderStyle(borderStyleDictionary);\r\n\t\t\t */\r\n\r\n\t\t\tPDAppearanceDictionary ap = new PDAppearanceDictionary();\r\n\t\t\twidget.setAppearance(ap);\r\n\t\t\tPDAppearanceEntry normalAppearance = ap.getNormalAppearance();\r\n\r\n\t\t\tCOSDictionary normalAppearanceDict = (COSDictionary) normalAppearance.getCOSObject();\r\n\t\t\tnormalAppearanceDict.setItem(COSName.Off, createCheckBoxAppearanceStream(document, widget, false));\r\n\t\t\tnormalAppearanceDict.setItem(COSName.YES, createCheckBoxAppearanceStream(document, widget, true));\r\n\r\n\t\t\t\r\n\t\t\tpage.getAnnotations().add(checkbox.getWidgets().get(0));\r\n\t\t\tacroForm.getFields().add(checkbox);\r\n\r\n\t\t\tcheckbox.setAlternateFieldName(toolTip);\r\n\t\t\tcheckbox.setExportValues(exportList);\r\n\r\n\t\t\tif (checked) {\r\n\t\t\t\tcheckbox.check();\r\n\t\t\t} else {\r\n\t\t\t\tcheckbox.unCheck();\r\n\t\t\t}\r\n\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t}\r\n\r\n    private static PDAppearanceStream createCheckBoxAppearanceStream(final PDDocument document,\r\n\t\t\tPDAnnotationWidget widget, boolean on) throws IOException {\r\n\t\tPDRectangle rect = widget.getRectangle();\r\n\t\tPDAppearanceCharacteristicsDictionary appearanceCharacteristics;\r\n\t\tPDAppearanceStream yesAP = new PDAppearanceStream(document);\r\n\t\tyesAP.setBBox(new PDRectangle(rect.getWidth(), rect.getHeight()));\r\n\t\tyesAP.setResources(new PDResources());\r\n\t\tPDPageContentStream yesAPCS = new PDPageContentStream(document, yesAP);\r\n\t\tappearanceCharacteristics = widget.getAppearanceCharacteristics();\r\n\t\tfloat lineWidth = getLineWidth(widget);\r\n\t\tyesAPCS.setLineWidth(lineWidth); \r\n\t\tyesAPCS.addRect(0, 0, rect.getWidth(), rect.getHeight());\r\n\t\tyesAPCS.addRect(lineWidth / 2, lineWidth / 2, rect.getWidth() - lineWidth, rect.getHeight() - lineWidth);\r\n\t\tif (!on) {\r\n\t\t\tyesAPCS.close();\r\n\t\t\treturn yesAP;\r\n\t\t}\r\n\r\n\t\tyesAPCS.addRect(lineWidth, lineWidth, rect.getWidth() - lineWidth * 2, rect.getHeight() - lineWidth * 2);\r\n\t\tyesAPCS.clip();\r\n\r\n\t\tString normalCaption = appearanceCharacteristics.getNormalCaption();\r\n\t\tif (normalCaption == null) {\r\n\t\t\tnormalCaption = &quot;4&quot;; \r\n\t\t}\r\n\r\n\t\tif (&quot;8&quot;.equals(normalCaption)) {\r\n\t\t\t// Adobe paints a cross instead of using the Zapf Dingbats cross symbol\r\n\t\t\tyesAPCS.setStrokingColor(0f);\r\n\t\t\tyesAPCS.moveTo(lineWidth * 2, rect.getHeight() - lineWidth * 2);\r\n\t\t\tyesAPCS.lineTo(rect.getWidth() - lineWidth * 2, lineWidth * 2);\r\n\t\t\tyesAPCS.moveTo(rect.getWidth() - lineWidth * 2, rect.getHeight() - lineWidth * 2);\r\n\t\t\tyesAPCS.lineTo(lineWidth * 2, lineWidth * 2);\r\n\t\t\tyesAPCS.stroke();\r\n\t\t} else {\r\n\t\t\t// The caption is not unicode, but the Zapf Dingbats code in the PDF\r\n\t\t\t// Thus convert it back to unicode\r\n\t\t\t// Assume that only the first character is used.\r\n\t\t\tString name = PDType1Font.ZAPF_DINGBATS.codeToName(normalCaption.codePointAt(0));\r\n\t\t\tString unicode = PDType1Font.ZAPF_DINGBATS.getGlyphList().toUnicode(name);\r\n\t\t\tRectangle2D bounds = PDType1Font.ZAPF_DINGBATS.getPath(name).getBounds2D();\r\n\t\t\tfloat size = (float) Math.min(bounds.getWidth(), bounds.getHeight()) / 1000;\r\n\t\t\t// assume that checkmark has square size\r\n\t\t\t// the calculations approximate what Adobe is doing, i.e. put the glyph in the\r\n\t\t\t// middle\r\n\t\t\tfloat fontSize = (rect.getWidth() - lineWidth * 2) / size * 0.6666f;\r\n\t\t\tfloat xOffset = (float) (rect.getWidth() - (bounds.getWidth()) / 1000 * fontSize) / 2;\r\n\t\t\txOffset -= bounds.getX() / 1000 * fontSize;\r\n\t\t\tfloat yOffset = (float) (rect.getHeight() - (bounds.getHeight()) / 1000 * fontSize) / 2;\r\n\t\t\tyOffset -= bounds.getY() / 1000 * fontSize;\r\n\t\t\tyesAPCS.beginText();\r\n\t\t\tyesAPCS.setFont(PDType1Font.ZAPF_DINGBATS, 9);\r\n\t\t\tyesAPCS.newLineAtOffset(xOffset, yOffset);\r\n\t\t\tyesAPCS.showText(unicode);\r\n\t\t\tyesAPCS.endText();\r\n\t\t}\r\n\t\tyesAPCS.close();\r\n\t\treturn yesAP;\r\n\t}\r\n\r\n\tprivate static float getLineWidth(PDAnnotationWidget widget) {\r\n\r\n\t\tPDBorderStyleDictionary bs = widget.getBorderStyle();\r\n\t\tif (bs != null) {\r\n\t\t\treturn bs.getWidth();\r\n\t\t}\r\n\t\treturn 1;\r\n\t}\r\n\r\n\r\n[Sample test data image for the further understanding][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zHAkl.png","title":"How to add multiple checkbox values with same name using checkbox appearanceStream in PDFBox2","body":"<p>I am looking for adding up 2 or more checkbox values with same name as a single group checkbox values with different export values.</p>\n<p>If I try to add multiple checkbox values with the same name causing an issue. First checkbox alone drawing on pdf file. If I change the name then it's loading. How to resolve this issue.</p>\n<pre><code>for (StructElementDetail element : _pgstrele.getStructElementDetails()) {\n            try {\n                if ((element.getElementType().startsWith(&quot;TB&quot;))) {\n                    if (element.getIsFillableFormField()) {\n\n                        List&lt;Integer&gt; _int_bbox_list = convertBBOXtoIntegerList(element.getBBOX());\n                        Integer xVal = _int_bbox_list.get(0);\n                        Integer yVal = pageHeight - _int_bbox_list.get(1);\n                        Integer width = _int_bbox_list.get(2) - _int_bbox_list.get(0);\n                        Integer height = _int_bbox_list.get(1) - _int_bbox_list.get(3);\n                        String formFieldName = null, toolTip = null, fontSize = null, fontFamily = null;\n                        long maxLength = 12;\n                        Boolean required = false, multiLine = false, checkSpelling = false, combofChar = false;\n                        JSONArray formFieldProperties = (JSONArray) element.getFormFieldProperties();\n                        for (Object eleObj : formFieldProperties) {\n                            formFieldName = (String) ((JSONObject) eleObj).get(&quot;FormFieldName&quot;);\n                            toolTip = (String) ((JSONObject) eleObj).get(&quot;ToolTips&quot;);\n                            fontSize = (String) ((JSONObject) eleObj).get(&quot;FontSize&quot;);\n                            fontFamily = (String) ((JSONObject) eleObj).get(&quot;FontFamily&quot;);\n                            maxLength = (long) ((JSONObject) eleObj).get(&quot;MaxLength&quot;);\n                            required = (Boolean) ((JSONObject) eleObj).get(&quot;Required&quot;);\n                            multiLine = (Boolean) ((JSONObject) eleObj).get(&quot;MultiLine&quot;);\n                            checkSpelling = (Boolean) ((JSONObject) eleObj).get(&quot;CheckSpelling&quot;);\n                            combofChar = (Boolean) ((JSONObject) eleObj).get(&quot;CombofChar&quot;);\n                        }\n                        addTBField(acroForm, page, formFieldName, xVal, yVal, width, height, toolTip, fontSize,\n                                fontFamily, maxLength, required, multiLine, checkSpelling, combofChar);\n                    }\n                } else if ((element.getElementType().startsWith(&quot;CB&quot;))) {\n                    if (element.getIsFillableFormField()) {\n\n                        List&lt;Integer&gt; _int_bbox_list = convertBBOXtoIntegerList(element.getBBOX());\n                        Integer xVal = _int_bbox_list.get(0);\n                        Integer yVal = pageHeight - _int_bbox_list.get(1);\n                        Integer width = _int_bbox_list.get(2) - _int_bbox_list.get(0);\n                        Integer height = _int_bbox_list.get(1) - _int_bbox_list.get(3);\n                        String formFieldName = null, toolTip = null, exportValue = null;\n                        List&lt;String&gt; exportList = new ArrayList&lt;String&gt;();\n                        JSONArray formFieldProperties = (JSONArray) element.getFormFieldProperties();\n                        for (Object eleObj : formFieldProperties) {\n                            formFieldName = (String) ((JSONObject) eleObj).get(&quot;FormFieldName&quot;);\n                            toolTip = (String) ((JSONObject) eleObj).get(&quot;ToolTips&quot;);\n                            exportValue = (String) ((JSONObject) eleObj).get(&quot;ExportValue&quot;);\n                            exportList.add(exportValue);\n                        }\n                        addCBField(_pdfDocumentObj, acroForm, page, formFieldName, false, xVal, yVal, width, height,\n                                toolTip, exportList);\n                    }\n                }\n            } catch (Exception e) {\n                System.out.println(&quot;Error in Form Field&quot;);\n                e.printStackTrace();\n            }\n        }\n\n\nprivate static void addCBField(PDDocument document, PDAcroForm acroForm, PDPage page, String name, boolean checked,\n        float x, float y, float width, float height, String toolTip, List&lt;String&gt; exportList) {\n\n    try {\n\n        PDRectangle rect = new PDRectangle(x, y, width, height);\n\n        PDCheckBox checkbox = new PDCheckBox(acroForm);\n        checkbox.setPartialName(name);\n        PDAnnotationWidget widget = checkbox.getWidgets().get(0);\n        widget.setPage(page);\n        widget.setRectangle(rect);\n        widget.setPrinted(true);\n\n        PDAppearanceCharacteristicsDictionary appearanceCharacteristics = new PDAppearanceCharacteristicsDictionary(\n                new COSDictionary());\n\n        appearanceCharacteristics.setNormalCaption(&quot;4&quot;);\n        widget.setAppearanceCharacteristics(appearanceCharacteristics);\n\n        /*\n         * PDBorderStyleDictionary borderStyleDictionary = new\n         * PDBorderStyleDictionary(); borderStyleDictionary.setWidth(1);\n         * borderStyleDictionary.setStyle(PDBorderStyleDictionary.STYLE_SOLID);\n         * widget.setBorderStyle(borderStyleDictionary);\n         */\n\n        PDAppearanceDictionary ap = new PDAppearanceDictionary();\n        widget.setAppearance(ap);\n        PDAppearanceEntry normalAppearance = ap.getNormalAppearance();\n\n        COSDictionary normalAppearanceDict = (COSDictionary) normalAppearance.getCOSObject();\n        normalAppearanceDict.setItem(COSName.Off, createCheckBoxAppearanceStream(document, widget, false));\n        normalAppearanceDict.setItem(COSName.YES, createCheckBoxAppearanceStream(document, widget, true));\n\n        \n        page.getAnnotations().add(checkbox.getWidgets().get(0));\n        acroForm.getFields().add(checkbox);\n\n        checkbox.setAlternateFieldName(toolTip);\n        checkbox.setExportValues(exportList);\n\n        if (checked) {\n            checkbox.check();\n        } else {\n            checkbox.unCheck();\n        }\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n}\n\nprivate static PDAppearanceStream createCheckBoxAppearanceStream(final PDDocument document,\n        PDAnnotationWidget widget, boolean on) throws IOException {\n    PDRectangle rect = widget.getRectangle();\n    PDAppearanceCharacteristicsDictionary appearanceCharacteristics;\n    PDAppearanceStream yesAP = new PDAppearanceStream(document);\n    yesAP.setBBox(new PDRectangle(rect.getWidth(), rect.getHeight()));\n    yesAP.setResources(new PDResources());\n    PDPageContentStream yesAPCS = new PDPageContentStream(document, yesAP);\n    appearanceCharacteristics = widget.getAppearanceCharacteristics();\n    float lineWidth = getLineWidth(widget);\n    yesAPCS.setLineWidth(lineWidth); \n    yesAPCS.addRect(0, 0, rect.getWidth(), rect.getHeight());\n    yesAPCS.addRect(lineWidth / 2, lineWidth / 2, rect.getWidth() - lineWidth, rect.getHeight() - lineWidth);\n    if (!on) {\n        yesAPCS.close();\n        return yesAP;\n    }\n\n    yesAPCS.addRect(lineWidth, lineWidth, rect.getWidth() - lineWidth * 2, rect.getHeight() - lineWidth * 2);\n    yesAPCS.clip();\n\n    String normalCaption = appearanceCharacteristics.getNormalCaption();\n    if (normalCaption == null) {\n        normalCaption = &quot;4&quot;; \n    }\n\n    if (&quot;8&quot;.equals(normalCaption)) {\n        // Adobe paints a cross instead of using the Zapf Dingbats cross symbol\n        yesAPCS.setStrokingColor(0f);\n        yesAPCS.moveTo(lineWidth * 2, rect.getHeight() - lineWidth * 2);\n        yesAPCS.lineTo(rect.getWidth() - lineWidth * 2, lineWidth * 2);\n        yesAPCS.moveTo(rect.getWidth() - lineWidth * 2, rect.getHeight() - lineWidth * 2);\n        yesAPCS.lineTo(lineWidth * 2, lineWidth * 2);\n        yesAPCS.stroke();\n    } else {\n        // The caption is not unicode, but the Zapf Dingbats code in the PDF\n        // Thus convert it back to unicode\n        // Assume that only the first character is used.\n        String name = PDType1Font.ZAPF_DINGBATS.codeToName(normalCaption.codePointAt(0));\n        String unicode = PDType1Font.ZAPF_DINGBATS.getGlyphList().toUnicode(name);\n        Rectangle2D bounds = PDType1Font.ZAPF_DINGBATS.getPath(name).getBounds2D();\n        float size = (float) Math.min(bounds.getWidth(), bounds.getHeight()) / 1000;\n        // assume that checkmark has square size\n        // the calculations approximate what Adobe is doing, i.e. put the glyph in the\n        // middle\n        float fontSize = (rect.getWidth() - lineWidth * 2) / size * 0.6666f;\n        float xOffset = (float) (rect.getWidth() - (bounds.getWidth()) / 1000 * fontSize) / 2;\n        xOffset -= bounds.getX() / 1000 * fontSize;\n        float yOffset = (float) (rect.getHeight() - (bounds.getHeight()) / 1000 * fontSize) / 2;\n        yOffset -= bounds.getY() / 1000 * fontSize;\n        yesAPCS.beginText();\n        yesAPCS.setFont(PDType1Font.ZAPF_DINGBATS, 9);\n        yesAPCS.newLineAtOffset(xOffset, yOffset);\n        yesAPCS.showText(unicode);\n        yesAPCS.endText();\n    }\n    yesAPCS.close();\n    return yesAP;\n}\n\nprivate static float getLineWidth(PDAnnotationWidget widget) {\n\n    PDBorderStyleDictionary bs = widget.getBorderStyle();\n    if (bs != null) {\n        return bs.getWidth();\n    }\n    return 1;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/zHAkl.png\" rel=\"nofollow noreferrer\">Sample test data image for the further understanding</a></p>\n"},{"tags":["java","spring","junit"],"comments":[{"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"score":0,"creation_date":1659103932,"post_id":73167736,"comment_id":129222499,"body_markdown":"@SpringJUnitConfig uses JUnit 5 https://www.baeldung.com/spring-5-junit-config","body":"@SpringJUnitConfig uses JUnit 5 <a href=\"https://www.baeldung.com/spring-5-junit-config\" rel=\"nofollow noreferrer\">baeldung.com/spring-5-junit-config</a>"},{"owner":{"account_id":25598846,"reputation":21,"user_id":19374156,"display_name":"VadiMayer"},"score":0,"creation_date":1659171029,"post_id":73167736,"comment_id":129233486,"body_markdown":"ApplicationContext does not rise, I can&#39;t understand why","body":"ApplicationContext does not rise, I can&#39;t understand why"}],"answers":[{"tags":[],"owner":{"account_id":25598846,"reputation":21,"user_id":19374156,"display_name":"VadiMayer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659173878,"creation_date":1659173878,"answer_id":73174482,"question_id":73167736,"body_markdown":"Through torment, I found a solution. When switching to JUnit5 c JUnit4, did not delete in pom.xml old dependencies:\r\n\r\nneed delete:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;junit&lt;/groupId&gt;\r\n       &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n       &lt;version&gt;${junit.version}&lt;/version&gt;\r\n       &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nneed add:\r\n\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n        &lt;version&gt;5.8.2&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n     &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\r\n        &lt;version&gt;1.8.2&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand also need change import in classes:\r\n\r\n    import org.junit.jupiter.api.Test;","title":"java.lang.NullPointerException: Cannot invoke &quot;topjava.quest.service.DishService.getAll()&quot; because &quot;this.dishService&quot; is null","body":"<p>Through torment, I found a solution. When switching to JUnit5 c JUnit4, did not delete in pom.xml old dependencies:</p>\n<p>need delete:</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;junit&lt;/groupId&gt;\n   &lt;artifactId&gt;junit&lt;/artifactId&gt;\n   &lt;version&gt;${junit.version}&lt;/version&gt;\n   &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>need add:</p>\n<pre><code> &lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n    &lt;version&gt;5.8.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n &lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\n    &lt;version&gt;1.8.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and also need change import in classes:</p>\n<pre><code>import org.junit.jupiter.api.Test;\n</code></pre>\n"}],"owner":{"account_id":25598846,"reputation":21,"user_id":19374156,"display_name":"VadiMayer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73174482,"answer_count":1,"score":0,"last_activity_date":1659173878,"creation_date":1659102740,"question_id":73167736,"body_markdown":"For some reason, the service does not autowire.\r\n\r\nIn tests, can&#39;t use services it&#39;s throws exception `java.lang.NullPointerException`, example here:\r\n\r\n    public class DataJpaDishRepositoryTest extends AbstractServiceTest {\r\n    \r\n        @Autowired\r\n        private DishService dishService;\r\n    \r\n        @Test\r\n        public void getAllForRestaurant() {\r\n            DISH_MATCHER.assertMatch(dishService.getAll(), dishList);\r\n        }\r\n    }\r\n\r\n`class AbstractServiceTest`:\r\n\r\n    @SpringJUnitConfig(locations = {\r\n            &quot;classpath:spring/spring-db.xml&quot;,\r\n            &quot;classpath:spring/spring-app.xml&quot;})\r\n    @Sql(scripts = &quot;classpath:db/populateDB.sql&quot;, config = @SqlConfig(encoding = &quot;UTF-8&quot;))\r\n    public class AbstractServiceTest {\r\n    \r\n        //  Check root cause in JUnit: https://github.com/junit-team/junit4/pull/778\r\n        protected &lt;T extends Throwable&gt; void validateRootCause(Class&lt;T&gt; rootExceptionClass, Runnable runnable) {\r\n            assertThrows(rootExceptionClass, () -&gt; {\r\n                try {\r\n                    runnable.run();\r\n                } catch (Exception e) {\r\n                    throw ValidationUtil.getRootCause(e);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nSimilarly with other services. I think that Spring doesn&#39;t works, why? In logs doesn&#39;t start `AbstractTestContextBootstrapper`. \r\nBelow are the xml files. \r\n\r\n&lt;junit.version&gt;4.13.2&lt;/junit.version&gt;\r\n&lt;spring-data-jpa.version&gt;2.6.2&lt;/spring-data-jpa.version&gt;\r\n\r\n`spring-db.xml`, to shorten the code in stackoverflow.com, I removed xmlns:\r\n\r\n    \r\n        &lt;jdbc:initialize-database data-source=&quot;dataSource&quot; enabled=&quot;${database.init}&quot;&gt;\r\n            &lt;jdbc:script location=&quot;${jdbc.initLocation}&quot;/&gt;\r\n            &lt;jdbc:script encoding=&quot;utf-8&quot; location=&quot;classpath:db/populateDB.sql&quot;/&gt;\r\n        &lt;/jdbc:initialize-database&gt;\r\n    \r\n        &lt;tx:annotation-driven/&gt;\r\n    \r\n        &lt;bean class=&quot;org.springframework.beans.factory.config.MethodInvokingBean&quot;&gt;\r\n            &lt;property name=&quot;staticMethod&quot; value=&quot;org.slf4j.bridge.SLF4JBridgeHandler.install&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;context:property-placeholder location=&quot;classpath:db/postgres.properties&quot; system-properties-mode=&quot;OVERRIDE&quot;/&gt;\r\n    \r\n        &lt;bean id=&quot;dataSource&quot;\r\n              class=&quot;org.apache.tomcat.jdbc.pool.DataSource&quot;\r\n              p:driverClassName=&quot;org.postgresql.Driver&quot;\r\n              p:url=&quot;${database.url}&quot;\r\n              p:username=&quot;${database.username}&quot;\r\n              p:password=&quot;${database.password}&quot;/&gt;\r\n    \r\n        &lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;\r\n              p:dataSource-ref=&quot;dataSource&quot;\r\n              p:packagesToScan=&quot;topjava.quest.model&quot;&gt;\r\n            &lt;property name=&quot;jpaPropertyMap&quot;&gt;\r\n                &lt;map&gt;\r\n                    &lt;entry key=&quot;#{T(org.hibernate.cfg.AvailableSettings).FORMAT_SQL}&quot; value=&quot;${hibernate.format_sql}&quot;/&gt;\r\n                    &lt;entry key=&quot;#{T(org.hibernate.cfg.AvailableSettings).USE_SQL_COMMENTS}&quot;\r\n                           value=&quot;${hibernate.use_sql_comments}&quot;/&gt;\r\n                    &lt;entry key=&quot;#{T(org.hibernate.cfg.AvailableSettings).JPA_PROXY_COMPLIANCE}&quot;\r\n                           value=&quot;${hibernate.jpa_proxy_compliance}&quot;/&gt;\r\n                    &lt;!--https://github.com/hibernate/hibernate-orm/blob/master/documentation/src/main/asciidoc/userguide/chapters/caching/Caching.adoc#caching-provider-jcache--&gt;\r\n                    &lt;entry key=&quot;#{T(org.hibernate.cfg.AvailableSettings).CACHE_REGION_FACTORY}&quot; value=&quot;org.hibernate.cache.jcache.internal.JCacheRegionFactory&quot;/&gt;\r\n                    &lt;entry key=&quot;#{T(org.hibernate.cfg.AvailableSettings).USE_SECOND_LEVEL_CACHE}&quot; value=&quot;true&quot;/&gt;\r\n                    &lt;entry key=&quot;#{T(org.hibernate.cfg.AvailableSettings).USE_QUERY_CACHE}&quot; value=&quot;false&quot;/&gt; &lt;!--default--&gt;\r\n                    &lt;entry key=&quot;#{T(org.hibernate.cache.jcache.ConfigSettings).PROVIDER}&quot; value=&quot;org.ehcache.jsr107.EhcacheCachingProvider&quot;/&gt;\r\n                &lt;/map&gt;\r\n            &lt;/property&gt;\r\n    \r\n            &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n                &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot; p:showSql=&quot;${jpa.showSql}&quot;/&gt;\r\n            &lt;/property&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;\r\n              p:entityManagerFactory-ref=&quot;entityManagerFactory&quot;/&gt;\r\n    \r\n        &lt;context:component-scan base-package=&quot;topjava.quest.repository.datajpa&quot;/&gt;\r\n        &lt;jpa:repositories base-package=&quot;topjava.quest.repository.datajpa&quot;/&gt;\r\n\r\n`spring-app.xml`:\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n           http://www.springframework.org/schema/beans/spring-beans.xsd\r\n           http://www.springframework.org/schema/context\r\n           https://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n    \r\n        &lt;import resource=&quot;spring-cache.xml&quot;/&gt;\r\n        &lt;import resource=&quot;spring-security.xml&quot;/&gt;\r\n    \r\n        &lt;context:component-scan base-package=&quot;topjava.quest.service&quot;/&gt;\r\n    &lt;/beans&gt;\r\n\r\n","title":"java.lang.NullPointerException: Cannot invoke &quot;topjava.quest.service.DishService.getAll()&quot; because &quot;this.dishService&quot; is null","body":"<p>For some reason, the service does not autowire.</p>\n<p>In tests, can't use services it's throws exception <code>java.lang.NullPointerException</code>, example here:</p>\n<pre><code>public class DataJpaDishRepositoryTest extends AbstractServiceTest {\n\n    @Autowired\n    private DishService dishService;\n\n    @Test\n    public void getAllForRestaurant() {\n        DISH_MATCHER.assertMatch(dishService.getAll(), dishList);\n    }\n}\n</code></pre>\n<p><code>class AbstractServiceTest</code>:</p>\n<pre><code>@SpringJUnitConfig(locations = {\n        &quot;classpath:spring/spring-db.xml&quot;,\n        &quot;classpath:spring/spring-app.xml&quot;})\n@Sql(scripts = &quot;classpath:db/populateDB.sql&quot;, config = @SqlConfig(encoding = &quot;UTF-8&quot;))\npublic class AbstractServiceTest {\n\n    //  Check root cause in JUnit: https://github.com/junit-team/junit4/pull/778\n    protected &lt;T extends Throwable&gt; void validateRootCause(Class&lt;T&gt; rootExceptionClass, Runnable runnable) {\n        assertThrows(rootExceptionClass, () -&gt; {\n            try {\n                runnable.run();\n            } catch (Exception e) {\n                throw ValidationUtil.getRootCause(e);\n            }\n        });\n    }\n}\n</code></pre>\n<p>Similarly with other services. I think that Spring doesn't works, why? In logs doesn't start <code>AbstractTestContextBootstrapper</code>.\nBelow are the xml files.</p>\n<p>&lt;junit.version&gt;4.13.2&lt;/junit.version&gt;\n&lt;spring-data-jpa.version&gt;2.6.2&lt;/spring-data-jpa.version&gt;</p>\n<p><code>spring-db.xml</code>, to shorten the code in stackoverflow.com, I removed xmlns:</p>\n<pre><code>    &lt;jdbc:initialize-database data-source=&quot;dataSource&quot; enabled=&quot;${database.init}&quot;&gt;\n        &lt;jdbc:script location=&quot;${jdbc.initLocation}&quot;/&gt;\n        &lt;jdbc:script encoding=&quot;utf-8&quot; location=&quot;classpath:db/populateDB.sql&quot;/&gt;\n    &lt;/jdbc:initialize-database&gt;\n\n    &lt;tx:annotation-driven/&gt;\n\n    &lt;bean class=&quot;org.springframework.beans.factory.config.MethodInvokingBean&quot;&gt;\n        &lt;property name=&quot;staticMethod&quot; value=&quot;org.slf4j.bridge.SLF4JBridgeHandler.install&quot;/&gt;\n    &lt;/bean&gt;\n\n    &lt;context:property-placeholder location=&quot;classpath:db/postgres.properties&quot; system-properties-mode=&quot;OVERRIDE&quot;/&gt;\n\n    &lt;bean id=&quot;dataSource&quot;\n          class=&quot;org.apache.tomcat.jdbc.pool.DataSource&quot;\n          p:driverClassName=&quot;org.postgresql.Driver&quot;\n          p:url=&quot;${database.url}&quot;\n          p:username=&quot;${database.username}&quot;\n          p:password=&quot;${database.password}&quot;/&gt;\n\n    &lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;\n          p:dataSource-ref=&quot;dataSource&quot;\n          p:packagesToScan=&quot;topjava.quest.model&quot;&gt;\n        &lt;property name=&quot;jpaPropertyMap&quot;&gt;\n            &lt;map&gt;\n                &lt;entry key=&quot;#{T(org.hibernate.cfg.AvailableSettings).FORMAT_SQL}&quot; value=&quot;${hibernate.format_sql}&quot;/&gt;\n                &lt;entry key=&quot;#{T(org.hibernate.cfg.AvailableSettings).USE_SQL_COMMENTS}&quot;\n                       value=&quot;${hibernate.use_sql_comments}&quot;/&gt;\n                &lt;entry key=&quot;#{T(org.hibernate.cfg.AvailableSettings).JPA_PROXY_COMPLIANCE}&quot;\n                       value=&quot;${hibernate.jpa_proxy_compliance}&quot;/&gt;\n                &lt;!--https://github.com/hibernate/hibernate-orm/blob/master/documentation/src/main/asciidoc/userguide/chapters/caching/Caching.adoc#caching-provider-jcache--&gt;\n                &lt;entry key=&quot;#{T(org.hibernate.cfg.AvailableSettings).CACHE_REGION_FACTORY}&quot; value=&quot;org.hibernate.cache.jcache.internal.JCacheRegionFactory&quot;/&gt;\n                &lt;entry key=&quot;#{T(org.hibernate.cfg.AvailableSettings).USE_SECOND_LEVEL_CACHE}&quot; value=&quot;true&quot;/&gt;\n                &lt;entry key=&quot;#{T(org.hibernate.cfg.AvailableSettings).USE_QUERY_CACHE}&quot; value=&quot;false&quot;/&gt; &lt;!--default--&gt;\n                &lt;entry key=&quot;#{T(org.hibernate.cache.jcache.ConfigSettings).PROVIDER}&quot; value=&quot;org.ehcache.jsr107.EhcacheCachingProvider&quot;/&gt;\n            &lt;/map&gt;\n        &lt;/property&gt;\n\n        &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\n            &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot; p:showSql=&quot;${jpa.showSql}&quot;/&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;\n          p:entityManagerFactory-ref=&quot;entityManagerFactory&quot;/&gt;\n\n    &lt;context:component-scan base-package=&quot;topjava.quest.repository.datajpa&quot;/&gt;\n    &lt;jpa:repositories base-package=&quot;topjava.quest.repository.datajpa&quot;/&gt;\n</code></pre>\n<p><code>spring-app.xml</code>:</p>\n<pre><code>&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n       http://www.springframework.org/schema/beans/spring-beans.xsd\n       http://www.springframework.org/schema/context\n       https://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\n\n    &lt;import resource=&quot;spring-cache.xml&quot;/&gt;\n    &lt;import resource=&quot;spring-security.xml&quot;/&gt;\n\n    &lt;context:component-scan base-package=&quot;topjava.quest.service&quot;/&gt;\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","apache-spark","apache-spark-sql","cassandra","spark-cassandra-connector"],"answers":[{"tags":[],"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1555502448,"creation_date":1555502448,"answer_id":55727125,"question_id":55726463,"body_markdown":"There is no such thing as `DataFrame` in Java - it&#39;s always `DataSet` of class `Row`. In Scala, there is simple alias for that...\r\n\r\nHere is the minimal example of Java code that reads data from Cassandra via `spark.sql`:\r\n\r\n    import org.apache.spark.sql.Dataset;\r\n    import org.apache.spark.sql.Row;\r\n    import org.apache.spark.sql.SparkSession;\r\n    \r\n    public class SparkTest1 {\r\n    \r\n      public static void main(String[] args) {\r\n        SparkSession spark = SparkSession\r\n        .builder()\r\n        .appName(&quot;CassandraSpark&quot;)\r\n        .getOrCreate();\r\n        \r\n        Dataset&lt;Row&gt; sqlDF = spark.sql(&quot;select * from datastax.vehicle limit 1000&quot;);\r\n        sqlDF.printSchema();\r\n        sqlDF.show();\r\n      }\r\n    \r\n    }\r\n\r\nor it could be done via `spark.read` ([full code][1]):\r\n\r\n    Dataset&lt;Row&gt; dataset = spark.read()\r\n            .format(&quot;org.apache.spark.sql.cassandra&quot;)\r\n            .options(ImmutableMap.of(&quot;table&quot;, &quot;jtest&quot;, &quot;keyspace&quot;, &quot;test&quot;))\r\n            .load();\r\n\r\n\r\n  [1]: https://github.com/alexott/dse-java-playground/blob/master/src/main/java/com/datastax/alexott/demos/spark/JoinTests.java#L36","title":"[spark-cassandra-connector]How to convert scala implicit supported code to java in spark 2.3.1","body":"<p>There is no such thing as <code>DataFrame</code> in Java - it's always <code>DataSet</code> of class <code>Row</code>. In Scala, there is simple alias for that...</p>\n\n<p>Here is the minimal example of Java code that reads data from Cassandra via <code>spark.sql</code>:</p>\n\n<pre><code>import org.apache.spark.sql.Dataset;\nimport org.apache.spark.sql.Row;\nimport org.apache.spark.sql.SparkSession;\n\npublic class SparkTest1 {\n\n  public static void main(String[] args) {\n    SparkSession spark = SparkSession\n    .builder()\n    .appName(\"CassandraSpark\")\n    .getOrCreate();\n\n    Dataset&lt;Row&gt; sqlDF = spark.sql(\"select * from datastax.vehicle limit 1000\");\n    sqlDF.printSchema();\n    sqlDF.show();\n  }\n\n}\n</code></pre>\n\n<p>or it could be done via <code>spark.read</code> (<a href=\"https://github.com/alexott/dse-java-playground/blob/master/src/main/java/com/datastax/alexott/demos/spark/JoinTests.java#L36\" rel=\"nofollow noreferrer\">full code</a>):</p>\n\n<pre><code>Dataset&lt;Row&gt; dataset = spark.read()\n        .format(\"org.apache.spark.sql.cassandra\")\n        .options(ImmutableMap.of(\"table\", \"jtest\", \"keyspace\", \"test\"))\n        .load();\n</code></pre>\n"}],"owner":{"account_id":15143507,"reputation":462,"user_id":10927888,"display_name":"Shasu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55727125,"answer_count":1,"score":0,"last_activity_date":1659173644,"creation_date":1555500296,"question_id":55726463,"body_markdown":"I am trying to refactor spark-cassandra used project from scala_2.11 to java_1.8.\r\nI am using spark-sql_2.11-2..3.1 and spark-cassandra-connector_2.11-2.3.1.\r\nNow i am trying to refactor code into java 1.8.\r\n\r\nI have few implicits and DataFrame been used.\r\n\r\n    import com.datastax.spark.connector._\r\n    import spark.implicits._\r\n        &amp;\r\n    import org.apache.spark.sql.DataFrame\r\n     \r\nNow how to covert them into equivalent java code ? any sample ?\r\n\r\nimport of DataFrame is not recognized/defined , working fine with scala 2.11 now it is not working ...\r\n\r\nWhat am I doing wrong here ? How to fix it ?\r\n\r\n","title":"[spark-cassandra-connector]How to convert scala implicit supported code to java in spark 2.3.1","body":"<p>I am trying to refactor spark-cassandra used project from scala_2.11 to java_1.8.\nI am using spark-sql_2.11-2..3.1 and spark-cassandra-connector_2.11-2.3.1.\nNow i am trying to refactor code into java 1.8.</p>\n\n<p>I have few implicits and DataFrame been used.</p>\n\n<pre><code>import com.datastax.spark.connector._\nimport spark.implicits._\n    &amp;\nimport org.apache.spark.sql.DataFrame\n</code></pre>\n\n<p>Now how to covert them into equivalent java code ? any sample ?</p>\n\n<p>import of DataFrame is not recognized/defined , working fine with scala 2.11 now it is not working ...</p>\n\n<p>What am I doing wrong here ? How to fix it ?</p>\n"},{"tags":["java","apache-spark","cassandra","spark-cassandra-connector"],"answers":[{"tags":[],"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550156162,"creation_date":1550156162,"answer_id":54693257,"question_id":54663700,"body_markdown":"You can try to use [Spark Cassandra Connector Embedded][1] - for many test cases it should work, I think that only for Spark Streaming jobs it may need real Cassandra.\r\n\r\nSetup depends on your package manager - for example, for SBT it will be: \r\n\r\n    &quot;com.datastax.spark&quot;  %% &quot;spark-cassandra-connector-embedded&quot; % {version}\r\n\r\nLatest version is 2.4.0, but you may need to use another, depending on the version of Spark that you&#39;re using...\r\n\r\n\r\n  [1]: https://github.com/datastax/spark-cassandra-connector/blob/master/doc/10_embedded.md","title":"How to create a CassandraTableScanJavaRDD without connecting to Cassandra?","body":"<p>You can try to use <a href=\"https://github.com/datastax/spark-cassandra-connector/blob/master/doc/10_embedded.md\" rel=\"nofollow noreferrer\">Spark Cassandra Connector Embedded</a> - for many test cases it should work, I think that only for Spark Streaming jobs it may need real Cassandra.</p>\n\n<p>Setup depends on your package manager - for example, for SBT it will be: </p>\n\n<pre><code>\"com.datastax.spark\"  %% \"spark-cassandra-connector-embedded\" % {version}\n</code></pre>\n\n<p>Latest version is 2.4.0, but you may need to use another, depending on the version of Spark that you're using...</p>\n"}],"owner":{"account_id":3195352,"reputation":466,"user_id":2698630,"display_name":"raizsh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659173625,"creation_date":1550038434,"question_id":54663700,"body_markdown":"I am trying to unit test my method which connects to Cassandra and executes a select statement. The returned CassandraTableScanJavaRDD is then converted to a dataframe and further processing is done. \r\n\r\nFor my unit test, I don&#39;t wish to use an embedded cassandra. I am trying to mock CassandraTableScanJavaRDD using mockito. But I am not able to put some dummy data in it. \r\nHow do I create a CassandraTableScanJavaRDD instance and have store some data in it, without actually connecting to cassandra. \r\n\r\n","title":"How to create a CassandraTableScanJavaRDD without connecting to Cassandra?","body":"<p>I am trying to unit test my method which connects to Cassandra and executes a select statement. The returned CassandraTableScanJavaRDD is then converted to a dataframe and further processing is done. </p>\n\n<p>For my unit test, I don't wish to use an embedded cassandra. I am trying to mock CassandraTableScanJavaRDD using mockito. But I am not able to put some dummy data in it. \nHow do I create a CassandraTableScanJavaRDD instance and have store some data in it, without actually connecting to cassandra. </p>\n"},{"tags":["java","spring-boot","localdatetime"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1659172715,"post_id":73174192,"comment_id":129233830,"body_markdown":"Format you specified is - `yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX`, but the string you provide does not match it(your input is only a date). Required format and input format must match entirely.","body":"Format you specified is - <code>yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX</code>, but the string you provide does not match it(your input is only a date). Required format and input format must match entirely."}],"answers":[{"tags":[],"owner":{"account_id":25931878,"reputation":1,"user_id":19652810,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659172908,"creation_date":1659172908,"answer_id":73174359,"question_id":73174192,"body_markdown":"DateTimeFormat.ISO.DATE_TIME is a format that expects date and time, but your request just includes the date. Try DateTimeFormat.ISO.DATE instead.","title":"Use LocalDateTime RequestParam in Spring boot","body":"<p>DateTimeFormat.ISO.DATE_TIME is a format that expects date and time, but your request just includes the date. Try DateTimeFormat.ISO.DATE instead.</p>\n"},{"tags":[],"owner":{"account_id":14358906,"reputation":453,"user_id":10371864,"display_name":"Abhinav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659173151,"creation_date":1659173151,"answer_id":73174390,"question_id":73174192,"body_markdown":"The error is self-explanatory:\r\n\r\n\r\n&gt; Parse attempt failed for value [2022-07-28]]\r\n\r\n\r\nI think you want your `startDate` and `endDate` to be of type `LocalDate` and not `LocalDateTime` because you want to represent dates.\r\n\r\nAnyway, you are passing the query parameters in wrong `DateTimeFormat`. Instead of `DateTimeFormat.ISO.DATE_TIME`, you should use `DateTimeFormat.ISO.DATE`.\r\n\r\n```java\r\npublic ResponseData getTotalRevenue(@RequestParam(value = &quot;startDate&quot;)\r\n                                    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) LocalDateTime startDate,\r\n                                    @RequestParam(value = &quot;endDate&quot;)\r\n                                    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) LocalDateTime endDate) {\r\n    //....\r\n}\r\n```\r\n\r\n[Here][1] is an example for your reference.\r\n\r\nLook at the [documentation][2] for all the ISO formats.\r\n\r\n\r\n  [1]: https://github.com/eugenp/tutorials/blob/master/spring-web-modules/spring-mvc-java-2/src/main/java/com/baeldung/datetime/DateTimeController.java\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/format/annotation/DateTimeFormat.ISO.html","title":"Use LocalDateTime RequestParam in Spring boot","body":"<p>The error is self-explanatory:</p>\n<blockquote>\n<p>Parse attempt failed for value [2022-07-28]]</p>\n</blockquote>\n<p>I think you want your <code>startDate</code> and <code>endDate</code> to be of type <code>LocalDate</code> and not <code>LocalDateTime</code> because you want to represent dates.</p>\n<p>Anyway, you are passing the query parameters in wrong <code>DateTimeFormat</code>. Instead of <code>DateTimeFormat.ISO.DATE_TIME</code>, you should use <code>DateTimeFormat.ISO.DATE</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ResponseData getTotalRevenue(@RequestParam(value = &quot;startDate&quot;)\n                                    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) LocalDateTime startDate,\n                                    @RequestParam(value = &quot;endDate&quot;)\n                                    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) LocalDateTime endDate) {\n    //....\n}\n</code></pre>\n<p><a href=\"https://github.com/eugenp/tutorials/blob/master/spring-web-modules/spring-mvc-java-2/src/main/java/com/baeldung/datetime/DateTimeController.java\" rel=\"nofollow noreferrer\">Here</a> is an example for your reference.</p>\n<p>Look at the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/format/annotation/DateTimeFormat.ISO.html\" rel=\"nofollow noreferrer\">documentation</a> for all the ISO formats.</p>\n"}],"owner":{"account_id":16706097,"reputation":75,"user_id":16822059,"display_name":"namkellbi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":897,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1659173151,"creation_date":1659171267,"question_id":73174192,"body_markdown":"I have a problem when I try to use RequestParam with a LocalDateTime:\r\n\r\n    public ResponseData getTotalRevenue(@RequestParam(value = &quot;startDate&quot;)\r\n                                        @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME) LocalDateTime startDate,\r\n                                        @RequestParam(value = &quot;endDate&quot;)\r\n                                        @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME) LocalDateTime endDate){\r\n                            //....\r\n                }\r\n\r\nI test with this params :\r\n\r\n    /total-revenue?startDate=2022-07-28&amp;endDate=2022-08-20\r\n\r\nI get the following error:\r\n\r\n    Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.time.LocalDateTime&#39;; nested exception is org.springframework.core.convert.ConversionFailedException: \r\n    Failed to convert from type [java.lang.String] to type [@org.springframework.web.bind.annotation.RequestParam @org.springframework.format.annotation.DateTimeFormat java.time.LocalDateTime] \r\n    for value &#39;2022-07-28&#39;; nested exception is java.lang.IllegalArgumentException: Parse attempt failed for value [2022-07-28]]\r\n\r\n\r\nAnyone can help me? Thank you so much.","title":"Use LocalDateTime RequestParam in Spring boot","body":"<p>I have a problem when I try to use RequestParam with a LocalDateTime:</p>\n<pre><code>public ResponseData getTotalRevenue(@RequestParam(value = &quot;startDate&quot;)\n                                    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME) LocalDateTime startDate,\n                                    @RequestParam(value = &quot;endDate&quot;)\n                                    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME) LocalDateTime endDate){\n                        //....\n            }\n</code></pre>\n<p>I test with this params :</p>\n<pre><code>/total-revenue?startDate=2022-07-28&amp;endDate=2022-08-20\n</code></pre>\n<p>I get the following error:</p>\n<pre><code>Failed to convert value of type 'java.lang.String' to required type 'java.time.LocalDateTime'; nested exception is org.springframework.core.convert.ConversionFailedException: \nFailed to convert from type [java.lang.String] to type [@org.springframework.web.bind.annotation.RequestParam @org.springframework.format.annotation.DateTimeFormat java.time.LocalDateTime] \nfor value '2022-07-28'; nested exception is java.lang.IllegalArgumentException: Parse attempt failed for value [2022-07-28]]\n</code></pre>\n<p>Anyone can help me? Thank you so much.</p>\n"},{"tags":["java","apache-spark","cassandra","spark-cassandra-connector"],"answers":[{"tags":[],"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1562151259,"creation_date":1562151259,"answer_id":56868518,"question_id":56867238,"body_markdown":"The correct solution should be to perform join between your data, and Casasndra table. There is [joinWithCassandraTable function][1] that is doing what you need - you just generate RDD of `Tuple2` that contains values for `p1` &amp; `p2`, and then call joinWithCassandra table, something like this (not tested, adopted from my example [here][2]):\r\n\r\n\r\n```java\r\nJavaRDD&lt;Tuple2&lt;Integer, Integer&gt;&gt; trdd = cartesian.map(new Function&lt;Tuple2&lt;DateTime, Integer&gt;, Tuple2&lt;Integer, Integer&gt;&gt;() {\r\n        @Override\r\n        public Tuple2&lt;Integer, Integer&gt; call(Tuple2&lt;DateTime, Integer&gt; tuple2) throws Exception {\r\n            return new Tuple2&lt;Integer, Integer&gt;(tuple2._1(), tuple2._2());\r\n        }\r\n    });\r\nCassandraJavaPairRDD&lt;Tuple2&lt;Integer, Integer&gt;, Tuple2&lt;Integer, String&gt;&gt; joinedRDD =\r\n     trdd.joinWithCassandraTable(&quot;test&quot;, &quot;jtest&quot;,\r\n     someColumns(&quot;p1&quot;, &quot;p2&quot;), someColumns(&quot;p1&quot;, &quot;p2&quot;),\r\n     mapRowToTuple(Integer.class, String.class), mapTupleToRow(Integer.class));\r\n// perform counting here...\r\n\r\n```\r\n\r\n\r\n  [1]: https://github.com/datastax/spark-cassandra-connector/blob/master/doc/2_loading.md#performing-efficient-joins-with-cassandra-tables-since-12\r\n  [2]: https://github.com/alexott/dse-java-playground/blob/master/src/main/java/com/datastax/alexott/demos/spark/JoinTestsRDD.java","title":"How To Run Multiple Spark Cassandra Query","body":"<p>The correct solution should be to perform join between your data, and Casasndra table. There is <a href=\"https://github.com/datastax/spark-cassandra-connector/blob/master/doc/2_loading.md#performing-efficient-joins-with-cassandra-tables-since-12\" rel=\"nofollow noreferrer\">joinWithCassandraTable function</a> that is doing what you need - you just generate RDD of <code>Tuple2</code> that contains values for <code>p1</code> &amp; <code>p2</code>, and then call joinWithCassandra table, something like this (not tested, adopted from my example <a href=\"https://github.com/alexott/dse-java-playground/blob/master/src/main/java/com/datastax/alexott/demos/spark/JoinTestsRDD.java\" rel=\"nofollow noreferrer\">here</a>):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>JavaRDD&lt;Tuple2&lt;Integer, Integer&gt;&gt; trdd = cartesian.map(new Function&lt;Tuple2&lt;DateTime, Integer&gt;, Tuple2&lt;Integer, Integer&gt;&gt;() {\n        @Override\n        public Tuple2&lt;Integer, Integer&gt; call(Tuple2&lt;DateTime, Integer&gt; tuple2) throws Exception {\n            return new Tuple2&lt;Integer, Integer&gt;(tuple2._1(), tuple2._2());\n        }\n    });\nCassandraJavaPairRDD&lt;Tuple2&lt;Integer, Integer&gt;, Tuple2&lt;Integer, String&gt;&gt; joinedRDD =\n     trdd.joinWithCassandraTable(\"test\", \"jtest\",\n     someColumns(\"p1\", \"p2\"), someColumns(\"p1\", \"p2\"),\n     mapRowToTuple(Integer.class, String.class), mapTupleToRow(Integer.class));\n// perform counting here...\n\n</code></pre>\n"}],"owner":{"account_id":3068708,"reputation":185,"user_id":2599860,"accept_rate":8,"display_name":"Yılmaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56868518,"answer_count":1,"score":1,"last_activity_date":1659172975,"creation_date":1562146936,"question_id":56867238,"body_markdown":"I need to run such a task below. Somehow, I am missing a point. I know, I cannot use javasparkcontext like this and pass javafunctions since there is serialization problem.\r\n\r\n I need to run multiple cassandra queries at size cartesian.size(). Is there any advice?\r\n    \r\n    JavaSparkContext jsc = new JavaSparkContext(conf);\r\n        JavaRDD&lt;DateTime&gt; dateTimeJavaRDD = jsc.parallelize(dateTimes); //List&lt;DateTime&gt;\r\n        JavaRDD&lt;Integer&gt; virtualPartitionJavaRDD = jsc.parallelize(virtualPartitions); //List&lt;Integer&gt;\r\n        JavaPairRDD&lt;DateTime, Integer&gt; cartesian = dateTimeJavaRDD.cartesian(virtualPartitionJavaRDD);\r\n    \r\n        long c = cartesian.map(new Function&lt;Tuple2&lt;DateTime, Integer&gt;, Long&gt;() {\r\n            @Override\r\n            public Long call(Tuple2&lt;DateTime, Integer&gt; tuple2) throws Exception {\r\n                return javaFunctions(jsc).cassandraTable(&quot;keyspace&quot;, &quot;table&quot;).where(&quot;p1 = ? and  p2 = ?&quot;, tuple2._1(), tuple2._2()).count();\r\n            }\r\n        }).reduce((a,b) -&gt; a + b);\r\n    \r\n    \r\n        System.out.println(&quot;TOTAL ROW COUNT IS: &quot; + c);","title":"How To Run Multiple Spark Cassandra Query","body":"<p>I need to run such a task below. Somehow, I am missing a point. I know, I cannot use javasparkcontext like this and pass javafunctions since there is serialization problem.</p>\n\n<p>I need to run multiple cassandra queries at size cartesian.size(). Is there any advice?</p>\n\n<pre><code>JavaSparkContext jsc = new JavaSparkContext(conf);\n    JavaRDD&lt;DateTime&gt; dateTimeJavaRDD = jsc.parallelize(dateTimes); //List&lt;DateTime&gt;\n    JavaRDD&lt;Integer&gt; virtualPartitionJavaRDD = jsc.parallelize(virtualPartitions); //List&lt;Integer&gt;\n    JavaPairRDD&lt;DateTime, Integer&gt; cartesian = dateTimeJavaRDD.cartesian(virtualPartitionJavaRDD);\n\n    long c = cartesian.map(new Function&lt;Tuple2&lt;DateTime, Integer&gt;, Long&gt;() {\n        @Override\n        public Long call(Tuple2&lt;DateTime, Integer&gt; tuple2) throws Exception {\n            return javaFunctions(jsc).cassandraTable(\"keyspace\", \"table\").where(\"p1 = ? and  p2 = ?\", tuple2._1(), tuple2._2()).count();\n        }\n    }).reduce((a,b) -&gt; a + b);\n\n\n    System.out.println(\"TOTAL ROW COUNT IS: \" + c);\n</code></pre>\n"},{"tags":["java","jackson","jsonschema"],"comments":[{"owner":{"account_id":7072373,"reputation":3737,"user_id":5413565,"display_name":"Mushif Ali Nawaz"},"score":3,"creation_date":1568719117,"post_id":57973061,"comment_id":102356088,"body_markdown":"You can use a `Map&lt;String, EmployeeDTO&gt;` where the `empName` will be `key` and the `EmployeeDTO` object will be its value.","body":"You can use a <code>Map&lt;String, EmployeeDTO&gt;</code> where the <code>empName</code> will be <code>key</code> and the <code>EmployeeDTO</code> object will be its value."},{"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"score":1,"creation_date":1568735694,"post_id":57973061,"comment_id":102365495,"body_markdown":"thanks for chiming in. but i am looking for the json schema, not pojo.","body":"thanks for chiming in. but i am looking for the json schema, not pojo."},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1568738695,"post_id":57973061,"comment_id":102366802,"body_markdown":"I am not sure your question is clear. You want to build JSON dynamically and then generate schema for it?","body":"I am not sure your question is clear. You want to build JSON dynamically and then generate schema for it?"},{"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"score":0,"creation_date":1568741822,"post_id":57973061,"comment_id":102368140,"body_markdown":"Nope. I want to write the JSON schema which will be used by jackson to generate POJO sources which will be used in my code to populate data. So when I return the REST response, the entity will have this POJO, and it will be returned as JSON string in schema format. Bit clear now?","body":"Nope. I want to write the JSON schema which will be used by jackson to generate POJO sources which will be used in my code to populate data. So when I return the REST response, the entity will have this POJO, and it will be returned as JSON string in schema format. Bit clear now?"},{"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"score":0,"creation_date":1568742405,"post_id":57973061,"comment_id":102368412,"body_markdown":"added a note at bottom of question.","body":"added a note at bottom of question."},{"owner":{"account_id":4730323,"reputation":355,"user_id":3826160,"display_name":"Achu"},"score":0,"creation_date":1568742685,"post_id":57973061,"comment_id":102368526,"body_markdown":"I understand `empName` should be the key and the value should be rest JSON. But in your expected result I see `empName` as `john` but the key is `jdoe123` from where that comes in or it&#39;s typo ?","body":"I understand <code>empName</code> should be the key and the value should be rest JSON. But in your expected result I see <code>empName</code> as <code>john</code> but the key is <code>jdoe123</code> from where that comes in or it&#39;s typo ?"},{"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"score":0,"creation_date":1568743191,"post_id":57973061,"comment_id":102368705,"body_markdown":"sorry, typo. edited.","body":"sorry, typo. edited."},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1568743363,"post_id":57973061,"comment_id":102368776,"body_markdown":"Relevant? https://stackoverflow.com/questions/28697209/json-schema-for-dynamic-properties","body":"Relevant? <a href=\"https://stackoverflow.com/questions/28697209/json-schema-for-dynamic-properties\" title=\"json schema for dynamic properties\">stackoverflow.com/questions/28697209/&hellip;</a>"},{"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"score":1,"creation_date":1568743660,"post_id":57973061,"comment_id":102368888,"body_markdown":"Ooops... I expected json schema to play a part in this response process while it just generates the POJO. Suddenly the Map idea came to mind which @MushifAliNawaz already mentioned above. This solved my problem. So in my case, schema is used only for the DTO generation, which also wasnt mandatory if I had created the POJOs myself as I am only consumer of those. Thanks guys, and sorry for the trouble. I just got deviated from main issue to other things.","body":"Ooops... I expected json schema to play a part in this response process while it just generates the POJO. Suddenly the Map idea came to mind which @MushifAliNawaz already mentioned above. This solved my problem. So in my case, schema is used only for the DTO generation, which also wasnt mandatory if I had created the POJOs myself as I am only consumer of those. Thanks guys, and sorry for the trouble. I just got deviated from main issue to other things."},{"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"score":0,"creation_date":1568743992,"post_id":57973061,"comment_id":102369045,"body_markdown":"But anyways, if a json schema is possible, as i mistakenly asked, that will also be helpful for api response contracts.","body":"But anyways, if a json schema is possible, as i mistakenly asked, that will also be helpful for api response contracts."},{"owner":{"account_id":7072373,"reputation":3737,"user_id":5413565,"display_name":"Mushif Ali Nawaz"},"score":0,"creation_date":1568746245,"post_id":57973061,"comment_id":102370003,"body_markdown":"@xploreraj I&#39;m glad that my proposed solution solved your problem.","body":"@xploreraj I&#39;m glad that my proposed solution solved your problem."}],"answers":[{"tags":[],"owner":{"account_id":7072373,"reputation":3737,"user_id":5413565,"display_name":"Mushif Ali Nawaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1568747792,"creation_date":1568747457,"answer_id":57980641,"question_id":57973061,"body_markdown":"Initially, I added the [comment][1] to the question. Which turns out to be the solution to this question (as mentioned in question&#39;s description). I think I should further expand my proposed solution.\r\n\r\n**DTO classes:**\r\n\r\n    public class EmployeeDTO {\r\n        String empName;\r\n        String designation;\r\n        List&lt;SkillDTO&gt; skills;\r\n        // getter/setters here\r\n    }\r\n\r\n    public class SkillDTO {\r\n        Integer id;\r\n        Integer rating;\r\n        String skillName;\r\n        String skillCategory;\r\n        // getter/setters here\r\n    }\r\n\r\n**Transforming JSON:**\r\n\r\nNow after parsing the JSON to these DTOs you can simply `collect` them to `Map` based on `empName` field using Stream API: \r\n\r\n    List&lt;EmployeeDTO&gt; jsonSchema; // parsed JSON List\r\n    \r\n    Map&lt;String, EmployeeDTO&gt; result = jsonSchema.stream().collect(Collectors.toMap(EmployeeDTO::getEmpName, Function.identity()));\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/57973061/how-to-generate-json-schema-of-object-type-with-dynamic-key-names#comment102356088_57973061","title":"How to generate JSON schema of object type with dynamic key names?","body":"<p>Initially, I added the <a href=\"https://stackoverflow.com/questions/57973061/how-to-generate-json-schema-of-object-type-with-dynamic-key-names#comment102356088_57973061\">comment</a> to the question. Which turns out to be the solution to this question (as mentioned in question's description). I think I should further expand my proposed solution.</p>\n\n<p><strong>DTO classes:</strong></p>\n\n<pre><code>public class EmployeeDTO {\n    String empName;\n    String designation;\n    List&lt;SkillDTO&gt; skills;\n    // getter/setters here\n}\n\npublic class SkillDTO {\n    Integer id;\n    Integer rating;\n    String skillName;\n    String skillCategory;\n    // getter/setters here\n}\n</code></pre>\n\n<p><strong>Transforming JSON:</strong></p>\n\n<p>Now after parsing the JSON to these DTOs you can simply <code>collect</code> them to <code>Map</code> based on <code>empName</code> field using Stream API: </p>\n\n<pre><code>List&lt;EmployeeDTO&gt; jsonSchema; // parsed JSON List\n\nMap&lt;String, EmployeeDTO&gt; result = jsonSchema.stream().collect(Collectors.toMap(EmployeeDTO::getEmpName, Function.identity()));\n</code></pre>\n"}],"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2360,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":57980641,"answer_count":1,"score":5,"last_activity_date":1659172908,"creation_date":1568718841,"question_id":57973061,"body_markdown":"Say I have following json:\r\n\r\n    {\r\n    \t&quot;empName&quot;: &quot;rameshp&quot;,\r\n    \t&quot;designation&quot;: &quot;SE1&quot;,\r\n    \t&quot;skills&quot;: [\r\n    \t\t{\r\n    \t\t\t&quot;id&quot;: 2,\r\n    \t\t\t&quot;rating&quot;: 4,\r\n    \t\t\t&quot;skillName&quot;: &quot;Node.js 7&quot;,\r\n    \t\t\t&quot;skillCategory&quot;: &quot;Programming&quot;\r\n    \t\t}\r\n    \t]\r\n    }\r\n\r\nNow there could be multiple objects like above, so I want to reference above schema which can be generated from https://www.jsonschema.net, but I want to have the empName as object keys and above as value, so it will be an object with multiple unique keys (empName) and the value will be referencing above schema. Consider below example, when the POJO is serialized to JSON by `Jackson`, it should be like below:\r\n\r\n    {\r\n    \t&quot;rameshp&quot;: {\r\n    \t\t&quot;empName&quot;: &quot;rameshp&quot;,\r\n    \t\t&quot;designation&quot;: &quot;SE1&quot;,\r\n    \t\t&quot;skills&quot;: [\r\n    \t\t\t{\r\n    \t\t\t\t&quot;id&quot;: 2,\r\n    \t\t\t\t&quot;rating&quot;: 4,\r\n    \t\t\t\t&quot;skillName&quot;: &quot;Node.js 7&quot;,\r\n    \t\t\t\t&quot;skillCategory&quot;: &quot;Programming&quot;\r\n    \t\t\t}\r\n    \t\t]\r\n    \t},\r\n    \t&quot;john&quot;: {\r\n    \t\t&quot;empName&quot;: &quot;john&quot;,\r\n    \t\t&quot;designation&quot;: &quot;SE2&quot;,\r\n    \t\t&quot;skills&quot;: [\r\n    \t\t\t{\r\n    \t\t\t\t&quot;id&quot;: 2,\r\n    \t\t\t\t&quot;rating&quot;: 4,\r\n    \t\t\t\t&quot;skillName&quot;: &quot;Node.js 7&quot;,\r\n    \t\t\t\t&quot;skillCategory&quot;: &quot;Programming&quot;\r\n    \t\t\t}\r\n    \t\t]\r\n    \t}\r\n    }\r\n\r\nWhat should be the overall schema for this scenario (the JSON schema)?  Ultimately, jackson will be used to generate the POJO for this schema and used in the REST APIs that I have created.\r\n\r\n**EDIT: (trying to clarify)**\r\n\r\nImagine a `List&lt;Map&lt;k, v&gt;&gt;` as my data. I want to have json schema for this whose output json will have the keys as the object names, like above json example.\r\n\r\nSolution: Mushif&#39;s comment to this question is the answer. For the value part, jsonschema can be used. `Map&lt;String, EmployeeDTO&gt;`","title":"How to generate JSON schema of object type with dynamic key names?","body":"<p>Say I have following json:</p>\n\n<pre><code>{\n    \"empName\": \"rameshp\",\n    \"designation\": \"SE1\",\n    \"skills\": [\n        {\n            \"id\": 2,\n            \"rating\": 4,\n            \"skillName\": \"Node.js 7\",\n            \"skillCategory\": \"Programming\"\n        }\n    ]\n}\n</code></pre>\n\n<p>Now there could be multiple objects like above, so I want to reference above schema which can be generated from <a href=\"https://www.jsonschema.net\" rel=\"nofollow noreferrer\">https://www.jsonschema.net</a>, but I want to have the empName as object keys and above as value, so it will be an object with multiple unique keys (empName) and the value will be referencing above schema. Consider below example, when the POJO is serialized to JSON by <code>Jackson</code>, it should be like below:</p>\n\n<pre><code>{\n    \"rameshp\": {\n        \"empName\": \"rameshp\",\n        \"designation\": \"SE1\",\n        \"skills\": [\n            {\n                \"id\": 2,\n                \"rating\": 4,\n                \"skillName\": \"Node.js 7\",\n                \"skillCategory\": \"Programming\"\n            }\n        ]\n    },\n    \"john\": {\n        \"empName\": \"john\",\n        \"designation\": \"SE2\",\n        \"skills\": [\n            {\n                \"id\": 2,\n                \"rating\": 4,\n                \"skillName\": \"Node.js 7\",\n                \"skillCategory\": \"Programming\"\n            }\n        ]\n    }\n}\n</code></pre>\n\n<p>What should be the overall schema for this scenario (the JSON schema)?  Ultimately, jackson will be used to generate the POJO for this schema and used in the REST APIs that I have created.</p>\n\n<p><strong>EDIT: (trying to clarify)</strong></p>\n\n<p>Imagine a <code>List&lt;Map&lt;k, v&gt;&gt;</code> as my data. I want to have json schema for this whose output json will have the keys as the object names, like above json example.</p>\n\n<p>Solution: Mushif's comment to this question is the answer. For the value part, jsonschema can be used. <code>Map&lt;String, EmployeeDTO&gt;</code></p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":22755735,"reputation":555,"user_id":16915219,"display_name":"JumperBot_"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659172754,"creation_date":1659169393,"answer_id":73174011,"question_id":73173627,"body_markdown":"Yup, the path is precisely wrong and you are not supposed to add a &#39;:&#39;\r\n at the beginning.\r\n\r\n(Maybe you just got used to Windows)\r\n\r\nI suggest to NEVER, (I mean it) NEVER hard-code file paths.\r\n\r\nBut why?\r\n\r\nThat&#39;s because you are incredibly making your code susceptible to IOExceptions.\r\n\r\nYou are also removing the compatibility layer for other devices that support the Android VM on top of their underlying OS (like Chromebooks a.k.a. Chrome OS, customized versions, etc.) .\r\n\r\nI suggest reading [this answer](https://stackoverflow.com/a/40201333/16915219) that belongs on SO as well if you really need to write to an sdcard.\r\n\r\n---\r\n\r\n# TL;DR\r\n\r\nPath name wrong, hard-code path evil, ooga booga.","title":"Error while writing to external storage Android studio","body":"<p>Yup, the path is precisely wrong and you are not supposed to add a ':'\nat the beginning.</p>\n<p>(Maybe you just got used to Windows)</p>\n<p>I suggest to NEVER, (I mean it) NEVER hard-code file paths.</p>\n<p>But why?</p>\n<p>That's because you are incredibly making your code susceptible to IOExceptions.</p>\n<p>You are also removing the compatibility layer for other devices that support the Android VM on top of their underlying OS (like Chromebooks a.k.a. Chrome OS, customized versions, etc.) .</p>\n<p>I suggest reading <a href=\"https://stackoverflow.com/a/40201333/16915219\">this answer</a> that belongs on SO as well if you really need to write to an sdcard.</p>\n<hr />\n<h1>TL;DR</h1>\n<p>Path name wrong, hard-code path evil, ooga booga.</p>\n"}],"owner":{"account_id":24647075,"reputation":21,"user_id":18544608,"display_name":"OttoIEM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659172754,"creation_date":1659165216,"question_id":73173627,"body_markdown":"I am trying to create a file, but something is wrong with the pathname. The writing permissions are declared in the manifest. I specify the pathname below:\r\n\r\n    String path =  &quot;:/storage/sdcard0/&quot;;\r\n\r\nand then try to access that later: \r\n\r\n    try {\r\n            File file = new File(path + &quot;ratings.csv&quot;);\r\n            // if file doesnt exists, then create it\r\n            if (!file.exists()) {\r\n                file.createNewFile();\r\n            }\r\n\r\nAnd this throws IOException: &quot;No such file or directory&quot;. Is the pathname wrong?","title":"Error while writing to external storage Android studio","body":"<p>I am trying to create a file, but something is wrong with the pathname. The writing permissions are declared in the manifest. I specify the pathname below:</p>\n<pre><code>String path =  &quot;:/storage/sdcard0/&quot;;\n</code></pre>\n<p>and then try to access that later:</p>\n<pre><code>try {\n        File file = new File(path + &quot;ratings.csv&quot;);\n        // if file doesnt exists, then create it\n        if (!file.exists()) {\n            file.createNewFile();\n        }\n</code></pre>\n<p>And this throws IOException: &quot;No such file or directory&quot;. Is the pathname wrong?</p>\n"},{"tags":["java","class","static","field"],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659116380,"creation_date":1659116380,"answer_id":73169152,"question_id":73169109,"body_markdown":"Yes, this is right.\r\n\r\nclass *Foo* is not static, but dependent of instances of *Outer*.\r\n\r\nThat&#39;s the reason you could not statically access *classVar*, so this is not allowed because it would not make sense in any case.\r\n\r\nWhat you could do instead is to make *Foo* static:\r\n\r\n    class Outer {\r\n    \tstatic class Foo&lt;T&gt; {\r\n    \t\tpublic static int classVar = 2;\r\n    \t}\r\n    }\r\n\r\nThis way, one could **statically access** *classVar* like so: `Outer.Foo.classVar`.","title":"Java&#39;s static keyword cannot be used in embedded class&#39;s field?","body":"<p>Yes, this is right.</p>\n<p>class <em>Foo</em> is not static, but dependent of instances of <em>Outer</em>.</p>\n<p>That's the reason you could not statically access <em>classVar</em>, so this is not allowed because it would not make sense in any case.</p>\n<p>What you could do instead is to make <em>Foo</em> static:</p>\n<pre><code>class Outer {\n    static class Foo&lt;T&gt; {\n        public static int classVar = 2;\n    }\n}\n</code></pre>\n<p>This way, one could <strong>statically access</strong> <em>classVar</em> like so: <code>Outer.Foo.classVar</code>.</p>\n"}],"owner":{"account_id":8189476,"reputation":7627,"user_id":6164172,"accept_rate":92,"display_name":"Troskyvs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1659116864,"answer_count":1,"score":-2,"last_activity_date":1659172746,"creation_date":1659116088,"question_id":73169109,"body_markdown":"I&#39;ve got a xxx.java file and it has a package level class of:\r\n```\r\nclass Foo&lt;T&gt; {\r\n    public static int classVar = 1;\r\n}\r\n```\r\nNo problem, compiles, but if I wrap it into another class:\r\n```\r\nclass Outer {\r\n    class Foo&lt;T&gt; {\r\n        public static int classVar = 2;\r\n    }\r\n}\r\n```\r\nThen it doesn&#39;t compile, saying that the ```static``` declaration of inner class Outer.foo is invalid, and ```static``` is only allowed in declaration of constant variable.\r\n\r\nThis syntax rule looks confuse to me----let&#39;s see from the Java language perspective, what would happen if ```static``` is allowed to be used like my program does? Will it lead to any ambiguous program? Or any Runtime problem?\r\n\r\nThanks for explanations!\r\n","title":"Java&#39;s static keyword cannot be used in embedded class&#39;s field?","body":"<p>I've got a xxx.java file and it has a package level class of:</p>\n<pre><code>class Foo&lt;T&gt; {\n    public static int classVar = 1;\n}\n</code></pre>\n<p>No problem, compiles, but if I wrap it into another class:</p>\n<pre><code>class Outer {\n    class Foo&lt;T&gt; {\n        public static int classVar = 2;\n    }\n}\n</code></pre>\n<p>Then it doesn't compile, saying that the <code>static</code> declaration of inner class Outer.foo is invalid, and <code>static</code> is only allowed in declaration of constant variable.</p>\n<p>This syntax rule looks confuse to me----let's see from the Java language perspective, what would happen if <code>static</code> is allowed to be used like my program does? Will it lead to any ambiguous program? Or any Runtime problem?</p>\n<p>Thanks for explanations!</p>\n"},{"tags":["java","spring","spring-boot","localhost","tomcat7"],"comments":[{"owner":{"account_id":5344327,"reputation":1074,"user_id":6771708,"accept_rate":71,"display_name":"namila007"},"score":0,"creation_date":1659128079,"post_id":73170387,"comment_id":129227873,"body_markdown":"tomcat is bundled in springboot-webmvc dependency, you dont have to setup a separate serverlet container.","body":"tomcat is bundled in springboot-webmvc dependency, you dont have to setup a separate serverlet container."}],"answers":[{"tags":[],"owner":{"account_id":25790128,"reputation":31,"user_id":19534319,"display_name":"Vinit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659171614,"creation_date":1659154528,"answer_id":73172810,"question_id":73170387,"body_markdown":"No need of separate Tomcat installation. Spring Boot comes with embedded Tomcat. You can have parent and web dependency in your `pom.xml`:\r\n\r\n    &lt;parent&gt;        \r\n \r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;","title":"How to run Spring project on my local machine without Tomcat server by adding Spring Boot dependencies","body":"<p>No need of separate Tomcat installation. Spring Boot comes with embedded Tomcat. You can have parent and web dependency in your <code>pom.xml</code>:</p>\n<pre><code>&lt;parent&gt;        \n\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.2&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;dependencies&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":25928007,"reputation":1,"user_id":19649594,"display_name":"Tarannum Shaikh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659171614,"creation_date":1659124268,"question_id":73170387,"body_markdown":"I am working on a Spring project with many different folder structures inside it. I want to run one of the Spring module folder (project) on my local machine (want to create a local web container through Spring Boot dependency) without tomcat server.\r\n\r\nI don&#39;t have Tomcat installed in my VMWare. So I have to add Spring Boot dependencies in `pom.xml` file. What should I do? Which dependencies should I add to run my project in local server?\r\n","title":"How to run Spring project on my local machine without Tomcat server by adding Spring Boot dependencies","body":"<p>I am working on a Spring project with many different folder structures inside it. I want to run one of the Spring module folder (project) on my local machine (want to create a local web container through Spring Boot dependency) without tomcat server.</p>\n<p>I don't have Tomcat installed in my VMWare. So I have to add Spring Boot dependencies in <code>pom.xml</code> file. What should I do? Which dependencies should I add to run my project in local server?</p>\n"},{"tags":["java","user-interface","javafx","httpserver"],"comments":[{"owner":{"account_id":14886502,"reputation":65,"user_id":10749532,"display_name":"Baltazar"},"score":2,"creation_date":1549028265,"post_id":54480376,"comment_id":95768167,"body_markdown":"My question was who gave minus points by who and by what reason.Is it because you don&#39;t know the answer?","body":"My question was who gave minus points by who and by what reason.Is it because you don&#39;t know the answer?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1549042545,"post_id":54480376,"comment_id":95775981,"body_markdown":"Don&#39;t call `Application.launch` more than once in a single JVM; the application is already launched, you just need to display the window. Keep a reference to the `Stage` and call `Platform.runLater(stage::show)` inside the appropriate `ActionListener`.","body":"Don&#39;t call <code>Application.launch</code> more than once in a single JVM; the application is already launched, you just need to display the window. Keep a reference to the <code>Stage</code> and call <code>Platform.runLater(stage::show)</code> inside the appropriate <code>ActionListener</code>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1549042649,"post_id":54480376,"comment_id":95776028,"body_markdown":"Also, why have `new Gui().start(new Stage())`? You&#39;re already in an instance of `Gui` and already have access to a `Stage`, both provided by the JavaFX runtime. Besides, that code will form a &quot;loop&quot; that constantly creates more `Gui` objects and calls `start` on them.","body":"Also, why have <code>new Gui().start(new Stage())</code>? You&#39;re already in an instance of <code>Gui</code> and already have access to a <code>Stage</code>, both provided by the JavaFX runtime. Besides, that code will form a &quot;loop&quot; that constantly creates more <code>Gui</code> objects and calls <code>start</code> on them."},{"owner":{"account_id":14886502,"reputation":65,"user_id":10749532,"display_name":"Baltazar"},"score":0,"creation_date":1549265248,"post_id":54480376,"comment_id":95826457,"body_markdown":"I am not opening the GUI directly when the java application is running.\nThe user who wants to open the user interface should click the tray icon. I changed the actionListener part of the line icon.\nBut once again I wanted to open the GUI for the first time.\nThen the tray icon will be locked when you want to close the interface and open it again. I update the action listener part of the tray icon above.\nWhere am I doing wrong.","body":"I am not opening the GUI directly when the java application is running. The user who wants to open the user interface should click the tray icon. I changed the actionListener part of the line icon. But once again I wanted to open the GUI for the first time. Then the tray icon will be locked when you want to close the interface and open it again. I update the action listener part of the tray icon above. Where am I doing wrong."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1659170880,"creation_date":1549275518,"answer_id":54514035,"question_id":54480376,"body_markdown":"## Some Observations\r\n\r\nFirst off, in your updated listener:\r\n\r\n    trayIcon.addMouseListener(new MouseAdapter() {\r\n        public void mouseClicked(MouseEvent e) {\r\n            if (e.getClickCount() == 1) {\r\n                if (Platform.isFxApplicationThread()) {\r\n                    Platform.runLater(new Runnable() {\r\n                        @Override public void run() { /* OMITTED FOR BREVITY */ }\r\n                    });\r\n                } else {\r\n                    Application.launch(Gui.class, &quot;&quot;);\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\nYou check `Platform.isFxApplicationThread` and, _if true_, then call `Platform.runLater`. The call to `Platform.runLater` schedules the action to execute on the _JavaFX Application Thread_; if you&#39;re already on that thread there&#39;s no need (typically) to call `Platform.runLater`. Of course, `isFxApplicationThread` will never return true because `SystemTray` is part of AWT and will invoke the listener on the AWT related thread. This means the `else` branch will always be called, which is a problem since you cannot call `Application.launch` more than once in a single JVM instance; doing so results in an `IllegalStateException` being thrown.\r\n\r\nAlso, in your `start` method:\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        Platform.setImplicitExit(false);\r\n        Platform.runLater(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    new Gui().start(new Stage());\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n        /* SOME CODE OMITTED FOR BREVITY */\r\n    }\r\n\r\nThat `Platform.runLater` call should be causing a &quot;loop&quot;. When you call `start` you schedule the `Runnable` to run at some later time via the `Platform.runLater` call. Inside this `Runnable` you call `new Gui().start(new Stage())`. What that does is call `start` again (on a new instance of `Gui`), which will call `Platform.runLater` again, which will call `new Gui().start(new Stage())` again, which will call `start` again, which... you get the idea.\r\n\r\nNote that `Application.launch(Gui.class)` will create an instance of `Gui` and call `start` with the primary `Stage` _for you_. But as mentioned above, `launch` can only be called once. Conceptually, the `Application` subclass represents _the entire application_. There should ideally only ever be one instance of that class.\r\n\r\n---\r\n\r\n## Small Example Using `SystemTray`\r\n\r\nHere is a small example using `SystemTray` to (re)open a JavaFX window. The window is not displayed until the user clicks (double-click, at least on Windows) the tray icon.\r\n\r\n    import java.awt.AWTException;\r\n    import java.awt.SystemTray;\r\n    import java.awt.TrayIcon;\r\n    import java.awt.image.BufferedImage;\r\n    import java.util.function.Predicate;\r\n    import javafx.application.Application;\r\n    import javafx.application.Platform;\r\n    import javafx.embed.swing.SwingFXUtils;\r\n    import javafx.scene.Group;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Alert;\r\n    import javafx.scene.control.ButtonType;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.shape.Circle;\r\n    import javafx.stage.Stage;\r\n    import javafx.stage.Window;\r\n    import javafx.stage.WindowEvent;\r\n    \r\n    public class Main extends Application {\r\n    \r\n      private Stage primaryStage;\r\n      private boolean iconAdded;\r\n    \r\n      @Override\r\n      public void start(Stage primaryStage) throws AWTException {\r\n        if (SystemTray.isSupported()) {\r\n          installSystemTray();\r\n          Platform.setImplicitExit(false);\r\n    \r\n          StackPane root = new StackPane(new Label(&quot;Hello, World!&quot;));\r\n          primaryStage.setScene(new Scene(root, 500, 300));\r\n          primaryStage.setTitle(&quot;JavaFX Application&quot;);\r\n          primaryStage.setOnCloseRequest(this::promptUserForDesiredAction);\r\n    \r\n          this.primaryStage = primaryStage;\r\n        } else {\r\n          Alert alert = new Alert(Alert.AlertType.ERROR);\r\n          alert.setHeaderText(null);\r\n          alert.setContentText(&quot;SystemTray is not supported. Will exit application.&quot;);\r\n          alert.showAndWait();\r\n          Platform.exit();\r\n        }\r\n      }\r\n    \r\n      @Override\r\n      public void stop() {\r\n        if (iconAdded) {\r\n          SystemTray tray = SystemTray.getSystemTray();\r\n          for (TrayIcon icon : tray.getTrayIcons()) {\r\n            tray.remove(icon);\r\n          }\r\n        }\r\n      }\r\n    \r\n      private void promptUserForDesiredAction(WindowEvent event) {\r\n        Alert alert = new Alert(Alert.AlertType.CONFIRMATION);\r\n        alert.initOwner((Window) event.getSource());\r\n        alert.setTitle(&quot;Choose Action&quot;);\r\n        alert.setHeaderText(null);\r\n        alert.setContentText(&quot;Would you like to exit or hide the application?&quot;);\r\n    \r\n        // Use custom ButtonTypes to give more meaningful options\r\n        // than, for instance, OK and CANCEL\r\n        ButtonType exit = new ButtonType(&quot;Exit&quot;);\r\n        ButtonType hide = new ButtonType(&quot;Hide&quot;);\r\n        alert.getDialogPane().getButtonTypes().setAll(exit, hide);\r\n    \r\n        alert.showAndWait().filter(Predicate.isEqual(exit)).ifPresent(unused -&gt; Platform.exit());\r\n      }\r\n    \r\n      private void installSystemTray() throws AWTException {\r\n        TrayIcon icon = new TrayIcon(createSystemTrayIconImage(), &quot;Show JavaFX Application&quot;);\r\n        // On Windows 10, this listener is invoked on a double-click\r\n        icon.addActionListener(e -&gt; Platform.runLater(() -&gt; {\r\n          if (primaryStage.isShowing()) {\r\n            primaryStage.requestFocus();\r\n          } else {\r\n            primaryStage.show();\r\n          }\r\n        }));\r\n        SystemTray.getSystemTray().add(icon);\r\n        iconAdded = true;\r\n      }\r\n    \r\n      // Creates a simple red circle as the TrayIcon image. This is here\r\n      // to avoid needing an image resource for the example.\r\n      private BufferedImage createSystemTrayIconImage() {\r\n        Circle circle = new Circle(6.0, Color.FIREBRICK);\r\n        Scene scene = new Scene(new Group(circle), Color.TRANSPARENT);\r\n        return SwingFXUtils.fromFXImage(circle.snapshot(null, null), null);\r\n      }\r\n    \r\n    }\r\n\r\n---\r\n\r\n## About Example\r\n\r\nIn my example I keep a strong reference to the `Stage` which I show when the `ActionListener` added to the `TrayIcon` is invoked. Notice how in the `ActionListener` I use `Platform.runLater`. For every listener you add to the `SystemTray` related objects (e.g. `java.awt.MenuItem`), wrap any code that will interact with JavaFX objects in a `Platform.runLater` call.\r\n\r\nNow, my example launches the JavaFX runtime _first_ and then adds the `TrayIcon`. Not only is the JavaFX runtime launched immediately but I also pre-create the scene-graph and store a strong reference to it. This can be a lot of unnecessary overhead and memory consumption. As your application is an HTTP server that can run without the JavaFX runtime there are some optimizations you can make.\r\n\r\n* Don&#39;t store a strong reference to the `Stage` once closed, allowing it to be garbage collected. Possible options are:\r\n\r\n  * Immediately remove the reference when the `Stage` is closed. This will require you to recreate the scene-graph every time.\r\n\r\n  * Remove the reference some arbitrary time after the `Stage` has been closed. This would be done with some kind of timer (e.g. `PauseTransition` or `Timeline`) that resets when the `Stage` has been reopened before the time elapsed.&lt;br&gt;&lt;br&gt;\r\n\r\n  When the user requests the GUI you would, when necessary, (re)create the scene-graph and (re)initialize it with your model. Don&#39;t forget any necessary cleanup, such as removing listeners observing your model, when disposing the scene-graph; any strong references anywhere will keep the object(s) in memory, leading to a memory leak.&lt;br&gt;&lt;br&gt;\r\n\r\n* Lazily launch the JavaFX runtime.\r\n\r\n  * Don&#39;t have any server initialization/running logic in your `Application` subclass. Particularly, don&#39;t put your `main` method in that class as it will [indirectly launch the JavaFX runtime][1].\r\n\r\n  * On the first request to show the GUI use `Application.launch`.\r\n\r\n      &lt;sup&gt;Note: I believe the call to `launch` must be put on a separate thread. The thread that calls `launch` does not return until the JavaFX runtime exits. Since the `TrayIcon` listeners are called on the AWT thread this will lead to that thread being blocked, which would not be good.&lt;/sup&gt;\r\n\r\n  * On subsequent requests just display the window, recreating it if necessary. How you go about this is dependent on your architecture. One option is to make your `Application` class a sort of lazy singleton that gets set via `Application.launch`; you&#39;d get a reference and call a method to show the window (on the FX thread).\r\n\r\nBoth options will keep the JavaFX runtime alive, once launched, until the entire application exits. You could technically exit the JavaFX runtime independently but, as mentioned before, calling `Application.launch` more than once is an error; if you do this you won&#39;t be able to show the GUI again until the entire application is restarted. If you _really_ want to allow the JavaFX side of the application to exit and be relaunched you can use a separate process. However, using a separate process is likely non-trivial.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/52447692/6395627","title":"How to re-run the user interface written with javafx in system tray when java jar application is running","body":"<h2>Some Observations</h2>\n<p>First off, in your updated listener:</p>\n<pre><code>trayIcon.addMouseListener(new MouseAdapter() {\n    public void mouseClicked(MouseEvent e) {\n        if (e.getClickCount() == 1) {\n            if (Platform.isFxApplicationThread()) {\n                Platform.runLater(new Runnable() {\n                    @Override public void run() { /* OMITTED FOR BREVITY */ }\n                });\n            } else {\n                Application.launch(Gui.class, &quot;&quot;);\n            }\n        }\n    }\n});\n</code></pre>\n<p>You check <code>Platform.isFxApplicationThread</code> and, <em>if true</em>, then call <code>Platform.runLater</code>. The call to <code>Platform.runLater</code> schedules the action to execute on the <em>JavaFX Application Thread</em>; if you're already on that thread there's no need (typically) to call <code>Platform.runLater</code>. Of course, <code>isFxApplicationThread</code> will never return true because <code>SystemTray</code> is part of AWT and will invoke the listener on the AWT related thread. This means the <code>else</code> branch will always be called, which is a problem since you cannot call <code>Application.launch</code> more than once in a single JVM instance; doing so results in an <code>IllegalStateException</code> being thrown.</p>\n<p>Also, in your <code>start</code> method:</p>\n<pre><code>@Override\npublic void start(Stage stage) throws Exception {\n    Platform.setImplicitExit(false);\n    Platform.runLater(new Runnable() {\n        @Override\n        public void run() {\n            try {\n                new Gui().start(new Stage());\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    });\n    /* SOME CODE OMITTED FOR BREVITY */\n}\n</code></pre>\n<p>That <code>Platform.runLater</code> call should be causing a &quot;loop&quot;. When you call <code>start</code> you schedule the <code>Runnable</code> to run at some later time via the <code>Platform.runLater</code> call. Inside this <code>Runnable</code> you call <code>new Gui().start(new Stage())</code>. What that does is call <code>start</code> again (on a new instance of <code>Gui</code>), which will call <code>Platform.runLater</code> again, which will call <code>new Gui().start(new Stage())</code> again, which will call <code>start</code> again, which... you get the idea.</p>\n<p>Note that <code>Application.launch(Gui.class)</code> will create an instance of <code>Gui</code> and call <code>start</code> with the primary <code>Stage</code> <em>for you</em>. But as mentioned above, <code>launch</code> can only be called once. Conceptually, the <code>Application</code> subclass represents <em>the entire application</em>. There should ideally only ever be one instance of that class.</p>\n<hr />\n<h2>Small Example Using <code>SystemTray</code></h2>\n<p>Here is a small example using <code>SystemTray</code> to (re)open a JavaFX window. The window is not displayed until the user clicks (double-click, at least on Windows) the tray icon.</p>\n<pre><code>import java.awt.AWTException;\nimport java.awt.SystemTray;\nimport java.awt.TrayIcon;\nimport java.awt.image.BufferedImage;\nimport java.util.function.Predicate;\nimport javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.embed.swing.SwingFXUtils;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.ButtonType;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.stage.Stage;\nimport javafx.stage.Window;\nimport javafx.stage.WindowEvent;\n\npublic class Main extends Application {\n\n  private Stage primaryStage;\n  private boolean iconAdded;\n\n  @Override\n  public void start(Stage primaryStage) throws AWTException {\n    if (SystemTray.isSupported()) {\n      installSystemTray();\n      Platform.setImplicitExit(false);\n\n      StackPane root = new StackPane(new Label(&quot;Hello, World!&quot;));\n      primaryStage.setScene(new Scene(root, 500, 300));\n      primaryStage.setTitle(&quot;JavaFX Application&quot;);\n      primaryStage.setOnCloseRequest(this::promptUserForDesiredAction);\n\n      this.primaryStage = primaryStage;\n    } else {\n      Alert alert = new Alert(Alert.AlertType.ERROR);\n      alert.setHeaderText(null);\n      alert.setContentText(&quot;SystemTray is not supported. Will exit application.&quot;);\n      alert.showAndWait();\n      Platform.exit();\n    }\n  }\n\n  @Override\n  public void stop() {\n    if (iconAdded) {\n      SystemTray tray = SystemTray.getSystemTray();\n      for (TrayIcon icon : tray.getTrayIcons()) {\n        tray.remove(icon);\n      }\n    }\n  }\n\n  private void promptUserForDesiredAction(WindowEvent event) {\n    Alert alert = new Alert(Alert.AlertType.CONFIRMATION);\n    alert.initOwner((Window) event.getSource());\n    alert.setTitle(&quot;Choose Action&quot;);\n    alert.setHeaderText(null);\n    alert.setContentText(&quot;Would you like to exit or hide the application?&quot;);\n\n    // Use custom ButtonTypes to give more meaningful options\n    // than, for instance, OK and CANCEL\n    ButtonType exit = new ButtonType(&quot;Exit&quot;);\n    ButtonType hide = new ButtonType(&quot;Hide&quot;);\n    alert.getDialogPane().getButtonTypes().setAll(exit, hide);\n\n    alert.showAndWait().filter(Predicate.isEqual(exit)).ifPresent(unused -&gt; Platform.exit());\n  }\n\n  private void installSystemTray() throws AWTException {\n    TrayIcon icon = new TrayIcon(createSystemTrayIconImage(), &quot;Show JavaFX Application&quot;);\n    // On Windows 10, this listener is invoked on a double-click\n    icon.addActionListener(e -&gt; Platform.runLater(() -&gt; {\n      if (primaryStage.isShowing()) {\n        primaryStage.requestFocus();\n      } else {\n        primaryStage.show();\n      }\n    }));\n    SystemTray.getSystemTray().add(icon);\n    iconAdded = true;\n  }\n\n  // Creates a simple red circle as the TrayIcon image. This is here\n  // to avoid needing an image resource for the example.\n  private BufferedImage createSystemTrayIconImage() {\n    Circle circle = new Circle(6.0, Color.FIREBRICK);\n    Scene scene = new Scene(new Group(circle), Color.TRANSPARENT);\n    return SwingFXUtils.fromFXImage(circle.snapshot(null, null), null);\n  }\n\n}\n</code></pre>\n<hr />\n<h2>About Example</h2>\n<p>In my example I keep a strong reference to the <code>Stage</code> which I show when the <code>ActionListener</code> added to the <code>TrayIcon</code> is invoked. Notice how in the <code>ActionListener</code> I use <code>Platform.runLater</code>. For every listener you add to the <code>SystemTray</code> related objects (e.g. <code>java.awt.MenuItem</code>), wrap any code that will interact with JavaFX objects in a <code>Platform.runLater</code> call.</p>\n<p>Now, my example launches the JavaFX runtime <em>first</em> and then adds the <code>TrayIcon</code>. Not only is the JavaFX runtime launched immediately but I also pre-create the scene-graph and store a strong reference to it. This can be a lot of unnecessary overhead and memory consumption. As your application is an HTTP server that can run without the JavaFX runtime there are some optimizations you can make.</p>\n<ul>\n<li><p>Don't store a strong reference to the <code>Stage</code> once closed, allowing it to be garbage collected. Possible options are:</p>\n<ul>\n<li><p>Immediately remove the reference when the <code>Stage</code> is closed. This will require you to recreate the scene-graph every time.</p>\n</li>\n<li><p>Remove the reference some arbitrary time after the <code>Stage</code> has been closed. This would be done with some kind of timer (e.g. <code>PauseTransition</code> or <code>Timeline</code>) that resets when the <code>Stage</code> has been reopened before the time elapsed.<br><br></p>\n</li>\n</ul>\n<p>When the user requests the GUI you would, when necessary, (re)create the scene-graph and (re)initialize it with your model. Don't forget any necessary cleanup, such as removing listeners observing your model, when disposing the scene-graph; any strong references anywhere will keep the object(s) in memory, leading to a memory leak.<br><br></p>\n</li>\n<li><p>Lazily launch the JavaFX runtime.</p>\n<ul>\n<li><p>Don't have any server initialization/running logic in your <code>Application</code> subclass. Particularly, don't put your <code>main</code> method in that class as it will <a href=\"https://stackoverflow.com/a/52447692/6395627\">indirectly launch the JavaFX runtime</a>.</p>\n</li>\n<li><p>On the first request to show the GUI use <code>Application.launch</code>.</p>\n<p><sup>Note: I believe the call to <code>launch</code> must be put on a separate thread. The thread that calls <code>launch</code> does not return until the JavaFX runtime exits. Since the <code>TrayIcon</code> listeners are called on the AWT thread this will lead to that thread being blocked, which would not be good.</sup></p>\n</li>\n<li><p>On subsequent requests just display the window, recreating it if necessary. How you go about this is dependent on your architecture. One option is to make your <code>Application</code> class a sort of lazy singleton that gets set via <code>Application.launch</code>; you'd get a reference and call a method to show the window (on the FX thread).</p>\n</li>\n</ul>\n</li>\n</ul>\n<p>Both options will keep the JavaFX runtime alive, once launched, until the entire application exits. You could technically exit the JavaFX runtime independently but, as mentioned before, calling <code>Application.launch</code> more than once is an error; if you do this you won't be able to show the GUI again until the entire application is restarted. If you <em>really</em> want to allow the JavaFX side of the application to exit and be relaunched you can use a separate process. However, using a separate process is likely non-trivial.</p>\n"}],"owner":{"account_id":14886502,"reputation":65,"user_id":10749532,"display_name":"Baltazar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":54514035,"answer_count":1,"score":0,"last_activity_date":1659170880,"creation_date":1549027120,"question_id":54480376,"body_markdown":"I have a java application running java http server. This java application should run continuously. I don&#39;t want to open javafx gui when the program is run for the first time.\r\n\r\nAs I said, the application should run continuously. The user should be able to open the user interface at any time by clicking on the system tray icon.\r\nOr should be able to close the cross-button in the interface.\r\n\r\nI used `Platform.setImplicitExit (false)` to not stop the java application from pressing the cross-button on the interface.\r\n\r\nIf the user wants to see the screen again, I want to re-render the screen by pressing the system tray.\r\n\r\nI want to show and hide the user interface without closing the java program.\r\nWhat is best practice\r\nI&#39;m waiting for your help.\r\n\r\nRelated codes are below.\r\n\r\n    public class Gui extends Application {\r\n\r\n\t@Override\r\n\tpublic void start(Stage stage) throws Exception {\r\n\r\n\t\tPlatform.setImplicitExit(false);\r\n\t\tPlatform.runLater(new Runnable() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tnew Gui().start(new Stage());\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tScene scene = new Scene(new StackPane());\r\n\t\tLoginManager loginManager = new LoginManager(scene);\r\n\t\tloginManager.showLoginScreen();\r\n\t\tstage.setScene(scene);\r\n\t\tstage.show();\r\n\r\n\t\t// stage.setOnCloseRequest(e -&gt; Platform.exit());\r\n\r\n\t}\r\n    }\r\n\r\n\r\n\r\nMain class\r\n\r\n\r\n    public static void main(String[] args) throws IOException, Exception, FileNotFoundException {\r\n\t\tServerSocket ss = null;\r\n\t\ttry {\r\n\t\t\tss = new ServerSocket(9090);\r\n\t\t\tif (ss != null) {\r\n\t\t\t\tss.close();\r\n\t\t\t}\r\n\t\t} catch (BindException e) {\r\n\r\n\t\t\tSystem.out.println(&quot;Sikke Node Server is already running.&quot;);\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\t\tlaunchh();\r\n\t}\r\n\r\n\r\n\r\nMethod in main Class\r\n\r\n\r\n    private static void createAndShowGUI() {\r\n\r\n\t\tif (SystemTray.isSupported()) {\r\n\t\t\tfinal PopupMenu popup = new PopupMenu();\r\n\t\t\tfinal TrayIcon trayIcon = new TrayIcon(createImage(&quot;/sikke24.gif&quot;, &quot;Sikke Node &quot;), &quot;Sikke Node Server&quot;,\r\n\t\t\t\t\tpopup);\r\n\r\n\t\t\ttrayIcon.setImageAutoSize(true);\r\n\t\t\tfinal SystemTray tray = SystemTray.getSystemTray();\r\n\t\t\tfinal int port = Integer.parseInt(_System.getConfig(&quot;rpcport&quot;).get(0));\r\n\r\n\t\t\t// Create a popup menu components\r\n\t\t\tMenuItem aboutItem = new MenuItem(&quot;About&quot;);\r\n\t\t\tMenu displayMenu = new Menu(&quot;Display&quot;);\r\n\t\t\tMenuItem infoItem = new MenuItem(&quot;Info&quot;);\r\n\t\t\tMenuItem noneItem = new MenuItem(&quot;None&quot;);\r\n\t\t\tMenuItem exitItem = new MenuItem(&quot;Exit Sikke Node Server&quot;);\r\n\r\n\t\t\t// Add components to popup menu\r\n\t\t\tpopup.add(aboutItem);\r\n\t\t\tpopup.addSeparator();\r\n\t\t\tpopup.add(displayMenu);\r\n\t\t\tdisplayMenu.add(infoItem);\r\n\t\t\tdisplayMenu.add(noneItem);\r\n\t\t\tpopup.add(exitItem);\r\n\r\n\t\t\ttrayIcon.setPopupMenu(popup);\r\n\r\n\t\t\ttry {\r\n\t\t\t\ttray.add(trayIcon);\r\n\t\t\t} catch (AWTException e) {\r\n\t\t\t\tSystem.out.println(&quot;Sikke Node Icon could not be added.&quot;);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\ttrayIcon.addActionListener(new ActionListener() {\r\n\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\t/*\r\n\t\t\t\t\t * JOptionPane.showMessageDialog(null,\r\n\t\t\t\t\t * &quot;Server started successfully. The server works on port number:&quot; + port);\r\n\t\t\t\t\t */\r\n\t\t\t\t\tApplication.launch(Gui.class, &quot;&quot;);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\taboutItem.addActionListener(new ActionListener() {\r\n\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\tJOptionPane.showMessageDialog(null,\r\n\t\t\t\t\t\t\t&quot;Server started successfully. The server works on port number:&quot; + port);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tActionListener listener = new ActionListener() {\r\n\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\tMenuItem item = (MenuItem) e.getSource();\r\n\r\n\t\t\t\t\tSystem.out.println(item.getLabel());\r\n\t\t\t\t\tif (&quot;Error&quot;.equals(item.getLabel())) {\r\n\r\n\t\t\t\t\t\ttrayIcon.displayMessage(&quot;Sikke Node Server&quot;, &quot;This is an error message&quot;,\r\n\t\t\t\t\t\t\t\tTrayIcon.MessageType.ERROR);\r\n\r\n\t\t\t\t\t} else if (&quot;Warning&quot;.equals(item.getLabel())) {\r\n\r\n\t\t\t\t\t\ttrayIcon.displayMessage(&quot;Sikke Node Server&quot;, &quot;This is a warning message&quot;,\r\n\t\t\t\t\t\t\t\tTrayIcon.MessageType.WARNING);\r\n\r\n\t\t\t\t\t} else if (&quot;Info&quot;.equals(item.getLabel())) {\r\n\t\t\t\t\t\t// GUI runs\r\n\r\n\t\t\t\t\t\ttrayIcon.displayMessage(&quot;Sikke Node Server&quot;, &quot;This is an info message&quot;,\r\n\t\t\t\t\t\t\t\tTrayIcon.MessageType.INFO);\r\n\t\t\t\t\t} else if (&quot;None&quot;.equals(item.getLabel())) {\r\n\r\n\t\t\t\t\t\ttrayIcon.displayMessage(&quot;Sikke Node Server&quot;, &quot;This is an ordinary message&quot;,\r\n\t\t\t\t\t\t\t\tTrayIcon.MessageType.NONE);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\ttrayIcon.displayMessage(&quot;Sikke Node Server&quot;, &quot;Sikke Node Server started successfully on port : &quot; + port,\r\n\t\t\t\t\tTrayIcon.MessageType.INFO);\r\n\r\n\t\t\tinfoItem.addActionListener(listener);\r\n\t\t\tnoneItem.addActionListener(listener);\r\n\t\t\texitItem.addActionListener(new ActionListener() {\r\n\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\ttray.remove(trayIcon);\r\n\t\t\t\t\tSystem.exit(0);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\nWatch out here\r\n\r\n    Application.launch(Gui.class, &quot;&quot;);\r\n\r\n\r\n\r\n**TrayIcon ActionListener updated**\r\n\r\n\r\n    trayIcon.addMouseListener(new MouseAdapter() {\r\n\t\t\t\tpublic void mouseClicked(MouseEvent e) {\r\n\t\t\t\t\tif (e.getClickCount() == 1) {\r\n\t\t\t\t\t\tif (Platform.isFxApplicationThread()) {\r\n\t\t\t\t\t\t\tPlatform.runLater(new Runnable() {\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\t\t\tpublic void run() {\r\n\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\tnew Gui().start(new Stage());\r\n\t\t\t\t\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tApplication.launch(Gui.class, &quot;&quot;);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n","title":"How to re-run the user interface written with javafx in system tray when java jar application is running","body":"<p>I have a java application running java http server. This java application should run continuously. I don't want to open javafx gui when the program is run for the first time.</p>\n\n<p>As I said, the application should run continuously. The user should be able to open the user interface at any time by clicking on the system tray icon.\nOr should be able to close the cross-button in the interface.</p>\n\n<p>I used <code>Platform.setImplicitExit (false)</code> to not stop the java application from pressing the cross-button on the interface.</p>\n\n<p>If the user wants to see the screen again, I want to re-render the screen by pressing the system tray.</p>\n\n<p>I want to show and hide the user interface without closing the java program.\nWhat is best practice\nI'm waiting for your help.</p>\n\n<p>Related codes are below.</p>\n\n<pre><code>public class Gui extends Application {\n\n@Override\npublic void start(Stage stage) throws Exception {\n\n    Platform.setImplicitExit(false);\n    Platform.runLater(new Runnable() {\n        @Override\n        public void run() {\n            try {\n                new Gui().start(new Stage());\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    });\n    Scene scene = new Scene(new StackPane());\n    LoginManager loginManager = new LoginManager(scene);\n    loginManager.showLoginScreen();\n    stage.setScene(scene);\n    stage.show();\n\n    // stage.setOnCloseRequest(e -&gt; Platform.exit());\n\n}\n}\n</code></pre>\n\n<p>Main class</p>\n\n<pre><code>public static void main(String[] args) throws IOException, Exception, FileNotFoundException {\n    ServerSocket ss = null;\n    try {\n        ss = new ServerSocket(9090);\n        if (ss != null) {\n            ss.close();\n        }\n    } catch (BindException e) {\n\n        System.out.println(\"Sikke Node Server is already running.\");\n        System.exit(0);\n    }\n    launchh();\n}\n</code></pre>\n\n<p>Method in main Class</p>\n\n<pre><code>private static void createAndShowGUI() {\n\n    if (SystemTray.isSupported()) {\n        final PopupMenu popup = new PopupMenu();\n        final TrayIcon trayIcon = new TrayIcon(createImage(\"/sikke24.gif\", \"Sikke Node \"), \"Sikke Node Server\",\n                popup);\n\n        trayIcon.setImageAutoSize(true);\n        final SystemTray tray = SystemTray.getSystemTray();\n        final int port = Integer.parseInt(_System.getConfig(\"rpcport\").get(0));\n\n        // Create a popup menu components\n        MenuItem aboutItem = new MenuItem(\"About\");\n        Menu displayMenu = new Menu(\"Display\");\n        MenuItem infoItem = new MenuItem(\"Info\");\n        MenuItem noneItem = new MenuItem(\"None\");\n        MenuItem exitItem = new MenuItem(\"Exit Sikke Node Server\");\n\n        // Add components to popup menu\n        popup.add(aboutItem);\n        popup.addSeparator();\n        popup.add(displayMenu);\n        displayMenu.add(infoItem);\n        displayMenu.add(noneItem);\n        popup.add(exitItem);\n\n        trayIcon.setPopupMenu(popup);\n\n        try {\n            tray.add(trayIcon);\n        } catch (AWTException e) {\n            System.out.println(\"Sikke Node Icon could not be added.\");\n            return;\n        }\n\n        trayIcon.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                /*\n                 * JOptionPane.showMessageDialog(null,\n                 * \"Server started successfully. The server works on port number:\" + port);\n                 */\n                Application.launch(Gui.class, \"\");\n            }\n        });\n\n        aboutItem.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                JOptionPane.showMessageDialog(null,\n                        \"Server started successfully. The server works on port number:\" + port);\n            }\n        });\n\n        ActionListener listener = new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                MenuItem item = (MenuItem) e.getSource();\n\n                System.out.println(item.getLabel());\n                if (\"Error\".equals(item.getLabel())) {\n\n                    trayIcon.displayMessage(\"Sikke Node Server\", \"This is an error message\",\n                            TrayIcon.MessageType.ERROR);\n\n                } else if (\"Warning\".equals(item.getLabel())) {\n\n                    trayIcon.displayMessage(\"Sikke Node Server\", \"This is a warning message\",\n                            TrayIcon.MessageType.WARNING);\n\n                } else if (\"Info\".equals(item.getLabel())) {\n                    // GUI runs\n\n                    trayIcon.displayMessage(\"Sikke Node Server\", \"This is an info message\",\n                            TrayIcon.MessageType.INFO);\n                } else if (\"None\".equals(item.getLabel())) {\n\n                    trayIcon.displayMessage(\"Sikke Node Server\", \"This is an ordinary message\",\n                            TrayIcon.MessageType.NONE);\n                }\n            }\n        };\n        trayIcon.displayMessage(\"Sikke Node Server\", \"Sikke Node Server started successfully on port : \" + port,\n                TrayIcon.MessageType.INFO);\n\n        infoItem.addActionListener(listener);\n        noneItem.addActionListener(listener);\n        exitItem.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                tray.remove(trayIcon);\n                System.exit(0);\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>Watch out here</p>\n\n<pre><code>Application.launch(Gui.class, \"\");\n</code></pre>\n\n<p><strong>TrayIcon ActionListener updated</strong></p>\n\n<pre><code>trayIcon.addMouseListener(new MouseAdapter() {\n            public void mouseClicked(MouseEvent e) {\n                if (e.getClickCount() == 1) {\n                    if (Platform.isFxApplicationThread()) {\n                        Platform.runLater(new Runnable() {\n\n                            @Override\n                            public void run() {\n                                try {\n                                    new Gui().start(new Stage());\n                                } catch (Exception e) {\n                                    e.printStackTrace();\n                                }\n                            }\n                        });\n                    } else {\n                        Application.launch(Gui.class, \"\");\n                    }\n                }\n            }\n        });\n</code></pre>\n"},{"tags":["java","spring-boot","heroku","deployment"],"comments":[{"owner":{"account_id":13829286,"reputation":15,"user_id":9982668,"display_name":"shark"},"score":0,"creation_date":1659167181,"post_id":73173701,"comment_id":129232813,"body_markdown":"Below command can be used for file name too long error. git config --system core.longpaths true. it worked for me","body":"Below command can be used for file name too long error. git config --system core.longpaths true. it worked for me"}],"answers":[{"tags":[],"owner":{"account_id":23231056,"reputation":64,"user_id":17321805,"display_name":"Filip Grujic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659169129,"creation_date":1659169129,"answer_id":73173982,"question_id":73173701,"body_markdown":"Try cutting the length of the name of the file \r\n`&quot;New Project – Google Cloud console_files/m=sy2,sy4,sy8,sy9,sy3,sy5,sy6,sy7,syl,syf,syj,syk,syn,syy,pm_shortcut_hints_service,syi,sy1f,sy24,sy2d,sy14,sys,sy19,sy2b,syb,syc,syx,sy18,s&quot;`\r\nas the error states that the filename is too long.","title":"Error while executing git add . in command prompt","body":"<p>Try cutting the length of the name of the file\n<code>&quot;New Project – Google Cloud console_files/m=sy2,sy4,sy8,sy9,sy3,sy5,sy6,sy7,syl,syf,syj,syk,syn,syy,pm_shortcut_hints_service,syi,sy1f,sy24,sy2d,sy14,sys,sy19,sy2b,syb,syc,syx,sy18,s&quot;</code>\nas the error states that the filename is too long.</p>\n"}],"owner":{"account_id":13829286,"reputation":15,"user_id":9982668,"display_name":"shark"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659169129,"creation_date":1659165991,"question_id":73173701,"body_markdown":"I am trying to deploy my spring boot application to Heroku. I could see below when I execute `git add .` \r\n\r\n```lang-none\r\nwarning: in the working copy of &#39;New Project – Google Cloud console_files/m=b(2)&#39;, LF will be replaced by CRLF the next time Git touches it\r\nwarning: in the working copy of &#39;New Project – Google Cloud console_files/m=b(3)&#39;, LF will be replaced by CRLF the next time Git touches it\r\nwarning: in the working copy of &#39;New Project – Google Cloud console_files/m=core,pm_welcome_home&#39;, LF will be replaced by CRLF the next time Git touches it\r\nwarning: in the working copy of &#39;New Project – Google Cloud console_files/m=core,pm_welcome_home(1)&#39;, LF will be replaced by CRLF the next time Git touches it\r\nwarning: in the working copy of &#39;New Project – Google Cloud console_files/m=pm_freetrial_organization_credits&#39;, LF will be replaced by CRLF the next time Git touches it\r\nwarning: in the working copy of &#39;New Project – Google Cloud console_files/m=pm_freetrial_signup_dialog&#39;, LF will be replaced by CRLF the next time Git touches it\r\nwarning: in the working copy of &#39;New Project – Google Cloud console_files/m=sy13,pm_doc_url_service&#39;, LF will be replaced by CRLF the next time Git touches it\r\nwarning: in the working copy of &#39;New Project – Google Cloud console_files/m=sy15,sy1i,sy1m,sy27,sy2g,pm_freetrial_verify&#39;, LF will be replaced by CRLF the next time Git touches it\r\nwarning: in the working copy of &#39;New Project – Google Cloud console_files/m=sy17,pm_title_service&#39;, LF will be replaced by CRLF the next time Git touches it\r\nwarning: in the working copy of &#39;New Project – Google Cloud console_files/m=sy1n,pm_title_service&#39;, LF will be replaced by CRLF the next time Git touches it\r\nwarning: in the working copy of &#39;New Project – Google Cloud console_files/m=sy1z,pm_free_trial_popup&#39;, LF will be replaced by CRLF the next time Git touches it\r\nerror: open(&quot;New Project – Google Cloud console_files/m=sy2,sy4,sy8,sy9,sy3,sy5,sy6,sy7,syl,syf,syj,syk,syn,syy,pm_shortcut_hints_service,syi,sy1f,sy24,sy2d,sy14,sys,sy19,sy2b,syb,syc,syx,sy18,s&quot;): Filename too long\r\nerror: unable to index file &#39;New Project – Google Cloud console_files/m=sy2,sy4,sy8,sy9,sy3,sy5,sy6,sy7,syl,syf,syj,syk,syn,syy,pm_shortcut_hints_service,syi,sy1f,sy24,sy2d,sy14,sys,sy19,sy2b,syb,syc,syx,sy18,s&#39;\r\nfatal: adding files failed\r\n```","title":"Error while executing git add . in command prompt","body":"<p>I am trying to deploy my spring boot application to Heroku. I could see below when I execute <code>git add .</code></p>\n<pre class=\"lang-none prettyprint-override\"><code>warning: in the working copy of 'New Project – Google Cloud console_files/m=b(2)', LF will be replaced by CRLF the next time Git touches it\nwarning: in the working copy of 'New Project – Google Cloud console_files/m=b(3)', LF will be replaced by CRLF the next time Git touches it\nwarning: in the working copy of 'New Project – Google Cloud console_files/m=core,pm_welcome_home', LF will be replaced by CRLF the next time Git touches it\nwarning: in the working copy of 'New Project – Google Cloud console_files/m=core,pm_welcome_home(1)', LF will be replaced by CRLF the next time Git touches it\nwarning: in the working copy of 'New Project – Google Cloud console_files/m=pm_freetrial_organization_credits', LF will be replaced by CRLF the next time Git touches it\nwarning: in the working copy of 'New Project – Google Cloud console_files/m=pm_freetrial_signup_dialog', LF will be replaced by CRLF the next time Git touches it\nwarning: in the working copy of 'New Project – Google Cloud console_files/m=sy13,pm_doc_url_service', LF will be replaced by CRLF the next time Git touches it\nwarning: in the working copy of 'New Project – Google Cloud console_files/m=sy15,sy1i,sy1m,sy27,sy2g,pm_freetrial_verify', LF will be replaced by CRLF the next time Git touches it\nwarning: in the working copy of 'New Project – Google Cloud console_files/m=sy17,pm_title_service', LF will be replaced by CRLF the next time Git touches it\nwarning: in the working copy of 'New Project – Google Cloud console_files/m=sy1n,pm_title_service', LF will be replaced by CRLF the next time Git touches it\nwarning: in the working copy of 'New Project – Google Cloud console_files/m=sy1z,pm_free_trial_popup', LF will be replaced by CRLF the next time Git touches it\nerror: open(&quot;New Project – Google Cloud console_files/m=sy2,sy4,sy8,sy9,sy3,sy5,sy6,sy7,syl,syf,syj,syk,syn,syy,pm_shortcut_hints_service,syi,sy1f,sy24,sy2d,sy14,sys,sy19,sy2b,syb,syc,syx,sy18,s&quot;): Filename too long\nerror: unable to index file 'New Project – Google Cloud console_files/m=sy2,sy4,sy8,sy9,sy3,sy5,sy6,sy7,syl,syf,syj,syk,syn,syy,pm_shortcut_hints_service,syi,sy1f,sy24,sy2d,sy14,sys,sy19,sy2b,syb,syc,syx,sy18,s'\nfatal: adding files failed\n</code></pre>\n"},{"tags":["java","android","push-notification","firebase-cloud-messaging","androidx"],"answers":[{"tags":[],"owner":{"account_id":1419026,"reputation":1952,"user_id":1344049,"display_name":"Dipankar Baghel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581576441,"creation_date":1581570005,"answer_id":60200762,"question_id":60200682,"body_markdown":"   I think the issue is in below line of `else` condition \r\n\r\n    resultIntent = new Intent(this, NavigationActivity.class);\r\n    taskStackBuilder.addParentStack(NavigationActivity.class);\r\n    taskStackBuilder.addNextIntentWithParentStack(resultIntent);\r\n\r\nYou are setting `Parent` and opening activity on notification tap the same. so its not following the back stack architecture for `TaskStackBuilder`.\r\n\r\nCan you correct the parent and give a try hope this will work.","title":"when app is not open on stack after notification click not working in android","body":"<p>I think the issue is in below line of <code>else</code> condition </p>\n\n<pre><code>resultIntent = new Intent(this, NavigationActivity.class);\ntaskStackBuilder.addParentStack(NavigationActivity.class);\ntaskStackBuilder.addNextIntentWithParentStack(resultIntent);\n</code></pre>\n\n<p>You are setting <code>Parent</code> and opening activity on notification tap the same. so its not following the back stack architecture for <code>TaskStackBuilder</code>.</p>\n\n<p>Can you correct the parent and give a try hope this will work.</p>\n"},{"tags":[],"owner":{"account_id":6818910,"reputation":156,"user_id":12238257,"display_name":"MAYUR SANCHETI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659168853,"creation_date":1659168853,"answer_id":73173959,"question_id":60200682,"body_markdown":"i suggest you can use\r\n\r\n    &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;.MainActivity&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\nusing this code clicking on notification will work.\r\n\r\n","title":"when app is not open on stack after notification click not working in android","body":"<p>i suggest you can use</p>\n<pre><code>&lt;intent-filter&gt;\n            &lt;action android:name=&quot;.MainActivity&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\n        &lt;/intent-filter&gt;\n</code></pre>\n<p>using this code clicking on notification will work.</p>\n"}],"owner":{"account_id":17017727,"reputation":31,"user_id":12311154,"display_name":"Foram Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659168853,"creation_date":1581569525,"question_id":60200682,"body_markdown":"[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/l8KLT.png\r\n\r\n\r\n\r\n classpath &#39;com.google.gms:google-services:4.3.3&#39;\r\n\r\n\r\n\r\n\r\n\r\nAdded Dependencies \r\n\r\n     implementation &#39;com.google.firebase:firebase-auth:19.2.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-core:17.2.2&#39;\r\n    implementation &#39;com.google.firebase:firebase-crash:16.2.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging:20.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics:17.2.2&#39;\r\n\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-tagmanager:17.0.0&#39;\r\n \r\n\r\n\r\n\r\nMyFirebaseInstanceIDService.java\r\n\r\npublic class MyFirebaseInstanceIDService extends FirebaseMessagingService {\r\n\r\n    private static final String TAG = &quot;MyFirebaseIIDService&quot;;\r\n    public static String fcm_Tocken ;\r\n\r\n\r\n    @Override\r\n    public void onNewToken(@NonNull String s) {\r\n        super.onNewToken(s);\r\n\r\n        storeRegIdInPref(s);\r\n\r\n        // sending reg id to your server\r\n        sendRegistrationToServer(s);\r\n\r\n        // Notify UI that registration has completed, so the progress indicator can be hidden.\r\n        Intent registrationComplete = new Intent(CONSTANTS.REGISTRATION_COMPLETE);\r\n        registrationComplete.putExtra(&quot;token&quot;, s);\r\n        LocalBroadcastManager.getInstance(this).sendBroadcast(registrationComplete);\r\n\r\n\r\n        String refreshedToken =  FirebaseInstanceId.getInstance().getToken();\r\n        FirebaseMessaging.getInstance().subscribeToTopic(&quot;all&quot;);\r\n        SharedPreferences.Editor editor1 = getSharedPreferences(CONSTANTS.API_param_DeviceToken, MODE_PRIVATE).edit();\r\n        editor1.putString(CONSTANTS.API_param_DeviceToken,refreshedToken); //Friend\r\n        editor1.apply();\r\n        editor1.commit();\r\n        fcm_Tocken = refreshedToken;\r\n    }\r\n    private void sendRegistrationToServer(final String token) {\r\n        // sending gcm token to server\r\n        Log.e(TAG, &quot;sendRegistrationToServer: &quot; + token);\r\n    }\r\n\r\n    private void storeRegIdInPref(String token) {\r\n        SharedPreferences.Editor editor1 = getSharedPreferences(CONSTANTS.API_param_DeviceToken, MODE_PRIVATE).edit();\r\n        editor1.putString(CONSTANTS.API_param_DeviceToken,token); //Friend\r\n        editor1.apply();\r\n        editor1.commit();\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\nMyFirebaseMessagingService.java\r\n\r\npublic class MyFirebaseMessagingService extends FirebaseMessagingService {\r\n\r\n    public static final String NOTIFICATION_CHANNEL_ID = &quot;10001&quot;;\r\n    private NotificationManager mNotificationManager;\r\n    private NotificationCompat.Builder notificationBuilder;\r\n    Activity context;\r\n    String title = &quot;&quot;, image = &quot;&quot;, message = &quot;&quot;, flag = &quot;&quot;, id = &quot;&quot;;\r\n\r\n    private static final String TAG = MyFirebaseMessagingService.class.getSimpleName();\r\n\r\n    public static Bitmap getBitmapFromURL(String src) {\r\n        try {\r\n            URL url = new URL(src);\r\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n            connection.setDoInput(true);\r\n            connection.connect();\r\n            InputStream input = connection.getInputStream();\r\n            return BitmapFactory.decodeStream(input);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n    @Override\r\n    public void onMessageReceived(RemoteMessage remoteMessage) {\r\n\r\n        FirebaseMessaging.getInstance().subscribeToTopic(&quot;topic&quot;);\r\n\r\n        Random random = new Random();\r\n        int m = random.nextInt(9999 - 1000) + 1000;\r\n        if (remoteMessage == null)\r\n            return;\r\n        if (remoteMessage.getNotification() != null) {\r\n\r\n            Log.e(TAG, &quot;Notification Body: &quot; + remoteMessage.getNotification().getBody());\r\n            title = remoteMessage.getNotification().getTitle();\r\n            message = remoteMessage.getNotification().getBody();\r\n            sendNotification(title, message, flag, id, String.valueOf(m));\r\n        }\r\n        if (remoteMessage.getData().size() &gt; 0) {\r\n            Log.e(TAG, &quot;Data Payload: &quot; + remoteMessage.getData().toString());\r\n\r\n            try {\r\n                title = remoteMessage.getData().get(&quot;title&quot;);\r\n                image = remoteMessage.getData().get(&quot;image&quot;);\r\n                message = remoteMessage.getData().get(&quot;body&quot;);\r\n                flag = remoteMessage.getData().get(&quot;flag&quot;);\r\n                id = remoteMessage.getData().get(&quot;id&quot;);\r\n                sendNotification(title, message, flag, id, String.valueOf(m));\r\n\r\n            } catch (Exception e) {\r\n                Log.e(TAG, &quot;Exception: &quot; + e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\n    private void sendNotification(String title, String message, String flag, String id, String m) {\r\n\r\n        Intent resultIntent= null;\r\n        PendingIntent resultPendingIntent=null;\r\n        TaskStackBuilder taskStackBuilder = TaskStackBuilder.create(this);\r\n        try {\r\n            if (flag != null &amp;&amp; flag.equalsIgnoreCase(&quot;refer_friend&quot;)) {\r\n                resultIntent = new Intent(this, SquareEarnActivity.class);\r\n                resultIntent.putExtra(CONSTANTS.back_flag, CONSTANTS.FLAG_ONE);\r\n                taskStackBuilder.addParentStack(NavigationActivity.class);\r\n                taskStackBuilder.addNextIntentWithParentStack(resultIntent);\r\n                resultPendingIntent = taskStackBuilder.getPendingIntent(0, PendingIntent.FLAG_UPDATE_CURRENT);\r\n            }else\r\n                resultIntent = new Intent(this, NavigationActivity.class);\r\n                taskStackBuilder.addParentStack(NavigationActivity.class);\r\n                taskStackBuilder.addNextIntentWithParentStack(resultIntent);\r\n                resultPendingIntent = taskStackBuilder.getPendingIntent(0, PendingIntent.FLAG_UPDATE_CURRENT);\r\n            }\r\n\r\n            Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\r\n            NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n            if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\r\n\r\n                NotificationChannel channel = new NotificationChannel(&quot;ID&quot;, &quot;NAME&quot;, NotificationManager.IMPORTANCE_HIGH);\r\n                channel.setDescription(&quot;Notification&quot;);\r\n                notificationManager.createNotificationChannel(channel);\r\n\r\n                notificationBuilder = new NotificationCompat.Builder(this, channel.getId());\r\n            } else {\r\n                notificationBuilder = new NotificationCompat.Builder(this);\r\n            }\r\n\r\n            notificationBuilder.setSmallIcon(R.drawable.logo);\r\n            notificationBuilder.setStyle(new NotificationCompat.BigTextStyle().bigText(message));\r\n            notificationBuilder.setContentTitle(title);\r\n            notificationBuilder.setContentText(message);\r\n            notificationBuilder.setDefaults(Notification.DEFAULT_VIBRATE | Notification.DEFAULT_SOUND | Notification.DEFAULT_LIGHTS\r\n                    | Notification.FLAG_AUTO_CANCEL);\r\n            notificationBuilder.setColor(getResources().getColor(R.color.darkorange));\r\n            notificationBuilder.setAutoCancel(true);\r\n            notificationBuilder.setSound(defaultSoundUri);\r\n            notificationBuilder.setPriority(NotificationCompat.PRIORITY_MAX);\r\n            notificationBuilder.setContentIntent(resultPendingIntent);\r\n\r\n            Notification note = notificationBuilder.build();\r\n            note.flags = Notification.FLAG_INSISTENT;\r\n            note.flags = Notification.DEFAULT_VIBRATE;\r\n            note.flags = Notification.DEFAULT_SOUND;\r\n            note.flags = Notification.DEFAULT_LIGHTS;\r\n            note.flags = Notification.FLAG_AUTO_CANCEL;\r\n            notificationManager.notify(Integer.parseInt(m), notificationBuilder.build());\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n","title":"when app is not open on stack after notification click not working in android","body":"<p><a href=\"https://i.stack.imgur.com/l8KLT.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>classpath 'com.google.gms:google-services:4.3.3'</p>\n\n<p>Added Dependencies </p>\n\n<pre><code> implementation 'com.google.firebase:firebase-auth:19.2.0'\nimplementation 'com.google.firebase:firebase-core:17.2.2'\nimplementation 'com.google.firebase:firebase-crash:16.2.1'\nimplementation 'com.google.firebase:firebase-messaging:20.1.0'\nimplementation 'com.google.firebase:firebase-analytics:17.2.2'\n\nimplementation 'androidx.legacy:legacy-support-v4:1.0.0'\nimplementation 'com.google.android.gms:play-services-tagmanager:17.0.0'\n</code></pre>\n\n<p>MyFirebaseInstanceIDService.java</p>\n\n<p>public class MyFirebaseInstanceIDService extends FirebaseMessagingService {</p>\n\n<pre><code>private static final String TAG = \"MyFirebaseIIDService\";\npublic static String fcm_Tocken ;\n\n\n@Override\npublic void onNewToken(@NonNull String s) {\n    super.onNewToken(s);\n\n    storeRegIdInPref(s);\n\n    // sending reg id to your server\n    sendRegistrationToServer(s);\n\n    // Notify UI that registration has completed, so the progress indicator can be hidden.\n    Intent registrationComplete = new Intent(CONSTANTS.REGISTRATION_COMPLETE);\n    registrationComplete.putExtra(\"token\", s);\n    LocalBroadcastManager.getInstance(this).sendBroadcast(registrationComplete);\n\n\n    String refreshedToken =  FirebaseInstanceId.getInstance().getToken();\n    FirebaseMessaging.getInstance().subscribeToTopic(\"all\");\n    SharedPreferences.Editor editor1 = getSharedPreferences(CONSTANTS.API_param_DeviceToken, MODE_PRIVATE).edit();\n    editor1.putString(CONSTANTS.API_param_DeviceToken,refreshedToken); //Friend\n    editor1.apply();\n    editor1.commit();\n    fcm_Tocken = refreshedToken;\n}\nprivate void sendRegistrationToServer(final String token) {\n    // sending gcm token to server\n    Log.e(TAG, \"sendRegistrationToServer: \" + token);\n}\n\nprivate void storeRegIdInPref(String token) {\n    SharedPreferences.Editor editor1 = getSharedPreferences(CONSTANTS.API_param_DeviceToken, MODE_PRIVATE).edit();\n    editor1.putString(CONSTANTS.API_param_DeviceToken,token); //Friend\n    editor1.apply();\n    editor1.commit();\n}\n</code></pre>\n\n<p>}</p>\n\n<p>MyFirebaseMessagingService.java</p>\n\n<p>public class MyFirebaseMessagingService extends FirebaseMessagingService {</p>\n\n<pre><code>public static final String NOTIFICATION_CHANNEL_ID = \"10001\";\nprivate NotificationManager mNotificationManager;\nprivate NotificationCompat.Builder notificationBuilder;\nActivity context;\nString title = \"\", image = \"\", message = \"\", flag = \"\", id = \"\";\n\nprivate static final String TAG = MyFirebaseMessagingService.class.getSimpleName();\n\npublic static Bitmap getBitmapFromURL(String src) {\n    try {\n        URL url = new URL(src);\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n        connection.setDoInput(true);\n        connection.connect();\n        InputStream input = connection.getInputStream();\n        return BitmapFactory.decodeStream(input);\n    } catch (IOException e) {\n        e.printStackTrace();\n        return null;\n    }\n}\n@Override\npublic void onMessageReceived(RemoteMessage remoteMessage) {\n\n    FirebaseMessaging.getInstance().subscribeToTopic(\"topic\");\n\n    Random random = new Random();\n    int m = random.nextInt(9999 - 1000) + 1000;\n    if (remoteMessage == null)\n        return;\n    if (remoteMessage.getNotification() != null) {\n\n        Log.e(TAG, \"Notification Body: \" + remoteMessage.getNotification().getBody());\n        title = remoteMessage.getNotification().getTitle();\n        message = remoteMessage.getNotification().getBody();\n        sendNotification(title, message, flag, id, String.valueOf(m));\n    }\n    if (remoteMessage.getData().size() &gt; 0) {\n        Log.e(TAG, \"Data Payload: \" + remoteMessage.getData().toString());\n\n        try {\n            title = remoteMessage.getData().get(\"title\");\n            image = remoteMessage.getData().get(\"image\");\n            message = remoteMessage.getData().get(\"body\");\n            flag = remoteMessage.getData().get(\"flag\");\n            id = remoteMessage.getData().get(\"id\");\n            sendNotification(title, message, flag, id, String.valueOf(m));\n\n        } catch (Exception e) {\n            Log.e(TAG, \"Exception: \" + e.getMessage());\n        }\n    }\n}\n\nprivate void sendNotification(String title, String message, String flag, String id, String m) {\n\n    Intent resultIntent= null;\n    PendingIntent resultPendingIntent=null;\n    TaskStackBuilder taskStackBuilder = TaskStackBuilder.create(this);\n    try {\n        if (flag != null &amp;&amp; flag.equalsIgnoreCase(\"refer_friend\")) {\n            resultIntent = new Intent(this, SquareEarnActivity.class);\n            resultIntent.putExtra(CONSTANTS.back_flag, CONSTANTS.FLAG_ONE);\n            taskStackBuilder.addParentStack(NavigationActivity.class);\n            taskStackBuilder.addNextIntentWithParentStack(resultIntent);\n            resultPendingIntent = taskStackBuilder.getPendingIntent(0, PendingIntent.FLAG_UPDATE_CURRENT);\n        }else\n            resultIntent = new Intent(this, NavigationActivity.class);\n            taskStackBuilder.addParentStack(NavigationActivity.class);\n            taskStackBuilder.addNextIntentWithParentStack(resultIntent);\n            resultPendingIntent = taskStackBuilder.getPendingIntent(0, PendingIntent.FLAG_UPDATE_CURRENT);\n        }\n\n        Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\n        NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\n\n            NotificationChannel channel = new NotificationChannel(\"ID\", \"NAME\", NotificationManager.IMPORTANCE_HIGH);\n            channel.setDescription(\"Notification\");\n            notificationManager.createNotificationChannel(channel);\n\n            notificationBuilder = new NotificationCompat.Builder(this, channel.getId());\n        } else {\n            notificationBuilder = new NotificationCompat.Builder(this);\n        }\n\n        notificationBuilder.setSmallIcon(R.drawable.logo);\n        notificationBuilder.setStyle(new NotificationCompat.BigTextStyle().bigText(message));\n        notificationBuilder.setContentTitle(title);\n        notificationBuilder.setContentText(message);\n        notificationBuilder.setDefaults(Notification.DEFAULT_VIBRATE | Notification.DEFAULT_SOUND | Notification.DEFAULT_LIGHTS\n                | Notification.FLAG_AUTO_CANCEL);\n        notificationBuilder.setColor(getResources().getColor(R.color.darkorange));\n        notificationBuilder.setAutoCancel(true);\n        notificationBuilder.setSound(defaultSoundUri);\n        notificationBuilder.setPriority(NotificationCompat.PRIORITY_MAX);\n        notificationBuilder.setContentIntent(resultPendingIntent);\n\n        Notification note = notificationBuilder.build();\n        note.flags = Notification.FLAG_INSISTENT;\n        note.flags = Notification.DEFAULT_VIBRATE;\n        note.flags = Notification.DEFAULT_SOUND;\n        note.flags = Notification.DEFAULT_LIGHTS;\n        note.flags = Notification.FLAG_AUTO_CANCEL;\n        notificationManager.notify(Integer.parseInt(m), notificationBuilder.build());\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659168745,"creation_date":1659168745,"answer_id":73173945,"question_id":73162328,"body_markdown":"In Log4j2 the `:-` separator is used to provide default values. It is described in the [documentation you cite](https://logging.apache.org/log4j/2.x/manual/lookups.html#AppMainArgsLookup):\r\n\r\n&gt;Note: Many applications use leading dashes to identify command arguments. Specifying `${main:--file}` would result in the lookup failing because it would look for a variable named &quot;main&quot; with a default value of &quot;-file&quot;. To avoid this the &quot;:&quot; separating the Lookup name from the key must be followed by a backslash as an escape character as in `${main:\\--file}`.\r\n\r\nHence just replace `${main:--e}` with `${main:\\--e}` and it should work.","title":"log4j2 property substitution using Main Arguments Lookup (Application)","body":"<p>In Log4j2 the <code>:-</code> separator is used to provide default values. It is described in the <a href=\"https://logging.apache.org/log4j/2.x/manual/lookups.html#AppMainArgsLookup\" rel=\"nofollow noreferrer\">documentation you cite</a>:</p>\n<blockquote>\n<p>Note: Many applications use leading dashes to identify command arguments. Specifying <code>${main:--file}</code> would result in the lookup failing because it would look for a variable named &quot;main&quot; with a default value of &quot;-file&quot;. To avoid this the &quot;:&quot; separating the Lookup name from the key must be followed by a backslash as an escape character as in <code>${main:\\--file}</code>.</p>\n</blockquote>\n<p>Hence just replace <code>${main:--e}</code> with <code>${main:\\--e}</code> and it should work.</p>\n"}],"owner":{"account_id":1588748,"reputation":299,"user_id":1472551,"display_name":"Abhi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659168745,"creation_date":1659075383,"question_id":73162328,"body_markdown":"I am trying to follow - \r\n\r\nhttps://logging.apache.org/log4j/2.x/manual/configuration.html#PropertySubstitution\r\n\r\nhttps://logging.apache.org/log4j/2.x/manual/lookups.html#AppMainArgsLookup\r\n\r\nMy main class looks like - \r\n\r\n   \r\n\r\n     public static void main(String[] args) throws IOException {\r\n        \r\n    --Some Code\r\n        MyappArgs jArgs=new MyappArgs();\r\n                JCommander MyappCmd=JCommander.newBuilder()\r\n                        .addObject(jArgs)\r\n                        .build();\r\n                MyappCmd.parse(args);\r\n                MainMapLookup.setMainArguments(args);\r\n    --Some code\r\n        }\r\n\r\nIt runs it an argument\r\n\r\n    java -jar MyApp.jar --e &quot;appllication1&quot; \r\n\r\nI want name of my log file as Application1.log\r\n\r\nLog4j2.xml looks like - \r\n\r\n \r\n\r\n    &lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;${main:--e}.log&quot; filePattern=&quot;${main:--e}.log&quot;&gt;\r\n                &lt;Policies&gt;\r\n                    &lt;OnStartupTriggeringPolicy/&gt;\r\n                &lt;/Policies&gt;\r\n                &lt;DefaultRolloverStrategy fileIndex=&quot;max&quot; max=&quot;10&quot;/&gt;\r\n                &lt;PatternLayout pattern=&quot;[%d{dd/MMM/yyyy HH:mm:ss.SSS}]&gt; %-5p - %m%n&quot;/&gt;\r\n            &lt;/RollingFile&gt;\r\n\r\nBut somehow substition is not happening here, my log file gets created with name -e.log instead of Application1.log\r\n\r\n11:41:36.293 [main] INFO  Runner - Location of Log files is : -e.log\r\n\r\n\r\nI tried to give -\r\n\r\n    &lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;${main:1}.log&quot; filePattern=&quot;${main:1}.log&quot;&gt;\r\n\r\nBut this gave me error -\r\n\r\n    main ERROR Unable to create file ${main:1}.log java.io.IOException: The filename, directory name, or volume label syntax is incorrect\r\n\r\n\r\nI see a similar question - https://stackoverflow.com/questions/34070204/log4j2-system-property-written-as-a-file\r\n\r\nBut somehow this is not working for me.\r\n\r\nAny pointers are appreciated.\r\n\r\n\r\nKind Regards,\r\n\r\nA","title":"log4j2 property substitution using Main Arguments Lookup (Application)","body":"<p>I am trying to follow -</p>\n<p><a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#PropertySubstitution\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/configuration.html#PropertySubstitution</a></p>\n<p><a href=\"https://logging.apache.org/log4j/2.x/manual/lookups.html#AppMainArgsLookup\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/lookups.html#AppMainArgsLookup</a></p>\n<p>My main class looks like -</p>\n<pre><code> public static void main(String[] args) throws IOException {\n    \n--Some Code\n    MyappArgs jArgs=new MyappArgs();\n            JCommander MyappCmd=JCommander.newBuilder()\n                    .addObject(jArgs)\n                    .build();\n            MyappCmd.parse(args);\n            MainMapLookup.setMainArguments(args);\n--Some code\n    }\n</code></pre>\n<p>It runs it an argument</p>\n<pre><code>java -jar MyApp.jar --e &quot;appllication1&quot; \n</code></pre>\n<p>I want name of my log file as Application1.log</p>\n<p>Log4j2.xml looks like -</p>\n<pre><code>&lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;${main:--e}.log&quot; filePattern=&quot;${main:--e}.log&quot;&gt;\n            &lt;Policies&gt;\n                &lt;OnStartupTriggeringPolicy/&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy fileIndex=&quot;max&quot; max=&quot;10&quot;/&gt;\n            &lt;PatternLayout pattern=&quot;[%d{dd/MMM/yyyy HH:mm:ss.SSS}]&gt; %-5p - %m%n&quot;/&gt;\n        &lt;/RollingFile&gt;\n</code></pre>\n<p>But somehow substition is not happening here, my log file gets created with name -e.log instead of Application1.log</p>\n<p>11:41:36.293 [main] INFO  Runner - Location of Log files is : -e.log</p>\n<p>I tried to give -</p>\n<pre><code>&lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;${main:1}.log&quot; filePattern=&quot;${main:1}.log&quot;&gt;\n</code></pre>\n<p>But this gave me error -</p>\n<pre><code>main ERROR Unable to create file ${main:1}.log java.io.IOException: The filename, directory name, or volume label syntax is incorrect\n</code></pre>\n<p>I see a similar question - <a href=\"https://stackoverflow.com/questions/34070204/log4j2-system-property-written-as-a-file\">Log4j2 system property written as a file</a></p>\n<p>But somehow this is not working for me.</p>\n<p>Any pointers are appreciated.</p>\n<p>Kind Regards,</p>\n<p>A</p>\n"},{"tags":["java","localization","struts2","migration"],"comments":[{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1501087337,"post_id":45327141,"comment_id":77627682,"body_markdown":"Depends what for and where you&#39;re using it. You can inject `LocalizedTextProvider`. See https://issues.apache.org/jira/browse/WW-4813.","body":"Depends what for and where you&#39;re using it. You can inject <code>LocalizedTextProvider</code>. See <a href=\"https://issues.apache.org/jira/browse/WW-4813\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/WW-4813</a>."},{"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"score":0,"creation_date":1501100009,"post_id":45327141,"comment_id":77635112,"body_markdown":"I am using it to override struts 2 resource bundles keys. https://stackoverflow.com/questions/28137603/struts-2-override-resource-messages-keys You have helped me about that 2 years a go :)","body":"I am using it to override struts 2 resource bundles keys. <a href=\"https://stackoverflow.com/questions/28137603/struts-2-override-resource-messages-keys\" title=\"struts 2 override resource messages keys\">stackoverflow.com/questions/28137603/&hellip;</a> You have helped me about that 2 years a go :)"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":1,"creation_date":1501102641,"post_id":45327141,"comment_id":77636556,"body_markdown":":) Again it depends on where do you want to use this. But, now you can create new instance of `GlobalLocalizedTextProvider` add bundles to it and use it. You can also wrap it in some bean and inject it.","body":":) Again it depends on where do you want to use this. But, now you can create new instance of <code>GlobalLocalizedTextProvider</code> add bundles to it and use it. You can also wrap it in some bean and inject it."},{"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"score":0,"creation_date":1501317173,"post_id":45327141,"comment_id":77735072,"body_markdown":"It did not work! I tried `LocalizedTextProvider provider = new GlobalLocalizedTextProvider(); provider.addDefaultResourceBundle(&#39;messages/resources&#39;)` but the resource is not added. Should I use another technique.","body":"It did not work! I tried <code>LocalizedTextProvider provider = new GlobalLocalizedTextProvider(); provider.addDefaultResourceBundle(&#39;messages&#47;resources&#39;)</code> but the resource is not added. Should I use another technique."},{"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"score":0,"creation_date":1501332293,"post_id":45327141,"comment_id":77739336,"body_markdown":"I set an issue at https://issues.apache.org/jira/browse/WW-4829. Meanwhile I see that https://struts.apache.org/docs/how-do-i-set-a-global-resource-bundle.html is not valid any more.","body":"I set an issue at <a href=\"https://issues.apache.org/jira/browse/WW-4829\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/WW-4829</a>. Meanwhile I see that <a href=\"https://struts.apache.org/docs/how-do-i-set-a-global-resource-bundle.html\" rel=\"nofollow noreferrer\">struts.apache.org/docs/&hellip;</a> is not valid any more."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501073978,"creation_date":1501073978,"answer_id":45327745,"question_id":45327141,"body_markdown":"You should use [`StrutsLocalizedTextProvider`][1] or [`GlobalLocalizedTextProvider`][2]. They have some *util* api, however it&#39;s marked as deprecated. Happily, it&#39;s documented in the javadoc. \r\n\r\n&lt;sub&gt;I&#39;m referencing source code from the repo because I was unable to find these classes in javadoc for Struts 2 Core 2.5.11-SNAPSHOT API&lt;/sub&gt; \r\n\r\n\r\n  [1]: https://github.com/apache/struts/blob/master/core/src/main/java/com/opensymphony/xwork2/util/StrutsLocalizedTextProvider.java\r\n  [2]: https://github.com/apache/struts/blob/master/core/src/main/java/com/opensymphony/xwork2/util/GlobalLocalizedTextProvider.java","title":"Migrate from Struts 2.3.33 to Struts 2.5.12 LocalizedTextUtil is removed","body":"<p>You should use <a href=\"https://github.com/apache/struts/blob/master/core/src/main/java/com/opensymphony/xwork2/util/StrutsLocalizedTextProvider.java\" rel=\"nofollow noreferrer\"><code>StrutsLocalizedTextProvider</code></a> or <a href=\"https://github.com/apache/struts/blob/master/core/src/main/java/com/opensymphony/xwork2/util/GlobalLocalizedTextProvider.java\" rel=\"nofollow noreferrer\"><code>GlobalLocalizedTextProvider</code></a>. They have some <em>util</em> api, however it's marked as deprecated. Happily, it's documented in the javadoc. </p>\n\n<p><sub>I'm referencing source code from the repo because I was unable to find these classes in javadoc for Struts 2 Core 2.5.11-SNAPSHOT API</sub> </p>\n"},{"tags":[],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659168398,"creation_date":1501417237,"answer_id":45399766,"question_id":45327141,"body_markdown":"The struts.xml should be set as:\r\n\r\n    &lt;constant name=&quot;struts.xworkTextProvider&quot; value=&quot;DefaultTextProvider&quot; /&gt;\r\n    &lt;bean type=&quot;com.opensymphony.xwork2.TextProvider&quot; name=&quot;DefaultTextProvider&quot; class=&quot;utils.MyTextProviderFactory&quot; scope=&quot;default&quot; /&gt;\r\n\r\nAnd `CustomStrutsTextProviderFactory` could add bundles \r\n\r\n\r\n    public class MyTextProviderFactory implements TextProviderFactory {\r\n\r\n    protected LocaleProviderFactory localeProviderFactory;\r\n    protected LocalizedTextProvider localizedTextProvider;\r\n    \r\n    @Inject\r\n    public MyTextProviderFactory(LocaleProviderFactory localeProviderFactory, LocalizedTextProvider localizedTextProvider) {\r\n        this.localeProviderFactory = localeProviderFactory;\r\n        this.localizedTextProvider = localizedTextProvider;\r\n        \r\n        this.localizedTextProvider.addDefaultResourceBundle(&quot;messages/label&quot;);\r\n        this.localizedTextProvider.addDefaultResourceBundle(&quot;messages/customerA/label&quot;);\r\n        \r\n    }\r\n\r\n    @Override\r\n    public TextProvider createInstance(Class clazz) {\r\n        TextProvider instance = getTextProvider(clazz);\r\n        if (instance instanceof ResourceBundleTextProvider) {\r\n            ((ResourceBundleTextProvider) instance).setClazz(clazz);\r\n            ((ResourceBundleTextProvider) instance).setLocaleProvider(localeProviderFactory.createLocaleProvider());\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    @Override\r\n    public TextProvider createInstance(ResourceBundle bundle) {\r\n        TextProvider instance = getTextProvider(bundle);\r\n        if (instance instanceof ResourceBundleTextProvider) {\r\n            ((ResourceBundleTextProvider) instance).setBundle(bundle);\r\n            ((ResourceBundleTextProvider) instance).setLocaleProvider(localeProviderFactory.createLocaleProvider());\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    protected TextProvider getTextProvider(Class clazz) {\r\n        return new TextProviderSupport(clazz, localeProviderFactory.createLocaleProvider(), localizedTextProvider);\r\n    }\r\n\r\n    protected TextProvider getTextProvider(ResourceBundle bundle) {\r\n        return new TextProviderSupport(bundle, localeProviderFactory.createLocaleProvider(), localizedTextProvider);\r\n    }\r\n\r\n}\r\n\r\nComplete credits to @LukazLenart https://issues.apache.org/jira/browse/WW-4829","title":"Migrate from Struts 2.3.33 to Struts 2.5.12 LocalizedTextUtil is removed","body":"<p>The struts.xml should be set as:</p>\n<pre><code>&lt;constant name=&quot;struts.xworkTextProvider&quot; value=&quot;DefaultTextProvider&quot; /&gt;\n&lt;bean type=&quot;com.opensymphony.xwork2.TextProvider&quot; name=&quot;DefaultTextProvider&quot; class=&quot;utils.MyTextProviderFactory&quot; scope=&quot;default&quot; /&gt;\n</code></pre>\n<p>And <code>CustomStrutsTextProviderFactory</code> could add bundles</p>\n<pre><code>public class MyTextProviderFactory implements TextProviderFactory {\n\nprotected LocaleProviderFactory localeProviderFactory;\nprotected LocalizedTextProvider localizedTextProvider;\n\n@Inject\npublic MyTextProviderFactory(LocaleProviderFactory localeProviderFactory, LocalizedTextProvider localizedTextProvider) {\n    this.localeProviderFactory = localeProviderFactory;\n    this.localizedTextProvider = localizedTextProvider;\n    \n    this.localizedTextProvider.addDefaultResourceBundle(&quot;messages/label&quot;);\n    this.localizedTextProvider.addDefaultResourceBundle(&quot;messages/customerA/label&quot;);\n    \n}\n\n@Override\npublic TextProvider createInstance(Class clazz) {\n    TextProvider instance = getTextProvider(clazz);\n    if (instance instanceof ResourceBundleTextProvider) {\n        ((ResourceBundleTextProvider) instance).setClazz(clazz);\n        ((ResourceBundleTextProvider) instance).setLocaleProvider(localeProviderFactory.createLocaleProvider());\n    }\n    return instance;\n}\n\n@Override\npublic TextProvider createInstance(ResourceBundle bundle) {\n    TextProvider instance = getTextProvider(bundle);\n    if (instance instanceof ResourceBundleTextProvider) {\n        ((ResourceBundleTextProvider) instance).setBundle(bundle);\n        ((ResourceBundleTextProvider) instance).setLocaleProvider(localeProviderFactory.createLocaleProvider());\n    }\n    return instance;\n}\n\nprotected TextProvider getTextProvider(Class clazz) {\n    return new TextProviderSupport(clazz, localeProviderFactory.createLocaleProvider(), localizedTextProvider);\n}\n\nprotected TextProvider getTextProvider(ResourceBundle bundle) {\n    return new TextProviderSupport(bundle, localeProviderFactory.createLocaleProvider(), localizedTextProvider);\n}\n</code></pre>\n<p>}</p>\n<p>Complete credits to @LukazLenart <a href=\"https://issues.apache.org/jira/browse/WW-4829\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/WW-4829</a></p>\n"}],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4734,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":45399766,"answer_count":2,"score":2,"last_activity_date":1659168398,"creation_date":1501072436,"question_id":45327141,"body_markdown":"We tried to migrate from Struts 2.33 to Struts 2.5.12. \r\n\r\nWe used `LocalizedTextUtil` in our application directly.\r\n\r\nI found that the `LocalizedTextUtil` is removed from `com.opensymphony.xwork2.util.LocalizedTextUtil`. I tried to search but could not find any thing\r\n\r\nI found some classes like `StrutsLocalizedTextProvider`and `GlobalLocalizedTextProvider` but it seems they are not what I can use them.\r\n\r\nI have reviewed [migration-guide][1] but could not find any comment about it.\r\n\r\nWhich alternative is there?\r\n\r\n\r\n  [1]: https://struts.apache.org/docs/migration-guide.html","title":"Migrate from Struts 2.3.33 to Struts 2.5.12 LocalizedTextUtil is removed","body":"<p>We tried to migrate from Struts 2.33 to Struts 2.5.12. </p>\n\n<p>We used <code>LocalizedTextUtil</code> in our application directly.</p>\n\n<p>I found that the <code>LocalizedTextUtil</code> is removed from <code>com.opensymphony.xwork2.util.LocalizedTextUtil</code>. I tried to search but could not find any thing</p>\n\n<p>I found some classes like <code>StrutsLocalizedTextProvider</code>and <code>GlobalLocalizedTextProvider</code> but it seems they are not what I can use them.</p>\n\n<p>I have reviewed <a href=\"https://struts.apache.org/docs/migration-guide.html\" rel=\"nofollow noreferrer\">migration-guide</a> but could not find any comment about it.</p>\n\n<p>Which alternative is there?</p>\n"},{"tags":["java","spring","spring-boot","hot-code-replace"],"owner":{"account_id":541498,"reputation":3043,"user_id":910074,"accept_rate":75,"display_name":"Will Huang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659167357,"creation_date":1659167357,"question_id":73173828,"body_markdown":"I have a Spring Boot project with a model class below:\r\n\r\n```java\r\nimport javax.validation.constraints.*;\r\n\r\nimport lombok.Data;\r\n\r\n@Data\r\npublic class Item {\r\n    @NotNull\r\n    public int id;\r\n\r\n    @NotNull\r\n    @Email\r\n    public String email;\r\n}\r\n```\r\n\r\nHere is my API&#39;s action:\r\n\r\n```java\r\n@PostMapping\r\npublic ResponseEntity&lt;Item&gt; createItem(@Valid @RequestBody Item item) {\r\n    try {\r\n        Item createdItem = new Item();\r\n\r\n        URI createdUri = URI.create(&quot;/api/Home/999&quot;);\r\n        return ResponseEntity.created(createdUri).body(createdItem);\r\n    } catch (Exception e) {\r\n        return ResponseEntity.internalServerError().build();\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m trying to use the [Hot Code Replace][1] feature with input validation in Spring Boot.  Here is what I found. When I changed the validation annotation in the model class, the [Hot Code Replace][1] is not working. I have to restart my app to take effect. Is there any way to support this?\r\n\r\n\r\n  [1]: https://devblogs.microsoft.com/java/hot-code-replacement-for-java-comes-to-visual-studio-code/?WT.mc_id=DT-MVP-4015686","title":"Hot Code Replace can&#39;t work with spring-boot-starter-validation in VSCode","body":"<p>I have a Spring Boot project with a model class below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.validation.constraints.*;\n\nimport lombok.Data;\n\n@Data\npublic class Item {\n    @NotNull\n    public int id;\n\n    @NotNull\n    @Email\n    public String email;\n}\n</code></pre>\n<p>Here is my API's action:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping\npublic ResponseEntity&lt;Item&gt; createItem(@Valid @RequestBody Item item) {\n    try {\n        Item createdItem = new Item();\n\n        URI createdUri = URI.create(&quot;/api/Home/999&quot;);\n        return ResponseEntity.created(createdUri).body(createdItem);\n    } catch (Exception e) {\n        return ResponseEntity.internalServerError().build();\n    }\n}\n</code></pre>\n<p>I'm trying to use the <a href=\"https://devblogs.microsoft.com/java/hot-code-replacement-for-java-comes-to-visual-studio-code/?WT.mc_id=DT-MVP-4015686\" rel=\"nofollow noreferrer\">Hot Code Replace</a> feature with input validation in Spring Boot.  Here is what I found. When I changed the validation annotation in the model class, the <a href=\"https://devblogs.microsoft.com/java/hot-code-replacement-for-java-comes-to-visual-studio-code/?WT.mc_id=DT-MVP-4015686\" rel=\"nofollow noreferrer\">Hot Code Replace</a> is not working. I have to restart my app to take effect. Is there any way to support this?</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1659007344,"post_id":73147242,"comment_id":129195878,"body_markdown":"remove the `yesAPCS.fill();` line. The problem is that there&#39;s still this weird blue color, I think that is by Adobe.","body":"remove the <code>yesAPCS.fill();</code> line. The problem is that there&#39;s still this weird blue color, I think that is by Adobe."},{"owner":{"account_id":25908967,"reputation":13,"user_id":19633587,"display_name":"Seyed Ahamed Bilal"},"score":0,"creation_date":1659014697,"post_id":73147242,"comment_id":129198798,"body_markdown":"I commented few lines including the line mentioned by you on the comment. It&#39;s working fine as expected. But now on adding up 2 or more checkbox values with same name as a single group checkbox values with different export values. If I try to add multiple checkbox values with the same name causing an issue. First checkbox alone drawing on pdf file. If I change the name then it&#39;s loading. How to resolve this issue.","body":"I commented few lines including the line mentioned by you on the comment. It&#39;s working fine as expected. But now on adding up 2 or more checkbox values with same name as a single group checkbox values with different export values. If I try to add multiple checkbox values with the same name causing an issue. First checkbox alone drawing on pdf file. If I change the name then it&#39;s loading. How to resolve this issue."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1659081411,"post_id":73147242,"comment_id":129214958,"body_markdown":"That&#39;s a different topic, please create a new question. Also consider to answer this one yourself and explain what you changed. Also mention where you got the inspiration for the original code &#128518;","body":"That&#39;s a different topic, please create a new question. Also consider to answer this one yourself and explain what you changed. Also mention where you got the inspiration for the original code 😆"},{"owner":{"account_id":25908967,"reputation":13,"user_id":19633587,"display_name":"Seyed Ahamed Bilal"},"score":0,"creation_date":1659090424,"post_id":73147242,"comment_id":129218157,"body_markdown":";) @Tilman Hausherr Took code inspiration from your github source only. \nThanks for you support and I have few more clarity on tagging these form elements if you could help me on this as well or if you have any source references on marking form fields please ping here","body":";) @Tilman Hausherr Took code inspiration from your github source only.  Thanks for you support and I have few more clarity on tagging these form elements if you could help me on this as well or if you have any source references on marking form fields please ping here"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1659117190,"post_id":73147242,"comment_id":129224948,"body_markdown":"I mean as an answer, not as a comment.","body":"I mean as an answer, not as a comment."}],"answers":[{"tags":[],"owner":{"account_id":25908967,"reputation":13,"user_id":19633587,"display_name":"Seyed Ahamed Bilal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659167204,"creation_date":1659167204,"answer_id":73173812,"question_id":73147242,"body_markdown":"After commenting out below mentioned lines it&#39;s working as expected, \r\n\r\n\r\n    appearanceCharacteristics.setBorderColour(new PDColor(new float[] { 0.75f }, PDDeviceRGB.INSTANCE));\r\n    appearanceCharacteristics.setBackground(new PDColor(new float[] {0.75f }, PDDeviceRGB.INSTANCE));\r\n    PDColor backgroundColor = appearanceCharacteristics.getBackground();\r\n    PDColor borderColor = appearanceCharacteristics.getBorderColour();\r\n    yesAPCS.setNonStrokingColor(backgroundColor);\r\n    yesAPCS.fill();\r\n    yesAPCS.setStrokingColor(borderColor);\r\n    yesAPCS.stroke();\r\n    yesAPCS.setNonStrokingColor(0f);\r\n\r\nThanks for your kind support @Tilman Hausherr\r\n\r\n","title":"How to set border and fill as no color on checkbox appearanceStream using pdfbox 2","body":"<p>After commenting out below mentioned lines it's working as expected,</p>\n<pre><code>appearanceCharacteristics.setBorderColour(new PDColor(new float[] { 0.75f }, PDDeviceRGB.INSTANCE));\nappearanceCharacteristics.setBackground(new PDColor(new float[] {0.75f }, PDDeviceRGB.INSTANCE));\nPDColor backgroundColor = appearanceCharacteristics.getBackground();\nPDColor borderColor = appearanceCharacteristics.getBorderColour();\nyesAPCS.setNonStrokingColor(backgroundColor);\nyesAPCS.fill();\nyesAPCS.setStrokingColor(borderColor);\nyesAPCS.stroke();\nyesAPCS.setNonStrokingColor(0f);\n</code></pre>\n<p>Thanks for your kind support @Tilman Hausherr</p>\n"}],"owner":{"account_id":25908967,"reputation":13,"user_id":19633587,"display_name":"Seyed Ahamed Bilal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":419,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73173812,"answer_count":1,"score":0,"last_activity_date":1659167204,"creation_date":1658982057,"question_id":73147242,"body_markdown":"I want to change my background color and fill color of my checkboxes into no color option,\r\n\r\nHow to change it on below code, Tried with multiple combinations but saving the file with alternative colors. I am new to PDF Box. If I remove these two values my check box itself not loading on the PDF.\r\n\r\nKindly help me out for changing the property value into no color\r\n\r\nHere is my sample code,\r\n\r\n    private static void addCBField(PDDocument document, PDAcroForm acroForm, PDPage page, String name, boolean checked,\r\n\t\t\tfloat x, float y, float width, float height, String toolTip, List&lt;String&gt; exportList) {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tPDRectangle rect = new PDRectangle(x, y, width, height);\r\n\r\n\t\t\tPDCheckBox checkbox = new PDCheckBox(acroForm);\r\n\t\t\tcheckbox.setPartialName(name);\r\n\t\t\tPDAnnotationWidget widget = checkbox.getWidgets().get(0);\r\n\t\t\twidget.setPage(page);\r\n\t\t\twidget.setRectangle(rect);\r\n\t\t\twidget.setPrinted(true);\r\n\r\n\t\t\tPDAppearanceCharacteristicsDictionary appearanceCharacteristics = new PDAppearanceCharacteristicsDictionary(\r\n\t\t\t\t\tnew COSDictionary());\r\n\t\t\tappearanceCharacteristics.setBorderColour(new PDColor(new float[] { 1, 0, 0 }, PDDeviceRGB.INSTANCE));\r\n\t\t\tappearanceCharacteristics.setBackground(new PDColor(new float[] { 1, 1, 0 }, PDDeviceRGB.INSTANCE));\r\n\t\t\t// 8 = cross; 4 = checkmark; H = star; u = diamond; n = square, l = dot\r\n\t\t\tappearanceCharacteristics.setNormalCaption(&quot;4&quot;);\r\n\t\t\twidget.setAppearanceCharacteristics(appearanceCharacteristics);\r\n\r\n\t\t\t/*\r\n\t\t\t * PDBorderStyleDictionary borderStyleDictionary = new\r\n\t\t\t * PDBorderStyleDictionary(); borderStyleDictionary.setWidth(1);\r\n\t\t\t * borderStyleDictionary.setStyle(PDBorderStyleDictionary.STYLE_SOLID);\r\n\t\t\t * widget.setBorderStyle(borderStyleDictionary);\r\n\t\t\t */\r\n\r\n\t\t\tPDAppearanceDictionary ap = new PDAppearanceDictionary();\r\n\t\t\twidget.setAppearance(ap);\r\n\t\t\tPDAppearanceEntry normalAppearance = ap.getNormalAppearance();\r\n\r\n\t\t\tCOSDictionary normalAppearanceDict = (COSDictionary) normalAppearance.getCOSObject();\r\n\t\t\tnormalAppearanceDict.setItem(COSName.Off, createCheckBoxAppearanceStream(document, widget, false));\r\n\t\t\tnormalAppearanceDict.setItem(COSName.YES, createCheckBoxAppearanceStream(document, widget, true));\r\n\r\n\t\t\r\n\t\t\tpage.getAnnotations().add(checkbox.getWidgets().get(0));\r\n\t\t\tacroForm.getFields().add(checkbox);\r\n\r\n\t\t\tcheckbox.setAlternateFieldName(toolTip);\r\n\t\t\tcheckbox.setExportValues(exportList);\r\n\r\n\t\t\tif (checked) {\r\n\t\t\t\tcheckbox.check();\r\n\t\t\t} else {\r\n\t\t\t\tcheckbox.unCheck();\r\n\t\t\t}\r\n\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t}\r\n    private static PDAppearanceStream createCheckBoxAppearanceStream(final PDDocument document,\r\n\t\t\tPDAnnotationWidget widget, boolean on) throws IOException {\r\n\t\tPDRectangle rect = widget.getRectangle();\r\n\t\tPDAppearanceCharacteristicsDictionary appearanceCharacteristics;\r\n\t\tPDAppearanceStream yesAP = new PDAppearanceStream(document);\r\n\t\tyesAP.setBBox(new PDRectangle(rect.getWidth(), rect.getHeight()));\r\n\t\tyesAP.setResources(new PDResources());\r\n\t\tPDPageContentStream yesAPCS = new PDPageContentStream(document, yesAP);\r\n\t\tappearanceCharacteristics = widget.getAppearanceCharacteristics();\r\n\t\tPDColor backgroundColor = appearanceCharacteristics.getBackground();\r\n\t\tPDColor borderColor = appearanceCharacteristics.getBorderColour();\r\n\t\tfloat lineWidth = getLineWidth(widget);\r\n\t\tyesAPCS.setLineWidth(lineWidth); // border style (dash) ignored\r\n\t\tyesAPCS.setNonStrokingColor(backgroundColor);\r\n\t\tyesAPCS.addRect(0, 0, rect.getWidth(), rect.getHeight());\r\n\t\tyesAPCS.fill();\r\n\t\tyesAPCS.setStrokingColor(borderColor);\r\n\t\tyesAPCS.addRect(lineWidth / 2, lineWidth / 2, rect.getWidth() - lineWidth, rect.getHeight() - lineWidth);\r\n\t\tyesAPCS.stroke();\r\n\t\tif (!on) {\r\n\t\t\tyesAPCS.close();\r\n\t\t\treturn yesAP;\r\n\t\t}\r\n\r\n\t\tyesAPCS.addRect(lineWidth, lineWidth, rect.getWidth() - lineWidth * 2, rect.getHeight() - lineWidth * 2);\r\n\t\tyesAPCS.clip();\r\n\r\n\t\tString normalCaption = appearanceCharacteristics.getNormalCaption();\r\n\t\tif (normalCaption == null) {\r\n\t\t\tnormalCaption = &quot;4&quot;; // Adobe behaviour\r\n\t\t}\r\n\r\n\t\tif (&quot;8&quot;.equals(normalCaption)) {\r\n\t\t\t// Adobe paints a cross instead of using the Zapf Dingbats cross symbol\r\n\t\t\tyesAPCS.setStrokingColor(0f);\r\n\t\t\tyesAPCS.moveTo(lineWidth * 2, rect.getHeight() - lineWidth * 2);\r\n\t\t\tyesAPCS.lineTo(rect.getWidth() - lineWidth * 2, lineWidth * 2);\r\n\t\t\tyesAPCS.moveTo(rect.getWidth() - lineWidth * 2, rect.getHeight() - lineWidth * 2);\r\n\t\t\tyesAPCS.lineTo(lineWidth * 2, lineWidth * 2);\r\n\t\t\tyesAPCS.stroke();\r\n\t\t} else {\r\n\t\t\t// The caption is not unicode, but the Zapf Dingbats code in the PDF\r\n\t\t\t// Thus convert it back to unicode\r\n\t\t\t// Assume that only the first character is used.\r\n\t\t\tString name = PDType1Font.ZAPF_DINGBATS.codeToName(normalCaption.codePointAt(0));\r\n\t\t\tString unicode = PDType1Font.ZAPF_DINGBATS.getGlyphList().toUnicode(name);\r\n\t\t\tRectangle2D bounds = PDType1Font.ZAPF_DINGBATS.getPath(name).getBounds2D();\r\n\t\t\tfloat size = (float) Math.min(bounds.getWidth(), bounds.getHeight()) / 1000;\r\n\t\t\t// assume that checkmark has square size\r\n\t\t\t// the calculations approximate what Adobe is doing, i.e. put the glyph in the\r\n\t\t\t// middle\r\n\t\t\tfloat fontSize = (rect.getWidth() - lineWidth * 2) / size * 0.6666f;\r\n\t\t\tfloat xOffset = (float) (rect.getWidth() - (bounds.getWidth()) / 1000 * fontSize) / 2;\r\n\t\t\txOffset -= bounds.getX() / 1000 * fontSize;\r\n\t\t\tfloat yOffset = (float) (rect.getHeight() - (bounds.getHeight()) / 1000 * fontSize) / 2;\r\n\t\t\tyOffset -= bounds.getY() / 1000 * fontSize;\r\n\t\t\tyesAPCS.setNonStrokingColor(0f);\r\n\t\t\tyesAPCS.beginText();\r\n\t\t\tyesAPCS.setFont(PDType1Font.ZAPF_DINGBATS, fontSize);\r\n\t\t\tyesAPCS.newLineAtOffset(xOffset, yOffset);\r\n\t\t\tyesAPCS.showText(unicode);\r\n\t\t\tyesAPCS.endText();\r\n\t\t}\r\n\t\tyesAPCS.close();\r\n\t\treturn yesAP;\r\n\t}\r\n\r\n\tprivate static float getLineWidth(PDAnnotationWidget widget) {\r\n\r\n\t\tPDBorderStyleDictionary bs = widget.getBorderStyle();\r\n\t\tif (bs != null) {\r\n\t\t\treturn bs.getWidth();\r\n\t\t}\r\n\t\treturn 1;\r\n\t}\r\n\r\n  \r\n\r\n ","title":"How to set border and fill as no color on checkbox appearanceStream using pdfbox 2","body":"<p>I want to change my background color and fill color of my checkboxes into no color option,</p>\n<p>How to change it on below code, Tried with multiple combinations but saving the file with alternative colors. I am new to PDF Box. If I remove these two values my check box itself not loading on the PDF.</p>\n<p>Kindly help me out for changing the property value into no color</p>\n<p>Here is my sample code,</p>\n<pre><code>private static void addCBField(PDDocument document, PDAcroForm acroForm, PDPage page, String name, boolean checked,\n        float x, float y, float width, float height, String toolTip, List&lt;String&gt; exportList) {\n\n    try {\n\n        PDRectangle rect = new PDRectangle(x, y, width, height);\n\n        PDCheckBox checkbox = new PDCheckBox(acroForm);\n        checkbox.setPartialName(name);\n        PDAnnotationWidget widget = checkbox.getWidgets().get(0);\n        widget.setPage(page);\n        widget.setRectangle(rect);\n        widget.setPrinted(true);\n\n        PDAppearanceCharacteristicsDictionary appearanceCharacteristics = new PDAppearanceCharacteristicsDictionary(\n                new COSDictionary());\n        appearanceCharacteristics.setBorderColour(new PDColor(new float[] { 1, 0, 0 }, PDDeviceRGB.INSTANCE));\n        appearanceCharacteristics.setBackground(new PDColor(new float[] { 1, 1, 0 }, PDDeviceRGB.INSTANCE));\n        // 8 = cross; 4 = checkmark; H = star; u = diamond; n = square, l = dot\n        appearanceCharacteristics.setNormalCaption(&quot;4&quot;);\n        widget.setAppearanceCharacteristics(appearanceCharacteristics);\n\n        /*\n         * PDBorderStyleDictionary borderStyleDictionary = new\n         * PDBorderStyleDictionary(); borderStyleDictionary.setWidth(1);\n         * borderStyleDictionary.setStyle(PDBorderStyleDictionary.STYLE_SOLID);\n         * widget.setBorderStyle(borderStyleDictionary);\n         */\n\n        PDAppearanceDictionary ap = new PDAppearanceDictionary();\n        widget.setAppearance(ap);\n        PDAppearanceEntry normalAppearance = ap.getNormalAppearance();\n\n        COSDictionary normalAppearanceDict = (COSDictionary) normalAppearance.getCOSObject();\n        normalAppearanceDict.setItem(COSName.Off, createCheckBoxAppearanceStream(document, widget, false));\n        normalAppearanceDict.setItem(COSName.YES, createCheckBoxAppearanceStream(document, widget, true));\n\n    \n        page.getAnnotations().add(checkbox.getWidgets().get(0));\n        acroForm.getFields().add(checkbox);\n\n        checkbox.setAlternateFieldName(toolTip);\n        checkbox.setExportValues(exportList);\n\n        if (checked) {\n            checkbox.check();\n        } else {\n            checkbox.unCheck();\n        }\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n}\nprivate static PDAppearanceStream createCheckBoxAppearanceStream(final PDDocument document,\n        PDAnnotationWidget widget, boolean on) throws IOException {\n    PDRectangle rect = widget.getRectangle();\n    PDAppearanceCharacteristicsDictionary appearanceCharacteristics;\n    PDAppearanceStream yesAP = new PDAppearanceStream(document);\n    yesAP.setBBox(new PDRectangle(rect.getWidth(), rect.getHeight()));\n    yesAP.setResources(new PDResources());\n    PDPageContentStream yesAPCS = new PDPageContentStream(document, yesAP);\n    appearanceCharacteristics = widget.getAppearanceCharacteristics();\n    PDColor backgroundColor = appearanceCharacteristics.getBackground();\n    PDColor borderColor = appearanceCharacteristics.getBorderColour();\n    float lineWidth = getLineWidth(widget);\n    yesAPCS.setLineWidth(lineWidth); // border style (dash) ignored\n    yesAPCS.setNonStrokingColor(backgroundColor);\n    yesAPCS.addRect(0, 0, rect.getWidth(), rect.getHeight());\n    yesAPCS.fill();\n    yesAPCS.setStrokingColor(borderColor);\n    yesAPCS.addRect(lineWidth / 2, lineWidth / 2, rect.getWidth() - lineWidth, rect.getHeight() - lineWidth);\n    yesAPCS.stroke();\n    if (!on) {\n        yesAPCS.close();\n        return yesAP;\n    }\n\n    yesAPCS.addRect(lineWidth, lineWidth, rect.getWidth() - lineWidth * 2, rect.getHeight() - lineWidth * 2);\n    yesAPCS.clip();\n\n    String normalCaption = appearanceCharacteristics.getNormalCaption();\n    if (normalCaption == null) {\n        normalCaption = &quot;4&quot;; // Adobe behaviour\n    }\n\n    if (&quot;8&quot;.equals(normalCaption)) {\n        // Adobe paints a cross instead of using the Zapf Dingbats cross symbol\n        yesAPCS.setStrokingColor(0f);\n        yesAPCS.moveTo(lineWidth * 2, rect.getHeight() - lineWidth * 2);\n        yesAPCS.lineTo(rect.getWidth() - lineWidth * 2, lineWidth * 2);\n        yesAPCS.moveTo(rect.getWidth() - lineWidth * 2, rect.getHeight() - lineWidth * 2);\n        yesAPCS.lineTo(lineWidth * 2, lineWidth * 2);\n        yesAPCS.stroke();\n    } else {\n        // The caption is not unicode, but the Zapf Dingbats code in the PDF\n        // Thus convert it back to unicode\n        // Assume that only the first character is used.\n        String name = PDType1Font.ZAPF_DINGBATS.codeToName(normalCaption.codePointAt(0));\n        String unicode = PDType1Font.ZAPF_DINGBATS.getGlyphList().toUnicode(name);\n        Rectangle2D bounds = PDType1Font.ZAPF_DINGBATS.getPath(name).getBounds2D();\n        float size = (float) Math.min(bounds.getWidth(), bounds.getHeight()) / 1000;\n        // assume that checkmark has square size\n        // the calculations approximate what Adobe is doing, i.e. put the glyph in the\n        // middle\n        float fontSize = (rect.getWidth() - lineWidth * 2) / size * 0.6666f;\n        float xOffset = (float) (rect.getWidth() - (bounds.getWidth()) / 1000 * fontSize) / 2;\n        xOffset -= bounds.getX() / 1000 * fontSize;\n        float yOffset = (float) (rect.getHeight() - (bounds.getHeight()) / 1000 * fontSize) / 2;\n        yOffset -= bounds.getY() / 1000 * fontSize;\n        yesAPCS.setNonStrokingColor(0f);\n        yesAPCS.beginText();\n        yesAPCS.setFont(PDType1Font.ZAPF_DINGBATS, fontSize);\n        yesAPCS.newLineAtOffset(xOffset, yOffset);\n        yesAPCS.showText(unicode);\n        yesAPCS.endText();\n    }\n    yesAPCS.close();\n    return yesAP;\n}\n\nprivate static float getLineWidth(PDAnnotationWidget widget) {\n\n    PDBorderStyleDictionary bs = widget.getBorderStyle();\n    if (bs != null) {\n        return bs.getWidth();\n    }\n    return 1;\n}\n</code></pre>\n"},{"tags":["java","spring-integration","spring-integration-dsl","spring-resttemplate","spring-integration-http"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658945234,"creation_date":1658945234,"answer_id":73142716,"question_id":73142508,"body_markdown":"&gt; the &#39;errorHandler&#39; must be specified on the provided &#39;restTemplate&#39;\r\n\r\nIt&#39;s probably clearly states that such an error handler must be configured on the externally provided `RestTemplate`.\r\n\r\nWhen an `IOException` is thrown in the `RestTemplate`, that error handler is not invoked. See the source code of its `doExecute()` method:\r\n\r\n       ...\r\n\t\t\tresponse = request.execute();\r\n\t\t\thandleResponse(url, method, response);\r\n\t\t\treturn (responseExtractor != null ? responseExtractor.extractData(response) : null);\r\n\t\t}\r\n\t\tcatch (IOException ex) {\r\n\t\t\t...\r\n\t\t\tthrow new ResourceAccessException(&quot;I/O error on &quot; + method.name() +\r\n\t\t\t\t\t&quot; request for \\&quot;&quot; + resource + &quot;\\&quot;: &quot; + ex.getMessage(), ex);\r\n\r\nThis type of exceptions has to be handled around that HTTP Gateway call. \r\nSee if you can set a custom `errorChannel` header - `enrichHeaders()` and handle this error in the dedicated `IntegrationFlow`. Since you use an `ExecutorChannel`, the async error handling must have an effect.\r\n\r\nAnother way (and I recall as showed you before) is to use an `ExpressionEvaluatingRequestHandlerAdvice` on that `Http.outboundGateway()` endpoint.\r\nSee more in docs: https://docs.spring.io/spring-integration/reference/html/messaging-endpoints.html#message-handler-advice-chain\r\n\r\n","title":"How to handle ResourceAccessException in resttemplate using Spring integration","body":"<blockquote>\n<p>the 'errorHandler' must be specified on the provided 'restTemplate'</p>\n</blockquote>\n<p>It's probably clearly states that such an error handler must be configured on the externally provided <code>RestTemplate</code>.</p>\n<p>When an <code>IOException</code> is thrown in the <code>RestTemplate</code>, that error handler is not invoked. See the source code of its <code>doExecute()</code> method:</p>\n<pre><code>   ...\n        response = request.execute();\n        handleResponse(url, method, response);\n        return (responseExtractor != null ? responseExtractor.extractData(response) : null);\n    }\n    catch (IOException ex) {\n        ...\n        throw new ResourceAccessException(&quot;I/O error on &quot; + method.name() +\n                &quot; request for \\&quot;&quot; + resource + &quot;\\&quot;: &quot; + ex.getMessage(), ex);\n</code></pre>\n<p>This type of exceptions has to be handled around that HTTP Gateway call.\nSee if you can set a custom <code>errorChannel</code> header - <code>enrichHeaders()</code> and handle this error in the dedicated <code>IntegrationFlow</code>. Since you use an <code>ExecutorChannel</code>, the async error handling must have an effect.</p>\n<p>Another way (and I recall as showed you before) is to use an <code>ExpressionEvaluatingRequestHandlerAdvice</code> on that <code>Http.outboundGateway()</code> endpoint.\nSee more in docs: <a href=\"https://docs.spring.io/spring-integration/reference/html/messaging-endpoints.html#message-handler-advice-chain\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/reference/html/messaging-endpoints.html#message-handler-advice-chain</a></p>\n"}],"owner":{"account_id":25593085,"reputation":95,"user_id":19369457,"display_name":"Somnath Mukherjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4306,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73142716,"answer_count":1,"score":1,"last_activity_date":1659166481,"creation_date":1658944091,"question_id":73142508,"body_markdown":"Here I&#39;m using Spring integration&#39;s http outbound gateway to make a http call. I have also added timeout for the call. I have configured the timeout using restemplate. Here whenever it&#39;s taking more time then it&#39;s throwing an ResourceAccessException but I want to handle that exception and want to send proper msg to the user. Even though I&#39;m using a custom error handler but the exception is not getting handled by that. Below the code where I&#39;m using scatter gather pattern and flow2 is the http call where I want to handle the exception- \r\n\r\n    @Autowired private RestTemplateConfig resttemplateconfig.\r\n     @Bean\r\n      public IntegrationFlow mainFlow() {\r\n        return flow -&gt;\r\n            flow.split()\r\n                .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\r\n                .scatterGather(\r\n                    scatterer -&gt;\r\n                        scatterer\r\n                            .applySequence(true)\r\n                            .recipientFlow(flow1())\r\n                            .recipientFlow(flow2()),\r\n                    gatherer -&gt;\r\n                        gatherer\r\n                            .releaseLockBeforeSend(true)\r\n                            .releaseStrategy(group -&gt; group.size() == 1))\r\n                .aggregate()\r\n                .to(saveCDResponseToDB());\r\n      }\r\n    \r\n      @Bean\r\n      public IntegrationFlow flow2() {\r\n        return flow -&gt;\r\n            flow.channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\r\n                .handle(\r\n                    Http.outboundGateway(\r\n                            &quot;http://localhost:4444/test&quot;, resttemplateconfig.restTemplate())\r\n                        .extractPayload(true)\r\n                        .httpMethod(HttpMethod.POST)\r\n                        .expectedResponseType(String.class));\r\n      }\r\n\r\n\r\n//RestTemplateConfig - The Resttemplate Config class where I&#39;m setting the timeout and errorhandler.\r\n\r\n     @Configuration\r\n     public class RestTemplateConfig {\r\n      private final int TIMEOUT = (int) TimeUnit.SECONDS.toMillis(6);\r\n      @Autowired CustomErrorHandler errorHandler;\r\n    \r\n      @Bean\r\n      public RestTemplate restTemplate() {\r\n    \r\n        HttpComponentsClientHttpRequestFactory requestFactory =\r\n            new HttpComponentsClientHttpRequestFactory();\r\n        requestFactory.setConnectTimeout(TIMEOUT);\r\n        requestFactory.setReadTimeout(TIMEOUT);\r\n        RestTemplate restTemplate = new RestTemplate(requestFactory);\r\n        errorHandler.setMessageConverters(restTemplate.getMessageConverters());\r\n        restTemplate.setErrorHandler(errorHandler);\r\n        return restTemplate;\r\n      }\r\n     }\r\n\r\n//custom error handler\r\n\r\n    @Component\r\n    public class CustomServiceErrorHandler implements ResponseErrorHandler {\r\n      private List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters;\r\n    \r\n      @Override\r\n      public boolean hasError(ClientHttpResponse response) throws IOException {\r\n        return hasError(response.getStatusCode());\r\n      }\r\n    \r\n      protected boolean hasError(HttpStatus statusCode) {\r\n        return (statusCode.is4xxClientError() || statusCode.is5xxServerError());\r\n      }\r\n    \r\n      @Override\r\n      public void handleError(ClientHttpResponse httpResponse) throws IOException {\r\n    \r\n        if (httpResponse.getStatusCode().series() == SERVER_ERROR) {\r\n          // handle SERVER_ERROR\r\n          System.out.println(&quot;SERVER_ERROR&quot;);\r\n        } else if (httpResponse.getStatusCode().series() == CLIENT_ERROR) {\r\n          // handle CLIENT_ERROR\r\n          System.out.println(&quot;CLIENT_ERROR&quot;);\r\n        } else {\r\n          System.out.println(&quot;SOME_ERROR&quot;);\r\n        }\r\n      }\r\n    \r\n      public void setMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters) {\r\n        this.messageConverters = messageConverters;\r\n      }\r\n    }\r\n\r\nI&#39;m getting below error that I want to handle - \r\n\r\n    Caused by: org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;http://localhost:4444/test&quot;: Read timed out; nested exception is java.net.SocketTimeoutException: Read timed out\r\n\r\nIf I&#39;m adding `.errorHandler(new CustomErrorHandler())` in Http.outboundgateway then I&#39;m getting error saying - \r\n\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;flow2&#39; defined in class path resource [example/common/config/SpringIntegrationConfiguration.class]: Initialization of bean failed; nested exception is java.lang.RuntimeException: java.lang.IllegalArgumentException: the &#39;errorHandler&#39; must be specified on the provided &#39;restTemplate&#39;\r\n\r\n\r\n\r\n\r\n","title":"How to handle ResourceAccessException in resttemplate using Spring integration","body":"<p>Here I'm using Spring integration's http outbound gateway to make a http call. I have also added timeout for the call. I have configured the timeout using restemplate. Here whenever it's taking more time then it's throwing an ResourceAccessException but I want to handle that exception and want to send proper msg to the user. Even though I'm using a custom error handler but the exception is not getting handled by that. Below the code where I'm using scatter gather pattern and flow2 is the http call where I want to handle the exception-</p>\n<pre><code>@Autowired private RestTemplateConfig resttemplateconfig.\n @Bean\n  public IntegrationFlow mainFlow() {\n    return flow -&gt;\n        flow.split()\n            .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\n            .scatterGather(\n                scatterer -&gt;\n                    scatterer\n                        .applySequence(true)\n                        .recipientFlow(flow1())\n                        .recipientFlow(flow2()),\n                gatherer -&gt;\n                    gatherer\n                        .releaseLockBeforeSend(true)\n                        .releaseStrategy(group -&gt; group.size() == 1))\n            .aggregate()\n            .to(saveCDResponseToDB());\n  }\n\n  @Bean\n  public IntegrationFlow flow2() {\n    return flow -&gt;\n        flow.channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\n            .handle(\n                Http.outboundGateway(\n                        &quot;http://localhost:4444/test&quot;, resttemplateconfig.restTemplate())\n                    .extractPayload(true)\n                    .httpMethod(HttpMethod.POST)\n                    .expectedResponseType(String.class));\n  }\n</code></pre>\n<p>//RestTemplateConfig - The Resttemplate Config class where I'm setting the timeout and errorhandler.</p>\n<pre><code> @Configuration\n public class RestTemplateConfig {\n  private final int TIMEOUT = (int) TimeUnit.SECONDS.toMillis(6);\n  @Autowired CustomErrorHandler errorHandler;\n\n  @Bean\n  public RestTemplate restTemplate() {\n\n    HttpComponentsClientHttpRequestFactory requestFactory =\n        new HttpComponentsClientHttpRequestFactory();\n    requestFactory.setConnectTimeout(TIMEOUT);\n    requestFactory.setReadTimeout(TIMEOUT);\n    RestTemplate restTemplate = new RestTemplate(requestFactory);\n    errorHandler.setMessageConverters(restTemplate.getMessageConverters());\n    restTemplate.setErrorHandler(errorHandler);\n    return restTemplate;\n  }\n }\n</code></pre>\n<p>//custom error handler</p>\n<pre><code>@Component\npublic class CustomServiceErrorHandler implements ResponseErrorHandler {\n  private List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters;\n\n  @Override\n  public boolean hasError(ClientHttpResponse response) throws IOException {\n    return hasError(response.getStatusCode());\n  }\n\n  protected boolean hasError(HttpStatus statusCode) {\n    return (statusCode.is4xxClientError() || statusCode.is5xxServerError());\n  }\n\n  @Override\n  public void handleError(ClientHttpResponse httpResponse) throws IOException {\n\n    if (httpResponse.getStatusCode().series() == SERVER_ERROR) {\n      // handle SERVER_ERROR\n      System.out.println(&quot;SERVER_ERROR&quot;);\n    } else if (httpResponse.getStatusCode().series() == CLIENT_ERROR) {\n      // handle CLIENT_ERROR\n      System.out.println(&quot;CLIENT_ERROR&quot;);\n    } else {\n      System.out.println(&quot;SOME_ERROR&quot;);\n    }\n  }\n\n  public void setMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters) {\n    this.messageConverters = messageConverters;\n  }\n}\n</code></pre>\n<p>I'm getting below error that I want to handle -</p>\n<pre><code>Caused by: org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;http://localhost:4444/test&quot;: Read timed out; nested exception is java.net.SocketTimeoutException: Read timed out\n</code></pre>\n<p>If I'm adding <code>.errorHandler(new CustomErrorHandler())</code> in Http.outboundgateway then I'm getting error saying -</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flow2' defined in class path resource [example/common/config/SpringIntegrationConfiguration.class]: Initialization of bean failed; nested exception is java.lang.RuntimeException: java.lang.IllegalArgumentException: the 'errorHandler' must be specified on the provided 'restTemplate'\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1659164466,"post_id":73173508,"comment_id":129232379,"body_markdown":"Why do you need three nested loops?","body":"Why do you need three nested loops?"},{"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"score":0,"creation_date":1659164848,"post_id":73173508,"comment_id":129232436,"body_markdown":"Change your approach, sort the array and add pruning to optimize time cost.","body":"Change your approach, sort the array and add pruning to optimize time cost."}],"answers":[{"tags":[],"owner":{"account_id":22122534,"reputation":2776,"user_id":16375479,"display_name":"devReddit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659166192,"creation_date":1659166192,"answer_id":73173719,"question_id":73173508,"body_markdown":"Your code has a complexity of O(n^3).\r\n\r\nFrom your code and method name I assume the problem is about finding a triplet from a given array that sums closest to a given target. Your approach is greedy and usage of 3 nested loops here resulted into a costly time complexity. You can change your approach here to resolve this issue.\r\n\r\nWhat you can do is sort the array in ascending order and then use two-pointer approach to find the closest sum. This will reduce the time complexity to O(n^2).\r\n\r\nSee the approach in detail [here](https://www.baeldung.com/cs/find-three-elements-sum-array).\r\n\r\n \r\n","title":"Time Limit Exceeded in Leetcod","body":"<p>Your code has a complexity of O(n^3).</p>\n<p>From your code and method name I assume the problem is about finding a triplet from a given array that sums closest to a given target. Your approach is greedy and usage of 3 nested loops here resulted into a costly time complexity. You can change your approach here to resolve this issue.</p>\n<p>What you can do is sort the array in ascending order and then use two-pointer approach to find the closest sum. This will reduce the time complexity to O(n^2).</p>\n<p>See the approach in detail <a href=\"https://www.baeldung.com/cs/find-three-elements-sum-array\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":25733648,"reputation":35,"user_id":19488796,"display_name":"free premium"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1659166192,"creation_date":1659164126,"question_id":73173508,"body_markdown":"How can I optimise this code to be faster? I&#39;m practicing in the LeetCode and I think it&#39;s correct but I don&#39;t know for sure since it only passed 105 out of 160 test cases. \r\n\r\n\r\nShould I keep this code and optimise it or I need to change my thinking about solving this problem?\r\n\r\n\r\n```\r\nclass Solution {\r\n    public int threeSumClosest(int[] nums, int target) {        \r\n    //    int sum = 100;\r\n        int fin=0;\r\n        int com=0;\r\n        int w = nums[0]+nums[1]+nums[2];  \r\n        int n = Math.abs(target - w);\r\n        \r\n        if (nums.length == 3) {\r\n            return nums[0]+nums[1]+nums[2];  \r\n        }\r\n        \r\n        for (int i = 0; i &lt; nums.length; i++) {\r\n            for (int j = i+1; j &lt; nums.length; j++) {\r\n                for (int k = j+1; k &lt; nums.length; k++) {\r\n                    int z = nums[i] + nums[j] + nums[k];                     \r\n                    int p = Math.abs(target - z);\r\n                    if (p &lt; n || p == n) {\r\n                        n = p;\r\n                        fin = z;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return fin;\r\n    }\r\n}","title":"Time Limit Exceeded in Leetcod","body":"<p>How can I optimise this code to be faster? I'm practicing in the LeetCode and I think it's correct but I don't know for sure since it only passed 105 out of 160 test cases.</p>\n<p>Should I keep this code and optimise it or I need to change my thinking about solving this problem?</p>\n<pre><code>class Solution {\n    public int threeSumClosest(int[] nums, int target) {        \n    //    int sum = 100;\n        int fin=0;\n        int com=0;\n        int w = nums[0]+nums[1]+nums[2];  \n        int n = Math.abs(target - w);\n        \n        if (nums.length == 3) {\n            return nums[0]+nums[1]+nums[2];  \n        }\n        \n        for (int i = 0; i &lt; nums.length; i++) {\n            for (int j = i+1; j &lt; nums.length; j++) {\n                for (int k = j+1; k &lt; nums.length; k++) {\n                    int z = nums[i] + nums[j] + nums[k];                     \n                    int p = Math.abs(target - z);\n                    if (p &lt; n || p == n) {\n                        n = p;\n                        fin = z;\n                    }\n                }\n            }\n        }\n        return fin;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","video","exoplayer"],"answers":[{"tags":[],"owner":{"account_id":16500539,"reputation":11,"user_id":11921965,"display_name":"jyoti singla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627996238,"creation_date":1627996238,"answer_id":68636684,"question_id":68636626,"body_markdown":"Add this line in the proguard config file fixes the issue for me.\r\n\r\n    -keepnames class com.google.common.** { *; }\r\n\r\n\r\nVisit \r\n[google/guava#322][1] for more resources. \r\n\r\n  [1]: https://github.com/google/guava/issues/3227","title":"Exoplayer video support crashing the app in release build","body":"<p>Add this line in the proguard config file fixes the issue for me.</p>\n<pre><code>-keepnames class com.google.common.** { *; }\n</code></pre>\n<p>Visit\n<a href=\"https://github.com/google/guava/issues/3227\" rel=\"nofollow noreferrer\">google/guava#322</a> for more resources.</p>\n"},{"tags":[],"owner":{"account_id":18237592,"reputation":11,"user_id":13275240,"display_name":"sooryiamlate"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659165075,"creation_date":1659163098,"answer_id":73173420,"question_id":68636626,"body_markdown":"https://github.com/RenderHeads/UnityPlugin-AVProVideo/issues/580\r\n\r\n    android.enableDexingArtifactTransform=false\r\n\r\n    -keepnames class com.google.common.** { *; } ","title":"Exoplayer video support crashing the app in release build","body":"<p><a href=\"https://github.com/RenderHeads/UnityPlugin-AVProVideo/issues/580\" rel=\"nofollow noreferrer\">https://github.com/RenderHeads/UnityPlugin-AVProVideo/issues/580</a></p>\n<pre><code>android.enableDexingArtifactTransform=false\n\n-keepnames class com.google.common.** { *; } \n</code></pre>\n"}],"owner":{"account_id":16500539,"reputation":11,"user_id":11921965,"display_name":"jyoti singla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":986,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659165075,"creation_date":1627995954,"question_id":68636626,"body_markdown":"This crash occurs in playing the mp4 stream. Exoplayer version **12.2.0** . Android Run in debug mode - everything is fine. Run in release mode - app crashes\r\n\r\nFatal Exception: java.lang.AbstractMethodError: abstract method &quot;java.lang.Object com.google.a.a.c.a(java.lang.Object)&quot;\r\n\r\n```\r\n  --------- beginning of crash\r\n2021-02-10 12:52:49.385 4549-4645/? E/AndroidRuntime: FATAL EXCEPTION: ExoPlayer:Playback\r\n    Process: app.baff, PID: 4549\r\n    java.lang.AbstractMethodError: abstract method &quot;void com.google.android.exoplr2avp.extractor.TrackOutput.sampleData(com.google.android.exoplr2avp.util.ParsableByteArray, int)&quot;\r\n        at com.google.android.exoplr2avp.extractor.mp4.Mp4Extractor.readSample(Mp4Extractor.java:536)\r\n        at com.google.android.exoplr2avp.extractor.mp4.Mp4Extractor.read(Mp4Extractor.java:200)\r\n        at com.google.android.exoplr2avp.source.BundledExtractorsAdapter.read(BundledExtractorsAdapter.java:127)\r\n        at com.google.android.exoplr2avp.source.ProgressiveMediaPeriod$ExtractingLoadable.load(ProgressiveMediaPeriod.java:1046)\r\n        at com.google.android.exoplr2avp.upstream.Loader$LoadTask.run(Loader.java:415)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at java.lang.Thread.run(Thread.java:764)\r\n2021-02-10 12:52:49.385 4549-4649/? E/AndroidRuntime: FATAL EXCEPTION: Loader:ProgressiveMediaPeriod\r\n    Process: app.baff, PID: 4549\r\n    java.lang.AbstractMethodError: abstract method &quot;void com.google.android.exoplr2avp.extractor.TrackOutput.sampleData(com.google.android.exoplr2avp.util.ParsableByteArray, int)&quot;\r\n        at com.google.android.exoplr2avp.extractor.mp4.Mp4Extractor.readSample(Mp4Extractor.java:536)\r\n        at com.google.android.exoplr2avp.extractor.mp4.Mp4Extractor.read(Mp4Extractor.java:200)\r\n        at com.google.android.exoplr2avp.source.BundledExtractorsAdapter.read(BundledExtractorsAdapter.java:127)\r\n        at com.google.android.exoplr2avp.source.ProgressiveMediaPeriod$ExtractingLoadable.load(ProgressiveMediaPeriod.java:1046)\r\n        at com.google.android.exoplr2avp.upstream.Loader$LoadTask.run(Loader.java:415)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at java.lang.Thread.run(Thread.java:764)\r\n```","title":"Exoplayer video support crashing the app in release build","body":"<p>This crash occurs in playing the mp4 stream. Exoplayer version <strong>12.2.0</strong> . Android Run in debug mode - everything is fine. Run in release mode - app crashes</p>\n<p>Fatal Exception: java.lang.AbstractMethodError: abstract method &quot;java.lang.Object com.google.a.a.c.a(java.lang.Object)&quot;</p>\n<pre><code>  --------- beginning of crash\n2021-02-10 12:52:49.385 4549-4645/? E/AndroidRuntime: FATAL EXCEPTION: ExoPlayer:Playback\n    Process: app.baff, PID: 4549\n    java.lang.AbstractMethodError: abstract method &quot;void com.google.android.exoplr2avp.extractor.TrackOutput.sampleData(com.google.android.exoplr2avp.util.ParsableByteArray, int)&quot;\n        at com.google.android.exoplr2avp.extractor.mp4.Mp4Extractor.readSample(Mp4Extractor.java:536)\n        at com.google.android.exoplr2avp.extractor.mp4.Mp4Extractor.read(Mp4Extractor.java:200)\n        at com.google.android.exoplr2avp.source.BundledExtractorsAdapter.read(BundledExtractorsAdapter.java:127)\n        at com.google.android.exoplr2avp.source.ProgressiveMediaPeriod$ExtractingLoadable.load(ProgressiveMediaPeriod.java:1046)\n        at com.google.android.exoplr2avp.upstream.Loader$LoadTask.run(Loader.java:415)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:764)\n2021-02-10 12:52:49.385 4549-4649/? E/AndroidRuntime: FATAL EXCEPTION: Loader:ProgressiveMediaPeriod\n    Process: app.baff, PID: 4549\n    java.lang.AbstractMethodError: abstract method &quot;void com.google.android.exoplr2avp.extractor.TrackOutput.sampleData(com.google.android.exoplr2avp.util.ParsableByteArray, int)&quot;\n        at com.google.android.exoplr2avp.extractor.mp4.Mp4Extractor.readSample(Mp4Extractor.java:536)\n        at com.google.android.exoplr2avp.extractor.mp4.Mp4Extractor.read(Mp4Extractor.java:200)\n        at com.google.android.exoplr2avp.source.BundledExtractorsAdapter.read(BundledExtractorsAdapter.java:127)\n        at com.google.android.exoplr2avp.source.ProgressiveMediaPeriod$ExtractingLoadable.load(ProgressiveMediaPeriod.java:1046)\n        at com.google.android.exoplr2avp.upstream.Loader$LoadTask.run(Loader.java:415)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:764)\n</code></pre>\n"},{"tags":["java","android","android-fragments","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":9779900,"reputation":335,"user_id":7248394,"display_name":"Ankit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659161817,"creation_date":1659161817,"answer_id":73173314,"question_id":73171302,"body_markdown":"Here you don&#39;t need interface. you can directly pass the data to your fragment like this.\r\n   \r\n    \r\n        contrargument fragment = new contrargument()\r\n        Bundle args = new Bundle();\r\n        args.putString(&quot;argument&quot;, data.get(position).getArguments());\r\n        fragment.setArguments(args);\r\n        \r\n        FragmentManager fragmentManager;\r\n        FragmentTransaction fragmentTransaction;\r\n        fragmentManager = ((AppCompatActivity)context).getSupportFragmentManager();\r\n                                        fragmentTransaction = fragmentManager.beginTransaction();\r\n                                        fragmentTransaction.replace(R.id.container, fragment);\r\n\r\n\r\n\r\ninside your contrargument, get the sent argument inside onViewCreated of your fragment.\r\n\r\n    Bundle args = getArguments();\r\n    String argument = args.getString(&quot;argument&quot;);","title":"how to pass value from recyclerview to a fragment using interfaces in android studio","body":"<p>Here you don't need interface. you can directly pass the data to your fragment like this.</p>\n<pre><code>    contrargument fragment = new contrargument()\n    Bundle args = new Bundle();\n    args.putString(&quot;argument&quot;, data.get(position).getArguments());\n    fragment.setArguments(args);\n    \n    FragmentManager fragmentManager;\n    FragmentTransaction fragmentTransaction;\n    fragmentManager = ((AppCompatActivity)context).getSupportFragmentManager();\n                                    fragmentTransaction = fragmentManager.beginTransaction();\n                                    fragmentTransaction.replace(R.id.container, fragment);\n</code></pre>\n<p>inside your contrargument, get the sent argument inside onViewCreated of your fragment.</p>\n<pre><code>Bundle args = getArguments();\nString argument = args.getString(&quot;argument&quot;);\n</code></pre>\n"}],"owner":{"account_id":25288183,"reputation":37,"user_id":19114746,"display_name":"mauricio romero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659161817,"creation_date":1659131467,"question_id":73171302,"body_markdown":"I have an application to debate, for this I use java and xml. The application shows a list with the arguments that users add about a topic published in the app. When a user wants to argue, he clicks on an image view which displays an alertdialog asking if he really wants to counter. So far everything works perfectly, the problem comes when the user presses &#39;ok I want to counter&#39; (button inside the alert dialog), since when doing that it returns the following error: &quot;java .lang.NullPointerException: Attempt to invoke interface method &#39;void Fragments.sendArgument.sendArgument(java.lang.String)&#39; on a null object reference&quot;. I should send the argument as a parameter to another fragment to be displayed there in this new fragment. I am using interfaces to send the variable that stores the argument to another fragment. I leave you part of my code so that you can help me. Greetings\r\n\r\nrecyclerview\r\n```\r\npublic class adapterArguments extends RecyclerView.Adapter&lt;adapterArguments.ViewHolder&gt; {\r\n    private List&lt;ListArguments&gt; data;\r\n    private LayoutInflater inflater;\r\n    private Context context;\r\n    public String position_selected,argument;\r\n    public static String argument_aux;\r\n    private sendArgument sendArgument;\r\n\r\n\r\n\r\n    public adapterArguments(List&lt;ListArguments&gt; itemList, Context context,sendArgument argument) {\r\n        this.data = itemList;\r\n        this.inflater = LayoutInflater.from(context);\r\n        this.context = context;\r\n        this.sendArgument = argument;\r\n\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = inflater.inflate(R.layout.compontents_arguments_recyclerview,null);\r\n        return new adapterArguments.ViewHolder(view);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        holder.arguments.setText(data.get(position).getArguments());\r\n        holder.name_user.setText(data.get(position).getName_user());\r\n        holder.date.setText(data.get(position).getDate_arguments());\r\n        holder.position.setText(data.get(position).getPosition());\r\n        position_selected = holder.position.getText().toString();\r\n        if(position_selected.equals(&quot;A favor&quot;)){\r\n            holder.position.setBackgroundColor(Color.parseColor(&quot;#073FD7&quot;));\r\n        }\r\n        else{\r\n            holder.position.setBackgroundColor(Color.parseColor(&quot;#FC0C1E&quot;));\r\n        }\r\n        holder.addContrarguments.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                AlertDialog.Builder alertDialog = new AlertDialog.Builder(v.getContext());\r\n                alertDialog.setTitle(&quot;A&#241;adir un Contrargumento&quot;);\r\n                alertDialog.setMessage(&quot;&#191;Quieres a&#241;adir un contrargumento a este texto?&quot;);\r\n                alertDialog.setPositiveButton(&quot;Aceptar&quot;, new DialogInterface.OnClickListener() {\r\n                            public void onClick(DialogInterface dialog, int id) {\r\n                                argument = holder.arguments.getText().toString();\r\n                                sendArgument.sendArgument(argument);\r\n                                FragmentManager fragmentManager;\r\n                                FragmentTransaction fragmentTransaction;\r\n                                fragmentManager = ((AppCompatActivity)context).getSupportFragmentManager();\r\n                                fragmentTransaction = fragmentManager.beginTransaction();\r\n                                fragmentTransaction.replace(R.id.container, new contrargument());\r\n                                fragmentTransaction.addToBackStack(null);\r\n                                fragmentTransaction.commit();\r\n                            }\r\n                        });\r\n                alertDialog.setNegativeButton(&quot;Cancelar&quot;, new DialogInterface.OnClickListener() {\r\n                            public void onClick(DialogInterface dialog, int id) {\r\n\r\n                            }\r\n                        });\r\n                AlertDialog customAlertDialog = alertDialog.create();\r\n                customAlertDialog.show();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return data.size();\r\n    }\r\n\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        TextView arguments,name_user,date,position;\r\n        ImageButton addContrarguments;\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            arguments = itemView.findViewById(R.id.arguments_posted);\r\n            name_user = itemView.findViewById(R.id.name_arguments);\r\n\r\n```\r\n\r\nadapter\r\n\r\n```\r\npackage Fragments;\r\n\r\npublic interface sendArgument {\r\n    void sendArgument (String Argument);\r\n}\r\n\r\n```\r\n\r\nfragment\r\n\r\n```\r\npublic class contrargument extends Fragment implements sendArgument {\r\n    public String name_user_post_argument,argument_posted;\r\n    TextView text_contrarguent,argument,valoration_argument;\r\n    Button post_contrargument;\r\n    ImageView increace_valoration,decreace_valoration,back_fragment;\r\n    public int valoration;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n       View view = inflater.inflate(R.layout.fragment_contrargument, container, false);\r\n       argument = view.findViewById(R.id.text_argument);\r\n       text_contrarguent = view.findViewById(R.id.contrargument_post);\r\n       post_contrargument = view.findViewById(R.id.post_contrargumment);\r\n       name_user_post_argument = perfil_user.name_aux;\r\n       increace_valoration = view.findViewById(R.id.increace_valoration);\r\n       decreace_valoration = view.findViewById(R.id.decreace_valoration);\r\n       valoration_argument = view.findViewById(R.id.valoration_argument);\r\n       back_fragment = view.findViewById(R.id.returned);\r\n       valoration = 0;\r\n\r\n       increace_valoration.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                valoration = valoration + 1;\r\n                valoration_argument.setText(String.valueOf(valoration));\r\n            }\r\n        });\r\n        decreace_valoration.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if(valoration &gt; 0){\r\n                    valoration =   valoration - 1;\r\n                    valoration_argument.setText(String.valueOf(valoration));\r\n                }\r\n                else if (valoration == 0 ){\r\n                    valoration_argument.setText(String.valueOf(0));\r\n                }\r\n                else{\r\n                    //pass\r\n                }\r\n            }\r\n        });\r\n\r\n       return view;\r\n    }\r\n\r\n    @Override\r\n    public void sendArgument(String Argument) {\r\n        Toast.makeText(getActivity(), &quot;Got: &quot; + Argument, Toast.LENGTH_SHORT).show();\r\n    }\r\n}\r\n```","title":"how to pass value from recyclerview to a fragment using interfaces in android studio","body":"<p>I have an application to debate, for this I use java and xml. The application shows a list with the arguments that users add about a topic published in the app. When a user wants to argue, he clicks on an image view which displays an alertdialog asking if he really wants to counter. So far everything works perfectly, the problem comes when the user presses 'ok I want to counter' (button inside the alert dialog), since when doing that it returns the following error: &quot;java .lang.NullPointerException: Attempt to invoke interface method 'void Fragments.sendArgument.sendArgument(java.lang.String)' on a null object reference&quot;. I should send the argument as a parameter to another fragment to be displayed there in this new fragment. I am using interfaces to send the variable that stores the argument to another fragment. I leave you part of my code so that you can help me. Greetings</p>\n<p>recyclerview</p>\n<pre><code>public class adapterArguments extends RecyclerView.Adapter&lt;adapterArguments.ViewHolder&gt; {\n    private List&lt;ListArguments&gt; data;\n    private LayoutInflater inflater;\n    private Context context;\n    public String position_selected,argument;\n    public static String argument_aux;\n    private sendArgument sendArgument;\n\n\n\n    public adapterArguments(List&lt;ListArguments&gt; itemList, Context context,sendArgument argument) {\n        this.data = itemList;\n        this.inflater = LayoutInflater.from(context);\n        this.context = context;\n        this.sendArgument = argument;\n\n    }\n\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = inflater.inflate(R.layout.compontents_arguments_recyclerview,null);\n        return new adapterArguments.ViewHolder(view);\n    }\n\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        holder.arguments.setText(data.get(position).getArguments());\n        holder.name_user.setText(data.get(position).getName_user());\n        holder.date.setText(data.get(position).getDate_arguments());\n        holder.position.setText(data.get(position).getPosition());\n        position_selected = holder.position.getText().toString();\n        if(position_selected.equals(&quot;A favor&quot;)){\n            holder.position.setBackgroundColor(Color.parseColor(&quot;#073FD7&quot;));\n        }\n        else{\n            holder.position.setBackgroundColor(Color.parseColor(&quot;#FC0C1E&quot;));\n        }\n        holder.addContrarguments.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                AlertDialog.Builder alertDialog = new AlertDialog.Builder(v.getContext());\n                alertDialog.setTitle(&quot;Añadir un Contrargumento&quot;);\n                alertDialog.setMessage(&quot;¿Quieres añadir un contrargumento a este texto?&quot;);\n                alertDialog.setPositiveButton(&quot;Aceptar&quot;, new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog, int id) {\n                                argument = holder.arguments.getText().toString();\n                                sendArgument.sendArgument(argument);\n                                FragmentManager fragmentManager;\n                                FragmentTransaction fragmentTransaction;\n                                fragmentManager = ((AppCompatActivity)context).getSupportFragmentManager();\n                                fragmentTransaction = fragmentManager.beginTransaction();\n                                fragmentTransaction.replace(R.id.container, new contrargument());\n                                fragmentTransaction.addToBackStack(null);\n                                fragmentTransaction.commit();\n                            }\n                        });\n                alertDialog.setNegativeButton(&quot;Cancelar&quot;, new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog, int id) {\n\n                            }\n                        });\n                AlertDialog customAlertDialog = alertDialog.create();\n                customAlertDialog.show();\n            }\n        });\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return data.size();\n    }\n\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n        TextView arguments,name_user,date,position;\n        ImageButton addContrarguments;\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            arguments = itemView.findViewById(R.id.arguments_posted);\n            name_user = itemView.findViewById(R.id.name_arguments);\n\n</code></pre>\n<p>adapter</p>\n<pre><code>package Fragments;\n\npublic interface sendArgument {\n    void sendArgument (String Argument);\n}\n\n</code></pre>\n<p>fragment</p>\n<pre><code>public class contrargument extends Fragment implements sendArgument {\n    public String name_user_post_argument,argument_posted;\n    TextView text_contrarguent,argument,valoration_argument;\n    Button post_contrargument;\n    ImageView increace_valoration,decreace_valoration,back_fragment;\n    public int valoration;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n       View view = inflater.inflate(R.layout.fragment_contrargument, container, false);\n       argument = view.findViewById(R.id.text_argument);\n       text_contrarguent = view.findViewById(R.id.contrargument_post);\n       post_contrargument = view.findViewById(R.id.post_contrargumment);\n       name_user_post_argument = perfil_user.name_aux;\n       increace_valoration = view.findViewById(R.id.increace_valoration);\n       decreace_valoration = view.findViewById(R.id.decreace_valoration);\n       valoration_argument = view.findViewById(R.id.valoration_argument);\n       back_fragment = view.findViewById(R.id.returned);\n       valoration = 0;\n\n       increace_valoration.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                valoration = valoration + 1;\n                valoration_argument.setText(String.valueOf(valoration));\n            }\n        });\n        decreace_valoration.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if(valoration &gt; 0){\n                    valoration =   valoration - 1;\n                    valoration_argument.setText(String.valueOf(valoration));\n                }\n                else if (valoration == 0 ){\n                    valoration_argument.setText(String.valueOf(0));\n                }\n                else{\n                    //pass\n                }\n            }\n        });\n\n       return view;\n    }\n\n    @Override\n    public void sendArgument(String Argument) {\n        Toast.makeText(getActivity(), &quot;Got: &quot; + Argument, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n"},{"tags":["java","regex","performance","if-statement"],"comments":[{"owner":{"account_id":2603307,"reputation":88305,"user_id":2255089,"display_name":"Casimir et Hippolyte"},"score":0,"creation_date":1389381921,"post_id":21052674,"comment_id":31654235,"body_markdown":"Your DOTALL option is useless.","body":"Your DOTALL option is useless."},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1389382366,"post_id":21052674,"comment_id":31654494,"body_markdown":"Normal String comparison/index Of, ... is always faster than regex. Use regex when you have a pattern.","body":"Normal String comparison/index Of, ... is always faster than regex. Use regex when you have a pattern."},{"owner":{"account_id":1132283,"reputation":28517,"user_id":1118101,"accept_rate":89,"display_name":"theglauber"},"score":0,"creation_date":1389382368,"post_id":21052674,"comment_id":31654495,"body_markdown":"Make a short program running each a few times on a loop, and find out for sure, instead of relying on speculation.","body":"Make a short program running each a few times on a loop, and find out for sure, instead of relying on speculation."},{"owner":{"account_id":2898633,"reputation":191,"user_id":2485870,"display_name":"Arno Unkrig"},"score":1,"creation_date":1659160436,"post_id":21052674,"comment_id":129231909,"body_markdown":"There are two problems with the code: (A) The two code snippets are semantically different as the first checks for string *equality*, while the second checks whether the subject string *contains* the pattern. Then (B) the regex contains the three unnecessary parenthesis paird, which pose a (small) performance hit, because they declare „capturing groups“.","body":"There are two problems with the code: (A) The two code snippets are semantically different as the first checks for string <i>equality</i>, while the second checks whether the subject string <i>contains</i> the pattern. Then (B) the regex contains the three unnecessary parenthesis paird, which pose a (small) performance hit, because they declare „capturing groups“."}],"answers":[{"tags":[],"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"down_vote_count":1,"up_vote_count":20,"is_accepted":true,"score":19,"last_activity_date":1389382194,"creation_date":1389381780,"answer_id":21052707,"question_id":21052674,"body_markdown":"The first snippet will almost certainly be faster, since it doesn&#39;t have to parse a regular expression and perform a match against it. Another alternative is:\r\n\r\n    if (Arrays.asList(&quot;IMPRESSORA&quot;, &quot;PDF&quot;, &quot;AMBOS&quot;).contains(modoImpressao)\r\n\r\nwhich shouldn&#39;t differ speed-wise much from your first snippet, but is arguably more readable and concise.\r\n\r\nRegular expressions are great, but only use them when you *need* to. This situation definitely doesn&#39;t warrant the use of regexes; all you&#39;re doing is comparing against literal strings.\r\n\r\nThere&#39;s an old saying by Jamie Zawinski that goes like this:\r\n\r\n&gt;Some people, when confronted with a problem, think &quot;I know, I&#39;ll use regular expressions.&quot; Now they have two problems.","title":"What is faster, Regex or if compares - Java","body":"<p>The first snippet will almost certainly be faster, since it doesn't have to parse a regular expression and perform a match against it. Another alternative is:</p>\n\n<pre><code>if (Arrays.asList(\"IMPRESSORA\", \"PDF\", \"AMBOS\").contains(modoImpressao)\n</code></pre>\n\n<p>which shouldn't differ speed-wise much from your first snippet, but is arguably more readable and concise.</p>\n\n<p>Regular expressions are great, but only use them when you <em>need</em> to. This situation definitely doesn't warrant the use of regexes; all you're doing is comparing against literal strings.</p>\n\n<p>There's an old saying by Jamie Zawinski that goes like this:</p>\n\n<blockquote>\n  <p>Some people, when confronted with a problem, think \"I know, I'll use regular expressions.\" Now they have two problems.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1389383510,"creation_date":1389382709,"answer_id":21052975,"question_id":21052674,"body_markdown":"If you use the regular expression only one time, it’s likely to be slower, especially when you use `find` where you actually mean `matches` as in your question.\r\n\r\nWhen you keep the compiled `Pattern` and use it several times, it has the potential to be faster than multiple equals.\r\n\r\nThis, however, depends on the context. If all `String`s you are testing are literals and matches are more likely than fails, `String.equals` will be much faster as it circuits the test if the instances are the same.\r\n\r\n---\r\nThe fastest solution is to preselect based on an easy-to-check property of the candidate `String`s which is different for all `String`s, e.g. a `char` at a certain position or the `length`, and perform a single `equals` for the selected `String`. In your case both, the first character and the length are appropriate. In this case I prefer length as you have to check the length anyway before accessing a character to protect against empty `Strings`:\r\n\r\nThe preferred variant using `length`:\r\n\r\n    nomatch:\r\n    {\r\n      switch(modoImpressao.length())\r\n      {\r\n        case 3: if(modoImpressao.equals(&quot;PDF&quot;)) break nomatch; break;\r\n        case 5: if(modoImpressao.equals(&quot;AMBOS&quot;)) break nomatch; break;\r\n        case 10: if(modoImpressao.equals(&quot;IMPRESSORA&quot;)) break nomatch; break;\r\n      }\r\n      throw new EspdNeverStopParametroInvalidoException(\r\n        TspdConstMessages.IMPRIMIR_PARAMETRO_MODOIMPRESSAO_INVALIDO,\r\n        &quot;TspdImprimirNFCe&quot;);\r\n    }\r\n    // one of the three values matched\r\n\r\nThe variant using the first `char`:\r\n\r\n    nomatch:\r\n    {\r\n      if(modoImpressao.length()&gt;0) switch(modoImpressao.charAt(0))\r\n      {\r\n        case &#39;P&#39;: if(modoImpressao.equals(&quot;PDF&quot;)) break nomatch; break;\r\n        case &#39;A&#39;: if(modoImpressao.equals(&quot;AMBOS&quot;)) break nomatch; break;\r\n        case &#39;I&#39;: if(modoImpressao.equals(&quot;IMPRESSORA&quot;)) break nomatch; break;\r\n      }\r\n      throw new EspdNeverStopParametroInvalidoException(TspdConstMessages.IMPRIMIR_PARAMETRO_MODOIMPRESSAO_INVALIDO,&quot;TspdImprimirNFCe&quot;);\r\n    }\r\n    // one of the three values matched\r\n","title":"What is faster, Regex or if compares - Java","body":"<p>If you use the regular expression only one time, it’s likely to be slower, especially when you use <code>find</code> where you actually mean <code>matches</code> as in your question.</p>\n\n<p>When you keep the compiled <code>Pattern</code> and use it several times, it has the potential to be faster than multiple equals.</p>\n\n<p>This, however, depends on the context. If all <code>String</code>s you are testing are literals and matches are more likely than fails, <code>String.equals</code> will be much faster as it circuits the test if the instances are the same.</p>\n\n<hr>\n\n<p>The fastest solution is to preselect based on an easy-to-check property of the candidate <code>String</code>s which is different for all <code>String</code>s, e.g. a <code>char</code> at a certain position or the <code>length</code>, and perform a single <code>equals</code> for the selected <code>String</code>. In your case both, the first character and the length are appropriate. In this case I prefer length as you have to check the length anyway before accessing a character to protect against empty <code>Strings</code>:</p>\n\n<p>The preferred variant using <code>length</code>:</p>\n\n<pre><code>nomatch:\n{\n  switch(modoImpressao.length())\n  {\n    case 3: if(modoImpressao.equals(\"PDF\")) break nomatch; break;\n    case 5: if(modoImpressao.equals(\"AMBOS\")) break nomatch; break;\n    case 10: if(modoImpressao.equals(\"IMPRESSORA\")) break nomatch; break;\n  }\n  throw new EspdNeverStopParametroInvalidoException(\n    TspdConstMessages.IMPRIMIR_PARAMETRO_MODOIMPRESSAO_INVALIDO,\n    \"TspdImprimirNFCe\");\n}\n// one of the three values matched\n</code></pre>\n\n<p>The variant using the first <code>char</code>:</p>\n\n<pre><code>nomatch:\n{\n  if(modoImpressao.length()&gt;0) switch(modoImpressao.charAt(0))\n  {\n    case 'P': if(modoImpressao.equals(\"PDF\")) break nomatch; break;\n    case 'A': if(modoImpressao.equals(\"AMBOS\")) break nomatch; break;\n    case 'I': if(modoImpressao.equals(\"IMPRESSORA\")) break nomatch; break;\n  }\n  throw new EspdNeverStopParametroInvalidoException(TspdConstMessages.IMPRIMIR_PARAMETRO_MODOIMPRESSAO_INVALIDO,\"TspdImprimirNFCe\");\n}\n// one of the three values matched\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22517241,"reputation":21,"user_id":16711293,"display_name":"Thien Diep"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633566429,"creation_date":1633566429,"answer_id":69474059,"question_id":21052674,"body_markdown":"Regex is faster for large string than an if (perhaps in a for loops) to check if anything matches your requirement. \r\n\r\nIf you are using regex as to match very small text and small pattern and don&#39;t do it because the matcher function .find() is slower than a normal if statement of a switch statement.\r\n","title":"What is faster, Regex or if compares - Java","body":"<p>Regex is faster for large string than an if (perhaps in a for loops) to check if anything matches your requirement.</p>\n<p>If you are using regex as to match very small text and small pattern and don't do it because the matcher function .find() is slower than a normal if statement of a switch statement.</p>\n"},{"tags":[],"owner":{"account_id":2898633,"reputation":191,"user_id":2485870,"display_name":"Arno Unkrig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659160882,"creation_date":1659160882,"answer_id":73173237,"question_id":21052674,"body_markdown":"Starting with Java 7, you can use „string switches“, which are superfast because they’re based on the string’s hashes.","title":"What is faster, Regex or if compares - Java","body":"<p>Starting with Java 7, you can use „string switches“, which are superfast because they’re based on the string’s hashes.</p>\n"},{"tags":[],"owner":{"account_id":2898633,"reputation":191,"user_id":2485870,"display_name":"Arno Unkrig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659161670,"creation_date":1659161670,"answer_id":73173305,"question_id":21052674,"body_markdown":"If you want to *find* pattern strings, rather than checking for *equality* (like your second code snippet does), performance may benefit from advanced string finding algorithms like Boyer-Moore-Horspool. While not trivial to implement on your own, many regex libraries (including java.util.regex) have it built in, so the search with the regex may be (much) faster in this case.\r\n\r\nIf „find()” speed is your major concern, you may also look into github.com/aunkrig/lfr .","title":"What is faster, Regex or if compares - Java","body":"<p>If you want to <em>find</em> pattern strings, rather than checking for <em>equality</em> (like your second code snippet does), performance may benefit from advanced string finding algorithms like Boyer-Moore-Horspool. While not trivial to implement on your own, many regex libraries (including java.util.regex) have it built in, so the search with the regex may be (much) faster in this case.</p>\n<p>If „find()” speed is your major concern, you may also look into github.com/aunkrig/lfr .</p>\n"}],"owner":{"account_id":3619039,"reputation":293,"user_id":3018275,"accept_rate":60,"display_name":"Leonardo Galdioli"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9576,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":21052707,"answer_count":5,"score":12,"last_activity_date":1659161670,"creation_date":1389381688,"question_id":21052674,"body_markdown":"I have two possibilities, make a regex or make a if compare.\r\n\r\nIf Compares\r\n\r\n    if (!(modoImpressao.equals(&quot;IMPRESSORA&quot;) || \r\n       modoImpressao.equals(&quot;PDF&quot;) || modoImpressao.equals(&quot;AMBOS&quot;)))\r\n\r\nRegex Match\r\n\r\n    if (!Pattern.compile(&quot;(IMPRESSORA)|(PDF)|(AMBOS)&quot;,Pattern.DOTALL).matcher(modoImpressao).find()){\r\n    \t\t\tthrow new EspdNeverStopParametroInvalidoException(TspdConstMessages.IMPRIMIR_PARAMETRO_MODOIMPRESSAO_INVALIDO,&quot;TspdImprimirNFCe&quot;);\r\n    \t\t}\r\n\r\nwhich one is faster?","title":"What is faster, Regex or if compares - Java","body":"<p>I have two possibilities, make a regex or make a if compare.</p>\n\n<p>If Compares</p>\n\n<pre><code>if (!(modoImpressao.equals(\"IMPRESSORA\") || \n   modoImpressao.equals(\"PDF\") || modoImpressao.equals(\"AMBOS\")))\n</code></pre>\n\n<p>Regex Match</p>\n\n<pre><code>if (!Pattern.compile(\"(IMPRESSORA)|(PDF)|(AMBOS)\",Pattern.DOTALL).matcher(modoImpressao).find()){\n            throw new EspdNeverStopParametroInvalidoException(TspdConstMessages.IMPRIMIR_PARAMETRO_MODOIMPRESSAO_INVALIDO,\"TspdImprimirNFCe\");\n        }\n</code></pre>\n\n<p>which one is faster?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8846,"page":1146,"page_size":100}
